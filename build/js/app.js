(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({"/Users/cescwang/program/sil/SIL-frontend/app/app.js":[function(require,module,exports){
'use strict';

var _jquery = require('jquery');

var _jquery2 = _interopRequireDefault(_jquery);

var _angular = require('angular');

var _angular2 = _interopRequireDefault(_angular);

var _core = require('./core/core.module');

var _core2 = _interopRequireDefault(_core);

var _common = require('./common/common.module');

var _common2 = _interopRequireDefault(_common);

var _modules = require('./modules/modules.module');

var _modules2 = _interopRequireDefault(_modules);

require('./templates');

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

// window.$ = require('jquery');

_angular2.default.module('app', ['app.templates', _core2.default.name, _common2.default.name, _modules2.default.name]);

},{"./common/common.module":"/Users/cescwang/program/sil/SIL-frontend/app/common/common.module.js","./core/core.module":"/Users/cescwang/program/sil/SIL-frontend/app/core/core.module.js","./modules/modules.module":"/Users/cescwang/program/sil/SIL-frontend/app/modules/modules.module.js","./templates":"/Users/cescwang/program/sil/SIL-frontend/app/templates.js","angular":"angular","jquery":"jquery"}],"/Users/cescwang/program/sil/SIL-frontend/app/common/base/base.module.js":[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _angular = require('angular');

var _angular2 = _interopRequireDefault(_angular);

var _base = require('./base.service');

var _base2 = _interopRequireDefault(_base);

var _baseList = require('./baseList.controller');

var _baseList2 = _interopRequireDefault(_baseList);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

exports.default = _angular2.default.module('app.common.base', []).service('baseListCtrl', _baseList2.default).service('baseService', _base2.default);

},{"./base.service":"/Users/cescwang/program/sil/SIL-frontend/app/common/base/base.service.js","./baseList.controller":"/Users/cescwang/program/sil/SIL-frontend/app/common/base/baseList.controller.js","angular":"angular"}],"/Users/cescwang/program/sil/SIL-frontend/app/common/base/base.service.js":[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

var BaseService = function () {
  BaseService.$inject = ["$http", "httpHelper", "toastr"];
  function BaseService($http, httpHelper, toastr) {
    'ngInject';

    _classCallCheck(this, BaseService);

    this.$http = $http;
    this.httpHelper = httpHelper;
    this.toastr = toastr;

    this.urlPrefix = {
      // old
      //old: '/api/old/',

      // old group
      //group: '/api/group/'
    };
  }

  _createClass(BaseService, [{
    key: '_init',
    value: function _init() {

      this.baseInfo = window.pageConf.adminData;
    }
  }, {
    key: 'fetch',
    value: function fetch(type, method) {
      var params = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};


      return this._RESTfulFactory('get', type, method, params);
    }
  }, {
    key: 'fetchList',
    value: function fetchList(type, params) {

      return this.fetch(type, 'list', params);
    }
  }, {
    key: 'edit',
    value: function edit(type, id) {
      var params = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};


      return this._RESTfulFactory('put', type, id, params);
    }
  }, {
    key: 'add',
    value: function add(type, method) {
      var params = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};


      return this._RESTfulFactory('post', type, method, params);
    }
  }, {
    key: 'delete',
    value: function _delete(type, method) {
      var params = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};


      return this._RESTfulFactory('delete', type, method, params);
    }

    // Deprecated

  }, {
    key: 'getDetail',
    value: function getDetail(type, data) {

      this.httpHelper.blockUI.start();

      //this.fetch(type, 'list', params);

      console.log(type);
      var url = this.urlPrefix[type] + 'id';
      return this.$http.get(url).then(this.httpHelper.verify, this.httpHelper.error);
    }

    /**
     * RESTful http request factory function
     */

  }, {
    key: '_RESTfulFactory',
    value: function _RESTfulFactory(verb, type, method, params) {

      this.httpHelper.blockUI.start();

      var paramsName = ['post', 'put'].indexOf(verb) > -1 ? 'data' : 'params';

      return this.$http[verb](this._getUrl(type, method), _defineProperty({}, paramsName, params)).then(this.httpHelper.verify, this.httpHelper.error);
    }

    // TODO
    // fetchSearchList() {
    //   return $http.get('/api/old/searchOld', {params: data || {}}).then(httpHelper.verify,  httpHelper.error);
    // }

  }, {
    key: '_getUrl',
    value: function _getUrl(type, method) {

      return this.urlPrefix[type] ? this.urlPrefix[type] + '/' + method : '/api/' + type + '/' + method;
    }
  }, {
    key: 'notify',
    value: function notify(message) {
      var _this = this;

      var type = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'success';


      return function () {
        _this.toastr[type](message);
      };
    }
  }]);

  return BaseService;
}();

exports.default = BaseService;

},{}],"/Users/cescwang/program/sil/SIL-frontend/app/common/base/baseList.controller.js":[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

var BaseListCtrl = function () {
  function BaseListCtrl($injector, config) {
    _classCallCheck(this, BaseListCtrl);

    this.$stateParams = $injector.get('$stateParams');
    this.$location = $injector.get('$location');
    this.httpHelper = $injector.get('httpHelper');
    this.AreaService = $injector.get('AreaService');
    this.AppSettings = $injector.get('AppSettings');

    //this.xxx = $injector.get('xxx');

    this.areaList = this.AreaService.getList();
    this.statusList = this.AppSettings.statusList; // 状态
    this.oldTypeList = this.AppSettings.oldTypeList;
    this.oldStatusList = this.AppSettings.oldStatusList;
    this.pagination = this.AppSettings.pagination; // 分页

    this.filters = angular.extend({
      page: 1
    }, this.$stateParams, config.filters);
  }

  /**
   * 需在子Controller中调用此方法。
   * 若要重载此方法，应在重载方法中先调用super._init()
   *
   * opts: 参数配置
   *   numberKeys(Array): 来自url的请求参数将被从字符串转为整数
   */


  _createClass(BaseListCtrl, [{
    key: '_init',
    value: function _init(opts) {

      this.httpHelper.blockUI.start();

      if (!this._assertInvoke('_getParams', 'searchFun')) return;

      // 获取搜索参数
      this._getParams(opts);

      // 请求数据
      this.searchFun();
    }

    // 根据参数重新查询

  }, {
    key: 'reSearch',
    value: function reSearch() {

      this.$location.search(angular.merge({}, this.filters, {
        page: 1 // 改变状态后页码重置为1
      }));
    }

    /**
     * 分页事件（刷新页面，并根据请求参数重新筛选）
     */

  }, {
    key: 'pageChanged',
    value: function pageChanged() {
      this.$location.search(this.filters);
    }

    /**
     * 过滤掉空值请求参数（null, undefined等）
     * TODO: 以opts形式提供, 或放到baseService中
     */

  }, {
    key: 'filterNullFilter',
    value: function filterNullFilter(filters) {

      var tempFilter = angular.copy(filters);
      for (var i in tempFilter) {
        if (!tempFilter[i]) {
          delete tempFilter[i];
        }
      }

      return tempFilter;
    }
  }, {
    key: 'clearKeywordFilter',
    value: function clearKeywordFilter(data) {

      this.toggleFilter(angular.extend(data, {
        searchCol: null,
        searchType: null,
        keyword: null
      }));
    }
  }, {
    key: 'toggleFilter',
    value: function toggleFilter(filter) {

      this._setParams(filter, true);
    }

    /**
     * 设置查询参数到Controller
     *   data(Object): 查询参数
     *   isAutoRefresh(Boolean): 是否自动刷新页面
     */

  }, {
    key: '_setParams',
    value: function _setParams(data, isAutoRefresh) {

      for (var i in data) {
        if (this.filters[i] == data[i]) {
          this.filters[i] = undefined;
        } else {
          this.filters[i] = data[i];
        }
      }

      if (isAutoRefresh) this.reSearch();
    }

    /**
     * 从$stateParams中获取查询参数
     */

  }, {
    key: '_getParams',
    value: function _getParams(opts) {

      if (!opts) return;

      for (var i in this.filters) {
        if (this.$stateParams[i]) {
          this.filters[i] = opts.numberKeys.includes(i) ? +this.$stateParams[i] : this.$stateParams[i];
        }
      }
    }
  }, {
    key: 'remove',
    value: function remove(type, id, index) {

      var that = this;

      this.sweet.show({
        title: '确认删除这条数据吗？',
        showCancelButton: true,
        confirmButtonColor: "#DD6B55",
        confirmButtonText: "确定",
        cancelButtonText: "取消",
        closeOnConfirm: true,
        imageUrl: '/dist/images/common/warning.png'
      }, function (sure) {
        if (sure) {
          // this.operationService.remove(type, id).then(function( res ){
          //     toastr.success('操作已完成！', '提示');
          //     that.list.splice(index,1);
          // });
        } else {
          return;
        }
      });
    }
  }, {
    key: '_assertInvoke',
    value: function _assertInvoke() {
      var _this = this;

      var success = true;

      for (var _len = arguments.length, funcs = Array(_len), _key = 0; _key < _len; _key++) {
        funcs[_key] = arguments[_key];
      }

      funcs.forEach(function (func) {
        if (!_this[func]) {
          console.warn('There is no invoke ' + func + '() in controller');
          success = false;
          return;
        }
      });
      return success;
    }
  }]);

  return BaseListCtrl;
}();

exports.default = BaseListCtrl;

},{}],"/Users/cescwang/program/sil/SIL-frontend/app/common/common.module.js":[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _angular = require('angular');

var _angular2 = _interopRequireDefault(_angular);

var _base = require('./base/base.module');

var _base2 = _interopRequireDefault(_base);

var _components = require('./components/components.module');

var _components2 = _interopRequireDefault(_components);

var _directives = require('./directives/directives.module');

var _directives2 = _interopRequireDefault(_directives);

var _services = require('./services/services.module');

var _services2 = _interopRequireDefault(_services);

var _filters = require('./filters/filters.module');

var _filters2 = _interopRequireDefault(_filters);

var _regExpRule = require('./constants/regExpRule');

var _regExpRule2 = _interopRequireDefault(_regExpRule);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

exports.default = _angular2.default.module('app.common', [_base2.default.name, _components2.default.name, _services2.default.name, _directives2.default.name, _filters2.default.name]).constant('mcRegExp', _regExpRule2.default);

},{"./base/base.module":"/Users/cescwang/program/sil/SIL-frontend/app/common/base/base.module.js","./components/components.module":"/Users/cescwang/program/sil/SIL-frontend/app/common/components/components.module.js","./constants/regExpRule":"/Users/cescwang/program/sil/SIL-frontend/app/common/constants/regExpRule.js","./directives/directives.module":"/Users/cescwang/program/sil/SIL-frontend/app/common/directives/directives.module.js","./filters/filters.module":"/Users/cescwang/program/sil/SIL-frontend/app/common/filters/filters.module.js","./services/services.module":"/Users/cescwang/program/sil/SIL-frontend/app/common/services/services.module.js","angular":"angular"}],"/Users/cescwang/program/sil/SIL-frontend/app/common/components/back-top/back-top.js":[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
    value: true
});

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

var BackTopController = function BackTopController($scope, element, attrs, $window) {
    'ngInject';

    _classCallCheck(this, BackTopController);

    var $win = angular.element($window),
        $ele = angular.element(element);

    $win.scroll(function () {
        if ($win.scrollTop() <= 0) {
            $ele.fadeOut();
        } else {
            $ele.fadeIn();
        }
    });

    $ele.on('click', function () {
        $('html, body').animate({ scrollTop: 0 }, 'fast');
    });
};
BackTopController.$inject = ["$scope", "element", "attrs", "$window"];

var backTop = exports.backTop = {
    templateUrl: 'common/components/backTop/backTop.html',
    controller: BackTopController,
    bindings: {}
};

},{}],"/Users/cescwang/program/sil/SIL-frontend/app/common/components/components.module.js":[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _angular = require('angular');

var _angular2 = _interopRequireDefault(_angular);

var _backTop = require('./back-top/back-top');

var _inlineNav = require('./inline-nav');

var _inlineNav2 = _interopRequireDefault(_inlineNav);

var _mcStep = require('./mc-step');

var _mcStep2 = _interopRequireDefault(_mcStep);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

exports.default = _angular2.default.module('app.common.components', []).component('backTop', _backTop.backTop).component('inlineNav', _inlineNav2.default).component('mcStep', _mcStep2.default);

;

},{"./back-top/back-top":"/Users/cescwang/program/sil/SIL-frontend/app/common/components/back-top/back-top.js","./inline-nav":"/Users/cescwang/program/sil/SIL-frontend/app/common/components/inline-nav/index.js","./mc-step":"/Users/cescwang/program/sil/SIL-frontend/app/common/components/mc-step/index.js","angular":"angular"}],"/Users/cescwang/program/sil/SIL-frontend/app/common/components/inline-nav/index.js":[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _inlineNav = require('./inline-nav.ctrl');

var _inlineNav2 = _interopRequireDefault(_inlineNav);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var inlineNav = {
  templateUrl: 'common/components/inline-nav/inline-nav.html',
  controller: _inlineNav2.default,
  bindings: {
    navList: '<',
    btnList: '<',
    alias: '@',
    backBtn: '<'
  }
};

exports.default = inlineNav;

},{"./inline-nav.ctrl":"/Users/cescwang/program/sil/SIL-frontend/app/common/components/inline-nav/inline-nav.ctrl.js"}],"/Users/cescwang/program/sil/SIL-frontend/app/common/components/inline-nav/inline-nav.ctrl.js":[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

var InlineNavController = function () {
  InlineNavController.$inject = ["$state", "$injector", "$resolve", "$scope"];
  function InlineNavController($state, $injector, $resolve, $scope) {
    'ngInject';

    var _this = this;

    _classCallCheck(this, InlineNavController);

    this.resolveObject = $scope.$parent.$resolve;

    if (this.alias && this.resolveObject[this.alias]) {
      this.extraInfo = this.resolveObject[this.alias];
    }
    // this.extraInfo = $injector.get(this.alias);

    //console.log($state.get());
    //console.log(this.navList);

    if (this.btnList) this.btnListBackup = [].concat(_toConsumableArray(this.btnList));
    if (this.navList) this.navListBackup = [].concat(_toConsumableArray(this.navList));

    $scope.$watch('$ctrl.extraInfo._initTag', function () {
      _this._init();
    });
  }

  _createClass(InlineNavController, [{
    key: '_init',
    value: function _init() {
      var _this2 = this;

      if (this.navListBackup) {
        this.navList = this.navListBackup.filter(function (item) {
          return _this2._filterHandle(item);
        });
      }
      if (this.btnListBackup && this.btnListBackup.length) {
        this.btnList = this.btnListBackup.filter(function (item) {
          return _this2._filterHandle(item);
        });
      }
    }
  }, {
    key: '_filterHandle',
    value: function _filterHandle(item) {
      if (item.expession) {
        if (this.extraInfo && Object.keys(this.extraInfo).length > 1) {
          return this.handleExp(this.extraInfo, item.expession);
        } else {
          return false;
        }
      }

      return true;
    }
  }, {
    key: 'handleExp',
    value: function handleExp(obj, exp) {

      var handler = new Function('with(' + JSON.stringify(obj) + '){return ' + exp + '}');

      return handler();
    }
  }, {
    key: 'handleClick',
    value: function handleClick(item, e) {
      if (item.clickExpession) {
        if (this.extraInfo && Object.keys(this.extraInfo).length > 1) {
          if (this.handleExp(this.extraInfo, item.clickExpession)) {
            item.clickHandler && item.clickHandler();

            e.preventDefault();
            return false;
          }
        } else {
          return true;
        }
      }

      return true;
    }
  }]);

  return InlineNavController;
}();

exports.default = InlineNavController;

},{}],"/Users/cescwang/program/sil/SIL-frontend/app/common/components/mc-step/ctrl.js":[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

var mcStepController = function mcStepController() {
  'ngInject';

  _classCallCheck(this, mcStepController);
};

exports.default = mcStepController;

},{}],"/Users/cescwang/program/sil/SIL-frontend/app/common/components/mc-step/index.js":[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _ctrl = require('./ctrl');

var _ctrl2 = _interopRequireDefault(_ctrl);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var mcStep = {
  templateUrl: 'common/components/mc-step/template.html',
  controller: _ctrl2.default,
  controllerAs: 'vm',
  bindings: {
    stepList: '=',
    currentStep: '='
  }
};

exports.default = mcStep;

},{"./ctrl":"/Users/cescwang/program/sil/SIL-frontend/app/common/components/mc-step/ctrl.js"}],"/Users/cescwang/program/sil/SIL-frontend/app/common/constants/regExpRule.js":[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
    value: true
});
var expression = exports.expression = {
    required: function required(value) {
        return !!value;
    },
    requiredIfNeed: function requiredIfNeed(value, scope, element, attrs, param) {
        var obj = scope.$parent;
        var expression = param.split('|');
        // var arr = expression[0].split('.');
        var bool, determination;

        if (expression.length != 3 || !expression[0] || !/^(\s+)?[!=><]+(\s+)?$/.test(expression[1])) {
            return true;
        }

        //简化实现
        determination = new Function('return this && this.' + expression[0]).call(obj);

        bool = new Function('return ' + determination + expression[1] + expression[2])();

        if (bool) {
            return !!value;
        } else {
            return true;
        }
    },
    notNull: function notNull(value) {
        if (value || value === 0) {
            return true;
        }
        return false;
    },
    notBlank: function notBlank(val) {
        if (val === '') return false;else return true;
    },
    url: /((([A-Za-z]{3,9}:(?:\/\/)?)(?:[-;:&=\+\$,\w]+@)?[A-Za-z0-9.-]+|(?:www.|[-;:&=\+\$,\w]+@)[A-Za-z0-9.-]+)((?:\/[\+~%\/.\w-_]*)?\??(?:[-\+=&;%@.\w_]*)#?(?:[\w]*))?)/,
    email: /^([\w-\.]+)@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.)|(([\w-]+\.)+))([a-zA-Z]{2,4}|[0-9]{1,3})(\]?)$/,
    number: function number(val) {
        if (val === '' || /\s/g.test(val)) return true;
        return (/^\d+$/.test(val)
        );
    },
    // 手机
    mobile: function mobile(val) {
        // 需要以这种方法写, 不然当它为空值时也会进行验证
        return val ? /^(13|14|15|17|18)\d{9}$/i.test(val) : true;
    },
    // 座机 (999)99999999 或 999-99999999 或 99999999999
    tel: /^((\(\d{2,3}\))|(\d{3}\-)|(\d{3}))?(\(0\d{2,3}\)|0\d{2,3}-)?[1-9]\d{6,7}(\-\d{1,4})?$/i,
    telOrMobile: function telOrMobile(value) {
        // 相同支持手机和座机
        return expression.mobile(value) || expression.tel.test(value);
    },
    noSpace: function noSpace(value, scope, element) {
        // angular-validation对文本夫域传来的值作了trim截取, 所以无法直接获知值的首尾是包含空格
        return !/\w*\s+\w*/g.test(element.val());
    },
    float: /^[-+]?[0-9]*\.?[0-9]+$/,
    minlength: function minlength(value, scope, element, attrs, param) {
        return value.length >= param;
    },
    maxlength: function maxlength(value, scope, element, attrs, param) {
        return value.length <= param;
    },
    min: function min(value, scope, element, attrs, param) {
        return parseFloat(value) >= parseFloat(param);
    },
    minNotEqual: function minNotEqual(value, scope, element, attrs, param) {
        return parseFloat(value) > parseFloat(param);
    },
    max: function max(value, scope, element, attrs, param) {
        return parseFloat(value) <= parseFloat(param);
    },
    range: function range(value, scope, element, attrs, param) {
        // 此处有坑，在判断并列条件的时候，会出现误判，故都转成数字在对比
        var arr = param.split('|');
        value = parseFloat(value);
        return value >= parseFloat(arr[0]) && value <= parseFloat(arr[1]);
    },
    cert: /^(\d{15}$|^\d{18}$|^\d{17}(\d|X|x))$/,
    displayCode: function displayCode(value) {
        if (value == "") {
            return true;
        }
        return !!(value.length == 4);
    },
    identity: function identity(str) {

        if (!str) {
            return true;
        }

        str = $.trim(str).toString();

        var transformatIdFrom15To18 = function transformatIdFrom15To18(idCardNo) {
            var v = new Array(2, 4, 8, 5, 10, 9, 7, 3, 6, 1, 2, 4, 8, 5, 10, 9, 7);
            var vs = "10X98765432";
            if (idCardNo == null || idCardNo.length != 15) {
                return "";
            }
            // 将15位的号码转换位17位
            var cardID17 = idCardNo.substring(0, 6) + "19" + idCardNo.substring(6);
            var N = 0;
            var R = -1;
            var T = '0'; // 储存最后一个数字
            var j = 0;
            var cardID18 = "";
            // 计数出第18位数字
            for (var i = 16; i >= 0; i--) {
                N += parseInt(cardID17.substring(i, i + 1)) * v[j];
                j++;
            }
            R = N % 11;
            T = vs.charAt(R);
            cardID18 = cardID17 + T;
            return cardID18;
        };

        if (str.length == 15) {
            str = transformatIdFrom15To18(str);
        }

        var iSum = 0,
            sId = str,
            aCity = {
            11: "北京", 12: "天津", 13: "河北", 14: "山西", 15: "内蒙古",
            21: "辽宁", 22: "吉林", 23: "黑龙江", 31: "上海", 32: "江苏",
            33: "浙江", 34: "安徽", 35: "福建", 36: "江西", 37: "山东",
            41: "河南", 42: "湖北", 43: "湖南", 44: "广东", 45: "广西",
            46: "海南", 50: "重庆", 51: "四川", 52: "贵州", 53: "云南",
            54: "西藏", 61: "陕西", 62: "甘肃", 63: "青海", 64: "宁夏",
            65: "新疆", 71: "台湾", 81: "香港", 82: "澳门", 91: "国外"
        };
        if (!/^\d{17}(\d|x)$/i.test(sId)) {
            return false;
        }
        sId = sId.replace(/x$/i, "a");
        //非法地区
        if (aCity[parseInt(sId.substr(0, 2), 10)] == null) {
            return false;
        }
        var sBirthday = sId.substr(6, 4) + "-" + Number(sId.substr(10, 2)) + "-" + Number(sId.substr(12, 2)),
            d = new Date(sBirthday.replace(/-/g, "/"));
        //非法生日
        if (sBirthday != d.getFullYear() + "-" + (d.getMonth() + 1) + "-" + d.getDate()) {
            return false;
        }
        for (var i = 17; i >= 0; i--) {
            iSum += Math.pow(2, i) % 11 * parseInt(sId.charAt(17 - i), 11);
        }
        if (iSum % 11 != 1) {
            return false;
        }
        return true;
    },
    relation: function relation(value) {
        return !!(value == 0 || value == 1 || value == 2 || value == 3);
    },
    account: /^[a-z|A-z|0-9|_]+$/,
    chinese: /^[\u4E00-\u9FA5]+$/,
    nonUnicode: function nonUnicode(value) {
        return !/[\u4E00-\u9FA5]|[\uFE30-\uFFA0]/gi.test(value);
    },
    digitalLetter: function digitalLetter(val) {
        if (val === '') return true;
        return (/^[A-Za-z0-9]+$/.test(val)
        );
    },
    decimalLimit: function decimalLimit(value, scope, element, attrs, param) {
        var reg = eval('/^\\d+(\\.\\d{1,' + param + '})?$/');
        return reg.test(value);
    },
    accountPwd: /^\S{6,20}$/,
    discount: function discount(val) {
        if (val == 10) {
            return true;
        }
        return (/^\d(\.\d)?$/.test(val)
        );
    }
};

var defaultMsg = exports.defaultMsg = {
    required: {
        error: '该项为必填项!',
        success: ' '
    },
    requiredIfNeed: {
        error: '该项为必填项!',
        success: ' '
    },
    notNull: {
        error: '该项为必填项!',
        success: ' '
    },
    url: {
        error: 'url格式不正确！',
        success: ' '
    },
    email: {
        error: 'email格式不正确！',
        success: ' '
    },
    number: {
        error: '数字格式不正确！',
        success: ' '
    },
    float: {
        error: '小数格式不正确！',
        success: ' '
    },
    minlength: {
        error: '内容长度不够！',
        success: ' '
    },
    maxlength: {
        error: '内容长度过长！',
        success: ' '
    },
    min: {
        error: '您的输入值小了',
        success: ' '
    },
    minNotEqual: {
        error: '您的输入值小了',
        success: ' '
    },
    max: {
        error: '您的输入值大了！',
        success: ' '
    },
    range: {
        error: '输入范围有误！',
        success: ' '
    },
    cert: {
        error: '身份证格式不对！',
        success: ' '
    },
    displayCode: {
        error: '手环编码为四位',
        success: ' '
    },
    identity: {
        error: '身份证格式不对！',
        success: ' '
    },
    relation: {
        error: '请选择亲属关系',
        success: ' '
    },
    mobile: {
        error: '手机格式不正确',
        success: ' '
    },
    telOrMobile: {
        error: '手机或座机号码不正确',
        success: ' '
    },
    noSpace: {
        error: '不能填写空白字符',
        success: ' '
    },
    account: {
        error: '格式只能输入字母数字下划线',
        success: ' '
    },
    chinese: {
        error: '请输入中文',
        success: ' '
    },
    nonUnicode: {
        error: '不能包含中文字符',
        success: ' '
    },
    digitalLetter: {
        error: '只能是数字或字母',
        success: ' '
    },
    notBlank: {
        error: '该项为必填项',
        success: ' '
    },
    decimalLimit: {
        error: '小数位数过长！',
        success: ' '
    },
    accountPwd: {
        error: '密码为6-20位字符',
        success: ''
    },
    discount: {
        error: '小数格式不正确!'
    }
};

},{}],"/Users/cescwang/program/sil/SIL-frontend/app/common/directives/directives.module.js":[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _angular = require('angular');

var _angular2 = _interopRequireDefault(_angular);

var _imgLazyLoad = require('./imgLazyLoad.directive');

var _imgLazyLoad2 = _interopRequireDefault(_imgLazyLoad);

var _keyEvent = require('./keyEvent.directive');

var _keyEvent2 = _interopRequireDefault(_keyEvent);

var _formEditable = require('./form-editable');

var _formEditable2 = _interopRequireDefault(_formEditable);

var _filterList = require('./filter-list');

var _filterList2 = _interopRequireDefault(_filterList);

var _resizable = require('./resizable.directive');

var _resizable2 = _interopRequireDefault(_resizable);

var _emptyTip = require('./emptyTip.directive');

var _emptyTip2 = _interopRequireDefault(_emptyTip);

var _mcBatchUploadVc = require('./mcBatchUploadVc');

var _mcBatchUploadVc2 = _interopRequireDefault(_mcBatchUploadVc);

var _mcBatchUploadUser = require('./mcBatchUploadUser');

var _mcBatchUploadUser2 = _interopRequireDefault(_mcBatchUploadUser);

var _mcBatchUploadBank = require('./mcBatchUploadBank');

var _mcBatchUploadBank2 = _interopRequireDefault(_mcBatchUploadBank);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

exports.default = _angular2.default.module('app.common.directives', [
  // echarts.name
]).directive('imgLazyLoad', _imgLazyLoad2.default).directive('keyEvent', _keyEvent2.default).directive('formEditable', _formEditable2.default).directive('filterList', _filterList2.default).directive('resizable', _resizable2.default).directive('emptyTip', _emptyTip2.default).directive('mcBatchUploadVc', _mcBatchUploadVc2.default).directive('mcBatchUploadUser', _mcBatchUploadUser2.default).directive('mcBatchUploadBank', _mcBatchUploadBank2.default);
// import echarts         from './echarts';

},{"./emptyTip.directive":"/Users/cescwang/program/sil/SIL-frontend/app/common/directives/emptyTip.directive.js","./filter-list":"/Users/cescwang/program/sil/SIL-frontend/app/common/directives/filter-list/index.js","./form-editable":"/Users/cescwang/program/sil/SIL-frontend/app/common/directives/form-editable/index.js","./imgLazyLoad.directive":"/Users/cescwang/program/sil/SIL-frontend/app/common/directives/imgLazyLoad.directive.js","./keyEvent.directive":"/Users/cescwang/program/sil/SIL-frontend/app/common/directives/keyEvent.directive.js","./mcBatchUploadBank":"/Users/cescwang/program/sil/SIL-frontend/app/common/directives/mcBatchUploadBank/index.js","./mcBatchUploadUser":"/Users/cescwang/program/sil/SIL-frontend/app/common/directives/mcBatchUploadUser/index.js","./mcBatchUploadVc":"/Users/cescwang/program/sil/SIL-frontend/app/common/directives/mcBatchUploadVc/index.js","./resizable.directive":"/Users/cescwang/program/sil/SIL-frontend/app/common/directives/resizable.directive.js","angular":"angular"}],"/Users/cescwang/program/sil/SIL-frontend/app/common/directives/emptyTip.directive.js":[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.default = emptyListTipDirective;
/**
 * @description 当列表没有数据时，显示提示
 */
function emptyListTipDirective() {
    return {
        restrict: 'EA',
        template: '<div class="row text-center text-muted" style="padding: 50px 0;">{{message}}</div>',
        replace: true,
        link: function link(scope, element, attrs) {
            scope.message = attrs.message || '暂无数据 :-( ';
        }
    };
}

},{}],"/Users/cescwang/program/sil/SIL-frontend/app/common/directives/filter-list/index.js":[function(require,module,exports){
'use strict';

FilterListDirective.$inject = ["$parse"];
Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = FilterListDirective;
/**
 * 列表页面的分类过滤
 */
function FilterListDirective($parse) {
  'ngInject';

  return {
    restrict: 'EA',
    scope: {
      list: '=',
      filters: '=',
      title: '@',
      ctrlName: '@',
      filterKey: '@',
      itemName: '@',
      itemId: '@',
      clazz: '@'
    },
    templateUrl: 'common/directives/filter-list/filter-list.html',
    replace: true,
    link: function postLink(scope, element, attrs) {

      var listCtrl = scope.$parent[scope.ctrlName || '$ctrl'];

      scope.clearKeywordFilter = function (val) {
        var params = {};
        params[scope.filterKey] = val;

        listCtrl.clearKeywordFilter.bind(listCtrl, params)();
      };
    }
  };
}

},{}],"/Users/cescwang/program/sil/SIL-frontend/app/common/directives/form-editable/form-editable.ctrl.js":[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = FormEditableController;
function FormEditableController() {
  'ngInject';

  this.base = {
    $show: function $show() {
      if (this.$visible) {
        return;
      }

      this.$visible = true;
    },

    $hide: function $hide() {
      if (!this.$visible) {
        return;
      }
      this.$visible = false;
    },

    $cancel: function $cancel() {
      if (!this.$visible) {
        return;
      }

      // self hide
      this.$hide();
    },

    $submit: function $submit() {

      this.$onaftersave();
    }

  };

  return angular.extend({
    $visible: false,
    $waiting: false
  }, this.base);
}

},{}],"/Users/cescwang/program/sil/SIL-frontend/app/common/directives/form-editable/index.js":[function(require,module,exports){
'use strict';

FormEditable.$inject = ["$parse"];
Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = FormEditable;

var _formEditable = require('./form-editable.ctrl');

var _formEditable2 = _interopRequireDefault(_formEditable);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function FormEditable($parse) {
  'ngInject';

  return {
    restrict: 'A',
    require: ['form', 'formEditable'],
    controller: _formEditable2.default,
    compile: function compile() {
      return {
        pre: function pre(scope, elem, attrs, ctrl) {
          var form = ctrl[0],
              submitBtn = angular.element(elem).find('[type=submit]');

          angular.extend(form, ctrl[1]);

          //console.log(form);
        },

        post: function post(scope, elem, attrs, ctrl) {
          var eForm = ctrl[1];
          //console.log(eForm)

          // onbeforesave, onaftersave
          if (!attrs.ngSubmit && !attrs.submit) {

            if (attrs.onaftersave) {
              eForm.$onaftersave = function () {
                return $parse(attrs.onaftersave)(scope, { $data: eForm.$data });
              };
            }

            elem.bind('submit', function (event) {
              console.log('submit');
              event.preventDefault();
              scope.$apply(function () {
                eForm.$submit();
              });
            });
          }
        }
      };
    }
  };
}

},{"./form-editable.ctrl":"/Users/cescwang/program/sil/SIL-frontend/app/common/directives/form-editable/form-editable.ctrl.js"}],"/Users/cescwang/program/sil/SIL-frontend/app/common/directives/imgLazyLoad.directive.js":[function(require,module,exports){
'use strict';

imgLazyLoad.$inject = ["imgPreLoadService", "$timeout"];
Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = imgLazyLoad;
/**
 * @description 如果原图加载失败，则加载默认图片
 * @example
 * <img img-lazy-load avatar-id="{{item.avatar}}" class="avatar"/>
 */
function imgLazyLoad(imgPreLoadService, $timeout) {
  'ngInject';

  return {
    restrict: 'A',
    scope: {
      avatar: '@',
      avatarId: '@'
    },
    link: function link(scope, element, attrs) {

      var baseUrl = 'http://static.maimai100.cn/avatar/';

      if (scope.avatar) {
        scope.$watch('avatar', function (val) {
          return setUrl(val);
        });
      } else if (scope.avatarId) {
        scope.$watch('avatarId', function (val) {
          return setUrl(baseUrl + val);
        });
      } else {
        setUrl(attrs.default);
      }

      function setUrl(url) {
        if (!url || url === baseUrl) return;

        imgPreLoadService(url).then(function () {
          $timeout(function () {
            $(element).attr('src', '/dist/images/common/blank.gif').css({
              'background-image': 'url("' + url + '")',
              'background-size': 'cover'
            });
            $(element).fadeIn();
          });
        }, function (err) {
          $(element).css({
            'background-image': 'url("http://static.maimai100.cn/avatar/man.png")',
            'background-size': 'cover'
          });
        });
      }
    }
  };
}

},{}],"/Users/cescwang/program/sil/SIL-frontend/app/common/directives/keyEvent.directive.js":[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = keyEvent;
/**
 * @description 键盘事件监听和执行
 * @property {Number} code 所敲击的某个键的keyCode, 如果要监听回车键，设置为13即可
 * @example
 * <input ng-model="keyword" type="text" code="13" key-event="searchByKeyword(keyword);">
 */
function keyEvent() {

  return {
    restrict: 'A',
    link: function link($scope, $element, $attrs) {
      $element.bind('keypress', function (event) {
        var keyCode = event.which || event.keyCode;

        if (keyCode == $attrs.code) {
          $scope.$apply(function () {
            return $scope.$eval($attrs.keyEvent, { $event: event });
          });

          event.preventDefault();
        }
      });
    }
  };
}

},{}],"/Users/cescwang/program/sil/SIL-frontend/app/common/directives/mcBatchUploadBank/index.js":[function(require,module,exports){
'use strict';

batchUploadDevice.$inject = ["$uibModal", "$parse", "$timeout"];
batchUploadFileCtrl.$inject = ["$location", "$uibModal", "$uibModalInstance", "$rootScope", "$scope", "$state", "$timeout", "ApiMap", "toastr", "options"];
ErrorListCtrl.$inject = ["$uibModalInstance", "info"];
Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.default = batchUploadDevice;
function batchUploadDevice($uibModal, $parse, $timeout) {
    'ngInject';

    return {
        restrict: 'EA',
        template: '<div class="hide"></div>',
        //replace: true,
        link: function link(scope, element, attrs) {

            var unbind = scope.$on("batchUploadBank", function (event) {
                var _options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};

                Dropzone.autoDiscover = false;

                $uibModal.open({
                    animation: true,
                    templateUrl: 'common/directives/mcBatchUploadBank/template.html',
                    controller: batchUploadFileCtrl,
                    controllerAs: 'vm',
                    size: "",
                    resolve: {
                        options: function options() {
                            return _options;
                        }
                    }
                }).result.then(function () {}, function () {});
            });
            scope.$on('$destroy', unbind);
        }
    };
}

function batchUploadFileCtrl($location, $uibModal, $uibModalInstance, $rootScope, $scope, $state, $timeout, ApiMap, toastr, options) {
    'ngInject';

    var vm = this;

    var id = '',
        params = '';

    vm.download_url = ApiMap.bank.downloadTemplate;

    var url = ApiMap.bank.import;

    angular.extend(vm, {
        uploadFile: uploadFile,
        //pensionArea: window.pageConf.areaList,
        //pensionInfo: window.pageConf.pensionInfo,
        dropzoneConfig: {
            paramName: options.paramName || 'file',
            headers: { extra: $rootScope.AUTHORIZATION_TOKEN },
            url: url,
            method: 'post',
            maxFilesize: 50,
            maxFiles: 2,
            dictFileTooBig: '文件大小不能超过50M',
            uploadMultiple: false,
            autoProcessQueue: true,
            acceptedFiles: 'application/vnd.ms-excel, application/vnd.openxmlformats-officedocument.spreadsheetml.sheet',
            addedfile: function addedfile(file) {
                $('#upload_button').attr('disabled', 'disabled').text('上传中');
            },
            success: function success(file, data) {
                $rootScope.imgUploadng = false;
                this.removeFile(file);
                $('#upload_button').removeAttr('disabled').text('上传');

                console.log(data);
                if (data.code == 0) {
                    if (data.data.errors.length > 0) {
                        // toastr.error(data.data);
                        vm.errorList = data.data.errors;
                        showErrorList(data.data);
                        // $modalInstance.close();
                    } else {
                        toastr.success('添加成功');
                    }

                    if (data.data.successCount > 0) {
                        $state.reload();
                    }
                } else {
                    toastr.error(data.info);
                }

                $uibModalInstance.close();
            }
        },
        errorList: null
    });

    function showErrorList(data) {
        $uibModal.open({
            animation: true,
            templateUrl: 'common/directives/mcBatchUploadBank/error.html',
            controller: ErrorListCtrl,
            controllerAs: 'vm',
            size: "",
            resolve: {
                info: function info() {
                    return data;
                }
            }
        }).result.then(function () {}, function () {});
    }

    // 触发上传
    function uploadFile(e) {
        e.preventDefault();
        $timeout(function () {
            $(e.target).siblings('.dropzone').trigger('click');
        });
    }
}

function ErrorListCtrl($uibModalInstance, info) {
    'ngInject';

    var error = info.errors;
    if (error) {
        error = error.filter(function (item) {
            return item.data[0] !== null;
        });
    } else {
        error = [];
    }

    this.errorList = error;
    this.count = info.successCount;

    this.cancel = function () {
        $uibModalInstance.close();
    };
}

},{}],"/Users/cescwang/program/sil/SIL-frontend/app/common/directives/mcBatchUploadUser/index.js":[function(require,module,exports){
'use strict';

batchUploadDevice.$inject = ["$uibModal", "$parse", "$timeout"];
batchUploadFileCtrl.$inject = ["$location", "$uibModal", "$uibModalInstance", "$rootScope", "$scope", "$state", "$timeout", "ApiMap", "toastr", "options"];
ErrorListCtrl.$inject = ["$uibModalInstance", "info"];
Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.default = batchUploadDevice;
function batchUploadDevice($uibModal, $parse, $timeout) {
    'ngInject';

    return {
        restrict: 'EA',
        template: '<div class="hide"></div>',
        //replace: true,
        link: function link(scope, element, attrs) {

            var unbind = scope.$on("batchUploadUser", function (event) {
                var _options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};

                Dropzone.autoDiscover = false;

                $uibModal.open({
                    animation: true,
                    templateUrl: 'common/directives/mcBatchUploadUser/template.html',
                    controller: batchUploadFileCtrl,
                    controllerAs: 'vm',
                    size: "",
                    resolve: {
                        options: function options() {
                            return _options;
                        }
                    }
                }).result.then(function () {}, function () {});
            });
            scope.$on('$destroy', unbind);
        }
    };
}

function batchUploadFileCtrl($location, $uibModal, $uibModalInstance, $rootScope, $scope, $state, $timeout, ApiMap, toastr, options) {
    'ngInject';

    var vm = this;

    var id = '',
        params = '';

    vm.download_url = ApiMap.account.downloadTemplate;

    var url = ApiMap.account.import;

    angular.extend(vm, {
        uploadFile: uploadFile,
        //pensionArea: window.pageConf.areaList,
        //pensionInfo: window.pageConf.pensionInfo,
        dropzoneConfig: {
            paramName: options.paramName || 'file',
            headers: { extra: $rootScope.AUTHORIZATION_TOKEN },
            url: url,
            method: 'post',
            maxFilesize: 50,
            maxFiles: 2,
            dictFileTooBig: '文件大小不能超过50M',
            uploadMultiple: false,
            autoProcessQueue: true,
            acceptedFiles: 'application/vnd.ms-excel, application/vnd.openxmlformats-officedocument.spreadsheetml.sheet',
            addedfile: function addedfile(file) {
                $('#upload_button').attr('disabled', 'disabled').text('上传中');
            },
            success: function success(file, data) {
                $rootScope.imgUploadng = false;
                this.removeFile(file);
                $('#upload_button').removeAttr('disabled').text('上传');

                console.log(data);
                if (data.code == 0) {
                    if (data.data.errors.length > 0) {
                        // toastr.error(data.data);
                        vm.errorList = data.data.errors;
                        showErrorList(data.data);
                    } else {
                        toastr.success('添加成功');
                        $state.reload();
                    }
                } else {
                    toastr.error(data.info);
                }

                //$modalInstance.close();
            }
        }
    });

    function showErrorList(data) {
        $uibModal.open({
            animation: true,
            templateUrl: 'common/directives/mcBatchUploadUser/error.html',
            controller: ErrorListCtrl,
            controllerAs: 'vm',
            size: "",
            resolve: {
                info: function info() {
                    return data;
                }
            }
        }).result.then(function () {}, function () {});
    }

    // 触发上传
    function uploadFile(e) {
        e.preventDefault();
        $timeout(function () {
            $(e.target).siblings('.dropzone').trigger('click');
        });
    }
}

function ErrorListCtrl($uibModalInstance, info) {
    'ngInject';

    var error = info.errors;
    if (error) {
        error = error.filter(function (item) {
            return item.data[0] !== null;
        });
    } else {
        error = [];
    }

    this.errorList = error;
    this.count = info.successCount;

    this.cancel = function () {
        $uibModalInstance.close();
    };
}

},{}],"/Users/cescwang/program/sil/SIL-frontend/app/common/directives/mcBatchUploadVc/index.js":[function(require,module,exports){
'use strict';

batchUploadDevice.$inject = ["$uibModal", "$parse", "$timeout"];
batchUploadFileCtrl.$inject = ["$location", "$uibModal", "$uibModalInstance", "$rootScope", "$scope", "$state", "$timeout", "ApiMap", "toastr", "options"];
ErrorListCtrl.$inject = ["$uibModalInstance", "info"];
Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.default = batchUploadDevice;
function batchUploadDevice($uibModal, $parse, $timeout) {
    'ngInject';

    return {
        restrict: 'EA',
        template: '<div class="hide"></div>',
        //replace: true,
        link: function link(scope, element, attrs) {

            var unbind = scope.$on("batchUploadVc", function (event) {
                var _options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};

                Dropzone.autoDiscover = false;

                $uibModal.open({
                    animation: true,
                    templateUrl: 'common/directives/mcBatchUploadVc/template.html',
                    controller: batchUploadFileCtrl,
                    controllerAs: 'vm',
                    size: "",
                    resolve: {
                        options: function options() {
                            return _options;
                        }
                    }
                }).result.then(function () {}, function () {});
            });
            scope.$on('$destroy', unbind);
        }
    };
}

function batchUploadFileCtrl($location, $uibModal, $uibModalInstance, $rootScope, $scope, $state, $timeout, ApiMap, toastr, options) {
    'ngInject';

    var vm = this;

    var id = '',
        params = '';

    vm.download_url = ApiMap.investment.downloadTemplate;

    var url = ApiMap.investment.import;

    angular.extend(vm, {
        uploadFile: uploadFile,
        //pensionArea: window.pageConf.areaList,
        //pensionInfo: window.pageConf.pensionInfo,
        dropzoneConfig: {
            paramName: options.paramName || 'file',
            headers: { extra: $rootScope.AUTHORIZATION_TOKEN },
            url: url,
            method: 'post',
            maxFilesize: 50,
            maxFiles: 2,
            dictFileTooBig: '文件大小不能超过50M',
            uploadMultiple: false,
            autoProcessQueue: true,
            acceptedFiles: 'application/vnd.ms-excel, application/vnd.openxmlformats-officedocument.spreadsheetml.sheet',
            addedfile: function addedfile(file) {
                $('#upload_button').attr('disabled', 'disabled').text('上传中');
            },
            success: function success(file, data) {
                $rootScope.imgUploadng = false;
                this.removeFile(file);
                $('#upload_button').removeAttr('disabled').text('上传');

                console.log(data);
                if (data.code == 0) {
                    if (data.data.errors.length > 0) {
                        // toastr.error(data.data);
                        vm.errorList = data.data.errors;
                        showErrorList(data.data);
                        // $modalInstance.close();
                    } else {
                        toastr.success('添加成功');
                    }

                    if (data.data.successCount > 0) {
                        $state.reload();
                    }
                } else {
                    toastr.error(data.info);
                }

                $uibModalInstance.close();
            }
        },
        errorList: null
    });

    function showErrorList(data) {
        $uibModal.open({
            animation: true,
            templateUrl: 'common/directives/mcBatchUploadVc/error.html',
            controller: ErrorListCtrl,
            controllerAs: 'vm',
            size: "",
            resolve: {
                info: function info() {
                    return data;
                }
            }
        }).result.then(function () {}, function () {});
    }

    // 触发上传
    function uploadFile(e) {
        e.preventDefault();
        $timeout(function () {
            $(e.target).siblings('.dropzone').trigger('click');
        });
    }
}

function ErrorListCtrl($uibModalInstance, info) {
    'ngInject';

    var error = info.errors;
    if (error) {
        error = error.filter(function (item) {
            return item.data[0] !== null;
        });
    } else {
        error = [];
    }

    this.errorList = error;
    this.count = info.successCount;

    this.cancel = function () {
        $uibModalInstance.close();
    };
}

},{}],"/Users/cescwang/program/sil/SIL-frontend/app/common/directives/resizable.directive.js":[function(require,module,exports){
'use strict';

resizable.$inject = ["$window", "$parse"];
Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = resizable;
/**
 * 让指定元素自适应
 * 参数:
 *  subWidth:
 *  parent: （可选）是否向上查找target指定的元素。依赖target属性。
 *  target: （可选）要查找的自适应的目标元素选择器。若没有指定target，则以指令当前元素为target。
 *
 * 示例:
 *   <div class="modal-body" resizable="{subWidth: 135, parent: true, target: '.modal-dialog'}"> ... <div>
 */
function resizable($window, $parse) {
  'ngInject';

  return {
    restrict: 'A',
    scope: {},
    link: function link(scope, element, attrs) {

      var opts = $parse(attrs.resizable)(scope);
      var winWidth = $window.innerWidth;

      var $target = opts.target ? angular.element(element)[opts.parent ? 'parents' : 'find'](opts.target) : angular.element(element);

      function onResize(isFirst) {
        winWidth = $window.innerWidth;
        $target.css('width', winWidth - getScrollbarWidth() - opts.subWidth);

        if (!isFirst) scope.$digest();
      }

      onResize(true); // resize on first

      angular.element($window).on('resize', onResize);

      scope.$on('$destroy', function () {
        angular.element($window).off('resize', onResize);
      });
    }
  };
}

function getScrollbarWidth() {
  // Create the measurement node
  var scrollDiv = document.createElement("div");
  scrollDiv.style.overflow = 'scroll';
  document.body.appendChild(scrollDiv);

  // Get the scrollbar width
  var scrollbarWidth = scrollDiv.offsetWidth - scrollDiv.clientWidth;

  // Delete the DIV
  document.body.removeChild(scrollDiv);

  return scrollbarWidth;
}

},{}],"/Users/cescwang/program/sil/SIL-frontend/app/common/filters/addressFormat.js":[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.default = addressFormat;
function addressFormat() {

    return function (str) {
        var regx = /-\d+\;/;
        return str.split(regx).join('');
    };
}

},{}],"/Users/cescwang/program/sil/SIL-frontend/app/common/filters/dayTime.js":[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.default = dayTime;
function dayTime() {

    return function (time) {

        var h = Math.floor(time / 36000);
        var m = time % 3600 / 60;
        h = h > 9 ? h : '0' + h;
        m = m > 9 ? m : '0' + m;

        return h + ':' + m;
    };
}

},{}],"/Users/cescwang/program/sil/SIL-frontend/app/common/filters/diseaseHistory.js":[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.default = diseaseHistory;
function diseaseHistory() {

    return function (arr) {

        var disease_history = "";

        var _iteratorNormalCompletion = true;
        var _didIteratorError = false;
        var _iteratorError = undefined;

        try {
            for (var _iterator = arr[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {
                var item = _step.value;

                disease_history += item.name + '  ';
            }
        } catch (err) {
            _didIteratorError = true;
            _iteratorError = err;
        } finally {
            try {
                if (!_iteratorNormalCompletion && _iterator.return) {
                    _iterator.return();
                }
            } finally {
                if (_didIteratorError) {
                    throw _iteratorError;
                }
            }
        }

        return disease_history;
    };
}

},{}],"/Users/cescwang/program/sil/SIL-frontend/app/common/filters/filters.module.js":[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _angular = require('angular');

var _angular2 = _interopRequireDefault(_angular);

var _orderSource = require('./orderSource');

var _orderSource2 = _interopRequireDefault(_orderSource);

var _oldType = require('./oldType');

var _oldType2 = _interopRequireDefault(_oldType);

var _serviceType = require('./serviceType');

var _serviceType2 = _interopRequireDefault(_serviceType);

var _payWay = require('./payWay');

var _payWay2 = _interopRequireDefault(_payWay);

var _serviceWay = require('./serviceWay');

var _serviceWay2 = _interopRequireDefault(_serviceWay);

var _diseaseHistory = require('./diseaseHistory');

var _diseaseHistory2 = _interopRequireDefault(_diseaseHistory);

var _orderStatus = require('./orderStatus');

var _orderStatus2 = _interopRequireDefault(_orderStatus);

var _dayTime = require('./dayTime');

var _dayTime2 = _interopRequireDefault(_dayTime);

var _modeId = require('./modeId');

var _modeId2 = _interopRequireDefault(_modeId);

var _addressFormat = require('./addressFormat');

var _addressFormat2 = _interopRequireDefault(_addressFormat);

var _timeFormat = require('./timeFormat');

var _timeFormat2 = _interopRequireDefault(_timeFormat);

var _fix = require('./fix');

var _fix2 = _interopRequireDefault(_fix);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

exports.default = _angular2.default.module('app.common.filters', []).filter('orderSource', _orderSource2.default).filter('oldType', _oldType2.default).filter('serviceType', _serviceType2.default).filter('payWay', _payWay2.default).filter('serviceWay', _serviceWay2.default).filter('diseaseHistory', _diseaseHistory2.default).filter('orderStatus', _orderStatus2.default).filter('dayTime', _dayTime2.default).filter('modeId', _modeId2.default).filter('addressFormat', _addressFormat2.default).filter('timeFormat', _timeFormat2.default).filter('fix', _fix2.default);

},{"./addressFormat":"/Users/cescwang/program/sil/SIL-frontend/app/common/filters/addressFormat.js","./dayTime":"/Users/cescwang/program/sil/SIL-frontend/app/common/filters/dayTime.js","./diseaseHistory":"/Users/cescwang/program/sil/SIL-frontend/app/common/filters/diseaseHistory.js","./fix":"/Users/cescwang/program/sil/SIL-frontend/app/common/filters/fix.js","./modeId":"/Users/cescwang/program/sil/SIL-frontend/app/common/filters/modeId.js","./oldType":"/Users/cescwang/program/sil/SIL-frontend/app/common/filters/oldType.js","./orderSource":"/Users/cescwang/program/sil/SIL-frontend/app/common/filters/orderSource.js","./orderStatus":"/Users/cescwang/program/sil/SIL-frontend/app/common/filters/orderStatus.js","./payWay":"/Users/cescwang/program/sil/SIL-frontend/app/common/filters/payWay.js","./serviceType":"/Users/cescwang/program/sil/SIL-frontend/app/common/filters/serviceType.js","./serviceWay":"/Users/cescwang/program/sil/SIL-frontend/app/common/filters/serviceWay.js","./timeFormat":"/Users/cescwang/program/sil/SIL-frontend/app/common/filters/timeFormat.js","angular":"angular"}],"/Users/cescwang/program/sil/SIL-frontend/app/common/filters/fix.js":[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.default = fix;
function fix() {

    return function (value, num) {

        !num && (num = 2);
        return typeof value == 'number' ? value.toFixed(num) : '';
    };
}

},{}],"/Users/cescwang/program/sil/SIL-frontend/app/common/filters/modeId.js":[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = modeId;
function modeId() {

  var modeList = pageConf.modeList;

  return function (mode_id) {
    var mode = modeList.filter(function (item) {
      return item.mode_id == mode_id;
    });
    return mode.length ? mode[0].name : mode_id;
  };
}

},{}],"/Users/cescwang/program/sil/SIL-frontend/app/common/filters/oldType.js":[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = oldType;
function oldType() {
  return function (type) {
    var old_type_name = "";
    switch (type) {
      case 2:
        old_type_name = '潜在会员';
        break;
      case 3:
        old_type_name = '全托会员';
        break;
      case 4:
        old_type_name = '日托会员';
        break;
      case 5:
        old_type_name = '普通会员';
      default:
        console.warn('invalid old_type');
    }
    return old_type_name;
  };
}

},{}],"/Users/cescwang/program/sil/SIL-frontend/app/common/filters/orderSource.js":[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.default = orderSource;
function orderSource() {
    return function (source) {
        var order_source_name = "";
        switch (source) {
            case 1:
                order_source_name = '后台';
                break;
            case 2:
                order_source_name = 'pad端';
                break;
            case 3:
                order_source_name = '子女端';
                break;
            default:
                order_source_name = '长者端';
        }
        return order_source_name;
    };
}

},{}],"/Users/cescwang/program/sil/SIL-frontend/app/common/filters/orderStatus.js":[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.default = orderStatus;
function orderStatus() {
    return function (status) {
        var status_name = "";
        switch (status) {
            case 0:
                status_name = '已预约';
                break;
            case 10:
                status_name = '已确认';
                break;
            case 50:
                status_name = '已完成';
                break;
            case 99:
                status_name = '已付款';
                break;
            default:
                status_name = '已取消';
        }
        return status_name;
    };
}

},{}],"/Users/cescwang/program/sil/SIL-frontend/app/common/filters/payWay.js":[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.default = payWay;
function payWay() {
    return function (way) {
        var pay_way_name = "";
        switch (way) {
            case 1:
                pay_way_name = '现金';
                break;
            case 2:
                pay_way_name = '刷卡';
                break;
            case 0:
                pay_way_name = '无';
                break;
            default:
                pay_way_name = '部分现金';
        }
        return pay_way_name;
    };
}

},{}],"/Users/cescwang/program/sil/SIL-frontend/app/common/filters/serviceType.js":[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.default = serviceType;
function serviceType() {
    return function (type) {
        var service_type_name = "";
        switch (type) {
            case 1:
                service_type_name = '上门';
                break;
            case 2:
                service_type_name = '到店';
                break;
            case 3:
                service_type_name = '上门，到店';
                break;
            default:
                service_type_name = '其它';
        }
        return service_type_name;
    };
}

},{}],"/Users/cescwang/program/sil/SIL-frontend/app/common/filters/serviceWay.js":[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.default = serviceWay;
function serviceWay() {
    return function (way) {
        var way_name = "";
        switch (way) {
            case 1:
                way_name = '上门';
                break;
            case 2:
                way_name = '到店';
                break;
            default:
                way_name = '其它';
        }
        return way_name;
    };
}

},{}],"/Users/cescwang/program/sil/SIL-frontend/app/common/filters/timeFormat.js":[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.default = tiemFormat;
function tiemFormat() {

    return function (time) {

        return moment(time).format('YYYY-MM-DD HH:mm:ss');
    };
}

},{}],"/Users/cescwang/program/sil/SIL-frontend/app/common/services/accessControl.service.js":[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
    value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

var c_package = {};

var AccessControlService = function () {
    function AccessControlService() {
        'ngInject';

        _classCallCheck(this, AccessControlService);
    }

    _createClass(AccessControlService, [{
        key: 'getCond',
        value: function getCond() {
            return c_package;
        }
    }]);

    return AccessControlService;
}();

exports.default = AccessControlService;

},{}],"/Users/cescwang/program/sil/SIL-frontend/app/common/services/config.service.js":[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

var Service = function () {
  Service.$inject = ["$http", "httpHelper", "$rootScope", "$state", "ApiMap"];
  function Service($http, httpHelper, $rootScope, $state, ApiMap) {
    'ngInject';

    _classCallCheck(this, Service);

    this._http = $http;
    // this.$q = $q;
    this._httpHelper = httpHelper;

    this._api = ApiMap.config;
    this._apiMap = ApiMap;

    this._rootScope = $rootScope;
    this._state = $state;
  }

  _createClass(Service, [{
    key: 'list',
    value: function list(params) {

      this._httpHelper.blockUI.start();

      return this._http.get(this._api.list, { params: params }).then(this._httpHelper.verify, this._httpHelper.error);
    }
  }, {
    key: 'set',
    value: function set(data) {

      this._httpHelper.blockUI.start();

      return this._http.post(this._api.set, data).then(this._httpHelper.verify, this._httpHelper.error);
    }
  }, {
    key: 'get',
    value: function get(key, params) {

      this._httpHelper.blockUI.start();

      return this._http.get(this._api.get.replace(/\{key\}/, key), { params: params }).then(this._httpHelper.verify, this._httpHelper.error);
    }

    // setSpecial(data) {

    //   this._httpHelper.blockUI.start();

    //   return this._http.post(this._api.setSpecial, data).then(this._httpHelper.verify, this._httpHelper.error);
    // }

  }, {
    key: 'getRoleList',
    value: function getRoleList() {
      this._httpHelper.blockUI.start();

      return this._http.get(this._api.roleList).then(this._httpHelper.verify, this._httpHelper.error);
    }
  }]);

  return Service;
}();

exports.default = Service;

},{}],"/Users/cescwang/program/sil/SIL-frontend/app/common/services/district.service.js":[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

/**
 * 腾讯行政区划API
 * http://lbs.qq.com/webservice_v1/guide-region.html
 */
var DistrictService = function () {
  DistrictService.$inject = ["$http", "$q"];
  function DistrictService($http, $q) {
    'ngInject';

    _classCallCheck(this, DistrictService);

    this._q = $q;
    this._http = $http;
    this.url = '//apis.map.qq.com/ws/district/v1/';
    this.opts = {
      key: 'ZAUBZ-4OG3J-ZVTFF-F7NED-PHMJT-DZBYG',
      output: 'jsonp',
      callback: 'district_cb'
    };
  }

  _createClass(DistrictService, [{
    key: '_prev',
    value: function _prev() {
      var deferred = this._q.defer();
      window.district_cb = function (res) {
        // TODO 加loading, 避免地址没加载完
        // httpHelper.blockUI.stop();
        deferred.resolve(res.result[0]);
      };

      return deferred;
    }

    // --------- method --------------

  }, {
    key: 'list',
    value: function list() {

      var deferred = this._prev();

      this._http.jsonp(this.url + 'list', { params: this.opts });

      return deferred.promise;
    }
  }, {
    key: 'getchildren',
    value: function getchildren(id) {

      var deferred = this._prev();
      var params = _extends({}, this.opts, { id: id });

      this._http.jsonp(this.url + 'getchildren', { params: params });

      return deferred.promise;
    }
  }, {
    key: 'format',
    value: function format(data) {
      var level = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 3;

      if (data === void 0) {
        return void 0;
      } else if (typeof data == 'string') {
        var regx = void 0,
            match = void 0,
            result = void 0;

        var reg = /^(.*)\-(\d*)$/;

        var addressArray = data.split(';');
        var length = addressArray.length;

        if (length > 0) {
          result = {
            address: addressArray[length - 1]
          };
        }

        if (length > 1 && (match = addressArray[0].match(reg))) {
          result.province = {
            fullname: match[1],
            id: match[2]
          };
        }

        if (length > 2 && (match = addressArray[1].match(reg))) {
          result.city = {
            fullname: match[1],
            id: match[2]
          };
        }

        if (length > 3 && (match = addressArray[2].match(reg))) {
          result.district = {
            fullname: match[1],
            id: match[2]
          };
        }

        // if(level == 2) {
        //   regx = /^(.*)\-(\d*)\;(.*)\-(\d*)\;(.*)$/;
        // } else {
        //   regx = /^(.*)\-(\d*)\;(.*)\-(\d*)\;(.*)\-(\d*)\;(.*)$/;
        // }

        // match = data.match(regx);

        // if(match) {

        //   result = {
        //     province: {
        //       fullname: match[1],
        //       id: match[2]
        //     },
        //     city: {
        //       fullname: match[3],
        //       id: match[4]
        //     }
        //   }

        //   if(level == 2) {
        //     result.address = match[5];
        //   } else {
        //     result.district = {
        //       fullname: match[5],
        //       id: match[6]
        //     };

        //     result.address = match[7];
        //   }
        // }

        return result;
      } else if (data.address) {
        var string = '';

        if (data.province) {
          string = '' + string + data.province.fullname + '-' + data.province.id + ';';

          if (data.city) {
            string = '' + string + data.city.fullname + '-' + data.city.id + ';';

            if (data.district) {
              string = '' + string + data.district.fullname + '-' + data.district.id + ';';
            }
          }
        }

        return '' + string + data.address;
      }
    }
  }]);

  return DistrictService;
}();

exports.default = DistrictService;

},{}],"/Users/cescwang/program/sil/SIL-frontend/app/common/services/profile.service.js":[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
    value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

var ProfileService = function () {
    ProfileService.$inject = ["$http", "httpHelper", "AppSettings", "ApiMap", "ConfigService"];
    function ProfileService($http, httpHelper, AppSettings, ApiMap, ConfigService) {
        'ngInject';

        _classCallCheck(this, ProfileService);

        this._http = $http;
        // this.$q = $q;
        this._httpHelper = httpHelper;

        this._api = ApiMap.person;
        this._apiMap = ApiMap;

        this.accessKey = AppSettings.accessKey;

        this._configService = ConfigService;

        this.info = {
            name: '亲',
            avatar: '/images/common/man.png'
        };

        this.roleList = [];

        this.user_id = localStorage.getItem('SIL_UID') || 0;

        this.access = {};

        if (this.user_id) {
            this.get({ id: this.user_id });
        }

        this._getRoleList();
    }

    _createClass(ProfileService, [{
        key: 'getRoleList',
        value: function getRoleList() {
            return this.roleList;
        }
    }, {
        key: '_getRoleList',
        value: function _getRoleList() {
            var _this = this;

            this._configService.getRoleList().then(function (data) {
                if (data && data instanceof Array) {
                    _this.roleList.push.apply(_this.roleList, data);
                }
            });
        }
    }, {
        key: 'setSession',
        value: function setSession(key, value) {
            if (key && value) {
                sessionStorage.setItem(key, value);
            }
        }
    }, {
        key: 'getSession',
        value: function getSession(key) {
            if (key) {
                return sessionStorage.getItem(key);
            }

            return null;
        }
    }, {
        key: 'getInfo',
        value: function getInfo() {
            return this.info;
        }
    }, {
        key: 'getAccess',
        value: function getAccess() {
            return this.access;
        }
    }, {
        key: 'get',
        value: function get(data) {
            var _this2 = this;

            this._httpHelper.blockUI.start();

            return this._http.post(this._api.get, data).then(this._httpHelper.verify, this._httpHelper.error).then(function (data) {
                _this2.info.name = data.true_name;
                _this2.info.role = data.role;
                _this2.setSession('SIL_ROLE', data.role);
                _this2.getUserAccess();
            });
        }
    }, {
        key: 'hanldeAccess',
        value: function hanldeAccess(data) {
            var _this3 = this;

            var accessList = angular.fromJson(data);
            if (accessList && accessList[this.info.role]) {
                var keys = Object.keys(this.access);
                keys.forEach(function (key) {
                    if (!accessList[key]) {
                        delete _this3.access[key];
                    }
                });
                angular.extend(this.access, accessList[this.info.role]);
            }
        }
    }, {
        key: 'getUserAccess',
        value: function getUserAccess() {
            var _this4 = this;

            var access = this.getSession('SIL_ACCESS');

            if (access) {
                this.hanldeAccess(access);
            }

            this._configService.get(this.accessKey).then(function (data) {
                _this4.setSession('SIL_ACCESS', data);
                if (data) {
                    _this4.hanldeAccess(data);
                }
            });
        }
    }]);

    return ProfileService;
}();

exports.default = ProfileService;

},{}],"/Users/cescwang/program/sil/SIL-frontend/app/common/services/services.module.js":[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _angular = require('angular');

var _angular2 = _interopRequireDefault(_angular);

var _config = require('./config.service');

var _config2 = _interopRequireDefault(_config);

var _profile = require('./profile.service');

var _profile2 = _interopRequireDefault(_profile);

var _accessControl = require('./accessControl.service');

var _accessControl2 = _interopRequireDefault(_accessControl);

var _district = require('./district.service');

var _district2 = _interopRequireDefault(_district);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

exports.default = _angular2.default.module('app.common.services', []).service('ConfigService', _config2.default).service('ProfileService', _profile2.default).service('AccessControlService', _accessControl2.default).service('DistrictService', _district2.default);

},{"./accessControl.service":"/Users/cescwang/program/sil/SIL-frontend/app/common/services/accessControl.service.js","./config.service":"/Users/cescwang/program/sil/SIL-frontend/app/common/services/config.service.js","./district.service":"/Users/cescwang/program/sil/SIL-frontend/app/common/services/district.service.js","./profile.service":"/Users/cescwang/program/sil/SIL-frontend/app/common/services/profile.service.js","angular":"angular"}],"/Users/cescwang/program/sil/SIL-frontend/app/core/components/components.module.js":[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _angular = require('angular');

var _angular2 = _interopRequireDefault(_angular);

var _mcMainHeader = require('./mcMainHeader/mcMainHeader');

var _mcContentHeader = require('./mcContentHeader/mcContentHeader');

var _mcSidebar = require('./mcSidebar/mcSidebar.directive');

var _mcSidebar2 = _interopRequireDefault(_mcSidebar);

var _mcSidebar3 = require('./mcSidebar/mcSidebar.service');

var _mcSidebar4 = _interopRequireDefault(_mcSidebar3);

var _mcSidebarHelpers = require('./mcSidebar/mcSidebarHelpers.directive');

var helper = _interopRequireWildcard(_mcSidebarHelpers);

var _index = require('./mcPagination/index');

var _picker = require('./mcPicker/picker');

var _picker2 = _interopRequireDefault(_picker);

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

// import PlanModelService    from './mcCarePlan/planModel';

// import careTypeService    from './mcCarePlan/careType';


exports.default = _angular2.default.module('app.core.components', [])

// layout component
.component('mcMainHeader', _mcMainHeader.mainHeader).directive('mcMainSidebar', _mcSidebar2.default).service('mcSidebarService', _mcSidebar4.default).component('mcContentHeader', _mcContentHeader.contentHeader)

// sidebar
.directive('mcSidebarTogglingItem', helper.mcSidebarTogglingItem).directive('mcUiSrefTogglingSubmenu', helper.mcUiSrefTogglingSubmenu).directive('mcUiSrefToggler', helper.mcUiSrefToggler).component('mcPagination', _index.mcPagination).service('PickerService', _picker2.default)

// .service('PlanModelService', PlanModelService)

// .service('careTypeService', careTypeService)
;

},{"./mcContentHeader/mcContentHeader":"/Users/cescwang/program/sil/SIL-frontend/app/core/components/mcContentHeader/mcContentHeader.js","./mcMainHeader/mcMainHeader":"/Users/cescwang/program/sil/SIL-frontend/app/core/components/mcMainHeader/mcMainHeader.js","./mcPagination/index":"/Users/cescwang/program/sil/SIL-frontend/app/core/components/mcPagination/index.js","./mcPicker/picker":"/Users/cescwang/program/sil/SIL-frontend/app/core/components/mcPicker/picker.js","./mcSidebar/mcSidebar.directive":"/Users/cescwang/program/sil/SIL-frontend/app/core/components/mcSidebar/mcSidebar.directive.js","./mcSidebar/mcSidebar.service":"/Users/cescwang/program/sil/SIL-frontend/app/core/components/mcSidebar/mcSidebar.service.js","./mcSidebar/mcSidebarHelpers.directive":"/Users/cescwang/program/sil/SIL-frontend/app/core/components/mcSidebar/mcSidebarHelpers.directive.js","angular":"angular"}],"/Users/cescwang/program/sil/SIL-frontend/app/core/components/mcContentHeader/mcContentHeader.js":[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

var McContentHeaderController = function McContentHeaderController() {
  'ngInject';

  _classCallCheck(this, McContentHeaderController);
};

var contentHeader = exports.contentHeader = {
  templateUrl: 'core/components/mcContentHeader/mcContentHeader.html',
  controller: McContentHeaderController,
  bindings: {}
};

},{}],"/Users/cescwang/program/sil/SIL-frontend/app/core/components/mcMainHeader/mcMainHeader.js":[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

var McMainHeaderController = function () {
  McMainHeaderController.$inject = ["sweet", "$timeout", "toastr", "utilService", "ProfileService", "MessageService"];
  function McMainHeaderController(sweet, $timeout, toastr, utilService, ProfileService, MessageService) {
    'ngInject';

    _classCallCheck(this, McMainHeaderController);

    this._sweet = sweet;
    this._utilService = utilService;

    this._msgService = MessageService;

    this._toastr = toastr;
    this._timeout = $timeout;

    // let {avatar} = PensionService.getInfo();

    this.info = ProfileService.getInfo();
    this.msg_count = 0;

    this.getMsg();
  }

  _createClass(McMainHeaderController, [{
    key: 'logout',
    value: function logout() {
      var _this = this;

      this._sweet.show({
        title: '提示',
        text: '确认退出?',
        type: 'warning',
        showCancelButton: true,
        confirmButtonText: '退出',
        cancelButtonText: '取消'
      }, function (isConfirm) {
        if (isConfirm) {
          localStorage.clear();
          _this._utilService.logout();
        }
      });
    }
  }, {
    key: 'getMsg',
    value: function getMsg() {
      var _this2 = this;

      this._msgService.getList({ page: 1, page_limit: 10 }, true).then(function (data) {
        var unreadList = data.messages.filter(function (item) {
          return item.state === 0;
        });
        var len = unreadList.length;
        if (len > 0) {
          var newMsgId = unreadList[0].id;
          if (newMsgId != _this2.newMsgId) {
            _this2._toastr.success(unreadList[0].content, '新消息');
            _this2.newMsgId = newMsgId;
          }
        }

        if (len > 9) {
          len = '9+';
        }

        _this2.msg_count = len;

        _this2._timeout(function () {
          _this2.getMsg();
        }, 120000);
      });
    }
  }]);

  return McMainHeaderController;
}();

var mainHeader = exports.mainHeader = {
  templateUrl: 'core/components/mcMainHeader/mcMainHeader.html',
  controller: McMainHeaderController,
  controllerAs: 'vm',
  bindings: {}
};

},{}],"/Users/cescwang/program/sil/SIL-frontend/app/core/components/mcPagination/index.js":[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

var McPaginationController = exports.McPaginationController = function () {
  McPaginationController.$inject = ["$timeout"];
  function McPaginationController($timeout) {
    'ngInject';

    _classCallCheck(this, McPaginationController);

    this._timeout = $timeout;
  }

  _createClass(McPaginationController, [{
    key: 'pageChanged',
    value: function pageChanged() {
      var _this = this;

      // console.log(this);

      this._timeout(function () {
        _this.pageChange && _this.pageChange();
      });
    }
  }]);

  return McPaginationController;
}();

;

var mcPagination = exports.mcPagination = {
  templateUrl: 'core/components/mcPagination/index.html',
  controller: McPaginationController,
  controllerAs: 'vm',
  bindings: {
    currentPage: '=',
    totalItems: '=',
    itemsPerPage: '=',
    pageChange: '&'
  }
};

},{}],"/Users/cescwang/program/sil/SIL-frontend/app/core/components/mcPagination/mc-pagination.class.js":[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

var Pagination = function () {
  Pagination.$inject = ["$injector"];
  function Pagination($injector) {
    'ngInject';
    // console.log($location);

    _classCallCheck(this, Pagination);

    this._location = $injector.get('$location');
    this._stateParams = $injector.get('$stateParams');

    this.pagination = {
      count: 0,
      pageSize: 20
    };

    this._initPage();
  }

  _createClass(Pagination, [{
    key: '_initPage',
    value: function _initPage() {
      var page = this._stateParams.page;

      this.pagination.page = +page || 1;
    }
  }, {
    key: '_filterEmptyValue',
    value: function _filterEmptyValue() {
      var validFilters = {};
      var value = void 0;
      for (var key in this.filters) {
        value = this.filters[key];
        if (value !== void 0) {
          validFilters[key] = value;
        }
      }

      return validFilters;
    }
  }, {
    key: 'reSearch',
    value: function reSearch() {
      var page = 1;
      this._location.search(_extends({}, this._filterEmptyValue(), { page: page }));
    }
  }, {
    key: 'pageChanged',
    value: function pageChanged() {
      // console.log(this.location);
      var page = this.pagination.page;

      this._location.search(_extends({}, this._filterEmptyValue(), { page: page }));
    }
  }]);

  return Pagination;
}();

exports.default = Pagination;

},{}],"/Users/cescwang/program/sil/SIL-frontend/app/core/components/mcPicker/ctrl.js":[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

var defaultPickerOptions = {
  min: 1,
  max: 0,
  title: '添加项目',
  itemType: '项目',
  itemUnit: '个',
  itemPosition: '',
  searchPlaceholder: '请输入项目名称',
  selectedItems: null,

  params: null,

  idKey: 'id',
  nameKey: 'name',
  avatarKey: 'avatar'
};

var PickerController = function () {
  PickerController.$inject = ["$http", "httpHelper", "$uibModalInstance", "pickerOptions"];
  function PickerController($http, httpHelper, $uibModalInstance, pickerOptions) {
    'ngInject';

    _classCallCheck(this, PickerController);

    this._http = $http;
    this._httpHelper = httpHelper;

    this._modalInstance = $uibModalInstance;

    this.options = _extends({}, defaultPickerOptions, pickerOptions);

    this.selectionItem = [];

    this.list = [];

    this.getList();
  }

  _createClass(PickerController, [{
    key: '_getList',
    value: function _getList(params) {
      var url = this.options.url;

      if (!url) {
        console.error('mcPicker', 'Url is required.');
        return;
      }

      this._httpHelper.blockUI.start();

      return this._http.get(url, { params: params }).then(this._httpHelper.verify, this._httpHelper.error);
    }
  }, {
    key: 'getList',
    value: function getList() {
      var _this = this;

      var list = this.options.list;

      if (list) {
        this.list = this._formatData(list);
        return;
      }

      var params = _extends({
        pageSize: 1000
      }, this.options.params || {});
      this._getList(params).then(function (data) {
        _this.list = _this._formatData(data.list);
      });
    }
  }, {
    key: 'getValue',
    value: function getValue(obj, key) {
      var keyArr = key.split('.');

      keyArr.forEach(function (k) {
        obj = obj[k];
      });

      return obj;
    }
  }, {
    key: '_formatData',
    value: function _formatData(data) {
      var _this2 = this;

      var _options = this.options,
          selectedItems = _options.selectedItems,
          idKey = _options.idKey,
          nameKey = _options.nameKey,
          avatarKey = _options.avatarKey;

      var tmpHashObj = {};

      if (selectedItems && selectedItems.length > 0) {
        selectedItems.forEach(function (item) {
          tmpHashObj[item.id] = true;
        });
      }

      return data.map(function (item) {
        var tmpObj = {
          id: item[idKey],
          name: _this2.getValue(item, nameKey),
          avatar: item[avatarKey] || '/images/common/man.png'
        };

        tmpObj = Object.assign(item, tmpObj);

        if (tmpHashObj[tmpObj.id]) {
          tmpObj.selected = true;

          _this2.selectionItem.push(tmpObj);
        }

        return tmpObj;
      });
    }
  }, {
    key: 'cancel',
    value: function cancel() {
      // this.onClose && this.onClose(this.selectionItem);
      this._modalInstance.dismiss('cancel');
    }
  }, {
    key: 'ok',
    value: function ok() {
      var len = this.selectionItem.length;
      var _options2 = this.options,
          max = _options2.max,
          min = _options2.min;


      if (len < min || max > 0 && len > max) {
        return false;
      }
      this._modalInstance.close(this.selectionItem);
    }
  }, {
    key: 'toggleItemSelected',
    value: function toggleItemSelected(item) {
      var index = this.selectionItem.indexOf(item);
      if (index > -1) {
        item.selected = false;
        this.selectionItem.splice(index, 1);
      } else {
        // max restrict
        if (this.options.max === 1) {
          this.list.map(function (item) {
            item.selected = false;
            return item;
          });
          this.selectionItem = [];
        } else if (this.options.max > 1) {
          var filtered = this.list.filter(function (item) {
            return item.selected;
          });
          if (filtered.length === this.options.max) {
            item.selected = false;
            return;
          }
        }

        item.selected = true;
        this.selectionItem.push(item);
      }

      // console.log(this.selectionItem);
    }
  }]);

  return PickerController;
}();

var pickerConfiguration = {
  templateUrl: 'core/components/mcPicker/template.html',
  controller: PickerController,
  controllerAs: 'vm'
};

exports.default = pickerConfiguration;

},{}],"/Users/cescwang/program/sil/SIL-frontend/app/core/components/mcPicker/picker.js":[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _angular = require('angular');

var _angular2 = _interopRequireDefault(_angular);

var _ctrl = require('./ctrl');

var _ctrl2 = _interopRequireDefault(_ctrl);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

var noop = function noop() {
  console.log('no callback');
};

var PickerService = function () {
  PickerService.$inject = ["$uibModal"];
  function PickerService($uibModal) {
    'ngInject';

    _classCallCheck(this, PickerService);

    this._modal = $uibModal;
  }

  _createClass(PickerService, [{
    key: 'open',
    value: function open(_pickerOptions, options, callback) {

      if (typeof options == 'function') {
        callback = options;
        options = {};
      }

      if (typeof _pickerOptions == 'function') {
        callback = _pickerOptions;
        _pickerOptions = {};
        options = {};
      }

      var opts = Object.assign({
        animation: true,
        size: 'lg',
        resolve: {
          pickerOptions: function pickerOptions() {
            _pickerOptions = _pickerOptions || {};
            return _extends({}, _pickerOptions);
          }
        }
      }, _ctrl2.default, options || {});

      // console.log(this);

      var modalInstance = this._modal.open(opts);

      if (typeof callback !== 'function') {
        callback = noop;
      }

      modalInstance.result.then(function (selectedItems) {
        // console.log(selectedItems);
        callback.call(null, { status: 0, info: 'success', data: [].concat(_toConsumableArray(selectedItems)) });
      }).catch(function () {
        return callback.call(null, { status: 1, info: 'dismiss', data: [] });
      });

      return modalInstance;
    }
  }]);

  return PickerService;
}();

exports.default = PickerService;

},{"./ctrl":"/Users/cescwang/program/sil/SIL-frontend/app/core/components/mcPicker/ctrl.js","angular":"angular"}],"/Users/cescwang/program/sil/SIL-frontend/app/core/components/mcSidebar/helpers/mcSidebarTogglingItem.ctrl.js":[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

var McSidebarTogglingItemController = function () {
  McSidebarTogglingItemController.$inject = ["$scope", "$element", "$attrs", "$state", "mcSidebarService"];
  function McSidebarTogglingItemController($scope, $element, $attrs, $state, mcSidebarService) {
    'ngInject';

    var _this = this;

    _classCallCheck(this, McSidebarTogglingItemController);

    this._$element = $element;

    var menuItem = this.$$menuItem = $scope.$eval($attrs.mcSidebarTogglingItem);

    if (menuItem && menuItem.subMenu && menuItem.subMenu.length) {
      this.$$expandSubmenu = function () {
        console.warn('$$expandMenu should be overwritten by mcUiSrefTogglingSubmenu');
      };
      this.$$collapseSubmenu = function () {
        console.warn('$$collapseSubmenu should be overwritten by mcUiSrefTogglingSubmenu');
      };

      this.subItemsStateRefs = mcSidebarService.getAllStateRefsRecursive(menuItem);

      if (this.isState($state.current)) {
        $element.addClass('sidebar-item-expanded');
      }

      $scope.$on('$stateChangeStart', function (event, toState) {
        if (!_this.isState(toState) && $element.hasClass('sidebar-item-expanded')) {
          _this.$collapse();
          $element.removeClass('sidebar-item-expanded');
        }
      });

      $scope.$on('$stateChangeSuccess', function (event, toState) {
        if (_this.isState(toState) && !$element.hasClass('sidebar-item-expanded')) {
          _this.$expand();
          $element.addClass('sidebar-item-expanded');
        }
      });
    }
  }

  _createClass(McSidebarTogglingItemController, [{
    key: '$expand',
    value: function $expand() {
      this.$$expandSubmenu();
      this.$collapseOther(this.$collapseOther(this._$element));
      this._$element.addClass('sidebar-item-expanded');
    }
  }, {
    key: '$collapse',
    value: function $collapse() {
      this.$$collapseSubmenu();
      this._$element.removeClass('sidebar-item-expanded');
    }
  }, {
    key: '$toggle',
    value: function $toggle() {
      this._$element.hasClass('sidebar-item-expanded') ? this.$collapse() : this.$expand();
    }
  }, {
    key: 'isState',
    value: function isState(state) {
      return state && this.subItemsStateRefs.some(function (subItemState) {
        return state.name.indexOf(subItemState) == 0;
      });
    }

    // hack: collapse other menu when expand one
    // TODO: use directive feture, no element manipulate

  }, {
    key: '$collapseOther',
    value: function $collapseOther(element) {
      var siblings = angular.element(element).siblings('.sidebar-item-expanded');
      siblings.find('.sidebar-sublist').hide();
      siblings.removeClass('sidebar-item-expanded');
    }
  }]);

  return McSidebarTogglingItemController;
}();

exports.default = McSidebarTogglingItemController;

},{}],"/Users/cescwang/program/sil/SIL-frontend/app/core/components/mcSidebar/mcSidebar.directive.js":[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

var McSiderbarController = function McSiderbarController($scope, $state, mcSidebarService, ProfileService) {
  'ngInject';

  _classCallCheck(this, McSiderbarController);

  this.menuItems = mcSidebarService.getMenuItems();
  this.info = {
    name: '浦发 | 投贷联动',
    avatar: '/images/common/logo.png'
  };

  this.access = ProfileService.access;
};
McSiderbarController.$inject = ["$scope", "$state", "mcSidebarService", "ProfileService"];

function McSiderbarDirective() {

  return {
    restrict: 'E',
    templateUrl: 'core/components/mcSidebar/mcSidebar.html',
    controller: McSiderbarController,
    controllerAs: 'sidebar',
    link: function link(scope, element, attrs) {
      var $side = element[0].childNodes[0];
      scope.menuHeight = $side.clientHeight - 160;
    }
  };
}

exports.default = McSiderbarDirective;

},{}],"/Users/cescwang/program/sil/SIL-frontend/app/core/components/mcSidebar/mcSidebar.service.js":[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

var McSidebarServer = function () {
  McSidebarServer.$inject = ["$state"];
  function McSidebarServer($state) {
    'ngInject';

    _classCallCheck(this, McSidebarServer);

    this.$state = $state;
    this.staticMenuItems = [];
    this._isMenuCollapsed = true;
  }

  _createClass(McSidebarServer, [{
    key: 'getMenuItems',
    value: function getMenuItems() {

      var states = this.defineMenuItemStates();
      // let menuItems = states.filter(item => item.level == 0 && !(item.accessRoleIds && item.accessRoleIds.indexOf(this._scope.accessControl.role_id) == -1) );
      var menuItems = states.filter(function (item) {
        return item.level == 0;
      });

      menuItems.forEach(function (item) {
        var children = states.filter(function (child) {
          return child.level == 1 && child.name.indexOf(item.name) === 0;
        });

        item.subMenu = children.length ? children : null;

        // 用第三级的指定入口替换二级抽象路由
        item.subMenu && item.subMenu.forEach(function (third, index) {
          if (third.entry) {
            var entry = states.filter(function (x) {
              return x.name === third.entry;
            });
            if (entry.length) {
              item.subMenu[index] = entry[0];
            }
          }
        });
      });

      return menuItems.concat(this.staticMenuItems);
    }
  }, {
    key: 'getAllStateRefsRecursive',
    value: function getAllStateRefsRecursive(item) {

      return this._iterateSubItems(item);
    }
  }, {
    key: 'defineMenuItemStates',
    value: function defineMenuItemStates() {

      return this.$state.get().filter(function (state) {
        return state.sidebarMeta;
      }).map(function (state) {
        var meta = state.sidebarMeta;
        return {
          name: state.name,
          title: state.title,
          level: (state.name.match(/\./g) || []).length,
          order: meta.order,
          icon: meta.icon,
          stateRef: state.name,
          entry: meta.entry,
          accessRoleIds: meta.accessRoleIds
        };
      }).sort(function (a, b) {
        return (a.level - b.level) * 100 + a.order - b.order;
      });
    }
  }, {
    key: '_iterateSubItems',
    value: function _iterateSubItems(currentItem) {
      var _this = this;

      var result = [];
      currentItem.subMenu && currentItem.subMenu.forEach(function (subItem) {
        subItem.stateRef && result.push(subItem.stateRef);
        _this._iterateSubItems(subItem);
      });
      return result;
    }
  }]);

  return McSidebarServer;
}();

exports.default = McSidebarServer;

},{}],"/Users/cescwang/program/sil/SIL-frontend/app/core/components/mcSidebar/mcSidebarHelpers.directive.js":[function(require,module,exports){
'use strict';

mcUiSrefTogglingSubmenu.$inject = ["$state"];
mcUiSrefToggler.$inject = ["mcSidebarService"];
Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.mcSidebarTogglingItem = mcSidebarTogglingItem;
exports.mcUiSrefTogglingSubmenu = mcUiSrefTogglingSubmenu;
exports.mcUiSrefToggler = mcUiSrefToggler;

var _mcSidebarTogglingItem = require('./helpers/mcSidebarTogglingItem.ctrl');

var _mcSidebarTogglingItem2 = _interopRequireDefault(_mcSidebarTogglingItem);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function mcSidebarTogglingItem() {
  return {
    restrict: 'A',
    controller: _mcSidebarTogglingItem2.default
  };
}

function mcUiSrefTogglingSubmenu($state) {
  'ngInject';

  return {
    restrict: 'A',
    require: '^mcSidebarTogglingItem',
    link: function link(scope, el, attrs, mcSidebarTogglingItem) {
      mcSidebarTogglingItem.$$expandSubmenu = function () {
        el.slideDown();
      };
      mcSidebarTogglingItem.$$collapseSubmenu = function () {
        el.slideUp();
      };
    }
  };
}

function mcUiSrefToggler(mcSidebarService) {
  'ngInject';

  return {
    restrict: 'A',
    require: '^mcSidebarTogglingItem',
    link: function link(scope, el, attrs, mcSidebarTogglingItem) {
      el.on('click', function () {
        mcSidebarTogglingItem.$toggle();
      });
    }
  };
}

},{"./helpers/mcSidebarTogglingItem.ctrl":"/Users/cescwang/program/sil/SIL-frontend/app/core/components/mcSidebar/helpers/mcSidebarTogglingItem.ctrl.js"}],"/Users/cescwang/program/sil/SIL-frontend/app/core/core.api.js":[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
	value: true
});
var prefix = 'http://silapi.adoc.wang';
var api = {
	config: {
		list: prefix + '/client_config/list/web',
		get: prefix + '/client_config/get_special/{key}',
		set: prefix + '/client_config/set_special',
		roleList: prefix + '/auth/role_list'
	},
	message: {
		getList: prefix + '/message/list',
		get: prefix + '/message/{id}',
		set: prefix + '/message/set'
	},
	investment: {
		getList: prefix + '/vc_company/list',
		set: prefix + '/vc_company/set',
		add: prefix + '/vc_company/add',
		downloadTemplate: prefix + '/export/vc_company_template',
		import: prefix + '/import/vc_company'
	},
	enterprise: {
		getList: prefix + '/enterprise/list',
		get: prefix + '/enterprise/{id}',
		set: prefix + '/enterprise/set',
		add: prefix + '/enterprise/add'
	},
	person: {
		get: prefix + '/user/get',
		set: prefix + '/user/set',
		logout: prefix + '/user/logout',
		list: prefix + '/user/list',
		add: prefix + '/user/add'
	},
	account: {
		downloadTemplate: prefix + '/export/user_template',
		import: prefix + '/import/user'
	},
	bank: {
		get: prefix + '/bank/list',
		add: prefix + '/bank/add',
		set: prefix + '/bank/set',
		downloadTemplate: prefix + '/export/bank_template',
		import: prefix + '/import/bank'
	},
	log: {
		list: prefix + '/log/list'
	},
	process: {
		tipsList: prefix + '/cm_tip/list',
		tipsGet: prefix + '/cm_tip/get/{id}',
		tipsSet: prefix + '/cm_tip/set',
		tipsAdd: prefix + '/cm_tip/add'
	},
	filter: {
		blacklist: {
			list: prefix + '/blacklist/list',
			add: prefix + '/blacklist/add',
			del: prefix + '/blacklist/del'
		}
	},
	loan: {
		get: prefix + '/loan_decision/get_result',
		set: prefix + '/loan_decision/set_result'
	},
	auth: {
		get: prefix + '/auth/role_list'
	}
};

exports.default = api;

},{}],"/Users/cescwang/program/sil/SIL-frontend/app/core/core.config.js":[function(require,module,exports){
'use strict';

coreConfig.$inject = ["$stateProvider", "$locationProvider", "$urlRouterProvider", "$compileProvider", "$httpProvider"];
Object.defineProperty(exports, "__esModule", {
  value: true
});

var _http = require('./services/http.interceptor');

var _http2 = _interopRequireDefault(_http);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

// import {AlarmListController, AlarmDeviceController} from './../modules/alarm/index';

function coreConfig($stateProvider, $locationProvider, $urlRouterProvider, $compileProvider, $httpProvider) {
  'ngInject';

  if ("development" === 'production') {
    $compileProvider.debugInfoEnabled(false);
  }

  // $locationProvider.html5Mode(true);

  $stateProvider.state('dashboard', {
    url: '/',
    template: '<dashboard></dashboard>',
    title: '社区主页',
    sidebarMeta: {
      icon: 'icon-sidebar_home_ic',
      order: 1
    }
  });

  $urlRouterProvider.otherwise('/');

  // http interceptor
  //
  // For purposes of global error handling, authentication,
  // or any kind of synchronous or asynchronous pre-processing of request or postprocessing of responses
  $httpProvider.interceptors.push(_http2.default);
}

exports.default = coreConfig;

},{"./services/http.interceptor":"/Users/cescwang/program/sil/SIL-frontend/app/core/services/http.interceptor.js"}],"/Users/cescwang/program/sil/SIL-frontend/app/core/core.configProvider.js":[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
function configProvider() {
  'ngInject';

  var conf = {
    theme: {
      blur: false
    }
  };

  conf.changeTheme = function (theme) {
    angular.merge(conf.theme, theme);
  };

  conf.$get = function () {
    delete conf.$get;
    return conf;
  };
  return conf;
}

exports.default = configProvider;

},{}],"/Users/cescwang/program/sil/SIL-frontend/app/core/core.constants.js":[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _underscore = require('underscore');

var _underscore2 = _interopRequireDefault(_underscore);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var coreConstants = {
  appTitle: '管理后台',
  apiUrl: '/api/v1',
  errorInfo: {
    0: '请求成功',
    400: '请求有误',
    401: '请求有误',
    402: '无登录信息',
    403: '参数不全',
    404: '参数格式有误',
    405: '无登录信息',
    406: '无登录信息',
    407: '没有权限',
    500: '服务器错误，请重试',
    501: '服务器错误'
  },
  date: {
    weeks: ['周日', '周一', '周二', '周三', '周四', '周五', '周六'],
    months: _underscore2.default.range(1, 32) // 1-31号
  },

  accessKey: 'role.access',
  roleListKey: 'role.list',

  //alarmTypeList: window.pageConf.alarmTypeList,
  cropOptions: {
    minContainerWidth: 140
  },
  roleConfig: [{ role_config_id: 1, role_name: '超级管理员' }],
  statusList: [{ value: 0, name: '开启' }, { value: 1, name: '关闭' }],
  genderList: [{ value: 1, name: '男' }, { value: 2, name: '女' }],
  pagination: { page: 1, pageSize: 18 }, // 默认分页
  modalAnimation: true
};

exports.default = coreConstants;

},{"underscore":"/Users/cescwang/program/sil/SIL-frontend/node_modules/underscore/underscore.js"}],"/Users/cescwang/program/sil/SIL-frontend/app/core/core.module.js":[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _angular = require('angular');

var _angular2 = _interopRequireDefault(_angular);

require('angular-ui-bootstrap');

require('angular-ui-router');

var _core = require('./core.constants');

var _core2 = _interopRequireDefault(_core);

var _core3 = require('./core.config');

var _core4 = _interopRequireDefault(_core3);

var _core5 = require('./core.run');

var _core6 = _interopRequireDefault(_core5);

var _core7 = require('./core.configProvider');

var _core8 = _interopRequireDefault(_core7);

var _core9 = require('./core.api');

var _core10 = _interopRequireDefault(_core9);

var _directives = require('./directives/directives.module');

var _directives2 = _interopRequireDefault(_directives);

var _components = require('./components/components.module');

var _components2 = _interopRequireDefault(_components);

var _service = require('./services/service.module');

var _service2 = _interopRequireDefault(_service);

var _vendor = require('./vendor/vendor.module');

var _vendor2 = _interopRequireDefault(_vendor);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

exports.default = _angular2.default.module('app.core', ['ui.router', 'ui.bootstrap', _directives2.default.name, _components2.default.name, _service2.default.name, _vendor2.default.name]).constant('AppSettings', _core2.default).constant('ApiMap', _core10.default).provider('coreConfig', _core8.default).config(_core4.default).run(_core6.default);

},{"./components/components.module":"/Users/cescwang/program/sil/SIL-frontend/app/core/components/components.module.js","./core.api":"/Users/cescwang/program/sil/SIL-frontend/app/core/core.api.js","./core.config":"/Users/cescwang/program/sil/SIL-frontend/app/core/core.config.js","./core.configProvider":"/Users/cescwang/program/sil/SIL-frontend/app/core/core.configProvider.js","./core.constants":"/Users/cescwang/program/sil/SIL-frontend/app/core/core.constants.js","./core.run":"/Users/cescwang/program/sil/SIL-frontend/app/core/core.run.js","./directives/directives.module":"/Users/cescwang/program/sil/SIL-frontend/app/core/directives/directives.module.js","./services/service.module":"/Users/cescwang/program/sil/SIL-frontend/app/core/services/service.module.js","./vendor/vendor.module":"/Users/cescwang/program/sil/SIL-frontend/app/core/vendor/vendor.module.js","angular":"angular","angular-ui-bootstrap":"angular-ui-bootstrap","angular-ui-router":"angular-ui-router"}],"/Users/cescwang/program/sil/SIL-frontend/app/core/core.run.js":[function(require,module,exports){
'use strict';

coreRun.$inject = ["$rootScope", "AppSettings", "$log", "$state", "$stateParams", "$location", "$window", "$timeout", "toastr", "ProfileService"];
Object.defineProperty(exports, "__esModule", {
  value: true
});
function coreRun($rootScope, AppSettings, $log, $state, $stateParams, $location, $window, $timeout, toastr, ProfileService) {
  'ngInject';

  // 把常用的工具挂载到$rootScope上, 在所有scope上直接可用

  $rootScope.$log = $log;
  $rootScope.$state = $state;
  $rootScope.$stateParams = $stateParams;
  $rootScope.$location = $location;

  var access = ProfileService.access;

  // 所有人都能访问的白名单列表
  var whiteList = ['dashboard'];

  var token = localStorage.getItem('SIL_TOKEN');
  var uid = localStorage.getItem('SIL_UID');

  if (!token || !uid) {
    $window.location.href = '/login.html';
  }

  // $rootScope.$on('$stateChangeStart',
  //   (event, toState, toParams, fromState, fromParams) => {
  //   if (access[toState.name] || whiteList.indexOf(toState.name) >= 0 ) {
  //     return;
  //   }

  //   toastr.error('页面不存在或没有权限', 'Forbidden');

  //   event.preventDefault();
  // });


  // change page title based on state
  $rootScope.$on('$stateChangeSuccess', function (event, toState) {
    $rootScope.pageTitle = '';

    if (toState.title) {
      $rootScope.pageTitle += toState.title;
      $rootScope.pageTitle += ' \u2014 ';
    }

    $rootScope.pageTitle += AppSettings.appTitle;

    // hack: 进入页面时，body上会被添加modal-open, 导致页面无法滚动（偶发）
    $timeout(function () {
      angular.element('body').hasClass('modal-open') && console.warn('modal-open class on body!');
      angular.element('body').removeClass('modal-open');
    }, 300);
  });

  // 回退历史
  $rootScope.back = function () {
    $window.history.go(-1);
  };

  // 客户套餐
  // $rootScope.accessControl = AccessControlService.getCond();
}

exports.default = coreRun;

},{}],"/Users/cescwang/program/sil/SIL-frontend/app/core/directives/directives.module.js":[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _angular = require('angular');

var _angular2 = _interopRequireDefault(_angular);

var _datepicker = require('./mcDatePicker/datepicker');

var _datepicker2 = _interopRequireDefault(_datepicker);

var _upload = require('./mcUploadAvatar/upload');

var _upload2 = require('./mcUploadImage/upload');

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

exports.default = _angular2.default.module('app.core.directives', []).directive('mcDatepicker', _datepicker2.default).directive('mcUploadAvatar', _upload.mcUploadAvatar).directive('mcUploadImage', _upload2.mcUploadImage);

},{"./mcDatePicker/datepicker":"/Users/cescwang/program/sil/SIL-frontend/app/core/directives/mcDatePicker/datepicker.js","./mcUploadAvatar/upload":"/Users/cescwang/program/sil/SIL-frontend/app/core/directives/mcUploadAvatar/upload.js","./mcUploadImage/upload":"/Users/cescwang/program/sil/SIL-frontend/app/core/directives/mcUploadImage/upload.js","angular":"angular"}],"/Users/cescwang/program/sil/SIL-frontend/app/core/directives/mcDatePicker/datepicker.js":[function(require,module,exports){
'use strict';

DatePickerDirective.$inject = ["$timeout"];
Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.default = DatePickerDirective;
function DatePickerDirective($timeout) {
    'ngInject';

    var _arguments = arguments;
    return {
        restrict: 'EA',
        templateUrl: 'core/directives/mcDatePicker/datepicker.html',
        replace: true,
        scope: {
            id: '@',
            startDate: '=',
            minDate: '=',
            maxDate: '=',
            minView: '=',
            view: '=',
            changeBy: '=',
            changeTime: '&'
        },
        link: function link(scope, elem, attrs) {
            var source = attrs.timeSource,
                ctrlAlias = attrs.ctrlAlias,
                isClosed = false;

            scope.showDatePicker = function (e) {
                var target = e.currentTarget;
                if (target.classList.contains('open')) {
                    scope.hideDatePicker(e);
                } else {
                    target.classList.add('open');
                    // target.children('div').children().removeClass('hidden');
                    var children = target.children;
                    var child = void 0,
                        grandSon = void 0;

                    for (var i = 0, len = children.length; i < len; i++) {
                        if (children[i] && children[i].tagName.toUpperCase() == 'DIV') {
                            child = children[i];

                            break;
                        }
                    }

                    grandSon = child.children;

                    for (var _i = 0, _len = grandSon.length; _i < _len; _i++) {
                        grandSon[_i].classList.remove('hidden');
                    }
                }

                isClosed = false;
            };
            scope.hideDatePicker = function (e) {
                isClosed = true;
                if (elem.length) {
                    for (var i = 0, len = elem.length; i < len; i++) {
                        elem[i].classList.remove('open');
                    }
                } else {
                    elem.classList.remove('open');
                }
            };
            scope.mouseLeave = function (e) {
                scope.hideDatePicker(e);
            };

            var unbindHidePicker = scope.$on('hidePicker', scope.hideDatePicker);
            scope.$on('$destroy', unbindHidePicker);

            scope.$watch('startDate', function () {

                // 基于scope.$parent.$ctrl
                // 此处根据是否有手动传入time-source,来动态指定时间变量
                // 默认设置startDate
                if (source) {
                    var timeVar = getSource();
                    timeVar = scope.startDate;
                } else {
                    scope.$parent[ctrlAlias ? ctrlAlias : '$ctrl'].startDate = scope.startDate;
                }

                // TODO: changeOnInit: 是否在页面初始化时触发

                // changeBy: 'close', 如指定changeBy, 则只在该type变化时才触发事件
                if (attrs.changeBy) {
                    if (attrs.changeBy === 'close' && isClosed) {
                        // 当面板关闭时才触发事件
                        $timeout(function () {
                            scope.changeTime();
                        }, 0);
                    }
                } else {
                    $timeout(function () {
                        scope.changeTime();
                    }, 0);
                }
            });

            function getSource() {
                var arr = source.split('.'),
                    obj = scope.$parent[ctrlAlias ? ctrlAlias : '$ctrl'];

                for (var i = 0, l = arr.length; i < l; i++) {
                    obj = obj[arr[i]];
                }
                return obj;
            }

            //获取parentCtrl时间点
            var unbindToChild = scope.$on('to-child', function () {
                //arguments[1] example: 2015-01-15
                // console.log( arguments );
                scope.startDate = _arguments[1];
                scope.minDate = _arguments[2];
            });
            scope.$on('$destroy', unbindToChild);
        }
    };
};

},{}],"/Users/cescwang/program/sil/SIL-frontend/app/core/directives/mcUploadAvatar/ctrl.js":[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _angular = require('angular');

var _angular2 = _interopRequireDefault(_angular);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

var editAvatarCtrl = function () {
  editAvatarCtrl.$inject = ["$scope", "$timeout", "Cropper", "AppSettings"];
  function editAvatarCtrl($scope, $timeout, Cropper, AppSettings) {
    'ngInject';

    var _this = this;

    _classCallCheck(this, editAvatarCtrl);

    this._scope = $scope;
    this._timeout = $timeout;
    this._Cropper = Cropper;

    var options = _angular2.default.merge({}, {
      maximize: true,
      preview: '.preview-avatar div',
      // responsive: false,
      aspectRatio: 1 / 1,
      crop: function crop(dataNew) {
        dataNew.x = dataNew.x < 0 ? 0 : dataNew.x;
        dataNew.y = dataNew.y < 0 ? 0 : dataNew.y;

        _this._timeout(function () {
          _this._scope.data = dataNew;
        });
        // console.log($scope.data);
      }
    }, AppSettings.cropOptions, this._scope.cropOptions);

    _angular2.default.extend($scope, {
      proportion: 140 / 180,
      onFile: this.onFile.bind(this),
      preview: {},
      cropper: {},
      cropperProxy: 'cropper.first',
      file: '',
      data: '',
      showEvent: 'show',
      hideEvent: 'hide',
      options: options
    });
    // this._Dropzone = Dropzone;
  }

  // ------------------ method -------------------------

  _createClass(editAvatarCtrl, [{
    key: 'close',
    value: function close() {
      // $modalInstance.close();
    }
  }, {
    key: 'selectFile',
    value: function selectFile() {
      var form = _angular2.default.element('.dropzone');
      this.resetSelect(form);
      form.trigger('click');
    }
  }, {
    key: 'resetSelect',
    value: function resetSelect(form) {
      form.scope().dropzone.removeAllFiles();
    }

    /**
     * Method is called every time file input's value changes.
     * Because of Angular has not ng-change for file inputs a hack is needed -
     * call `angular.element(this).scope().onFile(this.files[0])`
     * when input's event is fired.
     */

  }, {
    key: 'onFile',
    value: function onFile(blob) {
      var _this2 = this;

      this._Cropper.encode(this._scope.file = blob).then(function (dataUrl) {
        _this2._scope.dataUrl = dataUrl;
        (_this2._scope.preview || (_this2._scope.preview = {})).dataUrl = dataUrl;
        _this2._timeout(_this2.showCropper.bind(_this2)); // wait for $digest to set image's src
        _this2._timeout(_this2.hideCropper.bind(_this2));
      });
    }
  }, {
    key: 'showCropper',


    /**
     * Showing (initializing) and hiding (destroying) of a cropper are started by
     * events. The scope of the `ng-cropper` directive is derived from the scope of
     * the controller. When initializing the `ng-cropper` directive adds two handlers
     * listening to events passed by `ng-cropper-show` & `ng-cropper-hide` attributes.
     * To show or hide a cropper `$broadcast` a proper event.
     */
    value: function showCropper() {
      this._scope.$broadcast(this._scope.showEvent);
    }
  }, {
    key: 'hideCropper',
    value: function hideCropper() {
      this._scope.$broadcast(this._scope.hideEvent);
    }
  }]);

  return editAvatarCtrl;
}();

exports.default = editAvatarCtrl;

},{"angular":"angular"}],"/Users/cescwang/program/sil/SIL-frontend/app/core/directives/mcUploadAvatar/upload.js":[function(require,module,exports){
'use strict';

mcUploadAvatar.$inject = ["$location", "$rootScope", "$timeout", "toastr", "Cropper"];
Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.mcUploadAvatar = mcUploadAvatar;

var _jquery = require('jquery');

var _jquery2 = _interopRequireDefault(_jquery);

var _ctrl = require('./ctrl');

var _ctrl2 = _interopRequireDefault(_ctrl);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

// import Dropzone from 'dropzone';

/**
 * @ngInject
 * @description 上传头像
 */
function mcUploadAvatar($location, $rootScope, $timeout, toastr, Cropper) {
    return {
        restrict: 'EA',
        templateUrl: 'core/directives/mcUploadAvatar/upload.html',
        replace: true,
        controller: _ctrl2.default,
        controllerAs: 'avatarVm',
        scope: {
            url: '=postUrl',
            params: '=imgParams',
            imgName: '=imgName',
            cropOptions: '=',
            imgUrl: '=',
            isEditing: '=',
            success: '&',
            error: '&',
            exposeScope: '&'
        },
        compile: function compile() {
            return {
                pre: function pre(scope, elem) {
                    console.log(scope.isEditing);

                    Dropzone.autoDiscover = false;

                    scope.thumbStart = false;
                    scope.barType = "success";
                    scope.pensionInfo = window.pageConf.pensionInfo;

                    scope.savedAvatar = function () {
                        var dropzone = angular.element('.dropzone').scope().dropzone.processQueue();
                    };

                    scope.resetUpload = function () {
                        scope.uploaded = false;
                        scope.dynamic = 0;
                    };

                    scope.dropzoneConfig = {
                        paramName: scope.imgName || 'images',
                        headers: { authorization: $rootScope.AUTHORIZATION_TOKEN },
                        url: scope.url,
                        method: 'post',
                        maxFilesize: 2,
                        maxFiles: 1,
                        dictFileTooBig: '文件大小不能超过2M',
                        uploadMultiple: false,
                        autoProcessQueue: false,
                        acceptedFiles: 'image/*',
                        addedfile: function addedfile(file) {

                            // 先上传
                            // if( !file ) return false;
                            // var cSize = file.size / 1024 / 1024;
                            // if( cSize > this.options.maxFilesize ){
                            //     var error_msg = "图片大小不能超过5M噢~";
                            //     toastr.error( error_msg );
                            // };


                            scope.resetUpload();
                            angular.element('#JS_avatar_input').scope().onFile(file);

                            scope.$apply(function () {
                                scope.exposeScope({ scope: scope });
                            });
                        },
                        // uploadprogress: function (file, progress) {

                        //     scope.$apply(function () {
                        //         scope.dynamic = progress;
                        //     });

                        // },
                        // error: function (file, errorMessage) {

                        //     scope.$parent.isCrop = false;

                        //     this.removeFile(file);
                        //     scope.$apply(function () {
                        //         scope.error(file, errorMessage);
                        //         toastr.error(errorMessage);
                        //     });
                        // },

                        uploadprogress: function uploadprogress(file, progress) {
                            scope.imgUploadng = true;

                            scope.$apply(function () {
                                scope.thumbStart = false;
                                scope.dynamic = progress;
                            });
                        },
                        error: function error(file, errorMessage) {
                            scope.imgUploadng = false;
                            this.removeFile(file);
                            scope.$apply(function () {
                                scope.thumbStart = false;
                                scope.error(file, errorMessage);
                                toastr.error(errorMessage);
                            });
                        },
                        success: function success(file, data) {

                            this.removeFile(file);
                            scope.$apply(function () {

                                scope.thumbStart = false;

                                if (data.status == 0) {
                                    scope.uploaded = true;
                                    scope.success({ file: file, data: data, scope: scope });
                                    // instace.close();
                                } else {
                                    toastr.error(data.info, '错误');
                                    scope.resetUpload();
                                }

                                // if( data.status == 0 ){
                                //     scope.uploaded = true;
                                //     scope.success({file: file, data: data, scope: scope});

                                //     scope.$parent.isCrop = true;

                                //     // 图片裁剪
                                //     scope.resetUpload();
                                //     angular.element('#JS_avatar_input').scope().onFile(file);


                                // }else{
                                //     toastr.error(data.info, '错误');
                                //     scope.resetUpload();
                                //     scope.$parent.isCrop = false;
                                // }
                            });
                        }
                    };
                }
            };
        }
    };
}

},{"./ctrl":"/Users/cescwang/program/sil/SIL-frontend/app/core/directives/mcUploadAvatar/ctrl.js","jquery":"jquery"}],"/Users/cescwang/program/sil/SIL-frontend/app/core/directives/mcUploadImage/ctrl.js":[function(require,module,exports){
arguments[4]["/Users/cescwang/program/sil/SIL-frontend/app/core/directives/mcUploadAvatar/ctrl.js"][0].apply(exports,arguments)
},{"angular":"angular"}],"/Users/cescwang/program/sil/SIL-frontend/app/core/directives/mcUploadImage/upload.js":[function(require,module,exports){
'use strict';

mcUploadImage.$inject = ["$location", "$rootScope", "$timeout", "toastr", "Cropper"];
Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.mcUploadImage = mcUploadImage;

var _jquery = require('jquery');

var _jquery2 = _interopRequireDefault(_jquery);

var _ctrl = require('./ctrl');

var _ctrl2 = _interopRequireDefault(_ctrl);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

// import Dropzone from 'dropzone';

/**
 * @ngInject
 * @description 上传头像
 */
function mcUploadImage($location, $rootScope, $timeout, toastr, Cropper) {
    return {
        restrict: 'EA',
        templateUrl: 'core/directives/mcUploadImage/upload.html',
        replace: true,
        controller: _ctrl2.default,
        controllerAs: 'avatarVm',
        scope: {
            url: '=postUrl',
            params: '=imgParams',
            imgName: '=imgName',
            cropOptions: '=',
            imgUrl: '=',
            success: '&',
            error: '&',
            exposeScope: '&',
            editing: '='
        },
        compile: function compile() {
            return {
                pre: function pre(scope, elem) {
                    console.log(scope.editing);

                    Dropzone.autoDiscover = false;

                    scope.thumbStart = false;
                    scope.barType = "success";
                    scope.pensionInfo = window.pageConf.pensionInfo;

                    scope.savedAvatar = function () {
                        var dropzone = angular.element('.dropzone').scope().dropzone.processQueue();
                    };

                    scope.resetUpload = function () {
                        scope.uploaded = false;
                        scope.dynamic = 0;
                    };

                    scope.dropzoneConfig = {
                        paramName: scope.imgName || 'images',
                        headers: { authorization: $rootScope.AUTHORIZATION_TOKEN },
                        url: scope.url,
                        method: 'post',
                        maxFilesize: 2,
                        maxFiles: 1,
                        dictFileTooBig: '文件大小不能超过2M',
                        uploadMultiple: false,
                        autoProcessQueue: false,
                        acceptedFiles: 'image/*',
                        addedfile: function addedfile(file) {
                            scope.resetUpload();
                            angular.element('#JS_avatar_input').scope().onFile(file);

                            scope.$apply(function () {
                                scope.exposeScope({ scope: scope });
                            });
                        },
                        uploadprogress: function uploadprogress(file, progress) {
                            scope.imgUploadng = true;

                            scope.$apply(function () {
                                scope.thumbStart = false;
                                scope.dynamic = progress;
                            });
                        },
                        error: function error(file, errorMessage) {
                            scope.imgUploadng = false;
                            this.removeFile(file);
                            scope.$apply(function () {
                                scope.thumbStart = false;
                                scope.error(file, errorMessage);
                                toastr.error(errorMessage);
                            });
                        },
                        success: function success(file, data) {
                            this.removeFile(file);
                            scope.$apply(function () {

                                scope.thumbStart = false;

                                if (data.status == 0) {
                                    scope.uploaded = true;
                                    scope.success({ file: file, data: data, scope: scope });
                                    // instace.close();
                                } else {
                                    toastr.error(data.info, '错误');
                                    scope.resetUpload();
                                }
                            });
                        }
                    };
                }
            };
        }
    };
}

},{"./ctrl":"/Users/cescwang/program/sil/SIL-frontend/app/core/directives/mcUploadImage/ctrl.js","jquery":"jquery"}],"/Users/cescwang/program/sil/SIL-frontend/app/core/services/checkState.service.js":[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

var checkStateService = function () {
  checkStateService.$inject = ["$rootScope", "$state", "sweet", "utilService"];
  function checkStateService($rootScope, $state, sweet, utilService) {
    'ngInject';

    _classCallCheck(this, checkStateService);

    this._rootScope = $rootScope;
    this._state = $state;
    this._sweet = sweet;
    this._utilService = utilService;
  }

  _createClass(checkStateService, [{
    key: 'formStateChange',
    value: function formStateChange(scope, formName) {
      var _this = this;

      var removeListener = this._rootScope.$on('$stateChangeStart', function (event, toState, toParams, fromState, fromParams) {

        var form = formName.split('.').length > 1 ? _this._utilService.getDescendantProp(scope, formName) : scope[formName];
        // 没有修改过
        if (!form || form && form.$pristine) {
          return;
        }

        _this.leaveConfirm(function (isConfirm) {
          if (!isConfirm) {
            // https://github.com/angular-ui/ui-router/issues/1158
            _this._state.go(toState.name, toParams, { notify: false }).then(function () {
              _this._rootScope.$broadcast('$stateChangeSuccess', toState, toParams, fromState, fromParams);
            });
          }
        });

        event.preventDefault();
      });

      scope.$on('$destroy', removeListener);
    }
  }, {
    key: 'leaveConfirm',
    value: function leaveConfirm(cb) {

      this._sweet.show({
        title: '提示',
        text: '当前信息尚未保存，是否离开此页面？',
        type: 'warning',
        showCancelButton: true,
        confirmButtonText: '留下',
        cancelButtonText: '离开'
      }, function (sure) {
        return cb(sure);
      });
    }
  }]);

  return checkStateService;
}();

exports.default = checkStateService;

},{}],"/Users/cescwang/program/sil/SIL-frontend/app/core/services/history.service.js":[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

var historyService = function () {
  historyService.$inject = ["$window"];
  function historyService($window) {
    'ngInject';

    _classCallCheck(this, historyService);

    this._window = $window;
  }

  _createClass(historyService, [{
    key: 'back',
    value: function back() {
      this._window.history.back();
    }
  }]);

  return historyService;
}();

exports.default = historyService;

},{}],"/Users/cescwang/program/sil/SIL-frontend/app/core/services/http.interceptor.js":[function(require,module,exports){
'use strict';

httpInterceptor.$inject = ["$q", "$window", "$injector", "$rootScope"];
Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = httpInterceptor;
function httpInterceptor($q, $window, $injector, $rootScope) {
  'ngInject';

  var requestInterceptor = {

    response: function response(_response) {
      var deferred = $q.defer();
      if (_response.data && (_response.data.code == 406 || _response.data.code == 402 || _response.data.code == 405)) {
        $window.location.href = '/login.html';
      }

      deferred.resolve(_response);
      return deferred.promise;
    },

    request: function request(config) {
      var deferred = $q.defer();

      config.timeout = 1000 * 100;
      // localStorage.getItem('SIL_TOKEN') || 
      // $http.defaults.headers.common['authorization']
      // config.headers['extra'] = '{"token":"iamsuperman:15828516285"}';
      config.headers['extra'] = localStorage.getItem('SIL_TOKEN') ? '{"token":"' + localStorage.getItem('SIL_TOKEN') + '","platform":"web","version":"1.0.0"}' : '';
      $rootScope.AUTHORIZATION_TOKEN = config.headers['extra'];

      if (!config.headers['extra']) {
        $window.location.href = '/login.html';
      }

      deferred.resolve(config);
      return deferred.promise;
    }
  };

  return requestInterceptor;
}

},{}],"/Users/cescwang/program/sil/SIL-frontend/app/core/services/httpHelper.service.js":[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

var httpHelper = function () {
  httpHelper.$inject = ["toastr", "blockUI", "AppSettings"];
  function httpHelper(toastr, blockUI, AppSettings) {
    'ngInject';

    _classCallCheck(this, httpHelper);

    this._blockUIInstance = null;
    this._errorInfo = AppSettings.errorInfo;

    this.toastr = toastr;
    this.$blockUI = blockUI;

    this.blockUI = {
      start: this._startBlockUI.bind(this),
      stop: this._stopBlockUI.bind(this)
    };

    this.verify = this._verify.bind(this);
    this.error = this._error.bind(this);
  }
  // ========================= Methods =========================

  _createClass(httpHelper, [{
    key: '_verify',
    value: function _verify(res) {
      var _this = this;

      this._stopBlockUI();

      return new Promise(function (resolve, reject) {
        if (res.data.code === 0) {
          resolve(res.data.data);
        } else {
          _this.toastr.error(_this._errorInfo[res.data.code] || res.data.info, '错误');
          reject(res);
        }
      });
    }
  }, {
    key: '_error',
    value: function _error() {
      var _this2 = this;

      this.toastr.error('获取数据失败！', '错误');
      return new Promise(function (resolve, reject) {
        _this2._stopBlockUI();

        reject();
      });
    }
  }, {
    key: '_startBlockUI',
    value: function _startBlockUI(blockUIName) {
      // TODO reset on restart
      this.$blockUI.instances.reset();
      if (blockUIName) {
        this._blockUIInstance = this.$blockUI.instances.get(blockUIName);
        this._blockUIInstance.start();
      } else {
        if (this.$blockUI.isBlocking) {
          this.$blockUI.stop();
        }
        this.$blockUI.start();
      }
    }
  }, {
    key: '_stopBlockUI',
    value: function _stopBlockUI() {
      if (this._blockUIInstance) {
        this._blockUIInstance.stop();
        this._blockUIInstance = null;
      } else {
        this.$blockUI.stop();
      }
    }
  }]);

  return httpHelper;
}();

exports.default = httpHelper;

},{}],"/Users/cescwang/program/sil/SIL-frontend/app/core/services/imgPreLoad.service.js":[function(require,module,exports){
'use strict';

imgPreLoadService.$inject = ["$q"];
Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = imgPreLoadService;
/**
 * @ngInject
 * @description 判断图片是否加载成功
 * ref: http://stackoverflow.com/questions/24569270/preload-background-image-using-angularjs-promises
 */
function imgPreLoadService($q) {
  'ngInject';

  return function (url) {
    var deffered = $q.defer(),
        image = new Image();

    image.src = url;

    if (image.complete) {
      deffered.resolve();
    } else {
      image.addEventListener('load', function () {
        deffered.resolve();
      });

      image.addEventListener('error', function () {
        deffered.reject();
      });
    }

    return deffered.promise;
  };
}

},{}],"/Users/cescwang/program/sil/SIL-frontend/app/core/services/service.module.js":[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _angular = require('angular');

var _angular2 = _interopRequireDefault(_angular);

var _httpHelper = require('./httpHelper.service');

var _httpHelper2 = _interopRequireDefault(_httpHelper);

var _imgPreLoad = require('./imgPreLoad.service');

var _imgPreLoad2 = _interopRequireDefault(_imgPreLoad);

var _checkState = require('./checkState.service');

var _checkState2 = _interopRequireDefault(_checkState);

var _util = require('./util.service');

var _util2 = _interopRequireDefault(_util);

var _history = require('./history.service');

var _history2 = _interopRequireDefault(_history);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

exports.default = _angular2.default.module('app.module.core.service', []).service('httpHelper', _httpHelper2.default).service('imgPreLoadService', _imgPreLoad2.default).service('checkStateService', _checkState2.default).service('utilService', _util2.default).service('historyService', _history2.default);

},{"./checkState.service":"/Users/cescwang/program/sil/SIL-frontend/app/core/services/checkState.service.js","./history.service":"/Users/cescwang/program/sil/SIL-frontend/app/core/services/history.service.js","./httpHelper.service":"/Users/cescwang/program/sil/SIL-frontend/app/core/services/httpHelper.service.js","./imgPreLoad.service":"/Users/cescwang/program/sil/SIL-frontend/app/core/services/imgPreLoad.service.js","./util.service":"/Users/cescwang/program/sil/SIL-frontend/app/core/services/util.service.js","angular":"angular"}],"/Users/cescwang/program/sil/SIL-frontend/app/core/services/util.service.js":[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
    value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

var util = function () {
    util.$inject = ["$window", "$http", "toastr", "sweet", "mcRegExp", "ApiMap"];
    function util($window, $http, toastr, sweet, mcRegExp, ApiMap) {
        'ngInject';

        _classCallCheck(this, util);

        this._window = $window;
        this._http = $http;

        this.toastr = toastr;
        this.sweet = sweet;
        this.mcRegExp = mcRegExp;
        this._api = ApiMap;
    }
    // 退出操作


    _createClass(util, [{
        key: 'logout',
        value: function logout() {
            var _this = this;

            return this._http.get(this._api.person.logout).then(function (data) {
                _this._window.location.href = '/login.html';
            });
        }

        /**
         * 用underscore从一个对象数组中删除指定的对象
         * @param arr 该数组
         * @param whereObj 查询要删除的对象
         */

    }, {
        key: 'removeItemFromArray',
        value: function removeItemFromArray(arr, whereObj) {
            return _.without(arr, _.findWhere(arr, whereObj));
        }

        /**
         * 获取指定月的总天数
         * @param date | string 日期对象或日期字符串
         * @returns {number}
         */

    }, {
        key: 'getDaysLenInMonth',
        value: function getDaysLenInMonth(date) {
            if (angular.isString(date)) {
                date = new Date(date);
            }
            var month = parseInt(date.getMonth() + 1, 10);
            return new Date(date.getFullYear(), month, 0).getDate();
        }

        /**
         * 针对非表单字段做数据验证
         * @param  {[type]} type  [description]
         * @return {[type]}       [description]
         */

    }, {
        key: 'validate',
        value: function validate(type) {
            var types = type.split(','),
                result = true,
                expr,
                args = Array.prototype.slice.call(arguments, 1);

            // 把第二个参数param归位到最后一个参数（把param放到第二个参数是因为使用方便）
            args.splice(1, 0, null, null, null);

            function applyExpr(type) {
                expr = this.mcRegExp.expression[type];
                if (expr instanceof RegExp) {
                    result = expr.test(args[0]);
                } else {
                    result = expr.apply(null, args);
                }
            }

            if (types.length > 1) {
                // http://stackoverflow.com/questions/13843972/angular-js-break-foreach
                angular.forEach(types, function (type) {
                    type && type.trim();
                    if (result) {
                        applyExpr(type);

                        if (!result) {
                            this.toastr.warning(this.mcRegExp.defaultMsg[type].error);
                            return false;
                        }
                    }
                });
            } else {
                applyExpr(type);

                if (!result) {
                    this.toastr.warning(this.mcRegExp.defaultMsg[type].error);
                }
            }

            return result;
        }

        /**
         * 允许访问以点连接的属性表达式字符串访问子属性
         * @param  {[type]} obj  targe
         * @param  {[type]} desc visit prop string
         * @return {[type]}      value
         * @example
         *   getDescendantProp({a: 1, b: {c: 2}}, 'b.c')  // 2
         */

    }, {
        key: 'getDescendantProp',
        value: function getDescendantProp(obj, desc) {
            var arr = desc.split(".");
            while (arr.length && (obj = obj[arr.shift()])) {}
            return obj;
        }

        /**
         * 询问窗口
         * @param  {[type]}   opts toastr参数
         * @param  {Function} cb   确认回调
         */

    }, {
        key: 'confirm',
        value: function confirm(opts, cb) {
            var options = angular.extend({
                title: '提示',
                text: '',
                //type: 'warning',
                imageUrl: '/dist/images/common/warning.png',
                showCancelButton: true,
                confirmButtonText: '确认',
                cancelButtonText: '取消'
            }, opts);

            this.sweet.show(options, function (isConfirm) {
                cb(isConfirm);
            });
        }

        /**
         * 替换underscore的pick()
         * http://stackoverflow.com/a/25835337/4723163
         *
         * example:
         *   let data = {foo: 'test', abc: 1, zyx: 222}
         *   pick(data, 'foo', 'zyx') // => {foo: 'test', zyx: 222}
         */

    }, {
        key: 'pick',
        value: function pick(o) {
            var _this2 = this;

            if (!o) return {};

            for (var _len = arguments.length, fields = Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {
                fields[_key - 1] = arguments[_key];
            }

            return fields.reduce(function (a, x) {
                if (x.includes('.')) {
                    // TODO: 判断hasOwnProperty
                    a[x.split('.').pop()] = _this2.getDescendantProp(o, x);
                } else {
                    if (o.hasOwnProperty(x)) a[x] = o[x];
                }

                return a;
            }, {});
        }

        /**
         * 在一个Object列表中，通过id/value获取其对应的text/name
         * list: Object数组
         * id: 查找的id
         * idKey: id的属性名(默认为value)
         * textKey: text的属性名(默认为name)
         * 如果不存在对应text则返回""
         */

    }, {
        key: 'getTextById',
        value: function getTextById(list, id) {
            var idKey = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 'value';
            var textKey = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : 'name';

            if (!list || !angular.isArray(list)) return;
            var filtered = list.filter(function (item) {
                return id === item[idKey];
            });
            return filtered.length ? filtered[0][textKey] : '';
        }
    }]);

    return util;
}();

exports.default = util;

},{}],"/Users/cescwang/program/sil/SIL-frontend/app/core/vendor/config/blockUI.config.js":[function(require,module,exports){
'use strict';

blockUIConfig.$inject = ["blockUIConfig"];
Object.defineProperty(exports, "__esModule", {
    value: true
});
function blockUIConfig(blockUIConfig) {
    'ngInject';

    blockUIConfig.message = ''; // 加载中...

    // Change the default delay to 100ms before the blocking is visible
    blockUIConfig.delay = 100;

    // Disable automatically blocking of the user interface
    blockUIConfig.autoBlock = false;

    // 只要发生异常就清除block
    blockUIConfig.resetOnException = true;

    // block默认是加到body上的，不过我们关掉它，自已指定block的区域
    blockUIConfig.autoInjectBodyBlock = false;

    // 默认是block-ui block-ui-anim-fade；如果需要覆盖，设置为 block-ui + 想应用的class
    blockUIConfig.cssClass = 'block-ui block-ui-message-custom';
}

exports.default = blockUIConfig;

},{}],"/Users/cescwang/program/sil/SIL-frontend/app/core/vendor/config/toastr.config.js":[function(require,module,exports){
'use strict';

toastrConfig.$inject = ["toastrConfig"];
Object.defineProperty(exports, "__esModule", {
  value: true
});

var _angular = require('angular');

var _angular2 = _interopRequireDefault(_angular);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function toastrConfig(toastrConfig) {
  'ngInject';

  _angular2.default.extend(toastrConfig, {
    allowHtml: false,
    autoDismiss: false,
    closeButton: true,
    closeHtml: '<button>&times;</button>',
    containerId: 'toast-container',
    extendedTimeOut: 1000,
    iconClasses: {
      error: 'toast-error',
      info: 'toast-info',
      success: 'toast-success',
      warning: 'toast-warning'
    },
    maxOpened: 0,
    messageClass: 'toast-message',
    newestOnTop: true,
    onHidden: null,
    onShown: null,
    onTap: null,
    positionClass: 'toast-top-right',
    preventDuplicates: false,
    preventOpenDuplicates: true,
    progressBar: true,
    tapToDismiss: true,
    target: 'body',
    templates: {
      toast: 'directives/toast/toast.html',
      progressbar: 'directives/progressbar/progressbar.html'
    },
    timeOut: 2000,
    titleClass: 'toast-title',
    toastClass: 'toast'
  });
}

exports.default = toastrConfig;

},{"angular":"angular"}],"/Users/cescwang/program/sil/SIL-frontend/app/core/vendor/config/uibPagination.config.js":[function(require,module,exports){
'use strict';

paginationConfig.$inject = ["uibPaginationConfig"];
Object.defineProperty(exports, "__esModule", {
  value: true
});

var _angular = require('angular');

var _angular2 = _interopRequireDefault(_angular);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function paginationConfig(uibPaginationConfig) {
  'ngInject';

  _angular2.default.extend(uibPaginationConfig, {
    // itemsPerPage: 10,
    boundaryLinks: true,
    rotate: false, // Whether to keep current page in the middle of the visible ones.
    maxSize: 10, // Limit number for pagination size.
    previousText: '上一页',
    nextText: '下一页',
    firstText: '首页',
    lastText: '尾页'
  });
}

exports.default = paginationConfig;

},{"angular":"angular"}],"/Users/cescwang/program/sil/SIL-frontend/app/core/vendor/config/validationRule.config.js":[function(require,module,exports){
'use strict';

validationRuleConfig.$inject = ["$validationProvider"];
Object.defineProperty(exports, "__esModule", {
  value: true
});

var _angular = require('angular');

var _angular2 = _interopRequireDefault(_angular);

var _regExpRule = require('./../../../common/constants/regExpRule');

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function validationRuleConfig($validationProvider) {
  'ngInject';

  $validationProvider.setExpression(_regExpRule.expression).setDefaultMsg(_regExpRule.defaultMsg);
}

exports.default = validationRuleConfig;

},{"./../../../common/constants/regExpRule":"/Users/cescwang/program/sil/SIL-frontend/app/common/constants/regExpRule.js","angular":"angular"}],"/Users/cescwang/program/sil/SIL-frontend/app/core/vendor/uibModal.decorator.js":[function(require,module,exports){
'use strict';

uibModalDecorator.$inject = ["$delegate"];
Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = uibModalDecorator;
// https://github.com/angular-ui/bootstrap/issues/5331
// 作废。在多重弹框的情况下，关闭上层的，会导致底层的无法滚动
function uibModalDecorator($delegate) {
  'ngInject';

  var baseOpen = $delegate.open;

  $delegate.open = function () {
    var options = arguments[0];
    var openedClass = 'modal-open';
    if (options) {
      openedClass = options.openedClass || openedClass;
      options.openedClass = "ignoreThisClass";
    }
    var mi = baseOpen.apply(this, arguments);
    var body = angular.element(document.body);
    body.addClass(openedClass);

    // Use result finally, because for whatever reason, closed never resolves
    mi.result.finally(function () {
      body.removeClass(openedClass);
    });

    return mi;
  };

  return $delegate;
}

},{}],"/Users/cescwang/program/sil/SIL-frontend/app/core/vendor/vendor.module.js":[function(require,module,exports){
(function (global){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _angular = require('angular');

var _angular2 = _interopRequireDefault(_angular);

var _jquery = require('jquery');

var _jquery2 = _interopRequireDefault(_jquery);

require('angular-toastr');

require('jquery-slimscroll');

require('angular-slimscroll');

require('angular-ui-switch');

var _angularBlockUi = require('angular-block-ui');

var _angularBlockUi2 = _interopRequireDefault(_angularBlockUi);

require('sweetalert');

require('angular-h-sweetalert');

var _dropzone = require('dropzone');

var _dropzone2 = _interopRequireDefault(_dropzone);

require('angular-dropzone');

require('ngCropper/dist/ngCropper.all');

require('angular-datepicker');

var _pace = require('pace2');

var _pace2 = _interopRequireDefault(_pace);

require('checklist-model');

var _viewerjs = require('viewerjs');

var _viewerjs2 = _interopRequireDefault(_viewerjs);

require('angular-sanitize');

require('angular-auto-complete');

var _underscore = require('underscore');

var _underscore2 = _interopRequireDefault(_underscore);

var _moment = require('moment');

var _moment2 = _interopRequireDefault(_moment);

require('angular-moment');

require('moment/locale/zh-cn');

require('angular-validation');

require('angular-validation/dist/angular-validation-rule');

require('angular-validation-match');

require("./../../../bower_components/angular-mdeditor/src/angular-mdeditor.js");

var _blockUI = require('./config/blockUI.config');

var _blockUI2 = _interopRequireDefault(_blockUI);

var _toastr = require('./config/toastr.config');

var _toastr2 = _interopRequireDefault(_toastr);

var _uibPagination = require('./config/uibPagination.config');

var _uibPagination2 = _interopRequireDefault(_uibPagination);

var _validationRule = require('./config/validationRule.config');

var _validationRule2 = _interopRequireDefault(_validationRule);

var _uibModal = require('./uibModal.decorator');

var _uibModal2 = _interopRequireDefault(_uibModal);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

global.$ = global.jQuery = _jquery2.default;

window.Dropzone = _dropzone2.default;
// import 'angular-xeditable';

window.Viewer = _viewerjs2.default;

// TODO: Angular version - https://github.com/andresesfm/angular-underscore-module/blob/master/angular-underscore-module.js

window._ = _underscore2.default;

window.moment = _moment2.default;

// TODO: https://github.com/Andyczc/angular-validation/commit/051655502558f4d61f6dfc4dc53eed3efdb9e46b

// import {xeditableOptions} from './config/xeditable.config';

exports.default = _angular2.default.module('app.core.vendor', [
// UI widget
'toastr', 'ui.slimscroll', 'uiSwitch', 'hSweetAlert', 'blockUI', 'ngDropzone', 'datePicker', 'ngCropper',
// 'xeditable', // TODO: replace with form-edit directive
'checklist-model', 'autoCompleteModule',

// Utils
'angularMoment', 'validation', 'validation.rule', 'validation.match', 'ui.mdeditor']).config(_blockUI2.default).config(_toastr2.default).config(_uibPagination2.default).config(_validationRule2.default);
// .run(xeditableOptions)
//.decorator('$uibModal', uibModalDecorator)
// .run(xeditableThemes);

}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{"./../../../bower_components/angular-mdeditor/src/angular-mdeditor.js":"/Users/cescwang/program/sil/SIL-frontend/bower_components/angular-mdeditor/src/angular-mdeditor.js","./config/blockUI.config":"/Users/cescwang/program/sil/SIL-frontend/app/core/vendor/config/blockUI.config.js","./config/toastr.config":"/Users/cescwang/program/sil/SIL-frontend/app/core/vendor/config/toastr.config.js","./config/uibPagination.config":"/Users/cescwang/program/sil/SIL-frontend/app/core/vendor/config/uibPagination.config.js","./config/validationRule.config":"/Users/cescwang/program/sil/SIL-frontend/app/core/vendor/config/validationRule.config.js","./uibModal.decorator":"/Users/cescwang/program/sil/SIL-frontend/app/core/vendor/uibModal.decorator.js","angular":"angular","angular-auto-complete":"/Users/cescwang/program/sil/SIL-frontend/node_modules/angular-auto-complete/angular-auto-complete.js","angular-block-ui":"/Users/cescwang/program/sil/SIL-frontend/node_modules/angular-block-ui/dist/angular-block-ui.js","angular-datepicker":"/Users/cescwang/program/sil/SIL-frontend/node_modules/angular-datepicker/dist/angular-datepicker.js","angular-dropzone":"angular-dropzone","angular-h-sweetalert":"/Users/cescwang/program/sil/SIL-frontend/node_modules/angular-h-sweetalert/src/ngSweetAlert.js","angular-moment":"/Users/cescwang/program/sil/SIL-frontend/node_modules/angular-moment/angular-moment.js","angular-sanitize":"/Users/cescwang/program/sil/SIL-frontend/node_modules/angular-sanitize/index.js","angular-slimscroll":"angular-slimscroll","angular-toastr":"angular-toastr","angular-ui-switch":"angular-ui-switch","angular-validation":"/Users/cescwang/program/sil/SIL-frontend/node_modules/angular-validation/dist/angular-validation.js","angular-validation-match":"/Users/cescwang/program/sil/SIL-frontend/node_modules/angular-validation-match/index.js","angular-validation/dist/angular-validation-rule":"/Users/cescwang/program/sil/SIL-frontend/node_modules/angular-validation/dist/angular-validation-rule.js","checklist-model":"/Users/cescwang/program/sil/SIL-frontend/node_modules/checklist-model/checklist-model.js","dropzone":"dropzone","jquery":"jquery","jquery-slimscroll":"jquery-slimscroll","moment":"/Users/cescwang/program/sil/SIL-frontend/node_modules/moment/moment.js","moment/locale/zh-cn":"/Users/cescwang/program/sil/SIL-frontend/node_modules/moment/locale/zh-cn.js","ngCropper/dist/ngCropper.all":"/Users/cescwang/program/sil/SIL-frontend/node_modules/ngCropper/dist/ngCropper.all.js","pace2":"pace2","sweetalert":"/Users/cescwang/program/sil/SIL-frontend/node_modules/sweetalert/lib/sweetalert.js","underscore":"/Users/cescwang/program/sil/SIL-frontend/node_modules/underscore/underscore.js","viewerjs":"/Users/cescwang/program/sil/SIL-frontend/node_modules/viewerjs/dist/viewer.js"}],"/Users/cescwang/program/sil/SIL-frontend/app/modules/account/config.js":[function(require,module,exports){
'use strict';

Config.$inject = ["$stateProvider"];
Object.defineProperty(exports, "__esModule", {
    value: true
});
function Config($stateProvider) {
    'ngInject';

    $stateProvider.state('account', {
        url: '/account',
        //abstract: true,
        template: '<ui-view><account-list></account-list></ui-view>',
        title: '账号管理',
        sidebarMeta: {
            icon: 'icon-sidebar_members_ic',
            order: 100
        }
    }).state('account.list', {
        url: '',
        template: '<account-list></account-list>',
        title: '账号列表'
    }).state('account.detail', {
        url: '/detail?id',
        template: '<account-detail></account-detail>',
        title: '账号详情'
    });
}

exports.default = Config;

},{}],"/Users/cescwang/program/sil/SIL-frontend/app/modules/account/detail/ctrl.js":[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

var DetailController = function () {
  DetailController.$inject = ["$state", "$stateParams", "toastr", "AccountService", "AppSettings", "ConfigService", "ProfileService"];
  function DetailController($state, $stateParams, toastr, AccountService, AppSettings, ConfigService, ProfileService) {
    'ngInject';

    _classCallCheck(this, DetailController);

    this._state = $state;
    this._toastr = toastr;
    this._stateParams = $stateParams;

    this._service = AccountService;
    this._configService = ConfigService;

    this.id = this._stateParams.id;
    this.roleKey = AppSettings.roleListKey;
    this.roleList = ProfileService.getRoleList();

    this.info = null;

    this._init();
  }

  _createClass(DetailController, [{
    key: '_init',
    value: function _init() {
      var _this = this;

      var params = {
        id: this.id
      };
      this.stateArr = {
        0: '未激活',
        1: '正常',
        2: '已冻结',
        3: '已删除'
      };

      this._service.get(params).then(function (data) {
        _this.person = data;
      });
    }
  }, {
    key: 'setUser',
    value: function setUser() {
      var params = {
        user_id: this.id,
        new_password: this.person.new_password,
        true_name: this.person.true_name,
        phone: this.person.phone,
        role: this.person.role,
        role_name: this.person.role_name,
        state: this.person.state
      };
      this._service.set(params).then(function (data) {
        location.href = '/#/account';
      });
    }
  }]);

  return DetailController;
}();

exports.default = DetailController;

},{}],"/Users/cescwang/program/sil/SIL-frontend/app/modules/account/detail/index.js":[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _ctrl = require('./ctrl');

var _ctrl2 = _interopRequireDefault(_ctrl);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var detail = {
  templateUrl: 'modules/account/detail/index.html',
  controller: _ctrl2.default,
  controllerAs: 'vm'
};

exports.default = detail;

},{"./ctrl":"/Users/cescwang/program/sil/SIL-frontend/app/modules/account/detail/ctrl.js"}],"/Users/cescwang/program/sil/SIL-frontend/app/modules/account/list/ctrl.js":[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _mcPagination = require('../../../core/components/mcPagination/mc-pagination.class');

var _mcPagination2 = _interopRequireDefault(_mcPagination);

var _modals = require('../modals');

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var ListController = function (_Pagination) {
  ListController.$inject = ["$injector", "$state", "$location", "$stateParams", "toastr", "$uibModal", "AccountService"];
  _inherits(ListController, _Pagination);

  function ListController($injector, $state, $location, $stateParams, toastr, $uibModal, AccountService) {
    'ngInject';

    _classCallCheck(this, ListController);

    var _this = _possibleConstructorReturn(this, (ListController.__proto__ || Object.getPrototypeOf(ListController)).call(this, $injector));

    _this._state = $state;
    _this._location = $location;
    _this._stateParams = $stateParams;
    _this._modal = $uibModal;

    _this._toastr = toastr;

    _this._service = AccountService;

    _this.filters = {};

    _this.oneAtATime = true;

    _this._init();

    _this.stateArr = {
      0: '未激活',
      1: '正常',
      2: '已冻结',
      3: '已删除'
    };

    return _this;
  }

  _createClass(ListController, [{
    key: '_init',
    value: function _init() {
      this._initFilters();
      this._getList();
    }
  }, {
    key: '_initFilters',
    value: function _initFilters() {

      var stateParams = this._stateParams;
      //this.filters.keyword = stateParams.keyword || void(0);
    }
  }, {
    key: '_getList',
    value: function _getList() {
      var _this2 = this;

      var params = this._filterEmptyValue();
      params.page = this.pagination.page;
      params.page_limit = 20;

      this._service.list(params).then(function (data) {
        _this2.pagination.count = data.count;
        _this2.pagination.pageSize = data.page_limit;
        _this2.list = data.users;
      });
    }
  }, {
    key: 'pageChanged',
    value: function pageChanged() {
      this._getList();
    }
  }, {
    key: 'reSearch',
    value: function reSearch() {
      this._getList();
    }
  }, {
    key: 'addUser',
    value: function addUser() {
      var list = this.list;
      var resolve = {
        info: function info() {
          return {
            list: list
          };
        }
      };

      var options = _extends({}, _modals.addConfig, { resolve: resolve });

      this._modal.open(options);
    }
  }, {
    key: 'assignBranch',
    value: function assignBranch(item) {
      var resolve = {
        info: function info() {
          return item;
        }
      };

      var options = _extends({}, _modals.branchConfig, { resolve: resolve });

      this._modal.open(options);
    }
  }]);

  return ListController;
}(_mcPagination2.default);

exports.default = ListController;

},{"../../../core/components/mcPagination/mc-pagination.class":"/Users/cescwang/program/sil/SIL-frontend/app/core/components/mcPagination/mc-pagination.class.js","../modals":"/Users/cescwang/program/sil/SIL-frontend/app/modules/account/modals/index.js"}],"/Users/cescwang/program/sil/SIL-frontend/app/modules/account/list/index.js":[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _ctrl = require('./ctrl');

var _ctrl2 = _interopRequireDefault(_ctrl);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var List = {
  templateUrl: 'modules/account/list/index.html',
  controller: _ctrl2.default,
  controllerAs: 'vm'
};

exports.default = List;

},{"./ctrl":"/Users/cescwang/program/sil/SIL-frontend/app/modules/account/list/ctrl.js"}],"/Users/cescwang/program/sil/SIL-frontend/app/modules/account/modals/add/ctrl.js":[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

var Controller = function () {
  Controller.$inject = ["$scope", "$state", "$validation", "$uibModalInstance", "toastr", "AccountService", "info", "AppSettings", "ConfigService", "ProfileService"];
  function Controller($scope, $state, $validation, $uibModalInstance, toastr, AccountService, info, AppSettings, ConfigService, ProfileService) {
    'ngInject';

    var _this = this;

    _classCallCheck(this, Controller);

    this._scope = $scope;
    this._state = $state;

    this._validationProvider = $validation;

    this._modalInstance = $uibModalInstance;
    this._toastr = toastr;

    this._service = AccountService;
    this._configService = ConfigService;

    this.roleKey = AppSettings.roleListKey;
    this.roleList = ProfileService.getRoleList();

    this.info = info;
    this.bankList = [];

    this.inputInfo = {
      true_name: '',
      phone: '',
      role: ''
    };

    this.autoCompleteOptions = {
      minimumChars: 1,
      data: function data(term) {
        term = term.toUpperCase();
        var match = _.filter(info.agencyList, function (value) {
          return value.startsWith(term);
        });
        return match;
      }
    };

    this._service.getBankList().then(function (data) {
      _this.bankList = data;
    });
  }

  _createClass(Controller, [{
    key: 'assignBranch',
    value: function assignBranch(item) {
      var resolve = {
        info: function info() {
          return item;
        }
      };

      var options = _extends({}, branchConfig, { resolve: resolve });

      this._modal.open(options);
    }
  }, {
    key: 'cancel',
    value: function cancel() {
      this._modalInstance.close();
    }
  }, {
    key: 'submit',
    value: function submit(form) {
      var _this2 = this;

      //验证表单
      this._validationProvider.validate(form).success(function () {
        _this2.saveFunc();
      });
    }
  }, {
    key: 'saveFunc',
    value: function saveFunc() {
      var _this3 = this;

      var data = this.inputInfo;
      this._service.add(data).then(function (data) {
        _this3._toastr.success('添加成功');
        _this3.cancel();
        _this3._state.reload();
      });
    }
  }]);

  return Controller;
}();

exports.default = Controller;

},{}],"/Users/cescwang/program/sil/SIL-frontend/app/modules/account/modals/add/index.js":[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _ctrl = require('./ctrl');

var _ctrl2 = _interopRequireDefault(_ctrl);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var Configuration = {
  templateUrl: 'modules/account/modals/add/template.html',
  controller: _ctrl2.default,
  controllerAs: 'vm'
};

exports.default = Configuration;

},{"./ctrl":"/Users/cescwang/program/sil/SIL-frontend/app/modules/account/modals/add/ctrl.js"}],"/Users/cescwang/program/sil/SIL-frontend/app/modules/account/modals/branch/ctrl.js":[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

var Controller = function () {
  Controller.$inject = ["$scope", "$state", "$validation", "$uibModalInstance", "toastr", "AccountService", "info"];
  function Controller($scope, $state, $validation, $uibModalInstance, toastr, AccountService, info) {
    'ngInject';

    _classCallCheck(this, Controller);

    this._scope = $scope;
    this._state = $state;

    this._validationProvider = $validation;

    this._modalInstance = $uibModalInstance;
    this._toastr = toastr;

    this._service = AccountService;

    this.info = info;

    this.inputInfo = {
      branch: info.bank && info.bank.id
    };

    this.list = null;

    this._getBankList();
  }

  _createClass(Controller, [{
    key: '_getBankList',
    value: function _getBankList() {
      var _this = this;

      this._service.getBankList().then(function (data) {
        // console.log(data);
        _this.list = data;
      });
    }
  }, {
    key: 'cancel',
    value: function cancel() {
      this._modalInstance.close();
    }
  }, {
    key: 'submit',
    value: function submit(form) {
      var _this2 = this;

      //验证表单
      this._validationProvider.validate(form).success(function () {
        _this2.saveFunc();
      });
    }
  }, {
    key: 'saveFunc',
    value: function saveFunc() {
      var _this3 = this;

      // console.log('submit')
      this._service.set({
        user_id: this.info.id,
        bank_id: this.inputInfo.branch
      }).then(function (data) {
        _this3.cancel();
        _this3._toastr.success('设置成功');
        _this3._state.reload();
      });
    }
  }]);

  return Controller;
}();

exports.default = Controller;

},{}],"/Users/cescwang/program/sil/SIL-frontend/app/modules/account/modals/branch/index.js":[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _ctrl = require('./ctrl');

var _ctrl2 = _interopRequireDefault(_ctrl);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var configuration = {
  templateUrl: 'modules/account/modals/branch/template.html',
  controller: _ctrl2.default,
  controllerAs: 'vm'
};

exports.default = configuration;

},{"./ctrl":"/Users/cescwang/program/sil/SIL-frontend/app/modules/account/modals/branch/ctrl.js"}],"/Users/cescwang/program/sil/SIL-frontend/app/modules/account/modals/index.js":[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.branchConfig = exports.addConfig = undefined;

var _add = require('./add');

var _add2 = _interopRequireDefault(_add);

var _branch = require('./branch');

var _branch2 = _interopRequireDefault(_branch);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

exports.addConfig = _add2.default;
exports.branchConfig = _branch2.default;

},{"./add":"/Users/cescwang/program/sil/SIL-frontend/app/modules/account/modals/add/index.js","./branch":"/Users/cescwang/program/sil/SIL-frontend/app/modules/account/modals/branch/index.js"}],"/Users/cescwang/program/sil/SIL-frontend/app/modules/account/module.js":[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _angular = require('angular');

var _angular2 = _interopRequireDefault(_angular);

var _jquery = require('jquery');

var _jquery2 = _interopRequireDefault(_jquery);

var _bootstrap = require('bootstrap');

var _bootstrap2 = _interopRequireDefault(_bootstrap);

var _config = require('./config');

var _config2 = _interopRequireDefault(_config);

var _service = require('./service');

var _service2 = _interopRequireDefault(_service);

var _detail = require('./detail/');

var _detail2 = _interopRequireDefault(_detail);

var _list = require('./list/');

var _list2 = _interopRequireDefault(_list);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

// import demoService      from './services/demo.service';


exports.default = _angular2.default.module('app.modules.account', [])
// .filter('filterType', filterType)
.service('AccountService', _service2.default).component('accountList', _list2.default).component('accountDetail', _detail2.default).config(_config2.default);

},{"./config":"/Users/cescwang/program/sil/SIL-frontend/app/modules/account/config.js","./detail/":"/Users/cescwang/program/sil/SIL-frontend/app/modules/account/detail/index.js","./list/":"/Users/cescwang/program/sil/SIL-frontend/app/modules/account/list/index.js","./service":"/Users/cescwang/program/sil/SIL-frontend/app/modules/account/service.js","angular":"angular","bootstrap":"/Users/cescwang/program/sil/SIL-frontend/node_modules/bootstrap/dist/js/npm.js","jquery":"jquery"}],"/Users/cescwang/program/sil/SIL-frontend/app/modules/account/service.js":[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

var Service = function () {
  Service.$inject = ["$http", "httpHelper", "$rootScope", "$state", "ApiMap"];
  function Service($http, httpHelper, $rootScope, $state, ApiMap) {
    'ngInject';

    _classCallCheck(this, Service);

    this._http = $http;
    // this.$q = $q;
    this._httpHelper = httpHelper;
    this._apiMap = ApiMap;
    this._api = ApiMap.person;

    this._rootScope = $rootScope;
    this._state = $state;
  }

  _createClass(Service, [{
    key: 'list',
    value: function list(params) {

      this._httpHelper.blockUI.start();

      return this._http.post(this._api.list, params).then(this._httpHelper.verify, this._httpHelper.error);
    }
  }, {
    key: 'get',
    value: function get(params) {

      this._httpHelper.blockUI.start();

      return this._http.post(this._api.get, params).then(this._httpHelper.verify, this._httpHelper.error);
    }
  }, {
    key: 'set',
    value: function set(params) {

      this._httpHelper.blockUI.start();

      return this._http.post(this._api.set, params).then(this._httpHelper.verify, this._httpHelper.error);
    }
  }, {
    key: 'add',
    value: function add(params) {

      this._httpHelper.blockUI.start();

      return this._http.post(this._api.add, params).then(this._httpHelper.verify, this._httpHelper.error);
    }
  }, {
    key: 'getBankList',
    value: function getBankList(params) {
      this._httpHelper.blockUI.start();
      return this._http.post(this._apiMap.bank.get, params).then(this._httpHelper.verify, this._httpHelper.error);
    }
  }, {
    key: 'getRoleList',
    value: function getRoleList() {
      this._httpHelper.blockUI.start();

      return this._http.get(this._apiMap.auth.get).then(this._httpHelper.verify, this._httpHelper.error);
    }
  }]);

  return Service;
}();

exports.default = Service;

},{}],"/Users/cescwang/program/sil/SIL-frontend/app/modules/bank/config.js":[function(require,module,exports){
'use strict';

Config.$inject = ["$stateProvider"];
Object.defineProperty(exports, "__esModule", {
  value: true
});
function Config($stateProvider) {
  'ngInject';

  $stateProvider.state('bank', {
    url: '/bank',
    //abstract: true,
    template: '<ui-view><bank-list></bank-list></ui-view>',
    title: '机构管理',
    sidebarMeta: {
      icon: 'icon-sidebar_members_ic',
      order: 10
    }
  });
  // .state('bank.list', {
  //     url: '',
  //     template: '<bank-list></bank-list>',
  //     title: '机构列表'
  // })
}

exports.default = Config;

},{}],"/Users/cescwang/program/sil/SIL-frontend/app/modules/bank/list/ctrl.js":[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _mcPagination = require('../../../core/components/mcPagination/mc-pagination.class');

var _mcPagination2 = _interopRequireDefault(_mcPagination);

var _modals = require('../modals');

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var ListController = function (_Pagination) {
  ListController.$inject = ["$injector", "$state", "$location", "$stateParams", "toastr", "$uibModal", "BankService"];
  _inherits(ListController, _Pagination);

  function ListController($injector, $state, $location, $stateParams, toastr, $uibModal, BankService) {
    'ngInject';

    _classCallCheck(this, ListController);

    var _this = _possibleConstructorReturn(this, (ListController.__proto__ || Object.getPrototypeOf(ListController)).call(this, $injector));

    _this._state = $state;
    _this._location = $location;
    _this._stateParams = $stateParams;
    _this._modal = $uibModal;

    _this._toastr = toastr;

    _this._service = BankService;

    _this.filters = {};

    _this.oneAtATime = true;

    _this._init();
    _this.bankStateList = [{
      value: 1,
      label: '正常'
    }, {
      value: 3,
      label: '已删除'
    }];
    return _this;
  }

  _createClass(ListController, [{
    key: '_init',
    value: function _init() {
      this._initFilters();
      this._getList();
    }
  }, {
    key: '_initFilters',
    value: function _initFilters() {

      var stateParams = this._stateParams;
      //this.filters.keyword = stateParams.keyword || void(0);
    }
  }, {
    key: '_getList',
    value: function _getList() {
      var _this2 = this;

      var params = this._filterEmptyValue();
      //params.page = this.pagination.page;
      //this.pagination.pageSize = 5;
      this._service.list(params).then(function (data) {
        //this.pagination.count = 10;
        _this2.list = data;
      });
    }
  }, {
    key: 'pageChanged',
    value: function pageChanged() {
      this._getList();
    }
  }, {
    key: 'reSearch',
    value: function reSearch() {
      this._getList();
    }
  }, {
    key: 'switch',
    value: function _switch(key, value) {

      if (!key) {
        return false;
      }

      this.filters[key] = value;

      this.reSearch();
    }
  }, {
    key: 'addBank',
    value: function addBank() {
      var list = this.list;
      var resolve = {
        info: function info() {
          return {
            list: list
          };
        }
      };

      var options = _extends({}, _modals.addConfig, { resolve: resolve });

      this._modal.open(options);
    }
  }, {
    key: 'setMap',
    value: function setMap(item) {
      var resolve = {
        info: function info() {
          return item;
        }
      };

      var options = _extends({}, _modals.mapConfig, { resolve: resolve });

      var modal = this.modal;
      this._modal.open(options);
    }
  }, {
    key: 'setName',
    value: function setName(item) {
      var resolve = {
        info: function info() {
          return item;
        }
      };

      var options = _extends({}, _modals.editConfig, { resolve: resolve });

      var modal = this.modal;
      this._modal.open(options);
    }
  }, {
    key: 'delete',
    value: function _delete(item) {
      var _this3 = this;

      this._service.set({
        id: item.id,
        state: 3
      }).then(function (data) {
        _this3._toastr.success('删除成功');
        _this3._state.reload();
      });
    }
  }, {
    key: 'redelete',
    value: function redelete(item) {
      var _this4 = this;

      this._service.set({
        id: item.id,
        state: 1
      }).then(function (data) {
        _this4._toastr.success('取消删除成功');
        _this4._state.reload();
      });
    }
  }, {
    key: 'assignBranch',
    value: function assignBranch(item) {
      var resolve = {
        info: function info() {
          return item;
        }
      };

      var options = _extends({}, _modals.branchConfig, { resolve: resolve });

      this._modal.open(options);
    }
  }]);

  return ListController;
}(_mcPagination2.default);

exports.default = ListController;

},{"../../../core/components/mcPagination/mc-pagination.class":"/Users/cescwang/program/sil/SIL-frontend/app/core/components/mcPagination/mc-pagination.class.js","../modals":"/Users/cescwang/program/sil/SIL-frontend/app/modules/bank/modals/index.js"}],"/Users/cescwang/program/sil/SIL-frontend/app/modules/bank/list/index.js":[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _ctrl = require('./ctrl');

var _ctrl2 = _interopRequireDefault(_ctrl);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var List = {
  templateUrl: 'modules/bank/list/index.html',
  controller: _ctrl2.default,
  controllerAs: 'vm'
};

exports.default = List;

},{"./ctrl":"/Users/cescwang/program/sil/SIL-frontend/app/modules/bank/list/ctrl.js"}],"/Users/cescwang/program/sil/SIL-frontend/app/modules/bank/modals/add/ctrl.js":[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

var Controller = function () {
  Controller.$inject = ["$scope", "$state", "$validation", "$uibModalInstance", "toastr", "BankService", "info"];
  function Controller($scope, $state, $validation, $uibModalInstance, toastr, BankService, info) {
    'ngInject';

    _classCallCheck(this, Controller);

    this._scope = $scope;
    this._state = $state;

    this._validationProvider = $validation;

    this._modalInstance = $uibModalInstance;
    this._toastr = toastr;

    this._service = BankService;

    this.info = info;

    this.inputInfo = {
      name: ''
    };

    this.autoCompleteOptions = {
      minimumChars: 1,
      data: function data(term) {
        term = term.toUpperCase();
        var match = _.filter(info.agencyList, function (value) {
          return value.startsWith(term);
        });
        return match;
      }
    };
  }

  _createClass(Controller, [{
    key: 'cancel',
    value: function cancel() {
      this._modalInstance.close();
    }
  }, {
    key: 'submit',
    value: function submit(form) {
      var _this = this;

      //验证表单
      this._validationProvider.validate(form).success(function () {
        _this.saveFunc();
      });
    }
  }, {
    key: 'saveFunc',
    value: function saveFunc() {
      var _this2 = this;

      var data = this.inputInfo;
      this._service.add(data).then(function (data) {
        _this2._toastr.success('添加成功');
        _this2.cancel();
        _this2._state.reload();
      });
    }
  }]);

  return Controller;
}();

exports.default = Controller;

},{}],"/Users/cescwang/program/sil/SIL-frontend/app/modules/bank/modals/add/index.js":[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _ctrl = require('./ctrl');

var _ctrl2 = _interopRequireDefault(_ctrl);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var Configuration = {
  templateUrl: 'modules/bank/modals/add/template.html',
  controller: _ctrl2.default,
  controllerAs: 'vm'
};

exports.default = Configuration;

},{"./ctrl":"/Users/cescwang/program/sil/SIL-frontend/app/modules/bank/modals/add/ctrl.js"}],"/Users/cescwang/program/sil/SIL-frontend/app/modules/bank/modals/branch/ctrl.js":[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

var Controller = function () {
  Controller.$inject = ["$scope", "$state", "$validation", "$uibModalInstance", "toastr", "BankService", "info"];
  function Controller($scope, $state, $validation, $uibModalInstance, toastr, BankService, info) {
    'ngInject';

    _classCallCheck(this, Controller);

    this._scope = $scope;
    this._state = $state;

    this._validationProvider = $validation;

    this._modalInstance = $uibModalInstance;
    this._toastr = toastr;

    this._service = BankService;

    this.info = info;

    this.inputInfo = {
      branch: info.bank && info.bank.id
    };

    this.list = null;

    this._getBankList();
  }

  _createClass(Controller, [{
    key: '_getBankList',
    value: function _getBankList() {
      var _this = this;

      this._service.list({
        state: 1
      }).then(function (data) {
        _this.list = data;
      });
    }
  }, {
    key: 'cancel',
    value: function cancel() {
      this._modalInstance.close();
    }
  }, {
    key: 'submit',
    value: function submit(form) {
      var _this2 = this;

      //验证表单
      this._validationProvider.validate(form).success(function () {
        _this2.saveFunc();
      });
    }
  }, {
    key: 'saveFunc',
    value: function saveFunc() {
      var _this3 = this;

      this._service.set({
        superior_id: this.inputInfo.branch,
        id: this.info.id
      }).then(function (data) {
        _this3.cancel();
        _this3._toastr.success('设置成功');
        _this3._state.reload();
      });
    }
  }]);

  return Controller;
}();

exports.default = Controller;

},{}],"/Users/cescwang/program/sil/SIL-frontend/app/modules/bank/modals/branch/index.js":[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _ctrl = require('./ctrl');

var _ctrl2 = _interopRequireDefault(_ctrl);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var configuration = {
  templateUrl: 'modules/bank/modals/branch/template.html',
  controller: _ctrl2.default,
  controllerAs: 'vm'
};

exports.default = configuration;

},{"./ctrl":"/Users/cescwang/program/sil/SIL-frontend/app/modules/bank/modals/branch/ctrl.js"}],"/Users/cescwang/program/sil/SIL-frontend/app/modules/bank/modals/edit/ctrl.js":[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

var Controller = function () {
  Controller.$inject = ["$scope", "$state", "$validation", "$uibModalInstance", "toastr", "BankService", "info"];
  function Controller($scope, $state, $validation, $uibModalInstance, toastr, BankService, info) {
    'ngInject';

    _classCallCheck(this, Controller);

    this._scope = $scope;
    this._state = $state;

    this._validationProvider = $validation;

    this._modalInstance = $uibModalInstance;
    this._toastr = toastr;

    this._service = BankService;

    this.info = info;

    this.inputInfo = {
      name: this.info.name,
      phone: this.info.phone,
      address: this.info.address
    };

    this.autoCompleteOptions = {
      minimumChars: 1,
      data: function data(term) {
        term = term.toUpperCase();
        var match = _.filter(info.agencyList, function (value) {
          return value.startsWith(term);
        });
        return match;
      }
    };
  }

  _createClass(Controller, [{
    key: 'cancel',
    value: function cancel() {
      this._modalInstance.close();
    }
  }, {
    key: 'submit',
    value: function submit(form) {
      var _this = this;

      //验证表单
      this._validationProvider.validate(form).success(function () {
        _this.saveFunc();
      });
    }
  }, {
    key: 'saveFunc',
    value: function saveFunc() {
      var _this2 = this;

      var data = {
        id: this.info.id,
        name: this.inputInfo.name,
        phone: this.inputInfo.phone,
        address: this.inputInfo.address
      };
      this._service.set(data).then(function (data) {
        _this2._toastr.success('修改成功');
        _this2.cancel();
        _this2._state.reload();
      });
    }
  }]);

  return Controller;
}();

exports.default = Controller;

},{}],"/Users/cescwang/program/sil/SIL-frontend/app/modules/bank/modals/edit/index.js":[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _ctrl = require('./ctrl');

var _ctrl2 = _interopRequireDefault(_ctrl);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var Configuration = {
  templateUrl: 'modules/bank/modals/edit/template.html',
  controller: _ctrl2.default,
  controllerAs: 'vm'
};

exports.default = Configuration;

},{"./ctrl":"/Users/cescwang/program/sil/SIL-frontend/app/modules/bank/modals/edit/ctrl.js"}],"/Users/cescwang/program/sil/SIL-frontend/app/modules/bank/modals/index.js":[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.editConfig = exports.mapConfig = exports.addConfig = exports.branchConfig = undefined;

var _branch = require('./branch');

var _branch2 = _interopRequireDefault(_branch);

var _add = require('./add');

var _add2 = _interopRequireDefault(_add);

var _map = require('./map');

var _map2 = _interopRequireDefault(_map);

var _edit = require('./edit');

var _edit2 = _interopRequireDefault(_edit);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

exports.branchConfig = _branch2.default;
exports.addConfig = _add2.default;
exports.mapConfig = _map2.default;
exports.editConfig = _edit2.default;

},{"./add":"/Users/cescwang/program/sil/SIL-frontend/app/modules/bank/modals/add/index.js","./branch":"/Users/cescwang/program/sil/SIL-frontend/app/modules/bank/modals/branch/index.js","./edit":"/Users/cescwang/program/sil/SIL-frontend/app/modules/bank/modals/edit/index.js","./map":"/Users/cescwang/program/sil/SIL-frontend/app/modules/bank/modals/map/index.js"}],"/Users/cescwang/program/sil/SIL-frontend/app/modules/bank/modals/map/ctrl.js":[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i["return"]) _i["return"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError("Invalid attempt to destructure non-iterable instance"); } }; }();

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

var Controller = function () {
  Controller.$inject = ["$scope", "$state", "$validation", "$uibModalInstance", "toastr", "BankService", "info"];
  function Controller($scope, $state, $validation, $uibModalInstance, toastr, BankService, info) {
    'ngInject';

    _classCallCheck(this, Controller);

    this._scope = $scope;
    this._state = $state;

    this._validationProvider = $validation;

    this._modalInstance = $uibModalInstance;
    this._toastr = toastr;

    this._service = BankService;

    this.info = info;

    if (this.info.coordinates == null) {
      this.longitude = 116.331398, this.latitude = 39.897445;
    } else {
      var _info$coordinates$spl = this.info.coordinates.split(",");

      var _info$coordinates$spl2 = _slicedToArray(_info$coordinates$spl, 2);

      this.longitude = _info$coordinates$spl2[0];
      this.latitude = _info$coordinates$spl2[1];
    }

    this.opts = {
      center: {
        longitude: this.longitude,
        latitude: this.latitude
      },
      zoom: 11,
      city: 'ShenZhen',
      enableScrollWheelZoom: true
    };
  }

  _createClass(Controller, [{
    key: 'loadMap',
    value: function loadMap(map) {
      map.disableAutoResize();
      map.enableAutoResize();
      if (this.info.coordinates == null) {
        var myFun = function myFun(result) {
          var cityName = result.name;
          map.setCenter(cityName);
        };

        var myCity = new BMap.LocalCity();
        myCity.get(myFun);
      } else {
        var point = new BMap.Point(this.longitude, this.latitude);
        new BMap.Geocoder().getLocation(point, function (rs) {
          map.setCenter(rs.addressComponents.city);
        });
      }
      var that = this;
      map.addEventListener("click", function (e) {
        var pt = e.point;
        that.latitude = pt.lat;
        that.longitude = pt.lng;
        new BMap.Geocoder().getLocation(pt, function (rs) {
          var addComp = rs.addressComponents;
          var r = confirm(addComp.province + ", " + addComp.city + ", " + addComp.district + ", " + addComp.street + ", " + addComp.streetNumber);
          if (r) {
            that._service.set({
              id: that.info.id,
              address: addComp.province + addComp.city + addComp.district + addComp.street + addComp.streetNumber,
              coordinates: that.longitude + "," + that.latitude
            }).then(function (data) {
              that.cancel();
              that._toastr.success('设置成功');
              that._state.reload();
            });
          }
        });
      });
    }
  }, {
    key: 'cancel',
    value: function cancel() {
      this._modalInstance.close();
    }
  }]);

  return Controller;
}();

exports.default = Controller;

},{}],"/Users/cescwang/program/sil/SIL-frontend/app/modules/bank/modals/map/index.js":[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _ctrl = require('./ctrl');

var _ctrl2 = _interopRequireDefault(_ctrl);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var Configuration = {
  templateUrl: 'modules/bank/modals/map/template.html',
  controller: _ctrl2.default,
  controllerAs: 'vm'
};

exports.default = Configuration;

},{"./ctrl":"/Users/cescwang/program/sil/SIL-frontend/app/modules/bank/modals/map/ctrl.js"}],"/Users/cescwang/program/sil/SIL-frontend/app/modules/bank/module.js":[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _angular = require('angular');

var _angular2 = _interopRequireDefault(_angular);

var _bootstrap = require('bootstrap');

var _bootstrap2 = _interopRequireDefault(_bootstrap);

var _config = require('./config');

var _config2 = _interopRequireDefault(_config);

var _service = require('./service');

var _service2 = _interopRequireDefault(_service);

var _list = require('./list/');

var _list2 = _interopRequireDefault(_list);

var _angularBaiduMap = require('angular-baidu-map');

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

// import demoService      from './services/demo.service';


exports.default = _angular2.default.module('app.modules.bank', [_angularBaiduMap.ngBaiduMap])
// .filter('filterType', filterType)
.service('BankService', _service2.default).component('bankList', _list2.default).config(_config2.default)
// .config(['mapScriptServiceProvider', function(provider) {
//     provider.setKey('8BEaSdo8E7VEHjM0pxWs8gIsHhkDlOOW');
// }])
;

},{"./config":"/Users/cescwang/program/sil/SIL-frontend/app/modules/bank/config.js","./list/":"/Users/cescwang/program/sil/SIL-frontend/app/modules/bank/list/index.js","./service":"/Users/cescwang/program/sil/SIL-frontend/app/modules/bank/service.js","angular":"angular","angular-baidu-map":"/Users/cescwang/program/sil/SIL-frontend/node_modules/angular-baidu-map/dist/angular-baidu-map.js","bootstrap":"/Users/cescwang/program/sil/SIL-frontend/node_modules/bootstrap/dist/js/npm.js"}],"/Users/cescwang/program/sil/SIL-frontend/app/modules/bank/service.js":[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

var Service = function () {
  Service.$inject = ["$http", "httpHelper", "$rootScope", "$state", "ApiMap"];
  function Service($http, httpHelper, $rootScope, $state, ApiMap) {
    'ngInject';

    _classCallCheck(this, Service);

    this._http = $http;
    // this.$q = $q;
    this._httpHelper = httpHelper;

    this._api = ApiMap.bank;

    this._rootScope = $rootScope;
    this._state = $state;
  }

  _createClass(Service, [{
    key: 'list',
    value: function list(params) {

      this._httpHelper.blockUI.start();

      return this._http.post(this._api.get, params).then(this._httpHelper.verify, this._httpHelper.error);
    }
  }, {
    key: 'add',
    value: function add(params) {

      this._httpHelper.blockUI.start();

      return this._http.post(this._api.add, params).then(this._httpHelper.verify, this._httpHelper.error);
    }
  }, {
    key: 'set',
    value: function set(params) {

      this._httpHelper.blockUI.start();

      return this._http.post(this._api.set, params).then(this._httpHelper.verify, this._httpHelper.error);
    }
  }]);

  return Service;
}();

exports.default = Service;

},{}],"/Users/cescwang/program/sil/SIL-frontend/app/modules/dashboard/dashboard.js":[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

var DashboardController = exports.DashboardController = function () {
  DashboardController.$inject = ["$rootScope", "$scope", "baseService", "utilService", "AppSettings"];
  function DashboardController($rootScope, $scope, baseService, utilService, AppSettings) {
    'ngInject';

    var _this = this;

    _classCallCheck(this, DashboardController);

    this.html = '';

    this.text = '### 标题\n' + '```\nconsole.log(Array.every(classes, Boolean));\n```\n' + '```javascript\nconsole.log(Array.every(classes, Boolean));\n```\n' + '```xml\n<html>\n\t<head>\n\t</head>\n\t<body>\n\t</body>\n</html>\n```';

    var destroyWatchText = $scope.$watch('vm.text', function () {
      console.log(marked(_this.text));

      _this.html = marked(_this.text);
    });
    /*
      * $scope销毁的时候,结束监听
      */
    $scope.$on('$destroy', destroyWatchText);

    this.init();
  }

  _createClass(DashboardController, [{
    key: 'init',
    value: function init() {}
  }]);

  return DashboardController;
}();

var dashboard = exports.dashboard = {
  templateUrl: 'modules/dashboard/dashboard.html',
  controller: DashboardController,
  controllerAs: 'vm'
};

},{}],"/Users/cescwang/program/sil/SIL-frontend/app/modules/dashboard/dashboard.module.js":[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _angular = require('angular');

var _angular2 = _interopRequireDefault(_angular);

var _dashboard = require('./dashboard');

var _dashboard2 = require('./dashboard.service');

var _dashboard3 = _interopRequireDefault(_dashboard2);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

exports.default = _angular2.default.module('app.modules.dashboard', [])
// .service('dashboardService', dashboardService)
.component('dashboard', _dashboard.dashboard);

},{"./dashboard":"/Users/cescwang/program/sil/SIL-frontend/app/modules/dashboard/dashboard.js","./dashboard.service":"/Users/cescwang/program/sil/SIL-frontend/app/modules/dashboard/dashboard.service.js","angular":"angular"}],"/Users/cescwang/program/sil/SIL-frontend/app/modules/dashboard/dashboard.service.js":[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

var dashboardService = function dashboardService(AppSettings, utilService, httpHelper, $http) {
  'ngInject';

  _classCallCheck(this, dashboardService);
};
dashboardService.$inject = ["AppSettings", "utilService", "httpHelper", "$http"];

exports.default = dashboardService;

},{}],"/Users/cescwang/program/sil/SIL-frontend/app/modules/demo/access/ctrl.js":[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

var ListController = function () {
  ListController.$inject = ["$rootScope", "$state", "toastr", "AppSettings", "ConfigService", "ProfileService"];
  function ListController($rootScope, $state, toastr, AppSettings, ConfigService, ProfileService) {
    'ngInject';

    _classCallCheck(this, ListController);

    this.$state = $state;
    this.staticMenuItems = [];
    this._isMenuCollapsed = true;

    this._service = ConfigService;
    this.roleList = ProfileService.getRoleList();

    this._scope = $rootScope;
    this._toastr = toastr;

    this.key = AppSettings.accessKey;
    this.roleKey = AppSettings.roleListKey;

    // this.roleList = [];
    this.getMenuItems();
    this._get();
  }

  _createClass(ListController, [{
    key: '_get',
    value: function _get() {
      var _this = this;

      this._service.get(this.key).then(function (data) {
        if (data) {
          _this.access = angular.fromJson(data);
        }
      });
    }
  }, {
    key: 'getMenuItems',
    value: function getMenuItems() {

      var states = this.defineMenuItemStates();
      // let menuItems = states.filter(item => item.level == 0 && !(item.accessRoleIds && item.accessRoleIds.indexOf(this._scope.accessControl.role_id) == -1) );
      // let menuItems = states.filter(item => item.level == 0);

      // menuItems.forEach( item => {
      //   var children = states.filter( child => {
      //     return child.level == 1 && child.name.indexOf(item.name) === 0;
      //   });

      //   item.subMenu = children.length ? children : null;

      //   // 用第三级的指定入口替换二级抽象路由
      //   item.subMenu && item.subMenu.forEach( (third, index) => {
      //     if(third.entry) {
      //       let entry = states.filter(x => x.name === third.entry);
      //       if(entry.length) {
      //         item.subMenu[index] = entry[0];
      //       }
      //     }
      //   });

      // });

      // this.list = menuItems.concat(this.staticMenuItems);
      var extend = this._getEnterpriseAccess();
      this.list = states.concat(extend);
    }
  }, {
    key: 'getAllStateRefsRecursive',
    value: function getAllStateRefsRecursive(item) {

      return this._iterateSubItems(item);
    }
  }, {
    key: 'defineMenuItemStates',
    value: function defineMenuItemStates() {

      return this.$state.get().filter(function (item) {
        return item.name && item.title;
      });
      //   // .filter(state => {
      //   //   return state.sidebarMeta;
      //   // })
      //   .map(state => {
      //     var meta = state.sidebarMeta;
      //     return {
      //       name: state.name,
      //       title: state.title,
      //       level: (state.name.match(/\./g) || []).length,
      //       order: meta.order,
      //       icon: meta.icon,
      //       stateRef: state.name,
      //       entry: meta.entry,
      //       accessRoleIds: meta.accessRoleIds,
      //     };
      //   })
      //   .sort((a, b) => {
      //     return (a.level - b.level) * 100 + a.order - b.order;
      //   });
    }
  }, {
    key: '_getEnterpriseAccess',
    value: function _getEnterpriseAccess() {
      return [{
        name: 'enterprise.filter.role_a_state',
        title: '主理状态筛选'
      }, {
        name: 'enterprise.list.role_show',
        title: '列表显示客户经理'
      }, {
        name: 'enterprise.assign.role',
        title: '分配客户经理'
      }, {
        name: 'enterprise.assign.branch',
        title: '分配机构'
      }];
    }
  }, {
    key: '_iterateSubItems',
    value: function _iterateSubItems(currentItem) {
      var _this2 = this;

      var result = [];
      currentItem.subMenu && currentItem.subMenu.forEach(function (subItem) {
        subItem.stateRef && result.push(subItem.stateRef);
        _this2._iterateSubItems(subItem);
      });
      return result;
    }
  }, {
    key: 'submit',
    value: function submit() {
      var _this3 = this;

      console.log('submit');
      console.log(this.access);

      this._service.set({
        key: this.key,
        value: angular.toJson(this.access)
      }).then(function (data) {
        _this3._toastr.success('添加成功');
      });
    }
  }]);

  return ListController;
}();

exports.default = ListController;

},{}],"/Users/cescwang/program/sil/SIL-frontend/app/modules/demo/access/index.js":[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _ctrl = require('./ctrl');

var _ctrl2 = _interopRequireDefault(_ctrl);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var demoList = {
  templateUrl: 'modules/demo/access/template.html',
  controller: _ctrl2.default,
  controllerAs: 'vm'
};

exports.default = demoList;

},{"./ctrl":"/Users/cescwang/program/sil/SIL-frontend/app/modules/demo/access/ctrl.js"}],"/Users/cescwang/program/sil/SIL-frontend/app/modules/demo/component/ctrl.js":[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

var Controller = function Controller() {
  'ngInject';

  _classCallCheck(this, Controller);

  this.info = {};
};

exports.default = Controller;

},{}],"/Users/cescwang/program/sil/SIL-frontend/app/modules/demo/component/index.js":[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _ctrl = require('./ctrl');

var _ctrl2 = _interopRequireDefault(_ctrl);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var component = {
  templateUrl: 'modules/demo/component/index.html',
  controller: _ctrl2.default,
  controllerAs: 'vm'
};

exports.default = component;

},{"./ctrl":"/Users/cescwang/program/sil/SIL-frontend/app/modules/demo/component/ctrl.js"}],"/Users/cescwang/program/sil/SIL-frontend/app/modules/demo/demo.config.js":[function(require,module,exports){
'use strict';

demoConfig.$inject = ["$stateProvider"];
Object.defineProperty(exports, "__esModule", {
  value: true
});
function demoConfig($stateProvider) {
  'ngInject';

  $stateProvider.state('access', {
    url: '/access',
    // abstract: true,
    template: '<ui-view><demo-access></demo-access></ui-view>',
    title: '权限配置',
    sidebarMeta: {
      icon: 'icon-sidebar_members_ic',
      order: 3000
    }
  })
  // .state('demo.list', {
  //     url: '/list?page&gender&keyword',
  //     template: '<demo-list></demo-list>',
  //     title: '列表',
  //     sidebarMeta: {
  //       order: 30
  //     }
  // })
  // .state('demo.component', {
  //   url: '/component',
  //   template: '<demo-component></demo-component>',
  //   title: 'Component',
  //   sidebarMeta: {
  //     order: 10
  //   }
  // })
  // .state('demo.access', {
  //   url: '/access',
  //   template: '<demo-access></demo-access>',
  //   title: 'access',
  //   sidebarMeta: {
  //     order: 10
  //   }
  // })
  ;
}

exports.default = demoConfig;

},{}],"/Users/cescwang/program/sil/SIL-frontend/app/modules/demo/demo.module.js":[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _angular = require('angular');

var _angular2 = _interopRequireDefault(_angular);

var _demo = require('./demo.config');

var _demo2 = _interopRequireDefault(_demo);

var _list = require('./list/');

var _list2 = _interopRequireDefault(_list);

var _component = require('./component');

var _component2 = _interopRequireDefault(_component);

var _access = require('./access');

var _access2 = _interopRequireDefault(_access);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

// import demoService      from './services/demo.service';


exports.default = _angular2.default.module('app.modules.demo', [])
// .filter('filterType', filterType)

.component('demoList', _list2.default).component('demoComponent', _component2.default).component('demoAccess', _access2.default).config(_demo2.default);

},{"./access":"/Users/cescwang/program/sil/SIL-frontend/app/modules/demo/access/index.js","./component":"/Users/cescwang/program/sil/SIL-frontend/app/modules/demo/component/index.js","./demo.config":"/Users/cescwang/program/sil/SIL-frontend/app/modules/demo/demo.config.js","./list/":"/Users/cescwang/program/sil/SIL-frontend/app/modules/demo/list/index.js","angular":"angular"}],"/Users/cescwang/program/sil/SIL-frontend/app/modules/demo/list/ctrl.js":[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _mcPagination = require('../../../core/components/mcPagination/mc-pagination.class');

var _mcPagination2 = _interopRequireDefault(_mcPagination);

var _modals = require('../modals');

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var ListController = function (_Pagination) {
  ListController.$inject = ["$injector", "$location", "$stateParams", "$uibModal", "AppSettings"];
  _inherits(ListController, _Pagination);

  function ListController($injector, $location, $stateParams, $uibModal, AppSettings) {
    'ngInject';

    _classCallCheck(this, ListController);

    var _this = _possibleConstructorReturn(this, (ListController.__proto__ || Object.getPrototypeOf(ListController)).call(this, $injector));

    _this._location = $location;
    _this._stateParams = $stateParams;
    _this._modal = $uibModal;

    _this.genderList = AppSettings.genderList;
    _this.filters = {};

    _this.start_date = moment();

    _this.end_date = moment();
    _this.startTimeMaxLimit = moment();
    _this.endTimeMaxLimit = moment();

    _this._init();

    return _this;
  }

  _createClass(ListController, [{
    key: '_init',
    value: function _init() {

      this._initFilters();
      this._getList();
    }
  }, {
    key: '_initFilters',
    value: function _initFilters() {
      // console.log(this._stateParams);
      var stateParams = this._stateParams;
      // this.pagination.page = +stateParams.page;
      this.filters.gender = +stateParams.gender || void 0;

      this.filters.keyword = stateParams.keyword || void 0;
    }
  }, {
    key: '_getList',
    value: function _getList() {

      var params = this._filterEmptyValue();
      params.pageSize = this.pagination.pageSize;
      params.page = this.pagination.page;

      this.list = [{ name: 'Lily', gender: 'falman', age: '16' }, { name: 'Li lei', gender: 'man', age: '26' }];
      this.pagination.count = 20;
    }
  }, {
    key: 'reSearch',
    value: function reSearch() {
      var page = 1;
      this._location.search(_extends({}, this._filterEmptyValue(), { page: page }));
    }
  }, {
    key: 'switch',
    value: function _switch(key, value) {

      if (!key) {
        return false;
      }

      this.filters[key] = value;

      this.reSearch();
    }
  }, {
    key: 'edit',
    value: function edit(item) {
      var resolve = {
        info: function info() {
          return item;
        }
      };

      var options = _extends({}, _modals.editConfiguration, { resolve: resolve });

      this._modal.open(options);
    }

    // datepicker

  }, {
    key: 'changeTime',
    value: function changeTime(type) {
      var values = {
        minDate: false,
        maxDate: false
      };
      if (type == 'start') {
        this.filters.start_date = this.start_date.format('YYYY-MM-DD');
        this.endTimeMinLimit = this.start_date;
        values.minDate = this.start_date;
        values.maxDate = moment();
      } else {
        this.filters.end_date = this.end_date.format('YYYY-MM-DD');
        this.startTimeMaxLimit = this.end_date;
        values.maxDate = this.end_date;
      }
    }
  }]);

  return ListController;
}(_mcPagination2.default);

exports.default = ListController;

},{"../../../core/components/mcPagination/mc-pagination.class":"/Users/cescwang/program/sil/SIL-frontend/app/core/components/mcPagination/mc-pagination.class.js","../modals":"/Users/cescwang/program/sil/SIL-frontend/app/modules/demo/modals/index.js"}],"/Users/cescwang/program/sil/SIL-frontend/app/modules/demo/list/index.js":[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _ctrl = require('./ctrl');

var _ctrl2 = _interopRequireDefault(_ctrl);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var demoList = {
  templateUrl: 'modules/demo/list/template.html',
  controller: _ctrl2.default,
  controllerAs: 'vm'
};

exports.default = demoList;

},{"./ctrl":"/Users/cescwang/program/sil/SIL-frontend/app/modules/demo/list/ctrl.js"}],"/Users/cescwang/program/sil/SIL-frontend/app/modules/demo/modals/edit/ctrl.js":[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

var editController = function () {
  editController.$inject = ["$scope", "$validation", "$uibModalInstance", "toastr", "info"];
  function editController($scope, $validation, $uibModalInstance, toastr, info) {
    'ngInject';

    _classCallCheck(this, editController);

    this._scope = $scope;

    this._validationProvider = $validation;

    this._modalInstance = $uibModalInstance;
    this._toastr = toastr;

    this.info = info;
  }

  _createClass(editController, [{
    key: 'cancel',
    value: function cancel() {
      this._modalInstance.close();
    }
  }, {
    key: 'submit',
    value: function submit(form) {
      var _this = this;

      //验证表单
      this._validationProvider.validate(form).success(function () {
        _this.saveFunc();
      });
    }
  }, {
    key: 'saveFunc',
    value: function saveFunc() {}
  }]);

  return editController;
}();

exports.default = editController;

},{}],"/Users/cescwang/program/sil/SIL-frontend/app/modules/demo/modals/edit/index.js":[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _ctrl = require('./ctrl');

var _ctrl2 = _interopRequireDefault(_ctrl);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var editConfiguration = {
  templateUrl: 'modules/demo/modals/edit/template.html',
  controller: _ctrl2.default,
  controllerAs: 'vm'
};

exports.default = editConfiguration;

},{"./ctrl":"/Users/cescwang/program/sil/SIL-frontend/app/modules/demo/modals/edit/ctrl.js"}],"/Users/cescwang/program/sil/SIL-frontend/app/modules/demo/modals/index.js":[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.editConfiguration = undefined;

var _edit = require('./edit');

var _edit2 = _interopRequireDefault(_edit);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

exports.editConfiguration = _edit2.default;

},{"./edit":"/Users/cescwang/program/sil/SIL-frontend/app/modules/demo/modals/edit/index.js"}],"/Users/cescwang/program/sil/SIL-frontend/app/modules/enterprise/config.js":[function(require,module,exports){
'use strict';

Config.$inject = ["$stateProvider"];
Object.defineProperty(exports, "__esModule", {
    value: true
});
function Config($stateProvider) {
    'ngInject';

    $stateProvider.state('enterprise', {
        url: '/enterprise?page&role_a_disable&name&state&bank_name',
        // abstract: true,
        template: '<ui-view><enterprise-list></enterprise-list></ui-view>',
        title: '企业管理',
        sidebarMeta: {
            icon: 'icon-sidebar_members_ic',
            order: 400
        }
    })
    // .state('enterprise.list', {
    //     url: '?page&role_a_disable&name&state&bank_name',
    //     template: '<enterprise-list></enterprise-list>',
    //     title: '企业列表',
    //     // sidebarMeta: {
    //     //   order: 10
    //     // }
    // })
    .state('enterprise.detail', {
        url: '/detail?id',
        template: '<enterprise-detail></enterprise-detail>',
        title: '企业详情'
    });
}

exports.default = Config;

},{}],"/Users/cescwang/program/sil/SIL-frontend/app/modules/enterprise/detail/ctrl.js":[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

// import {branchConfig, manageConfig} from '../modals';

// const mock_data = {"status":"200","message":"查询成功","data":{"name":"小米科技有限责任公司","econ_kind":"有限责任公司(自然人投资或控股)","regist_capi":"185000 万人民币","scope":"手机技术开发；手机生产、手机服务。（限海淀区永捷北路2号二层经营）；技术开发；货物进出口、技术进出口、代理进出口；销售通讯设备；维修仪器仪表；维修办公设备；承办展览展示活动；会议服务；筹备、策划、组织大型庆典。（企业依法自主选择经营项目，开展经营活动；依法须经批准的项目，经相关部门批准后依批准的内容开展经营活动；不得从事本市产业政策禁止和限制类项目的经营活动。）","term_start":"2010-03-03","term_end":"2030-03-02","belong_org":"海淀分局","oper_name":"雷军","check_date":"2015-03-03","start_date":"2010-03-03","end_date":"-","status":"开业","org_no":"551385082","credit_no":"91110108551385082Q","province":"BJ","id":"534472fd-7d53-4958-8132-d6a6242423d8","abnormal_items":[],"reg_no":"110108012660422","address":"北京市海淀区清河中街68号华润五彩城购物中心二期13层","employees":[{"name":"雷军","job_title":"董事长"},{"name":"林斌","job_title":"董事"},{"name":"刘芹","job_title":"董事"},{"name":"许达来","job_title":"董事"},{"name":"雷军","job_title":"经理"},{"name":"黎万强","job_title":"监事"}],"branches":[],"changerecords":[{"change_item":"注册资本","change_date":"2016-03-24","before_content":"5000万元","after_content":"185000万元"},{"change_item":"董事（理事）、经理、监事","change_date":"2014-03-12","before_content":"（注：标有标志的为法定代表人）1 雷军 董事长 2 许达来 董事 3 刘芹 董事 4 林斌 董事 5 邝子平 董事 6 雷军 经理 7 黎万强 监事 ","after_content":"（注：标有标志的为法定代表人）1 雷军 董事长 2 许达来 董事 3 刘芹 董事 4 林斌 董事 5 雷军 经理 6 黎万强 监事 "},{"change_item":"董事（理事）、经理、监事","change_date":"2013-11-07","before_content":"（注：标有标志的为法定代表人）1 雷军 董事长 2 林斌 董事 3 刘芹 董事 4 HANS TUNG 董事 5 雷军 经理 6 黎万强 监事 ","after_content":"（注：标有标志的为法定代表人）1 雷军 董事长 2 许达来 董事 3 刘芹 董事 4 林斌 董事 5 邝子平 董事 6 雷军 经理 7 黎万强 监事 "},{"change_item":"企业名称","change_date":"2013-07-30","before_content":"北京小米科技有限责任公司","after_content":"小米科技有限责任公司"},{"change_item":"住所","change_date":"2013-07-30","before_content":"北京市海淀区永捷北路2号二层","after_content":"北京市海淀区清河中街68号华润五彩城购物中心二期13层"},{"change_item":"注册资本","change_date":"2013-06-04","before_content":"2691.5989万元","after_content":"5000万元"},{"change_item":"实收资本（金）","change_date":"2013-06-04","before_content":"2691.5989万元","after_content":"5000万元"},{"change_item":"认缴的出资额,实缴的出资额","change_date":"2013-06-04","before_content":"1 雷军 2094.17 自然人股东 2 黎万强 272.45 自然人股东 3 洪锋 270.87 自然人股东 4 刘德 54.1 自然人股东 ","after_content":"1 雷军 3890.11 自然人股东 2 黎万强 506.06 自然人股东 3 洪锋 503.33 自然人股东 4 刘德 100.5 自然人股东 "},{"change_item":"经营范围","change_date":"2012-08-29","before_content":"手机技术开发；手机生产、手机服务。技术开发；货物进出口、技术进出口、代理进出口。","after_content":"手机技术开发；手机生产、手机服务。技术开发；货物进出口、技术进出口、代理进出口；销售通讯设备；维修仪器仪表；维修办公设备；承办展览展示活动；会议服务；筹备、策划、组织大型庆典。 （未取得行政许可的项目除外）"},{"change_item":"注册资本","change_date":"2011-05-24","before_content":"2637.4978万元","after_content":"2691.5989万元"},{"change_item":"实收资本（金）","change_date":"2011-05-24","before_content":"2637.4978万元","after_content":"2691.5989万元"},{"change_item":"认缴的出资额,认缴的出资方式,认缴的出资时间,实缴的出资额,实缴的出资方式,实缴的出资时间,投资人","change_date":"2011-05-24","before_content":"1 雷军 2094.17 自然人股东 2 黎万强 272.45 自然人股东 3 洪锋 270.87 自然人股东 ","after_content":"1 雷军 2094.17 自然人股东 2 黎万强 272.45 自然人股东 3 洪锋 270.87 自然人股东 4 刘德 54.1 自然人股东 "},{"change_item":"住所","change_date":"2011-02-14","before_content":"北京市海淀区北四环西路9号807室","after_content":"北京市海淀区永捷北路2号二层"},{"change_item":"经营范围","change_date":"2011-02-14","before_content":"技术开发。（法律、行政法规、国务院决定禁止的，不得经营；法律、行政法规、国务院决定规定应经许可的，经审批机关批准并经工商行政管理机关登记注册后方可经营；法律、行政法规、国务院决定未规定许可的，自主选择经营项目开展经营活动。）","after_content":"手机技术开发；手机生产、手机服务。技术开发；货物进出口、技术进出口、代理进出口。"},{"change_item":"董事（理事）、经理、监事","change_date":"2011-02-14","before_content":"（注：标有标志的为法定代表人）1 雷军 董事长 2 林斌 董事 3 刘芹 董事 4 雷军 经理 5 黎万强 监事 ","after_content":"（注：标有标志的为法定代表人）1 雷军 董事长 2 林斌 董事 3 刘芹 董事 4 HANS TUNG 董事 5 雷军 经理 6 黎万强 监事 "},{"change_item":"认缴的出资额,认缴的出资方式,认缴的出资时间,实缴的出资额,实缴的出资方式,实缴的出资时间","change_date":"2010-09-01","before_content":"1 雷军 2457.66 自然人股东 2 洪锋 169.51 自然人股东 3 黎万强 10.33 自然人股东 ","after_content":"1 雷军 2094.17 自然人股东 2 黎万强 272.45 自然人股东 3 洪锋 270.87 自然人股东 "},{"change_item":"注册资本","change_date":"2010-07-28","before_content":"100万元","after_content":"2637.4978万元"},{"change_item":"实收资本（金）","change_date":"2010-07-28","before_content":"100万元","after_content":"2637.4978万元"},{"change_item":"认缴的出资额,实缴的出资额","change_date":"2010-07-28","before_content":"1 雷军 79.4 自然人股东 2 黎万强 10.33 自然人股东 3 洪锋 10.27 自然人股东 ","after_content":"1 雷军 2457.66 自然人股东 2 洪锋 169.51 自然人股东 3 黎万强 10.33 自然人股东 "},{"change_item":"董事（理事）、经理、监事","change_date":"2010-07-28","before_content":"（注：标有标志的为法定代表人）1 雷军 执行董事 2 雷军 经理 3 黎万强 监事 ","after_content":"（注：标有标志的为法定代表人）1 雷军 董事长 2 林斌 董事 3 刘芹 董事 4 雷军 经理 5 黎万强 监事 "},{"change_item":"经营范围","change_date":"2010-05-12","before_content":"法律、行政法规、国务院决定禁止的，不得经营；法律、行政法规、国务院决定规定应经许可的，经审批机关批准并经工商行政管理机关登记注册后方可经营；法律、行政法规、国务院决定未规定许可的，自主选择经营项目开展经营活动。","after_content":"技术开发。（法律、行政法规、国务院决定禁止的，不得经营；法律、行政法规、国务院决定规定应经许可的，经审批机关批准并经工商行政管理机关登记注册后方可经营；法律、行政法规、国务院决定未规定许可的，自主选择经营项目开展经营活动。）"},{"change_item":"投资人","change_date":"2010-05-12","before_content":"1 雷军 90 自然人股东 2 黎万强 10 自然人股东 ","after_content":"1 雷军 79.4 自然人股东 2 黎万强 10.33 自然人股东 3 洪锋 10.27 自然人股东 "}],"partners":[{"name":"洪锋","stock_type":"自然人股东","identify_type":"-","identify_no":"-","real_capi_items":[],"should_capi_items":[]},{"name":"雷军","stock_type":"自然人股东","identify_type":"-","identify_no":"-","real_capi_items":[],"should_capi_items":[]},{"name":"黎万强","stock_type":"自然人股东","identify_type":"-","identify_no":"-","real_capi_items":[],"should_capi_items":[]},{"name":"刘德","stock_type":"自然人股东","identify_type":"-","identify_no":"-","real_capi_items":[],"should_capi_items":[]}]}};

var Controller = function () {
  Controller.$inject = ["$injector", "$state", "$location", "$stateParams", "toastr", "$uibModal", "EnterpriseService"];
  function Controller($injector, $state, $location, $stateParams, toastr, $uibModal, EnterpriseService) {
    'ngInject';

    _classCallCheck(this, Controller);

    this._state = $state;
    this._location = $location;
    this._stateParams = $stateParams;
    this._modal = $uibModal;

    this._toastr = toastr;

    this._service = EnterpriseService;

    this.id = $stateParams.id;

    this.info = null;

    this._init();
  }

  _createClass(Controller, [{
    key: '_init',
    value: function _init() {

      this._getDetail();
    }
  }, {
    key: '_getDetail',
    value: function _getDetail() {
      var _this = this;

      this._service.get(this.id).then(function (data) {
        // console.log(data);
        _this.info = data.detail;
        // this.info = mock_data.data;
      });
    }
  }]);

  return Controller;
}();

exports.default = Controller;

},{}],"/Users/cescwang/program/sil/SIL-frontend/app/modules/enterprise/detail/index.js":[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _ctrl = require('./ctrl');

var _ctrl2 = _interopRequireDefault(_ctrl);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var List = {
  templateUrl: 'modules/enterprise/detail/index.html',
  controller: _ctrl2.default,
  controllerAs: 'vm'
};

exports.default = List;

},{"./ctrl":"/Users/cescwang/program/sil/SIL-frontend/app/modules/enterprise/detail/ctrl.js"}],"/Users/cescwang/program/sil/SIL-frontend/app/modules/enterprise/filter.js":[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.filterValue = filterValue;
exports.filterDistributeState = filterDistributeState;
function filterValue() {

  return function (val, list) {

    // console.log(val, list);

    var rt = list.filter(function (item) {
      return item.value == val;
    });

    if (rt.length) {
      return rt[0].label;
    }

    return '';
  };
}

function filterDistributeState() {
  var stateList = {
    1: '待分配',
    2: '已分配',
    3: '已认领'
  };
  return function (val) {
    return stateList[val] || '';
  };
}

},{}],"/Users/cescwang/program/sil/SIL-frontend/app/modules/enterprise/list/ctrl.js":[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _mcPagination = require('../../../core/components/mcPagination/mc-pagination.class');

var _mcPagination2 = _interopRequireDefault(_mcPagination);

var _modals = require('../modals');

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var ListController = function (_Pagination) {
  ListController.$inject = ["$injector", "$state", "$location", "$stateParams", "sweet", "toastr", "$uibModal", "EnterpriseService", "ProfileService"];
  _inherits(ListController, _Pagination);

  function ListController($injector, $state, $location, $stateParams, sweet, toastr, $uibModal, EnterpriseService, ProfileService) {
    'ngInject';

    _classCallCheck(this, ListController);

    var _this = _possibleConstructorReturn(this, (ListController.__proto__ || Object.getPrototypeOf(ListController)).call(this, $injector));

    _this._state = $state;
    _this._location = $location;
    _this._stateParams = $stateParams;
    _this._modal = $uibModal;

    _this._sweet = sweet;
    _this._toastr = toastr;

    _this._service = EnterpriseService;

    _this.profile = ProfileService.getInfo();
    _this.access = ProfileService.access;

    _this.roleMainStatus = [{
      value: '',
      label: '全部'
    }, {
      value: 1,
      label: '离职'
    }];

    _this.enterpriseStateList = [{
      value: 1,
      label: '正常'
    }, {
      value: 2,
      label: '已冻结'
    }, {
      value: 0,
      label: '未通过筛选'
    }, {
      value: 3,
      label: '已删除'
    }];

    _this.filters = {};

    _this.oneAtATime = true;

    _this._init();

    return _this;
  }

  _createClass(ListController, [{
    key: '_init',
    value: function _init() {

      this._initFilters();
      this._getList();
    }
  }, {
    key: '_initFilters',
    value: function _initFilters() {
      // console.log(this._stateParams);
      var stateParams = this._stateParams;
      // this.pagination.page = +stateParams.page;
      this.filters.role_a_disable = stateParams.role_a_disable || '';
      this.filters.state = stateParams.state ? +stateParams.state : void 0;

      this.filters.name = stateParams.name || void 0;
    }
  }, {
    key: '_getList',
    value: function _getList() {
      var _this2 = this;

      var params = this._filterEmptyValue();
      // params.pageSize = this.pagination.pageSize;
      params.page = this.pagination.page;

      this._service.getList(params).then(function (data) {
        console.log(data);
        _this2.list = data.enterprises;
        _this2.pagination.count = data.page_count * _this2.pagination.pageSize;
      });
    }
  }, {
    key: 'reSearch',
    value: function reSearch() {
      var page = 1;
      this._location.search(_extends({}, this._filterEmptyValue(), { page: page }));
    }
  }, {
    key: 'switch',
    value: function _switch(key, value) {

      if (!key) {
        return false;
      }

      this.filters[key] = value;

      this.reSearch();
    }
  }, {
    key: 'assign',
    value: function assign(item) {
      var bank = item.bank;

      if (bank && bank.id) {
        var resolve = {
          info: function info() {
            return item;
          }
        };

        var options = _extends({}, _modals.manageConfig, { resolve: resolve });

        this._modal.open(options);
      } else {
        this._sweet.show({
          title: '请先分配机构',
          showCancelButton: false,
          confirmButtonColor: "#DD6B55",
          confirmButtonText: "确定",
          cancelButtonText: "取消",
          closeOnConfirm: true,
          imageUrl: '/images/common/warning.png'
        }, function (sure) {
          // if (sure) {
          //   this.careList.splice(index, 1);
          //   this._toastr.success('删除成功！', '提示');
          // } else {
          //   return;
          // }
        });
      }
    }
  }, {
    key: 'assignBranch',
    value: function assignBranch(item) {
      var resolve = {
        info: function info() {
          return item;
        }
      };

      var options = _extends({}, _modals.branchConfig, { resolve: resolve });

      this._modal.open(options);
    }
  }, {
    key: 'add',
    value: function add() {
      var resolve = {
        info: function info() {
          return {};
        }
      };

      var options = _extends({}, _modals.addConfig, { resolve: resolve });

      this._modal.open(options);
    }
  }, {
    key: 'del',
    value: function del(item) {
      this.setState(item.id, 3);
    }
  }, {
    key: 'frost',
    value: function frost(item) {
      this.setState(item.id, 2);
    }
  }, {
    key: 'setState',
    value: function setState(id, state) {
      var _this3 = this;

      this._service.set({ id: id, state: state }).then(function (data) {
        _this3._toastr.success('操作成功');
        _this3._state.reload();
      });
    }

    // changeManage(type, item) {
    //   let selected = item[type] && ([{id: item[type].userid, name: item[type].name}]) || [];
    //   let options = {
    //     url: '/api/member/list',
    //     min: 1,
    //     max: 1,
    //     title: '选择客户经理',
    //     itemType: '客户经理',
    //     itemUnit: '名',
    //     itemPosition: '',
    //     searchPlaceholder: '请输入姓名搜索',
    //     selectedItems: selected,
    //     params: {},

    //     list: [
    //       {
    //         id: 12,
    //         name: '王乐乐',
    //         avatar: '/images/common/man.png'
    //       },
    //       {
    //         id: 23,
    //         name: '刘立军',
    //         avatar: '/images/common/man.png'
    //       },
    //       {
    //         id: 24,
    //         name: '王明涵',
    //         avatar: '/images/common/man.png'
    //       },
    //     ],

    //     // idKey: 'old_id'
    //   };

    //   this._pickerService.open(options, res => {
    //     if (res.data.length) {
    //       this._changeManage(res.data[0], type, item);
    //     }
    //   });
    // }

    // _changeManage(manage, type, item) {
    //   item[type] = {
    //     userid: manage.id,
    //     name: manage.name
    //   };
    // }


  }]);

  return ListController;
}(_mcPagination2.default);

exports.default = ListController;

},{"../../../core/components/mcPagination/mc-pagination.class":"/Users/cescwang/program/sil/SIL-frontend/app/core/components/mcPagination/mc-pagination.class.js","../modals":"/Users/cescwang/program/sil/SIL-frontend/app/modules/enterprise/modals/index.js"}],"/Users/cescwang/program/sil/SIL-frontend/app/modules/enterprise/list/index.js":[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _ctrl = require('./ctrl');

var _ctrl2 = _interopRequireDefault(_ctrl);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var List = {
  templateUrl: 'modules/enterprise/list/index.html',
  controller: _ctrl2.default,
  controllerAs: 'vm'
};

exports.default = List;

},{"./ctrl":"/Users/cescwang/program/sil/SIL-frontend/app/modules/enterprise/list/ctrl.js"}],"/Users/cescwang/program/sil/SIL-frontend/app/modules/enterprise/modals/add/ctrl.js":[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

var Controller = function () {
  Controller.$inject = ["$scope", "$state", "$validation", "$uibModalInstance", "toastr", "EnterpriseService", "info"];
  function Controller($scope, $state, $validation, $uibModalInstance, toastr, EnterpriseService, info) {
    'ngInject';

    _classCallCheck(this, Controller);

    this._scope = $scope;
    this._state = $state;

    this._validationProvider = $validation;

    this._modalInstance = $uibModalInstance;
    this._toastr = toastr;

    this._service = EnterpriseService;

    this.info = info;

    this.inputInfo = {
      name: ''
    };
  }

  _createClass(Controller, [{
    key: 'cancel',
    value: function cancel() {
      this._modalInstance.close();
    }
  }, {
    key: 'submit',
    value: function submit(form) {
      var _this = this;

      //验证表单
      this._validationProvider.validate(form).success(function () {
        _this.saveFunc();
      });
    }
  }, {
    key: 'saveFunc',
    value: function saveFunc() {
      var _this2 = this;

      var data = this.inputInfo;
      this._service.add(data).then(function (data) {
        _this2._toastr.success('添加成功');
        _this2.cancel();
        _this2._state.reload();
      });
    }
  }]);

  return Controller;
}();

exports.default = Controller;

},{}],"/Users/cescwang/program/sil/SIL-frontend/app/modules/enterprise/modals/add/index.js":[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _ctrl = require('./ctrl');

var _ctrl2 = _interopRequireDefault(_ctrl);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var Configuration = {
  templateUrl: 'modules/enterprise/modals/add/template.html',
  controller: _ctrl2.default,
  controllerAs: 'vm'
};

exports.default = Configuration;

},{"./ctrl":"/Users/cescwang/program/sil/SIL-frontend/app/modules/enterprise/modals/add/ctrl.js"}],"/Users/cescwang/program/sil/SIL-frontend/app/modules/enterprise/modals/branch/ctrl.js":[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

var Controller = function () {
  Controller.$inject = ["$scope", "$state", "$validation", "$uibModalInstance", "toastr", "EnterpriseService", "info"];
  function Controller($scope, $state, $validation, $uibModalInstance, toastr, EnterpriseService, info) {
    'ngInject';

    _classCallCheck(this, Controller);

    this._scope = $scope;
    this._state = $state;

    this._validationProvider = $validation;

    this._modalInstance = $uibModalInstance;
    this._toastr = toastr;

    this._service = EnterpriseService;

    this.info = info;

    this.inputInfo = {
      branch: info.bank && info.bank.id
    };

    this.list = null;

    this._getBankList();
  }

  _createClass(Controller, [{
    key: '_getBankList',
    value: function _getBankList() {
      var _this = this;

      this._service.getBankList().then(function (data) {
        // console.log(data);
        _this.list = data;
      });
    }
  }, {
    key: 'cancel',
    value: function cancel() {
      this._modalInstance.close();
    }
  }, {
    key: 'submit',
    value: function submit(form) {
      var _this2 = this;

      //验证表单
      this._validationProvider.validate(form).success(function () {
        _this2.saveFunc();
      });
    }
  }, {
    key: 'saveFunc',
    value: function saveFunc() {
      var _this3 = this;

      // console.log('submit')
      this._service.set({
        id: this.info.id,
        bank_id: this.inputInfo.branch
      }).then(function (data) {
        _this3.cancel();
        _this3._toastr.success('设置成功');
        _this3._state.reload();
      });
    }
  }]);

  return Controller;
}();

exports.default = Controller;

},{}],"/Users/cescwang/program/sil/SIL-frontend/app/modules/enterprise/modals/branch/index.js":[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _ctrl = require('./ctrl');

var _ctrl2 = _interopRequireDefault(_ctrl);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var configuration = {
  templateUrl: 'modules/enterprise/modals/branch/template.html',
  controller: _ctrl2.default,
  controllerAs: 'vm'
};

exports.default = configuration;

},{"./ctrl":"/Users/cescwang/program/sil/SIL-frontend/app/modules/enterprise/modals/branch/ctrl.js"}],"/Users/cescwang/program/sil/SIL-frontend/app/modules/enterprise/modals/index.js":[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.addConfig = exports.manageConfig = exports.branchConfig = undefined;

var _branch = require('./branch');

var _branch2 = _interopRequireDefault(_branch);

var _manage = require('./manage');

var _manage2 = _interopRequireDefault(_manage);

var _add = require('./add');

var _add2 = _interopRequireDefault(_add);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

exports.branchConfig = _branch2.default;
exports.manageConfig = _manage2.default;
exports.addConfig = _add2.default;

},{"./add":"/Users/cescwang/program/sil/SIL-frontend/app/modules/enterprise/modals/add/index.js","./branch":"/Users/cescwang/program/sil/SIL-frontend/app/modules/enterprise/modals/branch/index.js","./manage":"/Users/cescwang/program/sil/SIL-frontend/app/modules/enterprise/modals/manage/index.js"}],"/Users/cescwang/program/sil/SIL-frontend/app/modules/enterprise/modals/manage/ctrl.js":[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

var Controller = function () {
  Controller.$inject = ["$scope", "$state", "$validation", "$uibModalInstance", "toastr", "EnterpriseService", "info"];
  function Controller($scope, $state, $validation, $uibModalInstance, toastr, EnterpriseService, info) {
    'ngInject';

    _classCallCheck(this, Controller);

    this._scope = $scope;
    this._state = $state;

    this._validationProvider = $validation;

    this._modalInstance = $uibModalInstance;
    this._toastr = toastr;

    this._service = EnterpriseService;

    this.info = info;

    this.inputInfo = {
      main: info.role_a && info.role_a.id,
      vice: info.role_b && info.role_b.id
    };

    this.list = null;

    this._init();
  }

  _createClass(Controller, [{
    key: '_init',
    value: function _init() {
      this._getUserList();
    }
  }, {
    key: '_getUserList',
    value: function _getUserList() {
      var _this = this;

      var bank = this.info.bank;

      var params = {
        state: 1,
        bank_id: bank.id,
        bank_name: bank.name,
        role_en_name: 'ROLE_CUSTOMER_MANAGER',
        page_limit: 1000
      };
      this._service.getUserList(params).then(function (data) {
        _this.list = data.users;
      });
    }
  }, {
    key: 'cancel',
    value: function cancel() {
      this._modalInstance.close();
    }
  }, {
    key: 'submit',
    value: function submit(form) {
      var _this2 = this;

      //验证表单
      this._validationProvider.validate(form).success(function () {
        _this2.saveFunc();
      });
    }
  }, {
    key: 'saveFunc',
    value: function saveFunc() {
      var _this3 = this;

      // console.log('submit')
      this._service.set({
        id: this.info.id,
        role_a_id: this.inputInfo.main,
        role_b_id: this.inputInfo.vice
      }).then(function (data) {
        _this3.cancel();
        _this3._toastr.success('设置成功');
        _this3._state.reload();
      });
    }
  }]);

  return Controller;
}();

exports.default = Controller;

},{}],"/Users/cescwang/program/sil/SIL-frontend/app/modules/enterprise/modals/manage/index.js":[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _ctrl = require('./ctrl');

var _ctrl2 = _interopRequireDefault(_ctrl);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var configuration = {
  templateUrl: 'modules/enterprise/modals/manage/template.html',
  controller: _ctrl2.default,
  controllerAs: 'vm'
};

exports.default = configuration;

},{"./ctrl":"/Users/cescwang/program/sil/SIL-frontend/app/modules/enterprise/modals/manage/ctrl.js"}],"/Users/cescwang/program/sil/SIL-frontend/app/modules/enterprise/module.js":[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _angular = require('angular');

var _angular2 = _interopRequireDefault(_angular);

var _config = require('./config');

var _config2 = _interopRequireDefault(_config);

var _service = require('./service');

var _service2 = _interopRequireDefault(_service);

var _filter = require('./filter');

var _list = require('./list/');

var _list2 = _interopRequireDefault(_list);

var _detail = require('./detail/');

var _detail2 = _interopRequireDefault(_detail);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

// import demoService      from './services/demo.service';


exports.default = _angular2.default.module('app.modules.enterprise', []).filter('filterValue', _filter.filterValue).filter('filterDistributeState', _filter.filterDistributeState).service('EnterpriseService', _service2.default).component('enterpriseList', _list2.default).component('enterpriseDetail', _detail2.default).config(_config2.default);

},{"./config":"/Users/cescwang/program/sil/SIL-frontend/app/modules/enterprise/config.js","./detail/":"/Users/cescwang/program/sil/SIL-frontend/app/modules/enterprise/detail/index.js","./filter":"/Users/cescwang/program/sil/SIL-frontend/app/modules/enterprise/filter.js","./list/":"/Users/cescwang/program/sil/SIL-frontend/app/modules/enterprise/list/index.js","./service":"/Users/cescwang/program/sil/SIL-frontend/app/modules/enterprise/service.js","angular":"angular"}],"/Users/cescwang/program/sil/SIL-frontend/app/modules/enterprise/service.js":[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

var Service = function () {
  Service.$inject = ["$http", "httpHelper", "$rootScope", "$state", "ApiMap"];
  function Service($http, httpHelper, $rootScope, $state, ApiMap) {
    'ngInject';

    _classCallCheck(this, Service);

    this._http = $http;
    // this.$q = $q;
    this._httpHelper = httpHelper;

    this._apiMap = ApiMap;

    this._api = ApiMap.enterprise;

    this._rootScope = $rootScope;
    this._state = $state;
  }

  _createClass(Service, [{
    key: 'get',
    value: function get(id) {

      this._httpHelper.blockUI.start();

      return this._http.get(this._api.get.replace(/\{id\}/, id)).then(this._httpHelper.verify, this._httpHelper.error);
    }
  }, {
    key: 'getList',
    value: function getList(params) {

      this._httpHelper.blockUI.start();

      return this._http.post(this._api.getList, params).then(this._httpHelper.verify, this._httpHelper.error);
    }
  }, {
    key: 'set',
    value: function set(data) {

      this._httpHelper.blockUI.start();

      return this._http.post(this._api.set, data).then(this._httpHelper.verify, this._httpHelper.error);
    }
  }, {
    key: 'add',
    value: function add(data) {

      this._httpHelper.blockUI.start();

      return this._http.post(this._api.add, data).then(this._httpHelper.verify, this._httpHelper.error);
    }
  }, {
    key: 'getBankList',
    value: function getBankList(params) {
      this._httpHelper.blockUI.start();
      return this._http.get(this._apiMap.bank.get, { params: params }).then(this._httpHelper.verify, this._httpHelper.error);
    }
  }, {
    key: 'getUserList',
    value: function getUserList(data) {
      this._httpHelper.blockUI.start();
      return this._http.post(this._apiMap.person.list, data).then(this._httpHelper.verify, this._httpHelper.error);
    }
  }]);

  return Service;
}();

exports.default = Service;

},{}],"/Users/cescwang/program/sil/SIL-frontend/app/modules/filter/blacklist/ctrl.js":[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _mcPagination = require('../../../core/components/mcPagination/mc-pagination.class');

var _mcPagination2 = _interopRequireDefault(_mcPagination);

var _modals = require('../modals');

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var ListController = function (_Pagination) {
  ListController.$inject = ["$injector", "$state", "$location", "$stateParams", "toastr", "$uibModal", "FilterService"];
  _inherits(ListController, _Pagination);

  function ListController($injector, $state, $location, $stateParams, toastr, $uibModal, FilterService) {
    'ngInject';

    _classCallCheck(this, ListController);

    var _this = _possibleConstructorReturn(this, (ListController.__proto__ || Object.getPrototypeOf(ListController)).call(this, $injector));

    _this._state = $state;
    _this._location = $location;
    _this._stateParams = $stateParams;
    _this._modal = $uibModal;

    _this._toastr = toastr;

    _this._service = FilterService;

    _this.filters = {};

    _this._init();

    return _this;
  }

  _createClass(ListController, [{
    key: '_init',
    value: function _init() {

      this._initFilters();
      this._getList();
    }
  }, {
    key: '_initFilters',
    value: function _initFilters() {
      // console.log(this._stateParams);
      var stateParams = this._stateParams;
      // this.pagination.page = +stateParams.page;
      // this.filters.gender = +stateParams.gender || void(0);

      this.filters.name = stateParams.name || void 0;
    }
  }, {
    key: '_getList',
    value: function _getList() {
      var _this2 = this;

      var params = this._filterEmptyValue();
      // params.pageSize = this.pagination.pageSize;
      params.page = this.pagination.page;

      this._service.getBlackList(params).then(function (data) {
        console.log(data);
        _this2.list = data.blacklist;
        _this2.pagination.count = data.page_count * _this2.pagination.pageSize;
      });

      // this.list = [
      //             {id: 1, title: '单独的表单控件会被自动赋予一些全局样式', link: '/', content: '单独的表单控件会被自动赋予一些全局样式。所有设置了 .form-control 类的 <input>、<textarea> 和 <select> 元素都将被默认设置宽度属性为 width: 100%;。 将 label 元素和前面提到的控件包裹在 .form-group 中可以获得最好的排列。'},
      //             {id: 2, title: '单独的表单控件会被自动赋予一些全局样式', link: '/', content: '单独的表单控件会被自动赋予一些全局样式。所有设置了 .form-control 类的 <input>、<textarea> 和 <select> 元素都将被默认设置宽度属性为 width: 100%;。 将 label 元素和前面提到的控件包裹在 .form-group 中可以获得最好的排列。'},
      //           ];
      // this.pagination.count = 20;
    }
  }, {
    key: 'add',
    value: function add() {
      var resolve = {
        info: function info() {
          return {};
        }
      };

      var options = _extends({}, _modals.addConfig, { resolve: resolve });

      this._modal.open(options);
    }
  }, {
    key: 'del',
    value: function del(item) {
      var _this3 = this;

      var id = item.id;

      this._service.delBlackList({ id: id }).then(function (data) {
        // this._toastr.success('');
        _this3._toastr.success('删除成功');
        _this3._state.reload();
      });
    }
  }]);

  return ListController;
}(_mcPagination2.default);

exports.default = ListController;

},{"../../../core/components/mcPagination/mc-pagination.class":"/Users/cescwang/program/sil/SIL-frontend/app/core/components/mcPagination/mc-pagination.class.js","../modals":"/Users/cescwang/program/sil/SIL-frontend/app/modules/filter/modals/index.js"}],"/Users/cescwang/program/sil/SIL-frontend/app/modules/filter/blacklist/index.js":[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _ctrl = require('./ctrl');

var _ctrl2 = _interopRequireDefault(_ctrl);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var BlackList = {
  templateUrl: 'modules/filter/blacklist/template.html',
  controller: _ctrl2.default,
  controllerAs: 'vm'
};

exports.default = BlackList;

},{"./ctrl":"/Users/cescwang/program/sil/SIL-frontend/app/modules/filter/blacklist/ctrl.js"}],"/Users/cescwang/program/sil/SIL-frontend/app/modules/filter/condition/ctrl.js":[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

var Controller = function () {
  Controller.$inject = ["$scope", "$state", "$stateParams", "$validation", "toastr", "ConfigService", "checkStateService"];
  function Controller($scope, $state, $stateParams, $validation, toastr, ConfigService, checkStateService) {
    'ngInject';

    _classCallCheck(this, Controller);

    this._scope = $scope;

    this._state = $state;
    this._toastr = toastr;
    this._stateParams = $stateParams;

    this._validation = $validation;

    this._checkStateService = checkStateService;

    this._service = ConfigService;

    // this.id = this._stateParams.id || null;

    this.info = null;

    this.key = 'enterprise.enter_condition';

    this.sortableConf = {
      name: 'todo',
      animation: 150
    };
    this.inputInfo = {
      content: '',
      title: ''
    };

    this.typeList = [{
      value: 'integer',
      name: '数字'
    }, {
      value: 'string',
      name: '文本'
    }];

    this.groupCondition = [{
      value: 'all',
      name: '必须全部满足'
    }, {
      value: 'one',
      name: '满足一个即可'
    }, {
      value: 'oneNot',
      name: '不同时满足'
    }, {
      value: 'allNot',
      name: '不能满足任何一个'
    }];

    this.conditionList = {
      string: [{
        value: '=',
        name: '等于'
      }, {
        value: '%=',
        name: '包含'
      }, {
        value: '!=',
        name: '不包含'
      }],
      integer: [{
        value: '=',
        name: '等于'
      }, {
        value: '>',
        name: '大于'
      }, {
        value: '>=',
        name: '大于等于'
      }, {
        value: '<',
        name: '大于'
      }, {
        value: '<=',
        name: '大于'
      }]
    };

    this._init();
  }

  _createClass(Controller, [{
    key: '_init',
    value: function _init() {

      // this.list = [{
      //   condition: 'all',
      //   list: [
      //     {
      //       title: '',
      //       type: 'integer',
      //       condition: '=',
      //       value: 1
      //     },

      //     {
      //       title: '',
      //       type: 'integer',
      //       condition: '=',
      //       value: 1
      //     }
      //   ]
      // },
      // {
      //   condition: 'all',
      //   list: [
      //     {
      //       title: '',
      //       type: 'integer',
      //       condition: '=',
      //       value: 1
      //     },

      //     {
      //       title: '',
      //       type: 'integer',
      //       condition: '=',
      //       value: 1
      //     }
      //   ]
      // }
      // ]
      this._get();
    }
  }, {
    key: '_get',
    value: function _get() {
      var _this = this;

      this._service.get(this.key).then(function (data) {
        if (data) {
          _this.list = angular.fromJson(data);
        } else {
          _this.initCollect();
        }
      }).catch(function (data) {
        _this.initCollect();
      });
    }
  }, {
    key: 'initCollect',
    value: function initCollect() {
      this.list = [];
      this.addGroup();
    }
  }, {
    key: 'addGroup',
    value: function addGroup() {
      var group = {
        condition: 'all',
        list: []
      };
      this.addItem(group);
      this.list.push(group);
    }
  }, {
    key: 'addItem',
    value: function addItem(group) {
      var item = {
        title: '',
        type: 'integer',
        condition: '=',
        value: ''
      };
      group.list.push(item);
    }
  }, {
    key: 'delGroup',
    value: function delGroup(index) {
      this.list.splice(index, 1);
    }
  }, {
    key: 'delItem',
    value: function delItem(group, index) {
      group.list.splice(index, 1);
    }
  }, {
    key: 'delete',
    value: function _delete(form) {
      var _this2 = this;

      form.$pristine = true;
      this._service.tipsSet({
        id: this.id,
        state: 3
      }).then(function (data) {
        _this2._toastr.success('删除成功!');
        _this2._state.go('process.tips');
      });
    }
  }, {
    key: 'submit',
    value: function submit(form) {
      var _this3 = this;

      //验证表单
      this._validation.validate(form).success(function () {
        _this3.saveFunc(form);
      });
    }
  }, {
    key: 'saveFunc',
    value: function saveFunc(form) {
      var _this4 = this;

      this._service.set({
        key: this.key,
        value: angular.toJson(this.list)
      }).then(function (data) {
        form.$pristine = true;
        _this4._toastr.success('添加成功');
      });
    }
  }]);

  return Controller;
}();

exports.default = Controller;

},{}],"/Users/cescwang/program/sil/SIL-frontend/app/modules/filter/condition/index.js":[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _ctrl = require('./ctrl');

var _ctrl2 = _interopRequireDefault(_ctrl);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var condition = {
  templateUrl: 'modules/filter/condition/index.html',
  controller: _ctrl2.default,
  controllerAs: 'vm'
};

exports.default = condition;

},{"./ctrl":"/Users/cescwang/program/sil/SIL-frontend/app/modules/filter/condition/ctrl.js"}],"/Users/cescwang/program/sil/SIL-frontend/app/modules/filter/config.js":[function(require,module,exports){
'use strict';

Config.$inject = ["$stateProvider"];
Object.defineProperty(exports, "__esModule", {
  value: true
});
function Config($stateProvider) {
  'ngInject';

  $stateProvider.state('filter', {
    url: '/filter',
    abstract: true,
    template: '<ui-view></ui-view>',
    title: '企业筛选',
    sidebarMeta: {
      icon: 'icon-sidebar_members_ic',
      order: 500
    }
  }).state('filter.blacklist', {
    url: '?page&name',
    template: '<filter-blacklist></filter-blacklist>',
    title: '黑名单',
    sidebarMeta: {
      order: 30
    }
  }).state('filter.condition', {
    url: '/condition',
    template: '<filter-condition></filter-condition>',
    title: '准入条件',
    sidebarMeta: {
      order: 50
    }
  })
  // .state('filter.add', {
  //   url: '/add?id',
  //   template: '<filter-add></filter-add>',
  //   title: '添加黑名单',
  //   sidebarMeta: {
  //     order: 30
  //   }
  // })
  ;
}

exports.default = Config;

},{}],"/Users/cescwang/program/sil/SIL-frontend/app/modules/filter/modals/add/ctrl.js":[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

var Controller = function () {
  Controller.$inject = ["$scope", "$state", "$validation", "$uibModalInstance", "toastr", "FilterService", "info"];
  function Controller($scope, $state, $validation, $uibModalInstance, toastr, FilterService, info) {
    'ngInject';

    _classCallCheck(this, Controller);

    this._scope = $scope;
    this._state = $state;

    this._validationProvider = $validation;

    this._modalInstance = $uibModalInstance;
    this._toastr = toastr;

    this._service = FilterService;

    this.info = info;

    this.inputInfo = {
      name: ''
    };
  }

  _createClass(Controller, [{
    key: 'cancel',
    value: function cancel() {
      this._modalInstance.close();
    }
  }, {
    key: 'submit',
    value: function submit(form) {
      var _this = this;

      //验证表单
      this._validationProvider.validate(form).success(function () {
        _this.saveFunc();
      });
    }
  }, {
    key: 'saveFunc',
    value: function saveFunc() {
      var _this2 = this;

      var data = this.inputInfo;
      this._service.addBlackList(data).then(function (data) {
        _this2._toastr.success('添加成功');
        _this2.cancel();
        _this2._state.reload();
      });
    }
  }]);

  return Controller;
}();

exports.default = Controller;

},{}],"/Users/cescwang/program/sil/SIL-frontend/app/modules/filter/modals/add/index.js":[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _ctrl = require('./ctrl');

var _ctrl2 = _interopRequireDefault(_ctrl);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var Configuration = {
  templateUrl: 'modules/filter/modals/add/template.html',
  controller: _ctrl2.default,
  controllerAs: 'vm'
};

exports.default = Configuration;

},{"./ctrl":"/Users/cescwang/program/sil/SIL-frontend/app/modules/filter/modals/add/ctrl.js"}],"/Users/cescwang/program/sil/SIL-frontend/app/modules/filter/modals/index.js":[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.addConfig = undefined;

var _add = require('./add');

var _add2 = _interopRequireDefault(_add);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

exports.addConfig = _add2.default;

},{"./add":"/Users/cescwang/program/sil/SIL-frontend/app/modules/filter/modals/add/index.js"}],"/Users/cescwang/program/sil/SIL-frontend/app/modules/filter/module.js":[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _angular = require('angular');

var _angular2 = _interopRequireDefault(_angular);

var _config = require('./config');

var _config2 = _interopRequireDefault(_config);

var _service = require('./service');

var _service2 = _interopRequireDefault(_service);

var _condition = require('./condition/');

var _condition2 = _interopRequireDefault(_condition);

var _blacklist = require('./blacklist/');

var _blacklist2 = _interopRequireDefault(_blacklist);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

// import demoService      from './services/demo.service';


// import List  from './list/';
exports.default = _angular2.default.module('app.modules.filter', [])
// .filter('filterType', filterType)
.service('FilterService', _service2.default).component('filterBlacklist', _blacklist2.default).component('filterCondition', _condition2.default).config(_config2.default);

},{"./blacklist/":"/Users/cescwang/program/sil/SIL-frontend/app/modules/filter/blacklist/index.js","./condition/":"/Users/cescwang/program/sil/SIL-frontend/app/modules/filter/condition/index.js","./config":"/Users/cescwang/program/sil/SIL-frontend/app/modules/filter/config.js","./service":"/Users/cescwang/program/sil/SIL-frontend/app/modules/filter/service.js","angular":"angular"}],"/Users/cescwang/program/sil/SIL-frontend/app/modules/filter/service.js":[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

var Service = function () {
  Service.$inject = ["$http", "httpHelper", "$rootScope", "$state", "ApiMap"];
  function Service($http, httpHelper, $rootScope, $state, ApiMap) {
    'ngInject';

    _classCallCheck(this, Service);

    this._http = $http;
    // this.$q = $q;
    this._httpHelper = httpHelper;

    this._apiMap = ApiMap;

    this._api = ApiMap.filter;

    this._rootScope = $rootScope;
    this._state = $state;
  }

  _createClass(Service, [{
    key: 'getBlackList',
    value: function getBlackList(params) {
      this._httpHelper.blockUI.start();
      return this._http.post(this._api.blacklist.list, params).then(this._httpHelper.verify, this._httpHelper.error);
    }
  }, {
    key: 'addBlackList',
    value: function addBlackList(params) {
      this._httpHelper.blockUI.start();
      return this._http.post(this._api.blacklist.add, params).then(this._httpHelper.verify, this._httpHelper.error);
    }
  }, {
    key: 'delBlackList',
    value: function delBlackList(params) {
      this._httpHelper.blockUI.start();
      return this._http.post(this._api.blacklist.del, params).then(this._httpHelper.verify, this._httpHelper.error);
    }
  }]);

  return Service;
}();

exports.default = Service;

},{}],"/Users/cescwang/program/sil/SIL-frontend/app/modules/information/config.js":[function(require,module,exports){
'use strict';

Config.$inject = ["$stateProvider"];
Object.defineProperty(exports, "__esModule", {
    value: true
});
function Config($stateProvider) {
    'ngInject';

    $stateProvider.state('information', {
        url: '/information',
        // abstract: true,
        template: '<ui-view><information-setting></information-setting></ui-view>',
        title: '企业采集设置',
        sidebarMeta: {
            icon: 'icon-sidebar_members_ic',
            order: 600
        }
    })
    // .state('information.list', {
    //     url: '',
    //     template: '<information-list></information-list>',
    //     title: '企业列表',
    //     sidebarMeta: {
    //       order: 10
    //     }
    // })
    // .state('information.detail', {
    //     url: '/detail?id',
    //     template: '<information-detail></information-detail>',
    //     title: '企业列表',
    //     sidebarMeta: {
    //       order: 20
    //     }
    // })
    .state('information.setting', {
        url: '/setting',
        template: '<information-setting></information-setting>',
        title: '采集设置'
    });
}

exports.default = Config;

},{}],"/Users/cescwang/program/sil/SIL-frontend/app/modules/information/module.js":[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _angular = require('angular');

var _angular2 = _interopRequireDefault(_angular);

var _config = require('./config');

var _config2 = _interopRequireDefault(_config);

var _setting = require('./setting/');

var _setting2 = _interopRequireDefault(_setting);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

// import demoService      from './services/demo.service';


exports.default = _angular2.default.module('app.modules.information', [])
// .filter('filterType', filterType)
// .service('MessageService', service)

// .component('informationList', List)
.component('informationSetting', _setting2.default).config(_config2.default);
// import service from './service';
// import List  from './list/';

},{"./config":"/Users/cescwang/program/sil/SIL-frontend/app/modules/information/config.js","./setting/":"/Users/cescwang/program/sil/SIL-frontend/app/modules/information/setting/index.js","angular":"angular"}],"/Users/cescwang/program/sil/SIL-frontend/app/modules/information/setting/ctrl.js":[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

var Controller = function () {
  Controller.$inject = ["$injector", "$state", "$location", "$validation", "$stateParams", "toastr", "$uibModal", "ConfigService"];
  function Controller($injector, $state, $location, $validation, $stateParams, toastr, $uibModal, ConfigService) {
    'ngInject';

    _classCallCheck(this, Controller);

    this._state = $state;
    this._location = $location;
    this._stateParams = $stateParams;
    this._modal = $uibModal;

    this._validationProvider = $validation;

    this._toastr = toastr;

    this._service = ConfigService;

    this.filters = {};

    this.key = 'finding.template';

    this.typeList = [{
      type: 'input',
      title: '单行文本'
    }, {
      type: 'textarea',
      title: '多行文本'
    }, {
      type: 'img',
      title: '图片'
    }, {
      type: 'select',
      title: '下拉选择'
    }, {
      type: 'checkbox',
      title: '多选框'
    }];

    this._init();
  }

  _createClass(Controller, [{
    key: '_init',
    value: function _init() {
      this._getTemplate();
    }
  }, {
    key: '_getTemplate',
    value: function _getTemplate() {
      var _this = this;

      this._service.get(this.key).then(function (data) {
        if (data) {
          _this.collectList = angular.fromJson(data);
        } else {
          _this.initCollectInfo();
        }
      }).catch(function (e) {
        _this.initCollectInfo();
      });
    }
  }, {
    key: 'initCollectInfo',
    value: function initCollectInfo() {
      this.collectList = [];

      this.addProject();
    }
  }, {
    key: 'typeChange',
    value: function typeChange(item) {
      if (['select', 'checkbox'].indexOf(item.type) > -1) {
        item.needData = true;
      } else {
        item.needData = false;
      }
    }
  }, {
    key: 'addProject',
    value: function addProject() {
      var projectObj = {
        name: '',
        isRequired: false,
        content: []
      };
      this.collectList.push(projectObj);
      this.addItem(projectObj);
    }
  }, {
    key: 'deleteProject',
    value: function deleteProject(index) {
      this.collectList.splice(index, 1);
    }
  }, {
    key: 'addItem',
    value: function addItem(project) {
      var contentObj = {
        title: '',
        type: 'input',
        description: '',
        isRequired: false,
        needData: false,
        dataSource: []
      };

      project.content.push(contentObj);

      this.addData(contentObj);
    }
  }, {
    key: 'deleteItem',
    value: function deleteItem(proj, index) {
      proj.content.splice(index, 1);
    }
  }, {
    key: 'addData',
    value: function addData(item) {
      item.dataSource.push({
        description: ''
      });
    }
  }, {
    key: 'deleteData',
    value: function deleteData(item, index) {
      item.dataSource.splice(index, 1);
    }
  }, {
    key: 'submit',
    value: function submit(form) {
      var _this2 = this;

      //验证表单
      this._validationProvider.validate(form).success(function () {
        _this2.saveFunc();
      });
    }
  }, {
    key: 'saveFunc',
    value: function saveFunc() {
      var _this3 = this;

      // console.log('submit')

      // console.log(this.collectList, JSON.stringify(this.collectList));

      this._service.set({
        key: this.key,
        value: angular.toJson(this.collectList)
      }).then(function (data) {
        _this3._toastr.success('保存成功');
      });
    }
  }]);

  return Controller;
}();

exports.default = Controller;

},{}],"/Users/cescwang/program/sil/SIL-frontend/app/modules/information/setting/index.js":[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _ctrl = require('./ctrl');

var _ctrl2 = _interopRequireDefault(_ctrl);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var component = {
  templateUrl: 'modules/information/setting/index.html',
  controller: _ctrl2.default,
  controllerAs: 'vm'
};

exports.default = component;

},{"./ctrl":"/Users/cescwang/program/sil/SIL-frontend/app/modules/information/setting/ctrl.js"}],"/Users/cescwang/program/sil/SIL-frontend/app/modules/investment/config.js":[function(require,module,exports){
'use strict';

Config.$inject = ["$stateProvider"];
Object.defineProperty(exports, "__esModule", {
  value: true
});
function Config($stateProvider) {
  'ngInject';

  $stateProvider.state('investment', {
    url: '/investment?page&name',
    // abstract: true,
    template: '<ui-view><investment-list></investment-list></ui-view>',
    title: '投资机构',
    sidebarMeta: {
      icon: 'icon-sidebar_members_ic',
      order: 350
    }
  })
  // .state('investment.list', {
  //     url: '',
  //     template: '<investment-list></investment-list>',
  //     title: '机构列表'
  // })
  ;
}

exports.default = Config;

},{}],"/Users/cescwang/program/sil/SIL-frontend/app/modules/investment/list/ctrl.js":[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _mcPagination = require('../../../core/components/mcPagination/mc-pagination.class');

var _mcPagination2 = _interopRequireDefault(_mcPagination);

var _modals = require('../modals');

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var ListController = function (_Pagination) {
  ListController.$inject = ["$injector", "$state", "$location", "$stateParams", "toastr", "$uibModal", "InvestmentService"];
  _inherits(ListController, _Pagination);

  function ListController($injector, $state, $location, $stateParams, toastr, $uibModal, InvestmentService) {
    'ngInject';

    _classCallCheck(this, ListController);

    var _this = _possibleConstructorReturn(this, (ListController.__proto__ || Object.getPrototypeOf(ListController)).call(this, $injector));

    _this._state = $state;
    _this._location = $location;
    _this._stateParams = $stateParams;
    _this._modal = $uibModal;

    _this._toastr = toastr;

    _this._service = InvestmentService;

    _this.filters = {};

    _this.agencyList = [];

    _this._init();

    return _this;
  }

  _createClass(ListController, [{
    key: '_init',
    value: function _init() {

      this._initFilters();
      this._getList();
    }
  }, {
    key: '_initFilters',
    value: function _initFilters() {
      // console.log(this._stateParams);
      var stateParams = this._stateParams;
      // this.pagination.page = +stateParams.page;
      this.filters.gender = +stateParams.gender || void 0;

      this.filters.name = stateParams.name || void 0;
    }
  }, {
    key: '_getList',
    value: function _getList() {
      var _this2 = this;

      var params = this._filterEmptyValue();
      // params.pageSize = this.pagination.pageSize;
      params.page = this.pagination.page;

      this._service.getList(params).then(function (data) {
        if (data instanceof Array) {
          _this2.list = data;
        } else {
          // this._formatAgency(data);
          _this2.list = data.vc_companies;
          _this2.pagination.count = data.page_count * _this2.pagination.pageSize;
        }
      });
    }
  }, {
    key: '_formatAgency',
    value: function _formatAgency(data) {
      // const tmpArr = [];
      // _.each(data, item => {
      //   tmpArr.push(item.vc_name);
      // });

      // this.agencyList = _.uniq(tmpArr)
    }
  }, {
    key: 'changeAgency',
    value: function changeAgency() {
      if (this.filters.agency === null) {
        this.filters.agency = '';
      }
    }
  }, {
    key: 'addCompany',
    value: function addCompany() {
      var agencyList = this.agencyList;
      var resolve = {
        info: function info() {
          return {
            agencyList: agencyList
          };
        }
      };

      var options = _extends({}, _modals.addConfig, { resolve: resolve });

      this._modal.open(options);
    }
  }, {
    key: 'set',
    value: function set(id, state) {
      var _this3 = this;

      this._service.set({
        id: id,
        state: state
      }).then(function (data) {
        _this3._toastr.success('操作成功');
        _this3._state.reload();
      });
    }
  }, {
    key: 'delete',
    value: function _delete(item) {
      this.set(item.id, 3);
    }
  }, {
    key: 'deleteCancel',
    value: function deleteCancel(item) {
      this.set(item.id, 1);
    }
  }]);

  return ListController;
}(_mcPagination2.default);

exports.default = ListController;

},{"../../../core/components/mcPagination/mc-pagination.class":"/Users/cescwang/program/sil/SIL-frontend/app/core/components/mcPagination/mc-pagination.class.js","../modals":"/Users/cescwang/program/sil/SIL-frontend/app/modules/investment/modals/index.js"}],"/Users/cescwang/program/sil/SIL-frontend/app/modules/investment/list/index.js":[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _ctrl = require('./ctrl');

var _ctrl2 = _interopRequireDefault(_ctrl);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var List = {
  templateUrl: 'modules/investment/list/index.html',
  controller: _ctrl2.default,
  controllerAs: 'vm'
};

exports.default = List;

},{"./ctrl":"/Users/cescwang/program/sil/SIL-frontend/app/modules/investment/list/ctrl.js"}],"/Users/cescwang/program/sil/SIL-frontend/app/modules/investment/modals/add/ctrl.js":[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

var Controller = function () {
  Controller.$inject = ["$scope", "$state", "$validation", "$uibModalInstance", "toastr", "InvestmentService", "info"];
  function Controller($scope, $state, $validation, $uibModalInstance, toastr, InvestmentService, info) {
    'ngInject';

    _classCallCheck(this, Controller);

    this._scope = $scope;
    this._state = $state;

    this._validationProvider = $validation;

    this._modalInstance = $uibModalInstance;
    this._toastr = toastr;

    this._service = InvestmentService;

    this.info = info;

    this.inputInfo = {
      name: '',
      vc_name: ''
    };

    // this.autoCompleteOptions = {
    //   minimumChars: 1,
    //   data: function (term) {
    //     term = term.toUpperCase();
    //     var match = _.filter(info.agencyList, function (value) {
    //         return value.startsWith(term);
    //     });
    //     return match;
    //   }
    // }
  }

  _createClass(Controller, [{
    key: 'cancel',
    value: function cancel() {
      this._modalInstance.close();
    }
  }, {
    key: 'submit',
    value: function submit(form) {
      var _this = this;

      //验证表单
      this._validationProvider.validate(form).success(function () {
        _this.saveFunc();
      });
    }
  }, {
    key: 'saveFunc',
    value: function saveFunc() {
      var _this2 = this;

      var data = this.inputInfo;
      this._service.add(data).then(function (data) {
        _this2._toastr.success('添加成功');
        _this2.cancel();
        _this2._state.reload();
      });
    }
  }]);

  return Controller;
}();

exports.default = Controller;

},{}],"/Users/cescwang/program/sil/SIL-frontend/app/modules/investment/modals/add/index.js":[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _ctrl = require('./ctrl');

var _ctrl2 = _interopRequireDefault(_ctrl);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var Configuration = {
  templateUrl: 'modules/investment/modals/add/template.html',
  controller: _ctrl2.default,
  controllerAs: 'vm'
};

exports.default = Configuration;

},{"./ctrl":"/Users/cescwang/program/sil/SIL-frontend/app/modules/investment/modals/add/ctrl.js"}],"/Users/cescwang/program/sil/SIL-frontend/app/modules/investment/modals/index.js":[function(require,module,exports){
arguments[4]["/Users/cescwang/program/sil/SIL-frontend/app/modules/filter/modals/index.js"][0].apply(exports,arguments)
},{"./add":"/Users/cescwang/program/sil/SIL-frontend/app/modules/investment/modals/add/index.js"}],"/Users/cescwang/program/sil/SIL-frontend/app/modules/investment/module.js":[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _angular = require('angular');

var _angular2 = _interopRequireDefault(_angular);

var _config = require('./config');

var _config2 = _interopRequireDefault(_config);

var _service = require('./service');

var _service2 = _interopRequireDefault(_service);

var _list = require('./list/');

var _list2 = _interopRequireDefault(_list);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

// import demoService      from './services/demo.service';


exports.default = _angular2.default.module('app.modules.investment', [])
// .filter('filterType', filterType)
.service('InvestmentService', _service2.default).component('investmentList', _list2.default).config(_config2.default);

},{"./config":"/Users/cescwang/program/sil/SIL-frontend/app/modules/investment/config.js","./list/":"/Users/cescwang/program/sil/SIL-frontend/app/modules/investment/list/index.js","./service":"/Users/cescwang/program/sil/SIL-frontend/app/modules/investment/service.js","angular":"angular"}],"/Users/cescwang/program/sil/SIL-frontend/app/modules/investment/service.js":[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

var Service = function () {
  Service.$inject = ["$http", "httpHelper", "$rootScope", "$state", "ApiMap"];
  function Service($http, httpHelper, $rootScope, $state, ApiMap) {
    'ngInject';

    _classCallCheck(this, Service);

    this._http = $http;
    // this.$q = $q;
    this._httpHelper = httpHelper;

    this._api = ApiMap.investment;

    this._rootScope = $rootScope;
    this._state = $state;
  }

  // get(id) {

  //   this._httpHelper.blockUI.start();

  //   return this._http.get(this._api.get.replace(/\{id\}/, id)).then(this._httpHelper.verify,  this._httpHelper.error);
  // }

  _createClass(Service, [{
    key: 'getList',
    value: function getList(params) {

      this._httpHelper.blockUI.start();

      return this._http.get(this._api.getList, { params: params }).then(this._httpHelper.verify, this._httpHelper.error);
    }
  }, {
    key: 'set',
    value: function set(data) {

      this._httpHelper.blockUI.start();

      return this._http.post(this._api.set, data).then(this._httpHelper.verify, this._httpHelper.error);
    }
  }, {
    key: 'add',
    value: function add(data) {
      this._httpHelper.blockUI.start();

      return this._http.post(this._api.add, data).then(this._httpHelper.verify, this._httpHelper.error);
    }
  }]);

  return Service;
}();

exports.default = Service;

},{}],"/Users/cescwang/program/sil/SIL-frontend/app/modules/loan/config.js":[function(require,module,exports){
'use strict';

Config.$inject = ["$stateProvider"];
Object.defineProperty(exports, "__esModule", {
    value: true
});
function Config($stateProvider) {
    'ngInject';

    $stateProvider.state('loan', {
        url: '/loan',
        template: '<ui-view></ui-view>',
        title: '贷款决策',
        sidebarMeta: {
            icon: 'icon-sidebar_members_ic',
            order: 450
        }
    }).state('loan.setting', {
        url: '/setting',
        template: '<loan-setting></loan-setting>',
        title: '贷款决策条件设置',
        sidebarMeta: {
            order: 10
        }
    }).state('loan.list', {
        url: '/list',
        template: '<loan-list></loan-list>',
        title: '已评价企业列表',
        sidebarMeta: {
            order: 20
        }
    }).state('loan.decision', {
        url: '/decision?id',
        template: '<loan-decision></loan-decision>',
        title: '贷款辅助决策信息修正'
    });
}

exports.default = Config;

},{}],"/Users/cescwang/program/sil/SIL-frontend/app/modules/loan/decision/ctrl.js":[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

var Controller = function () {
  Controller.$inject = ["$injector", "$state", "$location", "$validation", "$stateParams", "toastr", "$uibModal", "LoanService"];
  function Controller($injector, $state, $location, $validation, $stateParams, toastr, $uibModal, LoanService) {
    'ngInject';

    _classCallCheck(this, Controller);

    this._state = $state;
    this._location = $location;
    this._stateParams = $stateParams;
    this._modal = $uibModal;

    this._validationProvider = $validation;
    this.id = this._stateParams.id;

    this._toastr = toastr;

    this._service = LoanService;

    this.filters = {};
    this.loanList = [];

    this._init();

    this.typeList = {
      'integer': '数值',
      'string': '文本'
    };
  }

  _createClass(Controller, [{
    key: '_init',
    value: function _init() {
      var data = {
        id: 1
      };
      this._getTemplate(data);
    }
  }, {
    key: 'reCount',
    value: function reCount() {
      var data = {
        id: 1,
        data: angular.toJson(this.loanList)
      };
      this._getTemplate(data, '重新计算成功');
    }
  }, {
    key: 'getTotal',
    value: function getTotal() {
      var total = 0;
      this.loanList.forEach(function (loan) {
        loan.value = loan.value + '';
        total += parseInt(loan.point);
      });
      return total;
    }
  }, {
    key: '_getTemplate',
    value: function _getTemplate(data) {
      var _this = this;

      var msg = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '';

      this._service.get(data).then(function (data) {
        if (data && !jQuery.isEmptyObject(data)) {
          _this.loanList = data;
          if (msg.length > 0) {
            _this._toastr.success(msg);
          }
        }
      });
    }
  }, {
    key: 'submit',
    value: function submit(form) {
      var _this2 = this;

      //验证表单
      this._validationProvider.validate(form).success(function () {
        _this2.saveFunc();
      });
    }
  }, {
    key: 'saveFunc',
    value: function saveFunc() {
      var _this3 = this;

      var data = {
        id: this.id,
        data: angular.toJson(this.loanList)
      };
      this._service.set(data).then(function (data) {
        _this3._toastr.success('保存成功');
      });
    }
  }]);

  return Controller;
}();

exports.default = Controller;

},{}],"/Users/cescwang/program/sil/SIL-frontend/app/modules/loan/decision/index.js":[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _ctrl = require('./ctrl');

var _ctrl2 = _interopRequireDefault(_ctrl);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var component = {
  templateUrl: 'modules/loan/decision/index.html',
  controller: _ctrl2.default,
  controllerAs: 'vm'
};

exports.default = component;

},{"./ctrl":"/Users/cescwang/program/sil/SIL-frontend/app/modules/loan/decision/ctrl.js"}],"/Users/cescwang/program/sil/SIL-frontend/app/modules/loan/list/ctrl.js":[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _mcPagination = require('../../../core/components/mcPagination/mc-pagination.class');

var _mcPagination2 = _interopRequireDefault(_mcPagination);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var ListController = function (_Pagination) {
  ListController.$inject = ["$injector", "$state", "$location", "$stateParams", "sweet", "toastr", "$uibModal", "LoanService"];
  _inherits(ListController, _Pagination);

  function ListController($injector, $state, $location, $stateParams, sweet, toastr, $uibModal, LoanService) {
    'ngInject';

    _classCallCheck(this, ListController);

    var _this = _possibleConstructorReturn(this, (ListController.__proto__ || Object.getPrototypeOf(ListController)).call(this, $injector));

    _this._state = $state;
    _this._location = $location;
    _this._stateParams = $stateParams;
    _this._modal = $uibModal;

    _this._sweet = sweet;
    _this._toastr = toastr;

    _this._service = LoanService;

    _this.roleMainStatus = [{
      value: '',
      label: '全部'
    }, {
      value: 1,
      label: '离职'
    }];

    _this.enterpriseStateList = [{
      value: 1,
      label: '正常'
    }, {
      value: 2,
      label: '已冻结'
    }, {
      value: 0,
      label: '未通过筛选'
    }, {
      value: 3,
      label: '已删除'
    }];

    _this.filters = {};

    _this.oneAtATime = true;

    _this._init();

    return _this;
  }

  _createClass(ListController, [{
    key: '_init',
    value: function _init() {

      this._initFilters();
      this._getList();
    }
  }, {
    key: '_initFilters',
    value: function _initFilters() {
      // console.log(this._stateParams);
      var stateParams = this._stateParams;
      // this.pagination.page = +stateParams.page;
      this.filters.role_a_disable = stateParams.role_a_disable || '';
      this.filters.state = stateParams.state ? +stateParams.state : void 0;

      this.filters.name = stateParams.name || void 0;
    }
  }, {
    key: '_getList',
    value: function _getList() {
      var _this2 = this;

      var params = this._filterEmptyValue();
      // params.pageSize = this.pagination.pageSize;
      params.page = this.pagination.page;
      params.only_loan_ready = 1;

      this._service.getList(params).then(function (data) {
        console.log(data);
        _this2.list = data.enterprises;
        _this2.pagination.count = data.page_count * _this2.pagination.pageSize;
      });
    }
  }, {
    key: 'reSearch',
    value: function reSearch() {
      var page = 1;
      this._location.search(_extends({}, this._filterEmptyValue(), { page: page }));
    }
  }, {
    key: 'switch',
    value: function _switch(key, value) {

      if (!key) {
        return false;
      }

      this.filters[key] = value;

      this.reSearch();
    }
  }]);

  return ListController;
}(_mcPagination2.default);

exports.default = ListController;

},{"../../../core/components/mcPagination/mc-pagination.class":"/Users/cescwang/program/sil/SIL-frontend/app/core/components/mcPagination/mc-pagination.class.js"}],"/Users/cescwang/program/sil/SIL-frontend/app/modules/loan/list/index.js":[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _ctrl = require('./ctrl');

var _ctrl2 = _interopRequireDefault(_ctrl);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var List = {
  templateUrl: 'modules/loan/list/index.html',
  controller: _ctrl2.default,
  controllerAs: 'vm'
};

exports.default = List;

},{"./ctrl":"/Users/cescwang/program/sil/SIL-frontend/app/modules/loan/list/ctrl.js"}],"/Users/cescwang/program/sil/SIL-frontend/app/modules/loan/module.js":[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _angular = require('angular');

var _angular2 = _interopRequireDefault(_angular);

var _bootstrap = require('bootstrap');

var _bootstrap2 = _interopRequireDefault(_bootstrap);

var _config = require('./config');

var _config2 = _interopRequireDefault(_config);

var _setting = require('./setting/');

var _setting2 = _interopRequireDefault(_setting);

var _decision = require('./decision');

var _decision2 = _interopRequireDefault(_decision);

var _list = require('./list');

var _list2 = _interopRequireDefault(_list);

var _service = require('./service');

var _service2 = _interopRequireDefault(_service);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

exports.default = _angular2.default.module('app.modules.loan', []).service('LoanService', _service2.default).component('loanSetting', _setting2.default).component('loanDecision', _decision2.default).component('loanList', _list2.default).config(_config2.default);

},{"./config":"/Users/cescwang/program/sil/SIL-frontend/app/modules/loan/config.js","./decision":"/Users/cescwang/program/sil/SIL-frontend/app/modules/loan/decision/index.js","./list":"/Users/cescwang/program/sil/SIL-frontend/app/modules/loan/list/index.js","./service":"/Users/cescwang/program/sil/SIL-frontend/app/modules/loan/service.js","./setting/":"/Users/cescwang/program/sil/SIL-frontend/app/modules/loan/setting/index.js","angular":"angular","bootstrap":"/Users/cescwang/program/sil/SIL-frontend/node_modules/bootstrap/dist/js/npm.js"}],"/Users/cescwang/program/sil/SIL-frontend/app/modules/loan/service.js":[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

var Service = function () {
  Service.$inject = ["$http", "httpHelper", "$rootScope", "$state", "ApiMap"];
  function Service($http, httpHelper, $rootScope, $state, ApiMap) {
    'ngInject';

    _classCallCheck(this, Service);

    this._http = $http;
    // this.$q = $q;
    this._httpHelper = httpHelper;

    this._api = ApiMap.loan;
    this._eapi = ApiMap.enterprise;

    this._rootScope = $rootScope;
    this._state = $state;
  }

  _createClass(Service, [{
    key: 'get',
    value: function get(params) {

      this._httpHelper.blockUI.start();

      return this._http.post(this._api.get, params).then(this._httpHelper.verify, this._httpHelper.error);
    }
  }, {
    key: 'set',
    value: function set(params) {

      this._httpHelper.blockUI.start();

      return this._http.post(this._api.set, params).then(this._httpHelper.verify, this._httpHelper.error);
    }
  }, {
    key: 'getList',
    value: function getList(params) {

      this._httpHelper.blockUI.start();

      return this._http.post(this._eapi.getList, params).then(this._httpHelper.verify, this._httpHelper.error);
    }
  }]);

  return Service;
}();

exports.default = Service;

},{}],"/Users/cescwang/program/sil/SIL-frontend/app/modules/loan/setting/ctrl.js":[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

var Controller = function () {
  Controller.$inject = ["$injector", "$state", "$location", "$validation", "$stateParams", "toastr", "$uibModal", "ConfigService"];
  function Controller($injector, $state, $location, $validation, $stateParams, toastr, $uibModal, ConfigService) {
    'ngInject';

    _classCallCheck(this, Controller);

    this._state = $state;
    this._location = $location;
    this._stateParams = $stateParams;
    this._modal = $uibModal;

    this._validationProvider = $validation;

    this._toastr = toastr;

    this._service = ConfigService;

    this.filters = {};

    this.conditionList = {
      'string': {
        '=': '完全匹配',
        'like': '包含',
        'not_like': '不包含'
      },
      'integer': {
        '<': '<',
        '<=': '<=',
        '>': '>',
        '>=': '>=',
        '=': '='
      }
    };

    this.typeList = {
      'integer': '数值',
      'string': '文本'
    };

    this._init();
  }

  _createClass(Controller, [{
    key: '_init',
    value: function _init() {
      this._getTemplate();
    }
  }, {
    key: '_getTemplate',
    value: function _getTemplate() {
      var _this = this;

      this._service.get('loan.decision_condition').then(function (data) {
        if (data && !jQuery.isEmptyObject(data)) {
          _this.loanList = JSON.parse(data);
        } else {
          _this.initCollectInfo();
        }
      });
    }
  }, {
    key: 'initCollectInfo',
    value: function initCollectInfo() {
      this.loanList = [];

      this.addCondition();
    }
  }, {
    key: 'addCondition',
    value: function addCondition() {
      var loanObj = {
        title: '',
        point: '0',
        condition_list: []
      };
      this.loanList.push(loanObj);
      this.addProject(loanObj);
    }
  }, {
    key: 'addProject',
    value: function addProject(loanObj) {
      var projectObj = {
        title: '',
        option_type: 'integer',
        options: []
      };
      //this.loanList.push(projectObj);
      loanObj.condition_list.push(projectObj);
      this.addItem(projectObj);
    }
  }, {
    key: 'deleteProject',
    value: function deleteProject(index) {
      this.loanList.splice(index, 1);
    }
  }, {
    key: 'addItem',
    value: function addItem(project) {
      var contentObj = {
        condition: project.option_type == 'string' ? '=' : '<',
        value: '',
        point: ''
      };

      project.options.push(contentObj);
    }
  }, {
    key: 'deleteItem',
    value: function deleteItem(proj, index) {
      proj.options.splice(index, 1);
    }
  }, {
    key: 'deleteData',
    value: function deleteData(item, index) {
      item.dataSource.splice(index, 1);
    }
  }, {
    key: 'typeChange',
    value: function typeChange(project) {
      project.options.forEach(function (option) {
        if (project.option_type == 'integer') {
          option.condition = '<';
        } else {
          option.condition = '=';
        }
      });
    }
  }, {
    key: 'submit',
    value: function submit(form) {
      var _this2 = this;

      //验证表单
      var that = this;
      var stop = false;
      this._validationProvider.validate(form).success(function () {
        //不能超过100分数
        var point = 0;
        _this2.loanList.forEach(function (loan) {
          var loanPoint = 0;
          loan.condition_list.forEach(function (condition) {
            var maxPoint = 0;
            condition.options.forEach(function (option) {
              if (option.point > maxPoint) {
                maxPoint = parseInt(option.point);
              }
            });
            loanPoint += parseInt(maxPoint);
          });
          if (loanPoint > parseInt(loan.point)) {
            that._toastr.error(loan.title + '分类的总分超过预定分类总分');
            stop = true;
            return false;
          }
          point += parseInt(loan.point);
        });
        if (stop) {
          return;
        }
        if (point > 100) {
          _this2._toastr.error('分数不能超过100');
          return;
        }
        _this2.saveFunc();
      });
    }
  }, {
    key: 'saveFunc',
    value: function saveFunc() {
      var _this3 = this;

      //console.log('submit')

      //console.log(this.loanList, JSON.stringify(this.loanList));

      this._service.set({
        key: 'loan.decision_condition',
        value: angular.toJson(this.loanList)
      }).then(function (data) {
        _this3._toastr.success('保存成功');
      });
    }
  }]);

  return Controller;
}();

exports.default = Controller;

},{}],"/Users/cescwang/program/sil/SIL-frontend/app/modules/loan/setting/index.js":[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _ctrl = require('./ctrl');

var _ctrl2 = _interopRequireDefault(_ctrl);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var component = {
  templateUrl: 'modules/loan/setting/index.html',
  controller: _ctrl2.default,
  controllerAs: 'vm'
};

exports.default = component;

},{"./ctrl":"/Users/cescwang/program/sil/SIL-frontend/app/modules/loan/setting/ctrl.js"}],"/Users/cescwang/program/sil/SIL-frontend/app/modules/log/config.js":[function(require,module,exports){
'use strict';

Config.$inject = ["$stateProvider"];
Object.defineProperty(exports, "__esModule", {
  value: true
});
function Config($stateProvider) {
  'ngInject';

  $stateProvider.state('log', {
    url: '/log',
    //abstract: true,
    template: '<ui-view><log-list></log-list></ui-view>',
    title: '日志管理',
    sidebarMeta: {
      icon: 'icon-sidebar_members_ic',
      order: 2000
    }
  })
  // .state('log.list', {
  //     url: '',
  //     template: '',
  //     title: '日志列表'
  // })
  ;
}

exports.default = Config;

},{}],"/Users/cescwang/program/sil/SIL-frontend/app/modules/log/list/ctrl.js":[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _mcPagination = require('../../../core/components/mcPagination/mc-pagination.class');

var _mcPagination2 = _interopRequireDefault(_mcPagination);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var ListController = function (_Pagination) {
  ListController.$inject = ["$injector", "$state", "$location", "$stateParams", "toastr", "$uibModal", "LogService"];
  _inherits(ListController, _Pagination);

  function ListController($injector, $state, $location, $stateParams, toastr, $uibModal, LogService) {
    'ngInject';

    _classCallCheck(this, ListController);

    var _this = _possibleConstructorReturn(this, (ListController.__proto__ || Object.getPrototypeOf(ListController)).call(this, $injector));

    _this._state = $state;
    _this._location = $location;
    _this._stateParams = $stateParams;
    _this._modal = $uibModal;

    _this._toastr = toastr;

    _this._service = LogService;

    _this.filters = {};

    _this.start_date = moment().add(-1, 'days');
    _this.filters.time_from = _this.start_date.unix();
    _this.end_date = moment();
    _this.filters.time_to = _this.end_date.unix();

    _this.startTimeMaxLimit = moment();
    _this.endTimeMaxLimit = moment();

    _this._init();

    return _this;
  }

  _createClass(ListController, [{
    key: '_init',
    value: function _init() {
      this._initFilters();
      this._getList();
    }
  }, {
    key: '_initFilters',
    value: function _initFilters() {

      var stateParams = this._stateParams;
      //this.filters.keyword = stateParams.keyword || void(0);
    }
  }, {
    key: '_getList',
    value: function _getList() {
      var _this2 = this;

      var params = this._filterEmptyValue();
      params.page = this.pagination.page;

      this._service.list(params).then(function (data) {
        _this2.pagination.count = data.count;
        _this2.pagination.pageSize = data.page_limit;
        _this2.list = data.logs;
      });
    }
  }, {
    key: 'pageChanged',
    value: function pageChanged() {
      this._getList();
    }
  }, {
    key: 'reSearch',
    value: function reSearch() {
      this._getList();
    }

    // datepicker

  }, {
    key: 'changeTime',
    value: function changeTime(type) {
      var values = {
        minDate: false,
        maxDate: false
      };
      if (type == 'start') {
        this.filters.time_from = this.start_date.unix();
        this.endTimeMinLimit = this.start_date;
        values.minDate = this.start_date;
        values.maxDate = moment();
      } else {
        this.filters.time_to = this.end_date.unix();
        this.startTimeMaxLimit = this.end_date;
        values.maxDate = this.end_date;
      }
      this.reSearch();
    }
  }]);

  return ListController;
}(_mcPagination2.default);

exports.default = ListController;

},{"../../../core/components/mcPagination/mc-pagination.class":"/Users/cescwang/program/sil/SIL-frontend/app/core/components/mcPagination/mc-pagination.class.js"}],"/Users/cescwang/program/sil/SIL-frontend/app/modules/log/list/index.js":[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _ctrl = require('./ctrl');

var _ctrl2 = _interopRequireDefault(_ctrl);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var List = {
  templateUrl: 'modules/log/list/index.html',
  controller: _ctrl2.default,
  controllerAs: 'vm'
};

exports.default = List;

},{"./ctrl":"/Users/cescwang/program/sil/SIL-frontend/app/modules/log/list/ctrl.js"}],"/Users/cescwang/program/sil/SIL-frontend/app/modules/log/module.js":[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _angular = require('angular');

var _angular2 = _interopRequireDefault(_angular);

var _bootstrap = require('bootstrap');

var _bootstrap2 = _interopRequireDefault(_bootstrap);

var _config = require('./config');

var _config2 = _interopRequireDefault(_config);

var _service = require('./service');

var _service2 = _interopRequireDefault(_service);

var _list = require('./list/');

var _list2 = _interopRequireDefault(_list);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

exports.default = _angular2.default.module('app.modules.log', [])
// .filter('filterType', filterType)
.service('LogService', _service2.default).component('logList', _list2.default).config(_config2.default);

},{"./config":"/Users/cescwang/program/sil/SIL-frontend/app/modules/log/config.js","./list/":"/Users/cescwang/program/sil/SIL-frontend/app/modules/log/list/index.js","./service":"/Users/cescwang/program/sil/SIL-frontend/app/modules/log/service.js","angular":"angular","bootstrap":"/Users/cescwang/program/sil/SIL-frontend/node_modules/bootstrap/dist/js/npm.js"}],"/Users/cescwang/program/sil/SIL-frontend/app/modules/log/service.js":[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

var Service = function () {
  Service.$inject = ["$http", "httpHelper", "$rootScope", "$state", "ApiMap"];
  function Service($http, httpHelper, $rootScope, $state, ApiMap) {
    'ngInject';

    _classCallCheck(this, Service);

    this._http = $http;
    // this.$q = $q;
    this._httpHelper = httpHelper;

    this._api = ApiMap.log;

    this._rootScope = $rootScope;
    this._state = $state;
  }

  _createClass(Service, [{
    key: 'list',
    value: function list(params) {

      this._httpHelper.blockUI.start();

      return this._http.post(this._api.list, params).then(this._httpHelper.verify, this._httpHelper.error);
    }
  }]);

  return Service;
}();

exports.default = Service;

},{}],"/Users/cescwang/program/sil/SIL-frontend/app/modules/message/config.js":[function(require,module,exports){
'use strict';

Config.$inject = ["$stateProvider"];
Object.defineProperty(exports, "__esModule", {
    value: true
});
function Config($stateProvider) {
    'ngInject';

    $stateProvider.state('message', {
        url: '/message',
        abstract: true,
        template: '<ui-view></ui-view>',
        title: '提示消息'
    }).state('message.list', {
        url: '?page',
        template: '<message-list></message-list>',
        title: '消息列表'
    }).state('message.detail', {
        url: '/detail?id',
        template: '<message-detail></message-detail>',
        title: '消息详情'
    });
}

exports.default = Config;

},{}],"/Users/cescwang/program/sil/SIL-frontend/app/modules/message/detail/ctrl.js":[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

var Controller = function () {
  Controller.$inject = ["$state", "$stateParams", "toastr", "MessageService"];
  function Controller($state, $stateParams, toastr, MessageService) {
    'ngInject';

    _classCallCheck(this, Controller);

    this._state = $state;
    this._toastr = toastr;
    this._stateParams = $stateParams;

    this._service = MessageService;

    this.id = this._stateParams.id;

    this.info = null;

    this._get();
  }

  _createClass(Controller, [{
    key: '_get',
    value: function _get() {
      var _this = this;

      this._service.get(this.id).then(function (data) {
        _this.info = data;
        if (data.state === 0) {
          _this._read();
        }
      });
    }
  }, {
    key: '_read',
    value: function _read() {
      this._service.set({
        id: this.id,
        state: 1
      }).then(function (data) {});
    }
  }, {
    key: 'delete',
    value: function _delete() {
      var _this2 = this;

      this._service.set({
        id: this.id,
        state: 2
      }).then(function (data) {
        _this2._toastr.success('删除成功!');
        _this2._state.go('message.list');
      });
    }
  }]);

  return Controller;
}();

exports.default = Controller;

},{}],"/Users/cescwang/program/sil/SIL-frontend/app/modules/message/detail/index.js":[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _ctrl = require('./ctrl');

var _ctrl2 = _interopRequireDefault(_ctrl);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var detail = {
  templateUrl: 'modules/message/detail/index.html',
  controller: _ctrl2.default,
  controllerAs: 'vm'
};

exports.default = detail;

},{"./ctrl":"/Users/cescwang/program/sil/SIL-frontend/app/modules/message/detail/ctrl.js"}],"/Users/cescwang/program/sil/SIL-frontend/app/modules/message/list/ctrl.js":[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _mcPagination = require('../../../core/components/mcPagination/mc-pagination.class');

var _mcPagination2 = _interopRequireDefault(_mcPagination);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var ListController = function (_Pagination) {
  ListController.$inject = ["$injector", "$state", "$location", "$stateParams", "toastr", "$uibModal", "MessageService"];
  _inherits(ListController, _Pagination);

  function ListController($injector, $state, $location, $stateParams, toastr, $uibModal, MessageService) {
    'ngInject';

    _classCallCheck(this, ListController);

    var _this = _possibleConstructorReturn(this, (ListController.__proto__ || Object.getPrototypeOf(ListController)).call(this, $injector));

    _this._state = $state;
    _this._location = $location;
    _this._stateParams = $stateParams;
    _this._modal = $uibModal;

    _this._toastr = toastr;

    _this._service = MessageService;

    _this.filters = {};

    _this.oneAtATime = true;

    _this._init();

    return _this;
  }

  _createClass(ListController, [{
    key: '_init',
    value: function _init() {

      this._initFilters();
      this._getList();
    }
  }, {
    key: '_initFilters',
    value: function _initFilters() {
      // console.log(this._stateParams);
      var stateParams = this._stateParams;
      // this.pagination.page = +stateParams.page;
      // this.filters.gender = +stateParams.gender || void(0);

      this.filters.keyword = stateParams.keyword || void 0;
    }
  }, {
    key: '_getList',
    value: function _getList() {
      var _this2 = this;

      var params = this._filterEmptyValue();
      // params.pageSize = this.pagination.pageSize;
      params.page = this.pagination.page;

      this._service.getList(params).then(function (data) {
        console.log(data);
        _this2.list = data.messages;
        _this2.pagination.count = data.page_count * _this2.pagination.pageSize;
      });

      // this.list = [
      //             {id: 1, title: '单独的表单控件会被自动赋予一些全局样式', link: '/', content: '单独的表单控件会被自动赋予一些全局样式。所有设置了 .form-control 类的 <input>、<textarea> 和 <select> 元素都将被默认设置宽度属性为 width: 100%;。 将 label 元素和前面提到的控件包裹在 .form-group 中可以获得最好的排列。'},
      //             {id: 2, title: '单独的表单控件会被自动赋予一些全局样式', link: '/', content: '单独的表单控件会被自动赋予一些全局样式。所有设置了 .form-control 类的 <input>、<textarea> 和 <select> 元素都将被默认设置宽度属性为 width: 100%;。 将 label 元素和前面提到的控件包裹在 .form-group 中可以获得最好的排列。'},
      //           ];
      // this.pagination.count = 20;
    }
  }, {
    key: 'toggleAll',
    value: function toggleAll() {
      var _this3 = this;

      if (this.list) {
        this.list.forEach(function (item) {
          return item.checked = _this3.selectAll;
        });
      }
    }
  }, {
    key: 'checkAll',
    value: function checkAll() {
      if (this.list) {
        var uncheckedList = this.list.filter(function (item) {
          return !item.checked;
        });
        var len = uncheckedList.length;

        if (len > 0) {
          this.selectAll = false;
        } else if (len = this.list.length) {
          this.selectAll = true;
        }
      }
    }
  }, {
    key: 'batchMarkedRead',
    value: function batchMarkedRead() {
      if (this.list) {
        var checkedList = this.list.filter(function (item) {
          return item.checked;
        });

        checkedList.forEach(function (item) {
          return item.isRead = true;
        });
      }
    }
  }, {
    key: 'batchRemove',
    value: function batchRemove() {
      if (this.list) {
        this.list = this.list.filter(function (item) {
          return !item.checked;
        });

        // checkedList.forEach(item => item.isRead = true);
        this._toastr.success('删除成功!');
        this._state.reload();
      }
    }
  }, {
    key: 'getCheckedIds',
    value: function getCheckedIds() {
      if (this.list) {
        var checkedList = this.list.filter(function (item) {
          return item.checked;
        });

        return checkedList.map(function (item) {
          return item.id;
        });
      }

      return false;
    }
  }, {
    key: 'markedRead',
    value: function markedRead() {
      var _this4 = this;

      var ids = this.getCheckedIds();

      if (ids && ids.length) {
        console.log(ids);

        this._service.read({ ids: ids }).then(function (data) {
          // this._toastr.success('');
          _this4.batchMarkedRead();
        });
      }
    }
  }, {
    key: 'delete',
    value: function _delete() {
      var _this5 = this;

      var ids = this.getCheckedIds();

      if (ids && ids.length) {
        console.log(ids);
        this._service.delete({ ids: ids }).then(function (data) {
          // this._toastr.success('');
          _this5.batchRemove();
        });
      }
    }
  }]);

  return ListController;
}(_mcPagination2.default);

exports.default = ListController;

},{"../../../core/components/mcPagination/mc-pagination.class":"/Users/cescwang/program/sil/SIL-frontend/app/core/components/mcPagination/mc-pagination.class.js"}],"/Users/cescwang/program/sil/SIL-frontend/app/modules/message/list/index.js":[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _ctrl = require('./ctrl');

var _ctrl2 = _interopRequireDefault(_ctrl);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var List = {
  templateUrl: 'modules/message/list/template.html',
  controller: _ctrl2.default,
  controllerAs: 'vm'
};

exports.default = List;

},{"./ctrl":"/Users/cescwang/program/sil/SIL-frontend/app/modules/message/list/ctrl.js"}],"/Users/cescwang/program/sil/SIL-frontend/app/modules/message/module.js":[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _angular = require('angular');

var _angular2 = _interopRequireDefault(_angular);

var _config = require('./config');

var _config2 = _interopRequireDefault(_config);

var _service = require('./service');

var _service2 = _interopRequireDefault(_service);

var _list = require('./list/');

var _list2 = _interopRequireDefault(_list);

var _detail = require('./detail/');

var _detail2 = _interopRequireDefault(_detail);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

// import demoService      from './services/demo.service';


exports.default = _angular2.default.module('app.modules.message', [])
// .filter('filterType', filterType)
.service('MessageService', _service2.default).component('messageList', _list2.default).component('messageDetail', _detail2.default).config(_config2.default);

},{"./config":"/Users/cescwang/program/sil/SIL-frontend/app/modules/message/config.js","./detail/":"/Users/cescwang/program/sil/SIL-frontend/app/modules/message/detail/index.js","./list/":"/Users/cescwang/program/sil/SIL-frontend/app/modules/message/list/index.js","./service":"/Users/cescwang/program/sil/SIL-frontend/app/modules/message/service.js","angular":"angular"}],"/Users/cescwang/program/sil/SIL-frontend/app/modules/message/service.js":[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

var Service = function () {
  Service.$inject = ["$http", "httpHelper", "$rootScope", "$state", "ApiMap"];
  function Service($http, httpHelper, $rootScope, $state, ApiMap) {
    'ngInject';

    _classCallCheck(this, Service);

    this._http = $http;
    // this.$q = $q;
    this._httpHelper = httpHelper;

    this._api = ApiMap.message;

    this._rootScope = $rootScope;
    this._state = $state;
  }

  _createClass(Service, [{
    key: 'get',
    value: function get(id) {

      this._httpHelper.blockUI.start();

      return this._http.get(this._api.get.replace(/\{id\}/, id)).then(this._httpHelper.verify, this._httpHelper.error);
    }
  }, {
    key: 'getList',
    value: function getList(params, hideLoading) {

      !hideLoading && this._httpHelper.blockUI.start();

      return this._http.post(this._api.getList, params).then(this._httpHelper.verify, this._httpHelper.error);
    }
  }, {
    key: 'set',
    value: function set(data) {

      this._httpHelper.blockUI.start();

      return this._http.post(this._api.set, data).then(this._httpHelper.verify, this._httpHelper.error);
    }
  }]);

  return Service;
}();

exports.default = Service;

},{}],"/Users/cescwang/program/sil/SIL-frontend/app/modules/modules.module.js":[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _angular = require('angular');

var _angular2 = _interopRequireDefault(_angular);

var _dashboard = require('./dashboard/dashboard.module');

var _dashboard2 = _interopRequireDefault(_dashboard);

var _demo = require('./demo/demo.module');

var _demo2 = _interopRequireDefault(_demo);

var _module = require('./message/module');

var _module2 = _interopRequireDefault(_module);

var _module3 = require('./investment/module');

var _module4 = _interopRequireDefault(_module3);

var _module5 = require('./enterprise/module');

var _module6 = _interopRequireDefault(_module5);

var _module7 = require('./information/module');

var _module8 = _interopRequireDefault(_module7);

var _module9 = require('./person/module');

var _module10 = _interopRequireDefault(_module9);

var _module11 = require('./account/module');

var _module12 = _interopRequireDefault(_module11);

var _module13 = require('./log/module');

var _module14 = _interopRequireDefault(_module13);

var _module15 = require('./bank/module');

var _module16 = _interopRequireDefault(_module15);

var _module17 = require('./sysconfig/module');

var _module18 = _interopRequireDefault(_module17);

var _module19 = require('./process/module');

var _module20 = _interopRequireDefault(_module19);

var _module21 = require('./loan/module');

var _module22 = _interopRequireDefault(_module21);

var _module23 = require('./filter/module');

var _module24 = _interopRequireDefault(_module23);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

exports.default = _angular2.default.module('app.modules', [_dashboard2.default.name, _demo2.default.name, _module2.default.name, _module4.default.name, _module6.default.name, _module8.default.name, _module10.default.name, _module12.default.name, _module14.default.name, _module16.default.name, _module20.default.name, _module18.default.name, _module22.default.name, _module24.default.name]);

},{"./account/module":"/Users/cescwang/program/sil/SIL-frontend/app/modules/account/module.js","./bank/module":"/Users/cescwang/program/sil/SIL-frontend/app/modules/bank/module.js","./dashboard/dashboard.module":"/Users/cescwang/program/sil/SIL-frontend/app/modules/dashboard/dashboard.module.js","./demo/demo.module":"/Users/cescwang/program/sil/SIL-frontend/app/modules/demo/demo.module.js","./enterprise/module":"/Users/cescwang/program/sil/SIL-frontend/app/modules/enterprise/module.js","./filter/module":"/Users/cescwang/program/sil/SIL-frontend/app/modules/filter/module.js","./information/module":"/Users/cescwang/program/sil/SIL-frontend/app/modules/information/module.js","./investment/module":"/Users/cescwang/program/sil/SIL-frontend/app/modules/investment/module.js","./loan/module":"/Users/cescwang/program/sil/SIL-frontend/app/modules/loan/module.js","./log/module":"/Users/cescwang/program/sil/SIL-frontend/app/modules/log/module.js","./message/module":"/Users/cescwang/program/sil/SIL-frontend/app/modules/message/module.js","./person/module":"/Users/cescwang/program/sil/SIL-frontend/app/modules/person/module.js","./process/module":"/Users/cescwang/program/sil/SIL-frontend/app/modules/process/module.js","./sysconfig/module":"/Users/cescwang/program/sil/SIL-frontend/app/modules/sysconfig/module.js","angular":"angular"}],"/Users/cescwang/program/sil/SIL-frontend/app/modules/person/config.js":[function(require,module,exports){
'use strict';

Config.$inject = ["$stateProvider"];
Object.defineProperty(exports, "__esModule", {
    value: true
});
function Config($stateProvider) {
    'ngInject';

    $stateProvider.state('person', {
        url: '/person',
        abstract: true,
        template: '<ui-view></ui-view>',
        title: '个人中心'
    }).state('person.detail', {
        url: '',
        template: '<person-detail></person-detail>',
        title: '资料详情'
    });
}

exports.default = Config;

},{}],"/Users/cescwang/program/sil/SIL-frontend/app/modules/person/detail/ctrl.js":[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

var DetailController = function () {
  DetailController.$inject = ["$state", "toastr", "PersonService", "AppSettings", "ConfigService", "ProfileService"];
  function DetailController($state, toastr, PersonService, AppSettings, ConfigService, ProfileService) {
    'ngInject';

    _classCallCheck(this, DetailController);

    this._state = $state;
    this._toastr = toastr;

    this._service = PersonService;
    this._configService = ConfigService;

    this.roleList = ProfileService.getRoleList();
    this.roleKey = AppSettings.roleListKey;

    this._init();
  }

  _createClass(DetailController, [{
    key: '_init',
    value: function _init() {
      var _this = this;

      var params = {
        id: window.localStorage.getItem('SIL_UID')
      };
      this.stateArr = {
        0: '未激活',
        1: '正常',
        2: '已冻结',
        3: '已删除'
      };

      this._service.get(params).then(function (data) {
        _this.person = data;
      });
    }
  }, {
    key: 'setUser',
    value: function setUser() {
      var params = {
        user_id: window.localStorage.getItem('SIL_UID'),
        new_password: this.person.new_password,
        true_name: this.person.true_name,
        phone: this.person.phone,
        role_name: this.person.role_name,
        role: this.person.role,
        state: this.person.state
      };
      this._service.set(params).then(function (data) {
        location.href = '/';
      });
    }
  }]);

  return DetailController;
}();

exports.default = DetailController;

},{}],"/Users/cescwang/program/sil/SIL-frontend/app/modules/person/detail/index.js":[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _ctrl = require('./ctrl');

var _ctrl2 = _interopRequireDefault(_ctrl);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var detail = {
  templateUrl: 'modules/person/detail/index.html',
  controller: _ctrl2.default,
  controllerAs: 'vm'
};

exports.default = detail;

},{"./ctrl":"/Users/cescwang/program/sil/SIL-frontend/app/modules/person/detail/ctrl.js"}],"/Users/cescwang/program/sil/SIL-frontend/app/modules/person/module.js":[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _angular = require('angular');

var _angular2 = _interopRequireDefault(_angular);

var _bootstrap = require('bootstrap');

var _bootstrap2 = _interopRequireDefault(_bootstrap);

var _config = require('./config');

var _config2 = _interopRequireDefault(_config);

var _service = require('./service');

var _service2 = _interopRequireDefault(_service);

var _detail = require('./detail/');

var _detail2 = _interopRequireDefault(_detail);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

// import demoService      from './services/demo.service';


exports.default = _angular2.default.module('app.modules.person', [])
// .filter('filterType', filterType)
.service('PersonService', _service2.default).component('personDetail', _detail2.default).config(_config2.default);

},{"./config":"/Users/cescwang/program/sil/SIL-frontend/app/modules/person/config.js","./detail/":"/Users/cescwang/program/sil/SIL-frontend/app/modules/person/detail/index.js","./service":"/Users/cescwang/program/sil/SIL-frontend/app/modules/person/service.js","angular":"angular","bootstrap":"/Users/cescwang/program/sil/SIL-frontend/node_modules/bootstrap/dist/js/npm.js"}],"/Users/cescwang/program/sil/SIL-frontend/app/modules/person/service.js":[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

var Service = function () {
  Service.$inject = ["$http", "httpHelper", "$rootScope", "$state", "ApiMap"];
  function Service($http, httpHelper, $rootScope, $state, ApiMap) {
    'ngInject';

    _classCallCheck(this, Service);

    this._http = $http;
    // this.$q = $q;
    this._httpHelper = httpHelper;

    this._api = ApiMap.person;
    this._apiMap = ApiMap;

    this._rootScope = $rootScope;
    this._state = $state;
  }

  _createClass(Service, [{
    key: 'get',
    value: function get(params) {

      this._httpHelper.blockUI.start();

      return this._http.post(this._api.get, params).then(this._httpHelper.verify, this._httpHelper.error);
    }
  }, {
    key: 'set',
    value: function set(params) {

      this._httpHelper.blockUI.start();

      return this._http.post(this._api.set, params).then(this._httpHelper.verify, this._httpHelper.error);
    }
  }, {
    key: 'getRoleList',
    value: function getRoleList() {
      this._httpHelper.blockUI.start();

      return this._http.get(this._apiMap.auth.get).then(this._httpHelper.verify, this._httpHelper.error);
    }
  }]);

  return Service;
}();

exports.default = Service;

},{}],"/Users/cescwang/program/sil/SIL-frontend/app/modules/process/add/ctrl.js":[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

var Controller = function () {
  Controller.$inject = ["$scope", "$state", "$stateParams", "$validation", "toastr", "ProcessService", "checkStateService"];
  function Controller($scope, $state, $stateParams, $validation, toastr, ProcessService, checkStateService) {
    'ngInject';

    _classCallCheck(this, Controller);

    this._scope = $scope;

    this._state = $state;
    this._toastr = toastr;
    this._stateParams = $stateParams;

    this._validation = $validation;

    this._checkStateService = checkStateService;

    this._service = ProcessService;

    this.id = this._stateParams.id || null;

    this.info = null;
    this.inputInfo = {
      content: '',
      title: ''
    };

    this._init();
  }

  _createClass(Controller, [{
    key: '_init',
    value: function _init() {
      var _this = this;

      var destroyWatchText = this._scope.$watch('vm.inputInfo.content', function () {
        if (_this.inputInfo.content) {
          // console.log(marked(this.inputInfo.content));
          _this.html = marked(_this.inputInfo.content);
        } else {
          _this.html = '';
        }
      });
      /*
      * $scope销毁的时候,结束监听
      */
      this._scope.$on('$destroy', destroyWatchText);

      this._checkStateService.formStateChange(this._scope, 'vm.Form');

      this._get();
    }
  }, {
    key: '_get',
    value: function _get() {
      var _this2 = this;

      if (this.id) {
        this._service.tipsGet(this.id).then(function (data) {
          _this2.info = data;

          _this2.inputInfo = _extends({}, data);

          _this2.defaultContent = data.content;
        }).catch(function (data) {
          _this2.id = null;
        });
      }
    }
  }, {
    key: '_read',
    value: function _read() {
      this._service.set({
        id: this.id,
        state: 1
      }).then(function (data) {});
    }
  }, {
    key: 'delete',
    value: function _delete(form) {
      var _this3 = this;

      form.$pristine = true;
      this._service.tipsSet({
        id: this.id,
        state: 3
      }).then(function (data) {
        _this3._toastr.success('删除成功!');
        _this3._state.go('process.tips');
      });
    }
  }, {
    key: 'submit',
    value: function submit(form) {
      var _this4 = this;

      //验证表单
      this._validation.validate(form).success(function () {
        _this4.saveFunc(form);
      });
    }
  }, {
    key: 'saveFunc',
    value: function saveFunc(form) {
      var _this5 = this;

      var data = this.inputInfo;
      if (this.id) {
        this._service.tipsSet(data).then(function (data) {
          form.$pristine = true;
          _this5._toastr.success('保存成功');
          _this5._state.go('process.tips');
        });
      } else {
        this._service.tipsAdd(data).then(function (data) {
          form.$pristine = true;
          _this5._toastr.success('添加成功');
          _this5._state.go('process.tips');
        });
      }
    }
  }]);

  return Controller;
}();

exports.default = Controller;

},{}],"/Users/cescwang/program/sil/SIL-frontend/app/modules/process/add/index.js":[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _ctrl = require('./ctrl');

var _ctrl2 = _interopRequireDefault(_ctrl);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var add = {
  templateUrl: 'modules/process/add/index.html',
  controller: _ctrl2.default,
  controllerAs: 'vm'
};

exports.default = add;

},{"./ctrl":"/Users/cescwang/program/sil/SIL-frontend/app/modules/process/add/ctrl.js"}],"/Users/cescwang/program/sil/SIL-frontend/app/modules/process/config.js":[function(require,module,exports){
'use strict';

Config.$inject = ["$stateProvider"];
Object.defineProperty(exports, "__esModule", {
  value: true
});
function Config($stateProvider) {
  'ngInject';

  $stateProvider.state('process', {
    url: '/process',
    abstract: true,
    template: '<ui-view></ui-view>',
    title: '贷款流程',
    sidebarMeta: {
      icon: 'icon-sidebar_members_ic',
      order: 600
    }
  }).state('process.tips', {
    url: '?page',
    template: '<process-tips></process-tips>',
    title: '提示话术',
    sidebarMeta: {
      order: 30
    }
  }).state('process.add', {
    url: '/add?id',
    template: '<process-add></message-add>',
    title: '添加话术',
    sidebarMeta: {
      order: 30
    }
  });
}

exports.default = Config;

},{}],"/Users/cescwang/program/sil/SIL-frontend/app/modules/process/module.js":[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _angular = require('angular');

var _angular2 = _interopRequireDefault(_angular);

var _config = require('./config');

var _config2 = _interopRequireDefault(_config);

var _service = require('./service');

var _service2 = _interopRequireDefault(_service);

var _add = require('./add/');

var _add2 = _interopRequireDefault(_add);

var _tips = require('./tips/');

var _tips2 = _interopRequireDefault(_tips);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

// import demoService      from './services/demo.service';


// import List  from './list/';
exports.default = _angular2.default.module('app.modules.process', [])
// .filter('filterType', filterType)
.service('ProcessService', _service2.default).component('processTips', _tips2.default).component('processAdd', _add2.default).config(_config2.default);

},{"./add/":"/Users/cescwang/program/sil/SIL-frontend/app/modules/process/add/index.js","./config":"/Users/cescwang/program/sil/SIL-frontend/app/modules/process/config.js","./service":"/Users/cescwang/program/sil/SIL-frontend/app/modules/process/service.js","./tips/":"/Users/cescwang/program/sil/SIL-frontend/app/modules/process/tips/index.js","angular":"angular"}],"/Users/cescwang/program/sil/SIL-frontend/app/modules/process/service.js":[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

var Service = function () {
  Service.$inject = ["$http", "httpHelper", "$rootScope", "$state", "ApiMap"];
  function Service($http, httpHelper, $rootScope, $state, ApiMap) {
    'ngInject';

    _classCallCheck(this, Service);

    this._http = $http;
    // this.$q = $q;
    this._httpHelper = httpHelper;

    this._api = ApiMap.process;

    this._rootScope = $rootScope;
    this._state = $state;
  }

  _createClass(Service, [{
    key: 'get',
    value: function get(id) {

      this._httpHelper.blockUI.start();

      return this._http.get(this._api.get.replace(/\{id\}/, id)).then(this._httpHelper.verify, this._httpHelper.error);
    }
  }, {
    key: 'getList',
    value: function getList(params) {

      this._httpHelper.blockUI.start();

      return this._http.post(this._api.getList, params).then(this._httpHelper.verify, this._httpHelper.error);
    }
  }, {
    key: 'set',
    value: function set(data) {

      this._httpHelper.blockUI.start();

      return this._http.post(this._api.set, data).then(this._httpHelper.verify, this._httpHelper.error);
    }
  }, {
    key: 'tipsGet',
    value: function tipsGet(id) {

      this._httpHelper.blockUI.start();

      return this._http.get(this._api.tipsGet.replace(/\{id\}/, id)).then(this._httpHelper.verify, this._httpHelper.error);
    }
  }, {
    key: 'tipsList',
    value: function tipsList(params) {

      this._httpHelper.blockUI.start();

      return this._http.post(this._api.tipsList, params).then(this._httpHelper.verify, this._httpHelper.error);
    }
  }, {
    key: 'tipsSet',
    value: function tipsSet(data) {

      this._httpHelper.blockUI.start();

      return this._http.post(this._api.tipsSet, data).then(this._httpHelper.verify, this._httpHelper.error);
    }
  }, {
    key: 'tipsAdd',
    value: function tipsAdd(data) {

      this._httpHelper.blockUI.start();

      return this._http.post(this._api.tipsAdd, data).then(this._httpHelper.verify, this._httpHelper.error);
    }
  }]);

  return Service;
}();

exports.default = Service;

},{}],"/Users/cescwang/program/sil/SIL-frontend/app/modules/process/tips/ctrl.js":[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _mcPagination = require('../../../core/components/mcPagination/mc-pagination.class');

var _mcPagination2 = _interopRequireDefault(_mcPagination);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var ListController = function (_Pagination) {
  ListController.$inject = ["$injector", "$state", "$location", "$stateParams", "toastr", "$uibModal", "ProcessService"];
  _inherits(ListController, _Pagination);

  function ListController($injector, $state, $location, $stateParams, toastr, $uibModal, ProcessService) {
    'ngInject';

    _classCallCheck(this, ListController);

    var _this = _possibleConstructorReturn(this, (ListController.__proto__ || Object.getPrototypeOf(ListController)).call(this, $injector));

    _this._state = $state;
    _this._location = $location;
    _this._stateParams = $stateParams;
    _this._modal = $uibModal;

    _this._toastr = toastr;

    _this._service = ProcessService;

    _this.filters = {};

    _this._init();

    return _this;
  }

  _createClass(ListController, [{
    key: '_init',
    value: function _init() {

      this._initFilters();
      this._getList();
    }
  }, {
    key: '_initFilters',
    value: function _initFilters() {
      // console.log(this._stateParams);
      var stateParams = this._stateParams;
      // this.pagination.page = +stateParams.page;
      // this.filters.gender = +stateParams.gender || void(0);

      this.filters.keyword = stateParams.keyword || void 0;
    }
  }, {
    key: '_getList',
    value: function _getList() {
      var _this2 = this;

      var params = this._filterEmptyValue();
      // params.pageSize = this.pagination.pageSize;
      params.page = this.pagination.page;

      this._service.tipsList(params).then(function (data) {
        console.log(data);
        _this2.list = data.cm_tips;
        _this2.pagination.count = data.page_count * _this2.pagination.pageSize;
      });

      // this.list = [
      //             {id: 1, title: '单独的表单控件会被自动赋予一些全局样式', link: '/', content: '单独的表单控件会被自动赋予一些全局样式。所有设置了 .form-control 类的 <input>、<textarea> 和 <select> 元素都将被默认设置宽度属性为 width: 100%;。 将 label 元素和前面提到的控件包裹在 .form-group 中可以获得最好的排列。'},
      //             {id: 2, title: '单独的表单控件会被自动赋予一些全局样式', link: '/', content: '单独的表单控件会被自动赋予一些全局样式。所有设置了 .form-control 类的 <input>、<textarea> 和 <select> 元素都将被默认设置宽度属性为 width: 100%;。 将 label 元素和前面提到的控件包裹在 .form-group 中可以获得最好的排列。'},
      //           ];
      // this.pagination.count = 20;
    }
  }, {
    key: 'toggleAll',
    value: function toggleAll() {
      var _this3 = this;

      if (this.list) {
        this.list.forEach(function (item) {
          return item.checked = _this3.selectAll;
        });
      }
    }
  }, {
    key: 'checkAll',
    value: function checkAll() {
      if (this.list) {
        var uncheckedList = this.list.filter(function (item) {
          return !item.checked;
        });
        var len = uncheckedList.length;

        if (len > 0) {
          this.selectAll = false;
        } else if (len = this.list.length) {
          this.selectAll = true;
        }
      }
    }
  }, {
    key: 'batchMarkedRead',
    value: function batchMarkedRead() {
      if (this.list) {
        var checkedList = this.list.filter(function (item) {
          return item.checked;
        });

        checkedList.forEach(function (item) {
          return item.isRead = true;
        });
      }
    }
  }, {
    key: 'batchRemove',
    value: function batchRemove() {
      if (this.list) {
        this.list = this.list.filter(function (item) {
          return !item.checked;
        });

        // checkedList.forEach(item => item.isRead = true);
        this._toastr.success('删除成功!');
        this._state.reload();
      }
    }
  }, {
    key: 'getCheckedIds',
    value: function getCheckedIds() {
      if (this.list) {
        var checkedList = this.list.filter(function (item) {
          return item.checked;
        });

        return checkedList.map(function (item) {
          return item.id;
        });
      }

      return false;
    }
  }, {
    key: 'markedRead',
    value: function markedRead() {
      var _this4 = this;

      var ids = this.getCheckedIds();

      if (ids && ids.length) {
        console.log(ids);

        this._service.read({ ids: ids }).then(function (data) {
          // this._toastr.success('');
          _this4.batchMarkedRead();
        });
      }
    }
  }, {
    key: 'delete',
    value: function _delete() {
      var _this5 = this;

      var ids = this.getCheckedIds();

      if (ids && ids.length) {
        console.log(ids);
        this._service.delete({ ids: ids }).then(function (data) {
          // this._toastr.success('');
          _this5.batchRemove();
        });
      }
    }
  }]);

  return ListController;
}(_mcPagination2.default);

exports.default = ListController;

},{"../../../core/components/mcPagination/mc-pagination.class":"/Users/cescwang/program/sil/SIL-frontend/app/core/components/mcPagination/mc-pagination.class.js"}],"/Users/cescwang/program/sil/SIL-frontend/app/modules/process/tips/index.js":[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _ctrl = require('./ctrl');

var _ctrl2 = _interopRequireDefault(_ctrl);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var Tips = {
  templateUrl: 'modules/process/tips/template.html',
  controller: _ctrl2.default,
  controllerAs: 'vm'
};

exports.default = Tips;

},{"./ctrl":"/Users/cescwang/program/sil/SIL-frontend/app/modules/process/tips/ctrl.js"}],"/Users/cescwang/program/sil/SIL-frontend/app/modules/sysconfig/config.js":[function(require,module,exports){
'use strict';

Config.$inject = ["$stateProvider"];
Object.defineProperty(exports, "__esModule", {
  value: true
});
function Config($stateProvider) {
  'ngInject';

  $stateProvider.state('sysconfig', {
    url: '/sysconfig',
    abstract: true,
    template: '<ui-view></ui-view>',
    title: '系统设置',
    sidebarMeta: {
      icon: 'icon-sidebar_members_ic',
      order: 1000
    }
  }).state('sysconfig.time', {
    url: '/time',
    template: '<time-view></time-view>',
    title: '刷新时间设置',
    sidebarMeta: {
      order: 10
    }
  });
}

exports.default = Config;

},{}],"/Users/cescwang/program/sil/SIL-frontend/app/modules/sysconfig/module.js":[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _angular = require('angular');

var _angular2 = _interopRequireDefault(_angular);

var _bootstrap = require('bootstrap');

var _bootstrap2 = _interopRequireDefault(_bootstrap);

var _config = require('./config');

var _config2 = _interopRequireDefault(_config);

var _time = require('./time/');

var _time2 = _interopRequireDefault(_time);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

exports.default = _angular2.default.module('app.modules.sysconfig', [])
// .filter('filterType', filterType)
//.service('sysconfigService', service)

.component('timeView', _time2.default).config(_config2.default);
//import service from './service';

},{"./config":"/Users/cescwang/program/sil/SIL-frontend/app/modules/sysconfig/config.js","./time/":"/Users/cescwang/program/sil/SIL-frontend/app/modules/sysconfig/time/index.js","angular":"angular","bootstrap":"/Users/cescwang/program/sil/SIL-frontend/node_modules/bootstrap/dist/js/npm.js"}],"/Users/cescwang/program/sil/SIL-frontend/app/modules/sysconfig/time/ctrl.js":[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _mcPagination = require('../../../core/components/mcPagination/mc-pagination.class');

var _mcPagination2 = _interopRequireDefault(_mcPagination);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var ListController = function (_Pagination) {
  ListController.$inject = ["$injector", "$state", "$location", "$stateParams", "toastr", "$uibModal", "ConfigService"];
  _inherits(ListController, _Pagination);

  function ListController($injector, $state, $location, $stateParams, toastr, $uibModal, ConfigService) {
    'ngInject';

    _classCallCheck(this, ListController);

    var _this = _possibleConstructorReturn(this, (ListController.__proto__ || Object.getPrototypeOf(ListController)).call(this, $injector));

    _this._state = $state;
    _this._location = $location;
    _this._stateParams = $stateParams;
    _this._modal = $uibModal;

    _this._toastr = toastr;

    _this._service = ConfigService;

    _this.filters = {};
    _this._init();

    return _this;
  }

  _createClass(ListController, [{
    key: '_init',
    value: function _init() {
      this._get();
    }
  }, {
    key: '_get',
    value: function _get() {
      var _this2 = this;

      //let params = this._filterEmptyValue();

      this._service.get('refresh_time').then(function (data) {
        if (typeof data == 'string') {
          _this2.keyValue = data;
        }
      });
    }
  }, {
    key: 'setConfig',
    value: function setConfig() {
      var _this3 = this;

      var data = {
        key: "refresh_time",
        value: this.keyValue
      };
      this._service.set(data).then(function (data) {
        _this3._toastr.success('设置成功');
        _this3.cancel();
        _this3._state.reload();
      });
    }
  }]);

  return ListController;
}(_mcPagination2.default);

exports.default = ListController;

},{"../../../core/components/mcPagination/mc-pagination.class":"/Users/cescwang/program/sil/SIL-frontend/app/core/components/mcPagination/mc-pagination.class.js"}],"/Users/cescwang/program/sil/SIL-frontend/app/modules/sysconfig/time/index.js":[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _ctrl = require('./ctrl');

var _ctrl2 = _interopRequireDefault(_ctrl);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var List = {
  templateUrl: 'modules/sysconfig/time/index.html',
  controller: _ctrl2.default,
  controllerAs: 'vm'
};

exports.default = List;

},{"./ctrl":"/Users/cescwang/program/sil/SIL-frontend/app/modules/sysconfig/time/ctrl.js"}],"/Users/cescwang/program/sil/SIL-frontend/app/templates.js":[function(require,module,exports){
"use strict";

angular.module("app.templates", []).run(["$templateCache", function ($templateCache) {
  $templateCache.put("modules/dashboard/dashboard.html", "<section class=\"content body-content body-content-compact block-ui block-ui-message-custom dashboard-container\">\n\nindex\n\n</section>\n");
  $templateCache.put("common/components/inline-nav/inline-nav.html", "<section class=\"content-header inline-navigation\">\n  <h4 ng-if=\"$ctrl.title\">{{ $ctrl.title }}</h4>\n  <ul class=\"clearfix\">\n    <li ng-repeat=\"item in $ctrl.navList\" class=\"nav-item\">\n      <a ui-sref=\"{{ item.stateRef }}\" ui-sref-active=\"active\">{{ item.title }}</a>\n    </li>\n\n    <li ng-repeat=\"item in $ctrl.btnList\" class=\"btn-item pull-right\">\n      <a ui-sref=\"{{ item.stateRef }}\" class=\"btn {{ item.btnClass || \'btn-success\' }} m-l-md\" ng-click=\"$ctrl.handleClick(item, $event);\">{{ item.title }}</a>\n    </li>\n\n    <li ng-if=\"$ctrl.backBtn\" class=\"btn-item pull-right\">\n      <a href ng-click=\"$root.back()\" class=\"btn btn-default\">返回</a>\n    </li>\n  </ul>\n</section>\n\n<div block-ui=\"main\" class=\"block-ui-main\">\n  <div ui-view></div>\n</div>\n");
  $templateCache.put("common/components/mc-step/template.html", "<ul class=\"mc-step clearfix center-block\">\n  <li ng-repeat=\"item in vm.stepList\" ng-class=\"{active: item.value <= vm.currentStep }\">\n    <p>{{item.name}}</p>\n    <div class=\"step-arrow\"></div>\n  </li>\n</ul>\n");
  $templateCache.put("common/components/back-top/back-top.html", "<div class=\"back-to-top\"><i></i></div>\n");
  $templateCache.put("common/directives/filter-list/filter-list.html", "<div class=\"option-item {{clazz}}\">\n  <span class=\"item-title\">{{title}}：</span>\n  <ul class=\"clearfix\">\n    <li>\n      <a href=\"javascript:;\" class=\"btn btn-toggle\" ng-click=\"clearKeywordFilter(null)\"\n          ng-class=\"{active: !filters[filterKey]}\">全部</a>\n    </li>\n    <li ng-repeat=\"type in list\">\n      <a href=\"javascript:;\" ng-click=\"clearKeywordFilter(type[itemId || \'id\'])\" title=\"{{type[itemName || \'name\']}}\" class=\"btn btn-toggle\"\n          ng-class=\"{active: filters[filterKey] == type[itemId || \'id\']}\">{{type[itemName || \'name\']}}</a>\n    </li>\n  </ul>\n</div>\n");
  $templateCache.put("common/directives/mcBatchUploadBank/error.html", "<div class=\"modal-body\">\n  <h4>导入结果</h4>\n\n  <p class=\"m-t-lg\">\n    导入成功<span class=\"text-success\">{{vm.count}}</span>条，失败<span class=\"text-danger\">{{vm.errorList.length}}</span>条。\n  </p>\n  <div class=\"panel\" ng-if=\"vm.errorList.length\">\n    <table class=\"table table-striped text-center\">\n      <tr>\n        <th class=\"text-center col-sm-1\">机构名称</th>\n        <th class=\"text-center col-sm-1\">上级机构</th>\n        <th class=\"text-center col-sm-1\">失败原因</th>\n      </tr>\n      <tr ng-repeat=\"item in vm.errorList\">\n        <td>{{item.data[0]}}</td>\n        <td>{{item.data[1]}}</td>\n        <td><span class=\"text-danger\">{{item.reason}}</span></td>\n      </tr>\n    </table>\n  </div>\n  <div class=\"modal-footer\">\n    <button type=\"button\" class=\"btn btn-success btn-sm\" ng-click=\"vm.cancel()\">确定</button>\n  </div>\n</div>\n\n\n");
  $templateCache.put("common/directives/mcBatchUploadBank/template.html", "<div class=\"modal-body\">\n  <h4>如何批量导入</h4>\n\n  <p class=\"m-t-lg\">1.下载《机构数据导入模板》。\n    <a target=\"_blank\" ng-href=\"{{ vm.download_url }}\">点我下载</a>\n  </p>\n\n  <p>2.将机构数据填入模板中保存。</p>\n\n  <p>3.点击上传。</p>\n\n  <button class=\"btn btn-success center-block\" id=\"upload_button\" ng-click=\"vm.uploadFile($event)\">上传</button>\n  <form class=\"dropzone\" ng-hide=\"1\" method=\"post\" enctype=\"multipart/form-data\" ng-dropzone dropzone=\"dropzone\"\n        dropzone-config=\"vm.dropzoneConfig\">\n    <input type=\"hidden\" name=\"extra\" value=\"{{AUTHORIZATION_TOKEN}}\">\n    <input name=\"file\" type=\"file\" multiple/>\n  </form>\n</div>\n\n\n");
  $templateCache.put("common/directives/mcBatchUploadVc/error.html", "<div class=\"modal-body\">\n  <h4>导入结果</h4>\n\n  <p class=\"m-t-lg\">\n    导入成功<span class=\"text-success\">{{vm.count}}</span>条，失败<span class=\"text-danger\">{{vm.errorList.length}}</span>条。\n  </p>\n  <div class=\"panel\" ng-if=\"vm.errorList.length\">\n    <table class=\"table table-striped text-center\">\n      <tr>\n        <th class=\"text-center col-sm-1\">公司名称</th>\n        <th class=\"text-center col-sm-1\">公司简称</th>\n        <th class=\"text-center col-sm-1\">失败原因</th>\n      </tr>\n      <tr ng-repeat=\"item in vm.errorList\">\n        <td>{{item.data[0]}}</td>\n        <td>{{item.data[1]}}</td>\n        <td><span class=\"text-danger\">{{item.reason}}</span></td>\n      </tr>\n    </table>\n  </div>\n  <div class=\"modal-footer\">\n    <button type=\"button\" class=\"btn btn-success btn-sm\" ng-click=\"vm.cancel()\">确定</button>\n  </div>\n</div>\n\n\n");
  $templateCache.put("common/directives/mcBatchUploadVc/template.html", "<div class=\"modal-body\">\n  <h4>如何批量导入</h4>\n\n  <p class=\"m-t-lg\">1.下载《投资机构数据导入模板》。\n    <a target=\"_blank\" ng-href=\"{{ vm.download_url }}\">点我下载</a>\n  </p>\n\n  <p>2.将投资机构数据填入模板中保存。</p>\n\n  <p>3.点击上传。</p>\n\n  <button class=\"btn btn-success center-block\" id=\"upload_button\" ng-click=\"vm.uploadFile($event)\">上传</button>\n  <form class=\"dropzone\" ng-hide=\"1\" method=\"post\" enctype=\"multipart/form-data\" ng-dropzone dropzone=\"dropzone\"\n        dropzone-config=\"vm.dropzoneConfig\">\n    <input type=\"hidden\" name=\"extra\" value=\"{{AUTHORIZATION_TOKEN}}\">\n    <input name=\"file\" type=\"file\" multiple/>\n  </form>\n</div>\n\n\n");
  $templateCache.put("common/directives/mcBatchUploadUser/error.html", "<div class=\"modal-body\">\n  <h4>导入结果</h4>\n\n  <p class=\"m-t-lg\">\n    导入成功<span class=\"text-success\">{{vm.count}}</span>条，失败<span class=\"text-danger\">{{vm.errorList.length}}</span>条。\n  </p>\n  <div class=\"panel\" ng-if=\"vm.errorList.length\">\n    <table class=\"table table-striped text-center\">\n      <tr>\n        <th class=\"text-center col-sm-1\">手机号</th>\n        <th class=\"text-center col-sm-1\">姓名</th>\n        <th class=\"text-center col-sm-1\">失败原因</th>\n      </tr>\n      <tr ng-repeat=\"item in vm.errorList\">\n        <td>{{item.data[0]}}</td>\n        <td>{{item.data[1]}}</td>\n        <td><span class=\"text-danger\">{{item.reason}}</span></td>\n      </tr>\n    </table>\n  </div>\n  <div class=\"modal-footer\">\n    <button type=\"button\" class=\"btn btn-success btn-sm\" ng-click=\"vm.cancel()\">确定</button>\n  </div>\n</div>\n\n\n");
  $templateCache.put("common/directives/mcBatchUploadUser/template.html", "<div class=\"modal-body\">\n\n  <h4>如何批量导入</h4>\n\n  <p class=\"m-t-lg\">1.下载《用户导入模板》。\n    <a target=\"_blank\" ng-href=\"{{ vm.download_url }}\">点我下载</a>\n  </p>\n\n  <p>2.将用户数据填入模板中保存。</p>\n\n  <p>3.点击上传。</p>\n\n  <button class=\"btn btn-success center-block\" id=\"upload_button\" ng-click=\"vm.uploadFile($event)\">上传</button>\n  <form class=\"dropzone\" ng-hide=\"1\" method=\"post\" enctype=\"multipart/form-data\" ng-dropzone dropzone=\"dropzone\"\n        dropzone-config=\"vm.dropzoneConfig\">\n    <input type=\"hidden\" name=\"extra\" value=\"{{AUTHORIZATION_TOKEN}}\">\n    <input name=\"file\" type=\"file\" multiple/>\n  </form>\n\n</div>\n");
  $templateCache.put("core/components/mcContentHeader/mcContentHeader.html", "<section class=\"content-header\">\n  header\n</section>\n");
  $templateCache.put("core/components/mcMainHeader/mcMainHeader.html", "<header class=\"main-header clearfix\">\n  <nav class=\"navbar navbar-static-top\">\n    <ul class=\"nav navbar-nav pull-right\">\n      <li>\n        <a href=\"javascript:;\" ui-sref=\"message.list\" ui-sref-active=\"active\" class=\"mc-message\">\n          <i class=\"icon-header_message_ic\"></i>\n          <span class=\"backen\" ng-if=\"vm.msg_count\">{{vm.msg_count}}</span>\n        </a>\n      </li>\n      <li><a href=\"javascript:;\" ng-click=\"vm.logout()\"><i class=\"icon-header_exit_ic\"></i></a></li>\n      <li class=\"divider\"></li>\n      <li class=\"user-profile\">\n        <a href=\"javascript:;\" ui-sref=\"person.detail\">\n          <!-- <img ng-src=\"{{vm.info.avatar}}\" alt=\"{{vm.info.name}}\"> -->\n          <span>您好，{{vm.info.name}}</span>\n        </a>\n      </li>\n    </ul>\n  </nav>\n</header>\n");
  $templateCache.put("core/components/mcPagination/index.html", "\n<div class=\"row text-center\" ng-if=\"vm.totalItems\">\n  <uib-pagination total-items=\"vm.totalItems\" items-per-page=\"vm.itemsPerPage\" max-size=\"5\" ng-model=\"vm.currentPage\" ng-change=\"vm.pageChanged()\" first-text=\"首页\" last-text=\"尾页\" previous-text=\"&lt;&lt;\" next-text=\"&gt;&gt;\" boundary-links=\"true\"></uib-pagination>\n</div>\n");
  $templateCache.put("core/components/mcPicker/template.html", "<div class=\"modal-picker\">\n  <div class=\"modal-header\">\n    <div class=\"picker-header-info pull-right\">\n      <button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-label=\"Close\" ng-click=\"vm.cancel();\">\n        <span aria-hidden=\"true\">&times;</span>\n      </button>\n      共 {{vm.list.length}} {{vm.options.itemUnit}}{{vm.options.itemType}}\n    </div>\n\n\n    <h4 class=\"modal-title\">{{vm.options.title}}</h4>\n  </div>\n  <div class=\"modal-picker-body clearfix\">\n    <div class=\"picker-items\">\n      <div class=\"item-search\">\n        <div class=\"input-group search-box\">\n          <input type=\"text\" placeholder=\"{{vm.options.searchPlaceholder}}\" ng-model=\"vm.keyword\" class=\"form-control\">\n          <span class=\"input-group-btn\">\n            <button class=\"btn btn-default search\" type=\"button\"><i class=\"icon-search\"></i></button>\n          </span>\n        </div>\n      </div>\n      <dl>\n        <!-- <dt>A</dt> -->\n        <dd>\n          <label class=\"item clearfix\" ng-repeat=\"item in vm.list | filter: vm.keyword\">\n            <img ng-src=\"{{item.avatar}}\" alt=\"{{item.name}}\" class=\"img-circle avatar-small\">\n            <p>{{item.name}}</p>\n            <span class=\"mc-radio\">\n              <input type=\"checkbox\" name=\"items[]\" value=\"{{item.id}}\" ng-click=\"vm.toggleItemSelected(item)\" ng-checked=\"item.selected\">\n              <i class=\"icon-check\"></i>\n            </span>\n          </label>\n        </dd>\n        <!-- <dt>C</dt>\n        <dd>\n        </dd> -->\n      </dl>\n    </div>\n    <div class=\"picker-result\">\n      <h6>已选择 {{vm.selectionItem.length}} {{vm.options.itemUnit}}{{vm.options.itemPosition}} <span ng-if=\"vm.options.max > 0\">（最多可选择{{vm.options.max}} {{vm.options.itemUnit}}）</span></h6>\n      <ul ng-if=\"vm.selectionItem.length > 0\">\n        <li class=\"item clearfix\" ng-repeat=\"item in vm.selectionItem\">\n          <img ng-src=\"{{item.avatar}}\" alt=\"{{item.name}}\" class=\"img-circle avatar-small\">\n          <p>{{item.name}}</p>\n          <p>{{vm.options.itemPosition}}</p>\n          <i class=\"icon-close\" ng-click=\"vm.toggleItemSelected(item)\"></i>\n        </li>\n      </ul>\n    </div>\n  </div>\n\n  <div class=\"modal-footer\">\n    <button type=\"button\" class=\"btn btn-default btn-sm\" ng-click=\"vm.cancel()\">取消</button>\n    <button type=\"button\" class=\"btn btn-success btn-sm\" ng-class=\"{disabled: (vm.selectionItem.length < vm.options.min || (vm.options.max && vm.selectionItem.length > vm.options.max))}\" ng-click=\"vm.ok()\">确定</button>\n  </div>\n</div>\n");
  $templateCache.put("core/components/mcSidebar/mcSidebar.html", "<aside class=\"main-sidebar\">\n  <div class=\"header text-center\">\n    <img ng-src=\"{{sidebar.info.avatar}}\" class=\"avatar-middle img-circle sidebar-logo\" alt=\"{{sidebar.info.name}}\" style=\"background: #2f3746;\">\n    <h6 class=\"m-t\">{{sidebar.info.name}}</h6>\n  </div>\n\n  <!-- left sidebar menu -->\n  <ul class=\"sidebar-list\" slimscroll=\"{height: \'{{menuHeight}}px\'}\" slimscroll-watch=\"menuHeight\">\n    <li ng-repeat=\"item in sidebar.menuItems\" class=\"sidebar-list-item\" ng-class=\"{\'with-sub-menu\': item.subMenu}\"\n        ui-sref-active=\"selected\" mc-sidebar-toggling-item=\"item\" ng-if=\"sidebar.access[item.name]\">\n\n      <a ng-if=\"!item.subMenu\" ui-state=\"item.stateRef || \'\'\" ng-href=\"{{(item.fixedHref ? item.fixedHref: \'\')}}\"\n         class=\"sidebar-list-link\">\n        <i class=\"icon {{ item.icon }}\"></i><span>{{ item.title }}</span>\n      </a>\n\n      <a ng-if=\"item.subMenu\" class=\"sidebar-list-link\" mc-ui-sref-toggler>\n        <i class=\"icon {{ item.icon }}\"></i>\n        <span>{{ item.title }}</span>\n        <i ng-if=\"item.subMenu\" class=\"icon-angle-right\" ui-sref-active=\"icon-angle-down\"></i>\n      </a>\n\n      <!-- submenu -->\n      <ul ng-if=\"item.subMenu\" class=\"sidebar-sublist\" ng-class=\"{\'slide-right\': item.slideRight}\" mc-ui-sref-toggling-submenu>\n        <li ng-repeat=\"subitem in item.subMenu\" ng-class=\"{\'with-sub-menu\': subitem.subMenu}\" ui-sref-active=\"selected\"\n            mc-sidebar-toggling-item=\"subitem\" class=\"sidebar-sublist-item\" ng-if=\"sidebar.access[subitem.name]\">\n          <a ng-if=\"subitem.subMenu\" mc-ui-sref-toggler class=\"sidebar-list-link subitem-submenu-link\">\n            <span>{{ subitem.title }}</span>\n            <i ng-if=\"subitem.subMenu\" ng-class=\"{\'icon-angle-down\': subitem.expanded, \'icon-angle-right\': !subitem.expanded}\"></i>\n          </a>\n          <a ng-if=\"(!subitem.subMenu && subitem.disabled)\" href class=\"sidebar-list-link\">{{ subitem.title }}</a>\n          <a ng-if=\"(!subitem.subMenu && !subitem.disabled)\" ui-state=\"subitem.stateRef || \'\'\"\n             ng-href=\"{{(subitem.fixedHref ? subitem.fixedHref: \'\')}}\">\n             {{ subitem.title}}\n          </a>\n        </li>\n      </ul><!-- /submenu -->\n    </li>\n  </ul><!-- /left sidebar menu -->\n</aside>\n");
  $templateCache.put("core/directives/mcDatePicker/datepicker.html", "<div class=\"btn-group mc-datepicker\" ng-click=\"showDatePicker($event)\">\n  <button type=\"button\" class=\"btn btn-default\" ng-show=\"startDate\">\n        <span>{{startDate.format(\'YYYY\') + \'年\'}}</span>\n        <span ng-if=\"minView != \'year\' \">{{startDate.format(\'MM\') + \'月\'}}</span>\n        <span ng-if=\"minView != \'year\' && minView != \'month\' \">{{startDate.format(\'DD\') + \'日\'}}</span>\n        <span ng-if=\"minView != \'year\' && minView != \'month\' && minView != \'date\' \">{{ \' \' + startDate.format(\'HH\') }}</span>\n        <span ng-if=\"minView != \'year\' && minView != \'month\' && minView != \'date\' && minView != \'hours\' \">{{ \': \' + startDate.format(\'mm\') }}</span>\n  </button>\n  <button type=\"button\" class=\"btn btn-default\" ng-hide=\"startDate\">\n    <span> — </span>\n  </button>\n  <button type=\"button\" class=\"btn btn-default dropdown-toggle\" aria-haspopup=\"true\"\n          aria-expanded=\"false\">\n    <span class=\"caret\"></span>\n  </button>\n  <div class=\"dropdown-menu\" ng-click=\"$event.stopPropagation();\" ng-mouseleave=\"mouseLeave($event)\">\n    <!-- 注：此处的min-view由父controller定义,考虑到兼容以前的页面，所以给了一个默认的month -->\n    <div id=\"{{id}}\" date-picker=\"startDate\" min-date=\"minDate\" view=\"{{view}}\" max-date=\"maxDate\" min-view=\"{{minView || \'month\'}}\" auto-close=\"true\" watch-direct-changes=\"true\"></div>\n  </div>\n</div>\n");
  $templateCache.put("core/directives/mcUploadAvatar/upload-image.html", "<div class=\"upload-content\">\n\n  <div class=\"crop-warpper\">\n      <img ng-if=\"dataUrl\" ng-src=\"{{dataUrl}}\" width=\"800\"\n      ng-cropper\n      ng-cropper-proxy=\"cropperProxy\"\n      ng-cropper-show=\"showEvent\"\n      ng-cropper-hide=\"hideEvent\"\n      ng-cropper-options=\"options\">\n\n      <div class=\"upload-progress clearfix\" ng-show=\"dynamic > 0 && !uploaded\">\n          <div class=\"progress-box\">\n              <div class=\"progress-bar progress-bar-success progress-bar-striped active\" style=\"width: {{dynamic}}%;\"></div>\n          </div>\n          <span class=\"process-percent\">{{dynamic}}%</span>\n      </div>\n\n      <div class=\"upload-progress success\" ng-show=\"uploaded\">\n          <i class=\'icon-check_circle\'></i> 上传成功！\n      </div>\n\n  </div>\n\n  <div class=\"preview-warpper\">\n      <div class=\"preview-avatar\">\n        <div>\n          <img ng-src=\"{{preview.dataUrl || imgUrl || \'/dist/images/common/man.png\'}}\" id=\"JS_preview_image\" class=\"img-circle avatar-middle\">\n        </div>\n      </div>\n      <p>选择 png/jpg 图片100*100</p>\n      <a class=\"btn btn-default\" href=\"javascript:;\" ng-click=\"avatarVm.selectFile()\">上传图片 --{{isEditing}}</a>\n  </div>\n\n  <form class=\"dropzone\" ng-hide=\"1\" method=\"post\" enctype=\"multipart/form-data\" ng-dropzone dropzone=\"dropzone\"\n      dropzone-config=\"dropzoneConfig\">\n    <input name=\"pension_id\" type=\"hidden\" value=\"{{ pensionInfo.pension_id}}\"/>\n    <input type=\"file\" name=\"{{fileName || \'file\'}}\" id=\"JS_avatar_input\">\n    <input type=\"hidden\" name=\"x\" value=\"{{data.x}}\">\n    <input type=\"hidden\" name=\"y\" value=\"{{data.y}}\">\n    <input type=\"hidden\" name=\"width\" value=\"{{data.width}}\">\n    <input type=\"hidden\" name=\"height\" value=\"{{data.height}}\">\n    <input type=\"hidden\" name=\"Rotate\" value=\"{{data.Rotate}}\">\n    <input type=\"hidden\" name=\"ScaleX\" value=\"{{data.ScaleX}}\">\n    <input type=\"hidden\" name=\"ScaleY\" value=\"{{data.ScaleY}}\">\n    <input ng-repeat=\"param in params\" name=\"{{param.name}}\" type=\"hidden\" value=\"{{param.value}}\">\n  </form>\n\n</div>\n\n");
  $templateCache.put("core/directives/mcUploadAvatar/upload.html", "<div class=\"upload-content\">\n\n  <div class=\"crop-warpper\">\n      <img ng-if=\"dataUrl\" ng-src=\"{{dataUrl}}\" width=\"800\"\n      ng-cropper\n      ng-cropper-proxy=\"cropperProxy\"\n      ng-cropper-show=\"showEvent\"\n      ng-cropper-hide=\"hideEvent\"\n      ng-cropper-options=\"options\">\n\n      <div class=\"upload-progress clearfix\" ng-show=\"dynamic > 0 && !uploaded\">\n          <div class=\"progress-box\">\n              <div class=\"progress-bar progress-bar-success progress-bar-striped active\" style=\"width: {{dynamic}}%;\"></div>\n          </div>\n          <span class=\"process-percent\">{{dynamic}}%</span>\n      </div>\n\n      <div class=\"upload-progress success\" ng-show=\"uploaded\">\n          <i class=\'icon-check_circle\'></i> 上传成功！\n      </div>\n\n  </div>\n\n  <div class=\"preview-warpper\">\n      <div class=\"preview-avatar\">\n        <div>\n          <img ng-src=\"{{preview.dataUrl || imgUrl || \'/dist/images/common/man.png\'}}\" id=\"JS_preview_image\" class=\"img-circle avatar-middle\">\n        </div>\n      </div>\n      <p>选择 png/jpg 图片100*100</p>\n      <a class=\"btn btn-default\" href=\"javascript:;\" ng-click=\"avatarVm.selectFile()\">上传头像</a>\n  </div>\n\n  <form class=\"dropzone\" ng-hide=\"1\" method=\"post\" enctype=\"multipart/form-data\" ng-dropzone dropzone=\"dropzone\"\n      dropzone-config=\"dropzoneConfig\">\n    <input name=\"pension_id\" type=\"hidden\" value=\"{{ pensionInfo.pension_id}}\"/>\n    <input type=\"file\" name=\"{{fileName || \'file\'}}\" id=\"JS_avatar_input\">\n    <input type=\"hidden\" name=\"x\" value=\"{{data.x}}\">\n    <input type=\"hidden\" name=\"y\" value=\"{{data.y}}\">\n    <input type=\"hidden\" name=\"width\" value=\"{{data.width}}\">\n    <input type=\"hidden\" name=\"height\" value=\"{{data.height}}\">\n    <input type=\"hidden\" name=\"Rotate\" value=\"{{data.Rotate}}\">\n    <input type=\"hidden\" name=\"ScaleX\" value=\"{{data.ScaleX}}\">\n    <input type=\"hidden\" name=\"ScaleY\" value=\"{{data.ScaleY}}\">\n    <input ng-repeat=\"param in params\" name=\"{{param.name}}\" type=\"hidden\" value=\"{{param.value}}\">\n  </form>\n\n</div>\n\n");
  $templateCache.put("core/directives/mcUploadImage/upload.html", "<div class=\"upload-content\">\n\n  <div class=\"crop-warpper\">\n      <img ng-if=\"dataUrl\" ng-src=\"{{dataUrl}}\" width=\"800\"\n      ng-cropper\n      ng-cropper-proxy=\"cropperProxy\"\n      ng-cropper-show=\"showEvent\"\n      ng-cropper-hide=\"hideEvent\"\n      ng-cropper-options=\"options\">\n\n      <div class=\"upload-progress clearfix\" ng-show=\"dynamic > 0 && !uploaded\">\n          <div class=\"progress-box\">\n              <div class=\"progress-bar progress-bar-success progress-bar-striped active\" style=\"width: {{dynamic}}%;\"></div>\n          </div>\n          <span class=\"process-percent\">{{dynamic}}%</span>\n      </div>\n\n      <div class=\"upload-progress success\" ng-show=\"uploaded\">\n          <i class=\'icon-check_circle\'></i> 上传成功！\n      </div>\n\n  </div>\n\n  <div class=\"preview-warpper\">\n      <div class=\"preview-avatar\">\n        <div style=\"border-radius: initial;width: 100px;height: 100px;\">\n          <img ng-src=\"{{preview.dataUrl || imgUrl || \'/dist/images/common/bg_avatar.png\'}}\" id=\"JS_preview_image\" class=\"avatar-middle\"\n            style=\"width: 100px;height: 100px;\">\n        </div>\n      </div>\n      <a class=\"btn btn-default\" href=\"javascript:;\" ng-click=\"avatarVm.selectFile()\">上传图片</a>\n  </div>\n\n  <form class=\"dropzone\" ng-hide=\"1\" method=\"post\" enctype=\"multipart/form-data\" ng-dropzone dropzone=\"dropzone\"\n      dropzone-config=\"dropzoneConfig\">\n    <input name=\"pension_id\" type=\"hidden\" value=\"{{ pensionInfo.pension_id}}\"/>\n    <input type=\"file\" name=\"{{fileName || \'file\'}}\" id=\"JS_avatar_input\">\n    <input type=\"hidden\" name=\"x\" value=\"{{data.x}}\">\n    <input type=\"hidden\" name=\"y\" value=\"{{data.y}}\">\n    <input type=\"hidden\" name=\"width\" value=\"{{data.width}}\">\n    <input type=\"hidden\" name=\"height\" value=\"{{data.height}}\">\n    <input type=\"hidden\" name=\"Rotate\" value=\"{{data.Rotate}}\">\n    <input type=\"hidden\" name=\"ScaleX\" value=\"{{data.ScaleX}}\">\n    <input type=\"hidden\" name=\"ScaleY\" value=\"{{data.ScaleY}}\">\n    <input ng-repeat=\"param in params\" name=\"{{param.name}}\" type=\"hidden\" value=\"{{param.value}}\">\n  </form>\n\n</div>\n\n");
  $templateCache.put("modules/account/detail/index.html", "<section class=\"content-header col-sm-7 clearfix\">\n    <h4>资料设置</h4>\n    <a href=\"javascript:void(0)\" class=\"btn btn-default pull-right\" ng-click=\"$root.back();\">返回</a>\n</section>\n<section class=\"content body-content col-sm-6\" block-ui=\"main\">\n\n    <div class=\"form-horizontal col-sm-10\">\n        <div class=\"form-group col-sm-12\">\n            <label for=\"inputName\" class=\"col-sm-3 control-label\">姓名</label>\n            <div class=\"col-sm-9\">\n                <input type=\"text\" class=\"form-control\" id=\"inputName\" ng-model=\"vm.person.true_name\" placeholder=\"\">\n            </div>\n        </div>\n        <div class=\"form-group col-sm-12\">\n            <label for=\"inputPhone\" class=\"col-sm-3 control-label\">手机号</label>\n            <div class=\"col-sm-9\">\n                <input type=\"text\" class=\"form-control\" id=\"inputPhone\" ng-model=\"vm.person.phone\" placeholder=\"\">\n            </div>\n        </div>\n        <div class=\"form-group col-sm-12\">\n            <label for=\"inputPwd\" class=\"col-sm-3 control-label\">新密码</label>\n            <div class=\"col-sm-9\">\n                <input type=\"text\" class=\"form-control\" id=\"inputPwd\" ng-model=\"vm.person.new_password\" placeholder=\"\">\n            </div>\n        </div>\n        <div class=\"form-group col-sm-12\">\n            <label for=\"\" class=\"col-sm-3 control-label\">角色信息</label>\n            <div class=\"btn-group col-sm-9\">\n              <button type=\"button\" class=\"btn btn-default dropdown-toggle\" data-toggle=\"dropdown\" aria-haspopup=\"true\" aria-expanded=\"false\">\n                {{vm.person.role_name}}\n                <span class=\"caret\"></span>\n              </button>\n              <ul class=\"dropdown-menu\">\n                <li ng-repeat=\"role in vm.roleList\"><a ng-click=\"vm.person.role_name=role.name;vm.person.role=role.value\" href=\"javascript:void(0)\">{{role.name}}</a></li>\n              </ul>\n            </div>\n        </div>\n        <div class=\"form-group col-sm-12\">\n            <label for=\"\" class=\"col-sm-3 control-label\">用户状态</label>\n            <div class=\"btn-group col-sm-9\">\n              <button type=\"button\" class=\"btn btn-default dropdown-toggle\" data-toggle=\"dropdown\" aria-haspopup=\"true\" aria-expanded=\"false\">\n                {{vm.stateArr[vm.person.state]}}\n                <span class=\"caret\"></span>\n              </button>\n              <ul class=\"dropdown-menu\">\n                <li><a ng-click=\"vm.person.state=0\" href=\"javascript:void(0)\">未激活</a></li>\n                <li><a ng-click=\"vm.person.state=1\" href=\"javascript:void(0)\">正常</a></li>\n                <li><a ng-click=\"vm.person.state=2\" href=\"javascript:void(0)\">已冻结</a></li>\n                <li><a ng-click=\"vm.person.state=3\" href=\"javascript:void(0)\">已删除</a></li>\n              </ul>\n            </div>\n        </div>\n        <div class=\"form-group\">\n            <button type=\"button\" ng-click=\"vm.setUser()\" class=\"btn btn-success\">提交</button>\n        </div>\n    </div>\n</section>");
  $templateCache.put("modules/account/list/index.html", "<section class=\"content-header\">\n  <div class=\"options\">\n    <div class=\"option-item option-time\">\n      <ul class=\"clearfix\">\n        <li>\n          <div class=\"input-group search-box\">\n            <input ng-model=\"vm.filters.true_name\" type=\"text\" placeholder=\"请输姓名查询\" class=\"form-control\"\n                    code=\"13\" key-event=\"vm.reSearch();\">\n            <span class=\"input-group-btn\">\n              <button ng-click=\"vm.reSearch()\" class=\"btn btn-default search\" type=\"button\"><i class=\"icon-search\"></i></button>\n            </span>\n          </div>\n        </li>\n        <li>\n          <div class=\"input-group search-box\">\n            <input ng-model=\"vm.filters.phone\" type=\"text\" placeholder=\"请输手机号查询\" class=\"form-control\"\n                    code=\"13\" key-event=\"vm.reSearch();\">\n            <span class=\"input-group-btn\">\n              <button ng-click=\"vm.reSearch()\" class=\"btn btn-default search\" type=\"button\"><i class=\"icon-search\"></i></button>\n            </span>\n          </div>\n        </li>\n        <li>\n          <div class=\"input-group search-box\">\n            <input ng-model=\"vm.filters.bank_name\" type=\"text\" placeholder=\"请输机构查询\" class=\"form-control\"\n                    code=\"13\" key-event=\"vm.reSearch();\">\n            <span class=\"input-group-btn\">\n              <button ng-click=\"vm.reSearch()\" class=\"btn btn-default search\" type=\"button\"><i class=\"icon-search\"></i></button>\n            </span>\n          </div>\n        </li>\n        <li>\n            <div class=\"btn-group\">\n              <button type=\"button\" class=\"btn btn-default dropdown-toggle\" data-toggle=\"dropdown\" aria-haspopup=\"true\" aria-expanded=\"false\">\n                {{vm.filters.state?vm.stateArr[vm.filters.state]:\'全部\'}}\n                <span class=\"caret\"></span>\n              </button>\n              <ul class=\"dropdown-menu\">\n                <li><a ng-click=\"vm.filters.state=undefined;vm.reSearch()\" href=\"javascript:void(0)\">全部</a></li>\n                <li><a ng-click=\"vm.filters.state=0;vm.reSearch()\" href=\"javascript:void(0)\">未激活</a></li>\n                <li><a ng-click=\"vm.filters.state=1;vm.reSearch()\" href=\"javascript:void(0)\">正常</a></li>\n                <li><a ng-click=\"vm.filters.state=2;vm.reSearch()\" href=\"javascript:void(0)\">已冻结</a></li>\n                <li><a ng-click=\"vm.filters.state=3;vm.reSearch()\" href=\"javascript:void(0)\">已删除</a></li>\n              </ul>\n            </div>\n        </li>\n        <li>\n          <button type=\"button\" class=\"btn btn-success pull-right m-l-sm\" style=\"position: relative; z-index: 2;\"\n                  ng-click=\"vm.addUser()\"><i class=\"icon-Plus\"></i> 添加\n          </button>\n\n          <button type=\"button\" class=\"btn btn-info pull-right\" style=\"position: relative; z-index: 2;\" data-toggle=\"modal\" data-target=\".pop-player\"\n                  ng-click=\"$emit(\'batchUploadUser\');\"><i class=\"icon-Plus\"></i> 批量录入\n          </button>\n        </li>\n      </ul>\n    </div>\n    <div>\n      <mc-batch-upload-user></mc-batch-upload-user>\n    </div>\n</section>\n\n<section class=\"content body-content body-content-compact block-ui block-ui-message-custom\" block-ui=\"main\">\n  <empty-tip ng-if=\"vm.list.length === 0\"></empty-tip>\n\n  <div class=\"panel\" ng-if=\"vm.list.length > 0\">\n    <table class=\"table table-striped text-center\">\n      <tr>\n        <th class=\"col-m-1 text-center\">id</th>\n        <th class=\"col-m-1 text-center\">姓名</th>\n        <th class=\"col-m-1 text-center\">手机号</th>\n        <th class=\"col-m-1 text-center\">所属角色</th>\n        <th class=\"col-m-1 text-center\">机构名称</th>\n        <th class=\"col-m-1 text-center\">状态</th>\n        <th class=\"col-m-1 text-center\">操作</th>\n      </tr>\n      <tr ng-repeat=\"item in vm.list\">\n        <td>{{item.id}}</td>\n        <td>{{item.true_name}}</td>\n        <td>{{item.phone}}</td>\n        <td>{{item.role_name}}</td>\n        <td>{{item.bank_name}}</td>\n        <td>\n          <span class=\"text-muted\" ng-if=\"item.state==0\">未激活</span>\n          <span class=\"text-success\" ng-if=\"item.state==1\">正常</span>\n          <span class=\"text-danger\" ng-if=\"item.state==2\">已冻结</span>\n          <span class=\"text-danger\" ng-if=\"item.state==3\">已删除</span>\n        </td>\n        <td>\n          <a href=\"javascript:void(0)\" ng-click=\"vm.assignBranch(item)\">分配机构</a>\n          <a ui-sref=\"account.detail({id: item.id})\">查看<i class=\"icon-angle-right\"></i></a>\n        </td>\n      </tr>\n    </table>\n  </div>\n\n  <mc-pagination total-items=\"vm.pagination.count\" items-per-page=\"vm.pagination.pageSize\" current-page=\"vm.pagination.page\" page-change=\"vm.pageChanged()\"></mc-pagination>\n\n</section>\n");
  $templateCache.put("modules/demo/access/template.html", "<section class=\"content-header\">\n  权限设置\n</section>\n\n<section class=\"content body-content body-content-compact block-ui block-ui-message-custom\" block-ui=\"main\">\n\n\n  <div class=\"panel\">\n    <table class=\"table table-striped text-center\">\n      <tr>\n        <th class=\"col-m-1 text-center\">姓名</th>\n        <th class=\"col-m-1 text-center\">性别</th>\n        <th class=\"col-m-1 text-center\" ng-repeat=\"item in vm.roleList\">{{item.name}}</th>\n      </tr>\n      <tr ng-repeat=\"item in vm.list\">\n        <td>{{item.name}}</td>\n        <td>{{item.title}}</td>\n        <td ng-repeat=\"role in vm.roleList\">\n          <label class=\"mc-radio\">\n            <input type=\"checkbox\" ng-model=\"vm.access[role.value][item.name]\" />\n            <i class=\"icon-check\"></i>\n          </label>\n        </td>\n      </tr>\n    </table>\n  </div>\n  \n  <div class=\"modal-footer\">\n    <button type=\"button\" class=\"btn btn-success btn-sm\" ng-click=\"vm.submit()\"> 保存</button>\n  </div>\n</section>\n");
  $templateCache.put("modules/demo/component/index.html", "<header class=\"navbar navbar-static-top bs-docs-nav\" id=\"top\" role=\"banner\">\n    <div class=\"container\">\n      <div class=\"navbar-header\">\n        <button class=\"navbar-toggle collapsed\" type=\"button\" data-toggle=\"collapse\" data-target=\"#bs-navbar\" aria-controls=\"bs-navbar\" aria-expanded=\"false\">\n          <span class=\"sr-only\">Toggle navigation</span>\n          <span class=\"icon-bar\"></span>\n          <span class=\"icon-bar\"></span>\n          <span class=\"icon-bar\"></span>\n        </button>\n        <a href=\"../\" class=\"navbar-brand\">MC-bootstrap</a>\n      </div>\n      <nav id=\"bs-navbar\" class=\"collapse navbar-collapse\">\n        <ul class=\"nav navbar-nav\" style=\"display:none\">\n          <li>\n            <a href=\"../getting-started/\" onclick=\"_hmt.push([\'_trackEvent\', \'docv3-navbar\', \'click\', \'V3导航-起步\'])\">起步</a>\n          </li>\n          <li>\n            <a href=\"../css/\" onclick=\"_hmt.push([\'_trackEvent\', \'docv3-navbar\', \'click\', \'V3导航-全局CSS样式\'])\">全局 CSS 样式</a>\n          </li>\n          <li class=\"active\">\n            <a href=\"../components/\" onclick=\"_hmt.push([\'_trackEvent\', \'docv3-navbar\', \'click\', \'V3导航-组件\'])\">组件</a>\n          </li>\n          <li>\n            <a href=\"../javascript/\" onclick=\"_hmt.push([\'_trackEvent\', \'docv3-navbar\', \'click\', \'V3导航-JavaScript插件\'])\">JavaScript 插件</a>\n          </li>\n          <li>\n            <a href=\"../customize/\" onclick=\"_hmt.push([\'_trackEvent\', \'docv3-navbar\', \'click\', \'V3导航-定制\'])\">定制</a>\n          </li>\n          <li><a href=\"http://expo.bootcss.com\" onclick=\"_hmt.push([\'_trackEvent\', \'docv3-navbar\', \'click\', \'V3导航-网站实例\'])\" target=\"_blank\">网站实例</a></li>\n        </ul>\n        <ul class=\"nav navbar-nav navbar-right\">\n          <li><a href=\"http://www.bootcss.com/\" onclick=\"_hmt.push([\'_trackEvent\', \'docv3-navbar\', \'click\', \'V3导航-Bootstrap中文网\'])\" target=\"_blank\">Bootstrap中文网</a></li>\n        </ul>\n      </nav>\n    </div>\n  </header>\n  <div class=\"bs-docs-header\" tabindex=\"-1\">\n    <div class=\"container\">\n      <h1>组件</h1>\n      <p>无数可复用的组件，包括字体图标、下拉菜单、导航、警告框、弹出框等更多功能。</p>\n    </div>\n  </div>\n\n  <div class=\"container bs-docs-container\">\n    <div class=\"row\">\n      <div class=\"col-md-9\" role=\"main\">\n\n        <div class=\"bs-docs-section\">\n          <h2 id=\"avatars\"><a class=\"anchorjs-link \" href=\"#thumbnails-default\" aria-label=\"Anchor link for: thumbnails default\" data-anchorjs-icon=\"\" style=\"font-family: anchorjs-icons; font-style: normal; font-variant: normal; font-weight: normal; position: absolute; margin-left: -1em; padding-right: 0.5em;\"></a>头像样式</h2>\n          <p>目前预定了3种规格的头像样式。</p>\n          <div class=\"bs-example\" data-example-id=\"simple-thumbnails\">\n            <img src=\"...\" alt=\"...\" class=\"img-circle avatar-larger\">\n            <img src=\"...\" alt=\"...\" class=\"img-circle avatar-middle\">\n            <img src=\"...\" alt=\"...\" class=\"img-circle avatar-small\">\n          </div>\n          <div class=\"highlight\"><pre><code class=\"language-html\" data-lang=\"html\"><span class=\"nt\">&lt;img</span> <span class=\"na\">src=</span><span class=\"s\">\"...\"</span> <span class=\"na\">alt=</span><span class=\"s\">\"...\"</span> <span class=\"na\">class=</span><span class=\"s\">\"img-circle avatar-larger\"</span><span class=\"nt\">&gt;</span>\n<span class=\"nt\">&lt;img</span> <span class=\"na\">src=</span><span class=\"s\">\"...\"</span> <span class=\"na\">alt=</span><span class=\"s\">\"...\"</span> <span class=\"na\">class=</span><span class=\"s\">\"img-circle avatar-middle\"</span><span class=\"nt\">&gt;</span>\n<span class=\"nt\">&lt;img</span> <span class=\"na\">src=</span><span class=\"s\">\"...\"</span> <span class=\"na\">alt=</span><span class=\"s\">\"...\"</span> <span class=\"na\">class=</span><span class=\"s\">\"img-circle avatar-small\"</span><span class=\"nt\">&gt;</span></code></pre></div>\n        </div>\n\n        <div class=\"bs-docs-section\">\n          <h1 id=\"buttons\" class=\"page-header\"><a class=\"anchorjs-link \" href=\"#buttons\" aria-label=\"Anchor link for: buttons\" data-anchorjs-icon=\"\" style=\"font-family: anchorjs-icons; font-style: normal; font-variant: normal; font-weight: normal; position: absolute; margin-left: -1em; padding-right: 0.5em;\"></a>按钮</h1>\n          <h2 id=\"buttons-tags\"><a class=\"anchorjs-link \" href=\"#buttons-tags\" aria-label=\"Anchor link for: buttons tags\" data-anchorjs-icon=\"\" style=\"font-family: anchorjs-icons; font-style: normal; font-variant: normal; font-weight: normal; position: absolute; margin-left: -1em; padding-right: 0.5em;\"></a>可作为按钮使用的标签或元素</h2>\n          <h2 id=\"buttons-sizes\"><a class=\"anchorjs-link \" href=\"#buttons-sizes\" aria-label=\"Anchor link for: buttons sizes\" data-anchorjs-icon=\"\" style=\"font-family: anchorjs-icons; font-style: normal; font-variant: normal; font-weight: normal; position: absolute; margin-left: -1em; padding-right: 0.5em;\"></a>尺寸</h2>\n          <div class=\"bs-example\" data-example-id=\"btn-sizes\">\n            <p>\n              <button type=\"button\" class=\"btn btn-primary btn-lg\">（大按钮）Large button</button>\n              <button type=\"button\" class=\"btn btn-default btn-lg\">（大按钮）Large button</button>\n            </p>\n            <p>\n              <button type=\"button\" class=\"btn btn-primary\">（默认尺寸）Default button</button>\n              <button type=\"button\" class=\"btn btn-default\">（默认尺寸）Default button</button>\n            </p>\n          </div>\n          <div class=\"highlight\"><pre><code class=\"language-html\" data-lang=\"html\"><span class=\"nt\">&lt;p&gt;</span>\n  <span class=\"nt\">&lt;button</span> <span class=\"na\">type=</span><span class=\"s\">\"button\"</span> <span class=\"na\">class=</span><span class=\"s\">\"btn btn-primary btn-lg\"</span><span class=\"nt\">&gt;</span>（大按钮）Large button<span class=\"nt\">&lt;/button&gt;</span>\n  <span class=\"nt\">&lt;button</span> <span class=\"na\">type=</span><span class=\"s\">\"button\"</span> <span class=\"na\">class=</span><span class=\"s\">\"btn btn-default btn-lg\"</span><span class=\"nt\">&gt;</span>（大按钮）Large button<span class=\"nt\">&lt;/button&gt;</span>\n<span class=\"nt\">&lt;/p&gt;</span>\n<span class=\"nt\">&lt;p&gt;</span>\n  <span class=\"nt\">&lt;button</span> <span class=\"na\">type=</span><span class=\"s\">\"button\"</span> <span class=\"na\">class=</span><span class=\"s\">\"btn btn-primary\"</span><span class=\"nt\">&gt;</span>（默认尺寸）Default button<span class=\"nt\">&lt;/button&gt;</span>\n  <span class=\"nt\">&lt;button</span> <span class=\"na\">type=</span><span class=\"s\">\"button\"</span> <span class=\"na\">class=</span><span class=\"s\">\"btn btn-default\"</span><span class=\"nt\">&gt;</span>（默认尺寸）Default button<span class=\"nt\">&lt;/button&gt;</span>\n<span class=\"nt\">&lt;/p&gt;</span>\n</code></pre></div>\n          <h2 id=\"buttons-options\"><a class=\"anchorjs-link \" href=\"#buttons-options\" aria-label=\"Anchor link for: buttons options\" data-anchorjs-icon=\"\" style=\"font-family: anchorjs-icons; font-style: normal; font-variant: normal; font-weight: normal; position: absolute; margin-left: -1em; padding-right: 0.5em;\"></a>预定义样式</h2>\n\n          <p>使用下面列出的类可以快速创建一个带有预定义样式的按钮。</p>\n          <div class=\"bs-example\">\n            <button type=\"button\" class=\"btn btn-default\">（默认样式）Default</button>\n            <button type=\"button\" class=\"btn btn-primary\">（首选项）Primary</button>\n            <button type=\"button\" class=\"btn btn-success\">（成功）Success</button>\n            <button type=\"button\" class=\"btn btn-info\">（一般信息）Info</button>\n            <button type=\"button\" class=\"btn btn-warning\">（警告）Warning</button>\n            <button type=\"button\" class=\"btn btn-danger\">（危险）Danger</button>\n            <button type=\"button\" class=\"btn btn-link\">（链接）Link</button>\n          </div>\n          <div class=\"highlight\"><pre><code class=\"language-html\" data-lang=\"html\"><span class=\"c\">&lt;!-- Standard button --&gt;</span>\n<span class=\"nt\">&lt;button</span> <span class=\"na\">type=</span><span class=\"s\">\"button\"</span> <span class=\"na\">class=</span><span class=\"s\">\"btn btn-default\"</span><span class=\"nt\">&gt;</span>（默认样式）Default<span class=\"nt\">&lt;/button&gt;</span>\n\n<span class=\"c\">&lt;!-- Provides extra visual weight and identifies the primary action in a set of buttons --&gt;</span>\n<span class=\"nt\">&lt;button</span> <span class=\"na\">type=</span><span class=\"s\">\"button\"</span> <span class=\"na\">class=</span><span class=\"s\">\"btn btn-primary\"</span><span class=\"nt\">&gt;</span>（首选项）Primary<span class=\"nt\">&lt;/button&gt;</span>\n\n<span class=\"c\">&lt;!-- Indicates a successful or positive action --&gt;</span>\n<span class=\"nt\">&lt;button</span> <span class=\"na\">type=</span><span class=\"s\">\"button\"</span> <span class=\"na\">class=</span><span class=\"s\">\"btn btn-success\"</span><span class=\"nt\">&gt;</span>（成功）Success<span class=\"nt\">&lt;/button&gt;</span>\n\n<span class=\"c\">&lt;!-- Contextual button for informational alert messages --&gt;</span>\n<span class=\"nt\">&lt;button</span> <span class=\"na\">type=</span><span class=\"s\">\"button\"</span> <span class=\"na\">class=</span><span class=\"s\">\"btn btn-info\"</span><span class=\"nt\">&gt;</span>（一般信息）Info<span class=\"nt\">&lt;/button&gt;</span>\n\n<span class=\"c\">&lt;!-- Indicates caution should be taken with this action --&gt;</span>\n<span class=\"nt\">&lt;button</span> <span class=\"na\">type=</span><span class=\"s\">\"button\"</span> <span class=\"na\">class=</span><span class=\"s\">\"btn btn-warning\"</span><span class=\"nt\">&gt;</span>（警告）Warning<span class=\"nt\">&lt;/button&gt;</span>\n\n<span class=\"c\">&lt;!-- Indicates a dangerous or potentially negative action --&gt;</span>\n<span class=\"nt\">&lt;button</span> <span class=\"na\">type=</span><span class=\"s\">\"button\"</span> <span class=\"na\">class=</span><span class=\"s\">\"btn btn-danger\"</span><span class=\"nt\">&gt;</span>（危险）Danger<span class=\"nt\">&lt;/button&gt;</span>\n\n<span class=\"c\">&lt;!-- Deemphasize a button by making it look like a link while maintaining button behavior --&gt;</span>\n<span class=\"nt\">&lt;button</span> <span class=\"na\">type=</span><span class=\"s\">\"button\"</span> <span class=\"na\">class=</span><span class=\"s\">\"btn btn-link\"</span><span class=\"nt\">&gt;</span>（链接）Link<span class=\"nt\">&lt;/button&gt;</span></code></pre></div>\n\n          <p>禁用的按钮样式</p>\n          <div class=\"bs-example\">\n            <button type=\"button\" class=\"btn btn-default\" disabled>（默认样式）Default</button>\n            <button type=\"button\" class=\"btn btn-primary\" disabled>（首选项）Primary</button>\n            <button type=\"button\" class=\"btn btn-success\" disabled>（成功）Success</button>\n            <button type=\"button\" class=\"btn btn-info\" disabled>（一般信息）Info</button>\n            <button type=\"button\" class=\"btn btn-warning\" disabled>（警告）Warning</button>\n            <button type=\"button\" class=\"btn btn-danger\" disabled>（危险）Danger</button>\n            <button type=\"button\" class=\"btn btn-link\" disabled>（链接）Link</button>\n          </div>\n\n          <p>简单的切换选项按钮</p>\n          <div class=\"bs-example\" data-example-id=\"single-button-dropdown\">\n            <button class=\"btn btn-toggle\">空模板</button>\n            <button class=\"btn btn-toggle active\">介护一级</button>\n            <button class=\"btn btn-toggle active arrow\">每周</button>\n          </div>\n          <div>\n            <code>\n              <pre>&lt;div class=&quot;bs-example&quot; data-example-id=&quot;single-button-dropdown&quot;&gt;\n            &lt;button class=&quot;btn btn-toggle&quot;&gt;&#31354;&#27169;&#26495;&lt;/button&gt;\n            &lt;button class=&quot;btn btn-toggle active&quot;&gt;&#20171;&#25252;&#19968;&#32423;&lt;/button&gt;\n            &lt;button class=&quot;btn btn-toggle active arrow&quot;&gt;&#27599;&#21608;&lt;/button&gt;\n          &lt;/div&gt;</pre>\n            </code>\n          </div>\n\n          <h2 id=\"btn-dropdowns-single\"><a class=\"anchorjs-link \" href=\"#btn-dropdowns-single\" aria-label=\"Anchor link for: btn dropdowns single\" data-anchorjs-icon=\"\" style=\"font-family: anchorjs-icons; font-style: normal; font-variant: normal; font-weight: normal; position: absolute; margin-left: -1em; padding-right: 0.5em;\"></a>分裂式按钮下拉菜单</h2>\n          <p>相似地，分裂式按钮下拉菜单也需要同样的改变一些标记，但只是多一个分开的按钮。</p>\n          <div class=\"bs-example\" data-example-id=\"split-button-dropdown\">\n            <div class=\"btn-group\">\n              <button type=\"button\" class=\"btn btn-default\">Default</button>\n              <button type=\"button\" class=\"btn btn-default dropdown-toggle\" data-toggle=\"dropdown\" aria-haspopup=\"true\" aria-expanded=\"false\">\n                <span class=\"caret\"></span>\n                <span class=\"sr-only\">Toggle Dropdown</span>\n              </button>\n              <ul class=\"dropdown-menu\">\n                <li><a href=\"#\">Action</a></li>\n                <li><a href=\"#\">Another action</a></li>\n                <li><a href=\"#\">Something else here</a></li>\n                <li role=\"separator\" class=\"divider\"></li>\n                <li><a href=\"#\">Separated link</a></li>\n              </ul>\n            </div><!-- /btn-group -->\n            <div class=\"btn-group\">\n              <button type=\"button\" class=\"btn btn-primary\">Primary</button>\n              <button type=\"button\" class=\"btn btn-primary dropdown-toggle\" data-toggle=\"dropdown\" aria-haspopup=\"true\" aria-expanded=\"false\">\n                <span class=\"caret\"></span>\n                <span class=\"sr-only\">Toggle Dropdown</span>\n              </button>\n              <ul class=\"dropdown-menu\">\n                <li><a href=\"#\">Action</a></li>\n                <li><a href=\"#\">Another action</a></li>\n                <li><a href=\"#\">Something else here</a></li>\n                <li role=\"separator\" class=\"divider\"></li>\n                <li><a href=\"#\">Separated link</a></li>\n              </ul>\n            </div><!-- /btn-group -->\n            <div class=\"btn-group\">\n              <button type=\"button\" class=\"btn btn-success\">Success</button>\n              <button type=\"button\" class=\"btn btn-success dropdown-toggle\" data-toggle=\"dropdown\" aria-haspopup=\"true\" aria-expanded=\"false\">\n                <span class=\"caret\"></span>\n                <span class=\"sr-only\">Toggle Dropdown</span>\n              </button>\n              <ul class=\"dropdown-menu\">\n                <li><a href=\"#\">Action</a></li>\n                <li><a href=\"#\">Another action</a></li>\n                <li><a href=\"#\">Something else here</a></li>\n                <li role=\"separator\" class=\"divider\"></li>\n                <li><a href=\"#\">Separated link</a></li>\n              </ul>\n            </div><!-- /btn-group -->\n            <div class=\"btn-group\">\n              <button type=\"button\" class=\"btn btn-info\">Info</button>\n              <button type=\"button\" class=\"btn btn-info dropdown-toggle\" data-toggle=\"dropdown\" aria-haspopup=\"true\" aria-expanded=\"false\">\n                <span class=\"caret\"></span>\n                <span class=\"sr-only\">Toggle Dropdown</span>\n              </button>\n              <ul class=\"dropdown-menu\">\n                <li><a href=\"#\">Action</a></li>\n                <li><a href=\"#\">Another action</a></li>\n                <li><a href=\"#\">Something else here</a></li>\n                <li role=\"separator\" class=\"divider\"></li>\n                <li><a href=\"#\">Separated link</a></li>\n              </ul>\n            </div><!-- /btn-group -->\n            <div class=\"btn-group\">\n              <button type=\"button\" class=\"btn btn-warning\">Warning</button>\n              <button type=\"button\" class=\"btn btn-warning dropdown-toggle\" data-toggle=\"dropdown\" aria-haspopup=\"true\" aria-expanded=\"false\">\n                <span class=\"caret\"></span>\n                <span class=\"sr-only\">Toggle Dropdown</span>\n              </button>\n              <ul class=\"dropdown-menu\">\n                <li><a href=\"#\">Action</a></li>\n                <li><a href=\"#\">Another action</a></li>\n                <li><a href=\"#\">Something else here</a></li>\n                <li role=\"separator\" class=\"divider\"></li>\n                <li><a href=\"#\">Separated link</a></li>\n              </ul>\n            </div><!-- /btn-group -->\n            <div class=\"btn-group\">\n              <button type=\"button\" class=\"btn btn-danger\">Danger</button>\n              <button type=\"button\" class=\"btn btn-danger dropdown-toggle\" data-toggle=\"dropdown\" aria-haspopup=\"true\" aria-expanded=\"false\">\n                <span class=\"caret\"></span>\n                <span class=\"sr-only\">Toggle Dropdown</span>\n              </button>\n              <ul class=\"dropdown-menu\">\n                <li><a href=\"#\">Action</a></li>\n                <li><a href=\"#\">Another action</a></li>\n                <li><a href=\"#\">Something else here</a></li>\n                <li role=\"separator\" class=\"divider\"></li>\n                <li><a href=\"#\">Separated link</a></li>\n              </ul>\n            </div><!-- /btn-group -->\n          </div>\n          <div class=\"highlight\"><pre><code class=\"language-html\" data-lang=\"html\"><span class=\"c\">&lt;!-- Split button --&gt;</span>\n<span class=\"nt\">&lt;div</span> <span class=\"na\">class=</span><span class=\"s\">\"btn-group\"</span><span class=\"nt\">&gt;</span>\n  <span class=\"nt\">&lt;button</span> <span class=\"na\">type=</span><span class=\"s\">\"button\"</span> <span class=\"na\">class=</span><span class=\"s\">\"btn btn-danger\"</span><span class=\"nt\">&gt;</span>Action<span class=\"nt\">&lt;/button&gt;</span>\n  <span class=\"nt\">&lt;button</span> <span class=\"na\">type=</span><span class=\"s\">\"button\"</span> <span class=\"na\">class=</span><span class=\"s\">\"btn btn-danger dropdown-toggle\"</span> <span class=\"na\">data-toggle=</span><span class=\"s\">\"dropdown\"</span> <span class=\"na\">aria-haspopup=</span><span class=\"s\">\"true\"</span> <span class=\"na\">aria-expanded=</span><span class=\"s\">\"false\"</span><span class=\"nt\">&gt;</span>\n    <span class=\"nt\">&lt;span</span> <span class=\"na\">class=</span><span class=\"s\">\"caret\"</span><span class=\"nt\">&gt;&lt;/span&gt;</span>\n    <span class=\"nt\">&lt;span</span> <span class=\"na\">class=</span><span class=\"s\">\"sr-only\"</span><span class=\"nt\">&gt;</span>Toggle Dropdown<span class=\"nt\">&lt;/span&gt;</span>\n  <span class=\"nt\">&lt;/button&gt;</span>\n  <span class=\"nt\">&lt;ul</span> <span class=\"na\">class=</span><span class=\"s\">\"dropdown-menu\"</span><span class=\"nt\">&gt;</span>\n    <span class=\"nt\">&lt;li&gt;&lt;a</span> <span class=\"na\">href=</span><span class=\"s\">\"#\"</span><span class=\"nt\">&gt;</span>Action<span class=\"nt\">&lt;/a&gt;&lt;/li&gt;</span>\n    <span class=\"nt\">&lt;li&gt;&lt;a</span> <span class=\"na\">href=</span><span class=\"s\">\"#\"</span><span class=\"nt\">&gt;</span>Another action<span class=\"nt\">&lt;/a&gt;&lt;/li&gt;</span>\n    <span class=\"nt\">&lt;li&gt;&lt;a</span> <span class=\"na\">href=</span><span class=\"s\">\"#\"</span><span class=\"nt\">&gt;</span>Something else here<span class=\"nt\">&lt;/a&gt;&lt;/li&gt;</span>\n    <span class=\"nt\">&lt;li</span> <span class=\"na\">role=</span><span class=\"s\">\"separator\"</span> <span class=\"na\">class=</span><span class=\"s\">\"divider\"</span><span class=\"nt\">&gt;&lt;/li&gt;</span>\n    <span class=\"nt\">&lt;li&gt;&lt;a</span> <span class=\"na\">href=</span><span class=\"s\">\"#\"</span><span class=\"nt\">&gt;</span>Separated link<span class=\"nt\">&lt;/a&gt;&lt;/li&gt;</span>\n  <span class=\"nt\">&lt;/ul&gt;</span>\n<span class=\"nt\">&lt;/div&gt;</span></code></pre></div>\n\n        </div>\n\n        <div class=\"bs-docs-section\">\n          <h1 id=\"btn-groups\" class=\"page-header\"><a class=\"anchorjs-link \" href=\"#btn-groups\" aria-label=\"Anchor link for: btn groups\" data-anchorjs-icon=\"\" style=\"font-family: anchorjs-icons; font-style: normal; font-variant: normal; font-weight: normal; position: absolute; margin-left: -1em; padding-right: 0.5em;\"></a>按钮组</h1>\n          <p class=\"lead\">通过按钮组容器把一组按钮放在同一行里。</p>\n          <div class=\"bs-example\" data-example-id=\"simple-button-group\">\n            <div class=\"btn-group\" role=\"group\" aria-label=\"Basic example\">\n              <button type=\"button\" class=\"btn btn-default\">Left</button>\n              <button type=\"button\" class=\"btn btn-default\">Middle</button>\n              <button type=\"button\" class=\"btn btn-default\">Right</button>\n            </div>\n            <div class=\"btn-group btn-group-success\" role=\"group\" aria-label=\"Basic example\">\n              <button type=\"button\" class=\"btn btn-default\">Left</button>\n              <button type=\"button\" class=\"btn btn-default active\">Middle</button>\n              <button type=\"button\" class=\"btn btn-default\">Right</button>\n            </div>\n          </div>\n          <div class=\"highlight\"><pre><code class=\"language-html\" data-lang=\"html\"><span class=\"nt\">&lt;div</span> <span class=\"na\">class=</span><span class=\"s\">\"btn-group\"</span> <span class=\"na\">role=</span><span class=\"s\">\"group\"</span> <span class=\"na\">aria-label=</span><span class=\"s\">\"...\"</span><span class=\"nt\">&gt;</span>\n  <span class=\"nt\">&lt;button</span> <span class=\"na\">type=</span><span class=\"s\">\"button\"</span> <span class=\"na\">class=</span><span class=\"s\">\"btn btn-default\"</span><span class=\"nt\">&gt;</span>Left<span class=\"nt\">&lt;/button&gt;</span>\n  <span class=\"nt\">&lt;button</span> <span class=\"na\">type=</span><span class=\"s\">\"button\"</span> <span class=\"na\">class=</span><span class=\"s\">\"btn btn-default\"</span><span class=\"nt\">&gt;</span>Middle<span class=\"nt\">&lt;/button&gt;</span>\n  <span class=\"nt\">&lt;button</span> <span class=\"na\">type=</span><span class=\"s\">\"button\"</span> <span class=\"na\">class=</span><span class=\"s\">\"btn btn-default\"</span><span class=\"nt\">&gt;</span>Right<span class=\"nt\">&lt;/button&gt;</span>\n<span class=\"nt\">&lt;/div&gt;</span></code></pre></div>\n\n        </div>\n\n        <div class=\"bs-docs-section\">\n          <h1 id=\"forms\" class=\"page-header\"><a class=\"anchorjs-link \" href=\"#forms\" aria-label=\"Anchor link for: forms\" data-anchorjs-icon=\"\" style=\"font-family: anchorjs-icons; font-style: normal; font-variant: normal; font-weight: normal; position: absolute; margin-left: -1em; padding-right: 0.5em;\"></a>表单</h1>\n          <h2 id=\"forms-example\"><a class=\"anchorjs-link \" href=\"#forms-example\" aria-label=\"Anchor link for: forms example\" data-anchorjs-icon=\"\" style=\"font-family: anchorjs-icons; font-style: normal; font-variant: normal; font-weight: normal; position: absolute; margin-left: -1em; padding-right: 0.5em;\"></a>基本实例</h2>\n          <p>单独的表单控件会被自动赋予一些全局样式。所有设置了 <code>.form-control</code> 类的 <code>&lt;input&gt;</code>、<code>&lt;textarea&gt;</code> 和 <code>&lt;select&gt;</code> 元素都将被默认设置宽度属性为 <code>width: 100%;</code>。 将 <code>label</code> 元素和前面提到的控件包裹在 <code>.form-group</code> 中可以获得最好的排列。</p>\n\n          <div class=\"bs-example\">\n            <div class=\"page-header\"><h4>基本设置</h4></div>\n            <div class=\"form-horizontal\">\n                <div class=\"form-group\">\n                    <label for=\"inputEmail3\" class=\"col-sm-2 control-label\">文本框</label>\n                    <div class=\"col-sm-8\">\n                      <input type=\"email\" class=\"form-control\" id=\"inputEmail3\" placeholder=\"\">\n                    </div>\n                    <div class=\"col-sm-2\">\n\n                    </div>\n                </div>\n                <div class=\"form-group\">\n                    <label for=\"inputSelect\" class=\"col-sm-2 control-label\">下拉框</label>\n                    <div class=\"col-sm-8\">\n                      <select class=\"form-control c-select\" id=\"inputSelect\">\n                        <option value=\"0\">全部区域</option>\n                        <option value=\"1\">区域一</option>\n                        <option value=\"2\">区域二</option>\n                      </select>\n                    </div>\n                    <div class=\"col-sm-2\">\n\n                    </div>\n                </div>\n                <div class=\"form-group\">\n                    <label for=\"inputEmail4\" class=\"col-sm-2 control-label\">单选/复选框</label>\n                    <div class=\"col-sm-8\">\n                        <label class=\"mc-radio\">\n                            <input type=\"radio\" name=\"radio1\">\n                            <span></span>\n                            radio\n                        </label>\n                        <label class=\"mc-radio\">\n                            <input type=\"radio\" name=\"radio1\" checked>\n                            <span></span>\n                            radio\n                        </label>\n                        <label class=\"mc-radio\">\n                            <input type=\"checkbox\" name=\"checkbox1\">\n                            <i class=\"icon-check\"></i>\n                            checkbox\n                        </label>\n                        <label class=\"mc-radio\">\n                            <input type=\"checkbox\" name=\"checkbox1\" checked>\n                            <i class=\"icon-check\"></i>\n                            checkbox\n                        </label>\n\n                    </div>\n                    <div class=\"col-sm-2\">\n\n                    </div>\n                </div>\n                <div class=\"form-group\">\n                    <label for=\"inputSelect\" class=\"col-sm-2 control-label\">邮箱</label>\n                    <div class=\"col-sm-8\">\n                      <p class=\"form-control-static\">123456789@qq.com</p>\n                    </div>\n                    <div class=\"col-sm-2 text-right\">\n                        <a href=\"\" class=\"btn btn-link\">编辑 <i class=\"icon-arrow-down small\"></i></a>\n                    </div>\n                </div>\n                <div class=\"form-group\">\n                    <label for=\"inputSelect\" class=\"col-sm-2 control-label\">下拉框</label>\n                    <div class=\"col-sm-8\">\n\n                    </div>\n                    <div class=\"col-sm-2 text-right\">\n                        <a href=\"\" class=\"btn btn-link\">收起 <i class=\"icon-arrow-up small\"></i></a>\n                    </div>\n                    <div class=\"clearfix\"></div>\n                    <div class=\"cols-edit\">\n                        <div class=\"col-sm-8 col-sm-offset-2 col-sm-offset-2\">\n                          <select class=\"form-control c-select\" id=\"inputSelect\">\n                            <option value=\"0\">全部区域</option>\n                            <option value=\"1\">区域一</option>\n                            <option value=\"2\">区域二</option>\n                          </select>\n                        </div>\n                        <div class=\"col-sm-8 col-sm-offset-2 col-sm-offset-2\">\n                          <button class=\"btn btn-success\">保存</button>\n                        </div>\n                    </div>\n                </div>\n            </div>\n          </div>\n\n            <p>带样式的表单：</p>\n            <div class=\"bs-example\">\n              <div class=\"page-header\"><h4>基本设置</h4></div>\n              <div class=\"form-horizontal\">\n                  <div class=\"form-group has-success\">\n                      <label for=\"inputEmail3\" class=\"col-sm-2 control-label text-left\">文本框<span class=\"text-tip\">*</span></label>\n                      <div class=\"col-sm-8\">\n                        <input type=\"email\" class=\"form-control\" id=\"inputEmail3\" placeholder=\"\">\n                      </div>\n                      <div class=\"col-sm-2\">\n\n                      </div>\n                  </div>\n                  <div class=\"form-group has-error\">\n                      <label for=\"inputSelect\" class=\"col-sm-2 control-label text-left\">下拉框</label>\n                      <div class=\"col-sm-8\">\n                        <select class=\"form-control c-select\" id=\"inputSelect\">\n                          <option value=\"0\">全部区域</option>\n                          <option value=\"1\">区域一</option>\n                          <option value=\"2\">区域二</option>\n                        </select>\n                      </div>\n                      <div class=\"col-sm-2\">\n\n                      </div>\n                  </div>\n                  <div class=\"form-group has-error\">\n                      <label for=\"inputEmail4\" class=\"col-sm-2 control-label text-left\">单选/复选框</label>\n                      <div class=\"col-sm-8\">\n                          <label class=\"mc-radio\">\n                              <input type=\"radio\" name=\"s-radio1\">\n                              <span></span>\n                              radio\n                          </label>\n                          <label class=\"mc-radio\">\n                              <input type=\"radio\" name=\"s-radio1\" checked>\n                              <span></span>\n                              radio\n                          </label>\n                          <label class=\"mc-radio\">\n                              <input type=\"checkbox\" name=\"s-checkbox1\">\n                              <i class=\"icon-check\"></i>\n                              checkbox\n                          </label>\n                          <label class=\"mc-radio\">\n                              <input type=\"checkbox\" name=\"s-checkbox1\" checked>\n                              <i class=\"icon-check\"></i>\n                              checkbox\n                          </label>\n\n                      </div>\n                      <div class=\"col-sm-2\">\n\n                      </div>\n                  </div>\n                  <div class=\"form-group\">\n                      <label for=\"inputSelect\" class=\"col-sm-2 control-label text-left\">邮箱</label>\n                      <div class=\"col-sm-8\">\n                        <p class=\"form-control-static\">123456789@qq.com</p>\n                      </div>\n                      <div class=\"col-sm-2 text-right\">\n                          <a href=\"\" class=\"btn btn-link\">编辑 <i class=\"icon-arrow-down small\"></i></a>\n                      </div>\n                  </div>\n                  <div class=\"form-group has-error\">\n                      <label for=\"inputSelect\" class=\"col-sm-2 control-label text-left\">下拉框</label>\n                      <div class=\"col-sm-8\">\n\n                      </div>\n                      <div class=\"col-sm-2 text-right\">\n                          <a href=\"\" class=\"btn btn-link\">收起 <i class=\"icon-arrow-up small\"></i></a>\n                      </div>\n                      <div class=\"clearfix\"></div>\n                      <div class=\"cols-edit\">\n                          <div class=\"col-sm-8 col-sm-offset-2 col-sm-offset-2\">\n                            <select class=\"form-control c-select\" id=\"inputSelect\">\n                              <option value=\"0\">全部区域</option>\n                              <option value=\"1\">区域一</option>\n                              <option value=\"2\">区域二</option>\n                            </select>\n                          </div>\n                          <div class=\"col-sm-8 col-sm-offset-2 col-sm-offset-2\">\n                            <button class=\"btn btn-success\">保存</button>\n                          </div>\n                      </div>\n                  </div>\n              </div>\n            </div>\n\n            <p>angular验证表格：</p>\n            <div class=\"bs-example\">\n              <div class=\"page-header\"><h4>基本设置</h4></div>\n              <div class=\"form-horizontal\">\n                  <div class=\"form-group\">\n                      <label for=\"inputEmail3\" class=\"col-sm-2 control-label text-left\">文本框<span class=\"text-tip\">*</span></label>\n                      <div class=\"col-sm-8\">\n                        <input type=\"email\" class=\"form-control ng-valid\" id=\"inputEmail3\" placeholder=\"\">\n                      </div>\n                      <div class=\"col-sm-2\">\n\n                      </div>\n                  </div>\n                  <div class=\"form-group\">\n                      <label for=\"inputSelect\" class=\"col-sm-2 control-label text-left\">下拉框</label>\n                      <div class=\"col-sm-8\">\n                        <select class=\"form-control c-select ng-invalid\" id=\"inputSelect\">\n                          <option value=\"0\">全部区域</option>\n                          <option value=\"1\">区域一</option>\n                          <option value=\"2\">区域二</option>\n                        </select>\n                        <span><p class=\"validation-invalid\">格式不对！</p></span>\n                      </div>\n                      <div class=\"col-sm-2\">\n\n                      </div>\n                  </div>\n                  <div class=\"form-group\">\n                      <label for=\"inputEmail4\" class=\"col-sm-2 control-label text-left\">单选/复选框</label>\n                      <div class=\"col-sm-8\">\n                          <label class=\"mc-radio ng-valid\">\n                              <input type=\"radio\" name=\"radio1\">\n                              <span></span>\n                              radio\n                          </label>\n                          <label class=\"mc-radio ng-valid\">\n                              <input type=\"radio\" name=\"radio1\" checked >\n                              <span></span>\n                              radio\n                          </label>\n                          <label class=\"mc-radio ng-valid\">\n                              <input type=\"checkbox\" name=\"checkbox1\">\n                              <i class=\"icon-check\"></i>\n                              checkbox\n                          </label>\n                          <label class=\"mc-radio ng-valid\">\n                              <input type=\"checkbox\" name=\"checkbox1\" checked>\n                              <i class=\"icon-check\"></i>\n                              checkbox\n                          </label>\n\n                      </div>\n                      <div class=\"col-sm-2\">\n\n                      </div>\n                  </div>\n                  <div class=\"form-group\">\n                      <label for=\"inputEmail4\" class=\"col-sm-2 control-label text-left\">单选/复选框</label>\n                      <div class=\"col-sm-8\">\n                          <label class=\"mc-radio ng-invalid\">\n                              <input type=\"radio\" name=\"a-radio1\">\n                              <span></span>\n                              radio\n                          </label>\n                          <label class=\"mc-radio ng-invalid\">\n                              <input type=\"radio\" name=\"a-radio1\" checked >\n                              <span></span>\n                              radio\n                          </label>\n                          <label class=\"mc-radio ng-invalid\">\n                              <input type=\"checkbox\" name=\"a-checkbox1\">\n                              <i class=\"icon-check\"></i>\n                              checkbox\n                          </label>\n                          <label class=\"mc-radio ng-invalid\">\n                              <input type=\"checkbox\" name=\"a-checkbox1\" checked>\n                              <i class=\"icon-check\"></i>\n                              checkbox\n                          </label>\n\n                      </div>\n                      <div class=\"col-sm-2\">\n\n                      </div>\n                  </div>\n                  <div class=\"form-group\">\n                      <label for=\"inputSelect\" class=\"col-sm-2 control-label text-left\">邮箱</label>\n                      <div class=\"col-sm-8\">\n                        <p class=\"form-control-static\">123456789@qq.com</p>\n                      </div>\n                      <div class=\"col-sm-2 text-right\">\n                          <a href=\"\" class=\"btn btn-link\">编辑 <i class=\"icon-arrow-down small\"></i></a>\n                      </div>\n                  </div>\n                  <div class=\"form-group\">\n                      <label for=\"inputSelect\" class=\"col-sm-2 control-label text-left\">下拉框</label>\n                      <div class=\"col-sm-8\">\n\n                      </div>\n                      <div class=\"col-sm-2 text-right\">\n                          <a href=\"\" class=\"btn btn-link\">收起 <i class=\"icon-arrow-up small\"></i></a>\n                      </div>\n                      <div class=\"clearfix\"></div>\n                      <div class=\"cols-edit\">\n                          <div class=\"col-sm-8 col-sm-offset-2 col-sm-offset-2\">\n                            <select class=\"form-control c-select\" id=\"inputSelect\">\n                              <option value=\"0\">全部区域</option>\n                              <option value=\"1\">区域一</option>\n                              <option value=\"2\">区域二</option>\n                            </select>\n                          </div>\n                          <div class=\"col-sm-8 col-sm-offset-2 col-sm-offset-2\">\n                            <button class=\"btn btn-success\">保存</button>\n                          </div>\n                      </div>\n                  </div>\n              </div>\n            </div>\n\n        </div>\n\n        <div class=\"bs-docs-section\">\n\n            <h1 id=\"helper-classes\" class=\"page-header\"><a class=\"anchorjs-link \" href=\"#helper-classes\" aria-label=\"Anchor link for: helper classes\" data-anchorjs-icon=\"\" style=\"font-family: anchorjs-icons; font-style: normal; font-variant: normal; font-weight: normal; position: absolute; margin-left: -1em; padding-right: 0.5em;\"></a>辅助类</h1>\n            <h3 id=\"helper-classes-colors\"><a class=\"anchorjs-link \" href=\"#helper-classes-colors\" aria-label=\"Anchor link for: helper classes colors\" data-anchorjs-icon=\"\" style=\"font-family: anchorjs-icons; font-style: normal; font-variant: normal; font-weight: normal; position: absolute; margin-left: -1em; padding-right: 0.5em;\"></a>情境文本颜色</h3>\n            <p>通过颜色来展示意图，Bootstrap 提供了一组工具类。这些类可以应用于链接，并且在鼠标经过时颜色可以还可以加深，就像默认的链接一样。</p>\n            <div class=\"bs-example\" data-example-id=\"contextual-colors-helpers\">\n                <p class=\"text-muted\">Fusce dapibus, tellus ac cursus commodo, tortor mauris nibh.</p>\n                <p class=\"text-primary\">Nullam id dolor id nibh ultricies vehicula ut id elit.</p>\n                <p class=\"text-success\">Duis mollis, est non commodo luctus, nisi erat porttitor ligula.</p>\n                <p class=\"text-info\">Maecenas sed diam eget risus varius blandit sit amet non magna.</p>\n                <p class=\"text-warning\">Etiam porta sem malesuada magna mollis euismod.</p>\n                <p class=\"text-danger\">Donec ullamcorper nulla non metus auctor fringilla.</p>\n                <p class=\"text-tip\">Donec ullamcorper nulla non metus auctor fringilla.</p>\n            </div>\n            <div class=\"highlight\"><pre><code class=\"language-html\" data-lang=\"html\"><span class=\"nt\">&lt;p</span> <span class=\"na\">class=</span><span class=\"s\">\"text-muted\"</span><span class=\"nt\">&gt;</span>...<span class=\"nt\">&lt;/p&gt;</span>\n<span class=\"nt\">&lt;p</span> <span class=\"na\">class=</span><span class=\"s\">\"text-primary\"</span><span class=\"nt\">&gt;</span>...<span class=\"nt\">&lt;/p&gt;</span>\n<span class=\"nt\">&lt;p</span> <span class=\"na\">class=</span><span class=\"s\">\"text-success\"</span><span class=\"nt\">&gt;</span>...<span class=\"nt\">&lt;/p&gt;</span>\n<span class=\"nt\">&lt;p</span> <span class=\"na\">class=</span><span class=\"s\">\"text-info\"</span><span class=\"nt\">&gt;</span>...<span class=\"nt\">&lt;/p&gt;</span>\n<span class=\"nt\">&lt;p</span> <span class=\"na\">class=</span><span class=\"s\">\"text-warning\"</span><span class=\"nt\">&gt;</span>...<span class=\"nt\">&lt;/p&gt;</span>\n<span class=\"nt\">&lt;p</span> <span class=\"na\">class=</span><span class=\"s\">\"text-danger\"</span><span class=\"nt\">&gt;</span>...<span class=\"nt\">&lt;/p&gt;</span>\n<span class=\"nt\">&lt;p</span> <span class=\"na\">class=</span><span class=\"s\">\"text-tip\"</span><span class=\"nt\">&gt;</span>...<span class=\"nt\">&lt;/p&gt;</span></code></pre></div>\n\n            <h3 id=\"helper-classes-backgrounds\"><a class=\"anchorjs-link \" href=\"#helper-classes-backgrounds\" aria-label=\"Anchor link for: helper classes backgrounds\" data-anchorjs-icon=\"\" style=\"font-family: anchorjs-icons; font-style: normal; font-variant: normal; font-weight: normal; position: absolute; margin-left: -1em; padding-right: 0.5em;\"></a>情境背景色</h3>\n            <p>和情境文本颜色类一样，使用任意情境背景色类就可以设置元素的背景。链接组件在鼠标经过时颜色会加深，就像上面所讲的情境文本颜色类一样。</p>\n            <div class=\"bs-example bs-example-bg-classes\" data-example-id=\"contextual-backgrounds-helpers\">\n                <p class=\"bg-primary\">Nullam id dolor id nibh ultricies vehicula ut id elit.</p>\n                <p class=\"bg-success\">Duis mollis, est non commodo luctus, nisi erat porttitor ligula.</p>\n                <p class=\"bg-info\">Maecenas sed diam eget risus varius blandit sit amet non magna.</p>\n                <p class=\"bg-warning\">Etiam porta sem malesuada magna mollis euismod.</p>\n                <p class=\"bg-danger\">Donec ullamcorper nulla non metus auctor fringilla.</p>\n            </div>\n            <div class=\"highlight\"><pre><code class=\"language-html\" data-lang=\"html\"><span class=\"nt\">&lt;p</span> <span class=\"na\">class=</span><span class=\"s\">\"bg-primary\"</span><span class=\"nt\">&gt;</span>...<span class=\"nt\">&lt;/p&gt;</span>\n<span class=\"nt\">&lt;p</span> <span class=\"na\">class=</span><span class=\"s\">\"bg-success\"</span><span class=\"nt\">&gt;</span>...<span class=\"nt\">&lt;/p&gt;</span>\n<span class=\"nt\">&lt;p</span> <span class=\"na\">class=</span><span class=\"s\">\"bg-info\"</span><span class=\"nt\">&gt;</span>...<span class=\"nt\">&lt;/p&gt;</span>\n<span class=\"nt\">&lt;p</span> <span class=\"na\">class=</span><span class=\"s\">\"bg-warning\"</span><span class=\"nt\">&gt;</span>...<span class=\"nt\">&lt;/p&gt;</span>\n<span class=\"nt\">&lt;p</span> <span class=\"na\">class=</span><span class=\"s\">\"bg-danger\"</span><span class=\"nt\">&gt;</span>...<span class=\"nt\">&lt;/p&gt;</span></code></pre></div>\n\n        </div>\n\n        <div class=\"bs-docs-section\">\n            <h1 id=\"tables\" class=\"page-header\"><a class=\"anchorjs-link \" href=\"#tables\" aria-label=\"Anchor link for: tables\" data-anchorjs-icon=\"\" style=\"font-family: anchorjs-icons; font-style: normal; font-variant: normal; font-weight: normal; position: absolute; margin-left: -1em; padding-right: 0.5em;\"></a>表格</h1>\n            <p>为任意 <code>&lt;table&gt;</code> 标签添加 <code>.table</code> 类可以为其赋予基本的样式 — 少量的内补（padding）和水平方向的分隔线。这种方式看起来很多余！？但是我们觉得，表格元素使用的很广泛，如果我们为其赋予默认样式可能会影响例如日历和日期选择之类的插件，所以我们选择将此样式独立出来。</p>\n\n            <div class=\"bs-example\" data-example-id=\"simple-table\">\n                <table class=\"table\">\n                  <caption>Optional table caption.</caption>\n                  <thead>\n                    <tr>\n                      <th>#</th>\n                      <th>First Name</th>\n                      <th>Last Name</th>\n                      <th>Username</th>\n                    </tr>\n                  </thead>\n                  <tbody>\n                    <tr>\n                      <th scope=\"row\">1</th>\n                      <td>Mark</td>\n                      <td>Otto</td>\n                      <td>@mdo</td>\n                    </tr>\n                    <tr>\n                      <th scope=\"row\">2</th>\n                      <td>Jacob</td>\n                      <td>Thornton</td>\n                      <td>@fat</td>\n                    </tr>\n                    <tr>\n                      <th scope=\"row\">3</th>\n                      <td><input type=\"email\" class=\"form-control \" placeholder=\"\"><span><p class=\"validation-invalid\">格式不对！</p></span></td>\n                      <td>the Bird</td>\n                      <td>@twitter</td>\n                    </tr>\n                  </tbody>\n                </table>\n              </div>\n\n                <div class=\"highlight\"><pre><code class=\"language-html\" data-lang=\"html\"><span class=\"nt\">&lt;table</span> <span class=\"na\">class=</span><span class=\"s\">\"table\"</span><span class=\"nt\">&gt;</span>\n  ...\n<span class=\"nt\">&lt;/table&gt;</span></code></pre></div>\n\n        </div>\n\n        <div class=\"bs-docs-section\">\n            <h1 id=\"type\" class=\"page-header\"><a class=\"anchorjs-link \" href=\"#type\" aria-label=\"Anchor link for: type\" data-anchorjs-icon=\"\" style=\"font-family: anchorjs-icons; font-style: normal; font-variant: normal; font-weight: normal; position: absolute; margin-left: -1em; padding-right: 0.5em;\"></a>排版</h1>\n            <h2 id=\"type-headings\"><a class=\"anchorjs-link \" href=\"#type-headings\" aria-label=\"Anchor link for: type headings\" data-anchorjs-icon=\"\" style=\"font-family: anchorjs-icons; font-style: normal; font-variant: normal; font-weight: normal; position: absolute; margin-left: -1em; padding-right: 0.5em;\"></a>标题</h2>\n            <p>HTML 中的所有标题标签，<code>&lt;h1&gt;</code> 到 <code>&lt;h6&gt;</code> 均可使用。另外，还提供了 <code>.h1</code> 到 <code>.h6</code> 类，为的是给内联（inline）属性的文本赋予标题的样式。</p>\n            <div class=\"bs-example bs-example-type\" data-example-id=\"simple-headings\">\n                <table class=\"table\">\n                  <tbody>\n                    <tr>\n                      <td><h1>h1. Bootstrap heading</h1></td>\n                      <td class=\"type-info\">Semibold 36px</td>\n                    </tr>\n                    <tr>\n                      <td><h2>h2. Bootstrap heading</h2></td>\n                      <td class=\"type-info\">Semibold 30px</td>\n                    </tr>\n                    <tr>\n                      <td><h3>h3. Bootstrap heading</h3></td>\n                      <td class=\"type-info\">Semibold 24px</td>\n                    </tr>\n                    <tr>\n                      <td><h4>h4. Bootstrap heading</h4></td>\n                      <td class=\"type-info\">Semibold 18px</td>\n                    </tr>\n                    <tr>\n                      <td><h5>h5. Bootstrap heading</h5></td>\n                      <td class=\"type-info\">Semibold 16px</td>\n                    </tr>\n                    <tr>\n                      <td><h6>h6. Bootstrap heading</h6></td>\n                      <td class=\"type-info\">Semibold 14px</td>\n                    </tr>\n                  </tbody>\n                </table>\n              </div>\n            <div class=\"highlight\"><pre><code class=\"language-html\" data-lang=\"html\"><span class=\"nt\">&lt;h1&gt;</span>h1. Bootstrap heading<span class=\"nt\">&lt;/h1&gt;</span>\n<span class=\"nt\">&lt;h2&gt;</span>h2. Bootstrap heading<span class=\"nt\">&lt;/h2&gt;</span>\n<span class=\"nt\">&lt;h3&gt;</span>h3. Bootstrap heading<span class=\"nt\">&lt;/h3&gt;</span>\n<span class=\"nt\">&lt;h4&gt;</span>h4. Bootstrap heading<span class=\"nt\">&lt;/h4&gt;</span>\n<span class=\"nt\">&lt;h5&gt;</span>h5. Bootstrap heading<span class=\"nt\">&lt;/h5&gt;</span>\n<span class=\"nt\">&lt;h6&gt;</span>h6. Bootstrap heading<span class=\"nt\">&lt;/h6&gt;</span></code></pre></div>\n        </div>\n\n      </div>\n      <div class=\"col-md-3\" role=\"complementary\">\n        <nav class=\"bs-docs-sidebar hidden-print hidden-xs hidden-sm affix-top\">\n          <ul class=\"nav bs-docs-sidenav\">\n\n            <li class=\"\">\n              <a href=\"#glyphicons\">Glyphicons 字体图标</a>\n              <ul class=\"nav\">\n                <li class=\"\"><a href=\"#glyphicons-glyphs\">所有可用的图标</a></li>\n                <li class=\"\"><a href=\"#glyphicons-how-to-use\">如何使用</a></li>\n                <li class=\"\"><a href=\"#glyphicons-examples\">实例</a></li>\n              </ul>\n            </li>\n            <li class=\"\">\n              <a href=\"#dropdowns\">下拉菜单</a>\n              <ul class=\"nav\">\n                <li class=\"\"><a href=\"#dropdowns-example\">实例</a></li>\n                <li class=\"\"><a href=\"#dropdowns-alignment\">对齐</a></li>\n                <li><a href=\"#dropdowns-headers\">标题</a></li>\n                <li><a href=\"#dropdowns-divider\">分割线</a></li>\n                <li class=\"\"><a href=\"#dropdowns-disabled\">禁用的菜单项</a></li>\n              </ul>\n            </li>\n            <li class=\"\">\n              <a href=\"#btn-groups\">按钮组</a>\n              <ul class=\"nav\">\n                <li class=\"\"><a href=\"#btn-groups-single\">基本实例</a></li>\n                <li><a href=\"#btn-groups-toolbar\">按钮工具栏</a></li>\n                <li><a href=\"#btn-groups-sizing\">尺寸</a></li>\n                <li><a href=\"#btn-groups-nested\">嵌套</a></li>\n                <li><a href=\"#btn-groups-vertical\">垂直排列</a></li>\n                <li class=\"\"><a href=\"#btn-groups-justified\">两端对齐排列的按钮组</a></li>\n              </ul>\n            </li>\n            <li>\n              <a href=\"#btn-dropdowns\">按钮式下拉菜单</a>\n              <ul class=\"nav\">\n                <li><a href=\"#btn-dropdowns-single\">单按钮下拉菜单</a></li>\n                <li><a href=\"#btn-dropdowns-split\">分裂式按钮下拉菜单</a></li>\n                <li><a href=\"#btn-dropdowns-sizing\">尺寸</a></li>\n                <li><a href=\"#btn-dropdowns-dropup\">向上弹出式菜单</a></li>\n              </ul>\n            </li>\n            <li>\n              <a href=\"#input-groups\">输入框组</a>\n              <ul class=\"nav\">\n                <li><a href=\"#input-groups-basic\">基本实例</a></li>\n                <li><a href=\"#input-groups-sizing\">尺寸</a></li>\n                <li><a href=\"#input-groups-checkboxes-radios\">作为额外元素的多选框和单选框</a></li>\n                <li><a href=\"#input-groups-buttons\">作为额外元素的按钮</a></li>\n                <li><a href=\"#input-groups-buttons-dropdowns\">作为额外元素的按钮式下拉菜单</a></li>\n                <li><a href=\"#input-groups-buttons-segmented\">作为额外元素的分裂式按钮下拉菜单</a></li>\n              </ul>\n            </li>\n            <li>\n              <a href=\"#nav\">导航</a>\n              <ul class=\"nav\">\n                <li><a href=\"#nav-tabs\">标签页</a></li>\n                <li><a href=\"#nav-pills\">胶囊式标签页</a></li>\n                <li><a href=\"#nav-justified\">两端对齐</a></li>\n                <li><a href=\"#nav-disabled-links\">禁用的链接</a></li>\n                <li><a href=\"#nav-dropdowns\">添加下拉菜单</a></li>\n              </ul>\n            </li>\n            <li class=\"\">\n              <a href=\"#navbar\">导航条</a>\n              <ul class=\"nav\">\n                <li><a href=\"#navbar-default\">默认样式的导航条</a></li>\n                <li><a href=\"#navbar-brand-image\">品牌图标</a></li>\n                <li><a href=\"#navbar-forms\">表单</a></li>\n                <li><a href=\"#navbar-buttons\">按钮</a></li>\n                <li><a href=\"#navbar-text\">文本</a></li>\n                <li><a href=\"#navbar-links\">非导航的链接</a></li>\n                <li class=\"\"><a href=\"#navbar-component-alignment\">组件排列</a></li>\n                <li><a href=\"#navbar-fixed-top\">固定在顶部</a></li>\n                <li><a href=\"#navbar-fixed-bottom\">固定在底部</a></li>\n                <li><a href=\"#navbar-static-top\">静止在顶部</a></li>\n                <li><a href=\"#navbar-inverted\">反色的导航条</a></li>\n              </ul>\n            </li>\n            <li><a href=\"#breadcrumbs\">路径导航</a></li>\n            <li>\n              <a href=\"#pagination\">分页</a>\n              <ul class=\"nav\">\n                <li><a href=\"#pagination-default\">默认分页</a></li>\n                <li><a href=\"#pagination-pager\">翻页</a></li>\n              </ul>\n            </li>\n            <li><a href=\"#labels\">标签</a></li>\n            <li><a href=\"#badges\">徽章</a></li>\n            <li><a href=\"#jumbotron\">巨幕</a></li>\n            <li><a href=\"#page-header\">页头</a></li>\n            <li>\n              <a href=\"#thumbnails\">缩略图</a>\n              <ul class=\"nav\">\n                <li><a href=\"#thumbnails-default\">默认样式的实例</a></li>\n                <li><a href=\"#thumbnails-custom-content\">自定义内容</a></li>\n              </ul>\n            </li>\n            <li>\n              <a href=\"#alerts\">警告框</a>\n              <ul class=\"nav\">\n                <li><a href=\"#alerts-examples\">实例</a></li>\n                <li><a href=\"#alerts-dismissible\">可关闭的警告框</a></li>\n                <li><a href=\"#alerts-links\">警告框中的链接</a></li>\n              </ul>\n            </li>\n            <li>\n              <a href=\"#progress\">进度条</a>\n              <ul class=\"nav\">\n                <li><a href=\"#progress-basic\">基本实例</a></li>\n                <li><a href=\"#progress-label\">带有提示标签的进度条</a></li>\n                <li><a href=\"#progress-alternatives\">根据情境变化效果</a></li>\n                <li><a href=\"#progress-striped\">条纹效果</a></li>\n                <li><a href=\"#progress-animated\">动画效果</a></li>\n                <li><a href=\"#progress-stacked\">堆叠效果</a></li>\n              </ul>\n            </li>\n            <li>\n              <a href=\"#media\">媒体对象</a>\n              <ul class=\"nav\">\n                <li><a href=\"#media-default\">默认样式</a></li>\n                <li><a href=\"#media-list\">媒体对象列表</a></li>\n              </ul>\n            </li>\n            <li>\n              <a href=\"#list-group\">列表组</a>\n              <ul class=\"nav\">\n                <li><a href=\"#list-group-basic\">基本实例</a></li>\n                <li><a href=\"#list-group-badges\">徽章</a></li>\n                <li><a href=\"#list-group-linked\">链接</a></li>\n                <li><a href=\"#list-group-buttons\">Button items</a></li>\n                <li><a href=\"#list-group-disabled\">被禁用的条目</a></li>\n                <li><a href=\"#list-group-contextual-classes\">情境类</a></li>\n                <li><a href=\"#list-group-custom-content\">定制内容</a></li>\n              </ul>\n            </li>\n            <li>\n              <a href=\"#panels\">面板</a>\n              <ul class=\"nav\">\n                <li><a href=\"#panels-basic\">基本实例</a></li>\n                <li><a href=\"#panels-heading\">带标题的面版</a></li>\n                <li><a href=\"#panels-footer\">带注脚的面板</a></li>\n                <li><a href=\"#panels-alternatives\">情境效果</a></li>\n                <li><a href=\"#panels-tables\">带表格的面版</a>\n                </li><li><a href=\"#panels-list-group\">带列表组的面版</a>\n              </li></ul>\n            </li>\n            <li><a href=\"#responsive-embed\">具有响应式特性的嵌入内容</a></li>\n            <li><a href=\"#wells\">Well</a></li>\n\n\n          </ul>\n          <a class=\"back-to-top\" href=\"#top\">\n            返回顶部\n          </a>\n\n          <a href=\"#\" class=\"bs-docs-theme-toggle\" role=\"button\">\n            主题预览\n          </a>\n\n        </nav>\n      </div>\n    </div>\n  </div>\n");
  $templateCache.put("modules/demo/list/template.html", "<section class=\"content-header\">\n  <div class=\"options\">\n    <div class=\"option-item option-time\">\n      <ul class=\"clearfix\">\n        <li>\n          <div class=\"input-group search-box\">\n            <input ng-model=\"vm.filters.keyword\" type=\"text\" placeholder=\"请输查询\" class=\"form-control\"\n                    code=\"13\" key-event=\"vm.reSearch();\">\n            <span class=\"input-group-btn\">\n              <button ng-click=\"vm.reSearch()\" class=\"btn btn-default search\" type=\"button\"><i class=\"icon-search\"></i></button>\n            </span>\n          </div>\n        </li>\n      </ul>\n    </div>\n    <div class=\"option-item large\">\n      <span class=\"item-title text-right\">性别：</span>\n      <ul class=\"clearfix\">\n            <li>\n                <a href=\"javascript:;\" class=\"btn\" ng-class=\"{\'btn-default\': vm.filters.gender, \'btn-toggle\': !vm.filters.gender, \'active\': !vm.filters.gender}\" ng-click=\"vm.switch(\'gender\')\">\n                    全部\n                </a>\n            </li>\n            <li ng-repeat=\"item in vm.genderList\">\n                <a href=\"javascript:;\" class=\"btn\" ng-class=\"{\'btn-default\': vm.filters.gender !== item.value, \'btn-toggle\': vm.filters.gender == item.value, \'active\': vm.filters.gender == item.value}\" ng-click=\"vm.switch(\'gender\', item.value)\">\n                    {{ item.name }}\n                </a>\n            </li>\n        </ul>\n    </div>\n    \n    <div class=\"option-item large\">\n        <span class=\"item-title\">时间选择：</span>\n           \n        <div class=\"item-content\">\n             <a href=\"javascript:;\" class=\"btn\" ng-class=\"{\'btn-default\': true, \'btn-toggle active\': !vm.filters.start_date && !vm.filters.end_date}\" ng-click=\"vm.showAllTime()\">\n                    全部\n            </a>\n            <mc-datepicker id=\"startDatePicker\" start-date=\"vm.start_date\" max-date=\"vm.startTimeMaxLimit\" time-source=\"\" ctrl-alias=\"vm\" min-view=\"\'minutes\'\" change-by=\"close\"></mc-datepicker> --\n            <mc-datepicker id=\"endDatePicker\" start-date=\"vm.end_date\" min-date=\"vm.endTimeMinLimit\" max-date=\"vm.endTimeMaxLimit\" time-source=\"\" ctrl-alias=\"vm\" min-view=\"\'minutes\'\" change-time=\"vm.changeTime(\'end\')\" change-by=\"close\"></mc-datepicker>\n        </div>\n    </div>\n</section>\n\n<section class=\"content body-content body-content-compact block-ui block-ui-message-custom\" block-ui=\"main\">\n  <empty-tip ng-if=\"vm.list.length === 0\"></empty-tip>\n\n  <div class=\"panel\">\n    <table class=\"table table-striped text-center\">\n      <tr>\n        <th class=\"col-m-1 text-center\">姓名</th>\n        <th class=\"col-m-1 text-center\">性别</th>\n        <th class=\"col-m-1 text-center\">年龄</th>\n        <th class=\"col-m-2 text-center\">备注</th>\n        <th class=\"col-m-1 text-center\">操作</th>\n      </tr>\n      <tr ng-repeat=\"item in vm.list\">\n        <td>{{item.name}}</td>\n        <td>{{item.gender}}</td>\n        <td>{{item.age}}</td>\n        <td>{{item.note}}</td>\n        <td><a href=\"javascript:void(0)\" ng-click=\"vm.edit(item)\">编辑</a></td>\n      </tr>\n    </table>\n  </div>\n\n  <mc-pagination total-items=\"vm.pagination.count\" items-per-page=\"vm.pagination.pageSize\" current-page=\"vm.pagination.page\" page-change=\"vm.pageChanged()\"></mc-pagination>\n\n</section>\n");
  $templateCache.put("modules/enterprise/detail/index.html", "<section class=\"content-header\">\n  <a href=\"javascript:void(0)\" class=\"btn btn-default pull-right\" ng-click=\"$root.back();\">返回</a>\n  <h4 class=\"title\">{{vm.info.name}}</h4>\n</section>\n\n<section class=\"content body-content\" block-ui=\"main\">\n\n  <div class=\"page-header\">\n      <h4>工商信息</h4>\n  </div>\n\n  <div class=\"item-content\">\n    <div class=\"panel\">\n      <table class=\"table table-striped\">\n        <tr>\n          <th class=\"col-sm-1\">企业名称：</th>\n          <td class=\"col-sm-3\">{{vm.info.name}}</td>\n          <th class=\"col-sm-1\">社会信用代码：</th>\n          <td class=\"col-sm-3\">{{vm.info.credit_no}}</td>\n        </tr>\n        <tr>\n          <th class=\"col-sm-1\">工商注册号：</th>\n          <td class=\"col-sm-3\">{{vm.info.reg_no}}</td>\n          <th class=\"col-sm-1\">组织机构代码</th>\n          <td class=\"col-sm-3\">{{vm.info.org_no}}</td>\n        </tr>\n        <tr>\n          <th class=\"col-sm-1\">法定代表人：</th>\n          <td class=\"col-sm-3\">{{vm.info.oper_name}}</td>\n          <th class=\"col-sm-1\">成立时间：</th>\n          <td class=\"col-sm-3\">{{vm.info.start_date}}</td>\n        </tr>\n        <tr>\n          <th class=\"col-sm-1\">企业类型：</th>\n          <td class=\"col-sm-3\">{{vm.info.econ_kind}}</td>\n          <th class=\"col-sm-1\">经营状态：</th>\n          <td class=\"col-sm-3\">{{vm.info.status}}</td>\n        </tr>\n        <tr>\n          <th>注册资本：</th>\n          <td colspan=\"3\">{{vm.info.regist_capi}}</td>\n        </tr>\n        <tr>\n          <th>注册地址：</th>\n          <td colspan=\"3\">{{vm.info.address}}</td>\n        </tr>\n        <tr>\n          <th>营业期限：</th>\n          <td colspan=\"3\">自{{vm.info.term_start}}至{{vm.info.term_end}}止</td>\n        </tr>\n        <tr>\n          <th>营业范围：</th>\n          <td colspan=\"3\">{{vm.info.scope}}</td>\n        </tr>\n        <tr>\n          <th class=\"col-sm-1\">登记机关：</th>\n          <td class=\"col-sm-3\">{{vm.info.belong_org}}</td>\n          <th class=\"col-sm-1\">发照日期：</th>\n          <td class=\"col-sm-3\">{{vm.info.check_date}}</td>\n        </tr>\n      </table>\n    </div>\n  </div>\n\n</section>\n\n<section class=\"content body-content\" block-ui=\"main\">\n\n  <div class=\"page-header\">\n      <h4>管理团队</h4>\n  </div>\n\n  <div class=\"item-content\">\n    <div class=\"panel\">\n      <table class=\"table table-striped text-center\">\n        <tr>\n          <th class=\"col-sm-1 text-center\">序号</th>\n          <th class=\"col-sm-4 text-center\">姓名</th>\n          <th class=\"col-sm-7 text-center\">职位</th>\n        </tr>\n        <tr ng-repeat=\"item in vm.info.employees\">\n          <td>{{$index+1}}</td>\n          <td>{{item.name}}</td>\n          <td>{{item.job_title}}</td>\n        </tr>\n      </table>\n    </div>\n  </div>\n\n</section>\n\n<section class=\"content body-content\" block-ui=\"main\">\n  <div class=\"page-header\">\n      <h4>注册信息变更</h4>\n  </div>\n\n  <div class=\"item-content\">\n    <div class=\"panel\">\n      <table class=\"table table-striped\">\n        <tr>\n          <th class=\"col-sm-1\">变更日期</th>\n          <th class=\"col-sm-1\">变更项</th>\n          <th class=\"col-sm-4\">变更前</th>\n          <th class=\"col-sm-4\">变更后</th>\n        </tr>\n        <tr ng-repeat=\"item in vm.info.changerecords\">\n          <td>{{item.change_date}}</td>\n          <td>{{item.change_item}}</td>\n          <td>{{item.before_content}}</td>\n          <td>{{item.after_content}}</td>\n        </tr>\n      </table>\n    </div>\n  </div>\n\n</section>\n\n<section class=\"content body-content\" block-ui=\"main\">\n  <div class=\"page-header\">\n      <h4>股东及出资信息</h4>\n  </div>\n\n  <div class=\"item-content\">\n    <div class=\"panel\">\n      <table class=\"table table-striped text-center\">\n        <tr>\n          <th class=\"col-sm-1 text-center\">序号</th>\n          <th class=\"col-sm-4 text-center\">股东</th>\n          <th class=\"col-sm-4 text-center\"></th>\n        </tr>\n        <tr ng-repeat=\"item in vm.info.partners\">\n          <td>{{$index+1}}</td>\n          <td>{{item.name}}</td>\n          <td>{{item.stock_type}}</td>\n        </tr>\n      </table>\n    </div>\n  </div>\n\n</section>\n");
  $templateCache.put("modules/enterprise/list/index.html", "<section class=\"content-header\">\n  <button type=\"button\" class=\"btn btn-success pull-right m-l-sm\" style=\"position: relative; z-index: 2;\"\n          ng-click=\"vm.add()\"><i class=\"icon-Plus\"></i> 添加\n  </button>\n  <div class=\"options\">\n    <div class=\"option-item option-time\">\n      <ul class=\"clearfix\">\n        <li>\n          <div class=\"input-group search-box\">\n            <input ng-model=\"vm.filters.name\" type=\"text\" placeholder=\"请输查询\" class=\"form-control\"\n                    code=\"13\" key-event=\"vm.reSearch();\">\n            <span class=\"input-group-btn\">\n              <button ng-click=\"vm.reSearch()\" class=\"btn btn-default search\" type=\"button\"><i class=\"icon-search\"></i></button>\n            </span>\n          </div>\n        </li>\n      </ul>\n    </div>\n    <div class=\"option-item large\" ng-if=\"vm.access[\'enterprise.filter.role_a_state\']\">\n      <span class=\"item-title text-right\">主理状态：</span>\n      <ul class=\"clearfix\">\n          <!-- <li>\n              <a href=\"javascript:;\" class=\"btn\" ng-class=\"{\'btn-default\': vm.filters.gender, \'btn-toggle\': !vm.filters.gender, \'active\': !vm.filters.gender}\" ng-click=\"vm.switch(\'gender\')\">\n                  全部\n              </a>\n          </li> -->\n          <li ng-repeat=\"item in vm.roleMainStatus\">\n              <a href=\"javascript:;\" class=\"btn\" ng-class=\"{\'btn-default\': vm.filters.role_a_disable != item.value, \'btn-toggle\': vm.filters.role_a_disable == item.value, \'active\': vm.filters.role_a_disable == item.value}\" ng-click=\"vm.switch(\'role_a_disable\', item.value)\">\n                  {{ item.label }}\n              </a>\n          </li>\n      </ul>\n    </div>\n    <div class=\"option-item large\">\n      <span class=\"item-title text-right\">企业状态：</span>\n      <ul class=\"clearfix\">\n          <li>\n              <a href=\"javascript:;\" class=\"btn\" ng-class=\"{\'btn-default\': vm.filters.state !== undefined, \'btn-toggle\': vm.filters.state === undefined, \'active\': vm.filters.state === undefined}\" ng-click=\"vm.switch(\'state\')\">\n                  全部\n              </a>\n          </li>\n          <li ng-repeat=\"item in vm.enterpriseStateList\">\n              <a href=\"javascript:;\" class=\"btn\" ng-class=\"{\'btn-default\': vm.filters.state != item.value, \'btn-toggle\': vm.filters.state == item.value, \'active\': vm.filters.state == item.value}\" ng-click=\"vm.switch(\'state\', item.value)\">\n                  {{ item.label }}\n              </a>\n          </li>\n      </ul>\n    </div>\n</section>\n\n<section class=\"content body-content body-content-compact block-ui block-ui-message-custom\" block-ui=\"main\">\n  <empty-tip ng-if=\"vm.list.length === 0\"></empty-tip>\n\n  <div class=\"panel\" ng-if=\"vm.list.length > 0\">\n    <table class=\"table table-striped text-center\">\n      <tr>\n        <th class=\"col-m-1 text-center\">企业名称</th>\n        <th class=\"col-m-1 text-center\">企业地址</th>\n        <th class=\"col-m-1 text-center\">所属机构</th>\n        <th class=\"col-m-1 text-center\" ng-if=\"vm.access[\'enterprise.list.role_show\']\">主理</th>\n        <th class=\"col-m-2 text-center\" ng-if=\"vm.access[\'enterprise.list.role_show\']\">协理</th>\n        <th class=\"col-m-1 text-center\">企业状态</th>\n        <th class=\"col-m-1 text-center\">分配状态</th>\n        <th class=\"col-m-1 text-center\">操作</th>\n      </tr>\n      <tr ng-repeat=\"item in vm.list\">\n        <td>{{item.name}}</td>\n        <td>{{item.address}}</td>\n        <td>{{item.bank.name}}</td>\n        <td ng-if=\"vm.access[\'enterprise.list.role_show\']\">{{item.role_a.true_name}}</td>\n        <td ng-if=\"vm.access[\'enterprise.list.role_show\']\">{{item.role_b.true_name}}</td>\n        <td>{{item.state | filterValue: vm.enterpriseStateList}}</td>\n        <td>{{item.distribute_state | filterDistributeState}}</td>\n        <td>\n        <!-- ng-if=\"vm.profile.role == \'ROLE_BRANCH_PRESIDENT\'\" -->\n         <!-- ng-if=\"vm.profile.role == \'ROLE_END_PRESIDENT\'\" -->\n          <a href=\"javascript:void(0)\" ng-click=\"vm.assignBranch(item)\" ng-if=\"vm.access[\'enterprise.assign.branch\']\">分配机构</a>\n          <a href=\"javascript:void(0)\" ng-click=\"vm.assign(item)\" ng-if=\"vm.access[\'enterprise.assign.role\']\">分配客户经理</a>\n          <a ui-sref=\"enterprise.detail({id: item.id})\">查看详情</a>\n          <!-- <a href=\"javascript:void(0)\" ng-click=\"vm.del(item)\">删除</a>\n          <a href=\"javascript:void(0)\" ng-click=\"vm.frost(item)\">冻结</a> -->\n        </td>\n      </tr>\n    </table>\n  </div>\n\n  <mc-pagination total-items=\"vm.pagination.count\" items-per-page=\"vm.pagination.pageSize\" current-page=\"vm.pagination.page\" page-change=\"vm.pageChanged()\"></mc-pagination>\n\n</section>\n");
  $templateCache.put("modules/filter/blacklist/template.html", "<section class=\"content-header\">\n  <button type=\"button\" class=\"btn btn-success pull-right m-l-sm\" style=\"position: relative; z-index: 2;\"\n          ng-click=\"vm.add()\"><i class=\"icon-Plus\"></i> 添加\n  </button>\n\n  <div class=\"options\">\n    <div class=\"option-item option-time\">\n      <ul class=\"clearfix\">\n        <li>\n          <div class=\"input-group search-box\">\n            <input ng-model=\"vm.filters.name\" type=\"text\" placeholder=\"请输公司名查询\" class=\"form-control\"\n                    code=\"13\" key-event=\"vm.reSearch();\">\n            <span class=\"input-group-btn\">\n              <button ng-click=\"vm.reSearch()\" class=\"btn btn-default search\" type=\"button\"><i class=\"icon-search\"></i></button>\n            </span>\n          </div>\n        </li>\n      </ul>\n    </div>\n</section>\n\n<section class=\"content body-content body-content-compact block-ui block-ui-message-custom\" block-ui=\"main\">\n  <empty-tip ng-if=\"vm.list.length === 0\"></empty-tip>\n\n  <div class=\"panel\" ng-if=\"vm.list.length > 0\">\n    <table class=\"table table-striped text-center\">\n      <tr>\n        <th class=\"col-m-3 text-center\">公司名称</th>\n        <th class=\"col-m-3 text-center\">信息来源</th>\n        <th class=\"col-m-4 text-center\">备注</th>\n        <th class=\"col-m-2 text-center\">操作</th>\n      </tr>\n      <tr ng-repeat=\"item in vm.list\">\n        <td>{{item.name}}</td>\n        <td>{{item.source}}</td>\n        <td>{{item.note}}</td>\n        <!-- <td>\n          <span class=\"text-success\" ng-if=\"item.state==1\">正常</span>\n          <span class=\"text-danger\" ng-if=\"item.state==3\">已删除</span>\n        </td> -->\n        <td>\n          <a href=\"javascript:void(0)\" class=\"text-danger\" ng-click=\"vm.del(item)\">删除</a>\n        </td>\n      </tr>\n    </table>\n  </div>\n\n  <mc-pagination total-items=\"vm.pagination.count\" items-per-page=\"vm.pagination.pageSize\" current-page=\"vm.pagination.page\" page-change=\"vm.pageChanged()\"></mc-pagination>\n\n</section>\n\n");
  $templateCache.put("modules/filter/condition/index.html", "<section class=\"content-header clearfix\">\n  <h4 class=\"title\">\n    设置准入条件\n  </h4>\n  <!-- <a href=\"javascript:void(0)\" class=\"btn btn-default pull-right\" ng-click=\"$root.back();\">返回</a> -->\n</section>\n<section class=\"content body-content block-ui block-ui-message-custom message-detail p-m\" block-ui=\"main\">\n	<form class=\"form-horizontal\" name=\"vm.Form\">\n    <!-- <div class=\"form-group clearfix\">\n      <label for=\"noteInput\" class=\"col-sm-1 control-label\">标题：</label>\n      <div class=\"col-sm-5\">\n        <input type=\"text\" class=\"form-control\" ng-model=\"vm.inputInfo.title\" placeholder=\"请输入\"\n          validator=\"required\">\n      </div>\n    </div>\n    <div class=\"form-group clearfix\">\n	    <div class=\"clearfix\">\n	      <label for=\"noteInput\" class=\"col-sm-1 control-label\">内容：</label>\n      </div>\n    	<div class=\"col-sm-6\">\n				<mdeditor default-text=\"vm.defaultContent\" text=\"vm.inputInfo.content\"></mdeditor>\n				<input type=\"hidden\" ng-model=\"vm.inputInfo.content\" validator=\"required\" />\n			</div>\n			<div class=\"col-sm-6\">\n				<h5>内容预览</h5>\n				<p ng-bind-html=\"vm.html\" style=\"background: #fff; height: 306px; overflow: auto; border: 1px solid #ddd; padding: 5px;\"></p>\n			</div>\n    </div> -->\n    <div class=\"panel text-center\">\n      \n      <div class=\"form-group clearfix\">\n        <div class=\"col-sm-1 text-center\">分组号</div>\n        <div class=\"col-sm-11\">\n          <div class=\"col-sm-4\">项目</div>\n          <div class=\"col-sm-1\">类型</div>\n          <div class=\"col-sm-1\">条件</div>\n          <div class=\"col-sm-4\">值</div>\n          <div class=\"col-sm-2\">操作</div>\n        </div>\n      </div>\n      <div class=\"form-group clearfix\" ng-repeat=\"group in vm.list\">\n        <div class=\"col-sm-1\">{{$index + 1}}</div>\n        <div class=\"col-sm-11\">\n          <div class=\"form-group clearfix\" ng-repeat=\"item in group.list\">\n            <div class=\"col-sm-4\"><input type=\"text\" class=\"form-control\" ng-model=\"item.title\" placeholder=\"请输入名称\"\n            validator=\"required\"></div>\n            <div class=\"col-sm-1\">\n              <select class=\"form-control c-select\" ng-model=\"item.type\" ng-options=\"c.value as c.name for c in vm.typeList\" validator=\"required\">\n              </select>\n            </div>\n            <div class=\"col-sm-1\">\n              <select class=\"form-control c-select\" ng-model=\"item.condition\" ng-options=\"c.value as c.name for c in vm.conditionList[item.type]\" validator=\"required\">\n              </select>\n            </div>\n            <div class=\"col-sm-4\"><input type=\"text\" class=\"form-control\" ng-model=\"item.value\" placeholder=\"请输入值\"\n            validator=\"notNull\"></div>\n            <div class=\"col-sm-2\">\n              <a href=\"javascript:void(0);\" class=\"text-danger\" ng-click=\"vm.delItem(group, $index)\">删除</a>\n            </div>\n          </div>\n          <div class=\"form-group clearfix\">\n              <label class=\"control-label pull-left\">分组条件关系设置：</label>\n              <div class=\"col-sm-3\">\n                <select class=\"form-control c-select\" ng-model=\"group.condition\" ng-options=\"c.value as c.name for c in vm.groupCondition\" validator=\"required\">\n                </select>\n              </div>\n          </div>\n          <div class=\"m-t-md m-b-md m-l-xl text-left\">\n            <button class=\"btn btn-sm btn-default\" ng-click=\"vm.addItem(group)\">组内添加</button>\n            <button class=\"btn btn-sm btn-danger\" ng-click=\"vm.delGroup($index)\">删除组</button>\n          </div>\n        </div>\n      </div>\n    </div>\n    <div class=\"m-l-xl m-t-sm text-left\">\n      <button class=\"btn btn-default\" ng-click=\"vm.addGroup();\">添加组</button>\n    </div>\n    \n  </form>\n  <div class=\"modal-footer\">\n    <button type=\"button\" class=\"btn btn-success btn-sm\" ng-click=\"vm.submit(vm.Form)\"> 保存</button>\n  </div>\n</section>");
  $templateCache.put("modules/information/list/index.html", "<section class=\"content-header\">\n  <div class=\"options\">\n    <div class=\"option-item option-time\">\n      <ul class=\"clearfix\">\n        <li>\n          <div class=\"input-group search-box\">\n            <input ng-model=\"vm.filters.keyword\" type=\"text\" placeholder=\"请输查询\" class=\"form-control\"\n                    code=\"13\" key-event=\"vm.reSearch();\">\n            <span class=\"input-group-btn\">\n              <button ng-click=\"vm.reSearch()\" class=\"btn btn-default search\" type=\"button\"><i class=\"icon-search\"></i></button>\n            </span>\n          </div>\n        </li>\n      </ul>\n    </div>\n    <!-- <div class=\"option-item large\">\n      <span class=\"item-title text-right\">性别：</span>\n      <ul class=\"clearfix\">\n            <li>\n                <a href=\"javascript:;\" class=\"btn\" ng-class=\"{\'btn-default\': vm.filters.gender, \'btn-toggle\': !vm.filters.gender, \'active\': !vm.filters.gender}\" ng-click=\"vm.switch(\'gender\')\">\n                    全部\n                </a>\n            </li>\n            <li ng-repeat=\"item in vm.genderList\">\n                <a href=\"javascript:;\" class=\"btn\" ng-class=\"{\'btn-default\': vm.filters.gender !== item.value, \'btn-toggle\': vm.filters.gender == item.value, \'active\': vm.filters.gender == item.value}\" ng-click=\"vm.switch(\'gender\', item.value)\">\n                    {{ item.name }}\n                </a>\n            </li>\n        </ul>\n    </div> -->\n</section>\n\n<section class=\"content body-content body-content-compact block-ui block-ui-message-custom\" block-ui=\"main\">\n  <empty-tip ng-if=\"vm.list.length === 0\"></empty-tip>\n\n  <div class=\"panel\">\n    <table class=\"table table-striped text-center\">\n      <tr>\n        <th class=\"col-m-1 text-center\">企业名称</th>\n        <th class=\"col-m-1 text-center\">企业地址</th>\n        <th class=\"col-m-1 text-center\">支行</th>\n        <th class=\"col-m-1 text-center\">主理</th>\n        <th class=\"col-m-2 text-center\">协理</th>\n        <th class=\"col-m-1 text-center\">操作</th>\n      </tr>\n      <tr ng-repeat=\"item in vm.list\">\n        <td>{{item.company}}</td>\n        <td>{{item.company_address}}</td>\n        <td>{{item.company_address}}</td>\n        <td>{{item.manage_a.name}}<!-- <button class=\"btn btn-info m-l-sm\" ng-click=\"vm.changeManage(\'manage_a\', item)\">{{item.manage_a && item.manage_a.userid? \'变更\': \'分配\'}}</button> --></td>\n        <td>{{item.manage_b.name}}<!-- <button class=\"btn btn-info m-l-sm\" ng-click=\"vm.changeManage(\'manage_b\', item)\">{{item.manage_b && item.manage_b.userid? \'变更\': \'分配\'}}</button> --></td>\n        <td>\n          <a href=\"javascript:void(0)\" ng-click=\"vm.assignBranch(item)\">分配支行</a>\n          <a href=\"javascript:void(0)\" ng-click=\"vm.assign(item)\">分配</a>\n        </td>\n      </tr>\n    </table>\n  </div>\n\n  <mc-pagination total-items=\"vm.pagination.count\" items-per-page=\"vm.pagination.pageSize\" current-page=\"vm.pagination.page\" page-change=\"vm.pageChanged()\"></mc-pagination>\n\n</section>\n");
  $templateCache.put("modules/information/setting/index.html", "<section class=\"content-header\">\n  <h4 class=\"title\">采集信息设置</h4>\n</section>\n\n<section class=\"content body-content block-ui block-ui-message-custom\" block-ui=\"main\">\n  <form name=\"Form\" class=\"form-horizontal\">\n\n    <div class=\"form-group\" ng-repeat=\"project in vm.collectList\">\n      <div class=\"col-sm-1\">\n        <label class=\"control-label\">采集项目</label>\n        <p>\n          <label class=\"mc-radio\">\n            <input type=\"checkbox\" name=\"checkbox1\" ng-model=\"project.isRequired\">\n            <i class=\"icon-check\"></i>\n            必填\n          </label>\n        </p>\n      </div>\n      <div class=\"col-sm-2\">\n        <input type=\"text\" class=\"form-control\" ng-model=\"project.name\" validator=\"required\">\n      </div>\n      <div class=\"col-sm-6\">\n        <div class=\"clearfix\">\n          <label class=\"col-sm-2 control-label\">采集内容</label>\n        </div>\n        <div class=\"form-group\" ng-repeat=\"item in project.content\">\n          <div class=\"clearfix m-b-sm\">\n            <label class=\"col-sm-1 control-label\">名称</label>\n            <div class=\"col-sm-4\">\n              <input type=\"text\" class=\"form-control\" ng-model=\"item.title\" validator=\"required\">\n            </div>\n            <label class=\"col-sm-1 control-label\">类型</label>\n            <div class=\"col-sm-4\">\n              <select class=\"form-control c-select\" ng-model=\"item.type\" \n                ng-options=\"type.type as type.title for type in vm.typeList\" validator=\"required\" \n                ng-change=\"vm.typeChange(item)\"\n                uib-tooltip=\"请在下方填写选项内容\" tooltip-placement=\"top\" tooltip-trigger=\"none\" \n                tooltip-enable=\"item.needData\" tooltip-is-open=\"item.needData\">\n              </select>\n            </div>\n            <div class=\"col-sm-2 control-label text-center pull-right\">\n              <a href=\"javascript:void(0);\" class=\"text-danger\" ng-click=\"vm.deleteItem(project, $index)\">删除</a>\n            </div>\n          </div>\n          <div class=\"clearfix m-b-sm\">\n            <label class=\"col-sm-1 control-label\">描述</label>\n            <div class=\"col-sm-4\">\n              <input type=\"text\" class=\"form-control\" ng-model=\"item.description\">\n            </div>\n            <label class=\"mc-radio col-sm-5\">\n              <input type=\"checkbox\" name=\"checkbox1\" ng-model=\"item.isRequired\">\n              <i class=\"icon-check\"></i>\n              必填\n            </label>\n          </div>\n          <div class=\"clearfix\" ng-if=\"item.needData\">\n            <p class=\"text-tips\">下拉框/多选框必须填写选项内容</p>\n            <div class=\"clearfix m-b-sm\" ng-repeat=\"term in item.dataSource track by $index\">\n              <label class=\"col-sm-3 control-label\">选项{{$index + 1}}</label>\n              <div class=\"col-sm-6\">\n                <input type=\"text\" class=\"form-control\" ng-model=\"term.name\" validator=\"required\">\n              </div>\n              <div class=\"col-sm-2 text-center\">\n                <a href=\"javascript:void(0);\" class=\"btn btn-link\" ng-if=\"$index == 0\" ng-click=\"vm.addData(item)\">添加</a>\n                <a href=\"javascript:void(0);\" class=\"btn btn-link text-danger\" ng-if=\"$index > 0\" ng-click=\"vm.deleteData(item, $index)\">删除</a>\n              </div>\n            </div>\n            <!-- <label class=\"col-sm-3 control-label \">选项1</label>\n            <div class=\"col-sm-6 m-b-sm\">\n              <input type=\"text\" class=\"form-control\" ng-model=\"vm.inputInfo.name\" validator=\"required\">\n            </div>\n            <div class=\"col-sm-2 text-center m-b-sm\">\n              <a href=\"javascript:void(0);\" class=\"btn btn-link text-danger\">删除</a>\n            </div>\n            <label class=\"col-sm-3 control-label m-b-sm\">选项1</label>\n            <div class=\"col-sm-6 m-b-sm\">\n              <input type=\"text\" class=\"form-control\" ng-model=\"vm.inputInfo.name\" validator=\"required\">\n            </div>\n            <div class=\"col-sm-2 text-center m-b-sm\">\n              <a href=\"javascript:void(0);\" class=\"btn btn-link text-danger\">删除</a>\n            </div> -->\n          </div>\n        </div>\n\n        <div class=\"m-l-xl m-t-xs\">\n          <a href=\"javascript:void(0);\" class=\"btn btn-sm btn-default\" ng-click=\"vm.addItem(project)\">添加字段</a>\n        </div>\n      </div>\n      <div class=\"col-sm-1\">\n        <button class=\"btn btn-danger\" ng-click=\"vm.deleteProject($index)\">删除项目</button>\n      </div>\n    </div>\n  </form>\n  <div class=\"m-l-xl m-b-md\">\n    <button class=\"btn btn-default\" ng-click=\"vm.addProject()\">添加项目</button>\n  </div>\n  <div class=\"m-l-xl m-b-md text-center\">\n    <button type=\"button\" class=\"btn btn-success btn-sm\" ng-click=\"vm.submit(Form)\">保存</button>\n  </div>\n</section>\n");
  $templateCache.put("modules/investment/list/index.html", "<section class=\"content-header\">\n    <button type=\"button\" class=\"btn btn-success pull-right m-l-sm\" style=\"position: relative; z-index: 2;\"\n            ng-click=\"vm.addCompany()\"><i class=\"icon-Plus\"></i> 添加\n    </button>\n\n    <button type=\"button\" class=\"btn btn-info pull-right\" style=\"position: relative; z-index: 2;\" data-toggle=\"modal\" data-target=\".pop-player\"\n            ng-click=\"$emit(\'batchUploadVc\');\"><i class=\"icon-Plus\"></i> 批量录入\n    </button>\n    <div>\n      <mc-batch-upload-vc></mc-batch-upload-vc>\n    </div>\n\n  <div class=\"options\">\n    <div class=\"option-item option-time\">\n      <ul class=\"clearfix\">\n        <li>\n          <div class=\"input-group search-box\">\n            <input ng-model=\"vm.filters.name\" type=\"text\" placeholder=\"请输查询\" class=\"form-control\"\n                    code=\"13\" key-event=\"vm.reSearch();\">\n            <span class=\"input-group-btn\">\n              <button ng-click=\"vm.reSearch()\" class=\"btn btn-default search\" type=\"button\"><i class=\"icon-search\"></i></button>\n            </span>\n          </div>\n        </li>\n      </ul>\n    </div>\n    <!-- <div class=\"option-item large\">\n      <span class=\"item-title text-right\">所属机构：</span>\n      <ul class=\"clearfix\">\n            <li>\n                <select name=\"\" id=\"\" class=\"form-control c-select\" \n                  ng-model=\"vm.filters.agency\" ng-options=\"item for item in vm.agencyList\" ng-change=\"vm.changeAgency()\">\n                  <option value=\"\">全部</option>\n                </select>\n            </li>\n        </ul>\n    </div> -->\n</section>\n\n<section class=\"content body-content body-content-compact block-ui block-ui-message-custom\" block-ui=\"main\">\n  <empty-tip ng-if=\"vm.list.length === 0\"></empty-tip>\n\n  <div class=\"panel\" ng-if=\"vm.list.length > 0\">\n    <table class=\"table table-striped text-center\">\n      <tr>\n        <th class=\"col-m-5 text-center\">公司名称</th>\n        <th class=\"col-m-5 text-center\">公司简称</th>\n        <th class=\"col-m-1 text-center\">状态</th>\n        <!-- <th class=\"col-m-2 text-center\">备注</th> -->\n        <th class=\"col-m-2 text-center\">操作</th>\n      </tr>\n      <tr ng-repeat=\"item in vm.list\">\n        <td>{{item.name}}</td>\n        <td>{{item.vc_name}}</td>\n        <!-- <td>{{item.agency}}</td> -->\n        <td>\n          <span class=\"text-success\" ng-if=\"item.state==1\">正常</span>\n          <span class=\"text-danger\" ng-if=\"item.state==3\">已删除</span>\n        </td>\n        <td>\n          <a href=\"javascript:void(0)\" class=\"text-danger\" ng-click=\"vm.delete(item)\" ng-if=\"item.state==1\">删除</a>\n          <a href=\"javascript:void(0)\" ng-click=\"vm.deleteCancel(item)\" ng-if=\"item.state==3\">取消删除</a>\n        </td>\n      </tr>\n    </table>\n  </div>\n\n  <mc-pagination total-items=\"vm.pagination.count\" items-per-page=\"vm.pagination.pageSize\" current-page=\"vm.pagination.page\" page-change=\"vm.pageChanged()\"></mc-pagination>\n\n</section>\n\n");
  $templateCache.put("modules/loan/decision/index.html", "<section class=\"content-header\">\n  <h4 class=\"title\">贷款辅助决策信息修正</h4>\n</section>\n\n<section class=\"content body-content block-ui block-ui-message-custom\" block-ui=\"main\">\n  <form name=\"Form\" class=\"form-horizontal\">\n\n    <div class=\"form-group\" ng-repeat=\"project in vm.loanList\">\n      <div class=\"col-sm-2\" style=\"width:10%\">\n        <label class=\"control-label\">条件名称：</label>\n      </div>\n      <div class=\"col-sm-2\">\n        <label class=\"control-label\">{{project.title}}</label>\n      </div>\n      <div class=\"col-sm-1\">\n        <label class=\"control-label\">字段值：</label>\n      </div>\n      <div class=\"col-sm-3\">\n          <input type=\"text\" class=\"form-control\" ng-model=\"project.value\">\n      </div>\n      <div class=\"col-sm-1\">\n        <label class=\"control-label\">分数：</label>\n      </div>\n      <div class=\"col-sm-1\">\n        <label class=\"control-label\">{{project.point}}</label>\n      </div>\n    </div>\n    <div class=\"form-group\">\n      <div class=\"col-sm-1\">\n        <label class=\"control-label\">总分：</label>\n      </div>\n      <div class=\"col-sm-2\">\n        <label class=\"control-label\">{{vm.getTotal()}}</label>\n      </div>\n    </div>\n  </form>\n  <div class=\"m-l-xl m-b-md\">\n    <button class=\"btn btn-primary\" ng-click=\"vm.reCount(Form)\">重新计算</button>\n    <button type=\"button\" class=\"btn btn-success btn-sm\" ng-click=\"vm.submit(Form)\">保存</button>\n  </div>\n</section>\n");
  $templateCache.put("modules/loan/list/index.html", "<section class=\"content-header\">\n  <div class=\"options\">\n    <div class=\"option-item option-time\">\n      <ul class=\"clearfix\">\n        <li>\n          <div class=\"input-group search-box\">\n            <input ng-model=\"vm.filters.name\" type=\"text\" placeholder=\"请输查询\" class=\"form-control\"\n                    code=\"13\" key-event=\"vm.reSearch();\">\n            <span class=\"input-group-btn\">\n              <button ng-click=\"vm.reSearch()\" class=\"btn btn-default search\" type=\"button\"><i class=\"icon-search\"></i></button>\n            </span>\n          </div>\n        </li>\n      </ul>\n    </div>\n    <!-- \n    <div class=\"option-item large\">\n      <span class=\"item-title text-right\">主理状态：</span>\n      <ul class=\"clearfix\">\n          <li>\n              <a href=\"javascript:;\" class=\"btn\" ng-class=\"{\'btn-default\': vm.filters.gender, \'btn-toggle\': !vm.filters.gender, \'active\': !vm.filters.gender}\" ng-click=\"vm.switch(\'gender\')\">\n                  全部\n              </a>\n          </li>\n          <li ng-repeat=\"item in vm.roleMainStatus\">\n              <a href=\"javascript:;\" class=\"btn\" ng-class=\"{\'btn-default\': vm.filters.role_a_disable != item.value, \'btn-toggle\': vm.filters.role_a_disable == item.value, \'active\': vm.filters.role_a_disable == item.value}\" ng-click=\"vm.switch(\'role_a_disable\', item.value)\">\n                  {{ item.label }}\n              </a>\n          </li>\n      </ul>\n    </div>\n    <div class=\"option-item large\">\n      <span class=\"item-title text-right\">企业状态：</span>\n      <ul class=\"clearfix\">\n          <li>\n              <a href=\"javascript:;\" class=\"btn\" ng-class=\"{\'btn-default\': vm.filters.state !== undefined, \'btn-toggle\': vm.filters.state === undefined, \'active\': vm.filters.state === undefined}\" ng-click=\"vm.switch(\'state\')\">\n                  全部\n              </a>\n          </li>\n          <li ng-repeat=\"item in vm.enterpriseStateList\">\n              <a href=\"javascript:;\" class=\"btn\" ng-class=\"{\'btn-default\': vm.filters.state != item.value, \'btn-toggle\': vm.filters.state == item.value, \'active\': vm.filters.state == item.value}\" ng-click=\"vm.switch(\'state\', item.value)\">\n                  {{ item.label }}\n              </a>\n          </li>\n      </ul>\n    </div>\n    -->\n</section>\n\n<section class=\"content body-content body-content-compact block-ui block-ui-message-custom\" block-ui=\"main\">\n  <empty-tip ng-if=\"vm.list.length === 0\"></empty-tip>\n\n  <div class=\"panel\" ng-if=\"vm.list.length > 0\">\n    <table class=\"table table-striped text-center\">\n      <tr>\n        <th class=\"col-m-1 text-center\">企业名称</th>\n        <th class=\"col-m-1 text-center\">企业地址</th>\n        <th class=\"col-m-1 text-center\">所属机构</th>\n        <th class=\"col-m-1 text-center\">评分</th>\n        <th class=\"col-m-1 text-center\">企业状态</th>\n        <th class=\"col-m-1 text-center\">操作</th>\n      </tr>\n      <tr ng-repeat=\"item in vm.list\">\n        <td>{{item.name}}</td>\n        <td>{{item.address}}</td>\n        <td>{{item.bank.name}}</td>\n        <td>{{item.loan_points}}</td>\n        <td>{{item.state | filterValue: vm.enterpriseStateList}}</td>\n        <td>\n          <a ui-sref=\"loan.decision({id: item.id})\">修正企业贷款信息</a>\n        </td>\n      </tr>\n    </table>\n  </div>\n\n  <mc-pagination total-items=\"vm.pagination.count\" items-per-page=\"vm.pagination.pageSize\" current-page=\"vm.pagination.page\" page-change=\"vm.pageChanged()\"></mc-pagination>\n\n</section>\n");
  $templateCache.put("modules/loan/setting/index.html", "<section class=\"content-header\">\n  <h4 class=\"title\">贷款决策条件设置</h4>\n</section>\n\n<section class=\"content body-content block-ui block-ui-message-custom\" block-ui=\"main\">\n  <form name=\"Form\" class=\"form-horizontal\">\n    <div class=\"form-group\" ng-repeat-start=\"loan in vm.loanList\">\n      <div class=\"col-sm-2\">\n        <label class=\"control-label\">条件分类名称</label>\n      </div>\n      <div class=\"col-sm-2\">\n        <input type=\"text\" class=\"form-control\" ng-model=\"loan.title\" validator=\"required\">\n      </div>\n      <div class=\"col-sm-2\">\n        <label class=\"control-label\">分类总分</label>\n      </div>\n      <div class=\"col-sm-2\">\n        <input type=\"text\" class=\"form-control\" ng-model=\"loan.point\" validator=\"required\">\n      </div>\n      <div class=\"col-sm-2 text-right\">\n          <a data-target=\"#project{{$index}}\" data-toggle=\"collapse\" class=\"btn btn-link\" ng-click=\"toggle=!toggle\"><span ng-hide=\"toggle\">编辑 <i class=\"icon-arrow-down small\"></i></span><span ng-show=\"toggle\">收起 <i class=\"icon-arrow-up small\"></i></span></i></a>\n      </div>\n    </div>\n    <div id=\"project{{$index}}\" class=\"collapse\" ng-repeat-end>\n      <div class=\"form-group\" ng-repeat=\"project in loan.condition_list\">\n        <div class=\"col-sm-1\">\n          <label class=\"control-label\">条件名称</label>\n        </div>\n        <div class=\"col-sm-2\">\n          <input type=\"text\" class=\"form-control\" ng-model=\"project.title\" validator=\"required\">\n        </div>\n        <div class=\"col-sm-7\">\n          <div class=\"clearfix\">\n            <label class=\"col-sm-2 control-label\">条件类型</label>\n            <div class=\"col-sm-2\">\n              <div class=\"btn-group\">\n                <button type=\"button\" class=\"btn btn-default dropdown-toggle\" data-toggle=\"dropdown\" aria-haspopup=\"true\" aria-expanded=\"false\">\n                  {{vm.typeList[project.option_type]}}\n                  <span class=\"caret\"></span>\n                </button>\n                <ul class=\"dropdown-menu\" style=\"min-width: 60px\">\n                  <li><a ng-click=\"project.option_type=\'integer\';vm.typeChange(project)\" href=\"javascript:void(0)\">数值</a></li>\n                  <li><a ng-click=\"project.option_type=\'string\';vm.typeChange(project)\" href=\"javascript:void(0)\">文本</a></li>\n                </ul>\n              </div>\n            </div>\n            <div class=\"col-sm-2\">\n              <label class=\"control-label\">默认分数</label>\n            </div>\n            <div class=\"col-sm-2\">\n              <input type=\"text\" class=\"form-control\" ng-model=\"project.default_point\" validator=\"required\">\n            </div>\n            <!-- <div class=\"col-sm-2 text-center pull-right control-label\">\n              <a href=\"javascript:void(0);\" ng-click=\"vm.addItem(project)\">添加字段</a>\n            </div> -->\n          </div>\n          <div class=\"form-group\" ng-repeat=\"item in project.options\" style=\"margin:0px;\">\n            <div class=\"clearfix m-b-sm\">\n              <label class=\"col-sm-1 control-label\" style=\"width: 10%\">符号</label>\n              <div class=\"col-sm-2\">\n                <div class=\"btn-group\">\n                  <button type=\"button\" class=\"btn btn-default dropdown-toggle\" data-toggle=\"dropdown\" aria-haspopup=\"true\" aria-expanded=\"false\">\n                    {{vm.conditionList[project.option_type][item.condition]}}\n                    <span class=\"caret\"></span>\n                  </button>\n                  <ul class=\"dropdown-menu\" style=\"min-width: 60px\">\n                    <li ng-repeat=\"(id, condition) in vm.conditionList[project.option_type]\"><a ng-click=\"item.condition=id;\" href=\"javascript:void(0)\">{{condition}}</a></li>\n                  </ul>\n                </div>\n              </div>\n              <label class=\"col-sm-1 control-label\" style=\"width: 13%\">字段值</label>\n              <div class=\"col-sm-3\">\n                <input type=\"text\" class=\"form-control\" ng-model=\"item.value\" validator=\"required\">\n              </div>\n              <label class=\"col-sm-1 control-label\" style=\"width: 10%\">分数</label>\n              <div class=\"col-sm-2\" style=\"width: 12%\">\n                <input type=\"text\" class=\"form-control\" ng-model=\"item.point\" validator=\"required\">\n              </div>\n              <div class=\"col-sm-1 control-label pull-right\" style=\"width: 10%\">\n                <a href=\"javascript:void(0);\" class=\"text-danger\" ng-click=\"vm.deleteItem(project, $index)\">删除</a>\n              </div>\n            </div>\n          </div>\n          <div class=\"form-group\">\n            <div class=\"col-sm-4 text-center pull-right control-label\">\n              <a href=\"javascript:void(0);\" ng-click=\"vm.addItem(project)\">添加条件选项</a>\n            </div>\n          </div>\n        </div>\n        <div class=\"col-sm-1\">\n          <button class=\"btn btn-danger\" ng-click=\"vm.deleteProject($index)\">删除条件</button>\n        </div>\n      </div>\n      <div class=\"form-group\">\n        <button class=\"btn btn-default\" ng-click=\"vm.addProject(loan)\">添加条件</button>\n      </div>\n    </div>\n    <div class=\"form-group\">\n      <button class=\"btn btn-default\" ng-click=\"vm.addCondition()\">添加分类</button>\n    </div>\n  </form>\n  <div class=\"m-l-xl m-b-md\">\n    <button type=\"button\" class=\"btn btn-success btn-sm\" ng-click=\"vm.submit(Form)\">保存</button>\n  </div>\n</section>\n");
  $templateCache.put("modules/log/list/index.html", "<section class=\"content-header\">\n  <div class=\"options\">\n    <div class=\"option-item option-time\">\n      <ul class=\"clearfix\">\n        <li>\n          <div class=\"input-group search-box\">\n            <input ng-model=\"vm.filters.module\" type=\"text\" placeholder=\"请输模块名查询\" class=\"form-control\"\n                    code=\"13\" key-event=\"vm.reSearch();\">\n            <span class=\"input-group-btn\">\n              <button ng-click=\"vm.reSearch()\" class=\"btn btn-default search\" type=\"button\"><i class=\"icon-search\"></i></button>\n            </span>\n          </div>\n        </li>\n        <li>\n          <mc-datepicker id=\"startDatePicker\" start-date=\"vm.start_date\" max-date=\"vm.startTimeMaxLimit\" time-source=\"\" ctrl-alias=\"vm\" min-view=\"\'minutes\'\" change-time=\"vm.changeTime(\'start\')\" change-by=\"close\"></mc-datepicker> --\n          <mc-datepicker id=\"endDatePicker\" start-date=\"vm.end_date\" min-date=\"vm.endTimeMinLimit\" max-date=\"vm.endTimeMaxLimit\" time-source=\"\" ctrl-alias=\"vm\" min-view=\"\'minutes\'\" change-time=\"vm.changeTime(\'end\')\" change-by=\"close\"></mc-datepicker>\n        </li>\n      </ul>\n    </div>\n</section>\n\n<section class=\"content body-content body-content-compact block-ui block-ui-message-custom\" block-ui=\"main\">\n  <empty-tip ng-if=\"vm.list.length === 0\"></empty-tip>\n\n  <div class=\"panel\">\n    <table class=\"table table-striped text-center\">\n      <tr>\n        <th class=\"col-m-1 text-center\">时间</th>\n        <th class=\"col-m-1 text-center\">模块</th>\n        <th class=\"col-m-1 text-center\">操作</th>\n        <th class=\"col-m-1 text-center\">操作参数</th>\n        <th class=\"col-m-1 text-center\">操作人</th>\n      </tr>\n      <tr ng-repeat=\"item in vm.list\">\n        <td>{{item.created}}</td>\n        <td>{{item.module}}</td>\n        <td>{{item.action}}</td>\n        <td>{{item.data}}</td>\n        <td>{{item.operator}}</td>\n      </tr>\n    </table>\n  </div>\n\n  <mc-pagination total-items=\"vm.pagination.count\" items-per-page=\"vm.pagination.pageSize\" current-page=\"vm.pagination.page\" page-change=\"vm.pageChanged()\"></mc-pagination>\n\n</section>\n");
  $templateCache.put("modules/message/detail/index.html", "<section class=\"content-header clearfix\">\n  <h4 class=\"title pull-left\">\n    {{vm.info.title}}\n  </h4>\n  <a href=\"javascript:void(0)\" class=\"btn btn-default pull-right\" ng-click=\"$root.back();\">返回</a>\n  <button type=\"button\" class=\"btn btn-danger pull-right m-r\" ng-click=\"vm.delete()\">删除</button>\n</section>\n<section class=\"content body-content block-ui block-ui-message-custom message-detail p-m\" block-ui=\"main\">\n<h5>内容：</h5>\n<p>{{vm.info.content}}</p>\n<div ng-if=\"vm.info.link\">\n  <a href=\"{{vm.info.link}}\">点此查看</a>\n</div>\n</section>");
  $templateCache.put("modules/message/list/template.html", "<section class=\"content-header\">\n  <h4 class=\"title\">消息列表</h4>\n</section>\n\n<section class=\"content body-content body-content-compact block-ui block-ui-message-custom message-list\" block-ui=\"main\">\n  <empty-tip ng-if=\"vm.list.length === 0\"></empty-tip>\n\n  <div class=\"panel\" ng-if=\"vm.list.length > 0\">\n    <table class=\"table table-striped text-center\">\n      <tr>\n        <th class=\"col-m-1 text-center\">\n          <!-- <label class=\"mc-radio\">\n            <input type=\"checkbox\" ng-model=\"vm.selectAll\" ng-change=\"vm.toggleAll()\" />\n            <i class=\"icon-check\"></i>\n          </label> -->\n        </th>\n        <th class=\"col-m-10 text-left\">标题</th>\n        <th class=\"col-m-1 text-center\"></th>\n      </tr>\n      <tr ng-repeat=\"item in vm.list\">\n        <td>\n          <!-- <label class=\"mc-radio\">\n            <input type=\"checkbox\" ng-model=\"item.checked\" ng-change=\"vm.checkAll()\" />\n            <i class=\"icon-check\"></i>\n          </label> -->\n        </td>\n        <td class=\"text-left\">\n          <a ui-sref=\"message.detail({id: item.id})\" style=\"color: #323232;\">\n            <strong ng-if=\"item.state === 0\">{{item.title}}</strong>\n            <span ng-if=\"item.state !== 0\">{{item.title}}</span>\n          </a>\n        </td>\n        <td><a ui-sref=\"message.detail({id: item.id})\">查看<i class=\"icon-angle-right\"></i></a></td>\n      </tr>\n    </table>\n  </div>\n<!--   <div>\n    <button type=\"button\" class=\"btn btn-default\" ng-click=\"vm.markedRead()\">标记已读</button>\n    <button type=\"button\" class=\"btn btn-danger\" ng-click=\"vm.delete()\">删除</button>\n  </div> -->\n\n  <mc-pagination total-items=\"vm.pagination.count\" items-per-page=\"vm.pagination.pageSize\" current-page=\"vm.pagination.page\" page-change=\"vm.pageChanged()\"></mc-pagination>\n\n</section>\n");
  $templateCache.put("modules/person/detail/index.html", "<section class=\"content-header clearfix\">\n    <div class=\"page-header\"><h4>资料设置</h4></div>\n    <div class=\"form-horizontal\">\n        <div class=\"form-group\">\n            <label for=\"inputName\" class=\"col-sm-2 control-label\">姓名</label>\n            <div class=\"col-sm-2\">\n                <input type=\"text\" class=\"form-control\" id=\"inputName\" ng-model=\"vm.person.true_name\" placeholder=\"\">\n            </div>\n        </div>\n        <div class=\"form-group\">\n            <label for=\"inputPhone\" class=\"col-sm-2 control-label\">手机号</label>\n            <div class=\"col-sm-4\">\n                <input type=\"text\" class=\"form-control\" id=\"inputPhone\" ng-model=\"vm.person.phone\" placeholder=\"\">\n            </div>\n        </div>\n        <div class=\"form-group\">\n            <label for=\"inputPwd\" class=\"col-sm-2 control-label\">新密码</label>\n            <div class=\"col-sm-4\">\n                <input type=\"text\" class=\"form-control\" id=\"inputPwd\" ng-model=\"vm.person.new_password\" placeholder=\"\">\n            </div>\n        </div>\n        <div class=\"form-group\">\n            <label for=\"\" class=\"col-sm-2 control-label\">角色信息</label>\n            <div class=\"btn-group col-sm-2\">\n              <button type=\"button\" class=\"btn btn-default dropdown-toggle\" data-toggle=\"dropdown\" aria-haspopup=\"true\" aria-expanded=\"false\">\n                {{vm.person.role_name}}\n                <span class=\"caret\"></span>\n              </button>\n              <ul class=\"dropdown-menu\">\n                <li ng-repeat=\"role in vm.roleList\"><a ng-click=\"vm.person.role_name=role.name;vm.person.role=role.value\" href=\"javascript:void(0)\">{{role.name}}</a></li>\n              </ul>\n            </div>\n        </div>\n        <div class=\"form-group\">\n            <label for=\"\" class=\"col-sm-2 control-label\">用户状态</label>\n            <div class=\"btn-group col-sm-2\">\n              <button type=\"button\" class=\"btn btn-default dropdown-toggle\" data-toggle=\"dropdown\" aria-haspopup=\"true\" aria-expanded=\"false\">\n                {{vm.stateArr[vm.person.state]}}\n                <span class=\"caret\"></span>\n              </button>\n              <ul class=\"dropdown-menu\">\n                <li><a ng-click=\"vm.person.state=0\" href=\"javascript:void(0)\">未激活</a></li>\n                <li><a ng-click=\"vm.person.state=1\" href=\"javascript:void(0)\">正常</a></li>\n                <li><a ng-click=\"vm.person.state=2\" href=\"javascript:void(0)\">已冻结</a></li>\n                <li><a ng-click=\"vm.person.state=3\" href=\"javascript:void(0)\">已删除</a></li>\n              </ul>\n            </div>\n        </div>\n        <div class=\"form-group\">\n            <button type=\"button\" ng-click=\"vm.setUser()\" class=\"btn btn-success\">提交</button>\n        </div>\n    </div>\n\n</section>");
  $templateCache.put("modules/process/add/index.html", "<section class=\"content-header clearfix\">\n  <h4 class=\"title pull-left\">\n    {{vm.id? \'编辑\': \'添加\'}}话术\n  </h4>\n  <a href=\"javascript:void(0)\" class=\"btn btn-default pull-right\" ng-click=\"$root.back();\">返回</a>\n  <button type=\"button\" class=\"btn btn-danger pull-right m-r\" ng-click=\"vm.delete(vm.Form)\" ng-if=\"vm.id\">删除</button>\n</section>\n<section class=\"content body-content block-ui block-ui-message-custom message-detail p-m\" block-ui=\"main\">\n	<form class=\"form-horizontal\" name=\"vm.Form\">\n    <div class=\"form-group clearfix\">\n      <label for=\"noteInput\" class=\"col-sm-1 control-label\">标题：</label>\n      <div class=\"col-sm-5\">\n        <input type=\"text\" class=\"form-control\" ng-model=\"vm.inputInfo.title\" placeholder=\"请输入\"\n          validator=\"required\">\n      </div>\n    </div>\n    <div class=\"form-group clearfix\">\n	    <div class=\"clearfix\">\n	      <label for=\"noteInput\" class=\"col-sm-1 control-label\">内容：</label>\n      </div>\n    	<div class=\"col-sm-6\">\n				<mdeditor default-text=\"vm.defaultContent\" text=\"vm.inputInfo.content\"></mdeditor>\n				<input type=\"hidden\" ng-model=\"vm.inputInfo.content\" validator=\"required\" />\n			</div>\n			<div class=\"col-sm-6\">\n				<h5>内容预览</h5>\n				<p ng-bind-html=\"vm.html\" style=\"background: #fff; height: 306px; overflow: auto; border: 1px solid #ddd; padding: 5px;\"></p>\n			</div>\n    </div>\n    \n  </form>\n  <div class=\"modal-footer\">\n    <button type=\"button\" class=\"btn btn-success btn-sm\" ng-click=\"vm.submit(vm.Form)\"> 保存</button>\n  </div>\n</section>");
  $templateCache.put("modules/process/list/template.html", "<section class=\"content-header\">\n  <h4 class=\"title\">消息列表</h4>\n</section>\n\n<section class=\"content body-content body-content-compact block-ui block-ui-message-custom message-list\" block-ui=\"main\">\n  <empty-tip ng-if=\"vm.list.length === 0\"></empty-tip>\n\n  <div class=\"panel\" ng-if=\"vm.list.length > 0\">\n    <table class=\"table table-striped text-center\">\n      <tr>\n        <th class=\"col-m-1 text-center\">\n          <!-- <label class=\"mc-radio\">\n            <input type=\"checkbox\" ng-model=\"vm.selectAll\" ng-change=\"vm.toggleAll()\" />\n            <i class=\"icon-check\"></i>\n          </label> -->\n        </th>\n        <th class=\"col-m-10 text-left\">标题</th>\n        <th class=\"col-m-1 text-center\"></th>\n      </tr>\n      <tr ng-repeat=\"item in vm.list\">\n        <td>\n          <!-- <label class=\"mc-radio\">\n            <input type=\"checkbox\" ng-model=\"item.checked\" ng-change=\"vm.checkAll()\" />\n            <i class=\"icon-check\"></i>\n          </label> -->\n        </td>\n        <td class=\"text-left\">\n          <a ui-sref=\"message.detail({id: item.id})\" style=\"color: #323232;\">\n            <strong ng-if=\"item.state === 0\">{{item.title}}</strong>\n            <span ng-if=\"item.state !== 0\">{{item.title}}</span>\n          </a>\n        </td>\n        <td><a ui-sref=\"message.detail({id: item.id})\">查看<i class=\"icon-angle-right\"></i></a></td>\n      </tr>\n    </table>\n  </div>\n<!--   <div>\n    <button type=\"button\" class=\"btn btn-default\" ng-click=\"vm.markedRead()\">标记已读</button>\n    <button type=\"button\" class=\"btn btn-danger\" ng-click=\"vm.delete()\">删除</button>\n  </div> -->\n\n  <mc-pagination total-items=\"vm.pagination.count\" items-per-page=\"vm.pagination.pageSize\" current-page=\"vm.pagination.page\" page-change=\"vm.pageChanged()\"></mc-pagination>\n\n</section>\n");
  $templateCache.put("modules/process/tips/template.html", "<section class=\"content-header\">\n  <h4 class=\"title\">话术列表</h4>\n</section>\n\n<section class=\"content body-content body-content-compact block-ui block-ui-message-custom message-list\" block-ui=\"main\">\n  <empty-tip ng-if=\"vm.list.length === 0\"></empty-tip>\n\n  <div class=\"panel\" ng-if=\"vm.list.length > 0\">\n    <table class=\"table table-striped text-center\">\n      <tr>\n        <th class=\"col-m-1 text-center\">\n          <!-- <label class=\"mc-radio\">\n            <input type=\"checkbox\" ng-model=\"vm.selectAll\" ng-change=\"vm.toggleAll()\" />\n            <i class=\"icon-check\"></i>\n          </label> -->\n        </th>\n        <th class=\"col-m-10 text-left\">标题</th>\n        <th class=\"col-m-1 text-center\"></th>\n      </tr>\n      <tr ng-repeat=\"item in vm.list\">\n        <td>\n          <!-- <label class=\"mc-radio\">\n            <input type=\"checkbox\" ng-model=\"item.checked\" ng-change=\"vm.checkAll()\" />\n            <i class=\"icon-check\"></i>\n          </label> -->\n        </td>\n        <td class=\"text-left\">\n          {{item.title}}\n        </td>\n        <td><a ui-sref=\"process.add({id: item.id})\">编辑<i class=\"icon-angle-right\"></i></a></td>\n      </tr>\n    </table>\n  </div>\n<!--   <div>\n    <button type=\"button\" class=\"btn btn-default\" ng-click=\"vm.markedRead()\">标记已读</button>\n    <button type=\"button\" class=\"btn btn-danger\" ng-click=\"vm.delete()\">删除</button>\n  </div> -->\n\n  <mc-pagination total-items=\"vm.pagination.count\" items-per-page=\"vm.pagination.pageSize\" current-page=\"vm.pagination.page\" page-change=\"vm.pageChanged()\"></mc-pagination>\n\n</section>\n");
  $templateCache.put("modules/sysconfig/time/index.html", "<section class=\"content-header clearfix\">\n    <h4>刷新时间设置</h4>\n</section>\n<section class=\"content body-content\" block-ui=\"main\">\n\n    <div class=\"form-horizontal\">\n        <div class=\"form-group\">\n            <label for=\"inputName\" class=\"col-sm-2 control-label\">刷新时间</label>\n            <div class=\"col-sm-2\">\n                <input type=\"text\" class=\"form-control\" id=\"inputName\" ng-model=\"vm.keyValue\" placeholder=\"\">\n            </div>\n        </div>\n        <div class=\"form-group\">\n            <button type=\"button\" ng-click=\"vm.setConfig()\" class=\"btn btn-success\">提交</button>\n        </div>\n    </div>\n</section>");
  $templateCache.put("modules/bank/list/index.html", "<section class=\"content-header\">\n  <button type=\"button\" class=\"btn btn-success pull-right m-l-sm\" style=\"position: relative; z-index: 2;\"\n    ng-click=\"vm.addBank()\"><i class=\"icon-Plus\"></i> 添加机构\n  </button>\n\n  <button type=\"button\" class=\"btn btn-info pull-right\" style=\"position: relative; z-index: 2;\" data-toggle=\"modal\" data-target=\".pop-player\"\n    ng-click=\"$emit(\'batchUploadBank\');\"><i class=\"icon-Plus\"></i> 批量录入\n  </button>\n  <div class=\"options\">\n    <div class=\"option-item option-time\">\n      <ul class=\"clearfix\">\n        <li>\n          <div class=\"input-group search-box\">\n            <input ng-model=\"vm.filters.name\" type=\"text\" placeholder=\"请输机构名称查询\" class=\"form-control\"\n                    code=\"13\" key-event=\"vm.reSearch();\">\n            <span class=\"input-group-btn\">\n              <button ng-click=\"vm.reSearch()\" class=\"btn btn-default search\" type=\"button\"><i class=\"icon-search\"></i></button>\n            </span>\n          </div>\n        </li>\n      </ul>\n    </div>\n    <div class=\"option-item large\">\n      <span class=\"item-title text-right\">机构状态：</span>\n      <ul class=\"clearfix\">\n          <li>\n              <a href=\"javascript:;\" class=\"btn\" ng-class=\"{\'btn-default\': vm.filters.state, \'btn-toggle\': !vm.filters.state, \'active\': !vm.filters.state}\" ng-click=\"vm.switch(\'state\')\">\n                  全部\n              </a>\n          </li>\n          <li ng-repeat=\"item in vm.bankStateList\">\n              <a href=\"javascript:;\" class=\"btn\" ng-class=\"{\'btn-default\': vm.filters.state != item.value, \'btn-toggle\': vm.filters.state == item.value, \'active\': vm.filters.state == item.value}\" ng-click=\"vm.switch(\'state\', item.value)\">\n                  {{ item.label }}\n              </a>\n          </li>\n      </ul>\n    </div>\n    <div>\n      <mc-batch-upload-bank></mc-batch-upload-bank>\n    </div>\n</section>\n\n<section class=\"content body-content body-content-compact block-ui block-ui-message-custom\" block-ui=\"main\">\n  <empty-tip ng-if=\"vm.list.length === 0\"></empty-tip>\n\n  <div class=\"panel\" ng-if=\"vm.list.length > 0\">\n    <table class=\"table table-striped text-center\">\n      <tr>\n        <th class=\"col-m-1 text-center\">id</th>\n        <th class=\"col-m-1 text-center\">机构</th>\n        <th class=\"col-m-1 text-center\">地址</th>\n        <th class=\"col-m-1 text-center\">联系电话</th>\n        <th class=\"col-m-1 text-center\">上级机构</th>\n        <th class=\"col-m-1 text-center\" colspan=\"3\">操作</th>\n      </tr>\n      <tr ng-repeat=\"item in vm.list\">\n        <td>{{item.id}}</td>\n        <td>{{item.name}}</td>\n        <td>{{item.address}}</td>\n        <td>{{item.phone}}</td>\n        <td>{{item.superior_name}}</td>\n        <!-- <td width=\"90px\">\n          <a href=\"javascript:void(0)\" ng-click=\"vm.setMap(item)\">选取地址</a>\n        </td> -->\n        <td width=\"90px\">\n          <a href=\"javascript:void(0)\" ng-click=\"vm.setName(item)\">更改资料</a>\n        </td>\n        <td width=\"110px\">\n          <a href=\"javascript:void(0)\" ng-click=\"vm.assignBranch(item)\">选择上级机构</a>\n        </td>\n        <td width=\"90px\">\n          <a href=\"javascript:void(0)\" class=\"text-danger\" ng-show=\"item.state == 1\" ng-click=\"vm.delete(item)\">删除</a>\n          <a href=\"javascript:void(0)\" class=\"text-danger\" ng-show=\"item.state == 3\" ng-click=\"vm.redelete(item)\">取消删除</a>\n        </td>\n      </tr>\n    </table>\n  </div>\n\n</section>\n\n");
  $templateCache.put("modules/account/modals/add/template.html", "<div class=\"modal-header\">\n  <!-- <button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-label=\"Close\" ng-click=\"vm.cancel();\">\n    <span aria-hidden=\"true\">&times;</span>\n  </button> -->\n  <h4 class=\"modal-title\">添加用户</h4>\n</div>\n<div class=\"modal-body\">\n  <form class=\"form-horizontal\" name=\"Form\">\n    <div class=\"form-group clearfix\">\n      <label for=\"noteInput\" class=\"col-sm-4 control-label\">真实姓名：</label>\n      <div class=\"col-sm-6\">\n        <input type=\"text\" class=\"form-control\" ng-model=\"vm.inputInfo.true_name\" placeholder=\"请输入\"\n          validator=\"required\">\n      </div>\n    </div>\n    <div class=\"form-group clearfix\">\n      <label for=\"noteInput\" class=\"col-sm-4 control-label\">手机号码：</label>\n      <div class=\"col-sm-6\">\n        <input type=\"text\" class=\"form-control\" ng-model=\"vm.inputInfo.phone\" placeholder=\"请输入\"\n          validator=\"required\" auto-complete=\"vm.autoCompleteOptions\">\n      </div>\n    </div>\n    <div class=\"form-group clearfix\">\n      <label for=\"noteInput\" class=\"col-sm-4 control-label\">角色：</label>\n      <div class=\"btn-group col-sm-2\">\n        <button type=\"button\" class=\"btn btn-default dropdown-toggle\" data-toggle=\"dropdown\" aria-haspopup=\"true\" aria-expanded=\"false\">\n          {{vm.inputInfo.role_name}}\n          <span class=\"caret\"></span>\n        </button>\n        <ul class=\"dropdown-menu\">\n          <li ng-repeat=\"role in vm.roleList\"><a ng-click=\"vm.inputInfo.role_name=role.name;vm.inputInfo.role=role.value\" href=\"javascript:void(0)\">{{role.name}}</a></li>\n        </ul>\n      </div>\n    </div>\n    <div class=\"form-group clearfix\">\n      <label for=\"noteInput\" class=\"col-sm-4 control-label\">所属机构：</label>\n      <div class=\"btn-group col-sm-6\">\n        <button type=\"button\" class=\"btn btn-default dropdown-toggle\" data-toggle=\"dropdown\" aria-haspopup=\"true\" aria-expanded=\"false\">\n          {{vm.inputInfo.bank_name}}\n          <span class=\"caret\"></span>\n        </button>\n        <ul class=\"dropdown-menu\" style=\"height:210px; overflow:scroll;\">\n          <li ng-repeat=\"bank in vm.bankList\"><a ng-click=\"vm.inputInfo.bank_name=bank.name;vm.inputInfo.bank_id=bank.id\" href=\"javascript:void(0)\">{{bank.name}}</a></li>\n        </ul>\n      </div>\n    </div>\n  </form>\n  <div class=\"modal-footer\">\n    <button type=\"button\" class=\"btn btn-default btn-sm\" ng-click=\"vm.cancel()\">取消</button>\n    <button type=\"button\" class=\"btn btn-success btn-sm\" ng-click=\"vm.submit(Form)\"> 保存</button>\n  </div>\n</div>\n");
  $templateCache.put("modules/account/modals/branch/template.html", "<div class=\"modal-header\">\n  <!-- <button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-label=\"Close\" ng-click=\"vm.cancel();\">\n    <span aria-hidden=\"true\">&times;</span>\n  </button> -->\n  <h4 class=\"modal-title\">分配</h4>\n</div>\n<div class=\"modal-body\">\n  <form class=\"form-horizontal\" name=\"Form\">\n    <div class=\"form-group clearfix\">\n      <label for=\"select_main\" class=\"col-sm-12 text-center\">选择支行</label>\n    </div>\n    <div class=\"form-group clearfix\">\n      <div class=\"col-sm-12\">\n        <select name=\"selectBranch\" class=\"form-control c-select\" \n          ng-options=\"item.id as item.name for item in vm.list\" ng-model=\"vm.inputInfo.branch\" \n          placeholder=\"请选择\" validator=\"required\" size=\"10\">\n          <option value=\"\">请选择</option>\n        </select>\n      </div>\n    </div>\n  </form>\n  <div class=\"modal-footer\">\n    <button type=\"button\" class=\"btn btn-default btn-sm\" ng-click=\"vm.cancel()\">取消</button>\n    <button type=\"button\" class=\"btn btn-success btn-sm\" ng-click=\"vm.submit(Form)\"> 确定</button>\n  </div>\n</div>\n");
  $templateCache.put("modules/demo/modals/edit/template.html", "<div class=\"modal-header\">\n  <!-- <button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-label=\"Close\" ng-click=\"vm.cancel();\">\n    <span aria-hidden=\"true\">&times;</span>\n  </button> -->\n  <h4 class=\"modal-title\">设置</h4>\n</div>\n<div class=\"modal-body\">\n  <form class=\"form-horizontal\" name=\"Form\">\n    <div class=\"form-group clearfix\">\n      <label for=\"noteInput\" class=\"col-sm-4 control-label\">Label：</label>\n      <div class=\"col-sm-5\">\n        <input type=\"text\" class=\"form-control\" ng-model=\"vm.info.input\" placeholder=\"请输入\"\n          validator=\"required\">\n      </div>\n    </div>\n  </form>\n  <div class=\"modal-footer\">\n    <button type=\"button\" class=\"btn btn-default btn-sm\" ng-click=\"vm.cancel()\">取消</button>\n    <button type=\"button\" class=\"btn btn-success btn-sm\" ng-click=\"vm.submit(Form)\"> 保存</button>\n  </div>\n</div>\n");
  $templateCache.put("modules/enterprise/modals/add/template.html", "<div class=\"modal-header\">\n  <!-- <button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-label=\"Close\" ng-click=\"vm.cancel();\">\n    <span aria-hidden=\"true\">&times;</span>\n  </button> -->\n  <h4 class=\"modal-title\">添加企业</h4>\n</div>\n<div class=\"modal-body\">\n  <form class=\"form-horizontal\" name=\"Form\">\n    <div class=\"form-group clearfix\">\n      <label for=\"noteInput\" class=\"col-sm-4 control-label\">企业名称：</label>\n      <div class=\"col-sm-6\">\n        <input type=\"text\" class=\"form-control\" ng-model=\"vm.inputInfo.name\" placeholder=\"请输入\"\n          validator=\"required\">\n      </div>\n    </div>\n  </form>\n  <div class=\"modal-footer\">\n    <button type=\"button\" class=\"btn btn-default btn-sm\" ng-click=\"vm.cancel()\">取消</button>\n    <button type=\"button\" class=\"btn btn-success btn-sm\" ng-click=\"vm.submit(Form)\"> 保存</button>\n  </div>\n</div>\n");
  $templateCache.put("modules/enterprise/modals/branch/template.html", "<div class=\"modal-header\">\n  <!-- <button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-label=\"Close\" ng-click=\"vm.cancel();\">\n    <span aria-hidden=\"true\">&times;</span>\n  </button> -->\n  <h4 class=\"modal-title\">分配机构</h4>\n</div>\n<div class=\"modal-body\">\n  <form class=\"form-horizontal\" name=\"Form\">\n    <div class=\"form-group clearfix\">\n      <label for=\"select_main\" class=\"col-sm-12 text-center\">选择机构</label>\n    </div>\n    <div class=\"form-group clearfix\">\n      <div class=\"col-sm-12\">\n        <select name=\"selectBranch\" class=\"form-control c-select\" \n          ng-options=\"item.id as item.name for item in vm.list\" ng-model=\"vm.inputInfo.branch\" \n          placeholder=\"请选择\" validator=\"required\" size=\"10\">\n          <option value=\"\">请选择</option>\n        </select>\n      </div>\n    </div>\n  </form>\n  <div class=\"modal-footer\">\n    <button type=\"button\" class=\"btn btn-default btn-sm\" ng-click=\"vm.cancel()\">取消</button>\n    <button type=\"button\" class=\"btn btn-success btn-sm\" ng-click=\"vm.submit(Form)\"> 确定</button>\n  </div>\n</div>\n");
  $templateCache.put("modules/enterprise/modals/manage/template.html", "<div class=\"modal-header\">\n  <!-- <button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-label=\"Close\" ng-click=\"vm.cancel();\">\n    <span aria-hidden=\"true\">&times;</span>\n  </button> -->\n  <h4 class=\"modal-title\">分配客户经理</h4>\n</div>\n<div class=\"modal-body\">\n  <form class=\"form-horizontal\" name=\"Form\">\n    <div class=\"form-group clearfix\">\n      <label for=\"select_main\" class=\"col-sm-6 text-center\">主理</label>\n      <label for=\"select_vice\" class=\"col-sm-6 text-center\">协理</label>\n    </div>\n    <div class=\"form-group clearfix\">\n      <div class=\"col-sm-6\">\n        <select name=\"selectMain\" class=\"form-control c-select\" \n          ng-options=\"item.id as item.true_name for item in vm.list\" ng-model=\"vm.inputInfo.main\" \n          placeholder=\"请选择\" validator=\"required\" size=\"10\">\n          <option value=\"\">请选择</option>\n        </select>\n      </div>\n      <div class=\"col-sm-6\">\n        <select name=\"selectVice\" class=\"form-control c-select\" \n          ng-options=\"item.id as item.true_name for item in vm.list\" ng-model=\"vm.inputInfo.vice\"\n           placeholder=\"请选择\" size=\"10\" match=\"vm.inputInfo.main\" not-match=\"true\">\n          <option value=\"\">请选择</option>\n        </select>\n        <span ng-show=\"Form.selectVice.$error.match\" class=\"validation-invalid\">\n          <p>主理和协理不能为同一人！</p>\n        </span>\n      </div>\n    </div>\n  </form>\n  <div class=\"modal-footer\">\n    <button type=\"button\" class=\"btn btn-default btn-sm\" ng-click=\"vm.cancel()\">取消</button>\n    <button type=\"button\" class=\"btn btn-success btn-sm\" ng-click=\"vm.submit(Form)\"> 确定</button>\n  </div>\n</div>\n");
  $templateCache.put("modules/filter/modals/add/template.html", "<div class=\"modal-header\">\n  <!-- <button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-label=\"Close\" ng-click=\"vm.cancel();\">\n    <span aria-hidden=\"true\">&times;</span>\n  </button> -->\n  <h4 class=\"modal-title\">添加黑名单</h4>\n</div>\n<div class=\"modal-body\">\n  <form class=\"form-horizontal\" name=\"Form\">\n    <div class=\"form-group clearfix\">\n      <label for=\"noteInput\" class=\"col-sm-4 control-label\">公司名称：</label>\n      <div class=\"col-sm-6\">\n        <input type=\"text\" class=\"form-control\" ng-model=\"vm.inputInfo.name\" placeholder=\"请输入\"\n          validator=\"required\">\n      </div>\n    </div>\n    <div class=\"form-group clearfix\">\n      <label for=\"noteInput\" class=\"col-sm-4 control-label\">信息来源：</label>\n      <div class=\"col-sm-6\">\n        <input type=\"text\" class=\"form-control\" ng-model=\"vm.inputInfo.source\" placeholder=\"请输入\">\n      </div>\n    </div>\n    <div class=\"form-group clearfix\">\n      <label for=\"noteInput\" class=\"col-sm-4 control-label\">备注：</label>\n      <div class=\"col-sm-6\">\n        <textarea class=\"form-control\" ng-model=\"vm.inputInfo.note\" placeholder=\"请输入\"\n          maxlength=\"200\"></textarea> \n      </div>\n    </div>\n  </form>\n  <div class=\"modal-footer\">\n    <button type=\"button\" class=\"btn btn-default btn-sm\" ng-click=\"vm.cancel()\">取消</button>\n    <button type=\"button\" class=\"btn btn-success btn-sm\" ng-click=\"vm.submit(Form)\"> 保存</button>\n  </div>\n</div>\n");
  $templateCache.put("modules/information/modals/branch/template.html", "<div class=\"modal-header\">\n  <!-- <button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-label=\"Close\" ng-click=\"vm.cancel();\">\n    <span aria-hidden=\"true\">&times;</span>\n  </button> -->\n  <h4 class=\"modal-title\">分配</h4>\n</div>\n<div class=\"modal-body\">\n  <form class=\"form-horizontal\" name=\"Form\">\n    <div class=\"form-group clearfix\">\n      <label for=\"select_main\" class=\"col-sm-12 text-center\">选择支行</label>\n    </div>\n    <div class=\"form-group clearfix\">\n      <div class=\"col-sm-12\">\n        <select name=\"selectBranch\" class=\"form-control c-select\" \n          ng-options=\"item.id as item.name for item in vm.list\" ng-model=\"vm.inputInfo.branch\" \n          placeholder=\"请选择\" validator=\"required\" size=\"10\">\n          <option value=\"\">请选择</option>\n        </select>\n      </div>\n    </div>\n  </form>\n  <div class=\"modal-footer\">\n    <button type=\"button\" class=\"btn btn-default btn-sm\" ng-click=\"vm.cancel()\">取消</button>\n    <button type=\"button\" class=\"btn btn-success btn-sm\" ng-click=\"vm.submit(Form)\"> 确定</button>\n  </div>\n</div>\n");
  $templateCache.put("modules/information/modals/manage/template.html", "<div class=\"modal-header\">\n  <!-- <button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-label=\"Close\" ng-click=\"vm.cancel();\">\n    <span aria-hidden=\"true\">&times;</span>\n  </button> -->\n  <h4 class=\"modal-title\">分配</h4>\n</div>\n<div class=\"modal-body\">\n  <form class=\"form-horizontal\" name=\"Form\">\n    <div class=\"form-group clearfix\">\n      <label for=\"select_main\" class=\"col-sm-6 text-center\">主理</label>\n      <label for=\"select_vice\" class=\"col-sm-6 text-center\">协理</label>\n    </div>\n    <div class=\"form-group clearfix\">\n      <div class=\"col-sm-6\">\n        <select name=\"selectMain\" class=\"form-control c-select\" \n          ng-options=\"item.id as item.name for item in vm.list\" ng-model=\"vm.inputInfo.main\" \n          placeholder=\"请选择\" validator=\"required\" size=\"10\">\n          <option value=\"\">请选择</option>\n        </select>\n      </div>\n      <div class=\"col-sm-6\">\n        <select name=\"selectVice\" class=\"form-control c-select\" \n          ng-options=\"item.id as item.name for item in vm.list\" ng-model=\"vm.inputInfo.vice\"\n           placeholder=\"请选择\" size=\"10\" match=\"vm.inputInfo.main\" not-match=\"true\">\n          <option value=\"\">请选择</option>\n        </select>\n        <span ng-show=\"Form.selectVice.$error.match\" class=\"validation-invalid\">\n          <p>主理和协理不能为同一人！</p>\n        </span>\n      </div>\n    </div>\n  </form>\n  <div class=\"modal-footer\">\n    <button type=\"button\" class=\"btn btn-default btn-sm\" ng-click=\"vm.cancel()\">取消</button>\n    <button type=\"button\" class=\"btn btn-success btn-sm\" ng-click=\"vm.submit(Form)\"> 确定</button>\n  </div>\n</div>\n");
  $templateCache.put("modules/investment/modals/add/template.html", "<div class=\"modal-header\">\n  <!-- <button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-label=\"Close\" ng-click=\"vm.cancel();\">\n    <span aria-hidden=\"true\">&times;</span>\n  </button> -->\n  <h4 class=\"modal-title\">添加投资公司</h4>\n</div>\n<div class=\"modal-body\">\n  <form class=\"form-horizontal\" name=\"Form\">\n    <div class=\"form-group clearfix\">\n      <label for=\"noteInput\" class=\"col-sm-4 control-label\">公司名称：</label>\n      <div class=\"col-sm-6\">\n        <input type=\"text\" class=\"form-control\" ng-model=\"vm.inputInfo.name\" placeholder=\"请输入\"\n          validator=\"required\">\n      </div>\n    </div>\n    <div class=\"form-group clearfix\">\n      <label for=\"noteInput\" class=\"col-sm-4 control-label\">公司简称：</label>\n      <div class=\"col-sm-6\">\n        <input type=\"text\" class=\"form-control\" ng-model=\"vm.inputInfo.vc_name\" placeholder=\"请输入\"\n          validator=\"required\" >\n      </div>\n    </div>\n  </form>\n  <div class=\"modal-footer\">\n    <button type=\"button\" class=\"btn btn-default btn-sm\" ng-click=\"vm.cancel()\">取消</button>\n    <button type=\"button\" class=\"btn btn-success btn-sm\" ng-click=\"vm.submit(Form)\"> 保存</button>\n  </div>\n</div>\n");
  $templateCache.put("modules/bank/modals/add/template.html", "<div class=\"modal-header\">\n  <!-- <button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-label=\"Close\" ng-click=\"vm.cancel();\">\n    <span aria-hidden=\"true\">&times;</span>\n  </button> -->\n  <h4 class=\"modal-title\">添加机构</h4>\n</div>\n<div class=\"modal-body\">\n  <form class=\"form-horizontal\" name=\"Form\">\n    <div class=\"form-group clearfix\">\n      <label for=\"noteInput\" class=\"col-sm-4 control-label\">机构名称</label>\n      <div class=\"col-sm-6\">\n        <input type=\"text\" class=\"form-control\" ng-model=\"vm.inputInfo.name\" placeholder=\"请输入\"\n          validator=\"required\">\n      </div>\n    </div>\n    <div class=\"form-group clearfix\">\n      <label for=\"noteInput\" class=\"col-sm-4 control-label\">机构地址</label>\n      <div class=\"col-sm-6\">\n        <input type=\"text\" class=\"form-control\" ng-model=\"vm.inputInfo.address\" placeholder=\"请输入\"\n          validator=\"required\">\n      </div>\n    </div>\n    <div class=\"form-group clearfix\">\n      <label for=\"noteInput\" class=\"col-sm-4 control-label\">联系电话</label>\n      <div class=\"col-sm-6\">\n        <input type=\"text\" class=\"form-control\" ng-model=\"vm.inputInfo.phone\" placeholder=\"请输入\"\n          validator=\"required\">\n      </div>\n    </div>\n\n  </form>\n  <div class=\"modal-footer\">\n    <button type=\"button\" class=\"btn btn-default btn-sm\" ng-click=\"vm.cancel()\">取消</button>\n    <button type=\"button\" class=\"btn btn-success btn-sm\" ng-click=\"vm.submit(Form)\"> 保存</button>\n  </div>\n</div>\n");
  $templateCache.put("modules/bank/modals/branch/template.html", "<div class=\"modal-header\">\n  <!-- <button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-label=\"Close\" ng-click=\"vm.cancel();\">\n    <span aria-hidden=\"true\">&times;</span>\n  </button> -->\n  <h4 class=\"modal-title\">分配</h4>\n</div>\n<div class=\"modal-body\">\n  <form class=\"form-horizontal\" name=\"Form\">\n    <div class=\"form-group clearfix\">\n      <label for=\"select_main\" class=\"col-sm-12 text-center\">选择支行</label>\n    </div>\n    <div class=\"form-group clearfix\">\n      <div class=\"col-sm-12\">\n        <select name=\"selectBranch\" class=\"form-control c-select\" \n          ng-model=\"vm.inputInfo.branch\" \n          placeholder=\"请选择\" validator=\"required\" size=\"10\">\n          <option value=\"\">请选择</option>\n          <option value=\"{{item.id}}\" ng-hide=\"item.id == vm.info.id\" ng-repeat=\"item in vm.list\">{{item.name}}</option>\n        </select>\n      </div>\n    </div>\n  </form>\n  <div class=\"modal-footer\">\n    <button type=\"button\" class=\"btn btn-default btn-sm\" ng-click=\"vm.cancel()\">取消</button>\n    <button type=\"button\" class=\"btn btn-success btn-sm\" ng-click=\"vm.submit(Form)\"> 确定</button>\n  </div>\n</div>\n");
  $templateCache.put("modules/bank/modals/edit/template.html", "<div class=\"modal-header\">\n  <!-- <button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-label=\"Close\" ng-click=\"vm.cancel();\">\n    <span aria-hidden=\"true\">&times;</span>\n  </button> -->\n  <h4 class=\"modal-title\">更改名称</h4>\n</div>\n<div class=\"modal-body\">\n  <form class=\"form-horizontal\" name=\"Form\">\n    <div class=\"form-group clearfix\">\n      <label for=\"noteInput\" class=\"col-sm-4 control-label\">机构</label>\n      <div class=\"col-sm-6\">\n        <input type=\"text\" class=\"form-control\" ng-model=\"vm.inputInfo.name\" placeholder=\"请输入\"\n          validator=\"required\">\n      </div>\n    </div>\n    <div class=\"form-group clearfix\">\n      <label for=\"noteInput\" class=\"col-sm-4 control-label\">机构地址</label>\n      <div class=\"col-sm-6\">\n        <input type=\"text\" class=\"form-control\" ng-model=\"vm.inputInfo.address\" placeholder=\"请输入\"\n          validator=\"required\">\n      </div>\n    </div>\n    <div class=\"form-group clearfix\">\n      <label for=\"noteInput\" class=\"col-sm-4 control-label\">联系电话</label>\n      <div class=\"col-sm-6\">\n        <input type=\"text\" class=\"form-control\" ng-model=\"vm.inputInfo.phone\" placeholder=\"请输入\"\n          validator=\"required\">\n      </div>\n    </div>\n\n  </form>\n  <div class=\"modal-footer\">\n    <button type=\"button\" class=\"btn btn-default btn-sm\" ng-click=\"vm.cancel()\">取消</button>\n    <button type=\"button\" class=\"btn btn-success btn-sm\" ng-click=\"vm.submit(Form)\"> 保存</button>\n  </div>\n</div>\n");
  $templateCache.put("modules/bank/modals/map/template.html", "<div class=\"modal-header\">\n  <!-- <button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-label=\"Close\" ng-click=\"vm.cancel();\">\n    <span aria-hidden=\"true\">&times;</span>\n  </button> -->\n  <h4 class=\"modal-title\">选取地图</h4>\n</div>\n<div class=\"modal-body\">\n   <baidu-map options=\"vm.opts\" ak=\"8BEaSdo8E7VEHjM0pxWs8gIsHhkDlOOW\" on-map-loaded=\"vm.loadMap(map)\" style=\"display:block;width:550px;height:500px;\"></baidu-map>\n  <div class=\"modal-footer\">\n    <button type=\"button\" class=\"btn btn-default btn-sm\" ng-click=\"vm.cancel()\">取消</button>\n  </div>\n</div>");
}]);

},{}],"/Users/cescwang/program/sil/SIL-frontend/bower_components/angular-mdeditor/src/angular-mdeditor.js":[function(require,module,exports){
'use strict';

/**
* harrie.mdeditor Module
*
* Description
* a markdown editor for angular
* https://github.com/varHarrie/angular-mdeditor
*/
angular.module('ui.mdeditor', []).config(function () {
	if (angular.isUndefined(window.marked)) {
		throw new Error('Require marked!');
	}
	if (angular.isUndefined(window.hljs)) {
		throw new Error('Require hljs!');
	}
	String.prototype.startWith = function (str, doTrim) {
		var s = typeof doTrim !== 'undefined' && !!doTrim ? this.trim() : this;
		return typeof str === 'string' && s.length >= str.length && s.substr(0, str.length) === str;
	};
	String.prototype.endWith = function (str, doTrim) {
		var s = typeof doTrim !== 'undefined' && !!doTrim ? this.trim() : this;
		return typeof str === 'string' && s.length >= str.length && s.substr(s.length - str.length) === str;
	};
}).constant('mdeditorConfig', {
	classNames: {
		wrapper: 'mdeditor',
		toolbar: 'mdeditor-toolbar',
		toolbarItem: 'mdeditor-toolbar-item',
		separator: 'mdeditor-toolbar-separator',
		textarea: 'mdeditor-textarea',
		preview: 'mdeditor-preview'
	},
	toolbar: [{ action: 'bold', icon: 'fa fa-bold', tip: '加粗(Ctrl+B)' }, { action: 'italic', icon: 'fa fa-italic', tip: '斜体(Ctrl+I)' }, { action: 'header', icon: 'fa fa-header', tip: '标题(Ctrl+H)' }, { separator: true }, { action: 'ul', icon: 'fa fa-list-ul', tip: '无序列表(Ctrl+U)' }, { action: 'ol', icon: 'fa fa-list-ol', tip: '有序列表(Ctrl+O)' },
	// {action:'code',icon:'fa fa-code',tip:'代码(Ctrl+K)'},
	{ action: 'quote', icon: 'fa fa-quote-left', tip: '引用(Ctrl+Q)' },
	//{action:'indent',icon:'fa fa-indent',tip:'缩进(Tab)',keycode:9,ctrl:false},
	//{action:'outdent',icon:'fa fa-outdent',tip:'减小缩进(Tab)',keycode:9,ctrl:false,shift:true},
	{ separator: true }, { action: 'link', icon: 'fa fa-link', tip: '连接(Ctrl+L)' }, { action: 'img', icon: 'fa fa-picture-o', tip: '图片(Ctrl+G)' },
	/*{action:'file',icon:'fa fa-file-o',tip:'文件',keycode:'',ctrl:true},*/
	{ separator: true }, { action: 'undo', icon: 'fa fa-undo', tip: '撤销' }, { action: 'redo', icon: 'fa fa-repeat', tip: '重做' }],
	shortcut: {
		'Ctrl-B': 'bold',
		'Ctrl-I': 'italic',
		'Ctrl-H': 'header',
		'Ctrl-U': 'ul',
		'Ctrl-O': 'ol',
		'Ctrl-K': 'code',
		'Ctrl-Q': 'quote',
		'Ctrl-L': 'link',
		'Ctrl-G': 'img'
	}
}).factory('actions', [function () {
	var syntax = {
		bold: { prefix: '**', postfix: '**' },
		italic: { prefix: '_', postfix: '_' },
		code: { prefix: '```\n', postfix: '\n```' },
		link: { prefix: '[', postfix: '](src)' },
		img: { prefix: '![', postfix: '](src)' },

		header: { prefix: '### ', postfix: '' },
		quote: { prefix: '> ', postfix: '' },
		ul: { prefix: '- ', postfix: '' }
	};
	function inlineAction(cm, actionName, canStartWithSpace) {
		var texts = cm.getSelections();
		var replacements = [];
		var prefix = syntax[actionName].prefix;
		var postfix = syntax[actionName].postfix;
		texts.forEach(function (text) {
			if (text.length >= prefix.length + postfix.length && text.startWith(prefix, canStartWithSpace) && text.endWith(postfix)) {
				replacements.push(text.substr(prefix.length, text.length - prefix.length - postfix.length));
			} else {
				replacements.push(prefix + text + postfix);
			}
		});
		cm.replaceSelections(replacements, 'around');
	}
	function rowAction(cm, actionName) {
		//select row
		var selections = cm.listSelections();
		selections.forEach(function (range) {
			var num1 = range.anchor.line,
			    num2 = range.head.line;
			var start = num1 < num2 ? num1 : num2,
			    end = num1 > num2 ? num1 : num2;
			cm.addSelection({ line: start, ch: 0 }, { line: end });
		});
		var prefix = syntax[actionName].prefix;
		var replacements = [];
		selections = cm.getSelections();
		selections.forEach(function (text) {
			replacements.push(text.split('\n').map(function (line) {
				if (line.startWith(prefix, true)) {
					var startAt = line.indexOf(prefix);
					startChars = line.substr(0, startAt);
					endChars = line.substr(startAt + prefix.length);
					return startChars + endChars;
				} else {
					return prefix + line;
				}
			}).join('\n'));
		});
		cm.replaceSelections(replacements, 'around');
	}
	return {
		//inline actions
		bold: function bold(cm) {
			inlineAction(cm, 'bold');
		},
		italic: function italic(cm) {
			inlineAction(cm, 'italic');
		},
		code: function code(cm) {
			inlineAction(cm, 'code');
		},
		link: function link(cm) {
			inlineAction(cm, 'link');
		},
		img: function img(cm) {
			inlineAction(cm, 'img');
		},
		//row actions
		header: function header(cm) {
			rowAction(cm, 'header');
		},
		quote: function quote(cm) {
			rowAction(cm, 'quote');
		},
		ul: function ul(cm) {
			rowAction(cm, 'ul');
		},
		ol: function ol(cm) {
			var selections = cm.listSelections();
			selections.forEach(function (range) {
				var num1 = range.anchor.line,
				    num2 = range.head.line;
				var start = num1 < num2 ? num1 : num2,
				    end = num1 > num2 ? num1 : num2;
				cm.addSelection({ line: start, ch: 0 }, { line: end });
			});
			var replacements = [];
			selections = cm.getSelections();
			selections.forEach(function (text) {
				if (/^\s*\d+\.\s/m.test(text)) {
					replacements.push(text.replace(/^\s*\d+\.\s/mg, ''));
				} else {
					replacements.push(text.split('\n').map(function (line, i) {
						return i + 1 + '. ' + line;
					}).join('\n'));
				}
			});
			cm.replaceSelections(replacements, 'around');
		},
		undo: function undo(cm) {
			cm.undo();
		},
		redo: function redo(cm) {
			cm.redo();
		}
	};
}]).provider('hljsServ', function () {
	var _options = {};
	return {
		setOptions: function setOptions(options) {
			angular.extend(_options, options);
		},
		getOptions: function getOptions() {
			return angular.copy(_options);
		},
		$get: function $get() {
			hljs.configure(_options);
			return hljs;
		}
	};
}).filter('markdown', ['$sce', 'hljsServ', function ($sce, hljsServ) {
	var marked = function (marked) {
		/*marked.setOptions({
    renderer: new marked.Renderer(),
    gfm: true,
    tables: true,
    breaks: false,
    pedantic: false,
    sanitize: true,
    smartLists: true,
    smartypants: false
  });*/
		marked.setOptions({
			highlight: function highlight(code) {
				return hljsServ.highlightAuto(code).value;
			}
		});
		return marked;
	}(window.marked);

	return function (input) {
		if (!input || typeof input !== 'string') return '';
		return $sce.trustAsHtml(marked(input));
	};
}]).directive('mdeditor', ['mdeditorConfig', 'actions', function (mdeditorConfig, actions) {

	return {
		restrict: 'AE',
		scope: {
			defaultText: '=',
			text: '=',
			options: '=?',
			classNames: '=?',
			toolbar: '=?',
			shortcut: '=?'
		},
		template: ['<div class="{{classNames.wrapper}}">', '<ul class="{{classNames.toolbar}}">', '<li ng-repeat="item in toolbar | filter:toolbarFilter track by $index" ng-click="callAction(item.action)" class="{{item.separator?classNames.separator:classNames.toolbarItem}}" title="{{item.tip}}">', '<i class="{{item.icon}}" ng-if="!item.separator"></i>', '<span ng-if="item.separator">|</span>', '</li>', '</ul>', '<textarea class="{{classNames.textarea}}" ng-show="!preview"></textarea>', '<div class="{{classNames.preview}}" ng-bind-html="text | markdown" ng-if="preview"></div>', '</div>'].join(''),
		replace: true,
		compile: function compile(tElm, tAttrs) {
			if (angular.isUndefined(window.CodeMirror)) {
				throw new Error('Require CodeMirror!');
			}
			var theme = tAttrs.theme || 'default';
			var textarea = tElm.find('textarea');
			var codemirror = new window.CodeMirror(function (cm_el) {
				angular.forEach(textarea.prop('attributes'), function (attr) {
					if (attr.name == 'class') cm_el.className += ' ' + attr.textContent;else cm_el.setAttribute(attr.name, attr.textContent);
				});
				textarea.replaceWith(cm_el);
			}, {
				mode: 'gfm',
				lineWrapping: true,
				theme: theme
			});

			return function postlink($scope, iElm, iAttrs) {
				$scope.preview = false;
				$scope.classNames = $scope.classNames || mdeditorConfig.classNames;
				$scope.toolbar = $scope.toolbar || mdeditorConfig.toolbar;
				var options = $scope.options || {};
				for (var key in options) {
					codemirror.setOption(key, options[key]);
				}
				var shortcut = $scope.shortcut || mdeditorConfig.shortcut;
				var keyMap = {};
				for (var key in shortcut) {
					if (typeof key == 'string' && actions[shortcut[key]]) keyMap[key] = actions[shortcut[key]];
				}

				keyMap['Enter'] = "newlineAndIndentContinueMarkdownList";
				keyMap['Tab'] = 'tabAndIndentContinueMarkdownList';
				keyMap['Shift-Tab'] = 'shiftTabAndIndentContinueMarkdownList';

				codemirror.setOption("extraKeys", keyMap);

				$scope.callAction = function (actionName) {
					if (!actionName) return;else if (actions[actionName]) actions[actionName](codemirror);else if (actionName == 'preview') {
						$scope.preview = !$scope.preview;
					} else if (actionName == 'fullscreen') {
						var el = iElm[0];
						var rfs = el.requestFullScreen || el.webkitRequestFullScreen || el.mozRequestFullScreen;
						if (rfs) rfs.call(el);
					}
					codemirror.focus();
				};

				if ($scope.text) {
					codemirror.setValue($scope.text);
				}

				var destroyWatchText = $scope.$watch('defaultText', function () {
					if ($scope.defaultText) {
						codemirror.setValue($scope.defaultText);
					}
				});

				$scope.$on('$destroy', destroyWatchText);

				codemirror.on('change', function (instance, event) {
					var val = instance.getValue();
					if ($scope.text !== val) {
						$scope.text = instance.getValue();
						var phase = $scope.$root.$$phase;
						if (phase !== '$apply' && phase !== 'digest') {
							$scope.$apply();
						}
					}
				});
			};
		}
	};
}]);

},{}],"/Users/cescwang/program/sil/SIL-frontend/node_modules/angular-auto-complete/angular-auto-complete.js":[function(require,module,exports){
(function () {
    angular
        .module('autoCompleteModule', ['ngSanitize'])
        .service('autoCompleteService', autoCompleteService)
        .directive('autoComplete', autoCompleteDirective);

    autoCompleteDirective.$inject = ['$compile', '$document', '$window', '$timeout', 'autoCompleteService'];
    function autoCompleteDirective($compile, $document, $window, $timeout, autoCompleteService) {

        return {
            restrict: 'A',
            scope: {},
            transclude: false,
            controllerAs: 'ctrl',
            bindToController: { options: '&autoComplete' },
            require: ['autoComplete', 'ngModel'],
            link: postLinkFn,
            controller: MainCtrl
        }

        function postLinkFn(scope, element, attrs, ctrls) {
            var ctrl = ctrls[0]; //directive controller
            ctrl.textModelCtrl = ctrls[1]; // textbox model controller

            autoCompleteService.addDirectiveCtrl(ctrl);

            // execute the options expression in the parent scope
            var options = ctrl.options() || {};
            ctrl.init(angular.extend({}, defaultOptions, options));

            initContainer();

            function initContainer() {
                var template =
                    '<div class="auto-complete-container" data-instance-id="{{ctrl.instanceId}}" ng-show="ctrl.containerVisible">' +
                      '<ul class="auto-complete-results">' +
                        '<li ng-repeat="item in ctrl.renderItems"' +
                            'ng-click="ctrl.selectItem($index, true)" ' +
                            'class="auto-complete-item" data-index="{{$index}}" ' +
                            'ng-class="ctrl.isSelected($index)">' +
                                '<div ng-bind-html="item.label"></div>' +
                        '</li>' +
                      '</ul>' +
                    '</div>';

                var templateFn = $compile(template);
                ctrl.container = templateFn(scope);

                if (angular.isDefined(ctrl.options.containerCssClass)) {
                    ctrl.container.addClass(ctrl.options.containerCssClass);
                }

                // if a jquery parent is specified in options append the container to that
                // otherwise append to body
                if (angular.isDefined(ctrl.options.dropdownParent)) {
                    ctrl.options.dropdownParent.append(ctrl.container);
                }
                else {
                    $document.find('body').append(ctrl.container);
                    ctrl.container.addClass('auto-complete-absolute-container');
                }

                // store the jquery element on the controller          
                ctrl.target = element;

                // store a reference to the UL
                ctrl.elementUL = angular.element(ctrl.container[0].querySelector('ul.auto-complete-results'));

                // prevents text select on mouse drag, dblclick
                ctrl.container.css('MozUserSelect', 'none').bind('selectstart', function () { return false; });
            }

            // when the target(textbox) gets focus activate the corresponding container
            element.on('focus', function (e) {
                scope.$evalAsync(function () {
                    ctrl.activate();
                });
            });

            // handle key strokes
            element.on('keydown', function (e) {
                scope.$evalAsync(function () {
                    _elementKeyDown(e);
                });
            });

            // hide container on ENTER
            $document.on('keydown', function (e) {
                scope.$evalAsync(function () {
                    _documentKeyDown(e);
                });
            });

            angular.element($window).on('resize', function (e) {
                scope.$evalAsync(function () {
                    ctrl.hide();
                });
            })

            // hide container upon CLICK outside of the dropdown rectangle region
            $document.on('click', function (e) {
                scope.$evalAsync(function () {
                    _documentClick(e);
                });
            });

            // cleanup on destroy
            scope.$on('$destroy', function () {
                ctrl.empty();
                ctrl.container.remove();
            });

            function _elementKeyDown(e) {
                var key = e.charCode || e.keyCode || 0;

                if (key == KEYCODE.UPARROW) {
                    ctrl.scrollToItem(-1);

                    e.stopPropagation();
                    e.preventDefault();

                    return;
                }

                if (key == KEYCODE.DOWNARROW) {
                    ctrl.scrollToItem(1);

                    e.stopPropagation();
                    e.preventDefault();

                    return;
                }

                if (key == KEYCODE.ENTER) {
                    ctrl.confirm();

                    //prevent postback upon hitting enter
                    e.preventDefault();
                    e.stopPropagation();

                    return;
                }

                if (key == KEYCODE.ESCAPE) {
                    ctrl.hide();

                    e.preventDefault();
                    e.stopPropagation();

                    return;
                }

                // fetch if minimum number of chars are types
                // else hide dropdown
                var term = element.val();
                if (term.length < ctrl.options.minimumChars || term === ctrl.selectedText()) {
                    ctrl.hide();
                    ctrl.empty();

                    return;
                }
                
                // wait few millisecs before calling fetch()
                // this allows checking if user has stopped typing
                var delay = $timeout(function () {
                    // is term unchanged?
                    if (term == element.val()) {
                        ctrl.fetch(term);
                    }

                    //cancel the timeout
                    $timeout.cancel(delay);
                }, 300);
            }

            function _documentKeyDown(e) {
                // if multiple auto complete exist on a page, hide inactive dropdowns
                autoCompleteService.hideIfInactive();
            }

            function _documentClick(e) {
                // if multiple auto complete exist on a page, hide inactive dropdowns
                autoCompleteService.hideIfInactive();

                // hide the active dropdown if user clicks anywhere away from the dropdown list
                var isMouseAwayFromActiveContainer = false;

                try {
                    if (ctrl.instanceId !== ctrl.activeInstanceId()) {
                        return;
                    }

                    var offset = ctrl.container[0].getBoundingClientRect();
                    var awayTolerance = 30;

                    if (e.pageX < offset.left - awayTolerance
                        || e.pageX > offset.left + offset.width + awayTolerance
                        || e.pageY < offset.top - awayTolerance
                        || e.pageY > offset.top + offset.height + awayTolerance) {

                        isMouseAwayFromActiveContainer = true;

                        //check if mouse is over the target
                        offset = ctrl.target[0].getBoundingClientRect();
                        if (e.pageX >= offset.left
                            && e.pageX <= offset.left + offset.width
                            && e.pageY >= offset.top
                            && e.pageY <= offset.top + offset.height) {

                            isMouseAwayFromActiveContainer = false;
                        }

                        if (isMouseAwayFromActiveContainer) {
                            ctrl.hide();
                        }
                    }
                }
                catch (e) { }
            }
        }
    }

    MainCtrl.$inject = ['$q', '$window', '$document', '$sce', '$timeout', '$interpolate', '$templateRequest', '$exceptionHandler', 'autoCompleteService'];
    function MainCtrl($q, $window, $document, $sce, $timeout, $interpolate, $templateRequest, $exceptionHandler, autoCompleteService) {
        var activeInstanceId = 0,
            selectedText,
            selectedValue;

        var that = this;

        this.target = null;
        this.selectedIndex = -1;
        this.renderItems = [];
        this.containerVisible = false;

        this.activeInstanceId = function () {
            return activeInstanceId;
        }

        // hide any open containers other than the active container
        this.hideIfInactive = function () {
            // do not hide container if appended to dropdown parent specified in options
            if (angular.isDefined(that.options.dropdownParent)) {
                return;
            }

            if (that.instanceId !== activeInstanceId) {
                that.hide();
            }
        }

        this.init = function (options) {
            this.options = options;
            this.instanceId = ++instanceCount;
        }

        this.activate = function () {
            activeInstanceId = that.instanceId;
        }

        this.fetch = function (term) {
            // callback
            _safeCallback(that.options.loading);

            $q.when(that.options.data(term),
                function success_callback(result) {
                    // there might some lag when remote web services are involved
                    // to get data. so check if current element value has changed
                    var value = that.textModelCtrl.$viewValue;
                    if (term != value) {
                        return;
                    }

                    that.renderList(result, term);

                    // callback
                    _safeCallback(that.options.loadingComplete);
                },
                function error_callback(error) {
                    that.hide();

                    // callback
                    _safeCallback(that.options.loadingComplete, { error: error });
                });
        }

        this.renderList = function (result) {
            that.empty();

            if (!angular.isDefined(result) || result.length === 0) {
                that.hide();
                return;
            }

            _getRenderFn().then(function(renderFn) { 
                _renderList(renderFn, result); 
            });
        }

        this.show = function () {
            // the show gets called after the items are ready for display
            // the textbox position can change (ex: window resize) when it has focus
            // so reposition the dropdown before it's shown
            _positionDropdown();

            that.containerVisible = true;

            // HACK: this reduces the flickr when the dropdown is being positioned  
            $timeout(function(){
                _positionDropdown();
            }, 1);

            // callback
            _safeCallback(that.options.dropdownShown);
        }

        this.hide = function () {
            if (that.containerVisible === false) {
                return;
            }

            // reset scroll position
            that.elementUL[0].scrollTop = 0;
            that.containerVisible = false;

            // callback
            _safeCallback(that.options.dropdownHidden);
        }

        this.empty = function () {
            that.selectedIndex = -1;
            that.renderItems = [];
        }

        this.scrollToItem = function (offset) {
            if (that.containerVisible === false) {
                return;
            }

            var index = that.selectedIndex + offset;
            var item = that.renderItems[index];
            if (!item) {
                return;
            }

            that.selectItem(index);

            // use jquery.scrollTo plugin if available
            // http://flesler.blogspot.com/2007/10/jqueryscrollto.html
            if (window.jQuery) {  // requires jquery to be loaded
                var li = that.elementUL.find('li[data-index="' + index + '"]');
                if (jQuery.scrollTo) {
                    that.elementUL.scrollTo(li);
                }
                return;
            }

            var li = that.elementUL[0].querySelector('li[data-index="' + index + '"]');
            if (li) {
                // this was causing the page to jump/scroll 
                //    li.scrollIntoView(true);
                that.elementUL[0].scrollTop = li.offsetTop;
            }
        }

        this.selectItem = function (index, confirm) {
            var item = that.renderItems[index];

            if (!angular.isDefined(item)) {
                return;
            }

            that.selectedIndex = index;

            if (confirm === true) {
                // updates textbox and raises callback
                that.confirm();
            }
            else {
                // only updates textbox
                _updateTextBox();
            }
        }

        this.confirm = function () {
            if (that.containerVisible === false) {
                return;
            }

            that.hide();

            selectedValue = _updateTextBox();

            _safeCallback(that.options.itemSelected, { item: selectedValue });
        }

        this.isSelected = function (index) {
            if (index == that.selectedIndex) {
                return that.options.selectedCssClass;
            }
            return '';
        }

        this.selectedText = function () {
            return selectedText;
        }


        function _safeCallback(fn, args) {
            if (!angular.isFunction(fn)) {
                return;
            }

            try {
                return fn.call(that.target, args);
            } catch (e) {
                //ignore
            }
        }

        function _positionDropdown() {
            // no need to position if container has been appended to 
            // parent specified in options
            if (angular.isDefined(that.options.dropdownParent)) {
                return;
            }

            var rect = that.target[0].getBoundingClientRect();

            if (that.options.dropdownWidth == 'auto') {
                // same as textbox width
                that.container.css({ 'width': rect.width + 'px' });
            }
            else {
                that.container.css({ 'width': that.options.dropdownWidth });
            }

            if (that.options.dropdownHeight !== 'auto') {
                that.elementUL.css({ 'height': that.options.dropdownHeight });
            }

            // use the .position() function from jquery.ui if available
            // requires both jquery and jquery-ui to be loaded
            if (window.jQuery && window.jQuery.ui) {
                that.container.position({ my: 'left top', at: 'left bottom', of: that.target, collision: 'none flip' });
                return;
            }
            
            var scrollTop = $document[0].body.scrollTop || $document[0].documentElement.scrollTop || $window.pageYOffset,
                scrollLeft = $document[0].body.scrollLeft || $document[0].documentElement.scrollLeft || $window.pageXOffset;

            that.container.css({ 'left': rect.left + scrollLeft + 'px' });
            that.container.css({ 'top': rect.top + rect.height + scrollTop + 'px' });
        }

        function _updateTextBox() {
            if (that.selectedIndex === -1) {
                return;
            }

            var item = that.renderItems[that.selectedIndex];
            var textboxValue;

            // first check if the data is a simple string type 
            if (angular.isString(item.data)) {
                textboxValue = item.data;
            }
            else {
                textboxValue = item.value;
            }

            // update the textbox 
            _updateModel(textboxValue);

            return item.data;
        }

        function _updateModel(modelValue) {
            // update only if different from current value
            if (modelValue === that.textModelCtrl.$modelValue) {
                return;
            }
            
            that.textModelCtrl.$setViewValue(modelValue);
            that.textModelCtrl.$render();

            selectedText = modelValue;
        }

        function _renderList (renderFn, result) {
            // limit number of items rendered in the dropdown
            var maxItemsToRender = result.length < that.options.maxItemsToRender ? result.length : that.options.maxItemsToRender;
            var itemsToRender = result.slice(0, maxItemsToRender);

            angular.forEach(itemsToRender, function(data, key) {
                //invoke render callback with the data item as parameter
                //this should return an object with a 'label' and 'value' property
                var item = renderFn(data);
                if ( item !== null && angular.isDefined(item) && item.label && item.value ) {
                    // store the data on the renderItem and add to array
                    item.data = data;
                    that.renderItems.push(item);
                }
            });

            that.show();
        }

        function _getRenderFn() {
            // user provided function
            if (angular.isFunction(that.options.renderItem) && that.options.renderItem !== angular.noop) {
                return _getPromise(that.options.renderItem);
            }

            // itemTemplateUrl
            if (that.options.itemTemplateUrl) {
                return _getRenderFn_TemplateUrl();
            }

            // itemTemplate
            var template = that.options.itemTemplate ||  '<span>{{item}}</span>';
            return _getPromise(_renderItem.bind(null, $interpolate(template, false)));
        }

        function _getRenderFn_TemplateUrl() {
            return $templateRequest(that.options.itemTemplateUrl)
                .then(function(content) {
                    // delegate to local function
                    return  _renderItem.bind(null, $interpolate(content, false));
                })
                .catch($exceptionHandler)
                .catch(angular.noop);
        }

        function _renderItem(interpolationFn, data) {
            var value = (angular.isObject(data) && that.options.selectedTextAttr) ? data[that.options.selectedTextAttr] : data;
            return {
                value: value,
                label: $sce.trustAsHtml(interpolationFn({item: data}))
            };
        }

        function _getPromise(value) {
            var deferred = $q.defer();    
            deferred.resolve(value);
            return deferred.promise;
        }
    }

    function autoCompleteService() {
        var directiveCtrls = [];

        this.addDirectiveCtrl = function (ctrl) {
            if (ctrl) {
                directiveCtrls.push(ctrl);
            }
        }

        this.hideIfInactive = function (ctrl) {
            angular.forEach(directiveCtrls, function (value) {
                value.hideIfInactive();
            });
        }

        this.defaultOptionsDoc = function () {
            return defaultOptionsDoc;
        }
    }

    var KEYCODE = {
        ENTER: 13,
        ESCAPE: 27,
        UPARROW: 38,
        DOWNARROW: 40
    };

    var instanceCount = 0;

    var defaultOptions = {
        containerCssClass: '',
        selectedCssClass: 'auto-complete-item-selected',
        minimumChars: 1,
        maxItemsToRender: 20,
        //
        dropdownWidth: 'auto',
        dropdownHeight: 'auto',
        dropdownParent: undefined,
        //
        selectedTextAttr: undefined,
        itemTemplate: undefined,
        itemTemplateUrl: undefined,
        //
        loading: angular.noop,
        data: angular.noop,
        loadingComplete: angular.noop,
        renderItem: angular.noop,
        itemSelected: angular.noop,
        dropdownShown: angular.noop,
        dropdownHidden: angular.noop
    };

    var defaultOptionsDoc = {
        containerCssClass: { def: 'undefined', doc: 'CSS class applied to the dropdown container' },
        selectedCssClass: { def: 'auto-complete-item-selected', doc: 'CSS class applied to the selected list element' },
        minimumChars: { def: '1', doc: 'Minimum number of characters required to display the dropdown.' },
        maxItemsToRender: { def: '20', doc: 'Maximum number of items to render in the list.' },
        dropdownWidth: { def: 'auto', doc: 'Width in "px" of the dropddown list.' },
        dropdownHeight: { def: 'auto', doc: 'Height in "px" of the dropddown list.' },
        dropdownParent: { def: 'undefined', doc: 'a jQuery object to append the dropddown list.' },
        //
        selectedTextAttr: { def: 'undefined', doc: 'If the data for the dropdown is a collection of objects, the value of this attribute will be used to update the input text element.' },
        itemTemplate: { def: 'undefined', doc: 'A template for the dropddown list item. For example "<div>{{item.lastName}} - {{item.jobTitle}}</div>".' },
        itemTemplateUrl: { def: 'undefined', doc: 'This is similar to template but the template is loaded from the specified URL, asynchronously.' },
        //
        loading: { def: 'noop', doc: 'Callback before getting the data for the dropdown.' },
        data: { def: 'noop', doc: 'Callback for data for the dropdown. Must return a promise' },
        loadingComplete: { def: 'noop', doc: 'Callback after the items are rendered in the dropdown.' },
        renderItem: { def: 'noop', doc: 'Callback for custom rendering a list item. This is called for each item in the dropdown. It must return an object literal with "value" and "label" properties, where label is the safe html for display and value is the text for the textbox' },
        itemSelected: { def: 'noop', doc: 'Callback after an item is selected from the dropdown.' },
        dropdownShown: { def: 'noop', doc: 'Callback after the dropdown is hidden.' },
        dropdownHidden: { def: 'noop', doc: 'Callback after the dropdown is shown.' }
    };

})();

},{}],"/Users/cescwang/program/sil/SIL-frontend/node_modules/angular-baidu-map/dist/angular-baidu-map.js":[function(require,module,exports){
(function webpackUniversalModuleDefinition(root, factory) {
	if(typeof exports === 'object' && typeof module === 'object')
		module.exports = factory(require("angular"));
	else if(typeof define === 'function' && define.amd)
		define(["angular"], factory);
	else {
		var a = typeof exports === 'object' ? factory(require("angular")) : factory(root["angular"]);
		for(var i in a) (typeof exports === 'object' ? exports : root)[i] = a[i];
	}
})(this, function(__WEBPACK_EXTERNAL_MODULE_1__) {
return /******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId])
/******/ 			return installedModules[moduleId].exports;
/******/
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			exports: {},
/******/ 			id: moduleId,
/******/ 			loaded: false
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.loaded = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(0);
/******/ })
/************************************************************************/
/******/ ([
/* 0 */
/***/ function(module, exports, __webpack_require__) {

	'use strict';
	
	Object.defineProperty(exports, "__esModule", {
	    value: true
	});
	exports.ngBaiduMap = undefined;
	
	var _angular = __webpack_require__(1);
	
	var _angular2 = _interopRequireDefault(_angular);
	
	var _defaults = __webpack_require__(2);
	
	var _validator = __webpack_require__(3);
	
	var _directiveDef = __webpack_require__(4);
	
	var _baiduScriptLoader = __webpack_require__(5);
	
	var _offline = __webpack_require__(6);
	
	var _map = __webpack_require__(7);
	
	function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }
	
	var ngBaiduMap = exports.ngBaiduMap = function () {
	    var name = 'baiduMap';
	
	    (0, _directiveDef.def)(name, {
	        restrict: 'E',
	        scope: {
	            options: '=',
	            ak: '@',
	            offline: '=',
	            onMapLoaded: '&'
	        },
	        link: function link($scope, element, attrs) {
	
	            var opts = _angular2.default.extend({}, _defaults.defaultOpts, $scope.options);
	            var offlineOpts = _angular2.default.extend({}, _defaults.defaultOfflineOpts, $scope.offline);
	            $scope.offlineWords = offlineOpts.txt;
	            (0, _validator.validator)($scope.ak, 'ak must not be empty');
	            (0, _validator.validator)(opts.center, 'options.center must be set');
	            (0, _validator.validator)(opts.center.longitude, 'options.center.longitude must be set');
	            (0, _validator.validator)(opts.center.latitude, 'options.center.latitude must be set');
	            (0, _validator.validator)(opts.city, 'options.city must be set');
	
	            (0, _baiduScriptLoader.loader)($scope.ak, offlineOpts, function () {
	
	                var map = (0, _map.createInstance)(opts, element);
	
	                $scope.onMapLoaded({ map: map });
	
	                //create markers
	                var previousMarkers = [];
	
	                (0, _map.redrawMarkers)(map, previousMarkers, opts);
	
	                $scope.$watch('options.center', function (newValue, oldValue) {
	
	                    opts = $scope.options;
	                    map.centerAndZoom(new BMap.Point(opts.center.longitude, opts.center.latitude), opts.zoom);
	                    (0, _map.redrawMarkers)(map, previousMarkers, opts);
	                }, true);
	
	                $scope.$watch('options.markers', function (newValue, oldValue) {
	                    (0, _map.redrawMarkers)(map, previousMarkers, opts);
	                }, true);
	            });
	
	            $scope.divStyle = _offline.divStyle;
	            $scope.labelStyle = _offline.labelStyle;
	
	            setTimeout(function () {
	                var $label = document.querySelector('baidu-map div label');
	                $scope.labelStyle.marginTop = $label.clientHeight / -2 + 'px';
	                $scope.labelStyle.marginLeft = $label.clientWidth / -2 + 'px';
	                $scope.$apply();
	            });
	        },
	        template: '<div ng-style="divStyle"><label ng-style="labelStyle">{{ offlineWords }}</label></div>'
	    });
	
	    return name;
	}();

/***/ },
/* 1 */
/***/ function(module, exports) {

	module.exports = __WEBPACK_EXTERNAL_MODULE_1__;

/***/ },
/* 2 */
/***/ function(module, exports) {

	'use strict';
	
	Object.defineProperty(exports, "__esModule", {
	    value: true
	});
	var defaultOpts = exports.defaultOpts = {
	    navCtrl: true,
	    scaleCtrl: true,
	    overviewCtrl: true,
	    enableScrollWheelZoom: true,
	    zoom: 10
	};
	
	var defaultOfflineOpts = exports.defaultOfflineOpts = {
	    retryInterval: 30000,
	    txt: 'OFFLINE'
	};

/***/ },
/* 3 */
/***/ function(module, exports) {

	"use strict";
	
	Object.defineProperty(exports, "__esModule", {
	    value: true
	});
	var validator = exports.validator = function validator(prop, desc) {
	    if (!prop) {
	        throw new Error(desc);
	    }
	};

/***/ },
/* 4 */
/***/ function(module, exports, __webpack_require__) {

	'use strict';
	
	Object.defineProperty(exports, "__esModule", {
	    value: true
	});
	exports.def = undefined;
	
	var _angular = __webpack_require__(1);
	
	var _angular2 = _interopRequireDefault(_angular);
	
	function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }
	
	var def = exports.def = function def(name, ddo) {
	    _angular2.default.module(name, []).directive(name, [function () {
	        return ddo;
	    }]);
	};

/***/ },
/* 5 */
/***/ function(module, exports) {

	'use strict';
	
	Object.defineProperty(exports, "__esModule", {
	    value: true
	});
	var loader = exports.loader = function loader(ak, offlineOpts, callback) {
	    var MAP_URL = '//api.map.baidu.com/api?v=2.0&ak=' + ak + '&callback=baidumapinit&s=' + (location.protocol === 'https:' ? 1 : 0);
	
	    var baiduMap = window.baiduMap;
	    if (baiduMap && baiduMap.status === 'loading') {
	        return baiduMap.callbacks.push(callback);
	    }
	
	    if (baiduMap && baiduMap.status === 'loaded') {
	        return callback();
	    }
	
	    window.baiduMap = { status: 'loading', callbacks: [] };
	    window.baidumapinit = function () {
	        window.baiduMap.status = 'loaded';
	        callback();
	        window.baiduMap.callbacks.forEach(function (cb) {
	            return cb();
	        });
	        window.baiduMap.callbacks = [];
	    };
	
	    var createTag = function createTag() {
	        var script = document.createElement('script');
	        script.type = 'text/javascript';
	        script.src = MAP_URL;
	        script.onerror = function () {
	
	            Array.prototype.slice.call(document.querySelectorAll('baidu-map div')).forEach(function (node) {
	                node.style.opacity = 1;
	            });
	            document.body.removeChild(script);
	            setTimeout(createTag, offlineOpts.retryInterval);
	        };
	        document.body.appendChild(script);
	    };
	
	    createTag();
	};

/***/ },
/* 6 */
/***/ function(module, exports) {

	'use strict';
	
	Object.defineProperty(exports, "__esModule", {
	    value: true
	});
	var divStyle = exports.divStyle = {
	    width: '100%',
	    height: '100%',
	    backgroundColor: '#E6E6E6',
	    position: 'relative',
	    opacity: 0
	};
	
	var labelStyle = exports.labelStyle = {
	    fontSize: '30px',
	    position: 'absolute',
	    top: '50%',
	    marginTop: 0,
	    left: '50%',
	    marginLeft: 0
	};

/***/ },
/* 7 */
/***/ function(module, exports) {

	'use strict';
	
	Object.defineProperty(exports, "__esModule", {
	    value: true
	});
	var createInstance = exports.createInstance = function createInstance(opts, element) {
	    // create map instance
	    var map = new BMap.Map(element[0]);
	
	    // init map, set central location and zoom level
	    map.centerAndZoom(new BMap.Point(opts.center.longitude, opts.center.latitude), opts.zoom);
	    if (opts.navCtrl) {
	        // add navigation control
	        map.addControl(new BMap.NavigationControl());
	    }
	    if (opts.scaleCtrl) {
	        // add scale control
	        map.addControl(new BMap.ScaleControl());
	    }
	    if (opts.overviewCtrl) {
	        //add overview map control
	        map.addControl(new BMap.OverviewMapControl());
	    }
	    if (opts.enableScrollWheelZoom) {
	        //enable scroll wheel zoom
	        map.enableScrollWheelZoom();
	    }
	
	    // set the city name
	    map.setCurrentCity(opts.city);
	    return map;
	};
	
	var createMarker = exports.createMarker = function createMarker(marker, pt) {
	    if (marker.icon) {
	        var icon = new BMap.Icon(marker.icon, new BMap.Size(marker.width, marker.height));
	        return new BMap.Marker(pt, { icon: icon });
	    }
	    return new BMap.Marker(pt);
	};
	
	var redrawMarkers = exports.redrawMarkers = function redrawMarkers(map, previousMarkers, opts) {
	
	    previousMarkers.forEach(function (_ref) {
	        var marker = _ref.marker;
	        var listener = _ref.listener;
	
	        marker.removeEventListener('click', listener);
	        map.removeOverlay(marker);
	    });
	
	    previousMarkers.length = 0;
	
	    if (!opts.markers) {
	        return;
	    }
	
	    opts.markers.forEach(function (marker) {
	
	        var marker2 = createMarker(marker, new BMap.Point(marker.longitude, marker.latitude));
	
	        // add marker to the map
	        map.addOverlay(marker2);
	        var previousMarker = { marker: marker2, listener: null };
	        previousMarkers.push(previousMarker);
	
	        if (!marker.title && !marker.content) {
	            return;
	        }
	        var msg = '<p>' + (marker.title || '') + '</p><p>' + (marker.content || '') + '</p>';
	        var infoWindow2 = new BMap.InfoWindow(msg, {
	            enableMessage: !!marker.enableMessage
	        });
	        previousMarker.listener = function () {
	            this.openInfoWindow(infoWindow2);
	        };
	        marker2.addEventListener('click', previousMarker.listener);
	    });
	};

/***/ }
/******/ ])
});
;
},{"angular":"angular"}],"/Users/cescwang/program/sil/SIL-frontend/node_modules/angular-block-ui/dist/angular-block-ui.js":[function(require,module,exports){
/*!
   angular-block-ui v0.2.1
   (c) 2015 (null) McNull https://github.com/McNull/angular-block-ui
   License: MIT
*/
(function(angular) {

var blkUI = angular.module('blockUI', []);

blkUI.config(["$provide", "$httpProvider", function ($provide, $httpProvider) {

  $provide.decorator('$exceptionHandler', ['$delegate', '$injector',
    function ($delegate, $injector) {
      var blockUI, blockUIConfig;

      return function (exception, cause) {

        blockUIConfig = blockUIConfig || $injector.get('blockUIConfig');

        if (blockUIConfig.resetOnException) {
          try {
            blockUI = blockUI || $injector.get('blockUI');
            blockUI.instances.reset();
          } catch (ex) {
            console.log('$exceptionHandler', exception);
          }
        }

        $delegate(exception, cause);
      };
    }
  ]);

  $httpProvider.interceptors.push('blockUIHttpInterceptor');
}]);

blkUI.run(["$document", "blockUIConfig", "$templateCache", function ($document, blockUIConfig, $templateCache) {
  if (blockUIConfig.autoInjectBodyBlock) {
    $document.find('body').attr('block-ui', 'main');
  }

  if (blockUIConfig.template) {

    // Swap the builtin template with the custom template.
    // Create a magic cache key and place the template in the cache.

    blockUIConfig.templateUrl = '$$block-ui-template$$';
    $templateCache.put(blockUIConfig.templateUrl, blockUIConfig.template);
  }
}]);

function moduleLoaded(name) {
  try {
    angular.module(name);
  } catch(ex) {
    return false;
  }
  return true;
}
blkUI.config(["$provide", function ($provide) {
  $provide.decorator('$location', decorateLocation);
}]);

var decorateLocation = [
  '$delegate', 'blockUI', 'blockUIConfig',
  function ($delegate, blockUI, blockUIConfig) {

    if (blockUIConfig.blockBrowserNavigation) {

      blockUI.$_blockLocationChange = true;

      var overrides = ['url', 'path', 'search', 'hash', 'state'];

      function hook(f) {
        var s = $delegate[f];
        $delegate[f] = function () {

          //        console.log(f, Date.now(), arguments);

          var result = s.apply($delegate, arguments);

          // The call was a setter if the $location service is returned.

          if (result === $delegate) {

            // Mark the mainblock ui to allow the location change.

            blockUI.$_blockLocationChange = false;
          }

          return result;
        };
      }

      angular.forEach(overrides, hook);

    }

    return $delegate;
}];

// Called from block-ui-directive for the 'main' instance.

function blockNavigation($scope, mainBlockUI, blockUIConfig) {

  if (blockUIConfig.blockBrowserNavigation) {

    function registerLocationChange() {

      $scope.$on('$locationChangeStart', function (event) {

        //        console.log('$locationChangeStart', mainBlockUI.$_blockLocationChange + ' ' + mainBlockUI.state().blockCount);

        if (mainBlockUI.$_blockLocationChange && mainBlockUI.state().blockCount > 0) {
          event.preventDefault();
        }
      });

      $scope.$on('$locationChangeSuccess', function () {
        mainBlockUI.$_blockLocationChange = blockUIConfig.blockBrowserNavigation;

        //        console.log('$locationChangeSuccess', mainBlockUI.$_blockLocationChange + ' ' + mainBlockUI.state().blockCount);
      });
    }

    if (moduleLoaded('ngRoute')) {

      // After the initial content has been loaded we'll spy on any location
      // changes and discard them when needed.

      var fn = $scope.$on('$viewContentLoaded', function () {

        // Unhook the view loaded and hook a function that will prevent
        // location changes while the block is active.

        fn();
        registerLocationChange();

      });

    } else {
      registerLocationChange();
    }

  }
}
blkUI.directive('blockUiContainer', ["blockUIConfig", "blockUiContainerLinkFn", function (blockUIConfig, blockUiContainerLinkFn) {
  return {
    scope: true,
    restrict: 'A',
    templateUrl: blockUIConfig.templateUrl,
    compile: function($element) {
      return blockUiContainerLinkFn;
    }
  };
}]).factory('blockUiContainerLinkFn', ["blockUI", "blockUIUtils", function (blockUI, blockUIUtils) {

  return function ($scope, $element, $attrs) {

    var srvInstance = $element.inheritedData('block-ui');

    if (!srvInstance) {
      throw new Error('No parent block-ui service instance located.');
    }

    // Expose the state on the scope

    $scope.state = srvInstance.state();

//    $scope.$watch('state.blocking', function(value) {
//      $element.toggleClass('block-ui-visible', !!value);
//    });
//
//    $scope.$watch('state.blockCount > 0', function(value) {
//      $element.toggleClass('block-ui-active', !!value);
//    });
  };
}]);
blkUI.directive('blockUi', ["blockUiCompileFn", function (blockUiCompileFn) {

  return {
    scope: true,
    restrict: 'A',
    compile: blockUiCompileFn
  };

}]).factory('blockUiCompileFn', ["blockUiPreLinkFn", function (blockUiPreLinkFn) {

  return function ($element, $attrs) {

    // Class should be added here to prevent an animation delay error.

    $element.append('<div block-ui-container class="block-ui-container"></div>');

    return {
      pre: blockUiPreLinkFn
    };

  };

}]).factory('blockUiPreLinkFn', ["blockUI", "blockUIUtils", "blockUIConfig", function (blockUI, blockUIUtils, blockUIConfig) {

  return function ($scope, $element, $attrs) {

    // If the element does not have the class "block-ui" set, we set the
    // default css classes from the config.

    if (!$element.hasClass('block-ui')) {
      $element.addClass(blockUIConfig.cssClass);
    }

    // Expose the blockUiMessageClass attribute value on the scope

    $attrs.$observe('blockUiMessageClass', function (value) {
      $scope.$_blockUiMessageClass = value;
    });

    // Create the blockUI instance
    // Prefix underscore to prevent integers:
    // https://github.com/McNull/angular-block-ui/pull/8

    var instanceId = $attrs.blockUi || '_' + $scope.$id;
    var srvInstance = blockUI.instances.get(instanceId);

    // If this is the main (topmost) block element we'll also need to block any
    // location changes while the block is active.

    if (instanceId === 'main') {
      blockNavigation($scope, srvInstance, blockUIConfig);
    } else {
      // Locate the parent blockUI instance
      var parentInstance = $element.inheritedData('block-ui');

      if (parentInstance) {
        // TODO: assert if parent is already set to something else
        srvInstance._parent = parentInstance;
      }
    }

    // Ensure the instance is released when the scope is destroyed

    $scope.$on('$destroy', function () {
      srvInstance.release();
    });

    // Increase the reference count

    srvInstance.addRef();

    // Expose the state on the scope

    $scope.$_blockUiState = srvInstance.state();

    $scope.$watch('$_blockUiState.blocking', function (value) {
      // Set the aria-busy attribute if needed
      $element.attr('aria-busy', !!value);
      $element.toggleClass('block-ui-visible', !!value);
    });

    $scope.$watch('$_blockUiState.blockCount > 0', function (value) {
      $element.toggleClass('block-ui-active', !!value);
    });

    // If a pattern is provided assign it to the state

    var pattern = $attrs.blockUiPattern;

    if (pattern) {
      var regExp = blockUIUtils.buildRegExp(pattern);
      srvInstance.pattern(regExp);
    }

    // Store a reference to the service instance on the element

    $element.data('block-ui', srvInstance);

  };

}]);
//.factory('blockUiPostLinkFn', function(blockUIUtils) {
//
//  return function($scope, $element, $attrs) {
//
//    var $message;
//
//    $attrs.$observe('blockUiMessageClass', function(value) {
//
//      $message = $message || blockUIUtils.findElement($element, function($e) {
//        return $e.hasClass('block-ui-message');
//      });
//
//      $message.addClass(value);
//
//    });
//  };
//
//});
blkUI.constant('blockUIConfig', {
    templateUrl: 'angular-block-ui/angular-block-ui.ng.html',
    delay: 250,
    message: "Loading ...",
    autoBlock: true,
    resetOnException: true,
    requestFilter: angular.noop,
    autoInjectBodyBlock: true,
    cssClass: 'block-ui block-ui-anim-fade',
    blockBrowserNavigation: false
});


blkUI.factory('blockUIHttpInterceptor', ["$q", "$injector", "blockUIConfig", "$templateCache", function($q, $injector, blockUIConfig, $templateCache) {

  var blockUI;

  function injectBlockUI() {
    blockUI = blockUI || $injector.get('blockUI');
  }

  function stopBlockUI(config) {
    if (blockUIConfig.autoBlock && (config && !config.$_noBlock && config.$_blocks)) {
      injectBlockUI();
      config.$_blocks.stop();
    }
  }

  function error(rejection) {

    try {
      stopBlockUI(rejection.config);
    } catch(ex) {
      console.log('httpRequestError', ex);
    }

    return $q.reject(rejection);
  }

  return {
    request: function(config) {

      // Only block when autoBlock is enabled ...
      // ... and the request doesn't match a cached template.

      if (blockUIConfig.autoBlock &&
        !(config.method == 'GET' && $templateCache.get(config.url))) {

        // Don't block excluded requests

        var result = blockUIConfig.requestFilter(config);

        if (result === false) {
          // Tag the config so we don't unblock this request
          config.$_noBlock = true;
        } else {

          injectBlockUI();

          config.$_blocks = blockUI.instances.locate(config);
          config.$_blocks.start(result);
        }
      }

      return config;
    },

    requestError: error,

    response: function(response) {

      // If the connection to the website goes down the response interceptor gets and error with "cannot read property config of null".
      // https://github.com/McNull/angular-block-ui/issues/53

      if(response) {
        stopBlockUI(response.config);
      }

      return response;
    },

    responseError: error
  };

}]);

blkUI.factory('blockUI', ["blockUIConfig", "$timeout", "blockUIUtils", "$document", function(blockUIConfig, $timeout, blockUIUtils, $document) {

  var $body = $document.find('body');
  
  // These properties are not allowed to be specified in the start method.
  var reservedStateProperties = ['id', 'blockCount', 'blocking'];
  
  function BlockUI(id) {

    var self = this;

    var state = {
      id: id,
      blockCount: 0,
      message: blockUIConfig.message,
      blocking: false
    }, startPromise, doneCallbacks = [];

    this._id = id;

    this._refs = 0;

    this.start = function(messageOrOptions) {
      
      messageOrOptions = messageOrOptions || {};
      
      if(angular.isString(messageOrOptions)) {
        messageOrOptions = {
          message: messageOrOptions
        };
      } else {
        angular.forEach(reservedStateProperties, function(x) {
          if(messageOrOptions[x]) {
            throw new Error('The property ' + x + ' is reserved for the block state.');
          }
        });
      } 
      
      angular.extend(state, messageOrOptions);
      
      if(state.blockCount > 0) {
        state.message = messageOrOptions.message || state.message || blockUIConfig.message;
      } else {
        state.message = messageOrOptions.message || blockUIConfig.message;
      }
      
      // if(state.blockCount > 0) {
      //   messageOrOptions = messageOrOptions || state.message || blockUIConfig.message;
      // } else {
      //   messageOrOptions = messageOrOptions || blockUIConfig.message;
      // }

      // state.message = messageOrOptions;

      state.blockCount++;

      // Check if the focused element is part of the block scope

      var $ae = angular.element($document[0].activeElement);

      if($ae.length && blockUIUtils.isElementInBlockScope($ae, self)) {

        // Let the active element lose focus and store a reference 
        // to restore focus when we're done (reset)

        self._restoreFocus = $ae[0];

        // https://github.com/McNull/angular-block-ui/issues/13
        // http://stackoverflow.com/questions/22698058/apply-already-in-progress-error-when-using-typeahead-plugin-found-to-be-relate
        // Queue the blur after any ng-blur expression.

        $timeout(function() {
          // Ensure we still need to blur
          // Don't restore if active element is body, since this causes IE to switch windows (see http://tjvantoll.com/2013/08/30/bugs-with-document-activeelement-in-internet-explorer/)
          if (self._restoreFocus && self._restoreFocus !== $body[0]) {
            self._restoreFocus.blur();
          }
        });
      }

      if (!startPromise && blockUIConfig.delay !== 0) {
        startPromise = $timeout(block, blockUIConfig.delay);
      } else if (blockUIConfig.delay === 0) {
        block();
      }

      function block () {
        startPromise = null;
        state.blocking = true;
      }
    };

    this._cancelStartTimeout = function() {
      if (startPromise) {
        $timeout.cancel(startPromise);
        startPromise = null;
      }
    };

    this.stop = function() {
      state.blockCount = Math.max(0, --state.blockCount);

      if (state.blockCount === 0) {
        self.reset(true);
      }
    };

    this.isBlocking = function () {
        return state.blocking;
    };

    this.message = function(value) {
      state.message = value;
    };

    this.pattern = function(regexp) {
      if (regexp !== undefined) {
        self._pattern = regexp;
      }

      return self._pattern;
    };

    this.reset = function(executeCallbacks) {
      
      self._cancelStartTimeout();
      state.blockCount = 0;
      state.blocking = false;

      // Restore the focus to the element that was active
      // before the block start, but not if the user has 
      // focused something else while the block was active.

      if(self._restoreFocus && 
         (!$document[0].activeElement || $document[0].activeElement === $body[0])) {
        
        //IE8 will throw if element for setting focus is invisible
        try {
          self._restoreFocus.focus();
        } catch(e1) {
          (function () {
              var elementToFocus = self._restoreFocus;
              $timeout(function() { 
                if(elementToFocus) { 
                  try { 
                    elementToFocus.focus(); 
                  } catch(e2) { }
              } 
            },100);
          })();
        }
        
        self._restoreFocus = null;
      }
      
      try {
        if (executeCallbacks) {
          angular.forEach(doneCallbacks, function(cb) {
            cb();
          });
        }
      } finally {
        doneCallbacks.length = 0;
      }
    };

    this.done = function(fn) {
      doneCallbacks.push(fn);
    };

    this.state = function() {
      return state;
    };

    this.addRef = function() {
      self._refs += 1;
    };

    this.release = function() {
      if(--self._refs <= 0) {
        mainBlock.instances._destroy(self);
      }
    };
  }

  var instances = [];

  instances.get = function(id) {

    if(!isNaN(id)) {
      throw new Error('BlockUI id cannot be a number');
    }

    var instance = instances[id];

    if(!instance) {
      // TODO: ensure no array instance trashing [xxx] -- current workaround: '_' + $scope.$id
      instance = instances[id] = new BlockUI(id);
      instances.push(instance);
    }

    return instance;
  };

  instances._destroy = function(idOrInstance) {
    if (angular.isString(idOrInstance)) {
      idOrInstance = instances[idOrInstance];
    }

    if (idOrInstance) {
      idOrInstance.reset();

      var i = blockUIUtils.indexOf(instances, idOrInstance);
      instances.splice(i, 1);

      delete instances[idOrInstance.state().id];
    }
  };
  
  instances.locate = function(request) {

    var result = [];

    // Add function wrappers that will be executed on every item
    // in the array.
    
    blockUIUtils.forEachFnHook(result, 'start');
    blockUIUtils.forEachFnHook(result, 'stop');

    var i = instances.length;

    while(i--) {
      var instance = instances[i];
      var pattern = instance._pattern;

      if(pattern && pattern.test(request.url)) {
        result.push(instance);
      }
    }

    if(result.length === 0) {
      result.push(mainBlock);
    }

    return result;
  };

  // Propagate the reset to all instances

  blockUIUtils.forEachFnHook(instances, 'reset');

  var mainBlock = instances.get('main');

  mainBlock.addRef();
  mainBlock.instances = instances;

  return mainBlock;
}]);


blkUI.factory('blockUIUtils', function() {

  var $ = angular.element;

  var utils = {
    buildRegExp: function(pattern) {
      var match = pattern.match(/^\/(.*)\/([gim]*)$/), regExp;

      if(match) {
        regExp = new RegExp(match[1], match[2]);
      } else {
        throw Error('Incorrect regular expression format: ' + pattern);
      }

      return regExp;
    },
    forEachFn: function(arr, fnName, args) {
      var i = arr.length;
      while(i--) {
        var t = arr[i];
        t[fnName].apply(t, args);
      }
    },
    forEachFnHook: function(arr, fnName) {
      arr[fnName] = function() {
        utils.forEachFn(this, fnName, arguments);
      }
    },
    isElementInBlockScope: function($element, blockScope) {
      var c = $element.inheritedData('block-ui');

      while(c) {
        if(c === blockScope) {
          return true;
        }

        c = c._parent;
      }

      return false;
    },
    findElement: function ($element, predicateFn, traverse) {
      var ret = null;

      if (predicateFn($element)) {
        ret = $element;
      } else {

        var $elements;

        if (traverse) {
          $elements = $element.parent();
        } else {
          $elements = $element.children();
        }

        var i = $elements.length;
        while (!ret && i--) {
          ret = utils.findElement($($elements[i]), predicateFn, traverse);
        }
      }

      return ret;
    },
    indexOf: function(arr, obj, start) {
//      if(Array.prototype.indexOf) {
//        return arr.indexOf(obj, start);
//      }

      for (var i = (start || 0), j = arr.length; i < j; i++) {
        if (arr[i] === obj) {
          return i;
        }
      }

      return -1;
    }
  };

  return utils;

});
// Automatically generated.
// This file is already embedded in your main javascript output, there's no need to include this file
// manually in the index.html. This file is only here for your debugging pleasures.
angular.module('blockUI').run(['$templateCache', function($templateCache){
  $templateCache.put('angular-block-ui/angular-block-ui.ng.html', '<div class=\"block-ui-overlay\"></div><div class=\"block-ui-message-container\" aria-live=\"assertive\" aria-atomic=\"true\"><div class=\"block-ui-message\" ng-class=\"$_blockUiMessageClass\">{{ state.message }}</div></div>');
}]);
})(angular);

},{}],"/Users/cescwang/program/sil/SIL-frontend/node_modules/angular-datepicker/dist/angular-datepicker.js":[function(require,module,exports){
(function (global, factory) {'use strict';var fnc;fnc = (typeof exports === 'object' && typeof module !== 'undefined') ? module.exports = factory(require('angular'), require('moment')) :(typeof define === 'function' && define.amd) ? define(['angular', 'moment'], factory) :factory(global.angular, global.moment);}(this, function (angular, moment) {
//(function (global, factory) {
//  'use strict';
//  var fnc;
//  fnc = (typeof exports === 'object' && typeof module !== 'undefined') ? module.exports = factory(require('angular'), require('moment')) :
//        (typeof define === 'function' && define.amd) ? define(['angular', 'moment'], factory) :
//        factory(global.angular, global.moment);
//}(this, function (angular, moment) {
var Module = angular.module('datePicker', []);

  Module.constant('datePickerConfig', {
    template: 'templates/datepicker.html',
    view: 'month',
    views: ['year', 'month', 'date', 'hours', 'minutes'],
    momentNames: {
      year: 'year',
      month: 'month',
      date: 'day',
      hours: 'hours',
      minutes: 'minutes',
    },
    viewConfig: {
      year: ['years', 'isSameYear'],
      month: ['months', 'isSameMonth'],
      hours: ['hours', 'isSameHour'],
      minutes: ['minutes', 'isSameMinutes'],
    },
    step: 5
  });

//Moment format filter.
  Module.filter('mFormat', function () {
    return function (m, format, tz) {
      if (!(moment.isMoment(m))) {
        return moment(m).format(format);
      }
      return tz ? moment.tz(m, tz).format(format) : m.format(format);
    };
  });

  Module.directive('datePicker', ['datePickerConfig', 'datePickerUtils', function datePickerDirective(datePickerConfig, datePickerUtils) {

    //noinspection JSUnusedLocalSymbols
    return {
      // this is a bug ?
      require: '?ngModel',
      template: '<div ng-include="template"></div>',
      scope: {
        model: '=datePicker',
        after: '=?',
        before: '=?'
      },
      link: function (scope, element, attrs, ngModel) {
        function prepareViews() {
          scope.views = datePickerConfig.views.concat();
          scope.view = attrs.view || datePickerConfig.view;

          scope.views = scope.views.slice(
            scope.views.indexOf(attrs.maxView || 'year'),
            scope.views.indexOf(attrs.minView || 'minutes') + 1
          );

          if (scope.views.length === 1 || scope.views.indexOf(scope.view) === -1) {
            scope.view = scope.views[0];
          }
        }

        function getDate(name) {
          return datePickerUtils.getDate(scope, attrs, name);
        }

        var arrowClick = false,
          tz = scope.tz = attrs.timezone,
          createMoment = datePickerUtils.createMoment,
          eventIsForPicker = datePickerUtils.eventIsForPicker,
          step = parseInt(attrs.step || datePickerConfig.step, 10),
          partial = !!attrs.partial,
          minDate = getDate('minDate'),
          maxDate = getDate('maxDate'),

          /**
           * [指令内包含date-picker指令时，通过element[0].id并不能获取到动态id]
           * @type {[type]}
           */
          // pickerID = element[0].id,
          pickerID = scope.$parent.id || element[0].id,

          now = scope.now = createMoment(),
          selected = scope.date = createMoment(scope.model || now),
          autoclose = attrs.autoClose === 'true',
        // Either gets the 1st day from the attributes, or asks moment.js to give it to us as it is localized.
          firstDay = attrs.firstDay && attrs.firstDay >= 0 && attrs.firstDay <= 6 ? parseInt(attrs.firstDay, 10) : moment().weekday(0).day(),
          setDate,
          prepareViewData,
          isSame,
          clipDate,
          isNow,
          inValidRange;

        datePickerUtils.setParams(tz, firstDay);

        if (!scope.model) {
          selected.minute(Math.ceil(selected.minute() / step) * step).second(0);
        }

        scope.template = attrs.template || datePickerConfig.template;

        scope.watchDirectChanges = attrs.watchDirectChanges !== undefined;
        scope.callbackOnSetDate = attrs.dateChange ? datePickerUtils.findFunction(scope, attrs.dateChange) : undefined;

        prepareViews();

        scope.setView = function (nextView) {
          if (scope.views.indexOf(nextView) !== -1) {
            scope.view = nextView;
          }
        };

        scope.selectDate = function (date) {
          if (attrs.disabled) {
            return false;
          }
          if (isSame(scope.date, date)) {
            date = scope.date;
          }
          date = clipDate(date);
          if (!date) {
            return false;
          }
          scope.date = date;

          var nextView = scope.views[scope.views.indexOf(scope.view) + 1];
          if ((!nextView || partial) || scope.model) {
            setDate(date);
          }

          if (nextView) {
            scope.setView(nextView);
          } else if (autoclose) {
            element.addClass('hidden');
            scope.$emit('hidePicker');
          } else {
            prepareViewData();
          }
        };

        setDate = function (date) {
          if (date) {
            scope.model = date;
            if (ngModel) {
              ngModel.$setViewValue(date);
            }
          }
          scope.$emit('setDate', scope.model, scope.view);

          //This is duplicated in the new functionality.
          if (scope.callbackOnSetDate) {
            scope.callbackOnSetDate(attrs.datePicker, scope.date);
          }
        };

        function update() {
          var view = scope.view;
          datePickerUtils.setParams(tz, firstDay);

          if (scope.model && !arrowClick) {
            scope.date = createMoment(scope.model);
            arrowClick = false;
          }

          var date = scope.date;

          switch (view) {
            case 'year':
              scope.years = datePickerUtils.getVisibleYears(date);
              break;
            case 'month':
              scope.months = datePickerUtils.getVisibleMonths(date);
              break;
            case 'date':
              scope.weekdays = scope.weekdays || datePickerUtils.getDaysOfWeek();
              scope.weeks = datePickerUtils.getVisibleWeeks(date);
              break;
            case 'hours':
              scope.hours = datePickerUtils.getVisibleHours(date);
              break;
            case 'minutes':
              scope.minutes = datePickerUtils.getVisibleMinutes(date, step);
              break;
          }

          prepareViewData();
        }

        function watch() {
          if (scope.view !== 'date') {
            return scope.view;
          }
          return scope.date ? scope.date.month() : null;
        }

        scope.$watch(watch, update);

        if (scope.watchDirectChanges) {
          scope.$watch('model', function () {
            arrowClick = false;
            update();
          });
        }

        prepareViewData = function () {
          var view = scope.view,
            date = scope.date,
            classes = [], classList = '',
            i, j;

          datePickerUtils.setParams(tz, firstDay);

          if (view === 'date') {
            var weeks = scope.weeks, week;
            for (i = 0; i < weeks.length; i++) {
              week = weeks[i];
              classes.push([]);
              for (j = 0; j < week.length; j++) {
                classList = '';
                if (datePickerUtils.isSameDay(date, week[j])) {
                  classList += 'active';
                }
                if (isNow(week[j], view)) {
                  classList += ' now';
                }
                //if (week[j].month() !== date.month()) classList += ' disabled';
                if (week[j].month() !== date.month() || !inValidRange(week[j])) {
                  classList += ' disabled';
                }
                classes[i].push(classList);
              }
            }
          } else {
            var params = datePickerConfig.viewConfig[view],
              dates = scope[params[0]],
              compareFunc = params[1];

            for (i = 0; i < dates.length; i++) {
              classList = '';
              if (datePickerUtils[compareFunc](date, dates[i])) {
                classList += 'active';
              }
              if (isNow(dates[i], view)) {
                classList += ' now';
              }
              if (!inValidRange(dates[i])) {
                classList += ' disabled';
              }
              classes.push(classList);
            }
          }
          scope.classes = classes;
        };

        scope.next = function (delta) {
          var date = moment(scope.date);
          delta = delta || 1;
          switch (scope.view) {
            case 'year':
            /*falls through*/
            case 'month':
              date.year(date.year() + delta);
              break;
            case 'date':
              date.month(date.month() + delta);
              break;
            case 'hours':
            /*falls through*/
            case 'minutes':
              date.hours(date.hours() + delta);
              break;
          }
          date = clipDate(date);
          if (date) {
            scope.date = date;
            setDate(date);
            arrowClick = true;
            update();
          }
        };

        inValidRange = function (date) {
          var valid = true;
          if (minDate && minDate.isAfter(date)) {
            valid = isSame(minDate, date);
          }
          if (maxDate && maxDate.isBefore(date)) {
            valid &= isSame(maxDate, date);
          }
          return valid;
        };

        isSame = function (date1, date2) {
          return date1.isSame(date2, datePickerConfig.momentNames[scope.view]) ? true : false;
        };

        clipDate = function (date) {
          if (minDate && minDate.isAfter(date)) {
            return minDate;
          } else if (maxDate && maxDate.isBefore(date)) {
            return maxDate;
          } else {
            return date;
          }
        };

        isNow = function (date, view) {
          var is = true;

          switch (view) {
            case 'minutes':
              is &= ~~(now.minutes() / step) === ~~(date.minutes() / step);
            /* falls through */
            case 'hours':
              is &= now.hours() === date.hours();
            /* falls through */
            case 'date':
              is &= now.date() === date.date();
            /* falls through */
            case 'month':
              is &= now.month() === date.month();
            /* falls through */
            case 'year':
              is &= now.year() === date.year();
          }
          return is;
        };

        scope.prev = function (delta) {
          return scope.next(-delta || -1);
        };

        if (pickerID) {
          scope.$on('pickerUpdate', function (event, pickerIDs, data) {
            if (eventIsForPicker(pickerIDs, pickerID)) {
              var updateViews = false, updateViewData = false;

              if (angular.isDefined(data.minDate)) {
                minDate = data.minDate ? data.minDate : false;
                updateViewData = true;
              }
              if (angular.isDefined(data.maxDate)) {
                maxDate = data.maxDate ? data.maxDate : false;
                updateViewData = true;
              }

              if (angular.isDefined(data.minView)) {
                attrs.minView = data.minView;
                updateViews = true;
              }
              if (angular.isDefined(data.maxView)) {
                attrs.maxView = data.maxView;
                updateViews = true;
              }
              attrs.view = data.view || attrs.view;

              if (updateViews) {
                prepareViews();
              }

              if (updateViewData) {
                update();
              }
            }
          });
        }
      }
    };
  }]);
//}));

//(function (global, factory) {
//  'use strict';
//  var fnc;
//  fnc = (typeof exports === 'object' && typeof module !== 'undefined') ? module.exports = factory(require('angular'), require('moment')) :
//    (typeof define === 'function' && define.amd) ? define(['angular', 'moment'], factory) :
//      factory(global.angular, global.moment);
//}(this, function (angular, moment) {
angular.module('datePicker').factory('datePickerUtils', function () {
    var tz, firstDay;
    var createNewDate = function (year, month, day, hour, minute) {
      var utc = Date.UTC(year | 0, month | 0, day | 0, hour | 0, minute | 0);
      return tz ? moment.tz(utc, tz) : moment(utc);
    };

    return {
      getVisibleMinutes: function (m, step) {
        var year = m.year(),
          month = m.month(),
          day = m.date(),
          hour = m.hours(), pushedDate,
          offset = m.utcOffset() / 60,
          minutes = [], minute;

        for (minute = 0; minute < 60; minute += step) {
          pushedDate = createNewDate(year, month, day, hour - offset, minute);
          minutes.push(pushedDate);
        }
        return minutes;
      },
      getVisibleWeeks: function (m) {
        m = moment(m);
        var startYear = m.year(),
          startMonth = m.month();

        //Set date to the first day of the month
        m.date(1);

        //Grab day of the week
        var day = m.day();

        //Go back the required number of days to arrive at the previous week start
        m.date(firstDay - (day + (firstDay >= day ? 6 : -1)));

        var weeks = [];

        while (weeks.length < 6) {
          if (m.year() === startYear && m.month() > startMonth) {
            break;
          }
          weeks.push(this.getDaysOfWeek(m));
          m.add(7, 'd');
        }
        return weeks;
      },
      getVisibleYears: function (d) {
        var m = moment(d),
          year = m.year();

        m.year(year - (year % 10));
        year = m.year();

        var offset = m.utcOffset() / 60,
          years = [],
          pushedDate,
          actualOffset;

        for (var i = 0; i < 12; i++) {
          pushedDate = createNewDate(year, 0, 1, 0 - offset);
          actualOffset = pushedDate.utcOffset() / 60;
          if (actualOffset !== offset) {
            pushedDate = createNewDate(year, 0, 1, 0 - actualOffset);
            offset = actualOffset;
          }
          years.push(pushedDate);
          year++;
        }
        return years;
      },
      getDaysOfWeek: function (m) {
        m = m ? m : (tz ? moment.tz(tz).day(firstDay) : moment().day(firstDay));

        var year = m.year(),
          month = m.month(),
          day = m.date(),
          days = [],
          pushedDate,
          offset = m.utcOffset() / 60,
          actualOffset;

        for (var i = 0; i < 7; i++) {
          pushedDate = createNewDate(year, month, day, 0 - offset, 0, false);
          actualOffset = pushedDate.utcOffset() / 60;
          if (actualOffset !== offset) {
            pushedDate = createNewDate(year, month, day, 0 - actualOffset, 0, false);
          }
          days.push(pushedDate);
          day++;
        }
        return days;
      },
      getVisibleMonths: function (m) {
        var year = m.year(),
          offset = m.utcOffset() / 60,
          months = [],
          pushedDate,
          actualOffset;

        for (var month = 0; month < 12; month++) {
          pushedDate = createNewDate(year, month, 1, 0 - offset, 0, false);
          actualOffset = pushedDate.utcOffset() / 60;
          if (actualOffset !== offset) {
            pushedDate = createNewDate(year, month, 1, 0 - actualOffset, 0, false);
          }
          months.push(pushedDate);
        }
        return months;
      },
      getVisibleHours: function (m) {
        var year = m.year(),
          month = m.month(),
          day = m.date(),
          hours = [],
          hour, pushedDate, actualOffset,
          offset = m.utcOffset() / 60;

        for (hour = 0; hour < 24; hour++) {
          pushedDate = createNewDate(year, month, day, hour - offset, 0, false);
          actualOffset = pushedDate.utcOffset() / 60;
          if (actualOffset !== offset) {
            pushedDate = createNewDate(year, month, day, hour - actualOffset, 0, false);
          }
          hours.push(pushedDate);
        }

        return hours;
      },
      isAfter: function (model, date) {
        return model && model.unix() >= date.unix();
      },
      isBefore: function (model, date) {
        return model.unix() <= date.unix();
      },
      isSameYear: function (model, date) {
        return model && model.year() === date.year();
      },
      isSameMonth: function (model, date) {
        return this.isSameYear(model, date) && model.month() === date.month();
      },
      isSameDay: function (model, date) {
        return this.isSameMonth(model, date) && model.date() === date.date();
      },
      isSameHour: function (model, date) {
        return this.isSameDay(model, date) && model.hours() === date.hours();
      },
      isSameMinutes: function (model, date) {
        return this.isSameHour(model, date) && model.minutes() === date.minutes();
      },
      setParams: function (zone, fd) {
        tz = zone;
        firstDay = fd;
      },
      scopeSearch: function (scope, name, comparisonFn) {
        var parentScope = scope,
          nameArray = name.split('.'),
          target, i, j = nameArray.length;

        do {
          target = parentScope = parentScope.$parent;

          //Loop through provided names.
          for (i = 0; i < j; i++) {
            target = target[nameArray[i]];
            if (!target) {
              continue;
            }
          }

          //If we reached the end of the list for this scope,
          //and something was found, trigger the comparison
          //function. If the comparison function is happy, return
          //found result. Otherwise, continue to the next parent scope
          if (target && comparisonFn(target)) {
            return target;
          }

        } while (parentScope.$parent);

        return false;
      },
      findFunction: function (scope, name) {
        //Search scope ancestors for a matching function.
        return this.scopeSearch(scope, name, function (target) {
          //Property must also be a function
          return angular.isFunction(target);
        });
      },
      findParam: function (scope, name) {
        //Search scope ancestors for a matching parameter.
        return this.scopeSearch(scope, name, function () {
          //As long as the property exists, we're good
          return true;
        });
      },
      createMoment: function (m) {
        if (tz) {
          return moment.tz(m, tz);
        } else {
          //If input is a moment, and we have no TZ info, we need to remove TZ
          //info from the moment, otherwise the newly created moment will take
          //the timezone of the input moment. The easiest way to do that is to
          //take the unix timestamp, and use that to create a new moment.
          //The new moment will use the local timezone of the user machine.
          return moment.isMoment(m) ? moment.unix(m.unix()) : moment(m);
        }
      },
      getDate: function (scope, attrs, name) {
        var result = false;
        if (attrs[name]) {
          result = this.createMoment(attrs[name]);
          if (!result.isValid()) {
            result = this.findParam(scope, attrs[name]);
            if (result) {
              result = this.createMoment(result);
            }
          }
        }

        return result;
      },
      eventIsForPicker: function (targetIDs, pickerID) {
        //Checks if an event targeted at a specific picker, via either a string name, or an array of strings.
        return (angular.isArray(targetIDs) && targetIDs.indexOf(pickerID) > -1 || targetIDs === pickerID);
      }
    };
  });
//}));

//(function (global, factory) {
//  'use strict';
//  var fnc;
//  fnc = (typeof exports === 'object' && typeof module !== 'undefined') ? module.exports = factory(require('angular'), require('moment')) :
//    (typeof define === 'function' && define.amd) ? define(['angular', 'moment'], factory) :
//      factory(global.angular, global.moment);
//}(this, function (angular, moment) {
var Module = angular.module('datePicker');

  Module.directive('dateRange', ['$compile', 'datePickerUtils', 'dateTimeConfig', function ($compile, datePickerUtils, dateTimeConfig) {
    function getTemplate(attrs, id, model, min, max) {
      return dateTimeConfig.template(angular.extend(attrs, {
        ngModel: model,
        minDate: min && moment.isMoment(min) ? min.format() : false,
        maxDate: max && moment.isMoment(max) ? max.format() : false
      }), id);
    }

    function randomName() {
      return 'picker' + Math.random().toString().substr(2);
    }

    return {
      scope: {
        start: '=',
        end: '='
      },
      link: function (scope, element, attrs) {
        var dateChange = null,
          pickerRangeID = element[0].id,
          pickerIDs = [randomName(), randomName()],
          createMoment = datePickerUtils.createMoment,
          eventIsForPicker = datePickerUtils.eventIsForPicker;

        scope.dateChange = function (modelName, newDate) {
          //Notify user if callback exists.
          if (dateChange) {
            dateChange(modelName, newDate);
          }
        };

        function setMax(date) {
          scope.$broadcast('pickerUpdate', pickerIDs[0], {
            maxDate: date
          });
        }

        function setMin(date) {
          scope.$broadcast('pickerUpdate', pickerIDs[1], {
            minDate: date
          });
        }

        if (pickerRangeID) {
          scope.$on('pickerUpdate', function (event, targetIDs, data) {
            if (eventIsForPicker(targetIDs, pickerRangeID)) {
              //If we received an update event, dispatch it to the inner pickers using their IDs.
              scope.$broadcast('pickerUpdate', pickerIDs, data);
            }
          });
        }

        datePickerUtils.setParams(attrs.timezone);

        scope.start = createMoment(scope.start);
        scope.end = createMoment(scope.end);

        scope.$watchGroup(['start', 'end'], function (dates) {
          //Scope data changed, update picker min/max
          setMin(dates[0]);
          setMax(dates[1]);
        });

        if (angular.isDefined(attrs.dateChange)) {
          dateChange = datePickerUtils.findFunction(scope, attrs.dateChange);
        }

        attrs.onSetDate = 'dateChange';

        var template = '<div><table class="date-range"><tr><td valign="top">' +
          getTemplate(attrs, pickerIDs[0], 'start', false, scope.end) +
          '</td><td valign="top">' +
          getTemplate(attrs, pickerIDs[1], 'end', scope.start, false) +
          '</td></tr></table></div>';

        var picker = $compile(template)(scope);
        element.append(picker);
      }
    };
  }]);
//}));

//(function (global, factory) {
//  'use strict';
//  var fnc;
//  fnc = (typeof exports === 'object' && typeof module !== 'undefined') ? module.exports = factory(require('angular'), require('moment')) :
//    (typeof define === 'function' && define.amd) ? define(['angular', 'moment'], factory) :
//      factory(global.angular, global.moment);
//}(this, function (angular, moment) {
var PRISTINE_CLASS = 'ng-pristine',
    DIRTY_CLASS = 'ng-dirty';

  var Module = angular.module('datePicker');

  Module.constant('dateTimeConfig', {
    template: function (attrs, id) {
      return '' +
        '<div ' +
        (id ? 'id="' + id + '" ' : '') +
        'date-picker="' + attrs.ngModel + '" ' +
        (attrs.view ? 'view="' + attrs.view + '" ' : '') +
        (attrs.maxView ? 'max-view="' + attrs.maxView + '" ' : '') +
        (attrs.maxDate ? 'max-date="' + attrs.maxDate + '" ' : '') +
        (attrs.autoClose ? 'auto-close="' + attrs.autoClose + '" ' : '') +
        (attrs.template ? 'template="' + attrs.template + '" ' : '') +
        (attrs.minView ? 'min-view="' + attrs.minView + '" ' : '') +
        (attrs.minDate ? 'min-date="' + attrs.minDate + '" ' : '') +
        (attrs.partial ? 'partial="' + attrs.partial + '" ' : '') +
        (attrs.step ? 'step="' + attrs.step + '" ' : '') +
        (attrs.onSetDate ? 'date-change="' + attrs.onSetDate + '" ' : '') +
        (attrs.ngModel ? 'ng-model="' + attrs.ngModel + '" ' : '') +
        (attrs.firstDay ? 'first-day="' + attrs.firstDay + '" ' : '') +
        (attrs.timezone ? 'timezone="' + attrs.timezone + '" ' : '') +
        'class="date-picker-date-time"></div>';
    },
    format: 'YYYY-MM-DD HH:mm',
    views: ['date', 'year', 'month', 'hours', 'minutes'],
    autoClose: false,
    position: 'relative'
  });

  Module.directive('dateTimeAppend', function () {
    return {
      link: function (scope, element) {
        element.bind('click', function () {
          element.find('input')[0].focus();
        });
      }
    };
  });

  Module.directive('dateTime', ['$compile', '$document', '$filter', 'dateTimeConfig', '$parse', 'datePickerUtils', function ($compile, $document, $filter, dateTimeConfig, $parse, datePickerUtils) {
    var body = $document.find('body');
    var dateFilter = $filter('mFormat');

    return {
      require: 'ngModel',
      scope: true,
      link: function (scope, element, attrs, ngModel) {
        var format = attrs.format || dateTimeConfig.format,
          parentForm = element.inheritedData('$formController'),
          views = $parse(attrs.views)(scope) || dateTimeConfig.views.concat(),
          view = attrs.view || views[0],
          index = views.indexOf(view),
          dismiss = attrs.autoClose ? $parse(attrs.autoClose)(scope) : dateTimeConfig.autoClose,
          picker = null,
          pickerID = element[0].id,
          position = attrs.position || dateTimeConfig.position,
          container = null,
          minDate = null,
          minValid = null,
          maxDate = null,
          maxValid = null,
          timezone = attrs.timezone || false,
          eventIsForPicker = datePickerUtils.eventIsForPicker,
          dateChange = null,
          shownOnce = false,
          template;

        if (index === -1) {
          views.splice(index, 1);
        }

        views.unshift(view);

        function formatter(value) {
          return dateFilter(value, format, timezone);
        }

        function parser(viewValue) {
          if (viewValue.length === format.length) {
            return viewValue;
          }
          return undefined;
        }

        function setMin(date) {
          minDate = date;
          attrs.minDate = date ? date.format() : date;
          minValid = moment.isMoment(date);
        }

        function setMax(date) {
          maxDate = date;
          attrs.maxDate = date ? date.format() : date;
          maxValid = moment.isMoment(date);
        }

        ngModel.$formatters.push(formatter);
        ngModel.$parsers.unshift(parser);

        if (angular.isDefined(attrs.minDate)) {
          setMin(datePickerUtils.findParam(scope, attrs.minDate));

          ngModel.$validators.min = function (value) {
            //If we don't have a min / max value, then any value is valid.
            return minValid ? moment.isMoment(value) && (minDate.isSame(value) || minDate.isBefore(value)) : true;
          };
        }

        if (angular.isDefined(attrs.maxDate)) {
          setMax(datePickerUtils.findParam(scope, attrs.maxDate));

          ngModel.$validators.max = function (value) {
            return maxValid ? moment.isMoment(value) && (maxDate.isSame(value) || maxDate.isAfter(value)) : true;
          };
        }

        if (angular.isDefined(attrs.dateChange)) {
          dateChange = datePickerUtils.findFunction(scope, attrs.dateChange);
        }

        function getTemplate() {
          template = dateTimeConfig.template(attrs);
        }


        function updateInput(event) {
          event.stopPropagation();
          if (ngModel.$pristine) {
            ngModel.$dirty = true;
            ngModel.$pristine = false;
            element.removeClass(PRISTINE_CLASS).addClass(DIRTY_CLASS);
            if (parentForm) {
              parentForm.$setDirty();
            }
            ngModel.$render();
          }
        }

        function clear() {
          if (picker) {
            picker.remove();
            picker = null;
          }
          if (container) {
            container.remove();
            container = null;
          }
        }

        if (pickerID) {
          scope.$on('pickerUpdate', function (event, pickerIDs, data) {
            if (eventIsForPicker(pickerIDs, pickerID)) {
              if (picker) {
                //Need to handle situation where the data changed but the picker is currently open.
                //To handle this, we can create the inner picker with a random ID, then forward
                //any events received to it.
              } else {
                var validateRequired = false;
                if (angular.isDefined(data.minDate)) {
                  setMin(data.minDate);
                  validateRequired = true;
                }
                if (angular.isDefined(data.maxDate)) {
                  setMax(data.maxDate);
                  validateRequired = true;
                }

                if (angular.isDefined(data.minView)) {
                  attrs.minView = data.minView;
                }
                if (angular.isDefined(data.maxView)) {
                  attrs.maxView = data.maxView;
                }
                attrs.view = data.view || attrs.view;

                if (validateRequired) {
                  ngModel.$validate();
                }
                if (angular.isDefined(data.format)) {
                  format = attrs.format = data.format || dateTimeConfig.format;
                  ngModel.$modelValue = -1; //Triggers formatters. This value will be discarded.
                }
                getTemplate();
              }
            }
          });
        }

        function showPicker() {
          if (picker) {
            return;
          }
          // create picker element
          picker = $compile(template)(scope);
          scope.$digest();

          //If the picker has already been shown before then we shouldn't be binding to events, as these events are already bound to in this scope.
          if (!shownOnce) {
            scope.$on('setDate', function (event, date, view) {
              updateInput(event);
              if (dateChange) {
                dateChange(attrs.ngModel, date);
              }
              if (dismiss && views[views.length - 1] === view) {
                clear();
              }
            });

            scope.$on('hidePicker', function () {
              element.triggerHandler('blur');
            });

            scope.$on('$destroy', clear);

            shownOnce = true;
          }


          // move picker below input element

          if (position === 'absolute') {
            var pos = element[0].getBoundingClientRect();
            // Support IE8
            var height = pos.height || element[0].offsetHeight;
            picker.css({top: (pos.top + height) + 'px', left: pos.left + 'px', display: 'block', position: position});
            body.append(picker);
          } else {
            // relative
            container = angular.element('<div date-picker-wrapper></div>');
            element[0].parentElement.insertBefore(container[0], element[0]);
            container.append(picker);
            //          this approach doesn't work
            //          element.before(picker);
            picker.css({top: element[0].offsetHeight + 'px', display: 'block'});
          }
          picker.bind('mousedown', function (evt) {
            evt.preventDefault();
          });
        }

        element.bind('focus', showPicker);
        element.bind('blur', clear);
        getTemplate();
      }
    };
  }]);
//}));

angular.module('datePicker').run(['$templateCache', function($templateCache) {
$templateCache.put('templates/datepicker.html',
    "<div ng-switch=\"view\">\r" +
    "\n" +
    "  <div ng-switch-when=\"date\">\r" +
    "\n" +
    "    <table>\r" +
    "\n" +
    "      <thead>\r" +
    "\n" +
    "      <tr>\r" +
    "\n" +
    "        <th ng-click=\"prev()\">&lsaquo;</th>\r" +
    "\n" +
    "        <th colspan=\"5\" class=\"switch\" ng-click=\"setView('month')\" ng-bind=\"date|mFormat:'YYYY MMMM':tz\"></th>\r" +
    "\n" +
    "        <th ng-click=\"next()\">&rsaquo;</i></th>\r" +
    "\n" +
    "      </tr>\r" +
    "\n" +
    "      <tr>\r" +
    "\n" +
    "        <th ng-repeat=\"day in weekdays\" style=\"overflow: hidden\" ng-bind=\"day|mFormat:'ddd':tz\"></th>\r" +
    "\n" +
    "      </tr>\r" +
    "\n" +
    "      </thead>\r" +
    "\n" +
    "      <tbody>\r" +
    "\n" +
    "      <tr ng-repeat=\"week in weeks\" ng-init=\"$index2 = $index\">\r" +
    "\n" +
    "        <td ng-repeat=\"day in week\">\r" +
    "\n" +
    "          <span\r" +
    "\n" +
    "            ng-class=\"classes[$index2][$index]\"\r" +
    "\n" +
    "            ng-click=\"selectDate(day)\" ng-bind=\"day|mFormat:'DD':tz\"></span>\r" +
    "\n" +
    "        </td>\r" +
    "\n" +
    "      </tr>\r" +
    "\n" +
    "      </tbody>\r" +
    "\n" +
    "    </table>\r" +
    "\n" +
    "  </div>\r" +
    "\n" +
    "  <div ng-switch-when=\"year\">\r" +
    "\n" +
    "    <table>\r" +
    "\n" +
    "      <thead>\r" +
    "\n" +
    "      <tr>\r" +
    "\n" +
    "        <th ng-click=\"prev(10)\">&lsaquo;</th>\r" +
    "\n" +
    "        <th colspan=\"5\" class=\"switch\"ng-bind=\"years[0].year()+' - '+years[years.length-1].year()\"></th>\r" +
    "\n" +
    "        <th ng-click=\"next(10)\">&rsaquo;</i></th>\r" +
    "\n" +
    "      </tr>\r" +
    "\n" +
    "      </thead>\r" +
    "\n" +
    "      <tbody>\r" +
    "\n" +
    "      <tr>\r" +
    "\n" +
    "        <td colspan=\"7\">\r" +
    "\n" +
    "          <span ng-class=\"classes[$index]\"\r" +
    "\n" +
    "                ng-repeat=\"year in years\"\r" +
    "\n" +
    "                ng-click=\"selectDate(year)\" ng-bind=\"year.year()\"></span>\r" +
    "\n" +
    "        </td>\r" +
    "\n" +
    "      </tr>\r" +
    "\n" +
    "      </tbody>\r" +
    "\n" +
    "    </table>\r" +
    "\n" +
    "  </div>\r" +
    "\n" +
    "  <div ng-switch-when=\"month\">\r" +
    "\n" +
    "    <table>\r" +
    "\n" +
    "      <thead>\r" +
    "\n" +
    "      <tr>\r" +
    "\n" +
    "        <th ng-click=\"prev()\">&lsaquo;</th>\r" +
    "\n" +
    "        <th colspan=\"5\" class=\"switch\" ng-click=\"setView('year')\" ng-bind=\"date|mFormat:'YYYY':tz\"></th>\r" +
    "\n" +
    "        <th ng-click=\"next()\">&rsaquo;</i></th>\r" +
    "\n" +
    "      </tr>\r" +
    "\n" +
    "      </thead>\r" +
    "\n" +
    "      <tbody>\r" +
    "\n" +
    "      <tr>\r" +
    "\n" +
    "        <td colspan=\"7\">\r" +
    "\n" +
    "          <span ng-repeat=\"month in months\"\r" +
    "\n" +
    "                ng-class=\"classes[$index]\"\r" +
    "\n" +
    "                ng-click=\"selectDate(month)\"\r" +
    "\n" +
    "                ng-bind=\"month|mFormat:'MMM':tz\"></span>\r" +
    "\n" +
    "        </td>\r" +
    "\n" +
    "      </tr>\r" +
    "\n" +
    "      </tbody>\r" +
    "\n" +
    "    </table>\r" +
    "\n" +
    "  </div>\r" +
    "\n" +
    "  <div ng-switch-when=\"hours\">\r" +
    "\n" +
    "    <table>\r" +
    "\n" +
    "      <thead>\r" +
    "\n" +
    "      <tr>\r" +
    "\n" +
    "        <th ng-click=\"prev(24)\">&lsaquo;</th>\r" +
    "\n" +
    "        <th colspan=\"5\" class=\"switch\" ng-click=\"setView('date')\" ng-bind=\"date|mFormat:'DD MMMM YYYY':tz\"></th>\r" +
    "\n" +
    "        <th ng-click=\"next(24)\">&rsaquo;</i></th>\r" +
    "\n" +
    "      </tr>\r" +
    "\n" +
    "      </thead>\r" +
    "\n" +
    "      <tbody>\r" +
    "\n" +
    "      <tr>\r" +
    "\n" +
    "        <td colspan=\"7\">\r" +
    "\n" +
    "          <span ng-repeat=\"hour in hours\"\r" +
    "\n" +
    "                ng-class=\"classes[$index]\"\r" +
    "\n" +
    "                ng-click=\"selectDate(hour)\" ng-bind=\"hour|mFormat:'HH:mm':tz\"></span>\r" +
    "\n" +
    "        </td>\r" +
    "\n" +
    "      </tr>\r" +
    "\n" +
    "      </tbody>\r" +
    "\n" +
    "    </table>\r" +
    "\n" +
    "  </div>\r" +
    "\n" +
    "  <div ng-switch-when=\"minutes\">\r" +
    "\n" +
    "    <table>\r" +
    "\n" +
    "      <thead>\r" +
    "\n" +
    "      <tr>\r" +
    "\n" +
    "        <th ng-click=\"prev()\">&lsaquo;</th>\r" +
    "\n" +
    "        <th colspan=\"5\" class=\"switch\" ng-click=\"setView('hours')\" ng-bind=\"date|mFormat:'DD MMMM YYYY':tz\"></th>\r" +
    "\n" +
    "        <th ng-click=\"next()\">&rsaquo;</i></th>\r" +
    "\n" +
    "      </tr>\r" +
    "\n" +
    "      </thead>\r" +
    "\n" +
    "      <tbody>\r" +
    "\n" +
    "      <tr>\r" +
    "\n" +
    "        <td colspan=\"7\">\r" +
    "\n" +
    "          <span ng-repeat=\"minute in minutes\"\r" +
    "\n" +
    "                ng-class=\"classes[$index]\"\r" +
    "\n" +
    "                ng-click=\"selectDate(minute)\"\r" +
    "\n" +
    "                ng-bind=\"minute|mFormat:'HH:mm':tz\"></span>\r" +
    "\n" +
    "        </td>\r" +
    "\n" +
    "      </tr>\r" +
    "\n" +
    "      </tbody>\r" +
    "\n" +
    "    </table>\r" +
    "\n" +
    "  </div>\r" +
    "\n" +
    "</div>"
  );

}]);
}));

},{"angular":"angular","moment":"/Users/cescwang/program/sil/SIL-frontend/node_modules/moment/moment.js"}],"/Users/cescwang/program/sil/SIL-frontend/node_modules/angular-h-sweetalert/src/ngSweetAlert.js":[function(require,module,exports){
/**
 * angular-h-sweetalert is a simple wrapper of sweetalert.
 *
 * @author Howard.Zuo
 * @date   Jan 30th, 2016
 *
 **/
(function(root, factory) {
    'use strict';

    if (typeof define === 'function' && define.amd) {
        // AMD. Register as an anonymous module.
        define(['angular', 'sweetalert'], function(angular, sweetalert) {
            return factory(angular, sweetalert);
        });
    } else if (typeof module === 'object' && module.exports) {
        // Node. Does not work with strict CommonJS, but
        // only CommonJS-like enviroments that support module.exports,
        // like Node.
        module.exports = factory(require('angular'), require('sweetalert'));
    } else {
        // Browser globals
        factory(root.angular, root.sweetAlert);
    }
}(this, function(ng, sweet) {
    'use strict';

    var service = function() {

        this.show = function() {
            var args = [].slice.call(arguments, 0);
            sweet.apply(undefined, args);
        };

        ng.forEach(
            ['showInputError', 'close'],
            function(func) {
                this[func] = function() {
                    var args = [].slice.call(arguments, 0);
                    sweet[func].apply(undefined, args);
                };
            }, this);

        this.isShown = function() {
            var sweetAlertEl;

            ng.forEach(document.getElementsByClassName('sweet-alert'), function(el) {
                sweetAlertEl = ng.element(el);
            });

            return sweetAlertEl && sweetAlertEl.hasClass('visible');
        };
    };

    var modName = 'hSweetAlert';

    ng.module(modName, []).service('sweet', [service]);

    return modName;

}));

},{"angular":"angular","sweetalert":"/Users/cescwang/program/sil/SIL-frontend/node_modules/sweetalert/lib/sweetalert.js"}],"/Users/cescwang/program/sil/SIL-frontend/node_modules/angular-moment/angular-moment.js":[function(require,module,exports){
(function (global){
/* angular-moment.js / v1.0.1 / (c) 2013, 2014, 2015, 2016 Uri Shaked / MIT Licence */

'format amd';
/* global define */

(function () {
	'use strict';

	function isUndefinedOrNull(val) {
		return angular.isUndefined(val) || val === null;
	}

	function requireMoment() {
		try {
			return require('moment'); // Using nw.js or browserify?
		} catch (e) {
			throw new Error('Please install moment via npm. Please reference to: https://github.com/urish/angular-moment'); // Add wiki/troubleshooting section?
		}
	}

	function angularMoment(angular, moment) {

		if(typeof moment === 'undefined') {
			if(typeof require === 'function') {
				moment = requireMoment();
			}else{
				throw new Error('Moment cannot be found by angular-moment! Please reference to: https://github.com/urish/angular-moment'); // Add wiki/troubleshooting section?
			}
		}

		/**
		 * @ngdoc overview
		 * @name angularMoment
		 *
		 * @description
		 * angularMoment module provides moment.js functionality for angular.js apps.
		 */
		angular.module('angularMoment', [])

		/**
		 * @ngdoc object
		 * @name angularMoment.config:angularMomentConfig
		 *
		 * @description
		 * Common configuration of the angularMoment module
		 */
			.constant('angularMomentConfig', {
				/**
				 * @ngdoc property
				 * @name angularMoment.config.angularMomentConfig#preprocess
				 * @propertyOf angularMoment.config:angularMomentConfig
				 * @returns {function} A preprocessor function that will be applied on all incoming dates
				 *
				 * @description
				 * Defines a preprocessor function to apply on all input dates (e.g. the input of `am-time-ago`,
				 * `amCalendar`, etc.). The function must return a `moment` object.
				 *
				 * @example
				 *   // Causes angular-moment to always treat the input values as unix timestamps
				 *   angularMomentConfig.preprocess = function(value) {
				 * 	   return moment.unix(value);
				 *   }
				 */
				preprocess: null,

				/**
				 * @ngdoc property
				 * @name angularMoment.config.angularMomentConfig#timezone
				 * @propertyOf angularMoment.config:angularMomentConfig
				 * @returns {string} The default timezone
				 *
				 * @description
				 * The default timezone (e.g. 'Europe/London'). Empty string by default (does not apply
				 * any timezone shift).
				 *
				 * NOTE: This option requires moment-timezone >= 0.3.0.
				 */
				timezone: null,

				/**
				 * @ngdoc property
				 * @name angularMoment.config.angularMomentConfig#format
				 * @propertyOf angularMoment.config:angularMomentConfig
				 * @returns {string} The pre-conversion format of the date
				 *
				 * @description
				 * Specify the format of the input date. Essentially it's a
				 * default and saves you from specifying a format in every
				 * element. Overridden by element attr. Null by default.
				 */
				format: null,

				/**
				 * @ngdoc property
				 * @name angularMoment.config.angularMomentConfig#statefulFilters
				 * @propertyOf angularMoment.config:angularMomentConfig
				 * @returns {boolean} Whether angular-moment filters should be stateless (or not)
				 *
				 * @description
				 * Specifies whether the filters included with angular-moment are stateful.
				 * Stateful filters will automatically re-evaluate whenever you change the timezone
				 * or locale settings, but may negatively impact performance. true by default.
				 */
				statefulFilters: true
			})

		/**
		 * @ngdoc object
		 * @name angularMoment.object:moment
		 *
		 * @description
		 * moment global (as provided by the moment.js library)
		 */
			.constant('moment', moment)

		/**
		 * @ngdoc object
		 * @name angularMoment.config:amTimeAgoConfig
		 * @module angularMoment
		 *
		 * @description
		 * configuration specific to the amTimeAgo directive
		 */
			.constant('amTimeAgoConfig', {
				/**
				 * @ngdoc property
				 * @name angularMoment.config.amTimeAgoConfig#withoutSuffix
				 * @propertyOf angularMoment.config:amTimeAgoConfig
				 * @returns {boolean} Whether to include a suffix in am-time-ago directive
				 *
				 * @description
				 * Defaults to false.
				 */
				withoutSuffix: false,

				/**
				 * @ngdoc property
				 * @name angularMoment.config.amTimeAgoConfig#serverTime
				 * @propertyOf angularMoment.config:amTimeAgoConfig
				 * @returns {number} Server time in milliseconds since the epoch
				 *
				 * @description
				 * If set, time ago will be calculated relative to the given value.
				 * If null, local time will be used. Defaults to null.
				 */
				serverTime: null,

				/**
				 * @ngdoc property
				 * @name angularMoment.config.amTimeAgoConfig#titleFormat
				 * @propertyOf angularMoment.config:amTimeAgoConfig
				 * @returns {string} The format of the date to be displayed in the title of the element. If null,
				 *        the directive set the title of the element.
				 *
				 * @description
				 * The format of the date used for the title of the element. null by default.
				 */
				titleFormat: null,

				/**
				 * @ngdoc property
				 * @name angularMoment.config.amTimeAgoConfig#fullDateThreshold
				 * @propertyOf angularMoment.config:amTimeAgoConfig
				 * @returns {number} The minimum number of days for showing a full date instead of relative time
				 *
				 * @description
				 * The threshold for displaying a full date. The default is null, which means the date will always
				 * be relative, and full date will never be displayed.
				 */
				fullDateThreshold: null,

				/**
				 * @ngdoc property
				 * @name angularMoment.config.amTimeAgoConfig#fullDateFormat
				 * @propertyOf angularMoment.config:amTimeAgoConfig
				 * @returns {string} The format to use when displaying a full date.
				 *
				 * @description
				 * Specify the format of the date when displayed as full date. null by default.
				 */
				fullDateFormat: null,

				fullDateThresholdUnit: 'day'
			})

		/**
		 * @ngdoc directive
		 * @name angularMoment.directive:amTimeAgo
		 * @module angularMoment
		 *
		 * @restrict A
		 */
			.directive('amTimeAgo', ['$window', 'moment', 'amMoment', 'amTimeAgoConfig', function ($window, moment, amMoment, amTimeAgoConfig) {

				return function (scope, element, attr) {
					var activeTimeout = null;
					var currentValue;
					var withoutSuffix = amTimeAgoConfig.withoutSuffix;
					var titleFormat = amTimeAgoConfig.titleFormat;
					var fullDateThreshold = amTimeAgoConfig.fullDateThreshold;
					var fullDateFormat = amTimeAgoConfig.fullDateFormat;
					var fullDateThresholdUnit = amTimeAgoConfig.fullDateThresholdUnit;

					var localDate = new Date().getTime();
					var modelName = attr.amTimeAgo;
					var currentFrom;
					var isTimeElement = ('TIME' === element[0].nodeName.toUpperCase());
					var setTitleTime = !element.attr('title');

					function getNow() {
						var now;
						if (currentFrom) {
							now = currentFrom;
						} else if (amTimeAgoConfig.serverTime) {
							var localNow = new Date().getTime();
							var nowMillis = localNow - localDate + amTimeAgoConfig.serverTime;
							now = moment(nowMillis);
						}
						else {
							now = moment();
						}
						return now;
					}

					function cancelTimer() {
						if (activeTimeout) {
							$window.clearTimeout(activeTimeout);
							activeTimeout = null;
						}
					}

					function updateTime(momentInstance) {
						var timeAgo = getNow().diff(momentInstance, fullDateThresholdUnit);
						var showFullDate = fullDateThreshold && timeAgo >= fullDateThreshold;

						if (showFullDate) {
							element.text(momentInstance.format(fullDateFormat));
						} else {
							element.text(momentInstance.from(getNow(), withoutSuffix));
						}

						if (titleFormat && setTitleTime) {
							element.attr('title', momentInstance.format(titleFormat));
						}

						if (!showFullDate) {
							var howOld = Math.abs(getNow().diff(momentInstance, 'minute'));
							var secondsUntilUpdate = 3600;
							if (howOld < 1) {
								secondsUntilUpdate = 1;
							} else if (howOld < 60) {
								secondsUntilUpdate = 30;
							} else if (howOld < 180) {
								secondsUntilUpdate = 300;
							}

							activeTimeout = $window.setTimeout(function () {
								updateTime(momentInstance);
							}, secondsUntilUpdate * 1000);
						}
					}

					function updateDateTimeAttr(value) {
						if (isTimeElement) {
							element.attr('datetime', value);
						}
					}

					function updateMoment() {
						cancelTimer();
						if (currentValue) {
							var momentValue = amMoment.preprocessDate(currentValue);
							updateTime(momentValue);
							updateDateTimeAttr(momentValue.toISOString());
						}
					}

					scope.$watch(modelName, function (value) {
						if (isUndefinedOrNull(value) || (value === '')) {
							cancelTimer();
							if (currentValue) {
								element.text('');
								updateDateTimeAttr('');
								currentValue = null;
							}
							return;
						}

						currentValue = value;
						updateMoment();
					});

					if (angular.isDefined(attr.amFrom)) {
						scope.$watch(attr.amFrom, function (value) {
							if (isUndefinedOrNull(value) || (value === '')) {
								currentFrom = null;
							} else {
								currentFrom = moment(value);
							}
							updateMoment();
						});
					}

					if (angular.isDefined(attr.amWithoutSuffix)) {
						scope.$watch(attr.amWithoutSuffix, function (value) {
							if (typeof value === 'boolean') {
								withoutSuffix = value;
								updateMoment();
							} else {
								withoutSuffix = amTimeAgoConfig.withoutSuffix;
							}
						});
					}

					attr.$observe('amFullDateThreshold', function (newValue) {
						fullDateThreshold = newValue;
						updateMoment();
					});

					attr.$observe('amFullDateFormat', function (newValue) {
						fullDateFormat = newValue;
						updateMoment();
					});

					attr.$observe('amFullDateThresholdUnit', function (newValue) {
						fullDateThresholdUnit = newValue;
						updateMoment();
					});

					scope.$on('$destroy', function () {
						cancelTimer();
					});

					scope.$on('amMoment:localeChanged', function () {
						updateMoment();
					});
				};
			}])

		/**
		 * @ngdoc service
		 * @name angularMoment.service.amMoment
		 * @module angularMoment
		 */
			.service('amMoment', ['moment', '$rootScope', '$log', 'angularMomentConfig', function (moment, $rootScope, $log, angularMomentConfig) {
				var defaultTimezone = null;

				/**
				 * @ngdoc function
				 * @name angularMoment.service.amMoment#changeLocale
				 * @methodOf angularMoment.service.amMoment
				 *
				 * @description
				 * Changes the locale for moment.js and updates all the am-time-ago directive instances
				 * with the new locale. Also broadcasts an `amMoment:localeChanged` event on $rootScope.
				 *
				 * @param {string} locale Locale code (e.g. en, es, ru, pt-br, etc.)
				 * @param {object} customization object of locale strings to override
				 */
				this.changeLocale = function (locale, customization) {
					var result = moment.locale(locale, customization);
					if (angular.isDefined(locale)) {
						$rootScope.$broadcast('amMoment:localeChanged');

					}
					return result;
				};

				/**
				 * @ngdoc function
				 * @name angularMoment.service.amMoment#changeTimezone
				 * @methodOf angularMoment.service.amMoment
				 *
				 * @description
				 * Changes the default timezone for amCalendar, amDateFormat and amTimeAgo. Also broadcasts an
				 * `amMoment:timezoneChanged` event on $rootScope.
				 *
				 * Note: this method works only if moment-timezone > 0.3.0 is loaded
				 *
				 * @param {string} timezone Timezone name (e.g. UTC)
				 */
				this.changeTimezone = function (timezone) {
					if (moment.tz && moment.tz.setDefault) {
						moment.tz.setDefault(timezone);
						$rootScope.$broadcast('amMoment:timezoneChanged');
					} else {
						$log.warn('angular-moment: changeTimezone() works only with moment-timezone.js v0.3.0 or greater.');
					}
					angularMomentConfig.timezone = timezone;
					defaultTimezone = timezone;
				};

				/**
				 * @ngdoc function
				 * @name angularMoment.service.amMoment#preprocessDate
				 * @methodOf angularMoment.service.amMoment
				 *
				 * @description
				 * Preprocess a given value and convert it into a Moment instance appropriate for use in the
				 * am-time-ago directive and the filters. The behavior of this function can be overriden by
				 * setting `angularMomentConfig.preprocess`.
				 *
				 * @param {*} value The value to be preprocessed
				 * @return {Moment} A `moment` object
				 */
				this.preprocessDate = function (value) {
					// Configure the default timezone if needed
					if (defaultTimezone !== angularMomentConfig.timezone) {
						this.changeTimezone(angularMomentConfig.timezone);
					}

					if (angularMomentConfig.preprocess) {
						return angularMomentConfig.preprocess(value);
					}

					if (!isNaN(parseFloat(value)) && isFinite(value)) {
						// Milliseconds since the epoch
						return moment(parseInt(value, 10));
					}

					// else just returns the value as-is.
					return moment(value);
				};
			}])

		/**
		 * @ngdoc filter
		 * @name angularMoment.filter:amParse
		 * @module angularMoment
		 */
			.filter('amParse', ['moment', function (moment) {
				return function (value, format) {
					return moment(value, format);
				};
			}])

		/**
		 * @ngdoc filter
		 * @name angularMoment.filter:amFromUnix
		 * @module angularMoment
		 */
			.filter('amFromUnix', ['moment', function (moment) {
				return function (value) {
					return moment.unix(value);
				};
			}])

		/**
		 * @ngdoc filter
		 * @name angularMoment.filter:amUtc
		 * @module angularMoment
		 */
			.filter('amUtc', ['moment', function (moment) {
				return function (value) {
					return moment.utc(value);
				};
			}])

		/**
		 * @ngdoc filter
		 * @name angularMoment.filter:amUtcOffset
		 * @module angularMoment
		 *
		 * @description
		 * Adds a UTC offset to the given timezone object. The offset can be a number of minutes, or a string such as
		 * '+0300', '-0300' or 'Z'.
		 */
			.filter('amUtcOffset', ['amMoment', function (amMoment) {
				function amUtcOffset(value, offset) {
					return amMoment.preprocessDate(value).utcOffset(offset);
				}

				return amUtcOffset;
			}])

		/**
		 * @ngdoc filter
		 * @name angularMoment.filter:amLocal
		 * @module angularMoment
		 */
			.filter('amLocal', ['moment', function (moment) {
				return function (value) {
					return moment.isMoment(value) ? value.local() : null;
				};
			}])

		/**
		 * @ngdoc filter
		 * @name angularMoment.filter:amTimezone
		 * @module angularMoment
		 *
		 * @description
		 * Apply a timezone onto a given moment object, e.g. 'America/Phoenix').
		 *
		 * You need to include moment-timezone.js for timezone support.
		 */
			.filter('amTimezone', ['amMoment', 'angularMomentConfig', '$log', function (amMoment, angularMomentConfig, $log) {
				function amTimezone(value, timezone) {
					var aMoment = amMoment.preprocessDate(value);

					if (!timezone) {
						return aMoment;
					}

					if (aMoment.tz) {
						return aMoment.tz(timezone);
					} else {
						$log.warn('angular-moment: named timezone specified but moment.tz() is undefined. Did you forget to include moment-timezone.js ?');
						return aMoment;
					}
				}

				return amTimezone;
			}])

		/**
		 * @ngdoc filter
		 * @name angularMoment.filter:amCalendar
		 * @module angularMoment
		 */
			.filter('amCalendar', ['moment', 'amMoment', 'angularMomentConfig', function (moment, amMoment, angularMomentConfig) {
				function amCalendarFilter(value, referenceTime, formats) {
					if (isUndefinedOrNull(value)) {
						return '';
					}

					var date = amMoment.preprocessDate(value);
					return date.isValid() ? date.calendar(referenceTime, formats) : '';
				}

				// Since AngularJS 1.3, filters have to explicitly define being stateful
				// (this is no longer the default).
				amCalendarFilter.$stateful = angularMomentConfig.statefulFilters;

				return amCalendarFilter;
			}])

		/**
		 * @ngdoc filter
		 * @name angularMoment.filter:amDifference
		 * @module angularMoment
		 */
			.filter('amDifference', ['moment', 'amMoment', 'angularMomentConfig', function (moment, amMoment, angularMomentConfig) {
				function amDifferenceFilter(value, otherValue, unit, usePrecision) {
					if (isUndefinedOrNull(value)) {
						return '';
					}

					var date = amMoment.preprocessDate(value);
					var date2 = !isUndefinedOrNull(otherValue) ? amMoment.preprocessDate(otherValue) : moment();

					if (!date.isValid() || !date2.isValid()) {
						return '';
					}

					return date.diff(date2, unit, usePrecision);
				}

				amDifferenceFilter.$stateful = angularMomentConfig.statefulFilters;

				return amDifferenceFilter;
			}])

		/**
		 * @ngdoc filter
		 * @name angularMoment.filter:amDateFormat
		 * @module angularMoment
		 * @function
		 */
			.filter('amDateFormat', ['moment', 'amMoment', 'angularMomentConfig', function (moment, amMoment, angularMomentConfig) {
				function amDateFormatFilter(value, format) {
					if (isUndefinedOrNull(value)) {
						return '';
					}

					var date = amMoment.preprocessDate(value);
					if (!date.isValid()) {
						return '';
					}

					return date.format(format);
				}

				amDateFormatFilter.$stateful = angularMomentConfig.statefulFilters;

				return amDateFormatFilter;
			}])

		/**
		 * @ngdoc filter
		 * @name angularMoment.filter:amDurationFormat
		 * @module angularMoment
		 * @function
		 */
			.filter('amDurationFormat', ['moment', 'angularMomentConfig', function (moment, angularMomentConfig) {
				function amDurationFormatFilter(value, format, suffix) {
					if (isUndefinedOrNull(value)) {
						return '';
					}

					return moment.duration(value, format).humanize(suffix);
				}

				amDurationFormatFilter.$stateful = angularMomentConfig.statefulFilters;

				return amDurationFormatFilter;
			}])

		/**
		 * @ngdoc filter
		 * @name angularMoment.filter:amTimeAgo
		 * @module angularMoment
		 * @function
		 */
			.filter('amTimeAgo', ['moment', 'amMoment', 'angularMomentConfig', function (moment, amMoment, angularMomentConfig) {
				function amTimeAgoFilter(value, suffix, from) {
					var date, dateFrom;

					if (isUndefinedOrNull(value)) {
						return '';
					}

					value = amMoment.preprocessDate(value);
					date = moment(value);
					if (!date.isValid()) {
						return '';
					}

					dateFrom = moment(from);
					if (!isUndefinedOrNull(from) && dateFrom.isValid()) {
						return date.from(dateFrom, suffix);
					}

					return date.fromNow(suffix);
				}

				amTimeAgoFilter.$stateful = angularMomentConfig.statefulFilters;

				return amTimeAgoFilter;
			}])

		/**
		 * @ngdoc filter
		 * @name angularMoment.filter:amSubtract
		 * @module angularMoment
		 * @function
		 */
			.filter('amSubtract', ['moment', 'angularMomentConfig', function (moment, angularMomentConfig) {
				function amSubtractFilter(value, amount, type) {

					if (isUndefinedOrNull(value)) {
						return '';
					}

					return moment(value).subtract(parseInt(amount, 10), type);
				}

				amSubtractFilter.$stateful = angularMomentConfig.statefulFilters;

				return amSubtractFilter;
			}])

		/**
		 * @ngdoc filter
		 * @name angularMoment.filter:amAdd
		 * @module angularMoment
		 * @function
		 */
			.filter('amAdd', ['moment', 'angularMomentConfig', function (moment, angularMomentConfig) {
				function amAddFilter(value, amount, type) {

					if (isUndefinedOrNull(value)) {
						return '';
					}

					return moment(value).add(parseInt(amount, 10), type);
				}

				amAddFilter.$stateful = angularMomentConfig.statefulFilters;

				return amAddFilter;
			}])

		/**
		 * @ngdoc filter
		 * @name angularMoment.filter:amStartOf
		 * @module angularMoment
		 * @function
		 */
			.filter('amStartOf', ['moment', 'angularMomentConfig', function (moment, angularMomentConfig) {
				function amStartOfFilter(value, type) {

					if (isUndefinedOrNull(value)) {
						return '';
					}

					return moment(value).startOf(type);
				}

				amStartOfFilter.$stateful = angularMomentConfig.statefulFilters;

				return amStartOfFilter;
			}])

		/**
		 * @ngdoc filter
		 * @name angularMoment.filter:amEndOf
		 * @module angularMoment
		 * @function
		 */
			.filter('amEndOf', ['moment', 'angularMomentConfig', function (moment, angularMomentConfig) {
				function amEndOfFilter(value, type) {

					if (isUndefinedOrNull(value)) {
						return '';
					}

					return moment(value).endOf(type);
				}

				amEndOfFilter.$stateful = angularMomentConfig.statefulFilters;

				return amEndOfFilter;
 			}]);

		return 'angularMoment';
	}

	var isElectron = window && window.process && window.process.type;
	if (typeof define === 'function' && define.amd) {
		define(['angular', 'moment'], angularMoment);
	} else if (typeof module !== 'undefined' && module && module.exports && (typeof require === 'function') && !isElectron) {
		module.exports = angularMoment(require('angular'), require('moment'));
	} else {
		angularMoment(angular, (typeof global !== 'undefined' ? global : window).moment);
	}
})();

}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{"angular":"angular","moment":"/Users/cescwang/program/sil/SIL-frontend/node_modules/moment/moment.js"}],"/Users/cescwang/program/sil/SIL-frontend/node_modules/angular-sanitize/angular-sanitize.js":[function(require,module,exports){
/**
 * @license AngularJS v1.6.1
 * (c) 2010-2016 Google, Inc. http://angularjs.org
 * License: MIT
 */
(function(window, angular) {'use strict';

/* * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * *
 *     Any commits to this file should be reviewed with security in mind.  *
 *   Changes to this file can potentially create security vulnerabilities. *
 *          An approval from 2 Core members with history of modifying      *
 *                         this file is required.                          *
 *                                                                         *
 *  Does the change somehow allow for arbitrary javascript to be executed? *
 *    Or allows for someone to change the prototype of built-in objects?   *
 *     Or gives undesired access to variables likes document or window?    *
 * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * */

var $sanitizeMinErr = angular.$$minErr('$sanitize');
var bind;
var extend;
var forEach;
var isDefined;
var lowercase;
var noop;
var htmlParser;
var htmlSanitizeWriter;

/**
 * @ngdoc module
 * @name ngSanitize
 * @description
 *
 * # ngSanitize
 *
 * The `ngSanitize` module provides functionality to sanitize HTML.
 *
 *
 * <div doc-module-components="ngSanitize"></div>
 *
 * See {@link ngSanitize.$sanitize `$sanitize`} for usage.
 */

/**
 * @ngdoc service
 * @name $sanitize
 * @kind function
 *
 * @description
 *   Sanitizes an html string by stripping all potentially dangerous tokens.
 *
 *   The input is sanitized by parsing the HTML into tokens. All safe tokens (from a whitelist) are
 *   then serialized back to properly escaped html string. This means that no unsafe input can make
 *   it into the returned string.
 *
 *   The whitelist for URL sanitization of attribute values is configured using the functions
 *   `aHrefSanitizationWhitelist` and `imgSrcSanitizationWhitelist` of {@link ng.$compileProvider
 *   `$compileProvider`}.
 *
 *   The input may also contain SVG markup if this is enabled via {@link $sanitizeProvider}.
 *
 * @param {string} html HTML input.
 * @returns {string} Sanitized HTML.
 *
 * @example
   <example module="sanitizeExample" deps="angular-sanitize.js" name="sanitize-service">
   <file name="index.html">
     <script>
         angular.module('sanitizeExample', ['ngSanitize'])
           .controller('ExampleController', ['$scope', '$sce', function($scope, $sce) {
             $scope.snippet =
               '<p style="color:blue">an html\n' +
               '<em onmouseover="this.textContent=\'PWN3D!\'">click here</em>\n' +
               'snippet</p>';
             $scope.deliberatelyTrustDangerousSnippet = function() {
               return $sce.trustAsHtml($scope.snippet);
             };
           }]);
     </script>
     <div ng-controller="ExampleController">
        Snippet: <textarea ng-model="snippet" cols="60" rows="3"></textarea>
       <table>
         <tr>
           <td>Directive</td>
           <td>How</td>
           <td>Source</td>
           <td>Rendered</td>
         </tr>
         <tr id="bind-html-with-sanitize">
           <td>ng-bind-html</td>
           <td>Automatically uses $sanitize</td>
           <td><pre>&lt;div ng-bind-html="snippet"&gt;<br/>&lt;/div&gt;</pre></td>
           <td><div ng-bind-html="snippet"></div></td>
         </tr>
         <tr id="bind-html-with-trust">
           <td>ng-bind-html</td>
           <td>Bypass $sanitize by explicitly trusting the dangerous value</td>
           <td>
           <pre>&lt;div ng-bind-html="deliberatelyTrustDangerousSnippet()"&gt;
&lt;/div&gt;</pre>
           </td>
           <td><div ng-bind-html="deliberatelyTrustDangerousSnippet()"></div></td>
         </tr>
         <tr id="bind-default">
           <td>ng-bind</td>
           <td>Automatically escapes</td>
           <td><pre>&lt;div ng-bind="snippet"&gt;<br/>&lt;/div&gt;</pre></td>
           <td><div ng-bind="snippet"></div></td>
         </tr>
       </table>
       </div>
   </file>
   <file name="protractor.js" type="protractor">
     it('should sanitize the html snippet by default', function() {
       expect(element(by.css('#bind-html-with-sanitize div')).getAttribute('innerHTML')).
         toBe('<p>an html\n<em>click here</em>\nsnippet</p>');
     });

     it('should inline raw snippet if bound to a trusted value', function() {
       expect(element(by.css('#bind-html-with-trust div')).getAttribute('innerHTML')).
         toBe("<p style=\"color:blue\">an html\n" +
              "<em onmouseover=\"this.textContent='PWN3D!'\">click here</em>\n" +
              "snippet</p>");
     });

     it('should escape snippet without any filter', function() {
       expect(element(by.css('#bind-default div')).getAttribute('innerHTML')).
         toBe("&lt;p style=\"color:blue\"&gt;an html\n" +
              "&lt;em onmouseover=\"this.textContent='PWN3D!'\"&gt;click here&lt;/em&gt;\n" +
              "snippet&lt;/p&gt;");
     });

     it('should update', function() {
       element(by.model('snippet')).clear();
       element(by.model('snippet')).sendKeys('new <b onclick="alert(1)">text</b>');
       expect(element(by.css('#bind-html-with-sanitize div')).getAttribute('innerHTML')).
         toBe('new <b>text</b>');
       expect(element(by.css('#bind-html-with-trust div')).getAttribute('innerHTML')).toBe(
         'new <b onclick="alert(1)">text</b>');
       expect(element(by.css('#bind-default div')).getAttribute('innerHTML')).toBe(
         "new &lt;b onclick=\"alert(1)\"&gt;text&lt;/b&gt;");
     });
   </file>
   </example>
 */


/**
 * @ngdoc provider
 * @name $sanitizeProvider
 * @this
 *
 * @description
 * Creates and configures {@link $sanitize} instance.
 */
function $SanitizeProvider() {
  var svgEnabled = false;

  this.$get = ['$$sanitizeUri', function($$sanitizeUri) {
    if (svgEnabled) {
      extend(validElements, svgElements);
    }
    return function(html) {
      var buf = [];
      htmlParser(html, htmlSanitizeWriter(buf, function(uri, isImage) {
        return !/^unsafe:/.test($$sanitizeUri(uri, isImage));
      }));
      return buf.join('');
    };
  }];


  /**
   * @ngdoc method
   * @name $sanitizeProvider#enableSvg
   * @kind function
   *
   * @description
   * Enables a subset of svg to be supported by the sanitizer.
   *
   * <div class="alert alert-warning">
   *   <p>By enabling this setting without taking other precautions, you might expose your
   *   application to click-hijacking attacks. In these attacks, sanitized svg elements could be positioned
   *   outside of the containing element and be rendered over other elements on the page (e.g. a login
   *   link). Such behavior can then result in phishing incidents.</p>
   *
   *   <p>To protect against these, explicitly setup `overflow: hidden` css rule for all potential svg
   *   tags within the sanitized content:</p>
   *
   *   <br>
   *
   *   <pre><code>
   *   .rootOfTheIncludedContent svg {
   *     overflow: hidden !important;
   *   }
   *   </code></pre>
   * </div>
   *
   * @param {boolean=} flag Enable or disable SVG support in the sanitizer.
   * @returns {boolean|ng.$sanitizeProvider} Returns the currently configured value if called
   *    without an argument or self for chaining otherwise.
   */
  this.enableSvg = function(enableSvg) {
    if (isDefined(enableSvg)) {
      svgEnabled = enableSvg;
      return this;
    } else {
      return svgEnabled;
    }
  };

  //////////////////////////////////////////////////////////////////////////////////////////////////
  // Private stuff
  //////////////////////////////////////////////////////////////////////////////////////////////////

  bind = angular.bind;
  extend = angular.extend;
  forEach = angular.forEach;
  isDefined = angular.isDefined;
  lowercase = angular.lowercase;
  noop = angular.noop;

  htmlParser = htmlParserImpl;
  htmlSanitizeWriter = htmlSanitizeWriterImpl;

  // Regular Expressions for parsing tags and attributes
  var SURROGATE_PAIR_REGEXP = /[\uD800-\uDBFF][\uDC00-\uDFFF]/g,
    // Match everything outside of normal chars and " (quote character)
    NON_ALPHANUMERIC_REGEXP = /([^#-~ |!])/g;


  // Good source of info about elements and attributes
  // http://dev.w3.org/html5/spec/Overview.html#semantics
  // http://simon.html5.org/html-elements

  // Safe Void Elements - HTML5
  // http://dev.w3.org/html5/spec/Overview.html#void-elements
  var voidElements = toMap('area,br,col,hr,img,wbr');

  // Elements that you can, intentionally, leave open (and which close themselves)
  // http://dev.w3.org/html5/spec/Overview.html#optional-tags
  var optionalEndTagBlockElements = toMap('colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr'),
      optionalEndTagInlineElements = toMap('rp,rt'),
      optionalEndTagElements = extend({},
                                              optionalEndTagInlineElements,
                                              optionalEndTagBlockElements);

  // Safe Block Elements - HTML5
  var blockElements = extend({}, optionalEndTagBlockElements, toMap('address,article,' +
          'aside,blockquote,caption,center,del,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,' +
          'h6,header,hgroup,hr,ins,map,menu,nav,ol,pre,section,table,ul'));

  // Inline Elements - HTML5
  var inlineElements = extend({}, optionalEndTagInlineElements, toMap('a,abbr,acronym,b,' +
          'bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,q,ruby,rp,rt,s,' +
          'samp,small,span,strike,strong,sub,sup,time,tt,u,var'));

  // SVG Elements
  // https://wiki.whatwg.org/wiki/Sanitization_rules#svg_Elements
  // Note: the elements animate,animateColor,animateMotion,animateTransform,set are intentionally omitted.
  // They can potentially allow for arbitrary javascript to be executed. See #11290
  var svgElements = toMap('circle,defs,desc,ellipse,font-face,font-face-name,font-face-src,g,glyph,' +
          'hkern,image,linearGradient,line,marker,metadata,missing-glyph,mpath,path,polygon,polyline,' +
          'radialGradient,rect,stop,svg,switch,text,title,tspan');

  // Blocked Elements (will be stripped)
  var blockedElements = toMap('script,style');

  var validElements = extend({},
                                     voidElements,
                                     blockElements,
                                     inlineElements,
                                     optionalEndTagElements);

  //Attributes that have href and hence need to be sanitized
  var uriAttrs = toMap('background,cite,href,longdesc,src,xlink:href');

  var htmlAttrs = toMap('abbr,align,alt,axis,bgcolor,border,cellpadding,cellspacing,class,clear,' +
      'color,cols,colspan,compact,coords,dir,face,headers,height,hreflang,hspace,' +
      'ismap,lang,language,nohref,nowrap,rel,rev,rows,rowspan,rules,' +
      'scope,scrolling,shape,size,span,start,summary,tabindex,target,title,type,' +
      'valign,value,vspace,width');

  // SVG attributes (without "id" and "name" attributes)
  // https://wiki.whatwg.org/wiki/Sanitization_rules#svg_Attributes
  var svgAttrs = toMap('accent-height,accumulate,additive,alphabetic,arabic-form,ascent,' +
      'baseProfile,bbox,begin,by,calcMode,cap-height,class,color,color-rendering,content,' +
      'cx,cy,d,dx,dy,descent,display,dur,end,fill,fill-rule,font-family,font-size,font-stretch,' +
      'font-style,font-variant,font-weight,from,fx,fy,g1,g2,glyph-name,gradientUnits,hanging,' +
      'height,horiz-adv-x,horiz-origin-x,ideographic,k,keyPoints,keySplines,keyTimes,lang,' +
      'marker-end,marker-mid,marker-start,markerHeight,markerUnits,markerWidth,mathematical,' +
      'max,min,offset,opacity,orient,origin,overline-position,overline-thickness,panose-1,' +
      'path,pathLength,points,preserveAspectRatio,r,refX,refY,repeatCount,repeatDur,' +
      'requiredExtensions,requiredFeatures,restart,rotate,rx,ry,slope,stemh,stemv,stop-color,' +
      'stop-opacity,strikethrough-position,strikethrough-thickness,stroke,stroke-dasharray,' +
      'stroke-dashoffset,stroke-linecap,stroke-linejoin,stroke-miterlimit,stroke-opacity,' +
      'stroke-width,systemLanguage,target,text-anchor,to,transform,type,u1,u2,underline-position,' +
      'underline-thickness,unicode,unicode-range,units-per-em,values,version,viewBox,visibility,' +
      'width,widths,x,x-height,x1,x2,xlink:actuate,xlink:arcrole,xlink:role,xlink:show,xlink:title,' +
      'xlink:type,xml:base,xml:lang,xml:space,xmlns,xmlns:xlink,y,y1,y2,zoomAndPan', true);

  var validAttrs = extend({},
                                  uriAttrs,
                                  svgAttrs,
                                  htmlAttrs);

  function toMap(str, lowercaseKeys) {
    var obj = {}, items = str.split(','), i;
    for (i = 0; i < items.length; i++) {
      obj[lowercaseKeys ? lowercase(items[i]) : items[i]] = true;
    }
    return obj;
  }

  var inertBodyElement;
  (function(window) {
    var doc;
    if (window.document && window.document.implementation) {
      doc = window.document.implementation.createHTMLDocument('inert');
    } else {
      throw $sanitizeMinErr('noinert', 'Can\'t create an inert html document');
    }
    var docElement = doc.documentElement || doc.getDocumentElement();
    var bodyElements = docElement.getElementsByTagName('body');

    // usually there should be only one body element in the document, but IE doesn't have any, so we need to create one
    if (bodyElements.length === 1) {
      inertBodyElement = bodyElements[0];
    } else {
      var html = doc.createElement('html');
      inertBodyElement = doc.createElement('body');
      html.appendChild(inertBodyElement);
      doc.appendChild(html);
    }
  })(window);

  /**
   * @example
   * htmlParser(htmlString, {
   *     start: function(tag, attrs) {},
   *     end: function(tag) {},
   *     chars: function(text) {},
   *     comment: function(text) {}
   * });
   *
   * @param {string} html string
   * @param {object} handler
   */
  function htmlParserImpl(html, handler) {
    if (html === null || html === undefined) {
      html = '';
    } else if (typeof html !== 'string') {
      html = '' + html;
    }
    inertBodyElement.innerHTML = html;

    //mXSS protection
    var mXSSAttempts = 5;
    do {
      if (mXSSAttempts === 0) {
        throw $sanitizeMinErr('uinput', 'Failed to sanitize html because the input is unstable');
      }
      mXSSAttempts--;

      // strip custom-namespaced attributes on IE<=11
      if (window.document.documentMode) {
        stripCustomNsAttrs(inertBodyElement);
      }
      html = inertBodyElement.innerHTML; //trigger mXSS
      inertBodyElement.innerHTML = html;
    } while (html !== inertBodyElement.innerHTML);

    var node = inertBodyElement.firstChild;
    while (node) {
      switch (node.nodeType) {
        case 1: // ELEMENT_NODE
          handler.start(node.nodeName.toLowerCase(), attrToMap(node.attributes));
          break;
        case 3: // TEXT NODE
          handler.chars(node.textContent);
          break;
      }

      var nextNode;
      if (!(nextNode = node.firstChild)) {
        if (node.nodeType === 1) {
          handler.end(node.nodeName.toLowerCase());
        }
        nextNode = node.nextSibling;
        if (!nextNode) {
          while (nextNode == null) {
            node = node.parentNode;
            if (node === inertBodyElement) break;
            nextNode = node.nextSibling;
            if (node.nodeType === 1) {
              handler.end(node.nodeName.toLowerCase());
            }
          }
        }
      }
      node = nextNode;
    }

    while ((node = inertBodyElement.firstChild)) {
      inertBodyElement.removeChild(node);
    }
  }

  function attrToMap(attrs) {
    var map = {};
    for (var i = 0, ii = attrs.length; i < ii; i++) {
      var attr = attrs[i];
      map[attr.name] = attr.value;
    }
    return map;
  }


  /**
   * Escapes all potentially dangerous characters, so that the
   * resulting string can be safely inserted into attribute or
   * element text.
   * @param value
   * @returns {string} escaped text
   */
  function encodeEntities(value) {
    return value.
      replace(/&/g, '&amp;').
      replace(SURROGATE_PAIR_REGEXP, function(value) {
        var hi = value.charCodeAt(0);
        var low = value.charCodeAt(1);
        return '&#' + (((hi - 0xD800) * 0x400) + (low - 0xDC00) + 0x10000) + ';';
      }).
      replace(NON_ALPHANUMERIC_REGEXP, function(value) {
        return '&#' + value.charCodeAt(0) + ';';
      }).
      replace(/</g, '&lt;').
      replace(/>/g, '&gt;');
  }

  /**
   * create an HTML/XML writer which writes to buffer
   * @param {Array} buf use buf.join('') to get out sanitized html string
   * @returns {object} in the form of {
   *     start: function(tag, attrs) {},
   *     end: function(tag) {},
   *     chars: function(text) {},
   *     comment: function(text) {}
   * }
   */
  function htmlSanitizeWriterImpl(buf, uriValidator) {
    var ignoreCurrentElement = false;
    var out = bind(buf, buf.push);
    return {
      start: function(tag, attrs) {
        tag = lowercase(tag);
        if (!ignoreCurrentElement && blockedElements[tag]) {
          ignoreCurrentElement = tag;
        }
        if (!ignoreCurrentElement && validElements[tag] === true) {
          out('<');
          out(tag);
          forEach(attrs, function(value, key) {
            var lkey = lowercase(key);
            var isImage = (tag === 'img' && lkey === 'src') || (lkey === 'background');
            if (validAttrs[lkey] === true &&
              (uriAttrs[lkey] !== true || uriValidator(value, isImage))) {
              out(' ');
              out(key);
              out('="');
              out(encodeEntities(value));
              out('"');
            }
          });
          out('>');
        }
      },
      end: function(tag) {
        tag = lowercase(tag);
        if (!ignoreCurrentElement && validElements[tag] === true && voidElements[tag] !== true) {
          out('</');
          out(tag);
          out('>');
        }
        // eslint-disable-next-line eqeqeq
        if (tag == ignoreCurrentElement) {
          ignoreCurrentElement = false;
        }
      },
      chars: function(chars) {
        if (!ignoreCurrentElement) {
          out(encodeEntities(chars));
        }
      }
    };
  }


  /**
   * When IE9-11 comes across an unknown namespaced attribute e.g. 'xlink:foo' it adds 'xmlns:ns1' attribute to declare
   * ns1 namespace and prefixes the attribute with 'ns1' (e.g. 'ns1:xlink:foo'). This is undesirable since we don't want
   * to allow any of these custom attributes. This method strips them all.
   *
   * @param node Root element to process
   */
  function stripCustomNsAttrs(node) {
    while (node) {
      if (node.nodeType === window.Node.ELEMENT_NODE) {
        var attrs = node.attributes;
        for (var i = 0, l = attrs.length; i < l; i++) {
          var attrNode = attrs[i];
          var attrName = attrNode.name.toLowerCase();
          if (attrName === 'xmlns:ns1' || attrName.lastIndexOf('ns1:', 0) === 0) {
            node.removeAttributeNode(attrNode);
            i--;
            l--;
          }
        }
      }

      var nextNode = node.firstChild;
      if (nextNode) {
        stripCustomNsAttrs(nextNode);
      }

      node = node.nextSibling;
    }
  }
}

function sanitizeText(chars) {
  var buf = [];
  var writer = htmlSanitizeWriter(buf, noop);
  writer.chars(chars);
  return buf.join('');
}


// define ngSanitize module and register $sanitize service
angular.module('ngSanitize', []).provider('$sanitize', $SanitizeProvider);

/**
 * @ngdoc filter
 * @name linky
 * @kind function
 *
 * @description
 * Finds links in text input and turns them into html links. Supports `http/https/ftp/mailto` and
 * plain email address links.
 *
 * Requires the {@link ngSanitize `ngSanitize`} module to be installed.
 *
 * @param {string} text Input text.
 * @param {string} target Window (`_blank|_self|_parent|_top`) or named frame to open links in.
 * @param {object|function(url)} [attributes] Add custom attributes to the link element.
 *
 *    Can be one of:
 *
 *    - `object`: A map of attributes
 *    - `function`: Takes the url as a parameter and returns a map of attributes
 *
 *    If the map of attributes contains a value for `target`, it overrides the value of
 *    the target parameter.
 *
 *
 * @returns {string} Html-linkified and {@link $sanitize sanitized} text.
 *
 * @usage
   <span ng-bind-html="linky_expression | linky"></span>
 *
 * @example
   <example module="linkyExample" deps="angular-sanitize.js" name="linky-filter">
     <file name="index.html">
       <div ng-controller="ExampleController">
       Snippet: <textarea ng-model="snippet" cols="60" rows="3"></textarea>
       <table>
         <tr>
           <th>Filter</th>
           <th>Source</th>
           <th>Rendered</th>
         </tr>
         <tr id="linky-filter">
           <td>linky filter</td>
           <td>
             <pre>&lt;div ng-bind-html="snippet | linky"&gt;<br>&lt;/div&gt;</pre>
           </td>
           <td>
             <div ng-bind-html="snippet | linky"></div>
           </td>
         </tr>
         <tr id="linky-target">
          <td>linky target</td>
          <td>
            <pre>&lt;div ng-bind-html="snippetWithSingleURL | linky:'_blank'"&gt;<br>&lt;/div&gt;</pre>
          </td>
          <td>
            <div ng-bind-html="snippetWithSingleURL | linky:'_blank'"></div>
          </td>
         </tr>
         <tr id="linky-custom-attributes">
          <td>linky custom attributes</td>
          <td>
            <pre>&lt;div ng-bind-html="snippetWithSingleURL | linky:'_self':{rel: 'nofollow'}"&gt;<br>&lt;/div&gt;</pre>
          </td>
          <td>
            <div ng-bind-html="snippetWithSingleURL | linky:'_self':{rel: 'nofollow'}"></div>
          </td>
         </tr>
         <tr id="escaped-html">
           <td>no filter</td>
           <td><pre>&lt;div ng-bind="snippet"&gt;<br>&lt;/div&gt;</pre></td>
           <td><div ng-bind="snippet"></div></td>
         </tr>
       </table>
     </file>
     <file name="script.js">
       angular.module('linkyExample', ['ngSanitize'])
         .controller('ExampleController', ['$scope', function($scope) {
           $scope.snippet =
             'Pretty text with some links:\n' +
             'http://angularjs.org/,\n' +
             'mailto:us@somewhere.org,\n' +
             'another@somewhere.org,\n' +
             'and one more: ftp://127.0.0.1/.';
           $scope.snippetWithSingleURL = 'http://angularjs.org/';
         }]);
     </file>
     <file name="protractor.js" type="protractor">
       it('should linkify the snippet with urls', function() {
         expect(element(by.id('linky-filter')).element(by.binding('snippet | linky')).getText()).
             toBe('Pretty text with some links: http://angularjs.org/, us@somewhere.org, ' +
                  'another@somewhere.org, and one more: ftp://127.0.0.1/.');
         expect(element.all(by.css('#linky-filter a')).count()).toEqual(4);
       });

       it('should not linkify snippet without the linky filter', function() {
         expect(element(by.id('escaped-html')).element(by.binding('snippet')).getText()).
             toBe('Pretty text with some links: http://angularjs.org/, mailto:us@somewhere.org, ' +
                  'another@somewhere.org, and one more: ftp://127.0.0.1/.');
         expect(element.all(by.css('#escaped-html a')).count()).toEqual(0);
       });

       it('should update', function() {
         element(by.model('snippet')).clear();
         element(by.model('snippet')).sendKeys('new http://link.');
         expect(element(by.id('linky-filter')).element(by.binding('snippet | linky')).getText()).
             toBe('new http://link.');
         expect(element.all(by.css('#linky-filter a')).count()).toEqual(1);
         expect(element(by.id('escaped-html')).element(by.binding('snippet')).getText())
             .toBe('new http://link.');
       });

       it('should work with the target property', function() {
        expect(element(by.id('linky-target')).
            element(by.binding("snippetWithSingleURL | linky:'_blank'")).getText()).
            toBe('http://angularjs.org/');
        expect(element(by.css('#linky-target a')).getAttribute('target')).toEqual('_blank');
       });

       it('should optionally add custom attributes', function() {
        expect(element(by.id('linky-custom-attributes')).
            element(by.binding("snippetWithSingleURL | linky:'_self':{rel: 'nofollow'}")).getText()).
            toBe('http://angularjs.org/');
        expect(element(by.css('#linky-custom-attributes a')).getAttribute('rel')).toEqual('nofollow');
       });
     </file>
   </example>
 */
angular.module('ngSanitize').filter('linky', ['$sanitize', function($sanitize) {
  var LINKY_URL_REGEXP =
        /((ftp|https?):\/\/|(www\.)|(mailto:)?[A-Za-z0-9._%+-]+@)\S*[^\s.;,(){}<>"\u201d\u2019]/i,
      MAILTO_REGEXP = /^mailto:/i;

  var linkyMinErr = angular.$$minErr('linky');
  var isDefined = angular.isDefined;
  var isFunction = angular.isFunction;
  var isObject = angular.isObject;
  var isString = angular.isString;

  return function(text, target, attributes) {
    if (text == null || text === '') return text;
    if (!isString(text)) throw linkyMinErr('notstring', 'Expected string but received: {0}', text);

    var attributesFn =
      isFunction(attributes) ? attributes :
      isObject(attributes) ? function getAttributesObject() {return attributes;} :
      function getEmptyAttributesObject() {return {};};

    var match;
    var raw = text;
    var html = [];
    var url;
    var i;
    while ((match = raw.match(LINKY_URL_REGEXP))) {
      // We can not end in these as they are sometimes found at the end of the sentence
      url = match[0];
      // if we did not match ftp/http/www/mailto then assume mailto
      if (!match[2] && !match[4]) {
        url = (match[3] ? 'http://' : 'mailto:') + url;
      }
      i = match.index;
      addText(raw.substr(0, i));
      addLink(url, match[0].replace(MAILTO_REGEXP, ''));
      raw = raw.substring(i + match[0].length);
    }
    addText(raw);
    return $sanitize(html.join(''));

    function addText(text) {
      if (!text) {
        return;
      }
      html.push(sanitizeText(text));
    }

    function addLink(url, text) {
      var key, linkAttributes = attributesFn(url);
      html.push('<a ');

      for (key in linkAttributes) {
        html.push(key + '="' + linkAttributes[key] + '" ');
      }

      if (isDefined(target) && !('target' in linkAttributes)) {
        html.push('target="',
                  target,
                  '" ');
      }
      html.push('href="',
                url.replace(/"/g, '&quot;'),
                '">');
      addText(text);
      html.push('</a>');
    }
  };
}]);


})(window, window.angular);

},{}],"/Users/cescwang/program/sil/SIL-frontend/node_modules/angular-sanitize/index.js":[function(require,module,exports){
require('./angular-sanitize');
module.exports = 'ngSanitize';

},{"./angular-sanitize":"/Users/cescwang/program/sil/SIL-frontend/node_modules/angular-sanitize/angular-sanitize.js"}],"/Users/cescwang/program/sil/SIL-frontend/node_modules/angular-validation-match/dist/angular-validation-match.js":[function(require,module,exports){
/*!
 * angular-validation-match
 * Checks if one input matches another
 * @version v1.9.0
 * @link https://github.com/TheSharpieOne/angular-validation-match
 * @license MIT License, http://www.opensource.org/licenses/MIT
 */
(function(window, angular, undefined){'use strict';

match.$inject = ["$parse"];
angular.module('validation.match', []);

angular.module('validation.match').directive('match', match);

function match ($parse) {
    return {
        require: '?ngModel',
        restrict: 'A',
        link: function(scope, elem, attrs, ctrl) {
            if(!ctrl || !attrs.match) {
                return;
            }

            var matchGetter = $parse(attrs.match);
            var caselessGetter = $parse(attrs.matchCaseless);
            var noMatchGetter = $parse(attrs.notMatch);
            var matchIgnoreEmptyGetter = $parse(attrs.matchIgnoreEmpty);

            scope.$watch(getMatchValue, function(){
                ctrl.$$parseAndValidate();
            });

            ctrl.$validators.match = function(modelValue, viewValue){
              var matcher = modelValue || viewValue;
              var match = getMatchValue();
              var notMatch = noMatchGetter(scope);
              var value;

              if (matchIgnoreEmptyGetter(scope) && !viewValue) {
                return true;
              }

              if(caselessGetter(scope)){
                value = angular.lowercase(matcher) === angular.lowercase(match);
              }else{
                value = matcher === match;
              }
              /*jslint bitwise: true */
              value ^= notMatch;
              /*jslint bitwise: false */
              return !!value;
            };

            function getMatchValue(){
                var match = matchGetter(scope);
                if(angular.isObject(match) && match.hasOwnProperty('$viewValue')){
                    match = match.$viewValue;
                }
                return match;
            }
        }
    };
}
})(window, window.angular);

},{}],"/Users/cescwang/program/sil/SIL-frontend/node_modules/angular-validation-match/index.js":[function(require,module,exports){
require('./dist/angular-validation-match');
module.exports = 'validation.match';

},{"./dist/angular-validation-match":"/Users/cescwang/program/sil/SIL-frontend/node_modules/angular-validation-match/dist/angular-validation-match.js"}],"/Users/cescwang/program/sil/SIL-frontend/node_modules/angular-validation/dist/angular-validation-rule.js":[function(require,module,exports){
(function() {
  angular
    .module('validation.rule', ['validation'])
    .config(['$validationProvider', function($validationProvider) {
      var expression = {
        required: function(value) {
          return !!value;
        },
        url: /((([A-Za-z]{3,9}:(?:\/\/)?)(?:[-;:&=\+\$,\w]+@)?[A-Za-z0-9.-]+|(?:www.|[-;:&=\+\$,\w]+@)[A-Za-z0-9.-]+)((?:\/[\+~%\/.\w-_]*)?\??(?:[-\+=&;%@.\w_]*)#?(?:[\w]*))?)/,
        email: /^([\w-\.]+)@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.)|(([\w-]+\.)+))([a-zA-Z]{2,4}|[0-9]{1,3})(\]?)$/,
        number: /^\d+$/,
        minlength: function(value, scope, element, attrs, param) {
          return value.length >= param;
        },
        maxlength: function(value, scope, element, attrs, param) {
          return value.length <= param;
        }
      };

      var defaultMsg = {
        required: {
          error: 'This should be Required!!',
          success: 'It\'s Required'
        },
        url: {
          error: 'This should be Url',
          success: 'It\'s Url'
        },
        email: {
          error: 'This should be Email',
          success: 'It\'s Email'
        },
        number: {
          error: 'This should be Number',
          success: 'It\'s Number'
        },
        minlength: {
          error: 'This should be longer',
          success: 'Long enough!'
        },
        maxlength: {
          error: 'This should be shorter',
          success: 'Short enough!'
        }
      };
      $validationProvider.setExpression(expression).setDefaultMsg(defaultMsg);
    }]);
}).call(this);

},{}],"/Users/cescwang/program/sil/SIL-frontend/node_modules/angular-validation/dist/angular-validation.js":[function(require,module,exports){
angular.module('validation', ['validation.provider', 'validation.directive']);
angular.module('validation.provider', []);
angular.module('validation.directive', ['validation.provider']);

(function() {
  angular
    .module('validation.provider')
    .provider('$validation', Provider);

  function Provider() {
    var $injector;
    var $scope;
    var $http;
    var $q;
    var $timeout;
    var _this = this;

    /**
     * Setup the provider
     * @param injector
     */
    var setup = function(injector) {
      $injector = injector;
      $scope = $injector.get('$rootScope');
      $http = $injector.get('$http');
      $q = $injector.get('$q');
      $timeout = $injector.get('$timeout');
    };

    /**
     * Define validation type RegExp
     * @type {{}}
     */
    var expression = {};

    /**
     * default valid method
     * @type {{}}
     */
    var validMethod = null;

    /**
     * default error, success message
     * @type {{}}
     */
    var defaultMsg = {};

    /**
     * Allow user to set a custom Expression, do remember set the default message using setDefaultMsg
     * @param obj
     * @returns {*}
     */
    this.setExpression = function(obj) {
      angular.extend(expression, obj);
      return _this;
    };

    /**
     * Get the Expression
     * @param exprs
     * @returns {*}
     */
    this.getExpression = function(exprs) {
      return expression[exprs];
    };

    /**
     * Allow user to set default message
     * @param obj
     * @returns {*}
     */
    this.setDefaultMsg = function(obj) {
      angular.extend(defaultMsg, obj);
      return _this;
    };

    /**
     * Get the Default Message
     * @param msg
     * @returns {*}
     */
    this.getDefaultMsg = function(msg) {
      return defaultMsg[msg];
    };

    /**
     * allow user to set the global valid method
     * @param v
     * @returns {*}
     */
    this.setValidMethod = function(v) {
      validMethod = v;
    };

    /**
     * Get the valid method     
     * @returns {*}
     */
    this.getValidMethod = function() {
      return validMethod;
    };

    /**
     * Override the errorHTML function
     * @param func
     * @returns {*}
     */
    this.setErrorHTML = function(func) {
      if (func.constructor !== Function) {
        return;
      }
      _this.getErrorHTML = func;
      return _this;
    };

    /**
     * Invalid message HTML, here's the default
     * @param message
     * @returns {string}
     */
    this.getErrorHTML = function(message) {
      return '<p class="validation-invalid">' + message + '</p>';
    };

    /**
     * Override the successHTML function
     * @param func
     * @returns {*}
     */
    this.setSuccessHTML = function(func) {
      if (func.constructor !== Function) {
        return;
      }
      _this.getSuccessHTML = func;
      return _this;
    };

    /**
     * Valid message HTML, here's the default
     * @param message
     * @returns {string}
     */
    this.getSuccessHTML = function(message) {
      return '<p class="validation-valid">' + message + '</p>';
    };

    /**
     * Whether show the validation success message
     * You can easily change this to false in your config
     * example: $validationProvider.showSuccessMessage = false;
     * @type {boolean}
     */
    this.showSuccessMessage = true;

    /**
     * Whether show the validation error message
     * You can easily change this to false in your config
     * example: $validationProvider.showErrorMessage = false;
     * @type {boolean}
     */
    this.showErrorMessage = true;

    /**
     * Check form valid, return true
     * checkValid(Form): Check the specific form(Form) valid from angular `$valid`
     * @param form
     * @returns {boolean}
     */
    this.checkValid = function(form) {
      return !!(form && form.$valid);
    };

    /**
     * Validate the form when click submit, when `validMethod = submit`
     * @param form
     * @returns {promise|*}
     */
    this.validate = function(form) {
      var deferred = $q.defer();
      var idx = 0;

      if (form === undefined) {
        console.error('This is not a regular Form name scope');
        deferred.reject('This is not a regular Form name scope');
        return deferred.promise;
      }

      if (form.validationId) { // single
        $scope.$broadcast(form.$name + 'submit-' + form.validationId, idx++);
      } else if (form.constructor === Array) { // multiple
        for (var k in form) {
          $scope.$broadcast(form[k].$name + 'submit-' + form[k].validationId, idx++);
        }
      } else {
        for (var i in form) { // whole scope
          if (i[0] !== '$' && form[i].hasOwnProperty('$dirty')) {
            $scope.$broadcast(i + 'submit-' + form[i].validationId, idx++);
          }
        }
      }

      deferred.promise.success = function(fn) {
        deferred.promise.then(function(value) {
          fn(value);
        });
        return deferred.promise;
      };

      deferred.promise.error = function(fn) {
        deferred.promise.then(null, function(value) {
          fn(value);
        });
        return deferred.promise;
      };

      $timeout(function() {
        if (_this.checkValid(form)) {
          deferred.resolve('success');
        } else {
          deferred.reject('error');
        }
      });

      return deferred.promise;
    };

    /**
     * Do this function if validation valid
     * @param element
     */
    this.validCallback = null;

    /**
     * Do this function if validation invalid
     * @param element
     */
    this.invalidCallback = null;

    /**
     * Do this function when reset is performed
     * @param element
     */
    this.resetCallback = null;

    /**
     * reset the specific form
     * @param form
     */
    this.reset = function(form) {
      if (form === undefined) {
        console.error('This is not a regular Form name scope');
        return;
      }

      if (form.validationId) {
        $scope.$broadcast(form.$name + 'reset-' + form.validationId);
      } else if (form.constructor === Array) {
        for (var k in form) {
          $scope.$broadcast(form[k].$name + 'reset-' + form[k].validationId);
        }
      } else {
        for (var i in form) {
          if (i[0] !== '$' && form[i].hasOwnProperty('$dirty')) {
            $scope.$broadcast(i + 'reset-' + form[i].validationId);
          }
        }
      }
    };

    /**
     * Add Message Element in config phase
     * When you need custom your messageElement 
     * NODE: this funtion & and `message-id` attribute, have similar purpose.
     * This function will help you add your `messageElement` automatically instead of pre-defined.
     * @param element
     */
    this.addMsgElement = function(element) {
      return element.after('<span></span>');
    };

    /**
     * Add Message Element in config phase
     * When you need custom your messageElement 
     * NODE: this funtion & and `message-id` attribute, have similar purpose.
     * This function will help you add your `messageElement` automatically instead of pre-defined.
     * @param element
     */
    this.getMsgElement = function(element) {
      return element.next();
    };

    /**
     * $get
     * @returns {{setErrorHTML: *, getErrorHTML: Function, setSuccessHTML: *, getSuccessHTML: Function, setExpression: *, getExpression: Function, setDefaultMsg: *, getDefaultMsg: Function, checkValid: Function, validate: Function, reset: Function}}
     */
    this.$get = ['$injector', function($injector) {
      setup($injector);
      return {
        setValidMethod: this.setValidMethod,
        getValidMethod: this.getValidMethod,
        setErrorHTML: this.setErrorHTML,
        getErrorHTML: this.getErrorHTML,
        setSuccessHTML: this.setSuccessHTML,
        getSuccessHTML: this.getSuccessHTML,
        setExpression: this.setExpression,
        getExpression: this.getExpression,
        setDefaultMsg: this.setDefaultMsg,
        getDefaultMsg: this.getDefaultMsg,
        showSuccessMessage: this.showSuccessMessage,
        showErrorMessage: this.showErrorMessage,
        checkValid: this.checkValid,
        validate: this.validate,
        validCallback: this.validCallback,
        invalidCallback: this.invalidCallback,
        resetCallback: this.resetCallback,
        reset: this.reset,
        addMsgElement: this.addMsgElement,
        getMsgElement: this.getMsgElement
      };
    }];
  }
}).call(this);

(function() {
  angular
    .module('validation.directive')
    .directive('validationReset', Reset);

  function Reset($injector) {
    var $validationProvider = $injector.get('$validation');
    var $timeout = $injector.get('$timeout');
    var $parse = $injector.get('$parse');
    return {
      link: function postLink(scope, element, attrs) {
        var form = $parse(attrs.validationReset)(scope);
        $timeout(function() {
          element.on('click', function(e) {
            e.preventDefault();
            $validationProvider.reset(form);
          });
        });
      }
    };
  }
  Reset.$inject = ['$injector'];
}).call(this);

(function() {
  angular
    .module('validation.directive')
    .directive('validationSubmit', Submit);

  function Submit($injector) {
    var $validationProvider = $injector.get('$validation');
    var $timeout = $injector.get('$timeout');
    var $parse = $injector.get('$parse');
    return {
      priority: 1, // execute before ng-click (0)
      require: '?ngClick',
      link: function postLink(scope, element, attrs) {
        var form = $parse(attrs.validationSubmit)(scope);
        $timeout(function() {
          // Disable ng-click event propagation
          element.off('click');
          element.on('click', function(e) {
            e.preventDefault();
            $validationProvider.validate(form)
              .success(function() {
                $parse(attrs.ngClick)(scope);
              });
          });
        });
      }
    };
  }
  Submit.$inject = ['$injector'];
}).call(this);

(function() {
  angular
    .module('validation.directive')
    .directive('validator', Validator);

  function Validator($injector) {
    var $validationProvider = $injector.get('$validation');
    var $q = $injector.get('$q');
    var $timeout = $injector.get('$timeout');
    var $compile = $injector.get('$compile');
    var $parse = $injector.get('$parse');
    var groups = {};

    /**
     * Do this function if validation valid
     * @param element
     * @param validMessage
     * @param validation
     * @param callback
     * @param ctrl
     * @returns {}
     */
    var validFunc = function(element, validMessage, validation, scope, ctrl, attrs) {
      var messageToShow = validMessage || $validationProvider.getDefaultMsg(validation).success;
      var validCallback = $parse(attrs.validCallback);
      var messageId = attrs.messageId;
      var validationGroup = attrs.validationGroup;
      var messageElem;

      if (messageId || validationGroup) messageElem = angular.element(document.querySelector('#' + (messageId || validationGroup)));
      else messageElem = $validationProvider.getMsgElement(element);

      if (element.attr('no-validation-message')) {
        messageElem.css('display', 'none');
      } else if ($validationProvider.showSuccessMessage && messageToShow) {
        messageElem.html('').append($compile($validationProvider.getSuccessHTML(messageToShow, element, attrs))(scope));
        messageElem.css('display', '');
      } else {
        messageElem.css('display', 'none');
      }

      ctrl.$setValidity(ctrl.$name, true);
      validCallback(scope, {
        message: messageToShow
      });
      if ($validationProvider.validCallback) $validationProvider.validCallback(element);

      return true;
    };


    /**
     * Do this function if validation invalid
     * @param element
     * @param validMessage
     * @param validation
     * @param callback
     * @param ctrl
     * @returns {}
     */
    var invalidFunc = function(element, validMessage, validation, scope, ctrl, attrs) {
      var messageToShow = validMessage || $validationProvider.getDefaultMsg(validation).error;
      var invalidCallback = $parse(attrs.invalidCallback);
      var messageId = attrs.messageId;
      var validationGroup = attrs.validationGroup;
      var messageElem;

      if (messageId || validationGroup) messageElem = angular.element(document.querySelector('#' + (messageId || validationGroup)));
      else messageElem = $validationProvider.getMsgElement(element);

      if (element.attr('no-validation-message')) {
        messageElem.css('display', 'none');
      } else if ($validationProvider.showErrorMessage && messageToShow) {
        messageElem.html('').append($compile($validationProvider.getErrorHTML(messageToShow, element, attrs))(scope));
        messageElem.css('display', '');
      } else {
        messageElem.css('display', 'none');
      }

      ctrl.$setValidity(ctrl.$name, false);
      invalidCallback(scope, {
        message: messageToShow
      });
      if ($validationProvider.invalidCallback) $validationProvider.invalidCallback(element);

      return false;
    };

    /**
     * Verify whether there is one of the elements inside the group valid.
     * If so, it returns true, otherwise, it returns false
     *
     * @param validationGroup
     * @return {boolean}
     */
    var checkValidationGroup = function(validationGroup) {
      var group = groups[validationGroup];

      return Object.keys(group).some(function(key) {
        return group[key];
      });
    };

    /**
     * Set validity to all elements inside the given group
     *
     * @param scope
     * @param groupName
     * @param validity
     */
    function setValidationGroup(scope, validationGroup, validity) {
      var validationGroupElems = document.querySelectorAll('*[validation-group=' + validationGroup + ']');

      // Loop through all elements inside the group
      for (var i = 0, len = validationGroupElems.length; i < len; i++) {
        var elem = validationGroupElems[i];
        var formName = elem.form.name;
        var elemName = elem.name;
        scope[formName][elemName].$setValidity(elemName, validity);
      }
    }

    /**
     * collect elements for focus
     * @type {Object}
     ***private variable
     */
    var focusElements = {};


    /**
     * Check Validation with Function or RegExp
     * @param scope
     * @param element
     * @param attrs
     * @param ctrl
     * @param validation
     * @param value
     * @returns {}
     */
    var checkValidation = function(scope, element, attrs, ctrl, validation, value) {
      var validators = validation.slice(0);
      var validatorExpr = validators[0].trim();
      var paramIndex = validatorExpr.indexOf('=');
      var validator = paramIndex === -1 ? validatorExpr : validatorExpr.substr(0, paramIndex);
      var validatorParam = paramIndex === -1 ? null : validatorExpr.substr(paramIndex + 1);
      var leftValidation = validators.slice(1);
      var successMessage = validator + 'SuccessMessage';
      var errorMessage = validator + 'ErrorMessage';
      var expression = $validationProvider.getExpression(validator);
      var validationGroup = attrs.validationGroup;
      var valid = {
        success: function() {
          validFunc(element, attrs[successMessage], validator, scope, ctrl, attrs);
          if (leftValidation.length) {
            return checkValidation(scope, element, attrs, ctrl, leftValidation, value);
          } else {
            return true;
          }
        },
        error: function() {
          return invalidFunc(element, attrs[errorMessage], validator, scope, ctrl, attrs);
        }
      };

      if (expression === undefined) {
        console.error('You are using undefined validator "%s"', validator);
        if (leftValidation.length) return checkValidation(scope, element, attrs, ctrl, leftValidation, value);
        else return;
      }
      // Check with Function
      if (expression.constructor === Function) {
        return $q.all([$validationProvider.getExpression(validator)(value, scope, element, attrs, validatorParam)])
          .then(function(data) {
            if (data && data.length > 0 && data[0]) {
              if (validationGroup) {
                groups[validationGroup][ctrl.$name] = true;
                setValidationGroup(scope, validationGroup, true);
              }
              return valid.success();
            } else if (validationGroup) {
              groups[validationGroup][ctrl.$name] = false;

              // Whenever the element is invalid, we'll check whether one of the elements inside the its group valid or not.
              // If there is a valid element, its invalid message won't be shown, Otherwise, shows its invalid message.
              if (checkValidationGroup(validationGroup)) {
                setValidationGroup(scope, validationGroup, true);
              } else {
                setValidationGroup(scope, validationGroup, false);
                return valid.error();
              }
            } else return valid.error();
          }, function() {
            return valid.error();
          });
      }

      // Check with RegExp
      else if (expression.constructor === RegExp) {
        // Only apply the test if the value is neither undefined or null
        if (value !== undefined && value !== null) {
          if ($validationProvider.getExpression(validator).test(value)) {
            if (validationGroup) {
              groups[validationGroup][ctrl.$name] = true;
              setValidationGroup(scope, validationGroup, true);
            }
            return valid.success();
          } else if (validationGroup) {
            groups[validationGroup][ctrl.$name] = false;

            // Whenever the element is invalid, we'll check whether one of the elements inside the its group valid or not.
            // If there is a valid element, its invalid message won't be shown, Otherwise, shows its invalid message.
            if (checkValidationGroup(validationGroup)) {
              setValidationGroup(scope, validationGroup, true);
            } else {
              setValidationGroup(scope, validationGroup, false);
              return valid.error();
            }
          } else return valid.error();
        }
      } else return valid.error();
    };

    /**
     * generate unique guid
     */
    var s4 = function() {
      return (((1 + Math.random()) * 0x10000) | 0).toString(16).substring(1);
    };
    var guid = function() {
      return (s4() + s4() + s4() + s4());
    };


    return {
      restrict: 'A',
      require: 'ngModel',
      link: function(scope, element, attrs, ctrl) {
        /**
         * All attributes
         */
        var validator = attrs.validator;
        var messageId = attrs.messageId;
        var validationGroup = attrs.validationGroup;
        var validMethod = attrs.validMethod;
        var ngModel = attrs.ngModel;

        /**
         * watch
         * @type {watch}
         *
         * Use to collect scope.$watch method
         *
         * use watch() to destroy the $watch method
         */
        var watch = function() {};

        /**
         * validator
         * @type {Array}
         *
         * Convert user input String to Array
         */
        var validation = validator.split(',');

        /**
         * guid use
         */
        var uid = ctrl.validationId = guid();

        /**
         * to have avalue to rollback to
         */
        var originalViewValue = null;

        /**
         * Set initial validity to undefined if no boolean value is transmitted
         */
        var initialValidity;
        if (typeof scope.initialValidity === 'boolean') {
          initialValidity = scope.initialValidity;
        }

        /**
         * Set up groups object in order to keep track validation of elements
         */
        if (validationGroup) {
          if (!groups[validationGroup]) groups[validationGroup] = {};
          groups[validationGroup][ctrl.$name] = false;
        }

        /**
         * Default Valid/Invalid Message
         */
        if (!(messageId || validationGroup)) $validationProvider.addMsgElement(element);

        /**
         * Set custom initial validity
         * Usage: <input initial-validity="true" ... >
         */
        ctrl.$setValidity(ctrl.$name, initialValidity);

        /**
         * Reset the validation for specific form
         */
        scope.$on(ctrl.$name + 'reset-' + uid, function() {
          /**
           * clear scope.$watch here
           * when reset status
           * clear the $watch method to prevent
           * $watch again while reset the form
           */
          watch();

          $timeout(function() {
            ctrl.$setViewValue(originalViewValue);
            ctrl.$setPristine();
            ctrl.$setValidity(ctrl.$name, undefined);
            ctrl.$render();
            if (messageId || validationGroup) angular.element(document.querySelector('#' + (messageId || validationGroup))).html('');
            else $validationProvider.getMsgElement(element).html('');

            if ($validationProvider.resetCallback) $validationProvider.resetCallback(element);
          });
        });

        /**
         * Check validator
         */
        validMethod = (angular.isUndefined(validMethod)) ? $validationProvider.getValidMethod() : validMethod;

        /**
         * Click submit form, check the validity when submit
         */
        scope.$on(ctrl.$name + 'submit-' + uid, function(event, index) {
          var value = ctrl.$viewValue;
          var isValid = false;

          isValid = checkValidation(scope, element, attrs, ctrl, validation, value);

          if (validMethod === 'submit') {
            // clear previous scope.$watch
            watch();
            watch = scope.$watch(function() {
              return scope.$eval(ngModel);
            }, function(value, oldValue) {
              // don't watch when init
              if (value === oldValue) {
                return;
              }

              // scope.$watch will translate '' to undefined
              // undefined/null will pass the required submit /^.+/
              // cause some error in this validation
              if (value === undefined || value === null) {
                value = '';
              }

              isValid = checkValidation(scope, element, attrs, ctrl, validation, value);
            });
          }

          var setFocus = function(isValid) {
            if (isValid) {
              delete focusElements[index];
            } else {
              focusElements[index] = element[0];

              $timeout(function() {
                focusElements[Math.min.apply(null, Object.keys(focusElements))].focus();
              }, 0);
            }
          };

          if (isValid.constructor === Object) isValid.then(setFocus);
          else setFocus(isValid);
        });

        /**
         * Validate blur method
         */
        if (validMethod === 'blur') {
          element.bind('blur', function() {
            var value = scope.$eval(ngModel);
            scope.$apply(function() {
              checkValidation(scope, element, attrs, ctrl, validation, value);
            });
          });

          return;
        }

        /**
         * Validate submit & submit-only method
         */
        if (validMethod === 'submit' || validMethod === 'submit-only') {
          return;
        }

        /**
         * Validate watch method
         * This is the default method
         */
        scope.$watch(function() {
          return scope.$eval(ngModel);
        }, function(value) {
          /**
           * dirty, pristine, viewValue control here
           */
          if (ctrl.$pristine && ctrl.$viewValue) {
            // has value when initial
            originalViewValue = ctrl.$viewValue || '';
            ctrl.$setViewValue(ctrl.$viewValue);
          } else if (ctrl.$pristine) {
            // Don't validate form when the input is clean(pristine)
            if (messageId || validationGroup) angular.element(document.querySelector('#' + (messageId || validationGroup))).html('');
            else $validationProvider.getMsgElement(element).html('');
            return;
          }
          checkValidation(scope, element, attrs, ctrl, validation, value);
        });

        $timeout(function() {
          /**
           * Don't showup the validation Message
           */
          attrs.$observe('noValidationMessage', function(value) {
            var el;
            if (messageId || validationGroup) el = angular.element(document.querySelector('#' + (messageId || validationGroup)));
            else el = $validationProvider.getMsgElement(element);
            if (value === 'true' || value === true) el.css('display', 'none');
            else if (value === 'false' || value === false) el.css('display', 'block');
          });
        });
      }
    };
  }
  Validator.$inject = ['$injector'];
}).call(this);

},{}],"/Users/cescwang/program/sil/SIL-frontend/node_modules/bootstrap/dist/js/npm.js":[function(require,module,exports){
// This file is autogenerated via the `commonjs` Grunt task. You can require() this file in a CommonJS environment.
require('../../js/transition.js')
require('../../js/alert.js')
require('../../js/button.js')
require('../../js/carousel.js')
require('../../js/collapse.js')
require('../../js/dropdown.js')
require('../../js/modal.js')
require('../../js/tooltip.js')
require('../../js/popover.js')
require('../../js/scrollspy.js')
require('../../js/tab.js')
require('../../js/affix.js')
},{"../../js/affix.js":"/Users/cescwang/program/sil/SIL-frontend/node_modules/bootstrap/js/affix.js","../../js/alert.js":"/Users/cescwang/program/sil/SIL-frontend/node_modules/bootstrap/js/alert.js","../../js/button.js":"/Users/cescwang/program/sil/SIL-frontend/node_modules/bootstrap/js/button.js","../../js/carousel.js":"/Users/cescwang/program/sil/SIL-frontend/node_modules/bootstrap/js/carousel.js","../../js/collapse.js":"/Users/cescwang/program/sil/SIL-frontend/node_modules/bootstrap/js/collapse.js","../../js/dropdown.js":"/Users/cescwang/program/sil/SIL-frontend/node_modules/bootstrap/js/dropdown.js","../../js/modal.js":"/Users/cescwang/program/sil/SIL-frontend/node_modules/bootstrap/js/modal.js","../../js/popover.js":"/Users/cescwang/program/sil/SIL-frontend/node_modules/bootstrap/js/popover.js","../../js/scrollspy.js":"/Users/cescwang/program/sil/SIL-frontend/node_modules/bootstrap/js/scrollspy.js","../../js/tab.js":"/Users/cescwang/program/sil/SIL-frontend/node_modules/bootstrap/js/tab.js","../../js/tooltip.js":"/Users/cescwang/program/sil/SIL-frontend/node_modules/bootstrap/js/tooltip.js","../../js/transition.js":"/Users/cescwang/program/sil/SIL-frontend/node_modules/bootstrap/js/transition.js"}],"/Users/cescwang/program/sil/SIL-frontend/node_modules/bootstrap/js/affix.js":[function(require,module,exports){
/* ========================================================================
 * Bootstrap: affix.js v3.3.7
 * http://getbootstrap.com/javascript/#affix
 * ========================================================================
 * Copyright 2011-2016 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 * ======================================================================== */


+function ($) {
  'use strict';

  // AFFIX CLASS DEFINITION
  // ======================

  var Affix = function (element, options) {
    this.options = $.extend({}, Affix.DEFAULTS, options)

    this.$target = $(this.options.target)
      .on('scroll.bs.affix.data-api', $.proxy(this.checkPosition, this))
      .on('click.bs.affix.data-api',  $.proxy(this.checkPositionWithEventLoop, this))

    this.$element     = $(element)
    this.affixed      = null
    this.unpin        = null
    this.pinnedOffset = null

    this.checkPosition()
  }

  Affix.VERSION  = '3.3.7'

  Affix.RESET    = 'affix affix-top affix-bottom'

  Affix.DEFAULTS = {
    offset: 0,
    target: window
  }

  Affix.prototype.getState = function (scrollHeight, height, offsetTop, offsetBottom) {
    var scrollTop    = this.$target.scrollTop()
    var position     = this.$element.offset()
    var targetHeight = this.$target.height()

    if (offsetTop != null && this.affixed == 'top') return scrollTop < offsetTop ? 'top' : false

    if (this.affixed == 'bottom') {
      if (offsetTop != null) return (scrollTop + this.unpin <= position.top) ? false : 'bottom'
      return (scrollTop + targetHeight <= scrollHeight - offsetBottom) ? false : 'bottom'
    }

    var initializing   = this.affixed == null
    var colliderTop    = initializing ? scrollTop : position.top
    var colliderHeight = initializing ? targetHeight : height

    if (offsetTop != null && scrollTop <= offsetTop) return 'top'
    if (offsetBottom != null && (colliderTop + colliderHeight >= scrollHeight - offsetBottom)) return 'bottom'

    return false
  }

  Affix.prototype.getPinnedOffset = function () {
    if (this.pinnedOffset) return this.pinnedOffset
    this.$element.removeClass(Affix.RESET).addClass('affix')
    var scrollTop = this.$target.scrollTop()
    var position  = this.$element.offset()
    return (this.pinnedOffset = position.top - scrollTop)
  }

  Affix.prototype.checkPositionWithEventLoop = function () {
    setTimeout($.proxy(this.checkPosition, this), 1)
  }

  Affix.prototype.checkPosition = function () {
    if (!this.$element.is(':visible')) return

    var height       = this.$element.height()
    var offset       = this.options.offset
    var offsetTop    = offset.top
    var offsetBottom = offset.bottom
    var scrollHeight = Math.max($(document).height(), $(document.body).height())

    if (typeof offset != 'object')         offsetBottom = offsetTop = offset
    if (typeof offsetTop == 'function')    offsetTop    = offset.top(this.$element)
    if (typeof offsetBottom == 'function') offsetBottom = offset.bottom(this.$element)

    var affix = this.getState(scrollHeight, height, offsetTop, offsetBottom)

    if (this.affixed != affix) {
      if (this.unpin != null) this.$element.css('top', '')

      var affixType = 'affix' + (affix ? '-' + affix : '')
      var e         = $.Event(affixType + '.bs.affix')

      this.$element.trigger(e)

      if (e.isDefaultPrevented()) return

      this.affixed = affix
      this.unpin = affix == 'bottom' ? this.getPinnedOffset() : null

      this.$element
        .removeClass(Affix.RESET)
        .addClass(affixType)
        .trigger(affixType.replace('affix', 'affixed') + '.bs.affix')
    }

    if (affix == 'bottom') {
      this.$element.offset({
        top: scrollHeight - height - offsetBottom
      })
    }
  }


  // AFFIX PLUGIN DEFINITION
  // =======================

  function Plugin(option) {
    return this.each(function () {
      var $this   = $(this)
      var data    = $this.data('bs.affix')
      var options = typeof option == 'object' && option

      if (!data) $this.data('bs.affix', (data = new Affix(this, options)))
      if (typeof option == 'string') data[option]()
    })
  }

  var old = $.fn.affix

  $.fn.affix             = Plugin
  $.fn.affix.Constructor = Affix


  // AFFIX NO CONFLICT
  // =================

  $.fn.affix.noConflict = function () {
    $.fn.affix = old
    return this
  }


  // AFFIX DATA-API
  // ==============

  $(window).on('load', function () {
    $('[data-spy="affix"]').each(function () {
      var $spy = $(this)
      var data = $spy.data()

      data.offset = data.offset || {}

      if (data.offsetBottom != null) data.offset.bottom = data.offsetBottom
      if (data.offsetTop    != null) data.offset.top    = data.offsetTop

      Plugin.call($spy, data)
    })
  })

}(jQuery);

},{}],"/Users/cescwang/program/sil/SIL-frontend/node_modules/bootstrap/js/alert.js":[function(require,module,exports){
/* ========================================================================
 * Bootstrap: alert.js v3.3.7
 * http://getbootstrap.com/javascript/#alerts
 * ========================================================================
 * Copyright 2011-2016 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 * ======================================================================== */


+function ($) {
  'use strict';

  // ALERT CLASS DEFINITION
  // ======================

  var dismiss = '[data-dismiss="alert"]'
  var Alert   = function (el) {
    $(el).on('click', dismiss, this.close)
  }

  Alert.VERSION = '3.3.7'

  Alert.TRANSITION_DURATION = 150

  Alert.prototype.close = function (e) {
    var $this    = $(this)
    var selector = $this.attr('data-target')

    if (!selector) {
      selector = $this.attr('href')
      selector = selector && selector.replace(/.*(?=#[^\s]*$)/, '') // strip for ie7
    }

    var $parent = $(selector === '#' ? [] : selector)

    if (e) e.preventDefault()

    if (!$parent.length) {
      $parent = $this.closest('.alert')
    }

    $parent.trigger(e = $.Event('close.bs.alert'))

    if (e.isDefaultPrevented()) return

    $parent.removeClass('in')

    function removeElement() {
      // detach from parent, fire event then clean up data
      $parent.detach().trigger('closed.bs.alert').remove()
    }

    $.support.transition && $parent.hasClass('fade') ?
      $parent
        .one('bsTransitionEnd', removeElement)
        .emulateTransitionEnd(Alert.TRANSITION_DURATION) :
      removeElement()
  }


  // ALERT PLUGIN DEFINITION
  // =======================

  function Plugin(option) {
    return this.each(function () {
      var $this = $(this)
      var data  = $this.data('bs.alert')

      if (!data) $this.data('bs.alert', (data = new Alert(this)))
      if (typeof option == 'string') data[option].call($this)
    })
  }

  var old = $.fn.alert

  $.fn.alert             = Plugin
  $.fn.alert.Constructor = Alert


  // ALERT NO CONFLICT
  // =================

  $.fn.alert.noConflict = function () {
    $.fn.alert = old
    return this
  }


  // ALERT DATA-API
  // ==============

  $(document).on('click.bs.alert.data-api', dismiss, Alert.prototype.close)

}(jQuery);

},{}],"/Users/cescwang/program/sil/SIL-frontend/node_modules/bootstrap/js/button.js":[function(require,module,exports){
/* ========================================================================
 * Bootstrap: button.js v3.3.7
 * http://getbootstrap.com/javascript/#buttons
 * ========================================================================
 * Copyright 2011-2016 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 * ======================================================================== */


+function ($) {
  'use strict';

  // BUTTON PUBLIC CLASS DEFINITION
  // ==============================

  var Button = function (element, options) {
    this.$element  = $(element)
    this.options   = $.extend({}, Button.DEFAULTS, options)
    this.isLoading = false
  }

  Button.VERSION  = '3.3.7'

  Button.DEFAULTS = {
    loadingText: 'loading...'
  }

  Button.prototype.setState = function (state) {
    var d    = 'disabled'
    var $el  = this.$element
    var val  = $el.is('input') ? 'val' : 'html'
    var data = $el.data()

    state += 'Text'

    if (data.resetText == null) $el.data('resetText', $el[val]())

    // push to event loop to allow forms to submit
    setTimeout($.proxy(function () {
      $el[val](data[state] == null ? this.options[state] : data[state])

      if (state == 'loadingText') {
        this.isLoading = true
        $el.addClass(d).attr(d, d).prop(d, true)
      } else if (this.isLoading) {
        this.isLoading = false
        $el.removeClass(d).removeAttr(d).prop(d, false)
      }
    }, this), 0)
  }

  Button.prototype.toggle = function () {
    var changed = true
    var $parent = this.$element.closest('[data-toggle="buttons"]')

    if ($parent.length) {
      var $input = this.$element.find('input')
      if ($input.prop('type') == 'radio') {
        if ($input.prop('checked')) changed = false
        $parent.find('.active').removeClass('active')
        this.$element.addClass('active')
      } else if ($input.prop('type') == 'checkbox') {
        if (($input.prop('checked')) !== this.$element.hasClass('active')) changed = false
        this.$element.toggleClass('active')
      }
      $input.prop('checked', this.$element.hasClass('active'))
      if (changed) $input.trigger('change')
    } else {
      this.$element.attr('aria-pressed', !this.$element.hasClass('active'))
      this.$element.toggleClass('active')
    }
  }


  // BUTTON PLUGIN DEFINITION
  // ========================

  function Plugin(option) {
    return this.each(function () {
      var $this   = $(this)
      var data    = $this.data('bs.button')
      var options = typeof option == 'object' && option

      if (!data) $this.data('bs.button', (data = new Button(this, options)))

      if (option == 'toggle') data.toggle()
      else if (option) data.setState(option)
    })
  }

  var old = $.fn.button

  $.fn.button             = Plugin
  $.fn.button.Constructor = Button


  // BUTTON NO CONFLICT
  // ==================

  $.fn.button.noConflict = function () {
    $.fn.button = old
    return this
  }


  // BUTTON DATA-API
  // ===============

  $(document)
    .on('click.bs.button.data-api', '[data-toggle^="button"]', function (e) {
      var $btn = $(e.target).closest('.btn')
      Plugin.call($btn, 'toggle')
      if (!($(e.target).is('input[type="radio"], input[type="checkbox"]'))) {
        // Prevent double click on radios, and the double selections (so cancellation) on checkboxes
        e.preventDefault()
        // The target component still receive the focus
        if ($btn.is('input,button')) $btn.trigger('focus')
        else $btn.find('input:visible,button:visible').first().trigger('focus')
      }
    })
    .on('focus.bs.button.data-api blur.bs.button.data-api', '[data-toggle^="button"]', function (e) {
      $(e.target).closest('.btn').toggleClass('focus', /^focus(in)?$/.test(e.type))
    })

}(jQuery);

},{}],"/Users/cescwang/program/sil/SIL-frontend/node_modules/bootstrap/js/carousel.js":[function(require,module,exports){
/* ========================================================================
 * Bootstrap: carousel.js v3.3.7
 * http://getbootstrap.com/javascript/#carousel
 * ========================================================================
 * Copyright 2011-2016 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 * ======================================================================== */


+function ($) {
  'use strict';

  // CAROUSEL CLASS DEFINITION
  // =========================

  var Carousel = function (element, options) {
    this.$element    = $(element)
    this.$indicators = this.$element.find('.carousel-indicators')
    this.options     = options
    this.paused      = null
    this.sliding     = null
    this.interval    = null
    this.$active     = null
    this.$items      = null

    this.options.keyboard && this.$element.on('keydown.bs.carousel', $.proxy(this.keydown, this))

    this.options.pause == 'hover' && !('ontouchstart' in document.documentElement) && this.$element
      .on('mouseenter.bs.carousel', $.proxy(this.pause, this))
      .on('mouseleave.bs.carousel', $.proxy(this.cycle, this))
  }

  Carousel.VERSION  = '3.3.7'

  Carousel.TRANSITION_DURATION = 600

  Carousel.DEFAULTS = {
    interval: 5000,
    pause: 'hover',
    wrap: true,
    keyboard: true
  }

  Carousel.prototype.keydown = function (e) {
    if (/input|textarea/i.test(e.target.tagName)) return
    switch (e.which) {
      case 37: this.prev(); break
      case 39: this.next(); break
      default: return
    }

    e.preventDefault()
  }

  Carousel.prototype.cycle = function (e) {
    e || (this.paused = false)

    this.interval && clearInterval(this.interval)

    this.options.interval
      && !this.paused
      && (this.interval = setInterval($.proxy(this.next, this), this.options.interval))

    return this
  }

  Carousel.prototype.getItemIndex = function (item) {
    this.$items = item.parent().children('.item')
    return this.$items.index(item || this.$active)
  }

  Carousel.prototype.getItemForDirection = function (direction, active) {
    var activeIndex = this.getItemIndex(active)
    var willWrap = (direction == 'prev' && activeIndex === 0)
                || (direction == 'next' && activeIndex == (this.$items.length - 1))
    if (willWrap && !this.options.wrap) return active
    var delta = direction == 'prev' ? -1 : 1
    var itemIndex = (activeIndex + delta) % this.$items.length
    return this.$items.eq(itemIndex)
  }

  Carousel.prototype.to = function (pos) {
    var that        = this
    var activeIndex = this.getItemIndex(this.$active = this.$element.find('.item.active'))

    if (pos > (this.$items.length - 1) || pos < 0) return

    if (this.sliding)       return this.$element.one('slid.bs.carousel', function () { that.to(pos) }) // yes, "slid"
    if (activeIndex == pos) return this.pause().cycle()

    return this.slide(pos > activeIndex ? 'next' : 'prev', this.$items.eq(pos))
  }

  Carousel.prototype.pause = function (e) {
    e || (this.paused = true)

    if (this.$element.find('.next, .prev').length && $.support.transition) {
      this.$element.trigger($.support.transition.end)
      this.cycle(true)
    }

    this.interval = clearInterval(this.interval)

    return this
  }

  Carousel.prototype.next = function () {
    if (this.sliding) return
    return this.slide('next')
  }

  Carousel.prototype.prev = function () {
    if (this.sliding) return
    return this.slide('prev')
  }

  Carousel.prototype.slide = function (type, next) {
    var $active   = this.$element.find('.item.active')
    var $next     = next || this.getItemForDirection(type, $active)
    var isCycling = this.interval
    var direction = type == 'next' ? 'left' : 'right'
    var that      = this

    if ($next.hasClass('active')) return (this.sliding = false)

    var relatedTarget = $next[0]
    var slideEvent = $.Event('slide.bs.carousel', {
      relatedTarget: relatedTarget,
      direction: direction
    })
    this.$element.trigger(slideEvent)
    if (slideEvent.isDefaultPrevented()) return

    this.sliding = true

    isCycling && this.pause()

    if (this.$indicators.length) {
      this.$indicators.find('.active').removeClass('active')
      var $nextIndicator = $(this.$indicators.children()[this.getItemIndex($next)])
      $nextIndicator && $nextIndicator.addClass('active')
    }

    var slidEvent = $.Event('slid.bs.carousel', { relatedTarget: relatedTarget, direction: direction }) // yes, "slid"
    if ($.support.transition && this.$element.hasClass('slide')) {
      $next.addClass(type)
      $next[0].offsetWidth // force reflow
      $active.addClass(direction)
      $next.addClass(direction)
      $active
        .one('bsTransitionEnd', function () {
          $next.removeClass([type, direction].join(' ')).addClass('active')
          $active.removeClass(['active', direction].join(' '))
          that.sliding = false
          setTimeout(function () {
            that.$element.trigger(slidEvent)
          }, 0)
        })
        .emulateTransitionEnd(Carousel.TRANSITION_DURATION)
    } else {
      $active.removeClass('active')
      $next.addClass('active')
      this.sliding = false
      this.$element.trigger(slidEvent)
    }

    isCycling && this.cycle()

    return this
  }


  // CAROUSEL PLUGIN DEFINITION
  // ==========================

  function Plugin(option) {
    return this.each(function () {
      var $this   = $(this)
      var data    = $this.data('bs.carousel')
      var options = $.extend({}, Carousel.DEFAULTS, $this.data(), typeof option == 'object' && option)
      var action  = typeof option == 'string' ? option : options.slide

      if (!data) $this.data('bs.carousel', (data = new Carousel(this, options)))
      if (typeof option == 'number') data.to(option)
      else if (action) data[action]()
      else if (options.interval) data.pause().cycle()
    })
  }

  var old = $.fn.carousel

  $.fn.carousel             = Plugin
  $.fn.carousel.Constructor = Carousel


  // CAROUSEL NO CONFLICT
  // ====================

  $.fn.carousel.noConflict = function () {
    $.fn.carousel = old
    return this
  }


  // CAROUSEL DATA-API
  // =================

  var clickHandler = function (e) {
    var href
    var $this   = $(this)
    var $target = $($this.attr('data-target') || (href = $this.attr('href')) && href.replace(/.*(?=#[^\s]+$)/, '')) // strip for ie7
    if (!$target.hasClass('carousel')) return
    var options = $.extend({}, $target.data(), $this.data())
    var slideIndex = $this.attr('data-slide-to')
    if (slideIndex) options.interval = false

    Plugin.call($target, options)

    if (slideIndex) {
      $target.data('bs.carousel').to(slideIndex)
    }

    e.preventDefault()
  }

  $(document)
    .on('click.bs.carousel.data-api', '[data-slide]', clickHandler)
    .on('click.bs.carousel.data-api', '[data-slide-to]', clickHandler)

  $(window).on('load', function () {
    $('[data-ride="carousel"]').each(function () {
      var $carousel = $(this)
      Plugin.call($carousel, $carousel.data())
    })
  })

}(jQuery);

},{}],"/Users/cescwang/program/sil/SIL-frontend/node_modules/bootstrap/js/collapse.js":[function(require,module,exports){
/* ========================================================================
 * Bootstrap: collapse.js v3.3.7
 * http://getbootstrap.com/javascript/#collapse
 * ========================================================================
 * Copyright 2011-2016 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 * ======================================================================== */

/* jshint latedef: false */

+function ($) {
  'use strict';

  // COLLAPSE PUBLIC CLASS DEFINITION
  // ================================

  var Collapse = function (element, options) {
    this.$element      = $(element)
    this.options       = $.extend({}, Collapse.DEFAULTS, options)
    this.$trigger      = $('[data-toggle="collapse"][href="#' + element.id + '"],' +
                           '[data-toggle="collapse"][data-target="#' + element.id + '"]')
    this.transitioning = null

    if (this.options.parent) {
      this.$parent = this.getParent()
    } else {
      this.addAriaAndCollapsedClass(this.$element, this.$trigger)
    }

    if (this.options.toggle) this.toggle()
  }

  Collapse.VERSION  = '3.3.7'

  Collapse.TRANSITION_DURATION = 350

  Collapse.DEFAULTS = {
    toggle: true
  }

  Collapse.prototype.dimension = function () {
    var hasWidth = this.$element.hasClass('width')
    return hasWidth ? 'width' : 'height'
  }

  Collapse.prototype.show = function () {
    if (this.transitioning || this.$element.hasClass('in')) return

    var activesData
    var actives = this.$parent && this.$parent.children('.panel').children('.in, .collapsing')

    if (actives && actives.length) {
      activesData = actives.data('bs.collapse')
      if (activesData && activesData.transitioning) return
    }

    var startEvent = $.Event('show.bs.collapse')
    this.$element.trigger(startEvent)
    if (startEvent.isDefaultPrevented()) return

    if (actives && actives.length) {
      Plugin.call(actives, 'hide')
      activesData || actives.data('bs.collapse', null)
    }

    var dimension = this.dimension()

    this.$element
      .removeClass('collapse')
      .addClass('collapsing')[dimension](0)
      .attr('aria-expanded', true)

    this.$trigger
      .removeClass('collapsed')
      .attr('aria-expanded', true)

    this.transitioning = 1

    var complete = function () {
      this.$element
        .removeClass('collapsing')
        .addClass('collapse in')[dimension]('')
      this.transitioning = 0
      this.$element
        .trigger('shown.bs.collapse')
    }

    if (!$.support.transition) return complete.call(this)

    var scrollSize = $.camelCase(['scroll', dimension].join('-'))

    this.$element
      .one('bsTransitionEnd', $.proxy(complete, this))
      .emulateTransitionEnd(Collapse.TRANSITION_DURATION)[dimension](this.$element[0][scrollSize])
  }

  Collapse.prototype.hide = function () {
    if (this.transitioning || !this.$element.hasClass('in')) return

    var startEvent = $.Event('hide.bs.collapse')
    this.$element.trigger(startEvent)
    if (startEvent.isDefaultPrevented()) return

    var dimension = this.dimension()

    this.$element[dimension](this.$element[dimension]())[0].offsetHeight

    this.$element
      .addClass('collapsing')
      .removeClass('collapse in')
      .attr('aria-expanded', false)

    this.$trigger
      .addClass('collapsed')
      .attr('aria-expanded', false)

    this.transitioning = 1

    var complete = function () {
      this.transitioning = 0
      this.$element
        .removeClass('collapsing')
        .addClass('collapse')
        .trigger('hidden.bs.collapse')
    }

    if (!$.support.transition) return complete.call(this)

    this.$element
      [dimension](0)
      .one('bsTransitionEnd', $.proxy(complete, this))
      .emulateTransitionEnd(Collapse.TRANSITION_DURATION)
  }

  Collapse.prototype.toggle = function () {
    this[this.$element.hasClass('in') ? 'hide' : 'show']()
  }

  Collapse.prototype.getParent = function () {
    return $(this.options.parent)
      .find('[data-toggle="collapse"][data-parent="' + this.options.parent + '"]')
      .each($.proxy(function (i, element) {
        var $element = $(element)
        this.addAriaAndCollapsedClass(getTargetFromTrigger($element), $element)
      }, this))
      .end()
  }

  Collapse.prototype.addAriaAndCollapsedClass = function ($element, $trigger) {
    var isOpen = $element.hasClass('in')

    $element.attr('aria-expanded', isOpen)
    $trigger
      .toggleClass('collapsed', !isOpen)
      .attr('aria-expanded', isOpen)
  }

  function getTargetFromTrigger($trigger) {
    var href
    var target = $trigger.attr('data-target')
      || (href = $trigger.attr('href')) && href.replace(/.*(?=#[^\s]+$)/, '') // strip for ie7

    return $(target)
  }


  // COLLAPSE PLUGIN DEFINITION
  // ==========================

  function Plugin(option) {
    return this.each(function () {
      var $this   = $(this)
      var data    = $this.data('bs.collapse')
      var options = $.extend({}, Collapse.DEFAULTS, $this.data(), typeof option == 'object' && option)

      if (!data && options.toggle && /show|hide/.test(option)) options.toggle = false
      if (!data) $this.data('bs.collapse', (data = new Collapse(this, options)))
      if (typeof option == 'string') data[option]()
    })
  }

  var old = $.fn.collapse

  $.fn.collapse             = Plugin
  $.fn.collapse.Constructor = Collapse


  // COLLAPSE NO CONFLICT
  // ====================

  $.fn.collapse.noConflict = function () {
    $.fn.collapse = old
    return this
  }


  // COLLAPSE DATA-API
  // =================

  $(document).on('click.bs.collapse.data-api', '[data-toggle="collapse"]', function (e) {
    var $this   = $(this)

    if (!$this.attr('data-target')) e.preventDefault()

    var $target = getTargetFromTrigger($this)
    var data    = $target.data('bs.collapse')
    var option  = data ? 'toggle' : $this.data()

    Plugin.call($target, option)
  })

}(jQuery);

},{}],"/Users/cescwang/program/sil/SIL-frontend/node_modules/bootstrap/js/dropdown.js":[function(require,module,exports){
/* ========================================================================
 * Bootstrap: dropdown.js v3.3.7
 * http://getbootstrap.com/javascript/#dropdowns
 * ========================================================================
 * Copyright 2011-2016 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 * ======================================================================== */


+function ($) {
  'use strict';

  // DROPDOWN CLASS DEFINITION
  // =========================

  var backdrop = '.dropdown-backdrop'
  var toggle   = '[data-toggle="dropdown"]'
  var Dropdown = function (element) {
    $(element).on('click.bs.dropdown', this.toggle)
  }

  Dropdown.VERSION = '3.3.7'

  function getParent($this) {
    var selector = $this.attr('data-target')

    if (!selector) {
      selector = $this.attr('href')
      selector = selector && /#[A-Za-z]/.test(selector) && selector.replace(/.*(?=#[^\s]*$)/, '') // strip for ie7
    }

    var $parent = selector && $(selector)

    return $parent && $parent.length ? $parent : $this.parent()
  }

  function clearMenus(e) {
    if (e && e.which === 3) return
    $(backdrop).remove()
    $(toggle).each(function () {
      var $this         = $(this)
      var $parent       = getParent($this)
      var relatedTarget = { relatedTarget: this }

      if (!$parent.hasClass('open')) return

      if (e && e.type == 'click' && /input|textarea/i.test(e.target.tagName) && $.contains($parent[0], e.target)) return

      $parent.trigger(e = $.Event('hide.bs.dropdown', relatedTarget))

      if (e.isDefaultPrevented()) return

      $this.attr('aria-expanded', 'false')
      $parent.removeClass('open').trigger($.Event('hidden.bs.dropdown', relatedTarget))
    })
  }

  Dropdown.prototype.toggle = function (e) {
    var $this = $(this)

    if ($this.is('.disabled, :disabled')) return

    var $parent  = getParent($this)
    var isActive = $parent.hasClass('open')

    clearMenus()

    if (!isActive) {
      if ('ontouchstart' in document.documentElement && !$parent.closest('.navbar-nav').length) {
        // if mobile we use a backdrop because click events don't delegate
        $(document.createElement('div'))
          .addClass('dropdown-backdrop')
          .insertAfter($(this))
          .on('click', clearMenus)
      }

      var relatedTarget = { relatedTarget: this }
      $parent.trigger(e = $.Event('show.bs.dropdown', relatedTarget))

      if (e.isDefaultPrevented()) return

      $this
        .trigger('focus')
        .attr('aria-expanded', 'true')

      $parent
        .toggleClass('open')
        .trigger($.Event('shown.bs.dropdown', relatedTarget))
    }

    return false
  }

  Dropdown.prototype.keydown = function (e) {
    if (!/(38|40|27|32)/.test(e.which) || /input|textarea/i.test(e.target.tagName)) return

    var $this = $(this)

    e.preventDefault()
    e.stopPropagation()

    if ($this.is('.disabled, :disabled')) return

    var $parent  = getParent($this)
    var isActive = $parent.hasClass('open')

    if (!isActive && e.which != 27 || isActive && e.which == 27) {
      if (e.which == 27) $parent.find(toggle).trigger('focus')
      return $this.trigger('click')
    }

    var desc = ' li:not(.disabled):visible a'
    var $items = $parent.find('.dropdown-menu' + desc)

    if (!$items.length) return

    var index = $items.index(e.target)

    if (e.which == 38 && index > 0)                 index--         // up
    if (e.which == 40 && index < $items.length - 1) index++         // down
    if (!~index)                                    index = 0

    $items.eq(index).trigger('focus')
  }


  // DROPDOWN PLUGIN DEFINITION
  // ==========================

  function Plugin(option) {
    return this.each(function () {
      var $this = $(this)
      var data  = $this.data('bs.dropdown')

      if (!data) $this.data('bs.dropdown', (data = new Dropdown(this)))
      if (typeof option == 'string') data[option].call($this)
    })
  }

  var old = $.fn.dropdown

  $.fn.dropdown             = Plugin
  $.fn.dropdown.Constructor = Dropdown


  // DROPDOWN NO CONFLICT
  // ====================

  $.fn.dropdown.noConflict = function () {
    $.fn.dropdown = old
    return this
  }


  // APPLY TO STANDARD DROPDOWN ELEMENTS
  // ===================================

  $(document)
    .on('click.bs.dropdown.data-api', clearMenus)
    .on('click.bs.dropdown.data-api', '.dropdown form', function (e) { e.stopPropagation() })
    .on('click.bs.dropdown.data-api', toggle, Dropdown.prototype.toggle)
    .on('keydown.bs.dropdown.data-api', toggle, Dropdown.prototype.keydown)
    .on('keydown.bs.dropdown.data-api', '.dropdown-menu', Dropdown.prototype.keydown)

}(jQuery);

},{}],"/Users/cescwang/program/sil/SIL-frontend/node_modules/bootstrap/js/modal.js":[function(require,module,exports){
/* ========================================================================
 * Bootstrap: modal.js v3.3.7
 * http://getbootstrap.com/javascript/#modals
 * ========================================================================
 * Copyright 2011-2016 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 * ======================================================================== */


+function ($) {
  'use strict';

  // MODAL CLASS DEFINITION
  // ======================

  var Modal = function (element, options) {
    this.options             = options
    this.$body               = $(document.body)
    this.$element            = $(element)
    this.$dialog             = this.$element.find('.modal-dialog')
    this.$backdrop           = null
    this.isShown             = null
    this.originalBodyPad     = null
    this.scrollbarWidth      = 0
    this.ignoreBackdropClick = false

    if (this.options.remote) {
      this.$element
        .find('.modal-content')
        .load(this.options.remote, $.proxy(function () {
          this.$element.trigger('loaded.bs.modal')
        }, this))
    }
  }

  Modal.VERSION  = '3.3.7'

  Modal.TRANSITION_DURATION = 300
  Modal.BACKDROP_TRANSITION_DURATION = 150

  Modal.DEFAULTS = {
    backdrop: true,
    keyboard: true,
    show: true
  }

  Modal.prototype.toggle = function (_relatedTarget) {
    return this.isShown ? this.hide() : this.show(_relatedTarget)
  }

  Modal.prototype.show = function (_relatedTarget) {
    var that = this
    var e    = $.Event('show.bs.modal', { relatedTarget: _relatedTarget })

    this.$element.trigger(e)

    if (this.isShown || e.isDefaultPrevented()) return

    this.isShown = true

    this.checkScrollbar()
    this.setScrollbar()
    this.$body.addClass('modal-open')

    this.escape()
    this.resize()

    this.$element.on('click.dismiss.bs.modal', '[data-dismiss="modal"]', $.proxy(this.hide, this))

    this.$dialog.on('mousedown.dismiss.bs.modal', function () {
      that.$element.one('mouseup.dismiss.bs.modal', function (e) {
        if ($(e.target).is(that.$element)) that.ignoreBackdropClick = true
      })
    })

    this.backdrop(function () {
      var transition = $.support.transition && that.$element.hasClass('fade')

      if (!that.$element.parent().length) {
        that.$element.appendTo(that.$body) // don't move modals dom position
      }

      that.$element
        .show()
        .scrollTop(0)

      that.adjustDialog()

      if (transition) {
        that.$element[0].offsetWidth // force reflow
      }

      that.$element.addClass('in')

      that.enforceFocus()

      var e = $.Event('shown.bs.modal', { relatedTarget: _relatedTarget })

      transition ?
        that.$dialog // wait for modal to slide in
          .one('bsTransitionEnd', function () {
            that.$element.trigger('focus').trigger(e)
          })
          .emulateTransitionEnd(Modal.TRANSITION_DURATION) :
        that.$element.trigger('focus').trigger(e)
    })
  }

  Modal.prototype.hide = function (e) {
    if (e) e.preventDefault()

    e = $.Event('hide.bs.modal')

    this.$element.trigger(e)

    if (!this.isShown || e.isDefaultPrevented()) return

    this.isShown = false

    this.escape()
    this.resize()

    $(document).off('focusin.bs.modal')

    this.$element
      .removeClass('in')
      .off('click.dismiss.bs.modal')
      .off('mouseup.dismiss.bs.modal')

    this.$dialog.off('mousedown.dismiss.bs.modal')

    $.support.transition && this.$element.hasClass('fade') ?
      this.$element
        .one('bsTransitionEnd', $.proxy(this.hideModal, this))
        .emulateTransitionEnd(Modal.TRANSITION_DURATION) :
      this.hideModal()
  }

  Modal.prototype.enforceFocus = function () {
    $(document)
      .off('focusin.bs.modal') // guard against infinite focus loop
      .on('focusin.bs.modal', $.proxy(function (e) {
        if (document !== e.target &&
            this.$element[0] !== e.target &&
            !this.$element.has(e.target).length) {
          this.$element.trigger('focus')
        }
      }, this))
  }

  Modal.prototype.escape = function () {
    if (this.isShown && this.options.keyboard) {
      this.$element.on('keydown.dismiss.bs.modal', $.proxy(function (e) {
        e.which == 27 && this.hide()
      }, this))
    } else if (!this.isShown) {
      this.$element.off('keydown.dismiss.bs.modal')
    }
  }

  Modal.prototype.resize = function () {
    if (this.isShown) {
      $(window).on('resize.bs.modal', $.proxy(this.handleUpdate, this))
    } else {
      $(window).off('resize.bs.modal')
    }
  }

  Modal.prototype.hideModal = function () {
    var that = this
    this.$element.hide()
    this.backdrop(function () {
      that.$body.removeClass('modal-open')
      that.resetAdjustments()
      that.resetScrollbar()
      that.$element.trigger('hidden.bs.modal')
    })
  }

  Modal.prototype.removeBackdrop = function () {
    this.$backdrop && this.$backdrop.remove()
    this.$backdrop = null
  }

  Modal.prototype.backdrop = function (callback) {
    var that = this
    var animate = this.$element.hasClass('fade') ? 'fade' : ''

    if (this.isShown && this.options.backdrop) {
      var doAnimate = $.support.transition && animate

      this.$backdrop = $(document.createElement('div'))
        .addClass('modal-backdrop ' + animate)
        .appendTo(this.$body)

      this.$element.on('click.dismiss.bs.modal', $.proxy(function (e) {
        if (this.ignoreBackdropClick) {
          this.ignoreBackdropClick = false
          return
        }
        if (e.target !== e.currentTarget) return
        this.options.backdrop == 'static'
          ? this.$element[0].focus()
          : this.hide()
      }, this))

      if (doAnimate) this.$backdrop[0].offsetWidth // force reflow

      this.$backdrop.addClass('in')

      if (!callback) return

      doAnimate ?
        this.$backdrop
          .one('bsTransitionEnd', callback)
          .emulateTransitionEnd(Modal.BACKDROP_TRANSITION_DURATION) :
        callback()

    } else if (!this.isShown && this.$backdrop) {
      this.$backdrop.removeClass('in')

      var callbackRemove = function () {
        that.removeBackdrop()
        callback && callback()
      }
      $.support.transition && this.$element.hasClass('fade') ?
        this.$backdrop
          .one('bsTransitionEnd', callbackRemove)
          .emulateTransitionEnd(Modal.BACKDROP_TRANSITION_DURATION) :
        callbackRemove()

    } else if (callback) {
      callback()
    }
  }

  // these following methods are used to handle overflowing modals

  Modal.prototype.handleUpdate = function () {
    this.adjustDialog()
  }

  Modal.prototype.adjustDialog = function () {
    var modalIsOverflowing = this.$element[0].scrollHeight > document.documentElement.clientHeight

    this.$element.css({
      paddingLeft:  !this.bodyIsOverflowing && modalIsOverflowing ? this.scrollbarWidth : '',
      paddingRight: this.bodyIsOverflowing && !modalIsOverflowing ? this.scrollbarWidth : ''
    })
  }

  Modal.prototype.resetAdjustments = function () {
    this.$element.css({
      paddingLeft: '',
      paddingRight: ''
    })
  }

  Modal.prototype.checkScrollbar = function () {
    var fullWindowWidth = window.innerWidth
    if (!fullWindowWidth) { // workaround for missing window.innerWidth in IE8
      var documentElementRect = document.documentElement.getBoundingClientRect()
      fullWindowWidth = documentElementRect.right - Math.abs(documentElementRect.left)
    }
    this.bodyIsOverflowing = document.body.clientWidth < fullWindowWidth
    this.scrollbarWidth = this.measureScrollbar()
  }

  Modal.prototype.setScrollbar = function () {
    var bodyPad = parseInt((this.$body.css('padding-right') || 0), 10)
    this.originalBodyPad = document.body.style.paddingRight || ''
    if (this.bodyIsOverflowing) this.$body.css('padding-right', bodyPad + this.scrollbarWidth)
  }

  Modal.prototype.resetScrollbar = function () {
    this.$body.css('padding-right', this.originalBodyPad)
  }

  Modal.prototype.measureScrollbar = function () { // thx walsh
    var scrollDiv = document.createElement('div')
    scrollDiv.className = 'modal-scrollbar-measure'
    this.$body.append(scrollDiv)
    var scrollbarWidth = scrollDiv.offsetWidth - scrollDiv.clientWidth
    this.$body[0].removeChild(scrollDiv)
    return scrollbarWidth
  }


  // MODAL PLUGIN DEFINITION
  // =======================

  function Plugin(option, _relatedTarget) {
    return this.each(function () {
      var $this   = $(this)
      var data    = $this.data('bs.modal')
      var options = $.extend({}, Modal.DEFAULTS, $this.data(), typeof option == 'object' && option)

      if (!data) $this.data('bs.modal', (data = new Modal(this, options)))
      if (typeof option == 'string') data[option](_relatedTarget)
      else if (options.show) data.show(_relatedTarget)
    })
  }

  var old = $.fn.modal

  $.fn.modal             = Plugin
  $.fn.modal.Constructor = Modal


  // MODAL NO CONFLICT
  // =================

  $.fn.modal.noConflict = function () {
    $.fn.modal = old
    return this
  }


  // MODAL DATA-API
  // ==============

  $(document).on('click.bs.modal.data-api', '[data-toggle="modal"]', function (e) {
    var $this   = $(this)
    var href    = $this.attr('href')
    var $target = $($this.attr('data-target') || (href && href.replace(/.*(?=#[^\s]+$)/, ''))) // strip for ie7
    var option  = $target.data('bs.modal') ? 'toggle' : $.extend({ remote: !/#/.test(href) && href }, $target.data(), $this.data())

    if ($this.is('a')) e.preventDefault()

    $target.one('show.bs.modal', function (showEvent) {
      if (showEvent.isDefaultPrevented()) return // only register focus restorer if modal will actually get shown
      $target.one('hidden.bs.modal', function () {
        $this.is(':visible') && $this.trigger('focus')
      })
    })
    Plugin.call($target, option, this)
  })

}(jQuery);

},{}],"/Users/cescwang/program/sil/SIL-frontend/node_modules/bootstrap/js/popover.js":[function(require,module,exports){
/* ========================================================================
 * Bootstrap: popover.js v3.3.7
 * http://getbootstrap.com/javascript/#popovers
 * ========================================================================
 * Copyright 2011-2016 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 * ======================================================================== */


+function ($) {
  'use strict';

  // POPOVER PUBLIC CLASS DEFINITION
  // ===============================

  var Popover = function (element, options) {
    this.init('popover', element, options)
  }

  if (!$.fn.tooltip) throw new Error('Popover requires tooltip.js')

  Popover.VERSION  = '3.3.7'

  Popover.DEFAULTS = $.extend({}, $.fn.tooltip.Constructor.DEFAULTS, {
    placement: 'right',
    trigger: 'click',
    content: '',
    template: '<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'
  })


  // NOTE: POPOVER EXTENDS tooltip.js
  // ================================

  Popover.prototype = $.extend({}, $.fn.tooltip.Constructor.prototype)

  Popover.prototype.constructor = Popover

  Popover.prototype.getDefaults = function () {
    return Popover.DEFAULTS
  }

  Popover.prototype.setContent = function () {
    var $tip    = this.tip()
    var title   = this.getTitle()
    var content = this.getContent()

    $tip.find('.popover-title')[this.options.html ? 'html' : 'text'](title)
    $tip.find('.popover-content').children().detach().end()[ // we use append for html objects to maintain js events
      this.options.html ? (typeof content == 'string' ? 'html' : 'append') : 'text'
    ](content)

    $tip.removeClass('fade top bottom left right in')

    // IE8 doesn't accept hiding via the `:empty` pseudo selector, we have to do
    // this manually by checking the contents.
    if (!$tip.find('.popover-title').html()) $tip.find('.popover-title').hide()
  }

  Popover.prototype.hasContent = function () {
    return this.getTitle() || this.getContent()
  }

  Popover.prototype.getContent = function () {
    var $e = this.$element
    var o  = this.options

    return $e.attr('data-content')
      || (typeof o.content == 'function' ?
            o.content.call($e[0]) :
            o.content)
  }

  Popover.prototype.arrow = function () {
    return (this.$arrow = this.$arrow || this.tip().find('.arrow'))
  }


  // POPOVER PLUGIN DEFINITION
  // =========================

  function Plugin(option) {
    return this.each(function () {
      var $this   = $(this)
      var data    = $this.data('bs.popover')
      var options = typeof option == 'object' && option

      if (!data && /destroy|hide/.test(option)) return
      if (!data) $this.data('bs.popover', (data = new Popover(this, options)))
      if (typeof option == 'string') data[option]()
    })
  }

  var old = $.fn.popover

  $.fn.popover             = Plugin
  $.fn.popover.Constructor = Popover


  // POPOVER NO CONFLICT
  // ===================

  $.fn.popover.noConflict = function () {
    $.fn.popover = old
    return this
  }

}(jQuery);

},{}],"/Users/cescwang/program/sil/SIL-frontend/node_modules/bootstrap/js/scrollspy.js":[function(require,module,exports){
/* ========================================================================
 * Bootstrap: scrollspy.js v3.3.7
 * http://getbootstrap.com/javascript/#scrollspy
 * ========================================================================
 * Copyright 2011-2016 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 * ======================================================================== */


+function ($) {
  'use strict';

  // SCROLLSPY CLASS DEFINITION
  // ==========================

  function ScrollSpy(element, options) {
    this.$body          = $(document.body)
    this.$scrollElement = $(element).is(document.body) ? $(window) : $(element)
    this.options        = $.extend({}, ScrollSpy.DEFAULTS, options)
    this.selector       = (this.options.target || '') + ' .nav li > a'
    this.offsets        = []
    this.targets        = []
    this.activeTarget   = null
    this.scrollHeight   = 0

    this.$scrollElement.on('scroll.bs.scrollspy', $.proxy(this.process, this))
    this.refresh()
    this.process()
  }

  ScrollSpy.VERSION  = '3.3.7'

  ScrollSpy.DEFAULTS = {
    offset: 10
  }

  ScrollSpy.prototype.getScrollHeight = function () {
    return this.$scrollElement[0].scrollHeight || Math.max(this.$body[0].scrollHeight, document.documentElement.scrollHeight)
  }

  ScrollSpy.prototype.refresh = function () {
    var that          = this
    var offsetMethod  = 'offset'
    var offsetBase    = 0

    this.offsets      = []
    this.targets      = []
    this.scrollHeight = this.getScrollHeight()

    if (!$.isWindow(this.$scrollElement[0])) {
      offsetMethod = 'position'
      offsetBase   = this.$scrollElement.scrollTop()
    }

    this.$body
      .find(this.selector)
      .map(function () {
        var $el   = $(this)
        var href  = $el.data('target') || $el.attr('href')
        var $href = /^#./.test(href) && $(href)

        return ($href
          && $href.length
          && $href.is(':visible')
          && [[$href[offsetMethod]().top + offsetBase, href]]) || null
      })
      .sort(function (a, b) { return a[0] - b[0] })
      .each(function () {
        that.offsets.push(this[0])
        that.targets.push(this[1])
      })
  }

  ScrollSpy.prototype.process = function () {
    var scrollTop    = this.$scrollElement.scrollTop() + this.options.offset
    var scrollHeight = this.getScrollHeight()
    var maxScroll    = this.options.offset + scrollHeight - this.$scrollElement.height()
    var offsets      = this.offsets
    var targets      = this.targets
    var activeTarget = this.activeTarget
    var i

    if (this.scrollHeight != scrollHeight) {
      this.refresh()
    }

    if (scrollTop >= maxScroll) {
      return activeTarget != (i = targets[targets.length - 1]) && this.activate(i)
    }

    if (activeTarget && scrollTop < offsets[0]) {
      this.activeTarget = null
      return this.clear()
    }

    for (i = offsets.length; i--;) {
      activeTarget != targets[i]
        && scrollTop >= offsets[i]
        && (offsets[i + 1] === undefined || scrollTop < offsets[i + 1])
        && this.activate(targets[i])
    }
  }

  ScrollSpy.prototype.activate = function (target) {
    this.activeTarget = target

    this.clear()

    var selector = this.selector +
      '[data-target="' + target + '"],' +
      this.selector + '[href="' + target + '"]'

    var active = $(selector)
      .parents('li')
      .addClass('active')

    if (active.parent('.dropdown-menu').length) {
      active = active
        .closest('li.dropdown')
        .addClass('active')
    }

    active.trigger('activate.bs.scrollspy')
  }

  ScrollSpy.prototype.clear = function () {
    $(this.selector)
      .parentsUntil(this.options.target, '.active')
      .removeClass('active')
  }


  // SCROLLSPY PLUGIN DEFINITION
  // ===========================

  function Plugin(option) {
    return this.each(function () {
      var $this   = $(this)
      var data    = $this.data('bs.scrollspy')
      var options = typeof option == 'object' && option

      if (!data) $this.data('bs.scrollspy', (data = new ScrollSpy(this, options)))
      if (typeof option == 'string') data[option]()
    })
  }

  var old = $.fn.scrollspy

  $.fn.scrollspy             = Plugin
  $.fn.scrollspy.Constructor = ScrollSpy


  // SCROLLSPY NO CONFLICT
  // =====================

  $.fn.scrollspy.noConflict = function () {
    $.fn.scrollspy = old
    return this
  }


  // SCROLLSPY DATA-API
  // ==================

  $(window).on('load.bs.scrollspy.data-api', function () {
    $('[data-spy="scroll"]').each(function () {
      var $spy = $(this)
      Plugin.call($spy, $spy.data())
    })
  })

}(jQuery);

},{}],"/Users/cescwang/program/sil/SIL-frontend/node_modules/bootstrap/js/tab.js":[function(require,module,exports){
/* ========================================================================
 * Bootstrap: tab.js v3.3.7
 * http://getbootstrap.com/javascript/#tabs
 * ========================================================================
 * Copyright 2011-2016 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 * ======================================================================== */


+function ($) {
  'use strict';

  // TAB CLASS DEFINITION
  // ====================

  var Tab = function (element) {
    // jscs:disable requireDollarBeforejQueryAssignment
    this.element = $(element)
    // jscs:enable requireDollarBeforejQueryAssignment
  }

  Tab.VERSION = '3.3.7'

  Tab.TRANSITION_DURATION = 150

  Tab.prototype.show = function () {
    var $this    = this.element
    var $ul      = $this.closest('ul:not(.dropdown-menu)')
    var selector = $this.data('target')

    if (!selector) {
      selector = $this.attr('href')
      selector = selector && selector.replace(/.*(?=#[^\s]*$)/, '') // strip for ie7
    }

    if ($this.parent('li').hasClass('active')) return

    var $previous = $ul.find('.active:last a')
    var hideEvent = $.Event('hide.bs.tab', {
      relatedTarget: $this[0]
    })
    var showEvent = $.Event('show.bs.tab', {
      relatedTarget: $previous[0]
    })

    $previous.trigger(hideEvent)
    $this.trigger(showEvent)

    if (showEvent.isDefaultPrevented() || hideEvent.isDefaultPrevented()) return

    var $target = $(selector)

    this.activate($this.closest('li'), $ul)
    this.activate($target, $target.parent(), function () {
      $previous.trigger({
        type: 'hidden.bs.tab',
        relatedTarget: $this[0]
      })
      $this.trigger({
        type: 'shown.bs.tab',
        relatedTarget: $previous[0]
      })
    })
  }

  Tab.prototype.activate = function (element, container, callback) {
    var $active    = container.find('> .active')
    var transition = callback
      && $.support.transition
      && ($active.length && $active.hasClass('fade') || !!container.find('> .fade').length)

    function next() {
      $active
        .removeClass('active')
        .find('> .dropdown-menu > .active')
          .removeClass('active')
        .end()
        .find('[data-toggle="tab"]')
          .attr('aria-expanded', false)

      element
        .addClass('active')
        .find('[data-toggle="tab"]')
          .attr('aria-expanded', true)

      if (transition) {
        element[0].offsetWidth // reflow for transition
        element.addClass('in')
      } else {
        element.removeClass('fade')
      }

      if (element.parent('.dropdown-menu').length) {
        element
          .closest('li.dropdown')
            .addClass('active')
          .end()
          .find('[data-toggle="tab"]')
            .attr('aria-expanded', true)
      }

      callback && callback()
    }

    $active.length && transition ?
      $active
        .one('bsTransitionEnd', next)
        .emulateTransitionEnd(Tab.TRANSITION_DURATION) :
      next()

    $active.removeClass('in')
  }


  // TAB PLUGIN DEFINITION
  // =====================

  function Plugin(option) {
    return this.each(function () {
      var $this = $(this)
      var data  = $this.data('bs.tab')

      if (!data) $this.data('bs.tab', (data = new Tab(this)))
      if (typeof option == 'string') data[option]()
    })
  }

  var old = $.fn.tab

  $.fn.tab             = Plugin
  $.fn.tab.Constructor = Tab


  // TAB NO CONFLICT
  // ===============

  $.fn.tab.noConflict = function () {
    $.fn.tab = old
    return this
  }


  // TAB DATA-API
  // ============

  var clickHandler = function (e) {
    e.preventDefault()
    Plugin.call($(this), 'show')
  }

  $(document)
    .on('click.bs.tab.data-api', '[data-toggle="tab"]', clickHandler)
    .on('click.bs.tab.data-api', '[data-toggle="pill"]', clickHandler)

}(jQuery);

},{}],"/Users/cescwang/program/sil/SIL-frontend/node_modules/bootstrap/js/tooltip.js":[function(require,module,exports){
/* ========================================================================
 * Bootstrap: tooltip.js v3.3.7
 * http://getbootstrap.com/javascript/#tooltip
 * Inspired by the original jQuery.tipsy by Jason Frame
 * ========================================================================
 * Copyright 2011-2016 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 * ======================================================================== */


+function ($) {
  'use strict';

  // TOOLTIP PUBLIC CLASS DEFINITION
  // ===============================

  var Tooltip = function (element, options) {
    this.type       = null
    this.options    = null
    this.enabled    = null
    this.timeout    = null
    this.hoverState = null
    this.$element   = null
    this.inState    = null

    this.init('tooltip', element, options)
  }

  Tooltip.VERSION  = '3.3.7'

  Tooltip.TRANSITION_DURATION = 150

  Tooltip.DEFAULTS = {
    animation: true,
    placement: 'top',
    selector: false,
    template: '<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',
    trigger: 'hover focus',
    title: '',
    delay: 0,
    html: false,
    container: false,
    viewport: {
      selector: 'body',
      padding: 0
    }
  }

  Tooltip.prototype.init = function (type, element, options) {
    this.enabled   = true
    this.type      = type
    this.$element  = $(element)
    this.options   = this.getOptions(options)
    this.$viewport = this.options.viewport && $($.isFunction(this.options.viewport) ? this.options.viewport.call(this, this.$element) : (this.options.viewport.selector || this.options.viewport))
    this.inState   = { click: false, hover: false, focus: false }

    if (this.$element[0] instanceof document.constructor && !this.options.selector) {
      throw new Error('`selector` option must be specified when initializing ' + this.type + ' on the window.document object!')
    }

    var triggers = this.options.trigger.split(' ')

    for (var i = triggers.length; i--;) {
      var trigger = triggers[i]

      if (trigger == 'click') {
        this.$element.on('click.' + this.type, this.options.selector, $.proxy(this.toggle, this))
      } else if (trigger != 'manual') {
        var eventIn  = trigger == 'hover' ? 'mouseenter' : 'focusin'
        var eventOut = trigger == 'hover' ? 'mouseleave' : 'focusout'

        this.$element.on(eventIn  + '.' + this.type, this.options.selector, $.proxy(this.enter, this))
        this.$element.on(eventOut + '.' + this.type, this.options.selector, $.proxy(this.leave, this))
      }
    }

    this.options.selector ?
      (this._options = $.extend({}, this.options, { trigger: 'manual', selector: '' })) :
      this.fixTitle()
  }

  Tooltip.prototype.getDefaults = function () {
    return Tooltip.DEFAULTS
  }

  Tooltip.prototype.getOptions = function (options) {
    options = $.extend({}, this.getDefaults(), this.$element.data(), options)

    if (options.delay && typeof options.delay == 'number') {
      options.delay = {
        show: options.delay,
        hide: options.delay
      }
    }

    return options
  }

  Tooltip.prototype.getDelegateOptions = function () {
    var options  = {}
    var defaults = this.getDefaults()

    this._options && $.each(this._options, function (key, value) {
      if (defaults[key] != value) options[key] = value
    })

    return options
  }

  Tooltip.prototype.enter = function (obj) {
    var self = obj instanceof this.constructor ?
      obj : $(obj.currentTarget).data('bs.' + this.type)

    if (!self) {
      self = new this.constructor(obj.currentTarget, this.getDelegateOptions())
      $(obj.currentTarget).data('bs.' + this.type, self)
    }

    if (obj instanceof $.Event) {
      self.inState[obj.type == 'focusin' ? 'focus' : 'hover'] = true
    }

    if (self.tip().hasClass('in') || self.hoverState == 'in') {
      self.hoverState = 'in'
      return
    }

    clearTimeout(self.timeout)

    self.hoverState = 'in'

    if (!self.options.delay || !self.options.delay.show) return self.show()

    self.timeout = setTimeout(function () {
      if (self.hoverState == 'in') self.show()
    }, self.options.delay.show)
  }

  Tooltip.prototype.isInStateTrue = function () {
    for (var key in this.inState) {
      if (this.inState[key]) return true
    }

    return false
  }

  Tooltip.prototype.leave = function (obj) {
    var self = obj instanceof this.constructor ?
      obj : $(obj.currentTarget).data('bs.' + this.type)

    if (!self) {
      self = new this.constructor(obj.currentTarget, this.getDelegateOptions())
      $(obj.currentTarget).data('bs.' + this.type, self)
    }

    if (obj instanceof $.Event) {
      self.inState[obj.type == 'focusout' ? 'focus' : 'hover'] = false
    }

    if (self.isInStateTrue()) return

    clearTimeout(self.timeout)

    self.hoverState = 'out'

    if (!self.options.delay || !self.options.delay.hide) return self.hide()

    self.timeout = setTimeout(function () {
      if (self.hoverState == 'out') self.hide()
    }, self.options.delay.hide)
  }

  Tooltip.prototype.show = function () {
    var e = $.Event('show.bs.' + this.type)

    if (this.hasContent() && this.enabled) {
      this.$element.trigger(e)

      var inDom = $.contains(this.$element[0].ownerDocument.documentElement, this.$element[0])
      if (e.isDefaultPrevented() || !inDom) return
      var that = this

      var $tip = this.tip()

      var tipId = this.getUID(this.type)

      this.setContent()
      $tip.attr('id', tipId)
      this.$element.attr('aria-describedby', tipId)

      if (this.options.animation) $tip.addClass('fade')

      var placement = typeof this.options.placement == 'function' ?
        this.options.placement.call(this, $tip[0], this.$element[0]) :
        this.options.placement

      var autoToken = /\s?auto?\s?/i
      var autoPlace = autoToken.test(placement)
      if (autoPlace) placement = placement.replace(autoToken, '') || 'top'

      $tip
        .detach()
        .css({ top: 0, left: 0, display: 'block' })
        .addClass(placement)
        .data('bs.' + this.type, this)

      this.options.container ? $tip.appendTo(this.options.container) : $tip.insertAfter(this.$element)
      this.$element.trigger('inserted.bs.' + this.type)

      var pos          = this.getPosition()
      var actualWidth  = $tip[0].offsetWidth
      var actualHeight = $tip[0].offsetHeight

      if (autoPlace) {
        var orgPlacement = placement
        var viewportDim = this.getPosition(this.$viewport)

        placement = placement == 'bottom' && pos.bottom + actualHeight > viewportDim.bottom ? 'top'    :
                    placement == 'top'    && pos.top    - actualHeight < viewportDim.top    ? 'bottom' :
                    placement == 'right'  && pos.right  + actualWidth  > viewportDim.width  ? 'left'   :
                    placement == 'left'   && pos.left   - actualWidth  < viewportDim.left   ? 'right'  :
                    placement

        $tip
          .removeClass(orgPlacement)
          .addClass(placement)
      }

      var calculatedOffset = this.getCalculatedOffset(placement, pos, actualWidth, actualHeight)

      this.applyPlacement(calculatedOffset, placement)

      var complete = function () {
        var prevHoverState = that.hoverState
        that.$element.trigger('shown.bs.' + that.type)
        that.hoverState = null

        if (prevHoverState == 'out') that.leave(that)
      }

      $.support.transition && this.$tip.hasClass('fade') ?
        $tip
          .one('bsTransitionEnd', complete)
          .emulateTransitionEnd(Tooltip.TRANSITION_DURATION) :
        complete()
    }
  }

  Tooltip.prototype.applyPlacement = function (offset, placement) {
    var $tip   = this.tip()
    var width  = $tip[0].offsetWidth
    var height = $tip[0].offsetHeight

    // manually read margins because getBoundingClientRect includes difference
    var marginTop = parseInt($tip.css('margin-top'), 10)
    var marginLeft = parseInt($tip.css('margin-left'), 10)

    // we must check for NaN for ie 8/9
    if (isNaN(marginTop))  marginTop  = 0
    if (isNaN(marginLeft)) marginLeft = 0

    offset.top  += marginTop
    offset.left += marginLeft

    // $.fn.offset doesn't round pixel values
    // so we use setOffset directly with our own function B-0
    $.offset.setOffset($tip[0], $.extend({
      using: function (props) {
        $tip.css({
          top: Math.round(props.top),
          left: Math.round(props.left)
        })
      }
    }, offset), 0)

    $tip.addClass('in')

    // check to see if placing tip in new offset caused the tip to resize itself
    var actualWidth  = $tip[0].offsetWidth
    var actualHeight = $tip[0].offsetHeight

    if (placement == 'top' && actualHeight != height) {
      offset.top = offset.top + height - actualHeight
    }

    var delta = this.getViewportAdjustedDelta(placement, offset, actualWidth, actualHeight)

    if (delta.left) offset.left += delta.left
    else offset.top += delta.top

    var isVertical          = /top|bottom/.test(placement)
    var arrowDelta          = isVertical ? delta.left * 2 - width + actualWidth : delta.top * 2 - height + actualHeight
    var arrowOffsetPosition = isVertical ? 'offsetWidth' : 'offsetHeight'

    $tip.offset(offset)
    this.replaceArrow(arrowDelta, $tip[0][arrowOffsetPosition], isVertical)
  }

  Tooltip.prototype.replaceArrow = function (delta, dimension, isVertical) {
    this.arrow()
      .css(isVertical ? 'left' : 'top', 50 * (1 - delta / dimension) + '%')
      .css(isVertical ? 'top' : 'left', '')
  }

  Tooltip.prototype.setContent = function () {
    var $tip  = this.tip()
    var title = this.getTitle()

    $tip.find('.tooltip-inner')[this.options.html ? 'html' : 'text'](title)
    $tip.removeClass('fade in top bottom left right')
  }

  Tooltip.prototype.hide = function (callback) {
    var that = this
    var $tip = $(this.$tip)
    var e    = $.Event('hide.bs.' + this.type)

    function complete() {
      if (that.hoverState != 'in') $tip.detach()
      if (that.$element) { // TODO: Check whether guarding this code with this `if` is really necessary.
        that.$element
          .removeAttr('aria-describedby')
          .trigger('hidden.bs.' + that.type)
      }
      callback && callback()
    }

    this.$element.trigger(e)

    if (e.isDefaultPrevented()) return

    $tip.removeClass('in')

    $.support.transition && $tip.hasClass('fade') ?
      $tip
        .one('bsTransitionEnd', complete)
        .emulateTransitionEnd(Tooltip.TRANSITION_DURATION) :
      complete()

    this.hoverState = null

    return this
  }

  Tooltip.prototype.fixTitle = function () {
    var $e = this.$element
    if ($e.attr('title') || typeof $e.attr('data-original-title') != 'string') {
      $e.attr('data-original-title', $e.attr('title') || '').attr('title', '')
    }
  }

  Tooltip.prototype.hasContent = function () {
    return this.getTitle()
  }

  Tooltip.prototype.getPosition = function ($element) {
    $element   = $element || this.$element

    var el     = $element[0]
    var isBody = el.tagName == 'BODY'

    var elRect    = el.getBoundingClientRect()
    if (elRect.width == null) {
      // width and height are missing in IE8, so compute them manually; see https://github.com/twbs/bootstrap/issues/14093
      elRect = $.extend({}, elRect, { width: elRect.right - elRect.left, height: elRect.bottom - elRect.top })
    }
    var isSvg = window.SVGElement && el instanceof window.SVGElement
    // Avoid using $.offset() on SVGs since it gives incorrect results in jQuery 3.
    // See https://github.com/twbs/bootstrap/issues/20280
    var elOffset  = isBody ? { top: 0, left: 0 } : (isSvg ? null : $element.offset())
    var scroll    = { scroll: isBody ? document.documentElement.scrollTop || document.body.scrollTop : $element.scrollTop() }
    var outerDims = isBody ? { width: $(window).width(), height: $(window).height() } : null

    return $.extend({}, elRect, scroll, outerDims, elOffset)
  }

  Tooltip.prototype.getCalculatedOffset = function (placement, pos, actualWidth, actualHeight) {
    return placement == 'bottom' ? { top: pos.top + pos.height,   left: pos.left + pos.width / 2 - actualWidth / 2 } :
           placement == 'top'    ? { top: pos.top - actualHeight, left: pos.left + pos.width / 2 - actualWidth / 2 } :
           placement == 'left'   ? { top: pos.top + pos.height / 2 - actualHeight / 2, left: pos.left - actualWidth } :
        /* placement == 'right' */ { top: pos.top + pos.height / 2 - actualHeight / 2, left: pos.left + pos.width }

  }

  Tooltip.prototype.getViewportAdjustedDelta = function (placement, pos, actualWidth, actualHeight) {
    var delta = { top: 0, left: 0 }
    if (!this.$viewport) return delta

    var viewportPadding = this.options.viewport && this.options.viewport.padding || 0
    var viewportDimensions = this.getPosition(this.$viewport)

    if (/right|left/.test(placement)) {
      var topEdgeOffset    = pos.top - viewportPadding - viewportDimensions.scroll
      var bottomEdgeOffset = pos.top + viewportPadding - viewportDimensions.scroll + actualHeight
      if (topEdgeOffset < viewportDimensions.top) { // top overflow
        delta.top = viewportDimensions.top - topEdgeOffset
      } else if (bottomEdgeOffset > viewportDimensions.top + viewportDimensions.height) { // bottom overflow
        delta.top = viewportDimensions.top + viewportDimensions.height - bottomEdgeOffset
      }
    } else {
      var leftEdgeOffset  = pos.left - viewportPadding
      var rightEdgeOffset = pos.left + viewportPadding + actualWidth
      if (leftEdgeOffset < viewportDimensions.left) { // left overflow
        delta.left = viewportDimensions.left - leftEdgeOffset
      } else if (rightEdgeOffset > viewportDimensions.right) { // right overflow
        delta.left = viewportDimensions.left + viewportDimensions.width - rightEdgeOffset
      }
    }

    return delta
  }

  Tooltip.prototype.getTitle = function () {
    var title
    var $e = this.$element
    var o  = this.options

    title = $e.attr('data-original-title')
      || (typeof o.title == 'function' ? o.title.call($e[0]) :  o.title)

    return title
  }

  Tooltip.prototype.getUID = function (prefix) {
    do prefix += ~~(Math.random() * 1000000)
    while (document.getElementById(prefix))
    return prefix
  }

  Tooltip.prototype.tip = function () {
    if (!this.$tip) {
      this.$tip = $(this.options.template)
      if (this.$tip.length != 1) {
        throw new Error(this.type + ' `template` option must consist of exactly 1 top-level element!')
      }
    }
    return this.$tip
  }

  Tooltip.prototype.arrow = function () {
    return (this.$arrow = this.$arrow || this.tip().find('.tooltip-arrow'))
  }

  Tooltip.prototype.enable = function () {
    this.enabled = true
  }

  Tooltip.prototype.disable = function () {
    this.enabled = false
  }

  Tooltip.prototype.toggleEnabled = function () {
    this.enabled = !this.enabled
  }

  Tooltip.prototype.toggle = function (e) {
    var self = this
    if (e) {
      self = $(e.currentTarget).data('bs.' + this.type)
      if (!self) {
        self = new this.constructor(e.currentTarget, this.getDelegateOptions())
        $(e.currentTarget).data('bs.' + this.type, self)
      }
    }

    if (e) {
      self.inState.click = !self.inState.click
      if (self.isInStateTrue()) self.enter(self)
      else self.leave(self)
    } else {
      self.tip().hasClass('in') ? self.leave(self) : self.enter(self)
    }
  }

  Tooltip.prototype.destroy = function () {
    var that = this
    clearTimeout(this.timeout)
    this.hide(function () {
      that.$element.off('.' + that.type).removeData('bs.' + that.type)
      if (that.$tip) {
        that.$tip.detach()
      }
      that.$tip = null
      that.$arrow = null
      that.$viewport = null
      that.$element = null
    })
  }


  // TOOLTIP PLUGIN DEFINITION
  // =========================

  function Plugin(option) {
    return this.each(function () {
      var $this   = $(this)
      var data    = $this.data('bs.tooltip')
      var options = typeof option == 'object' && option

      if (!data && /destroy|hide/.test(option)) return
      if (!data) $this.data('bs.tooltip', (data = new Tooltip(this, options)))
      if (typeof option == 'string') data[option]()
    })
  }

  var old = $.fn.tooltip

  $.fn.tooltip             = Plugin
  $.fn.tooltip.Constructor = Tooltip


  // TOOLTIP NO CONFLICT
  // ===================

  $.fn.tooltip.noConflict = function () {
    $.fn.tooltip = old
    return this
  }

}(jQuery);

},{}],"/Users/cescwang/program/sil/SIL-frontend/node_modules/bootstrap/js/transition.js":[function(require,module,exports){
/* ========================================================================
 * Bootstrap: transition.js v3.3.7
 * http://getbootstrap.com/javascript/#transitions
 * ========================================================================
 * Copyright 2011-2016 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 * ======================================================================== */


+function ($) {
  'use strict';

  // CSS TRANSITION SUPPORT (Shoutout: http://www.modernizr.com/)
  // ============================================================

  function transitionEnd() {
    var el = document.createElement('bootstrap')

    var transEndEventNames = {
      WebkitTransition : 'webkitTransitionEnd',
      MozTransition    : 'transitionend',
      OTransition      : 'oTransitionEnd otransitionend',
      transition       : 'transitionend'
    }

    for (var name in transEndEventNames) {
      if (el.style[name] !== undefined) {
        return { end: transEndEventNames[name] }
      }
    }

    return false // explicit for ie8 (  ._.)
  }

  // http://blog.alexmaccaw.com/css-transitions
  $.fn.emulateTransitionEnd = function (duration) {
    var called = false
    var $el = this
    $(this).one('bsTransitionEnd', function () { called = true })
    var callback = function () { if (!called) $($el).trigger($.support.transition.end) }
    setTimeout(callback, duration)
    return this
  }

  $(function () {
    $.support.transition = transitionEnd()

    if (!$.support.transition) return

    $.event.special.bsTransitionEnd = {
      bindType: $.support.transition.end,
      delegateType: $.support.transition.end,
      handle: function (e) {
        if ($(e.target).is(this)) return e.handleObj.handler.apply(this, arguments)
      }
    }
  })

}(jQuery);

},{}],"/Users/cescwang/program/sil/SIL-frontend/node_modules/checklist-model/checklist-model.js":[function(require,module,exports){
/**
 * Checklist-model
 * AngularJS directive for list of checkboxes
 * https://github.com/vitalets/checklist-model
 * License: MIT http://opensource.org/licenses/MIT
 */

 /* commonjs package manager support (eg componentjs) */
 if (typeof module !== "undefined" && typeof exports !== "undefined" && module.exports === exports){
   module.exports = 'checklist-model';
 }

angular.module('checklist-model', [])
.directive('checklistModel', ['$parse', '$compile', function($parse, $compile) {
  // contains
  function contains(arr, item, comparator) {
    if (angular.isArray(arr)) {
      for (var i = arr.length; i--;) {
        if (comparator(arr[i], item)) {
          return true;
        }
      }
    }
    return false;
  }

  // add
  function add(arr, item, comparator) {
    arr = angular.isArray(arr) ? arr : [];
      if(!contains(arr, item, comparator)) {
          arr.push(item);
      }
    return arr;
  }

  // remove
  function remove(arr, item, comparator) {
    if (angular.isArray(arr)) {
      for (var i = arr.length; i--;) {
        if (comparator(arr[i], item)) {
          arr.splice(i, 1);
          break;
        }
      }
    }
    return arr;
  }

  // http://stackoverflow.com/a/19228302/1458162
  function postLinkFn(scope, elem, attrs) {
     // exclude recursion, but still keep the model
    var checklistModel = attrs.checklistModel;
    attrs.$set("checklistModel", null);
    // compile with `ng-model` pointing to `checked`
    $compile(elem)(scope);
    attrs.$set("checklistModel", checklistModel);

    // getter for original model
    var checklistModelGetter = $parse(checklistModel);
    var checklistChange = $parse(attrs.checklistChange);
    var checklistBeforeChange = $parse(attrs.checklistBeforeChange);
    var ngModelGetter = $parse(attrs.ngModel);



    var comparator = angular.equals;

    if (attrs.hasOwnProperty('checklistComparator')){
      if (attrs.checklistComparator[0] == '.') {
        var comparatorExpression = attrs.checklistComparator.substring(1);
        comparator = function (a, b) {
          return a[comparatorExpression] === b[comparatorExpression];
        };

      } else {
        comparator = $parse(attrs.checklistComparator)(scope.$parent);
      }
    }

    // watch UI checked change
    var unbindModel = scope.$watch(attrs.ngModel, function(newValue, oldValue) {
      if (newValue === oldValue) {
        return;
      }

      if (checklistBeforeChange && (checklistBeforeChange(scope) === false)) {
        ngModelGetter.assign(scope, contains(checklistModelGetter(scope.$parent), getChecklistValue(), comparator));
        return;
      }

      setValueInChecklistModel(getChecklistValue(), newValue);

      if (checklistChange) {
        checklistChange(scope);
      }
    });

    // watches for value change of checklistValue
    var unbindCheckListValue = scope.$watch(getChecklistValue, function(newValue, oldValue) {
      if( newValue != oldValue && angular.isDefined(oldValue) && scope[attrs.ngModel] === true ) {
        var current = checklistModelGetter(scope.$parent);
        checklistModelGetter.assign(scope.$parent, remove(current, oldValue, comparator));
        checklistModelGetter.assign(scope.$parent, add(current, newValue, comparator));
      }
    }, true);

    var unbindDestroy = scope.$on('$destroy', destroy);

    function destroy() {
      unbindModel();
      unbindCheckListValue();
      unbindDestroy();
    }

    function getChecklistValue() {
      return attrs.checklistValue ? $parse(attrs.checklistValue)(scope.$parent) : attrs.value;
    }

    function setValueInChecklistModel(value, checked) {
      var current = checklistModelGetter(scope.$parent);
      if (angular.isFunction(checklistModelGetter.assign)) {
        if (checked === true) {
          checklistModelGetter.assign(scope.$parent, add(current, value, comparator));
        } else {
          checklistModelGetter.assign(scope.$parent, remove(current, value, comparator));
        }
      }

    }

    // declare one function to be used for both $watch functions
    function setChecked(newArr, oldArr) {
      if (checklistBeforeChange && (checklistBeforeChange(scope) === false)) {
        setValueInChecklistModel(getChecklistValue(), ngModelGetter(scope));
        return;
      }
      ngModelGetter.assign(scope, contains(newArr, getChecklistValue(), comparator));
    }

    // watch original model change
    // use the faster $watchCollection method if it's available
    if (angular.isFunction(scope.$parent.$watchCollection)) {
        scope.$parent.$watchCollection(checklistModel, setChecked);
    } else {
        scope.$parent.$watch(checklistModel, setChecked, true);
    }
  }

  return {
    restrict: 'A',
    priority: 1000,
    terminal: true,
    scope: true,
    compile: function(tElement, tAttrs) {

      if (!tAttrs.checklistValue && !tAttrs.value) {
        throw 'You should provide `value` or `checklist-value`.';
      }

      // by default ngModel is 'checked', so we set it if not specified
      if (!tAttrs.ngModel) {
        // local scope var storing individual checkbox model
        tAttrs.$set("ngModel", "checked");
      }

      return postLinkFn;
    }
  };
}]);

},{}],"/Users/cescwang/program/sil/SIL-frontend/node_modules/moment/locale/zh-cn.js":[function(require,module,exports){
//! moment.js locale configuration
//! locale : Chinese (China) [zh-cn]
//! author : suupic : https://github.com/suupic
//! author : Zeno Zeng : https://github.com/zenozeng

;(function (global, factory) {
   typeof exports === 'object' && typeof module !== 'undefined'
       && typeof require === 'function' ? factory(require('../moment')) :
   typeof define === 'function' && define.amd ? define(['../moment'], factory) :
   factory(global.moment)
}(this, (function (moment) { 'use strict';


var zhCn = moment.defineLocale('zh-cn', {
    months : '一月_二月_三月_四月_五月_六月_七月_八月_九月_十月_十一月_十二月'.split('_'),
    monthsShort : '1月_2月_3月_4月_5月_6月_7月_8月_9月_10月_11月_12月'.split('_'),
    weekdays : '星期日_星期一_星期二_星期三_星期四_星期五_星期六'.split('_'),
    weekdaysShort : '周日_周一_周二_周三_周四_周五_周六'.split('_'),
    weekdaysMin : '日_一_二_三_四_五_六'.split('_'),
    longDateFormat : {
        LT : 'Ah点mm分',
        LTS : 'Ah点m分s秒',
        L : 'YYYY-MM-DD',
        LL : 'YYYY年MMMD日',
        LLL : 'YYYY年MMMD日Ah点mm分',
        LLLL : 'YYYY年MMMD日ddddAh点mm分',
        l : 'YYYY-MM-DD',
        ll : 'YYYY年MMMD日',
        lll : 'YYYY年MMMD日Ah点mm分',
        llll : 'YYYY年MMMD日ddddAh点mm分'
    },
    meridiemParse: /凌晨|早上|上午|中午|下午|晚上/,
    meridiemHour: function (hour, meridiem) {
        if (hour === 12) {
            hour = 0;
        }
        if (meridiem === '凌晨' || meridiem === '早上' ||
                meridiem === '上午') {
            return hour;
        } else if (meridiem === '下午' || meridiem === '晚上') {
            return hour + 12;
        } else {
            // '中午'
            return hour >= 11 ? hour : hour + 12;
        }
    },
    meridiem : function (hour, minute, isLower) {
        var hm = hour * 100 + minute;
        if (hm < 600) {
            return '凌晨';
        } else if (hm < 900) {
            return '早上';
        } else if (hm < 1130) {
            return '上午';
        } else if (hm < 1230) {
            return '中午';
        } else if (hm < 1800) {
            return '下午';
        } else {
            return '晚上';
        }
    },
    calendar : {
        sameDay : function () {
            return this.minutes() === 0 ? '[今天]Ah[点整]' : '[今天]LT';
        },
        nextDay : function () {
            return this.minutes() === 0 ? '[明天]Ah[点整]' : '[明天]LT';
        },
        lastDay : function () {
            return this.minutes() === 0 ? '[昨天]Ah[点整]' : '[昨天]LT';
        },
        nextWeek : function () {
            var startOfWeek, prefix;
            startOfWeek = moment().startOf('week');
            prefix = this.diff(startOfWeek, 'days') >= 7 ? '[下]' : '[本]';
            return this.minutes() === 0 ? prefix + 'dddAh点整' : prefix + 'dddAh点mm';
        },
        lastWeek : function () {
            var startOfWeek, prefix;
            startOfWeek = moment().startOf('week');
            prefix = this.unix() < startOfWeek.unix()  ? '[上]' : '[本]';
            return this.minutes() === 0 ? prefix + 'dddAh点整' : prefix + 'dddAh点mm';
        },
        sameElse : 'LL'
    },
    ordinalParse: /\d{1,2}(日|月|周)/,
    ordinal : function (number, period) {
        switch (period) {
            case 'd':
            case 'D':
            case 'DDD':
                return number + '日';
            case 'M':
                return number + '月';
            case 'w':
            case 'W':
                return number + '周';
            default:
                return number;
        }
    },
    relativeTime : {
        future : '%s内',
        past : '%s前',
        s : '几秒',
        m : '1 分钟',
        mm : '%d 分钟',
        h : '1 小时',
        hh : '%d 小时',
        d : '1 天',
        dd : '%d 天',
        M : '1 个月',
        MM : '%d 个月',
        y : '1 年',
        yy : '%d 年'
    },
    week : {
        // GB/T 7408-1994《数据元和交换格式·信息交换·日期和时间表示法》与ISO 8601:1988等效
        dow : 1, // Monday is the first day of the week.
        doy : 4  // The week that contains Jan 4th is the first week of the year.
    }
});

return zhCn;

})));

},{"../moment":"/Users/cescwang/program/sil/SIL-frontend/node_modules/moment/moment.js"}],"/Users/cescwang/program/sil/SIL-frontend/node_modules/moment/moment.js":[function(require,module,exports){
//! moment.js
//! version : 2.17.1
//! authors : Tim Wood, Iskren Chernev, Moment.js contributors
//! license : MIT
//! momentjs.com

;(function (global, factory) {
    typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() :
    typeof define === 'function' && define.amd ? define(factory) :
    global.moment = factory()
}(this, (function () { 'use strict';

var hookCallback;

function hooks () {
    return hookCallback.apply(null, arguments);
}

// This is done to register the method called with moment()
// without creating circular dependencies.
function setHookCallback (callback) {
    hookCallback = callback;
}

function isArray(input) {
    return input instanceof Array || Object.prototype.toString.call(input) === '[object Array]';
}

function isObject(input) {
    // IE8 will treat undefined and null as object if it wasn't for
    // input != null
    return input != null && Object.prototype.toString.call(input) === '[object Object]';
}

function isObjectEmpty(obj) {
    var k;
    for (k in obj) {
        // even if its not own property I'd still call it non-empty
        return false;
    }
    return true;
}

function isNumber(input) {
    return typeof input === 'number' || Object.prototype.toString.call(input) === '[object Number]';
}

function isDate(input) {
    return input instanceof Date || Object.prototype.toString.call(input) === '[object Date]';
}

function map(arr, fn) {
    var res = [], i;
    for (i = 0; i < arr.length; ++i) {
        res.push(fn(arr[i], i));
    }
    return res;
}

function hasOwnProp(a, b) {
    return Object.prototype.hasOwnProperty.call(a, b);
}

function extend(a, b) {
    for (var i in b) {
        if (hasOwnProp(b, i)) {
            a[i] = b[i];
        }
    }

    if (hasOwnProp(b, 'toString')) {
        a.toString = b.toString;
    }

    if (hasOwnProp(b, 'valueOf')) {
        a.valueOf = b.valueOf;
    }

    return a;
}

function createUTC (input, format, locale, strict) {
    return createLocalOrUTC(input, format, locale, strict, true).utc();
}

function defaultParsingFlags() {
    // We need to deep clone this object.
    return {
        empty           : false,
        unusedTokens    : [],
        unusedInput     : [],
        overflow        : -2,
        charsLeftOver   : 0,
        nullInput       : false,
        invalidMonth    : null,
        invalidFormat   : false,
        userInvalidated : false,
        iso             : false,
        parsedDateParts : [],
        meridiem        : null
    };
}

function getParsingFlags(m) {
    if (m._pf == null) {
        m._pf = defaultParsingFlags();
    }
    return m._pf;
}

var some;
if (Array.prototype.some) {
    some = Array.prototype.some;
} else {
    some = function (fun) {
        var t = Object(this);
        var len = t.length >>> 0;

        for (var i = 0; i < len; i++) {
            if (i in t && fun.call(this, t[i], i, t)) {
                return true;
            }
        }

        return false;
    };
}

var some$1 = some;

function isValid(m) {
    if (m._isValid == null) {
        var flags = getParsingFlags(m);
        var parsedParts = some$1.call(flags.parsedDateParts, function (i) {
            return i != null;
        });
        var isNowValid = !isNaN(m._d.getTime()) &&
            flags.overflow < 0 &&
            !flags.empty &&
            !flags.invalidMonth &&
            !flags.invalidWeekday &&
            !flags.nullInput &&
            !flags.invalidFormat &&
            !flags.userInvalidated &&
            (!flags.meridiem || (flags.meridiem && parsedParts));

        if (m._strict) {
            isNowValid = isNowValid &&
                flags.charsLeftOver === 0 &&
                flags.unusedTokens.length === 0 &&
                flags.bigHour === undefined;
        }

        if (Object.isFrozen == null || !Object.isFrozen(m)) {
            m._isValid = isNowValid;
        }
        else {
            return isNowValid;
        }
    }
    return m._isValid;
}

function createInvalid (flags) {
    var m = createUTC(NaN);
    if (flags != null) {
        extend(getParsingFlags(m), flags);
    }
    else {
        getParsingFlags(m).userInvalidated = true;
    }

    return m;
}

function isUndefined(input) {
    return input === void 0;
}

// Plugins that add properties should also add the key here (null value),
// so we can properly clone ourselves.
var momentProperties = hooks.momentProperties = [];

function copyConfig(to, from) {
    var i, prop, val;

    if (!isUndefined(from._isAMomentObject)) {
        to._isAMomentObject = from._isAMomentObject;
    }
    if (!isUndefined(from._i)) {
        to._i = from._i;
    }
    if (!isUndefined(from._f)) {
        to._f = from._f;
    }
    if (!isUndefined(from._l)) {
        to._l = from._l;
    }
    if (!isUndefined(from._strict)) {
        to._strict = from._strict;
    }
    if (!isUndefined(from._tzm)) {
        to._tzm = from._tzm;
    }
    if (!isUndefined(from._isUTC)) {
        to._isUTC = from._isUTC;
    }
    if (!isUndefined(from._offset)) {
        to._offset = from._offset;
    }
    if (!isUndefined(from._pf)) {
        to._pf = getParsingFlags(from);
    }
    if (!isUndefined(from._locale)) {
        to._locale = from._locale;
    }

    if (momentProperties.length > 0) {
        for (i in momentProperties) {
            prop = momentProperties[i];
            val = from[prop];
            if (!isUndefined(val)) {
                to[prop] = val;
            }
        }
    }

    return to;
}

var updateInProgress = false;

// Moment prototype object
function Moment(config) {
    copyConfig(this, config);
    this._d = new Date(config._d != null ? config._d.getTime() : NaN);
    if (!this.isValid()) {
        this._d = new Date(NaN);
    }
    // Prevent infinite loop in case updateOffset creates new moment
    // objects.
    if (updateInProgress === false) {
        updateInProgress = true;
        hooks.updateOffset(this);
        updateInProgress = false;
    }
}

function isMoment (obj) {
    return obj instanceof Moment || (obj != null && obj._isAMomentObject != null);
}

function absFloor (number) {
    if (number < 0) {
        // -0 -> 0
        return Math.ceil(number) || 0;
    } else {
        return Math.floor(number);
    }
}

function toInt(argumentForCoercion) {
    var coercedNumber = +argumentForCoercion,
        value = 0;

    if (coercedNumber !== 0 && isFinite(coercedNumber)) {
        value = absFloor(coercedNumber);
    }

    return value;
}

// compare two arrays, return the number of differences
function compareArrays(array1, array2, dontConvert) {
    var len = Math.min(array1.length, array2.length),
        lengthDiff = Math.abs(array1.length - array2.length),
        diffs = 0,
        i;
    for (i = 0; i < len; i++) {
        if ((dontConvert && array1[i] !== array2[i]) ||
            (!dontConvert && toInt(array1[i]) !== toInt(array2[i]))) {
            diffs++;
        }
    }
    return diffs + lengthDiff;
}

function warn(msg) {
    if (hooks.suppressDeprecationWarnings === false &&
            (typeof console !==  'undefined') && console.warn) {
        console.warn('Deprecation warning: ' + msg);
    }
}

function deprecate(msg, fn) {
    var firstTime = true;

    return extend(function () {
        if (hooks.deprecationHandler != null) {
            hooks.deprecationHandler(null, msg);
        }
        if (firstTime) {
            var args = [];
            var arg;
            for (var i = 0; i < arguments.length; i++) {
                arg = '';
                if (typeof arguments[i] === 'object') {
                    arg += '\n[' + i + '] ';
                    for (var key in arguments[0]) {
                        arg += key + ': ' + arguments[0][key] + ', ';
                    }
                    arg = arg.slice(0, -2); // Remove trailing comma and space
                } else {
                    arg = arguments[i];
                }
                args.push(arg);
            }
            warn(msg + '\nArguments: ' + Array.prototype.slice.call(args).join('') + '\n' + (new Error()).stack);
            firstTime = false;
        }
        return fn.apply(this, arguments);
    }, fn);
}

var deprecations = {};

function deprecateSimple(name, msg) {
    if (hooks.deprecationHandler != null) {
        hooks.deprecationHandler(name, msg);
    }
    if (!deprecations[name]) {
        warn(msg);
        deprecations[name] = true;
    }
}

hooks.suppressDeprecationWarnings = false;
hooks.deprecationHandler = null;

function isFunction(input) {
    return input instanceof Function || Object.prototype.toString.call(input) === '[object Function]';
}

function set (config) {
    var prop, i;
    for (i in config) {
        prop = config[i];
        if (isFunction(prop)) {
            this[i] = prop;
        } else {
            this['_' + i] = prop;
        }
    }
    this._config = config;
    // Lenient ordinal parsing accepts just a number in addition to
    // number + (possibly) stuff coming from _ordinalParseLenient.
    this._ordinalParseLenient = new RegExp(this._ordinalParse.source + '|' + (/\d{1,2}/).source);
}

function mergeConfigs(parentConfig, childConfig) {
    var res = extend({}, parentConfig), prop;
    for (prop in childConfig) {
        if (hasOwnProp(childConfig, prop)) {
            if (isObject(parentConfig[prop]) && isObject(childConfig[prop])) {
                res[prop] = {};
                extend(res[prop], parentConfig[prop]);
                extend(res[prop], childConfig[prop]);
            } else if (childConfig[prop] != null) {
                res[prop] = childConfig[prop];
            } else {
                delete res[prop];
            }
        }
    }
    for (prop in parentConfig) {
        if (hasOwnProp(parentConfig, prop) &&
                !hasOwnProp(childConfig, prop) &&
                isObject(parentConfig[prop])) {
            // make sure changes to properties don't modify parent config
            res[prop] = extend({}, res[prop]);
        }
    }
    return res;
}

function Locale(config) {
    if (config != null) {
        this.set(config);
    }
}

var keys;

if (Object.keys) {
    keys = Object.keys;
} else {
    keys = function (obj) {
        var i, res = [];
        for (i in obj) {
            if (hasOwnProp(obj, i)) {
                res.push(i);
            }
        }
        return res;
    };
}

var keys$1 = keys;

var defaultCalendar = {
    sameDay : '[Today at] LT',
    nextDay : '[Tomorrow at] LT',
    nextWeek : 'dddd [at] LT',
    lastDay : '[Yesterday at] LT',
    lastWeek : '[Last] dddd [at] LT',
    sameElse : 'L'
};

function calendar (key, mom, now) {
    var output = this._calendar[key] || this._calendar['sameElse'];
    return isFunction(output) ? output.call(mom, now) : output;
}

var defaultLongDateFormat = {
    LTS  : 'h:mm:ss A',
    LT   : 'h:mm A',
    L    : 'MM/DD/YYYY',
    LL   : 'MMMM D, YYYY',
    LLL  : 'MMMM D, YYYY h:mm A',
    LLLL : 'dddd, MMMM D, YYYY h:mm A'
};

function longDateFormat (key) {
    var format = this._longDateFormat[key],
        formatUpper = this._longDateFormat[key.toUpperCase()];

    if (format || !formatUpper) {
        return format;
    }

    this._longDateFormat[key] = formatUpper.replace(/MMMM|MM|DD|dddd/g, function (val) {
        return val.slice(1);
    });

    return this._longDateFormat[key];
}

var defaultInvalidDate = 'Invalid date';

function invalidDate () {
    return this._invalidDate;
}

var defaultOrdinal = '%d';
var defaultOrdinalParse = /\d{1,2}/;

function ordinal (number) {
    return this._ordinal.replace('%d', number);
}

var defaultRelativeTime = {
    future : 'in %s',
    past   : '%s ago',
    s  : 'a few seconds',
    m  : 'a minute',
    mm : '%d minutes',
    h  : 'an hour',
    hh : '%d hours',
    d  : 'a day',
    dd : '%d days',
    M  : 'a month',
    MM : '%d months',
    y  : 'a year',
    yy : '%d years'
};

function relativeTime (number, withoutSuffix, string, isFuture) {
    var output = this._relativeTime[string];
    return (isFunction(output)) ?
        output(number, withoutSuffix, string, isFuture) :
        output.replace(/%d/i, number);
}

function pastFuture (diff, output) {
    var format = this._relativeTime[diff > 0 ? 'future' : 'past'];
    return isFunction(format) ? format(output) : format.replace(/%s/i, output);
}

var aliases = {};

function addUnitAlias (unit, shorthand) {
    var lowerCase = unit.toLowerCase();
    aliases[lowerCase] = aliases[lowerCase + 's'] = aliases[shorthand] = unit;
}

function normalizeUnits(units) {
    return typeof units === 'string' ? aliases[units] || aliases[units.toLowerCase()] : undefined;
}

function normalizeObjectUnits(inputObject) {
    var normalizedInput = {},
        normalizedProp,
        prop;

    for (prop in inputObject) {
        if (hasOwnProp(inputObject, prop)) {
            normalizedProp = normalizeUnits(prop);
            if (normalizedProp) {
                normalizedInput[normalizedProp] = inputObject[prop];
            }
        }
    }

    return normalizedInput;
}

var priorities = {};

function addUnitPriority(unit, priority) {
    priorities[unit] = priority;
}

function getPrioritizedUnits(unitsObj) {
    var units = [];
    for (var u in unitsObj) {
        units.push({unit: u, priority: priorities[u]});
    }
    units.sort(function (a, b) {
        return a.priority - b.priority;
    });
    return units;
}

function makeGetSet (unit, keepTime) {
    return function (value) {
        if (value != null) {
            set$1(this, unit, value);
            hooks.updateOffset(this, keepTime);
            return this;
        } else {
            return get(this, unit);
        }
    };
}

function get (mom, unit) {
    return mom.isValid() ?
        mom._d['get' + (mom._isUTC ? 'UTC' : '') + unit]() : NaN;
}

function set$1 (mom, unit, value) {
    if (mom.isValid()) {
        mom._d['set' + (mom._isUTC ? 'UTC' : '') + unit](value);
    }
}

// MOMENTS

function stringGet (units) {
    units = normalizeUnits(units);
    if (isFunction(this[units])) {
        return this[units]();
    }
    return this;
}


function stringSet (units, value) {
    if (typeof units === 'object') {
        units = normalizeObjectUnits(units);
        var prioritized = getPrioritizedUnits(units);
        for (var i = 0; i < prioritized.length; i++) {
            this[prioritized[i].unit](units[prioritized[i].unit]);
        }
    } else {
        units = normalizeUnits(units);
        if (isFunction(this[units])) {
            return this[units](value);
        }
    }
    return this;
}

function zeroFill(number, targetLength, forceSign) {
    var absNumber = '' + Math.abs(number),
        zerosToFill = targetLength - absNumber.length,
        sign = number >= 0;
    return (sign ? (forceSign ? '+' : '') : '-') +
        Math.pow(10, Math.max(0, zerosToFill)).toString().substr(1) + absNumber;
}

var formattingTokens = /(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g;

var localFormattingTokens = /(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g;

var formatFunctions = {};

var formatTokenFunctions = {};

// token:    'M'
// padded:   ['MM', 2]
// ordinal:  'Mo'
// callback: function () { this.month() + 1 }
function addFormatToken (token, padded, ordinal, callback) {
    var func = callback;
    if (typeof callback === 'string') {
        func = function () {
            return this[callback]();
        };
    }
    if (token) {
        formatTokenFunctions[token] = func;
    }
    if (padded) {
        formatTokenFunctions[padded[0]] = function () {
            return zeroFill(func.apply(this, arguments), padded[1], padded[2]);
        };
    }
    if (ordinal) {
        formatTokenFunctions[ordinal] = function () {
            return this.localeData().ordinal(func.apply(this, arguments), token);
        };
    }
}

function removeFormattingTokens(input) {
    if (input.match(/\[[\s\S]/)) {
        return input.replace(/^\[|\]$/g, '');
    }
    return input.replace(/\\/g, '');
}

function makeFormatFunction(format) {
    var array = format.match(formattingTokens), i, length;

    for (i = 0, length = array.length; i < length; i++) {
        if (formatTokenFunctions[array[i]]) {
            array[i] = formatTokenFunctions[array[i]];
        } else {
            array[i] = removeFormattingTokens(array[i]);
        }
    }

    return function (mom) {
        var output = '', i;
        for (i = 0; i < length; i++) {
            output += array[i] instanceof Function ? array[i].call(mom, format) : array[i];
        }
        return output;
    };
}

// format date using native date object
function formatMoment(m, format) {
    if (!m.isValid()) {
        return m.localeData().invalidDate();
    }

    format = expandFormat(format, m.localeData());
    formatFunctions[format] = formatFunctions[format] || makeFormatFunction(format);

    return formatFunctions[format](m);
}

function expandFormat(format, locale) {
    var i = 5;

    function replaceLongDateFormatTokens(input) {
        return locale.longDateFormat(input) || input;
    }

    localFormattingTokens.lastIndex = 0;
    while (i >= 0 && localFormattingTokens.test(format)) {
        format = format.replace(localFormattingTokens, replaceLongDateFormatTokens);
        localFormattingTokens.lastIndex = 0;
        i -= 1;
    }

    return format;
}

var match1         = /\d/;            //       0 - 9
var match2         = /\d\d/;          //      00 - 99
var match3         = /\d{3}/;         //     000 - 999
var match4         = /\d{4}/;         //    0000 - 9999
var match6         = /[+-]?\d{6}/;    // -999999 - 999999
var match1to2      = /\d\d?/;         //       0 - 99
var match3to4      = /\d\d\d\d?/;     //     999 - 9999
var match5to6      = /\d\d\d\d\d\d?/; //   99999 - 999999
var match1to3      = /\d{1,3}/;       //       0 - 999
var match1to4      = /\d{1,4}/;       //       0 - 9999
var match1to6      = /[+-]?\d{1,6}/;  // -999999 - 999999

var matchUnsigned  = /\d+/;           //       0 - inf
var matchSigned    = /[+-]?\d+/;      //    -inf - inf

var matchOffset    = /Z|[+-]\d\d:?\d\d/gi; // +00:00 -00:00 +0000 -0000 or Z
var matchShortOffset = /Z|[+-]\d\d(?::?\d\d)?/gi; // +00 -00 +00:00 -00:00 +0000 -0000 or Z

var matchTimestamp = /[+-]?\d+(\.\d{1,3})?/; // 123456789 123456789.123

// any word (or two) characters or numbers including two/three word month in arabic.
// includes scottish gaelic two word and hyphenated months
var matchWord = /[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i;


var regexes = {};

function addRegexToken (token, regex, strictRegex) {
    regexes[token] = isFunction(regex) ? regex : function (isStrict, localeData) {
        return (isStrict && strictRegex) ? strictRegex : regex;
    };
}

function getParseRegexForToken (token, config) {
    if (!hasOwnProp(regexes, token)) {
        return new RegExp(unescapeFormat(token));
    }

    return regexes[token](config._strict, config._locale);
}

// Code from http://stackoverflow.com/questions/3561493/is-there-a-regexp-escape-function-in-javascript
function unescapeFormat(s) {
    return regexEscape(s.replace('\\', '').replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g, function (matched, p1, p2, p3, p4) {
        return p1 || p2 || p3 || p4;
    }));
}

function regexEscape(s) {
    return s.replace(/[-\/\\^$*+?.()|[\]{}]/g, '\\$&');
}

var tokens = {};

function addParseToken (token, callback) {
    var i, func = callback;
    if (typeof token === 'string') {
        token = [token];
    }
    if (isNumber(callback)) {
        func = function (input, array) {
            array[callback] = toInt(input);
        };
    }
    for (i = 0; i < token.length; i++) {
        tokens[token[i]] = func;
    }
}

function addWeekParseToken (token, callback) {
    addParseToken(token, function (input, array, config, token) {
        config._w = config._w || {};
        callback(input, config._w, config, token);
    });
}

function addTimeToArrayFromToken(token, input, config) {
    if (input != null && hasOwnProp(tokens, token)) {
        tokens[token](input, config._a, config, token);
    }
}

var YEAR = 0;
var MONTH = 1;
var DATE = 2;
var HOUR = 3;
var MINUTE = 4;
var SECOND = 5;
var MILLISECOND = 6;
var WEEK = 7;
var WEEKDAY = 8;

var indexOf;

if (Array.prototype.indexOf) {
    indexOf = Array.prototype.indexOf;
} else {
    indexOf = function (o) {
        // I know
        var i;
        for (i = 0; i < this.length; ++i) {
            if (this[i] === o) {
                return i;
            }
        }
        return -1;
    };
}

var indexOf$1 = indexOf;

function daysInMonth(year, month) {
    return new Date(Date.UTC(year, month + 1, 0)).getUTCDate();
}

// FORMATTING

addFormatToken('M', ['MM', 2], 'Mo', function () {
    return this.month() + 1;
});

addFormatToken('MMM', 0, 0, function (format) {
    return this.localeData().monthsShort(this, format);
});

addFormatToken('MMMM', 0, 0, function (format) {
    return this.localeData().months(this, format);
});

// ALIASES

addUnitAlias('month', 'M');

// PRIORITY

addUnitPriority('month', 8);

// PARSING

addRegexToken('M',    match1to2);
addRegexToken('MM',   match1to2, match2);
addRegexToken('MMM',  function (isStrict, locale) {
    return locale.monthsShortRegex(isStrict);
});
addRegexToken('MMMM', function (isStrict, locale) {
    return locale.monthsRegex(isStrict);
});

addParseToken(['M', 'MM'], function (input, array) {
    array[MONTH] = toInt(input) - 1;
});

addParseToken(['MMM', 'MMMM'], function (input, array, config, token) {
    var month = config._locale.monthsParse(input, token, config._strict);
    // if we didn't find a month name, mark the date as invalid.
    if (month != null) {
        array[MONTH] = month;
    } else {
        getParsingFlags(config).invalidMonth = input;
    }
});

// LOCALES

var MONTHS_IN_FORMAT = /D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/;
var defaultLocaleMonths = 'January_February_March_April_May_June_July_August_September_October_November_December'.split('_');
function localeMonths (m, format) {
    if (!m) {
        return this._months;
    }
    return isArray(this._months) ? this._months[m.month()] :
        this._months[(this._months.isFormat || MONTHS_IN_FORMAT).test(format) ? 'format' : 'standalone'][m.month()];
}

var defaultLocaleMonthsShort = 'Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec'.split('_');
function localeMonthsShort (m, format) {
    if (!m) {
        return this._monthsShort;
    }
    return isArray(this._monthsShort) ? this._monthsShort[m.month()] :
        this._monthsShort[MONTHS_IN_FORMAT.test(format) ? 'format' : 'standalone'][m.month()];
}

function handleStrictParse(monthName, format, strict) {
    var i, ii, mom, llc = monthName.toLocaleLowerCase();
    if (!this._monthsParse) {
        // this is not used
        this._monthsParse = [];
        this._longMonthsParse = [];
        this._shortMonthsParse = [];
        for (i = 0; i < 12; ++i) {
            mom = createUTC([2000, i]);
            this._shortMonthsParse[i] = this.monthsShort(mom, '').toLocaleLowerCase();
            this._longMonthsParse[i] = this.months(mom, '').toLocaleLowerCase();
        }
    }

    if (strict) {
        if (format === 'MMM') {
            ii = indexOf$1.call(this._shortMonthsParse, llc);
            return ii !== -1 ? ii : null;
        } else {
            ii = indexOf$1.call(this._longMonthsParse, llc);
            return ii !== -1 ? ii : null;
        }
    } else {
        if (format === 'MMM') {
            ii = indexOf$1.call(this._shortMonthsParse, llc);
            if (ii !== -1) {
                return ii;
            }
            ii = indexOf$1.call(this._longMonthsParse, llc);
            return ii !== -1 ? ii : null;
        } else {
            ii = indexOf$1.call(this._longMonthsParse, llc);
            if (ii !== -1) {
                return ii;
            }
            ii = indexOf$1.call(this._shortMonthsParse, llc);
            return ii !== -1 ? ii : null;
        }
    }
}

function localeMonthsParse (monthName, format, strict) {
    var i, mom, regex;

    if (this._monthsParseExact) {
        return handleStrictParse.call(this, monthName, format, strict);
    }

    if (!this._monthsParse) {
        this._monthsParse = [];
        this._longMonthsParse = [];
        this._shortMonthsParse = [];
    }

    // TODO: add sorting
    // Sorting makes sure if one month (or abbr) is a prefix of another
    // see sorting in computeMonthsParse
    for (i = 0; i < 12; i++) {
        // make the regex if we don't have it already
        mom = createUTC([2000, i]);
        if (strict && !this._longMonthsParse[i]) {
            this._longMonthsParse[i] = new RegExp('^' + this.months(mom, '').replace('.', '') + '$', 'i');
            this._shortMonthsParse[i] = new RegExp('^' + this.monthsShort(mom, '').replace('.', '') + '$', 'i');
        }
        if (!strict && !this._monthsParse[i]) {
            regex = '^' + this.months(mom, '') + '|^' + this.monthsShort(mom, '');
            this._monthsParse[i] = new RegExp(regex.replace('.', ''), 'i');
        }
        // test the regex
        if (strict && format === 'MMMM' && this._longMonthsParse[i].test(monthName)) {
            return i;
        } else if (strict && format === 'MMM' && this._shortMonthsParse[i].test(monthName)) {
            return i;
        } else if (!strict && this._monthsParse[i].test(monthName)) {
            return i;
        }
    }
}

// MOMENTS

function setMonth (mom, value) {
    var dayOfMonth;

    if (!mom.isValid()) {
        // No op
        return mom;
    }

    if (typeof value === 'string') {
        if (/^\d+$/.test(value)) {
            value = toInt(value);
        } else {
            value = mom.localeData().monthsParse(value);
            // TODO: Another silent failure?
            if (!isNumber(value)) {
                return mom;
            }
        }
    }

    dayOfMonth = Math.min(mom.date(), daysInMonth(mom.year(), value));
    mom._d['set' + (mom._isUTC ? 'UTC' : '') + 'Month'](value, dayOfMonth);
    return mom;
}

function getSetMonth (value) {
    if (value != null) {
        setMonth(this, value);
        hooks.updateOffset(this, true);
        return this;
    } else {
        return get(this, 'Month');
    }
}

function getDaysInMonth () {
    return daysInMonth(this.year(), this.month());
}

var defaultMonthsShortRegex = matchWord;
function monthsShortRegex (isStrict) {
    if (this._monthsParseExact) {
        if (!hasOwnProp(this, '_monthsRegex')) {
            computeMonthsParse.call(this);
        }
        if (isStrict) {
            return this._monthsShortStrictRegex;
        } else {
            return this._monthsShortRegex;
        }
    } else {
        if (!hasOwnProp(this, '_monthsShortRegex')) {
            this._monthsShortRegex = defaultMonthsShortRegex;
        }
        return this._monthsShortStrictRegex && isStrict ?
            this._monthsShortStrictRegex : this._monthsShortRegex;
    }
}

var defaultMonthsRegex = matchWord;
function monthsRegex (isStrict) {
    if (this._monthsParseExact) {
        if (!hasOwnProp(this, '_monthsRegex')) {
            computeMonthsParse.call(this);
        }
        if (isStrict) {
            return this._monthsStrictRegex;
        } else {
            return this._monthsRegex;
        }
    } else {
        if (!hasOwnProp(this, '_monthsRegex')) {
            this._monthsRegex = defaultMonthsRegex;
        }
        return this._monthsStrictRegex && isStrict ?
            this._monthsStrictRegex : this._monthsRegex;
    }
}

function computeMonthsParse () {
    function cmpLenRev(a, b) {
        return b.length - a.length;
    }

    var shortPieces = [], longPieces = [], mixedPieces = [],
        i, mom;
    for (i = 0; i < 12; i++) {
        // make the regex if we don't have it already
        mom = createUTC([2000, i]);
        shortPieces.push(this.monthsShort(mom, ''));
        longPieces.push(this.months(mom, ''));
        mixedPieces.push(this.months(mom, ''));
        mixedPieces.push(this.monthsShort(mom, ''));
    }
    // Sorting makes sure if one month (or abbr) is a prefix of another it
    // will match the longer piece.
    shortPieces.sort(cmpLenRev);
    longPieces.sort(cmpLenRev);
    mixedPieces.sort(cmpLenRev);
    for (i = 0; i < 12; i++) {
        shortPieces[i] = regexEscape(shortPieces[i]);
        longPieces[i] = regexEscape(longPieces[i]);
    }
    for (i = 0; i < 24; i++) {
        mixedPieces[i] = regexEscape(mixedPieces[i]);
    }

    this._monthsRegex = new RegExp('^(' + mixedPieces.join('|') + ')', 'i');
    this._monthsShortRegex = this._monthsRegex;
    this._monthsStrictRegex = new RegExp('^(' + longPieces.join('|') + ')', 'i');
    this._monthsShortStrictRegex = new RegExp('^(' + shortPieces.join('|') + ')', 'i');
}

// FORMATTING

addFormatToken('Y', 0, 0, function () {
    var y = this.year();
    return y <= 9999 ? '' + y : '+' + y;
});

addFormatToken(0, ['YY', 2], 0, function () {
    return this.year() % 100;
});

addFormatToken(0, ['YYYY',   4],       0, 'year');
addFormatToken(0, ['YYYYY',  5],       0, 'year');
addFormatToken(0, ['YYYYYY', 6, true], 0, 'year');

// ALIASES

addUnitAlias('year', 'y');

// PRIORITIES

addUnitPriority('year', 1);

// PARSING

addRegexToken('Y',      matchSigned);
addRegexToken('YY',     match1to2, match2);
addRegexToken('YYYY',   match1to4, match4);
addRegexToken('YYYYY',  match1to6, match6);
addRegexToken('YYYYYY', match1to6, match6);

addParseToken(['YYYYY', 'YYYYYY'], YEAR);
addParseToken('YYYY', function (input, array) {
    array[YEAR] = input.length === 2 ? hooks.parseTwoDigitYear(input) : toInt(input);
});
addParseToken('YY', function (input, array) {
    array[YEAR] = hooks.parseTwoDigitYear(input);
});
addParseToken('Y', function (input, array) {
    array[YEAR] = parseInt(input, 10);
});

// HELPERS

function daysInYear(year) {
    return isLeapYear(year) ? 366 : 365;
}

function isLeapYear(year) {
    return (year % 4 === 0 && year % 100 !== 0) || year % 400 === 0;
}

// HOOKS

hooks.parseTwoDigitYear = function (input) {
    return toInt(input) + (toInt(input) > 68 ? 1900 : 2000);
};

// MOMENTS

var getSetYear = makeGetSet('FullYear', true);

function getIsLeapYear () {
    return isLeapYear(this.year());
}

function createDate (y, m, d, h, M, s, ms) {
    //can't just apply() to create a date:
    //http://stackoverflow.com/questions/181348/instantiating-a-javascript-object-by-calling-prototype-constructor-apply
    var date = new Date(y, m, d, h, M, s, ms);

    //the date constructor remaps years 0-99 to 1900-1999
    if (y < 100 && y >= 0 && isFinite(date.getFullYear())) {
        date.setFullYear(y);
    }
    return date;
}

function createUTCDate (y) {
    var date = new Date(Date.UTC.apply(null, arguments));

    //the Date.UTC function remaps years 0-99 to 1900-1999
    if (y < 100 && y >= 0 && isFinite(date.getUTCFullYear())) {
        date.setUTCFullYear(y);
    }
    return date;
}

// start-of-first-week - start-of-year
function firstWeekOffset(year, dow, doy) {
    var // first-week day -- which january is always in the first week (4 for iso, 1 for other)
        fwd = 7 + dow - doy,
        // first-week day local weekday -- which local weekday is fwd
        fwdlw = (7 + createUTCDate(year, 0, fwd).getUTCDay() - dow) % 7;

    return -fwdlw + fwd - 1;
}

//http://en.wikipedia.org/wiki/ISO_week_date#Calculating_a_date_given_the_year.2C_week_number_and_weekday
function dayOfYearFromWeeks(year, week, weekday, dow, doy) {
    var localWeekday = (7 + weekday - dow) % 7,
        weekOffset = firstWeekOffset(year, dow, doy),
        dayOfYear = 1 + 7 * (week - 1) + localWeekday + weekOffset,
        resYear, resDayOfYear;

    if (dayOfYear <= 0) {
        resYear = year - 1;
        resDayOfYear = daysInYear(resYear) + dayOfYear;
    } else if (dayOfYear > daysInYear(year)) {
        resYear = year + 1;
        resDayOfYear = dayOfYear - daysInYear(year);
    } else {
        resYear = year;
        resDayOfYear = dayOfYear;
    }

    return {
        year: resYear,
        dayOfYear: resDayOfYear
    };
}

function weekOfYear(mom, dow, doy) {
    var weekOffset = firstWeekOffset(mom.year(), dow, doy),
        week = Math.floor((mom.dayOfYear() - weekOffset - 1) / 7) + 1,
        resWeek, resYear;

    if (week < 1) {
        resYear = mom.year() - 1;
        resWeek = week + weeksInYear(resYear, dow, doy);
    } else if (week > weeksInYear(mom.year(), dow, doy)) {
        resWeek = week - weeksInYear(mom.year(), dow, doy);
        resYear = mom.year() + 1;
    } else {
        resYear = mom.year();
        resWeek = week;
    }

    return {
        week: resWeek,
        year: resYear
    };
}

function weeksInYear(year, dow, doy) {
    var weekOffset = firstWeekOffset(year, dow, doy),
        weekOffsetNext = firstWeekOffset(year + 1, dow, doy);
    return (daysInYear(year) - weekOffset + weekOffsetNext) / 7;
}

// FORMATTING

addFormatToken('w', ['ww', 2], 'wo', 'week');
addFormatToken('W', ['WW', 2], 'Wo', 'isoWeek');

// ALIASES

addUnitAlias('week', 'w');
addUnitAlias('isoWeek', 'W');

// PRIORITIES

addUnitPriority('week', 5);
addUnitPriority('isoWeek', 5);

// PARSING

addRegexToken('w',  match1to2);
addRegexToken('ww', match1to2, match2);
addRegexToken('W',  match1to2);
addRegexToken('WW', match1to2, match2);

addWeekParseToken(['w', 'ww', 'W', 'WW'], function (input, week, config, token) {
    week[token.substr(0, 1)] = toInt(input);
});

// HELPERS

// LOCALES

function localeWeek (mom) {
    return weekOfYear(mom, this._week.dow, this._week.doy).week;
}

var defaultLocaleWeek = {
    dow : 0, // Sunday is the first day of the week.
    doy : 6  // The week that contains Jan 1st is the first week of the year.
};

function localeFirstDayOfWeek () {
    return this._week.dow;
}

function localeFirstDayOfYear () {
    return this._week.doy;
}

// MOMENTS

function getSetWeek (input) {
    var week = this.localeData().week(this);
    return input == null ? week : this.add((input - week) * 7, 'd');
}

function getSetISOWeek (input) {
    var week = weekOfYear(this, 1, 4).week;
    return input == null ? week : this.add((input - week) * 7, 'd');
}

// FORMATTING

addFormatToken('d', 0, 'do', 'day');

addFormatToken('dd', 0, 0, function (format) {
    return this.localeData().weekdaysMin(this, format);
});

addFormatToken('ddd', 0, 0, function (format) {
    return this.localeData().weekdaysShort(this, format);
});

addFormatToken('dddd', 0, 0, function (format) {
    return this.localeData().weekdays(this, format);
});

addFormatToken('e', 0, 0, 'weekday');
addFormatToken('E', 0, 0, 'isoWeekday');

// ALIASES

addUnitAlias('day', 'd');
addUnitAlias('weekday', 'e');
addUnitAlias('isoWeekday', 'E');

// PRIORITY
addUnitPriority('day', 11);
addUnitPriority('weekday', 11);
addUnitPriority('isoWeekday', 11);

// PARSING

addRegexToken('d',    match1to2);
addRegexToken('e',    match1to2);
addRegexToken('E',    match1to2);
addRegexToken('dd',   function (isStrict, locale) {
    return locale.weekdaysMinRegex(isStrict);
});
addRegexToken('ddd',   function (isStrict, locale) {
    return locale.weekdaysShortRegex(isStrict);
});
addRegexToken('dddd',   function (isStrict, locale) {
    return locale.weekdaysRegex(isStrict);
});

addWeekParseToken(['dd', 'ddd', 'dddd'], function (input, week, config, token) {
    var weekday = config._locale.weekdaysParse(input, token, config._strict);
    // if we didn't get a weekday name, mark the date as invalid
    if (weekday != null) {
        week.d = weekday;
    } else {
        getParsingFlags(config).invalidWeekday = input;
    }
});

addWeekParseToken(['d', 'e', 'E'], function (input, week, config, token) {
    week[token] = toInt(input);
});

// HELPERS

function parseWeekday(input, locale) {
    if (typeof input !== 'string') {
        return input;
    }

    if (!isNaN(input)) {
        return parseInt(input, 10);
    }

    input = locale.weekdaysParse(input);
    if (typeof input === 'number') {
        return input;
    }

    return null;
}

function parseIsoWeekday(input, locale) {
    if (typeof input === 'string') {
        return locale.weekdaysParse(input) % 7 || 7;
    }
    return isNaN(input) ? null : input;
}

// LOCALES

var defaultLocaleWeekdays = 'Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday'.split('_');
function localeWeekdays (m, format) {
    if (!m) {
        return this._weekdays;
    }
    return isArray(this._weekdays) ? this._weekdays[m.day()] :
        this._weekdays[this._weekdays.isFormat.test(format) ? 'format' : 'standalone'][m.day()];
}

var defaultLocaleWeekdaysShort = 'Sun_Mon_Tue_Wed_Thu_Fri_Sat'.split('_');
function localeWeekdaysShort (m) {
    return (m) ? this._weekdaysShort[m.day()] : this._weekdaysShort;
}

var defaultLocaleWeekdaysMin = 'Su_Mo_Tu_We_Th_Fr_Sa'.split('_');
function localeWeekdaysMin (m) {
    return (m) ? this._weekdaysMin[m.day()] : this._weekdaysMin;
}

function handleStrictParse$1(weekdayName, format, strict) {
    var i, ii, mom, llc = weekdayName.toLocaleLowerCase();
    if (!this._weekdaysParse) {
        this._weekdaysParse = [];
        this._shortWeekdaysParse = [];
        this._minWeekdaysParse = [];

        for (i = 0; i < 7; ++i) {
            mom = createUTC([2000, 1]).day(i);
            this._minWeekdaysParse[i] = this.weekdaysMin(mom, '').toLocaleLowerCase();
            this._shortWeekdaysParse[i] = this.weekdaysShort(mom, '').toLocaleLowerCase();
            this._weekdaysParse[i] = this.weekdays(mom, '').toLocaleLowerCase();
        }
    }

    if (strict) {
        if (format === 'dddd') {
            ii = indexOf$1.call(this._weekdaysParse, llc);
            return ii !== -1 ? ii : null;
        } else if (format === 'ddd') {
            ii = indexOf$1.call(this._shortWeekdaysParse, llc);
            return ii !== -1 ? ii : null;
        } else {
            ii = indexOf$1.call(this._minWeekdaysParse, llc);
            return ii !== -1 ? ii : null;
        }
    } else {
        if (format === 'dddd') {
            ii = indexOf$1.call(this._weekdaysParse, llc);
            if (ii !== -1) {
                return ii;
            }
            ii = indexOf$1.call(this._shortWeekdaysParse, llc);
            if (ii !== -1) {
                return ii;
            }
            ii = indexOf$1.call(this._minWeekdaysParse, llc);
            return ii !== -1 ? ii : null;
        } else if (format === 'ddd') {
            ii = indexOf$1.call(this._shortWeekdaysParse, llc);
            if (ii !== -1) {
                return ii;
            }
            ii = indexOf$1.call(this._weekdaysParse, llc);
            if (ii !== -1) {
                return ii;
            }
            ii = indexOf$1.call(this._minWeekdaysParse, llc);
            return ii !== -1 ? ii : null;
        } else {
            ii = indexOf$1.call(this._minWeekdaysParse, llc);
            if (ii !== -1) {
                return ii;
            }
            ii = indexOf$1.call(this._weekdaysParse, llc);
            if (ii !== -1) {
                return ii;
            }
            ii = indexOf$1.call(this._shortWeekdaysParse, llc);
            return ii !== -1 ? ii : null;
        }
    }
}

function localeWeekdaysParse (weekdayName, format, strict) {
    var i, mom, regex;

    if (this._weekdaysParseExact) {
        return handleStrictParse$1.call(this, weekdayName, format, strict);
    }

    if (!this._weekdaysParse) {
        this._weekdaysParse = [];
        this._minWeekdaysParse = [];
        this._shortWeekdaysParse = [];
        this._fullWeekdaysParse = [];
    }

    for (i = 0; i < 7; i++) {
        // make the regex if we don't have it already

        mom = createUTC([2000, 1]).day(i);
        if (strict && !this._fullWeekdaysParse[i]) {
            this._fullWeekdaysParse[i] = new RegExp('^' + this.weekdays(mom, '').replace('.', '\.?') + '$', 'i');
            this._shortWeekdaysParse[i] = new RegExp('^' + this.weekdaysShort(mom, '').replace('.', '\.?') + '$', 'i');
            this._minWeekdaysParse[i] = new RegExp('^' + this.weekdaysMin(mom, '').replace('.', '\.?') + '$', 'i');
        }
        if (!this._weekdaysParse[i]) {
            regex = '^' + this.weekdays(mom, '') + '|^' + this.weekdaysShort(mom, '') + '|^' + this.weekdaysMin(mom, '');
            this._weekdaysParse[i] = new RegExp(regex.replace('.', ''), 'i');
        }
        // test the regex
        if (strict && format === 'dddd' && this._fullWeekdaysParse[i].test(weekdayName)) {
            return i;
        } else if (strict && format === 'ddd' && this._shortWeekdaysParse[i].test(weekdayName)) {
            return i;
        } else if (strict && format === 'dd' && this._minWeekdaysParse[i].test(weekdayName)) {
            return i;
        } else if (!strict && this._weekdaysParse[i].test(weekdayName)) {
            return i;
        }
    }
}

// MOMENTS

function getSetDayOfWeek (input) {
    if (!this.isValid()) {
        return input != null ? this : NaN;
    }
    var day = this._isUTC ? this._d.getUTCDay() : this._d.getDay();
    if (input != null) {
        input = parseWeekday(input, this.localeData());
        return this.add(input - day, 'd');
    } else {
        return day;
    }
}

function getSetLocaleDayOfWeek (input) {
    if (!this.isValid()) {
        return input != null ? this : NaN;
    }
    var weekday = (this.day() + 7 - this.localeData()._week.dow) % 7;
    return input == null ? weekday : this.add(input - weekday, 'd');
}

function getSetISODayOfWeek (input) {
    if (!this.isValid()) {
        return input != null ? this : NaN;
    }

    // behaves the same as moment#day except
    // as a getter, returns 7 instead of 0 (1-7 range instead of 0-6)
    // as a setter, sunday should belong to the previous week.

    if (input != null) {
        var weekday = parseIsoWeekday(input, this.localeData());
        return this.day(this.day() % 7 ? weekday : weekday - 7);
    } else {
        return this.day() || 7;
    }
}

var defaultWeekdaysRegex = matchWord;
function weekdaysRegex (isStrict) {
    if (this._weekdaysParseExact) {
        if (!hasOwnProp(this, '_weekdaysRegex')) {
            computeWeekdaysParse.call(this);
        }
        if (isStrict) {
            return this._weekdaysStrictRegex;
        } else {
            return this._weekdaysRegex;
        }
    } else {
        if (!hasOwnProp(this, '_weekdaysRegex')) {
            this._weekdaysRegex = defaultWeekdaysRegex;
        }
        return this._weekdaysStrictRegex && isStrict ?
            this._weekdaysStrictRegex : this._weekdaysRegex;
    }
}

var defaultWeekdaysShortRegex = matchWord;
function weekdaysShortRegex (isStrict) {
    if (this._weekdaysParseExact) {
        if (!hasOwnProp(this, '_weekdaysRegex')) {
            computeWeekdaysParse.call(this);
        }
        if (isStrict) {
            return this._weekdaysShortStrictRegex;
        } else {
            return this._weekdaysShortRegex;
        }
    } else {
        if (!hasOwnProp(this, '_weekdaysShortRegex')) {
            this._weekdaysShortRegex = defaultWeekdaysShortRegex;
        }
        return this._weekdaysShortStrictRegex && isStrict ?
            this._weekdaysShortStrictRegex : this._weekdaysShortRegex;
    }
}

var defaultWeekdaysMinRegex = matchWord;
function weekdaysMinRegex (isStrict) {
    if (this._weekdaysParseExact) {
        if (!hasOwnProp(this, '_weekdaysRegex')) {
            computeWeekdaysParse.call(this);
        }
        if (isStrict) {
            return this._weekdaysMinStrictRegex;
        } else {
            return this._weekdaysMinRegex;
        }
    } else {
        if (!hasOwnProp(this, '_weekdaysMinRegex')) {
            this._weekdaysMinRegex = defaultWeekdaysMinRegex;
        }
        return this._weekdaysMinStrictRegex && isStrict ?
            this._weekdaysMinStrictRegex : this._weekdaysMinRegex;
    }
}


function computeWeekdaysParse () {
    function cmpLenRev(a, b) {
        return b.length - a.length;
    }

    var minPieces = [], shortPieces = [], longPieces = [], mixedPieces = [],
        i, mom, minp, shortp, longp;
    for (i = 0; i < 7; i++) {
        // make the regex if we don't have it already
        mom = createUTC([2000, 1]).day(i);
        minp = this.weekdaysMin(mom, '');
        shortp = this.weekdaysShort(mom, '');
        longp = this.weekdays(mom, '');
        minPieces.push(minp);
        shortPieces.push(shortp);
        longPieces.push(longp);
        mixedPieces.push(minp);
        mixedPieces.push(shortp);
        mixedPieces.push(longp);
    }
    // Sorting makes sure if one weekday (or abbr) is a prefix of another it
    // will match the longer piece.
    minPieces.sort(cmpLenRev);
    shortPieces.sort(cmpLenRev);
    longPieces.sort(cmpLenRev);
    mixedPieces.sort(cmpLenRev);
    for (i = 0; i < 7; i++) {
        shortPieces[i] = regexEscape(shortPieces[i]);
        longPieces[i] = regexEscape(longPieces[i]);
        mixedPieces[i] = regexEscape(mixedPieces[i]);
    }

    this._weekdaysRegex = new RegExp('^(' + mixedPieces.join('|') + ')', 'i');
    this._weekdaysShortRegex = this._weekdaysRegex;
    this._weekdaysMinRegex = this._weekdaysRegex;

    this._weekdaysStrictRegex = new RegExp('^(' + longPieces.join('|') + ')', 'i');
    this._weekdaysShortStrictRegex = new RegExp('^(' + shortPieces.join('|') + ')', 'i');
    this._weekdaysMinStrictRegex = new RegExp('^(' + minPieces.join('|') + ')', 'i');
}

// FORMATTING

function hFormat() {
    return this.hours() % 12 || 12;
}

function kFormat() {
    return this.hours() || 24;
}

addFormatToken('H', ['HH', 2], 0, 'hour');
addFormatToken('h', ['hh', 2], 0, hFormat);
addFormatToken('k', ['kk', 2], 0, kFormat);

addFormatToken('hmm', 0, 0, function () {
    return '' + hFormat.apply(this) + zeroFill(this.minutes(), 2);
});

addFormatToken('hmmss', 0, 0, function () {
    return '' + hFormat.apply(this) + zeroFill(this.minutes(), 2) +
        zeroFill(this.seconds(), 2);
});

addFormatToken('Hmm', 0, 0, function () {
    return '' + this.hours() + zeroFill(this.minutes(), 2);
});

addFormatToken('Hmmss', 0, 0, function () {
    return '' + this.hours() + zeroFill(this.minutes(), 2) +
        zeroFill(this.seconds(), 2);
});

function meridiem (token, lowercase) {
    addFormatToken(token, 0, 0, function () {
        return this.localeData().meridiem(this.hours(), this.minutes(), lowercase);
    });
}

meridiem('a', true);
meridiem('A', false);

// ALIASES

addUnitAlias('hour', 'h');

// PRIORITY
addUnitPriority('hour', 13);

// PARSING

function matchMeridiem (isStrict, locale) {
    return locale._meridiemParse;
}

addRegexToken('a',  matchMeridiem);
addRegexToken('A',  matchMeridiem);
addRegexToken('H',  match1to2);
addRegexToken('h',  match1to2);
addRegexToken('HH', match1to2, match2);
addRegexToken('hh', match1to2, match2);

addRegexToken('hmm', match3to4);
addRegexToken('hmmss', match5to6);
addRegexToken('Hmm', match3to4);
addRegexToken('Hmmss', match5to6);

addParseToken(['H', 'HH'], HOUR);
addParseToken(['a', 'A'], function (input, array, config) {
    config._isPm = config._locale.isPM(input);
    config._meridiem = input;
});
addParseToken(['h', 'hh'], function (input, array, config) {
    array[HOUR] = toInt(input);
    getParsingFlags(config).bigHour = true;
});
addParseToken('hmm', function (input, array, config) {
    var pos = input.length - 2;
    array[HOUR] = toInt(input.substr(0, pos));
    array[MINUTE] = toInt(input.substr(pos));
    getParsingFlags(config).bigHour = true;
});
addParseToken('hmmss', function (input, array, config) {
    var pos1 = input.length - 4;
    var pos2 = input.length - 2;
    array[HOUR] = toInt(input.substr(0, pos1));
    array[MINUTE] = toInt(input.substr(pos1, 2));
    array[SECOND] = toInt(input.substr(pos2));
    getParsingFlags(config).bigHour = true;
});
addParseToken('Hmm', function (input, array, config) {
    var pos = input.length - 2;
    array[HOUR] = toInt(input.substr(0, pos));
    array[MINUTE] = toInt(input.substr(pos));
});
addParseToken('Hmmss', function (input, array, config) {
    var pos1 = input.length - 4;
    var pos2 = input.length - 2;
    array[HOUR] = toInt(input.substr(0, pos1));
    array[MINUTE] = toInt(input.substr(pos1, 2));
    array[SECOND] = toInt(input.substr(pos2));
});

// LOCALES

function localeIsPM (input) {
    // IE8 Quirks Mode & IE7 Standards Mode do not allow accessing strings like arrays
    // Using charAt should be more compatible.
    return ((input + '').toLowerCase().charAt(0) === 'p');
}

var defaultLocaleMeridiemParse = /[ap]\.?m?\.?/i;
function localeMeridiem (hours, minutes, isLower) {
    if (hours > 11) {
        return isLower ? 'pm' : 'PM';
    } else {
        return isLower ? 'am' : 'AM';
    }
}


// MOMENTS

// Setting the hour should keep the time, because the user explicitly
// specified which hour he wants. So trying to maintain the same hour (in
// a new timezone) makes sense. Adding/subtracting hours does not follow
// this rule.
var getSetHour = makeGetSet('Hours', true);

// months
// week
// weekdays
// meridiem
var baseConfig = {
    calendar: defaultCalendar,
    longDateFormat: defaultLongDateFormat,
    invalidDate: defaultInvalidDate,
    ordinal: defaultOrdinal,
    ordinalParse: defaultOrdinalParse,
    relativeTime: defaultRelativeTime,

    months: defaultLocaleMonths,
    monthsShort: defaultLocaleMonthsShort,

    week: defaultLocaleWeek,

    weekdays: defaultLocaleWeekdays,
    weekdaysMin: defaultLocaleWeekdaysMin,
    weekdaysShort: defaultLocaleWeekdaysShort,

    meridiemParse: defaultLocaleMeridiemParse
};

// internal storage for locale config files
var locales = {};
var localeFamilies = {};
var globalLocale;

function normalizeLocale(key) {
    return key ? key.toLowerCase().replace('_', '-') : key;
}

// pick the locale from the array
// try ['en-au', 'en-gb'] as 'en-au', 'en-gb', 'en', as in move through the list trying each
// substring from most specific to least, but move to the next array item if it's a more specific variant than the current root
function chooseLocale(names) {
    var i = 0, j, next, locale, split;

    while (i < names.length) {
        split = normalizeLocale(names[i]).split('-');
        j = split.length;
        next = normalizeLocale(names[i + 1]);
        next = next ? next.split('-') : null;
        while (j > 0) {
            locale = loadLocale(split.slice(0, j).join('-'));
            if (locale) {
                return locale;
            }
            if (next && next.length >= j && compareArrays(split, next, true) >= j - 1) {
                //the next array item is better than a shallower substring of this one
                break;
            }
            j--;
        }
        i++;
    }
    return null;
}

function loadLocale(name) {
    var oldLocale = null;
    // TODO: Find a better way to register and load all the locales in Node
    if (!locales[name] && (typeof module !== 'undefined') &&
            module && module.exports) {
        try {
            oldLocale = globalLocale._abbr;
            require('./locale/' + name);
            // because defineLocale currently also sets the global locale, we
            // want to undo that for lazy loaded locales
            getSetGlobalLocale(oldLocale);
        } catch (e) { }
    }
    return locales[name];
}

// This function will load locale and then set the global locale.  If
// no arguments are passed in, it will simply return the current global
// locale key.
function getSetGlobalLocale (key, values) {
    var data;
    if (key) {
        if (isUndefined(values)) {
            data = getLocale(key);
        }
        else {
            data = defineLocale(key, values);
        }

        if (data) {
            // moment.duration._locale = moment._locale = data;
            globalLocale = data;
        }
    }

    return globalLocale._abbr;
}

function defineLocale (name, config) {
    if (config !== null) {
        var parentConfig = baseConfig;
        config.abbr = name;
        if (locales[name] != null) {
            deprecateSimple('defineLocaleOverride',
                    'use moment.updateLocale(localeName, config) to change ' +
                    'an existing locale. moment.defineLocale(localeName, ' +
                    'config) should only be used for creating a new locale ' +
                    'See http://momentjs.com/guides/#/warnings/define-locale/ for more info.');
            parentConfig = locales[name]._config;
        } else if (config.parentLocale != null) {
            if (locales[config.parentLocale] != null) {
                parentConfig = locales[config.parentLocale]._config;
            } else {
                if (!localeFamilies[config.parentLocale]) {
                    localeFamilies[config.parentLocale] = [];
                }
                localeFamilies[config.parentLocale].push({
                    name: name,
                    config: config
                });
                return null;
            }
        }
        locales[name] = new Locale(mergeConfigs(parentConfig, config));

        if (localeFamilies[name]) {
            localeFamilies[name].forEach(function (x) {
                defineLocale(x.name, x.config);
            });
        }

        // backwards compat for now: also set the locale
        // make sure we set the locale AFTER all child locales have been
        // created, so we won't end up with the child locale set.
        getSetGlobalLocale(name);


        return locales[name];
    } else {
        // useful for testing
        delete locales[name];
        return null;
    }
}

function updateLocale(name, config) {
    if (config != null) {
        var locale, parentConfig = baseConfig;
        // MERGE
        if (locales[name] != null) {
            parentConfig = locales[name]._config;
        }
        config = mergeConfigs(parentConfig, config);
        locale = new Locale(config);
        locale.parentLocale = locales[name];
        locales[name] = locale;

        // backwards compat for now: also set the locale
        getSetGlobalLocale(name);
    } else {
        // pass null for config to unupdate, useful for tests
        if (locales[name] != null) {
            if (locales[name].parentLocale != null) {
                locales[name] = locales[name].parentLocale;
            } else if (locales[name] != null) {
                delete locales[name];
            }
        }
    }
    return locales[name];
}

// returns locale data
function getLocale (key) {
    var locale;

    if (key && key._locale && key._locale._abbr) {
        key = key._locale._abbr;
    }

    if (!key) {
        return globalLocale;
    }

    if (!isArray(key)) {
        //short-circuit everything else
        locale = loadLocale(key);
        if (locale) {
            return locale;
        }
        key = [key];
    }

    return chooseLocale(key);
}

function listLocales() {
    return keys$1(locales);
}

function checkOverflow (m) {
    var overflow;
    var a = m._a;

    if (a && getParsingFlags(m).overflow === -2) {
        overflow =
            a[MONTH]       < 0 || a[MONTH]       > 11  ? MONTH :
            a[DATE]        < 1 || a[DATE]        > daysInMonth(a[YEAR], a[MONTH]) ? DATE :
            a[HOUR]        < 0 || a[HOUR]        > 24 || (a[HOUR] === 24 && (a[MINUTE] !== 0 || a[SECOND] !== 0 || a[MILLISECOND] !== 0)) ? HOUR :
            a[MINUTE]      < 0 || a[MINUTE]      > 59  ? MINUTE :
            a[SECOND]      < 0 || a[SECOND]      > 59  ? SECOND :
            a[MILLISECOND] < 0 || a[MILLISECOND] > 999 ? MILLISECOND :
            -1;

        if (getParsingFlags(m)._overflowDayOfYear && (overflow < YEAR || overflow > DATE)) {
            overflow = DATE;
        }
        if (getParsingFlags(m)._overflowWeeks && overflow === -1) {
            overflow = WEEK;
        }
        if (getParsingFlags(m)._overflowWeekday && overflow === -1) {
            overflow = WEEKDAY;
        }

        getParsingFlags(m).overflow = overflow;
    }

    return m;
}

// iso 8601 regex
// 0000-00-00 0000-W00 or 0000-W00-0 + T + 00 or 00:00 or 00:00:00 or 00:00:00.000 + +00:00 or +0000 or +00)
var extendedIsoRegex = /^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/;
var basicIsoRegex = /^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/;

var tzRegex = /Z|[+-]\d\d(?::?\d\d)?/;

var isoDates = [
    ['YYYYYY-MM-DD', /[+-]\d{6}-\d\d-\d\d/],
    ['YYYY-MM-DD', /\d{4}-\d\d-\d\d/],
    ['GGGG-[W]WW-E', /\d{4}-W\d\d-\d/],
    ['GGGG-[W]WW', /\d{4}-W\d\d/, false],
    ['YYYY-DDD', /\d{4}-\d{3}/],
    ['YYYY-MM', /\d{4}-\d\d/, false],
    ['YYYYYYMMDD', /[+-]\d{10}/],
    ['YYYYMMDD', /\d{8}/],
    // YYYYMM is NOT allowed by the standard
    ['GGGG[W]WWE', /\d{4}W\d{3}/],
    ['GGGG[W]WW', /\d{4}W\d{2}/, false],
    ['YYYYDDD', /\d{7}/]
];

// iso time formats and regexes
var isoTimes = [
    ['HH:mm:ss.SSSS', /\d\d:\d\d:\d\d\.\d+/],
    ['HH:mm:ss,SSSS', /\d\d:\d\d:\d\d,\d+/],
    ['HH:mm:ss', /\d\d:\d\d:\d\d/],
    ['HH:mm', /\d\d:\d\d/],
    ['HHmmss.SSSS', /\d\d\d\d\d\d\.\d+/],
    ['HHmmss,SSSS', /\d\d\d\d\d\d,\d+/],
    ['HHmmss', /\d\d\d\d\d\d/],
    ['HHmm', /\d\d\d\d/],
    ['HH', /\d\d/]
];

var aspNetJsonRegex = /^\/?Date\((\-?\d+)/i;

// date from iso format
function configFromISO(config) {
    var i, l,
        string = config._i,
        match = extendedIsoRegex.exec(string) || basicIsoRegex.exec(string),
        allowTime, dateFormat, timeFormat, tzFormat;

    if (match) {
        getParsingFlags(config).iso = true;

        for (i = 0, l = isoDates.length; i < l; i++) {
            if (isoDates[i][1].exec(match[1])) {
                dateFormat = isoDates[i][0];
                allowTime = isoDates[i][2] !== false;
                break;
            }
        }
        if (dateFormat == null) {
            config._isValid = false;
            return;
        }
        if (match[3]) {
            for (i = 0, l = isoTimes.length; i < l; i++) {
                if (isoTimes[i][1].exec(match[3])) {
                    // match[2] should be 'T' or space
                    timeFormat = (match[2] || ' ') + isoTimes[i][0];
                    break;
                }
            }
            if (timeFormat == null) {
                config._isValid = false;
                return;
            }
        }
        if (!allowTime && timeFormat != null) {
            config._isValid = false;
            return;
        }
        if (match[4]) {
            if (tzRegex.exec(match[4])) {
                tzFormat = 'Z';
            } else {
                config._isValid = false;
                return;
            }
        }
        config._f = dateFormat + (timeFormat || '') + (tzFormat || '');
        configFromStringAndFormat(config);
    } else {
        config._isValid = false;
    }
}

// date from iso format or fallback
function configFromString(config) {
    var matched = aspNetJsonRegex.exec(config._i);

    if (matched !== null) {
        config._d = new Date(+matched[1]);
        return;
    }

    configFromISO(config);
    if (config._isValid === false) {
        delete config._isValid;
        hooks.createFromInputFallback(config);
    }
}

hooks.createFromInputFallback = deprecate(
    'value provided is not in a recognized ISO format. moment construction falls back to js Date(), ' +
    'which is not reliable across all browsers and versions. Non ISO date formats are ' +
    'discouraged and will be removed in an upcoming major release. Please refer to ' +
    'http://momentjs.com/guides/#/warnings/js-date/ for more info.',
    function (config) {
        config._d = new Date(config._i + (config._useUTC ? ' UTC' : ''));
    }
);

// Pick the first defined of two or three arguments.
function defaults(a, b, c) {
    if (a != null) {
        return a;
    }
    if (b != null) {
        return b;
    }
    return c;
}

function currentDateArray(config) {
    // hooks is actually the exported moment object
    var nowValue = new Date(hooks.now());
    if (config._useUTC) {
        return [nowValue.getUTCFullYear(), nowValue.getUTCMonth(), nowValue.getUTCDate()];
    }
    return [nowValue.getFullYear(), nowValue.getMonth(), nowValue.getDate()];
}

// convert an array to a date.
// the array should mirror the parameters below
// note: all values past the year are optional and will default to the lowest possible value.
// [year, month, day , hour, minute, second, millisecond]
function configFromArray (config) {
    var i, date, input = [], currentDate, yearToUse;

    if (config._d) {
        return;
    }

    currentDate = currentDateArray(config);

    //compute day of the year from weeks and weekdays
    if (config._w && config._a[DATE] == null && config._a[MONTH] == null) {
        dayOfYearFromWeekInfo(config);
    }

    //if the day of the year is set, figure out what it is
    if (config._dayOfYear) {
        yearToUse = defaults(config._a[YEAR], currentDate[YEAR]);

        if (config._dayOfYear > daysInYear(yearToUse)) {
            getParsingFlags(config)._overflowDayOfYear = true;
        }

        date = createUTCDate(yearToUse, 0, config._dayOfYear);
        config._a[MONTH] = date.getUTCMonth();
        config._a[DATE] = date.getUTCDate();
    }

    // Default to current date.
    // * if no year, month, day of month are given, default to today
    // * if day of month is given, default month and year
    // * if month is given, default only year
    // * if year is given, don't default anything
    for (i = 0; i < 3 && config._a[i] == null; ++i) {
        config._a[i] = input[i] = currentDate[i];
    }

    // Zero out whatever was not defaulted, including time
    for (; i < 7; i++) {
        config._a[i] = input[i] = (config._a[i] == null) ? (i === 2 ? 1 : 0) : config._a[i];
    }

    // Check for 24:00:00.000
    if (config._a[HOUR] === 24 &&
            config._a[MINUTE] === 0 &&
            config._a[SECOND] === 0 &&
            config._a[MILLISECOND] === 0) {
        config._nextDay = true;
        config._a[HOUR] = 0;
    }

    config._d = (config._useUTC ? createUTCDate : createDate).apply(null, input);
    // Apply timezone offset from input. The actual utcOffset can be changed
    // with parseZone.
    if (config._tzm != null) {
        config._d.setUTCMinutes(config._d.getUTCMinutes() - config._tzm);
    }

    if (config._nextDay) {
        config._a[HOUR] = 24;
    }
}

function dayOfYearFromWeekInfo(config) {
    var w, weekYear, week, weekday, dow, doy, temp, weekdayOverflow;

    w = config._w;
    if (w.GG != null || w.W != null || w.E != null) {
        dow = 1;
        doy = 4;

        // TODO: We need to take the current isoWeekYear, but that depends on
        // how we interpret now (local, utc, fixed offset). So create
        // a now version of current config (take local/utc/offset flags, and
        // create now).
        weekYear = defaults(w.GG, config._a[YEAR], weekOfYear(createLocal(), 1, 4).year);
        week = defaults(w.W, 1);
        weekday = defaults(w.E, 1);
        if (weekday < 1 || weekday > 7) {
            weekdayOverflow = true;
        }
    } else {
        dow = config._locale._week.dow;
        doy = config._locale._week.doy;

        var curWeek = weekOfYear(createLocal(), dow, doy);

        weekYear = defaults(w.gg, config._a[YEAR], curWeek.year);

        // Default to current week.
        week = defaults(w.w, curWeek.week);

        if (w.d != null) {
            // weekday -- low day numbers are considered next week
            weekday = w.d;
            if (weekday < 0 || weekday > 6) {
                weekdayOverflow = true;
            }
        } else if (w.e != null) {
            // local weekday -- counting starts from begining of week
            weekday = w.e + dow;
            if (w.e < 0 || w.e > 6) {
                weekdayOverflow = true;
            }
        } else {
            // default to begining of week
            weekday = dow;
        }
    }
    if (week < 1 || week > weeksInYear(weekYear, dow, doy)) {
        getParsingFlags(config)._overflowWeeks = true;
    } else if (weekdayOverflow != null) {
        getParsingFlags(config)._overflowWeekday = true;
    } else {
        temp = dayOfYearFromWeeks(weekYear, week, weekday, dow, doy);
        config._a[YEAR] = temp.year;
        config._dayOfYear = temp.dayOfYear;
    }
}

// constant that refers to the ISO standard
hooks.ISO_8601 = function () {};

// date from string and format string
function configFromStringAndFormat(config) {
    // TODO: Move this to another part of the creation flow to prevent circular deps
    if (config._f === hooks.ISO_8601) {
        configFromISO(config);
        return;
    }

    config._a = [];
    getParsingFlags(config).empty = true;

    // This array is used to make a Date, either with `new Date` or `Date.UTC`
    var string = '' + config._i,
        i, parsedInput, tokens, token, skipped,
        stringLength = string.length,
        totalParsedInputLength = 0;

    tokens = expandFormat(config._f, config._locale).match(formattingTokens) || [];

    for (i = 0; i < tokens.length; i++) {
        token = tokens[i];
        parsedInput = (string.match(getParseRegexForToken(token, config)) || [])[0];
        // console.log('token', token, 'parsedInput', parsedInput,
        //         'regex', getParseRegexForToken(token, config));
        if (parsedInput) {
            skipped = string.substr(0, string.indexOf(parsedInput));
            if (skipped.length > 0) {
                getParsingFlags(config).unusedInput.push(skipped);
            }
            string = string.slice(string.indexOf(parsedInput) + parsedInput.length);
            totalParsedInputLength += parsedInput.length;
        }
        // don't parse if it's not a known token
        if (formatTokenFunctions[token]) {
            if (parsedInput) {
                getParsingFlags(config).empty = false;
            }
            else {
                getParsingFlags(config).unusedTokens.push(token);
            }
            addTimeToArrayFromToken(token, parsedInput, config);
        }
        else if (config._strict && !parsedInput) {
            getParsingFlags(config).unusedTokens.push(token);
        }
    }

    // add remaining unparsed input length to the string
    getParsingFlags(config).charsLeftOver = stringLength - totalParsedInputLength;
    if (string.length > 0) {
        getParsingFlags(config).unusedInput.push(string);
    }

    // clear _12h flag if hour is <= 12
    if (config._a[HOUR] <= 12 &&
        getParsingFlags(config).bigHour === true &&
        config._a[HOUR] > 0) {
        getParsingFlags(config).bigHour = undefined;
    }

    getParsingFlags(config).parsedDateParts = config._a.slice(0);
    getParsingFlags(config).meridiem = config._meridiem;
    // handle meridiem
    config._a[HOUR] = meridiemFixWrap(config._locale, config._a[HOUR], config._meridiem);

    configFromArray(config);
    checkOverflow(config);
}


function meridiemFixWrap (locale, hour, meridiem) {
    var isPm;

    if (meridiem == null) {
        // nothing to do
        return hour;
    }
    if (locale.meridiemHour != null) {
        return locale.meridiemHour(hour, meridiem);
    } else if (locale.isPM != null) {
        // Fallback
        isPm = locale.isPM(meridiem);
        if (isPm && hour < 12) {
            hour += 12;
        }
        if (!isPm && hour === 12) {
            hour = 0;
        }
        return hour;
    } else {
        // this is not supposed to happen
        return hour;
    }
}

// date from string and array of format strings
function configFromStringAndArray(config) {
    var tempConfig,
        bestMoment,

        scoreToBeat,
        i,
        currentScore;

    if (config._f.length === 0) {
        getParsingFlags(config).invalidFormat = true;
        config._d = new Date(NaN);
        return;
    }

    for (i = 0; i < config._f.length; i++) {
        currentScore = 0;
        tempConfig = copyConfig({}, config);
        if (config._useUTC != null) {
            tempConfig._useUTC = config._useUTC;
        }
        tempConfig._f = config._f[i];
        configFromStringAndFormat(tempConfig);

        if (!isValid(tempConfig)) {
            continue;
        }

        // if there is any input that was not parsed add a penalty for that format
        currentScore += getParsingFlags(tempConfig).charsLeftOver;

        //or tokens
        currentScore += getParsingFlags(tempConfig).unusedTokens.length * 10;

        getParsingFlags(tempConfig).score = currentScore;

        if (scoreToBeat == null || currentScore < scoreToBeat) {
            scoreToBeat = currentScore;
            bestMoment = tempConfig;
        }
    }

    extend(config, bestMoment || tempConfig);
}

function configFromObject(config) {
    if (config._d) {
        return;
    }

    var i = normalizeObjectUnits(config._i);
    config._a = map([i.year, i.month, i.day || i.date, i.hour, i.minute, i.second, i.millisecond], function (obj) {
        return obj && parseInt(obj, 10);
    });

    configFromArray(config);
}

function createFromConfig (config) {
    var res = new Moment(checkOverflow(prepareConfig(config)));
    if (res._nextDay) {
        // Adding is smart enough around DST
        res.add(1, 'd');
        res._nextDay = undefined;
    }

    return res;
}

function prepareConfig (config) {
    var input = config._i,
        format = config._f;

    config._locale = config._locale || getLocale(config._l);

    if (input === null || (format === undefined && input === '')) {
        return createInvalid({nullInput: true});
    }

    if (typeof input === 'string') {
        config._i = input = config._locale.preparse(input);
    }

    if (isMoment(input)) {
        return new Moment(checkOverflow(input));
    } else if (isDate(input)) {
        config._d = input;
    } else if (isArray(format)) {
        configFromStringAndArray(config);
    } else if (format) {
        configFromStringAndFormat(config);
    }  else {
        configFromInput(config);
    }

    if (!isValid(config)) {
        config._d = null;
    }

    return config;
}

function configFromInput(config) {
    var input = config._i;
    if (input === undefined) {
        config._d = new Date(hooks.now());
    } else if (isDate(input)) {
        config._d = new Date(input.valueOf());
    } else if (typeof input === 'string') {
        configFromString(config);
    } else if (isArray(input)) {
        config._a = map(input.slice(0), function (obj) {
            return parseInt(obj, 10);
        });
        configFromArray(config);
    } else if (typeof(input) === 'object') {
        configFromObject(config);
    } else if (isNumber(input)) {
        // from milliseconds
        config._d = new Date(input);
    } else {
        hooks.createFromInputFallback(config);
    }
}

function createLocalOrUTC (input, format, locale, strict, isUTC) {
    var c = {};

    if (locale === true || locale === false) {
        strict = locale;
        locale = undefined;
    }

    if ((isObject(input) && isObjectEmpty(input)) ||
            (isArray(input) && input.length === 0)) {
        input = undefined;
    }
    // object construction must be done this way.
    // https://github.com/moment/moment/issues/1423
    c._isAMomentObject = true;
    c._useUTC = c._isUTC = isUTC;
    c._l = locale;
    c._i = input;
    c._f = format;
    c._strict = strict;

    return createFromConfig(c);
}

function createLocal (input, format, locale, strict) {
    return createLocalOrUTC(input, format, locale, strict, false);
}

var prototypeMin = deprecate(
    'moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/',
    function () {
        var other = createLocal.apply(null, arguments);
        if (this.isValid() && other.isValid()) {
            return other < this ? this : other;
        } else {
            return createInvalid();
        }
    }
);

var prototypeMax = deprecate(
    'moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/',
    function () {
        var other = createLocal.apply(null, arguments);
        if (this.isValid() && other.isValid()) {
            return other > this ? this : other;
        } else {
            return createInvalid();
        }
    }
);

// Pick a moment m from moments so that m[fn](other) is true for all
// other. This relies on the function fn to be transitive.
//
// moments should either be an array of moment objects or an array, whose
// first element is an array of moment objects.
function pickBy(fn, moments) {
    var res, i;
    if (moments.length === 1 && isArray(moments[0])) {
        moments = moments[0];
    }
    if (!moments.length) {
        return createLocal();
    }
    res = moments[0];
    for (i = 1; i < moments.length; ++i) {
        if (!moments[i].isValid() || moments[i][fn](res)) {
            res = moments[i];
        }
    }
    return res;
}

// TODO: Use [].sort instead?
function min () {
    var args = [].slice.call(arguments, 0);

    return pickBy('isBefore', args);
}

function max () {
    var args = [].slice.call(arguments, 0);

    return pickBy('isAfter', args);
}

var now = function () {
    return Date.now ? Date.now() : +(new Date());
};

function Duration (duration) {
    var normalizedInput = normalizeObjectUnits(duration),
        years = normalizedInput.year || 0,
        quarters = normalizedInput.quarter || 0,
        months = normalizedInput.month || 0,
        weeks = normalizedInput.week || 0,
        days = normalizedInput.day || 0,
        hours = normalizedInput.hour || 0,
        minutes = normalizedInput.minute || 0,
        seconds = normalizedInput.second || 0,
        milliseconds = normalizedInput.millisecond || 0;

    // representation for dateAddRemove
    this._milliseconds = +milliseconds +
        seconds * 1e3 + // 1000
        minutes * 6e4 + // 1000 * 60
        hours * 1000 * 60 * 60; //using 1000 * 60 * 60 instead of 36e5 to avoid floating point rounding errors https://github.com/moment/moment/issues/2978
    // Because of dateAddRemove treats 24 hours as different from a
    // day when working around DST, we need to store them separately
    this._days = +days +
        weeks * 7;
    // It is impossible translate months into days without knowing
    // which months you are are talking about, so we have to store
    // it separately.
    this._months = +months +
        quarters * 3 +
        years * 12;

    this._data = {};

    this._locale = getLocale();

    this._bubble();
}

function isDuration (obj) {
    return obj instanceof Duration;
}

function absRound (number) {
    if (number < 0) {
        return Math.round(-1 * number) * -1;
    } else {
        return Math.round(number);
    }
}

// FORMATTING

function offset (token, separator) {
    addFormatToken(token, 0, 0, function () {
        var offset = this.utcOffset();
        var sign = '+';
        if (offset < 0) {
            offset = -offset;
            sign = '-';
        }
        return sign + zeroFill(~~(offset / 60), 2) + separator + zeroFill(~~(offset) % 60, 2);
    });
}

offset('Z', ':');
offset('ZZ', '');

// PARSING

addRegexToken('Z',  matchShortOffset);
addRegexToken('ZZ', matchShortOffset);
addParseToken(['Z', 'ZZ'], function (input, array, config) {
    config._useUTC = true;
    config._tzm = offsetFromString(matchShortOffset, input);
});

// HELPERS

// timezone chunker
// '+10:00' > ['10',  '00']
// '-1530'  > ['-15', '30']
var chunkOffset = /([\+\-]|\d\d)/gi;

function offsetFromString(matcher, string) {
    var matches = (string || '').match(matcher);

    if (matches === null) {
        return null;
    }

    var chunk   = matches[matches.length - 1] || [];
    var parts   = (chunk + '').match(chunkOffset) || ['-', 0, 0];
    var minutes = +(parts[1] * 60) + toInt(parts[2]);

    return minutes === 0 ?
      0 :
      parts[0] === '+' ? minutes : -minutes;
}

// Return a moment from input, that is local/utc/zone equivalent to model.
function cloneWithOffset(input, model) {
    var res, diff;
    if (model._isUTC) {
        res = model.clone();
        diff = (isMoment(input) || isDate(input) ? input.valueOf() : createLocal(input).valueOf()) - res.valueOf();
        // Use low-level api, because this fn is low-level api.
        res._d.setTime(res._d.valueOf() + diff);
        hooks.updateOffset(res, false);
        return res;
    } else {
        return createLocal(input).local();
    }
}

function getDateOffset (m) {
    // On Firefox.24 Date#getTimezoneOffset returns a floating point.
    // https://github.com/moment/moment/pull/1871
    return -Math.round(m._d.getTimezoneOffset() / 15) * 15;
}

// HOOKS

// This function will be called whenever a moment is mutated.
// It is intended to keep the offset in sync with the timezone.
hooks.updateOffset = function () {};

// MOMENTS

// keepLocalTime = true means only change the timezone, without
// affecting the local hour. So 5:31:26 +0300 --[utcOffset(2, true)]-->
// 5:31:26 +0200 It is possible that 5:31:26 doesn't exist with offset
// +0200, so we adjust the time as needed, to be valid.
//
// Keeping the time actually adds/subtracts (one hour)
// from the actual represented time. That is why we call updateOffset
// a second time. In case it wants us to change the offset again
// _changeInProgress == true case, then we have to adjust, because
// there is no such time in the given timezone.
function getSetOffset (input, keepLocalTime) {
    var offset = this._offset || 0,
        localAdjust;
    if (!this.isValid()) {
        return input != null ? this : NaN;
    }
    if (input != null) {
        if (typeof input === 'string') {
            input = offsetFromString(matchShortOffset, input);
            if (input === null) {
                return this;
            }
        } else if (Math.abs(input) < 16) {
            input = input * 60;
        }
        if (!this._isUTC && keepLocalTime) {
            localAdjust = getDateOffset(this);
        }
        this._offset = input;
        this._isUTC = true;
        if (localAdjust != null) {
            this.add(localAdjust, 'm');
        }
        if (offset !== input) {
            if (!keepLocalTime || this._changeInProgress) {
                addSubtract(this, createDuration(input - offset, 'm'), 1, false);
            } else if (!this._changeInProgress) {
                this._changeInProgress = true;
                hooks.updateOffset(this, true);
                this._changeInProgress = null;
            }
        }
        return this;
    } else {
        return this._isUTC ? offset : getDateOffset(this);
    }
}

function getSetZone (input, keepLocalTime) {
    if (input != null) {
        if (typeof input !== 'string') {
            input = -input;
        }

        this.utcOffset(input, keepLocalTime);

        return this;
    } else {
        return -this.utcOffset();
    }
}

function setOffsetToUTC (keepLocalTime) {
    return this.utcOffset(0, keepLocalTime);
}

function setOffsetToLocal (keepLocalTime) {
    if (this._isUTC) {
        this.utcOffset(0, keepLocalTime);
        this._isUTC = false;

        if (keepLocalTime) {
            this.subtract(getDateOffset(this), 'm');
        }
    }
    return this;
}

function setOffsetToParsedOffset () {
    if (this._tzm != null) {
        this.utcOffset(this._tzm);
    } else if (typeof this._i === 'string') {
        var tZone = offsetFromString(matchOffset, this._i);
        if (tZone != null) {
            this.utcOffset(tZone);
        }
        else {
            this.utcOffset(0, true);
        }
    }
    return this;
}

function hasAlignedHourOffset (input) {
    if (!this.isValid()) {
        return false;
    }
    input = input ? createLocal(input).utcOffset() : 0;

    return (this.utcOffset() - input) % 60 === 0;
}

function isDaylightSavingTime () {
    return (
        this.utcOffset() > this.clone().month(0).utcOffset() ||
        this.utcOffset() > this.clone().month(5).utcOffset()
    );
}

function isDaylightSavingTimeShifted () {
    if (!isUndefined(this._isDSTShifted)) {
        return this._isDSTShifted;
    }

    var c = {};

    copyConfig(c, this);
    c = prepareConfig(c);

    if (c._a) {
        var other = c._isUTC ? createUTC(c._a) : createLocal(c._a);
        this._isDSTShifted = this.isValid() &&
            compareArrays(c._a, other.toArray()) > 0;
    } else {
        this._isDSTShifted = false;
    }

    return this._isDSTShifted;
}

function isLocal () {
    return this.isValid() ? !this._isUTC : false;
}

function isUtcOffset () {
    return this.isValid() ? this._isUTC : false;
}

function isUtc () {
    return this.isValid() ? this._isUTC && this._offset === 0 : false;
}

// ASP.NET json date format regex
var aspNetRegex = /^(\-)?(?:(\d*)[. ])?(\d+)\:(\d+)(?:\:(\d+)(\.\d*)?)?$/;

// from http://docs.closure-library.googlecode.com/git/closure_goog_date_date.js.source.html
// somewhat more in line with 4.4.3.2 2004 spec, but allows decimal anywhere
// and further modified to allow for strings containing both week and day
var isoRegex = /^(-)?P(?:(-?[0-9,.]*)Y)?(?:(-?[0-9,.]*)M)?(?:(-?[0-9,.]*)W)?(?:(-?[0-9,.]*)D)?(?:T(?:(-?[0-9,.]*)H)?(?:(-?[0-9,.]*)M)?(?:(-?[0-9,.]*)S)?)?$/;

function createDuration (input, key) {
    var duration = input,
        // matching against regexp is expensive, do it on demand
        match = null,
        sign,
        ret,
        diffRes;

    if (isDuration(input)) {
        duration = {
            ms : input._milliseconds,
            d  : input._days,
            M  : input._months
        };
    } else if (isNumber(input)) {
        duration = {};
        if (key) {
            duration[key] = input;
        } else {
            duration.milliseconds = input;
        }
    } else if (!!(match = aspNetRegex.exec(input))) {
        sign = (match[1] === '-') ? -1 : 1;
        duration = {
            y  : 0,
            d  : toInt(match[DATE])                         * sign,
            h  : toInt(match[HOUR])                         * sign,
            m  : toInt(match[MINUTE])                       * sign,
            s  : toInt(match[SECOND])                       * sign,
            ms : toInt(absRound(match[MILLISECOND] * 1000)) * sign // the millisecond decimal point is included in the match
        };
    } else if (!!(match = isoRegex.exec(input))) {
        sign = (match[1] === '-') ? -1 : 1;
        duration = {
            y : parseIso(match[2], sign),
            M : parseIso(match[3], sign),
            w : parseIso(match[4], sign),
            d : parseIso(match[5], sign),
            h : parseIso(match[6], sign),
            m : parseIso(match[7], sign),
            s : parseIso(match[8], sign)
        };
    } else if (duration == null) {// checks for null or undefined
        duration = {};
    } else if (typeof duration === 'object' && ('from' in duration || 'to' in duration)) {
        diffRes = momentsDifference(createLocal(duration.from), createLocal(duration.to));

        duration = {};
        duration.ms = diffRes.milliseconds;
        duration.M = diffRes.months;
    }

    ret = new Duration(duration);

    if (isDuration(input) && hasOwnProp(input, '_locale')) {
        ret._locale = input._locale;
    }

    return ret;
}

createDuration.fn = Duration.prototype;

function parseIso (inp, sign) {
    // We'd normally use ~~inp for this, but unfortunately it also
    // converts floats to ints.
    // inp may be undefined, so careful calling replace on it.
    var res = inp && parseFloat(inp.replace(',', '.'));
    // apply sign while we're at it
    return (isNaN(res) ? 0 : res) * sign;
}

function positiveMomentsDifference(base, other) {
    var res = {milliseconds: 0, months: 0};

    res.months = other.month() - base.month() +
        (other.year() - base.year()) * 12;
    if (base.clone().add(res.months, 'M').isAfter(other)) {
        --res.months;
    }

    res.milliseconds = +other - +(base.clone().add(res.months, 'M'));

    return res;
}

function momentsDifference(base, other) {
    var res;
    if (!(base.isValid() && other.isValid())) {
        return {milliseconds: 0, months: 0};
    }

    other = cloneWithOffset(other, base);
    if (base.isBefore(other)) {
        res = positiveMomentsDifference(base, other);
    } else {
        res = positiveMomentsDifference(other, base);
        res.milliseconds = -res.milliseconds;
        res.months = -res.months;
    }

    return res;
}

// TODO: remove 'name' arg after deprecation is removed
function createAdder(direction, name) {
    return function (val, period) {
        var dur, tmp;
        //invert the arguments, but complain about it
        if (period !== null && !isNaN(+period)) {
            deprecateSimple(name, 'moment().' + name  + '(period, number) is deprecated. Please use moment().' + name + '(number, period). ' +
            'See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info.');
            tmp = val; val = period; period = tmp;
        }

        val = typeof val === 'string' ? +val : val;
        dur = createDuration(val, period);
        addSubtract(this, dur, direction);
        return this;
    };
}

function addSubtract (mom, duration, isAdding, updateOffset) {
    var milliseconds = duration._milliseconds,
        days = absRound(duration._days),
        months = absRound(duration._months);

    if (!mom.isValid()) {
        // No op
        return;
    }

    updateOffset = updateOffset == null ? true : updateOffset;

    if (milliseconds) {
        mom._d.setTime(mom._d.valueOf() + milliseconds * isAdding);
    }
    if (days) {
        set$1(mom, 'Date', get(mom, 'Date') + days * isAdding);
    }
    if (months) {
        setMonth(mom, get(mom, 'Month') + months * isAdding);
    }
    if (updateOffset) {
        hooks.updateOffset(mom, days || months);
    }
}

var add      = createAdder(1, 'add');
var subtract = createAdder(-1, 'subtract');

function getCalendarFormat(myMoment, now) {
    var diff = myMoment.diff(now, 'days', true);
    return diff < -6 ? 'sameElse' :
            diff < -1 ? 'lastWeek' :
            diff < 0 ? 'lastDay' :
            diff < 1 ? 'sameDay' :
            diff < 2 ? 'nextDay' :
            diff < 7 ? 'nextWeek' : 'sameElse';
}

function calendar$1 (time, formats) {
    // We want to compare the start of today, vs this.
    // Getting start-of-today depends on whether we're local/utc/offset or not.
    var now = time || createLocal(),
        sod = cloneWithOffset(now, this).startOf('day'),
        format = hooks.calendarFormat(this, sod) || 'sameElse';

    var output = formats && (isFunction(formats[format]) ? formats[format].call(this, now) : formats[format]);

    return this.format(output || this.localeData().calendar(format, this, createLocal(now)));
}

function clone () {
    return new Moment(this);
}

function isAfter (input, units) {
    var localInput = isMoment(input) ? input : createLocal(input);
    if (!(this.isValid() && localInput.isValid())) {
        return false;
    }
    units = normalizeUnits(!isUndefined(units) ? units : 'millisecond');
    if (units === 'millisecond') {
        return this.valueOf() > localInput.valueOf();
    } else {
        return localInput.valueOf() < this.clone().startOf(units).valueOf();
    }
}

function isBefore (input, units) {
    var localInput = isMoment(input) ? input : createLocal(input);
    if (!(this.isValid() && localInput.isValid())) {
        return false;
    }
    units = normalizeUnits(!isUndefined(units) ? units : 'millisecond');
    if (units === 'millisecond') {
        return this.valueOf() < localInput.valueOf();
    } else {
        return this.clone().endOf(units).valueOf() < localInput.valueOf();
    }
}

function isBetween (from, to, units, inclusivity) {
    inclusivity = inclusivity || '()';
    return (inclusivity[0] === '(' ? this.isAfter(from, units) : !this.isBefore(from, units)) &&
        (inclusivity[1] === ')' ? this.isBefore(to, units) : !this.isAfter(to, units));
}

function isSame (input, units) {
    var localInput = isMoment(input) ? input : createLocal(input),
        inputMs;
    if (!(this.isValid() && localInput.isValid())) {
        return false;
    }
    units = normalizeUnits(units || 'millisecond');
    if (units === 'millisecond') {
        return this.valueOf() === localInput.valueOf();
    } else {
        inputMs = localInput.valueOf();
        return this.clone().startOf(units).valueOf() <= inputMs && inputMs <= this.clone().endOf(units).valueOf();
    }
}

function isSameOrAfter (input, units) {
    return this.isSame(input, units) || this.isAfter(input,units);
}

function isSameOrBefore (input, units) {
    return this.isSame(input, units) || this.isBefore(input,units);
}

function diff (input, units, asFloat) {
    var that,
        zoneDelta,
        delta, output;

    if (!this.isValid()) {
        return NaN;
    }

    that = cloneWithOffset(input, this);

    if (!that.isValid()) {
        return NaN;
    }

    zoneDelta = (that.utcOffset() - this.utcOffset()) * 6e4;

    units = normalizeUnits(units);

    if (units === 'year' || units === 'month' || units === 'quarter') {
        output = monthDiff(this, that);
        if (units === 'quarter') {
            output = output / 3;
        } else if (units === 'year') {
            output = output / 12;
        }
    } else {
        delta = this - that;
        output = units === 'second' ? delta / 1e3 : // 1000
            units === 'minute' ? delta / 6e4 : // 1000 * 60
            units === 'hour' ? delta / 36e5 : // 1000 * 60 * 60
            units === 'day' ? (delta - zoneDelta) / 864e5 : // 1000 * 60 * 60 * 24, negate dst
            units === 'week' ? (delta - zoneDelta) / 6048e5 : // 1000 * 60 * 60 * 24 * 7, negate dst
            delta;
    }
    return asFloat ? output : absFloor(output);
}

function monthDiff (a, b) {
    // difference in months
    var wholeMonthDiff = ((b.year() - a.year()) * 12) + (b.month() - a.month()),
        // b is in (anchor - 1 month, anchor + 1 month)
        anchor = a.clone().add(wholeMonthDiff, 'months'),
        anchor2, adjust;

    if (b - anchor < 0) {
        anchor2 = a.clone().add(wholeMonthDiff - 1, 'months');
        // linear across the month
        adjust = (b - anchor) / (anchor - anchor2);
    } else {
        anchor2 = a.clone().add(wholeMonthDiff + 1, 'months');
        // linear across the month
        adjust = (b - anchor) / (anchor2 - anchor);
    }

    //check for negative zero, return zero if negative zero
    return -(wholeMonthDiff + adjust) || 0;
}

hooks.defaultFormat = 'YYYY-MM-DDTHH:mm:ssZ';
hooks.defaultFormatUtc = 'YYYY-MM-DDTHH:mm:ss[Z]';

function toString () {
    return this.clone().locale('en').format('ddd MMM DD YYYY HH:mm:ss [GMT]ZZ');
}

function toISOString () {
    var m = this.clone().utc();
    if (0 < m.year() && m.year() <= 9999) {
        if (isFunction(Date.prototype.toISOString)) {
            // native implementation is ~50x faster, use it when we can
            return this.toDate().toISOString();
        } else {
            return formatMoment(m, 'YYYY-MM-DD[T]HH:mm:ss.SSS[Z]');
        }
    } else {
        return formatMoment(m, 'YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]');
    }
}

/**
 * Return a human readable representation of a moment that can
 * also be evaluated to get a new moment which is the same
 *
 * @link https://nodejs.org/dist/latest/docs/api/util.html#util_custom_inspect_function_on_objects
 */
function inspect () {
    if (!this.isValid()) {
        return 'moment.invalid(/* ' + this._i + ' */)';
    }
    var func = 'moment';
    var zone = '';
    if (!this.isLocal()) {
        func = this.utcOffset() === 0 ? 'moment.utc' : 'moment.parseZone';
        zone = 'Z';
    }
    var prefix = '[' + func + '("]';
    var year = (0 < this.year() && this.year() <= 9999) ? 'YYYY' : 'YYYYYY';
    var datetime = '-MM-DD[T]HH:mm:ss.SSS';
    var suffix = zone + '[")]';

    return this.format(prefix + year + datetime + suffix);
}

function format (inputString) {
    if (!inputString) {
        inputString = this.isUtc() ? hooks.defaultFormatUtc : hooks.defaultFormat;
    }
    var output = formatMoment(this, inputString);
    return this.localeData().postformat(output);
}

function from (time, withoutSuffix) {
    if (this.isValid() &&
            ((isMoment(time) && time.isValid()) ||
             createLocal(time).isValid())) {
        return createDuration({to: this, from: time}).locale(this.locale()).humanize(!withoutSuffix);
    } else {
        return this.localeData().invalidDate();
    }
}

function fromNow (withoutSuffix) {
    return this.from(createLocal(), withoutSuffix);
}

function to (time, withoutSuffix) {
    if (this.isValid() &&
            ((isMoment(time) && time.isValid()) ||
             createLocal(time).isValid())) {
        return createDuration({from: this, to: time}).locale(this.locale()).humanize(!withoutSuffix);
    } else {
        return this.localeData().invalidDate();
    }
}

function toNow (withoutSuffix) {
    return this.to(createLocal(), withoutSuffix);
}

// If passed a locale key, it will set the locale for this
// instance.  Otherwise, it will return the locale configuration
// variables for this instance.
function locale (key) {
    var newLocaleData;

    if (key === undefined) {
        return this._locale._abbr;
    } else {
        newLocaleData = getLocale(key);
        if (newLocaleData != null) {
            this._locale = newLocaleData;
        }
        return this;
    }
}

var lang = deprecate(
    'moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.',
    function (key) {
        if (key === undefined) {
            return this.localeData();
        } else {
            return this.locale(key);
        }
    }
);

function localeData () {
    return this._locale;
}

function startOf (units) {
    units = normalizeUnits(units);
    // the following switch intentionally omits break keywords
    // to utilize falling through the cases.
    switch (units) {
        case 'year':
            this.month(0);
            /* falls through */
        case 'quarter':
        case 'month':
            this.date(1);
            /* falls through */
        case 'week':
        case 'isoWeek':
        case 'day':
        case 'date':
            this.hours(0);
            /* falls through */
        case 'hour':
            this.minutes(0);
            /* falls through */
        case 'minute':
            this.seconds(0);
            /* falls through */
        case 'second':
            this.milliseconds(0);
    }

    // weeks are a special case
    if (units === 'week') {
        this.weekday(0);
    }
    if (units === 'isoWeek') {
        this.isoWeekday(1);
    }

    // quarters are also special
    if (units === 'quarter') {
        this.month(Math.floor(this.month() / 3) * 3);
    }

    return this;
}

function endOf (units) {
    units = normalizeUnits(units);
    if (units === undefined || units === 'millisecond') {
        return this;
    }

    // 'date' is an alias for 'day', so it should be considered as such.
    if (units === 'date') {
        units = 'day';
    }

    return this.startOf(units).add(1, (units === 'isoWeek' ? 'week' : units)).subtract(1, 'ms');
}

function valueOf () {
    return this._d.valueOf() - ((this._offset || 0) * 60000);
}

function unix () {
    return Math.floor(this.valueOf() / 1000);
}

function toDate () {
    return new Date(this.valueOf());
}

function toArray () {
    var m = this;
    return [m.year(), m.month(), m.date(), m.hour(), m.minute(), m.second(), m.millisecond()];
}

function toObject () {
    var m = this;
    return {
        years: m.year(),
        months: m.month(),
        date: m.date(),
        hours: m.hours(),
        minutes: m.minutes(),
        seconds: m.seconds(),
        milliseconds: m.milliseconds()
    };
}

function toJSON () {
    // new Date(NaN).toJSON() === null
    return this.isValid() ? this.toISOString() : null;
}

function isValid$1 () {
    return isValid(this);
}

function parsingFlags () {
    return extend({}, getParsingFlags(this));
}

function invalidAt () {
    return getParsingFlags(this).overflow;
}

function creationData() {
    return {
        input: this._i,
        format: this._f,
        locale: this._locale,
        isUTC: this._isUTC,
        strict: this._strict
    };
}

// FORMATTING

addFormatToken(0, ['gg', 2], 0, function () {
    return this.weekYear() % 100;
});

addFormatToken(0, ['GG', 2], 0, function () {
    return this.isoWeekYear() % 100;
});

function addWeekYearFormatToken (token, getter) {
    addFormatToken(0, [token, token.length], 0, getter);
}

addWeekYearFormatToken('gggg',     'weekYear');
addWeekYearFormatToken('ggggg',    'weekYear');
addWeekYearFormatToken('GGGG',  'isoWeekYear');
addWeekYearFormatToken('GGGGG', 'isoWeekYear');

// ALIASES

addUnitAlias('weekYear', 'gg');
addUnitAlias('isoWeekYear', 'GG');

// PRIORITY

addUnitPriority('weekYear', 1);
addUnitPriority('isoWeekYear', 1);


// PARSING

addRegexToken('G',      matchSigned);
addRegexToken('g',      matchSigned);
addRegexToken('GG',     match1to2, match2);
addRegexToken('gg',     match1to2, match2);
addRegexToken('GGGG',   match1to4, match4);
addRegexToken('gggg',   match1to4, match4);
addRegexToken('GGGGG',  match1to6, match6);
addRegexToken('ggggg',  match1to6, match6);

addWeekParseToken(['gggg', 'ggggg', 'GGGG', 'GGGGG'], function (input, week, config, token) {
    week[token.substr(0, 2)] = toInt(input);
});

addWeekParseToken(['gg', 'GG'], function (input, week, config, token) {
    week[token] = hooks.parseTwoDigitYear(input);
});

// MOMENTS

function getSetWeekYear (input) {
    return getSetWeekYearHelper.call(this,
            input,
            this.week(),
            this.weekday(),
            this.localeData()._week.dow,
            this.localeData()._week.doy);
}

function getSetISOWeekYear (input) {
    return getSetWeekYearHelper.call(this,
            input, this.isoWeek(), this.isoWeekday(), 1, 4);
}

function getISOWeeksInYear () {
    return weeksInYear(this.year(), 1, 4);
}

function getWeeksInYear () {
    var weekInfo = this.localeData()._week;
    return weeksInYear(this.year(), weekInfo.dow, weekInfo.doy);
}

function getSetWeekYearHelper(input, week, weekday, dow, doy) {
    var weeksTarget;
    if (input == null) {
        return weekOfYear(this, dow, doy).year;
    } else {
        weeksTarget = weeksInYear(input, dow, doy);
        if (week > weeksTarget) {
            week = weeksTarget;
        }
        return setWeekAll.call(this, input, week, weekday, dow, doy);
    }
}

function setWeekAll(weekYear, week, weekday, dow, doy) {
    var dayOfYearData = dayOfYearFromWeeks(weekYear, week, weekday, dow, doy),
        date = createUTCDate(dayOfYearData.year, 0, dayOfYearData.dayOfYear);

    this.year(date.getUTCFullYear());
    this.month(date.getUTCMonth());
    this.date(date.getUTCDate());
    return this;
}

// FORMATTING

addFormatToken('Q', 0, 'Qo', 'quarter');

// ALIASES

addUnitAlias('quarter', 'Q');

// PRIORITY

addUnitPriority('quarter', 7);

// PARSING

addRegexToken('Q', match1);
addParseToken('Q', function (input, array) {
    array[MONTH] = (toInt(input) - 1) * 3;
});

// MOMENTS

function getSetQuarter (input) {
    return input == null ? Math.ceil((this.month() + 1) / 3) : this.month((input - 1) * 3 + this.month() % 3);
}

// FORMATTING

addFormatToken('D', ['DD', 2], 'Do', 'date');

// ALIASES

addUnitAlias('date', 'D');

// PRIOROITY
addUnitPriority('date', 9);

// PARSING

addRegexToken('D',  match1to2);
addRegexToken('DD', match1to2, match2);
addRegexToken('Do', function (isStrict, locale) {
    return isStrict ? locale._ordinalParse : locale._ordinalParseLenient;
});

addParseToken(['D', 'DD'], DATE);
addParseToken('Do', function (input, array) {
    array[DATE] = toInt(input.match(match1to2)[0], 10);
});

// MOMENTS

var getSetDayOfMonth = makeGetSet('Date', true);

// FORMATTING

addFormatToken('DDD', ['DDDD', 3], 'DDDo', 'dayOfYear');

// ALIASES

addUnitAlias('dayOfYear', 'DDD');

// PRIORITY
addUnitPriority('dayOfYear', 4);

// PARSING

addRegexToken('DDD',  match1to3);
addRegexToken('DDDD', match3);
addParseToken(['DDD', 'DDDD'], function (input, array, config) {
    config._dayOfYear = toInt(input);
});

// HELPERS

// MOMENTS

function getSetDayOfYear (input) {
    var dayOfYear = Math.round((this.clone().startOf('day') - this.clone().startOf('year')) / 864e5) + 1;
    return input == null ? dayOfYear : this.add((input - dayOfYear), 'd');
}

// FORMATTING

addFormatToken('m', ['mm', 2], 0, 'minute');

// ALIASES

addUnitAlias('minute', 'm');

// PRIORITY

addUnitPriority('minute', 14);

// PARSING

addRegexToken('m',  match1to2);
addRegexToken('mm', match1to2, match2);
addParseToken(['m', 'mm'], MINUTE);

// MOMENTS

var getSetMinute = makeGetSet('Minutes', false);

// FORMATTING

addFormatToken('s', ['ss', 2], 0, 'second');

// ALIASES

addUnitAlias('second', 's');

// PRIORITY

addUnitPriority('second', 15);

// PARSING

addRegexToken('s',  match1to2);
addRegexToken('ss', match1to2, match2);
addParseToken(['s', 'ss'], SECOND);

// MOMENTS

var getSetSecond = makeGetSet('Seconds', false);

// FORMATTING

addFormatToken('S', 0, 0, function () {
    return ~~(this.millisecond() / 100);
});

addFormatToken(0, ['SS', 2], 0, function () {
    return ~~(this.millisecond() / 10);
});

addFormatToken(0, ['SSS', 3], 0, 'millisecond');
addFormatToken(0, ['SSSS', 4], 0, function () {
    return this.millisecond() * 10;
});
addFormatToken(0, ['SSSSS', 5], 0, function () {
    return this.millisecond() * 100;
});
addFormatToken(0, ['SSSSSS', 6], 0, function () {
    return this.millisecond() * 1000;
});
addFormatToken(0, ['SSSSSSS', 7], 0, function () {
    return this.millisecond() * 10000;
});
addFormatToken(0, ['SSSSSSSS', 8], 0, function () {
    return this.millisecond() * 100000;
});
addFormatToken(0, ['SSSSSSSSS', 9], 0, function () {
    return this.millisecond() * 1000000;
});


// ALIASES

addUnitAlias('millisecond', 'ms');

// PRIORITY

addUnitPriority('millisecond', 16);

// PARSING

addRegexToken('S',    match1to3, match1);
addRegexToken('SS',   match1to3, match2);
addRegexToken('SSS',  match1to3, match3);

var token;
for (token = 'SSSS'; token.length <= 9; token += 'S') {
    addRegexToken(token, matchUnsigned);
}

function parseMs(input, array) {
    array[MILLISECOND] = toInt(('0.' + input) * 1000);
}

for (token = 'S'; token.length <= 9; token += 'S') {
    addParseToken(token, parseMs);
}
// MOMENTS

var getSetMillisecond = makeGetSet('Milliseconds', false);

// FORMATTING

addFormatToken('z',  0, 0, 'zoneAbbr');
addFormatToken('zz', 0, 0, 'zoneName');

// MOMENTS

function getZoneAbbr () {
    return this._isUTC ? 'UTC' : '';
}

function getZoneName () {
    return this._isUTC ? 'Coordinated Universal Time' : '';
}

var proto = Moment.prototype;

proto.add               = add;
proto.calendar          = calendar$1;
proto.clone             = clone;
proto.diff              = diff;
proto.endOf             = endOf;
proto.format            = format;
proto.from              = from;
proto.fromNow           = fromNow;
proto.to                = to;
proto.toNow             = toNow;
proto.get               = stringGet;
proto.invalidAt         = invalidAt;
proto.isAfter           = isAfter;
proto.isBefore          = isBefore;
proto.isBetween         = isBetween;
proto.isSame            = isSame;
proto.isSameOrAfter     = isSameOrAfter;
proto.isSameOrBefore    = isSameOrBefore;
proto.isValid           = isValid$1;
proto.lang              = lang;
proto.locale            = locale;
proto.localeData        = localeData;
proto.max               = prototypeMax;
proto.min               = prototypeMin;
proto.parsingFlags      = parsingFlags;
proto.set               = stringSet;
proto.startOf           = startOf;
proto.subtract          = subtract;
proto.toArray           = toArray;
proto.toObject          = toObject;
proto.toDate            = toDate;
proto.toISOString       = toISOString;
proto.inspect           = inspect;
proto.toJSON            = toJSON;
proto.toString          = toString;
proto.unix              = unix;
proto.valueOf           = valueOf;
proto.creationData      = creationData;

// Year
proto.year       = getSetYear;
proto.isLeapYear = getIsLeapYear;

// Week Year
proto.weekYear    = getSetWeekYear;
proto.isoWeekYear = getSetISOWeekYear;

// Quarter
proto.quarter = proto.quarters = getSetQuarter;

// Month
proto.month       = getSetMonth;
proto.daysInMonth = getDaysInMonth;

// Week
proto.week           = proto.weeks        = getSetWeek;
proto.isoWeek        = proto.isoWeeks     = getSetISOWeek;
proto.weeksInYear    = getWeeksInYear;
proto.isoWeeksInYear = getISOWeeksInYear;

// Day
proto.date       = getSetDayOfMonth;
proto.day        = proto.days             = getSetDayOfWeek;
proto.weekday    = getSetLocaleDayOfWeek;
proto.isoWeekday = getSetISODayOfWeek;
proto.dayOfYear  = getSetDayOfYear;

// Hour
proto.hour = proto.hours = getSetHour;

// Minute
proto.minute = proto.minutes = getSetMinute;

// Second
proto.second = proto.seconds = getSetSecond;

// Millisecond
proto.millisecond = proto.milliseconds = getSetMillisecond;

// Offset
proto.utcOffset            = getSetOffset;
proto.utc                  = setOffsetToUTC;
proto.local                = setOffsetToLocal;
proto.parseZone            = setOffsetToParsedOffset;
proto.hasAlignedHourOffset = hasAlignedHourOffset;
proto.isDST                = isDaylightSavingTime;
proto.isLocal              = isLocal;
proto.isUtcOffset          = isUtcOffset;
proto.isUtc                = isUtc;
proto.isUTC                = isUtc;

// Timezone
proto.zoneAbbr = getZoneAbbr;
proto.zoneName = getZoneName;

// Deprecations
proto.dates  = deprecate('dates accessor is deprecated. Use date instead.', getSetDayOfMonth);
proto.months = deprecate('months accessor is deprecated. Use month instead', getSetMonth);
proto.years  = deprecate('years accessor is deprecated. Use year instead', getSetYear);
proto.zone   = deprecate('moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/', getSetZone);
proto.isDSTShifted = deprecate('isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information', isDaylightSavingTimeShifted);

function createUnix (input) {
    return createLocal(input * 1000);
}

function createInZone () {
    return createLocal.apply(null, arguments).parseZone();
}

function preParsePostFormat (string) {
    return string;
}

var proto$1 = Locale.prototype;

proto$1.calendar        = calendar;
proto$1.longDateFormat  = longDateFormat;
proto$1.invalidDate     = invalidDate;
proto$1.ordinal         = ordinal;
proto$1.preparse        = preParsePostFormat;
proto$1.postformat      = preParsePostFormat;
proto$1.relativeTime    = relativeTime;
proto$1.pastFuture      = pastFuture;
proto$1.set             = set;

// Month
proto$1.months            =        localeMonths;
proto$1.monthsShort       =        localeMonthsShort;
proto$1.monthsParse       =        localeMonthsParse;
proto$1.monthsRegex       = monthsRegex;
proto$1.monthsShortRegex  = monthsShortRegex;

// Week
proto$1.week = localeWeek;
proto$1.firstDayOfYear = localeFirstDayOfYear;
proto$1.firstDayOfWeek = localeFirstDayOfWeek;

// Day of Week
proto$1.weekdays       =        localeWeekdays;
proto$1.weekdaysMin    =        localeWeekdaysMin;
proto$1.weekdaysShort  =        localeWeekdaysShort;
proto$1.weekdaysParse  =        localeWeekdaysParse;

proto$1.weekdaysRegex       =        weekdaysRegex;
proto$1.weekdaysShortRegex  =        weekdaysShortRegex;
proto$1.weekdaysMinRegex    =        weekdaysMinRegex;

// Hours
proto$1.isPM = localeIsPM;
proto$1.meridiem = localeMeridiem;

function get$1 (format, index, field, setter) {
    var locale = getLocale();
    var utc = createUTC().set(setter, index);
    return locale[field](utc, format);
}

function listMonthsImpl (format, index, field) {
    if (isNumber(format)) {
        index = format;
        format = undefined;
    }

    format = format || '';

    if (index != null) {
        return get$1(format, index, field, 'month');
    }

    var i;
    var out = [];
    for (i = 0; i < 12; i++) {
        out[i] = get$1(format, i, field, 'month');
    }
    return out;
}

// ()
// (5)
// (fmt, 5)
// (fmt)
// (true)
// (true, 5)
// (true, fmt, 5)
// (true, fmt)
function listWeekdaysImpl (localeSorted, format, index, field) {
    if (typeof localeSorted === 'boolean') {
        if (isNumber(format)) {
            index = format;
            format = undefined;
        }

        format = format || '';
    } else {
        format = localeSorted;
        index = format;
        localeSorted = false;

        if (isNumber(format)) {
            index = format;
            format = undefined;
        }

        format = format || '';
    }

    var locale = getLocale(),
        shift = localeSorted ? locale._week.dow : 0;

    if (index != null) {
        return get$1(format, (index + shift) % 7, field, 'day');
    }

    var i;
    var out = [];
    for (i = 0; i < 7; i++) {
        out[i] = get$1(format, (i + shift) % 7, field, 'day');
    }
    return out;
}

function listMonths (format, index) {
    return listMonthsImpl(format, index, 'months');
}

function listMonthsShort (format, index) {
    return listMonthsImpl(format, index, 'monthsShort');
}

function listWeekdays (localeSorted, format, index) {
    return listWeekdaysImpl(localeSorted, format, index, 'weekdays');
}

function listWeekdaysShort (localeSorted, format, index) {
    return listWeekdaysImpl(localeSorted, format, index, 'weekdaysShort');
}

function listWeekdaysMin (localeSorted, format, index) {
    return listWeekdaysImpl(localeSorted, format, index, 'weekdaysMin');
}

getSetGlobalLocale('en', {
    ordinalParse: /\d{1,2}(th|st|nd|rd)/,
    ordinal : function (number) {
        var b = number % 10,
            output = (toInt(number % 100 / 10) === 1) ? 'th' :
            (b === 1) ? 'st' :
            (b === 2) ? 'nd' :
            (b === 3) ? 'rd' : 'th';
        return number + output;
    }
});

// Side effect imports
hooks.lang = deprecate('moment.lang is deprecated. Use moment.locale instead.', getSetGlobalLocale);
hooks.langData = deprecate('moment.langData is deprecated. Use moment.localeData instead.', getLocale);

var mathAbs = Math.abs;

function abs () {
    var data           = this._data;

    this._milliseconds = mathAbs(this._milliseconds);
    this._days         = mathAbs(this._days);
    this._months       = mathAbs(this._months);

    data.milliseconds  = mathAbs(data.milliseconds);
    data.seconds       = mathAbs(data.seconds);
    data.minutes       = mathAbs(data.minutes);
    data.hours         = mathAbs(data.hours);
    data.months        = mathAbs(data.months);
    data.years         = mathAbs(data.years);

    return this;
}

function addSubtract$1 (duration, input, value, direction) {
    var other = createDuration(input, value);

    duration._milliseconds += direction * other._milliseconds;
    duration._days         += direction * other._days;
    duration._months       += direction * other._months;

    return duration._bubble();
}

// supports only 2.0-style add(1, 's') or add(duration)
function add$1 (input, value) {
    return addSubtract$1(this, input, value, 1);
}

// supports only 2.0-style subtract(1, 's') or subtract(duration)
function subtract$1 (input, value) {
    return addSubtract$1(this, input, value, -1);
}

function absCeil (number) {
    if (number < 0) {
        return Math.floor(number);
    } else {
        return Math.ceil(number);
    }
}

function bubble () {
    var milliseconds = this._milliseconds;
    var days         = this._days;
    var months       = this._months;
    var data         = this._data;
    var seconds, minutes, hours, years, monthsFromDays;

    // if we have a mix of positive and negative values, bubble down first
    // check: https://github.com/moment/moment/issues/2166
    if (!((milliseconds >= 0 && days >= 0 && months >= 0) ||
            (milliseconds <= 0 && days <= 0 && months <= 0))) {
        milliseconds += absCeil(monthsToDays(months) + days) * 864e5;
        days = 0;
        months = 0;
    }

    // The following code bubbles up values, see the tests for
    // examples of what that means.
    data.milliseconds = milliseconds % 1000;

    seconds           = absFloor(milliseconds / 1000);
    data.seconds      = seconds % 60;

    minutes           = absFloor(seconds / 60);
    data.minutes      = minutes % 60;

    hours             = absFloor(minutes / 60);
    data.hours        = hours % 24;

    days += absFloor(hours / 24);

    // convert days to months
    monthsFromDays = absFloor(daysToMonths(days));
    months += monthsFromDays;
    days -= absCeil(monthsToDays(monthsFromDays));

    // 12 months -> 1 year
    years = absFloor(months / 12);
    months %= 12;

    data.days   = days;
    data.months = months;
    data.years  = years;

    return this;
}

function daysToMonths (days) {
    // 400 years have 146097 days (taking into account leap year rules)
    // 400 years have 12 months === 4800
    return days * 4800 / 146097;
}

function monthsToDays (months) {
    // the reverse of daysToMonths
    return months * 146097 / 4800;
}

function as (units) {
    var days;
    var months;
    var milliseconds = this._milliseconds;

    units = normalizeUnits(units);

    if (units === 'month' || units === 'year') {
        days   = this._days   + milliseconds / 864e5;
        months = this._months + daysToMonths(days);
        return units === 'month' ? months : months / 12;
    } else {
        // handle milliseconds separately because of floating point math errors (issue #1867)
        days = this._days + Math.round(monthsToDays(this._months));
        switch (units) {
            case 'week'   : return days / 7     + milliseconds / 6048e5;
            case 'day'    : return days         + milliseconds / 864e5;
            case 'hour'   : return days * 24    + milliseconds / 36e5;
            case 'minute' : return days * 1440  + milliseconds / 6e4;
            case 'second' : return days * 86400 + milliseconds / 1000;
            // Math.floor prevents floating point math errors here
            case 'millisecond': return Math.floor(days * 864e5) + milliseconds;
            default: throw new Error('Unknown unit ' + units);
        }
    }
}

// TODO: Use this.as('ms')?
function valueOf$1 () {
    return (
        this._milliseconds +
        this._days * 864e5 +
        (this._months % 12) * 2592e6 +
        toInt(this._months / 12) * 31536e6
    );
}

function makeAs (alias) {
    return function () {
        return this.as(alias);
    };
}

var asMilliseconds = makeAs('ms');
var asSeconds      = makeAs('s');
var asMinutes      = makeAs('m');
var asHours        = makeAs('h');
var asDays         = makeAs('d');
var asWeeks        = makeAs('w');
var asMonths       = makeAs('M');
var asYears        = makeAs('y');

function get$2 (units) {
    units = normalizeUnits(units);
    return this[units + 's']();
}

function makeGetter(name) {
    return function () {
        return this._data[name];
    };
}

var milliseconds = makeGetter('milliseconds');
var seconds      = makeGetter('seconds');
var minutes      = makeGetter('minutes');
var hours        = makeGetter('hours');
var days         = makeGetter('days');
var months       = makeGetter('months');
var years        = makeGetter('years');

function weeks () {
    return absFloor(this.days() / 7);
}

var round = Math.round;
var thresholds = {
    s: 45,  // seconds to minute
    m: 45,  // minutes to hour
    h: 22,  // hours to day
    d: 26,  // days to month
    M: 11   // months to year
};

// helper function for moment.fn.from, moment.fn.fromNow, and moment.duration.fn.humanize
function substituteTimeAgo(string, number, withoutSuffix, isFuture, locale) {
    return locale.relativeTime(number || 1, !!withoutSuffix, string, isFuture);
}

function relativeTime$1 (posNegDuration, withoutSuffix, locale) {
    var duration = createDuration(posNegDuration).abs();
    var seconds  = round(duration.as('s'));
    var minutes  = round(duration.as('m'));
    var hours    = round(duration.as('h'));
    var days     = round(duration.as('d'));
    var months   = round(duration.as('M'));
    var years    = round(duration.as('y'));

    var a = seconds < thresholds.s && ['s', seconds]  ||
            minutes <= 1           && ['m']           ||
            minutes < thresholds.m && ['mm', minutes] ||
            hours   <= 1           && ['h']           ||
            hours   < thresholds.h && ['hh', hours]   ||
            days    <= 1           && ['d']           ||
            days    < thresholds.d && ['dd', days]    ||
            months  <= 1           && ['M']           ||
            months  < thresholds.M && ['MM', months]  ||
            years   <= 1           && ['y']           || ['yy', years];

    a[2] = withoutSuffix;
    a[3] = +posNegDuration > 0;
    a[4] = locale;
    return substituteTimeAgo.apply(null, a);
}

// This function allows you to set the rounding function for relative time strings
function getSetRelativeTimeRounding (roundingFunction) {
    if (roundingFunction === undefined) {
        return round;
    }
    if (typeof(roundingFunction) === 'function') {
        round = roundingFunction;
        return true;
    }
    return false;
}

// This function allows you to set a threshold for relative time strings
function getSetRelativeTimeThreshold (threshold, limit) {
    if (thresholds[threshold] === undefined) {
        return false;
    }
    if (limit === undefined) {
        return thresholds[threshold];
    }
    thresholds[threshold] = limit;
    return true;
}

function humanize (withSuffix) {
    var locale = this.localeData();
    var output = relativeTime$1(this, !withSuffix, locale);

    if (withSuffix) {
        output = locale.pastFuture(+this, output);
    }

    return locale.postformat(output);
}

var abs$1 = Math.abs;

function toISOString$1() {
    // for ISO strings we do not use the normal bubbling rules:
    //  * milliseconds bubble up until they become hours
    //  * days do not bubble at all
    //  * months bubble up until they become years
    // This is because there is no context-free conversion between hours and days
    // (think of clock changes)
    // and also not between days and months (28-31 days per month)
    var seconds = abs$1(this._milliseconds) / 1000;
    var days         = abs$1(this._days);
    var months       = abs$1(this._months);
    var minutes, hours, years;

    // 3600 seconds -> 60 minutes -> 1 hour
    minutes           = absFloor(seconds / 60);
    hours             = absFloor(minutes / 60);
    seconds %= 60;
    minutes %= 60;

    // 12 months -> 1 year
    years  = absFloor(months / 12);
    months %= 12;


    // inspired by https://github.com/dordille/moment-isoduration/blob/master/moment.isoduration.js
    var Y = years;
    var M = months;
    var D = days;
    var h = hours;
    var m = minutes;
    var s = seconds;
    var total = this.asSeconds();

    if (!total) {
        // this is the same as C#'s (Noda) and python (isodate)...
        // but not other JS (goog.date)
        return 'P0D';
    }

    return (total < 0 ? '-' : '') +
        'P' +
        (Y ? Y + 'Y' : '') +
        (M ? M + 'M' : '') +
        (D ? D + 'D' : '') +
        ((h || m || s) ? 'T' : '') +
        (h ? h + 'H' : '') +
        (m ? m + 'M' : '') +
        (s ? s + 'S' : '');
}

var proto$2 = Duration.prototype;

proto$2.abs            = abs;
proto$2.add            = add$1;
proto$2.subtract       = subtract$1;
proto$2.as             = as;
proto$2.asMilliseconds = asMilliseconds;
proto$2.asSeconds      = asSeconds;
proto$2.asMinutes      = asMinutes;
proto$2.asHours        = asHours;
proto$2.asDays         = asDays;
proto$2.asWeeks        = asWeeks;
proto$2.asMonths       = asMonths;
proto$2.asYears        = asYears;
proto$2.valueOf        = valueOf$1;
proto$2._bubble        = bubble;
proto$2.get            = get$2;
proto$2.milliseconds   = milliseconds;
proto$2.seconds        = seconds;
proto$2.minutes        = minutes;
proto$2.hours          = hours;
proto$2.days           = days;
proto$2.weeks          = weeks;
proto$2.months         = months;
proto$2.years          = years;
proto$2.humanize       = humanize;
proto$2.toISOString    = toISOString$1;
proto$2.toString       = toISOString$1;
proto$2.toJSON         = toISOString$1;
proto$2.locale         = locale;
proto$2.localeData     = localeData;

// Deprecations
proto$2.toIsoString = deprecate('toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)', toISOString$1);
proto$2.lang = lang;

// Side effect imports

// FORMATTING

addFormatToken('X', 0, 0, 'unix');
addFormatToken('x', 0, 0, 'valueOf');

// PARSING

addRegexToken('x', matchSigned);
addRegexToken('X', matchTimestamp);
addParseToken('X', function (input, array, config) {
    config._d = new Date(parseFloat(input, 10) * 1000);
});
addParseToken('x', function (input, array, config) {
    config._d = new Date(toInt(input));
});

// Side effect imports


hooks.version = '2.17.1';

setHookCallback(createLocal);

hooks.fn                    = proto;
hooks.min                   = min;
hooks.max                   = max;
hooks.now                   = now;
hooks.utc                   = createUTC;
hooks.unix                  = createUnix;
hooks.months                = listMonths;
hooks.isDate                = isDate;
hooks.locale                = getSetGlobalLocale;
hooks.invalid               = createInvalid;
hooks.duration              = createDuration;
hooks.isMoment              = isMoment;
hooks.weekdays              = listWeekdays;
hooks.parseZone             = createInZone;
hooks.localeData            = getLocale;
hooks.isDuration            = isDuration;
hooks.monthsShort           = listMonthsShort;
hooks.weekdaysMin           = listWeekdaysMin;
hooks.defineLocale          = defineLocale;
hooks.updateLocale          = updateLocale;
hooks.locales               = listLocales;
hooks.weekdaysShort         = listWeekdaysShort;
hooks.normalizeUnits        = normalizeUnits;
hooks.relativeTimeRounding = getSetRelativeTimeRounding;
hooks.relativeTimeThreshold = getSetRelativeTimeThreshold;
hooks.calendarFormat        = getCalendarFormat;
hooks.prototype             = proto;

return hooks;

})));

},{}],"/Users/cescwang/program/sil/SIL-frontend/node_modules/ngCropper/dist/ngCropper.all.js":[function(require,module,exports){
/*!
 * Cropper v0.10.0
 * https://github.com/fengyuanchen/cropper
 *
 * Copyright (c) 2014-2015 Fengyuan Chen and other contributors
 * Released under the MIT license
 *
 * Date: 2015-06-08T14:57:26.353Z
 */

(function (factory) {
  if (typeof define === 'function' && define.amd) {
    // AMD. Register as anonymous module.
    define(['jquery'], factory);
  } else if (typeof exports === 'object') {
    // Node / CommonJS
    factory(require('jquery'));
  } else {
    // Browser globals.
    factory(jQuery);
  }
})(function ($) {

  'use strict';

  var $window = $(window),
      $document = $(document),
      location = window.location,

      // Constants
      CROPPER_NAMESPACE = '.cropper',
      CROPPER_PREVIEW = 'preview' + CROPPER_NAMESPACE,

      // RegExps
      REGEXP_DRAG_TYPES = /^(e|n|w|s|ne|nw|sw|se|all|crop|move|zoom)$/,

      // Classes
      CLASS_MODAL = 'cropper-modal',
      CLASS_HIDE = 'cropper-hide',
      CLASS_HIDDEN = 'cropper-hidden',
      CLASS_INVISIBLE = 'cropper-invisible',
      CLASS_MOVE = 'cropper-move',
      CLASS_CROP = 'cropper-crop',
      CLASS_DISABLED = 'cropper-disabled',
      CLASS_BG = 'cropper-bg',

      // Events
      EVENT_MOUSE_DOWN = 'mousedown touchstart',
      EVENT_MOUSE_MOVE = 'mousemove touchmove',
      EVENT_MOUSE_UP = 'mouseup mouseleave touchend touchleave touchcancel',
      EVENT_WHEEL = 'wheel mousewheel DOMMouseScroll',
      EVENT_DBLCLICK = 'dblclick',
      EVENT_RESIZE = 'resize' + CROPPER_NAMESPACE, // Bind to window with namespace
      EVENT_BUILD = 'build' + CROPPER_NAMESPACE,
      EVENT_BUILT = 'built' + CROPPER_NAMESPACE,
      EVENT_DRAG_START = 'dragstart' + CROPPER_NAMESPACE,
      EVENT_DRAG_MOVE = 'dragmove' + CROPPER_NAMESPACE,
      EVENT_DRAG_END = 'dragend' + CROPPER_NAMESPACE,
      EVENT_ZOOM_IN = 'zoomin' + CROPPER_NAMESPACE,
      EVENT_ZOOM_OUT = 'zoomout' + CROPPER_NAMESPACE,
      EVENT_CHANGE = 'change' + CROPPER_NAMESPACE,

      // Supports
      SUPPORT_CANVAS = $.isFunction($('<canvas>')[0].getContext),

      // Others
      sqrt = Math.sqrt,
      min = Math.min,
      max = Math.max,
      abs = Math.abs,
      sin = Math.sin,
      cos = Math.cos,
      num = parseFloat,

      // Prototype
      prototype = {};

  function isNumber(n) {
    return typeof n === 'number' && !isNaN(n);
  }

  function isUndefined(n) {
    return typeof n === 'undefined';
  }

  function toArray(obj, offset) {
    var args = [];

    if (isNumber(offset)) { // It's necessary for IE8
      args.push(offset);
    }

    return args.slice.apply(obj, args);
  }

  // Custom proxy to avoid jQuery's guid
  function proxy(fn, context) {
    var args = toArray(arguments, 2);

    return function () {
      return fn.apply(context, args.concat(toArray(arguments)));
    };
  }

  function isCrossOriginURL(url) {
    var parts = url.match(/^(https?:)\/\/([^\:\/\?#]+):?(\d*)/i);

    return parts && (parts[1] !== location.protocol || parts[2] !== location.hostname || parts[3] !== location.port);
  }

  function addTimestamp(url) {
    var timestamp = 'timestamp=' + (new Date()).getTime();

    return (url + (url.indexOf('?') === -1 ? '?' : '&') + timestamp);
  }

  function getRotateValue(degree) {
    return degree ? 'rotate(' + degree + 'deg)' : 'none';
  }

  function getRotatedSizes(data, reverse) {
    var deg = abs(data.degree) % 180,
        arc = (deg > 90 ? (180 - deg) : deg) * Math.PI / 180,
        sinArc = sin(arc),
        cosArc = cos(arc),
        width = data.width,
        height = data.height,
        aspectRatio = data.aspectRatio,
        newWidth,
        newHeight;

    if (!reverse) {
      newWidth = width * cosArc + height * sinArc;
      newHeight = width * sinArc + height * cosArc;
    } else {
      newWidth = width / (cosArc + sinArc / aspectRatio);
      newHeight = newWidth / aspectRatio;
    }

    return {
      width: newWidth,
      height: newHeight
    };
  }

  function getSourceCanvas(image, data) {
    var canvas = $('<canvas>')[0],
        context = canvas.getContext('2d'),
        width = data.naturalWidth,
        height = data.naturalHeight,
        rotate = data.rotate,
        rotated = getRotatedSizes({
          width: width,
          height: height,
          degree: rotate
        });

    if (rotate) {
      canvas.width = rotated.width;
      canvas.height = rotated.height;
      context.save();
      context.translate(rotated.width / 2, rotated.height / 2);
      context.rotate(rotate * Math.PI / 180);
      context.drawImage(image, -width / 2, -height / 2, width, height);
      context.restore();
    } else {
      canvas.width = width;
      canvas.height = height;
      context.drawImage(image, 0, 0, width, height);
    }

    return canvas;
  }

  function Cropper(element, options) {
    this.$element = $(element);
    this.options = $.extend({}, Cropper.DEFAULTS, $.isPlainObject(options) && options);

    this.ready = false;
    this.built = false;
    this.rotated = false;
    this.cropped = false;
    this.disabled = false;
    this.canvas = null;
    this.cropBox = null;

    this.load();
  }

  prototype.load = function (url) {
    var options = this.options,
        $this = this.$element,
        crossOrigin,
        bustCacheUrl,
        buildEvent,
        $clone;

    if (!url) {
      if ($this.is('img')) {
        if (!$this.attr('src')) {
          return;
        }

        url = $this.prop('src');
      } else if ($this.is('canvas') && SUPPORT_CANVAS) {
        url = $this[0].toDataURL();
      }
    }

    if (!url) {
      return;
    }

    buildEvent = $.Event(EVENT_BUILD);

    if($this.one(EVENT_BUILD, options.build).trigger){
      $this.one(EVENT_BUILD, options.build).trigger(buildEvent); // Only trigger once
    }

    if (buildEvent.isDefaultPrevented()) {
      return;
    }

    if (options.checkImageOrigin && isCrossOriginURL(url)) {
      crossOrigin = ' crossOrigin="anonymous"';

      if (!$this.prop('crossOrigin')) { // Only when there was not a "crossOrigin" property
        bustCacheUrl = addTimestamp(url); // Bust cache (#148)
      }
    }

    // IE8 compatibility: Don't use "$().attr()" to set "src"
    this.$clone = $clone = $('<img' + (crossOrigin || '') + ' src="' + (bustCacheUrl || url) + '">');

    $clone.one('load', $.proxy(function () {
      var image = $clone[0],
          naturalWidth = image.naturalWidth || image.width,
          naturalHeight = image.naturalHeight || image.height; // $clone.width() and $clone.height() will return 0 in IE8 (#319)

      this.image = {
        naturalWidth: naturalWidth,
        naturalHeight: naturalHeight,
        aspectRatio: naturalWidth / naturalHeight,
        rotate: 0
      };

      this.url = url;
      this.ready = true;
      this.build();
    }, this)).one('error', function () {
      $clone.remove();
    });

    // Hide and insert into the document
    $clone.addClass(CLASS_HIDE).insertAfter($this);
  };

  prototype.build = function () {
    var $this = this.$element,
        $clone = this.$clone,
        options = this.options,
        $cropper,
        $cropBox,
        $face;

    if (!this.ready) {
      return;
    }

    if (this.built) {
      this.unbuild();
    }

    // Create cropper elements
    this.$cropper = $cropper = $(Cropper.TEMPLATE);

    // Hide the original image
    $this.addClass(CLASS_HIDDEN);

    // Show the clone iamge
    $clone.removeClass(CLASS_HIDE);

    this.$container = $this.parent().append($cropper);
    this.$canvas = $cropper.find('.cropper-canvas').append($clone);
    this.$dragBox = $cropper.find('.cropper-drag-box');
    this.$cropBox = $cropBox = $cropper.find('.cropper-crop-box');
    this.$viewBox = $cropper.find('.cropper-view-box');
    this.$face = $face = $cropBox.find('.cropper-face');

    this.addListeners();
    this.initPreview();

    // Format aspect ratio
    options.aspectRatio = num(options.aspectRatio) || NaN; // 0 -> NaN

    if (options.autoCrop) {
      this.cropped = true;

      if (options.modal) {
        this.$dragBox.addClass(CLASS_MODAL);
      }
    } else {
      $cropBox.addClass(CLASS_HIDDEN);
    }

    if (options.background) {
      $cropper.addClass(CLASS_BG);
    }

    if (!options.highlight) {
      $face.addClass(CLASS_INVISIBLE);
    }

    if (!options.guides) {
      $cropBox.find('.cropper-dashed').addClass(CLASS_HIDDEN);
    }

    if (options.cropBoxMovable) {
      $face.addClass(CLASS_MOVE).data('drag', 'all');
    }

    if (!options.cropBoxResizable) {
      $cropBox.find('.cropper-line, .cropper-point').addClass(CLASS_HIDDEN);
    }

    this.setDragMode(options.dragCrop ? 'crop' : options.movable ? 'move' : 'none');

    this.built = true;
    this.render();
    this.setData(options.data);
    if($this.one(EVENT_BUILT, options.built).trigger){
      $this.one(EVENT_BUILT, options.built).trigger(EVENT_BUILT); // Only trigger once
    }
  };

  prototype.unbuild = function () {
    if (!this.built) {
      return;
    }

    this.built = false;
    this.initialImage = null;
    this.initialCanvas = null; // This is necessary when replace
    this.initialCropBox = null;
    this.container = null;
    this.canvas = null;
    this.cropBox = null; // This is necessary when replace
    this.removeListeners();

    this.resetPreview();
    this.$preview = null;

    this.$viewBox = null;
    this.$cropBox = null;
    this.$dragBox = null;
    this.$canvas = null;
    this.$container = null;

    this.$cropper.remove();
    this.$cropper = null;
  };

  $.extend(prototype, {
    render: function () {
      this.initContainer();
      this.initCanvas();
      this.initCropBox();

      this.renderCanvas();

      if (this.cropped) {
        this.renderCropBox();
      }
    },

    initContainer: function () {
      var $this = this.$element,
          $container = this.$container,
          $cropper = this.$cropper,
          options = this.options;

      $cropper.addClass(CLASS_HIDDEN);
      $this.removeClass(CLASS_HIDDEN);

      $cropper.css((this.container = {
        width: max($container.width(), num(options.minContainerWidth) || 200),
        height: max($container.height(), num(options.minContainerHeight) || 100)
      }));

      $this.addClass(CLASS_HIDDEN);
      $cropper.removeClass(CLASS_HIDDEN);
    },

    // image box (wrapper)
    initCanvas: function () {
      var container = this.container,
          containerWidth = container.width,
          containerHeight = container.height,
          image = this.image,
          aspectRatio = image.aspectRatio,
          canvas = {
            aspectRatio: aspectRatio,
            width: containerWidth,
            height: containerHeight
          };

      if (containerHeight * aspectRatio > containerWidth) {
        canvas.height = containerWidth / aspectRatio;
      } else {
        canvas.width = containerHeight * aspectRatio;
      }

      canvas.oldLeft = canvas.left = (containerWidth - canvas.width) / 2;
      canvas.oldTop = canvas.top = (containerHeight - canvas.height) / 2;

      this.canvas = canvas;
      this.limitCanvas(true, true);
      this.initialImage = $.extend({}, image);
      this.initialCanvas = $.extend({}, canvas);
    },

    limitCanvas: function (size, position) {
      var options = this.options,
          strict = options.strict,
          container = this.container,
          containerWidth = container.width,
          containerHeight = container.height,
          canvas = this.canvas,
          aspectRatio = canvas.aspectRatio,
          cropBox = this.cropBox,
          cropped = this.cropped && cropBox,
          initialCanvas = this.initialCanvas || canvas,
          initialCanvasWidth = initialCanvas.width,
          initialCanvasHeight = initialCanvas.height,
          minCanvasWidth,
          minCanvasHeight;

      if (size) {
        minCanvasWidth = num(options.minCanvasWidth) || 0;
        minCanvasHeight = num(options.minCanvasHeight) || 0;

        if (minCanvasWidth) {
          if (strict) {
            minCanvasWidth = max(cropped ? cropBox.width : initialCanvasWidth, minCanvasWidth);
          }

          minCanvasHeight = minCanvasWidth / aspectRatio;
        } else if (minCanvasHeight) {
          if (strict) {
            minCanvasHeight = max(cropped ? cropBox.height : initialCanvasHeight, minCanvasHeight);
          }

          minCanvasWidth = minCanvasHeight * aspectRatio;
        } else if (strict) {
          if (cropped) {
            minCanvasWidth = cropBox.width;
            minCanvasHeight = cropBox.height;

            if (minCanvasHeight * aspectRatio > minCanvasWidth) {
              minCanvasWidth = minCanvasHeight * aspectRatio;
            } else {
              minCanvasHeight = minCanvasWidth / aspectRatio;
            }
          } else {
            minCanvasWidth = initialCanvasWidth;
            minCanvasHeight = initialCanvasHeight;
          }
        }

        $.extend(canvas, {
          minWidth: minCanvasWidth,
          minHeight: minCanvasHeight,
          maxWidth: Infinity,
          maxHeight: Infinity
        });
      }

      if (position) {
        if (strict) {
          if (cropped) {
            canvas.minLeft = min(cropBox.left, (cropBox.left + cropBox.width) - canvas.width);
            canvas.minTop = min(cropBox.top, (cropBox.top + cropBox.height) - canvas.height);
            canvas.maxLeft = cropBox.left;
            canvas.maxTop = cropBox.top;
          } else {
            canvas.minLeft = min(0, containerWidth - canvas.width);
            canvas.minTop = min(0, containerHeight - canvas.height);
            canvas.maxLeft = max(0, containerWidth - canvas.width);
            canvas.maxTop = max(0, containerHeight - canvas.height);
          }
        } else {
          canvas.minLeft = -canvas.width;
          canvas.minTop = -canvas.height;
          canvas.maxLeft = containerWidth;
          canvas.maxTop = containerHeight;
        }
      }
    },

    renderCanvas: function (changed) {
      var options = this.options,
          canvas = this.canvas,
          image = this.image,
          aspectRatio,
          rotated;

      if (this.rotated) {
        this.rotated = false;

        // Computes rotatation sizes with image sizes
        rotated = getRotatedSizes({
          width: image.width,
          height: image.height,
          degree: image.rotate
        });

        aspectRatio = rotated.width / rotated.height;

        if (aspectRatio !== canvas.aspectRatio) {
          canvas.left -= (rotated.width - canvas.width) / 2;
          canvas.top -= (rotated.height - canvas.height) / 2;
          canvas.width = rotated.width;
          canvas.height = rotated.height;
          canvas.aspectRatio = aspectRatio;
          this.limitCanvas(true, false);
        }
      }

      if (canvas.width > canvas.maxWidth || canvas.width < canvas.minWidth) {
        canvas.left = canvas.oldLeft;
      }

      if (canvas.height > canvas.maxHeight || canvas.height < canvas.minHeight) {
        canvas.top = canvas.oldTop;
      }

      canvas.width = min(max(canvas.width, canvas.minWidth), canvas.maxWidth);
      canvas.height = min(max(canvas.height, canvas.minHeight), canvas.maxHeight);

      this.limitCanvas(false, true);

      canvas.oldLeft = canvas.left = min(max(canvas.left, canvas.minLeft), canvas.maxLeft);
      canvas.oldTop = canvas.top = min(max(canvas.top, canvas.minTop), canvas.maxTop);

      this.$canvas.css({
        width: canvas.width,
        height: canvas.height,
        left: canvas.left,
        top: canvas.top
      });

      this.renderImage();

      if (this.cropped && options.strict) {
        this.limitCropBox(true, true);
      }

      if (changed) {
        this.output();
      }
    },

    renderImage: function () {
      var canvas = this.canvas,
          image = this.image,
          reversed;

      if (image.rotate) {
        reversed = getRotatedSizes({
          width: canvas.width,
          height: canvas.height,
          degree: image.rotate,
          aspectRatio: image.aspectRatio
        }, true);
      }

      $.extend(image, reversed ? {
        width: reversed.width,
        height: reversed.height,
        left: (canvas.width - reversed.width) / 2,
        top: (canvas.height - reversed.height) / 2
      } : {
        width: canvas.width,
        height: canvas.height,
        left: 0,
        top: 0
      });

      this.$clone.css({
        width: image.width,
        height: image.height,
        marginLeft: image.left,
        marginTop: image.top,
        transform: getRotateValue(image.rotate)
      });
    },

    initCropBox: function () {
      var options = this.options,
          canvas = this.canvas,
          aspectRatio = options.aspectRatio,
          autoCropArea = num(options.autoCropArea) || 0.8,
          cropBox = {
            width: canvas.width,
            height: canvas.height
          };

      if (aspectRatio) {
        if (canvas.height * aspectRatio > canvas.width) {
          cropBox.height = cropBox.width / aspectRatio;
        } else {
          cropBox.width = cropBox.height * aspectRatio;
        }
      }

      this.cropBox = cropBox;
      this.limitCropBox(true, true);

      // Initialize auto crop area
      cropBox.width = min(max(cropBox.width, cropBox.minWidth), cropBox.maxWidth);
      cropBox.height = min(max(cropBox.height, cropBox.minHeight), cropBox.maxHeight);

      // The width of auto crop area must large than "minWidth", and the height too. (#164)
      cropBox.width = max(cropBox.minWidth, cropBox.width * autoCropArea);
      cropBox.height = max(cropBox.minHeight, cropBox.height * autoCropArea);
      cropBox.oldLeft = cropBox.left = canvas.left + (canvas.width - cropBox.width) / 2;
      cropBox.oldTop = cropBox.top = canvas.top + (canvas.height - cropBox.height) / 2;

      this.initialCropBox = $.extend({}, cropBox);
    },

    limitCropBox: function (size, position) {
      var options = this.options,
          strict = options.strict,
          container = this.container,
          containerWidth = container.width,
          containerHeight = container.height,
          canvas = this.canvas,
          cropBox = this.cropBox,
          aspectRatio = options.aspectRatio,
          minCropBoxWidth,
          minCropBoxHeight;

      if (size) {
        minCropBoxWidth = num(options.minCropBoxWidth) || 0;
        minCropBoxHeight = num(options.minCropBoxHeight) || 0;

        // min/maxCropBoxWidth/Height must less than conatiner width/height
        cropBox.minWidth = min(containerWidth, minCropBoxWidth);
        cropBox.minHeight = min(containerHeight, minCropBoxHeight);
        cropBox.maxWidth = min(containerWidth, strict ? canvas.width : containerWidth);
        cropBox.maxHeight = min(containerHeight, strict ? canvas.height : containerHeight);

        if (aspectRatio) {
          // compare crop box size with container first
          if (cropBox.maxHeight * aspectRatio > cropBox.maxWidth) {
            cropBox.minHeight = cropBox.minWidth / aspectRatio;
            cropBox.maxHeight = cropBox.maxWidth / aspectRatio;
          } else {
            cropBox.minWidth = cropBox.minHeight * aspectRatio;
            cropBox.maxWidth = cropBox.maxHeight * aspectRatio;
          }
        }

        // The "minWidth" must be less than "maxWidth", and the "minHeight" too.
        cropBox.minWidth = min(cropBox.maxWidth, cropBox.minWidth);
        cropBox.minHeight = min(cropBox.maxHeight, cropBox.minHeight);
      }

      if (position) {
        if (strict) {
          cropBox.minLeft = max(0, canvas.left);
          cropBox.minTop = max(0, canvas.top);
          cropBox.maxLeft = min(containerWidth, canvas.left + canvas.width) - cropBox.width;
          cropBox.maxTop = min(containerHeight, canvas.top + canvas.height) - cropBox.height;
        } else {
          cropBox.minLeft = 0;
          cropBox.minTop = 0;
          cropBox.maxLeft = containerWidth - cropBox.width;
          cropBox.maxTop = containerHeight - cropBox.height;
        }
      }
    },

    renderCropBox: function () {
      var options = this.options,
          container = this.container,
          containerWidth = container.width,
          containerHeight = container.height,
          cropBox = this.cropBox;

      if (cropBox.width > cropBox.maxWidth || cropBox.width < cropBox.minWidth) {
        cropBox.left = cropBox.oldLeft;
      }

      if (cropBox.height > cropBox.maxHeight || cropBox.height < cropBox.minHeight) {
        cropBox.top = cropBox.oldTop;
      }

      cropBox.width = min(max(cropBox.width, cropBox.minWidth), cropBox.maxWidth);
      cropBox.height = min(max(cropBox.height, cropBox.minHeight), cropBox.maxHeight);

      this.limitCropBox(false, true);

      cropBox.oldLeft = cropBox.left = min(max(cropBox.left, cropBox.minLeft), cropBox.maxLeft);
      cropBox.oldTop = cropBox.top = min(max(cropBox.top, cropBox.minTop), cropBox.maxTop);

      if (options.movable && options.cropBoxMovable) {
        // Turn to move the canvas when the crop box is equal to the container
        this.$face.data('drag', (cropBox.width === containerWidth && cropBox.height === containerHeight) ? 'move' : 'all');
      }

      this.$cropBox.css({
        width: cropBox.width,
        height: cropBox.height,
        left: cropBox.left,
        top: cropBox.top
      });

      if (this.cropped && options.strict) {
        this.limitCanvas(true, true);
      }

      if (!this.disabled) {
        this.output();
      }
    },

    output: function () {
      var options = this.options,
          $this = this.$element;

      this.preview();

      if (options.crop) {
        options.crop.call($this, this.getData());
      }

      $this.trigger(EVENT_CHANGE);
    }
  });

  prototype.initPreview = function () {
    var url = this.url;

    this.$preview = $(this.options.preview);
    this.$viewBox.html('<img src="' + url + '">');

    // Override img element styles
    // Add `display:block` to avoid margin top issue (Occur only when margin-top <= -height)
    this.$preview.each(function () {
      var $this = $(this);

      $this.data(CROPPER_PREVIEW, {
        width: $this.width(),
        height: $this.height(),
        original: $this.html()
      }).html('<img src="' + url + '" style="display:block;width:100%;min-width:0!important;min-height:0!important;max-width:none!important;max-height:none!important;image-orientation: 0deg!important">');
    });
  };

  prototype.resetPreview = function () {
    this.$preview.each(function () {
      var $this = $(this);

      $this.html($this.data(CROPPER_PREVIEW).original).removeData(CROPPER_PREVIEW);
    });
  };

  prototype.preview = function () {
    var image = this.image,
        canvas = this.canvas,
        cropBox = this.cropBox,
        width = image.width,
        height = image.height,
        left = cropBox.left - canvas.left - image.left,
        top = cropBox.top - canvas.top - image.top,
        rotate = image.rotate;

    if (!this.cropped || this.disabled) {
      return;
    }

    this.$viewBox.find('img').css({
      width: width,
      height: height,
      marginLeft: -left,
      marginTop: -top,
      transform: getRotateValue(rotate)
    });

    this.$preview.each(function () {
      var $this = $(this),
          data = $this.data(CROPPER_PREVIEW),
          ratio = data.width / cropBox.width,
          newWidth = data.width,
          newHeight = cropBox.height * ratio;

      if (newHeight > data.height) {
        ratio = data.height / cropBox.height;
        newWidth = cropBox.width * ratio;
        newHeight = data.height;
      }

      $this.width(newWidth).height(newHeight).find('img').css({
        width: width * ratio,
        height: height * ratio,
        marginLeft: -left * ratio,
        marginTop: -top * ratio,
        transform: getRotateValue(rotate)
      });
    });
  };

  prototype.addListeners = function () {
    var options = this.options,
        $this = this.$element,
        $cropper = this.$cropper;

    if ($.isFunction(options.dragstart)) {
      $this.on(EVENT_DRAG_START, options.dragstart);
    }

    if ($.isFunction(options.dragmove)) {
      $this.on(EVENT_DRAG_MOVE, options.dragmove);
    }

    if ($.isFunction(options.dragend)) {
      $this.on(EVENT_DRAG_END, options.dragend);
    }

    if ($.isFunction(options.zoomin)) {
      $this.on(EVENT_ZOOM_IN, options.zoomin);
    }

    if ($.isFunction(options.zoomout)) {
      $this.on(EVENT_ZOOM_OUT, options.zoomout);
    }

    if ($.isFunction(options.change)) {
      $this.on(EVENT_CHANGE, options.change);
    }

    $cropper.on(EVENT_MOUSE_DOWN, $.proxy(this.dragstart, this));

    if (options.zoomable && options.mouseWheelZoom) {
      $cropper.on(EVENT_WHEEL, $.proxy(this.wheel, this));
    }

    if (options.doubleClickToggle) {
      $cropper.on(EVENT_DBLCLICK, $.proxy(this.dblclick, this));
    }

    $document.on(EVENT_MOUSE_MOVE, (this._dragmove = proxy(this.dragmove, this))).on(EVENT_MOUSE_UP, (this._dragend = proxy(this.dragend, this)));

    if (options.responsive) {
      $window.on(EVENT_RESIZE, (this._resize = proxy(this.resize, this)));
    }
  };

  prototype.removeListeners = function () {
    var options = this.options,
        $this = this.$element,
        $cropper = this.$cropper;

    if ($.isFunction(options.dragstart)) {
      $this.off(EVENT_DRAG_START, options.dragstart);
    }

    if ($.isFunction(options.dragmove)) {
      $this.off(EVENT_DRAG_MOVE, options.dragmove);
    }

    if ($.isFunction(options.dragend)) {
      $this.off(EVENT_DRAG_END, options.dragend);
    }

    if ($.isFunction(options.zoomin)) {
      $this.off(EVENT_ZOOM_IN, options.zoomin);
    }

    if ($.isFunction(options.zoomout)) {
      $this.off(EVENT_ZOOM_OUT, options.zoomout);
    }

    if ($.isFunction(options.change)) {
      $this.off(EVENT_CHANGE, options.change);
    }

    $cropper.off(EVENT_MOUSE_DOWN, this.dragstart);

    if (options.zoomable && options.mouseWheelZoom) {
      $cropper.off(EVENT_WHEEL, this.wheel);
    }

    if (options.doubleClickToggle) {
      $cropper.off(EVENT_DBLCLICK, this.dblclick);
    }

    $document.off(EVENT_MOUSE_MOVE, this._dragmove).off(EVENT_MOUSE_UP, this._dragend);

    if (options.responsive) {
      $window.off(EVENT_RESIZE, this._resize);
    }
  };

  $.extend(prototype, {
    resize: function () {
      var $container = this.$container,
          container = this.container,
          canvasData,
          cropBoxData,
          ratio;

      if (this.disabled || !container) { // Check "container" for IE8
        return;
      }

      ratio = $container.width() / container.width;

      if (ratio !== 1 || $container.height() !== container.height) {
        canvasData = this.getCanvasData();
        cropBoxData = this.getCropBoxData();

        this.render();
        this.setCanvasData($.each(canvasData, function (i, n) {
          canvasData[i] = n * ratio;
        }));
        this.setCropBoxData($.each(cropBoxData, function (i, n) {
          cropBoxData[i] = n * ratio;
        }));
      }
    },

    dblclick: function () {
      if (this.disabled) {
        return;
      }

      if (this.$dragBox.hasClass(CLASS_CROP)) {
        this.setDragMode('move');
      } else {
        this.setDragMode('crop');
      }
    },

    wheel: function (event) {
      var e = event.originalEvent,
          delta = 1;

      if (this.disabled) {
        return;
      }

      event.preventDefault();

      if (e.deltaY) {
        delta = e.deltaY > 0 ? 1 : -1;
      } else if (e.wheelDelta) {
        delta = -e.wheelDelta / 120;
      } else if (e.detail) {
        delta = e.detail > 0 ? 1 : -1;
      }

      this.zoom(-delta * 0.1);
    },

    dragstart: function (event) {
      var options = this.options,
          originalEvent = event.originalEvent,
          touches = originalEvent && originalEvent.touches,
          e = event,
          dragType,
          dragStartEvent,
          touchesLength;

      if (this.disabled) {
        return;
      }

      if (touches) {
        touchesLength = touches.length;

        if (touchesLength > 1) {
          if (options.zoomable && options.touchDragZoom && touchesLength === 2) {
            e = touches[1];
            this.startX2 = e.pageX;
            this.startY2 = e.pageY;
            dragType = 'zoom';
          } else {
            return;
          }
        }

        e = touches[0];
      }

      dragType = dragType || $(e.target).data('drag');

      if (REGEXP_DRAG_TYPES.test(dragType)) {
        event.preventDefault();

        dragStartEvent = $.Event(EVENT_DRAG_START, {
          originalEvent: originalEvent,
          dragType: dragType
        });

        this.$element.trigger(dragStartEvent);

        if (dragStartEvent.isDefaultPrevented()) {
          return;
        }

        this.dragType = dragType;
        this.cropping = false;
        this.startX = e.pageX;
        this.startY = e.pageY;

        if (dragType === 'crop') {
          this.cropping = true;
          this.$dragBox.addClass(CLASS_MODAL);
        }
      }
    },

    dragmove: function (event) {
      var options = this.options,
          originalEvent = event.originalEvent,
          touches = originalEvent && originalEvent.touches,
          e = event,
          dragType = this.dragType,
          dragMoveEvent,
          touchesLength;

      if (this.disabled) {
        return;
      }

      if (touches) {
        touchesLength = touches.length;

        if (touchesLength > 1) {
          if (options.zoomable && options.touchDragZoom && touchesLength === 2) {
            e = touches[1];
            this.endX2 = e.pageX;
            this.endY2 = e.pageY;
          } else {
            return;
          }
        }

        e = touches[0];
      }

      if (dragType) {
        event.preventDefault();

        dragMoveEvent = $.Event(EVENT_DRAG_MOVE, {
          originalEvent: originalEvent,
          dragType: dragType
        });

        this.$element.trigger(dragMoveEvent);

        if (dragMoveEvent.isDefaultPrevented()) {
          return;
        }

        this.endX = e.pageX;
        this.endY = e.pageY;

        this.change(e.shiftKey);
      }
    },

    dragend: function (event) {
      var dragType = this.dragType,
          dragEndEvent;

      if (this.disabled) {
        return;
      }

      if (dragType) {
        event.preventDefault();

        dragEndEvent = $.Event(EVENT_DRAG_END, {
          originalEvent: event.originalEvent,
          dragType: dragType
        });

        this.$element.trigger(dragEndEvent);

        if (dragEndEvent.isDefaultPrevented()) {
          return;
        }

        if (this.cropping) {
          this.cropping = false;
          this.$dragBox.toggleClass(CLASS_MODAL, this.cropped && this.options.modal);
        }

        this.dragType = '';
      }
    }
  });

  $.extend(prototype, {
    crop: function () {
      if (!this.built || this.disabled) {
        return;
      }

      if (!this.cropped) {
        this.cropped = true;
        this.limitCropBox(true, true);

        if (this.options.modal) {
          this.$dragBox.addClass(CLASS_MODAL);
        }

        this.$cropBox.removeClass(CLASS_HIDDEN);
      }

      this.setCropBoxData(this.initialCropBox);
    },

    reset: function () {
      if (!this.built || this.disabled) {
        return;
      }

      this.image = $.extend({}, this.initialImage);
      this.canvas = $.extend({}, this.initialCanvas);
      this.cropBox = $.extend({}, this.initialCropBox); // required for strict mode

      this.renderCanvas();

      if (this.cropped) {
        this.renderCropBox();
      }
    },

    clear: function () {
      if (!this.cropped || this.disabled) {
        return;
      }

      $.extend(this.cropBox, {
        left: 0,
        top: 0,
        width: 0,
        height: 0
      });

      this.cropped = false;
      this.renderCropBox();

      this.limitCanvas();
      this.renderCanvas(); // Render canvas after render crop box

      this.$dragBox.removeClass(CLASS_MODAL);
      this.$cropBox.addClass(CLASS_HIDDEN);
    },

    destroy: function () {
      var $this = this.$element;

      if (this.ready) {
        this.unbuild();
        $this.removeClass(CLASS_HIDDEN);
      } else if (this.$clone) {
        this.$clone.remove();
      }

      $this.removeData('cropper');
    },

    replace: function (url) {
      if (!this.disabled && url) {
        this.options.data = null; // Remove previous data
        this.load(url);
      }
    },

    enable: function () {
      if (this.built) {
        this.disabled = false;
        this.$cropper.removeClass(CLASS_DISABLED);
      }
    },

    disable: function () {
      if (this.built) {
        this.disabled = true;
        this.$cropper.addClass(CLASS_DISABLED);
      }
    },

    move: function (offsetX, offsetY) {
      var canvas = this.canvas;

      if (this.built && !this.disabled && this.options.movable && isNumber(offsetX) && isNumber(offsetY)) {
        canvas.left += offsetX;
        canvas.top += offsetY;
        this.renderCanvas(true);
      }
    },

    zoom: function (delta) {
      var canvas = this.canvas,
          zoomEvent,
          width,
          height;

      delta = num(delta);

      if (delta && this.built && !this.disabled && this.options.zoomable) {
        zoomEvent = delta > 0 ? $.Event(EVENT_ZOOM_IN) : $.Event(EVENT_ZOOM_OUT);
        this.$element.trigger(zoomEvent);

        if (zoomEvent.isDefaultPrevented()) {
          return;
        }

        delta = delta <= -1 ? 1 / (1 - delta) : delta <= 1 ? (1 + delta) : delta;
        width = canvas.width * delta;
        height = canvas.height * delta;
        canvas.left -= (width - canvas.width) / 2;
        canvas.top -= (height - canvas.height) / 2;
        canvas.width = width;
        canvas.height = height;
        this.renderCanvas(true);
        this.setDragMode('move');
      }
    },

    rotate: function (degree) {
      var image = this.image;

      degree = num(degree);

      if (degree && this.built && !this.disabled && this.options.rotatable) {
        image.rotate = (image.rotate + degree) % 360;
        this.rotated = true;
        this.renderCanvas(true);
      }
    },

    getData: function (rounded) {
      var cropBox = this.cropBox,
          canvas = this.canvas,
          image = this.image,
          ratio,
          data;

      if (this.built && this.cropped) {
        data = {
          x: cropBox.left - canvas.left,
          y: cropBox.top - canvas.top,
          width: cropBox.width,
          height: cropBox.height
        };

        ratio = image.width / image.naturalWidth;

        $.each(data, function (i, n) {
          n = n / ratio;
          data[i] = rounded ? Math.round(n) : n;
        });

      } else {
        data = {
          x: 0,
          y: 0,
          width: 0,
          height: 0
        };
      }

      data.rotate = this.ready ? image.rotate : 0;

      return data;
    },

    setData: function (data) {
      var image = this.image,
          canvas = this.canvas,
          cropBoxData = {},
          ratio;

      if (this.built && !this.disabled && $.isPlainObject(data)) {
        if (isNumber(data.rotate) && data.rotate !== image.rotate && this.options.rotatable) {
          image.rotate = data.rotate;
          this.rotated = true;
          this.renderCanvas(true);
        }

        ratio = image.width / image.naturalWidth;

        if (isNumber(data.x)) {
          cropBoxData.left = data.x * ratio + canvas.left;
        }

        if (isNumber(data.y)) {
          cropBoxData.top = data.y * ratio + canvas.top;
        }

        if (isNumber(data.width)) {
          cropBoxData.width = data.width * ratio;
        }

        if (isNumber(data.height)) {
          cropBoxData.height = data.height * ratio;
        }

        this.setCropBoxData(cropBoxData);
      }
    },

    getContainerData: function () {
      return this.built ? this.container : {};
    },

    getImageData: function () {
      return this.ready ? this.image : {};
    },

    getCanvasData: function () {
      var canvas = this.canvas,
          data;

      if (this.built) {
        data = {
          left: canvas.left,
          top: canvas.top,
          width: canvas.width,
          height: canvas.height
        };
      }

      return data || {};
    },

    setCanvasData: function (data) {
      var canvas = this.canvas,
          aspectRatio = canvas.aspectRatio;

      if (this.built && !this.disabled && $.isPlainObject(data)) {
        if (isNumber(data.left)) {
          canvas.left = data.left;
        }

        if (isNumber(data.top)) {
          canvas.top = data.top;
        }

        if (isNumber(data.width)) {
          canvas.width = data.width;
          canvas.height = data.width / aspectRatio;
        } else if (isNumber(data.height)) {
          canvas.height = data.height;
          canvas.width = data.height * aspectRatio;
        }

        this.renderCanvas(true);
      }
    },

    getCropBoxData: function () {
      var cropBox = this.cropBox,
          data;

      if (this.built && this.cropped) {
        data = {
          left: cropBox.left,
          top: cropBox.top,
          width: cropBox.width,
          height: cropBox.height
        };
      }

      return data || {};
    },

    setCropBoxData: function (data) {
      var cropBox = this.cropBox,
          aspectRatio = this.options.aspectRatio;

      if (this.built && this.cropped && !this.disabled && $.isPlainObject(data)) {

        if (isNumber(data.left)) {
          cropBox.left = data.left;
        }

        if (isNumber(data.top)) {
          cropBox.top = data.top;
        }

        if (isNumber(data.width)) {
          cropBox.width = data.width;
        }

        if (isNumber(data.height)) {
          cropBox.height = data.height;
        }

        if (aspectRatio) {
          if (isNumber(data.width)) {
            cropBox.height = cropBox.width / aspectRatio;
          } else if (isNumber(data.height)) {
            cropBox.width = cropBox.height * aspectRatio;
          }
        }

        this.renderCropBox();
      }
    },

    getCroppedCanvas: function (options) {
      var originalWidth,
          originalHeight,
          canvasWidth,
          canvasHeight,
          scaledWidth,
          scaledHeight,
          scaledRatio,
          aspectRatio,
          canvas,
          context,
          data;

      if (!this.built || !this.cropped || !SUPPORT_CANVAS) {
        return;
      }

      if (!$.isPlainObject(options)) {
        options = {};
      }

      data = this.getData();
      originalWidth = data.width;
      originalHeight = data.height;
      aspectRatio = originalWidth / originalHeight;

      if ($.isPlainObject(options)) {
        scaledWidth = options.width;
        scaledHeight = options.height;

        if (scaledWidth) {
          scaledHeight = scaledWidth / aspectRatio;
          scaledRatio = scaledWidth / originalWidth;
        } else if (scaledHeight) {
          scaledWidth = scaledHeight * aspectRatio;
          scaledRatio = scaledHeight / originalHeight;
        }
      }

      canvasWidth = scaledWidth || originalWidth;
      canvasHeight = scaledHeight || originalHeight;

      canvas = $('<canvas>')[0];
      canvas.width = canvasWidth;
      canvas.height = canvasHeight;
      context = canvas.getContext('2d');

      if (options.fillColor) {
        context.fillStyle = options.fillColor;
        context.fillRect(0, 0, canvasWidth, canvasHeight);
      }

      // https://developer.mozilla.org/en-US/docs/Web/API/CanvasRenderingContext2D.drawImage
      context.drawImage.apply(context, (function () {
        var source = getSourceCanvas(this.$clone[0], this.image),
            sourceWidth = source.width,
            sourceHeight = source.height,
            args = [source],
            srcX = data.x, // source canvas
            srcY = data.y,
            srcWidth,
            srcHeight,
            dstX, // destination canvas
            dstY,
            dstWidth,
            dstHeight;

        if (srcX <= -originalWidth || srcX > sourceWidth) {
          srcX = srcWidth = dstX = dstWidth = 0;
        } else if (srcX <= 0) {
          dstX = -srcX;
          srcX = 0;
          srcWidth = dstWidth = min(sourceWidth, originalWidth + srcX);
        } else if (srcX <= sourceWidth) {
          dstX = 0;
          srcWidth = dstWidth = min(originalWidth, sourceWidth - srcX);
        }

        if (srcWidth <= 0 || srcY <= -originalHeight || srcY > sourceHeight) {
          srcY = srcHeight = dstY = dstHeight = 0;
        } else if (srcY <= 0) {
          dstY = -srcY;
          srcY = 0;
          srcHeight = dstHeight = min(sourceHeight, originalHeight + srcY);
        } else if (srcY <= sourceHeight) {
          dstY = 0;
          srcHeight = dstHeight = min(originalHeight, sourceHeight - srcY);
        }

        args.push(srcX, srcY, srcWidth, srcHeight);

        // Scale destination sizes
        if (scaledRatio) {
          dstX *= scaledRatio;
          dstY *= scaledRatio;
          dstWidth *= scaledRatio;
          dstHeight *= scaledRatio;
        }

        // Avoid "IndexSizeError" in IE and Firefox
        if (dstWidth > 0 && dstHeight > 0) {
          args.push(dstX, dstY, dstWidth, dstHeight);
        }

        return args;
      }).call(this));

      return canvas;
    },

    setAspectRatio: function (aspectRatio) {
      var options = this.options;

      if (!this.disabled && !isUndefined(aspectRatio)) {
        options.aspectRatio = num(aspectRatio) || NaN; // 0 -> NaN

        if (this.built) {
          this.initCropBox();

          if (this.cropped) {
            this.renderCropBox();
          }
        }
      }
    },

    setDragMode: function (mode) {
      var options = this.options,
          croppable,
          movable;

      if (this.ready && !this.disabled) {
        croppable = options.dragCrop && mode === 'crop';
        movable = options.movable && mode === 'move';
        mode = (croppable || movable) ? mode : 'none';

        this.$dragBox.data('drag', mode).toggleClass(CLASS_CROP, croppable).toggleClass(CLASS_MOVE, movable);

        if (!options.cropBoxMovable) {
          // Sync drag mode to crop box when it is not movable(#300)
          this.$face.data('drag', mode).toggleClass(CLASS_CROP, croppable).toggleClass(CLASS_MOVE, movable);
        }
      }
    }
  });

  prototype.change = function (shiftKey) {
    var dragType = this.dragType,
        options = this.options,
        canvas = this.canvas,
        container = this.container,
        cropBox = this.cropBox,
        width = cropBox.width,
        height = cropBox.height,
        left = cropBox.left,
        top = cropBox.top,
        right = left + width,
        bottom = top + height,
        minLeft = 0,
        minTop = 0,
        maxWidth = container.width,
        maxHeight = container.height,
        renderable = true,
        aspectRatio = options.aspectRatio,
        range = {
          x: this.endX - this.startX,
          y: this.endY - this.startY
        },
        offset;

    // Locking aspect ratio in "free mode" by holding shift key (#259)
    if (!aspectRatio && shiftKey) {
      aspectRatio = width && height ? width / height : 1;
    }

    if (options.strict) {
      minLeft = cropBox.minLeft;
      minTop = cropBox.minTop;
      maxWidth = minLeft + min(container.width, canvas.width);
      maxHeight = minTop + min(container.height, canvas.height);
    }

    if (aspectRatio) {
      range.X = range.y * aspectRatio;
      range.Y = range.x / aspectRatio;
    }

    switch (dragType) {
      // Move cropBox
      case 'all':
        left += range.x;
        top += range.y;
        break;

      // Resize cropBox
      case 'e':
        if (range.x >= 0 && (right >= maxWidth || aspectRatio && (top <= minTop || bottom >= maxHeight))) {
          renderable = false;
          break;
        }

        width += range.x;

        if (aspectRatio) {
          height = width / aspectRatio;
          top -= range.Y / 2;
        }

        if (width < 0) {
          dragType = 'w';
          width = 0;
        }

        break;

      case 'n':
        if (range.y <= 0 && (top <= minTop || aspectRatio && (left <= minLeft || right >= maxWidth))) {
          renderable = false;
          break;
        }

        height -= range.y;
        top += range.y;

        if (aspectRatio) {
          width = height * aspectRatio;
          left += range.X / 2;
        }

        if (height < 0) {
          dragType = 's';
          height = 0;
        }

        break;

      case 'w':
        if (range.x <= 0 && (left <= minLeft || aspectRatio && (top <= minTop || bottom >= maxHeight))) {
          renderable = false;
          break;
        }

        width -= range.x;
        left += range.x;

        if (aspectRatio) {
          height = width / aspectRatio;
          top += range.Y / 2;
        }

        if (width < 0) {
          dragType = 'e';
          width = 0;
        }

        break;

      case 's':
        if (range.y >= 0 && (bottom >= maxHeight || aspectRatio && (left <= minLeft || right >= maxWidth))) {
          renderable = false;
          break;
        }

        height += range.y;

        if (aspectRatio) {
          width = height * aspectRatio;
          left -= range.X / 2;
        }

        if (height < 0) {
          dragType = 'n';
          height = 0;
        }

        break;

      case 'ne':
        if (aspectRatio) {
          if (range.y <= 0 && (top <= minTop || right >= maxWidth)) {
            renderable = false;
            break;
          }

          height -= range.y;
          top += range.y;
          width = height * aspectRatio;
        } else {
          if (range.x >= 0) {
            if (right < maxWidth) {
              width += range.x;
            } else if (range.y <= 0 && top <= minTop) {
              renderable = false;
            }
          } else {
            width += range.x;
          }

          if (range.y <= 0) {
            if (top > minTop) {
              height -= range.y;
              top += range.y;
            }
          } else {
            height -= range.y;
            top += range.y;
          }
        }

        if (width < 0 && height < 0) {
          dragType = 'sw';
          height = 0;
          width = 0;
        } else if (width < 0) {
          dragType = 'nw';
          width = 0;
        } else if (height < 0) {
          dragType = 'se';
          height = 0;
        }

        break;

      case 'nw':
        if (aspectRatio) {
          if (range.y <= 0 && (top <= minTop || left <= minLeft)) {
            renderable = false;
            break;
          }

          height -= range.y;
          top += range.y;
          width = height * aspectRatio;
          left += range.X;
        } else {
          if (range.x <= 0) {
            if (left > minLeft) {
              width -= range.x;
              left += range.x;
            } else if (range.y <= 0 && top <= minTop) {
              renderable = false;
            }
          } else {
            width -= range.x;
            left += range.x;
          }

          if (range.y <= 0) {
            if (top > minTop) {
              height -= range.y;
              top += range.y;
            }
          } else {
            height -= range.y;
            top += range.y;
          }
        }

        if (width < 0 && height < 0) {
          dragType = 'se';
          height = 0;
          width = 0;
        } else if (width < 0) {
          dragType = 'ne';
          width = 0;
        } else if (height < 0) {
          dragType = 'sw';
          height = 0;
        }

        break;

      case 'sw':
        if (aspectRatio) {
          if (range.x <= 0 && (left <= minLeft || bottom >= maxHeight)) {
            renderable = false;
            break;
          }

          width -= range.x;
          left += range.x;
          height = width / aspectRatio;
        } else {
          if (range.x <= 0) {
            if (left > minLeft) {
              width -= range.x;
              left += range.x;
            } else if (range.y >= 0 && bottom >= maxHeight) {
              renderable = false;
            }
          } else {
            width -= range.x;
            left += range.x;
          }

          if (range.y >= 0) {
            if (bottom < maxHeight) {
              height += range.y;
            }
          } else {
            height += range.y;
          }
        }

        if (width < 0 && height < 0) {
          dragType = 'ne';
          height = 0;
          width = 0;
        } else if (width < 0) {
          dragType = 'se';
          width = 0;
        } else if (height < 0) {
          dragType = 'nw';
          height = 0;
        }

        break;

      case 'se':
        if (aspectRatio) {
          if (range.x >= 0 && (right >= maxWidth || bottom >= maxHeight)) {
            renderable = false;
            break;
          }

          width += range.x;
          height = width / aspectRatio;
        } else {
          if (range.x >= 0) {
            if (right < maxWidth) {
              width += range.x;
            } else if (range.y >= 0 && bottom >= maxHeight) {
              renderable = false;
            }
          } else {
            width += range.x;
          }

          if (range.y >= 0) {
            if (bottom < maxHeight) {
              height += range.y;
            }
          } else {
            height += range.y;
          }
        }

        if (width < 0 && height < 0) {
          dragType = 'nw';
          height = 0;
          width = 0;
        } else if (width < 0) {
          dragType = 'sw';
          width = 0;
        } else if (height < 0) {
          dragType = 'ne';
          height = 0;
        }

        break;

      // Move image
      case 'move':
        canvas.left += range.x;
        canvas.top += range.y;
        this.renderCanvas(true);
        renderable = false;
        break;

      // Scale image
      case 'zoom':
        this.zoom(function (x1, y1, x2, y2) {
          var z1 = sqrt(x1 * x1 + y1 * y1),
              z2 = sqrt(x2 * x2 + y2 * y2);

          return (z2 - z1) / z1;
        }(
          abs(this.startX - this.startX2),
          abs(this.startY - this.startY2),
          abs(this.endX - this.endX2),
          abs(this.endY - this.endY2)
        ));

        this.startX2 = this.endX2;
        this.startY2 = this.endY2;
        renderable = false;
        break;

      // Crop image
      case 'crop':
        if (range.x && range.y) {
          offset = this.$cropper.offset();
          left = this.startX - offset.left;
          top = this.startY - offset.top;
          width = cropBox.minWidth;
          height = cropBox.minHeight;

          if (range.x > 0) {
            if (range.y > 0) {
              dragType = 'se';
            } else {
              dragType = 'ne';
              top -= height;
            }
          } else {
            if (range.y > 0) {
              dragType = 'sw';
              left -= width;
            } else {
              dragType = 'nw';
              left -= width;
              top -= height;
            }
          }

          // Show the cropBox if is hidden
          if (!this.cropped) {
            this.cropped = true;
            this.$cropBox.removeClass(CLASS_HIDDEN);
          }
        }

        break;

      // No default
    }

    if (renderable) {
      cropBox.width = width;
      cropBox.height = height;
      cropBox.left = left;
      cropBox.top = top;
      this.dragType = dragType;

      this.renderCropBox();
    }

    // Override
    this.startX = this.endX;
    this.startY = this.endY;
  };

  $.extend(Cropper.prototype, prototype);

  Cropper.DEFAULTS = {
    // Defines the aspect ratio of the crop box
    // Type: Number
    aspectRatio: NaN,

    // Defines the percentage of automatic cropping area when initializes
    // Type: Number (Must large than 0 and less than 1)
    autoCropArea: 0.8, // 80%

    // Outputs the cropping results.
    // Type: Function
    crop: null,

    // Previous/latest crop data
    // Type: Object
    data: null,

    // Add extra containers for previewing
    // Type: String (jQuery selector)
    preview: '',

    // Toggles
    strict: true, // strict mode, the image cannot zoom out less than the container
    responsive: true, // Rebuild when resize the window
    checkImageOrigin: true, // Check if the target image is cross origin

    modal: true, // Show the black modal
    guides: true, // Show the dashed lines for guiding
    highlight: true, // Show the white modal to highlight the crop box
    background: true, // Show the grid background

    autoCrop: true, // Enable to crop the image automatically when initialize
    dragCrop: true, // Enable to create new crop box by dragging over the image
    movable: true, // Enable to move the image
    rotatable: true, // Enable to rotate the image
    zoomable: true, // Enable to zoom the image
    touchDragZoom: true, // Enable to zoom the image by wheeling mouse
    mouseWheelZoom: true, // Enable to zoom the image by dragging touch
    cropBoxMovable: true, // Enable to move the crop box
    cropBoxResizable: true, // Enable to resize the crop box
    doubleClickToggle: true, // Toggle drag mode between "crop" and "move" when double click on the cropper

    // Dimensions
    minCanvasWidth: 0,
    minCanvasHeight: 0,
    minCropBoxWidth: 0,
    minCropBoxHeight: 0,
    minContainerWidth: 200,
    minContainerHeight: 100,

    // Events
    build: null, // Function
    built: null, // Function
    dragstart: null, // Function
    dragmove: null, // Function
    dragend: null, // Function
    zoomin: null, // Function
    zoomout: null, // Function
    change: null // Function
  };

  Cropper.setDefaults = function (options) {
    $.extend(Cropper.DEFAULTS, options);
  };

  // Use the string compressor: Strmin (https://github.com/fengyuanchen/strmin)
  Cropper.TEMPLATE = (function (source, words) {
    words = words.split(',');
    return source.replace(/\d+/g, function (i) {
      return words[i];
    });
  })('<0 6="5-container"><0 6="5-canvas"></0><0 6="5-2-9"></0><0 6="5-crop-9"><1 6="5-view-9"></1><1 6="5-8 8-h"></1><1 6="5-8 8-v"></1><1 6="5-face"></1><1 6="5-7 7-e" 3-2="e"></1><1 6="5-7 7-n" 3-2="n"></1><1 6="5-7 7-w" 3-2="w"></1><1 6="5-7 7-s" 3-2="s"></1><1 6="5-4 4-e" 3-2="e"></1><1 6="5-4 4-n" 3-2="n"></1><1 6="5-4 4-w" 3-2="w"></1><1 6="5-4 4-s" 3-2="s"></1><1 6="5-4 4-ne" 3-2="ne"></1><1 6="5-4 4-nw" 3-2="nw"></1><1 6="5-4 4-sw" 3-2="sw"></1><1 6="5-4 4-se" 3-2="se"></1></0></0>', 'div,span,drag,data,point,cropper,class,line,dashed,box');

  /* Template source:
  <div class="cropper-container">
    <div class="cropper-canvas"></div>
    <div class="cropper-drag-box"></div>
    <div class="cropper-crop-box">
      <span class="cropper-view-box"></span>
      <span class="cropper-dashed dashed-h"></span>
      <span class="cropper-dashed dashed-v"></span>
      <span class="cropper-face"></span>
      <span class="cropper-line line-e" data-drag="e"></span>
      <span class="cropper-line line-n" data-drag="n"></span>
      <span class="cropper-line line-w" data-drag="w"></span>
      <span class="cropper-line line-s" data-drag="s"></span>
      <span class="cropper-point point-e" data-drag="e"></span>
      <span class="cropper-point point-n" data-drag="n"></span>
      <span class="cropper-point point-w" data-drag="w"></span>
      <span class="cropper-point point-s" data-drag="s"></span>
      <span class="cropper-point point-ne" data-drag="ne"></span>
      <span class="cropper-point point-nw" data-drag="nw"></span>
      <span class="cropper-point point-sw" data-drag="sw"></span>
      <span class="cropper-point point-se" data-drag="se"></span>
    </div>
  </div>
  */

  // Save the other cropper
  Cropper.other = $.fn.cropper;

  // Register as jQuery plugin
  $.fn.cropper = function (options) {
    var args = toArray(arguments, 1),
        result;

    this.each(function () {
      var $this = $(this),
          data = $this.data('cropper'),
          fn;

      if (!data) {
        $this.data('cropper', (data = new Cropper(this, options)));
      }

      if (typeof options === 'string' && $.isFunction((fn = data[options]))) {
        result = fn.apply(data, args);
      }
    });

    return isUndefined(result) ? this : result;
  };

  $.fn.cropper.Constructor = Cropper;
  $.fn.cropper.setDefaults = Cropper.setDefaults;

  // No conflict
  $.fn.cropper.noConflict = function () {
    $.fn.cropper = Cropper.other;
    return this;
  };

});
(function() {
'use strict';

angular.module('ngCropper', ['ng'])
.directive('ngCropper', ['$q', '$parse', function($q, $parse) {
  return {
    restrict: 'A',
    scope: {
      options: '=ngCropperOptions',
      proxy: '=ngCropperProxy', // Optional.
      showEvent: '=ngCropperShow',
      hideEvent: '=ngCropperHide'
    },
    link: function(scope, element, atts) {
      var shown = false;

      scope.$on(scope.showEvent, function() {
        if (shown) return;
        shown = true;

        preprocess(scope.options, element[0])
          .then(function(options) {
            setProxy(element);
            element.cropper(options);
          })
      });

      function setProxy(element) {
        if (!scope.proxy) return;
        var setter = $parse(scope.proxy).assign;
        setter(scope.$parent, element.cropper.bind(element));
      }

      scope.$on(scope.hideEvent, function() {
        if (!shown) return;
        shown = false;
        element.cropper('destroy');
      });

      scope.$watch('options.disabled', function(disabled) {
        if (!shown) return;
        if (disabled) element.cropper('disable');
        if (!disabled) element.cropper('enable');
      });
    }
  };

  function preprocess(options, img) {
    options = options || {};
    var result = $q.when(options); // No changes.
    if (options.maximize) {
      result = maximizeSelection(options, img);
    }
    return result;
  }

  /**
   * Change options to make selection maximum for the image.
   * fengyuanchen/cropper calculates valid selection's height & width
   * with respect to `aspectRatio`.
   */
  function maximizeSelection(options, img) {
    return getRealSize(img).then(function(size) {
      options.data = size;
      return options;
    });
  }

  /**
   * Returns real image size (without changes by css, attributes).
   */
  function getRealSize(img) {
    var defer = $q.defer();
    var size = {height: null, width: null};
    var image = new Image();

    image.onload = function() {
      defer.resolve({width: image.width, height: image.height});
    }

    image.src = img.src;
    return defer.promise;
  }
}])
.service('Cropper', ['$q', function($q) {

  this.encode = function(blob) {
    var defer = $q.defer();
    var reader = new FileReader();
    reader.onload = function(e) {
      defer.resolve(e.target.result);
    };
    reader.readAsDataURL(blob);
    return defer.promise;
  };

  this.decode = function(dataUrl) {
    var meta = dataUrl.split(';')[0];
    var type = meta.split(':')[1];
    var binary = atob(dataUrl.split(',')[1]);
    var array = new Uint8Array(binary.length);
    for (var i = 0; i < binary.length; i++) {
        array[i] = binary.charCodeAt(i);
    }
    return new Blob([array], {type: type});
  };

  this.crop = function(file, data) {
    var _decodeBlob = this.decode;
    return this.encode(file).then(_createImage).then(function(image) {
      var canvas = createCanvas(data);
      var context = canvas.getContext('2d');

      context.drawImage(image, data.x, data.y, data.width, data.height, 0, 0, data.width, data.height);

      var encoded = canvas.toDataURL(file.type);
      removeElement(canvas);

      return _decodeBlob(encoded);
    });
  };

  this.scale = function(file, data) {
    var _decodeBlob = this.decode;
    return this.encode(file).then(_createImage).then(function(image) {
      var heightOrig = image.height;
      var widthOrig = image.width;
      var ratio, height, width;

      if (angular.isNumber(data)) {
        ratio = data;
        height = heightOrig * ratio;
        width = widthOrig * ratio;
      }

      if (angular.isObject(data)) {
        ratio = widthOrig / heightOrig;
        height = data.height;
        width = data.width;

        if (height && !width)
          width = height * ratio;
        else if (width && !height)
          height = width / ratio;
      }

      var canvas = createCanvas(data);
      var context = canvas.getContext('2d');

      canvas.height = height;
      canvas.width = width;

      context.drawImage(image, 0, 0, widthOrig, heightOrig, 0, 0, width, height);

      var encoded = canvas.toDataURL(file.type);
      removeElement(canvas);

      return _decodeBlob(encoded);
    });
  };


  function _createImage(source) {
    var defer = $q.defer();
    var image = new Image();
    image.onload = function(e) { defer.resolve(e.target); };
    image.src = source;
    return defer.promise;
  }

  function createCanvas(data) {
    var canvas = document.createElement('canvas');
    canvas.width = data.width;
    canvas.height = data.height;
    canvas.style.display = 'none';
    document.body.appendChild(canvas);
    return canvas;
  }

  function removeElement(el) {
    el.parentElement.removeChild(el);
  }

}]);

})();

},{"jquery":"jquery"}],"/Users/cescwang/program/sil/SIL-frontend/node_modules/sweetalert/lib/modules/default-params.js":[function(require,module,exports){
'use strict';

Object.defineProperty(exports, '__esModule', {
  value: true
});
var defaultParams = {
  title: '',
  text: '',
  type: null,
  allowOutsideClick: false,
  showConfirmButton: true,
  showCancelButton: false,
  closeOnConfirm: true,
  closeOnCancel: true,
  confirmButtonText: 'OK',
  confirmButtonColor: '#8CD4F5',
  cancelButtonText: 'Cancel',
  imageUrl: null,
  imageSize: null,
  timer: null,
  customClass: '',
  html: false,
  animation: true,
  allowEscapeKey: true,
  inputType: 'text',
  inputPlaceholder: '',
  inputValue: '',
  showLoaderOnConfirm: false
};

exports['default'] = defaultParams;
module.exports = exports['default'];
},{}],"/Users/cescwang/program/sil/SIL-frontend/node_modules/sweetalert/lib/modules/handle-click.js":[function(require,module,exports){
'use strict';

Object.defineProperty(exports, '__esModule', {
  value: true
});

var _colorLuminance = require('./utils');

var _getModal = require('./handle-swal-dom');

var _hasClass$isDescendant = require('./handle-dom');

/*
 * User clicked on "Confirm"/"OK" or "Cancel"
 */
var handleButton = function handleButton(event, params, modal) {
  var e = event || window.event;
  var target = e.target || e.srcElement;

  var targetedConfirm = target.className.indexOf('confirm') !== -1;
  var targetedOverlay = target.className.indexOf('sweet-overlay') !== -1;
  var modalIsVisible = _hasClass$isDescendant.hasClass(modal, 'visible');
  var doneFunctionExists = params.doneFunction && modal.getAttribute('data-has-done-function') === 'true';

  // Since the user can change the background-color of the confirm button programmatically,
  // we must calculate what the color should be on hover/active
  var normalColor, hoverColor, activeColor;
  if (targetedConfirm && params.confirmButtonColor) {
    normalColor = params.confirmButtonColor;
    hoverColor = _colorLuminance.colorLuminance(normalColor, -0.04);
    activeColor = _colorLuminance.colorLuminance(normalColor, -0.14);
  }

  function shouldSetConfirmButtonColor(color) {
    if (targetedConfirm && params.confirmButtonColor) {
      target.style.backgroundColor = color;
    }
  }

  switch (e.type) {
    case 'mouseover':
      shouldSetConfirmButtonColor(hoverColor);
      break;

    case 'mouseout':
      shouldSetConfirmButtonColor(normalColor);
      break;

    case 'mousedown':
      shouldSetConfirmButtonColor(activeColor);
      break;

    case 'mouseup':
      shouldSetConfirmButtonColor(hoverColor);
      break;

    case 'focus':
      var $confirmButton = modal.querySelector('button.confirm');
      var $cancelButton = modal.querySelector('button.cancel');

      if (targetedConfirm) {
        $cancelButton.style.boxShadow = 'none';
      } else {
        $confirmButton.style.boxShadow = 'none';
      }
      break;

    case 'click':
      var clickedOnModal = modal === target;
      var clickedOnModalChild = _hasClass$isDescendant.isDescendant(modal, target);

      // Ignore click outside if allowOutsideClick is false
      if (!clickedOnModal && !clickedOnModalChild && modalIsVisible && !params.allowOutsideClick) {
        break;
      }

      if (targetedConfirm && doneFunctionExists && modalIsVisible) {
        handleConfirm(modal, params);
      } else if (doneFunctionExists && modalIsVisible || targetedOverlay) {
        handleCancel(modal, params);
      } else if (_hasClass$isDescendant.isDescendant(modal, target) && target.tagName === 'BUTTON') {
        sweetAlert.close();
      }
      break;
  }
};

/*
 *  User clicked on "Confirm"/"OK"
 */
var handleConfirm = function handleConfirm(modal, params) {
  var callbackValue = true;

  if (_hasClass$isDescendant.hasClass(modal, 'show-input')) {
    callbackValue = modal.querySelector('input').value;

    if (!callbackValue) {
      callbackValue = '';
    }
  }

  params.doneFunction(callbackValue);

  if (params.closeOnConfirm) {
    sweetAlert.close();
  }
  // Disable cancel and confirm button if the parameter is true
  if (params.showLoaderOnConfirm) {
    sweetAlert.disableButtons();
  }
};

/*
 *  User clicked on "Cancel"
 */
var handleCancel = function handleCancel(modal, params) {
  // Check if callback function expects a parameter (to track cancel actions)
  var functionAsStr = String(params.doneFunction).replace(/\s/g, '');
  var functionHandlesCancel = functionAsStr.substring(0, 9) === 'function(' && functionAsStr.substring(9, 10) !== ')';

  if (functionHandlesCancel) {
    params.doneFunction(false);
  }

  if (params.closeOnCancel) {
    sweetAlert.close();
  }
};

exports['default'] = {
  handleButton: handleButton,
  handleConfirm: handleConfirm,
  handleCancel: handleCancel
};
module.exports = exports['default'];
},{"./handle-dom":"/Users/cescwang/program/sil/SIL-frontend/node_modules/sweetalert/lib/modules/handle-dom.js","./handle-swal-dom":"/Users/cescwang/program/sil/SIL-frontend/node_modules/sweetalert/lib/modules/handle-swal-dom.js","./utils":"/Users/cescwang/program/sil/SIL-frontend/node_modules/sweetalert/lib/modules/utils.js"}],"/Users/cescwang/program/sil/SIL-frontend/node_modules/sweetalert/lib/modules/handle-dom.js":[function(require,module,exports){
'use strict';

Object.defineProperty(exports, '__esModule', {
  value: true
});
var hasClass = function hasClass(elem, className) {
  return new RegExp(' ' + className + ' ').test(' ' + elem.className + ' ');
};

var addClass = function addClass(elem, className) {
  if (!hasClass(elem, className)) {
    elem.className += ' ' + className;
  }
};

var removeClass = function removeClass(elem, className) {
  var newClass = ' ' + elem.className.replace(/[\t\r\n]/g, ' ') + ' ';
  if (hasClass(elem, className)) {
    while (newClass.indexOf(' ' + className + ' ') >= 0) {
      newClass = newClass.replace(' ' + className + ' ', ' ');
    }
    elem.className = newClass.replace(/^\s+|\s+$/g, '');
  }
};

var escapeHtml = function escapeHtml(str) {
  var div = document.createElement('div');
  div.appendChild(document.createTextNode(str));
  return div.innerHTML;
};

var _show = function _show(elem) {
  elem.style.opacity = '';
  elem.style.display = 'block';
};

var show = function show(elems) {
  if (elems && !elems.length) {
    return _show(elems);
  }
  for (var i = 0; i < elems.length; ++i) {
    _show(elems[i]);
  }
};

var _hide = function _hide(elem) {
  elem.style.opacity = '';
  elem.style.display = 'none';
};

var hide = function hide(elems) {
  if (elems && !elems.length) {
    return _hide(elems);
  }
  for (var i = 0; i < elems.length; ++i) {
    _hide(elems[i]);
  }
};

var isDescendant = function isDescendant(parent, child) {
  var node = child.parentNode;
  while (node !== null) {
    if (node === parent) {
      return true;
    }
    node = node.parentNode;
  }
  return false;
};

var getTopMargin = function getTopMargin(elem) {
  elem.style.left = '-9999px';
  elem.style.display = 'block';

  var height = elem.clientHeight,
      padding;
  if (typeof getComputedStyle !== 'undefined') {
    // IE 8
    padding = parseInt(getComputedStyle(elem).getPropertyValue('padding-top'), 10);
  } else {
    padding = parseInt(elem.currentStyle.padding);
  }

  elem.style.left = '';
  elem.style.display = 'none';
  return '-' + parseInt((height + padding) / 2) + 'px';
};

var fadeIn = function fadeIn(elem, interval) {
  if (+elem.style.opacity < 1) {
    interval = interval || 16;
    elem.style.opacity = 0;
    elem.style.display = 'block';
    var last = +new Date();
    var tick = (function (_tick) {
      function tick() {
        return _tick.apply(this, arguments);
      }

      tick.toString = function () {
        return _tick.toString();
      };

      return tick;
    })(function () {
      elem.style.opacity = +elem.style.opacity + (new Date() - last) / 100;
      last = +new Date();

      if (+elem.style.opacity < 1) {
        setTimeout(tick, interval);
      }
    });
    tick();
  }
  elem.style.display = 'block'; //fallback IE8
};

var fadeOut = function fadeOut(elem, interval) {
  interval = interval || 16;
  elem.style.opacity = 1;
  var last = +new Date();
  var tick = (function (_tick2) {
    function tick() {
      return _tick2.apply(this, arguments);
    }

    tick.toString = function () {
      return _tick2.toString();
    };

    return tick;
  })(function () {
    elem.style.opacity = +elem.style.opacity - (new Date() - last) / 100;
    last = +new Date();

    if (+elem.style.opacity > 0) {
      setTimeout(tick, interval);
    } else {
      elem.style.display = 'none';
    }
  });
  tick();
};

var fireClick = function fireClick(node) {
  // Taken from http://www.nonobtrusive.com/2011/11/29/programatically-fire-crossbrowser-click-event-with-javascript/
  // Then fixed for today's Chrome browser.
  if (typeof MouseEvent === 'function') {
    // Up-to-date approach
    var mevt = new MouseEvent('click', {
      view: window,
      bubbles: false,
      cancelable: true
    });
    node.dispatchEvent(mevt);
  } else if (document.createEvent) {
    // Fallback
    var evt = document.createEvent('MouseEvents');
    evt.initEvent('click', false, false);
    node.dispatchEvent(evt);
  } else if (document.createEventObject) {
    node.fireEvent('onclick');
  } else if (typeof node.onclick === 'function') {
    node.onclick();
  }
};

var stopEventPropagation = function stopEventPropagation(e) {
  // In particular, make sure the space bar doesn't scroll the main window.
  if (typeof e.stopPropagation === 'function') {
    e.stopPropagation();
    e.preventDefault();
  } else if (window.event && window.event.hasOwnProperty('cancelBubble')) {
    window.event.cancelBubble = true;
  }
};

exports.hasClass = hasClass;
exports.addClass = addClass;
exports.removeClass = removeClass;
exports.escapeHtml = escapeHtml;
exports._show = _show;
exports.show = show;
exports._hide = _hide;
exports.hide = hide;
exports.isDescendant = isDescendant;
exports.getTopMargin = getTopMargin;
exports.fadeIn = fadeIn;
exports.fadeOut = fadeOut;
exports.fireClick = fireClick;
exports.stopEventPropagation = stopEventPropagation;
},{}],"/Users/cescwang/program/sil/SIL-frontend/node_modules/sweetalert/lib/modules/handle-key.js":[function(require,module,exports){
'use strict';

Object.defineProperty(exports, '__esModule', {
  value: true
});

var _stopEventPropagation$fireClick = require('./handle-dom');

var _setFocusStyle = require('./handle-swal-dom');

var handleKeyDown = function handleKeyDown(event, params, modal) {
  var e = event || window.event;
  var keyCode = e.keyCode || e.which;

  var $okButton = modal.querySelector('button.confirm');
  var $cancelButton = modal.querySelector('button.cancel');
  var $modalButtons = modal.querySelectorAll('button[tabindex]');

  if ([9, 13, 32, 27].indexOf(keyCode) === -1) {
    // Don't do work on keys we don't care about.
    return;
  }

  var $targetElement = e.target || e.srcElement;

  var btnIndex = -1; // Find the button - note, this is a nodelist, not an array.
  for (var i = 0; i < $modalButtons.length; i++) {
    if ($targetElement === $modalButtons[i]) {
      btnIndex = i;
      break;
    }
  }

  if (keyCode === 9) {
    // TAB
    if (btnIndex === -1) {
      // No button focused. Jump to the confirm button.
      $targetElement = $okButton;
    } else {
      // Cycle to the next button
      if (btnIndex === $modalButtons.length - 1) {
        $targetElement = $modalButtons[0];
      } else {
        $targetElement = $modalButtons[btnIndex + 1];
      }
    }

    _stopEventPropagation$fireClick.stopEventPropagation(e);
    $targetElement.focus();

    if (params.confirmButtonColor) {
      _setFocusStyle.setFocusStyle($targetElement, params.confirmButtonColor);
    }
  } else {
    if (keyCode === 13) {
      if ($targetElement.tagName === 'INPUT') {
        $targetElement = $okButton;
        $okButton.focus();
      }

      if (btnIndex === -1) {
        // ENTER/SPACE clicked outside of a button.
        $targetElement = $okButton;
      } else {
        // Do nothing - let the browser handle it.
        $targetElement = undefined;
      }
    } else if (keyCode === 27 && params.allowEscapeKey === true) {
      $targetElement = $cancelButton;
      _stopEventPropagation$fireClick.fireClick($targetElement, e);
    } else {
      // Fallback - let the browser handle it.
      $targetElement = undefined;
    }
  }
};

exports['default'] = handleKeyDown;
module.exports = exports['default'];
},{"./handle-dom":"/Users/cescwang/program/sil/SIL-frontend/node_modules/sweetalert/lib/modules/handle-dom.js","./handle-swal-dom":"/Users/cescwang/program/sil/SIL-frontend/node_modules/sweetalert/lib/modules/handle-swal-dom.js"}],"/Users/cescwang/program/sil/SIL-frontend/node_modules/sweetalert/lib/modules/handle-swal-dom.js":[function(require,module,exports){
'use strict';

var _interopRequireWildcard = function (obj) { return obj && obj.__esModule ? obj : { 'default': obj }; };

Object.defineProperty(exports, '__esModule', {
  value: true
});

var _hexToRgb = require('./utils');

var _removeClass$getTopMargin$fadeIn$show$addClass = require('./handle-dom');

var _defaultParams = require('./default-params');

var _defaultParams2 = _interopRequireWildcard(_defaultParams);

/*
 * Add modal + overlay to DOM
 */

var _injectedHTML = require('./injected-html');

var _injectedHTML2 = _interopRequireWildcard(_injectedHTML);

var modalClass = '.sweet-alert';
var overlayClass = '.sweet-overlay';

var sweetAlertInitialize = function sweetAlertInitialize() {
  var sweetWrap = document.createElement('div');
  sweetWrap.innerHTML = _injectedHTML2['default'];

  // Append elements to body
  while (sweetWrap.firstChild) {
    document.body.appendChild(sweetWrap.firstChild);
  }
};

/*
 * Get DOM element of modal
 */
var getModal = (function (_getModal) {
  function getModal() {
    return _getModal.apply(this, arguments);
  }

  getModal.toString = function () {
    return _getModal.toString();
  };

  return getModal;
})(function () {
  var $modal = document.querySelector(modalClass);

  if (!$modal) {
    sweetAlertInitialize();
    $modal = getModal();
  }

  return $modal;
});

/*
 * Get DOM element of input (in modal)
 */
var getInput = function getInput() {
  var $modal = getModal();
  if ($modal) {
    return $modal.querySelector('input');
  }
};

/*
 * Get DOM element of overlay
 */
var getOverlay = function getOverlay() {
  return document.querySelector(overlayClass);
};

/*
 * Add box-shadow style to button (depending on its chosen bg-color)
 */
var setFocusStyle = function setFocusStyle($button, bgColor) {
  var rgbColor = _hexToRgb.hexToRgb(bgColor);
  $button.style.boxShadow = '0 0 2px rgba(' + rgbColor + ', 0.8), inset 0 0 0 1px rgba(0, 0, 0, 0.05)';
};

/*
 * Animation when opening modal
 */
var openModal = function openModal(callback) {
  var $modal = getModal();
  _removeClass$getTopMargin$fadeIn$show$addClass.fadeIn(getOverlay(), 10);
  _removeClass$getTopMargin$fadeIn$show$addClass.show($modal);
  _removeClass$getTopMargin$fadeIn$show$addClass.addClass($modal, 'showSweetAlert');
  _removeClass$getTopMargin$fadeIn$show$addClass.removeClass($modal, 'hideSweetAlert');

  window.previousActiveElement = document.activeElement;
  var $okButton = $modal.querySelector('button.confirm');
  $okButton.focus();

  setTimeout(function () {
    _removeClass$getTopMargin$fadeIn$show$addClass.addClass($modal, 'visible');
  }, 500);

  var timer = $modal.getAttribute('data-timer');

  if (timer !== 'null' && timer !== '') {
    var timerCallback = callback;
    $modal.timeout = setTimeout(function () {
      var doneFunctionExists = (timerCallback || null) && $modal.getAttribute('data-has-done-function') === 'true';
      if (doneFunctionExists) {
        timerCallback(null);
      } else {
        sweetAlert.close();
      }
    }, timer);
  }
};

/*
 * Reset the styling of the input
 * (for example if errors have been shown)
 */
var resetInput = function resetInput() {
  var $modal = getModal();
  var $input = getInput();

  _removeClass$getTopMargin$fadeIn$show$addClass.removeClass($modal, 'show-input');
  $input.value = _defaultParams2['default'].inputValue;
  $input.setAttribute('type', _defaultParams2['default'].inputType);
  $input.setAttribute('placeholder', _defaultParams2['default'].inputPlaceholder);

  resetInputError();
};

var resetInputError = function resetInputError(event) {
  // If press enter => ignore
  if (event && event.keyCode === 13) {
    return false;
  }

  var $modal = getModal();

  var $errorIcon = $modal.querySelector('.sa-input-error');
  _removeClass$getTopMargin$fadeIn$show$addClass.removeClass($errorIcon, 'show');

  var $errorContainer = $modal.querySelector('.sa-error-container');
  _removeClass$getTopMargin$fadeIn$show$addClass.removeClass($errorContainer, 'show');
};

/*
 * Set "margin-top"-property on modal based on its computed height
 */
var fixVerticalPosition = function fixVerticalPosition() {
  var $modal = getModal();
  $modal.style.marginTop = _removeClass$getTopMargin$fadeIn$show$addClass.getTopMargin(getModal());
};

exports.sweetAlertInitialize = sweetAlertInitialize;
exports.getModal = getModal;
exports.getOverlay = getOverlay;
exports.getInput = getInput;
exports.setFocusStyle = setFocusStyle;
exports.openModal = openModal;
exports.resetInput = resetInput;
exports.resetInputError = resetInputError;
exports.fixVerticalPosition = fixVerticalPosition;
},{"./default-params":"/Users/cescwang/program/sil/SIL-frontend/node_modules/sweetalert/lib/modules/default-params.js","./handle-dom":"/Users/cescwang/program/sil/SIL-frontend/node_modules/sweetalert/lib/modules/handle-dom.js","./injected-html":"/Users/cescwang/program/sil/SIL-frontend/node_modules/sweetalert/lib/modules/injected-html.js","./utils":"/Users/cescwang/program/sil/SIL-frontend/node_modules/sweetalert/lib/modules/utils.js"}],"/Users/cescwang/program/sil/SIL-frontend/node_modules/sweetalert/lib/modules/injected-html.js":[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
var injectedHTML =

// Dark overlay
"<div class=\"sweet-overlay\" tabIndex=\"-1\"></div>" +

// Modal
"<div class=\"sweet-alert\">" +

// Error icon
"<div class=\"sa-icon sa-error\">\n      <span class=\"sa-x-mark\">\n        <span class=\"sa-line sa-left\"></span>\n        <span class=\"sa-line sa-right\"></span>\n      </span>\n    </div>" +

// Warning icon
"<div class=\"sa-icon sa-warning\">\n      <span class=\"sa-body\"></span>\n      <span class=\"sa-dot\"></span>\n    </div>" +

// Info icon
"<div class=\"sa-icon sa-info\"></div>" +

// Success icon
"<div class=\"sa-icon sa-success\">\n      <span class=\"sa-line sa-tip\"></span>\n      <span class=\"sa-line sa-long\"></span>\n\n      <div class=\"sa-placeholder\"></div>\n      <div class=\"sa-fix\"></div>\n    </div>" + "<div class=\"sa-icon sa-custom\"></div>" +

// Title, text and input
"<h2>Title</h2>\n    <p>Text</p>\n    <fieldset>\n      <input type=\"text\" tabIndex=\"3\" />\n      <div class=\"sa-input-error\"></div>\n    </fieldset>" +

// Input errors
"<div class=\"sa-error-container\">\n      <div class=\"icon\">!</div>\n      <p>Not valid!</p>\n    </div>" +

// Cancel and confirm buttons
"<div class=\"sa-button-container\">\n      <button class=\"cancel\" tabIndex=\"2\">Cancel</button>\n      <div class=\"sa-confirm-button-container\">\n        <button class=\"confirm\" tabIndex=\"1\">OK</button>" +

// Loading animation
"<div class=\"la-ball-fall\">\n          <div></div>\n          <div></div>\n          <div></div>\n        </div>\n      </div>\n    </div>" +

// End of modal
"</div>";

exports["default"] = injectedHTML;
module.exports = exports["default"];
},{}],"/Users/cescwang/program/sil/SIL-frontend/node_modules/sweetalert/lib/modules/set-params.js":[function(require,module,exports){
'use strict';

Object.defineProperty(exports, '__esModule', {
  value: true
});

var _isIE8 = require('./utils');

var _getModal$getInput$setFocusStyle = require('./handle-swal-dom');

var _hasClass$addClass$removeClass$escapeHtml$_show$show$_hide$hide = require('./handle-dom');

var alertTypes = ['error', 'warning', 'info', 'success', 'input', 'prompt'];

/*
 * Set type, text and actions on modal
 */
var setParameters = function setParameters(params) {
  var modal = _getModal$getInput$setFocusStyle.getModal();

  var $title = modal.querySelector('h2');
  var $text = modal.querySelector('p');
  var $cancelBtn = modal.querySelector('button.cancel');
  var $confirmBtn = modal.querySelector('button.confirm');

  /*
   * Title
   */
  $title.innerHTML = params.html ? params.title : _hasClass$addClass$removeClass$escapeHtml$_show$show$_hide$hide.escapeHtml(params.title).split('\n').join('<br>');

  /*
   * Text
   */
  $text.innerHTML = params.html ? params.text : _hasClass$addClass$removeClass$escapeHtml$_show$show$_hide$hide.escapeHtml(params.text || '').split('\n').join('<br>');
  if (params.text) _hasClass$addClass$removeClass$escapeHtml$_show$show$_hide$hide.show($text);

  /*
   * Custom class
   */
  if (params.customClass) {
    _hasClass$addClass$removeClass$escapeHtml$_show$show$_hide$hide.addClass(modal, params.customClass);
    modal.setAttribute('data-custom-class', params.customClass);
  } else {
    // Find previously set classes and remove them
    var customClass = modal.getAttribute('data-custom-class');
    _hasClass$addClass$removeClass$escapeHtml$_show$show$_hide$hide.removeClass(modal, customClass);
    modal.setAttribute('data-custom-class', '');
  }

  /*
   * Icon
   */
  _hasClass$addClass$removeClass$escapeHtml$_show$show$_hide$hide.hide(modal.querySelectorAll('.sa-icon'));

  if (params.type && !_isIE8.isIE8()) {
    var _ret = (function () {

      var validType = false;

      for (var i = 0; i < alertTypes.length; i++) {
        if (params.type === alertTypes[i]) {
          validType = true;
          break;
        }
      }

      if (!validType) {
        logStr('Unknown alert type: ' + params.type);
        return {
          v: false
        };
      }

      var typesWithIcons = ['success', 'error', 'warning', 'info'];
      var $icon = undefined;

      if (typesWithIcons.indexOf(params.type) !== -1) {
        $icon = modal.querySelector('.sa-icon.' + 'sa-' + params.type);
        _hasClass$addClass$removeClass$escapeHtml$_show$show$_hide$hide.show($icon);
      }

      var $input = _getModal$getInput$setFocusStyle.getInput();

      // Animate icon
      switch (params.type) {

        case 'success':
          _hasClass$addClass$removeClass$escapeHtml$_show$show$_hide$hide.addClass($icon, 'animate');
          _hasClass$addClass$removeClass$escapeHtml$_show$show$_hide$hide.addClass($icon.querySelector('.sa-tip'), 'animateSuccessTip');
          _hasClass$addClass$removeClass$escapeHtml$_show$show$_hide$hide.addClass($icon.querySelector('.sa-long'), 'animateSuccessLong');
          break;

        case 'error':
          _hasClass$addClass$removeClass$escapeHtml$_show$show$_hide$hide.addClass($icon, 'animateErrorIcon');
          _hasClass$addClass$removeClass$escapeHtml$_show$show$_hide$hide.addClass($icon.querySelector('.sa-x-mark'), 'animateXMark');
          break;

        case 'warning':
          _hasClass$addClass$removeClass$escapeHtml$_show$show$_hide$hide.addClass($icon, 'pulseWarning');
          _hasClass$addClass$removeClass$escapeHtml$_show$show$_hide$hide.addClass($icon.querySelector('.sa-body'), 'pulseWarningIns');
          _hasClass$addClass$removeClass$escapeHtml$_show$show$_hide$hide.addClass($icon.querySelector('.sa-dot'), 'pulseWarningIns');
          break;

        case 'input':
        case 'prompt':
          $input.setAttribute('type', params.inputType);
          $input.value = params.inputValue;
          $input.setAttribute('placeholder', params.inputPlaceholder);
          _hasClass$addClass$removeClass$escapeHtml$_show$show$_hide$hide.addClass(modal, 'show-input');
          setTimeout(function () {
            $input.focus();
            $input.addEventListener('keyup', swal.resetInputError);
          }, 400);
          break;
      }
    })();

    if (typeof _ret === 'object') {
      return _ret.v;
    }
  }

  /*
   * Custom image
   */
  if (params.imageUrl) {
    var $customIcon = modal.querySelector('.sa-icon.sa-custom');

    $customIcon.style.backgroundImage = 'url(' + params.imageUrl + ')';
    _hasClass$addClass$removeClass$escapeHtml$_show$show$_hide$hide.show($customIcon);

    var _imgWidth = 80;
    var _imgHeight = 80;

    if (params.imageSize) {
      var dimensions = params.imageSize.toString().split('x');
      var imgWidth = dimensions[0];
      var imgHeight = dimensions[1];

      if (!imgWidth || !imgHeight) {
        logStr('Parameter imageSize expects value with format WIDTHxHEIGHT, got ' + params.imageSize);
      } else {
        _imgWidth = imgWidth;
        _imgHeight = imgHeight;
      }
    }

    $customIcon.setAttribute('style', $customIcon.getAttribute('style') + 'width:' + _imgWidth + 'px; height:' + _imgHeight + 'px');
  }

  /*
   * Show cancel button?
   */
  modal.setAttribute('data-has-cancel-button', params.showCancelButton);
  if (params.showCancelButton) {
    $cancelBtn.style.display = 'inline-block';
  } else {
    _hasClass$addClass$removeClass$escapeHtml$_show$show$_hide$hide.hide($cancelBtn);
  }

  /*
   * Show confirm button?
   */
  modal.setAttribute('data-has-confirm-button', params.showConfirmButton);
  if (params.showConfirmButton) {
    $confirmBtn.style.display = 'inline-block';
  } else {
    _hasClass$addClass$removeClass$escapeHtml$_show$show$_hide$hide.hide($confirmBtn);
  }

  /*
   * Custom text on cancel/confirm buttons
   */
  if (params.cancelButtonText) {
    $cancelBtn.innerHTML = _hasClass$addClass$removeClass$escapeHtml$_show$show$_hide$hide.escapeHtml(params.cancelButtonText);
  }
  if (params.confirmButtonText) {
    $confirmBtn.innerHTML = _hasClass$addClass$removeClass$escapeHtml$_show$show$_hide$hide.escapeHtml(params.confirmButtonText);
  }

  /*
   * Custom color on confirm button
   */
  if (params.confirmButtonColor) {
    // Set confirm button to selected background color
    $confirmBtn.style.backgroundColor = params.confirmButtonColor;

    // Set the confirm button color to the loading ring
    $confirmBtn.style.borderLeftColor = params.confirmLoadingButtonColor;
    $confirmBtn.style.borderRightColor = params.confirmLoadingButtonColor;

    // Set box-shadow to default focused button
    _getModal$getInput$setFocusStyle.setFocusStyle($confirmBtn, params.confirmButtonColor);
  }

  /*
   * Allow outside click
   */
  modal.setAttribute('data-allow-outside-click', params.allowOutsideClick);

  /*
   * Callback function
   */
  var hasDoneFunction = params.doneFunction ? true : false;
  modal.setAttribute('data-has-done-function', hasDoneFunction);

  /*
   * Animation
   */
  if (!params.animation) {
    modal.setAttribute('data-animation', 'none');
  } else if (typeof params.animation === 'string') {
    modal.setAttribute('data-animation', params.animation); // Custom animation
  } else {
    modal.setAttribute('data-animation', 'pop');
  }

  /*
   * Timer
   */
  modal.setAttribute('data-timer', params.timer);
};

exports['default'] = setParameters;
module.exports = exports['default'];
},{"./handle-dom":"/Users/cescwang/program/sil/SIL-frontend/node_modules/sweetalert/lib/modules/handle-dom.js","./handle-swal-dom":"/Users/cescwang/program/sil/SIL-frontend/node_modules/sweetalert/lib/modules/handle-swal-dom.js","./utils":"/Users/cescwang/program/sil/SIL-frontend/node_modules/sweetalert/lib/modules/utils.js"}],"/Users/cescwang/program/sil/SIL-frontend/node_modules/sweetalert/lib/modules/utils.js":[function(require,module,exports){
'use strict';

Object.defineProperty(exports, '__esModule', {
  value: true
});
/*
 * Allow user to pass their own params
 */
var extend = function extend(a, b) {
  for (var key in b) {
    if (b.hasOwnProperty(key)) {
      a[key] = b[key];
    }
  }
  return a;
};

/*
 * Convert HEX codes to RGB values (#000000 -> rgb(0,0,0))
 */
var hexToRgb = function hexToRgb(hex) {
  var result = /^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(hex);
  return result ? parseInt(result[1], 16) + ', ' + parseInt(result[2], 16) + ', ' + parseInt(result[3], 16) : null;
};

/*
 * Check if the user is using Internet Explorer 8 (for fallbacks)
 */
var isIE8 = function isIE8() {
  return window.attachEvent && !window.addEventListener;
};

/*
 * IE compatible logging for developers
 */
var logStr = function logStr(string) {
  if (window.console) {
    // IE...
    window.console.log('SweetAlert: ' + string);
  }
};

/*
 * Set hover, active and focus-states for buttons 
 * (source: http://www.sitepoint.com/javascript-generate-lighter-darker-color)
 */
var colorLuminance = function colorLuminance(hex, lum) {
  // Validate hex string
  hex = String(hex).replace(/[^0-9a-f]/gi, '');
  if (hex.length < 6) {
    hex = hex[0] + hex[0] + hex[1] + hex[1] + hex[2] + hex[2];
  }
  lum = lum || 0;

  // Convert to decimal and change luminosity
  var rgb = '#';
  var c;
  var i;

  for (i = 0; i < 3; i++) {
    c = parseInt(hex.substr(i * 2, 2), 16);
    c = Math.round(Math.min(Math.max(0, c + c * lum), 255)).toString(16);
    rgb += ('00' + c).substr(c.length);
  }

  return rgb;
};

exports.extend = extend;
exports.hexToRgb = hexToRgb;
exports.isIE8 = isIE8;
exports.logStr = logStr;
exports.colorLuminance = colorLuminance;
},{}],"/Users/cescwang/program/sil/SIL-frontend/node_modules/sweetalert/lib/sweetalert.js":[function(require,module,exports){
'use strict';

var _interopRequireWildcard = function (obj) { return obj && obj.__esModule ? obj : { 'default': obj }; };

Object.defineProperty(exports, '__esModule', {
  value: true
});
// SweetAlert
// 2014-2015 (c) - Tristan Edwards
// github.com/t4t5/sweetalert

/*
 * jQuery-like functions for manipulating the DOM
 */

var _hasClass$addClass$removeClass$escapeHtml$_show$show$_hide$hide$isDescendant$getTopMargin$fadeIn$fadeOut$fireClick$stopEventPropagation = require('./modules/handle-dom');

/*
 * Handy utilities
 */

var _extend$hexToRgb$isIE8$logStr$colorLuminance = require('./modules/utils');

/*
 *  Handle sweetAlert's DOM elements
 */

var _sweetAlertInitialize$getModal$getOverlay$getInput$setFocusStyle$openModal$resetInput$fixVerticalPosition = require('./modules/handle-swal-dom');

// Handle button events and keyboard events

var _handleButton$handleConfirm$handleCancel = require('./modules/handle-click');

var _handleKeyDown = require('./modules/handle-key');

var _handleKeyDown2 = _interopRequireWildcard(_handleKeyDown);

// Default values

var _defaultParams = require('./modules/default-params');

var _defaultParams2 = _interopRequireWildcard(_defaultParams);

var _setParameters = require('./modules/set-params');

var _setParameters2 = _interopRequireWildcard(_setParameters);

/*
 * Remember state in cases where opening and handling a modal will fiddle with it.
 * (We also use window.previousActiveElement as a global variable)
 */
var previousWindowKeyDown;
var lastFocusedButton;

/*
 * Global sweetAlert function
 * (this is what the user calls)
 */
var sweetAlert, swal;

exports['default'] = sweetAlert = swal = function () {
  var customizations = arguments[0];

  _hasClass$addClass$removeClass$escapeHtml$_show$show$_hide$hide$isDescendant$getTopMargin$fadeIn$fadeOut$fireClick$stopEventPropagation.addClass(document.body, 'stop-scrolling');
  _sweetAlertInitialize$getModal$getOverlay$getInput$setFocusStyle$openModal$resetInput$fixVerticalPosition.resetInput();

  /*
   * Use argument if defined or default value from params object otherwise.
   * Supports the case where a default value is boolean true and should be
   * overridden by a corresponding explicit argument which is boolean false.
   */
  function argumentOrDefault(key) {
    var args = customizations;
    return args[key] === undefined ? _defaultParams2['default'][key] : args[key];
  }

  if (customizations === undefined) {
    _extend$hexToRgb$isIE8$logStr$colorLuminance.logStr('SweetAlert expects at least 1 attribute!');
    return false;
  }

  var params = _extend$hexToRgb$isIE8$logStr$colorLuminance.extend({}, _defaultParams2['default']);

  switch (typeof customizations) {

    // Ex: swal("Hello", "Just testing", "info");
    case 'string':
      params.title = customizations;
      params.text = arguments[1] || '';
      params.type = arguments[2] || '';
      break;

    // Ex: swal({ title:"Hello", text: "Just testing", type: "info" });
    case 'object':
      if (customizations.title === undefined) {
        _extend$hexToRgb$isIE8$logStr$colorLuminance.logStr('Missing "title" argument!');
        return false;
      }

      params.title = customizations.title;

      for (var customName in _defaultParams2['default']) {
        params[customName] = argumentOrDefault(customName);
      }

      // Show "Confirm" instead of "OK" if cancel button is visible
      params.confirmButtonText = params.showCancelButton ? 'Confirm' : _defaultParams2['default'].confirmButtonText;
      params.confirmButtonText = argumentOrDefault('confirmButtonText');

      // Callback function when clicking on "OK"/"Cancel"
      params.doneFunction = arguments[1] || null;

      break;

    default:
      _extend$hexToRgb$isIE8$logStr$colorLuminance.logStr('Unexpected type of argument! Expected "string" or "object", got ' + typeof customizations);
      return false;

  }

  _setParameters2['default'](params);
  _sweetAlertInitialize$getModal$getOverlay$getInput$setFocusStyle$openModal$resetInput$fixVerticalPosition.fixVerticalPosition();
  _sweetAlertInitialize$getModal$getOverlay$getInput$setFocusStyle$openModal$resetInput$fixVerticalPosition.openModal(arguments[1]);

  // Modal interactions
  var modal = _sweetAlertInitialize$getModal$getOverlay$getInput$setFocusStyle$openModal$resetInput$fixVerticalPosition.getModal();

  /*
   * Make sure all modal buttons respond to all events
   */
  var $buttons = modal.querySelectorAll('button');
  var buttonEvents = ['onclick', 'onmouseover', 'onmouseout', 'onmousedown', 'onmouseup', 'onfocus'];
  var onButtonEvent = function onButtonEvent(e) {
    return _handleButton$handleConfirm$handleCancel.handleButton(e, params, modal);
  };

  for (var btnIndex = 0; btnIndex < $buttons.length; btnIndex++) {
    for (var evtIndex = 0; evtIndex < buttonEvents.length; evtIndex++) {
      var btnEvt = buttonEvents[evtIndex];
      $buttons[btnIndex][btnEvt] = onButtonEvent;
    }
  }

  // Clicking outside the modal dismisses it (if allowed by user)
  _sweetAlertInitialize$getModal$getOverlay$getInput$setFocusStyle$openModal$resetInput$fixVerticalPosition.getOverlay().onclick = onButtonEvent;

  previousWindowKeyDown = window.onkeydown;

  var onKeyEvent = function onKeyEvent(e) {
    return _handleKeyDown2['default'](e, params, modal);
  };
  window.onkeydown = onKeyEvent;

  window.onfocus = function () {
    // When the user has focused away and focused back from the whole window.
    setTimeout(function () {
      // Put in a timeout to jump out of the event sequence.
      // Calling focus() in the event sequence confuses things.
      if (lastFocusedButton !== undefined) {
        lastFocusedButton.focus();
        lastFocusedButton = undefined;
      }
    }, 0);
  };

  // Show alert with enabled buttons always
  swal.enableButtons();
};

/*
 * Set default params for each popup
 * @param {Object} userParams
 */
sweetAlert.setDefaults = swal.setDefaults = function (userParams) {
  if (!userParams) {
    throw new Error('userParams is required');
  }
  if (typeof userParams !== 'object') {
    throw new Error('userParams has to be a object');
  }

  _extend$hexToRgb$isIE8$logStr$colorLuminance.extend(_defaultParams2['default'], userParams);
};

/*
 * Animation when closing modal
 */
sweetAlert.close = swal.close = function () {
  var modal = _sweetAlertInitialize$getModal$getOverlay$getInput$setFocusStyle$openModal$resetInput$fixVerticalPosition.getModal();

  _hasClass$addClass$removeClass$escapeHtml$_show$show$_hide$hide$isDescendant$getTopMargin$fadeIn$fadeOut$fireClick$stopEventPropagation.fadeOut(_sweetAlertInitialize$getModal$getOverlay$getInput$setFocusStyle$openModal$resetInput$fixVerticalPosition.getOverlay(), 5);
  _hasClass$addClass$removeClass$escapeHtml$_show$show$_hide$hide$isDescendant$getTopMargin$fadeIn$fadeOut$fireClick$stopEventPropagation.fadeOut(modal, 5);
  _hasClass$addClass$removeClass$escapeHtml$_show$show$_hide$hide$isDescendant$getTopMargin$fadeIn$fadeOut$fireClick$stopEventPropagation.removeClass(modal, 'showSweetAlert');
  _hasClass$addClass$removeClass$escapeHtml$_show$show$_hide$hide$isDescendant$getTopMargin$fadeIn$fadeOut$fireClick$stopEventPropagation.addClass(modal, 'hideSweetAlert');
  _hasClass$addClass$removeClass$escapeHtml$_show$show$_hide$hide$isDescendant$getTopMargin$fadeIn$fadeOut$fireClick$stopEventPropagation.removeClass(modal, 'visible');

  /*
   * Reset icon animations
   */
  var $successIcon = modal.querySelector('.sa-icon.sa-success');
  _hasClass$addClass$removeClass$escapeHtml$_show$show$_hide$hide$isDescendant$getTopMargin$fadeIn$fadeOut$fireClick$stopEventPropagation.removeClass($successIcon, 'animate');
  _hasClass$addClass$removeClass$escapeHtml$_show$show$_hide$hide$isDescendant$getTopMargin$fadeIn$fadeOut$fireClick$stopEventPropagation.removeClass($successIcon.querySelector('.sa-tip'), 'animateSuccessTip');
  _hasClass$addClass$removeClass$escapeHtml$_show$show$_hide$hide$isDescendant$getTopMargin$fadeIn$fadeOut$fireClick$stopEventPropagation.removeClass($successIcon.querySelector('.sa-long'), 'animateSuccessLong');

  var $errorIcon = modal.querySelector('.sa-icon.sa-error');
  _hasClass$addClass$removeClass$escapeHtml$_show$show$_hide$hide$isDescendant$getTopMargin$fadeIn$fadeOut$fireClick$stopEventPropagation.removeClass($errorIcon, 'animateErrorIcon');
  _hasClass$addClass$removeClass$escapeHtml$_show$show$_hide$hide$isDescendant$getTopMargin$fadeIn$fadeOut$fireClick$stopEventPropagation.removeClass($errorIcon.querySelector('.sa-x-mark'), 'animateXMark');

  var $warningIcon = modal.querySelector('.sa-icon.sa-warning');
  _hasClass$addClass$removeClass$escapeHtml$_show$show$_hide$hide$isDescendant$getTopMargin$fadeIn$fadeOut$fireClick$stopEventPropagation.removeClass($warningIcon, 'pulseWarning');
  _hasClass$addClass$removeClass$escapeHtml$_show$show$_hide$hide$isDescendant$getTopMargin$fadeIn$fadeOut$fireClick$stopEventPropagation.removeClass($warningIcon.querySelector('.sa-body'), 'pulseWarningIns');
  _hasClass$addClass$removeClass$escapeHtml$_show$show$_hide$hide$isDescendant$getTopMargin$fadeIn$fadeOut$fireClick$stopEventPropagation.removeClass($warningIcon.querySelector('.sa-dot'), 'pulseWarningIns');

  // Reset custom class (delay so that UI changes aren't visible)
  setTimeout(function () {
    var customClass = modal.getAttribute('data-custom-class');
    _hasClass$addClass$removeClass$escapeHtml$_show$show$_hide$hide$isDescendant$getTopMargin$fadeIn$fadeOut$fireClick$stopEventPropagation.removeClass(modal, customClass);
  }, 300);

  // Make page scrollable again
  _hasClass$addClass$removeClass$escapeHtml$_show$show$_hide$hide$isDescendant$getTopMargin$fadeIn$fadeOut$fireClick$stopEventPropagation.removeClass(document.body, 'stop-scrolling');

  // Reset the page to its previous state
  window.onkeydown = previousWindowKeyDown;
  if (window.previousActiveElement) {
    window.previousActiveElement.focus();
  }
  lastFocusedButton = undefined;
  clearTimeout(modal.timeout);

  return true;
};

/*
 * Validation of the input field is done by user
 * If something is wrong => call showInputError with errorMessage
 */
sweetAlert.showInputError = swal.showInputError = function (errorMessage) {
  var modal = _sweetAlertInitialize$getModal$getOverlay$getInput$setFocusStyle$openModal$resetInput$fixVerticalPosition.getModal();

  var $errorIcon = modal.querySelector('.sa-input-error');
  _hasClass$addClass$removeClass$escapeHtml$_show$show$_hide$hide$isDescendant$getTopMargin$fadeIn$fadeOut$fireClick$stopEventPropagation.addClass($errorIcon, 'show');

  var $errorContainer = modal.querySelector('.sa-error-container');
  _hasClass$addClass$removeClass$escapeHtml$_show$show$_hide$hide$isDescendant$getTopMargin$fadeIn$fadeOut$fireClick$stopEventPropagation.addClass($errorContainer, 'show');

  $errorContainer.querySelector('p').innerHTML = errorMessage;

  setTimeout(function () {
    sweetAlert.enableButtons();
  }, 1);

  modal.querySelector('input').focus();
};

/*
 * Reset input error DOM elements
 */
sweetAlert.resetInputError = swal.resetInputError = function (event) {
  // If press enter => ignore
  if (event && event.keyCode === 13) {
    return false;
  }

  var $modal = _sweetAlertInitialize$getModal$getOverlay$getInput$setFocusStyle$openModal$resetInput$fixVerticalPosition.getModal();

  var $errorIcon = $modal.querySelector('.sa-input-error');
  _hasClass$addClass$removeClass$escapeHtml$_show$show$_hide$hide$isDescendant$getTopMargin$fadeIn$fadeOut$fireClick$stopEventPropagation.removeClass($errorIcon, 'show');

  var $errorContainer = $modal.querySelector('.sa-error-container');
  _hasClass$addClass$removeClass$escapeHtml$_show$show$_hide$hide$isDescendant$getTopMargin$fadeIn$fadeOut$fireClick$stopEventPropagation.removeClass($errorContainer, 'show');
};

/*
 * Disable confirm and cancel buttons
 */
sweetAlert.disableButtons = swal.disableButtons = function (event) {
  var modal = _sweetAlertInitialize$getModal$getOverlay$getInput$setFocusStyle$openModal$resetInput$fixVerticalPosition.getModal();
  var $confirmButton = modal.querySelector('button.confirm');
  var $cancelButton = modal.querySelector('button.cancel');
  $confirmButton.disabled = true;
  $cancelButton.disabled = true;
};

/*
 * Enable confirm and cancel buttons
 */
sweetAlert.enableButtons = swal.enableButtons = function (event) {
  var modal = _sweetAlertInitialize$getModal$getOverlay$getInput$setFocusStyle$openModal$resetInput$fixVerticalPosition.getModal();
  var $confirmButton = modal.querySelector('button.confirm');
  var $cancelButton = modal.querySelector('button.cancel');
  $confirmButton.disabled = false;
  $cancelButton.disabled = false;
};

if (typeof window !== 'undefined') {
  // The 'handle-click' module requires
  // that 'sweetAlert' was set as global.
  window.sweetAlert = window.swal = sweetAlert;
} else {
  _extend$hexToRgb$isIE8$logStr$colorLuminance.logStr('SweetAlert is a frontend module!');
}
module.exports = exports['default'];
},{"./modules/default-params":"/Users/cescwang/program/sil/SIL-frontend/node_modules/sweetalert/lib/modules/default-params.js","./modules/handle-click":"/Users/cescwang/program/sil/SIL-frontend/node_modules/sweetalert/lib/modules/handle-click.js","./modules/handle-dom":"/Users/cescwang/program/sil/SIL-frontend/node_modules/sweetalert/lib/modules/handle-dom.js","./modules/handle-key":"/Users/cescwang/program/sil/SIL-frontend/node_modules/sweetalert/lib/modules/handle-key.js","./modules/handle-swal-dom":"/Users/cescwang/program/sil/SIL-frontend/node_modules/sweetalert/lib/modules/handle-swal-dom.js","./modules/set-params":"/Users/cescwang/program/sil/SIL-frontend/node_modules/sweetalert/lib/modules/set-params.js","./modules/utils":"/Users/cescwang/program/sil/SIL-frontend/node_modules/sweetalert/lib/modules/utils.js"}],"/Users/cescwang/program/sil/SIL-frontend/node_modules/underscore/underscore.js":[function(require,module,exports){
//     Underscore.js 1.8.3
//     http://underscorejs.org
//     (c) 2009-2015 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
//     Underscore may be freely distributed under the MIT license.

(function() {

  // Baseline setup
  // --------------

  // Establish the root object, `window` in the browser, or `exports` on the server.
  var root = this;

  // Save the previous value of the `_` variable.
  var previousUnderscore = root._;

  // Save bytes in the minified (but not gzipped) version:
  var ArrayProto = Array.prototype, ObjProto = Object.prototype, FuncProto = Function.prototype;

  // Create quick reference variables for speed access to core prototypes.
  var
    push             = ArrayProto.push,
    slice            = ArrayProto.slice,
    toString         = ObjProto.toString,
    hasOwnProperty   = ObjProto.hasOwnProperty;

  // All **ECMAScript 5** native function implementations that we hope to use
  // are declared here.
  var
    nativeIsArray      = Array.isArray,
    nativeKeys         = Object.keys,
    nativeBind         = FuncProto.bind,
    nativeCreate       = Object.create;

  // Naked function reference for surrogate-prototype-swapping.
  var Ctor = function(){};

  // Create a safe reference to the Underscore object for use below.
  var _ = function(obj) {
    if (obj instanceof _) return obj;
    if (!(this instanceof _)) return new _(obj);
    this._wrapped = obj;
  };

  // Export the Underscore object for **Node.js**, with
  // backwards-compatibility for the old `require()` API. If we're in
  // the browser, add `_` as a global object.
  if (typeof exports !== 'undefined') {
    if (typeof module !== 'undefined' && module.exports) {
      exports = module.exports = _;
    }
    exports._ = _;
  } else {
    root._ = _;
  }

  // Current version.
  _.VERSION = '1.8.3';

  // Internal function that returns an efficient (for current engines) version
  // of the passed-in callback, to be repeatedly applied in other Underscore
  // functions.
  var optimizeCb = function(func, context, argCount) {
    if (context === void 0) return func;
    switch (argCount == null ? 3 : argCount) {
      case 1: return function(value) {
        return func.call(context, value);
      };
      case 2: return function(value, other) {
        return func.call(context, value, other);
      };
      case 3: return function(value, index, collection) {
        return func.call(context, value, index, collection);
      };
      case 4: return function(accumulator, value, index, collection) {
        return func.call(context, accumulator, value, index, collection);
      };
    }
    return function() {
      return func.apply(context, arguments);
    };
  };

  // A mostly-internal function to generate callbacks that can be applied
  // to each element in a collection, returning the desired result — either
  // identity, an arbitrary callback, a property matcher, or a property accessor.
  var cb = function(value, context, argCount) {
    if (value == null) return _.identity;
    if (_.isFunction(value)) return optimizeCb(value, context, argCount);
    if (_.isObject(value)) return _.matcher(value);
    return _.property(value);
  };
  _.iteratee = function(value, context) {
    return cb(value, context, Infinity);
  };

  // An internal function for creating assigner functions.
  var createAssigner = function(keysFunc, undefinedOnly) {
    return function(obj) {
      var length = arguments.length;
      if (length < 2 || obj == null) return obj;
      for (var index = 1; index < length; index++) {
        var source = arguments[index],
            keys = keysFunc(source),
            l = keys.length;
        for (var i = 0; i < l; i++) {
          var key = keys[i];
          if (!undefinedOnly || obj[key] === void 0) obj[key] = source[key];
        }
      }
      return obj;
    };
  };

  // An internal function for creating a new object that inherits from another.
  var baseCreate = function(prototype) {
    if (!_.isObject(prototype)) return {};
    if (nativeCreate) return nativeCreate(prototype);
    Ctor.prototype = prototype;
    var result = new Ctor;
    Ctor.prototype = null;
    return result;
  };

  var property = function(key) {
    return function(obj) {
      return obj == null ? void 0 : obj[key];
    };
  };

  // Helper for collection methods to determine whether a collection
  // should be iterated as an array or as an object
  // Related: http://people.mozilla.org/~jorendorff/es6-draft.html#sec-tolength
  // Avoids a very nasty iOS 8 JIT bug on ARM-64. #2094
  var MAX_ARRAY_INDEX = Math.pow(2, 53) - 1;
  var getLength = property('length');
  var isArrayLike = function(collection) {
    var length = getLength(collection);
    return typeof length == 'number' && length >= 0 && length <= MAX_ARRAY_INDEX;
  };

  // Collection Functions
  // --------------------

  // The cornerstone, an `each` implementation, aka `forEach`.
  // Handles raw objects in addition to array-likes. Treats all
  // sparse array-likes as if they were dense.
  _.each = _.forEach = function(obj, iteratee, context) {
    iteratee = optimizeCb(iteratee, context);
    var i, length;
    if (isArrayLike(obj)) {
      for (i = 0, length = obj.length; i < length; i++) {
        iteratee(obj[i], i, obj);
      }
    } else {
      var keys = _.keys(obj);
      for (i = 0, length = keys.length; i < length; i++) {
        iteratee(obj[keys[i]], keys[i], obj);
      }
    }
    return obj;
  };

  // Return the results of applying the iteratee to each element.
  _.map = _.collect = function(obj, iteratee, context) {
    iteratee = cb(iteratee, context);
    var keys = !isArrayLike(obj) && _.keys(obj),
        length = (keys || obj).length,
        results = Array(length);
    for (var index = 0; index < length; index++) {
      var currentKey = keys ? keys[index] : index;
      results[index] = iteratee(obj[currentKey], currentKey, obj);
    }
    return results;
  };

  // Create a reducing function iterating left or right.
  function createReduce(dir) {
    // Optimized iterator function as using arguments.length
    // in the main function will deoptimize the, see #1991.
    function iterator(obj, iteratee, memo, keys, index, length) {
      for (; index >= 0 && index < length; index += dir) {
        var currentKey = keys ? keys[index] : index;
        memo = iteratee(memo, obj[currentKey], currentKey, obj);
      }
      return memo;
    }

    return function(obj, iteratee, memo, context) {
      iteratee = optimizeCb(iteratee, context, 4);
      var keys = !isArrayLike(obj) && _.keys(obj),
          length = (keys || obj).length,
          index = dir > 0 ? 0 : length - 1;
      // Determine the initial value if none is provided.
      if (arguments.length < 3) {
        memo = obj[keys ? keys[index] : index];
        index += dir;
      }
      return iterator(obj, iteratee, memo, keys, index, length);
    };
  }

  // **Reduce** builds up a single result from a list of values, aka `inject`,
  // or `foldl`.
  _.reduce = _.foldl = _.inject = createReduce(1);

  // The right-associative version of reduce, also known as `foldr`.
  _.reduceRight = _.foldr = createReduce(-1);

  // Return the first value which passes a truth test. Aliased as `detect`.
  _.find = _.detect = function(obj, predicate, context) {
    var key;
    if (isArrayLike(obj)) {
      key = _.findIndex(obj, predicate, context);
    } else {
      key = _.findKey(obj, predicate, context);
    }
    if (key !== void 0 && key !== -1) return obj[key];
  };

  // Return all the elements that pass a truth test.
  // Aliased as `select`.
  _.filter = _.select = function(obj, predicate, context) {
    var results = [];
    predicate = cb(predicate, context);
    _.each(obj, function(value, index, list) {
      if (predicate(value, index, list)) results.push(value);
    });
    return results;
  };

  // Return all the elements for which a truth test fails.
  _.reject = function(obj, predicate, context) {
    return _.filter(obj, _.negate(cb(predicate)), context);
  };

  // Determine whether all of the elements match a truth test.
  // Aliased as `all`.
  _.every = _.all = function(obj, predicate, context) {
    predicate = cb(predicate, context);
    var keys = !isArrayLike(obj) && _.keys(obj),
        length = (keys || obj).length;
    for (var index = 0; index < length; index++) {
      var currentKey = keys ? keys[index] : index;
      if (!predicate(obj[currentKey], currentKey, obj)) return false;
    }
    return true;
  };

  // Determine if at least one element in the object matches a truth test.
  // Aliased as `any`.
  _.some = _.any = function(obj, predicate, context) {
    predicate = cb(predicate, context);
    var keys = !isArrayLike(obj) && _.keys(obj),
        length = (keys || obj).length;
    for (var index = 0; index < length; index++) {
      var currentKey = keys ? keys[index] : index;
      if (predicate(obj[currentKey], currentKey, obj)) return true;
    }
    return false;
  };

  // Determine if the array or object contains a given item (using `===`).
  // Aliased as `includes` and `include`.
  _.contains = _.includes = _.include = function(obj, item, fromIndex, guard) {
    if (!isArrayLike(obj)) obj = _.values(obj);
    if (typeof fromIndex != 'number' || guard) fromIndex = 0;
    return _.indexOf(obj, item, fromIndex) >= 0;
  };

  // Invoke a method (with arguments) on every item in a collection.
  _.invoke = function(obj, method) {
    var args = slice.call(arguments, 2);
    var isFunc = _.isFunction(method);
    return _.map(obj, function(value) {
      var func = isFunc ? method : value[method];
      return func == null ? func : func.apply(value, args);
    });
  };

  // Convenience version of a common use case of `map`: fetching a property.
  _.pluck = function(obj, key) {
    return _.map(obj, _.property(key));
  };

  // Convenience version of a common use case of `filter`: selecting only objects
  // containing specific `key:value` pairs.
  _.where = function(obj, attrs) {
    return _.filter(obj, _.matcher(attrs));
  };

  // Convenience version of a common use case of `find`: getting the first object
  // containing specific `key:value` pairs.
  _.findWhere = function(obj, attrs) {
    return _.find(obj, _.matcher(attrs));
  };

  // Return the maximum element (or element-based computation).
  _.max = function(obj, iteratee, context) {
    var result = -Infinity, lastComputed = -Infinity,
        value, computed;
    if (iteratee == null && obj != null) {
      obj = isArrayLike(obj) ? obj : _.values(obj);
      for (var i = 0, length = obj.length; i < length; i++) {
        value = obj[i];
        if (value > result) {
          result = value;
        }
      }
    } else {
      iteratee = cb(iteratee, context);
      _.each(obj, function(value, index, list) {
        computed = iteratee(value, index, list);
        if (computed > lastComputed || computed === -Infinity && result === -Infinity) {
          result = value;
          lastComputed = computed;
        }
      });
    }
    return result;
  };

  // Return the minimum element (or element-based computation).
  _.min = function(obj, iteratee, context) {
    var result = Infinity, lastComputed = Infinity,
        value, computed;
    if (iteratee == null && obj != null) {
      obj = isArrayLike(obj) ? obj : _.values(obj);
      for (var i = 0, length = obj.length; i < length; i++) {
        value = obj[i];
        if (value < result) {
          result = value;
        }
      }
    } else {
      iteratee = cb(iteratee, context);
      _.each(obj, function(value, index, list) {
        computed = iteratee(value, index, list);
        if (computed < lastComputed || computed === Infinity && result === Infinity) {
          result = value;
          lastComputed = computed;
        }
      });
    }
    return result;
  };

  // Shuffle a collection, using the modern version of the
  // [Fisher-Yates shuffle](http://en.wikipedia.org/wiki/Fisher–Yates_shuffle).
  _.shuffle = function(obj) {
    var set = isArrayLike(obj) ? obj : _.values(obj);
    var length = set.length;
    var shuffled = Array(length);
    for (var index = 0, rand; index < length; index++) {
      rand = _.random(0, index);
      if (rand !== index) shuffled[index] = shuffled[rand];
      shuffled[rand] = set[index];
    }
    return shuffled;
  };

  // Sample **n** random values from a collection.
  // If **n** is not specified, returns a single random element.
  // The internal `guard` argument allows it to work with `map`.
  _.sample = function(obj, n, guard) {
    if (n == null || guard) {
      if (!isArrayLike(obj)) obj = _.values(obj);
      return obj[_.random(obj.length - 1)];
    }
    return _.shuffle(obj).slice(0, Math.max(0, n));
  };

  // Sort the object's values by a criterion produced by an iteratee.
  _.sortBy = function(obj, iteratee, context) {
    iteratee = cb(iteratee, context);
    return _.pluck(_.map(obj, function(value, index, list) {
      return {
        value: value,
        index: index,
        criteria: iteratee(value, index, list)
      };
    }).sort(function(left, right) {
      var a = left.criteria;
      var b = right.criteria;
      if (a !== b) {
        if (a > b || a === void 0) return 1;
        if (a < b || b === void 0) return -1;
      }
      return left.index - right.index;
    }), 'value');
  };

  // An internal function used for aggregate "group by" operations.
  var group = function(behavior) {
    return function(obj, iteratee, context) {
      var result = {};
      iteratee = cb(iteratee, context);
      _.each(obj, function(value, index) {
        var key = iteratee(value, index, obj);
        behavior(result, value, key);
      });
      return result;
    };
  };

  // Groups the object's values by a criterion. Pass either a string attribute
  // to group by, or a function that returns the criterion.
  _.groupBy = group(function(result, value, key) {
    if (_.has(result, key)) result[key].push(value); else result[key] = [value];
  });

  // Indexes the object's values by a criterion, similar to `groupBy`, but for
  // when you know that your index values will be unique.
  _.indexBy = group(function(result, value, key) {
    result[key] = value;
  });

  // Counts instances of an object that group by a certain criterion. Pass
  // either a string attribute to count by, or a function that returns the
  // criterion.
  _.countBy = group(function(result, value, key) {
    if (_.has(result, key)) result[key]++; else result[key] = 1;
  });

  // Safely create a real, live array from anything iterable.
  _.toArray = function(obj) {
    if (!obj) return [];
    if (_.isArray(obj)) return slice.call(obj);
    if (isArrayLike(obj)) return _.map(obj, _.identity);
    return _.values(obj);
  };

  // Return the number of elements in an object.
  _.size = function(obj) {
    if (obj == null) return 0;
    return isArrayLike(obj) ? obj.length : _.keys(obj).length;
  };

  // Split a collection into two arrays: one whose elements all satisfy the given
  // predicate, and one whose elements all do not satisfy the predicate.
  _.partition = function(obj, predicate, context) {
    predicate = cb(predicate, context);
    var pass = [], fail = [];
    _.each(obj, function(value, key, obj) {
      (predicate(value, key, obj) ? pass : fail).push(value);
    });
    return [pass, fail];
  };

  // Array Functions
  // ---------------

  // Get the first element of an array. Passing **n** will return the first N
  // values in the array. Aliased as `head` and `take`. The **guard** check
  // allows it to work with `_.map`.
  _.first = _.head = _.take = function(array, n, guard) {
    if (array == null) return void 0;
    if (n == null || guard) return array[0];
    return _.initial(array, array.length - n);
  };

  // Returns everything but the last entry of the array. Especially useful on
  // the arguments object. Passing **n** will return all the values in
  // the array, excluding the last N.
  _.initial = function(array, n, guard) {
    return slice.call(array, 0, Math.max(0, array.length - (n == null || guard ? 1 : n)));
  };

  // Get the last element of an array. Passing **n** will return the last N
  // values in the array.
  _.last = function(array, n, guard) {
    if (array == null) return void 0;
    if (n == null || guard) return array[array.length - 1];
    return _.rest(array, Math.max(0, array.length - n));
  };

  // Returns everything but the first entry of the array. Aliased as `tail` and `drop`.
  // Especially useful on the arguments object. Passing an **n** will return
  // the rest N values in the array.
  _.rest = _.tail = _.drop = function(array, n, guard) {
    return slice.call(array, n == null || guard ? 1 : n);
  };

  // Trim out all falsy values from an array.
  _.compact = function(array) {
    return _.filter(array, _.identity);
  };

  // Internal implementation of a recursive `flatten` function.
  var flatten = function(input, shallow, strict, startIndex) {
    var output = [], idx = 0;
    for (var i = startIndex || 0, length = getLength(input); i < length; i++) {
      var value = input[i];
      if (isArrayLike(value) && (_.isArray(value) || _.isArguments(value))) {
        //flatten current level of array or arguments object
        if (!shallow) value = flatten(value, shallow, strict);
        var j = 0, len = value.length;
        output.length += len;
        while (j < len) {
          output[idx++] = value[j++];
        }
      } else if (!strict) {
        output[idx++] = value;
      }
    }
    return output;
  };

  // Flatten out an array, either recursively (by default), or just one level.
  _.flatten = function(array, shallow) {
    return flatten(array, shallow, false);
  };

  // Return a version of the array that does not contain the specified value(s).
  _.without = function(array) {
    return _.difference(array, slice.call(arguments, 1));
  };

  // Produce a duplicate-free version of the array. If the array has already
  // been sorted, you have the option of using a faster algorithm.
  // Aliased as `unique`.
  _.uniq = _.unique = function(array, isSorted, iteratee, context) {
    if (!_.isBoolean(isSorted)) {
      context = iteratee;
      iteratee = isSorted;
      isSorted = false;
    }
    if (iteratee != null) iteratee = cb(iteratee, context);
    var result = [];
    var seen = [];
    for (var i = 0, length = getLength(array); i < length; i++) {
      var value = array[i],
          computed = iteratee ? iteratee(value, i, array) : value;
      if (isSorted) {
        if (!i || seen !== computed) result.push(value);
        seen = computed;
      } else if (iteratee) {
        if (!_.contains(seen, computed)) {
          seen.push(computed);
          result.push(value);
        }
      } else if (!_.contains(result, value)) {
        result.push(value);
      }
    }
    return result;
  };

  // Produce an array that contains the union: each distinct element from all of
  // the passed-in arrays.
  _.union = function() {
    return _.uniq(flatten(arguments, true, true));
  };

  // Produce an array that contains every item shared between all the
  // passed-in arrays.
  _.intersection = function(array) {
    var result = [];
    var argsLength = arguments.length;
    for (var i = 0, length = getLength(array); i < length; i++) {
      var item = array[i];
      if (_.contains(result, item)) continue;
      for (var j = 1; j < argsLength; j++) {
        if (!_.contains(arguments[j], item)) break;
      }
      if (j === argsLength) result.push(item);
    }
    return result;
  };

  // Take the difference between one array and a number of other arrays.
  // Only the elements present in just the first array will remain.
  _.difference = function(array) {
    var rest = flatten(arguments, true, true, 1);
    return _.filter(array, function(value){
      return !_.contains(rest, value);
    });
  };

  // Zip together multiple lists into a single array -- elements that share
  // an index go together.
  _.zip = function() {
    return _.unzip(arguments);
  };

  // Complement of _.zip. Unzip accepts an array of arrays and groups
  // each array's elements on shared indices
  _.unzip = function(array) {
    var length = array && _.max(array, getLength).length || 0;
    var result = Array(length);

    for (var index = 0; index < length; index++) {
      result[index] = _.pluck(array, index);
    }
    return result;
  };

  // Converts lists into objects. Pass either a single array of `[key, value]`
  // pairs, or two parallel arrays of the same length -- one of keys, and one of
  // the corresponding values.
  _.object = function(list, values) {
    var result = {};
    for (var i = 0, length = getLength(list); i < length; i++) {
      if (values) {
        result[list[i]] = values[i];
      } else {
        result[list[i][0]] = list[i][1];
      }
    }
    return result;
  };

  // Generator function to create the findIndex and findLastIndex functions
  function createPredicateIndexFinder(dir) {
    return function(array, predicate, context) {
      predicate = cb(predicate, context);
      var length = getLength(array);
      var index = dir > 0 ? 0 : length - 1;
      for (; index >= 0 && index < length; index += dir) {
        if (predicate(array[index], index, array)) return index;
      }
      return -1;
    };
  }

  // Returns the first index on an array-like that passes a predicate test
  _.findIndex = createPredicateIndexFinder(1);
  _.findLastIndex = createPredicateIndexFinder(-1);

  // Use a comparator function to figure out the smallest index at which
  // an object should be inserted so as to maintain order. Uses binary search.
  _.sortedIndex = function(array, obj, iteratee, context) {
    iteratee = cb(iteratee, context, 1);
    var value = iteratee(obj);
    var low = 0, high = getLength(array);
    while (low < high) {
      var mid = Math.floor((low + high) / 2);
      if (iteratee(array[mid]) < value) low = mid + 1; else high = mid;
    }
    return low;
  };

  // Generator function to create the indexOf and lastIndexOf functions
  function createIndexFinder(dir, predicateFind, sortedIndex) {
    return function(array, item, idx) {
      var i = 0, length = getLength(array);
      if (typeof idx == 'number') {
        if (dir > 0) {
            i = idx >= 0 ? idx : Math.max(idx + length, i);
        } else {
            length = idx >= 0 ? Math.min(idx + 1, length) : idx + length + 1;
        }
      } else if (sortedIndex && idx && length) {
        idx = sortedIndex(array, item);
        return array[idx] === item ? idx : -1;
      }
      if (item !== item) {
        idx = predicateFind(slice.call(array, i, length), _.isNaN);
        return idx >= 0 ? idx + i : -1;
      }
      for (idx = dir > 0 ? i : length - 1; idx >= 0 && idx < length; idx += dir) {
        if (array[idx] === item) return idx;
      }
      return -1;
    };
  }

  // Return the position of the first occurrence of an item in an array,
  // or -1 if the item is not included in the array.
  // If the array is large and already in sort order, pass `true`
  // for **isSorted** to use binary search.
  _.indexOf = createIndexFinder(1, _.findIndex, _.sortedIndex);
  _.lastIndexOf = createIndexFinder(-1, _.findLastIndex);

  // Generate an integer Array containing an arithmetic progression. A port of
  // the native Python `range()` function. See
  // [the Python documentation](http://docs.python.org/library/functions.html#range).
  _.range = function(start, stop, step) {
    if (stop == null) {
      stop = start || 0;
      start = 0;
    }
    step = step || 1;

    var length = Math.max(Math.ceil((stop - start) / step), 0);
    var range = Array(length);

    for (var idx = 0; idx < length; idx++, start += step) {
      range[idx] = start;
    }

    return range;
  };

  // Function (ahem) Functions
  // ------------------

  // Determines whether to execute a function as a constructor
  // or a normal function with the provided arguments
  var executeBound = function(sourceFunc, boundFunc, context, callingContext, args) {
    if (!(callingContext instanceof boundFunc)) return sourceFunc.apply(context, args);
    var self = baseCreate(sourceFunc.prototype);
    var result = sourceFunc.apply(self, args);
    if (_.isObject(result)) return result;
    return self;
  };

  // Create a function bound to a given object (assigning `this`, and arguments,
  // optionally). Delegates to **ECMAScript 5**'s native `Function.bind` if
  // available.
  _.bind = function(func, context) {
    if (nativeBind && func.bind === nativeBind) return nativeBind.apply(func, slice.call(arguments, 1));
    if (!_.isFunction(func)) throw new TypeError('Bind must be called on a function');
    var args = slice.call(arguments, 2);
    var bound = function() {
      return executeBound(func, bound, context, this, args.concat(slice.call(arguments)));
    };
    return bound;
  };

  // Partially apply a function by creating a version that has had some of its
  // arguments pre-filled, without changing its dynamic `this` context. _ acts
  // as a placeholder, allowing any combination of arguments to be pre-filled.
  _.partial = function(func) {
    var boundArgs = slice.call(arguments, 1);
    var bound = function() {
      var position = 0, length = boundArgs.length;
      var args = Array(length);
      for (var i = 0; i < length; i++) {
        args[i] = boundArgs[i] === _ ? arguments[position++] : boundArgs[i];
      }
      while (position < arguments.length) args.push(arguments[position++]);
      return executeBound(func, bound, this, this, args);
    };
    return bound;
  };

  // Bind a number of an object's methods to that object. Remaining arguments
  // are the method names to be bound. Useful for ensuring that all callbacks
  // defined on an object belong to it.
  _.bindAll = function(obj) {
    var i, length = arguments.length, key;
    if (length <= 1) throw new Error('bindAll must be passed function names');
    for (i = 1; i < length; i++) {
      key = arguments[i];
      obj[key] = _.bind(obj[key], obj);
    }
    return obj;
  };

  // Memoize an expensive function by storing its results.
  _.memoize = function(func, hasher) {
    var memoize = function(key) {
      var cache = memoize.cache;
      var address = '' + (hasher ? hasher.apply(this, arguments) : key);
      if (!_.has(cache, address)) cache[address] = func.apply(this, arguments);
      return cache[address];
    };
    memoize.cache = {};
    return memoize;
  };

  // Delays a function for the given number of milliseconds, and then calls
  // it with the arguments supplied.
  _.delay = function(func, wait) {
    var args = slice.call(arguments, 2);
    return setTimeout(function(){
      return func.apply(null, args);
    }, wait);
  };

  // Defers a function, scheduling it to run after the current call stack has
  // cleared.
  _.defer = _.partial(_.delay, _, 1);

  // Returns a function, that, when invoked, will only be triggered at most once
  // during a given window of time. Normally, the throttled function will run
  // as much as it can, without ever going more than once per `wait` duration;
  // but if you'd like to disable the execution on the leading edge, pass
  // `{leading: false}`. To disable execution on the trailing edge, ditto.
  _.throttle = function(func, wait, options) {
    var context, args, result;
    var timeout = null;
    var previous = 0;
    if (!options) options = {};
    var later = function() {
      previous = options.leading === false ? 0 : _.now();
      timeout = null;
      result = func.apply(context, args);
      if (!timeout) context = args = null;
    };
    return function() {
      var now = _.now();
      if (!previous && options.leading === false) previous = now;
      var remaining = wait - (now - previous);
      context = this;
      args = arguments;
      if (remaining <= 0 || remaining > wait) {
        if (timeout) {
          clearTimeout(timeout);
          timeout = null;
        }
        previous = now;
        result = func.apply(context, args);
        if (!timeout) context = args = null;
      } else if (!timeout && options.trailing !== false) {
        timeout = setTimeout(later, remaining);
      }
      return result;
    };
  };

  // Returns a function, that, as long as it continues to be invoked, will not
  // be triggered. The function will be called after it stops being called for
  // N milliseconds. If `immediate` is passed, trigger the function on the
  // leading edge, instead of the trailing.
  _.debounce = function(func, wait, immediate) {
    var timeout, args, context, timestamp, result;

    var later = function() {
      var last = _.now() - timestamp;

      if (last < wait && last >= 0) {
        timeout = setTimeout(later, wait - last);
      } else {
        timeout = null;
        if (!immediate) {
          result = func.apply(context, args);
          if (!timeout) context = args = null;
        }
      }
    };

    return function() {
      context = this;
      args = arguments;
      timestamp = _.now();
      var callNow = immediate && !timeout;
      if (!timeout) timeout = setTimeout(later, wait);
      if (callNow) {
        result = func.apply(context, args);
        context = args = null;
      }

      return result;
    };
  };

  // Returns the first function passed as an argument to the second,
  // allowing you to adjust arguments, run code before and after, and
  // conditionally execute the original function.
  _.wrap = function(func, wrapper) {
    return _.partial(wrapper, func);
  };

  // Returns a negated version of the passed-in predicate.
  _.negate = function(predicate) {
    return function() {
      return !predicate.apply(this, arguments);
    };
  };

  // Returns a function that is the composition of a list of functions, each
  // consuming the return value of the function that follows.
  _.compose = function() {
    var args = arguments;
    var start = args.length - 1;
    return function() {
      var i = start;
      var result = args[start].apply(this, arguments);
      while (i--) result = args[i].call(this, result);
      return result;
    };
  };

  // Returns a function that will only be executed on and after the Nth call.
  _.after = function(times, func) {
    return function() {
      if (--times < 1) {
        return func.apply(this, arguments);
      }
    };
  };

  // Returns a function that will only be executed up to (but not including) the Nth call.
  _.before = function(times, func) {
    var memo;
    return function() {
      if (--times > 0) {
        memo = func.apply(this, arguments);
      }
      if (times <= 1) func = null;
      return memo;
    };
  };

  // Returns a function that will be executed at most one time, no matter how
  // often you call it. Useful for lazy initialization.
  _.once = _.partial(_.before, 2);

  // Object Functions
  // ----------------

  // Keys in IE < 9 that won't be iterated by `for key in ...` and thus missed.
  var hasEnumBug = !{toString: null}.propertyIsEnumerable('toString');
  var nonEnumerableProps = ['valueOf', 'isPrototypeOf', 'toString',
                      'propertyIsEnumerable', 'hasOwnProperty', 'toLocaleString'];

  function collectNonEnumProps(obj, keys) {
    var nonEnumIdx = nonEnumerableProps.length;
    var constructor = obj.constructor;
    var proto = (_.isFunction(constructor) && constructor.prototype) || ObjProto;

    // Constructor is a special case.
    var prop = 'constructor';
    if (_.has(obj, prop) && !_.contains(keys, prop)) keys.push(prop);

    while (nonEnumIdx--) {
      prop = nonEnumerableProps[nonEnumIdx];
      if (prop in obj && obj[prop] !== proto[prop] && !_.contains(keys, prop)) {
        keys.push(prop);
      }
    }
  }

  // Retrieve the names of an object's own properties.
  // Delegates to **ECMAScript 5**'s native `Object.keys`
  _.keys = function(obj) {
    if (!_.isObject(obj)) return [];
    if (nativeKeys) return nativeKeys(obj);
    var keys = [];
    for (var key in obj) if (_.has(obj, key)) keys.push(key);
    // Ahem, IE < 9.
    if (hasEnumBug) collectNonEnumProps(obj, keys);
    return keys;
  };

  // Retrieve all the property names of an object.
  _.allKeys = function(obj) {
    if (!_.isObject(obj)) return [];
    var keys = [];
    for (var key in obj) keys.push(key);
    // Ahem, IE < 9.
    if (hasEnumBug) collectNonEnumProps(obj, keys);
    return keys;
  };

  // Retrieve the values of an object's properties.
  _.values = function(obj) {
    var keys = _.keys(obj);
    var length = keys.length;
    var values = Array(length);
    for (var i = 0; i < length; i++) {
      values[i] = obj[keys[i]];
    }
    return values;
  };

  // Returns the results of applying the iteratee to each element of the object
  // In contrast to _.map it returns an object
  _.mapObject = function(obj, iteratee, context) {
    iteratee = cb(iteratee, context);
    var keys =  _.keys(obj),
          length = keys.length,
          results = {},
          currentKey;
      for (var index = 0; index < length; index++) {
        currentKey = keys[index];
        results[currentKey] = iteratee(obj[currentKey], currentKey, obj);
      }
      return results;
  };

  // Convert an object into a list of `[key, value]` pairs.
  _.pairs = function(obj) {
    var keys = _.keys(obj);
    var length = keys.length;
    var pairs = Array(length);
    for (var i = 0; i < length; i++) {
      pairs[i] = [keys[i], obj[keys[i]]];
    }
    return pairs;
  };

  // Invert the keys and values of an object. The values must be serializable.
  _.invert = function(obj) {
    var result = {};
    var keys = _.keys(obj);
    for (var i = 0, length = keys.length; i < length; i++) {
      result[obj[keys[i]]] = keys[i];
    }
    return result;
  };

  // Return a sorted list of the function names available on the object.
  // Aliased as `methods`
  _.functions = _.methods = function(obj) {
    var names = [];
    for (var key in obj) {
      if (_.isFunction(obj[key])) names.push(key);
    }
    return names.sort();
  };

  // Extend a given object with all the properties in passed-in object(s).
  _.extend = createAssigner(_.allKeys);

  // Assigns a given object with all the own properties in the passed-in object(s)
  // (https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object/assign)
  _.extendOwn = _.assign = createAssigner(_.keys);

  // Returns the first key on an object that passes a predicate test
  _.findKey = function(obj, predicate, context) {
    predicate = cb(predicate, context);
    var keys = _.keys(obj), key;
    for (var i = 0, length = keys.length; i < length; i++) {
      key = keys[i];
      if (predicate(obj[key], key, obj)) return key;
    }
  };

  // Return a copy of the object only containing the whitelisted properties.
  _.pick = function(object, oiteratee, context) {
    var result = {}, obj = object, iteratee, keys;
    if (obj == null) return result;
    if (_.isFunction(oiteratee)) {
      keys = _.allKeys(obj);
      iteratee = optimizeCb(oiteratee, context);
    } else {
      keys = flatten(arguments, false, false, 1);
      iteratee = function(value, key, obj) { return key in obj; };
      obj = Object(obj);
    }
    for (var i = 0, length = keys.length; i < length; i++) {
      var key = keys[i];
      var value = obj[key];
      if (iteratee(value, key, obj)) result[key] = value;
    }
    return result;
  };

   // Return a copy of the object without the blacklisted properties.
  _.omit = function(obj, iteratee, context) {
    if (_.isFunction(iteratee)) {
      iteratee = _.negate(iteratee);
    } else {
      var keys = _.map(flatten(arguments, false, false, 1), String);
      iteratee = function(value, key) {
        return !_.contains(keys, key);
      };
    }
    return _.pick(obj, iteratee, context);
  };

  // Fill in a given object with default properties.
  _.defaults = createAssigner(_.allKeys, true);

  // Creates an object that inherits from the given prototype object.
  // If additional properties are provided then they will be added to the
  // created object.
  _.create = function(prototype, props) {
    var result = baseCreate(prototype);
    if (props) _.extendOwn(result, props);
    return result;
  };

  // Create a (shallow-cloned) duplicate of an object.
  _.clone = function(obj) {
    if (!_.isObject(obj)) return obj;
    return _.isArray(obj) ? obj.slice() : _.extend({}, obj);
  };

  // Invokes interceptor with the obj, and then returns obj.
  // The primary purpose of this method is to "tap into" a method chain, in
  // order to perform operations on intermediate results within the chain.
  _.tap = function(obj, interceptor) {
    interceptor(obj);
    return obj;
  };

  // Returns whether an object has a given set of `key:value` pairs.
  _.isMatch = function(object, attrs) {
    var keys = _.keys(attrs), length = keys.length;
    if (object == null) return !length;
    var obj = Object(object);
    for (var i = 0; i < length; i++) {
      var key = keys[i];
      if (attrs[key] !== obj[key] || !(key in obj)) return false;
    }
    return true;
  };


  // Internal recursive comparison function for `isEqual`.
  var eq = function(a, b, aStack, bStack) {
    // Identical objects are equal. `0 === -0`, but they aren't identical.
    // See the [Harmony `egal` proposal](http://wiki.ecmascript.org/doku.php?id=harmony:egal).
    if (a === b) return a !== 0 || 1 / a === 1 / b;
    // A strict comparison is necessary because `null == undefined`.
    if (a == null || b == null) return a === b;
    // Unwrap any wrapped objects.
    if (a instanceof _) a = a._wrapped;
    if (b instanceof _) b = b._wrapped;
    // Compare `[[Class]]` names.
    var className = toString.call(a);
    if (className !== toString.call(b)) return false;
    switch (className) {
      // Strings, numbers, regular expressions, dates, and booleans are compared by value.
      case '[object RegExp]':
      // RegExps are coerced to strings for comparison (Note: '' + /a/i === '/a/i')
      case '[object String]':
        // Primitives and their corresponding object wrappers are equivalent; thus, `"5"` is
        // equivalent to `new String("5")`.
        return '' + a === '' + b;
      case '[object Number]':
        // `NaN`s are equivalent, but non-reflexive.
        // Object(NaN) is equivalent to NaN
        if (+a !== +a) return +b !== +b;
        // An `egal` comparison is performed for other numeric values.
        return +a === 0 ? 1 / +a === 1 / b : +a === +b;
      case '[object Date]':
      case '[object Boolean]':
        // Coerce dates and booleans to numeric primitive values. Dates are compared by their
        // millisecond representations. Note that invalid dates with millisecond representations
        // of `NaN` are not equivalent.
        return +a === +b;
    }

    var areArrays = className === '[object Array]';
    if (!areArrays) {
      if (typeof a != 'object' || typeof b != 'object') return false;

      // Objects with different constructors are not equivalent, but `Object`s or `Array`s
      // from different frames are.
      var aCtor = a.constructor, bCtor = b.constructor;
      if (aCtor !== bCtor && !(_.isFunction(aCtor) && aCtor instanceof aCtor &&
                               _.isFunction(bCtor) && bCtor instanceof bCtor)
                          && ('constructor' in a && 'constructor' in b)) {
        return false;
      }
    }
    // Assume equality for cyclic structures. The algorithm for detecting cyclic
    // structures is adapted from ES 5.1 section 15.12.3, abstract operation `JO`.

    // Initializing stack of traversed objects.
    // It's done here since we only need them for objects and arrays comparison.
    aStack = aStack || [];
    bStack = bStack || [];
    var length = aStack.length;
    while (length--) {
      // Linear search. Performance is inversely proportional to the number of
      // unique nested structures.
      if (aStack[length] === a) return bStack[length] === b;
    }

    // Add the first object to the stack of traversed objects.
    aStack.push(a);
    bStack.push(b);

    // Recursively compare objects and arrays.
    if (areArrays) {
      // Compare array lengths to determine if a deep comparison is necessary.
      length = a.length;
      if (length !== b.length) return false;
      // Deep compare the contents, ignoring non-numeric properties.
      while (length--) {
        if (!eq(a[length], b[length], aStack, bStack)) return false;
      }
    } else {
      // Deep compare objects.
      var keys = _.keys(a), key;
      length = keys.length;
      // Ensure that both objects contain the same number of properties before comparing deep equality.
      if (_.keys(b).length !== length) return false;
      while (length--) {
        // Deep compare each member
        key = keys[length];
        if (!(_.has(b, key) && eq(a[key], b[key], aStack, bStack))) return false;
      }
    }
    // Remove the first object from the stack of traversed objects.
    aStack.pop();
    bStack.pop();
    return true;
  };

  // Perform a deep comparison to check if two objects are equal.
  _.isEqual = function(a, b) {
    return eq(a, b);
  };

  // Is a given array, string, or object empty?
  // An "empty" object has no enumerable own-properties.
  _.isEmpty = function(obj) {
    if (obj == null) return true;
    if (isArrayLike(obj) && (_.isArray(obj) || _.isString(obj) || _.isArguments(obj))) return obj.length === 0;
    return _.keys(obj).length === 0;
  };

  // Is a given value a DOM element?
  _.isElement = function(obj) {
    return !!(obj && obj.nodeType === 1);
  };

  // Is a given value an array?
  // Delegates to ECMA5's native Array.isArray
  _.isArray = nativeIsArray || function(obj) {
    return toString.call(obj) === '[object Array]';
  };

  // Is a given variable an object?
  _.isObject = function(obj) {
    var type = typeof obj;
    return type === 'function' || type === 'object' && !!obj;
  };

  // Add some isType methods: isArguments, isFunction, isString, isNumber, isDate, isRegExp, isError.
  _.each(['Arguments', 'Function', 'String', 'Number', 'Date', 'RegExp', 'Error'], function(name) {
    _['is' + name] = function(obj) {
      return toString.call(obj) === '[object ' + name + ']';
    };
  });

  // Define a fallback version of the method in browsers (ahem, IE < 9), where
  // there isn't any inspectable "Arguments" type.
  if (!_.isArguments(arguments)) {
    _.isArguments = function(obj) {
      return _.has(obj, 'callee');
    };
  }

  // Optimize `isFunction` if appropriate. Work around some typeof bugs in old v8,
  // IE 11 (#1621), and in Safari 8 (#1929).
  if (typeof /./ != 'function' && typeof Int8Array != 'object') {
    _.isFunction = function(obj) {
      return typeof obj == 'function' || false;
    };
  }

  // Is a given object a finite number?
  _.isFinite = function(obj) {
    return isFinite(obj) && !isNaN(parseFloat(obj));
  };

  // Is the given value `NaN`? (NaN is the only number which does not equal itself).
  _.isNaN = function(obj) {
    return _.isNumber(obj) && obj !== +obj;
  };

  // Is a given value a boolean?
  _.isBoolean = function(obj) {
    return obj === true || obj === false || toString.call(obj) === '[object Boolean]';
  };

  // Is a given value equal to null?
  _.isNull = function(obj) {
    return obj === null;
  };

  // Is a given variable undefined?
  _.isUndefined = function(obj) {
    return obj === void 0;
  };

  // Shortcut function for checking if an object has a given property directly
  // on itself (in other words, not on a prototype).
  _.has = function(obj, key) {
    return obj != null && hasOwnProperty.call(obj, key);
  };

  // Utility Functions
  // -----------------

  // Run Underscore.js in *noConflict* mode, returning the `_` variable to its
  // previous owner. Returns a reference to the Underscore object.
  _.noConflict = function() {
    root._ = previousUnderscore;
    return this;
  };

  // Keep the identity function around for default iteratees.
  _.identity = function(value) {
    return value;
  };

  // Predicate-generating functions. Often useful outside of Underscore.
  _.constant = function(value) {
    return function() {
      return value;
    };
  };

  _.noop = function(){};

  _.property = property;

  // Generates a function for a given object that returns a given property.
  _.propertyOf = function(obj) {
    return obj == null ? function(){} : function(key) {
      return obj[key];
    };
  };

  // Returns a predicate for checking whether an object has a given set of
  // `key:value` pairs.
  _.matcher = _.matches = function(attrs) {
    attrs = _.extendOwn({}, attrs);
    return function(obj) {
      return _.isMatch(obj, attrs);
    };
  };

  // Run a function **n** times.
  _.times = function(n, iteratee, context) {
    var accum = Array(Math.max(0, n));
    iteratee = optimizeCb(iteratee, context, 1);
    for (var i = 0; i < n; i++) accum[i] = iteratee(i);
    return accum;
  };

  // Return a random integer between min and max (inclusive).
  _.random = function(min, max) {
    if (max == null) {
      max = min;
      min = 0;
    }
    return min + Math.floor(Math.random() * (max - min + 1));
  };

  // A (possibly faster) way to get the current timestamp as an integer.
  _.now = Date.now || function() {
    return new Date().getTime();
  };

   // List of HTML entities for escaping.
  var escapeMap = {
    '&': '&amp;',
    '<': '&lt;',
    '>': '&gt;',
    '"': '&quot;',
    "'": '&#x27;',
    '`': '&#x60;'
  };
  var unescapeMap = _.invert(escapeMap);

  // Functions for escaping and unescaping strings to/from HTML interpolation.
  var createEscaper = function(map) {
    var escaper = function(match) {
      return map[match];
    };
    // Regexes for identifying a key that needs to be escaped
    var source = '(?:' + _.keys(map).join('|') + ')';
    var testRegexp = RegExp(source);
    var replaceRegexp = RegExp(source, 'g');
    return function(string) {
      string = string == null ? '' : '' + string;
      return testRegexp.test(string) ? string.replace(replaceRegexp, escaper) : string;
    };
  };
  _.escape = createEscaper(escapeMap);
  _.unescape = createEscaper(unescapeMap);

  // If the value of the named `property` is a function then invoke it with the
  // `object` as context; otherwise, return it.
  _.result = function(object, property, fallback) {
    var value = object == null ? void 0 : object[property];
    if (value === void 0) {
      value = fallback;
    }
    return _.isFunction(value) ? value.call(object) : value;
  };

  // Generate a unique integer id (unique within the entire client session).
  // Useful for temporary DOM ids.
  var idCounter = 0;
  _.uniqueId = function(prefix) {
    var id = ++idCounter + '';
    return prefix ? prefix + id : id;
  };

  // By default, Underscore uses ERB-style template delimiters, change the
  // following template settings to use alternative delimiters.
  _.templateSettings = {
    evaluate    : /<%([\s\S]+?)%>/g,
    interpolate : /<%=([\s\S]+?)%>/g,
    escape      : /<%-([\s\S]+?)%>/g
  };

  // When customizing `templateSettings`, if you don't want to define an
  // interpolation, evaluation or escaping regex, we need one that is
  // guaranteed not to match.
  var noMatch = /(.)^/;

  // Certain characters need to be escaped so that they can be put into a
  // string literal.
  var escapes = {
    "'":      "'",
    '\\':     '\\',
    '\r':     'r',
    '\n':     'n',
    '\u2028': 'u2028',
    '\u2029': 'u2029'
  };

  var escaper = /\\|'|\r|\n|\u2028|\u2029/g;

  var escapeChar = function(match) {
    return '\\' + escapes[match];
  };

  // JavaScript micro-templating, similar to John Resig's implementation.
  // Underscore templating handles arbitrary delimiters, preserves whitespace,
  // and correctly escapes quotes within interpolated code.
  // NB: `oldSettings` only exists for backwards compatibility.
  _.template = function(text, settings, oldSettings) {
    if (!settings && oldSettings) settings = oldSettings;
    settings = _.defaults({}, settings, _.templateSettings);

    // Combine delimiters into one regular expression via alternation.
    var matcher = RegExp([
      (settings.escape || noMatch).source,
      (settings.interpolate || noMatch).source,
      (settings.evaluate || noMatch).source
    ].join('|') + '|$', 'g');

    // Compile the template source, escaping string literals appropriately.
    var index = 0;
    var source = "__p+='";
    text.replace(matcher, function(match, escape, interpolate, evaluate, offset) {
      source += text.slice(index, offset).replace(escaper, escapeChar);
      index = offset + match.length;

      if (escape) {
        source += "'+\n((__t=(" + escape + "))==null?'':_.escape(__t))+\n'";
      } else if (interpolate) {
        source += "'+\n((__t=(" + interpolate + "))==null?'':__t)+\n'";
      } else if (evaluate) {
        source += "';\n" + evaluate + "\n__p+='";
      }

      // Adobe VMs need the match returned to produce the correct offest.
      return match;
    });
    source += "';\n";

    // If a variable is not specified, place data values in local scope.
    if (!settings.variable) source = 'with(obj||{}){\n' + source + '}\n';

    source = "var __t,__p='',__j=Array.prototype.join," +
      "print=function(){__p+=__j.call(arguments,'');};\n" +
      source + 'return __p;\n';

    try {
      var render = new Function(settings.variable || 'obj', '_', source);
    } catch (e) {
      e.source = source;
      throw e;
    }

    var template = function(data) {
      return render.call(this, data, _);
    };

    // Provide the compiled source as a convenience for precompilation.
    var argument = settings.variable || 'obj';
    template.source = 'function(' + argument + '){\n' + source + '}';

    return template;
  };

  // Add a "chain" function. Start chaining a wrapped Underscore object.
  _.chain = function(obj) {
    var instance = _(obj);
    instance._chain = true;
    return instance;
  };

  // OOP
  // ---------------
  // If Underscore is called as a function, it returns a wrapped object that
  // can be used OO-style. This wrapper holds altered versions of all the
  // underscore functions. Wrapped objects may be chained.

  // Helper function to continue chaining intermediate results.
  var result = function(instance, obj) {
    return instance._chain ? _(obj).chain() : obj;
  };

  // Add your own custom functions to the Underscore object.
  _.mixin = function(obj) {
    _.each(_.functions(obj), function(name) {
      var func = _[name] = obj[name];
      _.prototype[name] = function() {
        var args = [this._wrapped];
        push.apply(args, arguments);
        return result(this, func.apply(_, args));
      };
    });
  };

  // Add all of the Underscore functions to the wrapper object.
  _.mixin(_);

  // Add all mutator Array functions to the wrapper.
  _.each(['pop', 'push', 'reverse', 'shift', 'sort', 'splice', 'unshift'], function(name) {
    var method = ArrayProto[name];
    _.prototype[name] = function() {
      var obj = this._wrapped;
      method.apply(obj, arguments);
      if ((name === 'shift' || name === 'splice') && obj.length === 0) delete obj[0];
      return result(this, obj);
    };
  });

  // Add all accessor Array functions to the wrapper.
  _.each(['concat', 'join', 'slice'], function(name) {
    var method = ArrayProto[name];
    _.prototype[name] = function() {
      return result(this, method.apply(this._wrapped, arguments));
    };
  });

  // Extracts the result from a wrapped and chained object.
  _.prototype.value = function() {
    return this._wrapped;
  };

  // Provide unwrapping proxy for some methods used in engine operations
  // such as arithmetic and JSON stringification.
  _.prototype.valueOf = _.prototype.toJSON = _.prototype.value;

  _.prototype.toString = function() {
    return '' + this._wrapped;
  };

  // AMD registration happens at the end for compatibility with AMD loaders
  // that may not enforce next-turn semantics on modules. Even though general
  // practice for AMD registration is to be anonymous, underscore registers
  // as a named module because, like jQuery, it is a base library that is
  // popular enough to be bundled in a third party lib, but not be part of
  // an AMD load request. Those cases could generate an error when an
  // anonymous define() is called outside of a loader request.
  if (typeof define === 'function' && define.amd) {
    define('underscore', [], function() {
      return _;
    });
  }
}.call(this));

},{}],"/Users/cescwang/program/sil/SIL-frontend/node_modules/viewerjs/dist/viewer.js":[function(require,module,exports){
/*!
 * Viewer.js v0.5.1
 * https://github.com/fengyuanchen/viewerjs
 *
 * Copyright (c) 2015-2017 Fengyuan Chen
 * Released under the MIT license
 *
 * Date: 2017-01-02T13:01:55.700Z
 */

(function (global, factory) {
  if (typeof module === 'object' && typeof module.exports === 'object') {
    module.exports = global.document ? factory(global, true) : function (window) {
      if (!window.document) {
        throw new Error('Viewer requires a window with a document');
      }

      return factory(window);
    };
  } else {
    factory(global);
  }
})(typeof window !== 'undefined' ? window : this, function (window, noGlobal) {

  'use strict';

  var document = window.document;
  var Event = window.Event;
  var PointerEvent = window.PointerEvent;

  // Constants
  var NAMESPACE = 'viewer';

  // Classes
  var CLASS_FIXED = NAMESPACE + '-fixed';
  var CLASS_OPEN = NAMESPACE + '-open';
  var CLASS_SHOW = NAMESPACE + '-show';
  var CLASS_HIDE = NAMESPACE + '-hide';
  var CLASS_HIDE_XS_DOWN = 'viewer-hide-xs-down';
  var CLASS_HIDE_SM_DOWN = 'viewer-hide-sm-down';
  var CLASS_HIDE_MD_DOWN = 'viewer-hide-md-down';
  var CLASS_FADE = NAMESPACE + '-fade';
  var CLASS_IN = NAMESPACE + '-in';
  var CLASS_MOVE = NAMESPACE + '-move';
  var CLASS_ACTIVE = NAMESPACE + '-active';
  var CLASS_INVISIBLE = NAMESPACE + '-invisible';
  var CLASS_TRANSITION = NAMESPACE + '-transition';
  var CLASS_FULLSCREEN = NAMESPACE + '-fullscreen';
  var CLASS_FULLSCREEN_EXIT = NAMESPACE + '-fullscreen-exit';
  var CLASS_CLOSE = NAMESPACE + '-close';

  // Events
  var EVENT_MOUSEDOWN = PointerEvent ? 'pointerdown' : 'touchstart mousedown';
  var EVENT_MOUSEMOVE = PointerEvent ? 'pointermove' : 'mousemove touchmove';
  var EVENT_MOUSEUP = PointerEvent ? 'pointerup pointercancel' : 'touchend touchcancel mouseup';
  var EVENT_WHEEL = 'wheel mousewheel DOMMouseScroll';
  var EVENT_TRANSITIONEND = 'transitionend';
  var EVENT_LOAD = 'load';
  var EVENT_KEYDOWN = 'keydown';
  var EVENT_CLICK = 'click';
  var EVENT_RESIZE = 'resize';
  var EVENT_READY = 'ready';
  var EVENT_SHOW = 'show';
  var EVENT_SHOWN = 'shown';
  var EVENT_HIDE = 'hide';
  var EVENT_HIDDEN = 'hidden';
  var EVENT_VIEW = 'view';
  var EVENT_VIEWED = 'viewed';

  // RegExps
  var REGEXP_SUFFIX = /^(width|height|left|top|marginLeft|marginTop)$/;
  var REGEXP_HYPHENATE = /([a-z\d])([A-Z])/g;
  var REGEXP_TRIM = /^\s+(.*)\s+$/;
  var REGEXP_SPACES = /\s+/;

  // Supports
  var SUPPORT_TRANSITION = typeof document.createElement(NAMESPACE).style.transition !== 'undefined';

  // Maths
  var min = Math.min;
  var max = Math.max;
  var abs = Math.abs;
  var sqrt = Math.sqrt;
  var round = Math.round;

  // Utilities
  var objectProto = Object.prototype;
  var toString = objectProto.toString;
  var hasOwnProperty = objectProto.hasOwnProperty;
  var slice = Array.prototype.slice;

  function typeOf(obj) {
    return toString.call(obj).slice(8, -1).toLowerCase();
  }

  function isString(str) {
    return typeof str === 'string';
  }

  function isNumber(num) {
    return typeof num === 'number' && !isNaN(num);
  }

  function isUndefined(obj) {
    return typeof obj === 'undefined';
  }

  function isObject(obj) {
    return typeof obj === 'object' && obj !== null;
  }

  function isPlainObject(obj) {
    var constructor;
    var prototype;

    if (!isObject(obj)) {
      return false;
    }

    try {
      constructor = obj.constructor;
      prototype = constructor.prototype;

      return constructor && prototype && hasOwnProperty.call(prototype, 'isPrototypeOf');
    } catch (e) {
      return false;
    }
  }

  function isFunction(fn) {
    return typeOf(fn) === 'function';
  }

  function isArray(arr) {
    return Array.isArray ? Array.isArray(arr) : typeOf(arr) === 'array';
  }

  function toArray(obj, offset) {
    offset = offset >= 0 ? offset : 0;

    if (Array.from) {
      return Array.from(obj).slice(offset);
    }

    return slice.call(obj, offset);
  }

  function inArray(value, arr) {
    var index = -1;

    if (arr.indexOf) {
      return arr.indexOf(value);
    } else {
      each(arr, function (n, i) {
        if (n === value) {
          index = i;
          return false;
        }
      });
    }

    return index;
  }

  function trim(str) {
    if (isString(str)) {
      str = str.trim ? str.trim() : str.replace(REGEXP_TRIM, '1');
    }

    return str;
  }

  function each(obj, callback) {
    var length;
    var i;

    if (obj && isFunction(callback)) {
      if (isArray(obj) || isNumber(obj.length)/* array-like */) {
        for (i = 0, length = obj.length; i < length; i++) {
          if (callback.call(obj, obj[i], i, obj) === false) {
            break;
          }
        }
      } else if (isObject(obj)) {
        for (i in obj) {
          if (obj.hasOwnProperty(i)) {
            if (callback.call(obj, obj[i], i, obj) === false) {
              break;
            }
          }
        }
      }
    }

    return obj;
  }

  function extend(obj) {
    var args;

    if (arguments.length > 1) {
      args = toArray(arguments);

      if (Object.assign) {
        return Object.assign.apply(Object, args);
      }

      args.shift();

      each(args, function (arg) {
        each(arg, function (prop, i) {
          obj[i] = prop;
        });
      });
    }

    return obj;
  }

  function proxy(fn, context) {
    var args = toArray(arguments, 2);

    return function () {
      return fn.apply(context, args.concat(toArray(arguments)));
    };
  }

  function setStyle(element, styles) {
    var style = element.style;

    each(styles, function (value, property) {
      if (REGEXP_SUFFIX.test(property) && isNumber(value)) {
        value += 'px';
      }

      style[property] = value;
    });
  }

  function getStyle(element) {
    return window.getComputedStyle ?
      window.getComputedStyle(element, null) :
      element.currentStyle;
  }

  function hasClass(element, value) {
    return element.classList ?
      element.classList.contains(value) :
      element.className.indexOf(value) > -1;
  }

  function addClass(element, value) {
    var className;

    if (!value) {
      return;
    }

    if (isNumber(element.length)) {
      return each(element, function (elem) {
        addClass(elem, value);
      });
    }

    if (element.classList) {
      return element.classList.add(value);
    }

    className = trim(element.className);

    if (!className) {
      element.className = value;
    } else if (className.indexOf(value) < 0) {
      element.className = className + ' ' + value;
    }
  }

  function removeClass(element, value) {
    if (!value) {
      return;
    }

    if (isNumber(element.length)) {
      return each(element, function (elem) {
        removeClass(elem, value);
      });
    }

    if (element.classList) {
      return element.classList.remove(value);
    }

    if (element.className.indexOf(value) >= 0) {
      element.className = element.className.replace(value, '');
    }
  }

  function toggleClass(element, value, added) {
    if (isNumber(element.length)) {
      return each(element, function (elem) {
        toggleClass(elem, value, added);
      });
    }

    // IE10-11 doesn't support the second parameter of `classList.toggle`
    if (added) {
      addClass(element, value);
    } else {
      removeClass(element, value);
    }
  }

  function hyphenate(str) {
    return str.replace(REGEXP_HYPHENATE, '$1-$2').toLowerCase();
  }

  function getData(element, name) {
    if (isObject(element[name])) {
      return element[name];
    } else if (element.dataset) {
      return element.dataset[name];
    }

    return element.getAttribute('data-' + hyphenate(name));
  }

  function setData(element, name, data) {
    if (isObject(data)) {
      element[name] = data;
    } else if (element.dataset) {
      element.dataset[name] = data;
    } else {
      element.setAttribute('data-' + hyphenate(name), data);
    }
  }

  function removeData(element, name) {
    if (isObject(element[name])) {
      delete element[name];
    } else if (element.dataset) {
      // Safari not allows to delete dataset property
      try {
        delete element.dataset[name];
      } catch (e) {
        element.dataset[name] = null;
      }
    } else {
      element.removeAttribute('data-' + hyphenate(name));
    }
  }

  function addListener(element, type, handler, once) {
    var types = trim(type).split(REGEXP_SPACES);
    var originalHandler = handler;

    if (types.length > 1) {
      return each(types, function (type) {
        addListener(element, type, handler);
      });
    }

    if (once) {
      handler = function () {
        removeListener(element, type, handler);

        return originalHandler.apply(element, arguments);
      };
    }

    if (element.addEventListener) {
      element.addEventListener(type, handler, false);
    } else if (element.attachEvent) {
      element.attachEvent('on' + type, handler);
    }
  }

  function removeListener(element, type, handler) {
    var types = trim(type).split(REGEXP_SPACES);

    if (types.length > 1) {
      return each(types, function (type) {
        removeListener(element, type, handler);
      });
    }

    if (element.removeEventListener) {
      element.removeEventListener(type, handler, false);
    } else if (element.detachEvent) {
      element.detachEvent('on' + type, handler);
    }
  }

  function dispatchEvent(element, type, data) {
    var event;

    if (element.dispatchEvent) {

      // Event and CustomEvent on IE9-11 are global objects, not constructors
      if (isFunction(Event) && isFunction(CustomEvent)) {
        if (isUndefined(data)) {
          event = new Event(type, {
            bubbles: true,
            cancelable: true
          });
        } else {
          event = new CustomEvent(type, {
            detail: data,
            bubbles: true,
            cancelable: true
          });
        }
      } else {
        // IE9-11
        if (isUndefined(data)) {
          event = document.createEvent('Event');
          event.initEvent(type, true, true);
        } else {
          event = document.createEvent('CustomEvent');
          event.initCustomEvent(type, true, true, data);
        }
      }

      // IE9+
      return element.dispatchEvent(event);
    } else if (element.fireEvent) {

      // IE6-10 (native events only)
      return element.fireEvent('on' + type);
    }
  }

  function preventDefault(e) {
    if (e.preventDefault) {
      e.preventDefault();
    } else {
      e.returnValue = false;
    }
  }

  function getEvent(event) {
    var e = event || window.event;
    var eventDoc;
    var doc;
    var body;

    // Fix target property (IE8)
    if (!e.target) {
      e.target = e.srcElement || document;
    }

    if (!isNumber(e.pageX) && isNumber(e.clientX)) {
      eventDoc = event.target.ownerDocument || document;
      doc = eventDoc.documentElement;
      body = eventDoc.body;

      e.pageX = e.clientX + (
        ((doc && doc.scrollLeft) || (body && body.scrollLeft) || 0) -
        ((doc && doc.clientLeft) || (body && body.clientLeft) || 0)
      );
      e.pageY = e.clientY + (
        ((doc && doc.scrollTop) || (body && body.scrollTop) || 0) -
        ((doc && doc.clientTop) || (body && body.clientTop) || 0)
      );
    }

    return e;
  }

  function getOffset(element) {
    var doc = document.documentElement;
    var box = element.getBoundingClientRect();

    return {
      left: box.left + (window.scrollX || doc && doc.scrollLeft || 0) - (doc && doc.clientLeft || 0),
      top: box.top + (window.scrollY || doc && doc.scrollTop || 0) - (doc && doc.clientTop || 0)
    };
  }

  function getByTag(element, tagName) {
    return element.getElementsByTagName(tagName);
  }

  function getByClass(element, className) {
    return element.getElementsByClassName ?
      element.getElementsByClassName(className) :
      element.querySelectorAll('.' + className);
  }

  function appendChild(element, elem) {
    if (elem.length) {
      return each(elem, function (el) {
        appendChild(element, el);
      });
    }

    element.appendChild(elem);
  }

  function removeChild(element) {
    if (element.parentNode) {
      element.parentNode.removeChild(element);
    }
  }

  function empty(element) {
    while (element.firstChild) {
      element.removeChild(element.firstChild);
    }
  }

  function setText(element, text) {
    if (!isUndefined(element.textContent)) {
      element.textContent = text;
    } else {
      element.innerText = text;
    }
  }

  // Force reflow to enable CSS3 transition
  function forceReflow(element) {
    return element.offsetWidth;
  }

  // e.g.: http://domain.com/path/to/picture.jpg?size=1280×960 -> picture.jpg
  function getImageName(url) {
    return isString(url) ? url.replace(/^.*\//, '').replace(/[\?&#].*$/, '') : '';
  }

  function getImageSize(image, callback) {
    var newImage;

    // Modern browsers
    if (image.naturalWidth) {
      return callback(image.naturalWidth, image.naturalHeight);
    }

    // IE8: Don't use `new Image()` here
    newImage = document.createElement('img');

    newImage.onload = function () {
      callback(this.width, this.height);
    };

    newImage.src = image.src;
  }

  function getTransform(data) {
    var transforms = [];
    var rotate = data.rotate;
    var scaleX = data.scaleX;
    var scaleY = data.scaleY;

    // Rotate should come first before scale
    if (isNumber(rotate)) {
      transforms.push('rotate(' + rotate + 'deg)');
    }

    if (isNumber(scaleX)) {
      transforms.push('scaleX(' + scaleX + ')');
    }

    if (isNumber(scaleY)) {
      transforms.push('scaleY(' + scaleY + ')');
    }

    return transforms.length ? transforms.join(' ') : 'none';
  }

  function getResponsiveClass(option) {
    switch (option) {
      case 2:
        return CLASS_HIDE_XS_DOWN;

      case 3:
        return CLASS_HIDE_SM_DOWN;

      case 4:
        return CLASS_HIDE_MD_DOWN;
    }
  }

  function getPointer(pointer, endOnly) {
    var end = {
      endX: pointer.pageX,
      endY: pointer.pageY
    };

    if (endOnly) {
      return end;
    }

    return extend({
      startX: pointer.pageX,
      startY: pointer.pageY
    }, end);
  }

  function getMaxZoomRatio(pointers) {
    var pointers2 = extend({}, pointers);
    var ratios = [];

    each(pointers, function (pointer, pointerId) {
      delete pointers2[pointerId];

      each(pointers2, function (pointer2) {
        var x1 = Math.abs(pointer.startX - pointer2.startX);
        var y1 = Math.abs(pointer.startY - pointer2.startY);
        var x2 = Math.abs(pointer.endX - pointer2.endX);
        var y2 = Math.abs(pointer.endY - pointer2.endY);
        var z1 = Math.sqrt((x1 * x1) + (y1 * y1));
        var z2 = Math.sqrt((x2 * x2) + (y2 * y2));
        var ratio = (z2 - z1) / z1;

        ratios.push(ratio);
      });
    });

    ratios.sort(function (a, b) {
      return Math.abs(a) < Math.abs(b);
    });

    return ratios[0];
  }

  function getPointersCenter(pointers) {
    var pageX = 0;
    var pageY = 0;
    var count = 0;

    each(pointers, function (pointer) {
      pageX += pointer.startX;
      pageY += pointer.startY;
      count += 1;
    });

    pageX /= count;
    pageY /= count;

    return {
      pageX: pageX,
      pageY: pageY
    };
  }

  function Viewer(element, options) {
    var _this = this;

    _this.element = element;
    _this.options = extend({}, Viewer.DEFAULTS, isPlainObject(options) && options);
    _this.isImg = false;
    _this.isBuilt = false;
    _this.isShown = false;
    _this.isViewed = false;
    _this.isFulled = false;
    _this.isPlayed = false;
    _this.wheeling = false;
    _this.playing = false;
    _this.fading = false;
    _this.tooltiping = false;
    _this.transitioning = false;
    _this.action = false;
    _this.target = false;
    _this.timeout = false;
    _this.index = 0;
    _this.length = 0;
    _this.pointers = {};
    _this.init();
  }

  Viewer.prototype = {
    constructor: Viewer,

    init: function () {
      var _this = this;
      var options = _this.options;
      var element = _this.element;
      var isImg = element.tagName.toLowerCase() === 'img';
      var images = isImg ? [element] : getByTag(element, 'img');
      var length = images.length;
      var ready = proxy(_this.ready, _this);

      if (getData(element, NAMESPACE)) {
        return;
      }

      setData(element, NAMESPACE, _this);

      if (!length) {
        return;
      }

      if (isFunction(options.ready)) {
        addListener(element, EVENT_READY, options.ready, true);
      }

      // Override `transition` option if it is not supported
      if (!SUPPORT_TRANSITION) {
        options.transition = false;
      }

      _this.isImg = isImg;
      _this.length = length;
      _this.count = 0;
      _this.images = images;
      _this.body = document.body;
      _this.scrollbarWidth = window.innerWidth - document.body.clientWidth;

      if (options.inline) {
        addListener(element, EVENT_READY, function () {
          _this.view();
        }, true);

        each(images, function (image) {
          if (image.complete) {
            ready();
          } else {
            addListener(image, EVENT_LOAD, ready, true);
          }
        });
      } else {
        addListener(element, EVENT_CLICK, (_this._start = proxy(_this.start, _this)));
      }
    },

    ready: function () {
      var _this = this;

      _this.count++;

      if (_this.count === _this.length) {
        _this.build();
      }
    },

    build: function () {
      var _this = this;
      var options = _this.options;
      var element = _this.element;
      var template;
      var parent;
      var viewer;
      var button;
      var toolbar;
      var navbar;
      var title;
      var rotate;

      if (_this.isBuilt) {
        return;
      }

      template = document.createElement('div');
      template.innerHTML = Viewer.TEMPLATE;

      _this.parent = parent = element.parentNode;
      _this.viewer = viewer = getByClass(template, 'viewer-container')[0];
      _this.canvas = getByClass(viewer, 'viewer-canvas')[0];
      _this.footer = getByClass(viewer, 'viewer-footer')[0];
      _this.title = title = getByClass(viewer, 'viewer-title')[0];
      _this.toolbar = toolbar = getByClass(viewer, 'viewer-toolbar')[0];
      _this.navbar = navbar = getByClass(viewer, 'viewer-navbar')[0];
      _this.button = button = getByClass(viewer, 'viewer-button')[0];
      _this.tooltipBox = getByClass(viewer, 'viewer-tooltip')[0];
      _this.player = getByClass(viewer, 'viewer-player')[0];
      _this.list = getByClass(viewer, 'viewer-list')[0];

      addClass(title, !options.title ? CLASS_HIDE : getResponsiveClass(options.title));
      addClass(toolbar, !options.toolbar ? CLASS_HIDE : getResponsiveClass(options.toolbar));
      addClass(navbar, !options.navbar ? CLASS_HIDE : getResponsiveClass(options.navbar));
      toggleClass(button, CLASS_HIDE, !options.button);

      toggleClass(toolbar.querySelector('.viewer-one-to-one'), CLASS_INVISIBLE, !options.zoomable);
      toggleClass(toolbar.querySelectorAll('li[class*="zoom"]'), CLASS_INVISIBLE, !options.zoomable);
      toggleClass(toolbar.querySelectorAll('li[class*="flip"]'), CLASS_INVISIBLE, !options.scalable);

      if (!options.rotatable) {
        rotate = toolbar.querySelectorAll('li[class*="rotate"]');
        addClass(rotate, CLASS_INVISIBLE);
        appendChild(toolbar, rotate);
      }

      if (options.inline) {
        addClass(button, CLASS_FULLSCREEN);
        setStyle(viewer, {
          zIndex: options.zIndexInline
        });

        if (getStyle(parent).position === 'static') {
          setStyle(parent, {
            position: 'relative'
          });
        }
      } else {
        addClass(button, CLASS_CLOSE);
        addClass(viewer, CLASS_FIXED);
        addClass(viewer, CLASS_FADE);
        addClass(viewer, CLASS_HIDE);

        setStyle(viewer, {
          zIndex: options.zIndex
        });
      }

      // Inserts the viewer after to the current element
      parent.insertBefore(viewer, element.nextSibling);

      if (options.inline) {
        _this.render();
        _this.bind();
        _this.isShown = true;
      }

      _this.isBuilt = true;

      dispatchEvent(element, EVENT_READY);
    },

    unbuild: function () {
      var _this = this;

      if (!_this.isBuilt) {
        return;
      }

      _this.isBuilt = false;
      removeChild(_this.viewer);
    },

    bind: function () {
      var _this = this;
      var options = _this.options;
      var element = _this.element;
      var viewer = _this.viewer;

      if (isFunction(options.view)) {
        addListener(element, EVENT_VIEW, options.view);
      }

      if (isFunction(options.viewed)) {
        addListener(element, EVENT_VIEWED, options.viewed);
      }

      addListener(viewer, EVENT_CLICK, (_this._click = proxy(_this.click, _this)));
      addListener(viewer, EVENT_WHEEL, (_this._wheel = proxy(_this.wheel, _this)));
      addListener(_this.canvas, EVENT_MOUSEDOWN, (_this._mousedown = proxy(_this.mousedown, _this)));
      addListener(document, EVENT_MOUSEMOVE, (_this._mousemove = proxy(_this.mousemove, _this)));
      addListener(document, EVENT_MOUSEUP, (_this._mouseup = proxy(_this.mouseup, _this)));
      addListener(document, EVENT_KEYDOWN, (_this._keydown = proxy(_this.keydown, _this)));
      addListener(window, EVENT_RESIZE, (_this._resize = proxy(_this.resize, _this)));
    },

    unbind: function () {
      var _this = this;
      var options = _this.options;
      var element = _this.element;
      var viewer = _this.viewer;

      if (isFunction(options.view)) {
        removeListener(element, EVENT_VIEW, options.view);
      }

      if (isFunction(options.viewed)) {
        removeListener(element, EVENT_VIEWED, options.viewed);
      }

      removeListener(viewer, EVENT_CLICK, _this._click);
      removeListener(viewer, EVENT_WHEEL, _this._wheel);
      removeListener(_this.canvas, EVENT_MOUSEDOWN, _this._mousedown);
      removeListener(document, EVENT_MOUSEMOVE, _this._mousemove);
      removeListener(document, EVENT_MOUSEUP, _this._mouseup);
      removeListener(document, EVENT_KEYDOWN, _this._keydown);
      removeListener(window, EVENT_RESIZE, _this._resize);
    },

    render: function () {
      var _this = this;

      _this.initContainer();
      _this.initViewer();
      _this.initList();
      _this.renderViewer();
    },

    initContainer: function () {
      var _this = this;

      _this.containerData = {
        width: window.innerWidth,
        height: window.innerHeight
      };
    },

    initViewer: function () {
      var _this = this;
      var options = _this.options;
      var parent = _this.parent;
      var viewerData;

      if (options.inline) {
        _this.parentData = viewerData = {
          width: max(parent.offsetWidth, options.minWidth),
          height: max(parent.offsetHeight, options.minHeight)
        };
      }

      if (_this.isFulled || !viewerData) {
        viewerData = _this.containerData;
      }

      _this.viewerData = extend({}, viewerData);
    },

    renderViewer: function () {
      var _this = this;

      if (_this.options.inline && !_this.isFulled) {
        setStyle(_this.viewer, _this.viewerData);
      }
    },

    initList: function () {
      var _this = this;
      var options = _this.options;
      var element = _this.element;
      var list = _this.list;
      var items = [];

      each(_this.images, function (image, i) {
        var src = image.src;
        var alt = image.alt || getImageName(src);
        var url = options.url;

        if (!src) {
          return;
        }

        if (isString(url)) {
          url = image.getAttribute(url);
        } else if (isFunction(url)) {
          url = url.call(image, image);
        }

        items.push(
          '<li>' +
            '<img' +
              ' src="' + src + '"' +
              ' data-action="view"' +
              ' data-index="' +  i + '"' +
              ' data-original-url="' +  (url || src) + '"' +
              ' alt="' +  alt + '"' +
            '>' +
          '</li>'
        );
      });

      list.innerHTML = items.join('');

      each(getByTag(list, 'img'), function (image) {
        setData(image, 'filled', true);
        addListener(image, EVENT_LOAD, proxy(_this.loadImage, _this), true);
      });

      _this.items = getByTag(list, 'li');

      if (options.transition) {
        addListener(element, EVENT_VIEWED, function () {
          addClass(list, CLASS_TRANSITION);
        }, true);
      }
    },

    renderList: function (index) {
      var _this = this;
      var i = index || _this.index;
      var width = _this.items[i].offsetWidth || 30;
      var outerWidth = width + 1; // 1 pixel of `margin-left` width

      // Place the active item in the center of the screen
      setStyle(_this.list, {
        width: outerWidth * _this.length,
        marginLeft: (_this.viewerData.width - width) / 2 - outerWidth * i
      });
    },

    resetList: function () {
      var _this = this;

      empty(_this.list);
      removeClass(_this.list, CLASS_TRANSITION);
      setStyle({
        marginLeft: 0
      });
    },

    initImage: function (callback) {
      var _this = this;
      var options = _this.options;
      var image = _this.image;
      var viewerData = _this.viewerData;
      var footerHeight = _this.footer.offsetHeight;
      var viewerWidth = viewerData.width;
      var viewerHeight = max(viewerData.height - footerHeight, footerHeight);
      var oldImageData = _this.imageData || {};

      getImageSize(image, function (naturalWidth, naturalHeight) {
        var aspectRatio = naturalWidth / naturalHeight;
        var width = viewerWidth;
        var height = viewerHeight;
        var initialImageData;
        var imageData;

        if (viewerHeight * aspectRatio > viewerWidth) {
          height = viewerWidth / aspectRatio;
        } else {
          width = viewerHeight * aspectRatio;
        }

        width = min(width * 0.9, naturalWidth);
        height = min(height * 0.9, naturalHeight);

        imageData = {
          naturalWidth: naturalWidth,
          naturalHeight: naturalHeight,
          aspectRatio: aspectRatio,
          ratio: width / naturalWidth,
          width: width,
          height: height,
          left: (viewerWidth - width) / 2,
          top: (viewerHeight - height) / 2
        };

        initialImageData = extend({}, imageData);

        if (options.rotatable) {
          imageData.rotate = oldImageData.rotate || 0;
          initialImageData.rotate = 0;
        }

        if (options.scalable) {
          imageData.scaleX = oldImageData.scaleX || 1;
          imageData.scaleY = oldImageData.scaleY || 1;
          initialImageData.scaleX = 1;
          initialImageData.scaleY = 1;
        }

        _this.imageData = imageData;
        _this.initialImageData = initialImageData;

        if (isFunction(callback)) {
          callback();
        }
      });
    },

    renderImage: function (callback) {
      var _this = this;
      var image = _this.image;
      var imageData = _this.imageData;
      var transform = getTransform(imageData);

      setStyle(image, {
        width: imageData.width,
        height: imageData.height,
        marginLeft: imageData.left,
        marginTop: imageData.top,
        WebkitTransform: transform,
        msTransform: transform,
        transform: transform
      });

      if (isFunction(callback)) {
        if (_this.transitioning) {
          addListener(image, EVENT_TRANSITIONEND, callback, true);
        } else {
          callback();
        }
      }
    },

    resetImage: function () {
      var _this = this;

      // this.image only defined after viewed
      if (_this.image) {
        removeChild(_this.image);
        _this.image = null;
      }
    },

    start: function (event) {
      var _this = this;
      var e = getEvent(event);
      var target = e.target;

      if (target.tagName.toLowerCase() === 'img') {
        _this.target = target;
        _this.show();
      }
    },

    click: function (event) {
      var _this = this;
      var e = getEvent(event);
      var target = e.target;
      var action = getData(target, 'action');
      var imageData = _this.imageData;

      switch (action) {
        case 'mix':
          if (_this.isPlayed) {
            _this.stop();
          } else {
            if (_this.options.inline) {
              if (_this.isFulled) {
                _this.exit();
              } else {
                _this.full();
              }
            } else {
              _this.hide();
            }
          }

          break;

        case 'view':
          _this.view(getData(target, 'index'));
          break;

        case 'zoom-in':
          _this.zoom(0.1, true);
          break;

        case 'zoom-out':
          _this.zoom(-0.1, true);
          break;

        case 'one-to-one':
          _this.toggle();
          break;

        case 'reset':
          _this.reset();
          break;

        case 'prev':
          _this.prev();
          break;

        case 'play':
          _this.play();
          break;

        case 'next':
          _this.next();
          break;

        case 'rotate-left':
          _this.rotate(-90);
          break;

        case 'rotate-right':
          _this.rotate(90);
          break;

        case 'flip-horizontal':
          _this.scaleX(-imageData.scaleX || -1);
          break;

        case 'flip-vertical':
          _this.scaleY(-imageData.scaleY || -1);
          break;

        default:
          if (_this.isPlayed) {
            _this.stop();
          }
      }
    },

    load: function () {
      var _this = this;
      var options = _this.options;
      var image = _this.image;
      var index = _this.index;
      var viewerData = _this.viewerData;

      if (_this.timeout) {
        clearTimeout(_this.timeout);
        _this.timeout = false;
      }

      removeClass(image, CLASS_INVISIBLE);

      image.style.cssText = (
        'width:0;' +
        'height:0;' +
        'margin-left:' + viewerData.width / 2 + 'px;' +
        'margin-top:' + viewerData.height / 2 + 'px;' +
        'max-width:none!important;' +
        'visibility:visible;'
      );

      _this.initImage(function () {
        toggleClass(image, CLASS_TRANSITION, options.transition);
        toggleClass(image, CLASS_MOVE, options.movable);

        _this.renderImage(function () {
          _this.isViewed = true;
          dispatchEvent(_this.element, EVENT_VIEWED, {
            originalImage: _this.images[index],
            index: index,
            image: image
          });
        });
      });
    },

    loadImage: function (event) {
      var e = getEvent(event);
      var image = e.target;
      var parent = image.parentNode;
      var parentWidth = parent.offsetWidth || 30;
      var parentHeight = parent.offsetHeight || 50;
      var filled = !!getData(image, 'filled');

      getImageSize(image, function (naturalWidth, naturalHeight) {
        var aspectRatio = naturalWidth / naturalHeight;
        var width = parentWidth;
        var height = parentHeight;

        if (parentHeight * aspectRatio > parentWidth) {
          if (filled) {
            width = parentHeight * aspectRatio;
          } else {
            height = parentWidth / aspectRatio;
          }
        } else {
          if (filled) {
            height = parentWidth / aspectRatio;
          } else {
            width = parentHeight * aspectRatio;
          }
        }

        setStyle(image, {
          width: width,
          height: height,
          marginLeft: (parentWidth - width) / 2,
          marginTop: (parentHeight - height) / 2
        });
      });
    },

    resize: function () {
      var _this = this;

      _this.initContainer();
      _this.initViewer();
      _this.renderViewer();
      _this.renderList();

      if (_this.isViewed) {
        _this.initImage(function () {
          _this.renderImage();
        });
      }

      if (_this.isPlayed) {
        each(getByTag(_this.player, 'img'), function (image) {
          addListener(image, EVENT_LOAD, proxy(_this.loadImage, _this), true);
          dispatchEvent(image, EVENT_LOAD);
        });
      }
    },

    wheel: function (event) {
      var _this = this;
      var e = getEvent(event);
      var ratio = Number(_this.options.zoomRatio) || 0.1;
      var delta = 1;

      if (!_this.isViewed) {
        return;
      }

      preventDefault(e);

      // Limit wheel speed to prevent zoom too fast
      if (_this.wheeling) {
        return;
      }

      _this.wheeling = true;

      setTimeout(function () {
        _this.wheeling = false;
      }, 50);

      if (e.deltaY) {
        delta = e.deltaY > 0 ? 1 : -1;
      } else if (e.wheelDelta) {
        delta = -e.wheelDelta / 120;
      } else if (e.detail) {
        delta = e.detail > 0 ? 1 : -1;
      }

      _this.zoom(-delta * ratio, true, e);
    },

    keydown: function (event) {
      var _this = this;
      var e = getEvent(event);
      var options = _this.options;
      var key = e.keyCode || e.which || e.charCode;

      if (!_this.isFulled || !options.keyboard) {
        return;
      }

      switch (key) {

        // (Key: Esc)
        case 27:
          if (_this.isPlayed) {
            _this.stop();
          } else {
            if (options.inline) {
              if (_this.isFulled) {
                _this.exit();
              }
            } else {
              _this.hide();
            }
          }

          break;

        // (Key: Space)
        case 32:
          if (_this.isPlayed) {
            _this.stop();
          }

          break;

        // View previous (Key: ←)
        case 37:
          _this.prev();
          break;

        // Zoom in (Key: ↑)
        case 38:

          // Prevent scroll on Firefox
          preventDefault(e);

          _this.zoom(options.zoomRatio, true);
          break;

        // View next (Key: →)
        case 39:
          _this.next();
          break;

        // Zoom out (Key: ↓)
        case 40:

          // Prevent scroll on Firefox
          preventDefault(e);

          _this.zoom(-options.zoomRatio, true);
          break;

        // Zoom out to initial size (Key: Ctrl + 0)
        case 48:
          // Go to next

        // Zoom in to natural size (Key: Ctrl + 1)
        case 49:
          if (e.ctrlKey || e.shiftKey) {
            preventDefault(e);
            _this.toggle();
          }

          break;

        // No default
      }
    },

    mousedown: function (event) {
      var _this = this;
      var options = _this.options;
      var pointers = _this.pointers;
      var e = getEvent(event);
      var action = options.movable ? 'move' : false;

      if (!_this.isViewed) {
        return;
      }

      if (e.changedTouches) {
        each(e.changedTouches, function (touch) {
          pointers[touch.identifier] = getPointer(touch);
        });
      } else {
        pointers[e.pointerId || 0] = getPointer(e);
      }

      if (Object.keys(pointers).length > 1) {
        action = 'zoom';
      } else if ((e.pointerType === 'touch' || e.type === 'touchmove') && _this.isSwitchable()) {
        action = 'switch';
      }

      _this.action = action;
    },

    mousemove: function (event) {
      var _this = this;
      var options = _this.options;
      var pointers = _this.pointers;
      var e = getEvent(event);
      var action = _this.action;
      var image = _this.image;

      if (!_this.isViewed || !action) {
        return;
      }

      preventDefault(e);

      if (e.changedTouches) {
        each(e.changedTouches, function (touch) {
          extend(pointers[touch.identifier], getPointer(touch), true);
        });
      } else {
        extend(pointers[e.pointerId || 0], getPointer(e, true));
      }

      if (action === 'move' && options.transition && hasClass(image, CLASS_TRANSITION)) {
        removeClass(image, CLASS_TRANSITION);
      }

      _this.change(e);
    },

    mouseup: function (event) {
      var _this = this;
      var pointers = _this.pointers;
      var e = getEvent(event);
      var action = _this.action;

      if (!action) {
        return;
      }

      if (e.changedTouches) {
        each(e.changedTouches, function (touch) {
          delete pointers[touch.identifier];
        });
      } else {
        delete pointers[e.pointerId || 0];
      }

      if (!Object.keys(pointers).length) {
        if (action === 'move' && _this.options.transition) {
          addClass(_this.image, CLASS_TRANSITION);
        }

        _this.action = false;
      }
    },

    // Show the viewer (only available in modal mode)
    show: function () {
      var _this = this;
      var options = _this.options;
      var element = _this.element;
      var viewer;

      if (options.inline || _this.transitioning) {
        return _this;
      }

      if (!_this.isBuilt) {
        _this.build();
      }

      viewer = _this.viewer;

      if (isFunction(options.show)) {
        addListener(element, EVENT_SHOW, options.show, true);
      }

      if (dispatchEvent(element, EVENT_SHOW) === false) {
        return _this;
      }

      _this.open();
      removeClass(viewer, CLASS_HIDE);

      addListener(element, EVENT_SHOWN, function () {
        _this.view(_this.target ? inArray(_this.target, toArray(_this.images)) : _this.index);
        _this.target = false;
      }, true);

      if (options.transition) {
        _this.transitioning = true;
        addClass(viewer, CLASS_TRANSITION);
        forceReflow(viewer);
        addListener(viewer, EVENT_TRANSITIONEND, proxy(_this.shown, _this), true);
        addClass(viewer, CLASS_IN);
      } else {
        addClass(viewer, CLASS_IN);
        _this.shown();
      }

      return _this;
    },

    // Hide the viewer (only available in modal mode)
    hide: function () {
      var _this = this;
      var options = _this.options;
      var element = _this.element;
      var viewer = _this.viewer;

      if (options.inline || _this.transitioning || !_this.isShown) {
        return _this;
      }

      if (isFunction(options.hide)) {
        addListener(element, EVENT_HIDE, options.hide, true);
      }

      if (dispatchEvent(element, EVENT_HIDE) === false) {
        return _this;
      }

      if (_this.isViewed && options.transition) {
        _this.transitioning = true;
        addListener(_this.image, EVENT_TRANSITIONEND, function () {
          addListener(viewer, EVENT_TRANSITIONEND, proxy(_this.hidden, _this), true);
          removeClass(viewer, CLASS_IN);
        }, true);
        _this.zoomTo(0, false, false, true);
      } else {
        removeClass(viewer, CLASS_IN);
        _this.hidden();
      }

      return _this;
    },

    /**
     * View one of the images with image's index
     *
     * @param {Number} index
     */
    view: function (index) {
      var _this = this;
      var element = _this.element;
      var title = _this.title;
      var canvas = _this.canvas;
      var image;
      var item;
      var img;
      var url;
      var alt;

      index = Number(index) || 0;

      if (!_this.isShown || _this.isPlayed || index < 0 || index >= _this.length ||
        _this.isViewed && index === _this.index) {
        return _this;
      }

      item = _this.items[index];
      img = getByTag(item, 'img')[0];
      url = getData(img, 'originalUrl');
      alt = img.getAttribute('alt');

      image = document.createElement('img');
      image.src = url;
      image.alt = alt;

      if (dispatchEvent(element, EVENT_VIEW, {
        originalImage: _this.images[index],
        index: index,
        image: image
      }) === false) {
        return _this;
      }

      _this.image = image;

      if (_this.isViewed) {
        removeClass(_this.items[_this.index], CLASS_ACTIVE);
      }

      addClass(item, CLASS_ACTIVE);

      _this.isViewed = false;
      _this.index = index;
      _this.imageData = null;

      addClass(image, CLASS_INVISIBLE);
      empty(canvas);
      appendChild(canvas, image);

      // Center current item
      _this.renderList();

      // Clear title
      empty(title);

      // Generate title after viewed
      addListener(element, EVENT_VIEWED, function () {
        var imageData = _this.imageData;
        var width = imageData.naturalWidth;
        var height = imageData.naturalHeight;

        setText(title, alt + ' (' + width + ' × ' + height + ')');
      }, true);

      if (image.complete) {
        _this.load();
      } else {
        addListener(image, EVENT_LOAD, proxy(_this.load, _this), true);

        if (_this.timeout) {
          clearTimeout(_this.timeout);
        }

        // Make the image visible if it fails to load within 1s
        _this.timeout = setTimeout(function () {
          removeClass(image, CLASS_INVISIBLE);
          _this.timeout = false;
        }, 1000);
      }

      return _this;
    },

    // View the previous image
    prev: function () {
      var _this = this;

      _this.view(max(_this.index - 1, 0));

      return _this;
    },

    // View the next image
    next: function () {
      var _this = this;

      _this.view(min(_this.index + 1, _this.length - 1));

      return _this;
    },

    /**
     * Move the image with relative offsets
     *
     * @param {Number} offsetX
     * @param {Number} offsetY (optional)
     */
    move: function (offsetX, offsetY) {
      var _this = this;
      var imageData = _this.imageData;

      _this.moveTo(
        isUndefined(offsetX) ? offsetX : imageData.left + Number(offsetX),
        isUndefined(offsetY) ? offsetY : imageData.top + Number(offsetY)
      );

      return _this;
    },

    /**
     * Move the image to an absolute point
     *
     * @param {Number} x
     * @param {Number} y (optional)
     */
    moveTo: function (x, y) {
      var _this = this;
      var imageData = _this.imageData;
      var changed = false;

      // If "y" is not present, its default value is "x"
      if (isUndefined(y)) {
        y = x;
      }

      x = Number(x);
      y = Number(y);

      if (_this.isViewed && !_this.isPlayed && _this.options.movable) {
        if (isNumber(x)) {
          imageData.left = x;
          changed = true;
        }

        if (isNumber(y)) {
          imageData.top = y;
          changed = true;
        }

        if (changed) {
          _this.renderImage();
        }
      }

      return _this;
    },

    /**
     * Zoom the image with a relative ratio
     *
     * @param {Number} ratio
     * @param {Boolean} hasTooltip (optional)
     * @param {Event} _originalEvent (private)
     */
    zoom: function (ratio, hasTooltip, _originalEvent) {
      var _this = this;
      var imageData = _this.imageData;

      ratio = Number(ratio);

      if (ratio < 0) {
        ratio =  1 / (1 - ratio);
      } else {
        ratio = 1 + ratio;
      }

      _this.zoomTo(imageData.width * ratio / imageData.naturalWidth, hasTooltip, _originalEvent);

      return _this;
    },

    /**
     * Zoom the image to an absolute ratio
     *
     * @param {Number} ratio
     * @param {Boolean} hasTooltip (optional)
     * @param {Event} _originalEvent (private)
     * @param {Boolean} _zoomable (private)
     */
    zoomTo: function (ratio, hasTooltip, _originalEvent, _zoomable) {
      var _this = this;
      var options = _this.options;
      var pointers = _this.pointers;
      var minZoomRatio = 0.01;
      var maxZoomRatio = 100;
      var imageData = _this.imageData;
      var newWidth;
      var newHeight;
      var offset;
      var center;

      ratio = max(0, ratio);

      if (isNumber(ratio) && _this.isViewed && !_this.isPlayed && (_zoomable || options.zoomable)) {
        if (!_zoomable) {
          minZoomRatio = max(minZoomRatio, options.minZoomRatio);
          maxZoomRatio = min(maxZoomRatio, options.maxZoomRatio);
          ratio = min(max(ratio, minZoomRatio), maxZoomRatio);
        }

        if (ratio > 0.95 && ratio < 1.05) {
          ratio = 1;
        }

        newWidth = imageData.naturalWidth * ratio;
        newHeight = imageData.naturalHeight * ratio;

        if (_originalEvent) {
          offset = getOffset(_this.viewer);
          center = pointers && Object.keys(pointers).length ? getPointersCenter(pointers) : {
            pageX: _originalEvent.pageX,
            pageY: _originalEvent.pageY
          };

          // Zoom from the triggering point of the event
          imageData.left -= (newWidth - imageData.width) * (
            ((center.pageX - offset.left) - imageData.left) / imageData.width
          );
          imageData.top -= (newHeight - imageData.height) * (
            ((center.pageY - offset.top) - imageData.top) / imageData.height
          );
        } else {

          // Zoom from the center of the image
          imageData.left -= (newWidth - imageData.width) / 2;
          imageData.top -= (newHeight - imageData.height) / 2;
        }

        imageData.width = newWidth;
        imageData.height = newHeight;
        imageData.ratio = ratio;
        _this.renderImage();

        if (hasTooltip) {
          _this.tooltip();
        }
      }

      return _this;
    },

    /**
     * Rotate the image with a relative degree
     *
     * @param {Number} degree
     */
    rotate: function (degree) {
      var _this = this;

      _this.rotateTo((_this.imageData.rotate || 0) + Number(degree));

      return _this;
    },

    /**
     * Rotate the image to an absolute degree
     * https://developer.mozilla.org/en-US/docs/Web/CSS/transform-function#rotate()
     *
     * @param {Number} degree
     */
    rotateTo: function (degree) {
      var _this = this;
      var imageData = _this.imageData;

      degree = Number(degree);

      if (isNumber(degree) && _this.isViewed && !_this.isPlayed && _this.options.rotatable) {
        imageData.rotate = degree;
        _this.renderImage();
      }

      return _this;
    },

    /**
     * Scale the image
     * https://developer.mozilla.org/en-US/docs/Web/CSS/transform-function#scale()
     *
     * @param {Number} scaleX
     * @param {Number} scaleY (optional)
     */
    scale: function (scaleX, scaleY) {
      var _this = this;
      var imageData = _this.imageData;
      var changed = false;

      // If "scaleY" is not present, its default value is "scaleX"
      if (isUndefined(scaleY)) {
        scaleY = scaleX;
      }

      scaleX = Number(scaleX);
      scaleY = Number(scaleY);

      if (_this.isViewed && !_this.isPlayed && _this.options.scalable) {
        if (isNumber(scaleX)) {
          imageData.scaleX = scaleX;
          changed = true;
        }

        if (isNumber(scaleY)) {
          imageData.scaleY = scaleY;
          changed = true;
        }

        if (changed) {
          _this.renderImage();
        }
      }

      return _this;
    },

    /**
     * Scale the abscissa of the image
     *
     * @param {Number} scaleX
     */
    scaleX: function (scaleX) {
      var _this = this;

      _this.scale(scaleX, _this.imageData.scaleY);

      return _this;
    },

    /**
     * Scale the ordinate of the image
     *
     * @param {Number} scaleY
     */
    scaleY: function (scaleY) {
      var _this = this;

      _this.scale(_this.imageData.scaleX, scaleY);

      return _this;
    },

    // Play the images
    play: function () {
      var _this = this;
      var options = _this.options;
      var player = _this.player;
      var load = proxy(_this.loadImage, _this);
      var list = [];
      var total = 0;
      var index = 0;
      var playing;

      if (!_this.isShown || _this.isPlayed) {
        return _this;
      }

      if (options.fullscreen) {
        _this.requestFullscreen();
      }

      _this.isPlayed = true;
      addClass(player, CLASS_SHOW);

      each(_this.items, function (item, i) {
        var img = getByTag(item, 'img')[0];
        var image = document.createElement('img');

        image.src = getData(img, 'originalUrl');
        image.alt = img.getAttribute('alt');
        total++;

        addClass(image, CLASS_FADE);
        toggleClass(image, CLASS_TRANSITION, options.transition);

        if (hasClass(item, CLASS_ACTIVE)) {
          addClass(image, CLASS_IN);
          index = i;
        }

        list.push(image);
        addListener(image, EVENT_LOAD, load, true);
        appendChild(player, image);
      });

      if (isNumber(options.interval) && options.interval > 0) {
        playing = function () {
          _this.playing = setTimeout(function () {
            removeClass(list[index], CLASS_IN);
            index++;
            index = index < total ? index : 0;
            addClass(list[index], CLASS_IN);

            playing();
          }, options.interval);
        };

        if (total > 1) {
          playing();
        }
      }

      return _this;
    },

    // Stop play
    stop: function () {
      var _this = this;
      var player = _this.player;

      if (!_this.isPlayed) {
        return _this;
      }

      if (_this.options.fullscreen) {
        _this.exitFullscreen();
      }

      _this.isPlayed = false;
      clearTimeout(_this.playing);
      removeClass(player, CLASS_SHOW);
      empty(player);

      return _this;
    },

    // Enter modal mode (only available in inline mode)
    full: function () {
      var _this = this;
      var options = _this.options;
      var viewer = _this.viewer;
      var image = _this.image;
      var list = _this.list;

      if (!_this.isShown || _this.isPlayed || _this.isFulled || !options.inline) {
        return _this;
      }

      _this.isFulled = true;
      _this.open();
      addClass(_this.button, CLASS_FULLSCREEN_EXIT);

      if (options.transition) {
        removeClass(image, CLASS_TRANSITION);
        removeClass(list, CLASS_TRANSITION);
      }

      addClass(viewer, CLASS_FIXED);
      viewer.setAttribute('style', '');
      setStyle(viewer, {
        zIndex: options.zIndex
      });

      _this.initContainer();
      _this.viewerData = extend({}, _this.containerData);
      _this.renderList();
      _this.initImage(function () {
        _this.renderImage(function () {
          if (options.transition) {
            setTimeout(function () {
              addClass(image, CLASS_TRANSITION);
              addClass(list, CLASS_TRANSITION);
            }, 0);
          }
        });
      });

      return _this;
    },

    // Exit modal mode (only available in inline mode)
    exit: function () {
      var _this = this;
      var options = _this.options;
      var viewer = _this.viewer;
      var image = _this.image;
      var list = _this.list;

      if (!_this.isFulled) {
        return _this;
      }

      _this.isFulled = false;
      _this.close();
      removeClass(_this.button, CLASS_FULLSCREEN_EXIT);

      if (options.transition) {
        removeClass(image, CLASS_TRANSITION);
        removeClass(list, CLASS_TRANSITION);
      }

      removeClass(viewer, CLASS_FIXED);
      setStyle(viewer, {
        zIndex: options.zIndexInline
      });

      _this.viewerData = extend({}, _this.parentData);
      _this.renderViewer();
      _this.renderList();
      _this.initImage(function () {
        _this.renderImage(function () {
          if (options.transition) {
            setTimeout(function () {
              addClass(image, CLASS_TRANSITION);
              addClass(list, CLASS_TRANSITION);
            }, 0);
          }
        });
      });

      return _this;
    },

    // Show the current ratio of the image with percentage
    tooltip: function () {
      var _this = this;
      var options = _this.options;
      var tooltipBox = _this.tooltipBox;
      var imageData = _this.imageData;

      if (!_this.isViewed || _this.isPlayed || !options.tooltip) {
        return _this;
      }

      setText(tooltipBox, round(imageData.ratio * 100) + '%');

      if (!_this.tooltiping) {
        if (options.transition) {
          if (_this.fading) {
            dispatchEvent(tooltipBox, EVENT_TRANSITIONEND);
          }

          addClass(tooltipBox, CLASS_SHOW);
          addClass(tooltipBox, CLASS_FADE);
          addClass(tooltipBox, CLASS_TRANSITION);
          forceReflow(tooltipBox);
          addClass(tooltipBox, CLASS_IN);
        } else {
          addClass(tooltipBox, CLASS_SHOW);
        }
      } else {
        clearTimeout(_this.tooltiping);
      }

      _this.tooltiping = setTimeout(function () {
        if (options.transition) {
          addListener(tooltipBox, EVENT_TRANSITIONEND, function () {
            removeClass(tooltipBox, CLASS_SHOW);
            removeClass(tooltipBox, CLASS_FADE);
            removeClass(tooltipBox, CLASS_TRANSITION);
            _this.fading = false;
          }, true);

          removeClass(tooltipBox, CLASS_IN);
          _this.fading = true;
        } else {
          removeClass(tooltipBox, CLASS_SHOW);
        }

        _this.tooltiping = false;
      }, 1000);

      return _this;
    },

    // Toggle the image size between its natural size and initial size
    toggle: function () {
      var _this = this;

      if (_this.imageData.ratio === 1) {
        _this.zoomTo(_this.initialImageData.ratio, true);
      } else {
        _this.zoomTo(1, true);
      }

      return _this;
    },

    // Reset the image to its initial state
    reset: function () {
      var _this = this;

      if (_this.isViewed && !_this.isPlayed) {
        _this.imageData = extend({}, _this.initialImageData);
        _this.renderImage();
      }

      return _this;
    },

    // Update viewer when images changed
    update: function () {
      var _this = this;
      var indexes = [];
      var index;

      // Destroy viewer if the target image was deleted
      if (_this.isImg && !_this.element.parentNode) {
        return _this.destroy();
      }

      _this.length = _this.images.length;

      if (_this.isBuilt) {
        each(_this.items, function (item, i) {
          var img = getByTag(item, 'img')[0];
          var image = _this.images[i];

          if (image) {
            if (image.src !== img.src) {
              indexes.push(i);
            }
          } else {
            indexes.push(i);
          }
        });

        setStyle(_this.list, {
          width: 'auto'
        });

        _this.initList();

        if (_this.isShown) {
          if (_this.length) {
            if (_this.isViewed) {
              index = inArray(_this.index, indexes);

              if (index >= 0) {
                _this.isViewed = false;
                _this.view(max(_this.index - (index + 1), 0));
              } else {
                addClass(_this.items[_this.index], CLASS_ACTIVE);
              }
            }
          } else {
            _this.image = null;
            _this.isViewed = false;
            _this.index = 0;
            _this.imageData = null;
            empty(_this.canvas);
            empty(_this.title);
          }
        }
      }

      return _this;
    },

    // Destroy the viewer
    destroy: function () {
      var _this = this;
      var element = _this.element;

      if (_this.options.inline) {
        _this.unbind();
      } else {
        if (_this.isShown) {
          _this.unbind();
        }

        removeListener(element, EVENT_CLICK, _this._start);
      }

      _this.unbuild();
      removeData(element, NAMESPACE);

      return _this;
    },

    open: function () {
      var body = this.body;

      addClass(body, CLASS_OPEN);
      body.style.paddingRight = this.scrollbarWidth + 'px';
    },

    close: function () {
      var body = this.body;

      removeClass(body, CLASS_OPEN);
      body.style.paddingRight = 0;
    },

    shown: function () {
      var _this = this;
      var options = _this.options;
      var element = _this.element;

      _this.transitioning = false;
      _this.isFulled = true;
      _this.isShown = true;
      _this.isVisible = true;
      _this.render();
      _this.bind();

      if (isFunction(options.shown)) {
        addListener(element, EVENT_SHOWN, options.shown, true);
      }

      dispatchEvent(element, EVENT_SHOWN);
    },

    hidden: function () {
      var _this = this;
      var options = _this.options;
      var element = _this.element;

      _this.transitioning = false;
      _this.isViewed = false;
      _this.isFulled = false;
      _this.isShown = false;
      _this.isVisible = false;
      _this.unbind();
      _this.close();
      addClass(_this.viewer, CLASS_HIDE);
      _this.resetList();
      _this.resetImage();

      if (isFunction(options.hidden)) {
        addListener(element, EVENT_HIDDEN, options.hidden, true);
      }

      dispatchEvent(element, EVENT_HIDDEN);
    },

    requestFullscreen: function () {
      var _this = this;
      var documentElement = document.documentElement;

      if (_this.isFulled && !document.fullscreenElement && !document.mozFullScreenElement &&
        !document.webkitFullscreenElement && !document.msFullscreenElement) {

        if (documentElement.requestFullscreen) {
          documentElement.requestFullscreen();
        } else if (documentElement.msRequestFullscreen) {
          documentElement.msRequestFullscreen();
        } else if (documentElement.mozRequestFullScreen) {
          documentElement.mozRequestFullScreen();
        } else if (documentElement.webkitRequestFullscreen) {
          documentElement.webkitRequestFullscreen(Element.ALLOW_KEYBOARD_INPUT);
        }
      }
    },

    exitFullscreen: function () {
      var _this = this;

      if (_this.isFulled) {
        if (document.exitFullscreen) {
          document.exitFullscreen();
        } else if (document.msExitFullscreen) {
          document.msExitFullscreen();
        } else if (document.mozCancelFullScreen) {
          document.mozCancelFullScreen();
        } else if (document.webkitExitFullscreen) {
          document.webkitExitFullscreen();
        }
      }
    },

    change: function (e) {
      var _this = this;
      var pointers = _this.pointers;
      var pointer = pointers[Object.keys(pointers)[0]];
      var offsetX = pointer.endX - pointer.startX;
      var offsetY = pointer.endY - pointer.startY;

      switch (_this.action) {

        // Move the current image
        case 'move':
          _this.move(offsetX, offsetY);
          break;

        // Zoom the current image
        case 'zoom':
          _this.zoom(getMaxZoomRatio(pointers), false, e);
          break;

        case 'switch':
          _this.action = 'switched';

          if (abs(offsetX) > abs(offsetY)) {
            if (offsetX > 1) {
              _this.prev();
            } else if (offsetX < -1) {
              _this.next();
            }
          }

          break;

        // No default
      }

      // Override
      each(pointers, function (p) {
        p.startX = p.endX;
        p.startY = p.endY;
      });
    },

    isSwitchable: function () {
      var _this = this;
      var imageData = _this.imageData;
      var viewerData = _this.viewerData;

      return _this.length > 1 && imageData.left >= 0 && imageData.top >= 0 &&
        imageData.width <= viewerData.width &&
        imageData.height <= viewerData.height;
    }
  };

  Viewer.DEFAULTS = {

    // Enable inline mode
    inline: false,

    // Show the button on the top-right of the viewer
    button: true,

    // Show the navbar
    navbar: true,

    // Show the title
    title: true,

    // Show the toolbar
    toolbar: true,

    // Show the tooltip with image ratio (percentage) when zoom in or zoom out
    tooltip: true,

    // Enable to move the image
    movable: true,

    // Enable to zoom the image
    zoomable: true,

    // Enable to rotate the image
    rotatable: true,

    // Enable to scale the image
    scalable: true,

    // Enable CSS3 Transition for some special elements
    transition: true,

    // Enable to request fullscreen when play
    fullscreen: true,

    // Enable keyboard support
    keyboard: true,

    // Define interval of each image when playing
    interval: 5000,

    // Min width of the viewer in inline mode
    minWidth: 200,

    // Min height of the viewer in inline mode
    minHeight: 100,

    // Define the ratio when zoom the image by wheeling mouse
    zoomRatio: 0.1,

    // Define the min ratio of the image when zoom out
    minZoomRatio: 0.01,

    // Define the max ratio of the image when zoom in
    maxZoomRatio: 100,

    // Define the CSS `z-index` value of viewer in modal mode.
    zIndex: 2015,

    // Define the CSS `z-index` value of viewer in inline mode.
    zIndexInline: 0,

    // Define where to get the original image URL for viewing
    // Type: String (an image attribute) or Function (should return an image URL)
    url: 'src',

    // Event shortcuts
    ready: null,
    show: null,
    shown: null,
    hide: null,
    hidden: null,
    view: null,
    viewed: null
  };

  Viewer.TEMPLATE = (
    '<div class="viewer-container">' +
      '<div class="viewer-canvas"></div>' +
      '<div class="viewer-footer">' +
        '<div class="viewer-title"></div>' +
        '<ul class="viewer-toolbar">' +
          '<li class="viewer-zoom-in" data-action="zoom-in"></li>' +
          '<li class="viewer-zoom-out" data-action="zoom-out"></li>' +
          '<li class="viewer-one-to-one" data-action="one-to-one"></li>' +
          '<li class="viewer-reset" data-action="reset"></li>' +
          '<li class="viewer-prev" data-action="prev"></li>' +
          '<li class="viewer-play" data-action="play"></li>' +
          '<li class="viewer-next" data-action="next"></li>' +
          '<li class="viewer-rotate-left" data-action="rotate-left"></li>' +
          '<li class="viewer-rotate-right" data-action="rotate-right"></li>' +
          '<li class="viewer-flip-horizontal" data-action="flip-horizontal"></li>' +
          '<li class="viewer-flip-vertical" data-action="flip-vertical"></li>' +
        '</ul>' +
        '<div class="viewer-navbar">' +
          '<ul class="viewer-list"></ul>' +
        '</div>' +
      '</div>' +
      '<div class="viewer-tooltip"></div>' +
      '<div class="viewer-button" data-action="mix"></div>' +
      '<div class="viewer-player"></div>' +
    '</div>'
  );

  var _Viewer = window.Viewer;

  Viewer.noConflict = function () {
    window.Viewer = _Viewer;
    return Viewer;
  };

  Viewer.setDefaults = function (options) {
    extend(Viewer.DEFAULTS, options);
  };

  if (typeof define === 'function' && define.amd) {
    define('viewer', [], function () {
      return Viewer;
    });
  }

  if (!noGlobal) {
    window.Viewer = Viewer;
  }

  return Viewer;

});

},{}]},{},["/Users/cescwang/program/sil/SIL-frontend/app/app.js"])
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJhcHAvYXBwLmpzIiwiYXBwL2NvbW1vbi9iYXNlL2Jhc2UubW9kdWxlLmpzIiwiYXBwL2NvbW1vbi9iYXNlL2Jhc2Uuc2VydmljZS5qcyIsImFwcC9jb21tb24vYmFzZS9iYXNlTGlzdC5jb250cm9sbGVyLmpzIiwiYXBwL2NvbW1vbi9jb21tb24ubW9kdWxlLmpzIiwiYXBwL2NvbW1vbi9jb21wb25lbnRzL2JhY2stdG9wL2JhY2stdG9wLmpzIiwiYXBwL2NvbW1vbi9jb21wb25lbnRzL2NvbXBvbmVudHMubW9kdWxlLmpzIiwiYXBwL2NvbW1vbi9jb21wb25lbnRzL2lubGluZS1uYXYvaW5kZXguanMiLCJhcHAvY29tbW9uL2NvbXBvbmVudHMvaW5saW5lLW5hdi9pbmxpbmUtbmF2LmN0cmwuanMiLCJhcHAvY29tbW9uL2NvbXBvbmVudHMvbWMtc3RlcC9jdHJsLmpzIiwiYXBwL2NvbW1vbi9jb21wb25lbnRzL21jLXN0ZXAvaW5kZXguanMiLCJhcHAvY29tbW9uL2NvbnN0YW50cy9yZWdFeHBSdWxlLmpzIiwiYXBwL2NvbW1vbi9kaXJlY3RpdmVzL2RpcmVjdGl2ZXMubW9kdWxlLmpzIiwiYXBwL2NvbW1vbi9kaXJlY3RpdmVzL2VtcHR5VGlwLmRpcmVjdGl2ZS5qcyIsImFwcC9jb21tb24vZGlyZWN0aXZlcy9maWx0ZXItbGlzdC9pbmRleC5qcyIsImFwcC9jb21tb24vZGlyZWN0aXZlcy9mb3JtLWVkaXRhYmxlL2Zvcm0tZWRpdGFibGUuY3RybC5qcyIsImFwcC9jb21tb24vZGlyZWN0aXZlcy9mb3JtLWVkaXRhYmxlL2luZGV4LmpzIiwiYXBwL2NvbW1vbi9kaXJlY3RpdmVzL2ltZ0xhenlMb2FkLmRpcmVjdGl2ZS5qcyIsImFwcC9jb21tb24vZGlyZWN0aXZlcy9rZXlFdmVudC5kaXJlY3RpdmUuanMiLCJhcHAvY29tbW9uL2RpcmVjdGl2ZXMvbWNCYXRjaFVwbG9hZEJhbmsvaW5kZXguanMiLCJhcHAvY29tbW9uL2RpcmVjdGl2ZXMvbWNCYXRjaFVwbG9hZFVzZXIvaW5kZXguanMiLCJhcHAvY29tbW9uL2RpcmVjdGl2ZXMvbWNCYXRjaFVwbG9hZFZjL2luZGV4LmpzIiwiYXBwL2NvbW1vbi9kaXJlY3RpdmVzL3Jlc2l6YWJsZS5kaXJlY3RpdmUuanMiLCJhcHAvY29tbW9uL2ZpbHRlcnMvYWRkcmVzc0Zvcm1hdC5qcyIsImFwcC9jb21tb24vZmlsdGVycy9kYXlUaW1lLmpzIiwiYXBwL2NvbW1vbi9maWx0ZXJzL2Rpc2Vhc2VIaXN0b3J5LmpzIiwiYXBwL2NvbW1vbi9maWx0ZXJzL2ZpbHRlcnMubW9kdWxlLmpzIiwiYXBwL2NvbW1vbi9maWx0ZXJzL2ZpeC5qcyIsImFwcC9jb21tb24vZmlsdGVycy9tb2RlSWQuanMiLCJhcHAvY29tbW9uL2ZpbHRlcnMvb2xkVHlwZS5qcyIsImFwcC9jb21tb24vZmlsdGVycy9vcmRlclNvdXJjZS5qcyIsImFwcC9jb21tb24vZmlsdGVycy9vcmRlclN0YXR1cy5qcyIsImFwcC9jb21tb24vZmlsdGVycy9wYXlXYXkuanMiLCJhcHAvY29tbW9uL2ZpbHRlcnMvc2VydmljZVR5cGUuanMiLCJhcHAvY29tbW9uL2ZpbHRlcnMvc2VydmljZVdheS5qcyIsImFwcC9jb21tb24vZmlsdGVycy90aW1lRm9ybWF0LmpzIiwiYXBwL2NvbW1vbi9zZXJ2aWNlcy9hY2Nlc3NDb250cm9sLnNlcnZpY2UuanMiLCJhcHAvY29tbW9uL3NlcnZpY2VzL2NvbmZpZy5zZXJ2aWNlLmpzIiwiYXBwL2NvbW1vbi9zZXJ2aWNlcy9kaXN0cmljdC5zZXJ2aWNlLmpzIiwiYXBwL2NvbW1vbi9zZXJ2aWNlcy9wcm9maWxlLnNlcnZpY2UuanMiLCJhcHAvY29tbW9uL3NlcnZpY2VzL3NlcnZpY2VzLm1vZHVsZS5qcyIsImFwcC9jb3JlL2NvbXBvbmVudHMvY29tcG9uZW50cy5tb2R1bGUuanMiLCJhcHAvY29yZS9jb21wb25lbnRzL21jQ29udGVudEhlYWRlci9tY0NvbnRlbnRIZWFkZXIuanMiLCJhcHAvY29yZS9jb21wb25lbnRzL21jTWFpbkhlYWRlci9tY01haW5IZWFkZXIuanMiLCJhcHAvY29yZS9jb21wb25lbnRzL21jUGFnaW5hdGlvbi9pbmRleC5qcyIsImFwcC9jb3JlL2NvbXBvbmVudHMvbWNQYWdpbmF0aW9uL21jLXBhZ2luYXRpb24uY2xhc3MuanMiLCJhcHAvY29yZS9jb21wb25lbnRzL21jUGlja2VyL2N0cmwuanMiLCJhcHAvY29yZS9jb21wb25lbnRzL21jUGlja2VyL3BpY2tlci5qcyIsImFwcC9jb3JlL2NvbXBvbmVudHMvbWNTaWRlYmFyL2hlbHBlcnMvbWNTaWRlYmFyVG9nZ2xpbmdJdGVtLmN0cmwuanMiLCJhcHAvY29yZS9jb21wb25lbnRzL21jU2lkZWJhci9tY1NpZGViYXIuZGlyZWN0aXZlLmpzIiwiYXBwL2NvcmUvY29tcG9uZW50cy9tY1NpZGViYXIvbWNTaWRlYmFyLnNlcnZpY2UuanMiLCJhcHAvY29yZS9jb21wb25lbnRzL21jU2lkZWJhci9tY1NpZGViYXJIZWxwZXJzLmRpcmVjdGl2ZS5qcyIsImFwcC9jb3JlL2NvcmUuYXBpLmpzIiwiYXBwL2NvcmUvY29yZS5jb25maWcuanMiLCJhcHAvY29yZS9jb3JlLmNvbmZpZ1Byb3ZpZGVyLmpzIiwiYXBwL2NvcmUvY29yZS5jb25zdGFudHMuanMiLCJhcHAvY29yZS9jb3JlLm1vZHVsZS5qcyIsImFwcC9jb3JlL2NvcmUucnVuLmpzIiwiYXBwL2NvcmUvZGlyZWN0aXZlcy9kaXJlY3RpdmVzLm1vZHVsZS5qcyIsImFwcC9jb3JlL2RpcmVjdGl2ZXMvbWNEYXRlUGlja2VyL2RhdGVwaWNrZXIuanMiLCJhcHAvY29yZS9kaXJlY3RpdmVzL21jVXBsb2FkQXZhdGFyL2N0cmwuanMiLCJhcHAvY29yZS9kaXJlY3RpdmVzL21jVXBsb2FkQXZhdGFyL3VwbG9hZC5qcyIsImFwcC9jb3JlL2RpcmVjdGl2ZXMvbWNVcGxvYWRJbWFnZS91cGxvYWQuanMiLCJhcHAvY29yZS9zZXJ2aWNlcy9jaGVja1N0YXRlLnNlcnZpY2UuanMiLCJhcHAvY29yZS9zZXJ2aWNlcy9oaXN0b3J5LnNlcnZpY2UuanMiLCJhcHAvY29yZS9zZXJ2aWNlcy9odHRwLmludGVyY2VwdG9yLmpzIiwiYXBwL2NvcmUvc2VydmljZXMvaHR0cEhlbHBlci5zZXJ2aWNlLmpzIiwiYXBwL2NvcmUvc2VydmljZXMvaW1nUHJlTG9hZC5zZXJ2aWNlLmpzIiwiYXBwL2NvcmUvc2VydmljZXMvc2VydmljZS5tb2R1bGUuanMiLCJhcHAvY29yZS9zZXJ2aWNlcy91dGlsLnNlcnZpY2UuanMiLCJhcHAvY29yZS92ZW5kb3IvY29uZmlnL2Jsb2NrVUkuY29uZmlnLmpzIiwiYXBwL2NvcmUvdmVuZG9yL2NvbmZpZy90b2FzdHIuY29uZmlnLmpzIiwiYXBwL2NvcmUvdmVuZG9yL2NvbmZpZy91aWJQYWdpbmF0aW9uLmNvbmZpZy5qcyIsImFwcC9jb3JlL3ZlbmRvci9jb25maWcvdmFsaWRhdGlvblJ1bGUuY29uZmlnLmpzIiwiYXBwL2NvcmUvdmVuZG9yL3VpYk1vZGFsLmRlY29yYXRvci5qcyIsImFwcC9jb3JlL3ZlbmRvci92ZW5kb3IubW9kdWxlLmpzIiwiYXBwL21vZHVsZXMvYWNjb3VudC9jb25maWcuanMiLCJhcHAvbW9kdWxlcy9hY2NvdW50L2RldGFpbC9jdHJsLmpzIiwiYXBwL21vZHVsZXMvYWNjb3VudC9kZXRhaWwvaW5kZXguanMiLCJhcHAvbW9kdWxlcy9hY2NvdW50L2xpc3QvY3RybC5qcyIsImFwcC9tb2R1bGVzL2FjY291bnQvbGlzdC9pbmRleC5qcyIsImFwcC9tb2R1bGVzL2FjY291bnQvbW9kYWxzL2FkZC9jdHJsLmpzIiwiYXBwL21vZHVsZXMvYWNjb3VudC9tb2RhbHMvYWRkL2luZGV4LmpzIiwiYXBwL21vZHVsZXMvYWNjb3VudC9tb2RhbHMvYnJhbmNoL2N0cmwuanMiLCJhcHAvbW9kdWxlcy9hY2NvdW50L21vZGFscy9icmFuY2gvaW5kZXguanMiLCJhcHAvbW9kdWxlcy9hY2NvdW50L21vZGFscy9pbmRleC5qcyIsImFwcC9tb2R1bGVzL2FjY291bnQvbW9kdWxlLmpzIiwiYXBwL21vZHVsZXMvYWNjb3VudC9zZXJ2aWNlLmpzIiwiYXBwL21vZHVsZXMvYmFuay9jb25maWcuanMiLCJhcHAvbW9kdWxlcy9iYW5rL2xpc3QvY3RybC5qcyIsImFwcC9tb2R1bGVzL2JhbmsvbGlzdC9pbmRleC5qcyIsImFwcC9tb2R1bGVzL2JhbmsvbW9kYWxzL2FkZC9jdHJsLmpzIiwiYXBwL21vZHVsZXMvYmFuay9tb2RhbHMvYWRkL2luZGV4LmpzIiwiYXBwL21vZHVsZXMvYmFuay9tb2RhbHMvYnJhbmNoL2N0cmwuanMiLCJhcHAvbW9kdWxlcy9iYW5rL21vZGFscy9icmFuY2gvaW5kZXguanMiLCJhcHAvbW9kdWxlcy9iYW5rL21vZGFscy9lZGl0L2N0cmwuanMiLCJhcHAvbW9kdWxlcy9iYW5rL21vZGFscy9lZGl0L2luZGV4LmpzIiwiYXBwL21vZHVsZXMvYmFuay9tb2RhbHMvaW5kZXguanMiLCJhcHAvbW9kdWxlcy9iYW5rL21vZGFscy9tYXAvY3RybC5qcyIsImFwcC9tb2R1bGVzL2JhbmsvbW9kYWxzL21hcC9pbmRleC5qcyIsImFwcC9tb2R1bGVzL2JhbmsvbW9kdWxlLmpzIiwiYXBwL21vZHVsZXMvYmFuay9zZXJ2aWNlLmpzIiwiYXBwL21vZHVsZXMvZGFzaGJvYXJkL2Rhc2hib2FyZC5qcyIsImFwcC9tb2R1bGVzL2Rhc2hib2FyZC9kYXNoYm9hcmQubW9kdWxlLmpzIiwiYXBwL21vZHVsZXMvZGFzaGJvYXJkL2Rhc2hib2FyZC5zZXJ2aWNlLmpzIiwiYXBwL21vZHVsZXMvZGVtby9hY2Nlc3MvY3RybC5qcyIsImFwcC9tb2R1bGVzL2RlbW8vYWNjZXNzL2luZGV4LmpzIiwiYXBwL21vZHVsZXMvZGVtby9jb21wb25lbnQvY3RybC5qcyIsImFwcC9tb2R1bGVzL2RlbW8vY29tcG9uZW50L2luZGV4LmpzIiwiYXBwL21vZHVsZXMvZGVtby9kZW1vLmNvbmZpZy5qcyIsImFwcC9tb2R1bGVzL2RlbW8vZGVtby5tb2R1bGUuanMiLCJhcHAvbW9kdWxlcy9kZW1vL2xpc3QvY3RybC5qcyIsImFwcC9tb2R1bGVzL2RlbW8vbGlzdC9pbmRleC5qcyIsImFwcC9tb2R1bGVzL2RlbW8vbW9kYWxzL2VkaXQvY3RybC5qcyIsImFwcC9tb2R1bGVzL2RlbW8vbW9kYWxzL2VkaXQvaW5kZXguanMiLCJhcHAvbW9kdWxlcy9kZW1vL21vZGFscy9pbmRleC5qcyIsImFwcC9tb2R1bGVzL2VudGVycHJpc2UvY29uZmlnLmpzIiwiYXBwL21vZHVsZXMvZW50ZXJwcmlzZS9kZXRhaWwvY3RybC5qcyIsImFwcC9tb2R1bGVzL2VudGVycHJpc2UvZGV0YWlsL2luZGV4LmpzIiwiYXBwL21vZHVsZXMvZW50ZXJwcmlzZS9maWx0ZXIuanMiLCJhcHAvbW9kdWxlcy9lbnRlcnByaXNlL2xpc3QvY3RybC5qcyIsImFwcC9tb2R1bGVzL2VudGVycHJpc2UvbGlzdC9pbmRleC5qcyIsImFwcC9tb2R1bGVzL2VudGVycHJpc2UvbW9kYWxzL2FkZC9jdHJsLmpzIiwiYXBwL21vZHVsZXMvZW50ZXJwcmlzZS9tb2RhbHMvYWRkL2luZGV4LmpzIiwiYXBwL21vZHVsZXMvZW50ZXJwcmlzZS9tb2RhbHMvYnJhbmNoL2N0cmwuanMiLCJhcHAvbW9kdWxlcy9lbnRlcnByaXNlL21vZGFscy9icmFuY2gvaW5kZXguanMiLCJhcHAvbW9kdWxlcy9lbnRlcnByaXNlL21vZGFscy9pbmRleC5qcyIsImFwcC9tb2R1bGVzL2VudGVycHJpc2UvbW9kYWxzL21hbmFnZS9jdHJsLmpzIiwiYXBwL21vZHVsZXMvZW50ZXJwcmlzZS9tb2RhbHMvbWFuYWdlL2luZGV4LmpzIiwiYXBwL21vZHVsZXMvZW50ZXJwcmlzZS9tb2R1bGUuanMiLCJhcHAvbW9kdWxlcy9lbnRlcnByaXNlL3NlcnZpY2UuanMiLCJhcHAvbW9kdWxlcy9maWx0ZXIvYmxhY2tsaXN0L2N0cmwuanMiLCJhcHAvbW9kdWxlcy9maWx0ZXIvYmxhY2tsaXN0L2luZGV4LmpzIiwiYXBwL21vZHVsZXMvZmlsdGVyL2NvbmRpdGlvbi9jdHJsLmpzIiwiYXBwL21vZHVsZXMvZmlsdGVyL2NvbmRpdGlvbi9pbmRleC5qcyIsImFwcC9tb2R1bGVzL2ZpbHRlci9jb25maWcuanMiLCJhcHAvbW9kdWxlcy9maWx0ZXIvbW9kYWxzL2FkZC9jdHJsLmpzIiwiYXBwL21vZHVsZXMvZmlsdGVyL21vZGFscy9hZGQvaW5kZXguanMiLCJhcHAvbW9kdWxlcy9maWx0ZXIvbW9kYWxzL2luZGV4LmpzIiwiYXBwL21vZHVsZXMvZmlsdGVyL21vZHVsZS5qcyIsImFwcC9tb2R1bGVzL2ZpbHRlci9zZXJ2aWNlLmpzIiwiYXBwL21vZHVsZXMvaW5mb3JtYXRpb24vY29uZmlnLmpzIiwiYXBwL21vZHVsZXMvaW5mb3JtYXRpb24vbW9kdWxlLmpzIiwiYXBwL21vZHVsZXMvaW5mb3JtYXRpb24vc2V0dGluZy9jdHJsLmpzIiwiYXBwL21vZHVsZXMvaW5mb3JtYXRpb24vc2V0dGluZy9pbmRleC5qcyIsImFwcC9tb2R1bGVzL2ludmVzdG1lbnQvY29uZmlnLmpzIiwiYXBwL21vZHVsZXMvaW52ZXN0bWVudC9saXN0L2N0cmwuanMiLCJhcHAvbW9kdWxlcy9pbnZlc3RtZW50L2xpc3QvaW5kZXguanMiLCJhcHAvbW9kdWxlcy9pbnZlc3RtZW50L21vZGFscy9hZGQvY3RybC5qcyIsImFwcC9tb2R1bGVzL2ludmVzdG1lbnQvbW9kYWxzL2FkZC9pbmRleC5qcyIsImFwcC9tb2R1bGVzL2ludmVzdG1lbnQvbW9kdWxlLmpzIiwiYXBwL21vZHVsZXMvaW52ZXN0bWVudC9zZXJ2aWNlLmpzIiwiYXBwL21vZHVsZXMvbG9hbi9jb25maWcuanMiLCJhcHAvbW9kdWxlcy9sb2FuL2RlY2lzaW9uL2N0cmwuanMiLCJhcHAvbW9kdWxlcy9sb2FuL2RlY2lzaW9uL2luZGV4LmpzIiwiYXBwL21vZHVsZXMvbG9hbi9saXN0L2N0cmwuanMiLCJhcHAvbW9kdWxlcy9sb2FuL2xpc3QvaW5kZXguanMiLCJhcHAvbW9kdWxlcy9sb2FuL21vZHVsZS5qcyIsImFwcC9tb2R1bGVzL2xvYW4vc2VydmljZS5qcyIsImFwcC9tb2R1bGVzL2xvYW4vc2V0dGluZy9jdHJsLmpzIiwiYXBwL21vZHVsZXMvbG9hbi9zZXR0aW5nL2luZGV4LmpzIiwiYXBwL21vZHVsZXMvbG9nL2NvbmZpZy5qcyIsImFwcC9tb2R1bGVzL2xvZy9saXN0L2N0cmwuanMiLCJhcHAvbW9kdWxlcy9sb2cvbGlzdC9pbmRleC5qcyIsImFwcC9tb2R1bGVzL2xvZy9tb2R1bGUuanMiLCJhcHAvbW9kdWxlcy9sb2cvc2VydmljZS5qcyIsImFwcC9tb2R1bGVzL21lc3NhZ2UvY29uZmlnLmpzIiwiYXBwL21vZHVsZXMvbWVzc2FnZS9kZXRhaWwvY3RybC5qcyIsImFwcC9tb2R1bGVzL21lc3NhZ2UvZGV0YWlsL2luZGV4LmpzIiwiYXBwL21vZHVsZXMvbWVzc2FnZS9saXN0L2N0cmwuanMiLCJhcHAvbW9kdWxlcy9tZXNzYWdlL2xpc3QvaW5kZXguanMiLCJhcHAvbW9kdWxlcy9tZXNzYWdlL21vZHVsZS5qcyIsImFwcC9tb2R1bGVzL21lc3NhZ2Uvc2VydmljZS5qcyIsImFwcC9tb2R1bGVzL21vZHVsZXMubW9kdWxlLmpzIiwiYXBwL21vZHVsZXMvcGVyc29uL2NvbmZpZy5qcyIsImFwcC9tb2R1bGVzL3BlcnNvbi9kZXRhaWwvY3RybC5qcyIsImFwcC9tb2R1bGVzL3BlcnNvbi9kZXRhaWwvaW5kZXguanMiLCJhcHAvbW9kdWxlcy9wZXJzb24vbW9kdWxlLmpzIiwiYXBwL21vZHVsZXMvcGVyc29uL3NlcnZpY2UuanMiLCJhcHAvbW9kdWxlcy9wcm9jZXNzL2FkZC9jdHJsLmpzIiwiYXBwL21vZHVsZXMvcHJvY2Vzcy9hZGQvaW5kZXguanMiLCJhcHAvbW9kdWxlcy9wcm9jZXNzL2NvbmZpZy5qcyIsImFwcC9tb2R1bGVzL3Byb2Nlc3MvbW9kdWxlLmpzIiwiYXBwL21vZHVsZXMvcHJvY2Vzcy9zZXJ2aWNlLmpzIiwiYXBwL21vZHVsZXMvcHJvY2Vzcy90aXBzL2N0cmwuanMiLCJhcHAvbW9kdWxlcy9wcm9jZXNzL3RpcHMvaW5kZXguanMiLCJhcHAvbW9kdWxlcy9zeXNjb25maWcvY29uZmlnLmpzIiwiYXBwL21vZHVsZXMvc3lzY29uZmlnL21vZHVsZS5qcyIsImFwcC9tb2R1bGVzL3N5c2NvbmZpZy90aW1lL2N0cmwuanMiLCJhcHAvbW9kdWxlcy9zeXNjb25maWcvdGltZS9pbmRleC5qcyIsImFwcC90ZW1wbGF0ZXMuanMiLCJib3dlcl9jb21wb25lbnRzL2FuZ3VsYXItbWRlZGl0b3Ivc3JjL2FuZ3VsYXItbWRlZGl0b3IuanMiLCJub2RlX21vZHVsZXMvYW5ndWxhci1hdXRvLWNvbXBsZXRlL2FuZ3VsYXItYXV0by1jb21wbGV0ZS5qcyIsIm5vZGVfbW9kdWxlcy9hbmd1bGFyLWJhaWR1LW1hcC9kaXN0L2FuZ3VsYXItYmFpZHUtbWFwLmpzIiwibm9kZV9tb2R1bGVzL2FuZ3VsYXItYmxvY2stdWkvZGlzdC9hbmd1bGFyLWJsb2NrLXVpLmpzIiwibm9kZV9tb2R1bGVzL2FuZ3VsYXItZGF0ZXBpY2tlci9kaXN0L2FuZ3VsYXItZGF0ZXBpY2tlci5qcyIsIm5vZGVfbW9kdWxlcy9hbmd1bGFyLWgtc3dlZXRhbGVydC9zcmMvbmdTd2VldEFsZXJ0LmpzIiwibm9kZV9tb2R1bGVzL2FuZ3VsYXItbW9tZW50L2FuZ3VsYXItbW9tZW50LmpzIiwibm9kZV9tb2R1bGVzL2FuZ3VsYXItc2FuaXRpemUvYW5ndWxhci1zYW5pdGl6ZS5qcyIsIm5vZGVfbW9kdWxlcy9hbmd1bGFyLXNhbml0aXplL2luZGV4LmpzIiwibm9kZV9tb2R1bGVzL2FuZ3VsYXItdmFsaWRhdGlvbi1tYXRjaC9kaXN0L2FuZ3VsYXItdmFsaWRhdGlvbi1tYXRjaC5qcyIsIm5vZGVfbW9kdWxlcy9hbmd1bGFyLXZhbGlkYXRpb24tbWF0Y2gvaW5kZXguanMiLCJub2RlX21vZHVsZXMvYW5ndWxhci12YWxpZGF0aW9uL2Rpc3QvYW5ndWxhci12YWxpZGF0aW9uLXJ1bGUuanMiLCJub2RlX21vZHVsZXMvYW5ndWxhci12YWxpZGF0aW9uL2Rpc3QvYW5ndWxhci12YWxpZGF0aW9uLmpzIiwibm9kZV9tb2R1bGVzL2Jvb3RzdHJhcC9kaXN0L2pzL25wbS5qcyIsIm5vZGVfbW9kdWxlcy9ib290c3RyYXAvanMvYWZmaXguanMiLCJub2RlX21vZHVsZXMvYm9vdHN0cmFwL2pzL2FsZXJ0LmpzIiwibm9kZV9tb2R1bGVzL2Jvb3RzdHJhcC9qcy9idXR0b24uanMiLCJub2RlX21vZHVsZXMvYm9vdHN0cmFwL2pzL2Nhcm91c2VsLmpzIiwibm9kZV9tb2R1bGVzL2Jvb3RzdHJhcC9qcy9jb2xsYXBzZS5qcyIsIm5vZGVfbW9kdWxlcy9ib290c3RyYXAvanMvZHJvcGRvd24uanMiLCJub2RlX21vZHVsZXMvYm9vdHN0cmFwL2pzL21vZGFsLmpzIiwibm9kZV9tb2R1bGVzL2Jvb3RzdHJhcC9qcy9wb3BvdmVyLmpzIiwibm9kZV9tb2R1bGVzL2Jvb3RzdHJhcC9qcy9zY3JvbGxzcHkuanMiLCJub2RlX21vZHVsZXMvYm9vdHN0cmFwL2pzL3RhYi5qcyIsIm5vZGVfbW9kdWxlcy9ib290c3RyYXAvanMvdG9vbHRpcC5qcyIsIm5vZGVfbW9kdWxlcy9ib290c3RyYXAvanMvdHJhbnNpdGlvbi5qcyIsIm5vZGVfbW9kdWxlcy9jaGVja2xpc3QtbW9kZWwvY2hlY2tsaXN0LW1vZGVsLmpzIiwibm9kZV9tb2R1bGVzL21vbWVudC9sb2NhbGUvemgtY24uanMiLCJub2RlX21vZHVsZXMvbW9tZW50L21vbWVudC5qcyIsIm5vZGVfbW9kdWxlcy9uZ0Nyb3BwZXIvZGlzdC9uZ0Nyb3BwZXIuYWxsLmpzIiwibm9kZV9tb2R1bGVzL3N3ZWV0YWxlcnQvbGliL21vZHVsZXMvZGVmYXVsdC1wYXJhbXMuanMiLCJub2RlX21vZHVsZXMvc3dlZXRhbGVydC9saWIvbW9kdWxlcy9oYW5kbGUtY2xpY2suanMiLCJub2RlX21vZHVsZXMvc3dlZXRhbGVydC9saWIvbW9kdWxlcy9oYW5kbGUtZG9tLmpzIiwibm9kZV9tb2R1bGVzL3N3ZWV0YWxlcnQvbGliL21vZHVsZXMvaGFuZGxlLWtleS5qcyIsIm5vZGVfbW9kdWxlcy9zd2VldGFsZXJ0L2xpYi9tb2R1bGVzL2hhbmRsZS1zd2FsLWRvbS5qcyIsIm5vZGVfbW9kdWxlcy9zd2VldGFsZXJ0L2xpYi9tb2R1bGVzL2luamVjdGVkLWh0bWwuanMiLCJub2RlX21vZHVsZXMvc3dlZXRhbGVydC9saWIvbW9kdWxlcy9zZXQtcGFyYW1zLmpzIiwibm9kZV9tb2R1bGVzL3N3ZWV0YWxlcnQvbGliL21vZHVsZXMvdXRpbHMuanMiLCJub2RlX21vZHVsZXMvc3dlZXRhbGVydC9saWIvc3dlZXRhbGVydC5qcyIsIm5vZGVfbW9kdWxlcy91bmRlcnNjb3JlL3VuZGVyc2NvcmUuanMiLCJub2RlX21vZHVsZXMvdmlld2VyanMvZGlzdC92aWV3ZXIuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUNBQTs7QUFBQSxJQUFBLFVBQUEsUUFBQTs7QUFJQSxJQUFJLFdBQVcsdUJBQXVCOztBQUh0QyxJQUFBLFdBQUEsUUFBQTs7QUFPQSxJQUFJLFlBQVksdUJBQXVCOztBQU52QyxJQUFBLFFBQUEsUUFBQTs7QUFVQSxJQUFJLFNBQVMsdUJBQXVCOztBQVRwQyxJQUFBLFVBQUEsUUFBQTs7QUFhQSxJQUFJLFdBQVcsdUJBQXVCOztBQVp0QyxJQUFBLFdBQUEsUUFBQTs7QUFnQkEsSUFBSSxZQUFZLHVCQUF1Qjs7QUFmdkMsUUFBQTs7QUFtQkEsU0FBUyx1QkFBdUIsS0FBSyxFQUFFLE9BQU8sT0FBTyxJQUFJLGFBQWEsTUFBTSxFQUFFLFNBQVM7Ozs7QUFmdkYsVUFBQSxRQUFRLE9BQU8sT0FBTyxDQUNwQixpQkFFQSxPQUFBLFFBQVEsTUFDUixTQUFBLFFBQVUsTUFDVixVQUFBLFFBQVc7ODVCQWVpNUI7O0FDN0I5NUI7O0FBRUEsT0FBTyxlQUFlLFNBQVMsY0FBYztFQUMzQyxPQUFPOzs7QUFIVCxJQUFBLFdBQUEsUUFBQTs7QUFRQSxJQUFJLFlBQVksdUJBQXVCOztBQVB2QyxJQUFBLFFBQUEsUUFBQTs7QUFXQSxJQUFJLFNBQVMsdUJBQXVCOztBQVZwQyxJQUFBLFlBQUEsUUFBQTs7QUFjQSxJQUFJLGFBQWEsdUJBQXVCOztBQUV4QyxTQUFTLHVCQUF1QixLQUFLLEVBQUUsT0FBTyxPQUFPLElBQUksYUFBYSxNQUFNLEVBQUUsU0FBUzs7QUFFdkYsUUFBUSxVQWZPLFVBQUEsUUFBUSxPQUFPLG1CQUFtQixJQUNoRCxRQUFRLGdCQURNLFdBQUEsU0FFZCxRQUFRLGVBRk0sT0FBQTtrdkJBZ0JtdUI7O0FDckJsdkI7O0FBRUEsT0FBTyxlQUFlLFNBQVMsY0FBYztFQUMzQyxPQUFPOzs7QUFHVCxJQUFJLGVBQWUsWUFBWSxFQUFFLFNBQVMsaUJBQWlCLFFBQVEsT0FBTyxFQUFFLEtBQUssSUFBSSxJQUFJLEdBQUcsSUFBSSxNQUFNLFFBQVEsS0FBSyxFQUFFLElBQUksYUFBYSxNQUFNLElBQUksV0FBVyxhQUFhLFdBQVcsY0FBYyxPQUFPLFdBQVcsZUFBZSxNQUFNLElBQUksV0FBVyxZQUFZLFdBQVcsV0FBVyxNQUFNLE9BQU8sZUFBZSxRQUFRLFdBQVcsS0FBSyxpQkFBaUIsT0FBTyxVQUFVLGFBQWEsWUFBWSxhQUFhLEVBQUUsSUFBSSxZQUFZLGlCQUFpQixZQUFZLFdBQVcsYUFBYSxJQUFJLGFBQWEsaUJBQWlCLGFBQWEsY0FBYyxPQUFPOztBQUVoaUIsU0FBUyxnQkFBZ0IsS0FBSyxLQUFLLE9BQU8sRUFBRSxJQUFJLE9BQU8sS0FBSyxFQUFFLE9BQU8sZUFBZSxLQUFLLEtBQUssRUFBRSxPQUFPLE9BQU8sWUFBWSxNQUFNLGNBQWMsTUFBTSxVQUFVLGdCQUFnQixFQUFFLElBQUksT0FBTyxTQUFTLE9BQU87O0FBRTNNLFNBQVMsZ0JBQWdCLFVBQVUsYUFBYSxFQUFFLElBQUksRUFBRSxvQkFBb0IsY0FBYyxFQUFFLE1BQU0sSUFBSSxVQUFVOzs7MkRBRWhILElBWnFCLGNBWUgsWUFBWTtFQVY1QixTQUFBLFlBQVksT0FBTyxZQUFZLFFBQVE7SUFDckM7O0lBRHFDLGdCQUFBLE1BQUE7O0lBRXJDLEtBQUssUUFBUTtJQUNiLEtBQUssYUFBYTtJQUNsQixLQUFLLFNBQVM7O0lBRWQsS0FBSyxZQUFZOzs7Ozs7Ozs7RUF1Qm5CLGFBQWEsYUFBYSxDQUFDO0lBQ3pCLEtBQUs7SUFDTCxPQUFPLFNBQVMsUUFmVjs7TUFFTixLQUFLLFdBQVcsT0FBTyxTQUFTOztLQWlCL0I7SUFDRCxLQUFLO0lBQ0wsT0FBTyxTQUFTLE1BZlosTUFBTSxRQUFxQjtNQUFBLElBQWIsU0FBYSxVQUFBLFNBQUEsS0FBQSxVQUFBLE9BQUEsWUFBQSxVQUFBLEtBQUo7OztNQUUzQixPQUFPLEtBQUssZ0JBQWdCLE9BQU8sTUFBTSxRQUFROztLQW1CaEQ7SUFDRCxLQUFLO0lBQ0wsT0FBTyxTQUFTLFVBakJSLE1BQU0sUUFBUTs7TUFFdEIsT0FBTyxLQUFLLE1BQU0sTUFBTSxRQUFROztLQW1CL0I7SUFDRCxLQUFLO0lBQ0wsT0FBTyxTQUFTLEtBakJiLE1BQU0sSUFBaUI7TUFBQSxJQUFiLFNBQWEsVUFBQSxTQUFBLEtBQUEsVUFBQSxPQUFBLFlBQUEsVUFBQSxLQUFKOzs7TUFFdEIsT0FBTyxLQUFLLGdCQUFnQixPQUFPLE1BQU0sSUFBSTs7S0FxQjVDO0lBQ0QsS0FBSztJQUNMLE9BQU8sU0FBUyxJQW5CZCxNQUFNLFFBQXFCO01BQUEsSUFBYixTQUFhLFVBQUEsU0FBQSxLQUFBLFVBQUEsT0FBQSxZQUFBLFVBQUEsS0FBSjs7O01BRXpCLE9BQU8sS0FBSyxnQkFBZ0IsUUFBUSxNQUFNLFFBQVE7O0tBdUJqRDtJQUNELEtBQUs7SUFDTCxPQUFPLFNBQVMsUUFyQlgsTUFBTSxRQUFxQjtNQUFBLElBQWIsU0FBYSxVQUFBLFNBQUEsS0FBQSxVQUFBLE9BQUEsWUFBQSxVQUFBLEtBQUo7OztNQUU1QixPQUFPLEtBQUssZ0JBQWdCLFVBQVUsTUFBTSxRQUFROzs7OztLQTRCbkQ7SUFDRCxLQUFLO0lBQ0wsT0FBTyxTQUFTLFVBekJSLE1BQU0sTUFBTTs7TUFFcEIsS0FBSyxXQUFXLFFBQVE7Ozs7TUFJeEIsUUFBUSxJQUFJO01BQ1osSUFBSSxNQUFNLEtBQUssVUFBVSxRQUFRO01BQ2pDLE9BQU8sS0FBSyxNQUFNLElBQUksS0FBSyxLQUFLLEtBQUssV0FBVyxRQUFRLEtBQUssV0FBVzs7Ozs7OztLQWdDdkU7SUFDRCxLQUFLO0lBQ0wsT0FBTyxTQUFTLGdCQTNCRixNQUFNLE1BQU0sUUFBUSxRQUFROztNQUUxQyxLQUFLLFdBQVcsUUFBUTs7TUFFeEIsSUFBSSxhQUFhLENBQUMsUUFBUSxPQUFPLFFBQVEsUUFBUSxDQUFDLElBQUksU0FBUzs7TUFFL0QsT0FBTyxLQUFLLE1BQU0sTUFBTSxLQUFLLFFBQVEsTUFBTSxTQUFwQyxnQkFBQSxJQUNKLFlBQWEsU0FDYixLQUFLLEtBQUssV0FBVyxRQUFRLEtBQUssV0FBVzs7Ozs7Ozs7S0FpQy9DO0lBQ0QsS0FBSztJQUNMLE9BQU8sU0FBUyxRQTFCVixNQUFNLFFBQVE7O01BRXBCLE9BQU8sS0FBSyxVQUFVLFFBQVcsS0FBSyxVQUFVLFFBQXpDLE1BQWtELFNBQWxELFVBQXFFLE9BQXJFLE1BQTZFOztLQTRCbkY7SUFDRCxLQUFLO0lBQ0wsT0FBTyxTQUFTLE9BMUJYLFNBQTJCO01BQUEsSUFBQSxRQUFBOztNQUFBLElBQWxCLE9BQWtCLFVBQUEsU0FBQSxLQUFBLFVBQUEsT0FBQSxZQUFBLFVBQUEsS0FBWDs7O01BRXJCLE9BQU8sWUFBTTtRQUFFLE1BQUssT0FBTyxNQUFNOzs7OztFQW9DbkMsT0FBTzs7O0FBR1QsUUFBUSxVQXRJYTswcUxBdUlxcEw7O0FDdkkxcUw7O0FBRUEsT0FBTyxlQUFlLFNBQVMsY0FBYztFQUMzQyxPQUFPOzs7QUFHVCxJQUFJLGVBQWUsWUFBWSxFQUFFLFNBQVMsaUJBQWlCLFFBQVEsT0FBTyxFQUFFLEtBQUssSUFBSSxJQUFJLEdBQUcsSUFBSSxNQUFNLFFBQVEsS0FBSyxFQUFFLElBQUksYUFBYSxNQUFNLElBQUksV0FBVyxhQUFhLFdBQVcsY0FBYyxPQUFPLFdBQVcsZUFBZSxNQUFNLElBQUksV0FBVyxZQUFZLFdBQVcsV0FBVyxNQUFNLE9BQU8sZUFBZSxRQUFRLFdBQVcsS0FBSyxpQkFBaUIsT0FBTyxVQUFVLGFBQWEsWUFBWSxhQUFhLEVBQUUsSUFBSSxZQUFZLGlCQUFpQixZQUFZLFdBQVcsYUFBYSxJQUFJLGFBQWEsaUJBQWlCLGFBQWEsY0FBYyxPQUFPOztBQUVoaUIsU0FBUyxnQkFBZ0IsVUFBVSxhQUFhLEVBQUUsSUFBSSxFQUFFLG9CQUFvQixjQUFjLEVBQUUsTUFBTSxJQUFJLFVBQVU7O0FBRWhILElBVnFCLGVBVUYsWUFBWTtFQVI3QixTQUFBLGFBQVksV0FBVyxRQUFRO0lBQUEsZ0JBQUEsTUFBQTs7SUFFN0IsS0FBSyxlQUFnQixVQUFVLElBQUk7SUFDbkMsS0FBSyxZQUFnQixVQUFVLElBQUk7SUFDbkMsS0FBSyxhQUFnQixVQUFVLElBQUk7SUFDbkMsS0FBSyxjQUFnQixVQUFVLElBQUk7SUFDbkMsS0FBSyxjQUFnQixVQUFVLElBQUk7Ozs7SUFJbkMsS0FBSyxXQUFnQixLQUFLLFlBQVk7SUFDdEMsS0FBSyxhQUFnQixLQUFLLFlBQVk7SUFDdEMsS0FBSyxjQUFnQixLQUFLLFlBQVk7SUFDdEMsS0FBSyxnQkFBZ0IsS0FBSyxZQUFZO0lBQ3RDLEtBQUssYUFBZ0IsS0FBSyxZQUFZOztJQUV0QyxLQUFLLFVBQVUsUUFBUSxPQUFPO01BQzVCLE1BQU07T0FDTCxLQUFLLGNBQWMsT0FBTzs7Ozs7Ozs7Ozs7O0VBc0IvQixhQUFhLGNBQWMsQ0FBQztJQUMxQixLQUFLO0lBQ0wsT0FBTyxTQUFTLE1BYlosTUFBTTs7TUFFVixLQUFLLFdBQVcsUUFBUTs7TUFFeEIsSUFBRyxDQUFDLEtBQUssY0FBYyxjQUFjLGNBQWM7OztNQUduRCxLQUFLLFdBQVc7OztNQUdoQixLQUFLOzs7OztLQWtCSjtJQUNELEtBQUs7SUFDTCxPQUFPLFNBQVMsV0FmUDs7TUFFVCxLQUFLLFVBQVUsT0FBTyxRQUFRLE1BQU0sSUFBSSxLQUFLLFNBQVM7UUFDcEQsTUFBTTs7Ozs7Ozs7S0F1QlA7SUFDRCxLQUFLO0lBQ0wsT0FBTyxTQUFTLGNBakJKO01BQ1osS0FBSyxVQUFVLE9BQVEsS0FBSzs7Ozs7Ozs7S0F5QjNCO0lBQ0QsS0FBSztJQUNMLE9BQU8sU0FBUyxpQkFuQkQsU0FBUTs7TUFFdkIsSUFBSSxhQUFhLFFBQVEsS0FBSztNQUM5QixLQUFJLElBQUksS0FBSyxZQUFXO1FBQ3BCLElBQUcsQ0FBQyxXQUFXLElBQUc7VUFDZCxPQUFPLFdBQVc7Ozs7TUFJMUIsT0FBTzs7S0FxQk47SUFDRCxLQUFLO0lBQ0wsT0FBTyxTQUFTLG1CQXBCQyxNQUFLOztNQUV0QixLQUFLLGFBQWEsUUFBUSxPQUFPLE1BQU07UUFDckMsV0FBVztRQUNYLFlBQVk7UUFDWixTQUFTOzs7S0F1QlY7SUFDRCxLQUFLO0lBQ0wsT0FBTyxTQUFTLGFBcEJMLFFBQU87O01BRWxCLEtBQUssV0FBVyxRQUFROzs7Ozs7Ozs7S0E2QnZCO0lBQ0QsS0FBSztJQUNMLE9BQU8sU0FBUyxXQXRCUCxNQUFNLGVBQWU7O01BRTlCLEtBQUksSUFBSSxLQUFLLE1BQUs7UUFDaEIsSUFBRyxLQUFLLFFBQVEsTUFBTSxLQUFLLElBQUc7VUFDNUIsS0FBSyxRQUFRLEtBQUs7ZUFDZjtVQUNILEtBQUssUUFBUSxLQUFLLEtBQUs7Ozs7TUFJM0IsSUFBRyxlQUNELEtBQUs7Ozs7Ozs7S0E0Qk47SUFDRCxLQUFLO0lBQ0wsT0FBTyxTQUFTLFdBdkJQLE1BQU07O01BRWYsSUFBRyxDQUFDLE1BQU07O01BRVYsS0FBSSxJQUFJLEtBQUssS0FBSyxTQUFRO1FBQ3hCLElBQUcsS0FBSyxhQUFhLElBQUc7VUFDdEIsS0FBSyxRQUFRLEtBQUssS0FBSyxXQUFXLFNBQVMsS0FBSyxDQUFDLEtBQUssYUFBYSxLQUFLLEtBQUssYUFBYTs7OztLQTJCN0Y7SUFDRCxLQUFLO0lBQ0wsT0FBTyxTQUFTLE9BdkJYLE1BQU0sSUFBSSxPQUFNOztNQUVyQixJQUFJLE9BQU87O01BRVgsS0FBSyxNQUFNLEtBQUs7UUFDZCxPQUFPO1FBQ1Asa0JBQWtCO1FBQ2xCLG9CQUFvQjtRQUNwQixtQkFBbUI7UUFDbkIsa0JBQWtCO1FBQ2xCLGdCQUFnQjtRQUNoQixVQUFVO1NBQ1QsVUFBUyxNQUFLO1FBQ2YsSUFBRyxNQUFLOzs7OztlQUtIO1VBQ0Q7Ozs7S0EyQkw7SUFDRCxLQUFLO0lBQ0wsT0FBTyxTQUFTLGdCQXZCTTtNQUFBLElBQUEsUUFBQTs7TUFFdEIsSUFBSSxVQUFVOztNQUZRLEtBQUEsSUFBQSxPQUFBLFVBQUEsUUFBUCxRQUFPLE1BQUEsT0FBQSxPQUFBLEdBQUEsT0FBQSxNQUFBLFFBQUE7UUFBUCxNQUFPLFFBQUEsVUFBQTs7O01BR3RCLE1BQU0sUUFBUSxVQUFBLE1BQVE7UUFDcEIsSUFBRyxDQUFDLE1BQUssT0FBTztVQUNkLFFBQVEsS0FBUix3QkFBbUMsT0FBbkM7VUFDQSxVQUFVO1VBQ1Y7OztNQUdKLE9BQU87Ozs7RUFpQ1QsT0FBTzs7O0FBR1QsUUFBUSxVQXhNYTs4b1RBeU15blQ7O0FDek05b1Q7O0FBRUEsT0FBTyxlQUFlLFNBQVMsY0FBYztFQUMzQyxPQUFPOzs7QUFIVCxJQUFBLFdBQUEsUUFBQTs7QUFRQSxJQUFJLFlBQVksdUJBQXVCOztBQVB2QyxJQUFBLFFBQUEsUUFBQTs7QUFXQSxJQUFJLFNBQVMsdUJBQXVCOztBQVZwQyxJQUFBLGNBQUEsUUFBQTs7QUFjQSxJQUFJLGVBQWUsdUJBQXVCOztBQWIxQyxJQUFBLGNBQUEsUUFBQTs7QUFpQkEsSUFBSSxlQUFlLHVCQUF1Qjs7QUFoQjFDLElBQUEsWUFBQSxRQUFBOztBQW9CQSxJQUFJLGFBQWEsdUJBQXVCOztBQW5CeEMsSUFBQSxXQUFBLFFBQUE7O0FBdUJBLElBQUksWUFBWSx1QkFBdUI7O0FBdEJ2QyxJQUFBLGNBQUEsUUFBQTs7QUEwQkEsSUFBSSxlQUFlLHVCQUF1Qjs7QUFFMUMsU0FBUyx1QkFBdUIsS0FBSyxFQUFFLE9BQU8sT0FBTyxJQUFJLGFBQWEsTUFBTSxFQUFFLFNBQVM7O0FBRXZGLFFBQVEsVUEzQk8sVUFBQSxRQUFRLE9BQU8sY0FBYyxDQUMxQyxPQUFBLFFBQVcsTUFDWCxhQUFBLFFBQWlCLE1BQ2pCLFdBQUEsUUFBZSxNQUNmLGFBQUEsUUFBaUIsTUFDakIsVUFBQSxRQUFjLE9BRWYsU0FBUyxZQVBLLGFBQUE7OHpDQTRCK3lDOztBQ3JDOXpDOztBQUVBLE9BQU8sZUFBZSxTQUFTLGNBQWM7SUFDekMsT0FBTzs7O0FBR1gsU0FBUyxnQkFBZ0IsVUFBVSxhQUFhLEVBQUUsSUFBSSxFQUFFLG9CQUFvQixjQUFjLEVBQUUsTUFBTSxJQUFJLFVBQVU7O0FBRWhILElBUk0sb0JBRUosU0FBQSxrQkFBWSxRQUFRLFNBQVMsT0FBTyxTQUFTO0lBQzNDOztJQUQyQyxnQkFBQSxNQUFBOztJQUczQyxJQUFJLE9BQU8sUUFBUSxRQUFRO1FBQ3ZCLE9BQU8sUUFBUSxRQUFROztJQUUzQixLQUFLLE9BQU8sWUFBVTtRQUNsQixJQUFJLEtBQUssZUFBZSxHQUFHO1lBQ3ZCLEtBQUs7ZUFDSDtZQUNGLEtBQUs7Ozs7SUFJYixLQUFLLEdBQUcsU0FBUyxZQUFVO1FBQ3ZCLEVBQUUsY0FBYyxRQUFRLEVBQUUsV0FBVyxLQUFLOzs7OztBQU0zQyxJQUFNLFVBQUEsUUFBQSxVQUFVO0lBQ3JCLGFBQWE7SUFDYixZQUFZO0lBQ1osVUFBVTs7czZEQVEwNUQ7O0FDbEN0NkQ7O0FBRUEsT0FBTyxlQUFlLFNBQVMsY0FBYztFQUMzQyxPQUFPOzs7QUFIVCxJQUFBLFdBQUEsUUFBQTs7QUFRQSxJQUFJLFlBQVksdUJBQXVCOztBQVB2QyxJQUFBLFdBQUEsUUFBQTs7QUFDQSxJQUFBLGFBQUEsUUFBQTs7QUFZQSxJQUFJLGNBQWMsdUJBQXVCOztBQVZ6QyxJQUFBLFVBQUEsUUFBQTs7QUFjQSxJQUFJLFdBQVcsdUJBQXVCOztBQUV0QyxTQUFTLHVCQUF1QixLQUFLLEVBQUUsT0FBTyxPQUFPLElBQUksYUFBYSxNQUFNLEVBQUUsU0FBUzs7QUFFdkYsUUFBUSxVQWZPLFVBQUEsUUFBUSxPQUFPLHlCQUF5QixJQUN0RCxVQUFVLFdBREksU0FBQSxTQUVkLFVBQVUsYUFGSSxZQUFBLFNBR2QsVUFBVSxVQUhJLFNBQUE7O0FBSWY7MDJCQWMwMkI7O0FDekIxMkI7O0FBRUEsT0FBTyxlQUFlLFNBQVMsY0FBYztFQUMzQyxPQUFPOzs7QUFIVCxJQUFBLGFBQUEsUUFBQTs7QUFRQSxJQUFJLGNBQWMsdUJBQXVCOztBQUV6QyxTQUFTLHVCQUF1QixLQUFLLEVBQUUsT0FBTyxPQUFPLElBQUksYUFBYSxNQUFNLEVBQUUsU0FBUzs7QUFQdkYsSUFBTSxZQUFZO0VBQ2hCLGFBQWE7RUFDYixZQUFBLFlBQUE7RUFDQSxVQUFVO0lBQ1IsU0FBUztJQUNULFNBQVM7SUFDVCxPQUFPO0lBQ1AsU0FBUzs7OztBQWFiLFFBQVEsVUFUTzswNUJBVTI0Qjs7QUN4QjE1Qjs7QUFFQSxPQUFPLGVBQWUsU0FBUyxjQUFjO0VBQzNDLE9BQU87OztBQUdULElBQUksZUFBZSxZQUFZLEVBQUUsU0FBUyxpQkFBaUIsUUFBUSxPQUFPLEVBQUUsS0FBSyxJQUFJLElBQUksR0FBRyxJQUFJLE1BQU0sUUFBUSxLQUFLLEVBQUUsSUFBSSxhQUFhLE1BQU0sSUFBSSxXQUFXLGFBQWEsV0FBVyxjQUFjLE9BQU8sV0FBVyxlQUFlLE1BQU0sSUFBSSxXQUFXLFlBQVksV0FBVyxXQUFXLE1BQU0sT0FBTyxlQUFlLFFBQVEsV0FBVyxLQUFLLGlCQUFpQixPQUFPLFVBQVUsYUFBYSxZQUFZLGFBQWEsRUFBRSxJQUFJLFlBQVksaUJBQWlCLFlBQVksV0FBVyxhQUFhLElBQUksYUFBYSxpQkFBaUIsYUFBYSxjQUFjLE9BQU87O0FBRWhpQixTQUFTLG1CQUFtQixLQUFLLEVBQUUsSUFBSSxNQUFNLFFBQVEsTUFBTSxFQUFFLEtBQUssSUFBSSxJQUFJLEdBQUcsT0FBTyxNQUFNLElBQUksU0FBUyxJQUFJLElBQUksUUFBUSxLQUFLLEVBQUUsS0FBSyxLQUFLLElBQUksTUFBTSxPQUFPLGFBQWEsRUFBRSxPQUFPLE1BQU0sS0FBSzs7QUFFMUwsU0FBUyxnQkFBZ0IsVUFBVSxhQUFhLEVBQUUsSUFBSSxFQUFFLG9CQUFvQixjQUFjLEVBQUUsTUFBTSxJQUFJLFVBQVU7OzsrRUFFaEgsSUFacUIsc0JBWUssWUFBWTtFQVZwQyxTQUFBLG9CQUFZLFFBQVEsV0FBVyxVQUFVLFFBQVE7SUFDL0M7O0lBRCtDLElBQUEsUUFBQTs7SUFBQSxnQkFBQSxNQUFBOztJQUkvQyxLQUFLLGdCQUFnQixPQUFPLFFBQVE7O0lBRXBDLElBQUcsS0FBSyxTQUFTLEtBQUssY0FBYyxLQUFLLFFBQVE7TUFDL0MsS0FBSyxZQUFZLEtBQUssY0FBYyxLQUFLOzs7Ozs7O0lBTzNDLElBQUcsS0FBSyxTQUFTLEtBQUssZ0JBQUwsR0FBQSxPQUFBLG1CQUF5QixLQUFLO0lBQy9DLElBQUcsS0FBSyxTQUFTLEtBQUssZ0JBQUwsR0FBQSxPQUFBLG1CQUF5QixLQUFLOztJQUUvQyxPQUFPLE9BQU8sNEJBQTRCLFlBQUk7TUFDNUMsTUFBSzs7OztFQWtCVCxhQUFhLHFCQUFxQixDQUFDO0lBQ2pDLEtBQUs7SUFDTCxPQUFPLFNBQVMsUUFmVDtNQUFBLElBQUEsU0FBQTs7TUFDUCxJQUFHLEtBQUssZUFBZTtRQUNyQixLQUFLLFVBQVUsS0FBSyxjQUFjLE9BQU8sVUFBQSxNQUFBO1VBQUEsT0FBUSxPQUFLLGNBQWM7OztNQUV0RSxJQUFHLEtBQUssaUJBQWlCLEtBQUssY0FBYyxRQUFPO1FBQ2pELEtBQUssVUFBVSxLQUFLLGNBQWMsT0FBTyxVQUFBLE1BQUE7VUFBQSxPQUFRLE9BQUssY0FBYzs7OztLQXdCckU7SUFDRCxLQUFLO0lBQ0wsT0FBTyxTQUFTLGNBdEJKLE1BQU07TUFDbEIsSUFBRyxLQUFLLFdBQVc7UUFDakIsSUFBRyxLQUFLLGFBQWEsT0FBTyxLQUFLLEtBQUssV0FBVyxTQUFTLEdBQUc7VUFDM0QsT0FBTyxLQUFLLFVBQVUsS0FBSyxXQUFXLEtBQUs7ZUFDdEM7VUFDTCxPQUFPOzs7O01BSVgsT0FBTzs7S0F3Qk47SUFDRCxLQUFLO0lBQ0wsT0FBTyxTQUFTLFVBdkJSLEtBQUssS0FBSzs7TUFFbEIsSUFBTSxVQUFVLElBQUksU0FBUyxVQUFRLEtBQUssVUFBVSxPQUFLLGNBQVksTUFBSTs7TUFFekUsT0FBTzs7S0F5Qk47SUFDRCxLQUFLO0lBQ0wsT0FBTyxTQUFTLFlBeEJOLE1BQU0sR0FBRztNQUNuQixJQUFHLEtBQUssZ0JBQWdCO1FBQ3RCLElBQUcsS0FBSyxhQUFhLE9BQU8sS0FBSyxLQUFLLFdBQVcsU0FBUyxHQUFHO1VBQzNELElBQUcsS0FBSyxVQUFVLEtBQUssV0FBVyxLQUFLLGlCQUFnQjtZQUNyRCxLQUFLLGdCQUFnQixLQUFLOztZQUUxQixFQUFFO1lBQ0YsT0FBTzs7ZUFFSjtVQUNMLE9BQU87Ozs7TUFLWCxPQUFPOzs7O0VBMkJULE9BQU87OztBQUdULFFBQVEsVUFsR2E7MGhLQW1HcWdLOztBQ25HMWhLOztBQUVBLE9BQU8sZUFBZSxTQUFTLGNBQWM7RUFDM0MsT0FBTzs7O0FBR1QsU0FBUyxnQkFBZ0IsVUFBVSxhQUFhLEVBQUUsSUFBSSxFQUFFLG9CQUFvQixjQUFjLEVBQUUsTUFBTSxJQUFJLFVBQVU7O0FBRWhILElBUnFCLG1CQUNuQixTQUFBLG1CQUFhO0VBQ1g7O0VBRFcsZ0JBQUEsTUFBQTs7O0FBYWYsUUFBUSxVQWRhOzhZQWV5WDs7QUNmOVk7O0FBRUEsT0FBTyxlQUFlLFNBQVMsY0FBYztFQUMzQyxPQUFPOzs7QUFIVCxJQUFBLFFBQUEsUUFBQTs7QUFRQSxJQUFJLFNBQVMsdUJBQXVCOztBQUVwQyxTQUFTLHVCQUF1QixLQUFLLEVBQUUsT0FBTyxPQUFPLElBQUksYUFBYSxNQUFNLEVBQUUsU0FBUzs7QUFSdkYsSUFBTSxTQUFTO0VBQ2IsYUFBYTtFQUNiLFlBQUEsT0FBQTtFQUNBLGNBQWM7RUFDZCxVQUFVO0lBQ1IsVUFBVTtJQUNWLGFBQWE7Ozs7QUFjakIsUUFBUSxVQVZPOzgwQkFXK3pCOztBQ3ZCOTBCOztBQUVBLE9BQU8sZUFBZSxTQUFTLGNBQWM7SUFDekMsT0FBTzs7QUFISixJQUFNLGFBQUEsUUFBQSxhQUFhO0lBQ3hCLFVBQVUsU0FBQSxTQUFVLE9BQU87UUFDdkIsT0FBTyxDQUFDLENBQUM7O0lBRWIsZ0JBQWdCLFNBQUEsZUFBUyxPQUFPLE9BQU8sU0FBUyxPQUFPLE9BQU07UUFDekQsSUFBSSxNQUFNLE1BQU07UUFDaEIsSUFBSSxhQUFhLE1BQU0sTUFBTTs7UUFFN0IsSUFBSSxNQUFNOztRQUVWLElBQUcsV0FBVyxVQUFVLEtBQUssQ0FBQyxXQUFXLE1BQU0sQ0FBQyx3QkFBd0IsS0FBSyxXQUFXLEtBQUs7WUFDekYsT0FBTzs7OztRQUlYLGdCQUFnQixJQUFJLFNBQVMseUJBQXVCLFdBQVcsSUFBSSxLQUFLOztRQUV4RSxPQUFPLElBQUksU0FBUyxZQUFXLGdCQUFnQixXQUFXLEtBQUssV0FBVzs7UUFFMUUsSUFBRyxNQUFLO1lBQ0osT0FBTyxDQUFDLENBQUM7ZUFDTjtZQUNILE9BQU87OztJQUdmLFNBQVMsU0FBQSxRQUFVLE9BQU87UUFDdEIsSUFBSSxTQUFTLFVBQVUsR0FBRztZQUN0QixPQUFPOztRQUVYLE9BQU87O0lBRVgsVUFBVSxTQUFBLFNBQVMsS0FBSztRQUNwQixJQUFHLFFBQVEsSUFBSSxPQUFPLFdBQ2pCLE9BQU87O0lBRWhCLEtBQUs7SUFDTCxPQUFPO0lBQ1AsUUFBUSxTQUFBLE9BQVMsS0FBSztRQUNsQixJQUFHLFFBQVEsTUFBTSxNQUFNLEtBQUssTUFBTSxPQUFPO1FBQ3pDLFFBQU8sUUFBUSxLQUFLOzs7O0lBR3hCLFFBQVEsU0FBQSxPQUFTLEtBQUs7O1FBRWxCLE9BQU8sTUFBTSwyQkFBMkIsS0FBSyxPQUFPOzs7SUFHeEQsS0FBSztJQUNMLGFBQWEsU0FBQSxZQUFVLE9BQU87O1FBQzFCLE9BQU8sV0FBVyxPQUFPLFVBQVUsV0FBVyxJQUFJLEtBQUs7O0lBRTNELFNBQVMsU0FBQSxRQUFTLE9BQU8sT0FBTyxTQUFTOztRQUVyQyxPQUFPLENBQUMsYUFBYSxLQUFLLFFBQVE7O0lBRXRDLE9BQU87SUFDUCxXQUFXLFNBQUEsVUFBVSxPQUFPLE9BQU8sU0FBUyxPQUFPLE9BQU87UUFDdEQsT0FBTyxNQUFNLFVBQVU7O0lBRTNCLFdBQVcsU0FBQSxVQUFVLE9BQU8sT0FBTyxTQUFTLE9BQU8sT0FBTztRQUN0RCxPQUFPLE1BQU0sVUFBVTs7SUFFM0IsS0FBSyxTQUFBLElBQVMsT0FBTyxPQUFPLFNBQVMsT0FBTyxPQUFNO1FBQzlDLE9BQU8sV0FBVyxVQUFVLFdBQVc7O0lBRTNDLGFBQWEsU0FBQSxZQUFTLE9BQU8sT0FBTyxTQUFTLE9BQU8sT0FBTTtRQUN0RCxPQUFPLFdBQVcsU0FBUyxXQUFXOztJQUUxQyxLQUFLLFNBQUEsSUFBUyxPQUFPLE9BQU8sU0FBUyxPQUFPLE9BQU07UUFDOUMsT0FBTyxXQUFXLFVBQVUsV0FBVzs7SUFFM0MsT0FBTyxTQUFBLE1BQVMsT0FBTyxPQUFPLFNBQVMsT0FBTyxPQUFNOztRQUVoRCxJQUFJLE1BQU0sTUFBTSxNQUFNO1FBQ3RCLFFBQVEsV0FBVztRQUNuQixPQUFPLFNBQVMsV0FBVyxJQUFJLE9BQU8sU0FBUyxXQUFXLElBQUk7O0lBRWxFLE1BQU07SUFDTixhQUFhLFNBQUEsWUFBVSxPQUFPO1FBQzFCLElBQUksU0FBUyxJQUFJO1lBQ2IsT0FBTzs7UUFFWCxPQUFPLENBQUMsRUFBRSxNQUFNLFVBQVU7O0lBRTlCLFVBQVUsU0FBQSxTQUFVLEtBQUs7O1FBRXZCLElBQUcsQ0FBQyxLQUFLO1lBQ1AsT0FBTzs7O1FBR1AsTUFBTSxFQUFFLEtBQUssS0FBSzs7UUFFbEIsSUFBSSwwQkFBMEIsU0FBMUIsd0JBQW1DLFVBQVU7WUFDN0MsSUFBSSxJQUFJLElBQUksTUFBTSxHQUFHLEdBQUcsR0FBRyxHQUFHLElBQUksR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsSUFBSSxHQUFHO1lBQ3BFLElBQUksS0FBSztZQUNULElBQUksWUFBWSxRQUFRLFNBQVMsVUFBVSxJQUFJO2dCQUMzQyxPQUFPOzs7WUFHWCxJQUFJLFdBQVcsU0FBUyxVQUFVLEdBQUcsS0FBSyxPQUFPLFNBQVMsVUFBVTtZQUNwRSxJQUFJLElBQUk7WUFDUixJQUFJLElBQUksQ0FBQztZQUNULElBQUksSUFBSTtZQUNSLElBQUksSUFBSTtZQUNSLElBQUksV0FBVzs7WUFFZixLQUFLLElBQUksSUFBSSxJQUFJLEtBQUssR0FBRyxLQUFLO2dCQUMxQixLQUFLLFNBQVMsU0FBUyxVQUFVLEdBQUcsSUFBSSxNQUFNLEVBQUU7Z0JBQ2hEOztZQUVKLElBQUksSUFBSTtZQUNSLElBQUksR0FBRyxPQUFPO1lBQ2QsV0FBVyxXQUFXO1lBQ3RCLE9BQU87OztRQUdYLElBQUksSUFBSSxVQUFVLElBQUk7WUFDbEIsTUFBTSx3QkFBeUI7OztRQUduQyxJQUFJLE9BQU87WUFDUCxNQUFNO1lBQ04sUUFBUTtZQUNKLElBQUksTUFBTSxJQUFJLE1BQU0sSUFBSSxNQUFNLElBQUksTUFBTSxJQUFJO1lBQzVDLElBQUksTUFBTSxJQUFJLE1BQU0sSUFBSSxPQUFPLElBQUksTUFBTSxJQUFJO1lBQzdDLElBQUksTUFBTSxJQUFJLE1BQU0sSUFBSSxNQUFNLElBQUksTUFBTSxJQUFJO1lBQzVDLElBQUksTUFBTSxJQUFJLE1BQU0sSUFBSSxNQUFNLElBQUksTUFBTSxJQUFJO1lBQzVDLElBQUksTUFBTSxJQUFJLE1BQU0sSUFBSSxNQUFNLElBQUksTUFBTSxJQUFJO1lBQzVDLElBQUksTUFBTSxJQUFJLE1BQU0sSUFBSSxNQUFNLElBQUksTUFBTSxJQUFJO1lBQzVDLElBQUksTUFBTSxJQUFJLE1BQU0sSUFBSSxNQUFNLElBQUksTUFBTSxJQUFJOztRQUVwRCxJQUFJLENBQUMsa0JBQWtCLEtBQUssTUFBTTtZQUM5QixPQUFPOztRQUVYLE1BQU0sSUFBSSxRQUFRLE9BQU87O1FBRXpCLElBQUksTUFBTSxTQUFTLElBQUksT0FBTyxHQUFHLElBQUksUUFBUSxNQUFNO1lBQy9DLE9BQU87O1FBRVgsSUFBSSxZQUFZLElBQUksT0FBTyxHQUFHLEtBQUssTUFBTSxPQUFPLElBQUksT0FBTyxJQUFJLE1BQU0sTUFBTSxPQUFPLElBQUksT0FBTyxJQUFJO1lBQzdGLElBQUksSUFBSSxLQUFLLFVBQVUsUUFBUSxNQUFNOztRQUV6QyxJQUFJLGFBQWMsRUFBRSxnQkFBZ0IsT0FBTyxFQUFFLGFBQWEsS0FBSyxNQUFNLEVBQUUsV0FBWTtZQUMvRSxPQUFPOztRQUVYLEtBQUssSUFBSSxJQUFJLElBQUksS0FBSyxHQUFHLEtBQUs7WUFDMUIsUUFBUyxLQUFLLElBQUksR0FBRyxLQUFLLEtBQU0sU0FBUyxJQUFJLE9BQU8sS0FBSyxJQUFJOztRQUVqRSxJQUFJLE9BQU8sTUFBTSxHQUFHO1lBQ2hCLE9BQU87O1FBRVgsT0FBTzs7SUFFWCxVQUFVLFNBQUEsU0FBVSxPQUFPO1FBQ3ZCLE9BQU8sQ0FBQyxFQUFJLFNBQVMsS0FBTyxTQUFTLEtBQU8sU0FBUyxLQUFPLFNBQVM7O0lBRXpFLFNBQVM7SUFDVCxTQUFTO0lBQ1QsWUFBWSxTQUFBLFdBQVMsT0FBTztRQUN4QixPQUFPLENBQUMsb0NBQW9DLEtBQUs7O0lBRXJELGVBQWUsU0FBQSxjQUFTLEtBQUs7UUFDekIsSUFBRyxRQUFRLElBQUksT0FBTztRQUN0QixRQUFPLGlCQUFpQixLQUFLOzs7SUFFakMsY0FBYyxTQUFBLGFBQVMsT0FBTyxPQUFPLFNBQVMsT0FBTyxPQUFPO1FBQ3hELElBQUksTUFBTSxLQUFLLHFCQUFvQixRQUFPO1FBQzFDLE9BQU8sSUFBSSxLQUFLOztJQUVwQixZQUFZO0lBQ1osVUFBVSxTQUFBLFNBQVMsS0FBSztRQUN0QixJQUFHLE9BQU8sSUFBRztZQUNYLE9BQU87O1FBRVQsUUFBTyxjQUFjLEtBQUs7Ozs7O0FBSXZCLElBQU0sYUFBQSxRQUFBLGFBQWE7SUFDeEIsVUFBVTtRQUNOLE9BQU87UUFDUCxTQUFTOztJQUViLGdCQUFnQjtRQUNaLE9BQU87UUFDUCxTQUFTOztJQUViLFNBQVM7UUFDTCxPQUFPO1FBQ1AsU0FBUzs7SUFFYixLQUFLO1FBQ0QsT0FBTztRQUNQLFNBQVM7O0lBRWIsT0FBTztRQUNILE9BQU87UUFDUCxTQUFTOztJQUViLFFBQVE7UUFDSixPQUFPO1FBQ1AsU0FBUzs7SUFFYixPQUFPO1FBQ0gsT0FBTztRQUNQLFNBQVM7O0lBRWIsV0FBVztRQUNQLE9BQU87UUFDUCxTQUFTOztJQUViLFdBQVc7UUFDUCxPQUFPO1FBQ1AsU0FBUzs7SUFFYixLQUFLO1FBQ0QsT0FBTztRQUNQLFNBQVM7O0lBRWIsYUFBYTtRQUNULE9BQU87UUFDUCxTQUFTOztJQUViLEtBQUs7UUFDRCxPQUFPO1FBQ1AsU0FBUzs7SUFFYixPQUFPO1FBQ0gsT0FBTztRQUNQLFNBQVM7O0lBRWIsTUFBTTtRQUNGLE9BQU87UUFDUCxTQUFTOztJQUViLGFBQWE7UUFDVCxPQUFPO1FBQ1AsU0FBUzs7SUFFYixVQUFVO1FBQ04sT0FBTztRQUNQLFNBQVM7O0lBRWIsVUFBVTtRQUNOLE9BQU87UUFDUCxTQUFTOztJQUViLFFBQVE7UUFDSixPQUFPO1FBQ1AsU0FBUzs7SUFFYixhQUFhO1FBQ1QsT0FBTztRQUNQLFNBQVM7O0lBRWIsU0FBUztRQUNMLE9BQU87UUFDUCxTQUFTOztJQUViLFNBQVM7UUFDTCxPQUFPO1FBQ1AsU0FBUzs7SUFFYixTQUFTO1FBQ0wsT0FBTztRQUNQLFNBQVM7O0lBRWIsWUFBWTtRQUNSLE9BQU87UUFDUCxTQUFTOztJQUViLGVBQWU7UUFDWCxPQUFPO1FBQ1AsU0FBUzs7SUFFYixVQUFVO1FBQ04sT0FBTztRQUNQLFNBQVM7O0lBRWIsY0FBYztRQUNWLE9BQU87UUFDUCxTQUFTOztJQUViLFlBQVk7UUFDUixPQUFPO1FBQ1AsU0FBUzs7SUFFYixVQUFVO1FBQ1IsT0FBTzs7OzhxdEJBV21xdEI7O0FDM1M5cXRCOztBQUVBLE9BQU8sZUFBZSxTQUFTLGNBQWM7RUFDM0MsT0FBTzs7O0FBSFQsSUFBQSxXQUFBLFFBQUE7O0FBUUEsSUFBSSxZQUFZLHVCQUF1Qjs7QUFQdkMsSUFBQSxlQUFBLFFBQUE7O0FBV0EsSUFBSSxnQkFBZ0IsdUJBQXVCOztBQVYzQyxJQUFBLFlBQUEsUUFBQTs7QUFjQSxJQUFJLGFBQWEsdUJBQXVCOztBQVp4QyxJQUFBLGdCQUFBLFFBQUE7O0FBZ0JBLElBQUksaUJBQWlCLHVCQUF1Qjs7QUFmNUMsSUFBQSxjQUFBLFFBQUE7O0FBbUJBLElBQUksZUFBZSx1QkFBdUI7O0FBbEIxQyxJQUFBLGFBQUEsUUFBQTs7QUFzQkEsSUFBSSxjQUFjLHVCQUF1Qjs7QUFyQnpDLElBQUEsWUFBQSxRQUFBOztBQXlCQSxJQUFJLGFBQWEsdUJBQXVCOztBQXhCeEMsSUFBQSxtQkFBQSxRQUFBOztBQTRCQSxJQUFJLG9CQUFvQix1QkFBdUI7O0FBM0IvQyxJQUFBLHFCQUFBLFFBQUE7O0FBK0JBLElBQUksc0JBQXNCLHVCQUF1Qjs7QUE5QmpELElBQUEscUJBQUEsUUFBQTs7QUFrQ0EsSUFBSSxzQkFBc0IsdUJBQXVCOztBQUVqRCxTQUFTLHVCQUF1QixLQUFLLEVBQUUsT0FBTyxPQUFPLElBQUksYUFBYSxNQUFNLEVBQUUsU0FBUzs7QUFFdkYsUUFBUSxVQW5DTyxVQUFBLFFBQVEsT0FBTyx5QkFBeUI7O0dBR3RELFVBQVUsZUFISSxjQUFBLFNBSWQsVUFBVSxZQUpJLFdBQUEsU0FLZCxVQUFVLGdCQUxJLGVBQUEsU0FNZCxVQUFVLGNBTkksYUFBQSxTQU9kLFVBQVUsYUFQSSxZQUFBLFNBUWQsVUFBVSxZQVJJLFdBQUEsU0FTZCxVQUFVLG1CQVRJLGtCQUFBLFNBVWQsVUFBVSxxQkFWSSxvQkFBQSxTQVdkLFVBQVUscUJBWEksb0JBQUE7OzhnRUF1QysvRDs7QUNwRDlnRTs7QUFFQSxPQUFPLGVBQWUsU0FBUyxjQUFjO0lBQ3pDLE9BQU87O0FBRVgsUUFBUSxVQUZnQjs7OztBQUFULFNBQVMsd0JBQXdCO0lBQzVDLE9BQU87UUFDSCxVQUFVO1FBQ1YsVUFBVTtRQUNWLFNBQVM7UUFDVCxNQUFNLFNBQUEsS0FBVSxPQUFPLFNBQVMsT0FBTztZQUNuQyxNQUFNLFVBQVUsTUFBTSxXQUFXOzs7O2t0Q0FVcXFDOztBQ25CbHRDOzs7QUFFQSxPQUFPLGVBQWUsU0FBUyxjQUFjO0VBQzNDLE9BQU87O0FBRVQsUUFBUSxVQUZnQjs7OztBQUFULFNBQVMsb0JBQW9CLFFBQVE7RUFDbEQ7O0VBRUEsT0FBTztJQUNMLFVBQVU7SUFDVixPQUFPO01BQ0wsTUFBTTtNQUNOLFNBQVM7TUFDVCxPQUFPO01BQ1AsVUFBVTtNQUNWLFdBQVc7TUFDWCxVQUFVO01BQ1YsUUFBUTtNQUNSLE9BQU87O0lBRVQsYUFBYTtJQUNiLFNBQVM7SUFDVCxNQUFNLFNBQVMsU0FBUyxPQUFPLFNBQVMsT0FBTzs7TUFFN0MsSUFBSSxXQUFXLE1BQU0sUUFBUSxNQUFNLFlBQVk7O01BRS9DLE1BQU0scUJBQXNCLFVBQUMsS0FBUTtRQUNuQyxJQUFJLFNBQVM7UUFDYixPQUFPLE1BQU0sYUFBYTs7UUFFMUIsU0FBUyxtQkFBbUIsS0FBSyxVQUFVOzs7Oztzd0VBV210RTs7QUN2Q3R3RTs7QUFFQSxPQUFPLGVBQWUsU0FBUyxjQUFjO0VBQzNDLE9BQU87O0FBRVQsUUFBUSxVQUxnQjtBQUFULFNBQVMseUJBQTBCO0VBQ2hEOztFQUVBLEtBQUssT0FBTztJQUNWLE9BQU8sU0FBQSxRQUFXO01BQ2hCLElBQUksS0FBSyxVQUFVO1FBQ2pCOzs7TUFHRixLQUFLLFdBQVc7OztJQUdsQixPQUFPLFNBQUEsUUFBVztNQUNoQixJQUFJLENBQUMsS0FBSyxVQUFVO1FBQ2xCOztNQUVGLEtBQUssV0FBVzs7O0lBSWxCLFNBQVMsU0FBQSxVQUFXO01BQ2xCLElBQUksQ0FBQyxLQUFLLFVBQVU7UUFDbEI7Ozs7TUFJRixLQUFLOzs7SUFHUCxTQUFTLFNBQUEsVUFBVzs7TUFFbEIsS0FBSzs7Ozs7RUFPVCxPQUFPLFFBQVEsT0FBTztJQUNwQixVQUFVO0lBQ1YsVUFBVTtLQUNULEtBQUs7O2szREFLdzJEOztBQzlDbDNEOzs7QUFFQSxPQUFPLGVBQWUsU0FBUyxjQUFjO0VBQzNDLE9BQU87O0FBRVQsUUFBUSxVQUZnQjs7QUFIeEIsSUFBQSxnQkFBQSxRQUFBOztBQVNBLElBQUksaUJBQWlCLHVCQUF1Qjs7QUFFNUMsU0FBUyx1QkFBdUIsS0FBSyxFQUFFLE9BQU8sT0FBTyxJQUFJLGFBQWEsTUFBTSxFQUFFLFNBQVM7O0FBUnhFLFNBQVMsYUFBYSxRQUFRO0VBQzNDOztFQUVBLE9BQU87SUFDTCxVQUFVO0lBQ1YsU0FBUyxDQUFDLFFBQVE7SUFDbEIsWUFBQSxlQUFBO0lBQ0EsU0FBUyxTQUFBLFVBQVc7TUFDbEIsT0FBTztRQUNMLEtBQUssU0FBQSxJQUFTLE9BQU8sTUFBTSxPQUFPLE1BQU07VUFDdEMsSUFBSSxPQUFPLEtBQUs7Y0FDZCxZQUFZLFFBQVEsUUFBUSxNQUFNLEtBQUs7O1VBRXpDLFFBQVEsT0FBTyxNQUFNLEtBQUs7Ozs7O1FBTTVCLE1BQU0sU0FBQSxLQUFTLE9BQU8sTUFBTSxPQUFPLE1BQU07VUFDdkMsSUFBSSxRQUFRLEtBQUs7Ozs7VUFJakIsSUFBRyxDQUFDLE1BQU0sWUFBWSxDQUFDLE1BQU0sUUFBUTs7WUFFbkMsSUFBRyxNQUFNLGFBQWE7Y0FDcEIsTUFBTSxlQUFlLFlBQVc7Z0JBQzlCLE9BQU8sT0FBTyxNQUFNLGFBQWEsT0FBTyxFQUFDLE9BQU8sTUFBTTs7OztZQUkxRCxLQUFLLEtBQUssVUFBVSxVQUFTLE9BQU87Y0FDbEMsUUFBUSxJQUFJO2NBQ1osTUFBTTtjQUNOLE1BQU0sT0FBTyxZQUFXO2dCQUN0QixNQUFNOzs7Ozs7Ozs7czZHQWtCZzVHOztBQ3pEdDZHOzs7QUFFQSxPQUFPLGVBQWUsU0FBUyxjQUFjO0VBQzNDLE9BQU87O0FBRVQsUUFBUSxVQUFnQjs7Ozs7O0FBQVQsU0FBUyxZQUFZLG1CQUFtQixVQUFVO0VBQy9EOztFQUVBLE9BQU87SUFDTCxVQUFVO0lBQ1YsT0FBTztNQUNMLFFBQVE7TUFDUixVQUFVOztJQUVaLE1BQU0sU0FBQSxLQUFTLE9BQU8sU0FBUyxPQUFPOztNQUVwQyxJQUFJLFVBQVU7O01BRWQsSUFBRyxNQUFNLFFBQVE7UUFDZixNQUFNLE9BQU8sVUFBVSxVQUFDLEtBQUQ7VUFBQSxPQUFTLE9BQU87O2FBQ25DLElBQUcsTUFBTSxVQUFVO1FBQ3ZCLE1BQU0sT0FBTyxZQUFZLFVBQUMsS0FBRDtVQUFBLE9BQVMsT0FBTyxVQUFVOzthQUMvQztRQUNKLE9BQU8sTUFBTTs7O01BR2YsU0FBUyxPQUFPLEtBQUs7UUFDbkIsSUFBRyxDQUFDLE9BQU8sUUFBUSxTQUFTOztRQUU1QixrQkFBa0IsS0FBSyxLQUFLLFlBQVU7VUFDcEMsU0FBUyxZQUFXO1lBQ2hCLEVBQUUsU0FDQyxLQUFLLE9BQU8saUNBQ1osSUFBSTtjQUNELG9CQUFvQixVQUFVLE1BQU07Y0FDcEMsbUJBQW1COztZQUV6QixFQUFFLFNBQVM7O1dBRWQsVUFBUyxLQUFJO1VBQ2QsRUFBRSxTQUFTLElBQUk7WUFDYixvQkFBb0I7WUFDcEIsbUJBQW1COzs7Ozs7OzBpSEFlMmdIOztBQ3pEMWlIOztBQUVBLE9BQU8sZUFBZSxTQUFTLGNBQWM7RUFDM0MsT0FBTzs7QUFFVCxRQUFRLFVBQ2dCOzs7Ozs7O0FBQVQsU0FBUyxXQUFXOztFQUVqQyxPQUFPO0lBQ0wsVUFBVTtJQUNWLE1BQU0sU0FBQSxLQUFTLFFBQVEsVUFBVSxRQUFRO01BQ3ZDLFNBQVMsS0FBSyxZQUFZLFVBQVMsT0FBTztRQUN4QyxJQUFJLFVBQVUsTUFBTSxTQUFTLE1BQU07O1FBRW5DLElBQUcsV0FBVyxPQUFPLE1BQU07VUFDekIsT0FBTyxPQUFPLFlBQUE7WUFBQSxPQUFNLE9BQU8sTUFBTSxPQUFPLFVBQVUsRUFBQyxRQUFROzs7VUFFM0QsTUFBTTs7Ozs7OzgyREFjODFEOztBQy9COTJEOzs7OztBQUVBLE9BQU8sZUFBZSxTQUFTLGNBQWM7SUFDekMsT0FBTzs7QUFFWCxRQUFRLFVBTGdCO0FBQVQsU0FBUyxrQkFBa0IsV0FBVyxRQUFRLFVBQVU7SUFDckU7O0lBRUEsT0FBTztRQUNMLFVBQVU7UUFDVixVQUFVOztRQUVWLE1BQU0sU0FBQSxLQUFTLE9BQU8sU0FBUyxPQUFPOztZQUVwQyxJQUFJLFNBQVMsTUFBTSxJQUFJLG1CQUFtQixVQUFVLE9BQW1CO2dCQUFBLElBQVosV0FBWSxVQUFBLFNBQUEsS0FBQSxVQUFBLE9BQUEsWUFBQSxVQUFBLEtBQUo7O2dCQUMvRCxTQUFTLGVBQWU7O2dCQUV4QixVQUFVLEtBQUs7b0JBQ1gsV0FBVztvQkFDWCxhQUFhO29CQUNiLFlBQVk7b0JBQ1osY0FBYztvQkFDZCxNQUFNO29CQUNOLFNBQVM7d0JBQ1AsU0FBUyxTQUFBLFVBQUE7NEJBQUEsT0FBTTs7O21CQUVsQixPQUFPLEtBQUssWUFBWSxJQUN4QixZQUFZOztZQUVuQixNQUFNLElBQUksWUFBWTs7Ozs7QUFLNUIsU0FBUyxvQkFBb0IsV0FBVyxXQUFXLG1CQUFtQixZQUFZLFFBQVEsUUFBUSxVQUFVLFFBQVEsUUFBUSxTQUFTO0lBQ25JOztJQUVFLElBQUksS0FBSzs7SUFFVCxJQUFJLEtBQUs7UUFBSSxTQUFTOztJQUV0QixHQUFHLGVBQWUsT0FBTyxLQUFLOztJQUU5QixJQUFJLE1BQU0sT0FBTyxLQUFLOztJQUV0QixRQUFRLE9BQU8sSUFBSTtRQUNmLFlBQVk7OztRQUdaLGdCQUFnQjtZQUNaLFdBQVcsUUFBUSxhQUFhO1lBQ2hDLFNBQVMsRUFBQyxPQUFPLFdBQVc7WUFDNUIsS0FBSztZQUNMLFFBQVE7WUFDUixhQUFhO1lBQ2IsVUFBVTtZQUNWLGdCQUFnQjtZQUNoQixnQkFBZ0I7WUFDaEIsa0JBQWtCO1lBQ2xCLGVBQWU7WUFDZixXQUFXLFNBQUEsVUFBVSxNQUFNO2dCQUN2QixFQUFFLGtCQUFrQixLQUFLLFlBQVksWUFBWSxLQUFLOztZQUUxRCxTQUFTLFNBQUEsUUFBVSxNQUFNLE1BQU07Z0JBQzNCLFdBQVcsY0FBYztnQkFDekIsS0FBSyxXQUFXO2dCQUNoQixFQUFFLGtCQUFrQixXQUFXLFlBQVksS0FBSzs7Z0JBRWhELFFBQVEsSUFBSTtnQkFDWixJQUFHLEtBQUssUUFBUSxHQUFFO29CQUNkLElBQUcsS0FBSyxLQUFLLE9BQU8sU0FBUyxHQUFFOzt3QkFFM0IsR0FBRyxZQUFZLEtBQUssS0FBSzt3QkFDekIsY0FBYyxLQUFLOzsyQkFFbEI7d0JBQ0QsT0FBTyxRQUFROzs7b0JBR25CLElBQUcsS0FBSyxLQUFLLGVBQWUsR0FBRzt3QkFDM0IsT0FBTzs7dUJBRVY7b0JBQ0QsT0FBTyxNQUFPLEtBQUs7OztnQkFHdkIsa0JBQWtCOzs7UUFHMUIsV0FBVzs7O0lBR2YsU0FBUyxjQUFjLE1BQU07UUFDM0IsVUFBVSxLQUFLO1lBQ1gsV0FBVztZQUNYLGFBQWE7WUFDYixZQUFZO1lBQ1osY0FBYztZQUNkLE1BQU07WUFDTixTQUFTO2dCQUNQLE1BQU0sU0FBQSxPQUFBO29CQUFBLE9BQU07OztXQUVmLE9BQU8sS0FBSyxZQUFZLElBQ3hCLFlBQVk7Ozs7SUFJakIsU0FBUyxXQUFXLEdBQUc7UUFDbkIsRUFBRTtRQUNGLFNBQVMsWUFBVztZQUNoQixFQUFFLEVBQUUsUUFBUSxTQUFTLGFBQWEsUUFBUTs7Ozs7QUFLdEQsU0FBUyxjQUFjLG1CQUFtQixNQUFNO0lBQzlDOztJQUVBLElBQUksUUFBUSxLQUFLO0lBQ2pCLElBQUcsT0FBTztRQUNSLFFBQVEsTUFBTSxPQUFPLFVBQUEsTUFBQTtZQUFBLE9BQVEsS0FBSyxLQUFLLE9BQU87O1dBQ3pDO1FBQ0wsUUFBUTs7O0lBR1YsS0FBSyxZQUFZO0lBQ2pCLEtBQUssUUFBUSxLQUFLOztJQUVsQixLQUFLLFNBQVMsWUFBTTtRQUNsQixrQkFBa0I7OztzcFVBZ0Jnb1U7O0FDNUl0cFU7Ozs7O0FBRUEsT0FBTyxlQUFlLFNBQVMsY0FBYztJQUN6QyxPQUFPOztBQUVYLFFBQVEsVUFMZ0I7QUFBVCxTQUFTLGtCQUFrQixXQUFXLFFBQVEsVUFBVTtJQUNyRTs7SUFFQSxPQUFPO1FBQ0wsVUFBVTtRQUNWLFVBQVU7O1FBRVYsTUFBTSxTQUFBLEtBQVMsT0FBTyxTQUFTLE9BQU87O1lBRXBDLElBQUksU0FBUyxNQUFNLElBQUksbUJBQW1CLFVBQVUsT0FBbUI7Z0JBQUEsSUFBWixXQUFZLFVBQUEsU0FBQSxLQUFBLFVBQUEsT0FBQSxZQUFBLFVBQUEsS0FBSjs7Z0JBQy9ELFNBQVMsZUFBZTs7Z0JBRXhCLFVBQVUsS0FBSztvQkFDWCxXQUFXO29CQUNYLGFBQWE7b0JBQ2IsWUFBWTtvQkFDWixjQUFjO29CQUNkLE1BQU07b0JBQ04sU0FBUzt3QkFDUCxTQUFTLFNBQUEsVUFBQTs0QkFBQSxPQUFNOzs7bUJBRWxCLE9BQU8sS0FBSyxZQUFZLElBQ3hCLFlBQVk7O1lBRW5CLE1BQU0sSUFBSSxZQUFZOzs7OztBQUs1QixTQUFTLG9CQUFvQixXQUFXLFdBQVcsbUJBQW1CLFlBQVksUUFBUSxRQUFRLFVBQVUsUUFBUSxRQUFRLFNBQVM7SUFDbkk7O0lBRUUsSUFBSSxLQUFLOztJQUVULElBQUksS0FBSztRQUFJLFNBQVM7O0lBRXRCLEdBQUcsZUFBZSxPQUFPLFFBQVE7O0lBRWpDLElBQUksTUFBTSxPQUFPLFFBQVE7O0lBRXpCLFFBQVEsT0FBTyxJQUFJO1FBQ2YsWUFBWTs7O1FBR1osZ0JBQWdCO1lBQ1osV0FBVyxRQUFRLGFBQWE7WUFDaEMsU0FBUyxFQUFDLE9BQU8sV0FBVztZQUM1QixLQUFLO1lBQ0wsUUFBUTtZQUNSLGFBQWE7WUFDYixVQUFVO1lBQ1YsZ0JBQWdCO1lBQ2hCLGdCQUFnQjtZQUNoQixrQkFBa0I7WUFDbEIsZUFBZTtZQUNmLFdBQVcsU0FBQSxVQUFVLE1BQU07Z0JBQ3ZCLEVBQUUsa0JBQWtCLEtBQUssWUFBWSxZQUFZLEtBQUs7O1lBRTFELFNBQVMsU0FBQSxRQUFVLE1BQU0sTUFBTTtnQkFDM0IsV0FBVyxjQUFjO2dCQUN6QixLQUFLLFdBQVc7Z0JBQ2hCLEVBQUUsa0JBQWtCLFdBQVcsWUFBWSxLQUFLOztnQkFFaEQsUUFBUSxJQUFJO2dCQUNaLElBQUcsS0FBSyxRQUFRLEdBQUU7b0JBQ2QsSUFBRyxLQUFLLEtBQUssT0FBTyxTQUFTLEdBQUU7O3dCQUUzQixHQUFHLFlBQVksS0FBSyxLQUFLO3dCQUN6QixjQUFjLEtBQUs7MkJBQ2xCO3dCQUNELE9BQU8sUUFBUTt3QkFDZixPQUFPOzt1QkFFVjtvQkFDRCxPQUFPLE1BQU8sS0FBSzs7Ozs7Ozs7SUFRbkMsU0FBUyxjQUFjLE1BQU07UUFDM0IsVUFBVSxLQUFLO1lBQ1gsV0FBVztZQUNYLGFBQWE7WUFDYixZQUFZO1lBQ1osY0FBYztZQUNkLE1BQU07WUFDTixTQUFTO2dCQUNQLE1BQU0sU0FBQSxPQUFBO29CQUFBLE9BQU07OztXQUVmLE9BQU8sS0FBSyxZQUFZLElBQ3hCLFlBQVk7Ozs7SUFLakIsU0FBUyxXQUFXLEdBQUc7UUFDbkIsRUFBRTtRQUNGLFNBQVMsWUFBVztZQUNoQixFQUFFLEVBQUUsUUFBUSxTQUFTLGFBQWEsUUFBUTs7Ozs7QUFLdEQsU0FBUyxjQUFjLG1CQUFtQixNQUFNO0lBQzlDOztJQUVBLElBQUksUUFBUSxLQUFLO0lBQ2pCLElBQUcsT0FBTztRQUNSLFFBQVEsTUFBTSxPQUFPLFVBQUEsTUFBQTtZQUFBLE9BQVEsS0FBSyxLQUFLLE9BQU87O1dBQ3pDO1FBQ0wsUUFBUTs7O0lBR1YsS0FBSyxZQUFZO0lBQ2pCLEtBQUssUUFBUSxLQUFLOztJQUVsQixLQUFLLFNBQVMsWUFBTTtRQUNsQixrQkFBa0I7Ozs4MFRBZXd6VDs7QUN2STkwVDs7Ozs7QUFFQSxPQUFPLGVBQWUsU0FBUyxjQUFjO0lBQ3pDLE9BQU87O0FBRVgsUUFBUSxVQUxnQjtBQUFULFNBQVMsa0JBQWtCLFdBQVcsUUFBUSxVQUFVO0lBQ3JFOztJQUVBLE9BQU87UUFDTCxVQUFVO1FBQ1YsVUFBVTs7UUFFVixNQUFNLFNBQUEsS0FBUyxPQUFPLFNBQVMsT0FBTzs7WUFFcEMsSUFBSSxTQUFTLE1BQU0sSUFBSSxpQkFBaUIsVUFBVSxPQUFtQjtnQkFBQSxJQUFaLFdBQVksVUFBQSxTQUFBLEtBQUEsVUFBQSxPQUFBLFlBQUEsVUFBQSxLQUFKOztnQkFDN0QsU0FBUyxlQUFlOztnQkFFeEIsVUFBVSxLQUFLO29CQUNYLFdBQVc7b0JBQ1gsYUFBYTtvQkFDYixZQUFZO29CQUNaLGNBQWM7b0JBQ2QsTUFBTTtvQkFDTixTQUFTO3dCQUNQLFNBQVMsU0FBQSxVQUFBOzRCQUFBLE9BQU07OzttQkFFbEIsT0FBTyxLQUFLLFlBQVksSUFDeEIsWUFBWTs7WUFFbkIsTUFBTSxJQUFJLFlBQVk7Ozs7O0FBSzVCLFNBQVMsb0JBQW9CLFdBQVcsV0FBVyxtQkFBbUIsWUFBWSxRQUFRLFFBQVEsVUFBVSxRQUFRLFFBQVEsU0FBUztJQUNuSTs7SUFFRSxJQUFJLEtBQUs7O0lBRVQsSUFBSSxLQUFLO1FBQUksU0FBUzs7SUFFdEIsR0FBRyxlQUFlLE9BQU8sV0FBVzs7SUFFcEMsSUFBSSxNQUFNLE9BQU8sV0FBVzs7SUFFNUIsUUFBUSxPQUFPLElBQUk7UUFDZixZQUFZOzs7UUFHWixnQkFBZ0I7WUFDWixXQUFXLFFBQVEsYUFBYTtZQUNoQyxTQUFTLEVBQUMsT0FBTyxXQUFXO1lBQzVCLEtBQUs7WUFDTCxRQUFRO1lBQ1IsYUFBYTtZQUNiLFVBQVU7WUFDVixnQkFBZ0I7WUFDaEIsZ0JBQWdCO1lBQ2hCLGtCQUFrQjtZQUNsQixlQUFlO1lBQ2YsV0FBVyxTQUFBLFVBQVUsTUFBTTtnQkFDdkIsRUFBRSxrQkFBa0IsS0FBSyxZQUFZLFlBQVksS0FBSzs7WUFFMUQsU0FBUyxTQUFBLFFBQVUsTUFBTSxNQUFNO2dCQUMzQixXQUFXLGNBQWM7Z0JBQ3pCLEtBQUssV0FBVztnQkFDaEIsRUFBRSxrQkFBa0IsV0FBVyxZQUFZLEtBQUs7O2dCQUVoRCxRQUFRLElBQUk7Z0JBQ1osSUFBRyxLQUFLLFFBQVEsR0FBRTtvQkFDZCxJQUFHLEtBQUssS0FBSyxPQUFPLFNBQVMsR0FBRTs7d0JBRTNCLEdBQUcsWUFBWSxLQUFLLEtBQUs7d0JBQ3pCLGNBQWMsS0FBSzs7MkJBRWxCO3dCQUNELE9BQU8sUUFBUTs7O29CQUduQixJQUFHLEtBQUssS0FBSyxlQUFlLEdBQUc7d0JBQzNCLE9BQU87O3VCQUVWO29CQUNELE9BQU8sTUFBTyxLQUFLOzs7Z0JBR3ZCLGtCQUFrQjs7O1FBRzFCLFdBQVc7OztJQUdmLFNBQVMsY0FBYyxNQUFNO1FBQzNCLFVBQVUsS0FBSztZQUNYLFdBQVc7WUFDWCxhQUFhO1lBQ2IsWUFBWTtZQUNaLGNBQWM7WUFDZCxNQUFNO1lBQ04sU0FBUztnQkFDUCxNQUFNLFNBQUEsT0FBQTtvQkFBQSxPQUFNOzs7V0FFZixPQUFPLEtBQUssWUFBWSxJQUN4QixZQUFZOzs7O0lBSWpCLFNBQVMsV0FBVyxHQUFHO1FBQ25CLEVBQUU7UUFDRixTQUFTLFlBQVc7WUFDaEIsRUFBRSxFQUFFLFFBQVEsU0FBUyxhQUFhLFFBQVE7Ozs7O0FBS3RELFNBQVMsY0FBYyxtQkFBbUIsTUFBTTtJQUM5Qzs7SUFFQSxJQUFJLFFBQVEsS0FBSztJQUNqQixJQUFHLE9BQU87UUFDUixRQUFRLE1BQU0sT0FBTyxVQUFBLE1BQUE7WUFBQSxPQUFRLEtBQUssS0FBSyxPQUFPOztXQUN6QztRQUNMLFFBQVE7OztJQUdWLEtBQUssWUFBWTtJQUNqQixLQUFLLFFBQVEsS0FBSzs7SUFFbEIsS0FBSyxTQUFTLFlBQU07UUFDbEIsa0JBQWtCOzs7c3FVQWdCZ3BVOztBQzVJdHFVOzs7QUFFQSxPQUFPLGVBQWUsU0FBUyxjQUFjO0VBQzNDLE9BQU87O0FBRVQsUUFBUSxVQUtnQjs7Ozs7Ozs7Ozs7QUFBVCxTQUFTLFVBQVUsU0FBUyxRQUFRO0VBQ2pEOztFQUVBLE9BQU87SUFDTCxVQUFVO0lBQ1YsT0FBTztJQUNQLE1BQU0sU0FBQSxLQUFTLE9BQU8sU0FBUyxPQUFPOztNQUVwQyxJQUFJLE9BQU8sT0FBTyxNQUFNLFdBQVc7TUFDbkMsSUFBSSxXQUFXLFFBQVE7O01BRXZCLElBQUksVUFBVSxLQUFLLFNBQ2pCLFFBQVEsUUFBUSxTQUFTLEtBQUssU0FBUyxZQUFZLFFBQVEsS0FBSyxVQUNoRSxRQUFRLFFBQVE7O01BRWxCLFNBQVMsU0FBUyxTQUFTO1FBQ3pCLFdBQVcsUUFBUTtRQUNuQixRQUFRLElBQUksU0FBUyxXQUFXLHNCQUFzQixLQUFLOztRQUUzRCxJQUFHLENBQUMsU0FBUyxNQUFNOzs7TUFHckIsU0FBUzs7TUFFVCxRQUFRLFFBQVEsU0FBUyxHQUFHLFVBQVU7O01BRXRDLE1BQU0sSUFBSSxZQUFZLFlBQU07UUFDMUIsUUFBUSxRQUFRLFNBQVMsSUFBSSxVQUFVOzs7Ozs7QUFRL0MsU0FBUyxvQkFBb0I7O0VBRTNCLElBQUksWUFBWSxTQUFTLGNBQWM7RUFDdkMsVUFBVSxNQUFNLFdBQVc7RUFDM0IsU0FBUyxLQUFLLFlBQVk7OztFQUcxQixJQUFJLGlCQUFpQixVQUFVLGNBQWMsVUFBVTs7O0VBR3ZELFNBQVMsS0FBSyxZQUFZOztFQUUxQixPQUFPOzs4MElBSXEwSTs7QUM3RDkwSTs7QUFFQSxPQUFPLGVBQWUsU0FBUyxjQUFjO0lBQ3pDLE9BQU87O0FBRVgsUUFBUSxVQUpnQjtBQUFULFNBQVMsZ0JBQWdCOztJQUVwQyxPQUFPLFVBQVMsS0FBSTtRQUNoQixJQUFJLE9BQU87UUFDWCxPQUFPLElBQUksTUFBTSxNQUFNLEtBQUs7OzswckJBUXNwQjs7QUNiMXJCOztBQUVBLE9BQU8sZUFBZSxTQUFTLGNBQWM7SUFDekMsT0FBTzs7QUFFWCxRQUFRLFVBTGdCO0FBQVQsU0FBUyxVQUFVOztJQUU5QixPQUFPLFVBQVMsTUFBSzs7UUFFcEIsSUFBSSxJQUFJLEtBQUssTUFBTSxPQUFPO1FBQzFCLElBQUksSUFBSSxPQUFPLE9BQU87UUFDdEIsSUFBSSxJQUFJLElBQUksSUFBSSxNQUFNO1FBQ3RCLElBQUksSUFBSSxJQUFJLElBQUksTUFBTTs7UUFFbkIsT0FBTyxJQUFJLE1BQU07OztzOUJBUzY3Qjs7QUNsQnQ5Qjs7QUFFQSxPQUFPLGVBQWUsU0FBUyxjQUFjO0lBQ3pDLE9BQU87O0FBRVgsUUFBUSxVQUpnQjtBQUFULFNBQVMsaUJBQWlCOztJQUVyQyxPQUFPLFVBQVMsS0FBSTs7UUFFaEIsSUFBSSxrQkFBa0I7O1FBRk4sSUFBQSw0QkFBQTtRQUFBLElBQUEsb0JBQUE7UUFBQSxJQUFBLGlCQUFBOztRQUFBLElBQUE7WUFJaEIsS0FBQSxJQUFBLFlBQWdCLElBQWhCLE9BQUEsYUFBQSxPQUFBLEVBQUEsNEJBQUEsQ0FBQSxRQUFBLFVBQUEsUUFBQSxPQUFBLDRCQUFBLE1BQXFCO2dCQUFBLElBQWIsT0FBYSxNQUFBOztnQkFDakIsbUJBQW1CLEtBQUssT0FBTzs7VUFMbkIsT0FBQSxLQUFBO1lBQUEsb0JBQUE7WUFBQSxpQkFBQTtrQkFBQTtZQUFBLElBQUE7Z0JBQUEsSUFBQSxDQUFBLDZCQUFBLFVBQUEsUUFBQTtvQkFBQSxVQUFBOztzQkFBQTtnQkFBQSxJQUFBLG1CQUFBO29CQUFBLE1BQUE7Ozs7O1FBUWhCLE9BQU87OztzZ0NBNkJ1L0I7O0FDeEN0Z0M7O0FBRUEsT0FBTyxlQUFlLFNBQVMsY0FBYztFQUMzQyxPQUFPOzs7QUFIVCxJQUFBLFdBQUEsUUFBQTs7QUFRQSxJQUFJLFlBQVksdUJBQXVCOztBQVB2QyxJQUFBLGVBQUEsUUFBQTs7QUFXQSxJQUFJLGdCQUFnQix1QkFBdUI7O0FBVjNDLElBQUEsV0FBQSxRQUFBOztBQWNBLElBQUksWUFBWSx1QkFBdUI7O0FBYnZDLElBQUEsZUFBQSxRQUFBOztBQWlCQSxJQUFJLGdCQUFnQix1QkFBdUI7O0FBaEIzQyxJQUFBLFVBQUEsUUFBQTs7QUFvQkEsSUFBSSxXQUFXLHVCQUF1Qjs7QUFuQnRDLElBQUEsY0FBQSxRQUFBOztBQXVCQSxJQUFJLGVBQWUsdUJBQXVCOztBQXRCMUMsSUFBQSxrQkFBQSxRQUFBOztBQTBCQSxJQUFJLG1CQUFtQix1QkFBdUI7O0FBekI5QyxJQUFBLGVBQUEsUUFBQTs7QUE2QkEsSUFBSSxnQkFBZ0IsdUJBQXVCOztBQTVCM0MsSUFBQSxXQUFBLFFBQUE7O0FBZ0NBLElBQUksWUFBWSx1QkFBdUI7O0FBL0J2QyxJQUFBLFVBQUEsUUFBQTs7QUFtQ0EsSUFBSSxXQUFXLHVCQUF1Qjs7QUFsQ3RDLElBQUEsaUJBQUEsUUFBQTs7QUFzQ0EsSUFBSSxrQkFBa0IsdUJBQXVCOztBQXJDN0MsSUFBQSxjQUFBLFFBQUE7O0FBeUNBLElBQUksZUFBZSx1QkFBdUI7O0FBeEMxQyxJQUFBLE9BQUEsUUFBQTs7QUE0Q0EsSUFBSSxRQUFRLHVCQUF1Qjs7QUFFbkMsU0FBUyx1QkFBdUIsS0FBSyxFQUFFLE9BQU8sT0FBTyxJQUFJLGFBQWEsTUFBTSxFQUFFLFNBQVM7O0FBRXZGLFFBQVEsVUE5Q08sVUFBQSxRQUFRLE9BQU8sc0JBQXNCLElBQ25ELE9BQU8sZUFETyxjQUFBLFNBRWQsT0FBTyxXQUZPLFVBQUEsU0FHZCxPQUFPLGVBSE8sY0FBQSxTQUlkLE9BQU8sVUFKTyxTQUFBLFNBS2QsT0FBTyxjQUxPLGFBQUEsU0FNZCxPQUFPLGtCQU5PLGlCQUFBLFNBT2QsT0FBTyxlQVBPLGNBQUEsU0FRZCxPQUFPLFdBUk8sVUFBQSxTQVNkLE9BQU8sVUFUTyxTQUFBLFNBVWQsT0FBTyxpQkFWTyxnQkFBQSxTQVdkLE9BQU8sY0FYTyxhQUFBLFNBWWQsT0FBTyxPQVpPLE1BQUE7MGpFQStDMmlFOztBQzdEMWpFOztBQUVBLE9BQU8sZUFBZSxTQUFTLGNBQWM7SUFDekMsT0FBTzs7QUFFWCxRQUFRLFVBTGdCO0FBQVQsU0FBUyxNQUFNOztJQUUxQixPQUFPLFVBQVMsT0FBTyxLQUFJOztRQUUxQixDQUFDLFFBQVEsTUFBTTtRQUNmLE9BQU8sT0FBTyxTQUFTLFdBQVcsTUFBTSxRQUFRLE9BQU87OzswdEJBUzhwQjs7QUNkMXRCOztBQUVBLE9BQU8sZUFBZSxTQUFTLGNBQWM7RUFDM0MsT0FBTzs7QUFFVCxRQUFRLFVBTGdCO0FBQVQsU0FBUyxTQUFTOztFQUVoQyxJQUFJLFdBQVcsU0FBUzs7RUFHdkIsT0FBTyxVQUFTLFNBQVE7SUFDdkIsSUFBSSxPQUFPLFNBQVMsT0FBTyxVQUFBLE1BQUE7TUFBQSxPQUFRLEtBQUssV0FBVzs7SUFDbkQsT0FBTyxLQUFLLFNBQVMsS0FBSyxHQUFHLE9BQU87OztzN0JBVSs0Qjs7QUNqQnQ3Qjs7QUFFQSxPQUFPLGVBQWUsU0FBUyxjQUFjO0VBQzNDLE9BQU87O0FBRVQsUUFBUSxVQUpnQjtBQUFULFNBQVMsVUFBVTtFQUNoQyxPQUFPLFVBQVMsTUFBSztJQUNuQixJQUFJLGdCQUFnQjtJQUNwQixRQUFPO01BQ0wsS0FBSztRQUNILGdCQUFnQjtRQUNoQjtNQUNGLEtBQUs7UUFDSCxnQkFBZ0I7UUFDaEI7TUFDRixLQUFLO1FBQ0gsZ0JBQWdCO1FBQ2hCO01BQ0YsS0FBSztRQUNILGdCQUFnQjtNQUNsQjtRQUNFLFFBQVEsS0FBSzs7SUFFakIsT0FBTzs7O2swQ0FRdXpDOztBQzNCbDBDOztBQUVBLE9BQU8sZUFBZSxTQUFTLGNBQWM7SUFDekMsT0FBTzs7QUFFWCxRQUFRLFVBSmdCO0FBQVQsU0FBUyxjQUFjO0lBQ2xDLE9BQU8sVUFBUyxRQUFPO1FBQ25CLElBQUksb0JBQW9CO1FBQ3hCLFFBQU87WUFDSCxLQUFLO2dCQUNELG9CQUFvQjtnQkFDcEI7WUFDSixLQUFLO2dCQUNELG9CQUFvQjtnQkFDcEI7WUFDSixLQUFLO2dCQUNELG9CQUFvQjtnQkFDcEI7WUFDSjtnQkFDSSxvQkFBb0I7O1FBRTVCLE9BQU87OztzMUNBUXUwQzs7QUN6QnQxQzs7QUFFQSxPQUFPLGVBQWUsU0FBUyxjQUFjO0lBQ3pDLE9BQU87O0FBRVgsUUFBUSxVQUxnQjtBQUFULFNBQVMsY0FBYztJQUNsQyxPQUFPLFVBQVMsUUFBTztRQUNuQixJQUFJLGNBQWM7UUFDbEIsUUFBTztZQUNILEtBQUs7Z0JBQ0QsY0FBYztnQkFDZDtZQUNKLEtBQUs7Z0JBQ0QsY0FBYztnQkFDZDtZQUNKLEtBQUs7Z0JBQ0QsY0FBYztnQkFDZDtZQUNKLEtBQUs7Z0JBQ0QsY0FBYztnQkFDZDtZQUNKO2dCQUNJLGNBQWM7O1FBRXRCLE9BQU87OztzOENBU3U3Qzs7QUM1QnQ4Qzs7QUFFQSxPQUFPLGVBQWUsU0FBUyxjQUFjO0lBQ3pDLE9BQU87O0FBRVgsUUFBUSxVQUpnQjtBQUFULFNBQVMsU0FBUztJQUM3QixPQUFPLFVBQVMsS0FBSTtRQUNoQixJQUFJLGVBQWU7UUFDbkIsUUFBTztZQUNILEtBQUs7Z0JBQ0QsZUFBZTtnQkFDZjtZQUNKLEtBQUs7Z0JBQ0QsZUFBZTtnQkFDZjtZQUNKLEtBQUs7Z0JBQ0QsZUFBZTtnQkFDZjtZQUNKO2dCQUNJLGVBQWU7O1FBRXZCLE9BQU87Ozs4dUNBUSt0Qzs7QUN6Qjl1Qzs7QUFFQSxPQUFPLGVBQWUsU0FBUyxjQUFjO0lBQ3pDLE9BQU87O0FBRVgsUUFBUSxVQUpnQjtBQUFULFNBQVMsY0FBYztJQUNsQyxPQUFPLFVBQVMsTUFBSztRQUNqQixJQUFJLG9CQUFvQjtRQUN4QixRQUFPO1lBQ0gsS0FBSztnQkFDRCxvQkFBb0I7Z0JBQ3BCO1lBQ0osS0FBSztnQkFDRCxvQkFBb0I7Z0JBQ3BCO1lBQ0osS0FBSztnQkFDRCxvQkFBb0I7Z0JBQ3BCO1lBQ0o7Z0JBQ0ksb0JBQW9COztRQUU1QixPQUFPOzs7azFDQVFtMEM7O0FDekJsMUM7O0FBRUEsT0FBTyxlQUFlLFNBQVMsY0FBYztJQUN6QyxPQUFPOztBQUVYLFFBQVEsVUFKZ0I7QUFBVCxTQUFTLGFBQWE7SUFDakMsT0FBTyxVQUFTLEtBQUk7UUFDaEIsSUFBSSxXQUFXO1FBQ2YsUUFBTztZQUNILEtBQUs7Z0JBQ0QsV0FBVztnQkFDWDtZQUNKLEtBQUs7Z0JBQ0QsV0FBVztnQkFDWDtZQUNKO2dCQUNJLFdBQVc7O1FBRW5CLE9BQU87OztzakNBUXVpQzs7QUN0QnRqQzs7QUFFQSxPQUFPLGVBQWUsU0FBUyxjQUFjO0lBQ3pDLE9BQU87O0FBRVgsUUFBUSxVQUxnQjtBQUFULFNBQVMsYUFBYTs7SUFFakMsT0FBTyxVQUFTLE1BQUs7O1FBRXBCLE9BQU8sT0FBTyxNQUFNLE9BQU87OzswbUJBUzBrQjs7QUNiMW1COztBQUVBLE9BQU8sZUFBZSxTQUFTLGNBQWM7SUFDekMsT0FBTzs7O0FBR1gsSUFBSSxlQUFlLFlBQVksRUFBRSxTQUFTLGlCQUFpQixRQUFRLE9BQU8sRUFBRSxLQUFLLElBQUksSUFBSSxHQUFHLElBQUksTUFBTSxRQUFRLEtBQUssRUFBRSxJQUFJLGFBQWEsTUFBTSxJQUFJLFdBQVcsYUFBYSxXQUFXLGNBQWMsT0FBTyxXQUFXLGVBQWUsTUFBTSxJQUFJLFdBQVcsWUFBWSxXQUFXLFdBQVcsTUFBTSxPQUFPLGVBQWUsUUFBUSxXQUFXLEtBQUssaUJBQWlCLE9BQU8sVUFBVSxhQUFhLFlBQVksYUFBYSxFQUFFLElBQUksWUFBWSxpQkFBaUIsWUFBWSxXQUFXLGFBQWEsSUFBSSxhQUFhLGlCQUFpQixhQUFhLGNBQWMsT0FBTzs7QUFFaGlCLFNBQVMsZ0JBQWdCLFVBQVUsYUFBYSxFQUFFLElBQUksRUFBRSxvQkFBb0IsY0FBYyxFQUFFLE1BQU0sSUFBSSxVQUFVOztBQU5oSCxJQUFNLFlBQVk7O0FBVWxCLElBUnFCLHVCQVFNLFlBQVk7SUFQbkMsU0FBQSx1QkFBYztRQUNkOztRQURjLGdCQUFBLE1BQUE7OztJQWNkLGFBQWEsc0JBQXNCLENBQUM7UUFDaEMsS0FBSztRQUNMLE9BQU8sU0FBUyxVQVhYO1lBQ0wsT0FBTzs7OztJQWVYLE9BQU87OztBQUdYLFFBQVEsVUF6QmE7OHFCQTBCeXBCOztBQzlCOXFCOztBQUVBLE9BQU8sZUFBZSxTQUFTLGNBQWM7RUFDM0MsT0FBTzs7O0FBR1QsSUFBSSxlQUFlLFlBQVksRUFBRSxTQUFTLGlCQUFpQixRQUFRLE9BQU8sRUFBRSxLQUFLLElBQUksSUFBSSxHQUFHLElBQUksTUFBTSxRQUFRLEtBQUssRUFBRSxJQUFJLGFBQWEsTUFBTSxJQUFJLFdBQVcsYUFBYSxXQUFXLGNBQWMsT0FBTyxXQUFXLGVBQWUsTUFBTSxJQUFJLFdBQVcsWUFBWSxXQUFXLFdBQVcsTUFBTSxPQUFPLGVBQWUsUUFBUSxXQUFXLEtBQUssaUJBQWlCLE9BQU8sVUFBVSxhQUFhLFlBQVksYUFBYSxFQUFFLElBQUksWUFBWSxpQkFBaUIsWUFBWSxXQUFXLGFBQWEsSUFBSSxhQUFhLGlCQUFpQixhQUFhLGNBQWMsT0FBTzs7QUFFaGlCLFNBQVMsZ0JBQWdCLFVBQVUsYUFBYSxFQUFFLElBQUksRUFBRSxvQkFBb0IsY0FBYyxFQUFFLE1BQU0sSUFBSSxVQUFVOzs7K0VBRWhILElBVnFCLFVBVVAsWUFBWTtFQVR4QixTQUFBLFFBQVksT0FBTyxZQUFZLFlBQVksUUFBUSxRQUFRO0lBQ3pEOztJQUR5RCxnQkFBQSxNQUFBOztJQUd6RCxLQUFLLFFBQVE7O0lBRWIsS0FBSyxjQUFjOztJQUVuQixLQUFLLE9BQU8sT0FBTztJQUNuQixLQUFLLFVBQVU7O0lBRWYsS0FBSyxhQUFhO0lBQ2xCLEtBQUssU0FBUzs7O0VBZWhCLGFBQWEsU0FBUyxDQUFDO0lBQ3JCLEtBQUs7SUFDTCxPQUFPLFNBQVMsS0FkYixRQUFROztNQUVYLEtBQUssWUFBWSxRQUFROztNQUV6QixPQUFPLEtBQUssTUFBTSxJQUFJLEtBQUssS0FBSyxNQUFNLEVBQUMsUUFBUSxVQUFTLEtBQUssS0FBSyxZQUFZLFFBQVMsS0FBSyxZQUFZOztLQWdCdkc7SUFDRCxLQUFLO0lBQ0wsT0FBTyxTQUFTLElBZmQsTUFBTTs7TUFFUixLQUFLLFlBQVksUUFBUTs7TUFFekIsT0FBTyxLQUFLLE1BQU0sS0FBSyxLQUFLLEtBQUssS0FBSyxNQUFNLEtBQUssS0FBSyxZQUFZLFFBQVEsS0FBSyxZQUFZOztLQWlCMUY7SUFDRCxLQUFLO0lBQ0wsT0FBTyxTQUFTLElBaEJkLEtBQUssUUFBUTs7TUFFZixLQUFLLFlBQVksUUFBUTs7TUFFekIsT0FBTyxLQUFLLE1BQU0sSUFBSSxLQUFLLEtBQUssSUFBSSxRQUFRLFdBQVcsTUFBTSxFQUFDLFFBQVEsVUFBUyxLQUFLLEtBQUssWUFBWSxRQUFTLEtBQUssWUFBWTs7Ozs7Ozs7OztLQTBCOUg7SUFDRCxLQUFLO0lBQ0wsT0FBTyxTQUFTLGNBbEJKO01BQ1osS0FBSyxZQUFZLFFBQVE7O01BRXpCLE9BQU8sS0FBSyxNQUFNLElBQUksS0FBSyxLQUFLLFVBQVUsS0FBSyxLQUFLLFlBQVksUUFBUyxLQUFLLFlBQVk7Ozs7RUFzQjVGLE9BQU87OztBQUdULFFBQVEsVUF2RWE7ODFIQXdFeTBIOztBQ3hFOTFIOztBQUVBLE9BQU8sZUFBZSxTQUFTLGNBQWM7RUFDM0MsT0FBTzs7O0FBR1QsSUFBSSxXQUFXLE9BQU8sVUFBVSxVQUFVLFFBQVEsRUFBRSxLQUFLLElBQUksSUFBSSxHQUFHLElBQUksVUFBVSxRQUFRLEtBQUssRUFBRSxJQUFJLFNBQVMsVUFBVSxJQUFJLEtBQUssSUFBSSxPQUFPLFFBQVEsRUFBRSxJQUFJLE9BQU8sVUFBVSxlQUFlLEtBQUssUUFBUSxNQUFNLEVBQUUsT0FBTyxPQUFPLE9BQU8sWUFBWSxPQUFPOztBQUV2UCxJQUFJLGVBQWUsWUFBWSxFQUFFLFNBQVMsaUJBQWlCLFFBQVEsT0FBTyxFQUFFLEtBQUssSUFBSSxJQUFJLEdBQUcsSUFBSSxNQUFNLFFBQVEsS0FBSyxFQUFFLElBQUksYUFBYSxNQUFNLElBQUksV0FBVyxhQUFhLFdBQVcsY0FBYyxPQUFPLFdBQVcsZUFBZSxNQUFNLElBQUksV0FBVyxZQUFZLFdBQVcsV0FBVyxNQUFNLE9BQU8sZUFBZSxRQUFRLFdBQVcsS0FBSyxpQkFBaUIsT0FBTyxVQUFVLGFBQWEsWUFBWSxhQUFhLEVBQUUsSUFBSSxZQUFZLGlCQUFpQixZQUFZLFdBQVcsYUFBYSxJQUFJLGFBQWEsaUJBQWlCLGFBQWEsY0FBYyxPQUFPOztBQUVoaUIsU0FBUyxnQkFBZ0IsVUFBVSxhQUFhLEVBQUUsSUFBSSxFQUFFLG9CQUFvQixjQUFjLEVBQUUsTUFBTSxJQUFJLFVBQVU7Ozs7Ozs7NkNBTWhILElBWnFCLGtCQVlDLFlBQVk7RUFYaEMsU0FBQSxnQkFBWSxPQUFPLElBQUc7SUFDcEI7O0lBRG9CLGdCQUFBLE1BQUE7O0lBRXBCLEtBQUssS0FBSztJQUNWLEtBQUssUUFBUTtJQUNiLEtBQUssTUFBTTtJQUNYLEtBQUssT0FBTztNQUNWLEtBQUs7TUFDTCxRQUFRO01BQ1IsVUFBVTs7OztFQW1CZCxhQUFhLGlCQUFpQixDQUFDO0lBQzdCLEtBQUs7SUFDTCxPQUFPLFNBQVMsUUFqQlY7TUFDTixJQUFJLFdBQVcsS0FBSyxHQUFHO01BQ3ZCLE9BQU8sY0FBYyxVQUFTLEtBQUs7OztRQUdqQyxTQUFTLFFBQVMsSUFBSSxPQUFPOzs7TUFHL0IsT0FBTzs7Ozs7S0FzQk47SUFDRCxLQUFLO0lBQ0wsT0FBTyxTQUFTLE9BcEJYOztNQUVMLElBQUksV0FBVyxLQUFLOztNQUVwQixLQUFLLE1BQU0sTUFBTSxLQUFLLE1BQU0sUUFBUSxFQUFDLFFBQVEsS0FBSzs7TUFFbEQsT0FBTyxTQUFTOztLQXNCZjtJQUNELEtBQUs7SUFDTCxPQUFPLFNBQVMsWUFyQk4sSUFBSTs7TUFFZCxJQUFJLFdBQVcsS0FBSztNQUNwQixJQUFJLFNBQUEsU0FBQSxJQUFhLEtBQUssTUFBbEIsRUFBd0IsSUFBQTs7TUFFNUIsS0FBSyxNQUFNLE1BQU0sS0FBSyxNQUFNLGVBQWUsRUFBQyxRQUFROztNQUVwRCxPQUFPLFNBQVM7O0tBdUJmO0lBQ0QsS0FBSztJQUNMLE9BQU8sU0FBUyxPQXRCWCxNQUFpQjtNQUFBLElBQVgsUUFBVyxVQUFBLFNBQUEsS0FBQSxVQUFBLE9BQUEsWUFBQSxVQUFBLEtBQUg7O01BQ25CLElBQUcsU0FBUyxLQUFLLEdBQUc7UUFDbEIsT0FBTyxLQUFLO2FBQ1AsSUFBRyxPQUFPLFFBQVEsVUFBUztRQUNoQyxJQUFJLE9BQUEsS0FBQTtZQUFNLFFBQUEsS0FBQTtZQUFPLFNBQUEsS0FBQTs7UUFFakIsSUFBTSxNQUFNOztRQUVaLElBQU0sZUFBZSxLQUFLLE1BQU07UUFDaEMsSUFBTSxTQUFTLGFBQWE7O1FBRTVCLElBQUcsU0FBUyxHQUFHO1VBQ2IsU0FBUztZQUNQLFNBQVMsYUFBYSxTQUFPOzs7O1FBSWpDLElBQUcsU0FBUyxNQUFNLFFBQVEsYUFBYSxHQUFHLE1BQU0sT0FBTTtVQUNwRCxPQUFPLFdBQVc7WUFDaEIsVUFBVSxNQUFNO1lBQ2hCLElBQUksTUFBTTs7OztRQUlkLElBQUcsU0FBUyxNQUFNLFFBQVEsYUFBYSxHQUFHLE1BQU0sT0FBTTtVQUNwRCxPQUFPLE9BQU87WUFDWixVQUFVLE1BQU07WUFDaEIsSUFBSSxNQUFNOzs7O1FBSWQsSUFBRyxTQUFTLE1BQU0sUUFBUSxhQUFhLEdBQUcsTUFBTSxPQUFNO1VBQ3BELE9BQU8sV0FBVztZQUNoQixVQUFVLE1BQU07WUFDaEIsSUFBSSxNQUFNOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O1FBcUNkLE9BQU87YUFDRixJQUFHLEtBQUssU0FBVTtRQUN2QixJQUFJLFNBQVM7O1FBRWIsSUFBRyxLQUFLLFVBQVM7VUFDZixTQUFBLEtBQVksU0FBUyxLQUFLLFNBQVMsV0FBbkMsTUFBK0MsS0FBSyxTQUFTLEtBQTdEOztVQUVBLElBQUcsS0FBSyxNQUFLO1lBQ1gsU0FBQSxLQUFZLFNBQVMsS0FBSyxLQUFLLFdBQS9CLE1BQTJDLEtBQUssS0FBSyxLQUFyRDs7WUFFQSxJQUFHLEtBQUssVUFBUztjQUNmLFNBQUEsS0FBWSxTQUFTLEtBQUssU0FBUyxXQUFuQyxNQUErQyxLQUFLLFNBQVMsS0FBN0Q7Ozs7O1FBS04sT0FBQSxLQUFVLFNBQVMsS0FBSzs7Ozs7RUErQjVCLE9BQU87OztBQUdULFFBQVEsVUFyS2E7czRQQXNLaTNQOztBQzFLdDRQOztBQUVBLE9BQU8sZUFBZSxTQUFTLGNBQWM7SUFDekMsT0FBTzs7O0FBR1gsSUFBSSxlQUFlLFlBQVksRUFBRSxTQUFTLGlCQUFpQixRQUFRLE9BQU8sRUFBRSxLQUFLLElBQUksSUFBSSxHQUFHLElBQUksTUFBTSxRQUFRLEtBQUssRUFBRSxJQUFJLGFBQWEsTUFBTSxJQUFJLFdBQVcsYUFBYSxXQUFXLGNBQWMsT0FBTyxXQUFXLGVBQWUsTUFBTSxJQUFJLFdBQVcsWUFBWSxXQUFXLFdBQVcsTUFBTSxPQUFPLGVBQWUsUUFBUSxXQUFXLEtBQUssaUJBQWlCLE9BQU8sVUFBVSxhQUFhLFlBQVksYUFBYSxFQUFFLElBQUksWUFBWSxpQkFBaUIsWUFBWSxXQUFXLGFBQWEsSUFBSSxhQUFhLGlCQUFpQixhQUFhLGNBQWMsT0FBTzs7QUFFaGlCLFNBQVMsZ0JBQWdCLFVBQVUsYUFBYSxFQUFFLElBQUksRUFBRSxvQkFBb0IsY0FBYyxFQUFFLE1BQU0sSUFBSSxVQUFVOzs7Z0dBRWhILElBUnFCLGlCQVFBLFlBQVk7SUFQN0IsU0FBQSxlQUFZLE9BQU8sWUFBWSxhQUFhLFFBQVEsZUFBZTtRQUNuRTs7UUFEbUUsZ0JBQUEsTUFBQTs7UUFFL0QsS0FBSyxRQUFROztRQUViLEtBQUssY0FBYzs7UUFFbkIsS0FBSyxPQUFPLE9BQU87UUFDbkIsS0FBSyxVQUFVOztRQUVmLEtBQUssWUFBWSxZQUFZOztRQUU3QixLQUFLLGlCQUFpQjs7UUFFekIsS0FBSyxPQUFPO1lBQ1YsTUFBTTtZQUNOLFFBQVE7OztRQUdQLEtBQUssV0FBVzs7UUFFaEIsS0FBSyxVQUFVLGFBQWEsUUFBUSxjQUFjOztRQUVsRCxLQUFLLFNBQVM7O1FBRWQsSUFBRyxLQUFLLFNBQVM7WUFDYixLQUFLLElBQUksRUFBQyxJQUFJLEtBQUs7OztRQUd2QixLQUFLOzs7SUFjVCxhQUFhLGdCQUFnQixDQUFDO1FBQzFCLEtBQUs7UUFDTCxPQUFPLFNBQVMsY0FaTjtZQUNWLE9BQU8sS0FBSzs7T0FjYjtRQUNDLEtBQUs7UUFDTCxPQUFPLFNBQVMsZUFiTDtZQUFBLElBQUEsUUFBQTs7WUFDWCxLQUFLLGVBQWUsY0FBYyxLQUFLLFVBQUEsTUFBUTtnQkFDM0MsSUFBRyxRQUFRLGdCQUFnQixPQUFPO29CQUM5QixNQUFLLFNBQVMsS0FBSyxNQUFPLE1BQUssVUFBVTs7OztPQW1CbEQ7UUFDQyxLQUFLO1FBQ0wsT0FBTyxTQUFTLFdBaEJULEtBQUssT0FBTztZQUNuQixJQUFJLE9BQU8sT0FBTztnQkFDZCxlQUFlLFFBQVEsS0FBSzs7O09BbUJqQztRQUNDLEtBQUs7UUFDTCxPQUFPLFNBQVMsV0FqQlQsS0FBSztZQUNaLElBQUksS0FBSztnQkFDTCxPQUFPLGVBQWUsUUFBUTs7O1lBR2xDLE9BQU87O09BbUJSO1FBQ0MsS0FBSztRQUNMLE9BQU8sU0FBUyxVQWxCWDtZQUNMLE9BQU8sS0FBSzs7T0FvQmI7UUFDQyxLQUFLO1FBQ0wsT0FBTyxTQUFTLFlBbkJSO1lBQ1IsT0FBTyxLQUFLOztPQXFCYjtRQUNDLEtBQUs7UUFDTCxPQUFPLFNBQVMsSUFwQmhCLE1BQU07WUFBQSxJQUFBLFNBQUE7O1lBRU4sS0FBSyxZQUFZLFFBQVE7O1lBRXpCLE9BQU8sS0FBSyxNQUFNLEtBQUssS0FBSyxLQUFLLEtBQUssTUFBTSxLQUFLLEtBQUssWUFBWSxRQUFTLEtBQUssWUFBWSxPQUFPLEtBQUssVUFBQSxNQUFRO2dCQUM1RyxPQUFLLEtBQUssT0FBTyxLQUFLO2dCQUN0QixPQUFLLEtBQUssT0FBTyxLQUFLO2dCQUN0QixPQUFLLFdBQVcsWUFBWSxLQUFLO2dCQUNqQyxPQUFLOzs7T0F3QlY7UUFDQyxLQUFLO1FBQ0wsT0FBTyxTQUFTLGFBdEJQLE1BQU07WUFBQSxJQUFBLFNBQUE7O1lBQ2YsSUFBSSxhQUFhLFFBQVEsU0FBUztZQUNsQyxJQUFHLGNBQWMsV0FBVyxLQUFLLEtBQUssT0FBTztnQkFDekMsSUFBSSxPQUFPLE9BQU8sS0FBSyxLQUFLO2dCQUM1QixLQUFLLFFBQVEsVUFBQSxLQUFPO29CQUNoQixJQUFHLENBQUMsV0FBVyxNQUFNO3dCQUNqQixPQUFPLE9BQUssT0FBTzs7O2dCQUczQixRQUFRLE9BQU8sS0FBSyxRQUFRLFdBQVcsS0FBSyxLQUFLOzs7T0EyQnREO1FBQ0MsS0FBSztRQUNMLE9BQU8sU0FBUyxnQkF6Qko7WUFBQSxJQUFBLFNBQUE7O1lBRVosSUFBSSxTQUFTLEtBQUssV0FBVzs7WUFFN0IsSUFBRyxRQUFRO2dCQUNQLEtBQUssYUFBYTs7O1lBR3RCLEtBQUssZUFBZSxJQUFJLEtBQUssV0FBVyxLQUFLLFVBQUEsTUFBUTtnQkFDakQsT0FBSyxXQUFXLGNBQWM7Z0JBQzlCLElBQUksTUFBTTtvQkFDTixPQUFLLGFBQWE7Ozs7OztJQWdDOUIsT0FBTzs7O0FBR1gsUUFBUSxVQTFJYTtzd09BMklpdk87O0FDN0l0d087O0FBRUEsT0FBTyxlQUFlLFNBQVMsY0FBYztFQUMzQyxPQUFPOzs7QUFIVCxJQUFBLFdBQUEsUUFBQTs7QUFRQSxJQUFJLFlBQVksdUJBQXVCOztBQU52QyxJQUFBLFVBQUEsUUFBQTs7QUFVQSxJQUFJLFdBQVcsdUJBQXVCOztBQVR0QyxJQUFBLFdBQUEsUUFBQTs7QUFhQSxJQUFJLFlBQVksdUJBQXVCOztBQVh2QyxJQUFBLGlCQUFBLFFBQUE7O0FBZUEsSUFBSSxrQkFBa0IsdUJBQXVCOztBQWQ3QyxJQUFBLFlBQUEsUUFBQTs7QUFrQkEsSUFBSSxhQUFhLHVCQUF1Qjs7QUFFeEMsU0FBUyx1QkFBdUIsS0FBSyxFQUFFLE9BQU8sT0FBTyxJQUFJLGFBQWEsTUFBTSxFQUFFLFNBQVM7O0FBRXZGLFFBQVEsVUFwQk8sVUFBQSxRQUFRLE9BQU8sdUJBQXVCLElBQ3BELFFBQVEsaUJBRE0sU0FBQSxTQUVkLFFBQVEsa0JBRk0sVUFBQSxTQUdkLFFBQVEsd0JBSE0sZ0JBQUEsU0FJZCxRQUFRLG1CQUpNLFdBQUE7MG5DQXFCMm1DOztBQzdCMW5DOztBQUVBLE9BQU8sZUFBZSxTQUFTLGNBQWM7RUFDM0MsT0FBTzs7O0FBSFQsSUFBQSxXQUFBLFFBQUE7O0FBUUEsSUFBSSxZQUFZLHVCQUF1Qjs7QUFQdkMsSUFBQSxnQkFBQSxRQUFBOztBQUNBLElBQUEsbUJBQUEsUUFBQTs7QUFFQSxJQUFBLGFBQUEsUUFBQTs7QUFZQSxJQUFJLGNBQWMsdUJBQXVCOztBQVh6QyxJQUFBLGNBQUEsUUFBQTs7QUFlQSxJQUFJLGNBQWMsdUJBQXVCOztBQWR6QyxJQUFBLG9CQUFBLFFBQUE7O0FBa0JBLElBbEJZLFNBa0JDLHdCQUF3Qjs7QUFoQnJDLElBQUEsU0FBQSxRQUFBOztBQUVBLElBQUEsVUFBQSxRQUFBOztBQW9CQSxJQUFJLFdBQVcsdUJBQXVCOztBQUV0QyxTQUFTLHdCQUF3QixLQUFLLEVBQUUsSUFBSSxPQUFPLElBQUksWUFBWSxFQUFFLE9BQU8sWUFBWSxFQUFFLElBQUksU0FBUyxJQUFJLElBQUksT0FBTyxNQUFNLEVBQUUsS0FBSyxJQUFJLE9BQU8sS0FBSyxFQUFFLElBQUksT0FBTyxVQUFVLGVBQWUsS0FBSyxLQUFLLE1BQU0sT0FBTyxPQUFPLElBQUksVUFBVSxPQUFPLFVBQVUsS0FBSyxPQUFPOztBQUVsUSxTQUFTLHVCQUF1QixLQUFLLEVBQUUsT0FBTyxPQUFPLElBQUksYUFBYSxNQUFNLEVBQUUsU0FBUzs7Ozs7OztBQU92RixRQUFRLFVBeEJPLFVBQUEsUUFBUSxPQUFPLHVCQUF1Qjs7O0NBR3BELFVBQVUsZ0JBSEksY0FBQSxZQUlkLFVBQVUsaUJBSkksWUFBQSxTQUtkLFFBQVEsb0JBTE0sWUFBQSxTQU1kLFVBQVUsbUJBTkksaUJBQUE7OztDQVNkLFVBQVUseUJBQXlCLE9BQU8sdUJBQzFDLFVBQVUsMkJBQTJCLE9BQU8seUJBQzVDLFVBQVUsbUJBQW1CLE9BQU8saUJBRXBDLFVBQVUsZ0JBYkksT0FBQSxjQWVkLFFBQVEsaUJBZk0sU0FBQTs7Ozs7O3NrRkFvQ3VqRjs7QUNyRHRrRjs7QUFFQSxPQUFPLGVBQWUsU0FBUyxjQUFjO0VBQzNDLE9BQU87OztBQUdULFNBQVMsZ0JBQWdCLFVBQVUsYUFBYSxFQUFFLElBQUksRUFBRSxvQkFBb0IsY0FBYyxFQUFFLE1BQU0sSUFBSSxVQUFVOztBQUVoSCxJQVJNLDRCQUVKLFNBQUEsNEJBQWM7RUFDWjs7RUFEWSxnQkFBQSxNQUFBOzs7QUFPVCxJQUFNLGdCQUFBLFFBQUEsZ0JBQWdCO0VBQzNCLGFBQWE7RUFDYixZQUFZO0VBQ1osVUFBVTs7azBCQU9zekI7O0FDbkJsMEI7O0FBRUEsT0FBTyxlQUFlLFNBQVMsY0FBYztFQUMzQyxPQUFPOzs7QUFHVCxJQUFJLGVBQWUsWUFBWSxFQUFFLFNBQVMsaUJBQWlCLFFBQVEsT0FBTyxFQUFFLEtBQUssSUFBSSxJQUFJLEdBQUcsSUFBSSxNQUFNLFFBQVEsS0FBSyxFQUFFLElBQUksYUFBYSxNQUFNLElBQUksV0FBVyxhQUFhLFdBQVcsY0FBYyxPQUFPLFdBQVcsZUFBZSxNQUFNLElBQUksV0FBVyxZQUFZLFdBQVcsV0FBVyxNQUFNLE9BQU8sZUFBZSxRQUFRLFdBQVcsS0FBSyxpQkFBaUIsT0FBTyxVQUFVLGFBQWEsWUFBWSxhQUFhLEVBQUUsSUFBSSxZQUFZLGlCQUFpQixZQUFZLFdBQVcsYUFBYSxJQUFJLGFBQWEsaUJBQWlCLGFBQWEsY0FBYyxPQUFPOztBQUVoaUIsU0FBUyxnQkFBZ0IsVUFBVSxhQUFhLEVBQUUsSUFBSSxFQUFFLG9CQUFvQixjQUFjLEVBQUUsTUFBTSxJQUFJLFVBQVU7Ozt1SEFFaEgsSUFWTSx5QkFVdUIsWUFBWTtFQVJ2QyxTQUFBLHVCQUFZLE9BQU8sVUFBVSxRQUFRLGFBQWEsZ0JBQWdCLGdCQUFnQjtJQUNoRjs7SUFEZ0YsZ0JBQUEsTUFBQTs7SUFHaEYsS0FBSyxTQUFTO0lBQ2QsS0FBSyxlQUFlOztJQUVwQixLQUFLLGNBQWM7O0lBRW5CLEtBQUssVUFBVTtJQUNmLEtBQUssV0FBVzs7OztJQUloQixLQUFLLE9BQU8sZUFBZTtJQUMzQixLQUFLLFlBQVk7O0lBRWpCLEtBQUs7OztFQWNQLGFBQWEsd0JBQXdCLENBQUM7SUFDcEMsS0FBSztJQUNMLE9BQU8sU0FBUyxTQWJUO01BQUEsSUFBQSxRQUFBOztNQUNQLEtBQUssT0FBTyxLQUFLO1FBQ2YsT0FBTztRQUNQLE1BQU07UUFDTixNQUFNO1FBQ04sa0JBQWtCO1FBQ2xCLG1CQUFtQjtRQUNuQixrQkFBa0I7U0FDakIsVUFBQSxXQUFhO1FBQ2QsSUFBSSxXQUFXO1VBQ2IsYUFBYTtVQUNiLE1BQUssYUFBYTs7OztLQW1CckI7SUFDRCxLQUFLO0lBQ0wsT0FBTyxTQUFTLFNBaEJUO01BQUEsSUFBQSxTQUFBOztNQUNQLEtBQUssWUFBWSxRQUFRLEVBQUMsTUFBTSxHQUFHLFlBQVksTUFBSyxNQUFNLEtBQUssVUFBQSxNQUFRO1FBQ3JFLElBQUksYUFBYSxLQUFLLFNBQVMsT0FBTyxVQUFBLE1BQUE7VUFBQSxPQUFRLEtBQUssVUFBVTs7UUFDN0QsSUFBSSxNQUFNLFdBQVc7UUFDckIsSUFBSSxNQUFNLEdBQUc7VUFDWCxJQUFJLFdBQVcsV0FBVyxHQUFHO1VBQzdCLElBQUssWUFBWSxPQUFLLFVBQVU7WUFDOUIsT0FBSyxRQUFRLFFBQVEsV0FBVyxHQUFHLFNBQVM7WUFDNUMsT0FBSyxXQUFXOzs7O1FBSXBCLElBQUksTUFBTSxHQUFHO1VBQ1gsTUFBTTs7O1FBR1IsT0FBSyxZQUFZOztRQUVqQixPQUFLLFNBQVMsWUFBTTtVQUNsQixPQUFLO1dBQ0o7Ozs7O0VBeUJQLE9BQU87OztBQWxCRixJQUFNLGFBQUEsUUFBQSxhQUFhO0VBQ3hCLGFBQWE7RUFDYixZQUFZO0VBQ1osY0FBYztFQUNkLFVBQVU7OzB3SkF1Qjh2Sjs7QUMzRjF3Sjs7QUFFQSxPQUFPLGVBQWUsU0FBUyxjQUFjO0VBQzNDLE9BQU87OztBQUdULElBQUksZUFBZSxZQUFZLEVBQUUsU0FBUyxpQkFBaUIsUUFBUSxPQUFPLEVBQUUsS0FBSyxJQUFJLElBQUksR0FBRyxJQUFJLE1BQU0sUUFBUSxLQUFLLEVBQUUsSUFBSSxhQUFhLE1BQU0sSUFBSSxXQUFXLGFBQWEsV0FBVyxjQUFjLE9BQU8sV0FBVyxlQUFlLE1BQU0sSUFBSSxXQUFXLFlBQVksV0FBVyxXQUFXLE1BQU0sT0FBTyxlQUFlLFFBQVEsV0FBVyxLQUFLLGlCQUFpQixPQUFPLFVBQVUsYUFBYSxZQUFZLGFBQWEsRUFBRSxJQUFJLFlBQVksaUJBQWlCLFlBQVksV0FBVyxhQUFhLElBQUksYUFBYSxpQkFBaUIsYUFBYSxjQUFjLE9BQU87O0FBRWhpQixTQUFTLGdCQUFnQixVQUFVLGFBQWEsRUFBRSxJQUFJLEVBQUUsb0JBQW9CLGNBQWMsRUFBRSxNQUFNLElBQUksVUFBVTs7O2lEQUVoSCxJQVZhLHlCQVVnQixRQVZoQix5QkFVaUQsWUFBWTtFQVR4RSxTQUFBLHVCQUFZLFVBQVU7SUFDcEI7O0lBRG9CLGdCQUFBLE1BQUE7O0lBR3BCLEtBQUssV0FBVzs7O0VBZWxCLGFBQWEsd0JBQXdCLENBQUM7SUFDcEMsS0FBSztJQUNMLE9BQU8sU0FBUyxjQWRKO01BQUEsSUFBQSxRQUFBOzs7O01BR1osS0FBSyxTQUFVLFlBQU07UUFDbkIsTUFBSyxjQUFjLE1BQUs7Ozs7O0VBcUI1QixPQUFPOzs7QUFqQlI7O0FBRU0sSUFBTSxlQUFBLFFBQUEsZUFBZTtFQUMxQixhQUFhO0VBQ2IsWUFBWTtFQUNaLGNBQWM7RUFDZCxVQUFVO0lBQ1IsYUFBYTtJQUNiLFlBQVk7SUFDWixjQUFjO0lBQ2QsWUFBWTs7O3NsREF1QnNrRDs7QUNoRHRsRDs7QUFFQSxPQUFPLGVBQWUsU0FBUyxjQUFjO0VBQzNDLE9BQU87OztBQUdULElBQUksV0FBVyxPQUFPLFVBQVUsVUFBVSxRQUFRLEVBQUUsS0FBSyxJQUFJLElBQUksR0FBRyxJQUFJLFVBQVUsUUFBUSxLQUFLLEVBQUUsSUFBSSxTQUFTLFVBQVUsSUFBSSxLQUFLLElBQUksT0FBTyxRQUFRLEVBQUUsSUFBSSxPQUFPLFVBQVUsZUFBZSxLQUFLLFFBQVEsTUFBTSxFQUFFLE9BQU8sT0FBTyxPQUFPLFlBQVksT0FBTzs7QUFFdlAsSUFBSSxlQUFlLFlBQVksRUFBRSxTQUFTLGlCQUFpQixRQUFRLE9BQU8sRUFBRSxLQUFLLElBQUksSUFBSSxHQUFHLElBQUksTUFBTSxRQUFRLEtBQUssRUFBRSxJQUFJLGFBQWEsTUFBTSxJQUFJLFdBQVcsYUFBYSxXQUFXLGNBQWMsT0FBTyxXQUFXLGVBQWUsTUFBTSxJQUFJLFdBQVcsWUFBWSxXQUFXLFdBQVcsTUFBTSxPQUFPLGVBQWUsUUFBUSxXQUFXLEtBQUssaUJBQWlCLE9BQU8sVUFBVSxhQUFhLFlBQVksYUFBYSxFQUFFLElBQUksWUFBWSxpQkFBaUIsWUFBWSxXQUFXLGFBQWEsSUFBSSxhQUFhLGlCQUFpQixhQUFhLGNBQWMsT0FBTzs7QUFFaGlCLFNBQVMsZ0JBQWdCLFVBQVUsYUFBYSxFQUFFLElBQUksRUFBRSxvQkFBb0IsY0FBYyxFQUFFLE1BQU0sSUFBSSxVQUFVOzs7c0NBRWhILElBWnFCLGFBWUosWUFBWTtFQVgzQixTQUFBLFdBQVksV0FBVztJQUNyQjs7O0lBRHFCLGdCQUFBLE1BQUE7O0lBR3JCLEtBQUssWUFBWSxVQUFVLElBQUs7SUFDaEMsS0FBSyxlQUFlLFVBQVUsSUFBSzs7SUFFbkMsS0FBSyxhQUFhO01BQ2hCLE9BQU87TUFDUCxVQUFVOzs7SUFHWixLQUFLOzs7RUFrQlAsYUFBYSxZQUFZLENBQUM7SUFDeEIsS0FBSztJQUNMLE9BQU8sU0FBUyxZQWpCTjtNQUFBLElBQ0wsT0FBUSxLQUFLLGFBQWI7O01BQ0wsS0FBSyxXQUFXLE9BQU8sQ0FBQyxRQUFROztLQW9CL0I7SUFDRCxLQUFLO0lBQ0wsT0FBTyxTQUFTLG9CQW5CRTtNQUNsQixJQUFJLGVBQWU7TUFDbkIsSUFBSSxRQUFBLEtBQUE7TUFDSixLQUFJLElBQUksT0FBTyxLQUFLLFNBQVE7UUFDMUIsUUFBUSxLQUFLLFFBQVE7UUFDckIsSUFBRyxVQUFVLEtBQUssR0FBSTtVQUNwQixhQUFhLE9BQU87Ozs7TUFLeEIsT0FBTzs7S0FvQk47SUFDRCxLQUFLO0lBQ0wsT0FBTyxTQUFTLFdBbkJQO01BQ1QsSUFBSSxPQUFPO01BQ1gsS0FBSyxVQUFVLE9BQWYsU0FBQSxJQUEwQixLQUFLLHFCQUEvQixFQUFvRCxNQUFBOztLQXFCbkQ7SUFDRCxLQUFLO0lBQ0wsT0FBTyxTQUFTLGNBcEJKOztNQUVaLElBQU0sT0FBTyxLQUFLLFdBQVc7O01BRTdCLEtBQUssVUFBVSxPQUFmLFNBQUEsSUFBMkIsS0FBSyxxQkFBaEMsRUFBcUQsTUFBQTs7OztFQXdCdkQsT0FBTzs7O0FBR1QsUUFBUSxVQXRFYTsweEZBdUVxd0Y7O0FDdkUxeEY7O0FBRUEsT0FBTyxlQUFlLFNBQVMsY0FBYztFQUMzQyxPQUFPOzs7QUFHVCxJQUFJLFdBQVcsT0FBTyxVQUFVLFVBQVUsUUFBUSxFQUFFLEtBQUssSUFBSSxJQUFJLEdBQUcsSUFBSSxVQUFVLFFBQVEsS0FBSyxFQUFFLElBQUksU0FBUyxVQUFVLElBQUksS0FBSyxJQUFJLE9BQU8sUUFBUSxFQUFFLElBQUksT0FBTyxVQUFVLGVBQWUsS0FBSyxRQUFRLE1BQU0sRUFBRSxPQUFPLE9BQU8sT0FBTyxZQUFZLE9BQU87O0FBRXZQLElBQUksZUFBZSxZQUFZLEVBQUUsU0FBUyxpQkFBaUIsUUFBUSxPQUFPLEVBQUUsS0FBSyxJQUFJLElBQUksR0FBRyxJQUFJLE1BQU0sUUFBUSxLQUFLLEVBQUUsSUFBSSxhQUFhLE1BQU0sSUFBSSxXQUFXLGFBQWEsV0FBVyxjQUFjLE9BQU8sV0FBVyxlQUFlLE1BQU0sSUFBSSxXQUFXLFlBQVksV0FBVyxXQUFXLE1BQU0sT0FBTyxlQUFlLFFBQVEsV0FBVyxLQUFLLGlCQUFpQixPQUFPLFVBQVUsYUFBYSxZQUFZLGFBQWEsRUFBRSxJQUFJLFlBQVksaUJBQWlCLFlBQVksV0FBVyxhQUFhLElBQUksYUFBYSxpQkFBaUIsYUFBYSxjQUFjLE9BQU87O0FBRWhpQixTQUFTLGdCQUFnQixVQUFVLGFBQWEsRUFBRSxJQUFJLEVBQUUsb0JBQW9CLGNBQWMsRUFBRSxNQUFNLElBQUksVUFBVTs7QUFWaEgsSUFBTSx1QkFBdUI7RUFDM0IsS0FBSztFQUNMLEtBQUs7RUFDTCxPQUFPO0VBQ1AsVUFBVTtFQUNWLFVBQVU7RUFDVixjQUFjO0VBQ2QsbUJBQW1CO0VBQ25CLGVBQWU7O0VBRWYsUUFBUTs7RUFFUixPQUFPO0VBQ1AsU0FBUztFQUNULFdBQVc7Ozs7NEZBZWIsSUFaTSxtQkFZaUIsWUFBWTtFQVhqQyxTQUFBLGlCQUFZLE9BQU8sWUFBWSxtQkFBbUIsZUFBZTtJQUMvRDs7SUFEK0QsZ0JBQUEsTUFBQTs7SUFHL0QsS0FBSyxRQUFRO0lBQ2IsS0FBSyxjQUFjOztJQUVuQixLQUFLLGlCQUFpQjs7SUFFdEIsS0FBSyxVQUFMLFNBQUEsSUFBbUIsc0JBQXlCOztJQUU1QyxLQUFLLGdCQUFnQjs7SUFFckIsS0FBSyxPQUFPOztJQUVaLEtBQUs7OztFQWlCUCxhQUFhLGtCQUFrQixDQUFDO0lBQzlCLEtBQUs7SUFDTCxPQUFPLFNBQVMsU0FoQlQsUUFBUTtNQUFBLElBQ1YsTUFBTyxLQUFLLFFBQVo7O01BQ0wsSUFBRyxDQUFDLEtBQUs7UUFDUCxRQUFRLE1BQU0sWUFBWTtRQUMxQjs7O01BR0YsS0FBSyxZQUFZLFFBQVE7O01BRXpCLE9BQU8sS0FBSyxNQUFNLElBQUksS0FBSyxFQUFDLFFBQVEsVUFBUyxLQUFLLEtBQUssWUFBWSxRQUFTLEtBQUssWUFBWTs7S0FtQjVGO0lBQ0QsS0FBSztJQUNMLE9BQU8sU0FBUyxVQWxCUjtNQUFBLElBQUEsUUFBQTs7TUFBQSxJQUNILE9BQVEsS0FBSyxRQUFiOztNQUNMLElBQUcsTUFBTTtRQUNQLEtBQUssT0FBTyxLQUFLLFlBQVk7UUFDN0I7OztNQUdGLElBQUksU0FBQSxTQUFhO1FBQ2YsVUFBVTtTQUNMLEtBQUssUUFBUSxVQUFVO01BQzlCLEtBQUssU0FBUyxRQUFRLEtBQUssVUFBQSxNQUFRO1FBQ2pDLE1BQUssT0FBTyxNQUFLLFlBQWEsS0FBSzs7O0tBd0JwQztJQUNELEtBQUs7SUFDTCxPQUFPLFNBQVMsU0F0QlQsS0FBSyxLQUFJO01BQ2hCLElBQUksU0FBUyxJQUFJLE1BQU07O01BRXZCLE9BQU8sUUFBUSxVQUFBLEdBQUs7UUFDbEIsTUFBTSxJQUFJOzs7TUFHWixPQUFPOztLQXdCTjtJQUNELEtBQUs7SUFDTCxPQUFPLFNBQVMsWUF2Qk4sTUFBTTtNQUFBLElBQUEsU0FBQTs7TUFBQSxJQUFBLFdBQ2lDLEtBQUs7VUFBakQsZ0JBRFcsU0FDWDtVQUFlLFFBREosU0FDSTtVQUFPLFVBRFgsU0FDVztVQUFTLFlBRHBCLFNBQ29COztNQUNwQyxJQUFJLGFBQWE7O01BRWpCLElBQUcsaUJBQWlCLGNBQWMsU0FBUyxHQUFHO1FBQzVDLGNBQWMsUUFBUSxVQUFBLE1BQVE7VUFDNUIsV0FBVyxLQUFLLE1BQU07Ozs7TUFJMUIsT0FBTyxLQUFLLElBQUksVUFBQSxNQUFRO1FBQ3RCLElBQUksU0FBUztVQUNYLElBQUksS0FBSztVQUNULE1BQU0sT0FBSyxTQUFTLE1BQU07VUFDMUIsUUFBUSxLQUFLLGNBQWM7OztRQUc3QixTQUFTLE9BQU8sT0FBTyxNQUFNOztRQUU3QixJQUFJLFdBQVcsT0FBTyxLQUFNO1VBQzFCLE9BQU8sV0FBVzs7VUFFbEIsT0FBSyxjQUFjLEtBQUs7OztRQUkxQixPQUFPOzs7S0FnQ1I7SUFDRCxLQUFLO0lBQ0wsT0FBTyxTQUFTLFNBOUJUOztNQUVQLEtBQUssZUFBZSxRQUFROztLQWdDM0I7SUFDRCxLQUFLO0lBQ0wsT0FBTyxTQUFTLEtBL0JiO01BQ0gsSUFBSSxNQUFNLEtBQUssY0FBYztNQUQxQixJQUFBLFlBRWMsS0FBSztVQUFqQixNQUZGLFVBRUU7VUFBSyxNQUZQLFVBRU87OztNQUVWLElBQUksTUFBTSxPQUFRLE1BQU0sS0FBSyxNQUFNLEtBQU07UUFDdkMsT0FBTzs7TUFFVCxLQUFLLGVBQWUsTUFBTyxLQUFLOztLQW9DL0I7SUFDRCxLQUFLO0lBQ0wsT0FBTyxTQUFTLG1CQW5DQyxNQUFNO01BQ3ZCLElBQUksUUFBUSxLQUFLLGNBQWMsUUFBUztNQUN4QyxJQUFHLFFBQVEsQ0FBQyxHQUFHO1FBQ2IsS0FBSyxXQUFXO1FBQ2hCLEtBQUssY0FBYyxPQUFPLE9BQU87YUFDNUI7O1FBRUwsSUFBRyxLQUFLLFFBQVEsUUFBUSxHQUFHO1VBQ3pCLEtBQUssS0FBSyxJQUFJLFVBQUEsTUFBUTtZQUNwQixLQUFLLFdBQVc7WUFDaEIsT0FBTzs7VUFFVCxLQUFLLGdCQUFnQjtlQUNqQixJQUFHLEtBQUssUUFBUSxNQUFNLEdBQUc7VUFDN0IsSUFBSSxXQUFXLEtBQUssS0FBSyxPQUFPLFVBQUEsTUFBQTtZQUFBLE9BQVEsS0FBSzs7VUFDN0MsSUFBRyxTQUFTLFdBQVcsS0FBSyxRQUFRLEtBQUs7WUFDdkMsS0FBSyxXQUFXO1lBQ2hCOzs7O1FBSUosS0FBSyxXQUFXO1FBQ2hCLEtBQUssY0FBYyxLQUFNOzs7Ozs7O0VBNEM3QixPQUFPOzs7QUFyQ1QsSUFBTSxzQkFBc0I7RUFDMUIsYUFBYTtFQUNiLFlBQVk7RUFDWixjQUFjOzs7QUEyQ2hCLFFBQVEsVUF4Q087czFUQXlDdTBUOztBQ2pNdDFUOztBQUVBLE9BQU8sZUFBZSxTQUFTLGNBQWM7RUFDM0MsT0FBTzs7O0FBR1QsSUFBSSxXQUFXLE9BQU8sVUFBVSxVQUFVLFFBQVEsRUFBRSxLQUFLLElBQUksSUFBSSxHQUFHLElBQUksVUFBVSxRQUFRLEtBQUssRUFBRSxJQUFJLFNBQVMsVUFBVSxJQUFJLEtBQUssSUFBSSxPQUFPLFFBQVEsRUFBRSxJQUFJLE9BQU8sVUFBVSxlQUFlLEtBQUssUUFBUSxNQUFNLEVBQUUsT0FBTyxPQUFPLE9BQU8sWUFBWSxPQUFPOztBQUV2UCxJQUFJLGVBQWUsWUFBWSxFQUFFLFNBQVMsaUJBQWlCLFFBQVEsT0FBTyxFQUFFLEtBQUssSUFBSSxJQUFJLEdBQUcsSUFBSSxNQUFNLFFBQVEsS0FBSyxFQUFFLElBQUksYUFBYSxNQUFNLElBQUksV0FBVyxhQUFhLFdBQVcsY0FBYyxPQUFPLFdBQVcsZUFBZSxNQUFNLElBQUksV0FBVyxZQUFZLFdBQVcsV0FBVyxNQUFNLE9BQU8sZUFBZSxRQUFRLFdBQVcsS0FBSyxpQkFBaUIsT0FBTyxVQUFVLGFBQWEsWUFBWSxhQUFhLEVBQUUsSUFBSSxZQUFZLGlCQUFpQixZQUFZLFdBQVcsYUFBYSxJQUFJLGFBQWEsaUJBQWlCLGFBQWEsY0FBYyxPQUFPOztBQVJoaUIsSUFBQSxXQUFBLFFBQUE7O0FBWUEsSUFBSSxZQUFZLHVCQUF1Qjs7QUFWdkMsSUFBQSxRQUFBLFFBQUE7O0FBY0EsSUFBSSxTQUFTLHVCQUF1Qjs7QUFFcEMsU0FBUyx1QkFBdUIsS0FBSyxFQUFFLE9BQU8sT0FBTyxJQUFJLGFBQWEsTUFBTSxFQUFFLFNBQVM7O0FBRXZGLFNBQVMsbUJBQW1CLEtBQUssRUFBRSxJQUFJLE1BQU0sUUFBUSxNQUFNLEVBQUUsS0FBSyxJQUFJLElBQUksR0FBRyxPQUFPLE1BQU0sSUFBSSxTQUFTLElBQUksSUFBSSxRQUFRLEtBQUssRUFBRSxLQUFLLEtBQUssSUFBSSxNQUFNLE9BQU8sYUFBYSxFQUFFLE9BQU8sTUFBTSxLQUFLOztBQUUxTCxTQUFTLGdCQUFnQixVQUFVLGFBQWEsRUFBRSxJQUFJLEVBQUUsb0JBQW9CLGNBQWMsRUFBRSxNQUFNLElBQUksVUFBVTs7QUFsQmhILElBQU0sT0FBTyxTQUFQLE9BQWlCO0VBQUMsUUFBUSxJQUFJOzs7O3lDQXdCcEMsSUFyQk0sZ0JBcUJjLFlBQVk7RUFwQjlCLFNBQUEsY0FBWSxXQUFXO0lBQ3JCOztJQURxQixnQkFBQSxNQUFBOztJQUVyQixLQUFLLFNBQVM7OztFQTJCaEIsYUFBYSxlQUFlLENBQUM7SUFDM0IsS0FBSztJQUNMLE9BQU8sU0FBUyxLQTFCYixnQkFBZSxTQUFTLFVBQVU7O01BRXJDLElBQUksT0FBTyxXQUFXLFlBQVk7UUFDaEMsV0FBVztRQUNYLFVBQVU7OztNQUdaLElBQUksT0FBTyxrQkFBaUIsWUFBWTtRQUN0QyxXQUFXO1FBQ1gsaUJBQWdCO1FBQ2hCLFVBQVU7OztNQUdaLElBQUksT0FBTyxPQUFPLE9BQU87UUFDdkIsV0FBVztRQUNYLE1BQU07UUFDTixTQUFTO1VBQ1AsZUFBZSxTQUFBLGdCQUFVO1lBQ3ZCLGlCQUFnQixrQkFBaUI7WUFDakMsT0FBQSxTQUFBLElBQVc7OztTQU5OLE9BQUEsU0FTYSxXQUFXOzs7O01BSW5DLElBQUksZ0JBQWdCLEtBQUssT0FBTyxLQUFNOztNQUV0QyxJQUFHLE9BQU8sYUFBYSxZQUFZO1FBQ2pDLFdBQVc7OztNQUdiLGNBQWMsT0FBTyxLQUFNLFVBQUEsZUFBaUI7O1FBRTFDLFNBQVMsS0FBSyxNQUFNLEVBQUMsUUFBUSxHQUFHLE1BQU0sV0FBVyxNQUFBLEdBQUEsT0FBQSxtQkFBVTtTQUUxRCxNQUFPLFlBQUE7UUFBQSxPQUFNLFNBQVMsS0FBSyxNQUFNLEVBQUMsUUFBUSxHQUFHLE1BQU0sV0FBVyxNQUFNOzs7TUFFdkUsT0FBTzs7OztFQStCVCxPQUFPOzs7QUFHVCxRQUFRLFVBN0JPO3NpSEE4QnVoSDs7QUN0RnRpSDs7QUFFQSxPQUFPLGVBQWUsU0FBUyxjQUFjO0VBQzNDLE9BQU87OztBQUdULElBQUksZUFBZSxZQUFZLEVBQUUsU0FBUyxpQkFBaUIsUUFBUSxPQUFPLEVBQUUsS0FBSyxJQUFJLElBQUksR0FBRyxJQUFJLE1BQU0sUUFBUSxLQUFLLEVBQUUsSUFBSSxhQUFhLE1BQU0sSUFBSSxXQUFXLGFBQWEsV0FBVyxjQUFjLE9BQU8sV0FBVyxlQUFlLE1BQU0sSUFBSSxXQUFXLFlBQVksV0FBVyxXQUFXLE1BQU0sT0FBTyxlQUFlLFFBQVEsV0FBVyxLQUFLLGlCQUFpQixPQUFPLFVBQVUsYUFBYSxZQUFZLGFBQWEsRUFBRSxJQUFJLFlBQVksaUJBQWlCLFlBQVksV0FBVyxhQUFhLElBQUksYUFBYSxpQkFBaUIsYUFBYSxjQUFjLE9BQU87O0FBRWhpQixTQUFTLGdCQUFnQixVQUFVLGFBQWEsRUFBRSxJQUFJLEVBQUUsb0JBQW9CLGNBQWMsRUFBRSxNQUFNLElBQUksVUFBVTs7OzRHQUVoSCxJQVZNLGtDQVVnQyxZQUFZO0VBUmhELFNBQUEsZ0NBQVksUUFBUSxVQUFVLFFBQVEsUUFBUSxrQkFBa0I7SUFDOUQ7O0lBRDhELElBQUEsUUFBQTs7SUFBQSxnQkFBQSxNQUFBOztJQUc5RCxLQUFLLFlBQVk7O0lBRWpCLElBQUksV0FBVyxLQUFLLGFBQWEsT0FBTyxNQUFNLE9BQU87O0lBRXJELElBQUksWUFBWSxTQUFTLFdBQVcsU0FBUyxRQUFRLFFBQVE7TUFDM0QsS0FBSyxrQkFBa0IsWUFBTTtRQUFFLFFBQVEsS0FBSzs7TUFDNUMsS0FBSyxvQkFBb0IsWUFBTTtRQUFFLFFBQVEsS0FBSzs7O01BRTlDLEtBQUssb0JBQW9CLGlCQUFpQix5QkFBeUI7O01BRW5FLElBQUksS0FBSyxRQUFRLE9BQU8sVUFBVTtRQUNoQyxTQUFTLFNBQVM7OztNQUdwQixPQUFPLElBQUkscUJBQXFCLFVBQUMsT0FBTyxTQUFZO1FBQ2pELElBQUksQ0FBQyxNQUFLLFFBQVEsWUFBWSxTQUFTLFNBQVMsMEJBQTBCO1VBQ3pFLE1BQUs7VUFDTCxTQUFTLFlBQVk7Ozs7TUFJekIsT0FBTyxJQUFJLHVCQUF1QixVQUFDLE9BQU8sU0FBWTtRQUNwRCxJQUFJLE1BQUssUUFBUSxZQUFZLENBQUMsU0FBUyxTQUFTLDBCQUEwQjtVQUN4RSxNQUFLO1VBQ0wsU0FBUyxTQUFTOzs7Ozs7RUF1QjFCLGFBQWEsaUNBQWlDLENBQUM7SUFDN0MsS0FBSztJQUNMLE9BQU8sU0FBUyxVQWxCUjtNQUNSLEtBQUs7TUFDTCxLQUFLLGVBQWUsS0FBSyxlQUFlLEtBQUs7TUFDN0MsS0FBSyxVQUFVLFNBQVM7O0tBb0J2QjtJQUNELEtBQUs7SUFDTCxPQUFPLFNBQVMsWUFuQk47TUFDVixLQUFLO01BQ0wsS0FBSyxVQUFVLFlBQVk7O0tBcUIxQjtJQUNELEtBQUs7SUFDTCxPQUFPLFNBQVMsVUFwQlI7TUFDUixLQUFLLFVBQVUsU0FBUywyQkFBMkIsS0FBSyxjQUFjLEtBQUs7O0tBc0IxRTtJQUNELEtBQUs7SUFDTCxPQUFPLFNBQVMsUUFyQlYsT0FBTztNQUNiLE9BQU8sU0FBUyxLQUFLLGtCQUFrQixLQUFNLFVBQUEsY0FBZ0I7UUFDM0QsT0FBTyxNQUFNLEtBQUssUUFBUSxpQkFBaUI7Ozs7Ozs7S0E0QjVDO0lBQ0QsS0FBSztJQUNMLE9BQU8sU0FBUyxlQXhCSCxTQUFTO01BQ3RCLElBQUksV0FBVyxRQUFRLFFBQVEsU0FBUyxTQUFTO01BQ2pELFNBQVMsS0FBSyxvQkFBb0I7TUFDbEMsU0FBUyxZQUFZOzs7O0VBNEJ2QixPQUFPOzs7QUFHVCxRQUFRLFVBMUJPO3M2TEEyQnU1TDs7QUM5RnQ2TDs7QUFFQSxPQUFPLGVBQWUsU0FBUyxjQUFjO0VBQzNDLE9BQU87OztBQUdULFNBQVMsZ0JBQWdCLFVBQVUsYUFBYSxFQUFFLElBQUksRUFBRSxvQkFBb0IsY0FBYyxFQUFFLE1BQU0sSUFBSSxVQUFVOztBQUVoSCxJQVJNLHVCQUVKLFNBQUEscUJBQVksUUFBUSxRQUFRLGtCQUFrQixnQkFBZ0I7RUFDNUQ7O0VBRDRELGdCQUFBLE1BQUE7O0VBRzVELEtBQUssWUFBWSxpQkFBaUI7RUFDbEMsS0FBSyxPQUFPO0lBQ1YsTUFBTTtJQUNOLFFBQVE7OztFQUdWLEtBQUssU0FBUyxlQUFlOzs7O0FBTWpDLFNBQVMsc0JBQXNCOztFQUU3QixPQUFPO0lBQ0wsVUFBVTtJQUNWLGFBQWE7SUFDYixZQUFZO0lBQ1osY0FBYztJQUNkLE1BQU0sU0FBQSxLQUFDLE9BQU8sU0FBUyxPQUFVO01BQy9CLElBQUksUUFBUSxRQUFRLEdBQUcsV0FBVztNQUNsQyxNQUFNLGFBQWEsTUFBTSxlQUFlOzs7OztBQVU5QyxRQUFRLFVBSk87a3ZFQUttdUU7O0FDckNsdkU7O0FBRUEsT0FBTyxlQUFlLFNBQVMsY0FBYztFQUMzQyxPQUFPOzs7QUFHVCxJQUFJLGVBQWUsWUFBWSxFQUFFLFNBQVMsaUJBQWlCLFFBQVEsT0FBTyxFQUFFLEtBQUssSUFBSSxJQUFJLEdBQUcsSUFBSSxNQUFNLFFBQVEsS0FBSyxFQUFFLElBQUksYUFBYSxNQUFNLElBQUksV0FBVyxhQUFhLFdBQVcsY0FBYyxPQUFPLFdBQVcsZUFBZSxNQUFNLElBQUksV0FBVyxZQUFZLFdBQVcsV0FBVyxNQUFNLE9BQU8sZUFBZSxRQUFRLFdBQVcsS0FBSyxpQkFBaUIsT0FBTyxVQUFVLGFBQWEsWUFBWSxhQUFhLEVBQUUsSUFBSSxZQUFZLGlCQUFpQixZQUFZLFdBQVcsYUFBYSxJQUFJLGFBQWEsaUJBQWlCLGFBQWEsY0FBYyxPQUFPOztBQUVoaUIsU0FBUyxnQkFBZ0IsVUFBVSxhQUFhLEVBQUUsSUFBSSxFQUFFLG9CQUFvQixjQUFjLEVBQUUsTUFBTSxJQUFJLFVBQVU7Ozt3Q0FFaEgsSUFWTSxrQkFVZ0IsWUFBWTtFQVJoQyxTQUFBLGdCQUFZLFFBQVE7SUFDbEI7O0lBRGtCLGdCQUFBLE1BQUE7O0lBR2xCLEtBQUssU0FBUztJQUNkLEtBQUssa0JBQWtCO0lBQ3ZCLEtBQUssbUJBQW1COzs7RUFjMUIsYUFBYSxpQkFBaUIsQ0FBQztJQUM3QixLQUFLO0lBQ0wsT0FBTyxTQUFTLGVBWkg7O01BRWIsSUFBSSxTQUFTLEtBQUs7O01BRWxCLElBQUksWUFBWSxPQUFPLE9BQU8sVUFBQSxNQUFBO1FBQUEsT0FBUSxLQUFLLFNBQVM7OztNQUVwRCxVQUFVLFFBQVMsVUFBQSxNQUFRO1FBQ3pCLElBQUksV0FBVyxPQUFPLE9BQVEsVUFBQSxPQUFTO1VBQ3JDLE9BQU8sTUFBTSxTQUFTLEtBQUssTUFBTSxLQUFLLFFBQVEsS0FBSyxVQUFVOzs7UUFHL0QsS0FBSyxVQUFVLFNBQVMsU0FBUyxXQUFXOzs7UUFHNUMsS0FBSyxXQUFXLEtBQUssUUFBUSxRQUFTLFVBQUMsT0FBTyxPQUFVO1VBQ3RELElBQUcsTUFBTSxPQUFPO1lBQ2QsSUFBSSxRQUFRLE9BQU8sT0FBTyxVQUFBLEdBQUE7Y0FBQSxPQUFLLEVBQUUsU0FBUyxNQUFNOztZQUNoRCxJQUFHLE1BQU0sUUFBUTtjQUNmLEtBQUssUUFBUSxTQUFTLE1BQU07Ozs7OztNQU9wQyxPQUFPLFVBQVUsT0FBTyxLQUFLOztLQWlCNUI7SUFDRCxLQUFLO0lBQ0wsT0FBTyxTQUFTLHlCQWZPLE1BQU07O01BRTdCLE9BQU8sS0FBSyxpQkFBaUI7O0tBaUI1QjtJQUNELEtBQUs7SUFDTCxPQUFPLFNBQVMsdUJBZks7O01BRXJCLE9BQU8sS0FBSyxPQUFPLE1BQ2hCLE9BQU8sVUFBQSxPQUFTO1FBQ2YsT0FBTyxNQUFNO1NBRWQsSUFBSSxVQUFBLE9BQVM7UUFDWixJQUFJLE9BQU8sTUFBTTtRQUNqQixPQUFPO1VBQ0wsTUFBTSxNQUFNO1VBQ1osT0FBTyxNQUFNO1VBQ2IsT0FBTyxDQUFDLE1BQU0sS0FBSyxNQUFNLFVBQVUsSUFBSTtVQUN2QyxPQUFPLEtBQUs7VUFDWixNQUFNLEtBQUs7VUFDWCxVQUFVLE1BQU07VUFDaEIsT0FBTyxLQUFLO1VBQ1osZUFBZSxLQUFLOztTQUd2QixLQUFLLFVBQUMsR0FBRyxHQUFNO1FBQ2QsT0FBTyxDQUFDLEVBQUUsUUFBUSxFQUFFLFNBQVMsTUFBTSxFQUFFLFFBQVEsRUFBRTs7O0tBZWxEO0lBQ0QsS0FBSztJQUNMLE9BQU8sU0FBUyxpQkFYRCxhQUFhO01BQUEsSUFBQSxRQUFBOztNQUU1QixJQUFJLFNBQVM7TUFDYixZQUFZLFdBQVcsWUFBWSxRQUFRLFFBQVEsVUFBQSxTQUFXO1FBQzVELFFBQVEsWUFBWSxPQUFPLEtBQUssUUFBUTtRQUN4QyxNQUFLLGlCQUFpQjs7TUFFeEIsT0FBTzs7OztFQWdCVCxPQUFPOzs7QUFHVCxRQUFRLFVBYk87ODFMQWMrMEw7O0FDbkc5MUw7Ozs7QUFFQSxPQUFPLGVBQWUsU0FBUyxjQUFjO0VBQzNDLE9BQU87O0FBRVQsUUFIZ0Isd0JBQUE7QUFJaEIsUUFHZ0IsMEJBQUE7QUFGaEIsUUFlZ0Isa0JBQUE7O0FBdEJoQixJQUFBLHlCQUFBLFFBQUE7O0FBV0EsSUFBSSwwQkFBMEIsdUJBQXVCOztBQUVyRCxTQUFTLHVCQUF1QixLQUFLLEVBQUUsT0FBTyxPQUFPLElBQUksYUFBYSxNQUFNLEVBQUUsU0FBUzs7QUFYaEYsU0FBUyx3QkFBd0I7RUFDdEMsT0FBTztJQUNMLFVBQVU7SUFDVixZQUFBLHdCQUFBOzs7O0FBSUcsU0FBUyx3QkFBd0IsUUFBUTtFQUM5Qzs7RUFFQSxPQUFPO0lBQ0wsVUFBVTtJQUNWLFNBQVM7SUFDVCxNQUFNLFNBQUEsS0FBUyxPQUFPLElBQUksT0FBTyx1QkFBdUI7TUFDdEQsc0JBQXNCLGtCQUFrQixZQUFNO1FBQUUsR0FBRzs7TUFDbkQsc0JBQXNCLG9CQUFvQixZQUFNO1FBQUUsR0FBRzs7Ozs7O0FBS3BELFNBQVMsZ0JBQWdCLGtCQUFrQjtFQUNoRDs7RUFFQSxPQUFPO0lBQ0wsVUFBVTtJQUNWLFNBQVM7SUFDVCxNQUFNLFNBQUEsS0FBUyxPQUFPLElBQUksT0FBTyx1QkFBdUI7TUFDdEQsR0FBRyxHQUFHLFNBQVMsWUFBTTtRQUNuQixzQkFBc0I7Ozs7O2tsRkFzQm9qRjs7QUNwRGxsRjs7QUFFQSxPQUFPLGVBQWUsU0FBUyxjQUFjO0NBQzVDLE9BQU87O0FBRlIsSUFBTSxTQUFTO0FBQ2YsSUFBTSxNQUFNO0NBQ1gsUUFBUTtFQUNQLE1BQVMsU0FBVDtFQUNBLEtBQVEsU0FBUjtFQUNBLEtBQVEsU0FBUjtFQUNBLFVBQWEsU0FBYjs7Q0FFRCxTQUFTO0VBQ1IsU0FBWSxTQUFaO0VBQ0EsS0FBUSxTQUFSO0VBQ0EsS0FBUSxTQUFSOztDQUVELFlBQVk7RUFDWCxTQUFZLFNBQVo7RUFDQSxLQUFRLFNBQVI7RUFDQSxLQUFRLFNBQVI7RUFDQSxrQkFBcUIsU0FBckI7RUFDQSxRQUFXLFNBQVg7O0NBRUQsWUFBWTtFQUNYLFNBQVksU0FBWjtFQUNBLEtBQVEsU0FBUjtFQUNBLEtBQVEsU0FBUjtFQUNBLEtBQVEsU0FBUjs7Q0FFRCxRQUFRO0VBQ1AsS0FBUSxTQUFSO0VBQ0EsS0FBUSxTQUFSO0VBQ0EsUUFBVyxTQUFYO0VBQ0EsTUFBUyxTQUFUO0VBQ0EsS0FBUSxTQUFSOztDQUVELFNBQVU7RUFDVCxrQkFBcUIsU0FBckI7RUFDQSxRQUFXLFNBQVg7O0NBRUQsTUFBTTtFQUNMLEtBQVEsU0FBUjtFQUNBLEtBQVEsU0FBUjtFQUNBLEtBQVEsU0FBUjtFQUNBLGtCQUFxQixTQUFyQjtFQUNBLFFBQVcsU0FBWDs7Q0FFRCxLQUFLO0VBQ0osTUFBUyxTQUFUOztDQUVELFNBQVM7RUFDUixVQUFhLFNBQWI7RUFDQSxTQUFZLFNBQVo7RUFDQSxTQUFZLFNBQVo7RUFDQSxTQUFZLFNBQVo7O0NBRUQsUUFBUTtFQUNQLFdBQVc7R0FDVixNQUFTLFNBQVQ7R0FDQSxLQUFRLFNBQVI7R0FDQSxLQUFRLFNBQVI7OztDQUdGLE1BQU07RUFDTCxLQUFRLFNBQVI7RUFDQSxLQUFRLFNBQVI7O0NBRUQsTUFBTTtFQUNMLEtBQVEsU0FBUjs7OztBQVFGLFFBQVEsVUFKTztrbkpBS21tSjs7QUMzRWxuSjs7O0FBRUEsT0FBTyxlQUFlLFNBQVMsY0FBYztFQUMzQyxPQUFPOzs7QUFIVCxJQUFBLFFBQUEsUUFBQTs7QUFRQSxJQUFJLFNBQVMsdUJBQXVCOztBQUVwQyxTQUFTLHVCQUF1QixLQUFLLEVBQUUsT0FBTyxPQUFPLElBQUksYUFBYSxNQUFNLEVBQUUsU0FBUzs7OztBQU52RixTQUFTLFdBQVcsZ0JBQWdCLG1CQUFtQixvQkFBb0Isa0JBQWtCLGVBQWU7RUFDMUc7O0VBRUEsSUFBSSxRQUFRLElBQUksYUFBYSxjQUFjO0lBQ3pDLGlCQUFpQixpQkFBaUI7Ozs7O0VBS3BDLGVBQ0csTUFBTSxhQUFhO0lBQ2hCLEtBQUs7SUFDTCxVQUFVO0lBQ1YsT0FBTztJQUNQLGFBQWE7TUFDWCxNQUFNO01BQ04sT0FBTzs7OztFQUlmLG1CQUFtQixVQUFVOzs7Ozs7RUFPN0IsY0FBYyxhQUFhLEtBQTNCLE9BQUE7OztBQVdGLFFBQVEsVUFQTztzN0VBUXU2RTs7QUMzQ3Q3RTs7QUFFQSxPQUFPLGVBQWUsU0FBUyxjQUFjO0VBQzNDLE9BQU87O0FBSFQsU0FBUyxpQkFBaUI7RUFDeEI7O0VBRUEsSUFBSSxPQUFPO0lBQ1QsT0FBTztNQUNMLE1BQU07Ozs7RUFJVixLQUFLLGNBQWMsVUFBUyxPQUFPO0lBQ2pDLFFBQVEsTUFBTSxLQUFLLE9BQU87OztFQUc1QixLQUFLLE9BQU8sWUFBWTtJQUN0QixPQUFPLEtBQUs7SUFDWixPQUFPOztFQUVULE9BQU87OztBQVFULFFBQVEsVUFMTzs4bkNBTSttQzs7QUMxQjluQzs7QUFFQSxPQUFPLGVBQWUsU0FBUyxjQUFjO0VBQzNDLE9BQU87OztBQUhULElBQUEsY0FBQSxRQUFBOztBQVFBLElBQUksZUFBZSx1QkFBdUI7O0FBRTFDLFNBQVMsdUJBQXVCLEtBQUssRUFBRSxPQUFPLE9BQU8sSUFBSSxhQUFhLE1BQU0sRUFBRSxTQUFTOztBQVJ2RixJQUFNLGdCQUFnQjtFQUNwQixVQUFVO0VBQ1YsUUFBUTtFQUNSLFdBQVc7SUFDVCxHQUFHO0lBQ0gsS0FBSztJQUNMLEtBQUs7SUFDTCxLQUFLO0lBQ0wsS0FBSztJQUNMLEtBQUs7SUFDTCxLQUFLO0lBQ0wsS0FBSztJQUNMLEtBQUs7SUFDTCxLQUFLO0lBQ0wsS0FBSzs7RUFFUCxNQUFNO0lBQ0osT0FBUSxDQUFDLE1BQU0sTUFBTSxNQUFNLE1BQU0sTUFBTSxNQUFNO0lBQzdDLFFBQVMsYUFBQSxRQUFFLE1BQU0sR0FBRzs7O0VBR3RCLFdBQVc7RUFDWCxhQUFhOzs7RUFHYixhQUFhO0lBQ1gsbUJBQW1COztFQUVyQixZQUFZLENBQ1YsRUFBRSxnQkFBZ0IsR0FBRyxXQUFXO0VBR2xDLFlBQVksQ0FBQyxFQUFDLE9BQU8sR0FBRyxNQUFNLFFBQU8sRUFBRSxPQUFPLEdBQUcsTUFBTTtFQUN2RCxZQUFZLENBQUMsRUFBQyxPQUFPLEdBQUcsTUFBTSxPQUFNLEVBQUMsT0FBTyxHQUFHLE1BQU07RUFDckQsWUFBWSxFQUFFLE1BQU0sR0FBRyxVQUFVO0VBQ2pDLGdCQUFnQjs7O0FBVWxCLFFBQVEsVUFQTztzc0dBUXVyRzs7QUNoRHRzRzs7QUFFQSxPQUFPLGVBQWUsU0FBUyxjQUFjO0VBQzNDLE9BQU87OztBQUhULElBQUEsV0FBQSxRQUFBOztBQVFBLElBQUksWUFBWSx1QkFBdUI7O0FBUHZDLFFBQUE7O0FBQ0EsUUFBQTs7QUFFQSxJQUFBLFFBQUEsUUFBQTs7QUFZQSxJQUFJLFNBQVMsdUJBQXVCOztBQVhwQyxJQUFBLFNBQUEsUUFBQTs7QUFlQSxJQUFJLFNBQVMsdUJBQXVCOztBQWRwQyxJQUFBLFNBQUEsUUFBQTs7QUFrQkEsSUFBSSxTQUFTLHVCQUF1Qjs7QUFqQnBDLElBQUEsU0FBQSxRQUFBOztBQXFCQSxJQUFJLFNBQVMsdUJBQXVCOztBQXBCcEMsSUFBQSxTQUFBLFFBQUE7O0FBd0JBLElBQUksVUFBVSx1QkFBdUI7O0FBdEJyQyxJQUFBLGNBQUEsUUFBQTs7QUEwQkEsSUFBSSxlQUFlLHVCQUF1Qjs7QUF6QjFDLElBQUEsY0FBQSxRQUFBOztBQTZCQSxJQUFJLGVBQWUsdUJBQXVCOztBQTVCMUMsSUFBQSxXQUFBLFFBQUE7O0FBZ0NBLElBQUksWUFBWSx1QkFBdUI7O0FBL0J2QyxJQUFBLFVBQUEsUUFBQTs7QUFtQ0EsSUFBSSxXQUFXLHVCQUF1Qjs7QUFFdEMsU0FBUyx1QkFBdUIsS0FBSyxFQUFFLE9BQU8sT0FBTyxJQUFJLGFBQWEsTUFBTSxFQUFFLFNBQVM7O0FBRXZGLFFBQVEsVUFwQ08sVUFBQSxRQUFRLE9BQU8sWUFBWSxDQUN4QyxhQUNBLGdCQUVBLGFBQUEsUUFBaUIsTUFDakIsYUFBQSxRQUFpQixNQUNqQixVQUFBLFFBQWMsTUFDZCxTQUFBLFFBQWEsT0FFZCxTQUFTLGVBVEssT0FBQSxTQVVkLFNBQVMsVUFWSyxRQUFBLFNBV2QsU0FBUyxjQVhLLE9BQUEsU0FZZCxPQVpjLE9BQUEsU0FhZCxJQWJjLE9BQUE7azREQXFDbTNEOztBQ3JEbDREOzs7QUFFQSxPQUFPLGVBQWUsU0FBUyxjQUFjO0VBQzNDLE9BQU87O0FBSFQsU0FBUyxRQUFRLFlBQVksYUFBYSxNQUFNLFFBQVEsY0FBYyxXQUFXLFNBQVMsVUFBVSxRQUFRLGdCQUFnQjtFQUMxSDs7OztFQUdBLFdBQVcsT0FBTztFQUNsQixXQUFXLFNBQVM7RUFDcEIsV0FBVyxlQUFlO0VBQzFCLFdBQVcsWUFBWTs7RUFFdkIsSUFBTSxTQUFTLGVBQWU7OztFQUc5QixJQUFNLFlBQVksQ0FDaEI7O0VBR0YsSUFBTSxRQUFRLGFBQWEsUUFBUTtFQUNuQyxJQUFNLE1BQU0sYUFBYSxRQUFROztFQUVqQyxJQUFHLENBQUMsU0FBUyxDQUFDLEtBQUs7SUFDakIsUUFBUSxTQUFTLE9BQU87Ozs7Ozs7Ozs7Ozs7Ozs7RUFnQjFCLFdBQVcsSUFBSSx1QkFBdUIsVUFBQyxPQUFPLFNBQVk7SUFDeEQsV0FBVyxZQUFZOztJQUV2QixJQUFJLFFBQVEsT0FBTztNQUNqQixXQUFXLGFBQWEsUUFBUTtNQUNoQyxXQUFXLGFBQWE7OztJQUcxQixXQUFXLGFBQWEsWUFBWTs7O0lBR3BDLFNBQVMsWUFBTTtNQUNiLFFBQVEsUUFBUSxRQUFRLFNBQVMsaUJBQWlCLFFBQVEsS0FBSztNQUMvRCxRQUFRLFFBQVEsUUFBUSxZQUFZO09BQ25DOzs7O0VBS0wsV0FBVyxPQUFPLFlBQU07SUFDdEIsUUFBUSxRQUFRLEdBQUcsQ0FBQzs7Ozs7OztBQVV4QixRQUFRLFVBRk87a2hKQUdtZ0o7O0FDbkVsaEo7O0FBRUEsT0FBTyxlQUFlLFNBQVMsY0FBYztFQUMzQyxPQUFPOzs7QUFIVCxJQUFBLFdBQUEsUUFBQTs7QUFRQSxJQUFJLFlBQVksdUJBQXVCOztBQVB2QyxJQUFBLGNBQUEsUUFBQTs7QUFXQSxJQUFJLGVBQWUsdUJBQXVCOztBQVYxQyxJQUFBLFVBQUEsUUFBQTs7QUFDQSxJQUFBLFdBQUEsUUFBQTs7QUFlQSxTQUFTLHVCQUF1QixLQUFLLEVBQUUsT0FBTyxPQUFPLElBQUksYUFBYSxNQUFNLEVBQUUsU0FBUzs7QUFFdkYsUUFBUSxVQWZPLFVBQUEsUUFBUSxPQUFPLHVCQUF1QixJQUNsRCxVQUFVLGdCQURFLGFBQUEsU0FFWixVQUFVLGtCQUZFLFFBQUEsZ0JBR1osVUFBVSxpQkFIRSxTQUFBO3MvQkFnQnUrQjs7QUNyQnQvQjs7O0FBRUEsT0FBTyxlQUFlLFNBQVMsY0FBYztJQUN6QyxPQUFPOztBQUVYLFFBQVEsVUFMZ0I7QUFBVCxTQUFTLG9CQUFvQixVQUFVO0lBQ3BEOztJQURvRCxJQUFBLGFBQUE7SUFHcEQsT0FBTztRQUNELFVBQVU7UUFDVixhQUFhO1FBQ2IsU0FBUztRQUNULE9BQU87WUFDSCxJQUFJO1lBQ0osV0FBVztZQUNYLFNBQVM7WUFDVCxTQUFTO1lBQ1QsU0FBUztZQUNULE1BQU07WUFDTixVQUFVO1lBQ1YsWUFBWTs7UUFFaEIsTUFBTSxTQUFBLEtBQUMsT0FBTyxNQUFNLE9BQVU7WUFDMUIsSUFBSSxTQUFTLE1BQU07Z0JBQ2YsWUFBWSxNQUFNO2dCQUNsQixXQUFXOztZQUVmLE1BQU0saUJBQWlCLFVBQUMsR0FBTTtnQkFDMUIsSUFBSSxTQUFTLEVBQUU7Z0JBQ2YsSUFBSSxPQUFPLFVBQVUsU0FBUyxTQUFTO29CQUNuQyxNQUFNLGVBQWU7dUJBQ2xCO29CQUNILE9BQU8sVUFBVSxJQUFJOztvQkFFckIsSUFBSSxXQUFXLE9BQU87b0JBQ3RCLElBQUksUUFBQSxLQUFBO3dCQUFPLFdBQUEsS0FBQTs7b0JBRVgsS0FBSSxJQUFJLElBQUksR0FBRyxNQUFNLFNBQVMsUUFBUSxJQUFJLEtBQUssS0FBSTt3QkFDakQsSUFBRyxTQUFTLE1BQU0sU0FBUyxHQUFHLFFBQVEsaUJBQWlCLE9BQU87NEJBQzVELFFBQVEsU0FBUzs7NEJBRWpCOzs7O29CQUtKLFdBQVcsTUFBTTs7b0JBRWpCLEtBQUksSUFBSSxLQUFJLEdBQUcsT0FBTSxTQUFTLFFBQVEsS0FBSSxNQUFLLE1BQUk7d0JBQ2pELFNBQVMsSUFBRyxVQUFVLE9BQU87Ozs7Z0JBTW5DLFdBQVc7O1lBRWYsTUFBTSxpQkFBaUIsVUFBQyxHQUFNO2dCQUM1QixXQUFXO2dCQUNYLElBQUcsS0FBSyxRQUFPO29CQUNiLEtBQUksSUFBSSxJQUFJLEdBQUcsTUFBTSxLQUFLLFFBQVEsSUFBSSxLQUFLLEtBQUk7d0JBQzdDLEtBQUssR0FBRyxVQUFVLE9BQU87O3VCQUV0QjtvQkFDTCxLQUFLLFVBQVUsT0FBTzs7O1lBRzFCLE1BQU0sYUFBYSxVQUFDLEdBQU07Z0JBQ3RCLE1BQU0sZUFBZTs7O1lBR3pCLElBQUksbUJBQW1CLE1BQU0sSUFBSSxjQUFjLE1BQU07WUFDckQsTUFBTSxJQUFJLFlBQVk7O1lBRXRCLE1BQU0sT0FBTyxhQUFhLFlBQU07Ozs7O2dCQUs1QixJQUFJLFFBQVE7b0JBQ1IsSUFBSSxVQUFVO29CQUNkLFVBQVUsTUFBTTt1QkFDZjtvQkFDRCxNQUFNLFFBQVEsWUFBWSxZQUFZLFNBQVMsWUFBWSxNQUFNOzs7Ozs7Z0JBTXJFLElBQUcsTUFBTSxVQUFVO29CQUNmLElBQUcsTUFBTSxhQUFhLFdBQVcsVUFBVTs7d0JBQ3ZDLFNBQVMsWUFBTTs0QkFDWCxNQUFNOzJCQUNQOzt1QkFFTjtvQkFDRCxTQUFTLFlBQU07d0JBQ1gsTUFBTTt1QkFDUjs7OztZQUtWLFNBQVMsWUFBVztnQkFDaEIsSUFBSSxNQUFNLE9BQU8sTUFBTTtvQkFDbkIsTUFBTSxNQUFNLFFBQVEsWUFBWSxZQUFZOztnQkFFaEQsS0FBSyxJQUFJLElBQUksR0FBSSxJQUFJLElBQUksUUFBUyxJQUFJLEdBQUksS0FBSztvQkFDM0MsTUFBTSxJQUFLLElBQUk7O2dCQUVuQixPQUFPOzs7O1lBSVgsSUFBSSxnQkFBZ0IsTUFBTSxJQUFJLFlBQVcsWUFBTTs7O2dCQUczQyxNQUFNLFlBQVksV0FBVTtnQkFDNUIsTUFBTSxVQUFVLFdBQVU7O1lBRTlCLE1BQU0sSUFBSSxZQUFZOzs7Q0FJakM7a3JUQUtpclQ7O0FDNUhsclQ7O0FBRUEsT0FBTyxlQUFlLFNBQVMsY0FBYztFQUMzQyxPQUFPOzs7QUFHVCxJQUFJLGVBQWUsWUFBWSxFQUFFLFNBQVMsaUJBQWlCLFFBQVEsT0FBTyxFQUFFLEtBQUssSUFBSSxJQUFJLEdBQUcsSUFBSSxNQUFNLFFBQVEsS0FBSyxFQUFFLElBQUksYUFBYSxNQUFNLElBQUksV0FBVyxhQUFhLFdBQVcsY0FBYyxPQUFPLFdBQVcsZUFBZSxNQUFNLElBQUksV0FBVyxZQUFZLFdBQVcsV0FBVyxNQUFNLE9BQU8sZUFBZSxRQUFRLFdBQVcsS0FBSyxpQkFBaUIsT0FBTyxVQUFVLGFBQWEsWUFBWSxhQUFhLEVBQUUsSUFBSSxZQUFZLGlCQUFpQixZQUFZLFdBQVcsYUFBYSxJQUFJLGFBQWEsaUJBQWlCLGFBQWEsY0FBYyxPQUFPOztBQU5oaUIsSUFBQSxXQUFBLFFBQUE7O0FBVUEsSUFBSSxZQUFZLHVCQUF1Qjs7QUFFdkMsU0FBUyx1QkFBdUIsS0FBSyxFQUFFLE9BQU8sT0FBTyxJQUFJLGFBQWEsTUFBTSxFQUFFLFNBQVM7O0FBRXZGLFNBQVMsZ0JBQWdCLFVBQVUsYUFBYSxFQUFFLElBQUksRUFBRSxvQkFBb0IsY0FBYyxFQUFFLE1BQU0sSUFBSSxVQUFVOzs7NkVBRWhILElBZE0saUJBY2UsWUFBWTtFQWIvQixTQUFBLGVBQWEsUUFBUSxVQUFVLFNBQVMsYUFBYTtJQUNuRDs7SUFEbUQsSUFBQSxRQUFBOztJQUFBLGdCQUFBLE1BQUE7O0lBR25ELEtBQUssU0FBUztJQUNkLEtBQUssV0FBVztJQUNoQixLQUFLLFdBQVc7O0lBR2hCLElBQUksVUFBVSxVQUFBLFFBQVEsTUFBTSxJQUFJO01BQzVCLFVBQVU7TUFDVixTQUFTOztNQUVULGFBQWEsSUFBSTtNQUNqQixNQUFNLFNBQUEsS0FBQSxTQUFXO1FBQ2YsUUFBUSxJQUFJLFFBQVEsSUFBSSxJQUFJLElBQUksUUFBUTtRQUN4QyxRQUFRLElBQUksUUFBUSxJQUFJLElBQUksSUFBSSxRQUFROztRQUV4QyxNQUFLLFNBQVMsWUFBTTtVQUNsQixNQUFLLE9BQU8sT0FBTzs7OztPQUl0QixZQUFZLGFBQWEsS0FBSyxPQUFPOztJQUUxQyxVQUFBLFFBQVEsT0FBTyxRQUFRO01BQ25CLFlBQVksTUFBSTtNQUNoQixRQUFRLEtBQUssT0FBTyxLQUFLO01BQ3pCLFNBQVM7TUFDVCxTQUFTO01BQ1QsY0FBYztNQUNkLE1BQU07TUFDTixNQUFNO01BQ04sV0FBVztNQUNYLFdBQVc7TUFDWCxTQUFTOzs7Ozs7O0VBd0JmLGFBQWEsZ0JBQWdCLENBQUM7SUFDNUIsS0FBSztJQUNMLE9BQU8sU0FBUyxRQW5CWDs7O0tBc0JKO0lBQ0QsS0FBSztJQUNMLE9BQU8sU0FBUyxhQXBCTjtNQUNSLElBQUksT0FBTyxVQUFBLFFBQVEsUUFBUTtNQUMzQixLQUFLLFlBQWE7TUFDbEIsS0FBSyxRQUFROztLQXNCZDtJQUNELEtBQUs7SUFDTCxPQUFPLFNBQVMsWUFyQkwsTUFBTTtNQUNmLEtBQUssUUFBUSxTQUFTOzs7Ozs7Ozs7O0tBK0J2QjtJQUNELEtBQUs7SUFDTCxPQUFPLFNBQVMsT0F4QlgsTUFBTTtNQUFBLElBQUEsU0FBQTs7TUFDWCxLQUFLLFNBQVMsT0FBUSxLQUFLLE9BQU8sT0FBTyxNQUFPLEtBQUssVUFBQSxTQUFXO1FBQzlELE9BQUssT0FBTyxVQUFVO1FBQ3RCLENBQUMsT0FBSyxPQUFPLFlBQVksT0FBSyxPQUFPLFVBQVUsS0FBSyxVQUFVO1FBQzlELE9BQUssU0FBUyxPQUFLLFlBQVksS0FBakI7UUFDZCxPQUFLLFNBQVMsT0FBSyxZQUFZLEtBQWpCOzs7S0E2QmY7SUFDRCxLQUFLOzs7Ozs7Ozs7O0lBVUwsT0FBTyxTQUFTLGNBNUJKO01BQ2IsS0FBSyxPQUFPLFdBQVcsS0FBSyxPQUFPOztLQThCakM7SUFDRCxLQUFLO0lBQ0wsT0FBTyxTQUFTLGNBOUJKO01BQ2IsS0FBSyxPQUFPLFdBQVcsS0FBSyxPQUFPOzs7O0VBa0NwQyxPQUFPOzs7QUFHVCxRQUFRLFVBaENPOzgzTUFpQysyTTs7QUMzSDkzTTs7O0FBRUEsT0FBTyxlQUFlLFNBQVMsY0FBYztJQUN6QyxPQUFPOztBQUVYLFFBSWdCLGlCQUFBOztBQVRoQixJQUFBLFVBQUEsUUFBQTs7QUFTQSxJQUFJLFdBQVcsdUJBQXVCOztBQVB0QyxJQUFBLFFBQUEsUUFBQTs7QUFXQSxJQUFJLFNBQVMsdUJBQXVCOztBQUVwQyxTQUFTLHVCQUF1QixLQUFLLEVBQUUsT0FBTyxPQUFPLElBQUksYUFBYSxNQUFNLEVBQUUsU0FBUzs7Ozs7Ozs7QUFOaEYsU0FBUyxlQUFlLFdBQVcsWUFBWSxVQUFVLFFBQVEsU0FBUztJQUM3RSxPQUFPO1FBQ0gsVUFBVTtRQUNWLGFBQWE7UUFDYixTQUFTO1FBQ1QsWUFBQSxPQUFBO1FBQ0EsY0FBYztRQUNkLE9BQU87WUFDSCxLQUFLO1lBQ0wsUUFBUTtZQUNSLFNBQVM7WUFDVCxhQUFhO1lBQ2IsUUFBUTtZQUNSLFdBQVc7WUFDWCxTQUFTO1lBQ1QsT0FBTztZQUNQLGFBQWE7O1FBRWpCLFNBQVMsU0FBQSxVQUFZO1lBQ2pCLE9BQU87Z0JBQ0gsS0FBSyxTQUFBLElBQVUsT0FBTyxNQUFNO29CQUMxQixRQUFRLElBQUksTUFBTTs7b0JBRWhCLFNBQVMsZUFBZTs7b0JBRXhCLE1BQU0sYUFBYTtvQkFDbkIsTUFBTSxVQUFVO29CQUNoQixNQUFNLGNBQWMsT0FBTyxTQUFTOztvQkFFcEMsTUFBTSxjQUFlLFlBQU07d0JBQ3ZCLElBQUksV0FBVyxRQUFRLFFBQVEsYUFBYSxRQUFRLFNBQVM7OztvQkFHakUsTUFBTSxjQUFjLFlBQU07d0JBQ3RCLE1BQU0sV0FBVzt3QkFDakIsTUFBTSxVQUFVOzs7b0JBR3BCLE1BQU0saUJBQWlCO3dCQUNuQixXQUFXLE1BQU0sV0FBVzt3QkFDNUIsU0FBUyxFQUFDLGVBQWUsV0FBVzt3QkFDcEMsS0FBSyxNQUFNO3dCQUNYLFFBQVE7d0JBQ1IsYUFBYTt3QkFDYixVQUFVO3dCQUNWLGdCQUFnQjt3QkFDaEIsZ0JBQWdCO3dCQUNoQixrQkFBa0I7d0JBQ2xCLGVBQWU7d0JBQ2YsV0FBVyxTQUFBLFVBQUEsTUFBUTs7Ozs7Ozs7Ozs7NEJBV2YsTUFBTTs0QkFDTixRQUFRLFFBQVEsb0JBQW9CLFFBQVEsT0FBTzs7NEJBRW5ELE1BQU0sT0FBTyxZQUFNO2dDQUNqQixNQUFNLFlBQVksRUFBQyxPQUFBOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7d0JBc0J6QixnQkFBZ0IsU0FBQSxlQUFDLE1BQU0sVUFBYTs0QkFDaEMsTUFBTSxjQUFjOzs0QkFFcEIsTUFBTSxPQUFPLFlBQU07Z0NBQ2YsTUFBTSxhQUFhO2dDQUNuQixNQUFNLFVBQVU7Ozt3QkFHeEIsT0FBTyxTQUFBLE1BQVMsTUFBTSxjQUFjOzRCQUNoQyxNQUFNLGNBQWM7NEJBQ3BCLEtBQUssV0FBVzs0QkFDaEIsTUFBTSxPQUFPLFlBQU07Z0NBQ2YsTUFBTSxhQUFhO2dDQUNuQixNQUFNLE1BQU0sTUFBTTtnQ0FDbEIsT0FBTyxNQUFNOzs7d0JBR3JCLFNBQVMsU0FBQSxRQUFTLE1BQU0sTUFBTTs7NEJBRzFCLEtBQUssV0FBVzs0QkFDaEIsTUFBTSxPQUFRLFlBQU07O2dDQUVsQixNQUFNLGFBQWE7O2dDQUVuQixJQUFJLEtBQUssVUFBVSxHQUFHO29DQUNsQixNQUFNLFdBQVc7b0NBQ2pCLE1BQU0sUUFBUSxFQUFDLE1BQU0sTUFBTSxNQUFNLE1BQU0sT0FBTzs7dUNBRTdDO29DQUNELE9BQU8sTUFBTSxLQUFLLE1BQU07b0NBQ3hCLE1BQU07Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozswc1lBdUNrcVk7Ozs7QUNySzFzWTs7O0FBRUEsT0FBTyxlQUFlLFNBQVMsY0FBYztJQUN6QyxPQUFPOztBQUVYLFFBSWdCLGdCQUFBOztBQVRoQixJQUFBLFVBQUEsUUFBQTs7QUFTQSxJQUFJLFdBQVcsdUJBQXVCOztBQVB0QyxJQUFBLFFBQUEsUUFBQTs7QUFXQSxJQUFJLFNBQVMsdUJBQXVCOztBQUVwQyxTQUFTLHVCQUF1QixLQUFLLEVBQUUsT0FBTyxPQUFPLElBQUksYUFBYSxNQUFNLEVBQUUsU0FBUzs7Ozs7Ozs7QUFOaEYsU0FBUyxjQUFjLFdBQVcsWUFBWSxVQUFVLFFBQVEsU0FBUztJQUM1RSxPQUFPO1FBQ0gsVUFBVTtRQUNWLGFBQWE7UUFDYixTQUFTO1FBQ1QsWUFBQSxPQUFBO1FBQ0EsY0FBYztRQUNkLE9BQU87WUFDSCxLQUFLO1lBQ0wsUUFBUTtZQUNSLFNBQVM7WUFDVCxhQUFhO1lBQ2IsUUFBUTtZQUNSLFNBQVM7WUFDVCxPQUFPO1lBQ1AsYUFBYTtZQUNiLFNBQVM7O1FBRWIsU0FBUyxTQUFBLFVBQVk7WUFDakIsT0FBTztnQkFDSCxLQUFLLFNBQUEsSUFBVSxPQUFPLE1BQU07b0JBQzFCLFFBQVEsSUFBSSxNQUFNOztvQkFFaEIsU0FBUyxlQUFlOztvQkFFeEIsTUFBTSxhQUFhO29CQUNuQixNQUFNLFVBQVU7b0JBQ2hCLE1BQU0sY0FBYyxPQUFPLFNBQVM7O29CQUVwQyxNQUFNLGNBQWUsWUFBTTt3QkFDdkIsSUFBSSxXQUFXLFFBQVEsUUFBUSxhQUFhLFFBQVEsU0FBUzs7O29CQUdqRSxNQUFNLGNBQWMsWUFBTTt3QkFDdEIsTUFBTSxXQUFXO3dCQUNqQixNQUFNLFVBQVU7OztvQkFHcEIsTUFBTSxpQkFBaUI7d0JBQ25CLFdBQVcsTUFBTSxXQUFXO3dCQUM1QixTQUFTLEVBQUMsZUFBZSxXQUFXO3dCQUNwQyxLQUFLLE1BQU07d0JBQ1gsUUFBUTt3QkFDUixhQUFhO3dCQUNiLFVBQVU7d0JBQ1YsZ0JBQWdCO3dCQUNoQixnQkFBZ0I7d0JBQ2hCLGtCQUFrQjt3QkFDbEIsZUFBZTt3QkFDZixXQUFXLFNBQUEsVUFBQSxNQUFROzRCQUNmLE1BQU07NEJBQ04sUUFBUSxRQUFRLG9CQUFvQixRQUFRLE9BQU87OzRCQUVuRCxNQUFNLE9BQU8sWUFBTTtnQ0FDakIsTUFBTSxZQUFZLEVBQUMsT0FBQTs7O3dCQUl6QixnQkFBZ0IsU0FBQSxlQUFDLE1BQU0sVUFBYTs0QkFDaEMsTUFBTSxjQUFjOzs0QkFFcEIsTUFBTSxPQUFPLFlBQU07Z0NBQ2YsTUFBTSxhQUFhO2dDQUNuQixNQUFNLFVBQVU7Ozt3QkFHeEIsT0FBTyxTQUFBLE1BQVMsTUFBTSxjQUFjOzRCQUNoQyxNQUFNLGNBQWM7NEJBQ3BCLEtBQUssV0FBVzs0QkFDaEIsTUFBTSxPQUFPLFlBQU07Z0NBQ2YsTUFBTSxhQUFhO2dDQUNuQixNQUFNLE1BQU0sTUFBTTtnQ0FDbEIsT0FBTyxNQUFNOzs7d0JBR3JCLFNBQVMsU0FBQSxRQUFTLE1BQU0sTUFBTTs0QkFDMUIsS0FBSyxXQUFXOzRCQUNoQixNQUFNLE9BQVEsWUFBTTs7Z0NBRWxCLE1BQU0sYUFBYTs7Z0NBRW5CLElBQUksS0FBSyxVQUFVLEdBQUc7b0NBQ2xCLE1BQU0sV0FBVztvQ0FDakIsTUFBTSxRQUFRLEVBQUMsTUFBTSxNQUFNLE1BQU0sTUFBTSxPQUFPOzt1Q0FFN0M7b0NBQ0QsT0FBTyxNQUFNLEtBQUssTUFBTTtvQ0FDeEIsTUFBTTs7Ozs7Ozs7Ozs4NlNBdUJzNFM7O0FDdkg5NlM7O0FBRUEsT0FBTyxlQUFlLFNBQVMsY0FBYztFQUMzQyxPQUFPOzs7QUFHVCxJQUFJLGVBQWUsWUFBWSxFQUFFLFNBQVMsaUJBQWlCLFFBQVEsT0FBTyxFQUFFLEtBQUssSUFBSSxJQUFJLEdBQUcsSUFBSSxNQUFNLFFBQVEsS0FBSyxFQUFFLElBQUksYUFBYSxNQUFNLElBQUksV0FBVyxhQUFhLFdBQVcsY0FBYyxPQUFPLFdBQVcsZUFBZSxNQUFNLElBQUksV0FBVyxZQUFZLFdBQVcsV0FBVyxNQUFNLE9BQU8sZUFBZSxRQUFRLFdBQVcsS0FBSyxpQkFBaUIsT0FBTyxVQUFVLGFBQWEsWUFBWSxhQUFhLEVBQUUsSUFBSSxZQUFZLGlCQUFpQixZQUFZLFdBQVcsYUFBYSxJQUFJLGFBQWEsaUJBQWlCLGFBQWEsY0FBYyxPQUFPOztBQUVoaUIsU0FBUyxnQkFBZ0IsVUFBVSxhQUFhLEVBQUUsSUFBSSxFQUFFLG9CQUFvQixjQUFjLEVBQUUsTUFBTSxJQUFJLFVBQVU7OztnRkFFaEgsSUFWcUIsb0JBVUcsWUFBWTtFQVJsQyxTQUFBLGtCQUFZLFlBQVksUUFBUSxPQUFPLGFBQWE7SUFDbEQ7O0lBRGtELGdCQUFBLE1BQUE7O0lBR2xELEtBQUssYUFBYTtJQUNsQixLQUFLLFNBQVM7SUFDZCxLQUFLLFNBQVM7SUFDZCxLQUFLLGVBQWU7OztFQWN0QixhQUFhLG1CQUFtQixDQUFDO0lBQy9CLEtBQUs7SUFDTCxPQUFPLFNBQVMsZ0JBWkYsT0FBTyxVQUFVO01BQUEsSUFBQSxRQUFBOztNQUUvQixJQUFJLGlCQUFpQixLQUFLLFdBQVcsSUFBSSxxQkFDdkMsVUFBQyxPQUFPLFNBQVMsVUFBVSxXQUFXLFlBQWU7O1FBRXJELElBQUksT0FBTyxTQUFTLE1BQU0sS0FBSyxTQUFTLElBQUksTUFBSyxhQUFhLGtCQUFrQixPQUFPLFlBQVcsTUFBTTs7UUFFeEcsSUFBRyxDQUFDLFFBQVMsUUFBUSxLQUFLLFdBQVk7VUFBRTs7O1FBRXhDLE1BQUssYUFBYyxVQUFBLFdBQWE7VUFDOUIsSUFBSSxDQUFDLFdBQVc7O1lBRWQsTUFBSyxPQUFPLEdBQUcsUUFBUSxNQUFNLFVBQVUsRUFBQyxRQUFRLFNBQVEsS0FBSyxZQUFNO2NBQ2pFLE1BQUssV0FBVyxXQUFXLHVCQUF1QixTQUFTLFVBQVUsV0FBVzs7Ozs7UUFLdEYsTUFBTTs7O01BR1IsTUFBTSxJQUFJLFlBQVk7O0tBZ0JyQjtJQUNELEtBQUs7SUFDTCxPQUFPLFNBQVMsYUFkTCxJQUFJOztNQUVmLEtBQUssT0FBTyxLQUFLO1FBQ2YsT0FBTztRQUNQLE1BQU07UUFDTixNQUFNO1FBQ04sa0JBQWtCO1FBQ2xCLG1CQUFtQjtRQUNuQixrQkFBa0I7U0FDakIsVUFBQSxNQUFBO1FBQUEsT0FBUSxHQUFHOzs7OztFQW9CaEIsT0FBTzs7O0FBR1QsUUFBUSxVQXJFYTtrcklBc0U2cEk7O0FDdEVsckk7O0FBRUEsT0FBTyxlQUFlLFNBQVMsY0FBYztFQUMzQyxPQUFPOzs7QUFHVCxJQUFJLGVBQWUsWUFBWSxFQUFFLFNBQVMsaUJBQWlCLFFBQVEsT0FBTyxFQUFFLEtBQUssSUFBSSxJQUFJLEdBQUcsSUFBSSxNQUFNLFFBQVEsS0FBSyxFQUFFLElBQUksYUFBYSxNQUFNLElBQUksV0FBVyxhQUFhLFdBQVcsY0FBYyxPQUFPLFdBQVcsZUFBZSxNQUFNLElBQUksV0FBVyxZQUFZLFdBQVcsV0FBVyxNQUFNLE9BQU8sZUFBZSxRQUFRLFdBQVcsS0FBSyxpQkFBaUIsT0FBTyxVQUFVLGFBQWEsWUFBWSxhQUFhLEVBQUUsSUFBSSxZQUFZLGlCQUFpQixZQUFZLFdBQVcsYUFBYSxJQUFJLGFBQWEsaUJBQWlCLGFBQWEsY0FBYyxPQUFPOztBQUVoaUIsU0FBUyxnQkFBZ0IsVUFBVSxhQUFhLEVBQUUsSUFBSSxFQUFFLG9CQUFvQixjQUFjLEVBQUUsTUFBTSxJQUFJLFVBQVU7Ozt3Q0FFaEgsSUFWcUIsaUJBVUEsWUFBWTtFQVIvQixTQUFBLGVBQVksU0FBUztJQUNuQjs7SUFEbUIsZ0JBQUEsTUFBQTs7SUFFbkIsS0FBSyxVQUFVOzs7RUFlakIsYUFBYSxnQkFBZ0IsQ0FBQztJQUM1QixLQUFLO0lBQ0wsT0FBTyxTQUFTLE9BZlg7TUFDTCxLQUFLLFFBQVEsUUFBUTs7OztFQW1CdkIsT0FBTzs7O0FBR1QsUUFBUSxVQTdCYTtrdEJBOEI2ckI7O0FDOUJsdEI7OztBQUVBLE9BQU8sZUFBZSxTQUFTLGNBQWM7RUFDM0MsT0FBTzs7QUFFVCxRQUFRLFVBTGdCO0FBQVQsU0FBUyxnQkFBZ0IsSUFBSSxTQUFTLFdBQVcsWUFBWTtFQUMxRTs7RUFFQSxJQUFNLHFCQUFxQjs7SUFFdkIsVUFBVSxTQUFBLFNBQVUsV0FBVTtNQUM1QixJQUFNLFdBQVcsR0FBRztNQUNwQixJQUFJLFVBQVMsU0FBUyxVQUFTLEtBQUssUUFBUSxPQUFPLFVBQVMsS0FBSyxRQUFRLE9BQU8sVUFBUyxLQUFLLFFBQVEsTUFBTTtRQUN4RyxRQUFRLFNBQVMsT0FBTzs7O01BRzVCLFNBQVMsUUFBUTtNQUNqQixPQUFPLFNBQVM7OztJQUdsQixTQUFTLFNBQUEsUUFBVSxRQUFRO01BQ3pCLElBQU0sV0FBVyxHQUFHOztNQUVwQixPQUFPLFVBQVUsT0FBTzs7OztNQUl4QixPQUFPLFFBQVEsV0FBVyxhQUFhLFFBQVEsZUFBZ0IsZUFBYyxhQUFhLFFBQVEsZUFBZSwwQ0FBMEM7TUFDM0osV0FBVyxzQkFBc0IsT0FBTyxRQUFROztNQUVoRCxJQUFHLENBQUMsT0FBTyxRQUFRLFVBQVU7UUFDM0IsUUFBUSxTQUFTLE9BQU87OztNQUcxQixTQUFTLFFBQVE7TUFDakIsT0FBTyxTQUFTOzs7O0VBSXRCLE9BQU87OzAzR0FRaTNHOztBQzFDMTNHOztBQUVBLE9BQU8sZUFBZSxTQUFTLGNBQWM7RUFDM0MsT0FBTzs7O0FBR1QsSUFBSSxlQUFlLFlBQVksRUFBRSxTQUFTLGlCQUFpQixRQUFRLE9BQU8sRUFBRSxLQUFLLElBQUksSUFBSSxHQUFHLElBQUksTUFBTSxRQUFRLEtBQUssRUFBRSxJQUFJLGFBQWEsTUFBTSxJQUFJLFdBQVcsYUFBYSxXQUFXLGNBQWMsT0FBTyxXQUFXLGVBQWUsTUFBTSxJQUFJLFdBQVcsWUFBWSxXQUFXLFdBQVcsTUFBTSxPQUFPLGVBQWUsUUFBUSxXQUFXLEtBQUssaUJBQWlCLE9BQU8sVUFBVSxhQUFhLFlBQVksYUFBYSxFQUFFLElBQUksWUFBWSxpQkFBaUIsWUFBWSxXQUFXLGFBQWEsSUFBSSxhQUFhLGlCQUFpQixhQUFhLGNBQWMsT0FBTzs7QUFFaGlCLFNBQVMsZ0JBQWdCLFVBQVUsYUFBYSxFQUFFLElBQUksRUFBRSxvQkFBb0IsY0FBYyxFQUFFLE1BQU0sSUFBSSxVQUFVOzs7NkRBRWhILElBVnFCLGFBVUosWUFBWTtFQVIzQixTQUFBLFdBQVksUUFBUSxTQUFTLGFBQWE7SUFDeEM7O0lBRHdDLGdCQUFBLE1BQUE7O0lBR3hDLEtBQUssbUJBQW1CO0lBQ3hCLEtBQUssYUFBYSxZQUFZOztJQUU5QixLQUFLLFNBQVM7SUFDZCxLQUFLLFdBQVc7O0lBR2hCLEtBQUssVUFBVTtNQUNiLE9BQU8sS0FBSyxjQUFjLEtBQUs7TUFDL0IsTUFBTSxLQUFLLGFBQWEsS0FBSzs7O0lBRy9CLEtBQUssU0FBUyxLQUFLLFFBQVEsS0FBSztJQUNoQyxLQUFLLFFBQVEsS0FBSyxPQUFPLEtBQUs7Ozs7RUFjaEMsYUFBYSxZQUFZLENBQUM7SUFDeEIsS0FBSztJQUNMLE9BQU8sU0FBUyxRQVpWLEtBQUs7TUFBQSxJQUFBLFFBQUE7O01BRVgsS0FBSzs7TUFFTCxPQUFPLElBQUksUUFBUSxVQUFDLFNBQVMsUUFBVztRQUN0QyxJQUFHLElBQUksS0FBSyxTQUFTLEdBQUc7VUFDdEIsUUFBUSxJQUFJLEtBQUs7ZUFDYjtVQUNKLE1BQUssT0FBTyxNQUFNLE1BQUssV0FBVyxJQUFJLEtBQUssU0FBUyxJQUFJLEtBQUssTUFBTTtVQUNuRSxPQUFPOzs7O0tBaUJWO0lBQ0QsS0FBSztJQUNMLE9BQU8sU0FBUyxTQWJUO01BQUEsSUFBQSxTQUFBOztNQUVQLEtBQUssT0FBTyxNQUFNLFdBQVc7TUFDN0IsT0FBTyxJQUFJLFFBQVEsVUFBQyxTQUFTLFFBQVc7UUFDdEMsT0FBSzs7UUFFTDs7O0tBaUJEO0lBQ0QsS0FBSztJQUNMLE9BQU8sU0FBUyxjQWRKLGFBQWE7O01BRXpCLEtBQUssU0FBUyxVQUFVO01BQ3hCLElBQUcsYUFBYTtRQUNkLEtBQUssbUJBQW1CLEtBQUssU0FBUyxVQUFVLElBQUk7UUFDcEQsS0FBSyxpQkFBaUI7YUFDbEI7UUFDSixJQUFHLEtBQUssU0FBUyxZQUFXO1VBQzFCLEtBQUssU0FBUzs7UUFFaEIsS0FBSyxTQUFTOzs7S0FpQmY7SUFDRCxLQUFLO0lBQ0wsT0FBTyxTQUFTLGVBZkg7TUFDYixJQUFHLEtBQUssa0JBQWtCO1FBQ3hCLEtBQUssaUJBQWlCO1FBQ3RCLEtBQUssbUJBQW1CO2FBQ3BCO1FBQ0osS0FBSyxTQUFTOzs7OztFQW9CbEIsT0FBTzs7O0FBR1QsUUFBUSxVQTFGYTs4a0pBMkZ5ako7O0FDM0Y5a0o7OztBQUVBLE9BQU8sZUFBZSxTQUFTLGNBQWM7RUFDM0MsT0FBTzs7QUFFVCxRQUFRLFVBQWdCOzs7Ozs7QUFBVCxTQUFTLGtCQUFrQixJQUFJO0VBQzVDOztFQUVBLE9BQU8sVUFBUyxLQUFLO0lBQ2pCLElBQUksV0FBVyxHQUFHO1FBQ2QsUUFBUSxJQUFJOztJQUVoQixNQUFNLE1BQU07O0lBRVosSUFBSSxNQUFNLFVBQVU7TUFDbEIsU0FBUztXQUNKO01BQ0wsTUFBTSxpQkFBaUIsUUFBUSxZQUFXO1FBQ3hDLFNBQVM7OztNQUdYLE1BQU0saUJBQWlCLFNBQVMsWUFBVztRQUN6QyxTQUFTOzs7O0lBSWIsT0FBTyxTQUFTOzs7azJEQVM0MEQ7O0FDbkNsMkQ7O0FBRUEsT0FBTyxlQUFlLFNBQVMsY0FBYztFQUMzQyxPQUFPOzs7QUFIVCxJQUFBLFdBQUEsUUFBQTs7QUFRQSxJQUFJLFlBQVksdUJBQXVCOztBQVB2QyxJQUFBLGNBQUEsUUFBQTs7QUFXQSxJQUFJLGVBQWUsdUJBQXVCOztBQVYxQyxJQUFBLGNBQUEsUUFBQTs7QUFjQSxJQUFJLGVBQWUsdUJBQXVCOztBQWIxQyxJQUFBLGNBQUEsUUFBQTs7QUFpQkEsSUFBSSxlQUFlLHVCQUF1Qjs7QUFoQjFDLElBQUEsUUFBQSxRQUFBOztBQW9CQSxJQUFJLFNBQVMsdUJBQXVCOztBQW5CcEMsSUFBQSxXQUFBLFFBQUE7O0FBdUJBLElBQUksWUFBWSx1QkFBdUI7O0FBRXZDLFNBQVMsdUJBQXVCLEtBQUssRUFBRSxPQUFPLE9BQU8sSUFBSSxhQUFhLE1BQU0sRUFBRSxTQUFTOztBQUV2RixRQUFRLFVBeEJPLFVBQUEsUUFBUSxPQUFPLDJCQUEyQixJQUN4RCxRQUFRLGNBRE0sYUFBQSxTQUVkLFFBQVEscUJBRk0sYUFBQSxTQUdkLFFBQVEscUJBSE0sYUFBQSxTQUlkLFFBQVEsZUFKTSxPQUFBLFNBS2QsUUFBUSxrQkFMTSxVQUFBOzh4Q0F5Qit3Qzs7QUNqQzl4Qzs7QUFFQSxPQUFPLGVBQWUsU0FBUyxjQUFjO0lBQ3pDLE9BQU87OztBQUdYLElBQUksZUFBZSxZQUFZLEVBQUUsU0FBUyxpQkFBaUIsUUFBUSxPQUFPLEVBQUUsS0FBSyxJQUFJLElBQUksR0FBRyxJQUFJLE1BQU0sUUFBUSxLQUFLLEVBQUUsSUFBSSxhQUFhLE1BQU0sSUFBSSxXQUFXLGFBQWEsV0FBVyxjQUFjLE9BQU8sV0FBVyxlQUFlLE1BQU0sSUFBSSxXQUFXLFlBQVksV0FBVyxXQUFXLE1BQU0sT0FBTyxlQUFlLFFBQVEsV0FBVyxLQUFLLGlCQUFpQixPQUFPLFVBQVUsYUFBYSxZQUFZLGFBQWEsRUFBRSxJQUFJLFlBQVksaUJBQWlCLFlBQVksV0FBVyxhQUFhLElBQUksYUFBYSxpQkFBaUIsYUFBYSxjQUFjLE9BQU87O0FBRWhpQixTQUFTLGdCQUFnQixVQUFVLGFBQWEsRUFBRSxJQUFJLEVBQUUsb0JBQW9CLGNBQWMsRUFBRSxNQUFNLElBQUksVUFBVTs7O2tGQUVoSCxJQVZxQixPQVVWLFlBQVk7SUFSckIsU0FBQSxLQUFZLFNBQVMsT0FBTSxRQUFRLE9BQU8sVUFBVSxRQUFRO1FBQzFEOztRQUQwRCxnQkFBQSxNQUFBOztRQUcxRCxLQUFLLFVBQVU7UUFDZixLQUFLLFFBQVE7O1FBRWIsS0FBSyxTQUFTO1FBQ2QsS0FBSyxRQUFRO1FBQ2IsS0FBSyxXQUFXO1FBQ2hCLEtBQUssT0FBTzs7Ozs7SUFnQlosYUFBYSxNQUFNLENBQUM7UUFDaEIsS0FBSztRQUNMLE9BQU8sU0FBUyxTQWRiO1lBQUEsSUFBQSxRQUFBOztZQUNQLE9BQU8sS0FBSyxNQUFNLElBQUksS0FBSyxLQUFLLE9BQU8sUUFBUSxLQUFLLFVBQUEsTUFBUTtnQkFDeEQsTUFBSyxRQUFRLFNBQVMsT0FBTzs7Ozs7Ozs7OztPQTBCOUI7UUFDQyxLQUFLO1FBQ0wsT0FBTyxTQUFTLG9CQW5CRixLQUFLLFVBQVU7WUFDL0IsT0FBTyxFQUFFLFFBQVEsS0FBSyxFQUFFLFVBQVUsS0FBSzs7Ozs7Ozs7O09BNEJ0QztRQUNDLEtBQUs7UUFDTCxPQUFPLFNBQVMsa0JBdEJKLE1BQU07WUFDcEIsSUFBRyxRQUFRLFNBQVMsT0FBTTtnQkFDdEIsT0FBTyxJQUFJLEtBQUs7O1lBRXBCLElBQUksUUFBUSxTQUFTLEtBQUssYUFBYSxHQUFHO1lBQzFDLE9BQU8sSUFBSSxLQUFLLEtBQUssZUFBZSxPQUFPLEdBQUc7Ozs7Ozs7OztPQStCN0M7UUFDQyxLQUFLO1FBQ0wsT0FBTyxTQUFTLFNBekJiLE1BQU07WUFDWCxJQUFJLFFBQVEsS0FBSyxNQUFNO2dCQUNuQixTQUFTO2dCQUNUO2dCQUNBLE9BQU8sTUFBTSxVQUFVLE1BQU0sS0FBSyxXQUFXOzs7WUFHakQsS0FBSyxPQUFPLEdBQUcsR0FBRyxNQUFNLE1BQU07O1lBRTlCLFNBQVMsVUFBVSxNQUFNO2dCQUNyQixPQUFPLEtBQUssU0FBUyxXQUFXO2dCQUNoQyxJQUFHLGdCQUFnQixRQUFRO29CQUN2QixTQUFTLEtBQUssS0FBSyxLQUFLO3VCQUN0QjtvQkFDRixTQUFTLEtBQUssTUFBTSxNQUFNOzs7O1lBSWxDLElBQUcsTUFBTSxTQUFTLEdBQUc7O2dCQUVqQixRQUFRLFFBQVEsT0FBTyxVQUFTLE1BQUs7b0JBQ2pDLFFBQVEsS0FBSztvQkFDYixJQUFHLFFBQVE7d0JBQ1AsVUFBVTs7d0JBRVYsSUFBRyxDQUFDLFFBQVE7NEJBQ1IsS0FBSyxPQUFPLFFBQVEsS0FBSyxTQUFTLFdBQVcsTUFBTTs0QkFDbkQsT0FBTzs7OzttQkFJakI7Z0JBQ0YsVUFBVTs7Z0JBRVYsSUFBRyxDQUFDLFFBQVE7b0JBQ1IsS0FBSyxPQUFPLFFBQVEsS0FBSyxTQUFTLFdBQVcsTUFBTTs7OztZQUkzRCxPQUFPOzs7Ozs7Ozs7Ozs7T0FxQ047UUFDQyxLQUFLO1FBQ0wsT0FBTyxTQUFTLGtCQTVCSixLQUFLLE1BQU07WUFDekIsSUFBSSxNQUFNLEtBQUssTUFBTTtZQUNyQixPQUFNLElBQUksV0FBVyxNQUFNLElBQUksSUFBSSxXQUFuQztZQUNBLE9BQU87Ozs7Ozs7OztPQXFDTjtRQUNDLEtBQUs7UUFDTCxPQUFPLFNBQVMsUUEvQmQsTUFBTSxJQUFJO1lBQ2QsSUFBSSxVQUFVLFFBQVEsT0FBTztnQkFDekIsT0FBTztnQkFDUCxNQUFNOztnQkFFTixVQUFVO2dCQUNWLGtCQUFrQjtnQkFDbEIsbUJBQW1CO2dCQUNuQixrQkFBa0I7ZUFDbkI7O1lBRUgsS0FBSyxNQUFNLEtBQUssU0FBUyxVQUFVLFdBQVc7Z0JBQzFDLEdBQUc7Ozs7Ozs7Ozs7Ozs7T0E0Q047UUFDQyxLQUFLO1FBQ0wsT0FBTyxTQUFTLEtBbENqQixHQUFjO1lBQUEsSUFBQSxTQUFBOztZQUNqQixJQUFHLENBQUMsR0FBRyxPQUFPOztZQURHLEtBQUEsSUFBQSxPQUFBLFVBQUEsUUFBUixTQUFRLE1BQUEsT0FBQSxJQUFBLE9BQUEsSUFBQSxJQUFBLE9BQUEsR0FBQSxPQUFBLE1BQUEsUUFBQTtnQkFBUixPQUFRLE9BQUEsS0FBQSxVQUFBOzs7WUFHakIsT0FBTyxPQUFPLE9BQU8sVUFBQyxHQUFHLEdBQU07Z0JBQzdCLElBQUcsRUFBRSxTQUFTLE1BQU07O29CQUVsQixFQUFFLEVBQUUsTUFBTSxLQUFLLFNBQVMsT0FBSyxrQkFBa0IsR0FBRzt1QkFDOUM7b0JBQ0osSUFBRyxFQUFFLGVBQWUsSUFBSSxFQUFFLEtBQUssRUFBRTs7O2dCQUduQyxPQUFPO2VBQ047Ozs7Ozs7Ozs7OztPQW9EQTtRQUNDLEtBQUs7UUFDTCxPQUFPLFNBQVMsWUEzQ1YsTUFBTSxJQUF1QztZQUFBLElBQW5DLFFBQW1DLFVBQUEsU0FBQSxLQUFBLFVBQUEsT0FBQSxZQUFBLFVBQUEsS0FBM0I7WUFBMkIsSUFBbEIsVUFBa0IsVUFBQSxTQUFBLEtBQUEsVUFBQSxPQUFBLFlBQUEsVUFBQSxLQUFSOztZQUMvQyxJQUFHLENBQUMsUUFBUSxDQUFDLFFBQVEsUUFBUSxPQUFPO1lBQ3BDLElBQUksV0FBVyxLQUFLLE9BQU8sVUFBQSxNQUFBO2dCQUFBLE9BQVEsT0FBTyxLQUFLOztZQUMvQyxPQUFPLFNBQVMsU0FBUyxTQUFTLEdBQUcsV0FBVzs7OztJQW9EaEQsT0FBTzs7O0FBR1gsUUFBUSxVQXROYTsweldBdU5xeVc7O0FDdk4xelc7OztBQUVBLE9BQU8sZUFBZSxTQUFTLGNBQWM7SUFDekMsT0FBTzs7QUFIWCxTQUFTLGNBQWMsZUFBZTtJQUNsQzs7SUFFQSxjQUFjLFVBQVU7OztJQUd4QixjQUFjLFFBQVE7OztJQUd0QixjQUFjLFlBQVk7OztJQUcxQixjQUFjLG1CQUFtQjs7O0lBR2pDLGNBQWMsc0JBQXNCOzs7SUFHcEMsY0FBYyxXQUFXOzs7QUFRN0IsUUFBUSxVQUxPOzhyREFNK3FEOztBQzNCOXJEOzs7QUFFQSxPQUFPLGVBQWUsU0FBUyxjQUFjO0VBQzNDLE9BQU87OztBQUhULElBQUEsV0FBQSxRQUFBOztBQVFBLElBQUksWUFBWSx1QkFBdUI7O0FBRXZDLFNBQVMsdUJBQXVCLEtBQUssRUFBRSxPQUFPLE9BQU8sSUFBSSxhQUFhLE1BQU0sRUFBRSxTQUFTOztBQVB2RixTQUFTLGFBQWEsY0FBYztFQUNsQzs7RUFFQSxVQUFBLFFBQVEsT0FBTyxjQUFjO0lBQzNCLFdBQVc7SUFDWCxhQUFhO0lBQ2IsYUFBYTtJQUNiLFdBQVc7SUFDWCxhQUFhO0lBQ2IsaUJBQWlCO0lBQ2pCLGFBQWE7TUFDWCxPQUFPO01BQ1AsTUFBTTtNQUNOLFNBQVM7TUFDVCxTQUFTOztJQUVYLFdBQVc7SUFDWCxjQUFjO0lBQ2QsYUFBYTtJQUNiLFVBQVU7SUFDVixTQUFTO0lBQ1QsT0FBTztJQUNQLGVBQWU7SUFDZixtQkFBbUI7SUFDbkIsdUJBQXVCO0lBQ3ZCLGFBQWE7SUFDYixjQUFjO0lBQ2QsUUFBUTtJQUNSLFdBQVc7TUFDVCxPQUFPO01BQ1AsYUFBYTs7SUFFZixTQUFTO0lBQ1QsWUFBWTtJQUNaLFlBQVk7Ozs7QUFhaEIsUUFBUSxVQVRPOzA1RkFVMjRGOztBQ25EMTVGOzs7QUFFQSxPQUFPLGVBQWUsU0FBUyxjQUFjO0VBQzNDLE9BQU87OztBQUhULElBQUEsV0FBQSxRQUFBOztBQVFBLElBQUksWUFBWSx1QkFBdUI7O0FBRXZDLFNBQVMsdUJBQXVCLEtBQUssRUFBRSxPQUFPLE9BQU8sSUFBSSxhQUFhLE1BQU0sRUFBRSxTQUFTOztBQVJ2RixTQUFTLGlCQUFpQixxQkFBcUI7RUFDN0M7O0VBRUEsVUFBQSxRQUFRLE9BQU8scUJBQXFCOztJQUVsQyxlQUFlO0lBQ2YsUUFBUTtJQUNSLFNBQVM7SUFDVCxjQUFjO0lBQ2QsVUFBVTtJQUNWLFdBQVc7SUFDWCxVQUFVOzs7O0FBY2QsUUFBUSxVQVZPOzgzQ0FXKzJDOztBQzVCOTNDOzs7QUFFQSxPQUFPLGVBQWUsU0FBUyxjQUFjO0VBQzNDLE9BQU87OztBQUhULElBQUEsV0FBQSxRQUFBOztBQVFBLElBQUksWUFBWSx1QkFBdUI7O0FBUHZDLElBQUEsY0FBQSxRQUFBOztBQVdBLFNBQVMsdUJBQXVCLEtBQUssRUFBRSxPQUFPLE9BQU8sSUFBSSxhQUFhLE1BQU0sRUFBRSxTQUFTOztBQVR2RixTQUFTLHFCQUFxQixxQkFBcUI7RUFDakQ7O0VBRUEsb0JBQW9CLGNBQXBCLFlBQUEsWUFBOEMsY0FBOUMsWUFBQTs7O0FBY0YsUUFBUSxVQVZPO2s1QkFXbTRCOztBQ3JCbDVCOzs7QUFFQSxPQUFPLGVBQWUsU0FBUyxjQUFjO0VBQzNDLE9BQU87O0FBRVQsUUFBUSxVQUhnQjs7O0FBQVQsU0FBUyxrQkFBa0IsV0FBVztFQUNuRDs7RUFFQSxJQUFJLFdBQVcsVUFBVTs7RUFFekIsVUFBVSxPQUFPLFlBQVc7SUFDMUIsSUFBSSxVQUFVLFVBQVU7SUFDeEIsSUFBSSxjQUFjO0lBQ2xCLElBQUksU0FBUztNQUNYLGNBQWMsUUFBUSxlQUFlO01BQ3JDLFFBQVEsY0FBYzs7SUFFeEIsSUFBSSxLQUFLLFNBQVMsTUFBTSxNQUFNO0lBQzlCLElBQUksT0FBTyxRQUFRLFFBQVEsU0FBUztJQUNwQyxLQUFLLFNBQVM7OztJQUdkLEdBQUcsT0FBTyxRQUFRLFlBQVc7TUFDM0IsS0FBSyxZQUFZOzs7SUFHbkIsT0FBTzs7O0VBR1QsT0FBTzs7a3dFQVF5dkU7OztBQ2xDbHdFOztBQUVBLE9BQU8sZUFBZSxTQUFTLGNBQWM7RUFDM0MsT0FBTzs7O0FBSFQsSUFBQSxXQUFBLFFBQUE7O0FBUUEsSUFBSSxZQUFZLHVCQUF1Qjs7QUFQdkMsSUFBQSxVQUFBLFFBQUE7O0FBV0EsSUFBSSxXQUFXLHVCQUF1Qjs7QUFSdEMsUUFBQTs7QUFDQSxRQUFBOztBQUNBLFFBQUE7O0FBQ0EsUUFBQTs7QUFDQSxJQUFBLGtCQUFBLFFBQUE7O0FBZ0JBLElBQUksbUJBQW1CLHVCQUF1Qjs7QUFmOUMsUUFBQTs7QUFDQSxRQUFBOztBQUNBLElBQUEsWUFBQSxRQUFBOztBQXFCQSxJQUFJLGFBQWEsdUJBQXVCOztBQW5CeEMsUUFBQTs7QUFDQSxRQUFBOztBQUNBLFFBQUE7O0FBRUEsSUFBQSxRQUFBLFFBQUE7O0FBeUJBLElBQUksU0FBUyx1QkFBdUI7O0FBeEJwQyxRQUFBOztBQUNBLElBQUEsWUFBQSxRQUFBOztBQTZCQSxJQUFJLGFBQWEsdUJBQXVCOztBQTFCeEMsUUFBQTs7QUFDQSxRQUFBOztBQUdBLElBQUEsY0FBQSxRQUFBOztBQThCQSxJQUFJLGVBQWUsdUJBQXVCOztBQTVCMUMsSUFBQSxVQUFBLFFBQUE7O0FBZ0NBLElBQUksV0FBVyx1QkFBdUI7O0FBOUJ0QyxRQUFBOztBQUNBLFFBQUE7O0FBR0EsUUFBQTs7QUFDQSxRQUFBOztBQUNBLFFBQUE7O0FBRUEsUUFBQTs7QUFFQSxJQUFBLFdBQUEsUUFBQTs7QUFvQ0EsSUFBSSxZQUFZLHVCQUF1Qjs7QUFuQ3ZDLElBQUEsVUFBQSxRQUFBOztBQXVDQSxJQUFJLFdBQVcsdUJBQXVCOztBQXRDdEMsSUFBQSxpQkFBQSxRQUFBOztBQTBDQSxJQUFJLGtCQUFrQix1QkFBdUI7O0FBekM3QyxJQUFBLGtCQUFBLFFBQUE7O0FBNkNBLElBQUksbUJBQW1CLHVCQUF1Qjs7QUExQzlDLElBQUEsWUFBQSxRQUFBOztBQThDQSxJQUFJLGFBQWEsdUJBQXVCOztBQUV4QyxTQUFTLHVCQUF1QixLQUFLLEVBQUUsT0FBTyxPQUFPLElBQUksYUFBYSxNQUFNLEVBQUUsU0FBUzs7QUE1RnZGLE9BQU8sSUFBSSxPQUFPLFNBQVAsU0FBQTs7QUFVWCxPQUFPLFdBQVAsV0FBQTs7O0FBUUEsT0FBTyxTQUFQLFdBQUE7Ozs7QUFPQSxPQUFPLElBQVAsYUFBQTs7QUFFQSxPQUFPLFNBQVAsU0FBQTs7Ozs7O0FBb0ZBLFFBQVEsVUFoRU8sVUFBQSxRQUFRLE9BQU8sbUJBQW1COztBQUUvQyxVQUNBLGlCQUNBLFlBQ0EsZUFDQSxXQUNBLGNBQ0EsY0FDQTs7QUFFQSxtQkFFQTs7O0FBR0EsaUJBQ0EsY0FDQSxtQkFDQSxvQkFFQSxnQkFFRCxPQXZCYyxVQUFBLFNBd0JkLE9BeEJjLFNBQUEsU0F5QmQsT0F6QmMsZ0JBQUEsU0EwQmQsT0ExQmMsaUJBQUE7Ozs7a21JQTJFbWxJOzs7O0FDNUhsbUk7OztBQUVBLE9BQU8sZUFBZSxTQUFTLGNBQWM7SUFDekMsT0FBTzs7QUFIWCxTQUFTLE9BQU8sZ0JBQWdCO0lBQzlCOztJQUVBLGVBQ0csTUFBTSxXQUFXO1FBQ2QsS0FBSzs7UUFFTCxVQUFXO1FBQ1gsT0FBTztRQUNQLGFBQWE7WUFDWCxNQUFNO1lBQ04sT0FBTzs7T0FHWixNQUFNLGdCQUFnQjtRQUNuQixLQUFLO1FBQ0wsVUFBVTtRQUNWLE9BQU87T0FFVixNQUFNLGtCQUFrQjtRQUNyQixLQUFLO1FBQ0wsVUFBVTtRQUNWLE9BQU87Ozs7QUFNZixRQUFRLFVBQU87c3REQUN1c0Q7O0FDN0J0dEQ7O0FBRUEsT0FBTyxlQUFlLFNBQVMsY0FBYztFQUMzQyxPQUFPOzs7QUFHVCxJQUFJLGVBQWUsWUFBWSxFQUFFLFNBQVMsaUJBQWlCLFFBQVEsT0FBTyxFQUFFLEtBQUssSUFBSSxJQUFJLEdBQUcsSUFBSSxNQUFNLFFBQVEsS0FBSyxFQUFFLElBQUksYUFBYSxNQUFNLElBQUksV0FBVyxhQUFhLFdBQVcsY0FBYyxPQUFPLFdBQVcsZUFBZSxNQUFNLElBQUksV0FBVyxZQUFZLFdBQVcsV0FBVyxNQUFNLE9BQU8sZUFBZSxRQUFRLFdBQVcsS0FBSyxpQkFBaUIsT0FBTyxVQUFVLGFBQWEsWUFBWSxhQUFhLEVBQUUsSUFBSSxZQUFZLGlCQUFpQixZQUFZLFdBQVcsYUFBYSxJQUFJLGFBQWEsaUJBQWlCLGFBQWEsY0FBYyxPQUFPOztBQUVoaUIsU0FBUyxnQkFBZ0IsVUFBVSxhQUFhLEVBQUUsSUFBSSxFQUFFLG9CQUFvQixjQUFjLEVBQUUsTUFBTSxJQUFJLFVBQVU7Ozt1SUFFaEgsSUFWTSxtQkFVaUIsWUFBWTtFQVJqQyxTQUFBLGlCQUFZLFFBQVEsY0FBYyxRQUFRLGdCQUFnQixhQUFhLGVBQWUsZ0JBQWdCO0lBQ3BHOztJQURvRyxnQkFBQSxNQUFBOztJQUdwRyxLQUFLLFNBQVM7SUFDZCxLQUFLLFVBQVU7SUFDZixLQUFLLGVBQWU7O0lBRXBCLEtBQUssV0FBVztJQUNoQixLQUFLLGlCQUFpQjs7SUFFdEIsS0FBSyxLQUFLLEtBQUssYUFBYTtJQUM1QixLQUFLLFVBQVUsWUFBWTtJQUMzQixLQUFLLFdBQVcsZUFBZTs7SUFFL0IsS0FBSyxPQUFPOztJQUVaLEtBQUs7OztFQWNQLGFBQWEsa0JBQWtCLENBQUM7SUFDOUIsS0FBSztJQUNMLE9BQU8sU0FBUyxRQWJWO01BQUEsSUFBQSxRQUFBOztNQUNOLElBQUksU0FBUztRQUNYLElBQUksS0FBSzs7TUFFWCxLQUFLLFdBQVc7UUFDZCxHQUFHO1FBQ0gsR0FBRztRQUNILEdBQUc7UUFDSCxHQUFHOzs7TUFHTCxLQUFLLFNBQVMsSUFBSSxRQUFRLEtBQUssVUFBQSxNQUFRO1FBQ3JDLE1BQUssU0FBUzs7O0tBa0JmO0lBQ0QsS0FBSztJQUNMLE9BQU8sU0FBUyxVQWhCUjtNQUNSLElBQUksU0FBUztRQUNYLFNBQVMsS0FBSztRQUNkLGNBQWMsS0FBSyxPQUFPO1FBQzFCLFdBQVcsS0FBSyxPQUFPO1FBQ3ZCLE9BQU8sS0FBSyxPQUFPO1FBQ25CLE1BQU0sS0FBSyxPQUFPO1FBQ2xCLFdBQVcsS0FBSyxPQUFPO1FBQ3ZCLE9BQU8sS0FBSyxPQUFPOztNQUVyQixLQUFLLFNBQVMsSUFBSSxRQUFRLEtBQUssVUFBQSxNQUFRO1FBQ25DLFNBQVMsT0FBTzs7Ozs7RUFxQnRCLE9BQU87OztBQUdULFFBQVEsVUFqQk87OHJIQWtCK3FIOztBQ3pFOXJIOztBQUVBLE9BQU8sZUFBZSxTQUFTLGNBQWM7RUFDM0MsT0FBTzs7O0FBSFQsSUFBQSxRQUFBLFFBQUE7O0FBUUEsSUFBSSxTQUFTLHVCQUF1Qjs7QUFFcEMsU0FBUyx1QkFBdUIsS0FBSyxFQUFFLE9BQU8sT0FBTyxJQUFJLGFBQWEsTUFBTSxFQUFFLFNBQVM7O0FBUnZGLElBQU0sU0FBUztFQUNiLGFBQWE7RUFDYixZQUFBLE9BQUE7RUFDQSxjQUFjOzs7QUFhaEIsUUFBUSxVQVZPOzhuQkFXK21COztBQ25COW5COztBQUVBLE9BQU8sZUFBZSxTQUFTLGNBQWM7RUFDM0MsT0FBTzs7O0FBR1QsSUFBSSxXQUFXLE9BQU8sVUFBVSxVQUFVLFFBQVEsRUFBRSxLQUFLLElBQUksSUFBSSxHQUFHLElBQUksVUFBVSxRQUFRLEtBQUssRUFBRSxJQUFJLFNBQVMsVUFBVSxJQUFJLEtBQUssSUFBSSxPQUFPLFFBQVEsRUFBRSxJQUFJLE9BQU8sVUFBVSxlQUFlLEtBQUssUUFBUSxNQUFNLEVBQUUsT0FBTyxPQUFPLE9BQU8sWUFBWSxPQUFPOztBQUV2UCxJQUFJLGVBQWUsWUFBWSxFQUFFLFNBQVMsaUJBQWlCLFFBQVEsT0FBTyxFQUFFLEtBQUssSUFBSSxJQUFJLEdBQUcsSUFBSSxNQUFNLFFBQVEsS0FBSyxFQUFFLElBQUksYUFBYSxNQUFNLElBQUksV0FBVyxhQUFhLFdBQVcsY0FBYyxPQUFPLFdBQVcsZUFBZSxNQUFNLElBQUksV0FBVyxZQUFZLFdBQVcsV0FBVyxNQUFNLE9BQU8sZUFBZSxRQUFRLFdBQVcsS0FBSyxpQkFBaUIsT0FBTyxVQUFVLGFBQWEsWUFBWSxhQUFhLEVBQUUsSUFBSSxZQUFZLGlCQUFpQixZQUFZLFdBQVcsYUFBYSxJQUFJLGFBQWEsaUJBQWlCLGFBQWEsY0FBYyxPQUFPOztBQVJoaUIsSUFBQSxnQkFBQSxRQUFBOztBQVlBLElBQUksaUJBQWlCLHVCQUF1Qjs7QUFYNUMsSUFBQSxVQUFBLFFBQUE7O0FBZUEsU0FBUyx1QkFBdUIsS0FBSyxFQUFFLE9BQU8sT0FBTyxJQUFJLGFBQWEsTUFBTSxFQUFFLFNBQVM7O0FBRXZGLFNBQVMsZ0JBQWdCLFVBQVUsYUFBYSxFQUFFLElBQUksRUFBRSxvQkFBb0IsY0FBYyxFQUFFLE1BQU0sSUFBSSxVQUFVOztBQUVoSCxTQUFTLDJCQUEyQixNQUFNLE1BQU0sRUFBRSxJQUFJLENBQUMsTUFBTSxFQUFFLE1BQU0sSUFBSSxlQUFlLGdFQUFnRSxPQUFPLFNBQVMsT0FBTyxTQUFTLFlBQVksT0FBTyxTQUFTLGNBQWMsT0FBTzs7QUFFek8sU0FBUyxVQUFVLFVBQVUsWUFBWSxFQUFFLElBQUksT0FBTyxlQUFlLGNBQWMsZUFBZSxNQUFNLEVBQUUsTUFBTSxJQUFJLFVBQVUsNkRBQTZELE9BQU8sZUFBZSxTQUFTLFlBQVksT0FBTyxPQUFPLGNBQWMsV0FBVyxXQUFXLEVBQUUsYUFBYSxFQUFFLE9BQU8sVUFBVSxZQUFZLE9BQU8sVUFBVSxNQUFNLGNBQWMsV0FBVyxJQUFJLFlBQVksT0FBTyxpQkFBaUIsT0FBTyxlQUFlLFVBQVUsY0FBYyxTQUFTLFlBQVk7OzswSEFFamUsSUFyQk0saUJBcUJlLFVBQVUsYUFBYTtFQUMxQyxVQUFVLGdCQUFnQjs7RUFwQjFCLFNBQUEsZUFBWSxXQUFXLFFBQVEsV0FBVyxjQUFjLFFBQVEsV0FBVyxnQkFBZ0I7SUFDekY7O0lBRHlGLGdCQUFBLE1BQUE7O0lBQUEsSUFBQSxRQUFBLDJCQUFBLE1BQUEsQ0FBQSxlQUFBLGFBQUEsT0FBQSxlQUFBLGlCQUFBLEtBQUEsTUFHbkY7O0lBRU4sTUFBSyxTQUFTO0lBQ2QsTUFBSyxZQUFZO0lBQ2pCLE1BQUssZUFBZTtJQUNwQixNQUFLLFNBQVM7O0lBRWQsTUFBSyxVQUFVOztJQUVmLE1BQUssV0FBVzs7SUFFaEIsTUFBSyxVQUFVOztJQUVmLE1BQUssYUFBYTs7SUFFbEIsTUFBSzs7SUFFTCxNQUFLLFdBQVc7TUFDZCxHQUFHO01BQ0gsR0FBRztNQUNILEdBQUc7TUFDSCxHQUFHOzs7SUF4Qm9GLE9BQUE7OztFQXNEM0YsYUFBYSxnQkFBZ0IsQ0FBQztJQUM1QixLQUFLO0lBQ0wsT0FBTyxTQUFTLFFBMUJWO01BQ04sS0FBSztNQUNMLEtBQUs7O0tBNEJKO0lBQ0QsS0FBSztJQUNMLE9BQU8sU0FBUyxlQTNCSDs7TUFFYixJQUFNLGNBQWMsS0FBSzs7O0tBOEJ4QjtJQUNELEtBQUs7SUFDTCxPQUFPLFNBQVMsV0ExQlA7TUFBQSxJQUFBLFNBQUE7O01BQ1QsSUFBSSxTQUFTLEtBQUs7TUFDbEIsT0FBTyxPQUFPLEtBQUssV0FBVztNQUM5QixPQUFPLGFBQWE7O01BRXBCLEtBQUssU0FBUyxLQUFLLFFBQVEsS0FBSyxVQUFBLE1BQVE7UUFDdEMsT0FBSyxXQUFXLFFBQVEsS0FBSztRQUM3QixPQUFLLFdBQVcsV0FBVyxLQUFLO1FBQ2hDLE9BQUssT0FBTyxLQUFLOzs7S0ErQmxCO0lBQ0QsS0FBSztJQUNMLE9BQU8sU0FBUyxjQTVCSjtNQUNaLEtBQUs7O0tBOEJKO0lBQ0QsS0FBSztJQUNMLE9BQU8sU0FBUyxXQTdCUDtNQUNULEtBQUs7O0tBK0JKO0lBQ0QsS0FBSztJQUNMLE9BQU8sU0FBUyxVQTlCUjtNQUNSLElBQUksT0FBTyxLQUFLO01BQ2hCLElBQU0sVUFBVTtRQUNkLE1BQU0sU0FBQSxPQUFVO1VBQ2QsT0FBTztZQUNMLE1BQUE7Ozs7O01BS04sSUFBTSxVQUFBLFNBQUEsSUFBQSxRQUFBLFdBQUEsRUFBeUIsU0FBQTs7TUFFL0IsS0FBSyxPQUFPLEtBQU07O0tBZ0NqQjtJQUNELEtBQUs7SUFDTCxPQUFPLFNBQVMsYUEvQkwsTUFBTTtNQUNqQixJQUFNLFVBQVU7UUFDZCxNQUFNLFNBQUEsT0FBVTtVQUNkLE9BQU87Ozs7TUFJWCxJQUFNLFVBQUEsU0FBQSxJQUFBLFFBQUEsY0FBQSxFQUE0QixTQUFBOztNQUVsQyxLQUFLLE9BQU8sS0FBTTs7OztFQW1DcEIsT0FBTztFQUNQLGVBQWU7O0FBRWpCLFFBQVEsVUFqQ087azVKQWtDbTRKOztBQ3BJbDVKOztBQUVBLE9BQU8sZUFBZSxTQUFTLGNBQWM7RUFDM0MsT0FBTzs7O0FBSFQsSUFBQSxRQUFBLFFBQUE7O0FBUUEsSUFBSSxTQUFTLHVCQUF1Qjs7QUFFcEMsU0FBUyx1QkFBdUIsS0FBSyxFQUFFLE9BQU8sT0FBTyxJQUFJLGFBQWEsTUFBTSxFQUFFLFNBQVM7O0FBUnZGLElBQU0sT0FBTztFQUNYLGFBQWE7RUFDYixZQUFBLE9BQUE7RUFDQSxjQUFjOzs7QUFhaEIsUUFBUSxVQVZPOzhtQkFXK2xCOztBQ25COW1COztBQUVBLE9BQU8sZUFBZSxTQUFTLGNBQWM7RUFDM0MsT0FBTzs7O0FBR1QsSUFBSSxXQUFXLE9BQU8sVUFBVSxVQUFVLFFBQVEsRUFBRSxLQUFLLElBQUksSUFBSSxHQUFHLElBQUksVUFBVSxRQUFRLEtBQUssRUFBRSxJQUFJLFNBQVMsVUFBVSxJQUFJLEtBQUssSUFBSSxPQUFPLFFBQVEsRUFBRSxJQUFJLE9BQU8sVUFBVSxlQUFlLEtBQUssUUFBUSxNQUFNLEVBQUUsT0FBTyxPQUFPLE9BQU8sWUFBWSxPQUFPOztBQUV2UCxJQUFJLGVBQWUsWUFBWSxFQUFFLFNBQVMsaUJBQWlCLFFBQVEsT0FBTyxFQUFFLEtBQUssSUFBSSxJQUFJLEdBQUcsSUFBSSxNQUFNLFFBQVEsS0FBSyxFQUFFLElBQUksYUFBYSxNQUFNLElBQUksV0FBVyxhQUFhLFdBQVcsY0FBYyxPQUFPLFdBQVcsZUFBZSxNQUFNLElBQUksV0FBVyxZQUFZLFdBQVcsV0FBVyxNQUFNLE9BQU8sZUFBZSxRQUFRLFdBQVcsS0FBSyxpQkFBaUIsT0FBTyxVQUFVLGFBQWEsWUFBWSxhQUFhLEVBQUUsSUFBSSxZQUFZLGlCQUFpQixZQUFZLFdBQVcsYUFBYSxJQUFJLGFBQWEsaUJBQWlCLGFBQWEsY0FBYyxPQUFPOztBQUVoaUIsU0FBUyxnQkFBZ0IsVUFBVSxhQUFhLEVBQUUsSUFBSSxFQUFFLG9CQUFvQixjQUFjLEVBQUUsTUFBTSxJQUFJLFVBQVU7Ozt1S0FFaEgsSUFacUIsYUFZSixZQUFZO0VBWDNCLFNBQUEsV0FBWSxRQUFRLFFBQVEsYUFBYSxtQkFBbUIsUUFBUSxnQkFBZ0IsTUFBTSxhQUFhLGVBQWUsZ0JBQWdCO0lBQ3BJOztJQURvSSxJQUFBLFFBQUE7O0lBQUEsZ0JBQUEsTUFBQTs7SUFHcEksS0FBSyxTQUFTO0lBQ2QsS0FBSyxTQUFTOztJQUVkLEtBQUssc0JBQXNCOztJQUUzQixLQUFLLGlCQUFpQjtJQUN0QixLQUFLLFVBQVU7O0lBRWYsS0FBSyxXQUFXO0lBQ2hCLEtBQUssaUJBQWlCOztJQUV0QixLQUFLLFVBQVUsWUFBWTtJQUMzQixLQUFLLFdBQVcsZUFBZTs7SUFFL0IsS0FBSyxPQUFPO0lBQ1osS0FBSyxXQUFXOztJQUVoQixLQUFLLFlBQVk7TUFDZixXQUFXO01BQ1gsT0FBTztNQUNQLE1BQU07OztJQUdSLEtBQUssc0JBQXNCO01BQ3pCLGNBQWM7TUFDZCxNQUFNLFNBQUEsS0FBVSxNQUFNO1FBQ3BCLE9BQU8sS0FBSztRQUNaLElBQUksUUFBUSxFQUFFLE9BQU8sS0FBSyxZQUFZLFVBQVUsT0FBTztVQUNuRCxPQUFPLE1BQU0sV0FBVzs7UUFFNUIsT0FBTzs7OztJQUlYLEtBQUssU0FBUyxjQUFjLEtBQUssVUFBQSxNQUFRO01BQ3ZDLE1BQUssV0FBVzs7OztFQW9CcEIsYUFBYSxZQUFZLENBQUM7SUFDeEIsS0FBSztJQUNMLE9BQU8sU0FBUyxhQWpCTCxNQUFNO01BQ2pCLElBQU0sVUFBVTtRQUNkLE1BQU0sU0FBQSxPQUFVO1VBQ2QsT0FBTzs7OztNQUlYLElBQU0sVUFBQSxTQUFBLElBQWMsY0FBZCxFQUE0QixTQUFBOztNQUVsQyxLQUFLLE9BQU8sS0FBTTs7S0FtQmpCO0lBQ0QsS0FBSztJQUNMLE9BQU8sU0FBUyxTQWxCVDtNQUNQLEtBQUssZUFBZTs7S0FvQm5CO0lBQ0QsS0FBSztJQUNMLE9BQU8sU0FBUyxPQW5CWCxNQUFNO01BQUEsSUFBQSxTQUFBOzs7TUFFWCxLQUFLLG9CQUFvQixTQUFTLE1BQU0sUUFBUSxZQUFNO1FBQ3BELE9BQUs7OztLQXdCTjtJQUNELEtBQUs7SUFDTCxPQUFPLFNBQVMsV0F0QlA7TUFBQSxJQUFBLFNBQUE7O01BQ1QsSUFBTSxPQUFPLEtBQUs7TUFDbEIsS0FBSyxTQUFTLElBQUksTUFBTSxLQUFLLFVBQUEsTUFBUTtRQUNuQyxPQUFLLFFBQVEsUUFBUTtRQUNyQixPQUFLO1FBQ0wsT0FBSyxPQUFPOzs7OztFQTZCaEIsT0FBTzs7O0FBR1QsUUFBUSxVQXhHYTswcEtBeUdxb0s7O0FDekcxcEs7O0FBRUEsT0FBTyxlQUFlLFNBQVMsY0FBYztFQUMzQyxPQUFPOzs7QUFIVCxJQUFBLFFBQUEsUUFBQTs7QUFRQSxJQUFJLFNBQVMsdUJBQXVCOztBQUVwQyxTQUFTLHVCQUF1QixLQUFLLEVBQUUsT0FBTyxPQUFPLElBQUksYUFBYSxNQUFNLEVBQUUsU0FBUzs7QUFSdkYsSUFBTSxnQkFBZ0I7RUFDcEIsYUFBYTtFQUNiLFlBQUEsT0FBQTtFQUNBLGNBQWM7OztBQWFoQixRQUFRLFVBVk87OHBCQVcrb0I7O0FDbkI5cEI7O0FBRUEsT0FBTyxlQUFlLFNBQVMsY0FBYztFQUMzQyxPQUFPOzs7QUFHVCxJQUFJLGVBQWUsWUFBWSxFQUFFLFNBQVMsaUJBQWlCLFFBQVEsT0FBTyxFQUFFLEtBQUssSUFBSSxJQUFJLEdBQUcsSUFBSSxNQUFNLFFBQVEsS0FBSyxFQUFFLElBQUksYUFBYSxNQUFNLElBQUksV0FBVyxhQUFhLFdBQVcsY0FBYyxPQUFPLFdBQVcsZUFBZSxNQUFNLElBQUksV0FBVyxZQUFZLFdBQVcsV0FBVyxNQUFNLE9BQU8sZUFBZSxRQUFRLFdBQVcsS0FBSyxpQkFBaUIsT0FBTyxVQUFVLGFBQWEsWUFBWSxhQUFhLEVBQUUsSUFBSSxZQUFZLGlCQUFpQixZQUFZLFdBQVcsYUFBYSxJQUFJLGFBQWEsaUJBQWlCLGFBQWEsY0FBYyxPQUFPOztBQUVoaUIsU0FBUyxnQkFBZ0IsVUFBVSxhQUFhLEVBQUUsSUFBSSxFQUFFLG9CQUFvQixjQUFjLEVBQUUsTUFBTSxJQUFJLFVBQVU7OztxSEFFaEgsSUFWcUIsYUFVSixZQUFZO0VBVDNCLFNBQUEsV0FBWSxRQUFRLFFBQVEsYUFBYSxtQkFBbUIsUUFBUSxnQkFBZ0IsTUFBTTtJQUN4Rjs7SUFEd0YsZ0JBQUEsTUFBQTs7SUFHeEYsS0FBSyxTQUFTO0lBQ2QsS0FBSyxTQUFTOztJQUVkLEtBQUssc0JBQXNCOztJQUUzQixLQUFLLGlCQUFpQjtJQUN0QixLQUFLLFVBQVU7O0lBRWYsS0FBSyxXQUFXOztJQUVoQixLQUFLLE9BQU87O0lBRVosS0FBSyxZQUFZO01BQ2YsUUFBUSxLQUFLLFFBQVEsS0FBSyxLQUFLOzs7SUFHakMsS0FBSyxPQUFPOztJQUdaLEtBQUs7OztFQWNQLGFBQWEsWUFBWSxDQUFDO0lBQ3hCLEtBQUs7SUFDTCxPQUFPLFNBQVMsZUFaSDtNQUFBLElBQUEsUUFBQTs7TUFDYixLQUFLLFNBQVMsY0FBYyxLQUFLLFVBQUEsTUFBUTs7UUFFdkMsTUFBSyxPQUFPOzs7S0FpQmI7SUFDRCxLQUFLO0lBQ0wsT0FBTyxTQUFTLFNBZlQ7TUFDUCxLQUFLLGVBQWU7O0tBaUJuQjtJQUNELEtBQUs7SUFDTCxPQUFPLFNBQVMsT0FoQlgsTUFBTTtNQUFBLElBQUEsU0FBQTs7O01BRVgsS0FBSyxvQkFBb0IsU0FBUyxNQUFNLFFBQVEsWUFBTTtRQUNwRCxPQUFLOzs7S0FxQk47SUFDRCxLQUFLO0lBQ0wsT0FBTyxTQUFTLFdBbkJQO01BQUEsSUFBQSxTQUFBOzs7TUFFVCxLQUFLLFNBQVMsSUFBSTtRQUNoQixTQUFTLEtBQUssS0FBSztRQUNuQixTQUFTLEtBQUssVUFBVTtTQUN2QixLQUFLLFVBQUEsTUFBUTtRQUNkLE9BQUs7UUFDTCxPQUFLLFFBQVEsUUFBUTtRQUNyQixPQUFLLE9BQU87Ozs7O0VBMEJoQixPQUFPOzs7QUFHVCxRQUFRLFVBbEZhO2s4R0FtRjY2Rzs7QUNuRmw4Rzs7QUFFQSxPQUFPLGVBQWUsU0FBUyxjQUFjO0VBQzNDLE9BQU87OztBQUhULElBQUEsUUFBQSxRQUFBOztBQVFBLElBQUksU0FBUyx1QkFBdUI7O0FBRXBDLFNBQVMsdUJBQXVCLEtBQUssRUFBRSxPQUFPLE9BQU8sSUFBSSxhQUFhLE1BQU0sRUFBRSxTQUFTOztBQVJ2RixJQUFNLGdCQUFnQjtFQUNwQixhQUFhO0VBQ2IsWUFBQSxPQUFBO0VBQ0EsY0FBYzs7O0FBYWhCLFFBQVEsVUFWTztrcUJBV21wQjs7QUNuQmxxQjs7QUFFQSxPQUFPLGVBQWUsU0FBUyxjQUFjO0VBQzNDLE9BQU87O0FBRVQsUUFBUSxlQUFlLFFBQVEsWUFBWTs7QUFMM0MsSUFBQSxPQUFBLFFBQUE7O0FBU0EsSUFBSSxRQUFRLHVCQUF1Qjs7QUFSbkMsSUFBQSxVQUFBLFFBQUE7O0FBWUEsSUFBSSxXQUFXLHVCQUF1Qjs7QUFFdEMsU0FBUyx1QkFBdUIsS0FBSyxFQUFFLE9BQU8sT0FBTyxJQUFJLGFBQWEsTUFBTSxFQUFFLFNBQVM7O0FBRXZGLFFBYkUsWUFha0IsTUFBTTtBQUMxQixRQWJFLGVBYXFCLFNBQVM7MGFBQzBZOztBQ25CMWE7O0FBRUEsT0FBTyxlQUFlLFNBQVMsY0FBYztFQUMzQyxPQUFPOzs7QUFIVCxJQUFBLFdBQUEsUUFBQTs7QUFRQSxJQUFJLFlBQVksdUJBQXVCOztBQVB2QyxJQUFBLFVBQUEsUUFBQTs7QUFXQSxJQUFJLFdBQVcsdUJBQXVCOztBQVZ0QyxJQUFBLGFBQUEsUUFBQTs7QUFjQSxJQUFJLGNBQWMsdUJBQXVCOztBQWJ6QyxJQUFBLFVBQUEsUUFBQTs7QUFpQkEsSUFBSSxXQUFXLHVCQUF1Qjs7QUFoQnRDLElBQUEsV0FBQSxRQUFBOztBQW9CQSxJQUFJLFlBQVksdUJBQXVCOztBQW5CdkMsSUFBQSxVQUFBLFFBQUE7O0FBdUJBLElBQUksV0FBVyx1QkFBdUI7O0FBdEJ0QyxJQUFBLFFBQUEsUUFBQTs7QUEwQkEsSUFBSSxTQUFTLHVCQUF1Qjs7QUFFcEMsU0FBUyx1QkFBdUIsS0FBSyxFQUFFLE9BQU8sT0FBTyxJQUFJLGFBQWEsTUFBTSxFQUFFLFNBQVM7Ozs7O0FBS3ZGLFFBQVEsVUExQk8sVUFBQSxRQUFRLE9BQU8sdUJBQXVCOztDQUVwRCxRQUFRLGtCQUZNLFVBQUEsU0FJZCxVQUFVLGVBSkksT0FBQSxTQUtkLFVBQVUsaUJBTEksU0FBQSxTQU1kLE9BTmMsU0FBQTtrckNBNkJtcUM7O0FDMUNsckM7O0FBRUEsT0FBTyxlQUFlLFNBQVMsY0FBYztFQUMzQyxPQUFPOzs7QUFHVCxJQUFJLGVBQWUsWUFBWSxFQUFFLFNBQVMsaUJBQWlCLFFBQVEsT0FBTyxFQUFFLEtBQUssSUFBSSxJQUFJLEdBQUcsSUFBSSxNQUFNLFFBQVEsS0FBSyxFQUFFLElBQUksYUFBYSxNQUFNLElBQUksV0FBVyxhQUFhLFdBQVcsY0FBYyxPQUFPLFdBQVcsZUFBZSxNQUFNLElBQUksV0FBVyxZQUFZLFdBQVcsV0FBVyxNQUFNLE9BQU8sZUFBZSxRQUFRLFdBQVcsS0FBSyxpQkFBaUIsT0FBTyxVQUFVLGFBQWEsWUFBWSxhQUFhLEVBQUUsSUFBSSxZQUFZLGlCQUFpQixZQUFZLFdBQVcsYUFBYSxJQUFJLGFBQWEsaUJBQWlCLGFBQWEsY0FBYyxPQUFPOztBQUVoaUIsU0FBUyxnQkFBZ0IsVUFBVSxhQUFhLEVBQUUsSUFBSSxFQUFFLG9CQUFvQixjQUFjLEVBQUUsTUFBTSxJQUFJLFVBQVU7OzsrRUFFaEgsSUFWcUIsVUFVUCxZQUFZO0VBVHhCLFNBQUEsUUFBWSxPQUFPLFlBQVksWUFBWSxRQUFRLFFBQVE7SUFDekQ7O0lBRHlELGdCQUFBLE1BQUE7O0lBR3pELEtBQUssUUFBUTs7SUFFYixLQUFLLGNBQWM7SUFDbkIsS0FBSyxVQUFVO0lBQ2YsS0FBSyxPQUFPLE9BQU87O0lBRW5CLEtBQUssYUFBYTtJQUNsQixLQUFLLFNBQVM7OztFQWVoQixhQUFhLFNBQVMsQ0FBQztJQUNyQixLQUFLO0lBQ0wsT0FBTyxTQUFTLEtBZGIsUUFBUTs7TUFFWCxLQUFLLFlBQVksUUFBUTs7TUFFekIsT0FBTyxLQUFLLE1BQU0sS0FBSyxLQUFLLEtBQUssTUFBTSxRQUFRLEtBQUssS0FBSyxZQUFZLFFBQVMsS0FBSyxZQUFZOztLQWdCOUY7SUFDRCxLQUFLO0lBQ0wsT0FBTyxTQUFTLElBZmQsUUFBUTs7TUFFVixLQUFLLFlBQVksUUFBUTs7TUFFekIsT0FBTyxLQUFLLE1BQU0sS0FBSyxLQUFLLEtBQUssS0FBSyxRQUFRLEtBQUssS0FBSyxZQUFZLFFBQVMsS0FBSyxZQUFZOztLQWlCN0Y7SUFDRCxLQUFLO0lBQ0wsT0FBTyxTQUFTLElBaEJkLFFBQVE7O01BRVYsS0FBSyxZQUFZLFFBQVE7O01BRXpCLE9BQU8sS0FBSyxNQUFNLEtBQUssS0FBSyxLQUFLLEtBQUssUUFBUSxLQUFLLEtBQUssWUFBWSxRQUFTLEtBQUssWUFBWTs7S0FrQjdGO0lBQ0QsS0FBSztJQUNMLE9BQU8sU0FBUyxJQWpCZCxRQUFROztNQUVWLEtBQUssWUFBWSxRQUFROztNQUV6QixPQUFPLEtBQUssTUFBTSxLQUFLLEtBQUssS0FBSyxLQUFLLFFBQVEsS0FBSyxLQUFLLFlBQVksUUFBUyxLQUFLLFlBQVk7O0tBbUI3RjtJQUNELEtBQUs7SUFDTCxPQUFPLFNBQVMsWUFsQk4sUUFBUTtNQUNsQixLQUFLLFlBQVksUUFBUTtNQUN6QixPQUFPLEtBQUssTUFBTSxLQUFLLEtBQUssUUFBUSxLQUFLLEtBQUssUUFDM0MsS0FBSyxLQUFLLFlBQVksUUFBUSxLQUFLLFlBQVk7O0tBbUJqRDtJQUNELEtBQUs7SUFDTCxPQUFPLFNBQVMsY0FsQko7TUFDWixLQUFLLFlBQVksUUFBUTs7TUFFekIsT0FBTyxLQUFLLE1BQU0sSUFBSSxLQUFLLFFBQVEsS0FBSyxLQUFLLEtBQUssS0FBSyxZQUFZLFFBQVMsS0FBSyxZQUFZOzs7O0VBc0IvRixPQUFPOzs7QUFHVCxRQUFRLFVBNUVhOzg3SUE2RXk2STs7QUM3RTk3STs7O0FBRUEsT0FBTyxlQUFlLFNBQVMsY0FBYztFQUMzQyxPQUFPOztBQUhULFNBQVMsT0FBTyxnQkFBZ0I7RUFDOUI7O0VBRUEsZUFDRyxNQUFNLFFBQVE7SUFDWCxLQUFLOztJQUVMLFVBQVc7SUFDWCxPQUFPO0lBQ1AsYUFBYTtNQUNYLE1BQU07TUFDTixPQUFPOzs7Ozs7Ozs7O0FBY2pCLFFBQVEsVUFITzs4eENBSSt3Qzs7QUMxQjl4Qzs7QUFFQSxPQUFPLGVBQWUsU0FBUyxjQUFjO0VBQzNDLE9BQU87OztBQUdULElBQUksV0FBVyxPQUFPLFVBQVUsVUFBVSxRQUFRLEVBQUUsS0FBSyxJQUFJLElBQUksR0FBRyxJQUFJLFVBQVUsUUFBUSxLQUFLLEVBQUUsSUFBSSxTQUFTLFVBQVUsSUFBSSxLQUFLLElBQUksT0FBTyxRQUFRLEVBQUUsSUFBSSxPQUFPLFVBQVUsZUFBZSxLQUFLLFFBQVEsTUFBTSxFQUFFLE9BQU8sT0FBTyxPQUFPLFlBQVksT0FBTzs7QUFFdlAsSUFBSSxlQUFlLFlBQVksRUFBRSxTQUFTLGlCQUFpQixRQUFRLE9BQU8sRUFBRSxLQUFLLElBQUksSUFBSSxHQUFHLElBQUksTUFBTSxRQUFRLEtBQUssRUFBRSxJQUFJLGFBQWEsTUFBTSxJQUFJLFdBQVcsYUFBYSxXQUFXLGNBQWMsT0FBTyxXQUFXLGVBQWUsTUFBTSxJQUFJLFdBQVcsWUFBWSxXQUFXLFdBQVcsTUFBTSxPQUFPLGVBQWUsUUFBUSxXQUFXLEtBQUssaUJBQWlCLE9BQU8sVUFBVSxhQUFhLFlBQVksYUFBYSxFQUFFLElBQUksWUFBWSxpQkFBaUIsWUFBWSxXQUFXLGFBQWEsSUFBSSxhQUFhLGlCQUFpQixhQUFhLGNBQWMsT0FBTzs7QUFSaGlCLElBQUEsZ0JBQUEsUUFBQTs7QUFZQSxJQUFJLGlCQUFpQix1QkFBdUI7O0FBWDVDLElBQUEsVUFBQSxRQUFBOztBQWVBLFNBQVMsdUJBQXVCLEtBQUssRUFBRSxPQUFPLE9BQU8sSUFBSSxhQUFhLE1BQU0sRUFBRSxTQUFTOztBQUV2RixTQUFTLGdCQUFnQixVQUFVLGFBQWEsRUFBRSxJQUFJLEVBQUUsb0JBQW9CLGNBQWMsRUFBRSxNQUFNLElBQUksVUFBVTs7QUFFaEgsU0FBUywyQkFBMkIsTUFBTSxNQUFNLEVBQUUsSUFBSSxDQUFDLE1BQU0sRUFBRSxNQUFNLElBQUksZUFBZSxnRUFBZ0UsT0FBTyxTQUFTLE9BQU8sU0FBUyxZQUFZLE9BQU8sU0FBUyxjQUFjLE9BQU87O0FBRXpPLFNBQVMsVUFBVSxVQUFVLFlBQVksRUFBRSxJQUFJLE9BQU8sZUFBZSxjQUFjLGVBQWUsTUFBTSxFQUFFLE1BQU0sSUFBSSxVQUFVLDZEQUE2RCxPQUFPLGVBQWUsU0FBUyxZQUFZLE9BQU8sT0FBTyxjQUFjLFdBQVcsV0FBVyxFQUFFLGFBQWEsRUFBRSxPQUFPLFVBQVUsWUFBWSxPQUFPLFVBQVUsTUFBTSxjQUFjLFdBQVcsSUFBSSxZQUFZLE9BQU8saUJBQWlCLE9BQU8sZUFBZSxVQUFVLGNBQWMsU0FBUyxZQUFZOzs7dUhBRWplLElBcEJNLGlCQW9CZSxVQUFVLGFBQWE7RUFDMUMsVUFBVSxnQkFBZ0I7O0VBbkIxQixTQUFBLGVBQVksV0FBVyxRQUFRLFdBQVcsY0FBYyxRQUFRLFdBQVcsYUFBYTtJQUN0Rjs7SUFEc0YsZ0JBQUEsTUFBQTs7SUFBQSxJQUFBLFFBQUEsMkJBQUEsTUFBQSxDQUFBLGVBQUEsYUFBQSxPQUFBLGVBQUEsaUJBQUEsS0FBQSxNQUdoRjs7SUFFTixNQUFLLFNBQVM7SUFDZCxNQUFLLFlBQVk7SUFDakIsTUFBSyxlQUFlO0lBQ3BCLE1BQUssU0FBUzs7SUFFZCxNQUFLLFVBQVU7O0lBRWYsTUFBSyxXQUFXOztJQUVoQixNQUFLLFVBQVU7O0lBRWYsTUFBSyxhQUFhOztJQUVsQixNQUFLO0lBQ0wsTUFBSyxnQkFBZ0IsQ0FDbkI7TUFDRSxPQUFPO01BQ1AsT0FBTztPQUVUO01BQ0UsT0FBTztNQUNQLE9BQU87O0lBMUIyRSxPQUFBOzs7RUFvRHhGLGFBQWEsZ0JBQWdCLENBQUM7SUFDNUIsS0FBSztJQUNMLE9BQU8sU0FBUyxRQXZCVjtNQUNOLEtBQUs7TUFDTCxLQUFLOztLQXlCSjtJQUNELEtBQUs7SUFDTCxPQUFPLFNBQVMsZUF4Qkg7O01BRWIsSUFBTSxjQUFjLEtBQUs7OztLQTJCeEI7SUFDRCxLQUFLO0lBQ0wsT0FBTyxTQUFTLFdBdkJQO01BQUEsSUFBQSxTQUFBOztNQUNULElBQUksU0FBUyxLQUFLOzs7TUFHbEIsS0FBSyxTQUFTLEtBQUssUUFBUSxLQUFLLFVBQUEsTUFBUTs7UUFFdEMsT0FBSyxPQUFPOzs7S0E0QmI7SUFDRCxLQUFLO0lBQ0wsT0FBTyxTQUFTLGNBekJKO01BQ1osS0FBSzs7S0EyQko7SUFDRCxLQUFLO0lBQ0wsT0FBTyxTQUFTLFdBMUJQO01BQ1QsS0FBSzs7S0E0Qko7SUFDRCxLQUFLO0lBQ0wsT0FBTyxTQUFTLFFBM0JYLEtBQUssT0FBTzs7TUFFakIsSUFBRyxDQUFDLEtBQUs7UUFDUCxPQUFPOzs7TUFHVCxLQUFLLFFBQVEsT0FBTzs7TUFFcEIsS0FBSzs7S0E2Qko7SUFDRCxLQUFLO0lBQ0wsT0FBTyxTQUFTLFVBNUJSO01BQ1IsSUFBSSxPQUFPLEtBQUs7TUFDaEIsSUFBTSxVQUFVO1FBQ2QsTUFBTSxTQUFBLE9BQVU7VUFDZCxPQUFPO1lBQ0wsTUFBQTs7Ozs7TUFLTixJQUFNLFVBQUEsU0FBQSxJQUFBLFFBQUEsV0FBQSxFQUF5QixTQUFBOztNQUUvQixLQUFLLE9BQU8sS0FBTTs7S0E4QmpCO0lBQ0QsS0FBSztJQUNMLE9BQU8sU0FBUyxPQTdCWCxNQUFNO01BQ1gsSUFBTSxVQUFVO1FBQ2QsTUFBTSxTQUFBLE9BQVU7VUFDZCxPQUFPOzs7O01BSVgsSUFBTSxVQUFBLFNBQUEsSUFBQSxRQUFBLFdBQUEsRUFBeUIsU0FBQTs7TUFFL0IsSUFBSSxRQUFRLEtBQUs7TUFDakIsS0FBSyxPQUFPLEtBQU07O0tBK0JqQjtJQUNELEtBQUs7SUFDTCxPQUFPLFNBQVMsUUE5QlYsTUFBTTtNQUNaLElBQU0sVUFBVTtRQUNkLE1BQU0sU0FBQSxPQUFVO1VBQ2QsT0FBTzs7OztNQUlYLElBQU0sVUFBQSxTQUFBLElBQUEsUUFBQSxZQUFBLEVBQTBCLFNBQUE7O01BRWhDLElBQUksUUFBUSxLQUFLO01BQ2pCLEtBQUssT0FBTyxLQUFNOztLQWdDakI7SUFDRCxLQUFLO0lBQ0wsT0FBTyxTQUFTLFFBOUJYLE1BQU07TUFBQSxJQUFBLFNBQUE7O01BQ1gsS0FBSyxTQUFTLElBQUk7UUFDaEIsSUFBSSxLQUFLO1FBQ1QsT0FBTztTQUNOLEtBQUssVUFBQSxNQUFRO1FBQ2QsT0FBSyxRQUFRLFFBQVE7UUFDckIsT0FBSyxPQUFPOzs7S0FtQ2I7SUFDRCxLQUFLO0lBQ0wsT0FBTyxTQUFTLFNBakNULE1BQU07TUFBQSxJQUFBLFNBQUE7O01BQ2IsS0FBSyxTQUFTLElBQUk7UUFDaEIsSUFBSSxLQUFLO1FBQ1QsT0FBTztTQUNOLEtBQUssVUFBQSxNQUFRO1FBQ2QsT0FBSyxRQUFRLFFBQVE7UUFDckIsT0FBSyxPQUFPOzs7S0FzQ2I7SUFDRCxLQUFLO0lBQ0wsT0FBTyxTQUFTLGFBbkNMLE1BQU07TUFDakIsSUFBTSxVQUFVO1FBQ2QsTUFBTSxTQUFBLE9BQVU7VUFDZCxPQUFPOzs7O01BSVgsSUFBTSxVQUFBLFNBQUEsSUFBQSxRQUFBLGNBQUEsRUFBNEIsU0FBQTs7TUFFbEMsS0FBSyxPQUFPLEtBQU07Ozs7RUF1Q3BCLE9BQU87RUFDUCxlQUFlOztBQUVqQixRQUFRLFVBcENPO2t4T0FxQ213Tzs7QUNuTWx4Tzs7QUFFQSxPQUFPLGVBQWUsU0FBUyxjQUFjO0VBQzNDLE9BQU87OztBQUhULElBQUEsUUFBQSxRQUFBOztBQVFBLElBQUksU0FBUyx1QkFBdUI7O0FBRXBDLFNBQVMsdUJBQXVCLEtBQUssRUFBRSxPQUFPLE9BQU8sSUFBSSxhQUFhLE1BQU0sRUFBRSxTQUFTOztBQVJ2RixJQUFNLE9BQU87RUFDWCxhQUFhO0VBQ2IsWUFBQSxPQUFBO0VBQ0EsY0FBYzs7O0FBYWhCLFFBQVEsVUFWTzswbUJBVzJsQjs7QUNuQjFtQjs7QUFFQSxPQUFPLGVBQWUsU0FBUyxjQUFjO0VBQzNDLE9BQU87OztBQUdULElBQUksZUFBZSxZQUFZLEVBQUUsU0FBUyxpQkFBaUIsUUFBUSxPQUFPLEVBQUUsS0FBSyxJQUFJLElBQUksR0FBRyxJQUFJLE1BQU0sUUFBUSxLQUFLLEVBQUUsSUFBSSxhQUFhLE1BQU0sSUFBSSxXQUFXLGFBQWEsV0FBVyxjQUFjLE9BQU8sV0FBVyxlQUFlLE1BQU0sSUFBSSxXQUFXLFlBQVksV0FBVyxXQUFXLE1BQU0sT0FBTyxlQUFlLFFBQVEsV0FBVyxLQUFLLGlCQUFpQixPQUFPLFVBQVUsYUFBYSxZQUFZLGFBQWEsRUFBRSxJQUFJLFlBQVksaUJBQWlCLFlBQVksV0FBVyxhQUFhLElBQUksYUFBYSxpQkFBaUIsYUFBYSxjQUFjLE9BQU87O0FBRWhpQixTQUFTLGdCQUFnQixVQUFVLGFBQWEsRUFBRSxJQUFJLEVBQUUsb0JBQW9CLGNBQWMsRUFBRSxNQUFNLElBQUksVUFBVTs7O2tIQUVoSCxJQVZxQixhQVVKLFlBQVk7RUFUM0IsU0FBQSxXQUFZLFFBQVEsUUFBUSxhQUFhLG1CQUFtQixRQUFRLGFBQWEsTUFBTTtJQUNyRjs7SUFEcUYsZ0JBQUEsTUFBQTs7SUFHckYsS0FBSyxTQUFTO0lBQ2QsS0FBSyxTQUFTOztJQUVkLEtBQUssc0JBQXNCOztJQUUzQixLQUFLLGlCQUFpQjtJQUN0QixLQUFLLFVBQVU7O0lBRWYsS0FBSyxXQUFXOztJQUVoQixLQUFLLE9BQU87O0lBRVosS0FBSyxZQUFZO01BQ2YsTUFBTTs7O0lBR1IsS0FBSyxzQkFBc0I7TUFDekIsY0FBYztNQUNkLE1BQU0sU0FBQSxLQUFVLE1BQU07UUFDcEIsT0FBTyxLQUFLO1FBQ1osSUFBSSxRQUFRLEVBQUUsT0FBTyxLQUFLLFlBQVksVUFBVSxPQUFPO1VBQ25ELE9BQU8sTUFBTSxXQUFXOztRQUU1QixPQUFPOzs7OztFQWlCYixhQUFhLFlBQVksQ0FBQztJQUN4QixLQUFLO0lBQ0wsT0FBTyxTQUFTLFNBWFQ7TUFDUCxLQUFLLGVBQWU7O0tBYW5CO0lBQ0QsS0FBSztJQUNMLE9BQU8sU0FBUyxPQVpYLE1BQU07TUFBQSxJQUFBLFFBQUE7OztNQUVYLEtBQUssb0JBQW9CLFNBQVMsTUFBTSxRQUFRLFlBQU07UUFDcEQsTUFBSzs7O0tBaUJOO0lBQ0QsS0FBSztJQUNMLE9BQU8sU0FBUyxXQWZQO01BQUEsSUFBQSxTQUFBOztNQUNULElBQU0sT0FBTyxLQUFLO01BQ2xCLEtBQUssU0FBUyxJQUFJLE1BQU0sS0FBSyxVQUFBLE1BQVE7UUFDbkMsT0FBSyxRQUFRLFFBQVE7UUFDckIsT0FBSztRQUNMLE9BQUssT0FBTzs7Ozs7RUFzQmhCLE9BQU87OztBQUdULFFBQVEsVUE1RWE7OGhIQTZFeWdIOztBQzdFOWhIOztBQUVBLE9BQU8sZUFBZSxTQUFTLGNBQWM7RUFDM0MsT0FBTzs7O0FBSFQsSUFBQSxRQUFBLFFBQUE7O0FBUUEsSUFBSSxTQUFTLHVCQUF1Qjs7QUFFcEMsU0FBUyx1QkFBdUIsS0FBSyxFQUFFLE9BQU8sT0FBTyxJQUFJLGFBQWEsTUFBTSxFQUFFLFNBQVM7O0FBUnZGLElBQU0sZ0JBQWdCO0VBQ3BCLGFBQWE7RUFDYixZQUFBLE9BQUE7RUFDQSxjQUFjOzs7QUFhaEIsUUFBUSxVQVZPOzBwQkFXMm9COztBQ25CMXBCOztBQUVBLE9BQU8sZUFBZSxTQUFTLGNBQWM7RUFDM0MsT0FBTzs7O0FBR1QsSUFBSSxlQUFlLFlBQVksRUFBRSxTQUFTLGlCQUFpQixRQUFRLE9BQU8sRUFBRSxLQUFLLElBQUksSUFBSSxHQUFHLElBQUksTUFBTSxRQUFRLEtBQUssRUFBRSxJQUFJLGFBQWEsTUFBTSxJQUFJLFdBQVcsYUFBYSxXQUFXLGNBQWMsT0FBTyxXQUFXLGVBQWUsTUFBTSxJQUFJLFdBQVcsWUFBWSxXQUFXLFdBQVcsTUFBTSxPQUFPLGVBQWUsUUFBUSxXQUFXLEtBQUssaUJBQWlCLE9BQU8sVUFBVSxhQUFhLFlBQVksYUFBYSxFQUFFLElBQUksWUFBWSxpQkFBaUIsWUFBWSxXQUFXLGFBQWEsSUFBSSxhQUFhLGlCQUFpQixhQUFhLGNBQWMsT0FBTzs7QUFFaGlCLFNBQVMsZ0JBQWdCLFVBQVUsYUFBYSxFQUFFLElBQUksRUFBRSxvQkFBb0IsY0FBYyxFQUFFLE1BQU0sSUFBSSxVQUFVOzs7a0hBRWhILElBVnFCLGFBVUosWUFBWTtFQVQzQixTQUFBLFdBQVksUUFBUSxRQUFRLGFBQWEsbUJBQW1CLFFBQVEsYUFBYSxNQUFNO0lBQ3JGOztJQURxRixnQkFBQSxNQUFBOztJQUdyRixLQUFLLFNBQVM7SUFDZCxLQUFLLFNBQVM7O0lBRWQsS0FBSyxzQkFBc0I7O0lBRTNCLEtBQUssaUJBQWlCO0lBQ3RCLEtBQUssVUFBVTs7SUFFZixLQUFLLFdBQVc7O0lBRWhCLEtBQUssT0FBTzs7SUFFWixLQUFLLFlBQVk7TUFDZixRQUFRLEtBQUssUUFBUSxLQUFLLEtBQUs7OztJQUdqQyxLQUFLLE9BQU87O0lBR1osS0FBSzs7O0VBY1AsYUFBYSxZQUFZLENBQUM7SUFDeEIsS0FBSztJQUNMLE9BQU8sU0FBUyxlQVpIO01BQUEsSUFBQSxRQUFBOztNQUNiLEtBQUssU0FBUyxLQUFLO1FBQ2pCLE9BQU87U0FDTixLQUFLLFVBQUEsTUFBUTtRQUNkLE1BQUssT0FBTzs7O0tBaUJiO0lBQ0QsS0FBSztJQUNMLE9BQU8sU0FBUyxTQWZUO01BQ1AsS0FBSyxlQUFlOztLQWlCbkI7SUFDRCxLQUFLO0lBQ0wsT0FBTyxTQUFTLE9BaEJYLE1BQU07TUFBQSxJQUFBLFNBQUE7OztNQUVYLEtBQUssb0JBQW9CLFNBQVMsTUFBTSxRQUFRLFlBQU07UUFDcEQsT0FBSzs7O0tBcUJOO0lBQ0QsS0FBSztJQUNMLE9BQU8sU0FBUyxXQW5CUDtNQUFBLElBQUEsU0FBQTs7TUFDVCxLQUFLLFNBQVMsSUFBSTtRQUNoQixhQUFhLEtBQUssVUFBVTtRQUM1QixJQUFJLEtBQUssS0FBSztTQUNiLEtBQUssVUFBQSxNQUFRO1FBQ2QsT0FBSztRQUNMLE9BQUssUUFBUSxRQUFRO1FBQ3JCLE9BQUssT0FBTzs7Ozs7RUEwQmhCLE9BQU87OztBQUdULFFBQVEsVUFsRmE7ODNHQW1GeTJHOztBQ25GOTNHOztBQUVBLE9BQU8sZUFBZSxTQUFTLGNBQWM7RUFDM0MsT0FBTzs7O0FBSFQsSUFBQSxRQUFBLFFBQUE7O0FBUUEsSUFBSSxTQUFTLHVCQUF1Qjs7QUFFcEMsU0FBUyx1QkFBdUIsS0FBSyxFQUFFLE9BQU8sT0FBTyxJQUFJLGFBQWEsTUFBTSxFQUFFLFNBQVM7O0FBUnZGLElBQU0sZ0JBQWdCO0VBQ3BCLGFBQWE7RUFDYixZQUFBLE9BQUE7RUFDQSxjQUFjOzs7QUFhaEIsUUFBUSxVQVZPOzhwQkFXK29COztBQ25COXBCOztBQUVBLE9BQU8sZUFBZSxTQUFTLGNBQWM7RUFDM0MsT0FBTzs7O0FBR1QsSUFBSSxlQUFlLFlBQVksRUFBRSxTQUFTLGlCQUFpQixRQUFRLE9BQU8sRUFBRSxLQUFLLElBQUksSUFBSSxHQUFHLElBQUksTUFBTSxRQUFRLEtBQUssRUFBRSxJQUFJLGFBQWEsTUFBTSxJQUFJLFdBQVcsYUFBYSxXQUFXLGNBQWMsT0FBTyxXQUFXLGVBQWUsTUFBTSxJQUFJLFdBQVcsWUFBWSxXQUFXLFdBQVcsTUFBTSxPQUFPLGVBQWUsUUFBUSxXQUFXLEtBQUssaUJBQWlCLE9BQU8sVUFBVSxhQUFhLFlBQVksYUFBYSxFQUFFLElBQUksWUFBWSxpQkFBaUIsWUFBWSxXQUFXLGFBQWEsSUFBSSxhQUFhLGlCQUFpQixhQUFhLGNBQWMsT0FBTzs7QUFFaGlCLFNBQVMsZ0JBQWdCLFVBQVUsYUFBYSxFQUFFLElBQUksRUFBRSxvQkFBb0IsY0FBYyxFQUFFLE1BQU0sSUFBSSxVQUFVOzs7a0hBRWhILElBVnFCLGFBVUosWUFBWTtFQVQzQixTQUFBLFdBQVksUUFBUSxRQUFRLGFBQWEsbUJBQW1CLFFBQVEsYUFBYSxNQUFNO0lBQ3JGOztJQURxRixnQkFBQSxNQUFBOztJQUdyRixLQUFLLFNBQVM7SUFDZCxLQUFLLFNBQVM7O0lBRWQsS0FBSyxzQkFBc0I7O0lBRTNCLEtBQUssaUJBQWlCO0lBQ3RCLEtBQUssVUFBVTs7SUFFZixLQUFLLFdBQVc7O0lBRWhCLEtBQUssT0FBTzs7SUFFWixLQUFLLFlBQVk7TUFDZixNQUFNLEtBQUssS0FBSztNQUNoQixPQUFPLEtBQUssS0FBSztNQUNqQixTQUFTLEtBQUssS0FBSzs7O0lBR3JCLEtBQUssc0JBQXNCO01BQ3pCLGNBQWM7TUFDZCxNQUFNLFNBQUEsS0FBVSxNQUFNO1FBQ3BCLE9BQU8sS0FBSztRQUNaLElBQUksUUFBUSxFQUFFLE9BQU8sS0FBSyxZQUFZLFVBQVUsT0FBTztVQUNuRCxPQUFPLE1BQU0sV0FBVzs7UUFFNUIsT0FBTzs7Ozs7RUFpQmIsYUFBYSxZQUFZLENBQUM7SUFDeEIsS0FBSztJQUNMLE9BQU8sU0FBUyxTQVhUO01BQ1AsS0FBSyxlQUFlOztLQWFuQjtJQUNELEtBQUs7SUFDTCxPQUFPLFNBQVMsT0FaWCxNQUFNO01BQUEsSUFBQSxRQUFBOzs7TUFFWCxLQUFLLG9CQUFvQixTQUFTLE1BQU0sUUFBUSxZQUFNO1FBQ3BELE1BQUs7OztLQWlCTjtJQUNELEtBQUs7SUFDTCxPQUFPLFNBQVMsV0FmUDtNQUFBLElBQUEsU0FBQTs7TUFDVCxJQUFNLE9BQU87UUFDWCxJQUFJLEtBQUssS0FBSztRQUNkLE1BQU0sS0FBSyxVQUFVO1FBQ3JCLE9BQU8sS0FBSyxVQUFVO1FBQ3RCLFNBQVMsS0FBSyxVQUFVOztNQUUxQixLQUFLLFNBQVMsSUFBSSxNQUFNLEtBQUssVUFBQSxNQUFRO1FBQ25DLE9BQUssUUFBUSxRQUFRO1FBQ3JCLE9BQUs7UUFDTCxPQUFLLE9BQU87Ozs7O0VBc0JoQixPQUFPOzs7QUFHVCxRQUFRLFVBbkZhOzBtSUFvRnFsSTs7QUNwRjFtSTs7QUFFQSxPQUFPLGVBQWUsU0FBUyxjQUFjO0VBQzNDLE9BQU87OztBQUhULElBQUEsUUFBQSxRQUFBOztBQVFBLElBQUksU0FBUyx1QkFBdUI7O0FBRXBDLFNBQVMsdUJBQXVCLEtBQUssRUFBRSxPQUFPLE9BQU8sSUFBSSxhQUFhLE1BQU0sRUFBRSxTQUFTOztBQVJ2RixJQUFNLGdCQUFnQjtFQUNwQixhQUFhO0VBQ2IsWUFBQSxPQUFBO0VBQ0EsY0FBYzs7O0FBYWhCLFFBQVEsVUFWTzswcEJBVzJvQjs7QUNuQjFwQjs7QUFFQSxPQUFPLGVBQWUsU0FBUyxjQUFjO0VBQzNDLE9BQU87O0FBRVQsUUFBUSxhQUFhLFFBQVEsWUFBWSxRQUFRLFlBQVksUUFBUSxlQUFlOztBQUxwRixJQUFBLFVBQUEsUUFBQTs7QUFTQSxJQUFJLFdBQVcsdUJBQXVCOztBQVJ0QyxJQUFBLE9BQUEsUUFBQTs7QUFZQSxJQUFJLFFBQVEsdUJBQXVCOztBQVhuQyxJQUFBLE9BQUEsUUFBQTs7QUFlQSxJQUFJLFFBQVEsdUJBQXVCOztBQWRuQyxJQUFBLFFBQUEsUUFBQTs7QUFrQkEsSUFBSSxTQUFTLHVCQUF1Qjs7QUFFcEMsU0FBUyx1QkFBdUIsS0FBSyxFQUFFLE9BQU8sT0FBTyxJQUFJLGFBQWEsTUFBTSxFQUFFLFNBQVM7O0FBRXZGLFFBbkJFLGVBbUJxQixTQUFTO0FBQ2hDLFFBbkJFLFlBbUJrQixNQUFNO0FBQzFCLFFBbkJFLFlBbUJrQixNQUFNO0FBQzFCLFFBbkJFLGFBbUJtQixPQUFPO3NuQkFDMGxCOztBQzdCdG5COztBQUVBLE9BQU8sZUFBZSxTQUFTLGNBQWM7RUFDM0MsT0FBTzs7O0FBR1QsSUFBSSxpQkFBaUIsWUFBWSxFQUFFLFNBQVMsY0FBYyxLQUFLLEdBQUcsRUFBRSxJQUFJLE9BQU8sSUFBSSxJQUFJLEtBQUssTUFBTSxJQUFJLEtBQUssT0FBTyxJQUFJLEtBQUssV0FBVyxJQUFJLEVBQUUsS0FBSyxJQUFJLEtBQUssSUFBSSxPQUFPLGFBQWEsSUFBSSxFQUFFLEtBQUssQ0FBQyxLQUFLLEdBQUcsUUFBUSxPQUFPLEtBQUssTUFBTSxFQUFFLEtBQUssS0FBSyxHQUFHLFFBQVEsSUFBSSxLQUFLLEtBQUssV0FBVyxHQUFHLFdBQVcsT0FBTyxLQUFLLEVBQUUsS0FBSyxNQUFNLEtBQUssZUFBZSxFQUFFLElBQUksRUFBRSxJQUFJLENBQUMsTUFBTSxHQUFHLFdBQVcsR0FBRyx1QkFBdUIsRUFBRSxJQUFJLElBQUksTUFBTSxRQUFRLE9BQU8sUUFBUSxPQUFPLFVBQVUsS0FBSyxHQUFHLEVBQUUsSUFBSSxNQUFNLFFBQVEsTUFBTSxFQUFFLE9BQU8sWUFBWSxJQUFJLE9BQU8sWUFBWSxPQUFPLE1BQU0sRUFBRSxPQUFPLGNBQWMsS0FBSyxXQUFXLEVBQUUsTUFBTSxJQUFJLFVBQVU7O0FBRXRsQixJQUFJLGVBQWUsWUFBWSxFQUFFLFNBQVMsaUJBQWlCLFFBQVEsT0FBTyxFQUFFLEtBQUssSUFBSSxJQUFJLEdBQUcsSUFBSSxNQUFNLFFBQVEsS0FBSyxFQUFFLElBQUksYUFBYSxNQUFNLElBQUksV0FBVyxhQUFhLFdBQVcsY0FBYyxPQUFPLFdBQVcsZUFBZSxNQUFNLElBQUksV0FBVyxZQUFZLFdBQVcsV0FBVyxNQUFNLE9BQU8sZUFBZSxRQUFRLFdBQVcsS0FBSyxpQkFBaUIsT0FBTyxVQUFVLGFBQWEsWUFBWSxhQUFhLEVBQUUsSUFBSSxZQUFZLGlCQUFpQixZQUFZLFdBQVcsYUFBYSxJQUFJLGFBQWEsaUJBQWlCLGFBQWEsY0FBYyxPQUFPOztBQUVoaUIsU0FBUyxnQkFBZ0IsVUFBVSxhQUFhLEVBQUUsSUFBSSxFQUFFLG9CQUFvQixjQUFjLEVBQUUsTUFBTSxJQUFJLFVBQVU7OztrSEFFaEgsSUFacUIsYUFZSixZQUFZO0VBWDNCLFNBQUEsV0FBWSxRQUFRLFFBQVEsYUFBYSxtQkFBbUIsUUFBUSxhQUFhLE1BQU07SUFDckY7O0lBRHFGLGdCQUFBLE1BQUE7O0lBR3JGLEtBQUssU0FBUztJQUNkLEtBQUssU0FBUzs7SUFFZCxLQUFLLHNCQUFzQjs7SUFFM0IsS0FBSyxpQkFBaUI7SUFDdEIsS0FBSyxVQUFVOztJQUVmLEtBQUssV0FBVzs7SUFFaEIsS0FBSyxPQUFPOztJQUVaLElBQUksS0FBSyxLQUFLLGVBQWUsTUFBTztNQUNsQyxLQUFLLFlBQVksWUFDakIsS0FBSyxXQUFXO1dBQ1g7TUFBQSxJQUFBLHdCQUM2QixLQUFLLEtBQUssWUFBWSxNQUFNOztNQUR6RCxJQUFBLHlCQUFBLGVBQUEsdUJBQUE7O01BQ0osS0FBSyxZQURELHVCQUFBO01BQ1ksS0FBSyxXQURqQix1QkFBQTs7O0lBSVAsS0FBSyxPQUFPO01BQ1YsUUFBUTtRQUNOLFdBQVcsS0FBSztRQUNoQixVQUFVLEtBQUs7O01BRWpCLE1BQU07TUFDTixNQUFNO01BQ04sdUJBQXVCOzs7O0VBc0IzQixhQUFhLFlBQVksQ0FBQztJQUN4QixLQUFLO0lBQ0wsT0FBTyxTQUFTLFFBcEJWLEtBQUs7TUFDWCxJQUFJO01BQ0osSUFBSTtNQUNKLElBQUksS0FBSyxLQUFLLGVBQWUsTUFBTTtRQUFBLElBQ3hCLFFBQVQsU0FBUyxNQUFNLFFBQU87VUFDcEIsSUFBSSxXQUFXLE9BQU87VUFDdEIsSUFBSSxVQUFVOzs7UUFFaEIsSUFBSSxTQUFTLElBQUksS0FBSztRQUN0QixPQUFPLElBQUk7YUFDTjtRQUNMLElBQUksUUFBUSxJQUFJLEtBQUssTUFBTSxLQUFLLFdBQVUsS0FBSztRQUMvQyxJQUFJLEtBQUssV0FBVyxZQUNoQixPQUFPLFVBQVMsSUFBRztVQUNqQixJQUFJLFVBQVUsR0FBRyxrQkFBa0I7OztNQUczQyxJQUFJLE9BQU87TUFDWCxJQUFJLGlCQUFpQixTQUFRLFVBQVMsR0FBRTtRQUN0QyxJQUFJLEtBQUssRUFBRTtRQUNYLEtBQUssV0FBVyxHQUFHO1FBQ25CLEtBQUssWUFBWSxHQUFHO1FBQ3BCLElBQUksS0FBSyxXQUFXLFlBQ2xCLElBQUksVUFBUyxJQUFHO1VBQ2hCLElBQUksVUFBVSxHQUFHO1VBQ2pCLElBQUksSUFBSSxRQUFRLFFBQVEsV0FBVyxPQUFPLFFBQVEsT0FBTyxPQUFPLFFBQVEsV0FBVyxPQUFPLFFBQVEsU0FBUyxPQUFPLFFBQVE7VUFDMUgsSUFBSSxHQUFHO1lBQ0wsS0FBSyxTQUFTLElBQUk7Y0FDaEIsSUFBSSxLQUFLLEtBQUs7Y0FDZCxTQUFTLFFBQVEsV0FBVyxRQUFRLE9BQU8sUUFBUSxXQUFXLFFBQVEsU0FBUyxRQUFRO2NBQ3ZGLGFBQWEsS0FBSyxZQUFXLE1BQU0sS0FBSztlQUN2QyxLQUFLLFVBQUEsTUFBUTtjQUNkLEtBQUs7Y0FDTCxLQUFLLFFBQVEsUUFBUTtjQUNyQixLQUFLLE9BQU87Ozs7OztLQXlCbkI7SUFDRCxLQUFLO0lBQ0wsT0FBTyxTQUFTLFNBcEJUO01BQ1AsS0FBSyxlQUFlOzs7O0VBd0J0QixPQUFPOzs7QUFHVCxRQUFRLFVBdkdhO3N5TkF3R2l4Tjs7QUN4R3R5Tjs7QUFFQSxPQUFPLGVBQWUsU0FBUyxjQUFjO0VBQzNDLE9BQU87OztBQUhULElBQUEsUUFBQSxRQUFBOztBQVFBLElBQUksU0FBUyx1QkFBdUI7O0FBRXBDLFNBQVMsdUJBQXVCLEtBQUssRUFBRSxPQUFPLE9BQU8sSUFBSSxhQUFhLE1BQU0sRUFBRSxTQUFTOztBQVJ2RixJQUFNLGdCQUFnQjtFQUNwQixhQUFhO0VBQ2IsWUFBQSxPQUFBO0VBQ0EsY0FBYzs7O0FBYWhCLFFBQVEsVUFWTzswcEJBVzJvQjs7QUNuQjFwQjs7QUFFQSxPQUFPLGVBQWUsU0FBUyxjQUFjO0VBQzNDLE9BQU87OztBQUhULElBQUEsV0FBQSxRQUFBOztBQVFBLElBQUksWUFBWSx1QkFBdUI7O0FBUHZDLElBQUEsYUFBQSxRQUFBOztBQVdBLElBQUksY0FBYyx1QkFBdUI7O0FBVnpDLElBQUEsVUFBQSxRQUFBOztBQWNBLElBQUksV0FBVyx1QkFBdUI7O0FBYnRDLElBQUEsV0FBQSxRQUFBOztBQWlCQSxJQUFJLFlBQVksdUJBQXVCOztBQWhCdkMsSUFBQSxRQUFBLFFBQUE7O0FBb0JBLElBQUksU0FBUyx1QkFBdUI7O0FBbkJwQyxJQUFBLG1CQUFBLFFBQUE7O0FBdUJBLFNBQVMsdUJBQXVCLEtBQUssRUFBRSxPQUFPLE9BQU8sSUFBSSxhQUFhLE1BQU0sRUFBRSxTQUFTOzs7OztBQUt2RixRQUFRLFVBckJPLFVBQUEsUUFBUSxPQUFPLG9CQUFvQixDQUFBLGlCQUFBOztDQUVqRCxRQUFRLGVBRk0sVUFBQSxTQUlkLFVBQVUsWUFKSSxPQUFBLFNBS2QsT0FMYyxTQUFBOzs7Oztzd0NBNEJ1dkM7O0FDeEN0d0M7O0FBRUEsT0FBTyxlQUFlLFNBQVMsY0FBYztFQUMzQyxPQUFPOzs7QUFHVCxJQUFJLGVBQWUsWUFBWSxFQUFFLFNBQVMsaUJBQWlCLFFBQVEsT0FBTyxFQUFFLEtBQUssSUFBSSxJQUFJLEdBQUcsSUFBSSxNQUFNLFFBQVEsS0FBSyxFQUFFLElBQUksYUFBYSxNQUFNLElBQUksV0FBVyxhQUFhLFdBQVcsY0FBYyxPQUFPLFdBQVcsZUFBZSxNQUFNLElBQUksV0FBVyxZQUFZLFdBQVcsV0FBVyxNQUFNLE9BQU8sZUFBZSxRQUFRLFdBQVcsS0FBSyxpQkFBaUIsT0FBTyxVQUFVLGFBQWEsWUFBWSxhQUFhLEVBQUUsSUFBSSxZQUFZLGlCQUFpQixZQUFZLFdBQVcsYUFBYSxJQUFJLGFBQWEsaUJBQWlCLGFBQWEsY0FBYyxPQUFPOztBQUVoaUIsU0FBUyxnQkFBZ0IsVUFBVSxhQUFhLEVBQUUsSUFBSSxFQUFFLG9CQUFvQixjQUFjLEVBQUUsTUFBTSxJQUFJLFVBQVU7OzsrRUFFaEgsSUFWcUIsVUFVUCxZQUFZO0VBVHhCLFNBQUEsUUFBWSxPQUFPLFlBQVksWUFBWSxRQUFRLFFBQVE7SUFDekQ7O0lBRHlELGdCQUFBLE1BQUE7O0lBR3pELEtBQUssUUFBUTs7SUFFYixLQUFLLGNBQWM7O0lBRW5CLEtBQUssT0FBTyxPQUFPOztJQUVuQixLQUFLLGFBQWE7SUFDbEIsS0FBSyxTQUFTOzs7RUFlaEIsYUFBYSxTQUFTLENBQUM7SUFDckIsS0FBSztJQUNMLE9BQU8sU0FBUyxLQWRiLFFBQVE7O01BRVgsS0FBSyxZQUFZLFFBQVE7O01BRXpCLE9BQU8sS0FBSyxNQUFNLEtBQUssS0FBSyxLQUFLLEtBQUssUUFBUSxLQUFLLEtBQUssWUFBWSxRQUFTLEtBQUssWUFBWTs7S0FnQjdGO0lBQ0QsS0FBSztJQUNMLE9BQU8sU0FBUyxJQWZkLFFBQVE7O01BRVYsS0FBSyxZQUFZLFFBQVE7O01BRXpCLE9BQU8sS0FBSyxNQUFNLEtBQUssS0FBSyxLQUFLLEtBQUssUUFBUSxLQUFLLEtBQUssWUFBWSxRQUFTLEtBQUssWUFBWTs7S0FpQjdGO0lBQ0QsS0FBSztJQUNMLE9BQU8sU0FBUyxJQWZkLFFBQVE7O01BRVYsS0FBSyxZQUFZLFFBQVE7O01BRXpCLE9BQU8sS0FBSyxNQUFNLEtBQUssS0FBSyxLQUFLLEtBQUssUUFBUSxLQUFLLEtBQUssWUFBWSxRQUFTLEtBQUssWUFBWTs7OztFQW1CaEcsT0FBTzs7O0FBR1QsUUFBUSxVQXZEYTs4dkZBd0R5dUY7O0FDeEQ5dkY7O0FBRUEsT0FBTyxlQUFlLFNBQVMsY0FBYztFQUMzQyxPQUFPOzs7QUFHVCxJQUFJLGVBQWUsWUFBWSxFQUFFLFNBQVMsaUJBQWlCLFFBQVEsT0FBTyxFQUFFLEtBQUssSUFBSSxJQUFJLEdBQUcsSUFBSSxNQUFNLFFBQVEsS0FBSyxFQUFFLElBQUksYUFBYSxNQUFNLElBQUksV0FBVyxhQUFhLFdBQVcsY0FBYyxPQUFPLFdBQVcsZUFBZSxNQUFNLElBQUksV0FBVyxZQUFZLFdBQVcsV0FBVyxNQUFNLE9BQU8sZUFBZSxRQUFRLFdBQVcsS0FBSyxpQkFBaUIsT0FBTyxVQUFVLGFBQWEsWUFBWSxhQUFhLEVBQUUsSUFBSSxZQUFZLGlCQUFpQixZQUFZLFdBQVcsYUFBYSxJQUFJLGFBQWEsaUJBQWlCLGFBQWEsY0FBYyxPQUFPOztBQUVoaUIsU0FBUyxnQkFBZ0IsVUFBVSxhQUFhLEVBQUUsSUFBSSxFQUFFLG9CQUFvQixjQUFjLEVBQUUsTUFBTSxJQUFJLFVBQVU7Ozt1R0FFaEgsSUFWYSxzQkFVYSxRQVZiLHNCQVUyQyxZQUFZO0VBUmxFLFNBQUEsb0JBQVksWUFBWSxRQUFRLGFBQWEsYUFBYSxhQUFhO0lBQ3JFOztJQURxRSxJQUFBLFFBQUE7O0lBQUEsZ0JBQUEsTUFBQTs7SUFHckUsS0FBSyxPQUFPOztJQUVaLEtBQUssT0FBTyxhQUNaLDREQUNBLHNFQUNBOztJQUVELElBQUksbUJBQW1CLE9BQU8sT0FBTyxXQUFXLFlBQU07TUFDckQsUUFBUSxJQUFJLE9BQU8sTUFBSzs7TUFFdEIsTUFBSyxPQUFPLE9BQU8sTUFBSzs7Ozs7SUFLMUIsT0FBTyxJQUFJLFlBQVk7O0lBRXZCLEtBQUs7OztFQWFQLGFBQWEscUJBQXFCLENBQUM7SUFDakMsS0FBSztJQUNMLE9BQU8sU0FBUyxPQVhYOzs7RUFjUCxPQUFPOzs7QUFQRixJQUFNLFlBQUEsUUFBQSxZQUFZO0VBQ3ZCLGFBQWE7RUFDYixZQUFZO0VBQ1osY0FBYzs7MDBFQVkwekU7O0FDaEQxMEU7O0FBRUEsT0FBTyxlQUFlLFNBQVMsY0FBYztFQUMzQyxPQUFPOzs7QUFIVCxJQUFBLFdBQUEsUUFBQTs7QUFRQSxJQUFJLFlBQVksdUJBQXVCOztBQVB2QyxJQUFBLGFBQUEsUUFBQTs7QUFDQSxJQUFBLGNBQUEsUUFBQTs7QUFZQSxJQUFJLGNBQWMsdUJBQXVCOztBQUV6QyxTQUFTLHVCQUF1QixLQUFLLEVBQUUsT0FBTyxPQUFPLElBQUksYUFBYSxNQUFNLEVBQUUsU0FBUzs7QUFFdkYsUUFBUSxVQWJPLFVBQUEsUUFBUSxPQUFPLHlCQUF5Qjs7Q0FFdEQsVUFBVSxhQUZJLFdBQUE7a3dCQWdCbXZCOztBQ3JCbHdCOztBQUVBLE9BQU8sZUFBZSxTQUFTLGNBQWM7RUFDM0MsT0FBTzs7O0FBR1QsU0FBUyxnQkFBZ0IsVUFBVSxhQUFhLEVBQUUsSUFBSSxFQUFFLG9CQUFvQixjQUFjLEVBQUUsTUFBTSxJQUFJLFVBQVU7O0FBRWhILElBUnFCLG1CQUVuQixTQUFBLGlCQUFZLGFBQWEsYUFBYSxZQUFZLE9BQU87RUFDdkQ7O0VBRHVELGdCQUFBLE1BQUE7Ozs7QUFZM0QsUUFBUSxVQWRhO3NvQkFlaW5COztBQ2Z0b0I7O0FBRUEsT0FBTyxlQUFlLFNBQVMsY0FBYztFQUMzQyxPQUFPOzs7QUFHVCxJQUFJLGVBQWUsWUFBWSxFQUFFLFNBQVMsaUJBQWlCLFFBQVEsT0FBTyxFQUFFLEtBQUssSUFBSSxJQUFJLEdBQUcsSUFBSSxNQUFNLFFBQVEsS0FBSyxFQUFFLElBQUksYUFBYSxNQUFNLElBQUksV0FBVyxhQUFhLFdBQVcsY0FBYyxPQUFPLFdBQVcsZUFBZSxNQUFNLElBQUksV0FBVyxZQUFZLFdBQVcsV0FBVyxNQUFNLE9BQU8sZUFBZSxRQUFRLFdBQVcsS0FBSyxpQkFBaUIsT0FBTyxVQUFVLGFBQWEsWUFBWSxhQUFhLEVBQUUsSUFBSSxZQUFZLGlCQUFpQixZQUFZLFdBQVcsYUFBYSxJQUFJLGFBQWEsaUJBQWlCLGFBQWEsY0FBYyxPQUFPOztBQUVoaUIsU0FBUyxnQkFBZ0IsVUFBVSxhQUFhLEVBQUUsSUFBSSxFQUFFLG9CQUFvQixjQUFjLEVBQUUsTUFBTSxJQUFJLFVBQVU7OztpSEFFaEgsSUFUTSxpQkFTZSxZQUFZO0VBUC9CLFNBQUEsZUFBWSxZQUFZLFFBQVEsUUFBUSxhQUFhLGVBQWUsZ0JBQWdCO0lBQ2xGOztJQURrRixnQkFBQSxNQUFBOztJQUdsRixLQUFLLFNBQVM7SUFDZCxLQUFLLGtCQUFrQjtJQUN2QixLQUFLLG1CQUFtQjs7SUFFeEIsS0FBSyxXQUFXO0lBQ2hCLEtBQUssV0FBVyxlQUFlOztJQUUvQixLQUFLLFNBQVM7SUFDZCxLQUFLLFVBQVU7O0lBRWYsS0FBSyxNQUFNLFlBQVk7SUFDdkIsS0FBSyxVQUFVLFlBQVk7OztJQUczQixLQUFLO0lBQ0wsS0FBSzs7O0VBYVAsYUFBYSxnQkFBZ0IsQ0FBQztJQUM1QixLQUFLO0lBQ0wsT0FBTyxTQUFTLE9BWFg7TUFBQSxJQUFBLFFBQUE7O01BRUwsS0FBSyxTQUFTLElBQUksS0FBSyxLQUFLLEtBQUssVUFBQSxNQUFRO1FBQ3ZDLElBQUcsTUFBTTtVQUNQLE1BQUssU0FBUyxRQUFRLFNBQVM7Ozs7S0FnQmxDO0lBQ0QsS0FBSztJQUNMLE9BQU8sU0FBUyxlQWJIOztNQUViLElBQUksU0FBUyxLQUFLOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7TUF3QmxCLElBQUksU0FBVSxLQUFLO01BQ25CLEtBQUssT0FBTyxPQUFPLE9BQU87O0tBZXpCO0lBQ0QsS0FBSztJQUNMLE9BQU8sU0FBUyx5QkFiTyxNQUFNOztNQUU3QixPQUFPLEtBQUssaUJBQWlCOztLQWU1QjtJQUNELEtBQUs7SUFDTCxPQUFPLFNBQVMsdUJBYks7O01BRXJCLE9BQU8sS0FBSyxPQUFPLE1BQU0sT0FBTyxVQUFBLE1BQUE7UUFBQSxPQUFRLEtBQUssUUFBUSxLQUFLOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0tBb0N6RDtJQUNELEtBQUs7SUFDTCxPQUFPLFNBQVMsdUJBZks7TUFDckIsT0FBTyxDQUNMO1FBQ0UsTUFBTTtRQUNOLE9BQU87U0FFVDtRQUNFLE1BQU07UUFDTixPQUFPO1NBRVQ7UUFDRSxNQUFNO1FBQ04sT0FBTztTQUVUO1FBQ0UsTUFBTTtRQUNOLE9BQU87OztLQWNWO0lBQ0QsS0FBSztJQUNMLE9BQU8sU0FBUyxpQkFWRCxhQUFhO01BQUEsSUFBQSxTQUFBOztNQUU1QixJQUFJLFNBQVM7TUFDYixZQUFZLFdBQVcsWUFBWSxRQUFRLFFBQVEsVUFBQSxTQUFXO1FBQzVELFFBQVEsWUFBWSxPQUFPLEtBQUssUUFBUTtRQUN4QyxPQUFLLGlCQUFpQjs7TUFFeEIsT0FBTzs7S0FhTjtJQUNELEtBQUs7SUFDTCxPQUFPLFNBQVMsU0FYVDtNQUFBLElBQUEsU0FBQTs7TUFDUCxRQUFRLElBQUk7TUFDWixRQUFRLElBQUksS0FBSzs7TUFFakIsS0FBSyxTQUFTLElBQUk7UUFDaEIsS0FBSyxLQUFLO1FBQ1YsT0FBTyxRQUFRLE9BQU8sS0FBSztTQUMxQixLQUFLLFVBQUEsTUFBUTtRQUNkLE9BQUssUUFBUSxRQUFROzs7OztFQWtCekIsT0FBTzs7O0FBR1QsUUFBUSxVQWZPO2svUEFnQm0rUDs7QUMvSmwvUDs7QUFFQSxPQUFPLGVBQWUsU0FBUyxjQUFjO0VBQzNDLE9BQU87OztBQUhULElBQUEsUUFBQSxRQUFBOztBQVFBLElBQUksU0FBUyx1QkFBdUI7O0FBRXBDLFNBQVMsdUJBQXVCLEtBQUssRUFBRSxPQUFPLE9BQU8sSUFBSSxhQUFhLE1BQU0sRUFBRSxTQUFTOztBQVJ2RixJQUFNLFdBQVc7RUFDZixhQUFhO0VBQ2IsWUFBQSxPQUFBO0VBQ0EsY0FBYzs7O0FBYWhCLFFBQVEsVUFWTztrb0JBV21uQjs7QUNuQmxvQjs7QUFFQSxPQUFPLGVBQWUsU0FBUyxjQUFjO0VBQzNDLE9BQU87OztBQUdULFNBQVMsZ0JBQWdCLFVBQVUsYUFBYSxFQUFFLElBQUksRUFBRSxvQkFBb0IsY0FBYyxFQUFFLE1BQU0sSUFBSSxVQUFVOztBQUVoSCxJQVJNLGFBRUosU0FBQSxhQUFjO0VBQ1o7O0VBRFksZ0JBQUEsTUFBQTs7RUFFWixLQUFLLE9BQU87OztBQVloQixRQUFRLFVBUk87c2RBU3VjOztBQ2pCdGQ7O0FBRUEsT0FBTyxlQUFlLFNBQVMsY0FBYztFQUMzQyxPQUFPOzs7QUFIVCxJQUFBLFFBQUEsUUFBQTs7QUFRQSxJQUFJLFNBQVMsdUJBQXVCOztBQUVwQyxTQUFTLHVCQUF1QixLQUFLLEVBQUUsT0FBTyxPQUFPLElBQUksYUFBYSxNQUFNLEVBQUUsU0FBUzs7QUFSdkYsSUFBTSxZQUFZO0VBQ2pCLGFBQWE7RUFDWixZQUFBLE9BQUE7RUFDQSxjQUFjOzs7QUFhaEIsUUFBUSxVQVZPOzhtQkFXK2xCOztBQ25COW1COzs7QUFFQSxPQUFPLGVBQWUsU0FBUyxjQUFjO0VBQzNDLE9BQU87O0FBSFQsU0FBUyxXQUFXLGdCQUFnQjtFQUNsQzs7RUFFQSxlQUNHLE1BQU0sVUFBVTtJQUNiLEtBQUs7O0lBRUwsVUFBVztJQUNYLE9BQU87SUFDUCxhQUFhO01BQ1gsTUFBTTtNQUNOLE9BQU87Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQWtDakIsUUFBUSxVQUhPO3NvRUFJdW5FOztBQzlDdG9FOztBQUVBLE9BQU8sZUFBZSxTQUFTLGNBQWM7RUFDM0MsT0FBTzs7O0FBSFQsSUFBQSxXQUFBLFFBQUE7O0FBUUEsSUFBSSxZQUFZLHVCQUF1Qjs7QUFQdkMsSUFBQSxRQUFBLFFBQUE7O0FBV0EsSUFBSSxTQUFTLHVCQUF1Qjs7QUFWcEMsSUFBQSxRQUFBLFFBQUE7O0FBY0EsSUFBSSxTQUFTLHVCQUF1Qjs7QUFicEMsSUFBQSxhQUFBLFFBQUE7O0FBaUJBLElBQUksY0FBYyx1QkFBdUI7O0FBaEJ6QyxJQUFBLFVBQUEsUUFBQTs7QUFvQkEsSUFBSSxXQUFXLHVCQUF1Qjs7QUFFdEMsU0FBUyx1QkFBdUIsS0FBSyxFQUFFLE9BQU8sT0FBTyxJQUFJLGFBQWEsTUFBTSxFQUFFLFNBQVM7Ozs7O0FBS3ZGLFFBQVEsVUFyQk8sVUFBQSxRQUFRLE9BQU8sb0JBQW9COzs7Q0FHakQsVUFBVSxZQUhJLE9BQUEsU0FJZCxVQUFVLGlCQUpJLFlBQUEsU0FLZCxVQUFVLGNBTEksU0FBQSxTQU1kLE9BTmMsT0FBQTtza0NBeUJ1akM7O0FDbkN0a0M7O0FBRUEsT0FBTyxlQUFlLFNBQVMsY0FBYztFQUMzQyxPQUFPOzs7QUFHVCxJQUFJLFdBQVcsT0FBTyxVQUFVLFVBQVUsUUFBUSxFQUFFLEtBQUssSUFBSSxJQUFJLEdBQUcsSUFBSSxVQUFVLFFBQVEsS0FBSyxFQUFFLElBQUksU0FBUyxVQUFVLElBQUksS0FBSyxJQUFJLE9BQU8sUUFBUSxFQUFFLElBQUksT0FBTyxVQUFVLGVBQWUsS0FBSyxRQUFRLE1BQU0sRUFBRSxPQUFPLE9BQU8sT0FBTyxZQUFZLE9BQU87O0FBRXZQLElBQUksZUFBZSxZQUFZLEVBQUUsU0FBUyxpQkFBaUIsUUFBUSxPQUFPLEVBQUUsS0FBSyxJQUFJLElBQUksR0FBRyxJQUFJLE1BQU0sUUFBUSxLQUFLLEVBQUUsSUFBSSxhQUFhLE1BQU0sSUFBSSxXQUFXLGFBQWEsV0FBVyxjQUFjLE9BQU8sV0FBVyxlQUFlLE1BQU0sSUFBSSxXQUFXLFlBQVksV0FBVyxXQUFXLE1BQU0sT0FBTyxlQUFlLFFBQVEsV0FBVyxLQUFLLGlCQUFpQixPQUFPLFVBQVUsYUFBYSxZQUFZLGFBQWEsRUFBRSxJQUFJLFlBQVksaUJBQWlCLFlBQVksV0FBVyxhQUFhLElBQUksYUFBYSxpQkFBaUIsYUFBYSxjQUFjLE9BQU87O0FBUmhpQixJQUFBLGdCQUFBLFFBQUE7O0FBWUEsSUFBSSxpQkFBaUIsdUJBQXVCOztBQVg1QyxJQUFBLFVBQUEsUUFBQTs7QUFlQSxTQUFTLHVCQUF1QixLQUFLLEVBQUUsT0FBTyxPQUFPLElBQUksYUFBYSxNQUFNLEVBQUUsU0FBUzs7QUFFdkYsU0FBUyxnQkFBZ0IsVUFBVSxhQUFhLEVBQUUsSUFBSSxFQUFFLG9CQUFvQixjQUFjLEVBQUUsTUFBTSxJQUFJLFVBQVU7O0FBRWhILFNBQVMsMkJBQTJCLE1BQU0sTUFBTSxFQUFFLElBQUksQ0FBQyxNQUFNLEVBQUUsTUFBTSxJQUFJLGVBQWUsZ0VBQWdFLE9BQU8sU0FBUyxPQUFPLFNBQVMsWUFBWSxPQUFPLFNBQVMsY0FBYyxPQUFPOztBQUV6TyxTQUFTLFVBQVUsVUFBVSxZQUFZLEVBQUUsSUFBSSxPQUFPLGVBQWUsY0FBYyxlQUFlLE1BQU0sRUFBRSxNQUFNLElBQUksVUFBVSw2REFBNkQsT0FBTyxlQUFlLFNBQVMsWUFBWSxPQUFPLE9BQU8sY0FBYyxXQUFXLFdBQVcsRUFBRSxhQUFhLEVBQUUsT0FBTyxVQUFVLFlBQVksT0FBTyxVQUFVLE1BQU0sY0FBYyxXQUFXLElBQUksWUFBWSxPQUFPLGlCQUFpQixPQUFPLGVBQWUsVUFBVSxjQUFjLFNBQVMsWUFBWTs7O21HQUVqZSxJQXJCTSxpQkFxQmUsVUFBVSxhQUFhO0VBQzFDLFVBQVUsZ0JBQWdCOztFQXBCMUIsU0FBQSxlQUFZLFdBQVcsV0FBVyxjQUFjLFdBQVcsYUFBYTtJQUN0RTs7SUFEc0UsZ0JBQUEsTUFBQTs7SUFBQSxJQUFBLFFBQUEsMkJBQUEsTUFBQSxDQUFBLGVBQUEsYUFBQSxPQUFBLGVBQUEsaUJBQUEsS0FBQSxNQUdoRTs7SUFFTixNQUFLLFlBQVk7SUFDakIsTUFBSyxlQUFlO0lBQ3BCLE1BQUssU0FBUzs7SUFHZCxNQUFLLGFBQWEsWUFBWTtJQUM5QixNQUFLLFVBQVU7O0lBRWYsTUFBSyxhQUFhOztJQUVsQixNQUFLLFdBQVc7SUFDaEIsTUFBSyxvQkFBb0I7SUFDekIsTUFBSyxrQkFBa0I7O0lBRXZCLE1BQUs7O0lBbkJpRSxPQUFBOzs7RUErQ3hFLGFBQWEsZ0JBQWdCLENBQUM7SUFDNUIsS0FBSztJQUNMLE9BQU8sU0FBUyxRQTFCVjs7TUFFTixLQUFLO01BQ0wsS0FBSzs7S0E0Qko7SUFDRCxLQUFLO0lBQ0wsT0FBTyxTQUFTLGVBMUJIOztNQUViLElBQU0sY0FBYyxLQUFLOztNQUV6QixLQUFLLFFBQVEsU0FBUyxDQUFDLFlBQVksVUFBVSxLQUFLOztNQUVsRCxLQUFLLFFBQVEsVUFBVSxZQUFZLFdBQVcsS0FBSzs7S0E0QmxEO0lBQ0QsS0FBSztJQUNMLE9BQU8sU0FBUyxXQTFCUDs7TUFFVCxJQUFJLFNBQVMsS0FBSztNQUNsQixPQUFPLFdBQVcsS0FBSyxXQUFXO01BQ2xDLE9BQU8sT0FBTyxLQUFLLFdBQVc7O01BRTlCLEtBQUssT0FBTyxDQUFDLEVBQUMsTUFBTSxRQUFRLFFBQVEsVUFBVSxLQUFLLFFBQU8sRUFBQyxNQUFNLFVBQVUsUUFBUSxPQUFPLEtBQUs7TUFDL0YsS0FBSyxXQUFXLFFBQVE7O0tBNEJ2QjtJQUNELEtBQUs7SUFDTCxPQUFPLFNBQVMsV0ExQlA7TUFDVCxJQUFJLE9BQU87TUFDWCxLQUFLLFVBQVUsT0FBZixTQUFBLElBQTBCLEtBQUsscUJBQS9CLEVBQW9ELE1BQUE7O0tBNEJuRDtJQUNELEtBQUs7SUFDTCxPQUFPLFNBQVMsUUEzQlgsS0FBSyxPQUFPOztNQUVqQixJQUFHLENBQUMsS0FBSztRQUNQLE9BQU87OztNQUdULEtBQUssUUFBUSxPQUFPOztNQUVwQixLQUFLOztLQTZCSjtJQUNELEtBQUs7SUFDTCxPQUFPLFNBQVMsS0E1QmIsTUFBTTtNQUNULElBQU0sVUFBVTtRQUNkLE1BQU0sU0FBQSxPQUFVO1VBQ2QsT0FBTzs7OztNQUlYLElBQU0sVUFBQSxTQUFBLElBQUEsUUFBQSxtQkFBQSxFQUFpQyxTQUFBOztNQUV2QyxLQUFLLE9BQU8sS0FBTTs7Ozs7S0FpQ2pCO0lBQ0QsS0FBSztJQUNMLE9BQU8sU0FBUyxXQTlCUCxNQUFNO01BQ2YsSUFBSSxTQUFTO1FBQ1QsU0FBUztRQUNULFNBQVM7O01BRWIsSUFBSSxRQUFRLFNBQVM7UUFDbkIsS0FBSyxRQUFRLGFBQWEsS0FBSyxXQUFXLE9BQU87UUFDakQsS0FBSyxrQkFBa0IsS0FBSztRQUM1QixPQUFPLFVBQVUsS0FBSztRQUN0QixPQUFPLFVBQVU7YUFDWjtRQUNMLEtBQUssUUFBUSxXQUFXLEtBQUssU0FBUyxPQUFPO1FBQzdDLEtBQUssb0JBQW9CLEtBQUs7UUFDOUIsT0FBTyxVQUFVLEtBQUs7Ozs7O0VBbUMxQixPQUFPO0VBQ1AsZUFBZTs7QUFFakIsUUFBUSxVQWhDTztrek1BaUNteU07O0FDMUlsek07O0FBRUEsT0FBTyxlQUFlLFNBQVMsY0FBYztFQUMzQyxPQUFPOzs7QUFIVCxJQUFBLFFBQUEsUUFBQTs7QUFRQSxJQUFJLFNBQVMsdUJBQXVCOztBQUVwQyxTQUFTLHVCQUF1QixLQUFLLEVBQUUsT0FBTyxPQUFPLElBQUksYUFBYSxNQUFNLEVBQUUsU0FBUzs7QUFSdkYsSUFBTSxXQUFXO0VBQ2YsYUFBYTtFQUNiLFlBQUEsT0FBQTtFQUNBLGNBQWM7OztBQWFoQixRQUFRLFVBVk87a29CQVdtbkI7O0FDbkJsb0I7O0FBRUEsT0FBTyxlQUFlLFNBQVMsY0FBYztFQUMzQyxPQUFPOzs7QUFHVCxJQUFJLGVBQWUsWUFBWSxFQUFFLFNBQVMsaUJBQWlCLFFBQVEsT0FBTyxFQUFFLEtBQUssSUFBSSxJQUFJLEdBQUcsSUFBSSxNQUFNLFFBQVEsS0FBSyxFQUFFLElBQUksYUFBYSxNQUFNLElBQUksV0FBVyxhQUFhLFdBQVcsY0FBYyxPQUFPLFdBQVcsZUFBZSxNQUFNLElBQUksV0FBVyxZQUFZLFdBQVcsV0FBVyxNQUFNLE9BQU8sZUFBZSxRQUFRLFdBQVcsS0FBSyxpQkFBaUIsT0FBTyxVQUFVLGFBQWEsWUFBWSxhQUFhLEVBQUUsSUFBSSxZQUFZLGlCQUFpQixZQUFZLFdBQVcsYUFBYSxJQUFJLGFBQWEsaUJBQWlCLGFBQWEsY0FBYyxPQUFPOztBQUVoaUIsU0FBUyxnQkFBZ0IsVUFBVSxhQUFhLEVBQUUsSUFBSSxFQUFFLG9CQUFvQixjQUFjLEVBQUUsTUFBTSxJQUFJLFVBQVU7Ozs2RkFFaEgsSUFWcUIsaUJBVUEsWUFBWTtFQVQvQixTQUFBLGVBQVksUUFBUSxhQUFhLG1CQUFtQixRQUFRLE1BQU07SUFDaEU7O0lBRGdFLGdCQUFBLE1BQUE7O0lBR2hFLEtBQUssU0FBUzs7SUFFZCxLQUFLLHNCQUFzQjs7SUFFM0IsS0FBSyxpQkFBaUI7SUFDdEIsS0FBSyxVQUFVOztJQUVmLEtBQUssT0FBTzs7O0VBZWQsYUFBYSxnQkFBZ0IsQ0FBQztJQUM1QixLQUFLO0lBQ0wsT0FBTyxTQUFTLFNBWFQ7TUFDUCxLQUFLLGVBQWU7O0tBYW5CO0lBQ0QsS0FBSztJQUNMLE9BQU8sU0FBUyxPQVpYLE1BQU07TUFBQSxJQUFBLFFBQUE7OztNQUVYLEtBQUssb0JBQW9CLFNBQVMsTUFBTSxRQUFRLFlBQU07UUFDcEQsTUFBSzs7O0tBaUJOO0lBQ0QsS0FBSztJQUNMLE9BQU8sU0FBUyxXQWZQOzs7RUFrQlgsT0FBTzs7O0FBR1QsUUFBUSxVQWpEYTs4dERBa0R5c0Q7O0FDbEQ5dEQ7O0FBRUEsT0FBTyxlQUFlLFNBQVMsY0FBYztFQUMzQyxPQUFPOzs7QUFIVCxJQUFBLFFBQUEsUUFBQTs7QUFRQSxJQUFJLFNBQVMsdUJBQXVCOztBQUVwQyxTQUFTLHVCQUF1QixLQUFLLEVBQUUsT0FBTyxPQUFPLElBQUksYUFBYSxNQUFNLEVBQUUsU0FBUzs7QUFSdkYsSUFBTSxvQkFBb0I7RUFDeEIsYUFBYTtFQUNiLFlBQUEsT0FBQTtFQUNBLGNBQWM7OztBQWFoQixRQUFRLFVBVk87c3JCQVd1cUI7O0FDbkJ0ckI7O0FBRUEsT0FBTyxlQUFlLFNBQVMsY0FBYztFQUMzQyxPQUFPOztBQUVULFFBQVEsb0JBQW9COztBQUw1QixJQUFBLFFBQUEsUUFBQTs7QUFTQSxJQUFJLFNBQVMsdUJBQXVCOztBQUVwQyxTQUFTLHVCQUF1QixLQUFLLEVBQUUsT0FBTyxPQUFPLElBQUksYUFBYSxNQUFNLEVBQUUsU0FBUzs7QUFFdkYsUUFWRSxvQkFVMEIsT0FBTzswVkFDdVQ7O0FDZDFWOzs7QUFFQSxPQUFPLGVBQWUsU0FBUyxjQUFjO0lBQ3pDLE9BQU87O0FBSFgsU0FBUyxPQUFPLGdCQUFnQjtJQUM5Qjs7SUFFQSxlQUNHLE1BQU0sY0FBYztRQUNqQixLQUFLOztRQUVMLFVBQVc7UUFDWCxPQUFPO1FBQ1AsYUFBYTtZQUNYLE1BQU07WUFDTixPQUFPOzs7Ozs7Ozs7OztLQVdaLE1BQU0scUJBQXFCO1FBQ3hCLEtBQUs7UUFDTCxVQUFVO1FBQ1YsT0FBTzs7OztBQVFmLFFBQVEsVUFGTztzN0RBR3U2RDs7QUNsQ3Q3RDs7QUFFQSxPQUFPLGVBQWUsU0FBUyxjQUFjO0VBQzNDLE9BQU87OztBQUdULElBQUksZUFBZSxZQUFZLEVBQUUsU0FBUyxpQkFBaUIsUUFBUSxPQUFPLEVBQUUsS0FBSyxJQUFJLElBQUksR0FBRyxJQUFJLE1BQU0sUUFBUSxLQUFLLEVBQUUsSUFBSSxhQUFhLE1BQU0sSUFBSSxXQUFXLGFBQWEsV0FBVyxjQUFjLE9BQU8sV0FBVyxlQUFlLE1BQU0sSUFBSSxXQUFXLFlBQVksV0FBVyxXQUFXLE1BQU0sT0FBTyxlQUFlLFFBQVEsV0FBVyxLQUFLLGlCQUFpQixPQUFPLFVBQVUsYUFBYSxZQUFZLGFBQWEsRUFBRSxJQUFJLFlBQVksaUJBQWlCLFlBQVksV0FBVyxhQUFhLElBQUksYUFBYSxpQkFBaUIsYUFBYSxjQUFjLE9BQU87O0FBRWhpQixTQUFTLGdCQUFnQixVQUFVLGFBQWEsRUFBRSxJQUFJLEVBQUUsb0JBQW9CLGNBQWMsRUFBRSxNQUFNLElBQUksVUFBVTs7Ozs7Ozt5SEFNaEgsSUFWTSxhQVVXLFlBQVk7RUFSM0IsU0FBQSxXQUFZLFdBQVcsUUFBUSxXQUFXLGNBQWMsUUFBUSxXQUFXLG1CQUFtQjtJQUM1Rjs7SUFENEYsZ0JBQUEsTUFBQTs7SUFHNUYsS0FBSyxTQUFTO0lBQ2QsS0FBSyxZQUFZO0lBQ2pCLEtBQUssZUFBZTtJQUNwQixLQUFLLFNBQVM7O0lBRWQsS0FBSyxVQUFVOztJQUVmLEtBQUssV0FBVzs7SUFFaEIsS0FBSyxLQUFLLGFBQWE7O0lBRXZCLEtBQUssT0FBTzs7SUFFWixLQUFLOzs7RUFjUCxhQUFhLFlBQVksQ0FBQztJQUN4QixLQUFLO0lBQ0wsT0FBTyxTQUFTLFFBWlY7O01BRU4sS0FBSzs7S0FjSjtJQUNELEtBQUs7SUFDTCxPQUFPLFNBQVMsYUFaTDtNQUFBLElBQUEsUUFBQTs7TUFFWCxLQUFLLFNBQVMsSUFBSSxLQUFLLElBQUksS0FBSyxVQUFBLE1BQVE7O1FBRXRDLE1BQUssT0FBTyxLQUFLOzs7Ozs7RUFtQnJCLE9BQU87OztBQUdULFFBQVEsVUFkTztrMWNBZW0wYzs7QUMzRGwxYzs7QUFFQSxPQUFPLGVBQWUsU0FBUyxjQUFjO0VBQzNDLE9BQU87OztBQUhULElBQUEsUUFBQSxRQUFBOztBQVFBLElBQUksU0FBUyx1QkFBdUI7O0FBRXBDLFNBQVMsdUJBQXVCLEtBQUssRUFBRSxPQUFPLE9BQU8sSUFBSSxhQUFhLE1BQU0sRUFBRSxTQUFTOztBQVJ2RixJQUFNLE9BQU87RUFDWCxhQUFhO0VBQ2IsWUFBQSxPQUFBO0VBQ0EsY0FBYzs7O0FBYWhCLFFBQVEsVUFWTzswbUJBVzJsQjs7QUNuQjFtQjs7QUFFQSxPQUFPLGVBQWUsU0FBUyxjQUFjO0VBQzNDLE9BQU87O0FBRVQsUUFMZ0IsY0FBQTtBQU1oQixRQVdnQix3QkFBQTtBQWpCVCxTQUFTLGNBQWM7O0VBRTFCLE9BQU8sVUFBUyxLQUFLLE1BQUs7Ozs7SUFJekIsSUFBSSxLQUFLLEtBQUssT0FBTyxVQUFBLE1BQUE7TUFBQSxPQUFRLEtBQUssU0FBUzs7O0lBRTNDLElBQUksR0FBRyxRQUFRO01BQ2QsT0FBTyxHQUFHLEdBQUc7OztJQUdYLE9BQU87Ozs7QUFLUixTQUFTLHdCQUF3QjtFQUN2QyxJQUFNLFlBQVk7SUFDakIsR0FBRztJQUNILEdBQUc7SUFDSCxHQUFHOztFQUVKLE9BQU8sVUFBUyxLQUFLO0lBQ3BCLE9BQU8sVUFBVSxRQUFROzs7OGhEQVdtZ0Q7O0FDbkM5aEQ7O0FBRUEsT0FBTyxlQUFlLFNBQVMsY0FBYztFQUMzQyxPQUFPOzs7QUFHVCxJQUFJLFdBQVcsT0FBTyxVQUFVLFVBQVUsUUFBUSxFQUFFLEtBQUssSUFBSSxJQUFJLEdBQUcsSUFBSSxVQUFVLFFBQVEsS0FBSyxFQUFFLElBQUksU0FBUyxVQUFVLElBQUksS0FBSyxJQUFJLE9BQU8sUUFBUSxFQUFFLElBQUksT0FBTyxVQUFVLGVBQWUsS0FBSyxRQUFRLE1BQU0sRUFBRSxPQUFPLE9BQU8sT0FBTyxZQUFZLE9BQU87O0FBRXZQLElBQUksZUFBZSxZQUFZLEVBQUUsU0FBUyxpQkFBaUIsUUFBUSxPQUFPLEVBQUUsS0FBSyxJQUFJLElBQUksR0FBRyxJQUFJLE1BQU0sUUFBUSxLQUFLLEVBQUUsSUFBSSxhQUFhLE1BQU0sSUFBSSxXQUFXLGFBQWEsV0FBVyxjQUFjLE9BQU8sV0FBVyxlQUFlLE1BQU0sSUFBSSxXQUFXLFlBQVksV0FBVyxXQUFXLE1BQU0sT0FBTyxlQUFlLFFBQVEsV0FBVyxLQUFLLGlCQUFpQixPQUFPLFVBQVUsYUFBYSxZQUFZLGFBQWEsRUFBRSxJQUFJLFlBQVksaUJBQWlCLFlBQVksV0FBVyxhQUFhLElBQUksYUFBYSxpQkFBaUIsYUFBYSxjQUFjLE9BQU87O0FBUmhpQixJQUFBLGdCQUFBLFFBQUE7O0FBWUEsSUFBSSxpQkFBaUIsdUJBQXVCOztBQVY1QyxJQUFBLFVBQUEsUUFBQTs7QUFjQSxTQUFTLHVCQUF1QixLQUFLLEVBQUUsT0FBTyxPQUFPLElBQUksYUFBYSxNQUFNLEVBQUUsU0FBUzs7QUFFdkYsU0FBUyxnQkFBZ0IsVUFBVSxhQUFhLEVBQUUsSUFBSSxFQUFFLG9CQUFvQixjQUFjLEVBQUUsTUFBTSxJQUFJLFVBQVU7O0FBRWhILFNBQVMsMkJBQTJCLE1BQU0sTUFBTSxFQUFFLElBQUksQ0FBQyxNQUFNLEVBQUUsTUFBTSxJQUFJLGVBQWUsZ0VBQWdFLE9BQU8sU0FBUyxPQUFPLFNBQVMsWUFBWSxPQUFPLFNBQVMsY0FBYyxPQUFPOztBQUV6TyxTQUFTLFVBQVUsVUFBVSxZQUFZLEVBQUUsSUFBSSxPQUFPLGVBQWUsY0FBYyxlQUFlLE1BQU0sRUFBRSxNQUFNLElBQUksVUFBVSw2REFBNkQsT0FBTyxlQUFlLFNBQVMsWUFBWSxPQUFPLE9BQU8sY0FBYyxXQUFXLFdBQVcsRUFBRSxhQUFhLEVBQUUsT0FBTyxVQUFVLFlBQVksT0FBTyxVQUFVLE1BQU0sY0FBYyxXQUFXLElBQUksWUFBWSxPQUFPLGlCQUFpQixPQUFPLGVBQWUsVUFBVSxjQUFjLFNBQVMsWUFBWTs7O3dKQUVqZSxJQXBCTSxpQkFvQmUsVUFBVSxhQUFhO0VBQzFDLFVBQVUsZ0JBQWdCOztFQW5CMUIsU0FBQSxlQUFZLFdBQVcsUUFBUSxXQUFXLGNBQWMsT0FBTyxRQUFRLFdBQVcsbUJBQW1CLGdCQUFnQjtJQUNuSDs7SUFEbUgsZ0JBQUEsTUFBQTs7SUFBQSxJQUFBLFFBQUEsMkJBQUEsTUFBQSxDQUFBLGVBQUEsYUFBQSxPQUFBLGVBQUEsaUJBQUEsS0FBQSxNQUc3Rzs7SUFFTixNQUFLLFNBQVM7SUFDZCxNQUFLLFlBQVk7SUFDakIsTUFBSyxlQUFlO0lBQ3BCLE1BQUssU0FBUzs7SUFFZCxNQUFLLFNBQVM7SUFDZCxNQUFLLFVBQVU7O0lBRWYsTUFBSyxXQUFXOztJQUVoQixNQUFLLFVBQVUsZUFBZTtJQUM5QixNQUFLLFNBQVMsZUFBZTs7SUFFN0IsTUFBSyxpQkFBaUIsQ0FDcEI7TUFDRSxPQUFPO01BQ1AsT0FBTztPQUVUO01BQ0UsT0FBTztNQUNQLE9BQU87OztJQUlYLE1BQUssc0JBQXNCLENBQ3pCO01BQ0UsT0FBTztNQUNQLE9BQU87T0FFVDtNQUNFLE9BQU87TUFDUCxPQUFPO09BRVQ7TUFDRSxPQUFPO01BQ1AsT0FBTztPQUVUO01BQ0UsT0FBTztNQUNQLE9BQU87OztJQUlYLE1BQUssVUFBVTs7SUFFZixNQUFLLGFBQWE7O0lBRWxCLE1BQUs7O0lBcEQ4RyxPQUFBOzs7RUF3RXJILGFBQWEsZ0JBQWdCLENBQUM7SUFDNUIsS0FBSztJQUNMLE9BQU8sU0FBUyxRQWxCVjs7TUFFTixLQUFLO01BQ0wsS0FBSzs7S0FvQko7SUFDRCxLQUFLO0lBQ0wsT0FBTyxTQUFTLGVBbEJIOztNQUViLElBQU0sY0FBYyxLQUFLOztNQUV6QixLQUFLLFFBQVEsaUJBQWlCLFlBQVksa0JBQWtCO01BQzVELEtBQUssUUFBUSxRQUFRLFlBQVksUUFBTyxDQUFDLFlBQVksUUFBUSxLQUFLOztNQUVsRSxLQUFLLFFBQVEsT0FBTyxZQUFZLFFBQVEsS0FBSzs7S0FvQjVDO0lBQ0QsS0FBSztJQUNMLE9BQU8sU0FBUyxXQWxCUDtNQUFBLElBQUEsU0FBQTs7TUFFVCxJQUFJLFNBQVMsS0FBSzs7TUFFbEIsT0FBTyxPQUFPLEtBQUssV0FBVzs7TUFFOUIsS0FBSyxTQUFTLFFBQVEsUUFBUSxLQUFLLFVBQUEsTUFBUTtRQUN6QyxRQUFRLElBQUk7UUFDWixPQUFLLE9BQU8sS0FBSztRQUNqQixPQUFLLFdBQVcsUUFBUSxLQUFLLGFBQWEsT0FBSyxXQUFXOzs7S0FzQjNEO0lBQ0QsS0FBSztJQUNMLE9BQU8sU0FBUyxXQW5CUDtNQUNULElBQUksT0FBTztNQUNYLEtBQUssVUFBVSxPQUFmLFNBQUEsSUFBMEIsS0FBSyxxQkFBL0IsRUFBb0QsTUFBQTs7S0FxQm5EO0lBQ0QsS0FBSztJQUNMLE9BQU8sU0FBUyxRQXBCWCxLQUFLLE9BQU87O01BRWpCLElBQUcsQ0FBQyxLQUFLO1FBQ1AsT0FBTzs7O01BR1QsS0FBSyxRQUFRLE9BQU87O01BRXBCLEtBQUs7O0tBc0JKO0lBQ0QsS0FBSztJQUNMLE9BQU8sU0FBUyxPQXJCWCxNQUFNO01BQUEsSUFDTixPQUFRLEtBQVI7O01BQ0wsSUFBSSxRQUFRLEtBQUssSUFBSTtRQUNuQixJQUFNLFVBQVU7VUFDZCxNQUFNLFNBQUEsT0FBVTtZQUNkLE9BQU87Ozs7UUFJWCxJQUFNLFVBQUEsU0FBQSxJQUFBLFFBQUEsY0FBQSxFQUE0QixTQUFBOztRQUVsQyxLQUFLLE9BQU8sS0FBTTthQUNiO1FBQ0wsS0FBSyxPQUFPLEtBQUs7VUFDZixPQUFPO1VBQ1Asa0JBQWtCO1VBQ2xCLG9CQUFvQjtVQUNwQixtQkFBbUI7VUFDbkIsa0JBQWtCO1VBQ2xCLGdCQUFnQjtVQUNoQixVQUFVO1dBQ1QsVUFBQSxNQUFROzs7Ozs7Ozs7O0tBZ0NaO0lBQ0QsS0FBSztJQUNMLE9BQU8sU0FBUyxhQXZCTCxNQUFNO01BQ2pCLElBQU0sVUFBVTtRQUNkLE1BQU0sU0FBQSxPQUFVO1VBQ2QsT0FBTzs7OztNQUlYLElBQU0sVUFBQSxTQUFBLElBQUEsUUFBQSxjQUFBLEVBQTRCLFNBQUE7O01BRWxDLEtBQUssT0FBTyxLQUFNOztLQXlCakI7SUFDRCxLQUFLO0lBQ0wsT0FBTyxTQUFTLE1BeEJaO01BQ0osSUFBTSxVQUFVO1FBQ2QsTUFBTSxTQUFBLE9BQVU7VUFDZCxPQUFPOzs7O01BSVgsSUFBTSxVQUFBLFNBQUEsSUFBQSxRQUFBLFdBQUEsRUFBeUIsU0FBQTs7TUFFL0IsS0FBSyxPQUFPLEtBQU07O0tBMEJqQjtJQUNELEtBQUs7SUFDTCxPQUFPLFNBQVMsSUF6QmQsTUFBTTtNQUNSLEtBQUssU0FBUyxLQUFLLElBQUk7O0tBMkJ0QjtJQUNELEtBQUs7SUFDTCxPQUFPLFNBQVMsTUExQlosTUFBTTtNQUNWLEtBQUssU0FBUyxLQUFLLElBQUk7O0tBNEJ0QjtJQUNELEtBQUs7SUFDTCxPQUFPLFNBQVMsU0EzQlQsSUFBSSxPQUFPO01BQUEsSUFBQSxTQUFBOztNQUNsQixLQUFLLFNBQVMsSUFBSSxFQUFDLElBQUEsSUFBSSxPQUFBLFNBQVEsS0FBSyxVQUFBLE1BQVE7UUFDMUMsT0FBSyxRQUFRLFFBQVE7UUFDckIsT0FBSyxPQUFPOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztFQXFGaEIsT0FBTztFQUNQLGVBQWU7O0FBRWpCLFFBQVEsVUFoQ087MDFYQWlDMjBYOztBQzFRMTFYOztBQUVBLE9BQU8sZUFBZSxTQUFTLGNBQWM7RUFDM0MsT0FBTzs7O0FBSFQsSUFBQSxRQUFBLFFBQUE7O0FBUUEsSUFBSSxTQUFTLHVCQUF1Qjs7QUFFcEMsU0FBUyx1QkFBdUIsS0FBSyxFQUFFLE9BQU8sT0FBTyxJQUFJLGFBQWEsTUFBTSxFQUFFLFNBQVM7O0FBUnZGLElBQU0sT0FBTztFQUNYLGFBQWE7RUFDYixZQUFBLE9BQUE7RUFDQSxjQUFjOzs7QUFhaEIsUUFBUSxVQVZPO2tuQkFXbW1COztBQ25CbG5COztBQUVBLE9BQU8sZUFBZSxTQUFTLGNBQWM7RUFDM0MsT0FBTzs7O0FBR1QsSUFBSSxlQUFlLFlBQVksRUFBRSxTQUFTLGlCQUFpQixRQUFRLE9BQU8sRUFBRSxLQUFLLElBQUksSUFBSSxHQUFHLElBQUksTUFBTSxRQUFRLEtBQUssRUFBRSxJQUFJLGFBQWEsTUFBTSxJQUFJLFdBQVcsYUFBYSxXQUFXLGNBQWMsT0FBTyxXQUFXLGVBQWUsTUFBTSxJQUFJLFdBQVcsWUFBWSxXQUFXLFdBQVcsTUFBTSxPQUFPLGVBQWUsUUFBUSxXQUFXLEtBQUssaUJBQWlCLE9BQU8sVUFBVSxhQUFhLFlBQVksYUFBYSxFQUFFLElBQUksWUFBWSxpQkFBaUIsWUFBWSxXQUFXLGFBQWEsSUFBSSxhQUFhLGlCQUFpQixhQUFhLGNBQWMsT0FBTzs7QUFFaGlCLFNBQVMsZ0JBQWdCLFVBQVUsYUFBYSxFQUFFLElBQUksRUFBRSxvQkFBb0IsY0FBYyxFQUFFLE1BQU0sSUFBSSxVQUFVOzs7d0hBRWhILElBVnFCLGFBVUosWUFBWTtFQVQzQixTQUFBLFdBQVksUUFBUSxRQUFRLGFBQWEsbUJBQW1CLFFBQVEsbUJBQW1CLE1BQU07SUFDM0Y7O0lBRDJGLGdCQUFBLE1BQUE7O0lBRzNGLEtBQUssU0FBUztJQUNkLEtBQUssU0FBUzs7SUFFZCxLQUFLLHNCQUFzQjs7SUFFM0IsS0FBSyxpQkFBaUI7SUFDdEIsS0FBSyxVQUFVOztJQUVmLEtBQUssV0FBVzs7SUFFaEIsS0FBSyxPQUFPOztJQUVaLEtBQUssWUFBWTtNQUNmLE1BQU07Ozs7RUFnQlYsYUFBYSxZQUFZLENBQUM7SUFDeEIsS0FBSztJQUNMLE9BQU8sU0FBUyxTQVhUO01BQ1AsS0FBSyxlQUFlOztLQWFuQjtJQUNELEtBQUs7SUFDTCxPQUFPLFNBQVMsT0FaWCxNQUFNO01BQUEsSUFBQSxRQUFBOzs7TUFFWCxLQUFLLG9CQUFvQixTQUFTLE1BQU0sUUFBUSxZQUFNO1FBQ3BELE1BQUs7OztLQWlCTjtJQUNELEtBQUs7SUFDTCxPQUFPLFNBQVMsV0FmUDtNQUFBLElBQUEsU0FBQTs7TUFDVCxJQUFNLE9BQU8sS0FBSztNQUNsQixLQUFLLFNBQVMsSUFBSSxNQUFNLEtBQUssVUFBQSxNQUFRO1FBQ25DLE9BQUssUUFBUSxRQUFRO1FBQ3JCLE9BQUs7UUFDTCxPQUFLLE9BQU87Ozs7O0VBc0JoQixPQUFPOzs7QUFHVCxRQUFRLFVBakVhOzhyRkFrRXlxRjs7QUNsRTlyRjs7QUFFQSxPQUFPLGVBQWUsU0FBUyxjQUFjO0VBQzNDLE9BQU87OztBQUhULElBQUEsUUFBQSxRQUFBOztBQVFBLElBQUksU0FBUyx1QkFBdUI7O0FBRXBDLFNBQVMsdUJBQXVCLEtBQUssRUFBRSxPQUFPLE9BQU8sSUFBSSxhQUFhLE1BQU0sRUFBRSxTQUFTOztBQVJ2RixJQUFNLGdCQUFnQjtFQUNwQixhQUFhO0VBQ2IsWUFBQSxPQUFBO0VBQ0EsY0FBYzs7O0FBYWhCLFFBQVEsVUFWTztrcUJBV21wQjs7QUNuQmxxQjs7QUFFQSxPQUFPLGVBQWUsU0FBUyxjQUFjO0VBQzNDLE9BQU87OztBQUdULElBQUksZUFBZSxZQUFZLEVBQUUsU0FBUyxpQkFBaUIsUUFBUSxPQUFPLEVBQUUsS0FBSyxJQUFJLElBQUksR0FBRyxJQUFJLE1BQU0sUUFBUSxLQUFLLEVBQUUsSUFBSSxhQUFhLE1BQU0sSUFBSSxXQUFXLGFBQWEsV0FBVyxjQUFjLE9BQU8sV0FBVyxlQUFlLE1BQU0sSUFBSSxXQUFXLFlBQVksV0FBVyxXQUFXLE1BQU0sT0FBTyxlQUFlLFFBQVEsV0FBVyxLQUFLLGlCQUFpQixPQUFPLFVBQVUsYUFBYSxZQUFZLGFBQWEsRUFBRSxJQUFJLFlBQVksaUJBQWlCLFlBQVksV0FBVyxhQUFhLElBQUksYUFBYSxpQkFBaUIsYUFBYSxjQUFjLE9BQU87O0FBRWhpQixTQUFTLGdCQUFnQixVQUFVLGFBQWEsRUFBRSxJQUFJLEVBQUUsb0JBQW9CLGNBQWMsRUFBRSxNQUFNLElBQUksVUFBVTs7O3dIQUVoSCxJQVZxQixhQVVKLFlBQVk7RUFUM0IsU0FBQSxXQUFZLFFBQVEsUUFBUSxhQUFhLG1CQUFtQixRQUFRLG1CQUFtQixNQUFNO0lBQzNGOztJQUQyRixnQkFBQSxNQUFBOztJQUczRixLQUFLLFNBQVM7SUFDZCxLQUFLLFNBQVM7O0lBRWQsS0FBSyxzQkFBc0I7O0lBRTNCLEtBQUssaUJBQWlCO0lBQ3RCLEtBQUssVUFBVTs7SUFFZixLQUFLLFdBQVc7O0lBRWhCLEtBQUssT0FBTzs7SUFFWixLQUFLLFlBQVk7TUFDZixRQUFRLEtBQUssUUFBUSxLQUFLLEtBQUs7OztJQUdqQyxLQUFLLE9BQU87O0lBR1osS0FBSzs7O0VBY1AsYUFBYSxZQUFZLENBQUM7SUFDeEIsS0FBSztJQUNMLE9BQU8sU0FBUyxlQVpIO01BQUEsSUFBQSxRQUFBOztNQUNiLEtBQUssU0FBUyxjQUFjLEtBQUssVUFBQSxNQUFROztRQUV2QyxNQUFLLE9BQU87OztLQWlCYjtJQUNELEtBQUs7SUFDTCxPQUFPLFNBQVMsU0FmVDtNQUNQLEtBQUssZUFBZTs7S0FpQm5CO0lBQ0QsS0FBSztJQUNMLE9BQU8sU0FBUyxPQWhCWCxNQUFNO01BQUEsSUFBQSxTQUFBOzs7TUFFWCxLQUFLLG9CQUFvQixTQUFTLE1BQU0sUUFBUSxZQUFNO1FBQ3BELE9BQUs7OztLQXFCTjtJQUNELEtBQUs7SUFDTCxPQUFPLFNBQVMsV0FuQlA7TUFBQSxJQUFBLFNBQUE7OztNQUVULEtBQUssU0FBUyxJQUFJO1FBQ2hCLElBQUksS0FBSyxLQUFLO1FBQ2QsU0FBUyxLQUFLLFVBQVU7U0FDdkIsS0FBSyxVQUFBLE1BQVE7UUFDZCxPQUFLO1FBQ0wsT0FBSyxRQUFRLFFBQVE7UUFDckIsT0FBSyxPQUFPOzs7OztFQTBCaEIsT0FBTzs7O0FBR1QsUUFBUSxVQWxGYTswN0dBbUZxNkc7O0FDbkYxN0c7O0FBRUEsT0FBTyxlQUFlLFNBQVMsY0FBYztFQUMzQyxPQUFPOzs7QUFIVCxJQUFBLFFBQUEsUUFBQTs7QUFRQSxJQUFJLFNBQVMsdUJBQXVCOztBQUVwQyxTQUFTLHVCQUF1QixLQUFLLEVBQUUsT0FBTyxPQUFPLElBQUksYUFBYSxNQUFNLEVBQUUsU0FBUzs7QUFSdkYsSUFBTSxnQkFBZ0I7RUFDcEIsYUFBYTtFQUNiLFlBQUEsT0FBQTtFQUNBLGNBQWM7OztBQWFoQixRQUFRLFVBVk87c3FCQVd1cEI7O0FDbkJ0cUI7O0FBRUEsT0FBTyxlQUFlLFNBQVMsY0FBYztFQUMzQyxPQUFPOztBQUVULFFBQVEsWUFBWSxRQUFRLGVBQWUsUUFBUSxlQUFlOztBQUxsRSxJQUFBLFVBQUEsUUFBQTs7QUFTQSxJQUFJLFdBQVcsdUJBQXVCOztBQVJ0QyxJQUFBLFVBQUEsUUFBQTs7QUFZQSxJQUFJLFdBQVcsdUJBQXVCOztBQVh0QyxJQUFBLE9BQUEsUUFBQTs7QUFlQSxJQUFJLFFBQVEsdUJBQXVCOztBQUVuQyxTQUFTLHVCQUF1QixLQUFLLEVBQUUsT0FBTyxPQUFPLElBQUksYUFBYSxNQUFNLEVBQUUsU0FBUzs7QUFFdkYsUUFoQkMsZUFnQnNCLFNBQVM7QUFDaEMsUUFoQkUsZUFnQnFCLFNBQVM7QUFDaEMsUUFoQkUsWUFnQmtCLE1BQU07a2lCQUN3Z0I7O0FDeEJsaUI7O0FBRUEsT0FBTyxlQUFlLFNBQVMsY0FBYztFQUMzQyxPQUFPOzs7QUFHVCxJQUFJLGVBQWUsWUFBWSxFQUFFLFNBQVMsaUJBQWlCLFFBQVEsT0FBTyxFQUFFLEtBQUssSUFBSSxJQUFJLEdBQUcsSUFBSSxNQUFNLFFBQVEsS0FBSyxFQUFFLElBQUksYUFBYSxNQUFNLElBQUksV0FBVyxhQUFhLFdBQVcsY0FBYyxPQUFPLFdBQVcsZUFBZSxNQUFNLElBQUksV0FBVyxZQUFZLFdBQVcsV0FBVyxNQUFNLE9BQU8sZUFBZSxRQUFRLFdBQVcsS0FBSyxpQkFBaUIsT0FBTyxVQUFVLGFBQWEsWUFBWSxhQUFhLEVBQUUsSUFBSSxZQUFZLGlCQUFpQixZQUFZLFdBQVcsYUFBYSxJQUFJLGFBQWEsaUJBQWlCLGFBQWEsY0FBYyxPQUFPOztBQUVoaUIsU0FBUyxnQkFBZ0IsVUFBVSxhQUFhLEVBQUUsSUFBSSxFQUFFLG9CQUFvQixjQUFjLEVBQUUsTUFBTSxJQUFJLFVBQVU7Ozt3SEFFaEgsSUFWcUIsYUFVSixZQUFZO0VBVDNCLFNBQUEsV0FBWSxRQUFRLFFBQVEsYUFBYSxtQkFBbUIsUUFBUSxtQkFBbUIsTUFBTTtJQUMzRjs7SUFEMkYsZ0JBQUEsTUFBQTs7SUFHM0YsS0FBSyxTQUFTO0lBQ2QsS0FBSyxTQUFTOztJQUVkLEtBQUssc0JBQXNCOztJQUUzQixLQUFLLGlCQUFpQjtJQUN0QixLQUFLLFVBQVU7O0lBRWYsS0FBSyxXQUFXOztJQUVoQixLQUFLLE9BQU87O0lBRVosS0FBSyxZQUFZO01BQ2YsTUFBTSxLQUFLLFVBQVUsS0FBSyxPQUFPO01BQ2pDLE1BQU0sS0FBSyxVQUFVLEtBQUssT0FBTzs7O0lBR25DLEtBQUssT0FBTzs7SUFFWixLQUFLOzs7RUFlUCxhQUFhLFlBQVksQ0FBQztJQUN4QixLQUFLO0lBQ0wsT0FBTyxTQUFTLFFBYlY7TUFDTixLQUFLOztLQWVKO0lBQ0QsS0FBSztJQUNMLE9BQU8sU0FBUyxlQWRIO01BQUEsSUFBQSxRQUFBOztNQUFBLElBQ1IsT0FBUSxLQUFLLEtBQWI7O01BQ0wsSUFBSSxTQUFTO1FBQ1gsT0FBTztRQUNQLFNBQVMsS0FBSztRQUNkLFdBQVcsS0FBSztRQUNoQixjQUFjO1FBQ2QsWUFBWTs7TUFFZCxLQUFLLFNBQVMsWUFBWSxRQUFRLEtBQUssVUFBQSxNQUFRO1FBQzdDLE1BQUssT0FBTyxLQUFLOzs7S0FvQmxCO0lBQ0QsS0FBSztJQUNMLE9BQU8sU0FBUyxTQWhCVDtNQUNQLEtBQUssZUFBZTs7S0FrQm5CO0lBQ0QsS0FBSztJQUNMLE9BQU8sU0FBUyxPQWpCWCxNQUFNO01BQUEsSUFBQSxTQUFBOzs7TUFFWCxLQUFLLG9CQUFvQixTQUFTLE1BQU0sUUFBUSxZQUFNO1FBQ3BELE9BQUs7OztLQXNCTjtJQUNELEtBQUs7SUFDTCxPQUFPLFNBQVMsV0FwQlA7TUFBQSxJQUFBLFNBQUE7OztNQUVULEtBQUssU0FBUyxJQUFJO1FBQ2hCLElBQUksS0FBSyxLQUFLO1FBQ2QsV0FBVyxLQUFLLFVBQVU7UUFDMUIsV0FBVyxLQUFLLFVBQVU7U0FDekIsS0FBSyxVQUFBLE1BQVE7UUFDZCxPQUFLO1FBQ0wsT0FBSyxRQUFRLFFBQVE7UUFDckIsT0FBSyxPQUFPOzs7OztFQTJCaEIsT0FBTzs7O0FBR1QsUUFBUSxVQWpHYTswNUlBa0dxNEk7O0FDbEcxNUk7O0FBRUEsT0FBTyxlQUFlLFNBQVMsY0FBYztFQUMzQyxPQUFPOzs7QUFIVCxJQUFBLFFBQUEsUUFBQTs7QUFRQSxJQUFJLFNBQVMsdUJBQXVCOztBQUVwQyxTQUFTLHVCQUF1QixLQUFLLEVBQUUsT0FBTyxPQUFPLElBQUksYUFBYSxNQUFNLEVBQUUsU0FBUzs7QUFSdkYsSUFBTSxnQkFBZ0I7RUFDcEIsYUFBYTtFQUNiLFlBQUEsT0FBQTtFQUNBLGNBQWM7OztBQWFoQixRQUFRLFVBVk87c3FCQVd1cEI7O0FDbkJ0cUI7O0FBRUEsT0FBTyxlQUFlLFNBQVMsY0FBYztFQUMzQyxPQUFPOzs7QUFIVCxJQUFBLFdBQUEsUUFBQTs7QUFRQSxJQUFJLFlBQVksdUJBQXVCOztBQVB2QyxJQUFBLFVBQUEsUUFBQTs7QUFXQSxJQUFJLFdBQVcsdUJBQXVCOztBQVZ0QyxJQUFBLFdBQUEsUUFBQTs7QUFjQSxJQUFJLFlBQVksdUJBQXVCOztBQWJ2QyxJQUFBLFVBQUEsUUFBQTs7QUFDQSxJQUFBLFFBQUEsUUFBQTs7QUFrQkEsSUFBSSxTQUFTLHVCQUF1Qjs7QUFqQnBDLElBQUEsVUFBQSxRQUFBOztBQXFCQSxJQUFJLFdBQVcsdUJBQXVCOztBQUV0QyxTQUFTLHVCQUF1QixLQUFLLEVBQUUsT0FBTyxPQUFPLElBQUksYUFBYSxNQUFNLEVBQUUsU0FBUzs7Ozs7QUFLdkYsUUFBUSxVQXJCTyxVQUFBLFFBQVEsT0FBTywwQkFBMEIsSUFDdkQsT0FBTyxlQURPLFFBQUEsYUFFZCxPQUFPLHlCQUZPLFFBQUEsdUJBR2QsUUFBUSxxQkFITSxVQUFBLFNBS2QsVUFBVSxrQkFMSSxPQUFBLFNBTWQsVUFBVSxvQkFOSSxTQUFBLFNBT2QsT0FQYyxTQUFBOzB6Q0FzQjJ5Qzs7QUNsQzF6Qzs7QUFFQSxPQUFPLGVBQWUsU0FBUyxjQUFjO0VBQzNDLE9BQU87OztBQUdULElBQUksZUFBZSxZQUFZLEVBQUUsU0FBUyxpQkFBaUIsUUFBUSxPQUFPLEVBQUUsS0FBSyxJQUFJLElBQUksR0FBRyxJQUFJLE1BQU0sUUFBUSxLQUFLLEVBQUUsSUFBSSxhQUFhLE1BQU0sSUFBSSxXQUFXLGFBQWEsV0FBVyxjQUFjLE9BQU8sV0FBVyxlQUFlLE1BQU0sSUFBSSxXQUFXLFlBQVksV0FBVyxXQUFXLE1BQU0sT0FBTyxlQUFlLFFBQVEsV0FBVyxLQUFLLGlCQUFpQixPQUFPLFVBQVUsYUFBYSxZQUFZLGFBQWEsRUFBRSxJQUFJLFlBQVksaUJBQWlCLFlBQVksV0FBVyxhQUFhLElBQUksYUFBYSxpQkFBaUIsYUFBYSxjQUFjLE9BQU87O0FBRWhpQixTQUFTLGdCQUFnQixVQUFVLGFBQWEsRUFBRSxJQUFJLEVBQUUsb0JBQW9CLGNBQWMsRUFBRSxNQUFNLElBQUksVUFBVTs7OytFQUVoSCxJQVZxQixVQVVQLFlBQVk7RUFUeEIsU0FBQSxRQUFZLE9BQU8sWUFBWSxZQUFZLFFBQVEsUUFBUTtJQUN6RDs7SUFEeUQsZ0JBQUEsTUFBQTs7SUFHekQsS0FBSyxRQUFROztJQUViLEtBQUssY0FBYzs7SUFFbkIsS0FBSyxVQUFVOztJQUVmLEtBQUssT0FBTyxPQUFPOztJQUVuQixLQUFLLGFBQWE7SUFDbEIsS0FBSyxTQUFTOzs7RUFlaEIsYUFBYSxTQUFTLENBQUM7SUFDckIsS0FBSztJQUNMLE9BQU8sU0FBUyxJQWRkLElBQUk7O01BRU4sS0FBSyxZQUFZLFFBQVE7O01BRXpCLE9BQU8sS0FBSyxNQUFNLElBQUksS0FBSyxLQUFLLElBQUksUUFBUSxVQUFVLEtBQUssS0FBSyxLQUFLLFlBQVksUUFBUyxLQUFLLFlBQVk7O0tBZ0IxRztJQUNELEtBQUs7SUFDTCxPQUFPLFNBQVMsUUFmVixRQUFROztNQUVkLEtBQUssWUFBWSxRQUFROztNQUV6QixPQUFPLEtBQUssTUFBTSxLQUFLLEtBQUssS0FBSyxTQUFTLFFBQVEsS0FBSyxLQUFLLFlBQVksUUFBUyxLQUFLLFlBQVk7O0tBaUJqRztJQUNELEtBQUs7SUFDTCxPQUFPLFNBQVMsSUFoQmQsTUFBTTs7TUFFUixLQUFLLFlBQVksUUFBUTs7TUFFekIsT0FBTyxLQUFLLE1BQU0sS0FBSyxLQUFLLEtBQUssS0FBSyxNQUFNLEtBQUssS0FBSyxZQUFZLFFBQVMsS0FBSyxZQUFZOztLQWtCM0Y7SUFDRCxLQUFLO0lBQ0wsT0FBTyxTQUFTLElBakJkLE1BQU07O01BRVIsS0FBSyxZQUFZLFFBQVE7O01BRXpCLE9BQU8sS0FBSyxNQUFNLEtBQUssS0FBSyxLQUFLLEtBQUssTUFBTSxLQUFLLEtBQUssWUFBWSxRQUFTLEtBQUssWUFBWTs7S0FtQjNGO0lBQ0QsS0FBSztJQUNMLE9BQU8sU0FBUyxZQWxCTixRQUFRO01BQ2xCLEtBQUssWUFBWSxRQUFRO01BQ3pCLE9BQU8sS0FBSyxNQUFNLElBQUksS0FBSyxRQUFRLEtBQUssS0FBSyxFQUFDLFFBQVEsVUFDbkQsS0FBSyxLQUFLLFlBQVksUUFBUSxLQUFLLFlBQVk7O0tBbUJqRDtJQUNELEtBQUs7SUFDTCxPQUFPLFNBQVMsWUFsQk4sTUFBTTtNQUNoQixLQUFLLFlBQVksUUFBUTtNQUN6QixPQUFPLEtBQUssTUFBTSxLQUFLLEtBQUssUUFBUSxPQUFPLE1BQU0sTUFDOUMsS0FBSyxLQUFLLFlBQVksUUFBUSxLQUFLLFlBQVk7Ozs7RUFxQnBELE9BQU87OztBQUdULFFBQVEsVUE3RWE7OG5KQThFeW1KOztBQzlFOW5KOztBQUVBLE9BQU8sZUFBZSxTQUFTLGNBQWM7RUFDM0MsT0FBTzs7O0FBR1QsSUFBSSxXQUFXLE9BQU8sVUFBVSxVQUFVLFFBQVEsRUFBRSxLQUFLLElBQUksSUFBSSxHQUFHLElBQUksVUFBVSxRQUFRLEtBQUssRUFBRSxJQUFJLFNBQVMsVUFBVSxJQUFJLEtBQUssSUFBSSxPQUFPLFFBQVEsRUFBRSxJQUFJLE9BQU8sVUFBVSxlQUFlLEtBQUssUUFBUSxNQUFNLEVBQUUsT0FBTyxPQUFPLE9BQU8sWUFBWSxPQUFPOztBQUV2UCxJQUFJLGVBQWUsWUFBWSxFQUFFLFNBQVMsaUJBQWlCLFFBQVEsT0FBTyxFQUFFLEtBQUssSUFBSSxJQUFJLEdBQUcsSUFBSSxNQUFNLFFBQVEsS0FBSyxFQUFFLElBQUksYUFBYSxNQUFNLElBQUksV0FBVyxhQUFhLFdBQVcsY0FBYyxPQUFPLFdBQVcsZUFBZSxNQUFNLElBQUksV0FBVyxZQUFZLFdBQVcsV0FBVyxNQUFNLE9BQU8sZUFBZSxRQUFRLFdBQVcsS0FBSyxpQkFBaUIsT0FBTyxVQUFVLGFBQWEsWUFBWSxhQUFhLEVBQUUsSUFBSSxZQUFZLGlCQUFpQixZQUFZLFdBQVcsYUFBYSxJQUFJLGFBQWEsaUJBQWlCLGFBQWEsY0FBYyxPQUFPOztBQVJoaUIsSUFBQSxnQkFBQSxRQUFBOztBQVlBLElBQUksaUJBQWlCLHVCQUF1Qjs7QUFYNUMsSUFBQSxVQUFBLFFBQUE7O0FBZUEsU0FBUyx1QkFBdUIsS0FBSyxFQUFFLE9BQU8sT0FBTyxJQUFJLGFBQWEsTUFBTSxFQUFFLFNBQVM7O0FBRXZGLFNBQVMsZ0JBQWdCLFVBQVUsYUFBYSxFQUFFLElBQUksRUFBRSxvQkFBb0IsY0FBYyxFQUFFLE1BQU0sSUFBSSxVQUFVOztBQUVoSCxTQUFTLDJCQUEyQixNQUFNLE1BQU0sRUFBRSxJQUFJLENBQUMsTUFBTSxFQUFFLE1BQU0sSUFBSSxlQUFlLGdFQUFnRSxPQUFPLFNBQVMsT0FBTyxTQUFTLFlBQVksT0FBTyxTQUFTLGNBQWMsT0FBTzs7QUFFek8sU0FBUyxVQUFVLFVBQVUsWUFBWSxFQUFFLElBQUksT0FBTyxlQUFlLGNBQWMsZUFBZSxNQUFNLEVBQUUsTUFBTSxJQUFJLFVBQVUsNkRBQTZELE9BQU8sZUFBZSxTQUFTLFlBQVksT0FBTyxPQUFPLGNBQWMsV0FBVyxXQUFXLEVBQUUsYUFBYSxFQUFFLE9BQU8sVUFBVSxZQUFZLE9BQU8sVUFBVSxNQUFNLGNBQWMsV0FBVyxJQUFJLFlBQVksT0FBTyxpQkFBaUIsT0FBTyxlQUFlLFVBQVUsY0FBYyxTQUFTLFlBQVk7Ozt5SEFFamUsSUFyQk0saUJBcUJlLFVBQVUsYUFBYTtFQUMxQyxVQUFVLGdCQUFnQjs7RUFwQjFCLFNBQUEsZUFBWSxXQUFXLFFBQVEsV0FBVyxjQUFjLFFBQVEsV0FBVyxlQUFlO0lBQ3hGOztJQUR3RixnQkFBQSxNQUFBOztJQUFBLElBQUEsUUFBQSwyQkFBQSxNQUFBLENBQUEsZUFBQSxhQUFBLE9BQUEsZUFBQSxpQkFBQSxLQUFBLE1BR2xGOztJQUVOLE1BQUssU0FBUztJQUNkLE1BQUssWUFBWTtJQUNqQixNQUFLLGVBQWU7SUFDcEIsTUFBSyxTQUFTOztJQUVkLE1BQUssVUFBVTs7SUFFZixNQUFLLFdBQVc7O0lBRWhCLE1BQUssVUFBVTs7SUFFZixNQUFLOztJQWhCbUYsT0FBQTs7O0VBNkMxRixhQUFhLGdCQUFnQixDQUFDO0lBQzVCLEtBQUs7SUFDTCxPQUFPLFNBQVMsUUEzQlY7O01BRU4sS0FBSztNQUNMLEtBQUs7O0tBNkJKO0lBQ0QsS0FBSztJQUNMLE9BQU8sU0FBUyxlQTNCSDs7TUFFYixJQUFNLGNBQWMsS0FBSzs7OztNQUl6QixLQUFLLFFBQVEsT0FBTyxZQUFZLFFBQVEsS0FBSzs7S0E2QjVDO0lBQ0QsS0FBSztJQUNMLE9BQU8sU0FBUyxXQTNCUDtNQUFBLElBQUEsU0FBQTs7TUFFVCxJQUFJLFNBQVMsS0FBSzs7TUFFbEIsT0FBTyxPQUFPLEtBQUssV0FBVzs7TUFFOUIsS0FBSyxTQUFTLGFBQWEsUUFBUSxLQUFLLFVBQUEsTUFBUTtRQUM5QyxRQUFRLElBQUk7UUFDWixPQUFLLE9BQU8sS0FBSztRQUNqQixPQUFLLFdBQVcsUUFBUSxLQUFLLGFBQWEsT0FBSyxXQUFXOzs7Ozs7Ozs7S0FxQzNEO0lBQ0QsS0FBSztJQUNMLE9BQU8sU0FBUyxNQTVCWjtNQUNKLElBQU0sVUFBVTtRQUNkLE1BQU0sU0FBQSxPQUFVO1VBQ2QsT0FBTzs7OztNQUlYLElBQU0sVUFBQSxTQUFBLElBQUEsUUFBQSxXQUFBLEVBQXlCLFNBQUE7O01BRS9CLEtBQUssT0FBTyxLQUFNOztLQThCakI7SUFDRCxLQUFLO0lBQ0wsT0FBTyxTQUFTLElBOUJkLE1BQU07TUFBQSxJQUFBLFNBQUE7O01BQ1IsSUFBTSxLQUFLLEtBQUs7O01BR2hCLEtBQUssU0FBUyxhQUFhLEVBQUMsSUFBQSxNQUFLLEtBQUssVUFBQSxNQUFROztRQUU1QyxPQUFLLFFBQVEsUUFBUTtRQUNyQixPQUFLLE9BQU87Ozs7O0VBb0NoQixPQUFPO0VBQ1AsZUFBZTs7QUFFakIsUUFBUSxVQS9CTztzNUxBZ0N1NEw7O0FDeEh0NUw7O0FBRUEsT0FBTyxlQUFlLFNBQVMsY0FBYztFQUMzQyxPQUFPOzs7QUFIVCxJQUFBLFFBQUEsUUFBQTs7QUFRQSxJQUFJLFNBQVMsdUJBQXVCOztBQUVwQyxTQUFTLHVCQUF1QixLQUFLLEVBQUUsT0FBTyxPQUFPLElBQUksYUFBYSxNQUFNLEVBQUUsU0FBUzs7QUFSdkYsSUFBTSxZQUFZO0VBQ2hCLGFBQWE7RUFDYixZQUFBLE9BQUE7RUFDQSxjQUFjOzs7QUFhaEIsUUFBUSxVQVZPOzBvQkFXMm5COztBQ25CMW9COztBQUVBLE9BQU8sZUFBZSxTQUFTLGNBQWM7RUFDM0MsT0FBTzs7O0FBR1QsSUFBSSxlQUFlLFlBQVksRUFBRSxTQUFTLGlCQUFpQixRQUFRLE9BQU8sRUFBRSxLQUFLLElBQUksSUFBSSxHQUFHLElBQUksTUFBTSxRQUFRLEtBQUssRUFBRSxJQUFJLGFBQWEsTUFBTSxJQUFJLFdBQVcsYUFBYSxXQUFXLGNBQWMsT0FBTyxXQUFXLGVBQWUsTUFBTSxJQUFJLFdBQVcsWUFBWSxXQUFXLFdBQVcsTUFBTSxPQUFPLGVBQWUsUUFBUSxXQUFXLEtBQUssaUJBQWlCLE9BQU8sVUFBVSxhQUFhLFlBQVksYUFBYSxFQUFFLElBQUksWUFBWSxpQkFBaUIsWUFBWSxXQUFXLGFBQWEsSUFBSSxhQUFhLGlCQUFpQixhQUFhLGNBQWMsT0FBTzs7QUFFaGlCLFNBQVMsZ0JBQWdCLFVBQVUsYUFBYSxFQUFFLElBQUksRUFBRSxvQkFBb0IsY0FBYyxFQUFFLE1BQU0sSUFBSSxVQUFVOzs7NEhBRWhILElBVk0sYUFVVyxZQUFZO0VBUjNCLFNBQUEsV0FBWSxRQUFRLFFBQVEsY0FBYyxhQUFhLFFBQVEsZUFBZSxtQkFBbUI7SUFDL0Y7O0lBRCtGLGdCQUFBLE1BQUE7O0lBRy9GLEtBQUssU0FBUzs7SUFFZCxLQUFLLFNBQVM7SUFDZCxLQUFLLFVBQVU7SUFDZixLQUFLLGVBQWU7O0lBRXBCLEtBQUssY0FBZTs7SUFFcEIsS0FBSyxxQkFBcUI7O0lBRTFCLEtBQUssV0FBVzs7OztJQUloQixLQUFLLE9BQU87O0lBRVosS0FBSyxNQUFNOztJQUVYLEtBQUssZUFBZTtNQUNsQixNQUFNO01BQ04sV0FBVzs7SUFFYixLQUFLLFlBQVk7TUFDZixTQUFTO01BQ1QsT0FBTzs7O0lBR1QsS0FBSyxXQUFXLENBQ2Q7TUFDRSxPQUFPO01BQ1AsTUFBTTtPQUVSO01BQ0UsT0FBTztNQUNQLE1BQU07OztJQUlWLEtBQUssaUJBQWlCLENBQ3BCO01BQ0UsT0FBTztNQUNQLE1BQU07T0FFUjtNQUNFLE9BQU87TUFDUCxNQUFNO09BRVI7TUFDRSxPQUFPO01BQ1AsTUFBTTtPQUVSO01BQ0UsT0FBTztNQUNQLE1BQU07OztJQUlWLEtBQUssZ0JBQWdCO01BQ25CLFFBQVEsQ0FDTjtRQUNFLE9BQU87UUFDUCxNQUFNO1NBRVI7UUFDRSxPQUFPO1FBQ1AsTUFBTTtTQUVSO1FBQ0UsT0FBTztRQUNQLE1BQU07O01BR1YsU0FBUSxDQUNOO1FBQ0UsT0FBTztRQUNQLE1BQU07U0FFUjtRQUNFLE9BQU87UUFDUCxNQUFNO1NBRVI7UUFDRSxPQUFPO1FBQ1AsTUFBTTtTQUVSO1FBQ0UsT0FBTztRQUNQLE1BQU07U0FFUjtRQUNFLE9BQU87UUFDUCxNQUFNOzs7O0lBS1osS0FBSzs7O0VBSlAsYUFBYSxZQUFZLENBQUM7SUFDeEIsS0FBSztJQUNMLE9BQU8sU0FBUyxRQUtWOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7TUF1Q04sS0FBSzs7S0FISjtJQUNELEtBQUs7SUFDTCxPQUFPLFNBQVMsT0FJWDtNQUFBLElBQUEsUUFBQTs7TUFFTCxLQUFLLFNBQVMsSUFBSSxLQUFLLEtBQUssS0FBSyxVQUFBLE1BQVE7UUFDdkMsSUFBRyxNQUFNO1VBQ1AsTUFBSyxPQUFPLFFBQVEsU0FBUztlQUN4QjtVQUNMLE1BQUs7O1NBRU4sTUFBTSxVQUFBLE1BQVE7UUFDZixNQUFLOzs7S0FBTjtJQUNELEtBQUs7SUFDTCxPQUFPLFNBQVMsY0FFSjtNQUNaLEtBQUssT0FBTztNQUNaLEtBQUs7O0tBQUo7SUFDRCxLQUFLO0lBQ0wsT0FBTyxTQUFTLFdBQ1A7TUFDVCxJQUFJLFFBQVE7UUFDVixXQUFXO1FBQ1gsTUFBTTs7TUFFUixLQUFLLFFBQVE7TUFDYixLQUFLLEtBQUssS0FBSzs7S0FDZDtJQUNELEtBQUs7SUFDTCxPQUFPLFNBQVMsUUFBVixPQUFPO01BQ2IsSUFBSSxPQUFPO1FBQ1QsT0FBTztRQUNQLE1BQU07UUFDTixXQUFXO1FBQ1gsT0FBTzs7TUFFVCxNQUFNLEtBQUssS0FBSzs7S0FFZjtJQUNELEtBQUs7SUFDTCxPQUFPLFNBQVMsU0FEVCxPQUFPO01BQ2QsS0FBSyxLQUFLLE9BQU8sT0FBTzs7S0FHdkI7SUFDRCxLQUFLO0lBQ0wsT0FBTyxTQUFTLFFBRlYsT0FBTyxPQUFPO01BQ3BCLE1BQU0sS0FBSyxPQUFPLE9BQU87O0tBSXhCO0lBQ0QsS0FBSztJQUNMLE9BQU8sU0FBUyxRQUhaLE1BQU07TUFBQSxJQUFBLFNBQUE7O01BQ1YsS0FBSyxZQUFZO01BQ25CLEtBQUssU0FBUyxRQUFRO1FBQ2xCLElBQUksS0FBSztRQUNULE9BQU87U0FDTixLQUFLLFVBQUEsTUFBUTtRQUNkLE9BQUssUUFBUSxRQUFRO1FBQ3JCLE9BQUssT0FBTyxHQUFHOzs7S0FRaEI7SUFDRCxLQUFLO0lBQ0wsT0FBTyxTQUFTLE9BTlgsTUFBTTtNQUFBLElBQUEsU0FBQTs7O01BRVgsS0FBSyxZQUFZLFNBQVMsTUFBTSxRQUFRLFlBQU07UUFDNUMsT0FBSyxTQUFTOzs7S0FXZjtJQUNELEtBQUs7SUFDTCxPQUFPLFNBQVMsU0FUVCxNQUFNO01BQUEsSUFBQSxTQUFBOztNQUNiLEtBQUssU0FBUyxJQUFJO1FBQ2hCLEtBQUssS0FBSztRQUNWLE9BQU8sUUFBUSxPQUFPLEtBQUs7U0FDMUIsS0FBSyxVQUFBLE1BQVE7UUFDZCxLQUFLLFlBQVk7UUFDakIsT0FBSyxRQUFRLFFBQVE7Ozs7O0VBZ0J6QixPQUFPOzs7QUFHVCxRQUFRLFVBZE87cy9UQWV1K1Q7O0FDM090L1Q7O0FBRUEsT0FBTyxlQUFlLFNBQVMsY0FBYztFQUMzQyxPQUFPOzs7QUFIVCxJQUFBLFFBQUEsUUFBQTs7QUFRQSxJQUFJLFNBQVMsdUJBQXVCOztBQUVwQyxTQUFTLHVCQUF1QixLQUFLLEVBQUUsT0FBTyxPQUFPLElBQUksYUFBYSxNQUFNLEVBQUUsU0FBUzs7QUFSdkYsSUFBTSxZQUFZO0VBQ2hCLGFBQWE7RUFDYixZQUFBLE9BQUE7RUFDQSxjQUFjOzs7QUFhaEIsUUFBUSxVQVZPO2tuQkFXbW1COztBQ25CbG5COzs7QUFFQSxPQUFPLGVBQWUsU0FBUyxjQUFjO0VBQzNDLE9BQU87O0FBSFQsU0FBUyxPQUFPLGdCQUFnQjtFQUM5Qjs7RUFFQSxlQUNHLE1BQU0sVUFBVTtJQUNmLEtBQUs7SUFDTCxVQUFVO0lBQ1YsVUFBVztJQUNYLE9BQU87SUFDUCxhQUFhO01BQ1gsTUFBTTtNQUNOLE9BQU87O0tBR1YsTUFBTSxvQkFBb0I7SUFDekIsS0FBSztJQUNMLFVBQVU7SUFDVixPQUFPO0lBQ1AsYUFBYTtNQUNYLE9BQU87O0tBR1YsTUFBTSxvQkFBb0I7SUFDekIsS0FBSztJQUNMLFVBQVU7SUFDVixPQUFPO0lBQ1AsYUFBYTtNQUNYLE9BQU87Ozs7Ozs7Ozs7Ozs7O0FBZ0JmLFFBQVEsVUFETzs4dkVBRSt1RTs7QUM1Qzl2RTs7QUFFQSxPQUFPLGVBQWUsU0FBUyxjQUFjO0VBQzNDLE9BQU87OztBQUdULElBQUksZUFBZSxZQUFZLEVBQUUsU0FBUyxpQkFBaUIsUUFBUSxPQUFPLEVBQUUsS0FBSyxJQUFJLElBQUksR0FBRyxJQUFJLE1BQU0sUUFBUSxLQUFLLEVBQUUsSUFBSSxhQUFhLE1BQU0sSUFBSSxXQUFXLGFBQWEsV0FBVyxjQUFjLE9BQU8sV0FBVyxlQUFlLE1BQU0sSUFBSSxXQUFXLFlBQVksV0FBVyxXQUFXLE1BQU0sT0FBTyxlQUFlLFFBQVEsV0FBVyxLQUFLLGlCQUFpQixPQUFPLFVBQVUsYUFBYSxZQUFZLGFBQWEsRUFBRSxJQUFJLFlBQVksaUJBQWlCLFlBQVksV0FBVyxhQUFhLElBQUksYUFBYSxpQkFBaUIsYUFBYSxjQUFjLE9BQU87O0FBRWhpQixTQUFTLGdCQUFnQixVQUFVLGFBQWEsRUFBRSxJQUFJLEVBQUUsb0JBQW9CLGNBQWMsRUFBRSxNQUFNLElBQUksVUFBVTs7O29IQUVoSCxJQVZxQixhQVVKLFlBQVk7RUFUM0IsU0FBQSxXQUFZLFFBQVEsUUFBUSxhQUFhLG1CQUFtQixRQUFRLGVBQWUsTUFBTTtJQUN2Rjs7SUFEdUYsZ0JBQUEsTUFBQTs7SUFHdkYsS0FBSyxTQUFTO0lBQ2QsS0FBSyxTQUFTOztJQUVkLEtBQUssc0JBQXNCOztJQUUzQixLQUFLLGlCQUFpQjtJQUN0QixLQUFLLFVBQVU7O0lBRWYsS0FBSyxXQUFXOztJQUVoQixLQUFLLE9BQU87O0lBRVosS0FBSyxZQUFZO01BQ2YsTUFBTTs7OztFQWdCVixhQUFhLFlBQVksQ0FBQztJQUN4QixLQUFLO0lBQ0wsT0FBTyxTQUFTLFNBWFQ7TUFDUCxLQUFLLGVBQWU7O0tBYW5CO0lBQ0QsS0FBSztJQUNMLE9BQU8sU0FBUyxPQVpYLE1BQU07TUFBQSxJQUFBLFFBQUE7OztNQUVYLEtBQUssb0JBQW9CLFNBQVMsTUFBTSxRQUFRLFlBQU07UUFDcEQsTUFBSzs7O0tBaUJOO0lBQ0QsS0FBSztJQUNMLE9BQU8sU0FBUyxXQWZQO01BQUEsSUFBQSxTQUFBOztNQUNULElBQU0sT0FBTyxLQUFLO01BQ2xCLEtBQUssU0FBUyxhQUFhLE1BQU0sS0FBSyxVQUFBLE1BQVE7UUFDNUMsT0FBSyxRQUFRLFFBQVE7UUFDckIsT0FBSztRQUNMLE9BQUssT0FBTzs7Ozs7RUFzQmhCLE9BQU87OztBQUdULFFBQVEsVUFqRWE7a3NGQWtFNnFGOztBQ2xFbHNGOztBQUVBLE9BQU8sZUFBZSxTQUFTLGNBQWM7RUFDM0MsT0FBTzs7O0FBSFQsSUFBQSxRQUFBLFFBQUE7O0FBUUEsSUFBSSxTQUFTLHVCQUF1Qjs7QUFFcEMsU0FBUyx1QkFBdUIsS0FBSyxFQUFFLE9BQU8sT0FBTyxJQUFJLGFBQWEsTUFBTSxFQUFFLFNBQVM7O0FBUnZGLElBQU0sZ0JBQWdCO0VBQ3BCLGFBQWE7RUFDYixZQUFBLE9BQUE7RUFDQSxjQUFjOzs7QUFhaEIsUUFBUSxVQVZPOzhwQkFXK29COztBQ25COXBCOztBQUVBLE9BQU8sZUFBZSxTQUFTLGNBQWM7RUFDM0MsT0FBTzs7QUFFVCxRQUFRLFlBQVk7O0FBTHBCLElBQUEsT0FBQSxRQUFBOztBQVNBLElBQUksUUFBUSx1QkFBdUI7O0FBRW5DLFNBQVMsdUJBQXVCLEtBQUssRUFBRSxPQUFPLE9BQU8sSUFBSSxhQUFhLE1BQU0sRUFBRSxTQUFTOztBQUV2RixRQVZFLFlBVWtCLE1BQU07MFRBQ2dTOztBQ2QxVDs7QUFFQSxPQUFPLGVBQWUsU0FBUyxjQUFjO0VBQzNDLE9BQU87OztBQUhULElBQUEsV0FBQSxRQUFBOztBQVFBLElBQUksWUFBWSx1QkFBdUI7O0FBUHZDLElBQUEsVUFBQSxRQUFBOztBQVdBLElBQUksV0FBVyx1QkFBdUI7O0FBVnRDLElBQUEsV0FBQSxRQUFBOztBQWNBLElBQUksWUFBWSx1QkFBdUI7O0FBWnZDLElBQUEsYUFBQSxRQUFBOztBQWdCQSxJQUFJLGNBQWMsdUJBQXVCOztBQWZ6QyxJQUFBLGFBQUEsUUFBQTs7QUFtQkEsSUFBSSxjQUFjLHVCQUF1Qjs7QUFFekMsU0FBUyx1QkFBdUIsS0FBSyxFQUFFLE9BQU8sT0FBTyxJQUFJLGFBQWEsTUFBTSxFQUFFLFNBQVM7Ozs7OztBQU12RixRQUFRLFVBcEJPLFVBQUEsUUFBUSxPQUFPLHNCQUFzQjs7Q0FFbkQsUUFBUSxpQkFGTSxVQUFBLFNBSWQsVUFBVSxtQkFKSSxZQUFBLFNBS2QsVUFBVSxtQkFMSSxZQUFBLFNBTWQsT0FOYyxTQUFBOzhwQ0F1QitvQzs7QUNuQzlwQzs7QUFFQSxPQUFPLGVBQWUsU0FBUyxjQUFjO0VBQzNDLE9BQU87OztBQUdULElBQUksZUFBZSxZQUFZLEVBQUUsU0FBUyxpQkFBaUIsUUFBUSxPQUFPLEVBQUUsS0FBSyxJQUFJLElBQUksR0FBRyxJQUFJLE1BQU0sUUFBUSxLQUFLLEVBQUUsSUFBSSxhQUFhLE1BQU0sSUFBSSxXQUFXLGFBQWEsV0FBVyxjQUFjLE9BQU8sV0FBVyxlQUFlLE1BQU0sSUFBSSxXQUFXLFlBQVksV0FBVyxXQUFXLE1BQU0sT0FBTyxlQUFlLFFBQVEsV0FBVyxLQUFLLGlCQUFpQixPQUFPLFVBQVUsYUFBYSxZQUFZLGFBQWEsRUFBRSxJQUFJLFlBQVksaUJBQWlCLFlBQVksV0FBVyxhQUFhLElBQUksYUFBYSxpQkFBaUIsYUFBYSxjQUFjLE9BQU87O0FBRWhpQixTQUFTLGdCQUFnQixVQUFVLGFBQWEsRUFBRSxJQUFJLEVBQUUsb0JBQW9CLGNBQWMsRUFBRSxNQUFNLElBQUksVUFBVTs7OytFQUVoSCxJQVZxQixVQVVQLFlBQVk7RUFUeEIsU0FBQSxRQUFZLE9BQU8sWUFBWSxZQUFZLFFBQVEsUUFBUTtJQUN6RDs7SUFEeUQsZ0JBQUEsTUFBQTs7SUFHekQsS0FBSyxRQUFROztJQUViLEtBQUssY0FBYzs7SUFFbkIsS0FBSyxVQUFVOztJQUVmLEtBQUssT0FBTyxPQUFPOztJQUVuQixLQUFLLGFBQWE7SUFDbEIsS0FBSyxTQUFTOzs7RUFlaEIsYUFBYSxTQUFTLENBQUM7SUFDckIsS0FBSztJQUNMLE9BQU8sU0FBUyxhQWRMLFFBQVE7TUFDbkIsS0FBSyxZQUFZLFFBQVE7TUFDekIsT0FBTyxLQUFLLE1BQU0sS0FBSyxLQUFLLEtBQUssVUFBVSxNQUFNLFFBQzlDLEtBQUssS0FBSyxZQUFZLFFBQVEsS0FBSyxZQUFZOztLQWVqRDtJQUNELEtBQUs7SUFDTCxPQUFPLFNBQVMsYUFmTCxRQUFRO01BQ25CLEtBQUssWUFBWSxRQUFRO01BQ3pCLE9BQU8sS0FBSyxNQUFNLEtBQUssS0FBSyxLQUFLLFVBQVUsS0FBSyxRQUM3QyxLQUFLLEtBQUssWUFBWSxRQUFRLEtBQUssWUFBWTs7S0FnQmpEO0lBQ0QsS0FBSztJQUNMLE9BQU8sU0FBUyxhQWhCTCxRQUFRO01BQ25CLEtBQUssWUFBWSxRQUFRO01BQ3pCLE9BQU8sS0FBSyxNQUFNLEtBQUssS0FBSyxLQUFLLFVBQVUsS0FBSyxRQUM3QyxLQUFLLEtBQUssWUFBWSxRQUFRLEtBQUssWUFBWTs7OztFQW1CcEQsT0FBTzs7O0FBR1QsUUFBUSxVQW5EYTswOUZBb0RxOEY7O0FDcEQxOUY7OztBQUVBLE9BQU8sZUFBZSxTQUFTLGNBQWM7SUFDekMsT0FBTzs7QUFIWCxTQUFTLE9BQU8sZ0JBQWdCO0lBQzlCOztJQUVBLGVBQ0csTUFBTSxlQUFlO1FBQ2xCLEtBQUs7O1FBRUwsVUFBVztRQUNYLE9BQU87UUFDUCxhQUFhO1lBQ1gsTUFBTTtZQUNOLE9BQU87Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7S0FtQlosTUFBTSx1QkFBdUI7UUFDMUIsS0FBSztRQUNMLFVBQVU7UUFDVixPQUFPOzs7O0FBUWYsUUFBUSxVQUNPO2t6RUFBbXlFOztBQzFDbHpFOztBQUVBLE9BQU8sZUFBZSxTQUFTLGNBQWM7RUFDM0MsT0FBTzs7O0FBSFQsSUFBQSxXQUFBLFFBQUE7O0FBUUEsSUFBSSxZQUFZLHVCQUF1Qjs7QUFQdkMsSUFBQSxVQUFBLFFBQUE7O0FBV0EsSUFBSSxXQUFXLHVCQUF1Qjs7QUFSdEMsSUFBQSxXQUFBLFFBQUE7O0FBWUEsSUFBSSxZQUFZLHVCQUF1Qjs7QUFFdkMsU0FBUyx1QkFBdUIsS0FBSyxFQUFFLE9BQU8sT0FBTyxJQUFJLGFBQWEsTUFBTSxFQUFFLFNBQVM7Ozs7O0FBS3ZGLFFBQVEsVUFaTyxVQUFBLFFBQVEsT0FBTywyQkFBMkI7Ozs7O0NBS3hELFVBQVUsc0JBTEksVUFBQSxTQU1kLE9BTmMsU0FBQTs7OzhpQ0FvQitoQzs7QUMvQjlpQzs7QUFFQSxPQUFPLGVBQWUsU0FBUyxjQUFjO0VBQzNDLE9BQU87OztBQUdULElBQUksZUFBZSxZQUFZLEVBQUUsU0FBUyxpQkFBaUIsUUFBUSxPQUFPLEVBQUUsS0FBSyxJQUFJLElBQUksR0FBRyxJQUFJLE1BQU0sUUFBUSxLQUFLLEVBQUUsSUFBSSxhQUFhLE1BQU0sSUFBSSxXQUFXLGFBQWEsV0FBVyxjQUFjLE9BQU8sV0FBVyxlQUFlLE1BQU0sSUFBSSxXQUFXLFlBQVksV0FBVyxXQUFXLE1BQU0sT0FBTyxlQUFlLFFBQVEsV0FBVyxLQUFLLGlCQUFpQixPQUFPLFVBQVUsYUFBYSxZQUFZLGFBQWEsRUFBRSxJQUFJLFlBQVksaUJBQWlCLFlBQVksV0FBVyxhQUFhLElBQUksYUFBYSxpQkFBaUIsYUFBYSxjQUFjLE9BQU87O0FBRWhpQixTQUFTLGdCQUFnQixVQUFVLGFBQWEsRUFBRSxJQUFJLEVBQUUsb0JBQW9CLGNBQWMsRUFBRSxNQUFNLElBQUksVUFBVTs7O29JQUVoSCxJQVJNLGFBUVcsWUFBWTtFQU4zQixTQUFBLFdBQVksV0FBVyxRQUFRLFdBQVcsYUFBYSxjQUFjLFFBQVEsV0FBVyxlQUFlO0lBQ3JHOztJQURxRyxnQkFBQSxNQUFBOztJQUdyRyxLQUFLLFNBQVM7SUFDZCxLQUFLLFlBQVk7SUFDakIsS0FBSyxlQUFlO0lBQ3BCLEtBQUssU0FBUzs7SUFFZCxLQUFLLHNCQUFzQjs7SUFFM0IsS0FBSyxVQUFVOztJQUVmLEtBQUssV0FBVzs7SUFFaEIsS0FBSyxVQUFVOztJQUVmLEtBQUssTUFBTTs7SUFHWCxLQUFLLFdBQVcsQ0FDZDtNQUNFLE1BQU07TUFDTixPQUFPO09BRVQ7TUFDRSxNQUFNO01BQ04sT0FBTztPQUVUO01BQ0UsTUFBTTtNQUNOLE9BQU87T0FFVDtNQUNFLE1BQU07TUFDTixPQUFPO09BRVQ7TUFDRSxNQUFNO01BQ04sT0FBTzs7O0lBSVgsS0FBSzs7O0VBS1AsYUFBYSxZQUFZLENBQUM7SUFDeEIsS0FBSztJQUNMLE9BQU8sU0FBUyxRQUhWO01BQ04sS0FBSzs7S0FLSjtJQUNELEtBQUs7SUFDTCxPQUFPLFNBQVMsZUFISDtNQUFBLElBQUEsUUFBQTs7TUFDYixLQUFLLFNBQVMsSUFBSSxLQUFLLEtBQUssS0FBSyxVQUFBLE1BQVE7UUFDdkMsSUFBRyxNQUFNO1VBQ1AsTUFBSyxjQUFjLFFBQVEsU0FBUztlQUMvQjtVQUNMLE1BQUs7O1NBRU4sTUFBTSxVQUFBLEdBQUs7UUFDWixNQUFLOzs7S0FRTjtJQUNELEtBQUs7SUFDTCxPQUFPLFNBQVMsa0JBTkE7TUFDaEIsS0FBSyxjQUFjOztNQUVuQixLQUFLOztLQVFKO0lBQ0QsS0FBSztJQUNMLE9BQU8sU0FBUyxXQVBQLE1BQU07TUFDZixJQUFJLENBQUMsVUFBVSxZQUFZLFFBQVEsS0FBSyxRQUFRLENBQUMsR0FBRztRQUNsRCxLQUFLLFdBQVc7YUFDWDtRQUNMLEtBQUssV0FBVzs7O0tBVWpCO0lBQ0QsS0FBSztJQUNMLE9BQU8sU0FBUyxhQVJMO01BQ1gsSUFBSSxhQUFhO1FBQ2YsTUFBTTtRQUNOLFlBQVk7UUFDWixTQUFTOztNQUVYLEtBQUssWUFBWSxLQUFLO01BQ3RCLEtBQUssUUFBUTs7S0FVWjtJQUNELEtBQUs7SUFDTCxPQUFPLFNBQVMsY0FUSixPQUFPO01BQ25CLEtBQUssWUFBWSxPQUFPLE9BQU87O0tBVzlCO0lBQ0QsS0FBSztJQUNMLE9BQU8sU0FBUyxRQVZWLFNBQVM7TUFDZixJQUFJLGFBQWE7UUFDZixPQUFPO1FBQ1AsTUFBTTtRQUNOLGFBQWE7UUFDYixZQUFZO1FBQ1osVUFBVTtRQUNWLFlBQVk7OztNQUdkLFFBQVEsUUFBUSxLQUFLOztNQUVyQixLQUFLLFFBQVE7O0tBWVo7SUFDRCxLQUFLO0lBQ0wsT0FBTyxTQUFTLFdBWFAsTUFBTSxPQUFPO01BQ3RCLEtBQUssUUFBUSxPQUFPLE9BQU87O0tBYTFCO0lBQ0QsS0FBSztJQUNMLE9BQU8sU0FBUyxRQVpWLE1BQU07TUFDWixLQUFLLFdBQVcsS0FBSztRQUNuQixhQUFhOzs7S0FlZDtJQUNELEtBQUs7SUFDTCxPQUFPLFNBQVMsV0FiUCxNQUFNLE9BQU87TUFDdEIsS0FBSyxXQUFXLE9BQU8sT0FBTzs7S0FlN0I7SUFDRCxLQUFLO0lBQ0wsT0FBTyxTQUFTLE9BWlgsTUFBTTtNQUFBLElBQUEsU0FBQTs7O01BRVgsS0FBSyxvQkFBb0IsU0FBUyxNQUFNLFFBQVEsWUFBTTtRQUNwRCxPQUFLOzs7S0FpQk47SUFDRCxLQUFLO0lBQ0wsT0FBTyxTQUFTLFdBZlA7TUFBQSxJQUFBLFNBQUE7Ozs7OztNQUtULEtBQUssU0FBUyxJQUFJO1FBQ2hCLEtBQUssS0FBSztRQUNWLE9BQU8sUUFBUSxPQUFPLEtBQUs7U0FDMUIsS0FBSyxVQUFBLE1BQVE7UUFDZCxPQUFLLFFBQVEsUUFBUTs7Ozs7RUFzQnpCLE9BQU87OztBQUdULFFBQVEsVUFuQk87azZPQW9CbTVPOztBQ3hLbDZPOztBQUVBLE9BQU8sZUFBZSxTQUFTLGNBQWM7RUFDM0MsT0FBTzs7O0FBSFQsSUFBQSxRQUFBLFFBQUE7O0FBUUEsSUFBSSxTQUFTLHVCQUF1Qjs7QUFFcEMsU0FBUyx1QkFBdUIsS0FBSyxFQUFFLE9BQU8sT0FBTyxJQUFJLGFBQWEsTUFBTSxFQUFFLFNBQVM7O0FBUnZGLElBQU0sWUFBWTtFQUNoQixhQUFhO0VBQ2IsWUFBQSxPQUFBO0VBQ0EsY0FBYzs7O0FBYWhCLFFBQVEsVUFWTzswb0JBVzJuQjs7QUNuQjFvQjs7O0FBRUEsT0FBTyxlQUFlLFNBQVMsY0FBYztFQUMzQyxPQUFPOztBQUhULFNBQVMsT0FBTyxnQkFBZ0I7RUFDOUI7O0VBRUEsZUFDRyxNQUFNLGNBQWM7SUFDakIsS0FBSzs7SUFFTCxVQUFXO0lBQ1gsT0FBTztJQUNQLGFBQWE7TUFDWCxNQUFNO01BQ04sT0FBTzs7Ozs7Ozs7Ozs7QUFlakIsUUFBUSxVQUhPOzgzQ0FJKzJDOztBQzNCOTNDOztBQUVBLE9BQU8sZUFBZSxTQUFTLGNBQWM7RUFDM0MsT0FBTzs7O0FBR1QsSUFBSSxXQUFXLE9BQU8sVUFBVSxVQUFVLFFBQVEsRUFBRSxLQUFLLElBQUksSUFBSSxHQUFHLElBQUksVUFBVSxRQUFRLEtBQUssRUFBRSxJQUFJLFNBQVMsVUFBVSxJQUFJLEtBQUssSUFBSSxPQUFPLFFBQVEsRUFBRSxJQUFJLE9BQU8sVUFBVSxlQUFlLEtBQUssUUFBUSxNQUFNLEVBQUUsT0FBTyxPQUFPLE9BQU8sWUFBWSxPQUFPOztBQUV2UCxJQUFJLGVBQWUsWUFBWSxFQUFFLFNBQVMsaUJBQWlCLFFBQVEsT0FBTyxFQUFFLEtBQUssSUFBSSxJQUFJLEdBQUcsSUFBSSxNQUFNLFFBQVEsS0FBSyxFQUFFLElBQUksYUFBYSxNQUFNLElBQUksV0FBVyxhQUFhLFdBQVcsY0FBYyxPQUFPLFdBQVcsZUFBZSxNQUFNLElBQUksV0FBVyxZQUFZLFdBQVcsV0FBVyxNQUFNLE9BQU8sZUFBZSxRQUFRLFdBQVcsS0FBSyxpQkFBaUIsT0FBTyxVQUFVLGFBQWEsWUFBWSxhQUFhLEVBQUUsSUFBSSxZQUFZLGlCQUFpQixZQUFZLFdBQVcsYUFBYSxJQUFJLGFBQWEsaUJBQWlCLGFBQWEsY0FBYyxPQUFPOztBQVJoaUIsSUFBQSxnQkFBQSxRQUFBOztBQVlBLElBQUksaUJBQWlCLHVCQUF1Qjs7QUFYNUMsSUFBQSxVQUFBLFFBQUE7O0FBZUEsU0FBUyx1QkFBdUIsS0FBSyxFQUFFLE9BQU8sT0FBTyxJQUFJLGFBQWEsTUFBTSxFQUFFLFNBQVM7O0FBRXZGLFNBQVMsZ0JBQWdCLFVBQVUsYUFBYSxFQUFFLElBQUksRUFBRSxvQkFBb0IsY0FBYyxFQUFFLE1BQU0sSUFBSSxVQUFVOztBQUVoSCxTQUFTLDJCQUEyQixNQUFNLE1BQU0sRUFBRSxJQUFJLENBQUMsTUFBTSxFQUFFLE1BQU0sSUFBSSxlQUFlLGdFQUFnRSxPQUFPLFNBQVMsT0FBTyxTQUFTLFlBQVksT0FBTyxTQUFTLGNBQWMsT0FBTzs7QUFFek8sU0FBUyxVQUFVLFVBQVUsWUFBWSxFQUFFLElBQUksT0FBTyxlQUFlLGNBQWMsZUFBZSxNQUFNLEVBQUUsTUFBTSxJQUFJLFVBQVUsNkRBQTZELE9BQU8sZUFBZSxTQUFTLFlBQVksT0FBTyxPQUFPLGNBQWMsV0FBVyxXQUFXLEVBQUUsYUFBYSxFQUFFLE9BQU8sVUFBVSxZQUFZLE9BQU8sVUFBVSxNQUFNLGNBQWMsV0FBVyxJQUFJLFlBQVksT0FBTyxpQkFBaUIsT0FBTyxlQUFlLFVBQVUsY0FBYyxTQUFTLFlBQVk7Ozs2SEFFamUsSUFyQk0saUJBcUJlLFVBQVUsYUFBYTtFQUMxQyxVQUFVLGdCQUFnQjs7RUFwQjFCLFNBQUEsZUFBWSxXQUFXLFFBQVEsV0FBVyxjQUFjLFFBQVEsV0FBVyxtQkFBbUI7SUFDNUY7O0lBRDRGLGdCQUFBLE1BQUE7O0lBQUEsSUFBQSxRQUFBLDJCQUFBLE1BQUEsQ0FBQSxlQUFBLGFBQUEsT0FBQSxlQUFBLGlCQUFBLEtBQUEsTUFHdEY7O0lBRU4sTUFBSyxTQUFTO0lBQ2QsTUFBSyxZQUFZO0lBQ2pCLE1BQUssZUFBZTtJQUNwQixNQUFLLFNBQVM7O0lBRWQsTUFBSyxVQUFVOztJQUVmLE1BQUssV0FBVzs7SUFFaEIsTUFBSyxVQUFVOztJQUVmLE1BQUssYUFBYTs7SUFFbEIsTUFBSzs7SUFsQnVGLE9BQUE7OztFQStDOUYsYUFBYSxnQkFBZ0IsQ0FBQztJQUM1QixLQUFLO0lBQ0wsT0FBTyxTQUFTLFFBM0JWOztNQUVOLEtBQUs7TUFDTCxLQUFLOztLQTZCSjtJQUNELEtBQUs7SUFDTCxPQUFPLFNBQVMsZUEzQkg7O01BRWIsSUFBTSxjQUFjLEtBQUs7O01BRXpCLEtBQUssUUFBUSxTQUFTLENBQUMsWUFBWSxVQUFVLEtBQUs7O01BRWxELEtBQUssUUFBUSxPQUFPLFlBQVksUUFBUSxLQUFLOztLQTZCNUM7SUFDRCxLQUFLO0lBQ0wsT0FBTyxTQUFTLFdBM0JQO01BQUEsSUFBQSxTQUFBOztNQUVULElBQUksU0FBUyxLQUFLOztNQUVsQixPQUFPLE9BQU8sS0FBSyxXQUFXOztNQUU5QixLQUFLLFNBQVMsUUFBUSxRQUFRLEtBQUssVUFBQSxNQUFRO1FBQ3pDLElBQUcsZ0JBQWdCLE9BQU87VUFDeEIsT0FBSyxPQUFPO2VBQ1A7O1VBRUwsT0FBSyxPQUFPLEtBQUs7VUFDakIsT0FBSyxXQUFXLFFBQVEsS0FBSyxhQUFhLE9BQUssV0FBVzs7OztLQWdDN0Q7SUFDRCxLQUFLO0lBQ0wsT0FBTyxTQUFTLGNBNUJKLE1BQU07Ozs7Ozs7O0tBb0NqQjtJQUNELEtBQUs7SUFDTCxPQUFPLFNBQVMsZUE3Qkg7TUFDYixJQUFJLEtBQUssUUFBUSxXQUFXLE1BQU07UUFDaEMsS0FBSyxRQUFRLFNBQVM7OztLQWdDdkI7SUFDRCxLQUFLO0lBQ0wsT0FBTyxTQUFTLGFBOUJMO01BQ1gsSUFBSSxhQUFhLEtBQUs7TUFDdEIsSUFBTSxVQUFVO1FBQ2QsTUFBTSxTQUFBLE9BQVU7VUFDZCxPQUFPO1lBQ0wsWUFBQTs7Ozs7TUFLTixJQUFNLFVBQUEsU0FBQSxJQUFBLFFBQUEsV0FBQSxFQUF5QixTQUFBOztNQUUvQixLQUFLLE9BQU8sS0FBTTs7S0FnQ2pCO0lBQ0QsS0FBSztJQUNMLE9BQU8sU0FBUyxJQS9CZCxJQUFJLE9BQU87TUFBQSxJQUFBLFNBQUE7O01BQ2IsS0FBSyxTQUFTLElBQUk7UUFDaEIsSUFBQTtRQUNBLE9BQUE7U0FDQyxLQUFLLFVBQUEsTUFBUTtRQUNkLE9BQUssUUFBUSxRQUFRO1FBQ3JCLE9BQUssT0FBTzs7O0tBb0NiO0lBQ0QsS0FBSztJQUNMLE9BQU8sU0FBUyxRQWxDWCxNQUFNO01BQ1gsS0FBSyxJQUFJLEtBQUssSUFBSTs7S0FvQ2pCO0lBQ0QsS0FBSztJQUNMLE9BQU8sU0FBUyxhQXBDTCxNQUFNO01BQ2pCLEtBQUssSUFBSSxLQUFLLElBQUk7Ozs7RUF3Q3BCLE9BQU87RUFDUCxlQUFlOztBQUVqQixRQUFRLFVBckNPO2tsTUFzQ21rTTs7QUN0SmxsTTs7QUFFQSxPQUFPLGVBQWUsU0FBUyxjQUFjO0VBQzNDLE9BQU87OztBQUhULElBQUEsUUFBQSxRQUFBOztBQVFBLElBQUksU0FBUyx1QkFBdUI7O0FBRXBDLFNBQVMsdUJBQXVCLEtBQUssRUFBRSxPQUFPLE9BQU8sSUFBSSxhQUFhLE1BQU0sRUFBRSxTQUFTOztBQVJ2RixJQUFNLE9BQU87RUFDWCxhQUFhO0VBQ2IsWUFBQSxPQUFBO0VBQ0EsY0FBYzs7O0FBYWhCLFFBQVEsVUFWTztrbkJBV21tQjs7QUNuQmxuQjs7QUFFQSxPQUFPLGVBQWUsU0FBUyxjQUFjO0VBQzNDLE9BQU87OztBQUdULElBQUksZUFBZSxZQUFZLEVBQUUsU0FBUyxpQkFBaUIsUUFBUSxPQUFPLEVBQUUsS0FBSyxJQUFJLElBQUksR0FBRyxJQUFJLE1BQU0sUUFBUSxLQUFLLEVBQUUsSUFBSSxhQUFhLE1BQU0sSUFBSSxXQUFXLGFBQWEsV0FBVyxjQUFjLE9BQU8sV0FBVyxlQUFlLE1BQU0sSUFBSSxXQUFXLFlBQVksV0FBVyxXQUFXLE1BQU0sT0FBTyxlQUFlLFFBQVEsV0FBVyxLQUFLLGlCQUFpQixPQUFPLFVBQVUsYUFBYSxZQUFZLGFBQWEsRUFBRSxJQUFJLFlBQVksaUJBQWlCLFlBQVksV0FBVyxhQUFhLElBQUksYUFBYSxpQkFBaUIsYUFBYSxjQUFjLE9BQU87O0FBRWhpQixTQUFTLGdCQUFnQixVQUFVLGFBQWEsRUFBRSxJQUFJLEVBQUUsb0JBQW9CLGNBQWMsRUFBRSxNQUFNLElBQUksVUFBVTs7O3dIQUVoSCxJQVZxQixhQVVKLFlBQVk7RUFUM0IsU0FBQSxXQUFZLFFBQVEsUUFBUSxhQUFhLG1CQUFtQixRQUFRLG1CQUFtQixNQUFNO0lBQzNGOztJQUQyRixnQkFBQSxNQUFBOztJQUczRixLQUFLLFNBQVM7SUFDZCxLQUFLLFNBQVM7O0lBRWQsS0FBSyxzQkFBc0I7O0lBRTNCLEtBQUssaUJBQWlCO0lBQ3RCLEtBQUssVUFBVTs7SUFFZixLQUFLLFdBQVc7O0lBRWhCLEtBQUssT0FBTzs7SUFFWixLQUFLLFlBQVk7TUFDZixNQUFNO01BQ04sU0FBUzs7Ozs7Ozs7Ozs7Ozs7O0VBMkJiLGFBQWEsWUFBWSxDQUFDO0lBQ3hCLEtBQUs7SUFDTCxPQUFPLFNBQVMsU0FYVDtNQUNQLEtBQUssZUFBZTs7S0FhbkI7SUFDRCxLQUFLO0lBQ0wsT0FBTyxTQUFTLE9BWlgsTUFBTTtNQUFBLElBQUEsUUFBQTs7O01BRVgsS0FBSyxvQkFBb0IsU0FBUyxNQUFNLFFBQVEsWUFBTTtRQUNwRCxNQUFLOzs7S0FpQk47SUFDRCxLQUFLO0lBQ0wsT0FBTyxTQUFTLFdBZlA7TUFBQSxJQUFBLFNBQUE7O01BQ1QsSUFBTSxPQUFPLEtBQUs7TUFDbEIsS0FBSyxTQUFTLElBQUksTUFBTSxLQUFLLFVBQUEsTUFBUTtRQUNuQyxPQUFLLFFBQVEsUUFBUTtRQUNyQixPQUFLO1FBQ0wsT0FBSyxPQUFPOzs7OztFQXNCaEIsT0FBTzs7O0FBR1QsUUFBUSxVQTdFYTswdUdBOEVxdEc7O0FDOUUxdUc7O0FBRUEsT0FBTyxlQUFlLFNBQVMsY0FBYztFQUMzQyxPQUFPOzs7QUFIVCxJQUFBLFFBQUEsUUFBQTs7QUFRQSxJQUFJLFNBQVMsdUJBQXVCOztBQUVwQyxTQUFTLHVCQUF1QixLQUFLLEVBQUUsT0FBTyxPQUFPLElBQUksYUFBYSxNQUFNLEVBQUUsU0FBUzs7QUFSdkYsSUFBTSxnQkFBZ0I7RUFDcEIsYUFBYTtFQUNiLFlBQUEsT0FBQTtFQUNBLGNBQWM7OztBQWFoQixRQUFRLFVBVk87a3FCQVdtcEI7Ozs7QUNuQmxxQjs7QUFFQSxPQUFPLGVBQWUsU0FBUyxjQUFjO0VBQzNDLE9BQU87OztBQUhULElBQUEsV0FBQSxRQUFBOztBQVFBLElBQUksWUFBWSx1QkFBdUI7O0FBUHZDLElBQUEsVUFBQSxRQUFBOztBQVdBLElBQUksV0FBVyx1QkFBdUI7O0FBVnRDLElBQUEsV0FBQSxRQUFBOztBQWNBLElBQUksWUFBWSx1QkFBdUI7O0FBYnZDLElBQUEsUUFBQSxRQUFBOztBQWlCQSxJQUFJLFNBQVMsdUJBQXVCOztBQUVwQyxTQUFTLHVCQUF1QixLQUFLLEVBQUUsT0FBTyxPQUFPLElBQUksYUFBYSxNQUFNLEVBQUUsU0FBUzs7Ozs7QUFLdkYsUUFBUSxVQWpCTyxVQUFBLFFBQVEsT0FBTywwQkFBMEI7O0NBRXZELFFBQVEscUJBRk0sVUFBQSxTQUlkLFVBQVUsa0JBSkksT0FBQSxTQUtkLE9BTGMsU0FBQTs4OEJBb0IrN0I7O0FDOUI5OEI7O0FBRUEsT0FBTyxlQUFlLFNBQVMsY0FBYztFQUMzQyxPQUFPOzs7QUFHVCxJQUFJLGVBQWUsWUFBWSxFQUFFLFNBQVMsaUJBQWlCLFFBQVEsT0FBTyxFQUFFLEtBQUssSUFBSSxJQUFJLEdBQUcsSUFBSSxNQUFNLFFBQVEsS0FBSyxFQUFFLElBQUksYUFBYSxNQUFNLElBQUksV0FBVyxhQUFhLFdBQVcsY0FBYyxPQUFPLFdBQVcsZUFBZSxNQUFNLElBQUksV0FBVyxZQUFZLFdBQVcsV0FBVyxNQUFNLE9BQU8sZUFBZSxRQUFRLFdBQVcsS0FBSyxpQkFBaUIsT0FBTyxVQUFVLGFBQWEsWUFBWSxhQUFhLEVBQUUsSUFBSSxZQUFZLGlCQUFpQixZQUFZLFdBQVcsYUFBYSxJQUFJLGFBQWEsaUJBQWlCLGFBQWEsY0FBYyxPQUFPOztBQUVoaUIsU0FBUyxnQkFBZ0IsVUFBVSxhQUFhLEVBQUUsSUFBSSxFQUFFLG9CQUFvQixjQUFjLEVBQUUsTUFBTSxJQUFJLFVBQVU7OzsrRUFFaEgsSUFWcUIsVUFVUCxZQUFZO0VBVHhCLFNBQUEsUUFBWSxPQUFPLFlBQVksWUFBWSxRQUFRLFFBQVE7SUFDekQ7O0lBRHlELGdCQUFBLE1BQUE7O0lBR3pELEtBQUssUUFBUTs7SUFFYixLQUFLLGNBQWM7O0lBRW5CLEtBQUssT0FBTyxPQUFPOztJQUVuQixLQUFLLGFBQWE7SUFDbEIsS0FBSyxTQUFTOzs7Ozs7Ozs7O0VBc0JoQixhQUFhLFNBQVMsQ0FBQztJQUNyQixLQUFLO0lBQ0wsT0FBTyxTQUFTLFFBZFYsUUFBUTs7TUFFZCxLQUFLLFlBQVksUUFBUTs7TUFFekIsT0FBTyxLQUFLLE1BQU0sSUFBSSxLQUFLLEtBQUssU0FBUyxFQUFDLFFBQVEsVUFBUyxLQUFLLEtBQUssWUFBWSxRQUFRLEtBQUssWUFBWTs7S0FnQnpHO0lBQ0QsS0FBSztJQUNMLE9BQU8sU0FBUyxJQWZkLE1BQU07O01BRVIsS0FBSyxZQUFZLFFBQVE7O01BRXpCLE9BQU8sS0FBSyxNQUFNLEtBQUssS0FBSyxLQUFLLEtBQUssTUFBTSxLQUFLLEtBQUssWUFBWSxRQUFRLEtBQUssWUFBWTs7S0FpQjFGO0lBQ0QsS0FBSztJQUNMLE9BQU8sU0FBUyxJQWhCZCxNQUFNO01BQ1IsS0FBSyxZQUFZLFFBQVE7O01BRXpCLE9BQU8sS0FBSyxNQUFNLEtBQUssS0FBSyxLQUFLLEtBQUssTUFBTSxLQUFLLEtBQUssWUFBWSxRQUFRLEtBQUssWUFBWTs7OztFQW9CN0YsT0FBTzs7O0FBR1QsUUFBUSxVQTdEYTs4bEdBOER5a0c7O0FDOUQ5bEc7OztBQUVBLE9BQU8sZUFBZSxTQUFTLGNBQWM7SUFDekMsT0FBTzs7QUFIWCxTQUFTLE9BQU8sZ0JBQWdCO0lBQzlCOztJQUVBLGVBQ0csTUFBTSxRQUFRO1FBQ1gsS0FBSztRQUNMLFVBQVc7UUFDWCxPQUFPO1FBQ1AsYUFBYTtZQUNYLE1BQU07WUFDTixPQUFPOztPQUdaLE1BQU0sZ0JBQWdCO1FBQ25CLEtBQUs7UUFDTCxVQUFVO1FBQ1YsT0FBTztRQUNQLGFBQWE7WUFDWCxPQUFPOztPQUdaLE1BQU0sYUFBYTtRQUNoQixLQUFLO1FBQ0wsVUFBVTtRQUNWLE9BQU87UUFDUCxhQUFhO1lBQ1gsT0FBTzs7T0FHWixNQUFNLGlCQUFpQjtRQUNwQixLQUFLO1FBQ0wsVUFBVTtRQUNWLE9BQU87Ozs7QUFLZixRQUFRLFVBQ087MHRFQUEyc0U7O0FDdEMxdEU7O0FBRUEsT0FBTyxlQUFlLFNBQVMsY0FBYztFQUMzQyxPQUFPOzs7QUFHVCxJQUFJLGVBQWUsWUFBWSxFQUFFLFNBQVMsaUJBQWlCLFFBQVEsT0FBTyxFQUFFLEtBQUssSUFBSSxJQUFJLEdBQUcsSUFBSSxNQUFNLFFBQVEsS0FBSyxFQUFFLElBQUksYUFBYSxNQUFNLElBQUksV0FBVyxhQUFhLFdBQVcsY0FBYyxPQUFPLFdBQVcsZUFBZSxNQUFNLElBQUksV0FBVyxZQUFZLFdBQVcsV0FBVyxNQUFNLE9BQU8sZUFBZSxRQUFRLFdBQVcsS0FBSyxpQkFBaUIsT0FBTyxVQUFVLGFBQWEsWUFBWSxhQUFhLEVBQUUsSUFBSSxZQUFZLGlCQUFpQixZQUFZLFdBQVcsYUFBYSxJQUFJLGFBQWEsaUJBQWlCLGFBQWEsY0FBYyxPQUFPOztBQUVoaUIsU0FBUyxnQkFBZ0IsVUFBVSxhQUFhLEVBQUUsSUFBSSxFQUFFLG9CQUFvQixjQUFjLEVBQUUsTUFBTSxJQUFJLFVBQVU7OztrSUFFaEgsSUFSTSxhQVFXLFlBQVk7RUFOM0IsU0FBQSxXQUFZLFdBQVcsUUFBUSxXQUFXLGFBQWEsY0FBYyxRQUFRLFdBQVcsYUFBYTtJQUNuRzs7SUFEbUcsZ0JBQUEsTUFBQTs7SUFHbkcsS0FBSyxTQUFTO0lBQ2QsS0FBSyxZQUFZO0lBQ2pCLEtBQUssZUFBZTtJQUNwQixLQUFLLFNBQVM7O0lBRWQsS0FBSyxzQkFBc0I7SUFDM0IsS0FBSyxLQUFLLEtBQUssYUFBYTs7SUFFNUIsS0FBSyxVQUFVOztJQUVmLEtBQUssV0FBVzs7SUFFaEIsS0FBSyxVQUFVO0lBQ2YsS0FBSyxXQUFXOztJQUVoQixLQUFLOztJQUVMLEtBQUssV0FBVztNQUNkLFdBQVc7TUFDWCxVQUFVOzs7O0VBYWQsYUFBYSxZQUFZLENBQUM7SUFDeEIsS0FBSztJQUNMLE9BQU8sU0FBUyxRQVRWO01BQ04sSUFBSSxPQUFPO1FBQ1QsSUFBSTs7TUFFTixLQUFLLGFBQWE7O0tBV2pCO0lBQ0QsS0FBSztJQUNMLE9BQU8sU0FBUyxVQVZSO01BQ1IsSUFBSSxPQUFPO1FBQ1QsSUFBSTtRQUNKLE1BQU0sUUFBUSxPQUFPLEtBQUs7O01BRTVCLEtBQUssYUFBYSxNQUFLOztLQVl0QjtJQUNELEtBQUs7SUFDTCxPQUFPLFNBQVMsV0FYUDtNQUNULElBQUksUUFBUTtNQUNaLEtBQUssU0FBUyxRQUFRLFVBQVMsTUFBSztRQUNsQyxLQUFLLFFBQVEsS0FBSyxRQUFRO1FBQzFCLFNBQVMsU0FBUyxLQUFLOztNQUV6QixPQUFPOztLQWFOO0lBQ0QsS0FBSztJQUNMLE9BQU8sU0FBUyxhQVpMLE1BQWM7TUFBQSxJQUFBLFFBQUE7O01BQUEsSUFBUixNQUFRLFVBQUEsU0FBQSxLQUFBLFVBQUEsT0FBQSxZQUFBLFVBQUEsS0FBSjs7TUFDckIsS0FBSyxTQUFTLElBQUksTUFBTSxLQUFLLFVBQUEsTUFBUTtRQUNuQyxJQUFHLFFBQVEsQ0FBQyxPQUFPLGNBQWMsT0FBTztVQUN0QyxNQUFLLFdBQVc7VUFDaEIsSUFBSSxJQUFJLFNBQVMsR0FBRztZQUNsQixNQUFLLFFBQVEsUUFBUTs7Ozs7S0FxQjFCO0lBQ0QsS0FBSztJQUNMLE9BQU8sU0FBUyxPQWpCWCxNQUFNO01BQUEsSUFBQSxTQUFBOzs7TUFFWCxLQUFLLG9CQUFvQixTQUFTLE1BQU0sUUFBUSxZQUFNO1FBQ3BELE9BQUs7OztLQXNCTjtJQUNELEtBQUs7SUFDTCxPQUFPLFNBQVMsV0FuQlA7TUFBQSxJQUFBLFNBQUE7O01BQ1QsSUFBSSxPQUFPO1FBQ1QsSUFBSSxLQUFLO1FBQ1QsTUFBTSxRQUFRLE9BQU8sS0FBSzs7TUFFNUIsS0FBSyxTQUFTLElBQUksTUFBTSxLQUFLLFVBQUEsTUFBUTtRQUNqQyxPQUFLLFFBQVEsUUFBUTs7Ozs7RUEwQjNCLE9BQU87OztBQUdULFFBQVEsVUF2Qk87MGlLQXdCMmhLOztBQy9HMWlLOztBQUVBLE9BQU8sZUFBZSxTQUFTLGNBQWM7RUFDM0MsT0FBTzs7O0FBSFQsSUFBQSxRQUFBLFFBQUE7O0FBUUEsSUFBSSxTQUFTLHVCQUF1Qjs7QUFFcEMsU0FBUyx1QkFBdUIsS0FBSyxFQUFFLE9BQU8sT0FBTyxJQUFJLGFBQWEsTUFBTSxFQUFFLFNBQVM7O0FBUnZGLElBQU0sWUFBWTtFQUNoQixhQUFhO0VBQ2IsWUFBQSxPQUFBO0VBQ0EsY0FBYzs7O0FBYWhCLFFBQVEsVUFWTztrb0JBV21uQjs7QUNuQmxvQjs7QUFFQSxPQUFPLGVBQWUsU0FBUyxjQUFjO0VBQzNDLE9BQU87OztBQUdULElBQUksV0FBVyxPQUFPLFVBQVUsVUFBVSxRQUFRLEVBQUUsS0FBSyxJQUFJLElBQUksR0FBRyxJQUFJLFVBQVUsUUFBUSxLQUFLLEVBQUUsSUFBSSxTQUFTLFVBQVUsSUFBSSxLQUFLLElBQUksT0FBTyxRQUFRLEVBQUUsSUFBSSxPQUFPLFVBQVUsZUFBZSxLQUFLLFFBQVEsTUFBTSxFQUFFLE9BQU8sT0FBTyxPQUFPLFlBQVksT0FBTzs7QUFFdlAsSUFBSSxlQUFlLFlBQVksRUFBRSxTQUFTLGlCQUFpQixRQUFRLE9BQU8sRUFBRSxLQUFLLElBQUksSUFBSSxHQUFHLElBQUksTUFBTSxRQUFRLEtBQUssRUFBRSxJQUFJLGFBQWEsTUFBTSxJQUFJLFdBQVcsYUFBYSxXQUFXLGNBQWMsT0FBTyxXQUFXLGVBQWUsTUFBTSxJQUFJLFdBQVcsWUFBWSxXQUFXLFdBQVcsTUFBTSxPQUFPLGVBQWUsUUFBUSxXQUFXLEtBQUssaUJBQWlCLE9BQU8sVUFBVSxhQUFhLFlBQVksYUFBYSxFQUFFLElBQUksWUFBWSxpQkFBaUIsWUFBWSxXQUFXLGFBQWEsSUFBSSxhQUFhLGlCQUFpQixhQUFhLGNBQWMsT0FBTzs7QUFSaGlCLElBQUEsZ0JBQUEsUUFBQTs7QUFZQSxJQUFJLGlCQUFpQix1QkFBdUI7O0FBRTVDLFNBQVMsdUJBQXVCLEtBQUssRUFBRSxPQUFPLE9BQU8sSUFBSSxhQUFhLE1BQU0sRUFBRSxTQUFTOztBQUV2RixTQUFTLGdCQUFnQixVQUFVLGFBQWEsRUFBRSxJQUFJLEVBQUUsb0JBQW9CLGNBQWMsRUFBRSxNQUFNLElBQUksVUFBVTs7QUFFaEgsU0FBUywyQkFBMkIsTUFBTSxNQUFNLEVBQUUsSUFBSSxDQUFDLE1BQU0sRUFBRSxNQUFNLElBQUksZUFBZSxnRUFBZ0UsT0FBTyxTQUFTLE9BQU8sU0FBUyxZQUFZLE9BQU8sU0FBUyxjQUFjLE9BQU87O0FBRXpPLFNBQVMsVUFBVSxVQUFVLFlBQVksRUFBRSxJQUFJLE9BQU8sZUFBZSxjQUFjLGVBQWUsTUFBTSxFQUFFLE1BQU0sSUFBSSxVQUFVLDZEQUE2RCxPQUFPLGVBQWUsU0FBUyxZQUFZLE9BQU8sT0FBTyxjQUFjLFdBQVcsV0FBVyxFQUFFLGFBQWEsRUFBRSxPQUFPLFVBQVUsWUFBWSxPQUFPLFVBQVUsTUFBTSxjQUFjLFdBQVcsSUFBSSxZQUFZLE9BQU8saUJBQWlCLE9BQU8sZUFBZSxVQUFVLGNBQWMsU0FBUyxZQUFZOzs7Z0lBRWplLElBcEJNLGlCQW9CZSxVQUFVLGFBQWE7RUFDMUMsVUFBVSxnQkFBZ0I7O0VBbkIxQixTQUFBLGVBQVksV0FBVyxRQUFRLFdBQVcsY0FBYyxPQUFPLFFBQVEsV0FBVyxhQUFhO0lBQzdGOztJQUQ2RixnQkFBQSxNQUFBOztJQUFBLElBQUEsUUFBQSwyQkFBQSxNQUFBLENBQUEsZUFBQSxhQUFBLE9BQUEsZUFBQSxpQkFBQSxLQUFBLE1BR3ZGOztJQUVOLE1BQUssU0FBUztJQUNkLE1BQUssWUFBWTtJQUNqQixNQUFLLGVBQWU7SUFDcEIsTUFBSyxTQUFTOztJQUVkLE1BQUssU0FBUztJQUNkLE1BQUssVUFBVTs7SUFFZixNQUFLLFdBQVc7O0lBRWhCLE1BQUssaUJBQWlCLENBQ3BCO01BQ0UsT0FBTztNQUNQLE9BQU87T0FFVDtNQUNFLE9BQU87TUFDUCxPQUFPOzs7SUFJWCxNQUFLLHNCQUFzQixDQUN6QjtNQUNFLE9BQU87TUFDUCxPQUFPO09BRVQ7TUFDRSxPQUFPO01BQ1AsT0FBTztPQUVUO01BQ0UsT0FBTztNQUNQLE9BQU87T0FFVDtNQUNFLE9BQU87TUFDUCxPQUFPOzs7SUFJWCxNQUFLLFVBQVU7O0lBRWYsTUFBSyxhQUFhOztJQUVsQixNQUFLOztJQWpEd0YsT0FBQTs7O0VBcUUvRixhQUFhLGdCQUFnQixDQUFDO0lBQzVCLEtBQUs7SUFDTCxPQUFPLFNBQVMsUUFsQlY7O01BRU4sS0FBSztNQUNMLEtBQUs7O0tBb0JKO0lBQ0QsS0FBSztJQUNMLE9BQU8sU0FBUyxlQWxCSDs7TUFFYixJQUFNLGNBQWMsS0FBSzs7TUFFekIsS0FBSyxRQUFRLGlCQUFpQixZQUFZLGtCQUFrQjtNQUM1RCxLQUFLLFFBQVEsUUFBUSxZQUFZLFFBQU8sQ0FBQyxZQUFZLFFBQVEsS0FBSzs7TUFFbEUsS0FBSyxRQUFRLE9BQU8sWUFBWSxRQUFRLEtBQUs7O0tBb0I1QztJQUNELEtBQUs7SUFDTCxPQUFPLFNBQVMsV0FsQlA7TUFBQSxJQUFBLFNBQUE7O01BRVQsSUFBSSxTQUFTLEtBQUs7O01BRWxCLE9BQU8sT0FBTyxLQUFLLFdBQVc7TUFDOUIsT0FBTyxrQkFBa0I7O01BRXpCLEtBQUssU0FBUyxRQUFRLFFBQVEsS0FBSyxVQUFBLE1BQVE7UUFDekMsUUFBUSxJQUFJO1FBQ1osT0FBSyxPQUFPLEtBQUs7UUFDakIsT0FBSyxXQUFXLFFBQVEsS0FBSyxhQUFhLE9BQUssV0FBVzs7O0tBc0IzRDtJQUNELEtBQUs7SUFDTCxPQUFPLFNBQVMsV0FuQlA7TUFDVCxJQUFJLE9BQU87TUFDWCxLQUFLLFVBQVUsT0FBZixTQUFBLElBQTBCLEtBQUsscUJBQS9CLEVBQW9ELE1BQUE7O0tBcUJuRDtJQUNELEtBQUs7SUFDTCxPQUFPLFNBQVMsUUFwQlgsS0FBSyxPQUFPOztNQUVqQixJQUFHLENBQUMsS0FBSztRQUNQLE9BQU87OztNQUdULEtBQUssUUFBUSxPQUFPOztNQUVwQixLQUFLOzs7O0VBd0JQLE9BQU87RUFDUCxlQUFlOztBQUVqQixRQUFRLFVBckJPO3M2TEFzQnU1TDs7QUNuSXQ2TDs7QUFFQSxPQUFPLGVBQWUsU0FBUyxjQUFjO0VBQzNDLE9BQU87OztBQUhULElBQUEsUUFBQSxRQUFBOztBQVFBLElBQUksU0FBUyx1QkFBdUI7O0FBRXBDLFNBQVMsdUJBQXVCLEtBQUssRUFBRSxPQUFPLE9BQU8sSUFBSSxhQUFhLE1BQU0sRUFBRSxTQUFTOztBQVJ2RixJQUFNLE9BQU87RUFDWCxhQUFhO0VBQ2IsWUFBQSxPQUFBO0VBQ0EsY0FBYzs7O0FBYWhCLFFBQVEsVUFWTzswbUJBVzJsQjs7QUNuQjFtQjs7QUFFQSxPQUFPLGVBQWUsU0FBUyxjQUFjO0VBQzNDLE9BQU87OztBQUhULElBQUEsV0FBQSxRQUFBOztBQVFBLElBQUksWUFBWSx1QkFBdUI7O0FBUHZDLElBQUEsYUFBQSxRQUFBOztBQVdBLElBQUksY0FBYyx1QkFBdUI7O0FBVnpDLElBQUEsVUFBQSxRQUFBOztBQWNBLElBQUksV0FBVyx1QkFBdUI7O0FBYnRDLElBQUEsV0FBQSxRQUFBOztBQWlCQSxJQUFJLFlBQVksdUJBQXVCOztBQWhCdkMsSUFBQSxZQUFBLFFBQUE7O0FBb0JBLElBQUksYUFBYSx1QkFBdUI7O0FBbkJ4QyxJQUFBLFFBQUEsUUFBQTs7QUF1QkEsSUFBSSxTQUFTLHVCQUF1Qjs7QUF0QnBDLElBQUEsV0FBQSxRQUFBOztBQTBCQSxJQUFJLFlBQVksdUJBQXVCOztBQUV2QyxTQUFTLHVCQUF1QixLQUFLLEVBQUUsT0FBTyxPQUFPLElBQUksYUFBYSxNQUFNLEVBQUUsU0FBUzs7QUFFdkYsUUFBUSxVQTVCTyxVQUFBLFFBQVEsT0FBTyxvQkFBb0IsSUFDakQsUUFBUSxlQURNLFVBQUEsU0FFZCxVQUFVLGVBRkksVUFBQSxTQUdkLFVBQVUsZ0JBSEksV0FBQSxTQUlkLFVBQVUsWUFKSSxPQUFBLFNBS2QsT0FMYyxTQUFBOzBsQ0E2QjJrQzs7QUNyQzFsQzs7QUFFQSxPQUFPLGVBQWUsU0FBUyxjQUFjO0VBQzNDLE9BQU87OztBQUdULElBQUksZUFBZSxZQUFZLEVBQUUsU0FBUyxpQkFBaUIsUUFBUSxPQUFPLEVBQUUsS0FBSyxJQUFJLElBQUksR0FBRyxJQUFJLE1BQU0sUUFBUSxLQUFLLEVBQUUsSUFBSSxhQUFhLE1BQU0sSUFBSSxXQUFXLGFBQWEsV0FBVyxjQUFjLE9BQU8sV0FBVyxlQUFlLE1BQU0sSUFBSSxXQUFXLFlBQVksV0FBVyxXQUFXLE1BQU0sT0FBTyxlQUFlLFFBQVEsV0FBVyxLQUFLLGlCQUFpQixPQUFPLFVBQVUsYUFBYSxZQUFZLGFBQWEsRUFBRSxJQUFJLFlBQVksaUJBQWlCLFlBQVksV0FBVyxhQUFhLElBQUksYUFBYSxpQkFBaUIsYUFBYSxjQUFjLE9BQU87O0FBRWhpQixTQUFTLGdCQUFnQixVQUFVLGFBQWEsRUFBRSxJQUFJLEVBQUUsb0JBQW9CLGNBQWMsRUFBRSxNQUFNLElBQUksVUFBVTs7OytFQUVoSCxJQVZxQixVQVVQLFlBQVk7RUFUeEIsU0FBQSxRQUFZLE9BQU8sWUFBWSxZQUFZLFFBQVEsUUFBUTtJQUN6RDs7SUFEeUQsZ0JBQUEsTUFBQTs7SUFHekQsS0FBSyxRQUFROztJQUViLEtBQUssY0FBYzs7SUFFbkIsS0FBSyxPQUFPLE9BQU87SUFDbkIsS0FBSyxRQUFTLE9BQU87O0lBRXJCLEtBQUssYUFBYTtJQUNsQixLQUFLLFNBQVM7OztFQWVoQixhQUFhLFNBQVMsQ0FBQztJQUNyQixLQUFLO0lBQ0wsT0FBTyxTQUFTLElBZGQsUUFBUTs7TUFFVixLQUFLLFlBQVksUUFBUTs7TUFFekIsT0FBTyxLQUFLLE1BQU0sS0FBSyxLQUFLLEtBQUssS0FBSyxRQUFRLEtBQUssS0FBSyxZQUFZLFFBQVMsS0FBSyxZQUFZOztLQWdCN0Y7SUFDRCxLQUFLO0lBQ0wsT0FBTyxTQUFTLElBZmQsUUFBUTs7TUFFVixLQUFLLFlBQVksUUFBUTs7TUFFekIsT0FBTyxLQUFLLE1BQU0sS0FBSyxLQUFLLEtBQUssS0FBSyxRQUFRLEtBQUssS0FBSyxZQUFZLFFBQVMsS0FBSyxZQUFZOztLQWlCN0Y7SUFDRCxLQUFLO0lBQ0wsT0FBTyxTQUFTLFFBaEJWLFFBQVE7O01BRWQsS0FBSyxZQUFZLFFBQVE7O01BRXpCLE9BQU8sS0FBSyxNQUFNLEtBQUssS0FBSyxNQUFNLFNBQVMsUUFBUSxLQUFLLEtBQUssWUFBWSxRQUFTLEtBQUssWUFBWTs7OztFQW9CckcsT0FBTzs7O0FBR1QsUUFBUSxVQXhEYTswNEZBeURxM0Y7O0FDekQxNEY7O0FBRUEsT0FBTyxlQUFlLFNBQVMsY0FBYztFQUMzQyxPQUFPOzs7QUFHVCxJQUFJLGVBQWUsWUFBWSxFQUFFLFNBQVMsaUJBQWlCLFFBQVEsT0FBTyxFQUFFLEtBQUssSUFBSSxJQUFJLEdBQUcsSUFBSSxNQUFNLFFBQVEsS0FBSyxFQUFFLElBQUksYUFBYSxNQUFNLElBQUksV0FBVyxhQUFhLFdBQVcsY0FBYyxPQUFPLFdBQVcsZUFBZSxNQUFNLElBQUksV0FBVyxZQUFZLFdBQVcsV0FBVyxNQUFNLE9BQU8sZUFBZSxRQUFRLFdBQVcsS0FBSyxpQkFBaUIsT0FBTyxVQUFVLGFBQWEsWUFBWSxhQUFhLEVBQUUsSUFBSSxZQUFZLGlCQUFpQixZQUFZLFdBQVcsYUFBYSxJQUFJLGFBQWEsaUJBQWlCLGFBQWEsY0FBYyxPQUFPOztBQUVoaUIsU0FBUyxnQkFBZ0IsVUFBVSxhQUFhLEVBQUUsSUFBSSxFQUFFLG9CQUFvQixjQUFjLEVBQUUsTUFBTSxJQUFJLFVBQVU7OztvSUFFaEgsSUFSTSxhQVFXLFlBQVk7RUFOM0IsU0FBQSxXQUFZLFdBQVcsUUFBUSxXQUFXLGFBQWEsY0FBYyxRQUFRLFdBQVcsZUFBZTtJQUNyRzs7SUFEcUcsZ0JBQUEsTUFBQTs7SUFHckcsS0FBSyxTQUFTO0lBQ2QsS0FBSyxZQUFZO0lBQ2pCLEtBQUssZUFBZTtJQUNwQixLQUFLLFNBQVM7O0lBRWQsS0FBSyxzQkFBc0I7O0lBRTNCLEtBQUssVUFBVTs7SUFFZixLQUFLLFdBQVc7O0lBRWhCLEtBQUssVUFBVTs7SUFHZixLQUFLLGdCQUFnQjtNQUNuQixVQUFVO1FBQ1IsS0FBSztRQUNMLFFBQVE7UUFDUixZQUFZOztNQUVkLFdBQVc7UUFDVCxLQUFLO1FBQ0wsTUFBTTtRQUNOLEtBQUs7UUFDTCxNQUFNO1FBQ04sS0FBSzs7OztJQUlULEtBQUssV0FBVztNQUNkLFdBQVc7TUFDWCxVQUFVOzs7SUFHWixLQUFLOzs7RUFXUCxhQUFhLFlBQVksQ0FBQztJQUN4QixLQUFLO0lBQ0wsT0FBTyxTQUFTLFFBVFY7TUFDTixLQUFLOztLQVdKO0lBQ0QsS0FBSztJQUNMLE9BQU8sU0FBUyxlQVRIO01BQUEsSUFBQSxRQUFBOztNQUNiLEtBQUssU0FBUyxJQUFJLDJCQUEyQixLQUFLLFVBQUEsTUFBUTtRQUN4RCxJQUFHLFFBQVEsQ0FBQyxPQUFPLGNBQWMsT0FBTztVQUN0QyxNQUFLLFdBQVcsS0FBSyxNQUFNO2VBQ3RCO1VBQ0wsTUFBSzs7OztLQWVSO0lBQ0QsS0FBSztJQUNMLE9BQU8sU0FBUyxrQkFaQTtNQUNoQixLQUFLLFdBQVc7O01BRWhCLEtBQUs7O0tBY0o7SUFDRCxLQUFLO0lBQ0wsT0FBTyxTQUFTLGVBYkg7TUFDYixJQUFJLFVBQVU7UUFDWixPQUFPO1FBQ1AsT0FBTztRQUNQLGdCQUFnQjs7TUFFbEIsS0FBSyxTQUFTLEtBQUs7TUFDbkIsS0FBSyxXQUFXOztLQWVmO0lBQ0QsS0FBSztJQUNMLE9BQU8sU0FBUyxXQWRQLFNBQVM7TUFDbEIsSUFBSSxhQUFhO1FBQ2YsT0FBTztRQUNQLGFBQWE7UUFDYixTQUFTOzs7TUFHWCxRQUFRLGVBQWUsS0FBSztNQUM1QixLQUFLLFFBQVE7O0tBZ0JaO0lBQ0QsS0FBSztJQUNMLE9BQU8sU0FBUyxjQWZKLE9BQU87TUFDbkIsS0FBSyxTQUFTLE9BQU8sT0FBTzs7S0FpQjNCO0lBQ0QsS0FBSztJQUNMLE9BQU8sU0FBUyxRQWhCVixTQUFTO01BQ2YsSUFBSSxhQUFhO1FBQ2YsV0FBWSxRQUFRLGVBQWUsV0FBVyxNQUFNO1FBQ3BELE9BQU87UUFDUCxPQUFPOzs7TUFHVCxRQUFRLFFBQVEsS0FBSzs7S0FrQnBCO0lBQ0QsS0FBSztJQUNMLE9BQU8sU0FBUyxXQWpCUCxNQUFNLE9BQU87TUFDdEIsS0FBSyxRQUFRLE9BQU8sT0FBTzs7S0FtQjFCO0lBQ0QsS0FBSztJQUNMLE9BQU8sU0FBUyxXQWxCUCxNQUFNLE9BQU87TUFDdEIsS0FBSyxXQUFXLE9BQU8sT0FBTzs7S0FvQjdCO0lBQ0QsS0FBSztJQUNMLE9BQU8sU0FBUyxXQW5CUCxTQUFTO01BQ2xCLFFBQVEsUUFBUSxRQUFRLFVBQVMsUUFBTztRQUN0QyxJQUFJLFFBQVEsZUFBZSxXQUFXO1VBQ3BDLE9BQU8sWUFBWTtlQUNkO1VBQ0wsT0FBTyxZQUFZOzs7O0tBdUJ0QjtJQUNELEtBQUs7SUFDTCxPQUFPLFNBQVMsT0FwQlgsTUFBTTtNQUFBLElBQUEsU0FBQTs7O01BRVgsSUFBSSxPQUFPO01BQ1gsSUFBSSxPQUFPO01BQ1gsS0FBSyxvQkFBb0IsU0FBUyxNQUFNLFFBQVEsWUFBTTs7UUFFcEQsSUFBSSxRQUFRO1FBQ1osT0FBSyxTQUFTLFFBQVEsVUFBUyxNQUFLO1VBQ2xDLElBQUksWUFBWTtVQUNoQixLQUFLLGVBQWUsUUFBUSxVQUFTLFdBQVU7WUFDM0MsSUFBSSxXQUFXO1lBQ2YsVUFBVSxRQUFRLFFBQVEsVUFBUyxRQUFPO2NBQ3hDLElBQUksT0FBTyxRQUFRLFVBQVU7Z0JBQzNCLFdBQVcsU0FBUyxPQUFPOzs7WUFHL0IsYUFBYSxTQUFTOztVQUUxQixJQUFJLFlBQVksU0FBUyxLQUFLLFFBQVE7WUFDcEMsS0FBSyxRQUFRLE1BQU0sS0FBSyxRQUFNO1lBQzlCLE9BQU87WUFDUCxPQUFPOztVQUVULFNBQVMsU0FBUyxLQUFLOztRQUV6QixJQUFJLE1BQU07VUFDUjs7UUFFRixJQUFJLFFBQVEsS0FBSztVQUNmLE9BQUssUUFBUSxNQUFNO1VBQ25COztRQUVGLE9BQUs7OztLQXlCTjtJQUNELEtBQUs7SUFDTCxPQUFPLFNBQVMsV0F0QlA7TUFBQSxJQUFBLFNBQUE7Ozs7OztNQUtULEtBQUssU0FBUyxJQUFJO1FBQ2hCLEtBQUs7UUFDTCxPQUFPLFFBQVEsT0FBTyxLQUFLO1NBQzFCLEtBQUssVUFBQSxNQUFRO1FBQ2QsT0FBSyxRQUFRLFFBQVE7Ozs7O0VBNkJ6QixPQUFPOzs7QUFHVCxRQUFRLFVBMUJPOzB5VEEyQjJ4VDs7QUN0TTF5VDs7QUFFQSxPQUFPLGVBQWUsU0FBUyxjQUFjO0VBQzNDLE9BQU87OztBQUhULElBQUEsUUFBQSxRQUFBOztBQVFBLElBQUksU0FBUyx1QkFBdUI7O0FBRXBDLFNBQVMsdUJBQXVCLEtBQUssRUFBRSxPQUFPLE9BQU8sSUFBSSxhQUFhLE1BQU0sRUFBRSxTQUFTOztBQVJ2RixJQUFNLFlBQVk7RUFDaEIsYUFBYTtFQUNiLFlBQUEsT0FBQTtFQUNBLGNBQWM7OztBQWFoQixRQUFRLFVBVk87OG5CQVcrbUI7O0FDbkI5bkI7OztBQUVBLE9BQU8sZUFBZSxTQUFTLGNBQWM7RUFDM0MsT0FBTzs7QUFIVCxTQUFTLE9BQU8sZ0JBQWdCO0VBQzlCOztFQUVBLGVBQ0csTUFBTSxPQUFPO0lBQ1YsS0FBSzs7SUFFTCxVQUFXO0lBQ1gsT0FBTztJQUNQLGFBQWE7TUFDWCxNQUFNO01BQ04sT0FBTzs7Ozs7Ozs7Ozs7QUFlakIsUUFBUSxVQUhPOzh3Q0FJK3ZDOztBQzNCOXdDOztBQUVBLE9BQU8sZUFBZSxTQUFTLGNBQWM7RUFDM0MsT0FBTzs7O0FBR1QsSUFBSSxlQUFlLFlBQVksRUFBRSxTQUFTLGlCQUFpQixRQUFRLE9BQU8sRUFBRSxLQUFLLElBQUksSUFBSSxHQUFHLElBQUksTUFBTSxRQUFRLEtBQUssRUFBRSxJQUFJLGFBQWEsTUFBTSxJQUFJLFdBQVcsYUFBYSxXQUFXLGNBQWMsT0FBTyxXQUFXLGVBQWUsTUFBTSxJQUFJLFdBQVcsWUFBWSxXQUFXLFdBQVcsTUFBTSxPQUFPLGVBQWUsUUFBUSxXQUFXLEtBQUssaUJBQWlCLE9BQU8sVUFBVSxhQUFhLFlBQVksYUFBYSxFQUFFLElBQUksWUFBWSxpQkFBaUIsWUFBWSxXQUFXLGFBQWEsSUFBSSxhQUFhLGlCQUFpQixhQUFhLGNBQWMsT0FBTzs7QUFOaGlCLElBQUEsZ0JBQUEsUUFBQTs7QUFVQSxJQUFJLGlCQUFpQix1QkFBdUI7O0FBRTVDLFNBQVMsdUJBQXVCLEtBQUssRUFBRSxPQUFPLE9BQU8sSUFBSSxhQUFhLE1BQU0sRUFBRSxTQUFTOztBQUV2RixTQUFTLGdCQUFnQixVQUFVLGFBQWEsRUFBRSxJQUFJLEVBQUUsb0JBQW9CLGNBQWMsRUFBRSxNQUFNLElBQUksVUFBVTs7QUFFaEgsU0FBUywyQkFBMkIsTUFBTSxNQUFNLEVBQUUsSUFBSSxDQUFDLE1BQU0sRUFBRSxNQUFNLElBQUksZUFBZSxnRUFBZ0UsT0FBTyxTQUFTLE9BQU8sU0FBUyxZQUFZLE9BQU8sU0FBUyxjQUFjLE9BQU87O0FBRXpPLFNBQVMsVUFBVSxVQUFVLFlBQVksRUFBRSxJQUFJLE9BQU8sZUFBZSxjQUFjLGVBQWUsTUFBTSxFQUFFLE1BQU0sSUFBSSxVQUFVLDZEQUE2RCxPQUFPLGVBQWUsU0FBUyxZQUFZLE9BQU8sT0FBTyxjQUFjLFdBQVcsV0FBVyxFQUFFLGFBQWEsRUFBRSxPQUFPLFVBQVUsWUFBWSxPQUFPLFVBQVUsTUFBTSxjQUFjLFdBQVcsSUFBSSxZQUFZLE9BQU8saUJBQWlCLE9BQU8sZUFBZSxVQUFVLGNBQWMsU0FBUyxZQUFZOzs7c0hBRWplLElBbEJNLGlCQWtCZSxVQUFVLGFBQWE7RUFDMUMsVUFBVSxnQkFBZ0I7O0VBakIxQixTQUFBLGVBQVksV0FBVyxRQUFRLFdBQVcsY0FBYyxRQUFRLFdBQVcsWUFBWTtJQUNyRjs7SUFEcUYsZ0JBQUEsTUFBQTs7SUFBQSxJQUFBLFFBQUEsMkJBQUEsTUFBQSxDQUFBLGVBQUEsYUFBQSxPQUFBLGVBQUEsaUJBQUEsS0FBQSxNQUcvRTs7SUFFTixNQUFLLFNBQVM7SUFDZCxNQUFLLFlBQVk7SUFDakIsTUFBSyxlQUFlO0lBQ3BCLE1BQUssU0FBUzs7SUFFZCxNQUFLLFVBQVU7O0lBRWYsTUFBSyxXQUFXOztJQUVoQixNQUFLLFVBQVU7O0lBRWYsTUFBSyxhQUFhLFNBQVMsSUFBSSxDQUFDLEdBQUc7SUFDbkMsTUFBSyxRQUFRLFlBQVksTUFBSyxXQUFXO0lBQ3pDLE1BQUssV0FBVztJQUNoQixNQUFLLFFBQVEsVUFBVSxNQUFLLFNBQVM7O0lBRXJDLE1BQUssb0JBQW9CO0lBQ3pCLE1BQUssa0JBQWtCOztJQUV2QixNQUFLOztJQXhCZ0YsT0FBQTs7O0VBa0R2RixhQUFhLGdCQUFnQixDQUFDO0lBQzVCLEtBQUs7SUFDTCxPQUFPLFNBQVMsUUF4QlY7TUFDTixLQUFLO01BQ0wsS0FBSzs7S0EwQko7SUFDRCxLQUFLO0lBQ0wsT0FBTyxTQUFTLGVBekJIOztNQUViLElBQU0sY0FBYyxLQUFLOzs7S0E0QnhCO0lBQ0QsS0FBSztJQUNMLE9BQU8sU0FBUyxXQXhCUDtNQUFBLElBQUEsU0FBQTs7TUFDVCxJQUFJLFNBQVMsS0FBSztNQUNsQixPQUFPLE9BQU8sS0FBSyxXQUFXOztNQUU5QixLQUFLLFNBQVMsS0FBSyxRQUFRLEtBQUssVUFBQSxNQUFRO1FBQ3RDLE9BQUssV0FBVyxRQUFRLEtBQUs7UUFDN0IsT0FBSyxXQUFXLFdBQVcsS0FBSztRQUNoQyxPQUFLLE9BQU8sS0FBSzs7O0tBNkJsQjtJQUNELEtBQUs7SUFDTCxPQUFPLFNBQVMsY0EzQko7TUFDWixLQUFLOztLQTZCSjtJQUNELEtBQUs7SUFDTCxPQUFPLFNBQVMsV0E1QlA7TUFDVCxLQUFLOzs7OztLQWlDSjtJQUNELEtBQUs7SUFDTCxPQUFPLFNBQVMsV0EvQlAsTUFBTTtNQUNmLElBQUksU0FBUztRQUNULFNBQVM7UUFDVCxTQUFTOztNQUViLElBQUksUUFBUSxTQUFTO1FBQ25CLEtBQUssUUFBUSxZQUFZLEtBQUssV0FBVztRQUN6QyxLQUFLLGtCQUFrQixLQUFLO1FBQzVCLE9BQU8sVUFBVSxLQUFLO1FBQ3RCLE9BQU8sVUFBVTthQUNaO1FBQ0wsS0FBSyxRQUFRLFVBQVUsS0FBSyxTQUFTO1FBQ3JDLEtBQUssb0JBQW9CLEtBQUs7UUFDOUIsT0FBTyxVQUFVLEtBQUs7O01BRXhCLEtBQUs7Ozs7RUFtQ1AsT0FBTztFQUNQLGVBQWU7O0FBRWpCLFFBQVEsVUFsQ087ODZLQW1DKzVLOztBQ3ZIOTZLOztBQUVBLE9BQU8sZUFBZSxTQUFTLGNBQWM7RUFDM0MsT0FBTzs7O0FBSFQsSUFBQSxRQUFBLFFBQUE7O0FBUUEsSUFBSSxTQUFTLHVCQUF1Qjs7QUFFcEMsU0FBUyx1QkFBdUIsS0FBSyxFQUFFLE9BQU8sT0FBTyxJQUFJLGFBQWEsTUFBTSxFQUFFLFNBQVM7O0FBUnZGLElBQU0sT0FBTztFQUNYLGFBQWE7RUFDYixZQUFBLE9BQUE7RUFDQSxjQUFjOzs7QUFhaEIsUUFBUSxVQVZPOzBtQkFXMmxCOztBQ25CMW1COztBQUVBLE9BQU8sZUFBZSxTQUFTLGNBQWM7RUFDM0MsT0FBTzs7O0FBSFQsSUFBQSxXQUFBLFFBQUE7O0FBUUEsSUFBSSxZQUFZLHVCQUF1Qjs7QUFQdkMsSUFBQSxhQUFBLFFBQUE7O0FBV0EsSUFBSSxjQUFjLHVCQUF1Qjs7QUFWekMsSUFBQSxVQUFBLFFBQUE7O0FBY0EsSUFBSSxXQUFXLHVCQUF1Qjs7QUFidEMsSUFBQSxXQUFBLFFBQUE7O0FBaUJBLElBQUksWUFBWSx1QkFBdUI7O0FBaEJ2QyxJQUFBLFFBQUEsUUFBQTs7QUFvQkEsSUFBSSxTQUFTLHVCQUF1Qjs7QUFFcEMsU0FBUyx1QkFBdUIsS0FBSyxFQUFFLE9BQU8sT0FBTyxJQUFJLGFBQWEsTUFBTSxFQUFFLFNBQVM7O0FBRXZGLFFBQVEsVUF0Qk8sVUFBQSxRQUFRLE9BQU8sbUJBQW1COztDQUVoRCxRQUFRLGNBRk0sVUFBQSxTQUlkLFVBQVUsV0FKSSxPQUFBLFNBS2QsT0FMYyxTQUFBO3M0QkF5QnUzQjs7QUMvQnQ0Qjs7QUFFQSxPQUFPLGVBQWUsU0FBUyxjQUFjO0VBQzNDLE9BQU87OztBQUdULElBQUksZUFBZSxZQUFZLEVBQUUsU0FBUyxpQkFBaUIsUUFBUSxPQUFPLEVBQUUsS0FBSyxJQUFJLElBQUksR0FBRyxJQUFJLE1BQU0sUUFBUSxLQUFLLEVBQUUsSUFBSSxhQUFhLE1BQU0sSUFBSSxXQUFXLGFBQWEsV0FBVyxjQUFjLE9BQU8sV0FBVyxlQUFlLE1BQU0sSUFBSSxXQUFXLFlBQVksV0FBVyxXQUFXLE1BQU0sT0FBTyxlQUFlLFFBQVEsV0FBVyxLQUFLLGlCQUFpQixPQUFPLFVBQVUsYUFBYSxZQUFZLGFBQWEsRUFBRSxJQUFJLFlBQVksaUJBQWlCLFlBQVksV0FBVyxhQUFhLElBQUksYUFBYSxpQkFBaUIsYUFBYSxjQUFjLE9BQU87O0FBRWhpQixTQUFTLGdCQUFnQixVQUFVLGFBQWEsRUFBRSxJQUFJLEVBQUUsb0JBQW9CLGNBQWMsRUFBRSxNQUFNLElBQUksVUFBVTs7OytFQUVoSCxJQVZxQixVQVVQLFlBQVk7RUFUeEIsU0FBQSxRQUFZLE9BQU8sWUFBWSxZQUFZLFFBQVEsUUFBUTtJQUN6RDs7SUFEeUQsZ0JBQUEsTUFBQTs7SUFHekQsS0FBSyxRQUFROztJQUViLEtBQUssY0FBYzs7SUFFbkIsS0FBSyxPQUFPLE9BQU87O0lBRW5CLEtBQUssYUFBYTtJQUNsQixLQUFLLFNBQVM7OztFQWVoQixhQUFhLFNBQVMsQ0FBQztJQUNyQixLQUFLO0lBQ0wsT0FBTyxTQUFTLEtBZGIsUUFBUTs7TUFFWCxLQUFLLFlBQVksUUFBUTs7TUFFekIsT0FBTyxLQUFLLE1BQU0sS0FBSyxLQUFLLEtBQUssTUFBTSxRQUFRLEtBQUssS0FBSyxZQUFZLFFBQVMsS0FBSyxZQUFZOzs7O0VBa0JqRyxPQUFPOzs7QUFHVCxRQUFRLFVBdkNhO2t0REF3QzZyRDs7QUN4Q2x0RDs7O0FBRUEsT0FBTyxlQUFlLFNBQVMsY0FBYztJQUN6QyxPQUFPOztBQUhYLFNBQVMsT0FBTyxnQkFBZ0I7SUFDOUI7O0lBRUEsZUFDRyxNQUFNLFdBQVc7UUFDZCxLQUFLO1FBQ0wsVUFBVTtRQUNWLFVBQVc7UUFDWCxPQUFPO09BRVYsTUFBTSxnQkFBZ0I7UUFDbkIsS0FBSztRQUNMLFVBQVU7UUFDVixPQUFPO09BRVYsTUFBTSxrQkFBa0I7UUFDdkIsS0FBSztRQUNMLFVBQVU7UUFDVixPQUFPOzs7O0FBTWIsUUFBUSxVQUFPOzg4Q0FDKzdDOztBQ3pCOThDOztBQUVBLE9BQU8sZUFBZSxTQUFTLGNBQWM7RUFDM0MsT0FBTzs7O0FBR1QsSUFBSSxlQUFlLFlBQVksRUFBRSxTQUFTLGlCQUFpQixRQUFRLE9BQU8sRUFBRSxLQUFLLElBQUksSUFBSSxHQUFHLElBQUksTUFBTSxRQUFRLEtBQUssRUFBRSxJQUFJLGFBQWEsTUFBTSxJQUFJLFdBQVcsYUFBYSxXQUFXLGNBQWMsT0FBTyxXQUFXLGVBQWUsTUFBTSxJQUFJLFdBQVcsWUFBWSxXQUFXLFdBQVcsTUFBTSxPQUFPLGVBQWUsUUFBUSxXQUFXLEtBQUssaUJBQWlCLE9BQU8sVUFBVSxhQUFhLFlBQVksYUFBYSxFQUFFLElBQUksWUFBWSxpQkFBaUIsWUFBWSxXQUFXLGFBQWEsSUFBSSxhQUFhLGlCQUFpQixhQUFhLGNBQWMsT0FBTzs7QUFFaGlCLFNBQVMsZ0JBQWdCLFVBQVUsYUFBYSxFQUFFLElBQUksRUFBRSxvQkFBb0IsY0FBYyxFQUFFLE1BQU0sSUFBSSxVQUFVOzs7K0VBRWhILElBVk0sYUFVVyxZQUFZO0VBUjNCLFNBQUEsV0FBWSxRQUFRLGNBQWMsUUFBUSxnQkFBZ0I7SUFDeEQ7O0lBRHdELGdCQUFBLE1BQUE7O0lBR3hELEtBQUssU0FBUztJQUNkLEtBQUssVUFBVTtJQUNmLEtBQUssZUFBZTs7SUFFcEIsS0FBSyxXQUFXOztJQUVoQixLQUFLLEtBQUssS0FBSyxhQUFhOztJQUU1QixLQUFLLE9BQU87O0lBRVosS0FBSzs7O0VBY1AsYUFBYSxZQUFZLENBQUM7SUFDeEIsS0FBSztJQUNMLE9BQU8sU0FBUyxPQWJYO01BQUEsSUFBQSxRQUFBOztNQUNMLEtBQUssU0FBUyxJQUFJLEtBQUssSUFBSSxLQUFLLFVBQUEsTUFBUTtRQUN0QyxNQUFLLE9BQU87UUFDWixJQUFJLEtBQUssVUFBVSxHQUFHO1VBQ3BCLE1BQUs7Ozs7S0FtQlI7SUFDRCxLQUFLO0lBQ0wsT0FBTyxTQUFTLFFBaEJWO01BQ04sS0FBSyxTQUFTLElBQUk7UUFDaEIsSUFBSSxLQUFLO1FBQ1QsT0FBTztTQUNOLEtBQUssVUFBQSxNQUFROztLQWtCZjtJQUNELEtBQUs7SUFDTCxPQUFPLFNBQVMsVUFmVjtNQUFBLElBQUEsU0FBQTs7TUFDUixLQUFLLFNBQVMsSUFBSTtRQUNkLElBQUksS0FBSztRQUNULE9BQU87U0FDTixLQUFLLFVBQUEsTUFBUTtRQUNkLE9BQUssUUFBUSxRQUFRO1FBQ3JCLE9BQUssT0FBTyxHQUFHOzs7OztFQXNCbkIsT0FBTzs7O0FBR1QsUUFBUSxVQXBCTzs4bEZBcUIra0Y7O0FDcEU5bEY7O0FBRUEsT0FBTyxlQUFlLFNBQVMsY0FBYztFQUMzQyxPQUFPOzs7QUFIVCxJQUFBLFFBQUEsUUFBQTs7QUFRQSxJQUFJLFNBQVMsdUJBQXVCOztBQUVwQyxTQUFTLHVCQUF1QixLQUFLLEVBQUUsT0FBTyxPQUFPLElBQUksYUFBYSxNQUFNLEVBQUUsU0FBUzs7QUFSdkYsSUFBTSxTQUFTO0VBQ2IsYUFBYTtFQUNiLFlBQUEsT0FBQTtFQUNBLGNBQWM7OztBQWFoQixRQUFRLFVBVk87OGxCQVcra0I7O0FDbkI5bEI7O0FBRUEsT0FBTyxlQUFlLFNBQVMsY0FBYztFQUMzQyxPQUFPOzs7QUFHVCxJQUFJLGVBQWUsWUFBWSxFQUFFLFNBQVMsaUJBQWlCLFFBQVEsT0FBTyxFQUFFLEtBQUssSUFBSSxJQUFJLEdBQUcsSUFBSSxNQUFNLFFBQVEsS0FBSyxFQUFFLElBQUksYUFBYSxNQUFNLElBQUksV0FBVyxhQUFhLFdBQVcsY0FBYyxPQUFPLFdBQVcsZUFBZSxNQUFNLElBQUksV0FBVyxZQUFZLFdBQVcsV0FBVyxNQUFNLE9BQU8sZUFBZSxRQUFRLFdBQVcsS0FBSyxpQkFBaUIsT0FBTyxVQUFVLGFBQWEsWUFBWSxhQUFhLEVBQUUsSUFBSSxZQUFZLGlCQUFpQixZQUFZLFdBQVcsYUFBYSxJQUFJLGFBQWEsaUJBQWlCLGFBQWEsY0FBYyxPQUFPOztBQU5oaUIsSUFBQSxnQkFBQSxRQUFBOztBQVVBLElBQUksaUJBQWlCLHVCQUF1Qjs7QUFFNUMsU0FBUyx1QkFBdUIsS0FBSyxFQUFFLE9BQU8sT0FBTyxJQUFJLGFBQWEsTUFBTSxFQUFFLFNBQVM7O0FBRXZGLFNBQVMsZ0JBQWdCLFVBQVUsYUFBYSxFQUFFLElBQUksRUFBRSxvQkFBb0IsY0FBYyxFQUFFLE1BQU0sSUFBSSxVQUFVOztBQUVoSCxTQUFTLDJCQUEyQixNQUFNLE1BQU0sRUFBRSxJQUFJLENBQUMsTUFBTSxFQUFFLE1BQU0sSUFBSSxlQUFlLGdFQUFnRSxPQUFPLFNBQVMsT0FBTyxTQUFTLFlBQVksT0FBTyxTQUFTLGNBQWMsT0FBTzs7QUFFek8sU0FBUyxVQUFVLFVBQVUsWUFBWSxFQUFFLElBQUksT0FBTyxlQUFlLGNBQWMsZUFBZSxNQUFNLEVBQUUsTUFBTSxJQUFJLFVBQVUsNkRBQTZELE9BQU8sZUFBZSxTQUFTLFlBQVksT0FBTyxPQUFPLGNBQWMsV0FBVyxXQUFXLEVBQUUsYUFBYSxFQUFFLE9BQU8sVUFBVSxZQUFZLE9BQU8sVUFBVSxNQUFNLGNBQWMsV0FBVyxJQUFJLFlBQVksT0FBTyxpQkFBaUIsT0FBTyxlQUFlLFVBQVUsY0FBYyxTQUFTLFlBQVk7OzswSEFFamUsSUFsQk0saUJBa0JlLFVBQVUsYUFBYTtFQUMxQyxVQUFVLGdCQUFnQjs7RUFqQjFCLFNBQUEsZUFBWSxXQUFXLFFBQVEsV0FBVyxjQUFjLFFBQVEsV0FBVyxnQkFBZ0I7SUFDekY7O0lBRHlGLGdCQUFBLE1BQUE7O0lBQUEsSUFBQSxRQUFBLDJCQUFBLE1BQUEsQ0FBQSxlQUFBLGFBQUEsT0FBQSxlQUFBLGlCQUFBLEtBQUEsTUFHbkY7O0lBRU4sTUFBSyxTQUFTO0lBQ2QsTUFBSyxZQUFZO0lBQ2pCLE1BQUssZUFBZTtJQUNwQixNQUFLLFNBQVM7O0lBRWQsTUFBSyxVQUFVOztJQUVmLE1BQUssV0FBVzs7SUFFaEIsTUFBSyxVQUFVOztJQUVmLE1BQUssYUFBYTs7SUFFbEIsTUFBSzs7SUFsQm9GLE9BQUE7OztFQTRDM0YsYUFBYSxnQkFBZ0IsQ0FBQztJQUM1QixLQUFLO0lBQ0wsT0FBTyxTQUFTLFFBeEJWOztNQUVOLEtBQUs7TUFDTCxLQUFLOztLQTBCSjtJQUNELEtBQUs7SUFDTCxPQUFPLFNBQVMsZUF4Qkg7O01BRWIsSUFBTSxjQUFjLEtBQUs7Ozs7TUFJekIsS0FBSyxRQUFRLFVBQVUsWUFBWSxXQUFXLEtBQUs7O0tBMEJsRDtJQUNELEtBQUs7SUFDTCxPQUFPLFNBQVMsV0F4QlA7TUFBQSxJQUFBLFNBQUE7O01BRVQsSUFBSSxTQUFTLEtBQUs7O01BRWxCLE9BQU8sT0FBTyxLQUFLLFdBQVc7O01BRTlCLEtBQUssU0FBUyxRQUFRLFFBQVEsS0FBSyxVQUFBLE1BQVE7UUFDekMsUUFBUSxJQUFJO1FBQ1osT0FBSyxPQUFPLEtBQUs7UUFDakIsT0FBSyxXQUFXLFFBQVEsS0FBSyxhQUFhLE9BQUssV0FBVzs7Ozs7Ozs7O0tBa0MzRDtJQUNELEtBQUs7SUFDTCxPQUFPLFNBQVMsWUF6Qk47TUFBQSxJQUFBLFNBQUE7O01BQ1YsSUFBRyxLQUFLLE1BQU07UUFDWixLQUFLLEtBQUssUUFBUSxVQUFBLE1BQUE7VUFBQSxPQUFRLEtBQUssVUFBVSxPQUFLOzs7O0tBZ0MvQztJQUNELEtBQUs7SUFDTCxPQUFPLFNBQVMsV0E5QlA7TUFDVCxJQUFHLEtBQUssTUFBTTtRQUNaLElBQUksZ0JBQWdCLEtBQUssS0FBSyxPQUFPLFVBQUEsTUFBQTtVQUFBLE9BQVEsQ0FBQyxLQUFLOztRQUNuRCxJQUFJLE1BQU0sY0FBYzs7UUFFeEIsSUFBRyxNQUFNLEdBQUc7VUFDVixLQUFLLFlBQVk7ZUFDWixJQUFJLE1BQU0sS0FBSyxLQUFLLFFBQVE7VUFDakMsS0FBSyxZQUFZOzs7O0tBb0NwQjtJQUNELEtBQUs7SUFDTCxPQUFPLFNBQVMsa0JBakNBO01BQ2hCLElBQUcsS0FBSyxNQUFNO1FBQ1osSUFBSSxjQUFjLEtBQUssS0FBSyxPQUFPLFVBQUEsTUFBQTtVQUFBLE9BQVEsS0FBSzs7O1FBRWhELFlBQVksUUFBUSxVQUFBLE1BQUE7VUFBQSxPQUFRLEtBQUssU0FBUzs7OztLQXdDM0M7SUFDRCxLQUFLO0lBQ0wsT0FBTyxTQUFTLGNBdENKO01BQ1osSUFBRyxLQUFLLE1BQU07UUFDWixLQUFLLE9BQU8sS0FBSyxLQUFLLE9BQU8sVUFBQSxNQUFBO1VBQUEsT0FBUSxDQUFDLEtBQUs7Ozs7UUFHM0MsS0FBSyxRQUFRLFFBQVE7UUFDckIsS0FBSyxPQUFPOzs7S0EyQ2I7SUFDRCxLQUFLO0lBQ0wsT0FBTyxTQUFTLGdCQXpDRjtNQUNkLElBQUcsS0FBSyxNQUFNO1FBQ1osSUFBSSxjQUFjLEtBQUssS0FBSyxPQUFPLFVBQUEsTUFBQTtVQUFBLE9BQVEsS0FBSzs7O1FBRWhELE9BQU8sWUFBWSxJQUFJLFVBQUEsTUFBQTtVQUFBLE9BQVEsS0FBSzs7OztNQUd0QyxPQUFPOztLQStDTjtJQUNELEtBQUs7SUFDTCxPQUFPLFNBQVMsYUE5Q0w7TUFBQSxJQUFBLFNBQUE7O01BQ1gsSUFBTSxNQUFNLEtBQUs7O01BRWpCLElBQUcsT0FBTyxJQUFJLFFBQVE7UUFDcEIsUUFBUSxJQUFJOztRQUVaLEtBQUssU0FBUyxLQUFLLEVBQUMsS0FBQSxPQUFNLEtBQUssVUFBQSxNQUFROztVQUVyQyxPQUFLOzs7O0tBb0RSO0lBQ0QsS0FBSztJQUNMLE9BQU8sU0FBUyxVQWpEVDtNQUFBLElBQUEsU0FBQTs7TUFDUCxJQUFNLE1BQU0sS0FBSzs7TUFFakIsSUFBRyxPQUFPLElBQUksUUFBUTtRQUNwQixRQUFRLElBQUk7UUFDWixLQUFLLFNBQVMsT0FBTyxFQUFDLEtBQUEsT0FBTSxLQUFLLFVBQUEsTUFBUTs7VUFFdkMsT0FBSzs7Ozs7O0VBeURYLE9BQU87RUFDUCxlQUFlOztBQUVqQixRQUFRLFVBcERPO3NsU0FxRHVrUzs7QUMvTHRsUzs7QUFFQSxPQUFPLGVBQWUsU0FBUyxjQUFjO0VBQzNDLE9BQU87OztBQUhULElBQUEsUUFBQSxRQUFBOztBQVFBLElBQUksU0FBUyx1QkFBdUI7O0FBRXBDLFNBQVMsdUJBQXVCLEtBQUssRUFBRSxPQUFPLE9BQU8sSUFBSSxhQUFhLE1BQU0sRUFBRSxTQUFTOztBQVJ2RixJQUFNLE9BQU87RUFDWCxhQUFhO0VBQ2IsWUFBQSxPQUFBO0VBQ0EsY0FBYzs7O0FBYWhCLFFBQVEsVUFWTztrbkJBV21tQjs7QUNuQmxuQjs7QUFFQSxPQUFPLGVBQWUsU0FBUyxjQUFjO0VBQzNDLE9BQU87OztBQUhULElBQUEsV0FBQSxRQUFBOztBQVFBLElBQUksWUFBWSx1QkFBdUI7O0FBUHZDLElBQUEsVUFBQSxRQUFBOztBQVdBLElBQUksV0FBVyx1QkFBdUI7O0FBVnRDLElBQUEsV0FBQSxRQUFBOztBQWNBLElBQUksWUFBWSx1QkFBdUI7O0FBYnZDLElBQUEsUUFBQSxRQUFBOztBQWlCQSxJQUFJLFNBQVMsdUJBQXVCOztBQWhCcEMsSUFBQSxVQUFBLFFBQUE7O0FBb0JBLElBQUksV0FBVyx1QkFBdUI7O0FBRXRDLFNBQVMsdUJBQXVCLEtBQUssRUFBRSxPQUFPLE9BQU8sSUFBSSxhQUFhLE1BQU0sRUFBRSxTQUFTOzs7OztBQUt2RixRQUFRLFVBcEJPLFVBQUEsUUFBUSxPQUFPLHVCQUF1Qjs7Q0FFcEQsUUFBUSxrQkFGTSxVQUFBLFNBSWQsVUFBVSxlQUpJLE9BQUEsU0FLZCxVQUFVLGlCQUxJLFNBQUEsU0FNZCxPQU5jLFNBQUE7c2tDQXVCdWpDOztBQ2xDdGtDOztBQUVBLE9BQU8sZUFBZSxTQUFTLGNBQWM7RUFDM0MsT0FBTzs7O0FBR1QsSUFBSSxlQUFlLFlBQVksRUFBRSxTQUFTLGlCQUFpQixRQUFRLE9BQU8sRUFBRSxLQUFLLElBQUksSUFBSSxHQUFHLElBQUksTUFBTSxRQUFRLEtBQUssRUFBRSxJQUFJLGFBQWEsTUFBTSxJQUFJLFdBQVcsYUFBYSxXQUFXLGNBQWMsT0FBTyxXQUFXLGVBQWUsTUFBTSxJQUFJLFdBQVcsWUFBWSxXQUFXLFdBQVcsTUFBTSxPQUFPLGVBQWUsUUFBUSxXQUFXLEtBQUssaUJBQWlCLE9BQU8sVUFBVSxhQUFhLFlBQVksYUFBYSxFQUFFLElBQUksWUFBWSxpQkFBaUIsWUFBWSxXQUFXLGFBQWEsSUFBSSxhQUFhLGlCQUFpQixhQUFhLGNBQWMsT0FBTzs7QUFFaGlCLFNBQVMsZ0JBQWdCLFVBQVUsYUFBYSxFQUFFLElBQUksRUFBRSxvQkFBb0IsY0FBYyxFQUFFLE1BQU0sSUFBSSxVQUFVOzs7K0VBRWhILElBVnFCLFVBVVAsWUFBWTtFQVR4QixTQUFBLFFBQVksT0FBTyxZQUFZLFlBQVksUUFBUSxRQUFRO0lBQ3pEOztJQUR5RCxnQkFBQSxNQUFBOztJQUd6RCxLQUFLLFFBQVE7O0lBRWIsS0FBSyxjQUFjOztJQUVuQixLQUFLLE9BQU8sT0FBTzs7SUFFbkIsS0FBSyxhQUFhO0lBQ2xCLEtBQUssU0FBUzs7O0VBZWhCLGFBQWEsU0FBUyxDQUFDO0lBQ3JCLEtBQUs7SUFDTCxPQUFPLFNBQVMsSUFkZCxJQUFJOztNQUVOLEtBQUssWUFBWSxRQUFROztNQUV6QixPQUFPLEtBQUssTUFBTSxJQUFJLEtBQUssS0FBSyxJQUFJLFFBQVEsVUFBVSxLQUFLLEtBQUssS0FBSyxZQUFZLFFBQVMsS0FBSyxZQUFZOztLQWdCMUc7SUFDRCxLQUFLO0lBQ0wsT0FBTyxTQUFTLFFBZlYsUUFBUSxhQUFhOztNQUUzQixDQUFDLGVBQWUsS0FBSyxZQUFZLFFBQVE7O01BRXpDLE9BQU8sS0FBSyxNQUFNLEtBQUssS0FBSyxLQUFLLFNBQVMsUUFBUSxLQUFLLEtBQUssWUFBWSxRQUFTLEtBQUssWUFBWTs7S0FpQmpHO0lBQ0QsS0FBSztJQUNMLE9BQU8sU0FBUyxJQWhCZCxNQUFNOztNQUVSLEtBQUssWUFBWSxRQUFROztNQUV6QixPQUFPLEtBQUssTUFBTSxLQUFLLEtBQUssS0FBSyxLQUFLLE1BQU0sS0FBSyxLQUFLLFlBQVksUUFBUyxLQUFLLFlBQVk7Ozs7RUFvQjlGLE9BQU87OztBQUdULFFBQVEsVUF2RGE7czhGQXdEaTdGOztBQ3hEdDhGOztBQUVBLE9BQU8sZUFBZSxTQUFTLGNBQWM7RUFDM0MsT0FBTzs7O0FBSFQsSUFBQSxXQUFBLFFBQUE7O0FBUUEsSUFBSSxZQUFZLHVCQUF1Qjs7QUFQdkMsSUFBQSxhQUFBLFFBQUE7O0FBV0EsSUFBSSxjQUFjLHVCQUF1Qjs7QUFUekMsSUFBQSxRQUFBLFFBQUE7O0FBYUEsSUFBSSxTQUFTLHVCQUF1Qjs7QUFacEMsSUFBQSxVQUFBLFFBQUE7O0FBZ0JBLElBQUksV0FBVyx1QkFBdUI7O0FBZnRDLElBQUEsV0FBQSxRQUFBOztBQW1CQSxJQUFJLFdBQVcsdUJBQXVCOztBQWxCdEMsSUFBQSxXQUFBLFFBQUE7O0FBc0JBLElBQUksV0FBVyx1QkFBdUI7O0FBckJ0QyxJQUFBLFdBQUEsUUFBQTs7QUF5QkEsSUFBSSxXQUFXLHVCQUF1Qjs7QUF2QnRDLElBQUEsV0FBQSxRQUFBOztBQTJCQSxJQUFJLFlBQVksdUJBQXVCOztBQTFCdkMsSUFBQSxZQUFBLFFBQUE7O0FBOEJBLElBQUksWUFBWSx1QkFBdUI7O0FBN0J2QyxJQUFBLFlBQUEsUUFBQTs7QUFpQ0EsSUFBSSxZQUFZLHVCQUF1Qjs7QUFoQ3ZDLElBQUEsWUFBQSxRQUFBOztBQW9DQSxJQUFJLFlBQVksdUJBQXVCOztBQW5DdkMsSUFBQSxZQUFBLFFBQUE7O0FBdUNBLElBQUksWUFBWSx1QkFBdUI7O0FBckN2QyxJQUFBLFlBQUEsUUFBQTs7QUF5Q0EsSUFBSSxZQUFZLHVCQUF1Qjs7QUF4Q3ZDLElBQUEsWUFBQSxRQUFBOztBQTRDQSxJQUFJLFlBQVksdUJBQXVCOztBQTNDdkMsSUFBQSxZQUFBLFFBQUE7O0FBK0NBLElBQUksWUFBWSx1QkFBdUI7O0FBRXZDLFNBQVMsdUJBQXVCLEtBQUssRUFBRSxPQUFPLE9BQU8sSUFBSSxhQUFhLE1BQU0sRUFBRSxTQUFTOztBQUV2RixRQUFRLFVBakRPLFVBQUEsUUFBUSxPQUFPLGVBQWUsQ0FDM0MsWUFBQSxRQUFnQixNQUNoQixPQUFBLFFBQVcsTUFDWCxTQUFBLFFBQWMsTUFDZCxTQUFBLFFBQWlCLE1BQ2pCLFNBQUEsUUFBaUIsTUFDakIsU0FBQSxRQUFrQixNQUNsQixVQUFBLFFBQWEsTUFDYixVQUFBLFFBQWMsTUFDZCxVQUFBLFFBQVUsTUFDVixVQUFBLFFBQVcsTUFDWCxVQUFBLFFBQWMsTUFDZCxVQUFBLFFBQWdCLE1BQ2hCLFVBQUEsUUFBVyxNQUNYLFVBQUEsUUFBYTswMUVBb0MyMEU7O0FDckUxMUU7OztBQUVBLE9BQU8sZUFBZSxTQUFTLGNBQWM7SUFDekMsT0FBTzs7QUFIWCxTQUFTLE9BQU8sZ0JBQWdCO0lBQzlCOztJQUVBLGVBQ0csTUFBTSxVQUFVO1FBQ2IsS0FBSztRQUNMLFVBQVU7UUFDVixVQUFXO1FBQ1gsT0FBTztPQUVWLE1BQU0saUJBQWlCO1FBQ3BCLEtBQUs7UUFDTCxVQUFVO1FBQ1YsT0FBTzs7OztBQU9mLFFBQVEsVUFETzswb0NBRTJuQzs7QUNyQjFvQzs7QUFFQSxPQUFPLGVBQWUsU0FBUyxjQUFjO0VBQzNDLE9BQU87OztBQUdULElBQUksZUFBZSxZQUFZLEVBQUUsU0FBUyxpQkFBaUIsUUFBUSxPQUFPLEVBQUUsS0FBSyxJQUFJLElBQUksR0FBRyxJQUFJLE1BQU0sUUFBUSxLQUFLLEVBQUUsSUFBSSxhQUFhLE1BQU0sSUFBSSxXQUFXLGFBQWEsV0FBVyxjQUFjLE9BQU8sV0FBVyxlQUFlLE1BQU0sSUFBSSxXQUFXLFlBQVksV0FBVyxXQUFXLE1BQU0sT0FBTyxlQUFlLFFBQVEsV0FBVyxLQUFLLGlCQUFpQixPQUFPLFVBQVUsYUFBYSxZQUFZLGFBQWEsRUFBRSxJQUFJLFlBQVksaUJBQWlCLFlBQVksV0FBVyxhQUFhLElBQUksYUFBYSxpQkFBaUIsYUFBYSxjQUFjLE9BQU87O0FBRWhpQixTQUFTLGdCQUFnQixVQUFVLGFBQWEsRUFBRSxJQUFJLEVBQUUsb0JBQW9CLGNBQWMsRUFBRSxNQUFNLElBQUksVUFBVTs7O3NIQUVoSCxJQVZNLG1CQVVpQixZQUFZO0VBUmpDLFNBQUEsaUJBQVksUUFBUSxRQUFRLGVBQWUsYUFBYSxlQUFlLGdCQUFnQjtJQUNyRjs7SUFEcUYsZ0JBQUEsTUFBQTs7SUFHckYsS0FBSyxTQUFTO0lBQ2QsS0FBSyxVQUFVOztJQUVmLEtBQUssV0FBVztJQUNoQixLQUFLLGlCQUFpQjs7SUFFdEIsS0FBSyxXQUFXLGVBQWU7SUFDL0IsS0FBSyxVQUFVLFlBQVk7O0lBRTNCLEtBQUs7OztFQWNQLGFBQWEsa0JBQWtCLENBQUM7SUFDOUIsS0FBSztJQUNMLE9BQU8sU0FBUyxRQWJWO01BQUEsSUFBQSxRQUFBOztNQUNOLElBQUksU0FBUztRQUNYLElBQUksT0FBTyxhQUFhLFFBQVE7O01BRWxDLEtBQUssV0FBVztRQUNkLEdBQUc7UUFDSCxHQUFHO1FBQ0gsR0FBRztRQUNILEdBQUc7OztNQUdMLEtBQUssU0FBUyxJQUFJLFFBQVEsS0FBSyxVQUFBLE1BQVE7UUFDckMsTUFBSyxTQUFTOzs7S0FrQmY7SUFDRCxLQUFLO0lBQ0wsT0FBTyxTQUFTLFVBaEJSO01BQ1IsSUFBSSxTQUFTO1FBQ1gsU0FBUyxPQUFPLGFBQWEsUUFBUTtRQUNyQyxjQUFjLEtBQUssT0FBTztRQUMxQixXQUFXLEtBQUssT0FBTztRQUN2QixPQUFPLEtBQUssT0FBTztRQUNuQixXQUFXLEtBQUssT0FBTztRQUN2QixNQUFNLEtBQUssT0FBTztRQUNsQixPQUFPLEtBQUssT0FBTzs7TUFFckIsS0FBSyxTQUFTLElBQUksUUFBUSxLQUFLLFVBQUEsTUFBUTtRQUNuQyxTQUFTLE9BQU87Ozs7O0VBcUJ0QixPQUFPOzs7QUFHVCxRQUFRLFVBakJPOzhoSEFrQitnSDs7QUNyRTloSDs7QUFFQSxPQUFPLGVBQWUsU0FBUyxjQUFjO0VBQzNDLE9BQU87OztBQUhULElBQUEsUUFBQSxRQUFBOztBQVFBLElBQUksU0FBUyx1QkFBdUI7O0FBRXBDLFNBQVMsdUJBQXVCLEtBQUssRUFBRSxPQUFPLE9BQU8sSUFBSSxhQUFhLE1BQU0sRUFBRSxTQUFTOztBQVJ2RixJQUFNLFNBQVM7RUFDYixhQUFhO0VBQ2IsWUFBQSxPQUFBO0VBQ0EsY0FBYzs7O0FBYWhCLFFBQVEsVUFWTzswbkJBVzJtQjs7QUNuQjFuQjs7QUFFQSxPQUFPLGVBQWUsU0FBUyxjQUFjO0VBQzNDLE9BQU87OztBQUhULElBQUEsV0FBQSxRQUFBOztBQVFBLElBQUksWUFBWSx1QkFBdUI7O0FBUHZDLElBQUEsYUFBQSxRQUFBOztBQVdBLElBQUksY0FBYyx1QkFBdUI7O0FBVnpDLElBQUEsVUFBQSxRQUFBOztBQWNBLElBQUksV0FBVyx1QkFBdUI7O0FBYnRDLElBQUEsV0FBQSxRQUFBOztBQWlCQSxJQUFJLFlBQVksdUJBQXVCOztBQWhCdkMsSUFBQSxVQUFBLFFBQUE7O0FBb0JBLElBQUksV0FBVyx1QkFBdUI7O0FBRXRDLFNBQVMsdUJBQXVCLEtBQUssRUFBRSxPQUFPLE9BQU8sSUFBSSxhQUFhLE1BQU0sRUFBRSxTQUFTOzs7OztBQUt2RixRQUFRLFVBcEJPLFVBQUEsUUFBUSxPQUFPLHNCQUFzQjs7Q0FFbkQsUUFBUSxpQkFGTSxVQUFBLFNBSWQsVUFBVSxnQkFKSSxTQUFBLFNBS2QsT0FMYyxTQUFBO2tnQ0F1Qm0vQjs7QUNsQ2xnQzs7QUFFQSxPQUFPLGVBQWUsU0FBUyxjQUFjO0VBQzNDLE9BQU87OztBQUdULElBQUksZUFBZSxZQUFZLEVBQUUsU0FBUyxpQkFBaUIsUUFBUSxPQUFPLEVBQUUsS0FBSyxJQUFJLElBQUksR0FBRyxJQUFJLE1BQU0sUUFBUSxLQUFLLEVBQUUsSUFBSSxhQUFhLE1BQU0sSUFBSSxXQUFXLGFBQWEsV0FBVyxjQUFjLE9BQU8sV0FBVyxlQUFlLE1BQU0sSUFBSSxXQUFXLFlBQVksV0FBVyxXQUFXLE1BQU0sT0FBTyxlQUFlLFFBQVEsV0FBVyxLQUFLLGlCQUFpQixPQUFPLFVBQVUsYUFBYSxZQUFZLGFBQWEsRUFBRSxJQUFJLFlBQVksaUJBQWlCLFlBQVksV0FBVyxhQUFhLElBQUksYUFBYSxpQkFBaUIsYUFBYSxjQUFjLE9BQU87O0FBRWhpQixTQUFTLGdCQUFnQixVQUFVLGFBQWEsRUFBRSxJQUFJLEVBQUUsb0JBQW9CLGNBQWMsRUFBRSxNQUFNLElBQUksVUFBVTs7OytFQUVoSCxJQVZxQixVQVVQLFlBQVk7RUFUeEIsU0FBQSxRQUFZLE9BQU8sWUFBWSxZQUFZLFFBQVEsUUFBUTtJQUN6RDs7SUFEeUQsZ0JBQUEsTUFBQTs7SUFHekQsS0FBSyxRQUFROztJQUViLEtBQUssY0FBYzs7SUFFbkIsS0FBSyxPQUFPLE9BQU87SUFDbkIsS0FBSyxVQUFVOztJQUVmLEtBQUssYUFBYTtJQUNsQixLQUFLLFNBQVM7OztFQWVoQixhQUFhLFNBQVMsQ0FBQztJQUNyQixLQUFLO0lBQ0wsT0FBTyxTQUFTLElBZGQsUUFBUTs7TUFFVixLQUFLLFlBQVksUUFBUTs7TUFFekIsT0FBTyxLQUFLLE1BQU0sS0FBSyxLQUFLLEtBQUssS0FBSyxRQUFRLEtBQUssS0FBSyxZQUFZLFFBQVMsS0FBSyxZQUFZOztLQWdCN0Y7SUFDRCxLQUFLO0lBQ0wsT0FBTyxTQUFTLElBZmQsUUFBUTs7TUFFVixLQUFLLFlBQVksUUFBUTs7TUFFekIsT0FBTyxLQUFLLE1BQU0sS0FBSyxLQUFLLEtBQUssS0FBSyxRQUFRLEtBQUssS0FBSyxZQUFZLFFBQVMsS0FBSyxZQUFZOztLQWlCN0Y7SUFDRCxLQUFLO0lBQ0wsT0FBTyxTQUFTLGNBaEJKO01BQ1osS0FBSyxZQUFZLFFBQVE7O01BRXpCLE9BQU8sS0FBSyxNQUFNLElBQUksS0FBSyxRQUFRLEtBQUssS0FBSyxLQUFLLEtBQUssWUFBWSxRQUFTLEtBQUssWUFBWTs7OztFQW9CL0YsT0FBTzs7O0FBR1QsUUFBUSxVQXZEYTtrMUZBd0Q2ekY7O0FDeERsMUY7O0FBRUEsT0FBTyxlQUFlLFNBQVMsY0FBYztFQUMzQyxPQUFPOzs7QUFHVCxJQUFJLFdBQVcsT0FBTyxVQUFVLFVBQVUsUUFBUSxFQUFFLEtBQUssSUFBSSxJQUFJLEdBQUcsSUFBSSxVQUFVLFFBQVEsS0FBSyxFQUFFLElBQUksU0FBUyxVQUFVLElBQUksS0FBSyxJQUFJLE9BQU8sUUFBUSxFQUFFLElBQUksT0FBTyxVQUFVLGVBQWUsS0FBSyxRQUFRLE1BQU0sRUFBRSxPQUFPLE9BQU8sT0FBTyxZQUFZLE9BQU87O0FBRXZQLElBQUksZUFBZSxZQUFZLEVBQUUsU0FBUyxpQkFBaUIsUUFBUSxPQUFPLEVBQUUsS0FBSyxJQUFJLElBQUksR0FBRyxJQUFJLE1BQU0sUUFBUSxLQUFLLEVBQUUsSUFBSSxhQUFhLE1BQU0sSUFBSSxXQUFXLGFBQWEsV0FBVyxjQUFjLE9BQU8sV0FBVyxlQUFlLE1BQU0sSUFBSSxXQUFXLFlBQVksV0FBVyxXQUFXLE1BQU0sT0FBTyxlQUFlLFFBQVEsV0FBVyxLQUFLLGlCQUFpQixPQUFPLFVBQVUsYUFBYSxZQUFZLGFBQWEsRUFBRSxJQUFJLFlBQVksaUJBQWlCLFlBQVksV0FBVyxhQUFhLElBQUksYUFBYSxpQkFBaUIsYUFBYSxjQUFjLE9BQU87O0FBRWhpQixTQUFTLGdCQUFnQixVQUFVLGFBQWEsRUFBRSxJQUFJLEVBQUUsb0JBQW9CLGNBQWMsRUFBRSxNQUFNLElBQUksVUFBVTs7OzZIQUVoSCxJQVpNLGFBWVcsWUFBWTtFQVYzQixTQUFBLFdBQVksUUFBUSxRQUFRLGNBQWMsYUFBYSxRQUFRLGdCQUFnQixtQkFBbUI7SUFDaEc7O0lBRGdHLGdCQUFBLE1BQUE7O0lBR2hHLEtBQUssU0FBUzs7SUFFZCxLQUFLLFNBQVM7SUFDZCxLQUFLLFVBQVU7SUFDZixLQUFLLGVBQWU7O0lBRXBCLEtBQUssY0FBZTs7SUFFcEIsS0FBSyxxQkFBcUI7O0lBRTFCLEtBQUssV0FBVzs7SUFFaEIsS0FBSyxLQUFLLEtBQUssYUFBYSxNQUFNOztJQUVsQyxLQUFLLE9BQU87SUFDWixLQUFLLFlBQVk7TUFDZixTQUFTO01BQ1QsT0FBTzs7O0lBR1QsS0FBSzs7O0VBZ0JQLGFBQWEsWUFBWSxDQUFDO0lBQ3hCLEtBQUs7SUFDTCxPQUFPLFNBQVMsUUFmVjtNQUFBLElBQUEsUUFBQTs7TUFDTixJQUFJLG1CQUFtQixLQUFLLE9BQU8sT0FBTyx3QkFBd0IsWUFBTTtRQUN0RSxJQUFHLE1BQUssVUFBVSxTQUFTOztVQUV6QixNQUFLLE9BQU8sT0FBTyxNQUFLLFVBQVU7ZUFDN0I7VUFDTCxNQUFLLE9BQU87Ozs7OztNQU1oQixLQUFLLE9BQU8sSUFBSSxZQUFZOztNQUU1QixLQUFLLG1CQUFtQixnQkFBZ0IsS0FBSyxRQUFROztNQUVyRCxLQUFLOztLQW1CSjtJQUNELEtBQUs7SUFDTCxPQUFPLFNBQVMsT0FsQlg7TUFBQSxJQUFBLFNBQUE7O01BRUwsSUFBRyxLQUFLLElBQUk7UUFDVixLQUFLLFNBQVMsUUFBUSxLQUFLLElBQUksS0FBSyxVQUFBLE1BQVE7VUFDMUMsT0FBSyxPQUFPOztVQUVaLE9BQUssWUFBTCxTQUFBLElBQXFCOztVQUVyQixPQUFLLGlCQUFpQixLQUFLO1dBQzFCLE1BQU0sVUFBQSxNQUFRO1VBQ2YsT0FBSyxLQUFLOzs7O0tBdUJiO0lBQ0QsS0FBSztJQUNMLE9BQU8sU0FBUyxRQXBCVjtNQUNOLEtBQUssU0FBUyxJQUFJO1FBQ2hCLElBQUksS0FBSztRQUNULE9BQU87U0FDTixLQUFLLFVBQUEsTUFBUTs7S0FzQmY7SUFDRCxLQUFLO0lBQ0wsT0FBTyxTQUFTLFFBbkJaLE1BQU07TUFBQSxJQUFBLFNBQUE7O01BQ1YsS0FBSyxZQUFZO01BQ25CLEtBQUssU0FBUyxRQUFRO1FBQ2xCLElBQUksS0FBSztRQUNULE9BQU87U0FDTixLQUFLLFVBQUEsTUFBUTtRQUNkLE9BQUssUUFBUSxRQUFRO1FBQ3JCLE9BQUssT0FBTyxHQUFHOzs7S0F3QmhCO0lBQ0QsS0FBSztJQUNMLE9BQU8sU0FBUyxPQXRCWCxNQUFNO01BQUEsSUFBQSxTQUFBOzs7TUFFWCxLQUFLLFlBQVksU0FBUyxNQUFNLFFBQVEsWUFBTTtRQUM1QyxPQUFLLFNBQVM7OztLQTJCZjtJQUNELEtBQUs7SUFDTCxPQUFPLFNBQVMsU0F6QlQsTUFBTTtNQUFBLElBQUEsU0FBQTs7TUFDYixJQUFNLE9BQU8sS0FBSztNQUNsQixJQUFHLEtBQUssSUFBSTtRQUNWLEtBQUssU0FBUyxRQUFRLE1BQU0sS0FBSyxVQUFBLE1BQVE7VUFDdkMsS0FBSyxZQUFZO1VBQ2pCLE9BQUssUUFBUSxRQUFRO1VBQ3JCLE9BQUssT0FBTyxHQUFHOzthQUVaO1FBQ0wsS0FBSyxTQUFTLFFBQVEsTUFBTSxLQUFLLFVBQUEsTUFBUTtVQUN2QyxLQUFLLFlBQVk7VUFDakIsT0FBSyxRQUFRLFFBQVE7VUFDckIsT0FBSyxPQUFPLEdBQUc7Ozs7OztFQWlDckIsT0FBTzs7O0FBR1QsUUFBUSxVQTlCTztrcU5BK0JtcE47O0FDMUlscU47O0FBRUEsT0FBTyxlQUFlLFNBQVMsY0FBYztFQUMzQyxPQUFPOzs7QUFIVCxJQUFBLFFBQUEsUUFBQTs7QUFRQSxJQUFJLFNBQVMsdUJBQXVCOztBQUVwQyxTQUFTLHVCQUF1QixLQUFLLEVBQUUsT0FBTyxPQUFPLElBQUksYUFBYSxNQUFNLEVBQUUsU0FBUzs7QUFSdkYsSUFBTSxNQUFNO0VBQ1YsYUFBYTtFQUNiLFlBQUEsT0FBQTtFQUNBLGNBQWM7OztBQWFoQixRQUFRLFVBVk87OGtCQVcrakI7O0FDbkI5a0I7OztBQUVBLE9BQU8sZUFBZSxTQUFTLGNBQWM7RUFDM0MsT0FBTzs7QUFIVCxTQUFTLE9BQU8sZ0JBQWdCO0VBQzlCOztFQUVBLGVBQ0csTUFBTSxXQUFXO0lBQ2QsS0FBSztJQUNMLFVBQVU7SUFDVixVQUFXO0lBQ1gsT0FBTztJQUNQLGFBQWE7TUFDWCxNQUFNO01BQ04sT0FBTzs7S0FHWixNQUFNLGdCQUFnQjtJQUNuQixLQUFLO0lBQ0wsVUFBVTtJQUNWLE9BQU87SUFDUCxhQUFhO01BQ1gsT0FBTzs7S0FHWixNQUFNLGVBQWU7SUFDcEIsS0FBSztJQUNMLFVBQVU7SUFDVixPQUFPO0lBQ1AsYUFBYTtNQUNYLE9BQU87Ozs7O0FBT2YsUUFBUSxVQUFPOzA1REFDMjREOztBQ25DMTVEOztBQUVBLE9BQU8sZUFBZSxTQUFTLGNBQWM7RUFDM0MsT0FBTzs7O0FBSFQsSUFBQSxXQUFBLFFBQUE7O0FBUUEsSUFBSSxZQUFZLHVCQUF1Qjs7QUFQdkMsSUFBQSxVQUFBLFFBQUE7O0FBV0EsSUFBSSxXQUFXLHVCQUF1Qjs7QUFWdEMsSUFBQSxXQUFBLFFBQUE7O0FBY0EsSUFBSSxZQUFZLHVCQUF1Qjs7QUFadkMsSUFBQSxPQUFBLFFBQUE7O0FBZ0JBLElBQUksUUFBUSx1QkFBdUI7O0FBZm5DLElBQUEsUUFBQSxRQUFBOztBQW1CQSxJQUFJLFNBQVMsdUJBQXVCOztBQUVwQyxTQUFTLHVCQUF1QixLQUFLLEVBQUUsT0FBTyxPQUFPLElBQUksYUFBYSxNQUFNLEVBQUUsU0FBUzs7Ozs7O0FBTXZGLFFBQVEsVUFwQk8sVUFBQSxRQUFRLE9BQU8sdUJBQXVCOztDQUVwRCxRQUFRLGtCQUZNLFVBQUEsU0FJZCxVQUFVLGVBSkksT0FBQSxTQUtkLFVBQVUsY0FMSSxNQUFBLFNBTWQsT0FOYyxTQUFBOzBtQ0F1QjJsQzs7QUNuQzFtQzs7QUFFQSxPQUFPLGVBQWUsU0FBUyxjQUFjO0VBQzNDLE9BQU87OztBQUdULElBQUksZUFBZSxZQUFZLEVBQUUsU0FBUyxpQkFBaUIsUUFBUSxPQUFPLEVBQUUsS0FBSyxJQUFJLElBQUksR0FBRyxJQUFJLE1BQU0sUUFBUSxLQUFLLEVBQUUsSUFBSSxhQUFhLE1BQU0sSUFBSSxXQUFXLGFBQWEsV0FBVyxjQUFjLE9BQU8sV0FBVyxlQUFlLE1BQU0sSUFBSSxXQUFXLFlBQVksV0FBVyxXQUFXLE1BQU0sT0FBTyxlQUFlLFFBQVEsV0FBVyxLQUFLLGlCQUFpQixPQUFPLFVBQVUsYUFBYSxZQUFZLGFBQWEsRUFBRSxJQUFJLFlBQVksaUJBQWlCLFlBQVksV0FBVyxhQUFhLElBQUksYUFBYSxpQkFBaUIsYUFBYSxjQUFjLE9BQU87O0FBRWhpQixTQUFTLGdCQUFnQixVQUFVLGFBQWEsRUFBRSxJQUFJLEVBQUUsb0JBQW9CLGNBQWMsRUFBRSxNQUFNLElBQUksVUFBVTs7OytFQUVoSCxJQVZxQixVQVVQLFlBQVk7RUFUeEIsU0FBQSxRQUFZLE9BQU8sWUFBWSxZQUFZLFFBQVEsUUFBUTtJQUN6RDs7SUFEeUQsZ0JBQUEsTUFBQTs7SUFHekQsS0FBSyxRQUFROztJQUViLEtBQUssY0FBYzs7SUFFbkIsS0FBSyxPQUFPLE9BQU87O0lBRW5CLEtBQUssYUFBYTtJQUNsQixLQUFLLFNBQVM7OztFQWVoQixhQUFhLFNBQVMsQ0FBQztJQUNyQixLQUFLO0lBQ0wsT0FBTyxTQUFTLElBZGQsSUFBSTs7TUFFTixLQUFLLFlBQVksUUFBUTs7TUFFekIsT0FBTyxLQUFLLE1BQU0sSUFBSSxLQUFLLEtBQUssSUFBSSxRQUFRLFVBQVUsS0FBSyxLQUFLLEtBQUssWUFBWSxRQUFTLEtBQUssWUFBWTs7S0FnQjFHO0lBQ0QsS0FBSztJQUNMLE9BQU8sU0FBUyxRQWZWLFFBQVE7O01BRWQsS0FBSyxZQUFZLFFBQVE7O01BRXpCLE9BQU8sS0FBSyxNQUFNLEtBQUssS0FBSyxLQUFLLFNBQVMsUUFBUSxLQUFLLEtBQUssWUFBWSxRQUFTLEtBQUssWUFBWTs7S0FpQmpHO0lBQ0QsS0FBSztJQUNMLE9BQU8sU0FBUyxJQWhCZCxNQUFNOztNQUVSLEtBQUssWUFBWSxRQUFROztNQUV6QixPQUFPLEtBQUssTUFBTSxLQUFLLEtBQUssS0FBSyxLQUFLLE1BQU0sS0FBSyxLQUFLLFlBQVksUUFBUyxLQUFLLFlBQVk7O0tBa0IzRjtJQUNELEtBQUs7SUFDTCxPQUFPLFNBQVMsUUFqQlYsSUFBSTs7TUFFVixLQUFLLFlBQVksUUFBUTs7TUFFekIsT0FBTyxLQUFLLE1BQU0sSUFBSSxLQUFLLEtBQUssUUFBUSxRQUFRLFVBQVUsS0FBSyxLQUFLLEtBQUssWUFBWSxRQUFTLEtBQUssWUFBWTs7S0FtQjlHO0lBQ0QsS0FBSztJQUNMLE9BQU8sU0FBUyxTQWxCVCxRQUFROztNQUVmLEtBQUssWUFBWSxRQUFROztNQUV6QixPQUFPLEtBQUssTUFBTSxLQUFLLEtBQUssS0FBSyxVQUFVLFFBQVEsS0FBSyxLQUFLLFlBQVksUUFBUyxLQUFLLFlBQVk7O0tBb0JsRztJQUNELEtBQUs7SUFDTCxPQUFPLFNBQVMsUUFuQlYsTUFBTTs7TUFFWixLQUFLLFlBQVksUUFBUTs7TUFFekIsT0FBTyxLQUFLLE1BQU0sS0FBSyxLQUFLLEtBQUssU0FBUyxNQUFNLEtBQUssS0FBSyxZQUFZLFFBQVMsS0FBSyxZQUFZOztLQXFCL0Y7SUFDRCxLQUFLO0lBQ0wsT0FBTyxTQUFTLFFBcEJWLE1BQU07O01BRVosS0FBSyxZQUFZLFFBQVE7O01BRXpCLE9BQU8sS0FBSyxNQUFNLEtBQUssS0FBSyxLQUFLLFNBQVMsTUFBTSxLQUFLLEtBQUssWUFBWSxRQUFTLEtBQUssWUFBWTs7OztFQXdCbEcsT0FBTzs7O0FBR1QsUUFBUSxVQXZGYTtzaktBd0ZpaUs7O0FDeEZ0aks7O0FBRUEsT0FBTyxlQUFlLFNBQVMsY0FBYztFQUMzQyxPQUFPOzs7QUFHVCxJQUFJLGVBQWUsWUFBWSxFQUFFLFNBQVMsaUJBQWlCLFFBQVEsT0FBTyxFQUFFLEtBQUssSUFBSSxJQUFJLEdBQUcsSUFBSSxNQUFNLFFBQVEsS0FBSyxFQUFFLElBQUksYUFBYSxNQUFNLElBQUksV0FBVyxhQUFhLFdBQVcsY0FBYyxPQUFPLFdBQVcsZUFBZSxNQUFNLElBQUksV0FBVyxZQUFZLFdBQVcsV0FBVyxNQUFNLE9BQU8sZUFBZSxRQUFRLFdBQVcsS0FBSyxpQkFBaUIsT0FBTyxVQUFVLGFBQWEsWUFBWSxhQUFhLEVBQUUsSUFBSSxZQUFZLGlCQUFpQixZQUFZLFdBQVcsYUFBYSxJQUFJLGFBQWEsaUJBQWlCLGFBQWEsY0FBYyxPQUFPOztBQU5oaUIsSUFBQSxnQkFBQSxRQUFBOztBQVVBLElBQUksaUJBQWlCLHVCQUF1Qjs7QUFFNUMsU0FBUyx1QkFBdUIsS0FBSyxFQUFFLE9BQU8sT0FBTyxJQUFJLGFBQWEsTUFBTSxFQUFFLFNBQVM7O0FBRXZGLFNBQVMsZ0JBQWdCLFVBQVUsYUFBYSxFQUFFLElBQUksRUFBRSxvQkFBb0IsY0FBYyxFQUFFLE1BQU0sSUFBSSxVQUFVOztBQUVoSCxTQUFTLDJCQUEyQixNQUFNLE1BQU0sRUFBRSxJQUFJLENBQUMsTUFBTSxFQUFFLE1BQU0sSUFBSSxlQUFlLGdFQUFnRSxPQUFPLFNBQVMsT0FBTyxTQUFTLFlBQVksT0FBTyxTQUFTLGNBQWMsT0FBTzs7QUFFek8sU0FBUyxVQUFVLFVBQVUsWUFBWSxFQUFFLElBQUksT0FBTyxlQUFlLGNBQWMsZUFBZSxNQUFNLEVBQUUsTUFBTSxJQUFJLFVBQVUsNkRBQTZELE9BQU8sZUFBZSxTQUFTLFlBQVksT0FBTyxPQUFPLGNBQWMsV0FBVyxXQUFXLEVBQUUsYUFBYSxFQUFFLE9BQU8sVUFBVSxZQUFZLE9BQU8sVUFBVSxNQUFNLGNBQWMsV0FBVyxJQUFJLFlBQVksT0FBTyxpQkFBaUIsT0FBTyxlQUFlLFVBQVUsY0FBYyxTQUFTLFlBQVk7OzswSEFFamUsSUFsQk0saUJBa0JlLFVBQVUsYUFBYTtFQUMxQyxVQUFVLGdCQUFnQjs7RUFqQjFCLFNBQUEsZUFBWSxXQUFXLFFBQVEsV0FBVyxjQUFjLFFBQVEsV0FBVyxnQkFBZ0I7SUFDekY7O0lBRHlGLGdCQUFBLE1BQUE7O0lBQUEsSUFBQSxRQUFBLDJCQUFBLE1BQUEsQ0FBQSxlQUFBLGFBQUEsT0FBQSxlQUFBLGlCQUFBLEtBQUEsTUFHbkY7O0lBRU4sTUFBSyxTQUFTO0lBQ2QsTUFBSyxZQUFZO0lBQ2pCLE1BQUssZUFBZTtJQUNwQixNQUFLLFNBQVM7O0lBRWQsTUFBSyxVQUFVOztJQUVmLE1BQUssV0FBVzs7SUFFaEIsTUFBSyxVQUFVOztJQUVmLE1BQUs7O0lBaEJvRixPQUFBOzs7RUEwQzNGLGFBQWEsZ0JBQWdCLENBQUM7SUFDNUIsS0FBSztJQUNMLE9BQU8sU0FBUyxRQXhCVjs7TUFFTixLQUFLO01BQ0wsS0FBSzs7S0EwQko7SUFDRCxLQUFLO0lBQ0wsT0FBTyxTQUFTLGVBeEJIOztNQUViLElBQU0sY0FBYyxLQUFLOzs7O01BSXpCLEtBQUssUUFBUSxVQUFVLFlBQVksV0FBVyxLQUFLOztLQTBCbEQ7SUFDRCxLQUFLO0lBQ0wsT0FBTyxTQUFTLFdBeEJQO01BQUEsSUFBQSxTQUFBOztNQUVULElBQUksU0FBUyxLQUFLOztNQUVsQixPQUFPLE9BQU8sS0FBSyxXQUFXOztNQUU5QixLQUFLLFNBQVMsU0FBUyxRQUFRLEtBQUssVUFBQSxNQUFRO1FBQzFDLFFBQVEsSUFBSTtRQUNaLE9BQUssT0FBTyxLQUFLO1FBQ2pCLE9BQUssV0FBVyxRQUFRLEtBQUssYUFBYSxPQUFLLFdBQVc7Ozs7Ozs7OztLQWtDM0Q7SUFDRCxLQUFLO0lBQ0wsT0FBTyxTQUFTLFlBekJOO01BQUEsSUFBQSxTQUFBOztNQUNWLElBQUcsS0FBSyxNQUFNO1FBQ1osS0FBSyxLQUFLLFFBQVEsVUFBQSxNQUFBO1VBQUEsT0FBUSxLQUFLLFVBQVUsT0FBSzs7OztLQWdDL0M7SUFDRCxLQUFLO0lBQ0wsT0FBTyxTQUFTLFdBOUJQO01BQ1QsSUFBRyxLQUFLLE1BQU07UUFDWixJQUFJLGdCQUFnQixLQUFLLEtBQUssT0FBTyxVQUFBLE1BQUE7VUFBQSxPQUFRLENBQUMsS0FBSzs7UUFDbkQsSUFBSSxNQUFNLGNBQWM7O1FBRXhCLElBQUcsTUFBTSxHQUFHO1VBQ1YsS0FBSyxZQUFZO2VBQ1osSUFBSSxNQUFNLEtBQUssS0FBSyxRQUFRO1VBQ2pDLEtBQUssWUFBWTs7OztLQW9DcEI7SUFDRCxLQUFLO0lBQ0wsT0FBTyxTQUFTLGtCQWpDQTtNQUNoQixJQUFHLEtBQUssTUFBTTtRQUNaLElBQUksY0FBYyxLQUFLLEtBQUssT0FBTyxVQUFBLE1BQUE7VUFBQSxPQUFRLEtBQUs7OztRQUVoRCxZQUFZLFFBQVEsVUFBQSxNQUFBO1VBQUEsT0FBUSxLQUFLLFNBQVM7Ozs7S0F3QzNDO0lBQ0QsS0FBSztJQUNMLE9BQU8sU0FBUyxjQXRDSjtNQUNaLElBQUcsS0FBSyxNQUFNO1FBQ1osS0FBSyxPQUFPLEtBQUssS0FBSyxPQUFPLFVBQUEsTUFBQTtVQUFBLE9BQVEsQ0FBQyxLQUFLOzs7O1FBRzNDLEtBQUssUUFBUSxRQUFRO1FBQ3JCLEtBQUssT0FBTzs7O0tBMkNiO0lBQ0QsS0FBSztJQUNMLE9BQU8sU0FBUyxnQkF6Q0Y7TUFDZCxJQUFHLEtBQUssTUFBTTtRQUNaLElBQUksY0FBYyxLQUFLLEtBQUssT0FBTyxVQUFBLE1BQUE7VUFBQSxPQUFRLEtBQUs7OztRQUVoRCxPQUFPLFlBQVksSUFBSSxVQUFBLE1BQUE7VUFBQSxPQUFRLEtBQUs7Ozs7TUFHdEMsT0FBTzs7S0ErQ047SUFDRCxLQUFLO0lBQ0wsT0FBTyxTQUFTLGFBOUNMO01BQUEsSUFBQSxTQUFBOztNQUNYLElBQU0sTUFBTSxLQUFLOztNQUVqQixJQUFHLE9BQU8sSUFBSSxRQUFRO1FBQ3BCLFFBQVEsSUFBSTs7UUFFWixLQUFLLFNBQVMsS0FBSyxFQUFDLEtBQUEsT0FBTSxLQUFLLFVBQUEsTUFBUTs7VUFFckMsT0FBSzs7OztLQW9EUjtJQUNELEtBQUs7SUFDTCxPQUFPLFNBQVMsVUFqRFQ7TUFBQSxJQUFBLFNBQUE7O01BQ1AsSUFBTSxNQUFNLEtBQUs7O01BRWpCLElBQUcsT0FBTyxJQUFJLFFBQVE7UUFDcEIsUUFBUSxJQUFJO1FBQ1osS0FBSyxTQUFTLE9BQU8sRUFBQyxLQUFBLE9BQU0sS0FBSyxVQUFBLE1BQVE7O1VBRXZDLE9BQUs7Ozs7OztFQXlEWCxPQUFPO0VBQ1AsZUFBZTs7QUFFakIsUUFBUSxVQXBETztzL1JBcUR1K1I7O0FDN0x0L1I7O0FBRUEsT0FBTyxlQUFlLFNBQVMsY0FBYztFQUMzQyxPQUFPOzs7QUFIVCxJQUFBLFFBQUEsUUFBQTs7QUFRQSxJQUFJLFNBQVMsdUJBQXVCOztBQUVwQyxTQUFTLHVCQUF1QixLQUFLLEVBQUUsT0FBTyxPQUFPLElBQUksYUFBYSxNQUFNLEVBQUUsU0FBUzs7QUFSdkYsSUFBTSxPQUFPO0VBQ1gsYUFBYTtFQUNiLFlBQUEsT0FBQTtFQUNBLGNBQWM7OztBQWFoQixRQUFRLFVBVk87MG1CQVcybEI7O0FDbkIxbUI7OztBQUVBLE9BQU8sZUFBZSxTQUFTLGNBQWM7RUFDM0MsT0FBTzs7QUFIVCxTQUFTLE9BQU8sZ0JBQWdCO0VBQzlCOztFQUVBLGVBQ0csTUFBTSxhQUFhO0lBQ2hCLEtBQUs7SUFDTCxVQUFVO0lBQ1YsVUFBVztJQUNYLE9BQU87SUFDUCxhQUFhO01BQ1gsTUFBTTtNQUNOLE9BQU87O0tBR1osTUFBTSxrQkFBa0I7SUFDckIsS0FBSztJQUNMLFVBQVU7SUFDVixPQUFPO0lBQ1AsYUFBYTtNQUNYLE9BQU87Ozs7O0FBUWpCLFFBQVEsVUFETzswZ0RBRTIvQzs7QUM1QjFnRDs7QUFFQSxPQUFPLGVBQWUsU0FBUyxjQUFjO0VBQzNDLE9BQU87OztBQUhULElBQUEsV0FBQSxRQUFBOztBQVFBLElBQUksWUFBWSx1QkFBdUI7O0FBUHZDLElBQUEsYUFBQSxRQUFBOztBQVdBLElBQUksY0FBYyx1QkFBdUI7O0FBVnpDLElBQUEsVUFBQSxRQUFBOztBQWNBLElBQUksV0FBVyx1QkFBdUI7O0FBWnRDLElBQUEsUUFBQSxRQUFBOztBQWdCQSxJQUFJLFNBQVMsdUJBQXVCOztBQUVwQyxTQUFTLHVCQUF1QixLQUFLLEVBQUUsT0FBTyxPQUFPLElBQUksYUFBYSxNQUFNLEVBQUUsU0FBUzs7QUFFdkYsUUFBUSxVQWxCTyxVQUFBLFFBQVEsT0FBTyx5QkFBeUI7Ozs7Q0FJdEQsVUFBVSxZQUpJLE9BQUEsU0FLZCxPQUxjLFNBQUE7O2s0QkF3Qm0zQjs7QUM5Qmw0Qjs7QUFFQSxPQUFPLGVBQWUsU0FBUyxjQUFjO0VBQzNDLE9BQU87OztBQUdULElBQUksZUFBZSxZQUFZLEVBQUUsU0FBUyxpQkFBaUIsUUFBUSxPQUFPLEVBQUUsS0FBSyxJQUFJLElBQUksR0FBRyxJQUFJLE1BQU0sUUFBUSxLQUFLLEVBQUUsSUFBSSxhQUFhLE1BQU0sSUFBSSxXQUFXLGFBQWEsV0FBVyxjQUFjLE9BQU8sV0FBVyxlQUFlLE1BQU0sSUFBSSxXQUFXLFlBQVksV0FBVyxXQUFXLE1BQU0sT0FBTyxlQUFlLFFBQVEsV0FBVyxLQUFLLGlCQUFpQixPQUFPLFVBQVUsYUFBYSxZQUFZLGFBQWEsRUFBRSxJQUFJLFlBQVksaUJBQWlCLFlBQVksV0FBVyxhQUFhLElBQUksYUFBYSxpQkFBaUIsYUFBYSxjQUFjLE9BQU87O0FBTmhpQixJQUFBLGdCQUFBLFFBQUE7O0FBVUEsSUFBSSxpQkFBaUIsdUJBQXVCOztBQUU1QyxTQUFTLHVCQUF1QixLQUFLLEVBQUUsT0FBTyxPQUFPLElBQUksYUFBYSxNQUFNLEVBQUUsU0FBUzs7QUFFdkYsU0FBUyxnQkFBZ0IsVUFBVSxhQUFhLEVBQUUsSUFBSSxFQUFFLG9CQUFvQixjQUFjLEVBQUUsTUFBTSxJQUFJLFVBQVU7O0FBRWhILFNBQVMsMkJBQTJCLE1BQU0sTUFBTSxFQUFFLElBQUksQ0FBQyxNQUFNLEVBQUUsTUFBTSxJQUFJLGVBQWUsZ0VBQWdFLE9BQU8sU0FBUyxPQUFPLFNBQVMsWUFBWSxPQUFPLFNBQVMsY0FBYyxPQUFPOztBQUV6TyxTQUFTLFVBQVUsVUFBVSxZQUFZLEVBQUUsSUFBSSxPQUFPLGVBQWUsY0FBYyxlQUFlLE1BQU0sRUFBRSxNQUFNLElBQUksVUFBVSw2REFBNkQsT0FBTyxlQUFlLFNBQVMsWUFBWSxPQUFPLE9BQU8sY0FBYyxXQUFXLFdBQVcsRUFBRSxhQUFhLEVBQUUsT0FBTyxVQUFVLFlBQVksT0FBTyxVQUFVLE1BQU0sY0FBYyxXQUFXLElBQUksWUFBWSxPQUFPLGlCQUFpQixPQUFPLGVBQWUsVUFBVSxjQUFjLFNBQVMsWUFBWTs7O3lIQUVqZSxJQWxCTSxpQkFrQmUsVUFBVSxhQUFhO0VBQzFDLFVBQVUsZ0JBQWdCOztFQWpCMUIsU0FBQSxlQUFZLFdBQVcsUUFBUSxXQUFXLGNBQWMsUUFBUSxXQUFXLGVBQWU7SUFDeEY7O0lBRHdGLGdCQUFBLE1BQUE7O0lBQUEsSUFBQSxRQUFBLDJCQUFBLE1BQUEsQ0FBQSxlQUFBLGFBQUEsT0FBQSxlQUFBLGlCQUFBLEtBQUEsTUFHbEY7O0lBRU4sTUFBSyxTQUFTO0lBQ2QsTUFBSyxZQUFZO0lBQ2pCLE1BQUssZUFBZTtJQUNwQixNQUFLLFNBQVM7O0lBRWQsTUFBSyxVQUFVOztJQUVmLE1BQUssV0FBVzs7SUFFaEIsTUFBSyxVQUFVO0lBQ2YsTUFBSzs7SUFmbUYsT0FBQTs7O0VBeUMxRixhQUFhLGdCQUFnQixDQUFDO0lBQzVCLEtBQUs7SUFDTCxPQUFPLFNBQVMsUUF4QlY7TUFDTixLQUFLOztLQTBCSjtJQUNELEtBQUs7SUFDTCxPQUFPLFNBQVMsT0F4Qlg7TUFBQSxJQUFBLFNBQUE7Ozs7TUFHTCxLQUFLLFNBQVMsSUFBSSxnQkFBZ0IsS0FBSyxVQUFBLE1BQVE7UUFDN0MsSUFBRyxPQUFPLFFBQVMsVUFBVTtVQUMzQixPQUFLLFdBQVc7Ozs7S0E4Qm5CO0lBQ0QsS0FBSztJQUNMLE9BQU8sU0FBUyxZQTNCTjtNQUFBLElBQUEsU0FBQTs7TUFDVixJQUFNLE9BQU87UUFDWCxLQUFLO1FBQ0wsT0FBTyxLQUFLOztNQUVkLEtBQUssU0FBUyxJQUFJLE1BQU0sS0FBSyxVQUFBLE1BQVE7UUFDbkMsT0FBSyxRQUFRLFFBQVE7UUFDckIsT0FBSztRQUNMLE9BQUssT0FBTzs7Ozs7RUFrQ2hCLE9BQU87RUFDUCxlQUFlOztBQUVqQixRQUFRLFVBaENPOzhoR0FpQytnRzs7QUNwRjloRzs7QUFFQSxPQUFPLGVBQWUsU0FBUyxjQUFjO0VBQzNDLE9BQU87OztBQUhULElBQUEsUUFBQSxRQUFBOztBQVFBLElBQUksU0FBUyx1QkFBdUI7O0FBRXBDLFNBQVMsdUJBQXVCLEtBQUssRUFBRSxPQUFPLE9BQU8sSUFBSSxhQUFhLE1BQU0sRUFBRSxTQUFTOztBQVJ2RixJQUFNLE9BQU87RUFDWCxhQUFhO0VBQ2IsWUFBQSxPQUFBO0VBQ0EsY0FBYzs7O0FBYWhCLFFBQVEsVUFWTztrbkJBV21tQjs7QUNuQmxuQjs7QUFBQSxRQUFRLE9BQU8saUJBQWlCLElBQUksSUFBSSxDQUFDLGtCQUFrQixVQUFTLGdCQUFnQjtFQUFDLGVBQWUsSUFBSSxvQ0FBbUM7RUFDM0ksZUFBZSxJQUFJLGdEQUErQztFQUNsRSxlQUFlLElBQUksMkNBQTBDO0VBQzdELGVBQWUsSUFBSSw0Q0FBMkM7RUFDOUQsZUFBZSxJQUFJLGtEQUFpRDtFQUNwRSxlQUFlLElBQUksa0RBQWlEO0VBQ3BFLGVBQWUsSUFBSSxxREFBb0Q7RUFDdkUsZUFBZSxJQUFJLGdEQUErQztFQUNsRSxlQUFlLElBQUksbURBQWtEO0VBQ3JFLGVBQWUsSUFBSSxrREFBaUQ7RUFDcEUsZUFBZSxJQUFJLHFEQUFvRDtFQUN2RSxlQUFlLElBQUksd0RBQXVEO0VBQzFFLGVBQWUsSUFBSSxrREFBaUQ7RUFDcEUsZUFBZSxJQUFJLDJDQUEwQztFQUM3RCxlQUFlLElBQUksMENBQXlDO0VBQzVELGVBQWUsSUFBSSw0Q0FBMkM7RUFDOUQsZUFBZSxJQUFJLGdEQUErQztFQUNsRSxlQUFlLElBQUksb0RBQW1EO0VBQ3RFLGVBQWUsSUFBSSw4Q0FBNkM7RUFDaEUsZUFBZSxJQUFJLDZDQUE0QztFQUMvRCxlQUFlLElBQUkscUNBQW9DO0VBQ3ZELGVBQWUsSUFBSSxtQ0FBa0M7RUFDckQsZUFBZSxJQUFJLHFDQUFvQztFQUN2RCxlQUFlLElBQUkscUNBQW9DO0VBQ3ZELGVBQWUsSUFBSSxtQ0FBa0M7RUFDckQsZUFBZSxJQUFJLHdDQUF1QztFQUMxRCxlQUFlLElBQUksc0NBQXFDO0VBQ3hELGVBQWUsSUFBSSwwQ0FBeUM7RUFDNUQsZUFBZSxJQUFJLHVDQUFzQztFQUN6RCxlQUFlLElBQUksdUNBQXNDO0VBQ3pELGVBQWUsSUFBSSwwQ0FBeUM7RUFDNUQsZUFBZSxJQUFJLHNDQUFxQztFQUN4RCxlQUFlLElBQUksb0NBQW1DO0VBQ3RELGVBQWUsSUFBSSxnQ0FBK0I7RUFDbEQsZUFBZSxJQUFJLG1DQUFrQztFQUNyRCxlQUFlLElBQUksK0JBQThCO0VBQ2pELGVBQWUsSUFBSSxxQ0FBb0M7RUFDdkQsZUFBZSxJQUFJLHNDQUFxQztFQUN4RCxlQUFlLElBQUksb0NBQW1DO0VBQ3RELGVBQWUsSUFBSSxrQ0FBaUM7RUFDcEQsZUFBZSxJQUFJLHNDQUFxQztFQUN4RCxlQUFlLElBQUksc0NBQXFDO0VBQ3hELGVBQWUsSUFBSSxxQ0FBb0M7RUFDdkQsZUFBZSxJQUFJLGdDQUErQjtFQUNsRCxlQUFlLElBQUksNENBQTJDO0VBQzlELGVBQWUsSUFBSSwrQ0FBOEM7RUFDakUsZUFBZSxJQUFJLDBDQUF5QztFQUM1RCxlQUFlLElBQUksK0NBQThDO0VBQ2pFLGVBQWUsSUFBSSxrREFBaUQ7RUFDcEUsZUFBZSxJQUFJLGtEQUFpRDtFQUNwRSxlQUFlLElBQUksMkNBQTBDO0VBQzdELGVBQWUsSUFBSSxtREFBa0Q7RUFDckUsZUFBZSxJQUFJLG1EQUFrRDtFQUNyRSxlQUFlLElBQUksK0NBQThDO0VBQ2pFLGVBQWUsSUFBSSx5Q0FBd0M7RUFDM0QsZUFBZSxJQUFJLDRDQUEyQztFQUM5RCxlQUFlLElBQUksMENBQXlDO0VBQzVELGVBQWUsSUFBSSx5Q0FBd0M7OzgwMVBBS214MVA7O0FDOUQ5MDFQOzs7Ozs7Ozs7QUFPQSxRQUFRLE9BQU8sZUFBZSxJQUU3QixPQUFPLFlBQVU7Q0FDakIsSUFBRyxRQUFRLFlBQVksT0FBTyxTQUFRO0VBQUMsTUFBTSxJQUFJLE1BQU07O0NBQ3ZELElBQUcsUUFBUSxZQUFZLE9BQU8sT0FBTTtFQUFDLE1BQU0sSUFBSSxNQUFNOztDQUNyRCxPQUFPLFVBQVUsWUFBVSxVQUFTLEtBQUksUUFBTztFQUM5QyxJQUFJLElBQUcsT0FBTyxXQUFTLGVBQWEsQ0FBQyxDQUFDLFNBQVEsS0FBSyxTQUFPO0VBQzFELE9BQVEsT0FBTyxRQUFNLFlBQWEsRUFBRSxVQUFRLElBQUksVUFBVSxFQUFFLE9BQU8sR0FBRSxJQUFJLFlBQVU7O0NBRXBGLE9BQU8sVUFBVSxVQUFRLFVBQVMsS0FBSSxRQUFPO0VBQzVDLElBQUksSUFBRyxPQUFPLFdBQVMsZUFBYSxDQUFDLENBQUMsU0FBUSxLQUFLLFNBQU87RUFDMUQsT0FBUSxPQUFPLFFBQU0sWUFBYSxFQUFFLFVBQVEsSUFBSSxVQUFVLEVBQUUsT0FBTyxFQUFFLFNBQU8sSUFBSSxZQUFVOztHQUkzRixTQUFTLGtCQUFpQjtDQUMxQixZQUFXO0VBQ1YsU0FBUTtFQUNSLFNBQVE7RUFDUixhQUFZO0VBQ1osV0FBVTtFQUNWLFVBQVM7RUFDVCxTQUFROztDQUVULFNBQVEsQ0FDUCxFQUFDLFFBQU8sUUFBTyxNQUFLLGNBQWEsS0FBSSxnQkFDckMsRUFBQyxRQUFPLFVBQVMsTUFBSyxnQkFBZSxLQUFJLGdCQUN6QyxFQUFDLFFBQU8sVUFBUyxNQUFLLGdCQUFlLEtBQUksZ0JBQ3pDLEVBQUMsV0FBVSxRQUNYLEVBQUMsUUFBTyxNQUFLLE1BQUssaUJBQWdCLEtBQUksa0JBQ3RDLEVBQUMsUUFBTyxNQUFLLE1BQUssaUJBQWdCLEtBQUk7O0NBRXRDLEVBQUMsUUFBTyxTQUFRLE1BQUssb0JBQW1CLEtBQUk7OztDQUc1QyxFQUFDLFdBQVUsUUFDWCxFQUFDLFFBQU8sUUFBTyxNQUFLLGNBQWEsS0FBSSxnQkFDckMsRUFBQyxRQUFPLE9BQU0sTUFBSyxtQkFBa0IsS0FBSTs7Q0FFekMsRUFBQyxXQUFVLFFBQ1gsRUFBQyxRQUFPLFFBQU8sTUFBSyxjQUFhLEtBQUksUUFDckMsRUFBQyxRQUFPLFFBQU8sTUFBSyxnQkFBZSxLQUFJO0NBSXhDLFVBQVM7RUFDUixVQUFTO0VBQ1QsVUFBUztFQUNULFVBQVM7RUFDVCxVQUFTO0VBQ1QsVUFBUztFQUNULFVBQVM7RUFDVCxVQUFTO0VBQ1QsVUFBUztFQUNULFVBQVM7O0dBR1YsUUFBUSxXQUFXLENBQUMsWUFBVTtDQUM5QixJQUFJLFNBQU87RUFDVixNQUFLLEVBQUMsUUFBTyxNQUFLLFNBQVE7RUFDMUIsUUFBTyxFQUFDLFFBQU8sS0FBSSxTQUFRO0VBQzNCLE1BQUssRUFBQyxRQUFPLFNBQVEsU0FBUTtFQUM3QixNQUFLLEVBQUMsUUFBTyxLQUFJLFNBQVE7RUFDekIsS0FBSSxFQUFDLFFBQU8sTUFBSyxTQUFROztFQUV6QixRQUFPLEVBQUMsUUFBTyxRQUFPLFNBQVE7RUFDOUIsT0FBTSxFQUFDLFFBQU8sTUFBSyxTQUFRO0VBQzNCLElBQUcsRUFBQyxRQUFPLE1BQUssU0FBUTs7Q0FLekIsU0FBUyxhQUFhLElBQUcsWUFBVyxtQkFBa0I7RUFDckQsSUFBSSxRQUFNLEdBQUc7RUFDYixJQUFJLGVBQWE7RUFDakIsSUFBSSxTQUFPLE9BQU8sWUFBWTtFQUM5QixJQUFJLFVBQVEsT0FBTyxZQUFZO0VBQy9CLE1BQU0sUUFBUSxVQUFTLE1BQUs7R0FDM0IsSUFBSSxLQUFLLFVBQVEsT0FBTyxTQUFPLFFBQVEsVUFDdEMsS0FBSyxVQUFVLFFBQU8sc0JBQ3RCLEtBQUssUUFBUSxVQUFTO0lBQ3RCLGFBQWEsS0FBSyxLQUFLLE9BQU8sT0FBTyxRQUFPLEtBQUssU0FBTyxPQUFPLFNBQU8sUUFBUTtVQUMxRTtJQUNKLGFBQWEsS0FBSyxTQUFPLE9BQUs7OztFQUdoQyxHQUFHLGtCQUFrQixjQUFhOztDQUVuQyxTQUFTLFVBQVUsSUFBRyxZQUFXOztFQUVoQyxJQUFJLGFBQVcsR0FBRztFQUNsQixXQUFXLFFBQVEsVUFBUyxPQUFNO0dBQ2pDLElBQUksT0FBSyxNQUFNLE9BQU87T0FBSyxPQUFLLE1BQU0sS0FBSztHQUMzQyxJQUFJLFFBQU0sT0FBSyxPQUFLLE9BQUs7T0FBSyxNQUFJLE9BQUssT0FBSyxPQUFLO0dBQ2pELEdBQUcsYUFBYSxFQUFDLE1BQUssT0FBTSxJQUFHLEtBQUcsRUFBQyxNQUFLOztFQUV6QyxJQUFJLFNBQU8sT0FBTyxZQUFZO0VBQzlCLElBQUksZUFBYTtFQUNqQixhQUFXLEdBQUc7RUFDZCxXQUFXLFFBQVEsVUFBUyxNQUFLO0dBQ2hDLGFBQWEsS0FDWixLQUFLLE1BQU0sTUFBTSxJQUFJLFVBQVMsTUFBSztJQUNsQyxJQUFHLEtBQUssVUFBVSxRQUFPLE9BQU07S0FDOUIsSUFBSSxVQUFRLEtBQUssUUFBUTtLQUN6QixhQUFXLEtBQUssT0FBTyxHQUFFO0tBQ3pCLFdBQVMsS0FBSyxPQUFPLFVBQVEsT0FBTztLQUNwQyxPQUFPLGFBQVc7V0FDZDtLQUNKLE9BQU8sU0FBTzs7TUFFYixLQUFLOztFQUdWLEdBQUcsa0JBQWtCLGNBQWE7O0NBRW5DLE9BQU07O0VBRUwsTUFBSyxTQUFBLEtBQVMsSUFBRztHQUFDLGFBQWEsSUFBRzs7RUFDbEMsUUFBTyxTQUFBLE9BQVMsSUFBRztHQUFDLGFBQWEsSUFBRzs7RUFDcEMsTUFBSyxTQUFBLEtBQVMsSUFBRztHQUFDLGFBQWEsSUFBRzs7RUFDbEMsTUFBSyxTQUFBLEtBQVMsSUFBRztHQUFDLGFBQWEsSUFBRzs7RUFDbEMsS0FBSSxTQUFBLElBQVMsSUFBRztHQUFDLGFBQWEsSUFBRzs7O0VBRWpDLFFBQU8sU0FBQSxPQUFTLElBQUc7R0FBQyxVQUFVLElBQUc7O0VBQ2pDLE9BQU0sU0FBQSxNQUFTLElBQUc7R0FBQyxVQUFVLElBQUc7O0VBQ2hDLElBQUcsU0FBQSxHQUFTLElBQUc7R0FBQyxVQUFVLElBQUc7O0VBQzdCLElBQUcsU0FBQSxHQUFTLElBQUc7R0FDZCxJQUFJLGFBQVcsR0FBRztHQUNsQixXQUFXLFFBQVEsVUFBUyxPQUFNO0lBQ2pDLElBQUksT0FBSyxNQUFNLE9BQU87UUFBSyxPQUFLLE1BQU0sS0FBSztJQUMzQyxJQUFJLFFBQU0sT0FBSyxPQUFLLE9BQUs7UUFBSyxNQUFJLE9BQUssT0FBSyxPQUFLO0lBQ2pELEdBQUcsYUFBYSxFQUFDLE1BQUssT0FBTSxJQUFHLEtBQUcsRUFBQyxNQUFLOztHQUV6QyxJQUFJLGVBQWE7R0FDakIsYUFBVyxHQUFHO0dBQ2QsV0FBVyxRQUFRLFVBQVMsTUFBSztJQUNoQyxJQUFHLGVBQWUsS0FBSyxPQUFNO0tBQzVCLGFBQWEsS0FBSyxLQUFLLFFBQVEsaUJBQWdCO1dBQzNDO0tBQ0osYUFBYSxLQUNaLEtBQUssTUFBTSxNQUFNLElBQUksVUFBUyxNQUFLLEdBQUU7TUFBRSxPQUFRLElBQUUsSUFBRyxPQUFLO1FBQVMsS0FBSzs7O0dBSTFFLEdBQUcsa0JBQWtCLGNBQWE7O0VBRW5DLE1BQUssU0FBQSxLQUFTLElBQUc7R0FBQyxHQUFHOztFQUNyQixNQUFLLFNBQUEsS0FBUyxJQUFHO0dBQUMsR0FBRzs7O0lBR3RCLFNBQVMsWUFBVyxZQUFVO0NBQzlCLElBQUksV0FBUztDQUNiLE9BQU87RUFDTixZQUFXLFNBQUEsV0FBUyxTQUFRO0dBQzNCLFFBQVEsT0FBTyxVQUFTOztFQUV6QixZQUFXLFNBQUEsYUFBVTtHQUNwQixPQUFPLFFBQVEsS0FBSzs7RUFFckIsTUFBSyxTQUFBLE9BQVU7R0FDZCxLQUFLLFVBQVU7R0FDZixPQUFPOzs7R0FJVCxPQUFPLFlBQVcsQ0FBQyxRQUFPLFlBQVcsVUFBUyxNQUFLLFVBQVM7Q0FDNUQsSUFBSSxTQUFRLFVBQVMsUUFBTzs7Ozs7Ozs7Ozs7RUFXM0IsT0FBTyxXQUFXO0dBQ2pCLFdBQVUsU0FBQSxVQUFTLE1BQUs7SUFDdkIsT0FBTyxTQUFTLGNBQWMsTUFBTTs7O0VBR3RDLE9BQU87R0FDTCxPQUFPOztDQUVWLE9BQU8sVUFBUyxPQUFNO0VBQ3JCLElBQUcsQ0FBQyxTQUFPLE9BQU8sVUFBUSxVQUFVLE9BQU87RUFDM0MsT0FBTyxLQUFLLFlBQVksT0FBTzs7SUFHaEMsVUFBVSxZQUFZLENBQUMsa0JBQWlCLFdBQVcsVUFBUyxnQkFBZSxTQUFROztDQUVuRixPQUFPO0VBQ04sVUFBUztFQUNULE9BQU07R0FDTCxhQUFhO0dBQ2IsTUFBSztHQUNMLFNBQVE7R0FDUixZQUFXO0dBQ1gsU0FBUTtHQUNSLFVBQVM7O0VBRVYsVUFBUyxDQUFDLHdDQUNQLHVDQUNDLDBNQUNDLHlEQUNBLHlDQUNELFNBQ0QsU0FDQSw0RUFDQSw2RkFDRCxVQUFVLEtBQUs7RUFDakIsU0FBUTtFQUNSLFNBQVEsU0FBQSxRQUFTLE1BQUssUUFBTztHQUM1QixJQUFHLFFBQVEsWUFBWSxPQUFPLGFBQVk7SUFBQyxNQUFNLElBQUksTUFBTTs7R0FDM0QsSUFBSSxRQUFNLE9BQU8sU0FBTztHQUN4QixJQUFJLFdBQVcsS0FBSyxLQUFLO0dBQ3pCLElBQUksYUFBYSxJQUFJLE9BQU8sV0FBVyxVQUFTLE9BQU07SUFDckQsUUFBUSxRQUFRLFNBQVMsS0FBSyxlQUFjLFVBQVMsTUFBSztLQUN6RCxJQUFHLEtBQUssUUFBTSxTQUNiLE1BQU0sYUFBVyxNQUFJLEtBQUssaUJBRTNCLE1BQU0sYUFBYSxLQUFLLE1BQUssS0FBSzs7SUFFbkMsU0FBUyxZQUFZO01BQ3BCO0lBQ0QsTUFBSztJQUNMLGNBQWE7SUFDYixPQUFNOzs7R0FHUCxPQUFPLFNBQVMsU0FBUyxRQUFRLE1BQU0sUUFBTztJQUM3QyxPQUFPLFVBQVE7SUFDZixPQUFPLGFBQVcsT0FBTyxjQUFZLGVBQWU7SUFDcEQsT0FBTyxVQUFRLE9BQU8sV0FBUyxlQUFlO0lBQzlDLElBQUksVUFBUSxPQUFPLFdBQVM7SUFDNUIsS0FBSSxJQUFJLE9BQU8sU0FBUTtLQUN0QixXQUFXLFVBQVUsS0FBSSxRQUFROztJQUVsQyxJQUFJLFdBQVMsT0FBTyxZQUFVLGVBQWU7SUFDN0MsSUFBSSxTQUFPO0lBQ1gsS0FBSSxJQUFJLE9BQU8sVUFBUztLQUN2QixJQUFHLE9BQU8sT0FBSyxZQUFVLFFBQVEsU0FBUyxPQUN6QyxPQUFPLE9BQUssUUFBUSxTQUFTOzs7SUFHL0IsT0FBTyxXQUFTO0lBQ2hCLE9BQU8sU0FBTztJQUNkLE9BQU8sZUFBYTs7SUFFcEIsV0FBVyxVQUFVLGFBQVk7O0lBRWpDLE9BQU8sYUFBVyxVQUFTLFlBQVc7S0FDckMsSUFBRyxDQUFDLFlBQVcsWUFDVixJQUFHLFFBQVEsYUFDZixRQUFRLFlBQVksaUJBQ2hCLElBQUcsY0FBWSxXQUFVO01BQzdCLE9BQU8sVUFBUSxDQUFDLE9BQU87WUFFbkIsSUFBRyxjQUFZLGNBQWE7TUFDaEMsSUFBSSxLQUFHLEtBQUs7TUFDWixJQUFJLE1BQUksR0FBRyxxQkFBb0IsR0FBRywyQkFBMEIsR0FBRztNQUMvRCxJQUFHLEtBQUssSUFBSSxLQUFLOztLQUVsQixXQUFXOzs7SUFHWixJQUFHLE9BQU8sTUFBSztLQUNkLFdBQVcsU0FBUyxPQUFPOzs7SUFHNUIsSUFBSSxtQkFBbUIsT0FBTyxPQUFPLGVBQWUsWUFBVTtLQUM3RCxJQUFHLE9BQU8sYUFBYTtNQUN0QixXQUFXLFNBQVMsT0FBTzs7OztJQUk3QixPQUFPLElBQUksWUFBWTs7SUFFdkIsV0FBVyxHQUFHLFVBQVMsVUFBUyxVQUFVLE9BQU07S0FDL0MsSUFBSSxNQUFJLFNBQVM7S0FDakIsSUFBRyxPQUFPLFNBQU8sS0FBSztNQUNyQixPQUFPLE9BQUssU0FBUztNQUNyQixJQUFJLFFBQU0sT0FBTyxNQUFNO01BQ3ZCLElBQUcsVUFBUSxZQUFVLFVBQVEsVUFBUztPQUNyQyxPQUFPOzs7Ozs7OztrdTNCQUxvdDNCOztBQy9SbHUzQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNobkJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDbFhBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQzV0QkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUMvcENBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQzdEQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7QUNqdUJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDbnVCQTtBQUNBO0FBQ0E7O0FDRkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNoRUE7QUFDQTtBQUNBOztBQ0ZBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ2hEQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ2p6QkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDWkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDbEtBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDOUZBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUM3SEE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDN09BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNwTkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDcktBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ25WQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUM1R0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUM1S0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQzNKQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ3hnQkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQzNEQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ3pLQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQy9IQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDN3NJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDMXVFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQy9CQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDdElBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDOUxBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQzlFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ3RLQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDekNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNoT0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDeEVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUM5U0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDNWdEQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwiZmlsZSI6ImdlbmVyYXRlZC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24gZSh0LG4scil7ZnVuY3Rpb24gcyhvLHUpe2lmKCFuW29dKXtpZighdFtvXSl7dmFyIGE9dHlwZW9mIHJlcXVpcmU9PVwiZnVuY3Rpb25cIiYmcmVxdWlyZTtpZighdSYmYSlyZXR1cm4gYShvLCEwKTtpZihpKXJldHVybiBpKG8sITApO3ZhciBmPW5ldyBFcnJvcihcIkNhbm5vdCBmaW5kIG1vZHVsZSAnXCIrbytcIidcIik7dGhyb3cgZi5jb2RlPVwiTU9EVUxFX05PVF9GT1VORFwiLGZ9dmFyIGw9bltvXT17ZXhwb3J0czp7fX07dFtvXVswXS5jYWxsKGwuZXhwb3J0cyxmdW5jdGlvbihlKXt2YXIgbj10W29dWzFdW2VdO3JldHVybiBzKG4/bjplKX0sbCxsLmV4cG9ydHMsZSx0LG4scil9cmV0dXJuIG5bb10uZXhwb3J0c312YXIgaT10eXBlb2YgcmVxdWlyZT09XCJmdW5jdGlvblwiJiZyZXF1aXJlO2Zvcih2YXIgbz0wO288ci5sZW5ndGg7bysrKXMocltvXSk7cmV0dXJuIHN9KSIsImltcG9ydCAkICAgICAgICAgIGZyb20gJ2pxdWVyeSc7XG5pbXBvcnQgYW5ndWxhciAgICBmcm9tICdhbmd1bGFyJztcbmltcG9ydCBhcHBDb3JlICAgIGZyb20gJy4vY29yZS9jb3JlLm1vZHVsZSc7XG5pbXBvcnQgYXBwQ29tbW9uICBmcm9tICcuL2NvbW1vbi9jb21tb24ubW9kdWxlJztcbmltcG9ydCBhcHBNb2R1bGVzIGZyb20gJy4vbW9kdWxlcy9tb2R1bGVzLm1vZHVsZSdcbmltcG9ydCAnLi90ZW1wbGF0ZXMnO1xuXG4vLyB3aW5kb3cuJCA9IHJlcXVpcmUoJ2pxdWVyeScpO1xuXG5hbmd1bGFyLm1vZHVsZSgnYXBwJywgW1xuICAnYXBwLnRlbXBsYXRlcycsXG5cbiAgYXBwQ29yZS5uYW1lLFxuICBhcHBDb21tb24ubmFtZSxcbiAgYXBwTW9kdWxlcy5uYW1lXG5dKTtcblxuIiwiaW1wb3J0IGFuZ3VsYXIgICAgICAgICBmcm9tICdhbmd1bGFyJztcbmltcG9ydCBiYXNlU2VydmljZSAgICAgZnJvbSAnLi9iYXNlLnNlcnZpY2UnO1xuaW1wb3J0IGJhc2VMaXN0Q3RsICAgICBmcm9tICcuL2Jhc2VMaXN0LmNvbnRyb2xsZXInO1xuXG5cbmV4cG9ydCBkZWZhdWx0IGFuZ3VsYXIubW9kdWxlKCdhcHAuY29tbW9uLmJhc2UnLCBbXSlcbi5zZXJ2aWNlKCdiYXNlTGlzdEN0cmwnLCBiYXNlTGlzdEN0bClcbi5zZXJ2aWNlKCdiYXNlU2VydmljZScsIGJhc2VTZXJ2aWNlKTtcbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIEJhc2VTZXJ2aWNlIHtcblxuICBjb25zdHJ1Y3RvcigkaHR0cCwgaHR0cEhlbHBlciwgdG9hc3RyKSB7XG4gICAgJ25nSW5qZWN0JztcbiAgICB0aGlzLiRodHRwID0gJGh0dHA7XG4gICAgdGhpcy5odHRwSGVscGVyID0gaHR0cEhlbHBlcjtcbiAgICB0aGlzLnRvYXN0ciA9IHRvYXN0cjtcblxuICAgIHRoaXMudXJsUHJlZml4ID0ge1xuICAgICAgLy8gb2xkXG4gICAgICAvL29sZDogJy9hcGkvb2xkLycsXG5cbiAgICAgIC8vIG9sZCBncm91cFxuICAgICAgLy9ncm91cDogJy9hcGkvZ3JvdXAvJ1xuICAgIH07XG5cbiAgfVxuXG4gIF9pbml0KCkge1xuXG4gICAgdGhpcy5iYXNlSW5mbyA9IHdpbmRvdy5wYWdlQ29uZi5hZG1pbkRhdGE7XG5cbiAgfVxuXG4gIGZldGNoKHR5cGUsIG1ldGhvZCwgcGFyYW1zID0ge30pIHtcblxuICAgIHJldHVybiB0aGlzLl9SRVNUZnVsRmFjdG9yeSgnZ2V0JywgdHlwZSwgbWV0aG9kLCBwYXJhbXMpO1xuXG4gIH1cblxuICBmZXRjaExpc3QodHlwZSwgcGFyYW1zKSB7XG5cbiAgICByZXR1cm4gdGhpcy5mZXRjaCh0eXBlLCAnbGlzdCcsIHBhcmFtcyk7XG5cbiAgfVxuXG4gIGVkaXQodHlwZSwgaWQsIHBhcmFtcyA9IHt9KSB7XG5cbiAgICByZXR1cm4gdGhpcy5fUkVTVGZ1bEZhY3RvcnkoJ3B1dCcsIHR5cGUsIGlkLCBwYXJhbXMpO1xuXG4gIH1cblxuICBhZGQodHlwZSwgbWV0aG9kLCBwYXJhbXMgPSB7fSkge1xuXG4gICAgcmV0dXJuIHRoaXMuX1JFU1RmdWxGYWN0b3J5KCdwb3N0JywgdHlwZSwgbWV0aG9kLCBwYXJhbXMpO1xuXG4gIH1cblxuICBkZWxldGUodHlwZSwgbWV0aG9kLCBwYXJhbXMgPSB7fSkge1xuXG4gICAgcmV0dXJuIHRoaXMuX1JFU1RmdWxGYWN0b3J5KCdkZWxldGUnLCB0eXBlLCBtZXRob2QsIHBhcmFtcyk7XG5cbiAgfVxuXG4gIC8vIERlcHJlY2F0ZWRcbiAgZ2V0RGV0YWlsKHR5cGUsIGRhdGEpIHtcblxuICAgIHRoaXMuaHR0cEhlbHBlci5ibG9ja1VJLnN0YXJ0KCk7XG5cbiAgICAvL3RoaXMuZmV0Y2godHlwZSwgJ2xpc3QnLCBwYXJhbXMpO1xuXG4gICAgY29uc29sZS5sb2codHlwZSlcbiAgICBsZXQgdXJsID0gdGhpcy51cmxQcmVmaXhbdHlwZV0gKyAnaWQnO1xuICAgIHJldHVybiB0aGlzLiRodHRwLmdldCh1cmwpLnRoZW4odGhpcy5odHRwSGVscGVyLnZlcmlmeSwgdGhpcy5odHRwSGVscGVyLmVycm9yKTtcblxuICB9XG5cbiAgLyoqXG4gICAqIFJFU1RmdWwgaHR0cCByZXF1ZXN0IGZhY3RvcnkgZnVuY3Rpb25cbiAgICovXG4gIF9SRVNUZnVsRmFjdG9yeSh2ZXJiLCB0eXBlLCBtZXRob2QsIHBhcmFtcykge1xuXG4gICAgdGhpcy5odHRwSGVscGVyLmJsb2NrVUkuc3RhcnQoKTtcblxuICAgIGxldCBwYXJhbXNOYW1lID0gWydwb3N0JywgJ3B1dCddLmluZGV4T2YodmVyYikgPiAtMSA/ICdkYXRhJyA6ICdwYXJhbXMnO1xuXG4gICAgcmV0dXJuIHRoaXMuJGh0dHBbdmVyYl0odGhpcy5fZ2V0VXJsKHR5cGUsIG1ldGhvZCksIHtcbiAgICAgIFtwYXJhbXNOYW1lXTogcGFyYW1zXG4gICAgfSkudGhlbih0aGlzLmh0dHBIZWxwZXIudmVyaWZ5LCB0aGlzLmh0dHBIZWxwZXIuZXJyb3IpO1xuXG4gIH1cblxuICAvLyBUT0RPXG4gIC8vIGZldGNoU2VhcmNoTGlzdCgpIHtcbiAgLy8gICByZXR1cm4gJGh0dHAuZ2V0KCcvYXBpL29sZC9zZWFyY2hPbGQnLCB7cGFyYW1zOiBkYXRhIHx8IHt9fSkudGhlbihodHRwSGVscGVyLnZlcmlmeSwgIGh0dHBIZWxwZXIuZXJyb3IpO1xuICAvLyB9XG5cbiAgX2dldFVybCh0eXBlLCBtZXRob2QpIHtcblxuICAgIHJldHVybiB0aGlzLnVybFByZWZpeFt0eXBlXSA/IGAke3RoaXMudXJsUHJlZml4W3R5cGVdfS8ke21ldGhvZH1gIDogYC9hcGkvJHt0eXBlfS8ke21ldGhvZH1gO1xuXG4gIH1cblxuICBub3RpZnkobWVzc2FnZSwgdHlwZSA9ICdzdWNjZXNzJykge1xuXG4gICAgcmV0dXJuICgpID0+IHsgdGhpcy50b2FzdHJbdHlwZV0obWVzc2FnZSk7IH1cblxuICB9XG5cbn1cbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIEJhc2VMaXN0Q3RybCB7XG5cbiAgY29uc3RydWN0b3IoJGluamVjdG9yLCBjb25maWcpIHtcblxuICAgIHRoaXMuJHN0YXRlUGFyYW1zICA9ICRpbmplY3Rvci5nZXQoJyRzdGF0ZVBhcmFtcycpO1xuICAgIHRoaXMuJGxvY2F0aW9uICAgICA9ICRpbmplY3Rvci5nZXQoJyRsb2NhdGlvbicpO1xuICAgIHRoaXMuaHR0cEhlbHBlciAgICA9ICRpbmplY3Rvci5nZXQoJ2h0dHBIZWxwZXInKTtcbiAgICB0aGlzLkFyZWFTZXJ2aWNlICAgPSAkaW5qZWN0b3IuZ2V0KCdBcmVhU2VydmljZScpO1xuICAgIHRoaXMuQXBwU2V0dGluZ3MgICA9ICRpbmplY3Rvci5nZXQoJ0FwcFNldHRpbmdzJyk7XG5cbiAgICAvL3RoaXMueHh4ID0gJGluamVjdG9yLmdldCgneHh4Jyk7XG5cbiAgICB0aGlzLmFyZWFMaXN0ICAgICAgPSB0aGlzLkFyZWFTZXJ2aWNlLmdldExpc3QoKTtcbiAgICB0aGlzLnN0YXR1c0xpc3QgICAgPSB0aGlzLkFwcFNldHRpbmdzLnN0YXR1c0xpc3Q7ICAvLyDnirbmgIFcbiAgICB0aGlzLm9sZFR5cGVMaXN0ICAgPSB0aGlzLkFwcFNldHRpbmdzLm9sZFR5cGVMaXN0O1xuICAgIHRoaXMub2xkU3RhdHVzTGlzdCA9IHRoaXMuQXBwU2V0dGluZ3Mub2xkU3RhdHVzTGlzdDtcbiAgICB0aGlzLnBhZ2luYXRpb24gICAgPSB0aGlzLkFwcFNldHRpbmdzLnBhZ2luYXRpb247ICAvLyDliIbpobVcblxuICAgIHRoaXMuZmlsdGVycyA9IGFuZ3VsYXIuZXh0ZW5kKHtcbiAgICAgIHBhZ2U6IDFcbiAgICB9LCB0aGlzLiRzdGF0ZVBhcmFtcywgY29uZmlnLmZpbHRlcnMpO1xuXG4gIH1cblxuICAvKipcbiAgICog6ZyA5Zyo5a2QQ29udHJvbGxlcuS4reiwg+eUqOatpOaWueazleOAglxuICAgKiDoi6XopoHph43ovb3mraTmlrnms5XvvIzlupTlnKjph43ovb3mlrnms5XkuK3lhYjosIPnlKhzdXBlci5faW5pdCgpXG4gICAqXG4gICAqIG9wdHM6IOWPguaVsOmFjee9rlxuICAgKiAgIG51bWJlcktleXMoQXJyYXkpOiDmnaXoh6p1cmznmoTor7fmsYLlj4LmlbDlsIbooqvku47lrZfnrKbkuLLovazkuLrmlbTmlbBcbiAgICovXG4gIF9pbml0KG9wdHMpIHtcblxuICAgIHRoaXMuaHR0cEhlbHBlci5ibG9ja1VJLnN0YXJ0KCk7XG5cbiAgICBpZighdGhpcy5fYXNzZXJ0SW52b2tlKCdfZ2V0UGFyYW1zJywgJ3NlYXJjaEZ1bicpKSByZXR1cm47XG5cbiAgICAvLyDojrflj5bmkJzntKLlj4LmlbBcbiAgICB0aGlzLl9nZXRQYXJhbXMob3B0cyk7XG5cbiAgICAvLyDor7fmsYLmlbDmja5cbiAgICB0aGlzLnNlYXJjaEZ1bigpO1xuXG4gIH1cblxuICAvLyDmoLnmja7lj4LmlbDph43mlrDmn6Xor6JcbiAgcmVTZWFyY2goKSB7XG5cbiAgICB0aGlzLiRsb2NhdGlvbi5zZWFyY2goYW5ndWxhci5tZXJnZSh7fSwgdGhpcy5maWx0ZXJzLCB7XG4gICAgICBwYWdlOiAxIC8vIOaUueWPmOeKtuaAgeWQjumhteeggemHjee9ruS4ujFcbiAgICB9KSk7XG5cbiAgfVxuXG4gIC8qKlxuICAgKiDliIbpobXkuovku7bvvIjliLfmlrDpobXpnaLvvIzlubbmoLnmja7or7fmsYLlj4LmlbDph43mlrDnrZvpgInvvIlcbiAgICovXG4gIHBhZ2VDaGFuZ2VkKCkge1xuICAgIHRoaXMuJGxvY2F0aW9uLnNlYXJjaCggdGhpcy5maWx0ZXJzICk7XG5cbiAgfVxuXG4gIC8qKlxuICAgKiDov4fmu6TmjonnqbrlgLzor7fmsYLlj4LmlbDvvIhudWxsLCB1bmRlZmluZWTnrYnvvIlcbiAgICogVE9ETzog5Lulb3B0c+W9ouW8j+aPkOS+mywg5oiW5pS+5YiwYmFzZVNlcnZpY2XkuK1cbiAgICovXG4gIGZpbHRlck51bGxGaWx0ZXIoZmlsdGVycyl7XG5cbiAgICBsZXQgdGVtcEZpbHRlciA9IGFuZ3VsYXIuY29weShmaWx0ZXJzKTtcbiAgICBmb3IobGV0IGkgaW4gdGVtcEZpbHRlcil7XG4gICAgICAgIGlmKCF0ZW1wRmlsdGVyW2ldKXtcbiAgICAgICAgICAgIGRlbGV0ZSB0ZW1wRmlsdGVyW2ldO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHRlbXBGaWx0ZXI7XG4gIH1cblxuICBjbGVhcktleXdvcmRGaWx0ZXIoZGF0YSl7XG5cbiAgICB0aGlzLnRvZ2dsZUZpbHRlcihhbmd1bGFyLmV4dGVuZChkYXRhLCB7XG4gICAgICBzZWFyY2hDb2w6IG51bGwsXG4gICAgICBzZWFyY2hUeXBlOiBudWxsLFxuICAgICAga2V5d29yZDogbnVsbFxuICAgIH0pKTtcblxuICB9XG5cbiAgdG9nZ2xlRmlsdGVyKGZpbHRlcil7XG5cbiAgICB0aGlzLl9zZXRQYXJhbXMoZmlsdGVyLCB0cnVlKTtcblxuICB9XG5cbiAgLyoqXG4gICAqIOiuvue9ruafpeivouWPguaVsOWIsENvbnRyb2xsZXJcbiAgICogICBkYXRhKE9iamVjdCk6IOafpeivouWPguaVsFxuICAgKiAgIGlzQXV0b1JlZnJlc2goQm9vbGVhbik6IOaYr+WQpuiHquWKqOWIt+aWsOmhtemdolxuICAgKi9cbiAgX3NldFBhcmFtcyhkYXRhLCBpc0F1dG9SZWZyZXNoKSB7XG5cbiAgICBmb3IobGV0IGkgaW4gZGF0YSl7XG4gICAgICBpZih0aGlzLmZpbHRlcnNbaV0gPT0gZGF0YVtpXSl7XG4gICAgICAgIHRoaXMuZmlsdGVyc1tpXSA9IHVuZGVmaW5lZDtcbiAgICAgIH1lbHNle1xuICAgICAgICB0aGlzLmZpbHRlcnNbaV0gPSBkYXRhW2ldO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmKGlzQXV0b1JlZnJlc2gpXG4gICAgICB0aGlzLnJlU2VhcmNoKCk7XG5cbiAgfVxuXG4gIC8qKlxuICAgKiDku44kc3RhdGVQYXJhbXPkuK3ojrflj5bmn6Xor6Llj4LmlbBcbiAgICovXG4gIF9nZXRQYXJhbXMob3B0cykge1xuXG4gICAgaWYoIW9wdHMpIHJldHVybjtcblxuICAgIGZvcihsZXQgaSBpbiB0aGlzLmZpbHRlcnMpe1xuICAgICAgaWYodGhpcy4kc3RhdGVQYXJhbXNbaV0pe1xuICAgICAgICB0aGlzLmZpbHRlcnNbaV0gPSBvcHRzLm51bWJlcktleXMuaW5jbHVkZXMoaSkgPyArdGhpcy4kc3RhdGVQYXJhbXNbaV0gOiB0aGlzLiRzdGF0ZVBhcmFtc1tpXTtcbiAgICAgIH1cbiAgICB9XG5cbiAgfVxuXG4gIHJlbW92ZSh0eXBlLCBpZCwgaW5kZXgpe1xuXG4gICAgbGV0IHRoYXQgPSB0aGlzO1xuXG4gICAgdGhpcy5zd2VldC5zaG93KHtcbiAgICAgIHRpdGxlOiAn56Gu6K6k5Yig6Zmk6L+Z5p2h5pWw5o2u5ZCX77yfJyxcbiAgICAgIHNob3dDYW5jZWxCdXR0b246IHRydWUsXG4gICAgICBjb25maXJtQnV0dG9uQ29sb3I6IFwiI0RENkI1NVwiLFxuICAgICAgY29uZmlybUJ1dHRvblRleHQ6IFwi56Gu5a6aXCIsXG4gICAgICBjYW5jZWxCdXR0b25UZXh0OiBcIuWPlua2iFwiLFxuICAgICAgY2xvc2VPbkNvbmZpcm06IHRydWUsXG4gICAgICBpbWFnZVVybDogJy9kaXN0L2ltYWdlcy9jb21tb24vd2FybmluZy5wbmcnXG4gICAgfSwgZnVuY3Rpb24oc3VyZSl7XG4gICAgICBpZihzdXJlKXtcbiAgICAgICAgICAvLyB0aGlzLm9wZXJhdGlvblNlcnZpY2UucmVtb3ZlKHR5cGUsIGlkKS50aGVuKGZ1bmN0aW9uKCByZXMgKXtcbiAgICAgICAgICAvLyAgICAgdG9hc3RyLnN1Y2Nlc3MoJ+aTjeS9nOW3suWujOaIkO+8gScsICfmj5DnpLonKTtcbiAgICAgICAgICAvLyAgICAgdGhhdC5saXN0LnNwbGljZShpbmRleCwxKTtcbiAgICAgICAgICAvLyB9KTtcbiAgICAgIH1lbHNle1xuICAgICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICB9KTtcblxuICB9XG5cbiAgX2Fzc2VydEludm9rZSguLi5mdW5jcykge1xuXG4gICAgbGV0IHN1Y2Nlc3MgPSB0cnVlO1xuICAgIGZ1bmNzLmZvckVhY2goZnVuYyA9PiB7XG4gICAgICBpZighdGhpc1tmdW5jXSkge1xuICAgICAgICBjb25zb2xlLndhcm4oYFRoZXJlIGlzIG5vIGludm9rZSAke2Z1bmN9KCkgaW4gY29udHJvbGxlcmApO1xuICAgICAgICBzdWNjZXNzID0gZmFsc2U7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICB9KTtcbiAgICByZXR1cm4gc3VjY2VzcztcblxuICB9XG5cbn1cbiIsImltcG9ydCBhbmd1bGFyICAgICAgICAgIGZyb20gJ2FuZ3VsYXInO1xuaW1wb3J0IGJhc2VNb2R1bGUgICAgICAgZnJvbSAnLi9iYXNlL2Jhc2UubW9kdWxlJztcbmltcG9ydCBjb21wb25lbnRzTW9kdWxlIGZyb20gJy4vY29tcG9uZW50cy9jb21wb25lbnRzLm1vZHVsZSc7XG5pbXBvcnQgZGlyZWN0aXZlc01vZHVsZSBmcm9tICcuL2RpcmVjdGl2ZXMvZGlyZWN0aXZlcy5tb2R1bGUnO1xuaW1wb3J0IHNlcnZpY2VzTW9kdWxlICAgZnJvbSAnLi9zZXJ2aWNlcy9zZXJ2aWNlcy5tb2R1bGUnO1xuaW1wb3J0IGZpbHRlcnNNb2R1bGUgICAgZnJvbSAnLi9maWx0ZXJzL2ZpbHRlcnMubW9kdWxlJztcbmltcG9ydCBtY1JlZ0V4cCAgICAgICAgIGZyb20gJy4vY29uc3RhbnRzL3JlZ0V4cFJ1bGUnO1xuXG5cbmV4cG9ydCBkZWZhdWx0IGFuZ3VsYXIubW9kdWxlKCdhcHAuY29tbW9uJywgW1xuICBiYXNlTW9kdWxlLm5hbWUsXG4gIGNvbXBvbmVudHNNb2R1bGUubmFtZSxcbiAgc2VydmljZXNNb2R1bGUubmFtZSxcbiAgZGlyZWN0aXZlc01vZHVsZS5uYW1lLFxuICBmaWx0ZXJzTW9kdWxlLm5hbWVcbl0pXG4uY29uc3RhbnQoJ21jUmVnRXhwJywgbWNSZWdFeHApXG4iLCJjbGFzcyBCYWNrVG9wQ29udHJvbGxlciB7XG5cbiAgY29uc3RydWN0b3IoJHNjb3BlLCBlbGVtZW50LCBhdHRycywgJHdpbmRvdykge1xuICAgICduZ0luamVjdCc7XG5cbiAgICBsZXQgJHdpbiA9IGFuZ3VsYXIuZWxlbWVudCgkd2luZG93KSxcbiAgICAgICAgJGVsZSA9IGFuZ3VsYXIuZWxlbWVudChlbGVtZW50KTtcblxuICAgICR3aW4uc2Nyb2xsKGZ1bmN0aW9uKCl7XG4gICAgICAgIGlmICgkd2luLnNjcm9sbFRvcCgpIDw9IDApIHtcbiAgICAgICAgICAgICRlbGUuZmFkZU91dCgpO1xuICAgICAgICB9ZWxzZSB7XG4gICAgICAgICAgICAkZWxlLmZhZGVJbigpO1xuICAgICAgICB9XG4gICAgfSk7XG5cbiAgICAkZWxlLm9uKCdjbGljaycsIGZ1bmN0aW9uKCl7XG4gICAgICAgICQoJ2h0bWwsIGJvZHknKS5hbmltYXRlKHsgc2Nyb2xsVG9wOiAwIH0sICdmYXN0Jyk7XG4gICAgfSk7XG4gIH1cblxufVxuXG5leHBvcnQgY29uc3QgYmFja1RvcCA9IHtcbiAgdGVtcGxhdGVVcmw6ICdjb21tb24vY29tcG9uZW50cy9iYWNrVG9wL2JhY2tUb3AuaHRtbCcsXG4gIGNvbnRyb2xsZXI6IEJhY2tUb3BDb250cm9sbGVyLFxuICBiaW5kaW5nczoge1xuXG4gIH1cbn07XG4iLCJpbXBvcnQgYW5ndWxhciAgIGZyb20gJ2FuZ3VsYXInO1xuaW1wb3J0IHtiYWNrVG9wfSBmcm9tICcuL2JhY2stdG9wL2JhY2stdG9wJztcbmltcG9ydCBpbmxpbmVOYXYgZnJvbSAnLi9pbmxpbmUtbmF2JztcblxuaW1wb3J0IG1jU3RlcCBmcm9tICcuL21jLXN0ZXAnO1xuXG5cbmV4cG9ydCBkZWZhdWx0IGFuZ3VsYXIubW9kdWxlKCdhcHAuY29tbW9uLmNvbXBvbmVudHMnLCBbXSlcbi5jb21wb25lbnQoJ2JhY2tUb3AnLCBiYWNrVG9wKVxuLmNvbXBvbmVudCgnaW5saW5lTmF2JywgaW5saW5lTmF2KVxuLmNvbXBvbmVudCgnbWNTdGVwJywgbWNTdGVwKTtcbjtcbiIsImltcG9ydCBJbmxpbmVOYXZDb250cm9sbGVyIGZyb20gJy4vaW5saW5lLW5hdi5jdHJsJztcblxuXG5jb25zdCBpbmxpbmVOYXYgPSB7XG4gIHRlbXBsYXRlVXJsOiAnY29tbW9uL2NvbXBvbmVudHMvaW5saW5lLW5hdi9pbmxpbmUtbmF2Lmh0bWwnLFxuICBjb250cm9sbGVyOiBJbmxpbmVOYXZDb250cm9sbGVyLFxuICBiaW5kaW5nczoge1xuICAgIG5hdkxpc3Q6ICc8JyxcbiAgICBidG5MaXN0OiAnPCcsXG4gICAgYWxpYXM6ICdAJyxcbiAgICBiYWNrQnRuOiAnPCdcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBpbmxpbmVOYXY7XG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBJbmxpbmVOYXZDb250cm9sbGVyIHtcblxuICBjb25zdHJ1Y3Rvcigkc3RhdGUsICRpbmplY3RvciwgJHJlc29sdmUsICRzY29wZSkge1xuICAgICduZ0luamVjdCc7XG5cblxuICAgIHRoaXMucmVzb2x2ZU9iamVjdCA9ICRzY29wZS4kcGFyZW50LiRyZXNvbHZlO1xuXG4gICAgaWYodGhpcy5hbGlhcyAmJiB0aGlzLnJlc29sdmVPYmplY3RbdGhpcy5hbGlhc10pIHtcbiAgICAgIHRoaXMuZXh0cmFJbmZvID0gdGhpcy5yZXNvbHZlT2JqZWN0W3RoaXMuYWxpYXNdO1xuICAgIH1cbiAgICAvLyB0aGlzLmV4dHJhSW5mbyA9ICRpbmplY3Rvci5nZXQodGhpcy5hbGlhcyk7XG5cbiAgICAvL2NvbnNvbGUubG9nKCRzdGF0ZS5nZXQoKSk7XG4gICAgLy9jb25zb2xlLmxvZyh0aGlzLm5hdkxpc3QpO1xuXG4gICAgaWYodGhpcy5idG5MaXN0KSB0aGlzLmJ0bkxpc3RCYWNrdXAgPSBbLi4udGhpcy5idG5MaXN0XTtcbiAgICBpZih0aGlzLm5hdkxpc3QpIHRoaXMubmF2TGlzdEJhY2t1cCA9IFsuLi50aGlzLm5hdkxpc3RdO1xuXG4gICAgJHNjb3BlLiR3YXRjaCgnJGN0cmwuZXh0cmFJbmZvLl9pbml0VGFnJywgKCk9PntcbiAgICAgIHRoaXMuX2luaXQoKTtcbiAgICB9KTtcblxuICB9XG5cbiAgX2luaXQgKCkge1xuICAgIGlmKHRoaXMubmF2TGlzdEJhY2t1cCkge1xuICAgICAgdGhpcy5uYXZMaXN0ID0gdGhpcy5uYXZMaXN0QmFja3VwLmZpbHRlcihpdGVtID0+IHRoaXMuX2ZpbHRlckhhbmRsZShpdGVtKSk7XG4gICAgfVxuICAgIGlmKHRoaXMuYnRuTGlzdEJhY2t1cCAmJiB0aGlzLmJ0bkxpc3RCYWNrdXAubGVuZ3RoKXtcbiAgICAgIHRoaXMuYnRuTGlzdCA9IHRoaXMuYnRuTGlzdEJhY2t1cC5maWx0ZXIoaXRlbSA9PiB0aGlzLl9maWx0ZXJIYW5kbGUoaXRlbSkpO1xuICAgIH1cbiAgfVxuXG4gIF9maWx0ZXJIYW5kbGUoaXRlbSkge1xuICAgIGlmKGl0ZW0uZXhwZXNzaW9uICl7XG4gICAgICBpZih0aGlzLmV4dHJhSW5mbyAmJiBPYmplY3Qua2V5cyh0aGlzLmV4dHJhSW5mbykubGVuZ3RoID4gMSApe1xuICAgICAgICByZXR1cm4gdGhpcy5oYW5kbGVFeHAodGhpcy5leHRyYUluZm8sIGl0ZW0uZXhwZXNzaW9uKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuXG4gIGhhbmRsZUV4cChvYmosIGV4cCkge1xuXG4gICAgY29uc3QgaGFuZGxlciA9IG5ldyBGdW5jdGlvbignd2l0aCgnK0pTT04uc3RyaW5naWZ5KG9iaikrJyl7cmV0dXJuICcrZXhwKyd9Jyk7XG5cbiAgICByZXR1cm4gaGFuZGxlcigpO1xuICB9XG5cbiAgaGFuZGxlQ2xpY2soaXRlbSwgZSkge1xuICAgIGlmKGl0ZW0uY2xpY2tFeHBlc3Npb24pIHtcbiAgICAgIGlmKHRoaXMuZXh0cmFJbmZvICYmIE9iamVjdC5rZXlzKHRoaXMuZXh0cmFJbmZvKS5sZW5ndGggPiAxICl7XG4gICAgICAgIGlmKHRoaXMuaGFuZGxlRXhwKHRoaXMuZXh0cmFJbmZvLCBpdGVtLmNsaWNrRXhwZXNzaW9uKSl7XG4gICAgICAgICAgaXRlbS5jbGlja0hhbmRsZXIgJiYgaXRlbS5jbGlja0hhbmRsZXIoKTtcblxuICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuXG4gICAgfVxuXG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbn1cbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIG1jU3RlcENvbnRyb2xsZXIge1xuICBjb25zdHJ1Y3Rvcigpe1xuICAgICduZ0luamVjdCc7XG4gIH1cbn1cbiIsImltcG9ydCBtY1N0ZXBDb250cm9sbGVyIGZyb20gJy4vY3RybCc7XG5cbmNvbnN0IG1jU3RlcCA9IHtcbiAgdGVtcGxhdGVVcmw6ICdjb21tb24vY29tcG9uZW50cy9tYy1zdGVwL3RlbXBsYXRlLmh0bWwnLFxuICBjb250cm9sbGVyOiBtY1N0ZXBDb250cm9sbGVyLFxuICBjb250cm9sbGVyQXM6ICd2bScsXG4gIGJpbmRpbmdzOiB7XG4gICAgc3RlcExpc3Q6ICc9JyxcbiAgICBjdXJyZW50U3RlcDogJz0nXG4gIH1cbn07XG5cbmV4cG9ydCBkZWZhdWx0IG1jU3RlcDtcbiIsImV4cG9ydCBjb25zdCBleHByZXNzaW9uID0ge1xuICByZXF1aXJlZDogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICByZXR1cm4gISF2YWx1ZTtcbiAgfSxcbiAgcmVxdWlyZWRJZk5lZWQ6IGZ1bmN0aW9uKHZhbHVlLCBzY29wZSwgZWxlbWVudCwgYXR0cnMsIHBhcmFtKXtcbiAgICAgIHZhciBvYmogPSBzY29wZS4kcGFyZW50O1xuICAgICAgdmFyIGV4cHJlc3Npb24gPSBwYXJhbS5zcGxpdCgnfCcpO1xuICAgICAgLy8gdmFyIGFyciA9IGV4cHJlc3Npb25bMF0uc3BsaXQoJy4nKTtcbiAgICAgIHZhciBib29sLCBkZXRlcm1pbmF0aW9uO1xuXG4gICAgICBpZihleHByZXNzaW9uLmxlbmd0aCAhPSAzIHx8ICFleHByZXNzaW9uWzBdIHx8ICEvXihcXHMrKT9bIT0+PF0rKFxccyspPyQvLnRlc3QoZXhwcmVzc2lvblsxXSkpIHtcbiAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cblxuICAgICAgLy/nroDljJblrp7njrBcbiAgICAgIGRldGVybWluYXRpb24gPSBuZXcgRnVuY3Rpb24oJ3JldHVybiB0aGlzICYmIHRoaXMuJytleHByZXNzaW9uWzBdKS5jYWxsKG9iaik7XG5cbiAgICAgIGJvb2wgPSBuZXcgRnVuY3Rpb24oJ3JldHVybiAnKyBkZXRlcm1pbmF0aW9uICsgZXhwcmVzc2lvblsxXSArIGV4cHJlc3Npb25bMl0pKCk7XG5cbiAgICAgIGlmKGJvb2wpe1xuICAgICAgICAgIHJldHVybiAhIXZhbHVlO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgfSxcbiAgbm90TnVsbDogZnVuY3Rpb24oIHZhbHVlICl7XG4gICAgICBpZiggdmFsdWUgfHwgdmFsdWUgPT09IDAgKXtcbiAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBmYWxzZTtcbiAgfSxcbiAgbm90Qmxhbms6IGZ1bmN0aW9uKHZhbCkge1xuICAgICAgaWYodmFsID09PSAnJykgcmV0dXJuIGZhbHNlO1xuICAgICAgZWxzZSByZXR1cm4gdHJ1ZTtcbiAgfSxcbiAgdXJsOiAvKCgoW0EtWmEtel17Myw5fTooPzpcXC9cXC8pPykoPzpbLTs6Jj1cXCtcXCQsXFx3XStAKT9bQS1aYS16MC05Li1dK3woPzp3d3cufFstOzomPVxcK1xcJCxcXHddK0ApW0EtWmEtejAtOS4tXSspKCg/OlxcL1tcXCt+JVxcLy5cXHctX10qKT9cXD8/KD86Wy1cXCs9JjslQC5cXHdfXSopIz8oPzpbXFx3XSopKT8pLyxcbiAgZW1haWw6IC9eKFtcXHctXFwuXSspQCgoXFxbWzAtOV17MSwzfVxcLlswLTldezEsM31cXC5bMC05XXsxLDN9XFwuKXwoKFtcXHctXStcXC4pKykpKFthLXpBLVpdezIsNH18WzAtOV17MSwzfSkoXFxdPykkLyxcbiAgbnVtYmVyOiBmdW5jdGlvbih2YWwpIHtcbiAgICAgIGlmKHZhbCA9PT0gJycgfHwgL1xccy9nLnRlc3QodmFsKSkgcmV0dXJuIHRydWU7XG4gICAgICByZXR1cm4gL15cXGQrJC8udGVzdCh2YWwpO1xuICB9LFxuICAvLyDmiYvmnLpcbiAgbW9iaWxlOiBmdW5jdGlvbih2YWwpIHtcbiAgICAgIC8vIOmcgOimgeS7pei/meenjeaWueazleWGmSwg5LiN54S25b2T5a6D5Li656m65YC85pe25Lmf5Lya6L+b6KGM6aqM6K+BXG4gICAgICByZXR1cm4gdmFsID8gL14oMTN8MTR8MTV8MTd8MTgpXFxkezl9JC9pLnRlc3QodmFsKSA6IHRydWU7XG4gIH0sXG4gIC8vIOW6p+acuiAoOTk5KTk5OTk5OTk5IOaIliA5OTktOTk5OTk5OTkg5oiWIDk5OTk5OTk5OTk5XG4gIHRlbDogL14oKFxcKFxcZHsyLDN9XFwpKXwoXFxkezN9XFwtKXwoXFxkezN9KSk/KFxcKDBcXGR7MiwzfVxcKXwwXFxkezIsM30tKT9bMS05XVxcZHs2LDd9KFxcLVxcZHsxLDR9KT8kL2ksXG4gIHRlbE9yTW9iaWxlOiBmdW5jdGlvbiAodmFsdWUpIHsgLy8g55u45ZCM5pSv5oyB5omL5py65ZKM5bqn5py6XG4gICAgICByZXR1cm4gZXhwcmVzc2lvbi5tb2JpbGUodmFsdWUpIHx8IGV4cHJlc3Npb24udGVsLnRlc3QodmFsdWUpO1xuICB9LFxuICBub1NwYWNlOiBmdW5jdGlvbih2YWx1ZSwgc2NvcGUsIGVsZW1lbnQpIHtcbiAgICAgIC8vIGFuZ3VsYXItdmFsaWRhdGlvbuWvueaWh+acrOWkq+Wfn+S8oOadpeeahOWAvOS9nOS6hnRyaW3miKrlj5YsIOaJgOS7peaXoOazleebtOaOpeiOt+efpeWAvOeahOmmluWwvuaYr+WMheWQq+epuuagvFxuICAgICAgcmV0dXJuICEvXFx3KlxccytcXHcqL2cudGVzdChlbGVtZW50LnZhbCgpKTtcbiAgfSxcbiAgZmxvYXQ6IC9eWy0rXT9bMC05XSpcXC4/WzAtOV0rJC8sXG4gIG1pbmxlbmd0aDogZnVuY3Rpb24gKHZhbHVlLCBzY29wZSwgZWxlbWVudCwgYXR0cnMsIHBhcmFtKSB7XG4gICAgICByZXR1cm4gdmFsdWUubGVuZ3RoID49IHBhcmFtO1xuICB9LFxuICBtYXhsZW5ndGg6IGZ1bmN0aW9uICh2YWx1ZSwgc2NvcGUsIGVsZW1lbnQsIGF0dHJzLCBwYXJhbSkge1xuICAgICAgcmV0dXJuIHZhbHVlLmxlbmd0aCA8PSBwYXJhbTtcbiAgfSxcbiAgbWluOiBmdW5jdGlvbih2YWx1ZSwgc2NvcGUsIGVsZW1lbnQsIGF0dHJzLCBwYXJhbSl7XG4gICAgICByZXR1cm4gcGFyc2VGbG9hdCh2YWx1ZSkgPj0gcGFyc2VGbG9hdChwYXJhbSk7XG4gIH0sXG4gIG1pbk5vdEVxdWFsOiBmdW5jdGlvbih2YWx1ZSwgc2NvcGUsIGVsZW1lbnQsIGF0dHJzLCBwYXJhbSl7XG4gICAgICByZXR1cm4gcGFyc2VGbG9hdCh2YWx1ZSkgPiBwYXJzZUZsb2F0KHBhcmFtKTtcbiAgfSxcbiAgbWF4OiBmdW5jdGlvbih2YWx1ZSwgc2NvcGUsIGVsZW1lbnQsIGF0dHJzLCBwYXJhbSl7XG4gICAgICByZXR1cm4gcGFyc2VGbG9hdCh2YWx1ZSkgPD0gcGFyc2VGbG9hdChwYXJhbSk7XG4gIH0sXG4gIHJhbmdlOiBmdW5jdGlvbih2YWx1ZSwgc2NvcGUsIGVsZW1lbnQsIGF0dHJzLCBwYXJhbSl7XG4gICAgICAvLyDmraTlpITmnInlnZHvvIzlnKjliKTmlq3lubbliJfmnaHku7bnmoTml7blgJnvvIzkvJrlh7rnjrDor6/liKTvvIzmlYXpg73ovazmiJDmlbDlrZflnKjlr7nmr5RcbiAgICAgIHZhciBhcnIgPSBwYXJhbS5zcGxpdCgnfCcpO1xuICAgICAgdmFsdWUgPSBwYXJzZUZsb2F0KHZhbHVlKTtcbiAgICAgIHJldHVybiB2YWx1ZSA+PSBwYXJzZUZsb2F0KGFyclswXSkgJiYgdmFsdWUgPD0gcGFyc2VGbG9hdChhcnJbMV0pO1xuICB9LFxuICBjZXJ0OiAvXihcXGR7MTV9JHxeXFxkezE4fSR8XlxcZHsxN30oXFxkfFh8eCkpJC8sXG4gIGRpc3BsYXlDb2RlOiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgIGlmICh2YWx1ZSA9PSBcIlwiKSB7XG4gICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgICByZXR1cm4gISEodmFsdWUubGVuZ3RoID09IDQpXG4gIH0sXG4gIGlkZW50aXR5OiBmdW5jdGlvbiAoc3RyKSB7XG5cbiAgICBpZighc3RyKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICAgIHN0ciA9ICQudHJpbShzdHIpLnRvU3RyaW5nKCk7XG5cbiAgICAgIHZhciB0cmFuc2Zvcm1hdElkRnJvbTE1VG8xOCA9IGZ1bmN0aW9uKGlkQ2FyZE5vKSB7XG4gICAgICAgICAgdmFyIHYgPSBuZXcgQXJyYXkoMiwgNCwgOCwgNSwgMTAsIDksIDcsIDMsIDYsIDEsIDIsIDQsIDgsIDUsIDEwLCA5LCA3KTtcbiAgICAgICAgICB2YXIgdnMgPSBcIjEwWDk4NzY1NDMyXCI7XG4gICAgICAgICAgaWYgKGlkQ2FyZE5vID09IG51bGwgfHwgaWRDYXJkTm8ubGVuZ3RoICE9IDE1KSB7XG4gICAgICAgICAgICAgIHJldHVybiBcIlwiO1xuICAgICAgICAgIH1cbiAgICAgICAgICAvLyDlsIYxNeS9jeeahOWPt+eggei9rOaNouS9jTE35L2NXG4gICAgICAgICAgdmFyIGNhcmRJRDE3ID0gaWRDYXJkTm8uc3Vic3RyaW5nKDAsIDYpICsgXCIxOVwiICsgaWRDYXJkTm8uc3Vic3RyaW5nKDYpO1xuICAgICAgICAgIHZhciBOID0gMDtcbiAgICAgICAgICB2YXIgUiA9IC0xO1xuICAgICAgICAgIHZhciBUID0gJzAnOy8vIOWCqOWtmOacgOWQjuS4gOS4quaVsOWtl1xuICAgICAgICAgIHZhciBqID0gMDtcbiAgICAgICAgICB2YXIgY2FyZElEMTggPSBcIlwiO1xuICAgICAgICAgIC8vIOiuoeaVsOWHuuesrDE45L2N5pWw5a2XXG4gICAgICAgICAgZm9yICh2YXIgaSA9IDE2OyBpID49IDA7IGktLSkge1xuICAgICAgICAgICAgICBOICs9IHBhcnNlSW50KGNhcmRJRDE3LnN1YnN0cmluZyhpLCBpICsgMSkpICogdltqXTtcbiAgICAgICAgICAgICAgaisrO1xuICAgICAgICAgIH1cbiAgICAgICAgICBSID0gTiAlIDExO1xuICAgICAgICAgIFQgPSB2cy5jaGFyQXQoUik7XG4gICAgICAgICAgY2FyZElEMTggPSBjYXJkSUQxNyArIFQ7XG4gICAgICAgICAgcmV0dXJuIGNhcmRJRDE4O1xuICAgICAgfTtcblxuICAgICAgaWYoIHN0ci5sZW5ndGggPT0gMTUgKXtcbiAgICAgICAgICBzdHIgPSB0cmFuc2Zvcm1hdElkRnJvbTE1VG8xOCggc3RyICk7XG4gICAgICB9XG5cbiAgICAgIHZhciBpU3VtID0gMCxcbiAgICAgICAgICBzSWQgPSBzdHIsXG4gICAgICAgICAgYUNpdHkgPSB7XG4gICAgICAgICAgICAgIDExOiBcIuWMl+S6rFwiLCAxMjogXCLlpKnmtKVcIiwgMTM6IFwi5rKz5YyXXCIsIDE0OiBcIuWxseilv1wiLCAxNTogXCLlhoXokpnlj6RcIixcbiAgICAgICAgICAgICAgMjE6IFwi6L695a6BXCIsIDIyOiBcIuWQieael1wiLCAyMzogXCLpu5HpvpnmsZ9cIiwgMzE6IFwi5LiK5rW3XCIsIDMyOiBcIuaxn+iLj1wiLFxuICAgICAgICAgICAgICAzMzogXCLmtZnmsZ9cIiwgMzQ6IFwi5a6J5b69XCIsIDM1OiBcIuemj+W7ulwiLCAzNjogXCLmsZ/opb9cIiwgMzc6IFwi5bGx5LicXCIsXG4gICAgICAgICAgICAgIDQxOiBcIuays+WNl1wiLCA0MjogXCLmuZbljJdcIiwgNDM6IFwi5rmW5Y2XXCIsIDQ0OiBcIuW5v+S4nFwiLCA0NTogXCLlub/opb9cIixcbiAgICAgICAgICAgICAgNDY6IFwi5rW35Y2XXCIsIDUwOiBcIumHjeW6hlwiLCA1MTogXCLlm5vlt51cIiwgNTI6IFwi6LS15beeXCIsIDUzOiBcIuS6keWNl1wiLFxuICAgICAgICAgICAgICA1NDogXCLopb/ol49cIiwgNjE6IFwi6ZmV6KW/XCIsIDYyOiBcIueUmOiCg1wiLCA2MzogXCLpnZLmtbdcIiwgNjQ6IFwi5a6B5aSPXCIsXG4gICAgICAgICAgICAgIDY1OiBcIuaWsOeWhlwiLCA3MTogXCLlj7Dmub5cIiwgODE6IFwi6aaZ5rivXCIsIDgyOiBcIua+s+mXqFwiLCA5MTogXCLlm73lpJZcIlxuICAgICAgICAgIH07XG4gICAgICBpZiAoIS9eXFxkezE3fShcXGR8eCkkL2kudGVzdChzSWQpKSB7XG4gICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgICAgc0lkID0gc0lkLnJlcGxhY2UoL3gkL2ksIFwiYVwiKTtcbiAgICAgIC8v6Z2e5rOV5Zyw5Yy6XG4gICAgICBpZiAoYUNpdHlbcGFyc2VJbnQoc0lkLnN1YnN0cigwLCAyKSwgMTApXSA9PSBudWxsKSB7XG4gICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgICAgdmFyIHNCaXJ0aGRheSA9IHNJZC5zdWJzdHIoNiwgNCkgKyBcIi1cIiArIE51bWJlcihzSWQuc3Vic3RyKDEwLCAyKSkgKyBcIi1cIiArIE51bWJlcihzSWQuc3Vic3RyKDEyLCAyKSksXG4gICAgICAgICAgZCA9IG5ldyBEYXRlKHNCaXJ0aGRheS5yZXBsYWNlKC8tL2csIFwiL1wiKSk7XG4gICAgICAvL+mdnuazleeUn+aXpVxuICAgICAgaWYgKHNCaXJ0aGRheSAhPSAoZC5nZXRGdWxsWWVhcigpICsgXCItXCIgKyAoZC5nZXRNb250aCgpICsgMSkgKyBcIi1cIiArIGQuZ2V0RGF0ZSgpKSkge1xuICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICAgIGZvciAodmFyIGkgPSAxNzsgaSA+PSAwOyBpLS0pIHtcbiAgICAgICAgICBpU3VtICs9IChNYXRoLnBvdygyLCBpKSAlIDExKSAqIHBhcnNlSW50KHNJZC5jaGFyQXQoMTcgLSBpKSwgMTEpO1xuICAgICAgfVxuICAgICAgaWYgKGlTdW0gJSAxMSAhPSAxKSB7XG4gICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHRydWU7XG4gIH0sXG4gIHJlbGF0aW9uOiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgIHJldHVybiAhISggKHZhbHVlID09IDApIHx8ICh2YWx1ZSA9PSAxKSB8fCAodmFsdWUgPT0gMikgfHwgKHZhbHVlID09IDMpIClcbiAgfSxcbiAgYWNjb3VudDogL15bYS16fEEtenwwLTl8X10rJC8sXG4gIGNoaW5lc2U6IC9eW1xcdTRFMDAtXFx1OUZBNV0rJC8sXG4gIG5vblVuaWNvZGU6IGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICByZXR1cm4gIS9bXFx1NEUwMC1cXHU5RkE1XXxbXFx1RkUzMC1cXHVGRkEwXS9naS50ZXN0KHZhbHVlKTtcbiAgfSxcbiAgZGlnaXRhbExldHRlcjogZnVuY3Rpb24odmFsKSB7XG4gICAgICBpZih2YWwgPT09ICcnKSByZXR1cm4gdHJ1ZTtcbiAgICAgIHJldHVybiAvXltBLVphLXowLTldKyQvLnRlc3QodmFsKTtcbiAgfSxcbiAgZGVjaW1hbExpbWl0OiBmdW5jdGlvbih2YWx1ZSwgc2NvcGUsIGVsZW1lbnQsIGF0dHJzLCBwYXJhbSkge1xuICAgICAgdmFyIHJlZyA9IGV2YWwoJy9eXFxcXGQrKFxcXFwuXFxcXGR7MSwnKyBwYXJhbSArJ30pPyQvJyk7XG4gICAgICByZXR1cm4gcmVnLnRlc3QodmFsdWUpO1xuICB9LFxuICBhY2NvdW50UHdkOiAvXlxcU3s2LDIwfSQvLFxuICBkaXNjb3VudDogZnVuY3Rpb24odmFsKSB7XG4gICAgaWYodmFsID09IDEwKXtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICByZXR1cm4gL15cXGQoXFwuXFxkKT8kLy50ZXN0KHZhbCk7XG4gIH1cbn07XG5cbmV4cG9ydCBjb25zdCBkZWZhdWx0TXNnID0ge1xuICByZXF1aXJlZDoge1xuICAgICAgZXJyb3I6ICfor6XpobnkuLrlv4XloavpobkhJyxcbiAgICAgIHN1Y2Nlc3M6ICcgJ1xuICB9LFxuICByZXF1aXJlZElmTmVlZDoge1xuICAgICAgZXJyb3I6ICfor6XpobnkuLrlv4XloavpobkhJyxcbiAgICAgIHN1Y2Nlc3M6ICcgJ1xuICB9LFxuICBub3ROdWxsOiB7XG4gICAgICBlcnJvcjogJ+ivpemhueS4uuW/heWhq+mhuSEnLFxuICAgICAgc3VjY2VzczogJyAnXG4gIH0sXG4gIHVybDoge1xuICAgICAgZXJyb3I6ICd1cmzmoLzlvI/kuI3mraPnoa7vvIEnLFxuICAgICAgc3VjY2VzczogJyAnXG4gIH0sXG4gIGVtYWlsOiB7XG4gICAgICBlcnJvcjogJ2VtYWls5qC85byP5LiN5q2j56Gu77yBJyxcbiAgICAgIHN1Y2Nlc3M6ICcgJ1xuICB9LFxuICBudW1iZXI6IHtcbiAgICAgIGVycm9yOiAn5pWw5a2X5qC85byP5LiN5q2j56Gu77yBJyxcbiAgICAgIHN1Y2Nlc3M6ICcgJ1xuICB9LFxuICBmbG9hdDoge1xuICAgICAgZXJyb3I6ICflsI/mlbDmoLzlvI/kuI3mraPnoa7vvIEnLFxuICAgICAgc3VjY2VzczogJyAnXG4gIH0sXG4gIG1pbmxlbmd0aDoge1xuICAgICAgZXJyb3I6ICflhoXlrrnplb/luqbkuI3lpJ/vvIEnLFxuICAgICAgc3VjY2VzczogJyAnXG4gIH0sXG4gIG1heGxlbmd0aDoge1xuICAgICAgZXJyb3I6ICflhoXlrrnplb/luqbov4fplb/vvIEnLFxuICAgICAgc3VjY2VzczogJyAnXG4gIH0sXG4gIG1pbjoge1xuICAgICAgZXJyb3I6ICfmgqjnmoTovpPlhaXlgLzlsI/kuoYnLFxuICAgICAgc3VjY2VzczogJyAnXG4gIH0sXG4gIG1pbk5vdEVxdWFsOiB7XG4gICAgICBlcnJvcjogJ+aCqOeahOi+k+WFpeWAvOWwj+S6hicsXG4gICAgICBzdWNjZXNzOiAnICdcbiAgfSxcbiAgbWF4OiB7XG4gICAgICBlcnJvcjogJ+aCqOeahOi+k+WFpeWAvOWkp+S6hu+8gScsXG4gICAgICBzdWNjZXNzOiAnICdcbiAgfSxcbiAgcmFuZ2U6IHtcbiAgICAgIGVycm9yOiAn6L6T5YWl6IyD5Zu05pyJ6K+v77yBJyxcbiAgICAgIHN1Y2Nlc3M6ICcgJ1xuICB9LFxuICBjZXJ0OiB7XG4gICAgICBlcnJvcjogJ+i6q+S7veivgeagvOW8j+S4jeWvue+8gScsXG4gICAgICBzdWNjZXNzOiAnICdcbiAgfSxcbiAgZGlzcGxheUNvZGU6IHtcbiAgICAgIGVycm9yOiAn5omL546v57yW56CB5Li65Zub5L2NJyxcbiAgICAgIHN1Y2Nlc3M6ICcgJ1xuICB9LFxuICBpZGVudGl0eToge1xuICAgICAgZXJyb3I6ICfouqvku73or4HmoLzlvI/kuI3lr7nvvIEnLFxuICAgICAgc3VjY2VzczogJyAnXG4gIH0sXG4gIHJlbGF0aW9uOiB7XG4gICAgICBlcnJvcjogJ+ivt+mAieaLqeS6suWxnuWFs+ezuycsXG4gICAgICBzdWNjZXNzOiAnICdcbiAgfSxcbiAgbW9iaWxlOiB7XG4gICAgICBlcnJvcjogJ+aJi+acuuagvOW8j+S4jeato+ehricsXG4gICAgICBzdWNjZXNzOiAnICdcbiAgfSxcbiAgdGVsT3JNb2JpbGU6IHtcbiAgICAgIGVycm9yOiAn5omL5py65oiW5bqn5py65Y+356CB5LiN5q2j56GuJyxcbiAgICAgIHN1Y2Nlc3M6ICcgJ1xuICB9LFxuICBub1NwYWNlOiB7XG4gICAgICBlcnJvcjogJ+S4jeiDveWhq+WGmeepuueZveWtl+espicsXG4gICAgICBzdWNjZXNzOiAnICdcbiAgfSxcbiAgYWNjb3VudDoge1xuICAgICAgZXJyb3I6ICfmoLzlvI/lj6rog73ovpPlhaXlrZfmr43mlbDlrZfkuIvliJLnur8nLFxuICAgICAgc3VjY2VzczogJyAnXG4gIH0sXG4gIGNoaW5lc2U6IHtcbiAgICAgIGVycm9yOiAn6K+36L6T5YWl5Lit5paHJyxcbiAgICAgIHN1Y2Nlc3M6ICcgJ1xuICB9LFxuICBub25Vbmljb2RlOiB7XG4gICAgICBlcnJvcjogJ+S4jeiDveWMheWQq+S4reaWh+Wtl+espicsXG4gICAgICBzdWNjZXNzOiAnICdcbiAgfSxcbiAgZGlnaXRhbExldHRlcjoge1xuICAgICAgZXJyb3I6ICflj6rog73mmK/mlbDlrZfmiJblrZfmr40nLFxuICAgICAgc3VjY2VzczogJyAnXG4gIH0sXG4gIG5vdEJsYW5rOiB7XG4gICAgICBlcnJvcjogJ+ivpemhueS4uuW/heWhq+mhuScsXG4gICAgICBzdWNjZXNzOiAnICdcbiAgfSxcbiAgZGVjaW1hbExpbWl0OiB7XG4gICAgICBlcnJvcjogJ+Wwj+aVsOS9jeaVsOi/h+mVv++8gScsXG4gICAgICBzdWNjZXNzOiAnICdcbiAgfSxcbiAgYWNjb3VudFB3ZDoge1xuICAgICAgZXJyb3I6ICflr4bnoIHkuLo2LTIw5L2N5a2X56ymJyxcbiAgICAgIHN1Y2Nlc3M6ICcnXG4gIH0sXG4gIGRpc2NvdW50OiB7XG4gICAgZXJyb3I6ICflsI/mlbDmoLzlvI/kuI3mraPnoa4hJ1xuICB9XG59O1xuIiwiaW1wb3J0IGFuZ3VsYXIgICAgICAgICBmcm9tICdhbmd1bGFyJztcbmltcG9ydCBpbWdMYXp5TG9hZCAgICAgZnJvbSAnLi9pbWdMYXp5TG9hZC5kaXJlY3RpdmUnO1xuaW1wb3J0IGtleUV2ZW50ICAgICAgICBmcm9tICcuL2tleUV2ZW50LmRpcmVjdGl2ZSc7XG4vLyBpbXBvcnQgZWNoYXJ0cyAgICAgICAgIGZyb20gJy4vZWNoYXJ0cyc7XG5pbXBvcnQgZm9ybUVkaXRhYmxlICAgIGZyb20gJy4vZm9ybS1lZGl0YWJsZSc7XG5pbXBvcnQgZmlsdGVyTGlzdCAgICAgIGZyb20gJy4vZmlsdGVyLWxpc3QnO1xuaW1wb3J0IHJlc2l6YWJsZSAgICAgICBmcm9tICcuL3Jlc2l6YWJsZS5kaXJlY3RpdmUnO1xuaW1wb3J0IGVtcHR5VGlwICAgICAgICBmcm9tICcuL2VtcHR5VGlwLmRpcmVjdGl2ZSc7XG5pbXBvcnQgbWNCYXRjaFVwbG9hZFZjIGZyb20gJy4vbWNCYXRjaFVwbG9hZFZjJztcbmltcG9ydCBtY0JhdGNoVXBsb2FkVXNlciBmcm9tICcuL21jQmF0Y2hVcGxvYWRVc2VyJztcbmltcG9ydCBtY0JhdGNoVXBsb2FkQmFuayBmcm9tICcuL21jQmF0Y2hVcGxvYWRCYW5rJztcblxuXG5leHBvcnQgZGVmYXVsdCBhbmd1bGFyLm1vZHVsZSgnYXBwLmNvbW1vbi5kaXJlY3RpdmVzJywgW1xuICAvLyBlY2hhcnRzLm5hbWVcbl0pXG4uZGlyZWN0aXZlKCdpbWdMYXp5TG9hZCcsIGltZ0xhenlMb2FkKVxuLmRpcmVjdGl2ZSgna2V5RXZlbnQnLCBrZXlFdmVudClcbi5kaXJlY3RpdmUoJ2Zvcm1FZGl0YWJsZScsIGZvcm1FZGl0YWJsZSlcbi5kaXJlY3RpdmUoJ2ZpbHRlckxpc3QnLCBmaWx0ZXJMaXN0KVxuLmRpcmVjdGl2ZSgncmVzaXphYmxlJywgcmVzaXphYmxlKVxuLmRpcmVjdGl2ZSgnZW1wdHlUaXAnLCBlbXB0eVRpcClcbi5kaXJlY3RpdmUoJ21jQmF0Y2hVcGxvYWRWYycsIG1jQmF0Y2hVcGxvYWRWYylcbi5kaXJlY3RpdmUoJ21jQmF0Y2hVcGxvYWRVc2VyJywgbWNCYXRjaFVwbG9hZFVzZXIpXG4uZGlyZWN0aXZlKCdtY0JhdGNoVXBsb2FkQmFuaycsIG1jQmF0Y2hVcGxvYWRCYW5rKVxuIiwiLyoqXG4gKiBAZGVzY3JpcHRpb24g5b2T5YiX6KGo5rKh5pyJ5pWw5o2u5pe277yM5pi+56S65o+Q56S6XG4gKi9cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGVtcHR5TGlzdFRpcERpcmVjdGl2ZSgpIHtcbiAgICByZXR1cm4ge1xuICAgICAgICByZXN0cmljdDogJ0VBJyxcbiAgICAgICAgdGVtcGxhdGU6ICc8ZGl2IGNsYXNzPVwicm93IHRleHQtY2VudGVyIHRleHQtbXV0ZWRcIiBzdHlsZT1cInBhZGRpbmc6IDUwcHggMDtcIj57e21lc3NhZ2V9fTwvZGl2PicsXG4gICAgICAgIHJlcGxhY2U6IHRydWUsXG4gICAgICAgIGxpbms6IGZ1bmN0aW9uIChzY29wZSwgZWxlbWVudCwgYXR0cnMpIHtcbiAgICAgICAgICAgIHNjb3BlLm1lc3NhZ2UgPSBhdHRycy5tZXNzYWdlIHx8ICfmmoLml6DmlbDmja4gOi0oICc7XG4gICAgICAgIH1cbiAgICB9O1xufVxuIiwiLyoqXG4gKiDliJfooajpobXpnaLnmoTliIbnsbvov4fmu6RcbiAqL1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gRmlsdGVyTGlzdERpcmVjdGl2ZSgkcGFyc2UpIHtcbiAgJ25nSW5qZWN0JztcblxuICByZXR1cm4ge1xuICAgIHJlc3RyaWN0OiAnRUEnLFxuICAgIHNjb3BlOiB7XG4gICAgICBsaXN0OiAnPScsXG4gICAgICBmaWx0ZXJzOiAnPScsXG4gICAgICB0aXRsZTogJ0AnLFxuICAgICAgY3RybE5hbWU6ICdAJyxcbiAgICAgIGZpbHRlcktleTogJ0AnLFxuICAgICAgaXRlbU5hbWU6ICdAJyxcbiAgICAgIGl0ZW1JZDogJ0AnLFxuICAgICAgY2xheno6ICdAJ1xuICAgIH0sXG4gICAgdGVtcGxhdGVVcmw6ICdjb21tb24vZGlyZWN0aXZlcy9maWx0ZXItbGlzdC9maWx0ZXItbGlzdC5odG1sJyxcbiAgICByZXBsYWNlOiB0cnVlLFxuICAgIGxpbms6IGZ1bmN0aW9uIHBvc3RMaW5rKHNjb3BlLCBlbGVtZW50LCBhdHRycykge1xuXG4gICAgICB2YXIgbGlzdEN0cmwgPSBzY29wZS4kcGFyZW50W3Njb3BlLmN0cmxOYW1lIHx8ICckY3RybCddO1xuXG4gICAgICBzY29wZS5jbGVhcktleXdvcmRGaWx0ZXIgPSAgKHZhbCkgPT4ge1xuICAgICAgICBsZXQgcGFyYW1zID0ge307XG4gICAgICAgIHBhcmFtc1tzY29wZS5maWx0ZXJLZXldID0gdmFsO1xuXG4gICAgICAgIGxpc3RDdHJsLmNsZWFyS2V5d29yZEZpbHRlci5iaW5kKGxpc3RDdHJsLCBwYXJhbXMpKCk7XG4gICAgICB9XG5cbiAgICB9XG4gIH1cbn1cbiIsImV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIEZvcm1FZGl0YWJsZUNvbnRyb2xsZXIgKCkge1xuICAnbmdJbmplY3QnO1xuXG4gIHRoaXMuYmFzZSA9IHtcbiAgICAkc2hvdzogZnVuY3Rpb24oKSB7XG4gICAgICBpZiAodGhpcy4kdmlzaWJsZSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIHRoaXMuJHZpc2libGUgPSB0cnVlO1xuICAgIH0sXG5cbiAgICAkaGlkZTogZnVuY3Rpb24oKSB7XG4gICAgICBpZiAoIXRoaXMuJHZpc2libGUpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgdGhpcy4kdmlzaWJsZSA9IGZhbHNlO1xuXG4gICAgfSxcblxuICAgICRjYW5jZWw6IGZ1bmN0aW9uKCkge1xuICAgICAgaWYgKCF0aGlzLiR2aXNpYmxlKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgLy8gc2VsZiBoaWRlXG4gICAgICB0aGlzLiRoaWRlKCk7XG4gICAgfSxcblxuICAgICRzdWJtaXQ6IGZ1bmN0aW9uKCkge1xuXG4gICAgICB0aGlzLiRvbmFmdGVyc2F2ZSgpO1xuXG4gICAgfVxuXG4gIH07XG5cblxuICByZXR1cm4gYW5ndWxhci5leHRlbmQoe1xuICAgICR2aXNpYmxlOiBmYWxzZSxcbiAgICAkd2FpdGluZzogZmFsc2VcbiAgfSwgdGhpcy5iYXNlKTtcblxufVxuIiwiaW1wb3J0IEZvcm1FZGl0YWJsZUNvbnRyb2xsZXIgZnJvbSAnLi9mb3JtLWVkaXRhYmxlLmN0cmwnO1xuXG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIEZvcm1FZGl0YWJsZSgkcGFyc2UpIHtcbiAgJ25nSW5qZWN0JztcblxuICByZXR1cm4ge1xuICAgIHJlc3RyaWN0OiAnQScsXG4gICAgcmVxdWlyZTogWydmb3JtJywgJ2Zvcm1FZGl0YWJsZSddLFxuICAgIGNvbnRyb2xsZXI6IEZvcm1FZGl0YWJsZUNvbnRyb2xsZXIsXG4gICAgY29tcGlsZTogZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBwcmU6IGZ1bmN0aW9uKHNjb3BlLCBlbGVtLCBhdHRycywgY3RybCkge1xuICAgICAgICAgIHZhciBmb3JtID0gY3RybFswXSxcbiAgICAgICAgICAgIHN1Ym1pdEJ0biA9IGFuZ3VsYXIuZWxlbWVudChlbGVtKS5maW5kKCdbdHlwZT1zdWJtaXRdJyk7XG5cbiAgICAgICAgICBhbmd1bGFyLmV4dGVuZChmb3JtLCBjdHJsWzFdKTtcblxuICAgICAgICAgIC8vY29uc29sZS5sb2coZm9ybSk7XG5cbiAgICAgICAgfSxcblxuICAgICAgICBwb3N0OiBmdW5jdGlvbihzY29wZSwgZWxlbSwgYXR0cnMsIGN0cmwpIHtcbiAgICAgICAgICB2YXIgZUZvcm0gPSBjdHJsWzFdO1xuICAgICAgICAgIC8vY29uc29sZS5sb2coZUZvcm0pXG5cbiAgICAgICAgICAvLyBvbmJlZm9yZXNhdmUsIG9uYWZ0ZXJzYXZlXG4gICAgICAgICAgaWYoIWF0dHJzLm5nU3VibWl0ICYmICFhdHRycy5zdWJtaXQpIHtcblxuICAgICAgICAgICAgaWYoYXR0cnMub25hZnRlcnNhdmUpIHtcbiAgICAgICAgICAgICAgZUZvcm0uJG9uYWZ0ZXJzYXZlID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuICRwYXJzZShhdHRycy5vbmFmdGVyc2F2ZSkoc2NvcGUsIHskZGF0YTogZUZvcm0uJGRhdGF9KTtcbiAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgZWxlbS5iaW5kKCdzdWJtaXQnLCBmdW5jdGlvbihldmVudCkge1xuICAgICAgICAgICAgICBjb25zb2xlLmxvZygnc3VibWl0JylcbiAgICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgICAgc2NvcGUuJGFwcGx5KGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIGVGb3JtLiRzdWJtaXQoKTtcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgIH1cblxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG59XG4iLCIvKipcbiAqIEBkZXNjcmlwdGlvbiDlpoLmnpzljp/lm77liqDovb3lpLHotKXvvIzliJnliqDovb3pu5jorqTlm77niYdcbiAqIEBleGFtcGxlXG4gKiA8aW1nIGltZy1sYXp5LWxvYWQgYXZhdGFyLWlkPVwie3tpdGVtLmF2YXRhcn19XCIgY2xhc3M9XCJhdmF0YXJcIi8+XG4gKi9cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGltZ0xhenlMb2FkKGltZ1ByZUxvYWRTZXJ2aWNlLCAkdGltZW91dCkge1xuICAnbmdJbmplY3QnO1xuXG4gIHJldHVybiB7XG4gICAgcmVzdHJpY3Q6ICdBJyxcbiAgICBzY29wZToge1xuICAgICAgYXZhdGFyOiAnQCcsXG4gICAgICBhdmF0YXJJZDogJ0AnXG4gICAgfSxcbiAgICBsaW5rOiBmdW5jdGlvbihzY29wZSwgZWxlbWVudCwgYXR0cnMpIHtcblxuICAgICAgbGV0IGJhc2VVcmwgPSAnaHR0cDovL3N0YXRpYy5tYWltYWkxMDAuY24vYXZhdGFyLyc7XG5cbiAgICAgIGlmKHNjb3BlLmF2YXRhcikge1xuICAgICAgICBzY29wZS4kd2F0Y2goJ2F2YXRhcicsICh2YWwpID0+IHNldFVybCh2YWwpKTtcbiAgICAgIH1lbHNlIGlmKHNjb3BlLmF2YXRhcklkKSB7XG4gICAgICAgIHNjb3BlLiR3YXRjaCgnYXZhdGFySWQnLCAodmFsKSA9PiBzZXRVcmwoYmFzZVVybCArIHZhbCkpO1xuICAgICAgfWVsc2Uge1xuICAgICAgICBzZXRVcmwoYXR0cnMuZGVmYXVsdCk7XG4gICAgICB9XG5cbiAgICAgIGZ1bmN0aW9uIHNldFVybCh1cmwpIHtcbiAgICAgICAgaWYoIXVybCB8fCB1cmwgPT09IGJhc2VVcmwpIHJldHVybjtcblxuICAgICAgICBpbWdQcmVMb2FkU2VydmljZSh1cmwpLnRoZW4oZnVuY3Rpb24oKXtcbiAgICAgICAgICAkdGltZW91dChmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgJChlbGVtZW50KVxuICAgICAgICAgICAgICAgIC5hdHRyKCdzcmMnLCAnL2Rpc3QvaW1hZ2VzL2NvbW1vbi9ibGFuay5naWYnKVxuICAgICAgICAgICAgICAgIC5jc3Moe1xuICAgICAgICAgICAgICAgICAgICAnYmFja2dyb3VuZC1pbWFnZSc6ICd1cmwoXCInICsgdXJsICsgJ1wiKScsXG4gICAgICAgICAgICAgICAgICAgICdiYWNrZ3JvdW5kLXNpemUnOiAnY292ZXInXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICQoZWxlbWVudCkuZmFkZUluKCk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0sIGZ1bmN0aW9uKGVycil7XG4gICAgICAgICAgJChlbGVtZW50KS5jc3Moe1xuICAgICAgICAgICAgJ2JhY2tncm91bmQtaW1hZ2UnOiAndXJsKFwiaHR0cDovL3N0YXRpYy5tYWltYWkxMDAuY24vYXZhdGFyL21hbi5wbmdcIiknLFxuICAgICAgICAgICAgJ2JhY2tncm91bmQtc2l6ZSc6ICdjb3ZlcidcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICB9XG4gIH07XG59XG4iLCIvKipcbiAqIEBkZXNjcmlwdGlvbiDplK7nm5jkuovku7bnm5HlkKzlkozmiafooYxcbiAqIEBwcm9wZXJ0eSB7TnVtYmVyfSBjb2RlIOaJgOaVsuWHu+eahOafkOS4qumUrueahGtleUNvZGUsIOWmguaenOimgeebkeWQrOWbnui9pumUru+8jOiuvue9ruS4ujEz5Y2z5Y+vXG4gKiBAZXhhbXBsZVxuICogPGlucHV0IG5nLW1vZGVsPVwia2V5d29yZFwiIHR5cGU9XCJ0ZXh0XCIgY29kZT1cIjEzXCIga2V5LWV2ZW50PVwic2VhcmNoQnlLZXl3b3JkKGtleXdvcmQpO1wiPlxuICovXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBrZXlFdmVudCgpIHtcblxuICByZXR1cm4ge1xuICAgIHJlc3RyaWN0OiAnQScsXG4gICAgbGluazogZnVuY3Rpb24oJHNjb3BlLCAkZWxlbWVudCwgJGF0dHJzKSB7XG4gICAgICAkZWxlbWVudC5iaW5kKCdrZXlwcmVzcycsIGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgICAgIGxldCBrZXlDb2RlID0gZXZlbnQud2hpY2ggfHwgZXZlbnQua2V5Q29kZTtcblxuICAgICAgICBpZihrZXlDb2RlID09ICRhdHRycy5jb2RlKSB7XG4gICAgICAgICAgJHNjb3BlLiRhcHBseSgoKSA9PiAkc2NvcGUuJGV2YWwoJGF0dHJzLmtleUV2ZW50LCB7JGV2ZW50OiBldmVudH0pICk7XG5cbiAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG4gIH1cblxufVxuIiwiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gYmF0Y2hVcGxvYWREZXZpY2UoJHVpYk1vZGFsLCAkcGFyc2UsICR0aW1lb3V0KSB7XG4gICduZ0luamVjdCc7XG5cbiAgcmV0dXJuIHtcbiAgICByZXN0cmljdDogJ0VBJyxcbiAgICB0ZW1wbGF0ZTogJzxkaXYgY2xhc3M9XCJoaWRlXCI+PC9kaXY+JyxcbiAgICAvL3JlcGxhY2U6IHRydWUsXG4gICAgbGluazogZnVuY3Rpb24oc2NvcGUsIGVsZW1lbnQsIGF0dHJzKSB7XG5cbiAgICAgIHZhciB1bmJpbmQgPSBzY29wZS4kb24oXCJiYXRjaFVwbG9hZEJhbmtcIiwgZnVuY3Rpb24gKGV2ZW50LCBvcHRpb25zPXt9KSB7XG4gICAgICAgICAgRHJvcHpvbmUuYXV0b0Rpc2NvdmVyID0gZmFsc2U7XG5cbiAgICAgICAgICAkdWliTW9kYWwub3Blbih7XG4gICAgICAgICAgICAgIGFuaW1hdGlvbjogdHJ1ZSxcbiAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICdjb21tb24vZGlyZWN0aXZlcy9tY0JhdGNoVXBsb2FkQmFuay90ZW1wbGF0ZS5odG1sJyxcbiAgICAgICAgICAgICAgY29udHJvbGxlcjogYmF0Y2hVcGxvYWRGaWxlQ3RybCxcbiAgICAgICAgICAgICAgY29udHJvbGxlckFzOiAndm0nLFxuICAgICAgICAgICAgICBzaXplOiBcIlwiLFxuICAgICAgICAgICAgICByZXNvbHZlOiB7XG4gICAgICAgICAgICAgICAgb3B0aW9uczogKCkgPT4gb3B0aW9uc1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgfSkucmVzdWx0LnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgICAgIH0sIGZ1bmN0aW9uICgpIHsgIH0pO1xuICAgICAgfSk7XG4gICAgICBzY29wZS4kb24oJyRkZXN0cm95JywgdW5iaW5kKTtcbiAgICB9XG4gIH07XG59XG5cbmZ1bmN0aW9uIGJhdGNoVXBsb2FkRmlsZUN0cmwoJGxvY2F0aW9uLCAkdWliTW9kYWwsICR1aWJNb2RhbEluc3RhbmNlLCAkcm9vdFNjb3BlLCAkc2NvcGUsICRzdGF0ZSwgJHRpbWVvdXQsIEFwaU1hcCwgdG9hc3RyLCBvcHRpb25zKSB7XG4gICduZ0luamVjdCc7XG5cbiAgICB2YXIgdm0gPSB0aGlzO1xuXG4gICAgbGV0IGlkID0gJycsIHBhcmFtcyA9ICcnO1xuXG4gICAgdm0uZG93bmxvYWRfdXJsID0gQXBpTWFwLmJhbmsuZG93bmxvYWRUZW1wbGF0ZTtcblxuICAgIGxldCB1cmwgPSBBcGlNYXAuYmFuay5pbXBvcnQ7XG5cbiAgICBhbmd1bGFyLmV4dGVuZCh2bSwge1xuICAgICAgICB1cGxvYWRGaWxlOiB1cGxvYWRGaWxlLFxuICAgICAgICAvL3BlbnNpb25BcmVhOiB3aW5kb3cucGFnZUNvbmYuYXJlYUxpc3QsXG4gICAgICAgIC8vcGVuc2lvbkluZm86IHdpbmRvdy5wYWdlQ29uZi5wZW5zaW9uSW5mbyxcbiAgICAgICAgZHJvcHpvbmVDb25maWc6IHtcbiAgICAgICAgICAgIHBhcmFtTmFtZTogb3B0aW9ucy5wYXJhbU5hbWUgfHwgJ2ZpbGUnLFxuICAgICAgICAgICAgaGVhZGVyczoge2V4dHJhOiAkcm9vdFNjb3BlLkFVVEhPUklaQVRJT05fVE9LRU59LFxuICAgICAgICAgICAgdXJsOiB1cmwsXG4gICAgICAgICAgICBtZXRob2Q6ICdwb3N0JyxcbiAgICAgICAgICAgIG1heEZpbGVzaXplOiA1MCxcbiAgICAgICAgICAgIG1heEZpbGVzOiAyLFxuICAgICAgICAgICAgZGljdEZpbGVUb29CaWc6ICfmlofku7blpKflsI/kuI3og73otoXov4c1ME0nLFxuICAgICAgICAgICAgdXBsb2FkTXVsdGlwbGU6IGZhbHNlLFxuICAgICAgICAgICAgYXV0b1Byb2Nlc3NRdWV1ZTogdHJ1ZSxcbiAgICAgICAgICAgIGFjY2VwdGVkRmlsZXM6ICdhcHBsaWNhdGlvbi92bmQubXMtZXhjZWwsIGFwcGxpY2F0aW9uL3ZuZC5vcGVueG1sZm9ybWF0cy1vZmZpY2Vkb2N1bWVudC5zcHJlYWRzaGVldG1sLnNoZWV0JyxcbiAgICAgICAgICAgIGFkZGVkZmlsZTogZnVuY3Rpb24gKGZpbGUpIHtcbiAgICAgICAgICAgICAgICAkKCcjdXBsb2FkX2J1dHRvbicpLmF0dHIoJ2Rpc2FibGVkJywgJ2Rpc2FibGVkJykudGV4dCgn5LiK5Lyg5LitJyk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgc3VjY2VzczogZnVuY3Rpb24gKGZpbGUsIGRhdGEpIHtcbiAgICAgICAgICAgICAgICAkcm9vdFNjb3BlLmltZ1VwbG9hZG5nID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgdGhpcy5yZW1vdmVGaWxlKGZpbGUpO1xuICAgICAgICAgICAgICAgICQoJyN1cGxvYWRfYnV0dG9uJykucmVtb3ZlQXR0cignZGlzYWJsZWQnKS50ZXh0KCfkuIrkvKAnKTtcblxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGRhdGEpO1xuICAgICAgICAgICAgICAgIGlmKGRhdGEuY29kZSA9PSAwKXtcbiAgICAgICAgICAgICAgICAgICAgaWYoZGF0YS5kYXRhLmVycm9ycy5sZW5ndGggPiAwKXtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHRvYXN0ci5lcnJvcihkYXRhLmRhdGEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdm0uZXJyb3JMaXN0ID0gZGF0YS5kYXRhLmVycm9ycztcbiAgICAgICAgICAgICAgICAgICAgICAgIHNob3dFcnJvckxpc3QoZGF0YS5kYXRhKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vICRtb2RhbEluc3RhbmNlLmNsb3NlKCk7XG4gICAgICAgICAgICAgICAgICAgIH1lbHNle1xuICAgICAgICAgICAgICAgICAgICAgICAgdG9hc3RyLnN1Y2Nlc3MoJ+a3u+WKoOaIkOWKnycpO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgaWYoZGF0YS5kYXRhLnN1Y2Nlc3NDb3VudCA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICRzdGF0ZS5yZWxvYWQoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1lbHNle1xuICAgICAgICAgICAgICAgICAgICB0b2FzdHIuZXJyb3IoIGRhdGEuaW5mbyApO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICR1aWJNb2RhbEluc3RhbmNlLmNsb3NlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGVycm9yTGlzdDogbnVsbFxuICAgIH0pO1xuXG4gICAgZnVuY3Rpb24gc2hvd0Vycm9yTGlzdChkYXRhKSB7XG4gICAgICAkdWliTW9kYWwub3Blbih7XG4gICAgICAgICAgYW5pbWF0aW9uOiB0cnVlLFxuICAgICAgICAgIHRlbXBsYXRlVXJsOiAnY29tbW9uL2RpcmVjdGl2ZXMvbWNCYXRjaFVwbG9hZEJhbmsvZXJyb3IuaHRtbCcsXG4gICAgICAgICAgY29udHJvbGxlcjogRXJyb3JMaXN0Q3RybCxcbiAgICAgICAgICBjb250cm9sbGVyQXM6ICd2bScsXG4gICAgICAgICAgc2l6ZTogXCJcIixcbiAgICAgICAgICByZXNvbHZlOiB7XG4gICAgICAgICAgICBpbmZvOiAoKSA9PiBkYXRhXG4gICAgICAgICAgfVxuICAgICAgfSkucmVzdWx0LnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgfSwgZnVuY3Rpb24gKCkgeyAgfSk7XG4gICAgfVxuXG4gICAgLy8g6Kem5Y+R5LiK5LygXG4gICAgZnVuY3Rpb24gdXBsb2FkRmlsZShlKSB7XG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgJHRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAkKGUudGFyZ2V0KS5zaWJsaW5ncygnLmRyb3B6b25lJykudHJpZ2dlcignY2xpY2snKTtcbiAgICAgICAgfSk7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBFcnJvckxpc3RDdHJsKCR1aWJNb2RhbEluc3RhbmNlLCBpbmZvKSB7XG4gICduZ0luamVjdCc7XG5cbiAgbGV0IGVycm9yID0gaW5mby5lcnJvcnM7XG4gIGlmKGVycm9yKSB7XG4gICAgZXJyb3IgPSBlcnJvci5maWx0ZXIoaXRlbSA9PiBpdGVtLmRhdGFbMF0gIT09IG51bGwpO1xuICB9IGVsc2Uge1xuICAgIGVycm9yID0gW107XG4gIH1cblxuICB0aGlzLmVycm9yTGlzdCA9IGVycm9yO1xuICB0aGlzLmNvdW50ID0gaW5mby5zdWNjZXNzQ291bnQ7XG5cbiAgdGhpcy5jYW5jZWwgPSAoKSA9PiB7XG4gICAgJHVpYk1vZGFsSW5zdGFuY2UuY2xvc2UoKTtcbiAgfVxufVxuIiwiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gYmF0Y2hVcGxvYWREZXZpY2UoJHVpYk1vZGFsLCAkcGFyc2UsICR0aW1lb3V0KSB7XG4gICduZ0luamVjdCc7XG5cbiAgcmV0dXJuIHtcbiAgICByZXN0cmljdDogJ0VBJyxcbiAgICB0ZW1wbGF0ZTogJzxkaXYgY2xhc3M9XCJoaWRlXCI+PC9kaXY+JyxcbiAgICAvL3JlcGxhY2U6IHRydWUsXG4gICAgbGluazogZnVuY3Rpb24oc2NvcGUsIGVsZW1lbnQsIGF0dHJzKSB7XG5cbiAgICAgIHZhciB1bmJpbmQgPSBzY29wZS4kb24oXCJiYXRjaFVwbG9hZFVzZXJcIiwgZnVuY3Rpb24gKGV2ZW50LCBvcHRpb25zPXt9KSB7XG4gICAgICAgICAgRHJvcHpvbmUuYXV0b0Rpc2NvdmVyID0gZmFsc2U7XG5cbiAgICAgICAgICAkdWliTW9kYWwub3Blbih7XG4gICAgICAgICAgICAgIGFuaW1hdGlvbjogdHJ1ZSxcbiAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICdjb21tb24vZGlyZWN0aXZlcy9tY0JhdGNoVXBsb2FkVXNlci90ZW1wbGF0ZS5odG1sJyxcbiAgICAgICAgICAgICAgY29udHJvbGxlcjogYmF0Y2hVcGxvYWRGaWxlQ3RybCxcbiAgICAgICAgICAgICAgY29udHJvbGxlckFzOiAndm0nLFxuICAgICAgICAgICAgICBzaXplOiBcIlwiLFxuICAgICAgICAgICAgICByZXNvbHZlOiB7XG4gICAgICAgICAgICAgICAgb3B0aW9uczogKCkgPT4gb3B0aW9uc1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgfSkucmVzdWx0LnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgICAgIH0sIGZ1bmN0aW9uICgpIHsgIH0pO1xuICAgICAgfSk7XG4gICAgICBzY29wZS4kb24oJyRkZXN0cm95JywgdW5iaW5kKTtcbiAgICB9XG4gIH07XG59XG5cbmZ1bmN0aW9uIGJhdGNoVXBsb2FkRmlsZUN0cmwoJGxvY2F0aW9uLCAkdWliTW9kYWwsICR1aWJNb2RhbEluc3RhbmNlLCAkcm9vdFNjb3BlLCAkc2NvcGUsICRzdGF0ZSwgJHRpbWVvdXQsIEFwaU1hcCwgdG9hc3RyLCBvcHRpb25zKSB7XG4gICduZ0luamVjdCc7XG5cbiAgICB2YXIgdm0gPSB0aGlzO1xuXG4gICAgbGV0IGlkID0gJycsIHBhcmFtcyA9ICcnO1xuXG4gICAgdm0uZG93bmxvYWRfdXJsID0gQXBpTWFwLmFjY291bnQuZG93bmxvYWRUZW1wbGF0ZTtcblxuICAgIGxldCB1cmwgPSBBcGlNYXAuYWNjb3VudC5pbXBvcnQ7XG5cbiAgICBhbmd1bGFyLmV4dGVuZCh2bSwge1xuICAgICAgICB1cGxvYWRGaWxlOiB1cGxvYWRGaWxlLFxuICAgICAgICAvL3BlbnNpb25BcmVhOiB3aW5kb3cucGFnZUNvbmYuYXJlYUxpc3QsXG4gICAgICAgIC8vcGVuc2lvbkluZm86IHdpbmRvdy5wYWdlQ29uZi5wZW5zaW9uSW5mbyxcbiAgICAgICAgZHJvcHpvbmVDb25maWc6IHtcbiAgICAgICAgICAgIHBhcmFtTmFtZTogb3B0aW9ucy5wYXJhbU5hbWUgfHwgJ2ZpbGUnLFxuICAgICAgICAgICAgaGVhZGVyczoge2V4dHJhOiAkcm9vdFNjb3BlLkFVVEhPUklaQVRJT05fVE9LRU59LFxuICAgICAgICAgICAgdXJsOiB1cmwsXG4gICAgICAgICAgICBtZXRob2Q6ICdwb3N0JyxcbiAgICAgICAgICAgIG1heEZpbGVzaXplOiA1MCxcbiAgICAgICAgICAgIG1heEZpbGVzOiAyLFxuICAgICAgICAgICAgZGljdEZpbGVUb29CaWc6ICfmlofku7blpKflsI/kuI3og73otoXov4c1ME0nLFxuICAgICAgICAgICAgdXBsb2FkTXVsdGlwbGU6IGZhbHNlLFxuICAgICAgICAgICAgYXV0b1Byb2Nlc3NRdWV1ZTogdHJ1ZSxcbiAgICAgICAgICAgIGFjY2VwdGVkRmlsZXM6ICdhcHBsaWNhdGlvbi92bmQubXMtZXhjZWwsIGFwcGxpY2F0aW9uL3ZuZC5vcGVueG1sZm9ybWF0cy1vZmZpY2Vkb2N1bWVudC5zcHJlYWRzaGVldG1sLnNoZWV0JyxcbiAgICAgICAgICAgIGFkZGVkZmlsZTogZnVuY3Rpb24gKGZpbGUpIHtcbiAgICAgICAgICAgICAgICAkKCcjdXBsb2FkX2J1dHRvbicpLmF0dHIoJ2Rpc2FibGVkJywgJ2Rpc2FibGVkJykudGV4dCgn5LiK5Lyg5LitJyk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgc3VjY2VzczogZnVuY3Rpb24gKGZpbGUsIGRhdGEpIHtcbiAgICAgICAgICAgICAgICAkcm9vdFNjb3BlLmltZ1VwbG9hZG5nID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgdGhpcy5yZW1vdmVGaWxlKGZpbGUpO1xuICAgICAgICAgICAgICAgICQoJyN1cGxvYWRfYnV0dG9uJykucmVtb3ZlQXR0cignZGlzYWJsZWQnKS50ZXh0KCfkuIrkvKAnKTtcblxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGRhdGEpO1xuICAgICAgICAgICAgICAgIGlmKGRhdGEuY29kZSA9PSAwKXtcbiAgICAgICAgICAgICAgICAgICAgaWYoZGF0YS5kYXRhLmVycm9ycy5sZW5ndGggPiAwKXtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHRvYXN0ci5lcnJvcihkYXRhLmRhdGEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdm0uZXJyb3JMaXN0ID0gZGF0YS5kYXRhLmVycm9ycztcbiAgICAgICAgICAgICAgICAgICAgICAgIHNob3dFcnJvckxpc3QoZGF0YS5kYXRhKTtcbiAgICAgICAgICAgICAgICAgICAgfWVsc2V7XG4gICAgICAgICAgICAgICAgICAgICAgICB0b2FzdHIuc3VjY2Vzcygn5re75Yqg5oiQ5YqfJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAkc3RhdGUucmVsb2FkKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9ZWxzZXtcbiAgICAgICAgICAgICAgICAgICAgdG9hc3RyLmVycm9yKCBkYXRhLmluZm8gKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAvLyRtb2RhbEluc3RhbmNlLmNsb3NlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9KTtcblxuICAgIGZ1bmN0aW9uIHNob3dFcnJvckxpc3QoZGF0YSkge1xuICAgICAgJHVpYk1vZGFsLm9wZW4oe1xuICAgICAgICAgIGFuaW1hdGlvbjogdHJ1ZSxcbiAgICAgICAgICB0ZW1wbGF0ZVVybDogJ2NvbW1vbi9kaXJlY3RpdmVzL21jQmF0Y2hVcGxvYWRVc2VyL2Vycm9yLmh0bWwnLFxuICAgICAgICAgIGNvbnRyb2xsZXI6IEVycm9yTGlzdEN0cmwsXG4gICAgICAgICAgY29udHJvbGxlckFzOiAndm0nLFxuICAgICAgICAgIHNpemU6IFwiXCIsXG4gICAgICAgICAgcmVzb2x2ZToge1xuICAgICAgICAgICAgaW5mbzogKCkgPT4gZGF0YVxuICAgICAgICAgIH1cbiAgICAgIH0pLnJlc3VsdC50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgIH0sIGZ1bmN0aW9uICgpIHsgIH0pO1xuICAgIH1cblxuXG4gICAgLy8g6Kem5Y+R5LiK5LygXG4gICAgZnVuY3Rpb24gdXBsb2FkRmlsZShlKSB7XG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgJHRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAkKGUudGFyZ2V0KS5zaWJsaW5ncygnLmRyb3B6b25lJykudHJpZ2dlcignY2xpY2snKTtcbiAgICAgICAgfSk7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBFcnJvckxpc3RDdHJsKCR1aWJNb2RhbEluc3RhbmNlLCBpbmZvKSB7XG4gICduZ0luamVjdCc7XG5cbiAgbGV0IGVycm9yID0gaW5mby5lcnJvcnM7XG4gIGlmKGVycm9yKSB7XG4gICAgZXJyb3IgPSBlcnJvci5maWx0ZXIoaXRlbSA9PiBpdGVtLmRhdGFbMF0gIT09IG51bGwpO1xuICB9IGVsc2Uge1xuICAgIGVycm9yID0gW107XG4gIH1cblxuICB0aGlzLmVycm9yTGlzdCA9IGVycm9yO1xuICB0aGlzLmNvdW50ID0gaW5mby5zdWNjZXNzQ291bnQ7XG5cbiAgdGhpcy5jYW5jZWwgPSAoKSA9PiB7XG4gICAgJHVpYk1vZGFsSW5zdGFuY2UuY2xvc2UoKTtcbiAgfVxufVxuXG4iLCJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBiYXRjaFVwbG9hZERldmljZSgkdWliTW9kYWwsICRwYXJzZSwgJHRpbWVvdXQpIHtcbiAgJ25nSW5qZWN0JztcblxuICByZXR1cm4ge1xuICAgIHJlc3RyaWN0OiAnRUEnLFxuICAgIHRlbXBsYXRlOiAnPGRpdiBjbGFzcz1cImhpZGVcIj48L2Rpdj4nLFxuICAgIC8vcmVwbGFjZTogdHJ1ZSxcbiAgICBsaW5rOiBmdW5jdGlvbihzY29wZSwgZWxlbWVudCwgYXR0cnMpIHtcblxuICAgICAgdmFyIHVuYmluZCA9IHNjb3BlLiRvbihcImJhdGNoVXBsb2FkVmNcIiwgZnVuY3Rpb24gKGV2ZW50LCBvcHRpb25zPXt9KSB7XG4gICAgICAgICAgRHJvcHpvbmUuYXV0b0Rpc2NvdmVyID0gZmFsc2U7XG5cbiAgICAgICAgICAkdWliTW9kYWwub3Blbih7XG4gICAgICAgICAgICAgIGFuaW1hdGlvbjogdHJ1ZSxcbiAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICdjb21tb24vZGlyZWN0aXZlcy9tY0JhdGNoVXBsb2FkVmMvdGVtcGxhdGUuaHRtbCcsXG4gICAgICAgICAgICAgIGNvbnRyb2xsZXI6IGJhdGNoVXBsb2FkRmlsZUN0cmwsXG4gICAgICAgICAgICAgIGNvbnRyb2xsZXJBczogJ3ZtJyxcbiAgICAgICAgICAgICAgc2l6ZTogXCJcIixcbiAgICAgICAgICAgICAgcmVzb2x2ZToge1xuICAgICAgICAgICAgICAgIG9wdGlvbnM6ICgpID0+IG9wdGlvbnNcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgIH0pLnJlc3VsdC50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICB9LCBmdW5jdGlvbiAoKSB7ICB9KTtcbiAgICAgIH0pO1xuICAgICAgc2NvcGUuJG9uKCckZGVzdHJveScsIHVuYmluZCk7XG4gICAgfVxuICB9O1xufVxuXG5mdW5jdGlvbiBiYXRjaFVwbG9hZEZpbGVDdHJsKCRsb2NhdGlvbiwgJHVpYk1vZGFsLCAkdWliTW9kYWxJbnN0YW5jZSwgJHJvb3RTY29wZSwgJHNjb3BlLCAkc3RhdGUsICR0aW1lb3V0LCBBcGlNYXAsIHRvYXN0ciwgb3B0aW9ucykge1xuICAnbmdJbmplY3QnO1xuXG4gICAgdmFyIHZtID0gdGhpcztcblxuICAgIGxldCBpZCA9ICcnLCBwYXJhbXMgPSAnJztcblxuICAgIHZtLmRvd25sb2FkX3VybCA9IEFwaU1hcC5pbnZlc3RtZW50LmRvd25sb2FkVGVtcGxhdGU7XG5cbiAgICBsZXQgdXJsID0gQXBpTWFwLmludmVzdG1lbnQuaW1wb3J0O1xuXG4gICAgYW5ndWxhci5leHRlbmQodm0sIHtcbiAgICAgICAgdXBsb2FkRmlsZTogdXBsb2FkRmlsZSxcbiAgICAgICAgLy9wZW5zaW9uQXJlYTogd2luZG93LnBhZ2VDb25mLmFyZWFMaXN0LFxuICAgICAgICAvL3BlbnNpb25JbmZvOiB3aW5kb3cucGFnZUNvbmYucGVuc2lvbkluZm8sXG4gICAgICAgIGRyb3B6b25lQ29uZmlnOiB7XG4gICAgICAgICAgICBwYXJhbU5hbWU6IG9wdGlvbnMucGFyYW1OYW1lIHx8ICdmaWxlJyxcbiAgICAgICAgICAgIGhlYWRlcnM6IHtleHRyYTogJHJvb3RTY29wZS5BVVRIT1JJWkFUSU9OX1RPS0VOfSxcbiAgICAgICAgICAgIHVybDogdXJsLFxuICAgICAgICAgICAgbWV0aG9kOiAncG9zdCcsXG4gICAgICAgICAgICBtYXhGaWxlc2l6ZTogNTAsXG4gICAgICAgICAgICBtYXhGaWxlczogMixcbiAgICAgICAgICAgIGRpY3RGaWxlVG9vQmlnOiAn5paH5Lu25aSn5bCP5LiN6IO96LaF6L+HNTBNJyxcbiAgICAgICAgICAgIHVwbG9hZE11bHRpcGxlOiBmYWxzZSxcbiAgICAgICAgICAgIGF1dG9Qcm9jZXNzUXVldWU6IHRydWUsXG4gICAgICAgICAgICBhY2NlcHRlZEZpbGVzOiAnYXBwbGljYXRpb24vdm5kLm1zLWV4Y2VsLCBhcHBsaWNhdGlvbi92bmQub3BlbnhtbGZvcm1hdHMtb2ZmaWNlZG9jdW1lbnQuc3ByZWFkc2hlZXRtbC5zaGVldCcsXG4gICAgICAgICAgICBhZGRlZGZpbGU6IGZ1bmN0aW9uIChmaWxlKSB7XG4gICAgICAgICAgICAgICAgJCgnI3VwbG9hZF9idXR0b24nKS5hdHRyKCdkaXNhYmxlZCcsICdkaXNhYmxlZCcpLnRleHQoJ+S4iuS8oOS4rScpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uIChmaWxlLCBkYXRhKSB7XG4gICAgICAgICAgICAgICAgJHJvb3RTY29wZS5pbWdVcGxvYWRuZyA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIHRoaXMucmVtb3ZlRmlsZShmaWxlKTtcbiAgICAgICAgICAgICAgICAkKCcjdXBsb2FkX2J1dHRvbicpLnJlbW92ZUF0dHIoJ2Rpc2FibGVkJykudGV4dCgn5LiK5LygJyk7XG5cbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhkYXRhKTtcbiAgICAgICAgICAgICAgICBpZihkYXRhLmNvZGUgPT0gMCl7XG4gICAgICAgICAgICAgICAgICAgIGlmKGRhdGEuZGF0YS5lcnJvcnMubGVuZ3RoID4gMCl7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyB0b2FzdHIuZXJyb3IoZGF0YS5kYXRhKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZtLmVycm9yTGlzdCA9IGRhdGEuZGF0YS5lcnJvcnM7XG4gICAgICAgICAgICAgICAgICAgICAgICBzaG93RXJyb3JMaXN0KGRhdGEuZGF0YSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyAkbW9kYWxJbnN0YW5jZS5jbG9zZSgpO1xuICAgICAgICAgICAgICAgICAgICB9ZWxzZXtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRvYXN0ci5zdWNjZXNzKCfmt7vliqDmiJDlip8nKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIGlmKGRhdGEuZGF0YS5zdWNjZXNzQ291bnQgPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAkc3RhdGUucmVsb2FkKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9ZWxzZXtcbiAgICAgICAgICAgICAgICAgICAgdG9hc3RyLmVycm9yKCBkYXRhLmluZm8gKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAkdWliTW9kYWxJbnN0YW5jZS5jbG9zZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBlcnJvckxpc3Q6IG51bGxcbiAgICB9KTtcblxuICAgIGZ1bmN0aW9uIHNob3dFcnJvckxpc3QoZGF0YSkge1xuICAgICAgJHVpYk1vZGFsLm9wZW4oe1xuICAgICAgICAgIGFuaW1hdGlvbjogdHJ1ZSxcbiAgICAgICAgICB0ZW1wbGF0ZVVybDogJ2NvbW1vbi9kaXJlY3RpdmVzL21jQmF0Y2hVcGxvYWRWYy9lcnJvci5odG1sJyxcbiAgICAgICAgICBjb250cm9sbGVyOiBFcnJvckxpc3RDdHJsLFxuICAgICAgICAgIGNvbnRyb2xsZXJBczogJ3ZtJyxcbiAgICAgICAgICBzaXplOiBcIlwiLFxuICAgICAgICAgIHJlc29sdmU6IHtcbiAgICAgICAgICAgIGluZm86ICgpID0+IGRhdGFcbiAgICAgICAgICB9XG4gICAgICB9KS5yZXN1bHQudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICB9LCBmdW5jdGlvbiAoKSB7ICB9KTtcbiAgICB9XG5cbiAgICAvLyDop6blj5HkuIrkvKBcbiAgICBmdW5jdGlvbiB1cGxvYWRGaWxlKGUpIHtcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAkdGltZW91dChmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICQoZS50YXJnZXQpLnNpYmxpbmdzKCcuZHJvcHpvbmUnKS50cmlnZ2VyKCdjbGljaycpO1xuICAgICAgICB9KTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIEVycm9yTGlzdEN0cmwoJHVpYk1vZGFsSW5zdGFuY2UsIGluZm8pIHtcbiAgJ25nSW5qZWN0JztcblxuICBsZXQgZXJyb3IgPSBpbmZvLmVycm9ycztcbiAgaWYoZXJyb3IpIHtcbiAgICBlcnJvciA9IGVycm9yLmZpbHRlcihpdGVtID0+IGl0ZW0uZGF0YVswXSAhPT0gbnVsbCk7XG4gIH0gZWxzZSB7XG4gICAgZXJyb3IgPSBbXTtcbiAgfVxuXG4gIHRoaXMuZXJyb3JMaXN0ID0gZXJyb3I7XG4gIHRoaXMuY291bnQgPSBpbmZvLnN1Y2Nlc3NDb3VudDtcblxuICB0aGlzLmNhbmNlbCA9ICgpID0+IHtcbiAgICAkdWliTW9kYWxJbnN0YW5jZS5jbG9zZSgpO1xuICB9XG59XG4iLCIvKipcbiAqIOiuqeaMh+WumuWFg+e0oOiHqumAguW6lFxuICog5Y+C5pWwOlxuICogIHN1YldpZHRoOlxuICogIHBhcmVudDog77yI5Y+v6YCJ77yJ5piv5ZCm5ZCR5LiK5p+l5om+dGFyZ2V05oyH5a6a55qE5YWD57Sg44CC5L6d6LWWdGFyZ2V05bGe5oCn44CCXG4gKiAgdGFyZ2V0OiDvvIjlj6/pgInvvInopoHmn6Xmib7nmoToh6rpgILlupTnmoTnm67moIflhYPntKDpgInmi6nlmajjgILoi6XmsqHmnInmjIflrpp0YXJnZXTvvIzliJnku6XmjIfku6TlvZPliY3lhYPntKDkuLp0YXJnZXTjgIJcbiAqXG4gKiDnpLrkvos6XG4gKiAgIDxkaXYgY2xhc3M9XCJtb2RhbC1ib2R5XCIgcmVzaXphYmxlPVwie3N1YldpZHRoOiAxMzUsIHBhcmVudDogdHJ1ZSwgdGFyZ2V0OiAnLm1vZGFsLWRpYWxvZyd9XCI+IC4uLiA8ZGl2PlxuICovXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiByZXNpemFibGUoJHdpbmRvdywgJHBhcnNlKSB7XG4gICduZ0luamVjdCc7XG5cbiAgcmV0dXJuIHtcbiAgICByZXN0cmljdDogJ0EnLFxuICAgIHNjb3BlOiB7fSxcbiAgICBsaW5rOiBmdW5jdGlvbihzY29wZSwgZWxlbWVudCwgYXR0cnMpIHtcblxuICAgICAgbGV0IG9wdHMgPSAkcGFyc2UoYXR0cnMucmVzaXphYmxlKShzY29wZSk7XG4gICAgICBsZXQgd2luV2lkdGggPSAkd2luZG93LmlubmVyV2lkdGg7XG5cbiAgICAgIGxldCAkdGFyZ2V0ID0gb3B0cy50YXJnZXQgP1xuICAgICAgICBhbmd1bGFyLmVsZW1lbnQoZWxlbWVudClbb3B0cy5wYXJlbnQgPyAncGFyZW50cycgOiAnZmluZCddKG9wdHMudGFyZ2V0KSA6XG4gICAgICAgIGFuZ3VsYXIuZWxlbWVudChlbGVtZW50KTtcblxuICAgICAgZnVuY3Rpb24gb25SZXNpemUoaXNGaXJzdCkge1xuICAgICAgICB3aW5XaWR0aCA9ICR3aW5kb3cuaW5uZXJXaWR0aDtcbiAgICAgICAgJHRhcmdldC5jc3MoJ3dpZHRoJywgd2luV2lkdGggLSBnZXRTY3JvbGxiYXJXaWR0aCgpIC0gb3B0cy5zdWJXaWR0aCk7XG5cbiAgICAgICAgaWYoIWlzRmlyc3QpIHNjb3BlLiRkaWdlc3QoKTtcbiAgICAgIH1cblxuICAgICAgb25SZXNpemUodHJ1ZSk7IC8vIHJlc2l6ZSBvbiBmaXJzdFxuXG4gICAgICBhbmd1bGFyLmVsZW1lbnQoJHdpbmRvdykub24oJ3Jlc2l6ZScsIG9uUmVzaXplKTtcblxuICAgICAgc2NvcGUuJG9uKCckZGVzdHJveScsICgpID0+IHtcbiAgICAgICAgYW5ndWxhci5lbGVtZW50KCR3aW5kb3cpLm9mZigncmVzaXplJywgb25SZXNpemUpO1xuICAgICAgfSk7XG5cbiAgICB9XG4gIH1cblxufVxuXG5mdW5jdGlvbiBnZXRTY3JvbGxiYXJXaWR0aCgpIHtcbiAgLy8gQ3JlYXRlIHRoZSBtZWFzdXJlbWVudCBub2RlXG4gIHZhciBzY3JvbGxEaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICBzY3JvbGxEaXYuc3R5bGUub3ZlcmZsb3cgPSAnc2Nyb2xsJztcbiAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChzY3JvbGxEaXYpO1xuXG4gIC8vIEdldCB0aGUgc2Nyb2xsYmFyIHdpZHRoXG4gIHZhciBzY3JvbGxiYXJXaWR0aCA9IHNjcm9sbERpdi5vZmZzZXRXaWR0aCAtIHNjcm9sbERpdi5jbGllbnRXaWR0aDtcblxuICAvLyBEZWxldGUgdGhlIERJVlxuICBkb2N1bWVudC5ib2R5LnJlbW92ZUNoaWxkKHNjcm9sbERpdik7XG5cbiAgcmV0dXJuIHNjcm9sbGJhcldpZHRoO1xufVxuIiwiXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBhZGRyZXNzRm9ybWF0KCkge1xuXG4gICAgcmV0dXJuIGZ1bmN0aW9uKHN0cil7XG4gICAgICAgIGxldCByZWd4ID0gLy1cXGQrXFw7LztcbiAgICAgICAgcmV0dXJuIHN0ci5zcGxpdChyZWd4KS5qb2luKCcnKTtcbiAgICB9XG4gICAgXG59IiwiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gZGF5VGltZSgpIHtcblxuICAgIHJldHVybiBmdW5jdGlvbih0aW1lKXtcblxuICAgIFx0bGV0IGggPSBNYXRoLmZsb29yKHRpbWUgLyAzNjAwMCk7XG4gICAgXHRsZXQgbSA9IHRpbWUgJSAzNjAwIC8gNjA7XG4gICAgXHRoID0gaCA+IDkgPyBoIDogJzAnICsgaDtcbiAgICBcdG0gPSBtID4gOSA/IG0gOiAnMCcgKyBtO1xuXG4gICAgICAgIHJldHVybiBoICsgJzonICsgbTtcbiAgICB9XG4gICAgXG59IiwiXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBkaXNlYXNlSGlzdG9yeSgpIHtcblxuICAgIHJldHVybiBmdW5jdGlvbihhcnIpe1xuXG4gICAgICAgIHZhciBkaXNlYXNlX2hpc3RvcnkgPSBcIlwiO1xuXG4gICAgICAgIGZvcihsZXQgaXRlbSBvZiBhcnIpIHtcbiAgICAgICAgICAgIGRpc2Vhc2VfaGlzdG9yeSArPSBpdGVtLm5hbWUgKyAnICAnO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGRpc2Vhc2VfaGlzdG9yeTtcbiAgICB9XG4gICAgXG59IiwiaW1wb3J0IGFuZ3VsYXIgICAgICAgICBmcm9tICdhbmd1bGFyJztcbmltcG9ydCBvcmRlclNvdXJjZSAgICAgZnJvbSAnLi9vcmRlclNvdXJjZSc7XG5pbXBvcnQgb2xkVHlwZSAgICAgZnJvbSAnLi9vbGRUeXBlJztcbmltcG9ydCBzZXJ2aWNlVHlwZSAgICAgZnJvbSAnLi9zZXJ2aWNlVHlwZSc7XG5pbXBvcnQgcGF5V2F5ICAgICBmcm9tICcuL3BheVdheSc7XG5pbXBvcnQgc2VydmljZVdheSAgICAgZnJvbSAnLi9zZXJ2aWNlV2F5JztcbmltcG9ydCBkaXNlYXNlSGlzdG9yeSAgICAgZnJvbSAnLi9kaXNlYXNlSGlzdG9yeSc7XG5pbXBvcnQgb3JkZXJTdGF0dXMgICAgIGZyb20gJy4vb3JkZXJTdGF0dXMnO1xuaW1wb3J0IGRheVRpbWUgXHRcdGZyb20gJy4vZGF5VGltZSc7XG5pbXBvcnQgbW9kZUlkIGZyb20gJy4vbW9kZUlkJztcbmltcG9ydCBhZGRyZXNzRm9ybWF0IGZyb20gJy4vYWRkcmVzc0Zvcm1hdCc7XG5pbXBvcnQgdGltZUZvcm1hdCBmcm9tICcuL3RpbWVGb3JtYXQnO1xuaW1wb3J0IGZpeCBmcm9tICcuL2ZpeCc7XG5cbmV4cG9ydCBkZWZhdWx0IGFuZ3VsYXIubW9kdWxlKCdhcHAuY29tbW9uLmZpbHRlcnMnLCBbXSlcbi5maWx0ZXIoJ29yZGVyU291cmNlJywgb3JkZXJTb3VyY2UpXG4uZmlsdGVyKCdvbGRUeXBlJywgb2xkVHlwZSlcbi5maWx0ZXIoJ3NlcnZpY2VUeXBlJywgc2VydmljZVR5cGUpXG4uZmlsdGVyKCdwYXlXYXknLCBwYXlXYXkpXG4uZmlsdGVyKCdzZXJ2aWNlV2F5Jywgc2VydmljZVdheSlcbi5maWx0ZXIoJ2Rpc2Vhc2VIaXN0b3J5JywgZGlzZWFzZUhpc3RvcnkpXG4uZmlsdGVyKCdvcmRlclN0YXR1cycsIG9yZGVyU3RhdHVzKVxuLmZpbHRlcignZGF5VGltZScsIGRheVRpbWUpXG4uZmlsdGVyKCdtb2RlSWQnLCBtb2RlSWQpXG4uZmlsdGVyKCdhZGRyZXNzRm9ybWF0JywgYWRkcmVzc0Zvcm1hdClcbi5maWx0ZXIoJ3RpbWVGb3JtYXQnLCB0aW1lRm9ybWF0KVxuLmZpbHRlcignZml4JywgZml4KVxuIiwiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gZml4KCkge1xuXG4gICAgcmV0dXJuIGZ1bmN0aW9uKHZhbHVlLCBudW0pe1xuXG4gICAgXHQhbnVtICYmIChudW0gPSAyKTtcbiAgICBcdHJldHVybiB0eXBlb2YgdmFsdWUgPT0gJ251bWJlcicgPyB2YWx1ZS50b0ZpeGVkKG51bSkgOiAnJztcbiAgICB9XG4gICAgXG59IiwiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gbW9kZUlkKCkge1xuXG5cdGxldCBtb2RlTGlzdCA9IHBhZ2VDb25mLm1vZGVMaXN0O1xuXG5cbiAgcmV0dXJuIGZ1bmN0aW9uKG1vZGVfaWQpe1xuICBcdGxldCBtb2RlID0gbW9kZUxpc3QuZmlsdGVyKGl0ZW0gPT4gaXRlbS5tb2RlX2lkID09IG1vZGVfaWQpO1xuICBcdHJldHVybiBtb2RlLmxlbmd0aCA/IG1vZGVbMF0ubmFtZSA6IG1vZGVfaWQ7XG4gIH1cblxufVxuIiwiXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBvbGRUeXBlKCkge1xuICByZXR1cm4gZnVuY3Rpb24odHlwZSl7XG4gICAgdmFyIG9sZF90eXBlX25hbWUgPSBcIlwiO1xuICAgIHN3aXRjaCh0eXBlKSB7XG4gICAgICBjYXNlIDI6XG4gICAgICAgIG9sZF90eXBlX25hbWUgPSAn5r2c5Zyo5Lya5ZGYJztcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIDM6XG4gICAgICAgIG9sZF90eXBlX25hbWUgPSAn5YWo5omY5Lya5ZGYJztcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIDQ6XG4gICAgICAgIG9sZF90eXBlX25hbWUgPSAn5pel5omY5Lya5ZGYJztcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIDU6XG4gICAgICAgIG9sZF90eXBlX25hbWUgPSAn5pmu6YCa5Lya5ZGYJztcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIGNvbnNvbGUud2FybignaW52YWxpZCBvbGRfdHlwZScpO1xuICAgIH1cbiAgICByZXR1cm4gb2xkX3R5cGVfbmFtZTtcbiAgfVxufVxuIiwiXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBvcmRlclNvdXJjZSgpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24oc291cmNlKXtcbiAgICAgICAgdmFyIG9yZGVyX3NvdXJjZV9uYW1lID0gXCJcIjtcbiAgICAgICAgc3dpdGNoKHNvdXJjZSkge1xuICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgIG9yZGVyX3NvdXJjZV9uYW1lID0gJ+WQjuWPsCc7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgICAgb3JkZXJfc291cmNlX25hbWUgPSAncGFk56uvJztcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgMzpcbiAgICAgICAgICAgICAgICBvcmRlcl9zb3VyY2VfbmFtZSA9ICflrZDlpbPnq68nO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICBvcmRlcl9zb3VyY2VfbmFtZSA9ICfplb/ogIXnq68nO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBvcmRlcl9zb3VyY2VfbmFtZTtcbiAgICB9XG59IiwiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gb3JkZXJTdGF0dXMoKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uKHN0YXR1cyl7XG4gICAgICAgIHZhciBzdGF0dXNfbmFtZSA9IFwiXCI7XG4gICAgICAgIHN3aXRjaChzdGF0dXMpIHtcbiAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgICBzdGF0dXNfbmFtZSA9ICflt7LpooTnuqYnO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAxMDpcbiAgICAgICAgICAgICAgICBzdGF0dXNfbmFtZSA9ICflt7Lnoa7orqQnO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSA1MDpcbiAgICAgICAgICAgICAgICBzdGF0dXNfbmFtZSA9ICflt7LlrozmiJAnO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSA5OTpcbiAgICAgICAgICAgICAgICBzdGF0dXNfbmFtZSA9ICflt7Lku5jmrL4nO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICBzdGF0dXNfbmFtZSA9ICflt7Llj5bmtognO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBzdGF0dXNfbmFtZTtcbiAgICB9XG59IiwiXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBwYXlXYXkoKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uKHdheSl7XG4gICAgICAgIHZhciBwYXlfd2F5X25hbWUgPSBcIlwiO1xuICAgICAgICBzd2l0Y2god2F5KSB7XG4gICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgcGF5X3dheV9uYW1lID0gJ+eOsOmHkSc7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgICAgcGF5X3dheV9uYW1lID0gJ+WIt+WNoSc7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgICAgcGF5X3dheV9uYW1lID0gJ+aXoCc7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIHBheV93YXlfbmFtZSA9ICfpg6jliIbnjrDph5EnO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBwYXlfd2F5X25hbWU7XG4gICAgfVxufSIsIlxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gc2VydmljZVR5cGUoKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uKHR5cGUpe1xuICAgICAgICB2YXIgc2VydmljZV90eXBlX25hbWUgPSBcIlwiO1xuICAgICAgICBzd2l0Y2godHlwZSkge1xuICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgIHNlcnZpY2VfdHlwZV9uYW1lID0gJ+S4iumXqCc7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgICAgc2VydmljZV90eXBlX25hbWUgPSAn5Yiw5bqXJztcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgMzpcbiAgICAgICAgICAgICAgICBzZXJ2aWNlX3R5cGVfbmFtZSA9ICfkuIrpl6jvvIzliLDlupcnO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICBzZXJ2aWNlX3R5cGVfbmFtZSA9ICflhbblroMnO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBzZXJ2aWNlX3R5cGVfbmFtZTtcbiAgICB9XG59IiwiXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBzZXJ2aWNlV2F5KCkge1xuICAgIHJldHVybiBmdW5jdGlvbih3YXkpe1xuICAgICAgICB2YXIgd2F5X25hbWUgPSBcIlwiO1xuICAgICAgICBzd2l0Y2god2F5KSB7XG4gICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgd2F5X25hbWUgPSAn5LiK6ZeoJztcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgICB3YXlfbmFtZSA9ICfliLDlupcnO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICB3YXlfbmFtZSA9ICflhbblroMnO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB3YXlfbmFtZTtcbiAgICB9XG59IiwiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gdGllbUZvcm1hdCgpIHtcblxuICAgIHJldHVybiBmdW5jdGlvbih0aW1lKXtcblxuICAgIFx0cmV0dXJuIG1vbWVudCh0aW1lKS5mb3JtYXQoJ1lZWVktTU0tREQgSEg6bW06c3MnKTtcbiAgICB9XG4gICAgXG59IiwiJ3VzZSBzdHJpY3QnO1xuXG5jb25zdCBjX3BhY2thZ2UgPSB7fTtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQWNjZXNzQ29udHJvbFNlcnZpY2Uge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICduZ0luamVjdCc7XG5cbiAgICB9XG5cbiAgICBnZXRDb25kKCl7XG4gICAgICAgIHJldHVybiBjX3BhY2thZ2U7XG4gICAgfVxufVxuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgU2VydmljZSB7XG4gIGNvbnN0cnVjdG9yKCRodHRwLCBodHRwSGVscGVyLCAkcm9vdFNjb3BlLCAkc3RhdGUsIEFwaU1hcCkge1xuICAgICduZ0luamVjdCc7XG5cbiAgICB0aGlzLl9odHRwID0gJGh0dHA7XG4gICAgLy8gdGhpcy4kcSA9ICRxO1xuICAgIHRoaXMuX2h0dHBIZWxwZXIgPSBodHRwSGVscGVyO1xuXG4gICAgdGhpcy5fYXBpID0gQXBpTWFwLmNvbmZpZztcbiAgICB0aGlzLl9hcGlNYXAgPSBBcGlNYXA7XG5cbiAgICB0aGlzLl9yb290U2NvcGUgPSAkcm9vdFNjb3BlO1xuICAgIHRoaXMuX3N0YXRlID0gJHN0YXRlO1xuICB9XG5cbiAgbGlzdChwYXJhbXMpIHtcbiAgICBcbiAgICB0aGlzLl9odHRwSGVscGVyLmJsb2NrVUkuc3RhcnQoKTtcblxuICAgIHJldHVybiB0aGlzLl9odHRwLmdldCh0aGlzLl9hcGkubGlzdCwge3BhcmFtczogcGFyYW1zfSkudGhlbih0aGlzLl9odHRwSGVscGVyLnZlcmlmeSwgIHRoaXMuX2h0dHBIZWxwZXIuZXJyb3IpO1xuICB9XG5cbiAgc2V0KGRhdGEpIHtcbiAgICBcbiAgICB0aGlzLl9odHRwSGVscGVyLmJsb2NrVUkuc3RhcnQoKTtcblxuICAgIHJldHVybiB0aGlzLl9odHRwLnBvc3QodGhpcy5fYXBpLnNldCwgZGF0YSkudGhlbih0aGlzLl9odHRwSGVscGVyLnZlcmlmeSwgdGhpcy5faHR0cEhlbHBlci5lcnJvcik7XG4gIH1cblxuICBnZXQoa2V5LCBwYXJhbXMpIHtcbiAgICBcbiAgICB0aGlzLl9odHRwSGVscGVyLmJsb2NrVUkuc3RhcnQoKTtcblxuICAgIHJldHVybiB0aGlzLl9odHRwLmdldCh0aGlzLl9hcGkuZ2V0LnJlcGxhY2UoL1xce2tleVxcfS8sIGtleSksIHtwYXJhbXM6IHBhcmFtc30pLnRoZW4odGhpcy5faHR0cEhlbHBlci52ZXJpZnksICB0aGlzLl9odHRwSGVscGVyLmVycm9yKTtcbiAgfVxuXG4gIC8vIHNldFNwZWNpYWwoZGF0YSkge1xuICAgIFxuICAvLyAgIHRoaXMuX2h0dHBIZWxwZXIuYmxvY2tVSS5zdGFydCgpO1xuXG4gIC8vICAgcmV0dXJuIHRoaXMuX2h0dHAucG9zdCh0aGlzLl9hcGkuc2V0U3BlY2lhbCwgZGF0YSkudGhlbih0aGlzLl9odHRwSGVscGVyLnZlcmlmeSwgdGhpcy5faHR0cEhlbHBlci5lcnJvcik7XG4gIC8vIH1cblxuICBnZXRSb2xlTGlzdCgpIHtcbiAgICB0aGlzLl9odHRwSGVscGVyLmJsb2NrVUkuc3RhcnQoKTtcbiAgICBcbiAgICByZXR1cm4gdGhpcy5faHR0cC5nZXQodGhpcy5fYXBpLnJvbGVMaXN0KS50aGVuKHRoaXMuX2h0dHBIZWxwZXIudmVyaWZ5LCAgdGhpcy5faHR0cEhlbHBlci5lcnJvcik7XG4gIH1cblxuXG5cbn0iLCIvKipcbiAqIOiFvuiur+ihjOaUv+WMuuWIkkFQSVxuICogaHR0cDovL2xicy5xcS5jb20vd2Vic2VydmljZV92MS9ndWlkZS1yZWdpb24uaHRtbFxuICovXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBEaXN0cmljdFNlcnZpY2Uge1xuICBjb25zdHJ1Y3RvcigkaHR0cCwgJHEpe1xuICAgICduZ0luamVjdCc7XG4gICAgdGhpcy5fcSA9ICRxO1xuICAgIHRoaXMuX2h0dHAgPSAkaHR0cDtcbiAgICB0aGlzLnVybCA9ICcvL2FwaXMubWFwLnFxLmNvbS93cy9kaXN0cmljdC92MS8nXG4gICAgdGhpcy5vcHRzID0ge1xuICAgICAga2V5OiAnWkFVQlotNE9HM0otWlZURkYtRjdORUQtUEhNSlQtRFpCWUcnLFxuICAgICAgb3V0cHV0OiAnanNvbnAnLFxuICAgICAgY2FsbGJhY2s6ICdkaXN0cmljdF9jYidcbiAgICB9XG4gIH1cblxuICBfcHJldigpIHtcbiAgICBsZXQgZGVmZXJyZWQgPSB0aGlzLl9xLmRlZmVyKCk7XG4gICAgd2luZG93LmRpc3RyaWN0X2NiID0gZnVuY3Rpb24ocmVzKSB7XG4gICAgICAvLyBUT0RPIOWKoGxvYWRpbmcsIOmBv+WFjeWcsOWdgOayoeWKoOi9veWujFxuICAgICAgLy8gaHR0cEhlbHBlci5ibG9ja1VJLnN0b3AoKTtcbiAgICAgIGRlZmVycmVkLnJlc29sdmUoIHJlcy5yZXN1bHRbMF0gKTtcbiAgICB9XG5cbiAgICByZXR1cm4gZGVmZXJyZWQ7XG4gIH1cblxuICAvLyAtLS0tLS0tLS0gbWV0aG9kIC0tLS0tLS0tLS0tLS0tXG4gIGxpc3QoKSB7XG5cbiAgICBsZXQgZGVmZXJyZWQgPSB0aGlzLl9wcmV2KCk7XG5cbiAgICB0aGlzLl9odHRwLmpzb25wKHRoaXMudXJsICsgJ2xpc3QnLCB7cGFyYW1zOiB0aGlzLm9wdHN9KTtcblxuICAgIHJldHVybiBkZWZlcnJlZC5wcm9taXNlO1xuICB9XG5cbiAgZ2V0Y2hpbGRyZW4oaWQpIHtcblxuICAgIGxldCBkZWZlcnJlZCA9IHRoaXMuX3ByZXYoKTtcbiAgICBsZXQgcGFyYW1zID0gey4uLnRoaXMub3B0cywgaWR9O1xuXG4gICAgdGhpcy5faHR0cC5qc29ucCh0aGlzLnVybCArICdnZXRjaGlsZHJlbicsIHtwYXJhbXM6IHBhcmFtc30pO1xuXG4gICAgcmV0dXJuIGRlZmVycmVkLnByb21pc2U7XG4gIH1cblxuICBmb3JtYXQoZGF0YSwgbGV2ZWwgPSAzKSB7XG4gICAgaWYoZGF0YSA9PT0gdm9pZCgwKSl7XG4gICAgICByZXR1cm4gdm9pZCgwKTtcbiAgICB9IGVsc2UgaWYodHlwZW9mIGRhdGEgPT0gJ3N0cmluZycpe1xuICAgICAgbGV0IHJlZ3gsIG1hdGNoLCByZXN1bHQ7XG5cbiAgICAgIGNvbnN0IHJlZyA9IC9eKC4qKVxcLShcXGQqKSQvXG5cbiAgICAgIGNvbnN0IGFkZHJlc3NBcnJheSA9IGRhdGEuc3BsaXQoJzsnKTtcbiAgICAgIGNvbnN0IGxlbmd0aCA9IGFkZHJlc3NBcnJheS5sZW5ndGg7XG5cbiAgICAgIGlmKGxlbmd0aCA+IDApIHtcbiAgICAgICAgcmVzdWx0ID0ge1xuICAgICAgICAgIGFkZHJlc3M6IGFkZHJlc3NBcnJheVtsZW5ndGgtMV1cbiAgICAgICAgfTtcbiAgICAgIH1cblxuICAgICAgaWYobGVuZ3RoID4gMSAmJiAobWF0Y2ggPSBhZGRyZXNzQXJyYXlbMF0ubWF0Y2gocmVnKSkpe1xuICAgICAgICByZXN1bHQucHJvdmluY2UgPSB7XG4gICAgICAgICAgZnVsbG5hbWU6IG1hdGNoWzFdLFxuICAgICAgICAgIGlkOiBtYXRjaFsyXVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGlmKGxlbmd0aCA+IDIgJiYgKG1hdGNoID0gYWRkcmVzc0FycmF5WzFdLm1hdGNoKHJlZykpKXtcbiAgICAgICAgcmVzdWx0LmNpdHkgPSB7XG4gICAgICAgICAgZnVsbG5hbWU6IG1hdGNoWzFdLFxuICAgICAgICAgIGlkOiBtYXRjaFsyXVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGlmKGxlbmd0aCA+IDMgJiYgKG1hdGNoID0gYWRkcmVzc0FycmF5WzJdLm1hdGNoKHJlZykpKXtcbiAgICAgICAgcmVzdWx0LmRpc3RyaWN0ID0ge1xuICAgICAgICAgIGZ1bGxuYW1lOiBtYXRjaFsxXSxcbiAgICAgICAgICBpZDogbWF0Y2hbMl1cbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICAvLyBpZihsZXZlbCA9PSAyKSB7XG4gICAgICAvLyAgIHJlZ3ggPSAvXiguKilcXC0oXFxkKilcXDsoLiopXFwtKFxcZCopXFw7KC4qKSQvO1xuICAgICAgLy8gfSBlbHNlIHtcbiAgICAgIC8vICAgcmVneCA9IC9eKC4qKVxcLShcXGQqKVxcOyguKilcXC0oXFxkKilcXDsoLiopXFwtKFxcZCopXFw7KC4qKSQvO1xuICAgICAgLy8gfVxuXG4gICAgICAvLyBtYXRjaCA9IGRhdGEubWF0Y2gocmVneCk7XG5cbiAgICAgIC8vIGlmKG1hdGNoKSB7XG5cbiAgICAgIC8vICAgcmVzdWx0ID0ge1xuICAgICAgLy8gICAgIHByb3ZpbmNlOiB7XG4gICAgICAvLyAgICAgICBmdWxsbmFtZTogbWF0Y2hbMV0sXG4gICAgICAvLyAgICAgICBpZDogbWF0Y2hbMl1cbiAgICAgIC8vICAgICB9LFxuICAgICAgLy8gICAgIGNpdHk6IHtcbiAgICAgIC8vICAgICAgIGZ1bGxuYW1lOiBtYXRjaFszXSxcbiAgICAgIC8vICAgICAgIGlkOiBtYXRjaFs0XVxuICAgICAgLy8gICAgIH1cbiAgICAgIC8vICAgfVxuXG4gICAgICAvLyAgIGlmKGxldmVsID09IDIpIHtcbiAgICAgIC8vICAgICByZXN1bHQuYWRkcmVzcyA9IG1hdGNoWzVdO1xuICAgICAgLy8gICB9IGVsc2Uge1xuICAgICAgLy8gICAgIHJlc3VsdC5kaXN0cmljdCA9IHtcbiAgICAgIC8vICAgICAgIGZ1bGxuYW1lOiBtYXRjaFs1XSxcbiAgICAgIC8vICAgICAgIGlkOiBtYXRjaFs2XVxuICAgICAgLy8gICAgIH07XG5cbiAgICAgIC8vICAgICByZXN1bHQuYWRkcmVzcyA9IG1hdGNoWzddO1xuICAgICAgLy8gICB9XG4gICAgICAvLyB9XG5cbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfSBlbHNlIGlmKGRhdGEuYWRkcmVzcyApIHtcbiAgICAgIGxldCBzdHJpbmcgPSAnJztcblxuICAgICAgaWYoZGF0YS5wcm92aW5jZSl7XG4gICAgICAgIHN0cmluZyA9IGAke3N0cmluZ30ke2RhdGEucHJvdmluY2UuZnVsbG5hbWV9LSR7ZGF0YS5wcm92aW5jZS5pZH07YFxuXG4gICAgICAgIGlmKGRhdGEuY2l0eSl7XG4gICAgICAgICAgc3RyaW5nID0gYCR7c3RyaW5nfSR7ZGF0YS5jaXR5LmZ1bGxuYW1lfS0ke2RhdGEuY2l0eS5pZH07YFxuXG4gICAgICAgICAgaWYoZGF0YS5kaXN0cmljdCl7XG4gICAgICAgICAgICBzdHJpbmcgPSBgJHtzdHJpbmd9JHtkYXRhLmRpc3RyaWN0LmZ1bGxuYW1lfS0ke2RhdGEuZGlzdHJpY3QuaWR9O2A7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBgJHtzdHJpbmd9JHtkYXRhLmFkZHJlc3N9YDtcbiAgICB9XG4gIH1cbn1cbiIsIid1c2Ugc3RyaWN0JztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUHJvZmlsZVNlcnZpY2Uge1xuICAgIGNvbnN0cnVjdG9yKCRodHRwLCBodHRwSGVscGVyLCBBcHBTZXR0aW5ncywgQXBpTWFwLCBDb25maWdTZXJ2aWNlKSB7XG4gICAgJ25nSW5qZWN0JztcbiAgICAgICAgdGhpcy5faHR0cCA9ICRodHRwO1xuICAgICAgICAvLyB0aGlzLiRxID0gJHE7XG4gICAgICAgIHRoaXMuX2h0dHBIZWxwZXIgPSBodHRwSGVscGVyO1xuXG4gICAgICAgIHRoaXMuX2FwaSA9IEFwaU1hcC5wZXJzb247XG4gICAgICAgIHRoaXMuX2FwaU1hcCA9IEFwaU1hcDtcblxuICAgICAgICB0aGlzLmFjY2Vzc0tleSA9IEFwcFNldHRpbmdzLmFjY2Vzc0tleTtcblxuICAgICAgICB0aGlzLl9jb25maWdTZXJ2aWNlID0gQ29uZmlnU2VydmljZTtcblxuXHQgICAgdGhpcy5pbmZvID0ge1xuXHQgICAgICBuYW1lOiAn5LqyJyxcblx0ICAgICAgYXZhdGFyOiAnL2ltYWdlcy9jb21tb24vbWFuLnBuZydcblx0ICAgIH1cblxuICAgICAgICB0aGlzLnJvbGVMaXN0ID0gW107XG5cbiAgICAgICAgdGhpcy51c2VyX2lkID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ1NJTF9VSUQnKSB8fCAwO1xuXG4gICAgICAgIHRoaXMuYWNjZXNzID0ge307XG5cbiAgICAgICAgaWYodGhpcy51c2VyX2lkKSB7XG4gICAgICAgICAgICB0aGlzLmdldCh7aWQ6IHRoaXMudXNlcl9pZH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5fZ2V0Um9sZUxpc3QoKTtcblxuICAgIH1cblxuICAgIGdldFJvbGVMaXN0KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5yb2xlTGlzdDtcbiAgICB9XG5cbiAgICBfZ2V0Um9sZUxpc3QoKSB7XG4gICAgICAgIHRoaXMuX2NvbmZpZ1NlcnZpY2UuZ2V0Um9sZUxpc3QoKS50aGVuKGRhdGEgPT4ge1xuICAgICAgICAgICAgaWYoZGF0YSAmJiBkYXRhIGluc3RhbmNlb2YgQXJyYXkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnJvbGVMaXN0LnB1c2guYXBwbHkoIHRoaXMucm9sZUxpc3QsIGRhdGEgKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgc2V0U2Vzc2lvbihrZXksIHZhbHVlKSB7XG4gICAgICAgIGlmIChrZXkgJiYgdmFsdWUpIHtcbiAgICAgICAgICAgIHNlc3Npb25TdG9yYWdlLnNldEl0ZW0oa2V5LCB2YWx1ZSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBnZXRTZXNzaW9uKGtleSkge1xuICAgICAgICBpZiAoa2V5KSB7XG4gICAgICAgICAgICByZXR1cm4gc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbShrZXkpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuXG4gICAgZ2V0SW5mbygpe1xuICAgICAgICByZXR1cm4gdGhpcy5pbmZvO1xuICAgIH1cblxuICAgIGdldEFjY2VzcygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuYWNjZXNzO1xuICAgIH1cblxuICAgIGdldChkYXRhKSB7XG4gICAgXG4gICAgICAgIHRoaXMuX2h0dHBIZWxwZXIuYmxvY2tVSS5zdGFydCgpO1xuXG4gICAgICAgIHJldHVybiB0aGlzLl9odHRwLnBvc3QodGhpcy5fYXBpLmdldCwgZGF0YSkudGhlbih0aGlzLl9odHRwSGVscGVyLnZlcmlmeSwgIHRoaXMuX2h0dHBIZWxwZXIuZXJyb3IpLnRoZW4oZGF0YSA9PiB7XG4gICAgICAgICAgICB0aGlzLmluZm8ubmFtZSA9IGRhdGEudHJ1ZV9uYW1lO1xuICAgICAgICAgICAgdGhpcy5pbmZvLnJvbGUgPSBkYXRhLnJvbGU7XG4gICAgICAgICAgICB0aGlzLnNldFNlc3Npb24oJ1NJTF9ST0xFJywgZGF0YS5yb2xlKTtcbiAgICAgICAgICAgIHRoaXMuZ2V0VXNlckFjY2VzcygpO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBoYW5sZGVBY2Nlc3MoZGF0YSkge1xuICAgICAgICBsZXQgYWNjZXNzTGlzdCA9IGFuZ3VsYXIuZnJvbUpzb24oZGF0YSk7XG4gICAgICAgIGlmKGFjY2Vzc0xpc3QgJiYgYWNjZXNzTGlzdFt0aGlzLmluZm8ucm9sZV0pIHtcbiAgICAgICAgICAgIGxldCBrZXlzID0gT2JqZWN0LmtleXModGhpcy5hY2Nlc3MpO1xuICAgICAgICAgICAga2V5cy5mb3JFYWNoKGtleSA9PiB7XG4gICAgICAgICAgICAgICAgaWYoIWFjY2Vzc0xpc3Rba2V5XSkge1xuICAgICAgICAgICAgICAgICAgICBkZWxldGUgdGhpcy5hY2Nlc3Nba2V5XTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGFuZ3VsYXIuZXh0ZW5kKHRoaXMuYWNjZXNzLCBhY2Nlc3NMaXN0W3RoaXMuaW5mby5yb2xlXSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBnZXRVc2VyQWNjZXNzKCkge1xuXG4gICAgICAgIGxldCBhY2Nlc3MgPSB0aGlzLmdldFNlc3Npb24oJ1NJTF9BQ0NFU1MnKTtcblxuICAgICAgICBpZihhY2Nlc3MpIHtcbiAgICAgICAgICAgIHRoaXMuaGFubGRlQWNjZXNzKGFjY2Vzcyk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl9jb25maWdTZXJ2aWNlLmdldCh0aGlzLmFjY2Vzc0tleSkudGhlbihkYXRhID0+IHtcbiAgICAgICAgICAgIHRoaXMuc2V0U2Vzc2lvbignU0lMX0FDQ0VTUycsIGRhdGEpO1xuICAgICAgICAgICAgaWYgKGRhdGEpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmhhbmxkZUFjY2VzcyhkYXRhKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxufSIsImltcG9ydCBhbmd1bGFyICAgICAgICBmcm9tICdhbmd1bGFyJztcblxuaW1wb3J0IENvbmZpZ1NlcnZpY2UgZnJvbSAnLi9jb25maWcuc2VydmljZSc7XG5pbXBvcnQgUHJvZmlsZVNlcnZpY2UgZnJvbSAnLi9wcm9maWxlLnNlcnZpY2UnO1xuXG5pbXBvcnQgQWNjZXNzQ29udHJvbFNlcnZpY2UgZnJvbSAnLi9hY2Nlc3NDb250cm9sLnNlcnZpY2UnO1xuaW1wb3J0IERpc3RyaWN0U2VydmljZSBmcm9tICcuL2Rpc3RyaWN0LnNlcnZpY2UnO1xuXG5leHBvcnQgZGVmYXVsdCBhbmd1bGFyLm1vZHVsZSgnYXBwLmNvbW1vbi5zZXJ2aWNlcycsIFtdKVxuLnNlcnZpY2UoJ0NvbmZpZ1NlcnZpY2UnLCBDb25maWdTZXJ2aWNlKVxuLnNlcnZpY2UoJ1Byb2ZpbGVTZXJ2aWNlJywgUHJvZmlsZVNlcnZpY2UpXG4uc2VydmljZSgnQWNjZXNzQ29udHJvbFNlcnZpY2UnLCBBY2Nlc3NDb250cm9sU2VydmljZSlcbi5zZXJ2aWNlKCdEaXN0cmljdFNlcnZpY2UnLCBEaXN0cmljdFNlcnZpY2UpXG47IiwiaW1wb3J0IGFuZ3VsYXIgICAgICAgICAgZnJvbSAnYW5ndWxhcic7XG5pbXBvcnQge21haW5IZWFkZXJ9ICAgICBmcm9tICcuL21jTWFpbkhlYWRlci9tY01haW5IZWFkZXInO1xuaW1wb3J0IHtjb250ZW50SGVhZGVyfSAgZnJvbSAnLi9tY0NvbnRlbnRIZWFkZXIvbWNDb250ZW50SGVhZGVyJztcblxuaW1wb3J0IHNpZGViYXJEaXJlY3RpdmUgZnJvbSAnLi9tY1NpZGViYXIvbWNTaWRlYmFyLmRpcmVjdGl2ZSc7XG5pbXBvcnQgc2lkZWJhclNlcnZpY2UgICBmcm9tICcuL21jU2lkZWJhci9tY1NpZGViYXIuc2VydmljZSc7XG5pbXBvcnQgKiBhcyBoZWxwZXIgICAgICBmcm9tICcuL21jU2lkZWJhci9tY1NpZGViYXJIZWxwZXJzLmRpcmVjdGl2ZSc7XG5cbmltcG9ydCB7bWNQYWdpbmF0aW9ufSAgIGZyb20gJy4vbWNQYWdpbmF0aW9uL2luZGV4JztcblxuaW1wb3J0IFBpY2tlclNlcnZpY2UgICAgZnJvbSAnLi9tY1BpY2tlci9waWNrZXInO1xuXG4vLyBpbXBvcnQgUGxhbk1vZGVsU2VydmljZSAgICBmcm9tICcuL21jQ2FyZVBsYW4vcGxhbk1vZGVsJztcblxuLy8gaW1wb3J0IGNhcmVUeXBlU2VydmljZSAgICBmcm9tICcuL21jQ2FyZVBsYW4vY2FyZVR5cGUnO1xuXG5cbmV4cG9ydCBkZWZhdWx0IGFuZ3VsYXIubW9kdWxlKCdhcHAuY29yZS5jb21wb25lbnRzJywgW10pXG5cbi8vIGxheW91dCBjb21wb25lbnRcbi5jb21wb25lbnQoJ21jTWFpbkhlYWRlcicsIG1haW5IZWFkZXIpXG4uZGlyZWN0aXZlKCdtY01haW5TaWRlYmFyJywgc2lkZWJhckRpcmVjdGl2ZSlcbi5zZXJ2aWNlKCdtY1NpZGViYXJTZXJ2aWNlJywgc2lkZWJhclNlcnZpY2UpXG4uY29tcG9uZW50KCdtY0NvbnRlbnRIZWFkZXInLCBjb250ZW50SGVhZGVyKVxuXG4vLyBzaWRlYmFyXG4uZGlyZWN0aXZlKCdtY1NpZGViYXJUb2dnbGluZ0l0ZW0nLCBoZWxwZXIubWNTaWRlYmFyVG9nZ2xpbmdJdGVtKVxuLmRpcmVjdGl2ZSgnbWNVaVNyZWZUb2dnbGluZ1N1Ym1lbnUnLCBoZWxwZXIubWNVaVNyZWZUb2dnbGluZ1N1Ym1lbnUpXG4uZGlyZWN0aXZlKCdtY1VpU3JlZlRvZ2dsZXInLCBoZWxwZXIubWNVaVNyZWZUb2dnbGVyKVxuXG4uY29tcG9uZW50KCdtY1BhZ2luYXRpb24nLCBtY1BhZ2luYXRpb24pXG5cbi5zZXJ2aWNlKCdQaWNrZXJTZXJ2aWNlJywgUGlja2VyU2VydmljZSlcblxuLy8gLnNlcnZpY2UoJ1BsYW5Nb2RlbFNlcnZpY2UnLCBQbGFuTW9kZWxTZXJ2aWNlKVxuXG4vLyAuc2VydmljZSgnY2FyZVR5cGVTZXJ2aWNlJywgY2FyZVR5cGVTZXJ2aWNlKVxuO1xuIiwiY2xhc3MgTWNDb250ZW50SGVhZGVyQ29udHJvbGxlciB7XG5cbiAgY29uc3RydWN0b3IoKSB7XG4gICAgJ25nSW5qZWN0JztcblxuICB9XG5cbn1cblxuZXhwb3J0IGNvbnN0IGNvbnRlbnRIZWFkZXIgPSB7XG4gIHRlbXBsYXRlVXJsOiAnY29yZS9jb21wb25lbnRzL21jQ29udGVudEhlYWRlci9tY0NvbnRlbnRIZWFkZXIuaHRtbCcsXG4gIGNvbnRyb2xsZXI6IE1jQ29udGVudEhlYWRlckNvbnRyb2xsZXIsXG4gIGJpbmRpbmdzOiB7XG5cbiAgfVxufTtcbiIsImNsYXNzIE1jTWFpbkhlYWRlckNvbnRyb2xsZXIge1xuXG4gIGNvbnN0cnVjdG9yKHN3ZWV0LCAkdGltZW91dCwgdG9hc3RyLCB1dGlsU2VydmljZSwgUHJvZmlsZVNlcnZpY2UsIE1lc3NhZ2VTZXJ2aWNlKSB7XG4gICAgJ25nSW5qZWN0JztcblxuICAgIHRoaXMuX3N3ZWV0ID0gc3dlZXQ7XG4gICAgdGhpcy5fdXRpbFNlcnZpY2UgPSB1dGlsU2VydmljZTtcblxuICAgIHRoaXMuX21zZ1NlcnZpY2UgPSBNZXNzYWdlU2VydmljZTtcblxuICAgIHRoaXMuX3RvYXN0ciA9IHRvYXN0cjtcbiAgICB0aGlzLl90aW1lb3V0ID0gJHRpbWVvdXQ7XG5cbiAgICAvLyBsZXQge2F2YXRhcn0gPSBQZW5zaW9uU2VydmljZS5nZXRJbmZvKCk7XG5cbiAgICB0aGlzLmluZm8gPSBQcm9maWxlU2VydmljZS5nZXRJbmZvKCk7XG4gICAgdGhpcy5tc2dfY291bnQgPSAwO1xuXG4gICAgdGhpcy5nZXRNc2coKTtcbiAgfVxuXG4gIGxvZ291dCgpIHtcbiAgICB0aGlzLl9zd2VldC5zaG93KHtcbiAgICAgIHRpdGxlOiAn5o+Q56S6JyxcbiAgICAgIHRleHQ6ICfnoa7orqTpgIDlh7o/JyxcbiAgICAgIHR5cGU6ICd3YXJuaW5nJyxcbiAgICAgIHNob3dDYW5jZWxCdXR0b246IHRydWUsXG4gICAgICBjb25maXJtQnV0dG9uVGV4dDogJ+mAgOWHuicsXG4gICAgICBjYW5jZWxCdXR0b25UZXh0OiAn5Y+W5raIJ1xuICAgIH0sIGlzQ29uZmlybSA9PiB7XG4gICAgICBpZiAoaXNDb25maXJtKSB7XG4gICAgICAgIGxvY2FsU3RvcmFnZS5jbGVhcigpO1xuICAgICAgICB0aGlzLl91dGlsU2VydmljZS5sb2dvdXQoKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIGdldE1zZygpIHtcbiAgICB0aGlzLl9tc2dTZXJ2aWNlLmdldExpc3Qoe3BhZ2U6IDEsIHBhZ2VfbGltaXQ6IDEwfSwgdHJ1ZSkudGhlbihkYXRhID0+IHtcbiAgICAgIGxldCB1bnJlYWRMaXN0ID0gZGF0YS5tZXNzYWdlcy5maWx0ZXIoaXRlbSA9PiBpdGVtLnN0YXRlID09PSAwKTtcbiAgICAgIGxldCBsZW4gPSB1bnJlYWRMaXN0Lmxlbmd0aDtcbiAgICAgIGlmIChsZW4gPiAwKSB7XG4gICAgICAgIGxldCBuZXdNc2dJZCA9IHVucmVhZExpc3RbMF0uaWQ7XG4gICAgICAgIGlmICggbmV3TXNnSWQgIT0gdGhpcy5uZXdNc2dJZCkge1xuICAgICAgICAgIHRoaXMuX3RvYXN0ci5zdWNjZXNzKHVucmVhZExpc3RbMF0uY29udGVudCwgJ+aWsOa2iOaBrycpO1xuICAgICAgICAgIHRoaXMubmV3TXNnSWQgPSBuZXdNc2dJZDtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBpZiAobGVuID4gOSkge1xuICAgICAgICBsZW4gPSAnOSsnO1xuICAgICAgfVxuXG4gICAgICB0aGlzLm1zZ19jb3VudCA9IGxlbjtcblxuICAgICAgdGhpcy5fdGltZW91dCgoKSA9PiB7XG4gICAgICAgIHRoaXMuZ2V0TXNnKCk7XG4gICAgICB9LCAxMjAwMDApO1xuICAgICAgXG4gICAgfSk7XG4gIH1cblxufVxuXG5leHBvcnQgY29uc3QgbWFpbkhlYWRlciA9IHtcbiAgdGVtcGxhdGVVcmw6ICdjb3JlL2NvbXBvbmVudHMvbWNNYWluSGVhZGVyL21jTWFpbkhlYWRlci5odG1sJyxcbiAgY29udHJvbGxlcjogTWNNYWluSGVhZGVyQ29udHJvbGxlcixcbiAgY29udHJvbGxlckFzOiAndm0nLFxuICBiaW5kaW5nczoge1xuXG4gIH1cbn07XG4iLCJleHBvcnQgY2xhc3MgTWNQYWdpbmF0aW9uQ29udHJvbGxlciB7XG4gIGNvbnN0cnVjdG9yKCR0aW1lb3V0KSB7XG4gICAgJ25nSW5qZWN0JztcblxuICAgIHRoaXMuX3RpbWVvdXQgPSAkdGltZW91dDtcbiAgfVxuXG4gIHBhZ2VDaGFuZ2VkKCkge1xuICAgIC8vIGNvbnNvbGUubG9nKHRoaXMpO1xuXG4gICAgdGhpcy5fdGltZW91dCggKCkgPT4ge1xuICAgICAgdGhpcy5wYWdlQ2hhbmdlICYmIHRoaXMucGFnZUNoYW5nZSgpO1xuICAgIH0pO1xuICB9XG5cbn07XG5cbmV4cG9ydCBjb25zdCBtY1BhZ2luYXRpb24gPSB7XG4gIHRlbXBsYXRlVXJsOiAnY29yZS9jb21wb25lbnRzL21jUGFnaW5hdGlvbi9pbmRleC5odG1sJyxcbiAgY29udHJvbGxlcjogTWNQYWdpbmF0aW9uQ29udHJvbGxlcixcbiAgY29udHJvbGxlckFzOiAndm0nLFxuICBiaW5kaW5nczoge1xuICAgIGN1cnJlbnRQYWdlOiAnPScsXG4gICAgdG90YWxJdGVtczogJz0nLFxuICAgIGl0ZW1zUGVyUGFnZTogJz0nLFxuICAgIHBhZ2VDaGFuZ2U6ICcmJ1xuICB9XG59O1xuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgUGFnaW5hdGlvbiB7XG4gIGNvbnN0cnVjdG9yKCRpbmplY3Rvcikge1xuICAgICduZ0luamVjdCc7XG4vLyBjb25zb2xlLmxvZygkbG9jYXRpb24pO1xuICAgIHRoaXMuX2xvY2F0aW9uID0gJGluamVjdG9yLmdldCggJyRsb2NhdGlvbicpO1xuICAgIHRoaXMuX3N0YXRlUGFyYW1zID0gJGluamVjdG9yLmdldCggJyRzdGF0ZVBhcmFtcycpO1xuXG4gICAgdGhpcy5wYWdpbmF0aW9uID0ge1xuICAgICAgY291bnQ6IDAsXG4gICAgICBwYWdlU2l6ZTogMjBcbiAgICB9O1xuXG4gICAgdGhpcy5faW5pdFBhZ2UoKTtcbiAgfVxuXG4gIF9pbml0UGFnZSgpIHtcbiAgICBsZXQge3BhZ2V9ID0gdGhpcy5fc3RhdGVQYXJhbXM7XG4gICAgdGhpcy5wYWdpbmF0aW9uLnBhZ2UgPSArcGFnZSB8fCAxO1xuICB9XG5cbiAgX2ZpbHRlckVtcHR5VmFsdWUoKSB7XG4gICAgbGV0IHZhbGlkRmlsdGVycyA9IHt9O1xuICAgIGxldCB2YWx1ZTtcbiAgICBmb3IobGV0IGtleSBpbiB0aGlzLmZpbHRlcnMpe1xuICAgICAgdmFsdWUgPSB0aGlzLmZpbHRlcnNba2V5XTtcbiAgICAgIGlmKHZhbHVlICE9PSB2b2lkKDApKSB7XG4gICAgICAgIHZhbGlkRmlsdGVyc1trZXldID0gdmFsdWU7XG4gICAgICB9XG4gICAgfVxuXG5cbiAgICByZXR1cm4gdmFsaWRGaWx0ZXJzO1xuICB9XG5cbiAgcmVTZWFyY2goKSB7XG4gICAgbGV0IHBhZ2UgPSAxXG4gICAgdGhpcy5fbG9jYXRpb24uc2VhcmNoKHsuLi50aGlzLl9maWx0ZXJFbXB0eVZhbHVlKCksIHBhZ2V9KTtcbiAgfVxuXG4gIHBhZ2VDaGFuZ2VkKCkge1xuICAgIC8vIGNvbnNvbGUubG9nKHRoaXMubG9jYXRpb24pO1xuICAgIGNvbnN0IHBhZ2UgPSB0aGlzLnBhZ2luYXRpb24ucGFnZTtcblxuICAgIHRoaXMuX2xvY2F0aW9uLnNlYXJjaCggey4uLnRoaXMuX2ZpbHRlckVtcHR5VmFsdWUoKSwgcGFnZX0gKTtcbiAgfVxufVxuIiwiY29uc3QgZGVmYXVsdFBpY2tlck9wdGlvbnMgPSB7XG4gIG1pbjogMSxcbiAgbWF4OiAwLFxuICB0aXRsZTogJ+a3u+WKoOmhueebricsXG4gIGl0ZW1UeXBlOiAn6aG555uuJyxcbiAgaXRlbVVuaXQ6ICfkuKonLFxuICBpdGVtUG9zaXRpb246ICcnLFxuICBzZWFyY2hQbGFjZWhvbGRlcjogJ+ivt+i+k+WFpemhueebruWQjeensCcsXG4gIHNlbGVjdGVkSXRlbXM6IG51bGwsXG5cbiAgcGFyYW1zOiBudWxsLFxuXG4gIGlkS2V5OiAnaWQnLFxuICBuYW1lS2V5OiAnbmFtZScsXG4gIGF2YXRhcktleTogJ2F2YXRhcidcbn07XG5cbmNsYXNzIFBpY2tlckNvbnRyb2xsZXIge1xuICBjb25zdHJ1Y3RvcigkaHR0cCwgaHR0cEhlbHBlciwgJHVpYk1vZGFsSW5zdGFuY2UsIHBpY2tlck9wdGlvbnMpIHtcbiAgICAnbmdJbmplY3QnO1xuXG4gICAgdGhpcy5faHR0cCA9ICRodHRwO1xuICAgIHRoaXMuX2h0dHBIZWxwZXIgPSBodHRwSGVscGVyO1xuXG4gICAgdGhpcy5fbW9kYWxJbnN0YW5jZSA9ICR1aWJNb2RhbEluc3RhbmNlO1xuXG4gICAgdGhpcy5vcHRpb25zID0gey4uLmRlZmF1bHRQaWNrZXJPcHRpb25zLCAuLi5waWNrZXJPcHRpb25zfTtcblxuICAgIHRoaXMuc2VsZWN0aW9uSXRlbSA9IFtdO1xuXG4gICAgdGhpcy5saXN0ID0gW107XG5cbiAgICB0aGlzLmdldExpc3QoKTtcbiAgfVxuXG4gIF9nZXRMaXN0KHBhcmFtcykge1xuICAgIGxldCB7dXJsfSA9IHRoaXMub3B0aW9ucztcbiAgICBpZighdXJsKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdtY1BpY2tlcicsICdVcmwgaXMgcmVxdWlyZWQuJylcbiAgICAgIHJldHVybiA7XG4gICAgfVxuXG4gICAgdGhpcy5faHR0cEhlbHBlci5ibG9ja1VJLnN0YXJ0KCk7XG5cbiAgICByZXR1cm4gdGhpcy5faHR0cC5nZXQodXJsLCB7cGFyYW1zOiBwYXJhbXN9KS50aGVuKHRoaXMuX2h0dHBIZWxwZXIudmVyaWZ5LCAgdGhpcy5faHR0cEhlbHBlci5lcnJvcik7XG4gIH1cblxuICBnZXRMaXN0KCkge1xuICAgIGxldCB7bGlzdH0gPSB0aGlzLm9wdGlvbnM7XG4gICAgaWYobGlzdCkge1xuICAgICAgdGhpcy5saXN0ID0gdGhpcy5fZm9ybWF0RGF0YShsaXN0KTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBsZXQgcGFyYW1zID0gey4uLntcbiAgICAgIHBhZ2VTaXplOiAxMDAwXG4gICAgfSwgLi4uKHRoaXMub3B0aW9ucy5wYXJhbXMgfHwge30pfTtcbiAgICB0aGlzLl9nZXRMaXN0KHBhcmFtcykudGhlbihkYXRhID0+IHtcbiAgICAgIHRoaXMubGlzdCA9IHRoaXMuX2Zvcm1hdERhdGEoIGRhdGEubGlzdCApO1xuICAgIH0pO1xuICB9XG5cbiAgZ2V0VmFsdWUob2JqLCBrZXkpe1xuICAgIGxldCBrZXlBcnIgPSBrZXkuc3BsaXQoJy4nKTtcblxuICAgIGtleUFyci5mb3JFYWNoKGsgPT4ge1xuICAgICAgb2JqID0gb2JqW2tdO1xuICAgIH0pO1xuXG4gICAgcmV0dXJuIG9iajtcbiAgfVxuXG4gIF9mb3JtYXREYXRhKGRhdGEpIHtcbiAgICBsZXQge3NlbGVjdGVkSXRlbXMsIGlkS2V5LCBuYW1lS2V5LCBhdmF0YXJLZXl9ID0gdGhpcy5vcHRpb25zO1xuICAgIGxldCB0bXBIYXNoT2JqID0ge307XG5cbiAgICBpZihzZWxlY3RlZEl0ZW1zICYmIHNlbGVjdGVkSXRlbXMubGVuZ3RoID4gMCkge1xuICAgICAgc2VsZWN0ZWRJdGVtcy5mb3JFYWNoKGl0ZW0gPT4ge1xuICAgICAgICB0bXBIYXNoT2JqW2l0ZW0uaWRdID0gdHJ1ZTtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIHJldHVybiBkYXRhLm1hcChpdGVtID0+IHtcbiAgICAgIGxldCB0bXBPYmogPSB7XG4gICAgICAgIGlkOiBpdGVtW2lkS2V5XSxcbiAgICAgICAgbmFtZTogdGhpcy5nZXRWYWx1ZShpdGVtLCBuYW1lS2V5KSxcbiAgICAgICAgYXZhdGFyOiBpdGVtW2F2YXRhcktleV0gfHwgJy9pbWFnZXMvY29tbW9uL21hbi5wbmcnXG4gICAgICB9O1xuXG4gICAgICB0bXBPYmogPSBPYmplY3QuYXNzaWduKGl0ZW0sIHRtcE9iaik7XG4gICAgICBcbiAgICAgIGlmKCB0bXBIYXNoT2JqW3RtcE9iai5pZF0gKSB7XG4gICAgICAgIHRtcE9iai5zZWxlY3RlZCA9IHRydWU7XG5cbiAgICAgICAgdGhpcy5zZWxlY3Rpb25JdGVtLnB1c2godG1wT2JqKTtcbiAgICAgIH1cblxuXG4gICAgICByZXR1cm4gdG1wT2JqO1xuICAgIH0pO1xuICB9XG5cbiAgY2FuY2VsKCkge1xuICAgIC8vIHRoaXMub25DbG9zZSAmJiB0aGlzLm9uQ2xvc2UodGhpcy5zZWxlY3Rpb25JdGVtKTtcbiAgICB0aGlzLl9tb2RhbEluc3RhbmNlLmRpc21pc3MoJ2NhbmNlbCcpO1xuICB9XG5cbiAgb2soKSB7XG4gICAgbGV0IGxlbiA9IHRoaXMuc2VsZWN0aW9uSXRlbS5sZW5ndGg7XG4gICAgbGV0IHttYXgsIG1pbn0gPSB0aGlzLm9wdGlvbnM7XG5cbiAgICBpZiggbGVuIDwgbWluIHx8IChtYXggPiAwICYmIGxlbiA+IG1heCkgKXtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgdGhpcy5fbW9kYWxJbnN0YW5jZS5jbG9zZSggdGhpcy5zZWxlY3Rpb25JdGVtICk7XG4gIH1cblxuICB0b2dnbGVJdGVtU2VsZWN0ZWQoaXRlbSkge1xuICAgIGxldCBpbmRleCA9IHRoaXMuc2VsZWN0aW9uSXRlbS5pbmRleE9mKCBpdGVtICk7XG4gICAgaWYoaW5kZXggPiAtMSkge1xuICAgICAgaXRlbS5zZWxlY3RlZCA9IGZhbHNlO1xuICAgICAgdGhpcy5zZWxlY3Rpb25JdGVtLnNwbGljZShpbmRleCwgMSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIG1heCByZXN0cmljdFxuICAgICAgaWYodGhpcy5vcHRpb25zLm1heCA9PT0gMSkge1xuICAgICAgICB0aGlzLmxpc3QubWFwKGl0ZW0gPT4ge1xuICAgICAgICAgIGl0ZW0uc2VsZWN0ZWQgPSBmYWxzZTtcbiAgICAgICAgICByZXR1cm4gaXRlbTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuc2VsZWN0aW9uSXRlbSA9IFtdO1xuICAgICAgfWVsc2UgaWYodGhpcy5vcHRpb25zLm1heCA+IDEpIHtcbiAgICAgICAgbGV0IGZpbHRlcmVkID0gdGhpcy5saXN0LmZpbHRlcihpdGVtID0+IGl0ZW0uc2VsZWN0ZWQpO1xuICAgICAgICBpZihmaWx0ZXJlZC5sZW5ndGggPT09IHRoaXMub3B0aW9ucy5tYXgpIHtcbiAgICAgICAgICBpdGVtLnNlbGVjdGVkID0gZmFsc2U7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGl0ZW0uc2VsZWN0ZWQgPSB0cnVlO1xuICAgICAgdGhpcy5zZWxlY3Rpb25JdGVtLnB1c2goIGl0ZW0gKTtcbiAgICB9XG5cbiAgICAvLyBjb25zb2xlLmxvZyh0aGlzLnNlbGVjdGlvbkl0ZW0pO1xuICB9XG59XG5cbmNvbnN0IHBpY2tlckNvbmZpZ3VyYXRpb24gPSB7XG4gIHRlbXBsYXRlVXJsOiAnY29yZS9jb21wb25lbnRzL21jUGlja2VyL3RlbXBsYXRlLmh0bWwnLFxuICBjb250cm9sbGVyOiBQaWNrZXJDb250cm9sbGVyLFxuICBjb250cm9sbGVyQXM6ICd2bSdcbn07XG5cbmV4cG9ydCBkZWZhdWx0IHBpY2tlckNvbmZpZ3VyYXRpb247XG4iLCJpbXBvcnQgYW5ndWxhciBmcm9tICdhbmd1bGFyJztcblxuaW1wb3J0IHBpY2tlckNvbmZpZ3VyYXRpb24gZnJvbSAnLi9jdHJsJztcblxuY29uc3Qgbm9vcCA9IGZ1bmN0aW9uKCl7Y29uc29sZS5sb2coJ25vIGNhbGxiYWNrJyk7fTtcblxuXG5jbGFzcyBQaWNrZXJTZXJ2aWNlIHtcbiAgY29uc3RydWN0b3IoJHVpYk1vZGFsKSB7XG4gICAgJ25nSW5qZWN0JztcbiAgICB0aGlzLl9tb2RhbCA9ICR1aWJNb2RhbDtcbiAgfVxuXG4gIG9wZW4ocGlja2VyT3B0aW9ucywgb3B0aW9ucywgY2FsbGJhY2spIHtcblxuICAgIGlmKCB0eXBlb2Ygb3B0aW9ucyA9PSAnZnVuY3Rpb24nICl7XG4gICAgICBjYWxsYmFjayA9IG9wdGlvbnM7XG4gICAgICBvcHRpb25zID0ge307XG4gICAgfVxuXG4gICAgaWYoIHR5cGVvZiBwaWNrZXJPcHRpb25zID09ICdmdW5jdGlvbicgKXtcbiAgICAgIGNhbGxiYWNrID0gcGlja2VyT3B0aW9ucztcbiAgICAgIHBpY2tlck9wdGlvbnMgPSB7fTtcbiAgICAgIG9wdGlvbnMgPSB7fTtcbiAgICB9XG5cbiAgICBsZXQgb3B0cyA9IE9iamVjdC5hc3NpZ24oe1xuICAgICAgYW5pbWF0aW9uOiB0cnVlLFxuICAgICAgc2l6ZTogJ2xnJyxcbiAgICAgIHJlc29sdmU6IHtcbiAgICAgICAgcGlja2VyT3B0aW9uczogZnVuY3Rpb24oKXtcbiAgICAgICAgICBwaWNrZXJPcHRpb25zID0gcGlja2VyT3B0aW9ucyB8fCB7fTtcbiAgICAgICAgICByZXR1cm4gey4uLnBpY2tlck9wdGlvbnN9O1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSwgcGlja2VyQ29uZmlndXJhdGlvbiwgb3B0aW9ucyB8fCB7fSk7XG5cbiAgICAvLyBjb25zb2xlLmxvZyh0aGlzKTtcblxuICAgIGxldCBtb2RhbEluc3RhbmNlID0gdGhpcy5fbW9kYWwub3Blbiggb3B0cyApO1xuXG4gICAgaWYodHlwZW9mIGNhbGxiYWNrICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgICBjYWxsYmFjayA9IG5vb3A7XG4gICAgfVxuXG4gICAgbW9kYWxJbnN0YW5jZS5yZXN1bHQudGhlbiggc2VsZWN0ZWRJdGVtcyA9PiB7XG4gICAgICAvLyBjb25zb2xlLmxvZyhzZWxlY3RlZEl0ZW1zKTtcbiAgICAgIGNhbGxiYWNrLmNhbGwobnVsbCwge3N0YXR1czogMCwgaW5mbzogJ3N1Y2Nlc3MnLCBkYXRhOiBbLi4uc2VsZWN0ZWRJdGVtc119KTtcblxuICAgIH0pLmNhdGNoKCAoKSA9PiBjYWxsYmFjay5jYWxsKG51bGwsIHtzdGF0dXM6IDEsIGluZm86ICdkaXNtaXNzJywgZGF0YTogW119KSApO1xuXG4gICAgcmV0dXJuIG1vZGFsSW5zdGFuY2U7XG4gIH1cblxuXG59XG5leHBvcnQgZGVmYXVsdCBQaWNrZXJTZXJ2aWNlO1xuIiwiY2xhc3MgTWNTaWRlYmFyVG9nZ2xpbmdJdGVtQ29udHJvbGxlciB7XG5cbiAgY29uc3RydWN0b3IoJHNjb3BlLCAkZWxlbWVudCwgJGF0dHJzLCAkc3RhdGUsIG1jU2lkZWJhclNlcnZpY2UpIHtcbiAgICAnbmdJbmplY3QnO1xuXG4gICAgdGhpcy5fJGVsZW1lbnQgPSAkZWxlbWVudDtcblxuICAgIGxldCBtZW51SXRlbSA9IHRoaXMuJCRtZW51SXRlbSA9ICRzY29wZS4kZXZhbCgkYXR0cnMubWNTaWRlYmFyVG9nZ2xpbmdJdGVtKTtcblxuICAgIGlmIChtZW51SXRlbSAmJiBtZW51SXRlbS5zdWJNZW51ICYmIG1lbnVJdGVtLnN1Yk1lbnUubGVuZ3RoKSB7XG4gICAgICB0aGlzLiQkZXhwYW5kU3VibWVudSA9ICgpID0+IHsgY29uc29sZS53YXJuKCckJGV4cGFuZE1lbnUgc2hvdWxkIGJlIG92ZXJ3cml0dGVuIGJ5IG1jVWlTcmVmVG9nZ2xpbmdTdWJtZW51JykgfTtcbiAgICAgIHRoaXMuJCRjb2xsYXBzZVN1Ym1lbnUgPSAoKSA9PiB7IGNvbnNvbGUud2FybignJCRjb2xsYXBzZVN1Ym1lbnUgc2hvdWxkIGJlIG92ZXJ3cml0dGVuIGJ5IG1jVWlTcmVmVG9nZ2xpbmdTdWJtZW51JykgfTtcblxuICAgICAgdGhpcy5zdWJJdGVtc1N0YXRlUmVmcyA9IG1jU2lkZWJhclNlcnZpY2UuZ2V0QWxsU3RhdGVSZWZzUmVjdXJzaXZlKG1lbnVJdGVtKTtcblxuICAgICAgaWYgKHRoaXMuaXNTdGF0ZSgkc3RhdGUuY3VycmVudCkpIHtcbiAgICAgICAgJGVsZW1lbnQuYWRkQ2xhc3MoJ3NpZGViYXItaXRlbS1leHBhbmRlZCcpO1xuICAgICAgfVxuXG4gICAgICAkc2NvcGUuJG9uKCckc3RhdGVDaGFuZ2VTdGFydCcsIChldmVudCwgdG9TdGF0ZSkgPT4ge1xuICAgICAgICAgaWYgKCF0aGlzLmlzU3RhdGUodG9TdGF0ZSkgJiYgJGVsZW1lbnQuaGFzQ2xhc3MoJ3NpZGViYXItaXRlbS1leHBhbmRlZCcpKSB7XG4gICAgICAgICAgdGhpcy4kY29sbGFwc2UoKTtcbiAgICAgICAgICAkZWxlbWVudC5yZW1vdmVDbGFzcygnc2lkZWJhci1pdGVtLWV4cGFuZGVkJyk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuXG4gICAgICAkc2NvcGUuJG9uKCckc3RhdGVDaGFuZ2VTdWNjZXNzJywgKGV2ZW50LCB0b1N0YXRlKSA9PiB7XG4gICAgICAgIGlmICh0aGlzLmlzU3RhdGUodG9TdGF0ZSkgJiYgISRlbGVtZW50Lmhhc0NsYXNzKCdzaWRlYmFyLWl0ZW0tZXhwYW5kZWQnKSkge1xuICAgICAgICAgIHRoaXMuJGV4cGFuZCgpO1xuICAgICAgICAgICRlbGVtZW50LmFkZENsYXNzKCdzaWRlYmFyLWl0ZW0tZXhwYW5kZWQnKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuXG4gIH1cblxuICAkZXhwYW5kKCkge1xuICAgIHRoaXMuJCRleHBhbmRTdWJtZW51KCk7XG4gICAgdGhpcy4kY29sbGFwc2VPdGhlcih0aGlzLiRjb2xsYXBzZU90aGVyKHRoaXMuXyRlbGVtZW50KSk7XG4gICAgdGhpcy5fJGVsZW1lbnQuYWRkQ2xhc3MoJ3NpZGViYXItaXRlbS1leHBhbmRlZCcpO1xuICB9XG5cbiAgJGNvbGxhcHNlKCkge1xuICAgIHRoaXMuJCRjb2xsYXBzZVN1Ym1lbnUoKTtcbiAgICB0aGlzLl8kZWxlbWVudC5yZW1vdmVDbGFzcygnc2lkZWJhci1pdGVtLWV4cGFuZGVkJyk7XG4gIH07XG5cbiAgJHRvZ2dsZSgpIHtcbiAgICB0aGlzLl8kZWxlbWVudC5oYXNDbGFzcygnc2lkZWJhci1pdGVtLWV4cGFuZGVkJykgPyB0aGlzLiRjb2xsYXBzZSgpIDogdGhpcy4kZXhwYW5kKCk7XG4gIH07XG5cbiAgaXNTdGF0ZShzdGF0ZSkge1xuICAgIHJldHVybiBzdGF0ZSAmJiB0aGlzLnN1Ykl0ZW1zU3RhdGVSZWZzLnNvbWUoIHN1Ykl0ZW1TdGF0ZSA9PiB7XG4gICAgICByZXR1cm4gc3RhdGUubmFtZS5pbmRleE9mKHN1Ykl0ZW1TdGF0ZSkgPT0gMDtcbiAgICB9KTtcbiAgfVxuXG4gIC8vIGhhY2s6IGNvbGxhcHNlIG90aGVyIG1lbnUgd2hlbiBleHBhbmQgb25lXG4gIC8vIFRPRE86IHVzZSBkaXJlY3RpdmUgZmV0dXJlLCBubyBlbGVtZW50IG1hbmlwdWxhdGVcbiAgJGNvbGxhcHNlT3RoZXIoZWxlbWVudCkge1xuICAgIGxldCBzaWJsaW5ncyA9IGFuZ3VsYXIuZWxlbWVudChlbGVtZW50KS5zaWJsaW5ncygnLnNpZGViYXItaXRlbS1leHBhbmRlZCcpO1xuICAgIHNpYmxpbmdzLmZpbmQoJy5zaWRlYmFyLXN1Ymxpc3QnKS5oaWRlKCk7XG4gICAgc2libGluZ3MucmVtb3ZlQ2xhc3MoJ3NpZGViYXItaXRlbS1leHBhbmRlZCcpO1xuICB9XG5cbn1cblxuZXhwb3J0IGRlZmF1bHQgTWNTaWRlYmFyVG9nZ2xpbmdJdGVtQ29udHJvbGxlcjtcbiIsImNsYXNzIE1jU2lkZXJiYXJDb250cm9sbGVyIHtcblxuICBjb25zdHJ1Y3Rvcigkc2NvcGUsICRzdGF0ZSwgbWNTaWRlYmFyU2VydmljZSwgUHJvZmlsZVNlcnZpY2UpIHtcbiAgICAnbmdJbmplY3QnO1xuXG4gICAgdGhpcy5tZW51SXRlbXMgPSBtY1NpZGViYXJTZXJ2aWNlLmdldE1lbnVJdGVtcygpO1xuICAgIHRoaXMuaW5mbyA9IHtcbiAgICAgIG5hbWU6ICfmtablj5EgfCDmipXotLfogZTliqgnLFxuICAgICAgYXZhdGFyOiAnL2ltYWdlcy9jb21tb24vbG9nby5wbmcnXG4gICAgfTtcblxuICAgIHRoaXMuYWNjZXNzID0gUHJvZmlsZVNlcnZpY2UuYWNjZXNzO1xuXG4gIH1cblxufVxuXG5mdW5jdGlvbiBNY1NpZGVyYmFyRGlyZWN0aXZlKCkge1xuXG4gIHJldHVybiB7XG4gICAgcmVzdHJpY3Q6ICdFJyxcbiAgICB0ZW1wbGF0ZVVybDogJ2NvcmUvY29tcG9uZW50cy9tY1NpZGViYXIvbWNTaWRlYmFyLmh0bWwnLFxuICAgIGNvbnRyb2xsZXI6IE1jU2lkZXJiYXJDb250cm9sbGVyLFxuICAgIGNvbnRyb2xsZXJBczogJ3NpZGViYXInLFxuICAgIGxpbms6IChzY29wZSwgZWxlbWVudCwgYXR0cnMpID0+IHtcbiAgICAgIGxldCAkc2lkZSA9IGVsZW1lbnRbMF0uY2hpbGROb2Rlc1swXTtcbiAgICAgIHNjb3BlLm1lbnVIZWlnaHQgPSAkc2lkZS5jbGllbnRIZWlnaHQgLSAxNjA7XG4gICAgfVxuICB9O1xuXG59XG5cbmV4cG9ydCBkZWZhdWx0IE1jU2lkZXJiYXJEaXJlY3RpdmU7XG4iLCJjbGFzcyBNY1NpZGViYXJTZXJ2ZXIge1xuXG4gIGNvbnN0cnVjdG9yKCRzdGF0ZSkge1xuICAgICduZ0luamVjdCc7XG5cbiAgICB0aGlzLiRzdGF0ZSA9ICRzdGF0ZTtcbiAgICB0aGlzLnN0YXRpY01lbnVJdGVtcyA9IFtdO1xuICAgIHRoaXMuX2lzTWVudUNvbGxhcHNlZCA9IHRydWU7XG5cbiAgfVxuXG4gIGdldE1lbnVJdGVtcygpIHtcblxuICAgIGxldCBzdGF0ZXMgPSB0aGlzLmRlZmluZU1lbnVJdGVtU3RhdGVzKCk7XG4gICAgLy8gbGV0IG1lbnVJdGVtcyA9IHN0YXRlcy5maWx0ZXIoaXRlbSA9PiBpdGVtLmxldmVsID09IDAgJiYgIShpdGVtLmFjY2Vzc1JvbGVJZHMgJiYgaXRlbS5hY2Nlc3NSb2xlSWRzLmluZGV4T2YodGhpcy5fc2NvcGUuYWNjZXNzQ29udHJvbC5yb2xlX2lkKSA9PSAtMSkgKTtcbiAgICBsZXQgbWVudUl0ZW1zID0gc3RhdGVzLmZpbHRlcihpdGVtID0+IGl0ZW0ubGV2ZWwgPT0gMCk7XG5cbiAgICBtZW51SXRlbXMuZm9yRWFjaCggaXRlbSA9PiB7XG4gICAgICB2YXIgY2hpbGRyZW4gPSBzdGF0ZXMuZmlsdGVyKCBjaGlsZCA9PiB7XG4gICAgICAgIHJldHVybiBjaGlsZC5sZXZlbCA9PSAxICYmIGNoaWxkLm5hbWUuaW5kZXhPZihpdGVtLm5hbWUpID09PSAwO1xuICAgICAgfSk7XG5cbiAgICAgIGl0ZW0uc3ViTWVudSA9IGNoaWxkcmVuLmxlbmd0aCA/IGNoaWxkcmVuIDogbnVsbDtcblxuICAgICAgLy8g55So56ys5LiJ57qn55qE5oyH5a6a5YWl5Y+j5pu/5o2i5LqM57qn5oq96LGh6Lev55SxXG4gICAgICBpdGVtLnN1Yk1lbnUgJiYgaXRlbS5zdWJNZW51LmZvckVhY2goICh0aGlyZCwgaW5kZXgpID0+IHtcbiAgICAgICAgaWYodGhpcmQuZW50cnkpIHtcbiAgICAgICAgICBsZXQgZW50cnkgPSBzdGF0ZXMuZmlsdGVyKHggPT4geC5uYW1lID09PSB0aGlyZC5lbnRyeSk7XG4gICAgICAgICAgaWYoZW50cnkubGVuZ3RoKSB7XG4gICAgICAgICAgICBpdGVtLnN1Yk1lbnVbaW5kZXhdID0gZW50cnlbMF07XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9KTtcblxuICAgIH0pO1xuXG4gICAgcmV0dXJuIG1lbnVJdGVtcy5jb25jYXQodGhpcy5zdGF0aWNNZW51SXRlbXMpO1xuXG4gIH1cblxuICBnZXRBbGxTdGF0ZVJlZnNSZWN1cnNpdmUoaXRlbSkge1xuXG4gICAgcmV0dXJuIHRoaXMuX2l0ZXJhdGVTdWJJdGVtcyhpdGVtKTtcblxuICB9XG5cbiAgZGVmaW5lTWVudUl0ZW1TdGF0ZXMoKSB7XG5cbiAgICByZXR1cm4gdGhpcy4kc3RhdGUuZ2V0KClcbiAgICAgIC5maWx0ZXIoc3RhdGUgPT4ge1xuICAgICAgICByZXR1cm4gc3RhdGUuc2lkZWJhck1ldGE7XG4gICAgICB9KVxuICAgICAgLm1hcChzdGF0ZSA9PiB7XG4gICAgICAgIHZhciBtZXRhID0gc3RhdGUuc2lkZWJhck1ldGE7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgbmFtZTogc3RhdGUubmFtZSxcbiAgICAgICAgICB0aXRsZTogc3RhdGUudGl0bGUsXG4gICAgICAgICAgbGV2ZWw6IChzdGF0ZS5uYW1lLm1hdGNoKC9cXC4vZykgfHwgW10pLmxlbmd0aCxcbiAgICAgICAgICBvcmRlcjogbWV0YS5vcmRlcixcbiAgICAgICAgICBpY29uOiBtZXRhLmljb24sXG4gICAgICAgICAgc3RhdGVSZWY6IHN0YXRlLm5hbWUsXG4gICAgICAgICAgZW50cnk6IG1ldGEuZW50cnksXG4gICAgICAgICAgYWNjZXNzUm9sZUlkczogbWV0YS5hY2Nlc3NSb2xlSWRzLFxuICAgICAgICB9O1xuICAgICAgfSlcbiAgICAgIC5zb3J0KChhLCBiKSA9PiB7XG4gICAgICAgIHJldHVybiAoYS5sZXZlbCAtIGIubGV2ZWwpICogMTAwICsgYS5vcmRlciAtIGIub3JkZXI7XG4gICAgICB9KTtcblxuICB9XG5cblxuICBfaXRlcmF0ZVN1Ykl0ZW1zKGN1cnJlbnRJdGVtKSB7XG5cbiAgICBsZXQgcmVzdWx0ID0gW107XG4gICAgY3VycmVudEl0ZW0uc3ViTWVudSAmJiBjdXJyZW50SXRlbS5zdWJNZW51LmZvckVhY2goc3ViSXRlbSA9PiB7XG4gICAgICBzdWJJdGVtLnN0YXRlUmVmICYmIHJlc3VsdC5wdXNoKHN1Ykl0ZW0uc3RhdGVSZWYpO1xuICAgICAgdGhpcy5faXRlcmF0ZVN1Ykl0ZW1zKHN1Ykl0ZW0pO1xuICAgIH0pO1xuICAgIHJldHVybiByZXN1bHQ7XG5cbiAgfVxuXG59XG5cbmV4cG9ydCBkZWZhdWx0IE1jU2lkZWJhclNlcnZlcjtcbiIsImltcG9ydCBNY1NpZGViYXJUb2dnbGluZ0l0ZW1DdHJsIGZyb20gJy4vaGVscGVycy9tY1NpZGViYXJUb2dnbGluZ0l0ZW0uY3RybCdcblxuZXhwb3J0IGZ1bmN0aW9uIG1jU2lkZWJhclRvZ2dsaW5nSXRlbSgpIHtcbiAgcmV0dXJuIHtcbiAgICByZXN0cmljdDogJ0EnLFxuICAgIGNvbnRyb2xsZXI6IE1jU2lkZWJhclRvZ2dsaW5nSXRlbUN0cmxcbiAgfTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIG1jVWlTcmVmVG9nZ2xpbmdTdWJtZW51KCRzdGF0ZSkge1xuICAnbmdJbmplY3QnO1xuXG4gIHJldHVybiB7XG4gICAgcmVzdHJpY3Q6ICdBJyxcbiAgICByZXF1aXJlOiAnXm1jU2lkZWJhclRvZ2dsaW5nSXRlbScsXG4gICAgbGluazogZnVuY3Rpb24oc2NvcGUsIGVsLCBhdHRycywgbWNTaWRlYmFyVG9nZ2xpbmdJdGVtKSB7XG4gICAgICBtY1NpZGViYXJUb2dnbGluZ0l0ZW0uJCRleHBhbmRTdWJtZW51ID0gKCkgPT4geyBlbC5zbGlkZURvd24oKTsgfTtcbiAgICAgIG1jU2lkZWJhclRvZ2dsaW5nSXRlbS4kJGNvbGxhcHNlU3VibWVudSA9ICgpID0+IHsgZWwuc2xpZGVVcCgpOyB9O1xuICAgIH1cbiAgfTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIG1jVWlTcmVmVG9nZ2xlcihtY1NpZGViYXJTZXJ2aWNlKSB7XG4gICduZ0luamVjdCc7XG5cbiAgcmV0dXJuIHtcbiAgICByZXN0cmljdDogJ0EnLFxuICAgIHJlcXVpcmU6ICdebWNTaWRlYmFyVG9nZ2xpbmdJdGVtJyxcbiAgICBsaW5rOiBmdW5jdGlvbihzY29wZSwgZWwsIGF0dHJzLCBtY1NpZGViYXJUb2dnbGluZ0l0ZW0pIHtcbiAgICAgIGVsLm9uKCdjbGljaycsICgpID0+IHtcbiAgICAgICAgbWNTaWRlYmFyVG9nZ2xpbmdJdGVtLiR0b2dnbGUoKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfTtcblxufVxuIiwiJ3VzZSBzdHJpY3QnO1xuY29uc3QgcHJlZml4ID0gJ2h0dHA6Ly9zaWxhcGkuYWRvYy53YW5nJztcbmNvbnN0IGFwaSA9IHtcblx0Y29uZmlnOiB7XG5cdFx0bGlzdDogYCR7cHJlZml4fS9jbGllbnRfY29uZmlnL2xpc3Qvd2ViYCxcblx0XHRnZXQ6IGAke3ByZWZpeH0vY2xpZW50X2NvbmZpZy9nZXRfc3BlY2lhbC97a2V5fWAsXG5cdFx0c2V0OiBgJHtwcmVmaXh9L2NsaWVudF9jb25maWcvc2V0X3NwZWNpYWxgLFxuXHRcdHJvbGVMaXN0OiBgJHtwcmVmaXh9L2F1dGgvcm9sZV9saXN0YFxuXHR9LFxuXHRtZXNzYWdlOiB7XG5cdFx0Z2V0TGlzdDogYCR7cHJlZml4fS9tZXNzYWdlL2xpc3RgLFxuXHRcdGdldDogYCR7cHJlZml4fS9tZXNzYWdlL3tpZH1gLFxuXHRcdHNldDogYCR7cHJlZml4fS9tZXNzYWdlL3NldGAsXG5cdH0sXG5cdGludmVzdG1lbnQ6IHtcblx0XHRnZXRMaXN0OiBgJHtwcmVmaXh9L3ZjX2NvbXBhbnkvbGlzdGAsXG5cdFx0c2V0OiBgJHtwcmVmaXh9L3ZjX2NvbXBhbnkvc2V0YCxcblx0XHRhZGQ6IGAke3ByZWZpeH0vdmNfY29tcGFueS9hZGRgLFxuXHRcdGRvd25sb2FkVGVtcGxhdGU6IGAke3ByZWZpeH0vZXhwb3J0L3ZjX2NvbXBhbnlfdGVtcGxhdGVgLFxuXHRcdGltcG9ydDogYCR7cHJlZml4fS9pbXBvcnQvdmNfY29tcGFueWAsXG5cdH0sXG5cdGVudGVycHJpc2U6IHtcblx0XHRnZXRMaXN0OiBgJHtwcmVmaXh9L2VudGVycHJpc2UvbGlzdGAsXG5cdFx0Z2V0OiBgJHtwcmVmaXh9L2VudGVycHJpc2Uve2lkfWAsXG5cdFx0c2V0OiBgJHtwcmVmaXh9L2VudGVycHJpc2Uvc2V0YCxcblx0XHRhZGQ6IGAke3ByZWZpeH0vZW50ZXJwcmlzZS9hZGRgLFxuXHR9LFxuXHRwZXJzb246IHtcblx0XHRnZXQ6IGAke3ByZWZpeH0vdXNlci9nZXRgLFxuXHRcdHNldDogYCR7cHJlZml4fS91c2VyL3NldGAsXG5cdFx0bG9nb3V0OiBgJHtwcmVmaXh9L3VzZXIvbG9nb3V0YCxcblx0XHRsaXN0OiBgJHtwcmVmaXh9L3VzZXIvbGlzdGAsXG5cdFx0YWRkOiBgJHtwcmVmaXh9L3VzZXIvYWRkYFxuXHR9LFxuXHRhY2NvdW50OiAge1xuXHRcdGRvd25sb2FkVGVtcGxhdGU6IGAke3ByZWZpeH0vZXhwb3J0L3VzZXJfdGVtcGxhdGVgLFxuXHRcdGltcG9ydDogYCR7cHJlZml4fS9pbXBvcnQvdXNlcmAsXG5cdH0sXG5cdGJhbms6IHtcblx0XHRnZXQ6IGAke3ByZWZpeH0vYmFuay9saXN0YCxcblx0XHRhZGQ6IGAke3ByZWZpeH0vYmFuay9hZGRgLFxuXHRcdHNldDogYCR7cHJlZml4fS9iYW5rL3NldGAsXG5cdFx0ZG93bmxvYWRUZW1wbGF0ZTogYCR7cHJlZml4fS9leHBvcnQvYmFua190ZW1wbGF0ZWAsXG5cdFx0aW1wb3J0OiBgJHtwcmVmaXh9L2ltcG9ydC9iYW5rYFxuXHR9LFxuXHRsb2c6IHtcblx0XHRsaXN0OiBgJHtwcmVmaXh9L2xvZy9saXN0YFxuXHR9LFxuXHRwcm9jZXNzOiB7XG5cdFx0dGlwc0xpc3Q6IGAke3ByZWZpeH0vY21fdGlwL2xpc3RgLFxuXHRcdHRpcHNHZXQ6IGAke3ByZWZpeH0vY21fdGlwL2dldC97aWR9YCxcblx0XHR0aXBzU2V0OiBgJHtwcmVmaXh9L2NtX3RpcC9zZXRgLFxuXHRcdHRpcHNBZGQ6IGAke3ByZWZpeH0vY21fdGlwL2FkZGBcblx0fSxcblx0ZmlsdGVyOiB7XG5cdFx0YmxhY2tsaXN0OiB7XG5cdFx0XHRsaXN0OiBgJHtwcmVmaXh9L2JsYWNrbGlzdC9saXN0YCxcblx0XHRcdGFkZDogYCR7cHJlZml4fS9ibGFja2xpc3QvYWRkYCxcblx0XHRcdGRlbDogYCR7cHJlZml4fS9ibGFja2xpc3QvZGVsYCxcblx0XHR9XG5cdH0sXG5cdGxvYW46IHtcblx0XHRnZXQ6IGAke3ByZWZpeH0vbG9hbl9kZWNpc2lvbi9nZXRfcmVzdWx0YCxcblx0XHRzZXQ6IGAke3ByZWZpeH0vbG9hbl9kZWNpc2lvbi9zZXRfcmVzdWx0YFxuXHR9LFxuXHRhdXRoOiB7XG5cdFx0Z2V0OiBgJHtwcmVmaXh9L2F1dGgvcm9sZV9saXN0YFxuXHR9XG59XG5cbmV4cG9ydCBkZWZhdWx0IGFwaTsiLCJpbXBvcnQgaHR0cEludGVyY2VwdG9yICAgICAgIGZyb20gJy4vc2VydmljZXMvaHR0cC5pbnRlcmNlcHRvcic7XG5cbi8vIGltcG9ydCB7QWxhcm1MaXN0Q29udHJvbGxlciwgQWxhcm1EZXZpY2VDb250cm9sbGVyfSBmcm9tICcuLy4uL21vZHVsZXMvYWxhcm0vaW5kZXgnO1xuXG5mdW5jdGlvbiBjb3JlQ29uZmlnKCRzdGF0ZVByb3ZpZGVyLCAkbG9jYXRpb25Qcm92aWRlciwgJHVybFJvdXRlclByb3ZpZGVyLCAkY29tcGlsZVByb3ZpZGVyLCAkaHR0cFByb3ZpZGVyKSB7XG4gICduZ0luamVjdCc7XG5cbiAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSAncHJvZHVjdGlvbicpIHtcbiAgICAkY29tcGlsZVByb3ZpZGVyLmRlYnVnSW5mb0VuYWJsZWQoZmFsc2UpO1xuICB9XG5cbiAgLy8gJGxvY2F0aW9uUHJvdmlkZXIuaHRtbDVNb2RlKHRydWUpO1xuXG4gICRzdGF0ZVByb3ZpZGVyXG4gICAgLnN0YXRlKCdkYXNoYm9hcmQnLCB7XG4gICAgICAgIHVybDogJy8nLFxuICAgICAgICB0ZW1wbGF0ZTogJzxkYXNoYm9hcmQ+PC9kYXNoYm9hcmQ+JyxcbiAgICAgICAgdGl0bGU6ICfnpL7ljLrkuLvpobUnLFxuICAgICAgICBzaWRlYmFyTWV0YToge1xuICAgICAgICAgIGljb246ICdpY29uLXNpZGViYXJfaG9tZV9pYycsXG4gICAgICAgICAgb3JkZXI6IDFcbiAgICAgICAgfVxuICAgIH0pO1xuXG4gICR1cmxSb3V0ZXJQcm92aWRlci5vdGhlcndpc2UoJy8nKTtcblxuXG4gIC8vIGh0dHAgaW50ZXJjZXB0b3JcbiAgLy9cbiAgLy8gRm9yIHB1cnBvc2VzIG9mIGdsb2JhbCBlcnJvciBoYW5kbGluZywgYXV0aGVudGljYXRpb24sXG4gIC8vIG9yIGFueSBraW5kIG9mIHN5bmNocm9ub3VzIG9yIGFzeW5jaHJvbm91cyBwcmUtcHJvY2Vzc2luZyBvZiByZXF1ZXN0IG9yIHBvc3Rwcm9jZXNzaW5nIG9mIHJlc3BvbnNlc1xuICAkaHR0cFByb3ZpZGVyLmludGVyY2VwdG9ycy5wdXNoKGh0dHBJbnRlcmNlcHRvcik7XG5cbn1cblxuZXhwb3J0IGRlZmF1bHQgY29yZUNvbmZpZztcbiIsImZ1bmN0aW9uIGNvbmZpZ1Byb3ZpZGVyKCkge1xuICAnbmdJbmplY3QnO1xuXG4gIHZhciBjb25mID0ge1xuICAgIHRoZW1lOiB7XG4gICAgICBibHVyOiBmYWxzZVxuICAgIH1cbiAgfTtcblxuICBjb25mLmNoYW5nZVRoZW1lID0gZnVuY3Rpb24odGhlbWUpIHtcbiAgICBhbmd1bGFyLm1lcmdlKGNvbmYudGhlbWUsIHRoZW1lKVxuICB9O1xuXG4gIGNvbmYuJGdldCA9IGZ1bmN0aW9uICgpIHtcbiAgICBkZWxldGUgY29uZi4kZ2V0O1xuICAgIHJldHVybiBjb25mO1xuICB9O1xuICByZXR1cm4gY29uZjtcbn1cblxuZXhwb3J0IGRlZmF1bHQgY29uZmlnUHJvdmlkZXI7XG4iLCJpbXBvcnQgXyBmcm9tICd1bmRlcnNjb3JlJztcblxuY29uc3QgY29yZUNvbnN0YW50cyA9IHtcbiAgYXBwVGl0bGU6ICfnrqHnkIblkI7lj7AnLFxuICBhcGlVcmw6ICcvYXBpL3YxJyxcbiAgZXJyb3JJbmZvOiB7XG4gICAgMDogJ+ivt+axguaIkOWKnycsXG4gICAgNDAwOiAn6K+35rGC5pyJ6K+vJyxcbiAgICA0MDE6ICfor7fmsYLmnInor68nLFxuICAgIDQwMjogJ+aXoOeZu+W9leS/oeaBrycsXG4gICAgNDAzOiAn5Y+C5pWw5LiN5YWoJyxcbiAgICA0MDQ6ICflj4LmlbDmoLzlvI/mnInor68nLFxuICAgIDQwNTogJ+aXoOeZu+W9leS/oeaBrycsXG4gICAgNDA2OiAn5peg55m75b2V5L+h5oGvJyxcbiAgICA0MDc6ICfmsqHmnInmnYPpmZAnLFxuICAgIDUwMDogJ+acjeWKoeWZqOmUmeivr++8jOivt+mHjeivlScsXG4gICAgNTAxOiAn5pyN5Yqh5Zmo6ZSZ6K+vJ1xuICB9LFxuICBkYXRlOiB7XG4gICAgd2Vla3MgOiBbJ+WRqOaXpScsICflkajkuIAnLCAn5ZGo5LqMJywgJ+WRqOS4iScsICflkajlm5snLCAn5ZGo5LqUJywgJ+WRqOWFrSddLFxuICAgIG1vbnRocyA6IF8ucmFuZ2UoMSwgMzIpIC8vIDEtMzHlj7dcbiAgfSxcblxuICBhY2Nlc3NLZXk6ICdyb2xlLmFjY2VzcycsXG4gIHJvbGVMaXN0S2V5OiAncm9sZS5saXN0JyxcbiAgXG4gIC8vYWxhcm1UeXBlTGlzdDogd2luZG93LnBhZ2VDb25mLmFsYXJtVHlwZUxpc3QsXG4gIGNyb3BPcHRpb25zOiB7XG4gICAgbWluQ29udGFpbmVyV2lkdGg6IDE0MFxuICB9LFxuICByb2xlQ29uZmlnOiBbXG4gICAgeyByb2xlX2NvbmZpZ19pZDogMSwgcm9sZV9uYW1lOiAn6LaF57qn566h55CG5ZGYJ30sXG4gICAgLy8geyByb2xlX2NvbmZpZ19pZDogNiwgcm9sZV9uYW1lOiAn5oqk5belJ31cbiAgXSxcbiAgc3RhdHVzTGlzdDogW3t2YWx1ZTogMCwgbmFtZTogJ+W8gOWQryd9LCB7IHZhbHVlOiAxLCBuYW1lOiAn5YWz6ZetJ31dLFxuICBnZW5kZXJMaXN0OiBbe3ZhbHVlOiAxLCBuYW1lOiAn55S3J30sIHt2YWx1ZTogMiwgbmFtZTogJ+Wlsyd9XSxcbiAgcGFnaW5hdGlvbjogeyBwYWdlOiAxLCBwYWdlU2l6ZTogMTggfSwgLy8g6buY6K6k5YiG6aG1XG4gIG1vZGFsQW5pbWF0aW9uOiB0cnVlLFxufTtcblxuZXhwb3J0IGRlZmF1bHQgY29yZUNvbnN0YW50cztcbiIsImltcG9ydCBhbmd1bGFyIGZyb20gJ2FuZ3VsYXInO1xuaW1wb3J0ICdhbmd1bGFyLXVpLWJvb3RzdHJhcCc7XG5pbXBvcnQgJ2FuZ3VsYXItdWktcm91dGVyJztcblxuaW1wb3J0IGNvbnN0YW50cyAgICAgICAgIGZyb20gJy4vY29yZS5jb25zdGFudHMnO1xuaW1wb3J0IGNvbmZpZyAgICAgICAgICAgIGZyb20gJy4vY29yZS5jb25maWcnXG5pbXBvcnQgcnVuICAgICAgICAgICAgICAgZnJvbSAnLi9jb3JlLnJ1bic7XG5pbXBvcnQgY29uZmlnUHJvdmlkZXIgICAgZnJvbSAnLi9jb3JlLmNvbmZpZ1Byb3ZpZGVyJztcbmltcG9ydCBhcGlNYXBcdFx0XHRmcm9tICcuL2NvcmUuYXBpJztcblxuaW1wb3J0IGRpcmVjdGl2ZXNNb2R1bGUgIGZyb20gJy4vZGlyZWN0aXZlcy9kaXJlY3RpdmVzLm1vZHVsZSc7XG5pbXBvcnQgY29tcG9uZW50c01vZHVsZSAgZnJvbSAnLi9jb21wb25lbnRzL2NvbXBvbmVudHMubW9kdWxlJztcbmltcG9ydCBzZXJ2aWNlTW9kdWxlICAgICBmcm9tICcuL3NlcnZpY2VzL3NlcnZpY2UubW9kdWxlJztcbmltcG9ydCB2ZW5kb3JNb2R1bGUgICAgICBmcm9tICcuL3ZlbmRvci92ZW5kb3IubW9kdWxlJztcblxuXG5leHBvcnQgZGVmYXVsdCBhbmd1bGFyLm1vZHVsZSgnYXBwLmNvcmUnLCBbXG4gICd1aS5yb3V0ZXInLFxuICAndWkuYm9vdHN0cmFwJyxcblxuICBkaXJlY3RpdmVzTW9kdWxlLm5hbWUsXG4gIGNvbXBvbmVudHNNb2R1bGUubmFtZSxcbiAgc2VydmljZU1vZHVsZS5uYW1lLFxuICB2ZW5kb3JNb2R1bGUubmFtZVxuXSlcbi5jb25zdGFudCgnQXBwU2V0dGluZ3MnLCBjb25zdGFudHMpXG4uY29uc3RhbnQoJ0FwaU1hcCcsIGFwaU1hcClcbi5wcm92aWRlcignY29yZUNvbmZpZycsIGNvbmZpZ1Byb3ZpZGVyKVxuLmNvbmZpZyhjb25maWcpXG4ucnVuKHJ1bik7XG4iLCJmdW5jdGlvbiBjb3JlUnVuKCRyb290U2NvcGUsIEFwcFNldHRpbmdzLCAkbG9nLCAkc3RhdGUsICRzdGF0ZVBhcmFtcywgJGxvY2F0aW9uLCAkd2luZG93LCAkdGltZW91dCwgdG9hc3RyLCBQcm9maWxlU2VydmljZSkge1xuICAnbmdJbmplY3QnO1xuXG4gIC8vIOaKiuW4uOeUqOeahOW3peWFt+aMgui9veWIsCRyb290U2NvcGXkuIosIOWcqOaJgOaciXNjb3Bl5LiK55u05o6l5Y+v55SoXG4gICRyb290U2NvcGUuJGxvZyA9ICRsb2c7XG4gICRyb290U2NvcGUuJHN0YXRlID0gJHN0YXRlO1xuICAkcm9vdFNjb3BlLiRzdGF0ZVBhcmFtcyA9ICRzdGF0ZVBhcmFtcztcbiAgJHJvb3RTY29wZS4kbG9jYXRpb24gPSAkbG9jYXRpb247XG5cbiAgY29uc3QgYWNjZXNzID0gUHJvZmlsZVNlcnZpY2UuYWNjZXNzO1xuXG4gIC8vIOaJgOacieS6uumDveiDveiuv+mXrueahOeZveWQjeWNleWIl+ihqFxuICBjb25zdCB3aGl0ZUxpc3QgPSBbXG4gICAgJ2Rhc2hib2FyZCdcbiAgXTtcblxuICBjb25zdCB0b2tlbiA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdTSUxfVE9LRU4nKTtcbiAgY29uc3QgdWlkID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ1NJTF9VSUQnKTtcblxuICBpZighdG9rZW4gfHwgIXVpZCkge1xuICAgICR3aW5kb3cubG9jYXRpb24uaHJlZiA9ICcvbG9naW4uaHRtbCc7XG4gIH1cblxuICAvLyAkcm9vdFNjb3BlLiRvbignJHN0YXRlQ2hhbmdlU3RhcnQnLFxuICAvLyAgIChldmVudCwgdG9TdGF0ZSwgdG9QYXJhbXMsIGZyb21TdGF0ZSwgZnJvbVBhcmFtcykgPT4ge1xuICAvLyAgIGlmIChhY2Nlc3NbdG9TdGF0ZS5uYW1lXSB8fCB3aGl0ZUxpc3QuaW5kZXhPZih0b1N0YXRlLm5hbWUpID49IDAgKSB7XG4gIC8vICAgICByZXR1cm47XG4gIC8vICAgfVxuXG4gIC8vICAgdG9hc3RyLmVycm9yKCfpobXpnaLkuI3lrZjlnKjmiJbmsqHmnInmnYPpmZAnLCAnRm9yYmlkZGVuJyk7XG5cbiAgLy8gICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAvLyB9KTtcblxuXG4gIC8vIGNoYW5nZSBwYWdlIHRpdGxlIGJhc2VkIG9uIHN0YXRlXG4gICRyb290U2NvcGUuJG9uKCckc3RhdGVDaGFuZ2VTdWNjZXNzJywgKGV2ZW50LCB0b1N0YXRlKSA9PiB7XG4gICAgJHJvb3RTY29wZS5wYWdlVGl0bGUgPSAnJztcblxuICAgIGlmICh0b1N0YXRlLnRpdGxlKSB7XG4gICAgICAkcm9vdFNjb3BlLnBhZ2VUaXRsZSArPSB0b1N0YXRlLnRpdGxlO1xuICAgICAgJHJvb3RTY29wZS5wYWdlVGl0bGUgKz0gJyBcXHUyMDE0ICc7XG4gICAgfVxuXG4gICAgJHJvb3RTY29wZS5wYWdlVGl0bGUgKz0gQXBwU2V0dGluZ3MuYXBwVGl0bGU7XG5cbiAgICAvLyBoYWNrOiDov5vlhaXpobXpnaLml7bvvIxib2R55LiK5Lya6KKr5re75YqgbW9kYWwtb3Blbiwg5a+86Ie06aG16Z2i5peg5rOV5rua5Yqo77yI5YG25Y+R77yJXG4gICAgJHRpbWVvdXQoKCkgPT4ge1xuICAgICAgYW5ndWxhci5lbGVtZW50KCdib2R5JykuaGFzQ2xhc3MoJ21vZGFsLW9wZW4nKSAmJiBjb25zb2xlLndhcm4oJ21vZGFsLW9wZW4gY2xhc3Mgb24gYm9keSEnKTtcbiAgICAgIGFuZ3VsYXIuZWxlbWVudCgnYm9keScpLnJlbW92ZUNsYXNzKCdtb2RhbC1vcGVuJyk7XG4gICAgfSwgMzAwKTtcblxuICB9KTtcblxuICAvLyDlm57pgIDljoblj7JcbiAgJHJvb3RTY29wZS5iYWNrID0gKCkgPT4ge1xuICAgICR3aW5kb3cuaGlzdG9yeS5nbygtMSk7XG4gIH1cblxuICAvLyDlrqLmiLflpZfppJBcbiAgLy8gJHJvb3RTY29wZS5hY2Nlc3NDb250cm9sID0gQWNjZXNzQ29udHJvbFNlcnZpY2UuZ2V0Q29uZCgpO1xuXG59XG5cbmV4cG9ydCBkZWZhdWx0IGNvcmVSdW47XG4iLCJpbXBvcnQgYW5ndWxhciAgICAgICAgICAgICAgIGZyb20gJ2FuZ3VsYXInO1xuaW1wb3J0IERhdGVQaWNrZXJEaXJlY3RpdmUgICBmcm9tICcuL21jRGF0ZVBpY2tlci9kYXRlcGlja2VyJztcbmltcG9ydCB7bWNVcGxvYWRBdmF0YXJ9ICAgICAgZnJvbSAnLi9tY1VwbG9hZEF2YXRhci91cGxvYWQnO1xuaW1wb3J0IHttY1VwbG9hZEltYWdlfSAgZnJvbSAnLi9tY1VwbG9hZEltYWdlL3VwbG9hZCc7XG5cbmV4cG9ydCBkZWZhdWx0IGFuZ3VsYXIubW9kdWxlKCdhcHAuY29yZS5kaXJlY3RpdmVzJywgW10pXG4gIC5kaXJlY3RpdmUoJ21jRGF0ZXBpY2tlcicsIERhdGVQaWNrZXJEaXJlY3RpdmUpXG4gIC5kaXJlY3RpdmUoJ21jVXBsb2FkQXZhdGFyJywgbWNVcGxvYWRBdmF0YXIpXG4gIC5kaXJlY3RpdmUoJ21jVXBsb2FkSW1hZ2UnLCBtY1VwbG9hZEltYWdlKVxuIiwiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gRGF0ZVBpY2tlckRpcmVjdGl2ZSgkdGltZW91dCkge1xuICAnbmdJbmplY3QnO1xuXG4gIHJldHVybiB7XG4gICAgICAgIHJlc3RyaWN0OiAnRUEnLFxuICAgICAgICB0ZW1wbGF0ZVVybDogJ2NvcmUvZGlyZWN0aXZlcy9tY0RhdGVQaWNrZXIvZGF0ZXBpY2tlci5odG1sJyxcbiAgICAgICAgcmVwbGFjZTogdHJ1ZSxcbiAgICAgICAgc2NvcGU6IHtcbiAgICAgICAgICAgIGlkOiAnQCcsXG4gICAgICAgICAgICBzdGFydERhdGU6ICc9JyxcbiAgICAgICAgICAgIG1pbkRhdGU6ICc9JyxcbiAgICAgICAgICAgIG1heERhdGU6ICc9JyxcbiAgICAgICAgICAgIG1pblZpZXc6ICc9JyxcbiAgICAgICAgICAgIHZpZXc6ICc9JyxcbiAgICAgICAgICAgIGNoYW5nZUJ5OiAnPScsXG4gICAgICAgICAgICBjaGFuZ2VUaW1lOiAnJidcbiAgICAgICAgfSxcbiAgICAgICAgbGluazogKHNjb3BlLCBlbGVtLCBhdHRycykgPT4ge1xuICAgICAgICAgICAgbGV0IHNvdXJjZSA9IGF0dHJzLnRpbWVTb3VyY2UsXG4gICAgICAgICAgICAgICAgY3RybEFsaWFzID0gYXR0cnMuY3RybEFsaWFzLFxuICAgICAgICAgICAgICAgIGlzQ2xvc2VkID0gZmFsc2U7XG5cbiAgICAgICAgICAgIHNjb3BlLnNob3dEYXRlUGlja2VyID0gKGUpID0+IHtcbiAgICAgICAgICAgICAgICBsZXQgdGFyZ2V0ID0gZS5jdXJyZW50VGFyZ2V0O1xuICAgICAgICAgICAgICAgIGlmICh0YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKCdvcGVuJykpIHtcbiAgICAgICAgICAgICAgICAgICAgc2NvcGUuaGlkZURhdGVQaWNrZXIoZSk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdGFyZ2V0LmNsYXNzTGlzdC5hZGQoJ29wZW4nKTtcbiAgICAgICAgICAgICAgICAgICAgLy8gdGFyZ2V0LmNoaWxkcmVuKCdkaXYnKS5jaGlsZHJlbigpLnJlbW92ZUNsYXNzKCdoaWRkZW4nKTtcbiAgICAgICAgICAgICAgICAgICAgbGV0IGNoaWxkcmVuID0gdGFyZ2V0LmNoaWxkcmVuO1xuICAgICAgICAgICAgICAgICAgICBsZXQgY2hpbGQsIGdyYW5kU29uO1xuXG4gICAgICAgICAgICAgICAgICAgIGZvcihsZXQgaSA9IDAsIGxlbiA9IGNoaWxkcmVuLmxlbmd0aDsgaSA8IGxlbjsgaSsrKXtcbiAgICAgICAgICAgICAgICAgICAgICBpZihjaGlsZHJlbltpXSAmJiBjaGlsZHJlbltpXS50YWdOYW1lLnRvVXBwZXJDYXNlKCkgPT0gJ0RJVicpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNoaWxkID0gY2hpbGRyZW5baV07XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuXG5cbiAgICAgICAgICAgICAgICAgICAgZ3JhbmRTb24gPSBjaGlsZC5jaGlsZHJlbjtcblxuICAgICAgICAgICAgICAgICAgICBmb3IobGV0IGkgPSAwLCBsZW4gPSBncmFuZFNvbi5sZW5ndGg7IGkgPCBsZW47IGkrKyl7XG4gICAgICAgICAgICAgICAgICAgICAgZ3JhbmRTb25baV0uY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuXG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgaXNDbG9zZWQgPSBmYWxzZTtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBzY29wZS5oaWRlRGF0ZVBpY2tlciA9IChlKSA9PiB7XG4gICAgICAgICAgICAgIGlzQ2xvc2VkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgaWYoZWxlbS5sZW5ndGgpe1xuICAgICAgICAgICAgICAgIGZvcihsZXQgaSA9IDAsIGxlbiA9IGVsZW0ubGVuZ3RoOyBpIDwgbGVuOyBpKyspe1xuICAgICAgICAgICAgICAgICAgZWxlbVtpXS5jbGFzc0xpc3QucmVtb3ZlKCdvcGVuJyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGVsZW0uY2xhc3NMaXN0LnJlbW92ZSgnb3BlbicpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgc2NvcGUubW91c2VMZWF2ZSA9IChlKSA9PiB7XG4gICAgICAgICAgICAgICAgc2NvcGUuaGlkZURhdGVQaWNrZXIoZSk7XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICBsZXQgdW5iaW5kSGlkZVBpY2tlciA9IHNjb3BlLiRvbignaGlkZVBpY2tlcicsIHNjb3BlLmhpZGVEYXRlUGlja2VyKTtcbiAgICAgICAgICAgIHNjb3BlLiRvbignJGRlc3Ryb3knLCB1bmJpbmRIaWRlUGlja2VyKTtcblxuICAgICAgICAgICAgc2NvcGUuJHdhdGNoKCdzdGFydERhdGUnLCAoKSA9PiB7XG5cbiAgICAgICAgICAgICAgICAvLyDln7rkuo5zY29wZS4kcGFyZW50LiRjdHJsXG4gICAgICAgICAgICAgICAgLy8g5q2k5aSE5qC55o2u5piv5ZCm5pyJ5omL5Yqo5Lyg5YWldGltZS1zb3VyY2Us5p2l5Yqo5oCB5oyH5a6a5pe26Ze05Y+Y6YePXG4gICAgICAgICAgICAgICAgLy8g6buY6K6k6K6+572uc3RhcnREYXRlXG4gICAgICAgICAgICAgICAgaWYoIHNvdXJjZSApe1xuICAgICAgICAgICAgICAgICAgICBsZXQgdGltZVZhciA9IGdldFNvdXJjZSgpO1xuICAgICAgICAgICAgICAgICAgICB0aW1lVmFyID0gc2NvcGUuc3RhcnREYXRlO1xuICAgICAgICAgICAgICAgIH1lbHNle1xuICAgICAgICAgICAgICAgICAgICBzY29wZS4kcGFyZW50W2N0cmxBbGlhcyA/IGN0cmxBbGlhcyA6ICckY3RybCddLnN0YXJ0RGF0ZSA9IHNjb3BlLnN0YXJ0RGF0ZTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAvLyBUT0RPOiBjaGFuZ2VPbkluaXQ6IOaYr+WQpuWcqOmhtemdouWIneWni+WMluaXtuinpuWPkVxuXG4gICAgICAgICAgICAgICAgLy8gY2hhbmdlQnk6ICdjbG9zZScsIOWmguaMh+WummNoYW5nZUJ5LCDliJnlj6rlnKjor6V0eXBl5Y+Y5YyW5pe25omN6Kem5Y+R5LqL5Lu2XG4gICAgICAgICAgICAgICAgaWYoYXR0cnMuY2hhbmdlQnkpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYoYXR0cnMuY2hhbmdlQnkgPT09ICdjbG9zZScgJiYgaXNDbG9zZWQpIHsgLy8g5b2T6Z2i5p2/5YWz6Zet5pe25omN6Kem5Y+R5LqL5Lu2XG4gICAgICAgICAgICAgICAgICAgICAgICAkdGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2NvcGUuY2hhbmdlVGltZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSwgMCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9ZWxzZXtcbiAgICAgICAgICAgICAgICAgICAgJHRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgc2NvcGUuY2hhbmdlVGltZSgpO1xuICAgICAgICAgICAgICAgICAgICB9LDApO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIGZ1bmN0aW9uIGdldFNvdXJjZSgpe1xuICAgICAgICAgICAgICAgIGxldCBhcnIgPSBzb3VyY2Uuc3BsaXQoJy4nKSxcbiAgICAgICAgICAgICAgICAgICAgb2JqID0gc2NvcGUuJHBhcmVudFtjdHJsQWxpYXMgPyBjdHJsQWxpYXMgOiAnJGN0cmwnXTtcblxuICAgICAgICAgICAgICAgIGZvciggbGV0IGkgPSAwICwgbCA9IGFyci5sZW5ndGggOyBpIDwgbCA7IGkrKyApe1xuICAgICAgICAgICAgICAgICAgICBvYmogPSBvYmpbIGFycltpXSBdO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gb2JqO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvL+iOt+WPlnBhcmVudEN0cmzml7bpl7TngrlcbiAgICAgICAgICAgIGxldCB1bmJpbmRUb0NoaWxkID0gc2NvcGUuJG9uKCd0by1jaGlsZCcsKCkgPT4ge1xuICAgICAgICAgICAgICAgIC8vYXJndW1lbnRzWzFdIGV4YW1wbGU6IDIwMTUtMDEtMTVcbiAgICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZyggYXJndW1lbnRzICk7XG4gICAgICAgICAgICAgICAgc2NvcGUuc3RhcnREYXRlID0gYXJndW1lbnRzWzFdO1xuICAgICAgICAgICAgICAgIHNjb3BlLm1pbkRhdGUgPSBhcmd1bWVudHNbMl07XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHNjb3BlLiRvbignJGRlc3Ryb3knLCB1bmJpbmRUb0NoaWxkKTtcblxuICAgICAgICB9XG4gICAgfTtcbn07XG4iLCJpbXBvcnQgYW5ndWxhciBmcm9tICdhbmd1bGFyJztcblxuY2xhc3MgZWRpdEF2YXRhckN0cmwge1xuICBjb25zdHJ1Y3RvciAoJHNjb3BlLCAkdGltZW91dCwgQ3JvcHBlciwgQXBwU2V0dGluZ3MpIHtcbiAgICAnbmdJbmplY3QnO1xuXG4gICAgdGhpcy5fc2NvcGUgPSAkc2NvcGU7XG4gICAgdGhpcy5fdGltZW91dCA9ICR0aW1lb3V0O1xuICAgIHRoaXMuX0Nyb3BwZXIgPSBDcm9wcGVyO1xuXG5cbiAgICBsZXQgb3B0aW9ucyA9IGFuZ3VsYXIubWVyZ2Uoe30sIHtcbiAgICAgICAgbWF4aW1pemU6IHRydWUsXG4gICAgICAgIHByZXZpZXc6ICcucHJldmlldy1hdmF0YXIgZGl2JyxcbiAgICAgICAgLy8gcmVzcG9uc2l2ZTogZmFsc2UsXG4gICAgICAgIGFzcGVjdFJhdGlvOiAxIC8gMSxcbiAgICAgICAgY3JvcDogZGF0YU5ldyA9PiB7XG4gICAgICAgICAgZGF0YU5ldy54ID0gZGF0YU5ldy54IDwgMCA/IDAgOiBkYXRhTmV3Lng7XG4gICAgICAgICAgZGF0YU5ldy55ID0gZGF0YU5ldy55IDwgMCA/IDAgOiBkYXRhTmV3Lnk7XG5cbiAgICAgICAgICB0aGlzLl90aW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgIHRoaXMuX3Njb3BlLmRhdGEgPSBkYXRhTmV3O1xuICAgICAgICAgIH0pO1xuICAgICAgICAgIC8vIGNvbnNvbGUubG9nKCRzY29wZS5kYXRhKTtcbiAgICAgICAgfVxuICAgICAgfSwgQXBwU2V0dGluZ3MuY3JvcE9wdGlvbnMsIHRoaXMuX3Njb3BlLmNyb3BPcHRpb25zKTtcblxuICAgIGFuZ3VsYXIuZXh0ZW5kKCRzY29wZSwge1xuICAgICAgICBwcm9wb3J0aW9uOiAxNDAvMTgwLFxuICAgICAgICBvbkZpbGU6IHRoaXMub25GaWxlLmJpbmQodGhpcyksXG4gICAgICAgIHByZXZpZXc6IHt9LFxuICAgICAgICBjcm9wcGVyOiB7fSxcbiAgICAgICAgY3JvcHBlclByb3h5OiAnY3JvcHBlci5maXJzdCcsXG4gICAgICAgIGZpbGU6ICcnLFxuICAgICAgICBkYXRhOiAnJyxcbiAgICAgICAgc2hvd0V2ZW50OiAnc2hvdycsXG4gICAgICAgIGhpZGVFdmVudDogJ2hpZGUnLFxuICAgICAgICBvcHRpb25zOiBvcHRpb25zXG4gICAgfSk7XG4gICAgLy8gdGhpcy5fRHJvcHpvbmUgPSBEcm9wem9uZTtcbiAgfVxuXG4gICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tIG1ldGhvZCAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbiAgY2xvc2UoKXtcbiAgICAgIC8vICRtb2RhbEluc3RhbmNlLmNsb3NlKCk7XG4gIH1cblxuICBzZWxlY3RGaWxlKCl7XG4gICAgICBsZXQgZm9ybSA9IGFuZ3VsYXIuZWxlbWVudCgnLmRyb3B6b25lJyk7XG4gICAgICB0aGlzLnJlc2V0U2VsZWN0KCBmb3JtICk7XG4gICAgICBmb3JtLnRyaWdnZXIoJ2NsaWNrJyk7XG4gIH1cblxuICByZXNldFNlbGVjdCggZm9ybSApe1xuICAgICAgZm9ybS5zY29wZSgpLmRyb3B6b25lLnJlbW92ZUFsbEZpbGVzKCk7XG4gIH1cblxuICAvKipcbiAgICogTWV0aG9kIGlzIGNhbGxlZCBldmVyeSB0aW1lIGZpbGUgaW5wdXQncyB2YWx1ZSBjaGFuZ2VzLlxuICAgKiBCZWNhdXNlIG9mIEFuZ3VsYXIgaGFzIG5vdCBuZy1jaGFuZ2UgZm9yIGZpbGUgaW5wdXRzIGEgaGFjayBpcyBuZWVkZWQgLVxuICAgKiBjYWxsIGBhbmd1bGFyLmVsZW1lbnQodGhpcykuc2NvcGUoKS5vbkZpbGUodGhpcy5maWxlc1swXSlgXG4gICAqIHdoZW4gaW5wdXQncyBldmVudCBpcyBmaXJlZC5cbiAgICovXG4gIG9uRmlsZShibG9iKSB7XG4gICAgdGhpcy5fQ3JvcHBlci5lbmNvZGUoKHRoaXMuX3Njb3BlLmZpbGUgPSBibG9iKSkudGhlbihkYXRhVXJsID0+IHtcbiAgICAgIHRoaXMuX3Njb3BlLmRhdGFVcmwgPSBkYXRhVXJsO1xuICAgICAgKHRoaXMuX3Njb3BlLnByZXZpZXcgfHwgKHRoaXMuX3Njb3BlLnByZXZpZXcgPSB7fSkpLmRhdGFVcmwgPSBkYXRhVXJsO1xuICAgICAgdGhpcy5fdGltZW91dCh0aGlzLnNob3dDcm9wcGVyLmJpbmQodGhpcykpOyAgLy8gd2FpdCBmb3IgJGRpZ2VzdCB0byBzZXQgaW1hZ2UncyBzcmNcbiAgICAgIHRoaXMuX3RpbWVvdXQodGhpcy5oaWRlQ3JvcHBlci5iaW5kKHRoaXMpKTtcbiAgICB9KTtcbiAgfTtcblxuXG4gIC8qKlxuICAgKiBTaG93aW5nIChpbml0aWFsaXppbmcpIGFuZCBoaWRpbmcgKGRlc3Ryb3lpbmcpIG9mIGEgY3JvcHBlciBhcmUgc3RhcnRlZCBieVxuICAgKiBldmVudHMuIFRoZSBzY29wZSBvZiB0aGUgYG5nLWNyb3BwZXJgIGRpcmVjdGl2ZSBpcyBkZXJpdmVkIGZyb20gdGhlIHNjb3BlIG9mXG4gICAqIHRoZSBjb250cm9sbGVyLiBXaGVuIGluaXRpYWxpemluZyB0aGUgYG5nLWNyb3BwZXJgIGRpcmVjdGl2ZSBhZGRzIHR3byBoYW5kbGVyc1xuICAgKiBsaXN0ZW5pbmcgdG8gZXZlbnRzIHBhc3NlZCBieSBgbmctY3JvcHBlci1zaG93YCAmIGBuZy1jcm9wcGVyLWhpZGVgIGF0dHJpYnV0ZXMuXG4gICAqIFRvIHNob3cgb3IgaGlkZSBhIGNyb3BwZXIgYCRicm9hZGNhc3RgIGEgcHJvcGVyIGV2ZW50LlxuICAgKi9cbiAgc2hvd0Nyb3BwZXIoKSB7XG4gICB0aGlzLl9zY29wZS4kYnJvYWRjYXN0KHRoaXMuX3Njb3BlLnNob3dFdmVudCk7XG4gIH1cbiAgaGlkZUNyb3BwZXIoKSB7XG4gICB0aGlzLl9zY29wZS4kYnJvYWRjYXN0KHRoaXMuX3Njb3BlLmhpZGVFdmVudCk7XG4gIH1cblxufVxuXG5leHBvcnQgZGVmYXVsdCBlZGl0QXZhdGFyQ3RybDtcbiIsImltcG9ydCAkIGZyb20gJ2pxdWVyeSc7XG5cbmltcG9ydCBlZGl0QXZhdGFyQ3RybCBmcm9tICcuL2N0cmwnO1xuLy8gaW1wb3J0IERyb3B6b25lIGZyb20gJ2Ryb3B6b25lJztcblxuLyoqXG4gKiBAbmdJbmplY3RcbiAqIEBkZXNjcmlwdGlvbiDkuIrkvKDlpLTlg49cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIG1jVXBsb2FkQXZhdGFyKCRsb2NhdGlvbiwgJHJvb3RTY29wZSwgJHRpbWVvdXQsIHRvYXN0ciwgQ3JvcHBlcikge1xuICAgIHJldHVybiB7XG4gICAgICAgIHJlc3RyaWN0OiAnRUEnLFxuICAgICAgICB0ZW1wbGF0ZVVybDogJ2NvcmUvZGlyZWN0aXZlcy9tY1VwbG9hZEF2YXRhci91cGxvYWQuaHRtbCcsXG4gICAgICAgIHJlcGxhY2U6IHRydWUsXG4gICAgICAgIGNvbnRyb2xsZXI6IGVkaXRBdmF0YXJDdHJsLFxuICAgICAgICBjb250cm9sbGVyQXM6ICdhdmF0YXJWbScsXG4gICAgICAgIHNjb3BlOiB7XG4gICAgICAgICAgICB1cmw6ICc9cG9zdFVybCcsXG4gICAgICAgICAgICBwYXJhbXM6ICc9aW1nUGFyYW1zJyxcbiAgICAgICAgICAgIGltZ05hbWU6ICc9aW1nTmFtZScsXG4gICAgICAgICAgICBjcm9wT3B0aW9uczogJz0nLFxuICAgICAgICAgICAgaW1nVXJsOiAnPScsXG4gICAgICAgICAgICBpc0VkaXRpbmc6ICc9JyxcbiAgICAgICAgICAgIHN1Y2Nlc3M6ICcmJyxcbiAgICAgICAgICAgIGVycm9yOiAnJicsXG4gICAgICAgICAgICBleHBvc2VTY29wZTogJyYnXG4gICAgICAgIH0sXG4gICAgICAgIGNvbXBpbGU6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgcHJlOiBmdW5jdGlvbiAoc2NvcGUsIGVsZW0pIHtcbiAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHNjb3BlLmlzRWRpdGluZylcblxuICAgICAgICAgICAgICAgICAgICBEcm9wem9uZS5hdXRvRGlzY292ZXIgPSBmYWxzZTtcblxuICAgICAgICAgICAgICAgICAgICBzY29wZS50aHVtYlN0YXJ0ID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIHNjb3BlLmJhclR5cGUgPSBcInN1Y2Nlc3NcIjtcbiAgICAgICAgICAgICAgICAgICAgc2NvcGUucGVuc2lvbkluZm8gPSB3aW5kb3cucGFnZUNvbmYucGVuc2lvbkluZm87XG5cbiAgICAgICAgICAgICAgICAgICAgc2NvcGUuc2F2ZWRBdmF0YXIgPSAgKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGRyb3B6b25lID0gYW5ndWxhci5lbGVtZW50KCcuZHJvcHpvbmUnKS5zY29wZSgpLmRyb3B6b25lLnByb2Nlc3NRdWV1ZSgpO1xuICAgICAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgICAgIHNjb3BlLnJlc2V0VXBsb2FkID0gKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgc2NvcGUudXBsb2FkZWQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNjb3BlLmR5bmFtaWMgPSAwO1xuICAgICAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgICAgIHNjb3BlLmRyb3B6b25lQ29uZmlnID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgcGFyYW1OYW1lOiBzY29wZS5pbWdOYW1lIHx8ICdpbWFnZXMnLFxuICAgICAgICAgICAgICAgICAgICAgICAgaGVhZGVyczoge2F1dGhvcml6YXRpb246ICRyb290U2NvcGUuQVVUSE9SSVpBVElPTl9UT0tFTn0sXG4gICAgICAgICAgICAgICAgICAgICAgICB1cmw6IHNjb3BlLnVybCxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1ldGhvZDogJ3Bvc3QnLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWF4RmlsZXNpemU6IDIsXG4gICAgICAgICAgICAgICAgICAgICAgICBtYXhGaWxlczogMSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGRpY3RGaWxlVG9vQmlnOiAn5paH5Lu25aSn5bCP5LiN6IO96LaF6L+HMk0nLFxuICAgICAgICAgICAgICAgICAgICAgICAgdXBsb2FkTXVsdGlwbGU6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgYXV0b1Byb2Nlc3NRdWV1ZTogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgICAgICBhY2NlcHRlZEZpbGVzOiAnaW1hZ2UvKicsXG4gICAgICAgICAgICAgICAgICAgICAgICBhZGRlZGZpbGU6IGZpbGUgPT4ge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8g5YWI5LiK5LygXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gaWYoICFmaWxlICkgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHZhciBjU2l6ZSA9IGZpbGUuc2l6ZSAvIDEwMjQgLyAxMDI0O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGlmKCBjU2l6ZSA+IHRoaXMub3B0aW9ucy5tYXhGaWxlc2l6ZSApe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgICB2YXIgZXJyb3JfbXNnID0gXCLlm77niYflpKflsI/kuI3og73otoXov4c1TeWZon5cIjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAgICAgdG9hc3RyLmVycm9yKCBlcnJvcl9tc2cgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyB9O1xuXG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzY29wZS5yZXNldFVwbG9hZCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFuZ3VsYXIuZWxlbWVudCgnI0pTX2F2YXRhcl9pbnB1dCcpLnNjb3BlKCkub25GaWxlKGZpbGUpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2NvcGUuJGFwcGx5KCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNjb3BlLmV4cG9zZVNjb3BlKHtzY29wZX0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gdXBsb2FkcHJvZ3Jlc3M6IGZ1bmN0aW9uIChmaWxlLCBwcm9ncmVzcykge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyAgICAgc2NvcGUuJGFwcGx5KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgICAgICAgc2NvcGUuZHluYW1pYyA9IHByb2dyZXNzO1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gZXJyb3I6IGZ1bmN0aW9uIChmaWxlLCBlcnJvck1lc3NhZ2UpIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgIHNjb3BlLiRwYXJlbnQuaXNDcm9wID0gZmFsc2U7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgICB0aGlzLnJlbW92ZUZpbGUoZmlsZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyAgICAgc2NvcGUuJGFwcGx5KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgICAgICAgc2NvcGUuZXJyb3IoZmlsZSwgZXJyb3JNZXNzYWdlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgICAgICAgdG9hc3RyLmVycm9yKGVycm9yTWVzc2FnZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyB9LFxuXG4gICAgICAgICAgICAgICAgICAgICAgICB1cGxvYWRwcm9ncmVzczogKGZpbGUsIHByb2dyZXNzKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2NvcGUuaW1nVXBsb2FkbmcgPSB0cnVlO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2NvcGUuJGFwcGx5KCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2NvcGUudGh1bWJTdGFydCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzY29wZS5keW5hbWljID0gcHJvZ3Jlc3M7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgZXJyb3I6IGZ1bmN0aW9uKGZpbGUsIGVycm9yTWVzc2FnZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNjb3BlLmltZ1VwbG9hZG5nID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5yZW1vdmVGaWxlKGZpbGUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNjb3BlLiRhcHBseSgoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNjb3BlLnRodW1iU3RhcnQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2NvcGUuZXJyb3IoZmlsZSwgZXJyb3JNZXNzYWdlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9hc3RyLmVycm9yKGVycm9yTWVzc2FnZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgc3VjY2VzczogZnVuY3Rpb24oZmlsZSwgZGF0YSkge1xuXG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnJlbW92ZUZpbGUoZmlsZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2NvcGUuJGFwcGx5KCAoKSA9PiB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNjb3BlLnRodW1iU3RhcnQgPSBmYWxzZTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYoIGRhdGEuc3RhdHVzID09IDAgKXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzY29wZS51cGxvYWRlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2NvcGUuc3VjY2Vzcyh7ZmlsZTogZmlsZSwgZGF0YTogZGF0YSwgc2NvcGU6IHNjb3BlfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gaW5zdGFjZS5jbG9zZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfWVsc2V7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9hc3RyLmVycm9yKGRhdGEuaW5mbywgJ+mUmeivrycpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNjb3BlLnJlc2V0VXBsb2FkKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBpZiggZGF0YS5zdGF0dXMgPT0gMCApe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAgICAgc2NvcGUudXBsb2FkZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAgICAgc2NvcGUuc3VjY2Vzcyh7ZmlsZTogZmlsZSwgZGF0YTogZGF0YSwgc2NvcGU6IHNjb3BlfSk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgIHNjb3BlLiRwYXJlbnQuaXNDcm9wID0gdHJ1ZTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAgICAgLy8g5Zu+54mH6KOB5YmqXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgICBzY29wZS5yZXNldFVwbG9hZCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAgICAgYW5ndWxhci5lbGVtZW50KCcjSlNfYXZhdGFyX2lucHV0Jykuc2NvcGUoKS5vbkZpbGUoZmlsZSk7XG5cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyB9ZWxzZXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgIHRvYXN0ci5lcnJvcihkYXRhLmluZm8sICfplJnor68nKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgIHNjb3BlLnJlc2V0VXBsb2FkKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgICBzY29wZS4kcGFyZW50LmlzQ3JvcCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG5cbn1cblxuIiwiaW1wb3J0ICQgZnJvbSAnanF1ZXJ5JztcblxuaW1wb3J0IGVkaXRBdmF0YXJDdHJsIGZyb20gJy4vY3RybCc7XG4vLyBpbXBvcnQgRHJvcHpvbmUgZnJvbSAnZHJvcHpvbmUnO1xuXG4vKipcbiAqIEBuZ0luamVjdFxuICogQGRlc2NyaXB0aW9uIOS4iuS8oOWktOWDj1xuICovXG5leHBvcnQgZnVuY3Rpb24gbWNVcGxvYWRJbWFnZSgkbG9jYXRpb24sICRyb290U2NvcGUsICR0aW1lb3V0LCB0b2FzdHIsIENyb3BwZXIpIHtcbiAgICByZXR1cm4ge1xuICAgICAgICByZXN0cmljdDogJ0VBJyxcbiAgICAgICAgdGVtcGxhdGVVcmw6ICdjb3JlL2RpcmVjdGl2ZXMvbWNVcGxvYWRJbWFnZS91cGxvYWQuaHRtbCcsXG4gICAgICAgIHJlcGxhY2U6IHRydWUsXG4gICAgICAgIGNvbnRyb2xsZXI6IGVkaXRBdmF0YXJDdHJsLFxuICAgICAgICBjb250cm9sbGVyQXM6ICdhdmF0YXJWbScsXG4gICAgICAgIHNjb3BlOiB7XG4gICAgICAgICAgICB1cmw6ICc9cG9zdFVybCcsXG4gICAgICAgICAgICBwYXJhbXM6ICc9aW1nUGFyYW1zJyxcbiAgICAgICAgICAgIGltZ05hbWU6ICc9aW1nTmFtZScsXG4gICAgICAgICAgICBjcm9wT3B0aW9uczogJz0nLFxuICAgICAgICAgICAgaW1nVXJsOiAnPScsXG4gICAgICAgICAgICBzdWNjZXNzOiAnJicsXG4gICAgICAgICAgICBlcnJvcjogJyYnLFxuICAgICAgICAgICAgZXhwb3NlU2NvcGU6ICcmJyxcbiAgICAgICAgICAgIGVkaXRpbmc6ICc9J1xuICAgICAgICB9LFxuICAgICAgICBjb21waWxlOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIHByZTogZnVuY3Rpb24gKHNjb3BlLCBlbGVtKSB7XG4gICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhzY29wZS5lZGl0aW5nKTtcblxuICAgICAgICAgICAgICAgICAgICBEcm9wem9uZS5hdXRvRGlzY292ZXIgPSBmYWxzZTtcblxuICAgICAgICAgICAgICAgICAgICBzY29wZS50aHVtYlN0YXJ0ID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIHNjb3BlLmJhclR5cGUgPSBcInN1Y2Nlc3NcIjtcbiAgICAgICAgICAgICAgICAgICAgc2NvcGUucGVuc2lvbkluZm8gPSB3aW5kb3cucGFnZUNvbmYucGVuc2lvbkluZm87XG5cbiAgICAgICAgICAgICAgICAgICAgc2NvcGUuc2F2ZWRBdmF0YXIgPSAgKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGRyb3B6b25lID0gYW5ndWxhci5lbGVtZW50KCcuZHJvcHpvbmUnKS5zY29wZSgpLmRyb3B6b25lLnByb2Nlc3NRdWV1ZSgpO1xuICAgICAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgICAgIHNjb3BlLnJlc2V0VXBsb2FkID0gKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgc2NvcGUudXBsb2FkZWQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNjb3BlLmR5bmFtaWMgPSAwO1xuICAgICAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgICAgIHNjb3BlLmRyb3B6b25lQ29uZmlnID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgcGFyYW1OYW1lOiBzY29wZS5pbWdOYW1lIHx8ICdpbWFnZXMnLFxuICAgICAgICAgICAgICAgICAgICAgICAgaGVhZGVyczoge2F1dGhvcml6YXRpb246ICRyb290U2NvcGUuQVVUSE9SSVpBVElPTl9UT0tFTn0sXG4gICAgICAgICAgICAgICAgICAgICAgICB1cmw6IHNjb3BlLnVybCxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1ldGhvZDogJ3Bvc3QnLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWF4RmlsZXNpemU6IDIsXG4gICAgICAgICAgICAgICAgICAgICAgICBtYXhGaWxlczogMSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGRpY3RGaWxlVG9vQmlnOiAn5paH5Lu25aSn5bCP5LiN6IO96LaF6L+HMk0nLFxuICAgICAgICAgICAgICAgICAgICAgICAgdXBsb2FkTXVsdGlwbGU6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgYXV0b1Byb2Nlc3NRdWV1ZTogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgICAgICBhY2NlcHRlZEZpbGVzOiAnaW1hZ2UvKicsXG4gICAgICAgICAgICAgICAgICAgICAgICBhZGRlZGZpbGU6IGZpbGUgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNjb3BlLnJlc2V0VXBsb2FkKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYW5ndWxhci5lbGVtZW50KCcjSlNfYXZhdGFyX2lucHV0Jykuc2NvcGUoKS5vbkZpbGUoZmlsZSk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzY29wZS4kYXBwbHkoKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2NvcGUuZXhwb3NlU2NvcGUoe3Njb3BlfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICB1cGxvYWRwcm9ncmVzczogKGZpbGUsIHByb2dyZXNzKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2NvcGUuaW1nVXBsb2FkbmcgPSB0cnVlO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2NvcGUuJGFwcGx5KCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2NvcGUudGh1bWJTdGFydCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzY29wZS5keW5hbWljID0gcHJvZ3Jlc3M7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgZXJyb3I6IGZ1bmN0aW9uKGZpbGUsIGVycm9yTWVzc2FnZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNjb3BlLmltZ1VwbG9hZG5nID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5yZW1vdmVGaWxlKGZpbGUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNjb3BlLiRhcHBseSgoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNjb3BlLnRodW1iU3RhcnQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2NvcGUuZXJyb3IoZmlsZSwgZXJyb3JNZXNzYWdlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9hc3RyLmVycm9yKGVycm9yTWVzc2FnZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgc3VjY2VzczogZnVuY3Rpb24oZmlsZSwgZGF0YSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucmVtb3ZlRmlsZShmaWxlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzY29wZS4kYXBwbHkoICgpID0+IHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2NvcGUudGh1bWJTdGFydCA9IGZhbHNlO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiggZGF0YS5zdGF0dXMgPT0gMCApe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNjb3BlLnVwbG9hZGVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzY29wZS5zdWNjZXNzKHtmaWxlOiBmaWxlLCBkYXRhOiBkYXRhLCBzY29wZTogc2NvcGV9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBpbnN0YWNlLmNsb3NlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9ZWxzZXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b2FzdHIuZXJyb3IoZGF0YS5pbmZvLCAn6ZSZ6K+vJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2NvcGUucmVzZXRVcGxvYWQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcblxufVxuXG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBjaGVja1N0YXRlU2VydmljZSB7XG5cbiAgY29uc3RydWN0b3IoJHJvb3RTY29wZSwgJHN0YXRlLCBzd2VldCwgdXRpbFNlcnZpY2UpIHtcbiAgICAnbmdJbmplY3QnO1xuXG4gICAgdGhpcy5fcm9vdFNjb3BlID0gJHJvb3RTY29wZTtcbiAgICB0aGlzLl9zdGF0ZSA9ICRzdGF0ZTtcbiAgICB0aGlzLl9zd2VldCA9IHN3ZWV0O1xuICAgIHRoaXMuX3V0aWxTZXJ2aWNlID0gdXRpbFNlcnZpY2U7XG5cbiAgfVxuXG4gIGZvcm1TdGF0ZUNoYW5nZShzY29wZSwgZm9ybU5hbWUpIHtcblxuICAgIHZhciByZW1vdmVMaXN0ZW5lciA9IHRoaXMuX3Jvb3RTY29wZS4kb24oJyRzdGF0ZUNoYW5nZVN0YXJ0JyxcbiAgICAgIChldmVudCwgdG9TdGF0ZSwgdG9QYXJhbXMsIGZyb21TdGF0ZSwgZnJvbVBhcmFtcykgPT4ge1xuXG4gICAgICB2YXIgZm9ybSA9IGZvcm1OYW1lLnNwbGl0KCcuJykubGVuZ3RoID4gMSA/IHRoaXMuX3V0aWxTZXJ2aWNlLmdldERlc2NlbmRhbnRQcm9wKHNjb3BlLCBmb3JtTmFtZSk6IHNjb3BlW2Zvcm1OYW1lXTtcbiAgICAgIC8vIOayoeacieS/ruaUuei/h1xuICAgICAgaWYoIWZvcm0gfHwgKGZvcm0gJiYgZm9ybS4kcHJpc3RpbmUpKSB7IHJldHVybjsgfVxuXG4gICAgICB0aGlzLmxlYXZlQ29uZmlybSggaXNDb25maXJtID0+IHtcbiAgICAgICAgaWYgKCFpc0NvbmZpcm0pIHtcbiAgICAgICAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vYW5ndWxhci11aS91aS1yb3V0ZXIvaXNzdWVzLzExNThcbiAgICAgICAgICB0aGlzLl9zdGF0ZS5nbyh0b1N0YXRlLm5hbWUsIHRvUGFyYW1zLCB7bm90aWZ5OiBmYWxzZX0pLnRoZW4oKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5fcm9vdFNjb3BlLiRicm9hZGNhc3QoJyRzdGF0ZUNoYW5nZVN1Y2Nlc3MnLCB0b1N0YXRlLCB0b1BhcmFtcywgZnJvbVN0YXRlLCBmcm9tUGFyYW1zKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfSk7XG5cbiAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgfSk7XG5cbiAgICBzY29wZS4kb24oJyRkZXN0cm95JywgcmVtb3ZlTGlzdGVuZXIpO1xuXG4gIH1cblxuICBsZWF2ZUNvbmZpcm0oY2IpIHtcblxuICAgIHRoaXMuX3N3ZWV0LnNob3coe1xuICAgICAgdGl0bGU6ICfmj5DnpLonLFxuICAgICAgdGV4dDogJ+W9k+WJjeS/oeaBr+WwmuacquS/neWtmO+8jOaYr+WQpuemu+W8gOatpOmhtemdou+8nycsXG4gICAgICB0eXBlOiAnd2FybmluZycsXG4gICAgICBzaG93Q2FuY2VsQnV0dG9uOiB0cnVlLFxuICAgICAgY29uZmlybUJ1dHRvblRleHQ6ICfnlZnkuIsnLFxuICAgICAgY2FuY2VsQnV0dG9uVGV4dDogJ+emu+W8gCdcbiAgICB9LCBzdXJlID0+IGNiKHN1cmUpKTtcblxuICB9XG5cbn1cbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIGhpc3RvcnlTZXJ2aWNle1xuXG4gIGNvbnN0cnVjdG9yKCR3aW5kb3cpIHtcbiAgICAnbmdJbmplY3QnO1xuICAgIHRoaXMuX3dpbmRvdyA9ICR3aW5kb3c7XG4gIH1cbiAgYmFjaygpIHtcbiAgICB0aGlzLl93aW5kb3cuaGlzdG9yeS5iYWNrKCk7XG4gIH1cbn1cbiIsImV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGh0dHBJbnRlcmNlcHRvcigkcSwgJHdpbmRvdywgJGluamVjdG9yLCAkcm9vdFNjb3BlKSB7XG4gICduZ0luamVjdCc7XG5cbiAgY29uc3QgcmVxdWVzdEludGVyY2VwdG9yID0ge1xuXG4gICAgICByZXNwb25zZTogZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG4gICAgICAgIGNvbnN0IGRlZmVycmVkID0gJHEuZGVmZXIoKTtcbiAgICAgICAgaWYgKHJlc3BvbnNlLmRhdGEgJiYgKHJlc3BvbnNlLmRhdGEuY29kZSA9PSA0MDYgfHwgcmVzcG9uc2UuZGF0YS5jb2RlID09IDQwMiB8fCByZXNwb25zZS5kYXRhLmNvZGUgPT0gNDA1KSkge1xuICAgICAgICAgICAgJHdpbmRvdy5sb2NhdGlvbi5ocmVmID0gJy9sb2dpbi5odG1sJztcbiAgICAgICAgfVxuXG4gICAgICAgIGRlZmVycmVkLnJlc29sdmUocmVzcG9uc2UpO1xuICAgICAgICByZXR1cm4gZGVmZXJyZWQucHJvbWlzZTtcbiAgICAgIH0sXG5cbiAgICAgIHJlcXVlc3Q6IGZ1bmN0aW9uIChjb25maWcpIHtcbiAgICAgICAgY29uc3QgZGVmZXJyZWQgPSAkcS5kZWZlcigpO1xuXG4gICAgICAgIGNvbmZpZy50aW1lb3V0ID0gMTAwMCAqIDEwMDtcbi8vIGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdTSUxfVE9LRU4nKSB8fCBcbiAgICAgICAgLy8gJGh0dHAuZGVmYXVsdHMuaGVhZGVycy5jb21tb25bJ2F1dGhvcml6YXRpb24nXVxuICAgICAgICAvLyBjb25maWcuaGVhZGVyc1snZXh0cmEnXSA9ICd7XCJ0b2tlblwiOlwiaWFtc3VwZXJtYW46MTU4Mjg1MTYyODVcIn0nO1xuICAgICAgICBjb25maWcuaGVhZGVyc1snZXh0cmEnXSA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdTSUxfVE9LRU4nKSA/ICgne1widG9rZW5cIjpcIicgK2xvY2FsU3RvcmFnZS5nZXRJdGVtKCdTSUxfVE9LRU4nKSArICdcIixcInBsYXRmb3JtXCI6XCJ3ZWJcIixcInZlcnNpb25cIjpcIjEuMC4wXCJ9Jyk6ICcnO1xuICAgICAgICAkcm9vdFNjb3BlLkFVVEhPUklaQVRJT05fVE9LRU4gPSBjb25maWcuaGVhZGVyc1snZXh0cmEnXTtcblxuICAgICAgICBpZighY29uZmlnLmhlYWRlcnNbJ2V4dHJhJ10pIHtcbiAgICAgICAgICAkd2luZG93LmxvY2F0aW9uLmhyZWYgPSAnL2xvZ2luLmh0bWwnO1xuICAgICAgICB9XG5cbiAgICAgICAgZGVmZXJyZWQucmVzb2x2ZShjb25maWcpO1xuICAgICAgICByZXR1cm4gZGVmZXJyZWQucHJvbWlzZTtcbiAgICAgIH1cbiAgfTtcblxuICByZXR1cm4gcmVxdWVzdEludGVyY2VwdG9yO1xuXG59XG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBodHRwSGVscGVye1xuXG4gIGNvbnN0cnVjdG9yKHRvYXN0ciwgYmxvY2tVSSwgQXBwU2V0dGluZ3MpIHtcbiAgICAnbmdJbmplY3QnO1xuXG4gICAgdGhpcy5fYmxvY2tVSUluc3RhbmNlID0gbnVsbDtcbiAgICB0aGlzLl9lcnJvckluZm8gPSBBcHBTZXR0aW5ncy5lcnJvckluZm87XG5cbiAgICB0aGlzLnRvYXN0ciA9IHRvYXN0cjtcbiAgICB0aGlzLiRibG9ja1VJID0gYmxvY2tVSTtcblxuXG4gICAgdGhpcy5ibG9ja1VJID0ge1xuICAgICAgc3RhcnQ6IHRoaXMuX3N0YXJ0QmxvY2tVSS5iaW5kKHRoaXMpLFxuICAgICAgc3RvcDogdGhpcy5fc3RvcEJsb2NrVUkuYmluZCh0aGlzKVxuICAgIH07XG5cbiAgICB0aGlzLnZlcmlmeSA9IHRoaXMuX3ZlcmlmeS5iaW5kKHRoaXMpO1xuICAgIHRoaXMuZXJyb3IgPSB0aGlzLl9lcnJvci5iaW5kKHRoaXMpO1xuICB9XG4gIC8vID09PT09PT09PT09PT09PT09PT09PT09PT0gTWV0aG9kcyA9PT09PT09PT09PT09PT09PT09PT09PT09XG5cbiAgX3ZlcmlmeShyZXMpIHtcblxuICAgIHRoaXMuX3N0b3BCbG9ja1VJKCk7XG5cbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgaWYocmVzLmRhdGEuY29kZSA9PT0gMCkge1xuICAgICAgICByZXNvbHZlKHJlcy5kYXRhLmRhdGEpO1xuICAgICAgfWVsc2Uge1xuICAgICAgICB0aGlzLnRvYXN0ci5lcnJvcih0aGlzLl9lcnJvckluZm9bcmVzLmRhdGEuY29kZV0gfHwgcmVzLmRhdGEuaW5mbywgJ+mUmeivrycpO1xuICAgICAgICByZWplY3QocmVzKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICB9XG5cbiAgX2Vycm9yKCkge1xuXG4gICAgdGhpcy50b2FzdHIuZXJyb3IoJ+iOt+WPluaVsOaNruWksei0pe+8gScsICfplJnor68nKTtcbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgdGhpcy5fc3RvcEJsb2NrVUkoKTtcblxuICAgICAgcmVqZWN0KCk7XG4gICAgfSk7XG5cbiAgfVxuXG4gIF9zdGFydEJsb2NrVUkoYmxvY2tVSU5hbWUpIHtcbiAgICAvLyBUT0RPIHJlc2V0IG9uIHJlc3RhcnRcbiAgICB0aGlzLiRibG9ja1VJLmluc3RhbmNlcy5yZXNldCgpO1xuICAgIGlmKGJsb2NrVUlOYW1lKSB7XG4gICAgICB0aGlzLl9ibG9ja1VJSW5zdGFuY2UgPSB0aGlzLiRibG9ja1VJLmluc3RhbmNlcy5nZXQoYmxvY2tVSU5hbWUpO1xuICAgICAgdGhpcy5fYmxvY2tVSUluc3RhbmNlLnN0YXJ0KCk7XG4gICAgfWVsc2Uge1xuICAgICAgaWYodGhpcy4kYmxvY2tVSS5pc0Jsb2NraW5nKXtcbiAgICAgICAgdGhpcy4kYmxvY2tVSS5zdG9wKCk7XG4gICAgICB9XG4gICAgICB0aGlzLiRibG9ja1VJLnN0YXJ0KCk7XG4gICAgfVxuICB9XG5cbiAgX3N0b3BCbG9ja1VJKCkge1xuICAgIGlmKHRoaXMuX2Jsb2NrVUlJbnN0YW5jZSkge1xuICAgICAgdGhpcy5fYmxvY2tVSUluc3RhbmNlLnN0b3AoKTtcbiAgICAgIHRoaXMuX2Jsb2NrVUlJbnN0YW5jZSA9IG51bGw7XG4gICAgfWVsc2Uge1xuICAgICAgdGhpcy4kYmxvY2tVSS5zdG9wKCk7XG4gICAgfVxuICB9XG5cbn1cbiIsIi8qKlxuICogQG5nSW5qZWN0XG4gKiBAZGVzY3JpcHRpb24g5Yik5pat5Zu+54mH5piv5ZCm5Yqg6L295oiQ5YqfXG4gKiByZWY6IGh0dHA6Ly9zdGFja292ZXJmbG93LmNvbS9xdWVzdGlvbnMvMjQ1NjkyNzAvcHJlbG9hZC1iYWNrZ3JvdW5kLWltYWdlLXVzaW5nLWFuZ3VsYXJqcy1wcm9taXNlc1xuICovXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBpbWdQcmVMb2FkU2VydmljZSgkcSkge1xuICAnbmdJbmplY3QnO1xuXG4gIHJldHVybiBmdW5jdGlvbih1cmwpIHtcbiAgICAgIHZhciBkZWZmZXJlZCA9ICRxLmRlZmVyKCksXG4gICAgICAgICAgaW1hZ2UgPSBuZXcgSW1hZ2UoKTtcblxuICAgICAgaW1hZ2Uuc3JjID0gdXJsO1xuXG4gICAgICBpZiAoaW1hZ2UuY29tcGxldGUpIHtcbiAgICAgICAgZGVmZmVyZWQucmVzb2x2ZSgpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaW1hZ2UuYWRkRXZlbnRMaXN0ZW5lcignbG9hZCcsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgIGRlZmZlcmVkLnJlc29sdmUoKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgaW1hZ2UuYWRkRXZlbnRMaXN0ZW5lcignZXJyb3InLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICBkZWZmZXJlZC5yZWplY3QoKTtcbiAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBkZWZmZXJlZC5wcm9taXNlO1xuICB9XG5cbn1cbiIsImltcG9ydCBhbmd1bGFyICAgICAgICAgICBmcm9tICdhbmd1bGFyJztcbmltcG9ydCBodHRwSGVscGVyICAgICAgICBmcm9tICcuL2h0dHBIZWxwZXIuc2VydmljZSc7XG5pbXBvcnQgaW1nUHJlTG9hZFNlcnZpY2UgZnJvbSAnLi9pbWdQcmVMb2FkLnNlcnZpY2UnO1xuaW1wb3J0IGNoZWNrU3RhdGVTZXJ2aWNlIGZyb20gJy4vY2hlY2tTdGF0ZS5zZXJ2aWNlJztcbmltcG9ydCB1dGlsU2VydmljZSAgICAgICBmcm9tICcuL3V0aWwuc2VydmljZSc7XG5pbXBvcnQgaGlzdG9yeVNlcnZpY2UgICAgZnJvbSAnLi9oaXN0b3J5LnNlcnZpY2UnO1xuXG5cbmV4cG9ydCBkZWZhdWx0IGFuZ3VsYXIubW9kdWxlKCdhcHAubW9kdWxlLmNvcmUuc2VydmljZScsIFtdKVxuLnNlcnZpY2UoJ2h0dHBIZWxwZXInLCBodHRwSGVscGVyKVxuLnNlcnZpY2UoJ2ltZ1ByZUxvYWRTZXJ2aWNlJywgaW1nUHJlTG9hZFNlcnZpY2UpXG4uc2VydmljZSgnY2hlY2tTdGF0ZVNlcnZpY2UnLCBjaGVja1N0YXRlU2VydmljZSlcbi5zZXJ2aWNlKCd1dGlsU2VydmljZScsIHV0aWxTZXJ2aWNlKVxuLnNlcnZpY2UoJ2hpc3RvcnlTZXJ2aWNlJywgaGlzdG9yeVNlcnZpY2UpXG47XG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyB1dGlsIHtcblxuICBjb25zdHJ1Y3Rvcigkd2luZG93LCAkaHR0cCx0b2FzdHIsIHN3ZWV0LCBtY1JlZ0V4cCwgQXBpTWFwKSB7XG4gICAgJ25nSW5qZWN0JztcblxuICAgIHRoaXMuX3dpbmRvdyA9ICR3aW5kb3c7XG4gICAgdGhpcy5faHR0cCA9ICRodHRwO1xuXG4gICAgdGhpcy50b2FzdHIgPSB0b2FzdHI7XG4gICAgdGhpcy5zd2VldCA9IHN3ZWV0O1xuICAgIHRoaXMubWNSZWdFeHAgPSBtY1JlZ0V4cDtcbiAgICB0aGlzLl9hcGkgPSBBcGlNYXA7XG5cbiAgfVxuICAvLyDpgIDlh7rmk43kvZxcbiAgbG9nb3V0KCkge1xuICAgIHJldHVybiB0aGlzLl9odHRwLmdldCh0aGlzLl9hcGkucGVyc29uLmxvZ291dCkudGhlbihkYXRhID0+IHtcbiAgICAgICAgdGhpcy5fd2luZG93LmxvY2F0aW9uLmhyZWYgPSAnL2xvZ2luLmh0bWwnO1xuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIOeUqHVuZGVyc2NvcmXku47kuIDkuKrlr7nosaHmlbDnu4TkuK3liKDpmaTmjIflrprnmoTlr7nosaFcbiAgICogQHBhcmFtIGFyciDor6XmlbDnu4RcbiAgICogQHBhcmFtIHdoZXJlT2JqIOafpeivouimgeWIoOmZpOeahOWvueixoVxuICAgKi9cbiAgcmVtb3ZlSXRlbUZyb21BcnJheShhcnIsIHdoZXJlT2JqKSB7XG4gICAgICByZXR1cm4gXy53aXRob3V0KGFyciwgXy5maW5kV2hlcmUoYXJyLCB3aGVyZU9iaikpO1xuICB9XG5cbiAgLyoqXG4gICAqIOiOt+WPluaMh+WumuaciOeahOaAu+WkqeaVsFxuICAgKiBAcGFyYW0gZGF0ZSB8IHN0cmluZyDml6XmnJ/lr7nosaHmiJbml6XmnJ/lrZfnrKbkuLJcbiAgICogQHJldHVybnMge251bWJlcn1cbiAgICovXG4gIGdldERheXNMZW5Jbk1vbnRoKGRhdGUpIHtcbiAgICAgIGlmKGFuZ3VsYXIuaXNTdHJpbmcoZGF0ZSkpe1xuICAgICAgICAgIGRhdGUgPSBuZXcgRGF0ZShkYXRlKTtcbiAgICAgIH1cbiAgICAgIHZhciBtb250aCA9IHBhcnNlSW50KGRhdGUuZ2V0TW9udGgoKSArIDEsIDEwKTtcbiAgICAgIHJldHVybiBuZXcgRGF0ZShkYXRlLmdldEZ1bGxZZWFyKCksIG1vbnRoLCAwKS5nZXREYXRlKCk7XG4gIH1cblxuICAvKipcbiAgICog6ZKI5a+56Z2e6KGo5Y2V5a2X5q615YGa5pWw5o2u6aqM6K+BXG4gICAqIEBwYXJhbSAge1t0eXBlXX0gdHlwZSAgW2Rlc2NyaXB0aW9uXVxuICAgKiBAcmV0dXJuIHtbdHlwZV19ICAgICAgIFtkZXNjcmlwdGlvbl1cbiAgICovXG4gIHZhbGlkYXRlKHR5cGUpIHtcbiAgICAgIHZhciB0eXBlcyA9IHR5cGUuc3BsaXQoJywnKSxcbiAgICAgICAgICByZXN1bHQgPSB0cnVlLFxuICAgICAgICAgIGV4cHIsXG4gICAgICAgICAgYXJncyA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywgMSk7XG5cbiAgICAgIC8vIOaKiuesrOS6jOS4quWPguaVsHBhcmFt5b2S5L2N5Yiw5pyA5ZCO5LiA5Liq5Y+C5pWw77yI5oqKcGFyYW3mlL7liLDnrKzkuozkuKrlj4LmlbDmmK/lm6DkuLrkvb/nlKjmlrnkvr/vvIlcbiAgICAgIGFyZ3Muc3BsaWNlKDEsIDAsIG51bGwsIG51bGwsIG51bGwpO1xuXG4gICAgICBmdW5jdGlvbiBhcHBseUV4cHIodHlwZSkge1xuICAgICAgICAgIGV4cHIgPSB0aGlzLm1jUmVnRXhwLmV4cHJlc3Npb25bdHlwZV07XG4gICAgICAgICAgaWYoZXhwciBpbnN0YW5jZW9mIFJlZ0V4cCkge1xuICAgICAgICAgICAgICByZXN1bHQgPSBleHByLnRlc3QoYXJnc1swXSk7XG4gICAgICAgICAgfWVsc2Uge1xuICAgICAgICAgICAgICByZXN1bHQgPSBleHByLmFwcGx5KG51bGwsIGFyZ3MpO1xuICAgICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgaWYodHlwZXMubGVuZ3RoID4gMSkge1xuICAgICAgICAgIC8vIGh0dHA6Ly9zdGFja292ZXJmbG93LmNvbS9xdWVzdGlvbnMvMTM4NDM5NzIvYW5ndWxhci1qcy1icmVhay1mb3JlYWNoXG4gICAgICAgICAgYW5ndWxhci5mb3JFYWNoKHR5cGVzLCBmdW5jdGlvbih0eXBlKXtcbiAgICAgICAgICAgICAgdHlwZSAmJiB0eXBlLnRyaW0oKTtcbiAgICAgICAgICAgICAgaWYocmVzdWx0KSB7XG4gICAgICAgICAgICAgICAgICBhcHBseUV4cHIodHlwZSk7XG5cbiAgICAgICAgICAgICAgICAgIGlmKCFyZXN1bHQpIHtcbiAgICAgICAgICAgICAgICAgICAgICB0aGlzLnRvYXN0ci53YXJuaW5nKHRoaXMubWNSZWdFeHAuZGVmYXVsdE1zZ1t0eXBlXS5lcnJvcik7XG4gICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICB9ZWxzZSB7XG4gICAgICAgICAgYXBwbHlFeHByKHR5cGUpO1xuXG4gICAgICAgICAgaWYoIXJlc3VsdCkge1xuICAgICAgICAgICAgICB0aGlzLnRvYXN0ci53YXJuaW5nKHRoaXMubWNSZWdFeHAuZGVmYXVsdE1zZ1t0eXBlXS5lcnJvcik7XG4gICAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICByZXR1cm4gcmVzdWx0O1xuICB9XG5cbiAgLyoqXG4gICAqIOWFgeiuuOiuv+mXruS7peeCuei/nuaOpeeahOWxnuaAp+ihqOi+vuW8j+Wtl+espuS4suiuv+mXruWtkOWxnuaAp1xuICAgKiBAcGFyYW0gIHtbdHlwZV19IG9iaiAgdGFyZ2VcbiAgICogQHBhcmFtICB7W3R5cGVdfSBkZXNjIHZpc2l0IHByb3Agc3RyaW5nXG4gICAqIEByZXR1cm4ge1t0eXBlXX0gICAgICB2YWx1ZVxuICAgKiBAZXhhbXBsZVxuICAgKiAgIGdldERlc2NlbmRhbnRQcm9wKHthOiAxLCBiOiB7YzogMn19LCAnYi5jJykgIC8vIDJcbiAgICovXG4gIGdldERlc2NlbmRhbnRQcm9wKG9iaiwgZGVzYykge1xuICAgICAgdmFyIGFyciA9IGRlc2Muc3BsaXQoXCIuXCIpO1xuICAgICAgd2hpbGUoYXJyLmxlbmd0aCAmJiAob2JqID0gb2JqW2Fyci5zaGlmdCgpXSkpO1xuICAgICAgcmV0dXJuIG9iajtcbiAgfVxuXG4gIC8qKlxuICAgKiDor6Lpl67nqpflj6NcbiAgICogQHBhcmFtICB7W3R5cGVdfSAgIG9wdHMgdG9hc3Ry5Y+C5pWwXG4gICAqIEBwYXJhbSAge0Z1bmN0aW9ufSBjYiAgIOehruiupOWbnuiwg1xuICAgKi9cbiAgY29uZmlybShvcHRzLCBjYikge1xuICAgICAgdmFyIG9wdGlvbnMgPSBhbmd1bGFyLmV4dGVuZCh7XG4gICAgICAgICAgdGl0bGU6ICfmj5DnpLonLFxuICAgICAgICAgIHRleHQ6ICcnLFxuICAgICAgICAgIC8vdHlwZTogJ3dhcm5pbmcnLFxuICAgICAgICAgIGltYWdlVXJsOiAnL2Rpc3QvaW1hZ2VzL2NvbW1vbi93YXJuaW5nLnBuZycsXG4gICAgICAgICAgc2hvd0NhbmNlbEJ1dHRvbjogdHJ1ZSxcbiAgICAgICAgICBjb25maXJtQnV0dG9uVGV4dDogJ+ehruiupCcsXG4gICAgICAgICAgY2FuY2VsQnV0dG9uVGV4dDogJ+WPlua2iCdcbiAgICAgIH0sIG9wdHMpO1xuXG4gICAgICB0aGlzLnN3ZWV0LnNob3cob3B0aW9ucywgZnVuY3Rpb24gKGlzQ29uZmlybSkge1xuICAgICAgICAgIGNiKGlzQ29uZmlybSk7XG4gICAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiDmm7/mjaJ1bmRlcnNjb3Jl55qEcGljaygpXG4gICAqIGh0dHA6Ly9zdGFja292ZXJmbG93LmNvbS9hLzI1ODM1MzM3LzQ3MjMxNjNcbiAgICpcbiAgICogZXhhbXBsZTpcbiAgICogICBsZXQgZGF0YSA9IHtmb286ICd0ZXN0JywgYWJjOiAxLCB6eXg6IDIyMn1cbiAgICogICBwaWNrKGRhdGEsICdmb28nLCAnenl4JykgLy8gPT4ge2ZvbzogJ3Rlc3QnLCB6eXg6IDIyMn1cbiAgICovXG4gIHBpY2sobywgLi4uZmllbGRzKSB7XG4gICAgaWYoIW8pIHJldHVybiB7fTtcblxuICAgIHJldHVybiBmaWVsZHMucmVkdWNlKChhLCB4KSA9PiB7XG4gICAgICBpZih4LmluY2x1ZGVzKCcuJykpIHtcbiAgICAgICAgLy8gVE9ETzog5Yik5pataGFzT3duUHJvcGVydHlcbiAgICAgICAgYVt4LnNwbGl0KCcuJykucG9wKCldID0gdGhpcy5nZXREZXNjZW5kYW50UHJvcChvLCB4KTtcbiAgICAgIH1lbHNlIHtcbiAgICAgICAgaWYoby5oYXNPd25Qcm9wZXJ0eSh4KSkgYVt4XSA9IG9beF07XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBhO1xuICAgIH0sIHt9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiDlnKjkuIDkuKpPYmplY3TliJfooajkuK3vvIzpgJrov4dpZC92YWx1ZeiOt+WPluWFtuWvueW6lOeahHRleHQvbmFtZVxuICAgKiBsaXN0OiBPYmplY3TmlbDnu4RcbiAgICogaWQ6IOafpeaJvueahGlkXG4gICAqIGlkS2V5OiBpZOeahOWxnuaAp+WQjSjpu5jorqTkuLp2YWx1ZSlcbiAgICogdGV4dEtleTogdGV4dOeahOWxnuaAp+WQjSjpu5jorqTkuLpuYW1lKVxuICAgKiDlpoLmnpzkuI3lrZjlnKjlr7nlupR0ZXh05YiZ6L+U5ZueXCJcIlxuICAgKi9cbiAgZ2V0VGV4dEJ5SWQobGlzdCwgaWQsIGlkS2V5ID0gJ3ZhbHVlJywgdGV4dEtleSA9ICduYW1lJykge1xuICAgIGlmKCFsaXN0IHx8ICFhbmd1bGFyLmlzQXJyYXkobGlzdCkpIHJldHVybjtcbiAgICBsZXQgZmlsdGVyZWQgPSBsaXN0LmZpbHRlcihpdGVtID0+IGlkID09PSBpdGVtW2lkS2V5XSk7XG4gICAgcmV0dXJuIGZpbHRlcmVkLmxlbmd0aCA/IGZpbHRlcmVkWzBdW3RleHRLZXldIDogJyc7XG4gIH1cblxufVxuIiwiZnVuY3Rpb24gYmxvY2tVSUNvbmZpZyhibG9ja1VJQ29uZmlnKSB7XG4gICAgJ25nSW5qZWN0JztcblxuICAgIGJsb2NrVUlDb25maWcubWVzc2FnZSA9ICcnOyAvLyDliqDovb3kuK0uLi5cblxuICAgIC8vIENoYW5nZSB0aGUgZGVmYXVsdCBkZWxheSB0byAxMDBtcyBiZWZvcmUgdGhlIGJsb2NraW5nIGlzIHZpc2libGVcbiAgICBibG9ja1VJQ29uZmlnLmRlbGF5ID0gMTAwO1xuXG4gICAgLy8gRGlzYWJsZSBhdXRvbWF0aWNhbGx5IGJsb2NraW5nIG9mIHRoZSB1c2VyIGludGVyZmFjZVxuICAgIGJsb2NrVUlDb25maWcuYXV0b0Jsb2NrID0gZmFsc2U7XG5cbiAgICAvLyDlj6ropoHlj5HnlJ/lvILluLjlsLHmuIXpmaRibG9ja1xuICAgIGJsb2NrVUlDb25maWcucmVzZXRPbkV4Y2VwdGlvbiA9IHRydWU7XG5cbiAgICAvLyBibG9ja+m7mOiupOaYr+WKoOWIsGJvZHnkuIrnmoTvvIzkuI3ov4fmiJHku6zlhbPmjonlroPvvIzoh6rlt7LmjIflrppibG9ja+eahOWMuuWfn1xuICAgIGJsb2NrVUlDb25maWcuYXV0b0luamVjdEJvZHlCbG9jayA9IGZhbHNlO1xuXG4gICAgLy8g6buY6K6k5pivYmxvY2stdWkgYmxvY2stdWktYW5pbS1mYWRl77yb5aaC5p6c6ZyA6KaB6KaG55uW77yM6K6+572u5Li6IGJsb2NrLXVpICsg5oOz5bqU55So55qEY2xhc3NcbiAgICBibG9ja1VJQ29uZmlnLmNzc0NsYXNzID0gJ2Jsb2NrLXVpIGJsb2NrLXVpLW1lc3NhZ2UtY3VzdG9tJztcbn1cblxuZXhwb3J0IGRlZmF1bHQgYmxvY2tVSUNvbmZpZzsiLCJpbXBvcnQgYW5ndWxhciBmcm9tICdhbmd1bGFyJztcblxuXG5mdW5jdGlvbiB0b2FzdHJDb25maWcodG9hc3RyQ29uZmlnKSB7XG4gICduZ0luamVjdCc7XG5cbiAgYW5ndWxhci5leHRlbmQodG9hc3RyQ29uZmlnLCB7XG4gICAgYWxsb3dIdG1sOiBmYWxzZSxcbiAgICBhdXRvRGlzbWlzczogZmFsc2UsXG4gICAgY2xvc2VCdXR0b246IHRydWUsXG4gICAgY2xvc2VIdG1sOiAnPGJ1dHRvbj4mdGltZXM7PC9idXR0b24+JyxcbiAgICBjb250YWluZXJJZDogJ3RvYXN0LWNvbnRhaW5lcicsXG4gICAgZXh0ZW5kZWRUaW1lT3V0OiAxMDAwLFxuICAgIGljb25DbGFzc2VzOiB7XG4gICAgICBlcnJvcjogJ3RvYXN0LWVycm9yJyxcbiAgICAgIGluZm86ICd0b2FzdC1pbmZvJyxcbiAgICAgIHN1Y2Nlc3M6ICd0b2FzdC1zdWNjZXNzJyxcbiAgICAgIHdhcm5pbmc6ICd0b2FzdC13YXJuaW5nJ1xuICAgIH0sXG4gICAgbWF4T3BlbmVkOiAwLFxuICAgIG1lc3NhZ2VDbGFzczogJ3RvYXN0LW1lc3NhZ2UnLFxuICAgIG5ld2VzdE9uVG9wOiB0cnVlLFxuICAgIG9uSGlkZGVuOiBudWxsLFxuICAgIG9uU2hvd246IG51bGwsXG4gICAgb25UYXA6IG51bGwsXG4gICAgcG9zaXRpb25DbGFzczogJ3RvYXN0LXRvcC1yaWdodCcsXG4gICAgcHJldmVudER1cGxpY2F0ZXM6IGZhbHNlLFxuICAgIHByZXZlbnRPcGVuRHVwbGljYXRlczogdHJ1ZSxcbiAgICBwcm9ncmVzc0JhcjogdHJ1ZSxcbiAgICB0YXBUb0Rpc21pc3M6IHRydWUsXG4gICAgdGFyZ2V0OiAnYm9keScsXG4gICAgdGVtcGxhdGVzOiB7XG4gICAgICB0b2FzdDogJ2RpcmVjdGl2ZXMvdG9hc3QvdG9hc3QuaHRtbCcsXG4gICAgICBwcm9ncmVzc2JhcjogJ2RpcmVjdGl2ZXMvcHJvZ3Jlc3NiYXIvcHJvZ3Jlc3NiYXIuaHRtbCdcbiAgICB9LFxuICAgIHRpbWVPdXQ6IDIwMDAsXG4gICAgdGl0bGVDbGFzczogJ3RvYXN0LXRpdGxlJyxcbiAgICB0b2FzdENsYXNzOiAndG9hc3QnXG4gIH0pO1xufVxuXG5leHBvcnQgZGVmYXVsdCB0b2FzdHJDb25maWc7XG4iLCJpbXBvcnQgYW5ndWxhciBmcm9tICdhbmd1bGFyJztcblxuZnVuY3Rpb24gcGFnaW5hdGlvbkNvbmZpZyh1aWJQYWdpbmF0aW9uQ29uZmlnKSB7XG4gICduZ0luamVjdCc7XG5cbiAgYW5ndWxhci5leHRlbmQodWliUGFnaW5hdGlvbkNvbmZpZywge1xuICAgIC8vIGl0ZW1zUGVyUGFnZTogMTAsXG4gICAgYm91bmRhcnlMaW5rczogdHJ1ZSxcbiAgICByb3RhdGU6IGZhbHNlLCAgLy8gV2hldGhlciB0byBrZWVwIGN1cnJlbnQgcGFnZSBpbiB0aGUgbWlkZGxlIG9mIHRoZSB2aXNpYmxlIG9uZXMuXG4gICAgbWF4U2l6ZTogMTAsIC8vIExpbWl0IG51bWJlciBmb3IgcGFnaW5hdGlvbiBzaXplLlxuICAgIHByZXZpb3VzVGV4dDogJ+S4iuS4gOmhtScsXG4gICAgbmV4dFRleHQ6ICfkuIvkuIDpobUnLFxuICAgIGZpcnN0VGV4dDogJ+mmlumhtScsXG4gICAgbGFzdFRleHQ6ICflsL7pobUnXG4gIH0pO1xufVxuXG5leHBvcnQgZGVmYXVsdCBwYWdpbmF0aW9uQ29uZmlnO1xuIiwiaW1wb3J0IGFuZ3VsYXIgICAgICAgICAgICAgICAgICBmcm9tICdhbmd1bGFyJztcbmltcG9ydCB7ZXhwcmVzc2lvbiwgZGVmYXVsdE1zZ30gZnJvbSAnLi8uLi8uLi8uLi9jb21tb24vY29uc3RhbnRzL3JlZ0V4cFJ1bGUnO1xuXG5mdW5jdGlvbiB2YWxpZGF0aW9uUnVsZUNvbmZpZygkdmFsaWRhdGlvblByb3ZpZGVyKSB7XG4gICduZ0luamVjdCc7XG5cbiAgJHZhbGlkYXRpb25Qcm92aWRlci5zZXRFeHByZXNzaW9uKGV4cHJlc3Npb24pLnNldERlZmF1bHRNc2coZGVmYXVsdE1zZyk7XG5cbn1cblxuZXhwb3J0IGRlZmF1bHQgdmFsaWRhdGlvblJ1bGVDb25maWc7XG4iLCIvLyBodHRwczovL2dpdGh1Yi5jb20vYW5ndWxhci11aS9ib290c3RyYXAvaXNzdWVzLzUzMzFcbi8vIOS9nOW6n+OAguWcqOWkmumHjeW8ueahhueahOaDheWGteS4i++8jOWFs+mXreS4iuWxgueahO+8jOS8muWvvOiHtOW6leWxgueahOaXoOazlea7muWKqFxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gdWliTW9kYWxEZWNvcmF0b3IoJGRlbGVnYXRlKSB7XG4gICduZ0luamVjdCc7XG5cbiAgdmFyIGJhc2VPcGVuID0gJGRlbGVnYXRlLm9wZW47XG5cbiAgJGRlbGVnYXRlLm9wZW4gPSBmdW5jdGlvbigpIHtcbiAgICB2YXIgb3B0aW9ucyA9IGFyZ3VtZW50c1swXTtcbiAgICB2YXIgb3BlbmVkQ2xhc3MgPSAnbW9kYWwtb3Blbic7XG4gICAgaWYgKG9wdGlvbnMpIHtcbiAgICAgIG9wZW5lZENsYXNzID0gb3B0aW9ucy5vcGVuZWRDbGFzcyB8fCBvcGVuZWRDbGFzcztcbiAgICAgIG9wdGlvbnMub3BlbmVkQ2xhc3MgPSBcImlnbm9yZVRoaXNDbGFzc1wiXG4gICAgfVxuICAgIHZhciBtaSA9IGJhc2VPcGVuLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgdmFyIGJvZHkgPSBhbmd1bGFyLmVsZW1lbnQoZG9jdW1lbnQuYm9keSk7XG4gICAgYm9keS5hZGRDbGFzcyhvcGVuZWRDbGFzcyk7XG5cbiAgICAvLyBVc2UgcmVzdWx0IGZpbmFsbHksIGJlY2F1c2UgZm9yIHdoYXRldmVyIHJlYXNvbiwgY2xvc2VkIG5ldmVyIHJlc29sdmVzXG4gICAgbWkucmVzdWx0LmZpbmFsbHkoZnVuY3Rpb24oKSB7XG4gICAgICBib2R5LnJlbW92ZUNsYXNzKG9wZW5lZENsYXNzKTtcbiAgICB9KTtcblxuICAgIHJldHVybiBtaTtcbiAgfTtcblxuICByZXR1cm4gJGRlbGVnYXRlO1xuXG59XG4iLCJpbXBvcnQgYW5ndWxhciBmcm9tICdhbmd1bGFyJztcbmltcG9ydCAkIGZyb20gJ2pxdWVyeSc7XG5nbG9iYWwuJCA9IGdsb2JhbC5qUXVlcnkgPSAkO1xuXG5pbXBvcnQgJ2FuZ3VsYXItdG9hc3RyJztcbmltcG9ydCAnanF1ZXJ5LXNsaW1zY3JvbGwnO1xuaW1wb3J0ICdhbmd1bGFyLXNsaW1zY3JvbGwnO1xuaW1wb3J0ICdhbmd1bGFyLXVpLXN3aXRjaCc7XG5pbXBvcnQgbmdCbG9ja1VpIGZyb20gJ2FuZ3VsYXItYmxvY2stdWknO1xuaW1wb3J0ICdzd2VldGFsZXJ0JztcbmltcG9ydCAnYW5ndWxhci1oLXN3ZWV0YWxlcnQnO1xuaW1wb3J0IERyb3B6b25lIGZyb20gJ2Ryb3B6b25lJztcbndpbmRvdy5Ecm9wem9uZSA9IERyb3B6b25lO1xuaW1wb3J0ICdhbmd1bGFyLWRyb3B6b25lJztcbmltcG9ydCAnbmdDcm9wcGVyL2Rpc3QvbmdDcm9wcGVyLmFsbCc7XG5pbXBvcnQgJ2FuZ3VsYXItZGF0ZXBpY2tlcic7XG4vLyBpbXBvcnQgJ2FuZ3VsYXIteGVkaXRhYmxlJztcbmltcG9ydCBwYWNlIGZyb20gJ3BhY2UyJztcbmltcG9ydCAnY2hlY2tsaXN0LW1vZGVsJztcbmltcG9ydCB2aWV3ZXIgZnJvbSAndmlld2VyanMnO1xud2luZG93LlZpZXdlciA9IHZpZXdlcjtcblxuaW1wb3J0ICdhbmd1bGFyLXNhbml0aXplJztcbmltcG9ydCAnYW5ndWxhci1hdXRvLWNvbXBsZXRlJztcblxuLy8gVE9ETzogQW5ndWxhciB2ZXJzaW9uIC0gaHR0cHM6Ly9naXRodWIuY29tL2FuZHJlc2VzZm0vYW5ndWxhci11bmRlcnNjb3JlLW1vZHVsZS9ibG9iL21hc3Rlci9hbmd1bGFyLXVuZGVyc2NvcmUtbW9kdWxlLmpzXG5pbXBvcnQgXyBmcm9tICd1bmRlcnNjb3JlJztcbndpbmRvdy5fID0gXztcbmltcG9ydCBtb21lbnQgZnJvbSAnbW9tZW50JztcbndpbmRvdy5tb21lbnQgPSBtb21lbnQ7XG5pbXBvcnQgJ2FuZ3VsYXItbW9tZW50JztcbmltcG9ydCAnbW9tZW50L2xvY2FsZS96aC1jbic7XG5cbi8vIFRPRE86IGh0dHBzOi8vZ2l0aHViLmNvbS9BbmR5Y3pjL2FuZ3VsYXItdmFsaWRhdGlvbi9jb21taXQvMDUxNjU1NTAyNTU4ZjRkNjFmNmRmYzRkYzUzZWVkM2VmZGI5ZTQ2YlxuaW1wb3J0ICdhbmd1bGFyLXZhbGlkYXRpb24nO1xuaW1wb3J0ICdhbmd1bGFyLXZhbGlkYXRpb24vZGlzdC9hbmd1bGFyLXZhbGlkYXRpb24tcnVsZSc7XG5pbXBvcnQgJ2FuZ3VsYXItdmFsaWRhdGlvbi1tYXRjaCc7XG5cbmltcG9ydCAnYW5ndWxhci1tZGVkaXRvcic7XG5cbmltcG9ydCBibG9ja1VJQ29uZmlnICAgICAgICBmcm9tICcuL2NvbmZpZy9ibG9ja1VJLmNvbmZpZyc7XG5pbXBvcnQgdG9hc3RyQ29uZmlnICAgICAgICAgZnJvbSAnLi9jb25maWcvdG9hc3RyLmNvbmZpZyc7XG5pbXBvcnQgdWliUGFnaW5hdGlvbkNvbmZpZyAgZnJvbSAnLi9jb25maWcvdWliUGFnaW5hdGlvbi5jb25maWcnO1xuaW1wb3J0IHZhbGlkYXRpb25SdWxlQ29uZmlnIGZyb20gJy4vY29uZmlnL3ZhbGlkYXRpb25SdWxlLmNvbmZpZyc7XG4vLyBpbXBvcnQge3hlZGl0YWJsZU9wdGlvbnN9IGZyb20gJy4vY29uZmlnL3hlZGl0YWJsZS5jb25maWcnO1xuXG5pbXBvcnQgdWliTW9kYWxEZWNvcmF0b3IgZnJvbSAnLi91aWJNb2RhbC5kZWNvcmF0b3InO1xuXG5cbmV4cG9ydCBkZWZhdWx0IGFuZ3VsYXIubW9kdWxlKCdhcHAuY29yZS52ZW5kb3InLCBbXG4gIC8vIFVJIHdpZGdldFxuICAndG9hc3RyJyxcbiAgJ3VpLnNsaW1zY3JvbGwnLFxuICAndWlTd2l0Y2gnLFxuICAnaFN3ZWV0QWxlcnQnLFxuICAnYmxvY2tVSScsXG4gICduZ0Ryb3B6b25lJyxcbiAgJ2RhdGVQaWNrZXInLFxuICAnbmdDcm9wcGVyJyxcbiAgLy8gJ3hlZGl0YWJsZScsIC8vIFRPRE86IHJlcGxhY2Ugd2l0aCBmb3JtLWVkaXQgZGlyZWN0aXZlXG4gICdjaGVja2xpc3QtbW9kZWwnLFxuXG4gICdhdXRvQ29tcGxldGVNb2R1bGUnLFxuXG4gIC8vIFV0aWxzXG4gICdhbmd1bGFyTW9tZW50JyxcbiAgJ3ZhbGlkYXRpb24nLFxuICAndmFsaWRhdGlvbi5ydWxlJyxcbiAgJ3ZhbGlkYXRpb24ubWF0Y2gnLFxuXG4gICd1aS5tZGVkaXRvcidcbl0pXG4uY29uZmlnKGJsb2NrVUlDb25maWcpXG4uY29uZmlnKHRvYXN0ckNvbmZpZylcbi5jb25maWcodWliUGFnaW5hdGlvbkNvbmZpZylcbi5jb25maWcodmFsaWRhdGlvblJ1bGVDb25maWcpXG4vLyAucnVuKHhlZGl0YWJsZU9wdGlvbnMpXG4vLy5kZWNvcmF0b3IoJyR1aWJNb2RhbCcsIHVpYk1vZGFsRGVjb3JhdG9yKVxuLy8gLnJ1bih4ZWRpdGFibGVUaGVtZXMpO1xuIiwiZnVuY3Rpb24gQ29uZmlnKCRzdGF0ZVByb3ZpZGVyKSB7XG4gICduZ0luamVjdCc7XG5cbiAgJHN0YXRlUHJvdmlkZXJcbiAgICAuc3RhdGUoJ2FjY291bnQnLCB7XG4gICAgICAgIHVybDogJy9hY2NvdW50JyxcbiAgICAgICAgLy9hYnN0cmFjdDogdHJ1ZSxcbiAgICAgICAgdGVtcGxhdGUgOiAnPHVpLXZpZXc+PGFjY291bnQtbGlzdD48L2FjY291bnQtbGlzdD48L3VpLXZpZXc+JyxcbiAgICAgICAgdGl0bGU6ICfotKblj7fnrqHnkIYnLFxuICAgICAgICBzaWRlYmFyTWV0YToge1xuICAgICAgICAgIGljb246ICdpY29uLXNpZGViYXJfbWVtYmVyc19pYycsXG4gICAgICAgICAgb3JkZXI6IDEwMCxcbiAgICAgICAgfVxuICAgIH0pXG4gICAgLnN0YXRlKCdhY2NvdW50Lmxpc3QnLCB7XG4gICAgICAgIHVybDogJycsXG4gICAgICAgIHRlbXBsYXRlOiAnPGFjY291bnQtbGlzdD48L2FjY291bnQtbGlzdD4nLFxuICAgICAgICB0aXRsZTogJ+i0puWPt+WIl+ihqCdcbiAgICB9KVxuICAgIC5zdGF0ZSgnYWNjb3VudC5kZXRhaWwnLCB7XG4gICAgICAgIHVybDogJy9kZXRhaWw/aWQnLFxuICAgICAgICB0ZW1wbGF0ZTogJzxhY2NvdW50LWRldGFpbD48L2FjY291bnQtZGV0YWlsPicsXG4gICAgICAgIHRpdGxlOiAn6LSm5Y+36K+m5oOFJ1xuICAgIH0pXG4gICAgO1xuXG59XG5cbmV4cG9ydCBkZWZhdWx0IENvbmZpZztcbiIsImNsYXNzIERldGFpbENvbnRyb2xsZXIge1xuXG4gIGNvbnN0cnVjdG9yKCRzdGF0ZSwgJHN0YXRlUGFyYW1zLCB0b2FzdHIsIEFjY291bnRTZXJ2aWNlLCBBcHBTZXR0aW5ncywgQ29uZmlnU2VydmljZSwgUHJvZmlsZVNlcnZpY2UpIHtcbiAgICAnbmdJbmplY3QnO1xuXG4gICAgdGhpcy5fc3RhdGUgPSAkc3RhdGU7XG4gICAgdGhpcy5fdG9hc3RyID0gdG9hc3RyO1xuICAgIHRoaXMuX3N0YXRlUGFyYW1zID0gJHN0YXRlUGFyYW1zO1xuXG4gICAgdGhpcy5fc2VydmljZSA9IEFjY291bnRTZXJ2aWNlO1xuICAgIHRoaXMuX2NvbmZpZ1NlcnZpY2UgPSBDb25maWdTZXJ2aWNlO1xuXG4gICAgdGhpcy5pZCA9IHRoaXMuX3N0YXRlUGFyYW1zLmlkO1xuICAgIHRoaXMucm9sZUtleSA9IEFwcFNldHRpbmdzLnJvbGVMaXN0S2V5O1xuICAgIHRoaXMucm9sZUxpc3QgPSBQcm9maWxlU2VydmljZS5nZXRSb2xlTGlzdCgpO1xuXG4gICAgdGhpcy5pbmZvID0gbnVsbDtcblxuICAgIHRoaXMuX2luaXQoKTtcblx0fVxuXG4gIF9pbml0KCkge1xuICAgIGxldCBwYXJhbXMgPSB7XG4gICAgICBpZDogdGhpcy5pZFxuICAgIH07XG4gICAgdGhpcy5zdGF0ZUFyciA9IHtcbiAgICAgIDA6ICfmnKrmv4DmtLsnLFxuICAgICAgMTogJ+ato+W4uCcsXG4gICAgICAyOiAn5bey5Ya757uTJyxcbiAgICAgIDM6ICflt7LliKDpmaQnXG4gICAgfVxuXG4gICAgdGhpcy5fc2VydmljZS5nZXQocGFyYW1zKS50aGVuKGRhdGEgPT4ge1xuICAgICAgdGhpcy5wZXJzb24gPSBkYXRhO1xuICAgIH0pO1xuICB9XG5cbiAgc2V0VXNlcigpIHtcbiAgICBsZXQgcGFyYW1zID0ge1xuICAgICAgdXNlcl9pZDogdGhpcy5pZCxcbiAgICAgIG5ld19wYXNzd29yZDogdGhpcy5wZXJzb24ubmV3X3Bhc3N3b3JkLFxuICAgICAgdHJ1ZV9uYW1lOiB0aGlzLnBlcnNvbi50cnVlX25hbWUsXG4gICAgICBwaG9uZTogdGhpcy5wZXJzb24ucGhvbmUsXG4gICAgICByb2xlOiB0aGlzLnBlcnNvbi5yb2xlLFxuICAgICAgcm9sZV9uYW1lOiB0aGlzLnBlcnNvbi5yb2xlX25hbWUsXG4gICAgICBzdGF0ZTogdGhpcy5wZXJzb24uc3RhdGVcbiAgICB9O1xuICAgIHRoaXMuX3NlcnZpY2Uuc2V0KHBhcmFtcykudGhlbihkYXRhID0+IHtcbiAgICAgICAgbG9jYXRpb24uaHJlZiA9ICcvIy9hY2NvdW50JztcbiAgICB9KTtcblxuICB9XG5cbn1cblxuZXhwb3J0IGRlZmF1bHQgRGV0YWlsQ29udHJvbGxlcjsiLCJpbXBvcnQgRGV0YWlsQ29udHJvbGxlciBmcm9tICcuL2N0cmwnO1xuXG5jb25zdCBkZXRhaWwgPSB7XG4gIHRlbXBsYXRlVXJsOiAnbW9kdWxlcy9hY2NvdW50L2RldGFpbC9pbmRleC5odG1sJyxcbiAgY29udHJvbGxlcjogRGV0YWlsQ29udHJvbGxlcixcbiAgY29udHJvbGxlckFzOiAndm0nXG59O1xuXG5leHBvcnQgZGVmYXVsdCBkZXRhaWw7XG4iLCJpbXBvcnQgUGFnaW5hdGlvbiBmcm9tICcuLi8uLi8uLi9jb3JlL2NvbXBvbmVudHMvbWNQYWdpbmF0aW9uL21jLXBhZ2luYXRpb24uY2xhc3MnO1xuaW1wb3J0IHthZGRDb25maWcsIGJyYW5jaENvbmZpZ30gZnJvbSAnLi4vbW9kYWxzJztcblxuY2xhc3MgTGlzdENvbnRyb2xsZXIgZXh0ZW5kcyBQYWdpbmF0aW9uIHtcblxuICBjb25zdHJ1Y3RvcigkaW5qZWN0b3IsICRzdGF0ZSwgJGxvY2F0aW9uLCAkc3RhdGVQYXJhbXMsIHRvYXN0ciwgJHVpYk1vZGFsLCBBY2NvdW50U2VydmljZSkge1xuICAgICduZ0luamVjdCc7XG5cbiAgICBzdXBlcigkaW5qZWN0b3IpO1xuXG4gICAgdGhpcy5fc3RhdGUgPSAkc3RhdGU7XG4gICAgdGhpcy5fbG9jYXRpb24gPSAkbG9jYXRpb247XG4gICAgdGhpcy5fc3RhdGVQYXJhbXMgPSAkc3RhdGVQYXJhbXM7XG4gICAgdGhpcy5fbW9kYWwgPSAkdWliTW9kYWw7XG5cbiAgICB0aGlzLl90b2FzdHIgPSB0b2FzdHI7XG5cbiAgICB0aGlzLl9zZXJ2aWNlID0gQWNjb3VudFNlcnZpY2U7XG5cbiAgICB0aGlzLmZpbHRlcnMgPSB7fTtcblxuICAgIHRoaXMub25lQXRBVGltZSA9IHRydWU7XG5cbiAgICB0aGlzLl9pbml0KCk7XG5cbiAgICB0aGlzLnN0YXRlQXJyID0ge1xuICAgICAgMDogJ+acqua/gOa0uycsXG4gICAgICAxOiAn5q2j5bi4JyxcbiAgICAgIDI6ICflt7Llhrvnu5MnLFxuICAgICAgMzogJ+W3suWIoOmZpCdcbiAgICB9XG5cblxuICB9XG5cbiAgX2luaXQoKSB7XG4gICAgdGhpcy5faW5pdEZpbHRlcnMoKTtcbiAgICB0aGlzLl9nZXRMaXN0KCk7XG4gIH1cblxuICBfaW5pdEZpbHRlcnMoKSB7XG5cbiAgICBjb25zdCBzdGF0ZVBhcmFtcyA9IHRoaXMuX3N0YXRlUGFyYW1zO1xuICAgIC8vdGhpcy5maWx0ZXJzLmtleXdvcmQgPSBzdGF0ZVBhcmFtcy5rZXl3b3JkIHx8IHZvaWQoMCk7XG5cbiAgfVxuXG4gIFxuICBfZ2V0TGlzdCgpIHtcbiAgICBsZXQgcGFyYW1zID0gdGhpcy5fZmlsdGVyRW1wdHlWYWx1ZSgpO1xuICAgIHBhcmFtcy5wYWdlID0gdGhpcy5wYWdpbmF0aW9uLnBhZ2U7XG4gICAgcGFyYW1zLnBhZ2VfbGltaXQgPSAyMDtcblxuICAgIHRoaXMuX3NlcnZpY2UubGlzdChwYXJhbXMpLnRoZW4oZGF0YSA9PiB7XG4gICAgICB0aGlzLnBhZ2luYXRpb24uY291bnQgPSBkYXRhLmNvdW50O1xuICAgICAgdGhpcy5wYWdpbmF0aW9uLnBhZ2VTaXplID0gZGF0YS5wYWdlX2xpbWl0O1xuICAgICAgdGhpcy5saXN0ID0gZGF0YS51c2VycztcbiAgICB9KTtcblxuICB9XG5cbiAgcGFnZUNoYW5nZWQoKSB7XG4gICAgdGhpcy5fZ2V0TGlzdCgpO1xuICB9XG5cbiAgcmVTZWFyY2goKSB7XG4gICAgdGhpcy5fZ2V0TGlzdCgpO1xuICB9XG5cbiAgYWRkVXNlcigpIHtcbiAgICBsZXQgbGlzdCA9IHRoaXMubGlzdDtcbiAgICBjb25zdCByZXNvbHZlID0ge1xuICAgICAgaW5mbzogZnVuY3Rpb24oKXtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICBsaXN0XG4gICAgICAgIH07XG4gICAgICB9XG4gICAgfTtcblxuICAgIGNvbnN0IG9wdGlvbnMgPSB7Li4uYWRkQ29uZmlnLCByZXNvbHZlfTtcblxuICAgIHRoaXMuX21vZGFsLm9wZW4oIG9wdGlvbnMgKTtcbiAgfVxuXG4gIGFzc2lnbkJyYW5jaChpdGVtKSB7XG4gICAgY29uc3QgcmVzb2x2ZSA9IHtcbiAgICAgIGluZm86IGZ1bmN0aW9uKCl7XG4gICAgICAgIHJldHVybiBpdGVtO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBjb25zdCBvcHRpb25zID0gey4uLmJyYW5jaENvbmZpZywgcmVzb2x2ZX07XG5cbiAgICB0aGlzLl9tb2RhbC5vcGVuKCBvcHRpb25zICk7XG4gIH1cblxufVxuXG5leHBvcnQgZGVmYXVsdCBMaXN0Q29udHJvbGxlcjtcbiIsImltcG9ydCBMaXN0Q29udHJvbGxlciBmcm9tICcuL2N0cmwnO1xuXG5jb25zdCBMaXN0ID0ge1xuICB0ZW1wbGF0ZVVybDogJ21vZHVsZXMvYWNjb3VudC9saXN0L2luZGV4Lmh0bWwnLFxuICBjb250cm9sbGVyOiBMaXN0Q29udHJvbGxlcixcbiAgY29udHJvbGxlckFzOiAndm0nXG59O1xuXG5leHBvcnQgZGVmYXVsdCBMaXN0O1xuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgQ29udHJvbGxlciB7XG4gIGNvbnN0cnVjdG9yKCRzY29wZSwgJHN0YXRlLCAkdmFsaWRhdGlvbiwgJHVpYk1vZGFsSW5zdGFuY2UsIHRvYXN0ciwgQWNjb3VudFNlcnZpY2UsIGluZm8sIEFwcFNldHRpbmdzLCBDb25maWdTZXJ2aWNlLCBQcm9maWxlU2VydmljZSkge1xuICAgICduZ0luamVjdCc7XG5cbiAgICB0aGlzLl9zY29wZSA9ICRzY29wZTtcbiAgICB0aGlzLl9zdGF0ZSA9ICRzdGF0ZTtcblxuICAgIHRoaXMuX3ZhbGlkYXRpb25Qcm92aWRlciA9ICR2YWxpZGF0aW9uO1xuXG4gICAgdGhpcy5fbW9kYWxJbnN0YW5jZSA9ICR1aWJNb2RhbEluc3RhbmNlO1xuICAgIHRoaXMuX3RvYXN0ciA9IHRvYXN0cjtcblxuICAgIHRoaXMuX3NlcnZpY2UgPSBBY2NvdW50U2VydmljZTtcbiAgICB0aGlzLl9jb25maWdTZXJ2aWNlID0gQ29uZmlnU2VydmljZTtcblxuICAgIHRoaXMucm9sZUtleSA9IEFwcFNldHRpbmdzLnJvbGVMaXN0S2V5O1xuICAgIHRoaXMucm9sZUxpc3QgPSBQcm9maWxlU2VydmljZS5nZXRSb2xlTGlzdCgpO1xuXG4gICAgdGhpcy5pbmZvID0gaW5mbztcbiAgICB0aGlzLmJhbmtMaXN0ID0gW107XG5cbiAgICB0aGlzLmlucHV0SW5mbyA9IHtcbiAgICAgIHRydWVfbmFtZTogJycsXG4gICAgICBwaG9uZTogJycsXG4gICAgICByb2xlOiAnJ1xuICAgIH07XG5cbiAgICB0aGlzLmF1dG9Db21wbGV0ZU9wdGlvbnMgPSB7XG4gICAgICBtaW5pbXVtQ2hhcnM6IDEsXG4gICAgICBkYXRhOiBmdW5jdGlvbiAodGVybSkge1xuICAgICAgICB0ZXJtID0gdGVybS50b1VwcGVyQ2FzZSgpO1xuICAgICAgICB2YXIgbWF0Y2ggPSBfLmZpbHRlcihpbmZvLmFnZW5jeUxpc3QsIGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgcmV0dXJuIHZhbHVlLnN0YXJ0c1dpdGgodGVybSk7XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gbWF0Y2g7XG4gICAgICB9XG4gICAgfVxuXG4gICAgdGhpcy5fc2VydmljZS5nZXRCYW5rTGlzdCgpLnRoZW4oZGF0YSA9PiB7XG4gICAgICB0aGlzLmJhbmtMaXN0ID0gZGF0YTtcbiAgICB9KTtcblxuICB9XG5cbiAgYXNzaWduQnJhbmNoKGl0ZW0pIHtcbiAgICBjb25zdCByZXNvbHZlID0ge1xuICAgICAgaW5mbzogZnVuY3Rpb24oKXtcbiAgICAgICAgcmV0dXJuIGl0ZW07XG4gICAgICB9XG4gICAgfTtcblxuICAgIGNvbnN0IG9wdGlvbnMgPSB7Li4uYnJhbmNoQ29uZmlnLCByZXNvbHZlfTtcblxuICAgIHRoaXMuX21vZGFsLm9wZW4oIG9wdGlvbnMgKTtcbiAgfVxuXG4gIGNhbmNlbCgpIHtcbiAgICB0aGlzLl9tb2RhbEluc3RhbmNlLmNsb3NlKCk7XG4gIH1cblxuICBzdWJtaXQoZm9ybSkge1xuICAgIC8v6aqM6K+B6KGo5Y2VXG4gICAgdGhpcy5fdmFsaWRhdGlvblByb3ZpZGVyLnZhbGlkYXRlKGZvcm0pLnN1Y2Nlc3MoKCkgPT4ge1xuICAgICAgdGhpcy5zYXZlRnVuYygpO1xuICAgIH0pO1xuICB9XG5cbiAgc2F2ZUZ1bmMoKSB7XG4gICAgY29uc3QgZGF0YSA9IHRoaXMuaW5wdXRJbmZvO1xuICAgIHRoaXMuX3NlcnZpY2UuYWRkKGRhdGEpLnRoZW4oZGF0YSA9PiB7XG4gICAgICB0aGlzLl90b2FzdHIuc3VjY2Vzcygn5re75Yqg5oiQ5YqfJyk7XG4gICAgICB0aGlzLmNhbmNlbCgpO1xuICAgICAgdGhpcy5fc3RhdGUucmVsb2FkKCk7XG4gICAgfSlcbiAgfVxufVxuIiwiaW1wb3J0IENvbnRyb2xsZXIgZnJvbSAnLi9jdHJsJztcblxuY29uc3QgQ29uZmlndXJhdGlvbiA9IHtcbiAgdGVtcGxhdGVVcmw6ICdtb2R1bGVzL2FjY291bnQvbW9kYWxzL2FkZC90ZW1wbGF0ZS5odG1sJyxcbiAgY29udHJvbGxlcjogQ29udHJvbGxlcixcbiAgY29udHJvbGxlckFzOiAndm0nXG59O1xuXG5leHBvcnQgZGVmYXVsdCBDb25maWd1cmF0aW9uO1xuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgQ29udHJvbGxlciB7XG4gIGNvbnN0cnVjdG9yKCRzY29wZSwgJHN0YXRlLCAkdmFsaWRhdGlvbiwgJHVpYk1vZGFsSW5zdGFuY2UsIHRvYXN0ciwgQWNjb3VudFNlcnZpY2UsIGluZm8pIHtcbiAgICAnbmdJbmplY3QnO1xuXG4gICAgdGhpcy5fc2NvcGUgPSAkc2NvcGU7XG4gICAgdGhpcy5fc3RhdGUgPSAkc3RhdGU7XG5cbiAgICB0aGlzLl92YWxpZGF0aW9uUHJvdmlkZXIgPSAkdmFsaWRhdGlvbjtcblxuICAgIHRoaXMuX21vZGFsSW5zdGFuY2UgPSAkdWliTW9kYWxJbnN0YW5jZTtcbiAgICB0aGlzLl90b2FzdHIgPSB0b2FzdHI7XG5cbiAgICB0aGlzLl9zZXJ2aWNlID0gQWNjb3VudFNlcnZpY2U7XG5cbiAgICB0aGlzLmluZm8gPSBpbmZvO1xuXG4gICAgdGhpcy5pbnB1dEluZm8gPSB7XG4gICAgICBicmFuY2g6IGluZm8uYmFuayAmJiBpbmZvLmJhbmsuaWRcbiAgICB9O1xuXG4gICAgdGhpcy5saXN0ID0gbnVsbDtcblxuXG4gICAgdGhpcy5fZ2V0QmFua0xpc3QoKTtcblxuICB9XG5cbiAgX2dldEJhbmtMaXN0KCkge1xuICAgIHRoaXMuX3NlcnZpY2UuZ2V0QmFua0xpc3QoKS50aGVuKGRhdGEgPT4ge1xuICAgICAgLy8gY29uc29sZS5sb2coZGF0YSk7XG4gICAgICB0aGlzLmxpc3QgPSBkYXRhO1xuICAgIH0pO1xuICB9XG5cbiAgY2FuY2VsKCkge1xuICAgIHRoaXMuX21vZGFsSW5zdGFuY2UuY2xvc2UoKTtcbiAgfVxuXG4gIHN1Ym1pdChmb3JtKSB7XG4gICAgLy/pqozor4HooajljZVcbiAgICB0aGlzLl92YWxpZGF0aW9uUHJvdmlkZXIudmFsaWRhdGUoZm9ybSkuc3VjY2VzcygoKSA9PiB7XG4gICAgICB0aGlzLnNhdmVGdW5jKCk7XG4gICAgfSk7XG4gIH1cblxuICBzYXZlRnVuYygpIHtcbiAgICAvLyBjb25zb2xlLmxvZygnc3VibWl0JylcbiAgICB0aGlzLl9zZXJ2aWNlLnNldCh7XG4gICAgICB1c2VyX2lkOiB0aGlzLmluZm8uaWQsXG4gICAgICBiYW5rX2lkOiB0aGlzLmlucHV0SW5mby5icmFuY2hcbiAgICB9KS50aGVuKGRhdGEgPT4ge1xuICAgICAgdGhpcy5jYW5jZWwoKTtcbiAgICAgIHRoaXMuX3RvYXN0ci5zdWNjZXNzKCforr7nva7miJDlip8nKTtcbiAgICAgIHRoaXMuX3N0YXRlLnJlbG9hZCgpO1xuICAgIH0pO1xuICB9XG59XG4iLCJpbXBvcnQgQ29udHJvbGxlciBmcm9tICcuL2N0cmwnO1xuXG5jb25zdCBjb25maWd1cmF0aW9uID0ge1xuICB0ZW1wbGF0ZVVybDogJ21vZHVsZXMvYWNjb3VudC9tb2RhbHMvYnJhbmNoL3RlbXBsYXRlLmh0bWwnLFxuICBjb250cm9sbGVyOiBDb250cm9sbGVyLFxuICBjb250cm9sbGVyQXM6ICd2bSdcbn07XG5cbmV4cG9ydCBkZWZhdWx0IGNvbmZpZ3VyYXRpb247XG4iLCJpbXBvcnQgYWRkQ29uZmlnIGZyb20gJy4vYWRkJztcbmltcG9ydCBicmFuY2hDb25maWcgZnJvbSAnLi9icmFuY2gnO1xuXG5leHBvcnQge1xuICBhZGRDb25maWcsXG4gIGJyYW5jaENvbmZpZ1xufVxuIiwiaW1wb3J0IGFuZ3VsYXIgZnJvbSAnYW5ndWxhcic7XG5pbXBvcnQganF1ZXJ5IGZyb20gJ2pxdWVyeSc7XG5pbXBvcnQgYm9vdHN0cmFwIGZyb20gJ2Jvb3RzdHJhcCc7XG5pbXBvcnQgY29uZmlnICBmcm9tICcuL2NvbmZpZyc7XG5pbXBvcnQgc2VydmljZSBmcm9tICcuL3NlcnZpY2UnO1xuaW1wb3J0IERldGFpbCBmcm9tICcuL2RldGFpbC8nO1xuaW1wb3J0IExpc3QgZnJvbSAnLi9saXN0Lyc7XG5cbi8vIGltcG9ydCBkZW1vU2VydmljZSAgICAgIGZyb20gJy4vc2VydmljZXMvZGVtby5zZXJ2aWNlJztcblxuXG5cblxuZXhwb3J0IGRlZmF1bHQgYW5ndWxhci5tb2R1bGUoJ2FwcC5tb2R1bGVzLmFjY291bnQnLCBbXSlcbi8vIC5maWx0ZXIoJ2ZpbHRlclR5cGUnLCBmaWx0ZXJUeXBlKVxuLnNlcnZpY2UoJ0FjY291bnRTZXJ2aWNlJywgc2VydmljZSlcblxuLmNvbXBvbmVudCgnYWNjb3VudExpc3QnLCBMaXN0KVxuLmNvbXBvbmVudCgnYWNjb3VudERldGFpbCcsIERldGFpbClcbi5jb25maWcoY29uZmlnKTtcbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIFNlcnZpY2Uge1xuICBjb25zdHJ1Y3RvcigkaHR0cCwgaHR0cEhlbHBlciwgJHJvb3RTY29wZSwgJHN0YXRlLCBBcGlNYXApIHtcbiAgICAnbmdJbmplY3QnO1xuXG4gICAgdGhpcy5faHR0cCA9ICRodHRwO1xuICAgIC8vIHRoaXMuJHEgPSAkcTtcbiAgICB0aGlzLl9odHRwSGVscGVyID0gaHR0cEhlbHBlcjtcbiAgICB0aGlzLl9hcGlNYXAgPSBBcGlNYXA7XG4gICAgdGhpcy5fYXBpID0gQXBpTWFwLnBlcnNvbjtcblxuICAgIHRoaXMuX3Jvb3RTY29wZSA9ICRyb290U2NvcGU7XG4gICAgdGhpcy5fc3RhdGUgPSAkc3RhdGU7XG4gIH1cblxuICBsaXN0KHBhcmFtcykge1xuICAgIFxuICAgIHRoaXMuX2h0dHBIZWxwZXIuYmxvY2tVSS5zdGFydCgpO1xuXG4gICAgcmV0dXJuIHRoaXMuX2h0dHAucG9zdCh0aGlzLl9hcGkubGlzdCwgcGFyYW1zKS50aGVuKHRoaXMuX2h0dHBIZWxwZXIudmVyaWZ5LCAgdGhpcy5faHR0cEhlbHBlci5lcnJvcik7XG4gIH1cblxuICBnZXQocGFyYW1zKSB7XG4gICAgXG4gICAgdGhpcy5faHR0cEhlbHBlci5ibG9ja1VJLnN0YXJ0KCk7XG5cbiAgICByZXR1cm4gdGhpcy5faHR0cC5wb3N0KHRoaXMuX2FwaS5nZXQsIHBhcmFtcykudGhlbih0aGlzLl9odHRwSGVscGVyLnZlcmlmeSwgIHRoaXMuX2h0dHBIZWxwZXIuZXJyb3IpO1xuICB9XG5cbiAgc2V0KHBhcmFtcykge1xuICAgIFxuICAgIHRoaXMuX2h0dHBIZWxwZXIuYmxvY2tVSS5zdGFydCgpO1xuICAgIFxuICAgIHJldHVybiB0aGlzLl9odHRwLnBvc3QodGhpcy5fYXBpLnNldCwgcGFyYW1zKS50aGVuKHRoaXMuX2h0dHBIZWxwZXIudmVyaWZ5LCAgdGhpcy5faHR0cEhlbHBlci5lcnJvcik7XG4gIH1cblxuICBhZGQocGFyYW1zKSB7XG4gICAgXG4gICAgdGhpcy5faHR0cEhlbHBlci5ibG9ja1VJLnN0YXJ0KCk7XG4gICAgXG4gICAgcmV0dXJuIHRoaXMuX2h0dHAucG9zdCh0aGlzLl9hcGkuYWRkLCBwYXJhbXMpLnRoZW4odGhpcy5faHR0cEhlbHBlci52ZXJpZnksICB0aGlzLl9odHRwSGVscGVyLmVycm9yKTtcbiAgfVxuXG4gIGdldEJhbmtMaXN0KHBhcmFtcykge1xuICAgIHRoaXMuX2h0dHBIZWxwZXIuYmxvY2tVSS5zdGFydCgpO1xuICAgIHJldHVybiB0aGlzLl9odHRwLnBvc3QodGhpcy5fYXBpTWFwLmJhbmsuZ2V0LCBwYXJhbXMpXG4gICAgICAudGhlbih0aGlzLl9odHRwSGVscGVyLnZlcmlmeSwgdGhpcy5faHR0cEhlbHBlci5lcnJvcik7XG4gIH1cblxuICBnZXRSb2xlTGlzdCgpIHtcbiAgICB0aGlzLl9odHRwSGVscGVyLmJsb2NrVUkuc3RhcnQoKTtcbiAgICBcbiAgICByZXR1cm4gdGhpcy5faHR0cC5nZXQodGhpcy5fYXBpTWFwLmF1dGguZ2V0KS50aGVuKHRoaXMuX2h0dHBIZWxwZXIudmVyaWZ5LCAgdGhpcy5faHR0cEhlbHBlci5lcnJvcik7XG4gIH1cblxufSIsImZ1bmN0aW9uIENvbmZpZygkc3RhdGVQcm92aWRlcikge1xuICAnbmdJbmplY3QnO1xuXG4gICRzdGF0ZVByb3ZpZGVyXG4gICAgLnN0YXRlKCdiYW5rJywge1xuICAgICAgICB1cmw6ICcvYmFuaycsXG4gICAgICAgIC8vYWJzdHJhY3Q6IHRydWUsXG4gICAgICAgIHRlbXBsYXRlIDogJzx1aS12aWV3PjxiYW5rLWxpc3Q+PC9iYW5rLWxpc3Q+PC91aS12aWV3PicsXG4gICAgICAgIHRpdGxlOiAn5py65p6E566h55CGJyxcbiAgICAgICAgc2lkZWJhck1ldGE6IHtcbiAgICAgICAgICBpY29uOiAnaWNvbi1zaWRlYmFyX21lbWJlcnNfaWMnLFxuICAgICAgICAgIG9yZGVyOiAxMCxcbiAgICAgICAgfVxuICAgIH0pXG4gICAgLy8gLnN0YXRlKCdiYW5rLmxpc3QnLCB7XG4gICAgLy8gICAgIHVybDogJycsXG4gICAgLy8gICAgIHRlbXBsYXRlOiAnPGJhbmstbGlzdD48L2JhbmstbGlzdD4nLFxuICAgIC8vICAgICB0aXRsZTogJ+acuuaehOWIl+ihqCdcbiAgICAvLyB9KVxuXG59XG5cbmV4cG9ydCBkZWZhdWx0IENvbmZpZztcbiIsImltcG9ydCBQYWdpbmF0aW9uIGZyb20gJy4uLy4uLy4uL2NvcmUvY29tcG9uZW50cy9tY1BhZ2luYXRpb24vbWMtcGFnaW5hdGlvbi5jbGFzcyc7XG5pbXBvcnQge2JyYW5jaENvbmZpZywgYWRkQ29uZmlnLCBtYXBDb25maWcsIGVkaXRDb25maWd9IGZyb20gJy4uL21vZGFscyc7XG5cblxuY2xhc3MgTGlzdENvbnRyb2xsZXIgZXh0ZW5kcyBQYWdpbmF0aW9uIHtcblxuICBjb25zdHJ1Y3RvcigkaW5qZWN0b3IsICRzdGF0ZSwgJGxvY2F0aW9uLCAkc3RhdGVQYXJhbXMsIHRvYXN0ciwgJHVpYk1vZGFsLCBCYW5rU2VydmljZSkge1xuICAgICduZ0luamVjdCc7XG5cbiAgICBzdXBlcigkaW5qZWN0b3IpO1xuXG4gICAgdGhpcy5fc3RhdGUgPSAkc3RhdGU7XG4gICAgdGhpcy5fbG9jYXRpb24gPSAkbG9jYXRpb247XG4gICAgdGhpcy5fc3RhdGVQYXJhbXMgPSAkc3RhdGVQYXJhbXM7XG4gICAgdGhpcy5fbW9kYWwgPSAkdWliTW9kYWw7XG5cbiAgICB0aGlzLl90b2FzdHIgPSB0b2FzdHI7XG5cbiAgICB0aGlzLl9zZXJ2aWNlID0gQmFua1NlcnZpY2U7XG5cbiAgICB0aGlzLmZpbHRlcnMgPSB7fTtcblxuICAgIHRoaXMub25lQXRBVGltZSA9IHRydWU7XG5cbiAgICB0aGlzLl9pbml0KCk7XG4gICAgdGhpcy5iYW5rU3RhdGVMaXN0ID0gW1xuICAgICAge1xuICAgICAgICB2YWx1ZTogMSxcbiAgICAgICAgbGFiZWw6ICfmraPluLgnXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICB2YWx1ZTogMyxcbiAgICAgICAgbGFiZWw6ICflt7LliKDpmaQnXG4gICAgICB9LFxuICAgIF07XG4gIH1cblxuICBfaW5pdCgpIHtcbiAgICB0aGlzLl9pbml0RmlsdGVycygpO1xuICAgIHRoaXMuX2dldExpc3QoKTsgIFxuICB9XG5cbiAgX2luaXRGaWx0ZXJzKCkge1xuXG4gICAgY29uc3Qgc3RhdGVQYXJhbXMgPSB0aGlzLl9zdGF0ZVBhcmFtcztcbiAgICAvL3RoaXMuZmlsdGVycy5rZXl3b3JkID0gc3RhdGVQYXJhbXMua2V5d29yZCB8fCB2b2lkKDApO1xuXG4gIH1cblxuICBcbiAgX2dldExpc3QoKSB7XG4gICAgbGV0IHBhcmFtcyA9IHRoaXMuX2ZpbHRlckVtcHR5VmFsdWUoKTsgIFxuICAgIC8vcGFyYW1zLnBhZ2UgPSB0aGlzLnBhZ2luYXRpb24ucGFnZTtcbiAgICAvL3RoaXMucGFnaW5hdGlvbi5wYWdlU2l6ZSA9IDU7XG4gICAgdGhpcy5fc2VydmljZS5saXN0KHBhcmFtcykudGhlbihkYXRhID0+IHtcbiAgICAgIC8vdGhpcy5wYWdpbmF0aW9uLmNvdW50ID0gMTA7XG4gICAgICB0aGlzLmxpc3QgPSBkYXRhO1xuICAgIH0pO1xuXG4gIH1cblxuICBwYWdlQ2hhbmdlZCgpIHtcbiAgICB0aGlzLl9nZXRMaXN0KCk7XG4gIH1cblxuICByZVNlYXJjaCgpIHtcbiAgICB0aGlzLl9nZXRMaXN0KCk7XG4gIH1cblxuICBzd2l0Y2goa2V5LCB2YWx1ZSkge1xuXG4gICAgaWYoIWtleSkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIHRoaXMuZmlsdGVyc1trZXldID0gdmFsdWU7XG5cbiAgICB0aGlzLnJlU2VhcmNoKCk7XG4gIH1cblxuICBhZGRCYW5rKCkge1xuICAgIGxldCBsaXN0ID0gdGhpcy5saXN0O1xuICAgIGNvbnN0IHJlc29sdmUgPSB7XG4gICAgICBpbmZvOiBmdW5jdGlvbigpe1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIGxpc3RcbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgY29uc3Qgb3B0aW9ucyA9IHsuLi5hZGRDb25maWcsIHJlc29sdmV9O1xuXG4gICAgdGhpcy5fbW9kYWwub3Blbiggb3B0aW9ucyApO1xuICB9XG5cbiAgc2V0TWFwKGl0ZW0pIHtcbiAgICBjb25zdCByZXNvbHZlID0ge1xuICAgICAgaW5mbzogZnVuY3Rpb24oKXtcbiAgICAgICAgcmV0dXJuIGl0ZW07ICAgICAgXG4gICAgICB9XG4gICAgfTtcblxuICAgIGNvbnN0IG9wdGlvbnMgPSB7Li4ubWFwQ29uZmlnLCByZXNvbHZlfTtcblxuICAgIHZhciBtb2RhbCA9IHRoaXMubW9kYWw7XG4gICAgdGhpcy5fbW9kYWwub3Blbiggb3B0aW9ucyApO1xuICB9XG5cbiAgc2V0TmFtZShpdGVtKSB7XG4gICAgY29uc3QgcmVzb2x2ZSA9IHtcbiAgICAgIGluZm86IGZ1bmN0aW9uKCl7XG4gICAgICAgIHJldHVybiBpdGVtOyAgICAgIFxuICAgICAgfVxuICAgIH07XG5cbiAgICBjb25zdCBvcHRpb25zID0gey4uLmVkaXRDb25maWcsIHJlc29sdmV9O1xuXG4gICAgdmFyIG1vZGFsID0gdGhpcy5tb2RhbDtcbiAgICB0aGlzLl9tb2RhbC5vcGVuKCBvcHRpb25zICk7XG4gIH1cblxuXG4gIGRlbGV0ZShpdGVtKSB7XG4gICAgdGhpcy5fc2VydmljZS5zZXQoe1xuICAgICAgaWQ6IGl0ZW0uaWQsXG4gICAgICBzdGF0ZTogM1xuICAgIH0pLnRoZW4oZGF0YSA9PiB7XG4gICAgICB0aGlzLl90b2FzdHIuc3VjY2Vzcygn5Yig6Zmk5oiQ5YqfJyk7XG4gICAgICB0aGlzLl9zdGF0ZS5yZWxvYWQoKTtcbiAgICB9KTtcbiAgfVxuXG4gIHJlZGVsZXRlKGl0ZW0pIHtcbiAgICB0aGlzLl9zZXJ2aWNlLnNldCh7XG4gICAgICBpZDogaXRlbS5pZCxcbiAgICAgIHN0YXRlOiAxXG4gICAgfSkudGhlbihkYXRhID0+IHtcbiAgICAgIHRoaXMuX3RvYXN0ci5zdWNjZXNzKCflj5bmtojliKDpmaTmiJDlip8nKTtcbiAgICAgIHRoaXMuX3N0YXRlLnJlbG9hZCgpO1xuICAgIH0pO1xuICB9XG5cblxuICBhc3NpZ25CcmFuY2goaXRlbSkge1xuICAgIGNvbnN0IHJlc29sdmUgPSB7XG4gICAgICBpbmZvOiBmdW5jdGlvbigpe1xuICAgICAgICByZXR1cm4gaXRlbTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgY29uc3Qgb3B0aW9ucyA9IHsuLi5icmFuY2hDb25maWcsIHJlc29sdmV9O1xuXG4gICAgdGhpcy5fbW9kYWwub3Blbiggb3B0aW9ucyApO1xuICB9XG5cblxufVxuXG5leHBvcnQgZGVmYXVsdCBMaXN0Q29udHJvbGxlcjtcbiIsImltcG9ydCBMaXN0Q29udHJvbGxlciBmcm9tICcuL2N0cmwnO1xuXG5jb25zdCBMaXN0ID0ge1xuICB0ZW1wbGF0ZVVybDogJ21vZHVsZXMvYmFuay9saXN0L2luZGV4Lmh0bWwnLFxuICBjb250cm9sbGVyOiBMaXN0Q29udHJvbGxlcixcbiAgY29udHJvbGxlckFzOiAndm0nXG59O1xuXG5leHBvcnQgZGVmYXVsdCBMaXN0O1xuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgQ29udHJvbGxlciB7XG4gIGNvbnN0cnVjdG9yKCRzY29wZSwgJHN0YXRlLCAkdmFsaWRhdGlvbiwgJHVpYk1vZGFsSW5zdGFuY2UsIHRvYXN0ciwgQmFua1NlcnZpY2UsIGluZm8pIHtcbiAgICAnbmdJbmplY3QnO1xuXG4gICAgdGhpcy5fc2NvcGUgPSAkc2NvcGU7XG4gICAgdGhpcy5fc3RhdGUgPSAkc3RhdGU7XG5cbiAgICB0aGlzLl92YWxpZGF0aW9uUHJvdmlkZXIgPSAkdmFsaWRhdGlvbjtcblxuICAgIHRoaXMuX21vZGFsSW5zdGFuY2UgPSAkdWliTW9kYWxJbnN0YW5jZTtcbiAgICB0aGlzLl90b2FzdHIgPSB0b2FzdHI7XG5cbiAgICB0aGlzLl9zZXJ2aWNlID0gQmFua1NlcnZpY2U7XG5cbiAgICB0aGlzLmluZm8gPSBpbmZvO1xuXG4gICAgdGhpcy5pbnB1dEluZm8gPSB7XG4gICAgICBuYW1lOiAnJ1xuICAgIH07XG5cbiAgICB0aGlzLmF1dG9Db21wbGV0ZU9wdGlvbnMgPSB7XG4gICAgICBtaW5pbXVtQ2hhcnM6IDEsXG4gICAgICBkYXRhOiBmdW5jdGlvbiAodGVybSkge1xuICAgICAgICB0ZXJtID0gdGVybS50b1VwcGVyQ2FzZSgpO1xuICAgICAgICB2YXIgbWF0Y2ggPSBfLmZpbHRlcihpbmZvLmFnZW5jeUxpc3QsIGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgcmV0dXJuIHZhbHVlLnN0YXJ0c1dpdGgodGVybSk7XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gbWF0Y2g7XG4gICAgICB9XG4gICAgfVxuXG4gIH1cblxuICBcblxuICBjYW5jZWwoKSB7XG4gICAgdGhpcy5fbW9kYWxJbnN0YW5jZS5jbG9zZSgpO1xuICB9XG5cbiAgc3VibWl0KGZvcm0pIHtcbiAgICAvL+mqjOivgeihqOWNlVxuICAgIHRoaXMuX3ZhbGlkYXRpb25Qcm92aWRlci52YWxpZGF0ZShmb3JtKS5zdWNjZXNzKCgpID0+IHtcbiAgICAgIHRoaXMuc2F2ZUZ1bmMoKTtcbiAgICB9KTtcbiAgfVxuXG4gIHNhdmVGdW5jKCkge1xuICAgIGNvbnN0IGRhdGEgPSB0aGlzLmlucHV0SW5mbztcbiAgICB0aGlzLl9zZXJ2aWNlLmFkZChkYXRhKS50aGVuKGRhdGEgPT4ge1xuICAgICAgdGhpcy5fdG9hc3RyLnN1Y2Nlc3MoJ+a3u+WKoOaIkOWKnycpO1xuICAgICAgdGhpcy5jYW5jZWwoKTtcbiAgICAgIHRoaXMuX3N0YXRlLnJlbG9hZCgpO1xuICAgIH0pXG4gIH1cbn1cbiIsImltcG9ydCBDb250cm9sbGVyIGZyb20gJy4vY3RybCc7XG5cbmNvbnN0IENvbmZpZ3VyYXRpb24gPSB7XG4gIHRlbXBsYXRlVXJsOiAnbW9kdWxlcy9iYW5rL21vZGFscy9hZGQvdGVtcGxhdGUuaHRtbCcsXG4gIGNvbnRyb2xsZXI6IENvbnRyb2xsZXIsXG4gIGNvbnRyb2xsZXJBczogJ3ZtJ1xufTtcblxuZXhwb3J0IGRlZmF1bHQgQ29uZmlndXJhdGlvbjtcbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIENvbnRyb2xsZXIge1xuICBjb25zdHJ1Y3Rvcigkc2NvcGUsICRzdGF0ZSwgJHZhbGlkYXRpb24sICR1aWJNb2RhbEluc3RhbmNlLCB0b2FzdHIsIEJhbmtTZXJ2aWNlLCBpbmZvKSB7XG4gICAgJ25nSW5qZWN0JztcblxuICAgIHRoaXMuX3Njb3BlID0gJHNjb3BlO1xuICAgIHRoaXMuX3N0YXRlID0gJHN0YXRlO1xuXG4gICAgdGhpcy5fdmFsaWRhdGlvblByb3ZpZGVyID0gJHZhbGlkYXRpb247XG5cbiAgICB0aGlzLl9tb2RhbEluc3RhbmNlID0gJHVpYk1vZGFsSW5zdGFuY2U7XG4gICAgdGhpcy5fdG9hc3RyID0gdG9hc3RyO1xuXG4gICAgdGhpcy5fc2VydmljZSA9IEJhbmtTZXJ2aWNlO1xuXG4gICAgdGhpcy5pbmZvID0gaW5mbztcblxuICAgIHRoaXMuaW5wdXRJbmZvID0ge1xuICAgICAgYnJhbmNoOiBpbmZvLmJhbmsgJiYgaW5mby5iYW5rLmlkXG4gICAgfTtcblxuICAgIHRoaXMubGlzdCA9IG51bGw7XG5cblxuICAgIHRoaXMuX2dldEJhbmtMaXN0KCk7XG5cbiAgfVxuXG4gIF9nZXRCYW5rTGlzdCgpIHtcbiAgICB0aGlzLl9zZXJ2aWNlLmxpc3Qoe1xuICAgICAgc3RhdGU6IDFcbiAgICB9KS50aGVuKGRhdGEgPT4ge1xuICAgICAgdGhpcy5saXN0ID0gZGF0YTtcbiAgICB9KTtcbiAgfVxuXG4gIGNhbmNlbCgpIHtcbiAgICB0aGlzLl9tb2RhbEluc3RhbmNlLmNsb3NlKCk7XG4gIH1cblxuICBzdWJtaXQoZm9ybSkge1xuICAgIC8v6aqM6K+B6KGo5Y2VXG4gICAgdGhpcy5fdmFsaWRhdGlvblByb3ZpZGVyLnZhbGlkYXRlKGZvcm0pLnN1Y2Nlc3MoKCkgPT4ge1xuICAgICAgdGhpcy5zYXZlRnVuYygpO1xuICAgIH0pO1xuICB9XG5cbiAgc2F2ZUZ1bmMoKSB7XG4gICAgdGhpcy5fc2VydmljZS5zZXQoe1xuICAgICAgc3VwZXJpb3JfaWQ6IHRoaXMuaW5wdXRJbmZvLmJyYW5jaCxcbiAgICAgIGlkOiB0aGlzLmluZm8uaWQsXG4gICAgfSkudGhlbihkYXRhID0+IHtcbiAgICAgIHRoaXMuY2FuY2VsKCk7XG4gICAgICB0aGlzLl90b2FzdHIuc3VjY2Vzcygn6K6+572u5oiQ5YqfJyk7XG4gICAgICB0aGlzLl9zdGF0ZS5yZWxvYWQoKTtcbiAgICB9KTtcbiAgfVxufVxuIiwiaW1wb3J0IENvbnRyb2xsZXIgZnJvbSAnLi9jdHJsJztcblxuY29uc3QgY29uZmlndXJhdGlvbiA9IHtcbiAgdGVtcGxhdGVVcmw6ICdtb2R1bGVzL2JhbmsvbW9kYWxzL2JyYW5jaC90ZW1wbGF0ZS5odG1sJyxcbiAgY29udHJvbGxlcjogQ29udHJvbGxlcixcbiAgY29udHJvbGxlckFzOiAndm0nXG59O1xuXG5leHBvcnQgZGVmYXVsdCBjb25maWd1cmF0aW9uO1xuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgQ29udHJvbGxlciB7XG4gIGNvbnN0cnVjdG9yKCRzY29wZSwgJHN0YXRlLCAkdmFsaWRhdGlvbiwgJHVpYk1vZGFsSW5zdGFuY2UsIHRvYXN0ciwgQmFua1NlcnZpY2UsIGluZm8pIHtcbiAgICAnbmdJbmplY3QnO1xuXG4gICAgdGhpcy5fc2NvcGUgPSAkc2NvcGU7XG4gICAgdGhpcy5fc3RhdGUgPSAkc3RhdGU7XG5cbiAgICB0aGlzLl92YWxpZGF0aW9uUHJvdmlkZXIgPSAkdmFsaWRhdGlvbjtcblxuICAgIHRoaXMuX21vZGFsSW5zdGFuY2UgPSAkdWliTW9kYWxJbnN0YW5jZTtcbiAgICB0aGlzLl90b2FzdHIgPSB0b2FzdHI7XG5cbiAgICB0aGlzLl9zZXJ2aWNlID0gQmFua1NlcnZpY2U7XG5cbiAgICB0aGlzLmluZm8gPSBpbmZvO1xuXG4gICAgdGhpcy5pbnB1dEluZm8gPSB7XG4gICAgICBuYW1lOiB0aGlzLmluZm8ubmFtZSxcbiAgICAgIHBob25lOiB0aGlzLmluZm8ucGhvbmUsXG4gICAgICBhZGRyZXNzOiB0aGlzLmluZm8uYWRkcmVzc1xuICAgIH07XG5cbiAgICB0aGlzLmF1dG9Db21wbGV0ZU9wdGlvbnMgPSB7XG4gICAgICBtaW5pbXVtQ2hhcnM6IDEsXG4gICAgICBkYXRhOiBmdW5jdGlvbiAodGVybSkge1xuICAgICAgICB0ZXJtID0gdGVybS50b1VwcGVyQ2FzZSgpO1xuICAgICAgICB2YXIgbWF0Y2ggPSBfLmZpbHRlcihpbmZvLmFnZW5jeUxpc3QsIGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgcmV0dXJuIHZhbHVlLnN0YXJ0c1dpdGgodGVybSk7XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gbWF0Y2g7XG4gICAgICB9XG4gICAgfVxuXG4gIH1cblxuICBcblxuICBjYW5jZWwoKSB7XG4gICAgdGhpcy5fbW9kYWxJbnN0YW5jZS5jbG9zZSgpO1xuICB9XG5cbiAgc3VibWl0KGZvcm0pIHtcbiAgICAvL+mqjOivgeihqOWNlVxuICAgIHRoaXMuX3ZhbGlkYXRpb25Qcm92aWRlci52YWxpZGF0ZShmb3JtKS5zdWNjZXNzKCgpID0+IHtcbiAgICAgIHRoaXMuc2F2ZUZ1bmMoKTtcbiAgICB9KTtcbiAgfVxuXG4gIHNhdmVGdW5jKCkge1xuICAgIGNvbnN0IGRhdGEgPSB7XG4gICAgICBpZDogdGhpcy5pbmZvLmlkLFxuICAgICAgbmFtZTogdGhpcy5pbnB1dEluZm8ubmFtZSxcbiAgICAgIHBob25lOiB0aGlzLmlucHV0SW5mby5waG9uZSxcbiAgICAgIGFkZHJlc3M6IHRoaXMuaW5wdXRJbmZvLmFkZHJlc3NcbiAgICB9XG4gICAgdGhpcy5fc2VydmljZS5zZXQoZGF0YSkudGhlbihkYXRhID0+IHtcbiAgICAgIHRoaXMuX3RvYXN0ci5zdWNjZXNzKCfkv67mlLnmiJDlip8nKTtcbiAgICAgIHRoaXMuY2FuY2VsKCk7XG4gICAgICB0aGlzLl9zdGF0ZS5yZWxvYWQoKTtcbiAgICB9KVxuICB9XG59XG4iLCJpbXBvcnQgQ29udHJvbGxlciBmcm9tICcuL2N0cmwnO1xuXG5jb25zdCBDb25maWd1cmF0aW9uID0ge1xuICB0ZW1wbGF0ZVVybDogJ21vZHVsZXMvYmFuay9tb2RhbHMvZWRpdC90ZW1wbGF0ZS5odG1sJyxcbiAgY29udHJvbGxlcjogQ29udHJvbGxlcixcbiAgY29udHJvbGxlckFzOiAndm0nXG59O1xuXG5leHBvcnQgZGVmYXVsdCBDb25maWd1cmF0aW9uO1xuIiwiaW1wb3J0IGJyYW5jaENvbmZpZyBmcm9tICcuL2JyYW5jaCc7XG5pbXBvcnQgYWRkQ29uZmlnIGZyb20gJy4vYWRkJztcbmltcG9ydCBtYXBDb25maWcgZnJvbSAnLi9tYXAnO1xuaW1wb3J0IGVkaXRDb25maWcgZnJvbSAnLi9lZGl0JztcblxuZXhwb3J0IHtcbiAgYnJhbmNoQ29uZmlnLFxuICBhZGRDb25maWcsXG4gIG1hcENvbmZpZyxcbiAgZWRpdENvbmZpZ1xufVxuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgQ29udHJvbGxlciB7XG4gIGNvbnN0cnVjdG9yKCRzY29wZSwgJHN0YXRlLCAkdmFsaWRhdGlvbiwgJHVpYk1vZGFsSW5zdGFuY2UsIHRvYXN0ciwgQmFua1NlcnZpY2UsIGluZm8pIHtcbiAgICAnbmdJbmplY3QnO1xuXG4gICAgdGhpcy5fc2NvcGUgPSAkc2NvcGU7XG4gICAgdGhpcy5fc3RhdGUgPSAkc3RhdGU7XG5cbiAgICB0aGlzLl92YWxpZGF0aW9uUHJvdmlkZXIgPSAkdmFsaWRhdGlvbjtcblxuICAgIHRoaXMuX21vZGFsSW5zdGFuY2UgPSAkdWliTW9kYWxJbnN0YW5jZTtcbiAgICB0aGlzLl90b2FzdHIgPSB0b2FzdHI7XG5cbiAgICB0aGlzLl9zZXJ2aWNlID0gQmFua1NlcnZpY2U7XG5cbiAgICB0aGlzLmluZm8gPSBpbmZvO1xuXG4gICAgaWYgKHRoaXMuaW5mby5jb29yZGluYXRlcyA9PSBudWxsICkge1xuICAgICAgdGhpcy5sb25naXR1ZGUgPSAxMTYuMzMxMzk4LFxuICAgICAgdGhpcy5sYXRpdHVkZSA9IDM5Ljg5NzQ0NVxuICAgIH0gZWxzZSB7XG4gICAgICBbdGhpcy5sb25naXR1ZGUsIHRoaXMubGF0aXR1ZGVdID0gdGhpcy5pbmZvLmNvb3JkaW5hdGVzLnNwbGl0KFwiLFwiKTtcbiAgICB9XG5cbiAgICB0aGlzLm9wdHMgPSB7XG4gICAgICBjZW50ZXI6IHtcbiAgICAgICAgbG9uZ2l0dWRlOiB0aGlzLmxvbmdpdHVkZSxcbiAgICAgICAgbGF0aXR1ZGU6IHRoaXMubGF0aXR1ZGVcbiAgICAgIH0sXG4gICAgICB6b29tOiAxMSxcbiAgICAgIGNpdHk6ICdTaGVuWmhlbicsXG4gICAgICBlbmFibGVTY3JvbGxXaGVlbFpvb206IHRydWVcbiAgICB9XG4gIH1cblxuICBsb2FkTWFwKG1hcCkge1xuICAgIG1hcC5kaXNhYmxlQXV0b1Jlc2l6ZSgpO1xuICAgIG1hcC5lbmFibGVBdXRvUmVzaXplKCk7XG4gICAgaWYgKHRoaXMuaW5mby5jb29yZGluYXRlcyA9PSBudWxsKSB7XG4gICAgICBmdW5jdGlvbiBteUZ1bihyZXN1bHQpe1xuICAgICAgICB2YXIgY2l0eU5hbWUgPSByZXN1bHQubmFtZTtcbiAgICAgICAgbWFwLnNldENlbnRlcihjaXR5TmFtZSk7XG4gICAgICB9XG4gICAgICB2YXIgbXlDaXR5ID0gbmV3IEJNYXAuTG9jYWxDaXR5KCk7XG4gICAgICBteUNpdHkuZ2V0KG15RnVuKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdmFyIHBvaW50ID0gbmV3IEJNYXAuUG9pbnQodGhpcy5sb25naXR1ZGUsdGhpcy5sYXRpdHVkZSk7XG4gICAgICBuZXcgQk1hcC5HZW9jb2RlcigpLmdldExvY2F0aW9uKFxuICAgICAgICAgIHBvaW50LCBmdW5jdGlvbihycyl7XG4gICAgICAgICAgICBtYXAuc2V0Q2VudGVyKHJzLmFkZHJlc3NDb21wb25lbnRzLmNpdHkpO1xuICAgICAgICAgIH0pO1xuICAgIH1cbiAgICB2YXIgdGhhdCA9IHRoaXM7XG4gICAgbWFwLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLGZ1bmN0aW9uKGUpe1xuICAgICAgdmFyIHB0ID0gZS5wb2ludDtcbiAgICAgIHRoYXQubGF0aXR1ZGUgPSBwdC5sYXQ7XG4gICAgICB0aGF0LmxvbmdpdHVkZSA9IHB0LmxuZztcbiAgICAgIG5ldyBCTWFwLkdlb2NvZGVyKCkuZ2V0TG9jYXRpb24oXG4gICAgICAgIHB0LCBmdW5jdGlvbihycyl7XG4gICAgICAgIHZhciBhZGRDb21wID0gcnMuYWRkcmVzc0NvbXBvbmVudHM7XG4gICAgICAgIHZhciByID0gY29uZmlybShhZGRDb21wLnByb3ZpbmNlICsgXCIsIFwiICsgYWRkQ29tcC5jaXR5ICsgXCIsIFwiICsgYWRkQ29tcC5kaXN0cmljdCArIFwiLCBcIiArIGFkZENvbXAuc3RyZWV0ICsgXCIsIFwiICsgYWRkQ29tcC5zdHJlZXROdW1iZXIpO1xuICAgICAgICBpZiAocikge1xuICAgICAgICAgIHRoYXQuX3NlcnZpY2Uuc2V0KHtcbiAgICAgICAgICAgIGlkOiB0aGF0LmluZm8uaWQsXG4gICAgICAgICAgICBhZGRyZXNzOiBhZGRDb21wLnByb3ZpbmNlICsgYWRkQ29tcC5jaXR5ICsgYWRkQ29tcC5kaXN0cmljdCArIGFkZENvbXAuc3RyZWV0ICsgYWRkQ29tcC5zdHJlZXROdW1iZXIsXG4gICAgICAgICAgICBjb29yZGluYXRlczogdGhhdC5sb25naXR1ZGUrIFwiLFwiICsgdGhhdC5sYXRpdHVkZVxuICAgICAgICAgIH0pLnRoZW4oZGF0YSA9PiB7XG4gICAgICAgICAgICB0aGF0LmNhbmNlbCgpO1xuICAgICAgICAgICAgdGhhdC5fdG9hc3RyLnN1Y2Nlc3MoJ+iuvue9ruaIkOWKnycpO1xuICAgICAgICAgICAgdGhhdC5fc3RhdGUucmVsb2FkKCk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH0pXG4gICAgfSk7XG4gIH07XG5cbiAgY2FuY2VsKCkge1xuICAgIHRoaXMuX21vZGFsSW5zdGFuY2UuY2xvc2UoKTtcbiAgfVxufVxuIiwiaW1wb3J0IENvbnRyb2xsZXIgZnJvbSAnLi9jdHJsJztcblxuY29uc3QgQ29uZmlndXJhdGlvbiA9IHtcbiAgdGVtcGxhdGVVcmw6ICdtb2R1bGVzL2JhbmsvbW9kYWxzL21hcC90ZW1wbGF0ZS5odG1sJyxcbiAgY29udHJvbGxlcjogQ29udHJvbGxlcixcbiAgY29udHJvbGxlckFzOiAndm0nXG59O1xuXG5leHBvcnQgZGVmYXVsdCBDb25maWd1cmF0aW9uO1xuIiwiaW1wb3J0IGFuZ3VsYXIgZnJvbSAnYW5ndWxhcic7XG5pbXBvcnQgYm9vdHN0cmFwIGZyb20gJ2Jvb3RzdHJhcCc7XG5pbXBvcnQgY29uZmlnICBmcm9tICcuL2NvbmZpZyc7XG5pbXBvcnQgc2VydmljZSBmcm9tICcuL3NlcnZpY2UnO1xuaW1wb3J0IExpc3QgZnJvbSAnLi9saXN0Lyc7XG5pbXBvcnQge25nQmFpZHVNYXB9IGZyb20gJ2FuZ3VsYXItYmFpZHUtbWFwJztcblxuLy8gaW1wb3J0IGRlbW9TZXJ2aWNlICAgICAgZnJvbSAnLi9zZXJ2aWNlcy9kZW1vLnNlcnZpY2UnO1xuXG5cblxuXG5leHBvcnQgZGVmYXVsdCBhbmd1bGFyLm1vZHVsZSgnYXBwLm1vZHVsZXMuYmFuaycsIFtuZ0JhaWR1TWFwXSlcbi8vIC5maWx0ZXIoJ2ZpbHRlclR5cGUnLCBmaWx0ZXJUeXBlKVxuLnNlcnZpY2UoJ0JhbmtTZXJ2aWNlJywgc2VydmljZSlcblxuLmNvbXBvbmVudCgnYmFua0xpc3QnLCBMaXN0KVxuLmNvbmZpZyhjb25maWcpXG4vLyAuY29uZmlnKFsnbWFwU2NyaXB0U2VydmljZVByb3ZpZGVyJywgZnVuY3Rpb24ocHJvdmlkZXIpIHtcbi8vICAgICBwcm92aWRlci5zZXRLZXkoJzhCRWFTZG84RTdWRUhqTTBweFdzOGdJc0hoa0RsT09XJyk7XG4vLyB9XSlcbjtcbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIFNlcnZpY2Uge1xuICBjb25zdHJ1Y3RvcigkaHR0cCwgaHR0cEhlbHBlciwgJHJvb3RTY29wZSwgJHN0YXRlLCBBcGlNYXApIHtcbiAgICAnbmdJbmplY3QnO1xuXG4gICAgdGhpcy5faHR0cCA9ICRodHRwO1xuICAgIC8vIHRoaXMuJHEgPSAkcTtcbiAgICB0aGlzLl9odHRwSGVscGVyID0gaHR0cEhlbHBlcjtcblxuICAgIHRoaXMuX2FwaSA9IEFwaU1hcC5iYW5rO1xuXG4gICAgdGhpcy5fcm9vdFNjb3BlID0gJHJvb3RTY29wZTtcbiAgICB0aGlzLl9zdGF0ZSA9ICRzdGF0ZTtcbiAgfVxuXG4gIGxpc3QocGFyYW1zKSB7XG4gICAgXG4gICAgdGhpcy5faHR0cEhlbHBlci5ibG9ja1VJLnN0YXJ0KCk7XG5cbiAgICByZXR1cm4gdGhpcy5faHR0cC5wb3N0KHRoaXMuX2FwaS5nZXQsIHBhcmFtcykudGhlbih0aGlzLl9odHRwSGVscGVyLnZlcmlmeSwgIHRoaXMuX2h0dHBIZWxwZXIuZXJyb3IpO1xuICB9XG5cbiAgYWRkKHBhcmFtcykge1xuICAgIFxuICAgIHRoaXMuX2h0dHBIZWxwZXIuYmxvY2tVSS5zdGFydCgpO1xuXG4gICAgcmV0dXJuIHRoaXMuX2h0dHAucG9zdCh0aGlzLl9hcGkuYWRkLCBwYXJhbXMpLnRoZW4odGhpcy5faHR0cEhlbHBlci52ZXJpZnksICB0aGlzLl9odHRwSGVscGVyLmVycm9yKTtcbiAgfVxuXG5cbiAgc2V0KHBhcmFtcykge1xuICAgIFxuICAgIHRoaXMuX2h0dHBIZWxwZXIuYmxvY2tVSS5zdGFydCgpO1xuXG4gICAgcmV0dXJuIHRoaXMuX2h0dHAucG9zdCh0aGlzLl9hcGkuc2V0LCBwYXJhbXMpLnRoZW4odGhpcy5faHR0cEhlbHBlci52ZXJpZnksICB0aGlzLl9odHRwSGVscGVyLmVycm9yKTtcbiAgfVxufSIsImV4cG9ydCBjbGFzcyBEYXNoYm9hcmRDb250cm9sbGVyIHtcblxuICBjb25zdHJ1Y3Rvcigkcm9vdFNjb3BlLCAkc2NvcGUsIGJhc2VTZXJ2aWNlLCB1dGlsU2VydmljZSwgQXBwU2V0dGluZ3MpIHtcbiAgICAnbmdJbmplY3QnO1xuXG4gICAgdGhpcy5odG1sID0gJyc7XG5cbiAgICB0aGlzLnRleHQgPSAnIyMjIOagh+mimFxcbicrXG5cdFx0XHRcdCdgYGBcXG5jb25zb2xlLmxvZyhBcnJheS5ldmVyeShjbGFzc2VzLCBCb29sZWFuKSk7XFxuYGBgXFxuJytcblx0XHRcdFx0J2BgYGphdmFzY3JpcHRcXG5jb25zb2xlLmxvZyhBcnJheS5ldmVyeShjbGFzc2VzLCBCb29sZWFuKSk7XFxuYGBgXFxuJytcblx0XHRcdFx0J2BgYHhtbFxcbjxodG1sPlxcblxcdDxoZWFkPlxcblxcdDwvaGVhZD5cXG5cXHQ8Ym9keT5cXG5cXHQ8L2JvZHk+XFxuPC9odG1sPlxcbmBgYCc7XG5cblx0ICB2YXIgZGVzdHJveVdhdGNoVGV4dCA9ICRzY29wZS4kd2F0Y2goJ3ZtLnRleHQnLCAoKSA9PiB7XG4gIFx0XHRjb25zb2xlLmxvZyhtYXJrZWQodGhpcy50ZXh0KSk7XG5cbiAgICAgIHRoaXMuaHRtbCA9IG1hcmtlZCh0aGlzLnRleHQpO1xuICBcdH0pO1xuLypcbiAgKiAkc2NvcGXplIDmr4HnmoTml7blgJks57uT5p2f55uR5ZCsXG4gICovXG4gICAgJHNjb3BlLiRvbignJGRlc3Ryb3knLCBkZXN0cm95V2F0Y2hUZXh0KTtcblxuICAgIHRoaXMuaW5pdCgpO1xuXG4gIH1cblxuICBpbml0KCkge1xuXG4gICBcbiAgfVxuXG59XG5cbmV4cG9ydCBjb25zdCBkYXNoYm9hcmQgPSB7XG4gIHRlbXBsYXRlVXJsOiAnbW9kdWxlcy9kYXNoYm9hcmQvZGFzaGJvYXJkLmh0bWwnLFxuICBjb250cm9sbGVyOiBEYXNoYm9hcmRDb250cm9sbGVyLFxuICBjb250cm9sbGVyQXM6ICd2bSdcbn07XG4iLCJpbXBvcnQgYW5ndWxhciAgICAgICAgICBmcm9tICdhbmd1bGFyJztcbmltcG9ydCB7ZGFzaGJvYXJkfSAgICAgIGZyb20gJy4vZGFzaGJvYXJkJztcbmltcG9ydCBkYXNoYm9hcmRTZXJ2aWNlIGZyb20gJy4vZGFzaGJvYXJkLnNlcnZpY2UnO1xuXG5cbmV4cG9ydCBkZWZhdWx0IGFuZ3VsYXIubW9kdWxlKCdhcHAubW9kdWxlcy5kYXNoYm9hcmQnLCBbXSlcbi8vIC5zZXJ2aWNlKCdkYXNoYm9hcmRTZXJ2aWNlJywgZGFzaGJvYXJkU2VydmljZSlcbi5jb21wb25lbnQoJ2Rhc2hib2FyZCcsIGRhc2hib2FyZCk7XG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBkYXNoYm9hcmRTZXJ2aWNlIHtcblxuICBjb25zdHJ1Y3RvcihBcHBTZXR0aW5ncywgdXRpbFNlcnZpY2UsIGh0dHBIZWxwZXIsICRodHRwKSB7XG4gICAgJ25nSW5qZWN0JztcblxuICAgIFxuXG4gIH1cblxufVxuIiwiXG5jbGFzcyBMaXN0Q29udHJvbGxlciB7XG5cbiAgY29uc3RydWN0b3IoJHJvb3RTY29wZSwgJHN0YXRlLCB0b2FzdHIsIEFwcFNldHRpbmdzLCBDb25maWdTZXJ2aWNlLCBQcm9maWxlU2VydmljZSkge1xuICAgICduZ0luamVjdCc7XG5cbiAgICB0aGlzLiRzdGF0ZSA9ICRzdGF0ZTtcbiAgICB0aGlzLnN0YXRpY01lbnVJdGVtcyA9IFtdO1xuICAgIHRoaXMuX2lzTWVudUNvbGxhcHNlZCA9IHRydWU7XG5cbiAgICB0aGlzLl9zZXJ2aWNlID0gQ29uZmlnU2VydmljZTtcbiAgICB0aGlzLnJvbGVMaXN0ID0gUHJvZmlsZVNlcnZpY2UuZ2V0Um9sZUxpc3QoKTtcblxuICAgIHRoaXMuX3Njb3BlID0gJHJvb3RTY29wZTtcbiAgICB0aGlzLl90b2FzdHIgPSB0b2FzdHI7XG5cbiAgICB0aGlzLmtleSA9IEFwcFNldHRpbmdzLmFjY2Vzc0tleTtcbiAgICB0aGlzLnJvbGVLZXkgPSBBcHBTZXR0aW5ncy5yb2xlTGlzdEtleTtcblxuICAgIC8vIHRoaXMucm9sZUxpc3QgPSBbXTtcbiAgICB0aGlzLmdldE1lbnVJdGVtcygpO1xuICAgIHRoaXMuX2dldCgpO1xuXG4gIH1cblxuICBfZ2V0KCkge1xuXG4gICAgdGhpcy5fc2VydmljZS5nZXQodGhpcy5rZXkpLnRoZW4oZGF0YSA9PiB7XG4gICAgICBpZihkYXRhKSB7XG4gICAgICAgIHRoaXMuYWNjZXNzID0gYW5ndWxhci5mcm9tSnNvbihkYXRhKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIGdldE1lbnVJdGVtcygpIHtcblxuICAgIGxldCBzdGF0ZXMgPSB0aGlzLmRlZmluZU1lbnVJdGVtU3RhdGVzKCk7XG4gICAgLy8gbGV0IG1lbnVJdGVtcyA9IHN0YXRlcy5maWx0ZXIoaXRlbSA9PiBpdGVtLmxldmVsID09IDAgJiYgIShpdGVtLmFjY2Vzc1JvbGVJZHMgJiYgaXRlbS5hY2Nlc3NSb2xlSWRzLmluZGV4T2YodGhpcy5fc2NvcGUuYWNjZXNzQ29udHJvbC5yb2xlX2lkKSA9PSAtMSkgKTtcbiAgICAvLyBsZXQgbWVudUl0ZW1zID0gc3RhdGVzLmZpbHRlcihpdGVtID0+IGl0ZW0ubGV2ZWwgPT0gMCk7XG5cbiAgICAvLyBtZW51SXRlbXMuZm9yRWFjaCggaXRlbSA9PiB7XG4gICAgLy8gICB2YXIgY2hpbGRyZW4gPSBzdGF0ZXMuZmlsdGVyKCBjaGlsZCA9PiB7XG4gICAgLy8gICAgIHJldHVybiBjaGlsZC5sZXZlbCA9PSAxICYmIGNoaWxkLm5hbWUuaW5kZXhPZihpdGVtLm5hbWUpID09PSAwO1xuICAgIC8vICAgfSk7XG5cbiAgICAvLyAgIGl0ZW0uc3ViTWVudSA9IGNoaWxkcmVuLmxlbmd0aCA/IGNoaWxkcmVuIDogbnVsbDtcblxuICAgIC8vICAgLy8g55So56ys5LiJ57qn55qE5oyH5a6a5YWl5Y+j5pu/5o2i5LqM57qn5oq96LGh6Lev55SxXG4gICAgLy8gICBpdGVtLnN1Yk1lbnUgJiYgaXRlbS5zdWJNZW51LmZvckVhY2goICh0aGlyZCwgaW5kZXgpID0+IHtcbiAgICAvLyAgICAgaWYodGhpcmQuZW50cnkpIHtcbiAgICAvLyAgICAgICBsZXQgZW50cnkgPSBzdGF0ZXMuZmlsdGVyKHggPT4geC5uYW1lID09PSB0aGlyZC5lbnRyeSk7XG4gICAgLy8gICAgICAgaWYoZW50cnkubGVuZ3RoKSB7XG4gICAgLy8gICAgICAgICBpdGVtLnN1Yk1lbnVbaW5kZXhdID0gZW50cnlbMF07XG4gICAgLy8gICAgICAgfVxuICAgIC8vICAgICB9XG4gICAgLy8gICB9KTtcblxuICAgIC8vIH0pO1xuXG4gICAgLy8gdGhpcy5saXN0ID0gbWVudUl0ZW1zLmNvbmNhdCh0aGlzLnN0YXRpY01lbnVJdGVtcyk7XG4gICAgbGV0IGV4dGVuZCAgPSB0aGlzLl9nZXRFbnRlcnByaXNlQWNjZXNzKCk7XG4gICAgdGhpcy5saXN0ID0gc3RhdGVzLmNvbmNhdChleHRlbmQpO1xuXG4gIH1cblxuICBnZXRBbGxTdGF0ZVJlZnNSZWN1cnNpdmUoaXRlbSkge1xuXG4gICAgcmV0dXJuIHRoaXMuX2l0ZXJhdGVTdWJJdGVtcyhpdGVtKTtcblxuICB9XG5cbiAgZGVmaW5lTWVudUl0ZW1TdGF0ZXMoKSB7XG5cbiAgICByZXR1cm4gdGhpcy4kc3RhdGUuZ2V0KCkuZmlsdGVyKGl0ZW0gPT4gaXRlbS5uYW1lICYmIGl0ZW0udGl0bGUpXG4gICAgLy8gICAvLyAuZmlsdGVyKHN0YXRlID0+IHtcbiAgICAvLyAgIC8vICAgcmV0dXJuIHN0YXRlLnNpZGViYXJNZXRhO1xuICAgIC8vICAgLy8gfSlcbiAgICAvLyAgIC5tYXAoc3RhdGUgPT4ge1xuICAgIC8vICAgICB2YXIgbWV0YSA9IHN0YXRlLnNpZGViYXJNZXRhO1xuICAgIC8vICAgICByZXR1cm4ge1xuICAgIC8vICAgICAgIG5hbWU6IHN0YXRlLm5hbWUsXG4gICAgLy8gICAgICAgdGl0bGU6IHN0YXRlLnRpdGxlLFxuICAgIC8vICAgICAgIGxldmVsOiAoc3RhdGUubmFtZS5tYXRjaCgvXFwuL2cpIHx8IFtdKS5sZW5ndGgsXG4gICAgLy8gICAgICAgb3JkZXI6IG1ldGEub3JkZXIsXG4gICAgLy8gICAgICAgaWNvbjogbWV0YS5pY29uLFxuICAgIC8vICAgICAgIHN0YXRlUmVmOiBzdGF0ZS5uYW1lLFxuICAgIC8vICAgICAgIGVudHJ5OiBtZXRhLmVudHJ5LFxuICAgIC8vICAgICAgIGFjY2Vzc1JvbGVJZHM6IG1ldGEuYWNjZXNzUm9sZUlkcyxcbiAgICAvLyAgICAgfTtcbiAgICAvLyAgIH0pXG4gICAgLy8gICAuc29ydCgoYSwgYikgPT4ge1xuICAgIC8vICAgICByZXR1cm4gKGEubGV2ZWwgLSBiLmxldmVsKSAqIDEwMCArIGEub3JkZXIgLSBiLm9yZGVyO1xuICAgIC8vICAgfSk7XG5cbiAgfVxuXG4gIF9nZXRFbnRlcnByaXNlQWNjZXNzKCkge1xuICAgIHJldHVybiBbXG4gICAgICB7XG4gICAgICAgIG5hbWU6ICdlbnRlcnByaXNlLmZpbHRlci5yb2xlX2Ffc3RhdGUnLFxuICAgICAgICB0aXRsZTogJ+S4u+eQhueKtuaAgeetm+mAiSdcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIG5hbWU6ICdlbnRlcnByaXNlLmxpc3Qucm9sZV9zaG93JyxcbiAgICAgICAgdGl0bGU6ICfliJfooajmmL7npLrlrqLmiLfnu4/nkIYnXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBuYW1lOiAnZW50ZXJwcmlzZS5hc3NpZ24ucm9sZScsXG4gICAgICAgIHRpdGxlOiAn5YiG6YWN5a6i5oi357uP55CGJ1xuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgbmFtZTogJ2VudGVycHJpc2UuYXNzaWduLmJyYW5jaCcsXG4gICAgICAgIHRpdGxlOiAn5YiG6YWN5py65p6EJ1xuICAgICAgfSxcbiAgICBdXG4gIH1cblxuXG4gIF9pdGVyYXRlU3ViSXRlbXMoY3VycmVudEl0ZW0pIHtcblxuICAgIGxldCByZXN1bHQgPSBbXTtcbiAgICBjdXJyZW50SXRlbS5zdWJNZW51ICYmIGN1cnJlbnRJdGVtLnN1Yk1lbnUuZm9yRWFjaChzdWJJdGVtID0+IHtcbiAgICAgIHN1Ykl0ZW0uc3RhdGVSZWYgJiYgcmVzdWx0LnB1c2goc3ViSXRlbS5zdGF0ZVJlZik7XG4gICAgICB0aGlzLl9pdGVyYXRlU3ViSXRlbXMoc3ViSXRlbSk7XG4gICAgfSk7XG4gICAgcmV0dXJuIHJlc3VsdDtcblxuICB9XG5cbiAgc3VibWl0KCkge1xuICAgIGNvbnNvbGUubG9nKCdzdWJtaXQnKTtcbiAgICBjb25zb2xlLmxvZyh0aGlzLmFjY2Vzcyk7XG5cbiAgICB0aGlzLl9zZXJ2aWNlLnNldCh7XG4gICAgICBrZXk6IHRoaXMua2V5LFxuICAgICAgdmFsdWU6IGFuZ3VsYXIudG9Kc29uKHRoaXMuYWNjZXNzKVxuICAgIH0pLnRoZW4oZGF0YSA9PiB7XG4gICAgICB0aGlzLl90b2FzdHIuc3VjY2Vzcygn5re75Yqg5oiQ5YqfJyk7XG4gICAgfSk7XG4gIH1cblxufVxuXG5leHBvcnQgZGVmYXVsdCBMaXN0Q29udHJvbGxlcjtcbiIsImltcG9ydCBMaXN0Q29udHJvbGxlciBmcm9tICcuL2N0cmwnO1xuXG5jb25zdCBkZW1vTGlzdCA9IHtcbiAgdGVtcGxhdGVVcmw6ICdtb2R1bGVzL2RlbW8vYWNjZXNzL3RlbXBsYXRlLmh0bWwnLFxuICBjb250cm9sbGVyOiBMaXN0Q29udHJvbGxlcixcbiAgY29udHJvbGxlckFzOiAndm0nXG59O1xuXG5leHBvcnQgZGVmYXVsdCBkZW1vTGlzdDtcbiIsImNsYXNzIENvbnRyb2xsZXIge1xuXG4gIGNvbnN0cnVjdG9yKCkge1xuICAgICduZ0luamVjdCc7XG4gICAgdGhpcy5pbmZvID0ge307XG5cdH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgQ29udHJvbGxlcjsiLCJpbXBvcnQgY3RybCBmcm9tICcuL2N0cmwnO1xuXG5jb25zdCBjb21wb25lbnQgPSB7XG5cdHRlbXBsYXRlVXJsOiAnbW9kdWxlcy9kZW1vL2NvbXBvbmVudC9pbmRleC5odG1sJyxcbiAgY29udHJvbGxlcjogY3RybCxcbiAgY29udHJvbGxlckFzOiAndm0nXG59O1xuXG5leHBvcnQgZGVmYXVsdCBjb21wb25lbnQ7IiwiZnVuY3Rpb24gZGVtb0NvbmZpZygkc3RhdGVQcm92aWRlcikge1xuICAnbmdJbmplY3QnO1xuXG4gICRzdGF0ZVByb3ZpZGVyXG4gICAgLnN0YXRlKCdhY2Nlc3MnLCB7XG4gICAgICAgIHVybDogJy9hY2Nlc3MnLFxuICAgICAgICAvLyBhYnN0cmFjdDogdHJ1ZSxcbiAgICAgICAgdGVtcGxhdGUgOiAnPHVpLXZpZXc+PGRlbW8tYWNjZXNzPjwvZGVtby1hY2Nlc3M+PC91aS12aWV3PicsXG4gICAgICAgIHRpdGxlOiAn5p2D6ZmQ6YWN572uJyxcbiAgICAgICAgc2lkZWJhck1ldGE6IHtcbiAgICAgICAgICBpY29uOiAnaWNvbi1zaWRlYmFyX21lbWJlcnNfaWMnLFxuICAgICAgICAgIG9yZGVyOiAzMDAwLFxuICAgICAgICB9XG4gICAgfSlcbiAgICAvLyAuc3RhdGUoJ2RlbW8ubGlzdCcsIHtcbiAgICAvLyAgICAgdXJsOiAnL2xpc3Q/cGFnZSZnZW5kZXIma2V5d29yZCcsXG4gICAgLy8gICAgIHRlbXBsYXRlOiAnPGRlbW8tbGlzdD48L2RlbW8tbGlzdD4nLFxuICAgIC8vICAgICB0aXRsZTogJ+WIl+ihqCcsXG4gICAgLy8gICAgIHNpZGViYXJNZXRhOiB7XG4gICAgLy8gICAgICAgb3JkZXI6IDMwXG4gICAgLy8gICAgIH1cbiAgICAvLyB9KVxuICAgIC8vIC5zdGF0ZSgnZGVtby5jb21wb25lbnQnLCB7XG4gICAgLy8gICB1cmw6ICcvY29tcG9uZW50JyxcbiAgICAvLyAgIHRlbXBsYXRlOiAnPGRlbW8tY29tcG9uZW50PjwvZGVtby1jb21wb25lbnQ+JyxcbiAgICAvLyAgIHRpdGxlOiAnQ29tcG9uZW50JyxcbiAgICAvLyAgIHNpZGViYXJNZXRhOiB7XG4gICAgLy8gICAgIG9yZGVyOiAxMFxuICAgIC8vICAgfVxuICAgIC8vIH0pXG4gICAgLy8gLnN0YXRlKCdkZW1vLmFjY2VzcycsIHtcbiAgICAvLyAgIHVybDogJy9hY2Nlc3MnLFxuICAgIC8vICAgdGVtcGxhdGU6ICc8ZGVtby1hY2Nlc3M+PC9kZW1vLWFjY2Vzcz4nLFxuICAgIC8vICAgdGl0bGU6ICdhY2Nlc3MnLFxuICAgIC8vICAgc2lkZWJhck1ldGE6IHtcbiAgICAvLyAgICAgb3JkZXI6IDEwXG4gICAgLy8gICB9XG4gICAgLy8gfSlcbiAgICA7XG5cbn1cblxuZXhwb3J0IGRlZmF1bHQgZGVtb0NvbmZpZztcbiIsImltcG9ydCBhbmd1bGFyIGZyb20gJ2FuZ3VsYXInO1xuaW1wb3J0IGNvbmZpZyAgZnJvbSAnLi9kZW1vLmNvbmZpZyc7XG5pbXBvcnQgTGlzdCAgZnJvbSAnLi9saXN0Lyc7XG5pbXBvcnQgQ29tcG9uZW50IGZyb20gJy4vY29tcG9uZW50JztcbmltcG9ydCBBY2Nlc3MgZnJvbSAnLi9hY2Nlc3MnO1xuXG4vLyBpbXBvcnQgZGVtb1NlcnZpY2UgICAgICBmcm9tICcuL3NlcnZpY2VzL2RlbW8uc2VydmljZSc7XG5cblxuXG5leHBvcnQgZGVmYXVsdCBhbmd1bGFyLm1vZHVsZSgnYXBwLm1vZHVsZXMuZGVtbycsIFtdKVxuLy8gLmZpbHRlcignZmlsdGVyVHlwZScsIGZpbHRlclR5cGUpXG5cbi5jb21wb25lbnQoJ2RlbW9MaXN0JywgTGlzdClcbi5jb21wb25lbnQoJ2RlbW9Db21wb25lbnQnLCBDb21wb25lbnQpXG4uY29tcG9uZW50KCdkZW1vQWNjZXNzJywgQWNjZXNzKVxuLmNvbmZpZyhjb25maWcpO1xuIiwiaW1wb3J0IFBhZ2luYXRpb24gZnJvbSAnLi4vLi4vLi4vY29yZS9jb21wb25lbnRzL21jUGFnaW5hdGlvbi9tYy1wYWdpbmF0aW9uLmNsYXNzJztcbmltcG9ydCB7ZWRpdENvbmZpZ3VyYXRpb259IGZyb20gJy4uL21vZGFscyc7XG5cbmNsYXNzIExpc3RDb250cm9sbGVyIGV4dGVuZHMgUGFnaW5hdGlvbiB7XG5cbiAgY29uc3RydWN0b3IoJGluamVjdG9yLCAkbG9jYXRpb24sICRzdGF0ZVBhcmFtcywgJHVpYk1vZGFsLCBBcHBTZXR0aW5ncykge1xuICAgICduZ0luamVjdCc7XG5cbiAgICBzdXBlcigkaW5qZWN0b3IpO1xuXG4gICAgdGhpcy5fbG9jYXRpb24gPSAkbG9jYXRpb247XG4gICAgdGhpcy5fc3RhdGVQYXJhbXMgPSAkc3RhdGVQYXJhbXM7XG4gICAgdGhpcy5fbW9kYWwgPSAkdWliTW9kYWw7XG5cbiAgICBcbiAgICB0aGlzLmdlbmRlckxpc3QgPSBBcHBTZXR0aW5ncy5nZW5kZXJMaXN0O1xuICAgIHRoaXMuZmlsdGVycyA9IHt9O1xuXG4gICAgdGhpcy5zdGFydF9kYXRlID0gbW9tZW50KCk7XG5cbiAgICB0aGlzLmVuZF9kYXRlID0gbW9tZW50KCk7XG4gICAgdGhpcy5zdGFydFRpbWVNYXhMaW1pdCA9IG1vbWVudCgpO1xuICAgIHRoaXMuZW5kVGltZU1heExpbWl0ID0gbW9tZW50KCk7XG5cbiAgICB0aGlzLl9pbml0KCk7XG5cbiAgfVxuXG4gIF9pbml0KCkge1xuXG4gICAgdGhpcy5faW5pdEZpbHRlcnMoKTtcbiAgICB0aGlzLl9nZXRMaXN0KCk7XG5cbiAgfVxuXG4gIF9pbml0RmlsdGVycygpIHtcbiAgICAvLyBjb25zb2xlLmxvZyh0aGlzLl9zdGF0ZVBhcmFtcyk7XG4gICAgY29uc3Qgc3RhdGVQYXJhbXMgPSB0aGlzLl9zdGF0ZVBhcmFtcztcbiAgICAvLyB0aGlzLnBhZ2luYXRpb24ucGFnZSA9ICtzdGF0ZVBhcmFtcy5wYWdlO1xuICAgIHRoaXMuZmlsdGVycy5nZW5kZXIgPSArc3RhdGVQYXJhbXMuZ2VuZGVyIHx8IHZvaWQoMCk7XG5cbiAgICB0aGlzLmZpbHRlcnMua2V5d29yZCA9IHN0YXRlUGFyYW1zLmtleXdvcmQgfHwgdm9pZCgwKTtcblxuICB9XG4gIFxuICBfZ2V0TGlzdCgpIHtcblxuICAgIGxldCBwYXJhbXMgPSB0aGlzLl9maWx0ZXJFbXB0eVZhbHVlKCk7XG4gICAgcGFyYW1zLnBhZ2VTaXplID0gdGhpcy5wYWdpbmF0aW9uLnBhZ2VTaXplO1xuICAgIHBhcmFtcy5wYWdlID0gdGhpcy5wYWdpbmF0aW9uLnBhZ2U7XG5cbiAgICB0aGlzLmxpc3QgPSBbe25hbWU6ICdMaWx5JywgZ2VuZGVyOiAnZmFsbWFuJywgYWdlOiAnMTYnfSwge25hbWU6ICdMaSBsZWknLCBnZW5kZXI6ICdtYW4nLCBhZ2U6ICcyNid9XTtcbiAgICB0aGlzLnBhZ2luYXRpb24uY291bnQgPSAyMDtcblxuICB9XG5cbiAgcmVTZWFyY2goKSB7XG4gICAgbGV0IHBhZ2UgPSAxXG4gICAgdGhpcy5fbG9jYXRpb24uc2VhcmNoKHsuLi50aGlzLl9maWx0ZXJFbXB0eVZhbHVlKCksIHBhZ2V9KTtcbiAgfVxuXG4gIHN3aXRjaChrZXksIHZhbHVlKSB7XG5cbiAgICBpZigha2V5KSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgdGhpcy5maWx0ZXJzW2tleV0gPSB2YWx1ZTtcblxuICAgIHRoaXMucmVTZWFyY2goKTtcbiAgfVxuXG4gIGVkaXQoaXRlbSkge1xuICAgIGNvbnN0IHJlc29sdmUgPSB7XG4gICAgICBpbmZvOiBmdW5jdGlvbigpe1xuICAgICAgICByZXR1cm4gaXRlbTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgY29uc3Qgb3B0aW9ucyA9IHsuLi5lZGl0Q29uZmlndXJhdGlvbiwgcmVzb2x2ZX07XG5cbiAgICB0aGlzLl9tb2RhbC5vcGVuKCBvcHRpb25zICk7XG4gIH1cblxuXG4vLyBkYXRlcGlja2VyXG4gIGNoYW5nZVRpbWUodHlwZSkge1xuICAgIGxldCB2YWx1ZXMgPSB7XG4gICAgICAgIG1pbkRhdGU6IGZhbHNlLFxuICAgICAgICBtYXhEYXRlOiBmYWxzZVxuICAgIH1cbiAgICBpZiAodHlwZSA9PSAnc3RhcnQnKSB7XG4gICAgICB0aGlzLmZpbHRlcnMuc3RhcnRfZGF0ZSA9IHRoaXMuc3RhcnRfZGF0ZS5mb3JtYXQoJ1lZWVktTU0tREQnKTtcbiAgICAgIHRoaXMuZW5kVGltZU1pbkxpbWl0ID0gdGhpcy5zdGFydF9kYXRlO1xuICAgICAgdmFsdWVzLm1pbkRhdGUgPSB0aGlzLnN0YXJ0X2RhdGU7XG4gICAgICB2YWx1ZXMubWF4RGF0ZSA9IG1vbWVudCgpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmZpbHRlcnMuZW5kX2RhdGUgPSB0aGlzLmVuZF9kYXRlLmZvcm1hdCgnWVlZWS1NTS1ERCcpO1xuICAgICAgdGhpcy5zdGFydFRpbWVNYXhMaW1pdCA9IHRoaXMuZW5kX2RhdGU7XG4gICAgICB2YWx1ZXMubWF4RGF0ZSA9IHRoaXMuZW5kX2RhdGU7XG4gICAgfVxuICB9XG5cbn1cblxuZXhwb3J0IGRlZmF1bHQgTGlzdENvbnRyb2xsZXI7XG4iLCJpbXBvcnQgTGlzdENvbnRyb2xsZXIgZnJvbSAnLi9jdHJsJztcblxuY29uc3QgZGVtb0xpc3QgPSB7XG4gIHRlbXBsYXRlVXJsOiAnbW9kdWxlcy9kZW1vL2xpc3QvdGVtcGxhdGUuaHRtbCcsXG4gIGNvbnRyb2xsZXI6IExpc3RDb250cm9sbGVyLFxuICBjb250cm9sbGVyQXM6ICd2bSdcbn07XG5cbmV4cG9ydCBkZWZhdWx0IGRlbW9MaXN0O1xuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgZWRpdENvbnRyb2xsZXIge1xuICBjb25zdHJ1Y3Rvcigkc2NvcGUsICR2YWxpZGF0aW9uLCAkdWliTW9kYWxJbnN0YW5jZSwgdG9hc3RyLCBpbmZvKSB7XG4gICAgJ25nSW5qZWN0JztcblxuICAgIHRoaXMuX3Njb3BlID0gJHNjb3BlO1xuXG4gICAgdGhpcy5fdmFsaWRhdGlvblByb3ZpZGVyID0gJHZhbGlkYXRpb247XG5cbiAgICB0aGlzLl9tb2RhbEluc3RhbmNlID0gJHVpYk1vZGFsSW5zdGFuY2U7XG4gICAgdGhpcy5fdG9hc3RyID0gdG9hc3RyO1xuXG4gICAgdGhpcy5pbmZvID0gaW5mbztcblxuICB9XG5cbiAgXG5cbiAgY2FuY2VsKCkge1xuICAgIHRoaXMuX21vZGFsSW5zdGFuY2UuY2xvc2UoKTtcbiAgfVxuXG4gIHN1Ym1pdChmb3JtKSB7XG4gICAgLy/pqozor4HooajljZVcbiAgICB0aGlzLl92YWxpZGF0aW9uUHJvdmlkZXIudmFsaWRhdGUoZm9ybSkuc3VjY2VzcygoKSA9PiB7XG4gICAgICB0aGlzLnNhdmVGdW5jKCk7XG4gICAgfSk7XG4gIH1cblxuICBzYXZlRnVuYygpIHtcbiAgICBcbiAgfVxufVxuIiwiaW1wb3J0IGVkaXRDb250cm9sbGVyIGZyb20gJy4vY3RybCc7XG5cbmNvbnN0IGVkaXRDb25maWd1cmF0aW9uID0ge1xuICB0ZW1wbGF0ZVVybDogJ21vZHVsZXMvZGVtby9tb2RhbHMvZWRpdC90ZW1wbGF0ZS5odG1sJyxcbiAgY29udHJvbGxlcjogZWRpdENvbnRyb2xsZXIsXG4gIGNvbnRyb2xsZXJBczogJ3ZtJ1xufTtcblxuZXhwb3J0IGRlZmF1bHQgZWRpdENvbmZpZ3VyYXRpb247XG4iLCJpbXBvcnQgZWRpdENvbmZpZ3VyYXRpb24gZnJvbSAnLi9lZGl0JztcblxuZXhwb3J0IHtcbiAgZWRpdENvbmZpZ3VyYXRpb25cbn1cbiIsImZ1bmN0aW9uIENvbmZpZygkc3RhdGVQcm92aWRlcikge1xuICAnbmdJbmplY3QnO1xuXG4gICRzdGF0ZVByb3ZpZGVyXG4gICAgLnN0YXRlKCdlbnRlcnByaXNlJywge1xuICAgICAgICB1cmw6ICcvZW50ZXJwcmlzZT9wYWdlJnJvbGVfYV9kaXNhYmxlJm5hbWUmc3RhdGUmYmFua19uYW1lJyxcbiAgICAgICAgLy8gYWJzdHJhY3Q6IHRydWUsXG4gICAgICAgIHRlbXBsYXRlIDogJzx1aS12aWV3PjxlbnRlcnByaXNlLWxpc3Q+PC9lbnRlcnByaXNlLWxpc3Q+PC91aS12aWV3PicsXG4gICAgICAgIHRpdGxlOiAn5LyB5Lia566h55CGJyxcbiAgICAgICAgc2lkZWJhck1ldGE6IHtcbiAgICAgICAgICBpY29uOiAnaWNvbi1zaWRlYmFyX21lbWJlcnNfaWMnLFxuICAgICAgICAgIG9yZGVyOiA0MDAsXG4gICAgICAgIH1cbiAgICB9KVxuICAgIC8vIC5zdGF0ZSgnZW50ZXJwcmlzZS5saXN0Jywge1xuICAgIC8vICAgICB1cmw6ICc/cGFnZSZyb2xlX2FfZGlzYWJsZSZuYW1lJnN0YXRlJmJhbmtfbmFtZScsXG4gICAgLy8gICAgIHRlbXBsYXRlOiAnPGVudGVycHJpc2UtbGlzdD48L2VudGVycHJpc2UtbGlzdD4nLFxuICAgIC8vICAgICB0aXRsZTogJ+S8geS4muWIl+ihqCcsXG4gICAgLy8gICAgIC8vIHNpZGViYXJNZXRhOiB7XG4gICAgLy8gICAgIC8vICAgb3JkZXI6IDEwXG4gICAgLy8gICAgIC8vIH1cbiAgICAvLyB9KVxuICAgIC5zdGF0ZSgnZW50ZXJwcmlzZS5kZXRhaWwnLCB7XG4gICAgICAgIHVybDogJy9kZXRhaWw/aWQnLFxuICAgICAgICB0ZW1wbGF0ZTogJzxlbnRlcnByaXNlLWRldGFpbD48L2VudGVycHJpc2UtZGV0YWlsPicsXG4gICAgICAgIHRpdGxlOiAn5LyB5Lia6K+m5oOFJyxcbiAgICB9KVxuICAgIDtcblxufVxuXG5leHBvcnQgZGVmYXVsdCBDb25maWc7XG4iLCIvLyBpbXBvcnQge2JyYW5jaENvbmZpZywgbWFuYWdlQ29uZmlnfSBmcm9tICcuLi9tb2RhbHMnO1xuXG4vLyBjb25zdCBtb2NrX2RhdGEgPSB7XCJzdGF0dXNcIjpcIjIwMFwiLFwibWVzc2FnZVwiOlwi5p+l6K+i5oiQ5YqfXCIsXCJkYXRhXCI6e1wibmFtZVwiOlwi5bCP57Gz56eR5oqA5pyJ6ZmQ6LSj5Lu75YWs5Y+4XCIsXCJlY29uX2tpbmRcIjpcIuaciemZkOi0o+S7u+WFrOWPuCjoh6rnhLbkurrmipXotYTmiJbmjqfogqEpXCIsXCJyZWdpc3RfY2FwaVwiOlwiMTg1MDAwIOS4h+S6uuawkeW4gVwiLFwic2NvcGVcIjpcIuaJi+acuuaKgOacr+W8gOWPke+8m+aJi+acuueUn+S6p+OAgeaJi+acuuacjeWKoeOAgu+8iOmZkOa1t+a3gOWMuuawuOaNt+WMl+i3rzLlj7fkuozlsYLnu4/okKXvvInvvJvmioDmnK/lvIDlj5HvvJvotKfnianov5vlh7rlj6PjgIHmioDmnK/ov5vlh7rlj6PjgIHku6PnkIbov5vlh7rlj6PvvJvplIDllK7pgJrorq/orr7lpIfvvJvnu7Tkv67ku6rlmajku6rooajvvJvnu7Tkv67lip7lhazorr7lpIfvvJvmib/lip7lsZXop4jlsZXnpLrmtLvliqjvvJvkvJrorq7mnI3liqHvvJvnrbnlpIfjgIHnrZbliJLjgIHnu4Tnu4flpKflnovluoblhbjjgILvvIjkvIHkuJrkvp3ms5Xoh6rkuLvpgInmi6nnu4/okKXpobnnm67vvIzlvIDlsZXnu4/okKXmtLvliqjvvJvkvp3ms5Xpobvnu4/mibnlh4bnmoTpobnnm67vvIznu4/nm7jlhbPpg6jpl6jmibnlh4blkI7kvp3mibnlh4bnmoTlhoXlrrnlvIDlsZXnu4/okKXmtLvliqjvvJvkuI3lvpfku47kuovmnKzluILkuqfkuJrmlL/nrZbnpoHmraLlkozpmZDliLbnsbvpobnnm67nmoTnu4/okKXmtLvliqjjgILvvIlcIixcInRlcm1fc3RhcnRcIjpcIjIwMTAtMDMtMDNcIixcInRlcm1fZW5kXCI6XCIyMDMwLTAzLTAyXCIsXCJiZWxvbmdfb3JnXCI6XCLmtbfmt4DliIblsYBcIixcIm9wZXJfbmFtZVwiOlwi6Zu35YabXCIsXCJjaGVja19kYXRlXCI6XCIyMDE1LTAzLTAzXCIsXCJzdGFydF9kYXRlXCI6XCIyMDEwLTAzLTAzXCIsXCJlbmRfZGF0ZVwiOlwiLVwiLFwic3RhdHVzXCI6XCLlvIDkuJpcIixcIm9yZ19ub1wiOlwiNTUxMzg1MDgyXCIsXCJjcmVkaXRfbm9cIjpcIjkxMTEwMTA4NTUxMzg1MDgyUVwiLFwicHJvdmluY2VcIjpcIkJKXCIsXCJpZFwiOlwiNTM0NDcyZmQtN2Q1My00OTU4LTgxMzItZDZhNjI0MjQyM2Q4XCIsXCJhYm5vcm1hbF9pdGVtc1wiOltdLFwicmVnX25vXCI6XCIxMTAxMDgwMTI2NjA0MjJcIixcImFkZHJlc3NcIjpcIuWMl+S6rOW4gua1t+a3gOWMuua4heays+S4reihlzY45Y+35Y2O5ram5LqU5b2p5Z+O6LSt54mp5Lit5b+D5LqM5pyfMTPlsYJcIixcImVtcGxveWVlc1wiOlt7XCJuYW1lXCI6XCLpm7flhptcIixcImpvYl90aXRsZVwiOlwi6JGj5LqL6ZW/XCJ9LHtcIm5hbWVcIjpcIuael+aWjFwiLFwiam9iX3RpdGxlXCI6XCLokaPkuotcIn0se1wibmFtZVwiOlwi5YiY6Iq5XCIsXCJqb2JfdGl0bGVcIjpcIuiRo+S6i1wifSx7XCJuYW1lXCI6XCLorrjovr7mnaVcIixcImpvYl90aXRsZVwiOlwi6JGj5LqLXCJ9LHtcIm5hbWVcIjpcIumbt+WGm1wiLFwiam9iX3RpdGxlXCI6XCLnu4/nkIZcIn0se1wibmFtZVwiOlwi6buO5LiH5by6XCIsXCJqb2JfdGl0bGVcIjpcIuebkeS6i1wifV0sXCJicmFuY2hlc1wiOltdLFwiY2hhbmdlcmVjb3Jkc1wiOlt7XCJjaGFuZ2VfaXRlbVwiOlwi5rOo5YaM6LWE5pysXCIsXCJjaGFuZ2VfZGF0ZVwiOlwiMjAxNi0wMy0yNFwiLFwiYmVmb3JlX2NvbnRlbnRcIjpcIjUwMDDkuIflhYNcIixcImFmdGVyX2NvbnRlbnRcIjpcIjE4NTAwMOS4h+WFg1wifSx7XCJjaGFuZ2VfaXRlbVwiOlwi6JGj5LqL77yI55CG5LqL77yJ44CB57uP55CG44CB55uR5LqLXCIsXCJjaGFuZ2VfZGF0ZVwiOlwiMjAxNC0wMy0xMlwiLFwiYmVmb3JlX2NvbnRlbnRcIjpcIu+8iOazqO+8muagh+acieagh+W/l+eahOS4uuazleWumuS7o+ihqOS6uu+8iTEg6Zu35YabIOiRo+S6i+mVvyAyIOiuuOi+vuadpSDokaPkuosgMyDliJjoirkg6JGj5LqLIDQg5p6X5paMIOiRo+S6iyA1IOmCneWtkOW5syDokaPkuosgNiDpm7flhpsg57uP55CGIDcg6buO5LiH5by6IOebkeS6iyBcIixcImFmdGVyX2NvbnRlbnRcIjpcIu+8iOazqO+8muagh+acieagh+W/l+eahOS4uuazleWumuS7o+ihqOS6uu+8iTEg6Zu35YabIOiRo+S6i+mVvyAyIOiuuOi+vuadpSDokaPkuosgMyDliJjoirkg6JGj5LqLIDQg5p6X5paMIOiRo+S6iyA1IOmbt+WGmyDnu4/nkIYgNiDpu47kuIflvLog55uR5LqLIFwifSx7XCJjaGFuZ2VfaXRlbVwiOlwi6JGj5LqL77yI55CG5LqL77yJ44CB57uP55CG44CB55uR5LqLXCIsXCJjaGFuZ2VfZGF0ZVwiOlwiMjAxMy0xMS0wN1wiLFwiYmVmb3JlX2NvbnRlbnRcIjpcIu+8iOazqO+8muagh+acieagh+W/l+eahOS4uuazleWumuS7o+ihqOS6uu+8iTEg6Zu35YabIOiRo+S6i+mVvyAyIOael+aWjCDokaPkuosgMyDliJjoirkg6JGj5LqLIDQgSEFOUyBUVU5HIOiRo+S6iyA1IOmbt+WGmyDnu4/nkIYgNiDpu47kuIflvLog55uR5LqLIFwiLFwiYWZ0ZXJfY29udGVudFwiOlwi77yI5rOo77ya5qCH5pyJ5qCH5b+X55qE5Li65rOV5a6a5Luj6KGo5Lq677yJMSDpm7flhpsg6JGj5LqL6ZW/IDIg6K646L6+5p2lIOiRo+S6iyAzIOWImOiKuSDokaPkuosgNCDmnpfmlowg6JGj5LqLIDUg6YKd5a2Q5bmzIOiRo+S6iyA2IOmbt+WGmyDnu4/nkIYgNyDpu47kuIflvLog55uR5LqLIFwifSx7XCJjaGFuZ2VfaXRlbVwiOlwi5LyB5Lia5ZCN56ewXCIsXCJjaGFuZ2VfZGF0ZVwiOlwiMjAxMy0wNy0zMFwiLFwiYmVmb3JlX2NvbnRlbnRcIjpcIuWMl+S6rOWwj+exs+enkeaKgOaciemZkOi0o+S7u+WFrOWPuFwiLFwiYWZ0ZXJfY29udGVudFwiOlwi5bCP57Gz56eR5oqA5pyJ6ZmQ6LSj5Lu75YWs5Y+4XCJ9LHtcImNoYW5nZV9pdGVtXCI6XCLkvY/miYBcIixcImNoYW5nZV9kYXRlXCI6XCIyMDEzLTA3LTMwXCIsXCJiZWZvcmVfY29udGVudFwiOlwi5YyX5Lqs5biC5rW35reA5Yy65rC45o235YyX6LevMuWPt+S6jOWxglwiLFwiYWZ0ZXJfY29udGVudFwiOlwi5YyX5Lqs5biC5rW35reA5Yy65riF5rKz5Lit6KGXNjjlj7fljY7mtqbkupTlvanln47otK3niankuK3lv4PkuozmnJ8xM+WxglwifSx7XCJjaGFuZ2VfaXRlbVwiOlwi5rOo5YaM6LWE5pysXCIsXCJjaGFuZ2VfZGF0ZVwiOlwiMjAxMy0wNi0wNFwiLFwiYmVmb3JlX2NvbnRlbnRcIjpcIjI2OTEuNTk4OeS4h+WFg1wiLFwiYWZ0ZXJfY29udGVudFwiOlwiNTAwMOS4h+WFg1wifSx7XCJjaGFuZ2VfaXRlbVwiOlwi5a6e5pS26LWE5pys77yI6YeR77yJXCIsXCJjaGFuZ2VfZGF0ZVwiOlwiMjAxMy0wNi0wNFwiLFwiYmVmb3JlX2NvbnRlbnRcIjpcIjI2OTEuNTk4OeS4h+WFg1wiLFwiYWZ0ZXJfY29udGVudFwiOlwiNTAwMOS4h+WFg1wifSx7XCJjaGFuZ2VfaXRlbVwiOlwi6K6k57y055qE5Ye66LWE6aKdLOWunue8tOeahOWHuui1hOminVwiLFwiY2hhbmdlX2RhdGVcIjpcIjIwMTMtMDYtMDRcIixcImJlZm9yZV9jb250ZW50XCI6XCIxIOmbt+WGmyAyMDk0LjE3IOiHqueEtuS6uuiCoeS4nCAyIOm7juS4h+W8uiAyNzIuNDUg6Ieq54S25Lq66IKh5LicIDMg5rSq6ZSLIDI3MC44NyDoh6rnhLbkurrogqHkuJwgNCDliJjlvrcgNTQuMSDoh6rnhLbkurrogqHkuJwgXCIsXCJhZnRlcl9jb250ZW50XCI6XCIxIOmbt+WGmyAzODkwLjExIOiHqueEtuS6uuiCoeS4nCAyIOm7juS4h+W8uiA1MDYuMDYg6Ieq54S25Lq66IKh5LicIDMg5rSq6ZSLIDUwMy4zMyDoh6rnhLbkurrogqHkuJwgNCDliJjlvrcgMTAwLjUg6Ieq54S25Lq66IKh5LicIFwifSx7XCJjaGFuZ2VfaXRlbVwiOlwi57uP6JCl6IyD5Zu0XCIsXCJjaGFuZ2VfZGF0ZVwiOlwiMjAxMi0wOC0yOVwiLFwiYmVmb3JlX2NvbnRlbnRcIjpcIuaJi+acuuaKgOacr+W8gOWPke+8m+aJi+acuueUn+S6p+OAgeaJi+acuuacjeWKoeOAguaKgOacr+W8gOWPke+8m+i0p+eJqei/m+WHuuWPo+OAgeaKgOacr+i/m+WHuuWPo+OAgeS7o+eQhui/m+WHuuWPo+OAglwiLFwiYWZ0ZXJfY29udGVudFwiOlwi5omL5py65oqA5pyv5byA5Y+R77yb5omL5py655Sf5Lqn44CB5omL5py65pyN5Yqh44CC5oqA5pyv5byA5Y+R77yb6LSn54mp6L+b5Ye65Y+j44CB5oqA5pyv6L+b5Ye65Y+j44CB5Luj55CG6L+b5Ye65Y+j77yb6ZSA5ZSu6YCa6K6v6K6+5aSH77yb57u05L+u5Luq5Zmo5Luq6KGo77yb57u05L+u5Yqe5YWs6K6+5aSH77yb5om/5Yqe5bGV6KeI5bGV56S65rS75Yqo77yb5Lya6K6u5pyN5Yqh77yb56255aSH44CB562W5YiS44CB57uE57uH5aSn5Z6L5bqG5YW444CCIO+8iOacquWPluW+l+ihjOaUv+iuuOWPr+eahOmhueebrumZpOWklu+8iVwifSx7XCJjaGFuZ2VfaXRlbVwiOlwi5rOo5YaM6LWE5pysXCIsXCJjaGFuZ2VfZGF0ZVwiOlwiMjAxMS0wNS0yNFwiLFwiYmVmb3JlX2NvbnRlbnRcIjpcIjI2MzcuNDk3OOS4h+WFg1wiLFwiYWZ0ZXJfY29udGVudFwiOlwiMjY5MS41OTg55LiH5YWDXCJ9LHtcImNoYW5nZV9pdGVtXCI6XCLlrp7mlLbotYTmnKzvvIjph5HvvIlcIixcImNoYW5nZV9kYXRlXCI6XCIyMDExLTA1LTI0XCIsXCJiZWZvcmVfY29udGVudFwiOlwiMjYzNy40OTc45LiH5YWDXCIsXCJhZnRlcl9jb250ZW50XCI6XCIyNjkxLjU5ODnkuIflhYNcIn0se1wiY2hhbmdlX2l0ZW1cIjpcIuiupOe8tOeahOWHuui1hOminSzorqTnvLTnmoTlh7rotYTmlrnlvI8s6K6k57y055qE5Ye66LWE5pe26Ze0LOWunue8tOeahOWHuui1hOminSzlrp7nvLTnmoTlh7rotYTmlrnlvI8s5a6e57y055qE5Ye66LWE5pe26Ze0LOaKlei1hOS6ulwiLFwiY2hhbmdlX2RhdGVcIjpcIjIwMTEtMDUtMjRcIixcImJlZm9yZV9jb250ZW50XCI6XCIxIOmbt+WGmyAyMDk0LjE3IOiHqueEtuS6uuiCoeS4nCAyIOm7juS4h+W8uiAyNzIuNDUg6Ieq54S25Lq66IKh5LicIDMg5rSq6ZSLIDI3MC44NyDoh6rnhLbkurrogqHkuJwgXCIsXCJhZnRlcl9jb250ZW50XCI6XCIxIOmbt+WGmyAyMDk0LjE3IOiHqueEtuS6uuiCoeS4nCAyIOm7juS4h+W8uiAyNzIuNDUg6Ieq54S25Lq66IKh5LicIDMg5rSq6ZSLIDI3MC44NyDoh6rnhLbkurrogqHkuJwgNCDliJjlvrcgNTQuMSDoh6rnhLbkurrogqHkuJwgXCJ9LHtcImNoYW5nZV9pdGVtXCI6XCLkvY/miYBcIixcImNoYW5nZV9kYXRlXCI6XCIyMDExLTAyLTE0XCIsXCJiZWZvcmVfY29udGVudFwiOlwi5YyX5Lqs5biC5rW35reA5Yy65YyX5Zub546v6KW/6LevOeWPtzgwN+WupFwiLFwiYWZ0ZXJfY29udGVudFwiOlwi5YyX5Lqs5biC5rW35reA5Yy65rC45o235YyX6LevMuWPt+S6jOWxglwifSx7XCJjaGFuZ2VfaXRlbVwiOlwi57uP6JCl6IyD5Zu0XCIsXCJjaGFuZ2VfZGF0ZVwiOlwiMjAxMS0wMi0xNFwiLFwiYmVmb3JlX2NvbnRlbnRcIjpcIuaKgOacr+W8gOWPkeOAgu+8iOazleW+i+OAgeihjOaUv+azleinhOOAgeWbveWKoemZouWGs+WumuemgeatoueahO+8jOS4jeW+l+e7j+iQpe+8m+azleW+i+OAgeihjOaUv+azleinhOOAgeWbveWKoemZouWGs+WumuinhOWumuW6lOe7j+iuuOWPr+eahO+8jOe7j+WuoeaJueacuuWFs+aJueWHhuW5tue7j+W3peWVhuihjOaUv+euoeeQhuacuuWFs+eZu+iusOazqOWGjOWQjuaWueWPr+e7j+iQpe+8m+azleW+i+OAgeihjOaUv+azleinhOOAgeWbveWKoemZouWGs+WumuacquinhOWumuiuuOWPr+eahO+8jOiHquS4u+mAieaLqee7j+iQpemhueebruW8gOWxlee7j+iQpea0u+WKqOOAgu+8iVwiLFwiYWZ0ZXJfY29udGVudFwiOlwi5omL5py65oqA5pyv5byA5Y+R77yb5omL5py655Sf5Lqn44CB5omL5py65pyN5Yqh44CC5oqA5pyv5byA5Y+R77yb6LSn54mp6L+b5Ye65Y+j44CB5oqA5pyv6L+b5Ye65Y+j44CB5Luj55CG6L+b5Ye65Y+j44CCXCJ9LHtcImNoYW5nZV9pdGVtXCI6XCLokaPkuovvvIjnkIbkuovvvInjgIHnu4/nkIbjgIHnm5HkuotcIixcImNoYW5nZV9kYXRlXCI6XCIyMDExLTAyLTE0XCIsXCJiZWZvcmVfY29udGVudFwiOlwi77yI5rOo77ya5qCH5pyJ5qCH5b+X55qE5Li65rOV5a6a5Luj6KGo5Lq677yJMSDpm7flhpsg6JGj5LqL6ZW/IDIg5p6X5paMIOiRo+S6iyAzIOWImOiKuSDokaPkuosgNCDpm7flhpsg57uP55CGIDUg6buO5LiH5by6IOebkeS6iyBcIixcImFmdGVyX2NvbnRlbnRcIjpcIu+8iOazqO+8muagh+acieagh+W/l+eahOS4uuazleWumuS7o+ihqOS6uu+8iTEg6Zu35YabIOiRo+S6i+mVvyAyIOael+aWjCDokaPkuosgMyDliJjoirkg6JGj5LqLIDQgSEFOUyBUVU5HIOiRo+S6iyA1IOmbt+WGmyDnu4/nkIYgNiDpu47kuIflvLog55uR5LqLIFwifSx7XCJjaGFuZ2VfaXRlbVwiOlwi6K6k57y055qE5Ye66LWE6aKdLOiupOe8tOeahOWHuui1hOaWueW8jyzorqTnvLTnmoTlh7rotYTml7bpl7Qs5a6e57y055qE5Ye66LWE6aKdLOWunue8tOeahOWHuui1hOaWueW8jyzlrp7nvLTnmoTlh7rotYTml7bpl7RcIixcImNoYW5nZV9kYXRlXCI6XCIyMDEwLTA5LTAxXCIsXCJiZWZvcmVfY29udGVudFwiOlwiMSDpm7flhpsgMjQ1Ny42NiDoh6rnhLbkurrogqHkuJwgMiDmtKrplIsgMTY5LjUxIOiHqueEtuS6uuiCoeS4nCAzIOm7juS4h+W8uiAxMC4zMyDoh6rnhLbkurrogqHkuJwgXCIsXCJhZnRlcl9jb250ZW50XCI6XCIxIOmbt+WGmyAyMDk0LjE3IOiHqueEtuS6uuiCoeS4nCAyIOm7juS4h+W8uiAyNzIuNDUg6Ieq54S25Lq66IKh5LicIDMg5rSq6ZSLIDI3MC44NyDoh6rnhLbkurrogqHkuJwgXCJ9LHtcImNoYW5nZV9pdGVtXCI6XCLms6jlhozotYTmnKxcIixcImNoYW5nZV9kYXRlXCI6XCIyMDEwLTA3LTI4XCIsXCJiZWZvcmVfY29udGVudFwiOlwiMTAw5LiH5YWDXCIsXCJhZnRlcl9jb250ZW50XCI6XCIyNjM3LjQ5NzjkuIflhYNcIn0se1wiY2hhbmdlX2l0ZW1cIjpcIuWunuaUtui1hOacrO+8iOmHke+8iVwiLFwiY2hhbmdlX2RhdGVcIjpcIjIwMTAtMDctMjhcIixcImJlZm9yZV9jb250ZW50XCI6XCIxMDDkuIflhYNcIixcImFmdGVyX2NvbnRlbnRcIjpcIjI2MzcuNDk3OOS4h+WFg1wifSx7XCJjaGFuZ2VfaXRlbVwiOlwi6K6k57y055qE5Ye66LWE6aKdLOWunue8tOeahOWHuui1hOminVwiLFwiY2hhbmdlX2RhdGVcIjpcIjIwMTAtMDctMjhcIixcImJlZm9yZV9jb250ZW50XCI6XCIxIOmbt+WGmyA3OS40IOiHqueEtuS6uuiCoeS4nCAyIOm7juS4h+W8uiAxMC4zMyDoh6rnhLbkurrogqHkuJwgMyDmtKrplIsgMTAuMjcg6Ieq54S25Lq66IKh5LicIFwiLFwiYWZ0ZXJfY29udGVudFwiOlwiMSDpm7flhpsgMjQ1Ny42NiDoh6rnhLbkurrogqHkuJwgMiDmtKrplIsgMTY5LjUxIOiHqueEtuS6uuiCoeS4nCAzIOm7juS4h+W8uiAxMC4zMyDoh6rnhLbkurrogqHkuJwgXCJ9LHtcImNoYW5nZV9pdGVtXCI6XCLokaPkuovvvIjnkIbkuovvvInjgIHnu4/nkIbjgIHnm5HkuotcIixcImNoYW5nZV9kYXRlXCI6XCIyMDEwLTA3LTI4XCIsXCJiZWZvcmVfY29udGVudFwiOlwi77yI5rOo77ya5qCH5pyJ5qCH5b+X55qE5Li65rOV5a6a5Luj6KGo5Lq677yJMSDpm7flhpsg5omn6KGM6JGj5LqLIDIg6Zu35YabIOe7j+eQhiAzIOm7juS4h+W8uiDnm5HkuosgXCIsXCJhZnRlcl9jb250ZW50XCI6XCLvvIjms6jvvJrmoIfmnInmoIflv5fnmoTkuLrms5Xlrprku6PooajkurrvvIkxIOmbt+WGmyDokaPkuovplb8gMiDmnpfmlowg6JGj5LqLIDMg5YiY6Iq5IOiRo+S6iyA0IOmbt+WGmyDnu4/nkIYgNSDpu47kuIflvLog55uR5LqLIFwifSx7XCJjaGFuZ2VfaXRlbVwiOlwi57uP6JCl6IyD5Zu0XCIsXCJjaGFuZ2VfZGF0ZVwiOlwiMjAxMC0wNS0xMlwiLFwiYmVmb3JlX2NvbnRlbnRcIjpcIuazleW+i+OAgeihjOaUv+azleinhOOAgeWbveWKoemZouWGs+WumuemgeatoueahO+8jOS4jeW+l+e7j+iQpe+8m+azleW+i+OAgeihjOaUv+azleinhOOAgeWbveWKoemZouWGs+WumuinhOWumuW6lOe7j+iuuOWPr+eahO+8jOe7j+WuoeaJueacuuWFs+aJueWHhuW5tue7j+W3peWVhuihjOaUv+euoeeQhuacuuWFs+eZu+iusOazqOWGjOWQjuaWueWPr+e7j+iQpe+8m+azleW+i+OAgeihjOaUv+azleinhOOAgeWbveWKoemZouWGs+WumuacquinhOWumuiuuOWPr+eahO+8jOiHquS4u+mAieaLqee7j+iQpemhueebruW8gOWxlee7j+iQpea0u+WKqOOAglwiLFwiYWZ0ZXJfY29udGVudFwiOlwi5oqA5pyv5byA5Y+R44CC77yI5rOV5b6L44CB6KGM5pS/5rOV6KeE44CB5Zu95Yqh6Zmi5Yaz5a6a56aB5q2i55qE77yM5LiN5b6X57uP6JCl77yb5rOV5b6L44CB6KGM5pS/5rOV6KeE44CB5Zu95Yqh6Zmi5Yaz5a6a6KeE5a6a5bqU57uP6K645Y+v55qE77yM57uP5a6h5om55py65YWz5om55YeG5bm257uP5bel5ZWG6KGM5pS/566h55CG5py65YWz55m76K6w5rOo5YaM5ZCO5pa55Y+v57uP6JCl77yb5rOV5b6L44CB6KGM5pS/5rOV6KeE44CB5Zu95Yqh6Zmi5Yaz5a6a5pyq6KeE5a6a6K645Y+v55qE77yM6Ieq5Li76YCJ5oup57uP6JCl6aG555uu5byA5bGV57uP6JCl5rS75Yqo44CC77yJXCJ9LHtcImNoYW5nZV9pdGVtXCI6XCLmipXotYTkurpcIixcImNoYW5nZV9kYXRlXCI6XCIyMDEwLTA1LTEyXCIsXCJiZWZvcmVfY29udGVudFwiOlwiMSDpm7flhpsgOTAg6Ieq54S25Lq66IKh5LicIDIg6buO5LiH5by6IDEwIOiHqueEtuS6uuiCoeS4nCBcIixcImFmdGVyX2NvbnRlbnRcIjpcIjEg6Zu35YabIDc5LjQg6Ieq54S25Lq66IKh5LicIDIg6buO5LiH5by6IDEwLjMzIOiHqueEtuS6uuiCoeS4nCAzIOa0qumUiyAxMC4yNyDoh6rnhLbkurrogqHkuJwgXCJ9XSxcInBhcnRuZXJzXCI6W3tcIm5hbWVcIjpcIua0qumUi1wiLFwic3RvY2tfdHlwZVwiOlwi6Ieq54S25Lq66IKh5LicXCIsXCJpZGVudGlmeV90eXBlXCI6XCItXCIsXCJpZGVudGlmeV9ub1wiOlwiLVwiLFwicmVhbF9jYXBpX2l0ZW1zXCI6W10sXCJzaG91bGRfY2FwaV9pdGVtc1wiOltdfSx7XCJuYW1lXCI6XCLpm7flhptcIixcInN0b2NrX3R5cGVcIjpcIuiHqueEtuS6uuiCoeS4nFwiLFwiaWRlbnRpZnlfdHlwZVwiOlwiLVwiLFwiaWRlbnRpZnlfbm9cIjpcIi1cIixcInJlYWxfY2FwaV9pdGVtc1wiOltdLFwic2hvdWxkX2NhcGlfaXRlbXNcIjpbXX0se1wibmFtZVwiOlwi6buO5LiH5by6XCIsXCJzdG9ja190eXBlXCI6XCLoh6rnhLbkurrogqHkuJxcIixcImlkZW50aWZ5X3R5cGVcIjpcIi1cIixcImlkZW50aWZ5X25vXCI6XCItXCIsXCJyZWFsX2NhcGlfaXRlbXNcIjpbXSxcInNob3VsZF9jYXBpX2l0ZW1zXCI6W119LHtcIm5hbWVcIjpcIuWImOW+t1wiLFwic3RvY2tfdHlwZVwiOlwi6Ieq54S25Lq66IKh5LicXCIsXCJpZGVudGlmeV90eXBlXCI6XCItXCIsXCJpZGVudGlmeV9ub1wiOlwiLVwiLFwicmVhbF9jYXBpX2l0ZW1zXCI6W10sXCJzaG91bGRfY2FwaV9pdGVtc1wiOltdfV19fTtcblxuY2xhc3MgQ29udHJvbGxlciB7XG5cbiAgY29uc3RydWN0b3IoJGluamVjdG9yLCAkc3RhdGUsICRsb2NhdGlvbiwgJHN0YXRlUGFyYW1zLCB0b2FzdHIsICR1aWJNb2RhbCwgRW50ZXJwcmlzZVNlcnZpY2UpIHtcbiAgICAnbmdJbmplY3QnO1xuXG4gICAgdGhpcy5fc3RhdGUgPSAkc3RhdGU7XG4gICAgdGhpcy5fbG9jYXRpb24gPSAkbG9jYXRpb247XG4gICAgdGhpcy5fc3RhdGVQYXJhbXMgPSAkc3RhdGVQYXJhbXM7XG4gICAgdGhpcy5fbW9kYWwgPSAkdWliTW9kYWw7XG5cbiAgICB0aGlzLl90b2FzdHIgPSB0b2FzdHI7XG5cbiAgICB0aGlzLl9zZXJ2aWNlID0gRW50ZXJwcmlzZVNlcnZpY2U7XG5cbiAgICB0aGlzLmlkID0gJHN0YXRlUGFyYW1zLmlkO1xuXG4gICAgdGhpcy5pbmZvID0gbnVsbDtcblxuICAgIHRoaXMuX2luaXQoKTtcblxuICB9XG5cbiAgX2luaXQoKSB7XG5cbiAgICB0aGlzLl9nZXREZXRhaWwoKTtcblxuICB9XG4gIFxuICBfZ2V0RGV0YWlsKCkge1xuXG4gICAgdGhpcy5fc2VydmljZS5nZXQodGhpcy5pZCkudGhlbihkYXRhID0+IHtcbiAgICAgIC8vIGNvbnNvbGUubG9nKGRhdGEpO1xuICAgICAgdGhpcy5pbmZvID0gZGF0YS5kZXRhaWw7XG4gICAgICAvLyB0aGlzLmluZm8gPSBtb2NrX2RhdGEuZGF0YTtcbiAgICB9KTtcblxuICB9XG5cbn1cblxuZXhwb3J0IGRlZmF1bHQgQ29udHJvbGxlcjtcbiIsImltcG9ydCBDb250cm9sbGVyIGZyb20gJy4vY3RybCc7XG5cbmNvbnN0IExpc3QgPSB7XG4gIHRlbXBsYXRlVXJsOiAnbW9kdWxlcy9lbnRlcnByaXNlL2RldGFpbC9pbmRleC5odG1sJyxcbiAgY29udHJvbGxlcjogQ29udHJvbGxlcixcbiAgY29udHJvbGxlckFzOiAndm0nXG59O1xuXG5leHBvcnQgZGVmYXVsdCBMaXN0O1xuIiwiZXhwb3J0IGZ1bmN0aW9uIGZpbHRlclZhbHVlKCkge1xuXG4gICAgcmV0dXJuIGZ1bmN0aW9uKHZhbCwgbGlzdCl7XG5cbiAgICBcdC8vIGNvbnNvbGUubG9nKHZhbCwgbGlzdCk7XG5cbiAgICBcdGxldCBydCA9IGxpc3QuZmlsdGVyKGl0ZW0gPT4gaXRlbS52YWx1ZSA9PSB2YWwpO1xuXG4gICAgXHRpZiAocnQubGVuZ3RoKSB7XG4gICAgXHRcdHJldHVybiBydFswXS5sYWJlbDtcbiAgICBcdH1cblxuICAgICAgICByZXR1cm4gJyc7XG4gICAgfVxuICAgIFxufVxuXG5leHBvcnQgZnVuY3Rpb24gZmlsdGVyRGlzdHJpYnV0ZVN0YXRlKCkge1xuXHRjb25zdCBzdGF0ZUxpc3QgPSB7XG5cdFx0MTogJ+W+heWIhumFjScsXG5cdFx0MjogJ+W3suWIhumFjScsXG5cdFx0MzogJ+W3suiupOmihidcblx0fTtcblx0cmV0dXJuIGZ1bmN0aW9uKHZhbCkge1xuXHRcdHJldHVybiBzdGF0ZUxpc3RbdmFsXSB8fCAnJztcblx0fVxufSIsImltcG9ydCBQYWdpbmF0aW9uIGZyb20gJy4uLy4uLy4uL2NvcmUvY29tcG9uZW50cy9tY1BhZ2luYXRpb24vbWMtcGFnaW5hdGlvbi5jbGFzcyc7XG5cbmltcG9ydCB7YnJhbmNoQ29uZmlnLCBtYW5hZ2VDb25maWcsIGFkZENvbmZpZ30gZnJvbSAnLi4vbW9kYWxzJztcblxuY2xhc3MgTGlzdENvbnRyb2xsZXIgZXh0ZW5kcyBQYWdpbmF0aW9uIHtcblxuICBjb25zdHJ1Y3RvcigkaW5qZWN0b3IsICRzdGF0ZSwgJGxvY2F0aW9uLCAkc3RhdGVQYXJhbXMsIHN3ZWV0LCB0b2FzdHIsICR1aWJNb2RhbCwgRW50ZXJwcmlzZVNlcnZpY2UsIFByb2ZpbGVTZXJ2aWNlKSB7XG4gICAgJ25nSW5qZWN0JztcblxuICAgIHN1cGVyKCRpbmplY3Rvcik7XG5cbiAgICB0aGlzLl9zdGF0ZSA9ICRzdGF0ZTtcbiAgICB0aGlzLl9sb2NhdGlvbiA9ICRsb2NhdGlvbjtcbiAgICB0aGlzLl9zdGF0ZVBhcmFtcyA9ICRzdGF0ZVBhcmFtcztcbiAgICB0aGlzLl9tb2RhbCA9ICR1aWJNb2RhbDtcblxuICAgIHRoaXMuX3N3ZWV0ID0gc3dlZXQ7XG4gICAgdGhpcy5fdG9hc3RyID0gdG9hc3RyO1xuXG4gICAgdGhpcy5fc2VydmljZSA9IEVudGVycHJpc2VTZXJ2aWNlO1xuXG4gICAgdGhpcy5wcm9maWxlID0gUHJvZmlsZVNlcnZpY2UuZ2V0SW5mbygpO1xuICAgIHRoaXMuYWNjZXNzID0gUHJvZmlsZVNlcnZpY2UuYWNjZXNzO1xuXG4gICAgdGhpcy5yb2xlTWFpblN0YXR1cyA9IFtcbiAgICAgIHtcbiAgICAgICAgdmFsdWU6ICcnLFxuICAgICAgICBsYWJlbDogJ+WFqOmDqCdcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIHZhbHVlOiAxLFxuICAgICAgICBsYWJlbDogJ+emu+iBjCdcbiAgICAgIH0sXG4gICAgXTtcblxuICAgIHRoaXMuZW50ZXJwcmlzZVN0YXRlTGlzdCA9IFtcbiAgICAgIHtcbiAgICAgICAgdmFsdWU6IDEsXG4gICAgICAgIGxhYmVsOiAn5q2j5bi4J1xuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgdmFsdWU6IDIsXG4gICAgICAgIGxhYmVsOiAn5bey5Ya757uTJ1xuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgdmFsdWU6IDAsXG4gICAgICAgIGxhYmVsOiAn5pyq6YCa6L+H562b6YCJJ1xuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgdmFsdWU6IDMsXG4gICAgICAgIGxhYmVsOiAn5bey5Yig6ZmkJ1xuICAgICAgfSxcbiAgICBdO1xuXG4gICAgdGhpcy5maWx0ZXJzID0ge307XG5cbiAgICB0aGlzLm9uZUF0QVRpbWUgPSB0cnVlO1xuXG4gICAgdGhpcy5faW5pdCgpO1xuXG4gIH1cblxuICBfaW5pdCgpIHtcblxuICAgIHRoaXMuX2luaXRGaWx0ZXJzKCk7XG4gICAgdGhpcy5fZ2V0TGlzdCgpO1xuXG4gIH1cblxuICBfaW5pdEZpbHRlcnMoKSB7XG4gICAgLy8gY29uc29sZS5sb2codGhpcy5fc3RhdGVQYXJhbXMpO1xuICAgIGNvbnN0IHN0YXRlUGFyYW1zID0gdGhpcy5fc3RhdGVQYXJhbXM7XG4gICAgLy8gdGhpcy5wYWdpbmF0aW9uLnBhZ2UgPSArc3RhdGVQYXJhbXMucGFnZTtcbiAgICB0aGlzLmZpbHRlcnMucm9sZV9hX2Rpc2FibGUgPSBzdGF0ZVBhcmFtcy5yb2xlX2FfZGlzYWJsZSB8fCAnJztcbiAgICB0aGlzLmZpbHRlcnMuc3RhdGUgPSBzdGF0ZVBhcmFtcy5zdGF0ZT8gK3N0YXRlUGFyYW1zLnN0YXRlIDogdm9pZCgwKTtcblxuICAgIHRoaXMuZmlsdGVycy5uYW1lID0gc3RhdGVQYXJhbXMubmFtZSB8fCB2b2lkKDApO1xuXG4gIH1cbiAgXG4gIF9nZXRMaXN0KCkge1xuXG4gICAgbGV0IHBhcmFtcyA9IHRoaXMuX2ZpbHRlckVtcHR5VmFsdWUoKTtcbiAgICAvLyBwYXJhbXMucGFnZVNpemUgPSB0aGlzLnBhZ2luYXRpb24ucGFnZVNpemU7XG4gICAgcGFyYW1zLnBhZ2UgPSB0aGlzLnBhZ2luYXRpb24ucGFnZTtcblxuICAgIHRoaXMuX3NlcnZpY2UuZ2V0TGlzdChwYXJhbXMpLnRoZW4oZGF0YSA9PiB7XG4gICAgICBjb25zb2xlLmxvZyhkYXRhKTtcbiAgICAgIHRoaXMubGlzdCA9IGRhdGEuZW50ZXJwcmlzZXM7XG4gICAgICB0aGlzLnBhZ2luYXRpb24uY291bnQgPSBkYXRhLnBhZ2VfY291bnQgKiB0aGlzLnBhZ2luYXRpb24ucGFnZVNpemU7XG4gICAgfSk7XG5cbiAgfVxuXG4gIHJlU2VhcmNoKCkge1xuICAgIGxldCBwYWdlID0gMVxuICAgIHRoaXMuX2xvY2F0aW9uLnNlYXJjaCh7Li4udGhpcy5fZmlsdGVyRW1wdHlWYWx1ZSgpLCBwYWdlfSk7XG4gIH1cblxuICBzd2l0Y2goa2V5LCB2YWx1ZSkge1xuXG4gICAgaWYoIWtleSkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIHRoaXMuZmlsdGVyc1trZXldID0gdmFsdWU7XG5cbiAgICB0aGlzLnJlU2VhcmNoKCk7XG4gIH1cblxuICBhc3NpZ24oaXRlbSkge1xuICAgIGxldCB7YmFua30gPSBpdGVtO1xuICAgIGlmIChiYW5rICYmIGJhbmsuaWQpIHtcbiAgICAgIGNvbnN0IHJlc29sdmUgPSB7XG4gICAgICAgIGluZm86IGZ1bmN0aW9uKCl7XG4gICAgICAgICAgcmV0dXJuIGl0ZW07XG4gICAgICAgIH1cbiAgICAgIH07XG5cbiAgICAgIGNvbnN0IG9wdGlvbnMgPSB7Li4ubWFuYWdlQ29uZmlnLCByZXNvbHZlfTtcblxuICAgICAgdGhpcy5fbW9kYWwub3Blbiggb3B0aW9ucyApO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLl9zd2VldC5zaG93KHtcbiAgICAgICAgdGl0bGU6ICfor7flhYjliIbphY3mnLrmnoQnLFxuICAgICAgICBzaG93Q2FuY2VsQnV0dG9uOiBmYWxzZSxcbiAgICAgICAgY29uZmlybUJ1dHRvbkNvbG9yOiBcIiNERDZCNTVcIixcbiAgICAgICAgY29uZmlybUJ1dHRvblRleHQ6IFwi56Gu5a6aXCIsXG4gICAgICAgIGNhbmNlbEJ1dHRvblRleHQ6IFwi5Y+W5raIXCIsXG4gICAgICAgIGNsb3NlT25Db25maXJtOiB0cnVlLFxuICAgICAgICBpbWFnZVVybDogJy9pbWFnZXMvY29tbW9uL3dhcm5pbmcucG5nJ1xuICAgICAgfSwgc3VyZSA9PiB7XG4gICAgICAgIC8vIGlmIChzdXJlKSB7XG4gICAgICAgIC8vICAgdGhpcy5jYXJlTGlzdC5zcGxpY2UoaW5kZXgsIDEpO1xuICAgICAgICAvLyAgIHRoaXMuX3RvYXN0ci5zdWNjZXNzKCfliKDpmaTmiJDlip/vvIEnLCAn5o+Q56S6Jyk7XG4gICAgICAgIC8vIH0gZWxzZSB7XG4gICAgICAgIC8vICAgcmV0dXJuO1xuICAgICAgICAvLyB9XG4gICAgICB9KTtcbiAgICB9XG4gIH1cblxuICBhc3NpZ25CcmFuY2goaXRlbSkge1xuICAgIGNvbnN0IHJlc29sdmUgPSB7XG4gICAgICBpbmZvOiBmdW5jdGlvbigpe1xuICAgICAgICByZXR1cm4gaXRlbTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgY29uc3Qgb3B0aW9ucyA9IHsuLi5icmFuY2hDb25maWcsIHJlc29sdmV9O1xuXG4gICAgdGhpcy5fbW9kYWwub3Blbiggb3B0aW9ucyApO1xuICB9XG5cbiAgYWRkKCkge1xuICAgIGNvbnN0IHJlc29sdmUgPSB7XG4gICAgICBpbmZvOiBmdW5jdGlvbigpe1xuICAgICAgICByZXR1cm4ge307XG4gICAgICB9XG4gICAgfTtcblxuICAgIGNvbnN0IG9wdGlvbnMgPSB7Li4uYWRkQ29uZmlnLCByZXNvbHZlfTtcblxuICAgIHRoaXMuX21vZGFsLm9wZW4oIG9wdGlvbnMgKTtcbiAgfVxuXG4gIGRlbChpdGVtKSB7XG4gICAgdGhpcy5zZXRTdGF0ZShpdGVtLmlkLCAzKTtcbiAgfVxuXG4gIGZyb3N0KGl0ZW0pIHtcbiAgICB0aGlzLnNldFN0YXRlKGl0ZW0uaWQsIDIpO1xuICB9XG5cbiAgc2V0U3RhdGUoaWQsIHN0YXRlKSB7XG4gICAgdGhpcy5fc2VydmljZS5zZXQoe2lkLCBzdGF0ZX0pLnRoZW4oZGF0YSA9PiB7XG4gICAgICB0aGlzLl90b2FzdHIuc3VjY2Vzcygn5pON5L2c5oiQ5YqfJyk7XG4gICAgICB0aGlzLl9zdGF0ZS5yZWxvYWQoKTtcbiAgICB9KTtcbiAgfVxuXG4gIC8vIGNoYW5nZU1hbmFnZSh0eXBlLCBpdGVtKSB7XG4gIC8vICAgbGV0IHNlbGVjdGVkID0gaXRlbVt0eXBlXSAmJiAoW3tpZDogaXRlbVt0eXBlXS51c2VyaWQsIG5hbWU6IGl0ZW1bdHlwZV0ubmFtZX1dKSB8fCBbXTtcbiAgLy8gICBsZXQgb3B0aW9ucyA9IHtcbiAgLy8gICAgIHVybDogJy9hcGkvbWVtYmVyL2xpc3QnLFxuICAvLyAgICAgbWluOiAxLFxuICAvLyAgICAgbWF4OiAxLFxuICAvLyAgICAgdGl0bGU6ICfpgInmi6nlrqLmiLfnu4/nkIYnLFxuICAvLyAgICAgaXRlbVR5cGU6ICflrqLmiLfnu4/nkIYnLFxuICAvLyAgICAgaXRlbVVuaXQ6ICflkI0nLFxuICAvLyAgICAgaXRlbVBvc2l0aW9uOiAnJyxcbiAgLy8gICAgIHNlYXJjaFBsYWNlaG9sZGVyOiAn6K+36L6T5YWl5aeT5ZCN5pCc57SiJyxcbiAgLy8gICAgIHNlbGVjdGVkSXRlbXM6IHNlbGVjdGVkLFxuICAvLyAgICAgcGFyYW1zOiB7fSxcblxuICAvLyAgICAgbGlzdDogW1xuICAvLyAgICAgICB7XG4gIC8vICAgICAgICAgaWQ6IDEyLFxuICAvLyAgICAgICAgIG5hbWU6ICfnjovkuZDkuZAnLFxuICAvLyAgICAgICAgIGF2YXRhcjogJy9pbWFnZXMvY29tbW9uL21hbi5wbmcnXG4gIC8vICAgICAgIH0sXG4gIC8vICAgICAgIHtcbiAgLy8gICAgICAgICBpZDogMjMsXG4gIC8vICAgICAgICAgbmFtZTogJ+WImOeri+WGmycsXG4gIC8vICAgICAgICAgYXZhdGFyOiAnL2ltYWdlcy9jb21tb24vbWFuLnBuZydcbiAgLy8gICAgICAgfSxcbiAgLy8gICAgICAge1xuICAvLyAgICAgICAgIGlkOiAyNCxcbiAgLy8gICAgICAgICBuYW1lOiAn546L5piO5ra1JyxcbiAgLy8gICAgICAgICBhdmF0YXI6ICcvaW1hZ2VzL2NvbW1vbi9tYW4ucG5nJ1xuICAvLyAgICAgICB9LFxuICAvLyAgICAgXSxcblxuICAvLyAgICAgLy8gaWRLZXk6ICdvbGRfaWQnXG4gIC8vICAgfTtcblxuICAvLyAgIHRoaXMuX3BpY2tlclNlcnZpY2Uub3BlbihvcHRpb25zLCByZXMgPT4ge1xuICAvLyAgICAgaWYgKHJlcy5kYXRhLmxlbmd0aCkge1xuICAvLyAgICAgICB0aGlzLl9jaGFuZ2VNYW5hZ2UocmVzLmRhdGFbMF0sIHR5cGUsIGl0ZW0pO1xuICAvLyAgICAgfVxuICAvLyAgIH0pO1xuICAvLyB9XG5cbiAgLy8gX2NoYW5nZU1hbmFnZShtYW5hZ2UsIHR5cGUsIGl0ZW0pIHtcbiAgLy8gICBpdGVtW3R5cGVdID0ge1xuICAvLyAgICAgdXNlcmlkOiBtYW5hZ2UuaWQsXG4gIC8vICAgICBuYW1lOiBtYW5hZ2UubmFtZVxuICAvLyAgIH07XG4gIC8vIH1cblxuXG59XG5cbmV4cG9ydCBkZWZhdWx0IExpc3RDb250cm9sbGVyO1xuIiwiaW1wb3J0IExpc3RDb250cm9sbGVyIGZyb20gJy4vY3RybCc7XG5cbmNvbnN0IExpc3QgPSB7XG4gIHRlbXBsYXRlVXJsOiAnbW9kdWxlcy9lbnRlcnByaXNlL2xpc3QvaW5kZXguaHRtbCcsXG4gIGNvbnRyb2xsZXI6IExpc3RDb250cm9sbGVyLFxuICBjb250cm9sbGVyQXM6ICd2bSdcbn07XG5cbmV4cG9ydCBkZWZhdWx0IExpc3Q7XG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBDb250cm9sbGVyIHtcbiAgY29uc3RydWN0b3IoJHNjb3BlLCAkc3RhdGUsICR2YWxpZGF0aW9uLCAkdWliTW9kYWxJbnN0YW5jZSwgdG9hc3RyLCBFbnRlcnByaXNlU2VydmljZSwgaW5mbykge1xuICAgICduZ0luamVjdCc7XG5cbiAgICB0aGlzLl9zY29wZSA9ICRzY29wZTtcbiAgICB0aGlzLl9zdGF0ZSA9ICRzdGF0ZTtcblxuICAgIHRoaXMuX3ZhbGlkYXRpb25Qcm92aWRlciA9ICR2YWxpZGF0aW9uO1xuXG4gICAgdGhpcy5fbW9kYWxJbnN0YW5jZSA9ICR1aWJNb2RhbEluc3RhbmNlO1xuICAgIHRoaXMuX3RvYXN0ciA9IHRvYXN0cjtcblxuICAgIHRoaXMuX3NlcnZpY2UgPSBFbnRlcnByaXNlU2VydmljZTtcblxuICAgIHRoaXMuaW5mbyA9IGluZm87XG5cbiAgICB0aGlzLmlucHV0SW5mbyA9IHtcbiAgICAgIG5hbWU6ICcnXG4gICAgfTtcblxuICB9XG5cbiAgXG5cbiAgY2FuY2VsKCkge1xuICAgIHRoaXMuX21vZGFsSW5zdGFuY2UuY2xvc2UoKTtcbiAgfVxuXG4gIHN1Ym1pdChmb3JtKSB7XG4gICAgLy/pqozor4HooajljZVcbiAgICB0aGlzLl92YWxpZGF0aW9uUHJvdmlkZXIudmFsaWRhdGUoZm9ybSkuc3VjY2VzcygoKSA9PiB7XG4gICAgICB0aGlzLnNhdmVGdW5jKCk7XG4gICAgfSk7XG4gIH1cblxuICBzYXZlRnVuYygpIHtcbiAgICBjb25zdCBkYXRhID0gdGhpcy5pbnB1dEluZm87XG4gICAgdGhpcy5fc2VydmljZS5hZGQoZGF0YSkudGhlbihkYXRhID0+IHtcbiAgICAgIHRoaXMuX3RvYXN0ci5zdWNjZXNzKCfmt7vliqDmiJDlip8nKTtcbiAgICAgIHRoaXMuY2FuY2VsKCk7XG4gICAgICB0aGlzLl9zdGF0ZS5yZWxvYWQoKTtcbiAgICB9KVxuICB9XG59XG4iLCJpbXBvcnQgQ29udHJvbGxlciBmcm9tICcuL2N0cmwnO1xuXG5jb25zdCBDb25maWd1cmF0aW9uID0ge1xuICB0ZW1wbGF0ZVVybDogJ21vZHVsZXMvZW50ZXJwcmlzZS9tb2RhbHMvYWRkL3RlbXBsYXRlLmh0bWwnLFxuICBjb250cm9sbGVyOiBDb250cm9sbGVyLFxuICBjb250cm9sbGVyQXM6ICd2bSdcbn07XG5cbmV4cG9ydCBkZWZhdWx0IENvbmZpZ3VyYXRpb247XG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBDb250cm9sbGVyIHtcbiAgY29uc3RydWN0b3IoJHNjb3BlLCAkc3RhdGUsICR2YWxpZGF0aW9uLCAkdWliTW9kYWxJbnN0YW5jZSwgdG9hc3RyLCBFbnRlcnByaXNlU2VydmljZSwgaW5mbykge1xuICAgICduZ0luamVjdCc7XG5cbiAgICB0aGlzLl9zY29wZSA9ICRzY29wZTtcbiAgICB0aGlzLl9zdGF0ZSA9ICRzdGF0ZTtcblxuICAgIHRoaXMuX3ZhbGlkYXRpb25Qcm92aWRlciA9ICR2YWxpZGF0aW9uO1xuXG4gICAgdGhpcy5fbW9kYWxJbnN0YW5jZSA9ICR1aWJNb2RhbEluc3RhbmNlO1xuICAgIHRoaXMuX3RvYXN0ciA9IHRvYXN0cjtcblxuICAgIHRoaXMuX3NlcnZpY2UgPSBFbnRlcnByaXNlU2VydmljZTtcblxuICAgIHRoaXMuaW5mbyA9IGluZm87XG5cbiAgICB0aGlzLmlucHV0SW5mbyA9IHtcbiAgICAgIGJyYW5jaDogaW5mby5iYW5rICYmIGluZm8uYmFuay5pZFxuICAgIH07XG5cbiAgICB0aGlzLmxpc3QgPSBudWxsO1xuXG5cbiAgICB0aGlzLl9nZXRCYW5rTGlzdCgpO1xuXG4gIH1cblxuICBfZ2V0QmFua0xpc3QoKSB7XG4gICAgdGhpcy5fc2VydmljZS5nZXRCYW5rTGlzdCgpLnRoZW4oZGF0YSA9PiB7XG4gICAgICAvLyBjb25zb2xlLmxvZyhkYXRhKTtcbiAgICAgIHRoaXMubGlzdCA9IGRhdGE7XG4gICAgfSk7XG4gIH1cblxuICBjYW5jZWwoKSB7XG4gICAgdGhpcy5fbW9kYWxJbnN0YW5jZS5jbG9zZSgpO1xuICB9XG5cbiAgc3VibWl0KGZvcm0pIHtcbiAgICAvL+mqjOivgeihqOWNlVxuICAgIHRoaXMuX3ZhbGlkYXRpb25Qcm92aWRlci52YWxpZGF0ZShmb3JtKS5zdWNjZXNzKCgpID0+IHtcbiAgICAgIHRoaXMuc2F2ZUZ1bmMoKTtcbiAgICB9KTtcbiAgfVxuXG4gIHNhdmVGdW5jKCkge1xuICAgIC8vIGNvbnNvbGUubG9nKCdzdWJtaXQnKVxuICAgIHRoaXMuX3NlcnZpY2Uuc2V0KHtcbiAgICAgIGlkOiB0aGlzLmluZm8uaWQsXG4gICAgICBiYW5rX2lkOiB0aGlzLmlucHV0SW5mby5icmFuY2hcbiAgICB9KS50aGVuKGRhdGEgPT4ge1xuICAgICAgdGhpcy5jYW5jZWwoKTtcbiAgICAgIHRoaXMuX3RvYXN0ci5zdWNjZXNzKCforr7nva7miJDlip8nKTtcbiAgICAgIHRoaXMuX3N0YXRlLnJlbG9hZCgpO1xuICAgIH0pO1xuICB9XG59XG4iLCJpbXBvcnQgQ29udHJvbGxlciBmcm9tICcuL2N0cmwnO1xuXG5jb25zdCBjb25maWd1cmF0aW9uID0ge1xuICB0ZW1wbGF0ZVVybDogJ21vZHVsZXMvZW50ZXJwcmlzZS9tb2RhbHMvYnJhbmNoL3RlbXBsYXRlLmh0bWwnLFxuICBjb250cm9sbGVyOiBDb250cm9sbGVyLFxuICBjb250cm9sbGVyQXM6ICd2bSdcbn07XG5cbmV4cG9ydCBkZWZhdWx0IGNvbmZpZ3VyYXRpb247XG4iLCJpbXBvcnQgYnJhbmNoQ29uZmlnIGZyb20gJy4vYnJhbmNoJztcbmltcG9ydCBtYW5hZ2VDb25maWcgZnJvbSAnLi9tYW5hZ2UnO1xuaW1wb3J0IGFkZENvbmZpZyBmcm9tICcuL2FkZCc7XG5cbmV4cG9ydCB7XG5cdGJyYW5jaENvbmZpZyxcbiBcdG1hbmFnZUNvbmZpZyxcbiBcdGFkZENvbmZpZ1xufVxuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgQ29udHJvbGxlciB7XG4gIGNvbnN0cnVjdG9yKCRzY29wZSwgJHN0YXRlLCAkdmFsaWRhdGlvbiwgJHVpYk1vZGFsSW5zdGFuY2UsIHRvYXN0ciwgRW50ZXJwcmlzZVNlcnZpY2UsIGluZm8pIHtcbiAgICAnbmdJbmplY3QnO1xuXG4gICAgdGhpcy5fc2NvcGUgPSAkc2NvcGU7XG4gICAgdGhpcy5fc3RhdGUgPSAkc3RhdGU7XG5cbiAgICB0aGlzLl92YWxpZGF0aW9uUHJvdmlkZXIgPSAkdmFsaWRhdGlvbjtcblxuICAgIHRoaXMuX21vZGFsSW5zdGFuY2UgPSAkdWliTW9kYWxJbnN0YW5jZTtcbiAgICB0aGlzLl90b2FzdHIgPSB0b2FzdHI7XG5cbiAgICB0aGlzLl9zZXJ2aWNlID0gRW50ZXJwcmlzZVNlcnZpY2U7XG5cbiAgICB0aGlzLmluZm8gPSBpbmZvO1xuXG4gICAgdGhpcy5pbnB1dEluZm8gPSB7XG4gICAgICBtYWluOiBpbmZvLnJvbGVfYSAmJiBpbmZvLnJvbGVfYS5pZCxcbiAgICAgIHZpY2U6IGluZm8ucm9sZV9iICYmIGluZm8ucm9sZV9iLmlkXG4gICAgfTtcblxuICAgIHRoaXMubGlzdCA9IG51bGw7XG5cbiAgICB0aGlzLl9pbml0KCk7XG5cbiAgfVxuXG4gIF9pbml0KCkge1xuICAgIHRoaXMuX2dldFVzZXJMaXN0KCk7XG4gIH1cblxuICBfZ2V0VXNlckxpc3QoKSB7XG4gICAgbGV0IHtiYW5rfSA9IHRoaXMuaW5mbztcbiAgICBsZXQgcGFyYW1zID0ge1xuICAgICAgc3RhdGU6IDEsXG4gICAgICBiYW5rX2lkOiBiYW5rLmlkLFxuICAgICAgYmFua19uYW1lOiBiYW5rLm5hbWUsXG4gICAgICByb2xlX2VuX25hbWU6ICdST0xFX0NVU1RPTUVSX01BTkFHRVInLFxuICAgICAgcGFnZV9saW1pdDogMTAwMFxuICAgIH07XG4gICAgdGhpcy5fc2VydmljZS5nZXRVc2VyTGlzdChwYXJhbXMpLnRoZW4oZGF0YSA9PiB7XG4gICAgICB0aGlzLmxpc3QgPSBkYXRhLnVzZXJzO1xuICAgIH0pXG4gIH1cblxuICBcblxuICBjYW5jZWwoKSB7XG4gICAgdGhpcy5fbW9kYWxJbnN0YW5jZS5jbG9zZSgpO1xuICB9XG5cbiAgc3VibWl0KGZvcm0pIHtcbiAgICAvL+mqjOivgeihqOWNlVxuICAgIHRoaXMuX3ZhbGlkYXRpb25Qcm92aWRlci52YWxpZGF0ZShmb3JtKS5zdWNjZXNzKCgpID0+IHtcbiAgICAgIHRoaXMuc2F2ZUZ1bmMoKTtcbiAgICB9KTtcbiAgfVxuXG4gIHNhdmVGdW5jKCkge1xuICAgIC8vIGNvbnNvbGUubG9nKCdzdWJtaXQnKVxuICAgIHRoaXMuX3NlcnZpY2Uuc2V0KHtcbiAgICAgIGlkOiB0aGlzLmluZm8uaWQsXG4gICAgICByb2xlX2FfaWQ6IHRoaXMuaW5wdXRJbmZvLm1haW4sXG4gICAgICByb2xlX2JfaWQ6IHRoaXMuaW5wdXRJbmZvLnZpY2VcbiAgICB9KS50aGVuKGRhdGEgPT4ge1xuICAgICAgdGhpcy5jYW5jZWwoKTtcbiAgICAgIHRoaXMuX3RvYXN0ci5zdWNjZXNzKCforr7nva7miJDlip8nKTtcbiAgICAgIHRoaXMuX3N0YXRlLnJlbG9hZCgpO1xuICAgIH0pO1xuICB9XG59XG4iLCJpbXBvcnQgQ29udHJvbGxlciBmcm9tICcuL2N0cmwnO1xuXG5jb25zdCBjb25maWd1cmF0aW9uID0ge1xuICB0ZW1wbGF0ZVVybDogJ21vZHVsZXMvZW50ZXJwcmlzZS9tb2RhbHMvbWFuYWdlL3RlbXBsYXRlLmh0bWwnLFxuICBjb250cm9sbGVyOiBDb250cm9sbGVyLFxuICBjb250cm9sbGVyQXM6ICd2bSdcbn07XG5cbmV4cG9ydCBkZWZhdWx0IGNvbmZpZ3VyYXRpb247XG4iLCJpbXBvcnQgYW5ndWxhciBmcm9tICdhbmd1bGFyJztcbmltcG9ydCBjb25maWcgIGZyb20gJy4vY29uZmlnJztcbmltcG9ydCBzZXJ2aWNlIGZyb20gJy4vc2VydmljZSc7XG5pbXBvcnQge2ZpbHRlclZhbHVlLCBmaWx0ZXJEaXN0cmlidXRlU3RhdGV9IGZyb20gJy4vZmlsdGVyJztcbmltcG9ydCBMaXN0ICBmcm9tICcuL2xpc3QvJztcbmltcG9ydCBEZXRhaWwgIGZyb20gJy4vZGV0YWlsLyc7XG5cbi8vIGltcG9ydCBkZW1vU2VydmljZSAgICAgIGZyb20gJy4vc2VydmljZXMvZGVtby5zZXJ2aWNlJztcblxuXG5cblxuZXhwb3J0IGRlZmF1bHQgYW5ndWxhci5tb2R1bGUoJ2FwcC5tb2R1bGVzLmVudGVycHJpc2UnLCBbXSlcbi5maWx0ZXIoJ2ZpbHRlclZhbHVlJywgZmlsdGVyVmFsdWUpXG4uZmlsdGVyKCdmaWx0ZXJEaXN0cmlidXRlU3RhdGUnLCBmaWx0ZXJEaXN0cmlidXRlU3RhdGUpXG4uc2VydmljZSgnRW50ZXJwcmlzZVNlcnZpY2UnLCBzZXJ2aWNlKVxuXG4uY29tcG9uZW50KCdlbnRlcnByaXNlTGlzdCcsIExpc3QpXG4uY29tcG9uZW50KCdlbnRlcnByaXNlRGV0YWlsJywgRGV0YWlsKVxuLmNvbmZpZyhjb25maWcpO1xuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgU2VydmljZSB7XG4gIGNvbnN0cnVjdG9yKCRodHRwLCBodHRwSGVscGVyLCAkcm9vdFNjb3BlLCAkc3RhdGUsIEFwaU1hcCkge1xuICAgICduZ0luamVjdCc7XG5cbiAgICB0aGlzLl9odHRwID0gJGh0dHA7XG4gICAgLy8gdGhpcy4kcSA9ICRxO1xuICAgIHRoaXMuX2h0dHBIZWxwZXIgPSBodHRwSGVscGVyO1xuXG4gICAgdGhpcy5fYXBpTWFwID0gQXBpTWFwO1xuXG4gICAgdGhpcy5fYXBpID0gQXBpTWFwLmVudGVycHJpc2U7XG5cbiAgICB0aGlzLl9yb290U2NvcGUgPSAkcm9vdFNjb3BlO1xuICAgIHRoaXMuX3N0YXRlID0gJHN0YXRlO1xuICB9XG5cbiAgZ2V0KGlkKSB7XG4gICAgXG4gICAgdGhpcy5faHR0cEhlbHBlci5ibG9ja1VJLnN0YXJ0KCk7XG5cbiAgICByZXR1cm4gdGhpcy5faHR0cC5nZXQodGhpcy5fYXBpLmdldC5yZXBsYWNlKC9cXHtpZFxcfS8sIGlkKSkudGhlbih0aGlzLl9odHRwSGVscGVyLnZlcmlmeSwgIHRoaXMuX2h0dHBIZWxwZXIuZXJyb3IpO1xuICB9XG5cbiAgZ2V0TGlzdChwYXJhbXMpIHtcbiAgICBcbiAgICB0aGlzLl9odHRwSGVscGVyLmJsb2NrVUkuc3RhcnQoKTtcblxuICAgIHJldHVybiB0aGlzLl9odHRwLnBvc3QodGhpcy5fYXBpLmdldExpc3QsIHBhcmFtcykudGhlbih0aGlzLl9odHRwSGVscGVyLnZlcmlmeSwgIHRoaXMuX2h0dHBIZWxwZXIuZXJyb3IpO1xuICB9XG5cbiAgc2V0KGRhdGEpIHtcbiAgICBcbiAgICB0aGlzLl9odHRwSGVscGVyLmJsb2NrVUkuc3RhcnQoKTtcblxuICAgIHJldHVybiB0aGlzLl9odHRwLnBvc3QodGhpcy5fYXBpLnNldCwgZGF0YSkudGhlbih0aGlzLl9odHRwSGVscGVyLnZlcmlmeSwgIHRoaXMuX2h0dHBIZWxwZXIuZXJyb3IpO1xuICB9XG5cbiAgYWRkKGRhdGEpIHtcbiAgICBcbiAgICB0aGlzLl9odHRwSGVscGVyLmJsb2NrVUkuc3RhcnQoKTtcblxuICAgIHJldHVybiB0aGlzLl9odHRwLnBvc3QodGhpcy5fYXBpLmFkZCwgZGF0YSkudGhlbih0aGlzLl9odHRwSGVscGVyLnZlcmlmeSwgIHRoaXMuX2h0dHBIZWxwZXIuZXJyb3IpO1xuICB9XG5cbiAgZ2V0QmFua0xpc3QocGFyYW1zKSB7XG4gICAgdGhpcy5faHR0cEhlbHBlci5ibG9ja1VJLnN0YXJ0KCk7XG4gICAgcmV0dXJuIHRoaXMuX2h0dHAuZ2V0KHRoaXMuX2FwaU1hcC5iYW5rLmdldCwge3BhcmFtczogcGFyYW1zfSlcbiAgICAgIC50aGVuKHRoaXMuX2h0dHBIZWxwZXIudmVyaWZ5LCB0aGlzLl9odHRwSGVscGVyLmVycm9yKTtcbiAgfVxuICBcbiAgZ2V0VXNlckxpc3QoZGF0YSkge1xuICAgIHRoaXMuX2h0dHBIZWxwZXIuYmxvY2tVSS5zdGFydCgpO1xuICAgIHJldHVybiB0aGlzLl9odHRwLnBvc3QodGhpcy5fYXBpTWFwLnBlcnNvbi5saXN0LCBkYXRhKVxuICAgICAgLnRoZW4odGhpcy5faHR0cEhlbHBlci52ZXJpZnksIHRoaXMuX2h0dHBIZWxwZXIuZXJyb3IpO1xuICB9XG5cblxufSIsImltcG9ydCBQYWdpbmF0aW9uIGZyb20gJy4uLy4uLy4uL2NvcmUvY29tcG9uZW50cy9tY1BhZ2luYXRpb24vbWMtcGFnaW5hdGlvbi5jbGFzcyc7XG5pbXBvcnQge2FkZENvbmZpZ30gZnJvbSAnLi4vbW9kYWxzJztcblxuY2xhc3MgTGlzdENvbnRyb2xsZXIgZXh0ZW5kcyBQYWdpbmF0aW9uIHtcblxuICBjb25zdHJ1Y3RvcigkaW5qZWN0b3IsICRzdGF0ZSwgJGxvY2F0aW9uLCAkc3RhdGVQYXJhbXMsIHRvYXN0ciwgJHVpYk1vZGFsLCBGaWx0ZXJTZXJ2aWNlKSB7XG4gICAgJ25nSW5qZWN0JztcblxuICAgIHN1cGVyKCRpbmplY3Rvcik7XG5cbiAgICB0aGlzLl9zdGF0ZSA9ICRzdGF0ZTtcbiAgICB0aGlzLl9sb2NhdGlvbiA9ICRsb2NhdGlvbjtcbiAgICB0aGlzLl9zdGF0ZVBhcmFtcyA9ICRzdGF0ZVBhcmFtcztcbiAgICB0aGlzLl9tb2RhbCA9ICR1aWJNb2RhbDtcblxuICAgIHRoaXMuX3RvYXN0ciA9IHRvYXN0cjtcblxuICAgIHRoaXMuX3NlcnZpY2UgPSBGaWx0ZXJTZXJ2aWNlO1xuXG4gICAgdGhpcy5maWx0ZXJzID0ge307XG5cbiAgICB0aGlzLl9pbml0KCk7XG5cbiAgfVxuXG4gIF9pbml0KCkge1xuXG4gICAgdGhpcy5faW5pdEZpbHRlcnMoKTtcbiAgICB0aGlzLl9nZXRMaXN0KCk7XG5cbiAgfVxuXG4gIF9pbml0RmlsdGVycygpIHtcbiAgICAvLyBjb25zb2xlLmxvZyh0aGlzLl9zdGF0ZVBhcmFtcyk7XG4gICAgY29uc3Qgc3RhdGVQYXJhbXMgPSB0aGlzLl9zdGF0ZVBhcmFtcztcbiAgICAvLyB0aGlzLnBhZ2luYXRpb24ucGFnZSA9ICtzdGF0ZVBhcmFtcy5wYWdlO1xuICAgIC8vIHRoaXMuZmlsdGVycy5nZW5kZXIgPSArc3RhdGVQYXJhbXMuZ2VuZGVyIHx8IHZvaWQoMCk7XG5cbiAgICB0aGlzLmZpbHRlcnMubmFtZSA9IHN0YXRlUGFyYW1zLm5hbWUgfHwgdm9pZCgwKTtcblxuICB9XG4gIFxuICBfZ2V0TGlzdCgpIHtcblxuICAgIGxldCBwYXJhbXMgPSB0aGlzLl9maWx0ZXJFbXB0eVZhbHVlKCk7XG4gICAgLy8gcGFyYW1zLnBhZ2VTaXplID0gdGhpcy5wYWdpbmF0aW9uLnBhZ2VTaXplO1xuICAgIHBhcmFtcy5wYWdlID0gdGhpcy5wYWdpbmF0aW9uLnBhZ2U7XG5cbiAgICB0aGlzLl9zZXJ2aWNlLmdldEJsYWNrTGlzdChwYXJhbXMpLnRoZW4oZGF0YSA9PiB7XG4gICAgICBjb25zb2xlLmxvZyhkYXRhKTtcbiAgICAgIHRoaXMubGlzdCA9IGRhdGEuYmxhY2tsaXN0O1xuICAgICAgdGhpcy5wYWdpbmF0aW9uLmNvdW50ID0gZGF0YS5wYWdlX2NvdW50ICogdGhpcy5wYWdpbmF0aW9uLnBhZ2VTaXplO1xuICAgIH0pO1xuXG4gICAgLy8gdGhpcy5saXN0ID0gW1xuICAgIC8vICAgICAgICAgICAgIHtpZDogMSwgdGl0bGU6ICfljZXni6znmoTooajljZXmjqfku7bkvJrooqvoh6rliqjotYvkuojkuIDkupvlhajlsYDmoLflvI8nLCBsaW5rOiAnLycsIGNvbnRlbnQ6ICfljZXni6znmoTooajljZXmjqfku7bkvJrooqvoh6rliqjotYvkuojkuIDkupvlhajlsYDmoLflvI/jgILmiYDmnInorr7nva7kuoYgLmZvcm0tY29udHJvbCDnsbvnmoQgPGlucHV0PuOAgTx0ZXh0YXJlYT4g5ZKMIDxzZWxlY3Q+IOWFg+e0oOmDveWwhuiiq+m7mOiupOiuvue9ruWuveW6puWxnuaAp+S4uiB3aWR0aDogMTAwJTvjgIIg5bCGIGxhYmVsIOWFg+e0oOWSjOWJjemdouaPkOWIsOeahOaOp+S7tuWMheijueWcqCAuZm9ybS1ncm91cCDkuK3lj6/ku6XojrflvpfmnIDlpb3nmoTmjpLliJfjgIInfSxcbiAgICAvLyAgICAgICAgICAgICB7aWQ6IDIsIHRpdGxlOiAn5Y2V54us55qE6KGo5Y2V5o6n5Lu25Lya6KKr6Ieq5Yqo6LWL5LqI5LiA5Lqb5YWo5bGA5qC35byPJywgbGluazogJy8nLCBjb250ZW50OiAn5Y2V54us55qE6KGo5Y2V5o6n5Lu25Lya6KKr6Ieq5Yqo6LWL5LqI5LiA5Lqb5YWo5bGA5qC35byP44CC5omA5pyJ6K6+572u5LqGIC5mb3JtLWNvbnRyb2wg57G755qEIDxpbnB1dD7jgIE8dGV4dGFyZWE+IOWSjCA8c2VsZWN0PiDlhYPntKDpg73lsIbooqvpu5jorqTorr7nva7lrr3luqblsZ7mgKfkuLogd2lkdGg6IDEwMCU744CCIOWwhiBsYWJlbCDlhYPntKDlkozliY3pnaLmj5DliLDnmoTmjqfku7bljIXoo7nlnKggLmZvcm0tZ3JvdXAg5Lit5Y+v5Lul6I635b6X5pyA5aW955qE5o6S5YiX44CCJ30sXG4gICAgLy8gICAgICAgICAgIF07XG4gICAgLy8gdGhpcy5wYWdpbmF0aW9uLmNvdW50ID0gMjA7XG5cbiAgfVxuXG4gIGFkZCgpIHtcbiAgICBjb25zdCByZXNvbHZlID0ge1xuICAgICAgaW5mbzogZnVuY3Rpb24oKXtcbiAgICAgICAgcmV0dXJuIHt9O1xuICAgICAgfVxuICAgIH07XG5cbiAgICBjb25zdCBvcHRpb25zID0gey4uLmFkZENvbmZpZywgcmVzb2x2ZX07XG5cbiAgICB0aGlzLl9tb2RhbC5vcGVuKCBvcHRpb25zICk7XG4gIH1cbiAgZGVsKGl0ZW0pIHtcbiAgICBjb25zdCBpZCA9IGl0ZW0uaWQ7XG5cbiAgICBcbiAgICB0aGlzLl9zZXJ2aWNlLmRlbEJsYWNrTGlzdCh7aWR9KS50aGVuKGRhdGEgPT4ge1xuICAgICAgLy8gdGhpcy5fdG9hc3RyLnN1Y2Nlc3MoJycpO1xuICAgICAgdGhpcy5fdG9hc3RyLnN1Y2Nlc3MoJ+WIoOmZpOaIkOWKnycpO1xuICAgICAgdGhpcy5fc3RhdGUucmVsb2FkKCk7XG5cbiAgICB9KTtcbiAgfVxuXG5cbn1cblxuZXhwb3J0IGRlZmF1bHQgTGlzdENvbnRyb2xsZXI7XG4iLCJpbXBvcnQgQ29udHJvbGxlciBmcm9tICcuL2N0cmwnO1xuXG5jb25zdCBCbGFja0xpc3QgPSB7XG4gIHRlbXBsYXRlVXJsOiAnbW9kdWxlcy9maWx0ZXIvYmxhY2tsaXN0L3RlbXBsYXRlLmh0bWwnLFxuICBjb250cm9sbGVyOiBDb250cm9sbGVyLFxuICBjb250cm9sbGVyQXM6ICd2bSdcbn07XG5cbmV4cG9ydCBkZWZhdWx0IEJsYWNrTGlzdDtcbiIsImNsYXNzIENvbnRyb2xsZXIge1xuXG4gIGNvbnN0cnVjdG9yKCRzY29wZSwgJHN0YXRlLCAkc3RhdGVQYXJhbXMsICR2YWxpZGF0aW9uLCB0b2FzdHIsIENvbmZpZ1NlcnZpY2UsIGNoZWNrU3RhdGVTZXJ2aWNlKSB7XG4gICAgJ25nSW5qZWN0JztcblxuICAgIHRoaXMuX3Njb3BlID0gJHNjb3BlO1xuXG4gICAgdGhpcy5fc3RhdGUgPSAkc3RhdGU7XG4gICAgdGhpcy5fdG9hc3RyID0gdG9hc3RyO1xuICAgIHRoaXMuX3N0YXRlUGFyYW1zID0gJHN0YXRlUGFyYW1zO1xuXG4gICAgdGhpcy5fdmFsaWRhdGlvbiA9ICAkdmFsaWRhdGlvbjtcblxuICAgIHRoaXMuX2NoZWNrU3RhdGVTZXJ2aWNlID0gY2hlY2tTdGF0ZVNlcnZpY2U7XG5cbiAgICB0aGlzLl9zZXJ2aWNlID0gQ29uZmlnU2VydmljZTtcblxuICAgIC8vIHRoaXMuaWQgPSB0aGlzLl9zdGF0ZVBhcmFtcy5pZCB8fCBudWxsO1xuXG4gICAgdGhpcy5pbmZvID0gbnVsbDtcblxuICAgIHRoaXMua2V5ID0gJ2VudGVycHJpc2UuZW50ZXJfY29uZGl0aW9uJztcblxuICAgIHRoaXMuc29ydGFibGVDb25mID0ge1xuICAgICAgbmFtZTogJ3RvZG8nLFxuICAgICAgYW5pbWF0aW9uOiAxNTBcbiAgICB9O1xuICAgIHRoaXMuaW5wdXRJbmZvID0ge1xuICAgICAgY29udGVudDogJycsXG4gICAgICB0aXRsZTogJydcbiAgICB9O1xuXG4gICAgdGhpcy50eXBlTGlzdCA9IFtcbiAgICAgIHtcbiAgICAgICAgdmFsdWU6ICdpbnRlZ2VyJyxcbiAgICAgICAgbmFtZTogJ+aVsOWtlydcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIHZhbHVlOiAnc3RyaW5nJyxcbiAgICAgICAgbmFtZTogJ+aWh+acrCdcbiAgICAgIH1cbiAgICBdO1xuXG4gICAgdGhpcy5ncm91cENvbmRpdGlvbiA9IFtcbiAgICAgIHtcbiAgICAgICAgdmFsdWU6ICdhbGwnLFxuICAgICAgICBuYW1lOiAn5b+F6aG75YWo6YOo5ruh6LazJ1xuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgdmFsdWU6ICdvbmUnLFxuICAgICAgICBuYW1lOiAn5ruh6Laz5LiA5Liq5Y2z5Y+vJ1xuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgdmFsdWU6ICdvbmVOb3QnLFxuICAgICAgICBuYW1lOiAn5LiN5ZCM5pe25ruh6LazJ1xuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgdmFsdWU6ICdhbGxOb3QnLFxuICAgICAgICBuYW1lOiAn5LiN6IO95ruh6Laz5Lu75L2V5LiA5LiqJ1xuICAgICAgfSxcbiAgICBdO1xuXG4gICAgdGhpcy5jb25kaXRpb25MaXN0ID0ge1xuICAgICAgc3RyaW5nOiBbXG4gICAgICAgIHtcbiAgICAgICAgICB2YWx1ZTogJz0nLFxuICAgICAgICAgIG5hbWU6ICfnrYnkuo4nXG4gICAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgICB2YWx1ZTogJyU9JyxcbiAgICAgICAgICBuYW1lOiAn5YyF5ZCrJ1xuICAgICAgICB9LFxuICAgICAgICB7XG4gICAgICAgICAgdmFsdWU6ICchPScsXG4gICAgICAgICAgbmFtZTogJ+S4jeWMheWQqydcbiAgICAgICAgfSxcbiAgICAgIF0sXG4gICAgICBpbnRlZ2VyOltcbiAgICAgICAge1xuICAgICAgICAgIHZhbHVlOiAnPScsXG4gICAgICAgICAgbmFtZTogJ+etieS6jidcbiAgICAgICAgfSxcbiAgICAgICAge1xuICAgICAgICAgIHZhbHVlOiAnPicsXG4gICAgICAgICAgbmFtZTogJ+Wkp+S6jidcbiAgICAgICAgfSxcbiAgICAgICAge1xuICAgICAgICAgIHZhbHVlOiAnPj0nLFxuICAgICAgICAgIG5hbWU6ICflpKfkuo7nrYnkuo4nXG4gICAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgICB2YWx1ZTogJzwnLFxuICAgICAgICAgIG5hbWU6ICflpKfkuo4nXG4gICAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgICB2YWx1ZTogJzw9JyxcbiAgICAgICAgICBuYW1lOiAn5aSn5LqOJ1xuICAgICAgICB9LFxuICAgICAgXVxuICAgIH07XG5cbiAgICB0aGlzLl9pbml0KCk7XG4gIH1cblxuICBfaW5pdCgpIHtcblxuICAgIC8vIHRoaXMubGlzdCA9IFt7XG4gICAgLy8gICBjb25kaXRpb246ICdhbGwnLFxuICAgIC8vICAgbGlzdDogW1xuICAgIC8vICAgICB7XG4gICAgLy8gICAgICAgdGl0bGU6ICcnLFxuICAgIC8vICAgICAgIHR5cGU6ICdpbnRlZ2VyJyxcbiAgICAvLyAgICAgICBjb25kaXRpb246ICc9JyxcbiAgICAvLyAgICAgICB2YWx1ZTogMVxuICAgIC8vICAgICB9LFxuXG4gICAgLy8gICAgIHtcbiAgICAvLyAgICAgICB0aXRsZTogJycsXG4gICAgLy8gICAgICAgdHlwZTogJ2ludGVnZXInLFxuICAgIC8vICAgICAgIGNvbmRpdGlvbjogJz0nLFxuICAgIC8vICAgICAgIHZhbHVlOiAxXG4gICAgLy8gICAgIH1cbiAgICAvLyAgIF1cbiAgICAvLyB9LFxuICAgIC8vIHtcbiAgICAvLyAgIGNvbmRpdGlvbjogJ2FsbCcsXG4gICAgLy8gICBsaXN0OiBbXG4gICAgLy8gICAgIHtcbiAgICAvLyAgICAgICB0aXRsZTogJycsXG4gICAgLy8gICAgICAgdHlwZTogJ2ludGVnZXInLFxuICAgIC8vICAgICAgIGNvbmRpdGlvbjogJz0nLFxuICAgIC8vICAgICAgIHZhbHVlOiAxXG4gICAgLy8gICAgIH0sXG4gICAgICAgIFxuICAgIC8vICAgICB7XG4gICAgLy8gICAgICAgdGl0bGU6ICcnLFxuICAgIC8vICAgICAgIHR5cGU6ICdpbnRlZ2VyJyxcbiAgICAvLyAgICAgICBjb25kaXRpb246ICc9JyxcbiAgICAvLyAgICAgICB2YWx1ZTogMVxuICAgIC8vICAgICB9XG4gICAgLy8gICBdXG4gICAgLy8gfVxuICAgIC8vIF1cbiAgICB0aGlzLl9nZXQoKTtcbiAgfVxuXG4gIF9nZXQoKSB7XG5cbiAgICB0aGlzLl9zZXJ2aWNlLmdldCh0aGlzLmtleSkudGhlbihkYXRhID0+IHtcbiAgICAgIGlmKGRhdGEpIHtcbiAgICAgICAgdGhpcy5saXN0ID0gYW5ndWxhci5mcm9tSnNvbihkYXRhKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuaW5pdENvbGxlY3QoKTtcbiAgICAgIH1cbiAgICB9KS5jYXRjaChkYXRhID0+IHtcbiAgICAgIHRoaXMuaW5pdENvbGxlY3QoKTtcbiAgICB9KTtcbiAgfVxuXG4gIGluaXRDb2xsZWN0KCkge1xuICAgIHRoaXMubGlzdCA9IFtdO1xuICAgIHRoaXMuYWRkR3JvdXAoKTtcbiAgfVxuXG4gIGFkZEdyb3VwKCkge1xuICAgIGxldCBncm91cCA9IHtcbiAgICAgIGNvbmRpdGlvbjogJ2FsbCcsXG4gICAgICBsaXN0OiBbXVxuICAgIH07XG4gICAgdGhpcy5hZGRJdGVtKGdyb3VwKTtcbiAgICB0aGlzLmxpc3QucHVzaChncm91cCk7XG4gIH1cblxuICBhZGRJdGVtKGdyb3VwKSB7XG4gICAgbGV0IGl0ZW0gPSB7XG4gICAgICB0aXRsZTogJycsXG4gICAgICB0eXBlOiAnaW50ZWdlcicsXG4gICAgICBjb25kaXRpb246ICc9JyxcbiAgICAgIHZhbHVlOiAnJ1xuICAgIH07XG4gICAgZ3JvdXAubGlzdC5wdXNoKGl0ZW0pO1xuICB9XG5cbiAgZGVsR3JvdXAoaW5kZXgpIHtcbiAgICB0aGlzLmxpc3Quc3BsaWNlKGluZGV4LCAxKTtcbiAgfVxuXG4gIGRlbEl0ZW0oZ3JvdXAsIGluZGV4KSB7XG4gICAgZ3JvdXAubGlzdC5zcGxpY2UoaW5kZXgsIDEpO1xuICB9XG5cblx0ZGVsZXRlKGZvcm0pIHtcbiAgICBmb3JtLiRwcmlzdGluZSA9IHRydWU7XG5cdFx0dGhpcy5fc2VydmljZS50aXBzU2V0KHtcbiAgICAgIGlkOiB0aGlzLmlkLFxuICAgICAgc3RhdGU6IDNcbiAgICB9KS50aGVuKGRhdGEgPT4ge1xuICAgICAgdGhpcy5fdG9hc3RyLnN1Y2Nlc3MoJ+WIoOmZpOaIkOWKnyEnKTtcbiAgICAgIHRoaXMuX3N0YXRlLmdvKCdwcm9jZXNzLnRpcHMnKTtcbiAgICB9KTtcblx0fVxuXG4gIHN1Ym1pdChmb3JtKSB7XG4gICAgLy/pqozor4HooajljZVcbiAgICB0aGlzLl92YWxpZGF0aW9uLnZhbGlkYXRlKGZvcm0pLnN1Y2Nlc3MoKCkgPT4ge1xuICAgICAgdGhpcy5zYXZlRnVuYyhmb3JtKTtcbiAgICB9KTtcbiAgfVxuXG4gIHNhdmVGdW5jKGZvcm0pIHtcbiAgICB0aGlzLl9zZXJ2aWNlLnNldCh7XG4gICAgICBrZXk6IHRoaXMua2V5LFxuICAgICAgdmFsdWU6IGFuZ3VsYXIudG9Kc29uKHRoaXMubGlzdClcbiAgICB9KS50aGVuKGRhdGEgPT4ge1xuICAgICAgZm9ybS4kcHJpc3RpbmUgPSB0cnVlO1xuICAgICAgdGhpcy5fdG9hc3RyLnN1Y2Nlc3MoJ+a3u+WKoOaIkOWKnycpO1xuICAgIH0pO1xuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IENvbnRyb2xsZXI7IiwiaW1wb3J0IGN0cmwgZnJvbSAnLi9jdHJsJztcblxuY29uc3QgY29uZGl0aW9uID0ge1xuICB0ZW1wbGF0ZVVybDogJ21vZHVsZXMvZmlsdGVyL2NvbmRpdGlvbi9pbmRleC5odG1sJyxcbiAgY29udHJvbGxlcjogY3RybCxcbiAgY29udHJvbGxlckFzOiAndm0nXG59O1xuXG5leHBvcnQgZGVmYXVsdCBjb25kaXRpb247IiwiZnVuY3Rpb24gQ29uZmlnKCRzdGF0ZVByb3ZpZGVyKSB7XG4gICduZ0luamVjdCc7XG5cbiAgJHN0YXRlUHJvdmlkZXJcbiAgICAuc3RhdGUoJ2ZpbHRlcicsIHtcbiAgICAgIHVybDogJy9maWx0ZXInLFxuICAgICAgYWJzdHJhY3Q6IHRydWUsXG4gICAgICB0ZW1wbGF0ZSA6ICc8dWktdmlldz48L3VpLXZpZXc+JyxcbiAgICAgIHRpdGxlOiAn5LyB5Lia562b6YCJJyxcbiAgICAgIHNpZGViYXJNZXRhOiB7XG4gICAgICAgIGljb246ICdpY29uLXNpZGViYXJfbWVtYmVyc19pYycsXG4gICAgICAgIG9yZGVyOiA1MDAsXG4gICAgICB9XG4gICAgfSlcbiAgICAuc3RhdGUoJ2ZpbHRlci5ibGFja2xpc3QnLCB7XG4gICAgICB1cmw6ICc/cGFnZSZuYW1lJyxcbiAgICAgIHRlbXBsYXRlOiAnPGZpbHRlci1ibGFja2xpc3Q+PC9maWx0ZXItYmxhY2tsaXN0PicsXG4gICAgICB0aXRsZTogJ+m7keWQjeWNlScsXG4gICAgICBzaWRlYmFyTWV0YToge1xuICAgICAgICBvcmRlcjogMzBcbiAgICAgIH1cbiAgICB9KVxuICAgIC5zdGF0ZSgnZmlsdGVyLmNvbmRpdGlvbicsIHtcbiAgICAgIHVybDogJy9jb25kaXRpb24nLFxuICAgICAgdGVtcGxhdGU6ICc8ZmlsdGVyLWNvbmRpdGlvbj48L2ZpbHRlci1jb25kaXRpb24+JyxcbiAgICAgIHRpdGxlOiAn5YeG5YWl5p2h5Lu2JyxcbiAgICAgIHNpZGViYXJNZXRhOiB7XG4gICAgICAgIG9yZGVyOiA1MFxuICAgICAgfVxuICAgIH0pXG4gICAgLy8gLnN0YXRlKCdmaWx0ZXIuYWRkJywge1xuICAgIC8vICAgdXJsOiAnL2FkZD9pZCcsXG4gICAgLy8gICB0ZW1wbGF0ZTogJzxmaWx0ZXItYWRkPjwvZmlsdGVyLWFkZD4nLFxuICAgIC8vICAgdGl0bGU6ICfmt7vliqDpu5HlkI3ljZUnLFxuICAgIC8vICAgc2lkZWJhck1ldGE6IHtcbiAgICAvLyAgICAgb3JkZXI6IDMwXG4gICAgLy8gICB9XG4gICAgLy8gfSlcbiAgICA7XG5cbn1cblxuZXhwb3J0IGRlZmF1bHQgQ29uZmlnO1xuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgQ29udHJvbGxlciB7XG4gIGNvbnN0cnVjdG9yKCRzY29wZSwgJHN0YXRlLCAkdmFsaWRhdGlvbiwgJHVpYk1vZGFsSW5zdGFuY2UsIHRvYXN0ciwgRmlsdGVyU2VydmljZSwgaW5mbykge1xuICAgICduZ0luamVjdCc7XG5cbiAgICB0aGlzLl9zY29wZSA9ICRzY29wZTtcbiAgICB0aGlzLl9zdGF0ZSA9ICRzdGF0ZTtcblxuICAgIHRoaXMuX3ZhbGlkYXRpb25Qcm92aWRlciA9ICR2YWxpZGF0aW9uO1xuXG4gICAgdGhpcy5fbW9kYWxJbnN0YW5jZSA9ICR1aWJNb2RhbEluc3RhbmNlO1xuICAgIHRoaXMuX3RvYXN0ciA9IHRvYXN0cjtcblxuICAgIHRoaXMuX3NlcnZpY2UgPSBGaWx0ZXJTZXJ2aWNlO1xuXG4gICAgdGhpcy5pbmZvID0gaW5mbztcblxuICAgIHRoaXMuaW5wdXRJbmZvID0ge1xuICAgICAgbmFtZTogJydcbiAgICB9O1xuXG4gIH1cblxuICBcblxuICBjYW5jZWwoKSB7XG4gICAgdGhpcy5fbW9kYWxJbnN0YW5jZS5jbG9zZSgpO1xuICB9XG5cbiAgc3VibWl0KGZvcm0pIHtcbiAgICAvL+mqjOivgeihqOWNlVxuICAgIHRoaXMuX3ZhbGlkYXRpb25Qcm92aWRlci52YWxpZGF0ZShmb3JtKS5zdWNjZXNzKCgpID0+IHtcbiAgICAgIHRoaXMuc2F2ZUZ1bmMoKTtcbiAgICB9KTtcbiAgfVxuXG4gIHNhdmVGdW5jKCkge1xuICAgIGNvbnN0IGRhdGEgPSB0aGlzLmlucHV0SW5mbztcbiAgICB0aGlzLl9zZXJ2aWNlLmFkZEJsYWNrTGlzdChkYXRhKS50aGVuKGRhdGEgPT4ge1xuICAgICAgdGhpcy5fdG9hc3RyLnN1Y2Nlc3MoJ+a3u+WKoOaIkOWKnycpO1xuICAgICAgdGhpcy5jYW5jZWwoKTtcbiAgICAgIHRoaXMuX3N0YXRlLnJlbG9hZCgpO1xuICAgIH0pXG4gIH1cbn1cbiIsImltcG9ydCBDb250cm9sbGVyIGZyb20gJy4vY3RybCc7XG5cbmNvbnN0IENvbmZpZ3VyYXRpb24gPSB7XG4gIHRlbXBsYXRlVXJsOiAnbW9kdWxlcy9maWx0ZXIvbW9kYWxzL2FkZC90ZW1wbGF0ZS5odG1sJyxcbiAgY29udHJvbGxlcjogQ29udHJvbGxlcixcbiAgY29udHJvbGxlckFzOiAndm0nXG59O1xuXG5leHBvcnQgZGVmYXVsdCBDb25maWd1cmF0aW9uO1xuIiwiaW1wb3J0IGFkZENvbmZpZyBmcm9tICcuL2FkZCc7XG5cbmV4cG9ydCB7XG4gIGFkZENvbmZpZ1xufVxuIiwiaW1wb3J0IGFuZ3VsYXIgZnJvbSAnYW5ndWxhcic7XG5pbXBvcnQgY29uZmlnICBmcm9tICcuL2NvbmZpZyc7XG5pbXBvcnQgc2VydmljZSBmcm9tICcuL3NlcnZpY2UnO1xuLy8gaW1wb3J0IExpc3QgIGZyb20gJy4vbGlzdC8nO1xuaW1wb3J0IENvbmRpdGlvbiBmcm9tICcuL2NvbmRpdGlvbi8nO1xuaW1wb3J0IEJsYWNrbGlzdCBmcm9tICcuL2JsYWNrbGlzdC8nO1xuXG4vLyBpbXBvcnQgZGVtb1NlcnZpY2UgICAgICBmcm9tICcuL3NlcnZpY2VzL2RlbW8uc2VydmljZSc7XG5cblxuXG5cbmV4cG9ydCBkZWZhdWx0IGFuZ3VsYXIubW9kdWxlKCdhcHAubW9kdWxlcy5maWx0ZXInLCBbXSlcbi8vIC5maWx0ZXIoJ2ZpbHRlclR5cGUnLCBmaWx0ZXJUeXBlKVxuLnNlcnZpY2UoJ0ZpbHRlclNlcnZpY2UnLCBzZXJ2aWNlKVxuXG4uY29tcG9uZW50KCdmaWx0ZXJCbGFja2xpc3QnLCBCbGFja2xpc3QpXG4uY29tcG9uZW50KCdmaWx0ZXJDb25kaXRpb24nLCBDb25kaXRpb24pXG4uY29uZmlnKGNvbmZpZyk7XG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBTZXJ2aWNlIHtcbiAgY29uc3RydWN0b3IoJGh0dHAsIGh0dHBIZWxwZXIsICRyb290U2NvcGUsICRzdGF0ZSwgQXBpTWFwKSB7XG4gICAgJ25nSW5qZWN0JztcblxuICAgIHRoaXMuX2h0dHAgPSAkaHR0cDtcbiAgICAvLyB0aGlzLiRxID0gJHE7XG4gICAgdGhpcy5faHR0cEhlbHBlciA9IGh0dHBIZWxwZXI7XG5cbiAgICB0aGlzLl9hcGlNYXAgPSBBcGlNYXA7XG5cbiAgICB0aGlzLl9hcGkgPSBBcGlNYXAuZmlsdGVyO1xuXG4gICAgdGhpcy5fcm9vdFNjb3BlID0gJHJvb3RTY29wZTtcbiAgICB0aGlzLl9zdGF0ZSA9ICRzdGF0ZTtcbiAgfVxuXG4gIGdldEJsYWNrTGlzdChwYXJhbXMpIHtcbiAgICB0aGlzLl9odHRwSGVscGVyLmJsb2NrVUkuc3RhcnQoKTtcbiAgICByZXR1cm4gdGhpcy5faHR0cC5wb3N0KHRoaXMuX2FwaS5ibGFja2xpc3QubGlzdCwgcGFyYW1zKVxuICAgICAgLnRoZW4odGhpcy5faHR0cEhlbHBlci52ZXJpZnksIHRoaXMuX2h0dHBIZWxwZXIuZXJyb3IpO1xuICB9XG4gIGFkZEJsYWNrTGlzdChwYXJhbXMpIHtcbiAgICB0aGlzLl9odHRwSGVscGVyLmJsb2NrVUkuc3RhcnQoKTtcbiAgICByZXR1cm4gdGhpcy5faHR0cC5wb3N0KHRoaXMuX2FwaS5ibGFja2xpc3QuYWRkLCBwYXJhbXMpXG4gICAgICAudGhlbih0aGlzLl9odHRwSGVscGVyLnZlcmlmeSwgdGhpcy5faHR0cEhlbHBlci5lcnJvcik7XG4gIH1cbiAgZGVsQmxhY2tMaXN0KHBhcmFtcykge1xuICAgIHRoaXMuX2h0dHBIZWxwZXIuYmxvY2tVSS5zdGFydCgpO1xuICAgIHJldHVybiB0aGlzLl9odHRwLnBvc3QodGhpcy5fYXBpLmJsYWNrbGlzdC5kZWwsIHBhcmFtcylcbiAgICAgIC50aGVuKHRoaXMuX2h0dHBIZWxwZXIudmVyaWZ5LCB0aGlzLl9odHRwSGVscGVyLmVycm9yKTtcbiAgfVxuICBcblxuXG59IiwiZnVuY3Rpb24gQ29uZmlnKCRzdGF0ZVByb3ZpZGVyKSB7XG4gICduZ0luamVjdCc7XG5cbiAgJHN0YXRlUHJvdmlkZXJcbiAgICAuc3RhdGUoJ2luZm9ybWF0aW9uJywge1xuICAgICAgICB1cmw6ICcvaW5mb3JtYXRpb24nLFxuICAgICAgICAvLyBhYnN0cmFjdDogdHJ1ZSxcbiAgICAgICAgdGVtcGxhdGUgOiAnPHVpLXZpZXc+PGluZm9ybWF0aW9uLXNldHRpbmc+PC9pbmZvcm1hdGlvbi1zZXR0aW5nPjwvdWktdmlldz4nLFxuICAgICAgICB0aXRsZTogJ+S8geS4mumHh+mbhuiuvue9ricsXG4gICAgICAgIHNpZGViYXJNZXRhOiB7XG4gICAgICAgICAgaWNvbjogJ2ljb24tc2lkZWJhcl9tZW1iZXJzX2ljJyxcbiAgICAgICAgICBvcmRlcjogNjAwLFxuICAgICAgICB9XG4gICAgfSlcbiAgICAvLyAuc3RhdGUoJ2luZm9ybWF0aW9uLmxpc3QnLCB7XG4gICAgLy8gICAgIHVybDogJycsXG4gICAgLy8gICAgIHRlbXBsYXRlOiAnPGluZm9ybWF0aW9uLWxpc3Q+PC9pbmZvcm1hdGlvbi1saXN0PicsXG4gICAgLy8gICAgIHRpdGxlOiAn5LyB5Lia5YiX6KGoJyxcbiAgICAvLyAgICAgc2lkZWJhck1ldGE6IHtcbiAgICAvLyAgICAgICBvcmRlcjogMTBcbiAgICAvLyAgICAgfVxuICAgIC8vIH0pXG4gICAgLy8gLnN0YXRlKCdpbmZvcm1hdGlvbi5kZXRhaWwnLCB7XG4gICAgLy8gICAgIHVybDogJy9kZXRhaWw/aWQnLFxuICAgIC8vICAgICB0ZW1wbGF0ZTogJzxpbmZvcm1hdGlvbi1kZXRhaWw+PC9pbmZvcm1hdGlvbi1kZXRhaWw+JyxcbiAgICAvLyAgICAgdGl0bGU6ICfkvIHkuJrliJfooagnLFxuICAgIC8vICAgICBzaWRlYmFyTWV0YToge1xuICAgIC8vICAgICAgIG9yZGVyOiAyMFxuICAgIC8vICAgICB9XG4gICAgLy8gfSlcbiAgICAuc3RhdGUoJ2luZm9ybWF0aW9uLnNldHRpbmcnLCB7XG4gICAgICAgIHVybDogJy9zZXR0aW5nJyxcbiAgICAgICAgdGVtcGxhdGU6ICc8aW5mb3JtYXRpb24tc2V0dGluZz48L2luZm9ybWF0aW9uLXNldHRpbmc+JyxcbiAgICAgICAgdGl0bGU6ICfph4fpm4borr7nva4nLFxuICAgICAgICAvLyBzaWRlYmFyTWV0YToge1xuICAgICAgICAvLyAgIG9yZGVyOiAzMFxuICAgICAgICAvLyB9XG4gICAgfSlcbiAgICA7XG5cbn1cblxuZXhwb3J0IGRlZmF1bHQgQ29uZmlnO1xuIiwiaW1wb3J0IGFuZ3VsYXIgZnJvbSAnYW5ndWxhcic7XG5pbXBvcnQgY29uZmlnICBmcm9tICcuL2NvbmZpZyc7XG4vLyBpbXBvcnQgc2VydmljZSBmcm9tICcuL3NlcnZpY2UnO1xuLy8gaW1wb3J0IExpc3QgIGZyb20gJy4vbGlzdC8nO1xuaW1wb3J0IFNldHRpbmcgIGZyb20gJy4vc2V0dGluZy8nO1xuXG4vLyBpbXBvcnQgZGVtb1NlcnZpY2UgICAgICBmcm9tICcuL3NlcnZpY2VzL2RlbW8uc2VydmljZSc7XG5cblxuXG5cbmV4cG9ydCBkZWZhdWx0IGFuZ3VsYXIubW9kdWxlKCdhcHAubW9kdWxlcy5pbmZvcm1hdGlvbicsIFtdKVxuLy8gLmZpbHRlcignZmlsdGVyVHlwZScsIGZpbHRlclR5cGUpXG4vLyAuc2VydmljZSgnTWVzc2FnZVNlcnZpY2UnLCBzZXJ2aWNlKVxuXG4vLyAuY29tcG9uZW50KCdpbmZvcm1hdGlvbkxpc3QnLCBMaXN0KVxuLmNvbXBvbmVudCgnaW5mb3JtYXRpb25TZXR0aW5nJywgU2V0dGluZylcbi5jb25maWcoY29uZmlnKTtcbiIsIlxuXG5jbGFzcyBDb250cm9sbGVyIHtcblxuICBjb25zdHJ1Y3RvcigkaW5qZWN0b3IsICRzdGF0ZSwgJGxvY2F0aW9uLCAkdmFsaWRhdGlvbiwgJHN0YXRlUGFyYW1zLCB0b2FzdHIsICR1aWJNb2RhbCwgQ29uZmlnU2VydmljZSkge1xuICAgICduZ0luamVjdCc7XG5cbiAgICB0aGlzLl9zdGF0ZSA9ICRzdGF0ZTtcbiAgICB0aGlzLl9sb2NhdGlvbiA9ICRsb2NhdGlvbjtcbiAgICB0aGlzLl9zdGF0ZVBhcmFtcyA9ICRzdGF0ZVBhcmFtcztcbiAgICB0aGlzLl9tb2RhbCA9ICR1aWJNb2RhbDtcblxuICAgIHRoaXMuX3ZhbGlkYXRpb25Qcm92aWRlciA9ICR2YWxpZGF0aW9uO1xuXG4gICAgdGhpcy5fdG9hc3RyID0gdG9hc3RyO1xuXG4gICAgdGhpcy5fc2VydmljZSA9IENvbmZpZ1NlcnZpY2U7XG5cbiAgICB0aGlzLmZpbHRlcnMgPSB7fTtcblxuICAgIHRoaXMua2V5ID0gJ2ZpbmRpbmcudGVtcGxhdGUnO1xuXG5cbiAgICB0aGlzLnR5cGVMaXN0ID0gW1xuICAgICAge1xuICAgICAgICB0eXBlOiAnaW5wdXQnLFxuICAgICAgICB0aXRsZTogJ+WNleihjOaWh+acrCdcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIHR5cGU6ICd0ZXh0YXJlYScsXG4gICAgICAgIHRpdGxlOiAn5aSa6KGM5paH5pysJ1xuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgdHlwZTogJ2ltZycsXG4gICAgICAgIHRpdGxlOiAn5Zu+54mHJyxcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIHR5cGU6ICdzZWxlY3QnLFxuICAgICAgICB0aXRsZTogJ+S4i+aLiemAieaLqScsXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICB0eXBlOiAnY2hlY2tib3gnLFxuICAgICAgICB0aXRsZTogJ+WkmumAieahhicsXG4gICAgICB9LFxuICAgIF07XG5cbiAgICB0aGlzLl9pbml0KCk7XG5cbiAgfVxuXG4gIF9pbml0KCkge1xuICAgIHRoaXMuX2dldFRlbXBsYXRlKCk7XG5cbiAgfVxuXG4gIF9nZXRUZW1wbGF0ZSgpIHtcbiAgICB0aGlzLl9zZXJ2aWNlLmdldCh0aGlzLmtleSkudGhlbihkYXRhID0+IHtcbiAgICAgIGlmKGRhdGEpIHtcbiAgICAgICAgdGhpcy5jb2xsZWN0TGlzdCA9IGFuZ3VsYXIuZnJvbUpzb24oZGF0YSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLmluaXRDb2xsZWN0SW5mbygpO1xuICAgICAgfVxuICAgIH0pLmNhdGNoKGUgPT4ge1xuICAgICAgdGhpcy5pbml0Q29sbGVjdEluZm8oKTtcbiAgICB9KTtcbiAgfVxuXG4gIGluaXRDb2xsZWN0SW5mbygpIHtcbiAgICB0aGlzLmNvbGxlY3RMaXN0ID0gW107XG5cbiAgICB0aGlzLmFkZFByb2plY3QoKTtcbiAgfVxuXG4gIHR5cGVDaGFuZ2UoaXRlbSkge1xuICAgIGlmIChbJ3NlbGVjdCcsICdjaGVja2JveCddLmluZGV4T2YoaXRlbS50eXBlKSA+IC0xKSB7XG4gICAgICBpdGVtLm5lZWREYXRhID0gdHJ1ZTtcbiAgICB9IGVsc2Uge1xuICAgICAgaXRlbS5uZWVkRGF0YSA9IGZhbHNlO1xuICAgIH1cbiAgfVxuXG4gIGFkZFByb2plY3QoKSB7XG4gICAgbGV0IHByb2plY3RPYmogPSB7XG4gICAgICBuYW1lOiAnJyxcbiAgICAgIGlzUmVxdWlyZWQ6IGZhbHNlLFxuICAgICAgY29udGVudDogW11cbiAgICB9O1xuICAgIHRoaXMuY29sbGVjdExpc3QucHVzaChwcm9qZWN0T2JqKTtcbiAgICB0aGlzLmFkZEl0ZW0ocHJvamVjdE9iaik7XG4gIH1cblxuICBkZWxldGVQcm9qZWN0KGluZGV4KSB7XG4gICAgdGhpcy5jb2xsZWN0TGlzdC5zcGxpY2UoaW5kZXgsIDEpO1xuICB9XG5cbiAgYWRkSXRlbShwcm9qZWN0KSB7XG4gICAgbGV0IGNvbnRlbnRPYmogPSB7XG4gICAgICB0aXRsZTogJycsXG4gICAgICB0eXBlOiAnaW5wdXQnLFxuICAgICAgZGVzY3JpcHRpb246ICcnLFxuICAgICAgaXNSZXF1aXJlZDogZmFsc2UsXG4gICAgICBuZWVkRGF0YTogZmFsc2UsXG4gICAgICBkYXRhU291cmNlOiBbXVxuICAgIH07XG5cbiAgICBwcm9qZWN0LmNvbnRlbnQucHVzaChjb250ZW50T2JqKTtcblxuICAgIHRoaXMuYWRkRGF0YShjb250ZW50T2JqKTtcbiAgfVxuXG4gIGRlbGV0ZUl0ZW0ocHJvaiwgaW5kZXgpIHtcbiAgICBwcm9qLmNvbnRlbnQuc3BsaWNlKGluZGV4LCAxKTtcbiAgfVxuXG4gIGFkZERhdGEoaXRlbSkge1xuICAgIGl0ZW0uZGF0YVNvdXJjZS5wdXNoKHtcbiAgICAgIGRlc2NyaXB0aW9uOiAnJ1xuICAgIH0pO1xuICB9XG5cbiAgZGVsZXRlRGF0YShpdGVtLCBpbmRleCkge1xuICAgIGl0ZW0uZGF0YVNvdXJjZS5zcGxpY2UoaW5kZXgsIDEpO1xuICB9XG5cblxuXG4gIHN1Ym1pdChmb3JtKSB7XG4gICAgLy/pqozor4HooajljZVcbiAgICB0aGlzLl92YWxpZGF0aW9uUHJvdmlkZXIudmFsaWRhdGUoZm9ybSkuc3VjY2VzcygoKSA9PiB7XG4gICAgICB0aGlzLnNhdmVGdW5jKCk7XG4gICAgfSk7XG4gIH1cblxuICBzYXZlRnVuYygpIHtcbiAgICAvLyBjb25zb2xlLmxvZygnc3VibWl0JylcblxuICAgIC8vIGNvbnNvbGUubG9nKHRoaXMuY29sbGVjdExpc3QsIEpTT04uc3RyaW5naWZ5KHRoaXMuY29sbGVjdExpc3QpKTtcblxuICAgIHRoaXMuX3NlcnZpY2Uuc2V0KHtcbiAgICAgIGtleTogdGhpcy5rZXksXG4gICAgICB2YWx1ZTogYW5ndWxhci50b0pzb24odGhpcy5jb2xsZWN0TGlzdClcbiAgICB9KS50aGVuKGRhdGEgPT4ge1xuICAgICAgdGhpcy5fdG9hc3RyLnN1Y2Nlc3MoJ+S/neWtmOaIkOWKnycpO1xuICAgIH0pO1xuICB9XG5cbn1cblxuZXhwb3J0IGRlZmF1bHQgQ29udHJvbGxlcjtcbiIsImltcG9ydCBDb250cm9sbGVyIGZyb20gJy4vY3RybCc7XG5cbmNvbnN0IGNvbXBvbmVudCA9IHtcbiAgdGVtcGxhdGVVcmw6ICdtb2R1bGVzL2luZm9ybWF0aW9uL3NldHRpbmcvaW5kZXguaHRtbCcsXG4gIGNvbnRyb2xsZXI6IENvbnRyb2xsZXIsXG4gIGNvbnRyb2xsZXJBczogJ3ZtJ1xufTtcblxuZXhwb3J0IGRlZmF1bHQgY29tcG9uZW50O1xuIiwiZnVuY3Rpb24gQ29uZmlnKCRzdGF0ZVByb3ZpZGVyKSB7XG4gICduZ0luamVjdCc7XG5cbiAgJHN0YXRlUHJvdmlkZXJcbiAgICAuc3RhdGUoJ2ludmVzdG1lbnQnLCB7XG4gICAgICAgIHVybDogJy9pbnZlc3RtZW50P3BhZ2UmbmFtZScsXG4gICAgICAgIC8vIGFic3RyYWN0OiB0cnVlLFxuICAgICAgICB0ZW1wbGF0ZSA6ICc8dWktdmlldz48aW52ZXN0bWVudC1saXN0PjwvaW52ZXN0bWVudC1saXN0PjwvdWktdmlldz4nLFxuICAgICAgICB0aXRsZTogJ+aKlei1hOacuuaehCcsXG4gICAgICAgIHNpZGViYXJNZXRhOiB7XG4gICAgICAgICAgaWNvbjogJ2ljb24tc2lkZWJhcl9tZW1iZXJzX2ljJyxcbiAgICAgICAgICBvcmRlcjogMzUwLFxuICAgICAgICB9XG4gICAgfSlcbiAgICAvLyAuc3RhdGUoJ2ludmVzdG1lbnQubGlzdCcsIHtcbiAgICAvLyAgICAgdXJsOiAnJyxcbiAgICAvLyAgICAgdGVtcGxhdGU6ICc8aW52ZXN0bWVudC1saXN0PjwvaW52ZXN0bWVudC1saXN0PicsXG4gICAgLy8gICAgIHRpdGxlOiAn5py65p6E5YiX6KGoJ1xuICAgIC8vIH0pXG4gICAgO1xuXG59XG5cbmV4cG9ydCBkZWZhdWx0IENvbmZpZztcbiIsImltcG9ydCBQYWdpbmF0aW9uIGZyb20gJy4uLy4uLy4uL2NvcmUvY29tcG9uZW50cy9tY1BhZ2luYXRpb24vbWMtcGFnaW5hdGlvbi5jbGFzcyc7XG5pbXBvcnQge2FkZENvbmZpZ30gZnJvbSAnLi4vbW9kYWxzJztcblxuY2xhc3MgTGlzdENvbnRyb2xsZXIgZXh0ZW5kcyBQYWdpbmF0aW9uIHtcblxuICBjb25zdHJ1Y3RvcigkaW5qZWN0b3IsICRzdGF0ZSwgJGxvY2F0aW9uLCAkc3RhdGVQYXJhbXMsIHRvYXN0ciwgJHVpYk1vZGFsLCBJbnZlc3RtZW50U2VydmljZSkge1xuICAgICduZ0luamVjdCc7XG5cbiAgICBzdXBlcigkaW5qZWN0b3IpO1xuXG4gICAgdGhpcy5fc3RhdGUgPSAkc3RhdGU7XG4gICAgdGhpcy5fbG9jYXRpb24gPSAkbG9jYXRpb247XG4gICAgdGhpcy5fc3RhdGVQYXJhbXMgPSAkc3RhdGVQYXJhbXM7XG4gICAgdGhpcy5fbW9kYWwgPSAkdWliTW9kYWw7XG5cbiAgICB0aGlzLl90b2FzdHIgPSB0b2FzdHI7XG5cbiAgICB0aGlzLl9zZXJ2aWNlID0gSW52ZXN0bWVudFNlcnZpY2U7XG5cbiAgICB0aGlzLmZpbHRlcnMgPSB7fTtcblxuICAgIHRoaXMuYWdlbmN5TGlzdCA9IFtdO1xuXG4gICAgdGhpcy5faW5pdCgpO1xuXG4gIH1cblxuICBfaW5pdCgpIHtcblxuICAgIHRoaXMuX2luaXRGaWx0ZXJzKCk7XG4gICAgdGhpcy5fZ2V0TGlzdCgpO1xuXG4gIH1cblxuICBfaW5pdEZpbHRlcnMoKSB7XG4gICAgLy8gY29uc29sZS5sb2codGhpcy5fc3RhdGVQYXJhbXMpO1xuICAgIGNvbnN0IHN0YXRlUGFyYW1zID0gdGhpcy5fc3RhdGVQYXJhbXM7XG4gICAgLy8gdGhpcy5wYWdpbmF0aW9uLnBhZ2UgPSArc3RhdGVQYXJhbXMucGFnZTtcbiAgICB0aGlzLmZpbHRlcnMuZ2VuZGVyID0gK3N0YXRlUGFyYW1zLmdlbmRlciB8fCB2b2lkKDApO1xuXG4gICAgdGhpcy5maWx0ZXJzLm5hbWUgPSBzdGF0ZVBhcmFtcy5uYW1lIHx8IHZvaWQoMCk7XG5cbiAgfVxuICBcbiAgX2dldExpc3QoKSB7XG5cbiAgICBsZXQgcGFyYW1zID0gdGhpcy5fZmlsdGVyRW1wdHlWYWx1ZSgpO1xuICAgIC8vIHBhcmFtcy5wYWdlU2l6ZSA9IHRoaXMucGFnaW5hdGlvbi5wYWdlU2l6ZTtcbiAgICBwYXJhbXMucGFnZSA9IHRoaXMucGFnaW5hdGlvbi5wYWdlO1xuXG4gICAgdGhpcy5fc2VydmljZS5nZXRMaXN0KHBhcmFtcykudGhlbihkYXRhID0+IHtcbiAgICAgIGlmKGRhdGEgaW5zdGFuY2VvZiBBcnJheSkge1xuICAgICAgICB0aGlzLmxpc3QgPSBkYXRhO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gdGhpcy5fZm9ybWF0QWdlbmN5KGRhdGEpO1xuICAgICAgICB0aGlzLmxpc3QgPSBkYXRhLnZjX2NvbXBhbmllcztcbiAgICAgICAgdGhpcy5wYWdpbmF0aW9uLmNvdW50ID0gZGF0YS5wYWdlX2NvdW50ICogdGhpcy5wYWdpbmF0aW9uLnBhZ2VTaXplO1xuICAgICAgfVxuICAgIH0pO1xuXG4gIH1cblxuICBfZm9ybWF0QWdlbmN5KGRhdGEpIHtcbiAgICAvLyBjb25zdCB0bXBBcnIgPSBbXTtcbiAgICAvLyBfLmVhY2goZGF0YSwgaXRlbSA9PiB7XG4gICAgLy8gICB0bXBBcnIucHVzaChpdGVtLnZjX25hbWUpO1xuICAgIC8vIH0pO1xuXG4gICAgLy8gdGhpcy5hZ2VuY3lMaXN0ID0gXy51bmlxKHRtcEFycilcbiAgfVxuXG4gIGNoYW5nZUFnZW5jeSgpIHtcbiAgICBpZiAodGhpcy5maWx0ZXJzLmFnZW5jeSA9PT0gbnVsbCkge1xuICAgICAgdGhpcy5maWx0ZXJzLmFnZW5jeSA9ICcnO1xuICAgIH1cbiAgfVxuXG4gIGFkZENvbXBhbnkoKSB7XG4gICAgbGV0IGFnZW5jeUxpc3QgPSB0aGlzLmFnZW5jeUxpc3Q7XG4gICAgY29uc3QgcmVzb2x2ZSA9IHtcbiAgICAgIGluZm86IGZ1bmN0aW9uKCl7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgYWdlbmN5TGlzdFxuICAgICAgICB9O1xuICAgICAgfVxuICAgIH07XG5cbiAgICBjb25zdCBvcHRpb25zID0gey4uLmFkZENvbmZpZywgcmVzb2x2ZX07XG5cbiAgICB0aGlzLl9tb2RhbC5vcGVuKCBvcHRpb25zICk7XG4gIH1cblxuICBzZXQoaWQsIHN0YXRlKSB7XG4gICAgdGhpcy5fc2VydmljZS5zZXQoe1xuICAgICAgaWQsXG4gICAgICBzdGF0ZVxuICAgIH0pLnRoZW4oZGF0YSA9PiB7XG4gICAgICB0aGlzLl90b2FzdHIuc3VjY2Vzcygn5pON5L2c5oiQ5YqfJyk7XG4gICAgICB0aGlzLl9zdGF0ZS5yZWxvYWQoKTtcbiAgICB9KTtcbiAgfVxuXG4gIGRlbGV0ZShpdGVtKSB7XG4gICAgdGhpcy5zZXQoaXRlbS5pZCwgMyk7XG4gIH1cbiAgZGVsZXRlQ2FuY2VsKGl0ZW0pIHtcbiAgICB0aGlzLnNldChpdGVtLmlkLCAxKTtcbiAgfVxuXG5cbn1cblxuZXhwb3J0IGRlZmF1bHQgTGlzdENvbnRyb2xsZXI7XG4iLCJpbXBvcnQgTGlzdENvbnRyb2xsZXIgZnJvbSAnLi9jdHJsJztcblxuY29uc3QgTGlzdCA9IHtcbiAgdGVtcGxhdGVVcmw6ICdtb2R1bGVzL2ludmVzdG1lbnQvbGlzdC9pbmRleC5odG1sJyxcbiAgY29udHJvbGxlcjogTGlzdENvbnRyb2xsZXIsXG4gIGNvbnRyb2xsZXJBczogJ3ZtJ1xufTtcblxuZXhwb3J0IGRlZmF1bHQgTGlzdDtcbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIENvbnRyb2xsZXIge1xuICBjb25zdHJ1Y3Rvcigkc2NvcGUsICRzdGF0ZSwgJHZhbGlkYXRpb24sICR1aWJNb2RhbEluc3RhbmNlLCB0b2FzdHIsIEludmVzdG1lbnRTZXJ2aWNlLCBpbmZvKSB7XG4gICAgJ25nSW5qZWN0JztcblxuICAgIHRoaXMuX3Njb3BlID0gJHNjb3BlO1xuICAgIHRoaXMuX3N0YXRlID0gJHN0YXRlO1xuXG4gICAgdGhpcy5fdmFsaWRhdGlvblByb3ZpZGVyID0gJHZhbGlkYXRpb247XG5cbiAgICB0aGlzLl9tb2RhbEluc3RhbmNlID0gJHVpYk1vZGFsSW5zdGFuY2U7XG4gICAgdGhpcy5fdG9hc3RyID0gdG9hc3RyO1xuXG4gICAgdGhpcy5fc2VydmljZSA9IEludmVzdG1lbnRTZXJ2aWNlO1xuXG4gICAgdGhpcy5pbmZvID0gaW5mbztcblxuICAgIHRoaXMuaW5wdXRJbmZvID0ge1xuICAgICAgbmFtZTogJycsXG4gICAgICB2Y19uYW1lOiAnJ1xuICAgIH07XG5cbiAgICAvLyB0aGlzLmF1dG9Db21wbGV0ZU9wdGlvbnMgPSB7XG4gICAgLy8gICBtaW5pbXVtQ2hhcnM6IDEsXG4gICAgLy8gICBkYXRhOiBmdW5jdGlvbiAodGVybSkge1xuICAgIC8vICAgICB0ZXJtID0gdGVybS50b1VwcGVyQ2FzZSgpO1xuICAgIC8vICAgICB2YXIgbWF0Y2ggPSBfLmZpbHRlcihpbmZvLmFnZW5jeUxpc3QsIGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgIC8vICAgICAgICAgcmV0dXJuIHZhbHVlLnN0YXJ0c1dpdGgodGVybSk7XG4gICAgLy8gICAgIH0pO1xuICAgIC8vICAgICByZXR1cm4gbWF0Y2g7XG4gICAgLy8gICB9XG4gICAgLy8gfVxuXG4gIH1cblxuICBcblxuICBjYW5jZWwoKSB7XG4gICAgdGhpcy5fbW9kYWxJbnN0YW5jZS5jbG9zZSgpO1xuICB9XG5cbiAgc3VibWl0KGZvcm0pIHtcbiAgICAvL+mqjOivgeihqOWNlVxuICAgIHRoaXMuX3ZhbGlkYXRpb25Qcm92aWRlci52YWxpZGF0ZShmb3JtKS5zdWNjZXNzKCgpID0+IHtcbiAgICAgIHRoaXMuc2F2ZUZ1bmMoKTtcbiAgICB9KTtcbiAgfVxuXG4gIHNhdmVGdW5jKCkge1xuICAgIGNvbnN0IGRhdGEgPSB0aGlzLmlucHV0SW5mbztcbiAgICB0aGlzLl9zZXJ2aWNlLmFkZChkYXRhKS50aGVuKGRhdGEgPT4ge1xuICAgICAgdGhpcy5fdG9hc3RyLnN1Y2Nlc3MoJ+a3u+WKoOaIkOWKnycpO1xuICAgICAgdGhpcy5jYW5jZWwoKTtcbiAgICAgIHRoaXMuX3N0YXRlLnJlbG9hZCgpO1xuICAgIH0pXG4gIH1cbn1cbiIsImltcG9ydCBDb250cm9sbGVyIGZyb20gJy4vY3RybCc7XG5cbmNvbnN0IENvbmZpZ3VyYXRpb24gPSB7XG4gIHRlbXBsYXRlVXJsOiAnbW9kdWxlcy9pbnZlc3RtZW50L21vZGFscy9hZGQvdGVtcGxhdGUuaHRtbCcsXG4gIGNvbnRyb2xsZXI6IENvbnRyb2xsZXIsXG4gIGNvbnRyb2xsZXJBczogJ3ZtJ1xufTtcblxuZXhwb3J0IGRlZmF1bHQgQ29uZmlndXJhdGlvbjtcbiIsImltcG9ydCBhbmd1bGFyIGZyb20gJ2FuZ3VsYXInO1xuaW1wb3J0IGNvbmZpZyAgZnJvbSAnLi9jb25maWcnO1xuaW1wb3J0IHNlcnZpY2UgZnJvbSAnLi9zZXJ2aWNlJztcbmltcG9ydCBMaXN0ICBmcm9tICcuL2xpc3QvJztcblxuLy8gaW1wb3J0IGRlbW9TZXJ2aWNlICAgICAgZnJvbSAnLi9zZXJ2aWNlcy9kZW1vLnNlcnZpY2UnO1xuXG5cblxuXG5leHBvcnQgZGVmYXVsdCBhbmd1bGFyLm1vZHVsZSgnYXBwLm1vZHVsZXMuaW52ZXN0bWVudCcsIFtdKVxuLy8gLmZpbHRlcignZmlsdGVyVHlwZScsIGZpbHRlclR5cGUpXG4uc2VydmljZSgnSW52ZXN0bWVudFNlcnZpY2UnLCBzZXJ2aWNlKVxuXG4uY29tcG9uZW50KCdpbnZlc3RtZW50TGlzdCcsIExpc3QpXG4uY29uZmlnKGNvbmZpZyk7XG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBTZXJ2aWNlIHtcbiAgY29uc3RydWN0b3IoJGh0dHAsIGh0dHBIZWxwZXIsICRyb290U2NvcGUsICRzdGF0ZSwgQXBpTWFwKSB7XG4gICAgJ25nSW5qZWN0JztcblxuICAgIHRoaXMuX2h0dHAgPSAkaHR0cDtcbiAgICAvLyB0aGlzLiRxID0gJHE7XG4gICAgdGhpcy5faHR0cEhlbHBlciA9IGh0dHBIZWxwZXI7XG5cbiAgICB0aGlzLl9hcGkgPSBBcGlNYXAuaW52ZXN0bWVudDtcblxuICAgIHRoaXMuX3Jvb3RTY29wZSA9ICRyb290U2NvcGU7XG4gICAgdGhpcy5fc3RhdGUgPSAkc3RhdGU7XG4gIH1cblxuICAvLyBnZXQoaWQpIHtcbiAgICBcbiAgLy8gICB0aGlzLl9odHRwSGVscGVyLmJsb2NrVUkuc3RhcnQoKTtcblxuICAvLyAgIHJldHVybiB0aGlzLl9odHRwLmdldCh0aGlzLl9hcGkuZ2V0LnJlcGxhY2UoL1xce2lkXFx9LywgaWQpKS50aGVuKHRoaXMuX2h0dHBIZWxwZXIudmVyaWZ5LCAgdGhpcy5faHR0cEhlbHBlci5lcnJvcik7XG4gIC8vIH1cblxuICBnZXRMaXN0KHBhcmFtcykge1xuICAgIFxuICAgIHRoaXMuX2h0dHBIZWxwZXIuYmxvY2tVSS5zdGFydCgpO1xuXG4gICAgcmV0dXJuIHRoaXMuX2h0dHAuZ2V0KHRoaXMuX2FwaS5nZXRMaXN0LCB7cGFyYW1zOiBwYXJhbXN9KS50aGVuKHRoaXMuX2h0dHBIZWxwZXIudmVyaWZ5LCB0aGlzLl9odHRwSGVscGVyLmVycm9yKTtcbiAgfVxuXG4gIHNldChkYXRhKSB7XG4gICAgXG4gICAgdGhpcy5faHR0cEhlbHBlci5ibG9ja1VJLnN0YXJ0KCk7XG5cbiAgICByZXR1cm4gdGhpcy5faHR0cC5wb3N0KHRoaXMuX2FwaS5zZXQsIGRhdGEpLnRoZW4odGhpcy5faHR0cEhlbHBlci52ZXJpZnksIHRoaXMuX2h0dHBIZWxwZXIuZXJyb3IpO1xuICB9XG5cbiAgYWRkKGRhdGEpIHtcbiAgICB0aGlzLl9odHRwSGVscGVyLmJsb2NrVUkuc3RhcnQoKTtcblxuICAgIHJldHVybiB0aGlzLl9odHRwLnBvc3QodGhpcy5fYXBpLmFkZCwgZGF0YSkudGhlbih0aGlzLl9odHRwSGVscGVyLnZlcmlmeSwgdGhpcy5faHR0cEhlbHBlci5lcnJvcik7XG4gIH1cbn0iLCJmdW5jdGlvbiBDb25maWcoJHN0YXRlUHJvdmlkZXIpIHtcbiAgJ25nSW5qZWN0JztcblxuICAkc3RhdGVQcm92aWRlclxuICAgIC5zdGF0ZSgnbG9hbicsIHtcbiAgICAgICAgdXJsOiAnL2xvYW4nLFxuICAgICAgICB0ZW1wbGF0ZSA6ICc8dWktdmlldz48L3VpLXZpZXc+JyxcbiAgICAgICAgdGl0bGU6ICfotLfmrL7lhrPnrZYnLFxuICAgICAgICBzaWRlYmFyTWV0YToge1xuICAgICAgICAgIGljb246ICdpY29uLXNpZGViYXJfbWVtYmVyc19pYycsXG4gICAgICAgICAgb3JkZXI6IDQ1MCxcbiAgICAgICAgfVxuICAgIH0pXG4gICAgLnN0YXRlKCdsb2FuLnNldHRpbmcnLCB7XG4gICAgICAgIHVybDogJy9zZXR0aW5nJyxcbiAgICAgICAgdGVtcGxhdGU6ICc8bG9hbi1zZXR0aW5nPjwvbG9hbi1zZXR0aW5nPicsXG4gICAgICAgIHRpdGxlOiAn6LS35qy+5Yaz562W5p2h5Lu26K6+572uJyxcbiAgICAgICAgc2lkZWJhck1ldGE6IHtcbiAgICAgICAgICBvcmRlcjogMTBcbiAgICAgICAgfVxuICAgIH0pXG4gICAgLnN0YXRlKCdsb2FuLmxpc3QnLCB7XG4gICAgICAgIHVybDogJy9saXN0JyxcbiAgICAgICAgdGVtcGxhdGU6ICc8bG9hbi1saXN0PjwvbG9hbi1saXN0PicsXG4gICAgICAgIHRpdGxlOiAn5bey6K+E5Lu35LyB5Lia5YiX6KGoJyxcbiAgICAgICAgc2lkZWJhck1ldGE6IHtcbiAgICAgICAgICBvcmRlcjogMjBcbiAgICAgICAgfVxuICAgIH0pXG4gICAgLnN0YXRlKCdsb2FuLmRlY2lzaW9uJywge1xuICAgICAgICB1cmw6ICcvZGVjaXNpb24/aWQnLFxuICAgICAgICB0ZW1wbGF0ZTogJzxsb2FuLWRlY2lzaW9uPjwvbG9hbi1kZWNpc2lvbj4nLFxuICAgICAgICB0aXRsZTogJ+i0t+asvui+heWKqeWGs+etluS/oeaBr+S/ruatoydcbiAgICB9KVxuICAgIDtcblxufVxuXG5leHBvcnQgZGVmYXVsdCBDb25maWc7XG4iLCJcblxuY2xhc3MgQ29udHJvbGxlciB7XG5cbiAgY29uc3RydWN0b3IoJGluamVjdG9yLCAkc3RhdGUsICRsb2NhdGlvbiwgJHZhbGlkYXRpb24sICRzdGF0ZVBhcmFtcywgdG9hc3RyLCAkdWliTW9kYWwsIExvYW5TZXJ2aWNlKSB7XG4gICAgJ25nSW5qZWN0JztcblxuICAgIHRoaXMuX3N0YXRlID0gJHN0YXRlO1xuICAgIHRoaXMuX2xvY2F0aW9uID0gJGxvY2F0aW9uO1xuICAgIHRoaXMuX3N0YXRlUGFyYW1zID0gJHN0YXRlUGFyYW1zO1xuICAgIHRoaXMuX21vZGFsID0gJHVpYk1vZGFsO1xuXG4gICAgdGhpcy5fdmFsaWRhdGlvblByb3ZpZGVyID0gJHZhbGlkYXRpb247XG4gICAgdGhpcy5pZCA9IHRoaXMuX3N0YXRlUGFyYW1zLmlkO1xuXG4gICAgdGhpcy5fdG9hc3RyID0gdG9hc3RyO1xuXG4gICAgdGhpcy5fc2VydmljZSA9IExvYW5TZXJ2aWNlO1xuXG4gICAgdGhpcy5maWx0ZXJzID0ge307XG4gICAgdGhpcy5sb2FuTGlzdCA9IFtdO1xuXG4gICAgdGhpcy5faW5pdCgpO1xuXG4gICAgdGhpcy50eXBlTGlzdCA9IHtcbiAgICAgICdpbnRlZ2VyJzogJ+aVsOWAvCcsXG4gICAgICAnc3RyaW5nJzogJ+aWh+acrCdcbiAgICB9O1xuXG5cbiAgfVxuXG4gIF9pbml0KCkge1xuICAgIHZhciBkYXRhID0ge1xuICAgICAgaWQ6IDFcbiAgICB9XG4gICAgdGhpcy5fZ2V0VGVtcGxhdGUoZGF0YSk7XG4gIH1cblxuICByZUNvdW50KCkge1xuICAgIHZhciBkYXRhID0ge1xuICAgICAgaWQ6IDEsXG4gICAgICBkYXRhOiBhbmd1bGFyLnRvSnNvbih0aGlzLmxvYW5MaXN0KVxuICAgIH07XG4gICAgdGhpcy5fZ2V0VGVtcGxhdGUoZGF0YSwn6YeN5paw6K6h566X5oiQ5YqfJyk7XG4gIH1cblxuICBnZXRUb3RhbCgpIHtcbiAgICB2YXIgdG90YWwgPSAwO1xuICAgIHRoaXMubG9hbkxpc3QuZm9yRWFjaChmdW5jdGlvbihsb2FuKXtcbiAgICAgIGxvYW4udmFsdWUgPSBsb2FuLnZhbHVlICsgJyc7XG4gICAgICB0b3RhbCArPSBwYXJzZUludChsb2FuLnBvaW50KTtcbiAgICB9KTtcbiAgICByZXR1cm4gdG90YWw7XG4gIH1cblxuICBfZ2V0VGVtcGxhdGUoZGF0YSwgbXNnPScnKSB7XG4gICAgdGhpcy5fc2VydmljZS5nZXQoZGF0YSkudGhlbihkYXRhID0+IHtcbiAgICAgIGlmKGRhdGEgJiYgIWpRdWVyeS5pc0VtcHR5T2JqZWN0KGRhdGEpKSB7XG4gICAgICAgIHRoaXMubG9hbkxpc3QgPSBkYXRhO1xuICAgICAgICBpZiAobXNnLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICB0aGlzLl90b2FzdHIuc3VjY2Vzcyhtc2cpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICBzdWJtaXQoZm9ybSkge1xuICAgIC8v6aqM6K+B6KGo5Y2VXG4gICAgdGhpcy5fdmFsaWRhdGlvblByb3ZpZGVyLnZhbGlkYXRlKGZvcm0pLnN1Y2Nlc3MoKCkgPT4ge1xuICAgICAgdGhpcy5zYXZlRnVuYygpO1xuICAgIH0pO1xuXG4gIH1cblxuICBzYXZlRnVuYygpIHtcbiAgICB2YXIgZGF0YSA9IHtcbiAgICAgIGlkOiB0aGlzLmlkLFxuICAgICAgZGF0YTogYW5ndWxhci50b0pzb24odGhpcy5sb2FuTGlzdClcbiAgICB9O1xuICAgIHRoaXMuX3NlcnZpY2Uuc2V0KGRhdGEpLnRoZW4oZGF0YSA9PiB7XG4gICAgICAgIHRoaXMuX3RvYXN0ci5zdWNjZXNzKCfkv53lrZjmiJDlip8nKTtcbiAgICB9KTtcbiAgfVxuXG59XG5cbmV4cG9ydCBkZWZhdWx0IENvbnRyb2xsZXI7XG4iLCJpbXBvcnQgQ29udHJvbGxlciBmcm9tICcuL2N0cmwnO1xuXG5jb25zdCBjb21wb25lbnQgPSB7XG4gIHRlbXBsYXRlVXJsOiAnbW9kdWxlcy9sb2FuL2RlY2lzaW9uL2luZGV4Lmh0bWwnLFxuICBjb250cm9sbGVyOiBDb250cm9sbGVyLFxuICBjb250cm9sbGVyQXM6ICd2bSdcbn07XG5cbmV4cG9ydCBkZWZhdWx0IGNvbXBvbmVudDtcbiIsImltcG9ydCBQYWdpbmF0aW9uIGZyb20gJy4uLy4uLy4uL2NvcmUvY29tcG9uZW50cy9tY1BhZ2luYXRpb24vbWMtcGFnaW5hdGlvbi5jbGFzcyc7XG5cbmNsYXNzIExpc3RDb250cm9sbGVyIGV4dGVuZHMgUGFnaW5hdGlvbiB7XG5cbiAgY29uc3RydWN0b3IoJGluamVjdG9yLCAkc3RhdGUsICRsb2NhdGlvbiwgJHN0YXRlUGFyYW1zLCBzd2VldCwgdG9hc3RyLCAkdWliTW9kYWwsIExvYW5TZXJ2aWNlKSB7XG4gICAgJ25nSW5qZWN0JztcblxuICAgIHN1cGVyKCRpbmplY3Rvcik7XG5cbiAgICB0aGlzLl9zdGF0ZSA9ICRzdGF0ZTtcbiAgICB0aGlzLl9sb2NhdGlvbiA9ICRsb2NhdGlvbjtcbiAgICB0aGlzLl9zdGF0ZVBhcmFtcyA9ICRzdGF0ZVBhcmFtcztcbiAgICB0aGlzLl9tb2RhbCA9ICR1aWJNb2RhbDtcblxuICAgIHRoaXMuX3N3ZWV0ID0gc3dlZXQ7XG4gICAgdGhpcy5fdG9hc3RyID0gdG9hc3RyO1xuXG4gICAgdGhpcy5fc2VydmljZSA9IExvYW5TZXJ2aWNlO1xuXG4gICAgdGhpcy5yb2xlTWFpblN0YXR1cyA9IFtcbiAgICAgIHtcbiAgICAgICAgdmFsdWU6ICcnLFxuICAgICAgICBsYWJlbDogJ+WFqOmDqCdcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIHZhbHVlOiAxLFxuICAgICAgICBsYWJlbDogJ+emu+iBjCdcbiAgICAgIH0sXG4gICAgXTtcblxuICAgIHRoaXMuZW50ZXJwcmlzZVN0YXRlTGlzdCA9IFtcbiAgICAgIHtcbiAgICAgICAgdmFsdWU6IDEsXG4gICAgICAgIGxhYmVsOiAn5q2j5bi4J1xuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgdmFsdWU6IDIsXG4gICAgICAgIGxhYmVsOiAn5bey5Ya757uTJ1xuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgdmFsdWU6IDAsXG4gICAgICAgIGxhYmVsOiAn5pyq6YCa6L+H562b6YCJJ1xuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgdmFsdWU6IDMsXG4gICAgICAgIGxhYmVsOiAn5bey5Yig6ZmkJ1xuICAgICAgfSxcbiAgICBdO1xuXG4gICAgdGhpcy5maWx0ZXJzID0ge307XG5cbiAgICB0aGlzLm9uZUF0QVRpbWUgPSB0cnVlO1xuXG4gICAgdGhpcy5faW5pdCgpO1xuXG4gIH1cblxuICBfaW5pdCgpIHtcblxuICAgIHRoaXMuX2luaXRGaWx0ZXJzKCk7XG4gICAgdGhpcy5fZ2V0TGlzdCgpO1xuXG4gIH1cblxuICBfaW5pdEZpbHRlcnMoKSB7XG4gICAgLy8gY29uc29sZS5sb2codGhpcy5fc3RhdGVQYXJhbXMpO1xuICAgIGNvbnN0IHN0YXRlUGFyYW1zID0gdGhpcy5fc3RhdGVQYXJhbXM7XG4gICAgLy8gdGhpcy5wYWdpbmF0aW9uLnBhZ2UgPSArc3RhdGVQYXJhbXMucGFnZTtcbiAgICB0aGlzLmZpbHRlcnMucm9sZV9hX2Rpc2FibGUgPSBzdGF0ZVBhcmFtcy5yb2xlX2FfZGlzYWJsZSB8fCAnJztcbiAgICB0aGlzLmZpbHRlcnMuc3RhdGUgPSBzdGF0ZVBhcmFtcy5zdGF0ZT8gK3N0YXRlUGFyYW1zLnN0YXRlIDogdm9pZCgwKTtcblxuICAgIHRoaXMuZmlsdGVycy5uYW1lID0gc3RhdGVQYXJhbXMubmFtZSB8fCB2b2lkKDApO1xuXG4gIH1cbiAgXG4gIF9nZXRMaXN0KCkge1xuXG4gICAgbGV0IHBhcmFtcyA9IHRoaXMuX2ZpbHRlckVtcHR5VmFsdWUoKTtcbiAgICAvLyBwYXJhbXMucGFnZVNpemUgPSB0aGlzLnBhZ2luYXRpb24ucGFnZVNpemU7XG4gICAgcGFyYW1zLnBhZ2UgPSB0aGlzLnBhZ2luYXRpb24ucGFnZTtcbiAgICBwYXJhbXMub25seV9sb2FuX3JlYWR5ID0gMTtcblxuICAgIHRoaXMuX3NlcnZpY2UuZ2V0TGlzdChwYXJhbXMpLnRoZW4oZGF0YSA9PiB7XG4gICAgICBjb25zb2xlLmxvZyhkYXRhKTtcbiAgICAgIHRoaXMubGlzdCA9IGRhdGEuZW50ZXJwcmlzZXM7XG4gICAgICB0aGlzLnBhZ2luYXRpb24uY291bnQgPSBkYXRhLnBhZ2VfY291bnQgKiB0aGlzLnBhZ2luYXRpb24ucGFnZVNpemU7XG4gICAgfSk7XG5cbiAgfVxuXG4gIHJlU2VhcmNoKCkge1xuICAgIGxldCBwYWdlID0gMVxuICAgIHRoaXMuX2xvY2F0aW9uLnNlYXJjaCh7Li4udGhpcy5fZmlsdGVyRW1wdHlWYWx1ZSgpLCBwYWdlfSk7XG4gIH1cblxuICBzd2l0Y2goa2V5LCB2YWx1ZSkge1xuXG4gICAgaWYoIWtleSkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIHRoaXMuZmlsdGVyc1trZXldID0gdmFsdWU7XG5cbiAgICB0aGlzLnJlU2VhcmNoKCk7XG4gIH1cblxuXG59XG5cbmV4cG9ydCBkZWZhdWx0IExpc3RDb250cm9sbGVyO1xuIiwiaW1wb3J0IExpc3RDb250cm9sbGVyIGZyb20gJy4vY3RybCc7XG5cbmNvbnN0IExpc3QgPSB7XG4gIHRlbXBsYXRlVXJsOiAnbW9kdWxlcy9sb2FuL2xpc3QvaW5kZXguaHRtbCcsXG4gIGNvbnRyb2xsZXI6IExpc3RDb250cm9sbGVyLFxuICBjb250cm9sbGVyQXM6ICd2bSdcbn07XG5cbmV4cG9ydCBkZWZhdWx0IExpc3Q7XG4iLCJpbXBvcnQgYW5ndWxhciBmcm9tICdhbmd1bGFyJztcbmltcG9ydCBib290c3RyYXAgZnJvbSAnYm9vdHN0cmFwJztcbmltcG9ydCBjb25maWcgIGZyb20gJy4vY29uZmlnJztcbmltcG9ydCBTZXR0aW5nICBmcm9tICcuL3NldHRpbmcvJztcbmltcG9ydCBEZWNpc2lvbiBmcm9tICcuL2RlY2lzaW9uJztcbmltcG9ydCBMaXN0IGZyb20gJy4vbGlzdCc7XG5pbXBvcnQgc2VydmljZSBmcm9tICcuL3NlcnZpY2UnO1xuXG5leHBvcnQgZGVmYXVsdCBhbmd1bGFyLm1vZHVsZSgnYXBwLm1vZHVsZXMubG9hbicsIFtdKVxuLnNlcnZpY2UoJ0xvYW5TZXJ2aWNlJywgc2VydmljZSlcbi5jb21wb25lbnQoJ2xvYW5TZXR0aW5nJywgU2V0dGluZylcbi5jb21wb25lbnQoJ2xvYW5EZWNpc2lvbicsIERlY2lzaW9uKVxuLmNvbXBvbmVudCgnbG9hbkxpc3QnLCBMaXN0KVxuLmNvbmZpZyhjb25maWcpO1xuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgU2VydmljZSB7XG4gIGNvbnN0cnVjdG9yKCRodHRwLCBodHRwSGVscGVyLCAkcm9vdFNjb3BlLCAkc3RhdGUsIEFwaU1hcCkge1xuICAgICduZ0luamVjdCc7XG5cbiAgICB0aGlzLl9odHRwID0gJGh0dHA7XG4gICAgLy8gdGhpcy4kcSA9ICRxO1xuICAgIHRoaXMuX2h0dHBIZWxwZXIgPSBodHRwSGVscGVyO1xuXG4gICAgdGhpcy5fYXBpID0gQXBpTWFwLmxvYW47XG4gICAgdGhpcy5fZWFwaSAgPSBBcGlNYXAuZW50ZXJwcmlzZTtcblxuICAgIHRoaXMuX3Jvb3RTY29wZSA9ICRyb290U2NvcGU7XG4gICAgdGhpcy5fc3RhdGUgPSAkc3RhdGU7XG4gIH1cblxuICBnZXQocGFyYW1zKSB7XG4gICAgXG4gICAgdGhpcy5faHR0cEhlbHBlci5ibG9ja1VJLnN0YXJ0KCk7XG5cbiAgICByZXR1cm4gdGhpcy5faHR0cC5wb3N0KHRoaXMuX2FwaS5nZXQsIHBhcmFtcykudGhlbih0aGlzLl9odHRwSGVscGVyLnZlcmlmeSwgIHRoaXMuX2h0dHBIZWxwZXIuZXJyb3IpO1xuICB9XG5cbiAgc2V0KHBhcmFtcykge1xuICAgIFxuICAgIHRoaXMuX2h0dHBIZWxwZXIuYmxvY2tVSS5zdGFydCgpO1xuXG4gICAgcmV0dXJuIHRoaXMuX2h0dHAucG9zdCh0aGlzLl9hcGkuc2V0LCBwYXJhbXMpLnRoZW4odGhpcy5faHR0cEhlbHBlci52ZXJpZnksICB0aGlzLl9odHRwSGVscGVyLmVycm9yKTtcbiAgfVxuXG4gIGdldExpc3QocGFyYW1zKSB7XG4gICAgXG4gICAgdGhpcy5faHR0cEhlbHBlci5ibG9ja1VJLnN0YXJ0KCk7XG5cbiAgICByZXR1cm4gdGhpcy5faHR0cC5wb3N0KHRoaXMuX2VhcGkuZ2V0TGlzdCwgcGFyYW1zKS50aGVuKHRoaXMuX2h0dHBIZWxwZXIudmVyaWZ5LCAgdGhpcy5faHR0cEhlbHBlci5lcnJvcik7XG4gIH1cbn0iLCJcblxuY2xhc3MgQ29udHJvbGxlciB7XG5cbiAgY29uc3RydWN0b3IoJGluamVjdG9yLCAkc3RhdGUsICRsb2NhdGlvbiwgJHZhbGlkYXRpb24sICRzdGF0ZVBhcmFtcywgdG9hc3RyLCAkdWliTW9kYWwsIENvbmZpZ1NlcnZpY2UpIHtcbiAgICAnbmdJbmplY3QnO1xuXG4gICAgdGhpcy5fc3RhdGUgPSAkc3RhdGU7XG4gICAgdGhpcy5fbG9jYXRpb24gPSAkbG9jYXRpb247XG4gICAgdGhpcy5fc3RhdGVQYXJhbXMgPSAkc3RhdGVQYXJhbXM7XG4gICAgdGhpcy5fbW9kYWwgPSAkdWliTW9kYWw7XG5cbiAgICB0aGlzLl92YWxpZGF0aW9uUHJvdmlkZXIgPSAkdmFsaWRhdGlvbjtcblxuICAgIHRoaXMuX3RvYXN0ciA9IHRvYXN0cjtcblxuICAgIHRoaXMuX3NlcnZpY2UgPSBDb25maWdTZXJ2aWNlO1xuXG4gICAgdGhpcy5maWx0ZXJzID0ge307XG5cblxuICAgIHRoaXMuY29uZGl0aW9uTGlzdCA9IHtcbiAgICAgICdzdHJpbmcnOiB7XG4gICAgICAgICc9JzogJ+WujOWFqOWMuemFjScsXG4gICAgICAgICdsaWtlJzogJ+WMheWQqycsXG4gICAgICAgICdub3RfbGlrZSc6ICfkuI3ljIXlkKsnXG4gICAgICB9LFxuICAgICAgJ2ludGVnZXInOiB7XG4gICAgICAgICc8JzogJzwnLFxuICAgICAgICAnPD0nOiAnPD0nLFxuICAgICAgICAnPic6ICc+JyxcbiAgICAgICAgJz49JzogJz49JyxcbiAgICAgICAgJz0nOiAnPSdcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgdGhpcy50eXBlTGlzdCA9IHtcbiAgICAgICdpbnRlZ2VyJzogJ+aVsOWAvCcsXG4gICAgICAnc3RyaW5nJzogJ+aWh+acrCdcbiAgICB9O1xuXG4gICAgdGhpcy5faW5pdCgpO1xuXG4gIH1cblxuICBfaW5pdCgpIHtcbiAgICB0aGlzLl9nZXRUZW1wbGF0ZSgpO1xuXG4gIH1cblxuICBfZ2V0VGVtcGxhdGUoKSB7XG4gICAgdGhpcy5fc2VydmljZS5nZXQoJ2xvYW4uZGVjaXNpb25fY29uZGl0aW9uJykudGhlbihkYXRhID0+IHtcbiAgICAgIGlmKGRhdGEgJiYgIWpRdWVyeS5pc0VtcHR5T2JqZWN0KGRhdGEpKSB7XG4gICAgICAgIHRoaXMubG9hbkxpc3QgPSBKU09OLnBhcnNlKGRhdGEpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5pbml0Q29sbGVjdEluZm8oKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIGluaXRDb2xsZWN0SW5mbygpIHtcbiAgICB0aGlzLmxvYW5MaXN0ID0gW107XG5cbiAgICB0aGlzLmFkZENvbmRpdGlvbigpO1xuICB9XG5cbiAgYWRkQ29uZGl0aW9uKCkge1xuICAgIGxldCBsb2FuT2JqID0ge1xuICAgICAgdGl0bGU6ICcnLFxuICAgICAgcG9pbnQ6ICcwJyxcbiAgICAgIGNvbmRpdGlvbl9saXN0OiBbXVxuICAgIH1cbiAgICB0aGlzLmxvYW5MaXN0LnB1c2gobG9hbk9iaik7XG4gICAgdGhpcy5hZGRQcm9qZWN0KGxvYW5PYmopO1xuICB9XG5cbiAgYWRkUHJvamVjdChsb2FuT2JqKSB7XG4gICAgbGV0IHByb2plY3RPYmogPSB7XG4gICAgICB0aXRsZTogJycsXG4gICAgICBvcHRpb25fdHlwZTogJ2ludGVnZXInLFxuICAgICAgb3B0aW9uczogW11cbiAgICB9O1xuICAgIC8vdGhpcy5sb2FuTGlzdC5wdXNoKHByb2plY3RPYmopO1xuICAgIGxvYW5PYmouY29uZGl0aW9uX2xpc3QucHVzaChwcm9qZWN0T2JqKTtcbiAgICB0aGlzLmFkZEl0ZW0ocHJvamVjdE9iaik7XG4gIH1cblxuICBkZWxldGVQcm9qZWN0KGluZGV4KSB7XG4gICAgdGhpcy5sb2FuTGlzdC5zcGxpY2UoaW5kZXgsIDEpO1xuICB9XG5cbiAgYWRkSXRlbShwcm9qZWN0KSB7XG4gICAgbGV0IGNvbnRlbnRPYmogPSB7XG4gICAgICBjb25kaXRpb246IChwcm9qZWN0Lm9wdGlvbl90eXBlID09ICdzdHJpbmcnKT8gJz0nIDogJzwnLFxuICAgICAgdmFsdWU6ICcnLFxuICAgICAgcG9pbnQ6ICcnXG4gICAgfTtcblxuICAgIHByb2plY3Qub3B0aW9ucy5wdXNoKGNvbnRlbnRPYmopO1xuICB9XG5cbiAgZGVsZXRlSXRlbShwcm9qLCBpbmRleCkge1xuICAgIHByb2oub3B0aW9ucy5zcGxpY2UoaW5kZXgsIDEpO1xuICB9XG5cbiAgZGVsZXRlRGF0YShpdGVtLCBpbmRleCkge1xuICAgIGl0ZW0uZGF0YVNvdXJjZS5zcGxpY2UoaW5kZXgsIDEpO1xuICB9XG5cbiAgdHlwZUNoYW5nZShwcm9qZWN0KSB7XG4gICAgcHJvamVjdC5vcHRpb25zLmZvckVhY2goZnVuY3Rpb24ob3B0aW9uKXtcbiAgICAgIGlmIChwcm9qZWN0Lm9wdGlvbl90eXBlID09ICdpbnRlZ2VyJykge1xuICAgICAgICBvcHRpb24uY29uZGl0aW9uID0gJzwnO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgb3B0aW9uLmNvbmRpdGlvbiA9ICc9JztcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIHN1Ym1pdChmb3JtKSB7XG4gICAgLy/pqozor4HooajljZVcbiAgICB2YXIgdGhhdCA9IHRoaXM7XG4gICAgdmFyIHN0b3AgPSBmYWxzZTtcbiAgICB0aGlzLl92YWxpZGF0aW9uUHJvdmlkZXIudmFsaWRhdGUoZm9ybSkuc3VjY2VzcygoKSA9PiB7XG4gICAgICAvL+S4jeiDvei2hei/hzEwMOWIhuaVsFxuICAgICAgdmFyIHBvaW50ID0gMDtcbiAgICAgIHRoaXMubG9hbkxpc3QuZm9yRWFjaChmdW5jdGlvbihsb2FuKXtcbiAgICAgICAgdmFyIGxvYW5Qb2ludCA9IDA7XG4gICAgICAgIGxvYW4uY29uZGl0aW9uX2xpc3QuZm9yRWFjaChmdW5jdGlvbihjb25kaXRpb24pe1xuICAgICAgICAgICAgdmFyIG1heFBvaW50ID0gMFxuICAgICAgICAgICAgY29uZGl0aW9uLm9wdGlvbnMuZm9yRWFjaChmdW5jdGlvbihvcHRpb24pe1xuICAgICAgICAgICAgICBpZiAob3B0aW9uLnBvaW50ID4gbWF4UG9pbnQpIHtcbiAgICAgICAgICAgICAgICBtYXhQb2ludCA9IHBhcnNlSW50KG9wdGlvbi5wb2ludCk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICBsb2FuUG9pbnQgKz0gcGFyc2VJbnQobWF4UG9pbnQpO1xuICAgICAgICB9KTtcbiAgICAgICAgaWYgKGxvYW5Qb2ludCA+IHBhcnNlSW50KGxvYW4ucG9pbnQpKSB7XG4gICAgICAgICAgdGhhdC5fdG9hc3RyLmVycm9yKGxvYW4udGl0bGUrJ+WIhuexu+eahOaAu+WIhui2hei/h+mihOWumuWIhuexu+aAu+WIhicpO1xuICAgICAgICAgIHN0b3AgPSB0cnVlO1xuICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBwb2ludCArPSBwYXJzZUludChsb2FuLnBvaW50KTtcbiAgICAgIH0pO1xuICAgICAgaWYgKHN0b3ApIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgaWYgKHBvaW50ID4gMTAwKSB7XG4gICAgICAgIHRoaXMuX3RvYXN0ci5lcnJvcign5YiG5pWw5LiN6IO96LaF6L+HMTAwJyk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHRoaXMuc2F2ZUZ1bmMoKTtcbiAgICB9KTtcblxuICB9XG5cbiAgc2F2ZUZ1bmMoKSB7XG4gICAgLy9jb25zb2xlLmxvZygnc3VibWl0JylcblxuICAgIC8vY29uc29sZS5sb2codGhpcy5sb2FuTGlzdCwgSlNPTi5zdHJpbmdpZnkodGhpcy5sb2FuTGlzdCkpO1xuXG4gICAgdGhpcy5fc2VydmljZS5zZXQoe1xuICAgICAga2V5OiAnbG9hbi5kZWNpc2lvbl9jb25kaXRpb24nLFxuICAgICAgdmFsdWU6IGFuZ3VsYXIudG9Kc29uKHRoaXMubG9hbkxpc3QpXG4gICAgfSkudGhlbihkYXRhID0+IHtcbiAgICAgIHRoaXMuX3RvYXN0ci5zdWNjZXNzKCfkv53lrZjmiJDlip8nKTtcbiAgICB9KTtcbiAgfVxuXG59XG5cbmV4cG9ydCBkZWZhdWx0IENvbnRyb2xsZXI7XG4iLCJpbXBvcnQgQ29udHJvbGxlciBmcm9tICcuL2N0cmwnO1xuXG5jb25zdCBjb21wb25lbnQgPSB7XG4gIHRlbXBsYXRlVXJsOiAnbW9kdWxlcy9sb2FuL3NldHRpbmcvaW5kZXguaHRtbCcsXG4gIGNvbnRyb2xsZXI6IENvbnRyb2xsZXIsXG4gIGNvbnRyb2xsZXJBczogJ3ZtJ1xufTtcblxuZXhwb3J0IGRlZmF1bHQgY29tcG9uZW50O1xuIiwiZnVuY3Rpb24gQ29uZmlnKCRzdGF0ZVByb3ZpZGVyKSB7XG4gICduZ0luamVjdCc7XG5cbiAgJHN0YXRlUHJvdmlkZXJcbiAgICAuc3RhdGUoJ2xvZycsIHtcbiAgICAgICAgdXJsOiAnL2xvZycsXG4gICAgICAgIC8vYWJzdHJhY3Q6IHRydWUsXG4gICAgICAgIHRlbXBsYXRlIDogJzx1aS12aWV3Pjxsb2ctbGlzdD48L2xvZy1saXN0PjwvdWktdmlldz4nLFxuICAgICAgICB0aXRsZTogJ+aXpeW/l+euoeeQhicsXG4gICAgICAgIHNpZGViYXJNZXRhOiB7XG4gICAgICAgICAgaWNvbjogJ2ljb24tc2lkZWJhcl9tZW1iZXJzX2ljJyxcbiAgICAgICAgICBvcmRlcjogMjAwMCxcbiAgICAgICAgfVxuICAgIH0pXG4gICAgLy8gLnN0YXRlKCdsb2cubGlzdCcsIHtcbiAgICAvLyAgICAgdXJsOiAnJyxcbiAgICAvLyAgICAgdGVtcGxhdGU6ICcnLFxuICAgIC8vICAgICB0aXRsZTogJ+aXpeW/l+WIl+ihqCdcbiAgICAvLyB9KVxuICAgIDtcblxufVxuXG5leHBvcnQgZGVmYXVsdCBDb25maWc7XG4iLCJpbXBvcnQgUGFnaW5hdGlvbiBmcm9tICcuLi8uLi8uLi9jb3JlL2NvbXBvbmVudHMvbWNQYWdpbmF0aW9uL21jLXBhZ2luYXRpb24uY2xhc3MnO1xuXG5jbGFzcyBMaXN0Q29udHJvbGxlciBleHRlbmRzIFBhZ2luYXRpb24ge1xuXG4gIGNvbnN0cnVjdG9yKCRpbmplY3RvciwgJHN0YXRlLCAkbG9jYXRpb24sICRzdGF0ZVBhcmFtcywgdG9hc3RyLCAkdWliTW9kYWwsIExvZ1NlcnZpY2UpIHtcbiAgICAnbmdJbmplY3QnO1xuXG4gICAgc3VwZXIoJGluamVjdG9yKTtcblxuICAgIHRoaXMuX3N0YXRlID0gJHN0YXRlO1xuICAgIHRoaXMuX2xvY2F0aW9uID0gJGxvY2F0aW9uO1xuICAgIHRoaXMuX3N0YXRlUGFyYW1zID0gJHN0YXRlUGFyYW1zO1xuICAgIHRoaXMuX21vZGFsID0gJHVpYk1vZGFsO1xuXG4gICAgdGhpcy5fdG9hc3RyID0gdG9hc3RyO1xuXG4gICAgdGhpcy5fc2VydmljZSA9IExvZ1NlcnZpY2U7XG5cbiAgICB0aGlzLmZpbHRlcnMgPSB7fTtcblxuICAgIHRoaXMuc3RhcnRfZGF0ZSA9IG1vbWVudCgpLmFkZCgtMSwgJ2RheXMnKTtcbiAgICB0aGlzLmZpbHRlcnMudGltZV9mcm9tID0gdGhpcy5zdGFydF9kYXRlLnVuaXgoKTtcbiAgICB0aGlzLmVuZF9kYXRlID0gbW9tZW50KCk7XG4gICAgdGhpcy5maWx0ZXJzLnRpbWVfdG8gPSB0aGlzLmVuZF9kYXRlLnVuaXgoKTtcblxuICAgIHRoaXMuc3RhcnRUaW1lTWF4TGltaXQgPSBtb21lbnQoKTtcbiAgICB0aGlzLmVuZFRpbWVNYXhMaW1pdCA9IG1vbWVudCgpO1xuXG4gICAgdGhpcy5faW5pdCgpO1xuXG4gIH1cblxuICBfaW5pdCgpIHtcbiAgICB0aGlzLl9pbml0RmlsdGVycygpO1xuICAgIHRoaXMuX2dldExpc3QoKTtcbiAgfVxuXG4gIF9pbml0RmlsdGVycygpIHtcblxuICAgIGNvbnN0IHN0YXRlUGFyYW1zID0gdGhpcy5fc3RhdGVQYXJhbXM7XG4gICAgLy90aGlzLmZpbHRlcnMua2V5d29yZCA9IHN0YXRlUGFyYW1zLmtleXdvcmQgfHwgdm9pZCgwKTtcblxuICB9XG5cbiAgXG4gIF9nZXRMaXN0KCkge1xuICAgIGxldCBwYXJhbXMgPSB0aGlzLl9maWx0ZXJFbXB0eVZhbHVlKCk7XG4gICAgcGFyYW1zLnBhZ2UgPSB0aGlzLnBhZ2luYXRpb24ucGFnZTtcblxuICAgIHRoaXMuX3NlcnZpY2UubGlzdChwYXJhbXMpLnRoZW4oZGF0YSA9PiB7XG4gICAgICB0aGlzLnBhZ2luYXRpb24uY291bnQgPSBkYXRhLmNvdW50O1xuICAgICAgdGhpcy5wYWdpbmF0aW9uLnBhZ2VTaXplID0gZGF0YS5wYWdlX2xpbWl0O1xuICAgICAgdGhpcy5saXN0ID0gZGF0YS5sb2dzO1xuICAgIH0pO1xuICB9XG5cbiAgcGFnZUNoYW5nZWQoKSB7XG4gICAgdGhpcy5fZ2V0TGlzdCgpO1xuICB9XG5cbiAgcmVTZWFyY2goKSB7XG4gICAgdGhpcy5fZ2V0TGlzdCgpO1xuICB9XG5cbiAgLy8gZGF0ZXBpY2tlclxuICBjaGFuZ2VUaW1lKHR5cGUpIHtcbiAgICBsZXQgdmFsdWVzID0ge1xuICAgICAgICBtaW5EYXRlOiBmYWxzZSxcbiAgICAgICAgbWF4RGF0ZTogZmFsc2VcbiAgICB9XG4gICAgaWYgKHR5cGUgPT0gJ3N0YXJ0Jykge1xuICAgICAgdGhpcy5maWx0ZXJzLnRpbWVfZnJvbSA9IHRoaXMuc3RhcnRfZGF0ZS51bml4KCk7XG4gICAgICB0aGlzLmVuZFRpbWVNaW5MaW1pdCA9IHRoaXMuc3RhcnRfZGF0ZTtcbiAgICAgIHZhbHVlcy5taW5EYXRlID0gdGhpcy5zdGFydF9kYXRlO1xuICAgICAgdmFsdWVzLm1heERhdGUgPSBtb21lbnQoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5maWx0ZXJzLnRpbWVfdG8gPSB0aGlzLmVuZF9kYXRlLnVuaXgoKTtcbiAgICAgIHRoaXMuc3RhcnRUaW1lTWF4TGltaXQgPSB0aGlzLmVuZF9kYXRlO1xuICAgICAgdmFsdWVzLm1heERhdGUgPSB0aGlzLmVuZF9kYXRlO1xuICAgIH1cbiAgICB0aGlzLnJlU2VhcmNoKCk7XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgTGlzdENvbnRyb2xsZXI7XG4iLCJpbXBvcnQgTGlzdENvbnRyb2xsZXIgZnJvbSAnLi9jdHJsJztcblxuY29uc3QgTGlzdCA9IHtcbiAgdGVtcGxhdGVVcmw6ICdtb2R1bGVzL2xvZy9saXN0L2luZGV4Lmh0bWwnLFxuICBjb250cm9sbGVyOiBMaXN0Q29udHJvbGxlcixcbiAgY29udHJvbGxlckFzOiAndm0nXG59O1xuXG5leHBvcnQgZGVmYXVsdCBMaXN0O1xuIiwiaW1wb3J0IGFuZ3VsYXIgZnJvbSAnYW5ndWxhcic7XG5pbXBvcnQgYm9vdHN0cmFwIGZyb20gJ2Jvb3RzdHJhcCc7XG5pbXBvcnQgY29uZmlnICBmcm9tICcuL2NvbmZpZyc7XG5pbXBvcnQgc2VydmljZSBmcm9tICcuL3NlcnZpY2UnO1xuaW1wb3J0IExpc3QgZnJvbSAnLi9saXN0Lyc7XG5cbmV4cG9ydCBkZWZhdWx0IGFuZ3VsYXIubW9kdWxlKCdhcHAubW9kdWxlcy5sb2cnLCBbXSlcbi8vIC5maWx0ZXIoJ2ZpbHRlclR5cGUnLCBmaWx0ZXJUeXBlKVxuLnNlcnZpY2UoJ0xvZ1NlcnZpY2UnLCBzZXJ2aWNlKVxuXG4uY29tcG9uZW50KCdsb2dMaXN0JywgTGlzdClcbi5jb25maWcoY29uZmlnKTtcbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIFNlcnZpY2Uge1xuICBjb25zdHJ1Y3RvcigkaHR0cCwgaHR0cEhlbHBlciwgJHJvb3RTY29wZSwgJHN0YXRlLCBBcGlNYXApIHtcbiAgICAnbmdJbmplY3QnO1xuXG4gICAgdGhpcy5faHR0cCA9ICRodHRwO1xuICAgIC8vIHRoaXMuJHEgPSAkcTtcbiAgICB0aGlzLl9odHRwSGVscGVyID0gaHR0cEhlbHBlcjtcblxuICAgIHRoaXMuX2FwaSA9IEFwaU1hcC5sb2c7XG5cbiAgICB0aGlzLl9yb290U2NvcGUgPSAkcm9vdFNjb3BlO1xuICAgIHRoaXMuX3N0YXRlID0gJHN0YXRlO1xuICB9XG5cbiAgbGlzdChwYXJhbXMpIHtcbiAgICBcbiAgICB0aGlzLl9odHRwSGVscGVyLmJsb2NrVUkuc3RhcnQoKTtcblxuICAgIHJldHVybiB0aGlzLl9odHRwLnBvc3QodGhpcy5fYXBpLmxpc3QsIHBhcmFtcykudGhlbih0aGlzLl9odHRwSGVscGVyLnZlcmlmeSwgIHRoaXMuX2h0dHBIZWxwZXIuZXJyb3IpO1xuICB9XG5cbn0iLCJmdW5jdGlvbiBDb25maWcoJHN0YXRlUHJvdmlkZXIpIHtcbiAgJ25nSW5qZWN0JztcblxuICAkc3RhdGVQcm92aWRlclxuICAgIC5zdGF0ZSgnbWVzc2FnZScsIHtcbiAgICAgICAgdXJsOiAnL21lc3NhZ2UnLFxuICAgICAgICBhYnN0cmFjdDogdHJ1ZSxcbiAgICAgICAgdGVtcGxhdGUgOiAnPHVpLXZpZXc+PC91aS12aWV3PicsXG4gICAgICAgIHRpdGxlOiAn5o+Q56S65raI5oGvJ1xuICAgIH0pXG4gICAgLnN0YXRlKCdtZXNzYWdlLmxpc3QnLCB7XG4gICAgICAgIHVybDogJz9wYWdlJyxcbiAgICAgICAgdGVtcGxhdGU6ICc8bWVzc2FnZS1saXN0PjwvbWVzc2FnZS1saXN0PicsXG4gICAgICAgIHRpdGxlOiAn5raI5oGv5YiX6KGoJ1xuICAgIH0pXG4gICAgLnN0YXRlKCdtZXNzYWdlLmRldGFpbCcsIHtcbiAgICAgIHVybDogJy9kZXRhaWw/aWQnLFxuICAgICAgdGVtcGxhdGU6ICc8bWVzc2FnZS1kZXRhaWw+PC9tZXNzYWdlLWRldGFpbD4nLFxuICAgICAgdGl0bGU6ICfmtojmga/or6bmg4UnXG4gICAgfSlcbiAgICA7XG5cbn1cblxuZXhwb3J0IGRlZmF1bHQgQ29uZmlnO1xuIiwiY2xhc3MgQ29udHJvbGxlciB7XG5cbiAgY29uc3RydWN0b3IoJHN0YXRlLCAkc3RhdGVQYXJhbXMsIHRvYXN0ciwgTWVzc2FnZVNlcnZpY2UpIHtcbiAgICAnbmdJbmplY3QnO1xuXG4gICAgdGhpcy5fc3RhdGUgPSAkc3RhdGU7XG4gICAgdGhpcy5fdG9hc3RyID0gdG9hc3RyO1xuICAgIHRoaXMuX3N0YXRlUGFyYW1zID0gJHN0YXRlUGFyYW1zO1xuXG4gICAgdGhpcy5fc2VydmljZSA9IE1lc3NhZ2VTZXJ2aWNlO1xuXG4gICAgdGhpcy5pZCA9IHRoaXMuX3N0YXRlUGFyYW1zLmlkO1xuXG4gICAgdGhpcy5pbmZvID0gbnVsbDtcblxuICAgIHRoaXMuX2dldCgpO1xuICB9XG5cbiAgX2dldCgpIHtcbiAgICB0aGlzLl9zZXJ2aWNlLmdldCh0aGlzLmlkKS50aGVuKGRhdGEgPT4ge1xuICAgICAgdGhpcy5pbmZvID0gZGF0YTtcbiAgICAgIGlmIChkYXRhLnN0YXRlID09PSAwKSB7XG4gICAgICAgIHRoaXMuX3JlYWQoKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIF9yZWFkKCkge1xuICAgIHRoaXMuX3NlcnZpY2Uuc2V0KHtcbiAgICAgIGlkOiB0aGlzLmlkLFxuICAgICAgc3RhdGU6IDFcbiAgICB9KS50aGVuKGRhdGEgPT4ge1xuXG4gICAgfSk7XG4gIH1cblxuXHRkZWxldGUoKSB7XG5cdFx0dGhpcy5fc2VydmljZS5zZXQoe1xuICAgICAgaWQ6IHRoaXMuaWQsXG4gICAgICBzdGF0ZTogMlxuICAgIH0pLnRoZW4oZGF0YSA9PiB7XG4gICAgICB0aGlzLl90b2FzdHIuc3VjY2Vzcygn5Yig6Zmk5oiQ5YqfIScpO1xuICAgICAgdGhpcy5fc3RhdGUuZ28oJ21lc3NhZ2UubGlzdCcpO1xuICAgIH0pO1xuXHR9XG59XG5cbmV4cG9ydCBkZWZhdWx0IENvbnRyb2xsZXI7IiwiaW1wb3J0IGN0cmwgZnJvbSAnLi9jdHJsJztcblxuY29uc3QgZGV0YWlsID0ge1xuICB0ZW1wbGF0ZVVybDogJ21vZHVsZXMvbWVzc2FnZS9kZXRhaWwvaW5kZXguaHRtbCcsXG4gIGNvbnRyb2xsZXI6IGN0cmwsXG4gIGNvbnRyb2xsZXJBczogJ3ZtJ1xufTtcblxuZXhwb3J0IGRlZmF1bHQgZGV0YWlsOyIsImltcG9ydCBQYWdpbmF0aW9uIGZyb20gJy4uLy4uLy4uL2NvcmUvY29tcG9uZW50cy9tY1BhZ2luYXRpb24vbWMtcGFnaW5hdGlvbi5jbGFzcyc7XG5cbmNsYXNzIExpc3RDb250cm9sbGVyIGV4dGVuZHMgUGFnaW5hdGlvbiB7XG5cbiAgY29uc3RydWN0b3IoJGluamVjdG9yLCAkc3RhdGUsICRsb2NhdGlvbiwgJHN0YXRlUGFyYW1zLCB0b2FzdHIsICR1aWJNb2RhbCwgTWVzc2FnZVNlcnZpY2UpIHtcbiAgICAnbmdJbmplY3QnO1xuXG4gICAgc3VwZXIoJGluamVjdG9yKTtcblxuICAgIHRoaXMuX3N0YXRlID0gJHN0YXRlO1xuICAgIHRoaXMuX2xvY2F0aW9uID0gJGxvY2F0aW9uO1xuICAgIHRoaXMuX3N0YXRlUGFyYW1zID0gJHN0YXRlUGFyYW1zO1xuICAgIHRoaXMuX21vZGFsID0gJHVpYk1vZGFsO1xuXG4gICAgdGhpcy5fdG9hc3RyID0gdG9hc3RyO1xuXG4gICAgdGhpcy5fc2VydmljZSA9IE1lc3NhZ2VTZXJ2aWNlO1xuXG4gICAgdGhpcy5maWx0ZXJzID0ge307XG5cbiAgICB0aGlzLm9uZUF0QVRpbWUgPSB0cnVlO1xuXG4gICAgdGhpcy5faW5pdCgpO1xuXG4gIH1cblxuICBfaW5pdCgpIHtcblxuICAgIHRoaXMuX2luaXRGaWx0ZXJzKCk7XG4gICAgdGhpcy5fZ2V0TGlzdCgpO1xuXG4gIH1cblxuICBfaW5pdEZpbHRlcnMoKSB7XG4gICAgLy8gY29uc29sZS5sb2codGhpcy5fc3RhdGVQYXJhbXMpO1xuICAgIGNvbnN0IHN0YXRlUGFyYW1zID0gdGhpcy5fc3RhdGVQYXJhbXM7XG4gICAgLy8gdGhpcy5wYWdpbmF0aW9uLnBhZ2UgPSArc3RhdGVQYXJhbXMucGFnZTtcbiAgICAvLyB0aGlzLmZpbHRlcnMuZ2VuZGVyID0gK3N0YXRlUGFyYW1zLmdlbmRlciB8fCB2b2lkKDApO1xuXG4gICAgdGhpcy5maWx0ZXJzLmtleXdvcmQgPSBzdGF0ZVBhcmFtcy5rZXl3b3JkIHx8IHZvaWQoMCk7XG5cbiAgfVxuICBcbiAgX2dldExpc3QoKSB7XG5cbiAgICBsZXQgcGFyYW1zID0gdGhpcy5fZmlsdGVyRW1wdHlWYWx1ZSgpO1xuICAgIC8vIHBhcmFtcy5wYWdlU2l6ZSA9IHRoaXMucGFnaW5hdGlvbi5wYWdlU2l6ZTtcbiAgICBwYXJhbXMucGFnZSA9IHRoaXMucGFnaW5hdGlvbi5wYWdlO1xuXG4gICAgdGhpcy5fc2VydmljZS5nZXRMaXN0KHBhcmFtcykudGhlbihkYXRhID0+IHtcbiAgICAgIGNvbnNvbGUubG9nKGRhdGEpO1xuICAgICAgdGhpcy5saXN0ID0gZGF0YS5tZXNzYWdlcztcbiAgICAgIHRoaXMucGFnaW5hdGlvbi5jb3VudCA9IGRhdGEucGFnZV9jb3VudCAqIHRoaXMucGFnaW5hdGlvbi5wYWdlU2l6ZTtcbiAgICB9KTtcblxuICAgIC8vIHRoaXMubGlzdCA9IFtcbiAgICAvLyAgICAgICAgICAgICB7aWQ6IDEsIHRpdGxlOiAn5Y2V54us55qE6KGo5Y2V5o6n5Lu25Lya6KKr6Ieq5Yqo6LWL5LqI5LiA5Lqb5YWo5bGA5qC35byPJywgbGluazogJy8nLCBjb250ZW50OiAn5Y2V54us55qE6KGo5Y2V5o6n5Lu25Lya6KKr6Ieq5Yqo6LWL5LqI5LiA5Lqb5YWo5bGA5qC35byP44CC5omA5pyJ6K6+572u5LqGIC5mb3JtLWNvbnRyb2wg57G755qEIDxpbnB1dD7jgIE8dGV4dGFyZWE+IOWSjCA8c2VsZWN0PiDlhYPntKDpg73lsIbooqvpu5jorqTorr7nva7lrr3luqblsZ7mgKfkuLogd2lkdGg6IDEwMCU744CCIOWwhiBsYWJlbCDlhYPntKDlkozliY3pnaLmj5DliLDnmoTmjqfku7bljIXoo7nlnKggLmZvcm0tZ3JvdXAg5Lit5Y+v5Lul6I635b6X5pyA5aW955qE5o6S5YiX44CCJ30sXG4gICAgLy8gICAgICAgICAgICAge2lkOiAyLCB0aXRsZTogJ+WNleeLrOeahOihqOWNleaOp+S7tuS8muiiq+iHquWKqOi1i+S6iOS4gOS6m+WFqOWxgOagt+W8jycsIGxpbms6ICcvJywgY29udGVudDogJ+WNleeLrOeahOihqOWNleaOp+S7tuS8muiiq+iHquWKqOi1i+S6iOS4gOS6m+WFqOWxgOagt+W8j+OAguaJgOacieiuvue9ruS6hiAuZm9ybS1jb250cm9sIOexu+eahCA8aW5wdXQ+44CBPHRleHRhcmVhPiDlkowgPHNlbGVjdD4g5YWD57Sg6YO95bCG6KKr6buY6K6k6K6+572u5a695bqm5bGe5oCn5Li6IHdpZHRoOiAxMDAlO+OAgiDlsIYgbGFiZWwg5YWD57Sg5ZKM5YmN6Z2i5o+Q5Yiw55qE5o6n5Lu25YyF6KO55ZyoIC5mb3JtLWdyb3VwIOS4reWPr+S7peiOt+W+l+acgOWlveeahOaOkuWIl+OAgid9LFxuICAgIC8vICAgICAgICAgICBdO1xuICAgIC8vIHRoaXMucGFnaW5hdGlvbi5jb3VudCA9IDIwO1xuXG4gIH1cblxuICB0b2dnbGVBbGwoKSB7XG4gICAgaWYodGhpcy5saXN0KSB7XG4gICAgICB0aGlzLmxpc3QuZm9yRWFjaChpdGVtID0+IGl0ZW0uY2hlY2tlZCA9IHRoaXMuc2VsZWN0QWxsKTtcbiAgICB9XG4gIH1cblxuICBjaGVja0FsbCgpIHtcbiAgICBpZih0aGlzLmxpc3QpIHtcbiAgICAgIGxldCB1bmNoZWNrZWRMaXN0ID0gdGhpcy5saXN0LmZpbHRlcihpdGVtID0+ICFpdGVtLmNoZWNrZWQpO1xuICAgICAgbGV0IGxlbiA9IHVuY2hlY2tlZExpc3QubGVuZ3RoO1xuXG4gICAgICBpZihsZW4gPiAwKSB7XG4gICAgICAgIHRoaXMuc2VsZWN0QWxsID0gZmFsc2U7XG4gICAgICB9IGVsc2UgaWYgKGxlbiA9IHRoaXMubGlzdC5sZW5ndGgpIHtcbiAgICAgICAgdGhpcy5zZWxlY3RBbGwgPSB0cnVlO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGJhdGNoTWFya2VkUmVhZCgpIHtcbiAgICBpZih0aGlzLmxpc3QpIHtcbiAgICAgIGxldCBjaGVja2VkTGlzdCA9IHRoaXMubGlzdC5maWx0ZXIoaXRlbSA9PiBpdGVtLmNoZWNrZWQpO1xuXG4gICAgICBjaGVja2VkTGlzdC5mb3JFYWNoKGl0ZW0gPT4gaXRlbS5pc1JlYWQgPSB0cnVlKTtcbiAgICB9XG4gIH1cblxuICBiYXRjaFJlbW92ZSgpIHtcbiAgICBpZih0aGlzLmxpc3QpIHtcbiAgICAgIHRoaXMubGlzdCA9IHRoaXMubGlzdC5maWx0ZXIoaXRlbSA9PiAhaXRlbS5jaGVja2VkKTtcblxuICAgICAgLy8gY2hlY2tlZExpc3QuZm9yRWFjaChpdGVtID0+IGl0ZW0uaXNSZWFkID0gdHJ1ZSk7XG4gICAgICB0aGlzLl90b2FzdHIuc3VjY2Vzcygn5Yig6Zmk5oiQ5YqfIScpO1xuICAgICAgdGhpcy5fc3RhdGUucmVsb2FkKCk7XG4gICAgfVxuICB9XG5cbiAgZ2V0Q2hlY2tlZElkcygpIHtcbiAgICBpZih0aGlzLmxpc3QpIHtcbiAgICAgIGxldCBjaGVja2VkTGlzdCA9IHRoaXMubGlzdC5maWx0ZXIoaXRlbSA9PiBpdGVtLmNoZWNrZWQpO1xuXG4gICAgICByZXR1cm4gY2hlY2tlZExpc3QubWFwKGl0ZW0gPT4gaXRlbS5pZCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgbWFya2VkUmVhZCgpIHtcbiAgICBjb25zdCBpZHMgPSB0aGlzLmdldENoZWNrZWRJZHMoKTtcblxuICAgIGlmKGlkcyAmJiBpZHMubGVuZ3RoKSB7XG4gICAgICBjb25zb2xlLmxvZyhpZHMpO1xuXG4gICAgICB0aGlzLl9zZXJ2aWNlLnJlYWQoe2lkc30pLnRoZW4oZGF0YSA9PiB7XG4gICAgICAgIC8vIHRoaXMuX3RvYXN0ci5zdWNjZXNzKCcnKTtcbiAgICAgICAgdGhpcy5iYXRjaE1hcmtlZFJlYWQoKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuXG4gIGRlbGV0ZSgpIHtcbiAgICBjb25zdCBpZHMgPSB0aGlzLmdldENoZWNrZWRJZHMoKTtcblxuICAgIGlmKGlkcyAmJiBpZHMubGVuZ3RoKSB7XG4gICAgICBjb25zb2xlLmxvZyhpZHMpO1xuICAgICAgdGhpcy5fc2VydmljZS5kZWxldGUoe2lkc30pLnRoZW4oZGF0YSA9PiB7XG4gICAgICAgIC8vIHRoaXMuX3RvYXN0ci5zdWNjZXNzKCcnKTtcbiAgICAgICAgdGhpcy5iYXRjaFJlbW92ZSgpO1xuICAgICAgfSk7XG4gICAgfVxuICB9XG5cblxufVxuXG5leHBvcnQgZGVmYXVsdCBMaXN0Q29udHJvbGxlcjtcbiIsImltcG9ydCBMaXN0Q29udHJvbGxlciBmcm9tICcuL2N0cmwnO1xuXG5jb25zdCBMaXN0ID0ge1xuICB0ZW1wbGF0ZVVybDogJ21vZHVsZXMvbWVzc2FnZS9saXN0L3RlbXBsYXRlLmh0bWwnLFxuICBjb250cm9sbGVyOiBMaXN0Q29udHJvbGxlcixcbiAgY29udHJvbGxlckFzOiAndm0nXG59O1xuXG5leHBvcnQgZGVmYXVsdCBMaXN0O1xuIiwiaW1wb3J0IGFuZ3VsYXIgZnJvbSAnYW5ndWxhcic7XG5pbXBvcnQgY29uZmlnICBmcm9tICcuL2NvbmZpZyc7XG5pbXBvcnQgc2VydmljZSBmcm9tICcuL3NlcnZpY2UnO1xuaW1wb3J0IExpc3QgIGZyb20gJy4vbGlzdC8nO1xuaW1wb3J0IERldGFpbCBmcm9tICcuL2RldGFpbC8nO1xuXG4vLyBpbXBvcnQgZGVtb1NlcnZpY2UgICAgICBmcm9tICcuL3NlcnZpY2VzL2RlbW8uc2VydmljZSc7XG5cblxuXG5cbmV4cG9ydCBkZWZhdWx0IGFuZ3VsYXIubW9kdWxlKCdhcHAubW9kdWxlcy5tZXNzYWdlJywgW10pXG4vLyAuZmlsdGVyKCdmaWx0ZXJUeXBlJywgZmlsdGVyVHlwZSlcbi5zZXJ2aWNlKCdNZXNzYWdlU2VydmljZScsIHNlcnZpY2UpXG5cbi5jb21wb25lbnQoJ21lc3NhZ2VMaXN0JywgTGlzdClcbi5jb21wb25lbnQoJ21lc3NhZ2VEZXRhaWwnLCBEZXRhaWwpXG4uY29uZmlnKGNvbmZpZyk7XG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBTZXJ2aWNlIHtcbiAgY29uc3RydWN0b3IoJGh0dHAsIGh0dHBIZWxwZXIsICRyb290U2NvcGUsICRzdGF0ZSwgQXBpTWFwKSB7XG4gICAgJ25nSW5qZWN0JztcblxuICAgIHRoaXMuX2h0dHAgPSAkaHR0cDtcbiAgICAvLyB0aGlzLiRxID0gJHE7XG4gICAgdGhpcy5faHR0cEhlbHBlciA9IGh0dHBIZWxwZXI7XG5cbiAgICB0aGlzLl9hcGkgPSBBcGlNYXAubWVzc2FnZTtcblxuICAgIHRoaXMuX3Jvb3RTY29wZSA9ICRyb290U2NvcGU7XG4gICAgdGhpcy5fc3RhdGUgPSAkc3RhdGU7XG4gIH1cblxuICBnZXQoaWQpIHtcbiAgICBcbiAgICB0aGlzLl9odHRwSGVscGVyLmJsb2NrVUkuc3RhcnQoKTtcblxuICAgIHJldHVybiB0aGlzLl9odHRwLmdldCh0aGlzLl9hcGkuZ2V0LnJlcGxhY2UoL1xce2lkXFx9LywgaWQpKS50aGVuKHRoaXMuX2h0dHBIZWxwZXIudmVyaWZ5LCAgdGhpcy5faHR0cEhlbHBlci5lcnJvcik7XG4gIH1cblxuICBnZXRMaXN0KHBhcmFtcywgaGlkZUxvYWRpbmcpIHtcbiAgICBcbiAgICAhaGlkZUxvYWRpbmcgJiYgdGhpcy5faHR0cEhlbHBlci5ibG9ja1VJLnN0YXJ0KCk7XG5cbiAgICByZXR1cm4gdGhpcy5faHR0cC5wb3N0KHRoaXMuX2FwaS5nZXRMaXN0LCBwYXJhbXMpLnRoZW4odGhpcy5faHR0cEhlbHBlci52ZXJpZnksICB0aGlzLl9odHRwSGVscGVyLmVycm9yKTtcbiAgfVxuXG4gIHNldChkYXRhKSB7XG4gICAgXG4gICAgdGhpcy5faHR0cEhlbHBlci5ibG9ja1VJLnN0YXJ0KCk7XG5cbiAgICByZXR1cm4gdGhpcy5faHR0cC5wb3N0KHRoaXMuX2FwaS5zZXQsIGRhdGEpLnRoZW4odGhpcy5faHR0cEhlbHBlci52ZXJpZnksICB0aGlzLl9odHRwSGVscGVyLmVycm9yKTtcbiAgfVxufSIsImltcG9ydCBhbmd1bGFyICAgICAgICAgICAgIGZyb20gJ2FuZ3VsYXInO1xuaW1wb3J0IGRhc2hib2FyZE1vZHVsZSAgICAgZnJvbSAnLi9kYXNoYm9hcmQvZGFzaGJvYXJkLm1vZHVsZSc7XG5cbmltcG9ydCBkZW1vTW9kdWxlICAgICAgIGZyb20gJy4vZGVtby9kZW1vLm1vZHVsZSc7XG5pbXBvcnQgbWVzc2FnZU1vZHVsZSAgICAgICBmcm9tICcuL21lc3NhZ2UvbW9kdWxlJztcbmltcG9ydCBpbnZlc3RtZW50TW9kdWxlICAgICAgIGZyb20gJy4vaW52ZXN0bWVudC9tb2R1bGUnO1xuaW1wb3J0IGVudGVycHJpc2VNb2R1bGUgICAgICAgZnJvbSAnLi9lbnRlcnByaXNlL21vZHVsZSc7XG5pbXBvcnQgaW5mb3JtYXRpb25Nb2R1bGUgICAgICAgZnJvbSAnLi9pbmZvcm1hdGlvbi9tb2R1bGUnO1xuXG5pbXBvcnQgcGVyc29uTW9kdWxlICAgICAgICAgZnJvbSAnLi9wZXJzb24vbW9kdWxlJztcbmltcG9ydCBhY2NvdW50TW9kdWxlICAgICAgICBmcm9tICcuL2FjY291bnQvbW9kdWxlJztcbmltcG9ydCBsb2dNb2R1bGUgICAgICAgIGZyb20gJy4vbG9nL21vZHVsZSc7XG5pbXBvcnQgYmFua01vZHVsZSAgICAgICAgZnJvbSAnLi9iYW5rL21vZHVsZSc7XG5pbXBvcnQgc3lzY29uZmlnTW9kdWxlICAgICAgICBmcm9tICcuL3N5c2NvbmZpZy9tb2R1bGUnO1xuXG5pbXBvcnQgcHJvY2Vzc01vZHVsZSAgICAgIGZyb20gJy4vcHJvY2Vzcy9tb2R1bGUnO1xuaW1wb3J0IGxvYW5Nb2R1bGUgICAgICAgICBmcm9tICcuL2xvYW4vbW9kdWxlJztcbmltcG9ydCBmaWx0ZXJNb2R1bGUgICAgICBmcm9tICcuL2ZpbHRlci9tb2R1bGUnO1xuXG5leHBvcnQgZGVmYXVsdCBhbmd1bGFyLm1vZHVsZSgnYXBwLm1vZHVsZXMnLCBbXG4gIGRhc2hib2FyZE1vZHVsZS5uYW1lLFxuICBkZW1vTW9kdWxlLm5hbWUsXG4gIG1lc3NhZ2VNb2R1bGUubmFtZSxcbiAgaW52ZXN0bWVudE1vZHVsZS5uYW1lLFxuICBlbnRlcnByaXNlTW9kdWxlLm5hbWUsXG4gIGluZm9ybWF0aW9uTW9kdWxlLm5hbWUsXG4gIHBlcnNvbk1vZHVsZS5uYW1lLFxuICBhY2NvdW50TW9kdWxlLm5hbWUsXG4gIGxvZ01vZHVsZS5uYW1lLFxuICBiYW5rTW9kdWxlLm5hbWUsXG4gIHByb2Nlc3NNb2R1bGUubmFtZSxcbiAgc3lzY29uZmlnTW9kdWxlLm5hbWUsXG4gIGxvYW5Nb2R1bGUubmFtZSxcbiAgZmlsdGVyTW9kdWxlLm5hbWUsXG5dKTtcbiIsImZ1bmN0aW9uIENvbmZpZygkc3RhdGVQcm92aWRlcikge1xuICAnbmdJbmplY3QnO1xuXG4gICRzdGF0ZVByb3ZpZGVyXG4gICAgLnN0YXRlKCdwZXJzb24nLCB7XG4gICAgICAgIHVybDogJy9wZXJzb24nLFxuICAgICAgICBhYnN0cmFjdDogdHJ1ZSxcbiAgICAgICAgdGVtcGxhdGUgOiAnPHVpLXZpZXc+PC91aS12aWV3PicsXG4gICAgICAgIHRpdGxlOiAn5Liq5Lq65Lit5b+DJ1xuICAgIH0pXG4gICAgLnN0YXRlKCdwZXJzb24uZGV0YWlsJywge1xuICAgICAgICB1cmw6ICcnLFxuICAgICAgICB0ZW1wbGF0ZTogJzxwZXJzb24tZGV0YWlsPjwvcGVyc29uLWRldGFpbD4nLFxuICAgICAgICB0aXRsZTogJ+i1hOaWmeivpuaDhSdcbiAgICB9KVxuICAgIDtcblxufVxuXG5leHBvcnQgZGVmYXVsdCBDb25maWc7XG4iLCJjbGFzcyBEZXRhaWxDb250cm9sbGVyIHtcblxuICBjb25zdHJ1Y3Rvcigkc3RhdGUsIHRvYXN0ciwgUGVyc29uU2VydmljZSwgQXBwU2V0dGluZ3MsIENvbmZpZ1NlcnZpY2UsIFByb2ZpbGVTZXJ2aWNlKSB7XG4gICAgJ25nSW5qZWN0JztcblxuICAgIHRoaXMuX3N0YXRlID0gJHN0YXRlO1xuICAgIHRoaXMuX3RvYXN0ciA9IHRvYXN0cjtcblxuICAgIHRoaXMuX3NlcnZpY2UgPSBQZXJzb25TZXJ2aWNlO1xuICAgIHRoaXMuX2NvbmZpZ1NlcnZpY2UgPSBDb25maWdTZXJ2aWNlO1xuXG4gICAgdGhpcy5yb2xlTGlzdCA9IFByb2ZpbGVTZXJ2aWNlLmdldFJvbGVMaXN0KCk7XG4gICAgdGhpcy5yb2xlS2V5ID0gQXBwU2V0dGluZ3Mucm9sZUxpc3RLZXk7XG5cbiAgICB0aGlzLl9pbml0KCk7XG5cdH1cblxuICBfaW5pdCgpIHtcbiAgICBsZXQgcGFyYW1zID0ge1xuICAgICAgaWQ6IHdpbmRvdy5sb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnU0lMX1VJRCcpXG4gICAgfTtcbiAgICB0aGlzLnN0YXRlQXJyID0ge1xuICAgICAgMDogJ+acqua/gOa0uycsXG4gICAgICAxOiAn5q2j5bi4JyxcbiAgICAgIDI6ICflt7Llhrvnu5MnLFxuICAgICAgMzogJ+W3suWIoOmZpCdcbiAgICB9XG5cbiAgICB0aGlzLl9zZXJ2aWNlLmdldChwYXJhbXMpLnRoZW4oZGF0YSA9PiB7XG4gICAgICB0aGlzLnBlcnNvbiA9IGRhdGE7XG4gICAgfSk7XG4gIH1cblxuICBzZXRVc2VyKCkge1xuICAgIGxldCBwYXJhbXMgPSB7XG4gICAgICB1c2VyX2lkOiB3aW5kb3cubG9jYWxTdG9yYWdlLmdldEl0ZW0oJ1NJTF9VSUQnKSxcbiAgICAgIG5ld19wYXNzd29yZDogdGhpcy5wZXJzb24ubmV3X3Bhc3N3b3JkLFxuICAgICAgdHJ1ZV9uYW1lOiB0aGlzLnBlcnNvbi50cnVlX25hbWUsXG4gICAgICBwaG9uZTogdGhpcy5wZXJzb24ucGhvbmUsXG4gICAgICByb2xlX25hbWU6IHRoaXMucGVyc29uLnJvbGVfbmFtZSxcbiAgICAgIHJvbGU6IHRoaXMucGVyc29uLnJvbGUsXG4gICAgICBzdGF0ZTogdGhpcy5wZXJzb24uc3RhdGVcbiAgICB9O1xuICAgIHRoaXMuX3NlcnZpY2Uuc2V0KHBhcmFtcykudGhlbihkYXRhID0+IHtcbiAgICAgICAgbG9jYXRpb24uaHJlZiA9ICcvJztcbiAgICB9KTtcblxuICB9XG5cbn1cblxuZXhwb3J0IGRlZmF1bHQgRGV0YWlsQ29udHJvbGxlcjsiLCJpbXBvcnQgRGV0YWlsQ29udHJvbGxlciBmcm9tICcuL2N0cmwnO1xuXG5jb25zdCBkZXRhaWwgPSB7XG4gIHRlbXBsYXRlVXJsOiAnbW9kdWxlcy9wZXJzb24vZGV0YWlsL2luZGV4Lmh0bWwnLFxuICBjb250cm9sbGVyOiBEZXRhaWxDb250cm9sbGVyLFxuICBjb250cm9sbGVyQXM6ICd2bSdcbn07XG5cbmV4cG9ydCBkZWZhdWx0IGRldGFpbDsiLCJpbXBvcnQgYW5ndWxhciBmcm9tICdhbmd1bGFyJztcbmltcG9ydCBib290c3RyYXAgZnJvbSAnYm9vdHN0cmFwJztcbmltcG9ydCBjb25maWcgIGZyb20gJy4vY29uZmlnJztcbmltcG9ydCBzZXJ2aWNlIGZyb20gJy4vc2VydmljZSc7XG5pbXBvcnQgRGV0YWlsIGZyb20gJy4vZGV0YWlsLyc7XG5cbi8vIGltcG9ydCBkZW1vU2VydmljZSAgICAgIGZyb20gJy4vc2VydmljZXMvZGVtby5zZXJ2aWNlJztcblxuXG5cblxuZXhwb3J0IGRlZmF1bHQgYW5ndWxhci5tb2R1bGUoJ2FwcC5tb2R1bGVzLnBlcnNvbicsIFtdKVxuLy8gLmZpbHRlcignZmlsdGVyVHlwZScsIGZpbHRlclR5cGUpXG4uc2VydmljZSgnUGVyc29uU2VydmljZScsIHNlcnZpY2UpXG5cbi5jb21wb25lbnQoJ3BlcnNvbkRldGFpbCcsIERldGFpbClcbi5jb25maWcoY29uZmlnKTtcbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIFNlcnZpY2Uge1xuICBjb25zdHJ1Y3RvcigkaHR0cCwgaHR0cEhlbHBlciwgJHJvb3RTY29wZSwgJHN0YXRlLCBBcGlNYXApIHtcbiAgICAnbmdJbmplY3QnO1xuXG4gICAgdGhpcy5faHR0cCA9ICRodHRwO1xuICAgIC8vIHRoaXMuJHEgPSAkcTtcbiAgICB0aGlzLl9odHRwSGVscGVyID0gaHR0cEhlbHBlcjtcblxuICAgIHRoaXMuX2FwaSA9IEFwaU1hcC5wZXJzb247XG4gICAgdGhpcy5fYXBpTWFwID0gQXBpTWFwO1xuXG4gICAgdGhpcy5fcm9vdFNjb3BlID0gJHJvb3RTY29wZTtcbiAgICB0aGlzLl9zdGF0ZSA9ICRzdGF0ZTtcbiAgfVxuXG4gIGdldChwYXJhbXMpIHtcbiAgICBcbiAgICB0aGlzLl9odHRwSGVscGVyLmJsb2NrVUkuc3RhcnQoKTtcblxuICAgIHJldHVybiB0aGlzLl9odHRwLnBvc3QodGhpcy5fYXBpLmdldCwgcGFyYW1zKS50aGVuKHRoaXMuX2h0dHBIZWxwZXIudmVyaWZ5LCAgdGhpcy5faHR0cEhlbHBlci5lcnJvcik7XG4gIH1cblxuICBzZXQocGFyYW1zKSB7XG4gICAgXG4gICAgdGhpcy5faHR0cEhlbHBlci5ibG9ja1VJLnN0YXJ0KCk7XG4gICAgXG4gICAgcmV0dXJuIHRoaXMuX2h0dHAucG9zdCh0aGlzLl9hcGkuc2V0LCBwYXJhbXMpLnRoZW4odGhpcy5faHR0cEhlbHBlci52ZXJpZnksICB0aGlzLl9odHRwSGVscGVyLmVycm9yKTtcbiAgfVxuXG4gIGdldFJvbGVMaXN0KCkge1xuICAgIHRoaXMuX2h0dHBIZWxwZXIuYmxvY2tVSS5zdGFydCgpO1xuICAgIFxuICAgIHJldHVybiB0aGlzLl9odHRwLmdldCh0aGlzLl9hcGlNYXAuYXV0aC5nZXQpLnRoZW4odGhpcy5faHR0cEhlbHBlci52ZXJpZnksICB0aGlzLl9odHRwSGVscGVyLmVycm9yKTtcbiAgfVxuXG5cbn0iLCJjbGFzcyBDb250cm9sbGVyIHtcblxuICBjb25zdHJ1Y3Rvcigkc2NvcGUsICRzdGF0ZSwgJHN0YXRlUGFyYW1zLCAkdmFsaWRhdGlvbiwgdG9hc3RyLCBQcm9jZXNzU2VydmljZSwgY2hlY2tTdGF0ZVNlcnZpY2UpIHtcbiAgICAnbmdJbmplY3QnO1xuXG4gICAgdGhpcy5fc2NvcGUgPSAkc2NvcGU7XG5cbiAgICB0aGlzLl9zdGF0ZSA9ICRzdGF0ZTtcbiAgICB0aGlzLl90b2FzdHIgPSB0b2FzdHI7XG4gICAgdGhpcy5fc3RhdGVQYXJhbXMgPSAkc3RhdGVQYXJhbXM7XG5cbiAgICB0aGlzLl92YWxpZGF0aW9uID0gICR2YWxpZGF0aW9uO1xuXG4gICAgdGhpcy5fY2hlY2tTdGF0ZVNlcnZpY2UgPSBjaGVja1N0YXRlU2VydmljZTtcblxuICAgIHRoaXMuX3NlcnZpY2UgPSBQcm9jZXNzU2VydmljZTtcblxuICAgIHRoaXMuaWQgPSB0aGlzLl9zdGF0ZVBhcmFtcy5pZCB8fCBudWxsO1xuXG4gICAgdGhpcy5pbmZvID0gbnVsbDtcbiAgICB0aGlzLmlucHV0SW5mbyA9IHtcbiAgICAgIGNvbnRlbnQ6ICcnLFxuICAgICAgdGl0bGU6ICcnXG4gICAgfTtcblxuICAgIHRoaXMuX2luaXQoKTtcbiAgfVxuXG4gIF9pbml0KCkge1xuICAgIGxldCBkZXN0cm95V2F0Y2hUZXh0ID0gdGhpcy5fc2NvcGUuJHdhdGNoKCd2bS5pbnB1dEluZm8uY29udGVudCcsICgpID0+IHtcbiAgICAgIGlmKHRoaXMuaW5wdXRJbmZvLmNvbnRlbnQpIHtcbiAgICAgICAgLy8gY29uc29sZS5sb2cobWFya2VkKHRoaXMuaW5wdXRJbmZvLmNvbnRlbnQpKTtcbiAgICAgICAgdGhpcy5odG1sID0gbWFya2VkKHRoaXMuaW5wdXRJbmZvLmNvbnRlbnQpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5odG1sID0gJyc7XG4gICAgICB9XG4gICAgfSk7XG4gICAgLypcbiAgICAqICRzY29wZemUgOavgeeahOaXtuWAmSznu5PmnZ/nm5HlkKxcbiAgICAqL1xuICAgIHRoaXMuX3Njb3BlLiRvbignJGRlc3Ryb3knLCBkZXN0cm95V2F0Y2hUZXh0KTtcblxuICAgIHRoaXMuX2NoZWNrU3RhdGVTZXJ2aWNlLmZvcm1TdGF0ZUNoYW5nZSh0aGlzLl9zY29wZSwgJ3ZtLkZvcm0nKTtcblxuICAgIHRoaXMuX2dldCgpO1xuICB9XG5cbiAgX2dldCgpIHtcblxuICAgIGlmKHRoaXMuaWQpIHtcbiAgICAgIHRoaXMuX3NlcnZpY2UudGlwc0dldCh0aGlzLmlkKS50aGVuKGRhdGEgPT4ge1xuICAgICAgICB0aGlzLmluZm8gPSBkYXRhO1xuXG4gICAgICAgIHRoaXMuaW5wdXRJbmZvID0gey4uLmRhdGF9O1xuXG4gICAgICAgIHRoaXMuZGVmYXVsdENvbnRlbnQgPSBkYXRhLmNvbnRlbnQ7XG4gICAgICB9KS5jYXRjaChkYXRhID0+IHtcbiAgICAgICAgdGhpcy5pZCA9IG51bGw7XG4gICAgICB9KTtcbiAgICB9XG4gIH1cblxuICBfcmVhZCgpIHtcbiAgICB0aGlzLl9zZXJ2aWNlLnNldCh7XG4gICAgICBpZDogdGhpcy5pZCxcbiAgICAgIHN0YXRlOiAxXG4gICAgfSkudGhlbihkYXRhID0+IHtcblxuICAgIH0pO1xuICB9XG5cblx0ZGVsZXRlKGZvcm0pIHtcbiAgICBmb3JtLiRwcmlzdGluZSA9IHRydWU7XG5cdFx0dGhpcy5fc2VydmljZS50aXBzU2V0KHtcbiAgICAgIGlkOiB0aGlzLmlkLFxuICAgICAgc3RhdGU6IDNcbiAgICB9KS50aGVuKGRhdGEgPT4ge1xuICAgICAgdGhpcy5fdG9hc3RyLnN1Y2Nlc3MoJ+WIoOmZpOaIkOWKnyEnKTtcbiAgICAgIHRoaXMuX3N0YXRlLmdvKCdwcm9jZXNzLnRpcHMnKTtcbiAgICB9KTtcblx0fVxuXG4gIHN1Ym1pdChmb3JtKSB7XG4gICAgLy/pqozor4HooajljZVcbiAgICB0aGlzLl92YWxpZGF0aW9uLnZhbGlkYXRlKGZvcm0pLnN1Y2Nlc3MoKCkgPT4ge1xuICAgICAgdGhpcy5zYXZlRnVuYyhmb3JtKTtcbiAgICB9KTtcbiAgfVxuXG4gIHNhdmVGdW5jKGZvcm0pIHtcbiAgICBjb25zdCBkYXRhID0gdGhpcy5pbnB1dEluZm87XG4gICAgaWYodGhpcy5pZCkge1xuICAgICAgdGhpcy5fc2VydmljZS50aXBzU2V0KGRhdGEpLnRoZW4oZGF0YSA9PiB7XG4gICAgICAgIGZvcm0uJHByaXN0aW5lID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5fdG9hc3RyLnN1Y2Nlc3MoJ+S/neWtmOaIkOWKnycpO1xuICAgICAgICB0aGlzLl9zdGF0ZS5nbygncHJvY2Vzcy50aXBzJyk7XG4gICAgICB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5fc2VydmljZS50aXBzQWRkKGRhdGEpLnRoZW4oZGF0YSA9PiB7XG4gICAgICAgIGZvcm0uJHByaXN0aW5lID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5fdG9hc3RyLnN1Y2Nlc3MoJ+a3u+WKoOaIkOWKnycpO1xuICAgICAgICB0aGlzLl9zdGF0ZS5nbygncHJvY2Vzcy50aXBzJyk7XG4gICAgICB9KTtcbiAgICB9XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgQ29udHJvbGxlcjsiLCJpbXBvcnQgY3RybCBmcm9tICcuL2N0cmwnO1xuXG5jb25zdCBhZGQgPSB7XG4gIHRlbXBsYXRlVXJsOiAnbW9kdWxlcy9wcm9jZXNzL2FkZC9pbmRleC5odG1sJyxcbiAgY29udHJvbGxlcjogY3RybCxcbiAgY29udHJvbGxlckFzOiAndm0nXG59O1xuXG5leHBvcnQgZGVmYXVsdCBhZGQ7IiwiZnVuY3Rpb24gQ29uZmlnKCRzdGF0ZVByb3ZpZGVyKSB7XG4gICduZ0luamVjdCc7XG5cbiAgJHN0YXRlUHJvdmlkZXJcbiAgICAuc3RhdGUoJ3Byb2Nlc3MnLCB7XG4gICAgICAgIHVybDogJy9wcm9jZXNzJyxcbiAgICAgICAgYWJzdHJhY3Q6IHRydWUsXG4gICAgICAgIHRlbXBsYXRlIDogJzx1aS12aWV3PjwvdWktdmlldz4nLFxuICAgICAgICB0aXRsZTogJ+i0t+asvua1geeoiycsXG4gICAgICAgIHNpZGViYXJNZXRhOiB7XG4gICAgICAgICAgaWNvbjogJ2ljb24tc2lkZWJhcl9tZW1iZXJzX2ljJyxcbiAgICAgICAgICBvcmRlcjogNjAwLFxuICAgICAgICB9XG4gICAgfSlcbiAgICAuc3RhdGUoJ3Byb2Nlc3MudGlwcycsIHtcbiAgICAgICAgdXJsOiAnP3BhZ2UnLFxuICAgICAgICB0ZW1wbGF0ZTogJzxwcm9jZXNzLXRpcHM+PC9wcm9jZXNzLXRpcHM+JyxcbiAgICAgICAgdGl0bGU6ICfmj5DnpLror53mnK8nLFxuICAgICAgICBzaWRlYmFyTWV0YToge1xuICAgICAgICAgIG9yZGVyOiAzMFxuICAgICAgICB9XG4gICAgfSlcbiAgICAuc3RhdGUoJ3Byb2Nlc3MuYWRkJywge1xuICAgICAgdXJsOiAnL2FkZD9pZCcsXG4gICAgICB0ZW1wbGF0ZTogJzxwcm9jZXNzLWFkZD48L21lc3NhZ2UtYWRkPicsXG4gICAgICB0aXRsZTogJ+a3u+WKoOivneacrycsXG4gICAgICBzaWRlYmFyTWV0YToge1xuICAgICAgICBvcmRlcjogMzBcbiAgICAgIH1cbiAgICB9KVxuICAgIDtcblxufVxuXG5leHBvcnQgZGVmYXVsdCBDb25maWc7XG4iLCJpbXBvcnQgYW5ndWxhciBmcm9tICdhbmd1bGFyJztcbmltcG9ydCBjb25maWcgIGZyb20gJy4vY29uZmlnJztcbmltcG9ydCBzZXJ2aWNlIGZyb20gJy4vc2VydmljZSc7XG4vLyBpbXBvcnQgTGlzdCAgZnJvbSAnLi9saXN0Lyc7XG5pbXBvcnQgQWRkIGZyb20gJy4vYWRkLyc7XG5pbXBvcnQgVGlwcyBmcm9tICcuL3RpcHMvJztcblxuLy8gaW1wb3J0IGRlbW9TZXJ2aWNlICAgICAgZnJvbSAnLi9zZXJ2aWNlcy9kZW1vLnNlcnZpY2UnO1xuXG5cblxuXG5leHBvcnQgZGVmYXVsdCBhbmd1bGFyLm1vZHVsZSgnYXBwLm1vZHVsZXMucHJvY2VzcycsIFtdKVxuLy8gLmZpbHRlcignZmlsdGVyVHlwZScsIGZpbHRlclR5cGUpXG4uc2VydmljZSgnUHJvY2Vzc1NlcnZpY2UnLCBzZXJ2aWNlKVxuXG4uY29tcG9uZW50KCdwcm9jZXNzVGlwcycsIFRpcHMpXG4uY29tcG9uZW50KCdwcm9jZXNzQWRkJywgQWRkKVxuLmNvbmZpZyhjb25maWcpO1xuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgU2VydmljZSB7XG4gIGNvbnN0cnVjdG9yKCRodHRwLCBodHRwSGVscGVyLCAkcm9vdFNjb3BlLCAkc3RhdGUsIEFwaU1hcCkge1xuICAgICduZ0luamVjdCc7XG5cbiAgICB0aGlzLl9odHRwID0gJGh0dHA7XG4gICAgLy8gdGhpcy4kcSA9ICRxO1xuICAgIHRoaXMuX2h0dHBIZWxwZXIgPSBodHRwSGVscGVyO1xuXG4gICAgdGhpcy5fYXBpID0gQXBpTWFwLnByb2Nlc3M7XG5cbiAgICB0aGlzLl9yb290U2NvcGUgPSAkcm9vdFNjb3BlO1xuICAgIHRoaXMuX3N0YXRlID0gJHN0YXRlO1xuICB9XG5cbiAgZ2V0KGlkKSB7XG4gICAgXG4gICAgdGhpcy5faHR0cEhlbHBlci5ibG9ja1VJLnN0YXJ0KCk7XG5cbiAgICByZXR1cm4gdGhpcy5faHR0cC5nZXQodGhpcy5fYXBpLmdldC5yZXBsYWNlKC9cXHtpZFxcfS8sIGlkKSkudGhlbih0aGlzLl9odHRwSGVscGVyLnZlcmlmeSwgIHRoaXMuX2h0dHBIZWxwZXIuZXJyb3IpO1xuICB9XG5cbiAgZ2V0TGlzdChwYXJhbXMpIHtcbiAgICBcbiAgICB0aGlzLl9odHRwSGVscGVyLmJsb2NrVUkuc3RhcnQoKTtcblxuICAgIHJldHVybiB0aGlzLl9odHRwLnBvc3QodGhpcy5fYXBpLmdldExpc3QsIHBhcmFtcykudGhlbih0aGlzLl9odHRwSGVscGVyLnZlcmlmeSwgIHRoaXMuX2h0dHBIZWxwZXIuZXJyb3IpO1xuICB9XG5cbiAgc2V0KGRhdGEpIHtcbiAgICBcbiAgICB0aGlzLl9odHRwSGVscGVyLmJsb2NrVUkuc3RhcnQoKTtcblxuICAgIHJldHVybiB0aGlzLl9odHRwLnBvc3QodGhpcy5fYXBpLnNldCwgZGF0YSkudGhlbih0aGlzLl9odHRwSGVscGVyLnZlcmlmeSwgIHRoaXMuX2h0dHBIZWxwZXIuZXJyb3IpO1xuICB9XG5cbiAgdGlwc0dldChpZCkge1xuICAgIFxuICAgIHRoaXMuX2h0dHBIZWxwZXIuYmxvY2tVSS5zdGFydCgpO1xuXG4gICAgcmV0dXJuIHRoaXMuX2h0dHAuZ2V0KHRoaXMuX2FwaS50aXBzR2V0LnJlcGxhY2UoL1xce2lkXFx9LywgaWQpKS50aGVuKHRoaXMuX2h0dHBIZWxwZXIudmVyaWZ5LCAgdGhpcy5faHR0cEhlbHBlci5lcnJvcik7XG4gIH1cblxuICB0aXBzTGlzdChwYXJhbXMpIHtcbiAgICBcbiAgICB0aGlzLl9odHRwSGVscGVyLmJsb2NrVUkuc3RhcnQoKTtcblxuICAgIHJldHVybiB0aGlzLl9odHRwLnBvc3QodGhpcy5fYXBpLnRpcHNMaXN0LCBwYXJhbXMpLnRoZW4odGhpcy5faHR0cEhlbHBlci52ZXJpZnksICB0aGlzLl9odHRwSGVscGVyLmVycm9yKTtcbiAgfVxuXG4gIHRpcHNTZXQoZGF0YSkge1xuICAgIFxuICAgIHRoaXMuX2h0dHBIZWxwZXIuYmxvY2tVSS5zdGFydCgpO1xuXG4gICAgcmV0dXJuIHRoaXMuX2h0dHAucG9zdCh0aGlzLl9hcGkudGlwc1NldCwgZGF0YSkudGhlbih0aGlzLl9odHRwSGVscGVyLnZlcmlmeSwgIHRoaXMuX2h0dHBIZWxwZXIuZXJyb3IpO1xuICB9XG5cbiAgdGlwc0FkZChkYXRhKSB7XG4gICAgXG4gICAgdGhpcy5faHR0cEhlbHBlci5ibG9ja1VJLnN0YXJ0KCk7XG5cbiAgICByZXR1cm4gdGhpcy5faHR0cC5wb3N0KHRoaXMuX2FwaS50aXBzQWRkLCBkYXRhKS50aGVuKHRoaXMuX2h0dHBIZWxwZXIudmVyaWZ5LCAgdGhpcy5faHR0cEhlbHBlci5lcnJvcik7XG4gIH1cblxuXG59IiwiaW1wb3J0IFBhZ2luYXRpb24gZnJvbSAnLi4vLi4vLi4vY29yZS9jb21wb25lbnRzL21jUGFnaW5hdGlvbi9tYy1wYWdpbmF0aW9uLmNsYXNzJztcblxuY2xhc3MgTGlzdENvbnRyb2xsZXIgZXh0ZW5kcyBQYWdpbmF0aW9uIHtcblxuICBjb25zdHJ1Y3RvcigkaW5qZWN0b3IsICRzdGF0ZSwgJGxvY2F0aW9uLCAkc3RhdGVQYXJhbXMsIHRvYXN0ciwgJHVpYk1vZGFsLCBQcm9jZXNzU2VydmljZSkge1xuICAgICduZ0luamVjdCc7XG5cbiAgICBzdXBlcigkaW5qZWN0b3IpO1xuXG4gICAgdGhpcy5fc3RhdGUgPSAkc3RhdGU7XG4gICAgdGhpcy5fbG9jYXRpb24gPSAkbG9jYXRpb247XG4gICAgdGhpcy5fc3RhdGVQYXJhbXMgPSAkc3RhdGVQYXJhbXM7XG4gICAgdGhpcy5fbW9kYWwgPSAkdWliTW9kYWw7XG5cbiAgICB0aGlzLl90b2FzdHIgPSB0b2FzdHI7XG5cbiAgICB0aGlzLl9zZXJ2aWNlID0gUHJvY2Vzc1NlcnZpY2U7XG5cbiAgICB0aGlzLmZpbHRlcnMgPSB7fTtcblxuICAgIHRoaXMuX2luaXQoKTtcblxuICB9XG5cbiAgX2luaXQoKSB7XG5cbiAgICB0aGlzLl9pbml0RmlsdGVycygpO1xuICAgIHRoaXMuX2dldExpc3QoKTtcblxuICB9XG5cbiAgX2luaXRGaWx0ZXJzKCkge1xuICAgIC8vIGNvbnNvbGUubG9nKHRoaXMuX3N0YXRlUGFyYW1zKTtcbiAgICBjb25zdCBzdGF0ZVBhcmFtcyA9IHRoaXMuX3N0YXRlUGFyYW1zO1xuICAgIC8vIHRoaXMucGFnaW5hdGlvbi5wYWdlID0gK3N0YXRlUGFyYW1zLnBhZ2U7XG4gICAgLy8gdGhpcy5maWx0ZXJzLmdlbmRlciA9ICtzdGF0ZVBhcmFtcy5nZW5kZXIgfHwgdm9pZCgwKTtcblxuICAgIHRoaXMuZmlsdGVycy5rZXl3b3JkID0gc3RhdGVQYXJhbXMua2V5d29yZCB8fCB2b2lkKDApO1xuXG4gIH1cbiAgXG4gIF9nZXRMaXN0KCkge1xuXG4gICAgbGV0IHBhcmFtcyA9IHRoaXMuX2ZpbHRlckVtcHR5VmFsdWUoKTtcbiAgICAvLyBwYXJhbXMucGFnZVNpemUgPSB0aGlzLnBhZ2luYXRpb24ucGFnZVNpemU7XG4gICAgcGFyYW1zLnBhZ2UgPSB0aGlzLnBhZ2luYXRpb24ucGFnZTtcblxuICAgIHRoaXMuX3NlcnZpY2UudGlwc0xpc3QocGFyYW1zKS50aGVuKGRhdGEgPT4ge1xuICAgICAgY29uc29sZS5sb2coZGF0YSk7XG4gICAgICB0aGlzLmxpc3QgPSBkYXRhLmNtX3RpcHM7XG4gICAgICB0aGlzLnBhZ2luYXRpb24uY291bnQgPSBkYXRhLnBhZ2VfY291bnQgKiB0aGlzLnBhZ2luYXRpb24ucGFnZVNpemU7XG4gICAgfSk7XG5cbiAgICAvLyB0aGlzLmxpc3QgPSBbXG4gICAgLy8gICAgICAgICAgICAge2lkOiAxLCB0aXRsZTogJ+WNleeLrOeahOihqOWNleaOp+S7tuS8muiiq+iHquWKqOi1i+S6iOS4gOS6m+WFqOWxgOagt+W8jycsIGxpbms6ICcvJywgY29udGVudDogJ+WNleeLrOeahOihqOWNleaOp+S7tuS8muiiq+iHquWKqOi1i+S6iOS4gOS6m+WFqOWxgOagt+W8j+OAguaJgOacieiuvue9ruS6hiAuZm9ybS1jb250cm9sIOexu+eahCA8aW5wdXQ+44CBPHRleHRhcmVhPiDlkowgPHNlbGVjdD4g5YWD57Sg6YO95bCG6KKr6buY6K6k6K6+572u5a695bqm5bGe5oCn5Li6IHdpZHRoOiAxMDAlO+OAgiDlsIYgbGFiZWwg5YWD57Sg5ZKM5YmN6Z2i5o+Q5Yiw55qE5o6n5Lu25YyF6KO55ZyoIC5mb3JtLWdyb3VwIOS4reWPr+S7peiOt+W+l+acgOWlveeahOaOkuWIl+OAgid9LFxuICAgIC8vICAgICAgICAgICAgIHtpZDogMiwgdGl0bGU6ICfljZXni6znmoTooajljZXmjqfku7bkvJrooqvoh6rliqjotYvkuojkuIDkupvlhajlsYDmoLflvI8nLCBsaW5rOiAnLycsIGNvbnRlbnQ6ICfljZXni6znmoTooajljZXmjqfku7bkvJrooqvoh6rliqjotYvkuojkuIDkupvlhajlsYDmoLflvI/jgILmiYDmnInorr7nva7kuoYgLmZvcm0tY29udHJvbCDnsbvnmoQgPGlucHV0PuOAgTx0ZXh0YXJlYT4g5ZKMIDxzZWxlY3Q+IOWFg+e0oOmDveWwhuiiq+m7mOiupOiuvue9ruWuveW6puWxnuaAp+S4uiB3aWR0aDogMTAwJTvjgIIg5bCGIGxhYmVsIOWFg+e0oOWSjOWJjemdouaPkOWIsOeahOaOp+S7tuWMheijueWcqCAuZm9ybS1ncm91cCDkuK3lj6/ku6XojrflvpfmnIDlpb3nmoTmjpLliJfjgIInfSxcbiAgICAvLyAgICAgICAgICAgXTtcbiAgICAvLyB0aGlzLnBhZ2luYXRpb24uY291bnQgPSAyMDtcblxuICB9XG5cbiAgdG9nZ2xlQWxsKCkge1xuICAgIGlmKHRoaXMubGlzdCkge1xuICAgICAgdGhpcy5saXN0LmZvckVhY2goaXRlbSA9PiBpdGVtLmNoZWNrZWQgPSB0aGlzLnNlbGVjdEFsbCk7XG4gICAgfVxuICB9XG5cbiAgY2hlY2tBbGwoKSB7XG4gICAgaWYodGhpcy5saXN0KSB7XG4gICAgICBsZXQgdW5jaGVja2VkTGlzdCA9IHRoaXMubGlzdC5maWx0ZXIoaXRlbSA9PiAhaXRlbS5jaGVja2VkKTtcbiAgICAgIGxldCBsZW4gPSB1bmNoZWNrZWRMaXN0Lmxlbmd0aDtcblxuICAgICAgaWYobGVuID4gMCkge1xuICAgICAgICB0aGlzLnNlbGVjdEFsbCA9IGZhbHNlO1xuICAgICAgfSBlbHNlIGlmIChsZW4gPSB0aGlzLmxpc3QubGVuZ3RoKSB7XG4gICAgICAgIHRoaXMuc2VsZWN0QWxsID0gdHJ1ZTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBiYXRjaE1hcmtlZFJlYWQoKSB7XG4gICAgaWYodGhpcy5saXN0KSB7XG4gICAgICBsZXQgY2hlY2tlZExpc3QgPSB0aGlzLmxpc3QuZmlsdGVyKGl0ZW0gPT4gaXRlbS5jaGVja2VkKTtcblxuICAgICAgY2hlY2tlZExpc3QuZm9yRWFjaChpdGVtID0+IGl0ZW0uaXNSZWFkID0gdHJ1ZSk7XG4gICAgfVxuICB9XG5cbiAgYmF0Y2hSZW1vdmUoKSB7XG4gICAgaWYodGhpcy5saXN0KSB7XG4gICAgICB0aGlzLmxpc3QgPSB0aGlzLmxpc3QuZmlsdGVyKGl0ZW0gPT4gIWl0ZW0uY2hlY2tlZCk7XG5cbiAgICAgIC8vIGNoZWNrZWRMaXN0LmZvckVhY2goaXRlbSA9PiBpdGVtLmlzUmVhZCA9IHRydWUpO1xuICAgICAgdGhpcy5fdG9hc3RyLnN1Y2Nlc3MoJ+WIoOmZpOaIkOWKnyEnKTtcbiAgICAgIHRoaXMuX3N0YXRlLnJlbG9hZCgpO1xuICAgIH1cbiAgfVxuXG4gIGdldENoZWNrZWRJZHMoKSB7XG4gICAgaWYodGhpcy5saXN0KSB7XG4gICAgICBsZXQgY2hlY2tlZExpc3QgPSB0aGlzLmxpc3QuZmlsdGVyKGl0ZW0gPT4gaXRlbS5jaGVja2VkKTtcblxuICAgICAgcmV0dXJuIGNoZWNrZWRMaXN0Lm1hcChpdGVtID0+IGl0ZW0uaWQpO1xuICAgIH1cblxuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIG1hcmtlZFJlYWQoKSB7XG4gICAgY29uc3QgaWRzID0gdGhpcy5nZXRDaGVja2VkSWRzKCk7XG5cbiAgICBpZihpZHMgJiYgaWRzLmxlbmd0aCkge1xuICAgICAgY29uc29sZS5sb2coaWRzKTtcblxuICAgICAgdGhpcy5fc2VydmljZS5yZWFkKHtpZHN9KS50aGVuKGRhdGEgPT4ge1xuICAgICAgICAvLyB0aGlzLl90b2FzdHIuc3VjY2VzcygnJyk7XG4gICAgICAgIHRoaXMuYmF0Y2hNYXJrZWRSZWFkKCk7XG4gICAgICB9KTtcbiAgICB9XG4gIH1cblxuICBkZWxldGUoKSB7XG4gICAgY29uc3QgaWRzID0gdGhpcy5nZXRDaGVja2VkSWRzKCk7XG5cbiAgICBpZihpZHMgJiYgaWRzLmxlbmd0aCkge1xuICAgICAgY29uc29sZS5sb2coaWRzKTtcbiAgICAgIHRoaXMuX3NlcnZpY2UuZGVsZXRlKHtpZHN9KS50aGVuKGRhdGEgPT4ge1xuICAgICAgICAvLyB0aGlzLl90b2FzdHIuc3VjY2VzcygnJyk7XG4gICAgICAgIHRoaXMuYmF0Y2hSZW1vdmUoKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuXG5cbn1cblxuZXhwb3J0IGRlZmF1bHQgTGlzdENvbnRyb2xsZXI7XG4iLCJpbXBvcnQgQ29udHJvbGxlciBmcm9tICcuL2N0cmwnO1xuXG5jb25zdCBUaXBzID0ge1xuICB0ZW1wbGF0ZVVybDogJ21vZHVsZXMvcHJvY2Vzcy90aXBzL3RlbXBsYXRlLmh0bWwnLFxuICBjb250cm9sbGVyOiBDb250cm9sbGVyLFxuICBjb250cm9sbGVyQXM6ICd2bSdcbn07XG5cbmV4cG9ydCBkZWZhdWx0IFRpcHM7XG4iLCJmdW5jdGlvbiBDb25maWcoJHN0YXRlUHJvdmlkZXIpIHtcbiAgJ25nSW5qZWN0JztcblxuICAkc3RhdGVQcm92aWRlclxuICAgIC5zdGF0ZSgnc3lzY29uZmlnJywge1xuICAgICAgICB1cmw6ICcvc3lzY29uZmlnJyxcbiAgICAgICAgYWJzdHJhY3Q6IHRydWUsXG4gICAgICAgIHRlbXBsYXRlIDogJzx1aS12aWV3PjwvdWktdmlldz4nLFxuICAgICAgICB0aXRsZTogJ+ezu+e7n+iuvue9ricsXG4gICAgICAgIHNpZGViYXJNZXRhOiB7XG4gICAgICAgICAgaWNvbjogJ2ljb24tc2lkZWJhcl9tZW1iZXJzX2ljJyxcbiAgICAgICAgICBvcmRlcjogMTAwMCxcbiAgICAgICAgfVxuICAgIH0pXG4gICAgLnN0YXRlKCdzeXNjb25maWcudGltZScsIHtcbiAgICAgICAgdXJsOiAnL3RpbWUnLFxuICAgICAgICB0ZW1wbGF0ZTogJzx0aW1lLXZpZXc+PC90aW1lLXZpZXc+JyxcbiAgICAgICAgdGl0bGU6ICfliLfmlrDml7bpl7Torr7nva4nLFxuICAgICAgICBzaWRlYmFyTWV0YToge1xuICAgICAgICAgIG9yZGVyOiAxMFxuICAgICAgICB9XG4gICAgfSlcbiAgICA7XG5cbn1cblxuZXhwb3J0IGRlZmF1bHQgQ29uZmlnO1xuIiwiaW1wb3J0IGFuZ3VsYXIgZnJvbSAnYW5ndWxhcic7XG5pbXBvcnQgYm9vdHN0cmFwIGZyb20gJ2Jvb3RzdHJhcCc7XG5pbXBvcnQgY29uZmlnICBmcm9tICcuL2NvbmZpZyc7XG4vL2ltcG9ydCBzZXJ2aWNlIGZyb20gJy4vc2VydmljZSc7XG5pbXBvcnQgVGltZVZpZXcgZnJvbSAnLi90aW1lLyc7XG5cbmV4cG9ydCBkZWZhdWx0IGFuZ3VsYXIubW9kdWxlKCdhcHAubW9kdWxlcy5zeXNjb25maWcnLCBbXSlcbi8vIC5maWx0ZXIoJ2ZpbHRlclR5cGUnLCBmaWx0ZXJUeXBlKVxuLy8uc2VydmljZSgnc3lzY29uZmlnU2VydmljZScsIHNlcnZpY2UpXG5cbi5jb21wb25lbnQoJ3RpbWVWaWV3JywgVGltZVZpZXcpXG4uY29uZmlnKGNvbmZpZyk7XG4iLCJpbXBvcnQgUGFnaW5hdGlvbiBmcm9tICcuLi8uLi8uLi9jb3JlL2NvbXBvbmVudHMvbWNQYWdpbmF0aW9uL21jLXBhZ2luYXRpb24uY2xhc3MnO1xuXG5jbGFzcyBMaXN0Q29udHJvbGxlciBleHRlbmRzIFBhZ2luYXRpb24ge1xuXG4gIGNvbnN0cnVjdG9yKCRpbmplY3RvciwgJHN0YXRlLCAkbG9jYXRpb24sICRzdGF0ZVBhcmFtcywgdG9hc3RyLCAkdWliTW9kYWwsIENvbmZpZ1NlcnZpY2UpIHtcbiAgICAnbmdJbmplY3QnO1xuXG4gICAgc3VwZXIoJGluamVjdG9yKTtcblxuICAgIHRoaXMuX3N0YXRlID0gJHN0YXRlO1xuICAgIHRoaXMuX2xvY2F0aW9uID0gJGxvY2F0aW9uO1xuICAgIHRoaXMuX3N0YXRlUGFyYW1zID0gJHN0YXRlUGFyYW1zO1xuICAgIHRoaXMuX21vZGFsID0gJHVpYk1vZGFsO1xuXG4gICAgdGhpcy5fdG9hc3RyID0gdG9hc3RyO1xuXG4gICAgdGhpcy5fc2VydmljZSA9IENvbmZpZ1NlcnZpY2U7XG5cbiAgICB0aGlzLmZpbHRlcnMgPSB7fTtcbiAgICB0aGlzLl9pbml0KCk7XG5cbiAgfVxuXG4gIF9pbml0KCkge1xuICAgIHRoaXMuX2dldCgpO1xuICB9XG5cbiAgXG4gIF9nZXQoKSB7XG4gICAgLy9sZXQgcGFyYW1zID0gdGhpcy5fZmlsdGVyRW1wdHlWYWx1ZSgpO1xuXG4gICAgdGhpcy5fc2VydmljZS5nZXQoJ3JlZnJlc2hfdGltZScpLnRoZW4oZGF0YSA9PiB7XG4gICAgICBpZih0eXBlb2YoZGF0YSkgPT0gJ3N0cmluZycpIHtcbiAgICAgICAgdGhpcy5rZXlWYWx1ZSA9IGRhdGE7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICBzZXRDb25maWcoKSB7XG4gICAgY29uc3QgZGF0YSA9IHtcbiAgICAgIGtleTogXCJyZWZyZXNoX3RpbWVcIixcbiAgICAgIHZhbHVlOiB0aGlzLmtleVZhbHVlXG4gICAgfTtcbiAgICB0aGlzLl9zZXJ2aWNlLnNldChkYXRhKS50aGVuKGRhdGEgPT4ge1xuICAgICAgdGhpcy5fdG9hc3RyLnN1Y2Nlc3MoJ+iuvue9ruaIkOWKnycpO1xuICAgICAgdGhpcy5jYW5jZWwoKTtcbiAgICAgIHRoaXMuX3N0YXRlLnJlbG9hZCgpO1xuICAgIH0pXG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgTGlzdENvbnRyb2xsZXI7XG4iLCJpbXBvcnQgTGlzdENvbnRyb2xsZXIgZnJvbSAnLi9jdHJsJztcblxuY29uc3QgTGlzdCA9IHtcbiAgdGVtcGxhdGVVcmw6ICdtb2R1bGVzL3N5c2NvbmZpZy90aW1lL2luZGV4Lmh0bWwnLFxuICBjb250cm9sbGVyOiBMaXN0Q29udHJvbGxlcixcbiAgY29udHJvbGxlckFzOiAndm0nXG59O1xuXG5leHBvcnQgZGVmYXVsdCBMaXN0O1xuIiwiYW5ndWxhci5tb2R1bGUoXCJhcHAudGVtcGxhdGVzXCIsIFtdKS5ydW4oW1wiJHRlbXBsYXRlQ2FjaGVcIiwgZnVuY3Rpb24oJHRlbXBsYXRlQ2FjaGUpIHskdGVtcGxhdGVDYWNoZS5wdXQoXCJtb2R1bGVzL2Rhc2hib2FyZC9kYXNoYm9hcmQuaHRtbFwiLFwiPHNlY3Rpb24gY2xhc3M9XFxcImNvbnRlbnQgYm9keS1jb250ZW50IGJvZHktY29udGVudC1jb21wYWN0IGJsb2NrLXVpIGJsb2NrLXVpLW1lc3NhZ2UtY3VzdG9tIGRhc2hib2FyZC1jb250YWluZXJcXFwiPlxcblxcbmluZGV4XFxuXFxuPC9zZWN0aW9uPlxcblwiKTtcbiR0ZW1wbGF0ZUNhY2hlLnB1dChcImNvbW1vbi9jb21wb25lbnRzL2lubGluZS1uYXYvaW5saW5lLW5hdi5odG1sXCIsXCI8c2VjdGlvbiBjbGFzcz1cXFwiY29udGVudC1oZWFkZXIgaW5saW5lLW5hdmlnYXRpb25cXFwiPlxcbiAgPGg0IG5nLWlmPVxcXCIkY3RybC50aXRsZVxcXCI+e3sgJGN0cmwudGl0bGUgfX08L2g0PlxcbiAgPHVsIGNsYXNzPVxcXCJjbGVhcmZpeFxcXCI+XFxuICAgIDxsaSBuZy1yZXBlYXQ9XFxcIml0ZW0gaW4gJGN0cmwubmF2TGlzdFxcXCIgY2xhc3M9XFxcIm5hdi1pdGVtXFxcIj5cXG4gICAgICA8YSB1aS1zcmVmPVxcXCJ7eyBpdGVtLnN0YXRlUmVmIH19XFxcIiB1aS1zcmVmLWFjdGl2ZT1cXFwiYWN0aXZlXFxcIj57eyBpdGVtLnRpdGxlIH19PC9hPlxcbiAgICA8L2xpPlxcblxcbiAgICA8bGkgbmctcmVwZWF0PVxcXCJpdGVtIGluICRjdHJsLmJ0bkxpc3RcXFwiIGNsYXNzPVxcXCJidG4taXRlbSBwdWxsLXJpZ2h0XFxcIj5cXG4gICAgICA8YSB1aS1zcmVmPVxcXCJ7eyBpdGVtLnN0YXRlUmVmIH19XFxcIiBjbGFzcz1cXFwiYnRuIHt7IGl0ZW0uYnRuQ2xhc3MgfHwgXFwnYnRuLXN1Y2Nlc3NcXCcgfX0gbS1sLW1kXFxcIiBuZy1jbGljaz1cXFwiJGN0cmwuaGFuZGxlQ2xpY2soaXRlbSwgJGV2ZW50KTtcXFwiPnt7IGl0ZW0udGl0bGUgfX08L2E+XFxuICAgIDwvbGk+XFxuXFxuICAgIDxsaSBuZy1pZj1cXFwiJGN0cmwuYmFja0J0blxcXCIgY2xhc3M9XFxcImJ0bi1pdGVtIHB1bGwtcmlnaHRcXFwiPlxcbiAgICAgIDxhIGhyZWYgbmctY2xpY2s9XFxcIiRyb290LmJhY2soKVxcXCIgY2xhc3M9XFxcImJ0biBidG4tZGVmYXVsdFxcXCI+6L+U5ZuePC9hPlxcbiAgICA8L2xpPlxcbiAgPC91bD5cXG48L3NlY3Rpb24+XFxuXFxuPGRpdiBibG9jay11aT1cXFwibWFpblxcXCIgY2xhc3M9XFxcImJsb2NrLXVpLW1haW5cXFwiPlxcbiAgPGRpdiB1aS12aWV3PjwvZGl2PlxcbjwvZGl2PlxcblwiKTtcbiR0ZW1wbGF0ZUNhY2hlLnB1dChcImNvbW1vbi9jb21wb25lbnRzL21jLXN0ZXAvdGVtcGxhdGUuaHRtbFwiLFwiPHVsIGNsYXNzPVxcXCJtYy1zdGVwIGNsZWFyZml4IGNlbnRlci1ibG9ja1xcXCI+XFxuICA8bGkgbmctcmVwZWF0PVxcXCJpdGVtIGluIHZtLnN0ZXBMaXN0XFxcIiBuZy1jbGFzcz1cXFwie2FjdGl2ZTogaXRlbS52YWx1ZSA8PSB2bS5jdXJyZW50U3RlcCB9XFxcIj5cXG4gICAgPHA+e3tpdGVtLm5hbWV9fTwvcD5cXG4gICAgPGRpdiBjbGFzcz1cXFwic3RlcC1hcnJvd1xcXCI+PC9kaXY+XFxuICA8L2xpPlxcbjwvdWw+XFxuXCIpO1xuJHRlbXBsYXRlQ2FjaGUucHV0KFwiY29tbW9uL2NvbXBvbmVudHMvYmFjay10b3AvYmFjay10b3AuaHRtbFwiLFwiPGRpdiBjbGFzcz1cXFwiYmFjay10by10b3BcXFwiPjxpPjwvaT48L2Rpdj5cXG5cIik7XG4kdGVtcGxhdGVDYWNoZS5wdXQoXCJjb21tb24vZGlyZWN0aXZlcy9maWx0ZXItbGlzdC9maWx0ZXItbGlzdC5odG1sXCIsXCI8ZGl2IGNsYXNzPVxcXCJvcHRpb24taXRlbSB7e2NsYXp6fX1cXFwiPlxcbiAgPHNwYW4gY2xhc3M9XFxcIml0ZW0tdGl0bGVcXFwiPnt7dGl0bGV9fe+8mjwvc3Bhbj5cXG4gIDx1bCBjbGFzcz1cXFwiY2xlYXJmaXhcXFwiPlxcbiAgICA8bGk+XFxuICAgICAgPGEgaHJlZj1cXFwiamF2YXNjcmlwdDo7XFxcIiBjbGFzcz1cXFwiYnRuIGJ0bi10b2dnbGVcXFwiIG5nLWNsaWNrPVxcXCJjbGVhcktleXdvcmRGaWx0ZXIobnVsbClcXFwiXFxuICAgICAgICAgIG5nLWNsYXNzPVxcXCJ7YWN0aXZlOiAhZmlsdGVyc1tmaWx0ZXJLZXldfVxcXCI+5YWo6YOoPC9hPlxcbiAgICA8L2xpPlxcbiAgICA8bGkgbmctcmVwZWF0PVxcXCJ0eXBlIGluIGxpc3RcXFwiPlxcbiAgICAgIDxhIGhyZWY9XFxcImphdmFzY3JpcHQ6O1xcXCIgbmctY2xpY2s9XFxcImNsZWFyS2V5d29yZEZpbHRlcih0eXBlW2l0ZW1JZCB8fCBcXCdpZFxcJ10pXFxcIiB0aXRsZT1cXFwie3t0eXBlW2l0ZW1OYW1lIHx8IFxcJ25hbWVcXCddfX1cXFwiIGNsYXNzPVxcXCJidG4gYnRuLXRvZ2dsZVxcXCJcXG4gICAgICAgICAgbmctY2xhc3M9XFxcInthY3RpdmU6IGZpbHRlcnNbZmlsdGVyS2V5XSA9PSB0eXBlW2l0ZW1JZCB8fCBcXCdpZFxcJ119XFxcIj57e3R5cGVbaXRlbU5hbWUgfHwgXFwnbmFtZVxcJ119fTwvYT5cXG4gICAgPC9saT5cXG4gIDwvdWw+XFxuPC9kaXY+XFxuXCIpO1xuJHRlbXBsYXRlQ2FjaGUucHV0KFwiY29tbW9uL2RpcmVjdGl2ZXMvbWNCYXRjaFVwbG9hZEJhbmsvZXJyb3IuaHRtbFwiLFwiPGRpdiBjbGFzcz1cXFwibW9kYWwtYm9keVxcXCI+XFxuICA8aDQ+5a+85YWl57uT5p6cPC9oND5cXG5cXG4gIDxwIGNsYXNzPVxcXCJtLXQtbGdcXFwiPlxcbiAgICDlr7zlhaXmiJDlip88c3BhbiBjbGFzcz1cXFwidGV4dC1zdWNjZXNzXFxcIj57e3ZtLmNvdW50fX08L3NwYW4+5p2h77yM5aSx6LSlPHNwYW4gY2xhc3M9XFxcInRleHQtZGFuZ2VyXFxcIj57e3ZtLmVycm9yTGlzdC5sZW5ndGh9fTwvc3Bhbj7mnaHjgIJcXG4gIDwvcD5cXG4gIDxkaXYgY2xhc3M9XFxcInBhbmVsXFxcIiBuZy1pZj1cXFwidm0uZXJyb3JMaXN0Lmxlbmd0aFxcXCI+XFxuICAgIDx0YWJsZSBjbGFzcz1cXFwidGFibGUgdGFibGUtc3RyaXBlZCB0ZXh0LWNlbnRlclxcXCI+XFxuICAgICAgPHRyPlxcbiAgICAgICAgPHRoIGNsYXNzPVxcXCJ0ZXh0LWNlbnRlciBjb2wtc20tMVxcXCI+5py65p6E5ZCN56ewPC90aD5cXG4gICAgICAgIDx0aCBjbGFzcz1cXFwidGV4dC1jZW50ZXIgY29sLXNtLTFcXFwiPuS4iue6p+acuuaehDwvdGg+XFxuICAgICAgICA8dGggY2xhc3M9XFxcInRleHQtY2VudGVyIGNvbC1zbS0xXFxcIj7lpLHotKXljp/lm6A8L3RoPlxcbiAgICAgIDwvdHI+XFxuICAgICAgPHRyIG5nLXJlcGVhdD1cXFwiaXRlbSBpbiB2bS5lcnJvckxpc3RcXFwiPlxcbiAgICAgICAgPHRkPnt7aXRlbS5kYXRhWzBdfX08L3RkPlxcbiAgICAgICAgPHRkPnt7aXRlbS5kYXRhWzFdfX08L3RkPlxcbiAgICAgICAgPHRkPjxzcGFuIGNsYXNzPVxcXCJ0ZXh0LWRhbmdlclxcXCI+e3tpdGVtLnJlYXNvbn19PC9zcGFuPjwvdGQ+XFxuICAgICAgPC90cj5cXG4gICAgPC90YWJsZT5cXG4gIDwvZGl2PlxcbiAgPGRpdiBjbGFzcz1cXFwibW9kYWwtZm9vdGVyXFxcIj5cXG4gICAgPGJ1dHRvbiB0eXBlPVxcXCJidXR0b25cXFwiIGNsYXNzPVxcXCJidG4gYnRuLXN1Y2Nlc3MgYnRuLXNtXFxcIiBuZy1jbGljaz1cXFwidm0uY2FuY2VsKClcXFwiPuehruWumjwvYnV0dG9uPlxcbiAgPC9kaXY+XFxuPC9kaXY+XFxuXFxuXFxuXCIpO1xuJHRlbXBsYXRlQ2FjaGUucHV0KFwiY29tbW9uL2RpcmVjdGl2ZXMvbWNCYXRjaFVwbG9hZEJhbmsvdGVtcGxhdGUuaHRtbFwiLFwiPGRpdiBjbGFzcz1cXFwibW9kYWwtYm9keVxcXCI+XFxuICA8aDQ+5aaC5L2V5om56YeP5a+85YWlPC9oND5cXG5cXG4gIDxwIGNsYXNzPVxcXCJtLXQtbGdcXFwiPjEu5LiL6L2944CK5py65p6E5pWw5o2u5a+85YWl5qih5p2/44CL44CCXFxuICAgIDxhIHRhcmdldD1cXFwiX2JsYW5rXFxcIiBuZy1ocmVmPVxcXCJ7eyB2bS5kb3dubG9hZF91cmwgfX1cXFwiPueCueaIkeS4i+i9vTwvYT5cXG4gIDwvcD5cXG5cXG4gIDxwPjIu5bCG5py65p6E5pWw5o2u5aGr5YWl5qih5p2/5Lit5L+d5a2Y44CCPC9wPlxcblxcbiAgPHA+My7ngrnlh7vkuIrkvKDjgII8L3A+XFxuXFxuICA8YnV0dG9uIGNsYXNzPVxcXCJidG4gYnRuLXN1Y2Nlc3MgY2VudGVyLWJsb2NrXFxcIiBpZD1cXFwidXBsb2FkX2J1dHRvblxcXCIgbmctY2xpY2s9XFxcInZtLnVwbG9hZEZpbGUoJGV2ZW50KVxcXCI+5LiK5LygPC9idXR0b24+XFxuICA8Zm9ybSBjbGFzcz1cXFwiZHJvcHpvbmVcXFwiIG5nLWhpZGU9XFxcIjFcXFwiIG1ldGhvZD1cXFwicG9zdFxcXCIgZW5jdHlwZT1cXFwibXVsdGlwYXJ0L2Zvcm0tZGF0YVxcXCIgbmctZHJvcHpvbmUgZHJvcHpvbmU9XFxcImRyb3B6b25lXFxcIlxcbiAgICAgICAgZHJvcHpvbmUtY29uZmlnPVxcXCJ2bS5kcm9wem9uZUNvbmZpZ1xcXCI+XFxuICAgIDxpbnB1dCB0eXBlPVxcXCJoaWRkZW5cXFwiIG5hbWU9XFxcImV4dHJhXFxcIiB2YWx1ZT1cXFwie3tBVVRIT1JJWkFUSU9OX1RPS0VOfX1cXFwiPlxcbiAgICA8aW5wdXQgbmFtZT1cXFwiZmlsZVxcXCIgdHlwZT1cXFwiZmlsZVxcXCIgbXVsdGlwbGUvPlxcbiAgPC9mb3JtPlxcbjwvZGl2PlxcblxcblxcblwiKTtcbiR0ZW1wbGF0ZUNhY2hlLnB1dChcImNvbW1vbi9kaXJlY3RpdmVzL21jQmF0Y2hVcGxvYWRWYy9lcnJvci5odG1sXCIsXCI8ZGl2IGNsYXNzPVxcXCJtb2RhbC1ib2R5XFxcIj5cXG4gIDxoND7lr7zlhaXnu5Pmnpw8L2g0PlxcblxcbiAgPHAgY2xhc3M9XFxcIm0tdC1sZ1xcXCI+XFxuICAgIOWvvOWFpeaIkOWKnzxzcGFuIGNsYXNzPVxcXCJ0ZXh0LXN1Y2Nlc3NcXFwiPnt7dm0uY291bnR9fTwvc3Bhbj7mnaHvvIzlpLHotKU8c3BhbiBjbGFzcz1cXFwidGV4dC1kYW5nZXJcXFwiPnt7dm0uZXJyb3JMaXN0Lmxlbmd0aH19PC9zcGFuPuadoeOAglxcbiAgPC9wPlxcbiAgPGRpdiBjbGFzcz1cXFwicGFuZWxcXFwiIG5nLWlmPVxcXCJ2bS5lcnJvckxpc3QubGVuZ3RoXFxcIj5cXG4gICAgPHRhYmxlIGNsYXNzPVxcXCJ0YWJsZSB0YWJsZS1zdHJpcGVkIHRleHQtY2VudGVyXFxcIj5cXG4gICAgICA8dHI+XFxuICAgICAgICA8dGggY2xhc3M9XFxcInRleHQtY2VudGVyIGNvbC1zbS0xXFxcIj7lhazlj7jlkI3np7A8L3RoPlxcbiAgICAgICAgPHRoIGNsYXNzPVxcXCJ0ZXh0LWNlbnRlciBjb2wtc20tMVxcXCI+5YWs5Y+4566A56ewPC90aD5cXG4gICAgICAgIDx0aCBjbGFzcz1cXFwidGV4dC1jZW50ZXIgY29sLXNtLTFcXFwiPuWksei0peWOn+WboDwvdGg+XFxuICAgICAgPC90cj5cXG4gICAgICA8dHIgbmctcmVwZWF0PVxcXCJpdGVtIGluIHZtLmVycm9yTGlzdFxcXCI+XFxuICAgICAgICA8dGQ+e3tpdGVtLmRhdGFbMF19fTwvdGQ+XFxuICAgICAgICA8dGQ+e3tpdGVtLmRhdGFbMV19fTwvdGQ+XFxuICAgICAgICA8dGQ+PHNwYW4gY2xhc3M9XFxcInRleHQtZGFuZ2VyXFxcIj57e2l0ZW0ucmVhc29ufX08L3NwYW4+PC90ZD5cXG4gICAgICA8L3RyPlxcbiAgICA8L3RhYmxlPlxcbiAgPC9kaXY+XFxuICA8ZGl2IGNsYXNzPVxcXCJtb2RhbC1mb290ZXJcXFwiPlxcbiAgICA8YnV0dG9uIHR5cGU9XFxcImJ1dHRvblxcXCIgY2xhc3M9XFxcImJ0biBidG4tc3VjY2VzcyBidG4tc21cXFwiIG5nLWNsaWNrPVxcXCJ2bS5jYW5jZWwoKVxcXCI+56Gu5a6aPC9idXR0b24+XFxuICA8L2Rpdj5cXG48L2Rpdj5cXG5cXG5cXG5cIik7XG4kdGVtcGxhdGVDYWNoZS5wdXQoXCJjb21tb24vZGlyZWN0aXZlcy9tY0JhdGNoVXBsb2FkVmMvdGVtcGxhdGUuaHRtbFwiLFwiPGRpdiBjbGFzcz1cXFwibW9kYWwtYm9keVxcXCI+XFxuICA8aDQ+5aaC5L2V5om56YeP5a+85YWlPC9oND5cXG5cXG4gIDxwIGNsYXNzPVxcXCJtLXQtbGdcXFwiPjEu5LiL6L2944CK5oqV6LWE5py65p6E5pWw5o2u5a+85YWl5qih5p2/44CL44CCXFxuICAgIDxhIHRhcmdldD1cXFwiX2JsYW5rXFxcIiBuZy1ocmVmPVxcXCJ7eyB2bS5kb3dubG9hZF91cmwgfX1cXFwiPueCueaIkeS4i+i9vTwvYT5cXG4gIDwvcD5cXG5cXG4gIDxwPjIu5bCG5oqV6LWE5py65p6E5pWw5o2u5aGr5YWl5qih5p2/5Lit5L+d5a2Y44CCPC9wPlxcblxcbiAgPHA+My7ngrnlh7vkuIrkvKDjgII8L3A+XFxuXFxuICA8YnV0dG9uIGNsYXNzPVxcXCJidG4gYnRuLXN1Y2Nlc3MgY2VudGVyLWJsb2NrXFxcIiBpZD1cXFwidXBsb2FkX2J1dHRvblxcXCIgbmctY2xpY2s9XFxcInZtLnVwbG9hZEZpbGUoJGV2ZW50KVxcXCI+5LiK5LygPC9idXR0b24+XFxuICA8Zm9ybSBjbGFzcz1cXFwiZHJvcHpvbmVcXFwiIG5nLWhpZGU9XFxcIjFcXFwiIG1ldGhvZD1cXFwicG9zdFxcXCIgZW5jdHlwZT1cXFwibXVsdGlwYXJ0L2Zvcm0tZGF0YVxcXCIgbmctZHJvcHpvbmUgZHJvcHpvbmU9XFxcImRyb3B6b25lXFxcIlxcbiAgICAgICAgZHJvcHpvbmUtY29uZmlnPVxcXCJ2bS5kcm9wem9uZUNvbmZpZ1xcXCI+XFxuICAgIDxpbnB1dCB0eXBlPVxcXCJoaWRkZW5cXFwiIG5hbWU9XFxcImV4dHJhXFxcIiB2YWx1ZT1cXFwie3tBVVRIT1JJWkFUSU9OX1RPS0VOfX1cXFwiPlxcbiAgICA8aW5wdXQgbmFtZT1cXFwiZmlsZVxcXCIgdHlwZT1cXFwiZmlsZVxcXCIgbXVsdGlwbGUvPlxcbiAgPC9mb3JtPlxcbjwvZGl2PlxcblxcblxcblwiKTtcbiR0ZW1wbGF0ZUNhY2hlLnB1dChcImNvbW1vbi9kaXJlY3RpdmVzL21jQmF0Y2hVcGxvYWRVc2VyL2Vycm9yLmh0bWxcIixcIjxkaXYgY2xhc3M9XFxcIm1vZGFsLWJvZHlcXFwiPlxcbiAgPGg0PuWvvOWFpee7k+aenDwvaDQ+XFxuXFxuICA8cCBjbGFzcz1cXFwibS10LWxnXFxcIj5cXG4gICAg5a+85YWl5oiQ5YqfPHNwYW4gY2xhc3M9XFxcInRleHQtc3VjY2Vzc1xcXCI+e3t2bS5jb3VudH19PC9zcGFuPuadoe+8jOWksei0pTxzcGFuIGNsYXNzPVxcXCJ0ZXh0LWRhbmdlclxcXCI+e3t2bS5lcnJvckxpc3QubGVuZ3RofX08L3NwYW4+5p2h44CCXFxuICA8L3A+XFxuICA8ZGl2IGNsYXNzPVxcXCJwYW5lbFxcXCIgbmctaWY9XFxcInZtLmVycm9yTGlzdC5sZW5ndGhcXFwiPlxcbiAgICA8dGFibGUgY2xhc3M9XFxcInRhYmxlIHRhYmxlLXN0cmlwZWQgdGV4dC1jZW50ZXJcXFwiPlxcbiAgICAgIDx0cj5cXG4gICAgICAgIDx0aCBjbGFzcz1cXFwidGV4dC1jZW50ZXIgY29sLXNtLTFcXFwiPuaJi+acuuWPtzwvdGg+XFxuICAgICAgICA8dGggY2xhc3M9XFxcInRleHQtY2VudGVyIGNvbC1zbS0xXFxcIj7lp5PlkI08L3RoPlxcbiAgICAgICAgPHRoIGNsYXNzPVxcXCJ0ZXh0LWNlbnRlciBjb2wtc20tMVxcXCI+5aSx6LSl5Y6f5ZugPC90aD5cXG4gICAgICA8L3RyPlxcbiAgICAgIDx0ciBuZy1yZXBlYXQ9XFxcIml0ZW0gaW4gdm0uZXJyb3JMaXN0XFxcIj5cXG4gICAgICAgIDx0ZD57e2l0ZW0uZGF0YVswXX19PC90ZD5cXG4gICAgICAgIDx0ZD57e2l0ZW0uZGF0YVsxXX19PC90ZD5cXG4gICAgICAgIDx0ZD48c3BhbiBjbGFzcz1cXFwidGV4dC1kYW5nZXJcXFwiPnt7aXRlbS5yZWFzb259fTwvc3Bhbj48L3RkPlxcbiAgICAgIDwvdHI+XFxuICAgIDwvdGFibGU+XFxuICA8L2Rpdj5cXG4gIDxkaXYgY2xhc3M9XFxcIm1vZGFsLWZvb3RlclxcXCI+XFxuICAgIDxidXR0b24gdHlwZT1cXFwiYnV0dG9uXFxcIiBjbGFzcz1cXFwiYnRuIGJ0bi1zdWNjZXNzIGJ0bi1zbVxcXCIgbmctY2xpY2s9XFxcInZtLmNhbmNlbCgpXFxcIj7noa7lrpo8L2J1dHRvbj5cXG4gIDwvZGl2PlxcbjwvZGl2PlxcblxcblxcblwiKTtcbiR0ZW1wbGF0ZUNhY2hlLnB1dChcImNvbW1vbi9kaXJlY3RpdmVzL21jQmF0Y2hVcGxvYWRVc2VyL3RlbXBsYXRlLmh0bWxcIixcIjxkaXYgY2xhc3M9XFxcIm1vZGFsLWJvZHlcXFwiPlxcblxcbiAgPGg0PuWmguS9leaJuemHj+WvvOWFpTwvaDQ+XFxuXFxuICA8cCBjbGFzcz1cXFwibS10LWxnXFxcIj4xLuS4i+i9veOAiueUqOaIt+WvvOWFpeaooeadv+OAi+OAglxcbiAgICA8YSB0YXJnZXQ9XFxcIl9ibGFua1xcXCIgbmctaHJlZj1cXFwie3sgdm0uZG93bmxvYWRfdXJsIH19XFxcIj7ngrnmiJHkuIvovb08L2E+XFxuICA8L3A+XFxuXFxuICA8cD4yLuWwhueUqOaIt+aVsOaNruWhq+WFpeaooeadv+S4reS/neWtmOOAgjwvcD5cXG5cXG4gIDxwPjMu54K55Ye75LiK5Lyg44CCPC9wPlxcblxcbiAgPGJ1dHRvbiBjbGFzcz1cXFwiYnRuIGJ0bi1zdWNjZXNzIGNlbnRlci1ibG9ja1xcXCIgaWQ9XFxcInVwbG9hZF9idXR0b25cXFwiIG5nLWNsaWNrPVxcXCJ2bS51cGxvYWRGaWxlKCRldmVudClcXFwiPuS4iuS8oDwvYnV0dG9uPlxcbiAgPGZvcm0gY2xhc3M9XFxcImRyb3B6b25lXFxcIiBuZy1oaWRlPVxcXCIxXFxcIiBtZXRob2Q9XFxcInBvc3RcXFwiIGVuY3R5cGU9XFxcIm11bHRpcGFydC9mb3JtLWRhdGFcXFwiIG5nLWRyb3B6b25lIGRyb3B6b25lPVxcXCJkcm9wem9uZVxcXCJcXG4gICAgICAgIGRyb3B6b25lLWNvbmZpZz1cXFwidm0uZHJvcHpvbmVDb25maWdcXFwiPlxcbiAgICA8aW5wdXQgdHlwZT1cXFwiaGlkZGVuXFxcIiBuYW1lPVxcXCJleHRyYVxcXCIgdmFsdWU9XFxcInt7QVVUSE9SSVpBVElPTl9UT0tFTn19XFxcIj5cXG4gICAgPGlucHV0IG5hbWU9XFxcImZpbGVcXFwiIHR5cGU9XFxcImZpbGVcXFwiIG11bHRpcGxlLz5cXG4gIDwvZm9ybT5cXG5cXG48L2Rpdj5cXG5cIik7XG4kdGVtcGxhdGVDYWNoZS5wdXQoXCJjb3JlL2NvbXBvbmVudHMvbWNDb250ZW50SGVhZGVyL21jQ29udGVudEhlYWRlci5odG1sXCIsXCI8c2VjdGlvbiBjbGFzcz1cXFwiY29udGVudC1oZWFkZXJcXFwiPlxcbiAgaGVhZGVyXFxuPC9zZWN0aW9uPlxcblwiKTtcbiR0ZW1wbGF0ZUNhY2hlLnB1dChcImNvcmUvY29tcG9uZW50cy9tY01haW5IZWFkZXIvbWNNYWluSGVhZGVyLmh0bWxcIixcIjxoZWFkZXIgY2xhc3M9XFxcIm1haW4taGVhZGVyIGNsZWFyZml4XFxcIj5cXG4gIDxuYXYgY2xhc3M9XFxcIm5hdmJhciBuYXZiYXItc3RhdGljLXRvcFxcXCI+XFxuICAgIDx1bCBjbGFzcz1cXFwibmF2IG5hdmJhci1uYXYgcHVsbC1yaWdodFxcXCI+XFxuICAgICAgPGxpPlxcbiAgICAgICAgPGEgaHJlZj1cXFwiamF2YXNjcmlwdDo7XFxcIiB1aS1zcmVmPVxcXCJtZXNzYWdlLmxpc3RcXFwiIHVpLXNyZWYtYWN0aXZlPVxcXCJhY3RpdmVcXFwiIGNsYXNzPVxcXCJtYy1tZXNzYWdlXFxcIj5cXG4gICAgICAgICAgPGkgY2xhc3M9XFxcImljb24taGVhZGVyX21lc3NhZ2VfaWNcXFwiPjwvaT5cXG4gICAgICAgICAgPHNwYW4gY2xhc3M9XFxcImJhY2tlblxcXCIgbmctaWY9XFxcInZtLm1zZ19jb3VudFxcXCI+e3t2bS5tc2dfY291bnR9fTwvc3Bhbj5cXG4gICAgICAgIDwvYT5cXG4gICAgICA8L2xpPlxcbiAgICAgIDxsaT48YSBocmVmPVxcXCJqYXZhc2NyaXB0OjtcXFwiIG5nLWNsaWNrPVxcXCJ2bS5sb2dvdXQoKVxcXCI+PGkgY2xhc3M9XFxcImljb24taGVhZGVyX2V4aXRfaWNcXFwiPjwvaT48L2E+PC9saT5cXG4gICAgICA8bGkgY2xhc3M9XFxcImRpdmlkZXJcXFwiPjwvbGk+XFxuICAgICAgPGxpIGNsYXNzPVxcXCJ1c2VyLXByb2ZpbGVcXFwiPlxcbiAgICAgICAgPGEgaHJlZj1cXFwiamF2YXNjcmlwdDo7XFxcIiB1aS1zcmVmPVxcXCJwZXJzb24uZGV0YWlsXFxcIj5cXG4gICAgICAgICAgPCEtLSA8aW1nIG5nLXNyYz1cXFwie3t2bS5pbmZvLmF2YXRhcn19XFxcIiBhbHQ9XFxcInt7dm0uaW5mby5uYW1lfX1cXFwiPiAtLT5cXG4gICAgICAgICAgPHNwYW4+5oKo5aW977yMe3t2bS5pbmZvLm5hbWV9fTwvc3Bhbj5cXG4gICAgICAgIDwvYT5cXG4gICAgICA8L2xpPlxcbiAgICA8L3VsPlxcbiAgPC9uYXY+XFxuPC9oZWFkZXI+XFxuXCIpO1xuJHRlbXBsYXRlQ2FjaGUucHV0KFwiY29yZS9jb21wb25lbnRzL21jUGFnaW5hdGlvbi9pbmRleC5odG1sXCIsXCJcXG48ZGl2IGNsYXNzPVxcXCJyb3cgdGV4dC1jZW50ZXJcXFwiIG5nLWlmPVxcXCJ2bS50b3RhbEl0ZW1zXFxcIj5cXG4gIDx1aWItcGFnaW5hdGlvbiB0b3RhbC1pdGVtcz1cXFwidm0udG90YWxJdGVtc1xcXCIgaXRlbXMtcGVyLXBhZ2U9XFxcInZtLml0ZW1zUGVyUGFnZVxcXCIgbWF4LXNpemU9XFxcIjVcXFwiIG5nLW1vZGVsPVxcXCJ2bS5jdXJyZW50UGFnZVxcXCIgbmctY2hhbmdlPVxcXCJ2bS5wYWdlQ2hhbmdlZCgpXFxcIiBmaXJzdC10ZXh0PVxcXCLpppbpobVcXFwiIGxhc3QtdGV4dD1cXFwi5bC+6aG1XFxcIiBwcmV2aW91cy10ZXh0PVxcXCImbHQ7Jmx0O1xcXCIgbmV4dC10ZXh0PVxcXCImZ3Q7Jmd0O1xcXCIgYm91bmRhcnktbGlua3M9XFxcInRydWVcXFwiPjwvdWliLXBhZ2luYXRpb24+XFxuPC9kaXY+XFxuXCIpO1xuJHRlbXBsYXRlQ2FjaGUucHV0KFwiY29yZS9jb21wb25lbnRzL21jUGlja2VyL3RlbXBsYXRlLmh0bWxcIixcIjxkaXYgY2xhc3M9XFxcIm1vZGFsLXBpY2tlclxcXCI+XFxuICA8ZGl2IGNsYXNzPVxcXCJtb2RhbC1oZWFkZXJcXFwiPlxcbiAgICA8ZGl2IGNsYXNzPVxcXCJwaWNrZXItaGVhZGVyLWluZm8gcHVsbC1yaWdodFxcXCI+XFxuICAgICAgPGJ1dHRvbiB0eXBlPVxcXCJidXR0b25cXFwiIGNsYXNzPVxcXCJjbG9zZVxcXCIgZGF0YS1kaXNtaXNzPVxcXCJtb2RhbFxcXCIgYXJpYS1sYWJlbD1cXFwiQ2xvc2VcXFwiIG5nLWNsaWNrPVxcXCJ2bS5jYW5jZWwoKTtcXFwiPlxcbiAgICAgICAgPHNwYW4gYXJpYS1oaWRkZW49XFxcInRydWVcXFwiPiZ0aW1lczs8L3NwYW4+XFxuICAgICAgPC9idXR0b24+XFxuICAgICAg5YWxIHt7dm0ubGlzdC5sZW5ndGh9fSB7e3ZtLm9wdGlvbnMuaXRlbVVuaXR9fXt7dm0ub3B0aW9ucy5pdGVtVHlwZX19XFxuICAgIDwvZGl2PlxcblxcblxcbiAgICA8aDQgY2xhc3M9XFxcIm1vZGFsLXRpdGxlXFxcIj57e3ZtLm9wdGlvbnMudGl0bGV9fTwvaDQ+XFxuICA8L2Rpdj5cXG4gIDxkaXYgY2xhc3M9XFxcIm1vZGFsLXBpY2tlci1ib2R5IGNsZWFyZml4XFxcIj5cXG4gICAgPGRpdiBjbGFzcz1cXFwicGlja2VyLWl0ZW1zXFxcIj5cXG4gICAgICA8ZGl2IGNsYXNzPVxcXCJpdGVtLXNlYXJjaFxcXCI+XFxuICAgICAgICA8ZGl2IGNsYXNzPVxcXCJpbnB1dC1ncm91cCBzZWFyY2gtYm94XFxcIj5cXG4gICAgICAgICAgPGlucHV0IHR5cGU9XFxcInRleHRcXFwiIHBsYWNlaG9sZGVyPVxcXCJ7e3ZtLm9wdGlvbnMuc2VhcmNoUGxhY2Vob2xkZXJ9fVxcXCIgbmctbW9kZWw9XFxcInZtLmtleXdvcmRcXFwiIGNsYXNzPVxcXCJmb3JtLWNvbnRyb2xcXFwiPlxcbiAgICAgICAgICA8c3BhbiBjbGFzcz1cXFwiaW5wdXQtZ3JvdXAtYnRuXFxcIj5cXG4gICAgICAgICAgICA8YnV0dG9uIGNsYXNzPVxcXCJidG4gYnRuLWRlZmF1bHQgc2VhcmNoXFxcIiB0eXBlPVxcXCJidXR0b25cXFwiPjxpIGNsYXNzPVxcXCJpY29uLXNlYXJjaFxcXCI+PC9pPjwvYnV0dG9uPlxcbiAgICAgICAgICA8L3NwYW4+XFxuICAgICAgICA8L2Rpdj5cXG4gICAgICA8L2Rpdj5cXG4gICAgICA8ZGw+XFxuICAgICAgICA8IS0tIDxkdD5BPC9kdD4gLS0+XFxuICAgICAgICA8ZGQ+XFxuICAgICAgICAgIDxsYWJlbCBjbGFzcz1cXFwiaXRlbSBjbGVhcmZpeFxcXCIgbmctcmVwZWF0PVxcXCJpdGVtIGluIHZtLmxpc3QgfCBmaWx0ZXI6IHZtLmtleXdvcmRcXFwiPlxcbiAgICAgICAgICAgIDxpbWcgbmctc3JjPVxcXCJ7e2l0ZW0uYXZhdGFyfX1cXFwiIGFsdD1cXFwie3tpdGVtLm5hbWV9fVxcXCIgY2xhc3M9XFxcImltZy1jaXJjbGUgYXZhdGFyLXNtYWxsXFxcIj5cXG4gICAgICAgICAgICA8cD57e2l0ZW0ubmFtZX19PC9wPlxcbiAgICAgICAgICAgIDxzcGFuIGNsYXNzPVxcXCJtYy1yYWRpb1xcXCI+XFxuICAgICAgICAgICAgICA8aW5wdXQgdHlwZT1cXFwiY2hlY2tib3hcXFwiIG5hbWU9XFxcIml0ZW1zW11cXFwiIHZhbHVlPVxcXCJ7e2l0ZW0uaWR9fVxcXCIgbmctY2xpY2s9XFxcInZtLnRvZ2dsZUl0ZW1TZWxlY3RlZChpdGVtKVxcXCIgbmctY2hlY2tlZD1cXFwiaXRlbS5zZWxlY3RlZFxcXCI+XFxuICAgICAgICAgICAgICA8aSBjbGFzcz1cXFwiaWNvbi1jaGVja1xcXCI+PC9pPlxcbiAgICAgICAgICAgIDwvc3Bhbj5cXG4gICAgICAgICAgPC9sYWJlbD5cXG4gICAgICAgIDwvZGQ+XFxuICAgICAgICA8IS0tIDxkdD5DPC9kdD5cXG4gICAgICAgIDxkZD5cXG4gICAgICAgIDwvZGQ+IC0tPlxcbiAgICAgIDwvZGw+XFxuICAgIDwvZGl2PlxcbiAgICA8ZGl2IGNsYXNzPVxcXCJwaWNrZXItcmVzdWx0XFxcIj5cXG4gICAgICA8aDY+5bey6YCJ5oupIHt7dm0uc2VsZWN0aW9uSXRlbS5sZW5ndGh9fSB7e3ZtLm9wdGlvbnMuaXRlbVVuaXR9fXt7dm0ub3B0aW9ucy5pdGVtUG9zaXRpb259fSA8c3BhbiBuZy1pZj1cXFwidm0ub3B0aW9ucy5tYXggPiAwXFxcIj7vvIjmnIDlpJrlj6/pgInmi6l7e3ZtLm9wdGlvbnMubWF4fX0ge3t2bS5vcHRpb25zLml0ZW1Vbml0fX3vvIk8L3NwYW4+PC9oNj5cXG4gICAgICA8dWwgbmctaWY9XFxcInZtLnNlbGVjdGlvbkl0ZW0ubGVuZ3RoID4gMFxcXCI+XFxuICAgICAgICA8bGkgY2xhc3M9XFxcIml0ZW0gY2xlYXJmaXhcXFwiIG5nLXJlcGVhdD1cXFwiaXRlbSBpbiB2bS5zZWxlY3Rpb25JdGVtXFxcIj5cXG4gICAgICAgICAgPGltZyBuZy1zcmM9XFxcInt7aXRlbS5hdmF0YXJ9fVxcXCIgYWx0PVxcXCJ7e2l0ZW0ubmFtZX19XFxcIiBjbGFzcz1cXFwiaW1nLWNpcmNsZSBhdmF0YXItc21hbGxcXFwiPlxcbiAgICAgICAgICA8cD57e2l0ZW0ubmFtZX19PC9wPlxcbiAgICAgICAgICA8cD57e3ZtLm9wdGlvbnMuaXRlbVBvc2l0aW9ufX08L3A+XFxuICAgICAgICAgIDxpIGNsYXNzPVxcXCJpY29uLWNsb3NlXFxcIiBuZy1jbGljaz1cXFwidm0udG9nZ2xlSXRlbVNlbGVjdGVkKGl0ZW0pXFxcIj48L2k+XFxuICAgICAgICA8L2xpPlxcbiAgICAgIDwvdWw+XFxuICAgIDwvZGl2PlxcbiAgPC9kaXY+XFxuXFxuICA8ZGl2IGNsYXNzPVxcXCJtb2RhbC1mb290ZXJcXFwiPlxcbiAgICA8YnV0dG9uIHR5cGU9XFxcImJ1dHRvblxcXCIgY2xhc3M9XFxcImJ0biBidG4tZGVmYXVsdCBidG4tc21cXFwiIG5nLWNsaWNrPVxcXCJ2bS5jYW5jZWwoKVxcXCI+5Y+W5raIPC9idXR0b24+XFxuICAgIDxidXR0b24gdHlwZT1cXFwiYnV0dG9uXFxcIiBjbGFzcz1cXFwiYnRuIGJ0bi1zdWNjZXNzIGJ0bi1zbVxcXCIgbmctY2xhc3M9XFxcIntkaXNhYmxlZDogKHZtLnNlbGVjdGlvbkl0ZW0ubGVuZ3RoIDwgdm0ub3B0aW9ucy5taW4gfHwgKHZtLm9wdGlvbnMubWF4ICYmIHZtLnNlbGVjdGlvbkl0ZW0ubGVuZ3RoID4gdm0ub3B0aW9ucy5tYXgpKX1cXFwiIG5nLWNsaWNrPVxcXCJ2bS5vaygpXFxcIj7noa7lrpo8L2J1dHRvbj5cXG4gIDwvZGl2PlxcbjwvZGl2PlxcblwiKTtcbiR0ZW1wbGF0ZUNhY2hlLnB1dChcImNvcmUvY29tcG9uZW50cy9tY1NpZGViYXIvbWNTaWRlYmFyLmh0bWxcIixcIjxhc2lkZSBjbGFzcz1cXFwibWFpbi1zaWRlYmFyXFxcIj5cXG4gIDxkaXYgY2xhc3M9XFxcImhlYWRlciB0ZXh0LWNlbnRlclxcXCI+XFxuICAgIDxpbWcgbmctc3JjPVxcXCJ7e3NpZGViYXIuaW5mby5hdmF0YXJ9fVxcXCIgY2xhc3M9XFxcImF2YXRhci1taWRkbGUgaW1nLWNpcmNsZSBzaWRlYmFyLWxvZ29cXFwiIGFsdD1cXFwie3tzaWRlYmFyLmluZm8ubmFtZX19XFxcIiBzdHlsZT1cXFwiYmFja2dyb3VuZDogIzJmMzc0NjtcXFwiPlxcbiAgICA8aDYgY2xhc3M9XFxcIm0tdFxcXCI+e3tzaWRlYmFyLmluZm8ubmFtZX19PC9oNj5cXG4gIDwvZGl2PlxcblxcbiAgPCEtLSBsZWZ0IHNpZGViYXIgbWVudSAtLT5cXG4gIDx1bCBjbGFzcz1cXFwic2lkZWJhci1saXN0XFxcIiBzbGltc2Nyb2xsPVxcXCJ7aGVpZ2h0OiBcXCd7e21lbnVIZWlnaHR9fXB4XFwnfVxcXCIgc2xpbXNjcm9sbC13YXRjaD1cXFwibWVudUhlaWdodFxcXCI+XFxuICAgIDxsaSBuZy1yZXBlYXQ9XFxcIml0ZW0gaW4gc2lkZWJhci5tZW51SXRlbXNcXFwiIGNsYXNzPVxcXCJzaWRlYmFyLWxpc3QtaXRlbVxcXCIgbmctY2xhc3M9XFxcIntcXCd3aXRoLXN1Yi1tZW51XFwnOiBpdGVtLnN1Yk1lbnV9XFxcIlxcbiAgICAgICAgdWktc3JlZi1hY3RpdmU9XFxcInNlbGVjdGVkXFxcIiBtYy1zaWRlYmFyLXRvZ2dsaW5nLWl0ZW09XFxcIml0ZW1cXFwiIG5nLWlmPVxcXCJzaWRlYmFyLmFjY2Vzc1tpdGVtLm5hbWVdXFxcIj5cXG5cXG4gICAgICA8YSBuZy1pZj1cXFwiIWl0ZW0uc3ViTWVudVxcXCIgdWktc3RhdGU9XFxcIml0ZW0uc3RhdGVSZWYgfHwgXFwnXFwnXFxcIiBuZy1ocmVmPVxcXCJ7eyhpdGVtLmZpeGVkSHJlZiA/IGl0ZW0uZml4ZWRIcmVmOiBcXCdcXCcpfX1cXFwiXFxuICAgICAgICAgY2xhc3M9XFxcInNpZGViYXItbGlzdC1saW5rXFxcIj5cXG4gICAgICAgIDxpIGNsYXNzPVxcXCJpY29uIHt7IGl0ZW0uaWNvbiB9fVxcXCI+PC9pPjxzcGFuPnt7IGl0ZW0udGl0bGUgfX08L3NwYW4+XFxuICAgICAgPC9hPlxcblxcbiAgICAgIDxhIG5nLWlmPVxcXCJpdGVtLnN1Yk1lbnVcXFwiIGNsYXNzPVxcXCJzaWRlYmFyLWxpc3QtbGlua1xcXCIgbWMtdWktc3JlZi10b2dnbGVyPlxcbiAgICAgICAgPGkgY2xhc3M9XFxcImljb24ge3sgaXRlbS5pY29uIH19XFxcIj48L2k+XFxuICAgICAgICA8c3Bhbj57eyBpdGVtLnRpdGxlIH19PC9zcGFuPlxcbiAgICAgICAgPGkgbmctaWY9XFxcIml0ZW0uc3ViTWVudVxcXCIgY2xhc3M9XFxcImljb24tYW5nbGUtcmlnaHRcXFwiIHVpLXNyZWYtYWN0aXZlPVxcXCJpY29uLWFuZ2xlLWRvd25cXFwiPjwvaT5cXG4gICAgICA8L2E+XFxuXFxuICAgICAgPCEtLSBzdWJtZW51IC0tPlxcbiAgICAgIDx1bCBuZy1pZj1cXFwiaXRlbS5zdWJNZW51XFxcIiBjbGFzcz1cXFwic2lkZWJhci1zdWJsaXN0XFxcIiBuZy1jbGFzcz1cXFwie1xcJ3NsaWRlLXJpZ2h0XFwnOiBpdGVtLnNsaWRlUmlnaHR9XFxcIiBtYy11aS1zcmVmLXRvZ2dsaW5nLXN1Ym1lbnU+XFxuICAgICAgICA8bGkgbmctcmVwZWF0PVxcXCJzdWJpdGVtIGluIGl0ZW0uc3ViTWVudVxcXCIgbmctY2xhc3M9XFxcIntcXCd3aXRoLXN1Yi1tZW51XFwnOiBzdWJpdGVtLnN1Yk1lbnV9XFxcIiB1aS1zcmVmLWFjdGl2ZT1cXFwic2VsZWN0ZWRcXFwiXFxuICAgICAgICAgICAgbWMtc2lkZWJhci10b2dnbGluZy1pdGVtPVxcXCJzdWJpdGVtXFxcIiBjbGFzcz1cXFwic2lkZWJhci1zdWJsaXN0LWl0ZW1cXFwiIG5nLWlmPVxcXCJzaWRlYmFyLmFjY2Vzc1tzdWJpdGVtLm5hbWVdXFxcIj5cXG4gICAgICAgICAgPGEgbmctaWY9XFxcInN1Yml0ZW0uc3ViTWVudVxcXCIgbWMtdWktc3JlZi10b2dnbGVyIGNsYXNzPVxcXCJzaWRlYmFyLWxpc3QtbGluayBzdWJpdGVtLXN1Ym1lbnUtbGlua1xcXCI+XFxuICAgICAgICAgICAgPHNwYW4+e3sgc3ViaXRlbS50aXRsZSB9fTwvc3Bhbj5cXG4gICAgICAgICAgICA8aSBuZy1pZj1cXFwic3ViaXRlbS5zdWJNZW51XFxcIiBuZy1jbGFzcz1cXFwie1xcJ2ljb24tYW5nbGUtZG93blxcJzogc3ViaXRlbS5leHBhbmRlZCwgXFwnaWNvbi1hbmdsZS1yaWdodFxcJzogIXN1Yml0ZW0uZXhwYW5kZWR9XFxcIj48L2k+XFxuICAgICAgICAgIDwvYT5cXG4gICAgICAgICAgPGEgbmctaWY9XFxcIighc3ViaXRlbS5zdWJNZW51ICYmIHN1Yml0ZW0uZGlzYWJsZWQpXFxcIiBocmVmIGNsYXNzPVxcXCJzaWRlYmFyLWxpc3QtbGlua1xcXCI+e3sgc3ViaXRlbS50aXRsZSB9fTwvYT5cXG4gICAgICAgICAgPGEgbmctaWY9XFxcIighc3ViaXRlbS5zdWJNZW51ICYmICFzdWJpdGVtLmRpc2FibGVkKVxcXCIgdWktc3RhdGU9XFxcInN1Yml0ZW0uc3RhdGVSZWYgfHwgXFwnXFwnXFxcIlxcbiAgICAgICAgICAgICBuZy1ocmVmPVxcXCJ7eyhzdWJpdGVtLmZpeGVkSHJlZiA/IHN1Yml0ZW0uZml4ZWRIcmVmOiBcXCdcXCcpfX1cXFwiPlxcbiAgICAgICAgICAgICB7eyBzdWJpdGVtLnRpdGxlfX1cXG4gICAgICAgICAgPC9hPlxcbiAgICAgICAgPC9saT5cXG4gICAgICA8L3VsPjwhLS0gL3N1Ym1lbnUgLS0+XFxuICAgIDwvbGk+XFxuICA8L3VsPjwhLS0gL2xlZnQgc2lkZWJhciBtZW51IC0tPlxcbjwvYXNpZGU+XFxuXCIpO1xuJHRlbXBsYXRlQ2FjaGUucHV0KFwiY29yZS9kaXJlY3RpdmVzL21jRGF0ZVBpY2tlci9kYXRlcGlja2VyLmh0bWxcIixcIjxkaXYgY2xhc3M9XFxcImJ0bi1ncm91cCBtYy1kYXRlcGlja2VyXFxcIiBuZy1jbGljaz1cXFwic2hvd0RhdGVQaWNrZXIoJGV2ZW50KVxcXCI+XFxuICA8YnV0dG9uIHR5cGU9XFxcImJ1dHRvblxcXCIgY2xhc3M9XFxcImJ0biBidG4tZGVmYXVsdFxcXCIgbmctc2hvdz1cXFwic3RhcnREYXRlXFxcIj5cXG4gICAgICAgIDxzcGFuPnt7c3RhcnREYXRlLmZvcm1hdChcXCdZWVlZXFwnKSArIFxcJ+W5tFxcJ319PC9zcGFuPlxcbiAgICAgICAgPHNwYW4gbmctaWY9XFxcIm1pblZpZXcgIT0gXFwneWVhclxcJyBcXFwiPnt7c3RhcnREYXRlLmZvcm1hdChcXCdNTVxcJykgKyBcXCfmnIhcXCd9fTwvc3Bhbj5cXG4gICAgICAgIDxzcGFuIG5nLWlmPVxcXCJtaW5WaWV3ICE9IFxcJ3llYXJcXCcgJiYgbWluVmlldyAhPSBcXCdtb250aFxcJyBcXFwiPnt7c3RhcnREYXRlLmZvcm1hdChcXCdERFxcJykgKyBcXCfml6VcXCd9fTwvc3Bhbj5cXG4gICAgICAgIDxzcGFuIG5nLWlmPVxcXCJtaW5WaWV3ICE9IFxcJ3llYXJcXCcgJiYgbWluVmlldyAhPSBcXCdtb250aFxcJyAmJiBtaW5WaWV3ICE9IFxcJ2RhdGVcXCcgXFxcIj57eyBcXCcgXFwnICsgc3RhcnREYXRlLmZvcm1hdChcXCdISFxcJykgfX08L3NwYW4+XFxuICAgICAgICA8c3BhbiBuZy1pZj1cXFwibWluVmlldyAhPSBcXCd5ZWFyXFwnICYmIG1pblZpZXcgIT0gXFwnbW9udGhcXCcgJiYgbWluVmlldyAhPSBcXCdkYXRlXFwnICYmIG1pblZpZXcgIT0gXFwnaG91cnNcXCcgXFxcIj57eyBcXCc6IFxcJyArIHN0YXJ0RGF0ZS5mb3JtYXQoXFwnbW1cXCcpIH19PC9zcGFuPlxcbiAgPC9idXR0b24+XFxuICA8YnV0dG9uIHR5cGU9XFxcImJ1dHRvblxcXCIgY2xhc3M9XFxcImJ0biBidG4tZGVmYXVsdFxcXCIgbmctaGlkZT1cXFwic3RhcnREYXRlXFxcIj5cXG4gICAgPHNwYW4+IOKAlCA8L3NwYW4+XFxuICA8L2J1dHRvbj5cXG4gIDxidXR0b24gdHlwZT1cXFwiYnV0dG9uXFxcIiBjbGFzcz1cXFwiYnRuIGJ0bi1kZWZhdWx0IGRyb3Bkb3duLXRvZ2dsZVxcXCIgYXJpYS1oYXNwb3B1cD1cXFwidHJ1ZVxcXCJcXG4gICAgICAgICAgYXJpYS1leHBhbmRlZD1cXFwiZmFsc2VcXFwiPlxcbiAgICA8c3BhbiBjbGFzcz1cXFwiY2FyZXRcXFwiPjwvc3Bhbj5cXG4gIDwvYnV0dG9uPlxcbiAgPGRpdiBjbGFzcz1cXFwiZHJvcGRvd24tbWVudVxcXCIgbmctY2xpY2s9XFxcIiRldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcXFwiIG5nLW1vdXNlbGVhdmU9XFxcIm1vdXNlTGVhdmUoJGV2ZW50KVxcXCI+XFxuICAgIDwhLS0g5rOo77ya5q2k5aSE55qEbWluLXZpZXfnlLHniLZjb250cm9sbGVy5a6a5LmJLOiAg+iZkeWIsOWFvOWuueS7peWJjeeahOmhtemdou+8jOaJgOS7pee7meS6huS4gOS4qum7mOiupOeahG1vbnRoIC0tPlxcbiAgICA8ZGl2IGlkPVxcXCJ7e2lkfX1cXFwiIGRhdGUtcGlja2VyPVxcXCJzdGFydERhdGVcXFwiIG1pbi1kYXRlPVxcXCJtaW5EYXRlXFxcIiB2aWV3PVxcXCJ7e3ZpZXd9fVxcXCIgbWF4LWRhdGU9XFxcIm1heERhdGVcXFwiIG1pbi12aWV3PVxcXCJ7e21pblZpZXcgfHwgXFwnbW9udGhcXCd9fVxcXCIgYXV0by1jbG9zZT1cXFwidHJ1ZVxcXCIgd2F0Y2gtZGlyZWN0LWNoYW5nZXM9XFxcInRydWVcXFwiPjwvZGl2PlxcbiAgPC9kaXY+XFxuPC9kaXY+XFxuXCIpO1xuJHRlbXBsYXRlQ2FjaGUucHV0KFwiY29yZS9kaXJlY3RpdmVzL21jVXBsb2FkQXZhdGFyL3VwbG9hZC1pbWFnZS5odG1sXCIsXCI8ZGl2IGNsYXNzPVxcXCJ1cGxvYWQtY29udGVudFxcXCI+XFxuXFxuICA8ZGl2IGNsYXNzPVxcXCJjcm9wLXdhcnBwZXJcXFwiPlxcbiAgICAgIDxpbWcgbmctaWY9XFxcImRhdGFVcmxcXFwiIG5nLXNyYz1cXFwie3tkYXRhVXJsfX1cXFwiIHdpZHRoPVxcXCI4MDBcXFwiXFxuICAgICAgbmctY3JvcHBlclxcbiAgICAgIG5nLWNyb3BwZXItcHJveHk9XFxcImNyb3BwZXJQcm94eVxcXCJcXG4gICAgICBuZy1jcm9wcGVyLXNob3c9XFxcInNob3dFdmVudFxcXCJcXG4gICAgICBuZy1jcm9wcGVyLWhpZGU9XFxcImhpZGVFdmVudFxcXCJcXG4gICAgICBuZy1jcm9wcGVyLW9wdGlvbnM9XFxcIm9wdGlvbnNcXFwiPlxcblxcbiAgICAgIDxkaXYgY2xhc3M9XFxcInVwbG9hZC1wcm9ncmVzcyBjbGVhcmZpeFxcXCIgbmctc2hvdz1cXFwiZHluYW1pYyA+IDAgJiYgIXVwbG9hZGVkXFxcIj5cXG4gICAgICAgICAgPGRpdiBjbGFzcz1cXFwicHJvZ3Jlc3MtYm94XFxcIj5cXG4gICAgICAgICAgICAgIDxkaXYgY2xhc3M9XFxcInByb2dyZXNzLWJhciBwcm9ncmVzcy1iYXItc3VjY2VzcyBwcm9ncmVzcy1iYXItc3RyaXBlZCBhY3RpdmVcXFwiIHN0eWxlPVxcXCJ3aWR0aDoge3tkeW5hbWljfX0lO1xcXCI+PC9kaXY+XFxuICAgICAgICAgIDwvZGl2PlxcbiAgICAgICAgICA8c3BhbiBjbGFzcz1cXFwicHJvY2Vzcy1wZXJjZW50XFxcIj57e2R5bmFtaWN9fSU8L3NwYW4+XFxuICAgICAgPC9kaXY+XFxuXFxuICAgICAgPGRpdiBjbGFzcz1cXFwidXBsb2FkLXByb2dyZXNzIHN1Y2Nlc3NcXFwiIG5nLXNob3c9XFxcInVwbG9hZGVkXFxcIj5cXG4gICAgICAgICAgPGkgY2xhc3M9XFwnaWNvbi1jaGVja19jaXJjbGVcXCc+PC9pPiDkuIrkvKDmiJDlip/vvIFcXG4gICAgICA8L2Rpdj5cXG5cXG4gIDwvZGl2PlxcblxcbiAgPGRpdiBjbGFzcz1cXFwicHJldmlldy13YXJwcGVyXFxcIj5cXG4gICAgICA8ZGl2IGNsYXNzPVxcXCJwcmV2aWV3LWF2YXRhclxcXCI+XFxuICAgICAgICA8ZGl2PlxcbiAgICAgICAgICA8aW1nIG5nLXNyYz1cXFwie3twcmV2aWV3LmRhdGFVcmwgfHwgaW1nVXJsIHx8IFxcJy9kaXN0L2ltYWdlcy9jb21tb24vbWFuLnBuZ1xcJ319XFxcIiBpZD1cXFwiSlNfcHJldmlld19pbWFnZVxcXCIgY2xhc3M9XFxcImltZy1jaXJjbGUgYXZhdGFyLW1pZGRsZVxcXCI+XFxuICAgICAgICA8L2Rpdj5cXG4gICAgICA8L2Rpdj5cXG4gICAgICA8cD7pgInmi6kgcG5nL2pwZyDlm77niYcxMDAqMTAwPC9wPlxcbiAgICAgIDxhIGNsYXNzPVxcXCJidG4gYnRuLWRlZmF1bHRcXFwiIGhyZWY9XFxcImphdmFzY3JpcHQ6O1xcXCIgbmctY2xpY2s9XFxcImF2YXRhclZtLnNlbGVjdEZpbGUoKVxcXCI+5LiK5Lyg5Zu+54mHIC0te3tpc0VkaXRpbmd9fTwvYT5cXG4gIDwvZGl2PlxcblxcbiAgPGZvcm0gY2xhc3M9XFxcImRyb3B6b25lXFxcIiBuZy1oaWRlPVxcXCIxXFxcIiBtZXRob2Q9XFxcInBvc3RcXFwiIGVuY3R5cGU9XFxcIm11bHRpcGFydC9mb3JtLWRhdGFcXFwiIG5nLWRyb3B6b25lIGRyb3B6b25lPVxcXCJkcm9wem9uZVxcXCJcXG4gICAgICBkcm9wem9uZS1jb25maWc9XFxcImRyb3B6b25lQ29uZmlnXFxcIj5cXG4gICAgPGlucHV0IG5hbWU9XFxcInBlbnNpb25faWRcXFwiIHR5cGU9XFxcImhpZGRlblxcXCIgdmFsdWU9XFxcInt7IHBlbnNpb25JbmZvLnBlbnNpb25faWR9fVxcXCIvPlxcbiAgICA8aW5wdXQgdHlwZT1cXFwiZmlsZVxcXCIgbmFtZT1cXFwie3tmaWxlTmFtZSB8fCBcXCdmaWxlXFwnfX1cXFwiIGlkPVxcXCJKU19hdmF0YXJfaW5wdXRcXFwiPlxcbiAgICA8aW5wdXQgdHlwZT1cXFwiaGlkZGVuXFxcIiBuYW1lPVxcXCJ4XFxcIiB2YWx1ZT1cXFwie3tkYXRhLnh9fVxcXCI+XFxuICAgIDxpbnB1dCB0eXBlPVxcXCJoaWRkZW5cXFwiIG5hbWU9XFxcInlcXFwiIHZhbHVlPVxcXCJ7e2RhdGEueX19XFxcIj5cXG4gICAgPGlucHV0IHR5cGU9XFxcImhpZGRlblxcXCIgbmFtZT1cXFwid2lkdGhcXFwiIHZhbHVlPVxcXCJ7e2RhdGEud2lkdGh9fVxcXCI+XFxuICAgIDxpbnB1dCB0eXBlPVxcXCJoaWRkZW5cXFwiIG5hbWU9XFxcImhlaWdodFxcXCIgdmFsdWU9XFxcInt7ZGF0YS5oZWlnaHR9fVxcXCI+XFxuICAgIDxpbnB1dCB0eXBlPVxcXCJoaWRkZW5cXFwiIG5hbWU9XFxcIlJvdGF0ZVxcXCIgdmFsdWU9XFxcInt7ZGF0YS5Sb3RhdGV9fVxcXCI+XFxuICAgIDxpbnB1dCB0eXBlPVxcXCJoaWRkZW5cXFwiIG5hbWU9XFxcIlNjYWxlWFxcXCIgdmFsdWU9XFxcInt7ZGF0YS5TY2FsZVh9fVxcXCI+XFxuICAgIDxpbnB1dCB0eXBlPVxcXCJoaWRkZW5cXFwiIG5hbWU9XFxcIlNjYWxlWVxcXCIgdmFsdWU9XFxcInt7ZGF0YS5TY2FsZVl9fVxcXCI+XFxuICAgIDxpbnB1dCBuZy1yZXBlYXQ9XFxcInBhcmFtIGluIHBhcmFtc1xcXCIgbmFtZT1cXFwie3twYXJhbS5uYW1lfX1cXFwiIHR5cGU9XFxcImhpZGRlblxcXCIgdmFsdWU9XFxcInt7cGFyYW0udmFsdWV9fVxcXCI+XFxuICA8L2Zvcm0+XFxuXFxuPC9kaXY+XFxuXFxuXCIpO1xuJHRlbXBsYXRlQ2FjaGUucHV0KFwiY29yZS9kaXJlY3RpdmVzL21jVXBsb2FkQXZhdGFyL3VwbG9hZC5odG1sXCIsXCI8ZGl2IGNsYXNzPVxcXCJ1cGxvYWQtY29udGVudFxcXCI+XFxuXFxuICA8ZGl2IGNsYXNzPVxcXCJjcm9wLXdhcnBwZXJcXFwiPlxcbiAgICAgIDxpbWcgbmctaWY9XFxcImRhdGFVcmxcXFwiIG5nLXNyYz1cXFwie3tkYXRhVXJsfX1cXFwiIHdpZHRoPVxcXCI4MDBcXFwiXFxuICAgICAgbmctY3JvcHBlclxcbiAgICAgIG5nLWNyb3BwZXItcHJveHk9XFxcImNyb3BwZXJQcm94eVxcXCJcXG4gICAgICBuZy1jcm9wcGVyLXNob3c9XFxcInNob3dFdmVudFxcXCJcXG4gICAgICBuZy1jcm9wcGVyLWhpZGU9XFxcImhpZGVFdmVudFxcXCJcXG4gICAgICBuZy1jcm9wcGVyLW9wdGlvbnM9XFxcIm9wdGlvbnNcXFwiPlxcblxcbiAgICAgIDxkaXYgY2xhc3M9XFxcInVwbG9hZC1wcm9ncmVzcyBjbGVhcmZpeFxcXCIgbmctc2hvdz1cXFwiZHluYW1pYyA+IDAgJiYgIXVwbG9hZGVkXFxcIj5cXG4gICAgICAgICAgPGRpdiBjbGFzcz1cXFwicHJvZ3Jlc3MtYm94XFxcIj5cXG4gICAgICAgICAgICAgIDxkaXYgY2xhc3M9XFxcInByb2dyZXNzLWJhciBwcm9ncmVzcy1iYXItc3VjY2VzcyBwcm9ncmVzcy1iYXItc3RyaXBlZCBhY3RpdmVcXFwiIHN0eWxlPVxcXCJ3aWR0aDoge3tkeW5hbWljfX0lO1xcXCI+PC9kaXY+XFxuICAgICAgICAgIDwvZGl2PlxcbiAgICAgICAgICA8c3BhbiBjbGFzcz1cXFwicHJvY2Vzcy1wZXJjZW50XFxcIj57e2R5bmFtaWN9fSU8L3NwYW4+XFxuICAgICAgPC9kaXY+XFxuXFxuICAgICAgPGRpdiBjbGFzcz1cXFwidXBsb2FkLXByb2dyZXNzIHN1Y2Nlc3NcXFwiIG5nLXNob3c9XFxcInVwbG9hZGVkXFxcIj5cXG4gICAgICAgICAgPGkgY2xhc3M9XFwnaWNvbi1jaGVja19jaXJjbGVcXCc+PC9pPiDkuIrkvKDmiJDlip/vvIFcXG4gICAgICA8L2Rpdj5cXG5cXG4gIDwvZGl2PlxcblxcbiAgPGRpdiBjbGFzcz1cXFwicHJldmlldy13YXJwcGVyXFxcIj5cXG4gICAgICA8ZGl2IGNsYXNzPVxcXCJwcmV2aWV3LWF2YXRhclxcXCI+XFxuICAgICAgICA8ZGl2PlxcbiAgICAgICAgICA8aW1nIG5nLXNyYz1cXFwie3twcmV2aWV3LmRhdGFVcmwgfHwgaW1nVXJsIHx8IFxcJy9kaXN0L2ltYWdlcy9jb21tb24vbWFuLnBuZ1xcJ319XFxcIiBpZD1cXFwiSlNfcHJldmlld19pbWFnZVxcXCIgY2xhc3M9XFxcImltZy1jaXJjbGUgYXZhdGFyLW1pZGRsZVxcXCI+XFxuICAgICAgICA8L2Rpdj5cXG4gICAgICA8L2Rpdj5cXG4gICAgICA8cD7pgInmi6kgcG5nL2pwZyDlm77niYcxMDAqMTAwPC9wPlxcbiAgICAgIDxhIGNsYXNzPVxcXCJidG4gYnRuLWRlZmF1bHRcXFwiIGhyZWY9XFxcImphdmFzY3JpcHQ6O1xcXCIgbmctY2xpY2s9XFxcImF2YXRhclZtLnNlbGVjdEZpbGUoKVxcXCI+5LiK5Lyg5aS05YOPPC9hPlxcbiAgPC9kaXY+XFxuXFxuICA8Zm9ybSBjbGFzcz1cXFwiZHJvcHpvbmVcXFwiIG5nLWhpZGU9XFxcIjFcXFwiIG1ldGhvZD1cXFwicG9zdFxcXCIgZW5jdHlwZT1cXFwibXVsdGlwYXJ0L2Zvcm0tZGF0YVxcXCIgbmctZHJvcHpvbmUgZHJvcHpvbmU9XFxcImRyb3B6b25lXFxcIlxcbiAgICAgIGRyb3B6b25lLWNvbmZpZz1cXFwiZHJvcHpvbmVDb25maWdcXFwiPlxcbiAgICA8aW5wdXQgbmFtZT1cXFwicGVuc2lvbl9pZFxcXCIgdHlwZT1cXFwiaGlkZGVuXFxcIiB2YWx1ZT1cXFwie3sgcGVuc2lvbkluZm8ucGVuc2lvbl9pZH19XFxcIi8+XFxuICAgIDxpbnB1dCB0eXBlPVxcXCJmaWxlXFxcIiBuYW1lPVxcXCJ7e2ZpbGVOYW1lIHx8IFxcJ2ZpbGVcXCd9fVxcXCIgaWQ9XFxcIkpTX2F2YXRhcl9pbnB1dFxcXCI+XFxuICAgIDxpbnB1dCB0eXBlPVxcXCJoaWRkZW5cXFwiIG5hbWU9XFxcInhcXFwiIHZhbHVlPVxcXCJ7e2RhdGEueH19XFxcIj5cXG4gICAgPGlucHV0IHR5cGU9XFxcImhpZGRlblxcXCIgbmFtZT1cXFwieVxcXCIgdmFsdWU9XFxcInt7ZGF0YS55fX1cXFwiPlxcbiAgICA8aW5wdXQgdHlwZT1cXFwiaGlkZGVuXFxcIiBuYW1lPVxcXCJ3aWR0aFxcXCIgdmFsdWU9XFxcInt7ZGF0YS53aWR0aH19XFxcIj5cXG4gICAgPGlucHV0IHR5cGU9XFxcImhpZGRlblxcXCIgbmFtZT1cXFwiaGVpZ2h0XFxcIiB2YWx1ZT1cXFwie3tkYXRhLmhlaWdodH19XFxcIj5cXG4gICAgPGlucHV0IHR5cGU9XFxcImhpZGRlblxcXCIgbmFtZT1cXFwiUm90YXRlXFxcIiB2YWx1ZT1cXFwie3tkYXRhLlJvdGF0ZX19XFxcIj5cXG4gICAgPGlucHV0IHR5cGU9XFxcImhpZGRlblxcXCIgbmFtZT1cXFwiU2NhbGVYXFxcIiB2YWx1ZT1cXFwie3tkYXRhLlNjYWxlWH19XFxcIj5cXG4gICAgPGlucHV0IHR5cGU9XFxcImhpZGRlblxcXCIgbmFtZT1cXFwiU2NhbGVZXFxcIiB2YWx1ZT1cXFwie3tkYXRhLlNjYWxlWX19XFxcIj5cXG4gICAgPGlucHV0IG5nLXJlcGVhdD1cXFwicGFyYW0gaW4gcGFyYW1zXFxcIiBuYW1lPVxcXCJ7e3BhcmFtLm5hbWV9fVxcXCIgdHlwZT1cXFwiaGlkZGVuXFxcIiB2YWx1ZT1cXFwie3twYXJhbS52YWx1ZX19XFxcIj5cXG4gIDwvZm9ybT5cXG5cXG48L2Rpdj5cXG5cXG5cIik7XG4kdGVtcGxhdGVDYWNoZS5wdXQoXCJjb3JlL2RpcmVjdGl2ZXMvbWNVcGxvYWRJbWFnZS91cGxvYWQuaHRtbFwiLFwiPGRpdiBjbGFzcz1cXFwidXBsb2FkLWNvbnRlbnRcXFwiPlxcblxcbiAgPGRpdiBjbGFzcz1cXFwiY3JvcC13YXJwcGVyXFxcIj5cXG4gICAgICA8aW1nIG5nLWlmPVxcXCJkYXRhVXJsXFxcIiBuZy1zcmM9XFxcInt7ZGF0YVVybH19XFxcIiB3aWR0aD1cXFwiODAwXFxcIlxcbiAgICAgIG5nLWNyb3BwZXJcXG4gICAgICBuZy1jcm9wcGVyLXByb3h5PVxcXCJjcm9wcGVyUHJveHlcXFwiXFxuICAgICAgbmctY3JvcHBlci1zaG93PVxcXCJzaG93RXZlbnRcXFwiXFxuICAgICAgbmctY3JvcHBlci1oaWRlPVxcXCJoaWRlRXZlbnRcXFwiXFxuICAgICAgbmctY3JvcHBlci1vcHRpb25zPVxcXCJvcHRpb25zXFxcIj5cXG5cXG4gICAgICA8ZGl2IGNsYXNzPVxcXCJ1cGxvYWQtcHJvZ3Jlc3MgY2xlYXJmaXhcXFwiIG5nLXNob3c9XFxcImR5bmFtaWMgPiAwICYmICF1cGxvYWRlZFxcXCI+XFxuICAgICAgICAgIDxkaXYgY2xhc3M9XFxcInByb2dyZXNzLWJveFxcXCI+XFxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVxcXCJwcm9ncmVzcy1iYXIgcHJvZ3Jlc3MtYmFyLXN1Y2Nlc3MgcHJvZ3Jlc3MtYmFyLXN0cmlwZWQgYWN0aXZlXFxcIiBzdHlsZT1cXFwid2lkdGg6IHt7ZHluYW1pY319JTtcXFwiPjwvZGl2PlxcbiAgICAgICAgICA8L2Rpdj5cXG4gICAgICAgICAgPHNwYW4gY2xhc3M9XFxcInByb2Nlc3MtcGVyY2VudFxcXCI+e3tkeW5hbWljfX0lPC9zcGFuPlxcbiAgICAgIDwvZGl2PlxcblxcbiAgICAgIDxkaXYgY2xhc3M9XFxcInVwbG9hZC1wcm9ncmVzcyBzdWNjZXNzXFxcIiBuZy1zaG93PVxcXCJ1cGxvYWRlZFxcXCI+XFxuICAgICAgICAgIDxpIGNsYXNzPVxcJ2ljb24tY2hlY2tfY2lyY2xlXFwnPjwvaT4g5LiK5Lyg5oiQ5Yqf77yBXFxuICAgICAgPC9kaXY+XFxuXFxuICA8L2Rpdj5cXG5cXG4gIDxkaXYgY2xhc3M9XFxcInByZXZpZXctd2FycHBlclxcXCI+XFxuICAgICAgPGRpdiBjbGFzcz1cXFwicHJldmlldy1hdmF0YXJcXFwiPlxcbiAgICAgICAgPGRpdiBzdHlsZT1cXFwiYm9yZGVyLXJhZGl1czogaW5pdGlhbDt3aWR0aDogMTAwcHg7aGVpZ2h0OiAxMDBweDtcXFwiPlxcbiAgICAgICAgICA8aW1nIG5nLXNyYz1cXFwie3twcmV2aWV3LmRhdGFVcmwgfHwgaW1nVXJsIHx8IFxcJy9kaXN0L2ltYWdlcy9jb21tb24vYmdfYXZhdGFyLnBuZ1xcJ319XFxcIiBpZD1cXFwiSlNfcHJldmlld19pbWFnZVxcXCIgY2xhc3M9XFxcImF2YXRhci1taWRkbGVcXFwiXFxuICAgICAgICAgICAgc3R5bGU9XFxcIndpZHRoOiAxMDBweDtoZWlnaHQ6IDEwMHB4O1xcXCI+XFxuICAgICAgICA8L2Rpdj5cXG4gICAgICA8L2Rpdj5cXG4gICAgICA8YSBjbGFzcz1cXFwiYnRuIGJ0bi1kZWZhdWx0XFxcIiBocmVmPVxcXCJqYXZhc2NyaXB0OjtcXFwiIG5nLWNsaWNrPVxcXCJhdmF0YXJWbS5zZWxlY3RGaWxlKClcXFwiPuS4iuS8oOWbvueJhzwvYT5cXG4gIDwvZGl2PlxcblxcbiAgPGZvcm0gY2xhc3M9XFxcImRyb3B6b25lXFxcIiBuZy1oaWRlPVxcXCIxXFxcIiBtZXRob2Q9XFxcInBvc3RcXFwiIGVuY3R5cGU9XFxcIm11bHRpcGFydC9mb3JtLWRhdGFcXFwiIG5nLWRyb3B6b25lIGRyb3B6b25lPVxcXCJkcm9wem9uZVxcXCJcXG4gICAgICBkcm9wem9uZS1jb25maWc9XFxcImRyb3B6b25lQ29uZmlnXFxcIj5cXG4gICAgPGlucHV0IG5hbWU9XFxcInBlbnNpb25faWRcXFwiIHR5cGU9XFxcImhpZGRlblxcXCIgdmFsdWU9XFxcInt7IHBlbnNpb25JbmZvLnBlbnNpb25faWR9fVxcXCIvPlxcbiAgICA8aW5wdXQgdHlwZT1cXFwiZmlsZVxcXCIgbmFtZT1cXFwie3tmaWxlTmFtZSB8fCBcXCdmaWxlXFwnfX1cXFwiIGlkPVxcXCJKU19hdmF0YXJfaW5wdXRcXFwiPlxcbiAgICA8aW5wdXQgdHlwZT1cXFwiaGlkZGVuXFxcIiBuYW1lPVxcXCJ4XFxcIiB2YWx1ZT1cXFwie3tkYXRhLnh9fVxcXCI+XFxuICAgIDxpbnB1dCB0eXBlPVxcXCJoaWRkZW5cXFwiIG5hbWU9XFxcInlcXFwiIHZhbHVlPVxcXCJ7e2RhdGEueX19XFxcIj5cXG4gICAgPGlucHV0IHR5cGU9XFxcImhpZGRlblxcXCIgbmFtZT1cXFwid2lkdGhcXFwiIHZhbHVlPVxcXCJ7e2RhdGEud2lkdGh9fVxcXCI+XFxuICAgIDxpbnB1dCB0eXBlPVxcXCJoaWRkZW5cXFwiIG5hbWU9XFxcImhlaWdodFxcXCIgdmFsdWU9XFxcInt7ZGF0YS5oZWlnaHR9fVxcXCI+XFxuICAgIDxpbnB1dCB0eXBlPVxcXCJoaWRkZW5cXFwiIG5hbWU9XFxcIlJvdGF0ZVxcXCIgdmFsdWU9XFxcInt7ZGF0YS5Sb3RhdGV9fVxcXCI+XFxuICAgIDxpbnB1dCB0eXBlPVxcXCJoaWRkZW5cXFwiIG5hbWU9XFxcIlNjYWxlWFxcXCIgdmFsdWU9XFxcInt7ZGF0YS5TY2FsZVh9fVxcXCI+XFxuICAgIDxpbnB1dCB0eXBlPVxcXCJoaWRkZW5cXFwiIG5hbWU9XFxcIlNjYWxlWVxcXCIgdmFsdWU9XFxcInt7ZGF0YS5TY2FsZVl9fVxcXCI+XFxuICAgIDxpbnB1dCBuZy1yZXBlYXQ9XFxcInBhcmFtIGluIHBhcmFtc1xcXCIgbmFtZT1cXFwie3twYXJhbS5uYW1lfX1cXFwiIHR5cGU9XFxcImhpZGRlblxcXCIgdmFsdWU9XFxcInt7cGFyYW0udmFsdWV9fVxcXCI+XFxuICA8L2Zvcm0+XFxuXFxuPC9kaXY+XFxuXFxuXCIpO1xuJHRlbXBsYXRlQ2FjaGUucHV0KFwibW9kdWxlcy9hY2NvdW50L2RldGFpbC9pbmRleC5odG1sXCIsXCI8c2VjdGlvbiBjbGFzcz1cXFwiY29udGVudC1oZWFkZXIgY29sLXNtLTcgY2xlYXJmaXhcXFwiPlxcbiAgICA8aDQ+6LWE5paZ6K6+572uPC9oND5cXG4gICAgPGEgaHJlZj1cXFwiamF2YXNjcmlwdDp2b2lkKDApXFxcIiBjbGFzcz1cXFwiYnRuIGJ0bi1kZWZhdWx0IHB1bGwtcmlnaHRcXFwiIG5nLWNsaWNrPVxcXCIkcm9vdC5iYWNrKCk7XFxcIj7ov5Tlm548L2E+XFxuPC9zZWN0aW9uPlxcbjxzZWN0aW9uIGNsYXNzPVxcXCJjb250ZW50IGJvZHktY29udGVudCBjb2wtc20tNlxcXCIgYmxvY2stdWk9XFxcIm1haW5cXFwiPlxcblxcbiAgICA8ZGl2IGNsYXNzPVxcXCJmb3JtLWhvcml6b250YWwgY29sLXNtLTEwXFxcIj5cXG4gICAgICAgIDxkaXYgY2xhc3M9XFxcImZvcm0tZ3JvdXAgY29sLXNtLTEyXFxcIj5cXG4gICAgICAgICAgICA8bGFiZWwgZm9yPVxcXCJpbnB1dE5hbWVcXFwiIGNsYXNzPVxcXCJjb2wtc20tMyBjb250cm9sLWxhYmVsXFxcIj7lp5PlkI08L2xhYmVsPlxcbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XFxcImNvbC1zbS05XFxcIj5cXG4gICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9XFxcInRleHRcXFwiIGNsYXNzPVxcXCJmb3JtLWNvbnRyb2xcXFwiIGlkPVxcXCJpbnB1dE5hbWVcXFwiIG5nLW1vZGVsPVxcXCJ2bS5wZXJzb24udHJ1ZV9uYW1lXFxcIiBwbGFjZWhvbGRlcj1cXFwiXFxcIj5cXG4gICAgICAgICAgICA8L2Rpdj5cXG4gICAgICAgIDwvZGl2PlxcbiAgICAgICAgPGRpdiBjbGFzcz1cXFwiZm9ybS1ncm91cCBjb2wtc20tMTJcXFwiPlxcbiAgICAgICAgICAgIDxsYWJlbCBmb3I9XFxcImlucHV0UGhvbmVcXFwiIGNsYXNzPVxcXCJjb2wtc20tMyBjb250cm9sLWxhYmVsXFxcIj7miYvmnLrlj7c8L2xhYmVsPlxcbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XFxcImNvbC1zbS05XFxcIj5cXG4gICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9XFxcInRleHRcXFwiIGNsYXNzPVxcXCJmb3JtLWNvbnRyb2xcXFwiIGlkPVxcXCJpbnB1dFBob25lXFxcIiBuZy1tb2RlbD1cXFwidm0ucGVyc29uLnBob25lXFxcIiBwbGFjZWhvbGRlcj1cXFwiXFxcIj5cXG4gICAgICAgICAgICA8L2Rpdj5cXG4gICAgICAgIDwvZGl2PlxcbiAgICAgICAgPGRpdiBjbGFzcz1cXFwiZm9ybS1ncm91cCBjb2wtc20tMTJcXFwiPlxcbiAgICAgICAgICAgIDxsYWJlbCBmb3I9XFxcImlucHV0UHdkXFxcIiBjbGFzcz1cXFwiY29sLXNtLTMgY29udHJvbC1sYWJlbFxcXCI+5paw5a+G56CBPC9sYWJlbD5cXG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVxcXCJjb2wtc20tOVxcXCI+XFxuICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPVxcXCJ0ZXh0XFxcIiBjbGFzcz1cXFwiZm9ybS1jb250cm9sXFxcIiBpZD1cXFwiaW5wdXRQd2RcXFwiIG5nLW1vZGVsPVxcXCJ2bS5wZXJzb24ubmV3X3Bhc3N3b3JkXFxcIiBwbGFjZWhvbGRlcj1cXFwiXFxcIj5cXG4gICAgICAgICAgICA8L2Rpdj5cXG4gICAgICAgIDwvZGl2PlxcbiAgICAgICAgPGRpdiBjbGFzcz1cXFwiZm9ybS1ncm91cCBjb2wtc20tMTJcXFwiPlxcbiAgICAgICAgICAgIDxsYWJlbCBmb3I9XFxcIlxcXCIgY2xhc3M9XFxcImNvbC1zbS0zIGNvbnRyb2wtbGFiZWxcXFwiPuinkuiJsuS/oeaBrzwvbGFiZWw+XFxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cXFwiYnRuLWdyb3VwIGNvbC1zbS05XFxcIj5cXG4gICAgICAgICAgICAgIDxidXR0b24gdHlwZT1cXFwiYnV0dG9uXFxcIiBjbGFzcz1cXFwiYnRuIGJ0bi1kZWZhdWx0IGRyb3Bkb3duLXRvZ2dsZVxcXCIgZGF0YS10b2dnbGU9XFxcImRyb3Bkb3duXFxcIiBhcmlhLWhhc3BvcHVwPVxcXCJ0cnVlXFxcIiBhcmlhLWV4cGFuZGVkPVxcXCJmYWxzZVxcXCI+XFxuICAgICAgICAgICAgICAgIHt7dm0ucGVyc29uLnJvbGVfbmFtZX19XFxuICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVxcXCJjYXJldFxcXCI+PC9zcGFuPlxcbiAgICAgICAgICAgICAgPC9idXR0b24+XFxuICAgICAgICAgICAgICA8dWwgY2xhc3M9XFxcImRyb3Bkb3duLW1lbnVcXFwiPlxcbiAgICAgICAgICAgICAgICA8bGkgbmctcmVwZWF0PVxcXCJyb2xlIGluIHZtLnJvbGVMaXN0XFxcIj48YSBuZy1jbGljaz1cXFwidm0ucGVyc29uLnJvbGVfbmFtZT1yb2xlLm5hbWU7dm0ucGVyc29uLnJvbGU9cm9sZS52YWx1ZVxcXCIgaHJlZj1cXFwiamF2YXNjcmlwdDp2b2lkKDApXFxcIj57e3JvbGUubmFtZX19PC9hPjwvbGk+XFxuICAgICAgICAgICAgICA8L3VsPlxcbiAgICAgICAgICAgIDwvZGl2PlxcbiAgICAgICAgPC9kaXY+XFxuICAgICAgICA8ZGl2IGNsYXNzPVxcXCJmb3JtLWdyb3VwIGNvbC1zbS0xMlxcXCI+XFxuICAgICAgICAgICAgPGxhYmVsIGZvcj1cXFwiXFxcIiBjbGFzcz1cXFwiY29sLXNtLTMgY29udHJvbC1sYWJlbFxcXCI+55So5oi354q25oCBPC9sYWJlbD5cXG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVxcXCJidG4tZ3JvdXAgY29sLXNtLTlcXFwiPlxcbiAgICAgICAgICAgICAgPGJ1dHRvbiB0eXBlPVxcXCJidXR0b25cXFwiIGNsYXNzPVxcXCJidG4gYnRuLWRlZmF1bHQgZHJvcGRvd24tdG9nZ2xlXFxcIiBkYXRhLXRvZ2dsZT1cXFwiZHJvcGRvd25cXFwiIGFyaWEtaGFzcG9wdXA9XFxcInRydWVcXFwiIGFyaWEtZXhwYW5kZWQ9XFxcImZhbHNlXFxcIj5cXG4gICAgICAgICAgICAgICAge3t2bS5zdGF0ZUFyclt2bS5wZXJzb24uc3RhdGVdfX1cXG4gICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XFxcImNhcmV0XFxcIj48L3NwYW4+XFxuICAgICAgICAgICAgICA8L2J1dHRvbj5cXG4gICAgICAgICAgICAgIDx1bCBjbGFzcz1cXFwiZHJvcGRvd24tbWVudVxcXCI+XFxuICAgICAgICAgICAgICAgIDxsaT48YSBuZy1jbGljaz1cXFwidm0ucGVyc29uLnN0YXRlPTBcXFwiIGhyZWY9XFxcImphdmFzY3JpcHQ6dm9pZCgwKVxcXCI+5pyq5r+A5rS7PC9hPjwvbGk+XFxuICAgICAgICAgICAgICAgIDxsaT48YSBuZy1jbGljaz1cXFwidm0ucGVyc29uLnN0YXRlPTFcXFwiIGhyZWY9XFxcImphdmFzY3JpcHQ6dm9pZCgwKVxcXCI+5q2j5bi4PC9hPjwvbGk+XFxuICAgICAgICAgICAgICAgIDxsaT48YSBuZy1jbGljaz1cXFwidm0ucGVyc29uLnN0YXRlPTJcXFwiIGhyZWY9XFxcImphdmFzY3JpcHQ6dm9pZCgwKVxcXCI+5bey5Ya757uTPC9hPjwvbGk+XFxuICAgICAgICAgICAgICAgIDxsaT48YSBuZy1jbGljaz1cXFwidm0ucGVyc29uLnN0YXRlPTNcXFwiIGhyZWY9XFxcImphdmFzY3JpcHQ6dm9pZCgwKVxcXCI+5bey5Yig6ZmkPC9hPjwvbGk+XFxuICAgICAgICAgICAgICA8L3VsPlxcbiAgICAgICAgICAgIDwvZGl2PlxcbiAgICAgICAgPC9kaXY+XFxuICAgICAgICA8ZGl2IGNsYXNzPVxcXCJmb3JtLWdyb3VwXFxcIj5cXG4gICAgICAgICAgICA8YnV0dG9uIHR5cGU9XFxcImJ1dHRvblxcXCIgbmctY2xpY2s9XFxcInZtLnNldFVzZXIoKVxcXCIgY2xhc3M9XFxcImJ0biBidG4tc3VjY2Vzc1xcXCI+5o+Q5LqkPC9idXR0b24+XFxuICAgICAgICA8L2Rpdj5cXG4gICAgPC9kaXY+XFxuPC9zZWN0aW9uPlwiKTtcbiR0ZW1wbGF0ZUNhY2hlLnB1dChcIm1vZHVsZXMvYWNjb3VudC9saXN0L2luZGV4Lmh0bWxcIixcIjxzZWN0aW9uIGNsYXNzPVxcXCJjb250ZW50LWhlYWRlclxcXCI+XFxuICA8ZGl2IGNsYXNzPVxcXCJvcHRpb25zXFxcIj5cXG4gICAgPGRpdiBjbGFzcz1cXFwib3B0aW9uLWl0ZW0gb3B0aW9uLXRpbWVcXFwiPlxcbiAgICAgIDx1bCBjbGFzcz1cXFwiY2xlYXJmaXhcXFwiPlxcbiAgICAgICAgPGxpPlxcbiAgICAgICAgICA8ZGl2IGNsYXNzPVxcXCJpbnB1dC1ncm91cCBzZWFyY2gtYm94XFxcIj5cXG4gICAgICAgICAgICA8aW5wdXQgbmctbW9kZWw9XFxcInZtLmZpbHRlcnMudHJ1ZV9uYW1lXFxcIiB0eXBlPVxcXCJ0ZXh0XFxcIiBwbGFjZWhvbGRlcj1cXFwi6K+36L6T5aeT5ZCN5p+l6K+iXFxcIiBjbGFzcz1cXFwiZm9ybS1jb250cm9sXFxcIlxcbiAgICAgICAgICAgICAgICAgICAgY29kZT1cXFwiMTNcXFwiIGtleS1ldmVudD1cXFwidm0ucmVTZWFyY2goKTtcXFwiPlxcbiAgICAgICAgICAgIDxzcGFuIGNsYXNzPVxcXCJpbnB1dC1ncm91cC1idG5cXFwiPlxcbiAgICAgICAgICAgICAgPGJ1dHRvbiBuZy1jbGljaz1cXFwidm0ucmVTZWFyY2goKVxcXCIgY2xhc3M9XFxcImJ0biBidG4tZGVmYXVsdCBzZWFyY2hcXFwiIHR5cGU9XFxcImJ1dHRvblxcXCI+PGkgY2xhc3M9XFxcImljb24tc2VhcmNoXFxcIj48L2k+PC9idXR0b24+XFxuICAgICAgICAgICAgPC9zcGFuPlxcbiAgICAgICAgICA8L2Rpdj5cXG4gICAgICAgIDwvbGk+XFxuICAgICAgICA8bGk+XFxuICAgICAgICAgIDxkaXYgY2xhc3M9XFxcImlucHV0LWdyb3VwIHNlYXJjaC1ib3hcXFwiPlxcbiAgICAgICAgICAgIDxpbnB1dCBuZy1tb2RlbD1cXFwidm0uZmlsdGVycy5waG9uZVxcXCIgdHlwZT1cXFwidGV4dFxcXCIgcGxhY2Vob2xkZXI9XFxcIuivt+i+k+aJi+acuuWPt+afpeivolxcXCIgY2xhc3M9XFxcImZvcm0tY29udHJvbFxcXCJcXG4gICAgICAgICAgICAgICAgICAgIGNvZGU9XFxcIjEzXFxcIiBrZXktZXZlbnQ9XFxcInZtLnJlU2VhcmNoKCk7XFxcIj5cXG4gICAgICAgICAgICA8c3BhbiBjbGFzcz1cXFwiaW5wdXQtZ3JvdXAtYnRuXFxcIj5cXG4gICAgICAgICAgICAgIDxidXR0b24gbmctY2xpY2s9XFxcInZtLnJlU2VhcmNoKClcXFwiIGNsYXNzPVxcXCJidG4gYnRuLWRlZmF1bHQgc2VhcmNoXFxcIiB0eXBlPVxcXCJidXR0b25cXFwiPjxpIGNsYXNzPVxcXCJpY29uLXNlYXJjaFxcXCI+PC9pPjwvYnV0dG9uPlxcbiAgICAgICAgICAgIDwvc3Bhbj5cXG4gICAgICAgICAgPC9kaXY+XFxuICAgICAgICA8L2xpPlxcbiAgICAgICAgPGxpPlxcbiAgICAgICAgICA8ZGl2IGNsYXNzPVxcXCJpbnB1dC1ncm91cCBzZWFyY2gtYm94XFxcIj5cXG4gICAgICAgICAgICA8aW5wdXQgbmctbW9kZWw9XFxcInZtLmZpbHRlcnMuYmFua19uYW1lXFxcIiB0eXBlPVxcXCJ0ZXh0XFxcIiBwbGFjZWhvbGRlcj1cXFwi6K+36L6T5py65p6E5p+l6K+iXFxcIiBjbGFzcz1cXFwiZm9ybS1jb250cm9sXFxcIlxcbiAgICAgICAgICAgICAgICAgICAgY29kZT1cXFwiMTNcXFwiIGtleS1ldmVudD1cXFwidm0ucmVTZWFyY2goKTtcXFwiPlxcbiAgICAgICAgICAgIDxzcGFuIGNsYXNzPVxcXCJpbnB1dC1ncm91cC1idG5cXFwiPlxcbiAgICAgICAgICAgICAgPGJ1dHRvbiBuZy1jbGljaz1cXFwidm0ucmVTZWFyY2goKVxcXCIgY2xhc3M9XFxcImJ0biBidG4tZGVmYXVsdCBzZWFyY2hcXFwiIHR5cGU9XFxcImJ1dHRvblxcXCI+PGkgY2xhc3M9XFxcImljb24tc2VhcmNoXFxcIj48L2k+PC9idXR0b24+XFxuICAgICAgICAgICAgPC9zcGFuPlxcbiAgICAgICAgICA8L2Rpdj5cXG4gICAgICAgIDwvbGk+XFxuICAgICAgICA8bGk+XFxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cXFwiYnRuLWdyb3VwXFxcIj5cXG4gICAgICAgICAgICAgIDxidXR0b24gdHlwZT1cXFwiYnV0dG9uXFxcIiBjbGFzcz1cXFwiYnRuIGJ0bi1kZWZhdWx0IGRyb3Bkb3duLXRvZ2dsZVxcXCIgZGF0YS10b2dnbGU9XFxcImRyb3Bkb3duXFxcIiBhcmlhLWhhc3BvcHVwPVxcXCJ0cnVlXFxcIiBhcmlhLWV4cGFuZGVkPVxcXCJmYWxzZVxcXCI+XFxuICAgICAgICAgICAgICAgIHt7dm0uZmlsdGVycy5zdGF0ZT92bS5zdGF0ZUFyclt2bS5maWx0ZXJzLnN0YXRlXTpcXCflhajpg6hcXCd9fVxcbiAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cXFwiY2FyZXRcXFwiPjwvc3Bhbj5cXG4gICAgICAgICAgICAgIDwvYnV0dG9uPlxcbiAgICAgICAgICAgICAgPHVsIGNsYXNzPVxcXCJkcm9wZG93bi1tZW51XFxcIj5cXG4gICAgICAgICAgICAgICAgPGxpPjxhIG5nLWNsaWNrPVxcXCJ2bS5maWx0ZXJzLnN0YXRlPXVuZGVmaW5lZDt2bS5yZVNlYXJjaCgpXFxcIiBocmVmPVxcXCJqYXZhc2NyaXB0OnZvaWQoMClcXFwiPuWFqOmDqDwvYT48L2xpPlxcbiAgICAgICAgICAgICAgICA8bGk+PGEgbmctY2xpY2s9XFxcInZtLmZpbHRlcnMuc3RhdGU9MDt2bS5yZVNlYXJjaCgpXFxcIiBocmVmPVxcXCJqYXZhc2NyaXB0OnZvaWQoMClcXFwiPuacqua/gOa0uzwvYT48L2xpPlxcbiAgICAgICAgICAgICAgICA8bGk+PGEgbmctY2xpY2s9XFxcInZtLmZpbHRlcnMuc3RhdGU9MTt2bS5yZVNlYXJjaCgpXFxcIiBocmVmPVxcXCJqYXZhc2NyaXB0OnZvaWQoMClcXFwiPuato+W4uDwvYT48L2xpPlxcbiAgICAgICAgICAgICAgICA8bGk+PGEgbmctY2xpY2s9XFxcInZtLmZpbHRlcnMuc3RhdGU9Mjt2bS5yZVNlYXJjaCgpXFxcIiBocmVmPVxcXCJqYXZhc2NyaXB0OnZvaWQoMClcXFwiPuW3suWGu+e7kzwvYT48L2xpPlxcbiAgICAgICAgICAgICAgICA8bGk+PGEgbmctY2xpY2s9XFxcInZtLmZpbHRlcnMuc3RhdGU9Mzt2bS5yZVNlYXJjaCgpXFxcIiBocmVmPVxcXCJqYXZhc2NyaXB0OnZvaWQoMClcXFwiPuW3suWIoOmZpDwvYT48L2xpPlxcbiAgICAgICAgICAgICAgPC91bD5cXG4gICAgICAgICAgICA8L2Rpdj5cXG4gICAgICAgIDwvbGk+XFxuICAgICAgICA8bGk+XFxuICAgICAgICAgIDxidXR0b24gdHlwZT1cXFwiYnV0dG9uXFxcIiBjbGFzcz1cXFwiYnRuIGJ0bi1zdWNjZXNzIHB1bGwtcmlnaHQgbS1sLXNtXFxcIiBzdHlsZT1cXFwicG9zaXRpb246IHJlbGF0aXZlOyB6LWluZGV4OiAyO1xcXCJcXG4gICAgICAgICAgICAgICAgICBuZy1jbGljaz1cXFwidm0uYWRkVXNlcigpXFxcIj48aSBjbGFzcz1cXFwiaWNvbi1QbHVzXFxcIj48L2k+IOa3u+WKoFxcbiAgICAgICAgICA8L2J1dHRvbj5cXG5cXG4gICAgICAgICAgPGJ1dHRvbiB0eXBlPVxcXCJidXR0b25cXFwiIGNsYXNzPVxcXCJidG4gYnRuLWluZm8gcHVsbC1yaWdodFxcXCIgc3R5bGU9XFxcInBvc2l0aW9uOiByZWxhdGl2ZTsgei1pbmRleDogMjtcXFwiIGRhdGEtdG9nZ2xlPVxcXCJtb2RhbFxcXCIgZGF0YS10YXJnZXQ9XFxcIi5wb3AtcGxheWVyXFxcIlxcbiAgICAgICAgICAgICAgICAgIG5nLWNsaWNrPVxcXCIkZW1pdChcXCdiYXRjaFVwbG9hZFVzZXJcXCcpO1xcXCI+PGkgY2xhc3M9XFxcImljb24tUGx1c1xcXCI+PC9pPiDmibnph4/lvZXlhaVcXG4gICAgICAgICAgPC9idXR0b24+XFxuICAgICAgICA8L2xpPlxcbiAgICAgIDwvdWw+XFxuICAgIDwvZGl2PlxcbiAgICA8ZGl2PlxcbiAgICAgIDxtYy1iYXRjaC11cGxvYWQtdXNlcj48L21jLWJhdGNoLXVwbG9hZC11c2VyPlxcbiAgICA8L2Rpdj5cXG48L3NlY3Rpb24+XFxuXFxuPHNlY3Rpb24gY2xhc3M9XFxcImNvbnRlbnQgYm9keS1jb250ZW50IGJvZHktY29udGVudC1jb21wYWN0IGJsb2NrLXVpIGJsb2NrLXVpLW1lc3NhZ2UtY3VzdG9tXFxcIiBibG9jay11aT1cXFwibWFpblxcXCI+XFxuICA8ZW1wdHktdGlwIG5nLWlmPVxcXCJ2bS5saXN0Lmxlbmd0aCA9PT0gMFxcXCI+PC9lbXB0eS10aXA+XFxuXFxuICA8ZGl2IGNsYXNzPVxcXCJwYW5lbFxcXCIgbmctaWY9XFxcInZtLmxpc3QubGVuZ3RoID4gMFxcXCI+XFxuICAgIDx0YWJsZSBjbGFzcz1cXFwidGFibGUgdGFibGUtc3RyaXBlZCB0ZXh0LWNlbnRlclxcXCI+XFxuICAgICAgPHRyPlxcbiAgICAgICAgPHRoIGNsYXNzPVxcXCJjb2wtbS0xIHRleHQtY2VudGVyXFxcIj5pZDwvdGg+XFxuICAgICAgICA8dGggY2xhc3M9XFxcImNvbC1tLTEgdGV4dC1jZW50ZXJcXFwiPuWnk+WQjTwvdGg+XFxuICAgICAgICA8dGggY2xhc3M9XFxcImNvbC1tLTEgdGV4dC1jZW50ZXJcXFwiPuaJi+acuuWPtzwvdGg+XFxuICAgICAgICA8dGggY2xhc3M9XFxcImNvbC1tLTEgdGV4dC1jZW50ZXJcXFwiPuaJgOWxnuinkuiJsjwvdGg+XFxuICAgICAgICA8dGggY2xhc3M9XFxcImNvbC1tLTEgdGV4dC1jZW50ZXJcXFwiPuacuuaehOWQjeensDwvdGg+XFxuICAgICAgICA8dGggY2xhc3M9XFxcImNvbC1tLTEgdGV4dC1jZW50ZXJcXFwiPueKtuaAgTwvdGg+XFxuICAgICAgICA8dGggY2xhc3M9XFxcImNvbC1tLTEgdGV4dC1jZW50ZXJcXFwiPuaTjeS9nDwvdGg+XFxuICAgICAgPC90cj5cXG4gICAgICA8dHIgbmctcmVwZWF0PVxcXCJpdGVtIGluIHZtLmxpc3RcXFwiPlxcbiAgICAgICAgPHRkPnt7aXRlbS5pZH19PC90ZD5cXG4gICAgICAgIDx0ZD57e2l0ZW0udHJ1ZV9uYW1lfX08L3RkPlxcbiAgICAgICAgPHRkPnt7aXRlbS5waG9uZX19PC90ZD5cXG4gICAgICAgIDx0ZD57e2l0ZW0ucm9sZV9uYW1lfX08L3RkPlxcbiAgICAgICAgPHRkPnt7aXRlbS5iYW5rX25hbWV9fTwvdGQ+XFxuICAgICAgICA8dGQ+XFxuICAgICAgICAgIDxzcGFuIGNsYXNzPVxcXCJ0ZXh0LW11dGVkXFxcIiBuZy1pZj1cXFwiaXRlbS5zdGF0ZT09MFxcXCI+5pyq5r+A5rS7PC9zcGFuPlxcbiAgICAgICAgICA8c3BhbiBjbGFzcz1cXFwidGV4dC1zdWNjZXNzXFxcIiBuZy1pZj1cXFwiaXRlbS5zdGF0ZT09MVxcXCI+5q2j5bi4PC9zcGFuPlxcbiAgICAgICAgICA8c3BhbiBjbGFzcz1cXFwidGV4dC1kYW5nZXJcXFwiIG5nLWlmPVxcXCJpdGVtLnN0YXRlPT0yXFxcIj7lt7Llhrvnu5M8L3NwYW4+XFxuICAgICAgICAgIDxzcGFuIGNsYXNzPVxcXCJ0ZXh0LWRhbmdlclxcXCIgbmctaWY9XFxcIml0ZW0uc3RhdGU9PTNcXFwiPuW3suWIoOmZpDwvc3Bhbj5cXG4gICAgICAgIDwvdGQ+XFxuICAgICAgICA8dGQ+XFxuICAgICAgICAgIDxhIGhyZWY9XFxcImphdmFzY3JpcHQ6dm9pZCgwKVxcXCIgbmctY2xpY2s9XFxcInZtLmFzc2lnbkJyYW5jaChpdGVtKVxcXCI+5YiG6YWN5py65p6EPC9hPlxcbiAgICAgICAgICA8YSB1aS1zcmVmPVxcXCJhY2NvdW50LmRldGFpbCh7aWQ6IGl0ZW0uaWR9KVxcXCI+5p+l55yLPGkgY2xhc3M9XFxcImljb24tYW5nbGUtcmlnaHRcXFwiPjwvaT48L2E+XFxuICAgICAgICA8L3RkPlxcbiAgICAgIDwvdHI+XFxuICAgIDwvdGFibGU+XFxuICA8L2Rpdj5cXG5cXG4gIDxtYy1wYWdpbmF0aW9uIHRvdGFsLWl0ZW1zPVxcXCJ2bS5wYWdpbmF0aW9uLmNvdW50XFxcIiBpdGVtcy1wZXItcGFnZT1cXFwidm0ucGFnaW5hdGlvbi5wYWdlU2l6ZVxcXCIgY3VycmVudC1wYWdlPVxcXCJ2bS5wYWdpbmF0aW9uLnBhZ2VcXFwiIHBhZ2UtY2hhbmdlPVxcXCJ2bS5wYWdlQ2hhbmdlZCgpXFxcIj48L21jLXBhZ2luYXRpb24+XFxuXFxuPC9zZWN0aW9uPlxcblwiKTtcbiR0ZW1wbGF0ZUNhY2hlLnB1dChcIm1vZHVsZXMvZGVtby9hY2Nlc3MvdGVtcGxhdGUuaHRtbFwiLFwiPHNlY3Rpb24gY2xhc3M9XFxcImNvbnRlbnQtaGVhZGVyXFxcIj5cXG4gIOadg+mZkOiuvue9rlxcbjwvc2VjdGlvbj5cXG5cXG48c2VjdGlvbiBjbGFzcz1cXFwiY29udGVudCBib2R5LWNvbnRlbnQgYm9keS1jb250ZW50LWNvbXBhY3QgYmxvY2stdWkgYmxvY2stdWktbWVzc2FnZS1jdXN0b21cXFwiIGJsb2NrLXVpPVxcXCJtYWluXFxcIj5cXG5cXG5cXG4gIDxkaXYgY2xhc3M9XFxcInBhbmVsXFxcIj5cXG4gICAgPHRhYmxlIGNsYXNzPVxcXCJ0YWJsZSB0YWJsZS1zdHJpcGVkIHRleHQtY2VudGVyXFxcIj5cXG4gICAgICA8dHI+XFxuICAgICAgICA8dGggY2xhc3M9XFxcImNvbC1tLTEgdGV4dC1jZW50ZXJcXFwiPuWnk+WQjTwvdGg+XFxuICAgICAgICA8dGggY2xhc3M9XFxcImNvbC1tLTEgdGV4dC1jZW50ZXJcXFwiPuaAp+WIqzwvdGg+XFxuICAgICAgICA8dGggY2xhc3M9XFxcImNvbC1tLTEgdGV4dC1jZW50ZXJcXFwiIG5nLXJlcGVhdD1cXFwiaXRlbSBpbiB2bS5yb2xlTGlzdFxcXCI+e3tpdGVtLm5hbWV9fTwvdGg+XFxuICAgICAgPC90cj5cXG4gICAgICA8dHIgbmctcmVwZWF0PVxcXCJpdGVtIGluIHZtLmxpc3RcXFwiPlxcbiAgICAgICAgPHRkPnt7aXRlbS5uYW1lfX08L3RkPlxcbiAgICAgICAgPHRkPnt7aXRlbS50aXRsZX19PC90ZD5cXG4gICAgICAgIDx0ZCBuZy1yZXBlYXQ9XFxcInJvbGUgaW4gdm0ucm9sZUxpc3RcXFwiPlxcbiAgICAgICAgICA8bGFiZWwgY2xhc3M9XFxcIm1jLXJhZGlvXFxcIj5cXG4gICAgICAgICAgICA8aW5wdXQgdHlwZT1cXFwiY2hlY2tib3hcXFwiIG5nLW1vZGVsPVxcXCJ2bS5hY2Nlc3Nbcm9sZS52YWx1ZV1baXRlbS5uYW1lXVxcXCIgLz5cXG4gICAgICAgICAgICA8aSBjbGFzcz1cXFwiaWNvbi1jaGVja1xcXCI+PC9pPlxcbiAgICAgICAgICA8L2xhYmVsPlxcbiAgICAgICAgPC90ZD5cXG4gICAgICA8L3RyPlxcbiAgICA8L3RhYmxlPlxcbiAgPC9kaXY+XFxuICBcXG4gIDxkaXYgY2xhc3M9XFxcIm1vZGFsLWZvb3RlclxcXCI+XFxuICAgIDxidXR0b24gdHlwZT1cXFwiYnV0dG9uXFxcIiBjbGFzcz1cXFwiYnRuIGJ0bi1zdWNjZXNzIGJ0bi1zbVxcXCIgbmctY2xpY2s9XFxcInZtLnN1Ym1pdCgpXFxcIj4g5L+d5a2YPC9idXR0b24+XFxuICA8L2Rpdj5cXG48L3NlY3Rpb24+XFxuXCIpO1xuJHRlbXBsYXRlQ2FjaGUucHV0KFwibW9kdWxlcy9kZW1vL2NvbXBvbmVudC9pbmRleC5odG1sXCIsXCI8aGVhZGVyIGNsYXNzPVxcXCJuYXZiYXIgbmF2YmFyLXN0YXRpYy10b3AgYnMtZG9jcy1uYXZcXFwiIGlkPVxcXCJ0b3BcXFwiIHJvbGU9XFxcImJhbm5lclxcXCI+XFxuICAgIDxkaXYgY2xhc3M9XFxcImNvbnRhaW5lclxcXCI+XFxuICAgICAgPGRpdiBjbGFzcz1cXFwibmF2YmFyLWhlYWRlclxcXCI+XFxuICAgICAgICA8YnV0dG9uIGNsYXNzPVxcXCJuYXZiYXItdG9nZ2xlIGNvbGxhcHNlZFxcXCIgdHlwZT1cXFwiYnV0dG9uXFxcIiBkYXRhLXRvZ2dsZT1cXFwiY29sbGFwc2VcXFwiIGRhdGEtdGFyZ2V0PVxcXCIjYnMtbmF2YmFyXFxcIiBhcmlhLWNvbnRyb2xzPVxcXCJicy1uYXZiYXJcXFwiIGFyaWEtZXhwYW5kZWQ9XFxcImZhbHNlXFxcIj5cXG4gICAgICAgICAgPHNwYW4gY2xhc3M9XFxcInNyLW9ubHlcXFwiPlRvZ2dsZSBuYXZpZ2F0aW9uPC9zcGFuPlxcbiAgICAgICAgICA8c3BhbiBjbGFzcz1cXFwiaWNvbi1iYXJcXFwiPjwvc3Bhbj5cXG4gICAgICAgICAgPHNwYW4gY2xhc3M9XFxcImljb24tYmFyXFxcIj48L3NwYW4+XFxuICAgICAgICAgIDxzcGFuIGNsYXNzPVxcXCJpY29uLWJhclxcXCI+PC9zcGFuPlxcbiAgICAgICAgPC9idXR0b24+XFxuICAgICAgICA8YSBocmVmPVxcXCIuLi9cXFwiIGNsYXNzPVxcXCJuYXZiYXItYnJhbmRcXFwiPk1DLWJvb3RzdHJhcDwvYT5cXG4gICAgICA8L2Rpdj5cXG4gICAgICA8bmF2IGlkPVxcXCJicy1uYXZiYXJcXFwiIGNsYXNzPVxcXCJjb2xsYXBzZSBuYXZiYXItY29sbGFwc2VcXFwiPlxcbiAgICAgICAgPHVsIGNsYXNzPVxcXCJuYXYgbmF2YmFyLW5hdlxcXCIgc3R5bGU9XFxcImRpc3BsYXk6bm9uZVxcXCI+XFxuICAgICAgICAgIDxsaT5cXG4gICAgICAgICAgICA8YSBocmVmPVxcXCIuLi9nZXR0aW5nLXN0YXJ0ZWQvXFxcIiBvbmNsaWNrPVxcXCJfaG10LnB1c2goW1xcJ190cmFja0V2ZW50XFwnLCBcXCdkb2N2My1uYXZiYXJcXCcsIFxcJ2NsaWNrXFwnLCBcXCdWM+WvvOiIqi3otbfmraVcXCddKVxcXCI+6LW35q2lPC9hPlxcbiAgICAgICAgICA8L2xpPlxcbiAgICAgICAgICA8bGk+XFxuICAgICAgICAgICAgPGEgaHJlZj1cXFwiLi4vY3NzL1xcXCIgb25jbGljaz1cXFwiX2htdC5wdXNoKFtcXCdfdHJhY2tFdmVudFxcJywgXFwnZG9jdjMtbmF2YmFyXFwnLCBcXCdjbGlja1xcJywgXFwnVjPlr7zoiKot5YWo5bGAQ1NT5qC35byPXFwnXSlcXFwiPuWFqOWxgCBDU1Mg5qC35byPPC9hPlxcbiAgICAgICAgICA8L2xpPlxcbiAgICAgICAgICA8bGkgY2xhc3M9XFxcImFjdGl2ZVxcXCI+XFxuICAgICAgICAgICAgPGEgaHJlZj1cXFwiLi4vY29tcG9uZW50cy9cXFwiIG9uY2xpY2s9XFxcIl9obXQucHVzaChbXFwnX3RyYWNrRXZlbnRcXCcsIFxcJ2RvY3YzLW5hdmJhclxcJywgXFwnY2xpY2tcXCcsIFxcJ1Yz5a+86IiqLee7hOS7tlxcJ10pXFxcIj7nu4Tku7Y8L2E+XFxuICAgICAgICAgIDwvbGk+XFxuICAgICAgICAgIDxsaT5cXG4gICAgICAgICAgICA8YSBocmVmPVxcXCIuLi9qYXZhc2NyaXB0L1xcXCIgb25jbGljaz1cXFwiX2htdC5wdXNoKFtcXCdfdHJhY2tFdmVudFxcJywgXFwnZG9jdjMtbmF2YmFyXFwnLCBcXCdjbGlja1xcJywgXFwnVjPlr7zoiKotSmF2YVNjcmlwdOaPkuS7tlxcJ10pXFxcIj5KYXZhU2NyaXB0IOaPkuS7tjwvYT5cXG4gICAgICAgICAgPC9saT5cXG4gICAgICAgICAgPGxpPlxcbiAgICAgICAgICAgIDxhIGhyZWY9XFxcIi4uL2N1c3RvbWl6ZS9cXFwiIG9uY2xpY2s9XFxcIl9obXQucHVzaChbXFwnX3RyYWNrRXZlbnRcXCcsIFxcJ2RvY3YzLW5hdmJhclxcJywgXFwnY2xpY2tcXCcsIFxcJ1Yz5a+86IiqLeWumuWItlxcJ10pXFxcIj7lrprliLY8L2E+XFxuICAgICAgICAgIDwvbGk+XFxuICAgICAgICAgIDxsaT48YSBocmVmPVxcXCJodHRwOi8vZXhwby5ib290Y3NzLmNvbVxcXCIgb25jbGljaz1cXFwiX2htdC5wdXNoKFtcXCdfdHJhY2tFdmVudFxcJywgXFwnZG9jdjMtbmF2YmFyXFwnLCBcXCdjbGlja1xcJywgXFwnVjPlr7zoiKot572R56uZ5a6e5L6LXFwnXSlcXFwiIHRhcmdldD1cXFwiX2JsYW5rXFxcIj7nvZHnq5nlrp7kvos8L2E+PC9saT5cXG4gICAgICAgIDwvdWw+XFxuICAgICAgICA8dWwgY2xhc3M9XFxcIm5hdiBuYXZiYXItbmF2IG5hdmJhci1yaWdodFxcXCI+XFxuICAgICAgICAgIDxsaT48YSBocmVmPVxcXCJodHRwOi8vd3d3LmJvb3Rjc3MuY29tL1xcXCIgb25jbGljaz1cXFwiX2htdC5wdXNoKFtcXCdfdHJhY2tFdmVudFxcJywgXFwnZG9jdjMtbmF2YmFyXFwnLCBcXCdjbGlja1xcJywgXFwnVjPlr7zoiKotQm9vdHN0cmFw5Lit5paH572RXFwnXSlcXFwiIHRhcmdldD1cXFwiX2JsYW5rXFxcIj5Cb290c3RyYXDkuK3mlofnvZE8L2E+PC9saT5cXG4gICAgICAgIDwvdWw+XFxuICAgICAgPC9uYXY+XFxuICAgIDwvZGl2PlxcbiAgPC9oZWFkZXI+XFxuICA8ZGl2IGNsYXNzPVxcXCJicy1kb2NzLWhlYWRlclxcXCIgdGFiaW5kZXg9XFxcIi0xXFxcIj5cXG4gICAgPGRpdiBjbGFzcz1cXFwiY29udGFpbmVyXFxcIj5cXG4gICAgICA8aDE+57uE5Lu2PC9oMT5cXG4gICAgICA8cD7ml6DmlbDlj6/lpI3nlKjnmoTnu4Tku7bvvIzljIXmi6zlrZfkvZPlm77moIfjgIHkuIvmi4noj5zljZXjgIHlr7zoiKrjgIHorablkYrmoYbjgIHlvLnlh7rmoYbnrYnmm7TlpJrlip/og73jgII8L3A+XFxuICAgIDwvZGl2PlxcbiAgPC9kaXY+XFxuXFxuICA8ZGl2IGNsYXNzPVxcXCJjb250YWluZXIgYnMtZG9jcy1jb250YWluZXJcXFwiPlxcbiAgICA8ZGl2IGNsYXNzPVxcXCJyb3dcXFwiPlxcbiAgICAgIDxkaXYgY2xhc3M9XFxcImNvbC1tZC05XFxcIiByb2xlPVxcXCJtYWluXFxcIj5cXG5cXG4gICAgICAgIDxkaXYgY2xhc3M9XFxcImJzLWRvY3Mtc2VjdGlvblxcXCI+XFxuICAgICAgICAgIDxoMiBpZD1cXFwiYXZhdGFyc1xcXCI+PGEgY2xhc3M9XFxcImFuY2hvcmpzLWxpbmsgXFxcIiBocmVmPVxcXCIjdGh1bWJuYWlscy1kZWZhdWx0XFxcIiBhcmlhLWxhYmVsPVxcXCJBbmNob3IgbGluayBmb3I6IHRodW1ibmFpbHMgZGVmYXVsdFxcXCIgZGF0YS1hbmNob3Jqcy1pY29uPVxcXCLup4tcXFwiIHN0eWxlPVxcXCJmb250LWZhbWlseTogYW5jaG9yanMtaWNvbnM7IGZvbnQtc3R5bGU6IG5vcm1hbDsgZm9udC12YXJpYW50OiBub3JtYWw7IGZvbnQtd2VpZ2h0OiBub3JtYWw7IHBvc2l0aW9uOiBhYnNvbHV0ZTsgbWFyZ2luLWxlZnQ6IC0xZW07IHBhZGRpbmctcmlnaHQ6IDAuNWVtO1xcXCI+PC9hPuWktOWDj+agt+W8jzwvaDI+XFxuICAgICAgICAgIDxwPuebruWJjemihOWumuS6hjPnp43op4TmoLznmoTlpLTlg4/moLflvI/jgII8L3A+XFxuICAgICAgICAgIDxkaXYgY2xhc3M9XFxcImJzLWV4YW1wbGVcXFwiIGRhdGEtZXhhbXBsZS1pZD1cXFwic2ltcGxlLXRodW1ibmFpbHNcXFwiPlxcbiAgICAgICAgICAgIDxpbWcgc3JjPVxcXCIuLi5cXFwiIGFsdD1cXFwiLi4uXFxcIiBjbGFzcz1cXFwiaW1nLWNpcmNsZSBhdmF0YXItbGFyZ2VyXFxcIj5cXG4gICAgICAgICAgICA8aW1nIHNyYz1cXFwiLi4uXFxcIiBhbHQ9XFxcIi4uLlxcXCIgY2xhc3M9XFxcImltZy1jaXJjbGUgYXZhdGFyLW1pZGRsZVxcXCI+XFxuICAgICAgICAgICAgPGltZyBzcmM9XFxcIi4uLlxcXCIgYWx0PVxcXCIuLi5cXFwiIGNsYXNzPVxcXCJpbWctY2lyY2xlIGF2YXRhci1zbWFsbFxcXCI+XFxuICAgICAgICAgIDwvZGl2PlxcbiAgICAgICAgICA8ZGl2IGNsYXNzPVxcXCJoaWdobGlnaHRcXFwiPjxwcmU+PGNvZGUgY2xhc3M9XFxcImxhbmd1YWdlLWh0bWxcXFwiIGRhdGEtbGFuZz1cXFwiaHRtbFxcXCI+PHNwYW4gY2xhc3M9XFxcIm50XFxcIj4mbHQ7aW1nPC9zcGFuPiA8c3BhbiBjbGFzcz1cXFwibmFcXFwiPnNyYz08L3NwYW4+PHNwYW4gY2xhc3M9XFxcInNcXFwiPlxcXCIuLi5cXFwiPC9zcGFuPiA8c3BhbiBjbGFzcz1cXFwibmFcXFwiPmFsdD08L3NwYW4+PHNwYW4gY2xhc3M9XFxcInNcXFwiPlxcXCIuLi5cXFwiPC9zcGFuPiA8c3BhbiBjbGFzcz1cXFwibmFcXFwiPmNsYXNzPTwvc3Bhbj48c3BhbiBjbGFzcz1cXFwic1xcXCI+XFxcImltZy1jaXJjbGUgYXZhdGFyLWxhcmdlclxcXCI8L3NwYW4+PHNwYW4gY2xhc3M9XFxcIm50XFxcIj4mZ3Q7PC9zcGFuPlxcbjxzcGFuIGNsYXNzPVxcXCJudFxcXCI+Jmx0O2ltZzwvc3Bhbj4gPHNwYW4gY2xhc3M9XFxcIm5hXFxcIj5zcmM9PC9zcGFuPjxzcGFuIGNsYXNzPVxcXCJzXFxcIj5cXFwiLi4uXFxcIjwvc3Bhbj4gPHNwYW4gY2xhc3M9XFxcIm5hXFxcIj5hbHQ9PC9zcGFuPjxzcGFuIGNsYXNzPVxcXCJzXFxcIj5cXFwiLi4uXFxcIjwvc3Bhbj4gPHNwYW4gY2xhc3M9XFxcIm5hXFxcIj5jbGFzcz08L3NwYW4+PHNwYW4gY2xhc3M9XFxcInNcXFwiPlxcXCJpbWctY2lyY2xlIGF2YXRhci1taWRkbGVcXFwiPC9zcGFuPjxzcGFuIGNsYXNzPVxcXCJudFxcXCI+Jmd0Ozwvc3Bhbj5cXG48c3BhbiBjbGFzcz1cXFwibnRcXFwiPiZsdDtpbWc8L3NwYW4+IDxzcGFuIGNsYXNzPVxcXCJuYVxcXCI+c3JjPTwvc3Bhbj48c3BhbiBjbGFzcz1cXFwic1xcXCI+XFxcIi4uLlxcXCI8L3NwYW4+IDxzcGFuIGNsYXNzPVxcXCJuYVxcXCI+YWx0PTwvc3Bhbj48c3BhbiBjbGFzcz1cXFwic1xcXCI+XFxcIi4uLlxcXCI8L3NwYW4+IDxzcGFuIGNsYXNzPVxcXCJuYVxcXCI+Y2xhc3M9PC9zcGFuPjxzcGFuIGNsYXNzPVxcXCJzXFxcIj5cXFwiaW1nLWNpcmNsZSBhdmF0YXItc21hbGxcXFwiPC9zcGFuPjxzcGFuIGNsYXNzPVxcXCJudFxcXCI+Jmd0Ozwvc3Bhbj48L2NvZGU+PC9wcmU+PC9kaXY+XFxuICAgICAgICA8L2Rpdj5cXG5cXG4gICAgICAgIDxkaXYgY2xhc3M9XFxcImJzLWRvY3Mtc2VjdGlvblxcXCI+XFxuICAgICAgICAgIDxoMSBpZD1cXFwiYnV0dG9uc1xcXCIgY2xhc3M9XFxcInBhZ2UtaGVhZGVyXFxcIj48YSBjbGFzcz1cXFwiYW5jaG9yanMtbGluayBcXFwiIGhyZWY9XFxcIiNidXR0b25zXFxcIiBhcmlhLWxhYmVsPVxcXCJBbmNob3IgbGluayBmb3I6IGJ1dHRvbnNcXFwiIGRhdGEtYW5jaG9yanMtaWNvbj1cXFwi7qeLXFxcIiBzdHlsZT1cXFwiZm9udC1mYW1pbHk6IGFuY2hvcmpzLWljb25zOyBmb250LXN0eWxlOiBub3JtYWw7IGZvbnQtdmFyaWFudDogbm9ybWFsOyBmb250LXdlaWdodDogbm9ybWFsOyBwb3NpdGlvbjogYWJzb2x1dGU7IG1hcmdpbi1sZWZ0OiAtMWVtOyBwYWRkaW5nLXJpZ2h0OiAwLjVlbTtcXFwiPjwvYT7mjInpkq48L2gxPlxcbiAgICAgICAgICA8aDIgaWQ9XFxcImJ1dHRvbnMtdGFnc1xcXCI+PGEgY2xhc3M9XFxcImFuY2hvcmpzLWxpbmsgXFxcIiBocmVmPVxcXCIjYnV0dG9ucy10YWdzXFxcIiBhcmlhLWxhYmVsPVxcXCJBbmNob3IgbGluayBmb3I6IGJ1dHRvbnMgdGFnc1xcXCIgZGF0YS1hbmNob3Jqcy1pY29uPVxcXCLup4tcXFwiIHN0eWxlPVxcXCJmb250LWZhbWlseTogYW5jaG9yanMtaWNvbnM7IGZvbnQtc3R5bGU6IG5vcm1hbDsgZm9udC12YXJpYW50OiBub3JtYWw7IGZvbnQtd2VpZ2h0OiBub3JtYWw7IHBvc2l0aW9uOiBhYnNvbHV0ZTsgbWFyZ2luLWxlZnQ6IC0xZW07IHBhZGRpbmctcmlnaHQ6IDAuNWVtO1xcXCI+PC9hPuWPr+S9nOS4uuaMiemSruS9v+eUqOeahOagh+etvuaIluWFg+e0oDwvaDI+XFxuICAgICAgICAgIDxoMiBpZD1cXFwiYnV0dG9ucy1zaXplc1xcXCI+PGEgY2xhc3M9XFxcImFuY2hvcmpzLWxpbmsgXFxcIiBocmVmPVxcXCIjYnV0dG9ucy1zaXplc1xcXCIgYXJpYS1sYWJlbD1cXFwiQW5jaG9yIGxpbmsgZm9yOiBidXR0b25zIHNpemVzXFxcIiBkYXRhLWFuY2hvcmpzLWljb249XFxcIu6ni1xcXCIgc3R5bGU9XFxcImZvbnQtZmFtaWx5OiBhbmNob3Jqcy1pY29uczsgZm9udC1zdHlsZTogbm9ybWFsOyBmb250LXZhcmlhbnQ6IG5vcm1hbDsgZm9udC13ZWlnaHQ6IG5vcm1hbDsgcG9zaXRpb246IGFic29sdXRlOyBtYXJnaW4tbGVmdDogLTFlbTsgcGFkZGluZy1yaWdodDogMC41ZW07XFxcIj48L2E+5bC65a+4PC9oMj5cXG4gICAgICAgICAgPGRpdiBjbGFzcz1cXFwiYnMtZXhhbXBsZVxcXCIgZGF0YS1leGFtcGxlLWlkPVxcXCJidG4tc2l6ZXNcXFwiPlxcbiAgICAgICAgICAgIDxwPlxcbiAgICAgICAgICAgICAgPGJ1dHRvbiB0eXBlPVxcXCJidXR0b25cXFwiIGNsYXNzPVxcXCJidG4gYnRuLXByaW1hcnkgYnRuLWxnXFxcIj7vvIjlpKfmjInpkq7vvIlMYXJnZSBidXR0b248L2J1dHRvbj5cXG4gICAgICAgICAgICAgIDxidXR0b24gdHlwZT1cXFwiYnV0dG9uXFxcIiBjbGFzcz1cXFwiYnRuIGJ0bi1kZWZhdWx0IGJ0bi1sZ1xcXCI+77yI5aSn5oyJ6ZKu77yJTGFyZ2UgYnV0dG9uPC9idXR0b24+XFxuICAgICAgICAgICAgPC9wPlxcbiAgICAgICAgICAgIDxwPlxcbiAgICAgICAgICAgICAgPGJ1dHRvbiB0eXBlPVxcXCJidXR0b25cXFwiIGNsYXNzPVxcXCJidG4gYnRuLXByaW1hcnlcXFwiPu+8iOm7mOiupOWwuuWvuO+8iURlZmF1bHQgYnV0dG9uPC9idXR0b24+XFxuICAgICAgICAgICAgICA8YnV0dG9uIHR5cGU9XFxcImJ1dHRvblxcXCIgY2xhc3M9XFxcImJ0biBidG4tZGVmYXVsdFxcXCI+77yI6buY6K6k5bC65a+477yJRGVmYXVsdCBidXR0b248L2J1dHRvbj5cXG4gICAgICAgICAgICA8L3A+XFxuICAgICAgICAgIDwvZGl2PlxcbiAgICAgICAgICA8ZGl2IGNsYXNzPVxcXCJoaWdobGlnaHRcXFwiPjxwcmU+PGNvZGUgY2xhc3M9XFxcImxhbmd1YWdlLWh0bWxcXFwiIGRhdGEtbGFuZz1cXFwiaHRtbFxcXCI+PHNwYW4gY2xhc3M9XFxcIm50XFxcIj4mbHQ7cCZndDs8L3NwYW4+XFxuICA8c3BhbiBjbGFzcz1cXFwibnRcXFwiPiZsdDtidXR0b248L3NwYW4+IDxzcGFuIGNsYXNzPVxcXCJuYVxcXCI+dHlwZT08L3NwYW4+PHNwYW4gY2xhc3M9XFxcInNcXFwiPlxcXCJidXR0b25cXFwiPC9zcGFuPiA8c3BhbiBjbGFzcz1cXFwibmFcXFwiPmNsYXNzPTwvc3Bhbj48c3BhbiBjbGFzcz1cXFwic1xcXCI+XFxcImJ0biBidG4tcHJpbWFyeSBidG4tbGdcXFwiPC9zcGFuPjxzcGFuIGNsYXNzPVxcXCJudFxcXCI+Jmd0Ozwvc3Bhbj7vvIjlpKfmjInpkq7vvIlMYXJnZSBidXR0b248c3BhbiBjbGFzcz1cXFwibnRcXFwiPiZsdDsvYnV0dG9uJmd0Ozwvc3Bhbj5cXG4gIDxzcGFuIGNsYXNzPVxcXCJudFxcXCI+Jmx0O2J1dHRvbjwvc3Bhbj4gPHNwYW4gY2xhc3M9XFxcIm5hXFxcIj50eXBlPTwvc3Bhbj48c3BhbiBjbGFzcz1cXFwic1xcXCI+XFxcImJ1dHRvblxcXCI8L3NwYW4+IDxzcGFuIGNsYXNzPVxcXCJuYVxcXCI+Y2xhc3M9PC9zcGFuPjxzcGFuIGNsYXNzPVxcXCJzXFxcIj5cXFwiYnRuIGJ0bi1kZWZhdWx0IGJ0bi1sZ1xcXCI8L3NwYW4+PHNwYW4gY2xhc3M9XFxcIm50XFxcIj4mZ3Q7PC9zcGFuPu+8iOWkp+aMiemSru+8iUxhcmdlIGJ1dHRvbjxzcGFuIGNsYXNzPVxcXCJudFxcXCI+Jmx0Oy9idXR0b24mZ3Q7PC9zcGFuPlxcbjxzcGFuIGNsYXNzPVxcXCJudFxcXCI+Jmx0Oy9wJmd0Ozwvc3Bhbj5cXG48c3BhbiBjbGFzcz1cXFwibnRcXFwiPiZsdDtwJmd0Ozwvc3Bhbj5cXG4gIDxzcGFuIGNsYXNzPVxcXCJudFxcXCI+Jmx0O2J1dHRvbjwvc3Bhbj4gPHNwYW4gY2xhc3M9XFxcIm5hXFxcIj50eXBlPTwvc3Bhbj48c3BhbiBjbGFzcz1cXFwic1xcXCI+XFxcImJ1dHRvblxcXCI8L3NwYW4+IDxzcGFuIGNsYXNzPVxcXCJuYVxcXCI+Y2xhc3M9PC9zcGFuPjxzcGFuIGNsYXNzPVxcXCJzXFxcIj5cXFwiYnRuIGJ0bi1wcmltYXJ5XFxcIjwvc3Bhbj48c3BhbiBjbGFzcz1cXFwibnRcXFwiPiZndDs8L3NwYW4+77yI6buY6K6k5bC65a+477yJRGVmYXVsdCBidXR0b248c3BhbiBjbGFzcz1cXFwibnRcXFwiPiZsdDsvYnV0dG9uJmd0Ozwvc3Bhbj5cXG4gIDxzcGFuIGNsYXNzPVxcXCJudFxcXCI+Jmx0O2J1dHRvbjwvc3Bhbj4gPHNwYW4gY2xhc3M9XFxcIm5hXFxcIj50eXBlPTwvc3Bhbj48c3BhbiBjbGFzcz1cXFwic1xcXCI+XFxcImJ1dHRvblxcXCI8L3NwYW4+IDxzcGFuIGNsYXNzPVxcXCJuYVxcXCI+Y2xhc3M9PC9zcGFuPjxzcGFuIGNsYXNzPVxcXCJzXFxcIj5cXFwiYnRuIGJ0bi1kZWZhdWx0XFxcIjwvc3Bhbj48c3BhbiBjbGFzcz1cXFwibnRcXFwiPiZndDs8L3NwYW4+77yI6buY6K6k5bC65a+477yJRGVmYXVsdCBidXR0b248c3BhbiBjbGFzcz1cXFwibnRcXFwiPiZsdDsvYnV0dG9uJmd0Ozwvc3Bhbj5cXG48c3BhbiBjbGFzcz1cXFwibnRcXFwiPiZsdDsvcCZndDs8L3NwYW4+XFxuPC9jb2RlPjwvcHJlPjwvZGl2PlxcbiAgICAgICAgICA8aDIgaWQ9XFxcImJ1dHRvbnMtb3B0aW9uc1xcXCI+PGEgY2xhc3M9XFxcImFuY2hvcmpzLWxpbmsgXFxcIiBocmVmPVxcXCIjYnV0dG9ucy1vcHRpb25zXFxcIiBhcmlhLWxhYmVsPVxcXCJBbmNob3IgbGluayBmb3I6IGJ1dHRvbnMgb3B0aW9uc1xcXCIgZGF0YS1hbmNob3Jqcy1pY29uPVxcXCLup4tcXFwiIHN0eWxlPVxcXCJmb250LWZhbWlseTogYW5jaG9yanMtaWNvbnM7IGZvbnQtc3R5bGU6IG5vcm1hbDsgZm9udC12YXJpYW50OiBub3JtYWw7IGZvbnQtd2VpZ2h0OiBub3JtYWw7IHBvc2l0aW9uOiBhYnNvbHV0ZTsgbWFyZ2luLWxlZnQ6IC0xZW07IHBhZGRpbmctcmlnaHQ6IDAuNWVtO1xcXCI+PC9hPumihOWumuS5ieagt+W8jzwvaDI+XFxuXFxuICAgICAgICAgIDxwPuS9v+eUqOS4i+mdouWIl+WHuueahOexu+WPr+S7peW/q+mAn+WIm+W7uuS4gOS4quW4puaciemihOWumuS5ieagt+W8j+eahOaMiemSruOAgjwvcD5cXG4gICAgICAgICAgPGRpdiBjbGFzcz1cXFwiYnMtZXhhbXBsZVxcXCI+XFxuICAgICAgICAgICAgPGJ1dHRvbiB0eXBlPVxcXCJidXR0b25cXFwiIGNsYXNzPVxcXCJidG4gYnRuLWRlZmF1bHRcXFwiPu+8iOm7mOiupOagt+W8j++8iURlZmF1bHQ8L2J1dHRvbj5cXG4gICAgICAgICAgICA8YnV0dG9uIHR5cGU9XFxcImJ1dHRvblxcXCIgY2xhc3M9XFxcImJ0biBidG4tcHJpbWFyeVxcXCI+77yI6aaW6YCJ6aG577yJUHJpbWFyeTwvYnV0dG9uPlxcbiAgICAgICAgICAgIDxidXR0b24gdHlwZT1cXFwiYnV0dG9uXFxcIiBjbGFzcz1cXFwiYnRuIGJ0bi1zdWNjZXNzXFxcIj7vvIjmiJDlip/vvIlTdWNjZXNzPC9idXR0b24+XFxuICAgICAgICAgICAgPGJ1dHRvbiB0eXBlPVxcXCJidXR0b25cXFwiIGNsYXNzPVxcXCJidG4gYnRuLWluZm9cXFwiPu+8iOS4gOiIrOS/oeaBr++8iUluZm88L2J1dHRvbj5cXG4gICAgICAgICAgICA8YnV0dG9uIHR5cGU9XFxcImJ1dHRvblxcXCIgY2xhc3M9XFxcImJ0biBidG4td2FybmluZ1xcXCI+77yI6K2m5ZGK77yJV2FybmluZzwvYnV0dG9uPlxcbiAgICAgICAgICAgIDxidXR0b24gdHlwZT1cXFwiYnV0dG9uXFxcIiBjbGFzcz1cXFwiYnRuIGJ0bi1kYW5nZXJcXFwiPu+8iOWNsemZqe+8iURhbmdlcjwvYnV0dG9uPlxcbiAgICAgICAgICAgIDxidXR0b24gdHlwZT1cXFwiYnV0dG9uXFxcIiBjbGFzcz1cXFwiYnRuIGJ0bi1saW5rXFxcIj7vvIjpk77mjqXvvIlMaW5rPC9idXR0b24+XFxuICAgICAgICAgIDwvZGl2PlxcbiAgICAgICAgICA8ZGl2IGNsYXNzPVxcXCJoaWdobGlnaHRcXFwiPjxwcmU+PGNvZGUgY2xhc3M9XFxcImxhbmd1YWdlLWh0bWxcXFwiIGRhdGEtbGFuZz1cXFwiaHRtbFxcXCI+PHNwYW4gY2xhc3M9XFxcImNcXFwiPiZsdDshLS0gU3RhbmRhcmQgYnV0dG9uIC0tJmd0Ozwvc3Bhbj5cXG48c3BhbiBjbGFzcz1cXFwibnRcXFwiPiZsdDtidXR0b248L3NwYW4+IDxzcGFuIGNsYXNzPVxcXCJuYVxcXCI+dHlwZT08L3NwYW4+PHNwYW4gY2xhc3M9XFxcInNcXFwiPlxcXCJidXR0b25cXFwiPC9zcGFuPiA8c3BhbiBjbGFzcz1cXFwibmFcXFwiPmNsYXNzPTwvc3Bhbj48c3BhbiBjbGFzcz1cXFwic1xcXCI+XFxcImJ0biBidG4tZGVmYXVsdFxcXCI8L3NwYW4+PHNwYW4gY2xhc3M9XFxcIm50XFxcIj4mZ3Q7PC9zcGFuPu+8iOm7mOiupOagt+W8j++8iURlZmF1bHQ8c3BhbiBjbGFzcz1cXFwibnRcXFwiPiZsdDsvYnV0dG9uJmd0Ozwvc3Bhbj5cXG5cXG48c3BhbiBjbGFzcz1cXFwiY1xcXCI+Jmx0OyEtLSBQcm92aWRlcyBleHRyYSB2aXN1YWwgd2VpZ2h0IGFuZCBpZGVudGlmaWVzIHRoZSBwcmltYXJ5IGFjdGlvbiBpbiBhIHNldCBvZiBidXR0b25zIC0tJmd0Ozwvc3Bhbj5cXG48c3BhbiBjbGFzcz1cXFwibnRcXFwiPiZsdDtidXR0b248L3NwYW4+IDxzcGFuIGNsYXNzPVxcXCJuYVxcXCI+dHlwZT08L3NwYW4+PHNwYW4gY2xhc3M9XFxcInNcXFwiPlxcXCJidXR0b25cXFwiPC9zcGFuPiA8c3BhbiBjbGFzcz1cXFwibmFcXFwiPmNsYXNzPTwvc3Bhbj48c3BhbiBjbGFzcz1cXFwic1xcXCI+XFxcImJ0biBidG4tcHJpbWFyeVxcXCI8L3NwYW4+PHNwYW4gY2xhc3M9XFxcIm50XFxcIj4mZ3Q7PC9zcGFuPu+8iOmmlumAiemhue+8iVByaW1hcnk8c3BhbiBjbGFzcz1cXFwibnRcXFwiPiZsdDsvYnV0dG9uJmd0Ozwvc3Bhbj5cXG5cXG48c3BhbiBjbGFzcz1cXFwiY1xcXCI+Jmx0OyEtLSBJbmRpY2F0ZXMgYSBzdWNjZXNzZnVsIG9yIHBvc2l0aXZlIGFjdGlvbiAtLSZndDs8L3NwYW4+XFxuPHNwYW4gY2xhc3M9XFxcIm50XFxcIj4mbHQ7YnV0dG9uPC9zcGFuPiA8c3BhbiBjbGFzcz1cXFwibmFcXFwiPnR5cGU9PC9zcGFuPjxzcGFuIGNsYXNzPVxcXCJzXFxcIj5cXFwiYnV0dG9uXFxcIjwvc3Bhbj4gPHNwYW4gY2xhc3M9XFxcIm5hXFxcIj5jbGFzcz08L3NwYW4+PHNwYW4gY2xhc3M9XFxcInNcXFwiPlxcXCJidG4gYnRuLXN1Y2Nlc3NcXFwiPC9zcGFuPjxzcGFuIGNsYXNzPVxcXCJudFxcXCI+Jmd0Ozwvc3Bhbj7vvIjmiJDlip/vvIlTdWNjZXNzPHNwYW4gY2xhc3M9XFxcIm50XFxcIj4mbHQ7L2J1dHRvbiZndDs8L3NwYW4+XFxuXFxuPHNwYW4gY2xhc3M9XFxcImNcXFwiPiZsdDshLS0gQ29udGV4dHVhbCBidXR0b24gZm9yIGluZm9ybWF0aW9uYWwgYWxlcnQgbWVzc2FnZXMgLS0mZ3Q7PC9zcGFuPlxcbjxzcGFuIGNsYXNzPVxcXCJudFxcXCI+Jmx0O2J1dHRvbjwvc3Bhbj4gPHNwYW4gY2xhc3M9XFxcIm5hXFxcIj50eXBlPTwvc3Bhbj48c3BhbiBjbGFzcz1cXFwic1xcXCI+XFxcImJ1dHRvblxcXCI8L3NwYW4+IDxzcGFuIGNsYXNzPVxcXCJuYVxcXCI+Y2xhc3M9PC9zcGFuPjxzcGFuIGNsYXNzPVxcXCJzXFxcIj5cXFwiYnRuIGJ0bi1pbmZvXFxcIjwvc3Bhbj48c3BhbiBjbGFzcz1cXFwibnRcXFwiPiZndDs8L3NwYW4+77yI5LiA6Iis5L+h5oGv77yJSW5mbzxzcGFuIGNsYXNzPVxcXCJudFxcXCI+Jmx0Oy9idXR0b24mZ3Q7PC9zcGFuPlxcblxcbjxzcGFuIGNsYXNzPVxcXCJjXFxcIj4mbHQ7IS0tIEluZGljYXRlcyBjYXV0aW9uIHNob3VsZCBiZSB0YWtlbiB3aXRoIHRoaXMgYWN0aW9uIC0tJmd0Ozwvc3Bhbj5cXG48c3BhbiBjbGFzcz1cXFwibnRcXFwiPiZsdDtidXR0b248L3NwYW4+IDxzcGFuIGNsYXNzPVxcXCJuYVxcXCI+dHlwZT08L3NwYW4+PHNwYW4gY2xhc3M9XFxcInNcXFwiPlxcXCJidXR0b25cXFwiPC9zcGFuPiA8c3BhbiBjbGFzcz1cXFwibmFcXFwiPmNsYXNzPTwvc3Bhbj48c3BhbiBjbGFzcz1cXFwic1xcXCI+XFxcImJ0biBidG4td2FybmluZ1xcXCI8L3NwYW4+PHNwYW4gY2xhc3M9XFxcIm50XFxcIj4mZ3Q7PC9zcGFuPu+8iOitpuWRiu+8iVdhcm5pbmc8c3BhbiBjbGFzcz1cXFwibnRcXFwiPiZsdDsvYnV0dG9uJmd0Ozwvc3Bhbj5cXG5cXG48c3BhbiBjbGFzcz1cXFwiY1xcXCI+Jmx0OyEtLSBJbmRpY2F0ZXMgYSBkYW5nZXJvdXMgb3IgcG90ZW50aWFsbHkgbmVnYXRpdmUgYWN0aW9uIC0tJmd0Ozwvc3Bhbj5cXG48c3BhbiBjbGFzcz1cXFwibnRcXFwiPiZsdDtidXR0b248L3NwYW4+IDxzcGFuIGNsYXNzPVxcXCJuYVxcXCI+dHlwZT08L3NwYW4+PHNwYW4gY2xhc3M9XFxcInNcXFwiPlxcXCJidXR0b25cXFwiPC9zcGFuPiA8c3BhbiBjbGFzcz1cXFwibmFcXFwiPmNsYXNzPTwvc3Bhbj48c3BhbiBjbGFzcz1cXFwic1xcXCI+XFxcImJ0biBidG4tZGFuZ2VyXFxcIjwvc3Bhbj48c3BhbiBjbGFzcz1cXFwibnRcXFwiPiZndDs8L3NwYW4+77yI5Y2x6Zmp77yJRGFuZ2VyPHNwYW4gY2xhc3M9XFxcIm50XFxcIj4mbHQ7L2J1dHRvbiZndDs8L3NwYW4+XFxuXFxuPHNwYW4gY2xhc3M9XFxcImNcXFwiPiZsdDshLS0gRGVlbXBoYXNpemUgYSBidXR0b24gYnkgbWFraW5nIGl0IGxvb2sgbGlrZSBhIGxpbmsgd2hpbGUgbWFpbnRhaW5pbmcgYnV0dG9uIGJlaGF2aW9yIC0tJmd0Ozwvc3Bhbj5cXG48c3BhbiBjbGFzcz1cXFwibnRcXFwiPiZsdDtidXR0b248L3NwYW4+IDxzcGFuIGNsYXNzPVxcXCJuYVxcXCI+dHlwZT08L3NwYW4+PHNwYW4gY2xhc3M9XFxcInNcXFwiPlxcXCJidXR0b25cXFwiPC9zcGFuPiA8c3BhbiBjbGFzcz1cXFwibmFcXFwiPmNsYXNzPTwvc3Bhbj48c3BhbiBjbGFzcz1cXFwic1xcXCI+XFxcImJ0biBidG4tbGlua1xcXCI8L3NwYW4+PHNwYW4gY2xhc3M9XFxcIm50XFxcIj4mZ3Q7PC9zcGFuPu+8iOmTvuaOpe+8iUxpbms8c3BhbiBjbGFzcz1cXFwibnRcXFwiPiZsdDsvYnV0dG9uJmd0Ozwvc3Bhbj48L2NvZGU+PC9wcmU+PC9kaXY+XFxuXFxuICAgICAgICAgIDxwPuemgeeUqOeahOaMiemSruagt+W8jzwvcD5cXG4gICAgICAgICAgPGRpdiBjbGFzcz1cXFwiYnMtZXhhbXBsZVxcXCI+XFxuICAgICAgICAgICAgPGJ1dHRvbiB0eXBlPVxcXCJidXR0b25cXFwiIGNsYXNzPVxcXCJidG4gYnRuLWRlZmF1bHRcXFwiIGRpc2FibGVkPu+8iOm7mOiupOagt+W8j++8iURlZmF1bHQ8L2J1dHRvbj5cXG4gICAgICAgICAgICA8YnV0dG9uIHR5cGU9XFxcImJ1dHRvblxcXCIgY2xhc3M9XFxcImJ0biBidG4tcHJpbWFyeVxcXCIgZGlzYWJsZWQ+77yI6aaW6YCJ6aG577yJUHJpbWFyeTwvYnV0dG9uPlxcbiAgICAgICAgICAgIDxidXR0b24gdHlwZT1cXFwiYnV0dG9uXFxcIiBjbGFzcz1cXFwiYnRuIGJ0bi1zdWNjZXNzXFxcIiBkaXNhYmxlZD7vvIjmiJDlip/vvIlTdWNjZXNzPC9idXR0b24+XFxuICAgICAgICAgICAgPGJ1dHRvbiB0eXBlPVxcXCJidXR0b25cXFwiIGNsYXNzPVxcXCJidG4gYnRuLWluZm9cXFwiIGRpc2FibGVkPu+8iOS4gOiIrOS/oeaBr++8iUluZm88L2J1dHRvbj5cXG4gICAgICAgICAgICA8YnV0dG9uIHR5cGU9XFxcImJ1dHRvblxcXCIgY2xhc3M9XFxcImJ0biBidG4td2FybmluZ1xcXCIgZGlzYWJsZWQ+77yI6K2m5ZGK77yJV2FybmluZzwvYnV0dG9uPlxcbiAgICAgICAgICAgIDxidXR0b24gdHlwZT1cXFwiYnV0dG9uXFxcIiBjbGFzcz1cXFwiYnRuIGJ0bi1kYW5nZXJcXFwiIGRpc2FibGVkPu+8iOWNsemZqe+8iURhbmdlcjwvYnV0dG9uPlxcbiAgICAgICAgICAgIDxidXR0b24gdHlwZT1cXFwiYnV0dG9uXFxcIiBjbGFzcz1cXFwiYnRuIGJ0bi1saW5rXFxcIiBkaXNhYmxlZD7vvIjpk77mjqXvvIlMaW5rPC9idXR0b24+XFxuICAgICAgICAgIDwvZGl2PlxcblxcbiAgICAgICAgICA8cD7nroDljZXnmoTliIfmjaLpgInpobnmjInpkq48L3A+XFxuICAgICAgICAgIDxkaXYgY2xhc3M9XFxcImJzLWV4YW1wbGVcXFwiIGRhdGEtZXhhbXBsZS1pZD1cXFwic2luZ2xlLWJ1dHRvbi1kcm9wZG93blxcXCI+XFxuICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz1cXFwiYnRuIGJ0bi10b2dnbGVcXFwiPuepuuaooeadvzwvYnV0dG9uPlxcbiAgICAgICAgICAgIDxidXR0b24gY2xhc3M9XFxcImJ0biBidG4tdG9nZ2xlIGFjdGl2ZVxcXCI+5LuL5oqk5LiA57qnPC9idXR0b24+XFxuICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz1cXFwiYnRuIGJ0bi10b2dnbGUgYWN0aXZlIGFycm93XFxcIj7mr4/lkag8L2J1dHRvbj5cXG4gICAgICAgICAgPC9kaXY+XFxuICAgICAgICAgIDxkaXY+XFxuICAgICAgICAgICAgPGNvZGU+XFxuICAgICAgICAgICAgICA8cHJlPiZsdDtkaXYgY2xhc3M9JnF1b3Q7YnMtZXhhbXBsZSZxdW90OyBkYXRhLWV4YW1wbGUtaWQ9JnF1b3Q7c2luZ2xlLWJ1dHRvbi1kcm9wZG93biZxdW90OyZndDtcXG4gICAgICAgICAgICAmbHQ7YnV0dG9uIGNsYXNzPSZxdW90O2J0biBidG4tdG9nZ2xlJnF1b3Q7Jmd0OyYjMzEzNTQ7JiMyNzE2OTsmIzI2NDk1OyZsdDsvYnV0dG9uJmd0O1xcbiAgICAgICAgICAgICZsdDtidXR0b24gY2xhc3M9JnF1b3Q7YnRuIGJ0bi10b2dnbGUgYWN0aXZlJnF1b3Q7Jmd0OyYjMjAxNzE7JiMyNTI1MjsmIzE5OTY4OyYjMzI0MjM7Jmx0Oy9idXR0b24mZ3Q7XFxuICAgICAgICAgICAgJmx0O2J1dHRvbiBjbGFzcz0mcXVvdDtidG4gYnRuLXRvZ2dsZSBhY3RpdmUgYXJyb3cmcXVvdDsmZ3Q7JiMyNzU5OTsmIzIxNjA4OyZsdDsvYnV0dG9uJmd0O1xcbiAgICAgICAgICAmbHQ7L2RpdiZndDs8L3ByZT5cXG4gICAgICAgICAgICA8L2NvZGU+XFxuICAgICAgICAgIDwvZGl2PlxcblxcbiAgICAgICAgICA8aDIgaWQ9XFxcImJ0bi1kcm9wZG93bnMtc2luZ2xlXFxcIj48YSBjbGFzcz1cXFwiYW5jaG9yanMtbGluayBcXFwiIGhyZWY9XFxcIiNidG4tZHJvcGRvd25zLXNpbmdsZVxcXCIgYXJpYS1sYWJlbD1cXFwiQW5jaG9yIGxpbmsgZm9yOiBidG4gZHJvcGRvd25zIHNpbmdsZVxcXCIgZGF0YS1hbmNob3Jqcy1pY29uPVxcXCLup4tcXFwiIHN0eWxlPVxcXCJmb250LWZhbWlseTogYW5jaG9yanMtaWNvbnM7IGZvbnQtc3R5bGU6IG5vcm1hbDsgZm9udC12YXJpYW50OiBub3JtYWw7IGZvbnQtd2VpZ2h0OiBub3JtYWw7IHBvc2l0aW9uOiBhYnNvbHV0ZTsgbWFyZ2luLWxlZnQ6IC0xZW07IHBhZGRpbmctcmlnaHQ6IDAuNWVtO1xcXCI+PC9hPuWIhuijguW8j+aMiemSruS4i+aLieiPnOWNlTwvaDI+XFxuICAgICAgICAgIDxwPuebuOS8vOWcsO+8jOWIhuijguW8j+aMiemSruS4i+aLieiPnOWNleS5n+mcgOimgeWQjOagt+eahOaUueWPmOS4gOS6m+agh+iusO+8jOS9huWPquaYr+WkmuS4gOS4quWIhuW8gOeahOaMiemSruOAgjwvcD5cXG4gICAgICAgICAgPGRpdiBjbGFzcz1cXFwiYnMtZXhhbXBsZVxcXCIgZGF0YS1leGFtcGxlLWlkPVxcXCJzcGxpdC1idXR0b24tZHJvcGRvd25cXFwiPlxcbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XFxcImJ0bi1ncm91cFxcXCI+XFxuICAgICAgICAgICAgICA8YnV0dG9uIHR5cGU9XFxcImJ1dHRvblxcXCIgY2xhc3M9XFxcImJ0biBidG4tZGVmYXVsdFxcXCI+RGVmYXVsdDwvYnV0dG9uPlxcbiAgICAgICAgICAgICAgPGJ1dHRvbiB0eXBlPVxcXCJidXR0b25cXFwiIGNsYXNzPVxcXCJidG4gYnRuLWRlZmF1bHQgZHJvcGRvd24tdG9nZ2xlXFxcIiBkYXRhLXRvZ2dsZT1cXFwiZHJvcGRvd25cXFwiIGFyaWEtaGFzcG9wdXA9XFxcInRydWVcXFwiIGFyaWEtZXhwYW5kZWQ9XFxcImZhbHNlXFxcIj5cXG4gICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XFxcImNhcmV0XFxcIj48L3NwYW4+XFxuICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVxcXCJzci1vbmx5XFxcIj5Ub2dnbGUgRHJvcGRvd248L3NwYW4+XFxuICAgICAgICAgICAgICA8L2J1dHRvbj5cXG4gICAgICAgICAgICAgIDx1bCBjbGFzcz1cXFwiZHJvcGRvd24tbWVudVxcXCI+XFxuICAgICAgICAgICAgICAgIDxsaT48YSBocmVmPVxcXCIjXFxcIj5BY3Rpb248L2E+PC9saT5cXG4gICAgICAgICAgICAgICAgPGxpPjxhIGhyZWY9XFxcIiNcXFwiPkFub3RoZXIgYWN0aW9uPC9hPjwvbGk+XFxuICAgICAgICAgICAgICAgIDxsaT48YSBocmVmPVxcXCIjXFxcIj5Tb21ldGhpbmcgZWxzZSBoZXJlPC9hPjwvbGk+XFxuICAgICAgICAgICAgICAgIDxsaSByb2xlPVxcXCJzZXBhcmF0b3JcXFwiIGNsYXNzPVxcXCJkaXZpZGVyXFxcIj48L2xpPlxcbiAgICAgICAgICAgICAgICA8bGk+PGEgaHJlZj1cXFwiI1xcXCI+U2VwYXJhdGVkIGxpbms8L2E+PC9saT5cXG4gICAgICAgICAgICAgIDwvdWw+XFxuICAgICAgICAgICAgPC9kaXY+PCEtLSAvYnRuLWdyb3VwIC0tPlxcbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XFxcImJ0bi1ncm91cFxcXCI+XFxuICAgICAgICAgICAgICA8YnV0dG9uIHR5cGU9XFxcImJ1dHRvblxcXCIgY2xhc3M9XFxcImJ0biBidG4tcHJpbWFyeVxcXCI+UHJpbWFyeTwvYnV0dG9uPlxcbiAgICAgICAgICAgICAgPGJ1dHRvbiB0eXBlPVxcXCJidXR0b25cXFwiIGNsYXNzPVxcXCJidG4gYnRuLXByaW1hcnkgZHJvcGRvd24tdG9nZ2xlXFxcIiBkYXRhLXRvZ2dsZT1cXFwiZHJvcGRvd25cXFwiIGFyaWEtaGFzcG9wdXA9XFxcInRydWVcXFwiIGFyaWEtZXhwYW5kZWQ9XFxcImZhbHNlXFxcIj5cXG4gICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XFxcImNhcmV0XFxcIj48L3NwYW4+XFxuICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVxcXCJzci1vbmx5XFxcIj5Ub2dnbGUgRHJvcGRvd248L3NwYW4+XFxuICAgICAgICAgICAgICA8L2J1dHRvbj5cXG4gICAgICAgICAgICAgIDx1bCBjbGFzcz1cXFwiZHJvcGRvd24tbWVudVxcXCI+XFxuICAgICAgICAgICAgICAgIDxsaT48YSBocmVmPVxcXCIjXFxcIj5BY3Rpb248L2E+PC9saT5cXG4gICAgICAgICAgICAgICAgPGxpPjxhIGhyZWY9XFxcIiNcXFwiPkFub3RoZXIgYWN0aW9uPC9hPjwvbGk+XFxuICAgICAgICAgICAgICAgIDxsaT48YSBocmVmPVxcXCIjXFxcIj5Tb21ldGhpbmcgZWxzZSBoZXJlPC9hPjwvbGk+XFxuICAgICAgICAgICAgICAgIDxsaSByb2xlPVxcXCJzZXBhcmF0b3JcXFwiIGNsYXNzPVxcXCJkaXZpZGVyXFxcIj48L2xpPlxcbiAgICAgICAgICAgICAgICA8bGk+PGEgaHJlZj1cXFwiI1xcXCI+U2VwYXJhdGVkIGxpbms8L2E+PC9saT5cXG4gICAgICAgICAgICAgIDwvdWw+XFxuICAgICAgICAgICAgPC9kaXY+PCEtLSAvYnRuLWdyb3VwIC0tPlxcbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XFxcImJ0bi1ncm91cFxcXCI+XFxuICAgICAgICAgICAgICA8YnV0dG9uIHR5cGU9XFxcImJ1dHRvblxcXCIgY2xhc3M9XFxcImJ0biBidG4tc3VjY2Vzc1xcXCI+U3VjY2VzczwvYnV0dG9uPlxcbiAgICAgICAgICAgICAgPGJ1dHRvbiB0eXBlPVxcXCJidXR0b25cXFwiIGNsYXNzPVxcXCJidG4gYnRuLXN1Y2Nlc3MgZHJvcGRvd24tdG9nZ2xlXFxcIiBkYXRhLXRvZ2dsZT1cXFwiZHJvcGRvd25cXFwiIGFyaWEtaGFzcG9wdXA9XFxcInRydWVcXFwiIGFyaWEtZXhwYW5kZWQ9XFxcImZhbHNlXFxcIj5cXG4gICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XFxcImNhcmV0XFxcIj48L3NwYW4+XFxuICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVxcXCJzci1vbmx5XFxcIj5Ub2dnbGUgRHJvcGRvd248L3NwYW4+XFxuICAgICAgICAgICAgICA8L2J1dHRvbj5cXG4gICAgICAgICAgICAgIDx1bCBjbGFzcz1cXFwiZHJvcGRvd24tbWVudVxcXCI+XFxuICAgICAgICAgICAgICAgIDxsaT48YSBocmVmPVxcXCIjXFxcIj5BY3Rpb248L2E+PC9saT5cXG4gICAgICAgICAgICAgICAgPGxpPjxhIGhyZWY9XFxcIiNcXFwiPkFub3RoZXIgYWN0aW9uPC9hPjwvbGk+XFxuICAgICAgICAgICAgICAgIDxsaT48YSBocmVmPVxcXCIjXFxcIj5Tb21ldGhpbmcgZWxzZSBoZXJlPC9hPjwvbGk+XFxuICAgICAgICAgICAgICAgIDxsaSByb2xlPVxcXCJzZXBhcmF0b3JcXFwiIGNsYXNzPVxcXCJkaXZpZGVyXFxcIj48L2xpPlxcbiAgICAgICAgICAgICAgICA8bGk+PGEgaHJlZj1cXFwiI1xcXCI+U2VwYXJhdGVkIGxpbms8L2E+PC9saT5cXG4gICAgICAgICAgICAgIDwvdWw+XFxuICAgICAgICAgICAgPC9kaXY+PCEtLSAvYnRuLWdyb3VwIC0tPlxcbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XFxcImJ0bi1ncm91cFxcXCI+XFxuICAgICAgICAgICAgICA8YnV0dG9uIHR5cGU9XFxcImJ1dHRvblxcXCIgY2xhc3M9XFxcImJ0biBidG4taW5mb1xcXCI+SW5mbzwvYnV0dG9uPlxcbiAgICAgICAgICAgICAgPGJ1dHRvbiB0eXBlPVxcXCJidXR0b25cXFwiIGNsYXNzPVxcXCJidG4gYnRuLWluZm8gZHJvcGRvd24tdG9nZ2xlXFxcIiBkYXRhLXRvZ2dsZT1cXFwiZHJvcGRvd25cXFwiIGFyaWEtaGFzcG9wdXA9XFxcInRydWVcXFwiIGFyaWEtZXhwYW5kZWQ9XFxcImZhbHNlXFxcIj5cXG4gICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XFxcImNhcmV0XFxcIj48L3NwYW4+XFxuICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVxcXCJzci1vbmx5XFxcIj5Ub2dnbGUgRHJvcGRvd248L3NwYW4+XFxuICAgICAgICAgICAgICA8L2J1dHRvbj5cXG4gICAgICAgICAgICAgIDx1bCBjbGFzcz1cXFwiZHJvcGRvd24tbWVudVxcXCI+XFxuICAgICAgICAgICAgICAgIDxsaT48YSBocmVmPVxcXCIjXFxcIj5BY3Rpb248L2E+PC9saT5cXG4gICAgICAgICAgICAgICAgPGxpPjxhIGhyZWY9XFxcIiNcXFwiPkFub3RoZXIgYWN0aW9uPC9hPjwvbGk+XFxuICAgICAgICAgICAgICAgIDxsaT48YSBocmVmPVxcXCIjXFxcIj5Tb21ldGhpbmcgZWxzZSBoZXJlPC9hPjwvbGk+XFxuICAgICAgICAgICAgICAgIDxsaSByb2xlPVxcXCJzZXBhcmF0b3JcXFwiIGNsYXNzPVxcXCJkaXZpZGVyXFxcIj48L2xpPlxcbiAgICAgICAgICAgICAgICA8bGk+PGEgaHJlZj1cXFwiI1xcXCI+U2VwYXJhdGVkIGxpbms8L2E+PC9saT5cXG4gICAgICAgICAgICAgIDwvdWw+XFxuICAgICAgICAgICAgPC9kaXY+PCEtLSAvYnRuLWdyb3VwIC0tPlxcbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XFxcImJ0bi1ncm91cFxcXCI+XFxuICAgICAgICAgICAgICA8YnV0dG9uIHR5cGU9XFxcImJ1dHRvblxcXCIgY2xhc3M9XFxcImJ0biBidG4td2FybmluZ1xcXCI+V2FybmluZzwvYnV0dG9uPlxcbiAgICAgICAgICAgICAgPGJ1dHRvbiB0eXBlPVxcXCJidXR0b25cXFwiIGNsYXNzPVxcXCJidG4gYnRuLXdhcm5pbmcgZHJvcGRvd24tdG9nZ2xlXFxcIiBkYXRhLXRvZ2dsZT1cXFwiZHJvcGRvd25cXFwiIGFyaWEtaGFzcG9wdXA9XFxcInRydWVcXFwiIGFyaWEtZXhwYW5kZWQ9XFxcImZhbHNlXFxcIj5cXG4gICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XFxcImNhcmV0XFxcIj48L3NwYW4+XFxuICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVxcXCJzci1vbmx5XFxcIj5Ub2dnbGUgRHJvcGRvd248L3NwYW4+XFxuICAgICAgICAgICAgICA8L2J1dHRvbj5cXG4gICAgICAgICAgICAgIDx1bCBjbGFzcz1cXFwiZHJvcGRvd24tbWVudVxcXCI+XFxuICAgICAgICAgICAgICAgIDxsaT48YSBocmVmPVxcXCIjXFxcIj5BY3Rpb248L2E+PC9saT5cXG4gICAgICAgICAgICAgICAgPGxpPjxhIGhyZWY9XFxcIiNcXFwiPkFub3RoZXIgYWN0aW9uPC9hPjwvbGk+XFxuICAgICAgICAgICAgICAgIDxsaT48YSBocmVmPVxcXCIjXFxcIj5Tb21ldGhpbmcgZWxzZSBoZXJlPC9hPjwvbGk+XFxuICAgICAgICAgICAgICAgIDxsaSByb2xlPVxcXCJzZXBhcmF0b3JcXFwiIGNsYXNzPVxcXCJkaXZpZGVyXFxcIj48L2xpPlxcbiAgICAgICAgICAgICAgICA8bGk+PGEgaHJlZj1cXFwiI1xcXCI+U2VwYXJhdGVkIGxpbms8L2E+PC9saT5cXG4gICAgICAgICAgICAgIDwvdWw+XFxuICAgICAgICAgICAgPC9kaXY+PCEtLSAvYnRuLWdyb3VwIC0tPlxcbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XFxcImJ0bi1ncm91cFxcXCI+XFxuICAgICAgICAgICAgICA8YnV0dG9uIHR5cGU9XFxcImJ1dHRvblxcXCIgY2xhc3M9XFxcImJ0biBidG4tZGFuZ2VyXFxcIj5EYW5nZXI8L2J1dHRvbj5cXG4gICAgICAgICAgICAgIDxidXR0b24gdHlwZT1cXFwiYnV0dG9uXFxcIiBjbGFzcz1cXFwiYnRuIGJ0bi1kYW5nZXIgZHJvcGRvd24tdG9nZ2xlXFxcIiBkYXRhLXRvZ2dsZT1cXFwiZHJvcGRvd25cXFwiIGFyaWEtaGFzcG9wdXA9XFxcInRydWVcXFwiIGFyaWEtZXhwYW5kZWQ9XFxcImZhbHNlXFxcIj5cXG4gICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XFxcImNhcmV0XFxcIj48L3NwYW4+XFxuICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVxcXCJzci1vbmx5XFxcIj5Ub2dnbGUgRHJvcGRvd248L3NwYW4+XFxuICAgICAgICAgICAgICA8L2J1dHRvbj5cXG4gICAgICAgICAgICAgIDx1bCBjbGFzcz1cXFwiZHJvcGRvd24tbWVudVxcXCI+XFxuICAgICAgICAgICAgICAgIDxsaT48YSBocmVmPVxcXCIjXFxcIj5BY3Rpb248L2E+PC9saT5cXG4gICAgICAgICAgICAgICAgPGxpPjxhIGhyZWY9XFxcIiNcXFwiPkFub3RoZXIgYWN0aW9uPC9hPjwvbGk+XFxuICAgICAgICAgICAgICAgIDxsaT48YSBocmVmPVxcXCIjXFxcIj5Tb21ldGhpbmcgZWxzZSBoZXJlPC9hPjwvbGk+XFxuICAgICAgICAgICAgICAgIDxsaSByb2xlPVxcXCJzZXBhcmF0b3JcXFwiIGNsYXNzPVxcXCJkaXZpZGVyXFxcIj48L2xpPlxcbiAgICAgICAgICAgICAgICA8bGk+PGEgaHJlZj1cXFwiI1xcXCI+U2VwYXJhdGVkIGxpbms8L2E+PC9saT5cXG4gICAgICAgICAgICAgIDwvdWw+XFxuICAgICAgICAgICAgPC9kaXY+PCEtLSAvYnRuLWdyb3VwIC0tPlxcbiAgICAgICAgICA8L2Rpdj5cXG4gICAgICAgICAgPGRpdiBjbGFzcz1cXFwiaGlnaGxpZ2h0XFxcIj48cHJlPjxjb2RlIGNsYXNzPVxcXCJsYW5ndWFnZS1odG1sXFxcIiBkYXRhLWxhbmc9XFxcImh0bWxcXFwiPjxzcGFuIGNsYXNzPVxcXCJjXFxcIj4mbHQ7IS0tIFNwbGl0IGJ1dHRvbiAtLSZndDs8L3NwYW4+XFxuPHNwYW4gY2xhc3M9XFxcIm50XFxcIj4mbHQ7ZGl2PC9zcGFuPiA8c3BhbiBjbGFzcz1cXFwibmFcXFwiPmNsYXNzPTwvc3Bhbj48c3BhbiBjbGFzcz1cXFwic1xcXCI+XFxcImJ0bi1ncm91cFxcXCI8L3NwYW4+PHNwYW4gY2xhc3M9XFxcIm50XFxcIj4mZ3Q7PC9zcGFuPlxcbiAgPHNwYW4gY2xhc3M9XFxcIm50XFxcIj4mbHQ7YnV0dG9uPC9zcGFuPiA8c3BhbiBjbGFzcz1cXFwibmFcXFwiPnR5cGU9PC9zcGFuPjxzcGFuIGNsYXNzPVxcXCJzXFxcIj5cXFwiYnV0dG9uXFxcIjwvc3Bhbj4gPHNwYW4gY2xhc3M9XFxcIm5hXFxcIj5jbGFzcz08L3NwYW4+PHNwYW4gY2xhc3M9XFxcInNcXFwiPlxcXCJidG4gYnRuLWRhbmdlclxcXCI8L3NwYW4+PHNwYW4gY2xhc3M9XFxcIm50XFxcIj4mZ3Q7PC9zcGFuPkFjdGlvbjxzcGFuIGNsYXNzPVxcXCJudFxcXCI+Jmx0Oy9idXR0b24mZ3Q7PC9zcGFuPlxcbiAgPHNwYW4gY2xhc3M9XFxcIm50XFxcIj4mbHQ7YnV0dG9uPC9zcGFuPiA8c3BhbiBjbGFzcz1cXFwibmFcXFwiPnR5cGU9PC9zcGFuPjxzcGFuIGNsYXNzPVxcXCJzXFxcIj5cXFwiYnV0dG9uXFxcIjwvc3Bhbj4gPHNwYW4gY2xhc3M9XFxcIm5hXFxcIj5jbGFzcz08L3NwYW4+PHNwYW4gY2xhc3M9XFxcInNcXFwiPlxcXCJidG4gYnRuLWRhbmdlciBkcm9wZG93bi10b2dnbGVcXFwiPC9zcGFuPiA8c3BhbiBjbGFzcz1cXFwibmFcXFwiPmRhdGEtdG9nZ2xlPTwvc3Bhbj48c3BhbiBjbGFzcz1cXFwic1xcXCI+XFxcImRyb3Bkb3duXFxcIjwvc3Bhbj4gPHNwYW4gY2xhc3M9XFxcIm5hXFxcIj5hcmlhLWhhc3BvcHVwPTwvc3Bhbj48c3BhbiBjbGFzcz1cXFwic1xcXCI+XFxcInRydWVcXFwiPC9zcGFuPiA8c3BhbiBjbGFzcz1cXFwibmFcXFwiPmFyaWEtZXhwYW5kZWQ9PC9zcGFuPjxzcGFuIGNsYXNzPVxcXCJzXFxcIj5cXFwiZmFsc2VcXFwiPC9zcGFuPjxzcGFuIGNsYXNzPVxcXCJudFxcXCI+Jmd0Ozwvc3Bhbj5cXG4gICAgPHNwYW4gY2xhc3M9XFxcIm50XFxcIj4mbHQ7c3Bhbjwvc3Bhbj4gPHNwYW4gY2xhc3M9XFxcIm5hXFxcIj5jbGFzcz08L3NwYW4+PHNwYW4gY2xhc3M9XFxcInNcXFwiPlxcXCJjYXJldFxcXCI8L3NwYW4+PHNwYW4gY2xhc3M9XFxcIm50XFxcIj4mZ3Q7Jmx0Oy9zcGFuJmd0Ozwvc3Bhbj5cXG4gICAgPHNwYW4gY2xhc3M9XFxcIm50XFxcIj4mbHQ7c3Bhbjwvc3Bhbj4gPHNwYW4gY2xhc3M9XFxcIm5hXFxcIj5jbGFzcz08L3NwYW4+PHNwYW4gY2xhc3M9XFxcInNcXFwiPlxcXCJzci1vbmx5XFxcIjwvc3Bhbj48c3BhbiBjbGFzcz1cXFwibnRcXFwiPiZndDs8L3NwYW4+VG9nZ2xlIERyb3Bkb3duPHNwYW4gY2xhc3M9XFxcIm50XFxcIj4mbHQ7L3NwYW4mZ3Q7PC9zcGFuPlxcbiAgPHNwYW4gY2xhc3M9XFxcIm50XFxcIj4mbHQ7L2J1dHRvbiZndDs8L3NwYW4+XFxuICA8c3BhbiBjbGFzcz1cXFwibnRcXFwiPiZsdDt1bDwvc3Bhbj4gPHNwYW4gY2xhc3M9XFxcIm5hXFxcIj5jbGFzcz08L3NwYW4+PHNwYW4gY2xhc3M9XFxcInNcXFwiPlxcXCJkcm9wZG93bi1tZW51XFxcIjwvc3Bhbj48c3BhbiBjbGFzcz1cXFwibnRcXFwiPiZndDs8L3NwYW4+XFxuICAgIDxzcGFuIGNsYXNzPVxcXCJudFxcXCI+Jmx0O2xpJmd0OyZsdDthPC9zcGFuPiA8c3BhbiBjbGFzcz1cXFwibmFcXFwiPmhyZWY9PC9zcGFuPjxzcGFuIGNsYXNzPVxcXCJzXFxcIj5cXFwiI1xcXCI8L3NwYW4+PHNwYW4gY2xhc3M9XFxcIm50XFxcIj4mZ3Q7PC9zcGFuPkFjdGlvbjxzcGFuIGNsYXNzPVxcXCJudFxcXCI+Jmx0Oy9hJmd0OyZsdDsvbGkmZ3Q7PC9zcGFuPlxcbiAgICA8c3BhbiBjbGFzcz1cXFwibnRcXFwiPiZsdDtsaSZndDsmbHQ7YTwvc3Bhbj4gPHNwYW4gY2xhc3M9XFxcIm5hXFxcIj5ocmVmPTwvc3Bhbj48c3BhbiBjbGFzcz1cXFwic1xcXCI+XFxcIiNcXFwiPC9zcGFuPjxzcGFuIGNsYXNzPVxcXCJudFxcXCI+Jmd0Ozwvc3Bhbj5Bbm90aGVyIGFjdGlvbjxzcGFuIGNsYXNzPVxcXCJudFxcXCI+Jmx0Oy9hJmd0OyZsdDsvbGkmZ3Q7PC9zcGFuPlxcbiAgICA8c3BhbiBjbGFzcz1cXFwibnRcXFwiPiZsdDtsaSZndDsmbHQ7YTwvc3Bhbj4gPHNwYW4gY2xhc3M9XFxcIm5hXFxcIj5ocmVmPTwvc3Bhbj48c3BhbiBjbGFzcz1cXFwic1xcXCI+XFxcIiNcXFwiPC9zcGFuPjxzcGFuIGNsYXNzPVxcXCJudFxcXCI+Jmd0Ozwvc3Bhbj5Tb21ldGhpbmcgZWxzZSBoZXJlPHNwYW4gY2xhc3M9XFxcIm50XFxcIj4mbHQ7L2EmZ3Q7Jmx0Oy9saSZndDs8L3NwYW4+XFxuICAgIDxzcGFuIGNsYXNzPVxcXCJudFxcXCI+Jmx0O2xpPC9zcGFuPiA8c3BhbiBjbGFzcz1cXFwibmFcXFwiPnJvbGU9PC9zcGFuPjxzcGFuIGNsYXNzPVxcXCJzXFxcIj5cXFwic2VwYXJhdG9yXFxcIjwvc3Bhbj4gPHNwYW4gY2xhc3M9XFxcIm5hXFxcIj5jbGFzcz08L3NwYW4+PHNwYW4gY2xhc3M9XFxcInNcXFwiPlxcXCJkaXZpZGVyXFxcIjwvc3Bhbj48c3BhbiBjbGFzcz1cXFwibnRcXFwiPiZndDsmbHQ7L2xpJmd0Ozwvc3Bhbj5cXG4gICAgPHNwYW4gY2xhc3M9XFxcIm50XFxcIj4mbHQ7bGkmZ3Q7Jmx0O2E8L3NwYW4+IDxzcGFuIGNsYXNzPVxcXCJuYVxcXCI+aHJlZj08L3NwYW4+PHNwYW4gY2xhc3M9XFxcInNcXFwiPlxcXCIjXFxcIjwvc3Bhbj48c3BhbiBjbGFzcz1cXFwibnRcXFwiPiZndDs8L3NwYW4+U2VwYXJhdGVkIGxpbms8c3BhbiBjbGFzcz1cXFwibnRcXFwiPiZsdDsvYSZndDsmbHQ7L2xpJmd0Ozwvc3Bhbj5cXG4gIDxzcGFuIGNsYXNzPVxcXCJudFxcXCI+Jmx0Oy91bCZndDs8L3NwYW4+XFxuPHNwYW4gY2xhc3M9XFxcIm50XFxcIj4mbHQ7L2RpdiZndDs8L3NwYW4+PC9jb2RlPjwvcHJlPjwvZGl2PlxcblxcbiAgICAgICAgPC9kaXY+XFxuXFxuICAgICAgICA8ZGl2IGNsYXNzPVxcXCJicy1kb2NzLXNlY3Rpb25cXFwiPlxcbiAgICAgICAgICA8aDEgaWQ9XFxcImJ0bi1ncm91cHNcXFwiIGNsYXNzPVxcXCJwYWdlLWhlYWRlclxcXCI+PGEgY2xhc3M9XFxcImFuY2hvcmpzLWxpbmsgXFxcIiBocmVmPVxcXCIjYnRuLWdyb3Vwc1xcXCIgYXJpYS1sYWJlbD1cXFwiQW5jaG9yIGxpbmsgZm9yOiBidG4gZ3JvdXBzXFxcIiBkYXRhLWFuY2hvcmpzLWljb249XFxcIu6ni1xcXCIgc3R5bGU9XFxcImZvbnQtZmFtaWx5OiBhbmNob3Jqcy1pY29uczsgZm9udC1zdHlsZTogbm9ybWFsOyBmb250LXZhcmlhbnQ6IG5vcm1hbDsgZm9udC13ZWlnaHQ6IG5vcm1hbDsgcG9zaXRpb246IGFic29sdXRlOyBtYXJnaW4tbGVmdDogLTFlbTsgcGFkZGluZy1yaWdodDogMC41ZW07XFxcIj48L2E+5oyJ6ZKu57uEPC9oMT5cXG4gICAgICAgICAgPHAgY2xhc3M9XFxcImxlYWRcXFwiPumAmui/h+aMiemSrue7hOWuueWZqOaKiuS4gOe7hOaMiemSruaUvuWcqOWQjOS4gOihjOmHjOOAgjwvcD5cXG4gICAgICAgICAgPGRpdiBjbGFzcz1cXFwiYnMtZXhhbXBsZVxcXCIgZGF0YS1leGFtcGxlLWlkPVxcXCJzaW1wbGUtYnV0dG9uLWdyb3VwXFxcIj5cXG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVxcXCJidG4tZ3JvdXBcXFwiIHJvbGU9XFxcImdyb3VwXFxcIiBhcmlhLWxhYmVsPVxcXCJCYXNpYyBleGFtcGxlXFxcIj5cXG4gICAgICAgICAgICAgIDxidXR0b24gdHlwZT1cXFwiYnV0dG9uXFxcIiBjbGFzcz1cXFwiYnRuIGJ0bi1kZWZhdWx0XFxcIj5MZWZ0PC9idXR0b24+XFxuICAgICAgICAgICAgICA8YnV0dG9uIHR5cGU9XFxcImJ1dHRvblxcXCIgY2xhc3M9XFxcImJ0biBidG4tZGVmYXVsdFxcXCI+TWlkZGxlPC9idXR0b24+XFxuICAgICAgICAgICAgICA8YnV0dG9uIHR5cGU9XFxcImJ1dHRvblxcXCIgY2xhc3M9XFxcImJ0biBidG4tZGVmYXVsdFxcXCI+UmlnaHQ8L2J1dHRvbj5cXG4gICAgICAgICAgICA8L2Rpdj5cXG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVxcXCJidG4tZ3JvdXAgYnRuLWdyb3VwLXN1Y2Nlc3NcXFwiIHJvbGU9XFxcImdyb3VwXFxcIiBhcmlhLWxhYmVsPVxcXCJCYXNpYyBleGFtcGxlXFxcIj5cXG4gICAgICAgICAgICAgIDxidXR0b24gdHlwZT1cXFwiYnV0dG9uXFxcIiBjbGFzcz1cXFwiYnRuIGJ0bi1kZWZhdWx0XFxcIj5MZWZ0PC9idXR0b24+XFxuICAgICAgICAgICAgICA8YnV0dG9uIHR5cGU9XFxcImJ1dHRvblxcXCIgY2xhc3M9XFxcImJ0biBidG4tZGVmYXVsdCBhY3RpdmVcXFwiPk1pZGRsZTwvYnV0dG9uPlxcbiAgICAgICAgICAgICAgPGJ1dHRvbiB0eXBlPVxcXCJidXR0b25cXFwiIGNsYXNzPVxcXCJidG4gYnRuLWRlZmF1bHRcXFwiPlJpZ2h0PC9idXR0b24+XFxuICAgICAgICAgICAgPC9kaXY+XFxuICAgICAgICAgIDwvZGl2PlxcbiAgICAgICAgICA8ZGl2IGNsYXNzPVxcXCJoaWdobGlnaHRcXFwiPjxwcmU+PGNvZGUgY2xhc3M9XFxcImxhbmd1YWdlLWh0bWxcXFwiIGRhdGEtbGFuZz1cXFwiaHRtbFxcXCI+PHNwYW4gY2xhc3M9XFxcIm50XFxcIj4mbHQ7ZGl2PC9zcGFuPiA8c3BhbiBjbGFzcz1cXFwibmFcXFwiPmNsYXNzPTwvc3Bhbj48c3BhbiBjbGFzcz1cXFwic1xcXCI+XFxcImJ0bi1ncm91cFxcXCI8L3NwYW4+IDxzcGFuIGNsYXNzPVxcXCJuYVxcXCI+cm9sZT08L3NwYW4+PHNwYW4gY2xhc3M9XFxcInNcXFwiPlxcXCJncm91cFxcXCI8L3NwYW4+IDxzcGFuIGNsYXNzPVxcXCJuYVxcXCI+YXJpYS1sYWJlbD08L3NwYW4+PHNwYW4gY2xhc3M9XFxcInNcXFwiPlxcXCIuLi5cXFwiPC9zcGFuPjxzcGFuIGNsYXNzPVxcXCJudFxcXCI+Jmd0Ozwvc3Bhbj5cXG4gIDxzcGFuIGNsYXNzPVxcXCJudFxcXCI+Jmx0O2J1dHRvbjwvc3Bhbj4gPHNwYW4gY2xhc3M9XFxcIm5hXFxcIj50eXBlPTwvc3Bhbj48c3BhbiBjbGFzcz1cXFwic1xcXCI+XFxcImJ1dHRvblxcXCI8L3NwYW4+IDxzcGFuIGNsYXNzPVxcXCJuYVxcXCI+Y2xhc3M9PC9zcGFuPjxzcGFuIGNsYXNzPVxcXCJzXFxcIj5cXFwiYnRuIGJ0bi1kZWZhdWx0XFxcIjwvc3Bhbj48c3BhbiBjbGFzcz1cXFwibnRcXFwiPiZndDs8L3NwYW4+TGVmdDxzcGFuIGNsYXNzPVxcXCJudFxcXCI+Jmx0Oy9idXR0b24mZ3Q7PC9zcGFuPlxcbiAgPHNwYW4gY2xhc3M9XFxcIm50XFxcIj4mbHQ7YnV0dG9uPC9zcGFuPiA8c3BhbiBjbGFzcz1cXFwibmFcXFwiPnR5cGU9PC9zcGFuPjxzcGFuIGNsYXNzPVxcXCJzXFxcIj5cXFwiYnV0dG9uXFxcIjwvc3Bhbj4gPHNwYW4gY2xhc3M9XFxcIm5hXFxcIj5jbGFzcz08L3NwYW4+PHNwYW4gY2xhc3M9XFxcInNcXFwiPlxcXCJidG4gYnRuLWRlZmF1bHRcXFwiPC9zcGFuPjxzcGFuIGNsYXNzPVxcXCJudFxcXCI+Jmd0Ozwvc3Bhbj5NaWRkbGU8c3BhbiBjbGFzcz1cXFwibnRcXFwiPiZsdDsvYnV0dG9uJmd0Ozwvc3Bhbj5cXG4gIDxzcGFuIGNsYXNzPVxcXCJudFxcXCI+Jmx0O2J1dHRvbjwvc3Bhbj4gPHNwYW4gY2xhc3M9XFxcIm5hXFxcIj50eXBlPTwvc3Bhbj48c3BhbiBjbGFzcz1cXFwic1xcXCI+XFxcImJ1dHRvblxcXCI8L3NwYW4+IDxzcGFuIGNsYXNzPVxcXCJuYVxcXCI+Y2xhc3M9PC9zcGFuPjxzcGFuIGNsYXNzPVxcXCJzXFxcIj5cXFwiYnRuIGJ0bi1kZWZhdWx0XFxcIjwvc3Bhbj48c3BhbiBjbGFzcz1cXFwibnRcXFwiPiZndDs8L3NwYW4+UmlnaHQ8c3BhbiBjbGFzcz1cXFwibnRcXFwiPiZsdDsvYnV0dG9uJmd0Ozwvc3Bhbj5cXG48c3BhbiBjbGFzcz1cXFwibnRcXFwiPiZsdDsvZGl2Jmd0Ozwvc3Bhbj48L2NvZGU+PC9wcmU+PC9kaXY+XFxuXFxuICAgICAgICA8L2Rpdj5cXG5cXG4gICAgICAgIDxkaXYgY2xhc3M9XFxcImJzLWRvY3Mtc2VjdGlvblxcXCI+XFxuICAgICAgICAgIDxoMSBpZD1cXFwiZm9ybXNcXFwiIGNsYXNzPVxcXCJwYWdlLWhlYWRlclxcXCI+PGEgY2xhc3M9XFxcImFuY2hvcmpzLWxpbmsgXFxcIiBocmVmPVxcXCIjZm9ybXNcXFwiIGFyaWEtbGFiZWw9XFxcIkFuY2hvciBsaW5rIGZvcjogZm9ybXNcXFwiIGRhdGEtYW5jaG9yanMtaWNvbj1cXFwi7qeLXFxcIiBzdHlsZT1cXFwiZm9udC1mYW1pbHk6IGFuY2hvcmpzLWljb25zOyBmb250LXN0eWxlOiBub3JtYWw7IGZvbnQtdmFyaWFudDogbm9ybWFsOyBmb250LXdlaWdodDogbm9ybWFsOyBwb3NpdGlvbjogYWJzb2x1dGU7IG1hcmdpbi1sZWZ0OiAtMWVtOyBwYWRkaW5nLXJpZ2h0OiAwLjVlbTtcXFwiPjwvYT7ooajljZU8L2gxPlxcbiAgICAgICAgICA8aDIgaWQ9XFxcImZvcm1zLWV4YW1wbGVcXFwiPjxhIGNsYXNzPVxcXCJhbmNob3Jqcy1saW5rIFxcXCIgaHJlZj1cXFwiI2Zvcm1zLWV4YW1wbGVcXFwiIGFyaWEtbGFiZWw9XFxcIkFuY2hvciBsaW5rIGZvcjogZm9ybXMgZXhhbXBsZVxcXCIgZGF0YS1hbmNob3Jqcy1pY29uPVxcXCLup4tcXFwiIHN0eWxlPVxcXCJmb250LWZhbWlseTogYW5jaG9yanMtaWNvbnM7IGZvbnQtc3R5bGU6IG5vcm1hbDsgZm9udC12YXJpYW50OiBub3JtYWw7IGZvbnQtd2VpZ2h0OiBub3JtYWw7IHBvc2l0aW9uOiBhYnNvbHV0ZTsgbWFyZ2luLWxlZnQ6IC0xZW07IHBhZGRpbmctcmlnaHQ6IDAuNWVtO1xcXCI+PC9hPuWfuuacrOWunuS+izwvaDI+XFxuICAgICAgICAgIDxwPuWNleeLrOeahOihqOWNleaOp+S7tuS8muiiq+iHquWKqOi1i+S6iOS4gOS6m+WFqOWxgOagt+W8j+OAguaJgOacieiuvue9ruS6hiA8Y29kZT4uZm9ybS1jb250cm9sPC9jb2RlPiDnsbvnmoQgPGNvZGU+Jmx0O2lucHV0Jmd0OzwvY29kZT7jgIE8Y29kZT4mbHQ7dGV4dGFyZWEmZ3Q7PC9jb2RlPiDlkowgPGNvZGU+Jmx0O3NlbGVjdCZndDs8L2NvZGU+IOWFg+e0oOmDveWwhuiiq+m7mOiupOiuvue9ruWuveW6puWxnuaAp+S4uiA8Y29kZT53aWR0aDogMTAwJTs8L2NvZGU+44CCIOWwhiA8Y29kZT5sYWJlbDwvY29kZT4g5YWD57Sg5ZKM5YmN6Z2i5o+Q5Yiw55qE5o6n5Lu25YyF6KO55ZyoIDxjb2RlPi5mb3JtLWdyb3VwPC9jb2RlPiDkuK3lj6/ku6XojrflvpfmnIDlpb3nmoTmjpLliJfjgII8L3A+XFxuXFxuICAgICAgICAgIDxkaXYgY2xhc3M9XFxcImJzLWV4YW1wbGVcXFwiPlxcbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XFxcInBhZ2UtaGVhZGVyXFxcIj48aDQ+5Z+65pys6K6+572uPC9oND48L2Rpdj5cXG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVxcXCJmb3JtLWhvcml6b250YWxcXFwiPlxcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVxcXCJmb3JtLWdyb3VwXFxcIj5cXG4gICAgICAgICAgICAgICAgICAgIDxsYWJlbCBmb3I9XFxcImlucHV0RW1haWwzXFxcIiBjbGFzcz1cXFwiY29sLXNtLTIgY29udHJvbC1sYWJlbFxcXCI+5paH5pys5qGGPC9sYWJlbD5cXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XFxcImNvbC1zbS04XFxcIj5cXG4gICAgICAgICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9XFxcImVtYWlsXFxcIiBjbGFzcz1cXFwiZm9ybS1jb250cm9sXFxcIiBpZD1cXFwiaW5wdXRFbWFpbDNcXFwiIHBsYWNlaG9sZGVyPVxcXCJcXFwiPlxcbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XFxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVxcXCJjb2wtc20tMlxcXCI+XFxuXFxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cXG4gICAgICAgICAgICAgICAgPC9kaXY+XFxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XFxcImZvcm0tZ3JvdXBcXFwiPlxcbiAgICAgICAgICAgICAgICAgICAgPGxhYmVsIGZvcj1cXFwiaW5wdXRTZWxlY3RcXFwiIGNsYXNzPVxcXCJjb2wtc20tMiBjb250cm9sLWxhYmVsXFxcIj7kuIvmi4nmoYY8L2xhYmVsPlxcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cXFwiY29sLXNtLThcXFwiPlxcbiAgICAgICAgICAgICAgICAgICAgICA8c2VsZWN0IGNsYXNzPVxcXCJmb3JtLWNvbnRyb2wgYy1zZWxlY3RcXFwiIGlkPVxcXCJpbnB1dFNlbGVjdFxcXCI+XFxuICAgICAgICAgICAgICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT1cXFwiMFxcXCI+5YWo6YOo5Yy65Z+fPC9vcHRpb24+XFxuICAgICAgICAgICAgICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT1cXFwiMVxcXCI+5Yy65Z+f5LiAPC9vcHRpb24+XFxuICAgICAgICAgICAgICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT1cXFwiMlxcXCI+5Yy65Z+f5LqMPC9vcHRpb24+XFxuICAgICAgICAgICAgICAgICAgICAgIDwvc2VsZWN0PlxcbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XFxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVxcXCJjb2wtc20tMlxcXCI+XFxuXFxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cXG4gICAgICAgICAgICAgICAgPC9kaXY+XFxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XFxcImZvcm0tZ3JvdXBcXFwiPlxcbiAgICAgICAgICAgICAgICAgICAgPGxhYmVsIGZvcj1cXFwiaW5wdXRFbWFpbDRcXFwiIGNsYXNzPVxcXCJjb2wtc20tMiBjb250cm9sLWxhYmVsXFxcIj7ljZXpgIkv5aSN6YCJ5qGGPC9sYWJlbD5cXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XFxcImNvbC1zbS04XFxcIj5cXG4gICAgICAgICAgICAgICAgICAgICAgICA8bGFiZWwgY2xhc3M9XFxcIm1jLXJhZGlvXFxcIj5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9XFxcInJhZGlvXFxcIiBuYW1lPVxcXCJyYWRpbzFcXFwiPlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3Bhbj48L3NwYW4+XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJhZGlvXFxuICAgICAgICAgICAgICAgICAgICAgICAgPC9sYWJlbD5cXG4gICAgICAgICAgICAgICAgICAgICAgICA8bGFiZWwgY2xhc3M9XFxcIm1jLXJhZGlvXFxcIj5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9XFxcInJhZGlvXFxcIiBuYW1lPVxcXCJyYWRpbzFcXFwiIGNoZWNrZWQ+XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuPjwvc3Bhbj5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmFkaW9cXG4gICAgICAgICAgICAgICAgICAgICAgICA8L2xhYmVsPlxcbiAgICAgICAgICAgICAgICAgICAgICAgIDxsYWJlbCBjbGFzcz1cXFwibWMtcmFkaW9cXFwiPlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT1cXFwiY2hlY2tib3hcXFwiIG5hbWU9XFxcImNoZWNrYm94MVxcXCI+XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpIGNsYXNzPVxcXCJpY29uLWNoZWNrXFxcIj48L2k+XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoZWNrYm94XFxuICAgICAgICAgICAgICAgICAgICAgICAgPC9sYWJlbD5cXG4gICAgICAgICAgICAgICAgICAgICAgICA8bGFiZWwgY2xhc3M9XFxcIm1jLXJhZGlvXFxcIj5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9XFxcImNoZWNrYm94XFxcIiBuYW1lPVxcXCJjaGVja2JveDFcXFwiIGNoZWNrZWQ+XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpIGNsYXNzPVxcXCJpY29uLWNoZWNrXFxcIj48L2k+XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoZWNrYm94XFxuICAgICAgICAgICAgICAgICAgICAgICAgPC9sYWJlbD5cXG5cXG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cXFwiY29sLXNtLTJcXFwiPlxcblxcbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XFxuICAgICAgICAgICAgICAgIDwvZGl2PlxcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVxcXCJmb3JtLWdyb3VwXFxcIj5cXG4gICAgICAgICAgICAgICAgICAgIDxsYWJlbCBmb3I9XFxcImlucHV0U2VsZWN0XFxcIiBjbGFzcz1cXFwiY29sLXNtLTIgY29udHJvbC1sYWJlbFxcXCI+6YKu566xPC9sYWJlbD5cXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XFxcImNvbC1zbS04XFxcIj5cXG4gICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3M9XFxcImZvcm0tY29udHJvbC1zdGF0aWNcXFwiPjEyMzQ1Njc4OUBxcS5jb208L3A+XFxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XFxcImNvbC1zbS0yIHRleHQtcmlnaHRcXFwiPlxcbiAgICAgICAgICAgICAgICAgICAgICAgIDxhIGhyZWY9XFxcIlxcXCIgY2xhc3M9XFxcImJ0biBidG4tbGlua1xcXCI+57yW6L6RIDxpIGNsYXNzPVxcXCJpY29uLWFycm93LWRvd24gc21hbGxcXFwiPjwvaT48L2E+XFxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cXG4gICAgICAgICAgICAgICAgPC9kaXY+XFxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XFxcImZvcm0tZ3JvdXBcXFwiPlxcbiAgICAgICAgICAgICAgICAgICAgPGxhYmVsIGZvcj1cXFwiaW5wdXRTZWxlY3RcXFwiIGNsYXNzPVxcXCJjb2wtc20tMiBjb250cm9sLWxhYmVsXFxcIj7kuIvmi4nmoYY8L2xhYmVsPlxcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cXFwiY29sLXNtLThcXFwiPlxcblxcbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XFxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVxcXCJjb2wtc20tMiB0ZXh0LXJpZ2h0XFxcIj5cXG4gICAgICAgICAgICAgICAgICAgICAgICA8YSBocmVmPVxcXCJcXFwiIGNsYXNzPVxcXCJidG4gYnRuLWxpbmtcXFwiPuaUtui1tyA8aSBjbGFzcz1cXFwiaWNvbi1hcnJvdy11cCBzbWFsbFxcXCI+PC9pPjwvYT5cXG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cXFwiY2xlYXJmaXhcXFwiPjwvZGl2PlxcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cXFwiY29scy1lZGl0XFxcIj5cXG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVxcXCJjb2wtc20tOCBjb2wtc20tb2Zmc2V0LTIgY29sLXNtLW9mZnNldC0yXFxcIj5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxzZWxlY3QgY2xhc3M9XFxcImZvcm0tY29udHJvbCBjLXNlbGVjdFxcXCIgaWQ9XFxcImlucHV0U2VsZWN0XFxcIj5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT1cXFwiMFxcXCI+5YWo6YOo5Yy65Z+fPC9vcHRpb24+XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9XFxcIjFcXFwiPuWMuuWfn+S4gDwvb3B0aW9uPlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8b3B0aW9uIHZhbHVlPVxcXCIyXFxcIj7ljLrln5/kuow8L29wdGlvbj5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDwvc2VsZWN0PlxcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxcbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XFxcImNvbC1zbS04IGNvbC1zbS1vZmZzZXQtMiBjb2wtc20tb2Zmc2V0LTJcXFwiPlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz1cXFwiYnRuIGJ0bi1zdWNjZXNzXFxcIj7kv53lrZg8L2J1dHRvbj5cXG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cXG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxcbiAgICAgICAgICAgICAgICA8L2Rpdj5cXG4gICAgICAgICAgICA8L2Rpdj5cXG4gICAgICAgICAgPC9kaXY+XFxuXFxuICAgICAgICAgICAgPHA+5bim5qC35byP55qE6KGo5Y2V77yaPC9wPlxcbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XFxcImJzLWV4YW1wbGVcXFwiPlxcbiAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cXFwicGFnZS1oZWFkZXJcXFwiPjxoND7ln7rmnKzorr7nva48L2g0PjwvZGl2PlxcbiAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cXFwiZm9ybS1ob3Jpem9udGFsXFxcIj5cXG4gICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVxcXCJmb3JtLWdyb3VwIGhhcy1zdWNjZXNzXFxcIj5cXG4gICAgICAgICAgICAgICAgICAgICAgPGxhYmVsIGZvcj1cXFwiaW5wdXRFbWFpbDNcXFwiIGNsYXNzPVxcXCJjb2wtc20tMiBjb250cm9sLWxhYmVsIHRleHQtbGVmdFxcXCI+5paH5pys5qGGPHNwYW4gY2xhc3M9XFxcInRleHQtdGlwXFxcIj4qPC9zcGFuPjwvbGFiZWw+XFxuICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XFxcImNvbC1zbS04XFxcIj5cXG4gICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT1cXFwiZW1haWxcXFwiIGNsYXNzPVxcXCJmb3JtLWNvbnRyb2xcXFwiIGlkPVxcXCJpbnB1dEVtYWlsM1xcXCIgcGxhY2Vob2xkZXI9XFxcIlxcXCI+XFxuICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxcbiAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVxcXCJjb2wtc20tMlxcXCI+XFxuXFxuICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxcbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxcbiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XFxcImZvcm0tZ3JvdXAgaGFzLWVycm9yXFxcIj5cXG4gICAgICAgICAgICAgICAgICAgICAgPGxhYmVsIGZvcj1cXFwiaW5wdXRTZWxlY3RcXFwiIGNsYXNzPVxcXCJjb2wtc20tMiBjb250cm9sLWxhYmVsIHRleHQtbGVmdFxcXCI+5LiL5ouJ5qGGPC9sYWJlbD5cXG4gICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cXFwiY29sLXNtLThcXFwiPlxcbiAgICAgICAgICAgICAgICAgICAgICAgIDxzZWxlY3QgY2xhc3M9XFxcImZvcm0tY29udHJvbCBjLXNlbGVjdFxcXCIgaWQ9XFxcImlucHV0U2VsZWN0XFxcIj5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9XFxcIjBcXFwiPuWFqOmDqOWMuuWfnzwvb3B0aW9uPlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT1cXFwiMVxcXCI+5Yy65Z+f5LiAPC9vcHRpb24+XFxuICAgICAgICAgICAgICAgICAgICAgICAgICA8b3B0aW9uIHZhbHVlPVxcXCIyXFxcIj7ljLrln5/kuow8L29wdGlvbj5cXG4gICAgICAgICAgICAgICAgICAgICAgICA8L3NlbGVjdD5cXG4gICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XFxuICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XFxcImNvbC1zbS0yXFxcIj5cXG5cXG4gICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XFxuICAgICAgICAgICAgICAgICAgPC9kaXY+XFxuICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cXFwiZm9ybS1ncm91cCBoYXMtZXJyb3JcXFwiPlxcbiAgICAgICAgICAgICAgICAgICAgICA8bGFiZWwgZm9yPVxcXCJpbnB1dEVtYWlsNFxcXCIgY2xhc3M9XFxcImNvbC1zbS0yIGNvbnRyb2wtbGFiZWwgdGV4dC1sZWZ0XFxcIj7ljZXpgIkv5aSN6YCJ5qGGPC9sYWJlbD5cXG4gICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cXFwiY29sLXNtLThcXFwiPlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPGxhYmVsIGNsYXNzPVxcXCJtYy1yYWRpb1xcXCI+XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9XFxcInJhZGlvXFxcIiBuYW1lPVxcXCJzLXJhZGlvMVxcXCI+XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4+PC9zcGFuPlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJhZGlvXFxuICAgICAgICAgICAgICAgICAgICAgICAgICA8L2xhYmVsPlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPGxhYmVsIGNsYXNzPVxcXCJtYy1yYWRpb1xcXCI+XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9XFxcInJhZGlvXFxcIiBuYW1lPVxcXCJzLXJhZGlvMVxcXCIgY2hlY2tlZD5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3Bhbj48L3NwYW4+XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmFkaW9cXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDwvbGFiZWw+XFxuICAgICAgICAgICAgICAgICAgICAgICAgICA8bGFiZWwgY2xhc3M9XFxcIm1jLXJhZGlvXFxcIj5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT1cXFwiY2hlY2tib3hcXFwiIG5hbWU9XFxcInMtY2hlY2tib3gxXFxcIj5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aSBjbGFzcz1cXFwiaWNvbi1jaGVja1xcXCI+PC9pPlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoZWNrYm94XFxuICAgICAgICAgICAgICAgICAgICAgICAgICA8L2xhYmVsPlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPGxhYmVsIGNsYXNzPVxcXCJtYy1yYWRpb1xcXCI+XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9XFxcImNoZWNrYm94XFxcIiBuYW1lPVxcXCJzLWNoZWNrYm94MVxcXCIgY2hlY2tlZD5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aSBjbGFzcz1cXFwiaWNvbi1jaGVja1xcXCI+PC9pPlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoZWNrYm94XFxuICAgICAgICAgICAgICAgICAgICAgICAgICA8L2xhYmVsPlxcblxcbiAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cXG4gICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cXFwiY29sLXNtLTJcXFwiPlxcblxcbiAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cXG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cXG4gICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVxcXCJmb3JtLWdyb3VwXFxcIj5cXG4gICAgICAgICAgICAgICAgICAgICAgPGxhYmVsIGZvcj1cXFwiaW5wdXRTZWxlY3RcXFwiIGNsYXNzPVxcXCJjb2wtc20tMiBjb250cm9sLWxhYmVsIHRleHQtbGVmdFxcXCI+6YKu566xPC9sYWJlbD5cXG4gICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cXFwiY29sLXNtLThcXFwiPlxcbiAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzPVxcXCJmb3JtLWNvbnRyb2wtc3RhdGljXFxcIj4xMjM0NTY3ODlAcXEuY29tPC9wPlxcbiAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cXG4gICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cXFwiY29sLXNtLTIgdGV4dC1yaWdodFxcXCI+XFxuICAgICAgICAgICAgICAgICAgICAgICAgICA8YSBocmVmPVxcXCJcXFwiIGNsYXNzPVxcXCJidG4gYnRuLWxpbmtcXFwiPue8lui+kSA8aSBjbGFzcz1cXFwiaWNvbi1hcnJvdy1kb3duIHNtYWxsXFxcIj48L2k+PC9hPlxcbiAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cXG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cXG4gICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVxcXCJmb3JtLWdyb3VwIGhhcy1lcnJvclxcXCI+XFxuICAgICAgICAgICAgICAgICAgICAgIDxsYWJlbCBmb3I9XFxcImlucHV0U2VsZWN0XFxcIiBjbGFzcz1cXFwiY29sLXNtLTIgY29udHJvbC1sYWJlbCB0ZXh0LWxlZnRcXFwiPuS4i+aLieahhjwvbGFiZWw+XFxuICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XFxcImNvbC1zbS04XFxcIj5cXG5cXG4gICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XFxuICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XFxcImNvbC1zbS0yIHRleHQtcmlnaHRcXFwiPlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPGEgaHJlZj1cXFwiXFxcIiBjbGFzcz1cXFwiYnRuIGJ0bi1saW5rXFxcIj7mlLbotbcgPGkgY2xhc3M9XFxcImljb24tYXJyb3ctdXAgc21hbGxcXFwiPjwvaT48L2E+XFxuICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxcbiAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVxcXCJjbGVhcmZpeFxcXCI+PC9kaXY+XFxuICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XFxcImNvbHMtZWRpdFxcXCI+XFxuICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVxcXCJjb2wtc20tOCBjb2wtc20tb2Zmc2V0LTIgY29sLXNtLW9mZnNldC0yXFxcIj5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNlbGVjdCBjbGFzcz1cXFwiZm9ybS1jb250cm9sIGMtc2VsZWN0XFxcIiBpZD1cXFwiaW5wdXRTZWxlY3RcXFwiPlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9XFxcIjBcXFwiPuWFqOmDqOWMuuWfnzwvb3B0aW9uPlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9XFxcIjFcXFwiPuWMuuWfn+S4gDwvb3B0aW9uPlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9XFxcIjJcXFwiPuWMuuWfn+S6jDwvb3B0aW9uPlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3NlbGVjdD5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cXFwiY29sLXNtLTggY29sLXNtLW9mZnNldC0yIGNvbC1zbS1vZmZzZXQtMlxcXCI+XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b24gY2xhc3M9XFxcImJ0biBidG4tc3VjY2Vzc1xcXCI+5L+d5a2YPC9idXR0b24+XFxuICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cXG4gICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XFxuICAgICAgICAgICAgICAgICAgPC9kaXY+XFxuICAgICAgICAgICAgICA8L2Rpdj5cXG4gICAgICAgICAgICA8L2Rpdj5cXG5cXG4gICAgICAgICAgICA8cD5hbmd1bGFy6aqM6K+B6KGo5qC877yaPC9wPlxcbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XFxcImJzLWV4YW1wbGVcXFwiPlxcbiAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cXFwicGFnZS1oZWFkZXJcXFwiPjxoND7ln7rmnKzorr7nva48L2g0PjwvZGl2PlxcbiAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cXFwiZm9ybS1ob3Jpem9udGFsXFxcIj5cXG4gICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVxcXCJmb3JtLWdyb3VwXFxcIj5cXG4gICAgICAgICAgICAgICAgICAgICAgPGxhYmVsIGZvcj1cXFwiaW5wdXRFbWFpbDNcXFwiIGNsYXNzPVxcXCJjb2wtc20tMiBjb250cm9sLWxhYmVsIHRleHQtbGVmdFxcXCI+5paH5pys5qGGPHNwYW4gY2xhc3M9XFxcInRleHQtdGlwXFxcIj4qPC9zcGFuPjwvbGFiZWw+XFxuICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XFxcImNvbC1zbS04XFxcIj5cXG4gICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT1cXFwiZW1haWxcXFwiIGNsYXNzPVxcXCJmb3JtLWNvbnRyb2wgbmctdmFsaWRcXFwiIGlkPVxcXCJpbnB1dEVtYWlsM1xcXCIgcGxhY2Vob2xkZXI9XFxcIlxcXCI+XFxuICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxcbiAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVxcXCJjb2wtc20tMlxcXCI+XFxuXFxuICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxcbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxcbiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XFxcImZvcm0tZ3JvdXBcXFwiPlxcbiAgICAgICAgICAgICAgICAgICAgICA8bGFiZWwgZm9yPVxcXCJpbnB1dFNlbGVjdFxcXCIgY2xhc3M9XFxcImNvbC1zbS0yIGNvbnRyb2wtbGFiZWwgdGV4dC1sZWZ0XFxcIj7kuIvmi4nmoYY8L2xhYmVsPlxcbiAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVxcXCJjb2wtc20tOFxcXCI+XFxuICAgICAgICAgICAgICAgICAgICAgICAgPHNlbGVjdCBjbGFzcz1cXFwiZm9ybS1jb250cm9sIGMtc2VsZWN0IG5nLWludmFsaWRcXFwiIGlkPVxcXCJpbnB1dFNlbGVjdFxcXCI+XFxuICAgICAgICAgICAgICAgICAgICAgICAgICA8b3B0aW9uIHZhbHVlPVxcXCIwXFxcIj7lhajpg6jljLrln588L29wdGlvbj5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9XFxcIjFcXFwiPuWMuuWfn+S4gDwvb3B0aW9uPlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT1cXFwiMlxcXCI+5Yy65Z+f5LqMPC9vcHRpb24+XFxuICAgICAgICAgICAgICAgICAgICAgICAgPC9zZWxlY3Q+XFxuICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4+PHAgY2xhc3M9XFxcInZhbGlkYXRpb24taW52YWxpZFxcXCI+5qC85byP5LiN5a+577yBPC9wPjwvc3Bhbj5cXG4gICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XFxuICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XFxcImNvbC1zbS0yXFxcIj5cXG5cXG4gICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XFxuICAgICAgICAgICAgICAgICAgPC9kaXY+XFxuICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cXFwiZm9ybS1ncm91cFxcXCI+XFxuICAgICAgICAgICAgICAgICAgICAgIDxsYWJlbCBmb3I9XFxcImlucHV0RW1haWw0XFxcIiBjbGFzcz1cXFwiY29sLXNtLTIgY29udHJvbC1sYWJlbCB0ZXh0LWxlZnRcXFwiPuWNlemAiS/lpI3pgInmoYY8L2xhYmVsPlxcbiAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVxcXCJjb2wtc20tOFxcXCI+XFxuICAgICAgICAgICAgICAgICAgICAgICAgICA8bGFiZWwgY2xhc3M9XFxcIm1jLXJhZGlvIG5nLXZhbGlkXFxcIj5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT1cXFwicmFkaW9cXFwiIG5hbWU9XFxcInJhZGlvMVxcXCI+XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4+PC9zcGFuPlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJhZGlvXFxuICAgICAgICAgICAgICAgICAgICAgICAgICA8L2xhYmVsPlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPGxhYmVsIGNsYXNzPVxcXCJtYy1yYWRpbyBuZy12YWxpZFxcXCI+XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9XFxcInJhZGlvXFxcIiBuYW1lPVxcXCJyYWRpbzFcXFwiIGNoZWNrZWQgPlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuPjwvc3Bhbj5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICByYWRpb1xcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC9sYWJlbD5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxsYWJlbCBjbGFzcz1cXFwibWMtcmFkaW8gbmctdmFsaWRcXFwiPlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPVxcXCJjaGVja2JveFxcXCIgbmFtZT1cXFwiY2hlY2tib3gxXFxcIj5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aSBjbGFzcz1cXFwiaWNvbi1jaGVja1xcXCI+PC9pPlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoZWNrYm94XFxuICAgICAgICAgICAgICAgICAgICAgICAgICA8L2xhYmVsPlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPGxhYmVsIGNsYXNzPVxcXCJtYy1yYWRpbyBuZy12YWxpZFxcXCI+XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9XFxcImNoZWNrYm94XFxcIiBuYW1lPVxcXCJjaGVja2JveDFcXFwiIGNoZWNrZWQ+XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGkgY2xhc3M9XFxcImljb24tY2hlY2tcXFwiPjwvaT5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGVja2JveFxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC9sYWJlbD5cXG5cXG4gICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XFxuICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XFxcImNvbC1zbS0yXFxcIj5cXG5cXG4gICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XFxuICAgICAgICAgICAgICAgICAgPC9kaXY+XFxuICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cXFwiZm9ybS1ncm91cFxcXCI+XFxuICAgICAgICAgICAgICAgICAgICAgIDxsYWJlbCBmb3I9XFxcImlucHV0RW1haWw0XFxcIiBjbGFzcz1cXFwiY29sLXNtLTIgY29udHJvbC1sYWJlbCB0ZXh0LWxlZnRcXFwiPuWNlemAiS/lpI3pgInmoYY8L2xhYmVsPlxcbiAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVxcXCJjb2wtc20tOFxcXCI+XFxuICAgICAgICAgICAgICAgICAgICAgICAgICA8bGFiZWwgY2xhc3M9XFxcIm1jLXJhZGlvIG5nLWludmFsaWRcXFwiPlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPVxcXCJyYWRpb1xcXCIgbmFtZT1cXFwiYS1yYWRpbzFcXFwiPlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuPjwvc3Bhbj5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICByYWRpb1xcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC9sYWJlbD5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxsYWJlbCBjbGFzcz1cXFwibWMtcmFkaW8gbmctaW52YWxpZFxcXCI+XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9XFxcInJhZGlvXFxcIiBuYW1lPVxcXCJhLXJhZGlvMVxcXCIgY2hlY2tlZCA+XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4+PC9zcGFuPlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJhZGlvXFxuICAgICAgICAgICAgICAgICAgICAgICAgICA8L2xhYmVsPlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPGxhYmVsIGNsYXNzPVxcXCJtYy1yYWRpbyBuZy1pbnZhbGlkXFxcIj5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT1cXFwiY2hlY2tib3hcXFwiIG5hbWU9XFxcImEtY2hlY2tib3gxXFxcIj5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aSBjbGFzcz1cXFwiaWNvbi1jaGVja1xcXCI+PC9pPlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoZWNrYm94XFxuICAgICAgICAgICAgICAgICAgICAgICAgICA8L2xhYmVsPlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPGxhYmVsIGNsYXNzPVxcXCJtYy1yYWRpbyBuZy1pbnZhbGlkXFxcIj5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT1cXFwiY2hlY2tib3hcXFwiIG5hbWU9XFxcImEtY2hlY2tib3gxXFxcIiBjaGVja2VkPlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpIGNsYXNzPVxcXCJpY29uLWNoZWNrXFxcIj48L2k+XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hlY2tib3hcXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDwvbGFiZWw+XFxuXFxuICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxcbiAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVxcXCJjb2wtc20tMlxcXCI+XFxuXFxuICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxcbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxcbiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XFxcImZvcm0tZ3JvdXBcXFwiPlxcbiAgICAgICAgICAgICAgICAgICAgICA8bGFiZWwgZm9yPVxcXCJpbnB1dFNlbGVjdFxcXCIgY2xhc3M9XFxcImNvbC1zbS0yIGNvbnRyb2wtbGFiZWwgdGV4dC1sZWZ0XFxcIj7pgq7nrrE8L2xhYmVsPlxcbiAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVxcXCJjb2wtc20tOFxcXCI+XFxuICAgICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3M9XFxcImZvcm0tY29udHJvbC1zdGF0aWNcXFwiPjEyMzQ1Njc4OUBxcS5jb208L3A+XFxuICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxcbiAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVxcXCJjb2wtc20tMiB0ZXh0LXJpZ2h0XFxcIj5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxhIGhyZWY9XFxcIlxcXCIgY2xhc3M9XFxcImJ0biBidG4tbGlua1xcXCI+57yW6L6RIDxpIGNsYXNzPVxcXCJpY29uLWFycm93LWRvd24gc21hbGxcXFwiPjwvaT48L2E+XFxuICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxcbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxcbiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XFxcImZvcm0tZ3JvdXBcXFwiPlxcbiAgICAgICAgICAgICAgICAgICAgICA8bGFiZWwgZm9yPVxcXCJpbnB1dFNlbGVjdFxcXCIgY2xhc3M9XFxcImNvbC1zbS0yIGNvbnRyb2wtbGFiZWwgdGV4dC1sZWZ0XFxcIj7kuIvmi4nmoYY8L2xhYmVsPlxcbiAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVxcXCJjb2wtc20tOFxcXCI+XFxuXFxuICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxcbiAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVxcXCJjb2wtc20tMiB0ZXh0LXJpZ2h0XFxcIj5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxhIGhyZWY9XFxcIlxcXCIgY2xhc3M9XFxcImJ0biBidG4tbGlua1xcXCI+5pS26LW3IDxpIGNsYXNzPVxcXCJpY29uLWFycm93LXVwIHNtYWxsXFxcIj48L2k+PC9hPlxcbiAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cXG4gICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cXFwiY2xlYXJmaXhcXFwiPjwvZGl2PlxcbiAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVxcXCJjb2xzLWVkaXRcXFwiPlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cXFwiY29sLXNtLTggY29sLXNtLW9mZnNldC0yIGNvbC1zbS1vZmZzZXQtMlxcXCI+XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzZWxlY3QgY2xhc3M9XFxcImZvcm0tY29udHJvbCBjLXNlbGVjdFxcXCIgaWQ9XFxcImlucHV0U2VsZWN0XFxcIj5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8b3B0aW9uIHZhbHVlPVxcXCIwXFxcIj7lhajpg6jljLrln588L29wdGlvbj5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8b3B0aW9uIHZhbHVlPVxcXCIxXFxcIj7ljLrln5/kuIA8L29wdGlvbj5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8b3B0aW9uIHZhbHVlPVxcXCIyXFxcIj7ljLrln5/kuow8L29wdGlvbj5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9zZWxlY3Q+XFxuICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XFxcImNvbC1zbS04IGNvbC1zbS1vZmZzZXQtMiBjb2wtc20tb2Zmc2V0LTJcXFwiPlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzPVxcXCJidG4gYnRuLXN1Y2Nlc3NcXFwiPuS/neWtmDwvYnV0dG9uPlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XFxuICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxcbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxcbiAgICAgICAgICAgICAgPC9kaXY+XFxuICAgICAgICAgICAgPC9kaXY+XFxuXFxuICAgICAgICA8L2Rpdj5cXG5cXG4gICAgICAgIDxkaXYgY2xhc3M9XFxcImJzLWRvY3Mtc2VjdGlvblxcXCI+XFxuXFxuICAgICAgICAgICAgPGgxIGlkPVxcXCJoZWxwZXItY2xhc3Nlc1xcXCIgY2xhc3M9XFxcInBhZ2UtaGVhZGVyXFxcIj48YSBjbGFzcz1cXFwiYW5jaG9yanMtbGluayBcXFwiIGhyZWY9XFxcIiNoZWxwZXItY2xhc3Nlc1xcXCIgYXJpYS1sYWJlbD1cXFwiQW5jaG9yIGxpbmsgZm9yOiBoZWxwZXIgY2xhc3Nlc1xcXCIgZGF0YS1hbmNob3Jqcy1pY29uPVxcXCLup4tcXFwiIHN0eWxlPVxcXCJmb250LWZhbWlseTogYW5jaG9yanMtaWNvbnM7IGZvbnQtc3R5bGU6IG5vcm1hbDsgZm9udC12YXJpYW50OiBub3JtYWw7IGZvbnQtd2VpZ2h0OiBub3JtYWw7IHBvc2l0aW9uOiBhYnNvbHV0ZTsgbWFyZ2luLWxlZnQ6IC0xZW07IHBhZGRpbmctcmlnaHQ6IDAuNWVtO1xcXCI+PC9hPui+heWKqeexuzwvaDE+XFxuICAgICAgICAgICAgPGgzIGlkPVxcXCJoZWxwZXItY2xhc3Nlcy1jb2xvcnNcXFwiPjxhIGNsYXNzPVxcXCJhbmNob3Jqcy1saW5rIFxcXCIgaHJlZj1cXFwiI2hlbHBlci1jbGFzc2VzLWNvbG9yc1xcXCIgYXJpYS1sYWJlbD1cXFwiQW5jaG9yIGxpbmsgZm9yOiBoZWxwZXIgY2xhc3NlcyBjb2xvcnNcXFwiIGRhdGEtYW5jaG9yanMtaWNvbj1cXFwi7qeLXFxcIiBzdHlsZT1cXFwiZm9udC1mYW1pbHk6IGFuY2hvcmpzLWljb25zOyBmb250LXN0eWxlOiBub3JtYWw7IGZvbnQtdmFyaWFudDogbm9ybWFsOyBmb250LXdlaWdodDogbm9ybWFsOyBwb3NpdGlvbjogYWJzb2x1dGU7IG1hcmdpbi1sZWZ0OiAtMWVtOyBwYWRkaW5nLXJpZ2h0OiAwLjVlbTtcXFwiPjwvYT7mg4XlooPmlofmnKzpopzoibI8L2gzPlxcbiAgICAgICAgICAgIDxwPumAmui/h+minOiJsuadpeWxleekuuaEj+Wbvu+8jEJvb3RzdHJhcCDmj5DkvpvkuobkuIDnu4Tlt6XlhbfnsbvjgILov5nkupvnsbvlj6/ku6XlupTnlKjkuo7pk77mjqXvvIzlubbkuJTlnKjpvKDmoIfnu4/ov4fml7bpopzoibLlj6/ku6Xov5jlj6/ku6XliqDmt7HvvIzlsLHlg4/pu5jorqTnmoTpk77mjqXkuIDmoLfjgII8L3A+XFxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cXFwiYnMtZXhhbXBsZVxcXCIgZGF0YS1leGFtcGxlLWlkPVxcXCJjb250ZXh0dWFsLWNvbG9ycy1oZWxwZXJzXFxcIj5cXG4gICAgICAgICAgICAgICAgPHAgY2xhc3M9XFxcInRleHQtbXV0ZWRcXFwiPkZ1c2NlIGRhcGlidXMsIHRlbGx1cyBhYyBjdXJzdXMgY29tbW9kbywgdG9ydG9yIG1hdXJpcyBuaWJoLjwvcD5cXG4gICAgICAgICAgICAgICAgPHAgY2xhc3M9XFxcInRleHQtcHJpbWFyeVxcXCI+TnVsbGFtIGlkIGRvbG9yIGlkIG5pYmggdWx0cmljaWVzIHZlaGljdWxhIHV0IGlkIGVsaXQuPC9wPlxcbiAgICAgICAgICAgICAgICA8cCBjbGFzcz1cXFwidGV4dC1zdWNjZXNzXFxcIj5EdWlzIG1vbGxpcywgZXN0IG5vbiBjb21tb2RvIGx1Y3R1cywgbmlzaSBlcmF0IHBvcnR0aXRvciBsaWd1bGEuPC9wPlxcbiAgICAgICAgICAgICAgICA8cCBjbGFzcz1cXFwidGV4dC1pbmZvXFxcIj5NYWVjZW5hcyBzZWQgZGlhbSBlZ2V0IHJpc3VzIHZhcml1cyBibGFuZGl0IHNpdCBhbWV0IG5vbiBtYWduYS48L3A+XFxuICAgICAgICAgICAgICAgIDxwIGNsYXNzPVxcXCJ0ZXh0LXdhcm5pbmdcXFwiPkV0aWFtIHBvcnRhIHNlbSBtYWxlc3VhZGEgbWFnbmEgbW9sbGlzIGV1aXNtb2QuPC9wPlxcbiAgICAgICAgICAgICAgICA8cCBjbGFzcz1cXFwidGV4dC1kYW5nZXJcXFwiPkRvbmVjIHVsbGFtY29ycGVyIG51bGxhIG5vbiBtZXR1cyBhdWN0b3IgZnJpbmdpbGxhLjwvcD5cXG4gICAgICAgICAgICAgICAgPHAgY2xhc3M9XFxcInRleHQtdGlwXFxcIj5Eb25lYyB1bGxhbWNvcnBlciBudWxsYSBub24gbWV0dXMgYXVjdG9yIGZyaW5naWxsYS48L3A+XFxuICAgICAgICAgICAgPC9kaXY+XFxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cXFwiaGlnaGxpZ2h0XFxcIj48cHJlPjxjb2RlIGNsYXNzPVxcXCJsYW5ndWFnZS1odG1sXFxcIiBkYXRhLWxhbmc9XFxcImh0bWxcXFwiPjxzcGFuIGNsYXNzPVxcXCJudFxcXCI+Jmx0O3A8L3NwYW4+IDxzcGFuIGNsYXNzPVxcXCJuYVxcXCI+Y2xhc3M9PC9zcGFuPjxzcGFuIGNsYXNzPVxcXCJzXFxcIj5cXFwidGV4dC1tdXRlZFxcXCI8L3NwYW4+PHNwYW4gY2xhc3M9XFxcIm50XFxcIj4mZ3Q7PC9zcGFuPi4uLjxzcGFuIGNsYXNzPVxcXCJudFxcXCI+Jmx0Oy9wJmd0Ozwvc3Bhbj5cXG48c3BhbiBjbGFzcz1cXFwibnRcXFwiPiZsdDtwPC9zcGFuPiA8c3BhbiBjbGFzcz1cXFwibmFcXFwiPmNsYXNzPTwvc3Bhbj48c3BhbiBjbGFzcz1cXFwic1xcXCI+XFxcInRleHQtcHJpbWFyeVxcXCI8L3NwYW4+PHNwYW4gY2xhc3M9XFxcIm50XFxcIj4mZ3Q7PC9zcGFuPi4uLjxzcGFuIGNsYXNzPVxcXCJudFxcXCI+Jmx0Oy9wJmd0Ozwvc3Bhbj5cXG48c3BhbiBjbGFzcz1cXFwibnRcXFwiPiZsdDtwPC9zcGFuPiA8c3BhbiBjbGFzcz1cXFwibmFcXFwiPmNsYXNzPTwvc3Bhbj48c3BhbiBjbGFzcz1cXFwic1xcXCI+XFxcInRleHQtc3VjY2Vzc1xcXCI8L3NwYW4+PHNwYW4gY2xhc3M9XFxcIm50XFxcIj4mZ3Q7PC9zcGFuPi4uLjxzcGFuIGNsYXNzPVxcXCJudFxcXCI+Jmx0Oy9wJmd0Ozwvc3Bhbj5cXG48c3BhbiBjbGFzcz1cXFwibnRcXFwiPiZsdDtwPC9zcGFuPiA8c3BhbiBjbGFzcz1cXFwibmFcXFwiPmNsYXNzPTwvc3Bhbj48c3BhbiBjbGFzcz1cXFwic1xcXCI+XFxcInRleHQtaW5mb1xcXCI8L3NwYW4+PHNwYW4gY2xhc3M9XFxcIm50XFxcIj4mZ3Q7PC9zcGFuPi4uLjxzcGFuIGNsYXNzPVxcXCJudFxcXCI+Jmx0Oy9wJmd0Ozwvc3Bhbj5cXG48c3BhbiBjbGFzcz1cXFwibnRcXFwiPiZsdDtwPC9zcGFuPiA8c3BhbiBjbGFzcz1cXFwibmFcXFwiPmNsYXNzPTwvc3Bhbj48c3BhbiBjbGFzcz1cXFwic1xcXCI+XFxcInRleHQtd2FybmluZ1xcXCI8L3NwYW4+PHNwYW4gY2xhc3M9XFxcIm50XFxcIj4mZ3Q7PC9zcGFuPi4uLjxzcGFuIGNsYXNzPVxcXCJudFxcXCI+Jmx0Oy9wJmd0Ozwvc3Bhbj5cXG48c3BhbiBjbGFzcz1cXFwibnRcXFwiPiZsdDtwPC9zcGFuPiA8c3BhbiBjbGFzcz1cXFwibmFcXFwiPmNsYXNzPTwvc3Bhbj48c3BhbiBjbGFzcz1cXFwic1xcXCI+XFxcInRleHQtZGFuZ2VyXFxcIjwvc3Bhbj48c3BhbiBjbGFzcz1cXFwibnRcXFwiPiZndDs8L3NwYW4+Li4uPHNwYW4gY2xhc3M9XFxcIm50XFxcIj4mbHQ7L3AmZ3Q7PC9zcGFuPlxcbjxzcGFuIGNsYXNzPVxcXCJudFxcXCI+Jmx0O3A8L3NwYW4+IDxzcGFuIGNsYXNzPVxcXCJuYVxcXCI+Y2xhc3M9PC9zcGFuPjxzcGFuIGNsYXNzPVxcXCJzXFxcIj5cXFwidGV4dC10aXBcXFwiPC9zcGFuPjxzcGFuIGNsYXNzPVxcXCJudFxcXCI+Jmd0Ozwvc3Bhbj4uLi48c3BhbiBjbGFzcz1cXFwibnRcXFwiPiZsdDsvcCZndDs8L3NwYW4+PC9jb2RlPjwvcHJlPjwvZGl2PlxcblxcbiAgICAgICAgICAgIDxoMyBpZD1cXFwiaGVscGVyLWNsYXNzZXMtYmFja2dyb3VuZHNcXFwiPjxhIGNsYXNzPVxcXCJhbmNob3Jqcy1saW5rIFxcXCIgaHJlZj1cXFwiI2hlbHBlci1jbGFzc2VzLWJhY2tncm91bmRzXFxcIiBhcmlhLWxhYmVsPVxcXCJBbmNob3IgbGluayBmb3I6IGhlbHBlciBjbGFzc2VzIGJhY2tncm91bmRzXFxcIiBkYXRhLWFuY2hvcmpzLWljb249XFxcIu6ni1xcXCIgc3R5bGU9XFxcImZvbnQtZmFtaWx5OiBhbmNob3Jqcy1pY29uczsgZm9udC1zdHlsZTogbm9ybWFsOyBmb250LXZhcmlhbnQ6IG5vcm1hbDsgZm9udC13ZWlnaHQ6IG5vcm1hbDsgcG9zaXRpb246IGFic29sdXRlOyBtYXJnaW4tbGVmdDogLTFlbTsgcGFkZGluZy1yaWdodDogMC41ZW07XFxcIj48L2E+5oOF5aKD6IOM5pmv6ImyPC9oMz5cXG4gICAgICAgICAgICA8cD7lkozmg4XlooPmlofmnKzpopzoibLnsbvkuIDmoLfvvIzkvb/nlKjku7vmhI/mg4XlooPog4zmma/oibLnsbvlsLHlj6/ku6Xorr7nva7lhYPntKDnmoTog4zmma/jgILpk77mjqXnu4Tku7blnKjpvKDmoIfnu4/ov4fml7bpopzoibLkvJrliqDmt7HvvIzlsLHlg4/kuIrpnaLmiYDorrLnmoTmg4XlooPmlofmnKzpopzoibLnsbvkuIDmoLfjgII8L3A+XFxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cXFwiYnMtZXhhbXBsZSBicy1leGFtcGxlLWJnLWNsYXNzZXNcXFwiIGRhdGEtZXhhbXBsZS1pZD1cXFwiY29udGV4dHVhbC1iYWNrZ3JvdW5kcy1oZWxwZXJzXFxcIj5cXG4gICAgICAgICAgICAgICAgPHAgY2xhc3M9XFxcImJnLXByaW1hcnlcXFwiPk51bGxhbSBpZCBkb2xvciBpZCBuaWJoIHVsdHJpY2llcyB2ZWhpY3VsYSB1dCBpZCBlbGl0LjwvcD5cXG4gICAgICAgICAgICAgICAgPHAgY2xhc3M9XFxcImJnLXN1Y2Nlc3NcXFwiPkR1aXMgbW9sbGlzLCBlc3Qgbm9uIGNvbW1vZG8gbHVjdHVzLCBuaXNpIGVyYXQgcG9ydHRpdG9yIGxpZ3VsYS48L3A+XFxuICAgICAgICAgICAgICAgIDxwIGNsYXNzPVxcXCJiZy1pbmZvXFxcIj5NYWVjZW5hcyBzZWQgZGlhbSBlZ2V0IHJpc3VzIHZhcml1cyBibGFuZGl0IHNpdCBhbWV0IG5vbiBtYWduYS48L3A+XFxuICAgICAgICAgICAgICAgIDxwIGNsYXNzPVxcXCJiZy13YXJuaW5nXFxcIj5FdGlhbSBwb3J0YSBzZW0gbWFsZXN1YWRhIG1hZ25hIG1vbGxpcyBldWlzbW9kLjwvcD5cXG4gICAgICAgICAgICAgICAgPHAgY2xhc3M9XFxcImJnLWRhbmdlclxcXCI+RG9uZWMgdWxsYW1jb3JwZXIgbnVsbGEgbm9uIG1ldHVzIGF1Y3RvciBmcmluZ2lsbGEuPC9wPlxcbiAgICAgICAgICAgIDwvZGl2PlxcbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XFxcImhpZ2hsaWdodFxcXCI+PHByZT48Y29kZSBjbGFzcz1cXFwibGFuZ3VhZ2UtaHRtbFxcXCIgZGF0YS1sYW5nPVxcXCJodG1sXFxcIj48c3BhbiBjbGFzcz1cXFwibnRcXFwiPiZsdDtwPC9zcGFuPiA8c3BhbiBjbGFzcz1cXFwibmFcXFwiPmNsYXNzPTwvc3Bhbj48c3BhbiBjbGFzcz1cXFwic1xcXCI+XFxcImJnLXByaW1hcnlcXFwiPC9zcGFuPjxzcGFuIGNsYXNzPVxcXCJudFxcXCI+Jmd0Ozwvc3Bhbj4uLi48c3BhbiBjbGFzcz1cXFwibnRcXFwiPiZsdDsvcCZndDs8L3NwYW4+XFxuPHNwYW4gY2xhc3M9XFxcIm50XFxcIj4mbHQ7cDwvc3Bhbj4gPHNwYW4gY2xhc3M9XFxcIm5hXFxcIj5jbGFzcz08L3NwYW4+PHNwYW4gY2xhc3M9XFxcInNcXFwiPlxcXCJiZy1zdWNjZXNzXFxcIjwvc3Bhbj48c3BhbiBjbGFzcz1cXFwibnRcXFwiPiZndDs8L3NwYW4+Li4uPHNwYW4gY2xhc3M9XFxcIm50XFxcIj4mbHQ7L3AmZ3Q7PC9zcGFuPlxcbjxzcGFuIGNsYXNzPVxcXCJudFxcXCI+Jmx0O3A8L3NwYW4+IDxzcGFuIGNsYXNzPVxcXCJuYVxcXCI+Y2xhc3M9PC9zcGFuPjxzcGFuIGNsYXNzPVxcXCJzXFxcIj5cXFwiYmctaW5mb1xcXCI8L3NwYW4+PHNwYW4gY2xhc3M9XFxcIm50XFxcIj4mZ3Q7PC9zcGFuPi4uLjxzcGFuIGNsYXNzPVxcXCJudFxcXCI+Jmx0Oy9wJmd0Ozwvc3Bhbj5cXG48c3BhbiBjbGFzcz1cXFwibnRcXFwiPiZsdDtwPC9zcGFuPiA8c3BhbiBjbGFzcz1cXFwibmFcXFwiPmNsYXNzPTwvc3Bhbj48c3BhbiBjbGFzcz1cXFwic1xcXCI+XFxcImJnLXdhcm5pbmdcXFwiPC9zcGFuPjxzcGFuIGNsYXNzPVxcXCJudFxcXCI+Jmd0Ozwvc3Bhbj4uLi48c3BhbiBjbGFzcz1cXFwibnRcXFwiPiZsdDsvcCZndDs8L3NwYW4+XFxuPHNwYW4gY2xhc3M9XFxcIm50XFxcIj4mbHQ7cDwvc3Bhbj4gPHNwYW4gY2xhc3M9XFxcIm5hXFxcIj5jbGFzcz08L3NwYW4+PHNwYW4gY2xhc3M9XFxcInNcXFwiPlxcXCJiZy1kYW5nZXJcXFwiPC9zcGFuPjxzcGFuIGNsYXNzPVxcXCJudFxcXCI+Jmd0Ozwvc3Bhbj4uLi48c3BhbiBjbGFzcz1cXFwibnRcXFwiPiZsdDsvcCZndDs8L3NwYW4+PC9jb2RlPjwvcHJlPjwvZGl2PlxcblxcbiAgICAgICAgPC9kaXY+XFxuXFxuICAgICAgICA8ZGl2IGNsYXNzPVxcXCJicy1kb2NzLXNlY3Rpb25cXFwiPlxcbiAgICAgICAgICAgIDxoMSBpZD1cXFwidGFibGVzXFxcIiBjbGFzcz1cXFwicGFnZS1oZWFkZXJcXFwiPjxhIGNsYXNzPVxcXCJhbmNob3Jqcy1saW5rIFxcXCIgaHJlZj1cXFwiI3RhYmxlc1xcXCIgYXJpYS1sYWJlbD1cXFwiQW5jaG9yIGxpbmsgZm9yOiB0YWJsZXNcXFwiIGRhdGEtYW5jaG9yanMtaWNvbj1cXFwi7qeLXFxcIiBzdHlsZT1cXFwiZm9udC1mYW1pbHk6IGFuY2hvcmpzLWljb25zOyBmb250LXN0eWxlOiBub3JtYWw7IGZvbnQtdmFyaWFudDogbm9ybWFsOyBmb250LXdlaWdodDogbm9ybWFsOyBwb3NpdGlvbjogYWJzb2x1dGU7IG1hcmdpbi1sZWZ0OiAtMWVtOyBwYWRkaW5nLXJpZ2h0OiAwLjVlbTtcXFwiPjwvYT7ooajmoLw8L2gxPlxcbiAgICAgICAgICAgIDxwPuS4uuS7u+aEjyA8Y29kZT4mbHQ7dGFibGUmZ3Q7PC9jb2RlPiDmoIfnrb7mt7vliqAgPGNvZGU+LnRhYmxlPC9jb2RlPiDnsbvlj6/ku6XkuLrlhbbotYvkuojln7rmnKznmoTmoLflvI8g4oCUIOWwkemHj+eahOWGheihpe+8iHBhZGRpbmfvvInlkozmsLTlubPmlrnlkJHnmoTliIbpmpTnur/jgILov5nnp43mlrnlvI/nnIvotbfmnaXlvojlpJrkvZnvvIHvvJ/kvYbmmK/miJHku6zop4nlvpfvvIzooajmoLzlhYPntKDkvb/nlKjnmoTlvojlub/ms5vvvIzlpoLmnpzmiJHku6zkuLrlhbbotYvkuojpu5jorqTmoLflvI/lj6/og73kvJrlvbHlk43kvovlpoLml6Xljoblkozml6XmnJ/pgInmi6nkuYvnsbvnmoTmj5Lku7bvvIzmiYDku6XmiJHku6zpgInmi6nlsIbmraTmoLflvI/ni6znq4vlh7rmnaXjgII8L3A+XFxuXFxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cXFwiYnMtZXhhbXBsZVxcXCIgZGF0YS1leGFtcGxlLWlkPVxcXCJzaW1wbGUtdGFibGVcXFwiPlxcbiAgICAgICAgICAgICAgICA8dGFibGUgY2xhc3M9XFxcInRhYmxlXFxcIj5cXG4gICAgICAgICAgICAgICAgICA8Y2FwdGlvbj5PcHRpb25hbCB0YWJsZSBjYXB0aW9uLjwvY2FwdGlvbj5cXG4gICAgICAgICAgICAgICAgICA8dGhlYWQ+XFxuICAgICAgICAgICAgICAgICAgICA8dHI+XFxuICAgICAgICAgICAgICAgICAgICAgIDx0aD4jPC90aD5cXG4gICAgICAgICAgICAgICAgICAgICAgPHRoPkZpcnN0IE5hbWU8L3RoPlxcbiAgICAgICAgICAgICAgICAgICAgICA8dGg+TGFzdCBOYW1lPC90aD5cXG4gICAgICAgICAgICAgICAgICAgICAgPHRoPlVzZXJuYW1lPC90aD5cXG4gICAgICAgICAgICAgICAgICAgIDwvdHI+XFxuICAgICAgICAgICAgICAgICAgPC90aGVhZD5cXG4gICAgICAgICAgICAgICAgICA8dGJvZHk+XFxuICAgICAgICAgICAgICAgICAgICA8dHI+XFxuICAgICAgICAgICAgICAgICAgICAgIDx0aCBzY29wZT1cXFwicm93XFxcIj4xPC90aD5cXG4gICAgICAgICAgICAgICAgICAgICAgPHRkPk1hcms8L3RkPlxcbiAgICAgICAgICAgICAgICAgICAgICA8dGQ+T3R0bzwvdGQ+XFxuICAgICAgICAgICAgICAgICAgICAgIDx0ZD5AbWRvPC90ZD5cXG4gICAgICAgICAgICAgICAgICAgIDwvdHI+XFxuICAgICAgICAgICAgICAgICAgICA8dHI+XFxuICAgICAgICAgICAgICAgICAgICAgIDx0aCBzY29wZT1cXFwicm93XFxcIj4yPC90aD5cXG4gICAgICAgICAgICAgICAgICAgICAgPHRkPkphY29iPC90ZD5cXG4gICAgICAgICAgICAgICAgICAgICAgPHRkPlRob3JudG9uPC90ZD5cXG4gICAgICAgICAgICAgICAgICAgICAgPHRkPkBmYXQ8L3RkPlxcbiAgICAgICAgICAgICAgICAgICAgPC90cj5cXG4gICAgICAgICAgICAgICAgICAgIDx0cj5cXG4gICAgICAgICAgICAgICAgICAgICAgPHRoIHNjb3BlPVxcXCJyb3dcXFwiPjM8L3RoPlxcbiAgICAgICAgICAgICAgICAgICAgICA8dGQ+PGlucHV0IHR5cGU9XFxcImVtYWlsXFxcIiBjbGFzcz1cXFwiZm9ybS1jb250cm9sIFxcXCIgcGxhY2Vob2xkZXI9XFxcIlxcXCI+PHNwYW4+PHAgY2xhc3M9XFxcInZhbGlkYXRpb24taW52YWxpZFxcXCI+5qC85byP5LiN5a+577yBPC9wPjwvc3Bhbj48L3RkPlxcbiAgICAgICAgICAgICAgICAgICAgICA8dGQ+dGhlIEJpcmQ8L3RkPlxcbiAgICAgICAgICAgICAgICAgICAgICA8dGQ+QHR3aXR0ZXI8L3RkPlxcbiAgICAgICAgICAgICAgICAgICAgPC90cj5cXG4gICAgICAgICAgICAgICAgICA8L3Rib2R5PlxcbiAgICAgICAgICAgICAgICA8L3RhYmxlPlxcbiAgICAgICAgICAgICAgPC9kaXY+XFxuXFxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XFxcImhpZ2hsaWdodFxcXCI+PHByZT48Y29kZSBjbGFzcz1cXFwibGFuZ3VhZ2UtaHRtbFxcXCIgZGF0YS1sYW5nPVxcXCJodG1sXFxcIj48c3BhbiBjbGFzcz1cXFwibnRcXFwiPiZsdDt0YWJsZTwvc3Bhbj4gPHNwYW4gY2xhc3M9XFxcIm5hXFxcIj5jbGFzcz08L3NwYW4+PHNwYW4gY2xhc3M9XFxcInNcXFwiPlxcXCJ0YWJsZVxcXCI8L3NwYW4+PHNwYW4gY2xhc3M9XFxcIm50XFxcIj4mZ3Q7PC9zcGFuPlxcbiAgLi4uXFxuPHNwYW4gY2xhc3M9XFxcIm50XFxcIj4mbHQ7L3RhYmxlJmd0Ozwvc3Bhbj48L2NvZGU+PC9wcmU+PC9kaXY+XFxuXFxuICAgICAgICA8L2Rpdj5cXG5cXG4gICAgICAgIDxkaXYgY2xhc3M9XFxcImJzLWRvY3Mtc2VjdGlvblxcXCI+XFxuICAgICAgICAgICAgPGgxIGlkPVxcXCJ0eXBlXFxcIiBjbGFzcz1cXFwicGFnZS1oZWFkZXJcXFwiPjxhIGNsYXNzPVxcXCJhbmNob3Jqcy1saW5rIFxcXCIgaHJlZj1cXFwiI3R5cGVcXFwiIGFyaWEtbGFiZWw9XFxcIkFuY2hvciBsaW5rIGZvcjogdHlwZVxcXCIgZGF0YS1hbmNob3Jqcy1pY29uPVxcXCLup4tcXFwiIHN0eWxlPVxcXCJmb250LWZhbWlseTogYW5jaG9yanMtaWNvbnM7IGZvbnQtc3R5bGU6IG5vcm1hbDsgZm9udC12YXJpYW50OiBub3JtYWw7IGZvbnQtd2VpZ2h0OiBub3JtYWw7IHBvc2l0aW9uOiBhYnNvbHV0ZTsgbWFyZ2luLWxlZnQ6IC0xZW07IHBhZGRpbmctcmlnaHQ6IDAuNWVtO1xcXCI+PC9hPuaOkueJiDwvaDE+XFxuICAgICAgICAgICAgPGgyIGlkPVxcXCJ0eXBlLWhlYWRpbmdzXFxcIj48YSBjbGFzcz1cXFwiYW5jaG9yanMtbGluayBcXFwiIGhyZWY9XFxcIiN0eXBlLWhlYWRpbmdzXFxcIiBhcmlhLWxhYmVsPVxcXCJBbmNob3IgbGluayBmb3I6IHR5cGUgaGVhZGluZ3NcXFwiIGRhdGEtYW5jaG9yanMtaWNvbj1cXFwi7qeLXFxcIiBzdHlsZT1cXFwiZm9udC1mYW1pbHk6IGFuY2hvcmpzLWljb25zOyBmb250LXN0eWxlOiBub3JtYWw7IGZvbnQtdmFyaWFudDogbm9ybWFsOyBmb250LXdlaWdodDogbm9ybWFsOyBwb3NpdGlvbjogYWJzb2x1dGU7IG1hcmdpbi1sZWZ0OiAtMWVtOyBwYWRkaW5nLXJpZ2h0OiAwLjVlbTtcXFwiPjwvYT7moIfpopg8L2gyPlxcbiAgICAgICAgICAgIDxwPkhUTUwg5Lit55qE5omA5pyJ5qCH6aKY5qCH562+77yMPGNvZGU+Jmx0O2gxJmd0OzwvY29kZT4g5YiwIDxjb2RlPiZsdDtoNiZndDs8L2NvZGU+IOWdh+WPr+S9v+eUqOOAguWPpuWklu+8jOi/mOaPkOS+m+S6hiA8Y29kZT4uaDE8L2NvZGU+IOWIsCA8Y29kZT4uaDY8L2NvZGU+IOexu++8jOS4uueahOaYr+e7meWGheiBlO+8iGlubGluZe+8ieWxnuaAp+eahOaWh+acrOi1i+S6iOagh+mimOeahOagt+W8j+OAgjwvcD5cXG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVxcXCJicy1leGFtcGxlIGJzLWV4YW1wbGUtdHlwZVxcXCIgZGF0YS1leGFtcGxlLWlkPVxcXCJzaW1wbGUtaGVhZGluZ3NcXFwiPlxcbiAgICAgICAgICAgICAgICA8dGFibGUgY2xhc3M9XFxcInRhYmxlXFxcIj5cXG4gICAgICAgICAgICAgICAgICA8dGJvZHk+XFxuICAgICAgICAgICAgICAgICAgICA8dHI+XFxuICAgICAgICAgICAgICAgICAgICAgIDx0ZD48aDE+aDEuIEJvb3RzdHJhcCBoZWFkaW5nPC9oMT48L3RkPlxcbiAgICAgICAgICAgICAgICAgICAgICA8dGQgY2xhc3M9XFxcInR5cGUtaW5mb1xcXCI+U2VtaWJvbGQgMzZweDwvdGQ+XFxuICAgICAgICAgICAgICAgICAgICA8L3RyPlxcbiAgICAgICAgICAgICAgICAgICAgPHRyPlxcbiAgICAgICAgICAgICAgICAgICAgICA8dGQ+PGgyPmgyLiBCb290c3RyYXAgaGVhZGluZzwvaDI+PC90ZD5cXG4gICAgICAgICAgICAgICAgICAgICAgPHRkIGNsYXNzPVxcXCJ0eXBlLWluZm9cXFwiPlNlbWlib2xkIDMwcHg8L3RkPlxcbiAgICAgICAgICAgICAgICAgICAgPC90cj5cXG4gICAgICAgICAgICAgICAgICAgIDx0cj5cXG4gICAgICAgICAgICAgICAgICAgICAgPHRkPjxoMz5oMy4gQm9vdHN0cmFwIGhlYWRpbmc8L2gzPjwvdGQ+XFxuICAgICAgICAgICAgICAgICAgICAgIDx0ZCBjbGFzcz1cXFwidHlwZS1pbmZvXFxcIj5TZW1pYm9sZCAyNHB4PC90ZD5cXG4gICAgICAgICAgICAgICAgICAgIDwvdHI+XFxuICAgICAgICAgICAgICAgICAgICA8dHI+XFxuICAgICAgICAgICAgICAgICAgICAgIDx0ZD48aDQ+aDQuIEJvb3RzdHJhcCBoZWFkaW5nPC9oND48L3RkPlxcbiAgICAgICAgICAgICAgICAgICAgICA8dGQgY2xhc3M9XFxcInR5cGUtaW5mb1xcXCI+U2VtaWJvbGQgMThweDwvdGQ+XFxuICAgICAgICAgICAgICAgICAgICA8L3RyPlxcbiAgICAgICAgICAgICAgICAgICAgPHRyPlxcbiAgICAgICAgICAgICAgICAgICAgICA8dGQ+PGg1Pmg1LiBCb290c3RyYXAgaGVhZGluZzwvaDU+PC90ZD5cXG4gICAgICAgICAgICAgICAgICAgICAgPHRkIGNsYXNzPVxcXCJ0eXBlLWluZm9cXFwiPlNlbWlib2xkIDE2cHg8L3RkPlxcbiAgICAgICAgICAgICAgICAgICAgPC90cj5cXG4gICAgICAgICAgICAgICAgICAgIDx0cj5cXG4gICAgICAgICAgICAgICAgICAgICAgPHRkPjxoNj5oNi4gQm9vdHN0cmFwIGhlYWRpbmc8L2g2PjwvdGQ+XFxuICAgICAgICAgICAgICAgICAgICAgIDx0ZCBjbGFzcz1cXFwidHlwZS1pbmZvXFxcIj5TZW1pYm9sZCAxNHB4PC90ZD5cXG4gICAgICAgICAgICAgICAgICAgIDwvdHI+XFxuICAgICAgICAgICAgICAgICAgPC90Ym9keT5cXG4gICAgICAgICAgICAgICAgPC90YWJsZT5cXG4gICAgICAgICAgICAgIDwvZGl2PlxcbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XFxcImhpZ2hsaWdodFxcXCI+PHByZT48Y29kZSBjbGFzcz1cXFwibGFuZ3VhZ2UtaHRtbFxcXCIgZGF0YS1sYW5nPVxcXCJodG1sXFxcIj48c3BhbiBjbGFzcz1cXFwibnRcXFwiPiZsdDtoMSZndDs8L3NwYW4+aDEuIEJvb3RzdHJhcCBoZWFkaW5nPHNwYW4gY2xhc3M9XFxcIm50XFxcIj4mbHQ7L2gxJmd0Ozwvc3Bhbj5cXG48c3BhbiBjbGFzcz1cXFwibnRcXFwiPiZsdDtoMiZndDs8L3NwYW4+aDIuIEJvb3RzdHJhcCBoZWFkaW5nPHNwYW4gY2xhc3M9XFxcIm50XFxcIj4mbHQ7L2gyJmd0Ozwvc3Bhbj5cXG48c3BhbiBjbGFzcz1cXFwibnRcXFwiPiZsdDtoMyZndDs8L3NwYW4+aDMuIEJvb3RzdHJhcCBoZWFkaW5nPHNwYW4gY2xhc3M9XFxcIm50XFxcIj4mbHQ7L2gzJmd0Ozwvc3Bhbj5cXG48c3BhbiBjbGFzcz1cXFwibnRcXFwiPiZsdDtoNCZndDs8L3NwYW4+aDQuIEJvb3RzdHJhcCBoZWFkaW5nPHNwYW4gY2xhc3M9XFxcIm50XFxcIj4mbHQ7L2g0Jmd0Ozwvc3Bhbj5cXG48c3BhbiBjbGFzcz1cXFwibnRcXFwiPiZsdDtoNSZndDs8L3NwYW4+aDUuIEJvb3RzdHJhcCBoZWFkaW5nPHNwYW4gY2xhc3M9XFxcIm50XFxcIj4mbHQ7L2g1Jmd0Ozwvc3Bhbj5cXG48c3BhbiBjbGFzcz1cXFwibnRcXFwiPiZsdDtoNiZndDs8L3NwYW4+aDYuIEJvb3RzdHJhcCBoZWFkaW5nPHNwYW4gY2xhc3M9XFxcIm50XFxcIj4mbHQ7L2g2Jmd0Ozwvc3Bhbj48L2NvZGU+PC9wcmU+PC9kaXY+XFxuICAgICAgICA8L2Rpdj5cXG5cXG4gICAgICA8L2Rpdj5cXG4gICAgICA8ZGl2IGNsYXNzPVxcXCJjb2wtbWQtM1xcXCIgcm9sZT1cXFwiY29tcGxlbWVudGFyeVxcXCI+XFxuICAgICAgICA8bmF2IGNsYXNzPVxcXCJicy1kb2NzLXNpZGViYXIgaGlkZGVuLXByaW50IGhpZGRlbi14cyBoaWRkZW4tc20gYWZmaXgtdG9wXFxcIj5cXG4gICAgICAgICAgPHVsIGNsYXNzPVxcXCJuYXYgYnMtZG9jcy1zaWRlbmF2XFxcIj5cXG5cXG4gICAgICAgICAgICA8bGkgY2xhc3M9XFxcIlxcXCI+XFxuICAgICAgICAgICAgICA8YSBocmVmPVxcXCIjZ2x5cGhpY29uc1xcXCI+R2x5cGhpY29ucyDlrZfkvZPlm77moIc8L2E+XFxuICAgICAgICAgICAgICA8dWwgY2xhc3M9XFxcIm5hdlxcXCI+XFxuICAgICAgICAgICAgICAgIDxsaSBjbGFzcz1cXFwiXFxcIj48YSBocmVmPVxcXCIjZ2x5cGhpY29ucy1nbHlwaHNcXFwiPuaJgOacieWPr+eUqOeahOWbvuaghzwvYT48L2xpPlxcbiAgICAgICAgICAgICAgICA8bGkgY2xhc3M9XFxcIlxcXCI+PGEgaHJlZj1cXFwiI2dseXBoaWNvbnMtaG93LXRvLXVzZVxcXCI+5aaC5L2V5L2/55SoPC9hPjwvbGk+XFxuICAgICAgICAgICAgICAgIDxsaSBjbGFzcz1cXFwiXFxcIj48YSBocmVmPVxcXCIjZ2x5cGhpY29ucy1leGFtcGxlc1xcXCI+5a6e5L6LPC9hPjwvbGk+XFxuICAgICAgICAgICAgICA8L3VsPlxcbiAgICAgICAgICAgIDwvbGk+XFxuICAgICAgICAgICAgPGxpIGNsYXNzPVxcXCJcXFwiPlxcbiAgICAgICAgICAgICAgPGEgaHJlZj1cXFwiI2Ryb3Bkb3duc1xcXCI+5LiL5ouJ6I+c5Y2VPC9hPlxcbiAgICAgICAgICAgICAgPHVsIGNsYXNzPVxcXCJuYXZcXFwiPlxcbiAgICAgICAgICAgICAgICA8bGkgY2xhc3M9XFxcIlxcXCI+PGEgaHJlZj1cXFwiI2Ryb3Bkb3ducy1leGFtcGxlXFxcIj7lrp7kvos8L2E+PC9saT5cXG4gICAgICAgICAgICAgICAgPGxpIGNsYXNzPVxcXCJcXFwiPjxhIGhyZWY9XFxcIiNkcm9wZG93bnMtYWxpZ25tZW50XFxcIj7lr7npvZA8L2E+PC9saT5cXG4gICAgICAgICAgICAgICAgPGxpPjxhIGhyZWY9XFxcIiNkcm9wZG93bnMtaGVhZGVyc1xcXCI+5qCH6aKYPC9hPjwvbGk+XFxuICAgICAgICAgICAgICAgIDxsaT48YSBocmVmPVxcXCIjZHJvcGRvd25zLWRpdmlkZXJcXFwiPuWIhuWJsue6vzwvYT48L2xpPlxcbiAgICAgICAgICAgICAgICA8bGkgY2xhc3M9XFxcIlxcXCI+PGEgaHJlZj1cXFwiI2Ryb3Bkb3ducy1kaXNhYmxlZFxcXCI+56aB55So55qE6I+c5Y2V6aG5PC9hPjwvbGk+XFxuICAgICAgICAgICAgICA8L3VsPlxcbiAgICAgICAgICAgIDwvbGk+XFxuICAgICAgICAgICAgPGxpIGNsYXNzPVxcXCJcXFwiPlxcbiAgICAgICAgICAgICAgPGEgaHJlZj1cXFwiI2J0bi1ncm91cHNcXFwiPuaMiemSrue7hDwvYT5cXG4gICAgICAgICAgICAgIDx1bCBjbGFzcz1cXFwibmF2XFxcIj5cXG4gICAgICAgICAgICAgICAgPGxpIGNsYXNzPVxcXCJcXFwiPjxhIGhyZWY9XFxcIiNidG4tZ3JvdXBzLXNpbmdsZVxcXCI+5Z+65pys5a6e5L6LPC9hPjwvbGk+XFxuICAgICAgICAgICAgICAgIDxsaT48YSBocmVmPVxcXCIjYnRuLWdyb3Vwcy10b29sYmFyXFxcIj7mjInpkq7lt6XlhbfmoI88L2E+PC9saT5cXG4gICAgICAgICAgICAgICAgPGxpPjxhIGhyZWY9XFxcIiNidG4tZ3JvdXBzLXNpemluZ1xcXCI+5bC65a+4PC9hPjwvbGk+XFxuICAgICAgICAgICAgICAgIDxsaT48YSBocmVmPVxcXCIjYnRuLWdyb3Vwcy1uZXN0ZWRcXFwiPuW1jOWllzwvYT48L2xpPlxcbiAgICAgICAgICAgICAgICA8bGk+PGEgaHJlZj1cXFwiI2J0bi1ncm91cHMtdmVydGljYWxcXFwiPuWeguebtOaOkuWIlzwvYT48L2xpPlxcbiAgICAgICAgICAgICAgICA8bGkgY2xhc3M9XFxcIlxcXCI+PGEgaHJlZj1cXFwiI2J0bi1ncm91cHMtanVzdGlmaWVkXFxcIj7kuKTnq6/lr7npvZDmjpLliJfnmoTmjInpkq7nu4Q8L2E+PC9saT5cXG4gICAgICAgICAgICAgIDwvdWw+XFxuICAgICAgICAgICAgPC9saT5cXG4gICAgICAgICAgICA8bGk+XFxuICAgICAgICAgICAgICA8YSBocmVmPVxcXCIjYnRuLWRyb3Bkb3duc1xcXCI+5oyJ6ZKu5byP5LiL5ouJ6I+c5Y2VPC9hPlxcbiAgICAgICAgICAgICAgPHVsIGNsYXNzPVxcXCJuYXZcXFwiPlxcbiAgICAgICAgICAgICAgICA8bGk+PGEgaHJlZj1cXFwiI2J0bi1kcm9wZG93bnMtc2luZ2xlXFxcIj7ljZXmjInpkq7kuIvmi4noj5zljZU8L2E+PC9saT5cXG4gICAgICAgICAgICAgICAgPGxpPjxhIGhyZWY9XFxcIiNidG4tZHJvcGRvd25zLXNwbGl0XFxcIj7liIboo4LlvI/mjInpkq7kuIvmi4noj5zljZU8L2E+PC9saT5cXG4gICAgICAgICAgICAgICAgPGxpPjxhIGhyZWY9XFxcIiNidG4tZHJvcGRvd25zLXNpemluZ1xcXCI+5bC65a+4PC9hPjwvbGk+XFxuICAgICAgICAgICAgICAgIDxsaT48YSBocmVmPVxcXCIjYnRuLWRyb3Bkb3ducy1kcm9wdXBcXFwiPuWQkeS4iuW8ueWHuuW8j+iPnOWNlTwvYT48L2xpPlxcbiAgICAgICAgICAgICAgPC91bD5cXG4gICAgICAgICAgICA8L2xpPlxcbiAgICAgICAgICAgIDxsaT5cXG4gICAgICAgICAgICAgIDxhIGhyZWY9XFxcIiNpbnB1dC1ncm91cHNcXFwiPui+k+WFpeahhue7hDwvYT5cXG4gICAgICAgICAgICAgIDx1bCBjbGFzcz1cXFwibmF2XFxcIj5cXG4gICAgICAgICAgICAgICAgPGxpPjxhIGhyZWY9XFxcIiNpbnB1dC1ncm91cHMtYmFzaWNcXFwiPuWfuuacrOWunuS+izwvYT48L2xpPlxcbiAgICAgICAgICAgICAgICA8bGk+PGEgaHJlZj1cXFwiI2lucHV0LWdyb3Vwcy1zaXppbmdcXFwiPuWwuuWvuDwvYT48L2xpPlxcbiAgICAgICAgICAgICAgICA8bGk+PGEgaHJlZj1cXFwiI2lucHV0LWdyb3Vwcy1jaGVja2JveGVzLXJhZGlvc1xcXCI+5L2c5Li66aKd5aSW5YWD57Sg55qE5aSa6YCJ5qGG5ZKM5Y2V6YCJ5qGGPC9hPjwvbGk+XFxuICAgICAgICAgICAgICAgIDxsaT48YSBocmVmPVxcXCIjaW5wdXQtZ3JvdXBzLWJ1dHRvbnNcXFwiPuS9nOS4uumineWkluWFg+e0oOeahOaMiemSrjwvYT48L2xpPlxcbiAgICAgICAgICAgICAgICA8bGk+PGEgaHJlZj1cXFwiI2lucHV0LWdyb3Vwcy1idXR0b25zLWRyb3Bkb3duc1xcXCI+5L2c5Li66aKd5aSW5YWD57Sg55qE5oyJ6ZKu5byP5LiL5ouJ6I+c5Y2VPC9hPjwvbGk+XFxuICAgICAgICAgICAgICAgIDxsaT48YSBocmVmPVxcXCIjaW5wdXQtZ3JvdXBzLWJ1dHRvbnMtc2VnbWVudGVkXFxcIj7kvZzkuLrpop3lpJblhYPntKDnmoTliIboo4LlvI/mjInpkq7kuIvmi4noj5zljZU8L2E+PC9saT5cXG4gICAgICAgICAgICAgIDwvdWw+XFxuICAgICAgICAgICAgPC9saT5cXG4gICAgICAgICAgICA8bGk+XFxuICAgICAgICAgICAgICA8YSBocmVmPVxcXCIjbmF2XFxcIj7lr7zoiKo8L2E+XFxuICAgICAgICAgICAgICA8dWwgY2xhc3M9XFxcIm5hdlxcXCI+XFxuICAgICAgICAgICAgICAgIDxsaT48YSBocmVmPVxcXCIjbmF2LXRhYnNcXFwiPuagh+etvumhtTwvYT48L2xpPlxcbiAgICAgICAgICAgICAgICA8bGk+PGEgaHJlZj1cXFwiI25hdi1waWxsc1xcXCI+6IO25ZuK5byP5qCH562+6aG1PC9hPjwvbGk+XFxuICAgICAgICAgICAgICAgIDxsaT48YSBocmVmPVxcXCIjbmF2LWp1c3RpZmllZFxcXCI+5Lik56uv5a+56b2QPC9hPjwvbGk+XFxuICAgICAgICAgICAgICAgIDxsaT48YSBocmVmPVxcXCIjbmF2LWRpc2FibGVkLWxpbmtzXFxcIj7npoHnlKjnmoTpk77mjqU8L2E+PC9saT5cXG4gICAgICAgICAgICAgICAgPGxpPjxhIGhyZWY9XFxcIiNuYXYtZHJvcGRvd25zXFxcIj7mt7vliqDkuIvmi4noj5zljZU8L2E+PC9saT5cXG4gICAgICAgICAgICAgIDwvdWw+XFxuICAgICAgICAgICAgPC9saT5cXG4gICAgICAgICAgICA8bGkgY2xhc3M9XFxcIlxcXCI+XFxuICAgICAgICAgICAgICA8YSBocmVmPVxcXCIjbmF2YmFyXFxcIj7lr7zoiKrmnaE8L2E+XFxuICAgICAgICAgICAgICA8dWwgY2xhc3M9XFxcIm5hdlxcXCI+XFxuICAgICAgICAgICAgICAgIDxsaT48YSBocmVmPVxcXCIjbmF2YmFyLWRlZmF1bHRcXFwiPum7mOiupOagt+W8j+eahOWvvOiIquadoTwvYT48L2xpPlxcbiAgICAgICAgICAgICAgICA8bGk+PGEgaHJlZj1cXFwiI25hdmJhci1icmFuZC1pbWFnZVxcXCI+5ZOB54mM5Zu+5qCHPC9hPjwvbGk+XFxuICAgICAgICAgICAgICAgIDxsaT48YSBocmVmPVxcXCIjbmF2YmFyLWZvcm1zXFxcIj7ooajljZU8L2E+PC9saT5cXG4gICAgICAgICAgICAgICAgPGxpPjxhIGhyZWY9XFxcIiNuYXZiYXItYnV0dG9uc1xcXCI+5oyJ6ZKuPC9hPjwvbGk+XFxuICAgICAgICAgICAgICAgIDxsaT48YSBocmVmPVxcXCIjbmF2YmFyLXRleHRcXFwiPuaWh+acrDwvYT48L2xpPlxcbiAgICAgICAgICAgICAgICA8bGk+PGEgaHJlZj1cXFwiI25hdmJhci1saW5rc1xcXCI+6Z2e5a+86Iiq55qE6ZO+5o6lPC9hPjwvbGk+XFxuICAgICAgICAgICAgICAgIDxsaSBjbGFzcz1cXFwiXFxcIj48YSBocmVmPVxcXCIjbmF2YmFyLWNvbXBvbmVudC1hbGlnbm1lbnRcXFwiPue7hOS7tuaOkuWIlzwvYT48L2xpPlxcbiAgICAgICAgICAgICAgICA8bGk+PGEgaHJlZj1cXFwiI25hdmJhci1maXhlZC10b3BcXFwiPuWbuuWumuWcqOmhtumDqDwvYT48L2xpPlxcbiAgICAgICAgICAgICAgICA8bGk+PGEgaHJlZj1cXFwiI25hdmJhci1maXhlZC1ib3R0b21cXFwiPuWbuuWumuWcqOW6lemDqDwvYT48L2xpPlxcbiAgICAgICAgICAgICAgICA8bGk+PGEgaHJlZj1cXFwiI25hdmJhci1zdGF0aWMtdG9wXFxcIj7pnZnmraLlnKjpobbpg6g8L2E+PC9saT5cXG4gICAgICAgICAgICAgICAgPGxpPjxhIGhyZWY9XFxcIiNuYXZiYXItaW52ZXJ0ZWRcXFwiPuWPjeiJsueahOWvvOiIquadoTwvYT48L2xpPlxcbiAgICAgICAgICAgICAgPC91bD5cXG4gICAgICAgICAgICA8L2xpPlxcbiAgICAgICAgICAgIDxsaT48YSBocmVmPVxcXCIjYnJlYWRjcnVtYnNcXFwiPui3r+W+hOWvvOiIqjwvYT48L2xpPlxcbiAgICAgICAgICAgIDxsaT5cXG4gICAgICAgICAgICAgIDxhIGhyZWY9XFxcIiNwYWdpbmF0aW9uXFxcIj7liIbpobU8L2E+XFxuICAgICAgICAgICAgICA8dWwgY2xhc3M9XFxcIm5hdlxcXCI+XFxuICAgICAgICAgICAgICAgIDxsaT48YSBocmVmPVxcXCIjcGFnaW5hdGlvbi1kZWZhdWx0XFxcIj7pu5jorqTliIbpobU8L2E+PC9saT5cXG4gICAgICAgICAgICAgICAgPGxpPjxhIGhyZWY9XFxcIiNwYWdpbmF0aW9uLXBhZ2VyXFxcIj7nv7vpobU8L2E+PC9saT5cXG4gICAgICAgICAgICAgIDwvdWw+XFxuICAgICAgICAgICAgPC9saT5cXG4gICAgICAgICAgICA8bGk+PGEgaHJlZj1cXFwiI2xhYmVsc1xcXCI+5qCH562+PC9hPjwvbGk+XFxuICAgICAgICAgICAgPGxpPjxhIGhyZWY9XFxcIiNiYWRnZXNcXFwiPuW+veeroDwvYT48L2xpPlxcbiAgICAgICAgICAgIDxsaT48YSBocmVmPVxcXCIjanVtYm90cm9uXFxcIj7lt6jluZU8L2E+PC9saT5cXG4gICAgICAgICAgICA8bGk+PGEgaHJlZj1cXFwiI3BhZ2UtaGVhZGVyXFxcIj7pobXlpLQ8L2E+PC9saT5cXG4gICAgICAgICAgICA8bGk+XFxuICAgICAgICAgICAgICA8YSBocmVmPVxcXCIjdGh1bWJuYWlsc1xcXCI+57yp55Wl5Zu+PC9hPlxcbiAgICAgICAgICAgICAgPHVsIGNsYXNzPVxcXCJuYXZcXFwiPlxcbiAgICAgICAgICAgICAgICA8bGk+PGEgaHJlZj1cXFwiI3RodW1ibmFpbHMtZGVmYXVsdFxcXCI+6buY6K6k5qC35byP55qE5a6e5L6LPC9hPjwvbGk+XFxuICAgICAgICAgICAgICAgIDxsaT48YSBocmVmPVxcXCIjdGh1bWJuYWlscy1jdXN0b20tY29udGVudFxcXCI+6Ieq5a6a5LmJ5YaF5a65PC9hPjwvbGk+XFxuICAgICAgICAgICAgICA8L3VsPlxcbiAgICAgICAgICAgIDwvbGk+XFxuICAgICAgICAgICAgPGxpPlxcbiAgICAgICAgICAgICAgPGEgaHJlZj1cXFwiI2FsZXJ0c1xcXCI+6K2m5ZGK5qGGPC9hPlxcbiAgICAgICAgICAgICAgPHVsIGNsYXNzPVxcXCJuYXZcXFwiPlxcbiAgICAgICAgICAgICAgICA8bGk+PGEgaHJlZj1cXFwiI2FsZXJ0cy1leGFtcGxlc1xcXCI+5a6e5L6LPC9hPjwvbGk+XFxuICAgICAgICAgICAgICAgIDxsaT48YSBocmVmPVxcXCIjYWxlcnRzLWRpc21pc3NpYmxlXFxcIj7lj6/lhbPpl63nmoTorablkYrmoYY8L2E+PC9saT5cXG4gICAgICAgICAgICAgICAgPGxpPjxhIGhyZWY9XFxcIiNhbGVydHMtbGlua3NcXFwiPuitpuWRiuahhuS4reeahOmTvuaOpTwvYT48L2xpPlxcbiAgICAgICAgICAgICAgPC91bD5cXG4gICAgICAgICAgICA8L2xpPlxcbiAgICAgICAgICAgIDxsaT5cXG4gICAgICAgICAgICAgIDxhIGhyZWY9XFxcIiNwcm9ncmVzc1xcXCI+6L+b5bqm5p2hPC9hPlxcbiAgICAgICAgICAgICAgPHVsIGNsYXNzPVxcXCJuYXZcXFwiPlxcbiAgICAgICAgICAgICAgICA8bGk+PGEgaHJlZj1cXFwiI3Byb2dyZXNzLWJhc2ljXFxcIj7ln7rmnKzlrp7kvos8L2E+PC9saT5cXG4gICAgICAgICAgICAgICAgPGxpPjxhIGhyZWY9XFxcIiNwcm9ncmVzcy1sYWJlbFxcXCI+5bim5pyJ5o+Q56S65qCH562+55qE6L+b5bqm5p2hPC9hPjwvbGk+XFxuICAgICAgICAgICAgICAgIDxsaT48YSBocmVmPVxcXCIjcHJvZ3Jlc3MtYWx0ZXJuYXRpdmVzXFxcIj7moLnmja7mg4XlooPlj5jljJbmlYjmnpw8L2E+PC9saT5cXG4gICAgICAgICAgICAgICAgPGxpPjxhIGhyZWY9XFxcIiNwcm9ncmVzcy1zdHJpcGVkXFxcIj7mnaHnurnmlYjmnpw8L2E+PC9saT5cXG4gICAgICAgICAgICAgICAgPGxpPjxhIGhyZWY9XFxcIiNwcm9ncmVzcy1hbmltYXRlZFxcXCI+5Yqo55S75pWI5p6cPC9hPjwvbGk+XFxuICAgICAgICAgICAgICAgIDxsaT48YSBocmVmPVxcXCIjcHJvZ3Jlc3Mtc3RhY2tlZFxcXCI+5aCG5Y+g5pWI5p6cPC9hPjwvbGk+XFxuICAgICAgICAgICAgICA8L3VsPlxcbiAgICAgICAgICAgIDwvbGk+XFxuICAgICAgICAgICAgPGxpPlxcbiAgICAgICAgICAgICAgPGEgaHJlZj1cXFwiI21lZGlhXFxcIj7lqpLkvZPlr7nosaE8L2E+XFxuICAgICAgICAgICAgICA8dWwgY2xhc3M9XFxcIm5hdlxcXCI+XFxuICAgICAgICAgICAgICAgIDxsaT48YSBocmVmPVxcXCIjbWVkaWEtZGVmYXVsdFxcXCI+6buY6K6k5qC35byPPC9hPjwvbGk+XFxuICAgICAgICAgICAgICAgIDxsaT48YSBocmVmPVxcXCIjbWVkaWEtbGlzdFxcXCI+5aqS5L2T5a+56LGh5YiX6KGoPC9hPjwvbGk+XFxuICAgICAgICAgICAgICA8L3VsPlxcbiAgICAgICAgICAgIDwvbGk+XFxuICAgICAgICAgICAgPGxpPlxcbiAgICAgICAgICAgICAgPGEgaHJlZj1cXFwiI2xpc3QtZ3JvdXBcXFwiPuWIl+ihqOe7hDwvYT5cXG4gICAgICAgICAgICAgIDx1bCBjbGFzcz1cXFwibmF2XFxcIj5cXG4gICAgICAgICAgICAgICAgPGxpPjxhIGhyZWY9XFxcIiNsaXN0LWdyb3VwLWJhc2ljXFxcIj7ln7rmnKzlrp7kvos8L2E+PC9saT5cXG4gICAgICAgICAgICAgICAgPGxpPjxhIGhyZWY9XFxcIiNsaXN0LWdyb3VwLWJhZGdlc1xcXCI+5b6956ugPC9hPjwvbGk+XFxuICAgICAgICAgICAgICAgIDxsaT48YSBocmVmPVxcXCIjbGlzdC1ncm91cC1saW5rZWRcXFwiPumTvuaOpTwvYT48L2xpPlxcbiAgICAgICAgICAgICAgICA8bGk+PGEgaHJlZj1cXFwiI2xpc3QtZ3JvdXAtYnV0dG9uc1xcXCI+QnV0dG9uIGl0ZW1zPC9hPjwvbGk+XFxuICAgICAgICAgICAgICAgIDxsaT48YSBocmVmPVxcXCIjbGlzdC1ncm91cC1kaXNhYmxlZFxcXCI+6KKr56aB55So55qE5p2h55uuPC9hPjwvbGk+XFxuICAgICAgICAgICAgICAgIDxsaT48YSBocmVmPVxcXCIjbGlzdC1ncm91cC1jb250ZXh0dWFsLWNsYXNzZXNcXFwiPuaDheWig+exuzwvYT48L2xpPlxcbiAgICAgICAgICAgICAgICA8bGk+PGEgaHJlZj1cXFwiI2xpc3QtZ3JvdXAtY3VzdG9tLWNvbnRlbnRcXFwiPuWumuWItuWGheWuuTwvYT48L2xpPlxcbiAgICAgICAgICAgICAgPC91bD5cXG4gICAgICAgICAgICA8L2xpPlxcbiAgICAgICAgICAgIDxsaT5cXG4gICAgICAgICAgICAgIDxhIGhyZWY9XFxcIiNwYW5lbHNcXFwiPumdouadvzwvYT5cXG4gICAgICAgICAgICAgIDx1bCBjbGFzcz1cXFwibmF2XFxcIj5cXG4gICAgICAgICAgICAgICAgPGxpPjxhIGhyZWY9XFxcIiNwYW5lbHMtYmFzaWNcXFwiPuWfuuacrOWunuS+izwvYT48L2xpPlxcbiAgICAgICAgICAgICAgICA8bGk+PGEgaHJlZj1cXFwiI3BhbmVscy1oZWFkaW5nXFxcIj7luKbmoIfpopjnmoTpnaLniYg8L2E+PC9saT5cXG4gICAgICAgICAgICAgICAgPGxpPjxhIGhyZWY9XFxcIiNwYW5lbHMtZm9vdGVyXFxcIj7luKbms6johJrnmoTpnaLmnb88L2E+PC9saT5cXG4gICAgICAgICAgICAgICAgPGxpPjxhIGhyZWY9XFxcIiNwYW5lbHMtYWx0ZXJuYXRpdmVzXFxcIj7mg4XlooPmlYjmnpw8L2E+PC9saT5cXG4gICAgICAgICAgICAgICAgPGxpPjxhIGhyZWY9XFxcIiNwYW5lbHMtdGFibGVzXFxcIj7luKbooajmoLznmoTpnaLniYg8L2E+XFxuICAgICAgICAgICAgICAgIDwvbGk+PGxpPjxhIGhyZWY9XFxcIiNwYW5lbHMtbGlzdC1ncm91cFxcXCI+5bim5YiX6KGo57uE55qE6Z2i54mIPC9hPlxcbiAgICAgICAgICAgICAgPC9saT48L3VsPlxcbiAgICAgICAgICAgIDwvbGk+XFxuICAgICAgICAgICAgPGxpPjxhIGhyZWY9XFxcIiNyZXNwb25zaXZlLWVtYmVkXFxcIj7lhbfmnInlk43lupTlvI/nibnmgKfnmoTltYzlhaXlhoXlrrk8L2E+PC9saT5cXG4gICAgICAgICAgICA8bGk+PGEgaHJlZj1cXFwiI3dlbGxzXFxcIj5XZWxsPC9hPjwvbGk+XFxuXFxuXFxuICAgICAgICAgIDwvdWw+XFxuICAgICAgICAgIDxhIGNsYXNzPVxcXCJiYWNrLXRvLXRvcFxcXCIgaHJlZj1cXFwiI3RvcFxcXCI+XFxuICAgICAgICAgICAg6L+U5Zue6aG26YOoXFxuICAgICAgICAgIDwvYT5cXG5cXG4gICAgICAgICAgPGEgaHJlZj1cXFwiI1xcXCIgY2xhc3M9XFxcImJzLWRvY3MtdGhlbWUtdG9nZ2xlXFxcIiByb2xlPVxcXCJidXR0b25cXFwiPlxcbiAgICAgICAgICAgIOS4u+mimOmihOiniFxcbiAgICAgICAgICA8L2E+XFxuXFxuICAgICAgICA8L25hdj5cXG4gICAgICA8L2Rpdj5cXG4gICAgPC9kaXY+XFxuICA8L2Rpdj5cXG5cIik7XG4kdGVtcGxhdGVDYWNoZS5wdXQoXCJtb2R1bGVzL2RlbW8vbGlzdC90ZW1wbGF0ZS5odG1sXCIsXCI8c2VjdGlvbiBjbGFzcz1cXFwiY29udGVudC1oZWFkZXJcXFwiPlxcbiAgPGRpdiBjbGFzcz1cXFwib3B0aW9uc1xcXCI+XFxuICAgIDxkaXYgY2xhc3M9XFxcIm9wdGlvbi1pdGVtIG9wdGlvbi10aW1lXFxcIj5cXG4gICAgICA8dWwgY2xhc3M9XFxcImNsZWFyZml4XFxcIj5cXG4gICAgICAgIDxsaT5cXG4gICAgICAgICAgPGRpdiBjbGFzcz1cXFwiaW5wdXQtZ3JvdXAgc2VhcmNoLWJveFxcXCI+XFxuICAgICAgICAgICAgPGlucHV0IG5nLW1vZGVsPVxcXCJ2bS5maWx0ZXJzLmtleXdvcmRcXFwiIHR5cGU9XFxcInRleHRcXFwiIHBsYWNlaG9sZGVyPVxcXCLor7fovpPmn6Xor6JcXFwiIGNsYXNzPVxcXCJmb3JtLWNvbnRyb2xcXFwiXFxuICAgICAgICAgICAgICAgICAgICBjb2RlPVxcXCIxM1xcXCIga2V5LWV2ZW50PVxcXCJ2bS5yZVNlYXJjaCgpO1xcXCI+XFxuICAgICAgICAgICAgPHNwYW4gY2xhc3M9XFxcImlucHV0LWdyb3VwLWJ0blxcXCI+XFxuICAgICAgICAgICAgICA8YnV0dG9uIG5nLWNsaWNrPVxcXCJ2bS5yZVNlYXJjaCgpXFxcIiBjbGFzcz1cXFwiYnRuIGJ0bi1kZWZhdWx0IHNlYXJjaFxcXCIgdHlwZT1cXFwiYnV0dG9uXFxcIj48aSBjbGFzcz1cXFwiaWNvbi1zZWFyY2hcXFwiPjwvaT48L2J1dHRvbj5cXG4gICAgICAgICAgICA8L3NwYW4+XFxuICAgICAgICAgIDwvZGl2PlxcbiAgICAgICAgPC9saT5cXG4gICAgICA8L3VsPlxcbiAgICA8L2Rpdj5cXG4gICAgPGRpdiBjbGFzcz1cXFwib3B0aW9uLWl0ZW0gbGFyZ2VcXFwiPlxcbiAgICAgIDxzcGFuIGNsYXNzPVxcXCJpdGVtLXRpdGxlIHRleHQtcmlnaHRcXFwiPuaAp+WIq++8mjwvc3Bhbj5cXG4gICAgICA8dWwgY2xhc3M9XFxcImNsZWFyZml4XFxcIj5cXG4gICAgICAgICAgICA8bGk+XFxuICAgICAgICAgICAgICAgIDxhIGhyZWY9XFxcImphdmFzY3JpcHQ6O1xcXCIgY2xhc3M9XFxcImJ0blxcXCIgbmctY2xhc3M9XFxcIntcXCdidG4tZGVmYXVsdFxcJzogdm0uZmlsdGVycy5nZW5kZXIsIFxcJ2J0bi10b2dnbGVcXCc6ICF2bS5maWx0ZXJzLmdlbmRlciwgXFwnYWN0aXZlXFwnOiAhdm0uZmlsdGVycy5nZW5kZXJ9XFxcIiBuZy1jbGljaz1cXFwidm0uc3dpdGNoKFxcJ2dlbmRlclxcJylcXFwiPlxcbiAgICAgICAgICAgICAgICAgICAg5YWo6YOoXFxuICAgICAgICAgICAgICAgIDwvYT5cXG4gICAgICAgICAgICA8L2xpPlxcbiAgICAgICAgICAgIDxsaSBuZy1yZXBlYXQ9XFxcIml0ZW0gaW4gdm0uZ2VuZGVyTGlzdFxcXCI+XFxuICAgICAgICAgICAgICAgIDxhIGhyZWY9XFxcImphdmFzY3JpcHQ6O1xcXCIgY2xhc3M9XFxcImJ0blxcXCIgbmctY2xhc3M9XFxcIntcXCdidG4tZGVmYXVsdFxcJzogdm0uZmlsdGVycy5nZW5kZXIgIT09IGl0ZW0udmFsdWUsIFxcJ2J0bi10b2dnbGVcXCc6IHZtLmZpbHRlcnMuZ2VuZGVyID09IGl0ZW0udmFsdWUsIFxcJ2FjdGl2ZVxcJzogdm0uZmlsdGVycy5nZW5kZXIgPT0gaXRlbS52YWx1ZX1cXFwiIG5nLWNsaWNrPVxcXCJ2bS5zd2l0Y2goXFwnZ2VuZGVyXFwnLCBpdGVtLnZhbHVlKVxcXCI+XFxuICAgICAgICAgICAgICAgICAgICB7eyBpdGVtLm5hbWUgfX1cXG4gICAgICAgICAgICAgICAgPC9hPlxcbiAgICAgICAgICAgIDwvbGk+XFxuICAgICAgICA8L3VsPlxcbiAgICA8L2Rpdj5cXG4gICAgXFxuICAgIDxkaXYgY2xhc3M9XFxcIm9wdGlvbi1pdGVtIGxhcmdlXFxcIj5cXG4gICAgICAgIDxzcGFuIGNsYXNzPVxcXCJpdGVtLXRpdGxlXFxcIj7ml7bpl7TpgInmi6nvvJo8L3NwYW4+XFxuICAgICAgICAgICBcXG4gICAgICAgIDxkaXYgY2xhc3M9XFxcIml0ZW0tY29udGVudFxcXCI+XFxuICAgICAgICAgICAgIDxhIGhyZWY9XFxcImphdmFzY3JpcHQ6O1xcXCIgY2xhc3M9XFxcImJ0blxcXCIgbmctY2xhc3M9XFxcIntcXCdidG4tZGVmYXVsdFxcJzogdHJ1ZSwgXFwnYnRuLXRvZ2dsZSBhY3RpdmVcXCc6ICF2bS5maWx0ZXJzLnN0YXJ0X2RhdGUgJiYgIXZtLmZpbHRlcnMuZW5kX2RhdGV9XFxcIiBuZy1jbGljaz1cXFwidm0uc2hvd0FsbFRpbWUoKVxcXCI+XFxuICAgICAgICAgICAgICAgICAgICDlhajpg6hcXG4gICAgICAgICAgICA8L2E+XFxuICAgICAgICAgICAgPG1jLWRhdGVwaWNrZXIgaWQ9XFxcInN0YXJ0RGF0ZVBpY2tlclxcXCIgc3RhcnQtZGF0ZT1cXFwidm0uc3RhcnRfZGF0ZVxcXCIgbWF4LWRhdGU9XFxcInZtLnN0YXJ0VGltZU1heExpbWl0XFxcIiB0aW1lLXNvdXJjZT1cXFwiXFxcIiBjdHJsLWFsaWFzPVxcXCJ2bVxcXCIgbWluLXZpZXc9XFxcIlxcJ21pbnV0ZXNcXCdcXFwiIGNoYW5nZS1ieT1cXFwiY2xvc2VcXFwiPjwvbWMtZGF0ZXBpY2tlcj4gLS1cXG4gICAgICAgICAgICA8bWMtZGF0ZXBpY2tlciBpZD1cXFwiZW5kRGF0ZVBpY2tlclxcXCIgc3RhcnQtZGF0ZT1cXFwidm0uZW5kX2RhdGVcXFwiIG1pbi1kYXRlPVxcXCJ2bS5lbmRUaW1lTWluTGltaXRcXFwiIG1heC1kYXRlPVxcXCJ2bS5lbmRUaW1lTWF4TGltaXRcXFwiIHRpbWUtc291cmNlPVxcXCJcXFwiIGN0cmwtYWxpYXM9XFxcInZtXFxcIiBtaW4tdmlldz1cXFwiXFwnbWludXRlc1xcJ1xcXCIgY2hhbmdlLXRpbWU9XFxcInZtLmNoYW5nZVRpbWUoXFwnZW5kXFwnKVxcXCIgY2hhbmdlLWJ5PVxcXCJjbG9zZVxcXCI+PC9tYy1kYXRlcGlja2VyPlxcbiAgICAgICAgPC9kaXY+XFxuICAgIDwvZGl2Plxcbjwvc2VjdGlvbj5cXG5cXG48c2VjdGlvbiBjbGFzcz1cXFwiY29udGVudCBib2R5LWNvbnRlbnQgYm9keS1jb250ZW50LWNvbXBhY3QgYmxvY2stdWkgYmxvY2stdWktbWVzc2FnZS1jdXN0b21cXFwiIGJsb2NrLXVpPVxcXCJtYWluXFxcIj5cXG4gIDxlbXB0eS10aXAgbmctaWY9XFxcInZtLmxpc3QubGVuZ3RoID09PSAwXFxcIj48L2VtcHR5LXRpcD5cXG5cXG4gIDxkaXYgY2xhc3M9XFxcInBhbmVsXFxcIj5cXG4gICAgPHRhYmxlIGNsYXNzPVxcXCJ0YWJsZSB0YWJsZS1zdHJpcGVkIHRleHQtY2VudGVyXFxcIj5cXG4gICAgICA8dHI+XFxuICAgICAgICA8dGggY2xhc3M9XFxcImNvbC1tLTEgdGV4dC1jZW50ZXJcXFwiPuWnk+WQjTwvdGg+XFxuICAgICAgICA8dGggY2xhc3M9XFxcImNvbC1tLTEgdGV4dC1jZW50ZXJcXFwiPuaAp+WIqzwvdGg+XFxuICAgICAgICA8dGggY2xhc3M9XFxcImNvbC1tLTEgdGV4dC1jZW50ZXJcXFwiPuW5tOm+hDwvdGg+XFxuICAgICAgICA8dGggY2xhc3M9XFxcImNvbC1tLTIgdGV4dC1jZW50ZXJcXFwiPuWkh+azqDwvdGg+XFxuICAgICAgICA8dGggY2xhc3M9XFxcImNvbC1tLTEgdGV4dC1jZW50ZXJcXFwiPuaTjeS9nDwvdGg+XFxuICAgICAgPC90cj5cXG4gICAgICA8dHIgbmctcmVwZWF0PVxcXCJpdGVtIGluIHZtLmxpc3RcXFwiPlxcbiAgICAgICAgPHRkPnt7aXRlbS5uYW1lfX08L3RkPlxcbiAgICAgICAgPHRkPnt7aXRlbS5nZW5kZXJ9fTwvdGQ+XFxuICAgICAgICA8dGQ+e3tpdGVtLmFnZX19PC90ZD5cXG4gICAgICAgIDx0ZD57e2l0ZW0ubm90ZX19PC90ZD5cXG4gICAgICAgIDx0ZD48YSBocmVmPVxcXCJqYXZhc2NyaXB0OnZvaWQoMClcXFwiIG5nLWNsaWNrPVxcXCJ2bS5lZGl0KGl0ZW0pXFxcIj7nvJbovpE8L2E+PC90ZD5cXG4gICAgICA8L3RyPlxcbiAgICA8L3RhYmxlPlxcbiAgPC9kaXY+XFxuXFxuICA8bWMtcGFnaW5hdGlvbiB0b3RhbC1pdGVtcz1cXFwidm0ucGFnaW5hdGlvbi5jb3VudFxcXCIgaXRlbXMtcGVyLXBhZ2U9XFxcInZtLnBhZ2luYXRpb24ucGFnZVNpemVcXFwiIGN1cnJlbnQtcGFnZT1cXFwidm0ucGFnaW5hdGlvbi5wYWdlXFxcIiBwYWdlLWNoYW5nZT1cXFwidm0ucGFnZUNoYW5nZWQoKVxcXCI+PC9tYy1wYWdpbmF0aW9uPlxcblxcbjwvc2VjdGlvbj5cXG5cIik7XG4kdGVtcGxhdGVDYWNoZS5wdXQoXCJtb2R1bGVzL2VudGVycHJpc2UvZGV0YWlsL2luZGV4Lmh0bWxcIixcIjxzZWN0aW9uIGNsYXNzPVxcXCJjb250ZW50LWhlYWRlclxcXCI+XFxuICA8YSBocmVmPVxcXCJqYXZhc2NyaXB0OnZvaWQoMClcXFwiIGNsYXNzPVxcXCJidG4gYnRuLWRlZmF1bHQgcHVsbC1yaWdodFxcXCIgbmctY2xpY2s9XFxcIiRyb290LmJhY2soKTtcXFwiPui/lOWbnjwvYT5cXG4gIDxoNCBjbGFzcz1cXFwidGl0bGVcXFwiPnt7dm0uaW5mby5uYW1lfX08L2g0Plxcbjwvc2VjdGlvbj5cXG5cXG48c2VjdGlvbiBjbGFzcz1cXFwiY29udGVudCBib2R5LWNvbnRlbnRcXFwiIGJsb2NrLXVpPVxcXCJtYWluXFxcIj5cXG5cXG4gIDxkaXYgY2xhc3M9XFxcInBhZ2UtaGVhZGVyXFxcIj5cXG4gICAgICA8aDQ+5bel5ZWG5L+h5oGvPC9oND5cXG4gIDwvZGl2PlxcblxcbiAgPGRpdiBjbGFzcz1cXFwiaXRlbS1jb250ZW50XFxcIj5cXG4gICAgPGRpdiBjbGFzcz1cXFwicGFuZWxcXFwiPlxcbiAgICAgIDx0YWJsZSBjbGFzcz1cXFwidGFibGUgdGFibGUtc3RyaXBlZFxcXCI+XFxuICAgICAgICA8dHI+XFxuICAgICAgICAgIDx0aCBjbGFzcz1cXFwiY29sLXNtLTFcXFwiPuS8geS4muWQjeensO+8mjwvdGg+XFxuICAgICAgICAgIDx0ZCBjbGFzcz1cXFwiY29sLXNtLTNcXFwiPnt7dm0uaW5mby5uYW1lfX08L3RkPlxcbiAgICAgICAgICA8dGggY2xhc3M9XFxcImNvbC1zbS0xXFxcIj7npL7kvJrkv6HnlKjku6PnoIHvvJo8L3RoPlxcbiAgICAgICAgICA8dGQgY2xhc3M9XFxcImNvbC1zbS0zXFxcIj57e3ZtLmluZm8uY3JlZGl0X25vfX08L3RkPlxcbiAgICAgICAgPC90cj5cXG4gICAgICAgIDx0cj5cXG4gICAgICAgICAgPHRoIGNsYXNzPVxcXCJjb2wtc20tMVxcXCI+5bel5ZWG5rOo5YaM5Y+377yaPC90aD5cXG4gICAgICAgICAgPHRkIGNsYXNzPVxcXCJjb2wtc20tM1xcXCI+e3t2bS5pbmZvLnJlZ19ub319PC90ZD5cXG4gICAgICAgICAgPHRoIGNsYXNzPVxcXCJjb2wtc20tMVxcXCI+57uE57uH5py65p6E5Luj56CBPC90aD5cXG4gICAgICAgICAgPHRkIGNsYXNzPVxcXCJjb2wtc20tM1xcXCI+e3t2bS5pbmZvLm9yZ19ub319PC90ZD5cXG4gICAgICAgIDwvdHI+XFxuICAgICAgICA8dHI+XFxuICAgICAgICAgIDx0aCBjbGFzcz1cXFwiY29sLXNtLTFcXFwiPuazleWumuS7o+ihqOS6uu+8mjwvdGg+XFxuICAgICAgICAgIDx0ZCBjbGFzcz1cXFwiY29sLXNtLTNcXFwiPnt7dm0uaW5mby5vcGVyX25hbWV9fTwvdGQ+XFxuICAgICAgICAgIDx0aCBjbGFzcz1cXFwiY29sLXNtLTFcXFwiPuaIkOeri+aXtumXtO+8mjwvdGg+XFxuICAgICAgICAgIDx0ZCBjbGFzcz1cXFwiY29sLXNtLTNcXFwiPnt7dm0uaW5mby5zdGFydF9kYXRlfX08L3RkPlxcbiAgICAgICAgPC90cj5cXG4gICAgICAgIDx0cj5cXG4gICAgICAgICAgPHRoIGNsYXNzPVxcXCJjb2wtc20tMVxcXCI+5LyB5Lia57G75Z6L77yaPC90aD5cXG4gICAgICAgICAgPHRkIGNsYXNzPVxcXCJjb2wtc20tM1xcXCI+e3t2bS5pbmZvLmVjb25fa2luZH19PC90ZD5cXG4gICAgICAgICAgPHRoIGNsYXNzPVxcXCJjb2wtc20tMVxcXCI+57uP6JCl54q25oCB77yaPC90aD5cXG4gICAgICAgICAgPHRkIGNsYXNzPVxcXCJjb2wtc20tM1xcXCI+e3t2bS5pbmZvLnN0YXR1c319PC90ZD5cXG4gICAgICAgIDwvdHI+XFxuICAgICAgICA8dHI+XFxuICAgICAgICAgIDx0aD7ms6jlhozotYTmnKzvvJo8L3RoPlxcbiAgICAgICAgICA8dGQgY29sc3Bhbj1cXFwiM1xcXCI+e3t2bS5pbmZvLnJlZ2lzdF9jYXBpfX08L3RkPlxcbiAgICAgICAgPC90cj5cXG4gICAgICAgIDx0cj5cXG4gICAgICAgICAgPHRoPuazqOWGjOWcsOWdgO+8mjwvdGg+XFxuICAgICAgICAgIDx0ZCBjb2xzcGFuPVxcXCIzXFxcIj57e3ZtLmluZm8uYWRkcmVzc319PC90ZD5cXG4gICAgICAgIDwvdHI+XFxuICAgICAgICA8dHI+XFxuICAgICAgICAgIDx0aD7okKXkuJrmnJ/pmZDvvJo8L3RoPlxcbiAgICAgICAgICA8dGQgY29sc3Bhbj1cXFwiM1xcXCI+6Ieqe3t2bS5pbmZvLnRlcm1fc3RhcnR9feiHs3t7dm0uaW5mby50ZXJtX2VuZH195q2iPC90ZD5cXG4gICAgICAgIDwvdHI+XFxuICAgICAgICA8dHI+XFxuICAgICAgICAgIDx0aD7okKXkuJrojIPlm7TvvJo8L3RoPlxcbiAgICAgICAgICA8dGQgY29sc3Bhbj1cXFwiM1xcXCI+e3t2bS5pbmZvLnNjb3BlfX08L3RkPlxcbiAgICAgICAgPC90cj5cXG4gICAgICAgIDx0cj5cXG4gICAgICAgICAgPHRoIGNsYXNzPVxcXCJjb2wtc20tMVxcXCI+55m76K6w5py65YWz77yaPC90aD5cXG4gICAgICAgICAgPHRkIGNsYXNzPVxcXCJjb2wtc20tM1xcXCI+e3t2bS5pbmZvLmJlbG9uZ19vcmd9fTwvdGQ+XFxuICAgICAgICAgIDx0aCBjbGFzcz1cXFwiY29sLXNtLTFcXFwiPuWPkeeFp+aXpeacn++8mjwvdGg+XFxuICAgICAgICAgIDx0ZCBjbGFzcz1cXFwiY29sLXNtLTNcXFwiPnt7dm0uaW5mby5jaGVja19kYXRlfX08L3RkPlxcbiAgICAgICAgPC90cj5cXG4gICAgICA8L3RhYmxlPlxcbiAgICA8L2Rpdj5cXG4gIDwvZGl2Plxcblxcbjwvc2VjdGlvbj5cXG5cXG48c2VjdGlvbiBjbGFzcz1cXFwiY29udGVudCBib2R5LWNvbnRlbnRcXFwiIGJsb2NrLXVpPVxcXCJtYWluXFxcIj5cXG5cXG4gIDxkaXYgY2xhc3M9XFxcInBhZ2UtaGVhZGVyXFxcIj5cXG4gICAgICA8aDQ+566h55CG5Zui6ZifPC9oND5cXG4gIDwvZGl2PlxcblxcbiAgPGRpdiBjbGFzcz1cXFwiaXRlbS1jb250ZW50XFxcIj5cXG4gICAgPGRpdiBjbGFzcz1cXFwicGFuZWxcXFwiPlxcbiAgICAgIDx0YWJsZSBjbGFzcz1cXFwidGFibGUgdGFibGUtc3RyaXBlZCB0ZXh0LWNlbnRlclxcXCI+XFxuICAgICAgICA8dHI+XFxuICAgICAgICAgIDx0aCBjbGFzcz1cXFwiY29sLXNtLTEgdGV4dC1jZW50ZXJcXFwiPuW6j+WPtzwvdGg+XFxuICAgICAgICAgIDx0aCBjbGFzcz1cXFwiY29sLXNtLTQgdGV4dC1jZW50ZXJcXFwiPuWnk+WQjTwvdGg+XFxuICAgICAgICAgIDx0aCBjbGFzcz1cXFwiY29sLXNtLTcgdGV4dC1jZW50ZXJcXFwiPuiBjOS9jTwvdGg+XFxuICAgICAgICA8L3RyPlxcbiAgICAgICAgPHRyIG5nLXJlcGVhdD1cXFwiaXRlbSBpbiB2bS5pbmZvLmVtcGxveWVlc1xcXCI+XFxuICAgICAgICAgIDx0ZD57eyRpbmRleCsxfX08L3RkPlxcbiAgICAgICAgICA8dGQ+e3tpdGVtLm5hbWV9fTwvdGQ+XFxuICAgICAgICAgIDx0ZD57e2l0ZW0uam9iX3RpdGxlfX08L3RkPlxcbiAgICAgICAgPC90cj5cXG4gICAgICA8L3RhYmxlPlxcbiAgICA8L2Rpdj5cXG4gIDwvZGl2Plxcblxcbjwvc2VjdGlvbj5cXG5cXG48c2VjdGlvbiBjbGFzcz1cXFwiY29udGVudCBib2R5LWNvbnRlbnRcXFwiIGJsb2NrLXVpPVxcXCJtYWluXFxcIj5cXG4gIDxkaXYgY2xhc3M9XFxcInBhZ2UtaGVhZGVyXFxcIj5cXG4gICAgICA8aDQ+5rOo5YaM5L+h5oGv5Y+Y5pu0PC9oND5cXG4gIDwvZGl2PlxcblxcbiAgPGRpdiBjbGFzcz1cXFwiaXRlbS1jb250ZW50XFxcIj5cXG4gICAgPGRpdiBjbGFzcz1cXFwicGFuZWxcXFwiPlxcbiAgICAgIDx0YWJsZSBjbGFzcz1cXFwidGFibGUgdGFibGUtc3RyaXBlZFxcXCI+XFxuICAgICAgICA8dHI+XFxuICAgICAgICAgIDx0aCBjbGFzcz1cXFwiY29sLXNtLTFcXFwiPuWPmOabtOaXpeacnzwvdGg+XFxuICAgICAgICAgIDx0aCBjbGFzcz1cXFwiY29sLXNtLTFcXFwiPuWPmOabtOmhuTwvdGg+XFxuICAgICAgICAgIDx0aCBjbGFzcz1cXFwiY29sLXNtLTRcXFwiPuWPmOabtOWJjTwvdGg+XFxuICAgICAgICAgIDx0aCBjbGFzcz1cXFwiY29sLXNtLTRcXFwiPuWPmOabtOWQjjwvdGg+XFxuICAgICAgICA8L3RyPlxcbiAgICAgICAgPHRyIG5nLXJlcGVhdD1cXFwiaXRlbSBpbiB2bS5pbmZvLmNoYW5nZXJlY29yZHNcXFwiPlxcbiAgICAgICAgICA8dGQ+e3tpdGVtLmNoYW5nZV9kYXRlfX08L3RkPlxcbiAgICAgICAgICA8dGQ+e3tpdGVtLmNoYW5nZV9pdGVtfX08L3RkPlxcbiAgICAgICAgICA8dGQ+e3tpdGVtLmJlZm9yZV9jb250ZW50fX08L3RkPlxcbiAgICAgICAgICA8dGQ+e3tpdGVtLmFmdGVyX2NvbnRlbnR9fTwvdGQ+XFxuICAgICAgICA8L3RyPlxcbiAgICAgIDwvdGFibGU+XFxuICAgIDwvZGl2PlxcbiAgPC9kaXY+XFxuXFxuPC9zZWN0aW9uPlxcblxcbjxzZWN0aW9uIGNsYXNzPVxcXCJjb250ZW50IGJvZHktY29udGVudFxcXCIgYmxvY2stdWk9XFxcIm1haW5cXFwiPlxcbiAgPGRpdiBjbGFzcz1cXFwicGFnZS1oZWFkZXJcXFwiPlxcbiAgICAgIDxoND7ogqHkuJzlj4rlh7rotYTkv6Hmga88L2g0PlxcbiAgPC9kaXY+XFxuXFxuICA8ZGl2IGNsYXNzPVxcXCJpdGVtLWNvbnRlbnRcXFwiPlxcbiAgICA8ZGl2IGNsYXNzPVxcXCJwYW5lbFxcXCI+XFxuICAgICAgPHRhYmxlIGNsYXNzPVxcXCJ0YWJsZSB0YWJsZS1zdHJpcGVkIHRleHQtY2VudGVyXFxcIj5cXG4gICAgICAgIDx0cj5cXG4gICAgICAgICAgPHRoIGNsYXNzPVxcXCJjb2wtc20tMSB0ZXh0LWNlbnRlclxcXCI+5bqP5Y+3PC90aD5cXG4gICAgICAgICAgPHRoIGNsYXNzPVxcXCJjb2wtc20tNCB0ZXh0LWNlbnRlclxcXCI+6IKh5LicPC90aD5cXG4gICAgICAgICAgPHRoIGNsYXNzPVxcXCJjb2wtc20tNCB0ZXh0LWNlbnRlclxcXCI+PC90aD5cXG4gICAgICAgIDwvdHI+XFxuICAgICAgICA8dHIgbmctcmVwZWF0PVxcXCJpdGVtIGluIHZtLmluZm8ucGFydG5lcnNcXFwiPlxcbiAgICAgICAgICA8dGQ+e3skaW5kZXgrMX19PC90ZD5cXG4gICAgICAgICAgPHRkPnt7aXRlbS5uYW1lfX08L3RkPlxcbiAgICAgICAgICA8dGQ+e3tpdGVtLnN0b2NrX3R5cGV9fTwvdGQ+XFxuICAgICAgICA8L3RyPlxcbiAgICAgIDwvdGFibGU+XFxuICAgIDwvZGl2PlxcbiAgPC9kaXY+XFxuXFxuPC9zZWN0aW9uPlxcblwiKTtcbiR0ZW1wbGF0ZUNhY2hlLnB1dChcIm1vZHVsZXMvZW50ZXJwcmlzZS9saXN0L2luZGV4Lmh0bWxcIixcIjxzZWN0aW9uIGNsYXNzPVxcXCJjb250ZW50LWhlYWRlclxcXCI+XFxuICA8YnV0dG9uIHR5cGU9XFxcImJ1dHRvblxcXCIgY2xhc3M9XFxcImJ0biBidG4tc3VjY2VzcyBwdWxsLXJpZ2h0IG0tbC1zbVxcXCIgc3R5bGU9XFxcInBvc2l0aW9uOiByZWxhdGl2ZTsgei1pbmRleDogMjtcXFwiXFxuICAgICAgICAgIG5nLWNsaWNrPVxcXCJ2bS5hZGQoKVxcXCI+PGkgY2xhc3M9XFxcImljb24tUGx1c1xcXCI+PC9pPiDmt7vliqBcXG4gIDwvYnV0dG9uPlxcbiAgPGRpdiBjbGFzcz1cXFwib3B0aW9uc1xcXCI+XFxuICAgIDxkaXYgY2xhc3M9XFxcIm9wdGlvbi1pdGVtIG9wdGlvbi10aW1lXFxcIj5cXG4gICAgICA8dWwgY2xhc3M9XFxcImNsZWFyZml4XFxcIj5cXG4gICAgICAgIDxsaT5cXG4gICAgICAgICAgPGRpdiBjbGFzcz1cXFwiaW5wdXQtZ3JvdXAgc2VhcmNoLWJveFxcXCI+XFxuICAgICAgICAgICAgPGlucHV0IG5nLW1vZGVsPVxcXCJ2bS5maWx0ZXJzLm5hbWVcXFwiIHR5cGU9XFxcInRleHRcXFwiIHBsYWNlaG9sZGVyPVxcXCLor7fovpPmn6Xor6JcXFwiIGNsYXNzPVxcXCJmb3JtLWNvbnRyb2xcXFwiXFxuICAgICAgICAgICAgICAgICAgICBjb2RlPVxcXCIxM1xcXCIga2V5LWV2ZW50PVxcXCJ2bS5yZVNlYXJjaCgpO1xcXCI+XFxuICAgICAgICAgICAgPHNwYW4gY2xhc3M9XFxcImlucHV0LWdyb3VwLWJ0blxcXCI+XFxuICAgICAgICAgICAgICA8YnV0dG9uIG5nLWNsaWNrPVxcXCJ2bS5yZVNlYXJjaCgpXFxcIiBjbGFzcz1cXFwiYnRuIGJ0bi1kZWZhdWx0IHNlYXJjaFxcXCIgdHlwZT1cXFwiYnV0dG9uXFxcIj48aSBjbGFzcz1cXFwiaWNvbi1zZWFyY2hcXFwiPjwvaT48L2J1dHRvbj5cXG4gICAgICAgICAgICA8L3NwYW4+XFxuICAgICAgICAgIDwvZGl2PlxcbiAgICAgICAgPC9saT5cXG4gICAgICA8L3VsPlxcbiAgICA8L2Rpdj5cXG4gICAgPGRpdiBjbGFzcz1cXFwib3B0aW9uLWl0ZW0gbGFyZ2VcXFwiIG5nLWlmPVxcXCJ2bS5hY2Nlc3NbXFwnZW50ZXJwcmlzZS5maWx0ZXIucm9sZV9hX3N0YXRlXFwnXVxcXCI+XFxuICAgICAgPHNwYW4gY2xhc3M9XFxcIml0ZW0tdGl0bGUgdGV4dC1yaWdodFxcXCI+5Li755CG54q25oCB77yaPC9zcGFuPlxcbiAgICAgIDx1bCBjbGFzcz1cXFwiY2xlYXJmaXhcXFwiPlxcbiAgICAgICAgICA8IS0tIDxsaT5cXG4gICAgICAgICAgICAgIDxhIGhyZWY9XFxcImphdmFzY3JpcHQ6O1xcXCIgY2xhc3M9XFxcImJ0blxcXCIgbmctY2xhc3M9XFxcIntcXCdidG4tZGVmYXVsdFxcJzogdm0uZmlsdGVycy5nZW5kZXIsIFxcJ2J0bi10b2dnbGVcXCc6ICF2bS5maWx0ZXJzLmdlbmRlciwgXFwnYWN0aXZlXFwnOiAhdm0uZmlsdGVycy5nZW5kZXJ9XFxcIiBuZy1jbGljaz1cXFwidm0uc3dpdGNoKFxcJ2dlbmRlclxcJylcXFwiPlxcbiAgICAgICAgICAgICAgICAgIOWFqOmDqFxcbiAgICAgICAgICAgICAgPC9hPlxcbiAgICAgICAgICA8L2xpPiAtLT5cXG4gICAgICAgICAgPGxpIG5nLXJlcGVhdD1cXFwiaXRlbSBpbiB2bS5yb2xlTWFpblN0YXR1c1xcXCI+XFxuICAgICAgICAgICAgICA8YSBocmVmPVxcXCJqYXZhc2NyaXB0OjtcXFwiIGNsYXNzPVxcXCJidG5cXFwiIG5nLWNsYXNzPVxcXCJ7XFwnYnRuLWRlZmF1bHRcXCc6IHZtLmZpbHRlcnMucm9sZV9hX2Rpc2FibGUgIT0gaXRlbS52YWx1ZSwgXFwnYnRuLXRvZ2dsZVxcJzogdm0uZmlsdGVycy5yb2xlX2FfZGlzYWJsZSA9PSBpdGVtLnZhbHVlLCBcXCdhY3RpdmVcXCc6IHZtLmZpbHRlcnMucm9sZV9hX2Rpc2FibGUgPT0gaXRlbS52YWx1ZX1cXFwiIG5nLWNsaWNrPVxcXCJ2bS5zd2l0Y2goXFwncm9sZV9hX2Rpc2FibGVcXCcsIGl0ZW0udmFsdWUpXFxcIj5cXG4gICAgICAgICAgICAgICAgICB7eyBpdGVtLmxhYmVsIH19XFxuICAgICAgICAgICAgICA8L2E+XFxuICAgICAgICAgIDwvbGk+XFxuICAgICAgPC91bD5cXG4gICAgPC9kaXY+XFxuICAgIDxkaXYgY2xhc3M9XFxcIm9wdGlvbi1pdGVtIGxhcmdlXFxcIj5cXG4gICAgICA8c3BhbiBjbGFzcz1cXFwiaXRlbS10aXRsZSB0ZXh0LXJpZ2h0XFxcIj7kvIHkuJrnirbmgIHvvJo8L3NwYW4+XFxuICAgICAgPHVsIGNsYXNzPVxcXCJjbGVhcmZpeFxcXCI+XFxuICAgICAgICAgIDxsaT5cXG4gICAgICAgICAgICAgIDxhIGhyZWY9XFxcImphdmFzY3JpcHQ6O1xcXCIgY2xhc3M9XFxcImJ0blxcXCIgbmctY2xhc3M9XFxcIntcXCdidG4tZGVmYXVsdFxcJzogdm0uZmlsdGVycy5zdGF0ZSAhPT0gdW5kZWZpbmVkLCBcXCdidG4tdG9nZ2xlXFwnOiB2bS5maWx0ZXJzLnN0YXRlID09PSB1bmRlZmluZWQsIFxcJ2FjdGl2ZVxcJzogdm0uZmlsdGVycy5zdGF0ZSA9PT0gdW5kZWZpbmVkfVxcXCIgbmctY2xpY2s9XFxcInZtLnN3aXRjaChcXCdzdGF0ZVxcJylcXFwiPlxcbiAgICAgICAgICAgICAgICAgIOWFqOmDqFxcbiAgICAgICAgICAgICAgPC9hPlxcbiAgICAgICAgICA8L2xpPlxcbiAgICAgICAgICA8bGkgbmctcmVwZWF0PVxcXCJpdGVtIGluIHZtLmVudGVycHJpc2VTdGF0ZUxpc3RcXFwiPlxcbiAgICAgICAgICAgICAgPGEgaHJlZj1cXFwiamF2YXNjcmlwdDo7XFxcIiBjbGFzcz1cXFwiYnRuXFxcIiBuZy1jbGFzcz1cXFwie1xcJ2J0bi1kZWZhdWx0XFwnOiB2bS5maWx0ZXJzLnN0YXRlICE9IGl0ZW0udmFsdWUsIFxcJ2J0bi10b2dnbGVcXCc6IHZtLmZpbHRlcnMuc3RhdGUgPT0gaXRlbS52YWx1ZSwgXFwnYWN0aXZlXFwnOiB2bS5maWx0ZXJzLnN0YXRlID09IGl0ZW0udmFsdWV9XFxcIiBuZy1jbGljaz1cXFwidm0uc3dpdGNoKFxcJ3N0YXRlXFwnLCBpdGVtLnZhbHVlKVxcXCI+XFxuICAgICAgICAgICAgICAgICAge3sgaXRlbS5sYWJlbCB9fVxcbiAgICAgICAgICAgICAgPC9hPlxcbiAgICAgICAgICA8L2xpPlxcbiAgICAgIDwvdWw+XFxuICAgIDwvZGl2Plxcbjwvc2VjdGlvbj5cXG5cXG48c2VjdGlvbiBjbGFzcz1cXFwiY29udGVudCBib2R5LWNvbnRlbnQgYm9keS1jb250ZW50LWNvbXBhY3QgYmxvY2stdWkgYmxvY2stdWktbWVzc2FnZS1jdXN0b21cXFwiIGJsb2NrLXVpPVxcXCJtYWluXFxcIj5cXG4gIDxlbXB0eS10aXAgbmctaWY9XFxcInZtLmxpc3QubGVuZ3RoID09PSAwXFxcIj48L2VtcHR5LXRpcD5cXG5cXG4gIDxkaXYgY2xhc3M9XFxcInBhbmVsXFxcIiBuZy1pZj1cXFwidm0ubGlzdC5sZW5ndGggPiAwXFxcIj5cXG4gICAgPHRhYmxlIGNsYXNzPVxcXCJ0YWJsZSB0YWJsZS1zdHJpcGVkIHRleHQtY2VudGVyXFxcIj5cXG4gICAgICA8dHI+XFxuICAgICAgICA8dGggY2xhc3M9XFxcImNvbC1tLTEgdGV4dC1jZW50ZXJcXFwiPuS8geS4muWQjeensDwvdGg+XFxuICAgICAgICA8dGggY2xhc3M9XFxcImNvbC1tLTEgdGV4dC1jZW50ZXJcXFwiPuS8geS4muWcsOWdgDwvdGg+XFxuICAgICAgICA8dGggY2xhc3M9XFxcImNvbC1tLTEgdGV4dC1jZW50ZXJcXFwiPuaJgOWxnuacuuaehDwvdGg+XFxuICAgICAgICA8dGggY2xhc3M9XFxcImNvbC1tLTEgdGV4dC1jZW50ZXJcXFwiIG5nLWlmPVxcXCJ2bS5hY2Nlc3NbXFwnZW50ZXJwcmlzZS5saXN0LnJvbGVfc2hvd1xcJ11cXFwiPuS4u+eQhjwvdGg+XFxuICAgICAgICA8dGggY2xhc3M9XFxcImNvbC1tLTIgdGV4dC1jZW50ZXJcXFwiIG5nLWlmPVxcXCJ2bS5hY2Nlc3NbXFwnZW50ZXJwcmlzZS5saXN0LnJvbGVfc2hvd1xcJ11cXFwiPuWNj+eQhjwvdGg+XFxuICAgICAgICA8dGggY2xhc3M9XFxcImNvbC1tLTEgdGV4dC1jZW50ZXJcXFwiPuS8geS4mueKtuaAgTwvdGg+XFxuICAgICAgICA8dGggY2xhc3M9XFxcImNvbC1tLTEgdGV4dC1jZW50ZXJcXFwiPuWIhumFjeeKtuaAgTwvdGg+XFxuICAgICAgICA8dGggY2xhc3M9XFxcImNvbC1tLTEgdGV4dC1jZW50ZXJcXFwiPuaTjeS9nDwvdGg+XFxuICAgICAgPC90cj5cXG4gICAgICA8dHIgbmctcmVwZWF0PVxcXCJpdGVtIGluIHZtLmxpc3RcXFwiPlxcbiAgICAgICAgPHRkPnt7aXRlbS5uYW1lfX08L3RkPlxcbiAgICAgICAgPHRkPnt7aXRlbS5hZGRyZXNzfX08L3RkPlxcbiAgICAgICAgPHRkPnt7aXRlbS5iYW5rLm5hbWV9fTwvdGQ+XFxuICAgICAgICA8dGQgbmctaWY9XFxcInZtLmFjY2Vzc1tcXCdlbnRlcnByaXNlLmxpc3Qucm9sZV9zaG93XFwnXVxcXCI+e3tpdGVtLnJvbGVfYS50cnVlX25hbWV9fTwvdGQ+XFxuICAgICAgICA8dGQgbmctaWY9XFxcInZtLmFjY2Vzc1tcXCdlbnRlcnByaXNlLmxpc3Qucm9sZV9zaG93XFwnXVxcXCI+e3tpdGVtLnJvbGVfYi50cnVlX25hbWV9fTwvdGQ+XFxuICAgICAgICA8dGQ+e3tpdGVtLnN0YXRlIHwgZmlsdGVyVmFsdWU6IHZtLmVudGVycHJpc2VTdGF0ZUxpc3R9fTwvdGQ+XFxuICAgICAgICA8dGQ+e3tpdGVtLmRpc3RyaWJ1dGVfc3RhdGUgfCBmaWx0ZXJEaXN0cmlidXRlU3RhdGV9fTwvdGQ+XFxuICAgICAgICA8dGQ+XFxuICAgICAgICA8IS0tIG5nLWlmPVxcXCJ2bS5wcm9maWxlLnJvbGUgPT0gXFwnUk9MRV9CUkFOQ0hfUFJFU0lERU5UXFwnXFxcIiAtLT5cXG4gICAgICAgICA8IS0tIG5nLWlmPVxcXCJ2bS5wcm9maWxlLnJvbGUgPT0gXFwnUk9MRV9FTkRfUFJFU0lERU5UXFwnXFxcIiAtLT5cXG4gICAgICAgICAgPGEgaHJlZj1cXFwiamF2YXNjcmlwdDp2b2lkKDApXFxcIiBuZy1jbGljaz1cXFwidm0uYXNzaWduQnJhbmNoKGl0ZW0pXFxcIiBuZy1pZj1cXFwidm0uYWNjZXNzW1xcJ2VudGVycHJpc2UuYXNzaWduLmJyYW5jaFxcJ11cXFwiPuWIhumFjeacuuaehDwvYT5cXG4gICAgICAgICAgPGEgaHJlZj1cXFwiamF2YXNjcmlwdDp2b2lkKDApXFxcIiBuZy1jbGljaz1cXFwidm0uYXNzaWduKGl0ZW0pXFxcIiBuZy1pZj1cXFwidm0uYWNjZXNzW1xcJ2VudGVycHJpc2UuYXNzaWduLnJvbGVcXCddXFxcIj7liIbphY3lrqLmiLfnu4/nkIY8L2E+XFxuICAgICAgICAgIDxhIHVpLXNyZWY9XFxcImVudGVycHJpc2UuZGV0YWlsKHtpZDogaXRlbS5pZH0pXFxcIj7mn6XnnIvor6bmg4U8L2E+XFxuICAgICAgICAgIDwhLS0gPGEgaHJlZj1cXFwiamF2YXNjcmlwdDp2b2lkKDApXFxcIiBuZy1jbGljaz1cXFwidm0uZGVsKGl0ZW0pXFxcIj7liKDpmaQ8L2E+XFxuICAgICAgICAgIDxhIGhyZWY9XFxcImphdmFzY3JpcHQ6dm9pZCgwKVxcXCIgbmctY2xpY2s9XFxcInZtLmZyb3N0KGl0ZW0pXFxcIj7lhrvnu5M8L2E+IC0tPlxcbiAgICAgICAgPC90ZD5cXG4gICAgICA8L3RyPlxcbiAgICA8L3RhYmxlPlxcbiAgPC9kaXY+XFxuXFxuICA8bWMtcGFnaW5hdGlvbiB0b3RhbC1pdGVtcz1cXFwidm0ucGFnaW5hdGlvbi5jb3VudFxcXCIgaXRlbXMtcGVyLXBhZ2U9XFxcInZtLnBhZ2luYXRpb24ucGFnZVNpemVcXFwiIGN1cnJlbnQtcGFnZT1cXFwidm0ucGFnaW5hdGlvbi5wYWdlXFxcIiBwYWdlLWNoYW5nZT1cXFwidm0ucGFnZUNoYW5nZWQoKVxcXCI+PC9tYy1wYWdpbmF0aW9uPlxcblxcbjwvc2VjdGlvbj5cXG5cIik7XG4kdGVtcGxhdGVDYWNoZS5wdXQoXCJtb2R1bGVzL2ZpbHRlci9ibGFja2xpc3QvdGVtcGxhdGUuaHRtbFwiLFwiPHNlY3Rpb24gY2xhc3M9XFxcImNvbnRlbnQtaGVhZGVyXFxcIj5cXG4gIDxidXR0b24gdHlwZT1cXFwiYnV0dG9uXFxcIiBjbGFzcz1cXFwiYnRuIGJ0bi1zdWNjZXNzIHB1bGwtcmlnaHQgbS1sLXNtXFxcIiBzdHlsZT1cXFwicG9zaXRpb246IHJlbGF0aXZlOyB6LWluZGV4OiAyO1xcXCJcXG4gICAgICAgICAgbmctY2xpY2s9XFxcInZtLmFkZCgpXFxcIj48aSBjbGFzcz1cXFwiaWNvbi1QbHVzXFxcIj48L2k+IOa3u+WKoFxcbiAgPC9idXR0b24+XFxuXFxuICA8ZGl2IGNsYXNzPVxcXCJvcHRpb25zXFxcIj5cXG4gICAgPGRpdiBjbGFzcz1cXFwib3B0aW9uLWl0ZW0gb3B0aW9uLXRpbWVcXFwiPlxcbiAgICAgIDx1bCBjbGFzcz1cXFwiY2xlYXJmaXhcXFwiPlxcbiAgICAgICAgPGxpPlxcbiAgICAgICAgICA8ZGl2IGNsYXNzPVxcXCJpbnB1dC1ncm91cCBzZWFyY2gtYm94XFxcIj5cXG4gICAgICAgICAgICA8aW5wdXQgbmctbW9kZWw9XFxcInZtLmZpbHRlcnMubmFtZVxcXCIgdHlwZT1cXFwidGV4dFxcXCIgcGxhY2Vob2xkZXI9XFxcIuivt+i+k+WFrOWPuOWQjeafpeivolxcXCIgY2xhc3M9XFxcImZvcm0tY29udHJvbFxcXCJcXG4gICAgICAgICAgICAgICAgICAgIGNvZGU9XFxcIjEzXFxcIiBrZXktZXZlbnQ9XFxcInZtLnJlU2VhcmNoKCk7XFxcIj5cXG4gICAgICAgICAgICA8c3BhbiBjbGFzcz1cXFwiaW5wdXQtZ3JvdXAtYnRuXFxcIj5cXG4gICAgICAgICAgICAgIDxidXR0b24gbmctY2xpY2s9XFxcInZtLnJlU2VhcmNoKClcXFwiIGNsYXNzPVxcXCJidG4gYnRuLWRlZmF1bHQgc2VhcmNoXFxcIiB0eXBlPVxcXCJidXR0b25cXFwiPjxpIGNsYXNzPVxcXCJpY29uLXNlYXJjaFxcXCI+PC9pPjwvYnV0dG9uPlxcbiAgICAgICAgICAgIDwvc3Bhbj5cXG4gICAgICAgICAgPC9kaXY+XFxuICAgICAgICA8L2xpPlxcbiAgICAgIDwvdWw+XFxuICAgIDwvZGl2Plxcbjwvc2VjdGlvbj5cXG5cXG48c2VjdGlvbiBjbGFzcz1cXFwiY29udGVudCBib2R5LWNvbnRlbnQgYm9keS1jb250ZW50LWNvbXBhY3QgYmxvY2stdWkgYmxvY2stdWktbWVzc2FnZS1jdXN0b21cXFwiIGJsb2NrLXVpPVxcXCJtYWluXFxcIj5cXG4gIDxlbXB0eS10aXAgbmctaWY9XFxcInZtLmxpc3QubGVuZ3RoID09PSAwXFxcIj48L2VtcHR5LXRpcD5cXG5cXG4gIDxkaXYgY2xhc3M9XFxcInBhbmVsXFxcIiBuZy1pZj1cXFwidm0ubGlzdC5sZW5ndGggPiAwXFxcIj5cXG4gICAgPHRhYmxlIGNsYXNzPVxcXCJ0YWJsZSB0YWJsZS1zdHJpcGVkIHRleHQtY2VudGVyXFxcIj5cXG4gICAgICA8dHI+XFxuICAgICAgICA8dGggY2xhc3M9XFxcImNvbC1tLTMgdGV4dC1jZW50ZXJcXFwiPuWFrOWPuOWQjeensDwvdGg+XFxuICAgICAgICA8dGggY2xhc3M9XFxcImNvbC1tLTMgdGV4dC1jZW50ZXJcXFwiPuS/oeaBr+adpea6kDwvdGg+XFxuICAgICAgICA8dGggY2xhc3M9XFxcImNvbC1tLTQgdGV4dC1jZW50ZXJcXFwiPuWkh+azqDwvdGg+XFxuICAgICAgICA8dGggY2xhc3M9XFxcImNvbC1tLTIgdGV4dC1jZW50ZXJcXFwiPuaTjeS9nDwvdGg+XFxuICAgICAgPC90cj5cXG4gICAgICA8dHIgbmctcmVwZWF0PVxcXCJpdGVtIGluIHZtLmxpc3RcXFwiPlxcbiAgICAgICAgPHRkPnt7aXRlbS5uYW1lfX08L3RkPlxcbiAgICAgICAgPHRkPnt7aXRlbS5zb3VyY2V9fTwvdGQ+XFxuICAgICAgICA8dGQ+e3tpdGVtLm5vdGV9fTwvdGQ+XFxuICAgICAgICA8IS0tIDx0ZD5cXG4gICAgICAgICAgPHNwYW4gY2xhc3M9XFxcInRleHQtc3VjY2Vzc1xcXCIgbmctaWY9XFxcIml0ZW0uc3RhdGU9PTFcXFwiPuato+W4uDwvc3Bhbj5cXG4gICAgICAgICAgPHNwYW4gY2xhc3M9XFxcInRleHQtZGFuZ2VyXFxcIiBuZy1pZj1cXFwiaXRlbS5zdGF0ZT09M1xcXCI+5bey5Yig6ZmkPC9zcGFuPlxcbiAgICAgICAgPC90ZD4gLS0+XFxuICAgICAgICA8dGQ+XFxuICAgICAgICAgIDxhIGhyZWY9XFxcImphdmFzY3JpcHQ6dm9pZCgwKVxcXCIgY2xhc3M9XFxcInRleHQtZGFuZ2VyXFxcIiBuZy1jbGljaz1cXFwidm0uZGVsKGl0ZW0pXFxcIj7liKDpmaQ8L2E+XFxuICAgICAgICA8L3RkPlxcbiAgICAgIDwvdHI+XFxuICAgIDwvdGFibGU+XFxuICA8L2Rpdj5cXG5cXG4gIDxtYy1wYWdpbmF0aW9uIHRvdGFsLWl0ZW1zPVxcXCJ2bS5wYWdpbmF0aW9uLmNvdW50XFxcIiBpdGVtcy1wZXItcGFnZT1cXFwidm0ucGFnaW5hdGlvbi5wYWdlU2l6ZVxcXCIgY3VycmVudC1wYWdlPVxcXCJ2bS5wYWdpbmF0aW9uLnBhZ2VcXFwiIHBhZ2UtY2hhbmdlPVxcXCJ2bS5wYWdlQ2hhbmdlZCgpXFxcIj48L21jLXBhZ2luYXRpb24+XFxuXFxuPC9zZWN0aW9uPlxcblxcblwiKTtcbiR0ZW1wbGF0ZUNhY2hlLnB1dChcIm1vZHVsZXMvZmlsdGVyL2NvbmRpdGlvbi9pbmRleC5odG1sXCIsXCI8c2VjdGlvbiBjbGFzcz1cXFwiY29udGVudC1oZWFkZXIgY2xlYXJmaXhcXFwiPlxcbiAgPGg0IGNsYXNzPVxcXCJ0aXRsZVxcXCI+XFxuICAgIOiuvue9ruWHhuWFpeadoeS7tlxcbiAgPC9oND5cXG4gIDwhLS0gPGEgaHJlZj1cXFwiamF2YXNjcmlwdDp2b2lkKDApXFxcIiBjbGFzcz1cXFwiYnRuIGJ0bi1kZWZhdWx0IHB1bGwtcmlnaHRcXFwiIG5nLWNsaWNrPVxcXCIkcm9vdC5iYWNrKCk7XFxcIj7ov5Tlm548L2E+IC0tPlxcbjwvc2VjdGlvbj5cXG48c2VjdGlvbiBjbGFzcz1cXFwiY29udGVudCBib2R5LWNvbnRlbnQgYmxvY2stdWkgYmxvY2stdWktbWVzc2FnZS1jdXN0b20gbWVzc2FnZS1kZXRhaWwgcC1tXFxcIiBibG9jay11aT1cXFwibWFpblxcXCI+XFxuXHQ8Zm9ybSBjbGFzcz1cXFwiZm9ybS1ob3Jpem9udGFsXFxcIiBuYW1lPVxcXCJ2bS5Gb3JtXFxcIj5cXG4gICAgPCEtLSA8ZGl2IGNsYXNzPVxcXCJmb3JtLWdyb3VwIGNsZWFyZml4XFxcIj5cXG4gICAgICA8bGFiZWwgZm9yPVxcXCJub3RlSW5wdXRcXFwiIGNsYXNzPVxcXCJjb2wtc20tMSBjb250cm9sLWxhYmVsXFxcIj7moIfpopjvvJo8L2xhYmVsPlxcbiAgICAgIDxkaXYgY2xhc3M9XFxcImNvbC1zbS01XFxcIj5cXG4gICAgICAgIDxpbnB1dCB0eXBlPVxcXCJ0ZXh0XFxcIiBjbGFzcz1cXFwiZm9ybS1jb250cm9sXFxcIiBuZy1tb2RlbD1cXFwidm0uaW5wdXRJbmZvLnRpdGxlXFxcIiBwbGFjZWhvbGRlcj1cXFwi6K+36L6T5YWlXFxcIlxcbiAgICAgICAgICB2YWxpZGF0b3I9XFxcInJlcXVpcmVkXFxcIj5cXG4gICAgICA8L2Rpdj5cXG4gICAgPC9kaXY+XFxuICAgIDxkaXYgY2xhc3M9XFxcImZvcm0tZ3JvdXAgY2xlYXJmaXhcXFwiPlxcblx0ICAgIDxkaXYgY2xhc3M9XFxcImNsZWFyZml4XFxcIj5cXG5cdCAgICAgIDxsYWJlbCBmb3I9XFxcIm5vdGVJbnB1dFxcXCIgY2xhc3M9XFxcImNvbC1zbS0xIGNvbnRyb2wtbGFiZWxcXFwiPuWGheWuue+8mjwvbGFiZWw+XFxuICAgICAgPC9kaXY+XFxuICAgIFx0PGRpdiBjbGFzcz1cXFwiY29sLXNtLTZcXFwiPlxcblx0XHRcdFx0PG1kZWRpdG9yIGRlZmF1bHQtdGV4dD1cXFwidm0uZGVmYXVsdENvbnRlbnRcXFwiIHRleHQ9XFxcInZtLmlucHV0SW5mby5jb250ZW50XFxcIj48L21kZWRpdG9yPlxcblx0XHRcdFx0PGlucHV0IHR5cGU9XFxcImhpZGRlblxcXCIgbmctbW9kZWw9XFxcInZtLmlucHV0SW5mby5jb250ZW50XFxcIiB2YWxpZGF0b3I9XFxcInJlcXVpcmVkXFxcIiAvPlxcblx0XHRcdDwvZGl2Plxcblx0XHRcdDxkaXYgY2xhc3M9XFxcImNvbC1zbS02XFxcIj5cXG5cdFx0XHRcdDxoNT7lhoXlrrnpooTop4g8L2g1Plxcblx0XHRcdFx0PHAgbmctYmluZC1odG1sPVxcXCJ2bS5odG1sXFxcIiBzdHlsZT1cXFwiYmFja2dyb3VuZDogI2ZmZjsgaGVpZ2h0OiAzMDZweDsgb3ZlcmZsb3c6IGF1dG87IGJvcmRlcjogMXB4IHNvbGlkICNkZGQ7IHBhZGRpbmc6IDVweDtcXFwiPjwvcD5cXG5cdFx0XHQ8L2Rpdj5cXG4gICAgPC9kaXY+IC0tPlxcbiAgICA8ZGl2IGNsYXNzPVxcXCJwYW5lbCB0ZXh0LWNlbnRlclxcXCI+XFxuICAgICAgXFxuICAgICAgPGRpdiBjbGFzcz1cXFwiZm9ybS1ncm91cCBjbGVhcmZpeFxcXCI+XFxuICAgICAgICA8ZGl2IGNsYXNzPVxcXCJjb2wtc20tMSB0ZXh0LWNlbnRlclxcXCI+5YiG57uE5Y+3PC9kaXY+XFxuICAgICAgICA8ZGl2IGNsYXNzPVxcXCJjb2wtc20tMTFcXFwiPlxcbiAgICAgICAgICA8ZGl2IGNsYXNzPVxcXCJjb2wtc20tNFxcXCI+6aG555uuPC9kaXY+XFxuICAgICAgICAgIDxkaXYgY2xhc3M9XFxcImNvbC1zbS0xXFxcIj7nsbvlnos8L2Rpdj5cXG4gICAgICAgICAgPGRpdiBjbGFzcz1cXFwiY29sLXNtLTFcXFwiPuadoeS7tjwvZGl2PlxcbiAgICAgICAgICA8ZGl2IGNsYXNzPVxcXCJjb2wtc20tNFxcXCI+5YC8PC9kaXY+XFxuICAgICAgICAgIDxkaXYgY2xhc3M9XFxcImNvbC1zbS0yXFxcIj7mk43kvZw8L2Rpdj5cXG4gICAgICAgIDwvZGl2PlxcbiAgICAgIDwvZGl2PlxcbiAgICAgIDxkaXYgY2xhc3M9XFxcImZvcm0tZ3JvdXAgY2xlYXJmaXhcXFwiIG5nLXJlcGVhdD1cXFwiZ3JvdXAgaW4gdm0ubGlzdFxcXCI+XFxuICAgICAgICA8ZGl2IGNsYXNzPVxcXCJjb2wtc20tMVxcXCI+e3skaW5kZXggKyAxfX08L2Rpdj5cXG4gICAgICAgIDxkaXYgY2xhc3M9XFxcImNvbC1zbS0xMVxcXCI+XFxuICAgICAgICAgIDxkaXYgY2xhc3M9XFxcImZvcm0tZ3JvdXAgY2xlYXJmaXhcXFwiIG5nLXJlcGVhdD1cXFwiaXRlbSBpbiBncm91cC5saXN0XFxcIj5cXG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVxcXCJjb2wtc20tNFxcXCI+PGlucHV0IHR5cGU9XFxcInRleHRcXFwiIGNsYXNzPVxcXCJmb3JtLWNvbnRyb2xcXFwiIG5nLW1vZGVsPVxcXCJpdGVtLnRpdGxlXFxcIiBwbGFjZWhvbGRlcj1cXFwi6K+36L6T5YWl5ZCN56ewXFxcIlxcbiAgICAgICAgICAgIHZhbGlkYXRvcj1cXFwicmVxdWlyZWRcXFwiPjwvZGl2PlxcbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XFxcImNvbC1zbS0xXFxcIj5cXG4gICAgICAgICAgICAgIDxzZWxlY3QgY2xhc3M9XFxcImZvcm0tY29udHJvbCBjLXNlbGVjdFxcXCIgbmctbW9kZWw9XFxcIml0ZW0udHlwZVxcXCIgbmctb3B0aW9ucz1cXFwiYy52YWx1ZSBhcyBjLm5hbWUgZm9yIGMgaW4gdm0udHlwZUxpc3RcXFwiIHZhbGlkYXRvcj1cXFwicmVxdWlyZWRcXFwiPlxcbiAgICAgICAgICAgICAgPC9zZWxlY3Q+XFxuICAgICAgICAgICAgPC9kaXY+XFxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cXFwiY29sLXNtLTFcXFwiPlxcbiAgICAgICAgICAgICAgPHNlbGVjdCBjbGFzcz1cXFwiZm9ybS1jb250cm9sIGMtc2VsZWN0XFxcIiBuZy1tb2RlbD1cXFwiaXRlbS5jb25kaXRpb25cXFwiIG5nLW9wdGlvbnM9XFxcImMudmFsdWUgYXMgYy5uYW1lIGZvciBjIGluIHZtLmNvbmRpdGlvbkxpc3RbaXRlbS50eXBlXVxcXCIgdmFsaWRhdG9yPVxcXCJyZXF1aXJlZFxcXCI+XFxuICAgICAgICAgICAgICA8L3NlbGVjdD5cXG4gICAgICAgICAgICA8L2Rpdj5cXG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVxcXCJjb2wtc20tNFxcXCI+PGlucHV0IHR5cGU9XFxcInRleHRcXFwiIGNsYXNzPVxcXCJmb3JtLWNvbnRyb2xcXFwiIG5nLW1vZGVsPVxcXCJpdGVtLnZhbHVlXFxcIiBwbGFjZWhvbGRlcj1cXFwi6K+36L6T5YWl5YC8XFxcIlxcbiAgICAgICAgICAgIHZhbGlkYXRvcj1cXFwibm90TnVsbFxcXCI+PC9kaXY+XFxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cXFwiY29sLXNtLTJcXFwiPlxcbiAgICAgICAgICAgICAgPGEgaHJlZj1cXFwiamF2YXNjcmlwdDp2b2lkKDApO1xcXCIgY2xhc3M9XFxcInRleHQtZGFuZ2VyXFxcIiBuZy1jbGljaz1cXFwidm0uZGVsSXRlbShncm91cCwgJGluZGV4KVxcXCI+5Yig6ZmkPC9hPlxcbiAgICAgICAgICAgIDwvZGl2PlxcbiAgICAgICAgICA8L2Rpdj5cXG4gICAgICAgICAgPGRpdiBjbGFzcz1cXFwiZm9ybS1ncm91cCBjbGVhcmZpeFxcXCI+XFxuICAgICAgICAgICAgICA8bGFiZWwgY2xhc3M9XFxcImNvbnRyb2wtbGFiZWwgcHVsbC1sZWZ0XFxcIj7liIbnu4TmnaHku7blhbPns7vorr7nva7vvJo8L2xhYmVsPlxcbiAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cXFwiY29sLXNtLTNcXFwiPlxcbiAgICAgICAgICAgICAgICA8c2VsZWN0IGNsYXNzPVxcXCJmb3JtLWNvbnRyb2wgYy1zZWxlY3RcXFwiIG5nLW1vZGVsPVxcXCJncm91cC5jb25kaXRpb25cXFwiIG5nLW9wdGlvbnM9XFxcImMudmFsdWUgYXMgYy5uYW1lIGZvciBjIGluIHZtLmdyb3VwQ29uZGl0aW9uXFxcIiB2YWxpZGF0b3I9XFxcInJlcXVpcmVkXFxcIj5cXG4gICAgICAgICAgICAgICAgPC9zZWxlY3Q+XFxuICAgICAgICAgICAgICA8L2Rpdj5cXG4gICAgICAgICAgPC9kaXY+XFxuICAgICAgICAgIDxkaXYgY2xhc3M9XFxcIm0tdC1tZCBtLWItbWQgbS1sLXhsIHRleHQtbGVmdFxcXCI+XFxuICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz1cXFwiYnRuIGJ0bi1zbSBidG4tZGVmYXVsdFxcXCIgbmctY2xpY2s9XFxcInZtLmFkZEl0ZW0oZ3JvdXApXFxcIj7nu4TlhoXmt7vliqA8L2J1dHRvbj5cXG4gICAgICAgICAgICA8YnV0dG9uIGNsYXNzPVxcXCJidG4gYnRuLXNtIGJ0bi1kYW5nZXJcXFwiIG5nLWNsaWNrPVxcXCJ2bS5kZWxHcm91cCgkaW5kZXgpXFxcIj7liKDpmaTnu4Q8L2J1dHRvbj5cXG4gICAgICAgICAgPC9kaXY+XFxuICAgICAgICA8L2Rpdj5cXG4gICAgICA8L2Rpdj5cXG4gICAgPC9kaXY+XFxuICAgIDxkaXYgY2xhc3M9XFxcIm0tbC14bCBtLXQtc20gdGV4dC1sZWZ0XFxcIj5cXG4gICAgICA8YnV0dG9uIGNsYXNzPVxcXCJidG4gYnRuLWRlZmF1bHRcXFwiIG5nLWNsaWNrPVxcXCJ2bS5hZGRHcm91cCgpO1xcXCI+5re75Yqg57uEPC9idXR0b24+XFxuICAgIDwvZGl2PlxcbiAgICBcXG4gIDwvZm9ybT5cXG4gIDxkaXYgY2xhc3M9XFxcIm1vZGFsLWZvb3RlclxcXCI+XFxuICAgIDxidXR0b24gdHlwZT1cXFwiYnV0dG9uXFxcIiBjbGFzcz1cXFwiYnRuIGJ0bi1zdWNjZXNzIGJ0bi1zbVxcXCIgbmctY2xpY2s9XFxcInZtLnN1Ym1pdCh2bS5Gb3JtKVxcXCI+IOS/neWtmDwvYnV0dG9uPlxcbiAgPC9kaXY+XFxuPC9zZWN0aW9uPlwiKTtcbiR0ZW1wbGF0ZUNhY2hlLnB1dChcIm1vZHVsZXMvaW5mb3JtYXRpb24vbGlzdC9pbmRleC5odG1sXCIsXCI8c2VjdGlvbiBjbGFzcz1cXFwiY29udGVudC1oZWFkZXJcXFwiPlxcbiAgPGRpdiBjbGFzcz1cXFwib3B0aW9uc1xcXCI+XFxuICAgIDxkaXYgY2xhc3M9XFxcIm9wdGlvbi1pdGVtIG9wdGlvbi10aW1lXFxcIj5cXG4gICAgICA8dWwgY2xhc3M9XFxcImNsZWFyZml4XFxcIj5cXG4gICAgICAgIDxsaT5cXG4gICAgICAgICAgPGRpdiBjbGFzcz1cXFwiaW5wdXQtZ3JvdXAgc2VhcmNoLWJveFxcXCI+XFxuICAgICAgICAgICAgPGlucHV0IG5nLW1vZGVsPVxcXCJ2bS5maWx0ZXJzLmtleXdvcmRcXFwiIHR5cGU9XFxcInRleHRcXFwiIHBsYWNlaG9sZGVyPVxcXCLor7fovpPmn6Xor6JcXFwiIGNsYXNzPVxcXCJmb3JtLWNvbnRyb2xcXFwiXFxuICAgICAgICAgICAgICAgICAgICBjb2RlPVxcXCIxM1xcXCIga2V5LWV2ZW50PVxcXCJ2bS5yZVNlYXJjaCgpO1xcXCI+XFxuICAgICAgICAgICAgPHNwYW4gY2xhc3M9XFxcImlucHV0LWdyb3VwLWJ0blxcXCI+XFxuICAgICAgICAgICAgICA8YnV0dG9uIG5nLWNsaWNrPVxcXCJ2bS5yZVNlYXJjaCgpXFxcIiBjbGFzcz1cXFwiYnRuIGJ0bi1kZWZhdWx0IHNlYXJjaFxcXCIgdHlwZT1cXFwiYnV0dG9uXFxcIj48aSBjbGFzcz1cXFwiaWNvbi1zZWFyY2hcXFwiPjwvaT48L2J1dHRvbj5cXG4gICAgICAgICAgICA8L3NwYW4+XFxuICAgICAgICAgIDwvZGl2PlxcbiAgICAgICAgPC9saT5cXG4gICAgICA8L3VsPlxcbiAgICA8L2Rpdj5cXG4gICAgPCEtLSA8ZGl2IGNsYXNzPVxcXCJvcHRpb24taXRlbSBsYXJnZVxcXCI+XFxuICAgICAgPHNwYW4gY2xhc3M9XFxcIml0ZW0tdGl0bGUgdGV4dC1yaWdodFxcXCI+5oCn5Yir77yaPC9zcGFuPlxcbiAgICAgIDx1bCBjbGFzcz1cXFwiY2xlYXJmaXhcXFwiPlxcbiAgICAgICAgICAgIDxsaT5cXG4gICAgICAgICAgICAgICAgPGEgaHJlZj1cXFwiamF2YXNjcmlwdDo7XFxcIiBjbGFzcz1cXFwiYnRuXFxcIiBuZy1jbGFzcz1cXFwie1xcJ2J0bi1kZWZhdWx0XFwnOiB2bS5maWx0ZXJzLmdlbmRlciwgXFwnYnRuLXRvZ2dsZVxcJzogIXZtLmZpbHRlcnMuZ2VuZGVyLCBcXCdhY3RpdmVcXCc6ICF2bS5maWx0ZXJzLmdlbmRlcn1cXFwiIG5nLWNsaWNrPVxcXCJ2bS5zd2l0Y2goXFwnZ2VuZGVyXFwnKVxcXCI+XFxuICAgICAgICAgICAgICAgICAgICDlhajpg6hcXG4gICAgICAgICAgICAgICAgPC9hPlxcbiAgICAgICAgICAgIDwvbGk+XFxuICAgICAgICAgICAgPGxpIG5nLXJlcGVhdD1cXFwiaXRlbSBpbiB2bS5nZW5kZXJMaXN0XFxcIj5cXG4gICAgICAgICAgICAgICAgPGEgaHJlZj1cXFwiamF2YXNjcmlwdDo7XFxcIiBjbGFzcz1cXFwiYnRuXFxcIiBuZy1jbGFzcz1cXFwie1xcJ2J0bi1kZWZhdWx0XFwnOiB2bS5maWx0ZXJzLmdlbmRlciAhPT0gaXRlbS52YWx1ZSwgXFwnYnRuLXRvZ2dsZVxcJzogdm0uZmlsdGVycy5nZW5kZXIgPT0gaXRlbS52YWx1ZSwgXFwnYWN0aXZlXFwnOiB2bS5maWx0ZXJzLmdlbmRlciA9PSBpdGVtLnZhbHVlfVxcXCIgbmctY2xpY2s9XFxcInZtLnN3aXRjaChcXCdnZW5kZXJcXCcsIGl0ZW0udmFsdWUpXFxcIj5cXG4gICAgICAgICAgICAgICAgICAgIHt7IGl0ZW0ubmFtZSB9fVxcbiAgICAgICAgICAgICAgICA8L2E+XFxuICAgICAgICAgICAgPC9saT5cXG4gICAgICAgIDwvdWw+XFxuICAgIDwvZGl2PiAtLT5cXG48L3NlY3Rpb24+XFxuXFxuPHNlY3Rpb24gY2xhc3M9XFxcImNvbnRlbnQgYm9keS1jb250ZW50IGJvZHktY29udGVudC1jb21wYWN0IGJsb2NrLXVpIGJsb2NrLXVpLW1lc3NhZ2UtY3VzdG9tXFxcIiBibG9jay11aT1cXFwibWFpblxcXCI+XFxuICA8ZW1wdHktdGlwIG5nLWlmPVxcXCJ2bS5saXN0Lmxlbmd0aCA9PT0gMFxcXCI+PC9lbXB0eS10aXA+XFxuXFxuICA8ZGl2IGNsYXNzPVxcXCJwYW5lbFxcXCI+XFxuICAgIDx0YWJsZSBjbGFzcz1cXFwidGFibGUgdGFibGUtc3RyaXBlZCB0ZXh0LWNlbnRlclxcXCI+XFxuICAgICAgPHRyPlxcbiAgICAgICAgPHRoIGNsYXNzPVxcXCJjb2wtbS0xIHRleHQtY2VudGVyXFxcIj7kvIHkuJrlkI3np7A8L3RoPlxcbiAgICAgICAgPHRoIGNsYXNzPVxcXCJjb2wtbS0xIHRleHQtY2VudGVyXFxcIj7kvIHkuJrlnLDlnYA8L3RoPlxcbiAgICAgICAgPHRoIGNsYXNzPVxcXCJjb2wtbS0xIHRleHQtY2VudGVyXFxcIj7mlK/ooYw8L3RoPlxcbiAgICAgICAgPHRoIGNsYXNzPVxcXCJjb2wtbS0xIHRleHQtY2VudGVyXFxcIj7kuLvnkIY8L3RoPlxcbiAgICAgICAgPHRoIGNsYXNzPVxcXCJjb2wtbS0yIHRleHQtY2VudGVyXFxcIj7ljY/nkIY8L3RoPlxcbiAgICAgICAgPHRoIGNsYXNzPVxcXCJjb2wtbS0xIHRleHQtY2VudGVyXFxcIj7mk43kvZw8L3RoPlxcbiAgICAgIDwvdHI+XFxuICAgICAgPHRyIG5nLXJlcGVhdD1cXFwiaXRlbSBpbiB2bS5saXN0XFxcIj5cXG4gICAgICAgIDx0ZD57e2l0ZW0uY29tcGFueX19PC90ZD5cXG4gICAgICAgIDx0ZD57e2l0ZW0uY29tcGFueV9hZGRyZXNzfX08L3RkPlxcbiAgICAgICAgPHRkPnt7aXRlbS5jb21wYW55X2FkZHJlc3N9fTwvdGQ+XFxuICAgICAgICA8dGQ+e3tpdGVtLm1hbmFnZV9hLm5hbWV9fTwhLS0gPGJ1dHRvbiBjbGFzcz1cXFwiYnRuIGJ0bi1pbmZvIG0tbC1zbVxcXCIgbmctY2xpY2s9XFxcInZtLmNoYW5nZU1hbmFnZShcXCdtYW5hZ2VfYVxcJywgaXRlbSlcXFwiPnt7aXRlbS5tYW5hZ2VfYSAmJiBpdGVtLm1hbmFnZV9hLnVzZXJpZD8gXFwn5Y+Y5pu0XFwnOiBcXCfliIbphY1cXCd9fTwvYnV0dG9uPiAtLT48L3RkPlxcbiAgICAgICAgPHRkPnt7aXRlbS5tYW5hZ2VfYi5uYW1lfX08IS0tIDxidXR0b24gY2xhc3M9XFxcImJ0biBidG4taW5mbyBtLWwtc21cXFwiIG5nLWNsaWNrPVxcXCJ2bS5jaGFuZ2VNYW5hZ2UoXFwnbWFuYWdlX2JcXCcsIGl0ZW0pXFxcIj57e2l0ZW0ubWFuYWdlX2IgJiYgaXRlbS5tYW5hZ2VfYi51c2VyaWQ/IFxcJ+WPmOabtFxcJzogXFwn5YiG6YWNXFwnfX08L2J1dHRvbj4gLS0+PC90ZD5cXG4gICAgICAgIDx0ZD5cXG4gICAgICAgICAgPGEgaHJlZj1cXFwiamF2YXNjcmlwdDp2b2lkKDApXFxcIiBuZy1jbGljaz1cXFwidm0uYXNzaWduQnJhbmNoKGl0ZW0pXFxcIj7liIbphY3mlK/ooYw8L2E+XFxuICAgICAgICAgIDxhIGhyZWY9XFxcImphdmFzY3JpcHQ6dm9pZCgwKVxcXCIgbmctY2xpY2s9XFxcInZtLmFzc2lnbihpdGVtKVxcXCI+5YiG6YWNPC9hPlxcbiAgICAgICAgPC90ZD5cXG4gICAgICA8L3RyPlxcbiAgICA8L3RhYmxlPlxcbiAgPC9kaXY+XFxuXFxuICA8bWMtcGFnaW5hdGlvbiB0b3RhbC1pdGVtcz1cXFwidm0ucGFnaW5hdGlvbi5jb3VudFxcXCIgaXRlbXMtcGVyLXBhZ2U9XFxcInZtLnBhZ2luYXRpb24ucGFnZVNpemVcXFwiIGN1cnJlbnQtcGFnZT1cXFwidm0ucGFnaW5hdGlvbi5wYWdlXFxcIiBwYWdlLWNoYW5nZT1cXFwidm0ucGFnZUNoYW5nZWQoKVxcXCI+PC9tYy1wYWdpbmF0aW9uPlxcblxcbjwvc2VjdGlvbj5cXG5cIik7XG4kdGVtcGxhdGVDYWNoZS5wdXQoXCJtb2R1bGVzL2luZm9ybWF0aW9uL3NldHRpbmcvaW5kZXguaHRtbFwiLFwiPHNlY3Rpb24gY2xhc3M9XFxcImNvbnRlbnQtaGVhZGVyXFxcIj5cXG4gIDxoNCBjbGFzcz1cXFwidGl0bGVcXFwiPumHh+mbhuS/oeaBr+iuvue9rjwvaDQ+XFxuPC9zZWN0aW9uPlxcblxcbjxzZWN0aW9uIGNsYXNzPVxcXCJjb250ZW50IGJvZHktY29udGVudCBibG9jay11aSBibG9jay11aS1tZXNzYWdlLWN1c3RvbVxcXCIgYmxvY2stdWk9XFxcIm1haW5cXFwiPlxcbiAgPGZvcm0gbmFtZT1cXFwiRm9ybVxcXCIgY2xhc3M9XFxcImZvcm0taG9yaXpvbnRhbFxcXCI+XFxuXFxuICAgIDxkaXYgY2xhc3M9XFxcImZvcm0tZ3JvdXBcXFwiIG5nLXJlcGVhdD1cXFwicHJvamVjdCBpbiB2bS5jb2xsZWN0TGlzdFxcXCI+XFxuICAgICAgPGRpdiBjbGFzcz1cXFwiY29sLXNtLTFcXFwiPlxcbiAgICAgICAgPGxhYmVsIGNsYXNzPVxcXCJjb250cm9sLWxhYmVsXFxcIj7ph4fpm4bpobnnm648L2xhYmVsPlxcbiAgICAgICAgPHA+XFxuICAgICAgICAgIDxsYWJlbCBjbGFzcz1cXFwibWMtcmFkaW9cXFwiPlxcbiAgICAgICAgICAgIDxpbnB1dCB0eXBlPVxcXCJjaGVja2JveFxcXCIgbmFtZT1cXFwiY2hlY2tib3gxXFxcIiBuZy1tb2RlbD1cXFwicHJvamVjdC5pc1JlcXVpcmVkXFxcIj5cXG4gICAgICAgICAgICA8aSBjbGFzcz1cXFwiaWNvbi1jaGVja1xcXCI+PC9pPlxcbiAgICAgICAgICAgIOW/heWhq1xcbiAgICAgICAgICA8L2xhYmVsPlxcbiAgICAgICAgPC9wPlxcbiAgICAgIDwvZGl2PlxcbiAgICAgIDxkaXYgY2xhc3M9XFxcImNvbC1zbS0yXFxcIj5cXG4gICAgICAgIDxpbnB1dCB0eXBlPVxcXCJ0ZXh0XFxcIiBjbGFzcz1cXFwiZm9ybS1jb250cm9sXFxcIiBuZy1tb2RlbD1cXFwicHJvamVjdC5uYW1lXFxcIiB2YWxpZGF0b3I9XFxcInJlcXVpcmVkXFxcIj5cXG4gICAgICA8L2Rpdj5cXG4gICAgICA8ZGl2IGNsYXNzPVxcXCJjb2wtc20tNlxcXCI+XFxuICAgICAgICA8ZGl2IGNsYXNzPVxcXCJjbGVhcmZpeFxcXCI+XFxuICAgICAgICAgIDxsYWJlbCBjbGFzcz1cXFwiY29sLXNtLTIgY29udHJvbC1sYWJlbFxcXCI+6YeH6ZuG5YaF5a65PC9sYWJlbD5cXG4gICAgICAgIDwvZGl2PlxcbiAgICAgICAgPGRpdiBjbGFzcz1cXFwiZm9ybS1ncm91cFxcXCIgbmctcmVwZWF0PVxcXCJpdGVtIGluIHByb2plY3QuY29udGVudFxcXCI+XFxuICAgICAgICAgIDxkaXYgY2xhc3M9XFxcImNsZWFyZml4IG0tYi1zbVxcXCI+XFxuICAgICAgICAgICAgPGxhYmVsIGNsYXNzPVxcXCJjb2wtc20tMSBjb250cm9sLWxhYmVsXFxcIj7lkI3np7A8L2xhYmVsPlxcbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XFxcImNvbC1zbS00XFxcIj5cXG4gICAgICAgICAgICAgIDxpbnB1dCB0eXBlPVxcXCJ0ZXh0XFxcIiBjbGFzcz1cXFwiZm9ybS1jb250cm9sXFxcIiBuZy1tb2RlbD1cXFwiaXRlbS50aXRsZVxcXCIgdmFsaWRhdG9yPVxcXCJyZXF1aXJlZFxcXCI+XFxuICAgICAgICAgICAgPC9kaXY+XFxuICAgICAgICAgICAgPGxhYmVsIGNsYXNzPVxcXCJjb2wtc20tMSBjb250cm9sLWxhYmVsXFxcIj7nsbvlnos8L2xhYmVsPlxcbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XFxcImNvbC1zbS00XFxcIj5cXG4gICAgICAgICAgICAgIDxzZWxlY3QgY2xhc3M9XFxcImZvcm0tY29udHJvbCBjLXNlbGVjdFxcXCIgbmctbW9kZWw9XFxcIml0ZW0udHlwZVxcXCIgXFxuICAgICAgICAgICAgICAgIG5nLW9wdGlvbnM9XFxcInR5cGUudHlwZSBhcyB0eXBlLnRpdGxlIGZvciB0eXBlIGluIHZtLnR5cGVMaXN0XFxcIiB2YWxpZGF0b3I9XFxcInJlcXVpcmVkXFxcIiBcXG4gICAgICAgICAgICAgICAgbmctY2hhbmdlPVxcXCJ2bS50eXBlQ2hhbmdlKGl0ZW0pXFxcIlxcbiAgICAgICAgICAgICAgICB1aWItdG9vbHRpcD1cXFwi6K+35Zyo5LiL5pa55aGr5YaZ6YCJ6aG55YaF5a65XFxcIiB0b29sdGlwLXBsYWNlbWVudD1cXFwidG9wXFxcIiB0b29sdGlwLXRyaWdnZXI9XFxcIm5vbmVcXFwiIFxcbiAgICAgICAgICAgICAgICB0b29sdGlwLWVuYWJsZT1cXFwiaXRlbS5uZWVkRGF0YVxcXCIgdG9vbHRpcC1pcy1vcGVuPVxcXCJpdGVtLm5lZWREYXRhXFxcIj5cXG4gICAgICAgICAgICAgIDwvc2VsZWN0PlxcbiAgICAgICAgICAgIDwvZGl2PlxcbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XFxcImNvbC1zbS0yIGNvbnRyb2wtbGFiZWwgdGV4dC1jZW50ZXIgcHVsbC1yaWdodFxcXCI+XFxuICAgICAgICAgICAgICA8YSBocmVmPVxcXCJqYXZhc2NyaXB0OnZvaWQoMCk7XFxcIiBjbGFzcz1cXFwidGV4dC1kYW5nZXJcXFwiIG5nLWNsaWNrPVxcXCJ2bS5kZWxldGVJdGVtKHByb2plY3QsICRpbmRleClcXFwiPuWIoOmZpDwvYT5cXG4gICAgICAgICAgICA8L2Rpdj5cXG4gICAgICAgICAgPC9kaXY+XFxuICAgICAgICAgIDxkaXYgY2xhc3M9XFxcImNsZWFyZml4IG0tYi1zbVxcXCI+XFxuICAgICAgICAgICAgPGxhYmVsIGNsYXNzPVxcXCJjb2wtc20tMSBjb250cm9sLWxhYmVsXFxcIj7mj4/ov7A8L2xhYmVsPlxcbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XFxcImNvbC1zbS00XFxcIj5cXG4gICAgICAgICAgICAgIDxpbnB1dCB0eXBlPVxcXCJ0ZXh0XFxcIiBjbGFzcz1cXFwiZm9ybS1jb250cm9sXFxcIiBuZy1tb2RlbD1cXFwiaXRlbS5kZXNjcmlwdGlvblxcXCI+XFxuICAgICAgICAgICAgPC9kaXY+XFxuICAgICAgICAgICAgPGxhYmVsIGNsYXNzPVxcXCJtYy1yYWRpbyBjb2wtc20tNVxcXCI+XFxuICAgICAgICAgICAgICA8aW5wdXQgdHlwZT1cXFwiY2hlY2tib3hcXFwiIG5hbWU9XFxcImNoZWNrYm94MVxcXCIgbmctbW9kZWw9XFxcIml0ZW0uaXNSZXF1aXJlZFxcXCI+XFxuICAgICAgICAgICAgICA8aSBjbGFzcz1cXFwiaWNvbi1jaGVja1xcXCI+PC9pPlxcbiAgICAgICAgICAgICAg5b+F5aGrXFxuICAgICAgICAgICAgPC9sYWJlbD5cXG4gICAgICAgICAgPC9kaXY+XFxuICAgICAgICAgIDxkaXYgY2xhc3M9XFxcImNsZWFyZml4XFxcIiBuZy1pZj1cXFwiaXRlbS5uZWVkRGF0YVxcXCI+XFxuICAgICAgICAgICAgPHAgY2xhc3M9XFxcInRleHQtdGlwc1xcXCI+5LiL5ouJ5qGGL+WkmumAieahhuW/hemhu+Whq+WGmemAiemhueWGheWuuTwvcD5cXG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVxcXCJjbGVhcmZpeCBtLWItc21cXFwiIG5nLXJlcGVhdD1cXFwidGVybSBpbiBpdGVtLmRhdGFTb3VyY2UgdHJhY2sgYnkgJGluZGV4XFxcIj5cXG4gICAgICAgICAgICAgIDxsYWJlbCBjbGFzcz1cXFwiY29sLXNtLTMgY29udHJvbC1sYWJlbFxcXCI+6YCJ6aG5e3skaW5kZXggKyAxfX08L2xhYmVsPlxcbiAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cXFwiY29sLXNtLTZcXFwiPlxcbiAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT1cXFwidGV4dFxcXCIgY2xhc3M9XFxcImZvcm0tY29udHJvbFxcXCIgbmctbW9kZWw9XFxcInRlcm0ubmFtZVxcXCIgdmFsaWRhdG9yPVxcXCJyZXF1aXJlZFxcXCI+XFxuICAgICAgICAgICAgICA8L2Rpdj5cXG4gICAgICAgICAgICAgIDxkaXYgY2xhc3M9XFxcImNvbC1zbS0yIHRleHQtY2VudGVyXFxcIj5cXG4gICAgICAgICAgICAgICAgPGEgaHJlZj1cXFwiamF2YXNjcmlwdDp2b2lkKDApO1xcXCIgY2xhc3M9XFxcImJ0biBidG4tbGlua1xcXCIgbmctaWY9XFxcIiRpbmRleCA9PSAwXFxcIiBuZy1jbGljaz1cXFwidm0uYWRkRGF0YShpdGVtKVxcXCI+5re75YqgPC9hPlxcbiAgICAgICAgICAgICAgICA8YSBocmVmPVxcXCJqYXZhc2NyaXB0OnZvaWQoMCk7XFxcIiBjbGFzcz1cXFwiYnRuIGJ0bi1saW5rIHRleHQtZGFuZ2VyXFxcIiBuZy1pZj1cXFwiJGluZGV4ID4gMFxcXCIgbmctY2xpY2s9XFxcInZtLmRlbGV0ZURhdGEoaXRlbSwgJGluZGV4KVxcXCI+5Yig6ZmkPC9hPlxcbiAgICAgICAgICAgICAgPC9kaXY+XFxuICAgICAgICAgICAgPC9kaXY+XFxuICAgICAgICAgICAgPCEtLSA8bGFiZWwgY2xhc3M9XFxcImNvbC1zbS0zIGNvbnRyb2wtbGFiZWwgXFxcIj7pgInpobkxPC9sYWJlbD5cXG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVxcXCJjb2wtc20tNiBtLWItc21cXFwiPlxcbiAgICAgICAgICAgICAgPGlucHV0IHR5cGU9XFxcInRleHRcXFwiIGNsYXNzPVxcXCJmb3JtLWNvbnRyb2xcXFwiIG5nLW1vZGVsPVxcXCJ2bS5pbnB1dEluZm8ubmFtZVxcXCIgdmFsaWRhdG9yPVxcXCJyZXF1aXJlZFxcXCI+XFxuICAgICAgICAgICAgPC9kaXY+XFxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cXFwiY29sLXNtLTIgdGV4dC1jZW50ZXIgbS1iLXNtXFxcIj5cXG4gICAgICAgICAgICAgIDxhIGhyZWY9XFxcImphdmFzY3JpcHQ6dm9pZCgwKTtcXFwiIGNsYXNzPVxcXCJidG4gYnRuLWxpbmsgdGV4dC1kYW5nZXJcXFwiPuWIoOmZpDwvYT5cXG4gICAgICAgICAgICA8L2Rpdj5cXG4gICAgICAgICAgICA8bGFiZWwgY2xhc3M9XFxcImNvbC1zbS0zIGNvbnRyb2wtbGFiZWwgbS1iLXNtXFxcIj7pgInpobkxPC9sYWJlbD5cXG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVxcXCJjb2wtc20tNiBtLWItc21cXFwiPlxcbiAgICAgICAgICAgICAgPGlucHV0IHR5cGU9XFxcInRleHRcXFwiIGNsYXNzPVxcXCJmb3JtLWNvbnRyb2xcXFwiIG5nLW1vZGVsPVxcXCJ2bS5pbnB1dEluZm8ubmFtZVxcXCIgdmFsaWRhdG9yPVxcXCJyZXF1aXJlZFxcXCI+XFxuICAgICAgICAgICAgPC9kaXY+XFxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cXFwiY29sLXNtLTIgdGV4dC1jZW50ZXIgbS1iLXNtXFxcIj5cXG4gICAgICAgICAgICAgIDxhIGhyZWY9XFxcImphdmFzY3JpcHQ6dm9pZCgwKTtcXFwiIGNsYXNzPVxcXCJidG4gYnRuLWxpbmsgdGV4dC1kYW5nZXJcXFwiPuWIoOmZpDwvYT5cXG4gICAgICAgICAgICA8L2Rpdj4gLS0+XFxuICAgICAgICAgIDwvZGl2PlxcbiAgICAgICAgPC9kaXY+XFxuXFxuICAgICAgICA8ZGl2IGNsYXNzPVxcXCJtLWwteGwgbS10LXhzXFxcIj5cXG4gICAgICAgICAgPGEgaHJlZj1cXFwiamF2YXNjcmlwdDp2b2lkKDApO1xcXCIgY2xhc3M9XFxcImJ0biBidG4tc20gYnRuLWRlZmF1bHRcXFwiIG5nLWNsaWNrPVxcXCJ2bS5hZGRJdGVtKHByb2plY3QpXFxcIj7mt7vliqDlrZfmrrU8L2E+XFxuICAgICAgICA8L2Rpdj5cXG4gICAgICA8L2Rpdj5cXG4gICAgICA8ZGl2IGNsYXNzPVxcXCJjb2wtc20tMVxcXCI+XFxuICAgICAgICA8YnV0dG9uIGNsYXNzPVxcXCJidG4gYnRuLWRhbmdlclxcXCIgbmctY2xpY2s9XFxcInZtLmRlbGV0ZVByb2plY3QoJGluZGV4KVxcXCI+5Yig6Zmk6aG555uuPC9idXR0b24+XFxuICAgICAgPC9kaXY+XFxuICAgIDwvZGl2PlxcbiAgPC9mb3JtPlxcbiAgPGRpdiBjbGFzcz1cXFwibS1sLXhsIG0tYi1tZFxcXCI+XFxuICAgIDxidXR0b24gY2xhc3M9XFxcImJ0biBidG4tZGVmYXVsdFxcXCIgbmctY2xpY2s9XFxcInZtLmFkZFByb2plY3QoKVxcXCI+5re75Yqg6aG555uuPC9idXR0b24+XFxuICA8L2Rpdj5cXG4gIDxkaXYgY2xhc3M9XFxcIm0tbC14bCBtLWItbWQgdGV4dC1jZW50ZXJcXFwiPlxcbiAgICA8YnV0dG9uIHR5cGU9XFxcImJ1dHRvblxcXCIgY2xhc3M9XFxcImJ0biBidG4tc3VjY2VzcyBidG4tc21cXFwiIG5nLWNsaWNrPVxcXCJ2bS5zdWJtaXQoRm9ybSlcXFwiPuS/neWtmDwvYnV0dG9uPlxcbiAgPC9kaXY+XFxuPC9zZWN0aW9uPlxcblwiKTtcbiR0ZW1wbGF0ZUNhY2hlLnB1dChcIm1vZHVsZXMvaW52ZXN0bWVudC9saXN0L2luZGV4Lmh0bWxcIixcIjxzZWN0aW9uIGNsYXNzPVxcXCJjb250ZW50LWhlYWRlclxcXCI+XFxuICAgIDxidXR0b24gdHlwZT1cXFwiYnV0dG9uXFxcIiBjbGFzcz1cXFwiYnRuIGJ0bi1zdWNjZXNzIHB1bGwtcmlnaHQgbS1sLXNtXFxcIiBzdHlsZT1cXFwicG9zaXRpb246IHJlbGF0aXZlOyB6LWluZGV4OiAyO1xcXCJcXG4gICAgICAgICAgICBuZy1jbGljaz1cXFwidm0uYWRkQ29tcGFueSgpXFxcIj48aSBjbGFzcz1cXFwiaWNvbi1QbHVzXFxcIj48L2k+IOa3u+WKoFxcbiAgICA8L2J1dHRvbj5cXG5cXG4gICAgPGJ1dHRvbiB0eXBlPVxcXCJidXR0b25cXFwiIGNsYXNzPVxcXCJidG4gYnRuLWluZm8gcHVsbC1yaWdodFxcXCIgc3R5bGU9XFxcInBvc2l0aW9uOiByZWxhdGl2ZTsgei1pbmRleDogMjtcXFwiIGRhdGEtdG9nZ2xlPVxcXCJtb2RhbFxcXCIgZGF0YS10YXJnZXQ9XFxcIi5wb3AtcGxheWVyXFxcIlxcbiAgICAgICAgICAgIG5nLWNsaWNrPVxcXCIkZW1pdChcXCdiYXRjaFVwbG9hZFZjXFwnKTtcXFwiPjxpIGNsYXNzPVxcXCJpY29uLVBsdXNcXFwiPjwvaT4g5om56YeP5b2V5YWlXFxuICAgIDwvYnV0dG9uPlxcbiAgICA8ZGl2PlxcbiAgICAgIDxtYy1iYXRjaC11cGxvYWQtdmM+PC9tYy1iYXRjaC11cGxvYWQtdmM+XFxuICAgIDwvZGl2PlxcblxcbiAgPGRpdiBjbGFzcz1cXFwib3B0aW9uc1xcXCI+XFxuICAgIDxkaXYgY2xhc3M9XFxcIm9wdGlvbi1pdGVtIG9wdGlvbi10aW1lXFxcIj5cXG4gICAgICA8dWwgY2xhc3M9XFxcImNsZWFyZml4XFxcIj5cXG4gICAgICAgIDxsaT5cXG4gICAgICAgICAgPGRpdiBjbGFzcz1cXFwiaW5wdXQtZ3JvdXAgc2VhcmNoLWJveFxcXCI+XFxuICAgICAgICAgICAgPGlucHV0IG5nLW1vZGVsPVxcXCJ2bS5maWx0ZXJzLm5hbWVcXFwiIHR5cGU9XFxcInRleHRcXFwiIHBsYWNlaG9sZGVyPVxcXCLor7fovpPmn6Xor6JcXFwiIGNsYXNzPVxcXCJmb3JtLWNvbnRyb2xcXFwiXFxuICAgICAgICAgICAgICAgICAgICBjb2RlPVxcXCIxM1xcXCIga2V5LWV2ZW50PVxcXCJ2bS5yZVNlYXJjaCgpO1xcXCI+XFxuICAgICAgICAgICAgPHNwYW4gY2xhc3M9XFxcImlucHV0LWdyb3VwLWJ0blxcXCI+XFxuICAgICAgICAgICAgICA8YnV0dG9uIG5nLWNsaWNrPVxcXCJ2bS5yZVNlYXJjaCgpXFxcIiBjbGFzcz1cXFwiYnRuIGJ0bi1kZWZhdWx0IHNlYXJjaFxcXCIgdHlwZT1cXFwiYnV0dG9uXFxcIj48aSBjbGFzcz1cXFwiaWNvbi1zZWFyY2hcXFwiPjwvaT48L2J1dHRvbj5cXG4gICAgICAgICAgICA8L3NwYW4+XFxuICAgICAgICAgIDwvZGl2PlxcbiAgICAgICAgPC9saT5cXG4gICAgICA8L3VsPlxcbiAgICA8L2Rpdj5cXG4gICAgPCEtLSA8ZGl2IGNsYXNzPVxcXCJvcHRpb24taXRlbSBsYXJnZVxcXCI+XFxuICAgICAgPHNwYW4gY2xhc3M9XFxcIml0ZW0tdGl0bGUgdGV4dC1yaWdodFxcXCI+5omA5bGe5py65p6E77yaPC9zcGFuPlxcbiAgICAgIDx1bCBjbGFzcz1cXFwiY2xlYXJmaXhcXFwiPlxcbiAgICAgICAgICAgIDxsaT5cXG4gICAgICAgICAgICAgICAgPHNlbGVjdCBuYW1lPVxcXCJcXFwiIGlkPVxcXCJcXFwiIGNsYXNzPVxcXCJmb3JtLWNvbnRyb2wgYy1zZWxlY3RcXFwiIFxcbiAgICAgICAgICAgICAgICAgIG5nLW1vZGVsPVxcXCJ2bS5maWx0ZXJzLmFnZW5jeVxcXCIgbmctb3B0aW9ucz1cXFwiaXRlbSBmb3IgaXRlbSBpbiB2bS5hZ2VuY3lMaXN0XFxcIiBuZy1jaGFuZ2U9XFxcInZtLmNoYW5nZUFnZW5jeSgpXFxcIj5cXG4gICAgICAgICAgICAgICAgICA8b3B0aW9uIHZhbHVlPVxcXCJcXFwiPuWFqOmDqDwvb3B0aW9uPlxcbiAgICAgICAgICAgICAgICA8L3NlbGVjdD5cXG4gICAgICAgICAgICA8L2xpPlxcbiAgICAgICAgPC91bD5cXG4gICAgPC9kaXY+IC0tPlxcbjwvc2VjdGlvbj5cXG5cXG48c2VjdGlvbiBjbGFzcz1cXFwiY29udGVudCBib2R5LWNvbnRlbnQgYm9keS1jb250ZW50LWNvbXBhY3QgYmxvY2stdWkgYmxvY2stdWktbWVzc2FnZS1jdXN0b21cXFwiIGJsb2NrLXVpPVxcXCJtYWluXFxcIj5cXG4gIDxlbXB0eS10aXAgbmctaWY9XFxcInZtLmxpc3QubGVuZ3RoID09PSAwXFxcIj48L2VtcHR5LXRpcD5cXG5cXG4gIDxkaXYgY2xhc3M9XFxcInBhbmVsXFxcIiBuZy1pZj1cXFwidm0ubGlzdC5sZW5ndGggPiAwXFxcIj5cXG4gICAgPHRhYmxlIGNsYXNzPVxcXCJ0YWJsZSB0YWJsZS1zdHJpcGVkIHRleHQtY2VudGVyXFxcIj5cXG4gICAgICA8dHI+XFxuICAgICAgICA8dGggY2xhc3M9XFxcImNvbC1tLTUgdGV4dC1jZW50ZXJcXFwiPuWFrOWPuOWQjeensDwvdGg+XFxuICAgICAgICA8dGggY2xhc3M9XFxcImNvbC1tLTUgdGV4dC1jZW50ZXJcXFwiPuWFrOWPuOeugOensDwvdGg+XFxuICAgICAgICA8dGggY2xhc3M9XFxcImNvbC1tLTEgdGV4dC1jZW50ZXJcXFwiPueKtuaAgTwvdGg+XFxuICAgICAgICA8IS0tIDx0aCBjbGFzcz1cXFwiY29sLW0tMiB0ZXh0LWNlbnRlclxcXCI+5aSH5rOoPC90aD4gLS0+XFxuICAgICAgICA8dGggY2xhc3M9XFxcImNvbC1tLTIgdGV4dC1jZW50ZXJcXFwiPuaTjeS9nDwvdGg+XFxuICAgICAgPC90cj5cXG4gICAgICA8dHIgbmctcmVwZWF0PVxcXCJpdGVtIGluIHZtLmxpc3RcXFwiPlxcbiAgICAgICAgPHRkPnt7aXRlbS5uYW1lfX08L3RkPlxcbiAgICAgICAgPHRkPnt7aXRlbS52Y19uYW1lfX08L3RkPlxcbiAgICAgICAgPCEtLSA8dGQ+e3tpdGVtLmFnZW5jeX19PC90ZD4gLS0+XFxuICAgICAgICA8dGQ+XFxuICAgICAgICAgIDxzcGFuIGNsYXNzPVxcXCJ0ZXh0LXN1Y2Nlc3NcXFwiIG5nLWlmPVxcXCJpdGVtLnN0YXRlPT0xXFxcIj7mraPluLg8L3NwYW4+XFxuICAgICAgICAgIDxzcGFuIGNsYXNzPVxcXCJ0ZXh0LWRhbmdlclxcXCIgbmctaWY9XFxcIml0ZW0uc3RhdGU9PTNcXFwiPuW3suWIoOmZpDwvc3Bhbj5cXG4gICAgICAgIDwvdGQ+XFxuICAgICAgICA8dGQ+XFxuICAgICAgICAgIDxhIGhyZWY9XFxcImphdmFzY3JpcHQ6dm9pZCgwKVxcXCIgY2xhc3M9XFxcInRleHQtZGFuZ2VyXFxcIiBuZy1jbGljaz1cXFwidm0uZGVsZXRlKGl0ZW0pXFxcIiBuZy1pZj1cXFwiaXRlbS5zdGF0ZT09MVxcXCI+5Yig6ZmkPC9hPlxcbiAgICAgICAgICA8YSBocmVmPVxcXCJqYXZhc2NyaXB0OnZvaWQoMClcXFwiIG5nLWNsaWNrPVxcXCJ2bS5kZWxldGVDYW5jZWwoaXRlbSlcXFwiIG5nLWlmPVxcXCJpdGVtLnN0YXRlPT0zXFxcIj7lj5bmtojliKDpmaQ8L2E+XFxuICAgICAgICA8L3RkPlxcbiAgICAgIDwvdHI+XFxuICAgIDwvdGFibGU+XFxuICA8L2Rpdj5cXG5cXG4gIDxtYy1wYWdpbmF0aW9uIHRvdGFsLWl0ZW1zPVxcXCJ2bS5wYWdpbmF0aW9uLmNvdW50XFxcIiBpdGVtcy1wZXItcGFnZT1cXFwidm0ucGFnaW5hdGlvbi5wYWdlU2l6ZVxcXCIgY3VycmVudC1wYWdlPVxcXCJ2bS5wYWdpbmF0aW9uLnBhZ2VcXFwiIHBhZ2UtY2hhbmdlPVxcXCJ2bS5wYWdlQ2hhbmdlZCgpXFxcIj48L21jLXBhZ2luYXRpb24+XFxuXFxuPC9zZWN0aW9uPlxcblxcblwiKTtcbiR0ZW1wbGF0ZUNhY2hlLnB1dChcIm1vZHVsZXMvbG9hbi9kZWNpc2lvbi9pbmRleC5odG1sXCIsXCI8c2VjdGlvbiBjbGFzcz1cXFwiY29udGVudC1oZWFkZXJcXFwiPlxcbiAgPGg0IGNsYXNzPVxcXCJ0aXRsZVxcXCI+6LS35qy+6L6F5Yqp5Yaz562W5L+h5oGv5L+u5q2jPC9oND5cXG48L3NlY3Rpb24+XFxuXFxuPHNlY3Rpb24gY2xhc3M9XFxcImNvbnRlbnQgYm9keS1jb250ZW50IGJsb2NrLXVpIGJsb2NrLXVpLW1lc3NhZ2UtY3VzdG9tXFxcIiBibG9jay11aT1cXFwibWFpblxcXCI+XFxuICA8Zm9ybSBuYW1lPVxcXCJGb3JtXFxcIiBjbGFzcz1cXFwiZm9ybS1ob3Jpem9udGFsXFxcIj5cXG5cXG4gICAgPGRpdiBjbGFzcz1cXFwiZm9ybS1ncm91cFxcXCIgbmctcmVwZWF0PVxcXCJwcm9qZWN0IGluIHZtLmxvYW5MaXN0XFxcIj5cXG4gICAgICA8ZGl2IGNsYXNzPVxcXCJjb2wtc20tMlxcXCIgc3R5bGU9XFxcIndpZHRoOjEwJVxcXCI+XFxuICAgICAgICA8bGFiZWwgY2xhc3M9XFxcImNvbnRyb2wtbGFiZWxcXFwiPuadoeS7tuWQjeensO+8mjwvbGFiZWw+XFxuICAgICAgPC9kaXY+XFxuICAgICAgPGRpdiBjbGFzcz1cXFwiY29sLXNtLTJcXFwiPlxcbiAgICAgICAgPGxhYmVsIGNsYXNzPVxcXCJjb250cm9sLWxhYmVsXFxcIj57e3Byb2plY3QudGl0bGV9fTwvbGFiZWw+XFxuICAgICAgPC9kaXY+XFxuICAgICAgPGRpdiBjbGFzcz1cXFwiY29sLXNtLTFcXFwiPlxcbiAgICAgICAgPGxhYmVsIGNsYXNzPVxcXCJjb250cm9sLWxhYmVsXFxcIj7lrZfmrrXlgLzvvJo8L2xhYmVsPlxcbiAgICAgIDwvZGl2PlxcbiAgICAgIDxkaXYgY2xhc3M9XFxcImNvbC1zbS0zXFxcIj5cXG4gICAgICAgICAgPGlucHV0IHR5cGU9XFxcInRleHRcXFwiIGNsYXNzPVxcXCJmb3JtLWNvbnRyb2xcXFwiIG5nLW1vZGVsPVxcXCJwcm9qZWN0LnZhbHVlXFxcIj5cXG4gICAgICA8L2Rpdj5cXG4gICAgICA8ZGl2IGNsYXNzPVxcXCJjb2wtc20tMVxcXCI+XFxuICAgICAgICA8bGFiZWwgY2xhc3M9XFxcImNvbnRyb2wtbGFiZWxcXFwiPuWIhuaVsO+8mjwvbGFiZWw+XFxuICAgICAgPC9kaXY+XFxuICAgICAgPGRpdiBjbGFzcz1cXFwiY29sLXNtLTFcXFwiPlxcbiAgICAgICAgPGxhYmVsIGNsYXNzPVxcXCJjb250cm9sLWxhYmVsXFxcIj57e3Byb2plY3QucG9pbnR9fTwvbGFiZWw+XFxuICAgICAgPC9kaXY+XFxuICAgIDwvZGl2PlxcbiAgICA8ZGl2IGNsYXNzPVxcXCJmb3JtLWdyb3VwXFxcIj5cXG4gICAgICA8ZGl2IGNsYXNzPVxcXCJjb2wtc20tMVxcXCI+XFxuICAgICAgICA8bGFiZWwgY2xhc3M9XFxcImNvbnRyb2wtbGFiZWxcXFwiPuaAu+WIhu+8mjwvbGFiZWw+XFxuICAgICAgPC9kaXY+XFxuICAgICAgPGRpdiBjbGFzcz1cXFwiY29sLXNtLTJcXFwiPlxcbiAgICAgICAgPGxhYmVsIGNsYXNzPVxcXCJjb250cm9sLWxhYmVsXFxcIj57e3ZtLmdldFRvdGFsKCl9fTwvbGFiZWw+XFxuICAgICAgPC9kaXY+XFxuICAgIDwvZGl2PlxcbiAgPC9mb3JtPlxcbiAgPGRpdiBjbGFzcz1cXFwibS1sLXhsIG0tYi1tZFxcXCI+XFxuICAgIDxidXR0b24gY2xhc3M9XFxcImJ0biBidG4tcHJpbWFyeVxcXCIgbmctY2xpY2s9XFxcInZtLnJlQ291bnQoRm9ybSlcXFwiPumHjeaWsOiuoeeulzwvYnV0dG9uPlxcbiAgICA8YnV0dG9uIHR5cGU9XFxcImJ1dHRvblxcXCIgY2xhc3M9XFxcImJ0biBidG4tc3VjY2VzcyBidG4tc21cXFwiIG5nLWNsaWNrPVxcXCJ2bS5zdWJtaXQoRm9ybSlcXFwiPuS/neWtmDwvYnV0dG9uPlxcbiAgPC9kaXY+XFxuPC9zZWN0aW9uPlxcblwiKTtcbiR0ZW1wbGF0ZUNhY2hlLnB1dChcIm1vZHVsZXMvbG9hbi9saXN0L2luZGV4Lmh0bWxcIixcIjxzZWN0aW9uIGNsYXNzPVxcXCJjb250ZW50LWhlYWRlclxcXCI+XFxuICA8ZGl2IGNsYXNzPVxcXCJvcHRpb25zXFxcIj5cXG4gICAgPGRpdiBjbGFzcz1cXFwib3B0aW9uLWl0ZW0gb3B0aW9uLXRpbWVcXFwiPlxcbiAgICAgIDx1bCBjbGFzcz1cXFwiY2xlYXJmaXhcXFwiPlxcbiAgICAgICAgPGxpPlxcbiAgICAgICAgICA8ZGl2IGNsYXNzPVxcXCJpbnB1dC1ncm91cCBzZWFyY2gtYm94XFxcIj5cXG4gICAgICAgICAgICA8aW5wdXQgbmctbW9kZWw9XFxcInZtLmZpbHRlcnMubmFtZVxcXCIgdHlwZT1cXFwidGV4dFxcXCIgcGxhY2Vob2xkZXI9XFxcIuivt+i+k+afpeivolxcXCIgY2xhc3M9XFxcImZvcm0tY29udHJvbFxcXCJcXG4gICAgICAgICAgICAgICAgICAgIGNvZGU9XFxcIjEzXFxcIiBrZXktZXZlbnQ9XFxcInZtLnJlU2VhcmNoKCk7XFxcIj5cXG4gICAgICAgICAgICA8c3BhbiBjbGFzcz1cXFwiaW5wdXQtZ3JvdXAtYnRuXFxcIj5cXG4gICAgICAgICAgICAgIDxidXR0b24gbmctY2xpY2s9XFxcInZtLnJlU2VhcmNoKClcXFwiIGNsYXNzPVxcXCJidG4gYnRuLWRlZmF1bHQgc2VhcmNoXFxcIiB0eXBlPVxcXCJidXR0b25cXFwiPjxpIGNsYXNzPVxcXCJpY29uLXNlYXJjaFxcXCI+PC9pPjwvYnV0dG9uPlxcbiAgICAgICAgICAgIDwvc3Bhbj5cXG4gICAgICAgICAgPC9kaXY+XFxuICAgICAgICA8L2xpPlxcbiAgICAgIDwvdWw+XFxuICAgIDwvZGl2PlxcbiAgICA8IS0tIFxcbiAgICA8ZGl2IGNsYXNzPVxcXCJvcHRpb24taXRlbSBsYXJnZVxcXCI+XFxuICAgICAgPHNwYW4gY2xhc3M9XFxcIml0ZW0tdGl0bGUgdGV4dC1yaWdodFxcXCI+5Li755CG54q25oCB77yaPC9zcGFuPlxcbiAgICAgIDx1bCBjbGFzcz1cXFwiY2xlYXJmaXhcXFwiPlxcbiAgICAgICAgICA8bGk+XFxuICAgICAgICAgICAgICA8YSBocmVmPVxcXCJqYXZhc2NyaXB0OjtcXFwiIGNsYXNzPVxcXCJidG5cXFwiIG5nLWNsYXNzPVxcXCJ7XFwnYnRuLWRlZmF1bHRcXCc6IHZtLmZpbHRlcnMuZ2VuZGVyLCBcXCdidG4tdG9nZ2xlXFwnOiAhdm0uZmlsdGVycy5nZW5kZXIsIFxcJ2FjdGl2ZVxcJzogIXZtLmZpbHRlcnMuZ2VuZGVyfVxcXCIgbmctY2xpY2s9XFxcInZtLnN3aXRjaChcXCdnZW5kZXJcXCcpXFxcIj5cXG4gICAgICAgICAgICAgICAgICDlhajpg6hcXG4gICAgICAgICAgICAgIDwvYT5cXG4gICAgICAgICAgPC9saT5cXG4gICAgICAgICAgPGxpIG5nLXJlcGVhdD1cXFwiaXRlbSBpbiB2bS5yb2xlTWFpblN0YXR1c1xcXCI+XFxuICAgICAgICAgICAgICA8YSBocmVmPVxcXCJqYXZhc2NyaXB0OjtcXFwiIGNsYXNzPVxcXCJidG5cXFwiIG5nLWNsYXNzPVxcXCJ7XFwnYnRuLWRlZmF1bHRcXCc6IHZtLmZpbHRlcnMucm9sZV9hX2Rpc2FibGUgIT0gaXRlbS52YWx1ZSwgXFwnYnRuLXRvZ2dsZVxcJzogdm0uZmlsdGVycy5yb2xlX2FfZGlzYWJsZSA9PSBpdGVtLnZhbHVlLCBcXCdhY3RpdmVcXCc6IHZtLmZpbHRlcnMucm9sZV9hX2Rpc2FibGUgPT0gaXRlbS52YWx1ZX1cXFwiIG5nLWNsaWNrPVxcXCJ2bS5zd2l0Y2goXFwncm9sZV9hX2Rpc2FibGVcXCcsIGl0ZW0udmFsdWUpXFxcIj5cXG4gICAgICAgICAgICAgICAgICB7eyBpdGVtLmxhYmVsIH19XFxuICAgICAgICAgICAgICA8L2E+XFxuICAgICAgICAgIDwvbGk+XFxuICAgICAgPC91bD5cXG4gICAgPC9kaXY+XFxuICAgIDxkaXYgY2xhc3M9XFxcIm9wdGlvbi1pdGVtIGxhcmdlXFxcIj5cXG4gICAgICA8c3BhbiBjbGFzcz1cXFwiaXRlbS10aXRsZSB0ZXh0LXJpZ2h0XFxcIj7kvIHkuJrnirbmgIHvvJo8L3NwYW4+XFxuICAgICAgPHVsIGNsYXNzPVxcXCJjbGVhcmZpeFxcXCI+XFxuICAgICAgICAgIDxsaT5cXG4gICAgICAgICAgICAgIDxhIGhyZWY9XFxcImphdmFzY3JpcHQ6O1xcXCIgY2xhc3M9XFxcImJ0blxcXCIgbmctY2xhc3M9XFxcIntcXCdidG4tZGVmYXVsdFxcJzogdm0uZmlsdGVycy5zdGF0ZSAhPT0gdW5kZWZpbmVkLCBcXCdidG4tdG9nZ2xlXFwnOiB2bS5maWx0ZXJzLnN0YXRlID09PSB1bmRlZmluZWQsIFxcJ2FjdGl2ZVxcJzogdm0uZmlsdGVycy5zdGF0ZSA9PT0gdW5kZWZpbmVkfVxcXCIgbmctY2xpY2s9XFxcInZtLnN3aXRjaChcXCdzdGF0ZVxcJylcXFwiPlxcbiAgICAgICAgICAgICAgICAgIOWFqOmDqFxcbiAgICAgICAgICAgICAgPC9hPlxcbiAgICAgICAgICA8L2xpPlxcbiAgICAgICAgICA8bGkgbmctcmVwZWF0PVxcXCJpdGVtIGluIHZtLmVudGVycHJpc2VTdGF0ZUxpc3RcXFwiPlxcbiAgICAgICAgICAgICAgPGEgaHJlZj1cXFwiamF2YXNjcmlwdDo7XFxcIiBjbGFzcz1cXFwiYnRuXFxcIiBuZy1jbGFzcz1cXFwie1xcJ2J0bi1kZWZhdWx0XFwnOiB2bS5maWx0ZXJzLnN0YXRlICE9IGl0ZW0udmFsdWUsIFxcJ2J0bi10b2dnbGVcXCc6IHZtLmZpbHRlcnMuc3RhdGUgPT0gaXRlbS52YWx1ZSwgXFwnYWN0aXZlXFwnOiB2bS5maWx0ZXJzLnN0YXRlID09IGl0ZW0udmFsdWV9XFxcIiBuZy1jbGljaz1cXFwidm0uc3dpdGNoKFxcJ3N0YXRlXFwnLCBpdGVtLnZhbHVlKVxcXCI+XFxuICAgICAgICAgICAgICAgICAge3sgaXRlbS5sYWJlbCB9fVxcbiAgICAgICAgICAgICAgPC9hPlxcbiAgICAgICAgICA8L2xpPlxcbiAgICAgIDwvdWw+XFxuICAgIDwvZGl2PlxcbiAgICAtLT5cXG48L3NlY3Rpb24+XFxuXFxuPHNlY3Rpb24gY2xhc3M9XFxcImNvbnRlbnQgYm9keS1jb250ZW50IGJvZHktY29udGVudC1jb21wYWN0IGJsb2NrLXVpIGJsb2NrLXVpLW1lc3NhZ2UtY3VzdG9tXFxcIiBibG9jay11aT1cXFwibWFpblxcXCI+XFxuICA8ZW1wdHktdGlwIG5nLWlmPVxcXCJ2bS5saXN0Lmxlbmd0aCA9PT0gMFxcXCI+PC9lbXB0eS10aXA+XFxuXFxuICA8ZGl2IGNsYXNzPVxcXCJwYW5lbFxcXCIgbmctaWY9XFxcInZtLmxpc3QubGVuZ3RoID4gMFxcXCI+XFxuICAgIDx0YWJsZSBjbGFzcz1cXFwidGFibGUgdGFibGUtc3RyaXBlZCB0ZXh0LWNlbnRlclxcXCI+XFxuICAgICAgPHRyPlxcbiAgICAgICAgPHRoIGNsYXNzPVxcXCJjb2wtbS0xIHRleHQtY2VudGVyXFxcIj7kvIHkuJrlkI3np7A8L3RoPlxcbiAgICAgICAgPHRoIGNsYXNzPVxcXCJjb2wtbS0xIHRleHQtY2VudGVyXFxcIj7kvIHkuJrlnLDlnYA8L3RoPlxcbiAgICAgICAgPHRoIGNsYXNzPVxcXCJjb2wtbS0xIHRleHQtY2VudGVyXFxcIj7miYDlsZ7mnLrmnoQ8L3RoPlxcbiAgICAgICAgPHRoIGNsYXNzPVxcXCJjb2wtbS0xIHRleHQtY2VudGVyXFxcIj7or4TliIY8L3RoPlxcbiAgICAgICAgPHRoIGNsYXNzPVxcXCJjb2wtbS0xIHRleHQtY2VudGVyXFxcIj7kvIHkuJrnirbmgIE8L3RoPlxcbiAgICAgICAgPHRoIGNsYXNzPVxcXCJjb2wtbS0xIHRleHQtY2VudGVyXFxcIj7mk43kvZw8L3RoPlxcbiAgICAgIDwvdHI+XFxuICAgICAgPHRyIG5nLXJlcGVhdD1cXFwiaXRlbSBpbiB2bS5saXN0XFxcIj5cXG4gICAgICAgIDx0ZD57e2l0ZW0ubmFtZX19PC90ZD5cXG4gICAgICAgIDx0ZD57e2l0ZW0uYWRkcmVzc319PC90ZD5cXG4gICAgICAgIDx0ZD57e2l0ZW0uYmFuay5uYW1lfX08L3RkPlxcbiAgICAgICAgPHRkPnt7aXRlbS5sb2FuX3BvaW50c319PC90ZD5cXG4gICAgICAgIDx0ZD57e2l0ZW0uc3RhdGUgfCBmaWx0ZXJWYWx1ZTogdm0uZW50ZXJwcmlzZVN0YXRlTGlzdH19PC90ZD5cXG4gICAgICAgIDx0ZD5cXG4gICAgICAgICAgPGEgdWktc3JlZj1cXFwibG9hbi5kZWNpc2lvbih7aWQ6IGl0ZW0uaWR9KVxcXCI+5L+u5q2j5LyB5Lia6LS35qy+5L+h5oGvPC9hPlxcbiAgICAgICAgPC90ZD5cXG4gICAgICA8L3RyPlxcbiAgICA8L3RhYmxlPlxcbiAgPC9kaXY+XFxuXFxuICA8bWMtcGFnaW5hdGlvbiB0b3RhbC1pdGVtcz1cXFwidm0ucGFnaW5hdGlvbi5jb3VudFxcXCIgaXRlbXMtcGVyLXBhZ2U9XFxcInZtLnBhZ2luYXRpb24ucGFnZVNpemVcXFwiIGN1cnJlbnQtcGFnZT1cXFwidm0ucGFnaW5hdGlvbi5wYWdlXFxcIiBwYWdlLWNoYW5nZT1cXFwidm0ucGFnZUNoYW5nZWQoKVxcXCI+PC9tYy1wYWdpbmF0aW9uPlxcblxcbjwvc2VjdGlvbj5cXG5cIik7XG4kdGVtcGxhdGVDYWNoZS5wdXQoXCJtb2R1bGVzL2xvYW4vc2V0dGluZy9pbmRleC5odG1sXCIsXCI8c2VjdGlvbiBjbGFzcz1cXFwiY29udGVudC1oZWFkZXJcXFwiPlxcbiAgPGg0IGNsYXNzPVxcXCJ0aXRsZVxcXCI+6LS35qy+5Yaz562W5p2h5Lu26K6+572uPC9oND5cXG48L3NlY3Rpb24+XFxuXFxuPHNlY3Rpb24gY2xhc3M9XFxcImNvbnRlbnQgYm9keS1jb250ZW50IGJsb2NrLXVpIGJsb2NrLXVpLW1lc3NhZ2UtY3VzdG9tXFxcIiBibG9jay11aT1cXFwibWFpblxcXCI+XFxuICA8Zm9ybSBuYW1lPVxcXCJGb3JtXFxcIiBjbGFzcz1cXFwiZm9ybS1ob3Jpem9udGFsXFxcIj5cXG4gICAgPGRpdiBjbGFzcz1cXFwiZm9ybS1ncm91cFxcXCIgbmctcmVwZWF0LXN0YXJ0PVxcXCJsb2FuIGluIHZtLmxvYW5MaXN0XFxcIj5cXG4gICAgICA8ZGl2IGNsYXNzPVxcXCJjb2wtc20tMlxcXCI+XFxuICAgICAgICA8bGFiZWwgY2xhc3M9XFxcImNvbnRyb2wtbGFiZWxcXFwiPuadoeS7tuWIhuexu+WQjeensDwvbGFiZWw+XFxuICAgICAgPC9kaXY+XFxuICAgICAgPGRpdiBjbGFzcz1cXFwiY29sLXNtLTJcXFwiPlxcbiAgICAgICAgPGlucHV0IHR5cGU9XFxcInRleHRcXFwiIGNsYXNzPVxcXCJmb3JtLWNvbnRyb2xcXFwiIG5nLW1vZGVsPVxcXCJsb2FuLnRpdGxlXFxcIiB2YWxpZGF0b3I9XFxcInJlcXVpcmVkXFxcIj5cXG4gICAgICA8L2Rpdj5cXG4gICAgICA8ZGl2IGNsYXNzPVxcXCJjb2wtc20tMlxcXCI+XFxuICAgICAgICA8bGFiZWwgY2xhc3M9XFxcImNvbnRyb2wtbGFiZWxcXFwiPuWIhuexu+aAu+WIhjwvbGFiZWw+XFxuICAgICAgPC9kaXY+XFxuICAgICAgPGRpdiBjbGFzcz1cXFwiY29sLXNtLTJcXFwiPlxcbiAgICAgICAgPGlucHV0IHR5cGU9XFxcInRleHRcXFwiIGNsYXNzPVxcXCJmb3JtLWNvbnRyb2xcXFwiIG5nLW1vZGVsPVxcXCJsb2FuLnBvaW50XFxcIiB2YWxpZGF0b3I9XFxcInJlcXVpcmVkXFxcIj5cXG4gICAgICA8L2Rpdj5cXG4gICAgICA8ZGl2IGNsYXNzPVxcXCJjb2wtc20tMiB0ZXh0LXJpZ2h0XFxcIj5cXG4gICAgICAgICAgPGEgZGF0YS10YXJnZXQ9XFxcIiNwcm9qZWN0e3skaW5kZXh9fVxcXCIgZGF0YS10b2dnbGU9XFxcImNvbGxhcHNlXFxcIiBjbGFzcz1cXFwiYnRuIGJ0bi1saW5rXFxcIiBuZy1jbGljaz1cXFwidG9nZ2xlPSF0b2dnbGVcXFwiPjxzcGFuIG5nLWhpZGU9XFxcInRvZ2dsZVxcXCI+57yW6L6RIDxpIGNsYXNzPVxcXCJpY29uLWFycm93LWRvd24gc21hbGxcXFwiPjwvaT48L3NwYW4+PHNwYW4gbmctc2hvdz1cXFwidG9nZ2xlXFxcIj7mlLbotbcgPGkgY2xhc3M9XFxcImljb24tYXJyb3ctdXAgc21hbGxcXFwiPjwvaT48L3NwYW4+PC9pPjwvYT5cXG4gICAgICA8L2Rpdj5cXG4gICAgPC9kaXY+XFxuICAgIDxkaXYgaWQ9XFxcInByb2plY3R7eyRpbmRleH19XFxcIiBjbGFzcz1cXFwiY29sbGFwc2VcXFwiIG5nLXJlcGVhdC1lbmQ+XFxuICAgICAgPGRpdiBjbGFzcz1cXFwiZm9ybS1ncm91cFxcXCIgbmctcmVwZWF0PVxcXCJwcm9qZWN0IGluIGxvYW4uY29uZGl0aW9uX2xpc3RcXFwiPlxcbiAgICAgICAgPGRpdiBjbGFzcz1cXFwiY29sLXNtLTFcXFwiPlxcbiAgICAgICAgICA8bGFiZWwgY2xhc3M9XFxcImNvbnRyb2wtbGFiZWxcXFwiPuadoeS7tuWQjeensDwvbGFiZWw+XFxuICAgICAgICA8L2Rpdj5cXG4gICAgICAgIDxkaXYgY2xhc3M9XFxcImNvbC1zbS0yXFxcIj5cXG4gICAgICAgICAgPGlucHV0IHR5cGU9XFxcInRleHRcXFwiIGNsYXNzPVxcXCJmb3JtLWNvbnRyb2xcXFwiIG5nLW1vZGVsPVxcXCJwcm9qZWN0LnRpdGxlXFxcIiB2YWxpZGF0b3I9XFxcInJlcXVpcmVkXFxcIj5cXG4gICAgICAgIDwvZGl2PlxcbiAgICAgICAgPGRpdiBjbGFzcz1cXFwiY29sLXNtLTdcXFwiPlxcbiAgICAgICAgICA8ZGl2IGNsYXNzPVxcXCJjbGVhcmZpeFxcXCI+XFxuICAgICAgICAgICAgPGxhYmVsIGNsYXNzPVxcXCJjb2wtc20tMiBjb250cm9sLWxhYmVsXFxcIj7mnaHku7bnsbvlnos8L2xhYmVsPlxcbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XFxcImNvbC1zbS0yXFxcIj5cXG4gICAgICAgICAgICAgIDxkaXYgY2xhc3M9XFxcImJ0bi1ncm91cFxcXCI+XFxuICAgICAgICAgICAgICAgIDxidXR0b24gdHlwZT1cXFwiYnV0dG9uXFxcIiBjbGFzcz1cXFwiYnRuIGJ0bi1kZWZhdWx0IGRyb3Bkb3duLXRvZ2dsZVxcXCIgZGF0YS10b2dnbGU9XFxcImRyb3Bkb3duXFxcIiBhcmlhLWhhc3BvcHVwPVxcXCJ0cnVlXFxcIiBhcmlhLWV4cGFuZGVkPVxcXCJmYWxzZVxcXCI+XFxuICAgICAgICAgICAgICAgICAge3t2bS50eXBlTGlzdFtwcm9qZWN0Lm9wdGlvbl90eXBlXX19XFxuICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XFxcImNhcmV0XFxcIj48L3NwYW4+XFxuICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxcbiAgICAgICAgICAgICAgICA8dWwgY2xhc3M9XFxcImRyb3Bkb3duLW1lbnVcXFwiIHN0eWxlPVxcXCJtaW4td2lkdGg6IDYwcHhcXFwiPlxcbiAgICAgICAgICAgICAgICAgIDxsaT48YSBuZy1jbGljaz1cXFwicHJvamVjdC5vcHRpb25fdHlwZT1cXCdpbnRlZ2VyXFwnO3ZtLnR5cGVDaGFuZ2UocHJvamVjdClcXFwiIGhyZWY9XFxcImphdmFzY3JpcHQ6dm9pZCgwKVxcXCI+5pWw5YC8PC9hPjwvbGk+XFxuICAgICAgICAgICAgICAgICAgPGxpPjxhIG5nLWNsaWNrPVxcXCJwcm9qZWN0Lm9wdGlvbl90eXBlPVxcJ3N0cmluZ1xcJzt2bS50eXBlQ2hhbmdlKHByb2plY3QpXFxcIiBocmVmPVxcXCJqYXZhc2NyaXB0OnZvaWQoMClcXFwiPuaWh+acrDwvYT48L2xpPlxcbiAgICAgICAgICAgICAgICA8L3VsPlxcbiAgICAgICAgICAgICAgPC9kaXY+XFxuICAgICAgICAgICAgPC9kaXY+XFxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cXFwiY29sLXNtLTJcXFwiPlxcbiAgICAgICAgICAgICAgPGxhYmVsIGNsYXNzPVxcXCJjb250cm9sLWxhYmVsXFxcIj7pu5jorqTliIbmlbA8L2xhYmVsPlxcbiAgICAgICAgICAgIDwvZGl2PlxcbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XFxcImNvbC1zbS0yXFxcIj5cXG4gICAgICAgICAgICAgIDxpbnB1dCB0eXBlPVxcXCJ0ZXh0XFxcIiBjbGFzcz1cXFwiZm9ybS1jb250cm9sXFxcIiBuZy1tb2RlbD1cXFwicHJvamVjdC5kZWZhdWx0X3BvaW50XFxcIiB2YWxpZGF0b3I9XFxcInJlcXVpcmVkXFxcIj5cXG4gICAgICAgICAgICA8L2Rpdj5cXG4gICAgICAgICAgICA8IS0tIDxkaXYgY2xhc3M9XFxcImNvbC1zbS0yIHRleHQtY2VudGVyIHB1bGwtcmlnaHQgY29udHJvbC1sYWJlbFxcXCI+XFxuICAgICAgICAgICAgICA8YSBocmVmPVxcXCJqYXZhc2NyaXB0OnZvaWQoMCk7XFxcIiBuZy1jbGljaz1cXFwidm0uYWRkSXRlbShwcm9qZWN0KVxcXCI+5re75Yqg5a2X5q61PC9hPlxcbiAgICAgICAgICAgIDwvZGl2PiAtLT5cXG4gICAgICAgICAgPC9kaXY+XFxuICAgICAgICAgIDxkaXYgY2xhc3M9XFxcImZvcm0tZ3JvdXBcXFwiIG5nLXJlcGVhdD1cXFwiaXRlbSBpbiBwcm9qZWN0Lm9wdGlvbnNcXFwiIHN0eWxlPVxcXCJtYXJnaW46MHB4O1xcXCI+XFxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cXFwiY2xlYXJmaXggbS1iLXNtXFxcIj5cXG4gICAgICAgICAgICAgIDxsYWJlbCBjbGFzcz1cXFwiY29sLXNtLTEgY29udHJvbC1sYWJlbFxcXCIgc3R5bGU9XFxcIndpZHRoOiAxMCVcXFwiPuespuWPtzwvbGFiZWw+XFxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVxcXCJjb2wtc20tMlxcXCI+XFxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XFxcImJ0bi1ncm91cFxcXCI+XFxuICAgICAgICAgICAgICAgICAgPGJ1dHRvbiB0eXBlPVxcXCJidXR0b25cXFwiIGNsYXNzPVxcXCJidG4gYnRuLWRlZmF1bHQgZHJvcGRvd24tdG9nZ2xlXFxcIiBkYXRhLXRvZ2dsZT1cXFwiZHJvcGRvd25cXFwiIGFyaWEtaGFzcG9wdXA9XFxcInRydWVcXFwiIGFyaWEtZXhwYW5kZWQ9XFxcImZhbHNlXFxcIj5cXG4gICAgICAgICAgICAgICAgICAgIHt7dm0uY29uZGl0aW9uTGlzdFtwcm9qZWN0Lm9wdGlvbl90eXBlXVtpdGVtLmNvbmRpdGlvbl19fVxcbiAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XFxcImNhcmV0XFxcIj48L3NwYW4+XFxuICAgICAgICAgICAgICAgICAgPC9idXR0b24+XFxuICAgICAgICAgICAgICAgICAgPHVsIGNsYXNzPVxcXCJkcm9wZG93bi1tZW51XFxcIiBzdHlsZT1cXFwibWluLXdpZHRoOiA2MHB4XFxcIj5cXG4gICAgICAgICAgICAgICAgICAgIDxsaSBuZy1yZXBlYXQ9XFxcIihpZCwgY29uZGl0aW9uKSBpbiB2bS5jb25kaXRpb25MaXN0W3Byb2plY3Qub3B0aW9uX3R5cGVdXFxcIj48YSBuZy1jbGljaz1cXFwiaXRlbS5jb25kaXRpb249aWQ7XFxcIiBocmVmPVxcXCJqYXZhc2NyaXB0OnZvaWQoMClcXFwiPnt7Y29uZGl0aW9ufX08L2E+PC9saT5cXG4gICAgICAgICAgICAgICAgICA8L3VsPlxcbiAgICAgICAgICAgICAgICA8L2Rpdj5cXG4gICAgICAgICAgICAgIDwvZGl2PlxcbiAgICAgICAgICAgICAgPGxhYmVsIGNsYXNzPVxcXCJjb2wtc20tMSBjb250cm9sLWxhYmVsXFxcIiBzdHlsZT1cXFwid2lkdGg6IDEzJVxcXCI+5a2X5q615YC8PC9sYWJlbD5cXG4gICAgICAgICAgICAgIDxkaXYgY2xhc3M9XFxcImNvbC1zbS0zXFxcIj5cXG4gICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9XFxcInRleHRcXFwiIGNsYXNzPVxcXCJmb3JtLWNvbnRyb2xcXFwiIG5nLW1vZGVsPVxcXCJpdGVtLnZhbHVlXFxcIiB2YWxpZGF0b3I9XFxcInJlcXVpcmVkXFxcIj5cXG4gICAgICAgICAgICAgIDwvZGl2PlxcbiAgICAgICAgICAgICAgPGxhYmVsIGNsYXNzPVxcXCJjb2wtc20tMSBjb250cm9sLWxhYmVsXFxcIiBzdHlsZT1cXFwid2lkdGg6IDEwJVxcXCI+5YiG5pWwPC9sYWJlbD5cXG4gICAgICAgICAgICAgIDxkaXYgY2xhc3M9XFxcImNvbC1zbS0yXFxcIiBzdHlsZT1cXFwid2lkdGg6IDEyJVxcXCI+XFxuICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPVxcXCJ0ZXh0XFxcIiBjbGFzcz1cXFwiZm9ybS1jb250cm9sXFxcIiBuZy1tb2RlbD1cXFwiaXRlbS5wb2ludFxcXCIgdmFsaWRhdG9yPVxcXCJyZXF1aXJlZFxcXCI+XFxuICAgICAgICAgICAgICA8L2Rpdj5cXG4gICAgICAgICAgICAgIDxkaXYgY2xhc3M9XFxcImNvbC1zbS0xIGNvbnRyb2wtbGFiZWwgcHVsbC1yaWdodFxcXCIgc3R5bGU9XFxcIndpZHRoOiAxMCVcXFwiPlxcbiAgICAgICAgICAgICAgICA8YSBocmVmPVxcXCJqYXZhc2NyaXB0OnZvaWQoMCk7XFxcIiBjbGFzcz1cXFwidGV4dC1kYW5nZXJcXFwiIG5nLWNsaWNrPVxcXCJ2bS5kZWxldGVJdGVtKHByb2plY3QsICRpbmRleClcXFwiPuWIoOmZpDwvYT5cXG4gICAgICAgICAgICAgIDwvZGl2PlxcbiAgICAgICAgICAgIDwvZGl2PlxcbiAgICAgICAgICA8L2Rpdj5cXG4gICAgICAgICAgPGRpdiBjbGFzcz1cXFwiZm9ybS1ncm91cFxcXCI+XFxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cXFwiY29sLXNtLTQgdGV4dC1jZW50ZXIgcHVsbC1yaWdodCBjb250cm9sLWxhYmVsXFxcIj5cXG4gICAgICAgICAgICAgIDxhIGhyZWY9XFxcImphdmFzY3JpcHQ6dm9pZCgwKTtcXFwiIG5nLWNsaWNrPVxcXCJ2bS5hZGRJdGVtKHByb2plY3QpXFxcIj7mt7vliqDmnaHku7bpgInpobk8L2E+XFxuICAgICAgICAgICAgPC9kaXY+XFxuICAgICAgICAgIDwvZGl2PlxcbiAgICAgICAgPC9kaXY+XFxuICAgICAgICA8ZGl2IGNsYXNzPVxcXCJjb2wtc20tMVxcXCI+XFxuICAgICAgICAgIDxidXR0b24gY2xhc3M9XFxcImJ0biBidG4tZGFuZ2VyXFxcIiBuZy1jbGljaz1cXFwidm0uZGVsZXRlUHJvamVjdCgkaW5kZXgpXFxcIj7liKDpmaTmnaHku7Y8L2J1dHRvbj5cXG4gICAgICAgIDwvZGl2PlxcbiAgICAgIDwvZGl2PlxcbiAgICAgIDxkaXYgY2xhc3M9XFxcImZvcm0tZ3JvdXBcXFwiPlxcbiAgICAgICAgPGJ1dHRvbiBjbGFzcz1cXFwiYnRuIGJ0bi1kZWZhdWx0XFxcIiBuZy1jbGljaz1cXFwidm0uYWRkUHJvamVjdChsb2FuKVxcXCI+5re75Yqg5p2h5Lu2PC9idXR0b24+XFxuICAgICAgPC9kaXY+XFxuICAgIDwvZGl2PlxcbiAgICA8ZGl2IGNsYXNzPVxcXCJmb3JtLWdyb3VwXFxcIj5cXG4gICAgICA8YnV0dG9uIGNsYXNzPVxcXCJidG4gYnRuLWRlZmF1bHRcXFwiIG5nLWNsaWNrPVxcXCJ2bS5hZGRDb25kaXRpb24oKVxcXCI+5re75Yqg5YiG57G7PC9idXR0b24+XFxuICAgIDwvZGl2PlxcbiAgPC9mb3JtPlxcbiAgPGRpdiBjbGFzcz1cXFwibS1sLXhsIG0tYi1tZFxcXCI+XFxuICAgIDxidXR0b24gdHlwZT1cXFwiYnV0dG9uXFxcIiBjbGFzcz1cXFwiYnRuIGJ0bi1zdWNjZXNzIGJ0bi1zbVxcXCIgbmctY2xpY2s9XFxcInZtLnN1Ym1pdChGb3JtKVxcXCI+5L+d5a2YPC9idXR0b24+XFxuICA8L2Rpdj5cXG48L3NlY3Rpb24+XFxuXCIpO1xuJHRlbXBsYXRlQ2FjaGUucHV0KFwibW9kdWxlcy9sb2cvbGlzdC9pbmRleC5odG1sXCIsXCI8c2VjdGlvbiBjbGFzcz1cXFwiY29udGVudC1oZWFkZXJcXFwiPlxcbiAgPGRpdiBjbGFzcz1cXFwib3B0aW9uc1xcXCI+XFxuICAgIDxkaXYgY2xhc3M9XFxcIm9wdGlvbi1pdGVtIG9wdGlvbi10aW1lXFxcIj5cXG4gICAgICA8dWwgY2xhc3M9XFxcImNsZWFyZml4XFxcIj5cXG4gICAgICAgIDxsaT5cXG4gICAgICAgICAgPGRpdiBjbGFzcz1cXFwiaW5wdXQtZ3JvdXAgc2VhcmNoLWJveFxcXCI+XFxuICAgICAgICAgICAgPGlucHV0IG5nLW1vZGVsPVxcXCJ2bS5maWx0ZXJzLm1vZHVsZVxcXCIgdHlwZT1cXFwidGV4dFxcXCIgcGxhY2Vob2xkZXI9XFxcIuivt+i+k+aooeWdl+WQjeafpeivolxcXCIgY2xhc3M9XFxcImZvcm0tY29udHJvbFxcXCJcXG4gICAgICAgICAgICAgICAgICAgIGNvZGU9XFxcIjEzXFxcIiBrZXktZXZlbnQ9XFxcInZtLnJlU2VhcmNoKCk7XFxcIj5cXG4gICAgICAgICAgICA8c3BhbiBjbGFzcz1cXFwiaW5wdXQtZ3JvdXAtYnRuXFxcIj5cXG4gICAgICAgICAgICAgIDxidXR0b24gbmctY2xpY2s9XFxcInZtLnJlU2VhcmNoKClcXFwiIGNsYXNzPVxcXCJidG4gYnRuLWRlZmF1bHQgc2VhcmNoXFxcIiB0eXBlPVxcXCJidXR0b25cXFwiPjxpIGNsYXNzPVxcXCJpY29uLXNlYXJjaFxcXCI+PC9pPjwvYnV0dG9uPlxcbiAgICAgICAgICAgIDwvc3Bhbj5cXG4gICAgICAgICAgPC9kaXY+XFxuICAgICAgICA8L2xpPlxcbiAgICAgICAgPGxpPlxcbiAgICAgICAgICA8bWMtZGF0ZXBpY2tlciBpZD1cXFwic3RhcnREYXRlUGlja2VyXFxcIiBzdGFydC1kYXRlPVxcXCJ2bS5zdGFydF9kYXRlXFxcIiBtYXgtZGF0ZT1cXFwidm0uc3RhcnRUaW1lTWF4TGltaXRcXFwiIHRpbWUtc291cmNlPVxcXCJcXFwiIGN0cmwtYWxpYXM9XFxcInZtXFxcIiBtaW4tdmlldz1cXFwiXFwnbWludXRlc1xcJ1xcXCIgY2hhbmdlLXRpbWU9XFxcInZtLmNoYW5nZVRpbWUoXFwnc3RhcnRcXCcpXFxcIiBjaGFuZ2UtYnk9XFxcImNsb3NlXFxcIj48L21jLWRhdGVwaWNrZXI+IC0tXFxuICAgICAgICAgIDxtYy1kYXRlcGlja2VyIGlkPVxcXCJlbmREYXRlUGlja2VyXFxcIiBzdGFydC1kYXRlPVxcXCJ2bS5lbmRfZGF0ZVxcXCIgbWluLWRhdGU9XFxcInZtLmVuZFRpbWVNaW5MaW1pdFxcXCIgbWF4LWRhdGU9XFxcInZtLmVuZFRpbWVNYXhMaW1pdFxcXCIgdGltZS1zb3VyY2U9XFxcIlxcXCIgY3RybC1hbGlhcz1cXFwidm1cXFwiIG1pbi12aWV3PVxcXCJcXCdtaW51dGVzXFwnXFxcIiBjaGFuZ2UtdGltZT1cXFwidm0uY2hhbmdlVGltZShcXCdlbmRcXCcpXFxcIiBjaGFuZ2UtYnk9XFxcImNsb3NlXFxcIj48L21jLWRhdGVwaWNrZXI+XFxuICAgICAgICA8L2xpPlxcbiAgICAgIDwvdWw+XFxuICAgIDwvZGl2Plxcbjwvc2VjdGlvbj5cXG5cXG48c2VjdGlvbiBjbGFzcz1cXFwiY29udGVudCBib2R5LWNvbnRlbnQgYm9keS1jb250ZW50LWNvbXBhY3QgYmxvY2stdWkgYmxvY2stdWktbWVzc2FnZS1jdXN0b21cXFwiIGJsb2NrLXVpPVxcXCJtYWluXFxcIj5cXG4gIDxlbXB0eS10aXAgbmctaWY9XFxcInZtLmxpc3QubGVuZ3RoID09PSAwXFxcIj48L2VtcHR5LXRpcD5cXG5cXG4gIDxkaXYgY2xhc3M9XFxcInBhbmVsXFxcIj5cXG4gICAgPHRhYmxlIGNsYXNzPVxcXCJ0YWJsZSB0YWJsZS1zdHJpcGVkIHRleHQtY2VudGVyXFxcIj5cXG4gICAgICA8dHI+XFxuICAgICAgICA8dGggY2xhc3M9XFxcImNvbC1tLTEgdGV4dC1jZW50ZXJcXFwiPuaXtumXtDwvdGg+XFxuICAgICAgICA8dGggY2xhc3M9XFxcImNvbC1tLTEgdGV4dC1jZW50ZXJcXFwiPuaooeWdlzwvdGg+XFxuICAgICAgICA8dGggY2xhc3M9XFxcImNvbC1tLTEgdGV4dC1jZW50ZXJcXFwiPuaTjeS9nDwvdGg+XFxuICAgICAgICA8dGggY2xhc3M9XFxcImNvbC1tLTEgdGV4dC1jZW50ZXJcXFwiPuaTjeS9nOWPguaVsDwvdGg+XFxuICAgICAgICA8dGggY2xhc3M9XFxcImNvbC1tLTEgdGV4dC1jZW50ZXJcXFwiPuaTjeS9nOS6ujwvdGg+XFxuICAgICAgPC90cj5cXG4gICAgICA8dHIgbmctcmVwZWF0PVxcXCJpdGVtIGluIHZtLmxpc3RcXFwiPlxcbiAgICAgICAgPHRkPnt7aXRlbS5jcmVhdGVkfX08L3RkPlxcbiAgICAgICAgPHRkPnt7aXRlbS5tb2R1bGV9fTwvdGQ+XFxuICAgICAgICA8dGQ+e3tpdGVtLmFjdGlvbn19PC90ZD5cXG4gICAgICAgIDx0ZD57e2l0ZW0uZGF0YX19PC90ZD5cXG4gICAgICAgIDx0ZD57e2l0ZW0ub3BlcmF0b3J9fTwvdGQ+XFxuICAgICAgPC90cj5cXG4gICAgPC90YWJsZT5cXG4gIDwvZGl2PlxcblxcbiAgPG1jLXBhZ2luYXRpb24gdG90YWwtaXRlbXM9XFxcInZtLnBhZ2luYXRpb24uY291bnRcXFwiIGl0ZW1zLXBlci1wYWdlPVxcXCJ2bS5wYWdpbmF0aW9uLnBhZ2VTaXplXFxcIiBjdXJyZW50LXBhZ2U9XFxcInZtLnBhZ2luYXRpb24ucGFnZVxcXCIgcGFnZS1jaGFuZ2U9XFxcInZtLnBhZ2VDaGFuZ2VkKClcXFwiPjwvbWMtcGFnaW5hdGlvbj5cXG5cXG48L3NlY3Rpb24+XFxuXCIpO1xuJHRlbXBsYXRlQ2FjaGUucHV0KFwibW9kdWxlcy9tZXNzYWdlL2RldGFpbC9pbmRleC5odG1sXCIsXCI8c2VjdGlvbiBjbGFzcz1cXFwiY29udGVudC1oZWFkZXIgY2xlYXJmaXhcXFwiPlxcbiAgPGg0IGNsYXNzPVxcXCJ0aXRsZSBwdWxsLWxlZnRcXFwiPlxcbiAgICB7e3ZtLmluZm8udGl0bGV9fVxcbiAgPC9oND5cXG4gIDxhIGhyZWY9XFxcImphdmFzY3JpcHQ6dm9pZCgwKVxcXCIgY2xhc3M9XFxcImJ0biBidG4tZGVmYXVsdCBwdWxsLXJpZ2h0XFxcIiBuZy1jbGljaz1cXFwiJHJvb3QuYmFjaygpO1xcXCI+6L+U5ZuePC9hPlxcbiAgPGJ1dHRvbiB0eXBlPVxcXCJidXR0b25cXFwiIGNsYXNzPVxcXCJidG4gYnRuLWRhbmdlciBwdWxsLXJpZ2h0IG0tclxcXCIgbmctY2xpY2s9XFxcInZtLmRlbGV0ZSgpXFxcIj7liKDpmaQ8L2J1dHRvbj5cXG48L3NlY3Rpb24+XFxuPHNlY3Rpb24gY2xhc3M9XFxcImNvbnRlbnQgYm9keS1jb250ZW50IGJsb2NrLXVpIGJsb2NrLXVpLW1lc3NhZ2UtY3VzdG9tIG1lc3NhZ2UtZGV0YWlsIHAtbVxcXCIgYmxvY2stdWk9XFxcIm1haW5cXFwiPlxcbjxoNT7lhoXlrrnvvJo8L2g1PlxcbjxwPnt7dm0uaW5mby5jb250ZW50fX08L3A+XFxuPGRpdiBuZy1pZj1cXFwidm0uaW5mby5saW5rXFxcIj5cXG4gIDxhIGhyZWY9XFxcInt7dm0uaW5mby5saW5rfX1cXFwiPueCueatpOafpeecizwvYT5cXG48L2Rpdj5cXG48L3NlY3Rpb24+XCIpO1xuJHRlbXBsYXRlQ2FjaGUucHV0KFwibW9kdWxlcy9tZXNzYWdlL2xpc3QvdGVtcGxhdGUuaHRtbFwiLFwiPHNlY3Rpb24gY2xhc3M9XFxcImNvbnRlbnQtaGVhZGVyXFxcIj5cXG4gIDxoNCBjbGFzcz1cXFwidGl0bGVcXFwiPua2iOaBr+WIl+ihqDwvaDQ+XFxuPC9zZWN0aW9uPlxcblxcbjxzZWN0aW9uIGNsYXNzPVxcXCJjb250ZW50IGJvZHktY29udGVudCBib2R5LWNvbnRlbnQtY29tcGFjdCBibG9jay11aSBibG9jay11aS1tZXNzYWdlLWN1c3RvbSBtZXNzYWdlLWxpc3RcXFwiIGJsb2NrLXVpPVxcXCJtYWluXFxcIj5cXG4gIDxlbXB0eS10aXAgbmctaWY9XFxcInZtLmxpc3QubGVuZ3RoID09PSAwXFxcIj48L2VtcHR5LXRpcD5cXG5cXG4gIDxkaXYgY2xhc3M9XFxcInBhbmVsXFxcIiBuZy1pZj1cXFwidm0ubGlzdC5sZW5ndGggPiAwXFxcIj5cXG4gICAgPHRhYmxlIGNsYXNzPVxcXCJ0YWJsZSB0YWJsZS1zdHJpcGVkIHRleHQtY2VudGVyXFxcIj5cXG4gICAgICA8dHI+XFxuICAgICAgICA8dGggY2xhc3M9XFxcImNvbC1tLTEgdGV4dC1jZW50ZXJcXFwiPlxcbiAgICAgICAgICA8IS0tIDxsYWJlbCBjbGFzcz1cXFwibWMtcmFkaW9cXFwiPlxcbiAgICAgICAgICAgIDxpbnB1dCB0eXBlPVxcXCJjaGVja2JveFxcXCIgbmctbW9kZWw9XFxcInZtLnNlbGVjdEFsbFxcXCIgbmctY2hhbmdlPVxcXCJ2bS50b2dnbGVBbGwoKVxcXCIgLz5cXG4gICAgICAgICAgICA8aSBjbGFzcz1cXFwiaWNvbi1jaGVja1xcXCI+PC9pPlxcbiAgICAgICAgICA8L2xhYmVsPiAtLT5cXG4gICAgICAgIDwvdGg+XFxuICAgICAgICA8dGggY2xhc3M9XFxcImNvbC1tLTEwIHRleHQtbGVmdFxcXCI+5qCH6aKYPC90aD5cXG4gICAgICAgIDx0aCBjbGFzcz1cXFwiY29sLW0tMSB0ZXh0LWNlbnRlclxcXCI+PC90aD5cXG4gICAgICA8L3RyPlxcbiAgICAgIDx0ciBuZy1yZXBlYXQ9XFxcIml0ZW0gaW4gdm0ubGlzdFxcXCI+XFxuICAgICAgICA8dGQ+XFxuICAgICAgICAgIDwhLS0gPGxhYmVsIGNsYXNzPVxcXCJtYy1yYWRpb1xcXCI+XFxuICAgICAgICAgICAgPGlucHV0IHR5cGU9XFxcImNoZWNrYm94XFxcIiBuZy1tb2RlbD1cXFwiaXRlbS5jaGVja2VkXFxcIiBuZy1jaGFuZ2U9XFxcInZtLmNoZWNrQWxsKClcXFwiIC8+XFxuICAgICAgICAgICAgPGkgY2xhc3M9XFxcImljb24tY2hlY2tcXFwiPjwvaT5cXG4gICAgICAgICAgPC9sYWJlbD4gLS0+XFxuICAgICAgICA8L3RkPlxcbiAgICAgICAgPHRkIGNsYXNzPVxcXCJ0ZXh0LWxlZnRcXFwiPlxcbiAgICAgICAgICA8YSB1aS1zcmVmPVxcXCJtZXNzYWdlLmRldGFpbCh7aWQ6IGl0ZW0uaWR9KVxcXCIgc3R5bGU9XFxcImNvbG9yOiAjMzIzMjMyO1xcXCI+XFxuICAgICAgICAgICAgPHN0cm9uZyBuZy1pZj1cXFwiaXRlbS5zdGF0ZSA9PT0gMFxcXCI+e3tpdGVtLnRpdGxlfX08L3N0cm9uZz5cXG4gICAgICAgICAgICA8c3BhbiBuZy1pZj1cXFwiaXRlbS5zdGF0ZSAhPT0gMFxcXCI+e3tpdGVtLnRpdGxlfX08L3NwYW4+XFxuICAgICAgICAgIDwvYT5cXG4gICAgICAgIDwvdGQ+XFxuICAgICAgICA8dGQ+PGEgdWktc3JlZj1cXFwibWVzc2FnZS5kZXRhaWwoe2lkOiBpdGVtLmlkfSlcXFwiPuafpeecizxpIGNsYXNzPVxcXCJpY29uLWFuZ2xlLXJpZ2h0XFxcIj48L2k+PC9hPjwvdGQ+XFxuICAgICAgPC90cj5cXG4gICAgPC90YWJsZT5cXG4gIDwvZGl2PlxcbjwhLS0gICA8ZGl2PlxcbiAgICA8YnV0dG9uIHR5cGU9XFxcImJ1dHRvblxcXCIgY2xhc3M9XFxcImJ0biBidG4tZGVmYXVsdFxcXCIgbmctY2xpY2s9XFxcInZtLm1hcmtlZFJlYWQoKVxcXCI+5qCH6K6w5bey6K+7PC9idXR0b24+XFxuICAgIDxidXR0b24gdHlwZT1cXFwiYnV0dG9uXFxcIiBjbGFzcz1cXFwiYnRuIGJ0bi1kYW5nZXJcXFwiIG5nLWNsaWNrPVxcXCJ2bS5kZWxldGUoKVxcXCI+5Yig6ZmkPC9idXR0b24+XFxuICA8L2Rpdj4gLS0+XFxuXFxuICA8bWMtcGFnaW5hdGlvbiB0b3RhbC1pdGVtcz1cXFwidm0ucGFnaW5hdGlvbi5jb3VudFxcXCIgaXRlbXMtcGVyLXBhZ2U9XFxcInZtLnBhZ2luYXRpb24ucGFnZVNpemVcXFwiIGN1cnJlbnQtcGFnZT1cXFwidm0ucGFnaW5hdGlvbi5wYWdlXFxcIiBwYWdlLWNoYW5nZT1cXFwidm0ucGFnZUNoYW5nZWQoKVxcXCI+PC9tYy1wYWdpbmF0aW9uPlxcblxcbjwvc2VjdGlvbj5cXG5cIik7XG4kdGVtcGxhdGVDYWNoZS5wdXQoXCJtb2R1bGVzL3BlcnNvbi9kZXRhaWwvaW5kZXguaHRtbFwiLFwiPHNlY3Rpb24gY2xhc3M9XFxcImNvbnRlbnQtaGVhZGVyIGNsZWFyZml4XFxcIj5cXG4gICAgPGRpdiBjbGFzcz1cXFwicGFnZS1oZWFkZXJcXFwiPjxoND7otYTmlpnorr7nva48L2g0PjwvZGl2PlxcbiAgICA8ZGl2IGNsYXNzPVxcXCJmb3JtLWhvcml6b250YWxcXFwiPlxcbiAgICAgICAgPGRpdiBjbGFzcz1cXFwiZm9ybS1ncm91cFxcXCI+XFxuICAgICAgICAgICAgPGxhYmVsIGZvcj1cXFwiaW5wdXROYW1lXFxcIiBjbGFzcz1cXFwiY29sLXNtLTIgY29udHJvbC1sYWJlbFxcXCI+5aeT5ZCNPC9sYWJlbD5cXG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVxcXCJjb2wtc20tMlxcXCI+XFxuICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPVxcXCJ0ZXh0XFxcIiBjbGFzcz1cXFwiZm9ybS1jb250cm9sXFxcIiBpZD1cXFwiaW5wdXROYW1lXFxcIiBuZy1tb2RlbD1cXFwidm0ucGVyc29uLnRydWVfbmFtZVxcXCIgcGxhY2Vob2xkZXI9XFxcIlxcXCI+XFxuICAgICAgICAgICAgPC9kaXY+XFxuICAgICAgICA8L2Rpdj5cXG4gICAgICAgIDxkaXYgY2xhc3M9XFxcImZvcm0tZ3JvdXBcXFwiPlxcbiAgICAgICAgICAgIDxsYWJlbCBmb3I9XFxcImlucHV0UGhvbmVcXFwiIGNsYXNzPVxcXCJjb2wtc20tMiBjb250cm9sLWxhYmVsXFxcIj7miYvmnLrlj7c8L2xhYmVsPlxcbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XFxcImNvbC1zbS00XFxcIj5cXG4gICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9XFxcInRleHRcXFwiIGNsYXNzPVxcXCJmb3JtLWNvbnRyb2xcXFwiIGlkPVxcXCJpbnB1dFBob25lXFxcIiBuZy1tb2RlbD1cXFwidm0ucGVyc29uLnBob25lXFxcIiBwbGFjZWhvbGRlcj1cXFwiXFxcIj5cXG4gICAgICAgICAgICA8L2Rpdj5cXG4gICAgICAgIDwvZGl2PlxcbiAgICAgICAgPGRpdiBjbGFzcz1cXFwiZm9ybS1ncm91cFxcXCI+XFxuICAgICAgICAgICAgPGxhYmVsIGZvcj1cXFwiaW5wdXRQd2RcXFwiIGNsYXNzPVxcXCJjb2wtc20tMiBjb250cm9sLWxhYmVsXFxcIj7mlrDlr4bnoIE8L2xhYmVsPlxcbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XFxcImNvbC1zbS00XFxcIj5cXG4gICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9XFxcInRleHRcXFwiIGNsYXNzPVxcXCJmb3JtLWNvbnRyb2xcXFwiIGlkPVxcXCJpbnB1dFB3ZFxcXCIgbmctbW9kZWw9XFxcInZtLnBlcnNvbi5uZXdfcGFzc3dvcmRcXFwiIHBsYWNlaG9sZGVyPVxcXCJcXFwiPlxcbiAgICAgICAgICAgIDwvZGl2PlxcbiAgICAgICAgPC9kaXY+XFxuICAgICAgICA8ZGl2IGNsYXNzPVxcXCJmb3JtLWdyb3VwXFxcIj5cXG4gICAgICAgICAgICA8bGFiZWwgZm9yPVxcXCJcXFwiIGNsYXNzPVxcXCJjb2wtc20tMiBjb250cm9sLWxhYmVsXFxcIj7op5LoibLkv6Hmga88L2xhYmVsPlxcbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XFxcImJ0bi1ncm91cCBjb2wtc20tMlxcXCI+XFxuICAgICAgICAgICAgICA8YnV0dG9uIHR5cGU9XFxcImJ1dHRvblxcXCIgY2xhc3M9XFxcImJ0biBidG4tZGVmYXVsdCBkcm9wZG93bi10b2dnbGVcXFwiIGRhdGEtdG9nZ2xlPVxcXCJkcm9wZG93blxcXCIgYXJpYS1oYXNwb3B1cD1cXFwidHJ1ZVxcXCIgYXJpYS1leHBhbmRlZD1cXFwiZmFsc2VcXFwiPlxcbiAgICAgICAgICAgICAgICB7e3ZtLnBlcnNvbi5yb2xlX25hbWV9fVxcbiAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cXFwiY2FyZXRcXFwiPjwvc3Bhbj5cXG4gICAgICAgICAgICAgIDwvYnV0dG9uPlxcbiAgICAgICAgICAgICAgPHVsIGNsYXNzPVxcXCJkcm9wZG93bi1tZW51XFxcIj5cXG4gICAgICAgICAgICAgICAgPGxpIG5nLXJlcGVhdD1cXFwicm9sZSBpbiB2bS5yb2xlTGlzdFxcXCI+PGEgbmctY2xpY2s9XFxcInZtLnBlcnNvbi5yb2xlX25hbWU9cm9sZS5uYW1lO3ZtLnBlcnNvbi5yb2xlPXJvbGUudmFsdWVcXFwiIGhyZWY9XFxcImphdmFzY3JpcHQ6dm9pZCgwKVxcXCI+e3tyb2xlLm5hbWV9fTwvYT48L2xpPlxcbiAgICAgICAgICAgICAgPC91bD5cXG4gICAgICAgICAgICA8L2Rpdj5cXG4gICAgICAgIDwvZGl2PlxcbiAgICAgICAgPGRpdiBjbGFzcz1cXFwiZm9ybS1ncm91cFxcXCI+XFxuICAgICAgICAgICAgPGxhYmVsIGZvcj1cXFwiXFxcIiBjbGFzcz1cXFwiY29sLXNtLTIgY29udHJvbC1sYWJlbFxcXCI+55So5oi354q25oCBPC9sYWJlbD5cXG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVxcXCJidG4tZ3JvdXAgY29sLXNtLTJcXFwiPlxcbiAgICAgICAgICAgICAgPGJ1dHRvbiB0eXBlPVxcXCJidXR0b25cXFwiIGNsYXNzPVxcXCJidG4gYnRuLWRlZmF1bHQgZHJvcGRvd24tdG9nZ2xlXFxcIiBkYXRhLXRvZ2dsZT1cXFwiZHJvcGRvd25cXFwiIGFyaWEtaGFzcG9wdXA9XFxcInRydWVcXFwiIGFyaWEtZXhwYW5kZWQ9XFxcImZhbHNlXFxcIj5cXG4gICAgICAgICAgICAgICAge3t2bS5zdGF0ZUFyclt2bS5wZXJzb24uc3RhdGVdfX1cXG4gICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XFxcImNhcmV0XFxcIj48L3NwYW4+XFxuICAgICAgICAgICAgICA8L2J1dHRvbj5cXG4gICAgICAgICAgICAgIDx1bCBjbGFzcz1cXFwiZHJvcGRvd24tbWVudVxcXCI+XFxuICAgICAgICAgICAgICAgIDxsaT48YSBuZy1jbGljaz1cXFwidm0ucGVyc29uLnN0YXRlPTBcXFwiIGhyZWY9XFxcImphdmFzY3JpcHQ6dm9pZCgwKVxcXCI+5pyq5r+A5rS7PC9hPjwvbGk+XFxuICAgICAgICAgICAgICAgIDxsaT48YSBuZy1jbGljaz1cXFwidm0ucGVyc29uLnN0YXRlPTFcXFwiIGhyZWY9XFxcImphdmFzY3JpcHQ6dm9pZCgwKVxcXCI+5q2j5bi4PC9hPjwvbGk+XFxuICAgICAgICAgICAgICAgIDxsaT48YSBuZy1jbGljaz1cXFwidm0ucGVyc29uLnN0YXRlPTJcXFwiIGhyZWY9XFxcImphdmFzY3JpcHQ6dm9pZCgwKVxcXCI+5bey5Ya757uTPC9hPjwvbGk+XFxuICAgICAgICAgICAgICAgIDxsaT48YSBuZy1jbGljaz1cXFwidm0ucGVyc29uLnN0YXRlPTNcXFwiIGhyZWY9XFxcImphdmFzY3JpcHQ6dm9pZCgwKVxcXCI+5bey5Yig6ZmkPC9hPjwvbGk+XFxuICAgICAgICAgICAgICA8L3VsPlxcbiAgICAgICAgICAgIDwvZGl2PlxcbiAgICAgICAgPC9kaXY+XFxuICAgICAgICA8ZGl2IGNsYXNzPVxcXCJmb3JtLWdyb3VwXFxcIj5cXG4gICAgICAgICAgICA8YnV0dG9uIHR5cGU9XFxcImJ1dHRvblxcXCIgbmctY2xpY2s9XFxcInZtLnNldFVzZXIoKVxcXCIgY2xhc3M9XFxcImJ0biBidG4tc3VjY2Vzc1xcXCI+5o+Q5LqkPC9idXR0b24+XFxuICAgICAgICA8L2Rpdj5cXG4gICAgPC9kaXY+XFxuXFxuPC9zZWN0aW9uPlwiKTtcbiR0ZW1wbGF0ZUNhY2hlLnB1dChcIm1vZHVsZXMvcHJvY2Vzcy9hZGQvaW5kZXguaHRtbFwiLFwiPHNlY3Rpb24gY2xhc3M9XFxcImNvbnRlbnQtaGVhZGVyIGNsZWFyZml4XFxcIj5cXG4gIDxoNCBjbGFzcz1cXFwidGl0bGUgcHVsbC1sZWZ0XFxcIj5cXG4gICAge3t2bS5pZD8gXFwn57yW6L6RXFwnOiBcXCfmt7vliqBcXCd9feivneacr1xcbiAgPC9oND5cXG4gIDxhIGhyZWY9XFxcImphdmFzY3JpcHQ6dm9pZCgwKVxcXCIgY2xhc3M9XFxcImJ0biBidG4tZGVmYXVsdCBwdWxsLXJpZ2h0XFxcIiBuZy1jbGljaz1cXFwiJHJvb3QuYmFjaygpO1xcXCI+6L+U5ZuePC9hPlxcbiAgPGJ1dHRvbiB0eXBlPVxcXCJidXR0b25cXFwiIGNsYXNzPVxcXCJidG4gYnRuLWRhbmdlciBwdWxsLXJpZ2h0IG0tclxcXCIgbmctY2xpY2s9XFxcInZtLmRlbGV0ZSh2bS5Gb3JtKVxcXCIgbmctaWY9XFxcInZtLmlkXFxcIj7liKDpmaQ8L2J1dHRvbj5cXG48L3NlY3Rpb24+XFxuPHNlY3Rpb24gY2xhc3M9XFxcImNvbnRlbnQgYm9keS1jb250ZW50IGJsb2NrLXVpIGJsb2NrLXVpLW1lc3NhZ2UtY3VzdG9tIG1lc3NhZ2UtZGV0YWlsIHAtbVxcXCIgYmxvY2stdWk9XFxcIm1haW5cXFwiPlxcblx0PGZvcm0gY2xhc3M9XFxcImZvcm0taG9yaXpvbnRhbFxcXCIgbmFtZT1cXFwidm0uRm9ybVxcXCI+XFxuICAgIDxkaXYgY2xhc3M9XFxcImZvcm0tZ3JvdXAgY2xlYXJmaXhcXFwiPlxcbiAgICAgIDxsYWJlbCBmb3I9XFxcIm5vdGVJbnB1dFxcXCIgY2xhc3M9XFxcImNvbC1zbS0xIGNvbnRyb2wtbGFiZWxcXFwiPuagh+mimO+8mjwvbGFiZWw+XFxuICAgICAgPGRpdiBjbGFzcz1cXFwiY29sLXNtLTVcXFwiPlxcbiAgICAgICAgPGlucHV0IHR5cGU9XFxcInRleHRcXFwiIGNsYXNzPVxcXCJmb3JtLWNvbnRyb2xcXFwiIG5nLW1vZGVsPVxcXCJ2bS5pbnB1dEluZm8udGl0bGVcXFwiIHBsYWNlaG9sZGVyPVxcXCLor7fovpPlhaVcXFwiXFxuICAgICAgICAgIHZhbGlkYXRvcj1cXFwicmVxdWlyZWRcXFwiPlxcbiAgICAgIDwvZGl2PlxcbiAgICA8L2Rpdj5cXG4gICAgPGRpdiBjbGFzcz1cXFwiZm9ybS1ncm91cCBjbGVhcmZpeFxcXCI+XFxuXHQgICAgPGRpdiBjbGFzcz1cXFwiY2xlYXJmaXhcXFwiPlxcblx0ICAgICAgPGxhYmVsIGZvcj1cXFwibm90ZUlucHV0XFxcIiBjbGFzcz1cXFwiY29sLXNtLTEgY29udHJvbC1sYWJlbFxcXCI+5YaF5a6577yaPC9sYWJlbD5cXG4gICAgICA8L2Rpdj5cXG4gICAgXHQ8ZGl2IGNsYXNzPVxcXCJjb2wtc20tNlxcXCI+XFxuXHRcdFx0XHQ8bWRlZGl0b3IgZGVmYXVsdC10ZXh0PVxcXCJ2bS5kZWZhdWx0Q29udGVudFxcXCIgdGV4dD1cXFwidm0uaW5wdXRJbmZvLmNvbnRlbnRcXFwiPjwvbWRlZGl0b3I+XFxuXHRcdFx0XHQ8aW5wdXQgdHlwZT1cXFwiaGlkZGVuXFxcIiBuZy1tb2RlbD1cXFwidm0uaW5wdXRJbmZvLmNvbnRlbnRcXFwiIHZhbGlkYXRvcj1cXFwicmVxdWlyZWRcXFwiIC8+XFxuXHRcdFx0PC9kaXY+XFxuXHRcdFx0PGRpdiBjbGFzcz1cXFwiY29sLXNtLTZcXFwiPlxcblx0XHRcdFx0PGg1PuWGheWuuemihOiniDwvaDU+XFxuXHRcdFx0XHQ8cCBuZy1iaW5kLWh0bWw9XFxcInZtLmh0bWxcXFwiIHN0eWxlPVxcXCJiYWNrZ3JvdW5kOiAjZmZmOyBoZWlnaHQ6IDMwNnB4OyBvdmVyZmxvdzogYXV0bzsgYm9yZGVyOiAxcHggc29saWQgI2RkZDsgcGFkZGluZzogNXB4O1xcXCI+PC9wPlxcblx0XHRcdDwvZGl2PlxcbiAgICA8L2Rpdj5cXG4gICAgXFxuICA8L2Zvcm0+XFxuICA8ZGl2IGNsYXNzPVxcXCJtb2RhbC1mb290ZXJcXFwiPlxcbiAgICA8YnV0dG9uIHR5cGU9XFxcImJ1dHRvblxcXCIgY2xhc3M9XFxcImJ0biBidG4tc3VjY2VzcyBidG4tc21cXFwiIG5nLWNsaWNrPVxcXCJ2bS5zdWJtaXQodm0uRm9ybSlcXFwiPiDkv53lrZg8L2J1dHRvbj5cXG4gIDwvZGl2Plxcbjwvc2VjdGlvbj5cIik7XG4kdGVtcGxhdGVDYWNoZS5wdXQoXCJtb2R1bGVzL3Byb2Nlc3MvbGlzdC90ZW1wbGF0ZS5odG1sXCIsXCI8c2VjdGlvbiBjbGFzcz1cXFwiY29udGVudC1oZWFkZXJcXFwiPlxcbiAgPGg0IGNsYXNzPVxcXCJ0aXRsZVxcXCI+5raI5oGv5YiX6KGoPC9oND5cXG48L3NlY3Rpb24+XFxuXFxuPHNlY3Rpb24gY2xhc3M9XFxcImNvbnRlbnQgYm9keS1jb250ZW50IGJvZHktY29udGVudC1jb21wYWN0IGJsb2NrLXVpIGJsb2NrLXVpLW1lc3NhZ2UtY3VzdG9tIG1lc3NhZ2UtbGlzdFxcXCIgYmxvY2stdWk9XFxcIm1haW5cXFwiPlxcbiAgPGVtcHR5LXRpcCBuZy1pZj1cXFwidm0ubGlzdC5sZW5ndGggPT09IDBcXFwiPjwvZW1wdHktdGlwPlxcblxcbiAgPGRpdiBjbGFzcz1cXFwicGFuZWxcXFwiIG5nLWlmPVxcXCJ2bS5saXN0Lmxlbmd0aCA+IDBcXFwiPlxcbiAgICA8dGFibGUgY2xhc3M9XFxcInRhYmxlIHRhYmxlLXN0cmlwZWQgdGV4dC1jZW50ZXJcXFwiPlxcbiAgICAgIDx0cj5cXG4gICAgICAgIDx0aCBjbGFzcz1cXFwiY29sLW0tMSB0ZXh0LWNlbnRlclxcXCI+XFxuICAgICAgICAgIDwhLS0gPGxhYmVsIGNsYXNzPVxcXCJtYy1yYWRpb1xcXCI+XFxuICAgICAgICAgICAgPGlucHV0IHR5cGU9XFxcImNoZWNrYm94XFxcIiBuZy1tb2RlbD1cXFwidm0uc2VsZWN0QWxsXFxcIiBuZy1jaGFuZ2U9XFxcInZtLnRvZ2dsZUFsbCgpXFxcIiAvPlxcbiAgICAgICAgICAgIDxpIGNsYXNzPVxcXCJpY29uLWNoZWNrXFxcIj48L2k+XFxuICAgICAgICAgIDwvbGFiZWw+IC0tPlxcbiAgICAgICAgPC90aD5cXG4gICAgICAgIDx0aCBjbGFzcz1cXFwiY29sLW0tMTAgdGV4dC1sZWZ0XFxcIj7moIfpopg8L3RoPlxcbiAgICAgICAgPHRoIGNsYXNzPVxcXCJjb2wtbS0xIHRleHQtY2VudGVyXFxcIj48L3RoPlxcbiAgICAgIDwvdHI+XFxuICAgICAgPHRyIG5nLXJlcGVhdD1cXFwiaXRlbSBpbiB2bS5saXN0XFxcIj5cXG4gICAgICAgIDx0ZD5cXG4gICAgICAgICAgPCEtLSA8bGFiZWwgY2xhc3M9XFxcIm1jLXJhZGlvXFxcIj5cXG4gICAgICAgICAgICA8aW5wdXQgdHlwZT1cXFwiY2hlY2tib3hcXFwiIG5nLW1vZGVsPVxcXCJpdGVtLmNoZWNrZWRcXFwiIG5nLWNoYW5nZT1cXFwidm0uY2hlY2tBbGwoKVxcXCIgLz5cXG4gICAgICAgICAgICA8aSBjbGFzcz1cXFwiaWNvbi1jaGVja1xcXCI+PC9pPlxcbiAgICAgICAgICA8L2xhYmVsPiAtLT5cXG4gICAgICAgIDwvdGQ+XFxuICAgICAgICA8dGQgY2xhc3M9XFxcInRleHQtbGVmdFxcXCI+XFxuICAgICAgICAgIDxhIHVpLXNyZWY9XFxcIm1lc3NhZ2UuZGV0YWlsKHtpZDogaXRlbS5pZH0pXFxcIiBzdHlsZT1cXFwiY29sb3I6ICMzMjMyMzI7XFxcIj5cXG4gICAgICAgICAgICA8c3Ryb25nIG5nLWlmPVxcXCJpdGVtLnN0YXRlID09PSAwXFxcIj57e2l0ZW0udGl0bGV9fTwvc3Ryb25nPlxcbiAgICAgICAgICAgIDxzcGFuIG5nLWlmPVxcXCJpdGVtLnN0YXRlICE9PSAwXFxcIj57e2l0ZW0udGl0bGV9fTwvc3Bhbj5cXG4gICAgICAgICAgPC9hPlxcbiAgICAgICAgPC90ZD5cXG4gICAgICAgIDx0ZD48YSB1aS1zcmVmPVxcXCJtZXNzYWdlLmRldGFpbCh7aWQ6IGl0ZW0uaWR9KVxcXCI+5p+l55yLPGkgY2xhc3M9XFxcImljb24tYW5nbGUtcmlnaHRcXFwiPjwvaT48L2E+PC90ZD5cXG4gICAgICA8L3RyPlxcbiAgICA8L3RhYmxlPlxcbiAgPC9kaXY+XFxuPCEtLSAgIDxkaXY+XFxuICAgIDxidXR0b24gdHlwZT1cXFwiYnV0dG9uXFxcIiBjbGFzcz1cXFwiYnRuIGJ0bi1kZWZhdWx0XFxcIiBuZy1jbGljaz1cXFwidm0ubWFya2VkUmVhZCgpXFxcIj7moIforrDlt7Lor7s8L2J1dHRvbj5cXG4gICAgPGJ1dHRvbiB0eXBlPVxcXCJidXR0b25cXFwiIGNsYXNzPVxcXCJidG4gYnRuLWRhbmdlclxcXCIgbmctY2xpY2s9XFxcInZtLmRlbGV0ZSgpXFxcIj7liKDpmaQ8L2J1dHRvbj5cXG4gIDwvZGl2PiAtLT5cXG5cXG4gIDxtYy1wYWdpbmF0aW9uIHRvdGFsLWl0ZW1zPVxcXCJ2bS5wYWdpbmF0aW9uLmNvdW50XFxcIiBpdGVtcy1wZXItcGFnZT1cXFwidm0ucGFnaW5hdGlvbi5wYWdlU2l6ZVxcXCIgY3VycmVudC1wYWdlPVxcXCJ2bS5wYWdpbmF0aW9uLnBhZ2VcXFwiIHBhZ2UtY2hhbmdlPVxcXCJ2bS5wYWdlQ2hhbmdlZCgpXFxcIj48L21jLXBhZ2luYXRpb24+XFxuXFxuPC9zZWN0aW9uPlxcblwiKTtcbiR0ZW1wbGF0ZUNhY2hlLnB1dChcIm1vZHVsZXMvcHJvY2Vzcy90aXBzL3RlbXBsYXRlLmh0bWxcIixcIjxzZWN0aW9uIGNsYXNzPVxcXCJjb250ZW50LWhlYWRlclxcXCI+XFxuICA8aDQgY2xhc3M9XFxcInRpdGxlXFxcIj7or53mnK/liJfooag8L2g0Plxcbjwvc2VjdGlvbj5cXG5cXG48c2VjdGlvbiBjbGFzcz1cXFwiY29udGVudCBib2R5LWNvbnRlbnQgYm9keS1jb250ZW50LWNvbXBhY3QgYmxvY2stdWkgYmxvY2stdWktbWVzc2FnZS1jdXN0b20gbWVzc2FnZS1saXN0XFxcIiBibG9jay11aT1cXFwibWFpblxcXCI+XFxuICA8ZW1wdHktdGlwIG5nLWlmPVxcXCJ2bS5saXN0Lmxlbmd0aCA9PT0gMFxcXCI+PC9lbXB0eS10aXA+XFxuXFxuICA8ZGl2IGNsYXNzPVxcXCJwYW5lbFxcXCIgbmctaWY9XFxcInZtLmxpc3QubGVuZ3RoID4gMFxcXCI+XFxuICAgIDx0YWJsZSBjbGFzcz1cXFwidGFibGUgdGFibGUtc3RyaXBlZCB0ZXh0LWNlbnRlclxcXCI+XFxuICAgICAgPHRyPlxcbiAgICAgICAgPHRoIGNsYXNzPVxcXCJjb2wtbS0xIHRleHQtY2VudGVyXFxcIj5cXG4gICAgICAgICAgPCEtLSA8bGFiZWwgY2xhc3M9XFxcIm1jLXJhZGlvXFxcIj5cXG4gICAgICAgICAgICA8aW5wdXQgdHlwZT1cXFwiY2hlY2tib3hcXFwiIG5nLW1vZGVsPVxcXCJ2bS5zZWxlY3RBbGxcXFwiIG5nLWNoYW5nZT1cXFwidm0udG9nZ2xlQWxsKClcXFwiIC8+XFxuICAgICAgICAgICAgPGkgY2xhc3M9XFxcImljb24tY2hlY2tcXFwiPjwvaT5cXG4gICAgICAgICAgPC9sYWJlbD4gLS0+XFxuICAgICAgICA8L3RoPlxcbiAgICAgICAgPHRoIGNsYXNzPVxcXCJjb2wtbS0xMCB0ZXh0LWxlZnRcXFwiPuagh+mimDwvdGg+XFxuICAgICAgICA8dGggY2xhc3M9XFxcImNvbC1tLTEgdGV4dC1jZW50ZXJcXFwiPjwvdGg+XFxuICAgICAgPC90cj5cXG4gICAgICA8dHIgbmctcmVwZWF0PVxcXCJpdGVtIGluIHZtLmxpc3RcXFwiPlxcbiAgICAgICAgPHRkPlxcbiAgICAgICAgICA8IS0tIDxsYWJlbCBjbGFzcz1cXFwibWMtcmFkaW9cXFwiPlxcbiAgICAgICAgICAgIDxpbnB1dCB0eXBlPVxcXCJjaGVja2JveFxcXCIgbmctbW9kZWw9XFxcIml0ZW0uY2hlY2tlZFxcXCIgbmctY2hhbmdlPVxcXCJ2bS5jaGVja0FsbCgpXFxcIiAvPlxcbiAgICAgICAgICAgIDxpIGNsYXNzPVxcXCJpY29uLWNoZWNrXFxcIj48L2k+XFxuICAgICAgICAgIDwvbGFiZWw+IC0tPlxcbiAgICAgICAgPC90ZD5cXG4gICAgICAgIDx0ZCBjbGFzcz1cXFwidGV4dC1sZWZ0XFxcIj5cXG4gICAgICAgICAge3tpdGVtLnRpdGxlfX1cXG4gICAgICAgIDwvdGQ+XFxuICAgICAgICA8dGQ+PGEgdWktc3JlZj1cXFwicHJvY2Vzcy5hZGQoe2lkOiBpdGVtLmlkfSlcXFwiPue8lui+kTxpIGNsYXNzPVxcXCJpY29uLWFuZ2xlLXJpZ2h0XFxcIj48L2k+PC9hPjwvdGQ+XFxuICAgICAgPC90cj5cXG4gICAgPC90YWJsZT5cXG4gIDwvZGl2PlxcbjwhLS0gICA8ZGl2PlxcbiAgICA8YnV0dG9uIHR5cGU9XFxcImJ1dHRvblxcXCIgY2xhc3M9XFxcImJ0biBidG4tZGVmYXVsdFxcXCIgbmctY2xpY2s9XFxcInZtLm1hcmtlZFJlYWQoKVxcXCI+5qCH6K6w5bey6K+7PC9idXR0b24+XFxuICAgIDxidXR0b24gdHlwZT1cXFwiYnV0dG9uXFxcIiBjbGFzcz1cXFwiYnRuIGJ0bi1kYW5nZXJcXFwiIG5nLWNsaWNrPVxcXCJ2bS5kZWxldGUoKVxcXCI+5Yig6ZmkPC9idXR0b24+XFxuICA8L2Rpdj4gLS0+XFxuXFxuICA8bWMtcGFnaW5hdGlvbiB0b3RhbC1pdGVtcz1cXFwidm0ucGFnaW5hdGlvbi5jb3VudFxcXCIgaXRlbXMtcGVyLXBhZ2U9XFxcInZtLnBhZ2luYXRpb24ucGFnZVNpemVcXFwiIGN1cnJlbnQtcGFnZT1cXFwidm0ucGFnaW5hdGlvbi5wYWdlXFxcIiBwYWdlLWNoYW5nZT1cXFwidm0ucGFnZUNoYW5nZWQoKVxcXCI+PC9tYy1wYWdpbmF0aW9uPlxcblxcbjwvc2VjdGlvbj5cXG5cIik7XG4kdGVtcGxhdGVDYWNoZS5wdXQoXCJtb2R1bGVzL3N5c2NvbmZpZy90aW1lL2luZGV4Lmh0bWxcIixcIjxzZWN0aW9uIGNsYXNzPVxcXCJjb250ZW50LWhlYWRlciBjbGVhcmZpeFxcXCI+XFxuICAgIDxoND7liLfmlrDml7bpl7Torr7nva48L2g0Plxcbjwvc2VjdGlvbj5cXG48c2VjdGlvbiBjbGFzcz1cXFwiY29udGVudCBib2R5LWNvbnRlbnRcXFwiIGJsb2NrLXVpPVxcXCJtYWluXFxcIj5cXG5cXG4gICAgPGRpdiBjbGFzcz1cXFwiZm9ybS1ob3Jpem9udGFsXFxcIj5cXG4gICAgICAgIDxkaXYgY2xhc3M9XFxcImZvcm0tZ3JvdXBcXFwiPlxcbiAgICAgICAgICAgIDxsYWJlbCBmb3I9XFxcImlucHV0TmFtZVxcXCIgY2xhc3M9XFxcImNvbC1zbS0yIGNvbnRyb2wtbGFiZWxcXFwiPuWIt+aWsOaXtumXtDwvbGFiZWw+XFxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cXFwiY29sLXNtLTJcXFwiPlxcbiAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT1cXFwidGV4dFxcXCIgY2xhc3M9XFxcImZvcm0tY29udHJvbFxcXCIgaWQ9XFxcImlucHV0TmFtZVxcXCIgbmctbW9kZWw9XFxcInZtLmtleVZhbHVlXFxcIiBwbGFjZWhvbGRlcj1cXFwiXFxcIj5cXG4gICAgICAgICAgICA8L2Rpdj5cXG4gICAgICAgIDwvZGl2PlxcbiAgICAgICAgPGRpdiBjbGFzcz1cXFwiZm9ybS1ncm91cFxcXCI+XFxuICAgICAgICAgICAgPGJ1dHRvbiB0eXBlPVxcXCJidXR0b25cXFwiIG5nLWNsaWNrPVxcXCJ2bS5zZXRDb25maWcoKVxcXCIgY2xhc3M9XFxcImJ0biBidG4tc3VjY2Vzc1xcXCI+5o+Q5LqkPC9idXR0b24+XFxuICAgICAgICA8L2Rpdj5cXG4gICAgPC9kaXY+XFxuPC9zZWN0aW9uPlwiKTtcbiR0ZW1wbGF0ZUNhY2hlLnB1dChcIm1vZHVsZXMvYmFuay9saXN0L2luZGV4Lmh0bWxcIixcIjxzZWN0aW9uIGNsYXNzPVxcXCJjb250ZW50LWhlYWRlclxcXCI+XFxuICA8YnV0dG9uIHR5cGU9XFxcImJ1dHRvblxcXCIgY2xhc3M9XFxcImJ0biBidG4tc3VjY2VzcyBwdWxsLXJpZ2h0IG0tbC1zbVxcXCIgc3R5bGU9XFxcInBvc2l0aW9uOiByZWxhdGl2ZTsgei1pbmRleDogMjtcXFwiXFxuICAgIG5nLWNsaWNrPVxcXCJ2bS5hZGRCYW5rKClcXFwiPjxpIGNsYXNzPVxcXCJpY29uLVBsdXNcXFwiPjwvaT4g5re75Yqg5py65p6EXFxuICA8L2J1dHRvbj5cXG5cXG4gIDxidXR0b24gdHlwZT1cXFwiYnV0dG9uXFxcIiBjbGFzcz1cXFwiYnRuIGJ0bi1pbmZvIHB1bGwtcmlnaHRcXFwiIHN0eWxlPVxcXCJwb3NpdGlvbjogcmVsYXRpdmU7IHotaW5kZXg6IDI7XFxcIiBkYXRhLXRvZ2dsZT1cXFwibW9kYWxcXFwiIGRhdGEtdGFyZ2V0PVxcXCIucG9wLXBsYXllclxcXCJcXG4gICAgbmctY2xpY2s9XFxcIiRlbWl0KFxcJ2JhdGNoVXBsb2FkQmFua1xcJyk7XFxcIj48aSBjbGFzcz1cXFwiaWNvbi1QbHVzXFxcIj48L2k+IOaJuemHj+W9leWFpVxcbiAgPC9idXR0b24+XFxuICA8ZGl2IGNsYXNzPVxcXCJvcHRpb25zXFxcIj5cXG4gICAgPGRpdiBjbGFzcz1cXFwib3B0aW9uLWl0ZW0gb3B0aW9uLXRpbWVcXFwiPlxcbiAgICAgIDx1bCBjbGFzcz1cXFwiY2xlYXJmaXhcXFwiPlxcbiAgICAgICAgPGxpPlxcbiAgICAgICAgICA8ZGl2IGNsYXNzPVxcXCJpbnB1dC1ncm91cCBzZWFyY2gtYm94XFxcIj5cXG4gICAgICAgICAgICA8aW5wdXQgbmctbW9kZWw9XFxcInZtLmZpbHRlcnMubmFtZVxcXCIgdHlwZT1cXFwidGV4dFxcXCIgcGxhY2Vob2xkZXI9XFxcIuivt+i+k+acuuaehOWQjeensOafpeivolxcXCIgY2xhc3M9XFxcImZvcm0tY29udHJvbFxcXCJcXG4gICAgICAgICAgICAgICAgICAgIGNvZGU9XFxcIjEzXFxcIiBrZXktZXZlbnQ9XFxcInZtLnJlU2VhcmNoKCk7XFxcIj5cXG4gICAgICAgICAgICA8c3BhbiBjbGFzcz1cXFwiaW5wdXQtZ3JvdXAtYnRuXFxcIj5cXG4gICAgICAgICAgICAgIDxidXR0b24gbmctY2xpY2s9XFxcInZtLnJlU2VhcmNoKClcXFwiIGNsYXNzPVxcXCJidG4gYnRuLWRlZmF1bHQgc2VhcmNoXFxcIiB0eXBlPVxcXCJidXR0b25cXFwiPjxpIGNsYXNzPVxcXCJpY29uLXNlYXJjaFxcXCI+PC9pPjwvYnV0dG9uPlxcbiAgICAgICAgICAgIDwvc3Bhbj5cXG4gICAgICAgICAgPC9kaXY+XFxuICAgICAgICA8L2xpPlxcbiAgICAgIDwvdWw+XFxuICAgIDwvZGl2PlxcbiAgICA8ZGl2IGNsYXNzPVxcXCJvcHRpb24taXRlbSBsYXJnZVxcXCI+XFxuICAgICAgPHNwYW4gY2xhc3M9XFxcIml0ZW0tdGl0bGUgdGV4dC1yaWdodFxcXCI+5py65p6E54q25oCB77yaPC9zcGFuPlxcbiAgICAgIDx1bCBjbGFzcz1cXFwiY2xlYXJmaXhcXFwiPlxcbiAgICAgICAgICA8bGk+XFxuICAgICAgICAgICAgICA8YSBocmVmPVxcXCJqYXZhc2NyaXB0OjtcXFwiIGNsYXNzPVxcXCJidG5cXFwiIG5nLWNsYXNzPVxcXCJ7XFwnYnRuLWRlZmF1bHRcXCc6IHZtLmZpbHRlcnMuc3RhdGUsIFxcJ2J0bi10b2dnbGVcXCc6ICF2bS5maWx0ZXJzLnN0YXRlLCBcXCdhY3RpdmVcXCc6ICF2bS5maWx0ZXJzLnN0YXRlfVxcXCIgbmctY2xpY2s9XFxcInZtLnN3aXRjaChcXCdzdGF0ZVxcJylcXFwiPlxcbiAgICAgICAgICAgICAgICAgIOWFqOmDqFxcbiAgICAgICAgICAgICAgPC9hPlxcbiAgICAgICAgICA8L2xpPlxcbiAgICAgICAgICA8bGkgbmctcmVwZWF0PVxcXCJpdGVtIGluIHZtLmJhbmtTdGF0ZUxpc3RcXFwiPlxcbiAgICAgICAgICAgICAgPGEgaHJlZj1cXFwiamF2YXNjcmlwdDo7XFxcIiBjbGFzcz1cXFwiYnRuXFxcIiBuZy1jbGFzcz1cXFwie1xcJ2J0bi1kZWZhdWx0XFwnOiB2bS5maWx0ZXJzLnN0YXRlICE9IGl0ZW0udmFsdWUsIFxcJ2J0bi10b2dnbGVcXCc6IHZtLmZpbHRlcnMuc3RhdGUgPT0gaXRlbS52YWx1ZSwgXFwnYWN0aXZlXFwnOiB2bS5maWx0ZXJzLnN0YXRlID09IGl0ZW0udmFsdWV9XFxcIiBuZy1jbGljaz1cXFwidm0uc3dpdGNoKFxcJ3N0YXRlXFwnLCBpdGVtLnZhbHVlKVxcXCI+XFxuICAgICAgICAgICAgICAgICAge3sgaXRlbS5sYWJlbCB9fVxcbiAgICAgICAgICAgICAgPC9hPlxcbiAgICAgICAgICA8L2xpPlxcbiAgICAgIDwvdWw+XFxuICAgIDwvZGl2PlxcbiAgICA8ZGl2PlxcbiAgICAgIDxtYy1iYXRjaC11cGxvYWQtYmFuaz48L21jLWJhdGNoLXVwbG9hZC1iYW5rPlxcbiAgICA8L2Rpdj5cXG48L3NlY3Rpb24+XFxuXFxuPHNlY3Rpb24gY2xhc3M9XFxcImNvbnRlbnQgYm9keS1jb250ZW50IGJvZHktY29udGVudC1jb21wYWN0IGJsb2NrLXVpIGJsb2NrLXVpLW1lc3NhZ2UtY3VzdG9tXFxcIiBibG9jay11aT1cXFwibWFpblxcXCI+XFxuICA8ZW1wdHktdGlwIG5nLWlmPVxcXCJ2bS5saXN0Lmxlbmd0aCA9PT0gMFxcXCI+PC9lbXB0eS10aXA+XFxuXFxuICA8ZGl2IGNsYXNzPVxcXCJwYW5lbFxcXCIgbmctaWY9XFxcInZtLmxpc3QubGVuZ3RoID4gMFxcXCI+XFxuICAgIDx0YWJsZSBjbGFzcz1cXFwidGFibGUgdGFibGUtc3RyaXBlZCB0ZXh0LWNlbnRlclxcXCI+XFxuICAgICAgPHRyPlxcbiAgICAgICAgPHRoIGNsYXNzPVxcXCJjb2wtbS0xIHRleHQtY2VudGVyXFxcIj5pZDwvdGg+XFxuICAgICAgICA8dGggY2xhc3M9XFxcImNvbC1tLTEgdGV4dC1jZW50ZXJcXFwiPuacuuaehDwvdGg+XFxuICAgICAgICA8dGggY2xhc3M9XFxcImNvbC1tLTEgdGV4dC1jZW50ZXJcXFwiPuWcsOWdgDwvdGg+XFxuICAgICAgICA8dGggY2xhc3M9XFxcImNvbC1tLTEgdGV4dC1jZW50ZXJcXFwiPuiBlOezu+eUteivnTwvdGg+XFxuICAgICAgICA8dGggY2xhc3M9XFxcImNvbC1tLTEgdGV4dC1jZW50ZXJcXFwiPuS4iue6p+acuuaehDwvdGg+XFxuICAgICAgICA8dGggY2xhc3M9XFxcImNvbC1tLTEgdGV4dC1jZW50ZXJcXFwiIGNvbHNwYW49XFxcIjNcXFwiPuaTjeS9nDwvdGg+XFxuICAgICAgPC90cj5cXG4gICAgICA8dHIgbmctcmVwZWF0PVxcXCJpdGVtIGluIHZtLmxpc3RcXFwiPlxcbiAgICAgICAgPHRkPnt7aXRlbS5pZH19PC90ZD5cXG4gICAgICAgIDx0ZD57e2l0ZW0ubmFtZX19PC90ZD5cXG4gICAgICAgIDx0ZD57e2l0ZW0uYWRkcmVzc319PC90ZD5cXG4gICAgICAgIDx0ZD57e2l0ZW0ucGhvbmV9fTwvdGQ+XFxuICAgICAgICA8dGQ+e3tpdGVtLnN1cGVyaW9yX25hbWV9fTwvdGQ+XFxuICAgICAgICA8IS0tIDx0ZCB3aWR0aD1cXFwiOTBweFxcXCI+XFxuICAgICAgICAgIDxhIGhyZWY9XFxcImphdmFzY3JpcHQ6dm9pZCgwKVxcXCIgbmctY2xpY2s9XFxcInZtLnNldE1hcChpdGVtKVxcXCI+6YCJ5Y+W5Zyw5Z2APC9hPlxcbiAgICAgICAgPC90ZD4gLS0+XFxuICAgICAgICA8dGQgd2lkdGg9XFxcIjkwcHhcXFwiPlxcbiAgICAgICAgICA8YSBocmVmPVxcXCJqYXZhc2NyaXB0OnZvaWQoMClcXFwiIG5nLWNsaWNrPVxcXCJ2bS5zZXROYW1lKGl0ZW0pXFxcIj7mm7TmlLnotYTmlpk8L2E+XFxuICAgICAgICA8L3RkPlxcbiAgICAgICAgPHRkIHdpZHRoPVxcXCIxMTBweFxcXCI+XFxuICAgICAgICAgIDxhIGhyZWY9XFxcImphdmFzY3JpcHQ6dm9pZCgwKVxcXCIgbmctY2xpY2s9XFxcInZtLmFzc2lnbkJyYW5jaChpdGVtKVxcXCI+6YCJ5oup5LiK57qn5py65p6EPC9hPlxcbiAgICAgICAgPC90ZD5cXG4gICAgICAgIDx0ZCB3aWR0aD1cXFwiOTBweFxcXCI+XFxuICAgICAgICAgIDxhIGhyZWY9XFxcImphdmFzY3JpcHQ6dm9pZCgwKVxcXCIgY2xhc3M9XFxcInRleHQtZGFuZ2VyXFxcIiBuZy1zaG93PVxcXCJpdGVtLnN0YXRlID09IDFcXFwiIG5nLWNsaWNrPVxcXCJ2bS5kZWxldGUoaXRlbSlcXFwiPuWIoOmZpDwvYT5cXG4gICAgICAgICAgPGEgaHJlZj1cXFwiamF2YXNjcmlwdDp2b2lkKDApXFxcIiBjbGFzcz1cXFwidGV4dC1kYW5nZXJcXFwiIG5nLXNob3c9XFxcIml0ZW0uc3RhdGUgPT0gM1xcXCIgbmctY2xpY2s9XFxcInZtLnJlZGVsZXRlKGl0ZW0pXFxcIj7lj5bmtojliKDpmaQ8L2E+XFxuICAgICAgICA8L3RkPlxcbiAgICAgIDwvdHI+XFxuICAgIDwvdGFibGU+XFxuICA8L2Rpdj5cXG5cXG48L3NlY3Rpb24+XFxuXFxuXCIpO1xuJHRlbXBsYXRlQ2FjaGUucHV0KFwibW9kdWxlcy9hY2NvdW50L21vZGFscy9hZGQvdGVtcGxhdGUuaHRtbFwiLFwiPGRpdiBjbGFzcz1cXFwibW9kYWwtaGVhZGVyXFxcIj5cXG4gIDwhLS0gPGJ1dHRvbiB0eXBlPVxcXCJidXR0b25cXFwiIGNsYXNzPVxcXCJjbG9zZVxcXCIgZGF0YS1kaXNtaXNzPVxcXCJtb2RhbFxcXCIgYXJpYS1sYWJlbD1cXFwiQ2xvc2VcXFwiIG5nLWNsaWNrPVxcXCJ2bS5jYW5jZWwoKTtcXFwiPlxcbiAgICA8c3BhbiBhcmlhLWhpZGRlbj1cXFwidHJ1ZVxcXCI+JnRpbWVzOzwvc3Bhbj5cXG4gIDwvYnV0dG9uPiAtLT5cXG4gIDxoNCBjbGFzcz1cXFwibW9kYWwtdGl0bGVcXFwiPua3u+WKoOeUqOaItzwvaDQ+XFxuPC9kaXY+XFxuPGRpdiBjbGFzcz1cXFwibW9kYWwtYm9keVxcXCI+XFxuICA8Zm9ybSBjbGFzcz1cXFwiZm9ybS1ob3Jpem9udGFsXFxcIiBuYW1lPVxcXCJGb3JtXFxcIj5cXG4gICAgPGRpdiBjbGFzcz1cXFwiZm9ybS1ncm91cCBjbGVhcmZpeFxcXCI+XFxuICAgICAgPGxhYmVsIGZvcj1cXFwibm90ZUlucHV0XFxcIiBjbGFzcz1cXFwiY29sLXNtLTQgY29udHJvbC1sYWJlbFxcXCI+55yf5a6e5aeT5ZCN77yaPC9sYWJlbD5cXG4gICAgICA8ZGl2IGNsYXNzPVxcXCJjb2wtc20tNlxcXCI+XFxuICAgICAgICA8aW5wdXQgdHlwZT1cXFwidGV4dFxcXCIgY2xhc3M9XFxcImZvcm0tY29udHJvbFxcXCIgbmctbW9kZWw9XFxcInZtLmlucHV0SW5mby50cnVlX25hbWVcXFwiIHBsYWNlaG9sZGVyPVxcXCLor7fovpPlhaVcXFwiXFxuICAgICAgICAgIHZhbGlkYXRvcj1cXFwicmVxdWlyZWRcXFwiPlxcbiAgICAgIDwvZGl2PlxcbiAgICA8L2Rpdj5cXG4gICAgPGRpdiBjbGFzcz1cXFwiZm9ybS1ncm91cCBjbGVhcmZpeFxcXCI+XFxuICAgICAgPGxhYmVsIGZvcj1cXFwibm90ZUlucHV0XFxcIiBjbGFzcz1cXFwiY29sLXNtLTQgY29udHJvbC1sYWJlbFxcXCI+5omL5py65Y+356CB77yaPC9sYWJlbD5cXG4gICAgICA8ZGl2IGNsYXNzPVxcXCJjb2wtc20tNlxcXCI+XFxuICAgICAgICA8aW5wdXQgdHlwZT1cXFwidGV4dFxcXCIgY2xhc3M9XFxcImZvcm0tY29udHJvbFxcXCIgbmctbW9kZWw9XFxcInZtLmlucHV0SW5mby5waG9uZVxcXCIgcGxhY2Vob2xkZXI9XFxcIuivt+i+k+WFpVxcXCJcXG4gICAgICAgICAgdmFsaWRhdG9yPVxcXCJyZXF1aXJlZFxcXCIgYXV0by1jb21wbGV0ZT1cXFwidm0uYXV0b0NvbXBsZXRlT3B0aW9uc1xcXCI+XFxuICAgICAgPC9kaXY+XFxuICAgIDwvZGl2PlxcbiAgICA8ZGl2IGNsYXNzPVxcXCJmb3JtLWdyb3VwIGNsZWFyZml4XFxcIj5cXG4gICAgICA8bGFiZWwgZm9yPVxcXCJub3RlSW5wdXRcXFwiIGNsYXNzPVxcXCJjb2wtc20tNCBjb250cm9sLWxhYmVsXFxcIj7op5LoibLvvJo8L2xhYmVsPlxcbiAgICAgIDxkaXYgY2xhc3M9XFxcImJ0bi1ncm91cCBjb2wtc20tMlxcXCI+XFxuICAgICAgICA8YnV0dG9uIHR5cGU9XFxcImJ1dHRvblxcXCIgY2xhc3M9XFxcImJ0biBidG4tZGVmYXVsdCBkcm9wZG93bi10b2dnbGVcXFwiIGRhdGEtdG9nZ2xlPVxcXCJkcm9wZG93blxcXCIgYXJpYS1oYXNwb3B1cD1cXFwidHJ1ZVxcXCIgYXJpYS1leHBhbmRlZD1cXFwiZmFsc2VcXFwiPlxcbiAgICAgICAgICB7e3ZtLmlucHV0SW5mby5yb2xlX25hbWV9fVxcbiAgICAgICAgICA8c3BhbiBjbGFzcz1cXFwiY2FyZXRcXFwiPjwvc3Bhbj5cXG4gICAgICAgIDwvYnV0dG9uPlxcbiAgICAgICAgPHVsIGNsYXNzPVxcXCJkcm9wZG93bi1tZW51XFxcIj5cXG4gICAgICAgICAgPGxpIG5nLXJlcGVhdD1cXFwicm9sZSBpbiB2bS5yb2xlTGlzdFxcXCI+PGEgbmctY2xpY2s9XFxcInZtLmlucHV0SW5mby5yb2xlX25hbWU9cm9sZS5uYW1lO3ZtLmlucHV0SW5mby5yb2xlPXJvbGUudmFsdWVcXFwiIGhyZWY9XFxcImphdmFzY3JpcHQ6dm9pZCgwKVxcXCI+e3tyb2xlLm5hbWV9fTwvYT48L2xpPlxcbiAgICAgICAgPC91bD5cXG4gICAgICA8L2Rpdj5cXG4gICAgPC9kaXY+XFxuICAgIDxkaXYgY2xhc3M9XFxcImZvcm0tZ3JvdXAgY2xlYXJmaXhcXFwiPlxcbiAgICAgIDxsYWJlbCBmb3I9XFxcIm5vdGVJbnB1dFxcXCIgY2xhc3M9XFxcImNvbC1zbS00IGNvbnRyb2wtbGFiZWxcXFwiPuaJgOWxnuacuuaehO+8mjwvbGFiZWw+XFxuICAgICAgPGRpdiBjbGFzcz1cXFwiYnRuLWdyb3VwIGNvbC1zbS02XFxcIj5cXG4gICAgICAgIDxidXR0b24gdHlwZT1cXFwiYnV0dG9uXFxcIiBjbGFzcz1cXFwiYnRuIGJ0bi1kZWZhdWx0IGRyb3Bkb3duLXRvZ2dsZVxcXCIgZGF0YS10b2dnbGU9XFxcImRyb3Bkb3duXFxcIiBhcmlhLWhhc3BvcHVwPVxcXCJ0cnVlXFxcIiBhcmlhLWV4cGFuZGVkPVxcXCJmYWxzZVxcXCI+XFxuICAgICAgICAgIHt7dm0uaW5wdXRJbmZvLmJhbmtfbmFtZX19XFxuICAgICAgICAgIDxzcGFuIGNsYXNzPVxcXCJjYXJldFxcXCI+PC9zcGFuPlxcbiAgICAgICAgPC9idXR0b24+XFxuICAgICAgICA8dWwgY2xhc3M9XFxcImRyb3Bkb3duLW1lbnVcXFwiIHN0eWxlPVxcXCJoZWlnaHQ6MjEwcHg7IG92ZXJmbG93OnNjcm9sbDtcXFwiPlxcbiAgICAgICAgICA8bGkgbmctcmVwZWF0PVxcXCJiYW5rIGluIHZtLmJhbmtMaXN0XFxcIj48YSBuZy1jbGljaz1cXFwidm0uaW5wdXRJbmZvLmJhbmtfbmFtZT1iYW5rLm5hbWU7dm0uaW5wdXRJbmZvLmJhbmtfaWQ9YmFuay5pZFxcXCIgaHJlZj1cXFwiamF2YXNjcmlwdDp2b2lkKDApXFxcIj57e2JhbmsubmFtZX19PC9hPjwvbGk+XFxuICAgICAgICA8L3VsPlxcbiAgICAgIDwvZGl2PlxcbiAgICA8L2Rpdj5cXG4gIDwvZm9ybT5cXG4gIDxkaXYgY2xhc3M9XFxcIm1vZGFsLWZvb3RlclxcXCI+XFxuICAgIDxidXR0b24gdHlwZT1cXFwiYnV0dG9uXFxcIiBjbGFzcz1cXFwiYnRuIGJ0bi1kZWZhdWx0IGJ0bi1zbVxcXCIgbmctY2xpY2s9XFxcInZtLmNhbmNlbCgpXFxcIj7lj5bmtog8L2J1dHRvbj5cXG4gICAgPGJ1dHRvbiB0eXBlPVxcXCJidXR0b25cXFwiIGNsYXNzPVxcXCJidG4gYnRuLXN1Y2Nlc3MgYnRuLXNtXFxcIiBuZy1jbGljaz1cXFwidm0uc3VibWl0KEZvcm0pXFxcIj4g5L+d5a2YPC9idXR0b24+XFxuICA8L2Rpdj5cXG48L2Rpdj5cXG5cIik7XG4kdGVtcGxhdGVDYWNoZS5wdXQoXCJtb2R1bGVzL2FjY291bnQvbW9kYWxzL2JyYW5jaC90ZW1wbGF0ZS5odG1sXCIsXCI8ZGl2IGNsYXNzPVxcXCJtb2RhbC1oZWFkZXJcXFwiPlxcbiAgPCEtLSA8YnV0dG9uIHR5cGU9XFxcImJ1dHRvblxcXCIgY2xhc3M9XFxcImNsb3NlXFxcIiBkYXRhLWRpc21pc3M9XFxcIm1vZGFsXFxcIiBhcmlhLWxhYmVsPVxcXCJDbG9zZVxcXCIgbmctY2xpY2s9XFxcInZtLmNhbmNlbCgpO1xcXCI+XFxuICAgIDxzcGFuIGFyaWEtaGlkZGVuPVxcXCJ0cnVlXFxcIj4mdGltZXM7PC9zcGFuPlxcbiAgPC9idXR0b24+IC0tPlxcbiAgPGg0IGNsYXNzPVxcXCJtb2RhbC10aXRsZVxcXCI+5YiG6YWNPC9oND5cXG48L2Rpdj5cXG48ZGl2IGNsYXNzPVxcXCJtb2RhbC1ib2R5XFxcIj5cXG4gIDxmb3JtIGNsYXNzPVxcXCJmb3JtLWhvcml6b250YWxcXFwiIG5hbWU9XFxcIkZvcm1cXFwiPlxcbiAgICA8ZGl2IGNsYXNzPVxcXCJmb3JtLWdyb3VwIGNsZWFyZml4XFxcIj5cXG4gICAgICA8bGFiZWwgZm9yPVxcXCJzZWxlY3RfbWFpblxcXCIgY2xhc3M9XFxcImNvbC1zbS0xMiB0ZXh0LWNlbnRlclxcXCI+6YCJ5oup5pSv6KGMPC9sYWJlbD5cXG4gICAgPC9kaXY+XFxuICAgIDxkaXYgY2xhc3M9XFxcImZvcm0tZ3JvdXAgY2xlYXJmaXhcXFwiPlxcbiAgICAgIDxkaXYgY2xhc3M9XFxcImNvbC1zbS0xMlxcXCI+XFxuICAgICAgICA8c2VsZWN0IG5hbWU9XFxcInNlbGVjdEJyYW5jaFxcXCIgY2xhc3M9XFxcImZvcm0tY29udHJvbCBjLXNlbGVjdFxcXCIgXFxuICAgICAgICAgIG5nLW9wdGlvbnM9XFxcIml0ZW0uaWQgYXMgaXRlbS5uYW1lIGZvciBpdGVtIGluIHZtLmxpc3RcXFwiIG5nLW1vZGVsPVxcXCJ2bS5pbnB1dEluZm8uYnJhbmNoXFxcIiBcXG4gICAgICAgICAgcGxhY2Vob2xkZXI9XFxcIuivt+mAieaLqVxcXCIgdmFsaWRhdG9yPVxcXCJyZXF1aXJlZFxcXCIgc2l6ZT1cXFwiMTBcXFwiPlxcbiAgICAgICAgICA8b3B0aW9uIHZhbHVlPVxcXCJcXFwiPuivt+mAieaLqTwvb3B0aW9uPlxcbiAgICAgICAgPC9zZWxlY3Q+XFxuICAgICAgPC9kaXY+XFxuICAgIDwvZGl2PlxcbiAgPC9mb3JtPlxcbiAgPGRpdiBjbGFzcz1cXFwibW9kYWwtZm9vdGVyXFxcIj5cXG4gICAgPGJ1dHRvbiB0eXBlPVxcXCJidXR0b25cXFwiIGNsYXNzPVxcXCJidG4gYnRuLWRlZmF1bHQgYnRuLXNtXFxcIiBuZy1jbGljaz1cXFwidm0uY2FuY2VsKClcXFwiPuWPlua2iDwvYnV0dG9uPlxcbiAgICA8YnV0dG9uIHR5cGU9XFxcImJ1dHRvblxcXCIgY2xhc3M9XFxcImJ0biBidG4tc3VjY2VzcyBidG4tc21cXFwiIG5nLWNsaWNrPVxcXCJ2bS5zdWJtaXQoRm9ybSlcXFwiPiDnoa7lrpo8L2J1dHRvbj5cXG4gIDwvZGl2PlxcbjwvZGl2PlxcblwiKTtcbiR0ZW1wbGF0ZUNhY2hlLnB1dChcIm1vZHVsZXMvZGVtby9tb2RhbHMvZWRpdC90ZW1wbGF0ZS5odG1sXCIsXCI8ZGl2IGNsYXNzPVxcXCJtb2RhbC1oZWFkZXJcXFwiPlxcbiAgPCEtLSA8YnV0dG9uIHR5cGU9XFxcImJ1dHRvblxcXCIgY2xhc3M9XFxcImNsb3NlXFxcIiBkYXRhLWRpc21pc3M9XFxcIm1vZGFsXFxcIiBhcmlhLWxhYmVsPVxcXCJDbG9zZVxcXCIgbmctY2xpY2s9XFxcInZtLmNhbmNlbCgpO1xcXCI+XFxuICAgIDxzcGFuIGFyaWEtaGlkZGVuPVxcXCJ0cnVlXFxcIj4mdGltZXM7PC9zcGFuPlxcbiAgPC9idXR0b24+IC0tPlxcbiAgPGg0IGNsYXNzPVxcXCJtb2RhbC10aXRsZVxcXCI+6K6+572uPC9oND5cXG48L2Rpdj5cXG48ZGl2IGNsYXNzPVxcXCJtb2RhbC1ib2R5XFxcIj5cXG4gIDxmb3JtIGNsYXNzPVxcXCJmb3JtLWhvcml6b250YWxcXFwiIG5hbWU9XFxcIkZvcm1cXFwiPlxcbiAgICA8ZGl2IGNsYXNzPVxcXCJmb3JtLWdyb3VwIGNsZWFyZml4XFxcIj5cXG4gICAgICA8bGFiZWwgZm9yPVxcXCJub3RlSW5wdXRcXFwiIGNsYXNzPVxcXCJjb2wtc20tNCBjb250cm9sLWxhYmVsXFxcIj5MYWJlbO+8mjwvbGFiZWw+XFxuICAgICAgPGRpdiBjbGFzcz1cXFwiY29sLXNtLTVcXFwiPlxcbiAgICAgICAgPGlucHV0IHR5cGU9XFxcInRleHRcXFwiIGNsYXNzPVxcXCJmb3JtLWNvbnRyb2xcXFwiIG5nLW1vZGVsPVxcXCJ2bS5pbmZvLmlucHV0XFxcIiBwbGFjZWhvbGRlcj1cXFwi6K+36L6T5YWlXFxcIlxcbiAgICAgICAgICB2YWxpZGF0b3I9XFxcInJlcXVpcmVkXFxcIj5cXG4gICAgICA8L2Rpdj5cXG4gICAgPC9kaXY+XFxuICA8L2Zvcm0+XFxuICA8ZGl2IGNsYXNzPVxcXCJtb2RhbC1mb290ZXJcXFwiPlxcbiAgICA8YnV0dG9uIHR5cGU9XFxcImJ1dHRvblxcXCIgY2xhc3M9XFxcImJ0biBidG4tZGVmYXVsdCBidG4tc21cXFwiIG5nLWNsaWNrPVxcXCJ2bS5jYW5jZWwoKVxcXCI+5Y+W5raIPC9idXR0b24+XFxuICAgIDxidXR0b24gdHlwZT1cXFwiYnV0dG9uXFxcIiBjbGFzcz1cXFwiYnRuIGJ0bi1zdWNjZXNzIGJ0bi1zbVxcXCIgbmctY2xpY2s9XFxcInZtLnN1Ym1pdChGb3JtKVxcXCI+IOS/neWtmDwvYnV0dG9uPlxcbiAgPC9kaXY+XFxuPC9kaXY+XFxuXCIpO1xuJHRlbXBsYXRlQ2FjaGUucHV0KFwibW9kdWxlcy9lbnRlcnByaXNlL21vZGFscy9hZGQvdGVtcGxhdGUuaHRtbFwiLFwiPGRpdiBjbGFzcz1cXFwibW9kYWwtaGVhZGVyXFxcIj5cXG4gIDwhLS0gPGJ1dHRvbiB0eXBlPVxcXCJidXR0b25cXFwiIGNsYXNzPVxcXCJjbG9zZVxcXCIgZGF0YS1kaXNtaXNzPVxcXCJtb2RhbFxcXCIgYXJpYS1sYWJlbD1cXFwiQ2xvc2VcXFwiIG5nLWNsaWNrPVxcXCJ2bS5jYW5jZWwoKTtcXFwiPlxcbiAgICA8c3BhbiBhcmlhLWhpZGRlbj1cXFwidHJ1ZVxcXCI+JnRpbWVzOzwvc3Bhbj5cXG4gIDwvYnV0dG9uPiAtLT5cXG4gIDxoNCBjbGFzcz1cXFwibW9kYWwtdGl0bGVcXFwiPua3u+WKoOS8geS4mjwvaDQ+XFxuPC9kaXY+XFxuPGRpdiBjbGFzcz1cXFwibW9kYWwtYm9keVxcXCI+XFxuICA8Zm9ybSBjbGFzcz1cXFwiZm9ybS1ob3Jpem9udGFsXFxcIiBuYW1lPVxcXCJGb3JtXFxcIj5cXG4gICAgPGRpdiBjbGFzcz1cXFwiZm9ybS1ncm91cCBjbGVhcmZpeFxcXCI+XFxuICAgICAgPGxhYmVsIGZvcj1cXFwibm90ZUlucHV0XFxcIiBjbGFzcz1cXFwiY29sLXNtLTQgY29udHJvbC1sYWJlbFxcXCI+5LyB5Lia5ZCN56ew77yaPC9sYWJlbD5cXG4gICAgICA8ZGl2IGNsYXNzPVxcXCJjb2wtc20tNlxcXCI+XFxuICAgICAgICA8aW5wdXQgdHlwZT1cXFwidGV4dFxcXCIgY2xhc3M9XFxcImZvcm0tY29udHJvbFxcXCIgbmctbW9kZWw9XFxcInZtLmlucHV0SW5mby5uYW1lXFxcIiBwbGFjZWhvbGRlcj1cXFwi6K+36L6T5YWlXFxcIlxcbiAgICAgICAgICB2YWxpZGF0b3I9XFxcInJlcXVpcmVkXFxcIj5cXG4gICAgICA8L2Rpdj5cXG4gICAgPC9kaXY+XFxuICA8L2Zvcm0+XFxuICA8ZGl2IGNsYXNzPVxcXCJtb2RhbC1mb290ZXJcXFwiPlxcbiAgICA8YnV0dG9uIHR5cGU9XFxcImJ1dHRvblxcXCIgY2xhc3M9XFxcImJ0biBidG4tZGVmYXVsdCBidG4tc21cXFwiIG5nLWNsaWNrPVxcXCJ2bS5jYW5jZWwoKVxcXCI+5Y+W5raIPC9idXR0b24+XFxuICAgIDxidXR0b24gdHlwZT1cXFwiYnV0dG9uXFxcIiBjbGFzcz1cXFwiYnRuIGJ0bi1zdWNjZXNzIGJ0bi1zbVxcXCIgbmctY2xpY2s9XFxcInZtLnN1Ym1pdChGb3JtKVxcXCI+IOS/neWtmDwvYnV0dG9uPlxcbiAgPC9kaXY+XFxuPC9kaXY+XFxuXCIpO1xuJHRlbXBsYXRlQ2FjaGUucHV0KFwibW9kdWxlcy9lbnRlcnByaXNlL21vZGFscy9icmFuY2gvdGVtcGxhdGUuaHRtbFwiLFwiPGRpdiBjbGFzcz1cXFwibW9kYWwtaGVhZGVyXFxcIj5cXG4gIDwhLS0gPGJ1dHRvbiB0eXBlPVxcXCJidXR0b25cXFwiIGNsYXNzPVxcXCJjbG9zZVxcXCIgZGF0YS1kaXNtaXNzPVxcXCJtb2RhbFxcXCIgYXJpYS1sYWJlbD1cXFwiQ2xvc2VcXFwiIG5nLWNsaWNrPVxcXCJ2bS5jYW5jZWwoKTtcXFwiPlxcbiAgICA8c3BhbiBhcmlhLWhpZGRlbj1cXFwidHJ1ZVxcXCI+JnRpbWVzOzwvc3Bhbj5cXG4gIDwvYnV0dG9uPiAtLT5cXG4gIDxoNCBjbGFzcz1cXFwibW9kYWwtdGl0bGVcXFwiPuWIhumFjeacuuaehDwvaDQ+XFxuPC9kaXY+XFxuPGRpdiBjbGFzcz1cXFwibW9kYWwtYm9keVxcXCI+XFxuICA8Zm9ybSBjbGFzcz1cXFwiZm9ybS1ob3Jpem9udGFsXFxcIiBuYW1lPVxcXCJGb3JtXFxcIj5cXG4gICAgPGRpdiBjbGFzcz1cXFwiZm9ybS1ncm91cCBjbGVhcmZpeFxcXCI+XFxuICAgICAgPGxhYmVsIGZvcj1cXFwic2VsZWN0X21haW5cXFwiIGNsYXNzPVxcXCJjb2wtc20tMTIgdGV4dC1jZW50ZXJcXFwiPumAieaLqeacuuaehDwvbGFiZWw+XFxuICAgIDwvZGl2PlxcbiAgICA8ZGl2IGNsYXNzPVxcXCJmb3JtLWdyb3VwIGNsZWFyZml4XFxcIj5cXG4gICAgICA8ZGl2IGNsYXNzPVxcXCJjb2wtc20tMTJcXFwiPlxcbiAgICAgICAgPHNlbGVjdCBuYW1lPVxcXCJzZWxlY3RCcmFuY2hcXFwiIGNsYXNzPVxcXCJmb3JtLWNvbnRyb2wgYy1zZWxlY3RcXFwiIFxcbiAgICAgICAgICBuZy1vcHRpb25zPVxcXCJpdGVtLmlkIGFzIGl0ZW0ubmFtZSBmb3IgaXRlbSBpbiB2bS5saXN0XFxcIiBuZy1tb2RlbD1cXFwidm0uaW5wdXRJbmZvLmJyYW5jaFxcXCIgXFxuICAgICAgICAgIHBsYWNlaG9sZGVyPVxcXCLor7fpgInmi6lcXFwiIHZhbGlkYXRvcj1cXFwicmVxdWlyZWRcXFwiIHNpemU9XFxcIjEwXFxcIj5cXG4gICAgICAgICAgPG9wdGlvbiB2YWx1ZT1cXFwiXFxcIj7or7fpgInmi6k8L29wdGlvbj5cXG4gICAgICAgIDwvc2VsZWN0PlxcbiAgICAgIDwvZGl2PlxcbiAgICA8L2Rpdj5cXG4gIDwvZm9ybT5cXG4gIDxkaXYgY2xhc3M9XFxcIm1vZGFsLWZvb3RlclxcXCI+XFxuICAgIDxidXR0b24gdHlwZT1cXFwiYnV0dG9uXFxcIiBjbGFzcz1cXFwiYnRuIGJ0bi1kZWZhdWx0IGJ0bi1zbVxcXCIgbmctY2xpY2s9XFxcInZtLmNhbmNlbCgpXFxcIj7lj5bmtog8L2J1dHRvbj5cXG4gICAgPGJ1dHRvbiB0eXBlPVxcXCJidXR0b25cXFwiIGNsYXNzPVxcXCJidG4gYnRuLXN1Y2Nlc3MgYnRuLXNtXFxcIiBuZy1jbGljaz1cXFwidm0uc3VibWl0KEZvcm0pXFxcIj4g56Gu5a6aPC9idXR0b24+XFxuICA8L2Rpdj5cXG48L2Rpdj5cXG5cIik7XG4kdGVtcGxhdGVDYWNoZS5wdXQoXCJtb2R1bGVzL2VudGVycHJpc2UvbW9kYWxzL21hbmFnZS90ZW1wbGF0ZS5odG1sXCIsXCI8ZGl2IGNsYXNzPVxcXCJtb2RhbC1oZWFkZXJcXFwiPlxcbiAgPCEtLSA8YnV0dG9uIHR5cGU9XFxcImJ1dHRvblxcXCIgY2xhc3M9XFxcImNsb3NlXFxcIiBkYXRhLWRpc21pc3M9XFxcIm1vZGFsXFxcIiBhcmlhLWxhYmVsPVxcXCJDbG9zZVxcXCIgbmctY2xpY2s9XFxcInZtLmNhbmNlbCgpO1xcXCI+XFxuICAgIDxzcGFuIGFyaWEtaGlkZGVuPVxcXCJ0cnVlXFxcIj4mdGltZXM7PC9zcGFuPlxcbiAgPC9idXR0b24+IC0tPlxcbiAgPGg0IGNsYXNzPVxcXCJtb2RhbC10aXRsZVxcXCI+5YiG6YWN5a6i5oi357uP55CGPC9oND5cXG48L2Rpdj5cXG48ZGl2IGNsYXNzPVxcXCJtb2RhbC1ib2R5XFxcIj5cXG4gIDxmb3JtIGNsYXNzPVxcXCJmb3JtLWhvcml6b250YWxcXFwiIG5hbWU9XFxcIkZvcm1cXFwiPlxcbiAgICA8ZGl2IGNsYXNzPVxcXCJmb3JtLWdyb3VwIGNsZWFyZml4XFxcIj5cXG4gICAgICA8bGFiZWwgZm9yPVxcXCJzZWxlY3RfbWFpblxcXCIgY2xhc3M9XFxcImNvbC1zbS02IHRleHQtY2VudGVyXFxcIj7kuLvnkIY8L2xhYmVsPlxcbiAgICAgIDxsYWJlbCBmb3I9XFxcInNlbGVjdF92aWNlXFxcIiBjbGFzcz1cXFwiY29sLXNtLTYgdGV4dC1jZW50ZXJcXFwiPuWNj+eQhjwvbGFiZWw+XFxuICAgIDwvZGl2PlxcbiAgICA8ZGl2IGNsYXNzPVxcXCJmb3JtLWdyb3VwIGNsZWFyZml4XFxcIj5cXG4gICAgICA8ZGl2IGNsYXNzPVxcXCJjb2wtc20tNlxcXCI+XFxuICAgICAgICA8c2VsZWN0IG5hbWU9XFxcInNlbGVjdE1haW5cXFwiIGNsYXNzPVxcXCJmb3JtLWNvbnRyb2wgYy1zZWxlY3RcXFwiIFxcbiAgICAgICAgICBuZy1vcHRpb25zPVxcXCJpdGVtLmlkIGFzIGl0ZW0udHJ1ZV9uYW1lIGZvciBpdGVtIGluIHZtLmxpc3RcXFwiIG5nLW1vZGVsPVxcXCJ2bS5pbnB1dEluZm8ubWFpblxcXCIgXFxuICAgICAgICAgIHBsYWNlaG9sZGVyPVxcXCLor7fpgInmi6lcXFwiIHZhbGlkYXRvcj1cXFwicmVxdWlyZWRcXFwiIHNpemU9XFxcIjEwXFxcIj5cXG4gICAgICAgICAgPG9wdGlvbiB2YWx1ZT1cXFwiXFxcIj7or7fpgInmi6k8L29wdGlvbj5cXG4gICAgICAgIDwvc2VsZWN0PlxcbiAgICAgIDwvZGl2PlxcbiAgICAgIDxkaXYgY2xhc3M9XFxcImNvbC1zbS02XFxcIj5cXG4gICAgICAgIDxzZWxlY3QgbmFtZT1cXFwic2VsZWN0VmljZVxcXCIgY2xhc3M9XFxcImZvcm0tY29udHJvbCBjLXNlbGVjdFxcXCIgXFxuICAgICAgICAgIG5nLW9wdGlvbnM9XFxcIml0ZW0uaWQgYXMgaXRlbS50cnVlX25hbWUgZm9yIGl0ZW0gaW4gdm0ubGlzdFxcXCIgbmctbW9kZWw9XFxcInZtLmlucHV0SW5mby52aWNlXFxcIlxcbiAgICAgICAgICAgcGxhY2Vob2xkZXI9XFxcIuivt+mAieaLqVxcXCIgc2l6ZT1cXFwiMTBcXFwiIG1hdGNoPVxcXCJ2bS5pbnB1dEluZm8ubWFpblxcXCIgbm90LW1hdGNoPVxcXCJ0cnVlXFxcIj5cXG4gICAgICAgICAgPG9wdGlvbiB2YWx1ZT1cXFwiXFxcIj7or7fpgInmi6k8L29wdGlvbj5cXG4gICAgICAgIDwvc2VsZWN0PlxcbiAgICAgICAgPHNwYW4gbmctc2hvdz1cXFwiRm9ybS5zZWxlY3RWaWNlLiRlcnJvci5tYXRjaFxcXCIgY2xhc3M9XFxcInZhbGlkYXRpb24taW52YWxpZFxcXCI+XFxuICAgICAgICAgIDxwPuS4u+eQhuWSjOWNj+eQhuS4jeiDveS4uuWQjOS4gOS6uu+8gTwvcD5cXG4gICAgICAgIDwvc3Bhbj5cXG4gICAgICA8L2Rpdj5cXG4gICAgPC9kaXY+XFxuICA8L2Zvcm0+XFxuICA8ZGl2IGNsYXNzPVxcXCJtb2RhbC1mb290ZXJcXFwiPlxcbiAgICA8YnV0dG9uIHR5cGU9XFxcImJ1dHRvblxcXCIgY2xhc3M9XFxcImJ0biBidG4tZGVmYXVsdCBidG4tc21cXFwiIG5nLWNsaWNrPVxcXCJ2bS5jYW5jZWwoKVxcXCI+5Y+W5raIPC9idXR0b24+XFxuICAgIDxidXR0b24gdHlwZT1cXFwiYnV0dG9uXFxcIiBjbGFzcz1cXFwiYnRuIGJ0bi1zdWNjZXNzIGJ0bi1zbVxcXCIgbmctY2xpY2s9XFxcInZtLnN1Ym1pdChGb3JtKVxcXCI+IOehruWumjwvYnV0dG9uPlxcbiAgPC9kaXY+XFxuPC9kaXY+XFxuXCIpO1xuJHRlbXBsYXRlQ2FjaGUucHV0KFwibW9kdWxlcy9maWx0ZXIvbW9kYWxzL2FkZC90ZW1wbGF0ZS5odG1sXCIsXCI8ZGl2IGNsYXNzPVxcXCJtb2RhbC1oZWFkZXJcXFwiPlxcbiAgPCEtLSA8YnV0dG9uIHR5cGU9XFxcImJ1dHRvblxcXCIgY2xhc3M9XFxcImNsb3NlXFxcIiBkYXRhLWRpc21pc3M9XFxcIm1vZGFsXFxcIiBhcmlhLWxhYmVsPVxcXCJDbG9zZVxcXCIgbmctY2xpY2s9XFxcInZtLmNhbmNlbCgpO1xcXCI+XFxuICAgIDxzcGFuIGFyaWEtaGlkZGVuPVxcXCJ0cnVlXFxcIj4mdGltZXM7PC9zcGFuPlxcbiAgPC9idXR0b24+IC0tPlxcbiAgPGg0IGNsYXNzPVxcXCJtb2RhbC10aXRsZVxcXCI+5re75Yqg6buR5ZCN5Y2VPC9oND5cXG48L2Rpdj5cXG48ZGl2IGNsYXNzPVxcXCJtb2RhbC1ib2R5XFxcIj5cXG4gIDxmb3JtIGNsYXNzPVxcXCJmb3JtLWhvcml6b250YWxcXFwiIG5hbWU9XFxcIkZvcm1cXFwiPlxcbiAgICA8ZGl2IGNsYXNzPVxcXCJmb3JtLWdyb3VwIGNsZWFyZml4XFxcIj5cXG4gICAgICA8bGFiZWwgZm9yPVxcXCJub3RlSW5wdXRcXFwiIGNsYXNzPVxcXCJjb2wtc20tNCBjb250cm9sLWxhYmVsXFxcIj7lhazlj7jlkI3np7DvvJo8L2xhYmVsPlxcbiAgICAgIDxkaXYgY2xhc3M9XFxcImNvbC1zbS02XFxcIj5cXG4gICAgICAgIDxpbnB1dCB0eXBlPVxcXCJ0ZXh0XFxcIiBjbGFzcz1cXFwiZm9ybS1jb250cm9sXFxcIiBuZy1tb2RlbD1cXFwidm0uaW5wdXRJbmZvLm5hbWVcXFwiIHBsYWNlaG9sZGVyPVxcXCLor7fovpPlhaVcXFwiXFxuICAgICAgICAgIHZhbGlkYXRvcj1cXFwicmVxdWlyZWRcXFwiPlxcbiAgICAgIDwvZGl2PlxcbiAgICA8L2Rpdj5cXG4gICAgPGRpdiBjbGFzcz1cXFwiZm9ybS1ncm91cCBjbGVhcmZpeFxcXCI+XFxuICAgICAgPGxhYmVsIGZvcj1cXFwibm90ZUlucHV0XFxcIiBjbGFzcz1cXFwiY29sLXNtLTQgY29udHJvbC1sYWJlbFxcXCI+5L+h5oGv5p2l5rqQ77yaPC9sYWJlbD5cXG4gICAgICA8ZGl2IGNsYXNzPVxcXCJjb2wtc20tNlxcXCI+XFxuICAgICAgICA8aW5wdXQgdHlwZT1cXFwidGV4dFxcXCIgY2xhc3M9XFxcImZvcm0tY29udHJvbFxcXCIgbmctbW9kZWw9XFxcInZtLmlucHV0SW5mby5zb3VyY2VcXFwiIHBsYWNlaG9sZGVyPVxcXCLor7fovpPlhaVcXFwiPlxcbiAgICAgIDwvZGl2PlxcbiAgICA8L2Rpdj5cXG4gICAgPGRpdiBjbGFzcz1cXFwiZm9ybS1ncm91cCBjbGVhcmZpeFxcXCI+XFxuICAgICAgPGxhYmVsIGZvcj1cXFwibm90ZUlucHV0XFxcIiBjbGFzcz1cXFwiY29sLXNtLTQgY29udHJvbC1sYWJlbFxcXCI+5aSH5rOo77yaPC9sYWJlbD5cXG4gICAgICA8ZGl2IGNsYXNzPVxcXCJjb2wtc20tNlxcXCI+XFxuICAgICAgICA8dGV4dGFyZWEgY2xhc3M9XFxcImZvcm0tY29udHJvbFxcXCIgbmctbW9kZWw9XFxcInZtLmlucHV0SW5mby5ub3RlXFxcIiBwbGFjZWhvbGRlcj1cXFwi6K+36L6T5YWlXFxcIlxcbiAgICAgICAgICBtYXhsZW5ndGg9XFxcIjIwMFxcXCI+PC90ZXh0YXJlYT4gXFxuICAgICAgPC9kaXY+XFxuICAgIDwvZGl2PlxcbiAgPC9mb3JtPlxcbiAgPGRpdiBjbGFzcz1cXFwibW9kYWwtZm9vdGVyXFxcIj5cXG4gICAgPGJ1dHRvbiB0eXBlPVxcXCJidXR0b25cXFwiIGNsYXNzPVxcXCJidG4gYnRuLWRlZmF1bHQgYnRuLXNtXFxcIiBuZy1jbGljaz1cXFwidm0uY2FuY2VsKClcXFwiPuWPlua2iDwvYnV0dG9uPlxcbiAgICA8YnV0dG9uIHR5cGU9XFxcImJ1dHRvblxcXCIgY2xhc3M9XFxcImJ0biBidG4tc3VjY2VzcyBidG4tc21cXFwiIG5nLWNsaWNrPVxcXCJ2bS5zdWJtaXQoRm9ybSlcXFwiPiDkv53lrZg8L2J1dHRvbj5cXG4gIDwvZGl2PlxcbjwvZGl2PlxcblwiKTtcbiR0ZW1wbGF0ZUNhY2hlLnB1dChcIm1vZHVsZXMvaW5mb3JtYXRpb24vbW9kYWxzL2JyYW5jaC90ZW1wbGF0ZS5odG1sXCIsXCI8ZGl2IGNsYXNzPVxcXCJtb2RhbC1oZWFkZXJcXFwiPlxcbiAgPCEtLSA8YnV0dG9uIHR5cGU9XFxcImJ1dHRvblxcXCIgY2xhc3M9XFxcImNsb3NlXFxcIiBkYXRhLWRpc21pc3M9XFxcIm1vZGFsXFxcIiBhcmlhLWxhYmVsPVxcXCJDbG9zZVxcXCIgbmctY2xpY2s9XFxcInZtLmNhbmNlbCgpO1xcXCI+XFxuICAgIDxzcGFuIGFyaWEtaGlkZGVuPVxcXCJ0cnVlXFxcIj4mdGltZXM7PC9zcGFuPlxcbiAgPC9idXR0b24+IC0tPlxcbiAgPGg0IGNsYXNzPVxcXCJtb2RhbC10aXRsZVxcXCI+5YiG6YWNPC9oND5cXG48L2Rpdj5cXG48ZGl2IGNsYXNzPVxcXCJtb2RhbC1ib2R5XFxcIj5cXG4gIDxmb3JtIGNsYXNzPVxcXCJmb3JtLWhvcml6b250YWxcXFwiIG5hbWU9XFxcIkZvcm1cXFwiPlxcbiAgICA8ZGl2IGNsYXNzPVxcXCJmb3JtLWdyb3VwIGNsZWFyZml4XFxcIj5cXG4gICAgICA8bGFiZWwgZm9yPVxcXCJzZWxlY3RfbWFpblxcXCIgY2xhc3M9XFxcImNvbC1zbS0xMiB0ZXh0LWNlbnRlclxcXCI+6YCJ5oup5pSv6KGMPC9sYWJlbD5cXG4gICAgPC9kaXY+XFxuICAgIDxkaXYgY2xhc3M9XFxcImZvcm0tZ3JvdXAgY2xlYXJmaXhcXFwiPlxcbiAgICAgIDxkaXYgY2xhc3M9XFxcImNvbC1zbS0xMlxcXCI+XFxuICAgICAgICA8c2VsZWN0IG5hbWU9XFxcInNlbGVjdEJyYW5jaFxcXCIgY2xhc3M9XFxcImZvcm0tY29udHJvbCBjLXNlbGVjdFxcXCIgXFxuICAgICAgICAgIG5nLW9wdGlvbnM9XFxcIml0ZW0uaWQgYXMgaXRlbS5uYW1lIGZvciBpdGVtIGluIHZtLmxpc3RcXFwiIG5nLW1vZGVsPVxcXCJ2bS5pbnB1dEluZm8uYnJhbmNoXFxcIiBcXG4gICAgICAgICAgcGxhY2Vob2xkZXI9XFxcIuivt+mAieaLqVxcXCIgdmFsaWRhdG9yPVxcXCJyZXF1aXJlZFxcXCIgc2l6ZT1cXFwiMTBcXFwiPlxcbiAgICAgICAgICA8b3B0aW9uIHZhbHVlPVxcXCJcXFwiPuivt+mAieaLqTwvb3B0aW9uPlxcbiAgICAgICAgPC9zZWxlY3Q+XFxuICAgICAgPC9kaXY+XFxuICAgIDwvZGl2PlxcbiAgPC9mb3JtPlxcbiAgPGRpdiBjbGFzcz1cXFwibW9kYWwtZm9vdGVyXFxcIj5cXG4gICAgPGJ1dHRvbiB0eXBlPVxcXCJidXR0b25cXFwiIGNsYXNzPVxcXCJidG4gYnRuLWRlZmF1bHQgYnRuLXNtXFxcIiBuZy1jbGljaz1cXFwidm0uY2FuY2VsKClcXFwiPuWPlua2iDwvYnV0dG9uPlxcbiAgICA8YnV0dG9uIHR5cGU9XFxcImJ1dHRvblxcXCIgY2xhc3M9XFxcImJ0biBidG4tc3VjY2VzcyBidG4tc21cXFwiIG5nLWNsaWNrPVxcXCJ2bS5zdWJtaXQoRm9ybSlcXFwiPiDnoa7lrpo8L2J1dHRvbj5cXG4gIDwvZGl2PlxcbjwvZGl2PlxcblwiKTtcbiR0ZW1wbGF0ZUNhY2hlLnB1dChcIm1vZHVsZXMvaW5mb3JtYXRpb24vbW9kYWxzL21hbmFnZS90ZW1wbGF0ZS5odG1sXCIsXCI8ZGl2IGNsYXNzPVxcXCJtb2RhbC1oZWFkZXJcXFwiPlxcbiAgPCEtLSA8YnV0dG9uIHR5cGU9XFxcImJ1dHRvblxcXCIgY2xhc3M9XFxcImNsb3NlXFxcIiBkYXRhLWRpc21pc3M9XFxcIm1vZGFsXFxcIiBhcmlhLWxhYmVsPVxcXCJDbG9zZVxcXCIgbmctY2xpY2s9XFxcInZtLmNhbmNlbCgpO1xcXCI+XFxuICAgIDxzcGFuIGFyaWEtaGlkZGVuPVxcXCJ0cnVlXFxcIj4mdGltZXM7PC9zcGFuPlxcbiAgPC9idXR0b24+IC0tPlxcbiAgPGg0IGNsYXNzPVxcXCJtb2RhbC10aXRsZVxcXCI+5YiG6YWNPC9oND5cXG48L2Rpdj5cXG48ZGl2IGNsYXNzPVxcXCJtb2RhbC1ib2R5XFxcIj5cXG4gIDxmb3JtIGNsYXNzPVxcXCJmb3JtLWhvcml6b250YWxcXFwiIG5hbWU9XFxcIkZvcm1cXFwiPlxcbiAgICA8ZGl2IGNsYXNzPVxcXCJmb3JtLWdyb3VwIGNsZWFyZml4XFxcIj5cXG4gICAgICA8bGFiZWwgZm9yPVxcXCJzZWxlY3RfbWFpblxcXCIgY2xhc3M9XFxcImNvbC1zbS02IHRleHQtY2VudGVyXFxcIj7kuLvnkIY8L2xhYmVsPlxcbiAgICAgIDxsYWJlbCBmb3I9XFxcInNlbGVjdF92aWNlXFxcIiBjbGFzcz1cXFwiY29sLXNtLTYgdGV4dC1jZW50ZXJcXFwiPuWNj+eQhjwvbGFiZWw+XFxuICAgIDwvZGl2PlxcbiAgICA8ZGl2IGNsYXNzPVxcXCJmb3JtLWdyb3VwIGNsZWFyZml4XFxcIj5cXG4gICAgICA8ZGl2IGNsYXNzPVxcXCJjb2wtc20tNlxcXCI+XFxuICAgICAgICA8c2VsZWN0IG5hbWU9XFxcInNlbGVjdE1haW5cXFwiIGNsYXNzPVxcXCJmb3JtLWNvbnRyb2wgYy1zZWxlY3RcXFwiIFxcbiAgICAgICAgICBuZy1vcHRpb25zPVxcXCJpdGVtLmlkIGFzIGl0ZW0ubmFtZSBmb3IgaXRlbSBpbiB2bS5saXN0XFxcIiBuZy1tb2RlbD1cXFwidm0uaW5wdXRJbmZvLm1haW5cXFwiIFxcbiAgICAgICAgICBwbGFjZWhvbGRlcj1cXFwi6K+36YCJ5oupXFxcIiB2YWxpZGF0b3I9XFxcInJlcXVpcmVkXFxcIiBzaXplPVxcXCIxMFxcXCI+XFxuICAgICAgICAgIDxvcHRpb24gdmFsdWU9XFxcIlxcXCI+6K+36YCJ5oupPC9vcHRpb24+XFxuICAgICAgICA8L3NlbGVjdD5cXG4gICAgICA8L2Rpdj5cXG4gICAgICA8ZGl2IGNsYXNzPVxcXCJjb2wtc20tNlxcXCI+XFxuICAgICAgICA8c2VsZWN0IG5hbWU9XFxcInNlbGVjdFZpY2VcXFwiIGNsYXNzPVxcXCJmb3JtLWNvbnRyb2wgYy1zZWxlY3RcXFwiIFxcbiAgICAgICAgICBuZy1vcHRpb25zPVxcXCJpdGVtLmlkIGFzIGl0ZW0ubmFtZSBmb3IgaXRlbSBpbiB2bS5saXN0XFxcIiBuZy1tb2RlbD1cXFwidm0uaW5wdXRJbmZvLnZpY2VcXFwiXFxuICAgICAgICAgICBwbGFjZWhvbGRlcj1cXFwi6K+36YCJ5oupXFxcIiBzaXplPVxcXCIxMFxcXCIgbWF0Y2g9XFxcInZtLmlucHV0SW5mby5tYWluXFxcIiBub3QtbWF0Y2g9XFxcInRydWVcXFwiPlxcbiAgICAgICAgICA8b3B0aW9uIHZhbHVlPVxcXCJcXFwiPuivt+mAieaLqTwvb3B0aW9uPlxcbiAgICAgICAgPC9zZWxlY3Q+XFxuICAgICAgICA8c3BhbiBuZy1zaG93PVxcXCJGb3JtLnNlbGVjdFZpY2UuJGVycm9yLm1hdGNoXFxcIiBjbGFzcz1cXFwidmFsaWRhdGlvbi1pbnZhbGlkXFxcIj5cXG4gICAgICAgICAgPHA+5Li755CG5ZKM5Y2P55CG5LiN6IO95Li65ZCM5LiA5Lq677yBPC9wPlxcbiAgICAgICAgPC9zcGFuPlxcbiAgICAgIDwvZGl2PlxcbiAgICA8L2Rpdj5cXG4gIDwvZm9ybT5cXG4gIDxkaXYgY2xhc3M9XFxcIm1vZGFsLWZvb3RlclxcXCI+XFxuICAgIDxidXR0b24gdHlwZT1cXFwiYnV0dG9uXFxcIiBjbGFzcz1cXFwiYnRuIGJ0bi1kZWZhdWx0IGJ0bi1zbVxcXCIgbmctY2xpY2s9XFxcInZtLmNhbmNlbCgpXFxcIj7lj5bmtog8L2J1dHRvbj5cXG4gICAgPGJ1dHRvbiB0eXBlPVxcXCJidXR0b25cXFwiIGNsYXNzPVxcXCJidG4gYnRuLXN1Y2Nlc3MgYnRuLXNtXFxcIiBuZy1jbGljaz1cXFwidm0uc3VibWl0KEZvcm0pXFxcIj4g56Gu5a6aPC9idXR0b24+XFxuICA8L2Rpdj5cXG48L2Rpdj5cXG5cIik7XG4kdGVtcGxhdGVDYWNoZS5wdXQoXCJtb2R1bGVzL2ludmVzdG1lbnQvbW9kYWxzL2FkZC90ZW1wbGF0ZS5odG1sXCIsXCI8ZGl2IGNsYXNzPVxcXCJtb2RhbC1oZWFkZXJcXFwiPlxcbiAgPCEtLSA8YnV0dG9uIHR5cGU9XFxcImJ1dHRvblxcXCIgY2xhc3M9XFxcImNsb3NlXFxcIiBkYXRhLWRpc21pc3M9XFxcIm1vZGFsXFxcIiBhcmlhLWxhYmVsPVxcXCJDbG9zZVxcXCIgbmctY2xpY2s9XFxcInZtLmNhbmNlbCgpO1xcXCI+XFxuICAgIDxzcGFuIGFyaWEtaGlkZGVuPVxcXCJ0cnVlXFxcIj4mdGltZXM7PC9zcGFuPlxcbiAgPC9idXR0b24+IC0tPlxcbiAgPGg0IGNsYXNzPVxcXCJtb2RhbC10aXRsZVxcXCI+5re75Yqg5oqV6LWE5YWs5Y+4PC9oND5cXG48L2Rpdj5cXG48ZGl2IGNsYXNzPVxcXCJtb2RhbC1ib2R5XFxcIj5cXG4gIDxmb3JtIGNsYXNzPVxcXCJmb3JtLWhvcml6b250YWxcXFwiIG5hbWU9XFxcIkZvcm1cXFwiPlxcbiAgICA8ZGl2IGNsYXNzPVxcXCJmb3JtLWdyb3VwIGNsZWFyZml4XFxcIj5cXG4gICAgICA8bGFiZWwgZm9yPVxcXCJub3RlSW5wdXRcXFwiIGNsYXNzPVxcXCJjb2wtc20tNCBjb250cm9sLWxhYmVsXFxcIj7lhazlj7jlkI3np7DvvJo8L2xhYmVsPlxcbiAgICAgIDxkaXYgY2xhc3M9XFxcImNvbC1zbS02XFxcIj5cXG4gICAgICAgIDxpbnB1dCB0eXBlPVxcXCJ0ZXh0XFxcIiBjbGFzcz1cXFwiZm9ybS1jb250cm9sXFxcIiBuZy1tb2RlbD1cXFwidm0uaW5wdXRJbmZvLm5hbWVcXFwiIHBsYWNlaG9sZGVyPVxcXCLor7fovpPlhaVcXFwiXFxuICAgICAgICAgIHZhbGlkYXRvcj1cXFwicmVxdWlyZWRcXFwiPlxcbiAgICAgIDwvZGl2PlxcbiAgICA8L2Rpdj5cXG4gICAgPGRpdiBjbGFzcz1cXFwiZm9ybS1ncm91cCBjbGVhcmZpeFxcXCI+XFxuICAgICAgPGxhYmVsIGZvcj1cXFwibm90ZUlucHV0XFxcIiBjbGFzcz1cXFwiY29sLXNtLTQgY29udHJvbC1sYWJlbFxcXCI+5YWs5Y+4566A56ew77yaPC9sYWJlbD5cXG4gICAgICA8ZGl2IGNsYXNzPVxcXCJjb2wtc20tNlxcXCI+XFxuICAgICAgICA8aW5wdXQgdHlwZT1cXFwidGV4dFxcXCIgY2xhc3M9XFxcImZvcm0tY29udHJvbFxcXCIgbmctbW9kZWw9XFxcInZtLmlucHV0SW5mby52Y19uYW1lXFxcIiBwbGFjZWhvbGRlcj1cXFwi6K+36L6T5YWlXFxcIlxcbiAgICAgICAgICB2YWxpZGF0b3I9XFxcInJlcXVpcmVkXFxcIiA+XFxuICAgICAgPC9kaXY+XFxuICAgIDwvZGl2PlxcbiAgPC9mb3JtPlxcbiAgPGRpdiBjbGFzcz1cXFwibW9kYWwtZm9vdGVyXFxcIj5cXG4gICAgPGJ1dHRvbiB0eXBlPVxcXCJidXR0b25cXFwiIGNsYXNzPVxcXCJidG4gYnRuLWRlZmF1bHQgYnRuLXNtXFxcIiBuZy1jbGljaz1cXFwidm0uY2FuY2VsKClcXFwiPuWPlua2iDwvYnV0dG9uPlxcbiAgICA8YnV0dG9uIHR5cGU9XFxcImJ1dHRvblxcXCIgY2xhc3M9XFxcImJ0biBidG4tc3VjY2VzcyBidG4tc21cXFwiIG5nLWNsaWNrPVxcXCJ2bS5zdWJtaXQoRm9ybSlcXFwiPiDkv53lrZg8L2J1dHRvbj5cXG4gIDwvZGl2PlxcbjwvZGl2PlxcblwiKTtcbiR0ZW1wbGF0ZUNhY2hlLnB1dChcIm1vZHVsZXMvYmFuay9tb2RhbHMvYWRkL3RlbXBsYXRlLmh0bWxcIixcIjxkaXYgY2xhc3M9XFxcIm1vZGFsLWhlYWRlclxcXCI+XFxuICA8IS0tIDxidXR0b24gdHlwZT1cXFwiYnV0dG9uXFxcIiBjbGFzcz1cXFwiY2xvc2VcXFwiIGRhdGEtZGlzbWlzcz1cXFwibW9kYWxcXFwiIGFyaWEtbGFiZWw9XFxcIkNsb3NlXFxcIiBuZy1jbGljaz1cXFwidm0uY2FuY2VsKCk7XFxcIj5cXG4gICAgPHNwYW4gYXJpYS1oaWRkZW49XFxcInRydWVcXFwiPiZ0aW1lczs8L3NwYW4+XFxuICA8L2J1dHRvbj4gLS0+XFxuICA8aDQgY2xhc3M9XFxcIm1vZGFsLXRpdGxlXFxcIj7mt7vliqDmnLrmnoQ8L2g0PlxcbjwvZGl2PlxcbjxkaXYgY2xhc3M9XFxcIm1vZGFsLWJvZHlcXFwiPlxcbiAgPGZvcm0gY2xhc3M9XFxcImZvcm0taG9yaXpvbnRhbFxcXCIgbmFtZT1cXFwiRm9ybVxcXCI+XFxuICAgIDxkaXYgY2xhc3M9XFxcImZvcm0tZ3JvdXAgY2xlYXJmaXhcXFwiPlxcbiAgICAgIDxsYWJlbCBmb3I9XFxcIm5vdGVJbnB1dFxcXCIgY2xhc3M9XFxcImNvbC1zbS00IGNvbnRyb2wtbGFiZWxcXFwiPuacuuaehOWQjeensDwvbGFiZWw+XFxuICAgICAgPGRpdiBjbGFzcz1cXFwiY29sLXNtLTZcXFwiPlxcbiAgICAgICAgPGlucHV0IHR5cGU9XFxcInRleHRcXFwiIGNsYXNzPVxcXCJmb3JtLWNvbnRyb2xcXFwiIG5nLW1vZGVsPVxcXCJ2bS5pbnB1dEluZm8ubmFtZVxcXCIgcGxhY2Vob2xkZXI9XFxcIuivt+i+k+WFpVxcXCJcXG4gICAgICAgICAgdmFsaWRhdG9yPVxcXCJyZXF1aXJlZFxcXCI+XFxuICAgICAgPC9kaXY+XFxuICAgIDwvZGl2PlxcbiAgICA8ZGl2IGNsYXNzPVxcXCJmb3JtLWdyb3VwIGNsZWFyZml4XFxcIj5cXG4gICAgICA8bGFiZWwgZm9yPVxcXCJub3RlSW5wdXRcXFwiIGNsYXNzPVxcXCJjb2wtc20tNCBjb250cm9sLWxhYmVsXFxcIj7mnLrmnoTlnLDlnYA8L2xhYmVsPlxcbiAgICAgIDxkaXYgY2xhc3M9XFxcImNvbC1zbS02XFxcIj5cXG4gICAgICAgIDxpbnB1dCB0eXBlPVxcXCJ0ZXh0XFxcIiBjbGFzcz1cXFwiZm9ybS1jb250cm9sXFxcIiBuZy1tb2RlbD1cXFwidm0uaW5wdXRJbmZvLmFkZHJlc3NcXFwiIHBsYWNlaG9sZGVyPVxcXCLor7fovpPlhaVcXFwiXFxuICAgICAgICAgIHZhbGlkYXRvcj1cXFwicmVxdWlyZWRcXFwiPlxcbiAgICAgIDwvZGl2PlxcbiAgICA8L2Rpdj5cXG4gICAgPGRpdiBjbGFzcz1cXFwiZm9ybS1ncm91cCBjbGVhcmZpeFxcXCI+XFxuICAgICAgPGxhYmVsIGZvcj1cXFwibm90ZUlucHV0XFxcIiBjbGFzcz1cXFwiY29sLXNtLTQgY29udHJvbC1sYWJlbFxcXCI+6IGU57O755S16K+dPC9sYWJlbD5cXG4gICAgICA8ZGl2IGNsYXNzPVxcXCJjb2wtc20tNlxcXCI+XFxuICAgICAgICA8aW5wdXQgdHlwZT1cXFwidGV4dFxcXCIgY2xhc3M9XFxcImZvcm0tY29udHJvbFxcXCIgbmctbW9kZWw9XFxcInZtLmlucHV0SW5mby5waG9uZVxcXCIgcGxhY2Vob2xkZXI9XFxcIuivt+i+k+WFpVxcXCJcXG4gICAgICAgICAgdmFsaWRhdG9yPVxcXCJyZXF1aXJlZFxcXCI+XFxuICAgICAgPC9kaXY+XFxuICAgIDwvZGl2PlxcblxcbiAgPC9mb3JtPlxcbiAgPGRpdiBjbGFzcz1cXFwibW9kYWwtZm9vdGVyXFxcIj5cXG4gICAgPGJ1dHRvbiB0eXBlPVxcXCJidXR0b25cXFwiIGNsYXNzPVxcXCJidG4gYnRuLWRlZmF1bHQgYnRuLXNtXFxcIiBuZy1jbGljaz1cXFwidm0uY2FuY2VsKClcXFwiPuWPlua2iDwvYnV0dG9uPlxcbiAgICA8YnV0dG9uIHR5cGU9XFxcImJ1dHRvblxcXCIgY2xhc3M9XFxcImJ0biBidG4tc3VjY2VzcyBidG4tc21cXFwiIG5nLWNsaWNrPVxcXCJ2bS5zdWJtaXQoRm9ybSlcXFwiPiDkv53lrZg8L2J1dHRvbj5cXG4gIDwvZGl2PlxcbjwvZGl2PlxcblwiKTtcbiR0ZW1wbGF0ZUNhY2hlLnB1dChcIm1vZHVsZXMvYmFuay9tb2RhbHMvYnJhbmNoL3RlbXBsYXRlLmh0bWxcIixcIjxkaXYgY2xhc3M9XFxcIm1vZGFsLWhlYWRlclxcXCI+XFxuICA8IS0tIDxidXR0b24gdHlwZT1cXFwiYnV0dG9uXFxcIiBjbGFzcz1cXFwiY2xvc2VcXFwiIGRhdGEtZGlzbWlzcz1cXFwibW9kYWxcXFwiIGFyaWEtbGFiZWw9XFxcIkNsb3NlXFxcIiBuZy1jbGljaz1cXFwidm0uY2FuY2VsKCk7XFxcIj5cXG4gICAgPHNwYW4gYXJpYS1oaWRkZW49XFxcInRydWVcXFwiPiZ0aW1lczs8L3NwYW4+XFxuICA8L2J1dHRvbj4gLS0+XFxuICA8aDQgY2xhc3M9XFxcIm1vZGFsLXRpdGxlXFxcIj7liIbphY08L2g0PlxcbjwvZGl2PlxcbjxkaXYgY2xhc3M9XFxcIm1vZGFsLWJvZHlcXFwiPlxcbiAgPGZvcm0gY2xhc3M9XFxcImZvcm0taG9yaXpvbnRhbFxcXCIgbmFtZT1cXFwiRm9ybVxcXCI+XFxuICAgIDxkaXYgY2xhc3M9XFxcImZvcm0tZ3JvdXAgY2xlYXJmaXhcXFwiPlxcbiAgICAgIDxsYWJlbCBmb3I9XFxcInNlbGVjdF9tYWluXFxcIiBjbGFzcz1cXFwiY29sLXNtLTEyIHRleHQtY2VudGVyXFxcIj7pgInmi6nmlK/ooYw8L2xhYmVsPlxcbiAgICA8L2Rpdj5cXG4gICAgPGRpdiBjbGFzcz1cXFwiZm9ybS1ncm91cCBjbGVhcmZpeFxcXCI+XFxuICAgICAgPGRpdiBjbGFzcz1cXFwiY29sLXNtLTEyXFxcIj5cXG4gICAgICAgIDxzZWxlY3QgbmFtZT1cXFwic2VsZWN0QnJhbmNoXFxcIiBjbGFzcz1cXFwiZm9ybS1jb250cm9sIGMtc2VsZWN0XFxcIiBcXG4gICAgICAgICAgbmctbW9kZWw9XFxcInZtLmlucHV0SW5mby5icmFuY2hcXFwiIFxcbiAgICAgICAgICBwbGFjZWhvbGRlcj1cXFwi6K+36YCJ5oupXFxcIiB2YWxpZGF0b3I9XFxcInJlcXVpcmVkXFxcIiBzaXplPVxcXCIxMFxcXCI+XFxuICAgICAgICAgIDxvcHRpb24gdmFsdWU9XFxcIlxcXCI+6K+36YCJ5oupPC9vcHRpb24+XFxuICAgICAgICAgIDxvcHRpb24gdmFsdWU9XFxcInt7aXRlbS5pZH19XFxcIiBuZy1oaWRlPVxcXCJpdGVtLmlkID09IHZtLmluZm8uaWRcXFwiIG5nLXJlcGVhdD1cXFwiaXRlbSBpbiB2bS5saXN0XFxcIj57e2l0ZW0ubmFtZX19PC9vcHRpb24+XFxuICAgICAgICA8L3NlbGVjdD5cXG4gICAgICA8L2Rpdj5cXG4gICAgPC9kaXY+XFxuICA8L2Zvcm0+XFxuICA8ZGl2IGNsYXNzPVxcXCJtb2RhbC1mb290ZXJcXFwiPlxcbiAgICA8YnV0dG9uIHR5cGU9XFxcImJ1dHRvblxcXCIgY2xhc3M9XFxcImJ0biBidG4tZGVmYXVsdCBidG4tc21cXFwiIG5nLWNsaWNrPVxcXCJ2bS5jYW5jZWwoKVxcXCI+5Y+W5raIPC9idXR0b24+XFxuICAgIDxidXR0b24gdHlwZT1cXFwiYnV0dG9uXFxcIiBjbGFzcz1cXFwiYnRuIGJ0bi1zdWNjZXNzIGJ0bi1zbVxcXCIgbmctY2xpY2s9XFxcInZtLnN1Ym1pdChGb3JtKVxcXCI+IOehruWumjwvYnV0dG9uPlxcbiAgPC9kaXY+XFxuPC9kaXY+XFxuXCIpO1xuJHRlbXBsYXRlQ2FjaGUucHV0KFwibW9kdWxlcy9iYW5rL21vZGFscy9lZGl0L3RlbXBsYXRlLmh0bWxcIixcIjxkaXYgY2xhc3M9XFxcIm1vZGFsLWhlYWRlclxcXCI+XFxuICA8IS0tIDxidXR0b24gdHlwZT1cXFwiYnV0dG9uXFxcIiBjbGFzcz1cXFwiY2xvc2VcXFwiIGRhdGEtZGlzbWlzcz1cXFwibW9kYWxcXFwiIGFyaWEtbGFiZWw9XFxcIkNsb3NlXFxcIiBuZy1jbGljaz1cXFwidm0uY2FuY2VsKCk7XFxcIj5cXG4gICAgPHNwYW4gYXJpYS1oaWRkZW49XFxcInRydWVcXFwiPiZ0aW1lczs8L3NwYW4+XFxuICA8L2J1dHRvbj4gLS0+XFxuICA8aDQgY2xhc3M9XFxcIm1vZGFsLXRpdGxlXFxcIj7mm7TmlLnlkI3np7A8L2g0PlxcbjwvZGl2PlxcbjxkaXYgY2xhc3M9XFxcIm1vZGFsLWJvZHlcXFwiPlxcbiAgPGZvcm0gY2xhc3M9XFxcImZvcm0taG9yaXpvbnRhbFxcXCIgbmFtZT1cXFwiRm9ybVxcXCI+XFxuICAgIDxkaXYgY2xhc3M9XFxcImZvcm0tZ3JvdXAgY2xlYXJmaXhcXFwiPlxcbiAgICAgIDxsYWJlbCBmb3I9XFxcIm5vdGVJbnB1dFxcXCIgY2xhc3M9XFxcImNvbC1zbS00IGNvbnRyb2wtbGFiZWxcXFwiPuacuuaehDwvbGFiZWw+XFxuICAgICAgPGRpdiBjbGFzcz1cXFwiY29sLXNtLTZcXFwiPlxcbiAgICAgICAgPGlucHV0IHR5cGU9XFxcInRleHRcXFwiIGNsYXNzPVxcXCJmb3JtLWNvbnRyb2xcXFwiIG5nLW1vZGVsPVxcXCJ2bS5pbnB1dEluZm8ubmFtZVxcXCIgcGxhY2Vob2xkZXI9XFxcIuivt+i+k+WFpVxcXCJcXG4gICAgICAgICAgdmFsaWRhdG9yPVxcXCJyZXF1aXJlZFxcXCI+XFxuICAgICAgPC9kaXY+XFxuICAgIDwvZGl2PlxcbiAgICA8ZGl2IGNsYXNzPVxcXCJmb3JtLWdyb3VwIGNsZWFyZml4XFxcIj5cXG4gICAgICA8bGFiZWwgZm9yPVxcXCJub3RlSW5wdXRcXFwiIGNsYXNzPVxcXCJjb2wtc20tNCBjb250cm9sLWxhYmVsXFxcIj7mnLrmnoTlnLDlnYA8L2xhYmVsPlxcbiAgICAgIDxkaXYgY2xhc3M9XFxcImNvbC1zbS02XFxcIj5cXG4gICAgICAgIDxpbnB1dCB0eXBlPVxcXCJ0ZXh0XFxcIiBjbGFzcz1cXFwiZm9ybS1jb250cm9sXFxcIiBuZy1tb2RlbD1cXFwidm0uaW5wdXRJbmZvLmFkZHJlc3NcXFwiIHBsYWNlaG9sZGVyPVxcXCLor7fovpPlhaVcXFwiXFxuICAgICAgICAgIHZhbGlkYXRvcj1cXFwicmVxdWlyZWRcXFwiPlxcbiAgICAgIDwvZGl2PlxcbiAgICA8L2Rpdj5cXG4gICAgPGRpdiBjbGFzcz1cXFwiZm9ybS1ncm91cCBjbGVhcmZpeFxcXCI+XFxuICAgICAgPGxhYmVsIGZvcj1cXFwibm90ZUlucHV0XFxcIiBjbGFzcz1cXFwiY29sLXNtLTQgY29udHJvbC1sYWJlbFxcXCI+6IGU57O755S16K+dPC9sYWJlbD5cXG4gICAgICA8ZGl2IGNsYXNzPVxcXCJjb2wtc20tNlxcXCI+XFxuICAgICAgICA8aW5wdXQgdHlwZT1cXFwidGV4dFxcXCIgY2xhc3M9XFxcImZvcm0tY29udHJvbFxcXCIgbmctbW9kZWw9XFxcInZtLmlucHV0SW5mby5waG9uZVxcXCIgcGxhY2Vob2xkZXI9XFxcIuivt+i+k+WFpVxcXCJcXG4gICAgICAgICAgdmFsaWRhdG9yPVxcXCJyZXF1aXJlZFxcXCI+XFxuICAgICAgPC9kaXY+XFxuICAgIDwvZGl2PlxcblxcbiAgPC9mb3JtPlxcbiAgPGRpdiBjbGFzcz1cXFwibW9kYWwtZm9vdGVyXFxcIj5cXG4gICAgPGJ1dHRvbiB0eXBlPVxcXCJidXR0b25cXFwiIGNsYXNzPVxcXCJidG4gYnRuLWRlZmF1bHQgYnRuLXNtXFxcIiBuZy1jbGljaz1cXFwidm0uY2FuY2VsKClcXFwiPuWPlua2iDwvYnV0dG9uPlxcbiAgICA8YnV0dG9uIHR5cGU9XFxcImJ1dHRvblxcXCIgY2xhc3M9XFxcImJ0biBidG4tc3VjY2VzcyBidG4tc21cXFwiIG5nLWNsaWNrPVxcXCJ2bS5zdWJtaXQoRm9ybSlcXFwiPiDkv53lrZg8L2J1dHRvbj5cXG4gIDwvZGl2PlxcbjwvZGl2PlxcblwiKTtcbiR0ZW1wbGF0ZUNhY2hlLnB1dChcIm1vZHVsZXMvYmFuay9tb2RhbHMvbWFwL3RlbXBsYXRlLmh0bWxcIixcIjxkaXYgY2xhc3M9XFxcIm1vZGFsLWhlYWRlclxcXCI+XFxuICA8IS0tIDxidXR0b24gdHlwZT1cXFwiYnV0dG9uXFxcIiBjbGFzcz1cXFwiY2xvc2VcXFwiIGRhdGEtZGlzbWlzcz1cXFwibW9kYWxcXFwiIGFyaWEtbGFiZWw9XFxcIkNsb3NlXFxcIiBuZy1jbGljaz1cXFwidm0uY2FuY2VsKCk7XFxcIj5cXG4gICAgPHNwYW4gYXJpYS1oaWRkZW49XFxcInRydWVcXFwiPiZ0aW1lczs8L3NwYW4+XFxuICA8L2J1dHRvbj4gLS0+XFxuICA8aDQgY2xhc3M9XFxcIm1vZGFsLXRpdGxlXFxcIj7pgInlj5blnLDlm748L2g0PlxcbjwvZGl2PlxcbjxkaXYgY2xhc3M9XFxcIm1vZGFsLWJvZHlcXFwiPlxcbiAgIDxiYWlkdS1tYXAgb3B0aW9ucz1cXFwidm0ub3B0c1xcXCIgYWs9XFxcIjhCRWFTZG84RTdWRUhqTTBweFdzOGdJc0hoa0RsT09XXFxcIiBvbi1tYXAtbG9hZGVkPVxcXCJ2bS5sb2FkTWFwKG1hcClcXFwiIHN0eWxlPVxcXCJkaXNwbGF5OmJsb2NrO3dpZHRoOjU1MHB4O2hlaWdodDo1MDBweDtcXFwiPjwvYmFpZHUtbWFwPlxcbiAgPGRpdiBjbGFzcz1cXFwibW9kYWwtZm9vdGVyXFxcIj5cXG4gICAgPGJ1dHRvbiB0eXBlPVxcXCJidXR0b25cXFwiIGNsYXNzPVxcXCJidG4gYnRuLWRlZmF1bHQgYnRuLXNtXFxcIiBuZy1jbGljaz1cXFwidm0uY2FuY2VsKClcXFwiPuWPlua2iDwvYnV0dG9uPlxcbiAgPC9kaXY+XFxuPC9kaXY+XCIpO31dKTsiLCLvu78vKipcbiogaGFycmllLm1kZWRpdG9yIE1vZHVsZVxuKlxuKiBEZXNjcmlwdGlvblxuKiBhIG1hcmtkb3duIGVkaXRvciBmb3IgYW5ndWxhclxuKiBodHRwczovL2dpdGh1Yi5jb20vdmFySGFycmllL2FuZ3VsYXItbWRlZGl0b3JcbiovXG5hbmd1bGFyLm1vZHVsZSgndWkubWRlZGl0b3InLCBbXG5dKVxuLmNvbmZpZyhmdW5jdGlvbigpe1xuXHRpZihhbmd1bGFyLmlzVW5kZWZpbmVkKHdpbmRvdy5tYXJrZWQpKXt0aHJvdyhuZXcgRXJyb3IoJ1JlcXVpcmUgbWFya2VkIScpKTt9XG5cdGlmKGFuZ3VsYXIuaXNVbmRlZmluZWQod2luZG93LmhsanMpKXt0aHJvdyhuZXcgRXJyb3IoJ1JlcXVpcmUgaGxqcyEnKSk7fVxuXHRTdHJpbmcucHJvdG90eXBlLnN0YXJ0V2l0aD1mdW5jdGlvbihzdHIsZG9UcmltKXtcblx0XHR2YXIgcz0odHlwZW9mIGRvVHJpbSE9PSd1bmRlZmluZWQnJiYhIWRvVHJpbSk/dGhpcy50cmltKCk6dGhpcztcblx0XHRyZXR1cm4gKHR5cGVvZiBzdHI9PT0nc3RyaW5nJykgJiYgcy5sZW5ndGg+PXN0ci5sZW5ndGggJiYgcy5zdWJzdHIoMCxzdHIubGVuZ3RoKT09PXN0cjtcblx0fVxuXHRTdHJpbmcucHJvdG90eXBlLmVuZFdpdGg9ZnVuY3Rpb24oc3RyLGRvVHJpbSl7XG5cdFx0dmFyIHM9KHR5cGVvZiBkb1RyaW0hPT0ndW5kZWZpbmVkJyYmISFkb1RyaW0pP3RoaXMudHJpbSgpOnRoaXM7XG5cdFx0cmV0dXJuICh0eXBlb2Ygc3RyPT09J3N0cmluZycpICYmIHMubGVuZ3RoPj1zdHIubGVuZ3RoICYmIHMuc3Vic3RyKHMubGVuZ3RoLXN0ci5sZW5ndGgpPT09c3RyO1xuXHR9XG5cbn0pXG4uY29uc3RhbnQoJ21kZWRpdG9yQ29uZmlnJyx7XG5cdGNsYXNzTmFtZXM6e1xuXHRcdHdyYXBwZXI6J21kZWRpdG9yJyxcblx0XHR0b29sYmFyOidtZGVkaXRvci10b29sYmFyJyxcblx0XHR0b29sYmFySXRlbTonbWRlZGl0b3ItdG9vbGJhci1pdGVtJyxcblx0XHRzZXBhcmF0b3I6J21kZWRpdG9yLXRvb2xiYXItc2VwYXJhdG9yJyxcblx0XHR0ZXh0YXJlYTonbWRlZGl0b3ItdGV4dGFyZWEnLFxuXHRcdHByZXZpZXc6J21kZWRpdG9yLXByZXZpZXcnXG5cdH0sXG5cdHRvb2xiYXI6W1xuXHRcdHthY3Rpb246J2JvbGQnLGljb246J2ZhIGZhLWJvbGQnLHRpcDon5Yqg57KXKEN0cmwrQiknfSxcblx0XHR7YWN0aW9uOidpdGFsaWMnLGljb246J2ZhIGZhLWl0YWxpYycsdGlwOifmlpzkvZMoQ3RybCtJKSd9LFxuXHRcdHthY3Rpb246J2hlYWRlcicsaWNvbjonZmEgZmEtaGVhZGVyJyx0aXA6J+agh+mimChDdHJsK0gpJ30sXG5cdFx0e3NlcGFyYXRvcjp0cnVlfSxcblx0XHR7YWN0aW9uOid1bCcsaWNvbjonZmEgZmEtbGlzdC11bCcsdGlwOifml6Dluo/liJfooagoQ3RybCtVKSd9LFxuXHRcdHthY3Rpb246J29sJyxpY29uOidmYSBmYS1saXN0LW9sJyx0aXA6J+acieW6j+WIl+ihqChDdHJsK08pJ30sXG5cdFx0Ly8ge2FjdGlvbjonY29kZScsaWNvbjonZmEgZmEtY29kZScsdGlwOifku6PnoIEoQ3RybCtLKSd9LFxuXHRcdHthY3Rpb246J3F1b3RlJyxpY29uOidmYSBmYS1xdW90ZS1sZWZ0Jyx0aXA6J+W8leeUqChDdHJsK1EpJ30sXG5cdFx0Ly97YWN0aW9uOidpbmRlbnQnLGljb246J2ZhIGZhLWluZGVudCcsdGlwOifnvKnov5soVGFiKScsa2V5Y29kZTo5LGN0cmw6ZmFsc2V9LFxuXHRcdC8ve2FjdGlvbjonb3V0ZGVudCcsaWNvbjonZmEgZmEtb3V0ZGVudCcsdGlwOiflh4/lsI/nvKnov5soVGFiKScsa2V5Y29kZTo5LGN0cmw6ZmFsc2Usc2hpZnQ6dHJ1ZX0sXG5cdFx0e3NlcGFyYXRvcjp0cnVlfSxcblx0XHR7YWN0aW9uOidsaW5rJyxpY29uOidmYSBmYS1saW5rJyx0aXA6J+i/nuaOpShDdHJsK0wpJ30sXG5cdFx0e2FjdGlvbjonaW1nJyxpY29uOidmYSBmYS1waWN0dXJlLW8nLHRpcDon5Zu+54mHKEN0cmwrRyknfSxcblx0XHQvKnthY3Rpb246J2ZpbGUnLGljb246J2ZhIGZhLWZpbGUtbycsdGlwOifmlofku7YnLGtleWNvZGU6JycsY3RybDp0cnVlfSwqL1xuXHRcdHtzZXBhcmF0b3I6dHJ1ZX0sXG5cdFx0e2FjdGlvbjondW5kbycsaWNvbjonZmEgZmEtdW5kbycsdGlwOifmkqTplIAnfSxcblx0XHR7YWN0aW9uOidyZWRvJyxpY29uOidmYSBmYS1yZXBlYXQnLHRpcDon6YeN5YGaJ30sXG5cdFx0Ly8ge2FjdGlvbjoncHJldmlldycsaWNvbjonZmEgZmEtZXllJyx0aXA6J+a1j+iniCd9LFxuXHRcdC8vIHthY3Rpb246J2Z1bGxzY3JlZW4nLGljb246J2ZhIGZhLWFycm93cy1hbHQnLHRpcDon5YWo5bGPJ31cblx0XSxcblx0c2hvcnRjdXQ6e1xuXHRcdCdDdHJsLUInOidib2xkJyxcblx0XHQnQ3RybC1JJzonaXRhbGljJyxcblx0XHQnQ3RybC1IJzonaGVhZGVyJyxcblx0XHQnQ3RybC1VJzondWwnLFxuXHRcdCdDdHJsLU8nOidvbCcsXG5cdFx0J0N0cmwtSyc6J2NvZGUnLFxuXHRcdCdDdHJsLVEnOidxdW90ZScsXG5cdFx0J0N0cmwtTCc6J2xpbmsnLFxuXHRcdCdDdHJsLUcnOidpbWcnXG5cdH1cbn0pXG4uZmFjdG9yeSgnYWN0aW9ucycsIFtmdW5jdGlvbigpe1xuXHR2YXIgc3ludGF4PXtcblx0XHRib2xkOntwcmVmaXg6JyoqJyxwb3N0Zml4OicqKid9LFxuXHRcdGl0YWxpYzp7cHJlZml4OidfJyxwb3N0Zml4OidfJ30sXG5cdFx0Y29kZTp7cHJlZml4OidgYGBcXG4nLHBvc3RmaXg6J1xcbmBgYCd9LFxuXHRcdGxpbms6e3ByZWZpeDonWycscG9zdGZpeDonXShzcmMpJ30sXG5cdFx0aW1nOntwcmVmaXg6JyFbJyxwb3N0Zml4OiddKHNyYyknfSxcblxuXHRcdGhlYWRlcjp7cHJlZml4OicjIyMgJyxwb3N0Zml4OicnfSxcblx0XHRxdW90ZTp7cHJlZml4Oic+ICcscG9zdGZpeDonJ30sXG5cdFx0dWw6e3ByZWZpeDonLSAnLHBvc3RmaXg6Jyd9LFxuXHRcdC8vb2w6e30sXG5cdFx0Ly9pbmRlbnQ6e30sXG5cdFx0Ly9vdXRkZW50Ont9LFxuXHR9O1xuXHRmdW5jdGlvbiBpbmxpbmVBY3Rpb24oY20sYWN0aW9uTmFtZSxjYW5TdGFydFdpdGhTcGFjZSl7XG5cdFx0dmFyIHRleHRzPWNtLmdldFNlbGVjdGlvbnMoKTtcblx0XHR2YXIgcmVwbGFjZW1lbnRzPVtdO1xuXHRcdHZhciBwcmVmaXg9c3ludGF4W2FjdGlvbk5hbWVdLnByZWZpeDtcblx0XHR2YXIgcG9zdGZpeD1zeW50YXhbYWN0aW9uTmFtZV0ucG9zdGZpeDtcblx0XHR0ZXh0cy5mb3JFYWNoKGZ1bmN0aW9uKHRleHQpe1xuXHRcdFx0aWYoIHRleHQubGVuZ3RoPj1wcmVmaXgubGVuZ3RoK3Bvc3RmaXgubGVuZ3RoICYmXG5cdFx0XHRcdHRleHQuc3RhcnRXaXRoKHByZWZpeCxjYW5TdGFydFdpdGhTcGFjZSkgJiZcblx0XHRcdFx0dGV4dC5lbmRXaXRoKHBvc3RmaXgpKXtcblx0XHRcdFx0cmVwbGFjZW1lbnRzLnB1c2godGV4dC5zdWJzdHIocHJlZml4Lmxlbmd0aCx0ZXh0Lmxlbmd0aC1wcmVmaXgubGVuZ3RoLXBvc3RmaXgubGVuZ3RoKSk7XG5cdFx0XHR9ZWxzZXtcblx0XHRcdFx0cmVwbGFjZW1lbnRzLnB1c2gocHJlZml4K3RleHQrcG9zdGZpeCk7XG5cdFx0XHR9XG5cdFx0fSk7XG5cdFx0Y20ucmVwbGFjZVNlbGVjdGlvbnMocmVwbGFjZW1lbnRzLCdhcm91bmQnKTtcblx0fVxuXHRmdW5jdGlvbiByb3dBY3Rpb24oY20sYWN0aW9uTmFtZSl7XG5cdFx0Ly9zZWxlY3Qgcm93XG5cdFx0dmFyIHNlbGVjdGlvbnM9Y20ubGlzdFNlbGVjdGlvbnMoKTtcblx0XHRzZWxlY3Rpb25zLmZvckVhY2goZnVuY3Rpb24ocmFuZ2Upe1xuXHRcdFx0dmFyIG51bTE9cmFuZ2UuYW5jaG9yLmxpbmUsbnVtMj1yYW5nZS5oZWFkLmxpbmU7XG5cdFx0XHR2YXIgc3RhcnQ9bnVtMTxudW0yP251bTE6bnVtMixlbmQ9bnVtMT5udW0yP251bTE6bnVtMjtcblx0XHRcdGNtLmFkZFNlbGVjdGlvbih7bGluZTpzdGFydCxjaDowfSx7bGluZTplbmR9KTtcblx0XHR9KTtcblx0XHR2YXIgcHJlZml4PXN5bnRheFthY3Rpb25OYW1lXS5wcmVmaXg7XG5cdFx0dmFyIHJlcGxhY2VtZW50cz1bXTtcblx0XHRzZWxlY3Rpb25zPWNtLmdldFNlbGVjdGlvbnMoKTtcblx0XHRzZWxlY3Rpb25zLmZvckVhY2goZnVuY3Rpb24odGV4dCl7XG5cdFx0XHRyZXBsYWNlbWVudHMucHVzaChcblx0XHRcdFx0dGV4dC5zcGxpdCgnXFxuJykubWFwKGZ1bmN0aW9uKGxpbmUpe1xuXHRcdFx0XHRcdGlmKGxpbmUuc3RhcnRXaXRoKHByZWZpeCx0cnVlKSl7XG5cdFx0XHRcdFx0XHR2YXIgc3RhcnRBdD1saW5lLmluZGV4T2YocHJlZml4KTtcblx0XHRcdFx0XHRcdHN0YXJ0Q2hhcnM9bGluZS5zdWJzdHIoMCxzdGFydEF0KTtcblx0XHRcdFx0XHRcdGVuZENoYXJzPWxpbmUuc3Vic3RyKHN0YXJ0QXQrcHJlZml4Lmxlbmd0aCk7XG5cdFx0XHRcdFx0XHRyZXR1cm4gc3RhcnRDaGFycytlbmRDaGFycztcblx0XHRcdFx0XHR9ZWxzZXtcblx0XHRcdFx0XHRcdHJldHVybiBwcmVmaXgrbGluZTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH0pLmpvaW4oJ1xcbicpXG5cdFx0XHQpO1xuXHRcdH0pO1xuXHRcdGNtLnJlcGxhY2VTZWxlY3Rpb25zKHJlcGxhY2VtZW50cywnYXJvdW5kJyk7XG5cdH1cblx0cmV0dXJue1xuXHRcdC8vaW5saW5lIGFjdGlvbnNcblx0XHRib2xkOmZ1bmN0aW9uKGNtKXtpbmxpbmVBY3Rpb24oY20sJ2JvbGQnKTt9LFxuXHRcdGl0YWxpYzpmdW5jdGlvbihjbSl7aW5saW5lQWN0aW9uKGNtLCdpdGFsaWMnKTt9LFxuXHRcdGNvZGU6ZnVuY3Rpb24oY20pe2lubGluZUFjdGlvbihjbSwnY29kZScpO30sXG5cdFx0bGluazpmdW5jdGlvbihjbSl7aW5saW5lQWN0aW9uKGNtLCdsaW5rJyk7fSxcblx0XHRpbWc6ZnVuY3Rpb24oY20pe2lubGluZUFjdGlvbihjbSwnaW1nJyk7fSxcblx0XHQvL3JvdyBhY3Rpb25zXG5cdFx0aGVhZGVyOmZ1bmN0aW9uKGNtKXtyb3dBY3Rpb24oY20sJ2hlYWRlcicpO30sXG5cdFx0cXVvdGU6ZnVuY3Rpb24oY20pe3Jvd0FjdGlvbihjbSwncXVvdGUnKTt9LFxuXHRcdHVsOmZ1bmN0aW9uKGNtKXtyb3dBY3Rpb24oY20sJ3VsJyk7fSxcblx0XHRvbDpmdW5jdGlvbihjbSl7XG5cdFx0XHR2YXIgc2VsZWN0aW9ucz1jbS5saXN0U2VsZWN0aW9ucygpO1xuXHRcdFx0c2VsZWN0aW9ucy5mb3JFYWNoKGZ1bmN0aW9uKHJhbmdlKXtcblx0XHRcdFx0dmFyIG51bTE9cmFuZ2UuYW5jaG9yLmxpbmUsbnVtMj1yYW5nZS5oZWFkLmxpbmU7XG5cdFx0XHRcdHZhciBzdGFydD1udW0xPG51bTI/bnVtMTpudW0yLGVuZD1udW0xPm51bTI/bnVtMTpudW0yO1xuXHRcdFx0XHRjbS5hZGRTZWxlY3Rpb24oe2xpbmU6c3RhcnQsY2g6MH0se2xpbmU6ZW5kfSk7XG5cdFx0XHR9KTtcblx0XHRcdHZhciByZXBsYWNlbWVudHM9W107XG5cdFx0XHRzZWxlY3Rpb25zPWNtLmdldFNlbGVjdGlvbnMoKTtcblx0XHRcdHNlbGVjdGlvbnMuZm9yRWFjaChmdW5jdGlvbih0ZXh0KXtcblx0XHRcdFx0aWYoL15cXHMqXFxkK1xcLlxccy9tLnRlc3QodGV4dCkpe1xuXHRcdFx0XHRcdHJlcGxhY2VtZW50cy5wdXNoKHRleHQucmVwbGFjZSgvXlxccypcXGQrXFwuXFxzL21nLCcnKSk7XG5cdFx0XHRcdH1lbHNle1xuXHRcdFx0XHRcdHJlcGxhY2VtZW50cy5wdXNoKFxuXHRcdFx0XHRcdFx0dGV4dC5zcGxpdCgnXFxuJykubWFwKGZ1bmN0aW9uKGxpbmUsaSl7IHJldHVybiAoaSsxKSsnLiAnK2xpbmU7IH0pLmpvaW4oJ1xcbicpXG5cdFx0XHRcdFx0KTtcblx0XHRcdFx0fVxuXHRcdFx0fSk7XG5cdFx0XHRjbS5yZXBsYWNlU2VsZWN0aW9ucyhyZXBsYWNlbWVudHMsJ2Fyb3VuZCcpO1xuXHRcdH0sXG5cdFx0dW5kbzpmdW5jdGlvbihjbSl7Y20udW5kbygpO30sXG5cdFx0cmVkbzpmdW5jdGlvbihjbSl7Y20ucmVkbygpO31cblx0fVxufV0pXG4ucHJvdmlkZXIoJ2hsanNTZXJ2JyxmdW5jdGlvbigpe1xuXHR2YXIgX29wdGlvbnM9e307XG5cdHJldHVybiB7XG5cdFx0c2V0T3B0aW9uczpmdW5jdGlvbihvcHRpb25zKXtcblx0XHRcdGFuZ3VsYXIuZXh0ZW5kKF9vcHRpb25zLG9wdGlvbnMpO1xuXHRcdH0sXG5cdFx0Z2V0T3B0aW9uczpmdW5jdGlvbigpe1xuXHRcdFx0cmV0dXJuIGFuZ3VsYXIuY29weShfb3B0aW9ucyk7XG5cdFx0fSxcblx0XHQkZ2V0OmZ1bmN0aW9uKCl7XG5cdFx0XHRobGpzLmNvbmZpZ3VyZShfb3B0aW9ucyk7XG5cdFx0XHRyZXR1cm4gaGxqcztcblx0XHR9XG5cdH1cbn0pXG4uZmlsdGVyKCdtYXJrZG93bicsWyckc2NlJywnaGxqc1NlcnYnLGZ1bmN0aW9uKCRzY2UsaGxqc1NlcnYpe1xuXHR2YXIgbWFya2VkPShmdW5jdGlvbihtYXJrZWQpe1xuXHRcdC8qbWFya2VkLnNldE9wdGlvbnMoe1xuXHRcdCAgcmVuZGVyZXI6IG5ldyBtYXJrZWQuUmVuZGVyZXIoKSxcblx0XHQgIGdmbTogdHJ1ZSxcblx0XHQgIHRhYmxlczogdHJ1ZSxcblx0XHQgIGJyZWFrczogZmFsc2UsXG5cdFx0ICBwZWRhbnRpYzogZmFsc2UsXG5cdFx0ICBzYW5pdGl6ZTogdHJ1ZSxcblx0XHQgIHNtYXJ0TGlzdHM6IHRydWUsXG5cdFx0ICBzbWFydHlwYW50czogZmFsc2Vcblx0XHR9KTsqL1xuXHRcdG1hcmtlZC5zZXRPcHRpb25zKHtcblx0XHRcdGhpZ2hsaWdodDpmdW5jdGlvbihjb2RlKXtcblx0XHRcdFx0cmV0dXJuIGhsanNTZXJ2LmhpZ2hsaWdodEF1dG8oY29kZSkudmFsdWU7XG5cdFx0XHR9XG5cdFx0fSlcblx0XHRyZXR1cm4gbWFya2VkO1xuXHR9KSh3aW5kb3cubWFya2VkKTtcblx0XG5cdHJldHVybiBmdW5jdGlvbihpbnB1dCl7XG5cdFx0aWYoIWlucHV0fHx0eXBlb2YgaW5wdXQhPT0nc3RyaW5nJykgcmV0dXJuICcnO1xuXHRcdHJldHVybiAkc2NlLnRydXN0QXNIdG1sKG1hcmtlZChpbnB1dCkpO1xuXHR9XG59XSlcbi5kaXJlY3RpdmUoJ21kZWRpdG9yJywgWydtZGVkaXRvckNvbmZpZycsJ2FjdGlvbnMnLCBmdW5jdGlvbihtZGVkaXRvckNvbmZpZyxhY3Rpb25zKXtcblxuXHRyZXR1cm4ge1xuXHRcdHJlc3RyaWN0OidBRScsXG5cdFx0c2NvcGU6e1xuXHRcdFx0ZGVmYXVsdFRleHQ6ICc9Jyxcblx0XHRcdHRleHQ6Jz0nLFxuXHRcdFx0b3B0aW9uczonPT8nLFxuXHRcdFx0Y2xhc3NOYW1lczonPT8nLFxuXHRcdFx0dG9vbGJhcjonPT8nLFxuXHRcdFx0c2hvcnRjdXQ6Jz0/J1xuXHRcdH0sXG5cdFx0dGVtcGxhdGU6Wyc8ZGl2IGNsYXNzPVwie3tjbGFzc05hbWVzLndyYXBwZXJ9fVwiPicsXG5cdFx0XHRcdFx0Jzx1bCBjbGFzcz1cInt7Y2xhc3NOYW1lcy50b29sYmFyfX1cIj4nLFxuXHRcdFx0XHRcdFx0JzxsaSBuZy1yZXBlYXQ9XCJpdGVtIGluIHRvb2xiYXIgfCBmaWx0ZXI6dG9vbGJhckZpbHRlciB0cmFjayBieSAkaW5kZXhcIiBuZy1jbGljaz1cImNhbGxBY3Rpb24oaXRlbS5hY3Rpb24pXCIgY2xhc3M9XCJ7e2l0ZW0uc2VwYXJhdG9yP2NsYXNzTmFtZXMuc2VwYXJhdG9yOmNsYXNzTmFtZXMudG9vbGJhckl0ZW19fVwiIHRpdGxlPVwie3tpdGVtLnRpcH19XCI+Jyxcblx0XHRcdFx0XHRcdFx0JzxpIGNsYXNzPVwie3tpdGVtLmljb259fVwiIG5nLWlmPVwiIWl0ZW0uc2VwYXJhdG9yXCI+PC9pPicsXG5cdFx0XHRcdFx0XHRcdCc8c3BhbiBuZy1pZj1cIml0ZW0uc2VwYXJhdG9yXCI+fDwvc3Bhbj4nLFxuXHRcdFx0XHRcdFx0JzwvbGk+Jyxcblx0XHRcdFx0XHQnPC91bD4nLFxuXHRcdFx0XHRcdCc8dGV4dGFyZWEgY2xhc3M9XCJ7e2NsYXNzTmFtZXMudGV4dGFyZWF9fVwiIG5nLXNob3c9XCIhcHJldmlld1wiPjwvdGV4dGFyZWE+Jyxcblx0XHRcdFx0XHQnPGRpdiBjbGFzcz1cInt7Y2xhc3NOYW1lcy5wcmV2aWV3fX1cIiBuZy1iaW5kLWh0bWw9XCJ0ZXh0IHwgbWFya2Rvd25cIiBuZy1pZj1cInByZXZpZXdcIj48L2Rpdj4nLFxuXHRcdFx0XHQnPC9kaXY+J10uam9pbignJyksXG5cdFx0cmVwbGFjZTp0cnVlLFxuXHRcdGNvbXBpbGU6ZnVuY3Rpb24odEVsbSx0QXR0cnMpe1xuXHRcdFx0aWYoYW5ndWxhci5pc1VuZGVmaW5lZCh3aW5kb3cuQ29kZU1pcnJvcikpe3Rocm93KG5ldyBFcnJvcignUmVxdWlyZSBDb2RlTWlycm9yIScpKTt9XG5cdFx0XHR2YXIgdGhlbWU9dEF0dHJzLnRoZW1lfHwnZGVmYXVsdCc7XG5cdFx0XHR2YXIgdGV4dGFyZWEgPSB0RWxtLmZpbmQoJ3RleHRhcmVhJyk7XG5cdFx0XHR2YXIgY29kZW1pcnJvciA9IG5ldyB3aW5kb3cuQ29kZU1pcnJvcihmdW5jdGlvbihjbV9lbCl7XG5cdFx0XHRcdGFuZ3VsYXIuZm9yRWFjaCh0ZXh0YXJlYS5wcm9wKCdhdHRyaWJ1dGVzJyksZnVuY3Rpb24oYXR0cil7XG5cdFx0XHRcdFx0aWYoYXR0ci5uYW1lPT0nY2xhc3MnKVxuXHRcdFx0XHRcdFx0Y21fZWwuY2xhc3NOYW1lKz0nICcrYXR0ci50ZXh0Q29udGVudDtcblx0XHRcdFx0XHRlbHNlXG5cdFx0XHRcdFx0Y21fZWwuc2V0QXR0cmlidXRlKGF0dHIubmFtZSxhdHRyLnRleHRDb250ZW50KTtcblx0XHRcdFx0fSk7XG5cdFx0XHRcdHRleHRhcmVhLnJlcGxhY2VXaXRoKGNtX2VsKTtcblx0XHRcdH0se1xuXHRcdFx0XHRtb2RlOidnZm0nLFxuXHRcdFx0XHRsaW5lV3JhcHBpbmc6dHJ1ZSxcblx0XHRcdFx0dGhlbWU6dGhlbWVcblx0XHRcdH0pO1xuXG5cdFx0XHRyZXR1cm4gZnVuY3Rpb24gcG9zdGxpbmsoJHNjb3BlLCBpRWxtLCBpQXR0cnMpe1xuXHRcdFx0XHQkc2NvcGUucHJldmlldz1mYWxzZTtcblx0XHRcdFx0JHNjb3BlLmNsYXNzTmFtZXM9JHNjb3BlLmNsYXNzTmFtZXN8fG1kZWRpdG9yQ29uZmlnLmNsYXNzTmFtZXM7XG5cdFx0XHRcdCRzY29wZS50b29sYmFyPSRzY29wZS50b29sYmFyfHxtZGVkaXRvckNvbmZpZy50b29sYmFyO1xuXHRcdFx0XHR2YXIgb3B0aW9ucz0kc2NvcGUub3B0aW9uc3x8e307XG5cdFx0XHRcdGZvcih2YXIga2V5IGluIG9wdGlvbnMpe1xuXHRcdFx0XHRcdGNvZGVtaXJyb3Iuc2V0T3B0aW9uKGtleSxvcHRpb25zW2tleV0pO1xuXHRcdFx0XHR9XG5cdFx0XHRcdHZhciBzaG9ydGN1dD0kc2NvcGUuc2hvcnRjdXR8fG1kZWRpdG9yQ29uZmlnLnNob3J0Y3V0O1xuXHRcdFx0XHR2YXIga2V5TWFwPXt9O1xuXHRcdFx0XHRmb3IodmFyIGtleSBpbiBzaG9ydGN1dCl7XG5cdFx0XHRcdFx0aWYodHlwZW9mIGtleT09J3N0cmluZycmJmFjdGlvbnNbc2hvcnRjdXRba2V5XV0pXG5cdFx0XHRcdFx0XHRrZXlNYXBba2V5XT1hY3Rpb25zW3Nob3J0Y3V0W2tleV1dO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0a2V5TWFwWydFbnRlciddPVwibmV3bGluZUFuZEluZGVudENvbnRpbnVlTWFya2Rvd25MaXN0XCI7XG5cdFx0XHRcdGtleU1hcFsnVGFiJ109J3RhYkFuZEluZGVudENvbnRpbnVlTWFya2Rvd25MaXN0Jztcblx0XHRcdFx0a2V5TWFwWydTaGlmdC1UYWInXT0nc2hpZnRUYWJBbmRJbmRlbnRDb250aW51ZU1hcmtkb3duTGlzdCc7XG5cblx0XHRcdFx0Y29kZW1pcnJvci5zZXRPcHRpb24oXCJleHRyYUtleXNcIixrZXlNYXApO1xuXG5cdFx0XHRcdCRzY29wZS5jYWxsQWN0aW9uPWZ1bmN0aW9uKGFjdGlvbk5hbWUpe1xuXHRcdFx0XHRcdGlmKCFhY3Rpb25OYW1lKXJldHVybjtcblx0XHRcdFx0XHRlbHNlIGlmKGFjdGlvbnNbYWN0aW9uTmFtZV0pXG5cdFx0XHRcdFx0XHRhY3Rpb25zW2FjdGlvbk5hbWVdKGNvZGVtaXJyb3IpO1xuXHRcdFx0XHRcdGVsc2UgaWYoYWN0aW9uTmFtZT09J3ByZXZpZXcnKXtcblx0XHRcdFx0XHRcdCRzY29wZS5wcmV2aWV3PSEkc2NvcGUucHJldmlldztcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0ZWxzZSBpZihhY3Rpb25OYW1lPT0nZnVsbHNjcmVlbicpe1xuXHRcdFx0XHRcdFx0dmFyIGVsPWlFbG1bMF07XG5cdFx0XHRcdFx0XHR2YXIgcmZzPWVsLnJlcXVlc3RGdWxsU2NyZWVufHwgZWwud2Via2l0UmVxdWVzdEZ1bGxTY3JlZW58fCBlbC5tb3pSZXF1ZXN0RnVsbFNjcmVlbjtcblx0XHRcdFx0XHRcdGlmKHJmcykgcmZzLmNhbGwoZWwpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRjb2RlbWlycm9yLmZvY3VzKCk7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRpZigkc2NvcGUudGV4dCl7XG5cdFx0XHRcdFx0Y29kZW1pcnJvci5zZXRWYWx1ZSgkc2NvcGUudGV4dCk7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHR2YXIgZGVzdHJveVdhdGNoVGV4dCA9ICRzY29wZS4kd2F0Y2goJ2RlZmF1bHRUZXh0JywgZnVuY3Rpb24oKXtcblx0XHRcdFx0XHRpZigkc2NvcGUuZGVmYXVsdFRleHQpIHtcblx0XHRcdFx0XHRcdGNvZGVtaXJyb3Iuc2V0VmFsdWUoJHNjb3BlLmRlZmF1bHRUZXh0KTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH0pO1xuXG5cdFx0XHRcdCRzY29wZS4kb24oJyRkZXN0cm95JywgZGVzdHJveVdhdGNoVGV4dCk7XG5cblx0XHRcdFx0Y29kZW1pcnJvci5vbignY2hhbmdlJyxmdW5jdGlvbihpbnN0YW5jZSwgZXZlbnQpe1xuXHRcdFx0XHRcdHZhciB2YWw9aW5zdGFuY2UuZ2V0VmFsdWUoKTtcblx0XHRcdFx0XHRpZigkc2NvcGUudGV4dCE9PXZhbCApe1xuXHRcdFx0XHRcdFx0JHNjb3BlLnRleHQ9aW5zdGFuY2UuZ2V0VmFsdWUoKTtcblx0XHRcdFx0XHRcdHZhciBwaGFzZT0kc2NvcGUuJHJvb3QuJCRwaGFzZTtcblx0XHRcdFx0XHRcdGlmKHBoYXNlIT09JyRhcHBseScmJnBoYXNlIT09J2RpZ2VzdCcpe1xuXHRcdFx0XHRcdFx0XHQkc2NvcGUuJGFwcGx5KCk7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9KTtcblx0XHRcdH1cblx0XHR9XG5cdH1cbn1dKTsiLCIoZnVuY3Rpb24gKCkge1xyXG4gICAgYW5ndWxhclxyXG4gICAgICAgIC5tb2R1bGUoJ2F1dG9Db21wbGV0ZU1vZHVsZScsIFsnbmdTYW5pdGl6ZSddKVxyXG4gICAgICAgIC5zZXJ2aWNlKCdhdXRvQ29tcGxldGVTZXJ2aWNlJywgYXV0b0NvbXBsZXRlU2VydmljZSlcclxuICAgICAgICAuZGlyZWN0aXZlKCdhdXRvQ29tcGxldGUnLCBhdXRvQ29tcGxldGVEaXJlY3RpdmUpO1xyXG5cclxuICAgIGF1dG9Db21wbGV0ZURpcmVjdGl2ZS4kaW5qZWN0ID0gWyckY29tcGlsZScsICckZG9jdW1lbnQnLCAnJHdpbmRvdycsICckdGltZW91dCcsICdhdXRvQ29tcGxldGVTZXJ2aWNlJ107XHJcbiAgICBmdW5jdGlvbiBhdXRvQ29tcGxldGVEaXJlY3RpdmUoJGNvbXBpbGUsICRkb2N1bWVudCwgJHdpbmRvdywgJHRpbWVvdXQsIGF1dG9Db21wbGV0ZVNlcnZpY2UpIHtcclxuXHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgcmVzdHJpY3Q6ICdBJyxcclxuICAgICAgICAgICAgc2NvcGU6IHt9LFxyXG4gICAgICAgICAgICB0cmFuc2NsdWRlOiBmYWxzZSxcclxuICAgICAgICAgICAgY29udHJvbGxlckFzOiAnY3RybCcsXHJcbiAgICAgICAgICAgIGJpbmRUb0NvbnRyb2xsZXI6IHsgb3B0aW9uczogJyZhdXRvQ29tcGxldGUnIH0sXHJcbiAgICAgICAgICAgIHJlcXVpcmU6IFsnYXV0b0NvbXBsZXRlJywgJ25nTW9kZWwnXSxcclxuICAgICAgICAgICAgbGluazogcG9zdExpbmtGbixcclxuICAgICAgICAgICAgY29udHJvbGxlcjogTWFpbkN0cmxcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGZ1bmN0aW9uIHBvc3RMaW5rRm4oc2NvcGUsIGVsZW1lbnQsIGF0dHJzLCBjdHJscykge1xyXG4gICAgICAgICAgICB2YXIgY3RybCA9IGN0cmxzWzBdOyAvL2RpcmVjdGl2ZSBjb250cm9sbGVyXHJcbiAgICAgICAgICAgIGN0cmwudGV4dE1vZGVsQ3RybCA9IGN0cmxzWzFdOyAvLyB0ZXh0Ym94IG1vZGVsIGNvbnRyb2xsZXJcclxuXHJcbiAgICAgICAgICAgIGF1dG9Db21wbGV0ZVNlcnZpY2UuYWRkRGlyZWN0aXZlQ3RybChjdHJsKTtcclxuXHJcbiAgICAgICAgICAgIC8vIGV4ZWN1dGUgdGhlIG9wdGlvbnMgZXhwcmVzc2lvbiBpbiB0aGUgcGFyZW50IHNjb3BlXHJcbiAgICAgICAgICAgIHZhciBvcHRpb25zID0gY3RybC5vcHRpb25zKCkgfHwge307XHJcbiAgICAgICAgICAgIGN0cmwuaW5pdChhbmd1bGFyLmV4dGVuZCh7fSwgZGVmYXVsdE9wdGlvbnMsIG9wdGlvbnMpKTtcclxuXHJcbiAgICAgICAgICAgIGluaXRDb250YWluZXIoKTtcclxuXHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIGluaXRDb250YWluZXIoKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgdGVtcGxhdGUgPVxyXG4gICAgICAgICAgICAgICAgICAgICc8ZGl2IGNsYXNzPVwiYXV0by1jb21wbGV0ZS1jb250YWluZXJcIiBkYXRhLWluc3RhbmNlLWlkPVwie3tjdHJsLmluc3RhbmNlSWR9fVwiIG5nLXNob3c9XCJjdHJsLmNvbnRhaW5lclZpc2libGVcIj4nICtcclxuICAgICAgICAgICAgICAgICAgICAgICc8dWwgY2xhc3M9XCJhdXRvLWNvbXBsZXRlLXJlc3VsdHNcIj4nICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJzxsaSBuZy1yZXBlYXQ9XCJpdGVtIGluIGN0cmwucmVuZGVySXRlbXNcIicgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJ25nLWNsaWNrPVwiY3RybC5zZWxlY3RJdGVtKCRpbmRleCwgdHJ1ZSlcIiAnICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICdjbGFzcz1cImF1dG8tY29tcGxldGUtaXRlbVwiIGRhdGEtaW5kZXg9XCJ7eyRpbmRleH19XCIgJyArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnbmctY2xhc3M9XCJjdHJsLmlzU2VsZWN0ZWQoJGluZGV4KVwiPicgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICc8ZGl2IG5nLWJpbmQtaHRtbD1cIml0ZW0ubGFiZWxcIj48L2Rpdj4nICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJzwvbGk+JyArXHJcbiAgICAgICAgICAgICAgICAgICAgICAnPC91bD4nICtcclxuICAgICAgICAgICAgICAgICAgICAnPC9kaXY+JztcclxuXHJcbiAgICAgICAgICAgICAgICB2YXIgdGVtcGxhdGVGbiA9ICRjb21waWxlKHRlbXBsYXRlKTtcclxuICAgICAgICAgICAgICAgIGN0cmwuY29udGFpbmVyID0gdGVtcGxhdGVGbihzY29wZSk7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKGFuZ3VsYXIuaXNEZWZpbmVkKGN0cmwub3B0aW9ucy5jb250YWluZXJDc3NDbGFzcykpIHtcclxuICAgICAgICAgICAgICAgICAgICBjdHJsLmNvbnRhaW5lci5hZGRDbGFzcyhjdHJsLm9wdGlvbnMuY29udGFpbmVyQ3NzQ2xhc3MpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIC8vIGlmIGEganF1ZXJ5IHBhcmVudCBpcyBzcGVjaWZpZWQgaW4gb3B0aW9ucyBhcHBlbmQgdGhlIGNvbnRhaW5lciB0byB0aGF0XHJcbiAgICAgICAgICAgICAgICAvLyBvdGhlcndpc2UgYXBwZW5kIHRvIGJvZHlcclxuICAgICAgICAgICAgICAgIGlmIChhbmd1bGFyLmlzRGVmaW5lZChjdHJsLm9wdGlvbnMuZHJvcGRvd25QYXJlbnQpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY3RybC5vcHRpb25zLmRyb3Bkb3duUGFyZW50LmFwcGVuZChjdHJsLmNvbnRhaW5lcik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAkZG9jdW1lbnQuZmluZCgnYm9keScpLmFwcGVuZChjdHJsLmNvbnRhaW5lcik7XHJcbiAgICAgICAgICAgICAgICAgICAgY3RybC5jb250YWluZXIuYWRkQ2xhc3MoJ2F1dG8tY29tcGxldGUtYWJzb2x1dGUtY29udGFpbmVyJyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gc3RvcmUgdGhlIGpxdWVyeSBlbGVtZW50IG9uIHRoZSBjb250cm9sbGVyICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgY3RybC50YXJnZXQgPSBlbGVtZW50O1xyXG5cclxuICAgICAgICAgICAgICAgIC8vIHN0b3JlIGEgcmVmZXJlbmNlIHRvIHRoZSBVTFxyXG4gICAgICAgICAgICAgICAgY3RybC5lbGVtZW50VUwgPSBhbmd1bGFyLmVsZW1lbnQoY3RybC5jb250YWluZXJbMF0ucXVlcnlTZWxlY3RvcigndWwuYXV0by1jb21wbGV0ZS1yZXN1bHRzJykpO1xyXG5cclxuICAgICAgICAgICAgICAgIC8vIHByZXZlbnRzIHRleHQgc2VsZWN0IG9uIG1vdXNlIGRyYWcsIGRibGNsaWNrXHJcbiAgICAgICAgICAgICAgICBjdHJsLmNvbnRhaW5lci5jc3MoJ01velVzZXJTZWxlY3QnLCAnbm9uZScpLmJpbmQoJ3NlbGVjdHN0YXJ0JywgZnVuY3Rpb24gKCkgeyByZXR1cm4gZmFsc2U7IH0pO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAvLyB3aGVuIHRoZSB0YXJnZXQodGV4dGJveCkgZ2V0cyBmb2N1cyBhY3RpdmF0ZSB0aGUgY29ycmVzcG9uZGluZyBjb250YWluZXJcclxuICAgICAgICAgICAgZWxlbWVudC5vbignZm9jdXMnLCBmdW5jdGlvbiAoZSkge1xyXG4gICAgICAgICAgICAgICAgc2NvcGUuJGV2YWxBc3luYyhmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY3RybC5hY3RpdmF0ZSgpO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgLy8gaGFuZGxlIGtleSBzdHJva2VzXHJcbiAgICAgICAgICAgIGVsZW1lbnQub24oJ2tleWRvd24nLCBmdW5jdGlvbiAoZSkge1xyXG4gICAgICAgICAgICAgICAgc2NvcGUuJGV2YWxBc3luYyhmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgX2VsZW1lbnRLZXlEb3duKGUpO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgLy8gaGlkZSBjb250YWluZXIgb24gRU5URVJcclxuICAgICAgICAgICAgJGRvY3VtZW50Lm9uKCdrZXlkb3duJywgZnVuY3Rpb24gKGUpIHtcclxuICAgICAgICAgICAgICAgIHNjb3BlLiRldmFsQXN5bmMoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIF9kb2N1bWVudEtleURvd24oZSk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICBhbmd1bGFyLmVsZW1lbnQoJHdpbmRvdykub24oJ3Jlc2l6ZScsIGZ1bmN0aW9uIChlKSB7XHJcbiAgICAgICAgICAgICAgICBzY29wZS4kZXZhbEFzeW5jKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICBjdHJsLmhpZGUoKTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9KVxyXG5cclxuICAgICAgICAgICAgLy8gaGlkZSBjb250YWluZXIgdXBvbiBDTElDSyBvdXRzaWRlIG9mIHRoZSBkcm9wZG93biByZWN0YW5nbGUgcmVnaW9uXHJcbiAgICAgICAgICAgICRkb2N1bWVudC5vbignY2xpY2snLCBmdW5jdGlvbiAoZSkge1xyXG4gICAgICAgICAgICAgICAgc2NvcGUuJGV2YWxBc3luYyhmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgX2RvY3VtZW50Q2xpY2soZSk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAvLyBjbGVhbnVwIG9uIGRlc3Ryb3lcclxuICAgICAgICAgICAgc2NvcGUuJG9uKCckZGVzdHJveScsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIGN0cmwuZW1wdHkoKTtcclxuICAgICAgICAgICAgICAgIGN0cmwuY29udGFpbmVyLnJlbW92ZSgpO1xyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIF9lbGVtZW50S2V5RG93bihlKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIga2V5ID0gZS5jaGFyQ29kZSB8fCBlLmtleUNvZGUgfHwgMDtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoa2V5ID09IEtFWUNPREUuVVBBUlJPVykge1xyXG4gICAgICAgICAgICAgICAgICAgIGN0cmwuc2Nyb2xsVG9JdGVtKC0xKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcclxuICAgICAgICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoa2V5ID09IEtFWUNPREUuRE9XTkFSUk9XKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY3RybC5zY3JvbGxUb0l0ZW0oMSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKGtleSA9PSBLRVlDT0RFLkVOVEVSKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY3RybC5jb25maXJtKCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIC8vcHJldmVudCBwb3N0YmFjayB1cG9uIGhpdHRpbmcgZW50ZXJcclxuICAgICAgICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIGlmIChrZXkgPT0gS0VZQ09ERS5FU0NBUEUpIHtcclxuICAgICAgICAgICAgICAgICAgICBjdHJsLmhpZGUoKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAvLyBmZXRjaCBpZiBtaW5pbXVtIG51bWJlciBvZiBjaGFycyBhcmUgdHlwZXNcclxuICAgICAgICAgICAgICAgIC8vIGVsc2UgaGlkZSBkcm9wZG93blxyXG4gICAgICAgICAgICAgICAgdmFyIHRlcm0gPSBlbGVtZW50LnZhbCgpO1xyXG4gICAgICAgICAgICAgICAgaWYgKHRlcm0ubGVuZ3RoIDwgY3RybC5vcHRpb25zLm1pbmltdW1DaGFycyB8fCB0ZXJtID09PSBjdHJsLnNlbGVjdGVkVGV4dCgpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY3RybC5oaWRlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgY3RybC5lbXB0eSgpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgIC8vIHdhaXQgZmV3IG1pbGxpc2VjcyBiZWZvcmUgY2FsbGluZyBmZXRjaCgpXHJcbiAgICAgICAgICAgICAgICAvLyB0aGlzIGFsbG93cyBjaGVja2luZyBpZiB1c2VyIGhhcyBzdG9wcGVkIHR5cGluZ1xyXG4gICAgICAgICAgICAgICAgdmFyIGRlbGF5ID0gJHRpbWVvdXQoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIGlzIHRlcm0gdW5jaGFuZ2VkP1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0ZXJtID09IGVsZW1lbnQudmFsKCkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY3RybC5mZXRjaCh0ZXJtKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIC8vY2FuY2VsIHRoZSB0aW1lb3V0XHJcbiAgICAgICAgICAgICAgICAgICAgJHRpbWVvdXQuY2FuY2VsKGRlbGF5KTtcclxuICAgICAgICAgICAgICAgIH0sIDMwMCk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIF9kb2N1bWVudEtleURvd24oZSkge1xyXG4gICAgICAgICAgICAgICAgLy8gaWYgbXVsdGlwbGUgYXV0byBjb21wbGV0ZSBleGlzdCBvbiBhIHBhZ2UsIGhpZGUgaW5hY3RpdmUgZHJvcGRvd25zXHJcbiAgICAgICAgICAgICAgICBhdXRvQ29tcGxldGVTZXJ2aWNlLmhpZGVJZkluYWN0aXZlKCk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIF9kb2N1bWVudENsaWNrKGUpIHtcclxuICAgICAgICAgICAgICAgIC8vIGlmIG11bHRpcGxlIGF1dG8gY29tcGxldGUgZXhpc3Qgb24gYSBwYWdlLCBoaWRlIGluYWN0aXZlIGRyb3Bkb3duc1xyXG4gICAgICAgICAgICAgICAgYXV0b0NvbXBsZXRlU2VydmljZS5oaWRlSWZJbmFjdGl2ZSgpO1xyXG5cclxuICAgICAgICAgICAgICAgIC8vIGhpZGUgdGhlIGFjdGl2ZSBkcm9wZG93biBpZiB1c2VyIGNsaWNrcyBhbnl3aGVyZSBhd2F5IGZyb20gdGhlIGRyb3Bkb3duIGxpc3RcclxuICAgICAgICAgICAgICAgIHZhciBpc01vdXNlQXdheUZyb21BY3RpdmVDb250YWluZXIgPSBmYWxzZTtcclxuXHJcbiAgICAgICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChjdHJsLmluc3RhbmNlSWQgIT09IGN0cmwuYWN0aXZlSW5zdGFuY2VJZCgpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHZhciBvZmZzZXQgPSBjdHJsLmNvbnRhaW5lclswXS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgYXdheVRvbGVyYW5jZSA9IDMwO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBpZiAoZS5wYWdlWCA8IG9mZnNldC5sZWZ0IC0gYXdheVRvbGVyYW5jZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB8fCBlLnBhZ2VYID4gb2Zmc2V0LmxlZnQgKyBvZmZzZXQud2lkdGggKyBhd2F5VG9sZXJhbmNlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHx8IGUucGFnZVkgPCBvZmZzZXQudG9wIC0gYXdheVRvbGVyYW5jZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB8fCBlLnBhZ2VZID4gb2Zmc2V0LnRvcCArIG9mZnNldC5oZWlnaHQgKyBhd2F5VG9sZXJhbmNlKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpc01vdXNlQXdheUZyb21BY3RpdmVDb250YWluZXIgPSB0cnVlO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgLy9jaGVjayBpZiBtb3VzZSBpcyBvdmVyIHRoZSB0YXJnZXRcclxuICAgICAgICAgICAgICAgICAgICAgICAgb2Zmc2V0ID0gY3RybC50YXJnZXRbMF0uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlLnBhZ2VYID49IG9mZnNldC5sZWZ0XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAmJiBlLnBhZ2VYIDw9IG9mZnNldC5sZWZ0ICsgb2Zmc2V0LndpZHRoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAmJiBlLnBhZ2VZID49IG9mZnNldC50b3BcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICYmIGUucGFnZVkgPD0gb2Zmc2V0LnRvcCArIG9mZnNldC5oZWlnaHQpIHtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpc01vdXNlQXdheUZyb21BY3RpdmVDb250YWluZXIgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGlzTW91c2VBd2F5RnJvbUFjdGl2ZUNvbnRhaW5lcikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY3RybC5oaWRlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBjYXRjaCAoZSkgeyB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgTWFpbkN0cmwuJGluamVjdCA9IFsnJHEnLCAnJHdpbmRvdycsICckZG9jdW1lbnQnLCAnJHNjZScsICckdGltZW91dCcsICckaW50ZXJwb2xhdGUnLCAnJHRlbXBsYXRlUmVxdWVzdCcsICckZXhjZXB0aW9uSGFuZGxlcicsICdhdXRvQ29tcGxldGVTZXJ2aWNlJ107XHJcbiAgICBmdW5jdGlvbiBNYWluQ3RybCgkcSwgJHdpbmRvdywgJGRvY3VtZW50LCAkc2NlLCAkdGltZW91dCwgJGludGVycG9sYXRlLCAkdGVtcGxhdGVSZXF1ZXN0LCAkZXhjZXB0aW9uSGFuZGxlciwgYXV0b0NvbXBsZXRlU2VydmljZSkge1xyXG4gICAgICAgIHZhciBhY3RpdmVJbnN0YW5jZUlkID0gMCxcclxuICAgICAgICAgICAgc2VsZWN0ZWRUZXh0LFxyXG4gICAgICAgICAgICBzZWxlY3RlZFZhbHVlO1xyXG5cclxuICAgICAgICB2YXIgdGhhdCA9IHRoaXM7XHJcblxyXG4gICAgICAgIHRoaXMudGFyZ2V0ID0gbnVsbDtcclxuICAgICAgICB0aGlzLnNlbGVjdGVkSW5kZXggPSAtMTtcclxuICAgICAgICB0aGlzLnJlbmRlckl0ZW1zID0gW107XHJcbiAgICAgICAgdGhpcy5jb250YWluZXJWaXNpYmxlID0gZmFsc2U7XHJcblxyXG4gICAgICAgIHRoaXMuYWN0aXZlSW5zdGFuY2VJZCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGFjdGl2ZUluc3RhbmNlSWQ7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBoaWRlIGFueSBvcGVuIGNvbnRhaW5lcnMgb3RoZXIgdGhhbiB0aGUgYWN0aXZlIGNvbnRhaW5lclxyXG4gICAgICAgIHRoaXMuaGlkZUlmSW5hY3RpdmUgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIC8vIGRvIG5vdCBoaWRlIGNvbnRhaW5lciBpZiBhcHBlbmRlZCB0byBkcm9wZG93biBwYXJlbnQgc3BlY2lmaWVkIGluIG9wdGlvbnNcclxuICAgICAgICAgICAgaWYgKGFuZ3VsYXIuaXNEZWZpbmVkKHRoYXQub3B0aW9ucy5kcm9wZG93blBhcmVudCkpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgaWYgKHRoYXQuaW5zdGFuY2VJZCAhPT0gYWN0aXZlSW5zdGFuY2VJZCkge1xyXG4gICAgICAgICAgICAgICAgdGhhdC5oaWRlKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMuaW5pdCA9IGZ1bmN0aW9uIChvcHRpb25zKSB7XHJcbiAgICAgICAgICAgIHRoaXMub3B0aW9ucyA9IG9wdGlvbnM7XHJcbiAgICAgICAgICAgIHRoaXMuaW5zdGFuY2VJZCA9ICsraW5zdGFuY2VDb3VudDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMuYWN0aXZhdGUgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGFjdGl2ZUluc3RhbmNlSWQgPSB0aGF0Lmluc3RhbmNlSWQ7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLmZldGNoID0gZnVuY3Rpb24gKHRlcm0pIHtcclxuICAgICAgICAgICAgLy8gY2FsbGJhY2tcclxuICAgICAgICAgICAgX3NhZmVDYWxsYmFjayh0aGF0Lm9wdGlvbnMubG9hZGluZyk7XHJcblxyXG4gICAgICAgICAgICAkcS53aGVuKHRoYXQub3B0aW9ucy5kYXRhKHRlcm0pLFxyXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gc3VjY2Vzc19jYWxsYmFjayhyZXN1bHQpIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyB0aGVyZSBtaWdodCBzb21lIGxhZyB3aGVuIHJlbW90ZSB3ZWIgc2VydmljZXMgYXJlIGludm9sdmVkXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gdG8gZ2V0IGRhdGEuIHNvIGNoZWNrIGlmIGN1cnJlbnQgZWxlbWVudCB2YWx1ZSBoYXMgY2hhbmdlZFxyXG4gICAgICAgICAgICAgICAgICAgIHZhciB2YWx1ZSA9IHRoYXQudGV4dE1vZGVsQ3RybC4kdmlld1ZhbHVlO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0ZXJtICE9IHZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHRoYXQucmVuZGVyTGlzdChyZXN1bHQsIHRlcm0pO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAvLyBjYWxsYmFja1xyXG4gICAgICAgICAgICAgICAgICAgIF9zYWZlQ2FsbGJhY2sodGhhdC5vcHRpb25zLmxvYWRpbmdDb21wbGV0ZSk7XHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gZXJyb3JfY2FsbGJhY2soZXJyb3IpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGF0LmhpZGUoKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gY2FsbGJhY2tcclxuICAgICAgICAgICAgICAgICAgICBfc2FmZUNhbGxiYWNrKHRoYXQub3B0aW9ucy5sb2FkaW5nQ29tcGxldGUsIHsgZXJyb3I6IGVycm9yIH0pO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLnJlbmRlckxpc3QgPSBmdW5jdGlvbiAocmVzdWx0KSB7XHJcbiAgICAgICAgICAgIHRoYXQuZW1wdHkoKTtcclxuXHJcbiAgICAgICAgICAgIGlmICghYW5ndWxhci5pc0RlZmluZWQocmVzdWx0KSB8fCByZXN1bHQubGVuZ3RoID09PSAwKSB7XHJcbiAgICAgICAgICAgICAgICB0aGF0LmhpZGUoKTtcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgX2dldFJlbmRlckZuKCkudGhlbihmdW5jdGlvbihyZW5kZXJGbikgeyBcclxuICAgICAgICAgICAgICAgIF9yZW5kZXJMaXN0KHJlbmRlckZuLCByZXN1bHQpOyBcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLnNob3cgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIC8vIHRoZSBzaG93IGdldHMgY2FsbGVkIGFmdGVyIHRoZSBpdGVtcyBhcmUgcmVhZHkgZm9yIGRpc3BsYXlcclxuICAgICAgICAgICAgLy8gdGhlIHRleHRib3ggcG9zaXRpb24gY2FuIGNoYW5nZSAoZXg6IHdpbmRvdyByZXNpemUpIHdoZW4gaXQgaGFzIGZvY3VzXHJcbiAgICAgICAgICAgIC8vIHNvIHJlcG9zaXRpb24gdGhlIGRyb3Bkb3duIGJlZm9yZSBpdCdzIHNob3duXHJcbiAgICAgICAgICAgIF9wb3NpdGlvbkRyb3Bkb3duKCk7XHJcblxyXG4gICAgICAgICAgICB0aGF0LmNvbnRhaW5lclZpc2libGUgPSB0cnVlO1xyXG5cclxuICAgICAgICAgICAgLy8gSEFDSzogdGhpcyByZWR1Y2VzIHRoZSBmbGlja3Igd2hlbiB0aGUgZHJvcGRvd24gaXMgYmVpbmcgcG9zaXRpb25lZCAgXHJcbiAgICAgICAgICAgICR0aW1lb3V0KGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgICAgICAgICBfcG9zaXRpb25Ecm9wZG93bigpO1xyXG4gICAgICAgICAgICB9LCAxKTtcclxuXHJcbiAgICAgICAgICAgIC8vIGNhbGxiYWNrXHJcbiAgICAgICAgICAgIF9zYWZlQ2FsbGJhY2sodGhhdC5vcHRpb25zLmRyb3Bkb3duU2hvd24pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5oaWRlID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBpZiAodGhhdC5jb250YWluZXJWaXNpYmxlID09PSBmYWxzZSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAvLyByZXNldCBzY3JvbGwgcG9zaXRpb25cclxuICAgICAgICAgICAgdGhhdC5lbGVtZW50VUxbMF0uc2Nyb2xsVG9wID0gMDtcclxuICAgICAgICAgICAgdGhhdC5jb250YWluZXJWaXNpYmxlID0gZmFsc2U7XHJcblxyXG4gICAgICAgICAgICAvLyBjYWxsYmFja1xyXG4gICAgICAgICAgICBfc2FmZUNhbGxiYWNrKHRoYXQub3B0aW9ucy5kcm9wZG93bkhpZGRlbik7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLmVtcHR5ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICB0aGF0LnNlbGVjdGVkSW5kZXggPSAtMTtcclxuICAgICAgICAgICAgdGhhdC5yZW5kZXJJdGVtcyA9IFtdO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5zY3JvbGxUb0l0ZW0gPSBmdW5jdGlvbiAob2Zmc2V0KSB7XHJcbiAgICAgICAgICAgIGlmICh0aGF0LmNvbnRhaW5lclZpc2libGUgPT09IGZhbHNlKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHZhciBpbmRleCA9IHRoYXQuc2VsZWN0ZWRJbmRleCArIG9mZnNldDtcclxuICAgICAgICAgICAgdmFyIGl0ZW0gPSB0aGF0LnJlbmRlckl0ZW1zW2luZGV4XTtcclxuICAgICAgICAgICAgaWYgKCFpdGVtKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHRoYXQuc2VsZWN0SXRlbShpbmRleCk7XHJcblxyXG4gICAgICAgICAgICAvLyB1c2UganF1ZXJ5LnNjcm9sbFRvIHBsdWdpbiBpZiBhdmFpbGFibGVcclxuICAgICAgICAgICAgLy8gaHR0cDovL2ZsZXNsZXIuYmxvZ3Nwb3QuY29tLzIwMDcvMTAvanF1ZXJ5c2Nyb2xsdG8uaHRtbFxyXG4gICAgICAgICAgICBpZiAod2luZG93LmpRdWVyeSkgeyAgLy8gcmVxdWlyZXMganF1ZXJ5IHRvIGJlIGxvYWRlZFxyXG4gICAgICAgICAgICAgICAgdmFyIGxpID0gdGhhdC5lbGVtZW50VUwuZmluZCgnbGlbZGF0YS1pbmRleD1cIicgKyBpbmRleCArICdcIl0nKTtcclxuICAgICAgICAgICAgICAgIGlmIChqUXVlcnkuc2Nyb2xsVG8pIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGF0LmVsZW1lbnRVTC5zY3JvbGxUbyhsaSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHZhciBsaSA9IHRoYXQuZWxlbWVudFVMWzBdLnF1ZXJ5U2VsZWN0b3IoJ2xpW2RhdGEtaW5kZXg9XCInICsgaW5kZXggKyAnXCJdJyk7XHJcbiAgICAgICAgICAgIGlmIChsaSkge1xyXG4gICAgICAgICAgICAgICAgLy8gdGhpcyB3YXMgY2F1c2luZyB0aGUgcGFnZSB0byBqdW1wL3Njcm9sbCBcclxuICAgICAgICAgICAgICAgIC8vICAgIGxpLnNjcm9sbEludG9WaWV3KHRydWUpO1xyXG4gICAgICAgICAgICAgICAgdGhhdC5lbGVtZW50VUxbMF0uc2Nyb2xsVG9wID0gbGkub2Zmc2V0VG9wO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLnNlbGVjdEl0ZW0gPSBmdW5jdGlvbiAoaW5kZXgsIGNvbmZpcm0pIHtcclxuICAgICAgICAgICAgdmFyIGl0ZW0gPSB0aGF0LnJlbmRlckl0ZW1zW2luZGV4XTtcclxuXHJcbiAgICAgICAgICAgIGlmICghYW5ndWxhci5pc0RlZmluZWQoaXRlbSkpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgdGhhdC5zZWxlY3RlZEluZGV4ID0gaW5kZXg7XHJcblxyXG4gICAgICAgICAgICBpZiAoY29uZmlybSA9PT0gdHJ1ZSkge1xyXG4gICAgICAgICAgICAgICAgLy8gdXBkYXRlcyB0ZXh0Ym94IGFuZCByYWlzZXMgY2FsbGJhY2tcclxuICAgICAgICAgICAgICAgIHRoYXQuY29uZmlybSgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgLy8gb25seSB1cGRhdGVzIHRleHRib3hcclxuICAgICAgICAgICAgICAgIF91cGRhdGVUZXh0Qm94KCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMuY29uZmlybSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgaWYgKHRoYXQuY29udGFpbmVyVmlzaWJsZSA9PT0gZmFsc2UpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgdGhhdC5oaWRlKCk7XHJcblxyXG4gICAgICAgICAgICBzZWxlY3RlZFZhbHVlID0gX3VwZGF0ZVRleHRCb3goKTtcclxuXHJcbiAgICAgICAgICAgIF9zYWZlQ2FsbGJhY2sodGhhdC5vcHRpb25zLml0ZW1TZWxlY3RlZCwgeyBpdGVtOiBzZWxlY3RlZFZhbHVlIH0pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5pc1NlbGVjdGVkID0gZnVuY3Rpb24gKGluZGV4KSB7XHJcbiAgICAgICAgICAgIGlmIChpbmRleCA9PSB0aGF0LnNlbGVjdGVkSW5kZXgpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGF0Lm9wdGlvbnMuc2VsZWN0ZWRDc3NDbGFzcztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gJyc7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLnNlbGVjdGVkVGV4dCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHNlbGVjdGVkVGV4dDtcclxuICAgICAgICB9XHJcblxyXG5cclxuICAgICAgICBmdW5jdGlvbiBfc2FmZUNhbGxiYWNrKGZuLCBhcmdzKSB7XHJcbiAgICAgICAgICAgIGlmICghYW5ndWxhci5pc0Z1bmN0aW9uKGZuKSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZuLmNhbGwodGhhdC50YXJnZXQsIGFyZ3MpO1xyXG4gICAgICAgICAgICB9IGNhdGNoIChlKSB7XHJcbiAgICAgICAgICAgICAgICAvL2lnbm9yZVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBmdW5jdGlvbiBfcG9zaXRpb25Ecm9wZG93bigpIHtcclxuICAgICAgICAgICAgLy8gbm8gbmVlZCB0byBwb3NpdGlvbiBpZiBjb250YWluZXIgaGFzIGJlZW4gYXBwZW5kZWQgdG8gXHJcbiAgICAgICAgICAgIC8vIHBhcmVudCBzcGVjaWZpZWQgaW4gb3B0aW9uc1xyXG4gICAgICAgICAgICBpZiAoYW5ndWxhci5pc0RlZmluZWQodGhhdC5vcHRpb25zLmRyb3Bkb3duUGFyZW50KSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB2YXIgcmVjdCA9IHRoYXQudGFyZ2V0WzBdLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xyXG5cclxuICAgICAgICAgICAgaWYgKHRoYXQub3B0aW9ucy5kcm9wZG93bldpZHRoID09ICdhdXRvJykge1xyXG4gICAgICAgICAgICAgICAgLy8gc2FtZSBhcyB0ZXh0Ym94IHdpZHRoXHJcbiAgICAgICAgICAgICAgICB0aGF0LmNvbnRhaW5lci5jc3MoeyAnd2lkdGgnOiByZWN0LndpZHRoICsgJ3B4JyB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHRoYXQuY29udGFpbmVyLmNzcyh7ICd3aWR0aCc6IHRoYXQub3B0aW9ucy5kcm9wZG93bldpZHRoIH0pO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBpZiAodGhhdC5vcHRpb25zLmRyb3Bkb3duSGVpZ2h0ICE9PSAnYXV0bycpIHtcclxuICAgICAgICAgICAgICAgIHRoYXQuZWxlbWVudFVMLmNzcyh7ICdoZWlnaHQnOiB0aGF0Lm9wdGlvbnMuZHJvcGRvd25IZWlnaHQgfSk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIC8vIHVzZSB0aGUgLnBvc2l0aW9uKCkgZnVuY3Rpb24gZnJvbSBqcXVlcnkudWkgaWYgYXZhaWxhYmxlXHJcbiAgICAgICAgICAgIC8vIHJlcXVpcmVzIGJvdGgganF1ZXJ5IGFuZCBqcXVlcnktdWkgdG8gYmUgbG9hZGVkXHJcbiAgICAgICAgICAgIGlmICh3aW5kb3cualF1ZXJ5ICYmIHdpbmRvdy5qUXVlcnkudWkpIHtcclxuICAgICAgICAgICAgICAgIHRoYXQuY29udGFpbmVyLnBvc2l0aW9uKHsgbXk6ICdsZWZ0IHRvcCcsIGF0OiAnbGVmdCBib3R0b20nLCBvZjogdGhhdC50YXJnZXQsIGNvbGxpc2lvbjogJ25vbmUgZmxpcCcgfSk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIHZhciBzY3JvbGxUb3AgPSAkZG9jdW1lbnRbMF0uYm9keS5zY3JvbGxUb3AgfHwgJGRvY3VtZW50WzBdLmRvY3VtZW50RWxlbWVudC5zY3JvbGxUb3AgfHwgJHdpbmRvdy5wYWdlWU9mZnNldCxcclxuICAgICAgICAgICAgICAgIHNjcm9sbExlZnQgPSAkZG9jdW1lbnRbMF0uYm9keS5zY3JvbGxMZWZ0IHx8ICRkb2N1bWVudFswXS5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsTGVmdCB8fCAkd2luZG93LnBhZ2VYT2Zmc2V0O1xyXG5cclxuICAgICAgICAgICAgdGhhdC5jb250YWluZXIuY3NzKHsgJ2xlZnQnOiByZWN0LmxlZnQgKyBzY3JvbGxMZWZ0ICsgJ3B4JyB9KTtcclxuICAgICAgICAgICAgdGhhdC5jb250YWluZXIuY3NzKHsgJ3RvcCc6IHJlY3QudG9wICsgcmVjdC5oZWlnaHQgKyBzY3JvbGxUb3AgKyAncHgnIH0pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZnVuY3Rpb24gX3VwZGF0ZVRleHRCb3goKSB7XHJcbiAgICAgICAgICAgIGlmICh0aGF0LnNlbGVjdGVkSW5kZXggPT09IC0xKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHZhciBpdGVtID0gdGhhdC5yZW5kZXJJdGVtc1t0aGF0LnNlbGVjdGVkSW5kZXhdO1xyXG4gICAgICAgICAgICB2YXIgdGV4dGJveFZhbHVlO1xyXG5cclxuICAgICAgICAgICAgLy8gZmlyc3QgY2hlY2sgaWYgdGhlIGRhdGEgaXMgYSBzaW1wbGUgc3RyaW5nIHR5cGUgXHJcbiAgICAgICAgICAgIGlmIChhbmd1bGFyLmlzU3RyaW5nKGl0ZW0uZGF0YSkpIHtcclxuICAgICAgICAgICAgICAgIHRleHRib3hWYWx1ZSA9IGl0ZW0uZGF0YTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHRleHRib3hWYWx1ZSA9IGl0ZW0udmFsdWU7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIC8vIHVwZGF0ZSB0aGUgdGV4dGJveCBcclxuICAgICAgICAgICAgX3VwZGF0ZU1vZGVsKHRleHRib3hWYWx1ZSk7XHJcblxyXG4gICAgICAgICAgICByZXR1cm4gaXRlbS5kYXRhO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZnVuY3Rpb24gX3VwZGF0ZU1vZGVsKG1vZGVsVmFsdWUpIHtcclxuICAgICAgICAgICAgLy8gdXBkYXRlIG9ubHkgaWYgZGlmZmVyZW50IGZyb20gY3VycmVudCB2YWx1ZVxyXG4gICAgICAgICAgICBpZiAobW9kZWxWYWx1ZSA9PT0gdGhhdC50ZXh0TW9kZWxDdHJsLiRtb2RlbFZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIHRoYXQudGV4dE1vZGVsQ3RybC4kc2V0Vmlld1ZhbHVlKG1vZGVsVmFsdWUpO1xyXG4gICAgICAgICAgICB0aGF0LnRleHRNb2RlbEN0cmwuJHJlbmRlcigpO1xyXG5cclxuICAgICAgICAgICAgc2VsZWN0ZWRUZXh0ID0gbW9kZWxWYWx1ZTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGZ1bmN0aW9uIF9yZW5kZXJMaXN0IChyZW5kZXJGbiwgcmVzdWx0KSB7XHJcbiAgICAgICAgICAgIC8vIGxpbWl0IG51bWJlciBvZiBpdGVtcyByZW5kZXJlZCBpbiB0aGUgZHJvcGRvd25cclxuICAgICAgICAgICAgdmFyIG1heEl0ZW1zVG9SZW5kZXIgPSByZXN1bHQubGVuZ3RoIDwgdGhhdC5vcHRpb25zLm1heEl0ZW1zVG9SZW5kZXIgPyByZXN1bHQubGVuZ3RoIDogdGhhdC5vcHRpb25zLm1heEl0ZW1zVG9SZW5kZXI7XHJcbiAgICAgICAgICAgIHZhciBpdGVtc1RvUmVuZGVyID0gcmVzdWx0LnNsaWNlKDAsIG1heEl0ZW1zVG9SZW5kZXIpO1xyXG5cclxuICAgICAgICAgICAgYW5ndWxhci5mb3JFYWNoKGl0ZW1zVG9SZW5kZXIsIGZ1bmN0aW9uKGRhdGEsIGtleSkge1xyXG4gICAgICAgICAgICAgICAgLy9pbnZva2UgcmVuZGVyIGNhbGxiYWNrIHdpdGggdGhlIGRhdGEgaXRlbSBhcyBwYXJhbWV0ZXJcclxuICAgICAgICAgICAgICAgIC8vdGhpcyBzaG91bGQgcmV0dXJuIGFuIG9iamVjdCB3aXRoIGEgJ2xhYmVsJyBhbmQgJ3ZhbHVlJyBwcm9wZXJ0eVxyXG4gICAgICAgICAgICAgICAgdmFyIGl0ZW0gPSByZW5kZXJGbihkYXRhKTtcclxuICAgICAgICAgICAgICAgIGlmICggaXRlbSAhPT0gbnVsbCAmJiBhbmd1bGFyLmlzRGVmaW5lZChpdGVtKSAmJiBpdGVtLmxhYmVsICYmIGl0ZW0udmFsdWUgKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gc3RvcmUgdGhlIGRhdGEgb24gdGhlIHJlbmRlckl0ZW0gYW5kIGFkZCB0byBhcnJheVxyXG4gICAgICAgICAgICAgICAgICAgIGl0ZW0uZGF0YSA9IGRhdGE7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhhdC5yZW5kZXJJdGVtcy5wdXNoKGl0ZW0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIHRoYXQuc2hvdygpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZnVuY3Rpb24gX2dldFJlbmRlckZuKCkge1xyXG4gICAgICAgICAgICAvLyB1c2VyIHByb3ZpZGVkIGZ1bmN0aW9uXHJcbiAgICAgICAgICAgIGlmIChhbmd1bGFyLmlzRnVuY3Rpb24odGhhdC5vcHRpb25zLnJlbmRlckl0ZW0pICYmIHRoYXQub3B0aW9ucy5yZW5kZXJJdGVtICE9PSBhbmd1bGFyLm5vb3ApIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBfZ2V0UHJvbWlzZSh0aGF0Lm9wdGlvbnMucmVuZGVySXRlbSk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIC8vIGl0ZW1UZW1wbGF0ZVVybFxyXG4gICAgICAgICAgICBpZiAodGhhdC5vcHRpb25zLml0ZW1UZW1wbGF0ZVVybCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIF9nZXRSZW5kZXJGbl9UZW1wbGF0ZVVybCgpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAvLyBpdGVtVGVtcGxhdGVcclxuICAgICAgICAgICAgdmFyIHRlbXBsYXRlID0gdGhhdC5vcHRpb25zLml0ZW1UZW1wbGF0ZSB8fCAgJzxzcGFuPnt7aXRlbX19PC9zcGFuPic7XHJcbiAgICAgICAgICAgIHJldHVybiBfZ2V0UHJvbWlzZShfcmVuZGVySXRlbS5iaW5kKG51bGwsICRpbnRlcnBvbGF0ZSh0ZW1wbGF0ZSwgZmFsc2UpKSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBmdW5jdGlvbiBfZ2V0UmVuZGVyRm5fVGVtcGxhdGVVcmwoKSB7XHJcbiAgICAgICAgICAgIHJldHVybiAkdGVtcGxhdGVSZXF1ZXN0KHRoYXQub3B0aW9ucy5pdGVtVGVtcGxhdGVVcmwpXHJcbiAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbihjb250ZW50KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gZGVsZWdhdGUgdG8gbG9jYWwgZnVuY3Rpb25cclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gIF9yZW5kZXJJdGVtLmJpbmQobnVsbCwgJGludGVycG9sYXRlKGNvbnRlbnQsIGZhbHNlKSk7XHJcbiAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgLmNhdGNoKCRleGNlcHRpb25IYW5kbGVyKVxyXG4gICAgICAgICAgICAgICAgLmNhdGNoKGFuZ3VsYXIubm9vcCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBmdW5jdGlvbiBfcmVuZGVySXRlbShpbnRlcnBvbGF0aW9uRm4sIGRhdGEpIHtcclxuICAgICAgICAgICAgdmFyIHZhbHVlID0gKGFuZ3VsYXIuaXNPYmplY3QoZGF0YSkgJiYgdGhhdC5vcHRpb25zLnNlbGVjdGVkVGV4dEF0dHIpID8gZGF0YVt0aGF0Lm9wdGlvbnMuc2VsZWN0ZWRUZXh0QXR0cl0gOiBkYXRhO1xyXG4gICAgICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICAgICAgdmFsdWU6IHZhbHVlLFxyXG4gICAgICAgICAgICAgICAgbGFiZWw6ICRzY2UudHJ1c3RBc0h0bWwoaW50ZXJwb2xhdGlvbkZuKHtpdGVtOiBkYXRhfSkpXHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBmdW5jdGlvbiBfZ2V0UHJvbWlzZSh2YWx1ZSkge1xyXG4gICAgICAgICAgICB2YXIgZGVmZXJyZWQgPSAkcS5kZWZlcigpOyAgICBcclxuICAgICAgICAgICAgZGVmZXJyZWQucmVzb2x2ZSh2YWx1ZSk7XHJcbiAgICAgICAgICAgIHJldHVybiBkZWZlcnJlZC5wcm9taXNlO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBhdXRvQ29tcGxldGVTZXJ2aWNlKCkge1xyXG4gICAgICAgIHZhciBkaXJlY3RpdmVDdHJscyA9IFtdO1xyXG5cclxuICAgICAgICB0aGlzLmFkZERpcmVjdGl2ZUN0cmwgPSBmdW5jdGlvbiAoY3RybCkge1xyXG4gICAgICAgICAgICBpZiAoY3RybCkge1xyXG4gICAgICAgICAgICAgICAgZGlyZWN0aXZlQ3RybHMucHVzaChjdHJsKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5oaWRlSWZJbmFjdGl2ZSA9IGZ1bmN0aW9uIChjdHJsKSB7XHJcbiAgICAgICAgICAgIGFuZ3VsYXIuZm9yRWFjaChkaXJlY3RpdmVDdHJscywgZnVuY3Rpb24gKHZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICB2YWx1ZS5oaWRlSWZJbmFjdGl2ZSgpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMuZGVmYXVsdE9wdGlvbnNEb2MgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBkZWZhdWx0T3B0aW9uc0RvYztcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgdmFyIEtFWUNPREUgPSB7XHJcbiAgICAgICAgRU5URVI6IDEzLFxyXG4gICAgICAgIEVTQ0FQRTogMjcsXHJcbiAgICAgICAgVVBBUlJPVzogMzgsXHJcbiAgICAgICAgRE9XTkFSUk9XOiA0MFxyXG4gICAgfTtcclxuXHJcbiAgICB2YXIgaW5zdGFuY2VDb3VudCA9IDA7XHJcblxyXG4gICAgdmFyIGRlZmF1bHRPcHRpb25zID0ge1xyXG4gICAgICAgIGNvbnRhaW5lckNzc0NsYXNzOiAnJyxcclxuICAgICAgICBzZWxlY3RlZENzc0NsYXNzOiAnYXV0by1jb21wbGV0ZS1pdGVtLXNlbGVjdGVkJyxcclxuICAgICAgICBtaW5pbXVtQ2hhcnM6IDEsXHJcbiAgICAgICAgbWF4SXRlbXNUb1JlbmRlcjogMjAsXHJcbiAgICAgICAgLy9cclxuICAgICAgICBkcm9wZG93bldpZHRoOiAnYXV0bycsXHJcbiAgICAgICAgZHJvcGRvd25IZWlnaHQ6ICdhdXRvJyxcclxuICAgICAgICBkcm9wZG93blBhcmVudDogdW5kZWZpbmVkLFxyXG4gICAgICAgIC8vXHJcbiAgICAgICAgc2VsZWN0ZWRUZXh0QXR0cjogdW5kZWZpbmVkLFxyXG4gICAgICAgIGl0ZW1UZW1wbGF0ZTogdW5kZWZpbmVkLFxyXG4gICAgICAgIGl0ZW1UZW1wbGF0ZVVybDogdW5kZWZpbmVkLFxyXG4gICAgICAgIC8vXHJcbiAgICAgICAgbG9hZGluZzogYW5ndWxhci5ub29wLFxyXG4gICAgICAgIGRhdGE6IGFuZ3VsYXIubm9vcCxcclxuICAgICAgICBsb2FkaW5nQ29tcGxldGU6IGFuZ3VsYXIubm9vcCxcclxuICAgICAgICByZW5kZXJJdGVtOiBhbmd1bGFyLm5vb3AsXHJcbiAgICAgICAgaXRlbVNlbGVjdGVkOiBhbmd1bGFyLm5vb3AsXHJcbiAgICAgICAgZHJvcGRvd25TaG93bjogYW5ndWxhci5ub29wLFxyXG4gICAgICAgIGRyb3Bkb3duSGlkZGVuOiBhbmd1bGFyLm5vb3BcclxuICAgIH07XHJcblxyXG4gICAgdmFyIGRlZmF1bHRPcHRpb25zRG9jID0ge1xyXG4gICAgICAgIGNvbnRhaW5lckNzc0NsYXNzOiB7IGRlZjogJ3VuZGVmaW5lZCcsIGRvYzogJ0NTUyBjbGFzcyBhcHBsaWVkIHRvIHRoZSBkcm9wZG93biBjb250YWluZXInIH0sXHJcbiAgICAgICAgc2VsZWN0ZWRDc3NDbGFzczogeyBkZWY6ICdhdXRvLWNvbXBsZXRlLWl0ZW0tc2VsZWN0ZWQnLCBkb2M6ICdDU1MgY2xhc3MgYXBwbGllZCB0byB0aGUgc2VsZWN0ZWQgbGlzdCBlbGVtZW50JyB9LFxyXG4gICAgICAgIG1pbmltdW1DaGFyczogeyBkZWY6ICcxJywgZG9jOiAnTWluaW11bSBudW1iZXIgb2YgY2hhcmFjdGVycyByZXF1aXJlZCB0byBkaXNwbGF5IHRoZSBkcm9wZG93bi4nIH0sXHJcbiAgICAgICAgbWF4SXRlbXNUb1JlbmRlcjogeyBkZWY6ICcyMCcsIGRvYzogJ01heGltdW0gbnVtYmVyIG9mIGl0ZW1zIHRvIHJlbmRlciBpbiB0aGUgbGlzdC4nIH0sXHJcbiAgICAgICAgZHJvcGRvd25XaWR0aDogeyBkZWY6ICdhdXRvJywgZG9jOiAnV2lkdGggaW4gXCJweFwiIG9mIHRoZSBkcm9wZGRvd24gbGlzdC4nIH0sXHJcbiAgICAgICAgZHJvcGRvd25IZWlnaHQ6IHsgZGVmOiAnYXV0bycsIGRvYzogJ0hlaWdodCBpbiBcInB4XCIgb2YgdGhlIGRyb3BkZG93biBsaXN0LicgfSxcclxuICAgICAgICBkcm9wZG93blBhcmVudDogeyBkZWY6ICd1bmRlZmluZWQnLCBkb2M6ICdhIGpRdWVyeSBvYmplY3QgdG8gYXBwZW5kIHRoZSBkcm9wZGRvd24gbGlzdC4nIH0sXHJcbiAgICAgICAgLy9cclxuICAgICAgICBzZWxlY3RlZFRleHRBdHRyOiB7IGRlZjogJ3VuZGVmaW5lZCcsIGRvYzogJ0lmIHRoZSBkYXRhIGZvciB0aGUgZHJvcGRvd24gaXMgYSBjb2xsZWN0aW9uIG9mIG9iamVjdHMsIHRoZSB2YWx1ZSBvZiB0aGlzIGF0dHJpYnV0ZSB3aWxsIGJlIHVzZWQgdG8gdXBkYXRlIHRoZSBpbnB1dCB0ZXh0IGVsZW1lbnQuJyB9LFxyXG4gICAgICAgIGl0ZW1UZW1wbGF0ZTogeyBkZWY6ICd1bmRlZmluZWQnLCBkb2M6ICdBIHRlbXBsYXRlIGZvciB0aGUgZHJvcGRkb3duIGxpc3QgaXRlbS4gRm9yIGV4YW1wbGUgXCI8ZGl2Pnt7aXRlbS5sYXN0TmFtZX19IC0ge3tpdGVtLmpvYlRpdGxlfX08L2Rpdj5cIi4nIH0sXHJcbiAgICAgICAgaXRlbVRlbXBsYXRlVXJsOiB7IGRlZjogJ3VuZGVmaW5lZCcsIGRvYzogJ1RoaXMgaXMgc2ltaWxhciB0byB0ZW1wbGF0ZSBidXQgdGhlIHRlbXBsYXRlIGlzIGxvYWRlZCBmcm9tIHRoZSBzcGVjaWZpZWQgVVJMLCBhc3luY2hyb25vdXNseS4nIH0sXHJcbiAgICAgICAgLy9cclxuICAgICAgICBsb2FkaW5nOiB7IGRlZjogJ25vb3AnLCBkb2M6ICdDYWxsYmFjayBiZWZvcmUgZ2V0dGluZyB0aGUgZGF0YSBmb3IgdGhlIGRyb3Bkb3duLicgfSxcclxuICAgICAgICBkYXRhOiB7IGRlZjogJ25vb3AnLCBkb2M6ICdDYWxsYmFjayBmb3IgZGF0YSBmb3IgdGhlIGRyb3Bkb3duLiBNdXN0IHJldHVybiBhIHByb21pc2UnIH0sXHJcbiAgICAgICAgbG9hZGluZ0NvbXBsZXRlOiB7IGRlZjogJ25vb3AnLCBkb2M6ICdDYWxsYmFjayBhZnRlciB0aGUgaXRlbXMgYXJlIHJlbmRlcmVkIGluIHRoZSBkcm9wZG93bi4nIH0sXHJcbiAgICAgICAgcmVuZGVySXRlbTogeyBkZWY6ICdub29wJywgZG9jOiAnQ2FsbGJhY2sgZm9yIGN1c3RvbSByZW5kZXJpbmcgYSBsaXN0IGl0ZW0uIFRoaXMgaXMgY2FsbGVkIGZvciBlYWNoIGl0ZW0gaW4gdGhlIGRyb3Bkb3duLiBJdCBtdXN0IHJldHVybiBhbiBvYmplY3QgbGl0ZXJhbCB3aXRoIFwidmFsdWVcIiBhbmQgXCJsYWJlbFwiIHByb3BlcnRpZXMsIHdoZXJlIGxhYmVsIGlzIHRoZSBzYWZlIGh0bWwgZm9yIGRpc3BsYXkgYW5kIHZhbHVlIGlzIHRoZSB0ZXh0IGZvciB0aGUgdGV4dGJveCcgfSxcclxuICAgICAgICBpdGVtU2VsZWN0ZWQ6IHsgZGVmOiAnbm9vcCcsIGRvYzogJ0NhbGxiYWNrIGFmdGVyIGFuIGl0ZW0gaXMgc2VsZWN0ZWQgZnJvbSB0aGUgZHJvcGRvd24uJyB9LFxyXG4gICAgICAgIGRyb3Bkb3duU2hvd246IHsgZGVmOiAnbm9vcCcsIGRvYzogJ0NhbGxiYWNrIGFmdGVyIHRoZSBkcm9wZG93biBpcyBoaWRkZW4uJyB9LFxyXG4gICAgICAgIGRyb3Bkb3duSGlkZGVuOiB7IGRlZjogJ25vb3AnLCBkb2M6ICdDYWxsYmFjayBhZnRlciB0aGUgZHJvcGRvd24gaXMgc2hvd24uJyB9XHJcbiAgICB9O1xyXG5cclxufSkoKTtcclxuIiwiKGZ1bmN0aW9uIHdlYnBhY2tVbml2ZXJzYWxNb2R1bGVEZWZpbml0aW9uKHJvb3QsIGZhY3RvcnkpIHtcblx0aWYodHlwZW9mIGV4cG9ydHMgPT09ICdvYmplY3QnICYmIHR5cGVvZiBtb2R1bGUgPT09ICdvYmplY3QnKVxuXHRcdG1vZHVsZS5leHBvcnRzID0gZmFjdG9yeShyZXF1aXJlKFwiYW5ndWxhclwiKSk7XG5cdGVsc2UgaWYodHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kKVxuXHRcdGRlZmluZShbXCJhbmd1bGFyXCJdLCBmYWN0b3J5KTtcblx0ZWxzZSB7XG5cdFx0dmFyIGEgPSB0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcgPyBmYWN0b3J5KHJlcXVpcmUoXCJhbmd1bGFyXCIpKSA6IGZhY3Rvcnkocm9vdFtcImFuZ3VsYXJcIl0pO1xuXHRcdGZvcih2YXIgaSBpbiBhKSAodHlwZW9mIGV4cG9ydHMgPT09ICdvYmplY3QnID8gZXhwb3J0cyA6IHJvb3QpW2ldID0gYVtpXTtcblx0fVxufSkodGhpcywgZnVuY3Rpb24oX19XRUJQQUNLX0VYVEVSTkFMX01PRFVMRV8xX18pIHtcbnJldHVybiAvKioqKioqLyAoZnVuY3Rpb24obW9kdWxlcykgeyAvLyB3ZWJwYWNrQm9vdHN0cmFwXG4vKioqKioqLyBcdC8vIFRoZSBtb2R1bGUgY2FjaGVcbi8qKioqKiovIFx0dmFyIGluc3RhbGxlZE1vZHVsZXMgPSB7fTtcbi8qKioqKiovXG4vKioqKioqLyBcdC8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG4vKioqKioqLyBcdGZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcbi8qKioqKiovXG4vKioqKioqLyBcdFx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG4vKioqKioqLyBcdFx0aWYoaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0pXG4vKioqKioqLyBcdFx0XHRyZXR1cm4gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uZXhwb3J0cztcbi8qKioqKiovXG4vKioqKioqLyBcdFx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcbi8qKioqKiovIFx0XHR2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0gPSB7XG4vKioqKioqLyBcdFx0XHRleHBvcnRzOiB7fSxcbi8qKioqKiovIFx0XHRcdGlkOiBtb2R1bGVJZCxcbi8qKioqKiovIFx0XHRcdGxvYWRlZDogZmFsc2Vcbi8qKioqKiovIFx0XHR9O1xuLyoqKioqKi9cbi8qKioqKiovIFx0XHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cbi8qKioqKiovIFx0XHRtb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcbi8qKioqKiovXG4vKioqKioqLyBcdFx0Ly8gRmxhZyB0aGUgbW9kdWxlIGFzIGxvYWRlZFxuLyoqKioqKi8gXHRcdG1vZHVsZS5sb2FkZWQgPSB0cnVlO1xuLyoqKioqKi9cbi8qKioqKiovIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuLyoqKioqKi8gXHRcdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbi8qKioqKiovIFx0fVxuLyoqKioqKi9cbi8qKioqKiovXG4vKioqKioqLyBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlcyBvYmplY3QgKF9fd2VicGFja19tb2R1bGVzX18pXG4vKioqKioqLyBcdF9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7XG4vKioqKioqL1xuLyoqKioqKi8gXHQvLyBleHBvc2UgdGhlIG1vZHVsZSBjYWNoZVxuLyoqKioqKi8gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzO1xuLyoqKioqKi9cbi8qKioqKiovIFx0Ly8gX193ZWJwYWNrX3B1YmxpY19wYXRoX19cbi8qKioqKiovIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCJcIjtcbi8qKioqKiovXG4vKioqKioqLyBcdC8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuLyoqKioqKi8gXHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXygwKTtcbi8qKioqKiovIH0pXG4vKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyoqKioqKi8gKFtcbi8qIDAgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgICAgdmFsdWU6IHRydWVcblx0fSk7XG5cdGV4cG9ydHMubmdCYWlkdU1hcCA9IHVuZGVmaW5lZDtcblx0XG5cdHZhciBfYW5ndWxhciA9IF9fd2VicGFja19yZXF1aXJlX18oMSk7XG5cdFxuXHR2YXIgX2FuZ3VsYXIyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfYW5ndWxhcik7XG5cdFxuXHR2YXIgX2RlZmF1bHRzID0gX193ZWJwYWNrX3JlcXVpcmVfXygyKTtcblx0XG5cdHZhciBfdmFsaWRhdG9yID0gX193ZWJwYWNrX3JlcXVpcmVfXygzKTtcblx0XG5cdHZhciBfZGlyZWN0aXZlRGVmID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0KTtcblx0XG5cdHZhciBfYmFpZHVTY3JpcHRMb2FkZXIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDUpO1xuXHRcblx0dmFyIF9vZmZsaW5lID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2KTtcblx0XG5cdHZhciBfbWFwID0gX193ZWJwYWNrX3JlcXVpcmVfXyg3KTtcblx0XG5cdGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cdFxuXHR2YXIgbmdCYWlkdU1hcCA9IGV4cG9ydHMubmdCYWlkdU1hcCA9IGZ1bmN0aW9uICgpIHtcblx0ICAgIHZhciBuYW1lID0gJ2JhaWR1TWFwJztcblx0XG5cdCAgICAoMCwgX2RpcmVjdGl2ZURlZi5kZWYpKG5hbWUsIHtcblx0ICAgICAgICByZXN0cmljdDogJ0UnLFxuXHQgICAgICAgIHNjb3BlOiB7XG5cdCAgICAgICAgICAgIG9wdGlvbnM6ICc9Jyxcblx0ICAgICAgICAgICAgYWs6ICdAJyxcblx0ICAgICAgICAgICAgb2ZmbGluZTogJz0nLFxuXHQgICAgICAgICAgICBvbk1hcExvYWRlZDogJyYnXG5cdCAgICAgICAgfSxcblx0ICAgICAgICBsaW5rOiBmdW5jdGlvbiBsaW5rKCRzY29wZSwgZWxlbWVudCwgYXR0cnMpIHtcblx0XG5cdCAgICAgICAgICAgIHZhciBvcHRzID0gX2FuZ3VsYXIyLmRlZmF1bHQuZXh0ZW5kKHt9LCBfZGVmYXVsdHMuZGVmYXVsdE9wdHMsICRzY29wZS5vcHRpb25zKTtcblx0ICAgICAgICAgICAgdmFyIG9mZmxpbmVPcHRzID0gX2FuZ3VsYXIyLmRlZmF1bHQuZXh0ZW5kKHt9LCBfZGVmYXVsdHMuZGVmYXVsdE9mZmxpbmVPcHRzLCAkc2NvcGUub2ZmbGluZSk7XG5cdCAgICAgICAgICAgICRzY29wZS5vZmZsaW5lV29yZHMgPSBvZmZsaW5lT3B0cy50eHQ7XG5cdCAgICAgICAgICAgICgwLCBfdmFsaWRhdG9yLnZhbGlkYXRvcikoJHNjb3BlLmFrLCAnYWsgbXVzdCBub3QgYmUgZW1wdHknKTtcblx0ICAgICAgICAgICAgKDAsIF92YWxpZGF0b3IudmFsaWRhdG9yKShvcHRzLmNlbnRlciwgJ29wdGlvbnMuY2VudGVyIG11c3QgYmUgc2V0Jyk7XG5cdCAgICAgICAgICAgICgwLCBfdmFsaWRhdG9yLnZhbGlkYXRvcikob3B0cy5jZW50ZXIubG9uZ2l0dWRlLCAnb3B0aW9ucy5jZW50ZXIubG9uZ2l0dWRlIG11c3QgYmUgc2V0Jyk7XG5cdCAgICAgICAgICAgICgwLCBfdmFsaWRhdG9yLnZhbGlkYXRvcikob3B0cy5jZW50ZXIubGF0aXR1ZGUsICdvcHRpb25zLmNlbnRlci5sYXRpdHVkZSBtdXN0IGJlIHNldCcpO1xuXHQgICAgICAgICAgICAoMCwgX3ZhbGlkYXRvci52YWxpZGF0b3IpKG9wdHMuY2l0eSwgJ29wdGlvbnMuY2l0eSBtdXN0IGJlIHNldCcpO1xuXHRcblx0ICAgICAgICAgICAgKDAsIF9iYWlkdVNjcmlwdExvYWRlci5sb2FkZXIpKCRzY29wZS5haywgb2ZmbGluZU9wdHMsIGZ1bmN0aW9uICgpIHtcblx0XG5cdCAgICAgICAgICAgICAgICB2YXIgbWFwID0gKDAsIF9tYXAuY3JlYXRlSW5zdGFuY2UpKG9wdHMsIGVsZW1lbnQpO1xuXHRcblx0ICAgICAgICAgICAgICAgICRzY29wZS5vbk1hcExvYWRlZCh7IG1hcDogbWFwIH0pO1xuXHRcblx0ICAgICAgICAgICAgICAgIC8vY3JlYXRlIG1hcmtlcnNcblx0ICAgICAgICAgICAgICAgIHZhciBwcmV2aW91c01hcmtlcnMgPSBbXTtcblx0XG5cdCAgICAgICAgICAgICAgICAoMCwgX21hcC5yZWRyYXdNYXJrZXJzKShtYXAsIHByZXZpb3VzTWFya2Vycywgb3B0cyk7XG5cdFxuXHQgICAgICAgICAgICAgICAgJHNjb3BlLiR3YXRjaCgnb3B0aW9ucy5jZW50ZXInLCBmdW5jdGlvbiAobmV3VmFsdWUsIG9sZFZhbHVlKSB7XG5cdFxuXHQgICAgICAgICAgICAgICAgICAgIG9wdHMgPSAkc2NvcGUub3B0aW9ucztcblx0ICAgICAgICAgICAgICAgICAgICBtYXAuY2VudGVyQW5kWm9vbShuZXcgQk1hcC5Qb2ludChvcHRzLmNlbnRlci5sb25naXR1ZGUsIG9wdHMuY2VudGVyLmxhdGl0dWRlKSwgb3B0cy56b29tKTtcblx0ICAgICAgICAgICAgICAgICAgICAoMCwgX21hcC5yZWRyYXdNYXJrZXJzKShtYXAsIHByZXZpb3VzTWFya2Vycywgb3B0cyk7XG5cdCAgICAgICAgICAgICAgICB9LCB0cnVlKTtcblx0XG5cdCAgICAgICAgICAgICAgICAkc2NvcGUuJHdhdGNoKCdvcHRpb25zLm1hcmtlcnMnLCBmdW5jdGlvbiAobmV3VmFsdWUsIG9sZFZhbHVlKSB7XG5cdCAgICAgICAgICAgICAgICAgICAgKDAsIF9tYXAucmVkcmF3TWFya2VycykobWFwLCBwcmV2aW91c01hcmtlcnMsIG9wdHMpO1xuXHQgICAgICAgICAgICAgICAgfSwgdHJ1ZSk7XG5cdCAgICAgICAgICAgIH0pO1xuXHRcblx0ICAgICAgICAgICAgJHNjb3BlLmRpdlN0eWxlID0gX29mZmxpbmUuZGl2U3R5bGU7XG5cdCAgICAgICAgICAgICRzY29wZS5sYWJlbFN0eWxlID0gX29mZmxpbmUubGFiZWxTdHlsZTtcblx0XG5cdCAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuXHQgICAgICAgICAgICAgICAgdmFyICRsYWJlbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2JhaWR1LW1hcCBkaXYgbGFiZWwnKTtcblx0ICAgICAgICAgICAgICAgICRzY29wZS5sYWJlbFN0eWxlLm1hcmdpblRvcCA9ICRsYWJlbC5jbGllbnRIZWlnaHQgLyAtMiArICdweCc7XG5cdCAgICAgICAgICAgICAgICAkc2NvcGUubGFiZWxTdHlsZS5tYXJnaW5MZWZ0ID0gJGxhYmVsLmNsaWVudFdpZHRoIC8gLTIgKyAncHgnO1xuXHQgICAgICAgICAgICAgICAgJHNjb3BlLiRhcHBseSgpO1xuXHQgICAgICAgICAgICB9KTtcblx0ICAgICAgICB9LFxuXHQgICAgICAgIHRlbXBsYXRlOiAnPGRpdiBuZy1zdHlsZT1cImRpdlN0eWxlXCI+PGxhYmVsIG5nLXN0eWxlPVwibGFiZWxTdHlsZVwiPnt7IG9mZmxpbmVXb3JkcyB9fTwvbGFiZWw+PC9kaXY+J1xuXHQgICAgfSk7XG5cdFxuXHQgICAgcmV0dXJuIG5hbWU7XG5cdH0oKTtcblxuLyoqKi8gfSxcbi8qIDEgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5cdG1vZHVsZS5leHBvcnRzID0gX19XRUJQQUNLX0VYVEVSTkFMX01PRFVMRV8xX187XG5cbi8qKiovIH0sXG4vKiAyICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICAgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHR2YXIgZGVmYXVsdE9wdHMgPSBleHBvcnRzLmRlZmF1bHRPcHRzID0ge1xuXHQgICAgbmF2Q3RybDogdHJ1ZSxcblx0ICAgIHNjYWxlQ3RybDogdHJ1ZSxcblx0ICAgIG92ZXJ2aWV3Q3RybDogdHJ1ZSxcblx0ICAgIGVuYWJsZVNjcm9sbFdoZWVsWm9vbTogdHJ1ZSxcblx0ICAgIHpvb206IDEwXG5cdH07XG5cdFxuXHR2YXIgZGVmYXVsdE9mZmxpbmVPcHRzID0gZXhwb3J0cy5kZWZhdWx0T2ZmbGluZU9wdHMgPSB7XG5cdCAgICByZXRyeUludGVydmFsOiAzMDAwMCxcblx0ICAgIHR4dDogJ09GRkxJTkUnXG5cdH07XG5cbi8qKiovIH0sXG4vKiAzICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHRcInVzZSBzdHJpY3RcIjtcblx0XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgICAgdmFsdWU6IHRydWVcblx0fSk7XG5cdHZhciB2YWxpZGF0b3IgPSBleHBvcnRzLnZhbGlkYXRvciA9IGZ1bmN0aW9uIHZhbGlkYXRvcihwcm9wLCBkZXNjKSB7XG5cdCAgICBpZiAoIXByb3ApIHtcblx0ICAgICAgICB0aHJvdyBuZXcgRXJyb3IoZGVzYyk7XG5cdCAgICB9XG5cdH07XG5cbi8qKiovIH0sXG4vKiA0ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICAgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRleHBvcnRzLmRlZiA9IHVuZGVmaW5lZDtcblx0XG5cdHZhciBfYW5ndWxhciA9IF9fd2VicGFja19yZXF1aXJlX18oMSk7XG5cdFxuXHR2YXIgX2FuZ3VsYXIyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfYW5ndWxhcik7XG5cdFxuXHRmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXHRcblx0dmFyIGRlZiA9IGV4cG9ydHMuZGVmID0gZnVuY3Rpb24gZGVmKG5hbWUsIGRkbykge1xuXHQgICAgX2FuZ3VsYXIyLmRlZmF1bHQubW9kdWxlKG5hbWUsIFtdKS5kaXJlY3RpdmUobmFtZSwgW2Z1bmN0aW9uICgpIHtcblx0ICAgICAgICByZXR1cm4gZGRvO1xuXHQgICAgfV0pO1xuXHR9O1xuXG4vKioqLyB9LFxuLyogNSAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdCAgICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0dmFyIGxvYWRlciA9IGV4cG9ydHMubG9hZGVyID0gZnVuY3Rpb24gbG9hZGVyKGFrLCBvZmZsaW5lT3B0cywgY2FsbGJhY2spIHtcblx0ICAgIHZhciBNQVBfVVJMID0gJy8vYXBpLm1hcC5iYWlkdS5jb20vYXBpP3Y9Mi4wJmFrPScgKyBhayArICcmY2FsbGJhY2s9YmFpZHVtYXBpbml0JnM9JyArIChsb2NhdGlvbi5wcm90b2NvbCA9PT0gJ2h0dHBzOicgPyAxIDogMCk7XG5cdFxuXHQgICAgdmFyIGJhaWR1TWFwID0gd2luZG93LmJhaWR1TWFwO1xuXHQgICAgaWYgKGJhaWR1TWFwICYmIGJhaWR1TWFwLnN0YXR1cyA9PT0gJ2xvYWRpbmcnKSB7XG5cdCAgICAgICAgcmV0dXJuIGJhaWR1TWFwLmNhbGxiYWNrcy5wdXNoKGNhbGxiYWNrKTtcblx0ICAgIH1cblx0XG5cdCAgICBpZiAoYmFpZHVNYXAgJiYgYmFpZHVNYXAuc3RhdHVzID09PSAnbG9hZGVkJykge1xuXHQgICAgICAgIHJldHVybiBjYWxsYmFjaygpO1xuXHQgICAgfVxuXHRcblx0ICAgIHdpbmRvdy5iYWlkdU1hcCA9IHsgc3RhdHVzOiAnbG9hZGluZycsIGNhbGxiYWNrczogW10gfTtcblx0ICAgIHdpbmRvdy5iYWlkdW1hcGluaXQgPSBmdW5jdGlvbiAoKSB7XG5cdCAgICAgICAgd2luZG93LmJhaWR1TWFwLnN0YXR1cyA9ICdsb2FkZWQnO1xuXHQgICAgICAgIGNhbGxiYWNrKCk7XG5cdCAgICAgICAgd2luZG93LmJhaWR1TWFwLmNhbGxiYWNrcy5mb3JFYWNoKGZ1bmN0aW9uIChjYikge1xuXHQgICAgICAgICAgICByZXR1cm4gY2IoKTtcblx0ICAgICAgICB9KTtcblx0ICAgICAgICB3aW5kb3cuYmFpZHVNYXAuY2FsbGJhY2tzID0gW107XG5cdCAgICB9O1xuXHRcblx0ICAgIHZhciBjcmVhdGVUYWcgPSBmdW5jdGlvbiBjcmVhdGVUYWcoKSB7XG5cdCAgICAgICAgdmFyIHNjcmlwdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NjcmlwdCcpO1xuXHQgICAgICAgIHNjcmlwdC50eXBlID0gJ3RleHQvamF2YXNjcmlwdCc7XG5cdCAgICAgICAgc2NyaXB0LnNyYyA9IE1BUF9VUkw7XG5cdCAgICAgICAgc2NyaXB0Lm9uZXJyb3IgPSBmdW5jdGlvbiAoKSB7XG5cdFxuXHQgICAgICAgICAgICBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdiYWlkdS1tYXAgZGl2JykpLmZvckVhY2goZnVuY3Rpb24gKG5vZGUpIHtcblx0ICAgICAgICAgICAgICAgIG5vZGUuc3R5bGUub3BhY2l0eSA9IDE7XG5cdCAgICAgICAgICAgIH0pO1xuXHQgICAgICAgICAgICBkb2N1bWVudC5ib2R5LnJlbW92ZUNoaWxkKHNjcmlwdCk7XG5cdCAgICAgICAgICAgIHNldFRpbWVvdXQoY3JlYXRlVGFnLCBvZmZsaW5lT3B0cy5yZXRyeUludGVydmFsKTtcblx0ICAgICAgICB9O1xuXHQgICAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoc2NyaXB0KTtcblx0ICAgIH07XG5cdFxuXHQgICAgY3JlYXRlVGFnKCk7XG5cdH07XG5cbi8qKiovIH0sXG4vKiA2ICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICAgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHR2YXIgZGl2U3R5bGUgPSBleHBvcnRzLmRpdlN0eWxlID0ge1xuXHQgICAgd2lkdGg6ICcxMDAlJyxcblx0ICAgIGhlaWdodDogJzEwMCUnLFxuXHQgICAgYmFja2dyb3VuZENvbG9yOiAnI0U2RTZFNicsXG5cdCAgICBwb3NpdGlvbjogJ3JlbGF0aXZlJyxcblx0ICAgIG9wYWNpdHk6IDBcblx0fTtcblx0XG5cdHZhciBsYWJlbFN0eWxlID0gZXhwb3J0cy5sYWJlbFN0eWxlID0ge1xuXHQgICAgZm9udFNpemU6ICczMHB4Jyxcblx0ICAgIHBvc2l0aW9uOiAnYWJzb2x1dGUnLFxuXHQgICAgdG9wOiAnNTAlJyxcblx0ICAgIG1hcmdpblRvcDogMCxcblx0ICAgIGxlZnQ6ICc1MCUnLFxuXHQgICAgbWFyZ2luTGVmdDogMFxuXHR9O1xuXG4vKioqLyB9LFxuLyogNyAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdCAgICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0dmFyIGNyZWF0ZUluc3RhbmNlID0gZXhwb3J0cy5jcmVhdGVJbnN0YW5jZSA9IGZ1bmN0aW9uIGNyZWF0ZUluc3RhbmNlKG9wdHMsIGVsZW1lbnQpIHtcblx0ICAgIC8vIGNyZWF0ZSBtYXAgaW5zdGFuY2Vcblx0ICAgIHZhciBtYXAgPSBuZXcgQk1hcC5NYXAoZWxlbWVudFswXSk7XG5cdFxuXHQgICAgLy8gaW5pdCBtYXAsIHNldCBjZW50cmFsIGxvY2F0aW9uIGFuZCB6b29tIGxldmVsXG5cdCAgICBtYXAuY2VudGVyQW5kWm9vbShuZXcgQk1hcC5Qb2ludChvcHRzLmNlbnRlci5sb25naXR1ZGUsIG9wdHMuY2VudGVyLmxhdGl0dWRlKSwgb3B0cy56b29tKTtcblx0ICAgIGlmIChvcHRzLm5hdkN0cmwpIHtcblx0ICAgICAgICAvLyBhZGQgbmF2aWdhdGlvbiBjb250cm9sXG5cdCAgICAgICAgbWFwLmFkZENvbnRyb2wobmV3IEJNYXAuTmF2aWdhdGlvbkNvbnRyb2woKSk7XG5cdCAgICB9XG5cdCAgICBpZiAob3B0cy5zY2FsZUN0cmwpIHtcblx0ICAgICAgICAvLyBhZGQgc2NhbGUgY29udHJvbFxuXHQgICAgICAgIG1hcC5hZGRDb250cm9sKG5ldyBCTWFwLlNjYWxlQ29udHJvbCgpKTtcblx0ICAgIH1cblx0ICAgIGlmIChvcHRzLm92ZXJ2aWV3Q3RybCkge1xuXHQgICAgICAgIC8vYWRkIG92ZXJ2aWV3IG1hcCBjb250cm9sXG5cdCAgICAgICAgbWFwLmFkZENvbnRyb2wobmV3IEJNYXAuT3ZlcnZpZXdNYXBDb250cm9sKCkpO1xuXHQgICAgfVxuXHQgICAgaWYgKG9wdHMuZW5hYmxlU2Nyb2xsV2hlZWxab29tKSB7XG5cdCAgICAgICAgLy9lbmFibGUgc2Nyb2xsIHdoZWVsIHpvb21cblx0ICAgICAgICBtYXAuZW5hYmxlU2Nyb2xsV2hlZWxab29tKCk7XG5cdCAgICB9XG5cdFxuXHQgICAgLy8gc2V0IHRoZSBjaXR5IG5hbWVcblx0ICAgIG1hcC5zZXRDdXJyZW50Q2l0eShvcHRzLmNpdHkpO1xuXHQgICAgcmV0dXJuIG1hcDtcblx0fTtcblx0XG5cdHZhciBjcmVhdGVNYXJrZXIgPSBleHBvcnRzLmNyZWF0ZU1hcmtlciA9IGZ1bmN0aW9uIGNyZWF0ZU1hcmtlcihtYXJrZXIsIHB0KSB7XG5cdCAgICBpZiAobWFya2VyLmljb24pIHtcblx0ICAgICAgICB2YXIgaWNvbiA9IG5ldyBCTWFwLkljb24obWFya2VyLmljb24sIG5ldyBCTWFwLlNpemUobWFya2VyLndpZHRoLCBtYXJrZXIuaGVpZ2h0KSk7XG5cdCAgICAgICAgcmV0dXJuIG5ldyBCTWFwLk1hcmtlcihwdCwgeyBpY29uOiBpY29uIH0pO1xuXHQgICAgfVxuXHQgICAgcmV0dXJuIG5ldyBCTWFwLk1hcmtlcihwdCk7XG5cdH07XG5cdFxuXHR2YXIgcmVkcmF3TWFya2VycyA9IGV4cG9ydHMucmVkcmF3TWFya2VycyA9IGZ1bmN0aW9uIHJlZHJhd01hcmtlcnMobWFwLCBwcmV2aW91c01hcmtlcnMsIG9wdHMpIHtcblx0XG5cdCAgICBwcmV2aW91c01hcmtlcnMuZm9yRWFjaChmdW5jdGlvbiAoX3JlZikge1xuXHQgICAgICAgIHZhciBtYXJrZXIgPSBfcmVmLm1hcmtlcjtcblx0ICAgICAgICB2YXIgbGlzdGVuZXIgPSBfcmVmLmxpc3RlbmVyO1xuXHRcblx0ICAgICAgICBtYXJrZXIucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2xpY2snLCBsaXN0ZW5lcik7XG5cdCAgICAgICAgbWFwLnJlbW92ZU92ZXJsYXkobWFya2VyKTtcblx0ICAgIH0pO1xuXHRcblx0ICAgIHByZXZpb3VzTWFya2Vycy5sZW5ndGggPSAwO1xuXHRcblx0ICAgIGlmICghb3B0cy5tYXJrZXJzKSB7XG5cdCAgICAgICAgcmV0dXJuO1xuXHQgICAgfVxuXHRcblx0ICAgIG9wdHMubWFya2Vycy5mb3JFYWNoKGZ1bmN0aW9uIChtYXJrZXIpIHtcblx0XG5cdCAgICAgICAgdmFyIG1hcmtlcjIgPSBjcmVhdGVNYXJrZXIobWFya2VyLCBuZXcgQk1hcC5Qb2ludChtYXJrZXIubG9uZ2l0dWRlLCBtYXJrZXIubGF0aXR1ZGUpKTtcblx0XG5cdCAgICAgICAgLy8gYWRkIG1hcmtlciB0byB0aGUgbWFwXG5cdCAgICAgICAgbWFwLmFkZE92ZXJsYXkobWFya2VyMik7XG5cdCAgICAgICAgdmFyIHByZXZpb3VzTWFya2VyID0geyBtYXJrZXI6IG1hcmtlcjIsIGxpc3RlbmVyOiBudWxsIH07XG5cdCAgICAgICAgcHJldmlvdXNNYXJrZXJzLnB1c2gocHJldmlvdXNNYXJrZXIpO1xuXHRcblx0ICAgICAgICBpZiAoIW1hcmtlci50aXRsZSAmJiAhbWFya2VyLmNvbnRlbnQpIHtcblx0ICAgICAgICAgICAgcmV0dXJuO1xuXHQgICAgICAgIH1cblx0ICAgICAgICB2YXIgbXNnID0gJzxwPicgKyAobWFya2VyLnRpdGxlIHx8ICcnKSArICc8L3A+PHA+JyArIChtYXJrZXIuY29udGVudCB8fCAnJykgKyAnPC9wPic7XG5cdCAgICAgICAgdmFyIGluZm9XaW5kb3cyID0gbmV3IEJNYXAuSW5mb1dpbmRvdyhtc2csIHtcblx0ICAgICAgICAgICAgZW5hYmxlTWVzc2FnZTogISFtYXJrZXIuZW5hYmxlTWVzc2FnZVxuXHQgICAgICAgIH0pO1xuXHQgICAgICAgIHByZXZpb3VzTWFya2VyLmxpc3RlbmVyID0gZnVuY3Rpb24gKCkge1xuXHQgICAgICAgICAgICB0aGlzLm9wZW5JbmZvV2luZG93KGluZm9XaW5kb3cyKTtcblx0ICAgICAgICB9O1xuXHQgICAgICAgIG1hcmtlcjIuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBwcmV2aW91c01hcmtlci5saXN0ZW5lcik7XG5cdCAgICB9KTtcblx0fTtcblxuLyoqKi8gfVxuLyoqKioqKi8gXSlcbn0pO1xuOyIsIi8qIVxuICAgYW5ndWxhci1ibG9jay11aSB2MC4yLjFcbiAgIChjKSAyMDE1IChudWxsKSBNY051bGwgaHR0cHM6Ly9naXRodWIuY29tL01jTnVsbC9hbmd1bGFyLWJsb2NrLXVpXG4gICBMaWNlbnNlOiBNSVRcbiovXG4oZnVuY3Rpb24oYW5ndWxhcikge1xuXG52YXIgYmxrVUkgPSBhbmd1bGFyLm1vZHVsZSgnYmxvY2tVSScsIFtdKTtcblxuYmxrVUkuY29uZmlnKFtcIiRwcm92aWRlXCIsIFwiJGh0dHBQcm92aWRlclwiLCBmdW5jdGlvbiAoJHByb3ZpZGUsICRodHRwUHJvdmlkZXIpIHtcblxuICAkcHJvdmlkZS5kZWNvcmF0b3IoJyRleGNlcHRpb25IYW5kbGVyJywgWyckZGVsZWdhdGUnLCAnJGluamVjdG9yJyxcbiAgICBmdW5jdGlvbiAoJGRlbGVnYXRlLCAkaW5qZWN0b3IpIHtcbiAgICAgIHZhciBibG9ja1VJLCBibG9ja1VJQ29uZmlnO1xuXG4gICAgICByZXR1cm4gZnVuY3Rpb24gKGV4Y2VwdGlvbiwgY2F1c2UpIHtcblxuICAgICAgICBibG9ja1VJQ29uZmlnID0gYmxvY2tVSUNvbmZpZyB8fCAkaW5qZWN0b3IuZ2V0KCdibG9ja1VJQ29uZmlnJyk7XG5cbiAgICAgICAgaWYgKGJsb2NrVUlDb25maWcucmVzZXRPbkV4Y2VwdGlvbikge1xuICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICBibG9ja1VJID0gYmxvY2tVSSB8fCAkaW5qZWN0b3IuZ2V0KCdibG9ja1VJJyk7XG4gICAgICAgICAgICBibG9ja1VJLmluc3RhbmNlcy5yZXNldCgpO1xuICAgICAgICAgIH0gY2F0Y2ggKGV4KSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZygnJGV4Y2VwdGlvbkhhbmRsZXInLCBleGNlcHRpb24pO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgICRkZWxlZ2F0ZShleGNlcHRpb24sIGNhdXNlKTtcbiAgICAgIH07XG4gICAgfVxuICBdKTtcblxuICAkaHR0cFByb3ZpZGVyLmludGVyY2VwdG9ycy5wdXNoKCdibG9ja1VJSHR0cEludGVyY2VwdG9yJyk7XG59XSk7XG5cbmJsa1VJLnJ1bihbXCIkZG9jdW1lbnRcIiwgXCJibG9ja1VJQ29uZmlnXCIsIFwiJHRlbXBsYXRlQ2FjaGVcIiwgZnVuY3Rpb24gKCRkb2N1bWVudCwgYmxvY2tVSUNvbmZpZywgJHRlbXBsYXRlQ2FjaGUpIHtcbiAgaWYgKGJsb2NrVUlDb25maWcuYXV0b0luamVjdEJvZHlCbG9jaykge1xuICAgICRkb2N1bWVudC5maW5kKCdib2R5JykuYXR0cignYmxvY2stdWknLCAnbWFpbicpO1xuICB9XG5cbiAgaWYgKGJsb2NrVUlDb25maWcudGVtcGxhdGUpIHtcblxuICAgIC8vIFN3YXAgdGhlIGJ1aWx0aW4gdGVtcGxhdGUgd2l0aCB0aGUgY3VzdG9tIHRlbXBsYXRlLlxuICAgIC8vIENyZWF0ZSBhIG1hZ2ljIGNhY2hlIGtleSBhbmQgcGxhY2UgdGhlIHRlbXBsYXRlIGluIHRoZSBjYWNoZS5cblxuICAgIGJsb2NrVUlDb25maWcudGVtcGxhdGVVcmwgPSAnJCRibG9jay11aS10ZW1wbGF0ZSQkJztcbiAgICAkdGVtcGxhdGVDYWNoZS5wdXQoYmxvY2tVSUNvbmZpZy50ZW1wbGF0ZVVybCwgYmxvY2tVSUNvbmZpZy50ZW1wbGF0ZSk7XG4gIH1cbn1dKTtcblxuZnVuY3Rpb24gbW9kdWxlTG9hZGVkKG5hbWUpIHtcbiAgdHJ5IHtcbiAgICBhbmd1bGFyLm1vZHVsZShuYW1lKTtcbiAgfSBjYXRjaChleCkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICByZXR1cm4gdHJ1ZTtcbn1cbmJsa1VJLmNvbmZpZyhbXCIkcHJvdmlkZVwiLCBmdW5jdGlvbiAoJHByb3ZpZGUpIHtcbiAgJHByb3ZpZGUuZGVjb3JhdG9yKCckbG9jYXRpb24nLCBkZWNvcmF0ZUxvY2F0aW9uKTtcbn1dKTtcblxudmFyIGRlY29yYXRlTG9jYXRpb24gPSBbXG4gICckZGVsZWdhdGUnLCAnYmxvY2tVSScsICdibG9ja1VJQ29uZmlnJyxcbiAgZnVuY3Rpb24gKCRkZWxlZ2F0ZSwgYmxvY2tVSSwgYmxvY2tVSUNvbmZpZykge1xuXG4gICAgaWYgKGJsb2NrVUlDb25maWcuYmxvY2tCcm93c2VyTmF2aWdhdGlvbikge1xuXG4gICAgICBibG9ja1VJLiRfYmxvY2tMb2NhdGlvbkNoYW5nZSA9IHRydWU7XG5cbiAgICAgIHZhciBvdmVycmlkZXMgPSBbJ3VybCcsICdwYXRoJywgJ3NlYXJjaCcsICdoYXNoJywgJ3N0YXRlJ107XG5cbiAgICAgIGZ1bmN0aW9uIGhvb2soZikge1xuICAgICAgICB2YXIgcyA9ICRkZWxlZ2F0ZVtmXTtcbiAgICAgICAgJGRlbGVnYXRlW2ZdID0gZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgLy8gICAgICAgIGNvbnNvbGUubG9nKGYsIERhdGUubm93KCksIGFyZ3VtZW50cyk7XG5cbiAgICAgICAgICB2YXIgcmVzdWx0ID0gcy5hcHBseSgkZGVsZWdhdGUsIGFyZ3VtZW50cyk7XG5cbiAgICAgICAgICAvLyBUaGUgY2FsbCB3YXMgYSBzZXR0ZXIgaWYgdGhlICRsb2NhdGlvbiBzZXJ2aWNlIGlzIHJldHVybmVkLlxuXG4gICAgICAgICAgaWYgKHJlc3VsdCA9PT0gJGRlbGVnYXRlKSB7XG5cbiAgICAgICAgICAgIC8vIE1hcmsgdGhlIG1haW5ibG9jayB1aSB0byBhbGxvdyB0aGUgbG9jYXRpb24gY2hhbmdlLlxuXG4gICAgICAgICAgICBibG9ja1VJLiRfYmxvY2tMb2NhdGlvbkNoYW5nZSA9IGZhbHNlO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgIH07XG4gICAgICB9XG5cbiAgICAgIGFuZ3VsYXIuZm9yRWFjaChvdmVycmlkZXMsIGhvb2spO1xuXG4gICAgfVxuXG4gICAgcmV0dXJuICRkZWxlZ2F0ZTtcbn1dO1xuXG4vLyBDYWxsZWQgZnJvbSBibG9jay11aS1kaXJlY3RpdmUgZm9yIHRoZSAnbWFpbicgaW5zdGFuY2UuXG5cbmZ1bmN0aW9uIGJsb2NrTmF2aWdhdGlvbigkc2NvcGUsIG1haW5CbG9ja1VJLCBibG9ja1VJQ29uZmlnKSB7XG5cbiAgaWYgKGJsb2NrVUlDb25maWcuYmxvY2tCcm93c2VyTmF2aWdhdGlvbikge1xuXG4gICAgZnVuY3Rpb24gcmVnaXN0ZXJMb2NhdGlvbkNoYW5nZSgpIHtcblxuICAgICAgJHNjb3BlLiRvbignJGxvY2F0aW9uQ2hhbmdlU3RhcnQnLCBmdW5jdGlvbiAoZXZlbnQpIHtcblxuICAgICAgICAvLyAgICAgICAgY29uc29sZS5sb2coJyRsb2NhdGlvbkNoYW5nZVN0YXJ0JywgbWFpbkJsb2NrVUkuJF9ibG9ja0xvY2F0aW9uQ2hhbmdlICsgJyAnICsgbWFpbkJsb2NrVUkuc3RhdGUoKS5ibG9ja0NvdW50KTtcblxuICAgICAgICBpZiAobWFpbkJsb2NrVUkuJF9ibG9ja0xvY2F0aW9uQ2hhbmdlICYmIG1haW5CbG9ja1VJLnN0YXRlKCkuYmxvY2tDb3VudCA+IDApIHtcbiAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICB9XG4gICAgICB9KTtcblxuICAgICAgJHNjb3BlLiRvbignJGxvY2F0aW9uQ2hhbmdlU3VjY2VzcycsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgbWFpbkJsb2NrVUkuJF9ibG9ja0xvY2F0aW9uQ2hhbmdlID0gYmxvY2tVSUNvbmZpZy5ibG9ja0Jyb3dzZXJOYXZpZ2F0aW9uO1xuXG4gICAgICAgIC8vICAgICAgICBjb25zb2xlLmxvZygnJGxvY2F0aW9uQ2hhbmdlU3VjY2VzcycsIG1haW5CbG9ja1VJLiRfYmxvY2tMb2NhdGlvbkNoYW5nZSArICcgJyArIG1haW5CbG9ja1VJLnN0YXRlKCkuYmxvY2tDb3VudCk7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBpZiAobW9kdWxlTG9hZGVkKCduZ1JvdXRlJykpIHtcblxuICAgICAgLy8gQWZ0ZXIgdGhlIGluaXRpYWwgY29udGVudCBoYXMgYmVlbiBsb2FkZWQgd2UnbGwgc3B5IG9uIGFueSBsb2NhdGlvblxuICAgICAgLy8gY2hhbmdlcyBhbmQgZGlzY2FyZCB0aGVtIHdoZW4gbmVlZGVkLlxuXG4gICAgICB2YXIgZm4gPSAkc2NvcGUuJG9uKCckdmlld0NvbnRlbnRMb2FkZWQnLCBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgLy8gVW5ob29rIHRoZSB2aWV3IGxvYWRlZCBhbmQgaG9vayBhIGZ1bmN0aW9uIHRoYXQgd2lsbCBwcmV2ZW50XG4gICAgICAgIC8vIGxvY2F0aW9uIGNoYW5nZXMgd2hpbGUgdGhlIGJsb2NrIGlzIGFjdGl2ZS5cblxuICAgICAgICBmbigpO1xuICAgICAgICByZWdpc3RlckxvY2F0aW9uQ2hhbmdlKCk7XG5cbiAgICAgIH0pO1xuXG4gICAgfSBlbHNlIHtcbiAgICAgIHJlZ2lzdGVyTG9jYXRpb25DaGFuZ2UoKTtcbiAgICB9XG5cbiAgfVxufVxuYmxrVUkuZGlyZWN0aXZlKCdibG9ja1VpQ29udGFpbmVyJywgW1wiYmxvY2tVSUNvbmZpZ1wiLCBcImJsb2NrVWlDb250YWluZXJMaW5rRm5cIiwgZnVuY3Rpb24gKGJsb2NrVUlDb25maWcsIGJsb2NrVWlDb250YWluZXJMaW5rRm4pIHtcbiAgcmV0dXJuIHtcbiAgICBzY29wZTogdHJ1ZSxcbiAgICByZXN0cmljdDogJ0EnLFxuICAgIHRlbXBsYXRlVXJsOiBibG9ja1VJQ29uZmlnLnRlbXBsYXRlVXJsLFxuICAgIGNvbXBpbGU6IGZ1bmN0aW9uKCRlbGVtZW50KSB7XG4gICAgICByZXR1cm4gYmxvY2tVaUNvbnRhaW5lckxpbmtGbjtcbiAgICB9XG4gIH07XG59XSkuZmFjdG9yeSgnYmxvY2tVaUNvbnRhaW5lckxpbmtGbicsIFtcImJsb2NrVUlcIiwgXCJibG9ja1VJVXRpbHNcIiwgZnVuY3Rpb24gKGJsb2NrVUksIGJsb2NrVUlVdGlscykge1xuXG4gIHJldHVybiBmdW5jdGlvbiAoJHNjb3BlLCAkZWxlbWVudCwgJGF0dHJzKSB7XG5cbiAgICB2YXIgc3J2SW5zdGFuY2UgPSAkZWxlbWVudC5pbmhlcml0ZWREYXRhKCdibG9jay11aScpO1xuXG4gICAgaWYgKCFzcnZJbnN0YW5jZSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdObyBwYXJlbnQgYmxvY2stdWkgc2VydmljZSBpbnN0YW5jZSBsb2NhdGVkLicpO1xuICAgIH1cblxuICAgIC8vIEV4cG9zZSB0aGUgc3RhdGUgb24gdGhlIHNjb3BlXG5cbiAgICAkc2NvcGUuc3RhdGUgPSBzcnZJbnN0YW5jZS5zdGF0ZSgpO1xuXG4vLyAgICAkc2NvcGUuJHdhdGNoKCdzdGF0ZS5ibG9ja2luZycsIGZ1bmN0aW9uKHZhbHVlKSB7XG4vLyAgICAgICRlbGVtZW50LnRvZ2dsZUNsYXNzKCdibG9jay11aS12aXNpYmxlJywgISF2YWx1ZSk7XG4vLyAgICB9KTtcbi8vXG4vLyAgICAkc2NvcGUuJHdhdGNoKCdzdGF0ZS5ibG9ja0NvdW50ID4gMCcsIGZ1bmN0aW9uKHZhbHVlKSB7XG4vLyAgICAgICRlbGVtZW50LnRvZ2dsZUNsYXNzKCdibG9jay11aS1hY3RpdmUnLCAhIXZhbHVlKTtcbi8vICAgIH0pO1xuICB9O1xufV0pO1xuYmxrVUkuZGlyZWN0aXZlKCdibG9ja1VpJywgW1wiYmxvY2tVaUNvbXBpbGVGblwiLCBmdW5jdGlvbiAoYmxvY2tVaUNvbXBpbGVGbikge1xuXG4gIHJldHVybiB7XG4gICAgc2NvcGU6IHRydWUsXG4gICAgcmVzdHJpY3Q6ICdBJyxcbiAgICBjb21waWxlOiBibG9ja1VpQ29tcGlsZUZuXG4gIH07XG5cbn1dKS5mYWN0b3J5KCdibG9ja1VpQ29tcGlsZUZuJywgW1wiYmxvY2tVaVByZUxpbmtGblwiLCBmdW5jdGlvbiAoYmxvY2tVaVByZUxpbmtGbikge1xuXG4gIHJldHVybiBmdW5jdGlvbiAoJGVsZW1lbnQsICRhdHRycykge1xuXG4gICAgLy8gQ2xhc3Mgc2hvdWxkIGJlIGFkZGVkIGhlcmUgdG8gcHJldmVudCBhbiBhbmltYXRpb24gZGVsYXkgZXJyb3IuXG5cbiAgICAkZWxlbWVudC5hcHBlbmQoJzxkaXYgYmxvY2stdWktY29udGFpbmVyIGNsYXNzPVwiYmxvY2stdWktY29udGFpbmVyXCI+PC9kaXY+Jyk7XG5cbiAgICByZXR1cm4ge1xuICAgICAgcHJlOiBibG9ja1VpUHJlTGlua0ZuXG4gICAgfTtcblxuICB9O1xuXG59XSkuZmFjdG9yeSgnYmxvY2tVaVByZUxpbmtGbicsIFtcImJsb2NrVUlcIiwgXCJibG9ja1VJVXRpbHNcIiwgXCJibG9ja1VJQ29uZmlnXCIsIGZ1bmN0aW9uIChibG9ja1VJLCBibG9ja1VJVXRpbHMsIGJsb2NrVUlDb25maWcpIHtcblxuICByZXR1cm4gZnVuY3Rpb24gKCRzY29wZSwgJGVsZW1lbnQsICRhdHRycykge1xuXG4gICAgLy8gSWYgdGhlIGVsZW1lbnQgZG9lcyBub3QgaGF2ZSB0aGUgY2xhc3MgXCJibG9jay11aVwiIHNldCwgd2Ugc2V0IHRoZVxuICAgIC8vIGRlZmF1bHQgY3NzIGNsYXNzZXMgZnJvbSB0aGUgY29uZmlnLlxuXG4gICAgaWYgKCEkZWxlbWVudC5oYXNDbGFzcygnYmxvY2stdWknKSkge1xuICAgICAgJGVsZW1lbnQuYWRkQ2xhc3MoYmxvY2tVSUNvbmZpZy5jc3NDbGFzcyk7XG4gICAgfVxuXG4gICAgLy8gRXhwb3NlIHRoZSBibG9ja1VpTWVzc2FnZUNsYXNzIGF0dHJpYnV0ZSB2YWx1ZSBvbiB0aGUgc2NvcGVcblxuICAgICRhdHRycy4kb2JzZXJ2ZSgnYmxvY2tVaU1lc3NhZ2VDbGFzcycsIGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgJHNjb3BlLiRfYmxvY2tVaU1lc3NhZ2VDbGFzcyA9IHZhbHVlO1xuICAgIH0pO1xuXG4gICAgLy8gQ3JlYXRlIHRoZSBibG9ja1VJIGluc3RhbmNlXG4gICAgLy8gUHJlZml4IHVuZGVyc2NvcmUgdG8gcHJldmVudCBpbnRlZ2VyczpcbiAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vTWNOdWxsL2FuZ3VsYXItYmxvY2stdWkvcHVsbC84XG5cbiAgICB2YXIgaW5zdGFuY2VJZCA9ICRhdHRycy5ibG9ja1VpIHx8ICdfJyArICRzY29wZS4kaWQ7XG4gICAgdmFyIHNydkluc3RhbmNlID0gYmxvY2tVSS5pbnN0YW5jZXMuZ2V0KGluc3RhbmNlSWQpO1xuXG4gICAgLy8gSWYgdGhpcyBpcyB0aGUgbWFpbiAodG9wbW9zdCkgYmxvY2sgZWxlbWVudCB3ZSdsbCBhbHNvIG5lZWQgdG8gYmxvY2sgYW55XG4gICAgLy8gbG9jYXRpb24gY2hhbmdlcyB3aGlsZSB0aGUgYmxvY2sgaXMgYWN0aXZlLlxuXG4gICAgaWYgKGluc3RhbmNlSWQgPT09ICdtYWluJykge1xuICAgICAgYmxvY2tOYXZpZ2F0aW9uKCRzY29wZSwgc3J2SW5zdGFuY2UsIGJsb2NrVUlDb25maWcpO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBMb2NhdGUgdGhlIHBhcmVudCBibG9ja1VJIGluc3RhbmNlXG4gICAgICB2YXIgcGFyZW50SW5zdGFuY2UgPSAkZWxlbWVudC5pbmhlcml0ZWREYXRhKCdibG9jay11aScpO1xuXG4gICAgICBpZiAocGFyZW50SW5zdGFuY2UpIHtcbiAgICAgICAgLy8gVE9ETzogYXNzZXJ0IGlmIHBhcmVudCBpcyBhbHJlYWR5IHNldCB0byBzb21ldGhpbmcgZWxzZVxuICAgICAgICBzcnZJbnN0YW5jZS5fcGFyZW50ID0gcGFyZW50SW5zdGFuY2U7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gRW5zdXJlIHRoZSBpbnN0YW5jZSBpcyByZWxlYXNlZCB3aGVuIHRoZSBzY29wZSBpcyBkZXN0cm95ZWRcblxuICAgICRzY29wZS4kb24oJyRkZXN0cm95JywgZnVuY3Rpb24gKCkge1xuICAgICAgc3J2SW5zdGFuY2UucmVsZWFzZSgpO1xuICAgIH0pO1xuXG4gICAgLy8gSW5jcmVhc2UgdGhlIHJlZmVyZW5jZSBjb3VudFxuXG4gICAgc3J2SW5zdGFuY2UuYWRkUmVmKCk7XG5cbiAgICAvLyBFeHBvc2UgdGhlIHN0YXRlIG9uIHRoZSBzY29wZVxuXG4gICAgJHNjb3BlLiRfYmxvY2tVaVN0YXRlID0gc3J2SW5zdGFuY2Uuc3RhdGUoKTtcblxuICAgICRzY29wZS4kd2F0Y2goJyRfYmxvY2tVaVN0YXRlLmJsb2NraW5nJywgZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAvLyBTZXQgdGhlIGFyaWEtYnVzeSBhdHRyaWJ1dGUgaWYgbmVlZGVkXG4gICAgICAkZWxlbWVudC5hdHRyKCdhcmlhLWJ1c3knLCAhIXZhbHVlKTtcbiAgICAgICRlbGVtZW50LnRvZ2dsZUNsYXNzKCdibG9jay11aS12aXNpYmxlJywgISF2YWx1ZSk7XG4gICAgfSk7XG5cbiAgICAkc2NvcGUuJHdhdGNoKCckX2Jsb2NrVWlTdGF0ZS5ibG9ja0NvdW50ID4gMCcsIGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgJGVsZW1lbnQudG9nZ2xlQ2xhc3MoJ2Jsb2NrLXVpLWFjdGl2ZScsICEhdmFsdWUpO1xuICAgIH0pO1xuXG4gICAgLy8gSWYgYSBwYXR0ZXJuIGlzIHByb3ZpZGVkIGFzc2lnbiBpdCB0byB0aGUgc3RhdGVcblxuICAgIHZhciBwYXR0ZXJuID0gJGF0dHJzLmJsb2NrVWlQYXR0ZXJuO1xuXG4gICAgaWYgKHBhdHRlcm4pIHtcbiAgICAgIHZhciByZWdFeHAgPSBibG9ja1VJVXRpbHMuYnVpbGRSZWdFeHAocGF0dGVybik7XG4gICAgICBzcnZJbnN0YW5jZS5wYXR0ZXJuKHJlZ0V4cCk7XG4gICAgfVxuXG4gICAgLy8gU3RvcmUgYSByZWZlcmVuY2UgdG8gdGhlIHNlcnZpY2UgaW5zdGFuY2Ugb24gdGhlIGVsZW1lbnRcblxuICAgICRlbGVtZW50LmRhdGEoJ2Jsb2NrLXVpJywgc3J2SW5zdGFuY2UpO1xuXG4gIH07XG5cbn1dKTtcbi8vLmZhY3RvcnkoJ2Jsb2NrVWlQb3N0TGlua0ZuJywgZnVuY3Rpb24oYmxvY2tVSVV0aWxzKSB7XG4vL1xuLy8gIHJldHVybiBmdW5jdGlvbigkc2NvcGUsICRlbGVtZW50LCAkYXR0cnMpIHtcbi8vXG4vLyAgICB2YXIgJG1lc3NhZ2U7XG4vL1xuLy8gICAgJGF0dHJzLiRvYnNlcnZlKCdibG9ja1VpTWVzc2FnZUNsYXNzJywgZnVuY3Rpb24odmFsdWUpIHtcbi8vXG4vLyAgICAgICRtZXNzYWdlID0gJG1lc3NhZ2UgfHwgYmxvY2tVSVV0aWxzLmZpbmRFbGVtZW50KCRlbGVtZW50LCBmdW5jdGlvbigkZSkge1xuLy8gICAgICAgIHJldHVybiAkZS5oYXNDbGFzcygnYmxvY2stdWktbWVzc2FnZScpO1xuLy8gICAgICB9KTtcbi8vXG4vLyAgICAgICRtZXNzYWdlLmFkZENsYXNzKHZhbHVlKTtcbi8vXG4vLyAgICB9KTtcbi8vICB9O1xuLy9cbi8vfSk7XG5ibGtVSS5jb25zdGFudCgnYmxvY2tVSUNvbmZpZycsIHtcbiAgICB0ZW1wbGF0ZVVybDogJ2FuZ3VsYXItYmxvY2stdWkvYW5ndWxhci1ibG9jay11aS5uZy5odG1sJyxcbiAgICBkZWxheTogMjUwLFxuICAgIG1lc3NhZ2U6IFwiTG9hZGluZyAuLi5cIixcbiAgICBhdXRvQmxvY2s6IHRydWUsXG4gICAgcmVzZXRPbkV4Y2VwdGlvbjogdHJ1ZSxcbiAgICByZXF1ZXN0RmlsdGVyOiBhbmd1bGFyLm5vb3AsXG4gICAgYXV0b0luamVjdEJvZHlCbG9jazogdHJ1ZSxcbiAgICBjc3NDbGFzczogJ2Jsb2NrLXVpIGJsb2NrLXVpLWFuaW0tZmFkZScsXG4gICAgYmxvY2tCcm93c2VyTmF2aWdhdGlvbjogZmFsc2Vcbn0pO1xuXG5cbmJsa1VJLmZhY3RvcnkoJ2Jsb2NrVUlIdHRwSW50ZXJjZXB0b3InLCBbXCIkcVwiLCBcIiRpbmplY3RvclwiLCBcImJsb2NrVUlDb25maWdcIiwgXCIkdGVtcGxhdGVDYWNoZVwiLCBmdW5jdGlvbigkcSwgJGluamVjdG9yLCBibG9ja1VJQ29uZmlnLCAkdGVtcGxhdGVDYWNoZSkge1xuXG4gIHZhciBibG9ja1VJO1xuXG4gIGZ1bmN0aW9uIGluamVjdEJsb2NrVUkoKSB7XG4gICAgYmxvY2tVSSA9IGJsb2NrVUkgfHwgJGluamVjdG9yLmdldCgnYmxvY2tVSScpO1xuICB9XG5cbiAgZnVuY3Rpb24gc3RvcEJsb2NrVUkoY29uZmlnKSB7XG4gICAgaWYgKGJsb2NrVUlDb25maWcuYXV0b0Jsb2NrICYmIChjb25maWcgJiYgIWNvbmZpZy4kX25vQmxvY2sgJiYgY29uZmlnLiRfYmxvY2tzKSkge1xuICAgICAgaW5qZWN0QmxvY2tVSSgpO1xuICAgICAgY29uZmlnLiRfYmxvY2tzLnN0b3AoKTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBlcnJvcihyZWplY3Rpb24pIHtcblxuICAgIHRyeSB7XG4gICAgICBzdG9wQmxvY2tVSShyZWplY3Rpb24uY29uZmlnKTtcbiAgICB9IGNhdGNoKGV4KSB7XG4gICAgICBjb25zb2xlLmxvZygnaHR0cFJlcXVlc3RFcnJvcicsIGV4KTtcbiAgICB9XG5cbiAgICByZXR1cm4gJHEucmVqZWN0KHJlamVjdGlvbik7XG4gIH1cblxuICByZXR1cm4ge1xuICAgIHJlcXVlc3Q6IGZ1bmN0aW9uKGNvbmZpZykge1xuXG4gICAgICAvLyBPbmx5IGJsb2NrIHdoZW4gYXV0b0Jsb2NrIGlzIGVuYWJsZWQgLi4uXG4gICAgICAvLyAuLi4gYW5kIHRoZSByZXF1ZXN0IGRvZXNuJ3QgbWF0Y2ggYSBjYWNoZWQgdGVtcGxhdGUuXG5cbiAgICAgIGlmIChibG9ja1VJQ29uZmlnLmF1dG9CbG9jayAmJlxuICAgICAgICAhKGNvbmZpZy5tZXRob2QgPT0gJ0dFVCcgJiYgJHRlbXBsYXRlQ2FjaGUuZ2V0KGNvbmZpZy51cmwpKSkge1xuXG4gICAgICAgIC8vIERvbid0IGJsb2NrIGV4Y2x1ZGVkIHJlcXVlc3RzXG5cbiAgICAgICAgdmFyIHJlc3VsdCA9IGJsb2NrVUlDb25maWcucmVxdWVzdEZpbHRlcihjb25maWcpO1xuXG4gICAgICAgIGlmIChyZXN1bHQgPT09IGZhbHNlKSB7XG4gICAgICAgICAgLy8gVGFnIHRoZSBjb25maWcgc28gd2UgZG9uJ3QgdW5ibG9jayB0aGlzIHJlcXVlc3RcbiAgICAgICAgICBjb25maWcuJF9ub0Jsb2NrID0gdHJ1ZTtcbiAgICAgICAgfSBlbHNlIHtcblxuICAgICAgICAgIGluamVjdEJsb2NrVUkoKTtcblxuICAgICAgICAgIGNvbmZpZy4kX2Jsb2NrcyA9IGJsb2NrVUkuaW5zdGFuY2VzLmxvY2F0ZShjb25maWcpO1xuICAgICAgICAgIGNvbmZpZy4kX2Jsb2Nrcy5zdGFydChyZXN1bHQpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBjb25maWc7XG4gICAgfSxcblxuICAgIHJlcXVlc3RFcnJvcjogZXJyb3IsXG5cbiAgICByZXNwb25zZTogZnVuY3Rpb24ocmVzcG9uc2UpIHtcblxuICAgICAgLy8gSWYgdGhlIGNvbm5lY3Rpb24gdG8gdGhlIHdlYnNpdGUgZ29lcyBkb3duIHRoZSByZXNwb25zZSBpbnRlcmNlcHRvciBnZXRzIGFuZCBlcnJvciB3aXRoIFwiY2Fubm90IHJlYWQgcHJvcGVydHkgY29uZmlnIG9mIG51bGxcIi5cbiAgICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9NY051bGwvYW5ndWxhci1ibG9jay11aS9pc3N1ZXMvNTNcblxuICAgICAgaWYocmVzcG9uc2UpIHtcbiAgICAgICAgc3RvcEJsb2NrVUkocmVzcG9uc2UuY29uZmlnKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHJlc3BvbnNlO1xuICAgIH0sXG5cbiAgICByZXNwb25zZUVycm9yOiBlcnJvclxuICB9O1xuXG59XSk7XG5cbmJsa1VJLmZhY3RvcnkoJ2Jsb2NrVUknLCBbXCJibG9ja1VJQ29uZmlnXCIsIFwiJHRpbWVvdXRcIiwgXCJibG9ja1VJVXRpbHNcIiwgXCIkZG9jdW1lbnRcIiwgZnVuY3Rpb24oYmxvY2tVSUNvbmZpZywgJHRpbWVvdXQsIGJsb2NrVUlVdGlscywgJGRvY3VtZW50KSB7XG5cbiAgdmFyICRib2R5ID0gJGRvY3VtZW50LmZpbmQoJ2JvZHknKTtcbiAgXG4gIC8vIFRoZXNlIHByb3BlcnRpZXMgYXJlIG5vdCBhbGxvd2VkIHRvIGJlIHNwZWNpZmllZCBpbiB0aGUgc3RhcnQgbWV0aG9kLlxuICB2YXIgcmVzZXJ2ZWRTdGF0ZVByb3BlcnRpZXMgPSBbJ2lkJywgJ2Jsb2NrQ291bnQnLCAnYmxvY2tpbmcnXTtcbiAgXG4gIGZ1bmN0aW9uIEJsb2NrVUkoaWQpIHtcblxuICAgIHZhciBzZWxmID0gdGhpcztcblxuICAgIHZhciBzdGF0ZSA9IHtcbiAgICAgIGlkOiBpZCxcbiAgICAgIGJsb2NrQ291bnQ6IDAsXG4gICAgICBtZXNzYWdlOiBibG9ja1VJQ29uZmlnLm1lc3NhZ2UsXG4gICAgICBibG9ja2luZzogZmFsc2VcbiAgICB9LCBzdGFydFByb21pc2UsIGRvbmVDYWxsYmFja3MgPSBbXTtcblxuICAgIHRoaXMuX2lkID0gaWQ7XG5cbiAgICB0aGlzLl9yZWZzID0gMDtcblxuICAgIHRoaXMuc3RhcnQgPSBmdW5jdGlvbihtZXNzYWdlT3JPcHRpb25zKSB7XG4gICAgICBcbiAgICAgIG1lc3NhZ2VPck9wdGlvbnMgPSBtZXNzYWdlT3JPcHRpb25zIHx8IHt9O1xuICAgICAgXG4gICAgICBpZihhbmd1bGFyLmlzU3RyaW5nKG1lc3NhZ2VPck9wdGlvbnMpKSB7XG4gICAgICAgIG1lc3NhZ2VPck9wdGlvbnMgPSB7XG4gICAgICAgICAgbWVzc2FnZTogbWVzc2FnZU9yT3B0aW9uc1xuICAgICAgICB9O1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgYW5ndWxhci5mb3JFYWNoKHJlc2VydmVkU3RhdGVQcm9wZXJ0aWVzLCBmdW5jdGlvbih4KSB7XG4gICAgICAgICAgaWYobWVzc2FnZU9yT3B0aW9uc1t4XSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdUaGUgcHJvcGVydHkgJyArIHggKyAnIGlzIHJlc2VydmVkIGZvciB0aGUgYmxvY2sgc3RhdGUuJyk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH0gXG4gICAgICBcbiAgICAgIGFuZ3VsYXIuZXh0ZW5kKHN0YXRlLCBtZXNzYWdlT3JPcHRpb25zKTtcbiAgICAgIFxuICAgICAgaWYoc3RhdGUuYmxvY2tDb3VudCA+IDApIHtcbiAgICAgICAgc3RhdGUubWVzc2FnZSA9IG1lc3NhZ2VPck9wdGlvbnMubWVzc2FnZSB8fCBzdGF0ZS5tZXNzYWdlIHx8IGJsb2NrVUlDb25maWcubWVzc2FnZTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHN0YXRlLm1lc3NhZ2UgPSBtZXNzYWdlT3JPcHRpb25zLm1lc3NhZ2UgfHwgYmxvY2tVSUNvbmZpZy5tZXNzYWdlO1xuICAgICAgfVxuICAgICAgXG4gICAgICAvLyBpZihzdGF0ZS5ibG9ja0NvdW50ID4gMCkge1xuICAgICAgLy8gICBtZXNzYWdlT3JPcHRpb25zID0gbWVzc2FnZU9yT3B0aW9ucyB8fCBzdGF0ZS5tZXNzYWdlIHx8IGJsb2NrVUlDb25maWcubWVzc2FnZTtcbiAgICAgIC8vIH0gZWxzZSB7XG4gICAgICAvLyAgIG1lc3NhZ2VPck9wdGlvbnMgPSBtZXNzYWdlT3JPcHRpb25zIHx8IGJsb2NrVUlDb25maWcubWVzc2FnZTtcbiAgICAgIC8vIH1cblxuICAgICAgLy8gc3RhdGUubWVzc2FnZSA9IG1lc3NhZ2VPck9wdGlvbnM7XG5cbiAgICAgIHN0YXRlLmJsb2NrQ291bnQrKztcblxuICAgICAgLy8gQ2hlY2sgaWYgdGhlIGZvY3VzZWQgZWxlbWVudCBpcyBwYXJ0IG9mIHRoZSBibG9jayBzY29wZVxuXG4gICAgICB2YXIgJGFlID0gYW5ndWxhci5lbGVtZW50KCRkb2N1bWVudFswXS5hY3RpdmVFbGVtZW50KTtcblxuICAgICAgaWYoJGFlLmxlbmd0aCAmJiBibG9ja1VJVXRpbHMuaXNFbGVtZW50SW5CbG9ja1Njb3BlKCRhZSwgc2VsZikpIHtcblxuICAgICAgICAvLyBMZXQgdGhlIGFjdGl2ZSBlbGVtZW50IGxvc2UgZm9jdXMgYW5kIHN0b3JlIGEgcmVmZXJlbmNlIFxuICAgICAgICAvLyB0byByZXN0b3JlIGZvY3VzIHdoZW4gd2UncmUgZG9uZSAocmVzZXQpXG5cbiAgICAgICAgc2VsZi5fcmVzdG9yZUZvY3VzID0gJGFlWzBdO1xuXG4gICAgICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9NY051bGwvYW5ndWxhci1ibG9jay11aS9pc3N1ZXMvMTNcbiAgICAgICAgLy8gaHR0cDovL3N0YWNrb3ZlcmZsb3cuY29tL3F1ZXN0aW9ucy8yMjY5ODA1OC9hcHBseS1hbHJlYWR5LWluLXByb2dyZXNzLWVycm9yLXdoZW4tdXNpbmctdHlwZWFoZWFkLXBsdWdpbi1mb3VuZC10by1iZS1yZWxhdGVcbiAgICAgICAgLy8gUXVldWUgdGhlIGJsdXIgYWZ0ZXIgYW55IG5nLWJsdXIgZXhwcmVzc2lvbi5cblxuICAgICAgICAkdGltZW91dChmdW5jdGlvbigpIHtcbiAgICAgICAgICAvLyBFbnN1cmUgd2Ugc3RpbGwgbmVlZCB0byBibHVyXG4gICAgICAgICAgLy8gRG9uJ3QgcmVzdG9yZSBpZiBhY3RpdmUgZWxlbWVudCBpcyBib2R5LCBzaW5jZSB0aGlzIGNhdXNlcyBJRSB0byBzd2l0Y2ggd2luZG93cyAoc2VlIGh0dHA6Ly90anZhbnRvbGwuY29tLzIwMTMvMDgvMzAvYnVncy13aXRoLWRvY3VtZW50LWFjdGl2ZWVsZW1lbnQtaW4taW50ZXJuZXQtZXhwbG9yZXIvKVxuICAgICAgICAgIGlmIChzZWxmLl9yZXN0b3JlRm9jdXMgJiYgc2VsZi5fcmVzdG9yZUZvY3VzICE9PSAkYm9keVswXSkge1xuICAgICAgICAgICAgc2VsZi5fcmVzdG9yZUZvY3VzLmJsdXIoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICBpZiAoIXN0YXJ0UHJvbWlzZSAmJiBibG9ja1VJQ29uZmlnLmRlbGF5ICE9PSAwKSB7XG4gICAgICAgIHN0YXJ0UHJvbWlzZSA9ICR0aW1lb3V0KGJsb2NrLCBibG9ja1VJQ29uZmlnLmRlbGF5KTtcbiAgICAgIH0gZWxzZSBpZiAoYmxvY2tVSUNvbmZpZy5kZWxheSA9PT0gMCkge1xuICAgICAgICBibG9jaygpO1xuICAgICAgfVxuXG4gICAgICBmdW5jdGlvbiBibG9jayAoKSB7XG4gICAgICAgIHN0YXJ0UHJvbWlzZSA9IG51bGw7XG4gICAgICAgIHN0YXRlLmJsb2NraW5nID0gdHJ1ZTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgdGhpcy5fY2FuY2VsU3RhcnRUaW1lb3V0ID0gZnVuY3Rpb24oKSB7XG4gICAgICBpZiAoc3RhcnRQcm9taXNlKSB7XG4gICAgICAgICR0aW1lb3V0LmNhbmNlbChzdGFydFByb21pc2UpO1xuICAgICAgICBzdGFydFByb21pc2UgPSBudWxsO1xuICAgICAgfVxuICAgIH07XG5cbiAgICB0aGlzLnN0b3AgPSBmdW5jdGlvbigpIHtcbiAgICAgIHN0YXRlLmJsb2NrQ291bnQgPSBNYXRoLm1heCgwLCAtLXN0YXRlLmJsb2NrQ291bnQpO1xuXG4gICAgICBpZiAoc3RhdGUuYmxvY2tDb3VudCA9PT0gMCkge1xuICAgICAgICBzZWxmLnJlc2V0KHRydWUpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICB0aGlzLmlzQmxvY2tpbmcgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBzdGF0ZS5ibG9ja2luZztcbiAgICB9O1xuXG4gICAgdGhpcy5tZXNzYWdlID0gZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgIHN0YXRlLm1lc3NhZ2UgPSB2YWx1ZTtcbiAgICB9O1xuXG4gICAgdGhpcy5wYXR0ZXJuID0gZnVuY3Rpb24ocmVnZXhwKSB7XG4gICAgICBpZiAocmVnZXhwICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgc2VsZi5fcGF0dGVybiA9IHJlZ2V4cDtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHNlbGYuX3BhdHRlcm47XG4gICAgfTtcblxuICAgIHRoaXMucmVzZXQgPSBmdW5jdGlvbihleGVjdXRlQ2FsbGJhY2tzKSB7XG4gICAgICBcbiAgICAgIHNlbGYuX2NhbmNlbFN0YXJ0VGltZW91dCgpO1xuICAgICAgc3RhdGUuYmxvY2tDb3VudCA9IDA7XG4gICAgICBzdGF0ZS5ibG9ja2luZyA9IGZhbHNlO1xuXG4gICAgICAvLyBSZXN0b3JlIHRoZSBmb2N1cyB0byB0aGUgZWxlbWVudCB0aGF0IHdhcyBhY3RpdmVcbiAgICAgIC8vIGJlZm9yZSB0aGUgYmxvY2sgc3RhcnQsIGJ1dCBub3QgaWYgdGhlIHVzZXIgaGFzIFxuICAgICAgLy8gZm9jdXNlZCBzb21ldGhpbmcgZWxzZSB3aGlsZSB0aGUgYmxvY2sgd2FzIGFjdGl2ZS5cblxuICAgICAgaWYoc2VsZi5fcmVzdG9yZUZvY3VzICYmIFxuICAgICAgICAgKCEkZG9jdW1lbnRbMF0uYWN0aXZlRWxlbWVudCB8fCAkZG9jdW1lbnRbMF0uYWN0aXZlRWxlbWVudCA9PT0gJGJvZHlbMF0pKSB7XG4gICAgICAgIFxuICAgICAgICAvL0lFOCB3aWxsIHRocm93IGlmIGVsZW1lbnQgZm9yIHNldHRpbmcgZm9jdXMgaXMgaW52aXNpYmxlXG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgc2VsZi5fcmVzdG9yZUZvY3VzLmZvY3VzKCk7XG4gICAgICAgIH0gY2F0Y2goZTEpIHtcbiAgICAgICAgICAoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICB2YXIgZWxlbWVudFRvRm9jdXMgPSBzZWxmLl9yZXN0b3JlRm9jdXM7XG4gICAgICAgICAgICAgICR0aW1lb3V0KGZ1bmN0aW9uKCkgeyBcbiAgICAgICAgICAgICAgICBpZihlbGVtZW50VG9Gb2N1cykgeyBcbiAgICAgICAgICAgICAgICAgIHRyeSB7IFxuICAgICAgICAgICAgICAgICAgICBlbGVtZW50VG9Gb2N1cy5mb2N1cygpOyBcbiAgICAgICAgICAgICAgICAgIH0gY2F0Y2goZTIpIHsgfVxuICAgICAgICAgICAgICB9IFxuICAgICAgICAgICAgfSwxMDApO1xuICAgICAgICAgIH0pKCk7XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIHNlbGYuX3Jlc3RvcmVGb2N1cyA9IG51bGw7XG4gICAgICB9XG4gICAgICBcbiAgICAgIHRyeSB7XG4gICAgICAgIGlmIChleGVjdXRlQ2FsbGJhY2tzKSB7XG4gICAgICAgICAgYW5ndWxhci5mb3JFYWNoKGRvbmVDYWxsYmFja3MsIGZ1bmN0aW9uKGNiKSB7XG4gICAgICAgICAgICBjYigpO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9IGZpbmFsbHkge1xuICAgICAgICBkb25lQ2FsbGJhY2tzLmxlbmd0aCA9IDA7XG4gICAgICB9XG4gICAgfTtcblxuICAgIHRoaXMuZG9uZSA9IGZ1bmN0aW9uKGZuKSB7XG4gICAgICBkb25lQ2FsbGJhY2tzLnB1c2goZm4pO1xuICAgIH07XG5cbiAgICB0aGlzLnN0YXRlID0gZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gc3RhdGU7XG4gICAgfTtcblxuICAgIHRoaXMuYWRkUmVmID0gZnVuY3Rpb24oKSB7XG4gICAgICBzZWxmLl9yZWZzICs9IDE7XG4gICAgfTtcblxuICAgIHRoaXMucmVsZWFzZSA9IGZ1bmN0aW9uKCkge1xuICAgICAgaWYoLS1zZWxmLl9yZWZzIDw9IDApIHtcbiAgICAgICAgbWFpbkJsb2NrLmluc3RhbmNlcy5fZGVzdHJveShzZWxmKTtcbiAgICAgIH1cbiAgICB9O1xuICB9XG5cbiAgdmFyIGluc3RhbmNlcyA9IFtdO1xuXG4gIGluc3RhbmNlcy5nZXQgPSBmdW5jdGlvbihpZCkge1xuXG4gICAgaWYoIWlzTmFOKGlkKSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdCbG9ja1VJIGlkIGNhbm5vdCBiZSBhIG51bWJlcicpO1xuICAgIH1cblxuICAgIHZhciBpbnN0YW5jZSA9IGluc3RhbmNlc1tpZF07XG5cbiAgICBpZighaW5zdGFuY2UpIHtcbiAgICAgIC8vIFRPRE86IGVuc3VyZSBubyBhcnJheSBpbnN0YW5jZSB0cmFzaGluZyBbeHh4XSAtLSBjdXJyZW50IHdvcmthcm91bmQ6ICdfJyArICRzY29wZS4kaWRcbiAgICAgIGluc3RhbmNlID0gaW5zdGFuY2VzW2lkXSA9IG5ldyBCbG9ja1VJKGlkKTtcbiAgICAgIGluc3RhbmNlcy5wdXNoKGluc3RhbmNlKTtcbiAgICB9XG5cbiAgICByZXR1cm4gaW5zdGFuY2U7XG4gIH07XG5cbiAgaW5zdGFuY2VzLl9kZXN0cm95ID0gZnVuY3Rpb24oaWRPckluc3RhbmNlKSB7XG4gICAgaWYgKGFuZ3VsYXIuaXNTdHJpbmcoaWRPckluc3RhbmNlKSkge1xuICAgICAgaWRPckluc3RhbmNlID0gaW5zdGFuY2VzW2lkT3JJbnN0YW5jZV07XG4gICAgfVxuXG4gICAgaWYgKGlkT3JJbnN0YW5jZSkge1xuICAgICAgaWRPckluc3RhbmNlLnJlc2V0KCk7XG5cbiAgICAgIHZhciBpID0gYmxvY2tVSVV0aWxzLmluZGV4T2YoaW5zdGFuY2VzLCBpZE9ySW5zdGFuY2UpO1xuICAgICAgaW5zdGFuY2VzLnNwbGljZShpLCAxKTtcblxuICAgICAgZGVsZXRlIGluc3RhbmNlc1tpZE9ySW5zdGFuY2Uuc3RhdGUoKS5pZF07XG4gICAgfVxuICB9O1xuICBcbiAgaW5zdGFuY2VzLmxvY2F0ZSA9IGZ1bmN0aW9uKHJlcXVlc3QpIHtcblxuICAgIHZhciByZXN1bHQgPSBbXTtcblxuICAgIC8vIEFkZCBmdW5jdGlvbiB3cmFwcGVycyB0aGF0IHdpbGwgYmUgZXhlY3V0ZWQgb24gZXZlcnkgaXRlbVxuICAgIC8vIGluIHRoZSBhcnJheS5cbiAgICBcbiAgICBibG9ja1VJVXRpbHMuZm9yRWFjaEZuSG9vayhyZXN1bHQsICdzdGFydCcpO1xuICAgIGJsb2NrVUlVdGlscy5mb3JFYWNoRm5Ib29rKHJlc3VsdCwgJ3N0b3AnKTtcblxuICAgIHZhciBpID0gaW5zdGFuY2VzLmxlbmd0aDtcblxuICAgIHdoaWxlKGktLSkge1xuICAgICAgdmFyIGluc3RhbmNlID0gaW5zdGFuY2VzW2ldO1xuICAgICAgdmFyIHBhdHRlcm4gPSBpbnN0YW5jZS5fcGF0dGVybjtcblxuICAgICAgaWYocGF0dGVybiAmJiBwYXR0ZXJuLnRlc3QocmVxdWVzdC51cmwpKSB7XG4gICAgICAgIHJlc3VsdC5wdXNoKGluc3RhbmNlKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZihyZXN1bHQubGVuZ3RoID09PSAwKSB7XG4gICAgICByZXN1bHQucHVzaChtYWluQmxvY2spO1xuICAgIH1cblxuICAgIHJldHVybiByZXN1bHQ7XG4gIH07XG5cbiAgLy8gUHJvcGFnYXRlIHRoZSByZXNldCB0byBhbGwgaW5zdGFuY2VzXG5cbiAgYmxvY2tVSVV0aWxzLmZvckVhY2hGbkhvb2soaW5zdGFuY2VzLCAncmVzZXQnKTtcblxuICB2YXIgbWFpbkJsb2NrID0gaW5zdGFuY2VzLmdldCgnbWFpbicpO1xuXG4gIG1haW5CbG9jay5hZGRSZWYoKTtcbiAgbWFpbkJsb2NrLmluc3RhbmNlcyA9IGluc3RhbmNlcztcblxuICByZXR1cm4gbWFpbkJsb2NrO1xufV0pO1xuXG5cbmJsa1VJLmZhY3RvcnkoJ2Jsb2NrVUlVdGlscycsIGZ1bmN0aW9uKCkge1xuXG4gIHZhciAkID0gYW5ndWxhci5lbGVtZW50O1xuXG4gIHZhciB1dGlscyA9IHtcbiAgICBidWlsZFJlZ0V4cDogZnVuY3Rpb24ocGF0dGVybikge1xuICAgICAgdmFyIG1hdGNoID0gcGF0dGVybi5tYXRjaCgvXlxcLyguKilcXC8oW2dpbV0qKSQvKSwgcmVnRXhwO1xuXG4gICAgICBpZihtYXRjaCkge1xuICAgICAgICByZWdFeHAgPSBuZXcgUmVnRXhwKG1hdGNoWzFdLCBtYXRjaFsyXSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aHJvdyBFcnJvcignSW5jb3JyZWN0IHJlZ3VsYXIgZXhwcmVzc2lvbiBmb3JtYXQ6ICcgKyBwYXR0ZXJuKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHJlZ0V4cDtcbiAgICB9LFxuICAgIGZvckVhY2hGbjogZnVuY3Rpb24oYXJyLCBmbk5hbWUsIGFyZ3MpIHtcbiAgICAgIHZhciBpID0gYXJyLmxlbmd0aDtcbiAgICAgIHdoaWxlKGktLSkge1xuICAgICAgICB2YXIgdCA9IGFycltpXTtcbiAgICAgICAgdFtmbk5hbWVdLmFwcGx5KHQsIGFyZ3MpO1xuICAgICAgfVxuICAgIH0sXG4gICAgZm9yRWFjaEZuSG9vazogZnVuY3Rpb24oYXJyLCBmbk5hbWUpIHtcbiAgICAgIGFycltmbk5hbWVdID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHV0aWxzLmZvckVhY2hGbih0aGlzLCBmbk5hbWUsIGFyZ3VtZW50cyk7XG4gICAgICB9XG4gICAgfSxcbiAgICBpc0VsZW1lbnRJbkJsb2NrU2NvcGU6IGZ1bmN0aW9uKCRlbGVtZW50LCBibG9ja1Njb3BlKSB7XG4gICAgICB2YXIgYyA9ICRlbGVtZW50LmluaGVyaXRlZERhdGEoJ2Jsb2NrLXVpJyk7XG5cbiAgICAgIHdoaWxlKGMpIHtcbiAgICAgICAgaWYoYyA9PT0gYmxvY2tTY29wZSkge1xuICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgYyA9IGMuX3BhcmVudDtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH0sXG4gICAgZmluZEVsZW1lbnQ6IGZ1bmN0aW9uICgkZWxlbWVudCwgcHJlZGljYXRlRm4sIHRyYXZlcnNlKSB7XG4gICAgICB2YXIgcmV0ID0gbnVsbDtcblxuICAgICAgaWYgKHByZWRpY2F0ZUZuKCRlbGVtZW50KSkge1xuICAgICAgICByZXQgPSAkZWxlbWVudDtcbiAgICAgIH0gZWxzZSB7XG5cbiAgICAgICAgdmFyICRlbGVtZW50cztcblxuICAgICAgICBpZiAodHJhdmVyc2UpIHtcbiAgICAgICAgICAkZWxlbWVudHMgPSAkZWxlbWVudC5wYXJlbnQoKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAkZWxlbWVudHMgPSAkZWxlbWVudC5jaGlsZHJlbigpO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGkgPSAkZWxlbWVudHMubGVuZ3RoO1xuICAgICAgICB3aGlsZSAoIXJldCAmJiBpLS0pIHtcbiAgICAgICAgICByZXQgPSB1dGlscy5maW5kRWxlbWVudCgkKCRlbGVtZW50c1tpXSksIHByZWRpY2F0ZUZuLCB0cmF2ZXJzZSk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHJldDtcbiAgICB9LFxuICAgIGluZGV4T2Y6IGZ1bmN0aW9uKGFyciwgb2JqLCBzdGFydCkge1xuLy8gICAgICBpZihBcnJheS5wcm90b3R5cGUuaW5kZXhPZikge1xuLy8gICAgICAgIHJldHVybiBhcnIuaW5kZXhPZihvYmosIHN0YXJ0KTtcbi8vICAgICAgfVxuXG4gICAgICBmb3IgKHZhciBpID0gKHN0YXJ0IHx8IDApLCBqID0gYXJyLmxlbmd0aDsgaSA8IGo7IGkrKykge1xuICAgICAgICBpZiAoYXJyW2ldID09PSBvYmopIHtcbiAgICAgICAgICByZXR1cm4gaTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICByZXR1cm4gLTE7XG4gICAgfVxuICB9O1xuXG4gIHJldHVybiB1dGlscztcblxufSk7XG4vLyBBdXRvbWF0aWNhbGx5IGdlbmVyYXRlZC5cbi8vIFRoaXMgZmlsZSBpcyBhbHJlYWR5IGVtYmVkZGVkIGluIHlvdXIgbWFpbiBqYXZhc2NyaXB0IG91dHB1dCwgdGhlcmUncyBubyBuZWVkIHRvIGluY2x1ZGUgdGhpcyBmaWxlXG4vLyBtYW51YWxseSBpbiB0aGUgaW5kZXguaHRtbC4gVGhpcyBmaWxlIGlzIG9ubHkgaGVyZSBmb3IgeW91ciBkZWJ1Z2dpbmcgcGxlYXN1cmVzLlxuYW5ndWxhci5tb2R1bGUoJ2Jsb2NrVUknKS5ydW4oWyckdGVtcGxhdGVDYWNoZScsIGZ1bmN0aW9uKCR0ZW1wbGF0ZUNhY2hlKXtcbiAgJHRlbXBsYXRlQ2FjaGUucHV0KCdhbmd1bGFyLWJsb2NrLXVpL2FuZ3VsYXItYmxvY2stdWkubmcuaHRtbCcsICc8ZGl2IGNsYXNzPVxcXCJibG9jay11aS1vdmVybGF5XFxcIj48L2Rpdj48ZGl2IGNsYXNzPVxcXCJibG9jay11aS1tZXNzYWdlLWNvbnRhaW5lclxcXCIgYXJpYS1saXZlPVxcXCJhc3NlcnRpdmVcXFwiIGFyaWEtYXRvbWljPVxcXCJ0cnVlXFxcIj48ZGl2IGNsYXNzPVxcXCJibG9jay11aS1tZXNzYWdlXFxcIiBuZy1jbGFzcz1cXFwiJF9ibG9ja1VpTWVzc2FnZUNsYXNzXFxcIj57eyBzdGF0ZS5tZXNzYWdlIH19PC9kaXY+PC9kaXY+Jyk7XG59XSk7XG59KShhbmd1bGFyKTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWFuZ3VsYXItYmxvY2stdWkuanMubWFwIiwiKGZ1bmN0aW9uIChnbG9iYWwsIGZhY3RvcnkpIHsndXNlIHN0cmljdCc7dmFyIGZuYztmbmMgPSAodHlwZW9mIGV4cG9ydHMgPT09ICdvYmplY3QnICYmIHR5cGVvZiBtb2R1bGUgIT09ICd1bmRlZmluZWQnKSA/IG1vZHVsZS5leHBvcnRzID0gZmFjdG9yeShyZXF1aXJlKCdhbmd1bGFyJyksIHJlcXVpcmUoJ21vbWVudCcpKSA6KHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZCkgPyBkZWZpbmUoWydhbmd1bGFyJywgJ21vbWVudCddLCBmYWN0b3J5KSA6ZmFjdG9yeShnbG9iYWwuYW5ndWxhciwgZ2xvYmFsLm1vbWVudCk7fSh0aGlzLCBmdW5jdGlvbiAoYW5ndWxhciwgbW9tZW50KSB7XG4vLyhmdW5jdGlvbiAoZ2xvYmFsLCBmYWN0b3J5KSB7XG4vLyAgJ3VzZSBzdHJpY3QnO1xuLy8gIHZhciBmbmM7XG4vLyAgZm5jID0gKHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0JyAmJiB0eXBlb2YgbW9kdWxlICE9PSAndW5kZWZpbmVkJykgPyBtb2R1bGUuZXhwb3J0cyA9IGZhY3RvcnkocmVxdWlyZSgnYW5ndWxhcicpLCByZXF1aXJlKCdtb21lbnQnKSkgOlxuLy8gICAgICAgICh0eXBlb2YgZGVmaW5lID09PSAnZnVuY3Rpb24nICYmIGRlZmluZS5hbWQpID8gZGVmaW5lKFsnYW5ndWxhcicsICdtb21lbnQnXSwgZmFjdG9yeSkgOlxuLy8gICAgICAgIGZhY3RvcnkoZ2xvYmFsLmFuZ3VsYXIsIGdsb2JhbC5tb21lbnQpO1xuLy99KHRoaXMsIGZ1bmN0aW9uIChhbmd1bGFyLCBtb21lbnQpIHtcbnZhciBNb2R1bGUgPSBhbmd1bGFyLm1vZHVsZSgnZGF0ZVBpY2tlcicsIFtdKTtcblxuICBNb2R1bGUuY29uc3RhbnQoJ2RhdGVQaWNrZXJDb25maWcnLCB7XG4gICAgdGVtcGxhdGU6ICd0ZW1wbGF0ZXMvZGF0ZXBpY2tlci5odG1sJyxcbiAgICB2aWV3OiAnbW9udGgnLFxuICAgIHZpZXdzOiBbJ3llYXInLCAnbW9udGgnLCAnZGF0ZScsICdob3VycycsICdtaW51dGVzJ10sXG4gICAgbW9tZW50TmFtZXM6IHtcbiAgICAgIHllYXI6ICd5ZWFyJyxcbiAgICAgIG1vbnRoOiAnbW9udGgnLFxuICAgICAgZGF0ZTogJ2RheScsXG4gICAgICBob3VyczogJ2hvdXJzJyxcbiAgICAgIG1pbnV0ZXM6ICdtaW51dGVzJyxcbiAgICB9LFxuICAgIHZpZXdDb25maWc6IHtcbiAgICAgIHllYXI6IFsneWVhcnMnLCAnaXNTYW1lWWVhciddLFxuICAgICAgbW9udGg6IFsnbW9udGhzJywgJ2lzU2FtZU1vbnRoJ10sXG4gICAgICBob3VyczogWydob3VycycsICdpc1NhbWVIb3VyJ10sXG4gICAgICBtaW51dGVzOiBbJ21pbnV0ZXMnLCAnaXNTYW1lTWludXRlcyddLFxuICAgIH0sXG4gICAgc3RlcDogNVxuICB9KTtcblxuLy9Nb21lbnQgZm9ybWF0IGZpbHRlci5cbiAgTW9kdWxlLmZpbHRlcignbUZvcm1hdCcsIGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gKG0sIGZvcm1hdCwgdHopIHtcbiAgICAgIGlmICghKG1vbWVudC5pc01vbWVudChtKSkpIHtcbiAgICAgICAgcmV0dXJuIG1vbWVudChtKS5mb3JtYXQoZm9ybWF0KTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB0eiA/IG1vbWVudC50eihtLCB0eikuZm9ybWF0KGZvcm1hdCkgOiBtLmZvcm1hdChmb3JtYXQpO1xuICAgIH07XG4gIH0pO1xuXG4gIE1vZHVsZS5kaXJlY3RpdmUoJ2RhdGVQaWNrZXInLCBbJ2RhdGVQaWNrZXJDb25maWcnLCAnZGF0ZVBpY2tlclV0aWxzJywgZnVuY3Rpb24gZGF0ZVBpY2tlckRpcmVjdGl2ZShkYXRlUGlja2VyQ29uZmlnLCBkYXRlUGlja2VyVXRpbHMpIHtcblxuICAgIC8vbm9pbnNwZWN0aW9uIEpTVW51c2VkTG9jYWxTeW1ib2xzXG4gICAgcmV0dXJuIHtcbiAgICAgIC8vIHRoaXMgaXMgYSBidWcgP1xuICAgICAgcmVxdWlyZTogJz9uZ01vZGVsJyxcbiAgICAgIHRlbXBsYXRlOiAnPGRpdiBuZy1pbmNsdWRlPVwidGVtcGxhdGVcIj48L2Rpdj4nLFxuICAgICAgc2NvcGU6IHtcbiAgICAgICAgbW9kZWw6ICc9ZGF0ZVBpY2tlcicsXG4gICAgICAgIGFmdGVyOiAnPT8nLFxuICAgICAgICBiZWZvcmU6ICc9PydcbiAgICAgIH0sXG4gICAgICBsaW5rOiBmdW5jdGlvbiAoc2NvcGUsIGVsZW1lbnQsIGF0dHJzLCBuZ01vZGVsKSB7XG4gICAgICAgIGZ1bmN0aW9uIHByZXBhcmVWaWV3cygpIHtcbiAgICAgICAgICBzY29wZS52aWV3cyA9IGRhdGVQaWNrZXJDb25maWcudmlld3MuY29uY2F0KCk7XG4gICAgICAgICAgc2NvcGUudmlldyA9IGF0dHJzLnZpZXcgfHwgZGF0ZVBpY2tlckNvbmZpZy52aWV3O1xuXG4gICAgICAgICAgc2NvcGUudmlld3MgPSBzY29wZS52aWV3cy5zbGljZShcbiAgICAgICAgICAgIHNjb3BlLnZpZXdzLmluZGV4T2YoYXR0cnMubWF4VmlldyB8fCAneWVhcicpLFxuICAgICAgICAgICAgc2NvcGUudmlld3MuaW5kZXhPZihhdHRycy5taW5WaWV3IHx8ICdtaW51dGVzJykgKyAxXG4gICAgICAgICAgKTtcblxuICAgICAgICAgIGlmIChzY29wZS52aWV3cy5sZW5ndGggPT09IDEgfHwgc2NvcGUudmlld3MuaW5kZXhPZihzY29wZS52aWV3KSA9PT0gLTEpIHtcbiAgICAgICAgICAgIHNjb3BlLnZpZXcgPSBzY29wZS52aWV3c1swXTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiBnZXREYXRlKG5hbWUpIHtcbiAgICAgICAgICByZXR1cm4gZGF0ZVBpY2tlclV0aWxzLmdldERhdGUoc2NvcGUsIGF0dHJzLCBuYW1lKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBhcnJvd0NsaWNrID0gZmFsc2UsXG4gICAgICAgICAgdHogPSBzY29wZS50eiA9IGF0dHJzLnRpbWV6b25lLFxuICAgICAgICAgIGNyZWF0ZU1vbWVudCA9IGRhdGVQaWNrZXJVdGlscy5jcmVhdGVNb21lbnQsXG4gICAgICAgICAgZXZlbnRJc0ZvclBpY2tlciA9IGRhdGVQaWNrZXJVdGlscy5ldmVudElzRm9yUGlja2VyLFxuICAgICAgICAgIHN0ZXAgPSBwYXJzZUludChhdHRycy5zdGVwIHx8IGRhdGVQaWNrZXJDb25maWcuc3RlcCwgMTApLFxuICAgICAgICAgIHBhcnRpYWwgPSAhIWF0dHJzLnBhcnRpYWwsXG4gICAgICAgICAgbWluRGF0ZSA9IGdldERhdGUoJ21pbkRhdGUnKSxcbiAgICAgICAgICBtYXhEYXRlID0gZ2V0RGF0ZSgnbWF4RGF0ZScpLFxuXG4gICAgICAgICAgLyoqXG4gICAgICAgICAgICogW+aMh+S7pOWGheWMheWQq2RhdGUtcGlja2Vy5oyH5Luk5pe277yM6YCa6L+HZWxlbWVudFswXS5pZOW5tuS4jeiDveiOt+WPluWIsOWKqOaAgWlkXVxuICAgICAgICAgICAqIEB0eXBlIHtbdHlwZV19XG4gICAgICAgICAgICovXG4gICAgICAgICAgLy8gcGlja2VySUQgPSBlbGVtZW50WzBdLmlkLFxuICAgICAgICAgIHBpY2tlcklEID0gc2NvcGUuJHBhcmVudC5pZCB8fCBlbGVtZW50WzBdLmlkLFxuXG4gICAgICAgICAgbm93ID0gc2NvcGUubm93ID0gY3JlYXRlTW9tZW50KCksXG4gICAgICAgICAgc2VsZWN0ZWQgPSBzY29wZS5kYXRlID0gY3JlYXRlTW9tZW50KHNjb3BlLm1vZGVsIHx8IG5vdyksXG4gICAgICAgICAgYXV0b2Nsb3NlID0gYXR0cnMuYXV0b0Nsb3NlID09PSAndHJ1ZScsXG4gICAgICAgIC8vIEVpdGhlciBnZXRzIHRoZSAxc3QgZGF5IGZyb20gdGhlIGF0dHJpYnV0ZXMsIG9yIGFza3MgbW9tZW50LmpzIHRvIGdpdmUgaXQgdG8gdXMgYXMgaXQgaXMgbG9jYWxpemVkLlxuICAgICAgICAgIGZpcnN0RGF5ID0gYXR0cnMuZmlyc3REYXkgJiYgYXR0cnMuZmlyc3REYXkgPj0gMCAmJiBhdHRycy5maXJzdERheSA8PSA2ID8gcGFyc2VJbnQoYXR0cnMuZmlyc3REYXksIDEwKSA6IG1vbWVudCgpLndlZWtkYXkoMCkuZGF5KCksXG4gICAgICAgICAgc2V0RGF0ZSxcbiAgICAgICAgICBwcmVwYXJlVmlld0RhdGEsXG4gICAgICAgICAgaXNTYW1lLFxuICAgICAgICAgIGNsaXBEYXRlLFxuICAgICAgICAgIGlzTm93LFxuICAgICAgICAgIGluVmFsaWRSYW5nZTtcblxuICAgICAgICBkYXRlUGlja2VyVXRpbHMuc2V0UGFyYW1zKHR6LCBmaXJzdERheSk7XG5cbiAgICAgICAgaWYgKCFzY29wZS5tb2RlbCkge1xuICAgICAgICAgIHNlbGVjdGVkLm1pbnV0ZShNYXRoLmNlaWwoc2VsZWN0ZWQubWludXRlKCkgLyBzdGVwKSAqIHN0ZXApLnNlY29uZCgwKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHNjb3BlLnRlbXBsYXRlID0gYXR0cnMudGVtcGxhdGUgfHwgZGF0ZVBpY2tlckNvbmZpZy50ZW1wbGF0ZTtcblxuICAgICAgICBzY29wZS53YXRjaERpcmVjdENoYW5nZXMgPSBhdHRycy53YXRjaERpcmVjdENoYW5nZXMgIT09IHVuZGVmaW5lZDtcbiAgICAgICAgc2NvcGUuY2FsbGJhY2tPblNldERhdGUgPSBhdHRycy5kYXRlQ2hhbmdlID8gZGF0ZVBpY2tlclV0aWxzLmZpbmRGdW5jdGlvbihzY29wZSwgYXR0cnMuZGF0ZUNoYW5nZSkgOiB1bmRlZmluZWQ7XG5cbiAgICAgICAgcHJlcGFyZVZpZXdzKCk7XG5cbiAgICAgICAgc2NvcGUuc2V0VmlldyA9IGZ1bmN0aW9uIChuZXh0Vmlldykge1xuICAgICAgICAgIGlmIChzY29wZS52aWV3cy5pbmRleE9mKG5leHRWaWV3KSAhPT0gLTEpIHtcbiAgICAgICAgICAgIHNjb3BlLnZpZXcgPSBuZXh0VmlldztcbiAgICAgICAgICB9XG4gICAgICAgIH07XG5cbiAgICAgICAgc2NvcGUuc2VsZWN0RGF0ZSA9IGZ1bmN0aW9uIChkYXRlKSB7XG4gICAgICAgICAgaWYgKGF0dHJzLmRpc2FibGVkKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChpc1NhbWUoc2NvcGUuZGF0ZSwgZGF0ZSkpIHtcbiAgICAgICAgICAgIGRhdGUgPSBzY29wZS5kYXRlO1xuICAgICAgICAgIH1cbiAgICAgICAgICBkYXRlID0gY2xpcERhdGUoZGF0ZSk7XG4gICAgICAgICAgaWYgKCFkYXRlKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgfVxuICAgICAgICAgIHNjb3BlLmRhdGUgPSBkYXRlO1xuXG4gICAgICAgICAgdmFyIG5leHRWaWV3ID0gc2NvcGUudmlld3Nbc2NvcGUudmlld3MuaW5kZXhPZihzY29wZS52aWV3KSArIDFdO1xuICAgICAgICAgIGlmICgoIW5leHRWaWV3IHx8IHBhcnRpYWwpIHx8IHNjb3BlLm1vZGVsKSB7XG4gICAgICAgICAgICBzZXREYXRlKGRhdGUpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmIChuZXh0Vmlldykge1xuICAgICAgICAgICAgc2NvcGUuc2V0VmlldyhuZXh0Vmlldyk7XG4gICAgICAgICAgfSBlbHNlIGlmIChhdXRvY2xvc2UpIHtcbiAgICAgICAgICAgIGVsZW1lbnQuYWRkQ2xhc3MoJ2hpZGRlbicpO1xuICAgICAgICAgICAgc2NvcGUuJGVtaXQoJ2hpZGVQaWNrZXInKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcHJlcGFyZVZpZXdEYXRhKCk7XG4gICAgICAgICAgfVxuICAgICAgICB9O1xuXG4gICAgICAgIHNldERhdGUgPSBmdW5jdGlvbiAoZGF0ZSkge1xuICAgICAgICAgIGlmIChkYXRlKSB7XG4gICAgICAgICAgICBzY29wZS5tb2RlbCA9IGRhdGU7XG4gICAgICAgICAgICBpZiAobmdNb2RlbCkge1xuICAgICAgICAgICAgICBuZ01vZGVsLiRzZXRWaWV3VmFsdWUoZGF0ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIHNjb3BlLiRlbWl0KCdzZXREYXRlJywgc2NvcGUubW9kZWwsIHNjb3BlLnZpZXcpO1xuXG4gICAgICAgICAgLy9UaGlzIGlzIGR1cGxpY2F0ZWQgaW4gdGhlIG5ldyBmdW5jdGlvbmFsaXR5LlxuICAgICAgICAgIGlmIChzY29wZS5jYWxsYmFja09uU2V0RGF0ZSkge1xuICAgICAgICAgICAgc2NvcGUuY2FsbGJhY2tPblNldERhdGUoYXR0cnMuZGF0ZVBpY2tlciwgc2NvcGUuZGF0ZSk7XG4gICAgICAgICAgfVxuICAgICAgICB9O1xuXG4gICAgICAgIGZ1bmN0aW9uIHVwZGF0ZSgpIHtcbiAgICAgICAgICB2YXIgdmlldyA9IHNjb3BlLnZpZXc7XG4gICAgICAgICAgZGF0ZVBpY2tlclV0aWxzLnNldFBhcmFtcyh0eiwgZmlyc3REYXkpO1xuXG4gICAgICAgICAgaWYgKHNjb3BlLm1vZGVsICYmICFhcnJvd0NsaWNrKSB7XG4gICAgICAgICAgICBzY29wZS5kYXRlID0gY3JlYXRlTW9tZW50KHNjb3BlLm1vZGVsKTtcbiAgICAgICAgICAgIGFycm93Q2xpY2sgPSBmYWxzZTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICB2YXIgZGF0ZSA9IHNjb3BlLmRhdGU7XG5cbiAgICAgICAgICBzd2l0Y2ggKHZpZXcpIHtcbiAgICAgICAgICAgIGNhc2UgJ3llYXInOlxuICAgICAgICAgICAgICBzY29wZS55ZWFycyA9IGRhdGVQaWNrZXJVdGlscy5nZXRWaXNpYmxlWWVhcnMoZGF0ZSk7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnbW9udGgnOlxuICAgICAgICAgICAgICBzY29wZS5tb250aHMgPSBkYXRlUGlja2VyVXRpbHMuZ2V0VmlzaWJsZU1vbnRocyhkYXRlKTtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdkYXRlJzpcbiAgICAgICAgICAgICAgc2NvcGUud2Vla2RheXMgPSBzY29wZS53ZWVrZGF5cyB8fCBkYXRlUGlja2VyVXRpbHMuZ2V0RGF5c09mV2VlaygpO1xuICAgICAgICAgICAgICBzY29wZS53ZWVrcyA9IGRhdGVQaWNrZXJVdGlscy5nZXRWaXNpYmxlV2Vla3MoZGF0ZSk7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnaG91cnMnOlxuICAgICAgICAgICAgICBzY29wZS5ob3VycyA9IGRhdGVQaWNrZXJVdGlscy5nZXRWaXNpYmxlSG91cnMoZGF0ZSk7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnbWludXRlcyc6XG4gICAgICAgICAgICAgIHNjb3BlLm1pbnV0ZXMgPSBkYXRlUGlja2VyVXRpbHMuZ2V0VmlzaWJsZU1pbnV0ZXMoZGF0ZSwgc3RlcCk7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIHByZXBhcmVWaWV3RGF0YSgpO1xuICAgICAgICB9XG5cbiAgICAgICAgZnVuY3Rpb24gd2F0Y2goKSB7XG4gICAgICAgICAgaWYgKHNjb3BlLnZpZXcgIT09ICdkYXRlJykge1xuICAgICAgICAgICAgcmV0dXJuIHNjb3BlLnZpZXc7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiBzY29wZS5kYXRlID8gc2NvcGUuZGF0ZS5tb250aCgpIDogbnVsbDtcbiAgICAgICAgfVxuXG4gICAgICAgIHNjb3BlLiR3YXRjaCh3YXRjaCwgdXBkYXRlKTtcblxuICAgICAgICBpZiAoc2NvcGUud2F0Y2hEaXJlY3RDaGFuZ2VzKSB7XG4gICAgICAgICAgc2NvcGUuJHdhdGNoKCdtb2RlbCcsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGFycm93Q2xpY2sgPSBmYWxzZTtcbiAgICAgICAgICAgIHVwZGF0ZSgpO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJlcGFyZVZpZXdEYXRhID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgIHZhciB2aWV3ID0gc2NvcGUudmlldyxcbiAgICAgICAgICAgIGRhdGUgPSBzY29wZS5kYXRlLFxuICAgICAgICAgICAgY2xhc3NlcyA9IFtdLCBjbGFzc0xpc3QgPSAnJyxcbiAgICAgICAgICAgIGksIGo7XG5cbiAgICAgICAgICBkYXRlUGlja2VyVXRpbHMuc2V0UGFyYW1zKHR6LCBmaXJzdERheSk7XG5cbiAgICAgICAgICBpZiAodmlldyA9PT0gJ2RhdGUnKSB7XG4gICAgICAgICAgICB2YXIgd2Vla3MgPSBzY29wZS53ZWVrcywgd2VlaztcbiAgICAgICAgICAgIGZvciAoaSA9IDA7IGkgPCB3ZWVrcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICB3ZWVrID0gd2Vla3NbaV07XG4gICAgICAgICAgICAgIGNsYXNzZXMucHVzaChbXSk7XG4gICAgICAgICAgICAgIGZvciAoaiA9IDA7IGogPCB3ZWVrLmxlbmd0aDsgaisrKSB7XG4gICAgICAgICAgICAgICAgY2xhc3NMaXN0ID0gJyc7XG4gICAgICAgICAgICAgICAgaWYgKGRhdGVQaWNrZXJVdGlscy5pc1NhbWVEYXkoZGF0ZSwgd2Vla1tqXSkpIHtcbiAgICAgICAgICAgICAgICAgIGNsYXNzTGlzdCArPSAnYWN0aXZlJztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGlzTm93KHdlZWtbal0sIHZpZXcpKSB7XG4gICAgICAgICAgICAgICAgICBjbGFzc0xpc3QgKz0gJyBub3cnO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvL2lmICh3ZWVrW2pdLm1vbnRoKCkgIT09IGRhdGUubW9udGgoKSkgY2xhc3NMaXN0ICs9ICcgZGlzYWJsZWQnO1xuICAgICAgICAgICAgICAgIGlmICh3ZWVrW2pdLm1vbnRoKCkgIT09IGRhdGUubW9udGgoKSB8fCAhaW5WYWxpZFJhbmdlKHdlZWtbal0pKSB7XG4gICAgICAgICAgICAgICAgICBjbGFzc0xpc3QgKz0gJyBkaXNhYmxlZCc7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNsYXNzZXNbaV0ucHVzaChjbGFzc0xpc3QpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHZhciBwYXJhbXMgPSBkYXRlUGlja2VyQ29uZmlnLnZpZXdDb25maWdbdmlld10sXG4gICAgICAgICAgICAgIGRhdGVzID0gc2NvcGVbcGFyYW1zWzBdXSxcbiAgICAgICAgICAgICAgY29tcGFyZUZ1bmMgPSBwYXJhbXNbMV07XG5cbiAgICAgICAgICAgIGZvciAoaSA9IDA7IGkgPCBkYXRlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICBjbGFzc0xpc3QgPSAnJztcbiAgICAgICAgICAgICAgaWYgKGRhdGVQaWNrZXJVdGlsc1tjb21wYXJlRnVuY10oZGF0ZSwgZGF0ZXNbaV0pKSB7XG4gICAgICAgICAgICAgICAgY2xhc3NMaXN0ICs9ICdhY3RpdmUnO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGlmIChpc05vdyhkYXRlc1tpXSwgdmlldykpIHtcbiAgICAgICAgICAgICAgICBjbGFzc0xpc3QgKz0gJyBub3cnO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGlmICghaW5WYWxpZFJhbmdlKGRhdGVzW2ldKSkge1xuICAgICAgICAgICAgICAgIGNsYXNzTGlzdCArPSAnIGRpc2FibGVkJztcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBjbGFzc2VzLnB1c2goY2xhc3NMaXN0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgc2NvcGUuY2xhc3NlcyA9IGNsYXNzZXM7XG4gICAgICAgIH07XG5cbiAgICAgICAgc2NvcGUubmV4dCA9IGZ1bmN0aW9uIChkZWx0YSkge1xuICAgICAgICAgIHZhciBkYXRlID0gbW9tZW50KHNjb3BlLmRhdGUpO1xuICAgICAgICAgIGRlbHRhID0gZGVsdGEgfHwgMTtcbiAgICAgICAgICBzd2l0Y2ggKHNjb3BlLnZpZXcpIHtcbiAgICAgICAgICAgIGNhc2UgJ3llYXInOlxuICAgICAgICAgICAgLypmYWxscyB0aHJvdWdoKi9cbiAgICAgICAgICAgIGNhc2UgJ21vbnRoJzpcbiAgICAgICAgICAgICAgZGF0ZS55ZWFyKGRhdGUueWVhcigpICsgZGVsdGEpO1xuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ2RhdGUnOlxuICAgICAgICAgICAgICBkYXRlLm1vbnRoKGRhdGUubW9udGgoKSArIGRlbHRhKTtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdob3Vycyc6XG4gICAgICAgICAgICAvKmZhbGxzIHRocm91Z2gqL1xuICAgICAgICAgICAgY2FzZSAnbWludXRlcyc6XG4gICAgICAgICAgICAgIGRhdGUuaG91cnMoZGF0ZS5ob3VycygpICsgZGVsdGEpO1xuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgICAgZGF0ZSA9IGNsaXBEYXRlKGRhdGUpO1xuICAgICAgICAgIGlmIChkYXRlKSB7XG4gICAgICAgICAgICBzY29wZS5kYXRlID0gZGF0ZTtcbiAgICAgICAgICAgIHNldERhdGUoZGF0ZSk7XG4gICAgICAgICAgICBhcnJvd0NsaWNrID0gdHJ1ZTtcbiAgICAgICAgICAgIHVwZGF0ZSgpO1xuICAgICAgICAgIH1cbiAgICAgICAgfTtcblxuICAgICAgICBpblZhbGlkUmFuZ2UgPSBmdW5jdGlvbiAoZGF0ZSkge1xuICAgICAgICAgIHZhciB2YWxpZCA9IHRydWU7XG4gICAgICAgICAgaWYgKG1pbkRhdGUgJiYgbWluRGF0ZS5pc0FmdGVyKGRhdGUpKSB7XG4gICAgICAgICAgICB2YWxpZCA9IGlzU2FtZShtaW5EYXRlLCBkYXRlKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKG1heERhdGUgJiYgbWF4RGF0ZS5pc0JlZm9yZShkYXRlKSkge1xuICAgICAgICAgICAgdmFsaWQgJj0gaXNTYW1lKG1heERhdGUsIGRhdGUpO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gdmFsaWQ7XG4gICAgICAgIH07XG5cbiAgICAgICAgaXNTYW1lID0gZnVuY3Rpb24gKGRhdGUxLCBkYXRlMikge1xuICAgICAgICAgIHJldHVybiBkYXRlMS5pc1NhbWUoZGF0ZTIsIGRhdGVQaWNrZXJDb25maWcubW9tZW50TmFtZXNbc2NvcGUudmlld10pID8gdHJ1ZSA6IGZhbHNlO1xuICAgICAgICB9O1xuXG4gICAgICAgIGNsaXBEYXRlID0gZnVuY3Rpb24gKGRhdGUpIHtcbiAgICAgICAgICBpZiAobWluRGF0ZSAmJiBtaW5EYXRlLmlzQWZ0ZXIoZGF0ZSkpIHtcbiAgICAgICAgICAgIHJldHVybiBtaW5EYXRlO1xuICAgICAgICAgIH0gZWxzZSBpZiAobWF4RGF0ZSAmJiBtYXhEYXRlLmlzQmVmb3JlKGRhdGUpKSB7XG4gICAgICAgICAgICByZXR1cm4gbWF4RGF0ZTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIGRhdGU7XG4gICAgICAgICAgfVxuICAgICAgICB9O1xuXG4gICAgICAgIGlzTm93ID0gZnVuY3Rpb24gKGRhdGUsIHZpZXcpIHtcbiAgICAgICAgICB2YXIgaXMgPSB0cnVlO1xuXG4gICAgICAgICAgc3dpdGNoICh2aWV3KSB7XG4gICAgICAgICAgICBjYXNlICdtaW51dGVzJzpcbiAgICAgICAgICAgICAgaXMgJj0gfn4obm93Lm1pbnV0ZXMoKSAvIHN0ZXApID09PSB+fihkYXRlLm1pbnV0ZXMoKSAvIHN0ZXApO1xuICAgICAgICAgICAgLyogZmFsbHMgdGhyb3VnaCAqL1xuICAgICAgICAgICAgY2FzZSAnaG91cnMnOlxuICAgICAgICAgICAgICBpcyAmPSBub3cuaG91cnMoKSA9PT0gZGF0ZS5ob3VycygpO1xuICAgICAgICAgICAgLyogZmFsbHMgdGhyb3VnaCAqL1xuICAgICAgICAgICAgY2FzZSAnZGF0ZSc6XG4gICAgICAgICAgICAgIGlzICY9IG5vdy5kYXRlKCkgPT09IGRhdGUuZGF0ZSgpO1xuICAgICAgICAgICAgLyogZmFsbHMgdGhyb3VnaCAqL1xuICAgICAgICAgICAgY2FzZSAnbW9udGgnOlxuICAgICAgICAgICAgICBpcyAmPSBub3cubW9udGgoKSA9PT0gZGF0ZS5tb250aCgpO1xuICAgICAgICAgICAgLyogZmFsbHMgdGhyb3VnaCAqL1xuICAgICAgICAgICAgY2FzZSAneWVhcic6XG4gICAgICAgICAgICAgIGlzICY9IG5vdy55ZWFyKCkgPT09IGRhdGUueWVhcigpO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gaXM7XG4gICAgICAgIH07XG5cbiAgICAgICAgc2NvcGUucHJldiA9IGZ1bmN0aW9uIChkZWx0YSkge1xuICAgICAgICAgIHJldHVybiBzY29wZS5uZXh0KC1kZWx0YSB8fCAtMSk7XG4gICAgICAgIH07XG5cbiAgICAgICAgaWYgKHBpY2tlcklEKSB7XG4gICAgICAgICAgc2NvcGUuJG9uKCdwaWNrZXJVcGRhdGUnLCBmdW5jdGlvbiAoZXZlbnQsIHBpY2tlcklEcywgZGF0YSkge1xuICAgICAgICAgICAgaWYgKGV2ZW50SXNGb3JQaWNrZXIocGlja2VySURzLCBwaWNrZXJJRCkpIHtcbiAgICAgICAgICAgICAgdmFyIHVwZGF0ZVZpZXdzID0gZmFsc2UsIHVwZGF0ZVZpZXdEYXRhID0gZmFsc2U7XG5cbiAgICAgICAgICAgICAgaWYgKGFuZ3VsYXIuaXNEZWZpbmVkKGRhdGEubWluRGF0ZSkpIHtcbiAgICAgICAgICAgICAgICBtaW5EYXRlID0gZGF0YS5taW5EYXRlID8gZGF0YS5taW5EYXRlIDogZmFsc2U7XG4gICAgICAgICAgICAgICAgdXBkYXRlVmlld0RhdGEgPSB0cnVlO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGlmIChhbmd1bGFyLmlzRGVmaW5lZChkYXRhLm1heERhdGUpKSB7XG4gICAgICAgICAgICAgICAgbWF4RGF0ZSA9IGRhdGEubWF4RGF0ZSA/IGRhdGEubWF4RGF0ZSA6IGZhbHNlO1xuICAgICAgICAgICAgICAgIHVwZGF0ZVZpZXdEYXRhID0gdHJ1ZTtcbiAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgIGlmIChhbmd1bGFyLmlzRGVmaW5lZChkYXRhLm1pblZpZXcpKSB7XG4gICAgICAgICAgICAgICAgYXR0cnMubWluVmlldyA9IGRhdGEubWluVmlldztcbiAgICAgICAgICAgICAgICB1cGRhdGVWaWV3cyA9IHRydWU7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgaWYgKGFuZ3VsYXIuaXNEZWZpbmVkKGRhdGEubWF4VmlldykpIHtcbiAgICAgICAgICAgICAgICBhdHRycy5tYXhWaWV3ID0gZGF0YS5tYXhWaWV3O1xuICAgICAgICAgICAgICAgIHVwZGF0ZVZpZXdzID0gdHJ1ZTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBhdHRycy52aWV3ID0gZGF0YS52aWV3IHx8IGF0dHJzLnZpZXc7XG5cbiAgICAgICAgICAgICAgaWYgKHVwZGF0ZVZpZXdzKSB7XG4gICAgICAgICAgICAgICAgcHJlcGFyZVZpZXdzKCk7XG4gICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICBpZiAodXBkYXRlVmlld0RhdGEpIHtcbiAgICAgICAgICAgICAgICB1cGRhdGUoKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfTtcbiAgfV0pO1xuLy99KSk7XG5cbi8vKGZ1bmN0aW9uIChnbG9iYWwsIGZhY3RvcnkpIHtcbi8vICAndXNlIHN0cmljdCc7XG4vLyAgdmFyIGZuYztcbi8vICBmbmMgPSAodHlwZW9mIGV4cG9ydHMgPT09ICdvYmplY3QnICYmIHR5cGVvZiBtb2R1bGUgIT09ICd1bmRlZmluZWQnKSA/IG1vZHVsZS5leHBvcnRzID0gZmFjdG9yeShyZXF1aXJlKCdhbmd1bGFyJyksIHJlcXVpcmUoJ21vbWVudCcpKSA6XG4vLyAgICAodHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kKSA/IGRlZmluZShbJ2FuZ3VsYXInLCAnbW9tZW50J10sIGZhY3RvcnkpIDpcbi8vICAgICAgZmFjdG9yeShnbG9iYWwuYW5ndWxhciwgZ2xvYmFsLm1vbWVudCk7XG4vL30odGhpcywgZnVuY3Rpb24gKGFuZ3VsYXIsIG1vbWVudCkge1xuYW5ndWxhci5tb2R1bGUoJ2RhdGVQaWNrZXInKS5mYWN0b3J5KCdkYXRlUGlja2VyVXRpbHMnLCBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIHR6LCBmaXJzdERheTtcbiAgICB2YXIgY3JlYXRlTmV3RGF0ZSA9IGZ1bmN0aW9uICh5ZWFyLCBtb250aCwgZGF5LCBob3VyLCBtaW51dGUpIHtcbiAgICAgIHZhciB1dGMgPSBEYXRlLlVUQyh5ZWFyIHwgMCwgbW9udGggfCAwLCBkYXkgfCAwLCBob3VyIHwgMCwgbWludXRlIHwgMCk7XG4gICAgICByZXR1cm4gdHogPyBtb21lbnQudHoodXRjLCB0eikgOiBtb21lbnQodXRjKTtcbiAgICB9O1xuXG4gICAgcmV0dXJuIHtcbiAgICAgIGdldFZpc2libGVNaW51dGVzOiBmdW5jdGlvbiAobSwgc3RlcCkge1xuICAgICAgICB2YXIgeWVhciA9IG0ueWVhcigpLFxuICAgICAgICAgIG1vbnRoID0gbS5tb250aCgpLFxuICAgICAgICAgIGRheSA9IG0uZGF0ZSgpLFxuICAgICAgICAgIGhvdXIgPSBtLmhvdXJzKCksIHB1c2hlZERhdGUsXG4gICAgICAgICAgb2Zmc2V0ID0gbS51dGNPZmZzZXQoKSAvIDYwLFxuICAgICAgICAgIG1pbnV0ZXMgPSBbXSwgbWludXRlO1xuXG4gICAgICAgIGZvciAobWludXRlID0gMDsgbWludXRlIDwgNjA7IG1pbnV0ZSArPSBzdGVwKSB7XG4gICAgICAgICAgcHVzaGVkRGF0ZSA9IGNyZWF0ZU5ld0RhdGUoeWVhciwgbW9udGgsIGRheSwgaG91ciAtIG9mZnNldCwgbWludXRlKTtcbiAgICAgICAgICBtaW51dGVzLnB1c2gocHVzaGVkRGF0ZSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG1pbnV0ZXM7XG4gICAgICB9LFxuICAgICAgZ2V0VmlzaWJsZVdlZWtzOiBmdW5jdGlvbiAobSkge1xuICAgICAgICBtID0gbW9tZW50KG0pO1xuICAgICAgICB2YXIgc3RhcnRZZWFyID0gbS55ZWFyKCksXG4gICAgICAgICAgc3RhcnRNb250aCA9IG0ubW9udGgoKTtcblxuICAgICAgICAvL1NldCBkYXRlIHRvIHRoZSBmaXJzdCBkYXkgb2YgdGhlIG1vbnRoXG4gICAgICAgIG0uZGF0ZSgxKTtcblxuICAgICAgICAvL0dyYWIgZGF5IG9mIHRoZSB3ZWVrXG4gICAgICAgIHZhciBkYXkgPSBtLmRheSgpO1xuXG4gICAgICAgIC8vR28gYmFjayB0aGUgcmVxdWlyZWQgbnVtYmVyIG9mIGRheXMgdG8gYXJyaXZlIGF0IHRoZSBwcmV2aW91cyB3ZWVrIHN0YXJ0XG4gICAgICAgIG0uZGF0ZShmaXJzdERheSAtIChkYXkgKyAoZmlyc3REYXkgPj0gZGF5ID8gNiA6IC0xKSkpO1xuXG4gICAgICAgIHZhciB3ZWVrcyA9IFtdO1xuXG4gICAgICAgIHdoaWxlICh3ZWVrcy5sZW5ndGggPCA2KSB7XG4gICAgICAgICAgaWYgKG0ueWVhcigpID09PSBzdGFydFllYXIgJiYgbS5tb250aCgpID4gc3RhcnRNb250aCkge1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICAgIHdlZWtzLnB1c2godGhpcy5nZXREYXlzT2ZXZWVrKG0pKTtcbiAgICAgICAgICBtLmFkZCg3LCAnZCcpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB3ZWVrcztcbiAgICAgIH0sXG4gICAgICBnZXRWaXNpYmxlWWVhcnM6IGZ1bmN0aW9uIChkKSB7XG4gICAgICAgIHZhciBtID0gbW9tZW50KGQpLFxuICAgICAgICAgIHllYXIgPSBtLnllYXIoKTtcblxuICAgICAgICBtLnllYXIoeWVhciAtICh5ZWFyICUgMTApKTtcbiAgICAgICAgeWVhciA9IG0ueWVhcigpO1xuXG4gICAgICAgIHZhciBvZmZzZXQgPSBtLnV0Y09mZnNldCgpIC8gNjAsXG4gICAgICAgICAgeWVhcnMgPSBbXSxcbiAgICAgICAgICBwdXNoZWREYXRlLFxuICAgICAgICAgIGFjdHVhbE9mZnNldDtcblxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IDEyOyBpKyspIHtcbiAgICAgICAgICBwdXNoZWREYXRlID0gY3JlYXRlTmV3RGF0ZSh5ZWFyLCAwLCAxLCAwIC0gb2Zmc2V0KTtcbiAgICAgICAgICBhY3R1YWxPZmZzZXQgPSBwdXNoZWREYXRlLnV0Y09mZnNldCgpIC8gNjA7XG4gICAgICAgICAgaWYgKGFjdHVhbE9mZnNldCAhPT0gb2Zmc2V0KSB7XG4gICAgICAgICAgICBwdXNoZWREYXRlID0gY3JlYXRlTmV3RGF0ZSh5ZWFyLCAwLCAxLCAwIC0gYWN0dWFsT2Zmc2V0KTtcbiAgICAgICAgICAgIG9mZnNldCA9IGFjdHVhbE9mZnNldDtcbiAgICAgICAgICB9XG4gICAgICAgICAgeWVhcnMucHVzaChwdXNoZWREYXRlKTtcbiAgICAgICAgICB5ZWFyKys7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHllYXJzO1xuICAgICAgfSxcbiAgICAgIGdldERheXNPZldlZWs6IGZ1bmN0aW9uIChtKSB7XG4gICAgICAgIG0gPSBtID8gbSA6ICh0eiA/IG1vbWVudC50eih0eikuZGF5KGZpcnN0RGF5KSA6IG1vbWVudCgpLmRheShmaXJzdERheSkpO1xuXG4gICAgICAgIHZhciB5ZWFyID0gbS55ZWFyKCksXG4gICAgICAgICAgbW9udGggPSBtLm1vbnRoKCksXG4gICAgICAgICAgZGF5ID0gbS5kYXRlKCksXG4gICAgICAgICAgZGF5cyA9IFtdLFxuICAgICAgICAgIHB1c2hlZERhdGUsXG4gICAgICAgICAgb2Zmc2V0ID0gbS51dGNPZmZzZXQoKSAvIDYwLFxuICAgICAgICAgIGFjdHVhbE9mZnNldDtcblxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IDc7IGkrKykge1xuICAgICAgICAgIHB1c2hlZERhdGUgPSBjcmVhdGVOZXdEYXRlKHllYXIsIG1vbnRoLCBkYXksIDAgLSBvZmZzZXQsIDAsIGZhbHNlKTtcbiAgICAgICAgICBhY3R1YWxPZmZzZXQgPSBwdXNoZWREYXRlLnV0Y09mZnNldCgpIC8gNjA7XG4gICAgICAgICAgaWYgKGFjdHVhbE9mZnNldCAhPT0gb2Zmc2V0KSB7XG4gICAgICAgICAgICBwdXNoZWREYXRlID0gY3JlYXRlTmV3RGF0ZSh5ZWFyLCBtb250aCwgZGF5LCAwIC0gYWN0dWFsT2Zmc2V0LCAwLCBmYWxzZSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGRheXMucHVzaChwdXNoZWREYXRlKTtcbiAgICAgICAgICBkYXkrKztcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZGF5cztcbiAgICAgIH0sXG4gICAgICBnZXRWaXNpYmxlTW9udGhzOiBmdW5jdGlvbiAobSkge1xuICAgICAgICB2YXIgeWVhciA9IG0ueWVhcigpLFxuICAgICAgICAgIG9mZnNldCA9IG0udXRjT2Zmc2V0KCkgLyA2MCxcbiAgICAgICAgICBtb250aHMgPSBbXSxcbiAgICAgICAgICBwdXNoZWREYXRlLFxuICAgICAgICAgIGFjdHVhbE9mZnNldDtcblxuICAgICAgICBmb3IgKHZhciBtb250aCA9IDA7IG1vbnRoIDwgMTI7IG1vbnRoKyspIHtcbiAgICAgICAgICBwdXNoZWREYXRlID0gY3JlYXRlTmV3RGF0ZSh5ZWFyLCBtb250aCwgMSwgMCAtIG9mZnNldCwgMCwgZmFsc2UpO1xuICAgICAgICAgIGFjdHVhbE9mZnNldCA9IHB1c2hlZERhdGUudXRjT2Zmc2V0KCkgLyA2MDtcbiAgICAgICAgICBpZiAoYWN0dWFsT2Zmc2V0ICE9PSBvZmZzZXQpIHtcbiAgICAgICAgICAgIHB1c2hlZERhdGUgPSBjcmVhdGVOZXdEYXRlKHllYXIsIG1vbnRoLCAxLCAwIC0gYWN0dWFsT2Zmc2V0LCAwLCBmYWxzZSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIG1vbnRocy5wdXNoKHB1c2hlZERhdGUpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBtb250aHM7XG4gICAgICB9LFxuICAgICAgZ2V0VmlzaWJsZUhvdXJzOiBmdW5jdGlvbiAobSkge1xuICAgICAgICB2YXIgeWVhciA9IG0ueWVhcigpLFxuICAgICAgICAgIG1vbnRoID0gbS5tb250aCgpLFxuICAgICAgICAgIGRheSA9IG0uZGF0ZSgpLFxuICAgICAgICAgIGhvdXJzID0gW10sXG4gICAgICAgICAgaG91ciwgcHVzaGVkRGF0ZSwgYWN0dWFsT2Zmc2V0LFxuICAgICAgICAgIG9mZnNldCA9IG0udXRjT2Zmc2V0KCkgLyA2MDtcblxuICAgICAgICBmb3IgKGhvdXIgPSAwOyBob3VyIDwgMjQ7IGhvdXIrKykge1xuICAgICAgICAgIHB1c2hlZERhdGUgPSBjcmVhdGVOZXdEYXRlKHllYXIsIG1vbnRoLCBkYXksIGhvdXIgLSBvZmZzZXQsIDAsIGZhbHNlKTtcbiAgICAgICAgICBhY3R1YWxPZmZzZXQgPSBwdXNoZWREYXRlLnV0Y09mZnNldCgpIC8gNjA7XG4gICAgICAgICAgaWYgKGFjdHVhbE9mZnNldCAhPT0gb2Zmc2V0KSB7XG4gICAgICAgICAgICBwdXNoZWREYXRlID0gY3JlYXRlTmV3RGF0ZSh5ZWFyLCBtb250aCwgZGF5LCBob3VyIC0gYWN0dWFsT2Zmc2V0LCAwLCBmYWxzZSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGhvdXJzLnB1c2gocHVzaGVkRGF0ZSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gaG91cnM7XG4gICAgICB9LFxuICAgICAgaXNBZnRlcjogZnVuY3Rpb24gKG1vZGVsLCBkYXRlKSB7XG4gICAgICAgIHJldHVybiBtb2RlbCAmJiBtb2RlbC51bml4KCkgPj0gZGF0ZS51bml4KCk7XG4gICAgICB9LFxuICAgICAgaXNCZWZvcmU6IGZ1bmN0aW9uIChtb2RlbCwgZGF0ZSkge1xuICAgICAgICByZXR1cm4gbW9kZWwudW5peCgpIDw9IGRhdGUudW5peCgpO1xuICAgICAgfSxcbiAgICAgIGlzU2FtZVllYXI6IGZ1bmN0aW9uIChtb2RlbCwgZGF0ZSkge1xuICAgICAgICByZXR1cm4gbW9kZWwgJiYgbW9kZWwueWVhcigpID09PSBkYXRlLnllYXIoKTtcbiAgICAgIH0sXG4gICAgICBpc1NhbWVNb250aDogZnVuY3Rpb24gKG1vZGVsLCBkYXRlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmlzU2FtZVllYXIobW9kZWwsIGRhdGUpICYmIG1vZGVsLm1vbnRoKCkgPT09IGRhdGUubW9udGgoKTtcbiAgICAgIH0sXG4gICAgICBpc1NhbWVEYXk6IGZ1bmN0aW9uIChtb2RlbCwgZGF0ZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5pc1NhbWVNb250aChtb2RlbCwgZGF0ZSkgJiYgbW9kZWwuZGF0ZSgpID09PSBkYXRlLmRhdGUoKTtcbiAgICAgIH0sXG4gICAgICBpc1NhbWVIb3VyOiBmdW5jdGlvbiAobW9kZWwsIGRhdGUpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuaXNTYW1lRGF5KG1vZGVsLCBkYXRlKSAmJiBtb2RlbC5ob3VycygpID09PSBkYXRlLmhvdXJzKCk7XG4gICAgICB9LFxuICAgICAgaXNTYW1lTWludXRlczogZnVuY3Rpb24gKG1vZGVsLCBkYXRlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmlzU2FtZUhvdXIobW9kZWwsIGRhdGUpICYmIG1vZGVsLm1pbnV0ZXMoKSA9PT0gZGF0ZS5taW51dGVzKCk7XG4gICAgICB9LFxuICAgICAgc2V0UGFyYW1zOiBmdW5jdGlvbiAoem9uZSwgZmQpIHtcbiAgICAgICAgdHogPSB6b25lO1xuICAgICAgICBmaXJzdERheSA9IGZkO1xuICAgICAgfSxcbiAgICAgIHNjb3BlU2VhcmNoOiBmdW5jdGlvbiAoc2NvcGUsIG5hbWUsIGNvbXBhcmlzb25Gbikge1xuICAgICAgICB2YXIgcGFyZW50U2NvcGUgPSBzY29wZSxcbiAgICAgICAgICBuYW1lQXJyYXkgPSBuYW1lLnNwbGl0KCcuJyksXG4gICAgICAgICAgdGFyZ2V0LCBpLCBqID0gbmFtZUFycmF5Lmxlbmd0aDtcblxuICAgICAgICBkbyB7XG4gICAgICAgICAgdGFyZ2V0ID0gcGFyZW50U2NvcGUgPSBwYXJlbnRTY29wZS4kcGFyZW50O1xuXG4gICAgICAgICAgLy9Mb29wIHRocm91Z2ggcHJvdmlkZWQgbmFtZXMuXG4gICAgICAgICAgZm9yIChpID0gMDsgaSA8IGo7IGkrKykge1xuICAgICAgICAgICAgdGFyZ2V0ID0gdGFyZ2V0W25hbWVBcnJheVtpXV07XG4gICAgICAgICAgICBpZiAoIXRhcmdldCkge1xuICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG5cbiAgICAgICAgICAvL0lmIHdlIHJlYWNoZWQgdGhlIGVuZCBvZiB0aGUgbGlzdCBmb3IgdGhpcyBzY29wZSxcbiAgICAgICAgICAvL2FuZCBzb21ldGhpbmcgd2FzIGZvdW5kLCB0cmlnZ2VyIHRoZSBjb21wYXJpc29uXG4gICAgICAgICAgLy9mdW5jdGlvbi4gSWYgdGhlIGNvbXBhcmlzb24gZnVuY3Rpb24gaXMgaGFwcHksIHJldHVyblxuICAgICAgICAgIC8vZm91bmQgcmVzdWx0LiBPdGhlcndpc2UsIGNvbnRpbnVlIHRvIHRoZSBuZXh0IHBhcmVudCBzY29wZVxuICAgICAgICAgIGlmICh0YXJnZXQgJiYgY29tcGFyaXNvbkZuKHRhcmdldCkpIHtcbiAgICAgICAgICAgIHJldHVybiB0YXJnZXQ7XG4gICAgICAgICAgfVxuXG4gICAgICAgIH0gd2hpbGUgKHBhcmVudFNjb3BlLiRwYXJlbnQpO1xuXG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH0sXG4gICAgICBmaW5kRnVuY3Rpb246IGZ1bmN0aW9uIChzY29wZSwgbmFtZSkge1xuICAgICAgICAvL1NlYXJjaCBzY29wZSBhbmNlc3RvcnMgZm9yIGEgbWF0Y2hpbmcgZnVuY3Rpb24uXG4gICAgICAgIHJldHVybiB0aGlzLnNjb3BlU2VhcmNoKHNjb3BlLCBuYW1lLCBmdW5jdGlvbiAodGFyZ2V0KSB7XG4gICAgICAgICAgLy9Qcm9wZXJ0eSBtdXN0IGFsc28gYmUgYSBmdW5jdGlvblxuICAgICAgICAgIHJldHVybiBhbmd1bGFyLmlzRnVuY3Rpb24odGFyZ2V0KTtcbiAgICAgICAgfSk7XG4gICAgICB9LFxuICAgICAgZmluZFBhcmFtOiBmdW5jdGlvbiAoc2NvcGUsIG5hbWUpIHtcbiAgICAgICAgLy9TZWFyY2ggc2NvcGUgYW5jZXN0b3JzIGZvciBhIG1hdGNoaW5nIHBhcmFtZXRlci5cbiAgICAgICAgcmV0dXJuIHRoaXMuc2NvcGVTZWFyY2goc2NvcGUsIG5hbWUsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAvL0FzIGxvbmcgYXMgdGhlIHByb3BlcnR5IGV4aXN0cywgd2UncmUgZ29vZFxuICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9KTtcbiAgICAgIH0sXG4gICAgICBjcmVhdGVNb21lbnQ6IGZ1bmN0aW9uIChtKSB7XG4gICAgICAgIGlmICh0eikge1xuICAgICAgICAgIHJldHVybiBtb21lbnQudHoobSwgdHopO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIC8vSWYgaW5wdXQgaXMgYSBtb21lbnQsIGFuZCB3ZSBoYXZlIG5vIFRaIGluZm8sIHdlIG5lZWQgdG8gcmVtb3ZlIFRaXG4gICAgICAgICAgLy9pbmZvIGZyb20gdGhlIG1vbWVudCwgb3RoZXJ3aXNlIHRoZSBuZXdseSBjcmVhdGVkIG1vbWVudCB3aWxsIHRha2VcbiAgICAgICAgICAvL3RoZSB0aW1lem9uZSBvZiB0aGUgaW5wdXQgbW9tZW50LiBUaGUgZWFzaWVzdCB3YXkgdG8gZG8gdGhhdCBpcyB0b1xuICAgICAgICAgIC8vdGFrZSB0aGUgdW5peCB0aW1lc3RhbXAsIGFuZCB1c2UgdGhhdCB0byBjcmVhdGUgYSBuZXcgbW9tZW50LlxuICAgICAgICAgIC8vVGhlIG5ldyBtb21lbnQgd2lsbCB1c2UgdGhlIGxvY2FsIHRpbWV6b25lIG9mIHRoZSB1c2VyIG1hY2hpbmUuXG4gICAgICAgICAgcmV0dXJuIG1vbWVudC5pc01vbWVudChtKSA/IG1vbWVudC51bml4KG0udW5peCgpKSA6IG1vbWVudChtKTtcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIGdldERhdGU6IGZ1bmN0aW9uIChzY29wZSwgYXR0cnMsIG5hbWUpIHtcbiAgICAgICAgdmFyIHJlc3VsdCA9IGZhbHNlO1xuICAgICAgICBpZiAoYXR0cnNbbmFtZV0pIHtcbiAgICAgICAgICByZXN1bHQgPSB0aGlzLmNyZWF0ZU1vbWVudChhdHRyc1tuYW1lXSk7XG4gICAgICAgICAgaWYgKCFyZXN1bHQuaXNWYWxpZCgpKSB7XG4gICAgICAgICAgICByZXN1bHQgPSB0aGlzLmZpbmRQYXJhbShzY29wZSwgYXR0cnNbbmFtZV0pO1xuICAgICAgICAgICAgaWYgKHJlc3VsdCkge1xuICAgICAgICAgICAgICByZXN1bHQgPSB0aGlzLmNyZWF0ZU1vbWVudChyZXN1bHQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICB9LFxuICAgICAgZXZlbnRJc0ZvclBpY2tlcjogZnVuY3Rpb24gKHRhcmdldElEcywgcGlja2VySUQpIHtcbiAgICAgICAgLy9DaGVja3MgaWYgYW4gZXZlbnQgdGFyZ2V0ZWQgYXQgYSBzcGVjaWZpYyBwaWNrZXIsIHZpYSBlaXRoZXIgYSBzdHJpbmcgbmFtZSwgb3IgYW4gYXJyYXkgb2Ygc3RyaW5ncy5cbiAgICAgICAgcmV0dXJuIChhbmd1bGFyLmlzQXJyYXkodGFyZ2V0SURzKSAmJiB0YXJnZXRJRHMuaW5kZXhPZihwaWNrZXJJRCkgPiAtMSB8fCB0YXJnZXRJRHMgPT09IHBpY2tlcklEKTtcbiAgICAgIH1cbiAgICB9O1xuICB9KTtcbi8vfSkpO1xuXG4vLyhmdW5jdGlvbiAoZ2xvYmFsLCBmYWN0b3J5KSB7XG4vLyAgJ3VzZSBzdHJpY3QnO1xuLy8gIHZhciBmbmM7XG4vLyAgZm5jID0gKHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0JyAmJiB0eXBlb2YgbW9kdWxlICE9PSAndW5kZWZpbmVkJykgPyBtb2R1bGUuZXhwb3J0cyA9IGZhY3RvcnkocmVxdWlyZSgnYW5ndWxhcicpLCByZXF1aXJlKCdtb21lbnQnKSkgOlxuLy8gICAgKHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZCkgPyBkZWZpbmUoWydhbmd1bGFyJywgJ21vbWVudCddLCBmYWN0b3J5KSA6XG4vLyAgICAgIGZhY3RvcnkoZ2xvYmFsLmFuZ3VsYXIsIGdsb2JhbC5tb21lbnQpO1xuLy99KHRoaXMsIGZ1bmN0aW9uIChhbmd1bGFyLCBtb21lbnQpIHtcbnZhciBNb2R1bGUgPSBhbmd1bGFyLm1vZHVsZSgnZGF0ZVBpY2tlcicpO1xuXG4gIE1vZHVsZS5kaXJlY3RpdmUoJ2RhdGVSYW5nZScsIFsnJGNvbXBpbGUnLCAnZGF0ZVBpY2tlclV0aWxzJywgJ2RhdGVUaW1lQ29uZmlnJywgZnVuY3Rpb24gKCRjb21waWxlLCBkYXRlUGlja2VyVXRpbHMsIGRhdGVUaW1lQ29uZmlnKSB7XG4gICAgZnVuY3Rpb24gZ2V0VGVtcGxhdGUoYXR0cnMsIGlkLCBtb2RlbCwgbWluLCBtYXgpIHtcbiAgICAgIHJldHVybiBkYXRlVGltZUNvbmZpZy50ZW1wbGF0ZShhbmd1bGFyLmV4dGVuZChhdHRycywge1xuICAgICAgICBuZ01vZGVsOiBtb2RlbCxcbiAgICAgICAgbWluRGF0ZTogbWluICYmIG1vbWVudC5pc01vbWVudChtaW4pID8gbWluLmZvcm1hdCgpIDogZmFsc2UsXG4gICAgICAgIG1heERhdGU6IG1heCAmJiBtb21lbnQuaXNNb21lbnQobWF4KSA/IG1heC5mb3JtYXQoKSA6IGZhbHNlXG4gICAgICB9KSwgaWQpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHJhbmRvbU5hbWUoKSB7XG4gICAgICByZXR1cm4gJ3BpY2tlcicgKyBNYXRoLnJhbmRvbSgpLnRvU3RyaW5nKCkuc3Vic3RyKDIpO1xuICAgIH1cblxuICAgIHJldHVybiB7XG4gICAgICBzY29wZToge1xuICAgICAgICBzdGFydDogJz0nLFxuICAgICAgICBlbmQ6ICc9J1xuICAgICAgfSxcbiAgICAgIGxpbms6IGZ1bmN0aW9uIChzY29wZSwgZWxlbWVudCwgYXR0cnMpIHtcbiAgICAgICAgdmFyIGRhdGVDaGFuZ2UgPSBudWxsLFxuICAgICAgICAgIHBpY2tlclJhbmdlSUQgPSBlbGVtZW50WzBdLmlkLFxuICAgICAgICAgIHBpY2tlcklEcyA9IFtyYW5kb21OYW1lKCksIHJhbmRvbU5hbWUoKV0sXG4gICAgICAgICAgY3JlYXRlTW9tZW50ID0gZGF0ZVBpY2tlclV0aWxzLmNyZWF0ZU1vbWVudCxcbiAgICAgICAgICBldmVudElzRm9yUGlja2VyID0gZGF0ZVBpY2tlclV0aWxzLmV2ZW50SXNGb3JQaWNrZXI7XG5cbiAgICAgICAgc2NvcGUuZGF0ZUNoYW5nZSA9IGZ1bmN0aW9uIChtb2RlbE5hbWUsIG5ld0RhdGUpIHtcbiAgICAgICAgICAvL05vdGlmeSB1c2VyIGlmIGNhbGxiYWNrIGV4aXN0cy5cbiAgICAgICAgICBpZiAoZGF0ZUNoYW5nZSkge1xuICAgICAgICAgICAgZGF0ZUNoYW5nZShtb2RlbE5hbWUsIG5ld0RhdGUpO1xuICAgICAgICAgIH1cbiAgICAgICAgfTtcblxuICAgICAgICBmdW5jdGlvbiBzZXRNYXgoZGF0ZSkge1xuICAgICAgICAgIHNjb3BlLiRicm9hZGNhc3QoJ3BpY2tlclVwZGF0ZScsIHBpY2tlcklEc1swXSwge1xuICAgICAgICAgICAgbWF4RGF0ZTogZGF0ZVxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgZnVuY3Rpb24gc2V0TWluKGRhdGUpIHtcbiAgICAgICAgICBzY29wZS4kYnJvYWRjYXN0KCdwaWNrZXJVcGRhdGUnLCBwaWNrZXJJRHNbMV0sIHtcbiAgICAgICAgICAgIG1pbkRhdGU6IGRhdGVcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChwaWNrZXJSYW5nZUlEKSB7XG4gICAgICAgICAgc2NvcGUuJG9uKCdwaWNrZXJVcGRhdGUnLCBmdW5jdGlvbiAoZXZlbnQsIHRhcmdldElEcywgZGF0YSkge1xuICAgICAgICAgICAgaWYgKGV2ZW50SXNGb3JQaWNrZXIodGFyZ2V0SURzLCBwaWNrZXJSYW5nZUlEKSkge1xuICAgICAgICAgICAgICAvL0lmIHdlIHJlY2VpdmVkIGFuIHVwZGF0ZSBldmVudCwgZGlzcGF0Y2ggaXQgdG8gdGhlIGlubmVyIHBpY2tlcnMgdXNpbmcgdGhlaXIgSURzLlxuICAgICAgICAgICAgICBzY29wZS4kYnJvYWRjYXN0KCdwaWNrZXJVcGRhdGUnLCBwaWNrZXJJRHMsIGRhdGEpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgZGF0ZVBpY2tlclV0aWxzLnNldFBhcmFtcyhhdHRycy50aW1lem9uZSk7XG5cbiAgICAgICAgc2NvcGUuc3RhcnQgPSBjcmVhdGVNb21lbnQoc2NvcGUuc3RhcnQpO1xuICAgICAgICBzY29wZS5lbmQgPSBjcmVhdGVNb21lbnQoc2NvcGUuZW5kKTtcblxuICAgICAgICBzY29wZS4kd2F0Y2hHcm91cChbJ3N0YXJ0JywgJ2VuZCddLCBmdW5jdGlvbiAoZGF0ZXMpIHtcbiAgICAgICAgICAvL1Njb3BlIGRhdGEgY2hhbmdlZCwgdXBkYXRlIHBpY2tlciBtaW4vbWF4XG4gICAgICAgICAgc2V0TWluKGRhdGVzWzBdKTtcbiAgICAgICAgICBzZXRNYXgoZGF0ZXNbMV0pO1xuICAgICAgICB9KTtcblxuICAgICAgICBpZiAoYW5ndWxhci5pc0RlZmluZWQoYXR0cnMuZGF0ZUNoYW5nZSkpIHtcbiAgICAgICAgICBkYXRlQ2hhbmdlID0gZGF0ZVBpY2tlclV0aWxzLmZpbmRGdW5jdGlvbihzY29wZSwgYXR0cnMuZGF0ZUNoYW5nZSk7XG4gICAgICAgIH1cblxuICAgICAgICBhdHRycy5vblNldERhdGUgPSAnZGF0ZUNoYW5nZSc7XG5cbiAgICAgICAgdmFyIHRlbXBsYXRlID0gJzxkaXY+PHRhYmxlIGNsYXNzPVwiZGF0ZS1yYW5nZVwiPjx0cj48dGQgdmFsaWduPVwidG9wXCI+JyArXG4gICAgICAgICAgZ2V0VGVtcGxhdGUoYXR0cnMsIHBpY2tlcklEc1swXSwgJ3N0YXJ0JywgZmFsc2UsIHNjb3BlLmVuZCkgK1xuICAgICAgICAgICc8L3RkPjx0ZCB2YWxpZ249XCJ0b3BcIj4nICtcbiAgICAgICAgICBnZXRUZW1wbGF0ZShhdHRycywgcGlja2VySURzWzFdLCAnZW5kJywgc2NvcGUuc3RhcnQsIGZhbHNlKSArXG4gICAgICAgICAgJzwvdGQ+PC90cj48L3RhYmxlPjwvZGl2Pic7XG5cbiAgICAgICAgdmFyIHBpY2tlciA9ICRjb21waWxlKHRlbXBsYXRlKShzY29wZSk7XG4gICAgICAgIGVsZW1lbnQuYXBwZW5kKHBpY2tlcik7XG4gICAgICB9XG4gICAgfTtcbiAgfV0pO1xuLy99KSk7XG5cbi8vKGZ1bmN0aW9uIChnbG9iYWwsIGZhY3RvcnkpIHtcbi8vICAndXNlIHN0cmljdCc7XG4vLyAgdmFyIGZuYztcbi8vICBmbmMgPSAodHlwZW9mIGV4cG9ydHMgPT09ICdvYmplY3QnICYmIHR5cGVvZiBtb2R1bGUgIT09ICd1bmRlZmluZWQnKSA/IG1vZHVsZS5leHBvcnRzID0gZmFjdG9yeShyZXF1aXJlKCdhbmd1bGFyJyksIHJlcXVpcmUoJ21vbWVudCcpKSA6XG4vLyAgICAodHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kKSA/IGRlZmluZShbJ2FuZ3VsYXInLCAnbW9tZW50J10sIGZhY3RvcnkpIDpcbi8vICAgICAgZmFjdG9yeShnbG9iYWwuYW5ndWxhciwgZ2xvYmFsLm1vbWVudCk7XG4vL30odGhpcywgZnVuY3Rpb24gKGFuZ3VsYXIsIG1vbWVudCkge1xudmFyIFBSSVNUSU5FX0NMQVNTID0gJ25nLXByaXN0aW5lJyxcbiAgICBESVJUWV9DTEFTUyA9ICduZy1kaXJ0eSc7XG5cbiAgdmFyIE1vZHVsZSA9IGFuZ3VsYXIubW9kdWxlKCdkYXRlUGlja2VyJyk7XG5cbiAgTW9kdWxlLmNvbnN0YW50KCdkYXRlVGltZUNvbmZpZycsIHtcbiAgICB0ZW1wbGF0ZTogZnVuY3Rpb24gKGF0dHJzLCBpZCkge1xuICAgICAgcmV0dXJuICcnICtcbiAgICAgICAgJzxkaXYgJyArXG4gICAgICAgIChpZCA/ICdpZD1cIicgKyBpZCArICdcIiAnIDogJycpICtcbiAgICAgICAgJ2RhdGUtcGlja2VyPVwiJyArIGF0dHJzLm5nTW9kZWwgKyAnXCIgJyArXG4gICAgICAgIChhdHRycy52aWV3ID8gJ3ZpZXc9XCInICsgYXR0cnMudmlldyArICdcIiAnIDogJycpICtcbiAgICAgICAgKGF0dHJzLm1heFZpZXcgPyAnbWF4LXZpZXc9XCInICsgYXR0cnMubWF4VmlldyArICdcIiAnIDogJycpICtcbiAgICAgICAgKGF0dHJzLm1heERhdGUgPyAnbWF4LWRhdGU9XCInICsgYXR0cnMubWF4RGF0ZSArICdcIiAnIDogJycpICtcbiAgICAgICAgKGF0dHJzLmF1dG9DbG9zZSA/ICdhdXRvLWNsb3NlPVwiJyArIGF0dHJzLmF1dG9DbG9zZSArICdcIiAnIDogJycpICtcbiAgICAgICAgKGF0dHJzLnRlbXBsYXRlID8gJ3RlbXBsYXRlPVwiJyArIGF0dHJzLnRlbXBsYXRlICsgJ1wiICcgOiAnJykgK1xuICAgICAgICAoYXR0cnMubWluVmlldyA/ICdtaW4tdmlldz1cIicgKyBhdHRycy5taW5WaWV3ICsgJ1wiICcgOiAnJykgK1xuICAgICAgICAoYXR0cnMubWluRGF0ZSA/ICdtaW4tZGF0ZT1cIicgKyBhdHRycy5taW5EYXRlICsgJ1wiICcgOiAnJykgK1xuICAgICAgICAoYXR0cnMucGFydGlhbCA/ICdwYXJ0aWFsPVwiJyArIGF0dHJzLnBhcnRpYWwgKyAnXCIgJyA6ICcnKSArXG4gICAgICAgIChhdHRycy5zdGVwID8gJ3N0ZXA9XCInICsgYXR0cnMuc3RlcCArICdcIiAnIDogJycpICtcbiAgICAgICAgKGF0dHJzLm9uU2V0RGF0ZSA/ICdkYXRlLWNoYW5nZT1cIicgKyBhdHRycy5vblNldERhdGUgKyAnXCIgJyA6ICcnKSArXG4gICAgICAgIChhdHRycy5uZ01vZGVsID8gJ25nLW1vZGVsPVwiJyArIGF0dHJzLm5nTW9kZWwgKyAnXCIgJyA6ICcnKSArXG4gICAgICAgIChhdHRycy5maXJzdERheSA/ICdmaXJzdC1kYXk9XCInICsgYXR0cnMuZmlyc3REYXkgKyAnXCIgJyA6ICcnKSArXG4gICAgICAgIChhdHRycy50aW1lem9uZSA/ICd0aW1lem9uZT1cIicgKyBhdHRycy50aW1lem9uZSArICdcIiAnIDogJycpICtcbiAgICAgICAgJ2NsYXNzPVwiZGF0ZS1waWNrZXItZGF0ZS10aW1lXCI+PC9kaXY+JztcbiAgICB9LFxuICAgIGZvcm1hdDogJ1lZWVktTU0tREQgSEg6bW0nLFxuICAgIHZpZXdzOiBbJ2RhdGUnLCAneWVhcicsICdtb250aCcsICdob3VycycsICdtaW51dGVzJ10sXG4gICAgYXV0b0Nsb3NlOiBmYWxzZSxcbiAgICBwb3NpdGlvbjogJ3JlbGF0aXZlJ1xuICB9KTtcblxuICBNb2R1bGUuZGlyZWN0aXZlKCdkYXRlVGltZUFwcGVuZCcsIGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4ge1xuICAgICAgbGluazogZnVuY3Rpb24gKHNjb3BlLCBlbGVtZW50KSB7XG4gICAgICAgIGVsZW1lbnQuYmluZCgnY2xpY2snLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgZWxlbWVudC5maW5kKCdpbnB1dCcpWzBdLmZvY3VzKCk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH07XG4gIH0pO1xuXG4gIE1vZHVsZS5kaXJlY3RpdmUoJ2RhdGVUaW1lJywgWyckY29tcGlsZScsICckZG9jdW1lbnQnLCAnJGZpbHRlcicsICdkYXRlVGltZUNvbmZpZycsICckcGFyc2UnLCAnZGF0ZVBpY2tlclV0aWxzJywgZnVuY3Rpb24gKCRjb21waWxlLCAkZG9jdW1lbnQsICRmaWx0ZXIsIGRhdGVUaW1lQ29uZmlnLCAkcGFyc2UsIGRhdGVQaWNrZXJVdGlscykge1xuICAgIHZhciBib2R5ID0gJGRvY3VtZW50LmZpbmQoJ2JvZHknKTtcbiAgICB2YXIgZGF0ZUZpbHRlciA9ICRmaWx0ZXIoJ21Gb3JtYXQnKTtcblxuICAgIHJldHVybiB7XG4gICAgICByZXF1aXJlOiAnbmdNb2RlbCcsXG4gICAgICBzY29wZTogdHJ1ZSxcbiAgICAgIGxpbms6IGZ1bmN0aW9uIChzY29wZSwgZWxlbWVudCwgYXR0cnMsIG5nTW9kZWwpIHtcbiAgICAgICAgdmFyIGZvcm1hdCA9IGF0dHJzLmZvcm1hdCB8fCBkYXRlVGltZUNvbmZpZy5mb3JtYXQsXG4gICAgICAgICAgcGFyZW50Rm9ybSA9IGVsZW1lbnQuaW5oZXJpdGVkRGF0YSgnJGZvcm1Db250cm9sbGVyJyksXG4gICAgICAgICAgdmlld3MgPSAkcGFyc2UoYXR0cnMudmlld3MpKHNjb3BlKSB8fCBkYXRlVGltZUNvbmZpZy52aWV3cy5jb25jYXQoKSxcbiAgICAgICAgICB2aWV3ID0gYXR0cnMudmlldyB8fCB2aWV3c1swXSxcbiAgICAgICAgICBpbmRleCA9IHZpZXdzLmluZGV4T2YodmlldyksXG4gICAgICAgICAgZGlzbWlzcyA9IGF0dHJzLmF1dG9DbG9zZSA/ICRwYXJzZShhdHRycy5hdXRvQ2xvc2UpKHNjb3BlKSA6IGRhdGVUaW1lQ29uZmlnLmF1dG9DbG9zZSxcbiAgICAgICAgICBwaWNrZXIgPSBudWxsLFxuICAgICAgICAgIHBpY2tlcklEID0gZWxlbWVudFswXS5pZCxcbiAgICAgICAgICBwb3NpdGlvbiA9IGF0dHJzLnBvc2l0aW9uIHx8IGRhdGVUaW1lQ29uZmlnLnBvc2l0aW9uLFxuICAgICAgICAgIGNvbnRhaW5lciA9IG51bGwsXG4gICAgICAgICAgbWluRGF0ZSA9IG51bGwsXG4gICAgICAgICAgbWluVmFsaWQgPSBudWxsLFxuICAgICAgICAgIG1heERhdGUgPSBudWxsLFxuICAgICAgICAgIG1heFZhbGlkID0gbnVsbCxcbiAgICAgICAgICB0aW1lem9uZSA9IGF0dHJzLnRpbWV6b25lIHx8IGZhbHNlLFxuICAgICAgICAgIGV2ZW50SXNGb3JQaWNrZXIgPSBkYXRlUGlja2VyVXRpbHMuZXZlbnRJc0ZvclBpY2tlcixcbiAgICAgICAgICBkYXRlQ2hhbmdlID0gbnVsbCxcbiAgICAgICAgICBzaG93bk9uY2UgPSBmYWxzZSxcbiAgICAgICAgICB0ZW1wbGF0ZTtcblxuICAgICAgICBpZiAoaW5kZXggPT09IC0xKSB7XG4gICAgICAgICAgdmlld3Muc3BsaWNlKGluZGV4LCAxKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZpZXdzLnVuc2hpZnQodmlldyk7XG5cbiAgICAgICAgZnVuY3Rpb24gZm9ybWF0dGVyKHZhbHVlKSB7XG4gICAgICAgICAgcmV0dXJuIGRhdGVGaWx0ZXIodmFsdWUsIGZvcm1hdCwgdGltZXpvbmUpO1xuICAgICAgICB9XG5cbiAgICAgICAgZnVuY3Rpb24gcGFyc2VyKHZpZXdWYWx1ZSkge1xuICAgICAgICAgIGlmICh2aWV3VmFsdWUubGVuZ3RoID09PSBmb3JtYXQubGVuZ3RoKSB7XG4gICAgICAgICAgICByZXR1cm4gdmlld1ZhbHVlO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICB9XG5cbiAgICAgICAgZnVuY3Rpb24gc2V0TWluKGRhdGUpIHtcbiAgICAgICAgICBtaW5EYXRlID0gZGF0ZTtcbiAgICAgICAgICBhdHRycy5taW5EYXRlID0gZGF0ZSA/IGRhdGUuZm9ybWF0KCkgOiBkYXRlO1xuICAgICAgICAgIG1pblZhbGlkID0gbW9tZW50LmlzTW9tZW50KGRhdGUpO1xuICAgICAgICB9XG5cbiAgICAgICAgZnVuY3Rpb24gc2V0TWF4KGRhdGUpIHtcbiAgICAgICAgICBtYXhEYXRlID0gZGF0ZTtcbiAgICAgICAgICBhdHRycy5tYXhEYXRlID0gZGF0ZSA/IGRhdGUuZm9ybWF0KCkgOiBkYXRlO1xuICAgICAgICAgIG1heFZhbGlkID0gbW9tZW50LmlzTW9tZW50KGRhdGUpO1xuICAgICAgICB9XG5cbiAgICAgICAgbmdNb2RlbC4kZm9ybWF0dGVycy5wdXNoKGZvcm1hdHRlcik7XG4gICAgICAgIG5nTW9kZWwuJHBhcnNlcnMudW5zaGlmdChwYXJzZXIpO1xuXG4gICAgICAgIGlmIChhbmd1bGFyLmlzRGVmaW5lZChhdHRycy5taW5EYXRlKSkge1xuICAgICAgICAgIHNldE1pbihkYXRlUGlja2VyVXRpbHMuZmluZFBhcmFtKHNjb3BlLCBhdHRycy5taW5EYXRlKSk7XG5cbiAgICAgICAgICBuZ01vZGVsLiR2YWxpZGF0b3JzLm1pbiA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgLy9JZiB3ZSBkb24ndCBoYXZlIGEgbWluIC8gbWF4IHZhbHVlLCB0aGVuIGFueSB2YWx1ZSBpcyB2YWxpZC5cbiAgICAgICAgICAgIHJldHVybiBtaW5WYWxpZCA/IG1vbWVudC5pc01vbWVudCh2YWx1ZSkgJiYgKG1pbkRhdGUuaXNTYW1lKHZhbHVlKSB8fCBtaW5EYXRlLmlzQmVmb3JlKHZhbHVlKSkgOiB0cnVlO1xuICAgICAgICAgIH07XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoYW5ndWxhci5pc0RlZmluZWQoYXR0cnMubWF4RGF0ZSkpIHtcbiAgICAgICAgICBzZXRNYXgoZGF0ZVBpY2tlclV0aWxzLmZpbmRQYXJhbShzY29wZSwgYXR0cnMubWF4RGF0ZSkpO1xuXG4gICAgICAgICAgbmdNb2RlbC4kdmFsaWRhdG9ycy5tYXggPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIHJldHVybiBtYXhWYWxpZCA/IG1vbWVudC5pc01vbWVudCh2YWx1ZSkgJiYgKG1heERhdGUuaXNTYW1lKHZhbHVlKSB8fCBtYXhEYXRlLmlzQWZ0ZXIodmFsdWUpKSA6IHRydWU7XG4gICAgICAgICAgfTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChhbmd1bGFyLmlzRGVmaW5lZChhdHRycy5kYXRlQ2hhbmdlKSkge1xuICAgICAgICAgIGRhdGVDaGFuZ2UgPSBkYXRlUGlja2VyVXRpbHMuZmluZEZ1bmN0aW9uKHNjb3BlLCBhdHRycy5kYXRlQ2hhbmdlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZ1bmN0aW9uIGdldFRlbXBsYXRlKCkge1xuICAgICAgICAgIHRlbXBsYXRlID0gZGF0ZVRpbWVDb25maWcudGVtcGxhdGUoYXR0cnMpO1xuICAgICAgICB9XG5cblxuICAgICAgICBmdW5jdGlvbiB1cGRhdGVJbnB1dChldmVudCkge1xuICAgICAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICAgIGlmIChuZ01vZGVsLiRwcmlzdGluZSkge1xuICAgICAgICAgICAgbmdNb2RlbC4kZGlydHkgPSB0cnVlO1xuICAgICAgICAgICAgbmdNb2RlbC4kcHJpc3RpbmUgPSBmYWxzZTtcbiAgICAgICAgICAgIGVsZW1lbnQucmVtb3ZlQ2xhc3MoUFJJU1RJTkVfQ0xBU1MpLmFkZENsYXNzKERJUlRZX0NMQVNTKTtcbiAgICAgICAgICAgIGlmIChwYXJlbnRGb3JtKSB7XG4gICAgICAgICAgICAgIHBhcmVudEZvcm0uJHNldERpcnR5KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBuZ01vZGVsLiRyZW5kZXIoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiBjbGVhcigpIHtcbiAgICAgICAgICBpZiAocGlja2VyKSB7XG4gICAgICAgICAgICBwaWNrZXIucmVtb3ZlKCk7XG4gICAgICAgICAgICBwaWNrZXIgPSBudWxsO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoY29udGFpbmVyKSB7XG4gICAgICAgICAgICBjb250YWluZXIucmVtb3ZlKCk7XG4gICAgICAgICAgICBjb250YWluZXIgPSBudWxsO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChwaWNrZXJJRCkge1xuICAgICAgICAgIHNjb3BlLiRvbigncGlja2VyVXBkYXRlJywgZnVuY3Rpb24gKGV2ZW50LCBwaWNrZXJJRHMsIGRhdGEpIHtcbiAgICAgICAgICAgIGlmIChldmVudElzRm9yUGlja2VyKHBpY2tlcklEcywgcGlja2VySUQpKSB7XG4gICAgICAgICAgICAgIGlmIChwaWNrZXIpIHtcbiAgICAgICAgICAgICAgICAvL05lZWQgdG8gaGFuZGxlIHNpdHVhdGlvbiB3aGVyZSB0aGUgZGF0YSBjaGFuZ2VkIGJ1dCB0aGUgcGlja2VyIGlzIGN1cnJlbnRseSBvcGVuLlxuICAgICAgICAgICAgICAgIC8vVG8gaGFuZGxlIHRoaXMsIHdlIGNhbiBjcmVhdGUgdGhlIGlubmVyIHBpY2tlciB3aXRoIGEgcmFuZG9tIElELCB0aGVuIGZvcndhcmRcbiAgICAgICAgICAgICAgICAvL2FueSBldmVudHMgcmVjZWl2ZWQgdG8gaXQuXG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdmFyIHZhbGlkYXRlUmVxdWlyZWQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICBpZiAoYW5ndWxhci5pc0RlZmluZWQoZGF0YS5taW5EYXRlKSkge1xuICAgICAgICAgICAgICAgICAgc2V0TWluKGRhdGEubWluRGF0ZSk7XG4gICAgICAgICAgICAgICAgICB2YWxpZGF0ZVJlcXVpcmVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGFuZ3VsYXIuaXNEZWZpbmVkKGRhdGEubWF4RGF0ZSkpIHtcbiAgICAgICAgICAgICAgICAgIHNldE1heChkYXRhLm1heERhdGUpO1xuICAgICAgICAgICAgICAgICAgdmFsaWRhdGVSZXF1aXJlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgaWYgKGFuZ3VsYXIuaXNEZWZpbmVkKGRhdGEubWluVmlldykpIHtcbiAgICAgICAgICAgICAgICAgIGF0dHJzLm1pblZpZXcgPSBkYXRhLm1pblZpZXc7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChhbmd1bGFyLmlzRGVmaW5lZChkYXRhLm1heFZpZXcpKSB7XG4gICAgICAgICAgICAgICAgICBhdHRycy5tYXhWaWV3ID0gZGF0YS5tYXhWaWV3O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBhdHRycy52aWV3ID0gZGF0YS52aWV3IHx8IGF0dHJzLnZpZXc7XG5cbiAgICAgICAgICAgICAgICBpZiAodmFsaWRhdGVSZXF1aXJlZCkge1xuICAgICAgICAgICAgICAgICAgbmdNb2RlbC4kdmFsaWRhdGUoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGFuZ3VsYXIuaXNEZWZpbmVkKGRhdGEuZm9ybWF0KSkge1xuICAgICAgICAgICAgICAgICAgZm9ybWF0ID0gYXR0cnMuZm9ybWF0ID0gZGF0YS5mb3JtYXQgfHwgZGF0ZVRpbWVDb25maWcuZm9ybWF0O1xuICAgICAgICAgICAgICAgICAgbmdNb2RlbC4kbW9kZWxWYWx1ZSA9IC0xOyAvL1RyaWdnZXJzIGZvcm1hdHRlcnMuIFRoaXMgdmFsdWUgd2lsbCBiZSBkaXNjYXJkZWQuXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGdldFRlbXBsYXRlKCk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZ1bmN0aW9uIHNob3dQaWNrZXIoKSB7XG4gICAgICAgICAgaWYgKHBpY2tlcikge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH1cbiAgICAgICAgICAvLyBjcmVhdGUgcGlja2VyIGVsZW1lbnRcbiAgICAgICAgICBwaWNrZXIgPSAkY29tcGlsZSh0ZW1wbGF0ZSkoc2NvcGUpO1xuICAgICAgICAgIHNjb3BlLiRkaWdlc3QoKTtcblxuICAgICAgICAgIC8vSWYgdGhlIHBpY2tlciBoYXMgYWxyZWFkeSBiZWVuIHNob3duIGJlZm9yZSB0aGVuIHdlIHNob3VsZG4ndCBiZSBiaW5kaW5nIHRvIGV2ZW50cywgYXMgdGhlc2UgZXZlbnRzIGFyZSBhbHJlYWR5IGJvdW5kIHRvIGluIHRoaXMgc2NvcGUuXG4gICAgICAgICAgaWYgKCFzaG93bk9uY2UpIHtcbiAgICAgICAgICAgIHNjb3BlLiRvbignc2V0RGF0ZScsIGZ1bmN0aW9uIChldmVudCwgZGF0ZSwgdmlldykge1xuICAgICAgICAgICAgICB1cGRhdGVJbnB1dChldmVudCk7XG4gICAgICAgICAgICAgIGlmIChkYXRlQ2hhbmdlKSB7XG4gICAgICAgICAgICAgICAgZGF0ZUNoYW5nZShhdHRycy5uZ01vZGVsLCBkYXRlKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBpZiAoZGlzbWlzcyAmJiB2aWV3c1t2aWV3cy5sZW5ndGggLSAxXSA9PT0gdmlldykge1xuICAgICAgICAgICAgICAgIGNsZWFyKCk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBzY29wZS4kb24oJ2hpZGVQaWNrZXInLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgIGVsZW1lbnQudHJpZ2dlckhhbmRsZXIoJ2JsdXInKTtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBzY29wZS4kb24oJyRkZXN0cm95JywgY2xlYXIpO1xuXG4gICAgICAgICAgICBzaG93bk9uY2UgPSB0cnVlO1xuICAgICAgICAgIH1cblxuXG4gICAgICAgICAgLy8gbW92ZSBwaWNrZXIgYmVsb3cgaW5wdXQgZWxlbWVudFxuXG4gICAgICAgICAgaWYgKHBvc2l0aW9uID09PSAnYWJzb2x1dGUnKSB7XG4gICAgICAgICAgICB2YXIgcG9zID0gZWxlbWVudFswXS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICAgICAgICAgIC8vIFN1cHBvcnQgSUU4XG4gICAgICAgICAgICB2YXIgaGVpZ2h0ID0gcG9zLmhlaWdodCB8fCBlbGVtZW50WzBdLm9mZnNldEhlaWdodDtcbiAgICAgICAgICAgIHBpY2tlci5jc3Moe3RvcDogKHBvcy50b3AgKyBoZWlnaHQpICsgJ3B4JywgbGVmdDogcG9zLmxlZnQgKyAncHgnLCBkaXNwbGF5OiAnYmxvY2snLCBwb3NpdGlvbjogcG9zaXRpb259KTtcbiAgICAgICAgICAgIGJvZHkuYXBwZW5kKHBpY2tlcik7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vIHJlbGF0aXZlXG4gICAgICAgICAgICBjb250YWluZXIgPSBhbmd1bGFyLmVsZW1lbnQoJzxkaXYgZGF0ZS1waWNrZXItd3JhcHBlcj48L2Rpdj4nKTtcbiAgICAgICAgICAgIGVsZW1lbnRbMF0ucGFyZW50RWxlbWVudC5pbnNlcnRCZWZvcmUoY29udGFpbmVyWzBdLCBlbGVtZW50WzBdKTtcbiAgICAgICAgICAgIGNvbnRhaW5lci5hcHBlbmQocGlja2VyKTtcbiAgICAgICAgICAgIC8vICAgICAgICAgIHRoaXMgYXBwcm9hY2ggZG9lc24ndCB3b3JrXG4gICAgICAgICAgICAvLyAgICAgICAgICBlbGVtZW50LmJlZm9yZShwaWNrZXIpO1xuICAgICAgICAgICAgcGlja2VyLmNzcyh7dG9wOiBlbGVtZW50WzBdLm9mZnNldEhlaWdodCArICdweCcsIGRpc3BsYXk6ICdibG9jayd9KTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcGlja2VyLmJpbmQoJ21vdXNlZG93bicsIGZ1bmN0aW9uIChldnQpIHtcbiAgICAgICAgICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgZWxlbWVudC5iaW5kKCdmb2N1cycsIHNob3dQaWNrZXIpO1xuICAgICAgICBlbGVtZW50LmJpbmQoJ2JsdXInLCBjbGVhcik7XG4gICAgICAgIGdldFRlbXBsYXRlKCk7XG4gICAgICB9XG4gICAgfTtcbiAgfV0pO1xuLy99KSk7XG5cbmFuZ3VsYXIubW9kdWxlKCdkYXRlUGlja2VyJykucnVuKFsnJHRlbXBsYXRlQ2FjaGUnLCBmdW5jdGlvbigkdGVtcGxhdGVDYWNoZSkge1xuJHRlbXBsYXRlQ2FjaGUucHV0KCd0ZW1wbGF0ZXMvZGF0ZXBpY2tlci5odG1sJyxcbiAgICBcIjxkaXYgbmctc3dpdGNoPVxcXCJ2aWV3XFxcIj5cXHJcIiArXG4gICAgXCJcXG5cIiArXG4gICAgXCIgIDxkaXYgbmctc3dpdGNoLXdoZW49XFxcImRhdGVcXFwiPlxcclwiICtcbiAgICBcIlxcblwiICtcbiAgICBcIiAgICA8dGFibGU+XFxyXCIgK1xuICAgIFwiXFxuXCIgK1xuICAgIFwiICAgICAgPHRoZWFkPlxcclwiICtcbiAgICBcIlxcblwiICtcbiAgICBcIiAgICAgIDx0cj5cXHJcIiArXG4gICAgXCJcXG5cIiArXG4gICAgXCIgICAgICAgIDx0aCBuZy1jbGljaz1cXFwicHJldigpXFxcIj4mbHNhcXVvOzwvdGg+XFxyXCIgK1xuICAgIFwiXFxuXCIgK1xuICAgIFwiICAgICAgICA8dGggY29sc3Bhbj1cXFwiNVxcXCIgY2xhc3M9XFxcInN3aXRjaFxcXCIgbmctY2xpY2s9XFxcInNldFZpZXcoJ21vbnRoJylcXFwiIG5nLWJpbmQ9XFxcImRhdGV8bUZvcm1hdDonWVlZWSBNTU1NJzp0elxcXCI+PC90aD5cXHJcIiArXG4gICAgXCJcXG5cIiArXG4gICAgXCIgICAgICAgIDx0aCBuZy1jbGljaz1cXFwibmV4dCgpXFxcIj4mcnNhcXVvOzwvaT48L3RoPlxcclwiICtcbiAgICBcIlxcblwiICtcbiAgICBcIiAgICAgIDwvdHI+XFxyXCIgK1xuICAgIFwiXFxuXCIgK1xuICAgIFwiICAgICAgPHRyPlxcclwiICtcbiAgICBcIlxcblwiICtcbiAgICBcIiAgICAgICAgPHRoIG5nLXJlcGVhdD1cXFwiZGF5IGluIHdlZWtkYXlzXFxcIiBzdHlsZT1cXFwib3ZlcmZsb3c6IGhpZGRlblxcXCIgbmctYmluZD1cXFwiZGF5fG1Gb3JtYXQ6J2RkZCc6dHpcXFwiPjwvdGg+XFxyXCIgK1xuICAgIFwiXFxuXCIgK1xuICAgIFwiICAgICAgPC90cj5cXHJcIiArXG4gICAgXCJcXG5cIiArXG4gICAgXCIgICAgICA8L3RoZWFkPlxcclwiICtcbiAgICBcIlxcblwiICtcbiAgICBcIiAgICAgIDx0Ym9keT5cXHJcIiArXG4gICAgXCJcXG5cIiArXG4gICAgXCIgICAgICA8dHIgbmctcmVwZWF0PVxcXCJ3ZWVrIGluIHdlZWtzXFxcIiBuZy1pbml0PVxcXCIkaW5kZXgyID0gJGluZGV4XFxcIj5cXHJcIiArXG4gICAgXCJcXG5cIiArXG4gICAgXCIgICAgICAgIDx0ZCBuZy1yZXBlYXQ9XFxcImRheSBpbiB3ZWVrXFxcIj5cXHJcIiArXG4gICAgXCJcXG5cIiArXG4gICAgXCIgICAgICAgICAgPHNwYW5cXHJcIiArXG4gICAgXCJcXG5cIiArXG4gICAgXCIgICAgICAgICAgICBuZy1jbGFzcz1cXFwiY2xhc3Nlc1skaW5kZXgyXVskaW5kZXhdXFxcIlxcclwiICtcbiAgICBcIlxcblwiICtcbiAgICBcIiAgICAgICAgICAgIG5nLWNsaWNrPVxcXCJzZWxlY3REYXRlKGRheSlcXFwiIG5nLWJpbmQ9XFxcImRheXxtRm9ybWF0OidERCc6dHpcXFwiPjwvc3Bhbj5cXHJcIiArXG4gICAgXCJcXG5cIiArXG4gICAgXCIgICAgICAgIDwvdGQ+XFxyXCIgK1xuICAgIFwiXFxuXCIgK1xuICAgIFwiICAgICAgPC90cj5cXHJcIiArXG4gICAgXCJcXG5cIiArXG4gICAgXCIgICAgICA8L3Rib2R5PlxcclwiICtcbiAgICBcIlxcblwiICtcbiAgICBcIiAgICA8L3RhYmxlPlxcclwiICtcbiAgICBcIlxcblwiICtcbiAgICBcIiAgPC9kaXY+XFxyXCIgK1xuICAgIFwiXFxuXCIgK1xuICAgIFwiICA8ZGl2IG5nLXN3aXRjaC13aGVuPVxcXCJ5ZWFyXFxcIj5cXHJcIiArXG4gICAgXCJcXG5cIiArXG4gICAgXCIgICAgPHRhYmxlPlxcclwiICtcbiAgICBcIlxcblwiICtcbiAgICBcIiAgICAgIDx0aGVhZD5cXHJcIiArXG4gICAgXCJcXG5cIiArXG4gICAgXCIgICAgICA8dHI+XFxyXCIgK1xuICAgIFwiXFxuXCIgK1xuICAgIFwiICAgICAgICA8dGggbmctY2xpY2s9XFxcInByZXYoMTApXFxcIj4mbHNhcXVvOzwvdGg+XFxyXCIgK1xuICAgIFwiXFxuXCIgK1xuICAgIFwiICAgICAgICA8dGggY29sc3Bhbj1cXFwiNVxcXCIgY2xhc3M9XFxcInN3aXRjaFxcXCJuZy1iaW5kPVxcXCJ5ZWFyc1swXS55ZWFyKCkrJyAtICcreWVhcnNbeWVhcnMubGVuZ3RoLTFdLnllYXIoKVxcXCI+PC90aD5cXHJcIiArXG4gICAgXCJcXG5cIiArXG4gICAgXCIgICAgICAgIDx0aCBuZy1jbGljaz1cXFwibmV4dCgxMClcXFwiPiZyc2FxdW87PC9pPjwvdGg+XFxyXCIgK1xuICAgIFwiXFxuXCIgK1xuICAgIFwiICAgICAgPC90cj5cXHJcIiArXG4gICAgXCJcXG5cIiArXG4gICAgXCIgICAgICA8L3RoZWFkPlxcclwiICtcbiAgICBcIlxcblwiICtcbiAgICBcIiAgICAgIDx0Ym9keT5cXHJcIiArXG4gICAgXCJcXG5cIiArXG4gICAgXCIgICAgICA8dHI+XFxyXCIgK1xuICAgIFwiXFxuXCIgK1xuICAgIFwiICAgICAgICA8dGQgY29sc3Bhbj1cXFwiN1xcXCI+XFxyXCIgK1xuICAgIFwiXFxuXCIgK1xuICAgIFwiICAgICAgICAgIDxzcGFuIG5nLWNsYXNzPVxcXCJjbGFzc2VzWyRpbmRleF1cXFwiXFxyXCIgK1xuICAgIFwiXFxuXCIgK1xuICAgIFwiICAgICAgICAgICAgICAgIG5nLXJlcGVhdD1cXFwieWVhciBpbiB5ZWFyc1xcXCJcXHJcIiArXG4gICAgXCJcXG5cIiArXG4gICAgXCIgICAgICAgICAgICAgICAgbmctY2xpY2s9XFxcInNlbGVjdERhdGUoeWVhcilcXFwiIG5nLWJpbmQ9XFxcInllYXIueWVhcigpXFxcIj48L3NwYW4+XFxyXCIgK1xuICAgIFwiXFxuXCIgK1xuICAgIFwiICAgICAgICA8L3RkPlxcclwiICtcbiAgICBcIlxcblwiICtcbiAgICBcIiAgICAgIDwvdHI+XFxyXCIgK1xuICAgIFwiXFxuXCIgK1xuICAgIFwiICAgICAgPC90Ym9keT5cXHJcIiArXG4gICAgXCJcXG5cIiArXG4gICAgXCIgICAgPC90YWJsZT5cXHJcIiArXG4gICAgXCJcXG5cIiArXG4gICAgXCIgIDwvZGl2PlxcclwiICtcbiAgICBcIlxcblwiICtcbiAgICBcIiAgPGRpdiBuZy1zd2l0Y2gtd2hlbj1cXFwibW9udGhcXFwiPlxcclwiICtcbiAgICBcIlxcblwiICtcbiAgICBcIiAgICA8dGFibGU+XFxyXCIgK1xuICAgIFwiXFxuXCIgK1xuICAgIFwiICAgICAgPHRoZWFkPlxcclwiICtcbiAgICBcIlxcblwiICtcbiAgICBcIiAgICAgIDx0cj5cXHJcIiArXG4gICAgXCJcXG5cIiArXG4gICAgXCIgICAgICAgIDx0aCBuZy1jbGljaz1cXFwicHJldigpXFxcIj4mbHNhcXVvOzwvdGg+XFxyXCIgK1xuICAgIFwiXFxuXCIgK1xuICAgIFwiICAgICAgICA8dGggY29sc3Bhbj1cXFwiNVxcXCIgY2xhc3M9XFxcInN3aXRjaFxcXCIgbmctY2xpY2s9XFxcInNldFZpZXcoJ3llYXInKVxcXCIgbmctYmluZD1cXFwiZGF0ZXxtRm9ybWF0OidZWVlZJzp0elxcXCI+PC90aD5cXHJcIiArXG4gICAgXCJcXG5cIiArXG4gICAgXCIgICAgICAgIDx0aCBuZy1jbGljaz1cXFwibmV4dCgpXFxcIj4mcnNhcXVvOzwvaT48L3RoPlxcclwiICtcbiAgICBcIlxcblwiICtcbiAgICBcIiAgICAgIDwvdHI+XFxyXCIgK1xuICAgIFwiXFxuXCIgK1xuICAgIFwiICAgICAgPC90aGVhZD5cXHJcIiArXG4gICAgXCJcXG5cIiArXG4gICAgXCIgICAgICA8dGJvZHk+XFxyXCIgK1xuICAgIFwiXFxuXCIgK1xuICAgIFwiICAgICAgPHRyPlxcclwiICtcbiAgICBcIlxcblwiICtcbiAgICBcIiAgICAgICAgPHRkIGNvbHNwYW49XFxcIjdcXFwiPlxcclwiICtcbiAgICBcIlxcblwiICtcbiAgICBcIiAgICAgICAgICA8c3BhbiBuZy1yZXBlYXQ9XFxcIm1vbnRoIGluIG1vbnRoc1xcXCJcXHJcIiArXG4gICAgXCJcXG5cIiArXG4gICAgXCIgICAgICAgICAgICAgICAgbmctY2xhc3M9XFxcImNsYXNzZXNbJGluZGV4XVxcXCJcXHJcIiArXG4gICAgXCJcXG5cIiArXG4gICAgXCIgICAgICAgICAgICAgICAgbmctY2xpY2s9XFxcInNlbGVjdERhdGUobW9udGgpXFxcIlxcclwiICtcbiAgICBcIlxcblwiICtcbiAgICBcIiAgICAgICAgICAgICAgICBuZy1iaW5kPVxcXCJtb250aHxtRm9ybWF0OidNTU0nOnR6XFxcIj48L3NwYW4+XFxyXCIgK1xuICAgIFwiXFxuXCIgK1xuICAgIFwiICAgICAgICA8L3RkPlxcclwiICtcbiAgICBcIlxcblwiICtcbiAgICBcIiAgICAgIDwvdHI+XFxyXCIgK1xuICAgIFwiXFxuXCIgK1xuICAgIFwiICAgICAgPC90Ym9keT5cXHJcIiArXG4gICAgXCJcXG5cIiArXG4gICAgXCIgICAgPC90YWJsZT5cXHJcIiArXG4gICAgXCJcXG5cIiArXG4gICAgXCIgIDwvZGl2PlxcclwiICtcbiAgICBcIlxcblwiICtcbiAgICBcIiAgPGRpdiBuZy1zd2l0Y2gtd2hlbj1cXFwiaG91cnNcXFwiPlxcclwiICtcbiAgICBcIlxcblwiICtcbiAgICBcIiAgICA8dGFibGU+XFxyXCIgK1xuICAgIFwiXFxuXCIgK1xuICAgIFwiICAgICAgPHRoZWFkPlxcclwiICtcbiAgICBcIlxcblwiICtcbiAgICBcIiAgICAgIDx0cj5cXHJcIiArXG4gICAgXCJcXG5cIiArXG4gICAgXCIgICAgICAgIDx0aCBuZy1jbGljaz1cXFwicHJldigyNClcXFwiPiZsc2FxdW87PC90aD5cXHJcIiArXG4gICAgXCJcXG5cIiArXG4gICAgXCIgICAgICAgIDx0aCBjb2xzcGFuPVxcXCI1XFxcIiBjbGFzcz1cXFwic3dpdGNoXFxcIiBuZy1jbGljaz1cXFwic2V0VmlldygnZGF0ZScpXFxcIiBuZy1iaW5kPVxcXCJkYXRlfG1Gb3JtYXQ6J0REIE1NTU0gWVlZWSc6dHpcXFwiPjwvdGg+XFxyXCIgK1xuICAgIFwiXFxuXCIgK1xuICAgIFwiICAgICAgICA8dGggbmctY2xpY2s9XFxcIm5leHQoMjQpXFxcIj4mcnNhcXVvOzwvaT48L3RoPlxcclwiICtcbiAgICBcIlxcblwiICtcbiAgICBcIiAgICAgIDwvdHI+XFxyXCIgK1xuICAgIFwiXFxuXCIgK1xuICAgIFwiICAgICAgPC90aGVhZD5cXHJcIiArXG4gICAgXCJcXG5cIiArXG4gICAgXCIgICAgICA8dGJvZHk+XFxyXCIgK1xuICAgIFwiXFxuXCIgK1xuICAgIFwiICAgICAgPHRyPlxcclwiICtcbiAgICBcIlxcblwiICtcbiAgICBcIiAgICAgICAgPHRkIGNvbHNwYW49XFxcIjdcXFwiPlxcclwiICtcbiAgICBcIlxcblwiICtcbiAgICBcIiAgICAgICAgICA8c3BhbiBuZy1yZXBlYXQ9XFxcImhvdXIgaW4gaG91cnNcXFwiXFxyXCIgK1xuICAgIFwiXFxuXCIgK1xuICAgIFwiICAgICAgICAgICAgICAgIG5nLWNsYXNzPVxcXCJjbGFzc2VzWyRpbmRleF1cXFwiXFxyXCIgK1xuICAgIFwiXFxuXCIgK1xuICAgIFwiICAgICAgICAgICAgICAgIG5nLWNsaWNrPVxcXCJzZWxlY3REYXRlKGhvdXIpXFxcIiBuZy1iaW5kPVxcXCJob3VyfG1Gb3JtYXQ6J0hIOm1tJzp0elxcXCI+PC9zcGFuPlxcclwiICtcbiAgICBcIlxcblwiICtcbiAgICBcIiAgICAgICAgPC90ZD5cXHJcIiArXG4gICAgXCJcXG5cIiArXG4gICAgXCIgICAgICA8L3RyPlxcclwiICtcbiAgICBcIlxcblwiICtcbiAgICBcIiAgICAgIDwvdGJvZHk+XFxyXCIgK1xuICAgIFwiXFxuXCIgK1xuICAgIFwiICAgIDwvdGFibGU+XFxyXCIgK1xuICAgIFwiXFxuXCIgK1xuICAgIFwiICA8L2Rpdj5cXHJcIiArXG4gICAgXCJcXG5cIiArXG4gICAgXCIgIDxkaXYgbmctc3dpdGNoLXdoZW49XFxcIm1pbnV0ZXNcXFwiPlxcclwiICtcbiAgICBcIlxcblwiICtcbiAgICBcIiAgICA8dGFibGU+XFxyXCIgK1xuICAgIFwiXFxuXCIgK1xuICAgIFwiICAgICAgPHRoZWFkPlxcclwiICtcbiAgICBcIlxcblwiICtcbiAgICBcIiAgICAgIDx0cj5cXHJcIiArXG4gICAgXCJcXG5cIiArXG4gICAgXCIgICAgICAgIDx0aCBuZy1jbGljaz1cXFwicHJldigpXFxcIj4mbHNhcXVvOzwvdGg+XFxyXCIgK1xuICAgIFwiXFxuXCIgK1xuICAgIFwiICAgICAgICA8dGggY29sc3Bhbj1cXFwiNVxcXCIgY2xhc3M9XFxcInN3aXRjaFxcXCIgbmctY2xpY2s9XFxcInNldFZpZXcoJ2hvdXJzJylcXFwiIG5nLWJpbmQ9XFxcImRhdGV8bUZvcm1hdDonREQgTU1NTSBZWVlZJzp0elxcXCI+PC90aD5cXHJcIiArXG4gICAgXCJcXG5cIiArXG4gICAgXCIgICAgICAgIDx0aCBuZy1jbGljaz1cXFwibmV4dCgpXFxcIj4mcnNhcXVvOzwvaT48L3RoPlxcclwiICtcbiAgICBcIlxcblwiICtcbiAgICBcIiAgICAgIDwvdHI+XFxyXCIgK1xuICAgIFwiXFxuXCIgK1xuICAgIFwiICAgICAgPC90aGVhZD5cXHJcIiArXG4gICAgXCJcXG5cIiArXG4gICAgXCIgICAgICA8dGJvZHk+XFxyXCIgK1xuICAgIFwiXFxuXCIgK1xuICAgIFwiICAgICAgPHRyPlxcclwiICtcbiAgICBcIlxcblwiICtcbiAgICBcIiAgICAgICAgPHRkIGNvbHNwYW49XFxcIjdcXFwiPlxcclwiICtcbiAgICBcIlxcblwiICtcbiAgICBcIiAgICAgICAgICA8c3BhbiBuZy1yZXBlYXQ9XFxcIm1pbnV0ZSBpbiBtaW51dGVzXFxcIlxcclwiICtcbiAgICBcIlxcblwiICtcbiAgICBcIiAgICAgICAgICAgICAgICBuZy1jbGFzcz1cXFwiY2xhc3Nlc1skaW5kZXhdXFxcIlxcclwiICtcbiAgICBcIlxcblwiICtcbiAgICBcIiAgICAgICAgICAgICAgICBuZy1jbGljaz1cXFwic2VsZWN0RGF0ZShtaW51dGUpXFxcIlxcclwiICtcbiAgICBcIlxcblwiICtcbiAgICBcIiAgICAgICAgICAgICAgICBuZy1iaW5kPVxcXCJtaW51dGV8bUZvcm1hdDonSEg6bW0nOnR6XFxcIj48L3NwYW4+XFxyXCIgK1xuICAgIFwiXFxuXCIgK1xuICAgIFwiICAgICAgICA8L3RkPlxcclwiICtcbiAgICBcIlxcblwiICtcbiAgICBcIiAgICAgIDwvdHI+XFxyXCIgK1xuICAgIFwiXFxuXCIgK1xuICAgIFwiICAgICAgPC90Ym9keT5cXHJcIiArXG4gICAgXCJcXG5cIiArXG4gICAgXCIgICAgPC90YWJsZT5cXHJcIiArXG4gICAgXCJcXG5cIiArXG4gICAgXCIgIDwvZGl2PlxcclwiICtcbiAgICBcIlxcblwiICtcbiAgICBcIjwvZGl2PlwiXG4gICk7XG5cbn1dKTtcbn0pKTtcbiIsIi8qKlxuICogYW5ndWxhci1oLXN3ZWV0YWxlcnQgaXMgYSBzaW1wbGUgd3JhcHBlciBvZiBzd2VldGFsZXJ0LlxuICpcbiAqIEBhdXRob3IgSG93YXJkLlp1b1xuICogQGRhdGUgICBKYW4gMzB0aCwgMjAxNlxuICpcbiAqKi9cbihmdW5jdGlvbihyb290LCBmYWN0b3J5KSB7XG4gICAgJ3VzZSBzdHJpY3QnO1xuXG4gICAgaWYgKHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZCkge1xuICAgICAgICAvLyBBTUQuIFJlZ2lzdGVyIGFzIGFuIGFub255bW91cyBtb2R1bGUuXG4gICAgICAgIGRlZmluZShbJ2FuZ3VsYXInLCAnc3dlZXRhbGVydCddLCBmdW5jdGlvbihhbmd1bGFyLCBzd2VldGFsZXJ0KSB7XG4gICAgICAgICAgICByZXR1cm4gZmFjdG9yeShhbmd1bGFyLCBzd2VldGFsZXJ0KTtcbiAgICAgICAgfSk7XG4gICAgfSBlbHNlIGlmICh0eXBlb2YgbW9kdWxlID09PSAnb2JqZWN0JyAmJiBtb2R1bGUuZXhwb3J0cykge1xuICAgICAgICAvLyBOb2RlLiBEb2VzIG5vdCB3b3JrIHdpdGggc3RyaWN0IENvbW1vbkpTLCBidXRcbiAgICAgICAgLy8gb25seSBDb21tb25KUy1saWtlIGVudmlyb21lbnRzIHRoYXQgc3VwcG9ydCBtb2R1bGUuZXhwb3J0cyxcbiAgICAgICAgLy8gbGlrZSBOb2RlLlxuICAgICAgICBtb2R1bGUuZXhwb3J0cyA9IGZhY3RvcnkocmVxdWlyZSgnYW5ndWxhcicpLCByZXF1aXJlKCdzd2VldGFsZXJ0JykpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIEJyb3dzZXIgZ2xvYmFsc1xuICAgICAgICBmYWN0b3J5KHJvb3QuYW5ndWxhciwgcm9vdC5zd2VldEFsZXJ0KTtcbiAgICB9XG59KHRoaXMsIGZ1bmN0aW9uKG5nLCBzd2VldCkge1xuICAgICd1c2Ugc3RyaWN0JztcblxuICAgIHZhciBzZXJ2aWNlID0gZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgdGhpcy5zaG93ID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICB2YXIgYXJncyA9IFtdLnNsaWNlLmNhbGwoYXJndW1lbnRzLCAwKTtcbiAgICAgICAgICAgIHN3ZWV0LmFwcGx5KHVuZGVmaW5lZCwgYXJncyk7XG4gICAgICAgIH07XG5cbiAgICAgICAgbmcuZm9yRWFjaChcbiAgICAgICAgICAgIFsnc2hvd0lucHV0RXJyb3InLCAnY2xvc2UnXSxcbiAgICAgICAgICAgIGZ1bmN0aW9uKGZ1bmMpIHtcbiAgICAgICAgICAgICAgICB0aGlzW2Z1bmNdID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBhcmdzID0gW10uc2xpY2UuY2FsbChhcmd1bWVudHMsIDApO1xuICAgICAgICAgICAgICAgICAgICBzd2VldFtmdW5jXS5hcHBseSh1bmRlZmluZWQsIGFyZ3MpO1xuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9LCB0aGlzKTtcblxuICAgICAgICB0aGlzLmlzU2hvd24gPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHZhciBzd2VldEFsZXJ0RWw7XG5cbiAgICAgICAgICAgIG5nLmZvckVhY2goZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgnc3dlZXQtYWxlcnQnKSwgZnVuY3Rpb24oZWwpIHtcbiAgICAgICAgICAgICAgICBzd2VldEFsZXJ0RWwgPSBuZy5lbGVtZW50KGVsKTtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICByZXR1cm4gc3dlZXRBbGVydEVsICYmIHN3ZWV0QWxlcnRFbC5oYXNDbGFzcygndmlzaWJsZScpO1xuICAgICAgICB9O1xuICAgIH07XG5cbiAgICB2YXIgbW9kTmFtZSA9ICdoU3dlZXRBbGVydCc7XG5cbiAgICBuZy5tb2R1bGUobW9kTmFtZSwgW10pLnNlcnZpY2UoJ3N3ZWV0JywgW3NlcnZpY2VdKTtcblxuICAgIHJldHVybiBtb2ROYW1lO1xuXG59KSk7XG4iLCIvKiBhbmd1bGFyLW1vbWVudC5qcyAvIHYxLjAuMSAvIChjKSAyMDEzLCAyMDE0LCAyMDE1LCAyMDE2IFVyaSBTaGFrZWQgLyBNSVQgTGljZW5jZSAqL1xyXG5cclxuJ2Zvcm1hdCBhbWQnO1xyXG4vKiBnbG9iYWwgZGVmaW5lICovXHJcblxyXG4oZnVuY3Rpb24gKCkge1xyXG5cdCd1c2Ugc3RyaWN0JztcclxuXHJcblx0ZnVuY3Rpb24gaXNVbmRlZmluZWRPck51bGwodmFsKSB7XHJcblx0XHRyZXR1cm4gYW5ndWxhci5pc1VuZGVmaW5lZCh2YWwpIHx8IHZhbCA9PT0gbnVsbDtcclxuXHR9XHJcblxyXG5cdGZ1bmN0aW9uIHJlcXVpcmVNb21lbnQoKSB7XHJcblx0XHR0cnkge1xyXG5cdFx0XHRyZXR1cm4gcmVxdWlyZSgnbW9tZW50Jyk7IC8vIFVzaW5nIG53LmpzIG9yIGJyb3dzZXJpZnk/XHJcblx0XHR9IGNhdGNoIChlKSB7XHJcblx0XHRcdHRocm93IG5ldyBFcnJvcignUGxlYXNlIGluc3RhbGwgbW9tZW50IHZpYSBucG0uIFBsZWFzZSByZWZlcmVuY2UgdG86IGh0dHBzOi8vZ2l0aHViLmNvbS91cmlzaC9hbmd1bGFyLW1vbWVudCcpOyAvLyBBZGQgd2lraS90cm91Ymxlc2hvb3Rpbmcgc2VjdGlvbj9cclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdGZ1bmN0aW9uIGFuZ3VsYXJNb21lbnQoYW5ndWxhciwgbW9tZW50KSB7XHJcblxyXG5cdFx0aWYodHlwZW9mIG1vbWVudCA9PT0gJ3VuZGVmaW5lZCcpIHtcclxuXHRcdFx0aWYodHlwZW9mIHJlcXVpcmUgPT09ICdmdW5jdGlvbicpIHtcclxuXHRcdFx0XHRtb21lbnQgPSByZXF1aXJlTW9tZW50KCk7XHJcblx0XHRcdH1lbHNle1xyXG5cdFx0XHRcdHRocm93IG5ldyBFcnJvcignTW9tZW50IGNhbm5vdCBiZSBmb3VuZCBieSBhbmd1bGFyLW1vbWVudCEgUGxlYXNlIHJlZmVyZW5jZSB0bzogaHR0cHM6Ly9naXRodWIuY29tL3VyaXNoL2FuZ3VsYXItbW9tZW50Jyk7IC8vIEFkZCB3aWtpL3Ryb3VibGVzaG9vdGluZyBzZWN0aW9uP1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblxyXG5cdFx0LyoqXHJcblx0XHQgKiBAbmdkb2Mgb3ZlcnZpZXdcclxuXHRcdCAqIEBuYW1lIGFuZ3VsYXJNb21lbnRcclxuXHRcdCAqXHJcblx0XHQgKiBAZGVzY3JpcHRpb25cclxuXHRcdCAqIGFuZ3VsYXJNb21lbnQgbW9kdWxlIHByb3ZpZGVzIG1vbWVudC5qcyBmdW5jdGlvbmFsaXR5IGZvciBhbmd1bGFyLmpzIGFwcHMuXHJcblx0XHQgKi9cclxuXHRcdGFuZ3VsYXIubW9kdWxlKCdhbmd1bGFyTW9tZW50JywgW10pXHJcblxyXG5cdFx0LyoqXHJcblx0XHQgKiBAbmdkb2Mgb2JqZWN0XHJcblx0XHQgKiBAbmFtZSBhbmd1bGFyTW9tZW50LmNvbmZpZzphbmd1bGFyTW9tZW50Q29uZmlnXHJcblx0XHQgKlxyXG5cdFx0ICogQGRlc2NyaXB0aW9uXHJcblx0XHQgKiBDb21tb24gY29uZmlndXJhdGlvbiBvZiB0aGUgYW5ndWxhck1vbWVudCBtb2R1bGVcclxuXHRcdCAqL1xyXG5cdFx0XHQuY29uc3RhbnQoJ2FuZ3VsYXJNb21lbnRDb25maWcnLCB7XHJcblx0XHRcdFx0LyoqXHJcblx0XHRcdFx0ICogQG5nZG9jIHByb3BlcnR5XHJcblx0XHRcdFx0ICogQG5hbWUgYW5ndWxhck1vbWVudC5jb25maWcuYW5ndWxhck1vbWVudENvbmZpZyNwcmVwcm9jZXNzXHJcblx0XHRcdFx0ICogQHByb3BlcnR5T2YgYW5ndWxhck1vbWVudC5jb25maWc6YW5ndWxhck1vbWVudENvbmZpZ1xyXG5cdFx0XHRcdCAqIEByZXR1cm5zIHtmdW5jdGlvbn0gQSBwcmVwcm9jZXNzb3IgZnVuY3Rpb24gdGhhdCB3aWxsIGJlIGFwcGxpZWQgb24gYWxsIGluY29taW5nIGRhdGVzXHJcblx0XHRcdFx0ICpcclxuXHRcdFx0XHQgKiBAZGVzY3JpcHRpb25cclxuXHRcdFx0XHQgKiBEZWZpbmVzIGEgcHJlcHJvY2Vzc29yIGZ1bmN0aW9uIHRvIGFwcGx5IG9uIGFsbCBpbnB1dCBkYXRlcyAoZS5nLiB0aGUgaW5wdXQgb2YgYGFtLXRpbWUtYWdvYCxcclxuXHRcdFx0XHQgKiBgYW1DYWxlbmRhcmAsIGV0Yy4pLiBUaGUgZnVuY3Rpb24gbXVzdCByZXR1cm4gYSBgbW9tZW50YCBvYmplY3QuXHJcblx0XHRcdFx0ICpcclxuXHRcdFx0XHQgKiBAZXhhbXBsZVxyXG5cdFx0XHRcdCAqICAgLy8gQ2F1c2VzIGFuZ3VsYXItbW9tZW50IHRvIGFsd2F5cyB0cmVhdCB0aGUgaW5wdXQgdmFsdWVzIGFzIHVuaXggdGltZXN0YW1wc1xyXG5cdFx0XHRcdCAqICAgYW5ndWxhck1vbWVudENvbmZpZy5wcmVwcm9jZXNzID0gZnVuY3Rpb24odmFsdWUpIHtcclxuXHRcdFx0XHQgKiBcdCAgIHJldHVybiBtb21lbnQudW5peCh2YWx1ZSk7XHJcblx0XHRcdFx0ICogICB9XHJcblx0XHRcdFx0ICovXHJcblx0XHRcdFx0cHJlcHJvY2VzczogbnVsbCxcclxuXHJcblx0XHRcdFx0LyoqXHJcblx0XHRcdFx0ICogQG5nZG9jIHByb3BlcnR5XHJcblx0XHRcdFx0ICogQG5hbWUgYW5ndWxhck1vbWVudC5jb25maWcuYW5ndWxhck1vbWVudENvbmZpZyN0aW1lem9uZVxyXG5cdFx0XHRcdCAqIEBwcm9wZXJ0eU9mIGFuZ3VsYXJNb21lbnQuY29uZmlnOmFuZ3VsYXJNb21lbnRDb25maWdcclxuXHRcdFx0XHQgKiBAcmV0dXJucyB7c3RyaW5nfSBUaGUgZGVmYXVsdCB0aW1lem9uZVxyXG5cdFx0XHRcdCAqXHJcblx0XHRcdFx0ICogQGRlc2NyaXB0aW9uXHJcblx0XHRcdFx0ICogVGhlIGRlZmF1bHQgdGltZXpvbmUgKGUuZy4gJ0V1cm9wZS9Mb25kb24nKS4gRW1wdHkgc3RyaW5nIGJ5IGRlZmF1bHQgKGRvZXMgbm90IGFwcGx5XHJcblx0XHRcdFx0ICogYW55IHRpbWV6b25lIHNoaWZ0KS5cclxuXHRcdFx0XHQgKlxyXG5cdFx0XHRcdCAqIE5PVEU6IFRoaXMgb3B0aW9uIHJlcXVpcmVzIG1vbWVudC10aW1lem9uZSA+PSAwLjMuMC5cclxuXHRcdFx0XHQgKi9cclxuXHRcdFx0XHR0aW1lem9uZTogbnVsbCxcclxuXHJcblx0XHRcdFx0LyoqXHJcblx0XHRcdFx0ICogQG5nZG9jIHByb3BlcnR5XHJcblx0XHRcdFx0ICogQG5hbWUgYW5ndWxhck1vbWVudC5jb25maWcuYW5ndWxhck1vbWVudENvbmZpZyNmb3JtYXRcclxuXHRcdFx0XHQgKiBAcHJvcGVydHlPZiBhbmd1bGFyTW9tZW50LmNvbmZpZzphbmd1bGFyTW9tZW50Q29uZmlnXHJcblx0XHRcdFx0ICogQHJldHVybnMge3N0cmluZ30gVGhlIHByZS1jb252ZXJzaW9uIGZvcm1hdCBvZiB0aGUgZGF0ZVxyXG5cdFx0XHRcdCAqXHJcblx0XHRcdFx0ICogQGRlc2NyaXB0aW9uXHJcblx0XHRcdFx0ICogU3BlY2lmeSB0aGUgZm9ybWF0IG9mIHRoZSBpbnB1dCBkYXRlLiBFc3NlbnRpYWxseSBpdCdzIGFcclxuXHRcdFx0XHQgKiBkZWZhdWx0IGFuZCBzYXZlcyB5b3UgZnJvbSBzcGVjaWZ5aW5nIGEgZm9ybWF0IGluIGV2ZXJ5XHJcblx0XHRcdFx0ICogZWxlbWVudC4gT3ZlcnJpZGRlbiBieSBlbGVtZW50IGF0dHIuIE51bGwgYnkgZGVmYXVsdC5cclxuXHRcdFx0XHQgKi9cclxuXHRcdFx0XHRmb3JtYXQ6IG51bGwsXHJcblxyXG5cdFx0XHRcdC8qKlxyXG5cdFx0XHRcdCAqIEBuZ2RvYyBwcm9wZXJ0eVxyXG5cdFx0XHRcdCAqIEBuYW1lIGFuZ3VsYXJNb21lbnQuY29uZmlnLmFuZ3VsYXJNb21lbnRDb25maWcjc3RhdGVmdWxGaWx0ZXJzXHJcblx0XHRcdFx0ICogQHByb3BlcnR5T2YgYW5ndWxhck1vbWVudC5jb25maWc6YW5ndWxhck1vbWVudENvbmZpZ1xyXG5cdFx0XHRcdCAqIEByZXR1cm5zIHtib29sZWFufSBXaGV0aGVyIGFuZ3VsYXItbW9tZW50IGZpbHRlcnMgc2hvdWxkIGJlIHN0YXRlbGVzcyAob3Igbm90KVxyXG5cdFx0XHRcdCAqXHJcblx0XHRcdFx0ICogQGRlc2NyaXB0aW9uXHJcblx0XHRcdFx0ICogU3BlY2lmaWVzIHdoZXRoZXIgdGhlIGZpbHRlcnMgaW5jbHVkZWQgd2l0aCBhbmd1bGFyLW1vbWVudCBhcmUgc3RhdGVmdWwuXHJcblx0XHRcdFx0ICogU3RhdGVmdWwgZmlsdGVycyB3aWxsIGF1dG9tYXRpY2FsbHkgcmUtZXZhbHVhdGUgd2hlbmV2ZXIgeW91IGNoYW5nZSB0aGUgdGltZXpvbmVcclxuXHRcdFx0XHQgKiBvciBsb2NhbGUgc2V0dGluZ3MsIGJ1dCBtYXkgbmVnYXRpdmVseSBpbXBhY3QgcGVyZm9ybWFuY2UuIHRydWUgYnkgZGVmYXVsdC5cclxuXHRcdFx0XHQgKi9cclxuXHRcdFx0XHRzdGF0ZWZ1bEZpbHRlcnM6IHRydWVcclxuXHRcdFx0fSlcclxuXHJcblx0XHQvKipcclxuXHRcdCAqIEBuZ2RvYyBvYmplY3RcclxuXHRcdCAqIEBuYW1lIGFuZ3VsYXJNb21lbnQub2JqZWN0Om1vbWVudFxyXG5cdFx0ICpcclxuXHRcdCAqIEBkZXNjcmlwdGlvblxyXG5cdFx0ICogbW9tZW50IGdsb2JhbCAoYXMgcHJvdmlkZWQgYnkgdGhlIG1vbWVudC5qcyBsaWJyYXJ5KVxyXG5cdFx0ICovXHJcblx0XHRcdC5jb25zdGFudCgnbW9tZW50JywgbW9tZW50KVxyXG5cclxuXHRcdC8qKlxyXG5cdFx0ICogQG5nZG9jIG9iamVjdFxyXG5cdFx0ICogQG5hbWUgYW5ndWxhck1vbWVudC5jb25maWc6YW1UaW1lQWdvQ29uZmlnXHJcblx0XHQgKiBAbW9kdWxlIGFuZ3VsYXJNb21lbnRcclxuXHRcdCAqXHJcblx0XHQgKiBAZGVzY3JpcHRpb25cclxuXHRcdCAqIGNvbmZpZ3VyYXRpb24gc3BlY2lmaWMgdG8gdGhlIGFtVGltZUFnbyBkaXJlY3RpdmVcclxuXHRcdCAqL1xyXG5cdFx0XHQuY29uc3RhbnQoJ2FtVGltZUFnb0NvbmZpZycsIHtcclxuXHRcdFx0XHQvKipcclxuXHRcdFx0XHQgKiBAbmdkb2MgcHJvcGVydHlcclxuXHRcdFx0XHQgKiBAbmFtZSBhbmd1bGFyTW9tZW50LmNvbmZpZy5hbVRpbWVBZ29Db25maWcjd2l0aG91dFN1ZmZpeFxyXG5cdFx0XHRcdCAqIEBwcm9wZXJ0eU9mIGFuZ3VsYXJNb21lbnQuY29uZmlnOmFtVGltZUFnb0NvbmZpZ1xyXG5cdFx0XHRcdCAqIEByZXR1cm5zIHtib29sZWFufSBXaGV0aGVyIHRvIGluY2x1ZGUgYSBzdWZmaXggaW4gYW0tdGltZS1hZ28gZGlyZWN0aXZlXHJcblx0XHRcdFx0ICpcclxuXHRcdFx0XHQgKiBAZGVzY3JpcHRpb25cclxuXHRcdFx0XHQgKiBEZWZhdWx0cyB0byBmYWxzZS5cclxuXHRcdFx0XHQgKi9cclxuXHRcdFx0XHR3aXRob3V0U3VmZml4OiBmYWxzZSxcclxuXHJcblx0XHRcdFx0LyoqXHJcblx0XHRcdFx0ICogQG5nZG9jIHByb3BlcnR5XHJcblx0XHRcdFx0ICogQG5hbWUgYW5ndWxhck1vbWVudC5jb25maWcuYW1UaW1lQWdvQ29uZmlnI3NlcnZlclRpbWVcclxuXHRcdFx0XHQgKiBAcHJvcGVydHlPZiBhbmd1bGFyTW9tZW50LmNvbmZpZzphbVRpbWVBZ29Db25maWdcclxuXHRcdFx0XHQgKiBAcmV0dXJucyB7bnVtYmVyfSBTZXJ2ZXIgdGltZSBpbiBtaWxsaXNlY29uZHMgc2luY2UgdGhlIGVwb2NoXHJcblx0XHRcdFx0ICpcclxuXHRcdFx0XHQgKiBAZGVzY3JpcHRpb25cclxuXHRcdFx0XHQgKiBJZiBzZXQsIHRpbWUgYWdvIHdpbGwgYmUgY2FsY3VsYXRlZCByZWxhdGl2ZSB0byB0aGUgZ2l2ZW4gdmFsdWUuXHJcblx0XHRcdFx0ICogSWYgbnVsbCwgbG9jYWwgdGltZSB3aWxsIGJlIHVzZWQuIERlZmF1bHRzIHRvIG51bGwuXHJcblx0XHRcdFx0ICovXHJcblx0XHRcdFx0c2VydmVyVGltZTogbnVsbCxcclxuXHJcblx0XHRcdFx0LyoqXHJcblx0XHRcdFx0ICogQG5nZG9jIHByb3BlcnR5XHJcblx0XHRcdFx0ICogQG5hbWUgYW5ndWxhck1vbWVudC5jb25maWcuYW1UaW1lQWdvQ29uZmlnI3RpdGxlRm9ybWF0XHJcblx0XHRcdFx0ICogQHByb3BlcnR5T2YgYW5ndWxhck1vbWVudC5jb25maWc6YW1UaW1lQWdvQ29uZmlnXHJcblx0XHRcdFx0ICogQHJldHVybnMge3N0cmluZ30gVGhlIGZvcm1hdCBvZiB0aGUgZGF0ZSB0byBiZSBkaXNwbGF5ZWQgaW4gdGhlIHRpdGxlIG9mIHRoZSBlbGVtZW50LiBJZiBudWxsLFxyXG5cdFx0XHRcdCAqICAgICAgICB0aGUgZGlyZWN0aXZlIHNldCB0aGUgdGl0bGUgb2YgdGhlIGVsZW1lbnQuXHJcblx0XHRcdFx0ICpcclxuXHRcdFx0XHQgKiBAZGVzY3JpcHRpb25cclxuXHRcdFx0XHQgKiBUaGUgZm9ybWF0IG9mIHRoZSBkYXRlIHVzZWQgZm9yIHRoZSB0aXRsZSBvZiB0aGUgZWxlbWVudC4gbnVsbCBieSBkZWZhdWx0LlxyXG5cdFx0XHRcdCAqL1xyXG5cdFx0XHRcdHRpdGxlRm9ybWF0OiBudWxsLFxyXG5cclxuXHRcdFx0XHQvKipcclxuXHRcdFx0XHQgKiBAbmdkb2MgcHJvcGVydHlcclxuXHRcdFx0XHQgKiBAbmFtZSBhbmd1bGFyTW9tZW50LmNvbmZpZy5hbVRpbWVBZ29Db25maWcjZnVsbERhdGVUaHJlc2hvbGRcclxuXHRcdFx0XHQgKiBAcHJvcGVydHlPZiBhbmd1bGFyTW9tZW50LmNvbmZpZzphbVRpbWVBZ29Db25maWdcclxuXHRcdFx0XHQgKiBAcmV0dXJucyB7bnVtYmVyfSBUaGUgbWluaW11bSBudW1iZXIgb2YgZGF5cyBmb3Igc2hvd2luZyBhIGZ1bGwgZGF0ZSBpbnN0ZWFkIG9mIHJlbGF0aXZlIHRpbWVcclxuXHRcdFx0XHQgKlxyXG5cdFx0XHRcdCAqIEBkZXNjcmlwdGlvblxyXG5cdFx0XHRcdCAqIFRoZSB0aHJlc2hvbGQgZm9yIGRpc3BsYXlpbmcgYSBmdWxsIGRhdGUuIFRoZSBkZWZhdWx0IGlzIG51bGwsIHdoaWNoIG1lYW5zIHRoZSBkYXRlIHdpbGwgYWx3YXlzXHJcblx0XHRcdFx0ICogYmUgcmVsYXRpdmUsIGFuZCBmdWxsIGRhdGUgd2lsbCBuZXZlciBiZSBkaXNwbGF5ZWQuXHJcblx0XHRcdFx0ICovXHJcblx0XHRcdFx0ZnVsbERhdGVUaHJlc2hvbGQ6IG51bGwsXHJcblxyXG5cdFx0XHRcdC8qKlxyXG5cdFx0XHRcdCAqIEBuZ2RvYyBwcm9wZXJ0eVxyXG5cdFx0XHRcdCAqIEBuYW1lIGFuZ3VsYXJNb21lbnQuY29uZmlnLmFtVGltZUFnb0NvbmZpZyNmdWxsRGF0ZUZvcm1hdFxyXG5cdFx0XHRcdCAqIEBwcm9wZXJ0eU9mIGFuZ3VsYXJNb21lbnQuY29uZmlnOmFtVGltZUFnb0NvbmZpZ1xyXG5cdFx0XHRcdCAqIEByZXR1cm5zIHtzdHJpbmd9IFRoZSBmb3JtYXQgdG8gdXNlIHdoZW4gZGlzcGxheWluZyBhIGZ1bGwgZGF0ZS5cclxuXHRcdFx0XHQgKlxyXG5cdFx0XHRcdCAqIEBkZXNjcmlwdGlvblxyXG5cdFx0XHRcdCAqIFNwZWNpZnkgdGhlIGZvcm1hdCBvZiB0aGUgZGF0ZSB3aGVuIGRpc3BsYXllZCBhcyBmdWxsIGRhdGUuIG51bGwgYnkgZGVmYXVsdC5cclxuXHRcdFx0XHQgKi9cclxuXHRcdFx0XHRmdWxsRGF0ZUZvcm1hdDogbnVsbCxcclxuXHJcblx0XHRcdFx0ZnVsbERhdGVUaHJlc2hvbGRVbml0OiAnZGF5J1xyXG5cdFx0XHR9KVxyXG5cclxuXHRcdC8qKlxyXG5cdFx0ICogQG5nZG9jIGRpcmVjdGl2ZVxyXG5cdFx0ICogQG5hbWUgYW5ndWxhck1vbWVudC5kaXJlY3RpdmU6YW1UaW1lQWdvXHJcblx0XHQgKiBAbW9kdWxlIGFuZ3VsYXJNb21lbnRcclxuXHRcdCAqXHJcblx0XHQgKiBAcmVzdHJpY3QgQVxyXG5cdFx0ICovXHJcblx0XHRcdC5kaXJlY3RpdmUoJ2FtVGltZUFnbycsIFsnJHdpbmRvdycsICdtb21lbnQnLCAnYW1Nb21lbnQnLCAnYW1UaW1lQWdvQ29uZmlnJywgZnVuY3Rpb24gKCR3aW5kb3csIG1vbWVudCwgYW1Nb21lbnQsIGFtVGltZUFnb0NvbmZpZykge1xyXG5cclxuXHRcdFx0XHRyZXR1cm4gZnVuY3Rpb24gKHNjb3BlLCBlbGVtZW50LCBhdHRyKSB7XHJcblx0XHRcdFx0XHR2YXIgYWN0aXZlVGltZW91dCA9IG51bGw7XHJcblx0XHRcdFx0XHR2YXIgY3VycmVudFZhbHVlO1xyXG5cdFx0XHRcdFx0dmFyIHdpdGhvdXRTdWZmaXggPSBhbVRpbWVBZ29Db25maWcud2l0aG91dFN1ZmZpeDtcclxuXHRcdFx0XHRcdHZhciB0aXRsZUZvcm1hdCA9IGFtVGltZUFnb0NvbmZpZy50aXRsZUZvcm1hdDtcclxuXHRcdFx0XHRcdHZhciBmdWxsRGF0ZVRocmVzaG9sZCA9IGFtVGltZUFnb0NvbmZpZy5mdWxsRGF0ZVRocmVzaG9sZDtcclxuXHRcdFx0XHRcdHZhciBmdWxsRGF0ZUZvcm1hdCA9IGFtVGltZUFnb0NvbmZpZy5mdWxsRGF0ZUZvcm1hdDtcclxuXHRcdFx0XHRcdHZhciBmdWxsRGF0ZVRocmVzaG9sZFVuaXQgPSBhbVRpbWVBZ29Db25maWcuZnVsbERhdGVUaHJlc2hvbGRVbml0O1xyXG5cclxuXHRcdFx0XHRcdHZhciBsb2NhbERhdGUgPSBuZXcgRGF0ZSgpLmdldFRpbWUoKTtcclxuXHRcdFx0XHRcdHZhciBtb2RlbE5hbWUgPSBhdHRyLmFtVGltZUFnbztcclxuXHRcdFx0XHRcdHZhciBjdXJyZW50RnJvbTtcclxuXHRcdFx0XHRcdHZhciBpc1RpbWVFbGVtZW50ID0gKCdUSU1FJyA9PT0gZWxlbWVudFswXS5ub2RlTmFtZS50b1VwcGVyQ2FzZSgpKTtcclxuXHRcdFx0XHRcdHZhciBzZXRUaXRsZVRpbWUgPSAhZWxlbWVudC5hdHRyKCd0aXRsZScpO1xyXG5cclxuXHRcdFx0XHRcdGZ1bmN0aW9uIGdldE5vdygpIHtcclxuXHRcdFx0XHRcdFx0dmFyIG5vdztcclxuXHRcdFx0XHRcdFx0aWYgKGN1cnJlbnRGcm9tKSB7XHJcblx0XHRcdFx0XHRcdFx0bm93ID0gY3VycmVudEZyb207XHJcblx0XHRcdFx0XHRcdH0gZWxzZSBpZiAoYW1UaW1lQWdvQ29uZmlnLnNlcnZlclRpbWUpIHtcclxuXHRcdFx0XHRcdFx0XHR2YXIgbG9jYWxOb3cgPSBuZXcgRGF0ZSgpLmdldFRpbWUoKTtcclxuXHRcdFx0XHRcdFx0XHR2YXIgbm93TWlsbGlzID0gbG9jYWxOb3cgLSBsb2NhbERhdGUgKyBhbVRpbWVBZ29Db25maWcuc2VydmVyVGltZTtcclxuXHRcdFx0XHRcdFx0XHRub3cgPSBtb21lbnQobm93TWlsbGlzKTtcclxuXHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHRlbHNlIHtcclxuXHRcdFx0XHRcdFx0XHRub3cgPSBtb21lbnQoKTtcclxuXHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHRyZXR1cm4gbm93O1xyXG5cdFx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHRcdGZ1bmN0aW9uIGNhbmNlbFRpbWVyKCkge1xyXG5cdFx0XHRcdFx0XHRpZiAoYWN0aXZlVGltZW91dCkge1xyXG5cdFx0XHRcdFx0XHRcdCR3aW5kb3cuY2xlYXJUaW1lb3V0KGFjdGl2ZVRpbWVvdXQpO1xyXG5cdFx0XHRcdFx0XHRcdGFjdGl2ZVRpbWVvdXQgPSBudWxsO1xyXG5cdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdFx0ZnVuY3Rpb24gdXBkYXRlVGltZShtb21lbnRJbnN0YW5jZSkge1xyXG5cdFx0XHRcdFx0XHR2YXIgdGltZUFnbyA9IGdldE5vdygpLmRpZmYobW9tZW50SW5zdGFuY2UsIGZ1bGxEYXRlVGhyZXNob2xkVW5pdCk7XHJcblx0XHRcdFx0XHRcdHZhciBzaG93RnVsbERhdGUgPSBmdWxsRGF0ZVRocmVzaG9sZCAmJiB0aW1lQWdvID49IGZ1bGxEYXRlVGhyZXNob2xkO1xyXG5cclxuXHRcdFx0XHRcdFx0aWYgKHNob3dGdWxsRGF0ZSkge1xyXG5cdFx0XHRcdFx0XHRcdGVsZW1lbnQudGV4dChtb21lbnRJbnN0YW5jZS5mb3JtYXQoZnVsbERhdGVGb3JtYXQpKTtcclxuXHRcdFx0XHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRcdFx0XHRlbGVtZW50LnRleHQobW9tZW50SW5zdGFuY2UuZnJvbShnZXROb3coKSwgd2l0aG91dFN1ZmZpeCkpO1xyXG5cdFx0XHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdFx0XHRpZiAodGl0bGVGb3JtYXQgJiYgc2V0VGl0bGVUaW1lKSB7XHJcblx0XHRcdFx0XHRcdFx0ZWxlbWVudC5hdHRyKCd0aXRsZScsIG1vbWVudEluc3RhbmNlLmZvcm1hdCh0aXRsZUZvcm1hdCkpO1xyXG5cdFx0XHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdFx0XHRpZiAoIXNob3dGdWxsRGF0ZSkge1xyXG5cdFx0XHRcdFx0XHRcdHZhciBob3dPbGQgPSBNYXRoLmFicyhnZXROb3coKS5kaWZmKG1vbWVudEluc3RhbmNlLCAnbWludXRlJykpO1xyXG5cdFx0XHRcdFx0XHRcdHZhciBzZWNvbmRzVW50aWxVcGRhdGUgPSAzNjAwO1xyXG5cdFx0XHRcdFx0XHRcdGlmIChob3dPbGQgPCAxKSB7XHJcblx0XHRcdFx0XHRcdFx0XHRzZWNvbmRzVW50aWxVcGRhdGUgPSAxO1xyXG5cdFx0XHRcdFx0XHRcdH0gZWxzZSBpZiAoaG93T2xkIDwgNjApIHtcclxuXHRcdFx0XHRcdFx0XHRcdHNlY29uZHNVbnRpbFVwZGF0ZSA9IDMwO1xyXG5cdFx0XHRcdFx0XHRcdH0gZWxzZSBpZiAoaG93T2xkIDwgMTgwKSB7XHJcblx0XHRcdFx0XHRcdFx0XHRzZWNvbmRzVW50aWxVcGRhdGUgPSAzMDA7XHJcblx0XHRcdFx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHRcdFx0XHRhY3RpdmVUaW1lb3V0ID0gJHdpbmRvdy5zZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcclxuXHRcdFx0XHRcdFx0XHRcdHVwZGF0ZVRpbWUobW9tZW50SW5zdGFuY2UpO1xyXG5cdFx0XHRcdFx0XHRcdH0sIHNlY29uZHNVbnRpbFVwZGF0ZSAqIDEwMDApO1xyXG5cdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdFx0ZnVuY3Rpb24gdXBkYXRlRGF0ZVRpbWVBdHRyKHZhbHVlKSB7XHJcblx0XHRcdFx0XHRcdGlmIChpc1RpbWVFbGVtZW50KSB7XHJcblx0XHRcdFx0XHRcdFx0ZWxlbWVudC5hdHRyKCdkYXRldGltZScsIHZhbHVlKTtcclxuXHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHRcdGZ1bmN0aW9uIHVwZGF0ZU1vbWVudCgpIHtcclxuXHRcdFx0XHRcdFx0Y2FuY2VsVGltZXIoKTtcclxuXHRcdFx0XHRcdFx0aWYgKGN1cnJlbnRWYWx1ZSkge1xyXG5cdFx0XHRcdFx0XHRcdHZhciBtb21lbnRWYWx1ZSA9IGFtTW9tZW50LnByZXByb2Nlc3NEYXRlKGN1cnJlbnRWYWx1ZSk7XHJcblx0XHRcdFx0XHRcdFx0dXBkYXRlVGltZShtb21lbnRWYWx1ZSk7XHJcblx0XHRcdFx0XHRcdFx0dXBkYXRlRGF0ZVRpbWVBdHRyKG1vbWVudFZhbHVlLnRvSVNPU3RyaW5nKCkpO1xyXG5cdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdFx0c2NvcGUuJHdhdGNoKG1vZGVsTmFtZSwgZnVuY3Rpb24gKHZhbHVlKSB7XHJcblx0XHRcdFx0XHRcdGlmIChpc1VuZGVmaW5lZE9yTnVsbCh2YWx1ZSkgfHwgKHZhbHVlID09PSAnJykpIHtcclxuXHRcdFx0XHRcdFx0XHRjYW5jZWxUaW1lcigpO1xyXG5cdFx0XHRcdFx0XHRcdGlmIChjdXJyZW50VmFsdWUpIHtcclxuXHRcdFx0XHRcdFx0XHRcdGVsZW1lbnQudGV4dCgnJyk7XHJcblx0XHRcdFx0XHRcdFx0XHR1cGRhdGVEYXRlVGltZUF0dHIoJycpO1xyXG5cdFx0XHRcdFx0XHRcdFx0Y3VycmVudFZhbHVlID0gbnVsbDtcclxuXHRcdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcdFx0cmV0dXJuO1xyXG5cdFx0XHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdFx0XHRjdXJyZW50VmFsdWUgPSB2YWx1ZTtcclxuXHRcdFx0XHRcdFx0dXBkYXRlTW9tZW50KCk7XHJcblx0XHRcdFx0XHR9KTtcclxuXHJcblx0XHRcdFx0XHRpZiAoYW5ndWxhci5pc0RlZmluZWQoYXR0ci5hbUZyb20pKSB7XHJcblx0XHRcdFx0XHRcdHNjb3BlLiR3YXRjaChhdHRyLmFtRnJvbSwgZnVuY3Rpb24gKHZhbHVlKSB7XHJcblx0XHRcdFx0XHRcdFx0aWYgKGlzVW5kZWZpbmVkT3JOdWxsKHZhbHVlKSB8fCAodmFsdWUgPT09ICcnKSkge1xyXG5cdFx0XHRcdFx0XHRcdFx0Y3VycmVudEZyb20gPSBudWxsO1xyXG5cdFx0XHRcdFx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0XHRcdFx0XHRjdXJyZW50RnJvbSA9IG1vbWVudCh2YWx1ZSk7XHJcblx0XHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHRcdHVwZGF0ZU1vbWVudCgpO1xyXG5cdFx0XHRcdFx0XHR9KTtcclxuXHRcdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0XHRpZiAoYW5ndWxhci5pc0RlZmluZWQoYXR0ci5hbVdpdGhvdXRTdWZmaXgpKSB7XHJcblx0XHRcdFx0XHRcdHNjb3BlLiR3YXRjaChhdHRyLmFtV2l0aG91dFN1ZmZpeCwgZnVuY3Rpb24gKHZhbHVlKSB7XHJcblx0XHRcdFx0XHRcdFx0aWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ2Jvb2xlYW4nKSB7XHJcblx0XHRcdFx0XHRcdFx0XHR3aXRob3V0U3VmZml4ID0gdmFsdWU7XHJcblx0XHRcdFx0XHRcdFx0XHR1cGRhdGVNb21lbnQoKTtcclxuXHRcdFx0XHRcdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdFx0XHRcdFx0d2l0aG91dFN1ZmZpeCA9IGFtVGltZUFnb0NvbmZpZy53aXRob3V0U3VmZml4O1xyXG5cdFx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0fSk7XHJcblx0XHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdFx0YXR0ci4kb2JzZXJ2ZSgnYW1GdWxsRGF0ZVRocmVzaG9sZCcsIGZ1bmN0aW9uIChuZXdWYWx1ZSkge1xyXG5cdFx0XHRcdFx0XHRmdWxsRGF0ZVRocmVzaG9sZCA9IG5ld1ZhbHVlO1xyXG5cdFx0XHRcdFx0XHR1cGRhdGVNb21lbnQoKTtcclxuXHRcdFx0XHRcdH0pO1xyXG5cclxuXHRcdFx0XHRcdGF0dHIuJG9ic2VydmUoJ2FtRnVsbERhdGVGb3JtYXQnLCBmdW5jdGlvbiAobmV3VmFsdWUpIHtcclxuXHRcdFx0XHRcdFx0ZnVsbERhdGVGb3JtYXQgPSBuZXdWYWx1ZTtcclxuXHRcdFx0XHRcdFx0dXBkYXRlTW9tZW50KCk7XHJcblx0XHRcdFx0XHR9KTtcclxuXHJcblx0XHRcdFx0XHRhdHRyLiRvYnNlcnZlKCdhbUZ1bGxEYXRlVGhyZXNob2xkVW5pdCcsIGZ1bmN0aW9uIChuZXdWYWx1ZSkge1xyXG5cdFx0XHRcdFx0XHRmdWxsRGF0ZVRocmVzaG9sZFVuaXQgPSBuZXdWYWx1ZTtcclxuXHRcdFx0XHRcdFx0dXBkYXRlTW9tZW50KCk7XHJcblx0XHRcdFx0XHR9KTtcclxuXHJcblx0XHRcdFx0XHRzY29wZS4kb24oJyRkZXN0cm95JywgZnVuY3Rpb24gKCkge1xyXG5cdFx0XHRcdFx0XHRjYW5jZWxUaW1lcigpO1xyXG5cdFx0XHRcdFx0fSk7XHJcblxyXG5cdFx0XHRcdFx0c2NvcGUuJG9uKCdhbU1vbWVudDpsb2NhbGVDaGFuZ2VkJywgZnVuY3Rpb24gKCkge1xyXG5cdFx0XHRcdFx0XHR1cGRhdGVNb21lbnQoKTtcclxuXHRcdFx0XHRcdH0pO1xyXG5cdFx0XHRcdH07XHJcblx0XHRcdH1dKVxyXG5cclxuXHRcdC8qKlxyXG5cdFx0ICogQG5nZG9jIHNlcnZpY2VcclxuXHRcdCAqIEBuYW1lIGFuZ3VsYXJNb21lbnQuc2VydmljZS5hbU1vbWVudFxyXG5cdFx0ICogQG1vZHVsZSBhbmd1bGFyTW9tZW50XHJcblx0XHQgKi9cclxuXHRcdFx0LnNlcnZpY2UoJ2FtTW9tZW50JywgWydtb21lbnQnLCAnJHJvb3RTY29wZScsICckbG9nJywgJ2FuZ3VsYXJNb21lbnRDb25maWcnLCBmdW5jdGlvbiAobW9tZW50LCAkcm9vdFNjb3BlLCAkbG9nLCBhbmd1bGFyTW9tZW50Q29uZmlnKSB7XHJcblx0XHRcdFx0dmFyIGRlZmF1bHRUaW1lem9uZSA9IG51bGw7XHJcblxyXG5cdFx0XHRcdC8qKlxyXG5cdFx0XHRcdCAqIEBuZ2RvYyBmdW5jdGlvblxyXG5cdFx0XHRcdCAqIEBuYW1lIGFuZ3VsYXJNb21lbnQuc2VydmljZS5hbU1vbWVudCNjaGFuZ2VMb2NhbGVcclxuXHRcdFx0XHQgKiBAbWV0aG9kT2YgYW5ndWxhck1vbWVudC5zZXJ2aWNlLmFtTW9tZW50XHJcblx0XHRcdFx0ICpcclxuXHRcdFx0XHQgKiBAZGVzY3JpcHRpb25cclxuXHRcdFx0XHQgKiBDaGFuZ2VzIHRoZSBsb2NhbGUgZm9yIG1vbWVudC5qcyBhbmQgdXBkYXRlcyBhbGwgdGhlIGFtLXRpbWUtYWdvIGRpcmVjdGl2ZSBpbnN0YW5jZXNcclxuXHRcdFx0XHQgKiB3aXRoIHRoZSBuZXcgbG9jYWxlLiBBbHNvIGJyb2FkY2FzdHMgYW4gYGFtTW9tZW50OmxvY2FsZUNoYW5nZWRgIGV2ZW50IG9uICRyb290U2NvcGUuXHJcblx0XHRcdFx0ICpcclxuXHRcdFx0XHQgKiBAcGFyYW0ge3N0cmluZ30gbG9jYWxlIExvY2FsZSBjb2RlIChlLmcuIGVuLCBlcywgcnUsIHB0LWJyLCBldGMuKVxyXG5cdFx0XHRcdCAqIEBwYXJhbSB7b2JqZWN0fSBjdXN0b21pemF0aW9uIG9iamVjdCBvZiBsb2NhbGUgc3RyaW5ncyB0byBvdmVycmlkZVxyXG5cdFx0XHRcdCAqL1xyXG5cdFx0XHRcdHRoaXMuY2hhbmdlTG9jYWxlID0gZnVuY3Rpb24gKGxvY2FsZSwgY3VzdG9taXphdGlvbikge1xyXG5cdFx0XHRcdFx0dmFyIHJlc3VsdCA9IG1vbWVudC5sb2NhbGUobG9jYWxlLCBjdXN0b21pemF0aW9uKTtcclxuXHRcdFx0XHRcdGlmIChhbmd1bGFyLmlzRGVmaW5lZChsb2NhbGUpKSB7XHJcblx0XHRcdFx0XHRcdCRyb290U2NvcGUuJGJyb2FkY2FzdCgnYW1Nb21lbnQ6bG9jYWxlQ2hhbmdlZCcpO1xyXG5cclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdHJldHVybiByZXN1bHQ7XHJcblx0XHRcdFx0fTtcclxuXHJcblx0XHRcdFx0LyoqXHJcblx0XHRcdFx0ICogQG5nZG9jIGZ1bmN0aW9uXHJcblx0XHRcdFx0ICogQG5hbWUgYW5ndWxhck1vbWVudC5zZXJ2aWNlLmFtTW9tZW50I2NoYW5nZVRpbWV6b25lXHJcblx0XHRcdFx0ICogQG1ldGhvZE9mIGFuZ3VsYXJNb21lbnQuc2VydmljZS5hbU1vbWVudFxyXG5cdFx0XHRcdCAqXHJcblx0XHRcdFx0ICogQGRlc2NyaXB0aW9uXHJcblx0XHRcdFx0ICogQ2hhbmdlcyB0aGUgZGVmYXVsdCB0aW1lem9uZSBmb3IgYW1DYWxlbmRhciwgYW1EYXRlRm9ybWF0IGFuZCBhbVRpbWVBZ28uIEFsc28gYnJvYWRjYXN0cyBhblxyXG5cdFx0XHRcdCAqIGBhbU1vbWVudDp0aW1lem9uZUNoYW5nZWRgIGV2ZW50IG9uICRyb290U2NvcGUuXHJcblx0XHRcdFx0ICpcclxuXHRcdFx0XHQgKiBOb3RlOiB0aGlzIG1ldGhvZCB3b3JrcyBvbmx5IGlmIG1vbWVudC10aW1lem9uZSA+IDAuMy4wIGlzIGxvYWRlZFxyXG5cdFx0XHRcdCAqXHJcblx0XHRcdFx0ICogQHBhcmFtIHtzdHJpbmd9IHRpbWV6b25lIFRpbWV6b25lIG5hbWUgKGUuZy4gVVRDKVxyXG5cdFx0XHRcdCAqL1xyXG5cdFx0XHRcdHRoaXMuY2hhbmdlVGltZXpvbmUgPSBmdW5jdGlvbiAodGltZXpvbmUpIHtcclxuXHRcdFx0XHRcdGlmIChtb21lbnQudHogJiYgbW9tZW50LnR6LnNldERlZmF1bHQpIHtcclxuXHRcdFx0XHRcdFx0bW9tZW50LnR6LnNldERlZmF1bHQodGltZXpvbmUpO1xyXG5cdFx0XHRcdFx0XHQkcm9vdFNjb3BlLiRicm9hZGNhc3QoJ2FtTW9tZW50OnRpbWV6b25lQ2hhbmdlZCcpO1xyXG5cdFx0XHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRcdFx0JGxvZy53YXJuKCdhbmd1bGFyLW1vbWVudDogY2hhbmdlVGltZXpvbmUoKSB3b3JrcyBvbmx5IHdpdGggbW9tZW50LXRpbWV6b25lLmpzIHYwLjMuMCBvciBncmVhdGVyLicpO1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0YW5ndWxhck1vbWVudENvbmZpZy50aW1lem9uZSA9IHRpbWV6b25lO1xyXG5cdFx0XHRcdFx0ZGVmYXVsdFRpbWV6b25lID0gdGltZXpvbmU7XHJcblx0XHRcdFx0fTtcclxuXHJcblx0XHRcdFx0LyoqXHJcblx0XHRcdFx0ICogQG5nZG9jIGZ1bmN0aW9uXHJcblx0XHRcdFx0ICogQG5hbWUgYW5ndWxhck1vbWVudC5zZXJ2aWNlLmFtTW9tZW50I3ByZXByb2Nlc3NEYXRlXHJcblx0XHRcdFx0ICogQG1ldGhvZE9mIGFuZ3VsYXJNb21lbnQuc2VydmljZS5hbU1vbWVudFxyXG5cdFx0XHRcdCAqXHJcblx0XHRcdFx0ICogQGRlc2NyaXB0aW9uXHJcblx0XHRcdFx0ICogUHJlcHJvY2VzcyBhIGdpdmVuIHZhbHVlIGFuZCBjb252ZXJ0IGl0IGludG8gYSBNb21lbnQgaW5zdGFuY2UgYXBwcm9wcmlhdGUgZm9yIHVzZSBpbiB0aGVcclxuXHRcdFx0XHQgKiBhbS10aW1lLWFnbyBkaXJlY3RpdmUgYW5kIHRoZSBmaWx0ZXJzLiBUaGUgYmVoYXZpb3Igb2YgdGhpcyBmdW5jdGlvbiBjYW4gYmUgb3ZlcnJpZGVuIGJ5XHJcblx0XHRcdFx0ICogc2V0dGluZyBgYW5ndWxhck1vbWVudENvbmZpZy5wcmVwcm9jZXNzYC5cclxuXHRcdFx0XHQgKlxyXG5cdFx0XHRcdCAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGJlIHByZXByb2Nlc3NlZFxyXG5cdFx0XHRcdCAqIEByZXR1cm4ge01vbWVudH0gQSBgbW9tZW50YCBvYmplY3RcclxuXHRcdFx0XHQgKi9cclxuXHRcdFx0XHR0aGlzLnByZXByb2Nlc3NEYXRlID0gZnVuY3Rpb24gKHZhbHVlKSB7XHJcblx0XHRcdFx0XHQvLyBDb25maWd1cmUgdGhlIGRlZmF1bHQgdGltZXpvbmUgaWYgbmVlZGVkXHJcblx0XHRcdFx0XHRpZiAoZGVmYXVsdFRpbWV6b25lICE9PSBhbmd1bGFyTW9tZW50Q29uZmlnLnRpbWV6b25lKSB7XHJcblx0XHRcdFx0XHRcdHRoaXMuY2hhbmdlVGltZXpvbmUoYW5ndWxhck1vbWVudENvbmZpZy50aW1lem9uZSk7XHJcblx0XHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdFx0aWYgKGFuZ3VsYXJNb21lbnRDb25maWcucHJlcHJvY2Vzcykge1xyXG5cdFx0XHRcdFx0XHRyZXR1cm4gYW5ndWxhck1vbWVudENvbmZpZy5wcmVwcm9jZXNzKHZhbHVlKTtcclxuXHRcdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0XHRpZiAoIWlzTmFOKHBhcnNlRmxvYXQodmFsdWUpKSAmJiBpc0Zpbml0ZSh2YWx1ZSkpIHtcclxuXHRcdFx0XHRcdFx0Ly8gTWlsbGlzZWNvbmRzIHNpbmNlIHRoZSBlcG9jaFxyXG5cdFx0XHRcdFx0XHRyZXR1cm4gbW9tZW50KHBhcnNlSW50KHZhbHVlLCAxMCkpO1xyXG5cdFx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHRcdC8vIGVsc2UganVzdCByZXR1cm5zIHRoZSB2YWx1ZSBhcy1pcy5cclxuXHRcdFx0XHRcdHJldHVybiBtb21lbnQodmFsdWUpO1xyXG5cdFx0XHRcdH07XHJcblx0XHRcdH1dKVxyXG5cclxuXHRcdC8qKlxyXG5cdFx0ICogQG5nZG9jIGZpbHRlclxyXG5cdFx0ICogQG5hbWUgYW5ndWxhck1vbWVudC5maWx0ZXI6YW1QYXJzZVxyXG5cdFx0ICogQG1vZHVsZSBhbmd1bGFyTW9tZW50XHJcblx0XHQgKi9cclxuXHRcdFx0LmZpbHRlcignYW1QYXJzZScsIFsnbW9tZW50JywgZnVuY3Rpb24gKG1vbWVudCkge1xyXG5cdFx0XHRcdHJldHVybiBmdW5jdGlvbiAodmFsdWUsIGZvcm1hdCkge1xyXG5cdFx0XHRcdFx0cmV0dXJuIG1vbWVudCh2YWx1ZSwgZm9ybWF0KTtcclxuXHRcdFx0XHR9O1xyXG5cdFx0XHR9XSlcclxuXHJcblx0XHQvKipcclxuXHRcdCAqIEBuZ2RvYyBmaWx0ZXJcclxuXHRcdCAqIEBuYW1lIGFuZ3VsYXJNb21lbnQuZmlsdGVyOmFtRnJvbVVuaXhcclxuXHRcdCAqIEBtb2R1bGUgYW5ndWxhck1vbWVudFxyXG5cdFx0ICovXHJcblx0XHRcdC5maWx0ZXIoJ2FtRnJvbVVuaXgnLCBbJ21vbWVudCcsIGZ1bmN0aW9uIChtb21lbnQpIHtcclxuXHRcdFx0XHRyZXR1cm4gZnVuY3Rpb24gKHZhbHVlKSB7XHJcblx0XHRcdFx0XHRyZXR1cm4gbW9tZW50LnVuaXgodmFsdWUpO1xyXG5cdFx0XHRcdH07XHJcblx0XHRcdH1dKVxyXG5cclxuXHRcdC8qKlxyXG5cdFx0ICogQG5nZG9jIGZpbHRlclxyXG5cdFx0ICogQG5hbWUgYW5ndWxhck1vbWVudC5maWx0ZXI6YW1VdGNcclxuXHRcdCAqIEBtb2R1bGUgYW5ndWxhck1vbWVudFxyXG5cdFx0ICovXHJcblx0XHRcdC5maWx0ZXIoJ2FtVXRjJywgWydtb21lbnQnLCBmdW5jdGlvbiAobW9tZW50KSB7XHJcblx0XHRcdFx0cmV0dXJuIGZ1bmN0aW9uICh2YWx1ZSkge1xyXG5cdFx0XHRcdFx0cmV0dXJuIG1vbWVudC51dGModmFsdWUpO1xyXG5cdFx0XHRcdH07XHJcblx0XHRcdH1dKVxyXG5cclxuXHRcdC8qKlxyXG5cdFx0ICogQG5nZG9jIGZpbHRlclxyXG5cdFx0ICogQG5hbWUgYW5ndWxhck1vbWVudC5maWx0ZXI6YW1VdGNPZmZzZXRcclxuXHRcdCAqIEBtb2R1bGUgYW5ndWxhck1vbWVudFxyXG5cdFx0ICpcclxuXHRcdCAqIEBkZXNjcmlwdGlvblxyXG5cdFx0ICogQWRkcyBhIFVUQyBvZmZzZXQgdG8gdGhlIGdpdmVuIHRpbWV6b25lIG9iamVjdC4gVGhlIG9mZnNldCBjYW4gYmUgYSBudW1iZXIgb2YgbWludXRlcywgb3IgYSBzdHJpbmcgc3VjaCBhc1xyXG5cdFx0ICogJyswMzAwJywgJy0wMzAwJyBvciAnWicuXHJcblx0XHQgKi9cclxuXHRcdFx0LmZpbHRlcignYW1VdGNPZmZzZXQnLCBbJ2FtTW9tZW50JywgZnVuY3Rpb24gKGFtTW9tZW50KSB7XHJcblx0XHRcdFx0ZnVuY3Rpb24gYW1VdGNPZmZzZXQodmFsdWUsIG9mZnNldCkge1xyXG5cdFx0XHRcdFx0cmV0dXJuIGFtTW9tZW50LnByZXByb2Nlc3NEYXRlKHZhbHVlKS51dGNPZmZzZXQob2Zmc2V0KTtcclxuXHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdHJldHVybiBhbVV0Y09mZnNldDtcclxuXHRcdFx0fV0pXHJcblxyXG5cdFx0LyoqXHJcblx0XHQgKiBAbmdkb2MgZmlsdGVyXHJcblx0XHQgKiBAbmFtZSBhbmd1bGFyTW9tZW50LmZpbHRlcjphbUxvY2FsXHJcblx0XHQgKiBAbW9kdWxlIGFuZ3VsYXJNb21lbnRcclxuXHRcdCAqL1xyXG5cdFx0XHQuZmlsdGVyKCdhbUxvY2FsJywgWydtb21lbnQnLCBmdW5jdGlvbiAobW9tZW50KSB7XHJcblx0XHRcdFx0cmV0dXJuIGZ1bmN0aW9uICh2YWx1ZSkge1xyXG5cdFx0XHRcdFx0cmV0dXJuIG1vbWVudC5pc01vbWVudCh2YWx1ZSkgPyB2YWx1ZS5sb2NhbCgpIDogbnVsbDtcclxuXHRcdFx0XHR9O1xyXG5cdFx0XHR9XSlcclxuXHJcblx0XHQvKipcclxuXHRcdCAqIEBuZ2RvYyBmaWx0ZXJcclxuXHRcdCAqIEBuYW1lIGFuZ3VsYXJNb21lbnQuZmlsdGVyOmFtVGltZXpvbmVcclxuXHRcdCAqIEBtb2R1bGUgYW5ndWxhck1vbWVudFxyXG5cdFx0ICpcclxuXHRcdCAqIEBkZXNjcmlwdGlvblxyXG5cdFx0ICogQXBwbHkgYSB0aW1lem9uZSBvbnRvIGEgZ2l2ZW4gbW9tZW50IG9iamVjdCwgZS5nLiAnQW1lcmljYS9QaG9lbml4JykuXHJcblx0XHQgKlxyXG5cdFx0ICogWW91IG5lZWQgdG8gaW5jbHVkZSBtb21lbnQtdGltZXpvbmUuanMgZm9yIHRpbWV6b25lIHN1cHBvcnQuXHJcblx0XHQgKi9cclxuXHRcdFx0LmZpbHRlcignYW1UaW1lem9uZScsIFsnYW1Nb21lbnQnLCAnYW5ndWxhck1vbWVudENvbmZpZycsICckbG9nJywgZnVuY3Rpb24gKGFtTW9tZW50LCBhbmd1bGFyTW9tZW50Q29uZmlnLCAkbG9nKSB7XHJcblx0XHRcdFx0ZnVuY3Rpb24gYW1UaW1lem9uZSh2YWx1ZSwgdGltZXpvbmUpIHtcclxuXHRcdFx0XHRcdHZhciBhTW9tZW50ID0gYW1Nb21lbnQucHJlcHJvY2Vzc0RhdGUodmFsdWUpO1xyXG5cclxuXHRcdFx0XHRcdGlmICghdGltZXpvbmUpIHtcclxuXHRcdFx0XHRcdFx0cmV0dXJuIGFNb21lbnQ7XHJcblx0XHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdFx0aWYgKGFNb21lbnQudHopIHtcclxuXHRcdFx0XHRcdFx0cmV0dXJuIGFNb21lbnQudHoodGltZXpvbmUpO1xyXG5cdFx0XHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRcdFx0JGxvZy53YXJuKCdhbmd1bGFyLW1vbWVudDogbmFtZWQgdGltZXpvbmUgc3BlY2lmaWVkIGJ1dCBtb21lbnQudHooKSBpcyB1bmRlZmluZWQuIERpZCB5b3UgZm9yZ2V0IHRvIGluY2x1ZGUgbW9tZW50LXRpbWV6b25lLmpzID8nKTtcclxuXHRcdFx0XHRcdFx0cmV0dXJuIGFNb21lbnQ7XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHRyZXR1cm4gYW1UaW1lem9uZTtcclxuXHRcdFx0fV0pXHJcblxyXG5cdFx0LyoqXHJcblx0XHQgKiBAbmdkb2MgZmlsdGVyXHJcblx0XHQgKiBAbmFtZSBhbmd1bGFyTW9tZW50LmZpbHRlcjphbUNhbGVuZGFyXHJcblx0XHQgKiBAbW9kdWxlIGFuZ3VsYXJNb21lbnRcclxuXHRcdCAqL1xyXG5cdFx0XHQuZmlsdGVyKCdhbUNhbGVuZGFyJywgWydtb21lbnQnLCAnYW1Nb21lbnQnLCAnYW5ndWxhck1vbWVudENvbmZpZycsIGZ1bmN0aW9uIChtb21lbnQsIGFtTW9tZW50LCBhbmd1bGFyTW9tZW50Q29uZmlnKSB7XHJcblx0XHRcdFx0ZnVuY3Rpb24gYW1DYWxlbmRhckZpbHRlcih2YWx1ZSwgcmVmZXJlbmNlVGltZSwgZm9ybWF0cykge1xyXG5cdFx0XHRcdFx0aWYgKGlzVW5kZWZpbmVkT3JOdWxsKHZhbHVlKSkge1xyXG5cdFx0XHRcdFx0XHRyZXR1cm4gJyc7XHJcblx0XHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdFx0dmFyIGRhdGUgPSBhbU1vbWVudC5wcmVwcm9jZXNzRGF0ZSh2YWx1ZSk7XHJcblx0XHRcdFx0XHRyZXR1cm4gZGF0ZS5pc1ZhbGlkKCkgPyBkYXRlLmNhbGVuZGFyKHJlZmVyZW5jZVRpbWUsIGZvcm1hdHMpIDogJyc7XHJcblx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHQvLyBTaW5jZSBBbmd1bGFySlMgMS4zLCBmaWx0ZXJzIGhhdmUgdG8gZXhwbGljaXRseSBkZWZpbmUgYmVpbmcgc3RhdGVmdWxcclxuXHRcdFx0XHQvLyAodGhpcyBpcyBubyBsb25nZXIgdGhlIGRlZmF1bHQpLlxyXG5cdFx0XHRcdGFtQ2FsZW5kYXJGaWx0ZXIuJHN0YXRlZnVsID0gYW5ndWxhck1vbWVudENvbmZpZy5zdGF0ZWZ1bEZpbHRlcnM7XHJcblxyXG5cdFx0XHRcdHJldHVybiBhbUNhbGVuZGFyRmlsdGVyO1xyXG5cdFx0XHR9XSlcclxuXHJcblx0XHQvKipcclxuXHRcdCAqIEBuZ2RvYyBmaWx0ZXJcclxuXHRcdCAqIEBuYW1lIGFuZ3VsYXJNb21lbnQuZmlsdGVyOmFtRGlmZmVyZW5jZVxyXG5cdFx0ICogQG1vZHVsZSBhbmd1bGFyTW9tZW50XHJcblx0XHQgKi9cclxuXHRcdFx0LmZpbHRlcignYW1EaWZmZXJlbmNlJywgWydtb21lbnQnLCAnYW1Nb21lbnQnLCAnYW5ndWxhck1vbWVudENvbmZpZycsIGZ1bmN0aW9uIChtb21lbnQsIGFtTW9tZW50LCBhbmd1bGFyTW9tZW50Q29uZmlnKSB7XHJcblx0XHRcdFx0ZnVuY3Rpb24gYW1EaWZmZXJlbmNlRmlsdGVyKHZhbHVlLCBvdGhlclZhbHVlLCB1bml0LCB1c2VQcmVjaXNpb24pIHtcclxuXHRcdFx0XHRcdGlmIChpc1VuZGVmaW5lZE9yTnVsbCh2YWx1ZSkpIHtcclxuXHRcdFx0XHRcdFx0cmV0dXJuICcnO1xyXG5cdFx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHRcdHZhciBkYXRlID0gYW1Nb21lbnQucHJlcHJvY2Vzc0RhdGUodmFsdWUpO1xyXG5cdFx0XHRcdFx0dmFyIGRhdGUyID0gIWlzVW5kZWZpbmVkT3JOdWxsKG90aGVyVmFsdWUpID8gYW1Nb21lbnQucHJlcHJvY2Vzc0RhdGUob3RoZXJWYWx1ZSkgOiBtb21lbnQoKTtcclxuXHJcblx0XHRcdFx0XHRpZiAoIWRhdGUuaXNWYWxpZCgpIHx8ICFkYXRlMi5pc1ZhbGlkKCkpIHtcclxuXHRcdFx0XHRcdFx0cmV0dXJuICcnO1xyXG5cdFx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHRcdHJldHVybiBkYXRlLmRpZmYoZGF0ZTIsIHVuaXQsIHVzZVByZWNpc2lvbik7XHJcblx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHRhbURpZmZlcmVuY2VGaWx0ZXIuJHN0YXRlZnVsID0gYW5ndWxhck1vbWVudENvbmZpZy5zdGF0ZWZ1bEZpbHRlcnM7XHJcblxyXG5cdFx0XHRcdHJldHVybiBhbURpZmZlcmVuY2VGaWx0ZXI7XHJcblx0XHRcdH1dKVxyXG5cclxuXHRcdC8qKlxyXG5cdFx0ICogQG5nZG9jIGZpbHRlclxyXG5cdFx0ICogQG5hbWUgYW5ndWxhck1vbWVudC5maWx0ZXI6YW1EYXRlRm9ybWF0XHJcblx0XHQgKiBAbW9kdWxlIGFuZ3VsYXJNb21lbnRcclxuXHRcdCAqIEBmdW5jdGlvblxyXG5cdFx0ICovXHJcblx0XHRcdC5maWx0ZXIoJ2FtRGF0ZUZvcm1hdCcsIFsnbW9tZW50JywgJ2FtTW9tZW50JywgJ2FuZ3VsYXJNb21lbnRDb25maWcnLCBmdW5jdGlvbiAobW9tZW50LCBhbU1vbWVudCwgYW5ndWxhck1vbWVudENvbmZpZykge1xyXG5cdFx0XHRcdGZ1bmN0aW9uIGFtRGF0ZUZvcm1hdEZpbHRlcih2YWx1ZSwgZm9ybWF0KSB7XHJcblx0XHRcdFx0XHRpZiAoaXNVbmRlZmluZWRPck51bGwodmFsdWUpKSB7XHJcblx0XHRcdFx0XHRcdHJldHVybiAnJztcclxuXHRcdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0XHR2YXIgZGF0ZSA9IGFtTW9tZW50LnByZXByb2Nlc3NEYXRlKHZhbHVlKTtcclxuXHRcdFx0XHRcdGlmICghZGF0ZS5pc1ZhbGlkKCkpIHtcclxuXHRcdFx0XHRcdFx0cmV0dXJuICcnO1xyXG5cdFx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHRcdHJldHVybiBkYXRlLmZvcm1hdChmb3JtYXQpO1xyXG5cdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0YW1EYXRlRm9ybWF0RmlsdGVyLiRzdGF0ZWZ1bCA9IGFuZ3VsYXJNb21lbnRDb25maWcuc3RhdGVmdWxGaWx0ZXJzO1xyXG5cclxuXHRcdFx0XHRyZXR1cm4gYW1EYXRlRm9ybWF0RmlsdGVyO1xyXG5cdFx0XHR9XSlcclxuXHJcblx0XHQvKipcclxuXHRcdCAqIEBuZ2RvYyBmaWx0ZXJcclxuXHRcdCAqIEBuYW1lIGFuZ3VsYXJNb21lbnQuZmlsdGVyOmFtRHVyYXRpb25Gb3JtYXRcclxuXHRcdCAqIEBtb2R1bGUgYW5ndWxhck1vbWVudFxyXG5cdFx0ICogQGZ1bmN0aW9uXHJcblx0XHQgKi9cclxuXHRcdFx0LmZpbHRlcignYW1EdXJhdGlvbkZvcm1hdCcsIFsnbW9tZW50JywgJ2FuZ3VsYXJNb21lbnRDb25maWcnLCBmdW5jdGlvbiAobW9tZW50LCBhbmd1bGFyTW9tZW50Q29uZmlnKSB7XHJcblx0XHRcdFx0ZnVuY3Rpb24gYW1EdXJhdGlvbkZvcm1hdEZpbHRlcih2YWx1ZSwgZm9ybWF0LCBzdWZmaXgpIHtcclxuXHRcdFx0XHRcdGlmIChpc1VuZGVmaW5lZE9yTnVsbCh2YWx1ZSkpIHtcclxuXHRcdFx0XHRcdFx0cmV0dXJuICcnO1xyXG5cdFx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHRcdHJldHVybiBtb21lbnQuZHVyYXRpb24odmFsdWUsIGZvcm1hdCkuaHVtYW5pemUoc3VmZml4KTtcclxuXHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdGFtRHVyYXRpb25Gb3JtYXRGaWx0ZXIuJHN0YXRlZnVsID0gYW5ndWxhck1vbWVudENvbmZpZy5zdGF0ZWZ1bEZpbHRlcnM7XHJcblxyXG5cdFx0XHRcdHJldHVybiBhbUR1cmF0aW9uRm9ybWF0RmlsdGVyO1xyXG5cdFx0XHR9XSlcclxuXHJcblx0XHQvKipcclxuXHRcdCAqIEBuZ2RvYyBmaWx0ZXJcclxuXHRcdCAqIEBuYW1lIGFuZ3VsYXJNb21lbnQuZmlsdGVyOmFtVGltZUFnb1xyXG5cdFx0ICogQG1vZHVsZSBhbmd1bGFyTW9tZW50XHJcblx0XHQgKiBAZnVuY3Rpb25cclxuXHRcdCAqL1xyXG5cdFx0XHQuZmlsdGVyKCdhbVRpbWVBZ28nLCBbJ21vbWVudCcsICdhbU1vbWVudCcsICdhbmd1bGFyTW9tZW50Q29uZmlnJywgZnVuY3Rpb24gKG1vbWVudCwgYW1Nb21lbnQsIGFuZ3VsYXJNb21lbnRDb25maWcpIHtcclxuXHRcdFx0XHRmdW5jdGlvbiBhbVRpbWVBZ29GaWx0ZXIodmFsdWUsIHN1ZmZpeCwgZnJvbSkge1xyXG5cdFx0XHRcdFx0dmFyIGRhdGUsIGRhdGVGcm9tO1xyXG5cclxuXHRcdFx0XHRcdGlmIChpc1VuZGVmaW5lZE9yTnVsbCh2YWx1ZSkpIHtcclxuXHRcdFx0XHRcdFx0cmV0dXJuICcnO1xyXG5cdFx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHRcdHZhbHVlID0gYW1Nb21lbnQucHJlcHJvY2Vzc0RhdGUodmFsdWUpO1xyXG5cdFx0XHRcdFx0ZGF0ZSA9IG1vbWVudCh2YWx1ZSk7XHJcblx0XHRcdFx0XHRpZiAoIWRhdGUuaXNWYWxpZCgpKSB7XHJcblx0XHRcdFx0XHRcdHJldHVybiAnJztcclxuXHRcdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0XHRkYXRlRnJvbSA9IG1vbWVudChmcm9tKTtcclxuXHRcdFx0XHRcdGlmICghaXNVbmRlZmluZWRPck51bGwoZnJvbSkgJiYgZGF0ZUZyb20uaXNWYWxpZCgpKSB7XHJcblx0XHRcdFx0XHRcdHJldHVybiBkYXRlLmZyb20oZGF0ZUZyb20sIHN1ZmZpeCk7XHJcblx0XHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdFx0cmV0dXJuIGRhdGUuZnJvbU5vdyhzdWZmaXgpO1xyXG5cdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0YW1UaW1lQWdvRmlsdGVyLiRzdGF0ZWZ1bCA9IGFuZ3VsYXJNb21lbnRDb25maWcuc3RhdGVmdWxGaWx0ZXJzO1xyXG5cclxuXHRcdFx0XHRyZXR1cm4gYW1UaW1lQWdvRmlsdGVyO1xyXG5cdFx0XHR9XSlcclxuXHJcblx0XHQvKipcclxuXHRcdCAqIEBuZ2RvYyBmaWx0ZXJcclxuXHRcdCAqIEBuYW1lIGFuZ3VsYXJNb21lbnQuZmlsdGVyOmFtU3VidHJhY3RcclxuXHRcdCAqIEBtb2R1bGUgYW5ndWxhck1vbWVudFxyXG5cdFx0ICogQGZ1bmN0aW9uXHJcblx0XHQgKi9cclxuXHRcdFx0LmZpbHRlcignYW1TdWJ0cmFjdCcsIFsnbW9tZW50JywgJ2FuZ3VsYXJNb21lbnRDb25maWcnLCBmdW5jdGlvbiAobW9tZW50LCBhbmd1bGFyTW9tZW50Q29uZmlnKSB7XHJcblx0XHRcdFx0ZnVuY3Rpb24gYW1TdWJ0cmFjdEZpbHRlcih2YWx1ZSwgYW1vdW50LCB0eXBlKSB7XHJcblxyXG5cdFx0XHRcdFx0aWYgKGlzVW5kZWZpbmVkT3JOdWxsKHZhbHVlKSkge1xyXG5cdFx0XHRcdFx0XHRyZXR1cm4gJyc7XHJcblx0XHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdFx0cmV0dXJuIG1vbWVudCh2YWx1ZSkuc3VidHJhY3QocGFyc2VJbnQoYW1vdW50LCAxMCksIHR5cGUpO1xyXG5cdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0YW1TdWJ0cmFjdEZpbHRlci4kc3RhdGVmdWwgPSBhbmd1bGFyTW9tZW50Q29uZmlnLnN0YXRlZnVsRmlsdGVycztcclxuXHJcblx0XHRcdFx0cmV0dXJuIGFtU3VidHJhY3RGaWx0ZXI7XHJcblx0XHRcdH1dKVxyXG5cclxuXHRcdC8qKlxyXG5cdFx0ICogQG5nZG9jIGZpbHRlclxyXG5cdFx0ICogQG5hbWUgYW5ndWxhck1vbWVudC5maWx0ZXI6YW1BZGRcclxuXHRcdCAqIEBtb2R1bGUgYW5ndWxhck1vbWVudFxyXG5cdFx0ICogQGZ1bmN0aW9uXHJcblx0XHQgKi9cclxuXHRcdFx0LmZpbHRlcignYW1BZGQnLCBbJ21vbWVudCcsICdhbmd1bGFyTW9tZW50Q29uZmlnJywgZnVuY3Rpb24gKG1vbWVudCwgYW5ndWxhck1vbWVudENvbmZpZykge1xyXG5cdFx0XHRcdGZ1bmN0aW9uIGFtQWRkRmlsdGVyKHZhbHVlLCBhbW91bnQsIHR5cGUpIHtcclxuXHJcblx0XHRcdFx0XHRpZiAoaXNVbmRlZmluZWRPck51bGwodmFsdWUpKSB7XHJcblx0XHRcdFx0XHRcdHJldHVybiAnJztcclxuXHRcdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0XHRyZXR1cm4gbW9tZW50KHZhbHVlKS5hZGQocGFyc2VJbnQoYW1vdW50LCAxMCksIHR5cGUpO1xyXG5cdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0YW1BZGRGaWx0ZXIuJHN0YXRlZnVsID0gYW5ndWxhck1vbWVudENvbmZpZy5zdGF0ZWZ1bEZpbHRlcnM7XHJcblxyXG5cdFx0XHRcdHJldHVybiBhbUFkZEZpbHRlcjtcclxuXHRcdFx0fV0pXHJcblxyXG5cdFx0LyoqXHJcblx0XHQgKiBAbmdkb2MgZmlsdGVyXHJcblx0XHQgKiBAbmFtZSBhbmd1bGFyTW9tZW50LmZpbHRlcjphbVN0YXJ0T2ZcclxuXHRcdCAqIEBtb2R1bGUgYW5ndWxhck1vbWVudFxyXG5cdFx0ICogQGZ1bmN0aW9uXHJcblx0XHQgKi9cclxuXHRcdFx0LmZpbHRlcignYW1TdGFydE9mJywgWydtb21lbnQnLCAnYW5ndWxhck1vbWVudENvbmZpZycsIGZ1bmN0aW9uIChtb21lbnQsIGFuZ3VsYXJNb21lbnRDb25maWcpIHtcclxuXHRcdFx0XHRmdW5jdGlvbiBhbVN0YXJ0T2ZGaWx0ZXIodmFsdWUsIHR5cGUpIHtcclxuXHJcblx0XHRcdFx0XHRpZiAoaXNVbmRlZmluZWRPck51bGwodmFsdWUpKSB7XHJcblx0XHRcdFx0XHRcdHJldHVybiAnJztcclxuXHRcdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0XHRyZXR1cm4gbW9tZW50KHZhbHVlKS5zdGFydE9mKHR5cGUpO1xyXG5cdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0YW1TdGFydE9mRmlsdGVyLiRzdGF0ZWZ1bCA9IGFuZ3VsYXJNb21lbnRDb25maWcuc3RhdGVmdWxGaWx0ZXJzO1xyXG5cclxuXHRcdFx0XHRyZXR1cm4gYW1TdGFydE9mRmlsdGVyO1xyXG5cdFx0XHR9XSlcclxuXHJcblx0XHQvKipcclxuXHRcdCAqIEBuZ2RvYyBmaWx0ZXJcclxuXHRcdCAqIEBuYW1lIGFuZ3VsYXJNb21lbnQuZmlsdGVyOmFtRW5kT2ZcclxuXHRcdCAqIEBtb2R1bGUgYW5ndWxhck1vbWVudFxyXG5cdFx0ICogQGZ1bmN0aW9uXHJcblx0XHQgKi9cclxuXHRcdFx0LmZpbHRlcignYW1FbmRPZicsIFsnbW9tZW50JywgJ2FuZ3VsYXJNb21lbnRDb25maWcnLCBmdW5jdGlvbiAobW9tZW50LCBhbmd1bGFyTW9tZW50Q29uZmlnKSB7XHJcblx0XHRcdFx0ZnVuY3Rpb24gYW1FbmRPZkZpbHRlcih2YWx1ZSwgdHlwZSkge1xyXG5cclxuXHRcdFx0XHRcdGlmIChpc1VuZGVmaW5lZE9yTnVsbCh2YWx1ZSkpIHtcclxuXHRcdFx0XHRcdFx0cmV0dXJuICcnO1xyXG5cdFx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHRcdHJldHVybiBtb21lbnQodmFsdWUpLmVuZE9mKHR5cGUpO1xyXG5cdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0YW1FbmRPZkZpbHRlci4kc3RhdGVmdWwgPSBhbmd1bGFyTW9tZW50Q29uZmlnLnN0YXRlZnVsRmlsdGVycztcclxuXHJcblx0XHRcdFx0cmV0dXJuIGFtRW5kT2ZGaWx0ZXI7XHJcbiBcdFx0XHR9XSk7XHJcblxyXG5cdFx0cmV0dXJuICdhbmd1bGFyTW9tZW50JztcclxuXHR9XHJcblxyXG5cdHZhciBpc0VsZWN0cm9uID0gd2luZG93ICYmIHdpbmRvdy5wcm9jZXNzICYmIHdpbmRvdy5wcm9jZXNzLnR5cGU7XHJcblx0aWYgKHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZCkge1xyXG5cdFx0ZGVmaW5lKFsnYW5ndWxhcicsICdtb21lbnQnXSwgYW5ndWxhck1vbWVudCk7XHJcblx0fSBlbHNlIGlmICh0eXBlb2YgbW9kdWxlICE9PSAndW5kZWZpbmVkJyAmJiBtb2R1bGUgJiYgbW9kdWxlLmV4cG9ydHMgJiYgKHR5cGVvZiByZXF1aXJlID09PSAnZnVuY3Rpb24nKSAmJiAhaXNFbGVjdHJvbikge1xyXG5cdFx0bW9kdWxlLmV4cG9ydHMgPSBhbmd1bGFyTW9tZW50KHJlcXVpcmUoJ2FuZ3VsYXInKSwgcmVxdWlyZSgnbW9tZW50JykpO1xyXG5cdH0gZWxzZSB7XHJcblx0XHRhbmd1bGFyTW9tZW50KGFuZ3VsYXIsICh0eXBlb2YgZ2xvYmFsICE9PSAndW5kZWZpbmVkJyA/IGdsb2JhbCA6IHdpbmRvdykubW9tZW50KTtcclxuXHR9XHJcbn0pKCk7XHJcbiIsIi8qKlxuICogQGxpY2Vuc2UgQW5ndWxhckpTIHYxLjYuMVxuICogKGMpIDIwMTAtMjAxNiBHb29nbGUsIEluYy4gaHR0cDovL2FuZ3VsYXJqcy5vcmdcbiAqIExpY2Vuc2U6IE1JVFxuICovXG4oZnVuY3Rpb24od2luZG93LCBhbmd1bGFyKSB7J3VzZSBzdHJpY3QnO1xuXG4vKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqXG4gKiAgICAgQW55IGNvbW1pdHMgdG8gdGhpcyBmaWxlIHNob3VsZCBiZSByZXZpZXdlZCB3aXRoIHNlY3VyaXR5IGluIG1pbmQuICAqXG4gKiAgIENoYW5nZXMgdG8gdGhpcyBmaWxlIGNhbiBwb3RlbnRpYWxseSBjcmVhdGUgc2VjdXJpdHkgdnVsbmVyYWJpbGl0aWVzLiAqXG4gKiAgICAgICAgICBBbiBhcHByb3ZhbCBmcm9tIDIgQ29yZSBtZW1iZXJzIHdpdGggaGlzdG9yeSBvZiBtb2RpZnlpbmcgICAgICAqXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzIGZpbGUgaXMgcmVxdWlyZWQuICAgICAgICAgICAgICAgICAgICAgICAgICAqXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqXG4gKiAgRG9lcyB0aGUgY2hhbmdlIHNvbWVob3cgYWxsb3cgZm9yIGFyYml0cmFyeSBqYXZhc2NyaXB0IHRvIGJlIGV4ZWN1dGVkPyAqXG4gKiAgICBPciBhbGxvd3MgZm9yIHNvbWVvbmUgdG8gY2hhbmdlIHRoZSBwcm90b3R5cGUgb2YgYnVpbHQtaW4gb2JqZWN0cz8gICAqXG4gKiAgICAgT3IgZ2l2ZXMgdW5kZXNpcmVkIGFjY2VzcyB0byB2YXJpYWJsZXMgbGlrZXMgZG9jdW1lbnQgb3Igd2luZG93PyAgICAqXG4gKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqL1xuXG52YXIgJHNhbml0aXplTWluRXJyID0gYW5ndWxhci4kJG1pbkVycignJHNhbml0aXplJyk7XG52YXIgYmluZDtcbnZhciBleHRlbmQ7XG52YXIgZm9yRWFjaDtcbnZhciBpc0RlZmluZWQ7XG52YXIgbG93ZXJjYXNlO1xudmFyIG5vb3A7XG52YXIgaHRtbFBhcnNlcjtcbnZhciBodG1sU2FuaXRpemVXcml0ZXI7XG5cbi8qKlxuICogQG5nZG9jIG1vZHVsZVxuICogQG5hbWUgbmdTYW5pdGl6ZVxuICogQGRlc2NyaXB0aW9uXG4gKlxuICogIyBuZ1Nhbml0aXplXG4gKlxuICogVGhlIGBuZ1Nhbml0aXplYCBtb2R1bGUgcHJvdmlkZXMgZnVuY3Rpb25hbGl0eSB0byBzYW5pdGl6ZSBIVE1MLlxuICpcbiAqXG4gKiA8ZGl2IGRvYy1tb2R1bGUtY29tcG9uZW50cz1cIm5nU2FuaXRpemVcIj48L2Rpdj5cbiAqXG4gKiBTZWUge0BsaW5rIG5nU2FuaXRpemUuJHNhbml0aXplIGAkc2FuaXRpemVgfSBmb3IgdXNhZ2UuXG4gKi9cblxuLyoqXG4gKiBAbmdkb2Mgc2VydmljZVxuICogQG5hbWUgJHNhbml0aXplXG4gKiBAa2luZCBmdW5jdGlvblxuICpcbiAqIEBkZXNjcmlwdGlvblxuICogICBTYW5pdGl6ZXMgYW4gaHRtbCBzdHJpbmcgYnkgc3RyaXBwaW5nIGFsbCBwb3RlbnRpYWxseSBkYW5nZXJvdXMgdG9rZW5zLlxuICpcbiAqICAgVGhlIGlucHV0IGlzIHNhbml0aXplZCBieSBwYXJzaW5nIHRoZSBIVE1MIGludG8gdG9rZW5zLiBBbGwgc2FmZSB0b2tlbnMgKGZyb20gYSB3aGl0ZWxpc3QpIGFyZVxuICogICB0aGVuIHNlcmlhbGl6ZWQgYmFjayB0byBwcm9wZXJseSBlc2NhcGVkIGh0bWwgc3RyaW5nLiBUaGlzIG1lYW5zIHRoYXQgbm8gdW5zYWZlIGlucHV0IGNhbiBtYWtlXG4gKiAgIGl0IGludG8gdGhlIHJldHVybmVkIHN0cmluZy5cbiAqXG4gKiAgIFRoZSB3aGl0ZWxpc3QgZm9yIFVSTCBzYW5pdGl6YXRpb24gb2YgYXR0cmlidXRlIHZhbHVlcyBpcyBjb25maWd1cmVkIHVzaW5nIHRoZSBmdW5jdGlvbnNcbiAqICAgYGFIcmVmU2FuaXRpemF0aW9uV2hpdGVsaXN0YCBhbmQgYGltZ1NyY1Nhbml0aXphdGlvbldoaXRlbGlzdGAgb2Yge0BsaW5rIG5nLiRjb21waWxlUHJvdmlkZXJcbiAqICAgYCRjb21waWxlUHJvdmlkZXJgfS5cbiAqXG4gKiAgIFRoZSBpbnB1dCBtYXkgYWxzbyBjb250YWluIFNWRyBtYXJrdXAgaWYgdGhpcyBpcyBlbmFibGVkIHZpYSB7QGxpbmsgJHNhbml0aXplUHJvdmlkZXJ9LlxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBodG1sIEhUTUwgaW5wdXQuXG4gKiBAcmV0dXJucyB7c3RyaW5nfSBTYW5pdGl6ZWQgSFRNTC5cbiAqXG4gKiBAZXhhbXBsZVxuICAgPGV4YW1wbGUgbW9kdWxlPVwic2FuaXRpemVFeGFtcGxlXCIgZGVwcz1cImFuZ3VsYXItc2FuaXRpemUuanNcIiBuYW1lPVwic2FuaXRpemUtc2VydmljZVwiPlxuICAgPGZpbGUgbmFtZT1cImluZGV4Lmh0bWxcIj5cbiAgICAgPHNjcmlwdD5cbiAgICAgICAgIGFuZ3VsYXIubW9kdWxlKCdzYW5pdGl6ZUV4YW1wbGUnLCBbJ25nU2FuaXRpemUnXSlcbiAgICAgICAgICAgLmNvbnRyb2xsZXIoJ0V4YW1wbGVDb250cm9sbGVyJywgWyckc2NvcGUnLCAnJHNjZScsIGZ1bmN0aW9uKCRzY29wZSwgJHNjZSkge1xuICAgICAgICAgICAgICRzY29wZS5zbmlwcGV0ID1cbiAgICAgICAgICAgICAgICc8cCBzdHlsZT1cImNvbG9yOmJsdWVcIj5hbiBodG1sXFxuJyArXG4gICAgICAgICAgICAgICAnPGVtIG9ubW91c2VvdmVyPVwidGhpcy50ZXh0Q29udGVudD1cXCdQV04zRCFcXCdcIj5jbGljayBoZXJlPC9lbT5cXG4nICtcbiAgICAgICAgICAgICAgICdzbmlwcGV0PC9wPic7XG4gICAgICAgICAgICAgJHNjb3BlLmRlbGliZXJhdGVseVRydXN0RGFuZ2Vyb3VzU25pcHBldCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgcmV0dXJuICRzY2UudHJ1c3RBc0h0bWwoJHNjb3BlLnNuaXBwZXQpO1xuICAgICAgICAgICAgIH07XG4gICAgICAgICAgIH1dKTtcbiAgICAgPC9zY3JpcHQ+XG4gICAgIDxkaXYgbmctY29udHJvbGxlcj1cIkV4YW1wbGVDb250cm9sbGVyXCI+XG4gICAgICAgIFNuaXBwZXQ6IDx0ZXh0YXJlYSBuZy1tb2RlbD1cInNuaXBwZXRcIiBjb2xzPVwiNjBcIiByb3dzPVwiM1wiPjwvdGV4dGFyZWE+XG4gICAgICAgPHRhYmxlPlxuICAgICAgICAgPHRyPlxuICAgICAgICAgICA8dGQ+RGlyZWN0aXZlPC90ZD5cbiAgICAgICAgICAgPHRkPkhvdzwvdGQ+XG4gICAgICAgICAgIDx0ZD5Tb3VyY2U8L3RkPlxuICAgICAgICAgICA8dGQ+UmVuZGVyZWQ8L3RkPlxuICAgICAgICAgPC90cj5cbiAgICAgICAgIDx0ciBpZD1cImJpbmQtaHRtbC13aXRoLXNhbml0aXplXCI+XG4gICAgICAgICAgIDx0ZD5uZy1iaW5kLWh0bWw8L3RkPlxuICAgICAgICAgICA8dGQ+QXV0b21hdGljYWxseSB1c2VzICRzYW5pdGl6ZTwvdGQ+XG4gICAgICAgICAgIDx0ZD48cHJlPiZsdDtkaXYgbmctYmluZC1odG1sPVwic25pcHBldFwiJmd0Ozxici8+Jmx0Oy9kaXYmZ3Q7PC9wcmU+PC90ZD5cbiAgICAgICAgICAgPHRkPjxkaXYgbmctYmluZC1odG1sPVwic25pcHBldFwiPjwvZGl2PjwvdGQ+XG4gICAgICAgICA8L3RyPlxuICAgICAgICAgPHRyIGlkPVwiYmluZC1odG1sLXdpdGgtdHJ1c3RcIj5cbiAgICAgICAgICAgPHRkPm5nLWJpbmQtaHRtbDwvdGQ+XG4gICAgICAgICAgIDx0ZD5CeXBhc3MgJHNhbml0aXplIGJ5IGV4cGxpY2l0bHkgdHJ1c3RpbmcgdGhlIGRhbmdlcm91cyB2YWx1ZTwvdGQ+XG4gICAgICAgICAgIDx0ZD5cbiAgICAgICAgICAgPHByZT4mbHQ7ZGl2IG5nLWJpbmQtaHRtbD1cImRlbGliZXJhdGVseVRydXN0RGFuZ2Vyb3VzU25pcHBldCgpXCImZ3Q7XG4mbHQ7L2RpdiZndDs8L3ByZT5cbiAgICAgICAgICAgPC90ZD5cbiAgICAgICAgICAgPHRkPjxkaXYgbmctYmluZC1odG1sPVwiZGVsaWJlcmF0ZWx5VHJ1c3REYW5nZXJvdXNTbmlwcGV0KClcIj48L2Rpdj48L3RkPlxuICAgICAgICAgPC90cj5cbiAgICAgICAgIDx0ciBpZD1cImJpbmQtZGVmYXVsdFwiPlxuICAgICAgICAgICA8dGQ+bmctYmluZDwvdGQ+XG4gICAgICAgICAgIDx0ZD5BdXRvbWF0aWNhbGx5IGVzY2FwZXM8L3RkPlxuICAgICAgICAgICA8dGQ+PHByZT4mbHQ7ZGl2IG5nLWJpbmQ9XCJzbmlwcGV0XCImZ3Q7PGJyLz4mbHQ7L2RpdiZndDs8L3ByZT48L3RkPlxuICAgICAgICAgICA8dGQ+PGRpdiBuZy1iaW5kPVwic25pcHBldFwiPjwvZGl2PjwvdGQ+XG4gICAgICAgICA8L3RyPlxuICAgICAgIDwvdGFibGU+XG4gICAgICAgPC9kaXY+XG4gICA8L2ZpbGU+XG4gICA8ZmlsZSBuYW1lPVwicHJvdHJhY3Rvci5qc1wiIHR5cGU9XCJwcm90cmFjdG9yXCI+XG4gICAgIGl0KCdzaG91bGQgc2FuaXRpemUgdGhlIGh0bWwgc25pcHBldCBieSBkZWZhdWx0JywgZnVuY3Rpb24oKSB7XG4gICAgICAgZXhwZWN0KGVsZW1lbnQoYnkuY3NzKCcjYmluZC1odG1sLXdpdGgtc2FuaXRpemUgZGl2JykpLmdldEF0dHJpYnV0ZSgnaW5uZXJIVE1MJykpLlxuICAgICAgICAgdG9CZSgnPHA+YW4gaHRtbFxcbjxlbT5jbGljayBoZXJlPC9lbT5cXG5zbmlwcGV0PC9wPicpO1xuICAgICB9KTtcblxuICAgICBpdCgnc2hvdWxkIGlubGluZSByYXcgc25pcHBldCBpZiBib3VuZCB0byBhIHRydXN0ZWQgdmFsdWUnLCBmdW5jdGlvbigpIHtcbiAgICAgICBleHBlY3QoZWxlbWVudChieS5jc3MoJyNiaW5kLWh0bWwtd2l0aC10cnVzdCBkaXYnKSkuZ2V0QXR0cmlidXRlKCdpbm5lckhUTUwnKSkuXG4gICAgICAgICB0b0JlKFwiPHAgc3R5bGU9XFxcImNvbG9yOmJsdWVcXFwiPmFuIGh0bWxcXG5cIiArXG4gICAgICAgICAgICAgIFwiPGVtIG9ubW91c2VvdmVyPVxcXCJ0aGlzLnRleHRDb250ZW50PSdQV04zRCEnXFxcIj5jbGljayBoZXJlPC9lbT5cXG5cIiArXG4gICAgICAgICAgICAgIFwic25pcHBldDwvcD5cIik7XG4gICAgIH0pO1xuXG4gICAgIGl0KCdzaG91bGQgZXNjYXBlIHNuaXBwZXQgd2l0aG91dCBhbnkgZmlsdGVyJywgZnVuY3Rpb24oKSB7XG4gICAgICAgZXhwZWN0KGVsZW1lbnQoYnkuY3NzKCcjYmluZC1kZWZhdWx0IGRpdicpKS5nZXRBdHRyaWJ1dGUoJ2lubmVySFRNTCcpKS5cbiAgICAgICAgIHRvQmUoXCImbHQ7cCBzdHlsZT1cXFwiY29sb3I6Ymx1ZVxcXCImZ3Q7YW4gaHRtbFxcblwiICtcbiAgICAgICAgICAgICAgXCImbHQ7ZW0gb25tb3VzZW92ZXI9XFxcInRoaXMudGV4dENvbnRlbnQ9J1BXTjNEISdcXFwiJmd0O2NsaWNrIGhlcmUmbHQ7L2VtJmd0O1xcblwiICtcbiAgICAgICAgICAgICAgXCJzbmlwcGV0Jmx0Oy9wJmd0O1wiKTtcbiAgICAgfSk7XG5cbiAgICAgaXQoJ3Nob3VsZCB1cGRhdGUnLCBmdW5jdGlvbigpIHtcbiAgICAgICBlbGVtZW50KGJ5Lm1vZGVsKCdzbmlwcGV0JykpLmNsZWFyKCk7XG4gICAgICAgZWxlbWVudChieS5tb2RlbCgnc25pcHBldCcpKS5zZW5kS2V5cygnbmV3IDxiIG9uY2xpY2s9XCJhbGVydCgxKVwiPnRleHQ8L2I+Jyk7XG4gICAgICAgZXhwZWN0KGVsZW1lbnQoYnkuY3NzKCcjYmluZC1odG1sLXdpdGgtc2FuaXRpemUgZGl2JykpLmdldEF0dHJpYnV0ZSgnaW5uZXJIVE1MJykpLlxuICAgICAgICAgdG9CZSgnbmV3IDxiPnRleHQ8L2I+Jyk7XG4gICAgICAgZXhwZWN0KGVsZW1lbnQoYnkuY3NzKCcjYmluZC1odG1sLXdpdGgtdHJ1c3QgZGl2JykpLmdldEF0dHJpYnV0ZSgnaW5uZXJIVE1MJykpLnRvQmUoXG4gICAgICAgICAnbmV3IDxiIG9uY2xpY2s9XCJhbGVydCgxKVwiPnRleHQ8L2I+Jyk7XG4gICAgICAgZXhwZWN0KGVsZW1lbnQoYnkuY3NzKCcjYmluZC1kZWZhdWx0IGRpdicpKS5nZXRBdHRyaWJ1dGUoJ2lubmVySFRNTCcpKS50b0JlKFxuICAgICAgICAgXCJuZXcgJmx0O2Igb25jbGljaz1cXFwiYWxlcnQoMSlcXFwiJmd0O3RleHQmbHQ7L2ImZ3Q7XCIpO1xuICAgICB9KTtcbiAgIDwvZmlsZT5cbiAgIDwvZXhhbXBsZT5cbiAqL1xuXG5cbi8qKlxuICogQG5nZG9jIHByb3ZpZGVyXG4gKiBAbmFtZSAkc2FuaXRpemVQcm92aWRlclxuICogQHRoaXNcbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIENyZWF0ZXMgYW5kIGNvbmZpZ3VyZXMge0BsaW5rICRzYW5pdGl6ZX0gaW5zdGFuY2UuXG4gKi9cbmZ1bmN0aW9uICRTYW5pdGl6ZVByb3ZpZGVyKCkge1xuICB2YXIgc3ZnRW5hYmxlZCA9IGZhbHNlO1xuXG4gIHRoaXMuJGdldCA9IFsnJCRzYW5pdGl6ZVVyaScsIGZ1bmN0aW9uKCQkc2FuaXRpemVVcmkpIHtcbiAgICBpZiAoc3ZnRW5hYmxlZCkge1xuICAgICAgZXh0ZW5kKHZhbGlkRWxlbWVudHMsIHN2Z0VsZW1lbnRzKTtcbiAgICB9XG4gICAgcmV0dXJuIGZ1bmN0aW9uKGh0bWwpIHtcbiAgICAgIHZhciBidWYgPSBbXTtcbiAgICAgIGh0bWxQYXJzZXIoaHRtbCwgaHRtbFNhbml0aXplV3JpdGVyKGJ1ZiwgZnVuY3Rpb24odXJpLCBpc0ltYWdlKSB7XG4gICAgICAgIHJldHVybiAhL151bnNhZmU6Ly50ZXN0KCQkc2FuaXRpemVVcmkodXJpLCBpc0ltYWdlKSk7XG4gICAgICB9KSk7XG4gICAgICByZXR1cm4gYnVmLmpvaW4oJycpO1xuICAgIH07XG4gIH1dO1xuXG5cbiAgLyoqXG4gICAqIEBuZ2RvYyBtZXRob2RcbiAgICogQG5hbWUgJHNhbml0aXplUHJvdmlkZXIjZW5hYmxlU3ZnXG4gICAqIEBraW5kIGZ1bmN0aW9uXG4gICAqXG4gICAqIEBkZXNjcmlwdGlvblxuICAgKiBFbmFibGVzIGEgc3Vic2V0IG9mIHN2ZyB0byBiZSBzdXBwb3J0ZWQgYnkgdGhlIHNhbml0aXplci5cbiAgICpcbiAgICogPGRpdiBjbGFzcz1cImFsZXJ0IGFsZXJ0LXdhcm5pbmdcIj5cbiAgICogICA8cD5CeSBlbmFibGluZyB0aGlzIHNldHRpbmcgd2l0aG91dCB0YWtpbmcgb3RoZXIgcHJlY2F1dGlvbnMsIHlvdSBtaWdodCBleHBvc2UgeW91clxuICAgKiAgIGFwcGxpY2F0aW9uIHRvIGNsaWNrLWhpamFja2luZyBhdHRhY2tzLiBJbiB0aGVzZSBhdHRhY2tzLCBzYW5pdGl6ZWQgc3ZnIGVsZW1lbnRzIGNvdWxkIGJlIHBvc2l0aW9uZWRcbiAgICogICBvdXRzaWRlIG9mIHRoZSBjb250YWluaW5nIGVsZW1lbnQgYW5kIGJlIHJlbmRlcmVkIG92ZXIgb3RoZXIgZWxlbWVudHMgb24gdGhlIHBhZ2UgKGUuZy4gYSBsb2dpblxuICAgKiAgIGxpbmspLiBTdWNoIGJlaGF2aW9yIGNhbiB0aGVuIHJlc3VsdCBpbiBwaGlzaGluZyBpbmNpZGVudHMuPC9wPlxuICAgKlxuICAgKiAgIDxwPlRvIHByb3RlY3QgYWdhaW5zdCB0aGVzZSwgZXhwbGljaXRseSBzZXR1cCBgb3ZlcmZsb3c6IGhpZGRlbmAgY3NzIHJ1bGUgZm9yIGFsbCBwb3RlbnRpYWwgc3ZnXG4gICAqICAgdGFncyB3aXRoaW4gdGhlIHNhbml0aXplZCBjb250ZW50OjwvcD5cbiAgICpcbiAgICogICA8YnI+XG4gICAqXG4gICAqICAgPHByZT48Y29kZT5cbiAgICogICAucm9vdE9mVGhlSW5jbHVkZWRDb250ZW50IHN2ZyB7XG4gICAqICAgICBvdmVyZmxvdzogaGlkZGVuICFpbXBvcnRhbnQ7XG4gICAqICAgfVxuICAgKiAgIDwvY29kZT48L3ByZT5cbiAgICogPC9kaXY+XG4gICAqXG4gICAqIEBwYXJhbSB7Ym9vbGVhbj19IGZsYWcgRW5hYmxlIG9yIGRpc2FibGUgU1ZHIHN1cHBvcnQgaW4gdGhlIHNhbml0aXplci5cbiAgICogQHJldHVybnMge2Jvb2xlYW58bmcuJHNhbml0aXplUHJvdmlkZXJ9IFJldHVybnMgdGhlIGN1cnJlbnRseSBjb25maWd1cmVkIHZhbHVlIGlmIGNhbGxlZFxuICAgKiAgICB3aXRob3V0IGFuIGFyZ3VtZW50IG9yIHNlbGYgZm9yIGNoYWluaW5nIG90aGVyd2lzZS5cbiAgICovXG4gIHRoaXMuZW5hYmxlU3ZnID0gZnVuY3Rpb24oZW5hYmxlU3ZnKSB7XG4gICAgaWYgKGlzRGVmaW5lZChlbmFibGVTdmcpKSB7XG4gICAgICBzdmdFbmFibGVkID0gZW5hYmxlU3ZnO1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBzdmdFbmFibGVkO1xuICAgIH1cbiAgfTtcblxuICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuICAvLyBQcml2YXRlIHN0dWZmXG4gIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG5cbiAgYmluZCA9IGFuZ3VsYXIuYmluZDtcbiAgZXh0ZW5kID0gYW5ndWxhci5leHRlbmQ7XG4gIGZvckVhY2ggPSBhbmd1bGFyLmZvckVhY2g7XG4gIGlzRGVmaW5lZCA9IGFuZ3VsYXIuaXNEZWZpbmVkO1xuICBsb3dlcmNhc2UgPSBhbmd1bGFyLmxvd2VyY2FzZTtcbiAgbm9vcCA9IGFuZ3VsYXIubm9vcDtcblxuICBodG1sUGFyc2VyID0gaHRtbFBhcnNlckltcGw7XG4gIGh0bWxTYW5pdGl6ZVdyaXRlciA9IGh0bWxTYW5pdGl6ZVdyaXRlckltcGw7XG5cbiAgLy8gUmVndWxhciBFeHByZXNzaW9ucyBmb3IgcGFyc2luZyB0YWdzIGFuZCBhdHRyaWJ1dGVzXG4gIHZhciBTVVJST0dBVEVfUEFJUl9SRUdFWFAgPSAvW1xcdUQ4MDAtXFx1REJGRl1bXFx1REMwMC1cXHVERkZGXS9nLFxuICAgIC8vIE1hdGNoIGV2ZXJ5dGhpbmcgb3V0c2lkZSBvZiBub3JtYWwgY2hhcnMgYW5kIFwiIChxdW90ZSBjaGFyYWN0ZXIpXG4gICAgTk9OX0FMUEhBTlVNRVJJQ19SRUdFWFAgPSAvKFteIy1+IHwhXSkvZztcblxuXG4gIC8vIEdvb2Qgc291cmNlIG9mIGluZm8gYWJvdXQgZWxlbWVudHMgYW5kIGF0dHJpYnV0ZXNcbiAgLy8gaHR0cDovL2Rldi53My5vcmcvaHRtbDUvc3BlYy9PdmVydmlldy5odG1sI3NlbWFudGljc1xuICAvLyBodHRwOi8vc2ltb24uaHRtbDUub3JnL2h0bWwtZWxlbWVudHNcblxuICAvLyBTYWZlIFZvaWQgRWxlbWVudHMgLSBIVE1MNVxuICAvLyBodHRwOi8vZGV2LnczLm9yZy9odG1sNS9zcGVjL092ZXJ2aWV3Lmh0bWwjdm9pZC1lbGVtZW50c1xuICB2YXIgdm9pZEVsZW1lbnRzID0gdG9NYXAoJ2FyZWEsYnIsY29sLGhyLGltZyx3YnInKTtcblxuICAvLyBFbGVtZW50cyB0aGF0IHlvdSBjYW4sIGludGVudGlvbmFsbHksIGxlYXZlIG9wZW4gKGFuZCB3aGljaCBjbG9zZSB0aGVtc2VsdmVzKVxuICAvLyBodHRwOi8vZGV2LnczLm9yZy9odG1sNS9zcGVjL092ZXJ2aWV3Lmh0bWwjb3B0aW9uYWwtdGFnc1xuICB2YXIgb3B0aW9uYWxFbmRUYWdCbG9ja0VsZW1lbnRzID0gdG9NYXAoJ2NvbGdyb3VwLGRkLGR0LGxpLHAsdGJvZHksdGQsdGZvb3QsdGgsdGhlYWQsdHInKSxcbiAgICAgIG9wdGlvbmFsRW5kVGFnSW5saW5lRWxlbWVudHMgPSB0b01hcCgncnAscnQnKSxcbiAgICAgIG9wdGlvbmFsRW5kVGFnRWxlbWVudHMgPSBleHRlbmQoe30sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb3B0aW9uYWxFbmRUYWdJbmxpbmVFbGVtZW50cyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcHRpb25hbEVuZFRhZ0Jsb2NrRWxlbWVudHMpO1xuXG4gIC8vIFNhZmUgQmxvY2sgRWxlbWVudHMgLSBIVE1MNVxuICB2YXIgYmxvY2tFbGVtZW50cyA9IGV4dGVuZCh7fSwgb3B0aW9uYWxFbmRUYWdCbG9ja0VsZW1lbnRzLCB0b01hcCgnYWRkcmVzcyxhcnRpY2xlLCcgK1xuICAgICAgICAgICdhc2lkZSxibG9ja3F1b3RlLGNhcHRpb24sY2VudGVyLGRlbCxkaXIsZGl2LGRsLGZpZ3VyZSxmaWdjYXB0aW9uLGZvb3RlcixoMSxoMixoMyxoNCxoNSwnICtcbiAgICAgICAgICAnaDYsaGVhZGVyLGhncm91cCxocixpbnMsbWFwLG1lbnUsbmF2LG9sLHByZSxzZWN0aW9uLHRhYmxlLHVsJykpO1xuXG4gIC8vIElubGluZSBFbGVtZW50cyAtIEhUTUw1XG4gIHZhciBpbmxpbmVFbGVtZW50cyA9IGV4dGVuZCh7fSwgb3B0aW9uYWxFbmRUYWdJbmxpbmVFbGVtZW50cywgdG9NYXAoJ2EsYWJicixhY3JvbnltLGIsJyArXG4gICAgICAgICAgJ2JkaSxiZG8sYmlnLGJyLGNpdGUsY29kZSxkZWwsZGZuLGVtLGZvbnQsaSxpbWcsaW5zLGtiZCxsYWJlbCxtYXAsbWFyayxxLHJ1YnkscnAscnQscywnICtcbiAgICAgICAgICAnc2FtcCxzbWFsbCxzcGFuLHN0cmlrZSxzdHJvbmcsc3ViLHN1cCx0aW1lLHR0LHUsdmFyJykpO1xuXG4gIC8vIFNWRyBFbGVtZW50c1xuICAvLyBodHRwczovL3dpa2kud2hhdHdnLm9yZy93aWtpL1Nhbml0aXphdGlvbl9ydWxlcyNzdmdfRWxlbWVudHNcbiAgLy8gTm90ZTogdGhlIGVsZW1lbnRzIGFuaW1hdGUsYW5pbWF0ZUNvbG9yLGFuaW1hdGVNb3Rpb24sYW5pbWF0ZVRyYW5zZm9ybSxzZXQgYXJlIGludGVudGlvbmFsbHkgb21pdHRlZC5cbiAgLy8gVGhleSBjYW4gcG90ZW50aWFsbHkgYWxsb3cgZm9yIGFyYml0cmFyeSBqYXZhc2NyaXB0IHRvIGJlIGV4ZWN1dGVkLiBTZWUgIzExMjkwXG4gIHZhciBzdmdFbGVtZW50cyA9IHRvTWFwKCdjaXJjbGUsZGVmcyxkZXNjLGVsbGlwc2UsZm9udC1mYWNlLGZvbnQtZmFjZS1uYW1lLGZvbnQtZmFjZS1zcmMsZyxnbHlwaCwnICtcbiAgICAgICAgICAnaGtlcm4saW1hZ2UsbGluZWFyR3JhZGllbnQsbGluZSxtYXJrZXIsbWV0YWRhdGEsbWlzc2luZy1nbHlwaCxtcGF0aCxwYXRoLHBvbHlnb24scG9seWxpbmUsJyArXG4gICAgICAgICAgJ3JhZGlhbEdyYWRpZW50LHJlY3Qsc3RvcCxzdmcsc3dpdGNoLHRleHQsdGl0bGUsdHNwYW4nKTtcblxuICAvLyBCbG9ja2VkIEVsZW1lbnRzICh3aWxsIGJlIHN0cmlwcGVkKVxuICB2YXIgYmxvY2tlZEVsZW1lbnRzID0gdG9NYXAoJ3NjcmlwdCxzdHlsZScpO1xuXG4gIHZhciB2YWxpZEVsZW1lbnRzID0gZXh0ZW5kKHt9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZvaWRFbGVtZW50cyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBibG9ja0VsZW1lbnRzLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlubGluZUVsZW1lbnRzLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9wdGlvbmFsRW5kVGFnRWxlbWVudHMpO1xuXG4gIC8vQXR0cmlidXRlcyB0aGF0IGhhdmUgaHJlZiBhbmQgaGVuY2UgbmVlZCB0byBiZSBzYW5pdGl6ZWRcbiAgdmFyIHVyaUF0dHJzID0gdG9NYXAoJ2JhY2tncm91bmQsY2l0ZSxocmVmLGxvbmdkZXNjLHNyYyx4bGluazpocmVmJyk7XG5cbiAgdmFyIGh0bWxBdHRycyA9IHRvTWFwKCdhYmJyLGFsaWduLGFsdCxheGlzLGJnY29sb3IsYm9yZGVyLGNlbGxwYWRkaW5nLGNlbGxzcGFjaW5nLGNsYXNzLGNsZWFyLCcgK1xuICAgICAgJ2NvbG9yLGNvbHMsY29sc3Bhbixjb21wYWN0LGNvb3JkcyxkaXIsZmFjZSxoZWFkZXJzLGhlaWdodCxocmVmbGFuZyxoc3BhY2UsJyArXG4gICAgICAnaXNtYXAsbGFuZyxsYW5ndWFnZSxub2hyZWYsbm93cmFwLHJlbCxyZXYscm93cyxyb3dzcGFuLHJ1bGVzLCcgK1xuICAgICAgJ3Njb3BlLHNjcm9sbGluZyxzaGFwZSxzaXplLHNwYW4sc3RhcnQsc3VtbWFyeSx0YWJpbmRleCx0YXJnZXQsdGl0bGUsdHlwZSwnICtcbiAgICAgICd2YWxpZ24sdmFsdWUsdnNwYWNlLHdpZHRoJyk7XG5cbiAgLy8gU1ZHIGF0dHJpYnV0ZXMgKHdpdGhvdXQgXCJpZFwiIGFuZCBcIm5hbWVcIiBhdHRyaWJ1dGVzKVxuICAvLyBodHRwczovL3dpa2kud2hhdHdnLm9yZy93aWtpL1Nhbml0aXphdGlvbl9ydWxlcyNzdmdfQXR0cmlidXRlc1xuICB2YXIgc3ZnQXR0cnMgPSB0b01hcCgnYWNjZW50LWhlaWdodCxhY2N1bXVsYXRlLGFkZGl0aXZlLGFscGhhYmV0aWMsYXJhYmljLWZvcm0sYXNjZW50LCcgK1xuICAgICAgJ2Jhc2VQcm9maWxlLGJib3gsYmVnaW4sYnksY2FsY01vZGUsY2FwLWhlaWdodCxjbGFzcyxjb2xvcixjb2xvci1yZW5kZXJpbmcsY29udGVudCwnICtcbiAgICAgICdjeCxjeSxkLGR4LGR5LGRlc2NlbnQsZGlzcGxheSxkdXIsZW5kLGZpbGwsZmlsbC1ydWxlLGZvbnQtZmFtaWx5LGZvbnQtc2l6ZSxmb250LXN0cmV0Y2gsJyArXG4gICAgICAnZm9udC1zdHlsZSxmb250LXZhcmlhbnQsZm9udC13ZWlnaHQsZnJvbSxmeCxmeSxnMSxnMixnbHlwaC1uYW1lLGdyYWRpZW50VW5pdHMsaGFuZ2luZywnICtcbiAgICAgICdoZWlnaHQsaG9yaXotYWR2LXgsaG9yaXotb3JpZ2luLXgsaWRlb2dyYXBoaWMsayxrZXlQb2ludHMsa2V5U3BsaW5lcyxrZXlUaW1lcyxsYW5nLCcgK1xuICAgICAgJ21hcmtlci1lbmQsbWFya2VyLW1pZCxtYXJrZXItc3RhcnQsbWFya2VySGVpZ2h0LG1hcmtlclVuaXRzLG1hcmtlcldpZHRoLG1hdGhlbWF0aWNhbCwnICtcbiAgICAgICdtYXgsbWluLG9mZnNldCxvcGFjaXR5LG9yaWVudCxvcmlnaW4sb3ZlcmxpbmUtcG9zaXRpb24sb3ZlcmxpbmUtdGhpY2tuZXNzLHBhbm9zZS0xLCcgK1xuICAgICAgJ3BhdGgscGF0aExlbmd0aCxwb2ludHMscHJlc2VydmVBc3BlY3RSYXRpbyxyLHJlZlgscmVmWSxyZXBlYXRDb3VudCxyZXBlYXREdXIsJyArXG4gICAgICAncmVxdWlyZWRFeHRlbnNpb25zLHJlcXVpcmVkRmVhdHVyZXMscmVzdGFydCxyb3RhdGUscngscnksc2xvcGUsc3RlbWgsc3RlbXYsc3RvcC1jb2xvciwnICtcbiAgICAgICdzdG9wLW9wYWNpdHksc3RyaWtldGhyb3VnaC1wb3NpdGlvbixzdHJpa2V0aHJvdWdoLXRoaWNrbmVzcyxzdHJva2Usc3Ryb2tlLWRhc2hhcnJheSwnICtcbiAgICAgICdzdHJva2UtZGFzaG9mZnNldCxzdHJva2UtbGluZWNhcCxzdHJva2UtbGluZWpvaW4sc3Ryb2tlLW1pdGVybGltaXQsc3Ryb2tlLW9wYWNpdHksJyArXG4gICAgICAnc3Ryb2tlLXdpZHRoLHN5c3RlbUxhbmd1YWdlLHRhcmdldCx0ZXh0LWFuY2hvcix0byx0cmFuc2Zvcm0sdHlwZSx1MSx1Mix1bmRlcmxpbmUtcG9zaXRpb24sJyArXG4gICAgICAndW5kZXJsaW5lLXRoaWNrbmVzcyx1bmljb2RlLHVuaWNvZGUtcmFuZ2UsdW5pdHMtcGVyLWVtLHZhbHVlcyx2ZXJzaW9uLHZpZXdCb3gsdmlzaWJpbGl0eSwnICtcbiAgICAgICd3aWR0aCx3aWR0aHMseCx4LWhlaWdodCx4MSx4Mix4bGluazphY3R1YXRlLHhsaW5rOmFyY3JvbGUseGxpbms6cm9sZSx4bGluazpzaG93LHhsaW5rOnRpdGxlLCcgK1xuICAgICAgJ3hsaW5rOnR5cGUseG1sOmJhc2UseG1sOmxhbmcseG1sOnNwYWNlLHhtbG5zLHhtbG5zOnhsaW5rLHkseTEseTIsem9vbUFuZFBhbicsIHRydWUpO1xuXG4gIHZhciB2YWxpZEF0dHJzID0gZXh0ZW5kKHt9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVyaUF0dHJzLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN2Z0F0dHJzLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGh0bWxBdHRycyk7XG5cbiAgZnVuY3Rpb24gdG9NYXAoc3RyLCBsb3dlcmNhc2VLZXlzKSB7XG4gICAgdmFyIG9iaiA9IHt9LCBpdGVtcyA9IHN0ci5zcGxpdCgnLCcpLCBpO1xuICAgIGZvciAoaSA9IDA7IGkgPCBpdGVtcy5sZW5ndGg7IGkrKykge1xuICAgICAgb2JqW2xvd2VyY2FzZUtleXMgPyBsb3dlcmNhc2UoaXRlbXNbaV0pIDogaXRlbXNbaV1dID0gdHJ1ZTtcbiAgICB9XG4gICAgcmV0dXJuIG9iajtcbiAgfVxuXG4gIHZhciBpbmVydEJvZHlFbGVtZW50O1xuICAoZnVuY3Rpb24od2luZG93KSB7XG4gICAgdmFyIGRvYztcbiAgICBpZiAod2luZG93LmRvY3VtZW50ICYmIHdpbmRvdy5kb2N1bWVudC5pbXBsZW1lbnRhdGlvbikge1xuICAgICAgZG9jID0gd2luZG93LmRvY3VtZW50LmltcGxlbWVudGF0aW9uLmNyZWF0ZUhUTUxEb2N1bWVudCgnaW5lcnQnKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhyb3cgJHNhbml0aXplTWluRXJyKCdub2luZXJ0JywgJ0NhblxcJ3QgY3JlYXRlIGFuIGluZXJ0IGh0bWwgZG9jdW1lbnQnKTtcbiAgICB9XG4gICAgdmFyIGRvY0VsZW1lbnQgPSBkb2MuZG9jdW1lbnRFbGVtZW50IHx8IGRvYy5nZXREb2N1bWVudEVsZW1lbnQoKTtcbiAgICB2YXIgYm9keUVsZW1lbnRzID0gZG9jRWxlbWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSgnYm9keScpO1xuXG4gICAgLy8gdXN1YWxseSB0aGVyZSBzaG91bGQgYmUgb25seSBvbmUgYm9keSBlbGVtZW50IGluIHRoZSBkb2N1bWVudCwgYnV0IElFIGRvZXNuJ3QgaGF2ZSBhbnksIHNvIHdlIG5lZWQgdG8gY3JlYXRlIG9uZVxuICAgIGlmIChib2R5RWxlbWVudHMubGVuZ3RoID09PSAxKSB7XG4gICAgICBpbmVydEJvZHlFbGVtZW50ID0gYm9keUVsZW1lbnRzWzBdO1xuICAgIH0gZWxzZSB7XG4gICAgICB2YXIgaHRtbCA9IGRvYy5jcmVhdGVFbGVtZW50KCdodG1sJyk7XG4gICAgICBpbmVydEJvZHlFbGVtZW50ID0gZG9jLmNyZWF0ZUVsZW1lbnQoJ2JvZHknKTtcbiAgICAgIGh0bWwuYXBwZW5kQ2hpbGQoaW5lcnRCb2R5RWxlbWVudCk7XG4gICAgICBkb2MuYXBwZW5kQ2hpbGQoaHRtbCk7XG4gICAgfVxuICB9KSh3aW5kb3cpO1xuXG4gIC8qKlxuICAgKiBAZXhhbXBsZVxuICAgKiBodG1sUGFyc2VyKGh0bWxTdHJpbmcsIHtcbiAgICogICAgIHN0YXJ0OiBmdW5jdGlvbih0YWcsIGF0dHJzKSB7fSxcbiAgICogICAgIGVuZDogZnVuY3Rpb24odGFnKSB7fSxcbiAgICogICAgIGNoYXJzOiBmdW5jdGlvbih0ZXh0KSB7fSxcbiAgICogICAgIGNvbW1lbnQ6IGZ1bmN0aW9uKHRleHQpIHt9XG4gICAqIH0pO1xuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gaHRtbCBzdHJpbmdcbiAgICogQHBhcmFtIHtvYmplY3R9IGhhbmRsZXJcbiAgICovXG4gIGZ1bmN0aW9uIGh0bWxQYXJzZXJJbXBsKGh0bWwsIGhhbmRsZXIpIHtcbiAgICBpZiAoaHRtbCA9PT0gbnVsbCB8fCBodG1sID09PSB1bmRlZmluZWQpIHtcbiAgICAgIGh0bWwgPSAnJztcbiAgICB9IGVsc2UgaWYgKHR5cGVvZiBodG1sICE9PSAnc3RyaW5nJykge1xuICAgICAgaHRtbCA9ICcnICsgaHRtbDtcbiAgICB9XG4gICAgaW5lcnRCb2R5RWxlbWVudC5pbm5lckhUTUwgPSBodG1sO1xuXG4gICAgLy9tWFNTIHByb3RlY3Rpb25cbiAgICB2YXIgbVhTU0F0dGVtcHRzID0gNTtcbiAgICBkbyB7XG4gICAgICBpZiAobVhTU0F0dGVtcHRzID09PSAwKSB7XG4gICAgICAgIHRocm93ICRzYW5pdGl6ZU1pbkVycigndWlucHV0JywgJ0ZhaWxlZCB0byBzYW5pdGl6ZSBodG1sIGJlY2F1c2UgdGhlIGlucHV0IGlzIHVuc3RhYmxlJyk7XG4gICAgICB9XG4gICAgICBtWFNTQXR0ZW1wdHMtLTtcblxuICAgICAgLy8gc3RyaXAgY3VzdG9tLW5hbWVzcGFjZWQgYXR0cmlidXRlcyBvbiBJRTw9MTFcbiAgICAgIGlmICh3aW5kb3cuZG9jdW1lbnQuZG9jdW1lbnRNb2RlKSB7XG4gICAgICAgIHN0cmlwQ3VzdG9tTnNBdHRycyhpbmVydEJvZHlFbGVtZW50KTtcbiAgICAgIH1cbiAgICAgIGh0bWwgPSBpbmVydEJvZHlFbGVtZW50LmlubmVySFRNTDsgLy90cmlnZ2VyIG1YU1NcbiAgICAgIGluZXJ0Qm9keUVsZW1lbnQuaW5uZXJIVE1MID0gaHRtbDtcbiAgICB9IHdoaWxlIChodG1sICE9PSBpbmVydEJvZHlFbGVtZW50LmlubmVySFRNTCk7XG5cbiAgICB2YXIgbm9kZSA9IGluZXJ0Qm9keUVsZW1lbnQuZmlyc3RDaGlsZDtcbiAgICB3aGlsZSAobm9kZSkge1xuICAgICAgc3dpdGNoIChub2RlLm5vZGVUeXBlKSB7XG4gICAgICAgIGNhc2UgMTogLy8gRUxFTUVOVF9OT0RFXG4gICAgICAgICAgaGFuZGxlci5zdGFydChub2RlLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCksIGF0dHJUb01hcChub2RlLmF0dHJpYnV0ZXMpKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAzOiAvLyBURVhUIE5PREVcbiAgICAgICAgICBoYW5kbGVyLmNoYXJzKG5vZGUudGV4dENvbnRlbnQpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgfVxuXG4gICAgICB2YXIgbmV4dE5vZGU7XG4gICAgICBpZiAoIShuZXh0Tm9kZSA9IG5vZGUuZmlyc3RDaGlsZCkpIHtcbiAgICAgICAgaWYgKG5vZGUubm9kZVR5cGUgPT09IDEpIHtcbiAgICAgICAgICBoYW5kbGVyLmVuZChub2RlLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkpO1xuICAgICAgICB9XG4gICAgICAgIG5leHROb2RlID0gbm9kZS5uZXh0U2libGluZztcbiAgICAgICAgaWYgKCFuZXh0Tm9kZSkge1xuICAgICAgICAgIHdoaWxlIChuZXh0Tm9kZSA9PSBudWxsKSB7XG4gICAgICAgICAgICBub2RlID0gbm9kZS5wYXJlbnROb2RlO1xuICAgICAgICAgICAgaWYgKG5vZGUgPT09IGluZXJ0Qm9keUVsZW1lbnQpIGJyZWFrO1xuICAgICAgICAgICAgbmV4dE5vZGUgPSBub2RlLm5leHRTaWJsaW5nO1xuICAgICAgICAgICAgaWYgKG5vZGUubm9kZVR5cGUgPT09IDEpIHtcbiAgICAgICAgICAgICAgaGFuZGxlci5lbmQobm9kZS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIG5vZGUgPSBuZXh0Tm9kZTtcbiAgICB9XG5cbiAgICB3aGlsZSAoKG5vZGUgPSBpbmVydEJvZHlFbGVtZW50LmZpcnN0Q2hpbGQpKSB7XG4gICAgICBpbmVydEJvZHlFbGVtZW50LnJlbW92ZUNoaWxkKG5vZGUpO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIGF0dHJUb01hcChhdHRycykge1xuICAgIHZhciBtYXAgPSB7fTtcbiAgICBmb3IgKHZhciBpID0gMCwgaWkgPSBhdHRycy5sZW5ndGg7IGkgPCBpaTsgaSsrKSB7XG4gICAgICB2YXIgYXR0ciA9IGF0dHJzW2ldO1xuICAgICAgbWFwW2F0dHIubmFtZV0gPSBhdHRyLnZhbHVlO1xuICAgIH1cbiAgICByZXR1cm4gbWFwO1xuICB9XG5cblxuICAvKipcbiAgICogRXNjYXBlcyBhbGwgcG90ZW50aWFsbHkgZGFuZ2Vyb3VzIGNoYXJhY3RlcnMsIHNvIHRoYXQgdGhlXG4gICAqIHJlc3VsdGluZyBzdHJpbmcgY2FuIGJlIHNhZmVseSBpbnNlcnRlZCBpbnRvIGF0dHJpYnV0ZSBvclxuICAgKiBlbGVtZW50IHRleHQuXG4gICAqIEBwYXJhbSB2YWx1ZVxuICAgKiBAcmV0dXJucyB7c3RyaW5nfSBlc2NhcGVkIHRleHRcbiAgICovXG4gIGZ1bmN0aW9uIGVuY29kZUVudGl0aWVzKHZhbHVlKSB7XG4gICAgcmV0dXJuIHZhbHVlLlxuICAgICAgcmVwbGFjZSgvJi9nLCAnJmFtcDsnKS5cbiAgICAgIHJlcGxhY2UoU1VSUk9HQVRFX1BBSVJfUkVHRVhQLCBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgICB2YXIgaGkgPSB2YWx1ZS5jaGFyQ29kZUF0KDApO1xuICAgICAgICB2YXIgbG93ID0gdmFsdWUuY2hhckNvZGVBdCgxKTtcbiAgICAgICAgcmV0dXJuICcmIycgKyAoKChoaSAtIDB4RDgwMCkgKiAweDQwMCkgKyAobG93IC0gMHhEQzAwKSArIDB4MTAwMDApICsgJzsnO1xuICAgICAgfSkuXG4gICAgICByZXBsYWNlKE5PTl9BTFBIQU5VTUVSSUNfUkVHRVhQLCBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgICByZXR1cm4gJyYjJyArIHZhbHVlLmNoYXJDb2RlQXQoMCkgKyAnOyc7XG4gICAgICB9KS5cbiAgICAgIHJlcGxhY2UoLzwvZywgJyZsdDsnKS5cbiAgICAgIHJlcGxhY2UoLz4vZywgJyZndDsnKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBjcmVhdGUgYW4gSFRNTC9YTUwgd3JpdGVyIHdoaWNoIHdyaXRlcyB0byBidWZmZXJcbiAgICogQHBhcmFtIHtBcnJheX0gYnVmIHVzZSBidWYuam9pbignJykgdG8gZ2V0IG91dCBzYW5pdGl6ZWQgaHRtbCBzdHJpbmdcbiAgICogQHJldHVybnMge29iamVjdH0gaW4gdGhlIGZvcm0gb2Yge1xuICAgKiAgICAgc3RhcnQ6IGZ1bmN0aW9uKHRhZywgYXR0cnMpIHt9LFxuICAgKiAgICAgZW5kOiBmdW5jdGlvbih0YWcpIHt9LFxuICAgKiAgICAgY2hhcnM6IGZ1bmN0aW9uKHRleHQpIHt9LFxuICAgKiAgICAgY29tbWVudDogZnVuY3Rpb24odGV4dCkge31cbiAgICogfVxuICAgKi9cbiAgZnVuY3Rpb24gaHRtbFNhbml0aXplV3JpdGVySW1wbChidWYsIHVyaVZhbGlkYXRvcikge1xuICAgIHZhciBpZ25vcmVDdXJyZW50RWxlbWVudCA9IGZhbHNlO1xuICAgIHZhciBvdXQgPSBiaW5kKGJ1ZiwgYnVmLnB1c2gpO1xuICAgIHJldHVybiB7XG4gICAgICBzdGFydDogZnVuY3Rpb24odGFnLCBhdHRycykge1xuICAgICAgICB0YWcgPSBsb3dlcmNhc2UodGFnKTtcbiAgICAgICAgaWYgKCFpZ25vcmVDdXJyZW50RWxlbWVudCAmJiBibG9ja2VkRWxlbWVudHNbdGFnXSkge1xuICAgICAgICAgIGlnbm9yZUN1cnJlbnRFbGVtZW50ID0gdGFnO1xuICAgICAgICB9XG4gICAgICAgIGlmICghaWdub3JlQ3VycmVudEVsZW1lbnQgJiYgdmFsaWRFbGVtZW50c1t0YWddID09PSB0cnVlKSB7XG4gICAgICAgICAgb3V0KCc8Jyk7XG4gICAgICAgICAgb3V0KHRhZyk7XG4gICAgICAgICAgZm9yRWFjaChhdHRycywgZnVuY3Rpb24odmFsdWUsIGtleSkge1xuICAgICAgICAgICAgdmFyIGxrZXkgPSBsb3dlcmNhc2Uoa2V5KTtcbiAgICAgICAgICAgIHZhciBpc0ltYWdlID0gKHRhZyA9PT0gJ2ltZycgJiYgbGtleSA9PT0gJ3NyYycpIHx8IChsa2V5ID09PSAnYmFja2dyb3VuZCcpO1xuICAgICAgICAgICAgaWYgKHZhbGlkQXR0cnNbbGtleV0gPT09IHRydWUgJiZcbiAgICAgICAgICAgICAgKHVyaUF0dHJzW2xrZXldICE9PSB0cnVlIHx8IHVyaVZhbGlkYXRvcih2YWx1ZSwgaXNJbWFnZSkpKSB7XG4gICAgICAgICAgICAgIG91dCgnICcpO1xuICAgICAgICAgICAgICBvdXQoa2V5KTtcbiAgICAgICAgICAgICAgb3V0KCc9XCInKTtcbiAgICAgICAgICAgICAgb3V0KGVuY29kZUVudGl0aWVzKHZhbHVlKSk7XG4gICAgICAgICAgICAgIG91dCgnXCInKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgICBvdXQoJz4nKTtcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIGVuZDogZnVuY3Rpb24odGFnKSB7XG4gICAgICAgIHRhZyA9IGxvd2VyY2FzZSh0YWcpO1xuICAgICAgICBpZiAoIWlnbm9yZUN1cnJlbnRFbGVtZW50ICYmIHZhbGlkRWxlbWVudHNbdGFnXSA9PT0gdHJ1ZSAmJiB2b2lkRWxlbWVudHNbdGFnXSAhPT0gdHJ1ZSkge1xuICAgICAgICAgIG91dCgnPC8nKTtcbiAgICAgICAgICBvdXQodGFnKTtcbiAgICAgICAgICBvdXQoJz4nKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZXFlcWVxXG4gICAgICAgIGlmICh0YWcgPT0gaWdub3JlQ3VycmVudEVsZW1lbnQpIHtcbiAgICAgICAgICBpZ25vcmVDdXJyZW50RWxlbWVudCA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgY2hhcnM6IGZ1bmN0aW9uKGNoYXJzKSB7XG4gICAgICAgIGlmICghaWdub3JlQ3VycmVudEVsZW1lbnQpIHtcbiAgICAgICAgICBvdXQoZW5jb2RlRW50aXRpZXMoY2hhcnMpKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH07XG4gIH1cblxuXG4gIC8qKlxuICAgKiBXaGVuIElFOS0xMSBjb21lcyBhY3Jvc3MgYW4gdW5rbm93biBuYW1lc3BhY2VkIGF0dHJpYnV0ZSBlLmcuICd4bGluazpmb28nIGl0IGFkZHMgJ3htbG5zOm5zMScgYXR0cmlidXRlIHRvIGRlY2xhcmVcbiAgICogbnMxIG5hbWVzcGFjZSBhbmQgcHJlZml4ZXMgdGhlIGF0dHJpYnV0ZSB3aXRoICduczEnIChlLmcuICduczE6eGxpbms6Zm9vJykuIFRoaXMgaXMgdW5kZXNpcmFibGUgc2luY2Ugd2UgZG9uJ3Qgd2FudFxuICAgKiB0byBhbGxvdyBhbnkgb2YgdGhlc2UgY3VzdG9tIGF0dHJpYnV0ZXMuIFRoaXMgbWV0aG9kIHN0cmlwcyB0aGVtIGFsbC5cbiAgICpcbiAgICogQHBhcmFtIG5vZGUgUm9vdCBlbGVtZW50IHRvIHByb2Nlc3NcbiAgICovXG4gIGZ1bmN0aW9uIHN0cmlwQ3VzdG9tTnNBdHRycyhub2RlKSB7XG4gICAgd2hpbGUgKG5vZGUpIHtcbiAgICAgIGlmIChub2RlLm5vZGVUeXBlID09PSB3aW5kb3cuTm9kZS5FTEVNRU5UX05PREUpIHtcbiAgICAgICAgdmFyIGF0dHJzID0gbm9kZS5hdHRyaWJ1dGVzO1xuICAgICAgICBmb3IgKHZhciBpID0gMCwgbCA9IGF0dHJzLmxlbmd0aDsgaSA8IGw7IGkrKykge1xuICAgICAgICAgIHZhciBhdHRyTm9kZSA9IGF0dHJzW2ldO1xuICAgICAgICAgIHZhciBhdHRyTmFtZSA9IGF0dHJOb2RlLm5hbWUudG9Mb3dlckNhc2UoKTtcbiAgICAgICAgICBpZiAoYXR0ck5hbWUgPT09ICd4bWxuczpuczEnIHx8IGF0dHJOYW1lLmxhc3RJbmRleE9mKCduczE6JywgMCkgPT09IDApIHtcbiAgICAgICAgICAgIG5vZGUucmVtb3ZlQXR0cmlidXRlTm9kZShhdHRyTm9kZSk7XG4gICAgICAgICAgICBpLS07XG4gICAgICAgICAgICBsLS07XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHZhciBuZXh0Tm9kZSA9IG5vZGUuZmlyc3RDaGlsZDtcbiAgICAgIGlmIChuZXh0Tm9kZSkge1xuICAgICAgICBzdHJpcEN1c3RvbU5zQXR0cnMobmV4dE5vZGUpO1xuICAgICAgfVxuXG4gICAgICBub2RlID0gbm9kZS5uZXh0U2libGluZztcbiAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24gc2FuaXRpemVUZXh0KGNoYXJzKSB7XG4gIHZhciBidWYgPSBbXTtcbiAgdmFyIHdyaXRlciA9IGh0bWxTYW5pdGl6ZVdyaXRlcihidWYsIG5vb3ApO1xuICB3cml0ZXIuY2hhcnMoY2hhcnMpO1xuICByZXR1cm4gYnVmLmpvaW4oJycpO1xufVxuXG5cbi8vIGRlZmluZSBuZ1Nhbml0aXplIG1vZHVsZSBhbmQgcmVnaXN0ZXIgJHNhbml0aXplIHNlcnZpY2VcbmFuZ3VsYXIubW9kdWxlKCduZ1Nhbml0aXplJywgW10pLnByb3ZpZGVyKCckc2FuaXRpemUnLCAkU2FuaXRpemVQcm92aWRlcik7XG5cbi8qKlxuICogQG5nZG9jIGZpbHRlclxuICogQG5hbWUgbGlua3lcbiAqIEBraW5kIGZ1bmN0aW9uXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBGaW5kcyBsaW5rcyBpbiB0ZXh0IGlucHV0IGFuZCB0dXJucyB0aGVtIGludG8gaHRtbCBsaW5rcy4gU3VwcG9ydHMgYGh0dHAvaHR0cHMvZnRwL21haWx0b2AgYW5kXG4gKiBwbGFpbiBlbWFpbCBhZGRyZXNzIGxpbmtzLlxuICpcbiAqIFJlcXVpcmVzIHRoZSB7QGxpbmsgbmdTYW5pdGl6ZSBgbmdTYW5pdGl6ZWB9IG1vZHVsZSB0byBiZSBpbnN0YWxsZWQuXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IHRleHQgSW5wdXQgdGV4dC5cbiAqIEBwYXJhbSB7c3RyaW5nfSB0YXJnZXQgV2luZG93IChgX2JsYW5rfF9zZWxmfF9wYXJlbnR8X3RvcGApIG9yIG5hbWVkIGZyYW1lIHRvIG9wZW4gbGlua3MgaW4uXG4gKiBAcGFyYW0ge29iamVjdHxmdW5jdGlvbih1cmwpfSBbYXR0cmlidXRlc10gQWRkIGN1c3RvbSBhdHRyaWJ1dGVzIHRvIHRoZSBsaW5rIGVsZW1lbnQuXG4gKlxuICogICAgQ2FuIGJlIG9uZSBvZjpcbiAqXG4gKiAgICAtIGBvYmplY3RgOiBBIG1hcCBvZiBhdHRyaWJ1dGVzXG4gKiAgICAtIGBmdW5jdGlvbmA6IFRha2VzIHRoZSB1cmwgYXMgYSBwYXJhbWV0ZXIgYW5kIHJldHVybnMgYSBtYXAgb2YgYXR0cmlidXRlc1xuICpcbiAqICAgIElmIHRoZSBtYXAgb2YgYXR0cmlidXRlcyBjb250YWlucyBhIHZhbHVlIGZvciBgdGFyZ2V0YCwgaXQgb3ZlcnJpZGVzIHRoZSB2YWx1ZSBvZlxuICogICAgdGhlIHRhcmdldCBwYXJhbWV0ZXIuXG4gKlxuICpcbiAqIEByZXR1cm5zIHtzdHJpbmd9IEh0bWwtbGlua2lmaWVkIGFuZCB7QGxpbmsgJHNhbml0aXplIHNhbml0aXplZH0gdGV4dC5cbiAqXG4gKiBAdXNhZ2VcbiAgIDxzcGFuIG5nLWJpbmQtaHRtbD1cImxpbmt5X2V4cHJlc3Npb24gfCBsaW5reVwiPjwvc3Bhbj5cbiAqXG4gKiBAZXhhbXBsZVxuICAgPGV4YW1wbGUgbW9kdWxlPVwibGlua3lFeGFtcGxlXCIgZGVwcz1cImFuZ3VsYXItc2FuaXRpemUuanNcIiBuYW1lPVwibGlua3ktZmlsdGVyXCI+XG4gICAgIDxmaWxlIG5hbWU9XCJpbmRleC5odG1sXCI+XG4gICAgICAgPGRpdiBuZy1jb250cm9sbGVyPVwiRXhhbXBsZUNvbnRyb2xsZXJcIj5cbiAgICAgICBTbmlwcGV0OiA8dGV4dGFyZWEgbmctbW9kZWw9XCJzbmlwcGV0XCIgY29scz1cIjYwXCIgcm93cz1cIjNcIj48L3RleHRhcmVhPlxuICAgICAgIDx0YWJsZT5cbiAgICAgICAgIDx0cj5cbiAgICAgICAgICAgPHRoPkZpbHRlcjwvdGg+XG4gICAgICAgICAgIDx0aD5Tb3VyY2U8L3RoPlxuICAgICAgICAgICA8dGg+UmVuZGVyZWQ8L3RoPlxuICAgICAgICAgPC90cj5cbiAgICAgICAgIDx0ciBpZD1cImxpbmt5LWZpbHRlclwiPlxuICAgICAgICAgICA8dGQ+bGlua3kgZmlsdGVyPC90ZD5cbiAgICAgICAgICAgPHRkPlxuICAgICAgICAgICAgIDxwcmU+Jmx0O2RpdiBuZy1iaW5kLWh0bWw9XCJzbmlwcGV0IHwgbGlua3lcIiZndDs8YnI+Jmx0Oy9kaXYmZ3Q7PC9wcmU+XG4gICAgICAgICAgIDwvdGQ+XG4gICAgICAgICAgIDx0ZD5cbiAgICAgICAgICAgICA8ZGl2IG5nLWJpbmQtaHRtbD1cInNuaXBwZXQgfCBsaW5reVwiPjwvZGl2PlxuICAgICAgICAgICA8L3RkPlxuICAgICAgICAgPC90cj5cbiAgICAgICAgIDx0ciBpZD1cImxpbmt5LXRhcmdldFwiPlxuICAgICAgICAgIDx0ZD5saW5reSB0YXJnZXQ8L3RkPlxuICAgICAgICAgIDx0ZD5cbiAgICAgICAgICAgIDxwcmU+Jmx0O2RpdiBuZy1iaW5kLWh0bWw9XCJzbmlwcGV0V2l0aFNpbmdsZVVSTCB8IGxpbmt5OidfYmxhbmsnXCImZ3Q7PGJyPiZsdDsvZGl2Jmd0OzwvcHJlPlxuICAgICAgICAgIDwvdGQ+XG4gICAgICAgICAgPHRkPlxuICAgICAgICAgICAgPGRpdiBuZy1iaW5kLWh0bWw9XCJzbmlwcGV0V2l0aFNpbmdsZVVSTCB8IGxpbmt5OidfYmxhbmsnXCI+PC9kaXY+XG4gICAgICAgICAgPC90ZD5cbiAgICAgICAgIDwvdHI+XG4gICAgICAgICA8dHIgaWQ9XCJsaW5reS1jdXN0b20tYXR0cmlidXRlc1wiPlxuICAgICAgICAgIDx0ZD5saW5reSBjdXN0b20gYXR0cmlidXRlczwvdGQ+XG4gICAgICAgICAgPHRkPlxuICAgICAgICAgICAgPHByZT4mbHQ7ZGl2IG5nLWJpbmQtaHRtbD1cInNuaXBwZXRXaXRoU2luZ2xlVVJMIHwgbGlua3k6J19zZWxmJzp7cmVsOiAnbm9mb2xsb3cnfVwiJmd0Ozxicj4mbHQ7L2RpdiZndDs8L3ByZT5cbiAgICAgICAgICA8L3RkPlxuICAgICAgICAgIDx0ZD5cbiAgICAgICAgICAgIDxkaXYgbmctYmluZC1odG1sPVwic25pcHBldFdpdGhTaW5nbGVVUkwgfCBsaW5reTonX3NlbGYnOntyZWw6ICdub2ZvbGxvdyd9XCI+PC9kaXY+XG4gICAgICAgICAgPC90ZD5cbiAgICAgICAgIDwvdHI+XG4gICAgICAgICA8dHIgaWQ9XCJlc2NhcGVkLWh0bWxcIj5cbiAgICAgICAgICAgPHRkPm5vIGZpbHRlcjwvdGQ+XG4gICAgICAgICAgIDx0ZD48cHJlPiZsdDtkaXYgbmctYmluZD1cInNuaXBwZXRcIiZndDs8YnI+Jmx0Oy9kaXYmZ3Q7PC9wcmU+PC90ZD5cbiAgICAgICAgICAgPHRkPjxkaXYgbmctYmluZD1cInNuaXBwZXRcIj48L2Rpdj48L3RkPlxuICAgICAgICAgPC90cj5cbiAgICAgICA8L3RhYmxlPlxuICAgICA8L2ZpbGU+XG4gICAgIDxmaWxlIG5hbWU9XCJzY3JpcHQuanNcIj5cbiAgICAgICBhbmd1bGFyLm1vZHVsZSgnbGlua3lFeGFtcGxlJywgWyduZ1Nhbml0aXplJ10pXG4gICAgICAgICAuY29udHJvbGxlcignRXhhbXBsZUNvbnRyb2xsZXInLCBbJyRzY29wZScsIGZ1bmN0aW9uKCRzY29wZSkge1xuICAgICAgICAgICAkc2NvcGUuc25pcHBldCA9XG4gICAgICAgICAgICAgJ1ByZXR0eSB0ZXh0IHdpdGggc29tZSBsaW5rczpcXG4nICtcbiAgICAgICAgICAgICAnaHR0cDovL2FuZ3VsYXJqcy5vcmcvLFxcbicgK1xuICAgICAgICAgICAgICdtYWlsdG86dXNAc29tZXdoZXJlLm9yZyxcXG4nICtcbiAgICAgICAgICAgICAnYW5vdGhlckBzb21ld2hlcmUub3JnLFxcbicgK1xuICAgICAgICAgICAgICdhbmQgb25lIG1vcmU6IGZ0cDovLzEyNy4wLjAuMS8uJztcbiAgICAgICAgICAgJHNjb3BlLnNuaXBwZXRXaXRoU2luZ2xlVVJMID0gJ2h0dHA6Ly9hbmd1bGFyanMub3JnLyc7XG4gICAgICAgICB9XSk7XG4gICAgIDwvZmlsZT5cbiAgICAgPGZpbGUgbmFtZT1cInByb3RyYWN0b3IuanNcIiB0eXBlPVwicHJvdHJhY3RvclwiPlxuICAgICAgIGl0KCdzaG91bGQgbGlua2lmeSB0aGUgc25pcHBldCB3aXRoIHVybHMnLCBmdW5jdGlvbigpIHtcbiAgICAgICAgIGV4cGVjdChlbGVtZW50KGJ5LmlkKCdsaW5reS1maWx0ZXInKSkuZWxlbWVudChieS5iaW5kaW5nKCdzbmlwcGV0IHwgbGlua3knKSkuZ2V0VGV4dCgpKS5cbiAgICAgICAgICAgICB0b0JlKCdQcmV0dHkgdGV4dCB3aXRoIHNvbWUgbGlua3M6IGh0dHA6Ly9hbmd1bGFyanMub3JnLywgdXNAc29tZXdoZXJlLm9yZywgJyArXG4gICAgICAgICAgICAgICAgICAnYW5vdGhlckBzb21ld2hlcmUub3JnLCBhbmQgb25lIG1vcmU6IGZ0cDovLzEyNy4wLjAuMS8uJyk7XG4gICAgICAgICBleHBlY3QoZWxlbWVudC5hbGwoYnkuY3NzKCcjbGlua3ktZmlsdGVyIGEnKSkuY291bnQoKSkudG9FcXVhbCg0KTtcbiAgICAgICB9KTtcblxuICAgICAgIGl0KCdzaG91bGQgbm90IGxpbmtpZnkgc25pcHBldCB3aXRob3V0IHRoZSBsaW5reSBmaWx0ZXInLCBmdW5jdGlvbigpIHtcbiAgICAgICAgIGV4cGVjdChlbGVtZW50KGJ5LmlkKCdlc2NhcGVkLWh0bWwnKSkuZWxlbWVudChieS5iaW5kaW5nKCdzbmlwcGV0JykpLmdldFRleHQoKSkuXG4gICAgICAgICAgICAgdG9CZSgnUHJldHR5IHRleHQgd2l0aCBzb21lIGxpbmtzOiBodHRwOi8vYW5ndWxhcmpzLm9yZy8sIG1haWx0bzp1c0Bzb21ld2hlcmUub3JnLCAnICtcbiAgICAgICAgICAgICAgICAgICdhbm90aGVyQHNvbWV3aGVyZS5vcmcsIGFuZCBvbmUgbW9yZTogZnRwOi8vMTI3LjAuMC4xLy4nKTtcbiAgICAgICAgIGV4cGVjdChlbGVtZW50LmFsbChieS5jc3MoJyNlc2NhcGVkLWh0bWwgYScpKS5jb3VudCgpKS50b0VxdWFsKDApO1xuICAgICAgIH0pO1xuXG4gICAgICAgaXQoJ3Nob3VsZCB1cGRhdGUnLCBmdW5jdGlvbigpIHtcbiAgICAgICAgIGVsZW1lbnQoYnkubW9kZWwoJ3NuaXBwZXQnKSkuY2xlYXIoKTtcbiAgICAgICAgIGVsZW1lbnQoYnkubW9kZWwoJ3NuaXBwZXQnKSkuc2VuZEtleXMoJ25ldyBodHRwOi8vbGluay4nKTtcbiAgICAgICAgIGV4cGVjdChlbGVtZW50KGJ5LmlkKCdsaW5reS1maWx0ZXInKSkuZWxlbWVudChieS5iaW5kaW5nKCdzbmlwcGV0IHwgbGlua3knKSkuZ2V0VGV4dCgpKS5cbiAgICAgICAgICAgICB0b0JlKCduZXcgaHR0cDovL2xpbmsuJyk7XG4gICAgICAgICBleHBlY3QoZWxlbWVudC5hbGwoYnkuY3NzKCcjbGlua3ktZmlsdGVyIGEnKSkuY291bnQoKSkudG9FcXVhbCgxKTtcbiAgICAgICAgIGV4cGVjdChlbGVtZW50KGJ5LmlkKCdlc2NhcGVkLWh0bWwnKSkuZWxlbWVudChieS5iaW5kaW5nKCdzbmlwcGV0JykpLmdldFRleHQoKSlcbiAgICAgICAgICAgICAudG9CZSgnbmV3IGh0dHA6Ly9saW5rLicpO1xuICAgICAgIH0pO1xuXG4gICAgICAgaXQoJ3Nob3VsZCB3b3JrIHdpdGggdGhlIHRhcmdldCBwcm9wZXJ0eScsIGZ1bmN0aW9uKCkge1xuICAgICAgICBleHBlY3QoZWxlbWVudChieS5pZCgnbGlua3ktdGFyZ2V0JykpLlxuICAgICAgICAgICAgZWxlbWVudChieS5iaW5kaW5nKFwic25pcHBldFdpdGhTaW5nbGVVUkwgfCBsaW5reTonX2JsYW5rJ1wiKSkuZ2V0VGV4dCgpKS5cbiAgICAgICAgICAgIHRvQmUoJ2h0dHA6Ly9hbmd1bGFyanMub3JnLycpO1xuICAgICAgICBleHBlY3QoZWxlbWVudChieS5jc3MoJyNsaW5reS10YXJnZXQgYScpKS5nZXRBdHRyaWJ1dGUoJ3RhcmdldCcpKS50b0VxdWFsKCdfYmxhbmsnKTtcbiAgICAgICB9KTtcblxuICAgICAgIGl0KCdzaG91bGQgb3B0aW9uYWxseSBhZGQgY3VzdG9tIGF0dHJpYnV0ZXMnLCBmdW5jdGlvbigpIHtcbiAgICAgICAgZXhwZWN0KGVsZW1lbnQoYnkuaWQoJ2xpbmt5LWN1c3RvbS1hdHRyaWJ1dGVzJykpLlxuICAgICAgICAgICAgZWxlbWVudChieS5iaW5kaW5nKFwic25pcHBldFdpdGhTaW5nbGVVUkwgfCBsaW5reTonX3NlbGYnOntyZWw6ICdub2ZvbGxvdyd9XCIpKS5nZXRUZXh0KCkpLlxuICAgICAgICAgICAgdG9CZSgnaHR0cDovL2FuZ3VsYXJqcy5vcmcvJyk7XG4gICAgICAgIGV4cGVjdChlbGVtZW50KGJ5LmNzcygnI2xpbmt5LWN1c3RvbS1hdHRyaWJ1dGVzIGEnKSkuZ2V0QXR0cmlidXRlKCdyZWwnKSkudG9FcXVhbCgnbm9mb2xsb3cnKTtcbiAgICAgICB9KTtcbiAgICAgPC9maWxlPlxuICAgPC9leGFtcGxlPlxuICovXG5hbmd1bGFyLm1vZHVsZSgnbmdTYW5pdGl6ZScpLmZpbHRlcignbGlua3knLCBbJyRzYW5pdGl6ZScsIGZ1bmN0aW9uKCRzYW5pdGl6ZSkge1xuICB2YXIgTElOS1lfVVJMX1JFR0VYUCA9XG4gICAgICAgIC8oKGZ0cHxodHRwcz8pOlxcL1xcL3wod3d3XFwuKXwobWFpbHRvOik/W0EtWmEtejAtOS5fJSstXStAKVxcUypbXlxccy47LCgpe308PlwiXFx1MjAxZFxcdTIwMTldL2ksXG4gICAgICBNQUlMVE9fUkVHRVhQID0gL15tYWlsdG86L2k7XG5cbiAgdmFyIGxpbmt5TWluRXJyID0gYW5ndWxhci4kJG1pbkVycignbGlua3knKTtcbiAgdmFyIGlzRGVmaW5lZCA9IGFuZ3VsYXIuaXNEZWZpbmVkO1xuICB2YXIgaXNGdW5jdGlvbiA9IGFuZ3VsYXIuaXNGdW5jdGlvbjtcbiAgdmFyIGlzT2JqZWN0ID0gYW5ndWxhci5pc09iamVjdDtcbiAgdmFyIGlzU3RyaW5nID0gYW5ndWxhci5pc1N0cmluZztcblxuICByZXR1cm4gZnVuY3Rpb24odGV4dCwgdGFyZ2V0LCBhdHRyaWJ1dGVzKSB7XG4gICAgaWYgKHRleHQgPT0gbnVsbCB8fCB0ZXh0ID09PSAnJykgcmV0dXJuIHRleHQ7XG4gICAgaWYgKCFpc1N0cmluZyh0ZXh0KSkgdGhyb3cgbGlua3lNaW5FcnIoJ25vdHN0cmluZycsICdFeHBlY3RlZCBzdHJpbmcgYnV0IHJlY2VpdmVkOiB7MH0nLCB0ZXh0KTtcblxuICAgIHZhciBhdHRyaWJ1dGVzRm4gPVxuICAgICAgaXNGdW5jdGlvbihhdHRyaWJ1dGVzKSA/IGF0dHJpYnV0ZXMgOlxuICAgICAgaXNPYmplY3QoYXR0cmlidXRlcykgPyBmdW5jdGlvbiBnZXRBdHRyaWJ1dGVzT2JqZWN0KCkge3JldHVybiBhdHRyaWJ1dGVzO30gOlxuICAgICAgZnVuY3Rpb24gZ2V0RW1wdHlBdHRyaWJ1dGVzT2JqZWN0KCkge3JldHVybiB7fTt9O1xuXG4gICAgdmFyIG1hdGNoO1xuICAgIHZhciByYXcgPSB0ZXh0O1xuICAgIHZhciBodG1sID0gW107XG4gICAgdmFyIHVybDtcbiAgICB2YXIgaTtcbiAgICB3aGlsZSAoKG1hdGNoID0gcmF3Lm1hdGNoKExJTktZX1VSTF9SRUdFWFApKSkge1xuICAgICAgLy8gV2UgY2FuIG5vdCBlbmQgaW4gdGhlc2UgYXMgdGhleSBhcmUgc29tZXRpbWVzIGZvdW5kIGF0IHRoZSBlbmQgb2YgdGhlIHNlbnRlbmNlXG4gICAgICB1cmwgPSBtYXRjaFswXTtcbiAgICAgIC8vIGlmIHdlIGRpZCBub3QgbWF0Y2ggZnRwL2h0dHAvd3d3L21haWx0byB0aGVuIGFzc3VtZSBtYWlsdG9cbiAgICAgIGlmICghbWF0Y2hbMl0gJiYgIW1hdGNoWzRdKSB7XG4gICAgICAgIHVybCA9IChtYXRjaFszXSA/ICdodHRwOi8vJyA6ICdtYWlsdG86JykgKyB1cmw7XG4gICAgICB9XG4gICAgICBpID0gbWF0Y2guaW5kZXg7XG4gICAgICBhZGRUZXh0KHJhdy5zdWJzdHIoMCwgaSkpO1xuICAgICAgYWRkTGluayh1cmwsIG1hdGNoWzBdLnJlcGxhY2UoTUFJTFRPX1JFR0VYUCwgJycpKTtcbiAgICAgIHJhdyA9IHJhdy5zdWJzdHJpbmcoaSArIG1hdGNoWzBdLmxlbmd0aCk7XG4gICAgfVxuICAgIGFkZFRleHQocmF3KTtcbiAgICByZXR1cm4gJHNhbml0aXplKGh0bWwuam9pbignJykpO1xuXG4gICAgZnVuY3Rpb24gYWRkVGV4dCh0ZXh0KSB7XG4gICAgICBpZiAoIXRleHQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgaHRtbC5wdXNoKHNhbml0aXplVGV4dCh0ZXh0KSk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gYWRkTGluayh1cmwsIHRleHQpIHtcbiAgICAgIHZhciBrZXksIGxpbmtBdHRyaWJ1dGVzID0gYXR0cmlidXRlc0ZuKHVybCk7XG4gICAgICBodG1sLnB1c2goJzxhICcpO1xuXG4gICAgICBmb3IgKGtleSBpbiBsaW5rQXR0cmlidXRlcykge1xuICAgICAgICBodG1sLnB1c2goa2V5ICsgJz1cIicgKyBsaW5rQXR0cmlidXRlc1trZXldICsgJ1wiICcpO1xuICAgICAgfVxuXG4gICAgICBpZiAoaXNEZWZpbmVkKHRhcmdldCkgJiYgISgndGFyZ2V0JyBpbiBsaW5rQXR0cmlidXRlcykpIHtcbiAgICAgICAgaHRtbC5wdXNoKCd0YXJnZXQ9XCInLFxuICAgICAgICAgICAgICAgICAgdGFyZ2V0LFxuICAgICAgICAgICAgICAgICAgJ1wiICcpO1xuICAgICAgfVxuICAgICAgaHRtbC5wdXNoKCdocmVmPVwiJyxcbiAgICAgICAgICAgICAgICB1cmwucmVwbGFjZSgvXCIvZywgJyZxdW90OycpLFxuICAgICAgICAgICAgICAgICdcIj4nKTtcbiAgICAgIGFkZFRleHQodGV4dCk7XG4gICAgICBodG1sLnB1c2goJzwvYT4nKTtcbiAgICB9XG4gIH07XG59XSk7XG5cblxufSkod2luZG93LCB3aW5kb3cuYW5ndWxhcik7XG4iLCJyZXF1aXJlKCcuL2FuZ3VsYXItc2FuaXRpemUnKTtcbm1vZHVsZS5leHBvcnRzID0gJ25nU2FuaXRpemUnO1xuIiwiLyohXG4gKiBhbmd1bGFyLXZhbGlkYXRpb24tbWF0Y2hcbiAqIENoZWNrcyBpZiBvbmUgaW5wdXQgbWF0Y2hlcyBhbm90aGVyXG4gKiBAdmVyc2lvbiB2MS45LjBcbiAqIEBsaW5rIGh0dHBzOi8vZ2l0aHViLmNvbS9UaGVTaGFycGllT25lL2FuZ3VsYXItdmFsaWRhdGlvbi1tYXRjaFxuICogQGxpY2Vuc2UgTUlUIExpY2Vuc2UsIGh0dHA6Ly93d3cub3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvTUlUXG4gKi9cbihmdW5jdGlvbih3aW5kb3csIGFuZ3VsYXIsIHVuZGVmaW5lZCl7J3VzZSBzdHJpY3QnO1xuXG5tYXRjaC4kaW5qZWN0ID0gW1wiJHBhcnNlXCJdO1xuYW5ndWxhci5tb2R1bGUoJ3ZhbGlkYXRpb24ubWF0Y2gnLCBbXSk7XG5cbmFuZ3VsYXIubW9kdWxlKCd2YWxpZGF0aW9uLm1hdGNoJykuZGlyZWN0aXZlKCdtYXRjaCcsIG1hdGNoKTtcblxuZnVuY3Rpb24gbWF0Y2ggKCRwYXJzZSkge1xuICAgIHJldHVybiB7XG4gICAgICAgIHJlcXVpcmU6ICc/bmdNb2RlbCcsXG4gICAgICAgIHJlc3RyaWN0OiAnQScsXG4gICAgICAgIGxpbms6IGZ1bmN0aW9uKHNjb3BlLCBlbGVtLCBhdHRycywgY3RybCkge1xuICAgICAgICAgICAgaWYoIWN0cmwgfHwgIWF0dHJzLm1hdGNoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB2YXIgbWF0Y2hHZXR0ZXIgPSAkcGFyc2UoYXR0cnMubWF0Y2gpO1xuICAgICAgICAgICAgdmFyIGNhc2VsZXNzR2V0dGVyID0gJHBhcnNlKGF0dHJzLm1hdGNoQ2FzZWxlc3MpO1xuICAgICAgICAgICAgdmFyIG5vTWF0Y2hHZXR0ZXIgPSAkcGFyc2UoYXR0cnMubm90TWF0Y2gpO1xuICAgICAgICAgICAgdmFyIG1hdGNoSWdub3JlRW1wdHlHZXR0ZXIgPSAkcGFyc2UoYXR0cnMubWF0Y2hJZ25vcmVFbXB0eSk7XG5cbiAgICAgICAgICAgIHNjb3BlLiR3YXRjaChnZXRNYXRjaFZhbHVlLCBmdW5jdGlvbigpe1xuICAgICAgICAgICAgICAgIGN0cmwuJCRwYXJzZUFuZFZhbGlkYXRlKCk7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgY3RybC4kdmFsaWRhdG9ycy5tYXRjaCA9IGZ1bmN0aW9uKG1vZGVsVmFsdWUsIHZpZXdWYWx1ZSl7XG4gICAgICAgICAgICAgIHZhciBtYXRjaGVyID0gbW9kZWxWYWx1ZSB8fCB2aWV3VmFsdWU7XG4gICAgICAgICAgICAgIHZhciBtYXRjaCA9IGdldE1hdGNoVmFsdWUoKTtcbiAgICAgICAgICAgICAgdmFyIG5vdE1hdGNoID0gbm9NYXRjaEdldHRlcihzY29wZSk7XG4gICAgICAgICAgICAgIHZhciB2YWx1ZTtcblxuICAgICAgICAgICAgICBpZiAobWF0Y2hJZ25vcmVFbXB0eUdldHRlcihzY29wZSkgJiYgIXZpZXdWYWx1ZSkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgaWYoY2FzZWxlc3NHZXR0ZXIoc2NvcGUpKXtcbiAgICAgICAgICAgICAgICB2YWx1ZSA9IGFuZ3VsYXIubG93ZXJjYXNlKG1hdGNoZXIpID09PSBhbmd1bGFyLmxvd2VyY2FzZShtYXRjaCk7XG4gICAgICAgICAgICAgIH1lbHNle1xuICAgICAgICAgICAgICAgIHZhbHVlID0gbWF0Y2hlciA9PT0gbWF0Y2g7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgLypqc2xpbnQgYml0d2lzZTogdHJ1ZSAqL1xuICAgICAgICAgICAgICB2YWx1ZSBePSBub3RNYXRjaDtcbiAgICAgICAgICAgICAgLypqc2xpbnQgYml0d2lzZTogZmFsc2UgKi9cbiAgICAgICAgICAgICAgcmV0dXJuICEhdmFsdWU7XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICBmdW5jdGlvbiBnZXRNYXRjaFZhbHVlKCl7XG4gICAgICAgICAgICAgICAgdmFyIG1hdGNoID0gbWF0Y2hHZXR0ZXIoc2NvcGUpO1xuICAgICAgICAgICAgICAgIGlmKGFuZ3VsYXIuaXNPYmplY3QobWF0Y2gpICYmIG1hdGNoLmhhc093blByb3BlcnR5KCckdmlld1ZhbHVlJykpe1xuICAgICAgICAgICAgICAgICAgICBtYXRjaCA9IG1hdGNoLiR2aWV3VmFsdWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBtYXRjaDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG59XG59KSh3aW5kb3csIHdpbmRvdy5hbmd1bGFyKTtcbiIsInJlcXVpcmUoJy4vZGlzdC9hbmd1bGFyLXZhbGlkYXRpb24tbWF0Y2gnKTtcbm1vZHVsZS5leHBvcnRzID0gJ3ZhbGlkYXRpb24ubWF0Y2gnO1xuIiwiKGZ1bmN0aW9uKCkge1xuICBhbmd1bGFyXG4gICAgLm1vZHVsZSgndmFsaWRhdGlvbi5ydWxlJywgWyd2YWxpZGF0aW9uJ10pXG4gICAgLmNvbmZpZyhbJyR2YWxpZGF0aW9uUHJvdmlkZXInLCBmdW5jdGlvbigkdmFsaWRhdGlvblByb3ZpZGVyKSB7XG4gICAgICB2YXIgZXhwcmVzc2lvbiA9IHtcbiAgICAgICAgcmVxdWlyZWQ6IGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICAgICAgcmV0dXJuICEhdmFsdWU7XG4gICAgICAgIH0sXG4gICAgICAgIHVybDogLygoKFtBLVphLXpdezMsOX06KD86XFwvXFwvKT8pKD86Wy07OiY9XFwrXFwkLFxcd10rQCk/W0EtWmEtejAtOS4tXSt8KD86d3d3LnxbLTs6Jj1cXCtcXCQsXFx3XStAKVtBLVphLXowLTkuLV0rKSgoPzpcXC9bXFwrfiVcXC8uXFx3LV9dKik/XFw/Pyg/OlstXFwrPSY7JUAuXFx3X10qKSM/KD86W1xcd10qKSk/KS8sXG4gICAgICAgIGVtYWlsOiAvXihbXFx3LVxcLl0rKUAoKFxcW1swLTldezEsM31cXC5bMC05XXsxLDN9XFwuWzAtOV17MSwzfVxcLil8KChbXFx3LV0rXFwuKSspKShbYS16QS1aXXsyLDR9fFswLTldezEsM30pKFxcXT8pJC8sXG4gICAgICAgIG51bWJlcjogL15cXGQrJC8sXG4gICAgICAgIG1pbmxlbmd0aDogZnVuY3Rpb24odmFsdWUsIHNjb3BlLCBlbGVtZW50LCBhdHRycywgcGFyYW0pIHtcbiAgICAgICAgICByZXR1cm4gdmFsdWUubGVuZ3RoID49IHBhcmFtO1xuICAgICAgICB9LFxuICAgICAgICBtYXhsZW5ndGg6IGZ1bmN0aW9uKHZhbHVlLCBzY29wZSwgZWxlbWVudCwgYXR0cnMsIHBhcmFtKSB7XG4gICAgICAgICAgcmV0dXJuIHZhbHVlLmxlbmd0aCA8PSBwYXJhbTtcbiAgICAgICAgfVxuICAgICAgfTtcblxuICAgICAgdmFyIGRlZmF1bHRNc2cgPSB7XG4gICAgICAgIHJlcXVpcmVkOiB7XG4gICAgICAgICAgZXJyb3I6ICdUaGlzIHNob3VsZCBiZSBSZXF1aXJlZCEhJyxcbiAgICAgICAgICBzdWNjZXNzOiAnSXRcXCdzIFJlcXVpcmVkJ1xuICAgICAgICB9LFxuICAgICAgICB1cmw6IHtcbiAgICAgICAgICBlcnJvcjogJ1RoaXMgc2hvdWxkIGJlIFVybCcsXG4gICAgICAgICAgc3VjY2VzczogJ0l0XFwncyBVcmwnXG4gICAgICAgIH0sXG4gICAgICAgIGVtYWlsOiB7XG4gICAgICAgICAgZXJyb3I6ICdUaGlzIHNob3VsZCBiZSBFbWFpbCcsXG4gICAgICAgICAgc3VjY2VzczogJ0l0XFwncyBFbWFpbCdcbiAgICAgICAgfSxcbiAgICAgICAgbnVtYmVyOiB7XG4gICAgICAgICAgZXJyb3I6ICdUaGlzIHNob3VsZCBiZSBOdW1iZXInLFxuICAgICAgICAgIHN1Y2Nlc3M6ICdJdFxcJ3MgTnVtYmVyJ1xuICAgICAgICB9LFxuICAgICAgICBtaW5sZW5ndGg6IHtcbiAgICAgICAgICBlcnJvcjogJ1RoaXMgc2hvdWxkIGJlIGxvbmdlcicsXG4gICAgICAgICAgc3VjY2VzczogJ0xvbmcgZW5vdWdoISdcbiAgICAgICAgfSxcbiAgICAgICAgbWF4bGVuZ3RoOiB7XG4gICAgICAgICAgZXJyb3I6ICdUaGlzIHNob3VsZCBiZSBzaG9ydGVyJyxcbiAgICAgICAgICBzdWNjZXNzOiAnU2hvcnQgZW5vdWdoISdcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICAgICR2YWxpZGF0aW9uUHJvdmlkZXIuc2V0RXhwcmVzc2lvbihleHByZXNzaW9uKS5zZXREZWZhdWx0TXNnKGRlZmF1bHRNc2cpO1xuICAgIH1dKTtcbn0pLmNhbGwodGhpcyk7XG4iLCJhbmd1bGFyLm1vZHVsZSgndmFsaWRhdGlvbicsIFsndmFsaWRhdGlvbi5wcm92aWRlcicsICd2YWxpZGF0aW9uLmRpcmVjdGl2ZSddKTtcbmFuZ3VsYXIubW9kdWxlKCd2YWxpZGF0aW9uLnByb3ZpZGVyJywgW10pO1xuYW5ndWxhci5tb2R1bGUoJ3ZhbGlkYXRpb24uZGlyZWN0aXZlJywgWyd2YWxpZGF0aW9uLnByb3ZpZGVyJ10pO1xuXG4oZnVuY3Rpb24oKSB7XG4gIGFuZ3VsYXJcbiAgICAubW9kdWxlKCd2YWxpZGF0aW9uLnByb3ZpZGVyJylcbiAgICAucHJvdmlkZXIoJyR2YWxpZGF0aW9uJywgUHJvdmlkZXIpO1xuXG4gIGZ1bmN0aW9uIFByb3ZpZGVyKCkge1xuICAgIHZhciAkaW5qZWN0b3I7XG4gICAgdmFyICRzY29wZTtcbiAgICB2YXIgJGh0dHA7XG4gICAgdmFyICRxO1xuICAgIHZhciAkdGltZW91dDtcbiAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gICAgLyoqXG4gICAgICogU2V0dXAgdGhlIHByb3ZpZGVyXG4gICAgICogQHBhcmFtIGluamVjdG9yXG4gICAgICovXG4gICAgdmFyIHNldHVwID0gZnVuY3Rpb24oaW5qZWN0b3IpIHtcbiAgICAgICRpbmplY3RvciA9IGluamVjdG9yO1xuICAgICAgJHNjb3BlID0gJGluamVjdG9yLmdldCgnJHJvb3RTY29wZScpO1xuICAgICAgJGh0dHAgPSAkaW5qZWN0b3IuZ2V0KCckaHR0cCcpO1xuICAgICAgJHEgPSAkaW5qZWN0b3IuZ2V0KCckcScpO1xuICAgICAgJHRpbWVvdXQgPSAkaW5qZWN0b3IuZ2V0KCckdGltZW91dCcpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBEZWZpbmUgdmFsaWRhdGlvbiB0eXBlIFJlZ0V4cFxuICAgICAqIEB0eXBlIHt7fX1cbiAgICAgKi9cbiAgICB2YXIgZXhwcmVzc2lvbiA9IHt9O1xuXG4gICAgLyoqXG4gICAgICogZGVmYXVsdCB2YWxpZCBtZXRob2RcbiAgICAgKiBAdHlwZSB7e319XG4gICAgICovXG4gICAgdmFyIHZhbGlkTWV0aG9kID0gbnVsbDtcblxuICAgIC8qKlxuICAgICAqIGRlZmF1bHQgZXJyb3IsIHN1Y2Nlc3MgbWVzc2FnZVxuICAgICAqIEB0eXBlIHt7fX1cbiAgICAgKi9cbiAgICB2YXIgZGVmYXVsdE1zZyA9IHt9O1xuXG4gICAgLyoqXG4gICAgICogQWxsb3cgdXNlciB0byBzZXQgYSBjdXN0b20gRXhwcmVzc2lvbiwgZG8gcmVtZW1iZXIgc2V0IHRoZSBkZWZhdWx0IG1lc3NhZ2UgdXNpbmcgc2V0RGVmYXVsdE1zZ1xuICAgICAqIEBwYXJhbSBvYmpcbiAgICAgKiBAcmV0dXJucyB7Kn1cbiAgICAgKi9cbiAgICB0aGlzLnNldEV4cHJlc3Npb24gPSBmdW5jdGlvbihvYmopIHtcbiAgICAgIGFuZ3VsYXIuZXh0ZW5kKGV4cHJlc3Npb24sIG9iaik7XG4gICAgICByZXR1cm4gX3RoaXM7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEdldCB0aGUgRXhwcmVzc2lvblxuICAgICAqIEBwYXJhbSBleHByc1xuICAgICAqIEByZXR1cm5zIHsqfVxuICAgICAqL1xuICAgIHRoaXMuZ2V0RXhwcmVzc2lvbiA9IGZ1bmN0aW9uKGV4cHJzKSB7XG4gICAgICByZXR1cm4gZXhwcmVzc2lvbltleHByc107XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEFsbG93IHVzZXIgdG8gc2V0IGRlZmF1bHQgbWVzc2FnZVxuICAgICAqIEBwYXJhbSBvYmpcbiAgICAgKiBAcmV0dXJucyB7Kn1cbiAgICAgKi9cbiAgICB0aGlzLnNldERlZmF1bHRNc2cgPSBmdW5jdGlvbihvYmopIHtcbiAgICAgIGFuZ3VsYXIuZXh0ZW5kKGRlZmF1bHRNc2csIG9iaik7XG4gICAgICByZXR1cm4gX3RoaXM7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEdldCB0aGUgRGVmYXVsdCBNZXNzYWdlXG4gICAgICogQHBhcmFtIG1zZ1xuICAgICAqIEByZXR1cm5zIHsqfVxuICAgICAqL1xuICAgIHRoaXMuZ2V0RGVmYXVsdE1zZyA9IGZ1bmN0aW9uKG1zZykge1xuICAgICAgcmV0dXJuIGRlZmF1bHRNc2dbbXNnXTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogYWxsb3cgdXNlciB0byBzZXQgdGhlIGdsb2JhbCB2YWxpZCBtZXRob2RcbiAgICAgKiBAcGFyYW0gdlxuICAgICAqIEByZXR1cm5zIHsqfVxuICAgICAqL1xuICAgIHRoaXMuc2V0VmFsaWRNZXRob2QgPSBmdW5jdGlvbih2KSB7XG4gICAgICB2YWxpZE1ldGhvZCA9IHY7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEdldCB0aGUgdmFsaWQgbWV0aG9kICAgICBcbiAgICAgKiBAcmV0dXJucyB7Kn1cbiAgICAgKi9cbiAgICB0aGlzLmdldFZhbGlkTWV0aG9kID0gZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gdmFsaWRNZXRob2Q7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIE92ZXJyaWRlIHRoZSBlcnJvckhUTUwgZnVuY3Rpb25cbiAgICAgKiBAcGFyYW0gZnVuY1xuICAgICAqIEByZXR1cm5zIHsqfVxuICAgICAqL1xuICAgIHRoaXMuc2V0RXJyb3JIVE1MID0gZnVuY3Rpb24oZnVuYykge1xuICAgICAgaWYgKGZ1bmMuY29uc3RydWN0b3IgIT09IEZ1bmN0aW9uKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIF90aGlzLmdldEVycm9ySFRNTCA9IGZ1bmM7XG4gICAgICByZXR1cm4gX3RoaXM7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEludmFsaWQgbWVzc2FnZSBIVE1MLCBoZXJlJ3MgdGhlIGRlZmF1bHRcbiAgICAgKiBAcGFyYW0gbWVzc2FnZVxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9XG4gICAgICovXG4gICAgdGhpcy5nZXRFcnJvckhUTUwgPSBmdW5jdGlvbihtZXNzYWdlKSB7XG4gICAgICByZXR1cm4gJzxwIGNsYXNzPVwidmFsaWRhdGlvbi1pbnZhbGlkXCI+JyArIG1lc3NhZ2UgKyAnPC9wPic7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIE92ZXJyaWRlIHRoZSBzdWNjZXNzSFRNTCBmdW5jdGlvblxuICAgICAqIEBwYXJhbSBmdW5jXG4gICAgICogQHJldHVybnMgeyp9XG4gICAgICovXG4gICAgdGhpcy5zZXRTdWNjZXNzSFRNTCA9IGZ1bmN0aW9uKGZ1bmMpIHtcbiAgICAgIGlmIChmdW5jLmNvbnN0cnVjdG9yICE9PSBGdW5jdGlvbikge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBfdGhpcy5nZXRTdWNjZXNzSFRNTCA9IGZ1bmM7XG4gICAgICByZXR1cm4gX3RoaXM7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFZhbGlkIG1lc3NhZ2UgSFRNTCwgaGVyZSdzIHRoZSBkZWZhdWx0XG4gICAgICogQHBhcmFtIG1lc3NhZ2VcbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfVxuICAgICAqL1xuICAgIHRoaXMuZ2V0U3VjY2Vzc0hUTUwgPSBmdW5jdGlvbihtZXNzYWdlKSB7XG4gICAgICByZXR1cm4gJzxwIGNsYXNzPVwidmFsaWRhdGlvbi12YWxpZFwiPicgKyBtZXNzYWdlICsgJzwvcD4nO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBXaGV0aGVyIHNob3cgdGhlIHZhbGlkYXRpb24gc3VjY2VzcyBtZXNzYWdlXG4gICAgICogWW91IGNhbiBlYXNpbHkgY2hhbmdlIHRoaXMgdG8gZmFsc2UgaW4geW91ciBjb25maWdcbiAgICAgKiBleGFtcGxlOiAkdmFsaWRhdGlvblByb3ZpZGVyLnNob3dTdWNjZXNzTWVzc2FnZSA9IGZhbHNlO1xuICAgICAqIEB0eXBlIHtib29sZWFufVxuICAgICAqL1xuICAgIHRoaXMuc2hvd1N1Y2Nlc3NNZXNzYWdlID0gdHJ1ZTtcblxuICAgIC8qKlxuICAgICAqIFdoZXRoZXIgc2hvdyB0aGUgdmFsaWRhdGlvbiBlcnJvciBtZXNzYWdlXG4gICAgICogWW91IGNhbiBlYXNpbHkgY2hhbmdlIHRoaXMgdG8gZmFsc2UgaW4geW91ciBjb25maWdcbiAgICAgKiBleGFtcGxlOiAkdmFsaWRhdGlvblByb3ZpZGVyLnNob3dFcnJvck1lc3NhZ2UgPSBmYWxzZTtcbiAgICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICAgKi9cbiAgICB0aGlzLnNob3dFcnJvck1lc3NhZ2UgPSB0cnVlO1xuXG4gICAgLyoqXG4gICAgICogQ2hlY2sgZm9ybSB2YWxpZCwgcmV0dXJuIHRydWVcbiAgICAgKiBjaGVja1ZhbGlkKEZvcm0pOiBDaGVjayB0aGUgc3BlY2lmaWMgZm9ybShGb3JtKSB2YWxpZCBmcm9tIGFuZ3VsYXIgYCR2YWxpZGBcbiAgICAgKiBAcGFyYW0gZm9ybVxuICAgICAqIEByZXR1cm5zIHtib29sZWFufVxuICAgICAqL1xuICAgIHRoaXMuY2hlY2tWYWxpZCA9IGZ1bmN0aW9uKGZvcm0pIHtcbiAgICAgIHJldHVybiAhIShmb3JtICYmIGZvcm0uJHZhbGlkKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogVmFsaWRhdGUgdGhlIGZvcm0gd2hlbiBjbGljayBzdWJtaXQsIHdoZW4gYHZhbGlkTWV0aG9kID0gc3VibWl0YFxuICAgICAqIEBwYXJhbSBmb3JtXG4gICAgICogQHJldHVybnMge3Byb21pc2V8Kn1cbiAgICAgKi9cbiAgICB0aGlzLnZhbGlkYXRlID0gZnVuY3Rpb24oZm9ybSkge1xuICAgICAgdmFyIGRlZmVycmVkID0gJHEuZGVmZXIoKTtcbiAgICAgIHZhciBpZHggPSAwO1xuXG4gICAgICBpZiAoZm9ybSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ1RoaXMgaXMgbm90IGEgcmVndWxhciBGb3JtIG5hbWUgc2NvcGUnKTtcbiAgICAgICAgZGVmZXJyZWQucmVqZWN0KCdUaGlzIGlzIG5vdCBhIHJlZ3VsYXIgRm9ybSBuYW1lIHNjb3BlJyk7XG4gICAgICAgIHJldHVybiBkZWZlcnJlZC5wcm9taXNlO1xuICAgICAgfVxuXG4gICAgICBpZiAoZm9ybS52YWxpZGF0aW9uSWQpIHsgLy8gc2luZ2xlXG4gICAgICAgICRzY29wZS4kYnJvYWRjYXN0KGZvcm0uJG5hbWUgKyAnc3VibWl0LScgKyBmb3JtLnZhbGlkYXRpb25JZCwgaWR4KyspO1xuICAgICAgfSBlbHNlIGlmIChmb3JtLmNvbnN0cnVjdG9yID09PSBBcnJheSkgeyAvLyBtdWx0aXBsZVxuICAgICAgICBmb3IgKHZhciBrIGluIGZvcm0pIHtcbiAgICAgICAgICAkc2NvcGUuJGJyb2FkY2FzdChmb3JtW2tdLiRuYW1lICsgJ3N1Ym1pdC0nICsgZm9ybVtrXS52YWxpZGF0aW9uSWQsIGlkeCsrKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZm9yICh2YXIgaSBpbiBmb3JtKSB7IC8vIHdob2xlIHNjb3BlXG4gICAgICAgICAgaWYgKGlbMF0gIT09ICckJyAmJiBmb3JtW2ldLmhhc093blByb3BlcnR5KCckZGlydHknKSkge1xuICAgICAgICAgICAgJHNjb3BlLiRicm9hZGNhc3QoaSArICdzdWJtaXQtJyArIGZvcm1baV0udmFsaWRhdGlvbklkLCBpZHgrKyk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGRlZmVycmVkLnByb21pc2Uuc3VjY2VzcyA9IGZ1bmN0aW9uKGZuKSB7XG4gICAgICAgIGRlZmVycmVkLnByb21pc2UudGhlbihmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgICAgIGZuKHZhbHVlKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBkZWZlcnJlZC5wcm9taXNlO1xuICAgICAgfTtcblxuICAgICAgZGVmZXJyZWQucHJvbWlzZS5lcnJvciA9IGZ1bmN0aW9uKGZuKSB7XG4gICAgICAgIGRlZmVycmVkLnByb21pc2UudGhlbihudWxsLCBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgICAgIGZuKHZhbHVlKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBkZWZlcnJlZC5wcm9taXNlO1xuICAgICAgfTtcblxuICAgICAgJHRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgICAgIGlmIChfdGhpcy5jaGVja1ZhbGlkKGZvcm0pKSB7XG4gICAgICAgICAgZGVmZXJyZWQucmVzb2x2ZSgnc3VjY2VzcycpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGRlZmVycmVkLnJlamVjdCgnZXJyb3InKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG5cbiAgICAgIHJldHVybiBkZWZlcnJlZC5wcm9taXNlO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBEbyB0aGlzIGZ1bmN0aW9uIGlmIHZhbGlkYXRpb24gdmFsaWRcbiAgICAgKiBAcGFyYW0gZWxlbWVudFxuICAgICAqL1xuICAgIHRoaXMudmFsaWRDYWxsYmFjayA9IG51bGw7XG5cbiAgICAvKipcbiAgICAgKiBEbyB0aGlzIGZ1bmN0aW9uIGlmIHZhbGlkYXRpb24gaW52YWxpZFxuICAgICAqIEBwYXJhbSBlbGVtZW50XG4gICAgICovXG4gICAgdGhpcy5pbnZhbGlkQ2FsbGJhY2sgPSBudWxsO1xuXG4gICAgLyoqXG4gICAgICogRG8gdGhpcyBmdW5jdGlvbiB3aGVuIHJlc2V0IGlzIHBlcmZvcm1lZFxuICAgICAqIEBwYXJhbSBlbGVtZW50XG4gICAgICovXG4gICAgdGhpcy5yZXNldENhbGxiYWNrID0gbnVsbDtcblxuICAgIC8qKlxuICAgICAqIHJlc2V0IHRoZSBzcGVjaWZpYyBmb3JtXG4gICAgICogQHBhcmFtIGZvcm1cbiAgICAgKi9cbiAgICB0aGlzLnJlc2V0ID0gZnVuY3Rpb24oZm9ybSkge1xuICAgICAgaWYgKGZvcm0gPT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdUaGlzIGlzIG5vdCBhIHJlZ3VsYXIgRm9ybSBuYW1lIHNjb3BlJyk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgaWYgKGZvcm0udmFsaWRhdGlvbklkKSB7XG4gICAgICAgICRzY29wZS4kYnJvYWRjYXN0KGZvcm0uJG5hbWUgKyAncmVzZXQtJyArIGZvcm0udmFsaWRhdGlvbklkKTtcbiAgICAgIH0gZWxzZSBpZiAoZm9ybS5jb25zdHJ1Y3RvciA9PT0gQXJyYXkpIHtcbiAgICAgICAgZm9yICh2YXIgayBpbiBmb3JtKSB7XG4gICAgICAgICAgJHNjb3BlLiRicm9hZGNhc3QoZm9ybVtrXS4kbmFtZSArICdyZXNldC0nICsgZm9ybVtrXS52YWxpZGF0aW9uSWQpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBmb3IgKHZhciBpIGluIGZvcm0pIHtcbiAgICAgICAgICBpZiAoaVswXSAhPT0gJyQnICYmIGZvcm1baV0uaGFzT3duUHJvcGVydHkoJyRkaXJ0eScpKSB7XG4gICAgICAgICAgICAkc2NvcGUuJGJyb2FkY2FzdChpICsgJ3Jlc2V0LScgKyBmb3JtW2ldLnZhbGlkYXRpb25JZCk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEFkZCBNZXNzYWdlIEVsZW1lbnQgaW4gY29uZmlnIHBoYXNlXG4gICAgICogV2hlbiB5b3UgbmVlZCBjdXN0b20geW91ciBtZXNzYWdlRWxlbWVudCBcbiAgICAgKiBOT0RFOiB0aGlzIGZ1bnRpb24gJiBhbmQgYG1lc3NhZ2UtaWRgIGF0dHJpYnV0ZSwgaGF2ZSBzaW1pbGFyIHB1cnBvc2UuXG4gICAgICogVGhpcyBmdW5jdGlvbiB3aWxsIGhlbHAgeW91IGFkZCB5b3VyIGBtZXNzYWdlRWxlbWVudGAgYXV0b21hdGljYWxseSBpbnN0ZWFkIG9mIHByZS1kZWZpbmVkLlxuICAgICAqIEBwYXJhbSBlbGVtZW50XG4gICAgICovXG4gICAgdGhpcy5hZGRNc2dFbGVtZW50ID0gZnVuY3Rpb24oZWxlbWVudCkge1xuICAgICAgcmV0dXJuIGVsZW1lbnQuYWZ0ZXIoJzxzcGFuPjwvc3Bhbj4nKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQWRkIE1lc3NhZ2UgRWxlbWVudCBpbiBjb25maWcgcGhhc2VcbiAgICAgKiBXaGVuIHlvdSBuZWVkIGN1c3RvbSB5b3VyIG1lc3NhZ2VFbGVtZW50IFxuICAgICAqIE5PREU6IHRoaXMgZnVudGlvbiAmIGFuZCBgbWVzc2FnZS1pZGAgYXR0cmlidXRlLCBoYXZlIHNpbWlsYXIgcHVycG9zZS5cbiAgICAgKiBUaGlzIGZ1bmN0aW9uIHdpbGwgaGVscCB5b3UgYWRkIHlvdXIgYG1lc3NhZ2VFbGVtZW50YCBhdXRvbWF0aWNhbGx5IGluc3RlYWQgb2YgcHJlLWRlZmluZWQuXG4gICAgICogQHBhcmFtIGVsZW1lbnRcbiAgICAgKi9cbiAgICB0aGlzLmdldE1zZ0VsZW1lbnQgPSBmdW5jdGlvbihlbGVtZW50KSB7XG4gICAgICByZXR1cm4gZWxlbWVudC5uZXh0KCk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqICRnZXRcbiAgICAgKiBAcmV0dXJucyB7e3NldEVycm9ySFRNTDogKiwgZ2V0RXJyb3JIVE1MOiBGdW5jdGlvbiwgc2V0U3VjY2Vzc0hUTUw6ICosIGdldFN1Y2Nlc3NIVE1MOiBGdW5jdGlvbiwgc2V0RXhwcmVzc2lvbjogKiwgZ2V0RXhwcmVzc2lvbjogRnVuY3Rpb24sIHNldERlZmF1bHRNc2c6ICosIGdldERlZmF1bHRNc2c6IEZ1bmN0aW9uLCBjaGVja1ZhbGlkOiBGdW5jdGlvbiwgdmFsaWRhdGU6IEZ1bmN0aW9uLCByZXNldDogRnVuY3Rpb259fVxuICAgICAqL1xuICAgIHRoaXMuJGdldCA9IFsnJGluamVjdG9yJywgZnVuY3Rpb24oJGluamVjdG9yKSB7XG4gICAgICBzZXR1cCgkaW5qZWN0b3IpO1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgc2V0VmFsaWRNZXRob2Q6IHRoaXMuc2V0VmFsaWRNZXRob2QsXG4gICAgICAgIGdldFZhbGlkTWV0aG9kOiB0aGlzLmdldFZhbGlkTWV0aG9kLFxuICAgICAgICBzZXRFcnJvckhUTUw6IHRoaXMuc2V0RXJyb3JIVE1MLFxuICAgICAgICBnZXRFcnJvckhUTUw6IHRoaXMuZ2V0RXJyb3JIVE1MLFxuICAgICAgICBzZXRTdWNjZXNzSFRNTDogdGhpcy5zZXRTdWNjZXNzSFRNTCxcbiAgICAgICAgZ2V0U3VjY2Vzc0hUTUw6IHRoaXMuZ2V0U3VjY2Vzc0hUTUwsXG4gICAgICAgIHNldEV4cHJlc3Npb246IHRoaXMuc2V0RXhwcmVzc2lvbixcbiAgICAgICAgZ2V0RXhwcmVzc2lvbjogdGhpcy5nZXRFeHByZXNzaW9uLFxuICAgICAgICBzZXREZWZhdWx0TXNnOiB0aGlzLnNldERlZmF1bHRNc2csXG4gICAgICAgIGdldERlZmF1bHRNc2c6IHRoaXMuZ2V0RGVmYXVsdE1zZyxcbiAgICAgICAgc2hvd1N1Y2Nlc3NNZXNzYWdlOiB0aGlzLnNob3dTdWNjZXNzTWVzc2FnZSxcbiAgICAgICAgc2hvd0Vycm9yTWVzc2FnZTogdGhpcy5zaG93RXJyb3JNZXNzYWdlLFxuICAgICAgICBjaGVja1ZhbGlkOiB0aGlzLmNoZWNrVmFsaWQsXG4gICAgICAgIHZhbGlkYXRlOiB0aGlzLnZhbGlkYXRlLFxuICAgICAgICB2YWxpZENhbGxiYWNrOiB0aGlzLnZhbGlkQ2FsbGJhY2ssXG4gICAgICAgIGludmFsaWRDYWxsYmFjazogdGhpcy5pbnZhbGlkQ2FsbGJhY2ssXG4gICAgICAgIHJlc2V0Q2FsbGJhY2s6IHRoaXMucmVzZXRDYWxsYmFjayxcbiAgICAgICAgcmVzZXQ6IHRoaXMucmVzZXQsXG4gICAgICAgIGFkZE1zZ0VsZW1lbnQ6IHRoaXMuYWRkTXNnRWxlbWVudCxcbiAgICAgICAgZ2V0TXNnRWxlbWVudDogdGhpcy5nZXRNc2dFbGVtZW50XG4gICAgICB9O1xuICAgIH1dO1xuICB9XG59KS5jYWxsKHRoaXMpO1xuXG4oZnVuY3Rpb24oKSB7XG4gIGFuZ3VsYXJcbiAgICAubW9kdWxlKCd2YWxpZGF0aW9uLmRpcmVjdGl2ZScpXG4gICAgLmRpcmVjdGl2ZSgndmFsaWRhdGlvblJlc2V0JywgUmVzZXQpO1xuXG4gIGZ1bmN0aW9uIFJlc2V0KCRpbmplY3Rvcikge1xuICAgIHZhciAkdmFsaWRhdGlvblByb3ZpZGVyID0gJGluamVjdG9yLmdldCgnJHZhbGlkYXRpb24nKTtcbiAgICB2YXIgJHRpbWVvdXQgPSAkaW5qZWN0b3IuZ2V0KCckdGltZW91dCcpO1xuICAgIHZhciAkcGFyc2UgPSAkaW5qZWN0b3IuZ2V0KCckcGFyc2UnKTtcbiAgICByZXR1cm4ge1xuICAgICAgbGluazogZnVuY3Rpb24gcG9zdExpbmsoc2NvcGUsIGVsZW1lbnQsIGF0dHJzKSB7XG4gICAgICAgIHZhciBmb3JtID0gJHBhcnNlKGF0dHJzLnZhbGlkYXRpb25SZXNldCkoc2NvcGUpO1xuICAgICAgICAkdGltZW91dChmdW5jdGlvbigpIHtcbiAgICAgICAgICBlbGVtZW50Lm9uKCdjbGljaycsIGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgICR2YWxpZGF0aW9uUHJvdmlkZXIucmVzZXQoZm9ybSk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH07XG4gIH1cbiAgUmVzZXQuJGluamVjdCA9IFsnJGluamVjdG9yJ107XG59KS5jYWxsKHRoaXMpO1xuXG4oZnVuY3Rpb24oKSB7XG4gIGFuZ3VsYXJcbiAgICAubW9kdWxlKCd2YWxpZGF0aW9uLmRpcmVjdGl2ZScpXG4gICAgLmRpcmVjdGl2ZSgndmFsaWRhdGlvblN1Ym1pdCcsIFN1Ym1pdCk7XG5cbiAgZnVuY3Rpb24gU3VibWl0KCRpbmplY3Rvcikge1xuICAgIHZhciAkdmFsaWRhdGlvblByb3ZpZGVyID0gJGluamVjdG9yLmdldCgnJHZhbGlkYXRpb24nKTtcbiAgICB2YXIgJHRpbWVvdXQgPSAkaW5qZWN0b3IuZ2V0KCckdGltZW91dCcpO1xuICAgIHZhciAkcGFyc2UgPSAkaW5qZWN0b3IuZ2V0KCckcGFyc2UnKTtcbiAgICByZXR1cm4ge1xuICAgICAgcHJpb3JpdHk6IDEsIC8vIGV4ZWN1dGUgYmVmb3JlIG5nLWNsaWNrICgwKVxuICAgICAgcmVxdWlyZTogJz9uZ0NsaWNrJyxcbiAgICAgIGxpbms6IGZ1bmN0aW9uIHBvc3RMaW5rKHNjb3BlLCBlbGVtZW50LCBhdHRycykge1xuICAgICAgICB2YXIgZm9ybSA9ICRwYXJzZShhdHRycy52YWxpZGF0aW9uU3VibWl0KShzY29wZSk7XG4gICAgICAgICR0aW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgICAgICAgIC8vIERpc2FibGUgbmctY2xpY2sgZXZlbnQgcHJvcGFnYXRpb25cbiAgICAgICAgICBlbGVtZW50Lm9mZignY2xpY2snKTtcbiAgICAgICAgICBlbGVtZW50Lm9uKCdjbGljaycsIGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgICR2YWxpZGF0aW9uUHJvdmlkZXIudmFsaWRhdGUoZm9ybSlcbiAgICAgICAgICAgICAgLnN1Y2Nlc3MoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgJHBhcnNlKGF0dHJzLm5nQ2xpY2spKHNjb3BlKTtcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH07XG4gIH1cbiAgU3VibWl0LiRpbmplY3QgPSBbJyRpbmplY3RvciddO1xufSkuY2FsbCh0aGlzKTtcblxuKGZ1bmN0aW9uKCkge1xuICBhbmd1bGFyXG4gICAgLm1vZHVsZSgndmFsaWRhdGlvbi5kaXJlY3RpdmUnKVxuICAgIC5kaXJlY3RpdmUoJ3ZhbGlkYXRvcicsIFZhbGlkYXRvcik7XG5cbiAgZnVuY3Rpb24gVmFsaWRhdG9yKCRpbmplY3Rvcikge1xuICAgIHZhciAkdmFsaWRhdGlvblByb3ZpZGVyID0gJGluamVjdG9yLmdldCgnJHZhbGlkYXRpb24nKTtcbiAgICB2YXIgJHEgPSAkaW5qZWN0b3IuZ2V0KCckcScpO1xuICAgIHZhciAkdGltZW91dCA9ICRpbmplY3Rvci5nZXQoJyR0aW1lb3V0Jyk7XG4gICAgdmFyICRjb21waWxlID0gJGluamVjdG9yLmdldCgnJGNvbXBpbGUnKTtcbiAgICB2YXIgJHBhcnNlID0gJGluamVjdG9yLmdldCgnJHBhcnNlJyk7XG4gICAgdmFyIGdyb3VwcyA9IHt9O1xuXG4gICAgLyoqXG4gICAgICogRG8gdGhpcyBmdW5jdGlvbiBpZiB2YWxpZGF0aW9uIHZhbGlkXG4gICAgICogQHBhcmFtIGVsZW1lbnRcbiAgICAgKiBAcGFyYW0gdmFsaWRNZXNzYWdlXG4gICAgICogQHBhcmFtIHZhbGlkYXRpb25cbiAgICAgKiBAcGFyYW0gY2FsbGJhY2tcbiAgICAgKiBAcGFyYW0gY3RybFxuICAgICAqIEByZXR1cm5zIHt9XG4gICAgICovXG4gICAgdmFyIHZhbGlkRnVuYyA9IGZ1bmN0aW9uKGVsZW1lbnQsIHZhbGlkTWVzc2FnZSwgdmFsaWRhdGlvbiwgc2NvcGUsIGN0cmwsIGF0dHJzKSB7XG4gICAgICB2YXIgbWVzc2FnZVRvU2hvdyA9IHZhbGlkTWVzc2FnZSB8fCAkdmFsaWRhdGlvblByb3ZpZGVyLmdldERlZmF1bHRNc2codmFsaWRhdGlvbikuc3VjY2VzcztcbiAgICAgIHZhciB2YWxpZENhbGxiYWNrID0gJHBhcnNlKGF0dHJzLnZhbGlkQ2FsbGJhY2spO1xuICAgICAgdmFyIG1lc3NhZ2VJZCA9IGF0dHJzLm1lc3NhZ2VJZDtcbiAgICAgIHZhciB2YWxpZGF0aW9uR3JvdXAgPSBhdHRycy52YWxpZGF0aW9uR3JvdXA7XG4gICAgICB2YXIgbWVzc2FnZUVsZW07XG5cbiAgICAgIGlmIChtZXNzYWdlSWQgfHwgdmFsaWRhdGlvbkdyb3VwKSBtZXNzYWdlRWxlbSA9IGFuZ3VsYXIuZWxlbWVudChkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjJyArIChtZXNzYWdlSWQgfHwgdmFsaWRhdGlvbkdyb3VwKSkpO1xuICAgICAgZWxzZSBtZXNzYWdlRWxlbSA9ICR2YWxpZGF0aW9uUHJvdmlkZXIuZ2V0TXNnRWxlbWVudChlbGVtZW50KTtcblxuICAgICAgaWYgKGVsZW1lbnQuYXR0cignbm8tdmFsaWRhdGlvbi1tZXNzYWdlJykpIHtcbiAgICAgICAgbWVzc2FnZUVsZW0uY3NzKCdkaXNwbGF5JywgJ25vbmUnKTtcbiAgICAgIH0gZWxzZSBpZiAoJHZhbGlkYXRpb25Qcm92aWRlci5zaG93U3VjY2Vzc01lc3NhZ2UgJiYgbWVzc2FnZVRvU2hvdykge1xuICAgICAgICBtZXNzYWdlRWxlbS5odG1sKCcnKS5hcHBlbmQoJGNvbXBpbGUoJHZhbGlkYXRpb25Qcm92aWRlci5nZXRTdWNjZXNzSFRNTChtZXNzYWdlVG9TaG93LCBlbGVtZW50LCBhdHRycykpKHNjb3BlKSk7XG4gICAgICAgIG1lc3NhZ2VFbGVtLmNzcygnZGlzcGxheScsICcnKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG1lc3NhZ2VFbGVtLmNzcygnZGlzcGxheScsICdub25lJyk7XG4gICAgICB9XG5cbiAgICAgIGN0cmwuJHNldFZhbGlkaXR5KGN0cmwuJG5hbWUsIHRydWUpO1xuICAgICAgdmFsaWRDYWxsYmFjayhzY29wZSwge1xuICAgICAgICBtZXNzYWdlOiBtZXNzYWdlVG9TaG93XG4gICAgICB9KTtcbiAgICAgIGlmICgkdmFsaWRhdGlvblByb3ZpZGVyLnZhbGlkQ2FsbGJhY2spICR2YWxpZGF0aW9uUHJvdmlkZXIudmFsaWRDYWxsYmFjayhlbGVtZW50KTtcblxuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfTtcblxuXG4gICAgLyoqXG4gICAgICogRG8gdGhpcyBmdW5jdGlvbiBpZiB2YWxpZGF0aW9uIGludmFsaWRcbiAgICAgKiBAcGFyYW0gZWxlbWVudFxuICAgICAqIEBwYXJhbSB2YWxpZE1lc3NhZ2VcbiAgICAgKiBAcGFyYW0gdmFsaWRhdGlvblxuICAgICAqIEBwYXJhbSBjYWxsYmFja1xuICAgICAqIEBwYXJhbSBjdHJsXG4gICAgICogQHJldHVybnMge31cbiAgICAgKi9cbiAgICB2YXIgaW52YWxpZEZ1bmMgPSBmdW5jdGlvbihlbGVtZW50LCB2YWxpZE1lc3NhZ2UsIHZhbGlkYXRpb24sIHNjb3BlLCBjdHJsLCBhdHRycykge1xuICAgICAgdmFyIG1lc3NhZ2VUb1Nob3cgPSB2YWxpZE1lc3NhZ2UgfHwgJHZhbGlkYXRpb25Qcm92aWRlci5nZXREZWZhdWx0TXNnKHZhbGlkYXRpb24pLmVycm9yO1xuICAgICAgdmFyIGludmFsaWRDYWxsYmFjayA9ICRwYXJzZShhdHRycy5pbnZhbGlkQ2FsbGJhY2spO1xuICAgICAgdmFyIG1lc3NhZ2VJZCA9IGF0dHJzLm1lc3NhZ2VJZDtcbiAgICAgIHZhciB2YWxpZGF0aW9uR3JvdXAgPSBhdHRycy52YWxpZGF0aW9uR3JvdXA7XG4gICAgICB2YXIgbWVzc2FnZUVsZW07XG5cbiAgICAgIGlmIChtZXNzYWdlSWQgfHwgdmFsaWRhdGlvbkdyb3VwKSBtZXNzYWdlRWxlbSA9IGFuZ3VsYXIuZWxlbWVudChkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjJyArIChtZXNzYWdlSWQgfHwgdmFsaWRhdGlvbkdyb3VwKSkpO1xuICAgICAgZWxzZSBtZXNzYWdlRWxlbSA9ICR2YWxpZGF0aW9uUHJvdmlkZXIuZ2V0TXNnRWxlbWVudChlbGVtZW50KTtcblxuICAgICAgaWYgKGVsZW1lbnQuYXR0cignbm8tdmFsaWRhdGlvbi1tZXNzYWdlJykpIHtcbiAgICAgICAgbWVzc2FnZUVsZW0uY3NzKCdkaXNwbGF5JywgJ25vbmUnKTtcbiAgICAgIH0gZWxzZSBpZiAoJHZhbGlkYXRpb25Qcm92aWRlci5zaG93RXJyb3JNZXNzYWdlICYmIG1lc3NhZ2VUb1Nob3cpIHtcbiAgICAgICAgbWVzc2FnZUVsZW0uaHRtbCgnJykuYXBwZW5kKCRjb21waWxlKCR2YWxpZGF0aW9uUHJvdmlkZXIuZ2V0RXJyb3JIVE1MKG1lc3NhZ2VUb1Nob3csIGVsZW1lbnQsIGF0dHJzKSkoc2NvcGUpKTtcbiAgICAgICAgbWVzc2FnZUVsZW0uY3NzKCdkaXNwbGF5JywgJycpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbWVzc2FnZUVsZW0uY3NzKCdkaXNwbGF5JywgJ25vbmUnKTtcbiAgICAgIH1cblxuICAgICAgY3RybC4kc2V0VmFsaWRpdHkoY3RybC4kbmFtZSwgZmFsc2UpO1xuICAgICAgaW52YWxpZENhbGxiYWNrKHNjb3BlLCB7XG4gICAgICAgIG1lc3NhZ2U6IG1lc3NhZ2VUb1Nob3dcbiAgICAgIH0pO1xuICAgICAgaWYgKCR2YWxpZGF0aW9uUHJvdmlkZXIuaW52YWxpZENhbGxiYWNrKSAkdmFsaWRhdGlvblByb3ZpZGVyLmludmFsaWRDYWxsYmFjayhlbGVtZW50KTtcblxuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBWZXJpZnkgd2hldGhlciB0aGVyZSBpcyBvbmUgb2YgdGhlIGVsZW1lbnRzIGluc2lkZSB0aGUgZ3JvdXAgdmFsaWQuXG4gICAgICogSWYgc28sIGl0IHJldHVybnMgdHJ1ZSwgb3RoZXJ3aXNlLCBpdCByZXR1cm5zIGZhbHNlXG4gICAgICpcbiAgICAgKiBAcGFyYW0gdmFsaWRhdGlvbkdyb3VwXG4gICAgICogQHJldHVybiB7Ym9vbGVhbn1cbiAgICAgKi9cbiAgICB2YXIgY2hlY2tWYWxpZGF0aW9uR3JvdXAgPSBmdW5jdGlvbih2YWxpZGF0aW9uR3JvdXApIHtcbiAgICAgIHZhciBncm91cCA9IGdyb3Vwc1t2YWxpZGF0aW9uR3JvdXBdO1xuXG4gICAgICByZXR1cm4gT2JqZWN0LmtleXMoZ3JvdXApLnNvbWUoZnVuY3Rpb24oa2V5KSB7XG4gICAgICAgIHJldHVybiBncm91cFtrZXldO1xuICAgICAgfSk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFNldCB2YWxpZGl0eSB0byBhbGwgZWxlbWVudHMgaW5zaWRlIHRoZSBnaXZlbiBncm91cFxuICAgICAqXG4gICAgICogQHBhcmFtIHNjb3BlXG4gICAgICogQHBhcmFtIGdyb3VwTmFtZVxuICAgICAqIEBwYXJhbSB2YWxpZGl0eVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHNldFZhbGlkYXRpb25Hcm91cChzY29wZSwgdmFsaWRhdGlvbkdyb3VwLCB2YWxpZGl0eSkge1xuICAgICAgdmFyIHZhbGlkYXRpb25Hcm91cEVsZW1zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnKlt2YWxpZGF0aW9uLWdyb3VwPScgKyB2YWxpZGF0aW9uR3JvdXAgKyAnXScpO1xuXG4gICAgICAvLyBMb29wIHRocm91Z2ggYWxsIGVsZW1lbnRzIGluc2lkZSB0aGUgZ3JvdXBcbiAgICAgIGZvciAodmFyIGkgPSAwLCBsZW4gPSB2YWxpZGF0aW9uR3JvdXBFbGVtcy5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgICAgICB2YXIgZWxlbSA9IHZhbGlkYXRpb25Hcm91cEVsZW1zW2ldO1xuICAgICAgICB2YXIgZm9ybU5hbWUgPSBlbGVtLmZvcm0ubmFtZTtcbiAgICAgICAgdmFyIGVsZW1OYW1lID0gZWxlbS5uYW1lO1xuICAgICAgICBzY29wZVtmb3JtTmFtZV1bZWxlbU5hbWVdLiRzZXRWYWxpZGl0eShlbGVtTmFtZSwgdmFsaWRpdHkpO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIGNvbGxlY3QgZWxlbWVudHMgZm9yIGZvY3VzXG4gICAgICogQHR5cGUge09iamVjdH1cbiAgICAgKioqcHJpdmF0ZSB2YXJpYWJsZVxuICAgICAqL1xuICAgIHZhciBmb2N1c0VsZW1lbnRzID0ge307XG5cblxuICAgIC8qKlxuICAgICAqIENoZWNrIFZhbGlkYXRpb24gd2l0aCBGdW5jdGlvbiBvciBSZWdFeHBcbiAgICAgKiBAcGFyYW0gc2NvcGVcbiAgICAgKiBAcGFyYW0gZWxlbWVudFxuICAgICAqIEBwYXJhbSBhdHRyc1xuICAgICAqIEBwYXJhbSBjdHJsXG4gICAgICogQHBhcmFtIHZhbGlkYXRpb25cbiAgICAgKiBAcGFyYW0gdmFsdWVcbiAgICAgKiBAcmV0dXJucyB7fVxuICAgICAqL1xuICAgIHZhciBjaGVja1ZhbGlkYXRpb24gPSBmdW5jdGlvbihzY29wZSwgZWxlbWVudCwgYXR0cnMsIGN0cmwsIHZhbGlkYXRpb24sIHZhbHVlKSB7XG4gICAgICB2YXIgdmFsaWRhdG9ycyA9IHZhbGlkYXRpb24uc2xpY2UoMCk7XG4gICAgICB2YXIgdmFsaWRhdG9yRXhwciA9IHZhbGlkYXRvcnNbMF0udHJpbSgpO1xuICAgICAgdmFyIHBhcmFtSW5kZXggPSB2YWxpZGF0b3JFeHByLmluZGV4T2YoJz0nKTtcbiAgICAgIHZhciB2YWxpZGF0b3IgPSBwYXJhbUluZGV4ID09PSAtMSA/IHZhbGlkYXRvckV4cHIgOiB2YWxpZGF0b3JFeHByLnN1YnN0cigwLCBwYXJhbUluZGV4KTtcbiAgICAgIHZhciB2YWxpZGF0b3JQYXJhbSA9IHBhcmFtSW5kZXggPT09IC0xID8gbnVsbCA6IHZhbGlkYXRvckV4cHIuc3Vic3RyKHBhcmFtSW5kZXggKyAxKTtcbiAgICAgIHZhciBsZWZ0VmFsaWRhdGlvbiA9IHZhbGlkYXRvcnMuc2xpY2UoMSk7XG4gICAgICB2YXIgc3VjY2Vzc01lc3NhZ2UgPSB2YWxpZGF0b3IgKyAnU3VjY2Vzc01lc3NhZ2UnO1xuICAgICAgdmFyIGVycm9yTWVzc2FnZSA9IHZhbGlkYXRvciArICdFcnJvck1lc3NhZ2UnO1xuICAgICAgdmFyIGV4cHJlc3Npb24gPSAkdmFsaWRhdGlvblByb3ZpZGVyLmdldEV4cHJlc3Npb24odmFsaWRhdG9yKTtcbiAgICAgIHZhciB2YWxpZGF0aW9uR3JvdXAgPSBhdHRycy52YWxpZGF0aW9uR3JvdXA7XG4gICAgICB2YXIgdmFsaWQgPSB7XG4gICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgIHZhbGlkRnVuYyhlbGVtZW50LCBhdHRyc1tzdWNjZXNzTWVzc2FnZV0sIHZhbGlkYXRvciwgc2NvcGUsIGN0cmwsIGF0dHJzKTtcbiAgICAgICAgICBpZiAobGVmdFZhbGlkYXRpb24ubGVuZ3RoKSB7XG4gICAgICAgICAgICByZXR1cm4gY2hlY2tWYWxpZGF0aW9uKHNjb3BlLCBlbGVtZW50LCBhdHRycywgY3RybCwgbGVmdFZhbGlkYXRpb24sIHZhbHVlKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBlcnJvcjogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgcmV0dXJuIGludmFsaWRGdW5jKGVsZW1lbnQsIGF0dHJzW2Vycm9yTWVzc2FnZV0sIHZhbGlkYXRvciwgc2NvcGUsIGN0cmwsIGF0dHJzKTtcbiAgICAgICAgfVxuICAgICAgfTtcblxuICAgICAgaWYgKGV4cHJlc3Npb24gPT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdZb3UgYXJlIHVzaW5nIHVuZGVmaW5lZCB2YWxpZGF0b3IgXCIlc1wiJywgdmFsaWRhdG9yKTtcbiAgICAgICAgaWYgKGxlZnRWYWxpZGF0aW9uLmxlbmd0aCkgcmV0dXJuIGNoZWNrVmFsaWRhdGlvbihzY29wZSwgZWxlbWVudCwgYXR0cnMsIGN0cmwsIGxlZnRWYWxpZGF0aW9uLCB2YWx1ZSk7XG4gICAgICAgIGVsc2UgcmV0dXJuO1xuICAgICAgfVxuICAgICAgLy8gQ2hlY2sgd2l0aCBGdW5jdGlvblxuICAgICAgaWYgKGV4cHJlc3Npb24uY29uc3RydWN0b3IgPT09IEZ1bmN0aW9uKSB7XG4gICAgICAgIHJldHVybiAkcS5hbGwoWyR2YWxpZGF0aW9uUHJvdmlkZXIuZ2V0RXhwcmVzc2lvbih2YWxpZGF0b3IpKHZhbHVlLCBzY29wZSwgZWxlbWVudCwgYXR0cnMsIHZhbGlkYXRvclBhcmFtKV0pXG4gICAgICAgICAgLnRoZW4oZnVuY3Rpb24oZGF0YSkge1xuICAgICAgICAgICAgaWYgKGRhdGEgJiYgZGF0YS5sZW5ndGggPiAwICYmIGRhdGFbMF0pIHtcbiAgICAgICAgICAgICAgaWYgKHZhbGlkYXRpb25Hcm91cCkge1xuICAgICAgICAgICAgICAgIGdyb3Vwc1t2YWxpZGF0aW9uR3JvdXBdW2N0cmwuJG5hbWVdID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBzZXRWYWxpZGF0aW9uR3JvdXAoc2NvcGUsIHZhbGlkYXRpb25Hcm91cCwgdHJ1ZSk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgcmV0dXJuIHZhbGlkLnN1Y2Nlc3MoKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAodmFsaWRhdGlvbkdyb3VwKSB7XG4gICAgICAgICAgICAgIGdyb3Vwc1t2YWxpZGF0aW9uR3JvdXBdW2N0cmwuJG5hbWVdID0gZmFsc2U7XG5cbiAgICAgICAgICAgICAgLy8gV2hlbmV2ZXIgdGhlIGVsZW1lbnQgaXMgaW52YWxpZCwgd2UnbGwgY2hlY2sgd2hldGhlciBvbmUgb2YgdGhlIGVsZW1lbnRzIGluc2lkZSB0aGUgaXRzIGdyb3VwIHZhbGlkIG9yIG5vdC5cbiAgICAgICAgICAgICAgLy8gSWYgdGhlcmUgaXMgYSB2YWxpZCBlbGVtZW50LCBpdHMgaW52YWxpZCBtZXNzYWdlIHdvbid0IGJlIHNob3duLCBPdGhlcndpc2UsIHNob3dzIGl0cyBpbnZhbGlkIG1lc3NhZ2UuXG4gICAgICAgICAgICAgIGlmIChjaGVja1ZhbGlkYXRpb25Hcm91cCh2YWxpZGF0aW9uR3JvdXApKSB7XG4gICAgICAgICAgICAgICAgc2V0VmFsaWRhdGlvbkdyb3VwKHNjb3BlLCB2YWxpZGF0aW9uR3JvdXAsIHRydWUpO1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHNldFZhbGlkYXRpb25Hcm91cChzY29wZSwgdmFsaWRhdGlvbkdyb3VwLCBmYWxzZSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHZhbGlkLmVycm9yKCk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSByZXR1cm4gdmFsaWQuZXJyb3IoKTtcbiAgICAgICAgICB9LCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHJldHVybiB2YWxpZC5lcnJvcigpO1xuICAgICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICAvLyBDaGVjayB3aXRoIFJlZ0V4cFxuICAgICAgZWxzZSBpZiAoZXhwcmVzc2lvbi5jb25zdHJ1Y3RvciA9PT0gUmVnRXhwKSB7XG4gICAgICAgIC8vIE9ubHkgYXBwbHkgdGhlIHRlc3QgaWYgdGhlIHZhbHVlIGlzIG5laXRoZXIgdW5kZWZpbmVkIG9yIG51bGxcbiAgICAgICAgaWYgKHZhbHVlICE9PSB1bmRlZmluZWQgJiYgdmFsdWUgIT09IG51bGwpIHtcbiAgICAgICAgICBpZiAoJHZhbGlkYXRpb25Qcm92aWRlci5nZXRFeHByZXNzaW9uKHZhbGlkYXRvcikudGVzdCh2YWx1ZSkpIHtcbiAgICAgICAgICAgIGlmICh2YWxpZGF0aW9uR3JvdXApIHtcbiAgICAgICAgICAgICAgZ3JvdXBzW3ZhbGlkYXRpb25Hcm91cF1bY3RybC4kbmFtZV0gPSB0cnVlO1xuICAgICAgICAgICAgICBzZXRWYWxpZGF0aW9uR3JvdXAoc2NvcGUsIHZhbGlkYXRpb25Hcm91cCwgdHJ1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdmFsaWQuc3VjY2VzcygpO1xuICAgICAgICAgIH0gZWxzZSBpZiAodmFsaWRhdGlvbkdyb3VwKSB7XG4gICAgICAgICAgICBncm91cHNbdmFsaWRhdGlvbkdyb3VwXVtjdHJsLiRuYW1lXSA9IGZhbHNlO1xuXG4gICAgICAgICAgICAvLyBXaGVuZXZlciB0aGUgZWxlbWVudCBpcyBpbnZhbGlkLCB3ZSdsbCBjaGVjayB3aGV0aGVyIG9uZSBvZiB0aGUgZWxlbWVudHMgaW5zaWRlIHRoZSBpdHMgZ3JvdXAgdmFsaWQgb3Igbm90LlxuICAgICAgICAgICAgLy8gSWYgdGhlcmUgaXMgYSB2YWxpZCBlbGVtZW50LCBpdHMgaW52YWxpZCBtZXNzYWdlIHdvbid0IGJlIHNob3duLCBPdGhlcndpc2UsIHNob3dzIGl0cyBpbnZhbGlkIG1lc3NhZ2UuXG4gICAgICAgICAgICBpZiAoY2hlY2tWYWxpZGF0aW9uR3JvdXAodmFsaWRhdGlvbkdyb3VwKSkge1xuICAgICAgICAgICAgICBzZXRWYWxpZGF0aW9uR3JvdXAoc2NvcGUsIHZhbGlkYXRpb25Hcm91cCwgdHJ1ZSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBzZXRWYWxpZGF0aW9uR3JvdXAoc2NvcGUsIHZhbGlkYXRpb25Hcm91cCwgZmFsc2UpO1xuICAgICAgICAgICAgICByZXR1cm4gdmFsaWQuZXJyb3IoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2UgcmV0dXJuIHZhbGlkLmVycm9yKCk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSByZXR1cm4gdmFsaWQuZXJyb3IoKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogZ2VuZXJhdGUgdW5pcXVlIGd1aWRcbiAgICAgKi9cbiAgICB2YXIgczQgPSBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiAoKCgxICsgTWF0aC5yYW5kb20oKSkgKiAweDEwMDAwKSB8IDApLnRvU3RyaW5nKDE2KS5zdWJzdHJpbmcoMSk7XG4gICAgfTtcbiAgICB2YXIgZ3VpZCA9IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIChzNCgpICsgczQoKSArIHM0KCkgKyBzNCgpKTtcbiAgICB9O1xuXG5cbiAgICByZXR1cm4ge1xuICAgICAgcmVzdHJpY3Q6ICdBJyxcbiAgICAgIHJlcXVpcmU6ICduZ01vZGVsJyxcbiAgICAgIGxpbms6IGZ1bmN0aW9uKHNjb3BlLCBlbGVtZW50LCBhdHRycywgY3RybCkge1xuICAgICAgICAvKipcbiAgICAgICAgICogQWxsIGF0dHJpYnV0ZXNcbiAgICAgICAgICovXG4gICAgICAgIHZhciB2YWxpZGF0b3IgPSBhdHRycy52YWxpZGF0b3I7XG4gICAgICAgIHZhciBtZXNzYWdlSWQgPSBhdHRycy5tZXNzYWdlSWQ7XG4gICAgICAgIHZhciB2YWxpZGF0aW9uR3JvdXAgPSBhdHRycy52YWxpZGF0aW9uR3JvdXA7XG4gICAgICAgIHZhciB2YWxpZE1ldGhvZCA9IGF0dHJzLnZhbGlkTWV0aG9kO1xuICAgICAgICB2YXIgbmdNb2RlbCA9IGF0dHJzLm5nTW9kZWw7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIHdhdGNoXG4gICAgICAgICAqIEB0eXBlIHt3YXRjaH1cbiAgICAgICAgICpcbiAgICAgICAgICogVXNlIHRvIGNvbGxlY3Qgc2NvcGUuJHdhdGNoIG1ldGhvZFxuICAgICAgICAgKlxuICAgICAgICAgKiB1c2Ugd2F0Y2goKSB0byBkZXN0cm95IHRoZSAkd2F0Y2ggbWV0aG9kXG4gICAgICAgICAqL1xuICAgICAgICB2YXIgd2F0Y2ggPSBmdW5jdGlvbigpIHt9O1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiB2YWxpZGF0b3JcbiAgICAgICAgICogQHR5cGUge0FycmF5fVxuICAgICAgICAgKlxuICAgICAgICAgKiBDb252ZXJ0IHVzZXIgaW5wdXQgU3RyaW5nIHRvIEFycmF5XG4gICAgICAgICAqL1xuICAgICAgICB2YXIgdmFsaWRhdGlvbiA9IHZhbGlkYXRvci5zcGxpdCgnLCcpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBndWlkIHVzZVxuICAgICAgICAgKi9cbiAgICAgICAgdmFyIHVpZCA9IGN0cmwudmFsaWRhdGlvbklkID0gZ3VpZCgpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiB0byBoYXZlIGF2YWx1ZSB0byByb2xsYmFjayB0b1xuICAgICAgICAgKi9cbiAgICAgICAgdmFyIG9yaWdpbmFsVmlld1ZhbHVlID0gbnVsbDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogU2V0IGluaXRpYWwgdmFsaWRpdHkgdG8gdW5kZWZpbmVkIGlmIG5vIGJvb2xlYW4gdmFsdWUgaXMgdHJhbnNtaXR0ZWRcbiAgICAgICAgICovXG4gICAgICAgIHZhciBpbml0aWFsVmFsaWRpdHk7XG4gICAgICAgIGlmICh0eXBlb2Ygc2NvcGUuaW5pdGlhbFZhbGlkaXR5ID09PSAnYm9vbGVhbicpIHtcbiAgICAgICAgICBpbml0aWFsVmFsaWRpdHkgPSBzY29wZS5pbml0aWFsVmFsaWRpdHk7XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogU2V0IHVwIGdyb3VwcyBvYmplY3QgaW4gb3JkZXIgdG8ga2VlcCB0cmFjayB2YWxpZGF0aW9uIG9mIGVsZW1lbnRzXG4gICAgICAgICAqL1xuICAgICAgICBpZiAodmFsaWRhdGlvbkdyb3VwKSB7XG4gICAgICAgICAgaWYgKCFncm91cHNbdmFsaWRhdGlvbkdyb3VwXSkgZ3JvdXBzW3ZhbGlkYXRpb25Hcm91cF0gPSB7fTtcbiAgICAgICAgICBncm91cHNbdmFsaWRhdGlvbkdyb3VwXVtjdHJsLiRuYW1lXSA9IGZhbHNlO1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIERlZmF1bHQgVmFsaWQvSW52YWxpZCBNZXNzYWdlXG4gICAgICAgICAqL1xuICAgICAgICBpZiAoIShtZXNzYWdlSWQgfHwgdmFsaWRhdGlvbkdyb3VwKSkgJHZhbGlkYXRpb25Qcm92aWRlci5hZGRNc2dFbGVtZW50KGVsZW1lbnQpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBTZXQgY3VzdG9tIGluaXRpYWwgdmFsaWRpdHlcbiAgICAgICAgICogVXNhZ2U6IDxpbnB1dCBpbml0aWFsLXZhbGlkaXR5PVwidHJ1ZVwiIC4uLiA+XG4gICAgICAgICAqL1xuICAgICAgICBjdHJsLiRzZXRWYWxpZGl0eShjdHJsLiRuYW1lLCBpbml0aWFsVmFsaWRpdHkpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBSZXNldCB0aGUgdmFsaWRhdGlvbiBmb3Igc3BlY2lmaWMgZm9ybVxuICAgICAgICAgKi9cbiAgICAgICAgc2NvcGUuJG9uKGN0cmwuJG5hbWUgKyAncmVzZXQtJyArIHVpZCwgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgLyoqXG4gICAgICAgICAgICogY2xlYXIgc2NvcGUuJHdhdGNoIGhlcmVcbiAgICAgICAgICAgKiB3aGVuIHJlc2V0IHN0YXR1c1xuICAgICAgICAgICAqIGNsZWFyIHRoZSAkd2F0Y2ggbWV0aG9kIHRvIHByZXZlbnRcbiAgICAgICAgICAgKiAkd2F0Y2ggYWdhaW4gd2hpbGUgcmVzZXQgdGhlIGZvcm1cbiAgICAgICAgICAgKi9cbiAgICAgICAgICB3YXRjaCgpO1xuXG4gICAgICAgICAgJHRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBjdHJsLiRzZXRWaWV3VmFsdWUob3JpZ2luYWxWaWV3VmFsdWUpO1xuICAgICAgICAgICAgY3RybC4kc2V0UHJpc3RpbmUoKTtcbiAgICAgICAgICAgIGN0cmwuJHNldFZhbGlkaXR5KGN0cmwuJG5hbWUsIHVuZGVmaW5lZCk7XG4gICAgICAgICAgICBjdHJsLiRyZW5kZXIoKTtcbiAgICAgICAgICAgIGlmIChtZXNzYWdlSWQgfHwgdmFsaWRhdGlvbkdyb3VwKSBhbmd1bGFyLmVsZW1lbnQoZG9jdW1lbnQucXVlcnlTZWxlY3RvcignIycgKyAobWVzc2FnZUlkIHx8IHZhbGlkYXRpb25Hcm91cCkpKS5odG1sKCcnKTtcbiAgICAgICAgICAgIGVsc2UgJHZhbGlkYXRpb25Qcm92aWRlci5nZXRNc2dFbGVtZW50KGVsZW1lbnQpLmh0bWwoJycpO1xuXG4gICAgICAgICAgICBpZiAoJHZhbGlkYXRpb25Qcm92aWRlci5yZXNldENhbGxiYWNrKSAkdmFsaWRhdGlvblByb3ZpZGVyLnJlc2V0Q2FsbGJhY2soZWxlbWVudCk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBDaGVjayB2YWxpZGF0b3JcbiAgICAgICAgICovXG4gICAgICAgIHZhbGlkTWV0aG9kID0gKGFuZ3VsYXIuaXNVbmRlZmluZWQodmFsaWRNZXRob2QpKSA/ICR2YWxpZGF0aW9uUHJvdmlkZXIuZ2V0VmFsaWRNZXRob2QoKSA6IHZhbGlkTWV0aG9kO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBDbGljayBzdWJtaXQgZm9ybSwgY2hlY2sgdGhlIHZhbGlkaXR5IHdoZW4gc3VibWl0XG4gICAgICAgICAqL1xuICAgICAgICBzY29wZS4kb24oY3RybC4kbmFtZSArICdzdWJtaXQtJyArIHVpZCwgZnVuY3Rpb24oZXZlbnQsIGluZGV4KSB7XG4gICAgICAgICAgdmFyIHZhbHVlID0gY3RybC4kdmlld1ZhbHVlO1xuICAgICAgICAgIHZhciBpc1ZhbGlkID0gZmFsc2U7XG5cbiAgICAgICAgICBpc1ZhbGlkID0gY2hlY2tWYWxpZGF0aW9uKHNjb3BlLCBlbGVtZW50LCBhdHRycywgY3RybCwgdmFsaWRhdGlvbiwgdmFsdWUpO1xuXG4gICAgICAgICAgaWYgKHZhbGlkTWV0aG9kID09PSAnc3VibWl0Jykge1xuICAgICAgICAgICAgLy8gY2xlYXIgcHJldmlvdXMgc2NvcGUuJHdhdGNoXG4gICAgICAgICAgICB3YXRjaCgpO1xuICAgICAgICAgICAgd2F0Y2ggPSBzY29wZS4kd2F0Y2goZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgIHJldHVybiBzY29wZS4kZXZhbChuZ01vZGVsKTtcbiAgICAgICAgICAgIH0sIGZ1bmN0aW9uKHZhbHVlLCBvbGRWYWx1ZSkge1xuICAgICAgICAgICAgICAvLyBkb24ndCB3YXRjaCB3aGVuIGluaXRcbiAgICAgICAgICAgICAgaWYgKHZhbHVlID09PSBvbGRWYWx1ZSkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgIC8vIHNjb3BlLiR3YXRjaCB3aWxsIHRyYW5zbGF0ZSAnJyB0byB1bmRlZmluZWRcbiAgICAgICAgICAgICAgLy8gdW5kZWZpbmVkL251bGwgd2lsbCBwYXNzIHRoZSByZXF1aXJlZCBzdWJtaXQgL14uKy9cbiAgICAgICAgICAgICAgLy8gY2F1c2Ugc29tZSBlcnJvciBpbiB0aGlzIHZhbGlkYXRpb25cbiAgICAgICAgICAgICAgaWYgKHZhbHVlID09PSB1bmRlZmluZWQgfHwgdmFsdWUgPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICB2YWx1ZSA9ICcnO1xuICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgaXNWYWxpZCA9IGNoZWNrVmFsaWRhdGlvbihzY29wZSwgZWxlbWVudCwgYXR0cnMsIGN0cmwsIHZhbGlkYXRpb24sIHZhbHVlKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIHZhciBzZXRGb2N1cyA9IGZ1bmN0aW9uKGlzVmFsaWQpIHtcbiAgICAgICAgICAgIGlmIChpc1ZhbGlkKSB7XG4gICAgICAgICAgICAgIGRlbGV0ZSBmb2N1c0VsZW1lbnRzW2luZGV4XTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIGZvY3VzRWxlbWVudHNbaW5kZXhdID0gZWxlbWVudFswXTtcblxuICAgICAgICAgICAgICAkdGltZW91dChmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICBmb2N1c0VsZW1lbnRzW01hdGgubWluLmFwcGx5KG51bGwsIE9iamVjdC5rZXlzKGZvY3VzRWxlbWVudHMpKV0uZm9jdXMoKTtcbiAgICAgICAgICAgICAgfSwgMCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfTtcblxuICAgICAgICAgIGlmIChpc1ZhbGlkLmNvbnN0cnVjdG9yID09PSBPYmplY3QpIGlzVmFsaWQudGhlbihzZXRGb2N1cyk7XG4gICAgICAgICAgZWxzZSBzZXRGb2N1cyhpc1ZhbGlkKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFZhbGlkYXRlIGJsdXIgbWV0aG9kXG4gICAgICAgICAqL1xuICAgICAgICBpZiAodmFsaWRNZXRob2QgPT09ICdibHVyJykge1xuICAgICAgICAgIGVsZW1lbnQuYmluZCgnYmx1cicsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgdmFyIHZhbHVlID0gc2NvcGUuJGV2YWwobmdNb2RlbCk7XG4gICAgICAgICAgICBzY29wZS4kYXBwbHkoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgIGNoZWNrVmFsaWRhdGlvbihzY29wZSwgZWxlbWVudCwgYXR0cnMsIGN0cmwsIHZhbGlkYXRpb24sIHZhbHVlKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFZhbGlkYXRlIHN1Ym1pdCAmIHN1Ym1pdC1vbmx5IG1ldGhvZFxuICAgICAgICAgKi9cbiAgICAgICAgaWYgKHZhbGlkTWV0aG9kID09PSAnc3VibWl0JyB8fCB2YWxpZE1ldGhvZCA9PT0gJ3N1Ym1pdC1vbmx5Jykge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBWYWxpZGF0ZSB3YXRjaCBtZXRob2RcbiAgICAgICAgICogVGhpcyBpcyB0aGUgZGVmYXVsdCBtZXRob2RcbiAgICAgICAgICovXG4gICAgICAgIHNjb3BlLiR3YXRjaChmdW5jdGlvbigpIHtcbiAgICAgICAgICByZXR1cm4gc2NvcGUuJGV2YWwobmdNb2RlbCk7XG4gICAgICAgIH0sIGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICAgICAgLyoqXG4gICAgICAgICAgICogZGlydHksIHByaXN0aW5lLCB2aWV3VmFsdWUgY29udHJvbCBoZXJlXG4gICAgICAgICAgICovXG4gICAgICAgICAgaWYgKGN0cmwuJHByaXN0aW5lICYmIGN0cmwuJHZpZXdWYWx1ZSkge1xuICAgICAgICAgICAgLy8gaGFzIHZhbHVlIHdoZW4gaW5pdGlhbFxuICAgICAgICAgICAgb3JpZ2luYWxWaWV3VmFsdWUgPSBjdHJsLiR2aWV3VmFsdWUgfHwgJyc7XG4gICAgICAgICAgICBjdHJsLiRzZXRWaWV3VmFsdWUoY3RybC4kdmlld1ZhbHVlKTtcbiAgICAgICAgICB9IGVsc2UgaWYgKGN0cmwuJHByaXN0aW5lKSB7XG4gICAgICAgICAgICAvLyBEb24ndCB2YWxpZGF0ZSBmb3JtIHdoZW4gdGhlIGlucHV0IGlzIGNsZWFuKHByaXN0aW5lKVxuICAgICAgICAgICAgaWYgKG1lc3NhZ2VJZCB8fCB2YWxpZGF0aW9uR3JvdXApIGFuZ3VsYXIuZWxlbWVudChkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjJyArIChtZXNzYWdlSWQgfHwgdmFsaWRhdGlvbkdyb3VwKSkpLmh0bWwoJycpO1xuICAgICAgICAgICAgZWxzZSAkdmFsaWRhdGlvblByb3ZpZGVyLmdldE1zZ0VsZW1lbnQoZWxlbWVudCkuaHRtbCgnJyk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfVxuICAgICAgICAgIGNoZWNrVmFsaWRhdGlvbihzY29wZSwgZWxlbWVudCwgYXR0cnMsIGN0cmwsIHZhbGlkYXRpb24sIHZhbHVlKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgJHRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgLyoqXG4gICAgICAgICAgICogRG9uJ3Qgc2hvd3VwIHRoZSB2YWxpZGF0aW9uIE1lc3NhZ2VcbiAgICAgICAgICAgKi9cbiAgICAgICAgICBhdHRycy4kb2JzZXJ2ZSgnbm9WYWxpZGF0aW9uTWVzc2FnZScsIGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICAgICAgICB2YXIgZWw7XG4gICAgICAgICAgICBpZiAobWVzc2FnZUlkIHx8IHZhbGlkYXRpb25Hcm91cCkgZWwgPSBhbmd1bGFyLmVsZW1lbnQoZG9jdW1lbnQucXVlcnlTZWxlY3RvcignIycgKyAobWVzc2FnZUlkIHx8IHZhbGlkYXRpb25Hcm91cCkpKTtcbiAgICAgICAgICAgIGVsc2UgZWwgPSAkdmFsaWRhdGlvblByb3ZpZGVyLmdldE1zZ0VsZW1lbnQoZWxlbWVudCk7XG4gICAgICAgICAgICBpZiAodmFsdWUgPT09ICd0cnVlJyB8fCB2YWx1ZSA9PT0gdHJ1ZSkgZWwuY3NzKCdkaXNwbGF5JywgJ25vbmUnKTtcbiAgICAgICAgICAgIGVsc2UgaWYgKHZhbHVlID09PSAnZmFsc2UnIHx8IHZhbHVlID09PSBmYWxzZSkgZWwuY3NzKCdkaXNwbGF5JywgJ2Jsb2NrJyk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH07XG4gIH1cbiAgVmFsaWRhdG9yLiRpbmplY3QgPSBbJyRpbmplY3RvciddO1xufSkuY2FsbCh0aGlzKTtcbiIsIi8vIFRoaXMgZmlsZSBpcyBhdXRvZ2VuZXJhdGVkIHZpYSB0aGUgYGNvbW1vbmpzYCBHcnVudCB0YXNrLiBZb3UgY2FuIHJlcXVpcmUoKSB0aGlzIGZpbGUgaW4gYSBDb21tb25KUyBlbnZpcm9ubWVudC5cbnJlcXVpcmUoJy4uLy4uL2pzL3RyYW5zaXRpb24uanMnKVxucmVxdWlyZSgnLi4vLi4vanMvYWxlcnQuanMnKVxucmVxdWlyZSgnLi4vLi4vanMvYnV0dG9uLmpzJylcbnJlcXVpcmUoJy4uLy4uL2pzL2Nhcm91c2VsLmpzJylcbnJlcXVpcmUoJy4uLy4uL2pzL2NvbGxhcHNlLmpzJylcbnJlcXVpcmUoJy4uLy4uL2pzL2Ryb3Bkb3duLmpzJylcbnJlcXVpcmUoJy4uLy4uL2pzL21vZGFsLmpzJylcbnJlcXVpcmUoJy4uLy4uL2pzL3Rvb2x0aXAuanMnKVxucmVxdWlyZSgnLi4vLi4vanMvcG9wb3Zlci5qcycpXG5yZXF1aXJlKCcuLi8uLi9qcy9zY3JvbGxzcHkuanMnKVxucmVxdWlyZSgnLi4vLi4vanMvdGFiLmpzJylcbnJlcXVpcmUoJy4uLy4uL2pzL2FmZml4LmpzJykiLCIvKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqIEJvb3RzdHJhcDogYWZmaXguanMgdjMuMy43XG4gKiBodHRwOi8vZ2V0Ym9vdHN0cmFwLmNvbS9qYXZhc2NyaXB0LyNhZmZpeFxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKiBDb3B5cmlnaHQgMjAxMS0yMDE2IFR3aXR0ZXIsIEluYy5cbiAqIExpY2Vuc2VkIHVuZGVyIE1JVCAoaHR0cHM6Ly9naXRodWIuY29tL3R3YnMvYm9vdHN0cmFwL2Jsb2IvbWFzdGVyL0xJQ0VOU0UpXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gKi9cblxuXG4rZnVuY3Rpb24gKCQpIHtcbiAgJ3VzZSBzdHJpY3QnO1xuXG4gIC8vIEFGRklYIENMQVNTIERFRklOSVRJT05cbiAgLy8gPT09PT09PT09PT09PT09PT09PT09PVxuXG4gIHZhciBBZmZpeCA9IGZ1bmN0aW9uIChlbGVtZW50LCBvcHRpb25zKSB7XG4gICAgdGhpcy5vcHRpb25zID0gJC5leHRlbmQoe30sIEFmZml4LkRFRkFVTFRTLCBvcHRpb25zKVxuXG4gICAgdGhpcy4kdGFyZ2V0ID0gJCh0aGlzLm9wdGlvbnMudGFyZ2V0KVxuICAgICAgLm9uKCdzY3JvbGwuYnMuYWZmaXguZGF0YS1hcGknLCAkLnByb3h5KHRoaXMuY2hlY2tQb3NpdGlvbiwgdGhpcykpXG4gICAgICAub24oJ2NsaWNrLmJzLmFmZml4LmRhdGEtYXBpJywgICQucHJveHkodGhpcy5jaGVja1Bvc2l0aW9uV2l0aEV2ZW50TG9vcCwgdGhpcykpXG5cbiAgICB0aGlzLiRlbGVtZW50ICAgICA9ICQoZWxlbWVudClcbiAgICB0aGlzLmFmZml4ZWQgICAgICA9IG51bGxcbiAgICB0aGlzLnVucGluICAgICAgICA9IG51bGxcbiAgICB0aGlzLnBpbm5lZE9mZnNldCA9IG51bGxcblxuICAgIHRoaXMuY2hlY2tQb3NpdGlvbigpXG4gIH1cblxuICBBZmZpeC5WRVJTSU9OICA9ICczLjMuNydcblxuICBBZmZpeC5SRVNFVCAgICA9ICdhZmZpeCBhZmZpeC10b3AgYWZmaXgtYm90dG9tJ1xuXG4gIEFmZml4LkRFRkFVTFRTID0ge1xuICAgIG9mZnNldDogMCxcbiAgICB0YXJnZXQ6IHdpbmRvd1xuICB9XG5cbiAgQWZmaXgucHJvdG90eXBlLmdldFN0YXRlID0gZnVuY3Rpb24gKHNjcm9sbEhlaWdodCwgaGVpZ2h0LCBvZmZzZXRUb3AsIG9mZnNldEJvdHRvbSkge1xuICAgIHZhciBzY3JvbGxUb3AgICAgPSB0aGlzLiR0YXJnZXQuc2Nyb2xsVG9wKClcbiAgICB2YXIgcG9zaXRpb24gICAgID0gdGhpcy4kZWxlbWVudC5vZmZzZXQoKVxuICAgIHZhciB0YXJnZXRIZWlnaHQgPSB0aGlzLiR0YXJnZXQuaGVpZ2h0KClcblxuICAgIGlmIChvZmZzZXRUb3AgIT0gbnVsbCAmJiB0aGlzLmFmZml4ZWQgPT0gJ3RvcCcpIHJldHVybiBzY3JvbGxUb3AgPCBvZmZzZXRUb3AgPyAndG9wJyA6IGZhbHNlXG5cbiAgICBpZiAodGhpcy5hZmZpeGVkID09ICdib3R0b20nKSB7XG4gICAgICBpZiAob2Zmc2V0VG9wICE9IG51bGwpIHJldHVybiAoc2Nyb2xsVG9wICsgdGhpcy51bnBpbiA8PSBwb3NpdGlvbi50b3ApID8gZmFsc2UgOiAnYm90dG9tJ1xuICAgICAgcmV0dXJuIChzY3JvbGxUb3AgKyB0YXJnZXRIZWlnaHQgPD0gc2Nyb2xsSGVpZ2h0IC0gb2Zmc2V0Qm90dG9tKSA/IGZhbHNlIDogJ2JvdHRvbSdcbiAgICB9XG5cbiAgICB2YXIgaW5pdGlhbGl6aW5nICAgPSB0aGlzLmFmZml4ZWQgPT0gbnVsbFxuICAgIHZhciBjb2xsaWRlclRvcCAgICA9IGluaXRpYWxpemluZyA/IHNjcm9sbFRvcCA6IHBvc2l0aW9uLnRvcFxuICAgIHZhciBjb2xsaWRlckhlaWdodCA9IGluaXRpYWxpemluZyA/IHRhcmdldEhlaWdodCA6IGhlaWdodFxuXG4gICAgaWYgKG9mZnNldFRvcCAhPSBudWxsICYmIHNjcm9sbFRvcCA8PSBvZmZzZXRUb3ApIHJldHVybiAndG9wJ1xuICAgIGlmIChvZmZzZXRCb3R0b20gIT0gbnVsbCAmJiAoY29sbGlkZXJUb3AgKyBjb2xsaWRlckhlaWdodCA+PSBzY3JvbGxIZWlnaHQgLSBvZmZzZXRCb3R0b20pKSByZXR1cm4gJ2JvdHRvbSdcblxuICAgIHJldHVybiBmYWxzZVxuICB9XG5cbiAgQWZmaXgucHJvdG90eXBlLmdldFBpbm5lZE9mZnNldCA9IGZ1bmN0aW9uICgpIHtcbiAgICBpZiAodGhpcy5waW5uZWRPZmZzZXQpIHJldHVybiB0aGlzLnBpbm5lZE9mZnNldFxuICAgIHRoaXMuJGVsZW1lbnQucmVtb3ZlQ2xhc3MoQWZmaXguUkVTRVQpLmFkZENsYXNzKCdhZmZpeCcpXG4gICAgdmFyIHNjcm9sbFRvcCA9IHRoaXMuJHRhcmdldC5zY3JvbGxUb3AoKVxuICAgIHZhciBwb3NpdGlvbiAgPSB0aGlzLiRlbGVtZW50Lm9mZnNldCgpXG4gICAgcmV0dXJuICh0aGlzLnBpbm5lZE9mZnNldCA9IHBvc2l0aW9uLnRvcCAtIHNjcm9sbFRvcClcbiAgfVxuXG4gIEFmZml4LnByb3RvdHlwZS5jaGVja1Bvc2l0aW9uV2l0aEV2ZW50TG9vcCA9IGZ1bmN0aW9uICgpIHtcbiAgICBzZXRUaW1lb3V0KCQucHJveHkodGhpcy5jaGVja1Bvc2l0aW9uLCB0aGlzKSwgMSlcbiAgfVxuXG4gIEFmZml4LnByb3RvdHlwZS5jaGVja1Bvc2l0aW9uID0gZnVuY3Rpb24gKCkge1xuICAgIGlmICghdGhpcy4kZWxlbWVudC5pcygnOnZpc2libGUnKSkgcmV0dXJuXG5cbiAgICB2YXIgaGVpZ2h0ICAgICAgID0gdGhpcy4kZWxlbWVudC5oZWlnaHQoKVxuICAgIHZhciBvZmZzZXQgICAgICAgPSB0aGlzLm9wdGlvbnMub2Zmc2V0XG4gICAgdmFyIG9mZnNldFRvcCAgICA9IG9mZnNldC50b3BcbiAgICB2YXIgb2Zmc2V0Qm90dG9tID0gb2Zmc2V0LmJvdHRvbVxuICAgIHZhciBzY3JvbGxIZWlnaHQgPSBNYXRoLm1heCgkKGRvY3VtZW50KS5oZWlnaHQoKSwgJChkb2N1bWVudC5ib2R5KS5oZWlnaHQoKSlcblxuICAgIGlmICh0eXBlb2Ygb2Zmc2V0ICE9ICdvYmplY3QnKSAgICAgICAgIG9mZnNldEJvdHRvbSA9IG9mZnNldFRvcCA9IG9mZnNldFxuICAgIGlmICh0eXBlb2Ygb2Zmc2V0VG9wID09ICdmdW5jdGlvbicpICAgIG9mZnNldFRvcCAgICA9IG9mZnNldC50b3AodGhpcy4kZWxlbWVudClcbiAgICBpZiAodHlwZW9mIG9mZnNldEJvdHRvbSA9PSAnZnVuY3Rpb24nKSBvZmZzZXRCb3R0b20gPSBvZmZzZXQuYm90dG9tKHRoaXMuJGVsZW1lbnQpXG5cbiAgICB2YXIgYWZmaXggPSB0aGlzLmdldFN0YXRlKHNjcm9sbEhlaWdodCwgaGVpZ2h0LCBvZmZzZXRUb3AsIG9mZnNldEJvdHRvbSlcblxuICAgIGlmICh0aGlzLmFmZml4ZWQgIT0gYWZmaXgpIHtcbiAgICAgIGlmICh0aGlzLnVucGluICE9IG51bGwpIHRoaXMuJGVsZW1lbnQuY3NzKCd0b3AnLCAnJylcblxuICAgICAgdmFyIGFmZml4VHlwZSA9ICdhZmZpeCcgKyAoYWZmaXggPyAnLScgKyBhZmZpeCA6ICcnKVxuICAgICAgdmFyIGUgICAgICAgICA9ICQuRXZlbnQoYWZmaXhUeXBlICsgJy5icy5hZmZpeCcpXG5cbiAgICAgIHRoaXMuJGVsZW1lbnQudHJpZ2dlcihlKVxuXG4gICAgICBpZiAoZS5pc0RlZmF1bHRQcmV2ZW50ZWQoKSkgcmV0dXJuXG5cbiAgICAgIHRoaXMuYWZmaXhlZCA9IGFmZml4XG4gICAgICB0aGlzLnVucGluID0gYWZmaXggPT0gJ2JvdHRvbScgPyB0aGlzLmdldFBpbm5lZE9mZnNldCgpIDogbnVsbFxuXG4gICAgICB0aGlzLiRlbGVtZW50XG4gICAgICAgIC5yZW1vdmVDbGFzcyhBZmZpeC5SRVNFVClcbiAgICAgICAgLmFkZENsYXNzKGFmZml4VHlwZSlcbiAgICAgICAgLnRyaWdnZXIoYWZmaXhUeXBlLnJlcGxhY2UoJ2FmZml4JywgJ2FmZml4ZWQnKSArICcuYnMuYWZmaXgnKVxuICAgIH1cblxuICAgIGlmIChhZmZpeCA9PSAnYm90dG9tJykge1xuICAgICAgdGhpcy4kZWxlbWVudC5vZmZzZXQoe1xuICAgICAgICB0b3A6IHNjcm9sbEhlaWdodCAtIGhlaWdodCAtIG9mZnNldEJvdHRvbVxuICAgICAgfSlcbiAgICB9XG4gIH1cblxuXG4gIC8vIEFGRklYIFBMVUdJTiBERUZJTklUSU9OXG4gIC8vID09PT09PT09PT09PT09PT09PT09PT09XG5cbiAgZnVuY3Rpb24gUGx1Z2luKG9wdGlvbikge1xuICAgIHJldHVybiB0aGlzLmVhY2goZnVuY3Rpb24gKCkge1xuICAgICAgdmFyICR0aGlzICAgPSAkKHRoaXMpXG4gICAgICB2YXIgZGF0YSAgICA9ICR0aGlzLmRhdGEoJ2JzLmFmZml4JylcbiAgICAgIHZhciBvcHRpb25zID0gdHlwZW9mIG9wdGlvbiA9PSAnb2JqZWN0JyAmJiBvcHRpb25cblxuICAgICAgaWYgKCFkYXRhKSAkdGhpcy5kYXRhKCdicy5hZmZpeCcsIChkYXRhID0gbmV3IEFmZml4KHRoaXMsIG9wdGlvbnMpKSlcbiAgICAgIGlmICh0eXBlb2Ygb3B0aW9uID09ICdzdHJpbmcnKSBkYXRhW29wdGlvbl0oKVxuICAgIH0pXG4gIH1cblxuICB2YXIgb2xkID0gJC5mbi5hZmZpeFxuXG4gICQuZm4uYWZmaXggICAgICAgICAgICAgPSBQbHVnaW5cbiAgJC5mbi5hZmZpeC5Db25zdHJ1Y3RvciA9IEFmZml4XG5cblxuICAvLyBBRkZJWCBOTyBDT05GTElDVFxuICAvLyA9PT09PT09PT09PT09PT09PVxuXG4gICQuZm4uYWZmaXgubm9Db25mbGljdCA9IGZ1bmN0aW9uICgpIHtcbiAgICAkLmZuLmFmZml4ID0gb2xkXG4gICAgcmV0dXJuIHRoaXNcbiAgfVxuXG5cbiAgLy8gQUZGSVggREFUQS1BUElcbiAgLy8gPT09PT09PT09PT09PT1cblxuICAkKHdpbmRvdykub24oJ2xvYWQnLCBmdW5jdGlvbiAoKSB7XG4gICAgJCgnW2RhdGEtc3B5PVwiYWZmaXhcIl0nKS5lYWNoKGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciAkc3B5ID0gJCh0aGlzKVxuICAgICAgdmFyIGRhdGEgPSAkc3B5LmRhdGEoKVxuXG4gICAgICBkYXRhLm9mZnNldCA9IGRhdGEub2Zmc2V0IHx8IHt9XG5cbiAgICAgIGlmIChkYXRhLm9mZnNldEJvdHRvbSAhPSBudWxsKSBkYXRhLm9mZnNldC5ib3R0b20gPSBkYXRhLm9mZnNldEJvdHRvbVxuICAgICAgaWYgKGRhdGEub2Zmc2V0VG9wICAgICE9IG51bGwpIGRhdGEub2Zmc2V0LnRvcCAgICA9IGRhdGEub2Zmc2V0VG9wXG5cbiAgICAgIFBsdWdpbi5jYWxsKCRzcHksIGRhdGEpXG4gICAgfSlcbiAgfSlcblxufShqUXVlcnkpO1xuIiwiLyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKiBCb290c3RyYXA6IGFsZXJ0LmpzIHYzLjMuN1xuICogaHR0cDovL2dldGJvb3RzdHJhcC5jb20vamF2YXNjcmlwdC8jYWxlcnRzXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqIENvcHlyaWdodCAyMDExLTIwMTYgVHdpdHRlciwgSW5jLlxuICogTGljZW5zZWQgdW5kZXIgTUlUIChodHRwczovL2dpdGh1Yi5jb20vdHdicy9ib290c3RyYXAvYmxvYi9tYXN0ZXIvTElDRU5TRSlcbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSAqL1xuXG5cbitmdW5jdGlvbiAoJCkge1xuICAndXNlIHN0cmljdCc7XG5cbiAgLy8gQUxFUlQgQ0xBU1MgREVGSU5JVElPTlxuICAvLyA9PT09PT09PT09PT09PT09PT09PT09XG5cbiAgdmFyIGRpc21pc3MgPSAnW2RhdGEtZGlzbWlzcz1cImFsZXJ0XCJdJ1xuICB2YXIgQWxlcnQgICA9IGZ1bmN0aW9uIChlbCkge1xuICAgICQoZWwpLm9uKCdjbGljaycsIGRpc21pc3MsIHRoaXMuY2xvc2UpXG4gIH1cblxuICBBbGVydC5WRVJTSU9OID0gJzMuMy43J1xuXG4gIEFsZXJ0LlRSQU5TSVRJT05fRFVSQVRJT04gPSAxNTBcblxuICBBbGVydC5wcm90b3R5cGUuY2xvc2UgPSBmdW5jdGlvbiAoZSkge1xuICAgIHZhciAkdGhpcyAgICA9ICQodGhpcylcbiAgICB2YXIgc2VsZWN0b3IgPSAkdGhpcy5hdHRyKCdkYXRhLXRhcmdldCcpXG5cbiAgICBpZiAoIXNlbGVjdG9yKSB7XG4gICAgICBzZWxlY3RvciA9ICR0aGlzLmF0dHIoJ2hyZWYnKVxuICAgICAgc2VsZWN0b3IgPSBzZWxlY3RvciAmJiBzZWxlY3Rvci5yZXBsYWNlKC8uKig/PSNbXlxcc10qJCkvLCAnJykgLy8gc3RyaXAgZm9yIGllN1xuICAgIH1cblxuICAgIHZhciAkcGFyZW50ID0gJChzZWxlY3RvciA9PT0gJyMnID8gW10gOiBzZWxlY3RvcilcblxuICAgIGlmIChlKSBlLnByZXZlbnREZWZhdWx0KClcblxuICAgIGlmICghJHBhcmVudC5sZW5ndGgpIHtcbiAgICAgICRwYXJlbnQgPSAkdGhpcy5jbG9zZXN0KCcuYWxlcnQnKVxuICAgIH1cblxuICAgICRwYXJlbnQudHJpZ2dlcihlID0gJC5FdmVudCgnY2xvc2UuYnMuYWxlcnQnKSlcblxuICAgIGlmIChlLmlzRGVmYXVsdFByZXZlbnRlZCgpKSByZXR1cm5cblxuICAgICRwYXJlbnQucmVtb3ZlQ2xhc3MoJ2luJylcblxuICAgIGZ1bmN0aW9uIHJlbW92ZUVsZW1lbnQoKSB7XG4gICAgICAvLyBkZXRhY2ggZnJvbSBwYXJlbnQsIGZpcmUgZXZlbnQgdGhlbiBjbGVhbiB1cCBkYXRhXG4gICAgICAkcGFyZW50LmRldGFjaCgpLnRyaWdnZXIoJ2Nsb3NlZC5icy5hbGVydCcpLnJlbW92ZSgpXG4gICAgfVxuXG4gICAgJC5zdXBwb3J0LnRyYW5zaXRpb24gJiYgJHBhcmVudC5oYXNDbGFzcygnZmFkZScpID9cbiAgICAgICRwYXJlbnRcbiAgICAgICAgLm9uZSgnYnNUcmFuc2l0aW9uRW5kJywgcmVtb3ZlRWxlbWVudClcbiAgICAgICAgLmVtdWxhdGVUcmFuc2l0aW9uRW5kKEFsZXJ0LlRSQU5TSVRJT05fRFVSQVRJT04pIDpcbiAgICAgIHJlbW92ZUVsZW1lbnQoKVxuICB9XG5cblxuICAvLyBBTEVSVCBQTFVHSU4gREVGSU5JVElPTlxuICAvLyA9PT09PT09PT09PT09PT09PT09PT09PVxuXG4gIGZ1bmN0aW9uIFBsdWdpbihvcHRpb24pIHtcbiAgICByZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciAkdGhpcyA9ICQodGhpcylcbiAgICAgIHZhciBkYXRhICA9ICR0aGlzLmRhdGEoJ2JzLmFsZXJ0JylcblxuICAgICAgaWYgKCFkYXRhKSAkdGhpcy5kYXRhKCdicy5hbGVydCcsIChkYXRhID0gbmV3IEFsZXJ0KHRoaXMpKSlcbiAgICAgIGlmICh0eXBlb2Ygb3B0aW9uID09ICdzdHJpbmcnKSBkYXRhW29wdGlvbl0uY2FsbCgkdGhpcylcbiAgICB9KVxuICB9XG5cbiAgdmFyIG9sZCA9ICQuZm4uYWxlcnRcblxuICAkLmZuLmFsZXJ0ICAgICAgICAgICAgID0gUGx1Z2luXG4gICQuZm4uYWxlcnQuQ29uc3RydWN0b3IgPSBBbGVydFxuXG5cbiAgLy8gQUxFUlQgTk8gQ09ORkxJQ1RcbiAgLy8gPT09PT09PT09PT09PT09PT1cblxuICAkLmZuLmFsZXJ0Lm5vQ29uZmxpY3QgPSBmdW5jdGlvbiAoKSB7XG4gICAgJC5mbi5hbGVydCA9IG9sZFxuICAgIHJldHVybiB0aGlzXG4gIH1cblxuXG4gIC8vIEFMRVJUIERBVEEtQVBJXG4gIC8vID09PT09PT09PT09PT09XG5cbiAgJChkb2N1bWVudCkub24oJ2NsaWNrLmJzLmFsZXJ0LmRhdGEtYXBpJywgZGlzbWlzcywgQWxlcnQucHJvdG90eXBlLmNsb3NlKVxuXG59KGpRdWVyeSk7XG4iLCIvKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqIEJvb3RzdHJhcDogYnV0dG9uLmpzIHYzLjMuN1xuICogaHR0cDovL2dldGJvb3RzdHJhcC5jb20vamF2YXNjcmlwdC8jYnV0dG9uc1xuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKiBDb3B5cmlnaHQgMjAxMS0yMDE2IFR3aXR0ZXIsIEluYy5cbiAqIExpY2Vuc2VkIHVuZGVyIE1JVCAoaHR0cHM6Ly9naXRodWIuY29tL3R3YnMvYm9vdHN0cmFwL2Jsb2IvbWFzdGVyL0xJQ0VOU0UpXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gKi9cblxuXG4rZnVuY3Rpb24gKCQpIHtcbiAgJ3VzZSBzdHJpY3QnO1xuXG4gIC8vIEJVVFRPTiBQVUJMSUMgQ0xBU1MgREVGSU5JVElPTlxuICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuICB2YXIgQnV0dG9uID0gZnVuY3Rpb24gKGVsZW1lbnQsIG9wdGlvbnMpIHtcbiAgICB0aGlzLiRlbGVtZW50ICA9ICQoZWxlbWVudClcbiAgICB0aGlzLm9wdGlvbnMgICA9ICQuZXh0ZW5kKHt9LCBCdXR0b24uREVGQVVMVFMsIG9wdGlvbnMpXG4gICAgdGhpcy5pc0xvYWRpbmcgPSBmYWxzZVxuICB9XG5cbiAgQnV0dG9uLlZFUlNJT04gID0gJzMuMy43J1xuXG4gIEJ1dHRvbi5ERUZBVUxUUyA9IHtcbiAgICBsb2FkaW5nVGV4dDogJ2xvYWRpbmcuLi4nXG4gIH1cblxuICBCdXR0b24ucHJvdG90eXBlLnNldFN0YXRlID0gZnVuY3Rpb24gKHN0YXRlKSB7XG4gICAgdmFyIGQgICAgPSAnZGlzYWJsZWQnXG4gICAgdmFyICRlbCAgPSB0aGlzLiRlbGVtZW50XG4gICAgdmFyIHZhbCAgPSAkZWwuaXMoJ2lucHV0JykgPyAndmFsJyA6ICdodG1sJ1xuICAgIHZhciBkYXRhID0gJGVsLmRhdGEoKVxuXG4gICAgc3RhdGUgKz0gJ1RleHQnXG5cbiAgICBpZiAoZGF0YS5yZXNldFRleHQgPT0gbnVsbCkgJGVsLmRhdGEoJ3Jlc2V0VGV4dCcsICRlbFt2YWxdKCkpXG5cbiAgICAvLyBwdXNoIHRvIGV2ZW50IGxvb3AgdG8gYWxsb3cgZm9ybXMgdG8gc3VibWl0XG4gICAgc2V0VGltZW91dCgkLnByb3h5KGZ1bmN0aW9uICgpIHtcbiAgICAgICRlbFt2YWxdKGRhdGFbc3RhdGVdID09IG51bGwgPyB0aGlzLm9wdGlvbnNbc3RhdGVdIDogZGF0YVtzdGF0ZV0pXG5cbiAgICAgIGlmIChzdGF0ZSA9PSAnbG9hZGluZ1RleHQnKSB7XG4gICAgICAgIHRoaXMuaXNMb2FkaW5nID0gdHJ1ZVxuICAgICAgICAkZWwuYWRkQ2xhc3MoZCkuYXR0cihkLCBkKS5wcm9wKGQsIHRydWUpXG4gICAgICB9IGVsc2UgaWYgKHRoaXMuaXNMb2FkaW5nKSB7XG4gICAgICAgIHRoaXMuaXNMb2FkaW5nID0gZmFsc2VcbiAgICAgICAgJGVsLnJlbW92ZUNsYXNzKGQpLnJlbW92ZUF0dHIoZCkucHJvcChkLCBmYWxzZSlcbiAgICAgIH1cbiAgICB9LCB0aGlzKSwgMClcbiAgfVxuXG4gIEJ1dHRvbi5wcm90b3R5cGUudG9nZ2xlID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciBjaGFuZ2VkID0gdHJ1ZVxuICAgIHZhciAkcGFyZW50ID0gdGhpcy4kZWxlbWVudC5jbG9zZXN0KCdbZGF0YS10b2dnbGU9XCJidXR0b25zXCJdJylcblxuICAgIGlmICgkcGFyZW50Lmxlbmd0aCkge1xuICAgICAgdmFyICRpbnB1dCA9IHRoaXMuJGVsZW1lbnQuZmluZCgnaW5wdXQnKVxuICAgICAgaWYgKCRpbnB1dC5wcm9wKCd0eXBlJykgPT0gJ3JhZGlvJykge1xuICAgICAgICBpZiAoJGlucHV0LnByb3AoJ2NoZWNrZWQnKSkgY2hhbmdlZCA9IGZhbHNlXG4gICAgICAgICRwYXJlbnQuZmluZCgnLmFjdGl2ZScpLnJlbW92ZUNsYXNzKCdhY3RpdmUnKVxuICAgICAgICB0aGlzLiRlbGVtZW50LmFkZENsYXNzKCdhY3RpdmUnKVxuICAgICAgfSBlbHNlIGlmICgkaW5wdXQucHJvcCgndHlwZScpID09ICdjaGVja2JveCcpIHtcbiAgICAgICAgaWYgKCgkaW5wdXQucHJvcCgnY2hlY2tlZCcpKSAhPT0gdGhpcy4kZWxlbWVudC5oYXNDbGFzcygnYWN0aXZlJykpIGNoYW5nZWQgPSBmYWxzZVxuICAgICAgICB0aGlzLiRlbGVtZW50LnRvZ2dsZUNsYXNzKCdhY3RpdmUnKVxuICAgICAgfVxuICAgICAgJGlucHV0LnByb3AoJ2NoZWNrZWQnLCB0aGlzLiRlbGVtZW50Lmhhc0NsYXNzKCdhY3RpdmUnKSlcbiAgICAgIGlmIChjaGFuZ2VkKSAkaW5wdXQudHJpZ2dlcignY2hhbmdlJylcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy4kZWxlbWVudC5hdHRyKCdhcmlhLXByZXNzZWQnLCAhdGhpcy4kZWxlbWVudC5oYXNDbGFzcygnYWN0aXZlJykpXG4gICAgICB0aGlzLiRlbGVtZW50LnRvZ2dsZUNsYXNzKCdhY3RpdmUnKVxuICAgIH1cbiAgfVxuXG5cbiAgLy8gQlVUVE9OIFBMVUdJTiBERUZJTklUSU9OXG4gIC8vID09PT09PT09PT09PT09PT09PT09PT09PVxuXG4gIGZ1bmN0aW9uIFBsdWdpbihvcHRpb24pIHtcbiAgICByZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciAkdGhpcyAgID0gJCh0aGlzKVxuICAgICAgdmFyIGRhdGEgICAgPSAkdGhpcy5kYXRhKCdicy5idXR0b24nKVxuICAgICAgdmFyIG9wdGlvbnMgPSB0eXBlb2Ygb3B0aW9uID09ICdvYmplY3QnICYmIG9wdGlvblxuXG4gICAgICBpZiAoIWRhdGEpICR0aGlzLmRhdGEoJ2JzLmJ1dHRvbicsIChkYXRhID0gbmV3IEJ1dHRvbih0aGlzLCBvcHRpb25zKSkpXG5cbiAgICAgIGlmIChvcHRpb24gPT0gJ3RvZ2dsZScpIGRhdGEudG9nZ2xlKClcbiAgICAgIGVsc2UgaWYgKG9wdGlvbikgZGF0YS5zZXRTdGF0ZShvcHRpb24pXG4gICAgfSlcbiAgfVxuXG4gIHZhciBvbGQgPSAkLmZuLmJ1dHRvblxuXG4gICQuZm4uYnV0dG9uICAgICAgICAgICAgID0gUGx1Z2luXG4gICQuZm4uYnV0dG9uLkNvbnN0cnVjdG9yID0gQnV0dG9uXG5cblxuICAvLyBCVVRUT04gTk8gQ09ORkxJQ1RcbiAgLy8gPT09PT09PT09PT09PT09PT09XG5cbiAgJC5mbi5idXR0b24ubm9Db25mbGljdCA9IGZ1bmN0aW9uICgpIHtcbiAgICAkLmZuLmJ1dHRvbiA9IG9sZFxuICAgIHJldHVybiB0aGlzXG4gIH1cblxuXG4gIC8vIEJVVFRPTiBEQVRBLUFQSVxuICAvLyA9PT09PT09PT09PT09PT1cblxuICAkKGRvY3VtZW50KVxuICAgIC5vbignY2xpY2suYnMuYnV0dG9uLmRhdGEtYXBpJywgJ1tkYXRhLXRvZ2dsZV49XCJidXR0b25cIl0nLCBmdW5jdGlvbiAoZSkge1xuICAgICAgdmFyICRidG4gPSAkKGUudGFyZ2V0KS5jbG9zZXN0KCcuYnRuJylcbiAgICAgIFBsdWdpbi5jYWxsKCRidG4sICd0b2dnbGUnKVxuICAgICAgaWYgKCEoJChlLnRhcmdldCkuaXMoJ2lucHV0W3R5cGU9XCJyYWRpb1wiXSwgaW5wdXRbdHlwZT1cImNoZWNrYm94XCJdJykpKSB7XG4gICAgICAgIC8vIFByZXZlbnQgZG91YmxlIGNsaWNrIG9uIHJhZGlvcywgYW5kIHRoZSBkb3VibGUgc2VsZWN0aW9ucyAoc28gY2FuY2VsbGF0aW9uKSBvbiBjaGVja2JveGVzXG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKVxuICAgICAgICAvLyBUaGUgdGFyZ2V0IGNvbXBvbmVudCBzdGlsbCByZWNlaXZlIHRoZSBmb2N1c1xuICAgICAgICBpZiAoJGJ0bi5pcygnaW5wdXQsYnV0dG9uJykpICRidG4udHJpZ2dlcignZm9jdXMnKVxuICAgICAgICBlbHNlICRidG4uZmluZCgnaW5wdXQ6dmlzaWJsZSxidXR0b246dmlzaWJsZScpLmZpcnN0KCkudHJpZ2dlcignZm9jdXMnKVxuICAgICAgfVxuICAgIH0pXG4gICAgLm9uKCdmb2N1cy5icy5idXR0b24uZGF0YS1hcGkgYmx1ci5icy5idXR0b24uZGF0YS1hcGknLCAnW2RhdGEtdG9nZ2xlXj1cImJ1dHRvblwiXScsIGZ1bmN0aW9uIChlKSB7XG4gICAgICAkKGUudGFyZ2V0KS5jbG9zZXN0KCcuYnRuJykudG9nZ2xlQ2xhc3MoJ2ZvY3VzJywgL15mb2N1cyhpbik/JC8udGVzdChlLnR5cGUpKVxuICAgIH0pXG5cbn0oalF1ZXJ5KTtcbiIsIi8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICogQm9vdHN0cmFwOiBjYXJvdXNlbC5qcyB2My4zLjdcbiAqIGh0dHA6Ly9nZXRib290c3RyYXAuY29tL2phdmFzY3JpcHQvI2Nhcm91c2VsXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqIENvcHlyaWdodCAyMDExLTIwMTYgVHdpdHRlciwgSW5jLlxuICogTGljZW5zZWQgdW5kZXIgTUlUIChodHRwczovL2dpdGh1Yi5jb20vdHdicy9ib290c3RyYXAvYmxvYi9tYXN0ZXIvTElDRU5TRSlcbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSAqL1xuXG5cbitmdW5jdGlvbiAoJCkge1xuICAndXNlIHN0cmljdCc7XG5cbiAgLy8gQ0FST1VTRUwgQ0xBU1MgREVGSU5JVElPTlxuICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09XG5cbiAgdmFyIENhcm91c2VsID0gZnVuY3Rpb24gKGVsZW1lbnQsIG9wdGlvbnMpIHtcbiAgICB0aGlzLiRlbGVtZW50ICAgID0gJChlbGVtZW50KVxuICAgIHRoaXMuJGluZGljYXRvcnMgPSB0aGlzLiRlbGVtZW50LmZpbmQoJy5jYXJvdXNlbC1pbmRpY2F0b3JzJylcbiAgICB0aGlzLm9wdGlvbnMgICAgID0gb3B0aW9uc1xuICAgIHRoaXMucGF1c2VkICAgICAgPSBudWxsXG4gICAgdGhpcy5zbGlkaW5nICAgICA9IG51bGxcbiAgICB0aGlzLmludGVydmFsICAgID0gbnVsbFxuICAgIHRoaXMuJGFjdGl2ZSAgICAgPSBudWxsXG4gICAgdGhpcy4kaXRlbXMgICAgICA9IG51bGxcblxuICAgIHRoaXMub3B0aW9ucy5rZXlib2FyZCAmJiB0aGlzLiRlbGVtZW50Lm9uKCdrZXlkb3duLmJzLmNhcm91c2VsJywgJC5wcm94eSh0aGlzLmtleWRvd24sIHRoaXMpKVxuXG4gICAgdGhpcy5vcHRpb25zLnBhdXNlID09ICdob3ZlcicgJiYgISgnb250b3VjaHN0YXJ0JyBpbiBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQpICYmIHRoaXMuJGVsZW1lbnRcbiAgICAgIC5vbignbW91c2VlbnRlci5icy5jYXJvdXNlbCcsICQucHJveHkodGhpcy5wYXVzZSwgdGhpcykpXG4gICAgICAub24oJ21vdXNlbGVhdmUuYnMuY2Fyb3VzZWwnLCAkLnByb3h5KHRoaXMuY3ljbGUsIHRoaXMpKVxuICB9XG5cbiAgQ2Fyb3VzZWwuVkVSU0lPTiAgPSAnMy4zLjcnXG5cbiAgQ2Fyb3VzZWwuVFJBTlNJVElPTl9EVVJBVElPTiA9IDYwMFxuXG4gIENhcm91c2VsLkRFRkFVTFRTID0ge1xuICAgIGludGVydmFsOiA1MDAwLFxuICAgIHBhdXNlOiAnaG92ZXInLFxuICAgIHdyYXA6IHRydWUsXG4gICAga2V5Ym9hcmQ6IHRydWVcbiAgfVxuXG4gIENhcm91c2VsLnByb3RvdHlwZS5rZXlkb3duID0gZnVuY3Rpb24gKGUpIHtcbiAgICBpZiAoL2lucHV0fHRleHRhcmVhL2kudGVzdChlLnRhcmdldC50YWdOYW1lKSkgcmV0dXJuXG4gICAgc3dpdGNoIChlLndoaWNoKSB7XG4gICAgICBjYXNlIDM3OiB0aGlzLnByZXYoKTsgYnJlYWtcbiAgICAgIGNhc2UgMzk6IHRoaXMubmV4dCgpOyBicmVha1xuICAgICAgZGVmYXVsdDogcmV0dXJuXG4gICAgfVxuXG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpXG4gIH1cblxuICBDYXJvdXNlbC5wcm90b3R5cGUuY3ljbGUgPSBmdW5jdGlvbiAoZSkge1xuICAgIGUgfHwgKHRoaXMucGF1c2VkID0gZmFsc2UpXG5cbiAgICB0aGlzLmludGVydmFsICYmIGNsZWFySW50ZXJ2YWwodGhpcy5pbnRlcnZhbClcblxuICAgIHRoaXMub3B0aW9ucy5pbnRlcnZhbFxuICAgICAgJiYgIXRoaXMucGF1c2VkXG4gICAgICAmJiAodGhpcy5pbnRlcnZhbCA9IHNldEludGVydmFsKCQucHJveHkodGhpcy5uZXh0LCB0aGlzKSwgdGhpcy5vcHRpb25zLmludGVydmFsKSlcblxuICAgIHJldHVybiB0aGlzXG4gIH1cblxuICBDYXJvdXNlbC5wcm90b3R5cGUuZ2V0SXRlbUluZGV4ID0gZnVuY3Rpb24gKGl0ZW0pIHtcbiAgICB0aGlzLiRpdGVtcyA9IGl0ZW0ucGFyZW50KCkuY2hpbGRyZW4oJy5pdGVtJylcbiAgICByZXR1cm4gdGhpcy4kaXRlbXMuaW5kZXgoaXRlbSB8fCB0aGlzLiRhY3RpdmUpXG4gIH1cblxuICBDYXJvdXNlbC5wcm90b3R5cGUuZ2V0SXRlbUZvckRpcmVjdGlvbiA9IGZ1bmN0aW9uIChkaXJlY3Rpb24sIGFjdGl2ZSkge1xuICAgIHZhciBhY3RpdmVJbmRleCA9IHRoaXMuZ2V0SXRlbUluZGV4KGFjdGl2ZSlcbiAgICB2YXIgd2lsbFdyYXAgPSAoZGlyZWN0aW9uID09ICdwcmV2JyAmJiBhY3RpdmVJbmRleCA9PT0gMClcbiAgICAgICAgICAgICAgICB8fCAoZGlyZWN0aW9uID09ICduZXh0JyAmJiBhY3RpdmVJbmRleCA9PSAodGhpcy4kaXRlbXMubGVuZ3RoIC0gMSkpXG4gICAgaWYgKHdpbGxXcmFwICYmICF0aGlzLm9wdGlvbnMud3JhcCkgcmV0dXJuIGFjdGl2ZVxuICAgIHZhciBkZWx0YSA9IGRpcmVjdGlvbiA9PSAncHJldicgPyAtMSA6IDFcbiAgICB2YXIgaXRlbUluZGV4ID0gKGFjdGl2ZUluZGV4ICsgZGVsdGEpICUgdGhpcy4kaXRlbXMubGVuZ3RoXG4gICAgcmV0dXJuIHRoaXMuJGl0ZW1zLmVxKGl0ZW1JbmRleClcbiAgfVxuXG4gIENhcm91c2VsLnByb3RvdHlwZS50byA9IGZ1bmN0aW9uIChwb3MpIHtcbiAgICB2YXIgdGhhdCAgICAgICAgPSB0aGlzXG4gICAgdmFyIGFjdGl2ZUluZGV4ID0gdGhpcy5nZXRJdGVtSW5kZXgodGhpcy4kYWN0aXZlID0gdGhpcy4kZWxlbWVudC5maW5kKCcuaXRlbS5hY3RpdmUnKSlcblxuICAgIGlmIChwb3MgPiAodGhpcy4kaXRlbXMubGVuZ3RoIC0gMSkgfHwgcG9zIDwgMCkgcmV0dXJuXG5cbiAgICBpZiAodGhpcy5zbGlkaW5nKSAgICAgICByZXR1cm4gdGhpcy4kZWxlbWVudC5vbmUoJ3NsaWQuYnMuY2Fyb3VzZWwnLCBmdW5jdGlvbiAoKSB7IHRoYXQudG8ocG9zKSB9KSAvLyB5ZXMsIFwic2xpZFwiXG4gICAgaWYgKGFjdGl2ZUluZGV4ID09IHBvcykgcmV0dXJuIHRoaXMucGF1c2UoKS5jeWNsZSgpXG5cbiAgICByZXR1cm4gdGhpcy5zbGlkZShwb3MgPiBhY3RpdmVJbmRleCA/ICduZXh0JyA6ICdwcmV2JywgdGhpcy4kaXRlbXMuZXEocG9zKSlcbiAgfVxuXG4gIENhcm91c2VsLnByb3RvdHlwZS5wYXVzZSA9IGZ1bmN0aW9uIChlKSB7XG4gICAgZSB8fCAodGhpcy5wYXVzZWQgPSB0cnVlKVxuXG4gICAgaWYgKHRoaXMuJGVsZW1lbnQuZmluZCgnLm5leHQsIC5wcmV2JykubGVuZ3RoICYmICQuc3VwcG9ydC50cmFuc2l0aW9uKSB7XG4gICAgICB0aGlzLiRlbGVtZW50LnRyaWdnZXIoJC5zdXBwb3J0LnRyYW5zaXRpb24uZW5kKVxuICAgICAgdGhpcy5jeWNsZSh0cnVlKVxuICAgIH1cblxuICAgIHRoaXMuaW50ZXJ2YWwgPSBjbGVhckludGVydmFsKHRoaXMuaW50ZXJ2YWwpXG5cbiAgICByZXR1cm4gdGhpc1xuICB9XG5cbiAgQ2Fyb3VzZWwucHJvdG90eXBlLm5leHQgPSBmdW5jdGlvbiAoKSB7XG4gICAgaWYgKHRoaXMuc2xpZGluZykgcmV0dXJuXG4gICAgcmV0dXJuIHRoaXMuc2xpZGUoJ25leHQnKVxuICB9XG5cbiAgQ2Fyb3VzZWwucHJvdG90eXBlLnByZXYgPSBmdW5jdGlvbiAoKSB7XG4gICAgaWYgKHRoaXMuc2xpZGluZykgcmV0dXJuXG4gICAgcmV0dXJuIHRoaXMuc2xpZGUoJ3ByZXYnKVxuICB9XG5cbiAgQ2Fyb3VzZWwucHJvdG90eXBlLnNsaWRlID0gZnVuY3Rpb24gKHR5cGUsIG5leHQpIHtcbiAgICB2YXIgJGFjdGl2ZSAgID0gdGhpcy4kZWxlbWVudC5maW5kKCcuaXRlbS5hY3RpdmUnKVxuICAgIHZhciAkbmV4dCAgICAgPSBuZXh0IHx8IHRoaXMuZ2V0SXRlbUZvckRpcmVjdGlvbih0eXBlLCAkYWN0aXZlKVxuICAgIHZhciBpc0N5Y2xpbmcgPSB0aGlzLmludGVydmFsXG4gICAgdmFyIGRpcmVjdGlvbiA9IHR5cGUgPT0gJ25leHQnID8gJ2xlZnQnIDogJ3JpZ2h0J1xuICAgIHZhciB0aGF0ICAgICAgPSB0aGlzXG5cbiAgICBpZiAoJG5leHQuaGFzQ2xhc3MoJ2FjdGl2ZScpKSByZXR1cm4gKHRoaXMuc2xpZGluZyA9IGZhbHNlKVxuXG4gICAgdmFyIHJlbGF0ZWRUYXJnZXQgPSAkbmV4dFswXVxuICAgIHZhciBzbGlkZUV2ZW50ID0gJC5FdmVudCgnc2xpZGUuYnMuY2Fyb3VzZWwnLCB7XG4gICAgICByZWxhdGVkVGFyZ2V0OiByZWxhdGVkVGFyZ2V0LFxuICAgICAgZGlyZWN0aW9uOiBkaXJlY3Rpb25cbiAgICB9KVxuICAgIHRoaXMuJGVsZW1lbnQudHJpZ2dlcihzbGlkZUV2ZW50KVxuICAgIGlmIChzbGlkZUV2ZW50LmlzRGVmYXVsdFByZXZlbnRlZCgpKSByZXR1cm5cblxuICAgIHRoaXMuc2xpZGluZyA9IHRydWVcblxuICAgIGlzQ3ljbGluZyAmJiB0aGlzLnBhdXNlKClcblxuICAgIGlmICh0aGlzLiRpbmRpY2F0b3JzLmxlbmd0aCkge1xuICAgICAgdGhpcy4kaW5kaWNhdG9ycy5maW5kKCcuYWN0aXZlJykucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpXG4gICAgICB2YXIgJG5leHRJbmRpY2F0b3IgPSAkKHRoaXMuJGluZGljYXRvcnMuY2hpbGRyZW4oKVt0aGlzLmdldEl0ZW1JbmRleCgkbmV4dCldKVxuICAgICAgJG5leHRJbmRpY2F0b3IgJiYgJG5leHRJbmRpY2F0b3IuYWRkQ2xhc3MoJ2FjdGl2ZScpXG4gICAgfVxuXG4gICAgdmFyIHNsaWRFdmVudCA9ICQuRXZlbnQoJ3NsaWQuYnMuY2Fyb3VzZWwnLCB7IHJlbGF0ZWRUYXJnZXQ6IHJlbGF0ZWRUYXJnZXQsIGRpcmVjdGlvbjogZGlyZWN0aW9uIH0pIC8vIHllcywgXCJzbGlkXCJcbiAgICBpZiAoJC5zdXBwb3J0LnRyYW5zaXRpb24gJiYgdGhpcy4kZWxlbWVudC5oYXNDbGFzcygnc2xpZGUnKSkge1xuICAgICAgJG5leHQuYWRkQ2xhc3ModHlwZSlcbiAgICAgICRuZXh0WzBdLm9mZnNldFdpZHRoIC8vIGZvcmNlIHJlZmxvd1xuICAgICAgJGFjdGl2ZS5hZGRDbGFzcyhkaXJlY3Rpb24pXG4gICAgICAkbmV4dC5hZGRDbGFzcyhkaXJlY3Rpb24pXG4gICAgICAkYWN0aXZlXG4gICAgICAgIC5vbmUoJ2JzVHJhbnNpdGlvbkVuZCcsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAkbmV4dC5yZW1vdmVDbGFzcyhbdHlwZSwgZGlyZWN0aW9uXS5qb2luKCcgJykpLmFkZENsYXNzKCdhY3RpdmUnKVxuICAgICAgICAgICRhY3RpdmUucmVtb3ZlQ2xhc3MoWydhY3RpdmUnLCBkaXJlY3Rpb25dLmpvaW4oJyAnKSlcbiAgICAgICAgICB0aGF0LnNsaWRpbmcgPSBmYWxzZVxuICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdGhhdC4kZWxlbWVudC50cmlnZ2VyKHNsaWRFdmVudClcbiAgICAgICAgICB9LCAwKVxuICAgICAgICB9KVxuICAgICAgICAuZW11bGF0ZVRyYW5zaXRpb25FbmQoQ2Fyb3VzZWwuVFJBTlNJVElPTl9EVVJBVElPTilcbiAgICB9IGVsc2Uge1xuICAgICAgJGFjdGl2ZS5yZW1vdmVDbGFzcygnYWN0aXZlJylcbiAgICAgICRuZXh0LmFkZENsYXNzKCdhY3RpdmUnKVxuICAgICAgdGhpcy5zbGlkaW5nID0gZmFsc2VcbiAgICAgIHRoaXMuJGVsZW1lbnQudHJpZ2dlcihzbGlkRXZlbnQpXG4gICAgfVxuXG4gICAgaXNDeWNsaW5nICYmIHRoaXMuY3ljbGUoKVxuXG4gICAgcmV0dXJuIHRoaXNcbiAgfVxuXG5cbiAgLy8gQ0FST1VTRUwgUExVR0lOIERFRklOSVRJT05cbiAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuICBmdW5jdGlvbiBQbHVnaW4ob3B0aW9uKSB7XG4gICAgcmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgJHRoaXMgICA9ICQodGhpcylcbiAgICAgIHZhciBkYXRhICAgID0gJHRoaXMuZGF0YSgnYnMuY2Fyb3VzZWwnKVxuICAgICAgdmFyIG9wdGlvbnMgPSAkLmV4dGVuZCh7fSwgQ2Fyb3VzZWwuREVGQVVMVFMsICR0aGlzLmRhdGEoKSwgdHlwZW9mIG9wdGlvbiA9PSAnb2JqZWN0JyAmJiBvcHRpb24pXG4gICAgICB2YXIgYWN0aW9uICA9IHR5cGVvZiBvcHRpb24gPT0gJ3N0cmluZycgPyBvcHRpb24gOiBvcHRpb25zLnNsaWRlXG5cbiAgICAgIGlmICghZGF0YSkgJHRoaXMuZGF0YSgnYnMuY2Fyb3VzZWwnLCAoZGF0YSA9IG5ldyBDYXJvdXNlbCh0aGlzLCBvcHRpb25zKSkpXG4gICAgICBpZiAodHlwZW9mIG9wdGlvbiA9PSAnbnVtYmVyJykgZGF0YS50byhvcHRpb24pXG4gICAgICBlbHNlIGlmIChhY3Rpb24pIGRhdGFbYWN0aW9uXSgpXG4gICAgICBlbHNlIGlmIChvcHRpb25zLmludGVydmFsKSBkYXRhLnBhdXNlKCkuY3ljbGUoKVxuICAgIH0pXG4gIH1cblxuICB2YXIgb2xkID0gJC5mbi5jYXJvdXNlbFxuXG4gICQuZm4uY2Fyb3VzZWwgICAgICAgICAgICAgPSBQbHVnaW5cbiAgJC5mbi5jYXJvdXNlbC5Db25zdHJ1Y3RvciA9IENhcm91c2VsXG5cblxuICAvLyBDQVJPVVNFTCBOTyBDT05GTElDVFxuICAvLyA9PT09PT09PT09PT09PT09PT09PVxuXG4gICQuZm4uY2Fyb3VzZWwubm9Db25mbGljdCA9IGZ1bmN0aW9uICgpIHtcbiAgICAkLmZuLmNhcm91c2VsID0gb2xkXG4gICAgcmV0dXJuIHRoaXNcbiAgfVxuXG5cbiAgLy8gQ0FST1VTRUwgREFUQS1BUElcbiAgLy8gPT09PT09PT09PT09PT09PT1cblxuICB2YXIgY2xpY2tIYW5kbGVyID0gZnVuY3Rpb24gKGUpIHtcbiAgICB2YXIgaHJlZlxuICAgIHZhciAkdGhpcyAgID0gJCh0aGlzKVxuICAgIHZhciAkdGFyZ2V0ID0gJCgkdGhpcy5hdHRyKCdkYXRhLXRhcmdldCcpIHx8IChocmVmID0gJHRoaXMuYXR0cignaHJlZicpKSAmJiBocmVmLnJlcGxhY2UoLy4qKD89I1teXFxzXSskKS8sICcnKSkgLy8gc3RyaXAgZm9yIGllN1xuICAgIGlmICghJHRhcmdldC5oYXNDbGFzcygnY2Fyb3VzZWwnKSkgcmV0dXJuXG4gICAgdmFyIG9wdGlvbnMgPSAkLmV4dGVuZCh7fSwgJHRhcmdldC5kYXRhKCksICR0aGlzLmRhdGEoKSlcbiAgICB2YXIgc2xpZGVJbmRleCA9ICR0aGlzLmF0dHIoJ2RhdGEtc2xpZGUtdG8nKVxuICAgIGlmIChzbGlkZUluZGV4KSBvcHRpb25zLmludGVydmFsID0gZmFsc2VcblxuICAgIFBsdWdpbi5jYWxsKCR0YXJnZXQsIG9wdGlvbnMpXG5cbiAgICBpZiAoc2xpZGVJbmRleCkge1xuICAgICAgJHRhcmdldC5kYXRhKCdicy5jYXJvdXNlbCcpLnRvKHNsaWRlSW5kZXgpXG4gICAgfVxuXG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpXG4gIH1cblxuICAkKGRvY3VtZW50KVxuICAgIC5vbignY2xpY2suYnMuY2Fyb3VzZWwuZGF0YS1hcGknLCAnW2RhdGEtc2xpZGVdJywgY2xpY2tIYW5kbGVyKVxuICAgIC5vbignY2xpY2suYnMuY2Fyb3VzZWwuZGF0YS1hcGknLCAnW2RhdGEtc2xpZGUtdG9dJywgY2xpY2tIYW5kbGVyKVxuXG4gICQod2luZG93KS5vbignbG9hZCcsIGZ1bmN0aW9uICgpIHtcbiAgICAkKCdbZGF0YS1yaWRlPVwiY2Fyb3VzZWxcIl0nKS5lYWNoKGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciAkY2Fyb3VzZWwgPSAkKHRoaXMpXG4gICAgICBQbHVnaW4uY2FsbCgkY2Fyb3VzZWwsICRjYXJvdXNlbC5kYXRhKCkpXG4gICAgfSlcbiAgfSlcblxufShqUXVlcnkpO1xuIiwiLyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKiBCb290c3RyYXA6IGNvbGxhcHNlLmpzIHYzLjMuN1xuICogaHR0cDovL2dldGJvb3RzdHJhcC5jb20vamF2YXNjcmlwdC8jY29sbGFwc2VcbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICogQ29weXJpZ2h0IDIwMTEtMjAxNiBUd2l0dGVyLCBJbmMuXG4gKiBMaWNlbnNlZCB1bmRlciBNSVQgKGh0dHBzOi8vZ2l0aHViLmNvbS90d2JzL2Jvb3RzdHJhcC9ibG9iL21hc3Rlci9MSUNFTlNFKVxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09ICovXG5cbi8qIGpzaGludCBsYXRlZGVmOiBmYWxzZSAqL1xuXG4rZnVuY3Rpb24gKCQpIHtcbiAgJ3VzZSBzdHJpY3QnO1xuXG4gIC8vIENPTExBUFNFIFBVQkxJQyBDTEFTUyBERUZJTklUSU9OXG4gIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbiAgdmFyIENvbGxhcHNlID0gZnVuY3Rpb24gKGVsZW1lbnQsIG9wdGlvbnMpIHtcbiAgICB0aGlzLiRlbGVtZW50ICAgICAgPSAkKGVsZW1lbnQpXG4gICAgdGhpcy5vcHRpb25zICAgICAgID0gJC5leHRlbmQoe30sIENvbGxhcHNlLkRFRkFVTFRTLCBvcHRpb25zKVxuICAgIHRoaXMuJHRyaWdnZXIgICAgICA9ICQoJ1tkYXRhLXRvZ2dsZT1cImNvbGxhcHNlXCJdW2hyZWY9XCIjJyArIGVsZW1lbnQuaWQgKyAnXCJdLCcgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgJ1tkYXRhLXRvZ2dsZT1cImNvbGxhcHNlXCJdW2RhdGEtdGFyZ2V0PVwiIycgKyBlbGVtZW50LmlkICsgJ1wiXScpXG4gICAgdGhpcy50cmFuc2l0aW9uaW5nID0gbnVsbFxuXG4gICAgaWYgKHRoaXMub3B0aW9ucy5wYXJlbnQpIHtcbiAgICAgIHRoaXMuJHBhcmVudCA9IHRoaXMuZ2V0UGFyZW50KClcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5hZGRBcmlhQW5kQ29sbGFwc2VkQ2xhc3ModGhpcy4kZWxlbWVudCwgdGhpcy4kdHJpZ2dlcilcbiAgICB9XG5cbiAgICBpZiAodGhpcy5vcHRpb25zLnRvZ2dsZSkgdGhpcy50b2dnbGUoKVxuICB9XG5cbiAgQ29sbGFwc2UuVkVSU0lPTiAgPSAnMy4zLjcnXG5cbiAgQ29sbGFwc2UuVFJBTlNJVElPTl9EVVJBVElPTiA9IDM1MFxuXG4gIENvbGxhcHNlLkRFRkFVTFRTID0ge1xuICAgIHRvZ2dsZTogdHJ1ZVxuICB9XG5cbiAgQ29sbGFwc2UucHJvdG90eXBlLmRpbWVuc2lvbiA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgaGFzV2lkdGggPSB0aGlzLiRlbGVtZW50Lmhhc0NsYXNzKCd3aWR0aCcpXG4gICAgcmV0dXJuIGhhc1dpZHRoID8gJ3dpZHRoJyA6ICdoZWlnaHQnXG4gIH1cblxuICBDb2xsYXBzZS5wcm90b3R5cGUuc2hvdyA9IGZ1bmN0aW9uICgpIHtcbiAgICBpZiAodGhpcy50cmFuc2l0aW9uaW5nIHx8IHRoaXMuJGVsZW1lbnQuaGFzQ2xhc3MoJ2luJykpIHJldHVyblxuXG4gICAgdmFyIGFjdGl2ZXNEYXRhXG4gICAgdmFyIGFjdGl2ZXMgPSB0aGlzLiRwYXJlbnQgJiYgdGhpcy4kcGFyZW50LmNoaWxkcmVuKCcucGFuZWwnKS5jaGlsZHJlbignLmluLCAuY29sbGFwc2luZycpXG5cbiAgICBpZiAoYWN0aXZlcyAmJiBhY3RpdmVzLmxlbmd0aCkge1xuICAgICAgYWN0aXZlc0RhdGEgPSBhY3RpdmVzLmRhdGEoJ2JzLmNvbGxhcHNlJylcbiAgICAgIGlmIChhY3RpdmVzRGF0YSAmJiBhY3RpdmVzRGF0YS50cmFuc2l0aW9uaW5nKSByZXR1cm5cbiAgICB9XG5cbiAgICB2YXIgc3RhcnRFdmVudCA9ICQuRXZlbnQoJ3Nob3cuYnMuY29sbGFwc2UnKVxuICAgIHRoaXMuJGVsZW1lbnQudHJpZ2dlcihzdGFydEV2ZW50KVxuICAgIGlmIChzdGFydEV2ZW50LmlzRGVmYXVsdFByZXZlbnRlZCgpKSByZXR1cm5cblxuICAgIGlmIChhY3RpdmVzICYmIGFjdGl2ZXMubGVuZ3RoKSB7XG4gICAgICBQbHVnaW4uY2FsbChhY3RpdmVzLCAnaGlkZScpXG4gICAgICBhY3RpdmVzRGF0YSB8fCBhY3RpdmVzLmRhdGEoJ2JzLmNvbGxhcHNlJywgbnVsbClcbiAgICB9XG5cbiAgICB2YXIgZGltZW5zaW9uID0gdGhpcy5kaW1lbnNpb24oKVxuXG4gICAgdGhpcy4kZWxlbWVudFxuICAgICAgLnJlbW92ZUNsYXNzKCdjb2xsYXBzZScpXG4gICAgICAuYWRkQ2xhc3MoJ2NvbGxhcHNpbmcnKVtkaW1lbnNpb25dKDApXG4gICAgICAuYXR0cignYXJpYS1leHBhbmRlZCcsIHRydWUpXG5cbiAgICB0aGlzLiR0cmlnZ2VyXG4gICAgICAucmVtb3ZlQ2xhc3MoJ2NvbGxhcHNlZCcpXG4gICAgICAuYXR0cignYXJpYS1leHBhbmRlZCcsIHRydWUpXG5cbiAgICB0aGlzLnRyYW5zaXRpb25pbmcgPSAxXG5cbiAgICB2YXIgY29tcGxldGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICB0aGlzLiRlbGVtZW50XG4gICAgICAgIC5yZW1vdmVDbGFzcygnY29sbGFwc2luZycpXG4gICAgICAgIC5hZGRDbGFzcygnY29sbGFwc2UgaW4nKVtkaW1lbnNpb25dKCcnKVxuICAgICAgdGhpcy50cmFuc2l0aW9uaW5nID0gMFxuICAgICAgdGhpcy4kZWxlbWVudFxuICAgICAgICAudHJpZ2dlcignc2hvd24uYnMuY29sbGFwc2UnKVxuICAgIH1cblxuICAgIGlmICghJC5zdXBwb3J0LnRyYW5zaXRpb24pIHJldHVybiBjb21wbGV0ZS5jYWxsKHRoaXMpXG5cbiAgICB2YXIgc2Nyb2xsU2l6ZSA9ICQuY2FtZWxDYXNlKFsnc2Nyb2xsJywgZGltZW5zaW9uXS5qb2luKCctJykpXG5cbiAgICB0aGlzLiRlbGVtZW50XG4gICAgICAub25lKCdic1RyYW5zaXRpb25FbmQnLCAkLnByb3h5KGNvbXBsZXRlLCB0aGlzKSlcbiAgICAgIC5lbXVsYXRlVHJhbnNpdGlvbkVuZChDb2xsYXBzZS5UUkFOU0lUSU9OX0RVUkFUSU9OKVtkaW1lbnNpb25dKHRoaXMuJGVsZW1lbnRbMF1bc2Nyb2xsU2l6ZV0pXG4gIH1cblxuICBDb2xsYXBzZS5wcm90b3R5cGUuaGlkZSA9IGZ1bmN0aW9uICgpIHtcbiAgICBpZiAodGhpcy50cmFuc2l0aW9uaW5nIHx8ICF0aGlzLiRlbGVtZW50Lmhhc0NsYXNzKCdpbicpKSByZXR1cm5cblxuICAgIHZhciBzdGFydEV2ZW50ID0gJC5FdmVudCgnaGlkZS5icy5jb2xsYXBzZScpXG4gICAgdGhpcy4kZWxlbWVudC50cmlnZ2VyKHN0YXJ0RXZlbnQpXG4gICAgaWYgKHN0YXJ0RXZlbnQuaXNEZWZhdWx0UHJldmVudGVkKCkpIHJldHVyblxuXG4gICAgdmFyIGRpbWVuc2lvbiA9IHRoaXMuZGltZW5zaW9uKClcblxuICAgIHRoaXMuJGVsZW1lbnRbZGltZW5zaW9uXSh0aGlzLiRlbGVtZW50W2RpbWVuc2lvbl0oKSlbMF0ub2Zmc2V0SGVpZ2h0XG5cbiAgICB0aGlzLiRlbGVtZW50XG4gICAgICAuYWRkQ2xhc3MoJ2NvbGxhcHNpbmcnKVxuICAgICAgLnJlbW92ZUNsYXNzKCdjb2xsYXBzZSBpbicpXG4gICAgICAuYXR0cignYXJpYS1leHBhbmRlZCcsIGZhbHNlKVxuXG4gICAgdGhpcy4kdHJpZ2dlclxuICAgICAgLmFkZENsYXNzKCdjb2xsYXBzZWQnKVxuICAgICAgLmF0dHIoJ2FyaWEtZXhwYW5kZWQnLCBmYWxzZSlcblxuICAgIHRoaXMudHJhbnNpdGlvbmluZyA9IDFcblxuICAgIHZhciBjb21wbGV0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHRoaXMudHJhbnNpdGlvbmluZyA9IDBcbiAgICAgIHRoaXMuJGVsZW1lbnRcbiAgICAgICAgLnJlbW92ZUNsYXNzKCdjb2xsYXBzaW5nJylcbiAgICAgICAgLmFkZENsYXNzKCdjb2xsYXBzZScpXG4gICAgICAgIC50cmlnZ2VyKCdoaWRkZW4uYnMuY29sbGFwc2UnKVxuICAgIH1cblxuICAgIGlmICghJC5zdXBwb3J0LnRyYW5zaXRpb24pIHJldHVybiBjb21wbGV0ZS5jYWxsKHRoaXMpXG5cbiAgICB0aGlzLiRlbGVtZW50XG4gICAgICBbZGltZW5zaW9uXSgwKVxuICAgICAgLm9uZSgnYnNUcmFuc2l0aW9uRW5kJywgJC5wcm94eShjb21wbGV0ZSwgdGhpcykpXG4gICAgICAuZW11bGF0ZVRyYW5zaXRpb25FbmQoQ29sbGFwc2UuVFJBTlNJVElPTl9EVVJBVElPTilcbiAgfVxuXG4gIENvbGxhcHNlLnByb3RvdHlwZS50b2dnbGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgdGhpc1t0aGlzLiRlbGVtZW50Lmhhc0NsYXNzKCdpbicpID8gJ2hpZGUnIDogJ3Nob3cnXSgpXG4gIH1cblxuICBDb2xsYXBzZS5wcm90b3R5cGUuZ2V0UGFyZW50ID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiAkKHRoaXMub3B0aW9ucy5wYXJlbnQpXG4gICAgICAuZmluZCgnW2RhdGEtdG9nZ2xlPVwiY29sbGFwc2VcIl1bZGF0YS1wYXJlbnQ9XCInICsgdGhpcy5vcHRpb25zLnBhcmVudCArICdcIl0nKVxuICAgICAgLmVhY2goJC5wcm94eShmdW5jdGlvbiAoaSwgZWxlbWVudCkge1xuICAgICAgICB2YXIgJGVsZW1lbnQgPSAkKGVsZW1lbnQpXG4gICAgICAgIHRoaXMuYWRkQXJpYUFuZENvbGxhcHNlZENsYXNzKGdldFRhcmdldEZyb21UcmlnZ2VyKCRlbGVtZW50KSwgJGVsZW1lbnQpXG4gICAgICB9LCB0aGlzKSlcbiAgICAgIC5lbmQoKVxuICB9XG5cbiAgQ29sbGFwc2UucHJvdG90eXBlLmFkZEFyaWFBbmRDb2xsYXBzZWRDbGFzcyA9IGZ1bmN0aW9uICgkZWxlbWVudCwgJHRyaWdnZXIpIHtcbiAgICB2YXIgaXNPcGVuID0gJGVsZW1lbnQuaGFzQ2xhc3MoJ2luJylcblxuICAgICRlbGVtZW50LmF0dHIoJ2FyaWEtZXhwYW5kZWQnLCBpc09wZW4pXG4gICAgJHRyaWdnZXJcbiAgICAgIC50b2dnbGVDbGFzcygnY29sbGFwc2VkJywgIWlzT3BlbilcbiAgICAgIC5hdHRyKCdhcmlhLWV4cGFuZGVkJywgaXNPcGVuKVxuICB9XG5cbiAgZnVuY3Rpb24gZ2V0VGFyZ2V0RnJvbVRyaWdnZXIoJHRyaWdnZXIpIHtcbiAgICB2YXIgaHJlZlxuICAgIHZhciB0YXJnZXQgPSAkdHJpZ2dlci5hdHRyKCdkYXRhLXRhcmdldCcpXG4gICAgICB8fCAoaHJlZiA9ICR0cmlnZ2VyLmF0dHIoJ2hyZWYnKSkgJiYgaHJlZi5yZXBsYWNlKC8uKig/PSNbXlxcc10rJCkvLCAnJykgLy8gc3RyaXAgZm9yIGllN1xuXG4gICAgcmV0dXJuICQodGFyZ2V0KVxuICB9XG5cblxuICAvLyBDT0xMQVBTRSBQTFVHSU4gREVGSU5JVElPTlxuICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG4gIGZ1bmN0aW9uIFBsdWdpbihvcHRpb24pIHtcbiAgICByZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciAkdGhpcyAgID0gJCh0aGlzKVxuICAgICAgdmFyIGRhdGEgICAgPSAkdGhpcy5kYXRhKCdicy5jb2xsYXBzZScpXG4gICAgICB2YXIgb3B0aW9ucyA9ICQuZXh0ZW5kKHt9LCBDb2xsYXBzZS5ERUZBVUxUUywgJHRoaXMuZGF0YSgpLCB0eXBlb2Ygb3B0aW9uID09ICdvYmplY3QnICYmIG9wdGlvbilcblxuICAgICAgaWYgKCFkYXRhICYmIG9wdGlvbnMudG9nZ2xlICYmIC9zaG93fGhpZGUvLnRlc3Qob3B0aW9uKSkgb3B0aW9ucy50b2dnbGUgPSBmYWxzZVxuICAgICAgaWYgKCFkYXRhKSAkdGhpcy5kYXRhKCdicy5jb2xsYXBzZScsIChkYXRhID0gbmV3IENvbGxhcHNlKHRoaXMsIG9wdGlvbnMpKSlcbiAgICAgIGlmICh0eXBlb2Ygb3B0aW9uID09ICdzdHJpbmcnKSBkYXRhW29wdGlvbl0oKVxuICAgIH0pXG4gIH1cblxuICB2YXIgb2xkID0gJC5mbi5jb2xsYXBzZVxuXG4gICQuZm4uY29sbGFwc2UgICAgICAgICAgICAgPSBQbHVnaW5cbiAgJC5mbi5jb2xsYXBzZS5Db25zdHJ1Y3RvciA9IENvbGxhcHNlXG5cblxuICAvLyBDT0xMQVBTRSBOTyBDT05GTElDVFxuICAvLyA9PT09PT09PT09PT09PT09PT09PVxuXG4gICQuZm4uY29sbGFwc2Uubm9Db25mbGljdCA9IGZ1bmN0aW9uICgpIHtcbiAgICAkLmZuLmNvbGxhcHNlID0gb2xkXG4gICAgcmV0dXJuIHRoaXNcbiAgfVxuXG5cbiAgLy8gQ09MTEFQU0UgREFUQS1BUElcbiAgLy8gPT09PT09PT09PT09PT09PT1cblxuICAkKGRvY3VtZW50KS5vbignY2xpY2suYnMuY29sbGFwc2UuZGF0YS1hcGknLCAnW2RhdGEtdG9nZ2xlPVwiY29sbGFwc2VcIl0nLCBmdW5jdGlvbiAoZSkge1xuICAgIHZhciAkdGhpcyAgID0gJCh0aGlzKVxuXG4gICAgaWYgKCEkdGhpcy5hdHRyKCdkYXRhLXRhcmdldCcpKSBlLnByZXZlbnREZWZhdWx0KClcblxuICAgIHZhciAkdGFyZ2V0ID0gZ2V0VGFyZ2V0RnJvbVRyaWdnZXIoJHRoaXMpXG4gICAgdmFyIGRhdGEgICAgPSAkdGFyZ2V0LmRhdGEoJ2JzLmNvbGxhcHNlJylcbiAgICB2YXIgb3B0aW9uICA9IGRhdGEgPyAndG9nZ2xlJyA6ICR0aGlzLmRhdGEoKVxuXG4gICAgUGx1Z2luLmNhbGwoJHRhcmdldCwgb3B0aW9uKVxuICB9KVxuXG59KGpRdWVyeSk7XG4iLCIvKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqIEJvb3RzdHJhcDogZHJvcGRvd24uanMgdjMuMy43XG4gKiBodHRwOi8vZ2V0Ym9vdHN0cmFwLmNvbS9qYXZhc2NyaXB0LyNkcm9wZG93bnNcbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICogQ29weXJpZ2h0IDIwMTEtMjAxNiBUd2l0dGVyLCBJbmMuXG4gKiBMaWNlbnNlZCB1bmRlciBNSVQgKGh0dHBzOi8vZ2l0aHViLmNvbS90d2JzL2Jvb3RzdHJhcC9ibG9iL21hc3Rlci9MSUNFTlNFKVxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09ICovXG5cblxuK2Z1bmN0aW9uICgkKSB7XG4gICd1c2Ugc3RyaWN0JztcblxuICAvLyBEUk9QRE9XTiBDTEFTUyBERUZJTklUSU9OXG4gIC8vID09PT09PT09PT09PT09PT09PT09PT09PT1cblxuICB2YXIgYmFja2Ryb3AgPSAnLmRyb3Bkb3duLWJhY2tkcm9wJ1xuICB2YXIgdG9nZ2xlICAgPSAnW2RhdGEtdG9nZ2xlPVwiZHJvcGRvd25cIl0nXG4gIHZhciBEcm9wZG93biA9IGZ1bmN0aW9uIChlbGVtZW50KSB7XG4gICAgJChlbGVtZW50KS5vbignY2xpY2suYnMuZHJvcGRvd24nLCB0aGlzLnRvZ2dsZSlcbiAgfVxuXG4gIERyb3Bkb3duLlZFUlNJT04gPSAnMy4zLjcnXG5cbiAgZnVuY3Rpb24gZ2V0UGFyZW50KCR0aGlzKSB7XG4gICAgdmFyIHNlbGVjdG9yID0gJHRoaXMuYXR0cignZGF0YS10YXJnZXQnKVxuXG4gICAgaWYgKCFzZWxlY3Rvcikge1xuICAgICAgc2VsZWN0b3IgPSAkdGhpcy5hdHRyKCdocmVmJylcbiAgICAgIHNlbGVjdG9yID0gc2VsZWN0b3IgJiYgLyNbQS1aYS16XS8udGVzdChzZWxlY3RvcikgJiYgc2VsZWN0b3IucmVwbGFjZSgvLiooPz0jW15cXHNdKiQpLywgJycpIC8vIHN0cmlwIGZvciBpZTdcbiAgICB9XG5cbiAgICB2YXIgJHBhcmVudCA9IHNlbGVjdG9yICYmICQoc2VsZWN0b3IpXG5cbiAgICByZXR1cm4gJHBhcmVudCAmJiAkcGFyZW50Lmxlbmd0aCA/ICRwYXJlbnQgOiAkdGhpcy5wYXJlbnQoKVxuICB9XG5cbiAgZnVuY3Rpb24gY2xlYXJNZW51cyhlKSB7XG4gICAgaWYgKGUgJiYgZS53aGljaCA9PT0gMykgcmV0dXJuXG4gICAgJChiYWNrZHJvcCkucmVtb3ZlKClcbiAgICAkKHRvZ2dsZSkuZWFjaChmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgJHRoaXMgICAgICAgICA9ICQodGhpcylcbiAgICAgIHZhciAkcGFyZW50ICAgICAgID0gZ2V0UGFyZW50KCR0aGlzKVxuICAgICAgdmFyIHJlbGF0ZWRUYXJnZXQgPSB7IHJlbGF0ZWRUYXJnZXQ6IHRoaXMgfVxuXG4gICAgICBpZiAoISRwYXJlbnQuaGFzQ2xhc3MoJ29wZW4nKSkgcmV0dXJuXG5cbiAgICAgIGlmIChlICYmIGUudHlwZSA9PSAnY2xpY2snICYmIC9pbnB1dHx0ZXh0YXJlYS9pLnRlc3QoZS50YXJnZXQudGFnTmFtZSkgJiYgJC5jb250YWlucygkcGFyZW50WzBdLCBlLnRhcmdldCkpIHJldHVyblxuXG4gICAgICAkcGFyZW50LnRyaWdnZXIoZSA9ICQuRXZlbnQoJ2hpZGUuYnMuZHJvcGRvd24nLCByZWxhdGVkVGFyZ2V0KSlcblxuICAgICAgaWYgKGUuaXNEZWZhdWx0UHJldmVudGVkKCkpIHJldHVyblxuXG4gICAgICAkdGhpcy5hdHRyKCdhcmlhLWV4cGFuZGVkJywgJ2ZhbHNlJylcbiAgICAgICRwYXJlbnQucmVtb3ZlQ2xhc3MoJ29wZW4nKS50cmlnZ2VyKCQuRXZlbnQoJ2hpZGRlbi5icy5kcm9wZG93bicsIHJlbGF0ZWRUYXJnZXQpKVxuICAgIH0pXG4gIH1cblxuICBEcm9wZG93bi5wcm90b3R5cGUudG9nZ2xlID0gZnVuY3Rpb24gKGUpIHtcbiAgICB2YXIgJHRoaXMgPSAkKHRoaXMpXG5cbiAgICBpZiAoJHRoaXMuaXMoJy5kaXNhYmxlZCwgOmRpc2FibGVkJykpIHJldHVyblxuXG4gICAgdmFyICRwYXJlbnQgID0gZ2V0UGFyZW50KCR0aGlzKVxuICAgIHZhciBpc0FjdGl2ZSA9ICRwYXJlbnQuaGFzQ2xhc3MoJ29wZW4nKVxuXG4gICAgY2xlYXJNZW51cygpXG5cbiAgICBpZiAoIWlzQWN0aXZlKSB7XG4gICAgICBpZiAoJ29udG91Y2hzdGFydCcgaW4gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50ICYmICEkcGFyZW50LmNsb3Nlc3QoJy5uYXZiYXItbmF2JykubGVuZ3RoKSB7XG4gICAgICAgIC8vIGlmIG1vYmlsZSB3ZSB1c2UgYSBiYWNrZHJvcCBiZWNhdXNlIGNsaWNrIGV2ZW50cyBkb24ndCBkZWxlZ2F0ZVxuICAgICAgICAkKGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpKVxuICAgICAgICAgIC5hZGRDbGFzcygnZHJvcGRvd24tYmFja2Ryb3AnKVxuICAgICAgICAgIC5pbnNlcnRBZnRlcigkKHRoaXMpKVxuICAgICAgICAgIC5vbignY2xpY2snLCBjbGVhck1lbnVzKVxuICAgICAgfVxuXG4gICAgICB2YXIgcmVsYXRlZFRhcmdldCA9IHsgcmVsYXRlZFRhcmdldDogdGhpcyB9XG4gICAgICAkcGFyZW50LnRyaWdnZXIoZSA9ICQuRXZlbnQoJ3Nob3cuYnMuZHJvcGRvd24nLCByZWxhdGVkVGFyZ2V0KSlcblxuICAgICAgaWYgKGUuaXNEZWZhdWx0UHJldmVudGVkKCkpIHJldHVyblxuXG4gICAgICAkdGhpc1xuICAgICAgICAudHJpZ2dlcignZm9jdXMnKVxuICAgICAgICAuYXR0cignYXJpYS1leHBhbmRlZCcsICd0cnVlJylcblxuICAgICAgJHBhcmVudFxuICAgICAgICAudG9nZ2xlQ2xhc3MoJ29wZW4nKVxuICAgICAgICAudHJpZ2dlcigkLkV2ZW50KCdzaG93bi5icy5kcm9wZG93bicsIHJlbGF0ZWRUYXJnZXQpKVxuICAgIH1cblxuICAgIHJldHVybiBmYWxzZVxuICB9XG5cbiAgRHJvcGRvd24ucHJvdG90eXBlLmtleWRvd24gPSBmdW5jdGlvbiAoZSkge1xuICAgIGlmICghLygzOHw0MHwyN3wzMikvLnRlc3QoZS53aGljaCkgfHwgL2lucHV0fHRleHRhcmVhL2kudGVzdChlLnRhcmdldC50YWdOYW1lKSkgcmV0dXJuXG5cbiAgICB2YXIgJHRoaXMgPSAkKHRoaXMpXG5cbiAgICBlLnByZXZlbnREZWZhdWx0KClcbiAgICBlLnN0b3BQcm9wYWdhdGlvbigpXG5cbiAgICBpZiAoJHRoaXMuaXMoJy5kaXNhYmxlZCwgOmRpc2FibGVkJykpIHJldHVyblxuXG4gICAgdmFyICRwYXJlbnQgID0gZ2V0UGFyZW50KCR0aGlzKVxuICAgIHZhciBpc0FjdGl2ZSA9ICRwYXJlbnQuaGFzQ2xhc3MoJ29wZW4nKVxuXG4gICAgaWYgKCFpc0FjdGl2ZSAmJiBlLndoaWNoICE9IDI3IHx8IGlzQWN0aXZlICYmIGUud2hpY2ggPT0gMjcpIHtcbiAgICAgIGlmIChlLndoaWNoID09IDI3KSAkcGFyZW50LmZpbmQodG9nZ2xlKS50cmlnZ2VyKCdmb2N1cycpXG4gICAgICByZXR1cm4gJHRoaXMudHJpZ2dlcignY2xpY2snKVxuICAgIH1cblxuICAgIHZhciBkZXNjID0gJyBsaTpub3QoLmRpc2FibGVkKTp2aXNpYmxlIGEnXG4gICAgdmFyICRpdGVtcyA9ICRwYXJlbnQuZmluZCgnLmRyb3Bkb3duLW1lbnUnICsgZGVzYylcblxuICAgIGlmICghJGl0ZW1zLmxlbmd0aCkgcmV0dXJuXG5cbiAgICB2YXIgaW5kZXggPSAkaXRlbXMuaW5kZXgoZS50YXJnZXQpXG5cbiAgICBpZiAoZS53aGljaCA9PSAzOCAmJiBpbmRleCA+IDApICAgICAgICAgICAgICAgICBpbmRleC0tICAgICAgICAgLy8gdXBcbiAgICBpZiAoZS53aGljaCA9PSA0MCAmJiBpbmRleCA8ICRpdGVtcy5sZW5ndGggLSAxKSBpbmRleCsrICAgICAgICAgLy8gZG93blxuICAgIGlmICghfmluZGV4KSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGluZGV4ID0gMFxuXG4gICAgJGl0ZW1zLmVxKGluZGV4KS50cmlnZ2VyKCdmb2N1cycpXG4gIH1cblxuXG4gIC8vIERST1BET1dOIFBMVUdJTiBERUZJTklUSU9OXG4gIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbiAgZnVuY3Rpb24gUGx1Z2luKG9wdGlvbikge1xuICAgIHJldHVybiB0aGlzLmVhY2goZnVuY3Rpb24gKCkge1xuICAgICAgdmFyICR0aGlzID0gJCh0aGlzKVxuICAgICAgdmFyIGRhdGEgID0gJHRoaXMuZGF0YSgnYnMuZHJvcGRvd24nKVxuXG4gICAgICBpZiAoIWRhdGEpICR0aGlzLmRhdGEoJ2JzLmRyb3Bkb3duJywgKGRhdGEgPSBuZXcgRHJvcGRvd24odGhpcykpKVxuICAgICAgaWYgKHR5cGVvZiBvcHRpb24gPT0gJ3N0cmluZycpIGRhdGFbb3B0aW9uXS5jYWxsKCR0aGlzKVxuICAgIH0pXG4gIH1cblxuICB2YXIgb2xkID0gJC5mbi5kcm9wZG93blxuXG4gICQuZm4uZHJvcGRvd24gICAgICAgICAgICAgPSBQbHVnaW5cbiAgJC5mbi5kcm9wZG93bi5Db25zdHJ1Y3RvciA9IERyb3Bkb3duXG5cblxuICAvLyBEUk9QRE9XTiBOTyBDT05GTElDVFxuICAvLyA9PT09PT09PT09PT09PT09PT09PVxuXG4gICQuZm4uZHJvcGRvd24ubm9Db25mbGljdCA9IGZ1bmN0aW9uICgpIHtcbiAgICAkLmZuLmRyb3Bkb3duID0gb2xkXG4gICAgcmV0dXJuIHRoaXNcbiAgfVxuXG5cbiAgLy8gQVBQTFkgVE8gU1RBTkRBUkQgRFJPUERPV04gRUxFTUVOVFNcbiAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuICAkKGRvY3VtZW50KVxuICAgIC5vbignY2xpY2suYnMuZHJvcGRvd24uZGF0YS1hcGknLCBjbGVhck1lbnVzKVxuICAgIC5vbignY2xpY2suYnMuZHJvcGRvd24uZGF0YS1hcGknLCAnLmRyb3Bkb3duIGZvcm0nLCBmdW5jdGlvbiAoZSkgeyBlLnN0b3BQcm9wYWdhdGlvbigpIH0pXG4gICAgLm9uKCdjbGljay5icy5kcm9wZG93bi5kYXRhLWFwaScsIHRvZ2dsZSwgRHJvcGRvd24ucHJvdG90eXBlLnRvZ2dsZSlcbiAgICAub24oJ2tleWRvd24uYnMuZHJvcGRvd24uZGF0YS1hcGknLCB0b2dnbGUsIERyb3Bkb3duLnByb3RvdHlwZS5rZXlkb3duKVxuICAgIC5vbigna2V5ZG93bi5icy5kcm9wZG93bi5kYXRhLWFwaScsICcuZHJvcGRvd24tbWVudScsIERyb3Bkb3duLnByb3RvdHlwZS5rZXlkb3duKVxuXG59KGpRdWVyeSk7XG4iLCIvKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqIEJvb3RzdHJhcDogbW9kYWwuanMgdjMuMy43XG4gKiBodHRwOi8vZ2V0Ym9vdHN0cmFwLmNvbS9qYXZhc2NyaXB0LyNtb2RhbHNcbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICogQ29weXJpZ2h0IDIwMTEtMjAxNiBUd2l0dGVyLCBJbmMuXG4gKiBMaWNlbnNlZCB1bmRlciBNSVQgKGh0dHBzOi8vZ2l0aHViLmNvbS90d2JzL2Jvb3RzdHJhcC9ibG9iL21hc3Rlci9MSUNFTlNFKVxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09ICovXG5cblxuK2Z1bmN0aW9uICgkKSB7XG4gICd1c2Ugc3RyaWN0JztcblxuICAvLyBNT0RBTCBDTEFTUyBERUZJTklUSU9OXG4gIC8vID09PT09PT09PT09PT09PT09PT09PT1cblxuICB2YXIgTW9kYWwgPSBmdW5jdGlvbiAoZWxlbWVudCwgb3B0aW9ucykge1xuICAgIHRoaXMub3B0aW9ucyAgICAgICAgICAgICA9IG9wdGlvbnNcbiAgICB0aGlzLiRib2R5ICAgICAgICAgICAgICAgPSAkKGRvY3VtZW50LmJvZHkpXG4gICAgdGhpcy4kZWxlbWVudCAgICAgICAgICAgID0gJChlbGVtZW50KVxuICAgIHRoaXMuJGRpYWxvZyAgICAgICAgICAgICA9IHRoaXMuJGVsZW1lbnQuZmluZCgnLm1vZGFsLWRpYWxvZycpXG4gICAgdGhpcy4kYmFja2Ryb3AgICAgICAgICAgID0gbnVsbFxuICAgIHRoaXMuaXNTaG93biAgICAgICAgICAgICA9IG51bGxcbiAgICB0aGlzLm9yaWdpbmFsQm9keVBhZCAgICAgPSBudWxsXG4gICAgdGhpcy5zY3JvbGxiYXJXaWR0aCAgICAgID0gMFxuICAgIHRoaXMuaWdub3JlQmFja2Ryb3BDbGljayA9IGZhbHNlXG5cbiAgICBpZiAodGhpcy5vcHRpb25zLnJlbW90ZSkge1xuICAgICAgdGhpcy4kZWxlbWVudFxuICAgICAgICAuZmluZCgnLm1vZGFsLWNvbnRlbnQnKVxuICAgICAgICAubG9hZCh0aGlzLm9wdGlvbnMucmVtb3RlLCAkLnByb3h5KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICB0aGlzLiRlbGVtZW50LnRyaWdnZXIoJ2xvYWRlZC5icy5tb2RhbCcpXG4gICAgICAgIH0sIHRoaXMpKVxuICAgIH1cbiAgfVxuXG4gIE1vZGFsLlZFUlNJT04gID0gJzMuMy43J1xuXG4gIE1vZGFsLlRSQU5TSVRJT05fRFVSQVRJT04gPSAzMDBcbiAgTW9kYWwuQkFDS0RST1BfVFJBTlNJVElPTl9EVVJBVElPTiA9IDE1MFxuXG4gIE1vZGFsLkRFRkFVTFRTID0ge1xuICAgIGJhY2tkcm9wOiB0cnVlLFxuICAgIGtleWJvYXJkOiB0cnVlLFxuICAgIHNob3c6IHRydWVcbiAgfVxuXG4gIE1vZGFsLnByb3RvdHlwZS50b2dnbGUgPSBmdW5jdGlvbiAoX3JlbGF0ZWRUYXJnZXQpIHtcbiAgICByZXR1cm4gdGhpcy5pc1Nob3duID8gdGhpcy5oaWRlKCkgOiB0aGlzLnNob3coX3JlbGF0ZWRUYXJnZXQpXG4gIH1cblxuICBNb2RhbC5wcm90b3R5cGUuc2hvdyA9IGZ1bmN0aW9uIChfcmVsYXRlZFRhcmdldCkge1xuICAgIHZhciB0aGF0ID0gdGhpc1xuICAgIHZhciBlICAgID0gJC5FdmVudCgnc2hvdy5icy5tb2RhbCcsIHsgcmVsYXRlZFRhcmdldDogX3JlbGF0ZWRUYXJnZXQgfSlcblxuICAgIHRoaXMuJGVsZW1lbnQudHJpZ2dlcihlKVxuXG4gICAgaWYgKHRoaXMuaXNTaG93biB8fCBlLmlzRGVmYXVsdFByZXZlbnRlZCgpKSByZXR1cm5cblxuICAgIHRoaXMuaXNTaG93biA9IHRydWVcblxuICAgIHRoaXMuY2hlY2tTY3JvbGxiYXIoKVxuICAgIHRoaXMuc2V0U2Nyb2xsYmFyKClcbiAgICB0aGlzLiRib2R5LmFkZENsYXNzKCdtb2RhbC1vcGVuJylcblxuICAgIHRoaXMuZXNjYXBlKClcbiAgICB0aGlzLnJlc2l6ZSgpXG5cbiAgICB0aGlzLiRlbGVtZW50Lm9uKCdjbGljay5kaXNtaXNzLmJzLm1vZGFsJywgJ1tkYXRhLWRpc21pc3M9XCJtb2RhbFwiXScsICQucHJveHkodGhpcy5oaWRlLCB0aGlzKSlcblxuICAgIHRoaXMuJGRpYWxvZy5vbignbW91c2Vkb3duLmRpc21pc3MuYnMubW9kYWwnLCBmdW5jdGlvbiAoKSB7XG4gICAgICB0aGF0LiRlbGVtZW50Lm9uZSgnbW91c2V1cC5kaXNtaXNzLmJzLm1vZGFsJywgZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgaWYgKCQoZS50YXJnZXQpLmlzKHRoYXQuJGVsZW1lbnQpKSB0aGF0Lmlnbm9yZUJhY2tkcm9wQ2xpY2sgPSB0cnVlXG4gICAgICB9KVxuICAgIH0pXG5cbiAgICB0aGlzLmJhY2tkcm9wKGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciB0cmFuc2l0aW9uID0gJC5zdXBwb3J0LnRyYW5zaXRpb24gJiYgdGhhdC4kZWxlbWVudC5oYXNDbGFzcygnZmFkZScpXG5cbiAgICAgIGlmICghdGhhdC4kZWxlbWVudC5wYXJlbnQoKS5sZW5ndGgpIHtcbiAgICAgICAgdGhhdC4kZWxlbWVudC5hcHBlbmRUbyh0aGF0LiRib2R5KSAvLyBkb24ndCBtb3ZlIG1vZGFscyBkb20gcG9zaXRpb25cbiAgICAgIH1cblxuICAgICAgdGhhdC4kZWxlbWVudFxuICAgICAgICAuc2hvdygpXG4gICAgICAgIC5zY3JvbGxUb3AoMClcblxuICAgICAgdGhhdC5hZGp1c3REaWFsb2coKVxuXG4gICAgICBpZiAodHJhbnNpdGlvbikge1xuICAgICAgICB0aGF0LiRlbGVtZW50WzBdLm9mZnNldFdpZHRoIC8vIGZvcmNlIHJlZmxvd1xuICAgICAgfVxuXG4gICAgICB0aGF0LiRlbGVtZW50LmFkZENsYXNzKCdpbicpXG5cbiAgICAgIHRoYXQuZW5mb3JjZUZvY3VzKClcblxuICAgICAgdmFyIGUgPSAkLkV2ZW50KCdzaG93bi5icy5tb2RhbCcsIHsgcmVsYXRlZFRhcmdldDogX3JlbGF0ZWRUYXJnZXQgfSlcblxuICAgICAgdHJhbnNpdGlvbiA/XG4gICAgICAgIHRoYXQuJGRpYWxvZyAvLyB3YWl0IGZvciBtb2RhbCB0byBzbGlkZSBpblxuICAgICAgICAgIC5vbmUoJ2JzVHJhbnNpdGlvbkVuZCcsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHRoYXQuJGVsZW1lbnQudHJpZ2dlcignZm9jdXMnKS50cmlnZ2VyKGUpXG4gICAgICAgICAgfSlcbiAgICAgICAgICAuZW11bGF0ZVRyYW5zaXRpb25FbmQoTW9kYWwuVFJBTlNJVElPTl9EVVJBVElPTikgOlxuICAgICAgICB0aGF0LiRlbGVtZW50LnRyaWdnZXIoJ2ZvY3VzJykudHJpZ2dlcihlKVxuICAgIH0pXG4gIH1cblxuICBNb2RhbC5wcm90b3R5cGUuaGlkZSA9IGZ1bmN0aW9uIChlKSB7XG4gICAgaWYgKGUpIGUucHJldmVudERlZmF1bHQoKVxuXG4gICAgZSA9ICQuRXZlbnQoJ2hpZGUuYnMubW9kYWwnKVxuXG4gICAgdGhpcy4kZWxlbWVudC50cmlnZ2VyKGUpXG5cbiAgICBpZiAoIXRoaXMuaXNTaG93biB8fCBlLmlzRGVmYXVsdFByZXZlbnRlZCgpKSByZXR1cm5cblxuICAgIHRoaXMuaXNTaG93biA9IGZhbHNlXG5cbiAgICB0aGlzLmVzY2FwZSgpXG4gICAgdGhpcy5yZXNpemUoKVxuXG4gICAgJChkb2N1bWVudCkub2ZmKCdmb2N1c2luLmJzLm1vZGFsJylcblxuICAgIHRoaXMuJGVsZW1lbnRcbiAgICAgIC5yZW1vdmVDbGFzcygnaW4nKVxuICAgICAgLm9mZignY2xpY2suZGlzbWlzcy5icy5tb2RhbCcpXG4gICAgICAub2ZmKCdtb3VzZXVwLmRpc21pc3MuYnMubW9kYWwnKVxuXG4gICAgdGhpcy4kZGlhbG9nLm9mZignbW91c2Vkb3duLmRpc21pc3MuYnMubW9kYWwnKVxuXG4gICAgJC5zdXBwb3J0LnRyYW5zaXRpb24gJiYgdGhpcy4kZWxlbWVudC5oYXNDbGFzcygnZmFkZScpID9cbiAgICAgIHRoaXMuJGVsZW1lbnRcbiAgICAgICAgLm9uZSgnYnNUcmFuc2l0aW9uRW5kJywgJC5wcm94eSh0aGlzLmhpZGVNb2RhbCwgdGhpcykpXG4gICAgICAgIC5lbXVsYXRlVHJhbnNpdGlvbkVuZChNb2RhbC5UUkFOU0lUSU9OX0RVUkFUSU9OKSA6XG4gICAgICB0aGlzLmhpZGVNb2RhbCgpXG4gIH1cblxuICBNb2RhbC5wcm90b3R5cGUuZW5mb3JjZUZvY3VzID0gZnVuY3Rpb24gKCkge1xuICAgICQoZG9jdW1lbnQpXG4gICAgICAub2ZmKCdmb2N1c2luLmJzLm1vZGFsJykgLy8gZ3VhcmQgYWdhaW5zdCBpbmZpbml0ZSBmb2N1cyBsb29wXG4gICAgICAub24oJ2ZvY3VzaW4uYnMubW9kYWwnLCAkLnByb3h5KGZ1bmN0aW9uIChlKSB7XG4gICAgICAgIGlmIChkb2N1bWVudCAhPT0gZS50YXJnZXQgJiZcbiAgICAgICAgICAgIHRoaXMuJGVsZW1lbnRbMF0gIT09IGUudGFyZ2V0ICYmXG4gICAgICAgICAgICAhdGhpcy4kZWxlbWVudC5oYXMoZS50YXJnZXQpLmxlbmd0aCkge1xuICAgICAgICAgIHRoaXMuJGVsZW1lbnQudHJpZ2dlcignZm9jdXMnKVxuICAgICAgICB9XG4gICAgICB9LCB0aGlzKSlcbiAgfVxuXG4gIE1vZGFsLnByb3RvdHlwZS5lc2NhcGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgaWYgKHRoaXMuaXNTaG93biAmJiB0aGlzLm9wdGlvbnMua2V5Ym9hcmQpIHtcbiAgICAgIHRoaXMuJGVsZW1lbnQub24oJ2tleWRvd24uZGlzbWlzcy5icy5tb2RhbCcsICQucHJveHkoZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgZS53aGljaCA9PSAyNyAmJiB0aGlzLmhpZGUoKVxuICAgICAgfSwgdGhpcykpXG4gICAgfSBlbHNlIGlmICghdGhpcy5pc1Nob3duKSB7XG4gICAgICB0aGlzLiRlbGVtZW50Lm9mZigna2V5ZG93bi5kaXNtaXNzLmJzLm1vZGFsJylcbiAgICB9XG4gIH1cblxuICBNb2RhbC5wcm90b3R5cGUucmVzaXplID0gZnVuY3Rpb24gKCkge1xuICAgIGlmICh0aGlzLmlzU2hvd24pIHtcbiAgICAgICQod2luZG93KS5vbigncmVzaXplLmJzLm1vZGFsJywgJC5wcm94eSh0aGlzLmhhbmRsZVVwZGF0ZSwgdGhpcykpXG4gICAgfSBlbHNlIHtcbiAgICAgICQod2luZG93KS5vZmYoJ3Jlc2l6ZS5icy5tb2RhbCcpXG4gICAgfVxuICB9XG5cbiAgTW9kYWwucHJvdG90eXBlLmhpZGVNb2RhbCA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgdGhhdCA9IHRoaXNcbiAgICB0aGlzLiRlbGVtZW50LmhpZGUoKVxuICAgIHRoaXMuYmFja2Ryb3AoZnVuY3Rpb24gKCkge1xuICAgICAgdGhhdC4kYm9keS5yZW1vdmVDbGFzcygnbW9kYWwtb3BlbicpXG4gICAgICB0aGF0LnJlc2V0QWRqdXN0bWVudHMoKVxuICAgICAgdGhhdC5yZXNldFNjcm9sbGJhcigpXG4gICAgICB0aGF0LiRlbGVtZW50LnRyaWdnZXIoJ2hpZGRlbi5icy5tb2RhbCcpXG4gICAgfSlcbiAgfVxuXG4gIE1vZGFsLnByb3RvdHlwZS5yZW1vdmVCYWNrZHJvcCA9IGZ1bmN0aW9uICgpIHtcbiAgICB0aGlzLiRiYWNrZHJvcCAmJiB0aGlzLiRiYWNrZHJvcC5yZW1vdmUoKVxuICAgIHRoaXMuJGJhY2tkcm9wID0gbnVsbFxuICB9XG5cbiAgTW9kYWwucHJvdG90eXBlLmJhY2tkcm9wID0gZnVuY3Rpb24gKGNhbGxiYWNrKSB7XG4gICAgdmFyIHRoYXQgPSB0aGlzXG4gICAgdmFyIGFuaW1hdGUgPSB0aGlzLiRlbGVtZW50Lmhhc0NsYXNzKCdmYWRlJykgPyAnZmFkZScgOiAnJ1xuXG4gICAgaWYgKHRoaXMuaXNTaG93biAmJiB0aGlzLm9wdGlvbnMuYmFja2Ryb3ApIHtcbiAgICAgIHZhciBkb0FuaW1hdGUgPSAkLnN1cHBvcnQudHJhbnNpdGlvbiAmJiBhbmltYXRlXG5cbiAgICAgIHRoaXMuJGJhY2tkcm9wID0gJChkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKSlcbiAgICAgICAgLmFkZENsYXNzKCdtb2RhbC1iYWNrZHJvcCAnICsgYW5pbWF0ZSlcbiAgICAgICAgLmFwcGVuZFRvKHRoaXMuJGJvZHkpXG5cbiAgICAgIHRoaXMuJGVsZW1lbnQub24oJ2NsaWNrLmRpc21pc3MuYnMubW9kYWwnLCAkLnByb3h5KGZ1bmN0aW9uIChlKSB7XG4gICAgICAgIGlmICh0aGlzLmlnbm9yZUJhY2tkcm9wQ2xpY2spIHtcbiAgICAgICAgICB0aGlzLmlnbm9yZUJhY2tkcm9wQ2xpY2sgPSBmYWxzZVxuICAgICAgICAgIHJldHVyblxuICAgICAgICB9XG4gICAgICAgIGlmIChlLnRhcmdldCAhPT0gZS5jdXJyZW50VGFyZ2V0KSByZXR1cm5cbiAgICAgICAgdGhpcy5vcHRpb25zLmJhY2tkcm9wID09ICdzdGF0aWMnXG4gICAgICAgICAgPyB0aGlzLiRlbGVtZW50WzBdLmZvY3VzKClcbiAgICAgICAgICA6IHRoaXMuaGlkZSgpXG4gICAgICB9LCB0aGlzKSlcblxuICAgICAgaWYgKGRvQW5pbWF0ZSkgdGhpcy4kYmFja2Ryb3BbMF0ub2Zmc2V0V2lkdGggLy8gZm9yY2UgcmVmbG93XG5cbiAgICAgIHRoaXMuJGJhY2tkcm9wLmFkZENsYXNzKCdpbicpXG5cbiAgICAgIGlmICghY2FsbGJhY2spIHJldHVyblxuXG4gICAgICBkb0FuaW1hdGUgP1xuICAgICAgICB0aGlzLiRiYWNrZHJvcFxuICAgICAgICAgIC5vbmUoJ2JzVHJhbnNpdGlvbkVuZCcsIGNhbGxiYWNrKVxuICAgICAgICAgIC5lbXVsYXRlVHJhbnNpdGlvbkVuZChNb2RhbC5CQUNLRFJPUF9UUkFOU0lUSU9OX0RVUkFUSU9OKSA6XG4gICAgICAgIGNhbGxiYWNrKClcblxuICAgIH0gZWxzZSBpZiAoIXRoaXMuaXNTaG93biAmJiB0aGlzLiRiYWNrZHJvcCkge1xuICAgICAgdGhpcy4kYmFja2Ryb3AucmVtb3ZlQ2xhc3MoJ2luJylcblxuICAgICAgdmFyIGNhbGxiYWNrUmVtb3ZlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGF0LnJlbW92ZUJhY2tkcm9wKClcbiAgICAgICAgY2FsbGJhY2sgJiYgY2FsbGJhY2soKVxuICAgICAgfVxuICAgICAgJC5zdXBwb3J0LnRyYW5zaXRpb24gJiYgdGhpcy4kZWxlbWVudC5oYXNDbGFzcygnZmFkZScpID9cbiAgICAgICAgdGhpcy4kYmFja2Ryb3BcbiAgICAgICAgICAub25lKCdic1RyYW5zaXRpb25FbmQnLCBjYWxsYmFja1JlbW92ZSlcbiAgICAgICAgICAuZW11bGF0ZVRyYW5zaXRpb25FbmQoTW9kYWwuQkFDS0RST1BfVFJBTlNJVElPTl9EVVJBVElPTikgOlxuICAgICAgICBjYWxsYmFja1JlbW92ZSgpXG5cbiAgICB9IGVsc2UgaWYgKGNhbGxiYWNrKSB7XG4gICAgICBjYWxsYmFjaygpXG4gICAgfVxuICB9XG5cbiAgLy8gdGhlc2UgZm9sbG93aW5nIG1ldGhvZHMgYXJlIHVzZWQgdG8gaGFuZGxlIG92ZXJmbG93aW5nIG1vZGFsc1xuXG4gIE1vZGFsLnByb3RvdHlwZS5oYW5kbGVVcGRhdGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgdGhpcy5hZGp1c3REaWFsb2coKVxuICB9XG5cbiAgTW9kYWwucHJvdG90eXBlLmFkanVzdERpYWxvZyA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgbW9kYWxJc092ZXJmbG93aW5nID0gdGhpcy4kZWxlbWVudFswXS5zY3JvbGxIZWlnaHQgPiBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50SGVpZ2h0XG5cbiAgICB0aGlzLiRlbGVtZW50LmNzcyh7XG4gICAgICBwYWRkaW5nTGVmdDogICF0aGlzLmJvZHlJc092ZXJmbG93aW5nICYmIG1vZGFsSXNPdmVyZmxvd2luZyA/IHRoaXMuc2Nyb2xsYmFyV2lkdGggOiAnJyxcbiAgICAgIHBhZGRpbmdSaWdodDogdGhpcy5ib2R5SXNPdmVyZmxvd2luZyAmJiAhbW9kYWxJc092ZXJmbG93aW5nID8gdGhpcy5zY3JvbGxiYXJXaWR0aCA6ICcnXG4gICAgfSlcbiAgfVxuXG4gIE1vZGFsLnByb3RvdHlwZS5yZXNldEFkanVzdG1lbnRzID0gZnVuY3Rpb24gKCkge1xuICAgIHRoaXMuJGVsZW1lbnQuY3NzKHtcbiAgICAgIHBhZGRpbmdMZWZ0OiAnJyxcbiAgICAgIHBhZGRpbmdSaWdodDogJydcbiAgICB9KVxuICB9XG5cbiAgTW9kYWwucHJvdG90eXBlLmNoZWNrU2Nyb2xsYmFyID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciBmdWxsV2luZG93V2lkdGggPSB3aW5kb3cuaW5uZXJXaWR0aFxuICAgIGlmICghZnVsbFdpbmRvd1dpZHRoKSB7IC8vIHdvcmthcm91bmQgZm9yIG1pc3Npbmcgd2luZG93LmlubmVyV2lkdGggaW4gSUU4XG4gICAgICB2YXIgZG9jdW1lbnRFbGVtZW50UmVjdCA9IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKVxuICAgICAgZnVsbFdpbmRvd1dpZHRoID0gZG9jdW1lbnRFbGVtZW50UmVjdC5yaWdodCAtIE1hdGguYWJzKGRvY3VtZW50RWxlbWVudFJlY3QubGVmdClcbiAgICB9XG4gICAgdGhpcy5ib2R5SXNPdmVyZmxvd2luZyA9IGRvY3VtZW50LmJvZHkuY2xpZW50V2lkdGggPCBmdWxsV2luZG93V2lkdGhcbiAgICB0aGlzLnNjcm9sbGJhcldpZHRoID0gdGhpcy5tZWFzdXJlU2Nyb2xsYmFyKClcbiAgfVxuXG4gIE1vZGFsLnByb3RvdHlwZS5zZXRTY3JvbGxiYXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGJvZHlQYWQgPSBwYXJzZUludCgodGhpcy4kYm9keS5jc3MoJ3BhZGRpbmctcmlnaHQnKSB8fCAwKSwgMTApXG4gICAgdGhpcy5vcmlnaW5hbEJvZHlQYWQgPSBkb2N1bWVudC5ib2R5LnN0eWxlLnBhZGRpbmdSaWdodCB8fCAnJ1xuICAgIGlmICh0aGlzLmJvZHlJc092ZXJmbG93aW5nKSB0aGlzLiRib2R5LmNzcygncGFkZGluZy1yaWdodCcsIGJvZHlQYWQgKyB0aGlzLnNjcm9sbGJhcldpZHRoKVxuICB9XG5cbiAgTW9kYWwucHJvdG90eXBlLnJlc2V0U2Nyb2xsYmFyID0gZnVuY3Rpb24gKCkge1xuICAgIHRoaXMuJGJvZHkuY3NzKCdwYWRkaW5nLXJpZ2h0JywgdGhpcy5vcmlnaW5hbEJvZHlQYWQpXG4gIH1cblxuICBNb2RhbC5wcm90b3R5cGUubWVhc3VyZVNjcm9sbGJhciA9IGZ1bmN0aW9uICgpIHsgLy8gdGh4IHdhbHNoXG4gICAgdmFyIHNjcm9sbERpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpXG4gICAgc2Nyb2xsRGl2LmNsYXNzTmFtZSA9ICdtb2RhbC1zY3JvbGxiYXItbWVhc3VyZSdcbiAgICB0aGlzLiRib2R5LmFwcGVuZChzY3JvbGxEaXYpXG4gICAgdmFyIHNjcm9sbGJhcldpZHRoID0gc2Nyb2xsRGl2Lm9mZnNldFdpZHRoIC0gc2Nyb2xsRGl2LmNsaWVudFdpZHRoXG4gICAgdGhpcy4kYm9keVswXS5yZW1vdmVDaGlsZChzY3JvbGxEaXYpXG4gICAgcmV0dXJuIHNjcm9sbGJhcldpZHRoXG4gIH1cblxuXG4gIC8vIE1PREFMIFBMVUdJTiBERUZJTklUSU9OXG4gIC8vID09PT09PT09PT09PT09PT09PT09PT09XG5cbiAgZnVuY3Rpb24gUGx1Z2luKG9wdGlvbiwgX3JlbGF0ZWRUYXJnZXQpIHtcbiAgICByZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciAkdGhpcyAgID0gJCh0aGlzKVxuICAgICAgdmFyIGRhdGEgICAgPSAkdGhpcy5kYXRhKCdicy5tb2RhbCcpXG4gICAgICB2YXIgb3B0aW9ucyA9ICQuZXh0ZW5kKHt9LCBNb2RhbC5ERUZBVUxUUywgJHRoaXMuZGF0YSgpLCB0eXBlb2Ygb3B0aW9uID09ICdvYmplY3QnICYmIG9wdGlvbilcblxuICAgICAgaWYgKCFkYXRhKSAkdGhpcy5kYXRhKCdicy5tb2RhbCcsIChkYXRhID0gbmV3IE1vZGFsKHRoaXMsIG9wdGlvbnMpKSlcbiAgICAgIGlmICh0eXBlb2Ygb3B0aW9uID09ICdzdHJpbmcnKSBkYXRhW29wdGlvbl0oX3JlbGF0ZWRUYXJnZXQpXG4gICAgICBlbHNlIGlmIChvcHRpb25zLnNob3cpIGRhdGEuc2hvdyhfcmVsYXRlZFRhcmdldClcbiAgICB9KVxuICB9XG5cbiAgdmFyIG9sZCA9ICQuZm4ubW9kYWxcblxuICAkLmZuLm1vZGFsICAgICAgICAgICAgID0gUGx1Z2luXG4gICQuZm4ubW9kYWwuQ29uc3RydWN0b3IgPSBNb2RhbFxuXG5cbiAgLy8gTU9EQUwgTk8gQ09ORkxJQ1RcbiAgLy8gPT09PT09PT09PT09PT09PT1cblxuICAkLmZuLm1vZGFsLm5vQ29uZmxpY3QgPSBmdW5jdGlvbiAoKSB7XG4gICAgJC5mbi5tb2RhbCA9IG9sZFxuICAgIHJldHVybiB0aGlzXG4gIH1cblxuXG4gIC8vIE1PREFMIERBVEEtQVBJXG4gIC8vID09PT09PT09PT09PT09XG5cbiAgJChkb2N1bWVudCkub24oJ2NsaWNrLmJzLm1vZGFsLmRhdGEtYXBpJywgJ1tkYXRhLXRvZ2dsZT1cIm1vZGFsXCJdJywgZnVuY3Rpb24gKGUpIHtcbiAgICB2YXIgJHRoaXMgICA9ICQodGhpcylcbiAgICB2YXIgaHJlZiAgICA9ICR0aGlzLmF0dHIoJ2hyZWYnKVxuICAgIHZhciAkdGFyZ2V0ID0gJCgkdGhpcy5hdHRyKCdkYXRhLXRhcmdldCcpIHx8IChocmVmICYmIGhyZWYucmVwbGFjZSgvLiooPz0jW15cXHNdKyQpLywgJycpKSkgLy8gc3RyaXAgZm9yIGllN1xuICAgIHZhciBvcHRpb24gID0gJHRhcmdldC5kYXRhKCdicy5tb2RhbCcpID8gJ3RvZ2dsZScgOiAkLmV4dGVuZCh7IHJlbW90ZTogIS8jLy50ZXN0KGhyZWYpICYmIGhyZWYgfSwgJHRhcmdldC5kYXRhKCksICR0aGlzLmRhdGEoKSlcblxuICAgIGlmICgkdGhpcy5pcygnYScpKSBlLnByZXZlbnREZWZhdWx0KClcblxuICAgICR0YXJnZXQub25lKCdzaG93LmJzLm1vZGFsJywgZnVuY3Rpb24gKHNob3dFdmVudCkge1xuICAgICAgaWYgKHNob3dFdmVudC5pc0RlZmF1bHRQcmV2ZW50ZWQoKSkgcmV0dXJuIC8vIG9ubHkgcmVnaXN0ZXIgZm9jdXMgcmVzdG9yZXIgaWYgbW9kYWwgd2lsbCBhY3R1YWxseSBnZXQgc2hvd25cbiAgICAgICR0YXJnZXQub25lKCdoaWRkZW4uYnMubW9kYWwnLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICR0aGlzLmlzKCc6dmlzaWJsZScpICYmICR0aGlzLnRyaWdnZXIoJ2ZvY3VzJylcbiAgICAgIH0pXG4gICAgfSlcbiAgICBQbHVnaW4uY2FsbCgkdGFyZ2V0LCBvcHRpb24sIHRoaXMpXG4gIH0pXG5cbn0oalF1ZXJ5KTtcbiIsIi8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICogQm9vdHN0cmFwOiBwb3BvdmVyLmpzIHYzLjMuN1xuICogaHR0cDovL2dldGJvb3RzdHJhcC5jb20vamF2YXNjcmlwdC8jcG9wb3ZlcnNcbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICogQ29weXJpZ2h0IDIwMTEtMjAxNiBUd2l0dGVyLCBJbmMuXG4gKiBMaWNlbnNlZCB1bmRlciBNSVQgKGh0dHBzOi8vZ2l0aHViLmNvbS90d2JzL2Jvb3RzdHJhcC9ibG9iL21hc3Rlci9MSUNFTlNFKVxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09ICovXG5cblxuK2Z1bmN0aW9uICgkKSB7XG4gICd1c2Ugc3RyaWN0JztcblxuICAvLyBQT1BPVkVSIFBVQkxJQyBDTEFTUyBERUZJTklUSU9OXG4gIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuICB2YXIgUG9wb3ZlciA9IGZ1bmN0aW9uIChlbGVtZW50LCBvcHRpb25zKSB7XG4gICAgdGhpcy5pbml0KCdwb3BvdmVyJywgZWxlbWVudCwgb3B0aW9ucylcbiAgfVxuXG4gIGlmICghJC5mbi50b29sdGlwKSB0aHJvdyBuZXcgRXJyb3IoJ1BvcG92ZXIgcmVxdWlyZXMgdG9vbHRpcC5qcycpXG5cbiAgUG9wb3Zlci5WRVJTSU9OICA9ICczLjMuNydcblxuICBQb3BvdmVyLkRFRkFVTFRTID0gJC5leHRlbmQoe30sICQuZm4udG9vbHRpcC5Db25zdHJ1Y3Rvci5ERUZBVUxUUywge1xuICAgIHBsYWNlbWVudDogJ3JpZ2h0JyxcbiAgICB0cmlnZ2VyOiAnY2xpY2snLFxuICAgIGNvbnRlbnQ6ICcnLFxuICAgIHRlbXBsYXRlOiAnPGRpdiBjbGFzcz1cInBvcG92ZXJcIiByb2xlPVwidG9vbHRpcFwiPjxkaXYgY2xhc3M9XCJhcnJvd1wiPjwvZGl2PjxoMyBjbGFzcz1cInBvcG92ZXItdGl0bGVcIj48L2gzPjxkaXYgY2xhc3M9XCJwb3BvdmVyLWNvbnRlbnRcIj48L2Rpdj48L2Rpdj4nXG4gIH0pXG5cblxuICAvLyBOT1RFOiBQT1BPVkVSIEVYVEVORFMgdG9vbHRpcC5qc1xuICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG4gIFBvcG92ZXIucHJvdG90eXBlID0gJC5leHRlbmQoe30sICQuZm4udG9vbHRpcC5Db25zdHJ1Y3Rvci5wcm90b3R5cGUpXG5cbiAgUG9wb3Zlci5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBQb3BvdmVyXG5cbiAgUG9wb3Zlci5wcm90b3R5cGUuZ2V0RGVmYXVsdHMgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIFBvcG92ZXIuREVGQVVMVFNcbiAgfVxuXG4gIFBvcG92ZXIucHJvdG90eXBlLnNldENvbnRlbnQgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyICR0aXAgICAgPSB0aGlzLnRpcCgpXG4gICAgdmFyIHRpdGxlICAgPSB0aGlzLmdldFRpdGxlKClcbiAgICB2YXIgY29udGVudCA9IHRoaXMuZ2V0Q29udGVudCgpXG5cbiAgICAkdGlwLmZpbmQoJy5wb3BvdmVyLXRpdGxlJylbdGhpcy5vcHRpb25zLmh0bWwgPyAnaHRtbCcgOiAndGV4dCddKHRpdGxlKVxuICAgICR0aXAuZmluZCgnLnBvcG92ZXItY29udGVudCcpLmNoaWxkcmVuKCkuZGV0YWNoKCkuZW5kKClbIC8vIHdlIHVzZSBhcHBlbmQgZm9yIGh0bWwgb2JqZWN0cyB0byBtYWludGFpbiBqcyBldmVudHNcbiAgICAgIHRoaXMub3B0aW9ucy5odG1sID8gKHR5cGVvZiBjb250ZW50ID09ICdzdHJpbmcnID8gJ2h0bWwnIDogJ2FwcGVuZCcpIDogJ3RleHQnXG4gICAgXShjb250ZW50KVxuXG4gICAgJHRpcC5yZW1vdmVDbGFzcygnZmFkZSB0b3AgYm90dG9tIGxlZnQgcmlnaHQgaW4nKVxuXG4gICAgLy8gSUU4IGRvZXNuJ3QgYWNjZXB0IGhpZGluZyB2aWEgdGhlIGA6ZW1wdHlgIHBzZXVkbyBzZWxlY3Rvciwgd2UgaGF2ZSB0byBkb1xuICAgIC8vIHRoaXMgbWFudWFsbHkgYnkgY2hlY2tpbmcgdGhlIGNvbnRlbnRzLlxuICAgIGlmICghJHRpcC5maW5kKCcucG9wb3Zlci10aXRsZScpLmh0bWwoKSkgJHRpcC5maW5kKCcucG9wb3Zlci10aXRsZScpLmhpZGUoKVxuICB9XG5cbiAgUG9wb3Zlci5wcm90b3R5cGUuaGFzQ29udGVudCA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gdGhpcy5nZXRUaXRsZSgpIHx8IHRoaXMuZ2V0Q29udGVudCgpXG4gIH1cblxuICBQb3BvdmVyLnByb3RvdHlwZS5nZXRDb250ZW50ID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciAkZSA9IHRoaXMuJGVsZW1lbnRcbiAgICB2YXIgbyAgPSB0aGlzLm9wdGlvbnNcblxuICAgIHJldHVybiAkZS5hdHRyKCdkYXRhLWNvbnRlbnQnKVxuICAgICAgfHwgKHR5cGVvZiBvLmNvbnRlbnQgPT0gJ2Z1bmN0aW9uJyA/XG4gICAgICAgICAgICBvLmNvbnRlbnQuY2FsbCgkZVswXSkgOlxuICAgICAgICAgICAgby5jb250ZW50KVxuICB9XG5cbiAgUG9wb3Zlci5wcm90b3R5cGUuYXJyb3cgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuICh0aGlzLiRhcnJvdyA9IHRoaXMuJGFycm93IHx8IHRoaXMudGlwKCkuZmluZCgnLmFycm93JykpXG4gIH1cblxuXG4gIC8vIFBPUE9WRVIgUExVR0lOIERFRklOSVRJT05cbiAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PVxuXG4gIGZ1bmN0aW9uIFBsdWdpbihvcHRpb24pIHtcbiAgICByZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciAkdGhpcyAgID0gJCh0aGlzKVxuICAgICAgdmFyIGRhdGEgICAgPSAkdGhpcy5kYXRhKCdicy5wb3BvdmVyJylcbiAgICAgIHZhciBvcHRpb25zID0gdHlwZW9mIG9wdGlvbiA9PSAnb2JqZWN0JyAmJiBvcHRpb25cblxuICAgICAgaWYgKCFkYXRhICYmIC9kZXN0cm95fGhpZGUvLnRlc3Qob3B0aW9uKSkgcmV0dXJuXG4gICAgICBpZiAoIWRhdGEpICR0aGlzLmRhdGEoJ2JzLnBvcG92ZXInLCAoZGF0YSA9IG5ldyBQb3BvdmVyKHRoaXMsIG9wdGlvbnMpKSlcbiAgICAgIGlmICh0eXBlb2Ygb3B0aW9uID09ICdzdHJpbmcnKSBkYXRhW29wdGlvbl0oKVxuICAgIH0pXG4gIH1cblxuICB2YXIgb2xkID0gJC5mbi5wb3BvdmVyXG5cbiAgJC5mbi5wb3BvdmVyICAgICAgICAgICAgID0gUGx1Z2luXG4gICQuZm4ucG9wb3Zlci5Db25zdHJ1Y3RvciA9IFBvcG92ZXJcblxuXG4gIC8vIFBPUE9WRVIgTk8gQ09ORkxJQ1RcbiAgLy8gPT09PT09PT09PT09PT09PT09PVxuXG4gICQuZm4ucG9wb3Zlci5ub0NvbmZsaWN0ID0gZnVuY3Rpb24gKCkge1xuICAgICQuZm4ucG9wb3ZlciA9IG9sZFxuICAgIHJldHVybiB0aGlzXG4gIH1cblxufShqUXVlcnkpO1xuIiwiLyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKiBCb290c3RyYXA6IHNjcm9sbHNweS5qcyB2My4zLjdcbiAqIGh0dHA6Ly9nZXRib290c3RyYXAuY29tL2phdmFzY3JpcHQvI3Njcm9sbHNweVxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKiBDb3B5cmlnaHQgMjAxMS0yMDE2IFR3aXR0ZXIsIEluYy5cbiAqIExpY2Vuc2VkIHVuZGVyIE1JVCAoaHR0cHM6Ly9naXRodWIuY29tL3R3YnMvYm9vdHN0cmFwL2Jsb2IvbWFzdGVyL0xJQ0VOU0UpXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gKi9cblxuXG4rZnVuY3Rpb24gKCQpIHtcbiAgJ3VzZSBzdHJpY3QnO1xuXG4gIC8vIFNDUk9MTFNQWSBDTEFTUyBERUZJTklUSU9OXG4gIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbiAgZnVuY3Rpb24gU2Nyb2xsU3B5KGVsZW1lbnQsIG9wdGlvbnMpIHtcbiAgICB0aGlzLiRib2R5ICAgICAgICAgID0gJChkb2N1bWVudC5ib2R5KVxuICAgIHRoaXMuJHNjcm9sbEVsZW1lbnQgPSAkKGVsZW1lbnQpLmlzKGRvY3VtZW50LmJvZHkpID8gJCh3aW5kb3cpIDogJChlbGVtZW50KVxuICAgIHRoaXMub3B0aW9ucyAgICAgICAgPSAkLmV4dGVuZCh7fSwgU2Nyb2xsU3B5LkRFRkFVTFRTLCBvcHRpb25zKVxuICAgIHRoaXMuc2VsZWN0b3IgICAgICAgPSAodGhpcy5vcHRpb25zLnRhcmdldCB8fCAnJykgKyAnIC5uYXYgbGkgPiBhJ1xuICAgIHRoaXMub2Zmc2V0cyAgICAgICAgPSBbXVxuICAgIHRoaXMudGFyZ2V0cyAgICAgICAgPSBbXVxuICAgIHRoaXMuYWN0aXZlVGFyZ2V0ICAgPSBudWxsXG4gICAgdGhpcy5zY3JvbGxIZWlnaHQgICA9IDBcblxuICAgIHRoaXMuJHNjcm9sbEVsZW1lbnQub24oJ3Njcm9sbC5icy5zY3JvbGxzcHknLCAkLnByb3h5KHRoaXMucHJvY2VzcywgdGhpcykpXG4gICAgdGhpcy5yZWZyZXNoKClcbiAgICB0aGlzLnByb2Nlc3MoKVxuICB9XG5cbiAgU2Nyb2xsU3B5LlZFUlNJT04gID0gJzMuMy43J1xuXG4gIFNjcm9sbFNweS5ERUZBVUxUUyA9IHtcbiAgICBvZmZzZXQ6IDEwXG4gIH1cblxuICBTY3JvbGxTcHkucHJvdG90eXBlLmdldFNjcm9sbEhlaWdodCA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gdGhpcy4kc2Nyb2xsRWxlbWVudFswXS5zY3JvbGxIZWlnaHQgfHwgTWF0aC5tYXgodGhpcy4kYm9keVswXS5zY3JvbGxIZWlnaHQsIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zY3JvbGxIZWlnaHQpXG4gIH1cblxuICBTY3JvbGxTcHkucHJvdG90eXBlLnJlZnJlc2ggPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIHRoYXQgICAgICAgICAgPSB0aGlzXG4gICAgdmFyIG9mZnNldE1ldGhvZCAgPSAnb2Zmc2V0J1xuICAgIHZhciBvZmZzZXRCYXNlICAgID0gMFxuXG4gICAgdGhpcy5vZmZzZXRzICAgICAgPSBbXVxuICAgIHRoaXMudGFyZ2V0cyAgICAgID0gW11cbiAgICB0aGlzLnNjcm9sbEhlaWdodCA9IHRoaXMuZ2V0U2Nyb2xsSGVpZ2h0KClcblxuICAgIGlmICghJC5pc1dpbmRvdyh0aGlzLiRzY3JvbGxFbGVtZW50WzBdKSkge1xuICAgICAgb2Zmc2V0TWV0aG9kID0gJ3Bvc2l0aW9uJ1xuICAgICAgb2Zmc2V0QmFzZSAgID0gdGhpcy4kc2Nyb2xsRWxlbWVudC5zY3JvbGxUb3AoKVxuICAgIH1cblxuICAgIHRoaXMuJGJvZHlcbiAgICAgIC5maW5kKHRoaXMuc2VsZWN0b3IpXG4gICAgICAubWFwKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyICRlbCAgID0gJCh0aGlzKVxuICAgICAgICB2YXIgaHJlZiAgPSAkZWwuZGF0YSgndGFyZ2V0JykgfHwgJGVsLmF0dHIoJ2hyZWYnKVxuICAgICAgICB2YXIgJGhyZWYgPSAvXiMuLy50ZXN0KGhyZWYpICYmICQoaHJlZilcblxuICAgICAgICByZXR1cm4gKCRocmVmXG4gICAgICAgICAgJiYgJGhyZWYubGVuZ3RoXG4gICAgICAgICAgJiYgJGhyZWYuaXMoJzp2aXNpYmxlJylcbiAgICAgICAgICAmJiBbWyRocmVmW29mZnNldE1ldGhvZF0oKS50b3AgKyBvZmZzZXRCYXNlLCBocmVmXV0pIHx8IG51bGxcbiAgICAgIH0pXG4gICAgICAuc29ydChmdW5jdGlvbiAoYSwgYikgeyByZXR1cm4gYVswXSAtIGJbMF0gfSlcbiAgICAgIC5lYWNoKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhhdC5vZmZzZXRzLnB1c2godGhpc1swXSlcbiAgICAgICAgdGhhdC50YXJnZXRzLnB1c2godGhpc1sxXSlcbiAgICAgIH0pXG4gIH1cblxuICBTY3JvbGxTcHkucHJvdG90eXBlLnByb2Nlc3MgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIHNjcm9sbFRvcCAgICA9IHRoaXMuJHNjcm9sbEVsZW1lbnQuc2Nyb2xsVG9wKCkgKyB0aGlzLm9wdGlvbnMub2Zmc2V0XG4gICAgdmFyIHNjcm9sbEhlaWdodCA9IHRoaXMuZ2V0U2Nyb2xsSGVpZ2h0KClcbiAgICB2YXIgbWF4U2Nyb2xsICAgID0gdGhpcy5vcHRpb25zLm9mZnNldCArIHNjcm9sbEhlaWdodCAtIHRoaXMuJHNjcm9sbEVsZW1lbnQuaGVpZ2h0KClcbiAgICB2YXIgb2Zmc2V0cyAgICAgID0gdGhpcy5vZmZzZXRzXG4gICAgdmFyIHRhcmdldHMgICAgICA9IHRoaXMudGFyZ2V0c1xuICAgIHZhciBhY3RpdmVUYXJnZXQgPSB0aGlzLmFjdGl2ZVRhcmdldFxuICAgIHZhciBpXG5cbiAgICBpZiAodGhpcy5zY3JvbGxIZWlnaHQgIT0gc2Nyb2xsSGVpZ2h0KSB7XG4gICAgICB0aGlzLnJlZnJlc2goKVxuICAgIH1cblxuICAgIGlmIChzY3JvbGxUb3AgPj0gbWF4U2Nyb2xsKSB7XG4gICAgICByZXR1cm4gYWN0aXZlVGFyZ2V0ICE9IChpID0gdGFyZ2V0c1t0YXJnZXRzLmxlbmd0aCAtIDFdKSAmJiB0aGlzLmFjdGl2YXRlKGkpXG4gICAgfVxuXG4gICAgaWYgKGFjdGl2ZVRhcmdldCAmJiBzY3JvbGxUb3AgPCBvZmZzZXRzWzBdKSB7XG4gICAgICB0aGlzLmFjdGl2ZVRhcmdldCA9IG51bGxcbiAgICAgIHJldHVybiB0aGlzLmNsZWFyKClcbiAgICB9XG5cbiAgICBmb3IgKGkgPSBvZmZzZXRzLmxlbmd0aDsgaS0tOykge1xuICAgICAgYWN0aXZlVGFyZ2V0ICE9IHRhcmdldHNbaV1cbiAgICAgICAgJiYgc2Nyb2xsVG9wID49IG9mZnNldHNbaV1cbiAgICAgICAgJiYgKG9mZnNldHNbaSArIDFdID09PSB1bmRlZmluZWQgfHwgc2Nyb2xsVG9wIDwgb2Zmc2V0c1tpICsgMV0pXG4gICAgICAgICYmIHRoaXMuYWN0aXZhdGUodGFyZ2V0c1tpXSlcbiAgICB9XG4gIH1cblxuICBTY3JvbGxTcHkucHJvdG90eXBlLmFjdGl2YXRlID0gZnVuY3Rpb24gKHRhcmdldCkge1xuICAgIHRoaXMuYWN0aXZlVGFyZ2V0ID0gdGFyZ2V0XG5cbiAgICB0aGlzLmNsZWFyKClcblxuICAgIHZhciBzZWxlY3RvciA9IHRoaXMuc2VsZWN0b3IgK1xuICAgICAgJ1tkYXRhLXRhcmdldD1cIicgKyB0YXJnZXQgKyAnXCJdLCcgK1xuICAgICAgdGhpcy5zZWxlY3RvciArICdbaHJlZj1cIicgKyB0YXJnZXQgKyAnXCJdJ1xuXG4gICAgdmFyIGFjdGl2ZSA9ICQoc2VsZWN0b3IpXG4gICAgICAucGFyZW50cygnbGknKVxuICAgICAgLmFkZENsYXNzKCdhY3RpdmUnKVxuXG4gICAgaWYgKGFjdGl2ZS5wYXJlbnQoJy5kcm9wZG93bi1tZW51JykubGVuZ3RoKSB7XG4gICAgICBhY3RpdmUgPSBhY3RpdmVcbiAgICAgICAgLmNsb3Nlc3QoJ2xpLmRyb3Bkb3duJylcbiAgICAgICAgLmFkZENsYXNzKCdhY3RpdmUnKVxuICAgIH1cblxuICAgIGFjdGl2ZS50cmlnZ2VyKCdhY3RpdmF0ZS5icy5zY3JvbGxzcHknKVxuICB9XG5cbiAgU2Nyb2xsU3B5LnByb3RvdHlwZS5jbGVhciA9IGZ1bmN0aW9uICgpIHtcbiAgICAkKHRoaXMuc2VsZWN0b3IpXG4gICAgICAucGFyZW50c1VudGlsKHRoaXMub3B0aW9ucy50YXJnZXQsICcuYWN0aXZlJylcbiAgICAgIC5yZW1vdmVDbGFzcygnYWN0aXZlJylcbiAgfVxuXG5cbiAgLy8gU0NST0xMU1BZIFBMVUdJTiBERUZJTklUSU9OXG4gIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG4gIGZ1bmN0aW9uIFBsdWdpbihvcHRpb24pIHtcbiAgICByZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciAkdGhpcyAgID0gJCh0aGlzKVxuICAgICAgdmFyIGRhdGEgICAgPSAkdGhpcy5kYXRhKCdicy5zY3JvbGxzcHknKVxuICAgICAgdmFyIG9wdGlvbnMgPSB0eXBlb2Ygb3B0aW9uID09ICdvYmplY3QnICYmIG9wdGlvblxuXG4gICAgICBpZiAoIWRhdGEpICR0aGlzLmRhdGEoJ2JzLnNjcm9sbHNweScsIChkYXRhID0gbmV3IFNjcm9sbFNweSh0aGlzLCBvcHRpb25zKSkpXG4gICAgICBpZiAodHlwZW9mIG9wdGlvbiA9PSAnc3RyaW5nJykgZGF0YVtvcHRpb25dKClcbiAgICB9KVxuICB9XG5cbiAgdmFyIG9sZCA9ICQuZm4uc2Nyb2xsc3B5XG5cbiAgJC5mbi5zY3JvbGxzcHkgICAgICAgICAgICAgPSBQbHVnaW5cbiAgJC5mbi5zY3JvbGxzcHkuQ29uc3RydWN0b3IgPSBTY3JvbGxTcHlcblxuXG4gIC8vIFNDUk9MTFNQWSBOTyBDT05GTElDVFxuICAvLyA9PT09PT09PT09PT09PT09PT09PT1cblxuICAkLmZuLnNjcm9sbHNweS5ub0NvbmZsaWN0ID0gZnVuY3Rpb24gKCkge1xuICAgICQuZm4uc2Nyb2xsc3B5ID0gb2xkXG4gICAgcmV0dXJuIHRoaXNcbiAgfVxuXG5cbiAgLy8gU0NST0xMU1BZIERBVEEtQVBJXG4gIC8vID09PT09PT09PT09PT09PT09PVxuXG4gICQod2luZG93KS5vbignbG9hZC5icy5zY3JvbGxzcHkuZGF0YS1hcGknLCBmdW5jdGlvbiAoKSB7XG4gICAgJCgnW2RhdGEtc3B5PVwic2Nyb2xsXCJdJykuZWFjaChmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgJHNweSA9ICQodGhpcylcbiAgICAgIFBsdWdpbi5jYWxsKCRzcHksICRzcHkuZGF0YSgpKVxuICAgIH0pXG4gIH0pXG5cbn0oalF1ZXJ5KTtcbiIsIi8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICogQm9vdHN0cmFwOiB0YWIuanMgdjMuMy43XG4gKiBodHRwOi8vZ2V0Ym9vdHN0cmFwLmNvbS9qYXZhc2NyaXB0LyN0YWJzXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqIENvcHlyaWdodCAyMDExLTIwMTYgVHdpdHRlciwgSW5jLlxuICogTGljZW5zZWQgdW5kZXIgTUlUIChodHRwczovL2dpdGh1Yi5jb20vdHdicy9ib290c3RyYXAvYmxvYi9tYXN0ZXIvTElDRU5TRSlcbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSAqL1xuXG5cbitmdW5jdGlvbiAoJCkge1xuICAndXNlIHN0cmljdCc7XG5cbiAgLy8gVEFCIENMQVNTIERFRklOSVRJT05cbiAgLy8gPT09PT09PT09PT09PT09PT09PT1cblxuICB2YXIgVGFiID0gZnVuY3Rpb24gKGVsZW1lbnQpIHtcbiAgICAvLyBqc2NzOmRpc2FibGUgcmVxdWlyZURvbGxhckJlZm9yZWpRdWVyeUFzc2lnbm1lbnRcbiAgICB0aGlzLmVsZW1lbnQgPSAkKGVsZW1lbnQpXG4gICAgLy8ganNjczplbmFibGUgcmVxdWlyZURvbGxhckJlZm9yZWpRdWVyeUFzc2lnbm1lbnRcbiAgfVxuXG4gIFRhYi5WRVJTSU9OID0gJzMuMy43J1xuXG4gIFRhYi5UUkFOU0lUSU9OX0RVUkFUSU9OID0gMTUwXG5cbiAgVGFiLnByb3RvdHlwZS5zaG93ID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciAkdGhpcyAgICA9IHRoaXMuZWxlbWVudFxuICAgIHZhciAkdWwgICAgICA9ICR0aGlzLmNsb3Nlc3QoJ3VsOm5vdCguZHJvcGRvd24tbWVudSknKVxuICAgIHZhciBzZWxlY3RvciA9ICR0aGlzLmRhdGEoJ3RhcmdldCcpXG5cbiAgICBpZiAoIXNlbGVjdG9yKSB7XG4gICAgICBzZWxlY3RvciA9ICR0aGlzLmF0dHIoJ2hyZWYnKVxuICAgICAgc2VsZWN0b3IgPSBzZWxlY3RvciAmJiBzZWxlY3Rvci5yZXBsYWNlKC8uKig/PSNbXlxcc10qJCkvLCAnJykgLy8gc3RyaXAgZm9yIGllN1xuICAgIH1cblxuICAgIGlmICgkdGhpcy5wYXJlbnQoJ2xpJykuaGFzQ2xhc3MoJ2FjdGl2ZScpKSByZXR1cm5cblxuICAgIHZhciAkcHJldmlvdXMgPSAkdWwuZmluZCgnLmFjdGl2ZTpsYXN0IGEnKVxuICAgIHZhciBoaWRlRXZlbnQgPSAkLkV2ZW50KCdoaWRlLmJzLnRhYicsIHtcbiAgICAgIHJlbGF0ZWRUYXJnZXQ6ICR0aGlzWzBdXG4gICAgfSlcbiAgICB2YXIgc2hvd0V2ZW50ID0gJC5FdmVudCgnc2hvdy5icy50YWInLCB7XG4gICAgICByZWxhdGVkVGFyZ2V0OiAkcHJldmlvdXNbMF1cbiAgICB9KVxuXG4gICAgJHByZXZpb3VzLnRyaWdnZXIoaGlkZUV2ZW50KVxuICAgICR0aGlzLnRyaWdnZXIoc2hvd0V2ZW50KVxuXG4gICAgaWYgKHNob3dFdmVudC5pc0RlZmF1bHRQcmV2ZW50ZWQoKSB8fCBoaWRlRXZlbnQuaXNEZWZhdWx0UHJldmVudGVkKCkpIHJldHVyblxuXG4gICAgdmFyICR0YXJnZXQgPSAkKHNlbGVjdG9yKVxuXG4gICAgdGhpcy5hY3RpdmF0ZSgkdGhpcy5jbG9zZXN0KCdsaScpLCAkdWwpXG4gICAgdGhpcy5hY3RpdmF0ZSgkdGFyZ2V0LCAkdGFyZ2V0LnBhcmVudCgpLCBmdW5jdGlvbiAoKSB7XG4gICAgICAkcHJldmlvdXMudHJpZ2dlcih7XG4gICAgICAgIHR5cGU6ICdoaWRkZW4uYnMudGFiJyxcbiAgICAgICAgcmVsYXRlZFRhcmdldDogJHRoaXNbMF1cbiAgICAgIH0pXG4gICAgICAkdGhpcy50cmlnZ2VyKHtcbiAgICAgICAgdHlwZTogJ3Nob3duLmJzLnRhYicsXG4gICAgICAgIHJlbGF0ZWRUYXJnZXQ6ICRwcmV2aW91c1swXVxuICAgICAgfSlcbiAgICB9KVxuICB9XG5cbiAgVGFiLnByb3RvdHlwZS5hY3RpdmF0ZSA9IGZ1bmN0aW9uIChlbGVtZW50LCBjb250YWluZXIsIGNhbGxiYWNrKSB7XG4gICAgdmFyICRhY3RpdmUgICAgPSBjb250YWluZXIuZmluZCgnPiAuYWN0aXZlJylcbiAgICB2YXIgdHJhbnNpdGlvbiA9IGNhbGxiYWNrXG4gICAgICAmJiAkLnN1cHBvcnQudHJhbnNpdGlvblxuICAgICAgJiYgKCRhY3RpdmUubGVuZ3RoICYmICRhY3RpdmUuaGFzQ2xhc3MoJ2ZhZGUnKSB8fCAhIWNvbnRhaW5lci5maW5kKCc+IC5mYWRlJykubGVuZ3RoKVxuXG4gICAgZnVuY3Rpb24gbmV4dCgpIHtcbiAgICAgICRhY3RpdmVcbiAgICAgICAgLnJlbW92ZUNsYXNzKCdhY3RpdmUnKVxuICAgICAgICAuZmluZCgnPiAuZHJvcGRvd24tbWVudSA+IC5hY3RpdmUnKVxuICAgICAgICAgIC5yZW1vdmVDbGFzcygnYWN0aXZlJylcbiAgICAgICAgLmVuZCgpXG4gICAgICAgIC5maW5kKCdbZGF0YS10b2dnbGU9XCJ0YWJcIl0nKVxuICAgICAgICAgIC5hdHRyKCdhcmlhLWV4cGFuZGVkJywgZmFsc2UpXG5cbiAgICAgIGVsZW1lbnRcbiAgICAgICAgLmFkZENsYXNzKCdhY3RpdmUnKVxuICAgICAgICAuZmluZCgnW2RhdGEtdG9nZ2xlPVwidGFiXCJdJylcbiAgICAgICAgICAuYXR0cignYXJpYS1leHBhbmRlZCcsIHRydWUpXG5cbiAgICAgIGlmICh0cmFuc2l0aW9uKSB7XG4gICAgICAgIGVsZW1lbnRbMF0ub2Zmc2V0V2lkdGggLy8gcmVmbG93IGZvciB0cmFuc2l0aW9uXG4gICAgICAgIGVsZW1lbnQuYWRkQ2xhc3MoJ2luJylcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGVsZW1lbnQucmVtb3ZlQ2xhc3MoJ2ZhZGUnKVxuICAgICAgfVxuXG4gICAgICBpZiAoZWxlbWVudC5wYXJlbnQoJy5kcm9wZG93bi1tZW51JykubGVuZ3RoKSB7XG4gICAgICAgIGVsZW1lbnRcbiAgICAgICAgICAuY2xvc2VzdCgnbGkuZHJvcGRvd24nKVxuICAgICAgICAgICAgLmFkZENsYXNzKCdhY3RpdmUnKVxuICAgICAgICAgIC5lbmQoKVxuICAgICAgICAgIC5maW5kKCdbZGF0YS10b2dnbGU9XCJ0YWJcIl0nKVxuICAgICAgICAgICAgLmF0dHIoJ2FyaWEtZXhwYW5kZWQnLCB0cnVlKVxuICAgICAgfVxuXG4gICAgICBjYWxsYmFjayAmJiBjYWxsYmFjaygpXG4gICAgfVxuXG4gICAgJGFjdGl2ZS5sZW5ndGggJiYgdHJhbnNpdGlvbiA/XG4gICAgICAkYWN0aXZlXG4gICAgICAgIC5vbmUoJ2JzVHJhbnNpdGlvbkVuZCcsIG5leHQpXG4gICAgICAgIC5lbXVsYXRlVHJhbnNpdGlvbkVuZChUYWIuVFJBTlNJVElPTl9EVVJBVElPTikgOlxuICAgICAgbmV4dCgpXG5cbiAgICAkYWN0aXZlLnJlbW92ZUNsYXNzKCdpbicpXG4gIH1cblxuXG4gIC8vIFRBQiBQTFVHSU4gREVGSU5JVElPTlxuICAvLyA9PT09PT09PT09PT09PT09PT09PT1cblxuICBmdW5jdGlvbiBQbHVnaW4ob3B0aW9uKSB7XG4gICAgcmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgJHRoaXMgPSAkKHRoaXMpXG4gICAgICB2YXIgZGF0YSAgPSAkdGhpcy5kYXRhKCdicy50YWInKVxuXG4gICAgICBpZiAoIWRhdGEpICR0aGlzLmRhdGEoJ2JzLnRhYicsIChkYXRhID0gbmV3IFRhYih0aGlzKSkpXG4gICAgICBpZiAodHlwZW9mIG9wdGlvbiA9PSAnc3RyaW5nJykgZGF0YVtvcHRpb25dKClcbiAgICB9KVxuICB9XG5cbiAgdmFyIG9sZCA9ICQuZm4udGFiXG5cbiAgJC5mbi50YWIgICAgICAgICAgICAgPSBQbHVnaW5cbiAgJC5mbi50YWIuQ29uc3RydWN0b3IgPSBUYWJcblxuXG4gIC8vIFRBQiBOTyBDT05GTElDVFxuICAvLyA9PT09PT09PT09PT09PT1cblxuICAkLmZuLnRhYi5ub0NvbmZsaWN0ID0gZnVuY3Rpb24gKCkge1xuICAgICQuZm4udGFiID0gb2xkXG4gICAgcmV0dXJuIHRoaXNcbiAgfVxuXG5cbiAgLy8gVEFCIERBVEEtQVBJXG4gIC8vID09PT09PT09PT09PVxuXG4gIHZhciBjbGlja0hhbmRsZXIgPSBmdW5jdGlvbiAoZSkge1xuICAgIGUucHJldmVudERlZmF1bHQoKVxuICAgIFBsdWdpbi5jYWxsKCQodGhpcyksICdzaG93JylcbiAgfVxuXG4gICQoZG9jdW1lbnQpXG4gICAgLm9uKCdjbGljay5icy50YWIuZGF0YS1hcGknLCAnW2RhdGEtdG9nZ2xlPVwidGFiXCJdJywgY2xpY2tIYW5kbGVyKVxuICAgIC5vbignY2xpY2suYnMudGFiLmRhdGEtYXBpJywgJ1tkYXRhLXRvZ2dsZT1cInBpbGxcIl0nLCBjbGlja0hhbmRsZXIpXG5cbn0oalF1ZXJ5KTtcbiIsIi8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICogQm9vdHN0cmFwOiB0b29sdGlwLmpzIHYzLjMuN1xuICogaHR0cDovL2dldGJvb3RzdHJhcC5jb20vamF2YXNjcmlwdC8jdG9vbHRpcFxuICogSW5zcGlyZWQgYnkgdGhlIG9yaWdpbmFsIGpRdWVyeS50aXBzeSBieSBKYXNvbiBGcmFtZVxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKiBDb3B5cmlnaHQgMjAxMS0yMDE2IFR3aXR0ZXIsIEluYy5cbiAqIExpY2Vuc2VkIHVuZGVyIE1JVCAoaHR0cHM6Ly9naXRodWIuY29tL3R3YnMvYm9vdHN0cmFwL2Jsb2IvbWFzdGVyL0xJQ0VOU0UpXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gKi9cblxuXG4rZnVuY3Rpb24gKCQpIHtcbiAgJ3VzZSBzdHJpY3QnO1xuXG4gIC8vIFRPT0xUSVAgUFVCTElDIENMQVNTIERFRklOSVRJT05cbiAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG4gIHZhciBUb29sdGlwID0gZnVuY3Rpb24gKGVsZW1lbnQsIG9wdGlvbnMpIHtcbiAgICB0aGlzLnR5cGUgICAgICAgPSBudWxsXG4gICAgdGhpcy5vcHRpb25zICAgID0gbnVsbFxuICAgIHRoaXMuZW5hYmxlZCAgICA9IG51bGxcbiAgICB0aGlzLnRpbWVvdXQgICAgPSBudWxsXG4gICAgdGhpcy5ob3ZlclN0YXRlID0gbnVsbFxuICAgIHRoaXMuJGVsZW1lbnQgICA9IG51bGxcbiAgICB0aGlzLmluU3RhdGUgICAgPSBudWxsXG5cbiAgICB0aGlzLmluaXQoJ3Rvb2x0aXAnLCBlbGVtZW50LCBvcHRpb25zKVxuICB9XG5cbiAgVG9vbHRpcC5WRVJTSU9OICA9ICczLjMuNydcblxuICBUb29sdGlwLlRSQU5TSVRJT05fRFVSQVRJT04gPSAxNTBcblxuICBUb29sdGlwLkRFRkFVTFRTID0ge1xuICAgIGFuaW1hdGlvbjogdHJ1ZSxcbiAgICBwbGFjZW1lbnQ6ICd0b3AnLFxuICAgIHNlbGVjdG9yOiBmYWxzZSxcbiAgICB0ZW1wbGF0ZTogJzxkaXYgY2xhc3M9XCJ0b29sdGlwXCIgcm9sZT1cInRvb2x0aXBcIj48ZGl2IGNsYXNzPVwidG9vbHRpcC1hcnJvd1wiPjwvZGl2PjxkaXYgY2xhc3M9XCJ0b29sdGlwLWlubmVyXCI+PC9kaXY+PC9kaXY+JyxcbiAgICB0cmlnZ2VyOiAnaG92ZXIgZm9jdXMnLFxuICAgIHRpdGxlOiAnJyxcbiAgICBkZWxheTogMCxcbiAgICBodG1sOiBmYWxzZSxcbiAgICBjb250YWluZXI6IGZhbHNlLFxuICAgIHZpZXdwb3J0OiB7XG4gICAgICBzZWxlY3RvcjogJ2JvZHknLFxuICAgICAgcGFkZGluZzogMFxuICAgIH1cbiAgfVxuXG4gIFRvb2x0aXAucHJvdG90eXBlLmluaXQgPSBmdW5jdGlvbiAodHlwZSwgZWxlbWVudCwgb3B0aW9ucykge1xuICAgIHRoaXMuZW5hYmxlZCAgID0gdHJ1ZVxuICAgIHRoaXMudHlwZSAgICAgID0gdHlwZVxuICAgIHRoaXMuJGVsZW1lbnQgID0gJChlbGVtZW50KVxuICAgIHRoaXMub3B0aW9ucyAgID0gdGhpcy5nZXRPcHRpb25zKG9wdGlvbnMpXG4gICAgdGhpcy4kdmlld3BvcnQgPSB0aGlzLm9wdGlvbnMudmlld3BvcnQgJiYgJCgkLmlzRnVuY3Rpb24odGhpcy5vcHRpb25zLnZpZXdwb3J0KSA/IHRoaXMub3B0aW9ucy52aWV3cG9ydC5jYWxsKHRoaXMsIHRoaXMuJGVsZW1lbnQpIDogKHRoaXMub3B0aW9ucy52aWV3cG9ydC5zZWxlY3RvciB8fCB0aGlzLm9wdGlvbnMudmlld3BvcnQpKVxuICAgIHRoaXMuaW5TdGF0ZSAgID0geyBjbGljazogZmFsc2UsIGhvdmVyOiBmYWxzZSwgZm9jdXM6IGZhbHNlIH1cblxuICAgIGlmICh0aGlzLiRlbGVtZW50WzBdIGluc3RhbmNlb2YgZG9jdW1lbnQuY29uc3RydWN0b3IgJiYgIXRoaXMub3B0aW9ucy5zZWxlY3Rvcikge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdgc2VsZWN0b3JgIG9wdGlvbiBtdXN0IGJlIHNwZWNpZmllZCB3aGVuIGluaXRpYWxpemluZyAnICsgdGhpcy50eXBlICsgJyBvbiB0aGUgd2luZG93LmRvY3VtZW50IG9iamVjdCEnKVxuICAgIH1cblxuICAgIHZhciB0cmlnZ2VycyA9IHRoaXMub3B0aW9ucy50cmlnZ2VyLnNwbGl0KCcgJylcblxuICAgIGZvciAodmFyIGkgPSB0cmlnZ2Vycy5sZW5ndGg7IGktLTspIHtcbiAgICAgIHZhciB0cmlnZ2VyID0gdHJpZ2dlcnNbaV1cblxuICAgICAgaWYgKHRyaWdnZXIgPT0gJ2NsaWNrJykge1xuICAgICAgICB0aGlzLiRlbGVtZW50Lm9uKCdjbGljay4nICsgdGhpcy50eXBlLCB0aGlzLm9wdGlvbnMuc2VsZWN0b3IsICQucHJveHkodGhpcy50b2dnbGUsIHRoaXMpKVxuICAgICAgfSBlbHNlIGlmICh0cmlnZ2VyICE9ICdtYW51YWwnKSB7XG4gICAgICAgIHZhciBldmVudEluICA9IHRyaWdnZXIgPT0gJ2hvdmVyJyA/ICdtb3VzZWVudGVyJyA6ICdmb2N1c2luJ1xuICAgICAgICB2YXIgZXZlbnRPdXQgPSB0cmlnZ2VyID09ICdob3ZlcicgPyAnbW91c2VsZWF2ZScgOiAnZm9jdXNvdXQnXG5cbiAgICAgICAgdGhpcy4kZWxlbWVudC5vbihldmVudEluICArICcuJyArIHRoaXMudHlwZSwgdGhpcy5vcHRpb25zLnNlbGVjdG9yLCAkLnByb3h5KHRoaXMuZW50ZXIsIHRoaXMpKVxuICAgICAgICB0aGlzLiRlbGVtZW50Lm9uKGV2ZW50T3V0ICsgJy4nICsgdGhpcy50eXBlLCB0aGlzLm9wdGlvbnMuc2VsZWN0b3IsICQucHJveHkodGhpcy5sZWF2ZSwgdGhpcykpXG4gICAgICB9XG4gICAgfVxuXG4gICAgdGhpcy5vcHRpb25zLnNlbGVjdG9yID9cbiAgICAgICh0aGlzLl9vcHRpb25zID0gJC5leHRlbmQoe30sIHRoaXMub3B0aW9ucywgeyB0cmlnZ2VyOiAnbWFudWFsJywgc2VsZWN0b3I6ICcnIH0pKSA6XG4gICAgICB0aGlzLmZpeFRpdGxlKClcbiAgfVxuXG4gIFRvb2x0aXAucHJvdG90eXBlLmdldERlZmF1bHRzID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiBUb29sdGlwLkRFRkFVTFRTXG4gIH1cblxuICBUb29sdGlwLnByb3RvdHlwZS5nZXRPcHRpb25zID0gZnVuY3Rpb24gKG9wdGlvbnMpIHtcbiAgICBvcHRpb25zID0gJC5leHRlbmQoe30sIHRoaXMuZ2V0RGVmYXVsdHMoKSwgdGhpcy4kZWxlbWVudC5kYXRhKCksIG9wdGlvbnMpXG5cbiAgICBpZiAob3B0aW9ucy5kZWxheSAmJiB0eXBlb2Ygb3B0aW9ucy5kZWxheSA9PSAnbnVtYmVyJykge1xuICAgICAgb3B0aW9ucy5kZWxheSA9IHtcbiAgICAgICAgc2hvdzogb3B0aW9ucy5kZWxheSxcbiAgICAgICAgaGlkZTogb3B0aW9ucy5kZWxheVxuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBvcHRpb25zXG4gIH1cblxuICBUb29sdGlwLnByb3RvdHlwZS5nZXREZWxlZ2F0ZU9wdGlvbnMgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIG9wdGlvbnMgID0ge31cbiAgICB2YXIgZGVmYXVsdHMgPSB0aGlzLmdldERlZmF1bHRzKClcblxuICAgIHRoaXMuX29wdGlvbnMgJiYgJC5lYWNoKHRoaXMuX29wdGlvbnMsIGZ1bmN0aW9uIChrZXksIHZhbHVlKSB7XG4gICAgICBpZiAoZGVmYXVsdHNba2V5XSAhPSB2YWx1ZSkgb3B0aW9uc1trZXldID0gdmFsdWVcbiAgICB9KVxuXG4gICAgcmV0dXJuIG9wdGlvbnNcbiAgfVxuXG4gIFRvb2x0aXAucHJvdG90eXBlLmVudGVyID0gZnVuY3Rpb24gKG9iaikge1xuICAgIHZhciBzZWxmID0gb2JqIGluc3RhbmNlb2YgdGhpcy5jb25zdHJ1Y3RvciA/XG4gICAgICBvYmogOiAkKG9iai5jdXJyZW50VGFyZ2V0KS5kYXRhKCdicy4nICsgdGhpcy50eXBlKVxuXG4gICAgaWYgKCFzZWxmKSB7XG4gICAgICBzZWxmID0gbmV3IHRoaXMuY29uc3RydWN0b3Iob2JqLmN1cnJlbnRUYXJnZXQsIHRoaXMuZ2V0RGVsZWdhdGVPcHRpb25zKCkpXG4gICAgICAkKG9iai5jdXJyZW50VGFyZ2V0KS5kYXRhKCdicy4nICsgdGhpcy50eXBlLCBzZWxmKVxuICAgIH1cblxuICAgIGlmIChvYmogaW5zdGFuY2VvZiAkLkV2ZW50KSB7XG4gICAgICBzZWxmLmluU3RhdGVbb2JqLnR5cGUgPT0gJ2ZvY3VzaW4nID8gJ2ZvY3VzJyA6ICdob3ZlciddID0gdHJ1ZVxuICAgIH1cblxuICAgIGlmIChzZWxmLnRpcCgpLmhhc0NsYXNzKCdpbicpIHx8IHNlbGYuaG92ZXJTdGF0ZSA9PSAnaW4nKSB7XG4gICAgICBzZWxmLmhvdmVyU3RhdGUgPSAnaW4nXG4gICAgICByZXR1cm5cbiAgICB9XG5cbiAgICBjbGVhclRpbWVvdXQoc2VsZi50aW1lb3V0KVxuXG4gICAgc2VsZi5ob3ZlclN0YXRlID0gJ2luJ1xuXG4gICAgaWYgKCFzZWxmLm9wdGlvbnMuZGVsYXkgfHwgIXNlbGYub3B0aW9ucy5kZWxheS5zaG93KSByZXR1cm4gc2VsZi5zaG93KClcblxuICAgIHNlbGYudGltZW91dCA9IHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgaWYgKHNlbGYuaG92ZXJTdGF0ZSA9PSAnaW4nKSBzZWxmLnNob3coKVxuICAgIH0sIHNlbGYub3B0aW9ucy5kZWxheS5zaG93KVxuICB9XG5cbiAgVG9vbHRpcC5wcm90b3R5cGUuaXNJblN0YXRlVHJ1ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICBmb3IgKHZhciBrZXkgaW4gdGhpcy5pblN0YXRlKSB7XG4gICAgICBpZiAodGhpcy5pblN0YXRlW2tleV0pIHJldHVybiB0cnVlXG4gICAgfVxuXG4gICAgcmV0dXJuIGZhbHNlXG4gIH1cblxuICBUb29sdGlwLnByb3RvdHlwZS5sZWF2ZSA9IGZ1bmN0aW9uIChvYmopIHtcbiAgICB2YXIgc2VsZiA9IG9iaiBpbnN0YW5jZW9mIHRoaXMuY29uc3RydWN0b3IgP1xuICAgICAgb2JqIDogJChvYmouY3VycmVudFRhcmdldCkuZGF0YSgnYnMuJyArIHRoaXMudHlwZSlcblxuICAgIGlmICghc2VsZikge1xuICAgICAgc2VsZiA9IG5ldyB0aGlzLmNvbnN0cnVjdG9yKG9iai5jdXJyZW50VGFyZ2V0LCB0aGlzLmdldERlbGVnYXRlT3B0aW9ucygpKVxuICAgICAgJChvYmouY3VycmVudFRhcmdldCkuZGF0YSgnYnMuJyArIHRoaXMudHlwZSwgc2VsZilcbiAgICB9XG5cbiAgICBpZiAob2JqIGluc3RhbmNlb2YgJC5FdmVudCkge1xuICAgICAgc2VsZi5pblN0YXRlW29iai50eXBlID09ICdmb2N1c291dCcgPyAnZm9jdXMnIDogJ2hvdmVyJ10gPSBmYWxzZVxuICAgIH1cblxuICAgIGlmIChzZWxmLmlzSW5TdGF0ZVRydWUoKSkgcmV0dXJuXG5cbiAgICBjbGVhclRpbWVvdXQoc2VsZi50aW1lb3V0KVxuXG4gICAgc2VsZi5ob3ZlclN0YXRlID0gJ291dCdcblxuICAgIGlmICghc2VsZi5vcHRpb25zLmRlbGF5IHx8ICFzZWxmLm9wdGlvbnMuZGVsYXkuaGlkZSkgcmV0dXJuIHNlbGYuaGlkZSgpXG5cbiAgICBzZWxmLnRpbWVvdXQgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgIGlmIChzZWxmLmhvdmVyU3RhdGUgPT0gJ291dCcpIHNlbGYuaGlkZSgpXG4gICAgfSwgc2VsZi5vcHRpb25zLmRlbGF5LmhpZGUpXG4gIH1cblxuICBUb29sdGlwLnByb3RvdHlwZS5zaG93ID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciBlID0gJC5FdmVudCgnc2hvdy5icy4nICsgdGhpcy50eXBlKVxuXG4gICAgaWYgKHRoaXMuaGFzQ29udGVudCgpICYmIHRoaXMuZW5hYmxlZCkge1xuICAgICAgdGhpcy4kZWxlbWVudC50cmlnZ2VyKGUpXG5cbiAgICAgIHZhciBpbkRvbSA9ICQuY29udGFpbnModGhpcy4kZWxlbWVudFswXS5vd25lckRvY3VtZW50LmRvY3VtZW50RWxlbWVudCwgdGhpcy4kZWxlbWVudFswXSlcbiAgICAgIGlmIChlLmlzRGVmYXVsdFByZXZlbnRlZCgpIHx8ICFpbkRvbSkgcmV0dXJuXG4gICAgICB2YXIgdGhhdCA9IHRoaXNcblxuICAgICAgdmFyICR0aXAgPSB0aGlzLnRpcCgpXG5cbiAgICAgIHZhciB0aXBJZCA9IHRoaXMuZ2V0VUlEKHRoaXMudHlwZSlcblxuICAgICAgdGhpcy5zZXRDb250ZW50KClcbiAgICAgICR0aXAuYXR0cignaWQnLCB0aXBJZClcbiAgICAgIHRoaXMuJGVsZW1lbnQuYXR0cignYXJpYS1kZXNjcmliZWRieScsIHRpcElkKVxuXG4gICAgICBpZiAodGhpcy5vcHRpb25zLmFuaW1hdGlvbikgJHRpcC5hZGRDbGFzcygnZmFkZScpXG5cbiAgICAgIHZhciBwbGFjZW1lbnQgPSB0eXBlb2YgdGhpcy5vcHRpb25zLnBsYWNlbWVudCA9PSAnZnVuY3Rpb24nID9cbiAgICAgICAgdGhpcy5vcHRpb25zLnBsYWNlbWVudC5jYWxsKHRoaXMsICR0aXBbMF0sIHRoaXMuJGVsZW1lbnRbMF0pIDpcbiAgICAgICAgdGhpcy5vcHRpb25zLnBsYWNlbWVudFxuXG4gICAgICB2YXIgYXV0b1Rva2VuID0gL1xccz9hdXRvP1xccz8vaVxuICAgICAgdmFyIGF1dG9QbGFjZSA9IGF1dG9Ub2tlbi50ZXN0KHBsYWNlbWVudClcbiAgICAgIGlmIChhdXRvUGxhY2UpIHBsYWNlbWVudCA9IHBsYWNlbWVudC5yZXBsYWNlKGF1dG9Ub2tlbiwgJycpIHx8ICd0b3AnXG5cbiAgICAgICR0aXBcbiAgICAgICAgLmRldGFjaCgpXG4gICAgICAgIC5jc3MoeyB0b3A6IDAsIGxlZnQ6IDAsIGRpc3BsYXk6ICdibG9jaycgfSlcbiAgICAgICAgLmFkZENsYXNzKHBsYWNlbWVudClcbiAgICAgICAgLmRhdGEoJ2JzLicgKyB0aGlzLnR5cGUsIHRoaXMpXG5cbiAgICAgIHRoaXMub3B0aW9ucy5jb250YWluZXIgPyAkdGlwLmFwcGVuZFRvKHRoaXMub3B0aW9ucy5jb250YWluZXIpIDogJHRpcC5pbnNlcnRBZnRlcih0aGlzLiRlbGVtZW50KVxuICAgICAgdGhpcy4kZWxlbWVudC50cmlnZ2VyKCdpbnNlcnRlZC5icy4nICsgdGhpcy50eXBlKVxuXG4gICAgICB2YXIgcG9zICAgICAgICAgID0gdGhpcy5nZXRQb3NpdGlvbigpXG4gICAgICB2YXIgYWN0dWFsV2lkdGggID0gJHRpcFswXS5vZmZzZXRXaWR0aFxuICAgICAgdmFyIGFjdHVhbEhlaWdodCA9ICR0aXBbMF0ub2Zmc2V0SGVpZ2h0XG5cbiAgICAgIGlmIChhdXRvUGxhY2UpIHtcbiAgICAgICAgdmFyIG9yZ1BsYWNlbWVudCA9IHBsYWNlbWVudFxuICAgICAgICB2YXIgdmlld3BvcnREaW0gPSB0aGlzLmdldFBvc2l0aW9uKHRoaXMuJHZpZXdwb3J0KVxuXG4gICAgICAgIHBsYWNlbWVudCA9IHBsYWNlbWVudCA9PSAnYm90dG9tJyAmJiBwb3MuYm90dG9tICsgYWN0dWFsSGVpZ2h0ID4gdmlld3BvcnREaW0uYm90dG9tID8gJ3RvcCcgICAgOlxuICAgICAgICAgICAgICAgICAgICBwbGFjZW1lbnQgPT0gJ3RvcCcgICAgJiYgcG9zLnRvcCAgICAtIGFjdHVhbEhlaWdodCA8IHZpZXdwb3J0RGltLnRvcCAgICA/ICdib3R0b20nIDpcbiAgICAgICAgICAgICAgICAgICAgcGxhY2VtZW50ID09ICdyaWdodCcgICYmIHBvcy5yaWdodCAgKyBhY3R1YWxXaWR0aCAgPiB2aWV3cG9ydERpbS53aWR0aCAgPyAnbGVmdCcgICA6XG4gICAgICAgICAgICAgICAgICAgIHBsYWNlbWVudCA9PSAnbGVmdCcgICAmJiBwb3MubGVmdCAgIC0gYWN0dWFsV2lkdGggIDwgdmlld3BvcnREaW0ubGVmdCAgID8gJ3JpZ2h0JyAgOlxuICAgICAgICAgICAgICAgICAgICBwbGFjZW1lbnRcblxuICAgICAgICAkdGlwXG4gICAgICAgICAgLnJlbW92ZUNsYXNzKG9yZ1BsYWNlbWVudClcbiAgICAgICAgICAuYWRkQ2xhc3MocGxhY2VtZW50KVxuICAgICAgfVxuXG4gICAgICB2YXIgY2FsY3VsYXRlZE9mZnNldCA9IHRoaXMuZ2V0Q2FsY3VsYXRlZE9mZnNldChwbGFjZW1lbnQsIHBvcywgYWN0dWFsV2lkdGgsIGFjdHVhbEhlaWdodClcblxuICAgICAgdGhpcy5hcHBseVBsYWNlbWVudChjYWxjdWxhdGVkT2Zmc2V0LCBwbGFjZW1lbnQpXG5cbiAgICAgIHZhciBjb21wbGV0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIHByZXZIb3ZlclN0YXRlID0gdGhhdC5ob3ZlclN0YXRlXG4gICAgICAgIHRoYXQuJGVsZW1lbnQudHJpZ2dlcignc2hvd24uYnMuJyArIHRoYXQudHlwZSlcbiAgICAgICAgdGhhdC5ob3ZlclN0YXRlID0gbnVsbFxuXG4gICAgICAgIGlmIChwcmV2SG92ZXJTdGF0ZSA9PSAnb3V0JykgdGhhdC5sZWF2ZSh0aGF0KVxuICAgICAgfVxuXG4gICAgICAkLnN1cHBvcnQudHJhbnNpdGlvbiAmJiB0aGlzLiR0aXAuaGFzQ2xhc3MoJ2ZhZGUnKSA/XG4gICAgICAgICR0aXBcbiAgICAgICAgICAub25lKCdic1RyYW5zaXRpb25FbmQnLCBjb21wbGV0ZSlcbiAgICAgICAgICAuZW11bGF0ZVRyYW5zaXRpb25FbmQoVG9vbHRpcC5UUkFOU0lUSU9OX0RVUkFUSU9OKSA6XG4gICAgICAgIGNvbXBsZXRlKClcbiAgICB9XG4gIH1cblxuICBUb29sdGlwLnByb3RvdHlwZS5hcHBseVBsYWNlbWVudCA9IGZ1bmN0aW9uIChvZmZzZXQsIHBsYWNlbWVudCkge1xuICAgIHZhciAkdGlwICAgPSB0aGlzLnRpcCgpXG4gICAgdmFyIHdpZHRoICA9ICR0aXBbMF0ub2Zmc2V0V2lkdGhcbiAgICB2YXIgaGVpZ2h0ID0gJHRpcFswXS5vZmZzZXRIZWlnaHRcblxuICAgIC8vIG1hbnVhbGx5IHJlYWQgbWFyZ2lucyBiZWNhdXNlIGdldEJvdW5kaW5nQ2xpZW50UmVjdCBpbmNsdWRlcyBkaWZmZXJlbmNlXG4gICAgdmFyIG1hcmdpblRvcCA9IHBhcnNlSW50KCR0aXAuY3NzKCdtYXJnaW4tdG9wJyksIDEwKVxuICAgIHZhciBtYXJnaW5MZWZ0ID0gcGFyc2VJbnQoJHRpcC5jc3MoJ21hcmdpbi1sZWZ0JyksIDEwKVxuXG4gICAgLy8gd2UgbXVzdCBjaGVjayBmb3IgTmFOIGZvciBpZSA4LzlcbiAgICBpZiAoaXNOYU4obWFyZ2luVG9wKSkgIG1hcmdpblRvcCAgPSAwXG4gICAgaWYgKGlzTmFOKG1hcmdpbkxlZnQpKSBtYXJnaW5MZWZ0ID0gMFxuXG4gICAgb2Zmc2V0LnRvcCAgKz0gbWFyZ2luVG9wXG4gICAgb2Zmc2V0LmxlZnQgKz0gbWFyZ2luTGVmdFxuXG4gICAgLy8gJC5mbi5vZmZzZXQgZG9lc24ndCByb3VuZCBwaXhlbCB2YWx1ZXNcbiAgICAvLyBzbyB3ZSB1c2Ugc2V0T2Zmc2V0IGRpcmVjdGx5IHdpdGggb3VyIG93biBmdW5jdGlvbiBCLTBcbiAgICAkLm9mZnNldC5zZXRPZmZzZXQoJHRpcFswXSwgJC5leHRlbmQoe1xuICAgICAgdXNpbmc6IGZ1bmN0aW9uIChwcm9wcykge1xuICAgICAgICAkdGlwLmNzcyh7XG4gICAgICAgICAgdG9wOiBNYXRoLnJvdW5kKHByb3BzLnRvcCksXG4gICAgICAgICAgbGVmdDogTWF0aC5yb3VuZChwcm9wcy5sZWZ0KVxuICAgICAgICB9KVxuICAgICAgfVxuICAgIH0sIG9mZnNldCksIDApXG5cbiAgICAkdGlwLmFkZENsYXNzKCdpbicpXG5cbiAgICAvLyBjaGVjayB0byBzZWUgaWYgcGxhY2luZyB0aXAgaW4gbmV3IG9mZnNldCBjYXVzZWQgdGhlIHRpcCB0byByZXNpemUgaXRzZWxmXG4gICAgdmFyIGFjdHVhbFdpZHRoICA9ICR0aXBbMF0ub2Zmc2V0V2lkdGhcbiAgICB2YXIgYWN0dWFsSGVpZ2h0ID0gJHRpcFswXS5vZmZzZXRIZWlnaHRcblxuICAgIGlmIChwbGFjZW1lbnQgPT0gJ3RvcCcgJiYgYWN0dWFsSGVpZ2h0ICE9IGhlaWdodCkge1xuICAgICAgb2Zmc2V0LnRvcCA9IG9mZnNldC50b3AgKyBoZWlnaHQgLSBhY3R1YWxIZWlnaHRcbiAgICB9XG5cbiAgICB2YXIgZGVsdGEgPSB0aGlzLmdldFZpZXdwb3J0QWRqdXN0ZWREZWx0YShwbGFjZW1lbnQsIG9mZnNldCwgYWN0dWFsV2lkdGgsIGFjdHVhbEhlaWdodClcblxuICAgIGlmIChkZWx0YS5sZWZ0KSBvZmZzZXQubGVmdCArPSBkZWx0YS5sZWZ0XG4gICAgZWxzZSBvZmZzZXQudG9wICs9IGRlbHRhLnRvcFxuXG4gICAgdmFyIGlzVmVydGljYWwgICAgICAgICAgPSAvdG9wfGJvdHRvbS8udGVzdChwbGFjZW1lbnQpXG4gICAgdmFyIGFycm93RGVsdGEgICAgICAgICAgPSBpc1ZlcnRpY2FsID8gZGVsdGEubGVmdCAqIDIgLSB3aWR0aCArIGFjdHVhbFdpZHRoIDogZGVsdGEudG9wICogMiAtIGhlaWdodCArIGFjdHVhbEhlaWdodFxuICAgIHZhciBhcnJvd09mZnNldFBvc2l0aW9uID0gaXNWZXJ0aWNhbCA/ICdvZmZzZXRXaWR0aCcgOiAnb2Zmc2V0SGVpZ2h0J1xuXG4gICAgJHRpcC5vZmZzZXQob2Zmc2V0KVxuICAgIHRoaXMucmVwbGFjZUFycm93KGFycm93RGVsdGEsICR0aXBbMF1bYXJyb3dPZmZzZXRQb3NpdGlvbl0sIGlzVmVydGljYWwpXG4gIH1cblxuICBUb29sdGlwLnByb3RvdHlwZS5yZXBsYWNlQXJyb3cgPSBmdW5jdGlvbiAoZGVsdGEsIGRpbWVuc2lvbiwgaXNWZXJ0aWNhbCkge1xuICAgIHRoaXMuYXJyb3coKVxuICAgICAgLmNzcyhpc1ZlcnRpY2FsID8gJ2xlZnQnIDogJ3RvcCcsIDUwICogKDEgLSBkZWx0YSAvIGRpbWVuc2lvbikgKyAnJScpXG4gICAgICAuY3NzKGlzVmVydGljYWwgPyAndG9wJyA6ICdsZWZ0JywgJycpXG4gIH1cblxuICBUb29sdGlwLnByb3RvdHlwZS5zZXRDb250ZW50ID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciAkdGlwICA9IHRoaXMudGlwKClcbiAgICB2YXIgdGl0bGUgPSB0aGlzLmdldFRpdGxlKClcblxuICAgICR0aXAuZmluZCgnLnRvb2x0aXAtaW5uZXInKVt0aGlzLm9wdGlvbnMuaHRtbCA/ICdodG1sJyA6ICd0ZXh0J10odGl0bGUpXG4gICAgJHRpcC5yZW1vdmVDbGFzcygnZmFkZSBpbiB0b3AgYm90dG9tIGxlZnQgcmlnaHQnKVxuICB9XG5cbiAgVG9vbHRpcC5wcm90b3R5cGUuaGlkZSA9IGZ1bmN0aW9uIChjYWxsYmFjaykge1xuICAgIHZhciB0aGF0ID0gdGhpc1xuICAgIHZhciAkdGlwID0gJCh0aGlzLiR0aXApXG4gICAgdmFyIGUgICAgPSAkLkV2ZW50KCdoaWRlLmJzLicgKyB0aGlzLnR5cGUpXG5cbiAgICBmdW5jdGlvbiBjb21wbGV0ZSgpIHtcbiAgICAgIGlmICh0aGF0LmhvdmVyU3RhdGUgIT0gJ2luJykgJHRpcC5kZXRhY2goKVxuICAgICAgaWYgKHRoYXQuJGVsZW1lbnQpIHsgLy8gVE9ETzogQ2hlY2sgd2hldGhlciBndWFyZGluZyB0aGlzIGNvZGUgd2l0aCB0aGlzIGBpZmAgaXMgcmVhbGx5IG5lY2Vzc2FyeS5cbiAgICAgICAgdGhhdC4kZWxlbWVudFxuICAgICAgICAgIC5yZW1vdmVBdHRyKCdhcmlhLWRlc2NyaWJlZGJ5JylcbiAgICAgICAgICAudHJpZ2dlcignaGlkZGVuLmJzLicgKyB0aGF0LnR5cGUpXG4gICAgICB9XG4gICAgICBjYWxsYmFjayAmJiBjYWxsYmFjaygpXG4gICAgfVxuXG4gICAgdGhpcy4kZWxlbWVudC50cmlnZ2VyKGUpXG5cbiAgICBpZiAoZS5pc0RlZmF1bHRQcmV2ZW50ZWQoKSkgcmV0dXJuXG5cbiAgICAkdGlwLnJlbW92ZUNsYXNzKCdpbicpXG5cbiAgICAkLnN1cHBvcnQudHJhbnNpdGlvbiAmJiAkdGlwLmhhc0NsYXNzKCdmYWRlJykgP1xuICAgICAgJHRpcFxuICAgICAgICAub25lKCdic1RyYW5zaXRpb25FbmQnLCBjb21wbGV0ZSlcbiAgICAgICAgLmVtdWxhdGVUcmFuc2l0aW9uRW5kKFRvb2x0aXAuVFJBTlNJVElPTl9EVVJBVElPTikgOlxuICAgICAgY29tcGxldGUoKVxuXG4gICAgdGhpcy5ob3ZlclN0YXRlID0gbnVsbFxuXG4gICAgcmV0dXJuIHRoaXNcbiAgfVxuXG4gIFRvb2x0aXAucHJvdG90eXBlLmZpeFRpdGxlID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciAkZSA9IHRoaXMuJGVsZW1lbnRcbiAgICBpZiAoJGUuYXR0cigndGl0bGUnKSB8fCB0eXBlb2YgJGUuYXR0cignZGF0YS1vcmlnaW5hbC10aXRsZScpICE9ICdzdHJpbmcnKSB7XG4gICAgICAkZS5hdHRyKCdkYXRhLW9yaWdpbmFsLXRpdGxlJywgJGUuYXR0cigndGl0bGUnKSB8fCAnJykuYXR0cigndGl0bGUnLCAnJylcbiAgICB9XG4gIH1cblxuICBUb29sdGlwLnByb3RvdHlwZS5oYXNDb250ZW50ID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB0aGlzLmdldFRpdGxlKClcbiAgfVxuXG4gIFRvb2x0aXAucHJvdG90eXBlLmdldFBvc2l0aW9uID0gZnVuY3Rpb24gKCRlbGVtZW50KSB7XG4gICAgJGVsZW1lbnQgICA9ICRlbGVtZW50IHx8IHRoaXMuJGVsZW1lbnRcblxuICAgIHZhciBlbCAgICAgPSAkZWxlbWVudFswXVxuICAgIHZhciBpc0JvZHkgPSBlbC50YWdOYW1lID09ICdCT0RZJ1xuXG4gICAgdmFyIGVsUmVjdCAgICA9IGVsLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpXG4gICAgaWYgKGVsUmVjdC53aWR0aCA9PSBudWxsKSB7XG4gICAgICAvLyB3aWR0aCBhbmQgaGVpZ2h0IGFyZSBtaXNzaW5nIGluIElFOCwgc28gY29tcHV0ZSB0aGVtIG1hbnVhbGx5OyBzZWUgaHR0cHM6Ly9naXRodWIuY29tL3R3YnMvYm9vdHN0cmFwL2lzc3Vlcy8xNDA5M1xuICAgICAgZWxSZWN0ID0gJC5leHRlbmQoe30sIGVsUmVjdCwgeyB3aWR0aDogZWxSZWN0LnJpZ2h0IC0gZWxSZWN0LmxlZnQsIGhlaWdodDogZWxSZWN0LmJvdHRvbSAtIGVsUmVjdC50b3AgfSlcbiAgICB9XG4gICAgdmFyIGlzU3ZnID0gd2luZG93LlNWR0VsZW1lbnQgJiYgZWwgaW5zdGFuY2VvZiB3aW5kb3cuU1ZHRWxlbWVudFxuICAgIC8vIEF2b2lkIHVzaW5nICQub2Zmc2V0KCkgb24gU1ZHcyBzaW5jZSBpdCBnaXZlcyBpbmNvcnJlY3QgcmVzdWx0cyBpbiBqUXVlcnkgMy5cbiAgICAvLyBTZWUgaHR0cHM6Ly9naXRodWIuY29tL3R3YnMvYm9vdHN0cmFwL2lzc3Vlcy8yMDI4MFxuICAgIHZhciBlbE9mZnNldCAgPSBpc0JvZHkgPyB7IHRvcDogMCwgbGVmdDogMCB9IDogKGlzU3ZnID8gbnVsbCA6ICRlbGVtZW50Lm9mZnNldCgpKVxuICAgIHZhciBzY3JvbGwgICAgPSB7IHNjcm9sbDogaXNCb2R5ID8gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbFRvcCB8fCBkb2N1bWVudC5ib2R5LnNjcm9sbFRvcCA6ICRlbGVtZW50LnNjcm9sbFRvcCgpIH1cbiAgICB2YXIgb3V0ZXJEaW1zID0gaXNCb2R5ID8geyB3aWR0aDogJCh3aW5kb3cpLndpZHRoKCksIGhlaWdodDogJCh3aW5kb3cpLmhlaWdodCgpIH0gOiBudWxsXG5cbiAgICByZXR1cm4gJC5leHRlbmQoe30sIGVsUmVjdCwgc2Nyb2xsLCBvdXRlckRpbXMsIGVsT2Zmc2V0KVxuICB9XG5cbiAgVG9vbHRpcC5wcm90b3R5cGUuZ2V0Q2FsY3VsYXRlZE9mZnNldCA9IGZ1bmN0aW9uIChwbGFjZW1lbnQsIHBvcywgYWN0dWFsV2lkdGgsIGFjdHVhbEhlaWdodCkge1xuICAgIHJldHVybiBwbGFjZW1lbnQgPT0gJ2JvdHRvbScgPyB7IHRvcDogcG9zLnRvcCArIHBvcy5oZWlnaHQsICAgbGVmdDogcG9zLmxlZnQgKyBwb3Mud2lkdGggLyAyIC0gYWN0dWFsV2lkdGggLyAyIH0gOlxuICAgICAgICAgICBwbGFjZW1lbnQgPT0gJ3RvcCcgICAgPyB7IHRvcDogcG9zLnRvcCAtIGFjdHVhbEhlaWdodCwgbGVmdDogcG9zLmxlZnQgKyBwb3Mud2lkdGggLyAyIC0gYWN0dWFsV2lkdGggLyAyIH0gOlxuICAgICAgICAgICBwbGFjZW1lbnQgPT0gJ2xlZnQnICAgPyB7IHRvcDogcG9zLnRvcCArIHBvcy5oZWlnaHQgLyAyIC0gYWN0dWFsSGVpZ2h0IC8gMiwgbGVmdDogcG9zLmxlZnQgLSBhY3R1YWxXaWR0aCB9IDpcbiAgICAgICAgLyogcGxhY2VtZW50ID09ICdyaWdodCcgKi8geyB0b3A6IHBvcy50b3AgKyBwb3MuaGVpZ2h0IC8gMiAtIGFjdHVhbEhlaWdodCAvIDIsIGxlZnQ6IHBvcy5sZWZ0ICsgcG9zLndpZHRoIH1cblxuICB9XG5cbiAgVG9vbHRpcC5wcm90b3R5cGUuZ2V0Vmlld3BvcnRBZGp1c3RlZERlbHRhID0gZnVuY3Rpb24gKHBsYWNlbWVudCwgcG9zLCBhY3R1YWxXaWR0aCwgYWN0dWFsSGVpZ2h0KSB7XG4gICAgdmFyIGRlbHRhID0geyB0b3A6IDAsIGxlZnQ6IDAgfVxuICAgIGlmICghdGhpcy4kdmlld3BvcnQpIHJldHVybiBkZWx0YVxuXG4gICAgdmFyIHZpZXdwb3J0UGFkZGluZyA9IHRoaXMub3B0aW9ucy52aWV3cG9ydCAmJiB0aGlzLm9wdGlvbnMudmlld3BvcnQucGFkZGluZyB8fCAwXG4gICAgdmFyIHZpZXdwb3J0RGltZW5zaW9ucyA9IHRoaXMuZ2V0UG9zaXRpb24odGhpcy4kdmlld3BvcnQpXG5cbiAgICBpZiAoL3JpZ2h0fGxlZnQvLnRlc3QocGxhY2VtZW50KSkge1xuICAgICAgdmFyIHRvcEVkZ2VPZmZzZXQgICAgPSBwb3MudG9wIC0gdmlld3BvcnRQYWRkaW5nIC0gdmlld3BvcnREaW1lbnNpb25zLnNjcm9sbFxuICAgICAgdmFyIGJvdHRvbUVkZ2VPZmZzZXQgPSBwb3MudG9wICsgdmlld3BvcnRQYWRkaW5nIC0gdmlld3BvcnREaW1lbnNpb25zLnNjcm9sbCArIGFjdHVhbEhlaWdodFxuICAgICAgaWYgKHRvcEVkZ2VPZmZzZXQgPCB2aWV3cG9ydERpbWVuc2lvbnMudG9wKSB7IC8vIHRvcCBvdmVyZmxvd1xuICAgICAgICBkZWx0YS50b3AgPSB2aWV3cG9ydERpbWVuc2lvbnMudG9wIC0gdG9wRWRnZU9mZnNldFxuICAgICAgfSBlbHNlIGlmIChib3R0b21FZGdlT2Zmc2V0ID4gdmlld3BvcnREaW1lbnNpb25zLnRvcCArIHZpZXdwb3J0RGltZW5zaW9ucy5oZWlnaHQpIHsgLy8gYm90dG9tIG92ZXJmbG93XG4gICAgICAgIGRlbHRhLnRvcCA9IHZpZXdwb3J0RGltZW5zaW9ucy50b3AgKyB2aWV3cG9ydERpbWVuc2lvbnMuaGVpZ2h0IC0gYm90dG9tRWRnZU9mZnNldFxuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICB2YXIgbGVmdEVkZ2VPZmZzZXQgID0gcG9zLmxlZnQgLSB2aWV3cG9ydFBhZGRpbmdcbiAgICAgIHZhciByaWdodEVkZ2VPZmZzZXQgPSBwb3MubGVmdCArIHZpZXdwb3J0UGFkZGluZyArIGFjdHVhbFdpZHRoXG4gICAgICBpZiAobGVmdEVkZ2VPZmZzZXQgPCB2aWV3cG9ydERpbWVuc2lvbnMubGVmdCkgeyAvLyBsZWZ0IG92ZXJmbG93XG4gICAgICAgIGRlbHRhLmxlZnQgPSB2aWV3cG9ydERpbWVuc2lvbnMubGVmdCAtIGxlZnRFZGdlT2Zmc2V0XG4gICAgICB9IGVsc2UgaWYgKHJpZ2h0RWRnZU9mZnNldCA+IHZpZXdwb3J0RGltZW5zaW9ucy5yaWdodCkgeyAvLyByaWdodCBvdmVyZmxvd1xuICAgICAgICBkZWx0YS5sZWZ0ID0gdmlld3BvcnREaW1lbnNpb25zLmxlZnQgKyB2aWV3cG9ydERpbWVuc2lvbnMud2lkdGggLSByaWdodEVkZ2VPZmZzZXRcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gZGVsdGFcbiAgfVxuXG4gIFRvb2x0aXAucHJvdG90eXBlLmdldFRpdGxlID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciB0aXRsZVxuICAgIHZhciAkZSA9IHRoaXMuJGVsZW1lbnRcbiAgICB2YXIgbyAgPSB0aGlzLm9wdGlvbnNcblxuICAgIHRpdGxlID0gJGUuYXR0cignZGF0YS1vcmlnaW5hbC10aXRsZScpXG4gICAgICB8fCAodHlwZW9mIG8udGl0bGUgPT0gJ2Z1bmN0aW9uJyA/IG8udGl0bGUuY2FsbCgkZVswXSkgOiAgby50aXRsZSlcblxuICAgIHJldHVybiB0aXRsZVxuICB9XG5cbiAgVG9vbHRpcC5wcm90b3R5cGUuZ2V0VUlEID0gZnVuY3Rpb24gKHByZWZpeCkge1xuICAgIGRvIHByZWZpeCArPSB+fihNYXRoLnJhbmRvbSgpICogMTAwMDAwMClcbiAgICB3aGlsZSAoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQocHJlZml4KSlcbiAgICByZXR1cm4gcHJlZml4XG4gIH1cblxuICBUb29sdGlwLnByb3RvdHlwZS50aXAgPSBmdW5jdGlvbiAoKSB7XG4gICAgaWYgKCF0aGlzLiR0aXApIHtcbiAgICAgIHRoaXMuJHRpcCA9ICQodGhpcy5vcHRpb25zLnRlbXBsYXRlKVxuICAgICAgaWYgKHRoaXMuJHRpcC5sZW5ndGggIT0gMSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IodGhpcy50eXBlICsgJyBgdGVtcGxhdGVgIG9wdGlvbiBtdXN0IGNvbnNpc3Qgb2YgZXhhY3RseSAxIHRvcC1sZXZlbCBlbGVtZW50IScpXG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiB0aGlzLiR0aXBcbiAgfVxuXG4gIFRvb2x0aXAucHJvdG90eXBlLmFycm93ID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiAodGhpcy4kYXJyb3cgPSB0aGlzLiRhcnJvdyB8fCB0aGlzLnRpcCgpLmZpbmQoJy50b29sdGlwLWFycm93JykpXG4gIH1cblxuICBUb29sdGlwLnByb3RvdHlwZS5lbmFibGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgdGhpcy5lbmFibGVkID0gdHJ1ZVxuICB9XG5cbiAgVG9vbHRpcC5wcm90b3R5cGUuZGlzYWJsZSA9IGZ1bmN0aW9uICgpIHtcbiAgICB0aGlzLmVuYWJsZWQgPSBmYWxzZVxuICB9XG5cbiAgVG9vbHRpcC5wcm90b3R5cGUudG9nZ2xlRW5hYmxlZCA9IGZ1bmN0aW9uICgpIHtcbiAgICB0aGlzLmVuYWJsZWQgPSAhdGhpcy5lbmFibGVkXG4gIH1cblxuICBUb29sdGlwLnByb3RvdHlwZS50b2dnbGUgPSBmdW5jdGlvbiAoZSkge1xuICAgIHZhciBzZWxmID0gdGhpc1xuICAgIGlmIChlKSB7XG4gICAgICBzZWxmID0gJChlLmN1cnJlbnRUYXJnZXQpLmRhdGEoJ2JzLicgKyB0aGlzLnR5cGUpXG4gICAgICBpZiAoIXNlbGYpIHtcbiAgICAgICAgc2VsZiA9IG5ldyB0aGlzLmNvbnN0cnVjdG9yKGUuY3VycmVudFRhcmdldCwgdGhpcy5nZXREZWxlZ2F0ZU9wdGlvbnMoKSlcbiAgICAgICAgJChlLmN1cnJlbnRUYXJnZXQpLmRhdGEoJ2JzLicgKyB0aGlzLnR5cGUsIHNlbGYpXG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKGUpIHtcbiAgICAgIHNlbGYuaW5TdGF0ZS5jbGljayA9ICFzZWxmLmluU3RhdGUuY2xpY2tcbiAgICAgIGlmIChzZWxmLmlzSW5TdGF0ZVRydWUoKSkgc2VsZi5lbnRlcihzZWxmKVxuICAgICAgZWxzZSBzZWxmLmxlYXZlKHNlbGYpXG4gICAgfSBlbHNlIHtcbiAgICAgIHNlbGYudGlwKCkuaGFzQ2xhc3MoJ2luJykgPyBzZWxmLmxlYXZlKHNlbGYpIDogc2VsZi5lbnRlcihzZWxmKVxuICAgIH1cbiAgfVxuXG4gIFRvb2x0aXAucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIHRoYXQgPSB0aGlzXG4gICAgY2xlYXJUaW1lb3V0KHRoaXMudGltZW91dClcbiAgICB0aGlzLmhpZGUoZnVuY3Rpb24gKCkge1xuICAgICAgdGhhdC4kZWxlbWVudC5vZmYoJy4nICsgdGhhdC50eXBlKS5yZW1vdmVEYXRhKCdicy4nICsgdGhhdC50eXBlKVxuICAgICAgaWYgKHRoYXQuJHRpcCkge1xuICAgICAgICB0aGF0LiR0aXAuZGV0YWNoKClcbiAgICAgIH1cbiAgICAgIHRoYXQuJHRpcCA9IG51bGxcbiAgICAgIHRoYXQuJGFycm93ID0gbnVsbFxuICAgICAgdGhhdC4kdmlld3BvcnQgPSBudWxsXG4gICAgICB0aGF0LiRlbGVtZW50ID0gbnVsbFxuICAgIH0pXG4gIH1cblxuXG4gIC8vIFRPT0xUSVAgUExVR0lOIERFRklOSVRJT05cbiAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PVxuXG4gIGZ1bmN0aW9uIFBsdWdpbihvcHRpb24pIHtcbiAgICByZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciAkdGhpcyAgID0gJCh0aGlzKVxuICAgICAgdmFyIGRhdGEgICAgPSAkdGhpcy5kYXRhKCdicy50b29sdGlwJylcbiAgICAgIHZhciBvcHRpb25zID0gdHlwZW9mIG9wdGlvbiA9PSAnb2JqZWN0JyAmJiBvcHRpb25cblxuICAgICAgaWYgKCFkYXRhICYmIC9kZXN0cm95fGhpZGUvLnRlc3Qob3B0aW9uKSkgcmV0dXJuXG4gICAgICBpZiAoIWRhdGEpICR0aGlzLmRhdGEoJ2JzLnRvb2x0aXAnLCAoZGF0YSA9IG5ldyBUb29sdGlwKHRoaXMsIG9wdGlvbnMpKSlcbiAgICAgIGlmICh0eXBlb2Ygb3B0aW9uID09ICdzdHJpbmcnKSBkYXRhW29wdGlvbl0oKVxuICAgIH0pXG4gIH1cblxuICB2YXIgb2xkID0gJC5mbi50b29sdGlwXG5cbiAgJC5mbi50b29sdGlwICAgICAgICAgICAgID0gUGx1Z2luXG4gICQuZm4udG9vbHRpcC5Db25zdHJ1Y3RvciA9IFRvb2x0aXBcblxuXG4gIC8vIFRPT0xUSVAgTk8gQ09ORkxJQ1RcbiAgLy8gPT09PT09PT09PT09PT09PT09PVxuXG4gICQuZm4udG9vbHRpcC5ub0NvbmZsaWN0ID0gZnVuY3Rpb24gKCkge1xuICAgICQuZm4udG9vbHRpcCA9IG9sZFxuICAgIHJldHVybiB0aGlzXG4gIH1cblxufShqUXVlcnkpO1xuIiwiLyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKiBCb290c3RyYXA6IHRyYW5zaXRpb24uanMgdjMuMy43XG4gKiBodHRwOi8vZ2V0Ym9vdHN0cmFwLmNvbS9qYXZhc2NyaXB0LyN0cmFuc2l0aW9uc1xuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKiBDb3B5cmlnaHQgMjAxMS0yMDE2IFR3aXR0ZXIsIEluYy5cbiAqIExpY2Vuc2VkIHVuZGVyIE1JVCAoaHR0cHM6Ly9naXRodWIuY29tL3R3YnMvYm9vdHN0cmFwL2Jsb2IvbWFzdGVyL0xJQ0VOU0UpXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gKi9cblxuXG4rZnVuY3Rpb24gKCQpIHtcbiAgJ3VzZSBzdHJpY3QnO1xuXG4gIC8vIENTUyBUUkFOU0lUSU9OIFNVUFBPUlQgKFNob3V0b3V0OiBodHRwOi8vd3d3Lm1vZGVybml6ci5jb20vKVxuICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuICBmdW5jdGlvbiB0cmFuc2l0aW9uRW5kKCkge1xuICAgIHZhciBlbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2Jvb3RzdHJhcCcpXG5cbiAgICB2YXIgdHJhbnNFbmRFdmVudE5hbWVzID0ge1xuICAgICAgV2Via2l0VHJhbnNpdGlvbiA6ICd3ZWJraXRUcmFuc2l0aW9uRW5kJyxcbiAgICAgIE1velRyYW5zaXRpb24gICAgOiAndHJhbnNpdGlvbmVuZCcsXG4gICAgICBPVHJhbnNpdGlvbiAgICAgIDogJ29UcmFuc2l0aW9uRW5kIG90cmFuc2l0aW9uZW5kJyxcbiAgICAgIHRyYW5zaXRpb24gICAgICAgOiAndHJhbnNpdGlvbmVuZCdcbiAgICB9XG5cbiAgICBmb3IgKHZhciBuYW1lIGluIHRyYW5zRW5kRXZlbnROYW1lcykge1xuICAgICAgaWYgKGVsLnN0eWxlW25hbWVdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgcmV0dXJuIHsgZW5kOiB0cmFuc0VuZEV2ZW50TmFtZXNbbmFtZV0gfVxuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBmYWxzZSAvLyBleHBsaWNpdCBmb3IgaWU4ICggIC5fLilcbiAgfVxuXG4gIC8vIGh0dHA6Ly9ibG9nLmFsZXhtYWNjYXcuY29tL2Nzcy10cmFuc2l0aW9uc1xuICAkLmZuLmVtdWxhdGVUcmFuc2l0aW9uRW5kID0gZnVuY3Rpb24gKGR1cmF0aW9uKSB7XG4gICAgdmFyIGNhbGxlZCA9IGZhbHNlXG4gICAgdmFyICRlbCA9IHRoaXNcbiAgICAkKHRoaXMpLm9uZSgnYnNUcmFuc2l0aW9uRW5kJywgZnVuY3Rpb24gKCkgeyBjYWxsZWQgPSB0cnVlIH0pXG4gICAgdmFyIGNhbGxiYWNrID0gZnVuY3Rpb24gKCkgeyBpZiAoIWNhbGxlZCkgJCgkZWwpLnRyaWdnZXIoJC5zdXBwb3J0LnRyYW5zaXRpb24uZW5kKSB9XG4gICAgc2V0VGltZW91dChjYWxsYmFjaywgZHVyYXRpb24pXG4gICAgcmV0dXJuIHRoaXNcbiAgfVxuXG4gICQoZnVuY3Rpb24gKCkge1xuICAgICQuc3VwcG9ydC50cmFuc2l0aW9uID0gdHJhbnNpdGlvbkVuZCgpXG5cbiAgICBpZiAoISQuc3VwcG9ydC50cmFuc2l0aW9uKSByZXR1cm5cblxuICAgICQuZXZlbnQuc3BlY2lhbC5ic1RyYW5zaXRpb25FbmQgPSB7XG4gICAgICBiaW5kVHlwZTogJC5zdXBwb3J0LnRyYW5zaXRpb24uZW5kLFxuICAgICAgZGVsZWdhdGVUeXBlOiAkLnN1cHBvcnQudHJhbnNpdGlvbi5lbmQsXG4gICAgICBoYW5kbGU6IGZ1bmN0aW9uIChlKSB7XG4gICAgICAgIGlmICgkKGUudGFyZ2V0KS5pcyh0aGlzKSkgcmV0dXJuIGUuaGFuZGxlT2JqLmhhbmRsZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKVxuICAgICAgfVxuICAgIH1cbiAgfSlcblxufShqUXVlcnkpO1xuIiwiLyoqXHJcbiAqIENoZWNrbGlzdC1tb2RlbFxyXG4gKiBBbmd1bGFySlMgZGlyZWN0aXZlIGZvciBsaXN0IG9mIGNoZWNrYm94ZXNcclxuICogaHR0cHM6Ly9naXRodWIuY29tL3ZpdGFsZXRzL2NoZWNrbGlzdC1tb2RlbFxyXG4gKiBMaWNlbnNlOiBNSVQgaHR0cDovL29wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL01JVFxyXG4gKi9cclxuXHJcbiAvKiBjb21tb25qcyBwYWNrYWdlIG1hbmFnZXIgc3VwcG9ydCAoZWcgY29tcG9uZW50anMpICovXHJcbiBpZiAodHlwZW9mIG1vZHVsZSAhPT0gXCJ1bmRlZmluZWRcIiAmJiB0eXBlb2YgZXhwb3J0cyAhPT0gXCJ1bmRlZmluZWRcIiAmJiBtb2R1bGUuZXhwb3J0cyA9PT0gZXhwb3J0cyl7XHJcbiAgIG1vZHVsZS5leHBvcnRzID0gJ2NoZWNrbGlzdC1tb2RlbCc7XHJcbiB9XHJcblxyXG5hbmd1bGFyLm1vZHVsZSgnY2hlY2tsaXN0LW1vZGVsJywgW10pXHJcbi5kaXJlY3RpdmUoJ2NoZWNrbGlzdE1vZGVsJywgWyckcGFyc2UnLCAnJGNvbXBpbGUnLCBmdW5jdGlvbigkcGFyc2UsICRjb21waWxlKSB7XHJcbiAgLy8gY29udGFpbnNcclxuICBmdW5jdGlvbiBjb250YWlucyhhcnIsIGl0ZW0sIGNvbXBhcmF0b3IpIHtcclxuICAgIGlmIChhbmd1bGFyLmlzQXJyYXkoYXJyKSkge1xyXG4gICAgICBmb3IgKHZhciBpID0gYXJyLmxlbmd0aDsgaS0tOykge1xyXG4gICAgICAgIGlmIChjb21wYXJhdG9yKGFycltpXSwgaXRlbSkpIHtcclxuICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIGZhbHNlO1xyXG4gIH1cclxuXHJcbiAgLy8gYWRkXHJcbiAgZnVuY3Rpb24gYWRkKGFyciwgaXRlbSwgY29tcGFyYXRvcikge1xyXG4gICAgYXJyID0gYW5ndWxhci5pc0FycmF5KGFycikgPyBhcnIgOiBbXTtcclxuICAgICAgaWYoIWNvbnRhaW5zKGFyciwgaXRlbSwgY29tcGFyYXRvcikpIHtcclxuICAgICAgICAgIGFyci5wdXNoKGl0ZW0pO1xyXG4gICAgICB9XHJcbiAgICByZXR1cm4gYXJyO1xyXG4gIH1cclxuXHJcbiAgLy8gcmVtb3ZlXHJcbiAgZnVuY3Rpb24gcmVtb3ZlKGFyciwgaXRlbSwgY29tcGFyYXRvcikge1xyXG4gICAgaWYgKGFuZ3VsYXIuaXNBcnJheShhcnIpKSB7XHJcbiAgICAgIGZvciAodmFyIGkgPSBhcnIubGVuZ3RoOyBpLS07KSB7XHJcbiAgICAgICAgaWYgKGNvbXBhcmF0b3IoYXJyW2ldLCBpdGVtKSkge1xyXG4gICAgICAgICAgYXJyLnNwbGljZShpLCAxKTtcclxuICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIGFycjtcclxuICB9XHJcblxyXG4gIC8vIGh0dHA6Ly9zdGFja292ZXJmbG93LmNvbS9hLzE5MjI4MzAyLzE0NTgxNjJcclxuICBmdW5jdGlvbiBwb3N0TGlua0ZuKHNjb3BlLCBlbGVtLCBhdHRycykge1xyXG4gICAgIC8vIGV4Y2x1ZGUgcmVjdXJzaW9uLCBidXQgc3RpbGwga2VlcCB0aGUgbW9kZWxcclxuICAgIHZhciBjaGVja2xpc3RNb2RlbCA9IGF0dHJzLmNoZWNrbGlzdE1vZGVsO1xyXG4gICAgYXR0cnMuJHNldChcImNoZWNrbGlzdE1vZGVsXCIsIG51bGwpO1xyXG4gICAgLy8gY29tcGlsZSB3aXRoIGBuZy1tb2RlbGAgcG9pbnRpbmcgdG8gYGNoZWNrZWRgXHJcbiAgICAkY29tcGlsZShlbGVtKShzY29wZSk7XHJcbiAgICBhdHRycy4kc2V0KFwiY2hlY2tsaXN0TW9kZWxcIiwgY2hlY2tsaXN0TW9kZWwpO1xyXG5cclxuICAgIC8vIGdldHRlciBmb3Igb3JpZ2luYWwgbW9kZWxcclxuICAgIHZhciBjaGVja2xpc3RNb2RlbEdldHRlciA9ICRwYXJzZShjaGVja2xpc3RNb2RlbCk7XHJcbiAgICB2YXIgY2hlY2tsaXN0Q2hhbmdlID0gJHBhcnNlKGF0dHJzLmNoZWNrbGlzdENoYW5nZSk7XHJcbiAgICB2YXIgY2hlY2tsaXN0QmVmb3JlQ2hhbmdlID0gJHBhcnNlKGF0dHJzLmNoZWNrbGlzdEJlZm9yZUNoYW5nZSk7XHJcbiAgICB2YXIgbmdNb2RlbEdldHRlciA9ICRwYXJzZShhdHRycy5uZ01vZGVsKTtcclxuXHJcblxyXG5cclxuICAgIHZhciBjb21wYXJhdG9yID0gYW5ndWxhci5lcXVhbHM7XHJcblxyXG4gICAgaWYgKGF0dHJzLmhhc093blByb3BlcnR5KCdjaGVja2xpc3RDb21wYXJhdG9yJykpe1xyXG4gICAgICBpZiAoYXR0cnMuY2hlY2tsaXN0Q29tcGFyYXRvclswXSA9PSAnLicpIHtcclxuICAgICAgICB2YXIgY29tcGFyYXRvckV4cHJlc3Npb24gPSBhdHRycy5jaGVja2xpc3RDb21wYXJhdG9yLnN1YnN0cmluZygxKTtcclxuICAgICAgICBjb21wYXJhdG9yID0gZnVuY3Rpb24gKGEsIGIpIHtcclxuICAgICAgICAgIHJldHVybiBhW2NvbXBhcmF0b3JFeHByZXNzaW9uXSA9PT0gYltjb21wYXJhdG9yRXhwcmVzc2lvbl07XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgY29tcGFyYXRvciA9ICRwYXJzZShhdHRycy5jaGVja2xpc3RDb21wYXJhdG9yKShzY29wZS4kcGFyZW50KTtcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8vIHdhdGNoIFVJIGNoZWNrZWQgY2hhbmdlXHJcbiAgICB2YXIgdW5iaW5kTW9kZWwgPSBzY29wZS4kd2F0Y2goYXR0cnMubmdNb2RlbCwgZnVuY3Rpb24obmV3VmFsdWUsIG9sZFZhbHVlKSB7XHJcbiAgICAgIGlmIChuZXdWYWx1ZSA9PT0gb2xkVmFsdWUpIHtcclxuICAgICAgICByZXR1cm47XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGlmIChjaGVja2xpc3RCZWZvcmVDaGFuZ2UgJiYgKGNoZWNrbGlzdEJlZm9yZUNoYW5nZShzY29wZSkgPT09IGZhbHNlKSkge1xyXG4gICAgICAgIG5nTW9kZWxHZXR0ZXIuYXNzaWduKHNjb3BlLCBjb250YWlucyhjaGVja2xpc3RNb2RlbEdldHRlcihzY29wZS4kcGFyZW50KSwgZ2V0Q2hlY2tsaXN0VmFsdWUoKSwgY29tcGFyYXRvcikpO1xyXG4gICAgICAgIHJldHVybjtcclxuICAgICAgfVxyXG5cclxuICAgICAgc2V0VmFsdWVJbkNoZWNrbGlzdE1vZGVsKGdldENoZWNrbGlzdFZhbHVlKCksIG5ld1ZhbHVlKTtcclxuXHJcbiAgICAgIGlmIChjaGVja2xpc3RDaGFuZ2UpIHtcclxuICAgICAgICBjaGVja2xpc3RDaGFuZ2Uoc2NvcGUpO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuXHJcbiAgICAvLyB3YXRjaGVzIGZvciB2YWx1ZSBjaGFuZ2Ugb2YgY2hlY2tsaXN0VmFsdWVcclxuICAgIHZhciB1bmJpbmRDaGVja0xpc3RWYWx1ZSA9IHNjb3BlLiR3YXRjaChnZXRDaGVja2xpc3RWYWx1ZSwgZnVuY3Rpb24obmV3VmFsdWUsIG9sZFZhbHVlKSB7XHJcbiAgICAgIGlmKCBuZXdWYWx1ZSAhPSBvbGRWYWx1ZSAmJiBhbmd1bGFyLmlzRGVmaW5lZChvbGRWYWx1ZSkgJiYgc2NvcGVbYXR0cnMubmdNb2RlbF0gPT09IHRydWUgKSB7XHJcbiAgICAgICAgdmFyIGN1cnJlbnQgPSBjaGVja2xpc3RNb2RlbEdldHRlcihzY29wZS4kcGFyZW50KTtcclxuICAgICAgICBjaGVja2xpc3RNb2RlbEdldHRlci5hc3NpZ24oc2NvcGUuJHBhcmVudCwgcmVtb3ZlKGN1cnJlbnQsIG9sZFZhbHVlLCBjb21wYXJhdG9yKSk7XHJcbiAgICAgICAgY2hlY2tsaXN0TW9kZWxHZXR0ZXIuYXNzaWduKHNjb3BlLiRwYXJlbnQsIGFkZChjdXJyZW50LCBuZXdWYWx1ZSwgY29tcGFyYXRvcikpO1xyXG4gICAgICB9XHJcbiAgICB9LCB0cnVlKTtcclxuXHJcbiAgICB2YXIgdW5iaW5kRGVzdHJveSA9IHNjb3BlLiRvbignJGRlc3Ryb3knLCBkZXN0cm95KTtcclxuXHJcbiAgICBmdW5jdGlvbiBkZXN0cm95KCkge1xyXG4gICAgICB1bmJpbmRNb2RlbCgpO1xyXG4gICAgICB1bmJpbmRDaGVja0xpc3RWYWx1ZSgpO1xyXG4gICAgICB1bmJpbmREZXN0cm95KCk7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gZ2V0Q2hlY2tsaXN0VmFsdWUoKSB7XHJcbiAgICAgIHJldHVybiBhdHRycy5jaGVja2xpc3RWYWx1ZSA/ICRwYXJzZShhdHRycy5jaGVja2xpc3RWYWx1ZSkoc2NvcGUuJHBhcmVudCkgOiBhdHRycy52YWx1ZTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBzZXRWYWx1ZUluQ2hlY2tsaXN0TW9kZWwodmFsdWUsIGNoZWNrZWQpIHtcclxuICAgICAgdmFyIGN1cnJlbnQgPSBjaGVja2xpc3RNb2RlbEdldHRlcihzY29wZS4kcGFyZW50KTtcclxuICAgICAgaWYgKGFuZ3VsYXIuaXNGdW5jdGlvbihjaGVja2xpc3RNb2RlbEdldHRlci5hc3NpZ24pKSB7XHJcbiAgICAgICAgaWYgKGNoZWNrZWQgPT09IHRydWUpIHtcclxuICAgICAgICAgIGNoZWNrbGlzdE1vZGVsR2V0dGVyLmFzc2lnbihzY29wZS4kcGFyZW50LCBhZGQoY3VycmVudCwgdmFsdWUsIGNvbXBhcmF0b3IpKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgY2hlY2tsaXN0TW9kZWxHZXR0ZXIuYXNzaWduKHNjb3BlLiRwYXJlbnQsIHJlbW92ZShjdXJyZW50LCB2YWx1ZSwgY29tcGFyYXRvcikpO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG5cclxuICAgIH1cclxuXHJcbiAgICAvLyBkZWNsYXJlIG9uZSBmdW5jdGlvbiB0byBiZSB1c2VkIGZvciBib3RoICR3YXRjaCBmdW5jdGlvbnNcclxuICAgIGZ1bmN0aW9uIHNldENoZWNrZWQobmV3QXJyLCBvbGRBcnIpIHtcclxuICAgICAgaWYgKGNoZWNrbGlzdEJlZm9yZUNoYW5nZSAmJiAoY2hlY2tsaXN0QmVmb3JlQ2hhbmdlKHNjb3BlKSA9PT0gZmFsc2UpKSB7XHJcbiAgICAgICAgc2V0VmFsdWVJbkNoZWNrbGlzdE1vZGVsKGdldENoZWNrbGlzdFZhbHVlKCksIG5nTW9kZWxHZXR0ZXIoc2NvcGUpKTtcclxuICAgICAgICByZXR1cm47XHJcbiAgICAgIH1cclxuICAgICAgbmdNb2RlbEdldHRlci5hc3NpZ24oc2NvcGUsIGNvbnRhaW5zKG5ld0FyciwgZ2V0Q2hlY2tsaXN0VmFsdWUoKSwgY29tcGFyYXRvcikpO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIHdhdGNoIG9yaWdpbmFsIG1vZGVsIGNoYW5nZVxyXG4gICAgLy8gdXNlIHRoZSBmYXN0ZXIgJHdhdGNoQ29sbGVjdGlvbiBtZXRob2QgaWYgaXQncyBhdmFpbGFibGVcclxuICAgIGlmIChhbmd1bGFyLmlzRnVuY3Rpb24oc2NvcGUuJHBhcmVudC4kd2F0Y2hDb2xsZWN0aW9uKSkge1xyXG4gICAgICAgIHNjb3BlLiRwYXJlbnQuJHdhdGNoQ29sbGVjdGlvbihjaGVja2xpc3RNb2RlbCwgc2V0Q2hlY2tlZCk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAgIHNjb3BlLiRwYXJlbnQuJHdhdGNoKGNoZWNrbGlzdE1vZGVsLCBzZXRDaGVja2VkLCB0cnVlKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHJldHVybiB7XHJcbiAgICByZXN0cmljdDogJ0EnLFxyXG4gICAgcHJpb3JpdHk6IDEwMDAsXHJcbiAgICB0ZXJtaW5hbDogdHJ1ZSxcclxuICAgIHNjb3BlOiB0cnVlLFxyXG4gICAgY29tcGlsZTogZnVuY3Rpb24odEVsZW1lbnQsIHRBdHRycykge1xyXG5cclxuICAgICAgaWYgKCF0QXR0cnMuY2hlY2tsaXN0VmFsdWUgJiYgIXRBdHRycy52YWx1ZSkge1xyXG4gICAgICAgIHRocm93ICdZb3Ugc2hvdWxkIHByb3ZpZGUgYHZhbHVlYCBvciBgY2hlY2tsaXN0LXZhbHVlYC4nO1xyXG4gICAgICB9XHJcblxyXG4gICAgICAvLyBieSBkZWZhdWx0IG5nTW9kZWwgaXMgJ2NoZWNrZWQnLCBzbyB3ZSBzZXQgaXQgaWYgbm90IHNwZWNpZmllZFxyXG4gICAgICBpZiAoIXRBdHRycy5uZ01vZGVsKSB7XHJcbiAgICAgICAgLy8gbG9jYWwgc2NvcGUgdmFyIHN0b3JpbmcgaW5kaXZpZHVhbCBjaGVja2JveCBtb2RlbFxyXG4gICAgICAgIHRBdHRycy4kc2V0KFwibmdNb2RlbFwiLCBcImNoZWNrZWRcIik7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHJldHVybiBwb3N0TGlua0ZuO1xyXG4gICAgfVxyXG4gIH07XHJcbn1dKTtcclxuIiwiLy8hIG1vbWVudC5qcyBsb2NhbGUgY29uZmlndXJhdGlvblxuLy8hIGxvY2FsZSA6IENoaW5lc2UgKENoaW5hKSBbemgtY25dXG4vLyEgYXV0aG9yIDogc3V1cGljIDogaHR0cHM6Ly9naXRodWIuY29tL3N1dXBpY1xuLy8hIGF1dGhvciA6IFplbm8gWmVuZyA6IGh0dHBzOi8vZ2l0aHViLmNvbS96ZW5vemVuZ1xuXG47KGZ1bmN0aW9uIChnbG9iYWwsIGZhY3RvcnkpIHtcbiAgIHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0JyAmJiB0eXBlb2YgbW9kdWxlICE9PSAndW5kZWZpbmVkJ1xuICAgICAgICYmIHR5cGVvZiByZXF1aXJlID09PSAnZnVuY3Rpb24nID8gZmFjdG9yeShyZXF1aXJlKCcuLi9tb21lbnQnKSkgOlxuICAgdHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kID8gZGVmaW5lKFsnLi4vbW9tZW50J10sIGZhY3RvcnkpIDpcbiAgIGZhY3RvcnkoZ2xvYmFsLm1vbWVudClcbn0odGhpcywgKGZ1bmN0aW9uIChtb21lbnQpIHsgJ3VzZSBzdHJpY3QnO1xuXG5cbnZhciB6aENuID0gbW9tZW50LmRlZmluZUxvY2FsZSgnemgtY24nLCB7XG4gICAgbW9udGhzIDogJ+S4gOaciF/kuozmnIhf5LiJ5pyIX+Wbm+aciF/kupTmnIhf5YWt5pyIX+S4g+aciF/lhavmnIhf5Lmd5pyIX+WNgeaciF/ljYHkuIDmnIhf5Y2B5LqM5pyIJy5zcGxpdCgnXycpLFxuICAgIG1vbnRoc1Nob3J0IDogJzHmnIhfMuaciF8z5pyIXzTmnIhfNeaciF825pyIXzfmnIhfOOaciF855pyIXzEw5pyIXzEx5pyIXzEy5pyIJy5zcGxpdCgnXycpLFxuICAgIHdlZWtkYXlzIDogJ+aYn+acn+aXpV/mmJ/mnJ/kuIBf5pif5pyf5LqMX+aYn+acn+S4iV/mmJ/mnJ/lm5tf5pif5pyf5LqUX+aYn+acn+WFrScuc3BsaXQoJ18nKSxcbiAgICB3ZWVrZGF5c1Nob3J0IDogJ+WRqOaXpV/lkajkuIBf5ZGo5LqMX+WRqOS4iV/lkajlm5tf5ZGo5LqUX+WRqOWFrScuc3BsaXQoJ18nKSxcbiAgICB3ZWVrZGF5c01pbiA6ICfml6Vf5LiAX+S6jF/kuIlf5ZubX+S6lF/lha0nLnNwbGl0KCdfJyksXG4gICAgbG9uZ0RhdGVGb3JtYXQgOiB7XG4gICAgICAgIExUIDogJ0Fo54K5bW3liIYnLFxuICAgICAgICBMVFMgOiAnQWjngrlt5YiGc+enkicsXG4gICAgICAgIEwgOiAnWVlZWS1NTS1ERCcsXG4gICAgICAgIExMIDogJ1lZWVnlubRNTU1E5pelJyxcbiAgICAgICAgTExMIDogJ1lZWVnlubRNTU1E5pelQWjngrltbeWIhicsXG4gICAgICAgIExMTEwgOiAnWVlZWeW5tE1NTUTml6VkZGRkQWjngrltbeWIhicsXG4gICAgICAgIGwgOiAnWVlZWS1NTS1ERCcsXG4gICAgICAgIGxsIDogJ1lZWVnlubRNTU1E5pelJyxcbiAgICAgICAgbGxsIDogJ1lZWVnlubRNTU1E5pelQWjngrltbeWIhicsXG4gICAgICAgIGxsbGwgOiAnWVlZWeW5tE1NTUTml6VkZGRkQWjngrltbeWIhidcbiAgICB9LFxuICAgIG1lcmlkaWVtUGFyc2U6IC/lh4zmmah85pep5LiKfOS4iuWNiHzkuK3ljYh85LiL5Y2IfOaZmuS4ii8sXG4gICAgbWVyaWRpZW1Ib3VyOiBmdW5jdGlvbiAoaG91ciwgbWVyaWRpZW0pIHtcbiAgICAgICAgaWYgKGhvdXIgPT09IDEyKSB7XG4gICAgICAgICAgICBob3VyID0gMDtcbiAgICAgICAgfVxuICAgICAgICBpZiAobWVyaWRpZW0gPT09ICflh4zmmagnIHx8IG1lcmlkaWVtID09PSAn5pep5LiKJyB8fFxuICAgICAgICAgICAgICAgIG1lcmlkaWVtID09PSAn5LiK5Y2IJykge1xuICAgICAgICAgICAgcmV0dXJuIGhvdXI7XG4gICAgICAgIH0gZWxzZSBpZiAobWVyaWRpZW0gPT09ICfkuIvljYgnIHx8IG1lcmlkaWVtID09PSAn5pma5LiKJykge1xuICAgICAgICAgICAgcmV0dXJuIGhvdXIgKyAxMjtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vICfkuK3ljYgnXG4gICAgICAgICAgICByZXR1cm4gaG91ciA+PSAxMSA/IGhvdXIgOiBob3VyICsgMTI7XG4gICAgICAgIH1cbiAgICB9LFxuICAgIG1lcmlkaWVtIDogZnVuY3Rpb24gKGhvdXIsIG1pbnV0ZSwgaXNMb3dlcikge1xuICAgICAgICB2YXIgaG0gPSBob3VyICogMTAwICsgbWludXRlO1xuICAgICAgICBpZiAoaG0gPCA2MDApIHtcbiAgICAgICAgICAgIHJldHVybiAn5YeM5pmoJztcbiAgICAgICAgfSBlbHNlIGlmIChobSA8IDkwMCkge1xuICAgICAgICAgICAgcmV0dXJuICfml6nkuIonO1xuICAgICAgICB9IGVsc2UgaWYgKGhtIDwgMTEzMCkge1xuICAgICAgICAgICAgcmV0dXJuICfkuIrljYgnO1xuICAgICAgICB9IGVsc2UgaWYgKGhtIDwgMTIzMCkge1xuICAgICAgICAgICAgcmV0dXJuICfkuK3ljYgnO1xuICAgICAgICB9IGVsc2UgaWYgKGhtIDwgMTgwMCkge1xuICAgICAgICAgICAgcmV0dXJuICfkuIvljYgnO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuICfmmZrkuIonO1xuICAgICAgICB9XG4gICAgfSxcbiAgICBjYWxlbmRhciA6IHtcbiAgICAgICAgc2FtZURheSA6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLm1pbnV0ZXMoKSA9PT0gMCA/ICdb5LuK5aSpXUFoW+eCueaVtF0nIDogJ1vku4rlpKldTFQnO1xuICAgICAgICB9LFxuICAgICAgICBuZXh0RGF5IDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMubWludXRlcygpID09PSAwID8gJ1vmmI7lpKldQWhb54K55pW0XScgOiAnW+aYjuWkqV1MVCc7XG4gICAgICAgIH0sXG4gICAgICAgIGxhc3REYXkgOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5taW51dGVzKCkgPT09IDAgPyAnW+aYqOWkqV1BaFvngrnmlbRdJyA6ICdb5pio5aSpXUxUJztcbiAgICAgICAgfSxcbiAgICAgICAgbmV4dFdlZWsgOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgc3RhcnRPZldlZWssIHByZWZpeDtcbiAgICAgICAgICAgIHN0YXJ0T2ZXZWVrID0gbW9tZW50KCkuc3RhcnRPZignd2VlaycpO1xuICAgICAgICAgICAgcHJlZml4ID0gdGhpcy5kaWZmKHN0YXJ0T2ZXZWVrLCAnZGF5cycpID49IDcgPyAnW+S4i10nIDogJ1vmnKxdJztcbiAgICAgICAgICAgIHJldHVybiB0aGlzLm1pbnV0ZXMoKSA9PT0gMCA/IHByZWZpeCArICdkZGRBaOeCueaVtCcgOiBwcmVmaXggKyAnZGRkQWjngrltbSc7XG4gICAgICAgIH0sXG4gICAgICAgIGxhc3RXZWVrIDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIHN0YXJ0T2ZXZWVrLCBwcmVmaXg7XG4gICAgICAgICAgICBzdGFydE9mV2VlayA9IG1vbWVudCgpLnN0YXJ0T2YoJ3dlZWsnKTtcbiAgICAgICAgICAgIHByZWZpeCA9IHRoaXMudW5peCgpIDwgc3RhcnRPZldlZWsudW5peCgpICA/ICdb5LiKXScgOiAnW+acrF0nO1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMubWludXRlcygpID09PSAwID8gcHJlZml4ICsgJ2RkZEFo54K55pW0JyA6IHByZWZpeCArICdkZGRBaOeCuW1tJztcbiAgICAgICAgfSxcbiAgICAgICAgc2FtZUVsc2UgOiAnTEwnXG4gICAgfSxcbiAgICBvcmRpbmFsUGFyc2U6IC9cXGR7MSwyfSjml6V85pyIfOWRqCkvLFxuICAgIG9yZGluYWwgOiBmdW5jdGlvbiAobnVtYmVyLCBwZXJpb2QpIHtcbiAgICAgICAgc3dpdGNoIChwZXJpb2QpIHtcbiAgICAgICAgICAgIGNhc2UgJ2QnOlxuICAgICAgICAgICAgY2FzZSAnRCc6XG4gICAgICAgICAgICBjYXNlICdEREQnOlxuICAgICAgICAgICAgICAgIHJldHVybiBudW1iZXIgKyAn5pelJztcbiAgICAgICAgICAgIGNhc2UgJ00nOlxuICAgICAgICAgICAgICAgIHJldHVybiBudW1iZXIgKyAn5pyIJztcbiAgICAgICAgICAgIGNhc2UgJ3cnOlxuICAgICAgICAgICAgY2FzZSAnVyc6XG4gICAgICAgICAgICAgICAgcmV0dXJuIG51bWJlciArICflkagnO1xuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICByZXR1cm4gbnVtYmVyO1xuICAgICAgICB9XG4gICAgfSxcbiAgICByZWxhdGl2ZVRpbWUgOiB7XG4gICAgICAgIGZ1dHVyZSA6ICclc+WGhScsXG4gICAgICAgIHBhc3QgOiAnJXPliY0nLFxuICAgICAgICBzIDogJ+WHoOenkicsXG4gICAgICAgIG0gOiAnMSDliIbpkp8nLFxuICAgICAgICBtbSA6ICclZCDliIbpkp8nLFxuICAgICAgICBoIDogJzEg5bCP5pe2JyxcbiAgICAgICAgaGggOiAnJWQg5bCP5pe2JyxcbiAgICAgICAgZCA6ICcxIOWkqScsXG4gICAgICAgIGRkIDogJyVkIOWkqScsXG4gICAgICAgIE0gOiAnMSDkuKrmnIgnLFxuICAgICAgICBNTSA6ICclZCDkuKrmnIgnLFxuICAgICAgICB5IDogJzEg5bm0JyxcbiAgICAgICAgeXkgOiAnJWQg5bm0J1xuICAgIH0sXG4gICAgd2VlayA6IHtcbiAgICAgICAgLy8gR0IvVCA3NDA4LTE5OTTjgIrmlbDmja7lhYPlkozkuqTmjaLmoLzlvI/Ct+S/oeaBr+S6pOaNosK35pel5pyf5ZKM5pe26Ze06KGo56S65rOV44CL5LiOSVNPIDg2MDE6MTk4OOetieaViFxuICAgICAgICBkb3cgOiAxLCAvLyBNb25kYXkgaXMgdGhlIGZpcnN0IGRheSBvZiB0aGUgd2Vlay5cbiAgICAgICAgZG95IDogNCAgLy8gVGhlIHdlZWsgdGhhdCBjb250YWlucyBKYW4gNHRoIGlzIHRoZSBmaXJzdCB3ZWVrIG9mIHRoZSB5ZWFyLlxuICAgIH1cbn0pO1xuXG5yZXR1cm4gemhDbjtcblxufSkpKTtcbiIsIi8vISBtb21lbnQuanNcbi8vISB2ZXJzaW9uIDogMi4xNy4xXG4vLyEgYXV0aG9ycyA6IFRpbSBXb29kLCBJc2tyZW4gQ2hlcm5ldiwgTW9tZW50LmpzIGNvbnRyaWJ1dG9yc1xuLy8hIGxpY2Vuc2UgOiBNSVRcbi8vISBtb21lbnRqcy5jb21cblxuOyhmdW5jdGlvbiAoZ2xvYmFsLCBmYWN0b3J5KSB7XG4gICAgdHlwZW9mIGV4cG9ydHMgPT09ICdvYmplY3QnICYmIHR5cGVvZiBtb2R1bGUgIT09ICd1bmRlZmluZWQnID8gbW9kdWxlLmV4cG9ydHMgPSBmYWN0b3J5KCkgOlxuICAgIHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZCA/IGRlZmluZShmYWN0b3J5KSA6XG4gICAgZ2xvYmFsLm1vbWVudCA9IGZhY3RvcnkoKVxufSh0aGlzLCAoZnVuY3Rpb24gKCkgeyAndXNlIHN0cmljdCc7XG5cbnZhciBob29rQ2FsbGJhY2s7XG5cbmZ1bmN0aW9uIGhvb2tzICgpIHtcbiAgICByZXR1cm4gaG9va0NhbGxiYWNrLmFwcGx5KG51bGwsIGFyZ3VtZW50cyk7XG59XG5cbi8vIFRoaXMgaXMgZG9uZSB0byByZWdpc3RlciB0aGUgbWV0aG9kIGNhbGxlZCB3aXRoIG1vbWVudCgpXG4vLyB3aXRob3V0IGNyZWF0aW5nIGNpcmN1bGFyIGRlcGVuZGVuY2llcy5cbmZ1bmN0aW9uIHNldEhvb2tDYWxsYmFjayAoY2FsbGJhY2spIHtcbiAgICBob29rQ2FsbGJhY2sgPSBjYWxsYmFjaztcbn1cblxuZnVuY3Rpb24gaXNBcnJheShpbnB1dCkge1xuICAgIHJldHVybiBpbnB1dCBpbnN0YW5jZW9mIEFycmF5IHx8IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChpbnB1dCkgPT09ICdbb2JqZWN0IEFycmF5XSc7XG59XG5cbmZ1bmN0aW9uIGlzT2JqZWN0KGlucHV0KSB7XG4gICAgLy8gSUU4IHdpbGwgdHJlYXQgdW5kZWZpbmVkIGFuZCBudWxsIGFzIG9iamVjdCBpZiBpdCB3YXNuJ3QgZm9yXG4gICAgLy8gaW5wdXQgIT0gbnVsbFxuICAgIHJldHVybiBpbnB1dCAhPSBudWxsICYmIE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChpbnB1dCkgPT09ICdbb2JqZWN0IE9iamVjdF0nO1xufVxuXG5mdW5jdGlvbiBpc09iamVjdEVtcHR5KG9iaikge1xuICAgIHZhciBrO1xuICAgIGZvciAoayBpbiBvYmopIHtcbiAgICAgICAgLy8gZXZlbiBpZiBpdHMgbm90IG93biBwcm9wZXJ0eSBJJ2Qgc3RpbGwgY2FsbCBpdCBub24tZW1wdHlcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICByZXR1cm4gdHJ1ZTtcbn1cblxuZnVuY3Rpb24gaXNOdW1iZXIoaW5wdXQpIHtcbiAgICByZXR1cm4gdHlwZW9mIGlucHV0ID09PSAnbnVtYmVyJyB8fCBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoaW5wdXQpID09PSAnW29iamVjdCBOdW1iZXJdJztcbn1cblxuZnVuY3Rpb24gaXNEYXRlKGlucHV0KSB7XG4gICAgcmV0dXJuIGlucHV0IGluc3RhbmNlb2YgRGF0ZSB8fCBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoaW5wdXQpID09PSAnW29iamVjdCBEYXRlXSc7XG59XG5cbmZ1bmN0aW9uIG1hcChhcnIsIGZuKSB7XG4gICAgdmFyIHJlcyA9IFtdLCBpO1xuICAgIGZvciAoaSA9IDA7IGkgPCBhcnIubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgcmVzLnB1c2goZm4oYXJyW2ldLCBpKSk7XG4gICAgfVxuICAgIHJldHVybiByZXM7XG59XG5cbmZ1bmN0aW9uIGhhc093blByb3AoYSwgYikge1xuICAgIHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoYSwgYik7XG59XG5cbmZ1bmN0aW9uIGV4dGVuZChhLCBiKSB7XG4gICAgZm9yICh2YXIgaSBpbiBiKSB7XG4gICAgICAgIGlmIChoYXNPd25Qcm9wKGIsIGkpKSB7XG4gICAgICAgICAgICBhW2ldID0gYltpXTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGlmIChoYXNPd25Qcm9wKGIsICd0b1N0cmluZycpKSB7XG4gICAgICAgIGEudG9TdHJpbmcgPSBiLnRvU3RyaW5nO1xuICAgIH1cblxuICAgIGlmIChoYXNPd25Qcm9wKGIsICd2YWx1ZU9mJykpIHtcbiAgICAgICAgYS52YWx1ZU9mID0gYi52YWx1ZU9mO1xuICAgIH1cblxuICAgIHJldHVybiBhO1xufVxuXG5mdW5jdGlvbiBjcmVhdGVVVEMgKGlucHV0LCBmb3JtYXQsIGxvY2FsZSwgc3RyaWN0KSB7XG4gICAgcmV0dXJuIGNyZWF0ZUxvY2FsT3JVVEMoaW5wdXQsIGZvcm1hdCwgbG9jYWxlLCBzdHJpY3QsIHRydWUpLnV0YygpO1xufVxuXG5mdW5jdGlvbiBkZWZhdWx0UGFyc2luZ0ZsYWdzKCkge1xuICAgIC8vIFdlIG5lZWQgdG8gZGVlcCBjbG9uZSB0aGlzIG9iamVjdC5cbiAgICByZXR1cm4ge1xuICAgICAgICBlbXB0eSAgICAgICAgICAgOiBmYWxzZSxcbiAgICAgICAgdW51c2VkVG9rZW5zICAgIDogW10sXG4gICAgICAgIHVudXNlZElucHV0ICAgICA6IFtdLFxuICAgICAgICBvdmVyZmxvdyAgICAgICAgOiAtMixcbiAgICAgICAgY2hhcnNMZWZ0T3ZlciAgIDogMCxcbiAgICAgICAgbnVsbElucHV0ICAgICAgIDogZmFsc2UsXG4gICAgICAgIGludmFsaWRNb250aCAgICA6IG51bGwsXG4gICAgICAgIGludmFsaWRGb3JtYXQgICA6IGZhbHNlLFxuICAgICAgICB1c2VySW52YWxpZGF0ZWQgOiBmYWxzZSxcbiAgICAgICAgaXNvICAgICAgICAgICAgIDogZmFsc2UsXG4gICAgICAgIHBhcnNlZERhdGVQYXJ0cyA6IFtdLFxuICAgICAgICBtZXJpZGllbSAgICAgICAgOiBudWxsXG4gICAgfTtcbn1cblxuZnVuY3Rpb24gZ2V0UGFyc2luZ0ZsYWdzKG0pIHtcbiAgICBpZiAobS5fcGYgPT0gbnVsbCkge1xuICAgICAgICBtLl9wZiA9IGRlZmF1bHRQYXJzaW5nRmxhZ3MoKTtcbiAgICB9XG4gICAgcmV0dXJuIG0uX3BmO1xufVxuXG52YXIgc29tZTtcbmlmIChBcnJheS5wcm90b3R5cGUuc29tZSkge1xuICAgIHNvbWUgPSBBcnJheS5wcm90b3R5cGUuc29tZTtcbn0gZWxzZSB7XG4gICAgc29tZSA9IGZ1bmN0aW9uIChmdW4pIHtcbiAgICAgICAgdmFyIHQgPSBPYmplY3QodGhpcyk7XG4gICAgICAgIHZhciBsZW4gPSB0Lmxlbmd0aCA+Pj4gMDtcblxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgICAgICBpZiAoaSBpbiB0ICYmIGZ1bi5jYWxsKHRoaXMsIHRbaV0sIGksIHQpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfTtcbn1cblxudmFyIHNvbWUkMSA9IHNvbWU7XG5cbmZ1bmN0aW9uIGlzVmFsaWQobSkge1xuICAgIGlmIChtLl9pc1ZhbGlkID09IG51bGwpIHtcbiAgICAgICAgdmFyIGZsYWdzID0gZ2V0UGFyc2luZ0ZsYWdzKG0pO1xuICAgICAgICB2YXIgcGFyc2VkUGFydHMgPSBzb21lJDEuY2FsbChmbGFncy5wYXJzZWREYXRlUGFydHMsIGZ1bmN0aW9uIChpKSB7XG4gICAgICAgICAgICByZXR1cm4gaSAhPSBudWxsO1xuICAgICAgICB9KTtcbiAgICAgICAgdmFyIGlzTm93VmFsaWQgPSAhaXNOYU4obS5fZC5nZXRUaW1lKCkpICYmXG4gICAgICAgICAgICBmbGFncy5vdmVyZmxvdyA8IDAgJiZcbiAgICAgICAgICAgICFmbGFncy5lbXB0eSAmJlxuICAgICAgICAgICAgIWZsYWdzLmludmFsaWRNb250aCAmJlxuICAgICAgICAgICAgIWZsYWdzLmludmFsaWRXZWVrZGF5ICYmXG4gICAgICAgICAgICAhZmxhZ3MubnVsbElucHV0ICYmXG4gICAgICAgICAgICAhZmxhZ3MuaW52YWxpZEZvcm1hdCAmJlxuICAgICAgICAgICAgIWZsYWdzLnVzZXJJbnZhbGlkYXRlZCAmJlxuICAgICAgICAgICAgKCFmbGFncy5tZXJpZGllbSB8fCAoZmxhZ3MubWVyaWRpZW0gJiYgcGFyc2VkUGFydHMpKTtcblxuICAgICAgICBpZiAobS5fc3RyaWN0KSB7XG4gICAgICAgICAgICBpc05vd1ZhbGlkID0gaXNOb3dWYWxpZCAmJlxuICAgICAgICAgICAgICAgIGZsYWdzLmNoYXJzTGVmdE92ZXIgPT09IDAgJiZcbiAgICAgICAgICAgICAgICBmbGFncy51bnVzZWRUb2tlbnMubGVuZ3RoID09PSAwICYmXG4gICAgICAgICAgICAgICAgZmxhZ3MuYmlnSG91ciA9PT0gdW5kZWZpbmVkO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKE9iamVjdC5pc0Zyb3plbiA9PSBudWxsIHx8ICFPYmplY3QuaXNGcm96ZW4obSkpIHtcbiAgICAgICAgICAgIG0uX2lzVmFsaWQgPSBpc05vd1ZhbGlkO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIGlzTm93VmFsaWQ7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG0uX2lzVmFsaWQ7XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZUludmFsaWQgKGZsYWdzKSB7XG4gICAgdmFyIG0gPSBjcmVhdGVVVEMoTmFOKTtcbiAgICBpZiAoZmxhZ3MgIT0gbnVsbCkge1xuICAgICAgICBleHRlbmQoZ2V0UGFyc2luZ0ZsYWdzKG0pLCBmbGFncyk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBnZXRQYXJzaW5nRmxhZ3MobSkudXNlckludmFsaWRhdGVkID0gdHJ1ZTtcbiAgICB9XG5cbiAgICByZXR1cm4gbTtcbn1cblxuZnVuY3Rpb24gaXNVbmRlZmluZWQoaW5wdXQpIHtcbiAgICByZXR1cm4gaW5wdXQgPT09IHZvaWQgMDtcbn1cblxuLy8gUGx1Z2lucyB0aGF0IGFkZCBwcm9wZXJ0aWVzIHNob3VsZCBhbHNvIGFkZCB0aGUga2V5IGhlcmUgKG51bGwgdmFsdWUpLFxuLy8gc28gd2UgY2FuIHByb3Blcmx5IGNsb25lIG91cnNlbHZlcy5cbnZhciBtb21lbnRQcm9wZXJ0aWVzID0gaG9va3MubW9tZW50UHJvcGVydGllcyA9IFtdO1xuXG5mdW5jdGlvbiBjb3B5Q29uZmlnKHRvLCBmcm9tKSB7XG4gICAgdmFyIGksIHByb3AsIHZhbDtcblxuICAgIGlmICghaXNVbmRlZmluZWQoZnJvbS5faXNBTW9tZW50T2JqZWN0KSkge1xuICAgICAgICB0by5faXNBTW9tZW50T2JqZWN0ID0gZnJvbS5faXNBTW9tZW50T2JqZWN0O1xuICAgIH1cbiAgICBpZiAoIWlzVW5kZWZpbmVkKGZyb20uX2kpKSB7XG4gICAgICAgIHRvLl9pID0gZnJvbS5faTtcbiAgICB9XG4gICAgaWYgKCFpc1VuZGVmaW5lZChmcm9tLl9mKSkge1xuICAgICAgICB0by5fZiA9IGZyb20uX2Y7XG4gICAgfVxuICAgIGlmICghaXNVbmRlZmluZWQoZnJvbS5fbCkpIHtcbiAgICAgICAgdG8uX2wgPSBmcm9tLl9sO1xuICAgIH1cbiAgICBpZiAoIWlzVW5kZWZpbmVkKGZyb20uX3N0cmljdCkpIHtcbiAgICAgICAgdG8uX3N0cmljdCA9IGZyb20uX3N0cmljdDtcbiAgICB9XG4gICAgaWYgKCFpc1VuZGVmaW5lZChmcm9tLl90em0pKSB7XG4gICAgICAgIHRvLl90em0gPSBmcm9tLl90em07XG4gICAgfVxuICAgIGlmICghaXNVbmRlZmluZWQoZnJvbS5faXNVVEMpKSB7XG4gICAgICAgIHRvLl9pc1VUQyA9IGZyb20uX2lzVVRDO1xuICAgIH1cbiAgICBpZiAoIWlzVW5kZWZpbmVkKGZyb20uX29mZnNldCkpIHtcbiAgICAgICAgdG8uX29mZnNldCA9IGZyb20uX29mZnNldDtcbiAgICB9XG4gICAgaWYgKCFpc1VuZGVmaW5lZChmcm9tLl9wZikpIHtcbiAgICAgICAgdG8uX3BmID0gZ2V0UGFyc2luZ0ZsYWdzKGZyb20pO1xuICAgIH1cbiAgICBpZiAoIWlzVW5kZWZpbmVkKGZyb20uX2xvY2FsZSkpIHtcbiAgICAgICAgdG8uX2xvY2FsZSA9IGZyb20uX2xvY2FsZTtcbiAgICB9XG5cbiAgICBpZiAobW9tZW50UHJvcGVydGllcy5sZW5ndGggPiAwKSB7XG4gICAgICAgIGZvciAoaSBpbiBtb21lbnRQcm9wZXJ0aWVzKSB7XG4gICAgICAgICAgICBwcm9wID0gbW9tZW50UHJvcGVydGllc1tpXTtcbiAgICAgICAgICAgIHZhbCA9IGZyb21bcHJvcF07XG4gICAgICAgICAgICBpZiAoIWlzVW5kZWZpbmVkKHZhbCkpIHtcbiAgICAgICAgICAgICAgICB0b1twcm9wXSA9IHZhbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiB0bztcbn1cblxudmFyIHVwZGF0ZUluUHJvZ3Jlc3MgPSBmYWxzZTtcblxuLy8gTW9tZW50IHByb3RvdHlwZSBvYmplY3RcbmZ1bmN0aW9uIE1vbWVudChjb25maWcpIHtcbiAgICBjb3B5Q29uZmlnKHRoaXMsIGNvbmZpZyk7XG4gICAgdGhpcy5fZCA9IG5ldyBEYXRlKGNvbmZpZy5fZCAhPSBudWxsID8gY29uZmlnLl9kLmdldFRpbWUoKSA6IE5hTik7XG4gICAgaWYgKCF0aGlzLmlzVmFsaWQoKSkge1xuICAgICAgICB0aGlzLl9kID0gbmV3IERhdGUoTmFOKTtcbiAgICB9XG4gICAgLy8gUHJldmVudCBpbmZpbml0ZSBsb29wIGluIGNhc2UgdXBkYXRlT2Zmc2V0IGNyZWF0ZXMgbmV3IG1vbWVudFxuICAgIC8vIG9iamVjdHMuXG4gICAgaWYgKHVwZGF0ZUluUHJvZ3Jlc3MgPT09IGZhbHNlKSB7XG4gICAgICAgIHVwZGF0ZUluUHJvZ3Jlc3MgPSB0cnVlO1xuICAgICAgICBob29rcy51cGRhdGVPZmZzZXQodGhpcyk7XG4gICAgICAgIHVwZGF0ZUluUHJvZ3Jlc3MgPSBmYWxzZTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIGlzTW9tZW50IChvYmopIHtcbiAgICByZXR1cm4gb2JqIGluc3RhbmNlb2YgTW9tZW50IHx8IChvYmogIT0gbnVsbCAmJiBvYmouX2lzQU1vbWVudE9iamVjdCAhPSBudWxsKTtcbn1cblxuZnVuY3Rpb24gYWJzRmxvb3IgKG51bWJlcikge1xuICAgIGlmIChudW1iZXIgPCAwKSB7XG4gICAgICAgIC8vIC0wIC0+IDBcbiAgICAgICAgcmV0dXJuIE1hdGguY2VpbChudW1iZXIpIHx8IDA7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIE1hdGguZmxvb3IobnVtYmVyKTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIHRvSW50KGFyZ3VtZW50Rm9yQ29lcmNpb24pIHtcbiAgICB2YXIgY29lcmNlZE51bWJlciA9ICthcmd1bWVudEZvckNvZXJjaW9uLFxuICAgICAgICB2YWx1ZSA9IDA7XG5cbiAgICBpZiAoY29lcmNlZE51bWJlciAhPT0gMCAmJiBpc0Zpbml0ZShjb2VyY2VkTnVtYmVyKSkge1xuICAgICAgICB2YWx1ZSA9IGFic0Zsb29yKGNvZXJjZWROdW1iZXIpO1xuICAgIH1cblxuICAgIHJldHVybiB2YWx1ZTtcbn1cblxuLy8gY29tcGFyZSB0d28gYXJyYXlzLCByZXR1cm4gdGhlIG51bWJlciBvZiBkaWZmZXJlbmNlc1xuZnVuY3Rpb24gY29tcGFyZUFycmF5cyhhcnJheTEsIGFycmF5MiwgZG9udENvbnZlcnQpIHtcbiAgICB2YXIgbGVuID0gTWF0aC5taW4oYXJyYXkxLmxlbmd0aCwgYXJyYXkyLmxlbmd0aCksXG4gICAgICAgIGxlbmd0aERpZmYgPSBNYXRoLmFicyhhcnJheTEubGVuZ3RoIC0gYXJyYXkyLmxlbmd0aCksXG4gICAgICAgIGRpZmZzID0gMCxcbiAgICAgICAgaTtcbiAgICBmb3IgKGkgPSAwOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgaWYgKChkb250Q29udmVydCAmJiBhcnJheTFbaV0gIT09IGFycmF5MltpXSkgfHxcbiAgICAgICAgICAgICghZG9udENvbnZlcnQgJiYgdG9JbnQoYXJyYXkxW2ldKSAhPT0gdG9JbnQoYXJyYXkyW2ldKSkpIHtcbiAgICAgICAgICAgIGRpZmZzKys7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGRpZmZzICsgbGVuZ3RoRGlmZjtcbn1cblxuZnVuY3Rpb24gd2Fybihtc2cpIHtcbiAgICBpZiAoaG9va3Muc3VwcHJlc3NEZXByZWNhdGlvbldhcm5pbmdzID09PSBmYWxzZSAmJlxuICAgICAgICAgICAgKHR5cGVvZiBjb25zb2xlICE9PSAgJ3VuZGVmaW5lZCcpICYmIGNvbnNvbGUud2Fybikge1xuICAgICAgICBjb25zb2xlLndhcm4oJ0RlcHJlY2F0aW9uIHdhcm5pbmc6ICcgKyBtc2cpO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gZGVwcmVjYXRlKG1zZywgZm4pIHtcbiAgICB2YXIgZmlyc3RUaW1lID0gdHJ1ZTtcblxuICAgIHJldHVybiBleHRlbmQoZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAoaG9va3MuZGVwcmVjYXRpb25IYW5kbGVyICE9IG51bGwpIHtcbiAgICAgICAgICAgIGhvb2tzLmRlcHJlY2F0aW9uSGFuZGxlcihudWxsLCBtc2cpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChmaXJzdFRpbWUpIHtcbiAgICAgICAgICAgIHZhciBhcmdzID0gW107XG4gICAgICAgICAgICB2YXIgYXJnO1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICBhcmcgPSAnJztcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGFyZ3VtZW50c1tpXSA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgICAgICAgICAgICAgYXJnICs9ICdcXG5bJyArIGkgKyAnXSAnO1xuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBrZXkgaW4gYXJndW1lbnRzWzBdKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBhcmcgKz0ga2V5ICsgJzogJyArIGFyZ3VtZW50c1swXVtrZXldICsgJywgJztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBhcmcgPSBhcmcuc2xpY2UoMCwgLTIpOyAvLyBSZW1vdmUgdHJhaWxpbmcgY29tbWEgYW5kIHNwYWNlXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgYXJnID0gYXJndW1lbnRzW2ldO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBhcmdzLnB1c2goYXJnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHdhcm4obXNnICsgJ1xcbkFyZ3VtZW50czogJyArIEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3MpLmpvaW4oJycpICsgJ1xcbicgKyAobmV3IEVycm9yKCkpLnN0YWNrKTtcbiAgICAgICAgICAgIGZpcnN0VGltZSA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgIH0sIGZuKTtcbn1cblxudmFyIGRlcHJlY2F0aW9ucyA9IHt9O1xuXG5mdW5jdGlvbiBkZXByZWNhdGVTaW1wbGUobmFtZSwgbXNnKSB7XG4gICAgaWYgKGhvb2tzLmRlcHJlY2F0aW9uSGFuZGxlciAhPSBudWxsKSB7XG4gICAgICAgIGhvb2tzLmRlcHJlY2F0aW9uSGFuZGxlcihuYW1lLCBtc2cpO1xuICAgIH1cbiAgICBpZiAoIWRlcHJlY2F0aW9uc1tuYW1lXSkge1xuICAgICAgICB3YXJuKG1zZyk7XG4gICAgICAgIGRlcHJlY2F0aW9uc1tuYW1lXSA9IHRydWU7XG4gICAgfVxufVxuXG5ob29rcy5zdXBwcmVzc0RlcHJlY2F0aW9uV2FybmluZ3MgPSBmYWxzZTtcbmhvb2tzLmRlcHJlY2F0aW9uSGFuZGxlciA9IG51bGw7XG5cbmZ1bmN0aW9uIGlzRnVuY3Rpb24oaW5wdXQpIHtcbiAgICByZXR1cm4gaW5wdXQgaW5zdGFuY2VvZiBGdW5jdGlvbiB8fCBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoaW5wdXQpID09PSAnW29iamVjdCBGdW5jdGlvbl0nO1xufVxuXG5mdW5jdGlvbiBzZXQgKGNvbmZpZykge1xuICAgIHZhciBwcm9wLCBpO1xuICAgIGZvciAoaSBpbiBjb25maWcpIHtcbiAgICAgICAgcHJvcCA9IGNvbmZpZ1tpXTtcbiAgICAgICAgaWYgKGlzRnVuY3Rpb24ocHJvcCkpIHtcbiAgICAgICAgICAgIHRoaXNbaV0gPSBwcm9wO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpc1snXycgKyBpXSA9IHByb3A7XG4gICAgICAgIH1cbiAgICB9XG4gICAgdGhpcy5fY29uZmlnID0gY29uZmlnO1xuICAgIC8vIExlbmllbnQgb3JkaW5hbCBwYXJzaW5nIGFjY2VwdHMganVzdCBhIG51bWJlciBpbiBhZGRpdGlvbiB0b1xuICAgIC8vIG51bWJlciArIChwb3NzaWJseSkgc3R1ZmYgY29taW5nIGZyb20gX29yZGluYWxQYXJzZUxlbmllbnQuXG4gICAgdGhpcy5fb3JkaW5hbFBhcnNlTGVuaWVudCA9IG5ldyBSZWdFeHAodGhpcy5fb3JkaW5hbFBhcnNlLnNvdXJjZSArICd8JyArICgvXFxkezEsMn0vKS5zb3VyY2UpO1xufVxuXG5mdW5jdGlvbiBtZXJnZUNvbmZpZ3MocGFyZW50Q29uZmlnLCBjaGlsZENvbmZpZykge1xuICAgIHZhciByZXMgPSBleHRlbmQoe30sIHBhcmVudENvbmZpZyksIHByb3A7XG4gICAgZm9yIChwcm9wIGluIGNoaWxkQ29uZmlnKSB7XG4gICAgICAgIGlmIChoYXNPd25Qcm9wKGNoaWxkQ29uZmlnLCBwcm9wKSkge1xuICAgICAgICAgICAgaWYgKGlzT2JqZWN0KHBhcmVudENvbmZpZ1twcm9wXSkgJiYgaXNPYmplY3QoY2hpbGRDb25maWdbcHJvcF0pKSB7XG4gICAgICAgICAgICAgICAgcmVzW3Byb3BdID0ge307XG4gICAgICAgICAgICAgICAgZXh0ZW5kKHJlc1twcm9wXSwgcGFyZW50Q29uZmlnW3Byb3BdKTtcbiAgICAgICAgICAgICAgICBleHRlbmQocmVzW3Byb3BdLCBjaGlsZENvbmZpZ1twcm9wXSk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGNoaWxkQ29uZmlnW3Byb3BdICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICByZXNbcHJvcF0gPSBjaGlsZENvbmZpZ1twcm9wXTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgZGVsZXRlIHJlc1twcm9wXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBmb3IgKHByb3AgaW4gcGFyZW50Q29uZmlnKSB7XG4gICAgICAgIGlmIChoYXNPd25Qcm9wKHBhcmVudENvbmZpZywgcHJvcCkgJiZcbiAgICAgICAgICAgICAgICAhaGFzT3duUHJvcChjaGlsZENvbmZpZywgcHJvcCkgJiZcbiAgICAgICAgICAgICAgICBpc09iamVjdChwYXJlbnRDb25maWdbcHJvcF0pKSB7XG4gICAgICAgICAgICAvLyBtYWtlIHN1cmUgY2hhbmdlcyB0byBwcm9wZXJ0aWVzIGRvbid0IG1vZGlmeSBwYXJlbnQgY29uZmlnXG4gICAgICAgICAgICByZXNbcHJvcF0gPSBleHRlbmQoe30sIHJlc1twcm9wXSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHJlcztcbn1cblxuZnVuY3Rpb24gTG9jYWxlKGNvbmZpZykge1xuICAgIGlmIChjb25maWcgIT0gbnVsbCkge1xuICAgICAgICB0aGlzLnNldChjb25maWcpO1xuICAgIH1cbn1cblxudmFyIGtleXM7XG5cbmlmIChPYmplY3Qua2V5cykge1xuICAgIGtleXMgPSBPYmplY3Qua2V5cztcbn0gZWxzZSB7XG4gICAga2V5cyA9IGZ1bmN0aW9uIChvYmopIHtcbiAgICAgICAgdmFyIGksIHJlcyA9IFtdO1xuICAgICAgICBmb3IgKGkgaW4gb2JqKSB7XG4gICAgICAgICAgICBpZiAoaGFzT3duUHJvcChvYmosIGkpKSB7XG4gICAgICAgICAgICAgICAgcmVzLnB1c2goaSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlcztcbiAgICB9O1xufVxuXG52YXIga2V5cyQxID0ga2V5cztcblxudmFyIGRlZmF1bHRDYWxlbmRhciA9IHtcbiAgICBzYW1lRGF5IDogJ1tUb2RheSBhdF0gTFQnLFxuICAgIG5leHREYXkgOiAnW1RvbW9ycm93IGF0XSBMVCcsXG4gICAgbmV4dFdlZWsgOiAnZGRkZCBbYXRdIExUJyxcbiAgICBsYXN0RGF5IDogJ1tZZXN0ZXJkYXkgYXRdIExUJyxcbiAgICBsYXN0V2VlayA6ICdbTGFzdF0gZGRkZCBbYXRdIExUJyxcbiAgICBzYW1lRWxzZSA6ICdMJ1xufTtcblxuZnVuY3Rpb24gY2FsZW5kYXIgKGtleSwgbW9tLCBub3cpIHtcbiAgICB2YXIgb3V0cHV0ID0gdGhpcy5fY2FsZW5kYXJba2V5XSB8fCB0aGlzLl9jYWxlbmRhclsnc2FtZUVsc2UnXTtcbiAgICByZXR1cm4gaXNGdW5jdGlvbihvdXRwdXQpID8gb3V0cHV0LmNhbGwobW9tLCBub3cpIDogb3V0cHV0O1xufVxuXG52YXIgZGVmYXVsdExvbmdEYXRlRm9ybWF0ID0ge1xuICAgIExUUyAgOiAnaDptbTpzcyBBJyxcbiAgICBMVCAgIDogJ2g6bW0gQScsXG4gICAgTCAgICA6ICdNTS9ERC9ZWVlZJyxcbiAgICBMTCAgIDogJ01NTU0gRCwgWVlZWScsXG4gICAgTExMICA6ICdNTU1NIEQsIFlZWVkgaDptbSBBJyxcbiAgICBMTExMIDogJ2RkZGQsIE1NTU0gRCwgWVlZWSBoOm1tIEEnXG59O1xuXG5mdW5jdGlvbiBsb25nRGF0ZUZvcm1hdCAoa2V5KSB7XG4gICAgdmFyIGZvcm1hdCA9IHRoaXMuX2xvbmdEYXRlRm9ybWF0W2tleV0sXG4gICAgICAgIGZvcm1hdFVwcGVyID0gdGhpcy5fbG9uZ0RhdGVGb3JtYXRba2V5LnRvVXBwZXJDYXNlKCldO1xuXG4gICAgaWYgKGZvcm1hdCB8fCAhZm9ybWF0VXBwZXIpIHtcbiAgICAgICAgcmV0dXJuIGZvcm1hdDtcbiAgICB9XG5cbiAgICB0aGlzLl9sb25nRGF0ZUZvcm1hdFtrZXldID0gZm9ybWF0VXBwZXIucmVwbGFjZSgvTU1NTXxNTXxERHxkZGRkL2csIGZ1bmN0aW9uICh2YWwpIHtcbiAgICAgICAgcmV0dXJuIHZhbC5zbGljZSgxKTtcbiAgICB9KTtcblxuICAgIHJldHVybiB0aGlzLl9sb25nRGF0ZUZvcm1hdFtrZXldO1xufVxuXG52YXIgZGVmYXVsdEludmFsaWREYXRlID0gJ0ludmFsaWQgZGF0ZSc7XG5cbmZ1bmN0aW9uIGludmFsaWREYXRlICgpIHtcbiAgICByZXR1cm4gdGhpcy5faW52YWxpZERhdGU7XG59XG5cbnZhciBkZWZhdWx0T3JkaW5hbCA9ICclZCc7XG52YXIgZGVmYXVsdE9yZGluYWxQYXJzZSA9IC9cXGR7MSwyfS87XG5cbmZ1bmN0aW9uIG9yZGluYWwgKG51bWJlcikge1xuICAgIHJldHVybiB0aGlzLl9vcmRpbmFsLnJlcGxhY2UoJyVkJywgbnVtYmVyKTtcbn1cblxudmFyIGRlZmF1bHRSZWxhdGl2ZVRpbWUgPSB7XG4gICAgZnV0dXJlIDogJ2luICVzJyxcbiAgICBwYXN0ICAgOiAnJXMgYWdvJyxcbiAgICBzICA6ICdhIGZldyBzZWNvbmRzJyxcbiAgICBtICA6ICdhIG1pbnV0ZScsXG4gICAgbW0gOiAnJWQgbWludXRlcycsXG4gICAgaCAgOiAnYW4gaG91cicsXG4gICAgaGggOiAnJWQgaG91cnMnLFxuICAgIGQgIDogJ2EgZGF5JyxcbiAgICBkZCA6ICclZCBkYXlzJyxcbiAgICBNICA6ICdhIG1vbnRoJyxcbiAgICBNTSA6ICclZCBtb250aHMnLFxuICAgIHkgIDogJ2EgeWVhcicsXG4gICAgeXkgOiAnJWQgeWVhcnMnXG59O1xuXG5mdW5jdGlvbiByZWxhdGl2ZVRpbWUgKG51bWJlciwgd2l0aG91dFN1ZmZpeCwgc3RyaW5nLCBpc0Z1dHVyZSkge1xuICAgIHZhciBvdXRwdXQgPSB0aGlzLl9yZWxhdGl2ZVRpbWVbc3RyaW5nXTtcbiAgICByZXR1cm4gKGlzRnVuY3Rpb24ob3V0cHV0KSkgP1xuICAgICAgICBvdXRwdXQobnVtYmVyLCB3aXRob3V0U3VmZml4LCBzdHJpbmcsIGlzRnV0dXJlKSA6XG4gICAgICAgIG91dHB1dC5yZXBsYWNlKC8lZC9pLCBudW1iZXIpO1xufVxuXG5mdW5jdGlvbiBwYXN0RnV0dXJlIChkaWZmLCBvdXRwdXQpIHtcbiAgICB2YXIgZm9ybWF0ID0gdGhpcy5fcmVsYXRpdmVUaW1lW2RpZmYgPiAwID8gJ2Z1dHVyZScgOiAncGFzdCddO1xuICAgIHJldHVybiBpc0Z1bmN0aW9uKGZvcm1hdCkgPyBmb3JtYXQob3V0cHV0KSA6IGZvcm1hdC5yZXBsYWNlKC8lcy9pLCBvdXRwdXQpO1xufVxuXG52YXIgYWxpYXNlcyA9IHt9O1xuXG5mdW5jdGlvbiBhZGRVbml0QWxpYXMgKHVuaXQsIHNob3J0aGFuZCkge1xuICAgIHZhciBsb3dlckNhc2UgPSB1bml0LnRvTG93ZXJDYXNlKCk7XG4gICAgYWxpYXNlc1tsb3dlckNhc2VdID0gYWxpYXNlc1tsb3dlckNhc2UgKyAncyddID0gYWxpYXNlc1tzaG9ydGhhbmRdID0gdW5pdDtcbn1cblxuZnVuY3Rpb24gbm9ybWFsaXplVW5pdHModW5pdHMpIHtcbiAgICByZXR1cm4gdHlwZW9mIHVuaXRzID09PSAnc3RyaW5nJyA/IGFsaWFzZXNbdW5pdHNdIHx8IGFsaWFzZXNbdW5pdHMudG9Mb3dlckNhc2UoKV0gOiB1bmRlZmluZWQ7XG59XG5cbmZ1bmN0aW9uIG5vcm1hbGl6ZU9iamVjdFVuaXRzKGlucHV0T2JqZWN0KSB7XG4gICAgdmFyIG5vcm1hbGl6ZWRJbnB1dCA9IHt9LFxuICAgICAgICBub3JtYWxpemVkUHJvcCxcbiAgICAgICAgcHJvcDtcblxuICAgIGZvciAocHJvcCBpbiBpbnB1dE9iamVjdCkge1xuICAgICAgICBpZiAoaGFzT3duUHJvcChpbnB1dE9iamVjdCwgcHJvcCkpIHtcbiAgICAgICAgICAgIG5vcm1hbGl6ZWRQcm9wID0gbm9ybWFsaXplVW5pdHMocHJvcCk7XG4gICAgICAgICAgICBpZiAobm9ybWFsaXplZFByb3ApIHtcbiAgICAgICAgICAgICAgICBub3JtYWxpemVkSW5wdXRbbm9ybWFsaXplZFByb3BdID0gaW5wdXRPYmplY3RbcHJvcF07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gbm9ybWFsaXplZElucHV0O1xufVxuXG52YXIgcHJpb3JpdGllcyA9IHt9O1xuXG5mdW5jdGlvbiBhZGRVbml0UHJpb3JpdHkodW5pdCwgcHJpb3JpdHkpIHtcbiAgICBwcmlvcml0aWVzW3VuaXRdID0gcHJpb3JpdHk7XG59XG5cbmZ1bmN0aW9uIGdldFByaW9yaXRpemVkVW5pdHModW5pdHNPYmopIHtcbiAgICB2YXIgdW5pdHMgPSBbXTtcbiAgICBmb3IgKHZhciB1IGluIHVuaXRzT2JqKSB7XG4gICAgICAgIHVuaXRzLnB1c2goe3VuaXQ6IHUsIHByaW9yaXR5OiBwcmlvcml0aWVzW3VdfSk7XG4gICAgfVxuICAgIHVuaXRzLnNvcnQoZnVuY3Rpb24gKGEsIGIpIHtcbiAgICAgICAgcmV0dXJuIGEucHJpb3JpdHkgLSBiLnByaW9yaXR5O1xuICAgIH0pO1xuICAgIHJldHVybiB1bml0cztcbn1cblxuZnVuY3Rpb24gbWFrZUdldFNldCAodW5pdCwga2VlcFRpbWUpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgIGlmICh2YWx1ZSAhPSBudWxsKSB7XG4gICAgICAgICAgICBzZXQkMSh0aGlzLCB1bml0LCB2YWx1ZSk7XG4gICAgICAgICAgICBob29rcy51cGRhdGVPZmZzZXQodGhpcywga2VlcFRpbWUpO1xuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gZ2V0KHRoaXMsIHVuaXQpO1xuICAgICAgICB9XG4gICAgfTtcbn1cblxuZnVuY3Rpb24gZ2V0IChtb20sIHVuaXQpIHtcbiAgICByZXR1cm4gbW9tLmlzVmFsaWQoKSA/XG4gICAgICAgIG1vbS5fZFsnZ2V0JyArIChtb20uX2lzVVRDID8gJ1VUQycgOiAnJykgKyB1bml0XSgpIDogTmFOO1xufVxuXG5mdW5jdGlvbiBzZXQkMSAobW9tLCB1bml0LCB2YWx1ZSkge1xuICAgIGlmIChtb20uaXNWYWxpZCgpKSB7XG4gICAgICAgIG1vbS5fZFsnc2V0JyArIChtb20uX2lzVVRDID8gJ1VUQycgOiAnJykgKyB1bml0XSh2YWx1ZSk7XG4gICAgfVxufVxuXG4vLyBNT01FTlRTXG5cbmZ1bmN0aW9uIHN0cmluZ0dldCAodW5pdHMpIHtcbiAgICB1bml0cyA9IG5vcm1hbGl6ZVVuaXRzKHVuaXRzKTtcbiAgICBpZiAoaXNGdW5jdGlvbih0aGlzW3VuaXRzXSkpIHtcbiAgICAgICAgcmV0dXJuIHRoaXNbdW5pdHNdKCk7XG4gICAgfVxuICAgIHJldHVybiB0aGlzO1xufVxuXG5cbmZ1bmN0aW9uIHN0cmluZ1NldCAodW5pdHMsIHZhbHVlKSB7XG4gICAgaWYgKHR5cGVvZiB1bml0cyA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgdW5pdHMgPSBub3JtYWxpemVPYmplY3RVbml0cyh1bml0cyk7XG4gICAgICAgIHZhciBwcmlvcml0aXplZCA9IGdldFByaW9yaXRpemVkVW5pdHModW5pdHMpO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHByaW9yaXRpemVkLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB0aGlzW3ByaW9yaXRpemVkW2ldLnVuaXRdKHVuaXRzW3ByaW9yaXRpemVkW2ldLnVuaXRdKTtcbiAgICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICAgIHVuaXRzID0gbm9ybWFsaXplVW5pdHModW5pdHMpO1xuICAgICAgICBpZiAoaXNGdW5jdGlvbih0aGlzW3VuaXRzXSkpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzW3VuaXRzXSh2YWx1ZSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHRoaXM7XG59XG5cbmZ1bmN0aW9uIHplcm9GaWxsKG51bWJlciwgdGFyZ2V0TGVuZ3RoLCBmb3JjZVNpZ24pIHtcbiAgICB2YXIgYWJzTnVtYmVyID0gJycgKyBNYXRoLmFicyhudW1iZXIpLFxuICAgICAgICB6ZXJvc1RvRmlsbCA9IHRhcmdldExlbmd0aCAtIGFic051bWJlci5sZW5ndGgsXG4gICAgICAgIHNpZ24gPSBudW1iZXIgPj0gMDtcbiAgICByZXR1cm4gKHNpZ24gPyAoZm9yY2VTaWduID8gJysnIDogJycpIDogJy0nKSArXG4gICAgICAgIE1hdGgucG93KDEwLCBNYXRoLm1heCgwLCB6ZXJvc1RvRmlsbCkpLnRvU3RyaW5nKCkuc3Vic3RyKDEpICsgYWJzTnVtYmVyO1xufVxuXG52YXIgZm9ybWF0dGluZ1Rva2VucyA9IC8oXFxbW15cXFtdKlxcXSl8KFxcXFwpPyhbSGhdbW0oc3MpP3xNb3xNTT9NP00/fERvfERERG98REQ/RD9EP3xkZGQ/ZD98ZG8/fHdbb3x3XT98V1tvfFddP3xRbz98WVlZWVlZfFlZWVlZfFlZWVl8WVl8Z2coZ2dnPyk/fEdHKEdHRz8pP3xlfEV8YXxBfGhoP3xISD98a2s/fG1tP3xzcz98U3sxLDl9fHh8WHx6ej98Wlo/fC4pL2c7XG5cbnZhciBsb2NhbEZvcm1hdHRpbmdUb2tlbnMgPSAvKFxcW1teXFxbXSpcXF0pfChcXFxcKT8oTFRTfExUfExMP0w/TD98bHsxLDR9KS9nO1xuXG52YXIgZm9ybWF0RnVuY3Rpb25zID0ge307XG5cbnZhciBmb3JtYXRUb2tlbkZ1bmN0aW9ucyA9IHt9O1xuXG4vLyB0b2tlbjogICAgJ00nXG4vLyBwYWRkZWQ6ICAgWydNTScsIDJdXG4vLyBvcmRpbmFsOiAgJ01vJ1xuLy8gY2FsbGJhY2s6IGZ1bmN0aW9uICgpIHsgdGhpcy5tb250aCgpICsgMSB9XG5mdW5jdGlvbiBhZGRGb3JtYXRUb2tlbiAodG9rZW4sIHBhZGRlZCwgb3JkaW5hbCwgY2FsbGJhY2spIHtcbiAgICB2YXIgZnVuYyA9IGNhbGxiYWNrO1xuICAgIGlmICh0eXBlb2YgY2FsbGJhY2sgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgIGZ1bmMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpc1tjYWxsYmFja10oKTtcbiAgICAgICAgfTtcbiAgICB9XG4gICAgaWYgKHRva2VuKSB7XG4gICAgICAgIGZvcm1hdFRva2VuRnVuY3Rpb25zW3Rva2VuXSA9IGZ1bmM7XG4gICAgfVxuICAgIGlmIChwYWRkZWQpIHtcbiAgICAgICAgZm9ybWF0VG9rZW5GdW5jdGlvbnNbcGFkZGVkWzBdXSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB6ZXJvRmlsbChmdW5jLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyksIHBhZGRlZFsxXSwgcGFkZGVkWzJdKTtcbiAgICAgICAgfTtcbiAgICB9XG4gICAgaWYgKG9yZGluYWwpIHtcbiAgICAgICAgZm9ybWF0VG9rZW5GdW5jdGlvbnNbb3JkaW5hbF0gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5sb2NhbGVEYXRhKCkub3JkaW5hbChmdW5jLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyksIHRva2VuKTtcbiAgICAgICAgfTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIHJlbW92ZUZvcm1hdHRpbmdUb2tlbnMoaW5wdXQpIHtcbiAgICBpZiAoaW5wdXQubWF0Y2goL1xcW1tcXHNcXFNdLykpIHtcbiAgICAgICAgcmV0dXJuIGlucHV0LnJlcGxhY2UoL15cXFt8XFxdJC9nLCAnJyk7XG4gICAgfVxuICAgIHJldHVybiBpbnB1dC5yZXBsYWNlKC9cXFxcL2csICcnKTtcbn1cblxuZnVuY3Rpb24gbWFrZUZvcm1hdEZ1bmN0aW9uKGZvcm1hdCkge1xuICAgIHZhciBhcnJheSA9IGZvcm1hdC5tYXRjaChmb3JtYXR0aW5nVG9rZW5zKSwgaSwgbGVuZ3RoO1xuXG4gICAgZm9yIChpID0gMCwgbGVuZ3RoID0gYXJyYXkubGVuZ3RoOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICAgICAgaWYgKGZvcm1hdFRva2VuRnVuY3Rpb25zW2FycmF5W2ldXSkge1xuICAgICAgICAgICAgYXJyYXlbaV0gPSBmb3JtYXRUb2tlbkZ1bmN0aW9uc1thcnJheVtpXV07XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBhcnJheVtpXSA9IHJlbW92ZUZvcm1hdHRpbmdUb2tlbnMoYXJyYXlbaV0pO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIGZ1bmN0aW9uIChtb20pIHtcbiAgICAgICAgdmFyIG91dHB1dCA9ICcnLCBpO1xuICAgICAgICBmb3IgKGkgPSAwOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIG91dHB1dCArPSBhcnJheVtpXSBpbnN0YW5jZW9mIEZ1bmN0aW9uID8gYXJyYXlbaV0uY2FsbChtb20sIGZvcm1hdCkgOiBhcnJheVtpXTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gb3V0cHV0O1xuICAgIH07XG59XG5cbi8vIGZvcm1hdCBkYXRlIHVzaW5nIG5hdGl2ZSBkYXRlIG9iamVjdFxuZnVuY3Rpb24gZm9ybWF0TW9tZW50KG0sIGZvcm1hdCkge1xuICAgIGlmICghbS5pc1ZhbGlkKCkpIHtcbiAgICAgICAgcmV0dXJuIG0ubG9jYWxlRGF0YSgpLmludmFsaWREYXRlKCk7XG4gICAgfVxuXG4gICAgZm9ybWF0ID0gZXhwYW5kRm9ybWF0KGZvcm1hdCwgbS5sb2NhbGVEYXRhKCkpO1xuICAgIGZvcm1hdEZ1bmN0aW9uc1tmb3JtYXRdID0gZm9ybWF0RnVuY3Rpb25zW2Zvcm1hdF0gfHwgbWFrZUZvcm1hdEZ1bmN0aW9uKGZvcm1hdCk7XG5cbiAgICByZXR1cm4gZm9ybWF0RnVuY3Rpb25zW2Zvcm1hdF0obSk7XG59XG5cbmZ1bmN0aW9uIGV4cGFuZEZvcm1hdChmb3JtYXQsIGxvY2FsZSkge1xuICAgIHZhciBpID0gNTtcblxuICAgIGZ1bmN0aW9uIHJlcGxhY2VMb25nRGF0ZUZvcm1hdFRva2VucyhpbnB1dCkge1xuICAgICAgICByZXR1cm4gbG9jYWxlLmxvbmdEYXRlRm9ybWF0KGlucHV0KSB8fCBpbnB1dDtcbiAgICB9XG5cbiAgICBsb2NhbEZvcm1hdHRpbmdUb2tlbnMubGFzdEluZGV4ID0gMDtcbiAgICB3aGlsZSAoaSA+PSAwICYmIGxvY2FsRm9ybWF0dGluZ1Rva2Vucy50ZXN0KGZvcm1hdCkpIHtcbiAgICAgICAgZm9ybWF0ID0gZm9ybWF0LnJlcGxhY2UobG9jYWxGb3JtYXR0aW5nVG9rZW5zLCByZXBsYWNlTG9uZ0RhdGVGb3JtYXRUb2tlbnMpO1xuICAgICAgICBsb2NhbEZvcm1hdHRpbmdUb2tlbnMubGFzdEluZGV4ID0gMDtcbiAgICAgICAgaSAtPSAxO1xuICAgIH1cblxuICAgIHJldHVybiBmb3JtYXQ7XG59XG5cbnZhciBtYXRjaDEgICAgICAgICA9IC9cXGQvOyAgICAgICAgICAgIC8vICAgICAgIDAgLSA5XG52YXIgbWF0Y2gyICAgICAgICAgPSAvXFxkXFxkLzsgICAgICAgICAgLy8gICAgICAwMCAtIDk5XG52YXIgbWF0Y2gzICAgICAgICAgPSAvXFxkezN9LzsgICAgICAgICAvLyAgICAgMDAwIC0gOTk5XG52YXIgbWF0Y2g0ICAgICAgICAgPSAvXFxkezR9LzsgICAgICAgICAvLyAgICAwMDAwIC0gOTk5OVxudmFyIG1hdGNoNiAgICAgICAgID0gL1srLV0/XFxkezZ9LzsgICAgLy8gLTk5OTk5OSAtIDk5OTk5OVxudmFyIG1hdGNoMXRvMiAgICAgID0gL1xcZFxcZD8vOyAgICAgICAgIC8vICAgICAgIDAgLSA5OVxudmFyIG1hdGNoM3RvNCAgICAgID0gL1xcZFxcZFxcZFxcZD8vOyAgICAgLy8gICAgIDk5OSAtIDk5OTlcbnZhciBtYXRjaDV0bzYgICAgICA9IC9cXGRcXGRcXGRcXGRcXGRcXGQ/LzsgLy8gICA5OTk5OSAtIDk5OTk5OVxudmFyIG1hdGNoMXRvMyAgICAgID0gL1xcZHsxLDN9LzsgICAgICAgLy8gICAgICAgMCAtIDk5OVxudmFyIG1hdGNoMXRvNCAgICAgID0gL1xcZHsxLDR9LzsgICAgICAgLy8gICAgICAgMCAtIDk5OTlcbnZhciBtYXRjaDF0bzYgICAgICA9IC9bKy1dP1xcZHsxLDZ9LzsgIC8vIC05OTk5OTkgLSA5OTk5OTlcblxudmFyIG1hdGNoVW5zaWduZWQgID0gL1xcZCsvOyAgICAgICAgICAgLy8gICAgICAgMCAtIGluZlxudmFyIG1hdGNoU2lnbmVkICAgID0gL1srLV0/XFxkKy87ICAgICAgLy8gICAgLWluZiAtIGluZlxuXG52YXIgbWF0Y2hPZmZzZXQgICAgPSAvWnxbKy1dXFxkXFxkOj9cXGRcXGQvZ2k7IC8vICswMDowMCAtMDA6MDAgKzAwMDAgLTAwMDAgb3IgWlxudmFyIG1hdGNoU2hvcnRPZmZzZXQgPSAvWnxbKy1dXFxkXFxkKD86Oj9cXGRcXGQpPy9naTsgLy8gKzAwIC0wMCArMDA6MDAgLTAwOjAwICswMDAwIC0wMDAwIG9yIFpcblxudmFyIG1hdGNoVGltZXN0YW1wID0gL1srLV0/XFxkKyhcXC5cXGR7MSwzfSk/LzsgLy8gMTIzNDU2Nzg5IDEyMzQ1Njc4OS4xMjNcblxuLy8gYW55IHdvcmQgKG9yIHR3bykgY2hhcmFjdGVycyBvciBudW1iZXJzIGluY2x1ZGluZyB0d28vdGhyZWUgd29yZCBtb250aCBpbiBhcmFiaWMuXG4vLyBpbmNsdWRlcyBzY290dGlzaCBnYWVsaWMgdHdvIHdvcmQgYW5kIGh5cGhlbmF0ZWQgbW9udGhzXG52YXIgbWF0Y2hXb3JkID0gL1swLTldKlsnYS16XFx1MDBBMC1cXHUwNUZGXFx1MDcwMC1cXHVEN0ZGXFx1RjkwMC1cXHVGRENGXFx1RkRGMC1cXHVGRkVGXSt8W1xcdTA2MDAtXFx1MDZGRlxcL10rKFxccyo/W1xcdTA2MDAtXFx1MDZGRl0rKXsxLDJ9L2k7XG5cblxudmFyIHJlZ2V4ZXMgPSB7fTtcblxuZnVuY3Rpb24gYWRkUmVnZXhUb2tlbiAodG9rZW4sIHJlZ2V4LCBzdHJpY3RSZWdleCkge1xuICAgIHJlZ2V4ZXNbdG9rZW5dID0gaXNGdW5jdGlvbihyZWdleCkgPyByZWdleCA6IGZ1bmN0aW9uIChpc1N0cmljdCwgbG9jYWxlRGF0YSkge1xuICAgICAgICByZXR1cm4gKGlzU3RyaWN0ICYmIHN0cmljdFJlZ2V4KSA/IHN0cmljdFJlZ2V4IDogcmVnZXg7XG4gICAgfTtcbn1cblxuZnVuY3Rpb24gZ2V0UGFyc2VSZWdleEZvclRva2VuICh0b2tlbiwgY29uZmlnKSB7XG4gICAgaWYgKCFoYXNPd25Qcm9wKHJlZ2V4ZXMsIHRva2VuKSkge1xuICAgICAgICByZXR1cm4gbmV3IFJlZ0V4cCh1bmVzY2FwZUZvcm1hdCh0b2tlbikpO1xuICAgIH1cblxuICAgIHJldHVybiByZWdleGVzW3Rva2VuXShjb25maWcuX3N0cmljdCwgY29uZmlnLl9sb2NhbGUpO1xufVxuXG4vLyBDb2RlIGZyb20gaHR0cDovL3N0YWNrb3ZlcmZsb3cuY29tL3F1ZXN0aW9ucy8zNTYxNDkzL2lzLXRoZXJlLWEtcmVnZXhwLWVzY2FwZS1mdW5jdGlvbi1pbi1qYXZhc2NyaXB0XG5mdW5jdGlvbiB1bmVzY2FwZUZvcm1hdChzKSB7XG4gICAgcmV0dXJuIHJlZ2V4RXNjYXBlKHMucmVwbGFjZSgnXFxcXCcsICcnKS5yZXBsYWNlKC9cXFxcKFxcWyl8XFxcXChcXF0pfFxcWyhbXlxcXVxcW10qKVxcXXxcXFxcKC4pL2csIGZ1bmN0aW9uIChtYXRjaGVkLCBwMSwgcDIsIHAzLCBwNCkge1xuICAgICAgICByZXR1cm4gcDEgfHwgcDIgfHwgcDMgfHwgcDQ7XG4gICAgfSkpO1xufVxuXG5mdW5jdGlvbiByZWdleEVzY2FwZShzKSB7XG4gICAgcmV0dXJuIHMucmVwbGFjZSgvWy1cXC9cXFxcXiQqKz8uKCl8W1xcXXt9XS9nLCAnXFxcXCQmJyk7XG59XG5cbnZhciB0b2tlbnMgPSB7fTtcblxuZnVuY3Rpb24gYWRkUGFyc2VUb2tlbiAodG9rZW4sIGNhbGxiYWNrKSB7XG4gICAgdmFyIGksIGZ1bmMgPSBjYWxsYmFjaztcbiAgICBpZiAodHlwZW9mIHRva2VuID09PSAnc3RyaW5nJykge1xuICAgICAgICB0b2tlbiA9IFt0b2tlbl07XG4gICAgfVxuICAgIGlmIChpc051bWJlcihjYWxsYmFjaykpIHtcbiAgICAgICAgZnVuYyA9IGZ1bmN0aW9uIChpbnB1dCwgYXJyYXkpIHtcbiAgICAgICAgICAgIGFycmF5W2NhbGxiYWNrXSA9IHRvSW50KGlucHV0KTtcbiAgICAgICAgfTtcbiAgICB9XG4gICAgZm9yIChpID0gMDsgaSA8IHRva2VuLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHRva2Vuc1t0b2tlbltpXV0gPSBmdW5jO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gYWRkV2Vla1BhcnNlVG9rZW4gKHRva2VuLCBjYWxsYmFjaykge1xuICAgIGFkZFBhcnNlVG9rZW4odG9rZW4sIGZ1bmN0aW9uIChpbnB1dCwgYXJyYXksIGNvbmZpZywgdG9rZW4pIHtcbiAgICAgICAgY29uZmlnLl93ID0gY29uZmlnLl93IHx8IHt9O1xuICAgICAgICBjYWxsYmFjayhpbnB1dCwgY29uZmlnLl93LCBjb25maWcsIHRva2VuKTtcbiAgICB9KTtcbn1cblxuZnVuY3Rpb24gYWRkVGltZVRvQXJyYXlGcm9tVG9rZW4odG9rZW4sIGlucHV0LCBjb25maWcpIHtcbiAgICBpZiAoaW5wdXQgIT0gbnVsbCAmJiBoYXNPd25Qcm9wKHRva2VucywgdG9rZW4pKSB7XG4gICAgICAgIHRva2Vuc1t0b2tlbl0oaW5wdXQsIGNvbmZpZy5fYSwgY29uZmlnLCB0b2tlbik7XG4gICAgfVxufVxuXG52YXIgWUVBUiA9IDA7XG52YXIgTU9OVEggPSAxO1xudmFyIERBVEUgPSAyO1xudmFyIEhPVVIgPSAzO1xudmFyIE1JTlVURSA9IDQ7XG52YXIgU0VDT05EID0gNTtcbnZhciBNSUxMSVNFQ09ORCA9IDY7XG52YXIgV0VFSyA9IDc7XG52YXIgV0VFS0RBWSA9IDg7XG5cbnZhciBpbmRleE9mO1xuXG5pZiAoQXJyYXkucHJvdG90eXBlLmluZGV4T2YpIHtcbiAgICBpbmRleE9mID0gQXJyYXkucHJvdG90eXBlLmluZGV4T2Y7XG59IGVsc2Uge1xuICAgIGluZGV4T2YgPSBmdW5jdGlvbiAobykge1xuICAgICAgICAvLyBJIGtub3dcbiAgICAgICAgdmFyIGk7XG4gICAgICAgIGZvciAoaSA9IDA7IGkgPCB0aGlzLmxlbmd0aDsgKytpKSB7XG4gICAgICAgICAgICBpZiAodGhpc1tpXSA9PT0gbykge1xuICAgICAgICAgICAgICAgIHJldHVybiBpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiAtMTtcbiAgICB9O1xufVxuXG52YXIgaW5kZXhPZiQxID0gaW5kZXhPZjtcblxuZnVuY3Rpb24gZGF5c0luTW9udGgoeWVhciwgbW9udGgpIHtcbiAgICByZXR1cm4gbmV3IERhdGUoRGF0ZS5VVEMoeWVhciwgbW9udGggKyAxLCAwKSkuZ2V0VVRDRGF0ZSgpO1xufVxuXG4vLyBGT1JNQVRUSU5HXG5cbmFkZEZvcm1hdFRva2VuKCdNJywgWydNTScsIDJdLCAnTW8nLCBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHRoaXMubW9udGgoKSArIDE7XG59KTtcblxuYWRkRm9ybWF0VG9rZW4oJ01NTScsIDAsIDAsIGZ1bmN0aW9uIChmb3JtYXQpIHtcbiAgICByZXR1cm4gdGhpcy5sb2NhbGVEYXRhKCkubW9udGhzU2hvcnQodGhpcywgZm9ybWF0KTtcbn0pO1xuXG5hZGRGb3JtYXRUb2tlbignTU1NTScsIDAsIDAsIGZ1bmN0aW9uIChmb3JtYXQpIHtcbiAgICByZXR1cm4gdGhpcy5sb2NhbGVEYXRhKCkubW9udGhzKHRoaXMsIGZvcm1hdCk7XG59KTtcblxuLy8gQUxJQVNFU1xuXG5hZGRVbml0QWxpYXMoJ21vbnRoJywgJ00nKTtcblxuLy8gUFJJT1JJVFlcblxuYWRkVW5pdFByaW9yaXR5KCdtb250aCcsIDgpO1xuXG4vLyBQQVJTSU5HXG5cbmFkZFJlZ2V4VG9rZW4oJ00nLCAgICBtYXRjaDF0bzIpO1xuYWRkUmVnZXhUb2tlbignTU0nLCAgIG1hdGNoMXRvMiwgbWF0Y2gyKTtcbmFkZFJlZ2V4VG9rZW4oJ01NTScsICBmdW5jdGlvbiAoaXNTdHJpY3QsIGxvY2FsZSkge1xuICAgIHJldHVybiBsb2NhbGUubW9udGhzU2hvcnRSZWdleChpc1N0cmljdCk7XG59KTtcbmFkZFJlZ2V4VG9rZW4oJ01NTU0nLCBmdW5jdGlvbiAoaXNTdHJpY3QsIGxvY2FsZSkge1xuICAgIHJldHVybiBsb2NhbGUubW9udGhzUmVnZXgoaXNTdHJpY3QpO1xufSk7XG5cbmFkZFBhcnNlVG9rZW4oWydNJywgJ01NJ10sIGZ1bmN0aW9uIChpbnB1dCwgYXJyYXkpIHtcbiAgICBhcnJheVtNT05USF0gPSB0b0ludChpbnB1dCkgLSAxO1xufSk7XG5cbmFkZFBhcnNlVG9rZW4oWydNTU0nLCAnTU1NTSddLCBmdW5jdGlvbiAoaW5wdXQsIGFycmF5LCBjb25maWcsIHRva2VuKSB7XG4gICAgdmFyIG1vbnRoID0gY29uZmlnLl9sb2NhbGUubW9udGhzUGFyc2UoaW5wdXQsIHRva2VuLCBjb25maWcuX3N0cmljdCk7XG4gICAgLy8gaWYgd2UgZGlkbid0IGZpbmQgYSBtb250aCBuYW1lLCBtYXJrIHRoZSBkYXRlIGFzIGludmFsaWQuXG4gICAgaWYgKG1vbnRoICE9IG51bGwpIHtcbiAgICAgICAgYXJyYXlbTU9OVEhdID0gbW9udGg7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgZ2V0UGFyc2luZ0ZsYWdzKGNvbmZpZykuaW52YWxpZE1vbnRoID0gaW5wdXQ7XG4gICAgfVxufSk7XG5cbi8vIExPQ0FMRVNcblxudmFyIE1PTlRIU19JTl9GT1JNQVQgPSAvRFtvRF0/KFxcW1teXFxbXFxdXSpcXF18XFxzKStNTU1NPy87XG52YXIgZGVmYXVsdExvY2FsZU1vbnRocyA9ICdKYW51YXJ5X0ZlYnJ1YXJ5X01hcmNoX0FwcmlsX01heV9KdW5lX0p1bHlfQXVndXN0X1NlcHRlbWJlcl9PY3RvYmVyX05vdmVtYmVyX0RlY2VtYmVyJy5zcGxpdCgnXycpO1xuZnVuY3Rpb24gbG9jYWxlTW9udGhzIChtLCBmb3JtYXQpIHtcbiAgICBpZiAoIW0pIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX21vbnRocztcbiAgICB9XG4gICAgcmV0dXJuIGlzQXJyYXkodGhpcy5fbW9udGhzKSA/IHRoaXMuX21vbnRoc1ttLm1vbnRoKCldIDpcbiAgICAgICAgdGhpcy5fbW9udGhzWyh0aGlzLl9tb250aHMuaXNGb3JtYXQgfHwgTU9OVEhTX0lOX0ZPUk1BVCkudGVzdChmb3JtYXQpID8gJ2Zvcm1hdCcgOiAnc3RhbmRhbG9uZSddW20ubW9udGgoKV07XG59XG5cbnZhciBkZWZhdWx0TG9jYWxlTW9udGhzU2hvcnQgPSAnSmFuX0ZlYl9NYXJfQXByX01heV9KdW5fSnVsX0F1Z19TZXBfT2N0X05vdl9EZWMnLnNwbGl0KCdfJyk7XG5mdW5jdGlvbiBsb2NhbGVNb250aHNTaG9ydCAobSwgZm9ybWF0KSB7XG4gICAgaWYgKCFtKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9tb250aHNTaG9ydDtcbiAgICB9XG4gICAgcmV0dXJuIGlzQXJyYXkodGhpcy5fbW9udGhzU2hvcnQpID8gdGhpcy5fbW9udGhzU2hvcnRbbS5tb250aCgpXSA6XG4gICAgICAgIHRoaXMuX21vbnRoc1Nob3J0W01PTlRIU19JTl9GT1JNQVQudGVzdChmb3JtYXQpID8gJ2Zvcm1hdCcgOiAnc3RhbmRhbG9uZSddW20ubW9udGgoKV07XG59XG5cbmZ1bmN0aW9uIGhhbmRsZVN0cmljdFBhcnNlKG1vbnRoTmFtZSwgZm9ybWF0LCBzdHJpY3QpIHtcbiAgICB2YXIgaSwgaWksIG1vbSwgbGxjID0gbW9udGhOYW1lLnRvTG9jYWxlTG93ZXJDYXNlKCk7XG4gICAgaWYgKCF0aGlzLl9tb250aHNQYXJzZSkge1xuICAgICAgICAvLyB0aGlzIGlzIG5vdCB1c2VkXG4gICAgICAgIHRoaXMuX21vbnRoc1BhcnNlID0gW107XG4gICAgICAgIHRoaXMuX2xvbmdNb250aHNQYXJzZSA9IFtdO1xuICAgICAgICB0aGlzLl9zaG9ydE1vbnRoc1BhcnNlID0gW107XG4gICAgICAgIGZvciAoaSA9IDA7IGkgPCAxMjsgKytpKSB7XG4gICAgICAgICAgICBtb20gPSBjcmVhdGVVVEMoWzIwMDAsIGldKTtcbiAgICAgICAgICAgIHRoaXMuX3Nob3J0TW9udGhzUGFyc2VbaV0gPSB0aGlzLm1vbnRoc1Nob3J0KG1vbSwgJycpLnRvTG9jYWxlTG93ZXJDYXNlKCk7XG4gICAgICAgICAgICB0aGlzLl9sb25nTW9udGhzUGFyc2VbaV0gPSB0aGlzLm1vbnRocyhtb20sICcnKS50b0xvY2FsZUxvd2VyQ2FzZSgpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgaWYgKHN0cmljdCkge1xuICAgICAgICBpZiAoZm9ybWF0ID09PSAnTU1NJykge1xuICAgICAgICAgICAgaWkgPSBpbmRleE9mJDEuY2FsbCh0aGlzLl9zaG9ydE1vbnRoc1BhcnNlLCBsbGMpO1xuICAgICAgICAgICAgcmV0dXJuIGlpICE9PSAtMSA/IGlpIDogbnVsbDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGlpID0gaW5kZXhPZiQxLmNhbGwodGhpcy5fbG9uZ01vbnRoc1BhcnNlLCBsbGMpO1xuICAgICAgICAgICAgcmV0dXJuIGlpICE9PSAtMSA/IGlpIDogbnVsbDtcbiAgICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICAgIGlmIChmb3JtYXQgPT09ICdNTU0nKSB7XG4gICAgICAgICAgICBpaSA9IGluZGV4T2YkMS5jYWxsKHRoaXMuX3Nob3J0TW9udGhzUGFyc2UsIGxsYyk7XG4gICAgICAgICAgICBpZiAoaWkgIT09IC0xKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGlpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWkgPSBpbmRleE9mJDEuY2FsbCh0aGlzLl9sb25nTW9udGhzUGFyc2UsIGxsYyk7XG4gICAgICAgICAgICByZXR1cm4gaWkgIT09IC0xID8gaWkgOiBudWxsO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaWkgPSBpbmRleE9mJDEuY2FsbCh0aGlzLl9sb25nTW9udGhzUGFyc2UsIGxsYyk7XG4gICAgICAgICAgICBpZiAoaWkgIT09IC0xKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGlpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWkgPSBpbmRleE9mJDEuY2FsbCh0aGlzLl9zaG9ydE1vbnRoc1BhcnNlLCBsbGMpO1xuICAgICAgICAgICAgcmV0dXJuIGlpICE9PSAtMSA/IGlpIDogbnVsbDtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuZnVuY3Rpb24gbG9jYWxlTW9udGhzUGFyc2UgKG1vbnRoTmFtZSwgZm9ybWF0LCBzdHJpY3QpIHtcbiAgICB2YXIgaSwgbW9tLCByZWdleDtcblxuICAgIGlmICh0aGlzLl9tb250aHNQYXJzZUV4YWN0KSB7XG4gICAgICAgIHJldHVybiBoYW5kbGVTdHJpY3RQYXJzZS5jYWxsKHRoaXMsIG1vbnRoTmFtZSwgZm9ybWF0LCBzdHJpY3QpO1xuICAgIH1cblxuICAgIGlmICghdGhpcy5fbW9udGhzUGFyc2UpIHtcbiAgICAgICAgdGhpcy5fbW9udGhzUGFyc2UgPSBbXTtcbiAgICAgICAgdGhpcy5fbG9uZ01vbnRoc1BhcnNlID0gW107XG4gICAgICAgIHRoaXMuX3Nob3J0TW9udGhzUGFyc2UgPSBbXTtcbiAgICB9XG5cbiAgICAvLyBUT0RPOiBhZGQgc29ydGluZ1xuICAgIC8vIFNvcnRpbmcgbWFrZXMgc3VyZSBpZiBvbmUgbW9udGggKG9yIGFiYnIpIGlzIGEgcHJlZml4IG9mIGFub3RoZXJcbiAgICAvLyBzZWUgc29ydGluZyBpbiBjb21wdXRlTW9udGhzUGFyc2VcbiAgICBmb3IgKGkgPSAwOyBpIDwgMTI7IGkrKykge1xuICAgICAgICAvLyBtYWtlIHRoZSByZWdleCBpZiB3ZSBkb24ndCBoYXZlIGl0IGFscmVhZHlcbiAgICAgICAgbW9tID0gY3JlYXRlVVRDKFsyMDAwLCBpXSk7XG4gICAgICAgIGlmIChzdHJpY3QgJiYgIXRoaXMuX2xvbmdNb250aHNQYXJzZVtpXSkge1xuICAgICAgICAgICAgdGhpcy5fbG9uZ01vbnRoc1BhcnNlW2ldID0gbmV3IFJlZ0V4cCgnXicgKyB0aGlzLm1vbnRocyhtb20sICcnKS5yZXBsYWNlKCcuJywgJycpICsgJyQnLCAnaScpO1xuICAgICAgICAgICAgdGhpcy5fc2hvcnRNb250aHNQYXJzZVtpXSA9IG5ldyBSZWdFeHAoJ14nICsgdGhpcy5tb250aHNTaG9ydChtb20sICcnKS5yZXBsYWNlKCcuJywgJycpICsgJyQnLCAnaScpO1xuICAgICAgICB9XG4gICAgICAgIGlmICghc3RyaWN0ICYmICF0aGlzLl9tb250aHNQYXJzZVtpXSkge1xuICAgICAgICAgICAgcmVnZXggPSAnXicgKyB0aGlzLm1vbnRocyhtb20sICcnKSArICd8XicgKyB0aGlzLm1vbnRoc1Nob3J0KG1vbSwgJycpO1xuICAgICAgICAgICAgdGhpcy5fbW9udGhzUGFyc2VbaV0gPSBuZXcgUmVnRXhwKHJlZ2V4LnJlcGxhY2UoJy4nLCAnJyksICdpJyk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gdGVzdCB0aGUgcmVnZXhcbiAgICAgICAgaWYgKHN0cmljdCAmJiBmb3JtYXQgPT09ICdNTU1NJyAmJiB0aGlzLl9sb25nTW9udGhzUGFyc2VbaV0udGVzdChtb250aE5hbWUpKSB7XG4gICAgICAgICAgICByZXR1cm4gaTtcbiAgICAgICAgfSBlbHNlIGlmIChzdHJpY3QgJiYgZm9ybWF0ID09PSAnTU1NJyAmJiB0aGlzLl9zaG9ydE1vbnRoc1BhcnNlW2ldLnRlc3QobW9udGhOYW1lKSkge1xuICAgICAgICAgICAgcmV0dXJuIGk7XG4gICAgICAgIH0gZWxzZSBpZiAoIXN0cmljdCAmJiB0aGlzLl9tb250aHNQYXJzZVtpXS50ZXN0KG1vbnRoTmFtZSkpIHtcbiAgICAgICAgICAgIHJldHVybiBpO1xuICAgICAgICB9XG4gICAgfVxufVxuXG4vLyBNT01FTlRTXG5cbmZ1bmN0aW9uIHNldE1vbnRoIChtb20sIHZhbHVlKSB7XG4gICAgdmFyIGRheU9mTW9udGg7XG5cbiAgICBpZiAoIW1vbS5pc1ZhbGlkKCkpIHtcbiAgICAgICAgLy8gTm8gb3BcbiAgICAgICAgcmV0dXJuIG1vbTtcbiAgICB9XG5cbiAgICBpZiAodHlwZW9mIHZhbHVlID09PSAnc3RyaW5nJykge1xuICAgICAgICBpZiAoL15cXGQrJC8udGVzdCh2YWx1ZSkpIHtcbiAgICAgICAgICAgIHZhbHVlID0gdG9JbnQodmFsdWUpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdmFsdWUgPSBtb20ubG9jYWxlRGF0YSgpLm1vbnRoc1BhcnNlKHZhbHVlKTtcbiAgICAgICAgICAgIC8vIFRPRE86IEFub3RoZXIgc2lsZW50IGZhaWx1cmU/XG4gICAgICAgICAgICBpZiAoIWlzTnVtYmVyKHZhbHVlKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBtb207XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBkYXlPZk1vbnRoID0gTWF0aC5taW4obW9tLmRhdGUoKSwgZGF5c0luTW9udGgobW9tLnllYXIoKSwgdmFsdWUpKTtcbiAgICBtb20uX2RbJ3NldCcgKyAobW9tLl9pc1VUQyA/ICdVVEMnIDogJycpICsgJ01vbnRoJ10odmFsdWUsIGRheU9mTW9udGgpO1xuICAgIHJldHVybiBtb207XG59XG5cbmZ1bmN0aW9uIGdldFNldE1vbnRoICh2YWx1ZSkge1xuICAgIGlmICh2YWx1ZSAhPSBudWxsKSB7XG4gICAgICAgIHNldE1vbnRoKHRoaXMsIHZhbHVlKTtcbiAgICAgICAgaG9va3MudXBkYXRlT2Zmc2V0KHRoaXMsIHRydWUpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gZ2V0KHRoaXMsICdNb250aCcpO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gZ2V0RGF5c0luTW9udGggKCkge1xuICAgIHJldHVybiBkYXlzSW5Nb250aCh0aGlzLnllYXIoKSwgdGhpcy5tb250aCgpKTtcbn1cblxudmFyIGRlZmF1bHRNb250aHNTaG9ydFJlZ2V4ID0gbWF0Y2hXb3JkO1xuZnVuY3Rpb24gbW9udGhzU2hvcnRSZWdleCAoaXNTdHJpY3QpIHtcbiAgICBpZiAodGhpcy5fbW9udGhzUGFyc2VFeGFjdCkge1xuICAgICAgICBpZiAoIWhhc093blByb3AodGhpcywgJ19tb250aHNSZWdleCcpKSB7XG4gICAgICAgICAgICBjb21wdXRlTW9udGhzUGFyc2UuY2FsbCh0aGlzKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaXNTdHJpY3QpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9tb250aHNTaG9ydFN0cmljdFJlZ2V4O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX21vbnRoc1Nob3J0UmVnZXg7XG4gICAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgICBpZiAoIWhhc093blByb3AodGhpcywgJ19tb250aHNTaG9ydFJlZ2V4JykpIHtcbiAgICAgICAgICAgIHRoaXMuX21vbnRoc1Nob3J0UmVnZXggPSBkZWZhdWx0TW9udGhzU2hvcnRSZWdleDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5fbW9udGhzU2hvcnRTdHJpY3RSZWdleCAmJiBpc1N0cmljdCA/XG4gICAgICAgICAgICB0aGlzLl9tb250aHNTaG9ydFN0cmljdFJlZ2V4IDogdGhpcy5fbW9udGhzU2hvcnRSZWdleDtcbiAgICB9XG59XG5cbnZhciBkZWZhdWx0TW9udGhzUmVnZXggPSBtYXRjaFdvcmQ7XG5mdW5jdGlvbiBtb250aHNSZWdleCAoaXNTdHJpY3QpIHtcbiAgICBpZiAodGhpcy5fbW9udGhzUGFyc2VFeGFjdCkge1xuICAgICAgICBpZiAoIWhhc093blByb3AodGhpcywgJ19tb250aHNSZWdleCcpKSB7XG4gICAgICAgICAgICBjb21wdXRlTW9udGhzUGFyc2UuY2FsbCh0aGlzKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaXNTdHJpY3QpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9tb250aHNTdHJpY3RSZWdleDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9tb250aHNSZWdleDtcbiAgICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICAgIGlmICghaGFzT3duUHJvcCh0aGlzLCAnX21vbnRoc1JlZ2V4JykpIHtcbiAgICAgICAgICAgIHRoaXMuX21vbnRoc1JlZ2V4ID0gZGVmYXVsdE1vbnRoc1JlZ2V4O1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLl9tb250aHNTdHJpY3RSZWdleCAmJiBpc1N0cmljdCA/XG4gICAgICAgICAgICB0aGlzLl9tb250aHNTdHJpY3RSZWdleCA6IHRoaXMuX21vbnRoc1JlZ2V4O1xuICAgIH1cbn1cblxuZnVuY3Rpb24gY29tcHV0ZU1vbnRoc1BhcnNlICgpIHtcbiAgICBmdW5jdGlvbiBjbXBMZW5SZXYoYSwgYikge1xuICAgICAgICByZXR1cm4gYi5sZW5ndGggLSBhLmxlbmd0aDtcbiAgICB9XG5cbiAgICB2YXIgc2hvcnRQaWVjZXMgPSBbXSwgbG9uZ1BpZWNlcyA9IFtdLCBtaXhlZFBpZWNlcyA9IFtdLFxuICAgICAgICBpLCBtb207XG4gICAgZm9yIChpID0gMDsgaSA8IDEyOyBpKyspIHtcbiAgICAgICAgLy8gbWFrZSB0aGUgcmVnZXggaWYgd2UgZG9uJ3QgaGF2ZSBpdCBhbHJlYWR5XG4gICAgICAgIG1vbSA9IGNyZWF0ZVVUQyhbMjAwMCwgaV0pO1xuICAgICAgICBzaG9ydFBpZWNlcy5wdXNoKHRoaXMubW9udGhzU2hvcnQobW9tLCAnJykpO1xuICAgICAgICBsb25nUGllY2VzLnB1c2godGhpcy5tb250aHMobW9tLCAnJykpO1xuICAgICAgICBtaXhlZFBpZWNlcy5wdXNoKHRoaXMubW9udGhzKG1vbSwgJycpKTtcbiAgICAgICAgbWl4ZWRQaWVjZXMucHVzaCh0aGlzLm1vbnRoc1Nob3J0KG1vbSwgJycpKTtcbiAgICB9XG4gICAgLy8gU29ydGluZyBtYWtlcyBzdXJlIGlmIG9uZSBtb250aCAob3IgYWJicikgaXMgYSBwcmVmaXggb2YgYW5vdGhlciBpdFxuICAgIC8vIHdpbGwgbWF0Y2ggdGhlIGxvbmdlciBwaWVjZS5cbiAgICBzaG9ydFBpZWNlcy5zb3J0KGNtcExlblJldik7XG4gICAgbG9uZ1BpZWNlcy5zb3J0KGNtcExlblJldik7XG4gICAgbWl4ZWRQaWVjZXMuc29ydChjbXBMZW5SZXYpO1xuICAgIGZvciAoaSA9IDA7IGkgPCAxMjsgaSsrKSB7XG4gICAgICAgIHNob3J0UGllY2VzW2ldID0gcmVnZXhFc2NhcGUoc2hvcnRQaWVjZXNbaV0pO1xuICAgICAgICBsb25nUGllY2VzW2ldID0gcmVnZXhFc2NhcGUobG9uZ1BpZWNlc1tpXSk7XG4gICAgfVxuICAgIGZvciAoaSA9IDA7IGkgPCAyNDsgaSsrKSB7XG4gICAgICAgIG1peGVkUGllY2VzW2ldID0gcmVnZXhFc2NhcGUobWl4ZWRQaWVjZXNbaV0pO1xuICAgIH1cblxuICAgIHRoaXMuX21vbnRoc1JlZ2V4ID0gbmV3IFJlZ0V4cCgnXignICsgbWl4ZWRQaWVjZXMuam9pbignfCcpICsgJyknLCAnaScpO1xuICAgIHRoaXMuX21vbnRoc1Nob3J0UmVnZXggPSB0aGlzLl9tb250aHNSZWdleDtcbiAgICB0aGlzLl9tb250aHNTdHJpY3RSZWdleCA9IG5ldyBSZWdFeHAoJ14oJyArIGxvbmdQaWVjZXMuam9pbignfCcpICsgJyknLCAnaScpO1xuICAgIHRoaXMuX21vbnRoc1Nob3J0U3RyaWN0UmVnZXggPSBuZXcgUmVnRXhwKCdeKCcgKyBzaG9ydFBpZWNlcy5qb2luKCd8JykgKyAnKScsICdpJyk7XG59XG5cbi8vIEZPUk1BVFRJTkdcblxuYWRkRm9ybWF0VG9rZW4oJ1knLCAwLCAwLCBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIHkgPSB0aGlzLnllYXIoKTtcbiAgICByZXR1cm4geSA8PSA5OTk5ID8gJycgKyB5IDogJysnICsgeTtcbn0pO1xuXG5hZGRGb3JtYXRUb2tlbigwLCBbJ1lZJywgMl0sIDAsIGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gdGhpcy55ZWFyKCkgJSAxMDA7XG59KTtcblxuYWRkRm9ybWF0VG9rZW4oMCwgWydZWVlZJywgICA0XSwgICAgICAgMCwgJ3llYXInKTtcbmFkZEZvcm1hdFRva2VuKDAsIFsnWVlZWVknLCAgNV0sICAgICAgIDAsICd5ZWFyJyk7XG5hZGRGb3JtYXRUb2tlbigwLCBbJ1lZWVlZWScsIDYsIHRydWVdLCAwLCAneWVhcicpO1xuXG4vLyBBTElBU0VTXG5cbmFkZFVuaXRBbGlhcygneWVhcicsICd5Jyk7XG5cbi8vIFBSSU9SSVRJRVNcblxuYWRkVW5pdFByaW9yaXR5KCd5ZWFyJywgMSk7XG5cbi8vIFBBUlNJTkdcblxuYWRkUmVnZXhUb2tlbignWScsICAgICAgbWF0Y2hTaWduZWQpO1xuYWRkUmVnZXhUb2tlbignWVknLCAgICAgbWF0Y2gxdG8yLCBtYXRjaDIpO1xuYWRkUmVnZXhUb2tlbignWVlZWScsICAgbWF0Y2gxdG80LCBtYXRjaDQpO1xuYWRkUmVnZXhUb2tlbignWVlZWVknLCAgbWF0Y2gxdG82LCBtYXRjaDYpO1xuYWRkUmVnZXhUb2tlbignWVlZWVlZJywgbWF0Y2gxdG82LCBtYXRjaDYpO1xuXG5hZGRQYXJzZVRva2VuKFsnWVlZWVknLCAnWVlZWVlZJ10sIFlFQVIpO1xuYWRkUGFyc2VUb2tlbignWVlZWScsIGZ1bmN0aW9uIChpbnB1dCwgYXJyYXkpIHtcbiAgICBhcnJheVtZRUFSXSA9IGlucHV0Lmxlbmd0aCA9PT0gMiA/IGhvb2tzLnBhcnNlVHdvRGlnaXRZZWFyKGlucHV0KSA6IHRvSW50KGlucHV0KTtcbn0pO1xuYWRkUGFyc2VUb2tlbignWVknLCBmdW5jdGlvbiAoaW5wdXQsIGFycmF5KSB7XG4gICAgYXJyYXlbWUVBUl0gPSBob29rcy5wYXJzZVR3b0RpZ2l0WWVhcihpbnB1dCk7XG59KTtcbmFkZFBhcnNlVG9rZW4oJ1knLCBmdW5jdGlvbiAoaW5wdXQsIGFycmF5KSB7XG4gICAgYXJyYXlbWUVBUl0gPSBwYXJzZUludChpbnB1dCwgMTApO1xufSk7XG5cbi8vIEhFTFBFUlNcblxuZnVuY3Rpb24gZGF5c0luWWVhcih5ZWFyKSB7XG4gICAgcmV0dXJuIGlzTGVhcFllYXIoeWVhcikgPyAzNjYgOiAzNjU7XG59XG5cbmZ1bmN0aW9uIGlzTGVhcFllYXIoeWVhcikge1xuICAgIHJldHVybiAoeWVhciAlIDQgPT09IDAgJiYgeWVhciAlIDEwMCAhPT0gMCkgfHwgeWVhciAlIDQwMCA9PT0gMDtcbn1cblxuLy8gSE9PS1NcblxuaG9va3MucGFyc2VUd29EaWdpdFllYXIgPSBmdW5jdGlvbiAoaW5wdXQpIHtcbiAgICByZXR1cm4gdG9JbnQoaW5wdXQpICsgKHRvSW50KGlucHV0KSA+IDY4ID8gMTkwMCA6IDIwMDApO1xufTtcblxuLy8gTU9NRU5UU1xuXG52YXIgZ2V0U2V0WWVhciA9IG1ha2VHZXRTZXQoJ0Z1bGxZZWFyJywgdHJ1ZSk7XG5cbmZ1bmN0aW9uIGdldElzTGVhcFllYXIgKCkge1xuICAgIHJldHVybiBpc0xlYXBZZWFyKHRoaXMueWVhcigpKTtcbn1cblxuZnVuY3Rpb24gY3JlYXRlRGF0ZSAoeSwgbSwgZCwgaCwgTSwgcywgbXMpIHtcbiAgICAvL2Nhbid0IGp1c3QgYXBwbHkoKSB0byBjcmVhdGUgYSBkYXRlOlxuICAgIC8vaHR0cDovL3N0YWNrb3ZlcmZsb3cuY29tL3F1ZXN0aW9ucy8xODEzNDgvaW5zdGFudGlhdGluZy1hLWphdmFzY3JpcHQtb2JqZWN0LWJ5LWNhbGxpbmctcHJvdG90eXBlLWNvbnN0cnVjdG9yLWFwcGx5XG4gICAgdmFyIGRhdGUgPSBuZXcgRGF0ZSh5LCBtLCBkLCBoLCBNLCBzLCBtcyk7XG5cbiAgICAvL3RoZSBkYXRlIGNvbnN0cnVjdG9yIHJlbWFwcyB5ZWFycyAwLTk5IHRvIDE5MDAtMTk5OVxuICAgIGlmICh5IDwgMTAwICYmIHkgPj0gMCAmJiBpc0Zpbml0ZShkYXRlLmdldEZ1bGxZZWFyKCkpKSB7XG4gICAgICAgIGRhdGUuc2V0RnVsbFllYXIoeSk7XG4gICAgfVxuICAgIHJldHVybiBkYXRlO1xufVxuXG5mdW5jdGlvbiBjcmVhdGVVVENEYXRlICh5KSB7XG4gICAgdmFyIGRhdGUgPSBuZXcgRGF0ZShEYXRlLlVUQy5hcHBseShudWxsLCBhcmd1bWVudHMpKTtcblxuICAgIC8vdGhlIERhdGUuVVRDIGZ1bmN0aW9uIHJlbWFwcyB5ZWFycyAwLTk5IHRvIDE5MDAtMTk5OVxuICAgIGlmICh5IDwgMTAwICYmIHkgPj0gMCAmJiBpc0Zpbml0ZShkYXRlLmdldFVUQ0Z1bGxZZWFyKCkpKSB7XG4gICAgICAgIGRhdGUuc2V0VVRDRnVsbFllYXIoeSk7XG4gICAgfVxuICAgIHJldHVybiBkYXRlO1xufVxuXG4vLyBzdGFydC1vZi1maXJzdC13ZWVrIC0gc3RhcnQtb2YteWVhclxuZnVuY3Rpb24gZmlyc3RXZWVrT2Zmc2V0KHllYXIsIGRvdywgZG95KSB7XG4gICAgdmFyIC8vIGZpcnN0LXdlZWsgZGF5IC0tIHdoaWNoIGphbnVhcnkgaXMgYWx3YXlzIGluIHRoZSBmaXJzdCB3ZWVrICg0IGZvciBpc28sIDEgZm9yIG90aGVyKVxuICAgICAgICBmd2QgPSA3ICsgZG93IC0gZG95LFxuICAgICAgICAvLyBmaXJzdC13ZWVrIGRheSBsb2NhbCB3ZWVrZGF5IC0tIHdoaWNoIGxvY2FsIHdlZWtkYXkgaXMgZndkXG4gICAgICAgIGZ3ZGx3ID0gKDcgKyBjcmVhdGVVVENEYXRlKHllYXIsIDAsIGZ3ZCkuZ2V0VVRDRGF5KCkgLSBkb3cpICUgNztcblxuICAgIHJldHVybiAtZndkbHcgKyBmd2QgLSAxO1xufVxuXG4vL2h0dHA6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvSVNPX3dlZWtfZGF0ZSNDYWxjdWxhdGluZ19hX2RhdGVfZ2l2ZW5fdGhlX3llYXIuMkNfd2Vla19udW1iZXJfYW5kX3dlZWtkYXlcbmZ1bmN0aW9uIGRheU9mWWVhckZyb21XZWVrcyh5ZWFyLCB3ZWVrLCB3ZWVrZGF5LCBkb3csIGRveSkge1xuICAgIHZhciBsb2NhbFdlZWtkYXkgPSAoNyArIHdlZWtkYXkgLSBkb3cpICUgNyxcbiAgICAgICAgd2Vla09mZnNldCA9IGZpcnN0V2Vla09mZnNldCh5ZWFyLCBkb3csIGRveSksXG4gICAgICAgIGRheU9mWWVhciA9IDEgKyA3ICogKHdlZWsgLSAxKSArIGxvY2FsV2Vla2RheSArIHdlZWtPZmZzZXQsXG4gICAgICAgIHJlc1llYXIsIHJlc0RheU9mWWVhcjtcblxuICAgIGlmIChkYXlPZlllYXIgPD0gMCkge1xuICAgICAgICByZXNZZWFyID0geWVhciAtIDE7XG4gICAgICAgIHJlc0RheU9mWWVhciA9IGRheXNJblllYXIocmVzWWVhcikgKyBkYXlPZlllYXI7XG4gICAgfSBlbHNlIGlmIChkYXlPZlllYXIgPiBkYXlzSW5ZZWFyKHllYXIpKSB7XG4gICAgICAgIHJlc1llYXIgPSB5ZWFyICsgMTtcbiAgICAgICAgcmVzRGF5T2ZZZWFyID0gZGF5T2ZZZWFyIC0gZGF5c0luWWVhcih5ZWFyKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICByZXNZZWFyID0geWVhcjtcbiAgICAgICAgcmVzRGF5T2ZZZWFyID0gZGF5T2ZZZWFyO1xuICAgIH1cblxuICAgIHJldHVybiB7XG4gICAgICAgIHllYXI6IHJlc1llYXIsXG4gICAgICAgIGRheU9mWWVhcjogcmVzRGF5T2ZZZWFyXG4gICAgfTtcbn1cblxuZnVuY3Rpb24gd2Vla09mWWVhcihtb20sIGRvdywgZG95KSB7XG4gICAgdmFyIHdlZWtPZmZzZXQgPSBmaXJzdFdlZWtPZmZzZXQobW9tLnllYXIoKSwgZG93LCBkb3kpLFxuICAgICAgICB3ZWVrID0gTWF0aC5mbG9vcigobW9tLmRheU9mWWVhcigpIC0gd2Vla09mZnNldCAtIDEpIC8gNykgKyAxLFxuICAgICAgICByZXNXZWVrLCByZXNZZWFyO1xuXG4gICAgaWYgKHdlZWsgPCAxKSB7XG4gICAgICAgIHJlc1llYXIgPSBtb20ueWVhcigpIC0gMTtcbiAgICAgICAgcmVzV2VlayA9IHdlZWsgKyB3ZWVrc0luWWVhcihyZXNZZWFyLCBkb3csIGRveSk7XG4gICAgfSBlbHNlIGlmICh3ZWVrID4gd2Vla3NJblllYXIobW9tLnllYXIoKSwgZG93LCBkb3kpKSB7XG4gICAgICAgIHJlc1dlZWsgPSB3ZWVrIC0gd2Vla3NJblllYXIobW9tLnllYXIoKSwgZG93LCBkb3kpO1xuICAgICAgICByZXNZZWFyID0gbW9tLnllYXIoKSArIDE7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgcmVzWWVhciA9IG1vbS55ZWFyKCk7XG4gICAgICAgIHJlc1dlZWsgPSB3ZWVrO1xuICAgIH1cblxuICAgIHJldHVybiB7XG4gICAgICAgIHdlZWs6IHJlc1dlZWssXG4gICAgICAgIHllYXI6IHJlc1llYXJcbiAgICB9O1xufVxuXG5mdW5jdGlvbiB3ZWVrc0luWWVhcih5ZWFyLCBkb3csIGRveSkge1xuICAgIHZhciB3ZWVrT2Zmc2V0ID0gZmlyc3RXZWVrT2Zmc2V0KHllYXIsIGRvdywgZG95KSxcbiAgICAgICAgd2Vla09mZnNldE5leHQgPSBmaXJzdFdlZWtPZmZzZXQoeWVhciArIDEsIGRvdywgZG95KTtcbiAgICByZXR1cm4gKGRheXNJblllYXIoeWVhcikgLSB3ZWVrT2Zmc2V0ICsgd2Vla09mZnNldE5leHQpIC8gNztcbn1cblxuLy8gRk9STUFUVElOR1xuXG5hZGRGb3JtYXRUb2tlbigndycsIFsnd3cnLCAyXSwgJ3dvJywgJ3dlZWsnKTtcbmFkZEZvcm1hdFRva2VuKCdXJywgWydXVycsIDJdLCAnV28nLCAnaXNvV2VlaycpO1xuXG4vLyBBTElBU0VTXG5cbmFkZFVuaXRBbGlhcygnd2VlaycsICd3Jyk7XG5hZGRVbml0QWxpYXMoJ2lzb1dlZWsnLCAnVycpO1xuXG4vLyBQUklPUklUSUVTXG5cbmFkZFVuaXRQcmlvcml0eSgnd2VlaycsIDUpO1xuYWRkVW5pdFByaW9yaXR5KCdpc29XZWVrJywgNSk7XG5cbi8vIFBBUlNJTkdcblxuYWRkUmVnZXhUb2tlbigndycsICBtYXRjaDF0bzIpO1xuYWRkUmVnZXhUb2tlbignd3cnLCBtYXRjaDF0bzIsIG1hdGNoMik7XG5hZGRSZWdleFRva2VuKCdXJywgIG1hdGNoMXRvMik7XG5hZGRSZWdleFRva2VuKCdXVycsIG1hdGNoMXRvMiwgbWF0Y2gyKTtcblxuYWRkV2Vla1BhcnNlVG9rZW4oWyd3JywgJ3d3JywgJ1cnLCAnV1cnXSwgZnVuY3Rpb24gKGlucHV0LCB3ZWVrLCBjb25maWcsIHRva2VuKSB7XG4gICAgd2Vla1t0b2tlbi5zdWJzdHIoMCwgMSldID0gdG9JbnQoaW5wdXQpO1xufSk7XG5cbi8vIEhFTFBFUlNcblxuLy8gTE9DQUxFU1xuXG5mdW5jdGlvbiBsb2NhbGVXZWVrIChtb20pIHtcbiAgICByZXR1cm4gd2Vla09mWWVhcihtb20sIHRoaXMuX3dlZWsuZG93LCB0aGlzLl93ZWVrLmRveSkud2Vlaztcbn1cblxudmFyIGRlZmF1bHRMb2NhbGVXZWVrID0ge1xuICAgIGRvdyA6IDAsIC8vIFN1bmRheSBpcyB0aGUgZmlyc3QgZGF5IG9mIHRoZSB3ZWVrLlxuICAgIGRveSA6IDYgIC8vIFRoZSB3ZWVrIHRoYXQgY29udGFpbnMgSmFuIDFzdCBpcyB0aGUgZmlyc3Qgd2VlayBvZiB0aGUgeWVhci5cbn07XG5cbmZ1bmN0aW9uIGxvY2FsZUZpcnN0RGF5T2ZXZWVrICgpIHtcbiAgICByZXR1cm4gdGhpcy5fd2Vlay5kb3c7XG59XG5cbmZ1bmN0aW9uIGxvY2FsZUZpcnN0RGF5T2ZZZWFyICgpIHtcbiAgICByZXR1cm4gdGhpcy5fd2Vlay5kb3k7XG59XG5cbi8vIE1PTUVOVFNcblxuZnVuY3Rpb24gZ2V0U2V0V2VlayAoaW5wdXQpIHtcbiAgICB2YXIgd2VlayA9IHRoaXMubG9jYWxlRGF0YSgpLndlZWsodGhpcyk7XG4gICAgcmV0dXJuIGlucHV0ID09IG51bGwgPyB3ZWVrIDogdGhpcy5hZGQoKGlucHV0IC0gd2VlaykgKiA3LCAnZCcpO1xufVxuXG5mdW5jdGlvbiBnZXRTZXRJU09XZWVrIChpbnB1dCkge1xuICAgIHZhciB3ZWVrID0gd2Vla09mWWVhcih0aGlzLCAxLCA0KS53ZWVrO1xuICAgIHJldHVybiBpbnB1dCA9PSBudWxsID8gd2VlayA6IHRoaXMuYWRkKChpbnB1dCAtIHdlZWspICogNywgJ2QnKTtcbn1cblxuLy8gRk9STUFUVElOR1xuXG5hZGRGb3JtYXRUb2tlbignZCcsIDAsICdkbycsICdkYXknKTtcblxuYWRkRm9ybWF0VG9rZW4oJ2RkJywgMCwgMCwgZnVuY3Rpb24gKGZvcm1hdCkge1xuICAgIHJldHVybiB0aGlzLmxvY2FsZURhdGEoKS53ZWVrZGF5c01pbih0aGlzLCBmb3JtYXQpO1xufSk7XG5cbmFkZEZvcm1hdFRva2VuKCdkZGQnLCAwLCAwLCBmdW5jdGlvbiAoZm9ybWF0KSB7XG4gICAgcmV0dXJuIHRoaXMubG9jYWxlRGF0YSgpLndlZWtkYXlzU2hvcnQodGhpcywgZm9ybWF0KTtcbn0pO1xuXG5hZGRGb3JtYXRUb2tlbignZGRkZCcsIDAsIDAsIGZ1bmN0aW9uIChmb3JtYXQpIHtcbiAgICByZXR1cm4gdGhpcy5sb2NhbGVEYXRhKCkud2Vla2RheXModGhpcywgZm9ybWF0KTtcbn0pO1xuXG5hZGRGb3JtYXRUb2tlbignZScsIDAsIDAsICd3ZWVrZGF5Jyk7XG5hZGRGb3JtYXRUb2tlbignRScsIDAsIDAsICdpc29XZWVrZGF5Jyk7XG5cbi8vIEFMSUFTRVNcblxuYWRkVW5pdEFsaWFzKCdkYXknLCAnZCcpO1xuYWRkVW5pdEFsaWFzKCd3ZWVrZGF5JywgJ2UnKTtcbmFkZFVuaXRBbGlhcygnaXNvV2Vla2RheScsICdFJyk7XG5cbi8vIFBSSU9SSVRZXG5hZGRVbml0UHJpb3JpdHkoJ2RheScsIDExKTtcbmFkZFVuaXRQcmlvcml0eSgnd2Vla2RheScsIDExKTtcbmFkZFVuaXRQcmlvcml0eSgnaXNvV2Vla2RheScsIDExKTtcblxuLy8gUEFSU0lOR1xuXG5hZGRSZWdleFRva2VuKCdkJywgICAgbWF0Y2gxdG8yKTtcbmFkZFJlZ2V4VG9rZW4oJ2UnLCAgICBtYXRjaDF0bzIpO1xuYWRkUmVnZXhUb2tlbignRScsICAgIG1hdGNoMXRvMik7XG5hZGRSZWdleFRva2VuKCdkZCcsICAgZnVuY3Rpb24gKGlzU3RyaWN0LCBsb2NhbGUpIHtcbiAgICByZXR1cm4gbG9jYWxlLndlZWtkYXlzTWluUmVnZXgoaXNTdHJpY3QpO1xufSk7XG5hZGRSZWdleFRva2VuKCdkZGQnLCAgIGZ1bmN0aW9uIChpc1N0cmljdCwgbG9jYWxlKSB7XG4gICAgcmV0dXJuIGxvY2FsZS53ZWVrZGF5c1Nob3J0UmVnZXgoaXNTdHJpY3QpO1xufSk7XG5hZGRSZWdleFRva2VuKCdkZGRkJywgICBmdW5jdGlvbiAoaXNTdHJpY3QsIGxvY2FsZSkge1xuICAgIHJldHVybiBsb2NhbGUud2Vla2RheXNSZWdleChpc1N0cmljdCk7XG59KTtcblxuYWRkV2Vla1BhcnNlVG9rZW4oWydkZCcsICdkZGQnLCAnZGRkZCddLCBmdW5jdGlvbiAoaW5wdXQsIHdlZWssIGNvbmZpZywgdG9rZW4pIHtcbiAgICB2YXIgd2Vla2RheSA9IGNvbmZpZy5fbG9jYWxlLndlZWtkYXlzUGFyc2UoaW5wdXQsIHRva2VuLCBjb25maWcuX3N0cmljdCk7XG4gICAgLy8gaWYgd2UgZGlkbid0IGdldCBhIHdlZWtkYXkgbmFtZSwgbWFyayB0aGUgZGF0ZSBhcyBpbnZhbGlkXG4gICAgaWYgKHdlZWtkYXkgIT0gbnVsbCkge1xuICAgICAgICB3ZWVrLmQgPSB3ZWVrZGF5O1xuICAgIH0gZWxzZSB7XG4gICAgICAgIGdldFBhcnNpbmdGbGFncyhjb25maWcpLmludmFsaWRXZWVrZGF5ID0gaW5wdXQ7XG4gICAgfVxufSk7XG5cbmFkZFdlZWtQYXJzZVRva2VuKFsnZCcsICdlJywgJ0UnXSwgZnVuY3Rpb24gKGlucHV0LCB3ZWVrLCBjb25maWcsIHRva2VuKSB7XG4gICAgd2Vla1t0b2tlbl0gPSB0b0ludChpbnB1dCk7XG59KTtcblxuLy8gSEVMUEVSU1xuXG5mdW5jdGlvbiBwYXJzZVdlZWtkYXkoaW5wdXQsIGxvY2FsZSkge1xuICAgIGlmICh0eXBlb2YgaW5wdXQgIT09ICdzdHJpbmcnKSB7XG4gICAgICAgIHJldHVybiBpbnB1dDtcbiAgICB9XG5cbiAgICBpZiAoIWlzTmFOKGlucHV0KSkge1xuICAgICAgICByZXR1cm4gcGFyc2VJbnQoaW5wdXQsIDEwKTtcbiAgICB9XG5cbiAgICBpbnB1dCA9IGxvY2FsZS53ZWVrZGF5c1BhcnNlKGlucHV0KTtcbiAgICBpZiAodHlwZW9mIGlucHV0ID09PSAnbnVtYmVyJykge1xuICAgICAgICByZXR1cm4gaW5wdXQ7XG4gICAgfVxuXG4gICAgcmV0dXJuIG51bGw7XG59XG5cbmZ1bmN0aW9uIHBhcnNlSXNvV2Vla2RheShpbnB1dCwgbG9jYWxlKSB7XG4gICAgaWYgKHR5cGVvZiBpbnB1dCA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgcmV0dXJuIGxvY2FsZS53ZWVrZGF5c1BhcnNlKGlucHV0KSAlIDcgfHwgNztcbiAgICB9XG4gICAgcmV0dXJuIGlzTmFOKGlucHV0KSA/IG51bGwgOiBpbnB1dDtcbn1cblxuLy8gTE9DQUxFU1xuXG52YXIgZGVmYXVsdExvY2FsZVdlZWtkYXlzID0gJ1N1bmRheV9Nb25kYXlfVHVlc2RheV9XZWRuZXNkYXlfVGh1cnNkYXlfRnJpZGF5X1NhdHVyZGF5Jy5zcGxpdCgnXycpO1xuZnVuY3Rpb24gbG9jYWxlV2Vla2RheXMgKG0sIGZvcm1hdCkge1xuICAgIGlmICghbSkge1xuICAgICAgICByZXR1cm4gdGhpcy5fd2Vla2RheXM7XG4gICAgfVxuICAgIHJldHVybiBpc0FycmF5KHRoaXMuX3dlZWtkYXlzKSA/IHRoaXMuX3dlZWtkYXlzW20uZGF5KCldIDpcbiAgICAgICAgdGhpcy5fd2Vla2RheXNbdGhpcy5fd2Vla2RheXMuaXNGb3JtYXQudGVzdChmb3JtYXQpID8gJ2Zvcm1hdCcgOiAnc3RhbmRhbG9uZSddW20uZGF5KCldO1xufVxuXG52YXIgZGVmYXVsdExvY2FsZVdlZWtkYXlzU2hvcnQgPSAnU3VuX01vbl9UdWVfV2VkX1RodV9GcmlfU2F0Jy5zcGxpdCgnXycpO1xuZnVuY3Rpb24gbG9jYWxlV2Vla2RheXNTaG9ydCAobSkge1xuICAgIHJldHVybiAobSkgPyB0aGlzLl93ZWVrZGF5c1Nob3J0W20uZGF5KCldIDogdGhpcy5fd2Vla2RheXNTaG9ydDtcbn1cblxudmFyIGRlZmF1bHRMb2NhbGVXZWVrZGF5c01pbiA9ICdTdV9Nb19UdV9XZV9UaF9Gcl9TYScuc3BsaXQoJ18nKTtcbmZ1bmN0aW9uIGxvY2FsZVdlZWtkYXlzTWluIChtKSB7XG4gICAgcmV0dXJuIChtKSA/IHRoaXMuX3dlZWtkYXlzTWluW20uZGF5KCldIDogdGhpcy5fd2Vla2RheXNNaW47XG59XG5cbmZ1bmN0aW9uIGhhbmRsZVN0cmljdFBhcnNlJDEod2Vla2RheU5hbWUsIGZvcm1hdCwgc3RyaWN0KSB7XG4gICAgdmFyIGksIGlpLCBtb20sIGxsYyA9IHdlZWtkYXlOYW1lLnRvTG9jYWxlTG93ZXJDYXNlKCk7XG4gICAgaWYgKCF0aGlzLl93ZWVrZGF5c1BhcnNlKSB7XG4gICAgICAgIHRoaXMuX3dlZWtkYXlzUGFyc2UgPSBbXTtcbiAgICAgICAgdGhpcy5fc2hvcnRXZWVrZGF5c1BhcnNlID0gW107XG4gICAgICAgIHRoaXMuX21pbldlZWtkYXlzUGFyc2UgPSBbXTtcblxuICAgICAgICBmb3IgKGkgPSAwOyBpIDwgNzsgKytpKSB7XG4gICAgICAgICAgICBtb20gPSBjcmVhdGVVVEMoWzIwMDAsIDFdKS5kYXkoaSk7XG4gICAgICAgICAgICB0aGlzLl9taW5XZWVrZGF5c1BhcnNlW2ldID0gdGhpcy53ZWVrZGF5c01pbihtb20sICcnKS50b0xvY2FsZUxvd2VyQ2FzZSgpO1xuICAgICAgICAgICAgdGhpcy5fc2hvcnRXZWVrZGF5c1BhcnNlW2ldID0gdGhpcy53ZWVrZGF5c1Nob3J0KG1vbSwgJycpLnRvTG9jYWxlTG93ZXJDYXNlKCk7XG4gICAgICAgICAgICB0aGlzLl93ZWVrZGF5c1BhcnNlW2ldID0gdGhpcy53ZWVrZGF5cyhtb20sICcnKS50b0xvY2FsZUxvd2VyQ2FzZSgpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgaWYgKHN0cmljdCkge1xuICAgICAgICBpZiAoZm9ybWF0ID09PSAnZGRkZCcpIHtcbiAgICAgICAgICAgIGlpID0gaW5kZXhPZiQxLmNhbGwodGhpcy5fd2Vla2RheXNQYXJzZSwgbGxjKTtcbiAgICAgICAgICAgIHJldHVybiBpaSAhPT0gLTEgPyBpaSA6IG51bGw7XG4gICAgICAgIH0gZWxzZSBpZiAoZm9ybWF0ID09PSAnZGRkJykge1xuICAgICAgICAgICAgaWkgPSBpbmRleE9mJDEuY2FsbCh0aGlzLl9zaG9ydFdlZWtkYXlzUGFyc2UsIGxsYyk7XG4gICAgICAgICAgICByZXR1cm4gaWkgIT09IC0xID8gaWkgOiBudWxsO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaWkgPSBpbmRleE9mJDEuY2FsbCh0aGlzLl9taW5XZWVrZGF5c1BhcnNlLCBsbGMpO1xuICAgICAgICAgICAgcmV0dXJuIGlpICE9PSAtMSA/IGlpIDogbnVsbDtcbiAgICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICAgIGlmIChmb3JtYXQgPT09ICdkZGRkJykge1xuICAgICAgICAgICAgaWkgPSBpbmRleE9mJDEuY2FsbCh0aGlzLl93ZWVrZGF5c1BhcnNlLCBsbGMpO1xuICAgICAgICAgICAgaWYgKGlpICE9PSAtMSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBpaTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlpID0gaW5kZXhPZiQxLmNhbGwodGhpcy5fc2hvcnRXZWVrZGF5c1BhcnNlLCBsbGMpO1xuICAgICAgICAgICAgaWYgKGlpICE9PSAtMSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBpaTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlpID0gaW5kZXhPZiQxLmNhbGwodGhpcy5fbWluV2Vla2RheXNQYXJzZSwgbGxjKTtcbiAgICAgICAgICAgIHJldHVybiBpaSAhPT0gLTEgPyBpaSA6IG51bGw7XG4gICAgICAgIH0gZWxzZSBpZiAoZm9ybWF0ID09PSAnZGRkJykge1xuICAgICAgICAgICAgaWkgPSBpbmRleE9mJDEuY2FsbCh0aGlzLl9zaG9ydFdlZWtkYXlzUGFyc2UsIGxsYyk7XG4gICAgICAgICAgICBpZiAoaWkgIT09IC0xKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGlpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWkgPSBpbmRleE9mJDEuY2FsbCh0aGlzLl93ZWVrZGF5c1BhcnNlLCBsbGMpO1xuICAgICAgICAgICAgaWYgKGlpICE9PSAtMSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBpaTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlpID0gaW5kZXhPZiQxLmNhbGwodGhpcy5fbWluV2Vla2RheXNQYXJzZSwgbGxjKTtcbiAgICAgICAgICAgIHJldHVybiBpaSAhPT0gLTEgPyBpaSA6IG51bGw7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpaSA9IGluZGV4T2YkMS5jYWxsKHRoaXMuX21pbldlZWtkYXlzUGFyc2UsIGxsYyk7XG4gICAgICAgICAgICBpZiAoaWkgIT09IC0xKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGlpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWkgPSBpbmRleE9mJDEuY2FsbCh0aGlzLl93ZWVrZGF5c1BhcnNlLCBsbGMpO1xuICAgICAgICAgICAgaWYgKGlpICE9PSAtMSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBpaTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlpID0gaW5kZXhPZiQxLmNhbGwodGhpcy5fc2hvcnRXZWVrZGF5c1BhcnNlLCBsbGMpO1xuICAgICAgICAgICAgcmV0dXJuIGlpICE9PSAtMSA/IGlpIDogbnVsbDtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuZnVuY3Rpb24gbG9jYWxlV2Vla2RheXNQYXJzZSAod2Vla2RheU5hbWUsIGZvcm1hdCwgc3RyaWN0KSB7XG4gICAgdmFyIGksIG1vbSwgcmVnZXg7XG5cbiAgICBpZiAodGhpcy5fd2Vla2RheXNQYXJzZUV4YWN0KSB7XG4gICAgICAgIHJldHVybiBoYW5kbGVTdHJpY3RQYXJzZSQxLmNhbGwodGhpcywgd2Vla2RheU5hbWUsIGZvcm1hdCwgc3RyaWN0KTtcbiAgICB9XG5cbiAgICBpZiAoIXRoaXMuX3dlZWtkYXlzUGFyc2UpIHtcbiAgICAgICAgdGhpcy5fd2Vla2RheXNQYXJzZSA9IFtdO1xuICAgICAgICB0aGlzLl9taW5XZWVrZGF5c1BhcnNlID0gW107XG4gICAgICAgIHRoaXMuX3Nob3J0V2Vla2RheXNQYXJzZSA9IFtdO1xuICAgICAgICB0aGlzLl9mdWxsV2Vla2RheXNQYXJzZSA9IFtdO1xuICAgIH1cblxuICAgIGZvciAoaSA9IDA7IGkgPCA3OyBpKyspIHtcbiAgICAgICAgLy8gbWFrZSB0aGUgcmVnZXggaWYgd2UgZG9uJ3QgaGF2ZSBpdCBhbHJlYWR5XG5cbiAgICAgICAgbW9tID0gY3JlYXRlVVRDKFsyMDAwLCAxXSkuZGF5KGkpO1xuICAgICAgICBpZiAoc3RyaWN0ICYmICF0aGlzLl9mdWxsV2Vla2RheXNQYXJzZVtpXSkge1xuICAgICAgICAgICAgdGhpcy5fZnVsbFdlZWtkYXlzUGFyc2VbaV0gPSBuZXcgUmVnRXhwKCdeJyArIHRoaXMud2Vla2RheXMobW9tLCAnJykucmVwbGFjZSgnLicsICdcXC4/JykgKyAnJCcsICdpJyk7XG4gICAgICAgICAgICB0aGlzLl9zaG9ydFdlZWtkYXlzUGFyc2VbaV0gPSBuZXcgUmVnRXhwKCdeJyArIHRoaXMud2Vla2RheXNTaG9ydChtb20sICcnKS5yZXBsYWNlKCcuJywgJ1xcLj8nKSArICckJywgJ2knKTtcbiAgICAgICAgICAgIHRoaXMuX21pbldlZWtkYXlzUGFyc2VbaV0gPSBuZXcgUmVnRXhwKCdeJyArIHRoaXMud2Vla2RheXNNaW4obW9tLCAnJykucmVwbGFjZSgnLicsICdcXC4/JykgKyAnJCcsICdpJyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCF0aGlzLl93ZWVrZGF5c1BhcnNlW2ldKSB7XG4gICAgICAgICAgICByZWdleCA9ICdeJyArIHRoaXMud2Vla2RheXMobW9tLCAnJykgKyAnfF4nICsgdGhpcy53ZWVrZGF5c1Nob3J0KG1vbSwgJycpICsgJ3xeJyArIHRoaXMud2Vla2RheXNNaW4obW9tLCAnJyk7XG4gICAgICAgICAgICB0aGlzLl93ZWVrZGF5c1BhcnNlW2ldID0gbmV3IFJlZ0V4cChyZWdleC5yZXBsYWNlKCcuJywgJycpLCAnaScpO1xuICAgICAgICB9XG4gICAgICAgIC8vIHRlc3QgdGhlIHJlZ2V4XG4gICAgICAgIGlmIChzdHJpY3QgJiYgZm9ybWF0ID09PSAnZGRkZCcgJiYgdGhpcy5fZnVsbFdlZWtkYXlzUGFyc2VbaV0udGVzdCh3ZWVrZGF5TmFtZSkpIHtcbiAgICAgICAgICAgIHJldHVybiBpO1xuICAgICAgICB9IGVsc2UgaWYgKHN0cmljdCAmJiBmb3JtYXQgPT09ICdkZGQnICYmIHRoaXMuX3Nob3J0V2Vla2RheXNQYXJzZVtpXS50ZXN0KHdlZWtkYXlOYW1lKSkge1xuICAgICAgICAgICAgcmV0dXJuIGk7XG4gICAgICAgIH0gZWxzZSBpZiAoc3RyaWN0ICYmIGZvcm1hdCA9PT0gJ2RkJyAmJiB0aGlzLl9taW5XZWVrZGF5c1BhcnNlW2ldLnRlc3Qod2Vla2RheU5hbWUpKSB7XG4gICAgICAgICAgICByZXR1cm4gaTtcbiAgICAgICAgfSBlbHNlIGlmICghc3RyaWN0ICYmIHRoaXMuX3dlZWtkYXlzUGFyc2VbaV0udGVzdCh3ZWVrZGF5TmFtZSkpIHtcbiAgICAgICAgICAgIHJldHVybiBpO1xuICAgICAgICB9XG4gICAgfVxufVxuXG4vLyBNT01FTlRTXG5cbmZ1bmN0aW9uIGdldFNldERheU9mV2VlayAoaW5wdXQpIHtcbiAgICBpZiAoIXRoaXMuaXNWYWxpZCgpKSB7XG4gICAgICAgIHJldHVybiBpbnB1dCAhPSBudWxsID8gdGhpcyA6IE5hTjtcbiAgICB9XG4gICAgdmFyIGRheSA9IHRoaXMuX2lzVVRDID8gdGhpcy5fZC5nZXRVVENEYXkoKSA6IHRoaXMuX2QuZ2V0RGF5KCk7XG4gICAgaWYgKGlucHV0ICE9IG51bGwpIHtcbiAgICAgICAgaW5wdXQgPSBwYXJzZVdlZWtkYXkoaW5wdXQsIHRoaXMubG9jYWxlRGF0YSgpKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuYWRkKGlucHV0IC0gZGF5LCAnZCcpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBkYXk7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBnZXRTZXRMb2NhbGVEYXlPZldlZWsgKGlucHV0KSB7XG4gICAgaWYgKCF0aGlzLmlzVmFsaWQoKSkge1xuICAgICAgICByZXR1cm4gaW5wdXQgIT0gbnVsbCA/IHRoaXMgOiBOYU47XG4gICAgfVxuICAgIHZhciB3ZWVrZGF5ID0gKHRoaXMuZGF5KCkgKyA3IC0gdGhpcy5sb2NhbGVEYXRhKCkuX3dlZWsuZG93KSAlIDc7XG4gICAgcmV0dXJuIGlucHV0ID09IG51bGwgPyB3ZWVrZGF5IDogdGhpcy5hZGQoaW5wdXQgLSB3ZWVrZGF5LCAnZCcpO1xufVxuXG5mdW5jdGlvbiBnZXRTZXRJU09EYXlPZldlZWsgKGlucHV0KSB7XG4gICAgaWYgKCF0aGlzLmlzVmFsaWQoKSkge1xuICAgICAgICByZXR1cm4gaW5wdXQgIT0gbnVsbCA/IHRoaXMgOiBOYU47XG4gICAgfVxuXG4gICAgLy8gYmVoYXZlcyB0aGUgc2FtZSBhcyBtb21lbnQjZGF5IGV4Y2VwdFxuICAgIC8vIGFzIGEgZ2V0dGVyLCByZXR1cm5zIDcgaW5zdGVhZCBvZiAwICgxLTcgcmFuZ2UgaW5zdGVhZCBvZiAwLTYpXG4gICAgLy8gYXMgYSBzZXR0ZXIsIHN1bmRheSBzaG91bGQgYmVsb25nIHRvIHRoZSBwcmV2aW91cyB3ZWVrLlxuXG4gICAgaWYgKGlucHV0ICE9IG51bGwpIHtcbiAgICAgICAgdmFyIHdlZWtkYXkgPSBwYXJzZUlzb1dlZWtkYXkoaW5wdXQsIHRoaXMubG9jYWxlRGF0YSgpKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuZGF5KHRoaXMuZGF5KCkgJSA3ID8gd2Vla2RheSA6IHdlZWtkYXkgLSA3KTtcbiAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gdGhpcy5kYXkoKSB8fCA3O1xuICAgIH1cbn1cblxudmFyIGRlZmF1bHRXZWVrZGF5c1JlZ2V4ID0gbWF0Y2hXb3JkO1xuZnVuY3Rpb24gd2Vla2RheXNSZWdleCAoaXNTdHJpY3QpIHtcbiAgICBpZiAodGhpcy5fd2Vla2RheXNQYXJzZUV4YWN0KSB7XG4gICAgICAgIGlmICghaGFzT3duUHJvcCh0aGlzLCAnX3dlZWtkYXlzUmVnZXgnKSkge1xuICAgICAgICAgICAgY29tcHV0ZVdlZWtkYXlzUGFyc2UuY2FsbCh0aGlzKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaXNTdHJpY3QpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl93ZWVrZGF5c1N0cmljdFJlZ2V4O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3dlZWtkYXlzUmVnZXg7XG4gICAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgICBpZiAoIWhhc093blByb3AodGhpcywgJ193ZWVrZGF5c1JlZ2V4JykpIHtcbiAgICAgICAgICAgIHRoaXMuX3dlZWtkYXlzUmVnZXggPSBkZWZhdWx0V2Vla2RheXNSZWdleDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5fd2Vla2RheXNTdHJpY3RSZWdleCAmJiBpc1N0cmljdCA/XG4gICAgICAgICAgICB0aGlzLl93ZWVrZGF5c1N0cmljdFJlZ2V4IDogdGhpcy5fd2Vla2RheXNSZWdleDtcbiAgICB9XG59XG5cbnZhciBkZWZhdWx0V2Vla2RheXNTaG9ydFJlZ2V4ID0gbWF0Y2hXb3JkO1xuZnVuY3Rpb24gd2Vla2RheXNTaG9ydFJlZ2V4IChpc1N0cmljdCkge1xuICAgIGlmICh0aGlzLl93ZWVrZGF5c1BhcnNlRXhhY3QpIHtcbiAgICAgICAgaWYgKCFoYXNPd25Qcm9wKHRoaXMsICdfd2Vla2RheXNSZWdleCcpKSB7XG4gICAgICAgICAgICBjb21wdXRlV2Vla2RheXNQYXJzZS5jYWxsKHRoaXMpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChpc1N0cmljdCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3dlZWtkYXlzU2hvcnRTdHJpY3RSZWdleDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl93ZWVrZGF5c1Nob3J0UmVnZXg7XG4gICAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgICBpZiAoIWhhc093blByb3AodGhpcywgJ193ZWVrZGF5c1Nob3J0UmVnZXgnKSkge1xuICAgICAgICAgICAgdGhpcy5fd2Vla2RheXNTaG9ydFJlZ2V4ID0gZGVmYXVsdFdlZWtkYXlzU2hvcnRSZWdleDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5fd2Vla2RheXNTaG9ydFN0cmljdFJlZ2V4ICYmIGlzU3RyaWN0ID9cbiAgICAgICAgICAgIHRoaXMuX3dlZWtkYXlzU2hvcnRTdHJpY3RSZWdleCA6IHRoaXMuX3dlZWtkYXlzU2hvcnRSZWdleDtcbiAgICB9XG59XG5cbnZhciBkZWZhdWx0V2Vla2RheXNNaW5SZWdleCA9IG1hdGNoV29yZDtcbmZ1bmN0aW9uIHdlZWtkYXlzTWluUmVnZXggKGlzU3RyaWN0KSB7XG4gICAgaWYgKHRoaXMuX3dlZWtkYXlzUGFyc2VFeGFjdCkge1xuICAgICAgICBpZiAoIWhhc093blByb3AodGhpcywgJ193ZWVrZGF5c1JlZ2V4JykpIHtcbiAgICAgICAgICAgIGNvbXB1dGVXZWVrZGF5c1BhcnNlLmNhbGwodGhpcyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGlzU3RyaWN0KSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fd2Vla2RheXNNaW5TdHJpY3RSZWdleDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl93ZWVrZGF5c01pblJlZ2V4O1xuICAgICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgICAgaWYgKCFoYXNPd25Qcm9wKHRoaXMsICdfd2Vla2RheXNNaW5SZWdleCcpKSB7XG4gICAgICAgICAgICB0aGlzLl93ZWVrZGF5c01pblJlZ2V4ID0gZGVmYXVsdFdlZWtkYXlzTWluUmVnZXg7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuX3dlZWtkYXlzTWluU3RyaWN0UmVnZXggJiYgaXNTdHJpY3QgP1xuICAgICAgICAgICAgdGhpcy5fd2Vla2RheXNNaW5TdHJpY3RSZWdleCA6IHRoaXMuX3dlZWtkYXlzTWluUmVnZXg7XG4gICAgfVxufVxuXG5cbmZ1bmN0aW9uIGNvbXB1dGVXZWVrZGF5c1BhcnNlICgpIHtcbiAgICBmdW5jdGlvbiBjbXBMZW5SZXYoYSwgYikge1xuICAgICAgICByZXR1cm4gYi5sZW5ndGggLSBhLmxlbmd0aDtcbiAgICB9XG5cbiAgICB2YXIgbWluUGllY2VzID0gW10sIHNob3J0UGllY2VzID0gW10sIGxvbmdQaWVjZXMgPSBbXSwgbWl4ZWRQaWVjZXMgPSBbXSxcbiAgICAgICAgaSwgbW9tLCBtaW5wLCBzaG9ydHAsIGxvbmdwO1xuICAgIGZvciAoaSA9IDA7IGkgPCA3OyBpKyspIHtcbiAgICAgICAgLy8gbWFrZSB0aGUgcmVnZXggaWYgd2UgZG9uJ3QgaGF2ZSBpdCBhbHJlYWR5XG4gICAgICAgIG1vbSA9IGNyZWF0ZVVUQyhbMjAwMCwgMV0pLmRheShpKTtcbiAgICAgICAgbWlucCA9IHRoaXMud2Vla2RheXNNaW4obW9tLCAnJyk7XG4gICAgICAgIHNob3J0cCA9IHRoaXMud2Vla2RheXNTaG9ydChtb20sICcnKTtcbiAgICAgICAgbG9uZ3AgPSB0aGlzLndlZWtkYXlzKG1vbSwgJycpO1xuICAgICAgICBtaW5QaWVjZXMucHVzaChtaW5wKTtcbiAgICAgICAgc2hvcnRQaWVjZXMucHVzaChzaG9ydHApO1xuICAgICAgICBsb25nUGllY2VzLnB1c2gobG9uZ3ApO1xuICAgICAgICBtaXhlZFBpZWNlcy5wdXNoKG1pbnApO1xuICAgICAgICBtaXhlZFBpZWNlcy5wdXNoKHNob3J0cCk7XG4gICAgICAgIG1peGVkUGllY2VzLnB1c2gobG9uZ3ApO1xuICAgIH1cbiAgICAvLyBTb3J0aW5nIG1ha2VzIHN1cmUgaWYgb25lIHdlZWtkYXkgKG9yIGFiYnIpIGlzIGEgcHJlZml4IG9mIGFub3RoZXIgaXRcbiAgICAvLyB3aWxsIG1hdGNoIHRoZSBsb25nZXIgcGllY2UuXG4gICAgbWluUGllY2VzLnNvcnQoY21wTGVuUmV2KTtcbiAgICBzaG9ydFBpZWNlcy5zb3J0KGNtcExlblJldik7XG4gICAgbG9uZ1BpZWNlcy5zb3J0KGNtcExlblJldik7XG4gICAgbWl4ZWRQaWVjZXMuc29ydChjbXBMZW5SZXYpO1xuICAgIGZvciAoaSA9IDA7IGkgPCA3OyBpKyspIHtcbiAgICAgICAgc2hvcnRQaWVjZXNbaV0gPSByZWdleEVzY2FwZShzaG9ydFBpZWNlc1tpXSk7XG4gICAgICAgIGxvbmdQaWVjZXNbaV0gPSByZWdleEVzY2FwZShsb25nUGllY2VzW2ldKTtcbiAgICAgICAgbWl4ZWRQaWVjZXNbaV0gPSByZWdleEVzY2FwZShtaXhlZFBpZWNlc1tpXSk7XG4gICAgfVxuXG4gICAgdGhpcy5fd2Vla2RheXNSZWdleCA9IG5ldyBSZWdFeHAoJ14oJyArIG1peGVkUGllY2VzLmpvaW4oJ3wnKSArICcpJywgJ2knKTtcbiAgICB0aGlzLl93ZWVrZGF5c1Nob3J0UmVnZXggPSB0aGlzLl93ZWVrZGF5c1JlZ2V4O1xuICAgIHRoaXMuX3dlZWtkYXlzTWluUmVnZXggPSB0aGlzLl93ZWVrZGF5c1JlZ2V4O1xuXG4gICAgdGhpcy5fd2Vla2RheXNTdHJpY3RSZWdleCA9IG5ldyBSZWdFeHAoJ14oJyArIGxvbmdQaWVjZXMuam9pbignfCcpICsgJyknLCAnaScpO1xuICAgIHRoaXMuX3dlZWtkYXlzU2hvcnRTdHJpY3RSZWdleCA9IG5ldyBSZWdFeHAoJ14oJyArIHNob3J0UGllY2VzLmpvaW4oJ3wnKSArICcpJywgJ2knKTtcbiAgICB0aGlzLl93ZWVrZGF5c01pblN0cmljdFJlZ2V4ID0gbmV3IFJlZ0V4cCgnXignICsgbWluUGllY2VzLmpvaW4oJ3wnKSArICcpJywgJ2knKTtcbn1cblxuLy8gRk9STUFUVElOR1xuXG5mdW5jdGlvbiBoRm9ybWF0KCkge1xuICAgIHJldHVybiB0aGlzLmhvdXJzKCkgJSAxMiB8fCAxMjtcbn1cblxuZnVuY3Rpb24ga0Zvcm1hdCgpIHtcbiAgICByZXR1cm4gdGhpcy5ob3VycygpIHx8IDI0O1xufVxuXG5hZGRGb3JtYXRUb2tlbignSCcsIFsnSEgnLCAyXSwgMCwgJ2hvdXInKTtcbmFkZEZvcm1hdFRva2VuKCdoJywgWydoaCcsIDJdLCAwLCBoRm9ybWF0KTtcbmFkZEZvcm1hdFRva2VuKCdrJywgWydraycsIDJdLCAwLCBrRm9ybWF0KTtcblxuYWRkRm9ybWF0VG9rZW4oJ2htbScsIDAsIDAsIGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gJycgKyBoRm9ybWF0LmFwcGx5KHRoaXMpICsgemVyb0ZpbGwodGhpcy5taW51dGVzKCksIDIpO1xufSk7XG5cbmFkZEZvcm1hdFRva2VuKCdobW1zcycsIDAsIDAsIGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gJycgKyBoRm9ybWF0LmFwcGx5KHRoaXMpICsgemVyb0ZpbGwodGhpcy5taW51dGVzKCksIDIpICtcbiAgICAgICAgemVyb0ZpbGwodGhpcy5zZWNvbmRzKCksIDIpO1xufSk7XG5cbmFkZEZvcm1hdFRva2VuKCdIbW0nLCAwLCAwLCBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuICcnICsgdGhpcy5ob3VycygpICsgemVyb0ZpbGwodGhpcy5taW51dGVzKCksIDIpO1xufSk7XG5cbmFkZEZvcm1hdFRva2VuKCdIbW1zcycsIDAsIDAsIGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gJycgKyB0aGlzLmhvdXJzKCkgKyB6ZXJvRmlsbCh0aGlzLm1pbnV0ZXMoKSwgMikgK1xuICAgICAgICB6ZXJvRmlsbCh0aGlzLnNlY29uZHMoKSwgMik7XG59KTtcblxuZnVuY3Rpb24gbWVyaWRpZW0gKHRva2VuLCBsb3dlcmNhc2UpIHtcbiAgICBhZGRGb3JtYXRUb2tlbih0b2tlbiwgMCwgMCwgZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5sb2NhbGVEYXRhKCkubWVyaWRpZW0odGhpcy5ob3VycygpLCB0aGlzLm1pbnV0ZXMoKSwgbG93ZXJjYXNlKTtcbiAgICB9KTtcbn1cblxubWVyaWRpZW0oJ2EnLCB0cnVlKTtcbm1lcmlkaWVtKCdBJywgZmFsc2UpO1xuXG4vLyBBTElBU0VTXG5cbmFkZFVuaXRBbGlhcygnaG91cicsICdoJyk7XG5cbi8vIFBSSU9SSVRZXG5hZGRVbml0UHJpb3JpdHkoJ2hvdXInLCAxMyk7XG5cbi8vIFBBUlNJTkdcblxuZnVuY3Rpb24gbWF0Y2hNZXJpZGllbSAoaXNTdHJpY3QsIGxvY2FsZSkge1xuICAgIHJldHVybiBsb2NhbGUuX21lcmlkaWVtUGFyc2U7XG59XG5cbmFkZFJlZ2V4VG9rZW4oJ2EnLCAgbWF0Y2hNZXJpZGllbSk7XG5hZGRSZWdleFRva2VuKCdBJywgIG1hdGNoTWVyaWRpZW0pO1xuYWRkUmVnZXhUb2tlbignSCcsICBtYXRjaDF0bzIpO1xuYWRkUmVnZXhUb2tlbignaCcsICBtYXRjaDF0bzIpO1xuYWRkUmVnZXhUb2tlbignSEgnLCBtYXRjaDF0bzIsIG1hdGNoMik7XG5hZGRSZWdleFRva2VuKCdoaCcsIG1hdGNoMXRvMiwgbWF0Y2gyKTtcblxuYWRkUmVnZXhUb2tlbignaG1tJywgbWF0Y2gzdG80KTtcbmFkZFJlZ2V4VG9rZW4oJ2htbXNzJywgbWF0Y2g1dG82KTtcbmFkZFJlZ2V4VG9rZW4oJ0htbScsIG1hdGNoM3RvNCk7XG5hZGRSZWdleFRva2VuKCdIbW1zcycsIG1hdGNoNXRvNik7XG5cbmFkZFBhcnNlVG9rZW4oWydIJywgJ0hIJ10sIEhPVVIpO1xuYWRkUGFyc2VUb2tlbihbJ2EnLCAnQSddLCBmdW5jdGlvbiAoaW5wdXQsIGFycmF5LCBjb25maWcpIHtcbiAgICBjb25maWcuX2lzUG0gPSBjb25maWcuX2xvY2FsZS5pc1BNKGlucHV0KTtcbiAgICBjb25maWcuX21lcmlkaWVtID0gaW5wdXQ7XG59KTtcbmFkZFBhcnNlVG9rZW4oWydoJywgJ2hoJ10sIGZ1bmN0aW9uIChpbnB1dCwgYXJyYXksIGNvbmZpZykge1xuICAgIGFycmF5W0hPVVJdID0gdG9JbnQoaW5wdXQpO1xuICAgIGdldFBhcnNpbmdGbGFncyhjb25maWcpLmJpZ0hvdXIgPSB0cnVlO1xufSk7XG5hZGRQYXJzZVRva2VuKCdobW0nLCBmdW5jdGlvbiAoaW5wdXQsIGFycmF5LCBjb25maWcpIHtcbiAgICB2YXIgcG9zID0gaW5wdXQubGVuZ3RoIC0gMjtcbiAgICBhcnJheVtIT1VSXSA9IHRvSW50KGlucHV0LnN1YnN0cigwLCBwb3MpKTtcbiAgICBhcnJheVtNSU5VVEVdID0gdG9JbnQoaW5wdXQuc3Vic3RyKHBvcykpO1xuICAgIGdldFBhcnNpbmdGbGFncyhjb25maWcpLmJpZ0hvdXIgPSB0cnVlO1xufSk7XG5hZGRQYXJzZVRva2VuKCdobW1zcycsIGZ1bmN0aW9uIChpbnB1dCwgYXJyYXksIGNvbmZpZykge1xuICAgIHZhciBwb3MxID0gaW5wdXQubGVuZ3RoIC0gNDtcbiAgICB2YXIgcG9zMiA9IGlucHV0Lmxlbmd0aCAtIDI7XG4gICAgYXJyYXlbSE9VUl0gPSB0b0ludChpbnB1dC5zdWJzdHIoMCwgcG9zMSkpO1xuICAgIGFycmF5W01JTlVURV0gPSB0b0ludChpbnB1dC5zdWJzdHIocG9zMSwgMikpO1xuICAgIGFycmF5W1NFQ09ORF0gPSB0b0ludChpbnB1dC5zdWJzdHIocG9zMikpO1xuICAgIGdldFBhcnNpbmdGbGFncyhjb25maWcpLmJpZ0hvdXIgPSB0cnVlO1xufSk7XG5hZGRQYXJzZVRva2VuKCdIbW0nLCBmdW5jdGlvbiAoaW5wdXQsIGFycmF5LCBjb25maWcpIHtcbiAgICB2YXIgcG9zID0gaW5wdXQubGVuZ3RoIC0gMjtcbiAgICBhcnJheVtIT1VSXSA9IHRvSW50KGlucHV0LnN1YnN0cigwLCBwb3MpKTtcbiAgICBhcnJheVtNSU5VVEVdID0gdG9JbnQoaW5wdXQuc3Vic3RyKHBvcykpO1xufSk7XG5hZGRQYXJzZVRva2VuKCdIbW1zcycsIGZ1bmN0aW9uIChpbnB1dCwgYXJyYXksIGNvbmZpZykge1xuICAgIHZhciBwb3MxID0gaW5wdXQubGVuZ3RoIC0gNDtcbiAgICB2YXIgcG9zMiA9IGlucHV0Lmxlbmd0aCAtIDI7XG4gICAgYXJyYXlbSE9VUl0gPSB0b0ludChpbnB1dC5zdWJzdHIoMCwgcG9zMSkpO1xuICAgIGFycmF5W01JTlVURV0gPSB0b0ludChpbnB1dC5zdWJzdHIocG9zMSwgMikpO1xuICAgIGFycmF5W1NFQ09ORF0gPSB0b0ludChpbnB1dC5zdWJzdHIocG9zMikpO1xufSk7XG5cbi8vIExPQ0FMRVNcblxuZnVuY3Rpb24gbG9jYWxlSXNQTSAoaW5wdXQpIHtcbiAgICAvLyBJRTggUXVpcmtzIE1vZGUgJiBJRTcgU3RhbmRhcmRzIE1vZGUgZG8gbm90IGFsbG93IGFjY2Vzc2luZyBzdHJpbmdzIGxpa2UgYXJyYXlzXG4gICAgLy8gVXNpbmcgY2hhckF0IHNob3VsZCBiZSBtb3JlIGNvbXBhdGlibGUuXG4gICAgcmV0dXJuICgoaW5wdXQgKyAnJykudG9Mb3dlckNhc2UoKS5jaGFyQXQoMCkgPT09ICdwJyk7XG59XG5cbnZhciBkZWZhdWx0TG9jYWxlTWVyaWRpZW1QYXJzZSA9IC9bYXBdXFwuP20/XFwuPy9pO1xuZnVuY3Rpb24gbG9jYWxlTWVyaWRpZW0gKGhvdXJzLCBtaW51dGVzLCBpc0xvd2VyKSB7XG4gICAgaWYgKGhvdXJzID4gMTEpIHtcbiAgICAgICAgcmV0dXJuIGlzTG93ZXIgPyAncG0nIDogJ1BNJztcbiAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gaXNMb3dlciA/ICdhbScgOiAnQU0nO1xuICAgIH1cbn1cblxuXG4vLyBNT01FTlRTXG5cbi8vIFNldHRpbmcgdGhlIGhvdXIgc2hvdWxkIGtlZXAgdGhlIHRpbWUsIGJlY2F1c2UgdGhlIHVzZXIgZXhwbGljaXRseVxuLy8gc3BlY2lmaWVkIHdoaWNoIGhvdXIgaGUgd2FudHMuIFNvIHRyeWluZyB0byBtYWludGFpbiB0aGUgc2FtZSBob3VyIChpblxuLy8gYSBuZXcgdGltZXpvbmUpIG1ha2VzIHNlbnNlLiBBZGRpbmcvc3VidHJhY3RpbmcgaG91cnMgZG9lcyBub3QgZm9sbG93XG4vLyB0aGlzIHJ1bGUuXG52YXIgZ2V0U2V0SG91ciA9IG1ha2VHZXRTZXQoJ0hvdXJzJywgdHJ1ZSk7XG5cbi8vIG1vbnRoc1xuLy8gd2Vla1xuLy8gd2Vla2RheXNcbi8vIG1lcmlkaWVtXG52YXIgYmFzZUNvbmZpZyA9IHtcbiAgICBjYWxlbmRhcjogZGVmYXVsdENhbGVuZGFyLFxuICAgIGxvbmdEYXRlRm9ybWF0OiBkZWZhdWx0TG9uZ0RhdGVGb3JtYXQsXG4gICAgaW52YWxpZERhdGU6IGRlZmF1bHRJbnZhbGlkRGF0ZSxcbiAgICBvcmRpbmFsOiBkZWZhdWx0T3JkaW5hbCxcbiAgICBvcmRpbmFsUGFyc2U6IGRlZmF1bHRPcmRpbmFsUGFyc2UsXG4gICAgcmVsYXRpdmVUaW1lOiBkZWZhdWx0UmVsYXRpdmVUaW1lLFxuXG4gICAgbW9udGhzOiBkZWZhdWx0TG9jYWxlTW9udGhzLFxuICAgIG1vbnRoc1Nob3J0OiBkZWZhdWx0TG9jYWxlTW9udGhzU2hvcnQsXG5cbiAgICB3ZWVrOiBkZWZhdWx0TG9jYWxlV2VlayxcblxuICAgIHdlZWtkYXlzOiBkZWZhdWx0TG9jYWxlV2Vla2RheXMsXG4gICAgd2Vla2RheXNNaW46IGRlZmF1bHRMb2NhbGVXZWVrZGF5c01pbixcbiAgICB3ZWVrZGF5c1Nob3J0OiBkZWZhdWx0TG9jYWxlV2Vla2RheXNTaG9ydCxcblxuICAgIG1lcmlkaWVtUGFyc2U6IGRlZmF1bHRMb2NhbGVNZXJpZGllbVBhcnNlXG59O1xuXG4vLyBpbnRlcm5hbCBzdG9yYWdlIGZvciBsb2NhbGUgY29uZmlnIGZpbGVzXG52YXIgbG9jYWxlcyA9IHt9O1xudmFyIGxvY2FsZUZhbWlsaWVzID0ge307XG52YXIgZ2xvYmFsTG9jYWxlO1xuXG5mdW5jdGlvbiBub3JtYWxpemVMb2NhbGUoa2V5KSB7XG4gICAgcmV0dXJuIGtleSA/IGtleS50b0xvd2VyQ2FzZSgpLnJlcGxhY2UoJ18nLCAnLScpIDoga2V5O1xufVxuXG4vLyBwaWNrIHRoZSBsb2NhbGUgZnJvbSB0aGUgYXJyYXlcbi8vIHRyeSBbJ2VuLWF1JywgJ2VuLWdiJ10gYXMgJ2VuLWF1JywgJ2VuLWdiJywgJ2VuJywgYXMgaW4gbW92ZSB0aHJvdWdoIHRoZSBsaXN0IHRyeWluZyBlYWNoXG4vLyBzdWJzdHJpbmcgZnJvbSBtb3N0IHNwZWNpZmljIHRvIGxlYXN0LCBidXQgbW92ZSB0byB0aGUgbmV4dCBhcnJheSBpdGVtIGlmIGl0J3MgYSBtb3JlIHNwZWNpZmljIHZhcmlhbnQgdGhhbiB0aGUgY3VycmVudCByb290XG5mdW5jdGlvbiBjaG9vc2VMb2NhbGUobmFtZXMpIHtcbiAgICB2YXIgaSA9IDAsIGosIG5leHQsIGxvY2FsZSwgc3BsaXQ7XG5cbiAgICB3aGlsZSAoaSA8IG5hbWVzLmxlbmd0aCkge1xuICAgICAgICBzcGxpdCA9IG5vcm1hbGl6ZUxvY2FsZShuYW1lc1tpXSkuc3BsaXQoJy0nKTtcbiAgICAgICAgaiA9IHNwbGl0Lmxlbmd0aDtcbiAgICAgICAgbmV4dCA9IG5vcm1hbGl6ZUxvY2FsZShuYW1lc1tpICsgMV0pO1xuICAgICAgICBuZXh0ID0gbmV4dCA/IG5leHQuc3BsaXQoJy0nKSA6IG51bGw7XG4gICAgICAgIHdoaWxlIChqID4gMCkge1xuICAgICAgICAgICAgbG9jYWxlID0gbG9hZExvY2FsZShzcGxpdC5zbGljZSgwLCBqKS5qb2luKCctJykpO1xuICAgICAgICAgICAgaWYgKGxvY2FsZSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBsb2NhbGU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAobmV4dCAmJiBuZXh0Lmxlbmd0aCA+PSBqICYmIGNvbXBhcmVBcnJheXMoc3BsaXQsIG5leHQsIHRydWUpID49IGogLSAxKSB7XG4gICAgICAgICAgICAgICAgLy90aGUgbmV4dCBhcnJheSBpdGVtIGlzIGJldHRlciB0aGFuIGEgc2hhbGxvd2VyIHN1YnN0cmluZyBvZiB0aGlzIG9uZVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgai0tO1xuICAgICAgICB9XG4gICAgICAgIGkrKztcbiAgICB9XG4gICAgcmV0dXJuIG51bGw7XG59XG5cbmZ1bmN0aW9uIGxvYWRMb2NhbGUobmFtZSkge1xuICAgIHZhciBvbGRMb2NhbGUgPSBudWxsO1xuICAgIC8vIFRPRE86IEZpbmQgYSBiZXR0ZXIgd2F5IHRvIHJlZ2lzdGVyIGFuZCBsb2FkIGFsbCB0aGUgbG9jYWxlcyBpbiBOb2RlXG4gICAgaWYgKCFsb2NhbGVzW25hbWVdICYmICh0eXBlb2YgbW9kdWxlICE9PSAndW5kZWZpbmVkJykgJiZcbiAgICAgICAgICAgIG1vZHVsZSAmJiBtb2R1bGUuZXhwb3J0cykge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgb2xkTG9jYWxlID0gZ2xvYmFsTG9jYWxlLl9hYmJyO1xuICAgICAgICAgICAgcmVxdWlyZSgnLi9sb2NhbGUvJyArIG5hbWUpO1xuICAgICAgICAgICAgLy8gYmVjYXVzZSBkZWZpbmVMb2NhbGUgY3VycmVudGx5IGFsc28gc2V0cyB0aGUgZ2xvYmFsIGxvY2FsZSwgd2VcbiAgICAgICAgICAgIC8vIHdhbnQgdG8gdW5kbyB0aGF0IGZvciBsYXp5IGxvYWRlZCBsb2NhbGVzXG4gICAgICAgICAgICBnZXRTZXRHbG9iYWxMb2NhbGUob2xkTG9jYWxlKTtcbiAgICAgICAgfSBjYXRjaCAoZSkgeyB9XG4gICAgfVxuICAgIHJldHVybiBsb2NhbGVzW25hbWVdO1xufVxuXG4vLyBUaGlzIGZ1bmN0aW9uIHdpbGwgbG9hZCBsb2NhbGUgYW5kIHRoZW4gc2V0IHRoZSBnbG9iYWwgbG9jYWxlLiAgSWZcbi8vIG5vIGFyZ3VtZW50cyBhcmUgcGFzc2VkIGluLCBpdCB3aWxsIHNpbXBseSByZXR1cm4gdGhlIGN1cnJlbnQgZ2xvYmFsXG4vLyBsb2NhbGUga2V5LlxuZnVuY3Rpb24gZ2V0U2V0R2xvYmFsTG9jYWxlIChrZXksIHZhbHVlcykge1xuICAgIHZhciBkYXRhO1xuICAgIGlmIChrZXkpIHtcbiAgICAgICAgaWYgKGlzVW5kZWZpbmVkKHZhbHVlcykpIHtcbiAgICAgICAgICAgIGRhdGEgPSBnZXRMb2NhbGUoa2V5KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGRhdGEgPSBkZWZpbmVMb2NhbGUoa2V5LCB2YWx1ZXMpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGRhdGEpIHtcbiAgICAgICAgICAgIC8vIG1vbWVudC5kdXJhdGlvbi5fbG9jYWxlID0gbW9tZW50Ll9sb2NhbGUgPSBkYXRhO1xuICAgICAgICAgICAgZ2xvYmFsTG9jYWxlID0gZGF0YTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBnbG9iYWxMb2NhbGUuX2FiYnI7XG59XG5cbmZ1bmN0aW9uIGRlZmluZUxvY2FsZSAobmFtZSwgY29uZmlnKSB7XG4gICAgaWYgKGNvbmZpZyAhPT0gbnVsbCkge1xuICAgICAgICB2YXIgcGFyZW50Q29uZmlnID0gYmFzZUNvbmZpZztcbiAgICAgICAgY29uZmlnLmFiYnIgPSBuYW1lO1xuICAgICAgICBpZiAobG9jYWxlc1tuYW1lXSAhPSBudWxsKSB7XG4gICAgICAgICAgICBkZXByZWNhdGVTaW1wbGUoJ2RlZmluZUxvY2FsZU92ZXJyaWRlJyxcbiAgICAgICAgICAgICAgICAgICAgJ3VzZSBtb21lbnQudXBkYXRlTG9jYWxlKGxvY2FsZU5hbWUsIGNvbmZpZykgdG8gY2hhbmdlICcgK1xuICAgICAgICAgICAgICAgICAgICAnYW4gZXhpc3RpbmcgbG9jYWxlLiBtb21lbnQuZGVmaW5lTG9jYWxlKGxvY2FsZU5hbWUsICcgK1xuICAgICAgICAgICAgICAgICAgICAnY29uZmlnKSBzaG91bGQgb25seSBiZSB1c2VkIGZvciBjcmVhdGluZyBhIG5ldyBsb2NhbGUgJyArXG4gICAgICAgICAgICAgICAgICAgICdTZWUgaHR0cDovL21vbWVudGpzLmNvbS9ndWlkZXMvIy93YXJuaW5ncy9kZWZpbmUtbG9jYWxlLyBmb3IgbW9yZSBpbmZvLicpO1xuICAgICAgICAgICAgcGFyZW50Q29uZmlnID0gbG9jYWxlc1tuYW1lXS5fY29uZmlnO1xuICAgICAgICB9IGVsc2UgaWYgKGNvbmZpZy5wYXJlbnRMb2NhbGUgIT0gbnVsbCkge1xuICAgICAgICAgICAgaWYgKGxvY2FsZXNbY29uZmlnLnBhcmVudExvY2FsZV0gIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHBhcmVudENvbmZpZyA9IGxvY2FsZXNbY29uZmlnLnBhcmVudExvY2FsZV0uX2NvbmZpZztcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgaWYgKCFsb2NhbGVGYW1pbGllc1tjb25maWcucGFyZW50TG9jYWxlXSkge1xuICAgICAgICAgICAgICAgICAgICBsb2NhbGVGYW1pbGllc1tjb25maWcucGFyZW50TG9jYWxlXSA9IFtdO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBsb2NhbGVGYW1pbGllc1tjb25maWcucGFyZW50TG9jYWxlXS5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgbmFtZTogbmFtZSxcbiAgICAgICAgICAgICAgICAgICAgY29uZmlnOiBjb25maWdcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBsb2NhbGVzW25hbWVdID0gbmV3IExvY2FsZShtZXJnZUNvbmZpZ3MocGFyZW50Q29uZmlnLCBjb25maWcpKTtcblxuICAgICAgICBpZiAobG9jYWxlRmFtaWxpZXNbbmFtZV0pIHtcbiAgICAgICAgICAgIGxvY2FsZUZhbWlsaWVzW25hbWVdLmZvckVhY2goZnVuY3Rpb24gKHgpIHtcbiAgICAgICAgICAgICAgICBkZWZpbmVMb2NhbGUoeC5uYW1lLCB4LmNvbmZpZyk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGJhY2t3YXJkcyBjb21wYXQgZm9yIG5vdzogYWxzbyBzZXQgdGhlIGxvY2FsZVxuICAgICAgICAvLyBtYWtlIHN1cmUgd2Ugc2V0IHRoZSBsb2NhbGUgQUZURVIgYWxsIGNoaWxkIGxvY2FsZXMgaGF2ZSBiZWVuXG4gICAgICAgIC8vIGNyZWF0ZWQsIHNvIHdlIHdvbid0IGVuZCB1cCB3aXRoIHRoZSBjaGlsZCBsb2NhbGUgc2V0LlxuICAgICAgICBnZXRTZXRHbG9iYWxMb2NhbGUobmFtZSk7XG5cblxuICAgICAgICByZXR1cm4gbG9jYWxlc1tuYW1lXTtcbiAgICB9IGVsc2Uge1xuICAgICAgICAvLyB1c2VmdWwgZm9yIHRlc3RpbmdcbiAgICAgICAgZGVsZXRlIGxvY2FsZXNbbmFtZV07XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gdXBkYXRlTG9jYWxlKG5hbWUsIGNvbmZpZykge1xuICAgIGlmIChjb25maWcgIT0gbnVsbCkge1xuICAgICAgICB2YXIgbG9jYWxlLCBwYXJlbnRDb25maWcgPSBiYXNlQ29uZmlnO1xuICAgICAgICAvLyBNRVJHRVxuICAgICAgICBpZiAobG9jYWxlc1tuYW1lXSAhPSBudWxsKSB7XG4gICAgICAgICAgICBwYXJlbnRDb25maWcgPSBsb2NhbGVzW25hbWVdLl9jb25maWc7XG4gICAgICAgIH1cbiAgICAgICAgY29uZmlnID0gbWVyZ2VDb25maWdzKHBhcmVudENvbmZpZywgY29uZmlnKTtcbiAgICAgICAgbG9jYWxlID0gbmV3IExvY2FsZShjb25maWcpO1xuICAgICAgICBsb2NhbGUucGFyZW50TG9jYWxlID0gbG9jYWxlc1tuYW1lXTtcbiAgICAgICAgbG9jYWxlc1tuYW1lXSA9IGxvY2FsZTtcblxuICAgICAgICAvLyBiYWNrd2FyZHMgY29tcGF0IGZvciBub3c6IGFsc28gc2V0IHRoZSBsb2NhbGVcbiAgICAgICAgZ2V0U2V0R2xvYmFsTG9jYWxlKG5hbWUpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIHBhc3MgbnVsbCBmb3IgY29uZmlnIHRvIHVudXBkYXRlLCB1c2VmdWwgZm9yIHRlc3RzXG4gICAgICAgIGlmIChsb2NhbGVzW25hbWVdICE9IG51bGwpIHtcbiAgICAgICAgICAgIGlmIChsb2NhbGVzW25hbWVdLnBhcmVudExvY2FsZSAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgbG9jYWxlc1tuYW1lXSA9IGxvY2FsZXNbbmFtZV0ucGFyZW50TG9jYWxlO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChsb2NhbGVzW25hbWVdICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICBkZWxldGUgbG9jYWxlc1tuYW1lXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gbG9jYWxlc1tuYW1lXTtcbn1cblxuLy8gcmV0dXJucyBsb2NhbGUgZGF0YVxuZnVuY3Rpb24gZ2V0TG9jYWxlIChrZXkpIHtcbiAgICB2YXIgbG9jYWxlO1xuXG4gICAgaWYgKGtleSAmJiBrZXkuX2xvY2FsZSAmJiBrZXkuX2xvY2FsZS5fYWJicikge1xuICAgICAgICBrZXkgPSBrZXkuX2xvY2FsZS5fYWJicjtcbiAgICB9XG5cbiAgICBpZiAoIWtleSkge1xuICAgICAgICByZXR1cm4gZ2xvYmFsTG9jYWxlO1xuICAgIH1cblxuICAgIGlmICghaXNBcnJheShrZXkpKSB7XG4gICAgICAgIC8vc2hvcnQtY2lyY3VpdCBldmVyeXRoaW5nIGVsc2VcbiAgICAgICAgbG9jYWxlID0gbG9hZExvY2FsZShrZXkpO1xuICAgICAgICBpZiAobG9jYWxlKSB7XG4gICAgICAgICAgICByZXR1cm4gbG9jYWxlO1xuICAgICAgICB9XG4gICAgICAgIGtleSA9IFtrZXldO1xuICAgIH1cblxuICAgIHJldHVybiBjaG9vc2VMb2NhbGUoa2V5KTtcbn1cblxuZnVuY3Rpb24gbGlzdExvY2FsZXMoKSB7XG4gICAgcmV0dXJuIGtleXMkMShsb2NhbGVzKTtcbn1cblxuZnVuY3Rpb24gY2hlY2tPdmVyZmxvdyAobSkge1xuICAgIHZhciBvdmVyZmxvdztcbiAgICB2YXIgYSA9IG0uX2E7XG5cbiAgICBpZiAoYSAmJiBnZXRQYXJzaW5nRmxhZ3MobSkub3ZlcmZsb3cgPT09IC0yKSB7XG4gICAgICAgIG92ZXJmbG93ID1cbiAgICAgICAgICAgIGFbTU9OVEhdICAgICAgIDwgMCB8fCBhW01PTlRIXSAgICAgICA+IDExICA/IE1PTlRIIDpcbiAgICAgICAgICAgIGFbREFURV0gICAgICAgIDwgMSB8fCBhW0RBVEVdICAgICAgICA+IGRheXNJbk1vbnRoKGFbWUVBUl0sIGFbTU9OVEhdKSA/IERBVEUgOlxuICAgICAgICAgICAgYVtIT1VSXSAgICAgICAgPCAwIHx8IGFbSE9VUl0gICAgICAgID4gMjQgfHwgKGFbSE9VUl0gPT09IDI0ICYmIChhW01JTlVURV0gIT09IDAgfHwgYVtTRUNPTkRdICE9PSAwIHx8IGFbTUlMTElTRUNPTkRdICE9PSAwKSkgPyBIT1VSIDpcbiAgICAgICAgICAgIGFbTUlOVVRFXSAgICAgIDwgMCB8fCBhW01JTlVURV0gICAgICA+IDU5ICA/IE1JTlVURSA6XG4gICAgICAgICAgICBhW1NFQ09ORF0gICAgICA8IDAgfHwgYVtTRUNPTkRdICAgICAgPiA1OSAgPyBTRUNPTkQgOlxuICAgICAgICAgICAgYVtNSUxMSVNFQ09ORF0gPCAwIHx8IGFbTUlMTElTRUNPTkRdID4gOTk5ID8gTUlMTElTRUNPTkQgOlxuICAgICAgICAgICAgLTE7XG5cbiAgICAgICAgaWYgKGdldFBhcnNpbmdGbGFncyhtKS5fb3ZlcmZsb3dEYXlPZlllYXIgJiYgKG92ZXJmbG93IDwgWUVBUiB8fCBvdmVyZmxvdyA+IERBVEUpKSB7XG4gICAgICAgICAgICBvdmVyZmxvdyA9IERBVEU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGdldFBhcnNpbmdGbGFncyhtKS5fb3ZlcmZsb3dXZWVrcyAmJiBvdmVyZmxvdyA9PT0gLTEpIHtcbiAgICAgICAgICAgIG92ZXJmbG93ID0gV0VFSztcbiAgICAgICAgfVxuICAgICAgICBpZiAoZ2V0UGFyc2luZ0ZsYWdzKG0pLl9vdmVyZmxvd1dlZWtkYXkgJiYgb3ZlcmZsb3cgPT09IC0xKSB7XG4gICAgICAgICAgICBvdmVyZmxvdyA9IFdFRUtEQVk7XG4gICAgICAgIH1cblxuICAgICAgICBnZXRQYXJzaW5nRmxhZ3MobSkub3ZlcmZsb3cgPSBvdmVyZmxvdztcbiAgICB9XG5cbiAgICByZXR1cm4gbTtcbn1cblxuLy8gaXNvIDg2MDEgcmVnZXhcbi8vIDAwMDAtMDAtMDAgMDAwMC1XMDAgb3IgMDAwMC1XMDAtMCArIFQgKyAwMCBvciAwMDowMCBvciAwMDowMDowMCBvciAwMDowMDowMC4wMDAgKyArMDA6MDAgb3IgKzAwMDAgb3IgKzAwKVxudmFyIGV4dGVuZGVkSXNvUmVnZXggPSAvXlxccyooKD86WystXVxcZHs2fXxcXGR7NH0pLSg/OlxcZFxcZC1cXGRcXGR8V1xcZFxcZC1cXGR8V1xcZFxcZHxcXGRcXGRcXGR8XFxkXFxkKSkoPzooVHwgKShcXGRcXGQoPzo6XFxkXFxkKD86OlxcZFxcZCg/OlsuLF1cXGQrKT8pPyk/KShbXFwrXFwtXVxcZFxcZCg/Ojo/XFxkXFxkKT98XFxzKlopPyk/JC87XG52YXIgYmFzaWNJc29SZWdleCA9IC9eXFxzKigoPzpbKy1dXFxkezZ9fFxcZHs0fSkoPzpcXGRcXGRcXGRcXGR8V1xcZFxcZFxcZHxXXFxkXFxkfFxcZFxcZFxcZHxcXGRcXGQpKSg/OihUfCApKFxcZFxcZCg/OlxcZFxcZCg/OlxcZFxcZCg/OlsuLF1cXGQrKT8pPyk/KShbXFwrXFwtXVxcZFxcZCg/Ojo/XFxkXFxkKT98XFxzKlopPyk/JC87XG5cbnZhciB0elJlZ2V4ID0gL1p8WystXVxcZFxcZCg/Ojo/XFxkXFxkKT8vO1xuXG52YXIgaXNvRGF0ZXMgPSBbXG4gICAgWydZWVlZWVktTU0tREQnLCAvWystXVxcZHs2fS1cXGRcXGQtXFxkXFxkL10sXG4gICAgWydZWVlZLU1NLUREJywgL1xcZHs0fS1cXGRcXGQtXFxkXFxkL10sXG4gICAgWydHR0dHLVtXXVdXLUUnLCAvXFxkezR9LVdcXGRcXGQtXFxkL10sXG4gICAgWydHR0dHLVtXXVdXJywgL1xcZHs0fS1XXFxkXFxkLywgZmFsc2VdLFxuICAgIFsnWVlZWS1EREQnLCAvXFxkezR9LVxcZHszfS9dLFxuICAgIFsnWVlZWS1NTScsIC9cXGR7NH0tXFxkXFxkLywgZmFsc2VdLFxuICAgIFsnWVlZWVlZTU1ERCcsIC9bKy1dXFxkezEwfS9dLFxuICAgIFsnWVlZWU1NREQnLCAvXFxkezh9L10sXG4gICAgLy8gWVlZWU1NIGlzIE5PVCBhbGxvd2VkIGJ5IHRoZSBzdGFuZGFyZFxuICAgIFsnR0dHR1tXXVdXRScsIC9cXGR7NH1XXFxkezN9L10sXG4gICAgWydHR0dHW1ddV1cnLCAvXFxkezR9V1xcZHsyfS8sIGZhbHNlXSxcbiAgICBbJ1lZWVlEREQnLCAvXFxkezd9L11cbl07XG5cbi8vIGlzbyB0aW1lIGZvcm1hdHMgYW5kIHJlZ2V4ZXNcbnZhciBpc29UaW1lcyA9IFtcbiAgICBbJ0hIOm1tOnNzLlNTU1MnLCAvXFxkXFxkOlxcZFxcZDpcXGRcXGRcXC5cXGQrL10sXG4gICAgWydISDptbTpzcyxTU1NTJywgL1xcZFxcZDpcXGRcXGQ6XFxkXFxkLFxcZCsvXSxcbiAgICBbJ0hIOm1tOnNzJywgL1xcZFxcZDpcXGRcXGQ6XFxkXFxkL10sXG4gICAgWydISDptbScsIC9cXGRcXGQ6XFxkXFxkL10sXG4gICAgWydISG1tc3MuU1NTUycsIC9cXGRcXGRcXGRcXGRcXGRcXGRcXC5cXGQrL10sXG4gICAgWydISG1tc3MsU1NTUycsIC9cXGRcXGRcXGRcXGRcXGRcXGQsXFxkKy9dLFxuICAgIFsnSEhtbXNzJywgL1xcZFxcZFxcZFxcZFxcZFxcZC9dLFxuICAgIFsnSEhtbScsIC9cXGRcXGRcXGRcXGQvXSxcbiAgICBbJ0hIJywgL1xcZFxcZC9dXG5dO1xuXG52YXIgYXNwTmV0SnNvblJlZ2V4ID0gL15cXC8/RGF0ZVxcKChcXC0/XFxkKykvaTtcblxuLy8gZGF0ZSBmcm9tIGlzbyBmb3JtYXRcbmZ1bmN0aW9uIGNvbmZpZ0Zyb21JU08oY29uZmlnKSB7XG4gICAgdmFyIGksIGwsXG4gICAgICAgIHN0cmluZyA9IGNvbmZpZy5faSxcbiAgICAgICAgbWF0Y2ggPSBleHRlbmRlZElzb1JlZ2V4LmV4ZWMoc3RyaW5nKSB8fCBiYXNpY0lzb1JlZ2V4LmV4ZWMoc3RyaW5nKSxcbiAgICAgICAgYWxsb3dUaW1lLCBkYXRlRm9ybWF0LCB0aW1lRm9ybWF0LCB0ekZvcm1hdDtcblxuICAgIGlmIChtYXRjaCkge1xuICAgICAgICBnZXRQYXJzaW5nRmxhZ3MoY29uZmlnKS5pc28gPSB0cnVlO1xuXG4gICAgICAgIGZvciAoaSA9IDAsIGwgPSBpc29EYXRlcy5sZW5ndGg7IGkgPCBsOyBpKyspIHtcbiAgICAgICAgICAgIGlmIChpc29EYXRlc1tpXVsxXS5leGVjKG1hdGNoWzFdKSkge1xuICAgICAgICAgICAgICAgIGRhdGVGb3JtYXQgPSBpc29EYXRlc1tpXVswXTtcbiAgICAgICAgICAgICAgICBhbGxvd1RpbWUgPSBpc29EYXRlc1tpXVsyXSAhPT0gZmFsc2U7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGRhdGVGb3JtYXQgPT0gbnVsbCkge1xuICAgICAgICAgICAgY29uZmlnLl9pc1ZhbGlkID0gZmFsc2U7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1hdGNoWzNdKSB7XG4gICAgICAgICAgICBmb3IgKGkgPSAwLCBsID0gaXNvVGltZXMubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgaWYgKGlzb1RpbWVzW2ldWzFdLmV4ZWMobWF0Y2hbM10pKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIG1hdGNoWzJdIHNob3VsZCBiZSAnVCcgb3Igc3BhY2VcbiAgICAgICAgICAgICAgICAgICAgdGltZUZvcm1hdCA9IChtYXRjaFsyXSB8fCAnICcpICsgaXNvVGltZXNbaV1bMF07XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0aW1lRm9ybWF0ID09IG51bGwpIHtcbiAgICAgICAgICAgICAgICBjb25maWcuX2lzVmFsaWQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFhbGxvd1RpbWUgJiYgdGltZUZvcm1hdCAhPSBudWxsKSB7XG4gICAgICAgICAgICBjb25maWcuX2lzVmFsaWQgPSBmYWxzZTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAobWF0Y2hbNF0pIHtcbiAgICAgICAgICAgIGlmICh0elJlZ2V4LmV4ZWMobWF0Y2hbNF0pKSB7XG4gICAgICAgICAgICAgICAgdHpGb3JtYXQgPSAnWic7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGNvbmZpZy5faXNWYWxpZCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjb25maWcuX2YgPSBkYXRlRm9ybWF0ICsgKHRpbWVGb3JtYXQgfHwgJycpICsgKHR6Rm9ybWF0IHx8ICcnKTtcbiAgICAgICAgY29uZmlnRnJvbVN0cmluZ0FuZEZvcm1hdChjb25maWcpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbmZpZy5faXNWYWxpZCA9IGZhbHNlO1xuICAgIH1cbn1cblxuLy8gZGF0ZSBmcm9tIGlzbyBmb3JtYXQgb3IgZmFsbGJhY2tcbmZ1bmN0aW9uIGNvbmZpZ0Zyb21TdHJpbmcoY29uZmlnKSB7XG4gICAgdmFyIG1hdGNoZWQgPSBhc3BOZXRKc29uUmVnZXguZXhlYyhjb25maWcuX2kpO1xuXG4gICAgaWYgKG1hdGNoZWQgIT09IG51bGwpIHtcbiAgICAgICAgY29uZmlnLl9kID0gbmV3IERhdGUoK21hdGNoZWRbMV0pO1xuICAgICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29uZmlnRnJvbUlTTyhjb25maWcpO1xuICAgIGlmIChjb25maWcuX2lzVmFsaWQgPT09IGZhbHNlKSB7XG4gICAgICAgIGRlbGV0ZSBjb25maWcuX2lzVmFsaWQ7XG4gICAgICAgIGhvb2tzLmNyZWF0ZUZyb21JbnB1dEZhbGxiYWNrKGNvbmZpZyk7XG4gICAgfVxufVxuXG5ob29rcy5jcmVhdGVGcm9tSW5wdXRGYWxsYmFjayA9IGRlcHJlY2F0ZShcbiAgICAndmFsdWUgcHJvdmlkZWQgaXMgbm90IGluIGEgcmVjb2duaXplZCBJU08gZm9ybWF0LiBtb21lbnQgY29uc3RydWN0aW9uIGZhbGxzIGJhY2sgdG8ganMgRGF0ZSgpLCAnICtcbiAgICAnd2hpY2ggaXMgbm90IHJlbGlhYmxlIGFjcm9zcyBhbGwgYnJvd3NlcnMgYW5kIHZlcnNpb25zLiBOb24gSVNPIGRhdGUgZm9ybWF0cyBhcmUgJyArXG4gICAgJ2Rpc2NvdXJhZ2VkIGFuZCB3aWxsIGJlIHJlbW92ZWQgaW4gYW4gdXBjb21pbmcgbWFqb3IgcmVsZWFzZS4gUGxlYXNlIHJlZmVyIHRvICcgK1xuICAgICdodHRwOi8vbW9tZW50anMuY29tL2d1aWRlcy8jL3dhcm5pbmdzL2pzLWRhdGUvIGZvciBtb3JlIGluZm8uJyxcbiAgICBmdW5jdGlvbiAoY29uZmlnKSB7XG4gICAgICAgIGNvbmZpZy5fZCA9IG5ldyBEYXRlKGNvbmZpZy5faSArIChjb25maWcuX3VzZVVUQyA/ICcgVVRDJyA6ICcnKSk7XG4gICAgfVxuKTtcblxuLy8gUGljayB0aGUgZmlyc3QgZGVmaW5lZCBvZiB0d28gb3IgdGhyZWUgYXJndW1lbnRzLlxuZnVuY3Rpb24gZGVmYXVsdHMoYSwgYiwgYykge1xuICAgIGlmIChhICE9IG51bGwpIHtcbiAgICAgICAgcmV0dXJuIGE7XG4gICAgfVxuICAgIGlmIChiICE9IG51bGwpIHtcbiAgICAgICAgcmV0dXJuIGI7XG4gICAgfVxuICAgIHJldHVybiBjO1xufVxuXG5mdW5jdGlvbiBjdXJyZW50RGF0ZUFycmF5KGNvbmZpZykge1xuICAgIC8vIGhvb2tzIGlzIGFjdHVhbGx5IHRoZSBleHBvcnRlZCBtb21lbnQgb2JqZWN0XG4gICAgdmFyIG5vd1ZhbHVlID0gbmV3IERhdGUoaG9va3Mubm93KCkpO1xuICAgIGlmIChjb25maWcuX3VzZVVUQykge1xuICAgICAgICByZXR1cm4gW25vd1ZhbHVlLmdldFVUQ0Z1bGxZZWFyKCksIG5vd1ZhbHVlLmdldFVUQ01vbnRoKCksIG5vd1ZhbHVlLmdldFVUQ0RhdGUoKV07XG4gICAgfVxuICAgIHJldHVybiBbbm93VmFsdWUuZ2V0RnVsbFllYXIoKSwgbm93VmFsdWUuZ2V0TW9udGgoKSwgbm93VmFsdWUuZ2V0RGF0ZSgpXTtcbn1cblxuLy8gY29udmVydCBhbiBhcnJheSB0byBhIGRhdGUuXG4vLyB0aGUgYXJyYXkgc2hvdWxkIG1pcnJvciB0aGUgcGFyYW1ldGVycyBiZWxvd1xuLy8gbm90ZTogYWxsIHZhbHVlcyBwYXN0IHRoZSB5ZWFyIGFyZSBvcHRpb25hbCBhbmQgd2lsbCBkZWZhdWx0IHRvIHRoZSBsb3dlc3QgcG9zc2libGUgdmFsdWUuXG4vLyBbeWVhciwgbW9udGgsIGRheSAsIGhvdXIsIG1pbnV0ZSwgc2Vjb25kLCBtaWxsaXNlY29uZF1cbmZ1bmN0aW9uIGNvbmZpZ0Zyb21BcnJheSAoY29uZmlnKSB7XG4gICAgdmFyIGksIGRhdGUsIGlucHV0ID0gW10sIGN1cnJlbnREYXRlLCB5ZWFyVG9Vc2U7XG5cbiAgICBpZiAoY29uZmlnLl9kKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBjdXJyZW50RGF0ZSA9IGN1cnJlbnREYXRlQXJyYXkoY29uZmlnKTtcblxuICAgIC8vY29tcHV0ZSBkYXkgb2YgdGhlIHllYXIgZnJvbSB3ZWVrcyBhbmQgd2Vla2RheXNcbiAgICBpZiAoY29uZmlnLl93ICYmIGNvbmZpZy5fYVtEQVRFXSA9PSBudWxsICYmIGNvbmZpZy5fYVtNT05USF0gPT0gbnVsbCkge1xuICAgICAgICBkYXlPZlllYXJGcm9tV2Vla0luZm8oY29uZmlnKTtcbiAgICB9XG5cbiAgICAvL2lmIHRoZSBkYXkgb2YgdGhlIHllYXIgaXMgc2V0LCBmaWd1cmUgb3V0IHdoYXQgaXQgaXNcbiAgICBpZiAoY29uZmlnLl9kYXlPZlllYXIpIHtcbiAgICAgICAgeWVhclRvVXNlID0gZGVmYXVsdHMoY29uZmlnLl9hW1lFQVJdLCBjdXJyZW50RGF0ZVtZRUFSXSk7XG5cbiAgICAgICAgaWYgKGNvbmZpZy5fZGF5T2ZZZWFyID4gZGF5c0luWWVhcih5ZWFyVG9Vc2UpKSB7XG4gICAgICAgICAgICBnZXRQYXJzaW5nRmxhZ3MoY29uZmlnKS5fb3ZlcmZsb3dEYXlPZlllYXIgPSB0cnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgZGF0ZSA9IGNyZWF0ZVVUQ0RhdGUoeWVhclRvVXNlLCAwLCBjb25maWcuX2RheU9mWWVhcik7XG4gICAgICAgIGNvbmZpZy5fYVtNT05USF0gPSBkYXRlLmdldFVUQ01vbnRoKCk7XG4gICAgICAgIGNvbmZpZy5fYVtEQVRFXSA9IGRhdGUuZ2V0VVRDRGF0ZSgpO1xuICAgIH1cblxuICAgIC8vIERlZmF1bHQgdG8gY3VycmVudCBkYXRlLlxuICAgIC8vICogaWYgbm8geWVhciwgbW9udGgsIGRheSBvZiBtb250aCBhcmUgZ2l2ZW4sIGRlZmF1bHQgdG8gdG9kYXlcbiAgICAvLyAqIGlmIGRheSBvZiBtb250aCBpcyBnaXZlbiwgZGVmYXVsdCBtb250aCBhbmQgeWVhclxuICAgIC8vICogaWYgbW9udGggaXMgZ2l2ZW4sIGRlZmF1bHQgb25seSB5ZWFyXG4gICAgLy8gKiBpZiB5ZWFyIGlzIGdpdmVuLCBkb24ndCBkZWZhdWx0IGFueXRoaW5nXG4gICAgZm9yIChpID0gMDsgaSA8IDMgJiYgY29uZmlnLl9hW2ldID09IG51bGw7ICsraSkge1xuICAgICAgICBjb25maWcuX2FbaV0gPSBpbnB1dFtpXSA9IGN1cnJlbnREYXRlW2ldO1xuICAgIH1cblxuICAgIC8vIFplcm8gb3V0IHdoYXRldmVyIHdhcyBub3QgZGVmYXVsdGVkLCBpbmNsdWRpbmcgdGltZVxuICAgIGZvciAoOyBpIDwgNzsgaSsrKSB7XG4gICAgICAgIGNvbmZpZy5fYVtpXSA9IGlucHV0W2ldID0gKGNvbmZpZy5fYVtpXSA9PSBudWxsKSA/IChpID09PSAyID8gMSA6IDApIDogY29uZmlnLl9hW2ldO1xuICAgIH1cblxuICAgIC8vIENoZWNrIGZvciAyNDowMDowMC4wMDBcbiAgICBpZiAoY29uZmlnLl9hW0hPVVJdID09PSAyNCAmJlxuICAgICAgICAgICAgY29uZmlnLl9hW01JTlVURV0gPT09IDAgJiZcbiAgICAgICAgICAgIGNvbmZpZy5fYVtTRUNPTkRdID09PSAwICYmXG4gICAgICAgICAgICBjb25maWcuX2FbTUlMTElTRUNPTkRdID09PSAwKSB7XG4gICAgICAgIGNvbmZpZy5fbmV4dERheSA9IHRydWU7XG4gICAgICAgIGNvbmZpZy5fYVtIT1VSXSA9IDA7XG4gICAgfVxuXG4gICAgY29uZmlnLl9kID0gKGNvbmZpZy5fdXNlVVRDID8gY3JlYXRlVVRDRGF0ZSA6IGNyZWF0ZURhdGUpLmFwcGx5KG51bGwsIGlucHV0KTtcbiAgICAvLyBBcHBseSB0aW1lem9uZSBvZmZzZXQgZnJvbSBpbnB1dC4gVGhlIGFjdHVhbCB1dGNPZmZzZXQgY2FuIGJlIGNoYW5nZWRcbiAgICAvLyB3aXRoIHBhcnNlWm9uZS5cbiAgICBpZiAoY29uZmlnLl90em0gIT0gbnVsbCkge1xuICAgICAgICBjb25maWcuX2Quc2V0VVRDTWludXRlcyhjb25maWcuX2QuZ2V0VVRDTWludXRlcygpIC0gY29uZmlnLl90em0pO1xuICAgIH1cblxuICAgIGlmIChjb25maWcuX25leHREYXkpIHtcbiAgICAgICAgY29uZmlnLl9hW0hPVVJdID0gMjQ7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBkYXlPZlllYXJGcm9tV2Vla0luZm8oY29uZmlnKSB7XG4gICAgdmFyIHcsIHdlZWtZZWFyLCB3ZWVrLCB3ZWVrZGF5LCBkb3csIGRveSwgdGVtcCwgd2Vla2RheU92ZXJmbG93O1xuXG4gICAgdyA9IGNvbmZpZy5fdztcbiAgICBpZiAody5HRyAhPSBudWxsIHx8IHcuVyAhPSBudWxsIHx8IHcuRSAhPSBudWxsKSB7XG4gICAgICAgIGRvdyA9IDE7XG4gICAgICAgIGRveSA9IDQ7XG5cbiAgICAgICAgLy8gVE9ETzogV2UgbmVlZCB0byB0YWtlIHRoZSBjdXJyZW50IGlzb1dlZWtZZWFyLCBidXQgdGhhdCBkZXBlbmRzIG9uXG4gICAgICAgIC8vIGhvdyB3ZSBpbnRlcnByZXQgbm93IChsb2NhbCwgdXRjLCBmaXhlZCBvZmZzZXQpLiBTbyBjcmVhdGVcbiAgICAgICAgLy8gYSBub3cgdmVyc2lvbiBvZiBjdXJyZW50IGNvbmZpZyAodGFrZSBsb2NhbC91dGMvb2Zmc2V0IGZsYWdzLCBhbmRcbiAgICAgICAgLy8gY3JlYXRlIG5vdykuXG4gICAgICAgIHdlZWtZZWFyID0gZGVmYXVsdHMody5HRywgY29uZmlnLl9hW1lFQVJdLCB3ZWVrT2ZZZWFyKGNyZWF0ZUxvY2FsKCksIDEsIDQpLnllYXIpO1xuICAgICAgICB3ZWVrID0gZGVmYXVsdHMody5XLCAxKTtcbiAgICAgICAgd2Vla2RheSA9IGRlZmF1bHRzKHcuRSwgMSk7XG4gICAgICAgIGlmICh3ZWVrZGF5IDwgMSB8fCB3ZWVrZGF5ID4gNykge1xuICAgICAgICAgICAgd2Vla2RheU92ZXJmbG93ID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICAgIGRvdyA9IGNvbmZpZy5fbG9jYWxlLl93ZWVrLmRvdztcbiAgICAgICAgZG95ID0gY29uZmlnLl9sb2NhbGUuX3dlZWsuZG95O1xuXG4gICAgICAgIHZhciBjdXJXZWVrID0gd2Vla09mWWVhcihjcmVhdGVMb2NhbCgpLCBkb3csIGRveSk7XG5cbiAgICAgICAgd2Vla1llYXIgPSBkZWZhdWx0cyh3LmdnLCBjb25maWcuX2FbWUVBUl0sIGN1cldlZWsueWVhcik7XG5cbiAgICAgICAgLy8gRGVmYXVsdCB0byBjdXJyZW50IHdlZWsuXG4gICAgICAgIHdlZWsgPSBkZWZhdWx0cyh3LncsIGN1cldlZWsud2Vlayk7XG5cbiAgICAgICAgaWYgKHcuZCAhPSBudWxsKSB7XG4gICAgICAgICAgICAvLyB3ZWVrZGF5IC0tIGxvdyBkYXkgbnVtYmVycyBhcmUgY29uc2lkZXJlZCBuZXh0IHdlZWtcbiAgICAgICAgICAgIHdlZWtkYXkgPSB3LmQ7XG4gICAgICAgICAgICBpZiAod2Vla2RheSA8IDAgfHwgd2Vla2RheSA+IDYpIHtcbiAgICAgICAgICAgICAgICB3ZWVrZGF5T3ZlcmZsb3cgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKHcuZSAhPSBudWxsKSB7XG4gICAgICAgICAgICAvLyBsb2NhbCB3ZWVrZGF5IC0tIGNvdW50aW5nIHN0YXJ0cyBmcm9tIGJlZ2luaW5nIG9mIHdlZWtcbiAgICAgICAgICAgIHdlZWtkYXkgPSB3LmUgKyBkb3c7XG4gICAgICAgICAgICBpZiAody5lIDwgMCB8fCB3LmUgPiA2KSB7XG4gICAgICAgICAgICAgICAgd2Vla2RheU92ZXJmbG93ID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vIGRlZmF1bHQgdG8gYmVnaW5pbmcgb2Ygd2Vla1xuICAgICAgICAgICAgd2Vla2RheSA9IGRvdztcbiAgICAgICAgfVxuICAgIH1cbiAgICBpZiAod2VlayA8IDEgfHwgd2VlayA+IHdlZWtzSW5ZZWFyKHdlZWtZZWFyLCBkb3csIGRveSkpIHtcbiAgICAgICAgZ2V0UGFyc2luZ0ZsYWdzKGNvbmZpZykuX292ZXJmbG93V2Vla3MgPSB0cnVlO1xuICAgIH0gZWxzZSBpZiAod2Vla2RheU92ZXJmbG93ICE9IG51bGwpIHtcbiAgICAgICAgZ2V0UGFyc2luZ0ZsYWdzKGNvbmZpZykuX292ZXJmbG93V2Vla2RheSA9IHRydWU7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgdGVtcCA9IGRheU9mWWVhckZyb21XZWVrcyh3ZWVrWWVhciwgd2Vlaywgd2Vla2RheSwgZG93LCBkb3kpO1xuICAgICAgICBjb25maWcuX2FbWUVBUl0gPSB0ZW1wLnllYXI7XG4gICAgICAgIGNvbmZpZy5fZGF5T2ZZZWFyID0gdGVtcC5kYXlPZlllYXI7XG4gICAgfVxufVxuXG4vLyBjb25zdGFudCB0aGF0IHJlZmVycyB0byB0aGUgSVNPIHN0YW5kYXJkXG5ob29rcy5JU09fODYwMSA9IGZ1bmN0aW9uICgpIHt9O1xuXG4vLyBkYXRlIGZyb20gc3RyaW5nIGFuZCBmb3JtYXQgc3RyaW5nXG5mdW5jdGlvbiBjb25maWdGcm9tU3RyaW5nQW5kRm9ybWF0KGNvbmZpZykge1xuICAgIC8vIFRPRE86IE1vdmUgdGhpcyB0byBhbm90aGVyIHBhcnQgb2YgdGhlIGNyZWF0aW9uIGZsb3cgdG8gcHJldmVudCBjaXJjdWxhciBkZXBzXG4gICAgaWYgKGNvbmZpZy5fZiA9PT0gaG9va3MuSVNPXzg2MDEpIHtcbiAgICAgICAgY29uZmlnRnJvbUlTTyhjb25maWcpO1xuICAgICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29uZmlnLl9hID0gW107XG4gICAgZ2V0UGFyc2luZ0ZsYWdzKGNvbmZpZykuZW1wdHkgPSB0cnVlO1xuXG4gICAgLy8gVGhpcyBhcnJheSBpcyB1c2VkIHRvIG1ha2UgYSBEYXRlLCBlaXRoZXIgd2l0aCBgbmV3IERhdGVgIG9yIGBEYXRlLlVUQ2BcbiAgICB2YXIgc3RyaW5nID0gJycgKyBjb25maWcuX2ksXG4gICAgICAgIGksIHBhcnNlZElucHV0LCB0b2tlbnMsIHRva2VuLCBza2lwcGVkLFxuICAgICAgICBzdHJpbmdMZW5ndGggPSBzdHJpbmcubGVuZ3RoLFxuICAgICAgICB0b3RhbFBhcnNlZElucHV0TGVuZ3RoID0gMDtcblxuICAgIHRva2VucyA9IGV4cGFuZEZvcm1hdChjb25maWcuX2YsIGNvbmZpZy5fbG9jYWxlKS5tYXRjaChmb3JtYXR0aW5nVG9rZW5zKSB8fCBbXTtcblxuICAgIGZvciAoaSA9IDA7IGkgPCB0b2tlbnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgdG9rZW4gPSB0b2tlbnNbaV07XG4gICAgICAgIHBhcnNlZElucHV0ID0gKHN0cmluZy5tYXRjaChnZXRQYXJzZVJlZ2V4Rm9yVG9rZW4odG9rZW4sIGNvbmZpZykpIHx8IFtdKVswXTtcbiAgICAgICAgLy8gY29uc29sZS5sb2coJ3Rva2VuJywgdG9rZW4sICdwYXJzZWRJbnB1dCcsIHBhcnNlZElucHV0LFxuICAgICAgICAvLyAgICAgICAgICdyZWdleCcsIGdldFBhcnNlUmVnZXhGb3JUb2tlbih0b2tlbiwgY29uZmlnKSk7XG4gICAgICAgIGlmIChwYXJzZWRJbnB1dCkge1xuICAgICAgICAgICAgc2tpcHBlZCA9IHN0cmluZy5zdWJzdHIoMCwgc3RyaW5nLmluZGV4T2YocGFyc2VkSW5wdXQpKTtcbiAgICAgICAgICAgIGlmIChza2lwcGVkLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICBnZXRQYXJzaW5nRmxhZ3MoY29uZmlnKS51bnVzZWRJbnB1dC5wdXNoKHNraXBwZWQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgc3RyaW5nID0gc3RyaW5nLnNsaWNlKHN0cmluZy5pbmRleE9mKHBhcnNlZElucHV0KSArIHBhcnNlZElucHV0Lmxlbmd0aCk7XG4gICAgICAgICAgICB0b3RhbFBhcnNlZElucHV0TGVuZ3RoICs9IHBhcnNlZElucHV0Lmxlbmd0aDtcbiAgICAgICAgfVxuICAgICAgICAvLyBkb24ndCBwYXJzZSBpZiBpdCdzIG5vdCBhIGtub3duIHRva2VuXG4gICAgICAgIGlmIChmb3JtYXRUb2tlbkZ1bmN0aW9uc1t0b2tlbl0pIHtcbiAgICAgICAgICAgIGlmIChwYXJzZWRJbnB1dCkge1xuICAgICAgICAgICAgICAgIGdldFBhcnNpbmdGbGFncyhjb25maWcpLmVtcHR5ID0gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBnZXRQYXJzaW5nRmxhZ3MoY29uZmlnKS51bnVzZWRUb2tlbnMucHVzaCh0b2tlbik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBhZGRUaW1lVG9BcnJheUZyb21Ub2tlbih0b2tlbiwgcGFyc2VkSW5wdXQsIGNvbmZpZyk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoY29uZmlnLl9zdHJpY3QgJiYgIXBhcnNlZElucHV0KSB7XG4gICAgICAgICAgICBnZXRQYXJzaW5nRmxhZ3MoY29uZmlnKS51bnVzZWRUb2tlbnMucHVzaCh0b2tlbik7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBhZGQgcmVtYWluaW5nIHVucGFyc2VkIGlucHV0IGxlbmd0aCB0byB0aGUgc3RyaW5nXG4gICAgZ2V0UGFyc2luZ0ZsYWdzKGNvbmZpZykuY2hhcnNMZWZ0T3ZlciA9IHN0cmluZ0xlbmd0aCAtIHRvdGFsUGFyc2VkSW5wdXRMZW5ndGg7XG4gICAgaWYgKHN0cmluZy5sZW5ndGggPiAwKSB7XG4gICAgICAgIGdldFBhcnNpbmdGbGFncyhjb25maWcpLnVudXNlZElucHV0LnB1c2goc3RyaW5nKTtcbiAgICB9XG5cbiAgICAvLyBjbGVhciBfMTJoIGZsYWcgaWYgaG91ciBpcyA8PSAxMlxuICAgIGlmIChjb25maWcuX2FbSE9VUl0gPD0gMTIgJiZcbiAgICAgICAgZ2V0UGFyc2luZ0ZsYWdzKGNvbmZpZykuYmlnSG91ciA9PT0gdHJ1ZSAmJlxuICAgICAgICBjb25maWcuX2FbSE9VUl0gPiAwKSB7XG4gICAgICAgIGdldFBhcnNpbmdGbGFncyhjb25maWcpLmJpZ0hvdXIgPSB1bmRlZmluZWQ7XG4gICAgfVxuXG4gICAgZ2V0UGFyc2luZ0ZsYWdzKGNvbmZpZykucGFyc2VkRGF0ZVBhcnRzID0gY29uZmlnLl9hLnNsaWNlKDApO1xuICAgIGdldFBhcnNpbmdGbGFncyhjb25maWcpLm1lcmlkaWVtID0gY29uZmlnLl9tZXJpZGllbTtcbiAgICAvLyBoYW5kbGUgbWVyaWRpZW1cbiAgICBjb25maWcuX2FbSE9VUl0gPSBtZXJpZGllbUZpeFdyYXAoY29uZmlnLl9sb2NhbGUsIGNvbmZpZy5fYVtIT1VSXSwgY29uZmlnLl9tZXJpZGllbSk7XG5cbiAgICBjb25maWdGcm9tQXJyYXkoY29uZmlnKTtcbiAgICBjaGVja092ZXJmbG93KGNvbmZpZyk7XG59XG5cblxuZnVuY3Rpb24gbWVyaWRpZW1GaXhXcmFwIChsb2NhbGUsIGhvdXIsIG1lcmlkaWVtKSB7XG4gICAgdmFyIGlzUG07XG5cbiAgICBpZiAobWVyaWRpZW0gPT0gbnVsbCkge1xuICAgICAgICAvLyBub3RoaW5nIHRvIGRvXG4gICAgICAgIHJldHVybiBob3VyO1xuICAgIH1cbiAgICBpZiAobG9jYWxlLm1lcmlkaWVtSG91ciAhPSBudWxsKSB7XG4gICAgICAgIHJldHVybiBsb2NhbGUubWVyaWRpZW1Ib3VyKGhvdXIsIG1lcmlkaWVtKTtcbiAgICB9IGVsc2UgaWYgKGxvY2FsZS5pc1BNICE9IG51bGwpIHtcbiAgICAgICAgLy8gRmFsbGJhY2tcbiAgICAgICAgaXNQbSA9IGxvY2FsZS5pc1BNKG1lcmlkaWVtKTtcbiAgICAgICAgaWYgKGlzUG0gJiYgaG91ciA8IDEyKSB7XG4gICAgICAgICAgICBob3VyICs9IDEyO1xuICAgICAgICB9XG4gICAgICAgIGlmICghaXNQbSAmJiBob3VyID09PSAxMikge1xuICAgICAgICAgICAgaG91ciA9IDA7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGhvdXI7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgLy8gdGhpcyBpcyBub3Qgc3VwcG9zZWQgdG8gaGFwcGVuXG4gICAgICAgIHJldHVybiBob3VyO1xuICAgIH1cbn1cblxuLy8gZGF0ZSBmcm9tIHN0cmluZyBhbmQgYXJyYXkgb2YgZm9ybWF0IHN0cmluZ3NcbmZ1bmN0aW9uIGNvbmZpZ0Zyb21TdHJpbmdBbmRBcnJheShjb25maWcpIHtcbiAgICB2YXIgdGVtcENvbmZpZyxcbiAgICAgICAgYmVzdE1vbWVudCxcblxuICAgICAgICBzY29yZVRvQmVhdCxcbiAgICAgICAgaSxcbiAgICAgICAgY3VycmVudFNjb3JlO1xuXG4gICAgaWYgKGNvbmZpZy5fZi5sZW5ndGggPT09IDApIHtcbiAgICAgICAgZ2V0UGFyc2luZ0ZsYWdzKGNvbmZpZykuaW52YWxpZEZvcm1hdCA9IHRydWU7XG4gICAgICAgIGNvbmZpZy5fZCA9IG5ldyBEYXRlKE5hTik7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBmb3IgKGkgPSAwOyBpIDwgY29uZmlnLl9mLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGN1cnJlbnRTY29yZSA9IDA7XG4gICAgICAgIHRlbXBDb25maWcgPSBjb3B5Q29uZmlnKHt9LCBjb25maWcpO1xuICAgICAgICBpZiAoY29uZmlnLl91c2VVVEMgIT0gbnVsbCkge1xuICAgICAgICAgICAgdGVtcENvbmZpZy5fdXNlVVRDID0gY29uZmlnLl91c2VVVEM7XG4gICAgICAgIH1cbiAgICAgICAgdGVtcENvbmZpZy5fZiA9IGNvbmZpZy5fZltpXTtcbiAgICAgICAgY29uZmlnRnJvbVN0cmluZ0FuZEZvcm1hdCh0ZW1wQ29uZmlnKTtcblxuICAgICAgICBpZiAoIWlzVmFsaWQodGVtcENvbmZpZykpIHtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gaWYgdGhlcmUgaXMgYW55IGlucHV0IHRoYXQgd2FzIG5vdCBwYXJzZWQgYWRkIGEgcGVuYWx0eSBmb3IgdGhhdCBmb3JtYXRcbiAgICAgICAgY3VycmVudFNjb3JlICs9IGdldFBhcnNpbmdGbGFncyh0ZW1wQ29uZmlnKS5jaGFyc0xlZnRPdmVyO1xuXG4gICAgICAgIC8vb3IgdG9rZW5zXG4gICAgICAgIGN1cnJlbnRTY29yZSArPSBnZXRQYXJzaW5nRmxhZ3ModGVtcENvbmZpZykudW51c2VkVG9rZW5zLmxlbmd0aCAqIDEwO1xuXG4gICAgICAgIGdldFBhcnNpbmdGbGFncyh0ZW1wQ29uZmlnKS5zY29yZSA9IGN1cnJlbnRTY29yZTtcblxuICAgICAgICBpZiAoc2NvcmVUb0JlYXQgPT0gbnVsbCB8fCBjdXJyZW50U2NvcmUgPCBzY29yZVRvQmVhdCkge1xuICAgICAgICAgICAgc2NvcmVUb0JlYXQgPSBjdXJyZW50U2NvcmU7XG4gICAgICAgICAgICBiZXN0TW9tZW50ID0gdGVtcENvbmZpZztcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGV4dGVuZChjb25maWcsIGJlc3RNb21lbnQgfHwgdGVtcENvbmZpZyk7XG59XG5cbmZ1bmN0aW9uIGNvbmZpZ0Zyb21PYmplY3QoY29uZmlnKSB7XG4gICAgaWYgKGNvbmZpZy5fZCkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdmFyIGkgPSBub3JtYWxpemVPYmplY3RVbml0cyhjb25maWcuX2kpO1xuICAgIGNvbmZpZy5fYSA9IG1hcChbaS55ZWFyLCBpLm1vbnRoLCBpLmRheSB8fCBpLmRhdGUsIGkuaG91ciwgaS5taW51dGUsIGkuc2Vjb25kLCBpLm1pbGxpc2Vjb25kXSwgZnVuY3Rpb24gKG9iaikge1xuICAgICAgICByZXR1cm4gb2JqICYmIHBhcnNlSW50KG9iaiwgMTApO1xuICAgIH0pO1xuXG4gICAgY29uZmlnRnJvbUFycmF5KGNvbmZpZyk7XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZUZyb21Db25maWcgKGNvbmZpZykge1xuICAgIHZhciByZXMgPSBuZXcgTW9tZW50KGNoZWNrT3ZlcmZsb3cocHJlcGFyZUNvbmZpZyhjb25maWcpKSk7XG4gICAgaWYgKHJlcy5fbmV4dERheSkge1xuICAgICAgICAvLyBBZGRpbmcgaXMgc21hcnQgZW5vdWdoIGFyb3VuZCBEU1RcbiAgICAgICAgcmVzLmFkZCgxLCAnZCcpO1xuICAgICAgICByZXMuX25leHREYXkgPSB1bmRlZmluZWQ7XG4gICAgfVxuXG4gICAgcmV0dXJuIHJlcztcbn1cblxuZnVuY3Rpb24gcHJlcGFyZUNvbmZpZyAoY29uZmlnKSB7XG4gICAgdmFyIGlucHV0ID0gY29uZmlnLl9pLFxuICAgICAgICBmb3JtYXQgPSBjb25maWcuX2Y7XG5cbiAgICBjb25maWcuX2xvY2FsZSA9IGNvbmZpZy5fbG9jYWxlIHx8IGdldExvY2FsZShjb25maWcuX2wpO1xuXG4gICAgaWYgKGlucHV0ID09PSBudWxsIHx8IChmb3JtYXQgPT09IHVuZGVmaW5lZCAmJiBpbnB1dCA9PT0gJycpKSB7XG4gICAgICAgIHJldHVybiBjcmVhdGVJbnZhbGlkKHtudWxsSW5wdXQ6IHRydWV9KTtcbiAgICB9XG5cbiAgICBpZiAodHlwZW9mIGlucHV0ID09PSAnc3RyaW5nJykge1xuICAgICAgICBjb25maWcuX2kgPSBpbnB1dCA9IGNvbmZpZy5fbG9jYWxlLnByZXBhcnNlKGlucHV0KTtcbiAgICB9XG5cbiAgICBpZiAoaXNNb21lbnQoaW5wdXQpKSB7XG4gICAgICAgIHJldHVybiBuZXcgTW9tZW50KGNoZWNrT3ZlcmZsb3coaW5wdXQpKTtcbiAgICB9IGVsc2UgaWYgKGlzRGF0ZShpbnB1dCkpIHtcbiAgICAgICAgY29uZmlnLl9kID0gaW5wdXQ7XG4gICAgfSBlbHNlIGlmIChpc0FycmF5KGZvcm1hdCkpIHtcbiAgICAgICAgY29uZmlnRnJvbVN0cmluZ0FuZEFycmF5KGNvbmZpZyk7XG4gICAgfSBlbHNlIGlmIChmb3JtYXQpIHtcbiAgICAgICAgY29uZmlnRnJvbVN0cmluZ0FuZEZvcm1hdChjb25maWcpO1xuICAgIH0gIGVsc2Uge1xuICAgICAgICBjb25maWdGcm9tSW5wdXQoY29uZmlnKTtcbiAgICB9XG5cbiAgICBpZiAoIWlzVmFsaWQoY29uZmlnKSkge1xuICAgICAgICBjb25maWcuX2QgPSBudWxsO1xuICAgIH1cblxuICAgIHJldHVybiBjb25maWc7XG59XG5cbmZ1bmN0aW9uIGNvbmZpZ0Zyb21JbnB1dChjb25maWcpIHtcbiAgICB2YXIgaW5wdXQgPSBjb25maWcuX2k7XG4gICAgaWYgKGlucHV0ID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29uZmlnLl9kID0gbmV3IERhdGUoaG9va3Mubm93KCkpO1xuICAgIH0gZWxzZSBpZiAoaXNEYXRlKGlucHV0KSkge1xuICAgICAgICBjb25maWcuX2QgPSBuZXcgRGF0ZShpbnB1dC52YWx1ZU9mKCkpO1xuICAgIH0gZWxzZSBpZiAodHlwZW9mIGlucHV0ID09PSAnc3RyaW5nJykge1xuICAgICAgICBjb25maWdGcm9tU3RyaW5nKGNvbmZpZyk7XG4gICAgfSBlbHNlIGlmIChpc0FycmF5KGlucHV0KSkge1xuICAgICAgICBjb25maWcuX2EgPSBtYXAoaW5wdXQuc2xpY2UoMCksIGZ1bmN0aW9uIChvYmopIHtcbiAgICAgICAgICAgIHJldHVybiBwYXJzZUludChvYmosIDEwKTtcbiAgICAgICAgfSk7XG4gICAgICAgIGNvbmZpZ0Zyb21BcnJheShjb25maWcpO1xuICAgIH0gZWxzZSBpZiAodHlwZW9mKGlucHV0KSA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgY29uZmlnRnJvbU9iamVjdChjb25maWcpO1xuICAgIH0gZWxzZSBpZiAoaXNOdW1iZXIoaW5wdXQpKSB7XG4gICAgICAgIC8vIGZyb20gbWlsbGlzZWNvbmRzXG4gICAgICAgIGNvbmZpZy5fZCA9IG5ldyBEYXRlKGlucHV0KTtcbiAgICB9IGVsc2Uge1xuICAgICAgICBob29rcy5jcmVhdGVGcm9tSW5wdXRGYWxsYmFjayhjb25maWcpO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gY3JlYXRlTG9jYWxPclVUQyAoaW5wdXQsIGZvcm1hdCwgbG9jYWxlLCBzdHJpY3QsIGlzVVRDKSB7XG4gICAgdmFyIGMgPSB7fTtcblxuICAgIGlmIChsb2NhbGUgPT09IHRydWUgfHwgbG9jYWxlID09PSBmYWxzZSkge1xuICAgICAgICBzdHJpY3QgPSBsb2NhbGU7XG4gICAgICAgIGxvY2FsZSA9IHVuZGVmaW5lZDtcbiAgICB9XG5cbiAgICBpZiAoKGlzT2JqZWN0KGlucHV0KSAmJiBpc09iamVjdEVtcHR5KGlucHV0KSkgfHxcbiAgICAgICAgICAgIChpc0FycmF5KGlucHV0KSAmJiBpbnB1dC5sZW5ndGggPT09IDApKSB7XG4gICAgICAgIGlucHV0ID0gdW5kZWZpbmVkO1xuICAgIH1cbiAgICAvLyBvYmplY3QgY29uc3RydWN0aW9uIG11c3QgYmUgZG9uZSB0aGlzIHdheS5cbiAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vbW9tZW50L21vbWVudC9pc3N1ZXMvMTQyM1xuICAgIGMuX2lzQU1vbWVudE9iamVjdCA9IHRydWU7XG4gICAgYy5fdXNlVVRDID0gYy5faXNVVEMgPSBpc1VUQztcbiAgICBjLl9sID0gbG9jYWxlO1xuICAgIGMuX2kgPSBpbnB1dDtcbiAgICBjLl9mID0gZm9ybWF0O1xuICAgIGMuX3N0cmljdCA9IHN0cmljdDtcblxuICAgIHJldHVybiBjcmVhdGVGcm9tQ29uZmlnKGMpO1xufVxuXG5mdW5jdGlvbiBjcmVhdGVMb2NhbCAoaW5wdXQsIGZvcm1hdCwgbG9jYWxlLCBzdHJpY3QpIHtcbiAgICByZXR1cm4gY3JlYXRlTG9jYWxPclVUQyhpbnB1dCwgZm9ybWF0LCBsb2NhbGUsIHN0cmljdCwgZmFsc2UpO1xufVxuXG52YXIgcHJvdG90eXBlTWluID0gZGVwcmVjYXRlKFxuICAgICdtb21lbnQoKS5taW4gaXMgZGVwcmVjYXRlZCwgdXNlIG1vbWVudC5tYXggaW5zdGVhZC4gaHR0cDovL21vbWVudGpzLmNvbS9ndWlkZXMvIy93YXJuaW5ncy9taW4tbWF4LycsXG4gICAgZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgb3RoZXIgPSBjcmVhdGVMb2NhbC5hcHBseShudWxsLCBhcmd1bWVudHMpO1xuICAgICAgICBpZiAodGhpcy5pc1ZhbGlkKCkgJiYgb3RoZXIuaXNWYWxpZCgpKSB7XG4gICAgICAgICAgICByZXR1cm4gb3RoZXIgPCB0aGlzID8gdGhpcyA6IG90aGVyO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIGNyZWF0ZUludmFsaWQoKTtcbiAgICAgICAgfVxuICAgIH1cbik7XG5cbnZhciBwcm90b3R5cGVNYXggPSBkZXByZWNhdGUoXG4gICAgJ21vbWVudCgpLm1heCBpcyBkZXByZWNhdGVkLCB1c2UgbW9tZW50Lm1pbiBpbnN0ZWFkLiBodHRwOi8vbW9tZW50anMuY29tL2d1aWRlcy8jL3dhcm5pbmdzL21pbi1tYXgvJyxcbiAgICBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBvdGhlciA9IGNyZWF0ZUxvY2FsLmFwcGx5KG51bGwsIGFyZ3VtZW50cyk7XG4gICAgICAgIGlmICh0aGlzLmlzVmFsaWQoKSAmJiBvdGhlci5pc1ZhbGlkKCkpIHtcbiAgICAgICAgICAgIHJldHVybiBvdGhlciA+IHRoaXMgPyB0aGlzIDogb3RoZXI7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gY3JlYXRlSW52YWxpZCgpO1xuICAgICAgICB9XG4gICAgfVxuKTtcblxuLy8gUGljayBhIG1vbWVudCBtIGZyb20gbW9tZW50cyBzbyB0aGF0IG1bZm5dKG90aGVyKSBpcyB0cnVlIGZvciBhbGxcbi8vIG90aGVyLiBUaGlzIHJlbGllcyBvbiB0aGUgZnVuY3Rpb24gZm4gdG8gYmUgdHJhbnNpdGl2ZS5cbi8vXG4vLyBtb21lbnRzIHNob3VsZCBlaXRoZXIgYmUgYW4gYXJyYXkgb2YgbW9tZW50IG9iamVjdHMgb3IgYW4gYXJyYXksIHdob3NlXG4vLyBmaXJzdCBlbGVtZW50IGlzIGFuIGFycmF5IG9mIG1vbWVudCBvYmplY3RzLlxuZnVuY3Rpb24gcGlja0J5KGZuLCBtb21lbnRzKSB7XG4gICAgdmFyIHJlcywgaTtcbiAgICBpZiAobW9tZW50cy5sZW5ndGggPT09IDEgJiYgaXNBcnJheShtb21lbnRzWzBdKSkge1xuICAgICAgICBtb21lbnRzID0gbW9tZW50c1swXTtcbiAgICB9XG4gICAgaWYgKCFtb21lbnRzLmxlbmd0aCkge1xuICAgICAgICByZXR1cm4gY3JlYXRlTG9jYWwoKTtcbiAgICB9XG4gICAgcmVzID0gbW9tZW50c1swXTtcbiAgICBmb3IgKGkgPSAxOyBpIDwgbW9tZW50cy5sZW5ndGg7ICsraSkge1xuICAgICAgICBpZiAoIW1vbWVudHNbaV0uaXNWYWxpZCgpIHx8IG1vbWVudHNbaV1bZm5dKHJlcykpIHtcbiAgICAgICAgICAgIHJlcyA9IG1vbWVudHNbaV07XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHJlcztcbn1cblxuLy8gVE9ETzogVXNlIFtdLnNvcnQgaW5zdGVhZD9cbmZ1bmN0aW9uIG1pbiAoKSB7XG4gICAgdmFyIGFyZ3MgPSBbXS5zbGljZS5jYWxsKGFyZ3VtZW50cywgMCk7XG5cbiAgICByZXR1cm4gcGlja0J5KCdpc0JlZm9yZScsIGFyZ3MpO1xufVxuXG5mdW5jdGlvbiBtYXggKCkge1xuICAgIHZhciBhcmdzID0gW10uc2xpY2UuY2FsbChhcmd1bWVudHMsIDApO1xuXG4gICAgcmV0dXJuIHBpY2tCeSgnaXNBZnRlcicsIGFyZ3MpO1xufVxuXG52YXIgbm93ID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiBEYXRlLm5vdyA/IERhdGUubm93KCkgOiArKG5ldyBEYXRlKCkpO1xufTtcblxuZnVuY3Rpb24gRHVyYXRpb24gKGR1cmF0aW9uKSB7XG4gICAgdmFyIG5vcm1hbGl6ZWRJbnB1dCA9IG5vcm1hbGl6ZU9iamVjdFVuaXRzKGR1cmF0aW9uKSxcbiAgICAgICAgeWVhcnMgPSBub3JtYWxpemVkSW5wdXQueWVhciB8fCAwLFxuICAgICAgICBxdWFydGVycyA9IG5vcm1hbGl6ZWRJbnB1dC5xdWFydGVyIHx8IDAsXG4gICAgICAgIG1vbnRocyA9IG5vcm1hbGl6ZWRJbnB1dC5tb250aCB8fCAwLFxuICAgICAgICB3ZWVrcyA9IG5vcm1hbGl6ZWRJbnB1dC53ZWVrIHx8IDAsXG4gICAgICAgIGRheXMgPSBub3JtYWxpemVkSW5wdXQuZGF5IHx8IDAsXG4gICAgICAgIGhvdXJzID0gbm9ybWFsaXplZElucHV0LmhvdXIgfHwgMCxcbiAgICAgICAgbWludXRlcyA9IG5vcm1hbGl6ZWRJbnB1dC5taW51dGUgfHwgMCxcbiAgICAgICAgc2Vjb25kcyA9IG5vcm1hbGl6ZWRJbnB1dC5zZWNvbmQgfHwgMCxcbiAgICAgICAgbWlsbGlzZWNvbmRzID0gbm9ybWFsaXplZElucHV0Lm1pbGxpc2Vjb25kIHx8IDA7XG5cbiAgICAvLyByZXByZXNlbnRhdGlvbiBmb3IgZGF0ZUFkZFJlbW92ZVxuICAgIHRoaXMuX21pbGxpc2Vjb25kcyA9ICttaWxsaXNlY29uZHMgK1xuICAgICAgICBzZWNvbmRzICogMWUzICsgLy8gMTAwMFxuICAgICAgICBtaW51dGVzICogNmU0ICsgLy8gMTAwMCAqIDYwXG4gICAgICAgIGhvdXJzICogMTAwMCAqIDYwICogNjA7IC8vdXNpbmcgMTAwMCAqIDYwICogNjAgaW5zdGVhZCBvZiAzNmU1IHRvIGF2b2lkIGZsb2F0aW5nIHBvaW50IHJvdW5kaW5nIGVycm9ycyBodHRwczovL2dpdGh1Yi5jb20vbW9tZW50L21vbWVudC9pc3N1ZXMvMjk3OFxuICAgIC8vIEJlY2F1c2Ugb2YgZGF0ZUFkZFJlbW92ZSB0cmVhdHMgMjQgaG91cnMgYXMgZGlmZmVyZW50IGZyb20gYVxuICAgIC8vIGRheSB3aGVuIHdvcmtpbmcgYXJvdW5kIERTVCwgd2UgbmVlZCB0byBzdG9yZSB0aGVtIHNlcGFyYXRlbHlcbiAgICB0aGlzLl9kYXlzID0gK2RheXMgK1xuICAgICAgICB3ZWVrcyAqIDc7XG4gICAgLy8gSXQgaXMgaW1wb3NzaWJsZSB0cmFuc2xhdGUgbW9udGhzIGludG8gZGF5cyB3aXRob3V0IGtub3dpbmdcbiAgICAvLyB3aGljaCBtb250aHMgeW91IGFyZSBhcmUgdGFsa2luZyBhYm91dCwgc28gd2UgaGF2ZSB0byBzdG9yZVxuICAgIC8vIGl0IHNlcGFyYXRlbHkuXG4gICAgdGhpcy5fbW9udGhzID0gK21vbnRocyArXG4gICAgICAgIHF1YXJ0ZXJzICogMyArXG4gICAgICAgIHllYXJzICogMTI7XG5cbiAgICB0aGlzLl9kYXRhID0ge307XG5cbiAgICB0aGlzLl9sb2NhbGUgPSBnZXRMb2NhbGUoKTtcblxuICAgIHRoaXMuX2J1YmJsZSgpO1xufVxuXG5mdW5jdGlvbiBpc0R1cmF0aW9uIChvYmopIHtcbiAgICByZXR1cm4gb2JqIGluc3RhbmNlb2YgRHVyYXRpb247XG59XG5cbmZ1bmN0aW9uIGFic1JvdW5kIChudW1iZXIpIHtcbiAgICBpZiAobnVtYmVyIDwgMCkge1xuICAgICAgICByZXR1cm4gTWF0aC5yb3VuZCgtMSAqIG51bWJlcikgKiAtMTtcbiAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gTWF0aC5yb3VuZChudW1iZXIpO1xuICAgIH1cbn1cblxuLy8gRk9STUFUVElOR1xuXG5mdW5jdGlvbiBvZmZzZXQgKHRva2VuLCBzZXBhcmF0b3IpIHtcbiAgICBhZGRGb3JtYXRUb2tlbih0b2tlbiwgMCwgMCwgZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgb2Zmc2V0ID0gdGhpcy51dGNPZmZzZXQoKTtcbiAgICAgICAgdmFyIHNpZ24gPSAnKyc7XG4gICAgICAgIGlmIChvZmZzZXQgPCAwKSB7XG4gICAgICAgICAgICBvZmZzZXQgPSAtb2Zmc2V0O1xuICAgICAgICAgICAgc2lnbiA9ICctJztcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gc2lnbiArIHplcm9GaWxsKH5+KG9mZnNldCAvIDYwKSwgMikgKyBzZXBhcmF0b3IgKyB6ZXJvRmlsbCh+fihvZmZzZXQpICUgNjAsIDIpO1xuICAgIH0pO1xufVxuXG5vZmZzZXQoJ1onLCAnOicpO1xub2Zmc2V0KCdaWicsICcnKTtcblxuLy8gUEFSU0lOR1xuXG5hZGRSZWdleFRva2VuKCdaJywgIG1hdGNoU2hvcnRPZmZzZXQpO1xuYWRkUmVnZXhUb2tlbignWlonLCBtYXRjaFNob3J0T2Zmc2V0KTtcbmFkZFBhcnNlVG9rZW4oWydaJywgJ1paJ10sIGZ1bmN0aW9uIChpbnB1dCwgYXJyYXksIGNvbmZpZykge1xuICAgIGNvbmZpZy5fdXNlVVRDID0gdHJ1ZTtcbiAgICBjb25maWcuX3R6bSA9IG9mZnNldEZyb21TdHJpbmcobWF0Y2hTaG9ydE9mZnNldCwgaW5wdXQpO1xufSk7XG5cbi8vIEhFTFBFUlNcblxuLy8gdGltZXpvbmUgY2h1bmtlclxuLy8gJysxMDowMCcgPiBbJzEwJywgICcwMCddXG4vLyAnLTE1MzAnICA+IFsnLTE1JywgJzMwJ11cbnZhciBjaHVua09mZnNldCA9IC8oW1xcK1xcLV18XFxkXFxkKS9naTtcblxuZnVuY3Rpb24gb2Zmc2V0RnJvbVN0cmluZyhtYXRjaGVyLCBzdHJpbmcpIHtcbiAgICB2YXIgbWF0Y2hlcyA9IChzdHJpbmcgfHwgJycpLm1hdGNoKG1hdGNoZXIpO1xuXG4gICAgaWYgKG1hdGNoZXMgPT09IG51bGwpIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuXG4gICAgdmFyIGNodW5rICAgPSBtYXRjaGVzW21hdGNoZXMubGVuZ3RoIC0gMV0gfHwgW107XG4gICAgdmFyIHBhcnRzICAgPSAoY2h1bmsgKyAnJykubWF0Y2goY2h1bmtPZmZzZXQpIHx8IFsnLScsIDAsIDBdO1xuICAgIHZhciBtaW51dGVzID0gKyhwYXJ0c1sxXSAqIDYwKSArIHRvSW50KHBhcnRzWzJdKTtcblxuICAgIHJldHVybiBtaW51dGVzID09PSAwID9cbiAgICAgIDAgOlxuICAgICAgcGFydHNbMF0gPT09ICcrJyA/IG1pbnV0ZXMgOiAtbWludXRlcztcbn1cblxuLy8gUmV0dXJuIGEgbW9tZW50IGZyb20gaW5wdXQsIHRoYXQgaXMgbG9jYWwvdXRjL3pvbmUgZXF1aXZhbGVudCB0byBtb2RlbC5cbmZ1bmN0aW9uIGNsb25lV2l0aE9mZnNldChpbnB1dCwgbW9kZWwpIHtcbiAgICB2YXIgcmVzLCBkaWZmO1xuICAgIGlmIChtb2RlbC5faXNVVEMpIHtcbiAgICAgICAgcmVzID0gbW9kZWwuY2xvbmUoKTtcbiAgICAgICAgZGlmZiA9IChpc01vbWVudChpbnB1dCkgfHwgaXNEYXRlKGlucHV0KSA/IGlucHV0LnZhbHVlT2YoKSA6IGNyZWF0ZUxvY2FsKGlucHV0KS52YWx1ZU9mKCkpIC0gcmVzLnZhbHVlT2YoKTtcbiAgICAgICAgLy8gVXNlIGxvdy1sZXZlbCBhcGksIGJlY2F1c2UgdGhpcyBmbiBpcyBsb3ctbGV2ZWwgYXBpLlxuICAgICAgICByZXMuX2Quc2V0VGltZShyZXMuX2QudmFsdWVPZigpICsgZGlmZik7XG4gICAgICAgIGhvb2tzLnVwZGF0ZU9mZnNldChyZXMsIGZhbHNlKTtcbiAgICAgICAgcmV0dXJuIHJlcztcbiAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gY3JlYXRlTG9jYWwoaW5wdXQpLmxvY2FsKCk7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBnZXREYXRlT2Zmc2V0IChtKSB7XG4gICAgLy8gT24gRmlyZWZveC4yNCBEYXRlI2dldFRpbWV6b25lT2Zmc2V0IHJldHVybnMgYSBmbG9hdGluZyBwb2ludC5cbiAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vbW9tZW50L21vbWVudC9wdWxsLzE4NzFcbiAgICByZXR1cm4gLU1hdGgucm91bmQobS5fZC5nZXRUaW1lem9uZU9mZnNldCgpIC8gMTUpICogMTU7XG59XG5cbi8vIEhPT0tTXG5cbi8vIFRoaXMgZnVuY3Rpb24gd2lsbCBiZSBjYWxsZWQgd2hlbmV2ZXIgYSBtb21lbnQgaXMgbXV0YXRlZC5cbi8vIEl0IGlzIGludGVuZGVkIHRvIGtlZXAgdGhlIG9mZnNldCBpbiBzeW5jIHdpdGggdGhlIHRpbWV6b25lLlxuaG9va3MudXBkYXRlT2Zmc2V0ID0gZnVuY3Rpb24gKCkge307XG5cbi8vIE1PTUVOVFNcblxuLy8ga2VlcExvY2FsVGltZSA9IHRydWUgbWVhbnMgb25seSBjaGFuZ2UgdGhlIHRpbWV6b25lLCB3aXRob3V0XG4vLyBhZmZlY3RpbmcgdGhlIGxvY2FsIGhvdXIuIFNvIDU6MzE6MjYgKzAzMDAgLS1bdXRjT2Zmc2V0KDIsIHRydWUpXS0tPlxuLy8gNTozMToyNiArMDIwMCBJdCBpcyBwb3NzaWJsZSB0aGF0IDU6MzE6MjYgZG9lc24ndCBleGlzdCB3aXRoIG9mZnNldFxuLy8gKzAyMDAsIHNvIHdlIGFkanVzdCB0aGUgdGltZSBhcyBuZWVkZWQsIHRvIGJlIHZhbGlkLlxuLy9cbi8vIEtlZXBpbmcgdGhlIHRpbWUgYWN0dWFsbHkgYWRkcy9zdWJ0cmFjdHMgKG9uZSBob3VyKVxuLy8gZnJvbSB0aGUgYWN0dWFsIHJlcHJlc2VudGVkIHRpbWUuIFRoYXQgaXMgd2h5IHdlIGNhbGwgdXBkYXRlT2Zmc2V0XG4vLyBhIHNlY29uZCB0aW1lLiBJbiBjYXNlIGl0IHdhbnRzIHVzIHRvIGNoYW5nZSB0aGUgb2Zmc2V0IGFnYWluXG4vLyBfY2hhbmdlSW5Qcm9ncmVzcyA9PSB0cnVlIGNhc2UsIHRoZW4gd2UgaGF2ZSB0byBhZGp1c3QsIGJlY2F1c2Vcbi8vIHRoZXJlIGlzIG5vIHN1Y2ggdGltZSBpbiB0aGUgZ2l2ZW4gdGltZXpvbmUuXG5mdW5jdGlvbiBnZXRTZXRPZmZzZXQgKGlucHV0LCBrZWVwTG9jYWxUaW1lKSB7XG4gICAgdmFyIG9mZnNldCA9IHRoaXMuX29mZnNldCB8fCAwLFxuICAgICAgICBsb2NhbEFkanVzdDtcbiAgICBpZiAoIXRoaXMuaXNWYWxpZCgpKSB7XG4gICAgICAgIHJldHVybiBpbnB1dCAhPSBudWxsID8gdGhpcyA6IE5hTjtcbiAgICB9XG4gICAgaWYgKGlucHV0ICE9IG51bGwpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBpbnB1dCA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgIGlucHV0ID0gb2Zmc2V0RnJvbVN0cmluZyhtYXRjaFNob3J0T2Zmc2V0LCBpbnB1dCk7XG4gICAgICAgICAgICBpZiAoaW5wdXQgPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmIChNYXRoLmFicyhpbnB1dCkgPCAxNikge1xuICAgICAgICAgICAgaW5wdXQgPSBpbnB1dCAqIDYwO1xuICAgICAgICB9XG4gICAgICAgIGlmICghdGhpcy5faXNVVEMgJiYga2VlcExvY2FsVGltZSkge1xuICAgICAgICAgICAgbG9jYWxBZGp1c3QgPSBnZXREYXRlT2Zmc2V0KHRoaXMpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX29mZnNldCA9IGlucHV0O1xuICAgICAgICB0aGlzLl9pc1VUQyA9IHRydWU7XG4gICAgICAgIGlmIChsb2NhbEFkanVzdCAhPSBudWxsKSB7XG4gICAgICAgICAgICB0aGlzLmFkZChsb2NhbEFkanVzdCwgJ20nKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAob2Zmc2V0ICE9PSBpbnB1dCkge1xuICAgICAgICAgICAgaWYgKCFrZWVwTG9jYWxUaW1lIHx8IHRoaXMuX2NoYW5nZUluUHJvZ3Jlc3MpIHtcbiAgICAgICAgICAgICAgICBhZGRTdWJ0cmFjdCh0aGlzLCBjcmVhdGVEdXJhdGlvbihpbnB1dCAtIG9mZnNldCwgJ20nKSwgMSwgZmFsc2UpO1xuICAgICAgICAgICAgfSBlbHNlIGlmICghdGhpcy5fY2hhbmdlSW5Qcm9ncmVzcykge1xuICAgICAgICAgICAgICAgIHRoaXMuX2NoYW5nZUluUHJvZ3Jlc3MgPSB0cnVlO1xuICAgICAgICAgICAgICAgIGhvb2tzLnVwZGF0ZU9mZnNldCh0aGlzLCB0cnVlKTtcbiAgICAgICAgICAgICAgICB0aGlzLl9jaGFuZ2VJblByb2dyZXNzID0gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gdGhpcy5faXNVVEMgPyBvZmZzZXQgOiBnZXREYXRlT2Zmc2V0KHRoaXMpO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gZ2V0U2V0Wm9uZSAoaW5wdXQsIGtlZXBMb2NhbFRpbWUpIHtcbiAgICBpZiAoaW5wdXQgIT0gbnVsbCkge1xuICAgICAgICBpZiAodHlwZW9mIGlucHV0ICE9PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgaW5wdXQgPSAtaW5wdXQ7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnV0Y09mZnNldChpbnB1dCwga2VlcExvY2FsVGltZSk7XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIC10aGlzLnV0Y09mZnNldCgpO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gc2V0T2Zmc2V0VG9VVEMgKGtlZXBMb2NhbFRpbWUpIHtcbiAgICByZXR1cm4gdGhpcy51dGNPZmZzZXQoMCwga2VlcExvY2FsVGltZSk7XG59XG5cbmZ1bmN0aW9uIHNldE9mZnNldFRvTG9jYWwgKGtlZXBMb2NhbFRpbWUpIHtcbiAgICBpZiAodGhpcy5faXNVVEMpIHtcbiAgICAgICAgdGhpcy51dGNPZmZzZXQoMCwga2VlcExvY2FsVGltZSk7XG4gICAgICAgIHRoaXMuX2lzVVRDID0gZmFsc2U7XG5cbiAgICAgICAgaWYgKGtlZXBMb2NhbFRpbWUpIHtcbiAgICAgICAgICAgIHRoaXMuc3VidHJhY3QoZ2V0RGF0ZU9mZnNldCh0aGlzKSwgJ20nKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gdGhpcztcbn1cblxuZnVuY3Rpb24gc2V0T2Zmc2V0VG9QYXJzZWRPZmZzZXQgKCkge1xuICAgIGlmICh0aGlzLl90em0gIT0gbnVsbCkge1xuICAgICAgICB0aGlzLnV0Y09mZnNldCh0aGlzLl90em0pO1xuICAgIH0gZWxzZSBpZiAodHlwZW9mIHRoaXMuX2kgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgIHZhciB0Wm9uZSA9IG9mZnNldEZyb21TdHJpbmcobWF0Y2hPZmZzZXQsIHRoaXMuX2kpO1xuICAgICAgICBpZiAodFpvbmUgIT0gbnVsbCkge1xuICAgICAgICAgICAgdGhpcy51dGNPZmZzZXQodFpvbmUpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy51dGNPZmZzZXQoMCwgdHJ1ZSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHRoaXM7XG59XG5cbmZ1bmN0aW9uIGhhc0FsaWduZWRIb3VyT2Zmc2V0IChpbnB1dCkge1xuICAgIGlmICghdGhpcy5pc1ZhbGlkKCkpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBpbnB1dCA9IGlucHV0ID8gY3JlYXRlTG9jYWwoaW5wdXQpLnV0Y09mZnNldCgpIDogMDtcblxuICAgIHJldHVybiAodGhpcy51dGNPZmZzZXQoKSAtIGlucHV0KSAlIDYwID09PSAwO1xufVxuXG5mdW5jdGlvbiBpc0RheWxpZ2h0U2F2aW5nVGltZSAoKSB7XG4gICAgcmV0dXJuIChcbiAgICAgICAgdGhpcy51dGNPZmZzZXQoKSA+IHRoaXMuY2xvbmUoKS5tb250aCgwKS51dGNPZmZzZXQoKSB8fFxuICAgICAgICB0aGlzLnV0Y09mZnNldCgpID4gdGhpcy5jbG9uZSgpLm1vbnRoKDUpLnV0Y09mZnNldCgpXG4gICAgKTtcbn1cblxuZnVuY3Rpb24gaXNEYXlsaWdodFNhdmluZ1RpbWVTaGlmdGVkICgpIHtcbiAgICBpZiAoIWlzVW5kZWZpbmVkKHRoaXMuX2lzRFNUU2hpZnRlZCkpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2lzRFNUU2hpZnRlZDtcbiAgICB9XG5cbiAgICB2YXIgYyA9IHt9O1xuXG4gICAgY29weUNvbmZpZyhjLCB0aGlzKTtcbiAgICBjID0gcHJlcGFyZUNvbmZpZyhjKTtcblxuICAgIGlmIChjLl9hKSB7XG4gICAgICAgIHZhciBvdGhlciA9IGMuX2lzVVRDID8gY3JlYXRlVVRDKGMuX2EpIDogY3JlYXRlTG9jYWwoYy5fYSk7XG4gICAgICAgIHRoaXMuX2lzRFNUU2hpZnRlZCA9IHRoaXMuaXNWYWxpZCgpICYmXG4gICAgICAgICAgICBjb21wYXJlQXJyYXlzKGMuX2EsIG90aGVyLnRvQXJyYXkoKSkgPiAwO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuX2lzRFNUU2hpZnRlZCA9IGZhbHNlO1xuICAgIH1cblxuICAgIHJldHVybiB0aGlzLl9pc0RTVFNoaWZ0ZWQ7XG59XG5cbmZ1bmN0aW9uIGlzTG9jYWwgKCkge1xuICAgIHJldHVybiB0aGlzLmlzVmFsaWQoKSA/ICF0aGlzLl9pc1VUQyA6IGZhbHNlO1xufVxuXG5mdW5jdGlvbiBpc1V0Y09mZnNldCAoKSB7XG4gICAgcmV0dXJuIHRoaXMuaXNWYWxpZCgpID8gdGhpcy5faXNVVEMgOiBmYWxzZTtcbn1cblxuZnVuY3Rpb24gaXNVdGMgKCkge1xuICAgIHJldHVybiB0aGlzLmlzVmFsaWQoKSA/IHRoaXMuX2lzVVRDICYmIHRoaXMuX29mZnNldCA9PT0gMCA6IGZhbHNlO1xufVxuXG4vLyBBU1AuTkVUIGpzb24gZGF0ZSBmb3JtYXQgcmVnZXhcbnZhciBhc3BOZXRSZWdleCA9IC9eKFxcLSk/KD86KFxcZCopWy4gXSk/KFxcZCspXFw6KFxcZCspKD86XFw6KFxcZCspKFxcLlxcZCopPyk/JC87XG5cbi8vIGZyb20gaHR0cDovL2RvY3MuY2xvc3VyZS1saWJyYXJ5Lmdvb2dsZWNvZGUuY29tL2dpdC9jbG9zdXJlX2dvb2dfZGF0ZV9kYXRlLmpzLnNvdXJjZS5odG1sXG4vLyBzb21ld2hhdCBtb3JlIGluIGxpbmUgd2l0aCA0LjQuMy4yIDIwMDQgc3BlYywgYnV0IGFsbG93cyBkZWNpbWFsIGFueXdoZXJlXG4vLyBhbmQgZnVydGhlciBtb2RpZmllZCB0byBhbGxvdyBmb3Igc3RyaW5ncyBjb250YWluaW5nIGJvdGggd2VlayBhbmQgZGF5XG52YXIgaXNvUmVnZXggPSAvXigtKT9QKD86KC0/WzAtOSwuXSopWSk/KD86KC0/WzAtOSwuXSopTSk/KD86KC0/WzAtOSwuXSopVyk/KD86KC0/WzAtOSwuXSopRCk/KD86VCg/OigtP1swLTksLl0qKUgpPyg/OigtP1swLTksLl0qKU0pPyg/OigtP1swLTksLl0qKVMpPyk/JC87XG5cbmZ1bmN0aW9uIGNyZWF0ZUR1cmF0aW9uIChpbnB1dCwga2V5KSB7XG4gICAgdmFyIGR1cmF0aW9uID0gaW5wdXQsXG4gICAgICAgIC8vIG1hdGNoaW5nIGFnYWluc3QgcmVnZXhwIGlzIGV4cGVuc2l2ZSwgZG8gaXQgb24gZGVtYW5kXG4gICAgICAgIG1hdGNoID0gbnVsbCxcbiAgICAgICAgc2lnbixcbiAgICAgICAgcmV0LFxuICAgICAgICBkaWZmUmVzO1xuXG4gICAgaWYgKGlzRHVyYXRpb24oaW5wdXQpKSB7XG4gICAgICAgIGR1cmF0aW9uID0ge1xuICAgICAgICAgICAgbXMgOiBpbnB1dC5fbWlsbGlzZWNvbmRzLFxuICAgICAgICAgICAgZCAgOiBpbnB1dC5fZGF5cyxcbiAgICAgICAgICAgIE0gIDogaW5wdXQuX21vbnRoc1xuICAgICAgICB9O1xuICAgIH0gZWxzZSBpZiAoaXNOdW1iZXIoaW5wdXQpKSB7XG4gICAgICAgIGR1cmF0aW9uID0ge307XG4gICAgICAgIGlmIChrZXkpIHtcbiAgICAgICAgICAgIGR1cmF0aW9uW2tleV0gPSBpbnB1dDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGR1cmF0aW9uLm1pbGxpc2Vjb25kcyA9IGlucHV0O1xuICAgICAgICB9XG4gICAgfSBlbHNlIGlmICghIShtYXRjaCA9IGFzcE5ldFJlZ2V4LmV4ZWMoaW5wdXQpKSkge1xuICAgICAgICBzaWduID0gKG1hdGNoWzFdID09PSAnLScpID8gLTEgOiAxO1xuICAgICAgICBkdXJhdGlvbiA9IHtcbiAgICAgICAgICAgIHkgIDogMCxcbiAgICAgICAgICAgIGQgIDogdG9JbnQobWF0Y2hbREFURV0pICAgICAgICAgICAgICAgICAgICAgICAgICogc2lnbixcbiAgICAgICAgICAgIGggIDogdG9JbnQobWF0Y2hbSE9VUl0pICAgICAgICAgICAgICAgICAgICAgICAgICogc2lnbixcbiAgICAgICAgICAgIG0gIDogdG9JbnQobWF0Y2hbTUlOVVRFXSkgICAgICAgICAgICAgICAgICAgICAgICogc2lnbixcbiAgICAgICAgICAgIHMgIDogdG9JbnQobWF0Y2hbU0VDT05EXSkgICAgICAgICAgICAgICAgICAgICAgICogc2lnbixcbiAgICAgICAgICAgIG1zIDogdG9JbnQoYWJzUm91bmQobWF0Y2hbTUlMTElTRUNPTkRdICogMTAwMCkpICogc2lnbiAvLyB0aGUgbWlsbGlzZWNvbmQgZGVjaW1hbCBwb2ludCBpcyBpbmNsdWRlZCBpbiB0aGUgbWF0Y2hcbiAgICAgICAgfTtcbiAgICB9IGVsc2UgaWYgKCEhKG1hdGNoID0gaXNvUmVnZXguZXhlYyhpbnB1dCkpKSB7XG4gICAgICAgIHNpZ24gPSAobWF0Y2hbMV0gPT09ICctJykgPyAtMSA6IDE7XG4gICAgICAgIGR1cmF0aW9uID0ge1xuICAgICAgICAgICAgeSA6IHBhcnNlSXNvKG1hdGNoWzJdLCBzaWduKSxcbiAgICAgICAgICAgIE0gOiBwYXJzZUlzbyhtYXRjaFszXSwgc2lnbiksXG4gICAgICAgICAgICB3IDogcGFyc2VJc28obWF0Y2hbNF0sIHNpZ24pLFxuICAgICAgICAgICAgZCA6IHBhcnNlSXNvKG1hdGNoWzVdLCBzaWduKSxcbiAgICAgICAgICAgIGggOiBwYXJzZUlzbyhtYXRjaFs2XSwgc2lnbiksXG4gICAgICAgICAgICBtIDogcGFyc2VJc28obWF0Y2hbN10sIHNpZ24pLFxuICAgICAgICAgICAgcyA6IHBhcnNlSXNvKG1hdGNoWzhdLCBzaWduKVxuICAgICAgICB9O1xuICAgIH0gZWxzZSBpZiAoZHVyYXRpb24gPT0gbnVsbCkgey8vIGNoZWNrcyBmb3IgbnVsbCBvciB1bmRlZmluZWRcbiAgICAgICAgZHVyYXRpb24gPSB7fTtcbiAgICB9IGVsc2UgaWYgKHR5cGVvZiBkdXJhdGlvbiA9PT0gJ29iamVjdCcgJiYgKCdmcm9tJyBpbiBkdXJhdGlvbiB8fCAndG8nIGluIGR1cmF0aW9uKSkge1xuICAgICAgICBkaWZmUmVzID0gbW9tZW50c0RpZmZlcmVuY2UoY3JlYXRlTG9jYWwoZHVyYXRpb24uZnJvbSksIGNyZWF0ZUxvY2FsKGR1cmF0aW9uLnRvKSk7XG5cbiAgICAgICAgZHVyYXRpb24gPSB7fTtcbiAgICAgICAgZHVyYXRpb24ubXMgPSBkaWZmUmVzLm1pbGxpc2Vjb25kcztcbiAgICAgICAgZHVyYXRpb24uTSA9IGRpZmZSZXMubW9udGhzO1xuICAgIH1cblxuICAgIHJldCA9IG5ldyBEdXJhdGlvbihkdXJhdGlvbik7XG5cbiAgICBpZiAoaXNEdXJhdGlvbihpbnB1dCkgJiYgaGFzT3duUHJvcChpbnB1dCwgJ19sb2NhbGUnKSkge1xuICAgICAgICByZXQuX2xvY2FsZSA9IGlucHV0Ll9sb2NhbGU7XG4gICAgfVxuXG4gICAgcmV0dXJuIHJldDtcbn1cblxuY3JlYXRlRHVyYXRpb24uZm4gPSBEdXJhdGlvbi5wcm90b3R5cGU7XG5cbmZ1bmN0aW9uIHBhcnNlSXNvIChpbnAsIHNpZ24pIHtcbiAgICAvLyBXZSdkIG5vcm1hbGx5IHVzZSB+fmlucCBmb3IgdGhpcywgYnV0IHVuZm9ydHVuYXRlbHkgaXQgYWxzb1xuICAgIC8vIGNvbnZlcnRzIGZsb2F0cyB0byBpbnRzLlxuICAgIC8vIGlucCBtYXkgYmUgdW5kZWZpbmVkLCBzbyBjYXJlZnVsIGNhbGxpbmcgcmVwbGFjZSBvbiBpdC5cbiAgICB2YXIgcmVzID0gaW5wICYmIHBhcnNlRmxvYXQoaW5wLnJlcGxhY2UoJywnLCAnLicpKTtcbiAgICAvLyBhcHBseSBzaWduIHdoaWxlIHdlJ3JlIGF0IGl0XG4gICAgcmV0dXJuIChpc05hTihyZXMpID8gMCA6IHJlcykgKiBzaWduO1xufVxuXG5mdW5jdGlvbiBwb3NpdGl2ZU1vbWVudHNEaWZmZXJlbmNlKGJhc2UsIG90aGVyKSB7XG4gICAgdmFyIHJlcyA9IHttaWxsaXNlY29uZHM6IDAsIG1vbnRoczogMH07XG5cbiAgICByZXMubW9udGhzID0gb3RoZXIubW9udGgoKSAtIGJhc2UubW9udGgoKSArXG4gICAgICAgIChvdGhlci55ZWFyKCkgLSBiYXNlLnllYXIoKSkgKiAxMjtcbiAgICBpZiAoYmFzZS5jbG9uZSgpLmFkZChyZXMubW9udGhzLCAnTScpLmlzQWZ0ZXIob3RoZXIpKSB7XG4gICAgICAgIC0tcmVzLm1vbnRocztcbiAgICB9XG5cbiAgICByZXMubWlsbGlzZWNvbmRzID0gK290aGVyIC0gKyhiYXNlLmNsb25lKCkuYWRkKHJlcy5tb250aHMsICdNJykpO1xuXG4gICAgcmV0dXJuIHJlcztcbn1cblxuZnVuY3Rpb24gbW9tZW50c0RpZmZlcmVuY2UoYmFzZSwgb3RoZXIpIHtcbiAgICB2YXIgcmVzO1xuICAgIGlmICghKGJhc2UuaXNWYWxpZCgpICYmIG90aGVyLmlzVmFsaWQoKSkpIHtcbiAgICAgICAgcmV0dXJuIHttaWxsaXNlY29uZHM6IDAsIG1vbnRoczogMH07XG4gICAgfVxuXG4gICAgb3RoZXIgPSBjbG9uZVdpdGhPZmZzZXQob3RoZXIsIGJhc2UpO1xuICAgIGlmIChiYXNlLmlzQmVmb3JlKG90aGVyKSkge1xuICAgICAgICByZXMgPSBwb3NpdGl2ZU1vbWVudHNEaWZmZXJlbmNlKGJhc2UsIG90aGVyKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICByZXMgPSBwb3NpdGl2ZU1vbWVudHNEaWZmZXJlbmNlKG90aGVyLCBiYXNlKTtcbiAgICAgICAgcmVzLm1pbGxpc2Vjb25kcyA9IC1yZXMubWlsbGlzZWNvbmRzO1xuICAgICAgICByZXMubW9udGhzID0gLXJlcy5tb250aHM7XG4gICAgfVxuXG4gICAgcmV0dXJuIHJlcztcbn1cblxuLy8gVE9ETzogcmVtb3ZlICduYW1lJyBhcmcgYWZ0ZXIgZGVwcmVjYXRpb24gaXMgcmVtb3ZlZFxuZnVuY3Rpb24gY3JlYXRlQWRkZXIoZGlyZWN0aW9uLCBuYW1lKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uICh2YWwsIHBlcmlvZCkge1xuICAgICAgICB2YXIgZHVyLCB0bXA7XG4gICAgICAgIC8vaW52ZXJ0IHRoZSBhcmd1bWVudHMsIGJ1dCBjb21wbGFpbiBhYm91dCBpdFxuICAgICAgICBpZiAocGVyaW9kICE9PSBudWxsICYmICFpc05hTigrcGVyaW9kKSkge1xuICAgICAgICAgICAgZGVwcmVjYXRlU2ltcGxlKG5hbWUsICdtb21lbnQoKS4nICsgbmFtZSAgKyAnKHBlcmlvZCwgbnVtYmVyKSBpcyBkZXByZWNhdGVkLiBQbGVhc2UgdXNlIG1vbWVudCgpLicgKyBuYW1lICsgJyhudW1iZXIsIHBlcmlvZCkuICcgK1xuICAgICAgICAgICAgJ1NlZSBodHRwOi8vbW9tZW50anMuY29tL2d1aWRlcy8jL3dhcm5pbmdzL2FkZC1pbnZlcnRlZC1wYXJhbS8gZm9yIG1vcmUgaW5mby4nKTtcbiAgICAgICAgICAgIHRtcCA9IHZhbDsgdmFsID0gcGVyaW9kOyBwZXJpb2QgPSB0bXA7XG4gICAgICAgIH1cblxuICAgICAgICB2YWwgPSB0eXBlb2YgdmFsID09PSAnc3RyaW5nJyA/ICt2YWwgOiB2YWw7XG4gICAgICAgIGR1ciA9IGNyZWF0ZUR1cmF0aW9uKHZhbCwgcGVyaW9kKTtcbiAgICAgICAgYWRkU3VidHJhY3QodGhpcywgZHVyLCBkaXJlY3Rpb24pO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xufVxuXG5mdW5jdGlvbiBhZGRTdWJ0cmFjdCAobW9tLCBkdXJhdGlvbiwgaXNBZGRpbmcsIHVwZGF0ZU9mZnNldCkge1xuICAgIHZhciBtaWxsaXNlY29uZHMgPSBkdXJhdGlvbi5fbWlsbGlzZWNvbmRzLFxuICAgICAgICBkYXlzID0gYWJzUm91bmQoZHVyYXRpb24uX2RheXMpLFxuICAgICAgICBtb250aHMgPSBhYnNSb3VuZChkdXJhdGlvbi5fbW9udGhzKTtcblxuICAgIGlmICghbW9tLmlzVmFsaWQoKSkge1xuICAgICAgICAvLyBObyBvcFxuICAgICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdXBkYXRlT2Zmc2V0ID0gdXBkYXRlT2Zmc2V0ID09IG51bGwgPyB0cnVlIDogdXBkYXRlT2Zmc2V0O1xuXG4gICAgaWYgKG1pbGxpc2Vjb25kcykge1xuICAgICAgICBtb20uX2Quc2V0VGltZShtb20uX2QudmFsdWVPZigpICsgbWlsbGlzZWNvbmRzICogaXNBZGRpbmcpO1xuICAgIH1cbiAgICBpZiAoZGF5cykge1xuICAgICAgICBzZXQkMShtb20sICdEYXRlJywgZ2V0KG1vbSwgJ0RhdGUnKSArIGRheXMgKiBpc0FkZGluZyk7XG4gICAgfVxuICAgIGlmIChtb250aHMpIHtcbiAgICAgICAgc2V0TW9udGgobW9tLCBnZXQobW9tLCAnTW9udGgnKSArIG1vbnRocyAqIGlzQWRkaW5nKTtcbiAgICB9XG4gICAgaWYgKHVwZGF0ZU9mZnNldCkge1xuICAgICAgICBob29rcy51cGRhdGVPZmZzZXQobW9tLCBkYXlzIHx8IG1vbnRocyk7XG4gICAgfVxufVxuXG52YXIgYWRkICAgICAgPSBjcmVhdGVBZGRlcigxLCAnYWRkJyk7XG52YXIgc3VidHJhY3QgPSBjcmVhdGVBZGRlcigtMSwgJ3N1YnRyYWN0Jyk7XG5cbmZ1bmN0aW9uIGdldENhbGVuZGFyRm9ybWF0KG15TW9tZW50LCBub3cpIHtcbiAgICB2YXIgZGlmZiA9IG15TW9tZW50LmRpZmYobm93LCAnZGF5cycsIHRydWUpO1xuICAgIHJldHVybiBkaWZmIDwgLTYgPyAnc2FtZUVsc2UnIDpcbiAgICAgICAgICAgIGRpZmYgPCAtMSA/ICdsYXN0V2VlaycgOlxuICAgICAgICAgICAgZGlmZiA8IDAgPyAnbGFzdERheScgOlxuICAgICAgICAgICAgZGlmZiA8IDEgPyAnc2FtZURheScgOlxuICAgICAgICAgICAgZGlmZiA8IDIgPyAnbmV4dERheScgOlxuICAgICAgICAgICAgZGlmZiA8IDcgPyAnbmV4dFdlZWsnIDogJ3NhbWVFbHNlJztcbn1cblxuZnVuY3Rpb24gY2FsZW5kYXIkMSAodGltZSwgZm9ybWF0cykge1xuICAgIC8vIFdlIHdhbnQgdG8gY29tcGFyZSB0aGUgc3RhcnQgb2YgdG9kYXksIHZzIHRoaXMuXG4gICAgLy8gR2V0dGluZyBzdGFydC1vZi10b2RheSBkZXBlbmRzIG9uIHdoZXRoZXIgd2UncmUgbG9jYWwvdXRjL29mZnNldCBvciBub3QuXG4gICAgdmFyIG5vdyA9IHRpbWUgfHwgY3JlYXRlTG9jYWwoKSxcbiAgICAgICAgc29kID0gY2xvbmVXaXRoT2Zmc2V0KG5vdywgdGhpcykuc3RhcnRPZignZGF5JyksXG4gICAgICAgIGZvcm1hdCA9IGhvb2tzLmNhbGVuZGFyRm9ybWF0KHRoaXMsIHNvZCkgfHwgJ3NhbWVFbHNlJztcblxuICAgIHZhciBvdXRwdXQgPSBmb3JtYXRzICYmIChpc0Z1bmN0aW9uKGZvcm1hdHNbZm9ybWF0XSkgPyBmb3JtYXRzW2Zvcm1hdF0uY2FsbCh0aGlzLCBub3cpIDogZm9ybWF0c1tmb3JtYXRdKTtcblxuICAgIHJldHVybiB0aGlzLmZvcm1hdChvdXRwdXQgfHwgdGhpcy5sb2NhbGVEYXRhKCkuY2FsZW5kYXIoZm9ybWF0LCB0aGlzLCBjcmVhdGVMb2NhbChub3cpKSk7XG59XG5cbmZ1bmN0aW9uIGNsb25lICgpIHtcbiAgICByZXR1cm4gbmV3IE1vbWVudCh0aGlzKTtcbn1cblxuZnVuY3Rpb24gaXNBZnRlciAoaW5wdXQsIHVuaXRzKSB7XG4gICAgdmFyIGxvY2FsSW5wdXQgPSBpc01vbWVudChpbnB1dCkgPyBpbnB1dCA6IGNyZWF0ZUxvY2FsKGlucHV0KTtcbiAgICBpZiAoISh0aGlzLmlzVmFsaWQoKSAmJiBsb2NhbElucHV0LmlzVmFsaWQoKSkpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICB1bml0cyA9IG5vcm1hbGl6ZVVuaXRzKCFpc1VuZGVmaW5lZCh1bml0cykgPyB1bml0cyA6ICdtaWxsaXNlY29uZCcpO1xuICAgIGlmICh1bml0cyA9PT0gJ21pbGxpc2Vjb25kJykge1xuICAgICAgICByZXR1cm4gdGhpcy52YWx1ZU9mKCkgPiBsb2NhbElucHV0LnZhbHVlT2YoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gbG9jYWxJbnB1dC52YWx1ZU9mKCkgPCB0aGlzLmNsb25lKCkuc3RhcnRPZih1bml0cykudmFsdWVPZigpO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gaXNCZWZvcmUgKGlucHV0LCB1bml0cykge1xuICAgIHZhciBsb2NhbElucHV0ID0gaXNNb21lbnQoaW5wdXQpID8gaW5wdXQgOiBjcmVhdGVMb2NhbChpbnB1dCk7XG4gICAgaWYgKCEodGhpcy5pc1ZhbGlkKCkgJiYgbG9jYWxJbnB1dC5pc1ZhbGlkKCkpKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgdW5pdHMgPSBub3JtYWxpemVVbml0cyghaXNVbmRlZmluZWQodW5pdHMpID8gdW5pdHMgOiAnbWlsbGlzZWNvbmQnKTtcbiAgICBpZiAodW5pdHMgPT09ICdtaWxsaXNlY29uZCcpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudmFsdWVPZigpIDwgbG9jYWxJbnB1dC52YWx1ZU9mKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY2xvbmUoKS5lbmRPZih1bml0cykudmFsdWVPZigpIDwgbG9jYWxJbnB1dC52YWx1ZU9mKCk7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBpc0JldHdlZW4gKGZyb20sIHRvLCB1bml0cywgaW5jbHVzaXZpdHkpIHtcbiAgICBpbmNsdXNpdml0eSA9IGluY2x1c2l2aXR5IHx8ICcoKSc7XG4gICAgcmV0dXJuIChpbmNsdXNpdml0eVswXSA9PT0gJygnID8gdGhpcy5pc0FmdGVyKGZyb20sIHVuaXRzKSA6ICF0aGlzLmlzQmVmb3JlKGZyb20sIHVuaXRzKSkgJiZcbiAgICAgICAgKGluY2x1c2l2aXR5WzFdID09PSAnKScgPyB0aGlzLmlzQmVmb3JlKHRvLCB1bml0cykgOiAhdGhpcy5pc0FmdGVyKHRvLCB1bml0cykpO1xufVxuXG5mdW5jdGlvbiBpc1NhbWUgKGlucHV0LCB1bml0cykge1xuICAgIHZhciBsb2NhbElucHV0ID0gaXNNb21lbnQoaW5wdXQpID8gaW5wdXQgOiBjcmVhdGVMb2NhbChpbnB1dCksXG4gICAgICAgIGlucHV0TXM7XG4gICAgaWYgKCEodGhpcy5pc1ZhbGlkKCkgJiYgbG9jYWxJbnB1dC5pc1ZhbGlkKCkpKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgdW5pdHMgPSBub3JtYWxpemVVbml0cyh1bml0cyB8fCAnbWlsbGlzZWNvbmQnKTtcbiAgICBpZiAodW5pdHMgPT09ICdtaWxsaXNlY29uZCcpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudmFsdWVPZigpID09PSBsb2NhbElucHV0LnZhbHVlT2YoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICBpbnB1dE1zID0gbG9jYWxJbnB1dC52YWx1ZU9mKCk7XG4gICAgICAgIHJldHVybiB0aGlzLmNsb25lKCkuc3RhcnRPZih1bml0cykudmFsdWVPZigpIDw9IGlucHV0TXMgJiYgaW5wdXRNcyA8PSB0aGlzLmNsb25lKCkuZW5kT2YodW5pdHMpLnZhbHVlT2YoKTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIGlzU2FtZU9yQWZ0ZXIgKGlucHV0LCB1bml0cykge1xuICAgIHJldHVybiB0aGlzLmlzU2FtZShpbnB1dCwgdW5pdHMpIHx8IHRoaXMuaXNBZnRlcihpbnB1dCx1bml0cyk7XG59XG5cbmZ1bmN0aW9uIGlzU2FtZU9yQmVmb3JlIChpbnB1dCwgdW5pdHMpIHtcbiAgICByZXR1cm4gdGhpcy5pc1NhbWUoaW5wdXQsIHVuaXRzKSB8fCB0aGlzLmlzQmVmb3JlKGlucHV0LHVuaXRzKTtcbn1cblxuZnVuY3Rpb24gZGlmZiAoaW5wdXQsIHVuaXRzLCBhc0Zsb2F0KSB7XG4gICAgdmFyIHRoYXQsXG4gICAgICAgIHpvbmVEZWx0YSxcbiAgICAgICAgZGVsdGEsIG91dHB1dDtcblxuICAgIGlmICghdGhpcy5pc1ZhbGlkKCkpIHtcbiAgICAgICAgcmV0dXJuIE5hTjtcbiAgICB9XG5cbiAgICB0aGF0ID0gY2xvbmVXaXRoT2Zmc2V0KGlucHV0LCB0aGlzKTtcblxuICAgIGlmICghdGhhdC5pc1ZhbGlkKCkpIHtcbiAgICAgICAgcmV0dXJuIE5hTjtcbiAgICB9XG5cbiAgICB6b25lRGVsdGEgPSAodGhhdC51dGNPZmZzZXQoKSAtIHRoaXMudXRjT2Zmc2V0KCkpICogNmU0O1xuXG4gICAgdW5pdHMgPSBub3JtYWxpemVVbml0cyh1bml0cyk7XG5cbiAgICBpZiAodW5pdHMgPT09ICd5ZWFyJyB8fCB1bml0cyA9PT0gJ21vbnRoJyB8fCB1bml0cyA9PT0gJ3F1YXJ0ZXInKSB7XG4gICAgICAgIG91dHB1dCA9IG1vbnRoRGlmZih0aGlzLCB0aGF0KTtcbiAgICAgICAgaWYgKHVuaXRzID09PSAncXVhcnRlcicpIHtcbiAgICAgICAgICAgIG91dHB1dCA9IG91dHB1dCAvIDM7XG4gICAgICAgIH0gZWxzZSBpZiAodW5pdHMgPT09ICd5ZWFyJykge1xuICAgICAgICAgICAgb3V0cHV0ID0gb3V0cHV0IC8gMTI7XG4gICAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgICBkZWx0YSA9IHRoaXMgLSB0aGF0O1xuICAgICAgICBvdXRwdXQgPSB1bml0cyA9PT0gJ3NlY29uZCcgPyBkZWx0YSAvIDFlMyA6IC8vIDEwMDBcbiAgICAgICAgICAgIHVuaXRzID09PSAnbWludXRlJyA/IGRlbHRhIC8gNmU0IDogLy8gMTAwMCAqIDYwXG4gICAgICAgICAgICB1bml0cyA9PT0gJ2hvdXInID8gZGVsdGEgLyAzNmU1IDogLy8gMTAwMCAqIDYwICogNjBcbiAgICAgICAgICAgIHVuaXRzID09PSAnZGF5JyA/IChkZWx0YSAtIHpvbmVEZWx0YSkgLyA4NjRlNSA6IC8vIDEwMDAgKiA2MCAqIDYwICogMjQsIG5lZ2F0ZSBkc3RcbiAgICAgICAgICAgIHVuaXRzID09PSAnd2VlaycgPyAoZGVsdGEgLSB6b25lRGVsdGEpIC8gNjA0OGU1IDogLy8gMTAwMCAqIDYwICogNjAgKiAyNCAqIDcsIG5lZ2F0ZSBkc3RcbiAgICAgICAgICAgIGRlbHRhO1xuICAgIH1cbiAgICByZXR1cm4gYXNGbG9hdCA/IG91dHB1dCA6IGFic0Zsb29yKG91dHB1dCk7XG59XG5cbmZ1bmN0aW9uIG1vbnRoRGlmZiAoYSwgYikge1xuICAgIC8vIGRpZmZlcmVuY2UgaW4gbW9udGhzXG4gICAgdmFyIHdob2xlTW9udGhEaWZmID0gKChiLnllYXIoKSAtIGEueWVhcigpKSAqIDEyKSArIChiLm1vbnRoKCkgLSBhLm1vbnRoKCkpLFxuICAgICAgICAvLyBiIGlzIGluIChhbmNob3IgLSAxIG1vbnRoLCBhbmNob3IgKyAxIG1vbnRoKVxuICAgICAgICBhbmNob3IgPSBhLmNsb25lKCkuYWRkKHdob2xlTW9udGhEaWZmLCAnbW9udGhzJyksXG4gICAgICAgIGFuY2hvcjIsIGFkanVzdDtcblxuICAgIGlmIChiIC0gYW5jaG9yIDwgMCkge1xuICAgICAgICBhbmNob3IyID0gYS5jbG9uZSgpLmFkZCh3aG9sZU1vbnRoRGlmZiAtIDEsICdtb250aHMnKTtcbiAgICAgICAgLy8gbGluZWFyIGFjcm9zcyB0aGUgbW9udGhcbiAgICAgICAgYWRqdXN0ID0gKGIgLSBhbmNob3IpIC8gKGFuY2hvciAtIGFuY2hvcjIpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIGFuY2hvcjIgPSBhLmNsb25lKCkuYWRkKHdob2xlTW9udGhEaWZmICsgMSwgJ21vbnRocycpO1xuICAgICAgICAvLyBsaW5lYXIgYWNyb3NzIHRoZSBtb250aFxuICAgICAgICBhZGp1c3QgPSAoYiAtIGFuY2hvcikgLyAoYW5jaG9yMiAtIGFuY2hvcik7XG4gICAgfVxuXG4gICAgLy9jaGVjayBmb3IgbmVnYXRpdmUgemVybywgcmV0dXJuIHplcm8gaWYgbmVnYXRpdmUgemVyb1xuICAgIHJldHVybiAtKHdob2xlTW9udGhEaWZmICsgYWRqdXN0KSB8fCAwO1xufVxuXG5ob29rcy5kZWZhdWx0Rm9ybWF0ID0gJ1lZWVktTU0tRERUSEg6bW06c3NaJztcbmhvb2tzLmRlZmF1bHRGb3JtYXRVdGMgPSAnWVlZWS1NTS1ERFRISDptbTpzc1taXSc7XG5cbmZ1bmN0aW9uIHRvU3RyaW5nICgpIHtcbiAgICByZXR1cm4gdGhpcy5jbG9uZSgpLmxvY2FsZSgnZW4nKS5mb3JtYXQoJ2RkZCBNTU0gREQgWVlZWSBISDptbTpzcyBbR01UXVpaJyk7XG59XG5cbmZ1bmN0aW9uIHRvSVNPU3RyaW5nICgpIHtcbiAgICB2YXIgbSA9IHRoaXMuY2xvbmUoKS51dGMoKTtcbiAgICBpZiAoMCA8IG0ueWVhcigpICYmIG0ueWVhcigpIDw9IDk5OTkpIHtcbiAgICAgICAgaWYgKGlzRnVuY3Rpb24oRGF0ZS5wcm90b3R5cGUudG9JU09TdHJpbmcpKSB7XG4gICAgICAgICAgICAvLyBuYXRpdmUgaW1wbGVtZW50YXRpb24gaXMgfjUweCBmYXN0ZXIsIHVzZSBpdCB3aGVuIHdlIGNhblxuICAgICAgICAgICAgcmV0dXJuIHRoaXMudG9EYXRlKCkudG9JU09TdHJpbmcoKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBmb3JtYXRNb21lbnQobSwgJ1lZWVktTU0tRERbVF1ISDptbTpzcy5TU1NbWl0nKTtcbiAgICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBmb3JtYXRNb21lbnQobSwgJ1lZWVlZWS1NTS1ERFtUXUhIOm1tOnNzLlNTU1taXScpO1xuICAgIH1cbn1cblxuLyoqXG4gKiBSZXR1cm4gYSBodW1hbiByZWFkYWJsZSByZXByZXNlbnRhdGlvbiBvZiBhIG1vbWVudCB0aGF0IGNhblxuICogYWxzbyBiZSBldmFsdWF0ZWQgdG8gZ2V0IGEgbmV3IG1vbWVudCB3aGljaCBpcyB0aGUgc2FtZVxuICpcbiAqIEBsaW5rIGh0dHBzOi8vbm9kZWpzLm9yZy9kaXN0L2xhdGVzdC9kb2NzL2FwaS91dGlsLmh0bWwjdXRpbF9jdXN0b21faW5zcGVjdF9mdW5jdGlvbl9vbl9vYmplY3RzXG4gKi9cbmZ1bmN0aW9uIGluc3BlY3QgKCkge1xuICAgIGlmICghdGhpcy5pc1ZhbGlkKCkpIHtcbiAgICAgICAgcmV0dXJuICdtb21lbnQuaW52YWxpZCgvKiAnICsgdGhpcy5faSArICcgKi8pJztcbiAgICB9XG4gICAgdmFyIGZ1bmMgPSAnbW9tZW50JztcbiAgICB2YXIgem9uZSA9ICcnO1xuICAgIGlmICghdGhpcy5pc0xvY2FsKCkpIHtcbiAgICAgICAgZnVuYyA9IHRoaXMudXRjT2Zmc2V0KCkgPT09IDAgPyAnbW9tZW50LnV0YycgOiAnbW9tZW50LnBhcnNlWm9uZSc7XG4gICAgICAgIHpvbmUgPSAnWic7XG4gICAgfVxuICAgIHZhciBwcmVmaXggPSAnWycgKyBmdW5jICsgJyhcIl0nO1xuICAgIHZhciB5ZWFyID0gKDAgPCB0aGlzLnllYXIoKSAmJiB0aGlzLnllYXIoKSA8PSA5OTk5KSA/ICdZWVlZJyA6ICdZWVlZWVknO1xuICAgIHZhciBkYXRldGltZSA9ICctTU0tRERbVF1ISDptbTpzcy5TU1MnO1xuICAgIHZhciBzdWZmaXggPSB6b25lICsgJ1tcIildJztcblxuICAgIHJldHVybiB0aGlzLmZvcm1hdChwcmVmaXggKyB5ZWFyICsgZGF0ZXRpbWUgKyBzdWZmaXgpO1xufVxuXG5mdW5jdGlvbiBmb3JtYXQgKGlucHV0U3RyaW5nKSB7XG4gICAgaWYgKCFpbnB1dFN0cmluZykge1xuICAgICAgICBpbnB1dFN0cmluZyA9IHRoaXMuaXNVdGMoKSA/IGhvb2tzLmRlZmF1bHRGb3JtYXRVdGMgOiBob29rcy5kZWZhdWx0Rm9ybWF0O1xuICAgIH1cbiAgICB2YXIgb3V0cHV0ID0gZm9ybWF0TW9tZW50KHRoaXMsIGlucHV0U3RyaW5nKTtcbiAgICByZXR1cm4gdGhpcy5sb2NhbGVEYXRhKCkucG9zdGZvcm1hdChvdXRwdXQpO1xufVxuXG5mdW5jdGlvbiBmcm9tICh0aW1lLCB3aXRob3V0U3VmZml4KSB7XG4gICAgaWYgKHRoaXMuaXNWYWxpZCgpICYmXG4gICAgICAgICAgICAoKGlzTW9tZW50KHRpbWUpICYmIHRpbWUuaXNWYWxpZCgpKSB8fFxuICAgICAgICAgICAgIGNyZWF0ZUxvY2FsKHRpbWUpLmlzVmFsaWQoKSkpIHtcbiAgICAgICAgcmV0dXJuIGNyZWF0ZUR1cmF0aW9uKHt0bzogdGhpcywgZnJvbTogdGltZX0pLmxvY2FsZSh0aGlzLmxvY2FsZSgpKS5odW1hbml6ZSghd2l0aG91dFN1ZmZpeCk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubG9jYWxlRGF0YSgpLmludmFsaWREYXRlKCk7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBmcm9tTm93ICh3aXRob3V0U3VmZml4KSB7XG4gICAgcmV0dXJuIHRoaXMuZnJvbShjcmVhdGVMb2NhbCgpLCB3aXRob3V0U3VmZml4KTtcbn1cblxuZnVuY3Rpb24gdG8gKHRpbWUsIHdpdGhvdXRTdWZmaXgpIHtcbiAgICBpZiAodGhpcy5pc1ZhbGlkKCkgJiZcbiAgICAgICAgICAgICgoaXNNb21lbnQodGltZSkgJiYgdGltZS5pc1ZhbGlkKCkpIHx8XG4gICAgICAgICAgICAgY3JlYXRlTG9jYWwodGltZSkuaXNWYWxpZCgpKSkge1xuICAgICAgICByZXR1cm4gY3JlYXRlRHVyYXRpb24oe2Zyb206IHRoaXMsIHRvOiB0aW1lfSkubG9jYWxlKHRoaXMubG9jYWxlKCkpLmh1bWFuaXplKCF3aXRob3V0U3VmZml4KTtcbiAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gdGhpcy5sb2NhbGVEYXRhKCkuaW52YWxpZERhdGUoKTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIHRvTm93ICh3aXRob3V0U3VmZml4KSB7XG4gICAgcmV0dXJuIHRoaXMudG8oY3JlYXRlTG9jYWwoKSwgd2l0aG91dFN1ZmZpeCk7XG59XG5cbi8vIElmIHBhc3NlZCBhIGxvY2FsZSBrZXksIGl0IHdpbGwgc2V0IHRoZSBsb2NhbGUgZm9yIHRoaXNcbi8vIGluc3RhbmNlLiAgT3RoZXJ3aXNlLCBpdCB3aWxsIHJldHVybiB0aGUgbG9jYWxlIGNvbmZpZ3VyYXRpb25cbi8vIHZhcmlhYmxlcyBmb3IgdGhpcyBpbnN0YW5jZS5cbmZ1bmN0aW9uIGxvY2FsZSAoa2V5KSB7XG4gICAgdmFyIG5ld0xvY2FsZURhdGE7XG5cbiAgICBpZiAoa2V5ID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2xvY2FsZS5fYWJicjtcbiAgICB9IGVsc2Uge1xuICAgICAgICBuZXdMb2NhbGVEYXRhID0gZ2V0TG9jYWxlKGtleSk7XG4gICAgICAgIGlmIChuZXdMb2NhbGVEYXRhICE9IG51bGwpIHtcbiAgICAgICAgICAgIHRoaXMuX2xvY2FsZSA9IG5ld0xvY2FsZURhdGE7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxufVxuXG52YXIgbGFuZyA9IGRlcHJlY2F0ZShcbiAgICAnbW9tZW50KCkubGFuZygpIGlzIGRlcHJlY2F0ZWQuIEluc3RlYWQsIHVzZSBtb21lbnQoKS5sb2NhbGVEYXRhKCkgdG8gZ2V0IHRoZSBsYW5ndWFnZSBjb25maWd1cmF0aW9uLiBVc2UgbW9tZW50KCkubG9jYWxlKCkgdG8gY2hhbmdlIGxhbmd1YWdlcy4nLFxuICAgIGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgICAgaWYgKGtleSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5sb2NhbGVEYXRhKCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5sb2NhbGUoa2V5KTtcbiAgICAgICAgfVxuICAgIH1cbik7XG5cbmZ1bmN0aW9uIGxvY2FsZURhdGEgKCkge1xuICAgIHJldHVybiB0aGlzLl9sb2NhbGU7XG59XG5cbmZ1bmN0aW9uIHN0YXJ0T2YgKHVuaXRzKSB7XG4gICAgdW5pdHMgPSBub3JtYWxpemVVbml0cyh1bml0cyk7XG4gICAgLy8gdGhlIGZvbGxvd2luZyBzd2l0Y2ggaW50ZW50aW9uYWxseSBvbWl0cyBicmVhayBrZXl3b3Jkc1xuICAgIC8vIHRvIHV0aWxpemUgZmFsbGluZyB0aHJvdWdoIHRoZSBjYXNlcy5cbiAgICBzd2l0Y2ggKHVuaXRzKSB7XG4gICAgICAgIGNhc2UgJ3llYXInOlxuICAgICAgICAgICAgdGhpcy5tb250aCgwKTtcbiAgICAgICAgICAgIC8qIGZhbGxzIHRocm91Z2ggKi9cbiAgICAgICAgY2FzZSAncXVhcnRlcic6XG4gICAgICAgIGNhc2UgJ21vbnRoJzpcbiAgICAgICAgICAgIHRoaXMuZGF0ZSgxKTtcbiAgICAgICAgICAgIC8qIGZhbGxzIHRocm91Z2ggKi9cbiAgICAgICAgY2FzZSAnd2Vlayc6XG4gICAgICAgIGNhc2UgJ2lzb1dlZWsnOlxuICAgICAgICBjYXNlICdkYXknOlxuICAgICAgICBjYXNlICdkYXRlJzpcbiAgICAgICAgICAgIHRoaXMuaG91cnMoMCk7XG4gICAgICAgICAgICAvKiBmYWxscyB0aHJvdWdoICovXG4gICAgICAgIGNhc2UgJ2hvdXInOlxuICAgICAgICAgICAgdGhpcy5taW51dGVzKDApO1xuICAgICAgICAgICAgLyogZmFsbHMgdGhyb3VnaCAqL1xuICAgICAgICBjYXNlICdtaW51dGUnOlxuICAgICAgICAgICAgdGhpcy5zZWNvbmRzKDApO1xuICAgICAgICAgICAgLyogZmFsbHMgdGhyb3VnaCAqL1xuICAgICAgICBjYXNlICdzZWNvbmQnOlxuICAgICAgICAgICAgdGhpcy5taWxsaXNlY29uZHMoMCk7XG4gICAgfVxuXG4gICAgLy8gd2Vla3MgYXJlIGEgc3BlY2lhbCBjYXNlXG4gICAgaWYgKHVuaXRzID09PSAnd2VlaycpIHtcbiAgICAgICAgdGhpcy53ZWVrZGF5KDApO1xuICAgIH1cbiAgICBpZiAodW5pdHMgPT09ICdpc29XZWVrJykge1xuICAgICAgICB0aGlzLmlzb1dlZWtkYXkoMSk7XG4gICAgfVxuXG4gICAgLy8gcXVhcnRlcnMgYXJlIGFsc28gc3BlY2lhbFxuICAgIGlmICh1bml0cyA9PT0gJ3F1YXJ0ZXInKSB7XG4gICAgICAgIHRoaXMubW9udGgoTWF0aC5mbG9vcih0aGlzLm1vbnRoKCkgLyAzKSAqIDMpO1xuICAgIH1cblxuICAgIHJldHVybiB0aGlzO1xufVxuXG5mdW5jdGlvbiBlbmRPZiAodW5pdHMpIHtcbiAgICB1bml0cyA9IG5vcm1hbGl6ZVVuaXRzKHVuaXRzKTtcbiAgICBpZiAodW5pdHMgPT09IHVuZGVmaW5lZCB8fCB1bml0cyA9PT0gJ21pbGxpc2Vjb25kJykge1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvLyAnZGF0ZScgaXMgYW4gYWxpYXMgZm9yICdkYXknLCBzbyBpdCBzaG91bGQgYmUgY29uc2lkZXJlZCBhcyBzdWNoLlxuICAgIGlmICh1bml0cyA9PT0gJ2RhdGUnKSB7XG4gICAgICAgIHVuaXRzID0gJ2RheSc7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXMuc3RhcnRPZih1bml0cykuYWRkKDEsICh1bml0cyA9PT0gJ2lzb1dlZWsnID8gJ3dlZWsnIDogdW5pdHMpKS5zdWJ0cmFjdCgxLCAnbXMnKTtcbn1cblxuZnVuY3Rpb24gdmFsdWVPZiAoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2QudmFsdWVPZigpIC0gKCh0aGlzLl9vZmZzZXQgfHwgMCkgKiA2MDAwMCk7XG59XG5cbmZ1bmN0aW9uIHVuaXggKCkge1xuICAgIHJldHVybiBNYXRoLmZsb29yKHRoaXMudmFsdWVPZigpIC8gMTAwMCk7XG59XG5cbmZ1bmN0aW9uIHRvRGF0ZSAoKSB7XG4gICAgcmV0dXJuIG5ldyBEYXRlKHRoaXMudmFsdWVPZigpKTtcbn1cblxuZnVuY3Rpb24gdG9BcnJheSAoKSB7XG4gICAgdmFyIG0gPSB0aGlzO1xuICAgIHJldHVybiBbbS55ZWFyKCksIG0ubW9udGgoKSwgbS5kYXRlKCksIG0uaG91cigpLCBtLm1pbnV0ZSgpLCBtLnNlY29uZCgpLCBtLm1pbGxpc2Vjb25kKCldO1xufVxuXG5mdW5jdGlvbiB0b09iamVjdCAoKSB7XG4gICAgdmFyIG0gPSB0aGlzO1xuICAgIHJldHVybiB7XG4gICAgICAgIHllYXJzOiBtLnllYXIoKSxcbiAgICAgICAgbW9udGhzOiBtLm1vbnRoKCksXG4gICAgICAgIGRhdGU6IG0uZGF0ZSgpLFxuICAgICAgICBob3VyczogbS5ob3VycygpLFxuICAgICAgICBtaW51dGVzOiBtLm1pbnV0ZXMoKSxcbiAgICAgICAgc2Vjb25kczogbS5zZWNvbmRzKCksXG4gICAgICAgIG1pbGxpc2Vjb25kczogbS5taWxsaXNlY29uZHMoKVxuICAgIH07XG59XG5cbmZ1bmN0aW9uIHRvSlNPTiAoKSB7XG4gICAgLy8gbmV3IERhdGUoTmFOKS50b0pTT04oKSA9PT0gbnVsbFxuICAgIHJldHVybiB0aGlzLmlzVmFsaWQoKSA/IHRoaXMudG9JU09TdHJpbmcoKSA6IG51bGw7XG59XG5cbmZ1bmN0aW9uIGlzVmFsaWQkMSAoKSB7XG4gICAgcmV0dXJuIGlzVmFsaWQodGhpcyk7XG59XG5cbmZ1bmN0aW9uIHBhcnNpbmdGbGFncyAoKSB7XG4gICAgcmV0dXJuIGV4dGVuZCh7fSwgZ2V0UGFyc2luZ0ZsYWdzKHRoaXMpKTtcbn1cblxuZnVuY3Rpb24gaW52YWxpZEF0ICgpIHtcbiAgICByZXR1cm4gZ2V0UGFyc2luZ0ZsYWdzKHRoaXMpLm92ZXJmbG93O1xufVxuXG5mdW5jdGlvbiBjcmVhdGlvbkRhdGEoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgaW5wdXQ6IHRoaXMuX2ksXG4gICAgICAgIGZvcm1hdDogdGhpcy5fZixcbiAgICAgICAgbG9jYWxlOiB0aGlzLl9sb2NhbGUsXG4gICAgICAgIGlzVVRDOiB0aGlzLl9pc1VUQyxcbiAgICAgICAgc3RyaWN0OiB0aGlzLl9zdHJpY3RcbiAgICB9O1xufVxuXG4vLyBGT1JNQVRUSU5HXG5cbmFkZEZvcm1hdFRva2VuKDAsIFsnZ2cnLCAyXSwgMCwgZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB0aGlzLndlZWtZZWFyKCkgJSAxMDA7XG59KTtcblxuYWRkRm9ybWF0VG9rZW4oMCwgWydHRycsIDJdLCAwLCBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHRoaXMuaXNvV2Vla1llYXIoKSAlIDEwMDtcbn0pO1xuXG5mdW5jdGlvbiBhZGRXZWVrWWVhckZvcm1hdFRva2VuICh0b2tlbiwgZ2V0dGVyKSB7XG4gICAgYWRkRm9ybWF0VG9rZW4oMCwgW3Rva2VuLCB0b2tlbi5sZW5ndGhdLCAwLCBnZXR0ZXIpO1xufVxuXG5hZGRXZWVrWWVhckZvcm1hdFRva2VuKCdnZ2dnJywgICAgICd3ZWVrWWVhcicpO1xuYWRkV2Vla1llYXJGb3JtYXRUb2tlbignZ2dnZ2cnLCAgICAnd2Vla1llYXInKTtcbmFkZFdlZWtZZWFyRm9ybWF0VG9rZW4oJ0dHR0cnLCAgJ2lzb1dlZWtZZWFyJyk7XG5hZGRXZWVrWWVhckZvcm1hdFRva2VuKCdHR0dHRycsICdpc29XZWVrWWVhcicpO1xuXG4vLyBBTElBU0VTXG5cbmFkZFVuaXRBbGlhcygnd2Vla1llYXInLCAnZ2cnKTtcbmFkZFVuaXRBbGlhcygnaXNvV2Vla1llYXInLCAnR0cnKTtcblxuLy8gUFJJT1JJVFlcblxuYWRkVW5pdFByaW9yaXR5KCd3ZWVrWWVhcicsIDEpO1xuYWRkVW5pdFByaW9yaXR5KCdpc29XZWVrWWVhcicsIDEpO1xuXG5cbi8vIFBBUlNJTkdcblxuYWRkUmVnZXhUb2tlbignRycsICAgICAgbWF0Y2hTaWduZWQpO1xuYWRkUmVnZXhUb2tlbignZycsICAgICAgbWF0Y2hTaWduZWQpO1xuYWRkUmVnZXhUb2tlbignR0cnLCAgICAgbWF0Y2gxdG8yLCBtYXRjaDIpO1xuYWRkUmVnZXhUb2tlbignZ2cnLCAgICAgbWF0Y2gxdG8yLCBtYXRjaDIpO1xuYWRkUmVnZXhUb2tlbignR0dHRycsICAgbWF0Y2gxdG80LCBtYXRjaDQpO1xuYWRkUmVnZXhUb2tlbignZ2dnZycsICAgbWF0Y2gxdG80LCBtYXRjaDQpO1xuYWRkUmVnZXhUb2tlbignR0dHR0cnLCAgbWF0Y2gxdG82LCBtYXRjaDYpO1xuYWRkUmVnZXhUb2tlbignZ2dnZ2cnLCAgbWF0Y2gxdG82LCBtYXRjaDYpO1xuXG5hZGRXZWVrUGFyc2VUb2tlbihbJ2dnZ2cnLCAnZ2dnZ2cnLCAnR0dHRycsICdHR0dHRyddLCBmdW5jdGlvbiAoaW5wdXQsIHdlZWssIGNvbmZpZywgdG9rZW4pIHtcbiAgICB3ZWVrW3Rva2VuLnN1YnN0cigwLCAyKV0gPSB0b0ludChpbnB1dCk7XG59KTtcblxuYWRkV2Vla1BhcnNlVG9rZW4oWydnZycsICdHRyddLCBmdW5jdGlvbiAoaW5wdXQsIHdlZWssIGNvbmZpZywgdG9rZW4pIHtcbiAgICB3ZWVrW3Rva2VuXSA9IGhvb2tzLnBhcnNlVHdvRGlnaXRZZWFyKGlucHV0KTtcbn0pO1xuXG4vLyBNT01FTlRTXG5cbmZ1bmN0aW9uIGdldFNldFdlZWtZZWFyIChpbnB1dCkge1xuICAgIHJldHVybiBnZXRTZXRXZWVrWWVhckhlbHBlci5jYWxsKHRoaXMsXG4gICAgICAgICAgICBpbnB1dCxcbiAgICAgICAgICAgIHRoaXMud2VlaygpLFxuICAgICAgICAgICAgdGhpcy53ZWVrZGF5KCksXG4gICAgICAgICAgICB0aGlzLmxvY2FsZURhdGEoKS5fd2Vlay5kb3csXG4gICAgICAgICAgICB0aGlzLmxvY2FsZURhdGEoKS5fd2Vlay5kb3kpO1xufVxuXG5mdW5jdGlvbiBnZXRTZXRJU09XZWVrWWVhciAoaW5wdXQpIHtcbiAgICByZXR1cm4gZ2V0U2V0V2Vla1llYXJIZWxwZXIuY2FsbCh0aGlzLFxuICAgICAgICAgICAgaW5wdXQsIHRoaXMuaXNvV2VlaygpLCB0aGlzLmlzb1dlZWtkYXkoKSwgMSwgNCk7XG59XG5cbmZ1bmN0aW9uIGdldElTT1dlZWtzSW5ZZWFyICgpIHtcbiAgICByZXR1cm4gd2Vla3NJblllYXIodGhpcy55ZWFyKCksIDEsIDQpO1xufVxuXG5mdW5jdGlvbiBnZXRXZWVrc0luWWVhciAoKSB7XG4gICAgdmFyIHdlZWtJbmZvID0gdGhpcy5sb2NhbGVEYXRhKCkuX3dlZWs7XG4gICAgcmV0dXJuIHdlZWtzSW5ZZWFyKHRoaXMueWVhcigpLCB3ZWVrSW5mby5kb3csIHdlZWtJbmZvLmRveSk7XG59XG5cbmZ1bmN0aW9uIGdldFNldFdlZWtZZWFySGVscGVyKGlucHV0LCB3ZWVrLCB3ZWVrZGF5LCBkb3csIGRveSkge1xuICAgIHZhciB3ZWVrc1RhcmdldDtcbiAgICBpZiAoaW5wdXQgPT0gbnVsbCkge1xuICAgICAgICByZXR1cm4gd2Vla09mWWVhcih0aGlzLCBkb3csIGRveSkueWVhcjtcbiAgICB9IGVsc2Uge1xuICAgICAgICB3ZWVrc1RhcmdldCA9IHdlZWtzSW5ZZWFyKGlucHV0LCBkb3csIGRveSk7XG4gICAgICAgIGlmICh3ZWVrID4gd2Vla3NUYXJnZXQpIHtcbiAgICAgICAgICAgIHdlZWsgPSB3ZWVrc1RhcmdldDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gc2V0V2Vla0FsbC5jYWxsKHRoaXMsIGlucHV0LCB3ZWVrLCB3ZWVrZGF5LCBkb3csIGRveSk7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBzZXRXZWVrQWxsKHdlZWtZZWFyLCB3ZWVrLCB3ZWVrZGF5LCBkb3csIGRveSkge1xuICAgIHZhciBkYXlPZlllYXJEYXRhID0gZGF5T2ZZZWFyRnJvbVdlZWtzKHdlZWtZZWFyLCB3ZWVrLCB3ZWVrZGF5LCBkb3csIGRveSksXG4gICAgICAgIGRhdGUgPSBjcmVhdGVVVENEYXRlKGRheU9mWWVhckRhdGEueWVhciwgMCwgZGF5T2ZZZWFyRGF0YS5kYXlPZlllYXIpO1xuXG4gICAgdGhpcy55ZWFyKGRhdGUuZ2V0VVRDRnVsbFllYXIoKSk7XG4gICAgdGhpcy5tb250aChkYXRlLmdldFVUQ01vbnRoKCkpO1xuICAgIHRoaXMuZGF0ZShkYXRlLmdldFVUQ0RhdGUoKSk7XG4gICAgcmV0dXJuIHRoaXM7XG59XG5cbi8vIEZPUk1BVFRJTkdcblxuYWRkRm9ybWF0VG9rZW4oJ1EnLCAwLCAnUW8nLCAncXVhcnRlcicpO1xuXG4vLyBBTElBU0VTXG5cbmFkZFVuaXRBbGlhcygncXVhcnRlcicsICdRJyk7XG5cbi8vIFBSSU9SSVRZXG5cbmFkZFVuaXRQcmlvcml0eSgncXVhcnRlcicsIDcpO1xuXG4vLyBQQVJTSU5HXG5cbmFkZFJlZ2V4VG9rZW4oJ1EnLCBtYXRjaDEpO1xuYWRkUGFyc2VUb2tlbignUScsIGZ1bmN0aW9uIChpbnB1dCwgYXJyYXkpIHtcbiAgICBhcnJheVtNT05USF0gPSAodG9JbnQoaW5wdXQpIC0gMSkgKiAzO1xufSk7XG5cbi8vIE1PTUVOVFNcblxuZnVuY3Rpb24gZ2V0U2V0UXVhcnRlciAoaW5wdXQpIHtcbiAgICByZXR1cm4gaW5wdXQgPT0gbnVsbCA/IE1hdGguY2VpbCgodGhpcy5tb250aCgpICsgMSkgLyAzKSA6IHRoaXMubW9udGgoKGlucHV0IC0gMSkgKiAzICsgdGhpcy5tb250aCgpICUgMyk7XG59XG5cbi8vIEZPUk1BVFRJTkdcblxuYWRkRm9ybWF0VG9rZW4oJ0QnLCBbJ0REJywgMl0sICdEbycsICdkYXRlJyk7XG5cbi8vIEFMSUFTRVNcblxuYWRkVW5pdEFsaWFzKCdkYXRlJywgJ0QnKTtcblxuLy8gUFJJT1JPSVRZXG5hZGRVbml0UHJpb3JpdHkoJ2RhdGUnLCA5KTtcblxuLy8gUEFSU0lOR1xuXG5hZGRSZWdleFRva2VuKCdEJywgIG1hdGNoMXRvMik7XG5hZGRSZWdleFRva2VuKCdERCcsIG1hdGNoMXRvMiwgbWF0Y2gyKTtcbmFkZFJlZ2V4VG9rZW4oJ0RvJywgZnVuY3Rpb24gKGlzU3RyaWN0LCBsb2NhbGUpIHtcbiAgICByZXR1cm4gaXNTdHJpY3QgPyBsb2NhbGUuX29yZGluYWxQYXJzZSA6IGxvY2FsZS5fb3JkaW5hbFBhcnNlTGVuaWVudDtcbn0pO1xuXG5hZGRQYXJzZVRva2VuKFsnRCcsICdERCddLCBEQVRFKTtcbmFkZFBhcnNlVG9rZW4oJ0RvJywgZnVuY3Rpb24gKGlucHV0LCBhcnJheSkge1xuICAgIGFycmF5W0RBVEVdID0gdG9JbnQoaW5wdXQubWF0Y2gobWF0Y2gxdG8yKVswXSwgMTApO1xufSk7XG5cbi8vIE1PTUVOVFNcblxudmFyIGdldFNldERheU9mTW9udGggPSBtYWtlR2V0U2V0KCdEYXRlJywgdHJ1ZSk7XG5cbi8vIEZPUk1BVFRJTkdcblxuYWRkRm9ybWF0VG9rZW4oJ0RERCcsIFsnRERERCcsIDNdLCAnREREbycsICdkYXlPZlllYXInKTtcblxuLy8gQUxJQVNFU1xuXG5hZGRVbml0QWxpYXMoJ2RheU9mWWVhcicsICdEREQnKTtcblxuLy8gUFJJT1JJVFlcbmFkZFVuaXRQcmlvcml0eSgnZGF5T2ZZZWFyJywgNCk7XG5cbi8vIFBBUlNJTkdcblxuYWRkUmVnZXhUb2tlbignREREJywgIG1hdGNoMXRvMyk7XG5hZGRSZWdleFRva2VuKCdEREREJywgbWF0Y2gzKTtcbmFkZFBhcnNlVG9rZW4oWydEREQnLCAnRERERCddLCBmdW5jdGlvbiAoaW5wdXQsIGFycmF5LCBjb25maWcpIHtcbiAgICBjb25maWcuX2RheU9mWWVhciA9IHRvSW50KGlucHV0KTtcbn0pO1xuXG4vLyBIRUxQRVJTXG5cbi8vIE1PTUVOVFNcblxuZnVuY3Rpb24gZ2V0U2V0RGF5T2ZZZWFyIChpbnB1dCkge1xuICAgIHZhciBkYXlPZlllYXIgPSBNYXRoLnJvdW5kKCh0aGlzLmNsb25lKCkuc3RhcnRPZignZGF5JykgLSB0aGlzLmNsb25lKCkuc3RhcnRPZigneWVhcicpKSAvIDg2NGU1KSArIDE7XG4gICAgcmV0dXJuIGlucHV0ID09IG51bGwgPyBkYXlPZlllYXIgOiB0aGlzLmFkZCgoaW5wdXQgLSBkYXlPZlllYXIpLCAnZCcpO1xufVxuXG4vLyBGT1JNQVRUSU5HXG5cbmFkZEZvcm1hdFRva2VuKCdtJywgWydtbScsIDJdLCAwLCAnbWludXRlJyk7XG5cbi8vIEFMSUFTRVNcblxuYWRkVW5pdEFsaWFzKCdtaW51dGUnLCAnbScpO1xuXG4vLyBQUklPUklUWVxuXG5hZGRVbml0UHJpb3JpdHkoJ21pbnV0ZScsIDE0KTtcblxuLy8gUEFSU0lOR1xuXG5hZGRSZWdleFRva2VuKCdtJywgIG1hdGNoMXRvMik7XG5hZGRSZWdleFRva2VuKCdtbScsIG1hdGNoMXRvMiwgbWF0Y2gyKTtcbmFkZFBhcnNlVG9rZW4oWydtJywgJ21tJ10sIE1JTlVURSk7XG5cbi8vIE1PTUVOVFNcblxudmFyIGdldFNldE1pbnV0ZSA9IG1ha2VHZXRTZXQoJ01pbnV0ZXMnLCBmYWxzZSk7XG5cbi8vIEZPUk1BVFRJTkdcblxuYWRkRm9ybWF0VG9rZW4oJ3MnLCBbJ3NzJywgMl0sIDAsICdzZWNvbmQnKTtcblxuLy8gQUxJQVNFU1xuXG5hZGRVbml0QWxpYXMoJ3NlY29uZCcsICdzJyk7XG5cbi8vIFBSSU9SSVRZXG5cbmFkZFVuaXRQcmlvcml0eSgnc2Vjb25kJywgMTUpO1xuXG4vLyBQQVJTSU5HXG5cbmFkZFJlZ2V4VG9rZW4oJ3MnLCAgbWF0Y2gxdG8yKTtcbmFkZFJlZ2V4VG9rZW4oJ3NzJywgbWF0Y2gxdG8yLCBtYXRjaDIpO1xuYWRkUGFyc2VUb2tlbihbJ3MnLCAnc3MnXSwgU0VDT05EKTtcblxuLy8gTU9NRU5UU1xuXG52YXIgZ2V0U2V0U2Vjb25kID0gbWFrZUdldFNldCgnU2Vjb25kcycsIGZhbHNlKTtcblxuLy8gRk9STUFUVElOR1xuXG5hZGRGb3JtYXRUb2tlbignUycsIDAsIDAsIGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gfn4odGhpcy5taWxsaXNlY29uZCgpIC8gMTAwKTtcbn0pO1xuXG5hZGRGb3JtYXRUb2tlbigwLCBbJ1NTJywgMl0sIDAsIGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gfn4odGhpcy5taWxsaXNlY29uZCgpIC8gMTApO1xufSk7XG5cbmFkZEZvcm1hdFRva2VuKDAsIFsnU1NTJywgM10sIDAsICdtaWxsaXNlY29uZCcpO1xuYWRkRm9ybWF0VG9rZW4oMCwgWydTU1NTJywgNF0sIDAsIGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gdGhpcy5taWxsaXNlY29uZCgpICogMTA7XG59KTtcbmFkZEZvcm1hdFRva2VuKDAsIFsnU1NTU1MnLCA1XSwgMCwgZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB0aGlzLm1pbGxpc2Vjb25kKCkgKiAxMDA7XG59KTtcbmFkZEZvcm1hdFRva2VuKDAsIFsnU1NTU1NTJywgNl0sIDAsIGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gdGhpcy5taWxsaXNlY29uZCgpICogMTAwMDtcbn0pO1xuYWRkRm9ybWF0VG9rZW4oMCwgWydTU1NTU1NTJywgN10sIDAsIGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gdGhpcy5taWxsaXNlY29uZCgpICogMTAwMDA7XG59KTtcbmFkZEZvcm1hdFRva2VuKDAsIFsnU1NTU1NTU1MnLCA4XSwgMCwgZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB0aGlzLm1pbGxpc2Vjb25kKCkgKiAxMDAwMDA7XG59KTtcbmFkZEZvcm1hdFRva2VuKDAsIFsnU1NTU1NTU1NTJywgOV0sIDAsIGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gdGhpcy5taWxsaXNlY29uZCgpICogMTAwMDAwMDtcbn0pO1xuXG5cbi8vIEFMSUFTRVNcblxuYWRkVW5pdEFsaWFzKCdtaWxsaXNlY29uZCcsICdtcycpO1xuXG4vLyBQUklPUklUWVxuXG5hZGRVbml0UHJpb3JpdHkoJ21pbGxpc2Vjb25kJywgMTYpO1xuXG4vLyBQQVJTSU5HXG5cbmFkZFJlZ2V4VG9rZW4oJ1MnLCAgICBtYXRjaDF0bzMsIG1hdGNoMSk7XG5hZGRSZWdleFRva2VuKCdTUycsICAgbWF0Y2gxdG8zLCBtYXRjaDIpO1xuYWRkUmVnZXhUb2tlbignU1NTJywgIG1hdGNoMXRvMywgbWF0Y2gzKTtcblxudmFyIHRva2VuO1xuZm9yICh0b2tlbiA9ICdTU1NTJzsgdG9rZW4ubGVuZ3RoIDw9IDk7IHRva2VuICs9ICdTJykge1xuICAgIGFkZFJlZ2V4VG9rZW4odG9rZW4sIG1hdGNoVW5zaWduZWQpO1xufVxuXG5mdW5jdGlvbiBwYXJzZU1zKGlucHV0LCBhcnJheSkge1xuICAgIGFycmF5W01JTExJU0VDT05EXSA9IHRvSW50KCgnMC4nICsgaW5wdXQpICogMTAwMCk7XG59XG5cbmZvciAodG9rZW4gPSAnUyc7IHRva2VuLmxlbmd0aCA8PSA5OyB0b2tlbiArPSAnUycpIHtcbiAgICBhZGRQYXJzZVRva2VuKHRva2VuLCBwYXJzZU1zKTtcbn1cbi8vIE1PTUVOVFNcblxudmFyIGdldFNldE1pbGxpc2Vjb25kID0gbWFrZUdldFNldCgnTWlsbGlzZWNvbmRzJywgZmFsc2UpO1xuXG4vLyBGT1JNQVRUSU5HXG5cbmFkZEZvcm1hdFRva2VuKCd6JywgIDAsIDAsICd6b25lQWJicicpO1xuYWRkRm9ybWF0VG9rZW4oJ3p6JywgMCwgMCwgJ3pvbmVOYW1lJyk7XG5cbi8vIE1PTUVOVFNcblxuZnVuY3Rpb24gZ2V0Wm9uZUFiYnIgKCkge1xuICAgIHJldHVybiB0aGlzLl9pc1VUQyA/ICdVVEMnIDogJyc7XG59XG5cbmZ1bmN0aW9uIGdldFpvbmVOYW1lICgpIHtcbiAgICByZXR1cm4gdGhpcy5faXNVVEMgPyAnQ29vcmRpbmF0ZWQgVW5pdmVyc2FsIFRpbWUnIDogJyc7XG59XG5cbnZhciBwcm90byA9IE1vbWVudC5wcm90b3R5cGU7XG5cbnByb3RvLmFkZCAgICAgICAgICAgICAgID0gYWRkO1xucHJvdG8uY2FsZW5kYXIgICAgICAgICAgPSBjYWxlbmRhciQxO1xucHJvdG8uY2xvbmUgICAgICAgICAgICAgPSBjbG9uZTtcbnByb3RvLmRpZmYgICAgICAgICAgICAgID0gZGlmZjtcbnByb3RvLmVuZE9mICAgICAgICAgICAgID0gZW5kT2Y7XG5wcm90by5mb3JtYXQgICAgICAgICAgICA9IGZvcm1hdDtcbnByb3RvLmZyb20gICAgICAgICAgICAgID0gZnJvbTtcbnByb3RvLmZyb21Ob3cgICAgICAgICAgID0gZnJvbU5vdztcbnByb3RvLnRvICAgICAgICAgICAgICAgID0gdG87XG5wcm90by50b05vdyAgICAgICAgICAgICA9IHRvTm93O1xucHJvdG8uZ2V0ICAgICAgICAgICAgICAgPSBzdHJpbmdHZXQ7XG5wcm90by5pbnZhbGlkQXQgICAgICAgICA9IGludmFsaWRBdDtcbnByb3RvLmlzQWZ0ZXIgICAgICAgICAgID0gaXNBZnRlcjtcbnByb3RvLmlzQmVmb3JlICAgICAgICAgID0gaXNCZWZvcmU7XG5wcm90by5pc0JldHdlZW4gICAgICAgICA9IGlzQmV0d2VlbjtcbnByb3RvLmlzU2FtZSAgICAgICAgICAgID0gaXNTYW1lO1xucHJvdG8uaXNTYW1lT3JBZnRlciAgICAgPSBpc1NhbWVPckFmdGVyO1xucHJvdG8uaXNTYW1lT3JCZWZvcmUgICAgPSBpc1NhbWVPckJlZm9yZTtcbnByb3RvLmlzVmFsaWQgICAgICAgICAgID0gaXNWYWxpZCQxO1xucHJvdG8ubGFuZyAgICAgICAgICAgICAgPSBsYW5nO1xucHJvdG8ubG9jYWxlICAgICAgICAgICAgPSBsb2NhbGU7XG5wcm90by5sb2NhbGVEYXRhICAgICAgICA9IGxvY2FsZURhdGE7XG5wcm90by5tYXggICAgICAgICAgICAgICA9IHByb3RvdHlwZU1heDtcbnByb3RvLm1pbiAgICAgICAgICAgICAgID0gcHJvdG90eXBlTWluO1xucHJvdG8ucGFyc2luZ0ZsYWdzICAgICAgPSBwYXJzaW5nRmxhZ3M7XG5wcm90by5zZXQgICAgICAgICAgICAgICA9IHN0cmluZ1NldDtcbnByb3RvLnN0YXJ0T2YgICAgICAgICAgID0gc3RhcnRPZjtcbnByb3RvLnN1YnRyYWN0ICAgICAgICAgID0gc3VidHJhY3Q7XG5wcm90by50b0FycmF5ICAgICAgICAgICA9IHRvQXJyYXk7XG5wcm90by50b09iamVjdCAgICAgICAgICA9IHRvT2JqZWN0O1xucHJvdG8udG9EYXRlICAgICAgICAgICAgPSB0b0RhdGU7XG5wcm90by50b0lTT1N0cmluZyAgICAgICA9IHRvSVNPU3RyaW5nO1xucHJvdG8uaW5zcGVjdCAgICAgICAgICAgPSBpbnNwZWN0O1xucHJvdG8udG9KU09OICAgICAgICAgICAgPSB0b0pTT047XG5wcm90by50b1N0cmluZyAgICAgICAgICA9IHRvU3RyaW5nO1xucHJvdG8udW5peCAgICAgICAgICAgICAgPSB1bml4O1xucHJvdG8udmFsdWVPZiAgICAgICAgICAgPSB2YWx1ZU9mO1xucHJvdG8uY3JlYXRpb25EYXRhICAgICAgPSBjcmVhdGlvbkRhdGE7XG5cbi8vIFllYXJcbnByb3RvLnllYXIgICAgICAgPSBnZXRTZXRZZWFyO1xucHJvdG8uaXNMZWFwWWVhciA9IGdldElzTGVhcFllYXI7XG5cbi8vIFdlZWsgWWVhclxucHJvdG8ud2Vla1llYXIgICAgPSBnZXRTZXRXZWVrWWVhcjtcbnByb3RvLmlzb1dlZWtZZWFyID0gZ2V0U2V0SVNPV2Vla1llYXI7XG5cbi8vIFF1YXJ0ZXJcbnByb3RvLnF1YXJ0ZXIgPSBwcm90by5xdWFydGVycyA9IGdldFNldFF1YXJ0ZXI7XG5cbi8vIE1vbnRoXG5wcm90by5tb250aCAgICAgICA9IGdldFNldE1vbnRoO1xucHJvdG8uZGF5c0luTW9udGggPSBnZXREYXlzSW5Nb250aDtcblxuLy8gV2Vla1xucHJvdG8ud2VlayAgICAgICAgICAgPSBwcm90by53ZWVrcyAgICAgICAgPSBnZXRTZXRXZWVrO1xucHJvdG8uaXNvV2VlayAgICAgICAgPSBwcm90by5pc29XZWVrcyAgICAgPSBnZXRTZXRJU09XZWVrO1xucHJvdG8ud2Vla3NJblllYXIgICAgPSBnZXRXZWVrc0luWWVhcjtcbnByb3RvLmlzb1dlZWtzSW5ZZWFyID0gZ2V0SVNPV2Vla3NJblllYXI7XG5cbi8vIERheVxucHJvdG8uZGF0ZSAgICAgICA9IGdldFNldERheU9mTW9udGg7XG5wcm90by5kYXkgICAgICAgID0gcHJvdG8uZGF5cyAgICAgICAgICAgICA9IGdldFNldERheU9mV2VlaztcbnByb3RvLndlZWtkYXkgICAgPSBnZXRTZXRMb2NhbGVEYXlPZldlZWs7XG5wcm90by5pc29XZWVrZGF5ID0gZ2V0U2V0SVNPRGF5T2ZXZWVrO1xucHJvdG8uZGF5T2ZZZWFyICA9IGdldFNldERheU9mWWVhcjtcblxuLy8gSG91clxucHJvdG8uaG91ciA9IHByb3RvLmhvdXJzID0gZ2V0U2V0SG91cjtcblxuLy8gTWludXRlXG5wcm90by5taW51dGUgPSBwcm90by5taW51dGVzID0gZ2V0U2V0TWludXRlO1xuXG4vLyBTZWNvbmRcbnByb3RvLnNlY29uZCA9IHByb3RvLnNlY29uZHMgPSBnZXRTZXRTZWNvbmQ7XG5cbi8vIE1pbGxpc2Vjb25kXG5wcm90by5taWxsaXNlY29uZCA9IHByb3RvLm1pbGxpc2Vjb25kcyA9IGdldFNldE1pbGxpc2Vjb25kO1xuXG4vLyBPZmZzZXRcbnByb3RvLnV0Y09mZnNldCAgICAgICAgICAgID0gZ2V0U2V0T2Zmc2V0O1xucHJvdG8udXRjICAgICAgICAgICAgICAgICAgPSBzZXRPZmZzZXRUb1VUQztcbnByb3RvLmxvY2FsICAgICAgICAgICAgICAgID0gc2V0T2Zmc2V0VG9Mb2NhbDtcbnByb3RvLnBhcnNlWm9uZSAgICAgICAgICAgID0gc2V0T2Zmc2V0VG9QYXJzZWRPZmZzZXQ7XG5wcm90by5oYXNBbGlnbmVkSG91ck9mZnNldCA9IGhhc0FsaWduZWRIb3VyT2Zmc2V0O1xucHJvdG8uaXNEU1QgICAgICAgICAgICAgICAgPSBpc0RheWxpZ2h0U2F2aW5nVGltZTtcbnByb3RvLmlzTG9jYWwgICAgICAgICAgICAgID0gaXNMb2NhbDtcbnByb3RvLmlzVXRjT2Zmc2V0ICAgICAgICAgID0gaXNVdGNPZmZzZXQ7XG5wcm90by5pc1V0YyAgICAgICAgICAgICAgICA9IGlzVXRjO1xucHJvdG8uaXNVVEMgICAgICAgICAgICAgICAgPSBpc1V0YztcblxuLy8gVGltZXpvbmVcbnByb3RvLnpvbmVBYmJyID0gZ2V0Wm9uZUFiYnI7XG5wcm90by56b25lTmFtZSA9IGdldFpvbmVOYW1lO1xuXG4vLyBEZXByZWNhdGlvbnNcbnByb3RvLmRhdGVzICA9IGRlcHJlY2F0ZSgnZGF0ZXMgYWNjZXNzb3IgaXMgZGVwcmVjYXRlZC4gVXNlIGRhdGUgaW5zdGVhZC4nLCBnZXRTZXREYXlPZk1vbnRoKTtcbnByb3RvLm1vbnRocyA9IGRlcHJlY2F0ZSgnbW9udGhzIGFjY2Vzc29yIGlzIGRlcHJlY2F0ZWQuIFVzZSBtb250aCBpbnN0ZWFkJywgZ2V0U2V0TW9udGgpO1xucHJvdG8ueWVhcnMgID0gZGVwcmVjYXRlKCd5ZWFycyBhY2Nlc3NvciBpcyBkZXByZWNhdGVkLiBVc2UgeWVhciBpbnN0ZWFkJywgZ2V0U2V0WWVhcik7XG5wcm90by56b25lICAgPSBkZXByZWNhdGUoJ21vbWVudCgpLnpvbmUgaXMgZGVwcmVjYXRlZCwgdXNlIG1vbWVudCgpLnV0Y09mZnNldCBpbnN0ZWFkLiBodHRwOi8vbW9tZW50anMuY29tL2d1aWRlcy8jL3dhcm5pbmdzL3pvbmUvJywgZ2V0U2V0Wm9uZSk7XG5wcm90by5pc0RTVFNoaWZ0ZWQgPSBkZXByZWNhdGUoJ2lzRFNUU2hpZnRlZCBpcyBkZXByZWNhdGVkLiBTZWUgaHR0cDovL21vbWVudGpzLmNvbS9ndWlkZXMvIy93YXJuaW5ncy9kc3Qtc2hpZnRlZC8gZm9yIG1vcmUgaW5mb3JtYXRpb24nLCBpc0RheWxpZ2h0U2F2aW5nVGltZVNoaWZ0ZWQpO1xuXG5mdW5jdGlvbiBjcmVhdGVVbml4IChpbnB1dCkge1xuICAgIHJldHVybiBjcmVhdGVMb2NhbChpbnB1dCAqIDEwMDApO1xufVxuXG5mdW5jdGlvbiBjcmVhdGVJblpvbmUgKCkge1xuICAgIHJldHVybiBjcmVhdGVMb2NhbC5hcHBseShudWxsLCBhcmd1bWVudHMpLnBhcnNlWm9uZSgpO1xufVxuXG5mdW5jdGlvbiBwcmVQYXJzZVBvc3RGb3JtYXQgKHN0cmluZykge1xuICAgIHJldHVybiBzdHJpbmc7XG59XG5cbnZhciBwcm90byQxID0gTG9jYWxlLnByb3RvdHlwZTtcblxucHJvdG8kMS5jYWxlbmRhciAgICAgICAgPSBjYWxlbmRhcjtcbnByb3RvJDEubG9uZ0RhdGVGb3JtYXQgID0gbG9uZ0RhdGVGb3JtYXQ7XG5wcm90byQxLmludmFsaWREYXRlICAgICA9IGludmFsaWREYXRlO1xucHJvdG8kMS5vcmRpbmFsICAgICAgICAgPSBvcmRpbmFsO1xucHJvdG8kMS5wcmVwYXJzZSAgICAgICAgPSBwcmVQYXJzZVBvc3RGb3JtYXQ7XG5wcm90byQxLnBvc3Rmb3JtYXQgICAgICA9IHByZVBhcnNlUG9zdEZvcm1hdDtcbnByb3RvJDEucmVsYXRpdmVUaW1lICAgID0gcmVsYXRpdmVUaW1lO1xucHJvdG8kMS5wYXN0RnV0dXJlICAgICAgPSBwYXN0RnV0dXJlO1xucHJvdG8kMS5zZXQgICAgICAgICAgICAgPSBzZXQ7XG5cbi8vIE1vbnRoXG5wcm90byQxLm1vbnRocyAgICAgICAgICAgID0gICAgICAgIGxvY2FsZU1vbnRocztcbnByb3RvJDEubW9udGhzU2hvcnQgICAgICAgPSAgICAgICAgbG9jYWxlTW9udGhzU2hvcnQ7XG5wcm90byQxLm1vbnRoc1BhcnNlICAgICAgID0gICAgICAgIGxvY2FsZU1vbnRoc1BhcnNlO1xucHJvdG8kMS5tb250aHNSZWdleCAgICAgICA9IG1vbnRoc1JlZ2V4O1xucHJvdG8kMS5tb250aHNTaG9ydFJlZ2V4ICA9IG1vbnRoc1Nob3J0UmVnZXg7XG5cbi8vIFdlZWtcbnByb3RvJDEud2VlayA9IGxvY2FsZVdlZWs7XG5wcm90byQxLmZpcnN0RGF5T2ZZZWFyID0gbG9jYWxlRmlyc3REYXlPZlllYXI7XG5wcm90byQxLmZpcnN0RGF5T2ZXZWVrID0gbG9jYWxlRmlyc3REYXlPZldlZWs7XG5cbi8vIERheSBvZiBXZWVrXG5wcm90byQxLndlZWtkYXlzICAgICAgID0gICAgICAgIGxvY2FsZVdlZWtkYXlzO1xucHJvdG8kMS53ZWVrZGF5c01pbiAgICA9ICAgICAgICBsb2NhbGVXZWVrZGF5c01pbjtcbnByb3RvJDEud2Vla2RheXNTaG9ydCAgPSAgICAgICAgbG9jYWxlV2Vla2RheXNTaG9ydDtcbnByb3RvJDEud2Vla2RheXNQYXJzZSAgPSAgICAgICAgbG9jYWxlV2Vla2RheXNQYXJzZTtcblxucHJvdG8kMS53ZWVrZGF5c1JlZ2V4ICAgICAgID0gICAgICAgIHdlZWtkYXlzUmVnZXg7XG5wcm90byQxLndlZWtkYXlzU2hvcnRSZWdleCAgPSAgICAgICAgd2Vla2RheXNTaG9ydFJlZ2V4O1xucHJvdG8kMS53ZWVrZGF5c01pblJlZ2V4ICAgID0gICAgICAgIHdlZWtkYXlzTWluUmVnZXg7XG5cbi8vIEhvdXJzXG5wcm90byQxLmlzUE0gPSBsb2NhbGVJc1BNO1xucHJvdG8kMS5tZXJpZGllbSA9IGxvY2FsZU1lcmlkaWVtO1xuXG5mdW5jdGlvbiBnZXQkMSAoZm9ybWF0LCBpbmRleCwgZmllbGQsIHNldHRlcikge1xuICAgIHZhciBsb2NhbGUgPSBnZXRMb2NhbGUoKTtcbiAgICB2YXIgdXRjID0gY3JlYXRlVVRDKCkuc2V0KHNldHRlciwgaW5kZXgpO1xuICAgIHJldHVybiBsb2NhbGVbZmllbGRdKHV0YywgZm9ybWF0KTtcbn1cblxuZnVuY3Rpb24gbGlzdE1vbnRoc0ltcGwgKGZvcm1hdCwgaW5kZXgsIGZpZWxkKSB7XG4gICAgaWYgKGlzTnVtYmVyKGZvcm1hdCkpIHtcbiAgICAgICAgaW5kZXggPSBmb3JtYXQ7XG4gICAgICAgIGZvcm1hdCA9IHVuZGVmaW5lZDtcbiAgICB9XG5cbiAgICBmb3JtYXQgPSBmb3JtYXQgfHwgJyc7XG5cbiAgICBpZiAoaW5kZXggIT0gbnVsbCkge1xuICAgICAgICByZXR1cm4gZ2V0JDEoZm9ybWF0LCBpbmRleCwgZmllbGQsICdtb250aCcpO1xuICAgIH1cblxuICAgIHZhciBpO1xuICAgIHZhciBvdXQgPSBbXTtcbiAgICBmb3IgKGkgPSAwOyBpIDwgMTI7IGkrKykge1xuICAgICAgICBvdXRbaV0gPSBnZXQkMShmb3JtYXQsIGksIGZpZWxkLCAnbW9udGgnKTtcbiAgICB9XG4gICAgcmV0dXJuIG91dDtcbn1cblxuLy8gKClcbi8vICg1KVxuLy8gKGZtdCwgNSlcbi8vIChmbXQpXG4vLyAodHJ1ZSlcbi8vICh0cnVlLCA1KVxuLy8gKHRydWUsIGZtdCwgNSlcbi8vICh0cnVlLCBmbXQpXG5mdW5jdGlvbiBsaXN0V2Vla2RheXNJbXBsIChsb2NhbGVTb3J0ZWQsIGZvcm1hdCwgaW5kZXgsIGZpZWxkKSB7XG4gICAgaWYgKHR5cGVvZiBsb2NhbGVTb3J0ZWQgPT09ICdib29sZWFuJykge1xuICAgICAgICBpZiAoaXNOdW1iZXIoZm9ybWF0KSkge1xuICAgICAgICAgICAgaW5kZXggPSBmb3JtYXQ7XG4gICAgICAgICAgICBmb3JtYXQgPSB1bmRlZmluZWQ7XG4gICAgICAgIH1cblxuICAgICAgICBmb3JtYXQgPSBmb3JtYXQgfHwgJyc7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgZm9ybWF0ID0gbG9jYWxlU29ydGVkO1xuICAgICAgICBpbmRleCA9IGZvcm1hdDtcbiAgICAgICAgbG9jYWxlU29ydGVkID0gZmFsc2U7XG5cbiAgICAgICAgaWYgKGlzTnVtYmVyKGZvcm1hdCkpIHtcbiAgICAgICAgICAgIGluZGV4ID0gZm9ybWF0O1xuICAgICAgICAgICAgZm9ybWF0ID0gdW5kZWZpbmVkO1xuICAgICAgICB9XG5cbiAgICAgICAgZm9ybWF0ID0gZm9ybWF0IHx8ICcnO1xuICAgIH1cblxuICAgIHZhciBsb2NhbGUgPSBnZXRMb2NhbGUoKSxcbiAgICAgICAgc2hpZnQgPSBsb2NhbGVTb3J0ZWQgPyBsb2NhbGUuX3dlZWsuZG93IDogMDtcblxuICAgIGlmIChpbmRleCAhPSBudWxsKSB7XG4gICAgICAgIHJldHVybiBnZXQkMShmb3JtYXQsIChpbmRleCArIHNoaWZ0KSAlIDcsIGZpZWxkLCAnZGF5Jyk7XG4gICAgfVxuXG4gICAgdmFyIGk7XG4gICAgdmFyIG91dCA9IFtdO1xuICAgIGZvciAoaSA9IDA7IGkgPCA3OyBpKyspIHtcbiAgICAgICAgb3V0W2ldID0gZ2V0JDEoZm9ybWF0LCAoaSArIHNoaWZ0KSAlIDcsIGZpZWxkLCAnZGF5Jyk7XG4gICAgfVxuICAgIHJldHVybiBvdXQ7XG59XG5cbmZ1bmN0aW9uIGxpc3RNb250aHMgKGZvcm1hdCwgaW5kZXgpIHtcbiAgICByZXR1cm4gbGlzdE1vbnRoc0ltcGwoZm9ybWF0LCBpbmRleCwgJ21vbnRocycpO1xufVxuXG5mdW5jdGlvbiBsaXN0TW9udGhzU2hvcnQgKGZvcm1hdCwgaW5kZXgpIHtcbiAgICByZXR1cm4gbGlzdE1vbnRoc0ltcGwoZm9ybWF0LCBpbmRleCwgJ21vbnRoc1Nob3J0Jyk7XG59XG5cbmZ1bmN0aW9uIGxpc3RXZWVrZGF5cyAobG9jYWxlU29ydGVkLCBmb3JtYXQsIGluZGV4KSB7XG4gICAgcmV0dXJuIGxpc3RXZWVrZGF5c0ltcGwobG9jYWxlU29ydGVkLCBmb3JtYXQsIGluZGV4LCAnd2Vla2RheXMnKTtcbn1cblxuZnVuY3Rpb24gbGlzdFdlZWtkYXlzU2hvcnQgKGxvY2FsZVNvcnRlZCwgZm9ybWF0LCBpbmRleCkge1xuICAgIHJldHVybiBsaXN0V2Vla2RheXNJbXBsKGxvY2FsZVNvcnRlZCwgZm9ybWF0LCBpbmRleCwgJ3dlZWtkYXlzU2hvcnQnKTtcbn1cblxuZnVuY3Rpb24gbGlzdFdlZWtkYXlzTWluIChsb2NhbGVTb3J0ZWQsIGZvcm1hdCwgaW5kZXgpIHtcbiAgICByZXR1cm4gbGlzdFdlZWtkYXlzSW1wbChsb2NhbGVTb3J0ZWQsIGZvcm1hdCwgaW5kZXgsICd3ZWVrZGF5c01pbicpO1xufVxuXG5nZXRTZXRHbG9iYWxMb2NhbGUoJ2VuJywge1xuICAgIG9yZGluYWxQYXJzZTogL1xcZHsxLDJ9KHRofHN0fG5kfHJkKS8sXG4gICAgb3JkaW5hbCA6IGZ1bmN0aW9uIChudW1iZXIpIHtcbiAgICAgICAgdmFyIGIgPSBudW1iZXIgJSAxMCxcbiAgICAgICAgICAgIG91dHB1dCA9ICh0b0ludChudW1iZXIgJSAxMDAgLyAxMCkgPT09IDEpID8gJ3RoJyA6XG4gICAgICAgICAgICAoYiA9PT0gMSkgPyAnc3QnIDpcbiAgICAgICAgICAgIChiID09PSAyKSA/ICduZCcgOlxuICAgICAgICAgICAgKGIgPT09IDMpID8gJ3JkJyA6ICd0aCc7XG4gICAgICAgIHJldHVybiBudW1iZXIgKyBvdXRwdXQ7XG4gICAgfVxufSk7XG5cbi8vIFNpZGUgZWZmZWN0IGltcG9ydHNcbmhvb2tzLmxhbmcgPSBkZXByZWNhdGUoJ21vbWVudC5sYW5nIGlzIGRlcHJlY2F0ZWQuIFVzZSBtb21lbnQubG9jYWxlIGluc3RlYWQuJywgZ2V0U2V0R2xvYmFsTG9jYWxlKTtcbmhvb2tzLmxhbmdEYXRhID0gZGVwcmVjYXRlKCdtb21lbnQubGFuZ0RhdGEgaXMgZGVwcmVjYXRlZC4gVXNlIG1vbWVudC5sb2NhbGVEYXRhIGluc3RlYWQuJywgZ2V0TG9jYWxlKTtcblxudmFyIG1hdGhBYnMgPSBNYXRoLmFicztcblxuZnVuY3Rpb24gYWJzICgpIHtcbiAgICB2YXIgZGF0YSAgICAgICAgICAgPSB0aGlzLl9kYXRhO1xuXG4gICAgdGhpcy5fbWlsbGlzZWNvbmRzID0gbWF0aEFicyh0aGlzLl9taWxsaXNlY29uZHMpO1xuICAgIHRoaXMuX2RheXMgICAgICAgICA9IG1hdGhBYnModGhpcy5fZGF5cyk7XG4gICAgdGhpcy5fbW9udGhzICAgICAgID0gbWF0aEFicyh0aGlzLl9tb250aHMpO1xuXG4gICAgZGF0YS5taWxsaXNlY29uZHMgID0gbWF0aEFicyhkYXRhLm1pbGxpc2Vjb25kcyk7XG4gICAgZGF0YS5zZWNvbmRzICAgICAgID0gbWF0aEFicyhkYXRhLnNlY29uZHMpO1xuICAgIGRhdGEubWludXRlcyAgICAgICA9IG1hdGhBYnMoZGF0YS5taW51dGVzKTtcbiAgICBkYXRhLmhvdXJzICAgICAgICAgPSBtYXRoQWJzKGRhdGEuaG91cnMpO1xuICAgIGRhdGEubW9udGhzICAgICAgICA9IG1hdGhBYnMoZGF0YS5tb250aHMpO1xuICAgIGRhdGEueWVhcnMgICAgICAgICA9IG1hdGhBYnMoZGF0YS55ZWFycyk7XG5cbiAgICByZXR1cm4gdGhpcztcbn1cblxuZnVuY3Rpb24gYWRkU3VidHJhY3QkMSAoZHVyYXRpb24sIGlucHV0LCB2YWx1ZSwgZGlyZWN0aW9uKSB7XG4gICAgdmFyIG90aGVyID0gY3JlYXRlRHVyYXRpb24oaW5wdXQsIHZhbHVlKTtcblxuICAgIGR1cmF0aW9uLl9taWxsaXNlY29uZHMgKz0gZGlyZWN0aW9uICogb3RoZXIuX21pbGxpc2Vjb25kcztcbiAgICBkdXJhdGlvbi5fZGF5cyAgICAgICAgICs9IGRpcmVjdGlvbiAqIG90aGVyLl9kYXlzO1xuICAgIGR1cmF0aW9uLl9tb250aHMgICAgICAgKz0gZGlyZWN0aW9uICogb3RoZXIuX21vbnRocztcblxuICAgIHJldHVybiBkdXJhdGlvbi5fYnViYmxlKCk7XG59XG5cbi8vIHN1cHBvcnRzIG9ubHkgMi4wLXN0eWxlIGFkZCgxLCAncycpIG9yIGFkZChkdXJhdGlvbilcbmZ1bmN0aW9uIGFkZCQxIChpbnB1dCwgdmFsdWUpIHtcbiAgICByZXR1cm4gYWRkU3VidHJhY3QkMSh0aGlzLCBpbnB1dCwgdmFsdWUsIDEpO1xufVxuXG4vLyBzdXBwb3J0cyBvbmx5IDIuMC1zdHlsZSBzdWJ0cmFjdCgxLCAncycpIG9yIHN1YnRyYWN0KGR1cmF0aW9uKVxuZnVuY3Rpb24gc3VidHJhY3QkMSAoaW5wdXQsIHZhbHVlKSB7XG4gICAgcmV0dXJuIGFkZFN1YnRyYWN0JDEodGhpcywgaW5wdXQsIHZhbHVlLCAtMSk7XG59XG5cbmZ1bmN0aW9uIGFic0NlaWwgKG51bWJlcikge1xuICAgIGlmIChudW1iZXIgPCAwKSB7XG4gICAgICAgIHJldHVybiBNYXRoLmZsb29yKG51bWJlcik7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIE1hdGguY2VpbChudW1iZXIpO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gYnViYmxlICgpIHtcbiAgICB2YXIgbWlsbGlzZWNvbmRzID0gdGhpcy5fbWlsbGlzZWNvbmRzO1xuICAgIHZhciBkYXlzICAgICAgICAgPSB0aGlzLl9kYXlzO1xuICAgIHZhciBtb250aHMgICAgICAgPSB0aGlzLl9tb250aHM7XG4gICAgdmFyIGRhdGEgICAgICAgICA9IHRoaXMuX2RhdGE7XG4gICAgdmFyIHNlY29uZHMsIG1pbnV0ZXMsIGhvdXJzLCB5ZWFycywgbW9udGhzRnJvbURheXM7XG5cbiAgICAvLyBpZiB3ZSBoYXZlIGEgbWl4IG9mIHBvc2l0aXZlIGFuZCBuZWdhdGl2ZSB2YWx1ZXMsIGJ1YmJsZSBkb3duIGZpcnN0XG4gICAgLy8gY2hlY2s6IGh0dHBzOi8vZ2l0aHViLmNvbS9tb21lbnQvbW9tZW50L2lzc3Vlcy8yMTY2XG4gICAgaWYgKCEoKG1pbGxpc2Vjb25kcyA+PSAwICYmIGRheXMgPj0gMCAmJiBtb250aHMgPj0gMCkgfHxcbiAgICAgICAgICAgIChtaWxsaXNlY29uZHMgPD0gMCAmJiBkYXlzIDw9IDAgJiYgbW9udGhzIDw9IDApKSkge1xuICAgICAgICBtaWxsaXNlY29uZHMgKz0gYWJzQ2VpbChtb250aHNUb0RheXMobW9udGhzKSArIGRheXMpICogODY0ZTU7XG4gICAgICAgIGRheXMgPSAwO1xuICAgICAgICBtb250aHMgPSAwO1xuICAgIH1cblxuICAgIC8vIFRoZSBmb2xsb3dpbmcgY29kZSBidWJibGVzIHVwIHZhbHVlcywgc2VlIHRoZSB0ZXN0cyBmb3JcbiAgICAvLyBleGFtcGxlcyBvZiB3aGF0IHRoYXQgbWVhbnMuXG4gICAgZGF0YS5taWxsaXNlY29uZHMgPSBtaWxsaXNlY29uZHMgJSAxMDAwO1xuXG4gICAgc2Vjb25kcyAgICAgICAgICAgPSBhYnNGbG9vcihtaWxsaXNlY29uZHMgLyAxMDAwKTtcbiAgICBkYXRhLnNlY29uZHMgICAgICA9IHNlY29uZHMgJSA2MDtcblxuICAgIG1pbnV0ZXMgICAgICAgICAgID0gYWJzRmxvb3Ioc2Vjb25kcyAvIDYwKTtcbiAgICBkYXRhLm1pbnV0ZXMgICAgICA9IG1pbnV0ZXMgJSA2MDtcblxuICAgIGhvdXJzICAgICAgICAgICAgID0gYWJzRmxvb3IobWludXRlcyAvIDYwKTtcbiAgICBkYXRhLmhvdXJzICAgICAgICA9IGhvdXJzICUgMjQ7XG5cbiAgICBkYXlzICs9IGFic0Zsb29yKGhvdXJzIC8gMjQpO1xuXG4gICAgLy8gY29udmVydCBkYXlzIHRvIG1vbnRoc1xuICAgIG1vbnRoc0Zyb21EYXlzID0gYWJzRmxvb3IoZGF5c1RvTW9udGhzKGRheXMpKTtcbiAgICBtb250aHMgKz0gbW9udGhzRnJvbURheXM7XG4gICAgZGF5cyAtPSBhYnNDZWlsKG1vbnRoc1RvRGF5cyhtb250aHNGcm9tRGF5cykpO1xuXG4gICAgLy8gMTIgbW9udGhzIC0+IDEgeWVhclxuICAgIHllYXJzID0gYWJzRmxvb3IobW9udGhzIC8gMTIpO1xuICAgIG1vbnRocyAlPSAxMjtcblxuICAgIGRhdGEuZGF5cyAgID0gZGF5cztcbiAgICBkYXRhLm1vbnRocyA9IG1vbnRocztcbiAgICBkYXRhLnllYXJzICA9IHllYXJzO1xuXG4gICAgcmV0dXJuIHRoaXM7XG59XG5cbmZ1bmN0aW9uIGRheXNUb01vbnRocyAoZGF5cykge1xuICAgIC8vIDQwMCB5ZWFycyBoYXZlIDE0NjA5NyBkYXlzICh0YWtpbmcgaW50byBhY2NvdW50IGxlYXAgeWVhciBydWxlcylcbiAgICAvLyA0MDAgeWVhcnMgaGF2ZSAxMiBtb250aHMgPT09IDQ4MDBcbiAgICByZXR1cm4gZGF5cyAqIDQ4MDAgLyAxNDYwOTc7XG59XG5cbmZ1bmN0aW9uIG1vbnRoc1RvRGF5cyAobW9udGhzKSB7XG4gICAgLy8gdGhlIHJldmVyc2Ugb2YgZGF5c1RvTW9udGhzXG4gICAgcmV0dXJuIG1vbnRocyAqIDE0NjA5NyAvIDQ4MDA7XG59XG5cbmZ1bmN0aW9uIGFzICh1bml0cykge1xuICAgIHZhciBkYXlzO1xuICAgIHZhciBtb250aHM7XG4gICAgdmFyIG1pbGxpc2Vjb25kcyA9IHRoaXMuX21pbGxpc2Vjb25kcztcblxuICAgIHVuaXRzID0gbm9ybWFsaXplVW5pdHModW5pdHMpO1xuXG4gICAgaWYgKHVuaXRzID09PSAnbW9udGgnIHx8IHVuaXRzID09PSAneWVhcicpIHtcbiAgICAgICAgZGF5cyAgID0gdGhpcy5fZGF5cyAgICsgbWlsbGlzZWNvbmRzIC8gODY0ZTU7XG4gICAgICAgIG1vbnRocyA9IHRoaXMuX21vbnRocyArIGRheXNUb01vbnRocyhkYXlzKTtcbiAgICAgICAgcmV0dXJuIHVuaXRzID09PSAnbW9udGgnID8gbW9udGhzIDogbW9udGhzIC8gMTI7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgLy8gaGFuZGxlIG1pbGxpc2Vjb25kcyBzZXBhcmF0ZWx5IGJlY2F1c2Ugb2YgZmxvYXRpbmcgcG9pbnQgbWF0aCBlcnJvcnMgKGlzc3VlICMxODY3KVxuICAgICAgICBkYXlzID0gdGhpcy5fZGF5cyArIE1hdGgucm91bmQobW9udGhzVG9EYXlzKHRoaXMuX21vbnRocykpO1xuICAgICAgICBzd2l0Y2ggKHVuaXRzKSB7XG4gICAgICAgICAgICBjYXNlICd3ZWVrJyAgIDogcmV0dXJuIGRheXMgLyA3ICAgICArIG1pbGxpc2Vjb25kcyAvIDYwNDhlNTtcbiAgICAgICAgICAgIGNhc2UgJ2RheScgICAgOiByZXR1cm4gZGF5cyAgICAgICAgICsgbWlsbGlzZWNvbmRzIC8gODY0ZTU7XG4gICAgICAgICAgICBjYXNlICdob3VyJyAgIDogcmV0dXJuIGRheXMgKiAyNCAgICArIG1pbGxpc2Vjb25kcyAvIDM2ZTU7XG4gICAgICAgICAgICBjYXNlICdtaW51dGUnIDogcmV0dXJuIGRheXMgKiAxNDQwICArIG1pbGxpc2Vjb25kcyAvIDZlNDtcbiAgICAgICAgICAgIGNhc2UgJ3NlY29uZCcgOiByZXR1cm4gZGF5cyAqIDg2NDAwICsgbWlsbGlzZWNvbmRzIC8gMTAwMDtcbiAgICAgICAgICAgIC8vIE1hdGguZmxvb3IgcHJldmVudHMgZmxvYXRpbmcgcG9pbnQgbWF0aCBlcnJvcnMgaGVyZVxuICAgICAgICAgICAgY2FzZSAnbWlsbGlzZWNvbmQnOiByZXR1cm4gTWF0aC5mbG9vcihkYXlzICogODY0ZTUpICsgbWlsbGlzZWNvbmRzO1xuICAgICAgICAgICAgZGVmYXVsdDogdGhyb3cgbmV3IEVycm9yKCdVbmtub3duIHVuaXQgJyArIHVuaXRzKTtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuLy8gVE9ETzogVXNlIHRoaXMuYXMoJ21zJyk/XG5mdW5jdGlvbiB2YWx1ZU9mJDEgKCkge1xuICAgIHJldHVybiAoXG4gICAgICAgIHRoaXMuX21pbGxpc2Vjb25kcyArXG4gICAgICAgIHRoaXMuX2RheXMgKiA4NjRlNSArXG4gICAgICAgICh0aGlzLl9tb250aHMgJSAxMikgKiAyNTkyZTYgK1xuICAgICAgICB0b0ludCh0aGlzLl9tb250aHMgLyAxMikgKiAzMTUzNmU2XG4gICAgKTtcbn1cblxuZnVuY3Rpb24gbWFrZUFzIChhbGlhcykge1xuICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmFzKGFsaWFzKTtcbiAgICB9O1xufVxuXG52YXIgYXNNaWxsaXNlY29uZHMgPSBtYWtlQXMoJ21zJyk7XG52YXIgYXNTZWNvbmRzICAgICAgPSBtYWtlQXMoJ3MnKTtcbnZhciBhc01pbnV0ZXMgICAgICA9IG1ha2VBcygnbScpO1xudmFyIGFzSG91cnMgICAgICAgID0gbWFrZUFzKCdoJyk7XG52YXIgYXNEYXlzICAgICAgICAgPSBtYWtlQXMoJ2QnKTtcbnZhciBhc1dlZWtzICAgICAgICA9IG1ha2VBcygndycpO1xudmFyIGFzTW9udGhzICAgICAgID0gbWFrZUFzKCdNJyk7XG52YXIgYXNZZWFycyAgICAgICAgPSBtYWtlQXMoJ3knKTtcblxuZnVuY3Rpb24gZ2V0JDIgKHVuaXRzKSB7XG4gICAgdW5pdHMgPSBub3JtYWxpemVVbml0cyh1bml0cyk7XG4gICAgcmV0dXJuIHRoaXNbdW5pdHMgKyAncyddKCk7XG59XG5cbmZ1bmN0aW9uIG1ha2VHZXR0ZXIobmFtZSkge1xuICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9kYXRhW25hbWVdO1xuICAgIH07XG59XG5cbnZhciBtaWxsaXNlY29uZHMgPSBtYWtlR2V0dGVyKCdtaWxsaXNlY29uZHMnKTtcbnZhciBzZWNvbmRzICAgICAgPSBtYWtlR2V0dGVyKCdzZWNvbmRzJyk7XG52YXIgbWludXRlcyAgICAgID0gbWFrZUdldHRlcignbWludXRlcycpO1xudmFyIGhvdXJzICAgICAgICA9IG1ha2VHZXR0ZXIoJ2hvdXJzJyk7XG52YXIgZGF5cyAgICAgICAgID0gbWFrZUdldHRlcignZGF5cycpO1xudmFyIG1vbnRocyAgICAgICA9IG1ha2VHZXR0ZXIoJ21vbnRocycpO1xudmFyIHllYXJzICAgICAgICA9IG1ha2VHZXR0ZXIoJ3llYXJzJyk7XG5cbmZ1bmN0aW9uIHdlZWtzICgpIHtcbiAgICByZXR1cm4gYWJzRmxvb3IodGhpcy5kYXlzKCkgLyA3KTtcbn1cblxudmFyIHJvdW5kID0gTWF0aC5yb3VuZDtcbnZhciB0aHJlc2hvbGRzID0ge1xuICAgIHM6IDQ1LCAgLy8gc2Vjb25kcyB0byBtaW51dGVcbiAgICBtOiA0NSwgIC8vIG1pbnV0ZXMgdG8gaG91clxuICAgIGg6IDIyLCAgLy8gaG91cnMgdG8gZGF5XG4gICAgZDogMjYsICAvLyBkYXlzIHRvIG1vbnRoXG4gICAgTTogMTEgICAvLyBtb250aHMgdG8geWVhclxufTtcblxuLy8gaGVscGVyIGZ1bmN0aW9uIGZvciBtb21lbnQuZm4uZnJvbSwgbW9tZW50LmZuLmZyb21Ob3csIGFuZCBtb21lbnQuZHVyYXRpb24uZm4uaHVtYW5pemVcbmZ1bmN0aW9uIHN1YnN0aXR1dGVUaW1lQWdvKHN0cmluZywgbnVtYmVyLCB3aXRob3V0U3VmZml4LCBpc0Z1dHVyZSwgbG9jYWxlKSB7XG4gICAgcmV0dXJuIGxvY2FsZS5yZWxhdGl2ZVRpbWUobnVtYmVyIHx8IDEsICEhd2l0aG91dFN1ZmZpeCwgc3RyaW5nLCBpc0Z1dHVyZSk7XG59XG5cbmZ1bmN0aW9uIHJlbGF0aXZlVGltZSQxIChwb3NOZWdEdXJhdGlvbiwgd2l0aG91dFN1ZmZpeCwgbG9jYWxlKSB7XG4gICAgdmFyIGR1cmF0aW9uID0gY3JlYXRlRHVyYXRpb24ocG9zTmVnRHVyYXRpb24pLmFicygpO1xuICAgIHZhciBzZWNvbmRzICA9IHJvdW5kKGR1cmF0aW9uLmFzKCdzJykpO1xuICAgIHZhciBtaW51dGVzICA9IHJvdW5kKGR1cmF0aW9uLmFzKCdtJykpO1xuICAgIHZhciBob3VycyAgICA9IHJvdW5kKGR1cmF0aW9uLmFzKCdoJykpO1xuICAgIHZhciBkYXlzICAgICA9IHJvdW5kKGR1cmF0aW9uLmFzKCdkJykpO1xuICAgIHZhciBtb250aHMgICA9IHJvdW5kKGR1cmF0aW9uLmFzKCdNJykpO1xuICAgIHZhciB5ZWFycyAgICA9IHJvdW5kKGR1cmF0aW9uLmFzKCd5JykpO1xuXG4gICAgdmFyIGEgPSBzZWNvbmRzIDwgdGhyZXNob2xkcy5zICYmIFsncycsIHNlY29uZHNdICB8fFxuICAgICAgICAgICAgbWludXRlcyA8PSAxICAgICAgICAgICAmJiBbJ20nXSAgICAgICAgICAgfHxcbiAgICAgICAgICAgIG1pbnV0ZXMgPCB0aHJlc2hvbGRzLm0gJiYgWydtbScsIG1pbnV0ZXNdIHx8XG4gICAgICAgICAgICBob3VycyAgIDw9IDEgICAgICAgICAgICYmIFsnaCddICAgICAgICAgICB8fFxuICAgICAgICAgICAgaG91cnMgICA8IHRocmVzaG9sZHMuaCAmJiBbJ2hoJywgaG91cnNdICAgfHxcbiAgICAgICAgICAgIGRheXMgICAgPD0gMSAgICAgICAgICAgJiYgWydkJ10gICAgICAgICAgIHx8XG4gICAgICAgICAgICBkYXlzICAgIDwgdGhyZXNob2xkcy5kICYmIFsnZGQnLCBkYXlzXSAgICB8fFxuICAgICAgICAgICAgbW9udGhzICA8PSAxICAgICAgICAgICAmJiBbJ00nXSAgICAgICAgICAgfHxcbiAgICAgICAgICAgIG1vbnRocyAgPCB0aHJlc2hvbGRzLk0gJiYgWydNTScsIG1vbnRoc10gIHx8XG4gICAgICAgICAgICB5ZWFycyAgIDw9IDEgICAgICAgICAgICYmIFsneSddICAgICAgICAgICB8fCBbJ3l5JywgeWVhcnNdO1xuXG4gICAgYVsyXSA9IHdpdGhvdXRTdWZmaXg7XG4gICAgYVszXSA9ICtwb3NOZWdEdXJhdGlvbiA+IDA7XG4gICAgYVs0XSA9IGxvY2FsZTtcbiAgICByZXR1cm4gc3Vic3RpdHV0ZVRpbWVBZ28uYXBwbHkobnVsbCwgYSk7XG59XG5cbi8vIFRoaXMgZnVuY3Rpb24gYWxsb3dzIHlvdSB0byBzZXQgdGhlIHJvdW5kaW5nIGZ1bmN0aW9uIGZvciByZWxhdGl2ZSB0aW1lIHN0cmluZ3NcbmZ1bmN0aW9uIGdldFNldFJlbGF0aXZlVGltZVJvdW5kaW5nIChyb3VuZGluZ0Z1bmN0aW9uKSB7XG4gICAgaWYgKHJvdW5kaW5nRnVuY3Rpb24gPT09IHVuZGVmaW5lZCkge1xuICAgICAgICByZXR1cm4gcm91bmQ7XG4gICAgfVxuICAgIGlmICh0eXBlb2Yocm91bmRpbmdGdW5jdGlvbikgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgcm91bmQgPSByb3VuZGluZ0Z1bmN0aW9uO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xufVxuXG4vLyBUaGlzIGZ1bmN0aW9uIGFsbG93cyB5b3UgdG8gc2V0IGEgdGhyZXNob2xkIGZvciByZWxhdGl2ZSB0aW1lIHN0cmluZ3NcbmZ1bmN0aW9uIGdldFNldFJlbGF0aXZlVGltZVRocmVzaG9sZCAodGhyZXNob2xkLCBsaW1pdCkge1xuICAgIGlmICh0aHJlc2hvbGRzW3RocmVzaG9sZF0gPT09IHVuZGVmaW5lZCkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGlmIChsaW1pdCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHJldHVybiB0aHJlc2hvbGRzW3RocmVzaG9sZF07XG4gICAgfVxuICAgIHRocmVzaG9sZHNbdGhyZXNob2xkXSA9IGxpbWl0O1xuICAgIHJldHVybiB0cnVlO1xufVxuXG5mdW5jdGlvbiBodW1hbml6ZSAod2l0aFN1ZmZpeCkge1xuICAgIHZhciBsb2NhbGUgPSB0aGlzLmxvY2FsZURhdGEoKTtcbiAgICB2YXIgb3V0cHV0ID0gcmVsYXRpdmVUaW1lJDEodGhpcywgIXdpdGhTdWZmaXgsIGxvY2FsZSk7XG5cbiAgICBpZiAod2l0aFN1ZmZpeCkge1xuICAgICAgICBvdXRwdXQgPSBsb2NhbGUucGFzdEZ1dHVyZSgrdGhpcywgb3V0cHV0KTtcbiAgICB9XG5cbiAgICByZXR1cm4gbG9jYWxlLnBvc3Rmb3JtYXQob3V0cHV0KTtcbn1cblxudmFyIGFicyQxID0gTWF0aC5hYnM7XG5cbmZ1bmN0aW9uIHRvSVNPU3RyaW5nJDEoKSB7XG4gICAgLy8gZm9yIElTTyBzdHJpbmdzIHdlIGRvIG5vdCB1c2UgdGhlIG5vcm1hbCBidWJibGluZyBydWxlczpcbiAgICAvLyAgKiBtaWxsaXNlY29uZHMgYnViYmxlIHVwIHVudGlsIHRoZXkgYmVjb21lIGhvdXJzXG4gICAgLy8gICogZGF5cyBkbyBub3QgYnViYmxlIGF0IGFsbFxuICAgIC8vICAqIG1vbnRocyBidWJibGUgdXAgdW50aWwgdGhleSBiZWNvbWUgeWVhcnNcbiAgICAvLyBUaGlzIGlzIGJlY2F1c2UgdGhlcmUgaXMgbm8gY29udGV4dC1mcmVlIGNvbnZlcnNpb24gYmV0d2VlbiBob3VycyBhbmQgZGF5c1xuICAgIC8vICh0aGluayBvZiBjbG9jayBjaGFuZ2VzKVxuICAgIC8vIGFuZCBhbHNvIG5vdCBiZXR3ZWVuIGRheXMgYW5kIG1vbnRocyAoMjgtMzEgZGF5cyBwZXIgbW9udGgpXG4gICAgdmFyIHNlY29uZHMgPSBhYnMkMSh0aGlzLl9taWxsaXNlY29uZHMpIC8gMTAwMDtcbiAgICB2YXIgZGF5cyAgICAgICAgID0gYWJzJDEodGhpcy5fZGF5cyk7XG4gICAgdmFyIG1vbnRocyAgICAgICA9IGFicyQxKHRoaXMuX21vbnRocyk7XG4gICAgdmFyIG1pbnV0ZXMsIGhvdXJzLCB5ZWFycztcblxuICAgIC8vIDM2MDAgc2Vjb25kcyAtPiA2MCBtaW51dGVzIC0+IDEgaG91clxuICAgIG1pbnV0ZXMgICAgICAgICAgID0gYWJzRmxvb3Ioc2Vjb25kcyAvIDYwKTtcbiAgICBob3VycyAgICAgICAgICAgICA9IGFic0Zsb29yKG1pbnV0ZXMgLyA2MCk7XG4gICAgc2Vjb25kcyAlPSA2MDtcbiAgICBtaW51dGVzICU9IDYwO1xuXG4gICAgLy8gMTIgbW9udGhzIC0+IDEgeWVhclxuICAgIHllYXJzICA9IGFic0Zsb29yKG1vbnRocyAvIDEyKTtcbiAgICBtb250aHMgJT0gMTI7XG5cblxuICAgIC8vIGluc3BpcmVkIGJ5IGh0dHBzOi8vZ2l0aHViLmNvbS9kb3JkaWxsZS9tb21lbnQtaXNvZHVyYXRpb24vYmxvYi9tYXN0ZXIvbW9tZW50Lmlzb2R1cmF0aW9uLmpzXG4gICAgdmFyIFkgPSB5ZWFycztcbiAgICB2YXIgTSA9IG1vbnRocztcbiAgICB2YXIgRCA9IGRheXM7XG4gICAgdmFyIGggPSBob3VycztcbiAgICB2YXIgbSA9IG1pbnV0ZXM7XG4gICAgdmFyIHMgPSBzZWNvbmRzO1xuICAgIHZhciB0b3RhbCA9IHRoaXMuYXNTZWNvbmRzKCk7XG5cbiAgICBpZiAoIXRvdGFsKSB7XG4gICAgICAgIC8vIHRoaXMgaXMgdGhlIHNhbWUgYXMgQyMncyAoTm9kYSkgYW5kIHB5dGhvbiAoaXNvZGF0ZSkuLi5cbiAgICAgICAgLy8gYnV0IG5vdCBvdGhlciBKUyAoZ29vZy5kYXRlKVxuICAgICAgICByZXR1cm4gJ1AwRCc7XG4gICAgfVxuXG4gICAgcmV0dXJuICh0b3RhbCA8IDAgPyAnLScgOiAnJykgK1xuICAgICAgICAnUCcgK1xuICAgICAgICAoWSA/IFkgKyAnWScgOiAnJykgK1xuICAgICAgICAoTSA/IE0gKyAnTScgOiAnJykgK1xuICAgICAgICAoRCA/IEQgKyAnRCcgOiAnJykgK1xuICAgICAgICAoKGggfHwgbSB8fCBzKSA/ICdUJyA6ICcnKSArXG4gICAgICAgIChoID8gaCArICdIJyA6ICcnKSArXG4gICAgICAgIChtID8gbSArICdNJyA6ICcnKSArXG4gICAgICAgIChzID8gcyArICdTJyA6ICcnKTtcbn1cblxudmFyIHByb3RvJDIgPSBEdXJhdGlvbi5wcm90b3R5cGU7XG5cbnByb3RvJDIuYWJzICAgICAgICAgICAgPSBhYnM7XG5wcm90byQyLmFkZCAgICAgICAgICAgID0gYWRkJDE7XG5wcm90byQyLnN1YnRyYWN0ICAgICAgID0gc3VidHJhY3QkMTtcbnByb3RvJDIuYXMgICAgICAgICAgICAgPSBhcztcbnByb3RvJDIuYXNNaWxsaXNlY29uZHMgPSBhc01pbGxpc2Vjb25kcztcbnByb3RvJDIuYXNTZWNvbmRzICAgICAgPSBhc1NlY29uZHM7XG5wcm90byQyLmFzTWludXRlcyAgICAgID0gYXNNaW51dGVzO1xucHJvdG8kMi5hc0hvdXJzICAgICAgICA9IGFzSG91cnM7XG5wcm90byQyLmFzRGF5cyAgICAgICAgID0gYXNEYXlzO1xucHJvdG8kMi5hc1dlZWtzICAgICAgICA9IGFzV2Vla3M7XG5wcm90byQyLmFzTW9udGhzICAgICAgID0gYXNNb250aHM7XG5wcm90byQyLmFzWWVhcnMgICAgICAgID0gYXNZZWFycztcbnByb3RvJDIudmFsdWVPZiAgICAgICAgPSB2YWx1ZU9mJDE7XG5wcm90byQyLl9idWJibGUgICAgICAgID0gYnViYmxlO1xucHJvdG8kMi5nZXQgICAgICAgICAgICA9IGdldCQyO1xucHJvdG8kMi5taWxsaXNlY29uZHMgICA9IG1pbGxpc2Vjb25kcztcbnByb3RvJDIuc2Vjb25kcyAgICAgICAgPSBzZWNvbmRzO1xucHJvdG8kMi5taW51dGVzICAgICAgICA9IG1pbnV0ZXM7XG5wcm90byQyLmhvdXJzICAgICAgICAgID0gaG91cnM7XG5wcm90byQyLmRheXMgICAgICAgICAgID0gZGF5cztcbnByb3RvJDIud2Vla3MgICAgICAgICAgPSB3ZWVrcztcbnByb3RvJDIubW9udGhzICAgICAgICAgPSBtb250aHM7XG5wcm90byQyLnllYXJzICAgICAgICAgID0geWVhcnM7XG5wcm90byQyLmh1bWFuaXplICAgICAgID0gaHVtYW5pemU7XG5wcm90byQyLnRvSVNPU3RyaW5nICAgID0gdG9JU09TdHJpbmckMTtcbnByb3RvJDIudG9TdHJpbmcgICAgICAgPSB0b0lTT1N0cmluZyQxO1xucHJvdG8kMi50b0pTT04gICAgICAgICA9IHRvSVNPU3RyaW5nJDE7XG5wcm90byQyLmxvY2FsZSAgICAgICAgID0gbG9jYWxlO1xucHJvdG8kMi5sb2NhbGVEYXRhICAgICA9IGxvY2FsZURhdGE7XG5cbi8vIERlcHJlY2F0aW9uc1xucHJvdG8kMi50b0lzb1N0cmluZyA9IGRlcHJlY2F0ZSgndG9Jc29TdHJpbmcoKSBpcyBkZXByZWNhdGVkLiBQbGVhc2UgdXNlIHRvSVNPU3RyaW5nKCkgaW5zdGVhZCAobm90aWNlIHRoZSBjYXBpdGFscyknLCB0b0lTT1N0cmluZyQxKTtcbnByb3RvJDIubGFuZyA9IGxhbmc7XG5cbi8vIFNpZGUgZWZmZWN0IGltcG9ydHNcblxuLy8gRk9STUFUVElOR1xuXG5hZGRGb3JtYXRUb2tlbignWCcsIDAsIDAsICd1bml4Jyk7XG5hZGRGb3JtYXRUb2tlbigneCcsIDAsIDAsICd2YWx1ZU9mJyk7XG5cbi8vIFBBUlNJTkdcblxuYWRkUmVnZXhUb2tlbigneCcsIG1hdGNoU2lnbmVkKTtcbmFkZFJlZ2V4VG9rZW4oJ1gnLCBtYXRjaFRpbWVzdGFtcCk7XG5hZGRQYXJzZVRva2VuKCdYJywgZnVuY3Rpb24gKGlucHV0LCBhcnJheSwgY29uZmlnKSB7XG4gICAgY29uZmlnLl9kID0gbmV3IERhdGUocGFyc2VGbG9hdChpbnB1dCwgMTApICogMTAwMCk7XG59KTtcbmFkZFBhcnNlVG9rZW4oJ3gnLCBmdW5jdGlvbiAoaW5wdXQsIGFycmF5LCBjb25maWcpIHtcbiAgICBjb25maWcuX2QgPSBuZXcgRGF0ZSh0b0ludChpbnB1dCkpO1xufSk7XG5cbi8vIFNpZGUgZWZmZWN0IGltcG9ydHNcblxuXG5ob29rcy52ZXJzaW9uID0gJzIuMTcuMSc7XG5cbnNldEhvb2tDYWxsYmFjayhjcmVhdGVMb2NhbCk7XG5cbmhvb2tzLmZuICAgICAgICAgICAgICAgICAgICA9IHByb3RvO1xuaG9va3MubWluICAgICAgICAgICAgICAgICAgID0gbWluO1xuaG9va3MubWF4ICAgICAgICAgICAgICAgICAgID0gbWF4O1xuaG9va3Mubm93ICAgICAgICAgICAgICAgICAgID0gbm93O1xuaG9va3MudXRjICAgICAgICAgICAgICAgICAgID0gY3JlYXRlVVRDO1xuaG9va3MudW5peCAgICAgICAgICAgICAgICAgID0gY3JlYXRlVW5peDtcbmhvb2tzLm1vbnRocyAgICAgICAgICAgICAgICA9IGxpc3RNb250aHM7XG5ob29rcy5pc0RhdGUgICAgICAgICAgICAgICAgPSBpc0RhdGU7XG5ob29rcy5sb2NhbGUgICAgICAgICAgICAgICAgPSBnZXRTZXRHbG9iYWxMb2NhbGU7XG5ob29rcy5pbnZhbGlkICAgICAgICAgICAgICAgPSBjcmVhdGVJbnZhbGlkO1xuaG9va3MuZHVyYXRpb24gICAgICAgICAgICAgID0gY3JlYXRlRHVyYXRpb247XG5ob29rcy5pc01vbWVudCAgICAgICAgICAgICAgPSBpc01vbWVudDtcbmhvb2tzLndlZWtkYXlzICAgICAgICAgICAgICA9IGxpc3RXZWVrZGF5cztcbmhvb2tzLnBhcnNlWm9uZSAgICAgICAgICAgICA9IGNyZWF0ZUluWm9uZTtcbmhvb2tzLmxvY2FsZURhdGEgICAgICAgICAgICA9IGdldExvY2FsZTtcbmhvb2tzLmlzRHVyYXRpb24gICAgICAgICAgICA9IGlzRHVyYXRpb247XG5ob29rcy5tb250aHNTaG9ydCAgICAgICAgICAgPSBsaXN0TW9udGhzU2hvcnQ7XG5ob29rcy53ZWVrZGF5c01pbiAgICAgICAgICAgPSBsaXN0V2Vla2RheXNNaW47XG5ob29rcy5kZWZpbmVMb2NhbGUgICAgICAgICAgPSBkZWZpbmVMb2NhbGU7XG5ob29rcy51cGRhdGVMb2NhbGUgICAgICAgICAgPSB1cGRhdGVMb2NhbGU7XG5ob29rcy5sb2NhbGVzICAgICAgICAgICAgICAgPSBsaXN0TG9jYWxlcztcbmhvb2tzLndlZWtkYXlzU2hvcnQgICAgICAgICA9IGxpc3RXZWVrZGF5c1Nob3J0O1xuaG9va3Mubm9ybWFsaXplVW5pdHMgICAgICAgID0gbm9ybWFsaXplVW5pdHM7XG5ob29rcy5yZWxhdGl2ZVRpbWVSb3VuZGluZyA9IGdldFNldFJlbGF0aXZlVGltZVJvdW5kaW5nO1xuaG9va3MucmVsYXRpdmVUaW1lVGhyZXNob2xkID0gZ2V0U2V0UmVsYXRpdmVUaW1lVGhyZXNob2xkO1xuaG9va3MuY2FsZW5kYXJGb3JtYXQgICAgICAgID0gZ2V0Q2FsZW5kYXJGb3JtYXQ7XG5ob29rcy5wcm90b3R5cGUgICAgICAgICAgICAgPSBwcm90bztcblxucmV0dXJuIGhvb2tzO1xuXG59KSkpO1xuIiwiLyohXG4gKiBDcm9wcGVyIHYwLjEwLjBcbiAqIGh0dHBzOi8vZ2l0aHViLmNvbS9mZW5neXVhbmNoZW4vY3JvcHBlclxuICpcbiAqIENvcHlyaWdodCAoYykgMjAxNC0yMDE1IEZlbmd5dWFuIENoZW4gYW5kIG90aGVyIGNvbnRyaWJ1dG9yc1xuICogUmVsZWFzZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlXG4gKlxuICogRGF0ZTogMjAxNS0wNi0wOFQxNDo1NzoyNi4zNTNaXG4gKi9cblxuKGZ1bmN0aW9uIChmYWN0b3J5KSB7XG4gIGlmICh0eXBlb2YgZGVmaW5lID09PSAnZnVuY3Rpb24nICYmIGRlZmluZS5hbWQpIHtcbiAgICAvLyBBTUQuIFJlZ2lzdGVyIGFzIGFub255bW91cyBtb2R1bGUuXG4gICAgZGVmaW5lKFsnanF1ZXJ5J10sIGZhY3RvcnkpO1xuICB9IGVsc2UgaWYgKHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0Jykge1xuICAgIC8vIE5vZGUgLyBDb21tb25KU1xuICAgIGZhY3RvcnkocmVxdWlyZSgnanF1ZXJ5JykpO1xuICB9IGVsc2Uge1xuICAgIC8vIEJyb3dzZXIgZ2xvYmFscy5cbiAgICBmYWN0b3J5KGpRdWVyeSk7XG4gIH1cbn0pKGZ1bmN0aW9uICgkKSB7XG5cbiAgJ3VzZSBzdHJpY3QnO1xuXG4gIHZhciAkd2luZG93ID0gJCh3aW5kb3cpLFxuICAgICAgJGRvY3VtZW50ID0gJChkb2N1bWVudCksXG4gICAgICBsb2NhdGlvbiA9IHdpbmRvdy5sb2NhdGlvbixcblxuICAgICAgLy8gQ29uc3RhbnRzXG4gICAgICBDUk9QUEVSX05BTUVTUEFDRSA9ICcuY3JvcHBlcicsXG4gICAgICBDUk9QUEVSX1BSRVZJRVcgPSAncHJldmlldycgKyBDUk9QUEVSX05BTUVTUEFDRSxcblxuICAgICAgLy8gUmVnRXhwc1xuICAgICAgUkVHRVhQX0RSQUdfVFlQRVMgPSAvXihlfG58d3xzfG5lfG53fHN3fHNlfGFsbHxjcm9wfG1vdmV8em9vbSkkLyxcblxuICAgICAgLy8gQ2xhc3Nlc1xuICAgICAgQ0xBU1NfTU9EQUwgPSAnY3JvcHBlci1tb2RhbCcsXG4gICAgICBDTEFTU19ISURFID0gJ2Nyb3BwZXItaGlkZScsXG4gICAgICBDTEFTU19ISURERU4gPSAnY3JvcHBlci1oaWRkZW4nLFxuICAgICAgQ0xBU1NfSU5WSVNJQkxFID0gJ2Nyb3BwZXItaW52aXNpYmxlJyxcbiAgICAgIENMQVNTX01PVkUgPSAnY3JvcHBlci1tb3ZlJyxcbiAgICAgIENMQVNTX0NST1AgPSAnY3JvcHBlci1jcm9wJyxcbiAgICAgIENMQVNTX0RJU0FCTEVEID0gJ2Nyb3BwZXItZGlzYWJsZWQnLFxuICAgICAgQ0xBU1NfQkcgPSAnY3JvcHBlci1iZycsXG5cbiAgICAgIC8vIEV2ZW50c1xuICAgICAgRVZFTlRfTU9VU0VfRE9XTiA9ICdtb3VzZWRvd24gdG91Y2hzdGFydCcsXG4gICAgICBFVkVOVF9NT1VTRV9NT1ZFID0gJ21vdXNlbW92ZSB0b3VjaG1vdmUnLFxuICAgICAgRVZFTlRfTU9VU0VfVVAgPSAnbW91c2V1cCBtb3VzZWxlYXZlIHRvdWNoZW5kIHRvdWNobGVhdmUgdG91Y2hjYW5jZWwnLFxuICAgICAgRVZFTlRfV0hFRUwgPSAnd2hlZWwgbW91c2V3aGVlbCBET01Nb3VzZVNjcm9sbCcsXG4gICAgICBFVkVOVF9EQkxDTElDSyA9ICdkYmxjbGljaycsXG4gICAgICBFVkVOVF9SRVNJWkUgPSAncmVzaXplJyArIENST1BQRVJfTkFNRVNQQUNFLCAvLyBCaW5kIHRvIHdpbmRvdyB3aXRoIG5hbWVzcGFjZVxuICAgICAgRVZFTlRfQlVJTEQgPSAnYnVpbGQnICsgQ1JPUFBFUl9OQU1FU1BBQ0UsXG4gICAgICBFVkVOVF9CVUlMVCA9ICdidWlsdCcgKyBDUk9QUEVSX05BTUVTUEFDRSxcbiAgICAgIEVWRU5UX0RSQUdfU1RBUlQgPSAnZHJhZ3N0YXJ0JyArIENST1BQRVJfTkFNRVNQQUNFLFxuICAgICAgRVZFTlRfRFJBR19NT1ZFID0gJ2RyYWdtb3ZlJyArIENST1BQRVJfTkFNRVNQQUNFLFxuICAgICAgRVZFTlRfRFJBR19FTkQgPSAnZHJhZ2VuZCcgKyBDUk9QUEVSX05BTUVTUEFDRSxcbiAgICAgIEVWRU5UX1pPT01fSU4gPSAnem9vbWluJyArIENST1BQRVJfTkFNRVNQQUNFLFxuICAgICAgRVZFTlRfWk9PTV9PVVQgPSAnem9vbW91dCcgKyBDUk9QUEVSX05BTUVTUEFDRSxcbiAgICAgIEVWRU5UX0NIQU5HRSA9ICdjaGFuZ2UnICsgQ1JPUFBFUl9OQU1FU1BBQ0UsXG5cbiAgICAgIC8vIFN1cHBvcnRzXG4gICAgICBTVVBQT1JUX0NBTlZBUyA9ICQuaXNGdW5jdGlvbigkKCc8Y2FudmFzPicpWzBdLmdldENvbnRleHQpLFxuXG4gICAgICAvLyBPdGhlcnNcbiAgICAgIHNxcnQgPSBNYXRoLnNxcnQsXG4gICAgICBtaW4gPSBNYXRoLm1pbixcbiAgICAgIG1heCA9IE1hdGgubWF4LFxuICAgICAgYWJzID0gTWF0aC5hYnMsXG4gICAgICBzaW4gPSBNYXRoLnNpbixcbiAgICAgIGNvcyA9IE1hdGguY29zLFxuICAgICAgbnVtID0gcGFyc2VGbG9hdCxcblxuICAgICAgLy8gUHJvdG90eXBlXG4gICAgICBwcm90b3R5cGUgPSB7fTtcblxuICBmdW5jdGlvbiBpc051bWJlcihuKSB7XG4gICAgcmV0dXJuIHR5cGVvZiBuID09PSAnbnVtYmVyJyAmJiAhaXNOYU4obik7XG4gIH1cblxuICBmdW5jdGlvbiBpc1VuZGVmaW5lZChuKSB7XG4gICAgcmV0dXJuIHR5cGVvZiBuID09PSAndW5kZWZpbmVkJztcbiAgfVxuXG4gIGZ1bmN0aW9uIHRvQXJyYXkob2JqLCBvZmZzZXQpIHtcbiAgICB2YXIgYXJncyA9IFtdO1xuXG4gICAgaWYgKGlzTnVtYmVyKG9mZnNldCkpIHsgLy8gSXQncyBuZWNlc3NhcnkgZm9yIElFOFxuICAgICAgYXJncy5wdXNoKG9mZnNldCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGFyZ3Muc2xpY2UuYXBwbHkob2JqLCBhcmdzKTtcbiAgfVxuXG4gIC8vIEN1c3RvbSBwcm94eSB0byBhdm9pZCBqUXVlcnkncyBndWlkXG4gIGZ1bmN0aW9uIHByb3h5KGZuLCBjb250ZXh0KSB7XG4gICAgdmFyIGFyZ3MgPSB0b0FycmF5KGFyZ3VtZW50cywgMik7XG5cbiAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIGZuLmFwcGx5KGNvbnRleHQsIGFyZ3MuY29uY2F0KHRvQXJyYXkoYXJndW1lbnRzKSkpO1xuICAgIH07XG4gIH1cblxuICBmdW5jdGlvbiBpc0Nyb3NzT3JpZ2luVVJMKHVybCkge1xuICAgIHZhciBwYXJ0cyA9IHVybC5tYXRjaCgvXihodHRwcz86KVxcL1xcLyhbXlxcOlxcL1xcPyNdKyk6PyhcXGQqKS9pKTtcblxuICAgIHJldHVybiBwYXJ0cyAmJiAocGFydHNbMV0gIT09IGxvY2F0aW9uLnByb3RvY29sIHx8IHBhcnRzWzJdICE9PSBsb2NhdGlvbi5ob3N0bmFtZSB8fCBwYXJ0c1szXSAhPT0gbG9jYXRpb24ucG9ydCk7XG4gIH1cblxuICBmdW5jdGlvbiBhZGRUaW1lc3RhbXAodXJsKSB7XG4gICAgdmFyIHRpbWVzdGFtcCA9ICd0aW1lc3RhbXA9JyArIChuZXcgRGF0ZSgpKS5nZXRUaW1lKCk7XG5cbiAgICByZXR1cm4gKHVybCArICh1cmwuaW5kZXhPZignPycpID09PSAtMSA/ICc/JyA6ICcmJykgKyB0aW1lc3RhbXApO1xuICB9XG5cbiAgZnVuY3Rpb24gZ2V0Um90YXRlVmFsdWUoZGVncmVlKSB7XG4gICAgcmV0dXJuIGRlZ3JlZSA/ICdyb3RhdGUoJyArIGRlZ3JlZSArICdkZWcpJyA6ICdub25lJztcbiAgfVxuXG4gIGZ1bmN0aW9uIGdldFJvdGF0ZWRTaXplcyhkYXRhLCByZXZlcnNlKSB7XG4gICAgdmFyIGRlZyA9IGFicyhkYXRhLmRlZ3JlZSkgJSAxODAsXG4gICAgICAgIGFyYyA9IChkZWcgPiA5MCA/ICgxODAgLSBkZWcpIDogZGVnKSAqIE1hdGguUEkgLyAxODAsXG4gICAgICAgIHNpbkFyYyA9IHNpbihhcmMpLFxuICAgICAgICBjb3NBcmMgPSBjb3MoYXJjKSxcbiAgICAgICAgd2lkdGggPSBkYXRhLndpZHRoLFxuICAgICAgICBoZWlnaHQgPSBkYXRhLmhlaWdodCxcbiAgICAgICAgYXNwZWN0UmF0aW8gPSBkYXRhLmFzcGVjdFJhdGlvLFxuICAgICAgICBuZXdXaWR0aCxcbiAgICAgICAgbmV3SGVpZ2h0O1xuXG4gICAgaWYgKCFyZXZlcnNlKSB7XG4gICAgICBuZXdXaWR0aCA9IHdpZHRoICogY29zQXJjICsgaGVpZ2h0ICogc2luQXJjO1xuICAgICAgbmV3SGVpZ2h0ID0gd2lkdGggKiBzaW5BcmMgKyBoZWlnaHQgKiBjb3NBcmM7XG4gICAgfSBlbHNlIHtcbiAgICAgIG5ld1dpZHRoID0gd2lkdGggLyAoY29zQXJjICsgc2luQXJjIC8gYXNwZWN0UmF0aW8pO1xuICAgICAgbmV3SGVpZ2h0ID0gbmV3V2lkdGggLyBhc3BlY3RSYXRpbztcbiAgICB9XG5cbiAgICByZXR1cm4ge1xuICAgICAgd2lkdGg6IG5ld1dpZHRoLFxuICAgICAgaGVpZ2h0OiBuZXdIZWlnaHRcbiAgICB9O1xuICB9XG5cbiAgZnVuY3Rpb24gZ2V0U291cmNlQ2FudmFzKGltYWdlLCBkYXRhKSB7XG4gICAgdmFyIGNhbnZhcyA9ICQoJzxjYW52YXM+JylbMF0sXG4gICAgICAgIGNvbnRleHQgPSBjYW52YXMuZ2V0Q29udGV4dCgnMmQnKSxcbiAgICAgICAgd2lkdGggPSBkYXRhLm5hdHVyYWxXaWR0aCxcbiAgICAgICAgaGVpZ2h0ID0gZGF0YS5uYXR1cmFsSGVpZ2h0LFxuICAgICAgICByb3RhdGUgPSBkYXRhLnJvdGF0ZSxcbiAgICAgICAgcm90YXRlZCA9IGdldFJvdGF0ZWRTaXplcyh7XG4gICAgICAgICAgd2lkdGg6IHdpZHRoLFxuICAgICAgICAgIGhlaWdodDogaGVpZ2h0LFxuICAgICAgICAgIGRlZ3JlZTogcm90YXRlXG4gICAgICAgIH0pO1xuXG4gICAgaWYgKHJvdGF0ZSkge1xuICAgICAgY2FudmFzLndpZHRoID0gcm90YXRlZC53aWR0aDtcbiAgICAgIGNhbnZhcy5oZWlnaHQgPSByb3RhdGVkLmhlaWdodDtcbiAgICAgIGNvbnRleHQuc2F2ZSgpO1xuICAgICAgY29udGV4dC50cmFuc2xhdGUocm90YXRlZC53aWR0aCAvIDIsIHJvdGF0ZWQuaGVpZ2h0IC8gMik7XG4gICAgICBjb250ZXh0LnJvdGF0ZShyb3RhdGUgKiBNYXRoLlBJIC8gMTgwKTtcbiAgICAgIGNvbnRleHQuZHJhd0ltYWdlKGltYWdlLCAtd2lkdGggLyAyLCAtaGVpZ2h0IC8gMiwgd2lkdGgsIGhlaWdodCk7XG4gICAgICBjb250ZXh0LnJlc3RvcmUoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgY2FudmFzLndpZHRoID0gd2lkdGg7XG4gICAgICBjYW52YXMuaGVpZ2h0ID0gaGVpZ2h0O1xuICAgICAgY29udGV4dC5kcmF3SW1hZ2UoaW1hZ2UsIDAsIDAsIHdpZHRoLCBoZWlnaHQpO1xuICAgIH1cblxuICAgIHJldHVybiBjYW52YXM7XG4gIH1cblxuICBmdW5jdGlvbiBDcm9wcGVyKGVsZW1lbnQsIG9wdGlvbnMpIHtcbiAgICB0aGlzLiRlbGVtZW50ID0gJChlbGVtZW50KTtcbiAgICB0aGlzLm9wdGlvbnMgPSAkLmV4dGVuZCh7fSwgQ3JvcHBlci5ERUZBVUxUUywgJC5pc1BsYWluT2JqZWN0KG9wdGlvbnMpICYmIG9wdGlvbnMpO1xuXG4gICAgdGhpcy5yZWFkeSA9IGZhbHNlO1xuICAgIHRoaXMuYnVpbHQgPSBmYWxzZTtcbiAgICB0aGlzLnJvdGF0ZWQgPSBmYWxzZTtcbiAgICB0aGlzLmNyb3BwZWQgPSBmYWxzZTtcbiAgICB0aGlzLmRpc2FibGVkID0gZmFsc2U7XG4gICAgdGhpcy5jYW52YXMgPSBudWxsO1xuICAgIHRoaXMuY3JvcEJveCA9IG51bGw7XG5cbiAgICB0aGlzLmxvYWQoKTtcbiAgfVxuXG4gIHByb3RvdHlwZS5sb2FkID0gZnVuY3Rpb24gKHVybCkge1xuICAgIHZhciBvcHRpb25zID0gdGhpcy5vcHRpb25zLFxuICAgICAgICAkdGhpcyA9IHRoaXMuJGVsZW1lbnQsXG4gICAgICAgIGNyb3NzT3JpZ2luLFxuICAgICAgICBidXN0Q2FjaGVVcmwsXG4gICAgICAgIGJ1aWxkRXZlbnQsXG4gICAgICAgICRjbG9uZTtcblxuICAgIGlmICghdXJsKSB7XG4gICAgICBpZiAoJHRoaXMuaXMoJ2ltZycpKSB7XG4gICAgICAgIGlmICghJHRoaXMuYXR0cignc3JjJykpIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB1cmwgPSAkdGhpcy5wcm9wKCdzcmMnKTtcbiAgICAgIH0gZWxzZSBpZiAoJHRoaXMuaXMoJ2NhbnZhcycpICYmIFNVUFBPUlRfQ0FOVkFTKSB7XG4gICAgICAgIHVybCA9ICR0aGlzWzBdLnRvRGF0YVVSTCgpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmICghdXJsKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgYnVpbGRFdmVudCA9ICQuRXZlbnQoRVZFTlRfQlVJTEQpO1xuXG4gICAgaWYoJHRoaXMub25lKEVWRU5UX0JVSUxELCBvcHRpb25zLmJ1aWxkKS50cmlnZ2VyKXtcbiAgICAgICR0aGlzLm9uZShFVkVOVF9CVUlMRCwgb3B0aW9ucy5idWlsZCkudHJpZ2dlcihidWlsZEV2ZW50KTsgLy8gT25seSB0cmlnZ2VyIG9uY2VcbiAgICB9XG5cbiAgICBpZiAoYnVpbGRFdmVudC5pc0RlZmF1bHRQcmV2ZW50ZWQoKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmIChvcHRpb25zLmNoZWNrSW1hZ2VPcmlnaW4gJiYgaXNDcm9zc09yaWdpblVSTCh1cmwpKSB7XG4gICAgICBjcm9zc09yaWdpbiA9ICcgY3Jvc3NPcmlnaW49XCJhbm9ueW1vdXNcIic7XG5cbiAgICAgIGlmICghJHRoaXMucHJvcCgnY3Jvc3NPcmlnaW4nKSkgeyAvLyBPbmx5IHdoZW4gdGhlcmUgd2FzIG5vdCBhIFwiY3Jvc3NPcmlnaW5cIiBwcm9wZXJ0eVxuICAgICAgICBidXN0Q2FjaGVVcmwgPSBhZGRUaW1lc3RhbXAodXJsKTsgLy8gQnVzdCBjYWNoZSAoIzE0OClcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBJRTggY29tcGF0aWJpbGl0eTogRG9uJ3QgdXNlIFwiJCgpLmF0dHIoKVwiIHRvIHNldCBcInNyY1wiXG4gICAgdGhpcy4kY2xvbmUgPSAkY2xvbmUgPSAkKCc8aW1nJyArIChjcm9zc09yaWdpbiB8fCAnJykgKyAnIHNyYz1cIicgKyAoYnVzdENhY2hlVXJsIHx8IHVybCkgKyAnXCI+Jyk7XG5cbiAgICAkY2xvbmUub25lKCdsb2FkJywgJC5wcm94eShmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgaW1hZ2UgPSAkY2xvbmVbMF0sXG4gICAgICAgICAgbmF0dXJhbFdpZHRoID0gaW1hZ2UubmF0dXJhbFdpZHRoIHx8IGltYWdlLndpZHRoLFxuICAgICAgICAgIG5hdHVyYWxIZWlnaHQgPSBpbWFnZS5uYXR1cmFsSGVpZ2h0IHx8IGltYWdlLmhlaWdodDsgLy8gJGNsb25lLndpZHRoKCkgYW5kICRjbG9uZS5oZWlnaHQoKSB3aWxsIHJldHVybiAwIGluIElFOCAoIzMxOSlcblxuICAgICAgdGhpcy5pbWFnZSA9IHtcbiAgICAgICAgbmF0dXJhbFdpZHRoOiBuYXR1cmFsV2lkdGgsXG4gICAgICAgIG5hdHVyYWxIZWlnaHQ6IG5hdHVyYWxIZWlnaHQsXG4gICAgICAgIGFzcGVjdFJhdGlvOiBuYXR1cmFsV2lkdGggLyBuYXR1cmFsSGVpZ2h0LFxuICAgICAgICByb3RhdGU6IDBcbiAgICAgIH07XG5cbiAgICAgIHRoaXMudXJsID0gdXJsO1xuICAgICAgdGhpcy5yZWFkeSA9IHRydWU7XG4gICAgICB0aGlzLmJ1aWxkKCk7XG4gICAgfSwgdGhpcykpLm9uZSgnZXJyb3InLCBmdW5jdGlvbiAoKSB7XG4gICAgICAkY2xvbmUucmVtb3ZlKCk7XG4gICAgfSk7XG5cbiAgICAvLyBIaWRlIGFuZCBpbnNlcnQgaW50byB0aGUgZG9jdW1lbnRcbiAgICAkY2xvbmUuYWRkQ2xhc3MoQ0xBU1NfSElERSkuaW5zZXJ0QWZ0ZXIoJHRoaXMpO1xuICB9O1xuXG4gIHByb3RvdHlwZS5idWlsZCA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgJHRoaXMgPSB0aGlzLiRlbGVtZW50LFxuICAgICAgICAkY2xvbmUgPSB0aGlzLiRjbG9uZSxcbiAgICAgICAgb3B0aW9ucyA9IHRoaXMub3B0aW9ucyxcbiAgICAgICAgJGNyb3BwZXIsXG4gICAgICAgICRjcm9wQm94LFxuICAgICAgICAkZmFjZTtcblxuICAgIGlmICghdGhpcy5yZWFkeSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmICh0aGlzLmJ1aWx0KSB7XG4gICAgICB0aGlzLnVuYnVpbGQoKTtcbiAgICB9XG5cbiAgICAvLyBDcmVhdGUgY3JvcHBlciBlbGVtZW50c1xuICAgIHRoaXMuJGNyb3BwZXIgPSAkY3JvcHBlciA9ICQoQ3JvcHBlci5URU1QTEFURSk7XG5cbiAgICAvLyBIaWRlIHRoZSBvcmlnaW5hbCBpbWFnZVxuICAgICR0aGlzLmFkZENsYXNzKENMQVNTX0hJRERFTik7XG5cbiAgICAvLyBTaG93IHRoZSBjbG9uZSBpYW1nZVxuICAgICRjbG9uZS5yZW1vdmVDbGFzcyhDTEFTU19ISURFKTtcblxuICAgIHRoaXMuJGNvbnRhaW5lciA9ICR0aGlzLnBhcmVudCgpLmFwcGVuZCgkY3JvcHBlcik7XG4gICAgdGhpcy4kY2FudmFzID0gJGNyb3BwZXIuZmluZCgnLmNyb3BwZXItY2FudmFzJykuYXBwZW5kKCRjbG9uZSk7XG4gICAgdGhpcy4kZHJhZ0JveCA9ICRjcm9wcGVyLmZpbmQoJy5jcm9wcGVyLWRyYWctYm94Jyk7XG4gICAgdGhpcy4kY3JvcEJveCA9ICRjcm9wQm94ID0gJGNyb3BwZXIuZmluZCgnLmNyb3BwZXItY3JvcC1ib3gnKTtcbiAgICB0aGlzLiR2aWV3Qm94ID0gJGNyb3BwZXIuZmluZCgnLmNyb3BwZXItdmlldy1ib3gnKTtcbiAgICB0aGlzLiRmYWNlID0gJGZhY2UgPSAkY3JvcEJveC5maW5kKCcuY3JvcHBlci1mYWNlJyk7XG5cbiAgICB0aGlzLmFkZExpc3RlbmVycygpO1xuICAgIHRoaXMuaW5pdFByZXZpZXcoKTtcblxuICAgIC8vIEZvcm1hdCBhc3BlY3QgcmF0aW9cbiAgICBvcHRpb25zLmFzcGVjdFJhdGlvID0gbnVtKG9wdGlvbnMuYXNwZWN0UmF0aW8pIHx8IE5hTjsgLy8gMCAtPiBOYU5cblxuICAgIGlmIChvcHRpb25zLmF1dG9Dcm9wKSB7XG4gICAgICB0aGlzLmNyb3BwZWQgPSB0cnVlO1xuXG4gICAgICBpZiAob3B0aW9ucy5tb2RhbCkge1xuICAgICAgICB0aGlzLiRkcmFnQm94LmFkZENsYXNzKENMQVNTX01PREFMKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgJGNyb3BCb3guYWRkQ2xhc3MoQ0xBU1NfSElEREVOKTtcbiAgICB9XG5cbiAgICBpZiAob3B0aW9ucy5iYWNrZ3JvdW5kKSB7XG4gICAgICAkY3JvcHBlci5hZGRDbGFzcyhDTEFTU19CRyk7XG4gICAgfVxuXG4gICAgaWYgKCFvcHRpb25zLmhpZ2hsaWdodCkge1xuICAgICAgJGZhY2UuYWRkQ2xhc3MoQ0xBU1NfSU5WSVNJQkxFKTtcbiAgICB9XG5cbiAgICBpZiAoIW9wdGlvbnMuZ3VpZGVzKSB7XG4gICAgICAkY3JvcEJveC5maW5kKCcuY3JvcHBlci1kYXNoZWQnKS5hZGRDbGFzcyhDTEFTU19ISURERU4pO1xuICAgIH1cblxuICAgIGlmIChvcHRpb25zLmNyb3BCb3hNb3ZhYmxlKSB7XG4gICAgICAkZmFjZS5hZGRDbGFzcyhDTEFTU19NT1ZFKS5kYXRhKCdkcmFnJywgJ2FsbCcpO1xuICAgIH1cblxuICAgIGlmICghb3B0aW9ucy5jcm9wQm94UmVzaXphYmxlKSB7XG4gICAgICAkY3JvcEJveC5maW5kKCcuY3JvcHBlci1saW5lLCAuY3JvcHBlci1wb2ludCcpLmFkZENsYXNzKENMQVNTX0hJRERFTik7XG4gICAgfVxuXG4gICAgdGhpcy5zZXREcmFnTW9kZShvcHRpb25zLmRyYWdDcm9wID8gJ2Nyb3AnIDogb3B0aW9ucy5tb3ZhYmxlID8gJ21vdmUnIDogJ25vbmUnKTtcblxuICAgIHRoaXMuYnVpbHQgPSB0cnVlO1xuICAgIHRoaXMucmVuZGVyKCk7XG4gICAgdGhpcy5zZXREYXRhKG9wdGlvbnMuZGF0YSk7XG4gICAgaWYoJHRoaXMub25lKEVWRU5UX0JVSUxULCBvcHRpb25zLmJ1aWx0KS50cmlnZ2VyKXtcbiAgICAgICR0aGlzLm9uZShFVkVOVF9CVUlMVCwgb3B0aW9ucy5idWlsdCkudHJpZ2dlcihFVkVOVF9CVUlMVCk7IC8vIE9ubHkgdHJpZ2dlciBvbmNlXG4gICAgfVxuICB9O1xuXG4gIHByb3RvdHlwZS51bmJ1aWxkID0gZnVuY3Rpb24gKCkge1xuICAgIGlmICghdGhpcy5idWlsdCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHRoaXMuYnVpbHQgPSBmYWxzZTtcbiAgICB0aGlzLmluaXRpYWxJbWFnZSA9IG51bGw7XG4gICAgdGhpcy5pbml0aWFsQ2FudmFzID0gbnVsbDsgLy8gVGhpcyBpcyBuZWNlc3Nhcnkgd2hlbiByZXBsYWNlXG4gICAgdGhpcy5pbml0aWFsQ3JvcEJveCA9IG51bGw7XG4gICAgdGhpcy5jb250YWluZXIgPSBudWxsO1xuICAgIHRoaXMuY2FudmFzID0gbnVsbDtcbiAgICB0aGlzLmNyb3BCb3ggPSBudWxsOyAvLyBUaGlzIGlzIG5lY2Vzc2FyeSB3aGVuIHJlcGxhY2VcbiAgICB0aGlzLnJlbW92ZUxpc3RlbmVycygpO1xuXG4gICAgdGhpcy5yZXNldFByZXZpZXcoKTtcbiAgICB0aGlzLiRwcmV2aWV3ID0gbnVsbDtcblxuICAgIHRoaXMuJHZpZXdCb3ggPSBudWxsO1xuICAgIHRoaXMuJGNyb3BCb3ggPSBudWxsO1xuICAgIHRoaXMuJGRyYWdCb3ggPSBudWxsO1xuICAgIHRoaXMuJGNhbnZhcyA9IG51bGw7XG4gICAgdGhpcy4kY29udGFpbmVyID0gbnVsbDtcblxuICAgIHRoaXMuJGNyb3BwZXIucmVtb3ZlKCk7XG4gICAgdGhpcy4kY3JvcHBlciA9IG51bGw7XG4gIH07XG5cbiAgJC5leHRlbmQocHJvdG90eXBlLCB7XG4gICAgcmVuZGVyOiBmdW5jdGlvbiAoKSB7XG4gICAgICB0aGlzLmluaXRDb250YWluZXIoKTtcbiAgICAgIHRoaXMuaW5pdENhbnZhcygpO1xuICAgICAgdGhpcy5pbml0Q3JvcEJveCgpO1xuXG4gICAgICB0aGlzLnJlbmRlckNhbnZhcygpO1xuXG4gICAgICBpZiAodGhpcy5jcm9wcGVkKSB7XG4gICAgICAgIHRoaXMucmVuZGVyQ3JvcEJveCgpO1xuICAgICAgfVxuICAgIH0sXG5cbiAgICBpbml0Q29udGFpbmVyOiBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgJHRoaXMgPSB0aGlzLiRlbGVtZW50LFxuICAgICAgICAgICRjb250YWluZXIgPSB0aGlzLiRjb250YWluZXIsXG4gICAgICAgICAgJGNyb3BwZXIgPSB0aGlzLiRjcm9wcGVyLFxuICAgICAgICAgIG9wdGlvbnMgPSB0aGlzLm9wdGlvbnM7XG5cbiAgICAgICRjcm9wcGVyLmFkZENsYXNzKENMQVNTX0hJRERFTik7XG4gICAgICAkdGhpcy5yZW1vdmVDbGFzcyhDTEFTU19ISURERU4pO1xuXG4gICAgICAkY3JvcHBlci5jc3MoKHRoaXMuY29udGFpbmVyID0ge1xuICAgICAgICB3aWR0aDogbWF4KCRjb250YWluZXIud2lkdGgoKSwgbnVtKG9wdGlvbnMubWluQ29udGFpbmVyV2lkdGgpIHx8IDIwMCksXG4gICAgICAgIGhlaWdodDogbWF4KCRjb250YWluZXIuaGVpZ2h0KCksIG51bShvcHRpb25zLm1pbkNvbnRhaW5lckhlaWdodCkgfHwgMTAwKVxuICAgICAgfSkpO1xuXG4gICAgICAkdGhpcy5hZGRDbGFzcyhDTEFTU19ISURERU4pO1xuICAgICAgJGNyb3BwZXIucmVtb3ZlQ2xhc3MoQ0xBU1NfSElEREVOKTtcbiAgICB9LFxuXG4gICAgLy8gaW1hZ2UgYm94ICh3cmFwcGVyKVxuICAgIGluaXRDYW52YXM6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBjb250YWluZXIgPSB0aGlzLmNvbnRhaW5lcixcbiAgICAgICAgICBjb250YWluZXJXaWR0aCA9IGNvbnRhaW5lci53aWR0aCxcbiAgICAgICAgICBjb250YWluZXJIZWlnaHQgPSBjb250YWluZXIuaGVpZ2h0LFxuICAgICAgICAgIGltYWdlID0gdGhpcy5pbWFnZSxcbiAgICAgICAgICBhc3BlY3RSYXRpbyA9IGltYWdlLmFzcGVjdFJhdGlvLFxuICAgICAgICAgIGNhbnZhcyA9IHtcbiAgICAgICAgICAgIGFzcGVjdFJhdGlvOiBhc3BlY3RSYXRpbyxcbiAgICAgICAgICAgIHdpZHRoOiBjb250YWluZXJXaWR0aCxcbiAgICAgICAgICAgIGhlaWdodDogY29udGFpbmVySGVpZ2h0XG4gICAgICAgICAgfTtcblxuICAgICAgaWYgKGNvbnRhaW5lckhlaWdodCAqIGFzcGVjdFJhdGlvID4gY29udGFpbmVyV2lkdGgpIHtcbiAgICAgICAgY2FudmFzLmhlaWdodCA9IGNvbnRhaW5lcldpZHRoIC8gYXNwZWN0UmF0aW87XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjYW52YXMud2lkdGggPSBjb250YWluZXJIZWlnaHQgKiBhc3BlY3RSYXRpbztcbiAgICAgIH1cblxuICAgICAgY2FudmFzLm9sZExlZnQgPSBjYW52YXMubGVmdCA9IChjb250YWluZXJXaWR0aCAtIGNhbnZhcy53aWR0aCkgLyAyO1xuICAgICAgY2FudmFzLm9sZFRvcCA9IGNhbnZhcy50b3AgPSAoY29udGFpbmVySGVpZ2h0IC0gY2FudmFzLmhlaWdodCkgLyAyO1xuXG4gICAgICB0aGlzLmNhbnZhcyA9IGNhbnZhcztcbiAgICAgIHRoaXMubGltaXRDYW52YXModHJ1ZSwgdHJ1ZSk7XG4gICAgICB0aGlzLmluaXRpYWxJbWFnZSA9ICQuZXh0ZW5kKHt9LCBpbWFnZSk7XG4gICAgICB0aGlzLmluaXRpYWxDYW52YXMgPSAkLmV4dGVuZCh7fSwgY2FudmFzKTtcbiAgICB9LFxuXG4gICAgbGltaXRDYW52YXM6IGZ1bmN0aW9uIChzaXplLCBwb3NpdGlvbikge1xuICAgICAgdmFyIG9wdGlvbnMgPSB0aGlzLm9wdGlvbnMsXG4gICAgICAgICAgc3RyaWN0ID0gb3B0aW9ucy5zdHJpY3QsXG4gICAgICAgICAgY29udGFpbmVyID0gdGhpcy5jb250YWluZXIsXG4gICAgICAgICAgY29udGFpbmVyV2lkdGggPSBjb250YWluZXIud2lkdGgsXG4gICAgICAgICAgY29udGFpbmVySGVpZ2h0ID0gY29udGFpbmVyLmhlaWdodCxcbiAgICAgICAgICBjYW52YXMgPSB0aGlzLmNhbnZhcyxcbiAgICAgICAgICBhc3BlY3RSYXRpbyA9IGNhbnZhcy5hc3BlY3RSYXRpbyxcbiAgICAgICAgICBjcm9wQm94ID0gdGhpcy5jcm9wQm94LFxuICAgICAgICAgIGNyb3BwZWQgPSB0aGlzLmNyb3BwZWQgJiYgY3JvcEJveCxcbiAgICAgICAgICBpbml0aWFsQ2FudmFzID0gdGhpcy5pbml0aWFsQ2FudmFzIHx8IGNhbnZhcyxcbiAgICAgICAgICBpbml0aWFsQ2FudmFzV2lkdGggPSBpbml0aWFsQ2FudmFzLndpZHRoLFxuICAgICAgICAgIGluaXRpYWxDYW52YXNIZWlnaHQgPSBpbml0aWFsQ2FudmFzLmhlaWdodCxcbiAgICAgICAgICBtaW5DYW52YXNXaWR0aCxcbiAgICAgICAgICBtaW5DYW52YXNIZWlnaHQ7XG5cbiAgICAgIGlmIChzaXplKSB7XG4gICAgICAgIG1pbkNhbnZhc1dpZHRoID0gbnVtKG9wdGlvbnMubWluQ2FudmFzV2lkdGgpIHx8IDA7XG4gICAgICAgIG1pbkNhbnZhc0hlaWdodCA9IG51bShvcHRpb25zLm1pbkNhbnZhc0hlaWdodCkgfHwgMDtcblxuICAgICAgICBpZiAobWluQ2FudmFzV2lkdGgpIHtcbiAgICAgICAgICBpZiAoc3RyaWN0KSB7XG4gICAgICAgICAgICBtaW5DYW52YXNXaWR0aCA9IG1heChjcm9wcGVkID8gY3JvcEJveC53aWR0aCA6IGluaXRpYWxDYW52YXNXaWR0aCwgbWluQ2FudmFzV2lkdGgpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIG1pbkNhbnZhc0hlaWdodCA9IG1pbkNhbnZhc1dpZHRoIC8gYXNwZWN0UmF0aW87XG4gICAgICAgIH0gZWxzZSBpZiAobWluQ2FudmFzSGVpZ2h0KSB7XG4gICAgICAgICAgaWYgKHN0cmljdCkge1xuICAgICAgICAgICAgbWluQ2FudmFzSGVpZ2h0ID0gbWF4KGNyb3BwZWQgPyBjcm9wQm94LmhlaWdodCA6IGluaXRpYWxDYW52YXNIZWlnaHQsIG1pbkNhbnZhc0hlaWdodCk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgbWluQ2FudmFzV2lkdGggPSBtaW5DYW52YXNIZWlnaHQgKiBhc3BlY3RSYXRpbztcbiAgICAgICAgfSBlbHNlIGlmIChzdHJpY3QpIHtcbiAgICAgICAgICBpZiAoY3JvcHBlZCkge1xuICAgICAgICAgICAgbWluQ2FudmFzV2lkdGggPSBjcm9wQm94LndpZHRoO1xuICAgICAgICAgICAgbWluQ2FudmFzSGVpZ2h0ID0gY3JvcEJveC5oZWlnaHQ7XG5cbiAgICAgICAgICAgIGlmIChtaW5DYW52YXNIZWlnaHQgKiBhc3BlY3RSYXRpbyA+IG1pbkNhbnZhc1dpZHRoKSB7XG4gICAgICAgICAgICAgIG1pbkNhbnZhc1dpZHRoID0gbWluQ2FudmFzSGVpZ2h0ICogYXNwZWN0UmF0aW87XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBtaW5DYW52YXNIZWlnaHQgPSBtaW5DYW52YXNXaWR0aCAvIGFzcGVjdFJhdGlvO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBtaW5DYW52YXNXaWR0aCA9IGluaXRpYWxDYW52YXNXaWR0aDtcbiAgICAgICAgICAgIG1pbkNhbnZhc0hlaWdodCA9IGluaXRpYWxDYW52YXNIZWlnaHQ7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgJC5leHRlbmQoY2FudmFzLCB7XG4gICAgICAgICAgbWluV2lkdGg6IG1pbkNhbnZhc1dpZHRoLFxuICAgICAgICAgIG1pbkhlaWdodDogbWluQ2FudmFzSGVpZ2h0LFxuICAgICAgICAgIG1heFdpZHRoOiBJbmZpbml0eSxcbiAgICAgICAgICBtYXhIZWlnaHQ6IEluZmluaXR5XG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICBpZiAocG9zaXRpb24pIHtcbiAgICAgICAgaWYgKHN0cmljdCkge1xuICAgICAgICAgIGlmIChjcm9wcGVkKSB7XG4gICAgICAgICAgICBjYW52YXMubWluTGVmdCA9IG1pbihjcm9wQm94LmxlZnQsIChjcm9wQm94LmxlZnQgKyBjcm9wQm94LndpZHRoKSAtIGNhbnZhcy53aWR0aCk7XG4gICAgICAgICAgICBjYW52YXMubWluVG9wID0gbWluKGNyb3BCb3gudG9wLCAoY3JvcEJveC50b3AgKyBjcm9wQm94LmhlaWdodCkgLSBjYW52YXMuaGVpZ2h0KTtcbiAgICAgICAgICAgIGNhbnZhcy5tYXhMZWZ0ID0gY3JvcEJveC5sZWZ0O1xuICAgICAgICAgICAgY2FudmFzLm1heFRvcCA9IGNyb3BCb3gudG9wO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjYW52YXMubWluTGVmdCA9IG1pbigwLCBjb250YWluZXJXaWR0aCAtIGNhbnZhcy53aWR0aCk7XG4gICAgICAgICAgICBjYW52YXMubWluVG9wID0gbWluKDAsIGNvbnRhaW5lckhlaWdodCAtIGNhbnZhcy5oZWlnaHQpO1xuICAgICAgICAgICAgY2FudmFzLm1heExlZnQgPSBtYXgoMCwgY29udGFpbmVyV2lkdGggLSBjYW52YXMud2lkdGgpO1xuICAgICAgICAgICAgY2FudmFzLm1heFRvcCA9IG1heCgwLCBjb250YWluZXJIZWlnaHQgLSBjYW52YXMuaGVpZ2h0KTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgY2FudmFzLm1pbkxlZnQgPSAtY2FudmFzLndpZHRoO1xuICAgICAgICAgIGNhbnZhcy5taW5Ub3AgPSAtY2FudmFzLmhlaWdodDtcbiAgICAgICAgICBjYW52YXMubWF4TGVmdCA9IGNvbnRhaW5lcldpZHRoO1xuICAgICAgICAgIGNhbnZhcy5tYXhUb3AgPSBjb250YWluZXJIZWlnaHQ7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LFxuXG4gICAgcmVuZGVyQ2FudmFzOiBmdW5jdGlvbiAoY2hhbmdlZCkge1xuICAgICAgdmFyIG9wdGlvbnMgPSB0aGlzLm9wdGlvbnMsXG4gICAgICAgICAgY2FudmFzID0gdGhpcy5jYW52YXMsXG4gICAgICAgICAgaW1hZ2UgPSB0aGlzLmltYWdlLFxuICAgICAgICAgIGFzcGVjdFJhdGlvLFxuICAgICAgICAgIHJvdGF0ZWQ7XG5cbiAgICAgIGlmICh0aGlzLnJvdGF0ZWQpIHtcbiAgICAgICAgdGhpcy5yb3RhdGVkID0gZmFsc2U7XG5cbiAgICAgICAgLy8gQ29tcHV0ZXMgcm90YXRhdGlvbiBzaXplcyB3aXRoIGltYWdlIHNpemVzXG4gICAgICAgIHJvdGF0ZWQgPSBnZXRSb3RhdGVkU2l6ZXMoe1xuICAgICAgICAgIHdpZHRoOiBpbWFnZS53aWR0aCxcbiAgICAgICAgICBoZWlnaHQ6IGltYWdlLmhlaWdodCxcbiAgICAgICAgICBkZWdyZWU6IGltYWdlLnJvdGF0ZVxuICAgICAgICB9KTtcblxuICAgICAgICBhc3BlY3RSYXRpbyA9IHJvdGF0ZWQud2lkdGggLyByb3RhdGVkLmhlaWdodDtcblxuICAgICAgICBpZiAoYXNwZWN0UmF0aW8gIT09IGNhbnZhcy5hc3BlY3RSYXRpbykge1xuICAgICAgICAgIGNhbnZhcy5sZWZ0IC09IChyb3RhdGVkLndpZHRoIC0gY2FudmFzLndpZHRoKSAvIDI7XG4gICAgICAgICAgY2FudmFzLnRvcCAtPSAocm90YXRlZC5oZWlnaHQgLSBjYW52YXMuaGVpZ2h0KSAvIDI7XG4gICAgICAgICAgY2FudmFzLndpZHRoID0gcm90YXRlZC53aWR0aDtcbiAgICAgICAgICBjYW52YXMuaGVpZ2h0ID0gcm90YXRlZC5oZWlnaHQ7XG4gICAgICAgICAgY2FudmFzLmFzcGVjdFJhdGlvID0gYXNwZWN0UmF0aW87XG4gICAgICAgICAgdGhpcy5saW1pdENhbnZhcyh0cnVlLCBmYWxzZSk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgaWYgKGNhbnZhcy53aWR0aCA+IGNhbnZhcy5tYXhXaWR0aCB8fCBjYW52YXMud2lkdGggPCBjYW52YXMubWluV2lkdGgpIHtcbiAgICAgICAgY2FudmFzLmxlZnQgPSBjYW52YXMub2xkTGVmdDtcbiAgICAgIH1cblxuICAgICAgaWYgKGNhbnZhcy5oZWlnaHQgPiBjYW52YXMubWF4SGVpZ2h0IHx8IGNhbnZhcy5oZWlnaHQgPCBjYW52YXMubWluSGVpZ2h0KSB7XG4gICAgICAgIGNhbnZhcy50b3AgPSBjYW52YXMub2xkVG9wO1xuICAgICAgfVxuXG4gICAgICBjYW52YXMud2lkdGggPSBtaW4obWF4KGNhbnZhcy53aWR0aCwgY2FudmFzLm1pbldpZHRoKSwgY2FudmFzLm1heFdpZHRoKTtcbiAgICAgIGNhbnZhcy5oZWlnaHQgPSBtaW4obWF4KGNhbnZhcy5oZWlnaHQsIGNhbnZhcy5taW5IZWlnaHQpLCBjYW52YXMubWF4SGVpZ2h0KTtcblxuICAgICAgdGhpcy5saW1pdENhbnZhcyhmYWxzZSwgdHJ1ZSk7XG5cbiAgICAgIGNhbnZhcy5vbGRMZWZ0ID0gY2FudmFzLmxlZnQgPSBtaW4obWF4KGNhbnZhcy5sZWZ0LCBjYW52YXMubWluTGVmdCksIGNhbnZhcy5tYXhMZWZ0KTtcbiAgICAgIGNhbnZhcy5vbGRUb3AgPSBjYW52YXMudG9wID0gbWluKG1heChjYW52YXMudG9wLCBjYW52YXMubWluVG9wKSwgY2FudmFzLm1heFRvcCk7XG5cbiAgICAgIHRoaXMuJGNhbnZhcy5jc3Moe1xuICAgICAgICB3aWR0aDogY2FudmFzLndpZHRoLFxuICAgICAgICBoZWlnaHQ6IGNhbnZhcy5oZWlnaHQsXG4gICAgICAgIGxlZnQ6IGNhbnZhcy5sZWZ0LFxuICAgICAgICB0b3A6IGNhbnZhcy50b3BcbiAgICAgIH0pO1xuXG4gICAgICB0aGlzLnJlbmRlckltYWdlKCk7XG5cbiAgICAgIGlmICh0aGlzLmNyb3BwZWQgJiYgb3B0aW9ucy5zdHJpY3QpIHtcbiAgICAgICAgdGhpcy5saW1pdENyb3BCb3godHJ1ZSwgdHJ1ZSk7XG4gICAgICB9XG5cbiAgICAgIGlmIChjaGFuZ2VkKSB7XG4gICAgICAgIHRoaXMub3V0cHV0KCk7XG4gICAgICB9XG4gICAgfSxcblxuICAgIHJlbmRlckltYWdlOiBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgY2FudmFzID0gdGhpcy5jYW52YXMsXG4gICAgICAgICAgaW1hZ2UgPSB0aGlzLmltYWdlLFxuICAgICAgICAgIHJldmVyc2VkO1xuXG4gICAgICBpZiAoaW1hZ2Uucm90YXRlKSB7XG4gICAgICAgIHJldmVyc2VkID0gZ2V0Um90YXRlZFNpemVzKHtcbiAgICAgICAgICB3aWR0aDogY2FudmFzLndpZHRoLFxuICAgICAgICAgIGhlaWdodDogY2FudmFzLmhlaWdodCxcbiAgICAgICAgICBkZWdyZWU6IGltYWdlLnJvdGF0ZSxcbiAgICAgICAgICBhc3BlY3RSYXRpbzogaW1hZ2UuYXNwZWN0UmF0aW9cbiAgICAgICAgfSwgdHJ1ZSk7XG4gICAgICB9XG5cbiAgICAgICQuZXh0ZW5kKGltYWdlLCByZXZlcnNlZCA/IHtcbiAgICAgICAgd2lkdGg6IHJldmVyc2VkLndpZHRoLFxuICAgICAgICBoZWlnaHQ6IHJldmVyc2VkLmhlaWdodCxcbiAgICAgICAgbGVmdDogKGNhbnZhcy53aWR0aCAtIHJldmVyc2VkLndpZHRoKSAvIDIsXG4gICAgICAgIHRvcDogKGNhbnZhcy5oZWlnaHQgLSByZXZlcnNlZC5oZWlnaHQpIC8gMlxuICAgICAgfSA6IHtcbiAgICAgICAgd2lkdGg6IGNhbnZhcy53aWR0aCxcbiAgICAgICAgaGVpZ2h0OiBjYW52YXMuaGVpZ2h0LFxuICAgICAgICBsZWZ0OiAwLFxuICAgICAgICB0b3A6IDBcbiAgICAgIH0pO1xuXG4gICAgICB0aGlzLiRjbG9uZS5jc3Moe1xuICAgICAgICB3aWR0aDogaW1hZ2Uud2lkdGgsXG4gICAgICAgIGhlaWdodDogaW1hZ2UuaGVpZ2h0LFxuICAgICAgICBtYXJnaW5MZWZ0OiBpbWFnZS5sZWZ0LFxuICAgICAgICBtYXJnaW5Ub3A6IGltYWdlLnRvcCxcbiAgICAgICAgdHJhbnNmb3JtOiBnZXRSb3RhdGVWYWx1ZShpbWFnZS5yb3RhdGUpXG4gICAgICB9KTtcbiAgICB9LFxuXG4gICAgaW5pdENyb3BCb3g6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBvcHRpb25zID0gdGhpcy5vcHRpb25zLFxuICAgICAgICAgIGNhbnZhcyA9IHRoaXMuY2FudmFzLFxuICAgICAgICAgIGFzcGVjdFJhdGlvID0gb3B0aW9ucy5hc3BlY3RSYXRpbyxcbiAgICAgICAgICBhdXRvQ3JvcEFyZWEgPSBudW0ob3B0aW9ucy5hdXRvQ3JvcEFyZWEpIHx8IDAuOCxcbiAgICAgICAgICBjcm9wQm94ID0ge1xuICAgICAgICAgICAgd2lkdGg6IGNhbnZhcy53aWR0aCxcbiAgICAgICAgICAgIGhlaWdodDogY2FudmFzLmhlaWdodFxuICAgICAgICAgIH07XG5cbiAgICAgIGlmIChhc3BlY3RSYXRpbykge1xuICAgICAgICBpZiAoY2FudmFzLmhlaWdodCAqIGFzcGVjdFJhdGlvID4gY2FudmFzLndpZHRoKSB7XG4gICAgICAgICAgY3JvcEJveC5oZWlnaHQgPSBjcm9wQm94LndpZHRoIC8gYXNwZWN0UmF0aW87XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgY3JvcEJveC53aWR0aCA9IGNyb3BCb3guaGVpZ2h0ICogYXNwZWN0UmF0aW87XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgdGhpcy5jcm9wQm94ID0gY3JvcEJveDtcbiAgICAgIHRoaXMubGltaXRDcm9wQm94KHRydWUsIHRydWUpO1xuXG4gICAgICAvLyBJbml0aWFsaXplIGF1dG8gY3JvcCBhcmVhXG4gICAgICBjcm9wQm94LndpZHRoID0gbWluKG1heChjcm9wQm94LndpZHRoLCBjcm9wQm94Lm1pbldpZHRoKSwgY3JvcEJveC5tYXhXaWR0aCk7XG4gICAgICBjcm9wQm94LmhlaWdodCA9IG1pbihtYXgoY3JvcEJveC5oZWlnaHQsIGNyb3BCb3gubWluSGVpZ2h0KSwgY3JvcEJveC5tYXhIZWlnaHQpO1xuXG4gICAgICAvLyBUaGUgd2lkdGggb2YgYXV0byBjcm9wIGFyZWEgbXVzdCBsYXJnZSB0aGFuIFwibWluV2lkdGhcIiwgYW5kIHRoZSBoZWlnaHQgdG9vLiAoIzE2NClcbiAgICAgIGNyb3BCb3gud2lkdGggPSBtYXgoY3JvcEJveC5taW5XaWR0aCwgY3JvcEJveC53aWR0aCAqIGF1dG9Dcm9wQXJlYSk7XG4gICAgICBjcm9wQm94LmhlaWdodCA9IG1heChjcm9wQm94Lm1pbkhlaWdodCwgY3JvcEJveC5oZWlnaHQgKiBhdXRvQ3JvcEFyZWEpO1xuICAgICAgY3JvcEJveC5vbGRMZWZ0ID0gY3JvcEJveC5sZWZ0ID0gY2FudmFzLmxlZnQgKyAoY2FudmFzLndpZHRoIC0gY3JvcEJveC53aWR0aCkgLyAyO1xuICAgICAgY3JvcEJveC5vbGRUb3AgPSBjcm9wQm94LnRvcCA9IGNhbnZhcy50b3AgKyAoY2FudmFzLmhlaWdodCAtIGNyb3BCb3guaGVpZ2h0KSAvIDI7XG5cbiAgICAgIHRoaXMuaW5pdGlhbENyb3BCb3ggPSAkLmV4dGVuZCh7fSwgY3JvcEJveCk7XG4gICAgfSxcblxuICAgIGxpbWl0Q3JvcEJveDogZnVuY3Rpb24gKHNpemUsIHBvc2l0aW9uKSB7XG4gICAgICB2YXIgb3B0aW9ucyA9IHRoaXMub3B0aW9ucyxcbiAgICAgICAgICBzdHJpY3QgPSBvcHRpb25zLnN0cmljdCxcbiAgICAgICAgICBjb250YWluZXIgPSB0aGlzLmNvbnRhaW5lcixcbiAgICAgICAgICBjb250YWluZXJXaWR0aCA9IGNvbnRhaW5lci53aWR0aCxcbiAgICAgICAgICBjb250YWluZXJIZWlnaHQgPSBjb250YWluZXIuaGVpZ2h0LFxuICAgICAgICAgIGNhbnZhcyA9IHRoaXMuY2FudmFzLFxuICAgICAgICAgIGNyb3BCb3ggPSB0aGlzLmNyb3BCb3gsXG4gICAgICAgICAgYXNwZWN0UmF0aW8gPSBvcHRpb25zLmFzcGVjdFJhdGlvLFxuICAgICAgICAgIG1pbkNyb3BCb3hXaWR0aCxcbiAgICAgICAgICBtaW5Dcm9wQm94SGVpZ2h0O1xuXG4gICAgICBpZiAoc2l6ZSkge1xuICAgICAgICBtaW5Dcm9wQm94V2lkdGggPSBudW0ob3B0aW9ucy5taW5Dcm9wQm94V2lkdGgpIHx8IDA7XG4gICAgICAgIG1pbkNyb3BCb3hIZWlnaHQgPSBudW0ob3B0aW9ucy5taW5Dcm9wQm94SGVpZ2h0KSB8fCAwO1xuXG4gICAgICAgIC8vIG1pbi9tYXhDcm9wQm94V2lkdGgvSGVpZ2h0IG11c3QgbGVzcyB0aGFuIGNvbmF0aW5lciB3aWR0aC9oZWlnaHRcbiAgICAgICAgY3JvcEJveC5taW5XaWR0aCA9IG1pbihjb250YWluZXJXaWR0aCwgbWluQ3JvcEJveFdpZHRoKTtcbiAgICAgICAgY3JvcEJveC5taW5IZWlnaHQgPSBtaW4oY29udGFpbmVySGVpZ2h0LCBtaW5Dcm9wQm94SGVpZ2h0KTtcbiAgICAgICAgY3JvcEJveC5tYXhXaWR0aCA9IG1pbihjb250YWluZXJXaWR0aCwgc3RyaWN0ID8gY2FudmFzLndpZHRoIDogY29udGFpbmVyV2lkdGgpO1xuICAgICAgICBjcm9wQm94Lm1heEhlaWdodCA9IG1pbihjb250YWluZXJIZWlnaHQsIHN0cmljdCA/IGNhbnZhcy5oZWlnaHQgOiBjb250YWluZXJIZWlnaHQpO1xuXG4gICAgICAgIGlmIChhc3BlY3RSYXRpbykge1xuICAgICAgICAgIC8vIGNvbXBhcmUgY3JvcCBib3ggc2l6ZSB3aXRoIGNvbnRhaW5lciBmaXJzdFxuICAgICAgICAgIGlmIChjcm9wQm94Lm1heEhlaWdodCAqIGFzcGVjdFJhdGlvID4gY3JvcEJveC5tYXhXaWR0aCkge1xuICAgICAgICAgICAgY3JvcEJveC5taW5IZWlnaHQgPSBjcm9wQm94Lm1pbldpZHRoIC8gYXNwZWN0UmF0aW87XG4gICAgICAgICAgICBjcm9wQm94Lm1heEhlaWdodCA9IGNyb3BCb3gubWF4V2lkdGggLyBhc3BlY3RSYXRpbztcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY3JvcEJveC5taW5XaWR0aCA9IGNyb3BCb3gubWluSGVpZ2h0ICogYXNwZWN0UmF0aW87XG4gICAgICAgICAgICBjcm9wQm94Lm1heFdpZHRoID0gY3JvcEJveC5tYXhIZWlnaHQgKiBhc3BlY3RSYXRpbztcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyBUaGUgXCJtaW5XaWR0aFwiIG11c3QgYmUgbGVzcyB0aGFuIFwibWF4V2lkdGhcIiwgYW5kIHRoZSBcIm1pbkhlaWdodFwiIHRvby5cbiAgICAgICAgY3JvcEJveC5taW5XaWR0aCA9IG1pbihjcm9wQm94Lm1heFdpZHRoLCBjcm9wQm94Lm1pbldpZHRoKTtcbiAgICAgICAgY3JvcEJveC5taW5IZWlnaHQgPSBtaW4oY3JvcEJveC5tYXhIZWlnaHQsIGNyb3BCb3gubWluSGVpZ2h0KTtcbiAgICAgIH1cblxuICAgICAgaWYgKHBvc2l0aW9uKSB7XG4gICAgICAgIGlmIChzdHJpY3QpIHtcbiAgICAgICAgICBjcm9wQm94Lm1pbkxlZnQgPSBtYXgoMCwgY2FudmFzLmxlZnQpO1xuICAgICAgICAgIGNyb3BCb3gubWluVG9wID0gbWF4KDAsIGNhbnZhcy50b3ApO1xuICAgICAgICAgIGNyb3BCb3gubWF4TGVmdCA9IG1pbihjb250YWluZXJXaWR0aCwgY2FudmFzLmxlZnQgKyBjYW52YXMud2lkdGgpIC0gY3JvcEJveC53aWR0aDtcbiAgICAgICAgICBjcm9wQm94Lm1heFRvcCA9IG1pbihjb250YWluZXJIZWlnaHQsIGNhbnZhcy50b3AgKyBjYW52YXMuaGVpZ2h0KSAtIGNyb3BCb3guaGVpZ2h0O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGNyb3BCb3gubWluTGVmdCA9IDA7XG4gICAgICAgICAgY3JvcEJveC5taW5Ub3AgPSAwO1xuICAgICAgICAgIGNyb3BCb3gubWF4TGVmdCA9IGNvbnRhaW5lcldpZHRoIC0gY3JvcEJveC53aWR0aDtcbiAgICAgICAgICBjcm9wQm94Lm1heFRvcCA9IGNvbnRhaW5lckhlaWdodCAtIGNyb3BCb3guaGVpZ2h0O1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSxcblxuICAgIHJlbmRlckNyb3BCb3g6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBvcHRpb25zID0gdGhpcy5vcHRpb25zLFxuICAgICAgICAgIGNvbnRhaW5lciA9IHRoaXMuY29udGFpbmVyLFxuICAgICAgICAgIGNvbnRhaW5lcldpZHRoID0gY29udGFpbmVyLndpZHRoLFxuICAgICAgICAgIGNvbnRhaW5lckhlaWdodCA9IGNvbnRhaW5lci5oZWlnaHQsXG4gICAgICAgICAgY3JvcEJveCA9IHRoaXMuY3JvcEJveDtcblxuICAgICAgaWYgKGNyb3BCb3gud2lkdGggPiBjcm9wQm94Lm1heFdpZHRoIHx8IGNyb3BCb3gud2lkdGggPCBjcm9wQm94Lm1pbldpZHRoKSB7XG4gICAgICAgIGNyb3BCb3gubGVmdCA9IGNyb3BCb3gub2xkTGVmdDtcbiAgICAgIH1cblxuICAgICAgaWYgKGNyb3BCb3guaGVpZ2h0ID4gY3JvcEJveC5tYXhIZWlnaHQgfHwgY3JvcEJveC5oZWlnaHQgPCBjcm9wQm94Lm1pbkhlaWdodCkge1xuICAgICAgICBjcm9wQm94LnRvcCA9IGNyb3BCb3gub2xkVG9wO1xuICAgICAgfVxuXG4gICAgICBjcm9wQm94LndpZHRoID0gbWluKG1heChjcm9wQm94LndpZHRoLCBjcm9wQm94Lm1pbldpZHRoKSwgY3JvcEJveC5tYXhXaWR0aCk7XG4gICAgICBjcm9wQm94LmhlaWdodCA9IG1pbihtYXgoY3JvcEJveC5oZWlnaHQsIGNyb3BCb3gubWluSGVpZ2h0KSwgY3JvcEJveC5tYXhIZWlnaHQpO1xuXG4gICAgICB0aGlzLmxpbWl0Q3JvcEJveChmYWxzZSwgdHJ1ZSk7XG5cbiAgICAgIGNyb3BCb3gub2xkTGVmdCA9IGNyb3BCb3gubGVmdCA9IG1pbihtYXgoY3JvcEJveC5sZWZ0LCBjcm9wQm94Lm1pbkxlZnQpLCBjcm9wQm94Lm1heExlZnQpO1xuICAgICAgY3JvcEJveC5vbGRUb3AgPSBjcm9wQm94LnRvcCA9IG1pbihtYXgoY3JvcEJveC50b3AsIGNyb3BCb3gubWluVG9wKSwgY3JvcEJveC5tYXhUb3ApO1xuXG4gICAgICBpZiAob3B0aW9ucy5tb3ZhYmxlICYmIG9wdGlvbnMuY3JvcEJveE1vdmFibGUpIHtcbiAgICAgICAgLy8gVHVybiB0byBtb3ZlIHRoZSBjYW52YXMgd2hlbiB0aGUgY3JvcCBib3ggaXMgZXF1YWwgdG8gdGhlIGNvbnRhaW5lclxuICAgICAgICB0aGlzLiRmYWNlLmRhdGEoJ2RyYWcnLCAoY3JvcEJveC53aWR0aCA9PT0gY29udGFpbmVyV2lkdGggJiYgY3JvcEJveC5oZWlnaHQgPT09IGNvbnRhaW5lckhlaWdodCkgPyAnbW92ZScgOiAnYWxsJyk7XG4gICAgICB9XG5cbiAgICAgIHRoaXMuJGNyb3BCb3guY3NzKHtcbiAgICAgICAgd2lkdGg6IGNyb3BCb3gud2lkdGgsXG4gICAgICAgIGhlaWdodDogY3JvcEJveC5oZWlnaHQsXG4gICAgICAgIGxlZnQ6IGNyb3BCb3gubGVmdCxcbiAgICAgICAgdG9wOiBjcm9wQm94LnRvcFxuICAgICAgfSk7XG5cbiAgICAgIGlmICh0aGlzLmNyb3BwZWQgJiYgb3B0aW9ucy5zdHJpY3QpIHtcbiAgICAgICAgdGhpcy5saW1pdENhbnZhcyh0cnVlLCB0cnVlKTtcbiAgICAgIH1cblxuICAgICAgaWYgKCF0aGlzLmRpc2FibGVkKSB7XG4gICAgICAgIHRoaXMub3V0cHV0KCk7XG4gICAgICB9XG4gICAgfSxcblxuICAgIG91dHB1dDogZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIG9wdGlvbnMgPSB0aGlzLm9wdGlvbnMsXG4gICAgICAgICAgJHRoaXMgPSB0aGlzLiRlbGVtZW50O1xuXG4gICAgICB0aGlzLnByZXZpZXcoKTtcblxuICAgICAgaWYgKG9wdGlvbnMuY3JvcCkge1xuICAgICAgICBvcHRpb25zLmNyb3AuY2FsbCgkdGhpcywgdGhpcy5nZXREYXRhKCkpO1xuICAgICAgfVxuXG4gICAgICAkdGhpcy50cmlnZ2VyKEVWRU5UX0NIQU5HRSk7XG4gICAgfVxuICB9KTtcblxuICBwcm90b3R5cGUuaW5pdFByZXZpZXcgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIHVybCA9IHRoaXMudXJsO1xuXG4gICAgdGhpcy4kcHJldmlldyA9ICQodGhpcy5vcHRpb25zLnByZXZpZXcpO1xuICAgIHRoaXMuJHZpZXdCb3guaHRtbCgnPGltZyBzcmM9XCInICsgdXJsICsgJ1wiPicpO1xuXG4gICAgLy8gT3ZlcnJpZGUgaW1nIGVsZW1lbnQgc3R5bGVzXG4gICAgLy8gQWRkIGBkaXNwbGF5OmJsb2NrYCB0byBhdm9pZCBtYXJnaW4gdG9wIGlzc3VlIChPY2N1ciBvbmx5IHdoZW4gbWFyZ2luLXRvcCA8PSAtaGVpZ2h0KVxuICAgIHRoaXMuJHByZXZpZXcuZWFjaChmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgJHRoaXMgPSAkKHRoaXMpO1xuXG4gICAgICAkdGhpcy5kYXRhKENST1BQRVJfUFJFVklFVywge1xuICAgICAgICB3aWR0aDogJHRoaXMud2lkdGgoKSxcbiAgICAgICAgaGVpZ2h0OiAkdGhpcy5oZWlnaHQoKSxcbiAgICAgICAgb3JpZ2luYWw6ICR0aGlzLmh0bWwoKVxuICAgICAgfSkuaHRtbCgnPGltZyBzcmM9XCInICsgdXJsICsgJ1wiIHN0eWxlPVwiZGlzcGxheTpibG9jazt3aWR0aDoxMDAlO21pbi13aWR0aDowIWltcG9ydGFudDttaW4taGVpZ2h0OjAhaW1wb3J0YW50O21heC13aWR0aDpub25lIWltcG9ydGFudDttYXgtaGVpZ2h0Om5vbmUhaW1wb3J0YW50O2ltYWdlLW9yaWVudGF0aW9uOiAwZGVnIWltcG9ydGFudFwiPicpO1xuICAgIH0pO1xuICB9O1xuXG4gIHByb3RvdHlwZS5yZXNldFByZXZpZXcgPSBmdW5jdGlvbiAoKSB7XG4gICAgdGhpcy4kcHJldmlldy5lYWNoKGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciAkdGhpcyA9ICQodGhpcyk7XG5cbiAgICAgICR0aGlzLmh0bWwoJHRoaXMuZGF0YShDUk9QUEVSX1BSRVZJRVcpLm9yaWdpbmFsKS5yZW1vdmVEYXRhKENST1BQRVJfUFJFVklFVyk7XG4gICAgfSk7XG4gIH07XG5cbiAgcHJvdG90eXBlLnByZXZpZXcgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGltYWdlID0gdGhpcy5pbWFnZSxcbiAgICAgICAgY2FudmFzID0gdGhpcy5jYW52YXMsXG4gICAgICAgIGNyb3BCb3ggPSB0aGlzLmNyb3BCb3gsXG4gICAgICAgIHdpZHRoID0gaW1hZ2Uud2lkdGgsXG4gICAgICAgIGhlaWdodCA9IGltYWdlLmhlaWdodCxcbiAgICAgICAgbGVmdCA9IGNyb3BCb3gubGVmdCAtIGNhbnZhcy5sZWZ0IC0gaW1hZ2UubGVmdCxcbiAgICAgICAgdG9wID0gY3JvcEJveC50b3AgLSBjYW52YXMudG9wIC0gaW1hZ2UudG9wLFxuICAgICAgICByb3RhdGUgPSBpbWFnZS5yb3RhdGU7XG5cbiAgICBpZiAoIXRoaXMuY3JvcHBlZCB8fCB0aGlzLmRpc2FibGVkKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdGhpcy4kdmlld0JveC5maW5kKCdpbWcnKS5jc3Moe1xuICAgICAgd2lkdGg6IHdpZHRoLFxuICAgICAgaGVpZ2h0OiBoZWlnaHQsXG4gICAgICBtYXJnaW5MZWZ0OiAtbGVmdCxcbiAgICAgIG1hcmdpblRvcDogLXRvcCxcbiAgICAgIHRyYW5zZm9ybTogZ2V0Um90YXRlVmFsdWUocm90YXRlKVxuICAgIH0pO1xuXG4gICAgdGhpcy4kcHJldmlldy5lYWNoKGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciAkdGhpcyA9ICQodGhpcyksXG4gICAgICAgICAgZGF0YSA9ICR0aGlzLmRhdGEoQ1JPUFBFUl9QUkVWSUVXKSxcbiAgICAgICAgICByYXRpbyA9IGRhdGEud2lkdGggLyBjcm9wQm94LndpZHRoLFxuICAgICAgICAgIG5ld1dpZHRoID0gZGF0YS53aWR0aCxcbiAgICAgICAgICBuZXdIZWlnaHQgPSBjcm9wQm94LmhlaWdodCAqIHJhdGlvO1xuXG4gICAgICBpZiAobmV3SGVpZ2h0ID4gZGF0YS5oZWlnaHQpIHtcbiAgICAgICAgcmF0aW8gPSBkYXRhLmhlaWdodCAvIGNyb3BCb3guaGVpZ2h0O1xuICAgICAgICBuZXdXaWR0aCA9IGNyb3BCb3gud2lkdGggKiByYXRpbztcbiAgICAgICAgbmV3SGVpZ2h0ID0gZGF0YS5oZWlnaHQ7XG4gICAgICB9XG5cbiAgICAgICR0aGlzLndpZHRoKG5ld1dpZHRoKS5oZWlnaHQobmV3SGVpZ2h0KS5maW5kKCdpbWcnKS5jc3Moe1xuICAgICAgICB3aWR0aDogd2lkdGggKiByYXRpbyxcbiAgICAgICAgaGVpZ2h0OiBoZWlnaHQgKiByYXRpbyxcbiAgICAgICAgbWFyZ2luTGVmdDogLWxlZnQgKiByYXRpbyxcbiAgICAgICAgbWFyZ2luVG9wOiAtdG9wICogcmF0aW8sXG4gICAgICAgIHRyYW5zZm9ybTogZ2V0Um90YXRlVmFsdWUocm90YXRlKVxuICAgICAgfSk7XG4gICAgfSk7XG4gIH07XG5cbiAgcHJvdG90eXBlLmFkZExpc3RlbmVycyA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgb3B0aW9ucyA9IHRoaXMub3B0aW9ucyxcbiAgICAgICAgJHRoaXMgPSB0aGlzLiRlbGVtZW50LFxuICAgICAgICAkY3JvcHBlciA9IHRoaXMuJGNyb3BwZXI7XG5cbiAgICBpZiAoJC5pc0Z1bmN0aW9uKG9wdGlvbnMuZHJhZ3N0YXJ0KSkge1xuICAgICAgJHRoaXMub24oRVZFTlRfRFJBR19TVEFSVCwgb3B0aW9ucy5kcmFnc3RhcnQpO1xuICAgIH1cblxuICAgIGlmICgkLmlzRnVuY3Rpb24ob3B0aW9ucy5kcmFnbW92ZSkpIHtcbiAgICAgICR0aGlzLm9uKEVWRU5UX0RSQUdfTU9WRSwgb3B0aW9ucy5kcmFnbW92ZSk7XG4gICAgfVxuXG4gICAgaWYgKCQuaXNGdW5jdGlvbihvcHRpb25zLmRyYWdlbmQpKSB7XG4gICAgICAkdGhpcy5vbihFVkVOVF9EUkFHX0VORCwgb3B0aW9ucy5kcmFnZW5kKTtcbiAgICB9XG5cbiAgICBpZiAoJC5pc0Z1bmN0aW9uKG9wdGlvbnMuem9vbWluKSkge1xuICAgICAgJHRoaXMub24oRVZFTlRfWk9PTV9JTiwgb3B0aW9ucy56b29taW4pO1xuICAgIH1cblxuICAgIGlmICgkLmlzRnVuY3Rpb24ob3B0aW9ucy56b29tb3V0KSkge1xuICAgICAgJHRoaXMub24oRVZFTlRfWk9PTV9PVVQsIG9wdGlvbnMuem9vbW91dCk7XG4gICAgfVxuXG4gICAgaWYgKCQuaXNGdW5jdGlvbihvcHRpb25zLmNoYW5nZSkpIHtcbiAgICAgICR0aGlzLm9uKEVWRU5UX0NIQU5HRSwgb3B0aW9ucy5jaGFuZ2UpO1xuICAgIH1cblxuICAgICRjcm9wcGVyLm9uKEVWRU5UX01PVVNFX0RPV04sICQucHJveHkodGhpcy5kcmFnc3RhcnQsIHRoaXMpKTtcblxuICAgIGlmIChvcHRpb25zLnpvb21hYmxlICYmIG9wdGlvbnMubW91c2VXaGVlbFpvb20pIHtcbiAgICAgICRjcm9wcGVyLm9uKEVWRU5UX1dIRUVMLCAkLnByb3h5KHRoaXMud2hlZWwsIHRoaXMpKTtcbiAgICB9XG5cbiAgICBpZiAob3B0aW9ucy5kb3VibGVDbGlja1RvZ2dsZSkge1xuICAgICAgJGNyb3BwZXIub24oRVZFTlRfREJMQ0xJQ0ssICQucHJveHkodGhpcy5kYmxjbGljaywgdGhpcykpO1xuICAgIH1cblxuICAgICRkb2N1bWVudC5vbihFVkVOVF9NT1VTRV9NT1ZFLCAodGhpcy5fZHJhZ21vdmUgPSBwcm94eSh0aGlzLmRyYWdtb3ZlLCB0aGlzKSkpLm9uKEVWRU5UX01PVVNFX1VQLCAodGhpcy5fZHJhZ2VuZCA9IHByb3h5KHRoaXMuZHJhZ2VuZCwgdGhpcykpKTtcblxuICAgIGlmIChvcHRpb25zLnJlc3BvbnNpdmUpIHtcbiAgICAgICR3aW5kb3cub24oRVZFTlRfUkVTSVpFLCAodGhpcy5fcmVzaXplID0gcHJveHkodGhpcy5yZXNpemUsIHRoaXMpKSk7XG4gICAgfVxuICB9O1xuXG4gIHByb3RvdHlwZS5yZW1vdmVMaXN0ZW5lcnMgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIG9wdGlvbnMgPSB0aGlzLm9wdGlvbnMsXG4gICAgICAgICR0aGlzID0gdGhpcy4kZWxlbWVudCxcbiAgICAgICAgJGNyb3BwZXIgPSB0aGlzLiRjcm9wcGVyO1xuXG4gICAgaWYgKCQuaXNGdW5jdGlvbihvcHRpb25zLmRyYWdzdGFydCkpIHtcbiAgICAgICR0aGlzLm9mZihFVkVOVF9EUkFHX1NUQVJULCBvcHRpb25zLmRyYWdzdGFydCk7XG4gICAgfVxuXG4gICAgaWYgKCQuaXNGdW5jdGlvbihvcHRpb25zLmRyYWdtb3ZlKSkge1xuICAgICAgJHRoaXMub2ZmKEVWRU5UX0RSQUdfTU9WRSwgb3B0aW9ucy5kcmFnbW92ZSk7XG4gICAgfVxuXG4gICAgaWYgKCQuaXNGdW5jdGlvbihvcHRpb25zLmRyYWdlbmQpKSB7XG4gICAgICAkdGhpcy5vZmYoRVZFTlRfRFJBR19FTkQsIG9wdGlvbnMuZHJhZ2VuZCk7XG4gICAgfVxuXG4gICAgaWYgKCQuaXNGdW5jdGlvbihvcHRpb25zLnpvb21pbikpIHtcbiAgICAgICR0aGlzLm9mZihFVkVOVF9aT09NX0lOLCBvcHRpb25zLnpvb21pbik7XG4gICAgfVxuXG4gICAgaWYgKCQuaXNGdW5jdGlvbihvcHRpb25zLnpvb21vdXQpKSB7XG4gICAgICAkdGhpcy5vZmYoRVZFTlRfWk9PTV9PVVQsIG9wdGlvbnMuem9vbW91dCk7XG4gICAgfVxuXG4gICAgaWYgKCQuaXNGdW5jdGlvbihvcHRpb25zLmNoYW5nZSkpIHtcbiAgICAgICR0aGlzLm9mZihFVkVOVF9DSEFOR0UsIG9wdGlvbnMuY2hhbmdlKTtcbiAgICB9XG5cbiAgICAkY3JvcHBlci5vZmYoRVZFTlRfTU9VU0VfRE9XTiwgdGhpcy5kcmFnc3RhcnQpO1xuXG4gICAgaWYgKG9wdGlvbnMuem9vbWFibGUgJiYgb3B0aW9ucy5tb3VzZVdoZWVsWm9vbSkge1xuICAgICAgJGNyb3BwZXIub2ZmKEVWRU5UX1dIRUVMLCB0aGlzLndoZWVsKTtcbiAgICB9XG5cbiAgICBpZiAob3B0aW9ucy5kb3VibGVDbGlja1RvZ2dsZSkge1xuICAgICAgJGNyb3BwZXIub2ZmKEVWRU5UX0RCTENMSUNLLCB0aGlzLmRibGNsaWNrKTtcbiAgICB9XG5cbiAgICAkZG9jdW1lbnQub2ZmKEVWRU5UX01PVVNFX01PVkUsIHRoaXMuX2RyYWdtb3ZlKS5vZmYoRVZFTlRfTU9VU0VfVVAsIHRoaXMuX2RyYWdlbmQpO1xuXG4gICAgaWYgKG9wdGlvbnMucmVzcG9uc2l2ZSkge1xuICAgICAgJHdpbmRvdy5vZmYoRVZFTlRfUkVTSVpFLCB0aGlzLl9yZXNpemUpO1xuICAgIH1cbiAgfTtcblxuICAkLmV4dGVuZChwcm90b3R5cGUsIHtcbiAgICByZXNpemU6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciAkY29udGFpbmVyID0gdGhpcy4kY29udGFpbmVyLFxuICAgICAgICAgIGNvbnRhaW5lciA9IHRoaXMuY29udGFpbmVyLFxuICAgICAgICAgIGNhbnZhc0RhdGEsXG4gICAgICAgICAgY3JvcEJveERhdGEsXG4gICAgICAgICAgcmF0aW87XG5cbiAgICAgIGlmICh0aGlzLmRpc2FibGVkIHx8ICFjb250YWluZXIpIHsgLy8gQ2hlY2sgXCJjb250YWluZXJcIiBmb3IgSUU4XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgcmF0aW8gPSAkY29udGFpbmVyLndpZHRoKCkgLyBjb250YWluZXIud2lkdGg7XG5cbiAgICAgIGlmIChyYXRpbyAhPT0gMSB8fCAkY29udGFpbmVyLmhlaWdodCgpICE9PSBjb250YWluZXIuaGVpZ2h0KSB7XG4gICAgICAgIGNhbnZhc0RhdGEgPSB0aGlzLmdldENhbnZhc0RhdGEoKTtcbiAgICAgICAgY3JvcEJveERhdGEgPSB0aGlzLmdldENyb3BCb3hEYXRhKCk7XG5cbiAgICAgICAgdGhpcy5yZW5kZXIoKTtcbiAgICAgICAgdGhpcy5zZXRDYW52YXNEYXRhKCQuZWFjaChjYW52YXNEYXRhLCBmdW5jdGlvbiAoaSwgbikge1xuICAgICAgICAgIGNhbnZhc0RhdGFbaV0gPSBuICogcmF0aW87XG4gICAgICAgIH0pKTtcbiAgICAgICAgdGhpcy5zZXRDcm9wQm94RGF0YSgkLmVhY2goY3JvcEJveERhdGEsIGZ1bmN0aW9uIChpLCBuKSB7XG4gICAgICAgICAgY3JvcEJveERhdGFbaV0gPSBuICogcmF0aW87XG4gICAgICAgIH0pKTtcbiAgICAgIH1cbiAgICB9LFxuXG4gICAgZGJsY2xpY2s6IGZ1bmN0aW9uICgpIHtcbiAgICAgIGlmICh0aGlzLmRpc2FibGVkKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgaWYgKHRoaXMuJGRyYWdCb3guaGFzQ2xhc3MoQ0xBU1NfQ1JPUCkpIHtcbiAgICAgICAgdGhpcy5zZXREcmFnTW9kZSgnbW92ZScpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5zZXREcmFnTW9kZSgnY3JvcCcpO1xuICAgICAgfVxuICAgIH0sXG5cbiAgICB3aGVlbDogZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICB2YXIgZSA9IGV2ZW50Lm9yaWdpbmFsRXZlbnQsXG4gICAgICAgICAgZGVsdGEgPSAxO1xuXG4gICAgICBpZiAodGhpcy5kaXNhYmxlZCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG5cbiAgICAgIGlmIChlLmRlbHRhWSkge1xuICAgICAgICBkZWx0YSA9IGUuZGVsdGFZID4gMCA/IDEgOiAtMTtcbiAgICAgIH0gZWxzZSBpZiAoZS53aGVlbERlbHRhKSB7XG4gICAgICAgIGRlbHRhID0gLWUud2hlZWxEZWx0YSAvIDEyMDtcbiAgICAgIH0gZWxzZSBpZiAoZS5kZXRhaWwpIHtcbiAgICAgICAgZGVsdGEgPSBlLmRldGFpbCA+IDAgPyAxIDogLTE7XG4gICAgICB9XG5cbiAgICAgIHRoaXMuem9vbSgtZGVsdGEgKiAwLjEpO1xuICAgIH0sXG5cbiAgICBkcmFnc3RhcnQ6IGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgdmFyIG9wdGlvbnMgPSB0aGlzLm9wdGlvbnMsXG4gICAgICAgICAgb3JpZ2luYWxFdmVudCA9IGV2ZW50Lm9yaWdpbmFsRXZlbnQsXG4gICAgICAgICAgdG91Y2hlcyA9IG9yaWdpbmFsRXZlbnQgJiYgb3JpZ2luYWxFdmVudC50b3VjaGVzLFxuICAgICAgICAgIGUgPSBldmVudCxcbiAgICAgICAgICBkcmFnVHlwZSxcbiAgICAgICAgICBkcmFnU3RhcnRFdmVudCxcbiAgICAgICAgICB0b3VjaGVzTGVuZ3RoO1xuXG4gICAgICBpZiAodGhpcy5kaXNhYmxlZCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGlmICh0b3VjaGVzKSB7XG4gICAgICAgIHRvdWNoZXNMZW5ndGggPSB0b3VjaGVzLmxlbmd0aDtcblxuICAgICAgICBpZiAodG91Y2hlc0xlbmd0aCA+IDEpIHtcbiAgICAgICAgICBpZiAob3B0aW9ucy56b29tYWJsZSAmJiBvcHRpb25zLnRvdWNoRHJhZ1pvb20gJiYgdG91Y2hlc0xlbmd0aCA9PT0gMikge1xuICAgICAgICAgICAgZSA9IHRvdWNoZXNbMV07XG4gICAgICAgICAgICB0aGlzLnN0YXJ0WDIgPSBlLnBhZ2VYO1xuICAgICAgICAgICAgdGhpcy5zdGFydFkyID0gZS5wYWdlWTtcbiAgICAgICAgICAgIGRyYWdUeXBlID0gJ3pvb20nO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgZSA9IHRvdWNoZXNbMF07XG4gICAgICB9XG5cbiAgICAgIGRyYWdUeXBlID0gZHJhZ1R5cGUgfHwgJChlLnRhcmdldCkuZGF0YSgnZHJhZycpO1xuXG4gICAgICBpZiAoUkVHRVhQX0RSQUdfVFlQRVMudGVzdChkcmFnVHlwZSkpIHtcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcblxuICAgICAgICBkcmFnU3RhcnRFdmVudCA9ICQuRXZlbnQoRVZFTlRfRFJBR19TVEFSVCwge1xuICAgICAgICAgIG9yaWdpbmFsRXZlbnQ6IG9yaWdpbmFsRXZlbnQsXG4gICAgICAgICAgZHJhZ1R5cGU6IGRyYWdUeXBlXG4gICAgICAgIH0pO1xuXG4gICAgICAgIHRoaXMuJGVsZW1lbnQudHJpZ2dlcihkcmFnU3RhcnRFdmVudCk7XG5cbiAgICAgICAgaWYgKGRyYWdTdGFydEV2ZW50LmlzRGVmYXVsdFByZXZlbnRlZCgpKSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5kcmFnVHlwZSA9IGRyYWdUeXBlO1xuICAgICAgICB0aGlzLmNyb3BwaW5nID0gZmFsc2U7XG4gICAgICAgIHRoaXMuc3RhcnRYID0gZS5wYWdlWDtcbiAgICAgICAgdGhpcy5zdGFydFkgPSBlLnBhZ2VZO1xuXG4gICAgICAgIGlmIChkcmFnVHlwZSA9PT0gJ2Nyb3AnKSB7XG4gICAgICAgICAgdGhpcy5jcm9wcGluZyA9IHRydWU7XG4gICAgICAgICAgdGhpcy4kZHJhZ0JveC5hZGRDbGFzcyhDTEFTU19NT0RBTCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LFxuXG4gICAgZHJhZ21vdmU6IGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgdmFyIG9wdGlvbnMgPSB0aGlzLm9wdGlvbnMsXG4gICAgICAgICAgb3JpZ2luYWxFdmVudCA9IGV2ZW50Lm9yaWdpbmFsRXZlbnQsXG4gICAgICAgICAgdG91Y2hlcyA9IG9yaWdpbmFsRXZlbnQgJiYgb3JpZ2luYWxFdmVudC50b3VjaGVzLFxuICAgICAgICAgIGUgPSBldmVudCxcbiAgICAgICAgICBkcmFnVHlwZSA9IHRoaXMuZHJhZ1R5cGUsXG4gICAgICAgICAgZHJhZ01vdmVFdmVudCxcbiAgICAgICAgICB0b3VjaGVzTGVuZ3RoO1xuXG4gICAgICBpZiAodGhpcy5kaXNhYmxlZCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGlmICh0b3VjaGVzKSB7XG4gICAgICAgIHRvdWNoZXNMZW5ndGggPSB0b3VjaGVzLmxlbmd0aDtcblxuICAgICAgICBpZiAodG91Y2hlc0xlbmd0aCA+IDEpIHtcbiAgICAgICAgICBpZiAob3B0aW9ucy56b29tYWJsZSAmJiBvcHRpb25zLnRvdWNoRHJhZ1pvb20gJiYgdG91Y2hlc0xlbmd0aCA9PT0gMikge1xuICAgICAgICAgICAgZSA9IHRvdWNoZXNbMV07XG4gICAgICAgICAgICB0aGlzLmVuZFgyID0gZS5wYWdlWDtcbiAgICAgICAgICAgIHRoaXMuZW5kWTIgPSBlLnBhZ2VZO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgZSA9IHRvdWNoZXNbMF07XG4gICAgICB9XG5cbiAgICAgIGlmIChkcmFnVHlwZSkge1xuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuXG4gICAgICAgIGRyYWdNb3ZlRXZlbnQgPSAkLkV2ZW50KEVWRU5UX0RSQUdfTU9WRSwge1xuICAgICAgICAgIG9yaWdpbmFsRXZlbnQ6IG9yaWdpbmFsRXZlbnQsXG4gICAgICAgICAgZHJhZ1R5cGU6IGRyYWdUeXBlXG4gICAgICAgIH0pO1xuXG4gICAgICAgIHRoaXMuJGVsZW1lbnQudHJpZ2dlcihkcmFnTW92ZUV2ZW50KTtcblxuICAgICAgICBpZiAoZHJhZ01vdmVFdmVudC5pc0RlZmF1bHRQcmV2ZW50ZWQoKSkge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuZW5kWCA9IGUucGFnZVg7XG4gICAgICAgIHRoaXMuZW5kWSA9IGUucGFnZVk7XG5cbiAgICAgICAgdGhpcy5jaGFuZ2UoZS5zaGlmdEtleSk7XG4gICAgICB9XG4gICAgfSxcblxuICAgIGRyYWdlbmQ6IGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgdmFyIGRyYWdUeXBlID0gdGhpcy5kcmFnVHlwZSxcbiAgICAgICAgICBkcmFnRW5kRXZlbnQ7XG5cbiAgICAgIGlmICh0aGlzLmRpc2FibGVkKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgaWYgKGRyYWdUeXBlKSB7XG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG5cbiAgICAgICAgZHJhZ0VuZEV2ZW50ID0gJC5FdmVudChFVkVOVF9EUkFHX0VORCwge1xuICAgICAgICAgIG9yaWdpbmFsRXZlbnQ6IGV2ZW50Lm9yaWdpbmFsRXZlbnQsXG4gICAgICAgICAgZHJhZ1R5cGU6IGRyYWdUeXBlXG4gICAgICAgIH0pO1xuXG4gICAgICAgIHRoaXMuJGVsZW1lbnQudHJpZ2dlcihkcmFnRW5kRXZlbnQpO1xuXG4gICAgICAgIGlmIChkcmFnRW5kRXZlbnQuaXNEZWZhdWx0UHJldmVudGVkKCkpIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5jcm9wcGluZykge1xuICAgICAgICAgIHRoaXMuY3JvcHBpbmcgPSBmYWxzZTtcbiAgICAgICAgICB0aGlzLiRkcmFnQm94LnRvZ2dsZUNsYXNzKENMQVNTX01PREFMLCB0aGlzLmNyb3BwZWQgJiYgdGhpcy5vcHRpb25zLm1vZGFsKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuZHJhZ1R5cGUgPSAnJztcbiAgICAgIH1cbiAgICB9XG4gIH0pO1xuXG4gICQuZXh0ZW5kKHByb3RvdHlwZSwge1xuICAgIGNyb3A6IGZ1bmN0aW9uICgpIHtcbiAgICAgIGlmICghdGhpcy5idWlsdCB8fCB0aGlzLmRpc2FibGVkKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgaWYgKCF0aGlzLmNyb3BwZWQpIHtcbiAgICAgICAgdGhpcy5jcm9wcGVkID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5saW1pdENyb3BCb3godHJ1ZSwgdHJ1ZSk7XG5cbiAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5tb2RhbCkge1xuICAgICAgICAgIHRoaXMuJGRyYWdCb3guYWRkQ2xhc3MoQ0xBU1NfTU9EQUwpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy4kY3JvcEJveC5yZW1vdmVDbGFzcyhDTEFTU19ISURERU4pO1xuICAgICAgfVxuXG4gICAgICB0aGlzLnNldENyb3BCb3hEYXRhKHRoaXMuaW5pdGlhbENyb3BCb3gpO1xuICAgIH0sXG5cbiAgICByZXNldDogZnVuY3Rpb24gKCkge1xuICAgICAgaWYgKCF0aGlzLmJ1aWx0IHx8IHRoaXMuZGlzYWJsZWQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICB0aGlzLmltYWdlID0gJC5leHRlbmQoe30sIHRoaXMuaW5pdGlhbEltYWdlKTtcbiAgICAgIHRoaXMuY2FudmFzID0gJC5leHRlbmQoe30sIHRoaXMuaW5pdGlhbENhbnZhcyk7XG4gICAgICB0aGlzLmNyb3BCb3ggPSAkLmV4dGVuZCh7fSwgdGhpcy5pbml0aWFsQ3JvcEJveCk7IC8vIHJlcXVpcmVkIGZvciBzdHJpY3QgbW9kZVxuXG4gICAgICB0aGlzLnJlbmRlckNhbnZhcygpO1xuXG4gICAgICBpZiAodGhpcy5jcm9wcGVkKSB7XG4gICAgICAgIHRoaXMucmVuZGVyQ3JvcEJveCgpO1xuICAgICAgfVxuICAgIH0sXG5cbiAgICBjbGVhcjogZnVuY3Rpb24gKCkge1xuICAgICAgaWYgKCF0aGlzLmNyb3BwZWQgfHwgdGhpcy5kaXNhYmxlZCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgICQuZXh0ZW5kKHRoaXMuY3JvcEJveCwge1xuICAgICAgICBsZWZ0OiAwLFxuICAgICAgICB0b3A6IDAsXG4gICAgICAgIHdpZHRoOiAwLFxuICAgICAgICBoZWlnaHQ6IDBcbiAgICAgIH0pO1xuXG4gICAgICB0aGlzLmNyb3BwZWQgPSBmYWxzZTtcbiAgICAgIHRoaXMucmVuZGVyQ3JvcEJveCgpO1xuXG4gICAgICB0aGlzLmxpbWl0Q2FudmFzKCk7XG4gICAgICB0aGlzLnJlbmRlckNhbnZhcygpOyAvLyBSZW5kZXIgY2FudmFzIGFmdGVyIHJlbmRlciBjcm9wIGJveFxuXG4gICAgICB0aGlzLiRkcmFnQm94LnJlbW92ZUNsYXNzKENMQVNTX01PREFMKTtcbiAgICAgIHRoaXMuJGNyb3BCb3guYWRkQ2xhc3MoQ0xBU1NfSElEREVOKTtcbiAgICB9LFxuXG4gICAgZGVzdHJveTogZnVuY3Rpb24gKCkge1xuICAgICAgdmFyICR0aGlzID0gdGhpcy4kZWxlbWVudDtcblxuICAgICAgaWYgKHRoaXMucmVhZHkpIHtcbiAgICAgICAgdGhpcy51bmJ1aWxkKCk7XG4gICAgICAgICR0aGlzLnJlbW92ZUNsYXNzKENMQVNTX0hJRERFTik7XG4gICAgICB9IGVsc2UgaWYgKHRoaXMuJGNsb25lKSB7XG4gICAgICAgIHRoaXMuJGNsb25lLnJlbW92ZSgpO1xuICAgICAgfVxuXG4gICAgICAkdGhpcy5yZW1vdmVEYXRhKCdjcm9wcGVyJyk7XG4gICAgfSxcblxuICAgIHJlcGxhY2U6IGZ1bmN0aW9uICh1cmwpIHtcbiAgICAgIGlmICghdGhpcy5kaXNhYmxlZCAmJiB1cmwpIHtcbiAgICAgICAgdGhpcy5vcHRpb25zLmRhdGEgPSBudWxsOyAvLyBSZW1vdmUgcHJldmlvdXMgZGF0YVxuICAgICAgICB0aGlzLmxvYWQodXJsKTtcbiAgICAgIH1cbiAgICB9LFxuXG4gICAgZW5hYmxlOiBmdW5jdGlvbiAoKSB7XG4gICAgICBpZiAodGhpcy5idWlsdCkge1xuICAgICAgICB0aGlzLmRpc2FibGVkID0gZmFsc2U7XG4gICAgICAgIHRoaXMuJGNyb3BwZXIucmVtb3ZlQ2xhc3MoQ0xBU1NfRElTQUJMRUQpO1xuICAgICAgfVxuICAgIH0sXG5cbiAgICBkaXNhYmxlOiBmdW5jdGlvbiAoKSB7XG4gICAgICBpZiAodGhpcy5idWlsdCkge1xuICAgICAgICB0aGlzLmRpc2FibGVkID0gdHJ1ZTtcbiAgICAgICAgdGhpcy4kY3JvcHBlci5hZGRDbGFzcyhDTEFTU19ESVNBQkxFRCk7XG4gICAgICB9XG4gICAgfSxcblxuICAgIG1vdmU6IGZ1bmN0aW9uIChvZmZzZXRYLCBvZmZzZXRZKSB7XG4gICAgICB2YXIgY2FudmFzID0gdGhpcy5jYW52YXM7XG5cbiAgICAgIGlmICh0aGlzLmJ1aWx0ICYmICF0aGlzLmRpc2FibGVkICYmIHRoaXMub3B0aW9ucy5tb3ZhYmxlICYmIGlzTnVtYmVyKG9mZnNldFgpICYmIGlzTnVtYmVyKG9mZnNldFkpKSB7XG4gICAgICAgIGNhbnZhcy5sZWZ0ICs9IG9mZnNldFg7XG4gICAgICAgIGNhbnZhcy50b3AgKz0gb2Zmc2V0WTtcbiAgICAgICAgdGhpcy5yZW5kZXJDYW52YXModHJ1ZSk7XG4gICAgICB9XG4gICAgfSxcblxuICAgIHpvb206IGZ1bmN0aW9uIChkZWx0YSkge1xuICAgICAgdmFyIGNhbnZhcyA9IHRoaXMuY2FudmFzLFxuICAgICAgICAgIHpvb21FdmVudCxcbiAgICAgICAgICB3aWR0aCxcbiAgICAgICAgICBoZWlnaHQ7XG5cbiAgICAgIGRlbHRhID0gbnVtKGRlbHRhKTtcblxuICAgICAgaWYgKGRlbHRhICYmIHRoaXMuYnVpbHQgJiYgIXRoaXMuZGlzYWJsZWQgJiYgdGhpcy5vcHRpb25zLnpvb21hYmxlKSB7XG4gICAgICAgIHpvb21FdmVudCA9IGRlbHRhID4gMCA/ICQuRXZlbnQoRVZFTlRfWk9PTV9JTikgOiAkLkV2ZW50KEVWRU5UX1pPT01fT1VUKTtcbiAgICAgICAgdGhpcy4kZWxlbWVudC50cmlnZ2VyKHpvb21FdmVudCk7XG5cbiAgICAgICAgaWYgKHpvb21FdmVudC5pc0RlZmF1bHRQcmV2ZW50ZWQoKSkge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGRlbHRhID0gZGVsdGEgPD0gLTEgPyAxIC8gKDEgLSBkZWx0YSkgOiBkZWx0YSA8PSAxID8gKDEgKyBkZWx0YSkgOiBkZWx0YTtcbiAgICAgICAgd2lkdGggPSBjYW52YXMud2lkdGggKiBkZWx0YTtcbiAgICAgICAgaGVpZ2h0ID0gY2FudmFzLmhlaWdodCAqIGRlbHRhO1xuICAgICAgICBjYW52YXMubGVmdCAtPSAod2lkdGggLSBjYW52YXMud2lkdGgpIC8gMjtcbiAgICAgICAgY2FudmFzLnRvcCAtPSAoaGVpZ2h0IC0gY2FudmFzLmhlaWdodCkgLyAyO1xuICAgICAgICBjYW52YXMud2lkdGggPSB3aWR0aDtcbiAgICAgICAgY2FudmFzLmhlaWdodCA9IGhlaWdodDtcbiAgICAgICAgdGhpcy5yZW5kZXJDYW52YXModHJ1ZSk7XG4gICAgICAgIHRoaXMuc2V0RHJhZ01vZGUoJ21vdmUnKTtcbiAgICAgIH1cbiAgICB9LFxuXG4gICAgcm90YXRlOiBmdW5jdGlvbiAoZGVncmVlKSB7XG4gICAgICB2YXIgaW1hZ2UgPSB0aGlzLmltYWdlO1xuXG4gICAgICBkZWdyZWUgPSBudW0oZGVncmVlKTtcblxuICAgICAgaWYgKGRlZ3JlZSAmJiB0aGlzLmJ1aWx0ICYmICF0aGlzLmRpc2FibGVkICYmIHRoaXMub3B0aW9ucy5yb3RhdGFibGUpIHtcbiAgICAgICAgaW1hZ2Uucm90YXRlID0gKGltYWdlLnJvdGF0ZSArIGRlZ3JlZSkgJSAzNjA7XG4gICAgICAgIHRoaXMucm90YXRlZCA9IHRydWU7XG4gICAgICAgIHRoaXMucmVuZGVyQ2FudmFzKHRydWUpO1xuICAgICAgfVxuICAgIH0sXG5cbiAgICBnZXREYXRhOiBmdW5jdGlvbiAocm91bmRlZCkge1xuICAgICAgdmFyIGNyb3BCb3ggPSB0aGlzLmNyb3BCb3gsXG4gICAgICAgICAgY2FudmFzID0gdGhpcy5jYW52YXMsXG4gICAgICAgICAgaW1hZ2UgPSB0aGlzLmltYWdlLFxuICAgICAgICAgIHJhdGlvLFxuICAgICAgICAgIGRhdGE7XG5cbiAgICAgIGlmICh0aGlzLmJ1aWx0ICYmIHRoaXMuY3JvcHBlZCkge1xuICAgICAgICBkYXRhID0ge1xuICAgICAgICAgIHg6IGNyb3BCb3gubGVmdCAtIGNhbnZhcy5sZWZ0LFxuICAgICAgICAgIHk6IGNyb3BCb3gudG9wIC0gY2FudmFzLnRvcCxcbiAgICAgICAgICB3aWR0aDogY3JvcEJveC53aWR0aCxcbiAgICAgICAgICBoZWlnaHQ6IGNyb3BCb3guaGVpZ2h0XG4gICAgICAgIH07XG5cbiAgICAgICAgcmF0aW8gPSBpbWFnZS53aWR0aCAvIGltYWdlLm5hdHVyYWxXaWR0aDtcblxuICAgICAgICAkLmVhY2goZGF0YSwgZnVuY3Rpb24gKGksIG4pIHtcbiAgICAgICAgICBuID0gbiAvIHJhdGlvO1xuICAgICAgICAgIGRhdGFbaV0gPSByb3VuZGVkID8gTWF0aC5yb3VuZChuKSA6IG47XG4gICAgICAgIH0pO1xuXG4gICAgICB9IGVsc2Uge1xuICAgICAgICBkYXRhID0ge1xuICAgICAgICAgIHg6IDAsXG4gICAgICAgICAgeTogMCxcbiAgICAgICAgICB3aWR0aDogMCxcbiAgICAgICAgICBoZWlnaHQ6IDBcbiAgICAgICAgfTtcbiAgICAgIH1cblxuICAgICAgZGF0YS5yb3RhdGUgPSB0aGlzLnJlYWR5ID8gaW1hZ2Uucm90YXRlIDogMDtcblxuICAgICAgcmV0dXJuIGRhdGE7XG4gICAgfSxcblxuICAgIHNldERhdGE6IGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICB2YXIgaW1hZ2UgPSB0aGlzLmltYWdlLFxuICAgICAgICAgIGNhbnZhcyA9IHRoaXMuY2FudmFzLFxuICAgICAgICAgIGNyb3BCb3hEYXRhID0ge30sXG4gICAgICAgICAgcmF0aW87XG5cbiAgICAgIGlmICh0aGlzLmJ1aWx0ICYmICF0aGlzLmRpc2FibGVkICYmICQuaXNQbGFpbk9iamVjdChkYXRhKSkge1xuICAgICAgICBpZiAoaXNOdW1iZXIoZGF0YS5yb3RhdGUpICYmIGRhdGEucm90YXRlICE9PSBpbWFnZS5yb3RhdGUgJiYgdGhpcy5vcHRpb25zLnJvdGF0YWJsZSkge1xuICAgICAgICAgIGltYWdlLnJvdGF0ZSA9IGRhdGEucm90YXRlO1xuICAgICAgICAgIHRoaXMucm90YXRlZCA9IHRydWU7XG4gICAgICAgICAgdGhpcy5yZW5kZXJDYW52YXModHJ1ZSk7XG4gICAgICAgIH1cblxuICAgICAgICByYXRpbyA9IGltYWdlLndpZHRoIC8gaW1hZ2UubmF0dXJhbFdpZHRoO1xuXG4gICAgICAgIGlmIChpc051bWJlcihkYXRhLngpKSB7XG4gICAgICAgICAgY3JvcEJveERhdGEubGVmdCA9IGRhdGEueCAqIHJhdGlvICsgY2FudmFzLmxlZnQ7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoaXNOdW1iZXIoZGF0YS55KSkge1xuICAgICAgICAgIGNyb3BCb3hEYXRhLnRvcCA9IGRhdGEueSAqIHJhdGlvICsgY2FudmFzLnRvcDtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChpc051bWJlcihkYXRhLndpZHRoKSkge1xuICAgICAgICAgIGNyb3BCb3hEYXRhLndpZHRoID0gZGF0YS53aWR0aCAqIHJhdGlvO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGlzTnVtYmVyKGRhdGEuaGVpZ2h0KSkge1xuICAgICAgICAgIGNyb3BCb3hEYXRhLmhlaWdodCA9IGRhdGEuaGVpZ2h0ICogcmF0aW87XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnNldENyb3BCb3hEYXRhKGNyb3BCb3hEYXRhKTtcbiAgICAgIH1cbiAgICB9LFxuXG4gICAgZ2V0Q29udGFpbmVyRGF0YTogZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIHRoaXMuYnVpbHQgPyB0aGlzLmNvbnRhaW5lciA6IHt9O1xuICAgIH0sXG5cbiAgICBnZXRJbWFnZURhdGE6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiB0aGlzLnJlYWR5ID8gdGhpcy5pbWFnZSA6IHt9O1xuICAgIH0sXG5cbiAgICBnZXRDYW52YXNEYXRhOiBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgY2FudmFzID0gdGhpcy5jYW52YXMsXG4gICAgICAgICAgZGF0YTtcblxuICAgICAgaWYgKHRoaXMuYnVpbHQpIHtcbiAgICAgICAgZGF0YSA9IHtcbiAgICAgICAgICBsZWZ0OiBjYW52YXMubGVmdCxcbiAgICAgICAgICB0b3A6IGNhbnZhcy50b3AsXG4gICAgICAgICAgd2lkdGg6IGNhbnZhcy53aWR0aCxcbiAgICAgICAgICBoZWlnaHQ6IGNhbnZhcy5oZWlnaHRcbiAgICAgICAgfTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGRhdGEgfHwge307XG4gICAgfSxcblxuICAgIHNldENhbnZhc0RhdGE6IGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICB2YXIgY2FudmFzID0gdGhpcy5jYW52YXMsXG4gICAgICAgICAgYXNwZWN0UmF0aW8gPSBjYW52YXMuYXNwZWN0UmF0aW87XG5cbiAgICAgIGlmICh0aGlzLmJ1aWx0ICYmICF0aGlzLmRpc2FibGVkICYmICQuaXNQbGFpbk9iamVjdChkYXRhKSkge1xuICAgICAgICBpZiAoaXNOdW1iZXIoZGF0YS5sZWZ0KSkge1xuICAgICAgICAgIGNhbnZhcy5sZWZ0ID0gZGF0YS5sZWZ0O1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGlzTnVtYmVyKGRhdGEudG9wKSkge1xuICAgICAgICAgIGNhbnZhcy50b3AgPSBkYXRhLnRvcDtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChpc051bWJlcihkYXRhLndpZHRoKSkge1xuICAgICAgICAgIGNhbnZhcy53aWR0aCA9IGRhdGEud2lkdGg7XG4gICAgICAgICAgY2FudmFzLmhlaWdodCA9IGRhdGEud2lkdGggLyBhc3BlY3RSYXRpbztcbiAgICAgICAgfSBlbHNlIGlmIChpc051bWJlcihkYXRhLmhlaWdodCkpIHtcbiAgICAgICAgICBjYW52YXMuaGVpZ2h0ID0gZGF0YS5oZWlnaHQ7XG4gICAgICAgICAgY2FudmFzLndpZHRoID0gZGF0YS5oZWlnaHQgKiBhc3BlY3RSYXRpbztcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMucmVuZGVyQ2FudmFzKHRydWUpO1xuICAgICAgfVxuICAgIH0sXG5cbiAgICBnZXRDcm9wQm94RGF0YTogZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIGNyb3BCb3ggPSB0aGlzLmNyb3BCb3gsXG4gICAgICAgICAgZGF0YTtcblxuICAgICAgaWYgKHRoaXMuYnVpbHQgJiYgdGhpcy5jcm9wcGVkKSB7XG4gICAgICAgIGRhdGEgPSB7XG4gICAgICAgICAgbGVmdDogY3JvcEJveC5sZWZ0LFxuICAgICAgICAgIHRvcDogY3JvcEJveC50b3AsXG4gICAgICAgICAgd2lkdGg6IGNyb3BCb3gud2lkdGgsXG4gICAgICAgICAgaGVpZ2h0OiBjcm9wQm94LmhlaWdodFxuICAgICAgICB9O1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gZGF0YSB8fCB7fTtcbiAgICB9LFxuXG4gICAgc2V0Q3JvcEJveERhdGE6IGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICB2YXIgY3JvcEJveCA9IHRoaXMuY3JvcEJveCxcbiAgICAgICAgICBhc3BlY3RSYXRpbyA9IHRoaXMub3B0aW9ucy5hc3BlY3RSYXRpbztcblxuICAgICAgaWYgKHRoaXMuYnVpbHQgJiYgdGhpcy5jcm9wcGVkICYmICF0aGlzLmRpc2FibGVkICYmICQuaXNQbGFpbk9iamVjdChkYXRhKSkge1xuXG4gICAgICAgIGlmIChpc051bWJlcihkYXRhLmxlZnQpKSB7XG4gICAgICAgICAgY3JvcEJveC5sZWZ0ID0gZGF0YS5sZWZ0O1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGlzTnVtYmVyKGRhdGEudG9wKSkge1xuICAgICAgICAgIGNyb3BCb3gudG9wID0gZGF0YS50b3A7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoaXNOdW1iZXIoZGF0YS53aWR0aCkpIHtcbiAgICAgICAgICBjcm9wQm94LndpZHRoID0gZGF0YS53aWR0aDtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChpc051bWJlcihkYXRhLmhlaWdodCkpIHtcbiAgICAgICAgICBjcm9wQm94LmhlaWdodCA9IGRhdGEuaGVpZ2h0O1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGFzcGVjdFJhdGlvKSB7XG4gICAgICAgICAgaWYgKGlzTnVtYmVyKGRhdGEud2lkdGgpKSB7XG4gICAgICAgICAgICBjcm9wQm94LmhlaWdodCA9IGNyb3BCb3gud2lkdGggLyBhc3BlY3RSYXRpbztcbiAgICAgICAgICB9IGVsc2UgaWYgKGlzTnVtYmVyKGRhdGEuaGVpZ2h0KSkge1xuICAgICAgICAgICAgY3JvcEJveC53aWR0aCA9IGNyb3BCb3guaGVpZ2h0ICogYXNwZWN0UmF0aW87XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5yZW5kZXJDcm9wQm94KCk7XG4gICAgICB9XG4gICAgfSxcblxuICAgIGdldENyb3BwZWRDYW52YXM6IGZ1bmN0aW9uIChvcHRpb25zKSB7XG4gICAgICB2YXIgb3JpZ2luYWxXaWR0aCxcbiAgICAgICAgICBvcmlnaW5hbEhlaWdodCxcbiAgICAgICAgICBjYW52YXNXaWR0aCxcbiAgICAgICAgICBjYW52YXNIZWlnaHQsXG4gICAgICAgICAgc2NhbGVkV2lkdGgsXG4gICAgICAgICAgc2NhbGVkSGVpZ2h0LFxuICAgICAgICAgIHNjYWxlZFJhdGlvLFxuICAgICAgICAgIGFzcGVjdFJhdGlvLFxuICAgICAgICAgIGNhbnZhcyxcbiAgICAgICAgICBjb250ZXh0LFxuICAgICAgICAgIGRhdGE7XG5cbiAgICAgIGlmICghdGhpcy5idWlsdCB8fCAhdGhpcy5jcm9wcGVkIHx8ICFTVVBQT1JUX0NBTlZBUykge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGlmICghJC5pc1BsYWluT2JqZWN0KG9wdGlvbnMpKSB7XG4gICAgICAgIG9wdGlvbnMgPSB7fTtcbiAgICAgIH1cblxuICAgICAgZGF0YSA9IHRoaXMuZ2V0RGF0YSgpO1xuICAgICAgb3JpZ2luYWxXaWR0aCA9IGRhdGEud2lkdGg7XG4gICAgICBvcmlnaW5hbEhlaWdodCA9IGRhdGEuaGVpZ2h0O1xuICAgICAgYXNwZWN0UmF0aW8gPSBvcmlnaW5hbFdpZHRoIC8gb3JpZ2luYWxIZWlnaHQ7XG5cbiAgICAgIGlmICgkLmlzUGxhaW5PYmplY3Qob3B0aW9ucykpIHtcbiAgICAgICAgc2NhbGVkV2lkdGggPSBvcHRpb25zLndpZHRoO1xuICAgICAgICBzY2FsZWRIZWlnaHQgPSBvcHRpb25zLmhlaWdodDtcblxuICAgICAgICBpZiAoc2NhbGVkV2lkdGgpIHtcbiAgICAgICAgICBzY2FsZWRIZWlnaHQgPSBzY2FsZWRXaWR0aCAvIGFzcGVjdFJhdGlvO1xuICAgICAgICAgIHNjYWxlZFJhdGlvID0gc2NhbGVkV2lkdGggLyBvcmlnaW5hbFdpZHRoO1xuICAgICAgICB9IGVsc2UgaWYgKHNjYWxlZEhlaWdodCkge1xuICAgICAgICAgIHNjYWxlZFdpZHRoID0gc2NhbGVkSGVpZ2h0ICogYXNwZWN0UmF0aW87XG4gICAgICAgICAgc2NhbGVkUmF0aW8gPSBzY2FsZWRIZWlnaHQgLyBvcmlnaW5hbEhlaWdodDtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBjYW52YXNXaWR0aCA9IHNjYWxlZFdpZHRoIHx8IG9yaWdpbmFsV2lkdGg7XG4gICAgICBjYW52YXNIZWlnaHQgPSBzY2FsZWRIZWlnaHQgfHwgb3JpZ2luYWxIZWlnaHQ7XG5cbiAgICAgIGNhbnZhcyA9ICQoJzxjYW52YXM+JylbMF07XG4gICAgICBjYW52YXMud2lkdGggPSBjYW52YXNXaWR0aDtcbiAgICAgIGNhbnZhcy5oZWlnaHQgPSBjYW52YXNIZWlnaHQ7XG4gICAgICBjb250ZXh0ID0gY2FudmFzLmdldENvbnRleHQoJzJkJyk7XG5cbiAgICAgIGlmIChvcHRpb25zLmZpbGxDb2xvcikge1xuICAgICAgICBjb250ZXh0LmZpbGxTdHlsZSA9IG9wdGlvbnMuZmlsbENvbG9yO1xuICAgICAgICBjb250ZXh0LmZpbGxSZWN0KDAsIDAsIGNhbnZhc1dpZHRoLCBjYW52YXNIZWlnaHQpO1xuICAgICAgfVxuXG4gICAgICAvLyBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJELmRyYXdJbWFnZVxuICAgICAgY29udGV4dC5kcmF3SW1hZ2UuYXBwbHkoY29udGV4dCwgKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIHNvdXJjZSA9IGdldFNvdXJjZUNhbnZhcyh0aGlzLiRjbG9uZVswXSwgdGhpcy5pbWFnZSksXG4gICAgICAgICAgICBzb3VyY2VXaWR0aCA9IHNvdXJjZS53aWR0aCxcbiAgICAgICAgICAgIHNvdXJjZUhlaWdodCA9IHNvdXJjZS5oZWlnaHQsXG4gICAgICAgICAgICBhcmdzID0gW3NvdXJjZV0sXG4gICAgICAgICAgICBzcmNYID0gZGF0YS54LCAvLyBzb3VyY2UgY2FudmFzXG4gICAgICAgICAgICBzcmNZID0gZGF0YS55LFxuICAgICAgICAgICAgc3JjV2lkdGgsXG4gICAgICAgICAgICBzcmNIZWlnaHQsXG4gICAgICAgICAgICBkc3RYLCAvLyBkZXN0aW5hdGlvbiBjYW52YXNcbiAgICAgICAgICAgIGRzdFksXG4gICAgICAgICAgICBkc3RXaWR0aCxcbiAgICAgICAgICAgIGRzdEhlaWdodDtcblxuICAgICAgICBpZiAoc3JjWCA8PSAtb3JpZ2luYWxXaWR0aCB8fCBzcmNYID4gc291cmNlV2lkdGgpIHtcbiAgICAgICAgICBzcmNYID0gc3JjV2lkdGggPSBkc3RYID0gZHN0V2lkdGggPSAwO1xuICAgICAgICB9IGVsc2UgaWYgKHNyY1ggPD0gMCkge1xuICAgICAgICAgIGRzdFggPSAtc3JjWDtcbiAgICAgICAgICBzcmNYID0gMDtcbiAgICAgICAgICBzcmNXaWR0aCA9IGRzdFdpZHRoID0gbWluKHNvdXJjZVdpZHRoLCBvcmlnaW5hbFdpZHRoICsgc3JjWCk7XG4gICAgICAgIH0gZWxzZSBpZiAoc3JjWCA8PSBzb3VyY2VXaWR0aCkge1xuICAgICAgICAgIGRzdFggPSAwO1xuICAgICAgICAgIHNyY1dpZHRoID0gZHN0V2lkdGggPSBtaW4ob3JpZ2luYWxXaWR0aCwgc291cmNlV2lkdGggLSBzcmNYKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChzcmNXaWR0aCA8PSAwIHx8IHNyY1kgPD0gLW9yaWdpbmFsSGVpZ2h0IHx8IHNyY1kgPiBzb3VyY2VIZWlnaHQpIHtcbiAgICAgICAgICBzcmNZID0gc3JjSGVpZ2h0ID0gZHN0WSA9IGRzdEhlaWdodCA9IDA7XG4gICAgICAgIH0gZWxzZSBpZiAoc3JjWSA8PSAwKSB7XG4gICAgICAgICAgZHN0WSA9IC1zcmNZO1xuICAgICAgICAgIHNyY1kgPSAwO1xuICAgICAgICAgIHNyY0hlaWdodCA9IGRzdEhlaWdodCA9IG1pbihzb3VyY2VIZWlnaHQsIG9yaWdpbmFsSGVpZ2h0ICsgc3JjWSk7XG4gICAgICAgIH0gZWxzZSBpZiAoc3JjWSA8PSBzb3VyY2VIZWlnaHQpIHtcbiAgICAgICAgICBkc3RZID0gMDtcbiAgICAgICAgICBzcmNIZWlnaHQgPSBkc3RIZWlnaHQgPSBtaW4ob3JpZ2luYWxIZWlnaHQsIHNvdXJjZUhlaWdodCAtIHNyY1kpO1xuICAgICAgICB9XG5cbiAgICAgICAgYXJncy5wdXNoKHNyY1gsIHNyY1ksIHNyY1dpZHRoLCBzcmNIZWlnaHQpO1xuXG4gICAgICAgIC8vIFNjYWxlIGRlc3RpbmF0aW9uIHNpemVzXG4gICAgICAgIGlmIChzY2FsZWRSYXRpbykge1xuICAgICAgICAgIGRzdFggKj0gc2NhbGVkUmF0aW87XG4gICAgICAgICAgZHN0WSAqPSBzY2FsZWRSYXRpbztcbiAgICAgICAgICBkc3RXaWR0aCAqPSBzY2FsZWRSYXRpbztcbiAgICAgICAgICBkc3RIZWlnaHQgKj0gc2NhbGVkUmF0aW87XG4gICAgICAgIH1cblxuICAgICAgICAvLyBBdm9pZCBcIkluZGV4U2l6ZUVycm9yXCIgaW4gSUUgYW5kIEZpcmVmb3hcbiAgICAgICAgaWYgKGRzdFdpZHRoID4gMCAmJiBkc3RIZWlnaHQgPiAwKSB7XG4gICAgICAgICAgYXJncy5wdXNoKGRzdFgsIGRzdFksIGRzdFdpZHRoLCBkc3RIZWlnaHQpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGFyZ3M7XG4gICAgICB9KS5jYWxsKHRoaXMpKTtcblxuICAgICAgcmV0dXJuIGNhbnZhcztcbiAgICB9LFxuXG4gICAgc2V0QXNwZWN0UmF0aW86IGZ1bmN0aW9uIChhc3BlY3RSYXRpbykge1xuICAgICAgdmFyIG9wdGlvbnMgPSB0aGlzLm9wdGlvbnM7XG5cbiAgICAgIGlmICghdGhpcy5kaXNhYmxlZCAmJiAhaXNVbmRlZmluZWQoYXNwZWN0UmF0aW8pKSB7XG4gICAgICAgIG9wdGlvbnMuYXNwZWN0UmF0aW8gPSBudW0oYXNwZWN0UmF0aW8pIHx8IE5hTjsgLy8gMCAtPiBOYU5cblxuICAgICAgICBpZiAodGhpcy5idWlsdCkge1xuICAgICAgICAgIHRoaXMuaW5pdENyb3BCb3goKTtcblxuICAgICAgICAgIGlmICh0aGlzLmNyb3BwZWQpIHtcbiAgICAgICAgICAgIHRoaXMucmVuZGVyQ3JvcEJveCgpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sXG5cbiAgICBzZXREcmFnTW9kZTogZnVuY3Rpb24gKG1vZGUpIHtcbiAgICAgIHZhciBvcHRpb25zID0gdGhpcy5vcHRpb25zLFxuICAgICAgICAgIGNyb3BwYWJsZSxcbiAgICAgICAgICBtb3ZhYmxlO1xuXG4gICAgICBpZiAodGhpcy5yZWFkeSAmJiAhdGhpcy5kaXNhYmxlZCkge1xuICAgICAgICBjcm9wcGFibGUgPSBvcHRpb25zLmRyYWdDcm9wICYmIG1vZGUgPT09ICdjcm9wJztcbiAgICAgICAgbW92YWJsZSA9IG9wdGlvbnMubW92YWJsZSAmJiBtb2RlID09PSAnbW92ZSc7XG4gICAgICAgIG1vZGUgPSAoY3JvcHBhYmxlIHx8IG1vdmFibGUpID8gbW9kZSA6ICdub25lJztcblxuICAgICAgICB0aGlzLiRkcmFnQm94LmRhdGEoJ2RyYWcnLCBtb2RlKS50b2dnbGVDbGFzcyhDTEFTU19DUk9QLCBjcm9wcGFibGUpLnRvZ2dsZUNsYXNzKENMQVNTX01PVkUsIG1vdmFibGUpO1xuXG4gICAgICAgIGlmICghb3B0aW9ucy5jcm9wQm94TW92YWJsZSkge1xuICAgICAgICAgIC8vIFN5bmMgZHJhZyBtb2RlIHRvIGNyb3AgYm94IHdoZW4gaXQgaXMgbm90IG1vdmFibGUoIzMwMClcbiAgICAgICAgICB0aGlzLiRmYWNlLmRhdGEoJ2RyYWcnLCBtb2RlKS50b2dnbGVDbGFzcyhDTEFTU19DUk9QLCBjcm9wcGFibGUpLnRvZ2dsZUNsYXNzKENMQVNTX01PVkUsIG1vdmFibGUpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9KTtcblxuICBwcm90b3R5cGUuY2hhbmdlID0gZnVuY3Rpb24gKHNoaWZ0S2V5KSB7XG4gICAgdmFyIGRyYWdUeXBlID0gdGhpcy5kcmFnVHlwZSxcbiAgICAgICAgb3B0aW9ucyA9IHRoaXMub3B0aW9ucyxcbiAgICAgICAgY2FudmFzID0gdGhpcy5jYW52YXMsXG4gICAgICAgIGNvbnRhaW5lciA9IHRoaXMuY29udGFpbmVyLFxuICAgICAgICBjcm9wQm94ID0gdGhpcy5jcm9wQm94LFxuICAgICAgICB3aWR0aCA9IGNyb3BCb3gud2lkdGgsXG4gICAgICAgIGhlaWdodCA9IGNyb3BCb3guaGVpZ2h0LFxuICAgICAgICBsZWZ0ID0gY3JvcEJveC5sZWZ0LFxuICAgICAgICB0b3AgPSBjcm9wQm94LnRvcCxcbiAgICAgICAgcmlnaHQgPSBsZWZ0ICsgd2lkdGgsXG4gICAgICAgIGJvdHRvbSA9IHRvcCArIGhlaWdodCxcbiAgICAgICAgbWluTGVmdCA9IDAsXG4gICAgICAgIG1pblRvcCA9IDAsXG4gICAgICAgIG1heFdpZHRoID0gY29udGFpbmVyLndpZHRoLFxuICAgICAgICBtYXhIZWlnaHQgPSBjb250YWluZXIuaGVpZ2h0LFxuICAgICAgICByZW5kZXJhYmxlID0gdHJ1ZSxcbiAgICAgICAgYXNwZWN0UmF0aW8gPSBvcHRpb25zLmFzcGVjdFJhdGlvLFxuICAgICAgICByYW5nZSA9IHtcbiAgICAgICAgICB4OiB0aGlzLmVuZFggLSB0aGlzLnN0YXJ0WCxcbiAgICAgICAgICB5OiB0aGlzLmVuZFkgLSB0aGlzLnN0YXJ0WVxuICAgICAgICB9LFxuICAgICAgICBvZmZzZXQ7XG5cbiAgICAvLyBMb2NraW5nIGFzcGVjdCByYXRpbyBpbiBcImZyZWUgbW9kZVwiIGJ5IGhvbGRpbmcgc2hpZnQga2V5ICgjMjU5KVxuICAgIGlmICghYXNwZWN0UmF0aW8gJiYgc2hpZnRLZXkpIHtcbiAgICAgIGFzcGVjdFJhdGlvID0gd2lkdGggJiYgaGVpZ2h0ID8gd2lkdGggLyBoZWlnaHQgOiAxO1xuICAgIH1cblxuICAgIGlmIChvcHRpb25zLnN0cmljdCkge1xuICAgICAgbWluTGVmdCA9IGNyb3BCb3gubWluTGVmdDtcbiAgICAgIG1pblRvcCA9IGNyb3BCb3gubWluVG9wO1xuICAgICAgbWF4V2lkdGggPSBtaW5MZWZ0ICsgbWluKGNvbnRhaW5lci53aWR0aCwgY2FudmFzLndpZHRoKTtcbiAgICAgIG1heEhlaWdodCA9IG1pblRvcCArIG1pbihjb250YWluZXIuaGVpZ2h0LCBjYW52YXMuaGVpZ2h0KTtcbiAgICB9XG5cbiAgICBpZiAoYXNwZWN0UmF0aW8pIHtcbiAgICAgIHJhbmdlLlggPSByYW5nZS55ICogYXNwZWN0UmF0aW87XG4gICAgICByYW5nZS5ZID0gcmFuZ2UueCAvIGFzcGVjdFJhdGlvO1xuICAgIH1cblxuICAgIHN3aXRjaCAoZHJhZ1R5cGUpIHtcbiAgICAgIC8vIE1vdmUgY3JvcEJveFxuICAgICAgY2FzZSAnYWxsJzpcbiAgICAgICAgbGVmdCArPSByYW5nZS54O1xuICAgICAgICB0b3AgKz0gcmFuZ2UueTtcbiAgICAgICAgYnJlYWs7XG5cbiAgICAgIC8vIFJlc2l6ZSBjcm9wQm94XG4gICAgICBjYXNlICdlJzpcbiAgICAgICAgaWYgKHJhbmdlLnggPj0gMCAmJiAocmlnaHQgPj0gbWF4V2lkdGggfHwgYXNwZWN0UmF0aW8gJiYgKHRvcCA8PSBtaW5Ub3AgfHwgYm90dG9tID49IG1heEhlaWdodCkpKSB7XG4gICAgICAgICAgcmVuZGVyYWJsZSA9IGZhbHNlO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG5cbiAgICAgICAgd2lkdGggKz0gcmFuZ2UueDtcblxuICAgICAgICBpZiAoYXNwZWN0UmF0aW8pIHtcbiAgICAgICAgICBoZWlnaHQgPSB3aWR0aCAvIGFzcGVjdFJhdGlvO1xuICAgICAgICAgIHRvcCAtPSByYW5nZS5ZIC8gMjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh3aWR0aCA8IDApIHtcbiAgICAgICAgICBkcmFnVHlwZSA9ICd3JztcbiAgICAgICAgICB3aWR0aCA9IDA7XG4gICAgICAgIH1cblxuICAgICAgICBicmVhaztcblxuICAgICAgY2FzZSAnbic6XG4gICAgICAgIGlmIChyYW5nZS55IDw9IDAgJiYgKHRvcCA8PSBtaW5Ub3AgfHwgYXNwZWN0UmF0aW8gJiYgKGxlZnQgPD0gbWluTGVmdCB8fCByaWdodCA+PSBtYXhXaWR0aCkpKSB7XG4gICAgICAgICAgcmVuZGVyYWJsZSA9IGZhbHNlO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG5cbiAgICAgICAgaGVpZ2h0IC09IHJhbmdlLnk7XG4gICAgICAgIHRvcCArPSByYW5nZS55O1xuXG4gICAgICAgIGlmIChhc3BlY3RSYXRpbykge1xuICAgICAgICAgIHdpZHRoID0gaGVpZ2h0ICogYXNwZWN0UmF0aW87XG4gICAgICAgICAgbGVmdCArPSByYW5nZS5YIC8gMjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChoZWlnaHQgPCAwKSB7XG4gICAgICAgICAgZHJhZ1R5cGUgPSAncyc7XG4gICAgICAgICAgaGVpZ2h0ID0gMDtcbiAgICAgICAgfVxuXG4gICAgICAgIGJyZWFrO1xuXG4gICAgICBjYXNlICd3JzpcbiAgICAgICAgaWYgKHJhbmdlLnggPD0gMCAmJiAobGVmdCA8PSBtaW5MZWZ0IHx8IGFzcGVjdFJhdGlvICYmICh0b3AgPD0gbWluVG9wIHx8IGJvdHRvbSA+PSBtYXhIZWlnaHQpKSkge1xuICAgICAgICAgIHJlbmRlcmFibGUgPSBmYWxzZTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuXG4gICAgICAgIHdpZHRoIC09IHJhbmdlLng7XG4gICAgICAgIGxlZnQgKz0gcmFuZ2UueDtcblxuICAgICAgICBpZiAoYXNwZWN0UmF0aW8pIHtcbiAgICAgICAgICBoZWlnaHQgPSB3aWR0aCAvIGFzcGVjdFJhdGlvO1xuICAgICAgICAgIHRvcCArPSByYW5nZS5ZIC8gMjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh3aWR0aCA8IDApIHtcbiAgICAgICAgICBkcmFnVHlwZSA9ICdlJztcbiAgICAgICAgICB3aWR0aCA9IDA7XG4gICAgICAgIH1cblxuICAgICAgICBicmVhaztcblxuICAgICAgY2FzZSAncyc6XG4gICAgICAgIGlmIChyYW5nZS55ID49IDAgJiYgKGJvdHRvbSA+PSBtYXhIZWlnaHQgfHwgYXNwZWN0UmF0aW8gJiYgKGxlZnQgPD0gbWluTGVmdCB8fCByaWdodCA+PSBtYXhXaWR0aCkpKSB7XG4gICAgICAgICAgcmVuZGVyYWJsZSA9IGZhbHNlO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG5cbiAgICAgICAgaGVpZ2h0ICs9IHJhbmdlLnk7XG5cbiAgICAgICAgaWYgKGFzcGVjdFJhdGlvKSB7XG4gICAgICAgICAgd2lkdGggPSBoZWlnaHQgKiBhc3BlY3RSYXRpbztcbiAgICAgICAgICBsZWZ0IC09IHJhbmdlLlggLyAyO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGhlaWdodCA8IDApIHtcbiAgICAgICAgICBkcmFnVHlwZSA9ICduJztcbiAgICAgICAgICBoZWlnaHQgPSAwO1xuICAgICAgICB9XG5cbiAgICAgICAgYnJlYWs7XG5cbiAgICAgIGNhc2UgJ25lJzpcbiAgICAgICAgaWYgKGFzcGVjdFJhdGlvKSB7XG4gICAgICAgICAgaWYgKHJhbmdlLnkgPD0gMCAmJiAodG9wIDw9IG1pblRvcCB8fCByaWdodCA+PSBtYXhXaWR0aCkpIHtcbiAgICAgICAgICAgIHJlbmRlcmFibGUgPSBmYWxzZTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGhlaWdodCAtPSByYW5nZS55O1xuICAgICAgICAgIHRvcCArPSByYW5nZS55O1xuICAgICAgICAgIHdpZHRoID0gaGVpZ2h0ICogYXNwZWN0UmF0aW87XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgaWYgKHJhbmdlLnggPj0gMCkge1xuICAgICAgICAgICAgaWYgKHJpZ2h0IDwgbWF4V2lkdGgpIHtcbiAgICAgICAgICAgICAgd2lkdGggKz0gcmFuZ2UueDtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAocmFuZ2UueSA8PSAwICYmIHRvcCA8PSBtaW5Ub3ApIHtcbiAgICAgICAgICAgICAgcmVuZGVyYWJsZSA9IGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB3aWR0aCArPSByYW5nZS54O1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmIChyYW5nZS55IDw9IDApIHtcbiAgICAgICAgICAgIGlmICh0b3AgPiBtaW5Ub3ApIHtcbiAgICAgICAgICAgICAgaGVpZ2h0IC09IHJhbmdlLnk7XG4gICAgICAgICAgICAgIHRvcCArPSByYW5nZS55O1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBoZWlnaHQgLT0gcmFuZ2UueTtcbiAgICAgICAgICAgIHRvcCArPSByYW5nZS55O1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh3aWR0aCA8IDAgJiYgaGVpZ2h0IDwgMCkge1xuICAgICAgICAgIGRyYWdUeXBlID0gJ3N3JztcbiAgICAgICAgICBoZWlnaHQgPSAwO1xuICAgICAgICAgIHdpZHRoID0gMDtcbiAgICAgICAgfSBlbHNlIGlmICh3aWR0aCA8IDApIHtcbiAgICAgICAgICBkcmFnVHlwZSA9ICdudyc7XG4gICAgICAgICAgd2lkdGggPSAwO1xuICAgICAgICB9IGVsc2UgaWYgKGhlaWdodCA8IDApIHtcbiAgICAgICAgICBkcmFnVHlwZSA9ICdzZSc7XG4gICAgICAgICAgaGVpZ2h0ID0gMDtcbiAgICAgICAgfVxuXG4gICAgICAgIGJyZWFrO1xuXG4gICAgICBjYXNlICdudyc6XG4gICAgICAgIGlmIChhc3BlY3RSYXRpbykge1xuICAgICAgICAgIGlmIChyYW5nZS55IDw9IDAgJiYgKHRvcCA8PSBtaW5Ub3AgfHwgbGVmdCA8PSBtaW5MZWZ0KSkge1xuICAgICAgICAgICAgcmVuZGVyYWJsZSA9IGZhbHNlO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaGVpZ2h0IC09IHJhbmdlLnk7XG4gICAgICAgICAgdG9wICs9IHJhbmdlLnk7XG4gICAgICAgICAgd2lkdGggPSBoZWlnaHQgKiBhc3BlY3RSYXRpbztcbiAgICAgICAgICBsZWZ0ICs9IHJhbmdlLlg7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgaWYgKHJhbmdlLnggPD0gMCkge1xuICAgICAgICAgICAgaWYgKGxlZnQgPiBtaW5MZWZ0KSB7XG4gICAgICAgICAgICAgIHdpZHRoIC09IHJhbmdlLng7XG4gICAgICAgICAgICAgIGxlZnQgKz0gcmFuZ2UueDtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAocmFuZ2UueSA8PSAwICYmIHRvcCA8PSBtaW5Ub3ApIHtcbiAgICAgICAgICAgICAgcmVuZGVyYWJsZSA9IGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB3aWR0aCAtPSByYW5nZS54O1xuICAgICAgICAgICAgbGVmdCArPSByYW5nZS54O1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmIChyYW5nZS55IDw9IDApIHtcbiAgICAgICAgICAgIGlmICh0b3AgPiBtaW5Ub3ApIHtcbiAgICAgICAgICAgICAgaGVpZ2h0IC09IHJhbmdlLnk7XG4gICAgICAgICAgICAgIHRvcCArPSByYW5nZS55O1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBoZWlnaHQgLT0gcmFuZ2UueTtcbiAgICAgICAgICAgIHRvcCArPSByYW5nZS55O1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh3aWR0aCA8IDAgJiYgaGVpZ2h0IDwgMCkge1xuICAgICAgICAgIGRyYWdUeXBlID0gJ3NlJztcbiAgICAgICAgICBoZWlnaHQgPSAwO1xuICAgICAgICAgIHdpZHRoID0gMDtcbiAgICAgICAgfSBlbHNlIGlmICh3aWR0aCA8IDApIHtcbiAgICAgICAgICBkcmFnVHlwZSA9ICduZSc7XG4gICAgICAgICAgd2lkdGggPSAwO1xuICAgICAgICB9IGVsc2UgaWYgKGhlaWdodCA8IDApIHtcbiAgICAgICAgICBkcmFnVHlwZSA9ICdzdyc7XG4gICAgICAgICAgaGVpZ2h0ID0gMDtcbiAgICAgICAgfVxuXG4gICAgICAgIGJyZWFrO1xuXG4gICAgICBjYXNlICdzdyc6XG4gICAgICAgIGlmIChhc3BlY3RSYXRpbykge1xuICAgICAgICAgIGlmIChyYW5nZS54IDw9IDAgJiYgKGxlZnQgPD0gbWluTGVmdCB8fCBib3R0b20gPj0gbWF4SGVpZ2h0KSkge1xuICAgICAgICAgICAgcmVuZGVyYWJsZSA9IGZhbHNlO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgd2lkdGggLT0gcmFuZ2UueDtcbiAgICAgICAgICBsZWZ0ICs9IHJhbmdlLng7XG4gICAgICAgICAgaGVpZ2h0ID0gd2lkdGggLyBhc3BlY3RSYXRpbztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBpZiAocmFuZ2UueCA8PSAwKSB7XG4gICAgICAgICAgICBpZiAobGVmdCA+IG1pbkxlZnQpIHtcbiAgICAgICAgICAgICAgd2lkdGggLT0gcmFuZ2UueDtcbiAgICAgICAgICAgICAgbGVmdCArPSByYW5nZS54O1xuICAgICAgICAgICAgfSBlbHNlIGlmIChyYW5nZS55ID49IDAgJiYgYm90dG9tID49IG1heEhlaWdodCkge1xuICAgICAgICAgICAgICByZW5kZXJhYmxlID0gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHdpZHRoIC09IHJhbmdlLng7XG4gICAgICAgICAgICBsZWZ0ICs9IHJhbmdlLng7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYgKHJhbmdlLnkgPj0gMCkge1xuICAgICAgICAgICAgaWYgKGJvdHRvbSA8IG1heEhlaWdodCkge1xuICAgICAgICAgICAgICBoZWlnaHQgKz0gcmFuZ2UueTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaGVpZ2h0ICs9IHJhbmdlLnk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHdpZHRoIDwgMCAmJiBoZWlnaHQgPCAwKSB7XG4gICAgICAgICAgZHJhZ1R5cGUgPSAnbmUnO1xuICAgICAgICAgIGhlaWdodCA9IDA7XG4gICAgICAgICAgd2lkdGggPSAwO1xuICAgICAgICB9IGVsc2UgaWYgKHdpZHRoIDwgMCkge1xuICAgICAgICAgIGRyYWdUeXBlID0gJ3NlJztcbiAgICAgICAgICB3aWR0aCA9IDA7XG4gICAgICAgIH0gZWxzZSBpZiAoaGVpZ2h0IDwgMCkge1xuICAgICAgICAgIGRyYWdUeXBlID0gJ253JztcbiAgICAgICAgICBoZWlnaHQgPSAwO1xuICAgICAgICB9XG5cbiAgICAgICAgYnJlYWs7XG5cbiAgICAgIGNhc2UgJ3NlJzpcbiAgICAgICAgaWYgKGFzcGVjdFJhdGlvKSB7XG4gICAgICAgICAgaWYgKHJhbmdlLnggPj0gMCAmJiAocmlnaHQgPj0gbWF4V2lkdGggfHwgYm90dG9tID49IG1heEhlaWdodCkpIHtcbiAgICAgICAgICAgIHJlbmRlcmFibGUgPSBmYWxzZTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIHdpZHRoICs9IHJhbmdlLng7XG4gICAgICAgICAgaGVpZ2h0ID0gd2lkdGggLyBhc3BlY3RSYXRpbztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBpZiAocmFuZ2UueCA+PSAwKSB7XG4gICAgICAgICAgICBpZiAocmlnaHQgPCBtYXhXaWR0aCkge1xuICAgICAgICAgICAgICB3aWR0aCArPSByYW5nZS54O1xuICAgICAgICAgICAgfSBlbHNlIGlmIChyYW5nZS55ID49IDAgJiYgYm90dG9tID49IG1heEhlaWdodCkge1xuICAgICAgICAgICAgICByZW5kZXJhYmxlID0gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHdpZHRoICs9IHJhbmdlLng7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYgKHJhbmdlLnkgPj0gMCkge1xuICAgICAgICAgICAgaWYgKGJvdHRvbSA8IG1heEhlaWdodCkge1xuICAgICAgICAgICAgICBoZWlnaHQgKz0gcmFuZ2UueTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaGVpZ2h0ICs9IHJhbmdlLnk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHdpZHRoIDwgMCAmJiBoZWlnaHQgPCAwKSB7XG4gICAgICAgICAgZHJhZ1R5cGUgPSAnbncnO1xuICAgICAgICAgIGhlaWdodCA9IDA7XG4gICAgICAgICAgd2lkdGggPSAwO1xuICAgICAgICB9IGVsc2UgaWYgKHdpZHRoIDwgMCkge1xuICAgICAgICAgIGRyYWdUeXBlID0gJ3N3JztcbiAgICAgICAgICB3aWR0aCA9IDA7XG4gICAgICAgIH0gZWxzZSBpZiAoaGVpZ2h0IDwgMCkge1xuICAgICAgICAgIGRyYWdUeXBlID0gJ25lJztcbiAgICAgICAgICBoZWlnaHQgPSAwO1xuICAgICAgICB9XG5cbiAgICAgICAgYnJlYWs7XG5cbiAgICAgIC8vIE1vdmUgaW1hZ2VcbiAgICAgIGNhc2UgJ21vdmUnOlxuICAgICAgICBjYW52YXMubGVmdCArPSByYW5nZS54O1xuICAgICAgICBjYW52YXMudG9wICs9IHJhbmdlLnk7XG4gICAgICAgIHRoaXMucmVuZGVyQ2FudmFzKHRydWUpO1xuICAgICAgICByZW5kZXJhYmxlID0gZmFsc2U7XG4gICAgICAgIGJyZWFrO1xuXG4gICAgICAvLyBTY2FsZSBpbWFnZVxuICAgICAgY2FzZSAnem9vbSc6XG4gICAgICAgIHRoaXMuem9vbShmdW5jdGlvbiAoeDEsIHkxLCB4MiwgeTIpIHtcbiAgICAgICAgICB2YXIgejEgPSBzcXJ0KHgxICogeDEgKyB5MSAqIHkxKSxcbiAgICAgICAgICAgICAgejIgPSBzcXJ0KHgyICogeDIgKyB5MiAqIHkyKTtcblxuICAgICAgICAgIHJldHVybiAoejIgLSB6MSkgLyB6MTtcbiAgICAgICAgfShcbiAgICAgICAgICBhYnModGhpcy5zdGFydFggLSB0aGlzLnN0YXJ0WDIpLFxuICAgICAgICAgIGFicyh0aGlzLnN0YXJ0WSAtIHRoaXMuc3RhcnRZMiksXG4gICAgICAgICAgYWJzKHRoaXMuZW5kWCAtIHRoaXMuZW5kWDIpLFxuICAgICAgICAgIGFicyh0aGlzLmVuZFkgLSB0aGlzLmVuZFkyKVxuICAgICAgICApKTtcblxuICAgICAgICB0aGlzLnN0YXJ0WDIgPSB0aGlzLmVuZFgyO1xuICAgICAgICB0aGlzLnN0YXJ0WTIgPSB0aGlzLmVuZFkyO1xuICAgICAgICByZW5kZXJhYmxlID0gZmFsc2U7XG4gICAgICAgIGJyZWFrO1xuXG4gICAgICAvLyBDcm9wIGltYWdlXG4gICAgICBjYXNlICdjcm9wJzpcbiAgICAgICAgaWYgKHJhbmdlLnggJiYgcmFuZ2UueSkge1xuICAgICAgICAgIG9mZnNldCA9IHRoaXMuJGNyb3BwZXIub2Zmc2V0KCk7XG4gICAgICAgICAgbGVmdCA9IHRoaXMuc3RhcnRYIC0gb2Zmc2V0LmxlZnQ7XG4gICAgICAgICAgdG9wID0gdGhpcy5zdGFydFkgLSBvZmZzZXQudG9wO1xuICAgICAgICAgIHdpZHRoID0gY3JvcEJveC5taW5XaWR0aDtcbiAgICAgICAgICBoZWlnaHQgPSBjcm9wQm94Lm1pbkhlaWdodDtcblxuICAgICAgICAgIGlmIChyYW5nZS54ID4gMCkge1xuICAgICAgICAgICAgaWYgKHJhbmdlLnkgPiAwKSB7XG4gICAgICAgICAgICAgIGRyYWdUeXBlID0gJ3NlJztcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIGRyYWdUeXBlID0gJ25lJztcbiAgICAgICAgICAgICAgdG9wIC09IGhlaWdodDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaWYgKHJhbmdlLnkgPiAwKSB7XG4gICAgICAgICAgICAgIGRyYWdUeXBlID0gJ3N3JztcbiAgICAgICAgICAgICAgbGVmdCAtPSB3aWR0aDtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIGRyYWdUeXBlID0gJ253JztcbiAgICAgICAgICAgICAgbGVmdCAtPSB3aWR0aDtcbiAgICAgICAgICAgICAgdG9wIC09IGhlaWdodDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG5cbiAgICAgICAgICAvLyBTaG93IHRoZSBjcm9wQm94IGlmIGlzIGhpZGRlblxuICAgICAgICAgIGlmICghdGhpcy5jcm9wcGVkKSB7XG4gICAgICAgICAgICB0aGlzLmNyb3BwZWQgPSB0cnVlO1xuICAgICAgICAgICAgdGhpcy4kY3JvcEJveC5yZW1vdmVDbGFzcyhDTEFTU19ISURERU4pO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGJyZWFrO1xuXG4gICAgICAvLyBObyBkZWZhdWx0XG4gICAgfVxuXG4gICAgaWYgKHJlbmRlcmFibGUpIHtcbiAgICAgIGNyb3BCb3gud2lkdGggPSB3aWR0aDtcbiAgICAgIGNyb3BCb3guaGVpZ2h0ID0gaGVpZ2h0O1xuICAgICAgY3JvcEJveC5sZWZ0ID0gbGVmdDtcbiAgICAgIGNyb3BCb3gudG9wID0gdG9wO1xuICAgICAgdGhpcy5kcmFnVHlwZSA9IGRyYWdUeXBlO1xuXG4gICAgICB0aGlzLnJlbmRlckNyb3BCb3goKTtcbiAgICB9XG5cbiAgICAvLyBPdmVycmlkZVxuICAgIHRoaXMuc3RhcnRYID0gdGhpcy5lbmRYO1xuICAgIHRoaXMuc3RhcnRZID0gdGhpcy5lbmRZO1xuICB9O1xuXG4gICQuZXh0ZW5kKENyb3BwZXIucHJvdG90eXBlLCBwcm90b3R5cGUpO1xuXG4gIENyb3BwZXIuREVGQVVMVFMgPSB7XG4gICAgLy8gRGVmaW5lcyB0aGUgYXNwZWN0IHJhdGlvIG9mIHRoZSBjcm9wIGJveFxuICAgIC8vIFR5cGU6IE51bWJlclxuICAgIGFzcGVjdFJhdGlvOiBOYU4sXG5cbiAgICAvLyBEZWZpbmVzIHRoZSBwZXJjZW50YWdlIG9mIGF1dG9tYXRpYyBjcm9wcGluZyBhcmVhIHdoZW4gaW5pdGlhbGl6ZXNcbiAgICAvLyBUeXBlOiBOdW1iZXIgKE11c3QgbGFyZ2UgdGhhbiAwIGFuZCBsZXNzIHRoYW4gMSlcbiAgICBhdXRvQ3JvcEFyZWE6IDAuOCwgLy8gODAlXG5cbiAgICAvLyBPdXRwdXRzIHRoZSBjcm9wcGluZyByZXN1bHRzLlxuICAgIC8vIFR5cGU6IEZ1bmN0aW9uXG4gICAgY3JvcDogbnVsbCxcblxuICAgIC8vIFByZXZpb3VzL2xhdGVzdCBjcm9wIGRhdGFcbiAgICAvLyBUeXBlOiBPYmplY3RcbiAgICBkYXRhOiBudWxsLFxuXG4gICAgLy8gQWRkIGV4dHJhIGNvbnRhaW5lcnMgZm9yIHByZXZpZXdpbmdcbiAgICAvLyBUeXBlOiBTdHJpbmcgKGpRdWVyeSBzZWxlY3RvcilcbiAgICBwcmV2aWV3OiAnJyxcblxuICAgIC8vIFRvZ2dsZXNcbiAgICBzdHJpY3Q6IHRydWUsIC8vIHN0cmljdCBtb2RlLCB0aGUgaW1hZ2UgY2Fubm90IHpvb20gb3V0IGxlc3MgdGhhbiB0aGUgY29udGFpbmVyXG4gICAgcmVzcG9uc2l2ZTogdHJ1ZSwgLy8gUmVidWlsZCB3aGVuIHJlc2l6ZSB0aGUgd2luZG93XG4gICAgY2hlY2tJbWFnZU9yaWdpbjogdHJ1ZSwgLy8gQ2hlY2sgaWYgdGhlIHRhcmdldCBpbWFnZSBpcyBjcm9zcyBvcmlnaW5cblxuICAgIG1vZGFsOiB0cnVlLCAvLyBTaG93IHRoZSBibGFjayBtb2RhbFxuICAgIGd1aWRlczogdHJ1ZSwgLy8gU2hvdyB0aGUgZGFzaGVkIGxpbmVzIGZvciBndWlkaW5nXG4gICAgaGlnaGxpZ2h0OiB0cnVlLCAvLyBTaG93IHRoZSB3aGl0ZSBtb2RhbCB0byBoaWdobGlnaHQgdGhlIGNyb3AgYm94XG4gICAgYmFja2dyb3VuZDogdHJ1ZSwgLy8gU2hvdyB0aGUgZ3JpZCBiYWNrZ3JvdW5kXG5cbiAgICBhdXRvQ3JvcDogdHJ1ZSwgLy8gRW5hYmxlIHRvIGNyb3AgdGhlIGltYWdlIGF1dG9tYXRpY2FsbHkgd2hlbiBpbml0aWFsaXplXG4gICAgZHJhZ0Nyb3A6IHRydWUsIC8vIEVuYWJsZSB0byBjcmVhdGUgbmV3IGNyb3AgYm94IGJ5IGRyYWdnaW5nIG92ZXIgdGhlIGltYWdlXG4gICAgbW92YWJsZTogdHJ1ZSwgLy8gRW5hYmxlIHRvIG1vdmUgdGhlIGltYWdlXG4gICAgcm90YXRhYmxlOiB0cnVlLCAvLyBFbmFibGUgdG8gcm90YXRlIHRoZSBpbWFnZVxuICAgIHpvb21hYmxlOiB0cnVlLCAvLyBFbmFibGUgdG8gem9vbSB0aGUgaW1hZ2VcbiAgICB0b3VjaERyYWdab29tOiB0cnVlLCAvLyBFbmFibGUgdG8gem9vbSB0aGUgaW1hZ2UgYnkgd2hlZWxpbmcgbW91c2VcbiAgICBtb3VzZVdoZWVsWm9vbTogdHJ1ZSwgLy8gRW5hYmxlIHRvIHpvb20gdGhlIGltYWdlIGJ5IGRyYWdnaW5nIHRvdWNoXG4gICAgY3JvcEJveE1vdmFibGU6IHRydWUsIC8vIEVuYWJsZSB0byBtb3ZlIHRoZSBjcm9wIGJveFxuICAgIGNyb3BCb3hSZXNpemFibGU6IHRydWUsIC8vIEVuYWJsZSB0byByZXNpemUgdGhlIGNyb3AgYm94XG4gICAgZG91YmxlQ2xpY2tUb2dnbGU6IHRydWUsIC8vIFRvZ2dsZSBkcmFnIG1vZGUgYmV0d2VlbiBcImNyb3BcIiBhbmQgXCJtb3ZlXCIgd2hlbiBkb3VibGUgY2xpY2sgb24gdGhlIGNyb3BwZXJcblxuICAgIC8vIERpbWVuc2lvbnNcbiAgICBtaW5DYW52YXNXaWR0aDogMCxcbiAgICBtaW5DYW52YXNIZWlnaHQ6IDAsXG4gICAgbWluQ3JvcEJveFdpZHRoOiAwLFxuICAgIG1pbkNyb3BCb3hIZWlnaHQ6IDAsXG4gICAgbWluQ29udGFpbmVyV2lkdGg6IDIwMCxcbiAgICBtaW5Db250YWluZXJIZWlnaHQ6IDEwMCxcblxuICAgIC8vIEV2ZW50c1xuICAgIGJ1aWxkOiBudWxsLCAvLyBGdW5jdGlvblxuICAgIGJ1aWx0OiBudWxsLCAvLyBGdW5jdGlvblxuICAgIGRyYWdzdGFydDogbnVsbCwgLy8gRnVuY3Rpb25cbiAgICBkcmFnbW92ZTogbnVsbCwgLy8gRnVuY3Rpb25cbiAgICBkcmFnZW5kOiBudWxsLCAvLyBGdW5jdGlvblxuICAgIHpvb21pbjogbnVsbCwgLy8gRnVuY3Rpb25cbiAgICB6b29tb3V0OiBudWxsLCAvLyBGdW5jdGlvblxuICAgIGNoYW5nZTogbnVsbCAvLyBGdW5jdGlvblxuICB9O1xuXG4gIENyb3BwZXIuc2V0RGVmYXVsdHMgPSBmdW5jdGlvbiAob3B0aW9ucykge1xuICAgICQuZXh0ZW5kKENyb3BwZXIuREVGQVVMVFMsIG9wdGlvbnMpO1xuICB9O1xuXG4gIC8vIFVzZSB0aGUgc3RyaW5nIGNvbXByZXNzb3I6IFN0cm1pbiAoaHR0cHM6Ly9naXRodWIuY29tL2Zlbmd5dWFuY2hlbi9zdHJtaW4pXG4gIENyb3BwZXIuVEVNUExBVEUgPSAoZnVuY3Rpb24gKHNvdXJjZSwgd29yZHMpIHtcbiAgICB3b3JkcyA9IHdvcmRzLnNwbGl0KCcsJyk7XG4gICAgcmV0dXJuIHNvdXJjZS5yZXBsYWNlKC9cXGQrL2csIGZ1bmN0aW9uIChpKSB7XG4gICAgICByZXR1cm4gd29yZHNbaV07XG4gICAgfSk7XG4gIH0pKCc8MCA2PVwiNS1jb250YWluZXJcIj48MCA2PVwiNS1jYW52YXNcIj48LzA+PDAgNj1cIjUtMi05XCI+PC8wPjwwIDY9XCI1LWNyb3AtOVwiPjwxIDY9XCI1LXZpZXctOVwiPjwvMT48MSA2PVwiNS04IDgtaFwiPjwvMT48MSA2PVwiNS04IDgtdlwiPjwvMT48MSA2PVwiNS1mYWNlXCI+PC8xPjwxIDY9XCI1LTcgNy1lXCIgMy0yPVwiZVwiPjwvMT48MSA2PVwiNS03IDctblwiIDMtMj1cIm5cIj48LzE+PDEgNj1cIjUtNyA3LXdcIiAzLTI9XCJ3XCI+PC8xPjwxIDY9XCI1LTcgNy1zXCIgMy0yPVwic1wiPjwvMT48MSA2PVwiNS00IDQtZVwiIDMtMj1cImVcIj48LzE+PDEgNj1cIjUtNCA0LW5cIiAzLTI9XCJuXCI+PC8xPjwxIDY9XCI1LTQgNC13XCIgMy0yPVwid1wiPjwvMT48MSA2PVwiNS00IDQtc1wiIDMtMj1cInNcIj48LzE+PDEgNj1cIjUtNCA0LW5lXCIgMy0yPVwibmVcIj48LzE+PDEgNj1cIjUtNCA0LW53XCIgMy0yPVwibndcIj48LzE+PDEgNj1cIjUtNCA0LXN3XCIgMy0yPVwic3dcIj48LzE+PDEgNj1cIjUtNCA0LXNlXCIgMy0yPVwic2VcIj48LzE+PC8wPjwvMD4nLCAnZGl2LHNwYW4sZHJhZyxkYXRhLHBvaW50LGNyb3BwZXIsY2xhc3MsbGluZSxkYXNoZWQsYm94Jyk7XG5cbiAgLyogVGVtcGxhdGUgc291cmNlOlxuICA8ZGl2IGNsYXNzPVwiY3JvcHBlci1jb250YWluZXJcIj5cbiAgICA8ZGl2IGNsYXNzPVwiY3JvcHBlci1jYW52YXNcIj48L2Rpdj5cbiAgICA8ZGl2IGNsYXNzPVwiY3JvcHBlci1kcmFnLWJveFwiPjwvZGl2PlxuICAgIDxkaXYgY2xhc3M9XCJjcm9wcGVyLWNyb3AtYm94XCI+XG4gICAgICA8c3BhbiBjbGFzcz1cImNyb3BwZXItdmlldy1ib3hcIj48L3NwYW4+XG4gICAgICA8c3BhbiBjbGFzcz1cImNyb3BwZXItZGFzaGVkIGRhc2hlZC1oXCI+PC9zcGFuPlxuICAgICAgPHNwYW4gY2xhc3M9XCJjcm9wcGVyLWRhc2hlZCBkYXNoZWQtdlwiPjwvc3Bhbj5cbiAgICAgIDxzcGFuIGNsYXNzPVwiY3JvcHBlci1mYWNlXCI+PC9zcGFuPlxuICAgICAgPHNwYW4gY2xhc3M9XCJjcm9wcGVyLWxpbmUgbGluZS1lXCIgZGF0YS1kcmFnPVwiZVwiPjwvc3Bhbj5cbiAgICAgIDxzcGFuIGNsYXNzPVwiY3JvcHBlci1saW5lIGxpbmUtblwiIGRhdGEtZHJhZz1cIm5cIj48L3NwYW4+XG4gICAgICA8c3BhbiBjbGFzcz1cImNyb3BwZXItbGluZSBsaW5lLXdcIiBkYXRhLWRyYWc9XCJ3XCI+PC9zcGFuPlxuICAgICAgPHNwYW4gY2xhc3M9XCJjcm9wcGVyLWxpbmUgbGluZS1zXCIgZGF0YS1kcmFnPVwic1wiPjwvc3Bhbj5cbiAgICAgIDxzcGFuIGNsYXNzPVwiY3JvcHBlci1wb2ludCBwb2ludC1lXCIgZGF0YS1kcmFnPVwiZVwiPjwvc3Bhbj5cbiAgICAgIDxzcGFuIGNsYXNzPVwiY3JvcHBlci1wb2ludCBwb2ludC1uXCIgZGF0YS1kcmFnPVwiblwiPjwvc3Bhbj5cbiAgICAgIDxzcGFuIGNsYXNzPVwiY3JvcHBlci1wb2ludCBwb2ludC13XCIgZGF0YS1kcmFnPVwid1wiPjwvc3Bhbj5cbiAgICAgIDxzcGFuIGNsYXNzPVwiY3JvcHBlci1wb2ludCBwb2ludC1zXCIgZGF0YS1kcmFnPVwic1wiPjwvc3Bhbj5cbiAgICAgIDxzcGFuIGNsYXNzPVwiY3JvcHBlci1wb2ludCBwb2ludC1uZVwiIGRhdGEtZHJhZz1cIm5lXCI+PC9zcGFuPlxuICAgICAgPHNwYW4gY2xhc3M9XCJjcm9wcGVyLXBvaW50IHBvaW50LW53XCIgZGF0YS1kcmFnPVwibndcIj48L3NwYW4+XG4gICAgICA8c3BhbiBjbGFzcz1cImNyb3BwZXItcG9pbnQgcG9pbnQtc3dcIiBkYXRhLWRyYWc9XCJzd1wiPjwvc3Bhbj5cbiAgICAgIDxzcGFuIGNsYXNzPVwiY3JvcHBlci1wb2ludCBwb2ludC1zZVwiIGRhdGEtZHJhZz1cInNlXCI+PC9zcGFuPlxuICAgIDwvZGl2PlxuICA8L2Rpdj5cbiAgKi9cblxuICAvLyBTYXZlIHRoZSBvdGhlciBjcm9wcGVyXG4gIENyb3BwZXIub3RoZXIgPSAkLmZuLmNyb3BwZXI7XG5cbiAgLy8gUmVnaXN0ZXIgYXMgalF1ZXJ5IHBsdWdpblxuICAkLmZuLmNyb3BwZXIgPSBmdW5jdGlvbiAob3B0aW9ucykge1xuICAgIHZhciBhcmdzID0gdG9BcnJheShhcmd1bWVudHMsIDEpLFxuICAgICAgICByZXN1bHQ7XG5cbiAgICB0aGlzLmVhY2goZnVuY3Rpb24gKCkge1xuICAgICAgdmFyICR0aGlzID0gJCh0aGlzKSxcbiAgICAgICAgICBkYXRhID0gJHRoaXMuZGF0YSgnY3JvcHBlcicpLFxuICAgICAgICAgIGZuO1xuXG4gICAgICBpZiAoIWRhdGEpIHtcbiAgICAgICAgJHRoaXMuZGF0YSgnY3JvcHBlcicsIChkYXRhID0gbmV3IENyb3BwZXIodGhpcywgb3B0aW9ucykpKTtcbiAgICAgIH1cblxuICAgICAgaWYgKHR5cGVvZiBvcHRpb25zID09PSAnc3RyaW5nJyAmJiAkLmlzRnVuY3Rpb24oKGZuID0gZGF0YVtvcHRpb25zXSkpKSB7XG4gICAgICAgIHJlc3VsdCA9IGZuLmFwcGx5KGRhdGEsIGFyZ3MpO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgcmV0dXJuIGlzVW5kZWZpbmVkKHJlc3VsdCkgPyB0aGlzIDogcmVzdWx0O1xuICB9O1xuXG4gICQuZm4uY3JvcHBlci5Db25zdHJ1Y3RvciA9IENyb3BwZXI7XG4gICQuZm4uY3JvcHBlci5zZXREZWZhdWx0cyA9IENyb3BwZXIuc2V0RGVmYXVsdHM7XG5cbiAgLy8gTm8gY29uZmxpY3RcbiAgJC5mbi5jcm9wcGVyLm5vQ29uZmxpY3QgPSBmdW5jdGlvbiAoKSB7XG4gICAgJC5mbi5jcm9wcGVyID0gQ3JvcHBlci5vdGhlcjtcbiAgICByZXR1cm4gdGhpcztcbiAgfTtcblxufSk7XG4oZnVuY3Rpb24oKSB7XG4ndXNlIHN0cmljdCc7XG5cbmFuZ3VsYXIubW9kdWxlKCduZ0Nyb3BwZXInLCBbJ25nJ10pXG4uZGlyZWN0aXZlKCduZ0Nyb3BwZXInLCBbJyRxJywgJyRwYXJzZScsIGZ1bmN0aW9uKCRxLCAkcGFyc2UpIHtcbiAgcmV0dXJuIHtcbiAgICByZXN0cmljdDogJ0EnLFxuICAgIHNjb3BlOiB7XG4gICAgICBvcHRpb25zOiAnPW5nQ3JvcHBlck9wdGlvbnMnLFxuICAgICAgcHJveHk6ICc9bmdDcm9wcGVyUHJveHknLCAvLyBPcHRpb25hbC5cbiAgICAgIHNob3dFdmVudDogJz1uZ0Nyb3BwZXJTaG93JyxcbiAgICAgIGhpZGVFdmVudDogJz1uZ0Nyb3BwZXJIaWRlJ1xuICAgIH0sXG4gICAgbGluazogZnVuY3Rpb24oc2NvcGUsIGVsZW1lbnQsIGF0dHMpIHtcbiAgICAgIHZhciBzaG93biA9IGZhbHNlO1xuXG4gICAgICBzY29wZS4kb24oc2NvcGUuc2hvd0V2ZW50LCBmdW5jdGlvbigpIHtcbiAgICAgICAgaWYgKHNob3duKSByZXR1cm47XG4gICAgICAgIHNob3duID0gdHJ1ZTtcblxuICAgICAgICBwcmVwcm9jZXNzKHNjb3BlLm9wdGlvbnMsIGVsZW1lbnRbMF0pXG4gICAgICAgICAgLnRoZW4oZnVuY3Rpb24ob3B0aW9ucykge1xuICAgICAgICAgICAgc2V0UHJveHkoZWxlbWVudCk7XG4gICAgICAgICAgICBlbGVtZW50LmNyb3BwZXIob3B0aW9ucyk7XG4gICAgICAgICAgfSlcbiAgICAgIH0pO1xuXG4gICAgICBmdW5jdGlvbiBzZXRQcm94eShlbGVtZW50KSB7XG4gICAgICAgIGlmICghc2NvcGUucHJveHkpIHJldHVybjtcbiAgICAgICAgdmFyIHNldHRlciA9ICRwYXJzZShzY29wZS5wcm94eSkuYXNzaWduO1xuICAgICAgICBzZXR0ZXIoc2NvcGUuJHBhcmVudCwgZWxlbWVudC5jcm9wcGVyLmJpbmQoZWxlbWVudCkpO1xuICAgICAgfVxuXG4gICAgICBzY29wZS4kb24oc2NvcGUuaGlkZUV2ZW50LCBmdW5jdGlvbigpIHtcbiAgICAgICAgaWYgKCFzaG93bikgcmV0dXJuO1xuICAgICAgICBzaG93biA9IGZhbHNlO1xuICAgICAgICBlbGVtZW50LmNyb3BwZXIoJ2Rlc3Ryb3knKTtcbiAgICAgIH0pO1xuXG4gICAgICBzY29wZS4kd2F0Y2goJ29wdGlvbnMuZGlzYWJsZWQnLCBmdW5jdGlvbihkaXNhYmxlZCkge1xuICAgICAgICBpZiAoIXNob3duKSByZXR1cm47XG4gICAgICAgIGlmIChkaXNhYmxlZCkgZWxlbWVudC5jcm9wcGVyKCdkaXNhYmxlJyk7XG4gICAgICAgIGlmICghZGlzYWJsZWQpIGVsZW1lbnQuY3JvcHBlcignZW5hYmxlJyk7XG4gICAgICB9KTtcbiAgICB9XG4gIH07XG5cbiAgZnVuY3Rpb24gcHJlcHJvY2VzcyhvcHRpb25zLCBpbWcpIHtcbiAgICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcbiAgICB2YXIgcmVzdWx0ID0gJHEud2hlbihvcHRpb25zKTsgLy8gTm8gY2hhbmdlcy5cbiAgICBpZiAob3B0aW9ucy5tYXhpbWl6ZSkge1xuICAgICAgcmVzdWx0ID0gbWF4aW1pemVTZWxlY3Rpb24ob3B0aW9ucywgaW1nKTtcbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuXG4gIC8qKlxuICAgKiBDaGFuZ2Ugb3B0aW9ucyB0byBtYWtlIHNlbGVjdGlvbiBtYXhpbXVtIGZvciB0aGUgaW1hZ2UuXG4gICAqIGZlbmd5dWFuY2hlbi9jcm9wcGVyIGNhbGN1bGF0ZXMgdmFsaWQgc2VsZWN0aW9uJ3MgaGVpZ2h0ICYgd2lkdGhcbiAgICogd2l0aCByZXNwZWN0IHRvIGBhc3BlY3RSYXRpb2AuXG4gICAqL1xuICBmdW5jdGlvbiBtYXhpbWl6ZVNlbGVjdGlvbihvcHRpb25zLCBpbWcpIHtcbiAgICByZXR1cm4gZ2V0UmVhbFNpemUoaW1nKS50aGVuKGZ1bmN0aW9uKHNpemUpIHtcbiAgICAgIG9wdGlvbnMuZGF0YSA9IHNpemU7XG4gICAgICByZXR1cm4gb3B0aW9ucztcbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXR1cm5zIHJlYWwgaW1hZ2Ugc2l6ZSAod2l0aG91dCBjaGFuZ2VzIGJ5IGNzcywgYXR0cmlidXRlcykuXG4gICAqL1xuICBmdW5jdGlvbiBnZXRSZWFsU2l6ZShpbWcpIHtcbiAgICB2YXIgZGVmZXIgPSAkcS5kZWZlcigpO1xuICAgIHZhciBzaXplID0ge2hlaWdodDogbnVsbCwgd2lkdGg6IG51bGx9O1xuICAgIHZhciBpbWFnZSA9IG5ldyBJbWFnZSgpO1xuXG4gICAgaW1hZ2Uub25sb2FkID0gZnVuY3Rpb24oKSB7XG4gICAgICBkZWZlci5yZXNvbHZlKHt3aWR0aDogaW1hZ2Uud2lkdGgsIGhlaWdodDogaW1hZ2UuaGVpZ2h0fSk7XG4gICAgfVxuXG4gICAgaW1hZ2Uuc3JjID0gaW1nLnNyYztcbiAgICByZXR1cm4gZGVmZXIucHJvbWlzZTtcbiAgfVxufV0pXG4uc2VydmljZSgnQ3JvcHBlcicsIFsnJHEnLCBmdW5jdGlvbigkcSkge1xuXG4gIHRoaXMuZW5jb2RlID0gZnVuY3Rpb24oYmxvYikge1xuICAgIHZhciBkZWZlciA9ICRxLmRlZmVyKCk7XG4gICAgdmFyIHJlYWRlciA9IG5ldyBGaWxlUmVhZGVyKCk7XG4gICAgcmVhZGVyLm9ubG9hZCA9IGZ1bmN0aW9uKGUpIHtcbiAgICAgIGRlZmVyLnJlc29sdmUoZS50YXJnZXQucmVzdWx0KTtcbiAgICB9O1xuICAgIHJlYWRlci5yZWFkQXNEYXRhVVJMKGJsb2IpO1xuICAgIHJldHVybiBkZWZlci5wcm9taXNlO1xuICB9O1xuXG4gIHRoaXMuZGVjb2RlID0gZnVuY3Rpb24oZGF0YVVybCkge1xuICAgIHZhciBtZXRhID0gZGF0YVVybC5zcGxpdCgnOycpWzBdO1xuICAgIHZhciB0eXBlID0gbWV0YS5zcGxpdCgnOicpWzFdO1xuICAgIHZhciBiaW5hcnkgPSBhdG9iKGRhdGFVcmwuc3BsaXQoJywnKVsxXSk7XG4gICAgdmFyIGFycmF5ID0gbmV3IFVpbnQ4QXJyYXkoYmluYXJ5Lmxlbmd0aCk7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBiaW5hcnkubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgYXJyYXlbaV0gPSBiaW5hcnkuY2hhckNvZGVBdChpKTtcbiAgICB9XG4gICAgcmV0dXJuIG5ldyBCbG9iKFthcnJheV0sIHt0eXBlOiB0eXBlfSk7XG4gIH07XG5cbiAgdGhpcy5jcm9wID0gZnVuY3Rpb24oZmlsZSwgZGF0YSkge1xuICAgIHZhciBfZGVjb2RlQmxvYiA9IHRoaXMuZGVjb2RlO1xuICAgIHJldHVybiB0aGlzLmVuY29kZShmaWxlKS50aGVuKF9jcmVhdGVJbWFnZSkudGhlbihmdW5jdGlvbihpbWFnZSkge1xuICAgICAgdmFyIGNhbnZhcyA9IGNyZWF0ZUNhbnZhcyhkYXRhKTtcbiAgICAgIHZhciBjb250ZXh0ID0gY2FudmFzLmdldENvbnRleHQoJzJkJyk7XG5cbiAgICAgIGNvbnRleHQuZHJhd0ltYWdlKGltYWdlLCBkYXRhLngsIGRhdGEueSwgZGF0YS53aWR0aCwgZGF0YS5oZWlnaHQsIDAsIDAsIGRhdGEud2lkdGgsIGRhdGEuaGVpZ2h0KTtcblxuICAgICAgdmFyIGVuY29kZWQgPSBjYW52YXMudG9EYXRhVVJMKGZpbGUudHlwZSk7XG4gICAgICByZW1vdmVFbGVtZW50KGNhbnZhcyk7XG5cbiAgICAgIHJldHVybiBfZGVjb2RlQmxvYihlbmNvZGVkKTtcbiAgICB9KTtcbiAgfTtcblxuICB0aGlzLnNjYWxlID0gZnVuY3Rpb24oZmlsZSwgZGF0YSkge1xuICAgIHZhciBfZGVjb2RlQmxvYiA9IHRoaXMuZGVjb2RlO1xuICAgIHJldHVybiB0aGlzLmVuY29kZShmaWxlKS50aGVuKF9jcmVhdGVJbWFnZSkudGhlbihmdW5jdGlvbihpbWFnZSkge1xuICAgICAgdmFyIGhlaWdodE9yaWcgPSBpbWFnZS5oZWlnaHQ7XG4gICAgICB2YXIgd2lkdGhPcmlnID0gaW1hZ2Uud2lkdGg7XG4gICAgICB2YXIgcmF0aW8sIGhlaWdodCwgd2lkdGg7XG5cbiAgICAgIGlmIChhbmd1bGFyLmlzTnVtYmVyKGRhdGEpKSB7XG4gICAgICAgIHJhdGlvID0gZGF0YTtcbiAgICAgICAgaGVpZ2h0ID0gaGVpZ2h0T3JpZyAqIHJhdGlvO1xuICAgICAgICB3aWR0aCA9IHdpZHRoT3JpZyAqIHJhdGlvO1xuICAgICAgfVxuXG4gICAgICBpZiAoYW5ndWxhci5pc09iamVjdChkYXRhKSkge1xuICAgICAgICByYXRpbyA9IHdpZHRoT3JpZyAvIGhlaWdodE9yaWc7XG4gICAgICAgIGhlaWdodCA9IGRhdGEuaGVpZ2h0O1xuICAgICAgICB3aWR0aCA9IGRhdGEud2lkdGg7XG5cbiAgICAgICAgaWYgKGhlaWdodCAmJiAhd2lkdGgpXG4gICAgICAgICAgd2lkdGggPSBoZWlnaHQgKiByYXRpbztcbiAgICAgICAgZWxzZSBpZiAod2lkdGggJiYgIWhlaWdodClcbiAgICAgICAgICBoZWlnaHQgPSB3aWR0aCAvIHJhdGlvO1xuICAgICAgfVxuXG4gICAgICB2YXIgY2FudmFzID0gY3JlYXRlQ2FudmFzKGRhdGEpO1xuICAgICAgdmFyIGNvbnRleHQgPSBjYW52YXMuZ2V0Q29udGV4dCgnMmQnKTtcblxuICAgICAgY2FudmFzLmhlaWdodCA9IGhlaWdodDtcbiAgICAgIGNhbnZhcy53aWR0aCA9IHdpZHRoO1xuXG4gICAgICBjb250ZXh0LmRyYXdJbWFnZShpbWFnZSwgMCwgMCwgd2lkdGhPcmlnLCBoZWlnaHRPcmlnLCAwLCAwLCB3aWR0aCwgaGVpZ2h0KTtcblxuICAgICAgdmFyIGVuY29kZWQgPSBjYW52YXMudG9EYXRhVVJMKGZpbGUudHlwZSk7XG4gICAgICByZW1vdmVFbGVtZW50KGNhbnZhcyk7XG5cbiAgICAgIHJldHVybiBfZGVjb2RlQmxvYihlbmNvZGVkKTtcbiAgICB9KTtcbiAgfTtcblxuXG4gIGZ1bmN0aW9uIF9jcmVhdGVJbWFnZShzb3VyY2UpIHtcbiAgICB2YXIgZGVmZXIgPSAkcS5kZWZlcigpO1xuICAgIHZhciBpbWFnZSA9IG5ldyBJbWFnZSgpO1xuICAgIGltYWdlLm9ubG9hZCA9IGZ1bmN0aW9uKGUpIHsgZGVmZXIucmVzb2x2ZShlLnRhcmdldCk7IH07XG4gICAgaW1hZ2Uuc3JjID0gc291cmNlO1xuICAgIHJldHVybiBkZWZlci5wcm9taXNlO1xuICB9XG5cbiAgZnVuY3Rpb24gY3JlYXRlQ2FudmFzKGRhdGEpIHtcbiAgICB2YXIgY2FudmFzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY2FudmFzJyk7XG4gICAgY2FudmFzLndpZHRoID0gZGF0YS53aWR0aDtcbiAgICBjYW52YXMuaGVpZ2h0ID0gZGF0YS5oZWlnaHQ7XG4gICAgY2FudmFzLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG4gICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChjYW52YXMpO1xuICAgIHJldHVybiBjYW52YXM7XG4gIH1cblxuICBmdW5jdGlvbiByZW1vdmVFbGVtZW50KGVsKSB7XG4gICAgZWwucGFyZW50RWxlbWVudC5yZW1vdmVDaGlsZChlbCk7XG4gIH1cblxufV0pO1xuXG59KSgpO1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcbnZhciBkZWZhdWx0UGFyYW1zID0ge1xuICB0aXRsZTogJycsXG4gIHRleHQ6ICcnLFxuICB0eXBlOiBudWxsLFxuICBhbGxvd091dHNpZGVDbGljazogZmFsc2UsXG4gIHNob3dDb25maXJtQnV0dG9uOiB0cnVlLFxuICBzaG93Q2FuY2VsQnV0dG9uOiBmYWxzZSxcbiAgY2xvc2VPbkNvbmZpcm06IHRydWUsXG4gIGNsb3NlT25DYW5jZWw6IHRydWUsXG4gIGNvbmZpcm1CdXR0b25UZXh0OiAnT0snLFxuICBjb25maXJtQnV0dG9uQ29sb3I6ICcjOENENEY1JyxcbiAgY2FuY2VsQnV0dG9uVGV4dDogJ0NhbmNlbCcsXG4gIGltYWdlVXJsOiBudWxsLFxuICBpbWFnZVNpemU6IG51bGwsXG4gIHRpbWVyOiBudWxsLFxuICBjdXN0b21DbGFzczogJycsXG4gIGh0bWw6IGZhbHNlLFxuICBhbmltYXRpb246IHRydWUsXG4gIGFsbG93RXNjYXBlS2V5OiB0cnVlLFxuICBpbnB1dFR5cGU6ICd0ZXh0JyxcbiAgaW5wdXRQbGFjZWhvbGRlcjogJycsXG4gIGlucHV0VmFsdWU6ICcnLFxuICBzaG93TG9hZGVyT25Db25maXJtOiBmYWxzZVxufTtcblxuZXhwb3J0c1snZGVmYXVsdCddID0gZGVmYXVsdFBhcmFtcztcbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1snZGVmYXVsdCddOyIsIid1c2Ugc3RyaWN0JztcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfY29sb3JMdW1pbmFuY2UgPSByZXF1aXJlKCcuL3V0aWxzJyk7XG5cbnZhciBfZ2V0TW9kYWwgPSByZXF1aXJlKCcuL2hhbmRsZS1zd2FsLWRvbScpO1xuXG52YXIgX2hhc0NsYXNzJGlzRGVzY2VuZGFudCA9IHJlcXVpcmUoJy4vaGFuZGxlLWRvbScpO1xuXG4vKlxuICogVXNlciBjbGlja2VkIG9uIFwiQ29uZmlybVwiL1wiT0tcIiBvciBcIkNhbmNlbFwiXG4gKi9cbnZhciBoYW5kbGVCdXR0b24gPSBmdW5jdGlvbiBoYW5kbGVCdXR0b24oZXZlbnQsIHBhcmFtcywgbW9kYWwpIHtcbiAgdmFyIGUgPSBldmVudCB8fCB3aW5kb3cuZXZlbnQ7XG4gIHZhciB0YXJnZXQgPSBlLnRhcmdldCB8fCBlLnNyY0VsZW1lbnQ7XG5cbiAgdmFyIHRhcmdldGVkQ29uZmlybSA9IHRhcmdldC5jbGFzc05hbWUuaW5kZXhPZignY29uZmlybScpICE9PSAtMTtcbiAgdmFyIHRhcmdldGVkT3ZlcmxheSA9IHRhcmdldC5jbGFzc05hbWUuaW5kZXhPZignc3dlZXQtb3ZlcmxheScpICE9PSAtMTtcbiAgdmFyIG1vZGFsSXNWaXNpYmxlID0gX2hhc0NsYXNzJGlzRGVzY2VuZGFudC5oYXNDbGFzcyhtb2RhbCwgJ3Zpc2libGUnKTtcbiAgdmFyIGRvbmVGdW5jdGlvbkV4aXN0cyA9IHBhcmFtcy5kb25lRnVuY3Rpb24gJiYgbW9kYWwuZ2V0QXR0cmlidXRlKCdkYXRhLWhhcy1kb25lLWZ1bmN0aW9uJykgPT09ICd0cnVlJztcblxuICAvLyBTaW5jZSB0aGUgdXNlciBjYW4gY2hhbmdlIHRoZSBiYWNrZ3JvdW5kLWNvbG9yIG9mIHRoZSBjb25maXJtIGJ1dHRvbiBwcm9ncmFtbWF0aWNhbGx5LFxuICAvLyB3ZSBtdXN0IGNhbGN1bGF0ZSB3aGF0IHRoZSBjb2xvciBzaG91bGQgYmUgb24gaG92ZXIvYWN0aXZlXG4gIHZhciBub3JtYWxDb2xvciwgaG92ZXJDb2xvciwgYWN0aXZlQ29sb3I7XG4gIGlmICh0YXJnZXRlZENvbmZpcm0gJiYgcGFyYW1zLmNvbmZpcm1CdXR0b25Db2xvcikge1xuICAgIG5vcm1hbENvbG9yID0gcGFyYW1zLmNvbmZpcm1CdXR0b25Db2xvcjtcbiAgICBob3ZlckNvbG9yID0gX2NvbG9yTHVtaW5hbmNlLmNvbG9yTHVtaW5hbmNlKG5vcm1hbENvbG9yLCAtMC4wNCk7XG4gICAgYWN0aXZlQ29sb3IgPSBfY29sb3JMdW1pbmFuY2UuY29sb3JMdW1pbmFuY2Uobm9ybWFsQ29sb3IsIC0wLjE0KTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHNob3VsZFNldENvbmZpcm1CdXR0b25Db2xvcihjb2xvcikge1xuICAgIGlmICh0YXJnZXRlZENvbmZpcm0gJiYgcGFyYW1zLmNvbmZpcm1CdXR0b25Db2xvcikge1xuICAgICAgdGFyZ2V0LnN0eWxlLmJhY2tncm91bmRDb2xvciA9IGNvbG9yO1xuICAgIH1cbiAgfVxuXG4gIHN3aXRjaCAoZS50eXBlKSB7XG4gICAgY2FzZSAnbW91c2VvdmVyJzpcbiAgICAgIHNob3VsZFNldENvbmZpcm1CdXR0b25Db2xvcihob3ZlckNvbG9yKTtcbiAgICAgIGJyZWFrO1xuXG4gICAgY2FzZSAnbW91c2VvdXQnOlxuICAgICAgc2hvdWxkU2V0Q29uZmlybUJ1dHRvbkNvbG9yKG5vcm1hbENvbG9yKTtcbiAgICAgIGJyZWFrO1xuXG4gICAgY2FzZSAnbW91c2Vkb3duJzpcbiAgICAgIHNob3VsZFNldENvbmZpcm1CdXR0b25Db2xvcihhY3RpdmVDb2xvcik7XG4gICAgICBicmVhaztcblxuICAgIGNhc2UgJ21vdXNldXAnOlxuICAgICAgc2hvdWxkU2V0Q29uZmlybUJ1dHRvbkNvbG9yKGhvdmVyQ29sb3IpO1xuICAgICAgYnJlYWs7XG5cbiAgICBjYXNlICdmb2N1cyc6XG4gICAgICB2YXIgJGNvbmZpcm1CdXR0b24gPSBtb2RhbC5xdWVyeVNlbGVjdG9yKCdidXR0b24uY29uZmlybScpO1xuICAgICAgdmFyICRjYW5jZWxCdXR0b24gPSBtb2RhbC5xdWVyeVNlbGVjdG9yKCdidXR0b24uY2FuY2VsJyk7XG5cbiAgICAgIGlmICh0YXJnZXRlZENvbmZpcm0pIHtcbiAgICAgICAgJGNhbmNlbEJ1dHRvbi5zdHlsZS5ib3hTaGFkb3cgPSAnbm9uZSc7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAkY29uZmlybUJ1dHRvbi5zdHlsZS5ib3hTaGFkb3cgPSAnbm9uZSc7XG4gICAgICB9XG4gICAgICBicmVhaztcblxuICAgIGNhc2UgJ2NsaWNrJzpcbiAgICAgIHZhciBjbGlja2VkT25Nb2RhbCA9IG1vZGFsID09PSB0YXJnZXQ7XG4gICAgICB2YXIgY2xpY2tlZE9uTW9kYWxDaGlsZCA9IF9oYXNDbGFzcyRpc0Rlc2NlbmRhbnQuaXNEZXNjZW5kYW50KG1vZGFsLCB0YXJnZXQpO1xuXG4gICAgICAvLyBJZ25vcmUgY2xpY2sgb3V0c2lkZSBpZiBhbGxvd091dHNpZGVDbGljayBpcyBmYWxzZVxuICAgICAgaWYgKCFjbGlja2VkT25Nb2RhbCAmJiAhY2xpY2tlZE9uTW9kYWxDaGlsZCAmJiBtb2RhbElzVmlzaWJsZSAmJiAhcGFyYW1zLmFsbG93T3V0c2lkZUNsaWNrKSB7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuXG4gICAgICBpZiAodGFyZ2V0ZWRDb25maXJtICYmIGRvbmVGdW5jdGlvbkV4aXN0cyAmJiBtb2RhbElzVmlzaWJsZSkge1xuICAgICAgICBoYW5kbGVDb25maXJtKG1vZGFsLCBwYXJhbXMpO1xuICAgICAgfSBlbHNlIGlmIChkb25lRnVuY3Rpb25FeGlzdHMgJiYgbW9kYWxJc1Zpc2libGUgfHwgdGFyZ2V0ZWRPdmVybGF5KSB7XG4gICAgICAgIGhhbmRsZUNhbmNlbChtb2RhbCwgcGFyYW1zKTtcbiAgICAgIH0gZWxzZSBpZiAoX2hhc0NsYXNzJGlzRGVzY2VuZGFudC5pc0Rlc2NlbmRhbnQobW9kYWwsIHRhcmdldCkgJiYgdGFyZ2V0LnRhZ05hbWUgPT09ICdCVVRUT04nKSB7XG4gICAgICAgIHN3ZWV0QWxlcnQuY2xvc2UoKTtcbiAgICAgIH1cbiAgICAgIGJyZWFrO1xuICB9XG59O1xuXG4vKlxuICogIFVzZXIgY2xpY2tlZCBvbiBcIkNvbmZpcm1cIi9cIk9LXCJcbiAqL1xudmFyIGhhbmRsZUNvbmZpcm0gPSBmdW5jdGlvbiBoYW5kbGVDb25maXJtKG1vZGFsLCBwYXJhbXMpIHtcbiAgdmFyIGNhbGxiYWNrVmFsdWUgPSB0cnVlO1xuXG4gIGlmIChfaGFzQ2xhc3MkaXNEZXNjZW5kYW50Lmhhc0NsYXNzKG1vZGFsLCAnc2hvdy1pbnB1dCcpKSB7XG4gICAgY2FsbGJhY2tWYWx1ZSA9IG1vZGFsLnF1ZXJ5U2VsZWN0b3IoJ2lucHV0JykudmFsdWU7XG5cbiAgICBpZiAoIWNhbGxiYWNrVmFsdWUpIHtcbiAgICAgIGNhbGxiYWNrVmFsdWUgPSAnJztcbiAgICB9XG4gIH1cblxuICBwYXJhbXMuZG9uZUZ1bmN0aW9uKGNhbGxiYWNrVmFsdWUpO1xuXG4gIGlmIChwYXJhbXMuY2xvc2VPbkNvbmZpcm0pIHtcbiAgICBzd2VldEFsZXJ0LmNsb3NlKCk7XG4gIH1cbiAgLy8gRGlzYWJsZSBjYW5jZWwgYW5kIGNvbmZpcm0gYnV0dG9uIGlmIHRoZSBwYXJhbWV0ZXIgaXMgdHJ1ZVxuICBpZiAocGFyYW1zLnNob3dMb2FkZXJPbkNvbmZpcm0pIHtcbiAgICBzd2VldEFsZXJ0LmRpc2FibGVCdXR0b25zKCk7XG4gIH1cbn07XG5cbi8qXG4gKiAgVXNlciBjbGlja2VkIG9uIFwiQ2FuY2VsXCJcbiAqL1xudmFyIGhhbmRsZUNhbmNlbCA9IGZ1bmN0aW9uIGhhbmRsZUNhbmNlbChtb2RhbCwgcGFyYW1zKSB7XG4gIC8vIENoZWNrIGlmIGNhbGxiYWNrIGZ1bmN0aW9uIGV4cGVjdHMgYSBwYXJhbWV0ZXIgKHRvIHRyYWNrIGNhbmNlbCBhY3Rpb25zKVxuICB2YXIgZnVuY3Rpb25Bc1N0ciA9IFN0cmluZyhwYXJhbXMuZG9uZUZ1bmN0aW9uKS5yZXBsYWNlKC9cXHMvZywgJycpO1xuICB2YXIgZnVuY3Rpb25IYW5kbGVzQ2FuY2VsID0gZnVuY3Rpb25Bc1N0ci5zdWJzdHJpbmcoMCwgOSkgPT09ICdmdW5jdGlvbignICYmIGZ1bmN0aW9uQXNTdHIuc3Vic3RyaW5nKDksIDEwKSAhPT0gJyknO1xuXG4gIGlmIChmdW5jdGlvbkhhbmRsZXNDYW5jZWwpIHtcbiAgICBwYXJhbXMuZG9uZUZ1bmN0aW9uKGZhbHNlKTtcbiAgfVxuXG4gIGlmIChwYXJhbXMuY2xvc2VPbkNhbmNlbCkge1xuICAgIHN3ZWV0QWxlcnQuY2xvc2UoKTtcbiAgfVxufTtcblxuZXhwb3J0c1snZGVmYXVsdCddID0ge1xuICBoYW5kbGVCdXR0b246IGhhbmRsZUJ1dHRvbixcbiAgaGFuZGxlQ29uZmlybTogaGFuZGxlQ29uZmlybSxcbiAgaGFuZGxlQ2FuY2VsOiBoYW5kbGVDYW5jZWxcbn07XG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbJ2RlZmF1bHQnXTsiLCIndXNlIHN0cmljdCc7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xudmFyIGhhc0NsYXNzID0gZnVuY3Rpb24gaGFzQ2xhc3MoZWxlbSwgY2xhc3NOYW1lKSB7XG4gIHJldHVybiBuZXcgUmVnRXhwKCcgJyArIGNsYXNzTmFtZSArICcgJykudGVzdCgnICcgKyBlbGVtLmNsYXNzTmFtZSArICcgJyk7XG59O1xuXG52YXIgYWRkQ2xhc3MgPSBmdW5jdGlvbiBhZGRDbGFzcyhlbGVtLCBjbGFzc05hbWUpIHtcbiAgaWYgKCFoYXNDbGFzcyhlbGVtLCBjbGFzc05hbWUpKSB7XG4gICAgZWxlbS5jbGFzc05hbWUgKz0gJyAnICsgY2xhc3NOYW1lO1xuICB9XG59O1xuXG52YXIgcmVtb3ZlQ2xhc3MgPSBmdW5jdGlvbiByZW1vdmVDbGFzcyhlbGVtLCBjbGFzc05hbWUpIHtcbiAgdmFyIG5ld0NsYXNzID0gJyAnICsgZWxlbS5jbGFzc05hbWUucmVwbGFjZSgvW1xcdFxcclxcbl0vZywgJyAnKSArICcgJztcbiAgaWYgKGhhc0NsYXNzKGVsZW0sIGNsYXNzTmFtZSkpIHtcbiAgICB3aGlsZSAobmV3Q2xhc3MuaW5kZXhPZignICcgKyBjbGFzc05hbWUgKyAnICcpID49IDApIHtcbiAgICAgIG5ld0NsYXNzID0gbmV3Q2xhc3MucmVwbGFjZSgnICcgKyBjbGFzc05hbWUgKyAnICcsICcgJyk7XG4gICAgfVxuICAgIGVsZW0uY2xhc3NOYW1lID0gbmV3Q2xhc3MucmVwbGFjZSgvXlxccyt8XFxzKyQvZywgJycpO1xuICB9XG59O1xuXG52YXIgZXNjYXBlSHRtbCA9IGZ1bmN0aW9uIGVzY2FwZUh0bWwoc3RyKSB7XG4gIHZhciBkaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgZGl2LmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKHN0cikpO1xuICByZXR1cm4gZGl2LmlubmVySFRNTDtcbn07XG5cbnZhciBfc2hvdyA9IGZ1bmN0aW9uIF9zaG93KGVsZW0pIHtcbiAgZWxlbS5zdHlsZS5vcGFjaXR5ID0gJyc7XG4gIGVsZW0uc3R5bGUuZGlzcGxheSA9ICdibG9jayc7XG59O1xuXG52YXIgc2hvdyA9IGZ1bmN0aW9uIHNob3coZWxlbXMpIHtcbiAgaWYgKGVsZW1zICYmICFlbGVtcy5sZW5ndGgpIHtcbiAgICByZXR1cm4gX3Nob3coZWxlbXMpO1xuICB9XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgZWxlbXMubGVuZ3RoOyArK2kpIHtcbiAgICBfc2hvdyhlbGVtc1tpXSk7XG4gIH1cbn07XG5cbnZhciBfaGlkZSA9IGZ1bmN0aW9uIF9oaWRlKGVsZW0pIHtcbiAgZWxlbS5zdHlsZS5vcGFjaXR5ID0gJyc7XG4gIGVsZW0uc3R5bGUuZGlzcGxheSA9ICdub25lJztcbn07XG5cbnZhciBoaWRlID0gZnVuY3Rpb24gaGlkZShlbGVtcykge1xuICBpZiAoZWxlbXMgJiYgIWVsZW1zLmxlbmd0aCkge1xuICAgIHJldHVybiBfaGlkZShlbGVtcyk7XG4gIH1cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBlbGVtcy5sZW5ndGg7ICsraSkge1xuICAgIF9oaWRlKGVsZW1zW2ldKTtcbiAgfVxufTtcblxudmFyIGlzRGVzY2VuZGFudCA9IGZ1bmN0aW9uIGlzRGVzY2VuZGFudChwYXJlbnQsIGNoaWxkKSB7XG4gIHZhciBub2RlID0gY2hpbGQucGFyZW50Tm9kZTtcbiAgd2hpbGUgKG5vZGUgIT09IG51bGwpIHtcbiAgICBpZiAobm9kZSA9PT0gcGFyZW50KSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgbm9kZSA9IG5vZGUucGFyZW50Tm9kZTtcbiAgfVxuICByZXR1cm4gZmFsc2U7XG59O1xuXG52YXIgZ2V0VG9wTWFyZ2luID0gZnVuY3Rpb24gZ2V0VG9wTWFyZ2luKGVsZW0pIHtcbiAgZWxlbS5zdHlsZS5sZWZ0ID0gJy05OTk5cHgnO1xuICBlbGVtLnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snO1xuXG4gIHZhciBoZWlnaHQgPSBlbGVtLmNsaWVudEhlaWdodCxcbiAgICAgIHBhZGRpbmc7XG4gIGlmICh0eXBlb2YgZ2V0Q29tcHV0ZWRTdHlsZSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAvLyBJRSA4XG4gICAgcGFkZGluZyA9IHBhcnNlSW50KGdldENvbXB1dGVkU3R5bGUoZWxlbSkuZ2V0UHJvcGVydHlWYWx1ZSgncGFkZGluZy10b3AnKSwgMTApO1xuICB9IGVsc2Uge1xuICAgIHBhZGRpbmcgPSBwYXJzZUludChlbGVtLmN1cnJlbnRTdHlsZS5wYWRkaW5nKTtcbiAgfVxuXG4gIGVsZW0uc3R5bGUubGVmdCA9ICcnO1xuICBlbGVtLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG4gIHJldHVybiAnLScgKyBwYXJzZUludCgoaGVpZ2h0ICsgcGFkZGluZykgLyAyKSArICdweCc7XG59O1xuXG52YXIgZmFkZUluID0gZnVuY3Rpb24gZmFkZUluKGVsZW0sIGludGVydmFsKSB7XG4gIGlmICgrZWxlbS5zdHlsZS5vcGFjaXR5IDwgMSkge1xuICAgIGludGVydmFsID0gaW50ZXJ2YWwgfHwgMTY7XG4gICAgZWxlbS5zdHlsZS5vcGFjaXR5ID0gMDtcbiAgICBlbGVtLnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snO1xuICAgIHZhciBsYXN0ID0gK25ldyBEYXRlKCk7XG4gICAgdmFyIHRpY2sgPSAoZnVuY3Rpb24gKF90aWNrKSB7XG4gICAgICBmdW5jdGlvbiB0aWNrKCkge1xuICAgICAgICByZXR1cm4gX3RpY2suYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgIH1cblxuICAgICAgdGljay50b1N0cmluZyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIF90aWNrLnRvU3RyaW5nKCk7XG4gICAgICB9O1xuXG4gICAgICByZXR1cm4gdGljaztcbiAgICB9KShmdW5jdGlvbiAoKSB7XG4gICAgICBlbGVtLnN0eWxlLm9wYWNpdHkgPSArZWxlbS5zdHlsZS5vcGFjaXR5ICsgKG5ldyBEYXRlKCkgLSBsYXN0KSAvIDEwMDtcbiAgICAgIGxhc3QgPSArbmV3IERhdGUoKTtcblxuICAgICAgaWYgKCtlbGVtLnN0eWxlLm9wYWNpdHkgPCAxKSB7XG4gICAgICAgIHNldFRpbWVvdXQodGljaywgaW50ZXJ2YWwpO1xuICAgICAgfVxuICAgIH0pO1xuICAgIHRpY2soKTtcbiAgfVxuICBlbGVtLnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snOyAvL2ZhbGxiYWNrIElFOFxufTtcblxudmFyIGZhZGVPdXQgPSBmdW5jdGlvbiBmYWRlT3V0KGVsZW0sIGludGVydmFsKSB7XG4gIGludGVydmFsID0gaW50ZXJ2YWwgfHwgMTY7XG4gIGVsZW0uc3R5bGUub3BhY2l0eSA9IDE7XG4gIHZhciBsYXN0ID0gK25ldyBEYXRlKCk7XG4gIHZhciB0aWNrID0gKGZ1bmN0aW9uIChfdGljazIpIHtcbiAgICBmdW5jdGlvbiB0aWNrKCkge1xuICAgICAgcmV0dXJuIF90aWNrMi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgIH1cblxuICAgIHRpY2sudG9TdHJpbmcgPSBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gX3RpY2syLnRvU3RyaW5nKCk7XG4gICAgfTtcblxuICAgIHJldHVybiB0aWNrO1xuICB9KShmdW5jdGlvbiAoKSB7XG4gICAgZWxlbS5zdHlsZS5vcGFjaXR5ID0gK2VsZW0uc3R5bGUub3BhY2l0eSAtIChuZXcgRGF0ZSgpIC0gbGFzdCkgLyAxMDA7XG4gICAgbGFzdCA9ICtuZXcgRGF0ZSgpO1xuXG4gICAgaWYgKCtlbGVtLnN0eWxlLm9wYWNpdHkgPiAwKSB7XG4gICAgICBzZXRUaW1lb3V0KHRpY2ssIGludGVydmFsKTtcbiAgICB9IGVsc2Uge1xuICAgICAgZWxlbS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICAgIH1cbiAgfSk7XG4gIHRpY2soKTtcbn07XG5cbnZhciBmaXJlQ2xpY2sgPSBmdW5jdGlvbiBmaXJlQ2xpY2sobm9kZSkge1xuICAvLyBUYWtlbiBmcm9tIGh0dHA6Ly93d3cubm9ub2J0cnVzaXZlLmNvbS8yMDExLzExLzI5L3Byb2dyYW1hdGljYWxseS1maXJlLWNyb3NzYnJvd3Nlci1jbGljay1ldmVudC13aXRoLWphdmFzY3JpcHQvXG4gIC8vIFRoZW4gZml4ZWQgZm9yIHRvZGF5J3MgQ2hyb21lIGJyb3dzZXIuXG4gIGlmICh0eXBlb2YgTW91c2VFdmVudCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIC8vIFVwLXRvLWRhdGUgYXBwcm9hY2hcbiAgICB2YXIgbWV2dCA9IG5ldyBNb3VzZUV2ZW50KCdjbGljaycsIHtcbiAgICAgIHZpZXc6IHdpbmRvdyxcbiAgICAgIGJ1YmJsZXM6IGZhbHNlLFxuICAgICAgY2FuY2VsYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIG5vZGUuZGlzcGF0Y2hFdmVudChtZXZ0KTtcbiAgfSBlbHNlIGlmIChkb2N1bWVudC5jcmVhdGVFdmVudCkge1xuICAgIC8vIEZhbGxiYWNrXG4gICAgdmFyIGV2dCA9IGRvY3VtZW50LmNyZWF0ZUV2ZW50KCdNb3VzZUV2ZW50cycpO1xuICAgIGV2dC5pbml0RXZlbnQoJ2NsaWNrJywgZmFsc2UsIGZhbHNlKTtcbiAgICBub2RlLmRpc3BhdGNoRXZlbnQoZXZ0KTtcbiAgfSBlbHNlIGlmIChkb2N1bWVudC5jcmVhdGVFdmVudE9iamVjdCkge1xuICAgIG5vZGUuZmlyZUV2ZW50KCdvbmNsaWNrJyk7XG4gIH0gZWxzZSBpZiAodHlwZW9mIG5vZGUub25jbGljayA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIG5vZGUub25jbGljaygpO1xuICB9XG59O1xuXG52YXIgc3RvcEV2ZW50UHJvcGFnYXRpb24gPSBmdW5jdGlvbiBzdG9wRXZlbnRQcm9wYWdhdGlvbihlKSB7XG4gIC8vIEluIHBhcnRpY3VsYXIsIG1ha2Ugc3VyZSB0aGUgc3BhY2UgYmFyIGRvZXNuJ3Qgc2Nyb2xsIHRoZSBtYWluIHdpbmRvdy5cbiAgaWYgKHR5cGVvZiBlLnN0b3BQcm9wYWdhdGlvbiA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICB9IGVsc2UgaWYgKHdpbmRvdy5ldmVudCAmJiB3aW5kb3cuZXZlbnQuaGFzT3duUHJvcGVydHkoJ2NhbmNlbEJ1YmJsZScpKSB7XG4gICAgd2luZG93LmV2ZW50LmNhbmNlbEJ1YmJsZSA9IHRydWU7XG4gIH1cbn07XG5cbmV4cG9ydHMuaGFzQ2xhc3MgPSBoYXNDbGFzcztcbmV4cG9ydHMuYWRkQ2xhc3MgPSBhZGRDbGFzcztcbmV4cG9ydHMucmVtb3ZlQ2xhc3MgPSByZW1vdmVDbGFzcztcbmV4cG9ydHMuZXNjYXBlSHRtbCA9IGVzY2FwZUh0bWw7XG5leHBvcnRzLl9zaG93ID0gX3Nob3c7XG5leHBvcnRzLnNob3cgPSBzaG93O1xuZXhwb3J0cy5faGlkZSA9IF9oaWRlO1xuZXhwb3J0cy5oaWRlID0gaGlkZTtcbmV4cG9ydHMuaXNEZXNjZW5kYW50ID0gaXNEZXNjZW5kYW50O1xuZXhwb3J0cy5nZXRUb3BNYXJnaW4gPSBnZXRUb3BNYXJnaW47XG5leHBvcnRzLmZhZGVJbiA9IGZhZGVJbjtcbmV4cG9ydHMuZmFkZU91dCA9IGZhZGVPdXQ7XG5leHBvcnRzLmZpcmVDbGljayA9IGZpcmVDbGljaztcbmV4cG9ydHMuc3RvcEV2ZW50UHJvcGFnYXRpb24gPSBzdG9wRXZlbnRQcm9wYWdhdGlvbjsiLCIndXNlIHN0cmljdCc7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX3N0b3BFdmVudFByb3BhZ2F0aW9uJGZpcmVDbGljayA9IHJlcXVpcmUoJy4vaGFuZGxlLWRvbScpO1xuXG52YXIgX3NldEZvY3VzU3R5bGUgPSByZXF1aXJlKCcuL2hhbmRsZS1zd2FsLWRvbScpO1xuXG52YXIgaGFuZGxlS2V5RG93biA9IGZ1bmN0aW9uIGhhbmRsZUtleURvd24oZXZlbnQsIHBhcmFtcywgbW9kYWwpIHtcbiAgdmFyIGUgPSBldmVudCB8fCB3aW5kb3cuZXZlbnQ7XG4gIHZhciBrZXlDb2RlID0gZS5rZXlDb2RlIHx8IGUud2hpY2g7XG5cbiAgdmFyICRva0J1dHRvbiA9IG1vZGFsLnF1ZXJ5U2VsZWN0b3IoJ2J1dHRvbi5jb25maXJtJyk7XG4gIHZhciAkY2FuY2VsQnV0dG9uID0gbW9kYWwucXVlcnlTZWxlY3RvcignYnV0dG9uLmNhbmNlbCcpO1xuICB2YXIgJG1vZGFsQnV0dG9ucyA9IG1vZGFsLnF1ZXJ5U2VsZWN0b3JBbGwoJ2J1dHRvblt0YWJpbmRleF0nKTtcblxuICBpZiAoWzksIDEzLCAzMiwgMjddLmluZGV4T2Yoa2V5Q29kZSkgPT09IC0xKSB7XG4gICAgLy8gRG9uJ3QgZG8gd29yayBvbiBrZXlzIHdlIGRvbid0IGNhcmUgYWJvdXQuXG4gICAgcmV0dXJuO1xuICB9XG5cbiAgdmFyICR0YXJnZXRFbGVtZW50ID0gZS50YXJnZXQgfHwgZS5zcmNFbGVtZW50O1xuXG4gIHZhciBidG5JbmRleCA9IC0xOyAvLyBGaW5kIHRoZSBidXR0b24gLSBub3RlLCB0aGlzIGlzIGEgbm9kZWxpc3QsIG5vdCBhbiBhcnJheS5cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCAkbW9kYWxCdXR0b25zLmxlbmd0aDsgaSsrKSB7XG4gICAgaWYgKCR0YXJnZXRFbGVtZW50ID09PSAkbW9kYWxCdXR0b25zW2ldKSB7XG4gICAgICBidG5JbmRleCA9IGk7XG4gICAgICBicmVhaztcbiAgICB9XG4gIH1cblxuICBpZiAoa2V5Q29kZSA9PT0gOSkge1xuICAgIC8vIFRBQlxuICAgIGlmIChidG5JbmRleCA9PT0gLTEpIHtcbiAgICAgIC8vIE5vIGJ1dHRvbiBmb2N1c2VkLiBKdW1wIHRvIHRoZSBjb25maXJtIGJ1dHRvbi5cbiAgICAgICR0YXJnZXRFbGVtZW50ID0gJG9rQnV0dG9uO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBDeWNsZSB0byB0aGUgbmV4dCBidXR0b25cbiAgICAgIGlmIChidG5JbmRleCA9PT0gJG1vZGFsQnV0dG9ucy5sZW5ndGggLSAxKSB7XG4gICAgICAgICR0YXJnZXRFbGVtZW50ID0gJG1vZGFsQnV0dG9uc1swXTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgICR0YXJnZXRFbGVtZW50ID0gJG1vZGFsQnV0dG9uc1tidG5JbmRleCArIDFdO1xuICAgICAgfVxuICAgIH1cblxuICAgIF9zdG9wRXZlbnRQcm9wYWdhdGlvbiRmaXJlQ2xpY2suc3RvcEV2ZW50UHJvcGFnYXRpb24oZSk7XG4gICAgJHRhcmdldEVsZW1lbnQuZm9jdXMoKTtcblxuICAgIGlmIChwYXJhbXMuY29uZmlybUJ1dHRvbkNvbG9yKSB7XG4gICAgICBfc2V0Rm9jdXNTdHlsZS5zZXRGb2N1c1N0eWxlKCR0YXJnZXRFbGVtZW50LCBwYXJhbXMuY29uZmlybUJ1dHRvbkNvbG9yKTtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgaWYgKGtleUNvZGUgPT09IDEzKSB7XG4gICAgICBpZiAoJHRhcmdldEVsZW1lbnQudGFnTmFtZSA9PT0gJ0lOUFVUJykge1xuICAgICAgICAkdGFyZ2V0RWxlbWVudCA9ICRva0J1dHRvbjtcbiAgICAgICAgJG9rQnV0dG9uLmZvY3VzKCk7XG4gICAgICB9XG5cbiAgICAgIGlmIChidG5JbmRleCA9PT0gLTEpIHtcbiAgICAgICAgLy8gRU5URVIvU1BBQ0UgY2xpY2tlZCBvdXRzaWRlIG9mIGEgYnV0dG9uLlxuICAgICAgICAkdGFyZ2V0RWxlbWVudCA9ICRva0J1dHRvbjtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIERvIG5vdGhpbmcgLSBsZXQgdGhlIGJyb3dzZXIgaGFuZGxlIGl0LlxuICAgICAgICAkdGFyZ2V0RWxlbWVudCA9IHVuZGVmaW5lZDtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKGtleUNvZGUgPT09IDI3ICYmIHBhcmFtcy5hbGxvd0VzY2FwZUtleSA9PT0gdHJ1ZSkge1xuICAgICAgJHRhcmdldEVsZW1lbnQgPSAkY2FuY2VsQnV0dG9uO1xuICAgICAgX3N0b3BFdmVudFByb3BhZ2F0aW9uJGZpcmVDbGljay5maXJlQ2xpY2soJHRhcmdldEVsZW1lbnQsIGUpO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBGYWxsYmFjayAtIGxldCB0aGUgYnJvd3NlciBoYW5kbGUgaXQuXG4gICAgICAkdGFyZ2V0RWxlbWVudCA9IHVuZGVmaW5lZDtcbiAgICB9XG4gIH1cbn07XG5cbmV4cG9ydHNbJ2RlZmF1bHQnXSA9IGhhbmRsZUtleURvd247XG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbJ2RlZmF1bHQnXTsiLCIndXNlIHN0cmljdCc7XG5cbnZhciBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZCA9IGZ1bmN0aW9uIChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgJ2RlZmF1bHQnOiBvYmogfTsgfTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfaGV4VG9SZ2IgPSByZXF1aXJlKCcuL3V0aWxzJyk7XG5cbnZhciBfcmVtb3ZlQ2xhc3MkZ2V0VG9wTWFyZ2luJGZhZGVJbiRzaG93JGFkZENsYXNzID0gcmVxdWlyZSgnLi9oYW5kbGUtZG9tJyk7XG5cbnZhciBfZGVmYXVsdFBhcmFtcyA9IHJlcXVpcmUoJy4vZGVmYXVsdC1wYXJhbXMnKTtcblxudmFyIF9kZWZhdWx0UGFyYW1zMiA9IF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKF9kZWZhdWx0UGFyYW1zKTtcblxuLypcbiAqIEFkZCBtb2RhbCArIG92ZXJsYXkgdG8gRE9NXG4gKi9cblxudmFyIF9pbmplY3RlZEhUTUwgPSByZXF1aXJlKCcuL2luamVjdGVkLWh0bWwnKTtcblxudmFyIF9pbmplY3RlZEhUTUwyID0gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQoX2luamVjdGVkSFRNTCk7XG5cbnZhciBtb2RhbENsYXNzID0gJy5zd2VldC1hbGVydCc7XG52YXIgb3ZlcmxheUNsYXNzID0gJy5zd2VldC1vdmVybGF5JztcblxudmFyIHN3ZWV0QWxlcnRJbml0aWFsaXplID0gZnVuY3Rpb24gc3dlZXRBbGVydEluaXRpYWxpemUoKSB7XG4gIHZhciBzd2VldFdyYXAgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgc3dlZXRXcmFwLmlubmVySFRNTCA9IF9pbmplY3RlZEhUTUwyWydkZWZhdWx0J107XG5cbiAgLy8gQXBwZW5kIGVsZW1lbnRzIHRvIGJvZHlcbiAgd2hpbGUgKHN3ZWV0V3JhcC5maXJzdENoaWxkKSB7XG4gICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChzd2VldFdyYXAuZmlyc3RDaGlsZCk7XG4gIH1cbn07XG5cbi8qXG4gKiBHZXQgRE9NIGVsZW1lbnQgb2YgbW9kYWxcbiAqL1xudmFyIGdldE1vZGFsID0gKGZ1bmN0aW9uIChfZ2V0TW9kYWwpIHtcbiAgZnVuY3Rpb24gZ2V0TW9kYWwoKSB7XG4gICAgcmV0dXJuIF9nZXRNb2RhbC5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICB9XG5cbiAgZ2V0TW9kYWwudG9TdHJpbmcgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIF9nZXRNb2RhbC50b1N0cmluZygpO1xuICB9O1xuXG4gIHJldHVybiBnZXRNb2RhbDtcbn0pKGZ1bmN0aW9uICgpIHtcbiAgdmFyICRtb2RhbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IobW9kYWxDbGFzcyk7XG5cbiAgaWYgKCEkbW9kYWwpIHtcbiAgICBzd2VldEFsZXJ0SW5pdGlhbGl6ZSgpO1xuICAgICRtb2RhbCA9IGdldE1vZGFsKCk7XG4gIH1cblxuICByZXR1cm4gJG1vZGFsO1xufSk7XG5cbi8qXG4gKiBHZXQgRE9NIGVsZW1lbnQgb2YgaW5wdXQgKGluIG1vZGFsKVxuICovXG52YXIgZ2V0SW5wdXQgPSBmdW5jdGlvbiBnZXRJbnB1dCgpIHtcbiAgdmFyICRtb2RhbCA9IGdldE1vZGFsKCk7XG4gIGlmICgkbW9kYWwpIHtcbiAgICByZXR1cm4gJG1vZGFsLnF1ZXJ5U2VsZWN0b3IoJ2lucHV0Jyk7XG4gIH1cbn07XG5cbi8qXG4gKiBHZXQgRE9NIGVsZW1lbnQgb2Ygb3ZlcmxheVxuICovXG52YXIgZ2V0T3ZlcmxheSA9IGZ1bmN0aW9uIGdldE92ZXJsYXkoKSB7XG4gIHJldHVybiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKG92ZXJsYXlDbGFzcyk7XG59O1xuXG4vKlxuICogQWRkIGJveC1zaGFkb3cgc3R5bGUgdG8gYnV0dG9uIChkZXBlbmRpbmcgb24gaXRzIGNob3NlbiBiZy1jb2xvcilcbiAqL1xudmFyIHNldEZvY3VzU3R5bGUgPSBmdW5jdGlvbiBzZXRGb2N1c1N0eWxlKCRidXR0b24sIGJnQ29sb3IpIHtcbiAgdmFyIHJnYkNvbG9yID0gX2hleFRvUmdiLmhleFRvUmdiKGJnQ29sb3IpO1xuICAkYnV0dG9uLnN0eWxlLmJveFNoYWRvdyA9ICcwIDAgMnB4IHJnYmEoJyArIHJnYkNvbG9yICsgJywgMC44KSwgaW5zZXQgMCAwIDAgMXB4IHJnYmEoMCwgMCwgMCwgMC4wNSknO1xufTtcblxuLypcbiAqIEFuaW1hdGlvbiB3aGVuIG9wZW5pbmcgbW9kYWxcbiAqL1xudmFyIG9wZW5Nb2RhbCA9IGZ1bmN0aW9uIG9wZW5Nb2RhbChjYWxsYmFjaykge1xuICB2YXIgJG1vZGFsID0gZ2V0TW9kYWwoKTtcbiAgX3JlbW92ZUNsYXNzJGdldFRvcE1hcmdpbiRmYWRlSW4kc2hvdyRhZGRDbGFzcy5mYWRlSW4oZ2V0T3ZlcmxheSgpLCAxMCk7XG4gIF9yZW1vdmVDbGFzcyRnZXRUb3BNYXJnaW4kZmFkZUluJHNob3ckYWRkQ2xhc3Muc2hvdygkbW9kYWwpO1xuICBfcmVtb3ZlQ2xhc3MkZ2V0VG9wTWFyZ2luJGZhZGVJbiRzaG93JGFkZENsYXNzLmFkZENsYXNzKCRtb2RhbCwgJ3Nob3dTd2VldEFsZXJ0Jyk7XG4gIF9yZW1vdmVDbGFzcyRnZXRUb3BNYXJnaW4kZmFkZUluJHNob3ckYWRkQ2xhc3MucmVtb3ZlQ2xhc3MoJG1vZGFsLCAnaGlkZVN3ZWV0QWxlcnQnKTtcblxuICB3aW5kb3cucHJldmlvdXNBY3RpdmVFbGVtZW50ID0gZG9jdW1lbnQuYWN0aXZlRWxlbWVudDtcbiAgdmFyICRva0J1dHRvbiA9ICRtb2RhbC5xdWVyeVNlbGVjdG9yKCdidXR0b24uY29uZmlybScpO1xuICAkb2tCdXR0b24uZm9jdXMoKTtcblxuICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICBfcmVtb3ZlQ2xhc3MkZ2V0VG9wTWFyZ2luJGZhZGVJbiRzaG93JGFkZENsYXNzLmFkZENsYXNzKCRtb2RhbCwgJ3Zpc2libGUnKTtcbiAgfSwgNTAwKTtcblxuICB2YXIgdGltZXIgPSAkbW9kYWwuZ2V0QXR0cmlidXRlKCdkYXRhLXRpbWVyJyk7XG5cbiAgaWYgKHRpbWVyICE9PSAnbnVsbCcgJiYgdGltZXIgIT09ICcnKSB7XG4gICAgdmFyIHRpbWVyQ2FsbGJhY2sgPSBjYWxsYmFjaztcbiAgICAkbW9kYWwudGltZW91dCA9IHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIGRvbmVGdW5jdGlvbkV4aXN0cyA9ICh0aW1lckNhbGxiYWNrIHx8IG51bGwpICYmICRtb2RhbC5nZXRBdHRyaWJ1dGUoJ2RhdGEtaGFzLWRvbmUtZnVuY3Rpb24nKSA9PT0gJ3RydWUnO1xuICAgICAgaWYgKGRvbmVGdW5jdGlvbkV4aXN0cykge1xuICAgICAgICB0aW1lckNhbGxiYWNrKG51bGwpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgc3dlZXRBbGVydC5jbG9zZSgpO1xuICAgICAgfVxuICAgIH0sIHRpbWVyKTtcbiAgfVxufTtcblxuLypcbiAqIFJlc2V0IHRoZSBzdHlsaW5nIG9mIHRoZSBpbnB1dFxuICogKGZvciBleGFtcGxlIGlmIGVycm9ycyBoYXZlIGJlZW4gc2hvd24pXG4gKi9cbnZhciByZXNldElucHV0ID0gZnVuY3Rpb24gcmVzZXRJbnB1dCgpIHtcbiAgdmFyICRtb2RhbCA9IGdldE1vZGFsKCk7XG4gIHZhciAkaW5wdXQgPSBnZXRJbnB1dCgpO1xuXG4gIF9yZW1vdmVDbGFzcyRnZXRUb3BNYXJnaW4kZmFkZUluJHNob3ckYWRkQ2xhc3MucmVtb3ZlQ2xhc3MoJG1vZGFsLCAnc2hvdy1pbnB1dCcpO1xuICAkaW5wdXQudmFsdWUgPSBfZGVmYXVsdFBhcmFtczJbJ2RlZmF1bHQnXS5pbnB1dFZhbHVlO1xuICAkaW5wdXQuc2V0QXR0cmlidXRlKCd0eXBlJywgX2RlZmF1bHRQYXJhbXMyWydkZWZhdWx0J10uaW5wdXRUeXBlKTtcbiAgJGlucHV0LnNldEF0dHJpYnV0ZSgncGxhY2Vob2xkZXInLCBfZGVmYXVsdFBhcmFtczJbJ2RlZmF1bHQnXS5pbnB1dFBsYWNlaG9sZGVyKTtcblxuICByZXNldElucHV0RXJyb3IoKTtcbn07XG5cbnZhciByZXNldElucHV0RXJyb3IgPSBmdW5jdGlvbiByZXNldElucHV0RXJyb3IoZXZlbnQpIHtcbiAgLy8gSWYgcHJlc3MgZW50ZXIgPT4gaWdub3JlXG4gIGlmIChldmVudCAmJiBldmVudC5rZXlDb2RlID09PSAxMykge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIHZhciAkbW9kYWwgPSBnZXRNb2RhbCgpO1xuXG4gIHZhciAkZXJyb3JJY29uID0gJG1vZGFsLnF1ZXJ5U2VsZWN0b3IoJy5zYS1pbnB1dC1lcnJvcicpO1xuICBfcmVtb3ZlQ2xhc3MkZ2V0VG9wTWFyZ2luJGZhZGVJbiRzaG93JGFkZENsYXNzLnJlbW92ZUNsYXNzKCRlcnJvckljb24sICdzaG93Jyk7XG5cbiAgdmFyICRlcnJvckNvbnRhaW5lciA9ICRtb2RhbC5xdWVyeVNlbGVjdG9yKCcuc2EtZXJyb3ItY29udGFpbmVyJyk7XG4gIF9yZW1vdmVDbGFzcyRnZXRUb3BNYXJnaW4kZmFkZUluJHNob3ckYWRkQ2xhc3MucmVtb3ZlQ2xhc3MoJGVycm9yQ29udGFpbmVyLCAnc2hvdycpO1xufTtcblxuLypcbiAqIFNldCBcIm1hcmdpbi10b3BcIi1wcm9wZXJ0eSBvbiBtb2RhbCBiYXNlZCBvbiBpdHMgY29tcHV0ZWQgaGVpZ2h0XG4gKi9cbnZhciBmaXhWZXJ0aWNhbFBvc2l0aW9uID0gZnVuY3Rpb24gZml4VmVydGljYWxQb3NpdGlvbigpIHtcbiAgdmFyICRtb2RhbCA9IGdldE1vZGFsKCk7XG4gICRtb2RhbC5zdHlsZS5tYXJnaW5Ub3AgPSBfcmVtb3ZlQ2xhc3MkZ2V0VG9wTWFyZ2luJGZhZGVJbiRzaG93JGFkZENsYXNzLmdldFRvcE1hcmdpbihnZXRNb2RhbCgpKTtcbn07XG5cbmV4cG9ydHMuc3dlZXRBbGVydEluaXRpYWxpemUgPSBzd2VldEFsZXJ0SW5pdGlhbGl6ZTtcbmV4cG9ydHMuZ2V0TW9kYWwgPSBnZXRNb2RhbDtcbmV4cG9ydHMuZ2V0T3ZlcmxheSA9IGdldE92ZXJsYXk7XG5leHBvcnRzLmdldElucHV0ID0gZ2V0SW5wdXQ7XG5leHBvcnRzLnNldEZvY3VzU3R5bGUgPSBzZXRGb2N1c1N0eWxlO1xuZXhwb3J0cy5vcGVuTW9kYWwgPSBvcGVuTW9kYWw7XG5leHBvcnRzLnJlc2V0SW5wdXQgPSByZXNldElucHV0O1xuZXhwb3J0cy5yZXNldElucHV0RXJyb3IgPSByZXNldElucHV0RXJyb3I7XG5leHBvcnRzLmZpeFZlcnRpY2FsUG9zaXRpb24gPSBmaXhWZXJ0aWNhbFBvc2l0aW9uOyIsIlwidXNlIHN0cmljdFwiO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xudmFyIGluamVjdGVkSFRNTCA9XG5cbi8vIERhcmsgb3ZlcmxheVxuXCI8ZGl2IGNsYXNzPVxcXCJzd2VldC1vdmVybGF5XFxcIiB0YWJJbmRleD1cXFwiLTFcXFwiPjwvZGl2PlwiICtcblxuLy8gTW9kYWxcblwiPGRpdiBjbGFzcz1cXFwic3dlZXQtYWxlcnRcXFwiPlwiICtcblxuLy8gRXJyb3IgaWNvblxuXCI8ZGl2IGNsYXNzPVxcXCJzYS1pY29uIHNhLWVycm9yXFxcIj5cXG4gICAgICA8c3BhbiBjbGFzcz1cXFwic2EteC1tYXJrXFxcIj5cXG4gICAgICAgIDxzcGFuIGNsYXNzPVxcXCJzYS1saW5lIHNhLWxlZnRcXFwiPjwvc3Bhbj5cXG4gICAgICAgIDxzcGFuIGNsYXNzPVxcXCJzYS1saW5lIHNhLXJpZ2h0XFxcIj48L3NwYW4+XFxuICAgICAgPC9zcGFuPlxcbiAgICA8L2Rpdj5cIiArXG5cbi8vIFdhcm5pbmcgaWNvblxuXCI8ZGl2IGNsYXNzPVxcXCJzYS1pY29uIHNhLXdhcm5pbmdcXFwiPlxcbiAgICAgIDxzcGFuIGNsYXNzPVxcXCJzYS1ib2R5XFxcIj48L3NwYW4+XFxuICAgICAgPHNwYW4gY2xhc3M9XFxcInNhLWRvdFxcXCI+PC9zcGFuPlxcbiAgICA8L2Rpdj5cIiArXG5cbi8vIEluZm8gaWNvblxuXCI8ZGl2IGNsYXNzPVxcXCJzYS1pY29uIHNhLWluZm9cXFwiPjwvZGl2PlwiICtcblxuLy8gU3VjY2VzcyBpY29uXG5cIjxkaXYgY2xhc3M9XFxcInNhLWljb24gc2Etc3VjY2Vzc1xcXCI+XFxuICAgICAgPHNwYW4gY2xhc3M9XFxcInNhLWxpbmUgc2EtdGlwXFxcIj48L3NwYW4+XFxuICAgICAgPHNwYW4gY2xhc3M9XFxcInNhLWxpbmUgc2EtbG9uZ1xcXCI+PC9zcGFuPlxcblxcbiAgICAgIDxkaXYgY2xhc3M9XFxcInNhLXBsYWNlaG9sZGVyXFxcIj48L2Rpdj5cXG4gICAgICA8ZGl2IGNsYXNzPVxcXCJzYS1maXhcXFwiPjwvZGl2PlxcbiAgICA8L2Rpdj5cIiArIFwiPGRpdiBjbGFzcz1cXFwic2EtaWNvbiBzYS1jdXN0b21cXFwiPjwvZGl2PlwiICtcblxuLy8gVGl0bGUsIHRleHQgYW5kIGlucHV0XG5cIjxoMj5UaXRsZTwvaDI+XFxuICAgIDxwPlRleHQ8L3A+XFxuICAgIDxmaWVsZHNldD5cXG4gICAgICA8aW5wdXQgdHlwZT1cXFwidGV4dFxcXCIgdGFiSW5kZXg9XFxcIjNcXFwiIC8+XFxuICAgICAgPGRpdiBjbGFzcz1cXFwic2EtaW5wdXQtZXJyb3JcXFwiPjwvZGl2PlxcbiAgICA8L2ZpZWxkc2V0PlwiICtcblxuLy8gSW5wdXQgZXJyb3JzXG5cIjxkaXYgY2xhc3M9XFxcInNhLWVycm9yLWNvbnRhaW5lclxcXCI+XFxuICAgICAgPGRpdiBjbGFzcz1cXFwiaWNvblxcXCI+ITwvZGl2PlxcbiAgICAgIDxwPk5vdCB2YWxpZCE8L3A+XFxuICAgIDwvZGl2PlwiICtcblxuLy8gQ2FuY2VsIGFuZCBjb25maXJtIGJ1dHRvbnNcblwiPGRpdiBjbGFzcz1cXFwic2EtYnV0dG9uLWNvbnRhaW5lclxcXCI+XFxuICAgICAgPGJ1dHRvbiBjbGFzcz1cXFwiY2FuY2VsXFxcIiB0YWJJbmRleD1cXFwiMlxcXCI+Q2FuY2VsPC9idXR0b24+XFxuICAgICAgPGRpdiBjbGFzcz1cXFwic2EtY29uZmlybS1idXR0b24tY29udGFpbmVyXFxcIj5cXG4gICAgICAgIDxidXR0b24gY2xhc3M9XFxcImNvbmZpcm1cXFwiIHRhYkluZGV4PVxcXCIxXFxcIj5PSzwvYnV0dG9uPlwiICtcblxuLy8gTG9hZGluZyBhbmltYXRpb25cblwiPGRpdiBjbGFzcz1cXFwibGEtYmFsbC1mYWxsXFxcIj5cXG4gICAgICAgICAgPGRpdj48L2Rpdj5cXG4gICAgICAgICAgPGRpdj48L2Rpdj5cXG4gICAgICAgICAgPGRpdj48L2Rpdj5cXG4gICAgICAgIDwvZGl2PlxcbiAgICAgIDwvZGl2PlxcbiAgICA8L2Rpdj5cIiArXG5cbi8vIEVuZCBvZiBtb2RhbFxuXCI8L2Rpdj5cIjtcblxuZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBpbmplY3RlZEhUTUw7XG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbXCJkZWZhdWx0XCJdOyIsIid1c2Ugc3RyaWN0JztcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfaXNJRTggPSByZXF1aXJlKCcuL3V0aWxzJyk7XG5cbnZhciBfZ2V0TW9kYWwkZ2V0SW5wdXQkc2V0Rm9jdXNTdHlsZSA9IHJlcXVpcmUoJy4vaGFuZGxlLXN3YWwtZG9tJyk7XG5cbnZhciBfaGFzQ2xhc3MkYWRkQ2xhc3MkcmVtb3ZlQ2xhc3MkZXNjYXBlSHRtbCRfc2hvdyRzaG93JF9oaWRlJGhpZGUgPSByZXF1aXJlKCcuL2hhbmRsZS1kb20nKTtcblxudmFyIGFsZXJ0VHlwZXMgPSBbJ2Vycm9yJywgJ3dhcm5pbmcnLCAnaW5mbycsICdzdWNjZXNzJywgJ2lucHV0JywgJ3Byb21wdCddO1xuXG4vKlxuICogU2V0IHR5cGUsIHRleHQgYW5kIGFjdGlvbnMgb24gbW9kYWxcbiAqL1xudmFyIHNldFBhcmFtZXRlcnMgPSBmdW5jdGlvbiBzZXRQYXJhbWV0ZXJzKHBhcmFtcykge1xuICB2YXIgbW9kYWwgPSBfZ2V0TW9kYWwkZ2V0SW5wdXQkc2V0Rm9jdXNTdHlsZS5nZXRNb2RhbCgpO1xuXG4gIHZhciAkdGl0bGUgPSBtb2RhbC5xdWVyeVNlbGVjdG9yKCdoMicpO1xuICB2YXIgJHRleHQgPSBtb2RhbC5xdWVyeVNlbGVjdG9yKCdwJyk7XG4gIHZhciAkY2FuY2VsQnRuID0gbW9kYWwucXVlcnlTZWxlY3RvcignYnV0dG9uLmNhbmNlbCcpO1xuICB2YXIgJGNvbmZpcm1CdG4gPSBtb2RhbC5xdWVyeVNlbGVjdG9yKCdidXR0b24uY29uZmlybScpO1xuXG4gIC8qXG4gICAqIFRpdGxlXG4gICAqL1xuICAkdGl0bGUuaW5uZXJIVE1MID0gcGFyYW1zLmh0bWwgPyBwYXJhbXMudGl0bGUgOiBfaGFzQ2xhc3MkYWRkQ2xhc3MkcmVtb3ZlQ2xhc3MkZXNjYXBlSHRtbCRfc2hvdyRzaG93JF9oaWRlJGhpZGUuZXNjYXBlSHRtbChwYXJhbXMudGl0bGUpLnNwbGl0KCdcXG4nKS5qb2luKCc8YnI+Jyk7XG5cbiAgLypcbiAgICogVGV4dFxuICAgKi9cbiAgJHRleHQuaW5uZXJIVE1MID0gcGFyYW1zLmh0bWwgPyBwYXJhbXMudGV4dCA6IF9oYXNDbGFzcyRhZGRDbGFzcyRyZW1vdmVDbGFzcyRlc2NhcGVIdG1sJF9zaG93JHNob3ckX2hpZGUkaGlkZS5lc2NhcGVIdG1sKHBhcmFtcy50ZXh0IHx8ICcnKS5zcGxpdCgnXFxuJykuam9pbignPGJyPicpO1xuICBpZiAocGFyYW1zLnRleHQpIF9oYXNDbGFzcyRhZGRDbGFzcyRyZW1vdmVDbGFzcyRlc2NhcGVIdG1sJF9zaG93JHNob3ckX2hpZGUkaGlkZS5zaG93KCR0ZXh0KTtcblxuICAvKlxuICAgKiBDdXN0b20gY2xhc3NcbiAgICovXG4gIGlmIChwYXJhbXMuY3VzdG9tQ2xhc3MpIHtcbiAgICBfaGFzQ2xhc3MkYWRkQ2xhc3MkcmVtb3ZlQ2xhc3MkZXNjYXBlSHRtbCRfc2hvdyRzaG93JF9oaWRlJGhpZGUuYWRkQ2xhc3MobW9kYWwsIHBhcmFtcy5jdXN0b21DbGFzcyk7XG4gICAgbW9kYWwuc2V0QXR0cmlidXRlKCdkYXRhLWN1c3RvbS1jbGFzcycsIHBhcmFtcy5jdXN0b21DbGFzcyk7XG4gIH0gZWxzZSB7XG4gICAgLy8gRmluZCBwcmV2aW91c2x5IHNldCBjbGFzc2VzIGFuZCByZW1vdmUgdGhlbVxuICAgIHZhciBjdXN0b21DbGFzcyA9IG1vZGFsLmdldEF0dHJpYnV0ZSgnZGF0YS1jdXN0b20tY2xhc3MnKTtcbiAgICBfaGFzQ2xhc3MkYWRkQ2xhc3MkcmVtb3ZlQ2xhc3MkZXNjYXBlSHRtbCRfc2hvdyRzaG93JF9oaWRlJGhpZGUucmVtb3ZlQ2xhc3MobW9kYWwsIGN1c3RvbUNsYXNzKTtcbiAgICBtb2RhbC5zZXRBdHRyaWJ1dGUoJ2RhdGEtY3VzdG9tLWNsYXNzJywgJycpO1xuICB9XG5cbiAgLypcbiAgICogSWNvblxuICAgKi9cbiAgX2hhc0NsYXNzJGFkZENsYXNzJHJlbW92ZUNsYXNzJGVzY2FwZUh0bWwkX3Nob3ckc2hvdyRfaGlkZSRoaWRlLmhpZGUobW9kYWwucXVlcnlTZWxlY3RvckFsbCgnLnNhLWljb24nKSk7XG5cbiAgaWYgKHBhcmFtcy50eXBlICYmICFfaXNJRTguaXNJRTgoKSkge1xuICAgIHZhciBfcmV0ID0gKGZ1bmN0aW9uICgpIHtcblxuICAgICAgdmFyIHZhbGlkVHlwZSA9IGZhbHNlO1xuXG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFsZXJ0VHlwZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgaWYgKHBhcmFtcy50eXBlID09PSBhbGVydFR5cGVzW2ldKSB7XG4gICAgICAgICAgdmFsaWRUeXBlID0gdHJ1ZTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBpZiAoIXZhbGlkVHlwZSkge1xuICAgICAgICBsb2dTdHIoJ1Vua25vd24gYWxlcnQgdHlwZTogJyArIHBhcmFtcy50eXBlKTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICB2OiBmYWxzZVxuICAgICAgICB9O1xuICAgICAgfVxuXG4gICAgICB2YXIgdHlwZXNXaXRoSWNvbnMgPSBbJ3N1Y2Nlc3MnLCAnZXJyb3InLCAnd2FybmluZycsICdpbmZvJ107XG4gICAgICB2YXIgJGljb24gPSB1bmRlZmluZWQ7XG5cbiAgICAgIGlmICh0eXBlc1dpdGhJY29ucy5pbmRleE9mKHBhcmFtcy50eXBlKSAhPT0gLTEpIHtcbiAgICAgICAgJGljb24gPSBtb2RhbC5xdWVyeVNlbGVjdG9yKCcuc2EtaWNvbi4nICsgJ3NhLScgKyBwYXJhbXMudHlwZSk7XG4gICAgICAgIF9oYXNDbGFzcyRhZGRDbGFzcyRyZW1vdmVDbGFzcyRlc2NhcGVIdG1sJF9zaG93JHNob3ckX2hpZGUkaGlkZS5zaG93KCRpY29uKTtcbiAgICAgIH1cblxuICAgICAgdmFyICRpbnB1dCA9IF9nZXRNb2RhbCRnZXRJbnB1dCRzZXRGb2N1c1N0eWxlLmdldElucHV0KCk7XG5cbiAgICAgIC8vIEFuaW1hdGUgaWNvblxuICAgICAgc3dpdGNoIChwYXJhbXMudHlwZSkge1xuXG4gICAgICAgIGNhc2UgJ3N1Y2Nlc3MnOlxuICAgICAgICAgIF9oYXNDbGFzcyRhZGRDbGFzcyRyZW1vdmVDbGFzcyRlc2NhcGVIdG1sJF9zaG93JHNob3ckX2hpZGUkaGlkZS5hZGRDbGFzcygkaWNvbiwgJ2FuaW1hdGUnKTtcbiAgICAgICAgICBfaGFzQ2xhc3MkYWRkQ2xhc3MkcmVtb3ZlQ2xhc3MkZXNjYXBlSHRtbCRfc2hvdyRzaG93JF9oaWRlJGhpZGUuYWRkQ2xhc3MoJGljb24ucXVlcnlTZWxlY3RvcignLnNhLXRpcCcpLCAnYW5pbWF0ZVN1Y2Nlc3NUaXAnKTtcbiAgICAgICAgICBfaGFzQ2xhc3MkYWRkQ2xhc3MkcmVtb3ZlQ2xhc3MkZXNjYXBlSHRtbCRfc2hvdyRzaG93JF9oaWRlJGhpZGUuYWRkQ2xhc3MoJGljb24ucXVlcnlTZWxlY3RvcignLnNhLWxvbmcnKSwgJ2FuaW1hdGVTdWNjZXNzTG9uZycpO1xuICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgIGNhc2UgJ2Vycm9yJzpcbiAgICAgICAgICBfaGFzQ2xhc3MkYWRkQ2xhc3MkcmVtb3ZlQ2xhc3MkZXNjYXBlSHRtbCRfc2hvdyRzaG93JF9oaWRlJGhpZGUuYWRkQ2xhc3MoJGljb24sICdhbmltYXRlRXJyb3JJY29uJyk7XG4gICAgICAgICAgX2hhc0NsYXNzJGFkZENsYXNzJHJlbW92ZUNsYXNzJGVzY2FwZUh0bWwkX3Nob3ckc2hvdyRfaGlkZSRoaWRlLmFkZENsYXNzKCRpY29uLnF1ZXJ5U2VsZWN0b3IoJy5zYS14LW1hcmsnKSwgJ2FuaW1hdGVYTWFyaycpO1xuICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgIGNhc2UgJ3dhcm5pbmcnOlxuICAgICAgICAgIF9oYXNDbGFzcyRhZGRDbGFzcyRyZW1vdmVDbGFzcyRlc2NhcGVIdG1sJF9zaG93JHNob3ckX2hpZGUkaGlkZS5hZGRDbGFzcygkaWNvbiwgJ3B1bHNlV2FybmluZycpO1xuICAgICAgICAgIF9oYXNDbGFzcyRhZGRDbGFzcyRyZW1vdmVDbGFzcyRlc2NhcGVIdG1sJF9zaG93JHNob3ckX2hpZGUkaGlkZS5hZGRDbGFzcygkaWNvbi5xdWVyeVNlbGVjdG9yKCcuc2EtYm9keScpLCAncHVsc2VXYXJuaW5nSW5zJyk7XG4gICAgICAgICAgX2hhc0NsYXNzJGFkZENsYXNzJHJlbW92ZUNsYXNzJGVzY2FwZUh0bWwkX3Nob3ckc2hvdyRfaGlkZSRoaWRlLmFkZENsYXNzKCRpY29uLnF1ZXJ5U2VsZWN0b3IoJy5zYS1kb3QnKSwgJ3B1bHNlV2FybmluZ0lucycpO1xuICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgIGNhc2UgJ2lucHV0JzpcbiAgICAgICAgY2FzZSAncHJvbXB0JzpcbiAgICAgICAgICAkaW5wdXQuc2V0QXR0cmlidXRlKCd0eXBlJywgcGFyYW1zLmlucHV0VHlwZSk7XG4gICAgICAgICAgJGlucHV0LnZhbHVlID0gcGFyYW1zLmlucHV0VmFsdWU7XG4gICAgICAgICAgJGlucHV0LnNldEF0dHJpYnV0ZSgncGxhY2Vob2xkZXInLCBwYXJhbXMuaW5wdXRQbGFjZWhvbGRlcik7XG4gICAgICAgICAgX2hhc0NsYXNzJGFkZENsYXNzJHJlbW92ZUNsYXNzJGVzY2FwZUh0bWwkX3Nob3ckc2hvdyRfaGlkZSRoaWRlLmFkZENsYXNzKG1vZGFsLCAnc2hvdy1pbnB1dCcpO1xuICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgJGlucHV0LmZvY3VzKCk7XG4gICAgICAgICAgICAkaW5wdXQuYWRkRXZlbnRMaXN0ZW5lcigna2V5dXAnLCBzd2FsLnJlc2V0SW5wdXRFcnJvcik7XG4gICAgICAgICAgfSwgNDAwKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9KSgpO1xuXG4gICAgaWYgKHR5cGVvZiBfcmV0ID09PSAnb2JqZWN0Jykge1xuICAgICAgcmV0dXJuIF9yZXQudjtcbiAgICB9XG4gIH1cblxuICAvKlxuICAgKiBDdXN0b20gaW1hZ2VcbiAgICovXG4gIGlmIChwYXJhbXMuaW1hZ2VVcmwpIHtcbiAgICB2YXIgJGN1c3RvbUljb24gPSBtb2RhbC5xdWVyeVNlbGVjdG9yKCcuc2EtaWNvbi5zYS1jdXN0b20nKTtcblxuICAgICRjdXN0b21JY29uLnN0eWxlLmJhY2tncm91bmRJbWFnZSA9ICd1cmwoJyArIHBhcmFtcy5pbWFnZVVybCArICcpJztcbiAgICBfaGFzQ2xhc3MkYWRkQ2xhc3MkcmVtb3ZlQ2xhc3MkZXNjYXBlSHRtbCRfc2hvdyRzaG93JF9oaWRlJGhpZGUuc2hvdygkY3VzdG9tSWNvbik7XG5cbiAgICB2YXIgX2ltZ1dpZHRoID0gODA7XG4gICAgdmFyIF9pbWdIZWlnaHQgPSA4MDtcblxuICAgIGlmIChwYXJhbXMuaW1hZ2VTaXplKSB7XG4gICAgICB2YXIgZGltZW5zaW9ucyA9IHBhcmFtcy5pbWFnZVNpemUudG9TdHJpbmcoKS5zcGxpdCgneCcpO1xuICAgICAgdmFyIGltZ1dpZHRoID0gZGltZW5zaW9uc1swXTtcbiAgICAgIHZhciBpbWdIZWlnaHQgPSBkaW1lbnNpb25zWzFdO1xuXG4gICAgICBpZiAoIWltZ1dpZHRoIHx8ICFpbWdIZWlnaHQpIHtcbiAgICAgICAgbG9nU3RyKCdQYXJhbWV0ZXIgaW1hZ2VTaXplIGV4cGVjdHMgdmFsdWUgd2l0aCBmb3JtYXQgV0lEVEh4SEVJR0hULCBnb3QgJyArIHBhcmFtcy5pbWFnZVNpemUpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgX2ltZ1dpZHRoID0gaW1nV2lkdGg7XG4gICAgICAgIF9pbWdIZWlnaHQgPSBpbWdIZWlnaHQ7XG4gICAgICB9XG4gICAgfVxuXG4gICAgJGN1c3RvbUljb24uc2V0QXR0cmlidXRlKCdzdHlsZScsICRjdXN0b21JY29uLmdldEF0dHJpYnV0ZSgnc3R5bGUnKSArICd3aWR0aDonICsgX2ltZ1dpZHRoICsgJ3B4OyBoZWlnaHQ6JyArIF9pbWdIZWlnaHQgKyAncHgnKTtcbiAgfVxuXG4gIC8qXG4gICAqIFNob3cgY2FuY2VsIGJ1dHRvbj9cbiAgICovXG4gIG1vZGFsLnNldEF0dHJpYnV0ZSgnZGF0YS1oYXMtY2FuY2VsLWJ1dHRvbicsIHBhcmFtcy5zaG93Q2FuY2VsQnV0dG9uKTtcbiAgaWYgKHBhcmFtcy5zaG93Q2FuY2VsQnV0dG9uKSB7XG4gICAgJGNhbmNlbEJ0bi5zdHlsZS5kaXNwbGF5ID0gJ2lubGluZS1ibG9jayc7XG4gIH0gZWxzZSB7XG4gICAgX2hhc0NsYXNzJGFkZENsYXNzJHJlbW92ZUNsYXNzJGVzY2FwZUh0bWwkX3Nob3ckc2hvdyRfaGlkZSRoaWRlLmhpZGUoJGNhbmNlbEJ0bik7XG4gIH1cblxuICAvKlxuICAgKiBTaG93IGNvbmZpcm0gYnV0dG9uP1xuICAgKi9cbiAgbW9kYWwuc2V0QXR0cmlidXRlKCdkYXRhLWhhcy1jb25maXJtLWJ1dHRvbicsIHBhcmFtcy5zaG93Q29uZmlybUJ1dHRvbik7XG4gIGlmIChwYXJhbXMuc2hvd0NvbmZpcm1CdXR0b24pIHtcbiAgICAkY29uZmlybUJ0bi5zdHlsZS5kaXNwbGF5ID0gJ2lubGluZS1ibG9jayc7XG4gIH0gZWxzZSB7XG4gICAgX2hhc0NsYXNzJGFkZENsYXNzJHJlbW92ZUNsYXNzJGVzY2FwZUh0bWwkX3Nob3ckc2hvdyRfaGlkZSRoaWRlLmhpZGUoJGNvbmZpcm1CdG4pO1xuICB9XG5cbiAgLypcbiAgICogQ3VzdG9tIHRleHQgb24gY2FuY2VsL2NvbmZpcm0gYnV0dG9uc1xuICAgKi9cbiAgaWYgKHBhcmFtcy5jYW5jZWxCdXR0b25UZXh0KSB7XG4gICAgJGNhbmNlbEJ0bi5pbm5lckhUTUwgPSBfaGFzQ2xhc3MkYWRkQ2xhc3MkcmVtb3ZlQ2xhc3MkZXNjYXBlSHRtbCRfc2hvdyRzaG93JF9oaWRlJGhpZGUuZXNjYXBlSHRtbChwYXJhbXMuY2FuY2VsQnV0dG9uVGV4dCk7XG4gIH1cbiAgaWYgKHBhcmFtcy5jb25maXJtQnV0dG9uVGV4dCkge1xuICAgICRjb25maXJtQnRuLmlubmVySFRNTCA9IF9oYXNDbGFzcyRhZGRDbGFzcyRyZW1vdmVDbGFzcyRlc2NhcGVIdG1sJF9zaG93JHNob3ckX2hpZGUkaGlkZS5lc2NhcGVIdG1sKHBhcmFtcy5jb25maXJtQnV0dG9uVGV4dCk7XG4gIH1cblxuICAvKlxuICAgKiBDdXN0b20gY29sb3Igb24gY29uZmlybSBidXR0b25cbiAgICovXG4gIGlmIChwYXJhbXMuY29uZmlybUJ1dHRvbkNvbG9yKSB7XG4gICAgLy8gU2V0IGNvbmZpcm0gYnV0dG9uIHRvIHNlbGVjdGVkIGJhY2tncm91bmQgY29sb3JcbiAgICAkY29uZmlybUJ0bi5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSBwYXJhbXMuY29uZmlybUJ1dHRvbkNvbG9yO1xuXG4gICAgLy8gU2V0IHRoZSBjb25maXJtIGJ1dHRvbiBjb2xvciB0byB0aGUgbG9hZGluZyByaW5nXG4gICAgJGNvbmZpcm1CdG4uc3R5bGUuYm9yZGVyTGVmdENvbG9yID0gcGFyYW1zLmNvbmZpcm1Mb2FkaW5nQnV0dG9uQ29sb3I7XG4gICAgJGNvbmZpcm1CdG4uc3R5bGUuYm9yZGVyUmlnaHRDb2xvciA9IHBhcmFtcy5jb25maXJtTG9hZGluZ0J1dHRvbkNvbG9yO1xuXG4gICAgLy8gU2V0IGJveC1zaGFkb3cgdG8gZGVmYXVsdCBmb2N1c2VkIGJ1dHRvblxuICAgIF9nZXRNb2RhbCRnZXRJbnB1dCRzZXRGb2N1c1N0eWxlLnNldEZvY3VzU3R5bGUoJGNvbmZpcm1CdG4sIHBhcmFtcy5jb25maXJtQnV0dG9uQ29sb3IpO1xuICB9XG5cbiAgLypcbiAgICogQWxsb3cgb3V0c2lkZSBjbGlja1xuICAgKi9cbiAgbW9kYWwuc2V0QXR0cmlidXRlKCdkYXRhLWFsbG93LW91dHNpZGUtY2xpY2snLCBwYXJhbXMuYWxsb3dPdXRzaWRlQ2xpY2spO1xuXG4gIC8qXG4gICAqIENhbGxiYWNrIGZ1bmN0aW9uXG4gICAqL1xuICB2YXIgaGFzRG9uZUZ1bmN0aW9uID0gcGFyYW1zLmRvbmVGdW5jdGlvbiA/IHRydWUgOiBmYWxzZTtcbiAgbW9kYWwuc2V0QXR0cmlidXRlKCdkYXRhLWhhcy1kb25lLWZ1bmN0aW9uJywgaGFzRG9uZUZ1bmN0aW9uKTtcblxuICAvKlxuICAgKiBBbmltYXRpb25cbiAgICovXG4gIGlmICghcGFyYW1zLmFuaW1hdGlvbikge1xuICAgIG1vZGFsLnNldEF0dHJpYnV0ZSgnZGF0YS1hbmltYXRpb24nLCAnbm9uZScpO1xuICB9IGVsc2UgaWYgKHR5cGVvZiBwYXJhbXMuYW5pbWF0aW9uID09PSAnc3RyaW5nJykge1xuICAgIG1vZGFsLnNldEF0dHJpYnV0ZSgnZGF0YS1hbmltYXRpb24nLCBwYXJhbXMuYW5pbWF0aW9uKTsgLy8gQ3VzdG9tIGFuaW1hdGlvblxuICB9IGVsc2Uge1xuICAgIG1vZGFsLnNldEF0dHJpYnV0ZSgnZGF0YS1hbmltYXRpb24nLCAncG9wJyk7XG4gIH1cblxuICAvKlxuICAgKiBUaW1lclxuICAgKi9cbiAgbW9kYWwuc2V0QXR0cmlidXRlKCdkYXRhLXRpbWVyJywgcGFyYW1zLnRpbWVyKTtcbn07XG5cbmV4cG9ydHNbJ2RlZmF1bHQnXSA9IHNldFBhcmFtZXRlcnM7XG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbJ2RlZmF1bHQnXTsiLCIndXNlIHN0cmljdCc7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuLypcbiAqIEFsbG93IHVzZXIgdG8gcGFzcyB0aGVpciBvd24gcGFyYW1zXG4gKi9cbnZhciBleHRlbmQgPSBmdW5jdGlvbiBleHRlbmQoYSwgYikge1xuICBmb3IgKHZhciBrZXkgaW4gYikge1xuICAgIGlmIChiLmhhc093blByb3BlcnR5KGtleSkpIHtcbiAgICAgIGFba2V5XSA9IGJba2V5XTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIGE7XG59O1xuXG4vKlxuICogQ29udmVydCBIRVggY29kZXMgdG8gUkdCIHZhbHVlcyAoIzAwMDAwMCAtPiByZ2IoMCwwLDApKVxuICovXG52YXIgaGV4VG9SZ2IgPSBmdW5jdGlvbiBoZXhUb1JnYihoZXgpIHtcbiAgdmFyIHJlc3VsdCA9IC9eIz8oW2EtZlxcZF17Mn0pKFthLWZcXGRdezJ9KShbYS1mXFxkXXsyfSkkL2kuZXhlYyhoZXgpO1xuICByZXR1cm4gcmVzdWx0ID8gcGFyc2VJbnQocmVzdWx0WzFdLCAxNikgKyAnLCAnICsgcGFyc2VJbnQocmVzdWx0WzJdLCAxNikgKyAnLCAnICsgcGFyc2VJbnQocmVzdWx0WzNdLCAxNikgOiBudWxsO1xufTtcblxuLypcbiAqIENoZWNrIGlmIHRoZSB1c2VyIGlzIHVzaW5nIEludGVybmV0IEV4cGxvcmVyIDggKGZvciBmYWxsYmFja3MpXG4gKi9cbnZhciBpc0lFOCA9IGZ1bmN0aW9uIGlzSUU4KCkge1xuICByZXR1cm4gd2luZG93LmF0dGFjaEV2ZW50ICYmICF3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcjtcbn07XG5cbi8qXG4gKiBJRSBjb21wYXRpYmxlIGxvZ2dpbmcgZm9yIGRldmVsb3BlcnNcbiAqL1xudmFyIGxvZ1N0ciA9IGZ1bmN0aW9uIGxvZ1N0cihzdHJpbmcpIHtcbiAgaWYgKHdpbmRvdy5jb25zb2xlKSB7XG4gICAgLy8gSUUuLi5cbiAgICB3aW5kb3cuY29uc29sZS5sb2coJ1N3ZWV0QWxlcnQ6ICcgKyBzdHJpbmcpO1xuICB9XG59O1xuXG4vKlxuICogU2V0IGhvdmVyLCBhY3RpdmUgYW5kIGZvY3VzLXN0YXRlcyBmb3IgYnV0dG9ucyBcbiAqIChzb3VyY2U6IGh0dHA6Ly93d3cuc2l0ZXBvaW50LmNvbS9qYXZhc2NyaXB0LWdlbmVyYXRlLWxpZ2h0ZXItZGFya2VyLWNvbG9yKVxuICovXG52YXIgY29sb3JMdW1pbmFuY2UgPSBmdW5jdGlvbiBjb2xvckx1bWluYW5jZShoZXgsIGx1bSkge1xuICAvLyBWYWxpZGF0ZSBoZXggc3RyaW5nXG4gIGhleCA9IFN0cmluZyhoZXgpLnJlcGxhY2UoL1teMC05YS1mXS9naSwgJycpO1xuICBpZiAoaGV4Lmxlbmd0aCA8IDYpIHtcbiAgICBoZXggPSBoZXhbMF0gKyBoZXhbMF0gKyBoZXhbMV0gKyBoZXhbMV0gKyBoZXhbMl0gKyBoZXhbMl07XG4gIH1cbiAgbHVtID0gbHVtIHx8IDA7XG5cbiAgLy8gQ29udmVydCB0byBkZWNpbWFsIGFuZCBjaGFuZ2UgbHVtaW5vc2l0eVxuICB2YXIgcmdiID0gJyMnO1xuICB2YXIgYztcbiAgdmFyIGk7XG5cbiAgZm9yIChpID0gMDsgaSA8IDM7IGkrKykge1xuICAgIGMgPSBwYXJzZUludChoZXguc3Vic3RyKGkgKiAyLCAyKSwgMTYpO1xuICAgIGMgPSBNYXRoLnJvdW5kKE1hdGgubWluKE1hdGgubWF4KDAsIGMgKyBjICogbHVtKSwgMjU1KSkudG9TdHJpbmcoMTYpO1xuICAgIHJnYiArPSAoJzAwJyArIGMpLnN1YnN0cihjLmxlbmd0aCk7XG4gIH1cblxuICByZXR1cm4gcmdiO1xufTtcblxuZXhwb3J0cy5leHRlbmQgPSBleHRlbmQ7XG5leHBvcnRzLmhleFRvUmdiID0gaGV4VG9SZ2I7XG5leHBvcnRzLmlzSUU4ID0gaXNJRTg7XG5leHBvcnRzLmxvZ1N0ciA9IGxvZ1N0cjtcbmV4cG9ydHMuY29sb3JMdW1pbmFuY2UgPSBjb2xvckx1bWluYW5jZTsiLCIndXNlIHN0cmljdCc7XG5cbnZhciBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZCA9IGZ1bmN0aW9uIChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgJ2RlZmF1bHQnOiBvYmogfTsgfTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG4vLyBTd2VldEFsZXJ0XG4vLyAyMDE0LTIwMTUgKGMpIC0gVHJpc3RhbiBFZHdhcmRzXG4vLyBnaXRodWIuY29tL3Q0dDUvc3dlZXRhbGVydFxuXG4vKlxuICogalF1ZXJ5LWxpa2UgZnVuY3Rpb25zIGZvciBtYW5pcHVsYXRpbmcgdGhlIERPTVxuICovXG5cbnZhciBfaGFzQ2xhc3MkYWRkQ2xhc3MkcmVtb3ZlQ2xhc3MkZXNjYXBlSHRtbCRfc2hvdyRzaG93JF9oaWRlJGhpZGUkaXNEZXNjZW5kYW50JGdldFRvcE1hcmdpbiRmYWRlSW4kZmFkZU91dCRmaXJlQ2xpY2skc3RvcEV2ZW50UHJvcGFnYXRpb24gPSByZXF1aXJlKCcuL21vZHVsZXMvaGFuZGxlLWRvbScpO1xuXG4vKlxuICogSGFuZHkgdXRpbGl0aWVzXG4gKi9cblxudmFyIF9leHRlbmQkaGV4VG9SZ2IkaXNJRTgkbG9nU3RyJGNvbG9yTHVtaW5hbmNlID0gcmVxdWlyZSgnLi9tb2R1bGVzL3V0aWxzJyk7XG5cbi8qXG4gKiAgSGFuZGxlIHN3ZWV0QWxlcnQncyBET00gZWxlbWVudHNcbiAqL1xuXG52YXIgX3N3ZWV0QWxlcnRJbml0aWFsaXplJGdldE1vZGFsJGdldE92ZXJsYXkkZ2V0SW5wdXQkc2V0Rm9jdXNTdHlsZSRvcGVuTW9kYWwkcmVzZXRJbnB1dCRmaXhWZXJ0aWNhbFBvc2l0aW9uID0gcmVxdWlyZSgnLi9tb2R1bGVzL2hhbmRsZS1zd2FsLWRvbScpO1xuXG4vLyBIYW5kbGUgYnV0dG9uIGV2ZW50cyBhbmQga2V5Ym9hcmQgZXZlbnRzXG5cbnZhciBfaGFuZGxlQnV0dG9uJGhhbmRsZUNvbmZpcm0kaGFuZGxlQ2FuY2VsID0gcmVxdWlyZSgnLi9tb2R1bGVzL2hhbmRsZS1jbGljaycpO1xuXG52YXIgX2hhbmRsZUtleURvd24gPSByZXF1aXJlKCcuL21vZHVsZXMvaGFuZGxlLWtleScpO1xuXG52YXIgX2hhbmRsZUtleURvd24yID0gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQoX2hhbmRsZUtleURvd24pO1xuXG4vLyBEZWZhdWx0IHZhbHVlc1xuXG52YXIgX2RlZmF1bHRQYXJhbXMgPSByZXF1aXJlKCcuL21vZHVsZXMvZGVmYXVsdC1wYXJhbXMnKTtcblxudmFyIF9kZWZhdWx0UGFyYW1zMiA9IF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKF9kZWZhdWx0UGFyYW1zKTtcblxudmFyIF9zZXRQYXJhbWV0ZXJzID0gcmVxdWlyZSgnLi9tb2R1bGVzL3NldC1wYXJhbXMnKTtcblxudmFyIF9zZXRQYXJhbWV0ZXJzMiA9IF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKF9zZXRQYXJhbWV0ZXJzKTtcblxuLypcbiAqIFJlbWVtYmVyIHN0YXRlIGluIGNhc2VzIHdoZXJlIG9wZW5pbmcgYW5kIGhhbmRsaW5nIGEgbW9kYWwgd2lsbCBmaWRkbGUgd2l0aCBpdC5cbiAqIChXZSBhbHNvIHVzZSB3aW5kb3cucHJldmlvdXNBY3RpdmVFbGVtZW50IGFzIGEgZ2xvYmFsIHZhcmlhYmxlKVxuICovXG52YXIgcHJldmlvdXNXaW5kb3dLZXlEb3duO1xudmFyIGxhc3RGb2N1c2VkQnV0dG9uO1xuXG4vKlxuICogR2xvYmFsIHN3ZWV0QWxlcnQgZnVuY3Rpb25cbiAqICh0aGlzIGlzIHdoYXQgdGhlIHVzZXIgY2FsbHMpXG4gKi9cbnZhciBzd2VldEFsZXJ0LCBzd2FsO1xuXG5leHBvcnRzWydkZWZhdWx0J10gPSBzd2VldEFsZXJ0ID0gc3dhbCA9IGZ1bmN0aW9uICgpIHtcbiAgdmFyIGN1c3RvbWl6YXRpb25zID0gYXJndW1lbnRzWzBdO1xuXG4gIF9oYXNDbGFzcyRhZGRDbGFzcyRyZW1vdmVDbGFzcyRlc2NhcGVIdG1sJF9zaG93JHNob3ckX2hpZGUkaGlkZSRpc0Rlc2NlbmRhbnQkZ2V0VG9wTWFyZ2luJGZhZGVJbiRmYWRlT3V0JGZpcmVDbGljayRzdG9wRXZlbnRQcm9wYWdhdGlvbi5hZGRDbGFzcyhkb2N1bWVudC5ib2R5LCAnc3RvcC1zY3JvbGxpbmcnKTtcbiAgX3N3ZWV0QWxlcnRJbml0aWFsaXplJGdldE1vZGFsJGdldE92ZXJsYXkkZ2V0SW5wdXQkc2V0Rm9jdXNTdHlsZSRvcGVuTW9kYWwkcmVzZXRJbnB1dCRmaXhWZXJ0aWNhbFBvc2l0aW9uLnJlc2V0SW5wdXQoKTtcblxuICAvKlxuICAgKiBVc2UgYXJndW1lbnQgaWYgZGVmaW5lZCBvciBkZWZhdWx0IHZhbHVlIGZyb20gcGFyYW1zIG9iamVjdCBvdGhlcndpc2UuXG4gICAqIFN1cHBvcnRzIHRoZSBjYXNlIHdoZXJlIGEgZGVmYXVsdCB2YWx1ZSBpcyBib29sZWFuIHRydWUgYW5kIHNob3VsZCBiZVxuICAgKiBvdmVycmlkZGVuIGJ5IGEgY29ycmVzcG9uZGluZyBleHBsaWNpdCBhcmd1bWVudCB3aGljaCBpcyBib29sZWFuIGZhbHNlLlxuICAgKi9cbiAgZnVuY3Rpb24gYXJndW1lbnRPckRlZmF1bHQoa2V5KSB7XG4gICAgdmFyIGFyZ3MgPSBjdXN0b21pemF0aW9ucztcbiAgICByZXR1cm4gYXJnc1trZXldID09PSB1bmRlZmluZWQgPyBfZGVmYXVsdFBhcmFtczJbJ2RlZmF1bHQnXVtrZXldIDogYXJnc1trZXldO1xuICB9XG5cbiAgaWYgKGN1c3RvbWl6YXRpb25zID09PSB1bmRlZmluZWQpIHtcbiAgICBfZXh0ZW5kJGhleFRvUmdiJGlzSUU4JGxvZ1N0ciRjb2xvckx1bWluYW5jZS5sb2dTdHIoJ1N3ZWV0QWxlcnQgZXhwZWN0cyBhdCBsZWFzdCAxIGF0dHJpYnV0ZSEnKTtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICB2YXIgcGFyYW1zID0gX2V4dGVuZCRoZXhUb1JnYiRpc0lFOCRsb2dTdHIkY29sb3JMdW1pbmFuY2UuZXh0ZW5kKHt9LCBfZGVmYXVsdFBhcmFtczJbJ2RlZmF1bHQnXSk7XG5cbiAgc3dpdGNoICh0eXBlb2YgY3VzdG9taXphdGlvbnMpIHtcblxuICAgIC8vIEV4OiBzd2FsKFwiSGVsbG9cIiwgXCJKdXN0IHRlc3RpbmdcIiwgXCJpbmZvXCIpO1xuICAgIGNhc2UgJ3N0cmluZyc6XG4gICAgICBwYXJhbXMudGl0bGUgPSBjdXN0b21pemF0aW9ucztcbiAgICAgIHBhcmFtcy50ZXh0ID0gYXJndW1lbnRzWzFdIHx8ICcnO1xuICAgICAgcGFyYW1zLnR5cGUgPSBhcmd1bWVudHNbMl0gfHwgJyc7XG4gICAgICBicmVhaztcblxuICAgIC8vIEV4OiBzd2FsKHsgdGl0bGU6XCJIZWxsb1wiLCB0ZXh0OiBcIkp1c3QgdGVzdGluZ1wiLCB0eXBlOiBcImluZm9cIiB9KTtcbiAgICBjYXNlICdvYmplY3QnOlxuICAgICAgaWYgKGN1c3RvbWl6YXRpb25zLnRpdGxlID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgX2V4dGVuZCRoZXhUb1JnYiRpc0lFOCRsb2dTdHIkY29sb3JMdW1pbmFuY2UubG9nU3RyKCdNaXNzaW5nIFwidGl0bGVcIiBhcmd1bWVudCEnKTtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuXG4gICAgICBwYXJhbXMudGl0bGUgPSBjdXN0b21pemF0aW9ucy50aXRsZTtcblxuICAgICAgZm9yICh2YXIgY3VzdG9tTmFtZSBpbiBfZGVmYXVsdFBhcmFtczJbJ2RlZmF1bHQnXSkge1xuICAgICAgICBwYXJhbXNbY3VzdG9tTmFtZV0gPSBhcmd1bWVudE9yRGVmYXVsdChjdXN0b21OYW1lKTtcbiAgICAgIH1cblxuICAgICAgLy8gU2hvdyBcIkNvbmZpcm1cIiBpbnN0ZWFkIG9mIFwiT0tcIiBpZiBjYW5jZWwgYnV0dG9uIGlzIHZpc2libGVcbiAgICAgIHBhcmFtcy5jb25maXJtQnV0dG9uVGV4dCA9IHBhcmFtcy5zaG93Q2FuY2VsQnV0dG9uID8gJ0NvbmZpcm0nIDogX2RlZmF1bHRQYXJhbXMyWydkZWZhdWx0J10uY29uZmlybUJ1dHRvblRleHQ7XG4gICAgICBwYXJhbXMuY29uZmlybUJ1dHRvblRleHQgPSBhcmd1bWVudE9yRGVmYXVsdCgnY29uZmlybUJ1dHRvblRleHQnKTtcblxuICAgICAgLy8gQ2FsbGJhY2sgZnVuY3Rpb24gd2hlbiBjbGlja2luZyBvbiBcIk9LXCIvXCJDYW5jZWxcIlxuICAgICAgcGFyYW1zLmRvbmVGdW5jdGlvbiA9IGFyZ3VtZW50c1sxXSB8fCBudWxsO1xuXG4gICAgICBicmVhaztcblxuICAgIGRlZmF1bHQ6XG4gICAgICBfZXh0ZW5kJGhleFRvUmdiJGlzSUU4JGxvZ1N0ciRjb2xvckx1bWluYW5jZS5sb2dTdHIoJ1VuZXhwZWN0ZWQgdHlwZSBvZiBhcmd1bWVudCEgRXhwZWN0ZWQgXCJzdHJpbmdcIiBvciBcIm9iamVjdFwiLCBnb3QgJyArIHR5cGVvZiBjdXN0b21pemF0aW9ucyk7XG4gICAgICByZXR1cm4gZmFsc2U7XG5cbiAgfVxuXG4gIF9zZXRQYXJhbWV0ZXJzMlsnZGVmYXVsdCddKHBhcmFtcyk7XG4gIF9zd2VldEFsZXJ0SW5pdGlhbGl6ZSRnZXRNb2RhbCRnZXRPdmVybGF5JGdldElucHV0JHNldEZvY3VzU3R5bGUkb3Blbk1vZGFsJHJlc2V0SW5wdXQkZml4VmVydGljYWxQb3NpdGlvbi5maXhWZXJ0aWNhbFBvc2l0aW9uKCk7XG4gIF9zd2VldEFsZXJ0SW5pdGlhbGl6ZSRnZXRNb2RhbCRnZXRPdmVybGF5JGdldElucHV0JHNldEZvY3VzU3R5bGUkb3Blbk1vZGFsJHJlc2V0SW5wdXQkZml4VmVydGljYWxQb3NpdGlvbi5vcGVuTW9kYWwoYXJndW1lbnRzWzFdKTtcblxuICAvLyBNb2RhbCBpbnRlcmFjdGlvbnNcbiAgdmFyIG1vZGFsID0gX3N3ZWV0QWxlcnRJbml0aWFsaXplJGdldE1vZGFsJGdldE92ZXJsYXkkZ2V0SW5wdXQkc2V0Rm9jdXNTdHlsZSRvcGVuTW9kYWwkcmVzZXRJbnB1dCRmaXhWZXJ0aWNhbFBvc2l0aW9uLmdldE1vZGFsKCk7XG5cbiAgLypcbiAgICogTWFrZSBzdXJlIGFsbCBtb2RhbCBidXR0b25zIHJlc3BvbmQgdG8gYWxsIGV2ZW50c1xuICAgKi9cbiAgdmFyICRidXR0b25zID0gbW9kYWwucXVlcnlTZWxlY3RvckFsbCgnYnV0dG9uJyk7XG4gIHZhciBidXR0b25FdmVudHMgPSBbJ29uY2xpY2snLCAnb25tb3VzZW92ZXInLCAnb25tb3VzZW91dCcsICdvbm1vdXNlZG93bicsICdvbm1vdXNldXAnLCAnb25mb2N1cyddO1xuICB2YXIgb25CdXR0b25FdmVudCA9IGZ1bmN0aW9uIG9uQnV0dG9uRXZlbnQoZSkge1xuICAgIHJldHVybiBfaGFuZGxlQnV0dG9uJGhhbmRsZUNvbmZpcm0kaGFuZGxlQ2FuY2VsLmhhbmRsZUJ1dHRvbihlLCBwYXJhbXMsIG1vZGFsKTtcbiAgfTtcblxuICBmb3IgKHZhciBidG5JbmRleCA9IDA7IGJ0bkluZGV4IDwgJGJ1dHRvbnMubGVuZ3RoOyBidG5JbmRleCsrKSB7XG4gICAgZm9yICh2YXIgZXZ0SW5kZXggPSAwOyBldnRJbmRleCA8IGJ1dHRvbkV2ZW50cy5sZW5ndGg7IGV2dEluZGV4KyspIHtcbiAgICAgIHZhciBidG5FdnQgPSBidXR0b25FdmVudHNbZXZ0SW5kZXhdO1xuICAgICAgJGJ1dHRvbnNbYnRuSW5kZXhdW2J0bkV2dF0gPSBvbkJ1dHRvbkV2ZW50O1xuICAgIH1cbiAgfVxuXG4gIC8vIENsaWNraW5nIG91dHNpZGUgdGhlIG1vZGFsIGRpc21pc3NlcyBpdCAoaWYgYWxsb3dlZCBieSB1c2VyKVxuICBfc3dlZXRBbGVydEluaXRpYWxpemUkZ2V0TW9kYWwkZ2V0T3ZlcmxheSRnZXRJbnB1dCRzZXRGb2N1c1N0eWxlJG9wZW5Nb2RhbCRyZXNldElucHV0JGZpeFZlcnRpY2FsUG9zaXRpb24uZ2V0T3ZlcmxheSgpLm9uY2xpY2sgPSBvbkJ1dHRvbkV2ZW50O1xuXG4gIHByZXZpb3VzV2luZG93S2V5RG93biA9IHdpbmRvdy5vbmtleWRvd247XG5cbiAgdmFyIG9uS2V5RXZlbnQgPSBmdW5jdGlvbiBvbktleUV2ZW50KGUpIHtcbiAgICByZXR1cm4gX2hhbmRsZUtleURvd24yWydkZWZhdWx0J10oZSwgcGFyYW1zLCBtb2RhbCk7XG4gIH07XG4gIHdpbmRvdy5vbmtleWRvd24gPSBvbktleUV2ZW50O1xuXG4gIHdpbmRvdy5vbmZvY3VzID0gZnVuY3Rpb24gKCkge1xuICAgIC8vIFdoZW4gdGhlIHVzZXIgaGFzIGZvY3VzZWQgYXdheSBhbmQgZm9jdXNlZCBiYWNrIGZyb20gdGhlIHdob2xlIHdpbmRvdy5cbiAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgIC8vIFB1dCBpbiBhIHRpbWVvdXQgdG8ganVtcCBvdXQgb2YgdGhlIGV2ZW50IHNlcXVlbmNlLlxuICAgICAgLy8gQ2FsbGluZyBmb2N1cygpIGluIHRoZSBldmVudCBzZXF1ZW5jZSBjb25mdXNlcyB0aGluZ3MuXG4gICAgICBpZiAobGFzdEZvY3VzZWRCdXR0b24gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBsYXN0Rm9jdXNlZEJ1dHRvbi5mb2N1cygpO1xuICAgICAgICBsYXN0Rm9jdXNlZEJ1dHRvbiA9IHVuZGVmaW5lZDtcbiAgICAgIH1cbiAgICB9LCAwKTtcbiAgfTtcblxuICAvLyBTaG93IGFsZXJ0IHdpdGggZW5hYmxlZCBidXR0b25zIGFsd2F5c1xuICBzd2FsLmVuYWJsZUJ1dHRvbnMoKTtcbn07XG5cbi8qXG4gKiBTZXQgZGVmYXVsdCBwYXJhbXMgZm9yIGVhY2ggcG9wdXBcbiAqIEBwYXJhbSB7T2JqZWN0fSB1c2VyUGFyYW1zXG4gKi9cbnN3ZWV0QWxlcnQuc2V0RGVmYXVsdHMgPSBzd2FsLnNldERlZmF1bHRzID0gZnVuY3Rpb24gKHVzZXJQYXJhbXMpIHtcbiAgaWYgKCF1c2VyUGFyYW1zKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCd1c2VyUGFyYW1zIGlzIHJlcXVpcmVkJyk7XG4gIH1cbiAgaWYgKHR5cGVvZiB1c2VyUGFyYW1zICE9PSAnb2JqZWN0Jykge1xuICAgIHRocm93IG5ldyBFcnJvcigndXNlclBhcmFtcyBoYXMgdG8gYmUgYSBvYmplY3QnKTtcbiAgfVxuXG4gIF9leHRlbmQkaGV4VG9SZ2IkaXNJRTgkbG9nU3RyJGNvbG9yTHVtaW5hbmNlLmV4dGVuZChfZGVmYXVsdFBhcmFtczJbJ2RlZmF1bHQnXSwgdXNlclBhcmFtcyk7XG59O1xuXG4vKlxuICogQW5pbWF0aW9uIHdoZW4gY2xvc2luZyBtb2RhbFxuICovXG5zd2VldEFsZXJ0LmNsb3NlID0gc3dhbC5jbG9zZSA9IGZ1bmN0aW9uICgpIHtcbiAgdmFyIG1vZGFsID0gX3N3ZWV0QWxlcnRJbml0aWFsaXplJGdldE1vZGFsJGdldE92ZXJsYXkkZ2V0SW5wdXQkc2V0Rm9jdXNTdHlsZSRvcGVuTW9kYWwkcmVzZXRJbnB1dCRmaXhWZXJ0aWNhbFBvc2l0aW9uLmdldE1vZGFsKCk7XG5cbiAgX2hhc0NsYXNzJGFkZENsYXNzJHJlbW92ZUNsYXNzJGVzY2FwZUh0bWwkX3Nob3ckc2hvdyRfaGlkZSRoaWRlJGlzRGVzY2VuZGFudCRnZXRUb3BNYXJnaW4kZmFkZUluJGZhZGVPdXQkZmlyZUNsaWNrJHN0b3BFdmVudFByb3BhZ2F0aW9uLmZhZGVPdXQoX3N3ZWV0QWxlcnRJbml0aWFsaXplJGdldE1vZGFsJGdldE92ZXJsYXkkZ2V0SW5wdXQkc2V0Rm9jdXNTdHlsZSRvcGVuTW9kYWwkcmVzZXRJbnB1dCRmaXhWZXJ0aWNhbFBvc2l0aW9uLmdldE92ZXJsYXkoKSwgNSk7XG4gIF9oYXNDbGFzcyRhZGRDbGFzcyRyZW1vdmVDbGFzcyRlc2NhcGVIdG1sJF9zaG93JHNob3ckX2hpZGUkaGlkZSRpc0Rlc2NlbmRhbnQkZ2V0VG9wTWFyZ2luJGZhZGVJbiRmYWRlT3V0JGZpcmVDbGljayRzdG9wRXZlbnRQcm9wYWdhdGlvbi5mYWRlT3V0KG1vZGFsLCA1KTtcbiAgX2hhc0NsYXNzJGFkZENsYXNzJHJlbW92ZUNsYXNzJGVzY2FwZUh0bWwkX3Nob3ckc2hvdyRfaGlkZSRoaWRlJGlzRGVzY2VuZGFudCRnZXRUb3BNYXJnaW4kZmFkZUluJGZhZGVPdXQkZmlyZUNsaWNrJHN0b3BFdmVudFByb3BhZ2F0aW9uLnJlbW92ZUNsYXNzKG1vZGFsLCAnc2hvd1N3ZWV0QWxlcnQnKTtcbiAgX2hhc0NsYXNzJGFkZENsYXNzJHJlbW92ZUNsYXNzJGVzY2FwZUh0bWwkX3Nob3ckc2hvdyRfaGlkZSRoaWRlJGlzRGVzY2VuZGFudCRnZXRUb3BNYXJnaW4kZmFkZUluJGZhZGVPdXQkZmlyZUNsaWNrJHN0b3BFdmVudFByb3BhZ2F0aW9uLmFkZENsYXNzKG1vZGFsLCAnaGlkZVN3ZWV0QWxlcnQnKTtcbiAgX2hhc0NsYXNzJGFkZENsYXNzJHJlbW92ZUNsYXNzJGVzY2FwZUh0bWwkX3Nob3ckc2hvdyRfaGlkZSRoaWRlJGlzRGVzY2VuZGFudCRnZXRUb3BNYXJnaW4kZmFkZUluJGZhZGVPdXQkZmlyZUNsaWNrJHN0b3BFdmVudFByb3BhZ2F0aW9uLnJlbW92ZUNsYXNzKG1vZGFsLCAndmlzaWJsZScpO1xuXG4gIC8qXG4gICAqIFJlc2V0IGljb24gYW5pbWF0aW9uc1xuICAgKi9cbiAgdmFyICRzdWNjZXNzSWNvbiA9IG1vZGFsLnF1ZXJ5U2VsZWN0b3IoJy5zYS1pY29uLnNhLXN1Y2Nlc3MnKTtcbiAgX2hhc0NsYXNzJGFkZENsYXNzJHJlbW92ZUNsYXNzJGVzY2FwZUh0bWwkX3Nob3ckc2hvdyRfaGlkZSRoaWRlJGlzRGVzY2VuZGFudCRnZXRUb3BNYXJnaW4kZmFkZUluJGZhZGVPdXQkZmlyZUNsaWNrJHN0b3BFdmVudFByb3BhZ2F0aW9uLnJlbW92ZUNsYXNzKCRzdWNjZXNzSWNvbiwgJ2FuaW1hdGUnKTtcbiAgX2hhc0NsYXNzJGFkZENsYXNzJHJlbW92ZUNsYXNzJGVzY2FwZUh0bWwkX3Nob3ckc2hvdyRfaGlkZSRoaWRlJGlzRGVzY2VuZGFudCRnZXRUb3BNYXJnaW4kZmFkZUluJGZhZGVPdXQkZmlyZUNsaWNrJHN0b3BFdmVudFByb3BhZ2F0aW9uLnJlbW92ZUNsYXNzKCRzdWNjZXNzSWNvbi5xdWVyeVNlbGVjdG9yKCcuc2EtdGlwJyksICdhbmltYXRlU3VjY2Vzc1RpcCcpO1xuICBfaGFzQ2xhc3MkYWRkQ2xhc3MkcmVtb3ZlQ2xhc3MkZXNjYXBlSHRtbCRfc2hvdyRzaG93JF9oaWRlJGhpZGUkaXNEZXNjZW5kYW50JGdldFRvcE1hcmdpbiRmYWRlSW4kZmFkZU91dCRmaXJlQ2xpY2skc3RvcEV2ZW50UHJvcGFnYXRpb24ucmVtb3ZlQ2xhc3MoJHN1Y2Nlc3NJY29uLnF1ZXJ5U2VsZWN0b3IoJy5zYS1sb25nJyksICdhbmltYXRlU3VjY2Vzc0xvbmcnKTtcblxuICB2YXIgJGVycm9ySWNvbiA9IG1vZGFsLnF1ZXJ5U2VsZWN0b3IoJy5zYS1pY29uLnNhLWVycm9yJyk7XG4gIF9oYXNDbGFzcyRhZGRDbGFzcyRyZW1vdmVDbGFzcyRlc2NhcGVIdG1sJF9zaG93JHNob3ckX2hpZGUkaGlkZSRpc0Rlc2NlbmRhbnQkZ2V0VG9wTWFyZ2luJGZhZGVJbiRmYWRlT3V0JGZpcmVDbGljayRzdG9wRXZlbnRQcm9wYWdhdGlvbi5yZW1vdmVDbGFzcygkZXJyb3JJY29uLCAnYW5pbWF0ZUVycm9ySWNvbicpO1xuICBfaGFzQ2xhc3MkYWRkQ2xhc3MkcmVtb3ZlQ2xhc3MkZXNjYXBlSHRtbCRfc2hvdyRzaG93JF9oaWRlJGhpZGUkaXNEZXNjZW5kYW50JGdldFRvcE1hcmdpbiRmYWRlSW4kZmFkZU91dCRmaXJlQ2xpY2skc3RvcEV2ZW50UHJvcGFnYXRpb24ucmVtb3ZlQ2xhc3MoJGVycm9ySWNvbi5xdWVyeVNlbGVjdG9yKCcuc2EteC1tYXJrJyksICdhbmltYXRlWE1hcmsnKTtcblxuICB2YXIgJHdhcm5pbmdJY29uID0gbW9kYWwucXVlcnlTZWxlY3RvcignLnNhLWljb24uc2Etd2FybmluZycpO1xuICBfaGFzQ2xhc3MkYWRkQ2xhc3MkcmVtb3ZlQ2xhc3MkZXNjYXBlSHRtbCRfc2hvdyRzaG93JF9oaWRlJGhpZGUkaXNEZXNjZW5kYW50JGdldFRvcE1hcmdpbiRmYWRlSW4kZmFkZU91dCRmaXJlQ2xpY2skc3RvcEV2ZW50UHJvcGFnYXRpb24ucmVtb3ZlQ2xhc3MoJHdhcm5pbmdJY29uLCAncHVsc2VXYXJuaW5nJyk7XG4gIF9oYXNDbGFzcyRhZGRDbGFzcyRyZW1vdmVDbGFzcyRlc2NhcGVIdG1sJF9zaG93JHNob3ckX2hpZGUkaGlkZSRpc0Rlc2NlbmRhbnQkZ2V0VG9wTWFyZ2luJGZhZGVJbiRmYWRlT3V0JGZpcmVDbGljayRzdG9wRXZlbnRQcm9wYWdhdGlvbi5yZW1vdmVDbGFzcygkd2FybmluZ0ljb24ucXVlcnlTZWxlY3RvcignLnNhLWJvZHknKSwgJ3B1bHNlV2FybmluZ0lucycpO1xuICBfaGFzQ2xhc3MkYWRkQ2xhc3MkcmVtb3ZlQ2xhc3MkZXNjYXBlSHRtbCRfc2hvdyRzaG93JF9oaWRlJGhpZGUkaXNEZXNjZW5kYW50JGdldFRvcE1hcmdpbiRmYWRlSW4kZmFkZU91dCRmaXJlQ2xpY2skc3RvcEV2ZW50UHJvcGFnYXRpb24ucmVtb3ZlQ2xhc3MoJHdhcm5pbmdJY29uLnF1ZXJ5U2VsZWN0b3IoJy5zYS1kb3QnKSwgJ3B1bHNlV2FybmluZ0lucycpO1xuXG4gIC8vIFJlc2V0IGN1c3RvbSBjbGFzcyAoZGVsYXkgc28gdGhhdCBVSSBjaGFuZ2VzIGFyZW4ndCB2aXNpYmxlKVxuICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgY3VzdG9tQ2xhc3MgPSBtb2RhbC5nZXRBdHRyaWJ1dGUoJ2RhdGEtY3VzdG9tLWNsYXNzJyk7XG4gICAgX2hhc0NsYXNzJGFkZENsYXNzJHJlbW92ZUNsYXNzJGVzY2FwZUh0bWwkX3Nob3ckc2hvdyRfaGlkZSRoaWRlJGlzRGVzY2VuZGFudCRnZXRUb3BNYXJnaW4kZmFkZUluJGZhZGVPdXQkZmlyZUNsaWNrJHN0b3BFdmVudFByb3BhZ2F0aW9uLnJlbW92ZUNsYXNzKG1vZGFsLCBjdXN0b21DbGFzcyk7XG4gIH0sIDMwMCk7XG5cbiAgLy8gTWFrZSBwYWdlIHNjcm9sbGFibGUgYWdhaW5cbiAgX2hhc0NsYXNzJGFkZENsYXNzJHJlbW92ZUNsYXNzJGVzY2FwZUh0bWwkX3Nob3ckc2hvdyRfaGlkZSRoaWRlJGlzRGVzY2VuZGFudCRnZXRUb3BNYXJnaW4kZmFkZUluJGZhZGVPdXQkZmlyZUNsaWNrJHN0b3BFdmVudFByb3BhZ2F0aW9uLnJlbW92ZUNsYXNzKGRvY3VtZW50LmJvZHksICdzdG9wLXNjcm9sbGluZycpO1xuXG4gIC8vIFJlc2V0IHRoZSBwYWdlIHRvIGl0cyBwcmV2aW91cyBzdGF0ZVxuICB3aW5kb3cub25rZXlkb3duID0gcHJldmlvdXNXaW5kb3dLZXlEb3duO1xuICBpZiAod2luZG93LnByZXZpb3VzQWN0aXZlRWxlbWVudCkge1xuICAgIHdpbmRvdy5wcmV2aW91c0FjdGl2ZUVsZW1lbnQuZm9jdXMoKTtcbiAgfVxuICBsYXN0Rm9jdXNlZEJ1dHRvbiA9IHVuZGVmaW5lZDtcbiAgY2xlYXJUaW1lb3V0KG1vZGFsLnRpbWVvdXQpO1xuXG4gIHJldHVybiB0cnVlO1xufTtcblxuLypcbiAqIFZhbGlkYXRpb24gb2YgdGhlIGlucHV0IGZpZWxkIGlzIGRvbmUgYnkgdXNlclxuICogSWYgc29tZXRoaW5nIGlzIHdyb25nID0+IGNhbGwgc2hvd0lucHV0RXJyb3Igd2l0aCBlcnJvck1lc3NhZ2VcbiAqL1xuc3dlZXRBbGVydC5zaG93SW5wdXRFcnJvciA9IHN3YWwuc2hvd0lucHV0RXJyb3IgPSBmdW5jdGlvbiAoZXJyb3JNZXNzYWdlKSB7XG4gIHZhciBtb2RhbCA9IF9zd2VldEFsZXJ0SW5pdGlhbGl6ZSRnZXRNb2RhbCRnZXRPdmVybGF5JGdldElucHV0JHNldEZvY3VzU3R5bGUkb3Blbk1vZGFsJHJlc2V0SW5wdXQkZml4VmVydGljYWxQb3NpdGlvbi5nZXRNb2RhbCgpO1xuXG4gIHZhciAkZXJyb3JJY29uID0gbW9kYWwucXVlcnlTZWxlY3RvcignLnNhLWlucHV0LWVycm9yJyk7XG4gIF9oYXNDbGFzcyRhZGRDbGFzcyRyZW1vdmVDbGFzcyRlc2NhcGVIdG1sJF9zaG93JHNob3ckX2hpZGUkaGlkZSRpc0Rlc2NlbmRhbnQkZ2V0VG9wTWFyZ2luJGZhZGVJbiRmYWRlT3V0JGZpcmVDbGljayRzdG9wRXZlbnRQcm9wYWdhdGlvbi5hZGRDbGFzcygkZXJyb3JJY29uLCAnc2hvdycpO1xuXG4gIHZhciAkZXJyb3JDb250YWluZXIgPSBtb2RhbC5xdWVyeVNlbGVjdG9yKCcuc2EtZXJyb3ItY29udGFpbmVyJyk7XG4gIF9oYXNDbGFzcyRhZGRDbGFzcyRyZW1vdmVDbGFzcyRlc2NhcGVIdG1sJF9zaG93JHNob3ckX2hpZGUkaGlkZSRpc0Rlc2NlbmRhbnQkZ2V0VG9wTWFyZ2luJGZhZGVJbiRmYWRlT3V0JGZpcmVDbGljayRzdG9wRXZlbnRQcm9wYWdhdGlvbi5hZGRDbGFzcygkZXJyb3JDb250YWluZXIsICdzaG93Jyk7XG5cbiAgJGVycm9yQ29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoJ3AnKS5pbm5lckhUTUwgPSBlcnJvck1lc3NhZ2U7XG5cbiAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgc3dlZXRBbGVydC5lbmFibGVCdXR0b25zKCk7XG4gIH0sIDEpO1xuXG4gIG1vZGFsLnF1ZXJ5U2VsZWN0b3IoJ2lucHV0JykuZm9jdXMoKTtcbn07XG5cbi8qXG4gKiBSZXNldCBpbnB1dCBlcnJvciBET00gZWxlbWVudHNcbiAqL1xuc3dlZXRBbGVydC5yZXNldElucHV0RXJyb3IgPSBzd2FsLnJlc2V0SW5wdXRFcnJvciA9IGZ1bmN0aW9uIChldmVudCkge1xuICAvLyBJZiBwcmVzcyBlbnRlciA9PiBpZ25vcmVcbiAgaWYgKGV2ZW50ICYmIGV2ZW50LmtleUNvZGUgPT09IDEzKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgdmFyICRtb2RhbCA9IF9zd2VldEFsZXJ0SW5pdGlhbGl6ZSRnZXRNb2RhbCRnZXRPdmVybGF5JGdldElucHV0JHNldEZvY3VzU3R5bGUkb3Blbk1vZGFsJHJlc2V0SW5wdXQkZml4VmVydGljYWxQb3NpdGlvbi5nZXRNb2RhbCgpO1xuXG4gIHZhciAkZXJyb3JJY29uID0gJG1vZGFsLnF1ZXJ5U2VsZWN0b3IoJy5zYS1pbnB1dC1lcnJvcicpO1xuICBfaGFzQ2xhc3MkYWRkQ2xhc3MkcmVtb3ZlQ2xhc3MkZXNjYXBlSHRtbCRfc2hvdyRzaG93JF9oaWRlJGhpZGUkaXNEZXNjZW5kYW50JGdldFRvcE1hcmdpbiRmYWRlSW4kZmFkZU91dCRmaXJlQ2xpY2skc3RvcEV2ZW50UHJvcGFnYXRpb24ucmVtb3ZlQ2xhc3MoJGVycm9ySWNvbiwgJ3Nob3cnKTtcblxuICB2YXIgJGVycm9yQ29udGFpbmVyID0gJG1vZGFsLnF1ZXJ5U2VsZWN0b3IoJy5zYS1lcnJvci1jb250YWluZXInKTtcbiAgX2hhc0NsYXNzJGFkZENsYXNzJHJlbW92ZUNsYXNzJGVzY2FwZUh0bWwkX3Nob3ckc2hvdyRfaGlkZSRoaWRlJGlzRGVzY2VuZGFudCRnZXRUb3BNYXJnaW4kZmFkZUluJGZhZGVPdXQkZmlyZUNsaWNrJHN0b3BFdmVudFByb3BhZ2F0aW9uLnJlbW92ZUNsYXNzKCRlcnJvckNvbnRhaW5lciwgJ3Nob3cnKTtcbn07XG5cbi8qXG4gKiBEaXNhYmxlIGNvbmZpcm0gYW5kIGNhbmNlbCBidXR0b25zXG4gKi9cbnN3ZWV0QWxlcnQuZGlzYWJsZUJ1dHRvbnMgPSBzd2FsLmRpc2FibGVCdXR0b25zID0gZnVuY3Rpb24gKGV2ZW50KSB7XG4gIHZhciBtb2RhbCA9IF9zd2VldEFsZXJ0SW5pdGlhbGl6ZSRnZXRNb2RhbCRnZXRPdmVybGF5JGdldElucHV0JHNldEZvY3VzU3R5bGUkb3Blbk1vZGFsJHJlc2V0SW5wdXQkZml4VmVydGljYWxQb3NpdGlvbi5nZXRNb2RhbCgpO1xuICB2YXIgJGNvbmZpcm1CdXR0b24gPSBtb2RhbC5xdWVyeVNlbGVjdG9yKCdidXR0b24uY29uZmlybScpO1xuICB2YXIgJGNhbmNlbEJ1dHRvbiA9IG1vZGFsLnF1ZXJ5U2VsZWN0b3IoJ2J1dHRvbi5jYW5jZWwnKTtcbiAgJGNvbmZpcm1CdXR0b24uZGlzYWJsZWQgPSB0cnVlO1xuICAkY2FuY2VsQnV0dG9uLmRpc2FibGVkID0gdHJ1ZTtcbn07XG5cbi8qXG4gKiBFbmFibGUgY29uZmlybSBhbmQgY2FuY2VsIGJ1dHRvbnNcbiAqL1xuc3dlZXRBbGVydC5lbmFibGVCdXR0b25zID0gc3dhbC5lbmFibGVCdXR0b25zID0gZnVuY3Rpb24gKGV2ZW50KSB7XG4gIHZhciBtb2RhbCA9IF9zd2VldEFsZXJ0SW5pdGlhbGl6ZSRnZXRNb2RhbCRnZXRPdmVybGF5JGdldElucHV0JHNldEZvY3VzU3R5bGUkb3Blbk1vZGFsJHJlc2V0SW5wdXQkZml4VmVydGljYWxQb3NpdGlvbi5nZXRNb2RhbCgpO1xuICB2YXIgJGNvbmZpcm1CdXR0b24gPSBtb2RhbC5xdWVyeVNlbGVjdG9yKCdidXR0b24uY29uZmlybScpO1xuICB2YXIgJGNhbmNlbEJ1dHRvbiA9IG1vZGFsLnF1ZXJ5U2VsZWN0b3IoJ2J1dHRvbi5jYW5jZWwnKTtcbiAgJGNvbmZpcm1CdXR0b24uZGlzYWJsZWQgPSBmYWxzZTtcbiAgJGNhbmNlbEJ1dHRvbi5kaXNhYmxlZCA9IGZhbHNlO1xufTtcblxuaWYgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnKSB7XG4gIC8vIFRoZSAnaGFuZGxlLWNsaWNrJyBtb2R1bGUgcmVxdWlyZXNcbiAgLy8gdGhhdCAnc3dlZXRBbGVydCcgd2FzIHNldCBhcyBnbG9iYWwuXG4gIHdpbmRvdy5zd2VldEFsZXJ0ID0gd2luZG93LnN3YWwgPSBzd2VldEFsZXJ0O1xufSBlbHNlIHtcbiAgX2V4dGVuZCRoZXhUb1JnYiRpc0lFOCRsb2dTdHIkY29sb3JMdW1pbmFuY2UubG9nU3RyKCdTd2VldEFsZXJ0IGlzIGEgZnJvbnRlbmQgbW9kdWxlIScpO1xufVxubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzWydkZWZhdWx0J107IiwiLy8gICAgIFVuZGVyc2NvcmUuanMgMS44LjNcbi8vICAgICBodHRwOi8vdW5kZXJzY29yZWpzLm9yZ1xuLy8gICAgIChjKSAyMDA5LTIwMTUgSmVyZW15IEFzaGtlbmFzLCBEb2N1bWVudENsb3VkIGFuZCBJbnZlc3RpZ2F0aXZlIFJlcG9ydGVycyAmIEVkaXRvcnNcbi8vICAgICBVbmRlcnNjb3JlIG1heSBiZSBmcmVlbHkgZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlLlxuXG4oZnVuY3Rpb24oKSB7XG5cbiAgLy8gQmFzZWxpbmUgc2V0dXBcbiAgLy8gLS0tLS0tLS0tLS0tLS1cblxuICAvLyBFc3RhYmxpc2ggdGhlIHJvb3Qgb2JqZWN0LCBgd2luZG93YCBpbiB0aGUgYnJvd3Nlciwgb3IgYGV4cG9ydHNgIG9uIHRoZSBzZXJ2ZXIuXG4gIHZhciByb290ID0gdGhpcztcblxuICAvLyBTYXZlIHRoZSBwcmV2aW91cyB2YWx1ZSBvZiB0aGUgYF9gIHZhcmlhYmxlLlxuICB2YXIgcHJldmlvdXNVbmRlcnNjb3JlID0gcm9vdC5fO1xuXG4gIC8vIFNhdmUgYnl0ZXMgaW4gdGhlIG1pbmlmaWVkIChidXQgbm90IGd6aXBwZWQpIHZlcnNpb246XG4gIHZhciBBcnJheVByb3RvID0gQXJyYXkucHJvdG90eXBlLCBPYmpQcm90byA9IE9iamVjdC5wcm90b3R5cGUsIEZ1bmNQcm90byA9IEZ1bmN0aW9uLnByb3RvdHlwZTtcblxuICAvLyBDcmVhdGUgcXVpY2sgcmVmZXJlbmNlIHZhcmlhYmxlcyBmb3Igc3BlZWQgYWNjZXNzIHRvIGNvcmUgcHJvdG90eXBlcy5cbiAgdmFyXG4gICAgcHVzaCAgICAgICAgICAgICA9IEFycmF5UHJvdG8ucHVzaCxcbiAgICBzbGljZSAgICAgICAgICAgID0gQXJyYXlQcm90by5zbGljZSxcbiAgICB0b1N0cmluZyAgICAgICAgID0gT2JqUHJvdG8udG9TdHJpbmcsXG4gICAgaGFzT3duUHJvcGVydHkgICA9IE9ialByb3RvLmhhc093blByb3BlcnR5O1xuXG4gIC8vIEFsbCAqKkVDTUFTY3JpcHQgNSoqIG5hdGl2ZSBmdW5jdGlvbiBpbXBsZW1lbnRhdGlvbnMgdGhhdCB3ZSBob3BlIHRvIHVzZVxuICAvLyBhcmUgZGVjbGFyZWQgaGVyZS5cbiAgdmFyXG4gICAgbmF0aXZlSXNBcnJheSAgICAgID0gQXJyYXkuaXNBcnJheSxcbiAgICBuYXRpdmVLZXlzICAgICAgICAgPSBPYmplY3Qua2V5cyxcbiAgICBuYXRpdmVCaW5kICAgICAgICAgPSBGdW5jUHJvdG8uYmluZCxcbiAgICBuYXRpdmVDcmVhdGUgICAgICAgPSBPYmplY3QuY3JlYXRlO1xuXG4gIC8vIE5ha2VkIGZ1bmN0aW9uIHJlZmVyZW5jZSBmb3Igc3Vycm9nYXRlLXByb3RvdHlwZS1zd2FwcGluZy5cbiAgdmFyIEN0b3IgPSBmdW5jdGlvbigpe307XG5cbiAgLy8gQ3JlYXRlIGEgc2FmZSByZWZlcmVuY2UgdG8gdGhlIFVuZGVyc2NvcmUgb2JqZWN0IGZvciB1c2UgYmVsb3cuXG4gIHZhciBfID0gZnVuY3Rpb24ob2JqKSB7XG4gICAgaWYgKG9iaiBpbnN0YW5jZW9mIF8pIHJldHVybiBvYmo7XG4gICAgaWYgKCEodGhpcyBpbnN0YW5jZW9mIF8pKSByZXR1cm4gbmV3IF8ob2JqKTtcbiAgICB0aGlzLl93cmFwcGVkID0gb2JqO1xuICB9O1xuXG4gIC8vIEV4cG9ydCB0aGUgVW5kZXJzY29yZSBvYmplY3QgZm9yICoqTm9kZS5qcyoqLCB3aXRoXG4gIC8vIGJhY2t3YXJkcy1jb21wYXRpYmlsaXR5IGZvciB0aGUgb2xkIGByZXF1aXJlKClgIEFQSS4gSWYgd2UncmUgaW5cbiAgLy8gdGhlIGJyb3dzZXIsIGFkZCBgX2AgYXMgYSBnbG9iYWwgb2JqZWN0LlxuICBpZiAodHlwZW9mIGV4cG9ydHMgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgaWYgKHR5cGVvZiBtb2R1bGUgIT09ICd1bmRlZmluZWQnICYmIG1vZHVsZS5leHBvcnRzKSB7XG4gICAgICBleHBvcnRzID0gbW9kdWxlLmV4cG9ydHMgPSBfO1xuICAgIH1cbiAgICBleHBvcnRzLl8gPSBfO1xuICB9IGVsc2Uge1xuICAgIHJvb3QuXyA9IF87XG4gIH1cblxuICAvLyBDdXJyZW50IHZlcnNpb24uXG4gIF8uVkVSU0lPTiA9ICcxLjguMyc7XG5cbiAgLy8gSW50ZXJuYWwgZnVuY3Rpb24gdGhhdCByZXR1cm5zIGFuIGVmZmljaWVudCAoZm9yIGN1cnJlbnQgZW5naW5lcykgdmVyc2lvblxuICAvLyBvZiB0aGUgcGFzc2VkLWluIGNhbGxiYWNrLCB0byBiZSByZXBlYXRlZGx5IGFwcGxpZWQgaW4gb3RoZXIgVW5kZXJzY29yZVxuICAvLyBmdW5jdGlvbnMuXG4gIHZhciBvcHRpbWl6ZUNiID0gZnVuY3Rpb24oZnVuYywgY29udGV4dCwgYXJnQ291bnQpIHtcbiAgICBpZiAoY29udGV4dCA9PT0gdm9pZCAwKSByZXR1cm4gZnVuYztcbiAgICBzd2l0Y2ggKGFyZ0NvdW50ID09IG51bGwgPyAzIDogYXJnQ291bnQpIHtcbiAgICAgIGNhc2UgMTogcmV0dXJuIGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICAgIHJldHVybiBmdW5jLmNhbGwoY29udGV4dCwgdmFsdWUpO1xuICAgICAgfTtcbiAgICAgIGNhc2UgMjogcmV0dXJuIGZ1bmN0aW9uKHZhbHVlLCBvdGhlcikge1xuICAgICAgICByZXR1cm4gZnVuYy5jYWxsKGNvbnRleHQsIHZhbHVlLCBvdGhlcik7XG4gICAgICB9O1xuICAgICAgY2FzZSAzOiByZXR1cm4gZnVuY3Rpb24odmFsdWUsIGluZGV4LCBjb2xsZWN0aW9uKSB7XG4gICAgICAgIHJldHVybiBmdW5jLmNhbGwoY29udGV4dCwgdmFsdWUsIGluZGV4LCBjb2xsZWN0aW9uKTtcbiAgICAgIH07XG4gICAgICBjYXNlIDQ6IHJldHVybiBmdW5jdGlvbihhY2N1bXVsYXRvciwgdmFsdWUsIGluZGV4LCBjb2xsZWN0aW9uKSB7XG4gICAgICAgIHJldHVybiBmdW5jLmNhbGwoY29udGV4dCwgYWNjdW11bGF0b3IsIHZhbHVlLCBpbmRleCwgY29sbGVjdGlvbik7XG4gICAgICB9O1xuICAgIH1cbiAgICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gZnVuYy5hcHBseShjb250ZXh0LCBhcmd1bWVudHMpO1xuICAgIH07XG4gIH07XG5cbiAgLy8gQSBtb3N0bHktaW50ZXJuYWwgZnVuY3Rpb24gdG8gZ2VuZXJhdGUgY2FsbGJhY2tzIHRoYXQgY2FuIGJlIGFwcGxpZWRcbiAgLy8gdG8gZWFjaCBlbGVtZW50IGluIGEgY29sbGVjdGlvbiwgcmV0dXJuaW5nIHRoZSBkZXNpcmVkIHJlc3VsdCDigJQgZWl0aGVyXG4gIC8vIGlkZW50aXR5LCBhbiBhcmJpdHJhcnkgY2FsbGJhY2ssIGEgcHJvcGVydHkgbWF0Y2hlciwgb3IgYSBwcm9wZXJ0eSBhY2Nlc3Nvci5cbiAgdmFyIGNiID0gZnVuY3Rpb24odmFsdWUsIGNvbnRleHQsIGFyZ0NvdW50KSB7XG4gICAgaWYgKHZhbHVlID09IG51bGwpIHJldHVybiBfLmlkZW50aXR5O1xuICAgIGlmIChfLmlzRnVuY3Rpb24odmFsdWUpKSByZXR1cm4gb3B0aW1pemVDYih2YWx1ZSwgY29udGV4dCwgYXJnQ291bnQpO1xuICAgIGlmIChfLmlzT2JqZWN0KHZhbHVlKSkgcmV0dXJuIF8ubWF0Y2hlcih2YWx1ZSk7XG4gICAgcmV0dXJuIF8ucHJvcGVydHkodmFsdWUpO1xuICB9O1xuICBfLml0ZXJhdGVlID0gZnVuY3Rpb24odmFsdWUsIGNvbnRleHQpIHtcbiAgICByZXR1cm4gY2IodmFsdWUsIGNvbnRleHQsIEluZmluaXR5KTtcbiAgfTtcblxuICAvLyBBbiBpbnRlcm5hbCBmdW5jdGlvbiBmb3IgY3JlYXRpbmcgYXNzaWduZXIgZnVuY3Rpb25zLlxuICB2YXIgY3JlYXRlQXNzaWduZXIgPSBmdW5jdGlvbihrZXlzRnVuYywgdW5kZWZpbmVkT25seSkge1xuICAgIHJldHVybiBmdW5jdGlvbihvYmopIHtcbiAgICAgIHZhciBsZW5ndGggPSBhcmd1bWVudHMubGVuZ3RoO1xuICAgICAgaWYgKGxlbmd0aCA8IDIgfHwgb2JqID09IG51bGwpIHJldHVybiBvYmo7XG4gICAgICBmb3IgKHZhciBpbmRleCA9IDE7IGluZGV4IDwgbGVuZ3RoOyBpbmRleCsrKSB7XG4gICAgICAgIHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaW5kZXhdLFxuICAgICAgICAgICAga2V5cyA9IGtleXNGdW5jKHNvdXJjZSksXG4gICAgICAgICAgICBsID0ga2V5cy5sZW5ndGg7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbDsgaSsrKSB7XG4gICAgICAgICAgdmFyIGtleSA9IGtleXNbaV07XG4gICAgICAgICAgaWYgKCF1bmRlZmluZWRPbmx5IHx8IG9ialtrZXldID09PSB2b2lkIDApIG9ialtrZXldID0gc291cmNlW2tleV07XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiBvYmo7XG4gICAgfTtcbiAgfTtcblxuICAvLyBBbiBpbnRlcm5hbCBmdW5jdGlvbiBmb3IgY3JlYXRpbmcgYSBuZXcgb2JqZWN0IHRoYXQgaW5oZXJpdHMgZnJvbSBhbm90aGVyLlxuICB2YXIgYmFzZUNyZWF0ZSA9IGZ1bmN0aW9uKHByb3RvdHlwZSkge1xuICAgIGlmICghXy5pc09iamVjdChwcm90b3R5cGUpKSByZXR1cm4ge307XG4gICAgaWYgKG5hdGl2ZUNyZWF0ZSkgcmV0dXJuIG5hdGl2ZUNyZWF0ZShwcm90b3R5cGUpO1xuICAgIEN0b3IucHJvdG90eXBlID0gcHJvdG90eXBlO1xuICAgIHZhciByZXN1bHQgPSBuZXcgQ3RvcjtcbiAgICBDdG9yLnByb3RvdHlwZSA9IG51bGw7XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfTtcblxuICB2YXIgcHJvcGVydHkgPSBmdW5jdGlvbihrZXkpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24ob2JqKSB7XG4gICAgICByZXR1cm4gb2JqID09IG51bGwgPyB2b2lkIDAgOiBvYmpba2V5XTtcbiAgICB9O1xuICB9O1xuXG4gIC8vIEhlbHBlciBmb3IgY29sbGVjdGlvbiBtZXRob2RzIHRvIGRldGVybWluZSB3aGV0aGVyIGEgY29sbGVjdGlvblxuICAvLyBzaG91bGQgYmUgaXRlcmF0ZWQgYXMgYW4gYXJyYXkgb3IgYXMgYW4gb2JqZWN0XG4gIC8vIFJlbGF0ZWQ6IGh0dHA6Ly9wZW9wbGUubW96aWxsYS5vcmcvfmpvcmVuZG9yZmYvZXM2LWRyYWZ0Lmh0bWwjc2VjLXRvbGVuZ3RoXG4gIC8vIEF2b2lkcyBhIHZlcnkgbmFzdHkgaU9TIDggSklUIGJ1ZyBvbiBBUk0tNjQuICMyMDk0XG4gIHZhciBNQVhfQVJSQVlfSU5ERVggPSBNYXRoLnBvdygyLCA1MykgLSAxO1xuICB2YXIgZ2V0TGVuZ3RoID0gcHJvcGVydHkoJ2xlbmd0aCcpO1xuICB2YXIgaXNBcnJheUxpa2UgPSBmdW5jdGlvbihjb2xsZWN0aW9uKSB7XG4gICAgdmFyIGxlbmd0aCA9IGdldExlbmd0aChjb2xsZWN0aW9uKTtcbiAgICByZXR1cm4gdHlwZW9mIGxlbmd0aCA9PSAnbnVtYmVyJyAmJiBsZW5ndGggPj0gMCAmJiBsZW5ndGggPD0gTUFYX0FSUkFZX0lOREVYO1xuICB9O1xuXG4gIC8vIENvbGxlY3Rpb24gRnVuY3Rpb25zXG4gIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbiAgLy8gVGhlIGNvcm5lcnN0b25lLCBhbiBgZWFjaGAgaW1wbGVtZW50YXRpb24sIGFrYSBgZm9yRWFjaGAuXG4gIC8vIEhhbmRsZXMgcmF3IG9iamVjdHMgaW4gYWRkaXRpb24gdG8gYXJyYXktbGlrZXMuIFRyZWF0cyBhbGxcbiAgLy8gc3BhcnNlIGFycmF5LWxpa2VzIGFzIGlmIHRoZXkgd2VyZSBkZW5zZS5cbiAgXy5lYWNoID0gXy5mb3JFYWNoID0gZnVuY3Rpb24ob2JqLCBpdGVyYXRlZSwgY29udGV4dCkge1xuICAgIGl0ZXJhdGVlID0gb3B0aW1pemVDYihpdGVyYXRlZSwgY29udGV4dCk7XG4gICAgdmFyIGksIGxlbmd0aDtcbiAgICBpZiAoaXNBcnJheUxpa2Uob2JqKSkge1xuICAgICAgZm9yIChpID0gMCwgbGVuZ3RoID0gb2JqLmxlbmd0aDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGl0ZXJhdGVlKG9ialtpXSwgaSwgb2JqKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgdmFyIGtleXMgPSBfLmtleXMob2JqKTtcbiAgICAgIGZvciAoaSA9IDAsIGxlbmd0aCA9IGtleXMubGVuZ3RoOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICAgICAgaXRlcmF0ZWUob2JqW2tleXNbaV1dLCBrZXlzW2ldLCBvYmopO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gb2JqO1xuICB9O1xuXG4gIC8vIFJldHVybiB0aGUgcmVzdWx0cyBvZiBhcHBseWluZyB0aGUgaXRlcmF0ZWUgdG8gZWFjaCBlbGVtZW50LlxuICBfLm1hcCA9IF8uY29sbGVjdCA9IGZ1bmN0aW9uKG9iaiwgaXRlcmF0ZWUsIGNvbnRleHQpIHtcbiAgICBpdGVyYXRlZSA9IGNiKGl0ZXJhdGVlLCBjb250ZXh0KTtcbiAgICB2YXIga2V5cyA9ICFpc0FycmF5TGlrZShvYmopICYmIF8ua2V5cyhvYmopLFxuICAgICAgICBsZW5ndGggPSAoa2V5cyB8fCBvYmopLmxlbmd0aCxcbiAgICAgICAgcmVzdWx0cyA9IEFycmF5KGxlbmd0aCk7XG4gICAgZm9yICh2YXIgaW5kZXggPSAwOyBpbmRleCA8IGxlbmd0aDsgaW5kZXgrKykge1xuICAgICAgdmFyIGN1cnJlbnRLZXkgPSBrZXlzID8ga2V5c1tpbmRleF0gOiBpbmRleDtcbiAgICAgIHJlc3VsdHNbaW5kZXhdID0gaXRlcmF0ZWUob2JqW2N1cnJlbnRLZXldLCBjdXJyZW50S2V5LCBvYmopO1xuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0cztcbiAgfTtcblxuICAvLyBDcmVhdGUgYSByZWR1Y2luZyBmdW5jdGlvbiBpdGVyYXRpbmcgbGVmdCBvciByaWdodC5cbiAgZnVuY3Rpb24gY3JlYXRlUmVkdWNlKGRpcikge1xuICAgIC8vIE9wdGltaXplZCBpdGVyYXRvciBmdW5jdGlvbiBhcyB1c2luZyBhcmd1bWVudHMubGVuZ3RoXG4gICAgLy8gaW4gdGhlIG1haW4gZnVuY3Rpb24gd2lsbCBkZW9wdGltaXplIHRoZSwgc2VlICMxOTkxLlxuICAgIGZ1bmN0aW9uIGl0ZXJhdG9yKG9iaiwgaXRlcmF0ZWUsIG1lbW8sIGtleXMsIGluZGV4LCBsZW5ndGgpIHtcbiAgICAgIGZvciAoOyBpbmRleCA+PSAwICYmIGluZGV4IDwgbGVuZ3RoOyBpbmRleCArPSBkaXIpIHtcbiAgICAgICAgdmFyIGN1cnJlbnRLZXkgPSBrZXlzID8ga2V5c1tpbmRleF0gOiBpbmRleDtcbiAgICAgICAgbWVtbyA9IGl0ZXJhdGVlKG1lbW8sIG9ialtjdXJyZW50S2V5XSwgY3VycmVudEtleSwgb2JqKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBtZW1vO1xuICAgIH1cblxuICAgIHJldHVybiBmdW5jdGlvbihvYmosIGl0ZXJhdGVlLCBtZW1vLCBjb250ZXh0KSB7XG4gICAgICBpdGVyYXRlZSA9IG9wdGltaXplQ2IoaXRlcmF0ZWUsIGNvbnRleHQsIDQpO1xuICAgICAgdmFyIGtleXMgPSAhaXNBcnJheUxpa2Uob2JqKSAmJiBfLmtleXMob2JqKSxcbiAgICAgICAgICBsZW5ndGggPSAoa2V5cyB8fCBvYmopLmxlbmd0aCxcbiAgICAgICAgICBpbmRleCA9IGRpciA+IDAgPyAwIDogbGVuZ3RoIC0gMTtcbiAgICAgIC8vIERldGVybWluZSB0aGUgaW5pdGlhbCB2YWx1ZSBpZiBub25lIGlzIHByb3ZpZGVkLlxuICAgICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPCAzKSB7XG4gICAgICAgIG1lbW8gPSBvYmpba2V5cyA/IGtleXNbaW5kZXhdIDogaW5kZXhdO1xuICAgICAgICBpbmRleCArPSBkaXI7XG4gICAgICB9XG4gICAgICByZXR1cm4gaXRlcmF0b3Iob2JqLCBpdGVyYXRlZSwgbWVtbywga2V5cywgaW5kZXgsIGxlbmd0aCk7XG4gICAgfTtcbiAgfVxuXG4gIC8vICoqUmVkdWNlKiogYnVpbGRzIHVwIGEgc2luZ2xlIHJlc3VsdCBmcm9tIGEgbGlzdCBvZiB2YWx1ZXMsIGFrYSBgaW5qZWN0YCxcbiAgLy8gb3IgYGZvbGRsYC5cbiAgXy5yZWR1Y2UgPSBfLmZvbGRsID0gXy5pbmplY3QgPSBjcmVhdGVSZWR1Y2UoMSk7XG5cbiAgLy8gVGhlIHJpZ2h0LWFzc29jaWF0aXZlIHZlcnNpb24gb2YgcmVkdWNlLCBhbHNvIGtub3duIGFzIGBmb2xkcmAuXG4gIF8ucmVkdWNlUmlnaHQgPSBfLmZvbGRyID0gY3JlYXRlUmVkdWNlKC0xKTtcblxuICAvLyBSZXR1cm4gdGhlIGZpcnN0IHZhbHVlIHdoaWNoIHBhc3NlcyBhIHRydXRoIHRlc3QuIEFsaWFzZWQgYXMgYGRldGVjdGAuXG4gIF8uZmluZCA9IF8uZGV0ZWN0ID0gZnVuY3Rpb24ob2JqLCBwcmVkaWNhdGUsIGNvbnRleHQpIHtcbiAgICB2YXIga2V5O1xuICAgIGlmIChpc0FycmF5TGlrZShvYmopKSB7XG4gICAgICBrZXkgPSBfLmZpbmRJbmRleChvYmosIHByZWRpY2F0ZSwgY29udGV4dCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGtleSA9IF8uZmluZEtleShvYmosIHByZWRpY2F0ZSwgY29udGV4dCk7XG4gICAgfVxuICAgIGlmIChrZXkgIT09IHZvaWQgMCAmJiBrZXkgIT09IC0xKSByZXR1cm4gb2JqW2tleV07XG4gIH07XG5cbiAgLy8gUmV0dXJuIGFsbCB0aGUgZWxlbWVudHMgdGhhdCBwYXNzIGEgdHJ1dGggdGVzdC5cbiAgLy8gQWxpYXNlZCBhcyBgc2VsZWN0YC5cbiAgXy5maWx0ZXIgPSBfLnNlbGVjdCA9IGZ1bmN0aW9uKG9iaiwgcHJlZGljYXRlLCBjb250ZXh0KSB7XG4gICAgdmFyIHJlc3VsdHMgPSBbXTtcbiAgICBwcmVkaWNhdGUgPSBjYihwcmVkaWNhdGUsIGNvbnRleHQpO1xuICAgIF8uZWFjaChvYmosIGZ1bmN0aW9uKHZhbHVlLCBpbmRleCwgbGlzdCkge1xuICAgICAgaWYgKHByZWRpY2F0ZSh2YWx1ZSwgaW5kZXgsIGxpc3QpKSByZXN1bHRzLnB1c2godmFsdWUpO1xuICAgIH0pO1xuICAgIHJldHVybiByZXN1bHRzO1xuICB9O1xuXG4gIC8vIFJldHVybiBhbGwgdGhlIGVsZW1lbnRzIGZvciB3aGljaCBhIHRydXRoIHRlc3QgZmFpbHMuXG4gIF8ucmVqZWN0ID0gZnVuY3Rpb24ob2JqLCBwcmVkaWNhdGUsIGNvbnRleHQpIHtcbiAgICByZXR1cm4gXy5maWx0ZXIob2JqLCBfLm5lZ2F0ZShjYihwcmVkaWNhdGUpKSwgY29udGV4dCk7XG4gIH07XG5cbiAgLy8gRGV0ZXJtaW5lIHdoZXRoZXIgYWxsIG9mIHRoZSBlbGVtZW50cyBtYXRjaCBhIHRydXRoIHRlc3QuXG4gIC8vIEFsaWFzZWQgYXMgYGFsbGAuXG4gIF8uZXZlcnkgPSBfLmFsbCA9IGZ1bmN0aW9uKG9iaiwgcHJlZGljYXRlLCBjb250ZXh0KSB7XG4gICAgcHJlZGljYXRlID0gY2IocHJlZGljYXRlLCBjb250ZXh0KTtcbiAgICB2YXIga2V5cyA9ICFpc0FycmF5TGlrZShvYmopICYmIF8ua2V5cyhvYmopLFxuICAgICAgICBsZW5ndGggPSAoa2V5cyB8fCBvYmopLmxlbmd0aDtcbiAgICBmb3IgKHZhciBpbmRleCA9IDA7IGluZGV4IDwgbGVuZ3RoOyBpbmRleCsrKSB7XG4gICAgICB2YXIgY3VycmVudEtleSA9IGtleXMgPyBrZXlzW2luZGV4XSA6IGluZGV4O1xuICAgICAgaWYgKCFwcmVkaWNhdGUob2JqW2N1cnJlbnRLZXldLCBjdXJyZW50S2V5LCBvYmopKSByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIHJldHVybiB0cnVlO1xuICB9O1xuXG4gIC8vIERldGVybWluZSBpZiBhdCBsZWFzdCBvbmUgZWxlbWVudCBpbiB0aGUgb2JqZWN0IG1hdGNoZXMgYSB0cnV0aCB0ZXN0LlxuICAvLyBBbGlhc2VkIGFzIGBhbnlgLlxuICBfLnNvbWUgPSBfLmFueSA9IGZ1bmN0aW9uKG9iaiwgcHJlZGljYXRlLCBjb250ZXh0KSB7XG4gICAgcHJlZGljYXRlID0gY2IocHJlZGljYXRlLCBjb250ZXh0KTtcbiAgICB2YXIga2V5cyA9ICFpc0FycmF5TGlrZShvYmopICYmIF8ua2V5cyhvYmopLFxuICAgICAgICBsZW5ndGggPSAoa2V5cyB8fCBvYmopLmxlbmd0aDtcbiAgICBmb3IgKHZhciBpbmRleCA9IDA7IGluZGV4IDwgbGVuZ3RoOyBpbmRleCsrKSB7XG4gICAgICB2YXIgY3VycmVudEtleSA9IGtleXMgPyBrZXlzW2luZGV4XSA6IGluZGV4O1xuICAgICAgaWYgKHByZWRpY2F0ZShvYmpbY3VycmVudEtleV0sIGN1cnJlbnRLZXksIG9iaikpIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG4gIH07XG5cbiAgLy8gRGV0ZXJtaW5lIGlmIHRoZSBhcnJheSBvciBvYmplY3QgY29udGFpbnMgYSBnaXZlbiBpdGVtICh1c2luZyBgPT09YCkuXG4gIC8vIEFsaWFzZWQgYXMgYGluY2x1ZGVzYCBhbmQgYGluY2x1ZGVgLlxuICBfLmNvbnRhaW5zID0gXy5pbmNsdWRlcyA9IF8uaW5jbHVkZSA9IGZ1bmN0aW9uKG9iaiwgaXRlbSwgZnJvbUluZGV4LCBndWFyZCkge1xuICAgIGlmICghaXNBcnJheUxpa2Uob2JqKSkgb2JqID0gXy52YWx1ZXMob2JqKTtcbiAgICBpZiAodHlwZW9mIGZyb21JbmRleCAhPSAnbnVtYmVyJyB8fCBndWFyZCkgZnJvbUluZGV4ID0gMDtcbiAgICByZXR1cm4gXy5pbmRleE9mKG9iaiwgaXRlbSwgZnJvbUluZGV4KSA+PSAwO1xuICB9O1xuXG4gIC8vIEludm9rZSBhIG1ldGhvZCAod2l0aCBhcmd1bWVudHMpIG9uIGV2ZXJ5IGl0ZW0gaW4gYSBjb2xsZWN0aW9uLlxuICBfLmludm9rZSA9IGZ1bmN0aW9uKG9iaiwgbWV0aG9kKSB7XG4gICAgdmFyIGFyZ3MgPSBzbGljZS5jYWxsKGFyZ3VtZW50cywgMik7XG4gICAgdmFyIGlzRnVuYyA9IF8uaXNGdW5jdGlvbihtZXRob2QpO1xuICAgIHJldHVybiBfLm1hcChvYmosIGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICB2YXIgZnVuYyA9IGlzRnVuYyA/IG1ldGhvZCA6IHZhbHVlW21ldGhvZF07XG4gICAgICByZXR1cm4gZnVuYyA9PSBudWxsID8gZnVuYyA6IGZ1bmMuYXBwbHkodmFsdWUsIGFyZ3MpO1xuICAgIH0pO1xuICB9O1xuXG4gIC8vIENvbnZlbmllbmNlIHZlcnNpb24gb2YgYSBjb21tb24gdXNlIGNhc2Ugb2YgYG1hcGA6IGZldGNoaW5nIGEgcHJvcGVydHkuXG4gIF8ucGx1Y2sgPSBmdW5jdGlvbihvYmosIGtleSkge1xuICAgIHJldHVybiBfLm1hcChvYmosIF8ucHJvcGVydHkoa2V5KSk7XG4gIH07XG5cbiAgLy8gQ29udmVuaWVuY2UgdmVyc2lvbiBvZiBhIGNvbW1vbiB1c2UgY2FzZSBvZiBgZmlsdGVyYDogc2VsZWN0aW5nIG9ubHkgb2JqZWN0c1xuICAvLyBjb250YWluaW5nIHNwZWNpZmljIGBrZXk6dmFsdWVgIHBhaXJzLlxuICBfLndoZXJlID0gZnVuY3Rpb24ob2JqLCBhdHRycykge1xuICAgIHJldHVybiBfLmZpbHRlcihvYmosIF8ubWF0Y2hlcihhdHRycykpO1xuICB9O1xuXG4gIC8vIENvbnZlbmllbmNlIHZlcnNpb24gb2YgYSBjb21tb24gdXNlIGNhc2Ugb2YgYGZpbmRgOiBnZXR0aW5nIHRoZSBmaXJzdCBvYmplY3RcbiAgLy8gY29udGFpbmluZyBzcGVjaWZpYyBga2V5OnZhbHVlYCBwYWlycy5cbiAgXy5maW5kV2hlcmUgPSBmdW5jdGlvbihvYmosIGF0dHJzKSB7XG4gICAgcmV0dXJuIF8uZmluZChvYmosIF8ubWF0Y2hlcihhdHRycykpO1xuICB9O1xuXG4gIC8vIFJldHVybiB0aGUgbWF4aW11bSBlbGVtZW50IChvciBlbGVtZW50LWJhc2VkIGNvbXB1dGF0aW9uKS5cbiAgXy5tYXggPSBmdW5jdGlvbihvYmosIGl0ZXJhdGVlLCBjb250ZXh0KSB7XG4gICAgdmFyIHJlc3VsdCA9IC1JbmZpbml0eSwgbGFzdENvbXB1dGVkID0gLUluZmluaXR5LFxuICAgICAgICB2YWx1ZSwgY29tcHV0ZWQ7XG4gICAgaWYgKGl0ZXJhdGVlID09IG51bGwgJiYgb2JqICE9IG51bGwpIHtcbiAgICAgIG9iaiA9IGlzQXJyYXlMaWtlKG9iaikgPyBvYmogOiBfLnZhbHVlcyhvYmopO1xuICAgICAgZm9yICh2YXIgaSA9IDAsIGxlbmd0aCA9IG9iai5sZW5ndGg7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgICB2YWx1ZSA9IG9ialtpXTtcbiAgICAgICAgaWYgKHZhbHVlID4gcmVzdWx0KSB7XG4gICAgICAgICAgcmVzdWx0ID0gdmFsdWU7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgaXRlcmF0ZWUgPSBjYihpdGVyYXRlZSwgY29udGV4dCk7XG4gICAgICBfLmVhY2gob2JqLCBmdW5jdGlvbih2YWx1ZSwgaW5kZXgsIGxpc3QpIHtcbiAgICAgICAgY29tcHV0ZWQgPSBpdGVyYXRlZSh2YWx1ZSwgaW5kZXgsIGxpc3QpO1xuICAgICAgICBpZiAoY29tcHV0ZWQgPiBsYXN0Q29tcHV0ZWQgfHwgY29tcHV0ZWQgPT09IC1JbmZpbml0eSAmJiByZXN1bHQgPT09IC1JbmZpbml0eSkge1xuICAgICAgICAgIHJlc3VsdCA9IHZhbHVlO1xuICAgICAgICAgIGxhc3RDb21wdXRlZCA9IGNvbXB1dGVkO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfTtcblxuICAvLyBSZXR1cm4gdGhlIG1pbmltdW0gZWxlbWVudCAob3IgZWxlbWVudC1iYXNlZCBjb21wdXRhdGlvbikuXG4gIF8ubWluID0gZnVuY3Rpb24ob2JqLCBpdGVyYXRlZSwgY29udGV4dCkge1xuICAgIHZhciByZXN1bHQgPSBJbmZpbml0eSwgbGFzdENvbXB1dGVkID0gSW5maW5pdHksXG4gICAgICAgIHZhbHVlLCBjb21wdXRlZDtcbiAgICBpZiAoaXRlcmF0ZWUgPT0gbnVsbCAmJiBvYmogIT0gbnVsbCkge1xuICAgICAgb2JqID0gaXNBcnJheUxpa2Uob2JqKSA/IG9iaiA6IF8udmFsdWVzKG9iaik7XG4gICAgICBmb3IgKHZhciBpID0gMCwgbGVuZ3RoID0gb2JqLmxlbmd0aDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHZhbHVlID0gb2JqW2ldO1xuICAgICAgICBpZiAodmFsdWUgPCByZXN1bHQpIHtcbiAgICAgICAgICByZXN1bHQgPSB2YWx1ZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBpdGVyYXRlZSA9IGNiKGl0ZXJhdGVlLCBjb250ZXh0KTtcbiAgICAgIF8uZWFjaChvYmosIGZ1bmN0aW9uKHZhbHVlLCBpbmRleCwgbGlzdCkge1xuICAgICAgICBjb21wdXRlZCA9IGl0ZXJhdGVlKHZhbHVlLCBpbmRleCwgbGlzdCk7XG4gICAgICAgIGlmIChjb21wdXRlZCA8IGxhc3RDb21wdXRlZCB8fCBjb21wdXRlZCA9PT0gSW5maW5pdHkgJiYgcmVzdWx0ID09PSBJbmZpbml0eSkge1xuICAgICAgICAgIHJlc3VsdCA9IHZhbHVlO1xuICAgICAgICAgIGxhc3RDb21wdXRlZCA9IGNvbXB1dGVkO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfTtcblxuICAvLyBTaHVmZmxlIGEgY29sbGVjdGlvbiwgdXNpbmcgdGhlIG1vZGVybiB2ZXJzaW9uIG9mIHRoZVxuICAvLyBbRmlzaGVyLVlhdGVzIHNodWZmbGVdKGh0dHA6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvRmlzaGVy4oCTWWF0ZXNfc2h1ZmZsZSkuXG4gIF8uc2h1ZmZsZSA9IGZ1bmN0aW9uKG9iaikge1xuICAgIHZhciBzZXQgPSBpc0FycmF5TGlrZShvYmopID8gb2JqIDogXy52YWx1ZXMob2JqKTtcbiAgICB2YXIgbGVuZ3RoID0gc2V0Lmxlbmd0aDtcbiAgICB2YXIgc2h1ZmZsZWQgPSBBcnJheShsZW5ndGgpO1xuICAgIGZvciAodmFyIGluZGV4ID0gMCwgcmFuZDsgaW5kZXggPCBsZW5ndGg7IGluZGV4KyspIHtcbiAgICAgIHJhbmQgPSBfLnJhbmRvbSgwLCBpbmRleCk7XG4gICAgICBpZiAocmFuZCAhPT0gaW5kZXgpIHNodWZmbGVkW2luZGV4XSA9IHNodWZmbGVkW3JhbmRdO1xuICAgICAgc2h1ZmZsZWRbcmFuZF0gPSBzZXRbaW5kZXhdO1xuICAgIH1cbiAgICByZXR1cm4gc2h1ZmZsZWQ7XG4gIH07XG5cbiAgLy8gU2FtcGxlICoqbioqIHJhbmRvbSB2YWx1ZXMgZnJvbSBhIGNvbGxlY3Rpb24uXG4gIC8vIElmICoqbioqIGlzIG5vdCBzcGVjaWZpZWQsIHJldHVybnMgYSBzaW5nbGUgcmFuZG9tIGVsZW1lbnQuXG4gIC8vIFRoZSBpbnRlcm5hbCBgZ3VhcmRgIGFyZ3VtZW50IGFsbG93cyBpdCB0byB3b3JrIHdpdGggYG1hcGAuXG4gIF8uc2FtcGxlID0gZnVuY3Rpb24ob2JqLCBuLCBndWFyZCkge1xuICAgIGlmIChuID09IG51bGwgfHwgZ3VhcmQpIHtcbiAgICAgIGlmICghaXNBcnJheUxpa2Uob2JqKSkgb2JqID0gXy52YWx1ZXMob2JqKTtcbiAgICAgIHJldHVybiBvYmpbXy5yYW5kb20ob2JqLmxlbmd0aCAtIDEpXTtcbiAgICB9XG4gICAgcmV0dXJuIF8uc2h1ZmZsZShvYmopLnNsaWNlKDAsIE1hdGgubWF4KDAsIG4pKTtcbiAgfTtcblxuICAvLyBTb3J0IHRoZSBvYmplY3QncyB2YWx1ZXMgYnkgYSBjcml0ZXJpb24gcHJvZHVjZWQgYnkgYW4gaXRlcmF0ZWUuXG4gIF8uc29ydEJ5ID0gZnVuY3Rpb24ob2JqLCBpdGVyYXRlZSwgY29udGV4dCkge1xuICAgIGl0ZXJhdGVlID0gY2IoaXRlcmF0ZWUsIGNvbnRleHQpO1xuICAgIHJldHVybiBfLnBsdWNrKF8ubWFwKG9iaiwgZnVuY3Rpb24odmFsdWUsIGluZGV4LCBsaXN0KSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICB2YWx1ZTogdmFsdWUsXG4gICAgICAgIGluZGV4OiBpbmRleCxcbiAgICAgICAgY3JpdGVyaWE6IGl0ZXJhdGVlKHZhbHVlLCBpbmRleCwgbGlzdClcbiAgICAgIH07XG4gICAgfSkuc29ydChmdW5jdGlvbihsZWZ0LCByaWdodCkge1xuICAgICAgdmFyIGEgPSBsZWZ0LmNyaXRlcmlhO1xuICAgICAgdmFyIGIgPSByaWdodC5jcml0ZXJpYTtcbiAgICAgIGlmIChhICE9PSBiKSB7XG4gICAgICAgIGlmIChhID4gYiB8fCBhID09PSB2b2lkIDApIHJldHVybiAxO1xuICAgICAgICBpZiAoYSA8IGIgfHwgYiA9PT0gdm9pZCAwKSByZXR1cm4gLTE7XG4gICAgICB9XG4gICAgICByZXR1cm4gbGVmdC5pbmRleCAtIHJpZ2h0LmluZGV4O1xuICAgIH0pLCAndmFsdWUnKTtcbiAgfTtcblxuICAvLyBBbiBpbnRlcm5hbCBmdW5jdGlvbiB1c2VkIGZvciBhZ2dyZWdhdGUgXCJncm91cCBieVwiIG9wZXJhdGlvbnMuXG4gIHZhciBncm91cCA9IGZ1bmN0aW9uKGJlaGF2aW9yKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uKG9iaiwgaXRlcmF0ZWUsIGNvbnRleHQpIHtcbiAgICAgIHZhciByZXN1bHQgPSB7fTtcbiAgICAgIGl0ZXJhdGVlID0gY2IoaXRlcmF0ZWUsIGNvbnRleHQpO1xuICAgICAgXy5lYWNoKG9iaiwgZnVuY3Rpb24odmFsdWUsIGluZGV4KSB7XG4gICAgICAgIHZhciBrZXkgPSBpdGVyYXRlZSh2YWx1ZSwgaW5kZXgsIG9iaik7XG4gICAgICAgIGJlaGF2aW9yKHJlc3VsdCwgdmFsdWUsIGtleSk7XG4gICAgICB9KTtcbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfTtcbiAgfTtcblxuICAvLyBHcm91cHMgdGhlIG9iamVjdCdzIHZhbHVlcyBieSBhIGNyaXRlcmlvbi4gUGFzcyBlaXRoZXIgYSBzdHJpbmcgYXR0cmlidXRlXG4gIC8vIHRvIGdyb3VwIGJ5LCBvciBhIGZ1bmN0aW9uIHRoYXQgcmV0dXJucyB0aGUgY3JpdGVyaW9uLlxuICBfLmdyb3VwQnkgPSBncm91cChmdW5jdGlvbihyZXN1bHQsIHZhbHVlLCBrZXkpIHtcbiAgICBpZiAoXy5oYXMocmVzdWx0LCBrZXkpKSByZXN1bHRba2V5XS5wdXNoKHZhbHVlKTsgZWxzZSByZXN1bHRba2V5XSA9IFt2YWx1ZV07XG4gIH0pO1xuXG4gIC8vIEluZGV4ZXMgdGhlIG9iamVjdCdzIHZhbHVlcyBieSBhIGNyaXRlcmlvbiwgc2ltaWxhciB0byBgZ3JvdXBCeWAsIGJ1dCBmb3JcbiAgLy8gd2hlbiB5b3Uga25vdyB0aGF0IHlvdXIgaW5kZXggdmFsdWVzIHdpbGwgYmUgdW5pcXVlLlxuICBfLmluZGV4QnkgPSBncm91cChmdW5jdGlvbihyZXN1bHQsIHZhbHVlLCBrZXkpIHtcbiAgICByZXN1bHRba2V5XSA9IHZhbHVlO1xuICB9KTtcblxuICAvLyBDb3VudHMgaW5zdGFuY2VzIG9mIGFuIG9iamVjdCB0aGF0IGdyb3VwIGJ5IGEgY2VydGFpbiBjcml0ZXJpb24uIFBhc3NcbiAgLy8gZWl0aGVyIGEgc3RyaW5nIGF0dHJpYnV0ZSB0byBjb3VudCBieSwgb3IgYSBmdW5jdGlvbiB0aGF0IHJldHVybnMgdGhlXG4gIC8vIGNyaXRlcmlvbi5cbiAgXy5jb3VudEJ5ID0gZ3JvdXAoZnVuY3Rpb24ocmVzdWx0LCB2YWx1ZSwga2V5KSB7XG4gICAgaWYgKF8uaGFzKHJlc3VsdCwga2V5KSkgcmVzdWx0W2tleV0rKzsgZWxzZSByZXN1bHRba2V5XSA9IDE7XG4gIH0pO1xuXG4gIC8vIFNhZmVseSBjcmVhdGUgYSByZWFsLCBsaXZlIGFycmF5IGZyb20gYW55dGhpbmcgaXRlcmFibGUuXG4gIF8udG9BcnJheSA9IGZ1bmN0aW9uKG9iaikge1xuICAgIGlmICghb2JqKSByZXR1cm4gW107XG4gICAgaWYgKF8uaXNBcnJheShvYmopKSByZXR1cm4gc2xpY2UuY2FsbChvYmopO1xuICAgIGlmIChpc0FycmF5TGlrZShvYmopKSByZXR1cm4gXy5tYXAob2JqLCBfLmlkZW50aXR5KTtcbiAgICByZXR1cm4gXy52YWx1ZXMob2JqKTtcbiAgfTtcblxuICAvLyBSZXR1cm4gdGhlIG51bWJlciBvZiBlbGVtZW50cyBpbiBhbiBvYmplY3QuXG4gIF8uc2l6ZSA9IGZ1bmN0aW9uKG9iaikge1xuICAgIGlmIChvYmogPT0gbnVsbCkgcmV0dXJuIDA7XG4gICAgcmV0dXJuIGlzQXJyYXlMaWtlKG9iaikgPyBvYmoubGVuZ3RoIDogXy5rZXlzKG9iaikubGVuZ3RoO1xuICB9O1xuXG4gIC8vIFNwbGl0IGEgY29sbGVjdGlvbiBpbnRvIHR3byBhcnJheXM6IG9uZSB3aG9zZSBlbGVtZW50cyBhbGwgc2F0aXNmeSB0aGUgZ2l2ZW5cbiAgLy8gcHJlZGljYXRlLCBhbmQgb25lIHdob3NlIGVsZW1lbnRzIGFsbCBkbyBub3Qgc2F0aXNmeSB0aGUgcHJlZGljYXRlLlxuICBfLnBhcnRpdGlvbiA9IGZ1bmN0aW9uKG9iaiwgcHJlZGljYXRlLCBjb250ZXh0KSB7XG4gICAgcHJlZGljYXRlID0gY2IocHJlZGljYXRlLCBjb250ZXh0KTtcbiAgICB2YXIgcGFzcyA9IFtdLCBmYWlsID0gW107XG4gICAgXy5lYWNoKG9iaiwgZnVuY3Rpb24odmFsdWUsIGtleSwgb2JqKSB7XG4gICAgICAocHJlZGljYXRlKHZhbHVlLCBrZXksIG9iaikgPyBwYXNzIDogZmFpbCkucHVzaCh2YWx1ZSk7XG4gICAgfSk7XG4gICAgcmV0dXJuIFtwYXNzLCBmYWlsXTtcbiAgfTtcblxuICAvLyBBcnJheSBGdW5jdGlvbnNcbiAgLy8gLS0tLS0tLS0tLS0tLS0tXG5cbiAgLy8gR2V0IHRoZSBmaXJzdCBlbGVtZW50IG9mIGFuIGFycmF5LiBQYXNzaW5nICoqbioqIHdpbGwgcmV0dXJuIHRoZSBmaXJzdCBOXG4gIC8vIHZhbHVlcyBpbiB0aGUgYXJyYXkuIEFsaWFzZWQgYXMgYGhlYWRgIGFuZCBgdGFrZWAuIFRoZSAqKmd1YXJkKiogY2hlY2tcbiAgLy8gYWxsb3dzIGl0IHRvIHdvcmsgd2l0aCBgXy5tYXBgLlxuICBfLmZpcnN0ID0gXy5oZWFkID0gXy50YWtlID0gZnVuY3Rpb24oYXJyYXksIG4sIGd1YXJkKSB7XG4gICAgaWYgKGFycmF5ID09IG51bGwpIHJldHVybiB2b2lkIDA7XG4gICAgaWYgKG4gPT0gbnVsbCB8fCBndWFyZCkgcmV0dXJuIGFycmF5WzBdO1xuICAgIHJldHVybiBfLmluaXRpYWwoYXJyYXksIGFycmF5Lmxlbmd0aCAtIG4pO1xuICB9O1xuXG4gIC8vIFJldHVybnMgZXZlcnl0aGluZyBidXQgdGhlIGxhc3QgZW50cnkgb2YgdGhlIGFycmF5LiBFc3BlY2lhbGx5IHVzZWZ1bCBvblxuICAvLyB0aGUgYXJndW1lbnRzIG9iamVjdC4gUGFzc2luZyAqKm4qKiB3aWxsIHJldHVybiBhbGwgdGhlIHZhbHVlcyBpblxuICAvLyB0aGUgYXJyYXksIGV4Y2x1ZGluZyB0aGUgbGFzdCBOLlxuICBfLmluaXRpYWwgPSBmdW5jdGlvbihhcnJheSwgbiwgZ3VhcmQpIHtcbiAgICByZXR1cm4gc2xpY2UuY2FsbChhcnJheSwgMCwgTWF0aC5tYXgoMCwgYXJyYXkubGVuZ3RoIC0gKG4gPT0gbnVsbCB8fCBndWFyZCA/IDEgOiBuKSkpO1xuICB9O1xuXG4gIC8vIEdldCB0aGUgbGFzdCBlbGVtZW50IG9mIGFuIGFycmF5LiBQYXNzaW5nICoqbioqIHdpbGwgcmV0dXJuIHRoZSBsYXN0IE5cbiAgLy8gdmFsdWVzIGluIHRoZSBhcnJheS5cbiAgXy5sYXN0ID0gZnVuY3Rpb24oYXJyYXksIG4sIGd1YXJkKSB7XG4gICAgaWYgKGFycmF5ID09IG51bGwpIHJldHVybiB2b2lkIDA7XG4gICAgaWYgKG4gPT0gbnVsbCB8fCBndWFyZCkgcmV0dXJuIGFycmF5W2FycmF5Lmxlbmd0aCAtIDFdO1xuICAgIHJldHVybiBfLnJlc3QoYXJyYXksIE1hdGgubWF4KDAsIGFycmF5Lmxlbmd0aCAtIG4pKTtcbiAgfTtcblxuICAvLyBSZXR1cm5zIGV2ZXJ5dGhpbmcgYnV0IHRoZSBmaXJzdCBlbnRyeSBvZiB0aGUgYXJyYXkuIEFsaWFzZWQgYXMgYHRhaWxgIGFuZCBgZHJvcGAuXG4gIC8vIEVzcGVjaWFsbHkgdXNlZnVsIG9uIHRoZSBhcmd1bWVudHMgb2JqZWN0LiBQYXNzaW5nIGFuICoqbioqIHdpbGwgcmV0dXJuXG4gIC8vIHRoZSByZXN0IE4gdmFsdWVzIGluIHRoZSBhcnJheS5cbiAgXy5yZXN0ID0gXy50YWlsID0gXy5kcm9wID0gZnVuY3Rpb24oYXJyYXksIG4sIGd1YXJkKSB7XG4gICAgcmV0dXJuIHNsaWNlLmNhbGwoYXJyYXksIG4gPT0gbnVsbCB8fCBndWFyZCA/IDEgOiBuKTtcbiAgfTtcblxuICAvLyBUcmltIG91dCBhbGwgZmFsc3kgdmFsdWVzIGZyb20gYW4gYXJyYXkuXG4gIF8uY29tcGFjdCA9IGZ1bmN0aW9uKGFycmF5KSB7XG4gICAgcmV0dXJuIF8uZmlsdGVyKGFycmF5LCBfLmlkZW50aXR5KTtcbiAgfTtcblxuICAvLyBJbnRlcm5hbCBpbXBsZW1lbnRhdGlvbiBvZiBhIHJlY3Vyc2l2ZSBgZmxhdHRlbmAgZnVuY3Rpb24uXG4gIHZhciBmbGF0dGVuID0gZnVuY3Rpb24oaW5wdXQsIHNoYWxsb3csIHN0cmljdCwgc3RhcnRJbmRleCkge1xuICAgIHZhciBvdXRwdXQgPSBbXSwgaWR4ID0gMDtcbiAgICBmb3IgKHZhciBpID0gc3RhcnRJbmRleCB8fCAwLCBsZW5ndGggPSBnZXRMZW5ndGgoaW5wdXQpOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhciB2YWx1ZSA9IGlucHV0W2ldO1xuICAgICAgaWYgKGlzQXJyYXlMaWtlKHZhbHVlKSAmJiAoXy5pc0FycmF5KHZhbHVlKSB8fCBfLmlzQXJndW1lbnRzKHZhbHVlKSkpIHtcbiAgICAgICAgLy9mbGF0dGVuIGN1cnJlbnQgbGV2ZWwgb2YgYXJyYXkgb3IgYXJndW1lbnRzIG9iamVjdFxuICAgICAgICBpZiAoIXNoYWxsb3cpIHZhbHVlID0gZmxhdHRlbih2YWx1ZSwgc2hhbGxvdywgc3RyaWN0KTtcbiAgICAgICAgdmFyIGogPSAwLCBsZW4gPSB2YWx1ZS5sZW5ndGg7XG4gICAgICAgIG91dHB1dC5sZW5ndGggKz0gbGVuO1xuICAgICAgICB3aGlsZSAoaiA8IGxlbikge1xuICAgICAgICAgIG91dHB1dFtpZHgrK10gPSB2YWx1ZVtqKytdO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKCFzdHJpY3QpIHtcbiAgICAgICAgb3V0cHV0W2lkeCsrXSA9IHZhbHVlO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gb3V0cHV0O1xuICB9O1xuXG4gIC8vIEZsYXR0ZW4gb3V0IGFuIGFycmF5LCBlaXRoZXIgcmVjdXJzaXZlbHkgKGJ5IGRlZmF1bHQpLCBvciBqdXN0IG9uZSBsZXZlbC5cbiAgXy5mbGF0dGVuID0gZnVuY3Rpb24oYXJyYXksIHNoYWxsb3cpIHtcbiAgICByZXR1cm4gZmxhdHRlbihhcnJheSwgc2hhbGxvdywgZmFsc2UpO1xuICB9O1xuXG4gIC8vIFJldHVybiBhIHZlcnNpb24gb2YgdGhlIGFycmF5IHRoYXQgZG9lcyBub3QgY29udGFpbiB0aGUgc3BlY2lmaWVkIHZhbHVlKHMpLlxuICBfLndpdGhvdXQgPSBmdW5jdGlvbihhcnJheSkge1xuICAgIHJldHVybiBfLmRpZmZlcmVuY2UoYXJyYXksIHNsaWNlLmNhbGwoYXJndW1lbnRzLCAxKSk7XG4gIH07XG5cbiAgLy8gUHJvZHVjZSBhIGR1cGxpY2F0ZS1mcmVlIHZlcnNpb24gb2YgdGhlIGFycmF5LiBJZiB0aGUgYXJyYXkgaGFzIGFscmVhZHlcbiAgLy8gYmVlbiBzb3J0ZWQsIHlvdSBoYXZlIHRoZSBvcHRpb24gb2YgdXNpbmcgYSBmYXN0ZXIgYWxnb3JpdGhtLlxuICAvLyBBbGlhc2VkIGFzIGB1bmlxdWVgLlxuICBfLnVuaXEgPSBfLnVuaXF1ZSA9IGZ1bmN0aW9uKGFycmF5LCBpc1NvcnRlZCwgaXRlcmF0ZWUsIGNvbnRleHQpIHtcbiAgICBpZiAoIV8uaXNCb29sZWFuKGlzU29ydGVkKSkge1xuICAgICAgY29udGV4dCA9IGl0ZXJhdGVlO1xuICAgICAgaXRlcmF0ZWUgPSBpc1NvcnRlZDtcbiAgICAgIGlzU29ydGVkID0gZmFsc2U7XG4gICAgfVxuICAgIGlmIChpdGVyYXRlZSAhPSBudWxsKSBpdGVyYXRlZSA9IGNiKGl0ZXJhdGVlLCBjb250ZXh0KTtcbiAgICB2YXIgcmVzdWx0ID0gW107XG4gICAgdmFyIHNlZW4gPSBbXTtcbiAgICBmb3IgKHZhciBpID0gMCwgbGVuZ3RoID0gZ2V0TGVuZ3RoKGFycmF5KTsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgICB2YXIgdmFsdWUgPSBhcnJheVtpXSxcbiAgICAgICAgICBjb21wdXRlZCA9IGl0ZXJhdGVlID8gaXRlcmF0ZWUodmFsdWUsIGksIGFycmF5KSA6IHZhbHVlO1xuICAgICAgaWYgKGlzU29ydGVkKSB7XG4gICAgICAgIGlmICghaSB8fCBzZWVuICE9PSBjb21wdXRlZCkgcmVzdWx0LnB1c2godmFsdWUpO1xuICAgICAgICBzZWVuID0gY29tcHV0ZWQ7XG4gICAgICB9IGVsc2UgaWYgKGl0ZXJhdGVlKSB7XG4gICAgICAgIGlmICghXy5jb250YWlucyhzZWVuLCBjb21wdXRlZCkpIHtcbiAgICAgICAgICBzZWVuLnB1c2goY29tcHV0ZWQpO1xuICAgICAgICAgIHJlc3VsdC5wdXNoKHZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmICghXy5jb250YWlucyhyZXN1bHQsIHZhbHVlKSkge1xuICAgICAgICByZXN1bHQucHVzaCh2YWx1ZSk7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG4gIH07XG5cbiAgLy8gUHJvZHVjZSBhbiBhcnJheSB0aGF0IGNvbnRhaW5zIHRoZSB1bmlvbjogZWFjaCBkaXN0aW5jdCBlbGVtZW50IGZyb20gYWxsIG9mXG4gIC8vIHRoZSBwYXNzZWQtaW4gYXJyYXlzLlxuICBfLnVuaW9uID0gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIF8udW5pcShmbGF0dGVuKGFyZ3VtZW50cywgdHJ1ZSwgdHJ1ZSkpO1xuICB9O1xuXG4gIC8vIFByb2R1Y2UgYW4gYXJyYXkgdGhhdCBjb250YWlucyBldmVyeSBpdGVtIHNoYXJlZCBiZXR3ZWVuIGFsbCB0aGVcbiAgLy8gcGFzc2VkLWluIGFycmF5cy5cbiAgXy5pbnRlcnNlY3Rpb24gPSBmdW5jdGlvbihhcnJheSkge1xuICAgIHZhciByZXN1bHQgPSBbXTtcbiAgICB2YXIgYXJnc0xlbmd0aCA9IGFyZ3VtZW50cy5sZW5ndGg7XG4gICAgZm9yICh2YXIgaSA9IDAsIGxlbmd0aCA9IGdldExlbmd0aChhcnJheSk7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgdmFyIGl0ZW0gPSBhcnJheVtpXTtcbiAgICAgIGlmIChfLmNvbnRhaW5zKHJlc3VsdCwgaXRlbSkpIGNvbnRpbnVlO1xuICAgICAgZm9yICh2YXIgaiA9IDE7IGogPCBhcmdzTGVuZ3RoOyBqKyspIHtcbiAgICAgICAgaWYgKCFfLmNvbnRhaW5zKGFyZ3VtZW50c1tqXSwgaXRlbSkpIGJyZWFrO1xuICAgICAgfVxuICAgICAgaWYgKGogPT09IGFyZ3NMZW5ndGgpIHJlc3VsdC5wdXNoKGl0ZW0pO1xuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xuICB9O1xuXG4gIC8vIFRha2UgdGhlIGRpZmZlcmVuY2UgYmV0d2VlbiBvbmUgYXJyYXkgYW5kIGEgbnVtYmVyIG9mIG90aGVyIGFycmF5cy5cbiAgLy8gT25seSB0aGUgZWxlbWVudHMgcHJlc2VudCBpbiBqdXN0IHRoZSBmaXJzdCBhcnJheSB3aWxsIHJlbWFpbi5cbiAgXy5kaWZmZXJlbmNlID0gZnVuY3Rpb24oYXJyYXkpIHtcbiAgICB2YXIgcmVzdCA9IGZsYXR0ZW4oYXJndW1lbnRzLCB0cnVlLCB0cnVlLCAxKTtcbiAgICByZXR1cm4gXy5maWx0ZXIoYXJyYXksIGZ1bmN0aW9uKHZhbHVlKXtcbiAgICAgIHJldHVybiAhXy5jb250YWlucyhyZXN0LCB2YWx1ZSk7XG4gICAgfSk7XG4gIH07XG5cbiAgLy8gWmlwIHRvZ2V0aGVyIG11bHRpcGxlIGxpc3RzIGludG8gYSBzaW5nbGUgYXJyYXkgLS0gZWxlbWVudHMgdGhhdCBzaGFyZVxuICAvLyBhbiBpbmRleCBnbyB0b2dldGhlci5cbiAgXy56aXAgPSBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gXy51bnppcChhcmd1bWVudHMpO1xuICB9O1xuXG4gIC8vIENvbXBsZW1lbnQgb2YgXy56aXAuIFVuemlwIGFjY2VwdHMgYW4gYXJyYXkgb2YgYXJyYXlzIGFuZCBncm91cHNcbiAgLy8gZWFjaCBhcnJheSdzIGVsZW1lbnRzIG9uIHNoYXJlZCBpbmRpY2VzXG4gIF8udW56aXAgPSBmdW5jdGlvbihhcnJheSkge1xuICAgIHZhciBsZW5ndGggPSBhcnJheSAmJiBfLm1heChhcnJheSwgZ2V0TGVuZ3RoKS5sZW5ndGggfHwgMDtcbiAgICB2YXIgcmVzdWx0ID0gQXJyYXkobGVuZ3RoKTtcblxuICAgIGZvciAodmFyIGluZGV4ID0gMDsgaW5kZXggPCBsZW5ndGg7IGluZGV4KyspIHtcbiAgICAgIHJlc3VsdFtpbmRleF0gPSBfLnBsdWNrKGFycmF5LCBpbmRleCk7XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG4gIH07XG5cbiAgLy8gQ29udmVydHMgbGlzdHMgaW50byBvYmplY3RzLiBQYXNzIGVpdGhlciBhIHNpbmdsZSBhcnJheSBvZiBgW2tleSwgdmFsdWVdYFxuICAvLyBwYWlycywgb3IgdHdvIHBhcmFsbGVsIGFycmF5cyBvZiB0aGUgc2FtZSBsZW5ndGggLS0gb25lIG9mIGtleXMsIGFuZCBvbmUgb2ZcbiAgLy8gdGhlIGNvcnJlc3BvbmRpbmcgdmFsdWVzLlxuICBfLm9iamVjdCA9IGZ1bmN0aW9uKGxpc3QsIHZhbHVlcykge1xuICAgIHZhciByZXN1bHQgPSB7fTtcbiAgICBmb3IgKHZhciBpID0gMCwgbGVuZ3RoID0gZ2V0TGVuZ3RoKGxpc3QpOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICAgIGlmICh2YWx1ZXMpIHtcbiAgICAgICAgcmVzdWx0W2xpc3RbaV1dID0gdmFsdWVzW2ldO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmVzdWx0W2xpc3RbaV1bMF1dID0gbGlzdFtpXVsxXTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfTtcblxuICAvLyBHZW5lcmF0b3IgZnVuY3Rpb24gdG8gY3JlYXRlIHRoZSBmaW5kSW5kZXggYW5kIGZpbmRMYXN0SW5kZXggZnVuY3Rpb25zXG4gIGZ1bmN0aW9uIGNyZWF0ZVByZWRpY2F0ZUluZGV4RmluZGVyKGRpcikge1xuICAgIHJldHVybiBmdW5jdGlvbihhcnJheSwgcHJlZGljYXRlLCBjb250ZXh0KSB7XG4gICAgICBwcmVkaWNhdGUgPSBjYihwcmVkaWNhdGUsIGNvbnRleHQpO1xuICAgICAgdmFyIGxlbmd0aCA9IGdldExlbmd0aChhcnJheSk7XG4gICAgICB2YXIgaW5kZXggPSBkaXIgPiAwID8gMCA6IGxlbmd0aCAtIDE7XG4gICAgICBmb3IgKDsgaW5kZXggPj0gMCAmJiBpbmRleCA8IGxlbmd0aDsgaW5kZXggKz0gZGlyKSB7XG4gICAgICAgIGlmIChwcmVkaWNhdGUoYXJyYXlbaW5kZXhdLCBpbmRleCwgYXJyYXkpKSByZXR1cm4gaW5kZXg7XG4gICAgICB9XG4gICAgICByZXR1cm4gLTE7XG4gICAgfTtcbiAgfVxuXG4gIC8vIFJldHVybnMgdGhlIGZpcnN0IGluZGV4IG9uIGFuIGFycmF5LWxpa2UgdGhhdCBwYXNzZXMgYSBwcmVkaWNhdGUgdGVzdFxuICBfLmZpbmRJbmRleCA9IGNyZWF0ZVByZWRpY2F0ZUluZGV4RmluZGVyKDEpO1xuICBfLmZpbmRMYXN0SW5kZXggPSBjcmVhdGVQcmVkaWNhdGVJbmRleEZpbmRlcigtMSk7XG5cbiAgLy8gVXNlIGEgY29tcGFyYXRvciBmdW5jdGlvbiB0byBmaWd1cmUgb3V0IHRoZSBzbWFsbGVzdCBpbmRleCBhdCB3aGljaFxuICAvLyBhbiBvYmplY3Qgc2hvdWxkIGJlIGluc2VydGVkIHNvIGFzIHRvIG1haW50YWluIG9yZGVyLiBVc2VzIGJpbmFyeSBzZWFyY2guXG4gIF8uc29ydGVkSW5kZXggPSBmdW5jdGlvbihhcnJheSwgb2JqLCBpdGVyYXRlZSwgY29udGV4dCkge1xuICAgIGl0ZXJhdGVlID0gY2IoaXRlcmF0ZWUsIGNvbnRleHQsIDEpO1xuICAgIHZhciB2YWx1ZSA9IGl0ZXJhdGVlKG9iaik7XG4gICAgdmFyIGxvdyA9IDAsIGhpZ2ggPSBnZXRMZW5ndGgoYXJyYXkpO1xuICAgIHdoaWxlIChsb3cgPCBoaWdoKSB7XG4gICAgICB2YXIgbWlkID0gTWF0aC5mbG9vcigobG93ICsgaGlnaCkgLyAyKTtcbiAgICAgIGlmIChpdGVyYXRlZShhcnJheVttaWRdKSA8IHZhbHVlKSBsb3cgPSBtaWQgKyAxOyBlbHNlIGhpZ2ggPSBtaWQ7XG4gICAgfVxuICAgIHJldHVybiBsb3c7XG4gIH07XG5cbiAgLy8gR2VuZXJhdG9yIGZ1bmN0aW9uIHRvIGNyZWF0ZSB0aGUgaW5kZXhPZiBhbmQgbGFzdEluZGV4T2YgZnVuY3Rpb25zXG4gIGZ1bmN0aW9uIGNyZWF0ZUluZGV4RmluZGVyKGRpciwgcHJlZGljYXRlRmluZCwgc29ydGVkSW5kZXgpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24oYXJyYXksIGl0ZW0sIGlkeCkge1xuICAgICAgdmFyIGkgPSAwLCBsZW5ndGggPSBnZXRMZW5ndGgoYXJyYXkpO1xuICAgICAgaWYgKHR5cGVvZiBpZHggPT0gJ251bWJlcicpIHtcbiAgICAgICAgaWYgKGRpciA+IDApIHtcbiAgICAgICAgICAgIGkgPSBpZHggPj0gMCA/IGlkeCA6IE1hdGgubWF4KGlkeCArIGxlbmd0aCwgaSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBsZW5ndGggPSBpZHggPj0gMCA/IE1hdGgubWluKGlkeCArIDEsIGxlbmd0aCkgOiBpZHggKyBsZW5ndGggKyAxO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKHNvcnRlZEluZGV4ICYmIGlkeCAmJiBsZW5ndGgpIHtcbiAgICAgICAgaWR4ID0gc29ydGVkSW5kZXgoYXJyYXksIGl0ZW0pO1xuICAgICAgICByZXR1cm4gYXJyYXlbaWR4XSA9PT0gaXRlbSA/IGlkeCA6IC0xO1xuICAgICAgfVxuICAgICAgaWYgKGl0ZW0gIT09IGl0ZW0pIHtcbiAgICAgICAgaWR4ID0gcHJlZGljYXRlRmluZChzbGljZS5jYWxsKGFycmF5LCBpLCBsZW5ndGgpLCBfLmlzTmFOKTtcbiAgICAgICAgcmV0dXJuIGlkeCA+PSAwID8gaWR4ICsgaSA6IC0xO1xuICAgICAgfVxuICAgICAgZm9yIChpZHggPSBkaXIgPiAwID8gaSA6IGxlbmd0aCAtIDE7IGlkeCA+PSAwICYmIGlkeCA8IGxlbmd0aDsgaWR4ICs9IGRpcikge1xuICAgICAgICBpZiAoYXJyYXlbaWR4XSA9PT0gaXRlbSkgcmV0dXJuIGlkeDtcbiAgICAgIH1cbiAgICAgIHJldHVybiAtMTtcbiAgICB9O1xuICB9XG5cbiAgLy8gUmV0dXJuIHRoZSBwb3NpdGlvbiBvZiB0aGUgZmlyc3Qgb2NjdXJyZW5jZSBvZiBhbiBpdGVtIGluIGFuIGFycmF5LFxuICAvLyBvciAtMSBpZiB0aGUgaXRlbSBpcyBub3QgaW5jbHVkZWQgaW4gdGhlIGFycmF5LlxuICAvLyBJZiB0aGUgYXJyYXkgaXMgbGFyZ2UgYW5kIGFscmVhZHkgaW4gc29ydCBvcmRlciwgcGFzcyBgdHJ1ZWBcbiAgLy8gZm9yICoqaXNTb3J0ZWQqKiB0byB1c2UgYmluYXJ5IHNlYXJjaC5cbiAgXy5pbmRleE9mID0gY3JlYXRlSW5kZXhGaW5kZXIoMSwgXy5maW5kSW5kZXgsIF8uc29ydGVkSW5kZXgpO1xuICBfLmxhc3RJbmRleE9mID0gY3JlYXRlSW5kZXhGaW5kZXIoLTEsIF8uZmluZExhc3RJbmRleCk7XG5cbiAgLy8gR2VuZXJhdGUgYW4gaW50ZWdlciBBcnJheSBjb250YWluaW5nIGFuIGFyaXRobWV0aWMgcHJvZ3Jlc3Npb24uIEEgcG9ydCBvZlxuICAvLyB0aGUgbmF0aXZlIFB5dGhvbiBgcmFuZ2UoKWAgZnVuY3Rpb24uIFNlZVxuICAvLyBbdGhlIFB5dGhvbiBkb2N1bWVudGF0aW9uXShodHRwOi8vZG9jcy5weXRob24ub3JnL2xpYnJhcnkvZnVuY3Rpb25zLmh0bWwjcmFuZ2UpLlxuICBfLnJhbmdlID0gZnVuY3Rpb24oc3RhcnQsIHN0b3AsIHN0ZXApIHtcbiAgICBpZiAoc3RvcCA9PSBudWxsKSB7XG4gICAgICBzdG9wID0gc3RhcnQgfHwgMDtcbiAgICAgIHN0YXJ0ID0gMDtcbiAgICB9XG4gICAgc3RlcCA9IHN0ZXAgfHwgMTtcblxuICAgIHZhciBsZW5ndGggPSBNYXRoLm1heChNYXRoLmNlaWwoKHN0b3AgLSBzdGFydCkgLyBzdGVwKSwgMCk7XG4gICAgdmFyIHJhbmdlID0gQXJyYXkobGVuZ3RoKTtcblxuICAgIGZvciAodmFyIGlkeCA9IDA7IGlkeCA8IGxlbmd0aDsgaWR4KyssIHN0YXJ0ICs9IHN0ZXApIHtcbiAgICAgIHJhbmdlW2lkeF0gPSBzdGFydDtcbiAgICB9XG5cbiAgICByZXR1cm4gcmFuZ2U7XG4gIH07XG5cbiAgLy8gRnVuY3Rpb24gKGFoZW0pIEZ1bmN0aW9uc1xuICAvLyAtLS0tLS0tLS0tLS0tLS0tLS1cblxuICAvLyBEZXRlcm1pbmVzIHdoZXRoZXIgdG8gZXhlY3V0ZSBhIGZ1bmN0aW9uIGFzIGEgY29uc3RydWN0b3JcbiAgLy8gb3IgYSBub3JtYWwgZnVuY3Rpb24gd2l0aCB0aGUgcHJvdmlkZWQgYXJndW1lbnRzXG4gIHZhciBleGVjdXRlQm91bmQgPSBmdW5jdGlvbihzb3VyY2VGdW5jLCBib3VuZEZ1bmMsIGNvbnRleHQsIGNhbGxpbmdDb250ZXh0LCBhcmdzKSB7XG4gICAgaWYgKCEoY2FsbGluZ0NvbnRleHQgaW5zdGFuY2VvZiBib3VuZEZ1bmMpKSByZXR1cm4gc291cmNlRnVuYy5hcHBseShjb250ZXh0LCBhcmdzKTtcbiAgICB2YXIgc2VsZiA9IGJhc2VDcmVhdGUoc291cmNlRnVuYy5wcm90b3R5cGUpO1xuICAgIHZhciByZXN1bHQgPSBzb3VyY2VGdW5jLmFwcGx5KHNlbGYsIGFyZ3MpO1xuICAgIGlmIChfLmlzT2JqZWN0KHJlc3VsdCkpIHJldHVybiByZXN1bHQ7XG4gICAgcmV0dXJuIHNlbGY7XG4gIH07XG5cbiAgLy8gQ3JlYXRlIGEgZnVuY3Rpb24gYm91bmQgdG8gYSBnaXZlbiBvYmplY3QgKGFzc2lnbmluZyBgdGhpc2AsIGFuZCBhcmd1bWVudHMsXG4gIC8vIG9wdGlvbmFsbHkpLiBEZWxlZ2F0ZXMgdG8gKipFQ01BU2NyaXB0IDUqKidzIG5hdGl2ZSBgRnVuY3Rpb24uYmluZGAgaWZcbiAgLy8gYXZhaWxhYmxlLlxuICBfLmJpbmQgPSBmdW5jdGlvbihmdW5jLCBjb250ZXh0KSB7XG4gICAgaWYgKG5hdGl2ZUJpbmQgJiYgZnVuYy5iaW5kID09PSBuYXRpdmVCaW5kKSByZXR1cm4gbmF0aXZlQmluZC5hcHBseShmdW5jLCBzbGljZS5jYWxsKGFyZ3VtZW50cywgMSkpO1xuICAgIGlmICghXy5pc0Z1bmN0aW9uKGZ1bmMpKSB0aHJvdyBuZXcgVHlwZUVycm9yKCdCaW5kIG11c3QgYmUgY2FsbGVkIG9uIGEgZnVuY3Rpb24nKTtcbiAgICB2YXIgYXJncyA9IHNsaWNlLmNhbGwoYXJndW1lbnRzLCAyKTtcbiAgICB2YXIgYm91bmQgPSBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiBleGVjdXRlQm91bmQoZnVuYywgYm91bmQsIGNvbnRleHQsIHRoaXMsIGFyZ3MuY29uY2F0KHNsaWNlLmNhbGwoYXJndW1lbnRzKSkpO1xuICAgIH07XG4gICAgcmV0dXJuIGJvdW5kO1xuICB9O1xuXG4gIC8vIFBhcnRpYWxseSBhcHBseSBhIGZ1bmN0aW9uIGJ5IGNyZWF0aW5nIGEgdmVyc2lvbiB0aGF0IGhhcyBoYWQgc29tZSBvZiBpdHNcbiAgLy8gYXJndW1lbnRzIHByZS1maWxsZWQsIHdpdGhvdXQgY2hhbmdpbmcgaXRzIGR5bmFtaWMgYHRoaXNgIGNvbnRleHQuIF8gYWN0c1xuICAvLyBhcyBhIHBsYWNlaG9sZGVyLCBhbGxvd2luZyBhbnkgY29tYmluYXRpb24gb2YgYXJndW1lbnRzIHRvIGJlIHByZS1maWxsZWQuXG4gIF8ucGFydGlhbCA9IGZ1bmN0aW9uKGZ1bmMpIHtcbiAgICB2YXIgYm91bmRBcmdzID0gc2xpY2UuY2FsbChhcmd1bWVudHMsIDEpO1xuICAgIHZhciBib3VuZCA9IGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIHBvc2l0aW9uID0gMCwgbGVuZ3RoID0gYm91bmRBcmdzLmxlbmd0aDtcbiAgICAgIHZhciBhcmdzID0gQXJyYXkobGVuZ3RoKTtcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICAgICAgYXJnc1tpXSA9IGJvdW5kQXJnc1tpXSA9PT0gXyA/IGFyZ3VtZW50c1twb3NpdGlvbisrXSA6IGJvdW5kQXJnc1tpXTtcbiAgICAgIH1cbiAgICAgIHdoaWxlIChwb3NpdGlvbiA8IGFyZ3VtZW50cy5sZW5ndGgpIGFyZ3MucHVzaChhcmd1bWVudHNbcG9zaXRpb24rK10pO1xuICAgICAgcmV0dXJuIGV4ZWN1dGVCb3VuZChmdW5jLCBib3VuZCwgdGhpcywgdGhpcywgYXJncyk7XG4gICAgfTtcbiAgICByZXR1cm4gYm91bmQ7XG4gIH07XG5cbiAgLy8gQmluZCBhIG51bWJlciBvZiBhbiBvYmplY3QncyBtZXRob2RzIHRvIHRoYXQgb2JqZWN0LiBSZW1haW5pbmcgYXJndW1lbnRzXG4gIC8vIGFyZSB0aGUgbWV0aG9kIG5hbWVzIHRvIGJlIGJvdW5kLiBVc2VmdWwgZm9yIGVuc3VyaW5nIHRoYXQgYWxsIGNhbGxiYWNrc1xuICAvLyBkZWZpbmVkIG9uIGFuIG9iamVjdCBiZWxvbmcgdG8gaXQuXG4gIF8uYmluZEFsbCA9IGZ1bmN0aW9uKG9iaikge1xuICAgIHZhciBpLCBsZW5ndGggPSBhcmd1bWVudHMubGVuZ3RoLCBrZXk7XG4gICAgaWYgKGxlbmd0aCA8PSAxKSB0aHJvdyBuZXcgRXJyb3IoJ2JpbmRBbGwgbXVzdCBiZSBwYXNzZWQgZnVuY3Rpb24gbmFtZXMnKTtcbiAgICBmb3IgKGkgPSAxOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICAgIGtleSA9IGFyZ3VtZW50c1tpXTtcbiAgICAgIG9ialtrZXldID0gXy5iaW5kKG9ialtrZXldLCBvYmopO1xuICAgIH1cbiAgICByZXR1cm4gb2JqO1xuICB9O1xuXG4gIC8vIE1lbW9pemUgYW4gZXhwZW5zaXZlIGZ1bmN0aW9uIGJ5IHN0b3JpbmcgaXRzIHJlc3VsdHMuXG4gIF8ubWVtb2l6ZSA9IGZ1bmN0aW9uKGZ1bmMsIGhhc2hlcikge1xuICAgIHZhciBtZW1vaXplID0gZnVuY3Rpb24oa2V5KSB7XG4gICAgICB2YXIgY2FjaGUgPSBtZW1vaXplLmNhY2hlO1xuICAgICAgdmFyIGFkZHJlc3MgPSAnJyArIChoYXNoZXIgPyBoYXNoZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKSA6IGtleSk7XG4gICAgICBpZiAoIV8uaGFzKGNhY2hlLCBhZGRyZXNzKSkgY2FjaGVbYWRkcmVzc10gPSBmdW5jLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICByZXR1cm4gY2FjaGVbYWRkcmVzc107XG4gICAgfTtcbiAgICBtZW1vaXplLmNhY2hlID0ge307XG4gICAgcmV0dXJuIG1lbW9pemU7XG4gIH07XG5cbiAgLy8gRGVsYXlzIGEgZnVuY3Rpb24gZm9yIHRoZSBnaXZlbiBudW1iZXIgb2YgbWlsbGlzZWNvbmRzLCBhbmQgdGhlbiBjYWxsc1xuICAvLyBpdCB3aXRoIHRoZSBhcmd1bWVudHMgc3VwcGxpZWQuXG4gIF8uZGVsYXkgPSBmdW5jdGlvbihmdW5jLCB3YWl0KSB7XG4gICAgdmFyIGFyZ3MgPSBzbGljZS5jYWxsKGFyZ3VtZW50cywgMik7XG4gICAgcmV0dXJuIHNldFRpbWVvdXQoZnVuY3Rpb24oKXtcbiAgICAgIHJldHVybiBmdW5jLmFwcGx5KG51bGwsIGFyZ3MpO1xuICAgIH0sIHdhaXQpO1xuICB9O1xuXG4gIC8vIERlZmVycyBhIGZ1bmN0aW9uLCBzY2hlZHVsaW5nIGl0IHRvIHJ1biBhZnRlciB0aGUgY3VycmVudCBjYWxsIHN0YWNrIGhhc1xuICAvLyBjbGVhcmVkLlxuICBfLmRlZmVyID0gXy5wYXJ0aWFsKF8uZGVsYXksIF8sIDEpO1xuXG4gIC8vIFJldHVybnMgYSBmdW5jdGlvbiwgdGhhdCwgd2hlbiBpbnZva2VkLCB3aWxsIG9ubHkgYmUgdHJpZ2dlcmVkIGF0IG1vc3Qgb25jZVxuICAvLyBkdXJpbmcgYSBnaXZlbiB3aW5kb3cgb2YgdGltZS4gTm9ybWFsbHksIHRoZSB0aHJvdHRsZWQgZnVuY3Rpb24gd2lsbCBydW5cbiAgLy8gYXMgbXVjaCBhcyBpdCBjYW4sIHdpdGhvdXQgZXZlciBnb2luZyBtb3JlIHRoYW4gb25jZSBwZXIgYHdhaXRgIGR1cmF0aW9uO1xuICAvLyBidXQgaWYgeW91J2QgbGlrZSB0byBkaXNhYmxlIHRoZSBleGVjdXRpb24gb24gdGhlIGxlYWRpbmcgZWRnZSwgcGFzc1xuICAvLyBge2xlYWRpbmc6IGZhbHNlfWAuIFRvIGRpc2FibGUgZXhlY3V0aW9uIG9uIHRoZSB0cmFpbGluZyBlZGdlLCBkaXR0by5cbiAgXy50aHJvdHRsZSA9IGZ1bmN0aW9uKGZ1bmMsIHdhaXQsIG9wdGlvbnMpIHtcbiAgICB2YXIgY29udGV4dCwgYXJncywgcmVzdWx0O1xuICAgIHZhciB0aW1lb3V0ID0gbnVsbDtcbiAgICB2YXIgcHJldmlvdXMgPSAwO1xuICAgIGlmICghb3B0aW9ucykgb3B0aW9ucyA9IHt9O1xuICAgIHZhciBsYXRlciA9IGZ1bmN0aW9uKCkge1xuICAgICAgcHJldmlvdXMgPSBvcHRpb25zLmxlYWRpbmcgPT09IGZhbHNlID8gMCA6IF8ubm93KCk7XG4gICAgICB0aW1lb3V0ID0gbnVsbDtcbiAgICAgIHJlc3VsdCA9IGZ1bmMuYXBwbHkoY29udGV4dCwgYXJncyk7XG4gICAgICBpZiAoIXRpbWVvdXQpIGNvbnRleHQgPSBhcmdzID0gbnVsbDtcbiAgICB9O1xuICAgIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICAgIHZhciBub3cgPSBfLm5vdygpO1xuICAgICAgaWYgKCFwcmV2aW91cyAmJiBvcHRpb25zLmxlYWRpbmcgPT09IGZhbHNlKSBwcmV2aW91cyA9IG5vdztcbiAgICAgIHZhciByZW1haW5pbmcgPSB3YWl0IC0gKG5vdyAtIHByZXZpb3VzKTtcbiAgICAgIGNvbnRleHQgPSB0aGlzO1xuICAgICAgYXJncyA9IGFyZ3VtZW50cztcbiAgICAgIGlmIChyZW1haW5pbmcgPD0gMCB8fCByZW1haW5pbmcgPiB3YWl0KSB7XG4gICAgICAgIGlmICh0aW1lb3V0KSB7XG4gICAgICAgICAgY2xlYXJUaW1lb3V0KHRpbWVvdXQpO1xuICAgICAgICAgIHRpbWVvdXQgPSBudWxsO1xuICAgICAgICB9XG4gICAgICAgIHByZXZpb3VzID0gbm93O1xuICAgICAgICByZXN1bHQgPSBmdW5jLmFwcGx5KGNvbnRleHQsIGFyZ3MpO1xuICAgICAgICBpZiAoIXRpbWVvdXQpIGNvbnRleHQgPSBhcmdzID0gbnVsbDtcbiAgICAgIH0gZWxzZSBpZiAoIXRpbWVvdXQgJiYgb3B0aW9ucy50cmFpbGluZyAhPT0gZmFsc2UpIHtcbiAgICAgICAgdGltZW91dCA9IHNldFRpbWVvdXQobGF0ZXIsIHJlbWFpbmluZyk7XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH07XG4gIH07XG5cbiAgLy8gUmV0dXJucyBhIGZ1bmN0aW9uLCB0aGF0LCBhcyBsb25nIGFzIGl0IGNvbnRpbnVlcyB0byBiZSBpbnZva2VkLCB3aWxsIG5vdFxuICAvLyBiZSB0cmlnZ2VyZWQuIFRoZSBmdW5jdGlvbiB3aWxsIGJlIGNhbGxlZCBhZnRlciBpdCBzdG9wcyBiZWluZyBjYWxsZWQgZm9yXG4gIC8vIE4gbWlsbGlzZWNvbmRzLiBJZiBgaW1tZWRpYXRlYCBpcyBwYXNzZWQsIHRyaWdnZXIgdGhlIGZ1bmN0aW9uIG9uIHRoZVxuICAvLyBsZWFkaW5nIGVkZ2UsIGluc3RlYWQgb2YgdGhlIHRyYWlsaW5nLlxuICBfLmRlYm91bmNlID0gZnVuY3Rpb24oZnVuYywgd2FpdCwgaW1tZWRpYXRlKSB7XG4gICAgdmFyIHRpbWVvdXQsIGFyZ3MsIGNvbnRleHQsIHRpbWVzdGFtcCwgcmVzdWx0O1xuXG4gICAgdmFyIGxhdGVyID0gZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgbGFzdCA9IF8ubm93KCkgLSB0aW1lc3RhbXA7XG5cbiAgICAgIGlmIChsYXN0IDwgd2FpdCAmJiBsYXN0ID49IDApIHtcbiAgICAgICAgdGltZW91dCA9IHNldFRpbWVvdXQobGF0ZXIsIHdhaXQgLSBsYXN0KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRpbWVvdXQgPSBudWxsO1xuICAgICAgICBpZiAoIWltbWVkaWF0ZSkge1xuICAgICAgICAgIHJlc3VsdCA9IGZ1bmMuYXBwbHkoY29udGV4dCwgYXJncyk7XG4gICAgICAgICAgaWYgKCF0aW1lb3V0KSBjb250ZXh0ID0gYXJncyA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9O1xuXG4gICAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgICAgY29udGV4dCA9IHRoaXM7XG4gICAgICBhcmdzID0gYXJndW1lbnRzO1xuICAgICAgdGltZXN0YW1wID0gXy5ub3coKTtcbiAgICAgIHZhciBjYWxsTm93ID0gaW1tZWRpYXRlICYmICF0aW1lb3V0O1xuICAgICAgaWYgKCF0aW1lb3V0KSB0aW1lb3V0ID0gc2V0VGltZW91dChsYXRlciwgd2FpdCk7XG4gICAgICBpZiAoY2FsbE5vdykge1xuICAgICAgICByZXN1bHQgPSBmdW5jLmFwcGx5KGNvbnRleHQsIGFyZ3MpO1xuICAgICAgICBjb250ZXh0ID0gYXJncyA9IG51bGw7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfTtcbiAgfTtcblxuICAvLyBSZXR1cm5zIHRoZSBmaXJzdCBmdW5jdGlvbiBwYXNzZWQgYXMgYW4gYXJndW1lbnQgdG8gdGhlIHNlY29uZCxcbiAgLy8gYWxsb3dpbmcgeW91IHRvIGFkanVzdCBhcmd1bWVudHMsIHJ1biBjb2RlIGJlZm9yZSBhbmQgYWZ0ZXIsIGFuZFxuICAvLyBjb25kaXRpb25hbGx5IGV4ZWN1dGUgdGhlIG9yaWdpbmFsIGZ1bmN0aW9uLlxuICBfLndyYXAgPSBmdW5jdGlvbihmdW5jLCB3cmFwcGVyKSB7XG4gICAgcmV0dXJuIF8ucGFydGlhbCh3cmFwcGVyLCBmdW5jKTtcbiAgfTtcblxuICAvLyBSZXR1cm5zIGEgbmVnYXRlZCB2ZXJzaW9uIG9mIHRoZSBwYXNzZWQtaW4gcHJlZGljYXRlLlxuICBfLm5lZ2F0ZSA9IGZ1bmN0aW9uKHByZWRpY2F0ZSkge1xuICAgIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiAhcHJlZGljYXRlLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgfTtcbiAgfTtcblxuICAvLyBSZXR1cm5zIGEgZnVuY3Rpb24gdGhhdCBpcyB0aGUgY29tcG9zaXRpb24gb2YgYSBsaXN0IG9mIGZ1bmN0aW9ucywgZWFjaFxuICAvLyBjb25zdW1pbmcgdGhlIHJldHVybiB2YWx1ZSBvZiB0aGUgZnVuY3Rpb24gdGhhdCBmb2xsb3dzLlxuICBfLmNvbXBvc2UgPSBmdW5jdGlvbigpIHtcbiAgICB2YXIgYXJncyA9IGFyZ3VtZW50cztcbiAgICB2YXIgc3RhcnQgPSBhcmdzLmxlbmd0aCAtIDE7XG4gICAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIGkgPSBzdGFydDtcbiAgICAgIHZhciByZXN1bHQgPSBhcmdzW3N0YXJ0XS5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgd2hpbGUgKGktLSkgcmVzdWx0ID0gYXJnc1tpXS5jYWxsKHRoaXMsIHJlc3VsdCk7XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH07XG4gIH07XG5cbiAgLy8gUmV0dXJucyBhIGZ1bmN0aW9uIHRoYXQgd2lsbCBvbmx5IGJlIGV4ZWN1dGVkIG9uIGFuZCBhZnRlciB0aGUgTnRoIGNhbGwuXG4gIF8uYWZ0ZXIgPSBmdW5jdGlvbih0aW1lcywgZnVuYykge1xuICAgIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICAgIGlmICgtLXRpbWVzIDwgMSkge1xuICAgICAgICByZXR1cm4gZnVuYy5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgfVxuICAgIH07XG4gIH07XG5cbiAgLy8gUmV0dXJucyBhIGZ1bmN0aW9uIHRoYXQgd2lsbCBvbmx5IGJlIGV4ZWN1dGVkIHVwIHRvIChidXQgbm90IGluY2x1ZGluZykgdGhlIE50aCBjYWxsLlxuICBfLmJlZm9yZSA9IGZ1bmN0aW9uKHRpbWVzLCBmdW5jKSB7XG4gICAgdmFyIG1lbW87XG4gICAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgICAgaWYgKC0tdGltZXMgPiAwKSB7XG4gICAgICAgIG1lbW8gPSBmdW5jLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICB9XG4gICAgICBpZiAodGltZXMgPD0gMSkgZnVuYyA9IG51bGw7XG4gICAgICByZXR1cm4gbWVtbztcbiAgICB9O1xuICB9O1xuXG4gIC8vIFJldHVybnMgYSBmdW5jdGlvbiB0aGF0IHdpbGwgYmUgZXhlY3V0ZWQgYXQgbW9zdCBvbmUgdGltZSwgbm8gbWF0dGVyIGhvd1xuICAvLyBvZnRlbiB5b3UgY2FsbCBpdC4gVXNlZnVsIGZvciBsYXp5IGluaXRpYWxpemF0aW9uLlxuICBfLm9uY2UgPSBfLnBhcnRpYWwoXy5iZWZvcmUsIDIpO1xuXG4gIC8vIE9iamVjdCBGdW5jdGlvbnNcbiAgLy8gLS0tLS0tLS0tLS0tLS0tLVxuXG4gIC8vIEtleXMgaW4gSUUgPCA5IHRoYXQgd29uJ3QgYmUgaXRlcmF0ZWQgYnkgYGZvciBrZXkgaW4gLi4uYCBhbmQgdGh1cyBtaXNzZWQuXG4gIHZhciBoYXNFbnVtQnVnID0gIXt0b1N0cmluZzogbnVsbH0ucHJvcGVydHlJc0VudW1lcmFibGUoJ3RvU3RyaW5nJyk7XG4gIHZhciBub25FbnVtZXJhYmxlUHJvcHMgPSBbJ3ZhbHVlT2YnLCAnaXNQcm90b3R5cGVPZicsICd0b1N0cmluZycsXG4gICAgICAgICAgICAgICAgICAgICAgJ3Byb3BlcnR5SXNFbnVtZXJhYmxlJywgJ2hhc093blByb3BlcnR5JywgJ3RvTG9jYWxlU3RyaW5nJ107XG5cbiAgZnVuY3Rpb24gY29sbGVjdE5vbkVudW1Qcm9wcyhvYmosIGtleXMpIHtcbiAgICB2YXIgbm9uRW51bUlkeCA9IG5vbkVudW1lcmFibGVQcm9wcy5sZW5ndGg7XG4gICAgdmFyIGNvbnN0cnVjdG9yID0gb2JqLmNvbnN0cnVjdG9yO1xuICAgIHZhciBwcm90byA9IChfLmlzRnVuY3Rpb24oY29uc3RydWN0b3IpICYmIGNvbnN0cnVjdG9yLnByb3RvdHlwZSkgfHwgT2JqUHJvdG87XG5cbiAgICAvLyBDb25zdHJ1Y3RvciBpcyBhIHNwZWNpYWwgY2FzZS5cbiAgICB2YXIgcHJvcCA9ICdjb25zdHJ1Y3Rvcic7XG4gICAgaWYgKF8uaGFzKG9iaiwgcHJvcCkgJiYgIV8uY29udGFpbnMoa2V5cywgcHJvcCkpIGtleXMucHVzaChwcm9wKTtcblxuICAgIHdoaWxlIChub25FbnVtSWR4LS0pIHtcbiAgICAgIHByb3AgPSBub25FbnVtZXJhYmxlUHJvcHNbbm9uRW51bUlkeF07XG4gICAgICBpZiAocHJvcCBpbiBvYmogJiYgb2JqW3Byb3BdICE9PSBwcm90b1twcm9wXSAmJiAhXy5jb250YWlucyhrZXlzLCBwcm9wKSkge1xuICAgICAgICBrZXlzLnB1c2gocHJvcCk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgLy8gUmV0cmlldmUgdGhlIG5hbWVzIG9mIGFuIG9iamVjdCdzIG93biBwcm9wZXJ0aWVzLlxuICAvLyBEZWxlZ2F0ZXMgdG8gKipFQ01BU2NyaXB0IDUqKidzIG5hdGl2ZSBgT2JqZWN0LmtleXNgXG4gIF8ua2V5cyA9IGZ1bmN0aW9uKG9iaikge1xuICAgIGlmICghXy5pc09iamVjdChvYmopKSByZXR1cm4gW107XG4gICAgaWYgKG5hdGl2ZUtleXMpIHJldHVybiBuYXRpdmVLZXlzKG9iaik7XG4gICAgdmFyIGtleXMgPSBbXTtcbiAgICBmb3IgKHZhciBrZXkgaW4gb2JqKSBpZiAoXy5oYXMob2JqLCBrZXkpKSBrZXlzLnB1c2goa2V5KTtcbiAgICAvLyBBaGVtLCBJRSA8IDkuXG4gICAgaWYgKGhhc0VudW1CdWcpIGNvbGxlY3ROb25FbnVtUHJvcHMob2JqLCBrZXlzKTtcbiAgICByZXR1cm4ga2V5cztcbiAgfTtcblxuICAvLyBSZXRyaWV2ZSBhbGwgdGhlIHByb3BlcnR5IG5hbWVzIG9mIGFuIG9iamVjdC5cbiAgXy5hbGxLZXlzID0gZnVuY3Rpb24ob2JqKSB7XG4gICAgaWYgKCFfLmlzT2JqZWN0KG9iaikpIHJldHVybiBbXTtcbiAgICB2YXIga2V5cyA9IFtdO1xuICAgIGZvciAodmFyIGtleSBpbiBvYmopIGtleXMucHVzaChrZXkpO1xuICAgIC8vIEFoZW0sIElFIDwgOS5cbiAgICBpZiAoaGFzRW51bUJ1ZykgY29sbGVjdE5vbkVudW1Qcm9wcyhvYmosIGtleXMpO1xuICAgIHJldHVybiBrZXlzO1xuICB9O1xuXG4gIC8vIFJldHJpZXZlIHRoZSB2YWx1ZXMgb2YgYW4gb2JqZWN0J3MgcHJvcGVydGllcy5cbiAgXy52YWx1ZXMgPSBmdW5jdGlvbihvYmopIHtcbiAgICB2YXIga2V5cyA9IF8ua2V5cyhvYmopO1xuICAgIHZhciBsZW5ndGggPSBrZXlzLmxlbmd0aDtcbiAgICB2YXIgdmFsdWVzID0gQXJyYXkobGVuZ3RoKTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgICB2YWx1ZXNbaV0gPSBvYmpba2V5c1tpXV07XG4gICAgfVxuICAgIHJldHVybiB2YWx1ZXM7XG4gIH07XG5cbiAgLy8gUmV0dXJucyB0aGUgcmVzdWx0cyBvZiBhcHBseWluZyB0aGUgaXRlcmF0ZWUgdG8gZWFjaCBlbGVtZW50IG9mIHRoZSBvYmplY3RcbiAgLy8gSW4gY29udHJhc3QgdG8gXy5tYXAgaXQgcmV0dXJucyBhbiBvYmplY3RcbiAgXy5tYXBPYmplY3QgPSBmdW5jdGlvbihvYmosIGl0ZXJhdGVlLCBjb250ZXh0KSB7XG4gICAgaXRlcmF0ZWUgPSBjYihpdGVyYXRlZSwgY29udGV4dCk7XG4gICAgdmFyIGtleXMgPSAgXy5rZXlzKG9iaiksXG4gICAgICAgICAgbGVuZ3RoID0ga2V5cy5sZW5ndGgsXG4gICAgICAgICAgcmVzdWx0cyA9IHt9LFxuICAgICAgICAgIGN1cnJlbnRLZXk7XG4gICAgICBmb3IgKHZhciBpbmRleCA9IDA7IGluZGV4IDwgbGVuZ3RoOyBpbmRleCsrKSB7XG4gICAgICAgIGN1cnJlbnRLZXkgPSBrZXlzW2luZGV4XTtcbiAgICAgICAgcmVzdWx0c1tjdXJyZW50S2V5XSA9IGl0ZXJhdGVlKG9ialtjdXJyZW50S2V5XSwgY3VycmVudEtleSwgb2JqKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiByZXN1bHRzO1xuICB9O1xuXG4gIC8vIENvbnZlcnQgYW4gb2JqZWN0IGludG8gYSBsaXN0IG9mIGBba2V5LCB2YWx1ZV1gIHBhaXJzLlxuICBfLnBhaXJzID0gZnVuY3Rpb24ob2JqKSB7XG4gICAgdmFyIGtleXMgPSBfLmtleXMob2JqKTtcbiAgICB2YXIgbGVuZ3RoID0ga2V5cy5sZW5ndGg7XG4gICAgdmFyIHBhaXJzID0gQXJyYXkobGVuZ3RoKTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgICBwYWlyc1tpXSA9IFtrZXlzW2ldLCBvYmpba2V5c1tpXV1dO1xuICAgIH1cbiAgICByZXR1cm4gcGFpcnM7XG4gIH07XG5cbiAgLy8gSW52ZXJ0IHRoZSBrZXlzIGFuZCB2YWx1ZXMgb2YgYW4gb2JqZWN0LiBUaGUgdmFsdWVzIG11c3QgYmUgc2VyaWFsaXphYmxlLlxuICBfLmludmVydCA9IGZ1bmN0aW9uKG9iaikge1xuICAgIHZhciByZXN1bHQgPSB7fTtcbiAgICB2YXIga2V5cyA9IF8ua2V5cyhvYmopO1xuICAgIGZvciAodmFyIGkgPSAwLCBsZW5ndGggPSBrZXlzLmxlbmd0aDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgICByZXN1bHRbb2JqW2tleXNbaV1dXSA9IGtleXNbaV07XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG4gIH07XG5cbiAgLy8gUmV0dXJuIGEgc29ydGVkIGxpc3Qgb2YgdGhlIGZ1bmN0aW9uIG5hbWVzIGF2YWlsYWJsZSBvbiB0aGUgb2JqZWN0LlxuICAvLyBBbGlhc2VkIGFzIGBtZXRob2RzYFxuICBfLmZ1bmN0aW9ucyA9IF8ubWV0aG9kcyA9IGZ1bmN0aW9uKG9iaikge1xuICAgIHZhciBuYW1lcyA9IFtdO1xuICAgIGZvciAodmFyIGtleSBpbiBvYmopIHtcbiAgICAgIGlmIChfLmlzRnVuY3Rpb24ob2JqW2tleV0pKSBuYW1lcy5wdXNoKGtleSk7XG4gICAgfVxuICAgIHJldHVybiBuYW1lcy5zb3J0KCk7XG4gIH07XG5cbiAgLy8gRXh0ZW5kIGEgZ2l2ZW4gb2JqZWN0IHdpdGggYWxsIHRoZSBwcm9wZXJ0aWVzIGluIHBhc3NlZC1pbiBvYmplY3QocykuXG4gIF8uZXh0ZW5kID0gY3JlYXRlQXNzaWduZXIoXy5hbGxLZXlzKTtcblxuICAvLyBBc3NpZ25zIGEgZ2l2ZW4gb2JqZWN0IHdpdGggYWxsIHRoZSBvd24gcHJvcGVydGllcyBpbiB0aGUgcGFzc2VkLWluIG9iamVjdChzKVxuICAvLyAoaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZG9jcy9XZWIvSmF2YVNjcmlwdC9SZWZlcmVuY2UvR2xvYmFsX09iamVjdHMvT2JqZWN0L2Fzc2lnbilcbiAgXy5leHRlbmRPd24gPSBfLmFzc2lnbiA9IGNyZWF0ZUFzc2lnbmVyKF8ua2V5cyk7XG5cbiAgLy8gUmV0dXJucyB0aGUgZmlyc3Qga2V5IG9uIGFuIG9iamVjdCB0aGF0IHBhc3NlcyBhIHByZWRpY2F0ZSB0ZXN0XG4gIF8uZmluZEtleSA9IGZ1bmN0aW9uKG9iaiwgcHJlZGljYXRlLCBjb250ZXh0KSB7XG4gICAgcHJlZGljYXRlID0gY2IocHJlZGljYXRlLCBjb250ZXh0KTtcbiAgICB2YXIga2V5cyA9IF8ua2V5cyhvYmopLCBrZXk7XG4gICAgZm9yICh2YXIgaSA9IDAsIGxlbmd0aCA9IGtleXMubGVuZ3RoOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICAgIGtleSA9IGtleXNbaV07XG4gICAgICBpZiAocHJlZGljYXRlKG9ialtrZXldLCBrZXksIG9iaikpIHJldHVybiBrZXk7XG4gICAgfVxuICB9O1xuXG4gIC8vIFJldHVybiBhIGNvcHkgb2YgdGhlIG9iamVjdCBvbmx5IGNvbnRhaW5pbmcgdGhlIHdoaXRlbGlzdGVkIHByb3BlcnRpZXMuXG4gIF8ucGljayA9IGZ1bmN0aW9uKG9iamVjdCwgb2l0ZXJhdGVlLCBjb250ZXh0KSB7XG4gICAgdmFyIHJlc3VsdCA9IHt9LCBvYmogPSBvYmplY3QsIGl0ZXJhdGVlLCBrZXlzO1xuICAgIGlmIChvYmogPT0gbnVsbCkgcmV0dXJuIHJlc3VsdDtcbiAgICBpZiAoXy5pc0Z1bmN0aW9uKG9pdGVyYXRlZSkpIHtcbiAgICAgIGtleXMgPSBfLmFsbEtleXMob2JqKTtcbiAgICAgIGl0ZXJhdGVlID0gb3B0aW1pemVDYihvaXRlcmF0ZWUsIGNvbnRleHQpO1xuICAgIH0gZWxzZSB7XG4gICAgICBrZXlzID0gZmxhdHRlbihhcmd1bWVudHMsIGZhbHNlLCBmYWxzZSwgMSk7XG4gICAgICBpdGVyYXRlZSA9IGZ1bmN0aW9uKHZhbHVlLCBrZXksIG9iaikgeyByZXR1cm4ga2V5IGluIG9iajsgfTtcbiAgICAgIG9iaiA9IE9iamVjdChvYmopO1xuICAgIH1cbiAgICBmb3IgKHZhciBpID0gMCwgbGVuZ3RoID0ga2V5cy5sZW5ndGg7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgdmFyIGtleSA9IGtleXNbaV07XG4gICAgICB2YXIgdmFsdWUgPSBvYmpba2V5XTtcbiAgICAgIGlmIChpdGVyYXRlZSh2YWx1ZSwga2V5LCBvYmopKSByZXN1bHRba2V5XSA9IHZhbHVlO1xuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xuICB9O1xuXG4gICAvLyBSZXR1cm4gYSBjb3B5IG9mIHRoZSBvYmplY3Qgd2l0aG91dCB0aGUgYmxhY2tsaXN0ZWQgcHJvcGVydGllcy5cbiAgXy5vbWl0ID0gZnVuY3Rpb24ob2JqLCBpdGVyYXRlZSwgY29udGV4dCkge1xuICAgIGlmIChfLmlzRnVuY3Rpb24oaXRlcmF0ZWUpKSB7XG4gICAgICBpdGVyYXRlZSA9IF8ubmVnYXRlKGl0ZXJhdGVlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdmFyIGtleXMgPSBfLm1hcChmbGF0dGVuKGFyZ3VtZW50cywgZmFsc2UsIGZhbHNlLCAxKSwgU3RyaW5nKTtcbiAgICAgIGl0ZXJhdGVlID0gZnVuY3Rpb24odmFsdWUsIGtleSkge1xuICAgICAgICByZXR1cm4gIV8uY29udGFpbnMoa2V5cywga2V5KTtcbiAgICAgIH07XG4gICAgfVxuICAgIHJldHVybiBfLnBpY2sob2JqLCBpdGVyYXRlZSwgY29udGV4dCk7XG4gIH07XG5cbiAgLy8gRmlsbCBpbiBhIGdpdmVuIG9iamVjdCB3aXRoIGRlZmF1bHQgcHJvcGVydGllcy5cbiAgXy5kZWZhdWx0cyA9IGNyZWF0ZUFzc2lnbmVyKF8uYWxsS2V5cywgdHJ1ZSk7XG5cbiAgLy8gQ3JlYXRlcyBhbiBvYmplY3QgdGhhdCBpbmhlcml0cyBmcm9tIHRoZSBnaXZlbiBwcm90b3R5cGUgb2JqZWN0LlxuICAvLyBJZiBhZGRpdGlvbmFsIHByb3BlcnRpZXMgYXJlIHByb3ZpZGVkIHRoZW4gdGhleSB3aWxsIGJlIGFkZGVkIHRvIHRoZVxuICAvLyBjcmVhdGVkIG9iamVjdC5cbiAgXy5jcmVhdGUgPSBmdW5jdGlvbihwcm90b3R5cGUsIHByb3BzKSB7XG4gICAgdmFyIHJlc3VsdCA9IGJhc2VDcmVhdGUocHJvdG90eXBlKTtcbiAgICBpZiAocHJvcHMpIF8uZXh0ZW5kT3duKHJlc3VsdCwgcHJvcHMpO1xuICAgIHJldHVybiByZXN1bHQ7XG4gIH07XG5cbiAgLy8gQ3JlYXRlIGEgKHNoYWxsb3ctY2xvbmVkKSBkdXBsaWNhdGUgb2YgYW4gb2JqZWN0LlxuICBfLmNsb25lID0gZnVuY3Rpb24ob2JqKSB7XG4gICAgaWYgKCFfLmlzT2JqZWN0KG9iaikpIHJldHVybiBvYmo7XG4gICAgcmV0dXJuIF8uaXNBcnJheShvYmopID8gb2JqLnNsaWNlKCkgOiBfLmV4dGVuZCh7fSwgb2JqKTtcbiAgfTtcblxuICAvLyBJbnZva2VzIGludGVyY2VwdG9yIHdpdGggdGhlIG9iaiwgYW5kIHRoZW4gcmV0dXJucyBvYmouXG4gIC8vIFRoZSBwcmltYXJ5IHB1cnBvc2Ugb2YgdGhpcyBtZXRob2QgaXMgdG8gXCJ0YXAgaW50b1wiIGEgbWV0aG9kIGNoYWluLCBpblxuICAvLyBvcmRlciB0byBwZXJmb3JtIG9wZXJhdGlvbnMgb24gaW50ZXJtZWRpYXRlIHJlc3VsdHMgd2l0aGluIHRoZSBjaGFpbi5cbiAgXy50YXAgPSBmdW5jdGlvbihvYmosIGludGVyY2VwdG9yKSB7XG4gICAgaW50ZXJjZXB0b3Iob2JqKTtcbiAgICByZXR1cm4gb2JqO1xuICB9O1xuXG4gIC8vIFJldHVybnMgd2hldGhlciBhbiBvYmplY3QgaGFzIGEgZ2l2ZW4gc2V0IG9mIGBrZXk6dmFsdWVgIHBhaXJzLlxuICBfLmlzTWF0Y2ggPSBmdW5jdGlvbihvYmplY3QsIGF0dHJzKSB7XG4gICAgdmFyIGtleXMgPSBfLmtleXMoYXR0cnMpLCBsZW5ndGggPSBrZXlzLmxlbmd0aDtcbiAgICBpZiAob2JqZWN0ID09IG51bGwpIHJldHVybiAhbGVuZ3RoO1xuICAgIHZhciBvYmogPSBPYmplY3Qob2JqZWN0KTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgICB2YXIga2V5ID0ga2V5c1tpXTtcbiAgICAgIGlmIChhdHRyc1trZXldICE9PSBvYmpba2V5XSB8fCAhKGtleSBpbiBvYmopKSByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIHJldHVybiB0cnVlO1xuICB9O1xuXG5cbiAgLy8gSW50ZXJuYWwgcmVjdXJzaXZlIGNvbXBhcmlzb24gZnVuY3Rpb24gZm9yIGBpc0VxdWFsYC5cbiAgdmFyIGVxID0gZnVuY3Rpb24oYSwgYiwgYVN0YWNrLCBiU3RhY2spIHtcbiAgICAvLyBJZGVudGljYWwgb2JqZWN0cyBhcmUgZXF1YWwuIGAwID09PSAtMGAsIGJ1dCB0aGV5IGFyZW4ndCBpZGVudGljYWwuXG4gICAgLy8gU2VlIHRoZSBbSGFybW9ueSBgZWdhbGAgcHJvcG9zYWxdKGh0dHA6Ly93aWtpLmVjbWFzY3JpcHQub3JnL2Rva3UucGhwP2lkPWhhcm1vbnk6ZWdhbCkuXG4gICAgaWYgKGEgPT09IGIpIHJldHVybiBhICE9PSAwIHx8IDEgLyBhID09PSAxIC8gYjtcbiAgICAvLyBBIHN0cmljdCBjb21wYXJpc29uIGlzIG5lY2Vzc2FyeSBiZWNhdXNlIGBudWxsID09IHVuZGVmaW5lZGAuXG4gICAgaWYgKGEgPT0gbnVsbCB8fCBiID09IG51bGwpIHJldHVybiBhID09PSBiO1xuICAgIC8vIFVud3JhcCBhbnkgd3JhcHBlZCBvYmplY3RzLlxuICAgIGlmIChhIGluc3RhbmNlb2YgXykgYSA9IGEuX3dyYXBwZWQ7XG4gICAgaWYgKGIgaW5zdGFuY2VvZiBfKSBiID0gYi5fd3JhcHBlZDtcbiAgICAvLyBDb21wYXJlIGBbW0NsYXNzXV1gIG5hbWVzLlxuICAgIHZhciBjbGFzc05hbWUgPSB0b1N0cmluZy5jYWxsKGEpO1xuICAgIGlmIChjbGFzc05hbWUgIT09IHRvU3RyaW5nLmNhbGwoYikpIHJldHVybiBmYWxzZTtcbiAgICBzd2l0Y2ggKGNsYXNzTmFtZSkge1xuICAgICAgLy8gU3RyaW5ncywgbnVtYmVycywgcmVndWxhciBleHByZXNzaW9ucywgZGF0ZXMsIGFuZCBib29sZWFucyBhcmUgY29tcGFyZWQgYnkgdmFsdWUuXG4gICAgICBjYXNlICdbb2JqZWN0IFJlZ0V4cF0nOlxuICAgICAgLy8gUmVnRXhwcyBhcmUgY29lcmNlZCB0byBzdHJpbmdzIGZvciBjb21wYXJpc29uIChOb3RlOiAnJyArIC9hL2kgPT09ICcvYS9pJylcbiAgICAgIGNhc2UgJ1tvYmplY3QgU3RyaW5nXSc6XG4gICAgICAgIC8vIFByaW1pdGl2ZXMgYW5kIHRoZWlyIGNvcnJlc3BvbmRpbmcgb2JqZWN0IHdyYXBwZXJzIGFyZSBlcXVpdmFsZW50OyB0aHVzLCBgXCI1XCJgIGlzXG4gICAgICAgIC8vIGVxdWl2YWxlbnQgdG8gYG5ldyBTdHJpbmcoXCI1XCIpYC5cbiAgICAgICAgcmV0dXJuICcnICsgYSA9PT0gJycgKyBiO1xuICAgICAgY2FzZSAnW29iamVjdCBOdW1iZXJdJzpcbiAgICAgICAgLy8gYE5hTmBzIGFyZSBlcXVpdmFsZW50LCBidXQgbm9uLXJlZmxleGl2ZS5cbiAgICAgICAgLy8gT2JqZWN0KE5hTikgaXMgZXF1aXZhbGVudCB0byBOYU5cbiAgICAgICAgaWYgKCthICE9PSArYSkgcmV0dXJuICtiICE9PSArYjtcbiAgICAgICAgLy8gQW4gYGVnYWxgIGNvbXBhcmlzb24gaXMgcGVyZm9ybWVkIGZvciBvdGhlciBudW1lcmljIHZhbHVlcy5cbiAgICAgICAgcmV0dXJuICthID09PSAwID8gMSAvICthID09PSAxIC8gYiA6ICthID09PSArYjtcbiAgICAgIGNhc2UgJ1tvYmplY3QgRGF0ZV0nOlxuICAgICAgY2FzZSAnW29iamVjdCBCb29sZWFuXSc6XG4gICAgICAgIC8vIENvZXJjZSBkYXRlcyBhbmQgYm9vbGVhbnMgdG8gbnVtZXJpYyBwcmltaXRpdmUgdmFsdWVzLiBEYXRlcyBhcmUgY29tcGFyZWQgYnkgdGhlaXJcbiAgICAgICAgLy8gbWlsbGlzZWNvbmQgcmVwcmVzZW50YXRpb25zLiBOb3RlIHRoYXQgaW52YWxpZCBkYXRlcyB3aXRoIG1pbGxpc2Vjb25kIHJlcHJlc2VudGF0aW9uc1xuICAgICAgICAvLyBvZiBgTmFOYCBhcmUgbm90IGVxdWl2YWxlbnQuXG4gICAgICAgIHJldHVybiArYSA9PT0gK2I7XG4gICAgfVxuXG4gICAgdmFyIGFyZUFycmF5cyA9IGNsYXNzTmFtZSA9PT0gJ1tvYmplY3QgQXJyYXldJztcbiAgICBpZiAoIWFyZUFycmF5cykge1xuICAgICAgaWYgKHR5cGVvZiBhICE9ICdvYmplY3QnIHx8IHR5cGVvZiBiICE9ICdvYmplY3QnKSByZXR1cm4gZmFsc2U7XG5cbiAgICAgIC8vIE9iamVjdHMgd2l0aCBkaWZmZXJlbnQgY29uc3RydWN0b3JzIGFyZSBub3QgZXF1aXZhbGVudCwgYnV0IGBPYmplY3RgcyBvciBgQXJyYXlgc1xuICAgICAgLy8gZnJvbSBkaWZmZXJlbnQgZnJhbWVzIGFyZS5cbiAgICAgIHZhciBhQ3RvciA9IGEuY29uc3RydWN0b3IsIGJDdG9yID0gYi5jb25zdHJ1Y3RvcjtcbiAgICAgIGlmIChhQ3RvciAhPT0gYkN0b3IgJiYgIShfLmlzRnVuY3Rpb24oYUN0b3IpICYmIGFDdG9yIGluc3RhbmNlb2YgYUN0b3IgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfLmlzRnVuY3Rpb24oYkN0b3IpICYmIGJDdG9yIGluc3RhbmNlb2YgYkN0b3IpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICYmICgnY29uc3RydWN0b3InIGluIGEgJiYgJ2NvbnN0cnVjdG9yJyBpbiBiKSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgfVxuICAgIC8vIEFzc3VtZSBlcXVhbGl0eSBmb3IgY3ljbGljIHN0cnVjdHVyZXMuIFRoZSBhbGdvcml0aG0gZm9yIGRldGVjdGluZyBjeWNsaWNcbiAgICAvLyBzdHJ1Y3R1cmVzIGlzIGFkYXB0ZWQgZnJvbSBFUyA1LjEgc2VjdGlvbiAxNS4xMi4zLCBhYnN0cmFjdCBvcGVyYXRpb24gYEpPYC5cblxuICAgIC8vIEluaXRpYWxpemluZyBzdGFjayBvZiB0cmF2ZXJzZWQgb2JqZWN0cy5cbiAgICAvLyBJdCdzIGRvbmUgaGVyZSBzaW5jZSB3ZSBvbmx5IG5lZWQgdGhlbSBmb3Igb2JqZWN0cyBhbmQgYXJyYXlzIGNvbXBhcmlzb24uXG4gICAgYVN0YWNrID0gYVN0YWNrIHx8IFtdO1xuICAgIGJTdGFjayA9IGJTdGFjayB8fCBbXTtcbiAgICB2YXIgbGVuZ3RoID0gYVN0YWNrLmxlbmd0aDtcbiAgICB3aGlsZSAobGVuZ3RoLS0pIHtcbiAgICAgIC8vIExpbmVhciBzZWFyY2guIFBlcmZvcm1hbmNlIGlzIGludmVyc2VseSBwcm9wb3J0aW9uYWwgdG8gdGhlIG51bWJlciBvZlxuICAgICAgLy8gdW5pcXVlIG5lc3RlZCBzdHJ1Y3R1cmVzLlxuICAgICAgaWYgKGFTdGFja1tsZW5ndGhdID09PSBhKSByZXR1cm4gYlN0YWNrW2xlbmd0aF0gPT09IGI7XG4gICAgfVxuXG4gICAgLy8gQWRkIHRoZSBmaXJzdCBvYmplY3QgdG8gdGhlIHN0YWNrIG9mIHRyYXZlcnNlZCBvYmplY3RzLlxuICAgIGFTdGFjay5wdXNoKGEpO1xuICAgIGJTdGFjay5wdXNoKGIpO1xuXG4gICAgLy8gUmVjdXJzaXZlbHkgY29tcGFyZSBvYmplY3RzIGFuZCBhcnJheXMuXG4gICAgaWYgKGFyZUFycmF5cykge1xuICAgICAgLy8gQ29tcGFyZSBhcnJheSBsZW5ndGhzIHRvIGRldGVybWluZSBpZiBhIGRlZXAgY29tcGFyaXNvbiBpcyBuZWNlc3NhcnkuXG4gICAgICBsZW5ndGggPSBhLmxlbmd0aDtcbiAgICAgIGlmIChsZW5ndGggIT09IGIubGVuZ3RoKSByZXR1cm4gZmFsc2U7XG4gICAgICAvLyBEZWVwIGNvbXBhcmUgdGhlIGNvbnRlbnRzLCBpZ25vcmluZyBub24tbnVtZXJpYyBwcm9wZXJ0aWVzLlxuICAgICAgd2hpbGUgKGxlbmd0aC0tKSB7XG4gICAgICAgIGlmICghZXEoYVtsZW5ndGhdLCBiW2xlbmd0aF0sIGFTdGFjaywgYlN0YWNrKSkgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICAvLyBEZWVwIGNvbXBhcmUgb2JqZWN0cy5cbiAgICAgIHZhciBrZXlzID0gXy5rZXlzKGEpLCBrZXk7XG4gICAgICBsZW5ndGggPSBrZXlzLmxlbmd0aDtcbiAgICAgIC8vIEVuc3VyZSB0aGF0IGJvdGggb2JqZWN0cyBjb250YWluIHRoZSBzYW1lIG51bWJlciBvZiBwcm9wZXJ0aWVzIGJlZm9yZSBjb21wYXJpbmcgZGVlcCBlcXVhbGl0eS5cbiAgICAgIGlmIChfLmtleXMoYikubGVuZ3RoICE9PSBsZW5ndGgpIHJldHVybiBmYWxzZTtcbiAgICAgIHdoaWxlIChsZW5ndGgtLSkge1xuICAgICAgICAvLyBEZWVwIGNvbXBhcmUgZWFjaCBtZW1iZXJcbiAgICAgICAga2V5ID0ga2V5c1tsZW5ndGhdO1xuICAgICAgICBpZiAoIShfLmhhcyhiLCBrZXkpICYmIGVxKGFba2V5XSwgYltrZXldLCBhU3RhY2ssIGJTdGFjaykpKSByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgfVxuICAgIC8vIFJlbW92ZSB0aGUgZmlyc3Qgb2JqZWN0IGZyb20gdGhlIHN0YWNrIG9mIHRyYXZlcnNlZCBvYmplY3RzLlxuICAgIGFTdGFjay5wb3AoKTtcbiAgICBiU3RhY2sucG9wKCk7XG4gICAgcmV0dXJuIHRydWU7XG4gIH07XG5cbiAgLy8gUGVyZm9ybSBhIGRlZXAgY29tcGFyaXNvbiB0byBjaGVjayBpZiB0d28gb2JqZWN0cyBhcmUgZXF1YWwuXG4gIF8uaXNFcXVhbCA9IGZ1bmN0aW9uKGEsIGIpIHtcbiAgICByZXR1cm4gZXEoYSwgYik7XG4gIH07XG5cbiAgLy8gSXMgYSBnaXZlbiBhcnJheSwgc3RyaW5nLCBvciBvYmplY3QgZW1wdHk/XG4gIC8vIEFuIFwiZW1wdHlcIiBvYmplY3QgaGFzIG5vIGVudW1lcmFibGUgb3duLXByb3BlcnRpZXMuXG4gIF8uaXNFbXB0eSA9IGZ1bmN0aW9uKG9iaikge1xuICAgIGlmIChvYmogPT0gbnVsbCkgcmV0dXJuIHRydWU7XG4gICAgaWYgKGlzQXJyYXlMaWtlKG9iaikgJiYgKF8uaXNBcnJheShvYmopIHx8IF8uaXNTdHJpbmcob2JqKSB8fCBfLmlzQXJndW1lbnRzKG9iaikpKSByZXR1cm4gb2JqLmxlbmd0aCA9PT0gMDtcbiAgICByZXR1cm4gXy5rZXlzKG9iaikubGVuZ3RoID09PSAwO1xuICB9O1xuXG4gIC8vIElzIGEgZ2l2ZW4gdmFsdWUgYSBET00gZWxlbWVudD9cbiAgXy5pc0VsZW1lbnQgPSBmdW5jdGlvbihvYmopIHtcbiAgICByZXR1cm4gISEob2JqICYmIG9iai5ub2RlVHlwZSA9PT0gMSk7XG4gIH07XG5cbiAgLy8gSXMgYSBnaXZlbiB2YWx1ZSBhbiBhcnJheT9cbiAgLy8gRGVsZWdhdGVzIHRvIEVDTUE1J3MgbmF0aXZlIEFycmF5LmlzQXJyYXlcbiAgXy5pc0FycmF5ID0gbmF0aXZlSXNBcnJheSB8fCBmdW5jdGlvbihvYmopIHtcbiAgICByZXR1cm4gdG9TdHJpbmcuY2FsbChvYmopID09PSAnW29iamVjdCBBcnJheV0nO1xuICB9O1xuXG4gIC8vIElzIGEgZ2l2ZW4gdmFyaWFibGUgYW4gb2JqZWN0P1xuICBfLmlzT2JqZWN0ID0gZnVuY3Rpb24ob2JqKSB7XG4gICAgdmFyIHR5cGUgPSB0eXBlb2Ygb2JqO1xuICAgIHJldHVybiB0eXBlID09PSAnZnVuY3Rpb24nIHx8IHR5cGUgPT09ICdvYmplY3QnICYmICEhb2JqO1xuICB9O1xuXG4gIC8vIEFkZCBzb21lIGlzVHlwZSBtZXRob2RzOiBpc0FyZ3VtZW50cywgaXNGdW5jdGlvbiwgaXNTdHJpbmcsIGlzTnVtYmVyLCBpc0RhdGUsIGlzUmVnRXhwLCBpc0Vycm9yLlxuICBfLmVhY2goWydBcmd1bWVudHMnLCAnRnVuY3Rpb24nLCAnU3RyaW5nJywgJ051bWJlcicsICdEYXRlJywgJ1JlZ0V4cCcsICdFcnJvciddLCBmdW5jdGlvbihuYW1lKSB7XG4gICAgX1snaXMnICsgbmFtZV0gPSBmdW5jdGlvbihvYmopIHtcbiAgICAgIHJldHVybiB0b1N0cmluZy5jYWxsKG9iaikgPT09ICdbb2JqZWN0ICcgKyBuYW1lICsgJ10nO1xuICAgIH07XG4gIH0pO1xuXG4gIC8vIERlZmluZSBhIGZhbGxiYWNrIHZlcnNpb24gb2YgdGhlIG1ldGhvZCBpbiBicm93c2VycyAoYWhlbSwgSUUgPCA5KSwgd2hlcmVcbiAgLy8gdGhlcmUgaXNuJ3QgYW55IGluc3BlY3RhYmxlIFwiQXJndW1lbnRzXCIgdHlwZS5cbiAgaWYgKCFfLmlzQXJndW1lbnRzKGFyZ3VtZW50cykpIHtcbiAgICBfLmlzQXJndW1lbnRzID0gZnVuY3Rpb24ob2JqKSB7XG4gICAgICByZXR1cm4gXy5oYXMob2JqLCAnY2FsbGVlJyk7XG4gICAgfTtcbiAgfVxuXG4gIC8vIE9wdGltaXplIGBpc0Z1bmN0aW9uYCBpZiBhcHByb3ByaWF0ZS4gV29yayBhcm91bmQgc29tZSB0eXBlb2YgYnVncyBpbiBvbGQgdjgsXG4gIC8vIElFIDExICgjMTYyMSksIGFuZCBpbiBTYWZhcmkgOCAoIzE5MjkpLlxuICBpZiAodHlwZW9mIC8uLyAhPSAnZnVuY3Rpb24nICYmIHR5cGVvZiBJbnQ4QXJyYXkgIT0gJ29iamVjdCcpIHtcbiAgICBfLmlzRnVuY3Rpb24gPSBmdW5jdGlvbihvYmopIHtcbiAgICAgIHJldHVybiB0eXBlb2Ygb2JqID09ICdmdW5jdGlvbicgfHwgZmFsc2U7XG4gICAgfTtcbiAgfVxuXG4gIC8vIElzIGEgZ2l2ZW4gb2JqZWN0IGEgZmluaXRlIG51bWJlcj9cbiAgXy5pc0Zpbml0ZSA9IGZ1bmN0aW9uKG9iaikge1xuICAgIHJldHVybiBpc0Zpbml0ZShvYmopICYmICFpc05hTihwYXJzZUZsb2F0KG9iaikpO1xuICB9O1xuXG4gIC8vIElzIHRoZSBnaXZlbiB2YWx1ZSBgTmFOYD8gKE5hTiBpcyB0aGUgb25seSBudW1iZXIgd2hpY2ggZG9lcyBub3QgZXF1YWwgaXRzZWxmKS5cbiAgXy5pc05hTiA9IGZ1bmN0aW9uKG9iaikge1xuICAgIHJldHVybiBfLmlzTnVtYmVyKG9iaikgJiYgb2JqICE9PSArb2JqO1xuICB9O1xuXG4gIC8vIElzIGEgZ2l2ZW4gdmFsdWUgYSBib29sZWFuP1xuICBfLmlzQm9vbGVhbiA9IGZ1bmN0aW9uKG9iaikge1xuICAgIHJldHVybiBvYmogPT09IHRydWUgfHwgb2JqID09PSBmYWxzZSB8fCB0b1N0cmluZy5jYWxsKG9iaikgPT09ICdbb2JqZWN0IEJvb2xlYW5dJztcbiAgfTtcblxuICAvLyBJcyBhIGdpdmVuIHZhbHVlIGVxdWFsIHRvIG51bGw/XG4gIF8uaXNOdWxsID0gZnVuY3Rpb24ob2JqKSB7XG4gICAgcmV0dXJuIG9iaiA9PT0gbnVsbDtcbiAgfTtcblxuICAvLyBJcyBhIGdpdmVuIHZhcmlhYmxlIHVuZGVmaW5lZD9cbiAgXy5pc1VuZGVmaW5lZCA9IGZ1bmN0aW9uKG9iaikge1xuICAgIHJldHVybiBvYmogPT09IHZvaWQgMDtcbiAgfTtcblxuICAvLyBTaG9ydGN1dCBmdW5jdGlvbiBmb3IgY2hlY2tpbmcgaWYgYW4gb2JqZWN0IGhhcyBhIGdpdmVuIHByb3BlcnR5IGRpcmVjdGx5XG4gIC8vIG9uIGl0c2VsZiAoaW4gb3RoZXIgd29yZHMsIG5vdCBvbiBhIHByb3RvdHlwZSkuXG4gIF8uaGFzID0gZnVuY3Rpb24ob2JqLCBrZXkpIHtcbiAgICByZXR1cm4gb2JqICE9IG51bGwgJiYgaGFzT3duUHJvcGVydHkuY2FsbChvYmosIGtleSk7XG4gIH07XG5cbiAgLy8gVXRpbGl0eSBGdW5jdGlvbnNcbiAgLy8gLS0tLS0tLS0tLS0tLS0tLS1cblxuICAvLyBSdW4gVW5kZXJzY29yZS5qcyBpbiAqbm9Db25mbGljdCogbW9kZSwgcmV0dXJuaW5nIHRoZSBgX2AgdmFyaWFibGUgdG8gaXRzXG4gIC8vIHByZXZpb3VzIG93bmVyLiBSZXR1cm5zIGEgcmVmZXJlbmNlIHRvIHRoZSBVbmRlcnNjb3JlIG9iamVjdC5cbiAgXy5ub0NvbmZsaWN0ID0gZnVuY3Rpb24oKSB7XG4gICAgcm9vdC5fID0gcHJldmlvdXNVbmRlcnNjb3JlO1xuICAgIHJldHVybiB0aGlzO1xuICB9O1xuXG4gIC8vIEtlZXAgdGhlIGlkZW50aXR5IGZ1bmN0aW9uIGFyb3VuZCBmb3IgZGVmYXVsdCBpdGVyYXRlZXMuXG4gIF8uaWRlbnRpdHkgPSBmdW5jdGlvbih2YWx1ZSkge1xuICAgIHJldHVybiB2YWx1ZTtcbiAgfTtcblxuICAvLyBQcmVkaWNhdGUtZ2VuZXJhdGluZyBmdW5jdGlvbnMuIE9mdGVuIHVzZWZ1bCBvdXRzaWRlIG9mIFVuZGVyc2NvcmUuXG4gIF8uY29uc3RhbnQgPSBmdW5jdGlvbih2YWx1ZSkge1xuICAgIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiB2YWx1ZTtcbiAgICB9O1xuICB9O1xuXG4gIF8ubm9vcCA9IGZ1bmN0aW9uKCl7fTtcblxuICBfLnByb3BlcnR5ID0gcHJvcGVydHk7XG5cbiAgLy8gR2VuZXJhdGVzIGEgZnVuY3Rpb24gZm9yIGEgZ2l2ZW4gb2JqZWN0IHRoYXQgcmV0dXJucyBhIGdpdmVuIHByb3BlcnR5LlxuICBfLnByb3BlcnR5T2YgPSBmdW5jdGlvbihvYmopIHtcbiAgICByZXR1cm4gb2JqID09IG51bGwgPyBmdW5jdGlvbigpe30gOiBmdW5jdGlvbihrZXkpIHtcbiAgICAgIHJldHVybiBvYmpba2V5XTtcbiAgICB9O1xuICB9O1xuXG4gIC8vIFJldHVybnMgYSBwcmVkaWNhdGUgZm9yIGNoZWNraW5nIHdoZXRoZXIgYW4gb2JqZWN0IGhhcyBhIGdpdmVuIHNldCBvZlxuICAvLyBga2V5OnZhbHVlYCBwYWlycy5cbiAgXy5tYXRjaGVyID0gXy5tYXRjaGVzID0gZnVuY3Rpb24oYXR0cnMpIHtcbiAgICBhdHRycyA9IF8uZXh0ZW5kT3duKHt9LCBhdHRycyk7XG4gICAgcmV0dXJuIGZ1bmN0aW9uKG9iaikge1xuICAgICAgcmV0dXJuIF8uaXNNYXRjaChvYmosIGF0dHJzKTtcbiAgICB9O1xuICB9O1xuXG4gIC8vIFJ1biBhIGZ1bmN0aW9uICoqbioqIHRpbWVzLlxuICBfLnRpbWVzID0gZnVuY3Rpb24obiwgaXRlcmF0ZWUsIGNvbnRleHQpIHtcbiAgICB2YXIgYWNjdW0gPSBBcnJheShNYXRoLm1heCgwLCBuKSk7XG4gICAgaXRlcmF0ZWUgPSBvcHRpbWl6ZUNiKGl0ZXJhdGVlLCBjb250ZXh0LCAxKTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IG47IGkrKykgYWNjdW1baV0gPSBpdGVyYXRlZShpKTtcbiAgICByZXR1cm4gYWNjdW07XG4gIH07XG5cbiAgLy8gUmV0dXJuIGEgcmFuZG9tIGludGVnZXIgYmV0d2VlbiBtaW4gYW5kIG1heCAoaW5jbHVzaXZlKS5cbiAgXy5yYW5kb20gPSBmdW5jdGlvbihtaW4sIG1heCkge1xuICAgIGlmIChtYXggPT0gbnVsbCkge1xuICAgICAgbWF4ID0gbWluO1xuICAgICAgbWluID0gMDtcbiAgICB9XG4gICAgcmV0dXJuIG1pbiArIE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIChtYXggLSBtaW4gKyAxKSk7XG4gIH07XG5cbiAgLy8gQSAocG9zc2libHkgZmFzdGVyKSB3YXkgdG8gZ2V0IHRoZSBjdXJyZW50IHRpbWVzdGFtcCBhcyBhbiBpbnRlZ2VyLlxuICBfLm5vdyA9IERhdGUubm93IHx8IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiBuZXcgRGF0ZSgpLmdldFRpbWUoKTtcbiAgfTtcblxuICAgLy8gTGlzdCBvZiBIVE1MIGVudGl0aWVzIGZvciBlc2NhcGluZy5cbiAgdmFyIGVzY2FwZU1hcCA9IHtcbiAgICAnJic6ICcmYW1wOycsXG4gICAgJzwnOiAnJmx0OycsXG4gICAgJz4nOiAnJmd0OycsXG4gICAgJ1wiJzogJyZxdW90OycsXG4gICAgXCInXCI6ICcmI3gyNzsnLFxuICAgICdgJzogJyYjeDYwOydcbiAgfTtcbiAgdmFyIHVuZXNjYXBlTWFwID0gXy5pbnZlcnQoZXNjYXBlTWFwKTtcblxuICAvLyBGdW5jdGlvbnMgZm9yIGVzY2FwaW5nIGFuZCB1bmVzY2FwaW5nIHN0cmluZ3MgdG8vZnJvbSBIVE1MIGludGVycG9sYXRpb24uXG4gIHZhciBjcmVhdGVFc2NhcGVyID0gZnVuY3Rpb24obWFwKSB7XG4gICAgdmFyIGVzY2FwZXIgPSBmdW5jdGlvbihtYXRjaCkge1xuICAgICAgcmV0dXJuIG1hcFttYXRjaF07XG4gICAgfTtcbiAgICAvLyBSZWdleGVzIGZvciBpZGVudGlmeWluZyBhIGtleSB0aGF0IG5lZWRzIHRvIGJlIGVzY2FwZWRcbiAgICB2YXIgc291cmNlID0gJyg/OicgKyBfLmtleXMobWFwKS5qb2luKCd8JykgKyAnKSc7XG4gICAgdmFyIHRlc3RSZWdleHAgPSBSZWdFeHAoc291cmNlKTtcbiAgICB2YXIgcmVwbGFjZVJlZ2V4cCA9IFJlZ0V4cChzb3VyY2UsICdnJyk7XG4gICAgcmV0dXJuIGZ1bmN0aW9uKHN0cmluZykge1xuICAgICAgc3RyaW5nID0gc3RyaW5nID09IG51bGwgPyAnJyA6ICcnICsgc3RyaW5nO1xuICAgICAgcmV0dXJuIHRlc3RSZWdleHAudGVzdChzdHJpbmcpID8gc3RyaW5nLnJlcGxhY2UocmVwbGFjZVJlZ2V4cCwgZXNjYXBlcikgOiBzdHJpbmc7XG4gICAgfTtcbiAgfTtcbiAgXy5lc2NhcGUgPSBjcmVhdGVFc2NhcGVyKGVzY2FwZU1hcCk7XG4gIF8udW5lc2NhcGUgPSBjcmVhdGVFc2NhcGVyKHVuZXNjYXBlTWFwKTtcblxuICAvLyBJZiB0aGUgdmFsdWUgb2YgdGhlIG5hbWVkIGBwcm9wZXJ0eWAgaXMgYSBmdW5jdGlvbiB0aGVuIGludm9rZSBpdCB3aXRoIHRoZVxuICAvLyBgb2JqZWN0YCBhcyBjb250ZXh0OyBvdGhlcndpc2UsIHJldHVybiBpdC5cbiAgXy5yZXN1bHQgPSBmdW5jdGlvbihvYmplY3QsIHByb3BlcnR5LCBmYWxsYmFjaykge1xuICAgIHZhciB2YWx1ZSA9IG9iamVjdCA9PSBudWxsID8gdm9pZCAwIDogb2JqZWN0W3Byb3BlcnR5XTtcbiAgICBpZiAodmFsdWUgPT09IHZvaWQgMCkge1xuICAgICAgdmFsdWUgPSBmYWxsYmFjaztcbiAgICB9XG4gICAgcmV0dXJuIF8uaXNGdW5jdGlvbih2YWx1ZSkgPyB2YWx1ZS5jYWxsKG9iamVjdCkgOiB2YWx1ZTtcbiAgfTtcblxuICAvLyBHZW5lcmF0ZSBhIHVuaXF1ZSBpbnRlZ2VyIGlkICh1bmlxdWUgd2l0aGluIHRoZSBlbnRpcmUgY2xpZW50IHNlc3Npb24pLlxuICAvLyBVc2VmdWwgZm9yIHRlbXBvcmFyeSBET00gaWRzLlxuICB2YXIgaWRDb3VudGVyID0gMDtcbiAgXy51bmlxdWVJZCA9IGZ1bmN0aW9uKHByZWZpeCkge1xuICAgIHZhciBpZCA9ICsraWRDb3VudGVyICsgJyc7XG4gICAgcmV0dXJuIHByZWZpeCA/IHByZWZpeCArIGlkIDogaWQ7XG4gIH07XG5cbiAgLy8gQnkgZGVmYXVsdCwgVW5kZXJzY29yZSB1c2VzIEVSQi1zdHlsZSB0ZW1wbGF0ZSBkZWxpbWl0ZXJzLCBjaGFuZ2UgdGhlXG4gIC8vIGZvbGxvd2luZyB0ZW1wbGF0ZSBzZXR0aW5ncyB0byB1c2UgYWx0ZXJuYXRpdmUgZGVsaW1pdGVycy5cbiAgXy50ZW1wbGF0ZVNldHRpbmdzID0ge1xuICAgIGV2YWx1YXRlICAgIDogLzwlKFtcXHNcXFNdKz8pJT4vZyxcbiAgICBpbnRlcnBvbGF0ZSA6IC88JT0oW1xcc1xcU10rPyklPi9nLFxuICAgIGVzY2FwZSAgICAgIDogLzwlLShbXFxzXFxTXSs/KSU+L2dcbiAgfTtcblxuICAvLyBXaGVuIGN1c3RvbWl6aW5nIGB0ZW1wbGF0ZVNldHRpbmdzYCwgaWYgeW91IGRvbid0IHdhbnQgdG8gZGVmaW5lIGFuXG4gIC8vIGludGVycG9sYXRpb24sIGV2YWx1YXRpb24gb3IgZXNjYXBpbmcgcmVnZXgsIHdlIG5lZWQgb25lIHRoYXQgaXNcbiAgLy8gZ3VhcmFudGVlZCBub3QgdG8gbWF0Y2guXG4gIHZhciBub01hdGNoID0gLyguKV4vO1xuXG4gIC8vIENlcnRhaW4gY2hhcmFjdGVycyBuZWVkIHRvIGJlIGVzY2FwZWQgc28gdGhhdCB0aGV5IGNhbiBiZSBwdXQgaW50byBhXG4gIC8vIHN0cmluZyBsaXRlcmFsLlxuICB2YXIgZXNjYXBlcyA9IHtcbiAgICBcIidcIjogICAgICBcIidcIixcbiAgICAnXFxcXCc6ICAgICAnXFxcXCcsXG4gICAgJ1xccic6ICAgICAncicsXG4gICAgJ1xcbic6ICAgICAnbicsXG4gICAgJ1xcdTIwMjgnOiAndTIwMjgnLFxuICAgICdcXHUyMDI5JzogJ3UyMDI5J1xuICB9O1xuXG4gIHZhciBlc2NhcGVyID0gL1xcXFx8J3xcXHJ8XFxufFxcdTIwMjh8XFx1MjAyOS9nO1xuXG4gIHZhciBlc2NhcGVDaGFyID0gZnVuY3Rpb24obWF0Y2gpIHtcbiAgICByZXR1cm4gJ1xcXFwnICsgZXNjYXBlc1ttYXRjaF07XG4gIH07XG5cbiAgLy8gSmF2YVNjcmlwdCBtaWNyby10ZW1wbGF0aW5nLCBzaW1pbGFyIHRvIEpvaG4gUmVzaWcncyBpbXBsZW1lbnRhdGlvbi5cbiAgLy8gVW5kZXJzY29yZSB0ZW1wbGF0aW5nIGhhbmRsZXMgYXJiaXRyYXJ5IGRlbGltaXRlcnMsIHByZXNlcnZlcyB3aGl0ZXNwYWNlLFxuICAvLyBhbmQgY29ycmVjdGx5IGVzY2FwZXMgcXVvdGVzIHdpdGhpbiBpbnRlcnBvbGF0ZWQgY29kZS5cbiAgLy8gTkI6IGBvbGRTZXR0aW5nc2Agb25seSBleGlzdHMgZm9yIGJhY2t3YXJkcyBjb21wYXRpYmlsaXR5LlxuICBfLnRlbXBsYXRlID0gZnVuY3Rpb24odGV4dCwgc2V0dGluZ3MsIG9sZFNldHRpbmdzKSB7XG4gICAgaWYgKCFzZXR0aW5ncyAmJiBvbGRTZXR0aW5ncykgc2V0dGluZ3MgPSBvbGRTZXR0aW5ncztcbiAgICBzZXR0aW5ncyA9IF8uZGVmYXVsdHMoe30sIHNldHRpbmdzLCBfLnRlbXBsYXRlU2V0dGluZ3MpO1xuXG4gICAgLy8gQ29tYmluZSBkZWxpbWl0ZXJzIGludG8gb25lIHJlZ3VsYXIgZXhwcmVzc2lvbiB2aWEgYWx0ZXJuYXRpb24uXG4gICAgdmFyIG1hdGNoZXIgPSBSZWdFeHAoW1xuICAgICAgKHNldHRpbmdzLmVzY2FwZSB8fCBub01hdGNoKS5zb3VyY2UsXG4gICAgICAoc2V0dGluZ3MuaW50ZXJwb2xhdGUgfHwgbm9NYXRjaCkuc291cmNlLFxuICAgICAgKHNldHRpbmdzLmV2YWx1YXRlIHx8IG5vTWF0Y2gpLnNvdXJjZVxuICAgIF0uam9pbignfCcpICsgJ3wkJywgJ2cnKTtcblxuICAgIC8vIENvbXBpbGUgdGhlIHRlbXBsYXRlIHNvdXJjZSwgZXNjYXBpbmcgc3RyaW5nIGxpdGVyYWxzIGFwcHJvcHJpYXRlbHkuXG4gICAgdmFyIGluZGV4ID0gMDtcbiAgICB2YXIgc291cmNlID0gXCJfX3ArPSdcIjtcbiAgICB0ZXh0LnJlcGxhY2UobWF0Y2hlciwgZnVuY3Rpb24obWF0Y2gsIGVzY2FwZSwgaW50ZXJwb2xhdGUsIGV2YWx1YXRlLCBvZmZzZXQpIHtcbiAgICAgIHNvdXJjZSArPSB0ZXh0LnNsaWNlKGluZGV4LCBvZmZzZXQpLnJlcGxhY2UoZXNjYXBlciwgZXNjYXBlQ2hhcik7XG4gICAgICBpbmRleCA9IG9mZnNldCArIG1hdGNoLmxlbmd0aDtcblxuICAgICAgaWYgKGVzY2FwZSkge1xuICAgICAgICBzb3VyY2UgKz0gXCInK1xcbigoX190PShcIiArIGVzY2FwZSArIFwiKSk9PW51bGw/Jyc6Xy5lc2NhcGUoX190KSkrXFxuJ1wiO1xuICAgICAgfSBlbHNlIGlmIChpbnRlcnBvbGF0ZSkge1xuICAgICAgICBzb3VyY2UgKz0gXCInK1xcbigoX190PShcIiArIGludGVycG9sYXRlICsgXCIpKT09bnVsbD8nJzpfX3QpK1xcbidcIjtcbiAgICAgIH0gZWxzZSBpZiAoZXZhbHVhdGUpIHtcbiAgICAgICAgc291cmNlICs9IFwiJztcXG5cIiArIGV2YWx1YXRlICsgXCJcXG5fX3ArPSdcIjtcbiAgICAgIH1cblxuICAgICAgLy8gQWRvYmUgVk1zIG5lZWQgdGhlIG1hdGNoIHJldHVybmVkIHRvIHByb2R1Y2UgdGhlIGNvcnJlY3Qgb2ZmZXN0LlxuICAgICAgcmV0dXJuIG1hdGNoO1xuICAgIH0pO1xuICAgIHNvdXJjZSArPSBcIic7XFxuXCI7XG5cbiAgICAvLyBJZiBhIHZhcmlhYmxlIGlzIG5vdCBzcGVjaWZpZWQsIHBsYWNlIGRhdGEgdmFsdWVzIGluIGxvY2FsIHNjb3BlLlxuICAgIGlmICghc2V0dGluZ3MudmFyaWFibGUpIHNvdXJjZSA9ICd3aXRoKG9ianx8e30pe1xcbicgKyBzb3VyY2UgKyAnfVxcbic7XG5cbiAgICBzb3VyY2UgPSBcInZhciBfX3QsX19wPScnLF9faj1BcnJheS5wcm90b3R5cGUuam9pbixcIiArXG4gICAgICBcInByaW50PWZ1bmN0aW9uKCl7X19wKz1fX2ouY2FsbChhcmd1bWVudHMsJycpO307XFxuXCIgK1xuICAgICAgc291cmNlICsgJ3JldHVybiBfX3A7XFxuJztcblxuICAgIHRyeSB7XG4gICAgICB2YXIgcmVuZGVyID0gbmV3IEZ1bmN0aW9uKHNldHRpbmdzLnZhcmlhYmxlIHx8ICdvYmonLCAnXycsIHNvdXJjZSk7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgZS5zb3VyY2UgPSBzb3VyY2U7XG4gICAgICB0aHJvdyBlO1xuICAgIH1cblxuICAgIHZhciB0ZW1wbGF0ZSA9IGZ1bmN0aW9uKGRhdGEpIHtcbiAgICAgIHJldHVybiByZW5kZXIuY2FsbCh0aGlzLCBkYXRhLCBfKTtcbiAgICB9O1xuXG4gICAgLy8gUHJvdmlkZSB0aGUgY29tcGlsZWQgc291cmNlIGFzIGEgY29udmVuaWVuY2UgZm9yIHByZWNvbXBpbGF0aW9uLlxuICAgIHZhciBhcmd1bWVudCA9IHNldHRpbmdzLnZhcmlhYmxlIHx8ICdvYmonO1xuICAgIHRlbXBsYXRlLnNvdXJjZSA9ICdmdW5jdGlvbignICsgYXJndW1lbnQgKyAnKXtcXG4nICsgc291cmNlICsgJ30nO1xuXG4gICAgcmV0dXJuIHRlbXBsYXRlO1xuICB9O1xuXG4gIC8vIEFkZCBhIFwiY2hhaW5cIiBmdW5jdGlvbi4gU3RhcnQgY2hhaW5pbmcgYSB3cmFwcGVkIFVuZGVyc2NvcmUgb2JqZWN0LlxuICBfLmNoYWluID0gZnVuY3Rpb24ob2JqKSB7XG4gICAgdmFyIGluc3RhbmNlID0gXyhvYmopO1xuICAgIGluc3RhbmNlLl9jaGFpbiA9IHRydWU7XG4gICAgcmV0dXJuIGluc3RhbmNlO1xuICB9O1xuXG4gIC8vIE9PUFxuICAvLyAtLS0tLS0tLS0tLS0tLS1cbiAgLy8gSWYgVW5kZXJzY29yZSBpcyBjYWxsZWQgYXMgYSBmdW5jdGlvbiwgaXQgcmV0dXJucyBhIHdyYXBwZWQgb2JqZWN0IHRoYXRcbiAgLy8gY2FuIGJlIHVzZWQgT08tc3R5bGUuIFRoaXMgd3JhcHBlciBob2xkcyBhbHRlcmVkIHZlcnNpb25zIG9mIGFsbCB0aGVcbiAgLy8gdW5kZXJzY29yZSBmdW5jdGlvbnMuIFdyYXBwZWQgb2JqZWN0cyBtYXkgYmUgY2hhaW5lZC5cblxuICAvLyBIZWxwZXIgZnVuY3Rpb24gdG8gY29udGludWUgY2hhaW5pbmcgaW50ZXJtZWRpYXRlIHJlc3VsdHMuXG4gIHZhciByZXN1bHQgPSBmdW5jdGlvbihpbnN0YW5jZSwgb2JqKSB7XG4gICAgcmV0dXJuIGluc3RhbmNlLl9jaGFpbiA/IF8ob2JqKS5jaGFpbigpIDogb2JqO1xuICB9O1xuXG4gIC8vIEFkZCB5b3VyIG93biBjdXN0b20gZnVuY3Rpb25zIHRvIHRoZSBVbmRlcnNjb3JlIG9iamVjdC5cbiAgXy5taXhpbiA9IGZ1bmN0aW9uKG9iaikge1xuICAgIF8uZWFjaChfLmZ1bmN0aW9ucyhvYmopLCBmdW5jdGlvbihuYW1lKSB7XG4gICAgICB2YXIgZnVuYyA9IF9bbmFtZV0gPSBvYmpbbmFtZV07XG4gICAgICBfLnByb3RvdHlwZVtuYW1lXSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgYXJncyA9IFt0aGlzLl93cmFwcGVkXTtcbiAgICAgICAgcHVzaC5hcHBseShhcmdzLCBhcmd1bWVudHMpO1xuICAgICAgICByZXR1cm4gcmVzdWx0KHRoaXMsIGZ1bmMuYXBwbHkoXywgYXJncykpO1xuICAgICAgfTtcbiAgICB9KTtcbiAgfTtcblxuICAvLyBBZGQgYWxsIG9mIHRoZSBVbmRlcnNjb3JlIGZ1bmN0aW9ucyB0byB0aGUgd3JhcHBlciBvYmplY3QuXG4gIF8ubWl4aW4oXyk7XG5cbiAgLy8gQWRkIGFsbCBtdXRhdG9yIEFycmF5IGZ1bmN0aW9ucyB0byB0aGUgd3JhcHBlci5cbiAgXy5lYWNoKFsncG9wJywgJ3B1c2gnLCAncmV2ZXJzZScsICdzaGlmdCcsICdzb3J0JywgJ3NwbGljZScsICd1bnNoaWZ0J10sIGZ1bmN0aW9uKG5hbWUpIHtcbiAgICB2YXIgbWV0aG9kID0gQXJyYXlQcm90b1tuYW1lXTtcbiAgICBfLnByb3RvdHlwZVtuYW1lXSA9IGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIG9iaiA9IHRoaXMuX3dyYXBwZWQ7XG4gICAgICBtZXRob2QuYXBwbHkob2JqLCBhcmd1bWVudHMpO1xuICAgICAgaWYgKChuYW1lID09PSAnc2hpZnQnIHx8IG5hbWUgPT09ICdzcGxpY2UnKSAmJiBvYmoubGVuZ3RoID09PSAwKSBkZWxldGUgb2JqWzBdO1xuICAgICAgcmV0dXJuIHJlc3VsdCh0aGlzLCBvYmopO1xuICAgIH07XG4gIH0pO1xuXG4gIC8vIEFkZCBhbGwgYWNjZXNzb3IgQXJyYXkgZnVuY3Rpb25zIHRvIHRoZSB3cmFwcGVyLlxuICBfLmVhY2goWydjb25jYXQnLCAnam9pbicsICdzbGljZSddLCBmdW5jdGlvbihuYW1lKSB7XG4gICAgdmFyIG1ldGhvZCA9IEFycmF5UHJvdG9bbmFtZV07XG4gICAgXy5wcm90b3R5cGVbbmFtZV0gPSBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiByZXN1bHQodGhpcywgbWV0aG9kLmFwcGx5KHRoaXMuX3dyYXBwZWQsIGFyZ3VtZW50cykpO1xuICAgIH07XG4gIH0pO1xuXG4gIC8vIEV4dHJhY3RzIHRoZSByZXN1bHQgZnJvbSBhIHdyYXBwZWQgYW5kIGNoYWluZWQgb2JqZWN0LlxuICBfLnByb3RvdHlwZS52YWx1ZSA9IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiB0aGlzLl93cmFwcGVkO1xuICB9O1xuXG4gIC8vIFByb3ZpZGUgdW53cmFwcGluZyBwcm94eSBmb3Igc29tZSBtZXRob2RzIHVzZWQgaW4gZW5naW5lIG9wZXJhdGlvbnNcbiAgLy8gc3VjaCBhcyBhcml0aG1ldGljIGFuZCBKU09OIHN0cmluZ2lmaWNhdGlvbi5cbiAgXy5wcm90b3R5cGUudmFsdWVPZiA9IF8ucHJvdG90eXBlLnRvSlNPTiA9IF8ucHJvdG90eXBlLnZhbHVlO1xuXG4gIF8ucHJvdG90eXBlLnRvU3RyaW5nID0gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuICcnICsgdGhpcy5fd3JhcHBlZDtcbiAgfTtcblxuICAvLyBBTUQgcmVnaXN0cmF0aW9uIGhhcHBlbnMgYXQgdGhlIGVuZCBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIEFNRCBsb2FkZXJzXG4gIC8vIHRoYXQgbWF5IG5vdCBlbmZvcmNlIG5leHQtdHVybiBzZW1hbnRpY3Mgb24gbW9kdWxlcy4gRXZlbiB0aG91Z2ggZ2VuZXJhbFxuICAvLyBwcmFjdGljZSBmb3IgQU1EIHJlZ2lzdHJhdGlvbiBpcyB0byBiZSBhbm9ueW1vdXMsIHVuZGVyc2NvcmUgcmVnaXN0ZXJzXG4gIC8vIGFzIGEgbmFtZWQgbW9kdWxlIGJlY2F1c2UsIGxpa2UgalF1ZXJ5LCBpdCBpcyBhIGJhc2UgbGlicmFyeSB0aGF0IGlzXG4gIC8vIHBvcHVsYXIgZW5vdWdoIHRvIGJlIGJ1bmRsZWQgaW4gYSB0aGlyZCBwYXJ0eSBsaWIsIGJ1dCBub3QgYmUgcGFydCBvZlxuICAvLyBhbiBBTUQgbG9hZCByZXF1ZXN0LiBUaG9zZSBjYXNlcyBjb3VsZCBnZW5lcmF0ZSBhbiBlcnJvciB3aGVuIGFuXG4gIC8vIGFub255bW91cyBkZWZpbmUoKSBpcyBjYWxsZWQgb3V0c2lkZSBvZiBhIGxvYWRlciByZXF1ZXN0LlxuICBpZiAodHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kKSB7XG4gICAgZGVmaW5lKCd1bmRlcnNjb3JlJywgW10sIGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIF87XG4gICAgfSk7XG4gIH1cbn0uY2FsbCh0aGlzKSk7XG4iLCIvKiFcbiAqIFZpZXdlci5qcyB2MC41LjFcbiAqIGh0dHBzOi8vZ2l0aHViLmNvbS9mZW5neXVhbmNoZW4vdmlld2VyanNcbiAqXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTUtMjAxNyBGZW5neXVhbiBDaGVuXG4gKiBSZWxlYXNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2VcbiAqXG4gKiBEYXRlOiAyMDE3LTAxLTAyVDEzOjAxOjU1LjcwMFpcbiAqL1xuXG4oZnVuY3Rpb24gKGdsb2JhbCwgZmFjdG9yeSkge1xuICBpZiAodHlwZW9mIG1vZHVsZSA9PT0gJ29iamVjdCcgJiYgdHlwZW9mIG1vZHVsZS5leHBvcnRzID09PSAnb2JqZWN0Jykge1xuICAgIG1vZHVsZS5leHBvcnRzID0gZ2xvYmFsLmRvY3VtZW50ID8gZmFjdG9yeShnbG9iYWwsIHRydWUpIDogZnVuY3Rpb24gKHdpbmRvdykge1xuICAgICAgaWYgKCF3aW5kb3cuZG9jdW1lbnQpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdWaWV3ZXIgcmVxdWlyZXMgYSB3aW5kb3cgd2l0aCBhIGRvY3VtZW50Jyk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBmYWN0b3J5KHdpbmRvdyk7XG4gICAgfTtcbiAgfSBlbHNlIHtcbiAgICBmYWN0b3J5KGdsb2JhbCk7XG4gIH1cbn0pKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnID8gd2luZG93IDogdGhpcywgZnVuY3Rpb24gKHdpbmRvdywgbm9HbG9iYWwpIHtcblxuICAndXNlIHN0cmljdCc7XG5cbiAgdmFyIGRvY3VtZW50ID0gd2luZG93LmRvY3VtZW50O1xuICB2YXIgRXZlbnQgPSB3aW5kb3cuRXZlbnQ7XG4gIHZhciBQb2ludGVyRXZlbnQgPSB3aW5kb3cuUG9pbnRlckV2ZW50O1xuXG4gIC8vIENvbnN0YW50c1xuICB2YXIgTkFNRVNQQUNFID0gJ3ZpZXdlcic7XG5cbiAgLy8gQ2xhc3Nlc1xuICB2YXIgQ0xBU1NfRklYRUQgPSBOQU1FU1BBQ0UgKyAnLWZpeGVkJztcbiAgdmFyIENMQVNTX09QRU4gPSBOQU1FU1BBQ0UgKyAnLW9wZW4nO1xuICB2YXIgQ0xBU1NfU0hPVyA9IE5BTUVTUEFDRSArICctc2hvdyc7XG4gIHZhciBDTEFTU19ISURFID0gTkFNRVNQQUNFICsgJy1oaWRlJztcbiAgdmFyIENMQVNTX0hJREVfWFNfRE9XTiA9ICd2aWV3ZXItaGlkZS14cy1kb3duJztcbiAgdmFyIENMQVNTX0hJREVfU01fRE9XTiA9ICd2aWV3ZXItaGlkZS1zbS1kb3duJztcbiAgdmFyIENMQVNTX0hJREVfTURfRE9XTiA9ICd2aWV3ZXItaGlkZS1tZC1kb3duJztcbiAgdmFyIENMQVNTX0ZBREUgPSBOQU1FU1BBQ0UgKyAnLWZhZGUnO1xuICB2YXIgQ0xBU1NfSU4gPSBOQU1FU1BBQ0UgKyAnLWluJztcbiAgdmFyIENMQVNTX01PVkUgPSBOQU1FU1BBQ0UgKyAnLW1vdmUnO1xuICB2YXIgQ0xBU1NfQUNUSVZFID0gTkFNRVNQQUNFICsgJy1hY3RpdmUnO1xuICB2YXIgQ0xBU1NfSU5WSVNJQkxFID0gTkFNRVNQQUNFICsgJy1pbnZpc2libGUnO1xuICB2YXIgQ0xBU1NfVFJBTlNJVElPTiA9IE5BTUVTUEFDRSArICctdHJhbnNpdGlvbic7XG4gIHZhciBDTEFTU19GVUxMU0NSRUVOID0gTkFNRVNQQUNFICsgJy1mdWxsc2NyZWVuJztcbiAgdmFyIENMQVNTX0ZVTExTQ1JFRU5fRVhJVCA9IE5BTUVTUEFDRSArICctZnVsbHNjcmVlbi1leGl0JztcbiAgdmFyIENMQVNTX0NMT1NFID0gTkFNRVNQQUNFICsgJy1jbG9zZSc7XG5cbiAgLy8gRXZlbnRzXG4gIHZhciBFVkVOVF9NT1VTRURPV04gPSBQb2ludGVyRXZlbnQgPyAncG9pbnRlcmRvd24nIDogJ3RvdWNoc3RhcnQgbW91c2Vkb3duJztcbiAgdmFyIEVWRU5UX01PVVNFTU9WRSA9IFBvaW50ZXJFdmVudCA/ICdwb2ludGVybW92ZScgOiAnbW91c2Vtb3ZlIHRvdWNobW92ZSc7XG4gIHZhciBFVkVOVF9NT1VTRVVQID0gUG9pbnRlckV2ZW50ID8gJ3BvaW50ZXJ1cCBwb2ludGVyY2FuY2VsJyA6ICd0b3VjaGVuZCB0b3VjaGNhbmNlbCBtb3VzZXVwJztcbiAgdmFyIEVWRU5UX1dIRUVMID0gJ3doZWVsIG1vdXNld2hlZWwgRE9NTW91c2VTY3JvbGwnO1xuICB2YXIgRVZFTlRfVFJBTlNJVElPTkVORCA9ICd0cmFuc2l0aW9uZW5kJztcbiAgdmFyIEVWRU5UX0xPQUQgPSAnbG9hZCc7XG4gIHZhciBFVkVOVF9LRVlET1dOID0gJ2tleWRvd24nO1xuICB2YXIgRVZFTlRfQ0xJQ0sgPSAnY2xpY2snO1xuICB2YXIgRVZFTlRfUkVTSVpFID0gJ3Jlc2l6ZSc7XG4gIHZhciBFVkVOVF9SRUFEWSA9ICdyZWFkeSc7XG4gIHZhciBFVkVOVF9TSE9XID0gJ3Nob3cnO1xuICB2YXIgRVZFTlRfU0hPV04gPSAnc2hvd24nO1xuICB2YXIgRVZFTlRfSElERSA9ICdoaWRlJztcbiAgdmFyIEVWRU5UX0hJRERFTiA9ICdoaWRkZW4nO1xuICB2YXIgRVZFTlRfVklFVyA9ICd2aWV3JztcbiAgdmFyIEVWRU5UX1ZJRVdFRCA9ICd2aWV3ZWQnO1xuXG4gIC8vIFJlZ0V4cHNcbiAgdmFyIFJFR0VYUF9TVUZGSVggPSAvXih3aWR0aHxoZWlnaHR8bGVmdHx0b3B8bWFyZ2luTGVmdHxtYXJnaW5Ub3ApJC87XG4gIHZhciBSRUdFWFBfSFlQSEVOQVRFID0gLyhbYS16XFxkXSkoW0EtWl0pL2c7XG4gIHZhciBSRUdFWFBfVFJJTSA9IC9eXFxzKyguKilcXHMrJC87XG4gIHZhciBSRUdFWFBfU1BBQ0VTID0gL1xccysvO1xuXG4gIC8vIFN1cHBvcnRzXG4gIHZhciBTVVBQT1JUX1RSQU5TSVRJT04gPSB0eXBlb2YgZG9jdW1lbnQuY3JlYXRlRWxlbWVudChOQU1FU1BBQ0UpLnN0eWxlLnRyYW5zaXRpb24gIT09ICd1bmRlZmluZWQnO1xuXG4gIC8vIE1hdGhzXG4gIHZhciBtaW4gPSBNYXRoLm1pbjtcbiAgdmFyIG1heCA9IE1hdGgubWF4O1xuICB2YXIgYWJzID0gTWF0aC5hYnM7XG4gIHZhciBzcXJ0ID0gTWF0aC5zcXJ0O1xuICB2YXIgcm91bmQgPSBNYXRoLnJvdW5kO1xuXG4gIC8vIFV0aWxpdGllc1xuICB2YXIgb2JqZWN0UHJvdG8gPSBPYmplY3QucHJvdG90eXBlO1xuICB2YXIgdG9TdHJpbmcgPSBvYmplY3RQcm90by50b1N0cmluZztcbiAgdmFyIGhhc093blByb3BlcnR5ID0gb2JqZWN0UHJvdG8uaGFzT3duUHJvcGVydHk7XG4gIHZhciBzbGljZSA9IEFycmF5LnByb3RvdHlwZS5zbGljZTtcblxuICBmdW5jdGlvbiB0eXBlT2Yob2JqKSB7XG4gICAgcmV0dXJuIHRvU3RyaW5nLmNhbGwob2JqKS5zbGljZSg4LCAtMSkudG9Mb3dlckNhc2UoKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGlzU3RyaW5nKHN0cikge1xuICAgIHJldHVybiB0eXBlb2Ygc3RyID09PSAnc3RyaW5nJztcbiAgfVxuXG4gIGZ1bmN0aW9uIGlzTnVtYmVyKG51bSkge1xuICAgIHJldHVybiB0eXBlb2YgbnVtID09PSAnbnVtYmVyJyAmJiAhaXNOYU4obnVtKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGlzVW5kZWZpbmVkKG9iaikge1xuICAgIHJldHVybiB0eXBlb2Ygb2JqID09PSAndW5kZWZpbmVkJztcbiAgfVxuXG4gIGZ1bmN0aW9uIGlzT2JqZWN0KG9iaikge1xuICAgIHJldHVybiB0eXBlb2Ygb2JqID09PSAnb2JqZWN0JyAmJiBvYmogIT09IG51bGw7XG4gIH1cblxuICBmdW5jdGlvbiBpc1BsYWluT2JqZWN0KG9iaikge1xuICAgIHZhciBjb25zdHJ1Y3RvcjtcbiAgICB2YXIgcHJvdG90eXBlO1xuXG4gICAgaWYgKCFpc09iamVjdChvYmopKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0cnVjdG9yID0gb2JqLmNvbnN0cnVjdG9yO1xuICAgICAgcHJvdG90eXBlID0gY29uc3RydWN0b3IucHJvdG90eXBlO1xuXG4gICAgICByZXR1cm4gY29uc3RydWN0b3IgJiYgcHJvdG90eXBlICYmIGhhc093blByb3BlcnR5LmNhbGwocHJvdG90eXBlLCAnaXNQcm90b3R5cGVPZicpO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBpc0Z1bmN0aW9uKGZuKSB7XG4gICAgcmV0dXJuIHR5cGVPZihmbikgPT09ICdmdW5jdGlvbic7XG4gIH1cblxuICBmdW5jdGlvbiBpc0FycmF5KGFycikge1xuICAgIHJldHVybiBBcnJheS5pc0FycmF5ID8gQXJyYXkuaXNBcnJheShhcnIpIDogdHlwZU9mKGFycikgPT09ICdhcnJheSc7XG4gIH1cblxuICBmdW5jdGlvbiB0b0FycmF5KG9iaiwgb2Zmc2V0KSB7XG4gICAgb2Zmc2V0ID0gb2Zmc2V0ID49IDAgPyBvZmZzZXQgOiAwO1xuXG4gICAgaWYgKEFycmF5LmZyb20pIHtcbiAgICAgIHJldHVybiBBcnJheS5mcm9tKG9iaikuc2xpY2Uob2Zmc2V0KTtcbiAgICB9XG5cbiAgICByZXR1cm4gc2xpY2UuY2FsbChvYmosIG9mZnNldCk7XG4gIH1cblxuICBmdW5jdGlvbiBpbkFycmF5KHZhbHVlLCBhcnIpIHtcbiAgICB2YXIgaW5kZXggPSAtMTtcblxuICAgIGlmIChhcnIuaW5kZXhPZikge1xuICAgICAgcmV0dXJuIGFyci5pbmRleE9mKHZhbHVlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgZWFjaChhcnIsIGZ1bmN0aW9uIChuLCBpKSB7XG4gICAgICAgIGlmIChuID09PSB2YWx1ZSkge1xuICAgICAgICAgIGluZGV4ID0gaTtcbiAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cblxuICAgIHJldHVybiBpbmRleDtcbiAgfVxuXG4gIGZ1bmN0aW9uIHRyaW0oc3RyKSB7XG4gICAgaWYgKGlzU3RyaW5nKHN0cikpIHtcbiAgICAgIHN0ciA9IHN0ci50cmltID8gc3RyLnRyaW0oKSA6IHN0ci5yZXBsYWNlKFJFR0VYUF9UUklNLCAnMScpO1xuICAgIH1cblxuICAgIHJldHVybiBzdHI7XG4gIH1cblxuICBmdW5jdGlvbiBlYWNoKG9iaiwgY2FsbGJhY2spIHtcbiAgICB2YXIgbGVuZ3RoO1xuICAgIHZhciBpO1xuXG4gICAgaWYgKG9iaiAmJiBpc0Z1bmN0aW9uKGNhbGxiYWNrKSkge1xuICAgICAgaWYgKGlzQXJyYXkob2JqKSB8fCBpc051bWJlcihvYmoubGVuZ3RoKS8qIGFycmF5LWxpa2UgKi8pIHtcbiAgICAgICAgZm9yIChpID0gMCwgbGVuZ3RoID0gb2JqLmxlbmd0aDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgaWYgKGNhbGxiYWNrLmNhbGwob2JqLCBvYmpbaV0sIGksIG9iaikgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAoaXNPYmplY3Qob2JqKSkge1xuICAgICAgICBmb3IgKGkgaW4gb2JqKSB7XG4gICAgICAgICAgaWYgKG9iai5oYXNPd25Qcm9wZXJ0eShpKSkge1xuICAgICAgICAgICAgaWYgKGNhbGxiYWNrLmNhbGwob2JqLCBvYmpbaV0sIGksIG9iaikgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBvYmo7XG4gIH1cblxuICBmdW5jdGlvbiBleHRlbmQob2JqKSB7XG4gICAgdmFyIGFyZ3M7XG5cbiAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA+IDEpIHtcbiAgICAgIGFyZ3MgPSB0b0FycmF5KGFyZ3VtZW50cyk7XG5cbiAgICAgIGlmIChPYmplY3QuYXNzaWduKSB7XG4gICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduLmFwcGx5KE9iamVjdCwgYXJncyk7XG4gICAgICB9XG5cbiAgICAgIGFyZ3Muc2hpZnQoKTtcblxuICAgICAgZWFjaChhcmdzLCBmdW5jdGlvbiAoYXJnKSB7XG4gICAgICAgIGVhY2goYXJnLCBmdW5jdGlvbiAocHJvcCwgaSkge1xuICAgICAgICAgIG9ialtpXSA9IHByb3A7XG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIG9iajtcbiAgfVxuXG4gIGZ1bmN0aW9uIHByb3h5KGZuLCBjb250ZXh0KSB7XG4gICAgdmFyIGFyZ3MgPSB0b0FycmF5KGFyZ3VtZW50cywgMik7XG5cbiAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIGZuLmFwcGx5KGNvbnRleHQsIGFyZ3MuY29uY2F0KHRvQXJyYXkoYXJndW1lbnRzKSkpO1xuICAgIH07XG4gIH1cblxuICBmdW5jdGlvbiBzZXRTdHlsZShlbGVtZW50LCBzdHlsZXMpIHtcbiAgICB2YXIgc3R5bGUgPSBlbGVtZW50LnN0eWxlO1xuXG4gICAgZWFjaChzdHlsZXMsIGZ1bmN0aW9uICh2YWx1ZSwgcHJvcGVydHkpIHtcbiAgICAgIGlmIChSRUdFWFBfU1VGRklYLnRlc3QocHJvcGVydHkpICYmIGlzTnVtYmVyKHZhbHVlKSkge1xuICAgICAgICB2YWx1ZSArPSAncHgnO1xuICAgICAgfVxuXG4gICAgICBzdHlsZVtwcm9wZXJ0eV0gPSB2YWx1ZTtcbiAgICB9KTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGdldFN0eWxlKGVsZW1lbnQpIHtcbiAgICByZXR1cm4gd2luZG93LmdldENvbXB1dGVkU3R5bGUgP1xuICAgICAgd2luZG93LmdldENvbXB1dGVkU3R5bGUoZWxlbWVudCwgbnVsbCkgOlxuICAgICAgZWxlbWVudC5jdXJyZW50U3R5bGU7XG4gIH1cblxuICBmdW5jdGlvbiBoYXNDbGFzcyhlbGVtZW50LCB2YWx1ZSkge1xuICAgIHJldHVybiBlbGVtZW50LmNsYXNzTGlzdCA/XG4gICAgICBlbGVtZW50LmNsYXNzTGlzdC5jb250YWlucyh2YWx1ZSkgOlxuICAgICAgZWxlbWVudC5jbGFzc05hbWUuaW5kZXhPZih2YWx1ZSkgPiAtMTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGFkZENsYXNzKGVsZW1lbnQsIHZhbHVlKSB7XG4gICAgdmFyIGNsYXNzTmFtZTtcblxuICAgIGlmICghdmFsdWUpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAoaXNOdW1iZXIoZWxlbWVudC5sZW5ndGgpKSB7XG4gICAgICByZXR1cm4gZWFjaChlbGVtZW50LCBmdW5jdGlvbiAoZWxlbSkge1xuICAgICAgICBhZGRDbGFzcyhlbGVtLCB2YWx1ZSk7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBpZiAoZWxlbWVudC5jbGFzc0xpc3QpIHtcbiAgICAgIHJldHVybiBlbGVtZW50LmNsYXNzTGlzdC5hZGQodmFsdWUpO1xuICAgIH1cblxuICAgIGNsYXNzTmFtZSA9IHRyaW0oZWxlbWVudC5jbGFzc05hbWUpO1xuXG4gICAgaWYgKCFjbGFzc05hbWUpIHtcbiAgICAgIGVsZW1lbnQuY2xhc3NOYW1lID0gdmFsdWU7XG4gICAgfSBlbHNlIGlmIChjbGFzc05hbWUuaW5kZXhPZih2YWx1ZSkgPCAwKSB7XG4gICAgICBlbGVtZW50LmNsYXNzTmFtZSA9IGNsYXNzTmFtZSArICcgJyArIHZhbHVlO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIHJlbW92ZUNsYXNzKGVsZW1lbnQsIHZhbHVlKSB7XG4gICAgaWYgKCF2YWx1ZSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmIChpc051bWJlcihlbGVtZW50Lmxlbmd0aCkpIHtcbiAgICAgIHJldHVybiBlYWNoKGVsZW1lbnQsIGZ1bmN0aW9uIChlbGVtKSB7XG4gICAgICAgIHJlbW92ZUNsYXNzKGVsZW0sIHZhbHVlKTtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIGlmIChlbGVtZW50LmNsYXNzTGlzdCkge1xuICAgICAgcmV0dXJuIGVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSh2YWx1ZSk7XG4gICAgfVxuXG4gICAgaWYgKGVsZW1lbnQuY2xhc3NOYW1lLmluZGV4T2YodmFsdWUpID49IDApIHtcbiAgICAgIGVsZW1lbnQuY2xhc3NOYW1lID0gZWxlbWVudC5jbGFzc05hbWUucmVwbGFjZSh2YWx1ZSwgJycpO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIHRvZ2dsZUNsYXNzKGVsZW1lbnQsIHZhbHVlLCBhZGRlZCkge1xuICAgIGlmIChpc051bWJlcihlbGVtZW50Lmxlbmd0aCkpIHtcbiAgICAgIHJldHVybiBlYWNoKGVsZW1lbnQsIGZ1bmN0aW9uIChlbGVtKSB7XG4gICAgICAgIHRvZ2dsZUNsYXNzKGVsZW0sIHZhbHVlLCBhZGRlZCk7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICAvLyBJRTEwLTExIGRvZXNuJ3Qgc3VwcG9ydCB0aGUgc2Vjb25kIHBhcmFtZXRlciBvZiBgY2xhc3NMaXN0LnRvZ2dsZWBcbiAgICBpZiAoYWRkZWQpIHtcbiAgICAgIGFkZENsYXNzKGVsZW1lbnQsIHZhbHVlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmVtb3ZlQ2xhc3MoZWxlbWVudCwgdmFsdWUpO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIGh5cGhlbmF0ZShzdHIpIHtcbiAgICByZXR1cm4gc3RyLnJlcGxhY2UoUkVHRVhQX0hZUEhFTkFURSwgJyQxLSQyJykudG9Mb3dlckNhc2UoKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGdldERhdGEoZWxlbWVudCwgbmFtZSkge1xuICAgIGlmIChpc09iamVjdChlbGVtZW50W25hbWVdKSkge1xuICAgICAgcmV0dXJuIGVsZW1lbnRbbmFtZV07XG4gICAgfSBlbHNlIGlmIChlbGVtZW50LmRhdGFzZXQpIHtcbiAgICAgIHJldHVybiBlbGVtZW50LmRhdGFzZXRbbmFtZV07XG4gICAgfVxuXG4gICAgcmV0dXJuIGVsZW1lbnQuZ2V0QXR0cmlidXRlKCdkYXRhLScgKyBoeXBoZW5hdGUobmFtZSkpO1xuICB9XG5cbiAgZnVuY3Rpb24gc2V0RGF0YShlbGVtZW50LCBuYW1lLCBkYXRhKSB7XG4gICAgaWYgKGlzT2JqZWN0KGRhdGEpKSB7XG4gICAgICBlbGVtZW50W25hbWVdID0gZGF0YTtcbiAgICB9IGVsc2UgaWYgKGVsZW1lbnQuZGF0YXNldCkge1xuICAgICAgZWxlbWVudC5kYXRhc2V0W25hbWVdID0gZGF0YTtcbiAgICB9IGVsc2Uge1xuICAgICAgZWxlbWVudC5zZXRBdHRyaWJ1dGUoJ2RhdGEtJyArIGh5cGhlbmF0ZShuYW1lKSwgZGF0YSk7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gcmVtb3ZlRGF0YShlbGVtZW50LCBuYW1lKSB7XG4gICAgaWYgKGlzT2JqZWN0KGVsZW1lbnRbbmFtZV0pKSB7XG4gICAgICBkZWxldGUgZWxlbWVudFtuYW1lXTtcbiAgICB9IGVsc2UgaWYgKGVsZW1lbnQuZGF0YXNldCkge1xuICAgICAgLy8gU2FmYXJpIG5vdCBhbGxvd3MgdG8gZGVsZXRlIGRhdGFzZXQgcHJvcGVydHlcbiAgICAgIHRyeSB7XG4gICAgICAgIGRlbGV0ZSBlbGVtZW50LmRhdGFzZXRbbmFtZV07XG4gICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIGVsZW1lbnQuZGF0YXNldFtuYW1lXSA9IG51bGw7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGVsZW1lbnQucmVtb3ZlQXR0cmlidXRlKCdkYXRhLScgKyBoeXBoZW5hdGUobmFtZSkpO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIGFkZExpc3RlbmVyKGVsZW1lbnQsIHR5cGUsIGhhbmRsZXIsIG9uY2UpIHtcbiAgICB2YXIgdHlwZXMgPSB0cmltKHR5cGUpLnNwbGl0KFJFR0VYUF9TUEFDRVMpO1xuICAgIHZhciBvcmlnaW5hbEhhbmRsZXIgPSBoYW5kbGVyO1xuXG4gICAgaWYgKHR5cGVzLmxlbmd0aCA+IDEpIHtcbiAgICAgIHJldHVybiBlYWNoKHR5cGVzLCBmdW5jdGlvbiAodHlwZSkge1xuICAgICAgICBhZGRMaXN0ZW5lcihlbGVtZW50LCB0eXBlLCBoYW5kbGVyKTtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIGlmIChvbmNlKSB7XG4gICAgICBoYW5kbGVyID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZW1vdmVMaXN0ZW5lcihlbGVtZW50LCB0eXBlLCBoYW5kbGVyKTtcblxuICAgICAgICByZXR1cm4gb3JpZ2luYWxIYW5kbGVyLmFwcGx5KGVsZW1lbnQsIGFyZ3VtZW50cyk7XG4gICAgICB9O1xuICAgIH1cblxuICAgIGlmIChlbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIpIHtcbiAgICAgIGVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcih0eXBlLCBoYW5kbGVyLCBmYWxzZSk7XG4gICAgfSBlbHNlIGlmIChlbGVtZW50LmF0dGFjaEV2ZW50KSB7XG4gICAgICBlbGVtZW50LmF0dGFjaEV2ZW50KCdvbicgKyB0eXBlLCBoYW5kbGVyKTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiByZW1vdmVMaXN0ZW5lcihlbGVtZW50LCB0eXBlLCBoYW5kbGVyKSB7XG4gICAgdmFyIHR5cGVzID0gdHJpbSh0eXBlKS5zcGxpdChSRUdFWFBfU1BBQ0VTKTtcblxuICAgIGlmICh0eXBlcy5sZW5ndGggPiAxKSB7XG4gICAgICByZXR1cm4gZWFjaCh0eXBlcywgZnVuY3Rpb24gKHR5cGUpIHtcbiAgICAgICAgcmVtb3ZlTGlzdGVuZXIoZWxlbWVudCwgdHlwZSwgaGFuZGxlcik7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBpZiAoZWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKSB7XG4gICAgICBlbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIodHlwZSwgaGFuZGxlciwgZmFsc2UpO1xuICAgIH0gZWxzZSBpZiAoZWxlbWVudC5kZXRhY2hFdmVudCkge1xuICAgICAgZWxlbWVudC5kZXRhY2hFdmVudCgnb24nICsgdHlwZSwgaGFuZGxlcik7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gZGlzcGF0Y2hFdmVudChlbGVtZW50LCB0eXBlLCBkYXRhKSB7XG4gICAgdmFyIGV2ZW50O1xuXG4gICAgaWYgKGVsZW1lbnQuZGlzcGF0Y2hFdmVudCkge1xuXG4gICAgICAvLyBFdmVudCBhbmQgQ3VzdG9tRXZlbnQgb24gSUU5LTExIGFyZSBnbG9iYWwgb2JqZWN0cywgbm90IGNvbnN0cnVjdG9yc1xuICAgICAgaWYgKGlzRnVuY3Rpb24oRXZlbnQpICYmIGlzRnVuY3Rpb24oQ3VzdG9tRXZlbnQpKSB7XG4gICAgICAgIGlmIChpc1VuZGVmaW5lZChkYXRhKSkge1xuICAgICAgICAgIGV2ZW50ID0gbmV3IEV2ZW50KHR5cGUsIHtcbiAgICAgICAgICAgIGJ1YmJsZXM6IHRydWUsXG4gICAgICAgICAgICBjYW5jZWxhYmxlOiB0cnVlXG4gICAgICAgICAgfSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgZXZlbnQgPSBuZXcgQ3VzdG9tRXZlbnQodHlwZSwge1xuICAgICAgICAgICAgZGV0YWlsOiBkYXRhLFxuICAgICAgICAgICAgYnViYmxlczogdHJ1ZSxcbiAgICAgICAgICAgIGNhbmNlbGFibGU6IHRydWVcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gSUU5LTExXG4gICAgICAgIGlmIChpc1VuZGVmaW5lZChkYXRhKSkge1xuICAgICAgICAgIGV2ZW50ID0gZG9jdW1lbnQuY3JlYXRlRXZlbnQoJ0V2ZW50Jyk7XG4gICAgICAgICAgZXZlbnQuaW5pdEV2ZW50KHR5cGUsIHRydWUsIHRydWUpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGV2ZW50ID0gZG9jdW1lbnQuY3JlYXRlRXZlbnQoJ0N1c3RvbUV2ZW50Jyk7XG4gICAgICAgICAgZXZlbnQuaW5pdEN1c3RvbUV2ZW50KHR5cGUsIHRydWUsIHRydWUsIGRhdGEpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIC8vIElFOStcbiAgICAgIHJldHVybiBlbGVtZW50LmRpc3BhdGNoRXZlbnQoZXZlbnQpO1xuICAgIH0gZWxzZSBpZiAoZWxlbWVudC5maXJlRXZlbnQpIHtcblxuICAgICAgLy8gSUU2LTEwIChuYXRpdmUgZXZlbnRzIG9ubHkpXG4gICAgICByZXR1cm4gZWxlbWVudC5maXJlRXZlbnQoJ29uJyArIHR5cGUpO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIHByZXZlbnREZWZhdWx0KGUpIHtcbiAgICBpZiAoZS5wcmV2ZW50RGVmYXVsdCkge1xuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIH0gZWxzZSB7XG4gICAgICBlLnJldHVyblZhbHVlID0gZmFsc2U7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gZ2V0RXZlbnQoZXZlbnQpIHtcbiAgICB2YXIgZSA9IGV2ZW50IHx8IHdpbmRvdy5ldmVudDtcbiAgICB2YXIgZXZlbnREb2M7XG4gICAgdmFyIGRvYztcbiAgICB2YXIgYm9keTtcblxuICAgIC8vIEZpeCB0YXJnZXQgcHJvcGVydHkgKElFOClcbiAgICBpZiAoIWUudGFyZ2V0KSB7XG4gICAgICBlLnRhcmdldCA9IGUuc3JjRWxlbWVudCB8fCBkb2N1bWVudDtcbiAgICB9XG5cbiAgICBpZiAoIWlzTnVtYmVyKGUucGFnZVgpICYmIGlzTnVtYmVyKGUuY2xpZW50WCkpIHtcbiAgICAgIGV2ZW50RG9jID0gZXZlbnQudGFyZ2V0Lm93bmVyRG9jdW1lbnQgfHwgZG9jdW1lbnQ7XG4gICAgICBkb2MgPSBldmVudERvYy5kb2N1bWVudEVsZW1lbnQ7XG4gICAgICBib2R5ID0gZXZlbnREb2MuYm9keTtcblxuICAgICAgZS5wYWdlWCA9IGUuY2xpZW50WCArIChcbiAgICAgICAgKChkb2MgJiYgZG9jLnNjcm9sbExlZnQpIHx8IChib2R5ICYmIGJvZHkuc2Nyb2xsTGVmdCkgfHwgMCkgLVxuICAgICAgICAoKGRvYyAmJiBkb2MuY2xpZW50TGVmdCkgfHwgKGJvZHkgJiYgYm9keS5jbGllbnRMZWZ0KSB8fCAwKVxuICAgICAgKTtcbiAgICAgIGUucGFnZVkgPSBlLmNsaWVudFkgKyAoXG4gICAgICAgICgoZG9jICYmIGRvYy5zY3JvbGxUb3ApIHx8IChib2R5ICYmIGJvZHkuc2Nyb2xsVG9wKSB8fCAwKSAtXG4gICAgICAgICgoZG9jICYmIGRvYy5jbGllbnRUb3ApIHx8IChib2R5ICYmIGJvZHkuY2xpZW50VG9wKSB8fCAwKVxuICAgICAgKTtcbiAgICB9XG5cbiAgICByZXR1cm4gZTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGdldE9mZnNldChlbGVtZW50KSB7XG4gICAgdmFyIGRvYyA9IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudDtcbiAgICB2YXIgYm94ID0gZWxlbWVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcblxuICAgIHJldHVybiB7XG4gICAgICBsZWZ0OiBib3gubGVmdCArICh3aW5kb3cuc2Nyb2xsWCB8fCBkb2MgJiYgZG9jLnNjcm9sbExlZnQgfHwgMCkgLSAoZG9jICYmIGRvYy5jbGllbnRMZWZ0IHx8IDApLFxuICAgICAgdG9wOiBib3gudG9wICsgKHdpbmRvdy5zY3JvbGxZIHx8IGRvYyAmJiBkb2Muc2Nyb2xsVG9wIHx8IDApIC0gKGRvYyAmJiBkb2MuY2xpZW50VG9wIHx8IDApXG4gICAgfTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGdldEJ5VGFnKGVsZW1lbnQsIHRhZ05hbWUpIHtcbiAgICByZXR1cm4gZWxlbWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSh0YWdOYW1lKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGdldEJ5Q2xhc3MoZWxlbWVudCwgY2xhc3NOYW1lKSB7XG4gICAgcmV0dXJuIGVsZW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSA/XG4gICAgICBlbGVtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoY2xhc3NOYW1lKSA6XG4gICAgICBlbGVtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy4nICsgY2xhc3NOYW1lKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGFwcGVuZENoaWxkKGVsZW1lbnQsIGVsZW0pIHtcbiAgICBpZiAoZWxlbS5sZW5ndGgpIHtcbiAgICAgIHJldHVybiBlYWNoKGVsZW0sIGZ1bmN0aW9uIChlbCkge1xuICAgICAgICBhcHBlbmRDaGlsZChlbGVtZW50LCBlbCk7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBlbGVtZW50LmFwcGVuZENoaWxkKGVsZW0pO1xuICB9XG5cbiAgZnVuY3Rpb24gcmVtb3ZlQ2hpbGQoZWxlbWVudCkge1xuICAgIGlmIChlbGVtZW50LnBhcmVudE5vZGUpIHtcbiAgICAgIGVsZW1lbnQucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChlbGVtZW50KTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBlbXB0eShlbGVtZW50KSB7XG4gICAgd2hpbGUgKGVsZW1lbnQuZmlyc3RDaGlsZCkge1xuICAgICAgZWxlbWVudC5yZW1vdmVDaGlsZChlbGVtZW50LmZpcnN0Q2hpbGQpO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIHNldFRleHQoZWxlbWVudCwgdGV4dCkge1xuICAgIGlmICghaXNVbmRlZmluZWQoZWxlbWVudC50ZXh0Q29udGVudCkpIHtcbiAgICAgIGVsZW1lbnQudGV4dENvbnRlbnQgPSB0ZXh0O1xuICAgIH0gZWxzZSB7XG4gICAgICBlbGVtZW50LmlubmVyVGV4dCA9IHRleHQ7XG4gICAgfVxuICB9XG5cbiAgLy8gRm9yY2UgcmVmbG93IHRvIGVuYWJsZSBDU1MzIHRyYW5zaXRpb25cbiAgZnVuY3Rpb24gZm9yY2VSZWZsb3coZWxlbWVudCkge1xuICAgIHJldHVybiBlbGVtZW50Lm9mZnNldFdpZHRoO1xuICB9XG5cbiAgLy8gZS5nLjogaHR0cDovL2RvbWFpbi5jb20vcGF0aC90by9waWN0dXJlLmpwZz9zaXplPTEyODDDlzk2MCAtPiBwaWN0dXJlLmpwZ1xuICBmdW5jdGlvbiBnZXRJbWFnZU5hbWUodXJsKSB7XG4gICAgcmV0dXJuIGlzU3RyaW5nKHVybCkgPyB1cmwucmVwbGFjZSgvXi4qXFwvLywgJycpLnJlcGxhY2UoL1tcXD8mI10uKiQvLCAnJykgOiAnJztcbiAgfVxuXG4gIGZ1bmN0aW9uIGdldEltYWdlU2l6ZShpbWFnZSwgY2FsbGJhY2spIHtcbiAgICB2YXIgbmV3SW1hZ2U7XG5cbiAgICAvLyBNb2Rlcm4gYnJvd3NlcnNcbiAgICBpZiAoaW1hZ2UubmF0dXJhbFdpZHRoKSB7XG4gICAgICByZXR1cm4gY2FsbGJhY2soaW1hZ2UubmF0dXJhbFdpZHRoLCBpbWFnZS5uYXR1cmFsSGVpZ2h0KTtcbiAgICB9XG5cbiAgICAvLyBJRTg6IERvbid0IHVzZSBgbmV3IEltYWdlKClgIGhlcmVcbiAgICBuZXdJbWFnZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2ltZycpO1xuXG4gICAgbmV3SW1hZ2Uub25sb2FkID0gZnVuY3Rpb24gKCkge1xuICAgICAgY2FsbGJhY2sodGhpcy53aWR0aCwgdGhpcy5oZWlnaHQpO1xuICAgIH07XG5cbiAgICBuZXdJbWFnZS5zcmMgPSBpbWFnZS5zcmM7XG4gIH1cblxuICBmdW5jdGlvbiBnZXRUcmFuc2Zvcm0oZGF0YSkge1xuICAgIHZhciB0cmFuc2Zvcm1zID0gW107XG4gICAgdmFyIHJvdGF0ZSA9IGRhdGEucm90YXRlO1xuICAgIHZhciBzY2FsZVggPSBkYXRhLnNjYWxlWDtcbiAgICB2YXIgc2NhbGVZID0gZGF0YS5zY2FsZVk7XG5cbiAgICAvLyBSb3RhdGUgc2hvdWxkIGNvbWUgZmlyc3QgYmVmb3JlIHNjYWxlXG4gICAgaWYgKGlzTnVtYmVyKHJvdGF0ZSkpIHtcbiAgICAgIHRyYW5zZm9ybXMucHVzaCgncm90YXRlKCcgKyByb3RhdGUgKyAnZGVnKScpO1xuICAgIH1cblxuICAgIGlmIChpc051bWJlcihzY2FsZVgpKSB7XG4gICAgICB0cmFuc2Zvcm1zLnB1c2goJ3NjYWxlWCgnICsgc2NhbGVYICsgJyknKTtcbiAgICB9XG5cbiAgICBpZiAoaXNOdW1iZXIoc2NhbGVZKSkge1xuICAgICAgdHJhbnNmb3Jtcy5wdXNoKCdzY2FsZVkoJyArIHNjYWxlWSArICcpJyk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRyYW5zZm9ybXMubGVuZ3RoID8gdHJhbnNmb3Jtcy5qb2luKCcgJykgOiAnbm9uZSc7XG4gIH1cblxuICBmdW5jdGlvbiBnZXRSZXNwb25zaXZlQ2xhc3Mob3B0aW9uKSB7XG4gICAgc3dpdGNoIChvcHRpb24pIHtcbiAgICAgIGNhc2UgMjpcbiAgICAgICAgcmV0dXJuIENMQVNTX0hJREVfWFNfRE9XTjtcblxuICAgICAgY2FzZSAzOlxuICAgICAgICByZXR1cm4gQ0xBU1NfSElERV9TTV9ET1dOO1xuXG4gICAgICBjYXNlIDQ6XG4gICAgICAgIHJldHVybiBDTEFTU19ISURFX01EX0RPV047XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gZ2V0UG9pbnRlcihwb2ludGVyLCBlbmRPbmx5KSB7XG4gICAgdmFyIGVuZCA9IHtcbiAgICAgIGVuZFg6IHBvaW50ZXIucGFnZVgsXG4gICAgICBlbmRZOiBwb2ludGVyLnBhZ2VZXG4gICAgfTtcblxuICAgIGlmIChlbmRPbmx5KSB7XG4gICAgICByZXR1cm4gZW5kO1xuICAgIH1cblxuICAgIHJldHVybiBleHRlbmQoe1xuICAgICAgc3RhcnRYOiBwb2ludGVyLnBhZ2VYLFxuICAgICAgc3RhcnRZOiBwb2ludGVyLnBhZ2VZXG4gICAgfSwgZW5kKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGdldE1heFpvb21SYXRpbyhwb2ludGVycykge1xuICAgIHZhciBwb2ludGVyczIgPSBleHRlbmQoe30sIHBvaW50ZXJzKTtcbiAgICB2YXIgcmF0aW9zID0gW107XG5cbiAgICBlYWNoKHBvaW50ZXJzLCBmdW5jdGlvbiAocG9pbnRlciwgcG9pbnRlcklkKSB7XG4gICAgICBkZWxldGUgcG9pbnRlcnMyW3BvaW50ZXJJZF07XG5cbiAgICAgIGVhY2gocG9pbnRlcnMyLCBmdW5jdGlvbiAocG9pbnRlcjIpIHtcbiAgICAgICAgdmFyIHgxID0gTWF0aC5hYnMocG9pbnRlci5zdGFydFggLSBwb2ludGVyMi5zdGFydFgpO1xuICAgICAgICB2YXIgeTEgPSBNYXRoLmFicyhwb2ludGVyLnN0YXJ0WSAtIHBvaW50ZXIyLnN0YXJ0WSk7XG4gICAgICAgIHZhciB4MiA9IE1hdGguYWJzKHBvaW50ZXIuZW5kWCAtIHBvaW50ZXIyLmVuZFgpO1xuICAgICAgICB2YXIgeTIgPSBNYXRoLmFicyhwb2ludGVyLmVuZFkgLSBwb2ludGVyMi5lbmRZKTtcbiAgICAgICAgdmFyIHoxID0gTWF0aC5zcXJ0KCh4MSAqIHgxKSArICh5MSAqIHkxKSk7XG4gICAgICAgIHZhciB6MiA9IE1hdGguc3FydCgoeDIgKiB4MikgKyAoeTIgKiB5MikpO1xuICAgICAgICB2YXIgcmF0aW8gPSAoejIgLSB6MSkgLyB6MTtcblxuICAgICAgICByYXRpb3MucHVzaChyYXRpbyk7XG4gICAgICB9KTtcbiAgICB9KTtcblxuICAgIHJhdGlvcy5zb3J0KGZ1bmN0aW9uIChhLCBiKSB7XG4gICAgICByZXR1cm4gTWF0aC5hYnMoYSkgPCBNYXRoLmFicyhiKTtcbiAgICB9KTtcblxuICAgIHJldHVybiByYXRpb3NbMF07XG4gIH1cblxuICBmdW5jdGlvbiBnZXRQb2ludGVyc0NlbnRlcihwb2ludGVycykge1xuICAgIHZhciBwYWdlWCA9IDA7XG4gICAgdmFyIHBhZ2VZID0gMDtcbiAgICB2YXIgY291bnQgPSAwO1xuXG4gICAgZWFjaChwb2ludGVycywgZnVuY3Rpb24gKHBvaW50ZXIpIHtcbiAgICAgIHBhZ2VYICs9IHBvaW50ZXIuc3RhcnRYO1xuICAgICAgcGFnZVkgKz0gcG9pbnRlci5zdGFydFk7XG4gICAgICBjb3VudCArPSAxO1xuICAgIH0pO1xuXG4gICAgcGFnZVggLz0gY291bnQ7XG4gICAgcGFnZVkgLz0gY291bnQ7XG5cbiAgICByZXR1cm4ge1xuICAgICAgcGFnZVg6IHBhZ2VYLFxuICAgICAgcGFnZVk6IHBhZ2VZXG4gICAgfTtcbiAgfVxuXG4gIGZ1bmN0aW9uIFZpZXdlcihlbGVtZW50LCBvcHRpb25zKSB7XG4gICAgdmFyIF90aGlzID0gdGhpcztcblxuICAgIF90aGlzLmVsZW1lbnQgPSBlbGVtZW50O1xuICAgIF90aGlzLm9wdGlvbnMgPSBleHRlbmQoe30sIFZpZXdlci5ERUZBVUxUUywgaXNQbGFpbk9iamVjdChvcHRpb25zKSAmJiBvcHRpb25zKTtcbiAgICBfdGhpcy5pc0ltZyA9IGZhbHNlO1xuICAgIF90aGlzLmlzQnVpbHQgPSBmYWxzZTtcbiAgICBfdGhpcy5pc1Nob3duID0gZmFsc2U7XG4gICAgX3RoaXMuaXNWaWV3ZWQgPSBmYWxzZTtcbiAgICBfdGhpcy5pc0Z1bGxlZCA9IGZhbHNlO1xuICAgIF90aGlzLmlzUGxheWVkID0gZmFsc2U7XG4gICAgX3RoaXMud2hlZWxpbmcgPSBmYWxzZTtcbiAgICBfdGhpcy5wbGF5aW5nID0gZmFsc2U7XG4gICAgX3RoaXMuZmFkaW5nID0gZmFsc2U7XG4gICAgX3RoaXMudG9vbHRpcGluZyA9IGZhbHNlO1xuICAgIF90aGlzLnRyYW5zaXRpb25pbmcgPSBmYWxzZTtcbiAgICBfdGhpcy5hY3Rpb24gPSBmYWxzZTtcbiAgICBfdGhpcy50YXJnZXQgPSBmYWxzZTtcbiAgICBfdGhpcy50aW1lb3V0ID0gZmFsc2U7XG4gICAgX3RoaXMuaW5kZXggPSAwO1xuICAgIF90aGlzLmxlbmd0aCA9IDA7XG4gICAgX3RoaXMucG9pbnRlcnMgPSB7fTtcbiAgICBfdGhpcy5pbml0KCk7XG4gIH1cblxuICBWaWV3ZXIucHJvdG90eXBlID0ge1xuICAgIGNvbnN0cnVjdG9yOiBWaWV3ZXIsXG5cbiAgICBpbml0OiBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgdmFyIG9wdGlvbnMgPSBfdGhpcy5vcHRpb25zO1xuICAgICAgdmFyIGVsZW1lbnQgPSBfdGhpcy5lbGVtZW50O1xuICAgICAgdmFyIGlzSW1nID0gZWxlbWVudC50YWdOYW1lLnRvTG93ZXJDYXNlKCkgPT09ICdpbWcnO1xuICAgICAgdmFyIGltYWdlcyA9IGlzSW1nID8gW2VsZW1lbnRdIDogZ2V0QnlUYWcoZWxlbWVudCwgJ2ltZycpO1xuICAgICAgdmFyIGxlbmd0aCA9IGltYWdlcy5sZW5ndGg7XG4gICAgICB2YXIgcmVhZHkgPSBwcm94eShfdGhpcy5yZWFkeSwgX3RoaXMpO1xuXG4gICAgICBpZiAoZ2V0RGF0YShlbGVtZW50LCBOQU1FU1BBQ0UpKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgc2V0RGF0YShlbGVtZW50LCBOQU1FU1BBQ0UsIF90aGlzKTtcblxuICAgICAgaWYgKCFsZW5ndGgpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBpZiAoaXNGdW5jdGlvbihvcHRpb25zLnJlYWR5KSkge1xuICAgICAgICBhZGRMaXN0ZW5lcihlbGVtZW50LCBFVkVOVF9SRUFEWSwgb3B0aW9ucy5yZWFkeSwgdHJ1ZSk7XG4gICAgICB9XG5cbiAgICAgIC8vIE92ZXJyaWRlIGB0cmFuc2l0aW9uYCBvcHRpb24gaWYgaXQgaXMgbm90IHN1cHBvcnRlZFxuICAgICAgaWYgKCFTVVBQT1JUX1RSQU5TSVRJT04pIHtcbiAgICAgICAgb3B0aW9ucy50cmFuc2l0aW9uID0gZmFsc2U7XG4gICAgICB9XG5cbiAgICAgIF90aGlzLmlzSW1nID0gaXNJbWc7XG4gICAgICBfdGhpcy5sZW5ndGggPSBsZW5ndGg7XG4gICAgICBfdGhpcy5jb3VudCA9IDA7XG4gICAgICBfdGhpcy5pbWFnZXMgPSBpbWFnZXM7XG4gICAgICBfdGhpcy5ib2R5ID0gZG9jdW1lbnQuYm9keTtcbiAgICAgIF90aGlzLnNjcm9sbGJhcldpZHRoID0gd2luZG93LmlubmVyV2lkdGggLSBkb2N1bWVudC5ib2R5LmNsaWVudFdpZHRoO1xuXG4gICAgICBpZiAob3B0aW9ucy5pbmxpbmUpIHtcbiAgICAgICAgYWRkTGlzdGVuZXIoZWxlbWVudCwgRVZFTlRfUkVBRFksIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICBfdGhpcy52aWV3KCk7XG4gICAgICAgIH0sIHRydWUpO1xuXG4gICAgICAgIGVhY2goaW1hZ2VzLCBmdW5jdGlvbiAoaW1hZ2UpIHtcbiAgICAgICAgICBpZiAoaW1hZ2UuY29tcGxldGUpIHtcbiAgICAgICAgICAgIHJlYWR5KCk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGFkZExpc3RlbmVyKGltYWdlLCBFVkVOVF9MT0FELCByZWFkeSwgdHJ1ZSk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGFkZExpc3RlbmVyKGVsZW1lbnQsIEVWRU5UX0NMSUNLLCAoX3RoaXMuX3N0YXJ0ID0gcHJveHkoX3RoaXMuc3RhcnQsIF90aGlzKSkpO1xuICAgICAgfVxuICAgIH0sXG5cbiAgICByZWFkeTogZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIF90aGlzID0gdGhpcztcblxuICAgICAgX3RoaXMuY291bnQrKztcblxuICAgICAgaWYgKF90aGlzLmNvdW50ID09PSBfdGhpcy5sZW5ndGgpIHtcbiAgICAgICAgX3RoaXMuYnVpbGQoKTtcbiAgICAgIH1cbiAgICB9LFxuXG4gICAgYnVpbGQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICB2YXIgb3B0aW9ucyA9IF90aGlzLm9wdGlvbnM7XG4gICAgICB2YXIgZWxlbWVudCA9IF90aGlzLmVsZW1lbnQ7XG4gICAgICB2YXIgdGVtcGxhdGU7XG4gICAgICB2YXIgcGFyZW50O1xuICAgICAgdmFyIHZpZXdlcjtcbiAgICAgIHZhciBidXR0b247XG4gICAgICB2YXIgdG9vbGJhcjtcbiAgICAgIHZhciBuYXZiYXI7XG4gICAgICB2YXIgdGl0bGU7XG4gICAgICB2YXIgcm90YXRlO1xuXG4gICAgICBpZiAoX3RoaXMuaXNCdWlsdCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIHRlbXBsYXRlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICB0ZW1wbGF0ZS5pbm5lckhUTUwgPSBWaWV3ZXIuVEVNUExBVEU7XG5cbiAgICAgIF90aGlzLnBhcmVudCA9IHBhcmVudCA9IGVsZW1lbnQucGFyZW50Tm9kZTtcbiAgICAgIF90aGlzLnZpZXdlciA9IHZpZXdlciA9IGdldEJ5Q2xhc3ModGVtcGxhdGUsICd2aWV3ZXItY29udGFpbmVyJylbMF07XG4gICAgICBfdGhpcy5jYW52YXMgPSBnZXRCeUNsYXNzKHZpZXdlciwgJ3ZpZXdlci1jYW52YXMnKVswXTtcbiAgICAgIF90aGlzLmZvb3RlciA9IGdldEJ5Q2xhc3Modmlld2VyLCAndmlld2VyLWZvb3RlcicpWzBdO1xuICAgICAgX3RoaXMudGl0bGUgPSB0aXRsZSA9IGdldEJ5Q2xhc3Modmlld2VyLCAndmlld2VyLXRpdGxlJylbMF07XG4gICAgICBfdGhpcy50b29sYmFyID0gdG9vbGJhciA9IGdldEJ5Q2xhc3Modmlld2VyLCAndmlld2VyLXRvb2xiYXInKVswXTtcbiAgICAgIF90aGlzLm5hdmJhciA9IG5hdmJhciA9IGdldEJ5Q2xhc3Modmlld2VyLCAndmlld2VyLW5hdmJhcicpWzBdO1xuICAgICAgX3RoaXMuYnV0dG9uID0gYnV0dG9uID0gZ2V0QnlDbGFzcyh2aWV3ZXIsICd2aWV3ZXItYnV0dG9uJylbMF07XG4gICAgICBfdGhpcy50b29sdGlwQm94ID0gZ2V0QnlDbGFzcyh2aWV3ZXIsICd2aWV3ZXItdG9vbHRpcCcpWzBdO1xuICAgICAgX3RoaXMucGxheWVyID0gZ2V0QnlDbGFzcyh2aWV3ZXIsICd2aWV3ZXItcGxheWVyJylbMF07XG4gICAgICBfdGhpcy5saXN0ID0gZ2V0QnlDbGFzcyh2aWV3ZXIsICd2aWV3ZXItbGlzdCcpWzBdO1xuXG4gICAgICBhZGRDbGFzcyh0aXRsZSwgIW9wdGlvbnMudGl0bGUgPyBDTEFTU19ISURFIDogZ2V0UmVzcG9uc2l2ZUNsYXNzKG9wdGlvbnMudGl0bGUpKTtcbiAgICAgIGFkZENsYXNzKHRvb2xiYXIsICFvcHRpb25zLnRvb2xiYXIgPyBDTEFTU19ISURFIDogZ2V0UmVzcG9uc2l2ZUNsYXNzKG9wdGlvbnMudG9vbGJhcikpO1xuICAgICAgYWRkQ2xhc3MobmF2YmFyLCAhb3B0aW9ucy5uYXZiYXIgPyBDTEFTU19ISURFIDogZ2V0UmVzcG9uc2l2ZUNsYXNzKG9wdGlvbnMubmF2YmFyKSk7XG4gICAgICB0b2dnbGVDbGFzcyhidXR0b24sIENMQVNTX0hJREUsICFvcHRpb25zLmJ1dHRvbik7XG5cbiAgICAgIHRvZ2dsZUNsYXNzKHRvb2xiYXIucXVlcnlTZWxlY3RvcignLnZpZXdlci1vbmUtdG8tb25lJyksIENMQVNTX0lOVklTSUJMRSwgIW9wdGlvbnMuem9vbWFibGUpO1xuICAgICAgdG9nZ2xlQ2xhc3ModG9vbGJhci5xdWVyeVNlbGVjdG9yQWxsKCdsaVtjbGFzcyo9XCJ6b29tXCJdJyksIENMQVNTX0lOVklTSUJMRSwgIW9wdGlvbnMuem9vbWFibGUpO1xuICAgICAgdG9nZ2xlQ2xhc3ModG9vbGJhci5xdWVyeVNlbGVjdG9yQWxsKCdsaVtjbGFzcyo9XCJmbGlwXCJdJyksIENMQVNTX0lOVklTSUJMRSwgIW9wdGlvbnMuc2NhbGFibGUpO1xuXG4gICAgICBpZiAoIW9wdGlvbnMucm90YXRhYmxlKSB7XG4gICAgICAgIHJvdGF0ZSA9IHRvb2xiYXIucXVlcnlTZWxlY3RvckFsbCgnbGlbY2xhc3MqPVwicm90YXRlXCJdJyk7XG4gICAgICAgIGFkZENsYXNzKHJvdGF0ZSwgQ0xBU1NfSU5WSVNJQkxFKTtcbiAgICAgICAgYXBwZW5kQ2hpbGQodG9vbGJhciwgcm90YXRlKTtcbiAgICAgIH1cblxuICAgICAgaWYgKG9wdGlvbnMuaW5saW5lKSB7XG4gICAgICAgIGFkZENsYXNzKGJ1dHRvbiwgQ0xBU1NfRlVMTFNDUkVFTik7XG4gICAgICAgIHNldFN0eWxlKHZpZXdlciwge1xuICAgICAgICAgIHpJbmRleDogb3B0aW9ucy56SW5kZXhJbmxpbmVcbiAgICAgICAgfSk7XG5cbiAgICAgICAgaWYgKGdldFN0eWxlKHBhcmVudCkucG9zaXRpb24gPT09ICdzdGF0aWMnKSB7XG4gICAgICAgICAgc2V0U3R5bGUocGFyZW50LCB7XG4gICAgICAgICAgICBwb3NpdGlvbjogJ3JlbGF0aXZlJ1xuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBhZGRDbGFzcyhidXR0b24sIENMQVNTX0NMT1NFKTtcbiAgICAgICAgYWRkQ2xhc3Modmlld2VyLCBDTEFTU19GSVhFRCk7XG4gICAgICAgIGFkZENsYXNzKHZpZXdlciwgQ0xBU1NfRkFERSk7XG4gICAgICAgIGFkZENsYXNzKHZpZXdlciwgQ0xBU1NfSElERSk7XG5cbiAgICAgICAgc2V0U3R5bGUodmlld2VyLCB7XG4gICAgICAgICAgekluZGV4OiBvcHRpb25zLnpJbmRleFxuICAgICAgICB9KTtcbiAgICAgIH1cblxuICAgICAgLy8gSW5zZXJ0cyB0aGUgdmlld2VyIGFmdGVyIHRvIHRoZSBjdXJyZW50IGVsZW1lbnRcbiAgICAgIHBhcmVudC5pbnNlcnRCZWZvcmUodmlld2VyLCBlbGVtZW50Lm5leHRTaWJsaW5nKTtcblxuICAgICAgaWYgKG9wdGlvbnMuaW5saW5lKSB7XG4gICAgICAgIF90aGlzLnJlbmRlcigpO1xuICAgICAgICBfdGhpcy5iaW5kKCk7XG4gICAgICAgIF90aGlzLmlzU2hvd24gPSB0cnVlO1xuICAgICAgfVxuXG4gICAgICBfdGhpcy5pc0J1aWx0ID0gdHJ1ZTtcblxuICAgICAgZGlzcGF0Y2hFdmVudChlbGVtZW50LCBFVkVOVF9SRUFEWSk7XG4gICAgfSxcblxuICAgIHVuYnVpbGQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgICAgIGlmICghX3RoaXMuaXNCdWlsdCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIF90aGlzLmlzQnVpbHQgPSBmYWxzZTtcbiAgICAgIHJlbW92ZUNoaWxkKF90aGlzLnZpZXdlcik7XG4gICAgfSxcblxuICAgIGJpbmQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICB2YXIgb3B0aW9ucyA9IF90aGlzLm9wdGlvbnM7XG4gICAgICB2YXIgZWxlbWVudCA9IF90aGlzLmVsZW1lbnQ7XG4gICAgICB2YXIgdmlld2VyID0gX3RoaXMudmlld2VyO1xuXG4gICAgICBpZiAoaXNGdW5jdGlvbihvcHRpb25zLnZpZXcpKSB7XG4gICAgICAgIGFkZExpc3RlbmVyKGVsZW1lbnQsIEVWRU5UX1ZJRVcsIG9wdGlvbnMudmlldyk7XG4gICAgICB9XG5cbiAgICAgIGlmIChpc0Z1bmN0aW9uKG9wdGlvbnMudmlld2VkKSkge1xuICAgICAgICBhZGRMaXN0ZW5lcihlbGVtZW50LCBFVkVOVF9WSUVXRUQsIG9wdGlvbnMudmlld2VkKTtcbiAgICAgIH1cblxuICAgICAgYWRkTGlzdGVuZXIodmlld2VyLCBFVkVOVF9DTElDSywgKF90aGlzLl9jbGljayA9IHByb3h5KF90aGlzLmNsaWNrLCBfdGhpcykpKTtcbiAgICAgIGFkZExpc3RlbmVyKHZpZXdlciwgRVZFTlRfV0hFRUwsIChfdGhpcy5fd2hlZWwgPSBwcm94eShfdGhpcy53aGVlbCwgX3RoaXMpKSk7XG4gICAgICBhZGRMaXN0ZW5lcihfdGhpcy5jYW52YXMsIEVWRU5UX01PVVNFRE9XTiwgKF90aGlzLl9tb3VzZWRvd24gPSBwcm94eShfdGhpcy5tb3VzZWRvd24sIF90aGlzKSkpO1xuICAgICAgYWRkTGlzdGVuZXIoZG9jdW1lbnQsIEVWRU5UX01PVVNFTU9WRSwgKF90aGlzLl9tb3VzZW1vdmUgPSBwcm94eShfdGhpcy5tb3VzZW1vdmUsIF90aGlzKSkpO1xuICAgICAgYWRkTGlzdGVuZXIoZG9jdW1lbnQsIEVWRU5UX01PVVNFVVAsIChfdGhpcy5fbW91c2V1cCA9IHByb3h5KF90aGlzLm1vdXNldXAsIF90aGlzKSkpO1xuICAgICAgYWRkTGlzdGVuZXIoZG9jdW1lbnQsIEVWRU5UX0tFWURPV04sIChfdGhpcy5fa2V5ZG93biA9IHByb3h5KF90aGlzLmtleWRvd24sIF90aGlzKSkpO1xuICAgICAgYWRkTGlzdGVuZXIod2luZG93LCBFVkVOVF9SRVNJWkUsIChfdGhpcy5fcmVzaXplID0gcHJveHkoX3RoaXMucmVzaXplLCBfdGhpcykpKTtcbiAgICB9LFxuXG4gICAgdW5iaW5kOiBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgdmFyIG9wdGlvbnMgPSBfdGhpcy5vcHRpb25zO1xuICAgICAgdmFyIGVsZW1lbnQgPSBfdGhpcy5lbGVtZW50O1xuICAgICAgdmFyIHZpZXdlciA9IF90aGlzLnZpZXdlcjtcblxuICAgICAgaWYgKGlzRnVuY3Rpb24ob3B0aW9ucy52aWV3KSkge1xuICAgICAgICByZW1vdmVMaXN0ZW5lcihlbGVtZW50LCBFVkVOVF9WSUVXLCBvcHRpb25zLnZpZXcpO1xuICAgICAgfVxuXG4gICAgICBpZiAoaXNGdW5jdGlvbihvcHRpb25zLnZpZXdlZCkpIHtcbiAgICAgICAgcmVtb3ZlTGlzdGVuZXIoZWxlbWVudCwgRVZFTlRfVklFV0VELCBvcHRpb25zLnZpZXdlZCk7XG4gICAgICB9XG5cbiAgICAgIHJlbW92ZUxpc3RlbmVyKHZpZXdlciwgRVZFTlRfQ0xJQ0ssIF90aGlzLl9jbGljayk7XG4gICAgICByZW1vdmVMaXN0ZW5lcih2aWV3ZXIsIEVWRU5UX1dIRUVMLCBfdGhpcy5fd2hlZWwpO1xuICAgICAgcmVtb3ZlTGlzdGVuZXIoX3RoaXMuY2FudmFzLCBFVkVOVF9NT1VTRURPV04sIF90aGlzLl9tb3VzZWRvd24pO1xuICAgICAgcmVtb3ZlTGlzdGVuZXIoZG9jdW1lbnQsIEVWRU5UX01PVVNFTU9WRSwgX3RoaXMuX21vdXNlbW92ZSk7XG4gICAgICByZW1vdmVMaXN0ZW5lcihkb2N1bWVudCwgRVZFTlRfTU9VU0VVUCwgX3RoaXMuX21vdXNldXApO1xuICAgICAgcmVtb3ZlTGlzdGVuZXIoZG9jdW1lbnQsIEVWRU5UX0tFWURPV04sIF90aGlzLl9rZXlkb3duKTtcbiAgICAgIHJlbW92ZUxpc3RlbmVyKHdpbmRvdywgRVZFTlRfUkVTSVpFLCBfdGhpcy5fcmVzaXplKTtcbiAgICB9LFxuXG4gICAgcmVuZGVyOiBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gICAgICBfdGhpcy5pbml0Q29udGFpbmVyKCk7XG4gICAgICBfdGhpcy5pbml0Vmlld2VyKCk7XG4gICAgICBfdGhpcy5pbml0TGlzdCgpO1xuICAgICAgX3RoaXMucmVuZGVyVmlld2VyKCk7XG4gICAgfSxcblxuICAgIGluaXRDb250YWluZXI6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgICAgIF90aGlzLmNvbnRhaW5lckRhdGEgPSB7XG4gICAgICAgIHdpZHRoOiB3aW5kb3cuaW5uZXJXaWR0aCxcbiAgICAgICAgaGVpZ2h0OiB3aW5kb3cuaW5uZXJIZWlnaHRcbiAgICAgIH07XG4gICAgfSxcblxuICAgIGluaXRWaWV3ZXI6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICB2YXIgb3B0aW9ucyA9IF90aGlzLm9wdGlvbnM7XG4gICAgICB2YXIgcGFyZW50ID0gX3RoaXMucGFyZW50O1xuICAgICAgdmFyIHZpZXdlckRhdGE7XG5cbiAgICAgIGlmIChvcHRpb25zLmlubGluZSkge1xuICAgICAgICBfdGhpcy5wYXJlbnREYXRhID0gdmlld2VyRGF0YSA9IHtcbiAgICAgICAgICB3aWR0aDogbWF4KHBhcmVudC5vZmZzZXRXaWR0aCwgb3B0aW9ucy5taW5XaWR0aCksXG4gICAgICAgICAgaGVpZ2h0OiBtYXgocGFyZW50Lm9mZnNldEhlaWdodCwgb3B0aW9ucy5taW5IZWlnaHQpXG4gICAgICAgIH07XG4gICAgICB9XG5cbiAgICAgIGlmIChfdGhpcy5pc0Z1bGxlZCB8fCAhdmlld2VyRGF0YSkge1xuICAgICAgICB2aWV3ZXJEYXRhID0gX3RoaXMuY29udGFpbmVyRGF0YTtcbiAgICAgIH1cblxuICAgICAgX3RoaXMudmlld2VyRGF0YSA9IGV4dGVuZCh7fSwgdmlld2VyRGF0YSk7XG4gICAgfSxcblxuICAgIHJlbmRlclZpZXdlcjogZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIF90aGlzID0gdGhpcztcblxuICAgICAgaWYgKF90aGlzLm9wdGlvbnMuaW5saW5lICYmICFfdGhpcy5pc0Z1bGxlZCkge1xuICAgICAgICBzZXRTdHlsZShfdGhpcy52aWV3ZXIsIF90aGlzLnZpZXdlckRhdGEpO1xuICAgICAgfVxuICAgIH0sXG5cbiAgICBpbml0TGlzdDogZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgIHZhciBvcHRpb25zID0gX3RoaXMub3B0aW9ucztcbiAgICAgIHZhciBlbGVtZW50ID0gX3RoaXMuZWxlbWVudDtcbiAgICAgIHZhciBsaXN0ID0gX3RoaXMubGlzdDtcbiAgICAgIHZhciBpdGVtcyA9IFtdO1xuXG4gICAgICBlYWNoKF90aGlzLmltYWdlcywgZnVuY3Rpb24gKGltYWdlLCBpKSB7XG4gICAgICAgIHZhciBzcmMgPSBpbWFnZS5zcmM7XG4gICAgICAgIHZhciBhbHQgPSBpbWFnZS5hbHQgfHwgZ2V0SW1hZ2VOYW1lKHNyYyk7XG4gICAgICAgIHZhciB1cmwgPSBvcHRpb25zLnVybDtcblxuICAgICAgICBpZiAoIXNyYykge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChpc1N0cmluZyh1cmwpKSB7XG4gICAgICAgICAgdXJsID0gaW1hZ2UuZ2V0QXR0cmlidXRlKHVybCk7XG4gICAgICAgIH0gZWxzZSBpZiAoaXNGdW5jdGlvbih1cmwpKSB7XG4gICAgICAgICAgdXJsID0gdXJsLmNhbGwoaW1hZ2UsIGltYWdlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGl0ZW1zLnB1c2goXG4gICAgICAgICAgJzxsaT4nICtcbiAgICAgICAgICAgICc8aW1nJyArXG4gICAgICAgICAgICAgICcgc3JjPVwiJyArIHNyYyArICdcIicgK1xuICAgICAgICAgICAgICAnIGRhdGEtYWN0aW9uPVwidmlld1wiJyArXG4gICAgICAgICAgICAgICcgZGF0YS1pbmRleD1cIicgKyAgaSArICdcIicgK1xuICAgICAgICAgICAgICAnIGRhdGEtb3JpZ2luYWwtdXJsPVwiJyArICAodXJsIHx8IHNyYykgKyAnXCInICtcbiAgICAgICAgICAgICAgJyBhbHQ9XCInICsgIGFsdCArICdcIicgK1xuICAgICAgICAgICAgJz4nICtcbiAgICAgICAgICAnPC9saT4nXG4gICAgICAgICk7XG4gICAgICB9KTtcblxuICAgICAgbGlzdC5pbm5lckhUTUwgPSBpdGVtcy5qb2luKCcnKTtcblxuICAgICAgZWFjaChnZXRCeVRhZyhsaXN0LCAnaW1nJyksIGZ1bmN0aW9uIChpbWFnZSkge1xuICAgICAgICBzZXREYXRhKGltYWdlLCAnZmlsbGVkJywgdHJ1ZSk7XG4gICAgICAgIGFkZExpc3RlbmVyKGltYWdlLCBFVkVOVF9MT0FELCBwcm94eShfdGhpcy5sb2FkSW1hZ2UsIF90aGlzKSwgdHJ1ZSk7XG4gICAgICB9KTtcblxuICAgICAgX3RoaXMuaXRlbXMgPSBnZXRCeVRhZyhsaXN0LCAnbGknKTtcblxuICAgICAgaWYgKG9wdGlvbnMudHJhbnNpdGlvbikge1xuICAgICAgICBhZGRMaXN0ZW5lcihlbGVtZW50LCBFVkVOVF9WSUVXRUQsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICBhZGRDbGFzcyhsaXN0LCBDTEFTU19UUkFOU0lUSU9OKTtcbiAgICAgICAgfSwgdHJ1ZSk7XG4gICAgICB9XG4gICAgfSxcblxuICAgIHJlbmRlckxpc3Q6IGZ1bmN0aW9uIChpbmRleCkge1xuICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgIHZhciBpID0gaW5kZXggfHwgX3RoaXMuaW5kZXg7XG4gICAgICB2YXIgd2lkdGggPSBfdGhpcy5pdGVtc1tpXS5vZmZzZXRXaWR0aCB8fCAzMDtcbiAgICAgIHZhciBvdXRlcldpZHRoID0gd2lkdGggKyAxOyAvLyAxIHBpeGVsIG9mIGBtYXJnaW4tbGVmdGAgd2lkdGhcblxuICAgICAgLy8gUGxhY2UgdGhlIGFjdGl2ZSBpdGVtIGluIHRoZSBjZW50ZXIgb2YgdGhlIHNjcmVlblxuICAgICAgc2V0U3R5bGUoX3RoaXMubGlzdCwge1xuICAgICAgICB3aWR0aDogb3V0ZXJXaWR0aCAqIF90aGlzLmxlbmd0aCxcbiAgICAgICAgbWFyZ2luTGVmdDogKF90aGlzLnZpZXdlckRhdGEud2lkdGggLSB3aWR0aCkgLyAyIC0gb3V0ZXJXaWR0aCAqIGlcbiAgICAgIH0pO1xuICAgIH0sXG5cbiAgICByZXNldExpc3Q6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgICAgIGVtcHR5KF90aGlzLmxpc3QpO1xuICAgICAgcmVtb3ZlQ2xhc3MoX3RoaXMubGlzdCwgQ0xBU1NfVFJBTlNJVElPTik7XG4gICAgICBzZXRTdHlsZSh7XG4gICAgICAgIG1hcmdpbkxlZnQ6IDBcbiAgICAgIH0pO1xuICAgIH0sXG5cbiAgICBpbml0SW1hZ2U6IGZ1bmN0aW9uIChjYWxsYmFjaykge1xuICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgIHZhciBvcHRpb25zID0gX3RoaXMub3B0aW9ucztcbiAgICAgIHZhciBpbWFnZSA9IF90aGlzLmltYWdlO1xuICAgICAgdmFyIHZpZXdlckRhdGEgPSBfdGhpcy52aWV3ZXJEYXRhO1xuICAgICAgdmFyIGZvb3RlckhlaWdodCA9IF90aGlzLmZvb3Rlci5vZmZzZXRIZWlnaHQ7XG4gICAgICB2YXIgdmlld2VyV2lkdGggPSB2aWV3ZXJEYXRhLndpZHRoO1xuICAgICAgdmFyIHZpZXdlckhlaWdodCA9IG1heCh2aWV3ZXJEYXRhLmhlaWdodCAtIGZvb3RlckhlaWdodCwgZm9vdGVySGVpZ2h0KTtcbiAgICAgIHZhciBvbGRJbWFnZURhdGEgPSBfdGhpcy5pbWFnZURhdGEgfHwge307XG5cbiAgICAgIGdldEltYWdlU2l6ZShpbWFnZSwgZnVuY3Rpb24gKG5hdHVyYWxXaWR0aCwgbmF0dXJhbEhlaWdodCkge1xuICAgICAgICB2YXIgYXNwZWN0UmF0aW8gPSBuYXR1cmFsV2lkdGggLyBuYXR1cmFsSGVpZ2h0O1xuICAgICAgICB2YXIgd2lkdGggPSB2aWV3ZXJXaWR0aDtcbiAgICAgICAgdmFyIGhlaWdodCA9IHZpZXdlckhlaWdodDtcbiAgICAgICAgdmFyIGluaXRpYWxJbWFnZURhdGE7XG4gICAgICAgIHZhciBpbWFnZURhdGE7XG5cbiAgICAgICAgaWYgKHZpZXdlckhlaWdodCAqIGFzcGVjdFJhdGlvID4gdmlld2VyV2lkdGgpIHtcbiAgICAgICAgICBoZWlnaHQgPSB2aWV3ZXJXaWR0aCAvIGFzcGVjdFJhdGlvO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHdpZHRoID0gdmlld2VySGVpZ2h0ICogYXNwZWN0UmF0aW87XG4gICAgICAgIH1cblxuICAgICAgICB3aWR0aCA9IG1pbih3aWR0aCAqIDAuOSwgbmF0dXJhbFdpZHRoKTtcbiAgICAgICAgaGVpZ2h0ID0gbWluKGhlaWdodCAqIDAuOSwgbmF0dXJhbEhlaWdodCk7XG5cbiAgICAgICAgaW1hZ2VEYXRhID0ge1xuICAgICAgICAgIG5hdHVyYWxXaWR0aDogbmF0dXJhbFdpZHRoLFxuICAgICAgICAgIG5hdHVyYWxIZWlnaHQ6IG5hdHVyYWxIZWlnaHQsXG4gICAgICAgICAgYXNwZWN0UmF0aW86IGFzcGVjdFJhdGlvLFxuICAgICAgICAgIHJhdGlvOiB3aWR0aCAvIG5hdHVyYWxXaWR0aCxcbiAgICAgICAgICB3aWR0aDogd2lkdGgsXG4gICAgICAgICAgaGVpZ2h0OiBoZWlnaHQsXG4gICAgICAgICAgbGVmdDogKHZpZXdlcldpZHRoIC0gd2lkdGgpIC8gMixcbiAgICAgICAgICB0b3A6ICh2aWV3ZXJIZWlnaHQgLSBoZWlnaHQpIC8gMlxuICAgICAgICB9O1xuXG4gICAgICAgIGluaXRpYWxJbWFnZURhdGEgPSBleHRlbmQoe30sIGltYWdlRGF0YSk7XG5cbiAgICAgICAgaWYgKG9wdGlvbnMucm90YXRhYmxlKSB7XG4gICAgICAgICAgaW1hZ2VEYXRhLnJvdGF0ZSA9IG9sZEltYWdlRGF0YS5yb3RhdGUgfHwgMDtcbiAgICAgICAgICBpbml0aWFsSW1hZ2VEYXRhLnJvdGF0ZSA9IDA7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAob3B0aW9ucy5zY2FsYWJsZSkge1xuICAgICAgICAgIGltYWdlRGF0YS5zY2FsZVggPSBvbGRJbWFnZURhdGEuc2NhbGVYIHx8IDE7XG4gICAgICAgICAgaW1hZ2VEYXRhLnNjYWxlWSA9IG9sZEltYWdlRGF0YS5zY2FsZVkgfHwgMTtcbiAgICAgICAgICBpbml0aWFsSW1hZ2VEYXRhLnNjYWxlWCA9IDE7XG4gICAgICAgICAgaW5pdGlhbEltYWdlRGF0YS5zY2FsZVkgPSAxO1xuICAgICAgICB9XG5cbiAgICAgICAgX3RoaXMuaW1hZ2VEYXRhID0gaW1hZ2VEYXRhO1xuICAgICAgICBfdGhpcy5pbml0aWFsSW1hZ2VEYXRhID0gaW5pdGlhbEltYWdlRGF0YTtcblxuICAgICAgICBpZiAoaXNGdW5jdGlvbihjYWxsYmFjaykpIHtcbiAgICAgICAgICBjYWxsYmFjaygpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9LFxuXG4gICAgcmVuZGVySW1hZ2U6IGZ1bmN0aW9uIChjYWxsYmFjaykge1xuICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgIHZhciBpbWFnZSA9IF90aGlzLmltYWdlO1xuICAgICAgdmFyIGltYWdlRGF0YSA9IF90aGlzLmltYWdlRGF0YTtcbiAgICAgIHZhciB0cmFuc2Zvcm0gPSBnZXRUcmFuc2Zvcm0oaW1hZ2VEYXRhKTtcblxuICAgICAgc2V0U3R5bGUoaW1hZ2UsIHtcbiAgICAgICAgd2lkdGg6IGltYWdlRGF0YS53aWR0aCxcbiAgICAgICAgaGVpZ2h0OiBpbWFnZURhdGEuaGVpZ2h0LFxuICAgICAgICBtYXJnaW5MZWZ0OiBpbWFnZURhdGEubGVmdCxcbiAgICAgICAgbWFyZ2luVG9wOiBpbWFnZURhdGEudG9wLFxuICAgICAgICBXZWJraXRUcmFuc2Zvcm06IHRyYW5zZm9ybSxcbiAgICAgICAgbXNUcmFuc2Zvcm06IHRyYW5zZm9ybSxcbiAgICAgICAgdHJhbnNmb3JtOiB0cmFuc2Zvcm1cbiAgICAgIH0pO1xuXG4gICAgICBpZiAoaXNGdW5jdGlvbihjYWxsYmFjaykpIHtcbiAgICAgICAgaWYgKF90aGlzLnRyYW5zaXRpb25pbmcpIHtcbiAgICAgICAgICBhZGRMaXN0ZW5lcihpbWFnZSwgRVZFTlRfVFJBTlNJVElPTkVORCwgY2FsbGJhY2ssIHRydWUpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGNhbGxiYWNrKCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LFxuXG4gICAgcmVzZXRJbWFnZTogZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIF90aGlzID0gdGhpcztcblxuICAgICAgLy8gdGhpcy5pbWFnZSBvbmx5IGRlZmluZWQgYWZ0ZXIgdmlld2VkXG4gICAgICBpZiAoX3RoaXMuaW1hZ2UpIHtcbiAgICAgICAgcmVtb3ZlQ2hpbGQoX3RoaXMuaW1hZ2UpO1xuICAgICAgICBfdGhpcy5pbWFnZSA9IG51bGw7XG4gICAgICB9XG4gICAgfSxcblxuICAgIHN0YXJ0OiBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICB2YXIgZSA9IGdldEV2ZW50KGV2ZW50KTtcbiAgICAgIHZhciB0YXJnZXQgPSBlLnRhcmdldDtcblxuICAgICAgaWYgKHRhcmdldC50YWdOYW1lLnRvTG93ZXJDYXNlKCkgPT09ICdpbWcnKSB7XG4gICAgICAgIF90aGlzLnRhcmdldCA9IHRhcmdldDtcbiAgICAgICAgX3RoaXMuc2hvdygpO1xuICAgICAgfVxuICAgIH0sXG5cbiAgICBjbGljazogZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgdmFyIGUgPSBnZXRFdmVudChldmVudCk7XG4gICAgICB2YXIgdGFyZ2V0ID0gZS50YXJnZXQ7XG4gICAgICB2YXIgYWN0aW9uID0gZ2V0RGF0YSh0YXJnZXQsICdhY3Rpb24nKTtcbiAgICAgIHZhciBpbWFnZURhdGEgPSBfdGhpcy5pbWFnZURhdGE7XG5cbiAgICAgIHN3aXRjaCAoYWN0aW9uKSB7XG4gICAgICAgIGNhc2UgJ21peCc6XG4gICAgICAgICAgaWYgKF90aGlzLmlzUGxheWVkKSB7XG4gICAgICAgICAgICBfdGhpcy5zdG9wKCk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGlmIChfdGhpcy5vcHRpb25zLmlubGluZSkge1xuICAgICAgICAgICAgICBpZiAoX3RoaXMuaXNGdWxsZWQpIHtcbiAgICAgICAgICAgICAgICBfdGhpcy5leGl0KCk7XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgX3RoaXMuZnVsbCgpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBfdGhpcy5oaWRlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgY2FzZSAndmlldyc6XG4gICAgICAgICAgX3RoaXMudmlldyhnZXREYXRhKHRhcmdldCwgJ2luZGV4JykpO1xuICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgIGNhc2UgJ3pvb20taW4nOlxuICAgICAgICAgIF90aGlzLnpvb20oMC4xLCB0cnVlKTtcbiAgICAgICAgICBicmVhaztcblxuICAgICAgICBjYXNlICd6b29tLW91dCc6XG4gICAgICAgICAgX3RoaXMuem9vbSgtMC4xLCB0cnVlKTtcbiAgICAgICAgICBicmVhaztcblxuICAgICAgICBjYXNlICdvbmUtdG8tb25lJzpcbiAgICAgICAgICBfdGhpcy50b2dnbGUoKTtcbiAgICAgICAgICBicmVhaztcblxuICAgICAgICBjYXNlICdyZXNldCc6XG4gICAgICAgICAgX3RoaXMucmVzZXQoKTtcbiAgICAgICAgICBicmVhaztcblxuICAgICAgICBjYXNlICdwcmV2JzpcbiAgICAgICAgICBfdGhpcy5wcmV2KCk7XG4gICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgY2FzZSAncGxheSc6XG4gICAgICAgICAgX3RoaXMucGxheSgpO1xuICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgIGNhc2UgJ25leHQnOlxuICAgICAgICAgIF90aGlzLm5leHQoKTtcbiAgICAgICAgICBicmVhaztcblxuICAgICAgICBjYXNlICdyb3RhdGUtbGVmdCc6XG4gICAgICAgICAgX3RoaXMucm90YXRlKC05MCk7XG4gICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgY2FzZSAncm90YXRlLXJpZ2h0JzpcbiAgICAgICAgICBfdGhpcy5yb3RhdGUoOTApO1xuICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgIGNhc2UgJ2ZsaXAtaG9yaXpvbnRhbCc6XG4gICAgICAgICAgX3RoaXMuc2NhbGVYKC1pbWFnZURhdGEuc2NhbGVYIHx8IC0xKTtcbiAgICAgICAgICBicmVhaztcblxuICAgICAgICBjYXNlICdmbGlwLXZlcnRpY2FsJzpcbiAgICAgICAgICBfdGhpcy5zY2FsZVkoLWltYWdlRGF0YS5zY2FsZVkgfHwgLTEpO1xuICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgaWYgKF90aGlzLmlzUGxheWVkKSB7XG4gICAgICAgICAgICBfdGhpcy5zdG9wKCk7XG4gICAgICAgICAgfVxuICAgICAgfVxuICAgIH0sXG5cbiAgICBsb2FkOiBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgdmFyIG9wdGlvbnMgPSBfdGhpcy5vcHRpb25zO1xuICAgICAgdmFyIGltYWdlID0gX3RoaXMuaW1hZ2U7XG4gICAgICB2YXIgaW5kZXggPSBfdGhpcy5pbmRleDtcbiAgICAgIHZhciB2aWV3ZXJEYXRhID0gX3RoaXMudmlld2VyRGF0YTtcblxuICAgICAgaWYgKF90aGlzLnRpbWVvdXQpIHtcbiAgICAgICAgY2xlYXJUaW1lb3V0KF90aGlzLnRpbWVvdXQpO1xuICAgICAgICBfdGhpcy50aW1lb3V0ID0gZmFsc2U7XG4gICAgICB9XG5cbiAgICAgIHJlbW92ZUNsYXNzKGltYWdlLCBDTEFTU19JTlZJU0lCTEUpO1xuXG4gICAgICBpbWFnZS5zdHlsZS5jc3NUZXh0ID0gKFxuICAgICAgICAnd2lkdGg6MDsnICtcbiAgICAgICAgJ2hlaWdodDowOycgK1xuICAgICAgICAnbWFyZ2luLWxlZnQ6JyArIHZpZXdlckRhdGEud2lkdGggLyAyICsgJ3B4OycgK1xuICAgICAgICAnbWFyZ2luLXRvcDonICsgdmlld2VyRGF0YS5oZWlnaHQgLyAyICsgJ3B4OycgK1xuICAgICAgICAnbWF4LXdpZHRoOm5vbmUhaW1wb3J0YW50OycgK1xuICAgICAgICAndmlzaWJpbGl0eTp2aXNpYmxlOydcbiAgICAgICk7XG5cbiAgICAgIF90aGlzLmluaXRJbWFnZShmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRvZ2dsZUNsYXNzKGltYWdlLCBDTEFTU19UUkFOU0lUSU9OLCBvcHRpb25zLnRyYW5zaXRpb24pO1xuICAgICAgICB0b2dnbGVDbGFzcyhpbWFnZSwgQ0xBU1NfTU9WRSwgb3B0aW9ucy5tb3ZhYmxlKTtcblxuICAgICAgICBfdGhpcy5yZW5kZXJJbWFnZShmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgX3RoaXMuaXNWaWV3ZWQgPSB0cnVlO1xuICAgICAgICAgIGRpc3BhdGNoRXZlbnQoX3RoaXMuZWxlbWVudCwgRVZFTlRfVklFV0VELCB7XG4gICAgICAgICAgICBvcmlnaW5hbEltYWdlOiBfdGhpcy5pbWFnZXNbaW5kZXhdLFxuICAgICAgICAgICAgaW5kZXg6IGluZGV4LFxuICAgICAgICAgICAgaW1hZ2U6IGltYWdlXG4gICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgfSxcblxuICAgIGxvYWRJbWFnZTogZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICB2YXIgZSA9IGdldEV2ZW50KGV2ZW50KTtcbiAgICAgIHZhciBpbWFnZSA9IGUudGFyZ2V0O1xuICAgICAgdmFyIHBhcmVudCA9IGltYWdlLnBhcmVudE5vZGU7XG4gICAgICB2YXIgcGFyZW50V2lkdGggPSBwYXJlbnQub2Zmc2V0V2lkdGggfHwgMzA7XG4gICAgICB2YXIgcGFyZW50SGVpZ2h0ID0gcGFyZW50Lm9mZnNldEhlaWdodCB8fCA1MDtcbiAgICAgIHZhciBmaWxsZWQgPSAhIWdldERhdGEoaW1hZ2UsICdmaWxsZWQnKTtcblxuICAgICAgZ2V0SW1hZ2VTaXplKGltYWdlLCBmdW5jdGlvbiAobmF0dXJhbFdpZHRoLCBuYXR1cmFsSGVpZ2h0KSB7XG4gICAgICAgIHZhciBhc3BlY3RSYXRpbyA9IG5hdHVyYWxXaWR0aCAvIG5hdHVyYWxIZWlnaHQ7XG4gICAgICAgIHZhciB3aWR0aCA9IHBhcmVudFdpZHRoO1xuICAgICAgICB2YXIgaGVpZ2h0ID0gcGFyZW50SGVpZ2h0O1xuXG4gICAgICAgIGlmIChwYXJlbnRIZWlnaHQgKiBhc3BlY3RSYXRpbyA+IHBhcmVudFdpZHRoKSB7XG4gICAgICAgICAgaWYgKGZpbGxlZCkge1xuICAgICAgICAgICAgd2lkdGggPSBwYXJlbnRIZWlnaHQgKiBhc3BlY3RSYXRpbztcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaGVpZ2h0ID0gcGFyZW50V2lkdGggLyBhc3BlY3RSYXRpbztcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgaWYgKGZpbGxlZCkge1xuICAgICAgICAgICAgaGVpZ2h0ID0gcGFyZW50V2lkdGggLyBhc3BlY3RSYXRpbztcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgd2lkdGggPSBwYXJlbnRIZWlnaHQgKiBhc3BlY3RSYXRpbztcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBzZXRTdHlsZShpbWFnZSwge1xuICAgICAgICAgIHdpZHRoOiB3aWR0aCxcbiAgICAgICAgICBoZWlnaHQ6IGhlaWdodCxcbiAgICAgICAgICBtYXJnaW5MZWZ0OiAocGFyZW50V2lkdGggLSB3aWR0aCkgLyAyLFxuICAgICAgICAgIG1hcmdpblRvcDogKHBhcmVudEhlaWdodCAtIGhlaWdodCkgLyAyXG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgfSxcblxuICAgIHJlc2l6ZTogZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIF90aGlzID0gdGhpcztcblxuICAgICAgX3RoaXMuaW5pdENvbnRhaW5lcigpO1xuICAgICAgX3RoaXMuaW5pdFZpZXdlcigpO1xuICAgICAgX3RoaXMucmVuZGVyVmlld2VyKCk7XG4gICAgICBfdGhpcy5yZW5kZXJMaXN0KCk7XG5cbiAgICAgIGlmIChfdGhpcy5pc1ZpZXdlZCkge1xuICAgICAgICBfdGhpcy5pbml0SW1hZ2UoZnVuY3Rpb24gKCkge1xuICAgICAgICAgIF90aGlzLnJlbmRlckltYWdlKCk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICBpZiAoX3RoaXMuaXNQbGF5ZWQpIHtcbiAgICAgICAgZWFjaChnZXRCeVRhZyhfdGhpcy5wbGF5ZXIsICdpbWcnKSwgZnVuY3Rpb24gKGltYWdlKSB7XG4gICAgICAgICAgYWRkTGlzdGVuZXIoaW1hZ2UsIEVWRU5UX0xPQUQsIHByb3h5KF90aGlzLmxvYWRJbWFnZSwgX3RoaXMpLCB0cnVlKTtcbiAgICAgICAgICBkaXNwYXRjaEV2ZW50KGltYWdlLCBFVkVOVF9MT0FEKTtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfSxcblxuICAgIHdoZWVsOiBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICB2YXIgZSA9IGdldEV2ZW50KGV2ZW50KTtcbiAgICAgIHZhciByYXRpbyA9IE51bWJlcihfdGhpcy5vcHRpb25zLnpvb21SYXRpbykgfHwgMC4xO1xuICAgICAgdmFyIGRlbHRhID0gMTtcblxuICAgICAgaWYgKCFfdGhpcy5pc1ZpZXdlZCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIHByZXZlbnREZWZhdWx0KGUpO1xuXG4gICAgICAvLyBMaW1pdCB3aGVlbCBzcGVlZCB0byBwcmV2ZW50IHpvb20gdG9vIGZhc3RcbiAgICAgIGlmIChfdGhpcy53aGVlbGluZykge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIF90aGlzLndoZWVsaW5nID0gdHJ1ZTtcblxuICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgIF90aGlzLndoZWVsaW5nID0gZmFsc2U7XG4gICAgICB9LCA1MCk7XG5cbiAgICAgIGlmIChlLmRlbHRhWSkge1xuICAgICAgICBkZWx0YSA9IGUuZGVsdGFZID4gMCA/IDEgOiAtMTtcbiAgICAgIH0gZWxzZSBpZiAoZS53aGVlbERlbHRhKSB7XG4gICAgICAgIGRlbHRhID0gLWUud2hlZWxEZWx0YSAvIDEyMDtcbiAgICAgIH0gZWxzZSBpZiAoZS5kZXRhaWwpIHtcbiAgICAgICAgZGVsdGEgPSBlLmRldGFpbCA+IDAgPyAxIDogLTE7XG4gICAgICB9XG5cbiAgICAgIF90aGlzLnpvb20oLWRlbHRhICogcmF0aW8sIHRydWUsIGUpO1xuICAgIH0sXG5cbiAgICBrZXlkb3duOiBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICB2YXIgZSA9IGdldEV2ZW50KGV2ZW50KTtcbiAgICAgIHZhciBvcHRpb25zID0gX3RoaXMub3B0aW9ucztcbiAgICAgIHZhciBrZXkgPSBlLmtleUNvZGUgfHwgZS53aGljaCB8fCBlLmNoYXJDb2RlO1xuXG4gICAgICBpZiAoIV90aGlzLmlzRnVsbGVkIHx8ICFvcHRpb25zLmtleWJvYXJkKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgc3dpdGNoIChrZXkpIHtcblxuICAgICAgICAvLyAoS2V5OiBFc2MpXG4gICAgICAgIGNhc2UgMjc6XG4gICAgICAgICAgaWYgKF90aGlzLmlzUGxheWVkKSB7XG4gICAgICAgICAgICBfdGhpcy5zdG9wKCk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGlmIChvcHRpb25zLmlubGluZSkge1xuICAgICAgICAgICAgICBpZiAoX3RoaXMuaXNGdWxsZWQpIHtcbiAgICAgICAgICAgICAgICBfdGhpcy5leGl0KCk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIF90aGlzLmhpZGUoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG5cbiAgICAgICAgICBicmVhaztcblxuICAgICAgICAvLyAoS2V5OiBTcGFjZSlcbiAgICAgICAgY2FzZSAzMjpcbiAgICAgICAgICBpZiAoX3RoaXMuaXNQbGF5ZWQpIHtcbiAgICAgICAgICAgIF90aGlzLnN0b3AoKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBicmVhaztcblxuICAgICAgICAvLyBWaWV3IHByZXZpb3VzIChLZXk6IOKGkClcbiAgICAgICAgY2FzZSAzNzpcbiAgICAgICAgICBfdGhpcy5wcmV2KCk7XG4gICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgLy8gWm9vbSBpbiAoS2V5OiDihpEpXG4gICAgICAgIGNhc2UgMzg6XG5cbiAgICAgICAgICAvLyBQcmV2ZW50IHNjcm9sbCBvbiBGaXJlZm94XG4gICAgICAgICAgcHJldmVudERlZmF1bHQoZSk7XG5cbiAgICAgICAgICBfdGhpcy56b29tKG9wdGlvbnMuem9vbVJhdGlvLCB0cnVlKTtcbiAgICAgICAgICBicmVhaztcblxuICAgICAgICAvLyBWaWV3IG5leHQgKEtleTog4oaSKVxuICAgICAgICBjYXNlIDM5OlxuICAgICAgICAgIF90aGlzLm5leHQoKTtcbiAgICAgICAgICBicmVhaztcblxuICAgICAgICAvLyBab29tIG91dCAoS2V5OiDihpMpXG4gICAgICAgIGNhc2UgNDA6XG5cbiAgICAgICAgICAvLyBQcmV2ZW50IHNjcm9sbCBvbiBGaXJlZm94XG4gICAgICAgICAgcHJldmVudERlZmF1bHQoZSk7XG5cbiAgICAgICAgICBfdGhpcy56b29tKC1vcHRpb25zLnpvb21SYXRpbywgdHJ1ZSk7XG4gICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgLy8gWm9vbSBvdXQgdG8gaW5pdGlhbCBzaXplIChLZXk6IEN0cmwgKyAwKVxuICAgICAgICBjYXNlIDQ4OlxuICAgICAgICAgIC8vIEdvIHRvIG5leHRcblxuICAgICAgICAvLyBab29tIGluIHRvIG5hdHVyYWwgc2l6ZSAoS2V5OiBDdHJsICsgMSlcbiAgICAgICAgY2FzZSA0OTpcbiAgICAgICAgICBpZiAoZS5jdHJsS2V5IHx8IGUuc2hpZnRLZXkpIHtcbiAgICAgICAgICAgIHByZXZlbnREZWZhdWx0KGUpO1xuICAgICAgICAgICAgX3RoaXMudG9nZ2xlKCk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgLy8gTm8gZGVmYXVsdFxuICAgICAgfVxuICAgIH0sXG5cbiAgICBtb3VzZWRvd246IGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgIHZhciBvcHRpb25zID0gX3RoaXMub3B0aW9ucztcbiAgICAgIHZhciBwb2ludGVycyA9IF90aGlzLnBvaW50ZXJzO1xuICAgICAgdmFyIGUgPSBnZXRFdmVudChldmVudCk7XG4gICAgICB2YXIgYWN0aW9uID0gb3B0aW9ucy5tb3ZhYmxlID8gJ21vdmUnIDogZmFsc2U7XG5cbiAgICAgIGlmICghX3RoaXMuaXNWaWV3ZWQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBpZiAoZS5jaGFuZ2VkVG91Y2hlcykge1xuICAgICAgICBlYWNoKGUuY2hhbmdlZFRvdWNoZXMsIGZ1bmN0aW9uICh0b3VjaCkge1xuICAgICAgICAgIHBvaW50ZXJzW3RvdWNoLmlkZW50aWZpZXJdID0gZ2V0UG9pbnRlcih0b3VjaCk7XG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcG9pbnRlcnNbZS5wb2ludGVySWQgfHwgMF0gPSBnZXRQb2ludGVyKGUpO1xuICAgICAgfVxuXG4gICAgICBpZiAoT2JqZWN0LmtleXMocG9pbnRlcnMpLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgYWN0aW9uID0gJ3pvb20nO1xuICAgICAgfSBlbHNlIGlmICgoZS5wb2ludGVyVHlwZSA9PT0gJ3RvdWNoJyB8fCBlLnR5cGUgPT09ICd0b3VjaG1vdmUnKSAmJiBfdGhpcy5pc1N3aXRjaGFibGUoKSkge1xuICAgICAgICBhY3Rpb24gPSAnc3dpdGNoJztcbiAgICAgIH1cblxuICAgICAgX3RoaXMuYWN0aW9uID0gYWN0aW9uO1xuICAgIH0sXG5cbiAgICBtb3VzZW1vdmU6IGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgIHZhciBvcHRpb25zID0gX3RoaXMub3B0aW9ucztcbiAgICAgIHZhciBwb2ludGVycyA9IF90aGlzLnBvaW50ZXJzO1xuICAgICAgdmFyIGUgPSBnZXRFdmVudChldmVudCk7XG4gICAgICB2YXIgYWN0aW9uID0gX3RoaXMuYWN0aW9uO1xuICAgICAgdmFyIGltYWdlID0gX3RoaXMuaW1hZ2U7XG5cbiAgICAgIGlmICghX3RoaXMuaXNWaWV3ZWQgfHwgIWFjdGlvbikge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIHByZXZlbnREZWZhdWx0KGUpO1xuXG4gICAgICBpZiAoZS5jaGFuZ2VkVG91Y2hlcykge1xuICAgICAgICBlYWNoKGUuY2hhbmdlZFRvdWNoZXMsIGZ1bmN0aW9uICh0b3VjaCkge1xuICAgICAgICAgIGV4dGVuZChwb2ludGVyc1t0b3VjaC5pZGVudGlmaWVyXSwgZ2V0UG9pbnRlcih0b3VjaCksIHRydWUpO1xuICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGV4dGVuZChwb2ludGVyc1tlLnBvaW50ZXJJZCB8fCAwXSwgZ2V0UG9pbnRlcihlLCB0cnVlKSk7XG4gICAgICB9XG5cbiAgICAgIGlmIChhY3Rpb24gPT09ICdtb3ZlJyAmJiBvcHRpb25zLnRyYW5zaXRpb24gJiYgaGFzQ2xhc3MoaW1hZ2UsIENMQVNTX1RSQU5TSVRJT04pKSB7XG4gICAgICAgIHJlbW92ZUNsYXNzKGltYWdlLCBDTEFTU19UUkFOU0lUSU9OKTtcbiAgICAgIH1cblxuICAgICAgX3RoaXMuY2hhbmdlKGUpO1xuICAgIH0sXG5cbiAgICBtb3VzZXVwOiBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICB2YXIgcG9pbnRlcnMgPSBfdGhpcy5wb2ludGVycztcbiAgICAgIHZhciBlID0gZ2V0RXZlbnQoZXZlbnQpO1xuICAgICAgdmFyIGFjdGlvbiA9IF90aGlzLmFjdGlvbjtcblxuICAgICAgaWYgKCFhY3Rpb24pIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBpZiAoZS5jaGFuZ2VkVG91Y2hlcykge1xuICAgICAgICBlYWNoKGUuY2hhbmdlZFRvdWNoZXMsIGZ1bmN0aW9uICh0b3VjaCkge1xuICAgICAgICAgIGRlbGV0ZSBwb2ludGVyc1t0b3VjaC5pZGVudGlmaWVyXTtcbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBkZWxldGUgcG9pbnRlcnNbZS5wb2ludGVySWQgfHwgMF07XG4gICAgICB9XG5cbiAgICAgIGlmICghT2JqZWN0LmtleXMocG9pbnRlcnMpLmxlbmd0aCkge1xuICAgICAgICBpZiAoYWN0aW9uID09PSAnbW92ZScgJiYgX3RoaXMub3B0aW9ucy50cmFuc2l0aW9uKSB7XG4gICAgICAgICAgYWRkQ2xhc3MoX3RoaXMuaW1hZ2UsIENMQVNTX1RSQU5TSVRJT04pO1xuICAgICAgICB9XG5cbiAgICAgICAgX3RoaXMuYWN0aW9uID0gZmFsc2U7XG4gICAgICB9XG4gICAgfSxcblxuICAgIC8vIFNob3cgdGhlIHZpZXdlciAob25seSBhdmFpbGFibGUgaW4gbW9kYWwgbW9kZSlcbiAgICBzaG93OiBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgdmFyIG9wdGlvbnMgPSBfdGhpcy5vcHRpb25zO1xuICAgICAgdmFyIGVsZW1lbnQgPSBfdGhpcy5lbGVtZW50O1xuICAgICAgdmFyIHZpZXdlcjtcblxuICAgICAgaWYgKG9wdGlvbnMuaW5saW5lIHx8IF90aGlzLnRyYW5zaXRpb25pbmcpIHtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgICAgfVxuXG4gICAgICBpZiAoIV90aGlzLmlzQnVpbHQpIHtcbiAgICAgICAgX3RoaXMuYnVpbGQoKTtcbiAgICAgIH1cblxuICAgICAgdmlld2VyID0gX3RoaXMudmlld2VyO1xuXG4gICAgICBpZiAoaXNGdW5jdGlvbihvcHRpb25zLnNob3cpKSB7XG4gICAgICAgIGFkZExpc3RlbmVyKGVsZW1lbnQsIEVWRU5UX1NIT1csIG9wdGlvbnMuc2hvdywgdHJ1ZSk7XG4gICAgICB9XG5cbiAgICAgIGlmIChkaXNwYXRjaEV2ZW50KGVsZW1lbnQsIEVWRU5UX1NIT1cpID09PSBmYWxzZSkge1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgICB9XG5cbiAgICAgIF90aGlzLm9wZW4oKTtcbiAgICAgIHJlbW92ZUNsYXNzKHZpZXdlciwgQ0xBU1NfSElERSk7XG5cbiAgICAgIGFkZExpc3RlbmVyKGVsZW1lbnQsIEVWRU5UX1NIT1dOLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIF90aGlzLnZpZXcoX3RoaXMudGFyZ2V0ID8gaW5BcnJheShfdGhpcy50YXJnZXQsIHRvQXJyYXkoX3RoaXMuaW1hZ2VzKSkgOiBfdGhpcy5pbmRleCk7XG4gICAgICAgIF90aGlzLnRhcmdldCA9IGZhbHNlO1xuICAgICAgfSwgdHJ1ZSk7XG5cbiAgICAgIGlmIChvcHRpb25zLnRyYW5zaXRpb24pIHtcbiAgICAgICAgX3RoaXMudHJhbnNpdGlvbmluZyA9IHRydWU7XG4gICAgICAgIGFkZENsYXNzKHZpZXdlciwgQ0xBU1NfVFJBTlNJVElPTik7XG4gICAgICAgIGZvcmNlUmVmbG93KHZpZXdlcik7XG4gICAgICAgIGFkZExpc3RlbmVyKHZpZXdlciwgRVZFTlRfVFJBTlNJVElPTkVORCwgcHJveHkoX3RoaXMuc2hvd24sIF90aGlzKSwgdHJ1ZSk7XG4gICAgICAgIGFkZENsYXNzKHZpZXdlciwgQ0xBU1NfSU4pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgYWRkQ2xhc3Modmlld2VyLCBDTEFTU19JTik7XG4gICAgICAgIF90aGlzLnNob3duKCk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBfdGhpcztcbiAgICB9LFxuXG4gICAgLy8gSGlkZSB0aGUgdmlld2VyIChvbmx5IGF2YWlsYWJsZSBpbiBtb2RhbCBtb2RlKVxuICAgIGhpZGU6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICB2YXIgb3B0aW9ucyA9IF90aGlzLm9wdGlvbnM7XG4gICAgICB2YXIgZWxlbWVudCA9IF90aGlzLmVsZW1lbnQ7XG4gICAgICB2YXIgdmlld2VyID0gX3RoaXMudmlld2VyO1xuXG4gICAgICBpZiAob3B0aW9ucy5pbmxpbmUgfHwgX3RoaXMudHJhbnNpdGlvbmluZyB8fCAhX3RoaXMuaXNTaG93bikge1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgICB9XG5cbiAgICAgIGlmIChpc0Z1bmN0aW9uKG9wdGlvbnMuaGlkZSkpIHtcbiAgICAgICAgYWRkTGlzdGVuZXIoZWxlbWVudCwgRVZFTlRfSElERSwgb3B0aW9ucy5oaWRlLCB0cnVlKTtcbiAgICAgIH1cblxuICAgICAgaWYgKGRpc3BhdGNoRXZlbnQoZWxlbWVudCwgRVZFTlRfSElERSkgPT09IGZhbHNlKSB7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICAgIH1cblxuICAgICAgaWYgKF90aGlzLmlzVmlld2VkICYmIG9wdGlvbnMudHJhbnNpdGlvbikge1xuICAgICAgICBfdGhpcy50cmFuc2l0aW9uaW5nID0gdHJ1ZTtcbiAgICAgICAgYWRkTGlzdGVuZXIoX3RoaXMuaW1hZ2UsIEVWRU5UX1RSQU5TSVRJT05FTkQsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICBhZGRMaXN0ZW5lcih2aWV3ZXIsIEVWRU5UX1RSQU5TSVRJT05FTkQsIHByb3h5KF90aGlzLmhpZGRlbiwgX3RoaXMpLCB0cnVlKTtcbiAgICAgICAgICByZW1vdmVDbGFzcyh2aWV3ZXIsIENMQVNTX0lOKTtcbiAgICAgICAgfSwgdHJ1ZSk7XG4gICAgICAgIF90aGlzLnpvb21UbygwLCBmYWxzZSwgZmFsc2UsIHRydWUpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmVtb3ZlQ2xhc3Modmlld2VyLCBDTEFTU19JTik7XG4gICAgICAgIF90aGlzLmhpZGRlbigpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gX3RoaXM7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFZpZXcgb25lIG9mIHRoZSBpbWFnZXMgd2l0aCBpbWFnZSdzIGluZGV4XG4gICAgICpcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gaW5kZXhcbiAgICAgKi9cbiAgICB2aWV3OiBmdW5jdGlvbiAoaW5kZXgpIHtcbiAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICB2YXIgZWxlbWVudCA9IF90aGlzLmVsZW1lbnQ7XG4gICAgICB2YXIgdGl0bGUgPSBfdGhpcy50aXRsZTtcbiAgICAgIHZhciBjYW52YXMgPSBfdGhpcy5jYW52YXM7XG4gICAgICB2YXIgaW1hZ2U7XG4gICAgICB2YXIgaXRlbTtcbiAgICAgIHZhciBpbWc7XG4gICAgICB2YXIgdXJsO1xuICAgICAgdmFyIGFsdDtcblxuICAgICAgaW5kZXggPSBOdW1iZXIoaW5kZXgpIHx8IDA7XG5cbiAgICAgIGlmICghX3RoaXMuaXNTaG93biB8fCBfdGhpcy5pc1BsYXllZCB8fCBpbmRleCA8IDAgfHwgaW5kZXggPj0gX3RoaXMubGVuZ3RoIHx8XG4gICAgICAgIF90aGlzLmlzVmlld2VkICYmIGluZGV4ID09PSBfdGhpcy5pbmRleCkge1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgICB9XG5cbiAgICAgIGl0ZW0gPSBfdGhpcy5pdGVtc1tpbmRleF07XG4gICAgICBpbWcgPSBnZXRCeVRhZyhpdGVtLCAnaW1nJylbMF07XG4gICAgICB1cmwgPSBnZXREYXRhKGltZywgJ29yaWdpbmFsVXJsJyk7XG4gICAgICBhbHQgPSBpbWcuZ2V0QXR0cmlidXRlKCdhbHQnKTtcblxuICAgICAgaW1hZ2UgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbWcnKTtcbiAgICAgIGltYWdlLnNyYyA9IHVybDtcbiAgICAgIGltYWdlLmFsdCA9IGFsdDtcblxuICAgICAgaWYgKGRpc3BhdGNoRXZlbnQoZWxlbWVudCwgRVZFTlRfVklFVywge1xuICAgICAgICBvcmlnaW5hbEltYWdlOiBfdGhpcy5pbWFnZXNbaW5kZXhdLFxuICAgICAgICBpbmRleDogaW5kZXgsXG4gICAgICAgIGltYWdlOiBpbWFnZVxuICAgICAgfSkgPT09IGZhbHNlKSB7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICAgIH1cblxuICAgICAgX3RoaXMuaW1hZ2UgPSBpbWFnZTtcblxuICAgICAgaWYgKF90aGlzLmlzVmlld2VkKSB7XG4gICAgICAgIHJlbW92ZUNsYXNzKF90aGlzLml0ZW1zW190aGlzLmluZGV4XSwgQ0xBU1NfQUNUSVZFKTtcbiAgICAgIH1cblxuICAgICAgYWRkQ2xhc3MoaXRlbSwgQ0xBU1NfQUNUSVZFKTtcblxuICAgICAgX3RoaXMuaXNWaWV3ZWQgPSBmYWxzZTtcbiAgICAgIF90aGlzLmluZGV4ID0gaW5kZXg7XG4gICAgICBfdGhpcy5pbWFnZURhdGEgPSBudWxsO1xuXG4gICAgICBhZGRDbGFzcyhpbWFnZSwgQ0xBU1NfSU5WSVNJQkxFKTtcbiAgICAgIGVtcHR5KGNhbnZhcyk7XG4gICAgICBhcHBlbmRDaGlsZChjYW52YXMsIGltYWdlKTtcblxuICAgICAgLy8gQ2VudGVyIGN1cnJlbnQgaXRlbVxuICAgICAgX3RoaXMucmVuZGVyTGlzdCgpO1xuXG4gICAgICAvLyBDbGVhciB0aXRsZVxuICAgICAgZW1wdHkodGl0bGUpO1xuXG4gICAgICAvLyBHZW5lcmF0ZSB0aXRsZSBhZnRlciB2aWV3ZWRcbiAgICAgIGFkZExpc3RlbmVyKGVsZW1lbnQsIEVWRU5UX1ZJRVdFRCwgZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgaW1hZ2VEYXRhID0gX3RoaXMuaW1hZ2VEYXRhO1xuICAgICAgICB2YXIgd2lkdGggPSBpbWFnZURhdGEubmF0dXJhbFdpZHRoO1xuICAgICAgICB2YXIgaGVpZ2h0ID0gaW1hZ2VEYXRhLm5hdHVyYWxIZWlnaHQ7XG5cbiAgICAgICAgc2V0VGV4dCh0aXRsZSwgYWx0ICsgJyAoJyArIHdpZHRoICsgJyDDlyAnICsgaGVpZ2h0ICsgJyknKTtcbiAgICAgIH0sIHRydWUpO1xuXG4gICAgICBpZiAoaW1hZ2UuY29tcGxldGUpIHtcbiAgICAgICAgX3RoaXMubG9hZCgpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgYWRkTGlzdGVuZXIoaW1hZ2UsIEVWRU5UX0xPQUQsIHByb3h5KF90aGlzLmxvYWQsIF90aGlzKSwgdHJ1ZSk7XG5cbiAgICAgICAgaWYgKF90aGlzLnRpbWVvdXQpIHtcbiAgICAgICAgICBjbGVhclRpbWVvdXQoX3RoaXMudGltZW91dCk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBNYWtlIHRoZSBpbWFnZSB2aXNpYmxlIGlmIGl0IGZhaWxzIHRvIGxvYWQgd2l0aGluIDFzXG4gICAgICAgIF90aGlzLnRpbWVvdXQgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICByZW1vdmVDbGFzcyhpbWFnZSwgQ0xBU1NfSU5WSVNJQkxFKTtcbiAgICAgICAgICBfdGhpcy50aW1lb3V0ID0gZmFsc2U7XG4gICAgICAgIH0sIDEwMDApO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gX3RoaXM7XG4gICAgfSxcblxuICAgIC8vIFZpZXcgdGhlIHByZXZpb3VzIGltYWdlXG4gICAgcHJldjogZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIF90aGlzID0gdGhpcztcblxuICAgICAgX3RoaXMudmlldyhtYXgoX3RoaXMuaW5kZXggLSAxLCAwKSk7XG5cbiAgICAgIHJldHVybiBfdGhpcztcbiAgICB9LFxuXG4gICAgLy8gVmlldyB0aGUgbmV4dCBpbWFnZVxuICAgIG5leHQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgICAgIF90aGlzLnZpZXcobWluKF90aGlzLmluZGV4ICsgMSwgX3RoaXMubGVuZ3RoIC0gMSkpO1xuXG4gICAgICByZXR1cm4gX3RoaXM7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIE1vdmUgdGhlIGltYWdlIHdpdGggcmVsYXRpdmUgb2Zmc2V0c1xuICAgICAqXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IG9mZnNldFhcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gb2Zmc2V0WSAob3B0aW9uYWwpXG4gICAgICovXG4gICAgbW92ZTogZnVuY3Rpb24gKG9mZnNldFgsIG9mZnNldFkpIHtcbiAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICB2YXIgaW1hZ2VEYXRhID0gX3RoaXMuaW1hZ2VEYXRhO1xuXG4gICAgICBfdGhpcy5tb3ZlVG8oXG4gICAgICAgIGlzVW5kZWZpbmVkKG9mZnNldFgpID8gb2Zmc2V0WCA6IGltYWdlRGF0YS5sZWZ0ICsgTnVtYmVyKG9mZnNldFgpLFxuICAgICAgICBpc1VuZGVmaW5lZChvZmZzZXRZKSA/IG9mZnNldFkgOiBpbWFnZURhdGEudG9wICsgTnVtYmVyKG9mZnNldFkpXG4gICAgICApO1xuXG4gICAgICByZXR1cm4gX3RoaXM7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIE1vdmUgdGhlIGltYWdlIHRvIGFuIGFic29sdXRlIHBvaW50XG4gICAgICpcbiAgICAgKiBAcGFyYW0ge051bWJlcn0geFxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSB5IChvcHRpb25hbClcbiAgICAgKi9cbiAgICBtb3ZlVG86IGZ1bmN0aW9uICh4LCB5KSB7XG4gICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgdmFyIGltYWdlRGF0YSA9IF90aGlzLmltYWdlRGF0YTtcbiAgICAgIHZhciBjaGFuZ2VkID0gZmFsc2U7XG5cbiAgICAgIC8vIElmIFwieVwiIGlzIG5vdCBwcmVzZW50LCBpdHMgZGVmYXVsdCB2YWx1ZSBpcyBcInhcIlxuICAgICAgaWYgKGlzVW5kZWZpbmVkKHkpKSB7XG4gICAgICAgIHkgPSB4O1xuICAgICAgfVxuXG4gICAgICB4ID0gTnVtYmVyKHgpO1xuICAgICAgeSA9IE51bWJlcih5KTtcblxuICAgICAgaWYgKF90aGlzLmlzVmlld2VkICYmICFfdGhpcy5pc1BsYXllZCAmJiBfdGhpcy5vcHRpb25zLm1vdmFibGUpIHtcbiAgICAgICAgaWYgKGlzTnVtYmVyKHgpKSB7XG4gICAgICAgICAgaW1hZ2VEYXRhLmxlZnQgPSB4O1xuICAgICAgICAgIGNoYW5nZWQgPSB0cnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGlzTnVtYmVyKHkpKSB7XG4gICAgICAgICAgaW1hZ2VEYXRhLnRvcCA9IHk7XG4gICAgICAgICAgY2hhbmdlZCA9IHRydWU7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoY2hhbmdlZCkge1xuICAgICAgICAgIF90aGlzLnJlbmRlckltYWdlKCk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBab29tIHRoZSBpbWFnZSB3aXRoIGEgcmVsYXRpdmUgcmF0aW9cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSByYXRpb1xuICAgICAqIEBwYXJhbSB7Qm9vbGVhbn0gaGFzVG9vbHRpcCAob3B0aW9uYWwpXG4gICAgICogQHBhcmFtIHtFdmVudH0gX29yaWdpbmFsRXZlbnQgKHByaXZhdGUpXG4gICAgICovXG4gICAgem9vbTogZnVuY3Rpb24gKHJhdGlvLCBoYXNUb29sdGlwLCBfb3JpZ2luYWxFdmVudCkge1xuICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgIHZhciBpbWFnZURhdGEgPSBfdGhpcy5pbWFnZURhdGE7XG5cbiAgICAgIHJhdGlvID0gTnVtYmVyKHJhdGlvKTtcblxuICAgICAgaWYgKHJhdGlvIDwgMCkge1xuICAgICAgICByYXRpbyA9ICAxIC8gKDEgLSByYXRpbyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByYXRpbyA9IDEgKyByYXRpbztcbiAgICAgIH1cblxuICAgICAgX3RoaXMuem9vbVRvKGltYWdlRGF0YS53aWR0aCAqIHJhdGlvIC8gaW1hZ2VEYXRhLm5hdHVyYWxXaWR0aCwgaGFzVG9vbHRpcCwgX29yaWdpbmFsRXZlbnQpO1xuXG4gICAgICByZXR1cm4gX3RoaXM7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFpvb20gdGhlIGltYWdlIHRvIGFuIGFic29sdXRlIHJhdGlvXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gcmF0aW9cbiAgICAgKiBAcGFyYW0ge0Jvb2xlYW59IGhhc1Rvb2x0aXAgKG9wdGlvbmFsKVxuICAgICAqIEBwYXJhbSB7RXZlbnR9IF9vcmlnaW5hbEV2ZW50IChwcml2YXRlKVxuICAgICAqIEBwYXJhbSB7Qm9vbGVhbn0gX3pvb21hYmxlIChwcml2YXRlKVxuICAgICAqL1xuICAgIHpvb21UbzogZnVuY3Rpb24gKHJhdGlvLCBoYXNUb29sdGlwLCBfb3JpZ2luYWxFdmVudCwgX3pvb21hYmxlKSB7XG4gICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgdmFyIG9wdGlvbnMgPSBfdGhpcy5vcHRpb25zO1xuICAgICAgdmFyIHBvaW50ZXJzID0gX3RoaXMucG9pbnRlcnM7XG4gICAgICB2YXIgbWluWm9vbVJhdGlvID0gMC4wMTtcbiAgICAgIHZhciBtYXhab29tUmF0aW8gPSAxMDA7XG4gICAgICB2YXIgaW1hZ2VEYXRhID0gX3RoaXMuaW1hZ2VEYXRhO1xuICAgICAgdmFyIG5ld1dpZHRoO1xuICAgICAgdmFyIG5ld0hlaWdodDtcbiAgICAgIHZhciBvZmZzZXQ7XG4gICAgICB2YXIgY2VudGVyO1xuXG4gICAgICByYXRpbyA9IG1heCgwLCByYXRpbyk7XG5cbiAgICAgIGlmIChpc051bWJlcihyYXRpbykgJiYgX3RoaXMuaXNWaWV3ZWQgJiYgIV90aGlzLmlzUGxheWVkICYmIChfem9vbWFibGUgfHwgb3B0aW9ucy56b29tYWJsZSkpIHtcbiAgICAgICAgaWYgKCFfem9vbWFibGUpIHtcbiAgICAgICAgICBtaW5ab29tUmF0aW8gPSBtYXgobWluWm9vbVJhdGlvLCBvcHRpb25zLm1pblpvb21SYXRpbyk7XG4gICAgICAgICAgbWF4Wm9vbVJhdGlvID0gbWluKG1heFpvb21SYXRpbywgb3B0aW9ucy5tYXhab29tUmF0aW8pO1xuICAgICAgICAgIHJhdGlvID0gbWluKG1heChyYXRpbywgbWluWm9vbVJhdGlvKSwgbWF4Wm9vbVJhdGlvKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChyYXRpbyA+IDAuOTUgJiYgcmF0aW8gPCAxLjA1KSB7XG4gICAgICAgICAgcmF0aW8gPSAxO1xuICAgICAgICB9XG5cbiAgICAgICAgbmV3V2lkdGggPSBpbWFnZURhdGEubmF0dXJhbFdpZHRoICogcmF0aW87XG4gICAgICAgIG5ld0hlaWdodCA9IGltYWdlRGF0YS5uYXR1cmFsSGVpZ2h0ICogcmF0aW87XG5cbiAgICAgICAgaWYgKF9vcmlnaW5hbEV2ZW50KSB7XG4gICAgICAgICAgb2Zmc2V0ID0gZ2V0T2Zmc2V0KF90aGlzLnZpZXdlcik7XG4gICAgICAgICAgY2VudGVyID0gcG9pbnRlcnMgJiYgT2JqZWN0LmtleXMocG9pbnRlcnMpLmxlbmd0aCA/IGdldFBvaW50ZXJzQ2VudGVyKHBvaW50ZXJzKSA6IHtcbiAgICAgICAgICAgIHBhZ2VYOiBfb3JpZ2luYWxFdmVudC5wYWdlWCxcbiAgICAgICAgICAgIHBhZ2VZOiBfb3JpZ2luYWxFdmVudC5wYWdlWVxuICAgICAgICAgIH07XG5cbiAgICAgICAgICAvLyBab29tIGZyb20gdGhlIHRyaWdnZXJpbmcgcG9pbnQgb2YgdGhlIGV2ZW50XG4gICAgICAgICAgaW1hZ2VEYXRhLmxlZnQgLT0gKG5ld1dpZHRoIC0gaW1hZ2VEYXRhLndpZHRoKSAqIChcbiAgICAgICAgICAgICgoY2VudGVyLnBhZ2VYIC0gb2Zmc2V0LmxlZnQpIC0gaW1hZ2VEYXRhLmxlZnQpIC8gaW1hZ2VEYXRhLndpZHRoXG4gICAgICAgICAgKTtcbiAgICAgICAgICBpbWFnZURhdGEudG9wIC09IChuZXdIZWlnaHQgLSBpbWFnZURhdGEuaGVpZ2h0KSAqIChcbiAgICAgICAgICAgICgoY2VudGVyLnBhZ2VZIC0gb2Zmc2V0LnRvcCkgLSBpbWFnZURhdGEudG9wKSAvIGltYWdlRGF0YS5oZWlnaHRcbiAgICAgICAgICApO1xuICAgICAgICB9IGVsc2Uge1xuXG4gICAgICAgICAgLy8gWm9vbSBmcm9tIHRoZSBjZW50ZXIgb2YgdGhlIGltYWdlXG4gICAgICAgICAgaW1hZ2VEYXRhLmxlZnQgLT0gKG5ld1dpZHRoIC0gaW1hZ2VEYXRhLndpZHRoKSAvIDI7XG4gICAgICAgICAgaW1hZ2VEYXRhLnRvcCAtPSAobmV3SGVpZ2h0IC0gaW1hZ2VEYXRhLmhlaWdodCkgLyAyO1xuICAgICAgICB9XG5cbiAgICAgICAgaW1hZ2VEYXRhLndpZHRoID0gbmV3V2lkdGg7XG4gICAgICAgIGltYWdlRGF0YS5oZWlnaHQgPSBuZXdIZWlnaHQ7XG4gICAgICAgIGltYWdlRGF0YS5yYXRpbyA9IHJhdGlvO1xuICAgICAgICBfdGhpcy5yZW5kZXJJbWFnZSgpO1xuXG4gICAgICAgIGlmIChoYXNUb29sdGlwKSB7XG4gICAgICAgICAgX3RoaXMudG9vbHRpcCgpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBfdGhpcztcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogUm90YXRlIHRoZSBpbWFnZSB3aXRoIGEgcmVsYXRpdmUgZGVncmVlXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gZGVncmVlXG4gICAgICovXG4gICAgcm90YXRlOiBmdW5jdGlvbiAoZGVncmVlKSB7XG4gICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gICAgICBfdGhpcy5yb3RhdGVUbygoX3RoaXMuaW1hZ2VEYXRhLnJvdGF0ZSB8fCAwKSArIE51bWJlcihkZWdyZWUpKTtcblxuICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBSb3RhdGUgdGhlIGltYWdlIHRvIGFuIGFic29sdXRlIGRlZ3JlZVxuICAgICAqIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0NTUy90cmFuc2Zvcm0tZnVuY3Rpb24jcm90YXRlKClcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBkZWdyZWVcbiAgICAgKi9cbiAgICByb3RhdGVUbzogZnVuY3Rpb24gKGRlZ3JlZSkge1xuICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgIHZhciBpbWFnZURhdGEgPSBfdGhpcy5pbWFnZURhdGE7XG5cbiAgICAgIGRlZ3JlZSA9IE51bWJlcihkZWdyZWUpO1xuXG4gICAgICBpZiAoaXNOdW1iZXIoZGVncmVlKSAmJiBfdGhpcy5pc1ZpZXdlZCAmJiAhX3RoaXMuaXNQbGF5ZWQgJiYgX3RoaXMub3B0aW9ucy5yb3RhdGFibGUpIHtcbiAgICAgICAgaW1hZ2VEYXRhLnJvdGF0ZSA9IGRlZ3JlZTtcbiAgICAgICAgX3RoaXMucmVuZGVySW1hZ2UoKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBTY2FsZSB0aGUgaW1hZ2VcbiAgICAgKiBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9DU1MvdHJhbnNmb3JtLWZ1bmN0aW9uI3NjYWxlKClcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBzY2FsZVhcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gc2NhbGVZIChvcHRpb25hbClcbiAgICAgKi9cbiAgICBzY2FsZTogZnVuY3Rpb24gKHNjYWxlWCwgc2NhbGVZKSB7XG4gICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgdmFyIGltYWdlRGF0YSA9IF90aGlzLmltYWdlRGF0YTtcbiAgICAgIHZhciBjaGFuZ2VkID0gZmFsc2U7XG5cbiAgICAgIC8vIElmIFwic2NhbGVZXCIgaXMgbm90IHByZXNlbnQsIGl0cyBkZWZhdWx0IHZhbHVlIGlzIFwic2NhbGVYXCJcbiAgICAgIGlmIChpc1VuZGVmaW5lZChzY2FsZVkpKSB7XG4gICAgICAgIHNjYWxlWSA9IHNjYWxlWDtcbiAgICAgIH1cblxuICAgICAgc2NhbGVYID0gTnVtYmVyKHNjYWxlWCk7XG4gICAgICBzY2FsZVkgPSBOdW1iZXIoc2NhbGVZKTtcblxuICAgICAgaWYgKF90aGlzLmlzVmlld2VkICYmICFfdGhpcy5pc1BsYXllZCAmJiBfdGhpcy5vcHRpb25zLnNjYWxhYmxlKSB7XG4gICAgICAgIGlmIChpc051bWJlcihzY2FsZVgpKSB7XG4gICAgICAgICAgaW1hZ2VEYXRhLnNjYWxlWCA9IHNjYWxlWDtcbiAgICAgICAgICBjaGFuZ2VkID0gdHJ1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChpc051bWJlcihzY2FsZVkpKSB7XG4gICAgICAgICAgaW1hZ2VEYXRhLnNjYWxlWSA9IHNjYWxlWTtcbiAgICAgICAgICBjaGFuZ2VkID0gdHJ1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChjaGFuZ2VkKSB7XG4gICAgICAgICAgX3RoaXMucmVuZGVySW1hZ2UoKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICByZXR1cm4gX3RoaXM7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFNjYWxlIHRoZSBhYnNjaXNzYSBvZiB0aGUgaW1hZ2VcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBzY2FsZVhcbiAgICAgKi9cbiAgICBzY2FsZVg6IGZ1bmN0aW9uIChzY2FsZVgpIHtcbiAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgICAgIF90aGlzLnNjYWxlKHNjYWxlWCwgX3RoaXMuaW1hZ2VEYXRhLnNjYWxlWSk7XG5cbiAgICAgIHJldHVybiBfdGhpcztcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogU2NhbGUgdGhlIG9yZGluYXRlIG9mIHRoZSBpbWFnZVxuICAgICAqXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IHNjYWxlWVxuICAgICAqL1xuICAgIHNjYWxlWTogZnVuY3Rpb24gKHNjYWxlWSkge1xuICAgICAgdmFyIF90aGlzID0gdGhpcztcblxuICAgICAgX3RoaXMuc2NhbGUoX3RoaXMuaW1hZ2VEYXRhLnNjYWxlWCwgc2NhbGVZKTtcblxuICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH0sXG5cbiAgICAvLyBQbGF5IHRoZSBpbWFnZXNcbiAgICBwbGF5OiBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgdmFyIG9wdGlvbnMgPSBfdGhpcy5vcHRpb25zO1xuICAgICAgdmFyIHBsYXllciA9IF90aGlzLnBsYXllcjtcbiAgICAgIHZhciBsb2FkID0gcHJveHkoX3RoaXMubG9hZEltYWdlLCBfdGhpcyk7XG4gICAgICB2YXIgbGlzdCA9IFtdO1xuICAgICAgdmFyIHRvdGFsID0gMDtcbiAgICAgIHZhciBpbmRleCA9IDA7XG4gICAgICB2YXIgcGxheWluZztcblxuICAgICAgaWYgKCFfdGhpcy5pc1Nob3duIHx8IF90aGlzLmlzUGxheWVkKSB7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICAgIH1cblxuICAgICAgaWYgKG9wdGlvbnMuZnVsbHNjcmVlbikge1xuICAgICAgICBfdGhpcy5yZXF1ZXN0RnVsbHNjcmVlbigpO1xuICAgICAgfVxuXG4gICAgICBfdGhpcy5pc1BsYXllZCA9IHRydWU7XG4gICAgICBhZGRDbGFzcyhwbGF5ZXIsIENMQVNTX1NIT1cpO1xuXG4gICAgICBlYWNoKF90aGlzLml0ZW1zLCBmdW5jdGlvbiAoaXRlbSwgaSkge1xuICAgICAgICB2YXIgaW1nID0gZ2V0QnlUYWcoaXRlbSwgJ2ltZycpWzBdO1xuICAgICAgICB2YXIgaW1hZ2UgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbWcnKTtcblxuICAgICAgICBpbWFnZS5zcmMgPSBnZXREYXRhKGltZywgJ29yaWdpbmFsVXJsJyk7XG4gICAgICAgIGltYWdlLmFsdCA9IGltZy5nZXRBdHRyaWJ1dGUoJ2FsdCcpO1xuICAgICAgICB0b3RhbCsrO1xuXG4gICAgICAgIGFkZENsYXNzKGltYWdlLCBDTEFTU19GQURFKTtcbiAgICAgICAgdG9nZ2xlQ2xhc3MoaW1hZ2UsIENMQVNTX1RSQU5TSVRJT04sIG9wdGlvbnMudHJhbnNpdGlvbik7XG5cbiAgICAgICAgaWYgKGhhc0NsYXNzKGl0ZW0sIENMQVNTX0FDVElWRSkpIHtcbiAgICAgICAgICBhZGRDbGFzcyhpbWFnZSwgQ0xBU1NfSU4pO1xuICAgICAgICAgIGluZGV4ID0gaTtcbiAgICAgICAgfVxuXG4gICAgICAgIGxpc3QucHVzaChpbWFnZSk7XG4gICAgICAgIGFkZExpc3RlbmVyKGltYWdlLCBFVkVOVF9MT0FELCBsb2FkLCB0cnVlKTtcbiAgICAgICAgYXBwZW5kQ2hpbGQocGxheWVyLCBpbWFnZSk7XG4gICAgICB9KTtcblxuICAgICAgaWYgKGlzTnVtYmVyKG9wdGlvbnMuaW50ZXJ2YWwpICYmIG9wdGlvbnMuaW50ZXJ2YWwgPiAwKSB7XG4gICAgICAgIHBsYXlpbmcgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgX3RoaXMucGxheWluZyA9IHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmVtb3ZlQ2xhc3MobGlzdFtpbmRleF0sIENMQVNTX0lOKTtcbiAgICAgICAgICAgIGluZGV4Kys7XG4gICAgICAgICAgICBpbmRleCA9IGluZGV4IDwgdG90YWwgPyBpbmRleCA6IDA7XG4gICAgICAgICAgICBhZGRDbGFzcyhsaXN0W2luZGV4XSwgQ0xBU1NfSU4pO1xuXG4gICAgICAgICAgICBwbGF5aW5nKCk7XG4gICAgICAgICAgfSwgb3B0aW9ucy5pbnRlcnZhbCk7XG4gICAgICAgIH07XG5cbiAgICAgICAgaWYgKHRvdGFsID4gMSkge1xuICAgICAgICAgIHBsYXlpbmcoKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICByZXR1cm4gX3RoaXM7XG4gICAgfSxcblxuICAgIC8vIFN0b3AgcGxheVxuICAgIHN0b3A6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICB2YXIgcGxheWVyID0gX3RoaXMucGxheWVyO1xuXG4gICAgICBpZiAoIV90aGlzLmlzUGxheWVkKSB7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICAgIH1cblxuICAgICAgaWYgKF90aGlzLm9wdGlvbnMuZnVsbHNjcmVlbikge1xuICAgICAgICBfdGhpcy5leGl0RnVsbHNjcmVlbigpO1xuICAgICAgfVxuXG4gICAgICBfdGhpcy5pc1BsYXllZCA9IGZhbHNlO1xuICAgICAgY2xlYXJUaW1lb3V0KF90aGlzLnBsYXlpbmcpO1xuICAgICAgcmVtb3ZlQ2xhc3MocGxheWVyLCBDTEFTU19TSE9XKTtcbiAgICAgIGVtcHR5KHBsYXllcik7XG5cbiAgICAgIHJldHVybiBfdGhpcztcbiAgICB9LFxuXG4gICAgLy8gRW50ZXIgbW9kYWwgbW9kZSAob25seSBhdmFpbGFibGUgaW4gaW5saW5lIG1vZGUpXG4gICAgZnVsbDogZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgIHZhciBvcHRpb25zID0gX3RoaXMub3B0aW9ucztcbiAgICAgIHZhciB2aWV3ZXIgPSBfdGhpcy52aWV3ZXI7XG4gICAgICB2YXIgaW1hZ2UgPSBfdGhpcy5pbWFnZTtcbiAgICAgIHZhciBsaXN0ID0gX3RoaXMubGlzdDtcblxuICAgICAgaWYgKCFfdGhpcy5pc1Nob3duIHx8IF90aGlzLmlzUGxheWVkIHx8IF90aGlzLmlzRnVsbGVkIHx8ICFvcHRpb25zLmlubGluZSkge1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgICB9XG5cbiAgICAgIF90aGlzLmlzRnVsbGVkID0gdHJ1ZTtcbiAgICAgIF90aGlzLm9wZW4oKTtcbiAgICAgIGFkZENsYXNzKF90aGlzLmJ1dHRvbiwgQ0xBU1NfRlVMTFNDUkVFTl9FWElUKTtcblxuICAgICAgaWYgKG9wdGlvbnMudHJhbnNpdGlvbikge1xuICAgICAgICByZW1vdmVDbGFzcyhpbWFnZSwgQ0xBU1NfVFJBTlNJVElPTik7XG4gICAgICAgIHJlbW92ZUNsYXNzKGxpc3QsIENMQVNTX1RSQU5TSVRJT04pO1xuICAgICAgfVxuXG4gICAgICBhZGRDbGFzcyh2aWV3ZXIsIENMQVNTX0ZJWEVEKTtcbiAgICAgIHZpZXdlci5zZXRBdHRyaWJ1dGUoJ3N0eWxlJywgJycpO1xuICAgICAgc2V0U3R5bGUodmlld2VyLCB7XG4gICAgICAgIHpJbmRleDogb3B0aW9ucy56SW5kZXhcbiAgICAgIH0pO1xuXG4gICAgICBfdGhpcy5pbml0Q29udGFpbmVyKCk7XG4gICAgICBfdGhpcy52aWV3ZXJEYXRhID0gZXh0ZW5kKHt9LCBfdGhpcy5jb250YWluZXJEYXRhKTtcbiAgICAgIF90aGlzLnJlbmRlckxpc3QoKTtcbiAgICAgIF90aGlzLmluaXRJbWFnZShmdW5jdGlvbiAoKSB7XG4gICAgICAgIF90aGlzLnJlbmRlckltYWdlKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICBpZiAob3B0aW9ucy50cmFuc2l0aW9uKSB7XG4gICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgYWRkQ2xhc3MoaW1hZ2UsIENMQVNTX1RSQU5TSVRJT04pO1xuICAgICAgICAgICAgICBhZGRDbGFzcyhsaXN0LCBDTEFTU19UUkFOU0lUSU9OKTtcbiAgICAgICAgICAgIH0sIDApO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9KTtcblxuICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH0sXG5cbiAgICAvLyBFeGl0IG1vZGFsIG1vZGUgKG9ubHkgYXZhaWxhYmxlIGluIGlubGluZSBtb2RlKVxuICAgIGV4aXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICB2YXIgb3B0aW9ucyA9IF90aGlzLm9wdGlvbnM7XG4gICAgICB2YXIgdmlld2VyID0gX3RoaXMudmlld2VyO1xuICAgICAgdmFyIGltYWdlID0gX3RoaXMuaW1hZ2U7XG4gICAgICB2YXIgbGlzdCA9IF90aGlzLmxpc3Q7XG5cbiAgICAgIGlmICghX3RoaXMuaXNGdWxsZWQpIHtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgICAgfVxuXG4gICAgICBfdGhpcy5pc0Z1bGxlZCA9IGZhbHNlO1xuICAgICAgX3RoaXMuY2xvc2UoKTtcbiAgICAgIHJlbW92ZUNsYXNzKF90aGlzLmJ1dHRvbiwgQ0xBU1NfRlVMTFNDUkVFTl9FWElUKTtcblxuICAgICAgaWYgKG9wdGlvbnMudHJhbnNpdGlvbikge1xuICAgICAgICByZW1vdmVDbGFzcyhpbWFnZSwgQ0xBU1NfVFJBTlNJVElPTik7XG4gICAgICAgIHJlbW92ZUNsYXNzKGxpc3QsIENMQVNTX1RSQU5TSVRJT04pO1xuICAgICAgfVxuXG4gICAgICByZW1vdmVDbGFzcyh2aWV3ZXIsIENMQVNTX0ZJWEVEKTtcbiAgICAgIHNldFN0eWxlKHZpZXdlciwge1xuICAgICAgICB6SW5kZXg6IG9wdGlvbnMuekluZGV4SW5saW5lXG4gICAgICB9KTtcblxuICAgICAgX3RoaXMudmlld2VyRGF0YSA9IGV4dGVuZCh7fSwgX3RoaXMucGFyZW50RGF0YSk7XG4gICAgICBfdGhpcy5yZW5kZXJWaWV3ZXIoKTtcbiAgICAgIF90aGlzLnJlbmRlckxpc3QoKTtcbiAgICAgIF90aGlzLmluaXRJbWFnZShmdW5jdGlvbiAoKSB7XG4gICAgICAgIF90aGlzLnJlbmRlckltYWdlKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICBpZiAob3B0aW9ucy50cmFuc2l0aW9uKSB7XG4gICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgYWRkQ2xhc3MoaW1hZ2UsIENMQVNTX1RSQU5TSVRJT04pO1xuICAgICAgICAgICAgICBhZGRDbGFzcyhsaXN0LCBDTEFTU19UUkFOU0lUSU9OKTtcbiAgICAgICAgICAgIH0sIDApO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9KTtcblxuICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH0sXG5cbiAgICAvLyBTaG93IHRoZSBjdXJyZW50IHJhdGlvIG9mIHRoZSBpbWFnZSB3aXRoIHBlcmNlbnRhZ2VcbiAgICB0b29sdGlwOiBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgdmFyIG9wdGlvbnMgPSBfdGhpcy5vcHRpb25zO1xuICAgICAgdmFyIHRvb2x0aXBCb3ggPSBfdGhpcy50b29sdGlwQm94O1xuICAgICAgdmFyIGltYWdlRGF0YSA9IF90aGlzLmltYWdlRGF0YTtcblxuICAgICAgaWYgKCFfdGhpcy5pc1ZpZXdlZCB8fCBfdGhpcy5pc1BsYXllZCB8fCAhb3B0aW9ucy50b29sdGlwKSB7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICAgIH1cblxuICAgICAgc2V0VGV4dCh0b29sdGlwQm94LCByb3VuZChpbWFnZURhdGEucmF0aW8gKiAxMDApICsgJyUnKTtcblxuICAgICAgaWYgKCFfdGhpcy50b29sdGlwaW5nKSB7XG4gICAgICAgIGlmIChvcHRpb25zLnRyYW5zaXRpb24pIHtcbiAgICAgICAgICBpZiAoX3RoaXMuZmFkaW5nKSB7XG4gICAgICAgICAgICBkaXNwYXRjaEV2ZW50KHRvb2x0aXBCb3gsIEVWRU5UX1RSQU5TSVRJT05FTkQpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGFkZENsYXNzKHRvb2x0aXBCb3gsIENMQVNTX1NIT1cpO1xuICAgICAgICAgIGFkZENsYXNzKHRvb2x0aXBCb3gsIENMQVNTX0ZBREUpO1xuICAgICAgICAgIGFkZENsYXNzKHRvb2x0aXBCb3gsIENMQVNTX1RSQU5TSVRJT04pO1xuICAgICAgICAgIGZvcmNlUmVmbG93KHRvb2x0aXBCb3gpO1xuICAgICAgICAgIGFkZENsYXNzKHRvb2x0aXBCb3gsIENMQVNTX0lOKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBhZGRDbGFzcyh0b29sdGlwQm94LCBDTEFTU19TSE9XKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY2xlYXJUaW1lb3V0KF90aGlzLnRvb2x0aXBpbmcpO1xuICAgICAgfVxuXG4gICAgICBfdGhpcy50b29sdGlwaW5nID0gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmIChvcHRpb25zLnRyYW5zaXRpb24pIHtcbiAgICAgICAgICBhZGRMaXN0ZW5lcih0b29sdGlwQm94LCBFVkVOVF9UUkFOU0lUSU9ORU5ELCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZW1vdmVDbGFzcyh0b29sdGlwQm94LCBDTEFTU19TSE9XKTtcbiAgICAgICAgICAgIHJlbW92ZUNsYXNzKHRvb2x0aXBCb3gsIENMQVNTX0ZBREUpO1xuICAgICAgICAgICAgcmVtb3ZlQ2xhc3ModG9vbHRpcEJveCwgQ0xBU1NfVFJBTlNJVElPTik7XG4gICAgICAgICAgICBfdGhpcy5mYWRpbmcgPSBmYWxzZTtcbiAgICAgICAgICB9LCB0cnVlKTtcblxuICAgICAgICAgIHJlbW92ZUNsYXNzKHRvb2x0aXBCb3gsIENMQVNTX0lOKTtcbiAgICAgICAgICBfdGhpcy5mYWRpbmcgPSB0cnVlO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJlbW92ZUNsYXNzKHRvb2x0aXBCb3gsIENMQVNTX1NIT1cpO1xuICAgICAgICB9XG5cbiAgICAgICAgX3RoaXMudG9vbHRpcGluZyA9IGZhbHNlO1xuICAgICAgfSwgMTAwMCk7XG5cbiAgICAgIHJldHVybiBfdGhpcztcbiAgICB9LFxuXG4gICAgLy8gVG9nZ2xlIHRoZSBpbWFnZSBzaXplIGJldHdlZW4gaXRzIG5hdHVyYWwgc2l6ZSBhbmQgaW5pdGlhbCBzaXplXG4gICAgdG9nZ2xlOiBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gICAgICBpZiAoX3RoaXMuaW1hZ2VEYXRhLnJhdGlvID09PSAxKSB7XG4gICAgICAgIF90aGlzLnpvb21UbyhfdGhpcy5pbml0aWFsSW1hZ2VEYXRhLnJhdGlvLCB0cnVlKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIF90aGlzLnpvb21UbygxLCB0cnVlKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH0sXG5cbiAgICAvLyBSZXNldCB0aGUgaW1hZ2UgdG8gaXRzIGluaXRpYWwgc3RhdGVcbiAgICByZXNldDogZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIF90aGlzID0gdGhpcztcblxuICAgICAgaWYgKF90aGlzLmlzVmlld2VkICYmICFfdGhpcy5pc1BsYXllZCkge1xuICAgICAgICBfdGhpcy5pbWFnZURhdGEgPSBleHRlbmQoe30sIF90aGlzLmluaXRpYWxJbWFnZURhdGEpO1xuICAgICAgICBfdGhpcy5yZW5kZXJJbWFnZSgpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gX3RoaXM7XG4gICAgfSxcblxuICAgIC8vIFVwZGF0ZSB2aWV3ZXIgd2hlbiBpbWFnZXMgY2hhbmdlZFxuICAgIHVwZGF0ZTogZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgIHZhciBpbmRleGVzID0gW107XG4gICAgICB2YXIgaW5kZXg7XG5cbiAgICAgIC8vIERlc3Ryb3kgdmlld2VyIGlmIHRoZSB0YXJnZXQgaW1hZ2Ugd2FzIGRlbGV0ZWRcbiAgICAgIGlmIChfdGhpcy5pc0ltZyAmJiAhX3RoaXMuZWxlbWVudC5wYXJlbnROb2RlKSB7XG4gICAgICAgIHJldHVybiBfdGhpcy5kZXN0cm95KCk7XG4gICAgICB9XG5cbiAgICAgIF90aGlzLmxlbmd0aCA9IF90aGlzLmltYWdlcy5sZW5ndGg7XG5cbiAgICAgIGlmIChfdGhpcy5pc0J1aWx0KSB7XG4gICAgICAgIGVhY2goX3RoaXMuaXRlbXMsIGZ1bmN0aW9uIChpdGVtLCBpKSB7XG4gICAgICAgICAgdmFyIGltZyA9IGdldEJ5VGFnKGl0ZW0sICdpbWcnKVswXTtcbiAgICAgICAgICB2YXIgaW1hZ2UgPSBfdGhpcy5pbWFnZXNbaV07XG5cbiAgICAgICAgICBpZiAoaW1hZ2UpIHtcbiAgICAgICAgICAgIGlmIChpbWFnZS5zcmMgIT09IGltZy5zcmMpIHtcbiAgICAgICAgICAgICAgaW5kZXhlcy5wdXNoKGkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpbmRleGVzLnB1c2goaSk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICBzZXRTdHlsZShfdGhpcy5saXN0LCB7XG4gICAgICAgICAgd2lkdGg6ICdhdXRvJ1xuICAgICAgICB9KTtcblxuICAgICAgICBfdGhpcy5pbml0TGlzdCgpO1xuXG4gICAgICAgIGlmIChfdGhpcy5pc1Nob3duKSB7XG4gICAgICAgICAgaWYgKF90aGlzLmxlbmd0aCkge1xuICAgICAgICAgICAgaWYgKF90aGlzLmlzVmlld2VkKSB7XG4gICAgICAgICAgICAgIGluZGV4ID0gaW5BcnJheShfdGhpcy5pbmRleCwgaW5kZXhlcyk7XG5cbiAgICAgICAgICAgICAgaWYgKGluZGV4ID49IDApIHtcbiAgICAgICAgICAgICAgICBfdGhpcy5pc1ZpZXdlZCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIF90aGlzLnZpZXcobWF4KF90aGlzLmluZGV4IC0gKGluZGV4ICsgMSksIDApKTtcbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBhZGRDbGFzcyhfdGhpcy5pdGVtc1tfdGhpcy5pbmRleF0sIENMQVNTX0FDVElWRSk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgX3RoaXMuaW1hZ2UgPSBudWxsO1xuICAgICAgICAgICAgX3RoaXMuaXNWaWV3ZWQgPSBmYWxzZTtcbiAgICAgICAgICAgIF90aGlzLmluZGV4ID0gMDtcbiAgICAgICAgICAgIF90aGlzLmltYWdlRGF0YSA9IG51bGw7XG4gICAgICAgICAgICBlbXB0eShfdGhpcy5jYW52YXMpO1xuICAgICAgICAgICAgZW1wdHkoX3RoaXMudGl0bGUpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICByZXR1cm4gX3RoaXM7XG4gICAgfSxcblxuICAgIC8vIERlc3Ryb3kgdGhlIHZpZXdlclxuICAgIGRlc3Ryb3k6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICB2YXIgZWxlbWVudCA9IF90aGlzLmVsZW1lbnQ7XG5cbiAgICAgIGlmIChfdGhpcy5vcHRpb25zLmlubGluZSkge1xuICAgICAgICBfdGhpcy51bmJpbmQoKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGlmIChfdGhpcy5pc1Nob3duKSB7XG4gICAgICAgICAgX3RoaXMudW5iaW5kKCk7XG4gICAgICAgIH1cblxuICAgICAgICByZW1vdmVMaXN0ZW5lcihlbGVtZW50LCBFVkVOVF9DTElDSywgX3RoaXMuX3N0YXJ0KTtcbiAgICAgIH1cblxuICAgICAgX3RoaXMudW5idWlsZCgpO1xuICAgICAgcmVtb3ZlRGF0YShlbGVtZW50LCBOQU1FU1BBQ0UpO1xuXG4gICAgICByZXR1cm4gX3RoaXM7XG4gICAgfSxcblxuICAgIG9wZW46IGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBib2R5ID0gdGhpcy5ib2R5O1xuXG4gICAgICBhZGRDbGFzcyhib2R5LCBDTEFTU19PUEVOKTtcbiAgICAgIGJvZHkuc3R5bGUucGFkZGluZ1JpZ2h0ID0gdGhpcy5zY3JvbGxiYXJXaWR0aCArICdweCc7XG4gICAgfSxcblxuICAgIGNsb3NlOiBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgYm9keSA9IHRoaXMuYm9keTtcblxuICAgICAgcmVtb3ZlQ2xhc3MoYm9keSwgQ0xBU1NfT1BFTik7XG4gICAgICBib2R5LnN0eWxlLnBhZGRpbmdSaWdodCA9IDA7XG4gICAgfSxcblxuICAgIHNob3duOiBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgdmFyIG9wdGlvbnMgPSBfdGhpcy5vcHRpb25zO1xuICAgICAgdmFyIGVsZW1lbnQgPSBfdGhpcy5lbGVtZW50O1xuXG4gICAgICBfdGhpcy50cmFuc2l0aW9uaW5nID0gZmFsc2U7XG4gICAgICBfdGhpcy5pc0Z1bGxlZCA9IHRydWU7XG4gICAgICBfdGhpcy5pc1Nob3duID0gdHJ1ZTtcbiAgICAgIF90aGlzLmlzVmlzaWJsZSA9IHRydWU7XG4gICAgICBfdGhpcy5yZW5kZXIoKTtcbiAgICAgIF90aGlzLmJpbmQoKTtcblxuICAgICAgaWYgKGlzRnVuY3Rpb24ob3B0aW9ucy5zaG93bikpIHtcbiAgICAgICAgYWRkTGlzdGVuZXIoZWxlbWVudCwgRVZFTlRfU0hPV04sIG9wdGlvbnMuc2hvd24sIHRydWUpO1xuICAgICAgfVxuXG4gICAgICBkaXNwYXRjaEV2ZW50KGVsZW1lbnQsIEVWRU5UX1NIT1dOKTtcbiAgICB9LFxuXG4gICAgaGlkZGVuOiBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgdmFyIG9wdGlvbnMgPSBfdGhpcy5vcHRpb25zO1xuICAgICAgdmFyIGVsZW1lbnQgPSBfdGhpcy5lbGVtZW50O1xuXG4gICAgICBfdGhpcy50cmFuc2l0aW9uaW5nID0gZmFsc2U7XG4gICAgICBfdGhpcy5pc1ZpZXdlZCA9IGZhbHNlO1xuICAgICAgX3RoaXMuaXNGdWxsZWQgPSBmYWxzZTtcbiAgICAgIF90aGlzLmlzU2hvd24gPSBmYWxzZTtcbiAgICAgIF90aGlzLmlzVmlzaWJsZSA9IGZhbHNlO1xuICAgICAgX3RoaXMudW5iaW5kKCk7XG4gICAgICBfdGhpcy5jbG9zZSgpO1xuICAgICAgYWRkQ2xhc3MoX3RoaXMudmlld2VyLCBDTEFTU19ISURFKTtcbiAgICAgIF90aGlzLnJlc2V0TGlzdCgpO1xuICAgICAgX3RoaXMucmVzZXRJbWFnZSgpO1xuXG4gICAgICBpZiAoaXNGdW5jdGlvbihvcHRpb25zLmhpZGRlbikpIHtcbiAgICAgICAgYWRkTGlzdGVuZXIoZWxlbWVudCwgRVZFTlRfSElEREVOLCBvcHRpb25zLmhpZGRlbiwgdHJ1ZSk7XG4gICAgICB9XG5cbiAgICAgIGRpc3BhdGNoRXZlbnQoZWxlbWVudCwgRVZFTlRfSElEREVOKTtcbiAgICB9LFxuXG4gICAgcmVxdWVzdEZ1bGxzY3JlZW46IGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICB2YXIgZG9jdW1lbnRFbGVtZW50ID0gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50O1xuXG4gICAgICBpZiAoX3RoaXMuaXNGdWxsZWQgJiYgIWRvY3VtZW50LmZ1bGxzY3JlZW5FbGVtZW50ICYmICFkb2N1bWVudC5tb3pGdWxsU2NyZWVuRWxlbWVudCAmJlxuICAgICAgICAhZG9jdW1lbnQud2Via2l0RnVsbHNjcmVlbkVsZW1lbnQgJiYgIWRvY3VtZW50Lm1zRnVsbHNjcmVlbkVsZW1lbnQpIHtcblxuICAgICAgICBpZiAoZG9jdW1lbnRFbGVtZW50LnJlcXVlc3RGdWxsc2NyZWVuKSB7XG4gICAgICAgICAgZG9jdW1lbnRFbGVtZW50LnJlcXVlc3RGdWxsc2NyZWVuKCk7XG4gICAgICAgIH0gZWxzZSBpZiAoZG9jdW1lbnRFbGVtZW50Lm1zUmVxdWVzdEZ1bGxzY3JlZW4pIHtcbiAgICAgICAgICBkb2N1bWVudEVsZW1lbnQubXNSZXF1ZXN0RnVsbHNjcmVlbigpO1xuICAgICAgICB9IGVsc2UgaWYgKGRvY3VtZW50RWxlbWVudC5tb3pSZXF1ZXN0RnVsbFNjcmVlbikge1xuICAgICAgICAgIGRvY3VtZW50RWxlbWVudC5tb3pSZXF1ZXN0RnVsbFNjcmVlbigpO1xuICAgICAgICB9IGVsc2UgaWYgKGRvY3VtZW50RWxlbWVudC53ZWJraXRSZXF1ZXN0RnVsbHNjcmVlbikge1xuICAgICAgICAgIGRvY3VtZW50RWxlbWVudC53ZWJraXRSZXF1ZXN0RnVsbHNjcmVlbihFbGVtZW50LkFMTE9XX0tFWUJPQVJEX0lOUFVUKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sXG5cbiAgICBleGl0RnVsbHNjcmVlbjogZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIF90aGlzID0gdGhpcztcblxuICAgICAgaWYgKF90aGlzLmlzRnVsbGVkKSB7XG4gICAgICAgIGlmIChkb2N1bWVudC5leGl0RnVsbHNjcmVlbikge1xuICAgICAgICAgIGRvY3VtZW50LmV4aXRGdWxsc2NyZWVuKCk7XG4gICAgICAgIH0gZWxzZSBpZiAoZG9jdW1lbnQubXNFeGl0RnVsbHNjcmVlbikge1xuICAgICAgICAgIGRvY3VtZW50Lm1zRXhpdEZ1bGxzY3JlZW4oKTtcbiAgICAgICAgfSBlbHNlIGlmIChkb2N1bWVudC5tb3pDYW5jZWxGdWxsU2NyZWVuKSB7XG4gICAgICAgICAgZG9jdW1lbnQubW96Q2FuY2VsRnVsbFNjcmVlbigpO1xuICAgICAgICB9IGVsc2UgaWYgKGRvY3VtZW50LndlYmtpdEV4aXRGdWxsc2NyZWVuKSB7XG4gICAgICAgICAgZG9jdW1lbnQud2Via2l0RXhpdEZ1bGxzY3JlZW4oKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sXG5cbiAgICBjaGFuZ2U6IGZ1bmN0aW9uIChlKSB7XG4gICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgdmFyIHBvaW50ZXJzID0gX3RoaXMucG9pbnRlcnM7XG4gICAgICB2YXIgcG9pbnRlciA9IHBvaW50ZXJzW09iamVjdC5rZXlzKHBvaW50ZXJzKVswXV07XG4gICAgICB2YXIgb2Zmc2V0WCA9IHBvaW50ZXIuZW5kWCAtIHBvaW50ZXIuc3RhcnRYO1xuICAgICAgdmFyIG9mZnNldFkgPSBwb2ludGVyLmVuZFkgLSBwb2ludGVyLnN0YXJ0WTtcblxuICAgICAgc3dpdGNoIChfdGhpcy5hY3Rpb24pIHtcblxuICAgICAgICAvLyBNb3ZlIHRoZSBjdXJyZW50IGltYWdlXG4gICAgICAgIGNhc2UgJ21vdmUnOlxuICAgICAgICAgIF90aGlzLm1vdmUob2Zmc2V0WCwgb2Zmc2V0WSk7XG4gICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgLy8gWm9vbSB0aGUgY3VycmVudCBpbWFnZVxuICAgICAgICBjYXNlICd6b29tJzpcbiAgICAgICAgICBfdGhpcy56b29tKGdldE1heFpvb21SYXRpbyhwb2ludGVycyksIGZhbHNlLCBlKTtcbiAgICAgICAgICBicmVhaztcblxuICAgICAgICBjYXNlICdzd2l0Y2gnOlxuICAgICAgICAgIF90aGlzLmFjdGlvbiA9ICdzd2l0Y2hlZCc7XG5cbiAgICAgICAgICBpZiAoYWJzKG9mZnNldFgpID4gYWJzKG9mZnNldFkpKSB7XG4gICAgICAgICAgICBpZiAob2Zmc2V0WCA+IDEpIHtcbiAgICAgICAgICAgICAgX3RoaXMucHJldigpO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChvZmZzZXRYIDwgLTEpIHtcbiAgICAgICAgICAgICAgX3RoaXMubmV4dCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cblxuICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgIC8vIE5vIGRlZmF1bHRcbiAgICAgIH1cblxuICAgICAgLy8gT3ZlcnJpZGVcbiAgICAgIGVhY2gocG9pbnRlcnMsIGZ1bmN0aW9uIChwKSB7XG4gICAgICAgIHAuc3RhcnRYID0gcC5lbmRYO1xuICAgICAgICBwLnN0YXJ0WSA9IHAuZW5kWTtcbiAgICAgIH0pO1xuICAgIH0sXG5cbiAgICBpc1N3aXRjaGFibGU6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICB2YXIgaW1hZ2VEYXRhID0gX3RoaXMuaW1hZ2VEYXRhO1xuICAgICAgdmFyIHZpZXdlckRhdGEgPSBfdGhpcy52aWV3ZXJEYXRhO1xuXG4gICAgICByZXR1cm4gX3RoaXMubGVuZ3RoID4gMSAmJiBpbWFnZURhdGEubGVmdCA+PSAwICYmIGltYWdlRGF0YS50b3AgPj0gMCAmJlxuICAgICAgICBpbWFnZURhdGEud2lkdGggPD0gdmlld2VyRGF0YS53aWR0aCAmJlxuICAgICAgICBpbWFnZURhdGEuaGVpZ2h0IDw9IHZpZXdlckRhdGEuaGVpZ2h0O1xuICAgIH1cbiAgfTtcblxuICBWaWV3ZXIuREVGQVVMVFMgPSB7XG5cbiAgICAvLyBFbmFibGUgaW5saW5lIG1vZGVcbiAgICBpbmxpbmU6IGZhbHNlLFxuXG4gICAgLy8gU2hvdyB0aGUgYnV0dG9uIG9uIHRoZSB0b3AtcmlnaHQgb2YgdGhlIHZpZXdlclxuICAgIGJ1dHRvbjogdHJ1ZSxcblxuICAgIC8vIFNob3cgdGhlIG5hdmJhclxuICAgIG5hdmJhcjogdHJ1ZSxcblxuICAgIC8vIFNob3cgdGhlIHRpdGxlXG4gICAgdGl0bGU6IHRydWUsXG5cbiAgICAvLyBTaG93IHRoZSB0b29sYmFyXG4gICAgdG9vbGJhcjogdHJ1ZSxcblxuICAgIC8vIFNob3cgdGhlIHRvb2x0aXAgd2l0aCBpbWFnZSByYXRpbyAocGVyY2VudGFnZSkgd2hlbiB6b29tIGluIG9yIHpvb20gb3V0XG4gICAgdG9vbHRpcDogdHJ1ZSxcblxuICAgIC8vIEVuYWJsZSB0byBtb3ZlIHRoZSBpbWFnZVxuICAgIG1vdmFibGU6IHRydWUsXG5cbiAgICAvLyBFbmFibGUgdG8gem9vbSB0aGUgaW1hZ2VcbiAgICB6b29tYWJsZTogdHJ1ZSxcblxuICAgIC8vIEVuYWJsZSB0byByb3RhdGUgdGhlIGltYWdlXG4gICAgcm90YXRhYmxlOiB0cnVlLFxuXG4gICAgLy8gRW5hYmxlIHRvIHNjYWxlIHRoZSBpbWFnZVxuICAgIHNjYWxhYmxlOiB0cnVlLFxuXG4gICAgLy8gRW5hYmxlIENTUzMgVHJhbnNpdGlvbiBmb3Igc29tZSBzcGVjaWFsIGVsZW1lbnRzXG4gICAgdHJhbnNpdGlvbjogdHJ1ZSxcblxuICAgIC8vIEVuYWJsZSB0byByZXF1ZXN0IGZ1bGxzY3JlZW4gd2hlbiBwbGF5XG4gICAgZnVsbHNjcmVlbjogdHJ1ZSxcblxuICAgIC8vIEVuYWJsZSBrZXlib2FyZCBzdXBwb3J0XG4gICAga2V5Ym9hcmQ6IHRydWUsXG5cbiAgICAvLyBEZWZpbmUgaW50ZXJ2YWwgb2YgZWFjaCBpbWFnZSB3aGVuIHBsYXlpbmdcbiAgICBpbnRlcnZhbDogNTAwMCxcblxuICAgIC8vIE1pbiB3aWR0aCBvZiB0aGUgdmlld2VyIGluIGlubGluZSBtb2RlXG4gICAgbWluV2lkdGg6IDIwMCxcblxuICAgIC8vIE1pbiBoZWlnaHQgb2YgdGhlIHZpZXdlciBpbiBpbmxpbmUgbW9kZVxuICAgIG1pbkhlaWdodDogMTAwLFxuXG4gICAgLy8gRGVmaW5lIHRoZSByYXRpbyB3aGVuIHpvb20gdGhlIGltYWdlIGJ5IHdoZWVsaW5nIG1vdXNlXG4gICAgem9vbVJhdGlvOiAwLjEsXG5cbiAgICAvLyBEZWZpbmUgdGhlIG1pbiByYXRpbyBvZiB0aGUgaW1hZ2Ugd2hlbiB6b29tIG91dFxuICAgIG1pblpvb21SYXRpbzogMC4wMSxcblxuICAgIC8vIERlZmluZSB0aGUgbWF4IHJhdGlvIG9mIHRoZSBpbWFnZSB3aGVuIHpvb20gaW5cbiAgICBtYXhab29tUmF0aW86IDEwMCxcblxuICAgIC8vIERlZmluZSB0aGUgQ1NTIGB6LWluZGV4YCB2YWx1ZSBvZiB2aWV3ZXIgaW4gbW9kYWwgbW9kZS5cbiAgICB6SW5kZXg6IDIwMTUsXG5cbiAgICAvLyBEZWZpbmUgdGhlIENTUyBgei1pbmRleGAgdmFsdWUgb2Ygdmlld2VyIGluIGlubGluZSBtb2RlLlxuICAgIHpJbmRleElubGluZTogMCxcblxuICAgIC8vIERlZmluZSB3aGVyZSB0byBnZXQgdGhlIG9yaWdpbmFsIGltYWdlIFVSTCBmb3Igdmlld2luZ1xuICAgIC8vIFR5cGU6IFN0cmluZyAoYW4gaW1hZ2UgYXR0cmlidXRlKSBvciBGdW5jdGlvbiAoc2hvdWxkIHJldHVybiBhbiBpbWFnZSBVUkwpXG4gICAgdXJsOiAnc3JjJyxcblxuICAgIC8vIEV2ZW50IHNob3J0Y3V0c1xuICAgIHJlYWR5OiBudWxsLFxuICAgIHNob3c6IG51bGwsXG4gICAgc2hvd246IG51bGwsXG4gICAgaGlkZTogbnVsbCxcbiAgICBoaWRkZW46IG51bGwsXG4gICAgdmlldzogbnVsbCxcbiAgICB2aWV3ZWQ6IG51bGxcbiAgfTtcblxuICBWaWV3ZXIuVEVNUExBVEUgPSAoXG4gICAgJzxkaXYgY2xhc3M9XCJ2aWV3ZXItY29udGFpbmVyXCI+JyArXG4gICAgICAnPGRpdiBjbGFzcz1cInZpZXdlci1jYW52YXNcIj48L2Rpdj4nICtcbiAgICAgICc8ZGl2IGNsYXNzPVwidmlld2VyLWZvb3RlclwiPicgK1xuICAgICAgICAnPGRpdiBjbGFzcz1cInZpZXdlci10aXRsZVwiPjwvZGl2PicgK1xuICAgICAgICAnPHVsIGNsYXNzPVwidmlld2VyLXRvb2xiYXJcIj4nICtcbiAgICAgICAgICAnPGxpIGNsYXNzPVwidmlld2VyLXpvb20taW5cIiBkYXRhLWFjdGlvbj1cInpvb20taW5cIj48L2xpPicgK1xuICAgICAgICAgICc8bGkgY2xhc3M9XCJ2aWV3ZXItem9vbS1vdXRcIiBkYXRhLWFjdGlvbj1cInpvb20tb3V0XCI+PC9saT4nICtcbiAgICAgICAgICAnPGxpIGNsYXNzPVwidmlld2VyLW9uZS10by1vbmVcIiBkYXRhLWFjdGlvbj1cIm9uZS10by1vbmVcIj48L2xpPicgK1xuICAgICAgICAgICc8bGkgY2xhc3M9XCJ2aWV3ZXItcmVzZXRcIiBkYXRhLWFjdGlvbj1cInJlc2V0XCI+PC9saT4nICtcbiAgICAgICAgICAnPGxpIGNsYXNzPVwidmlld2VyLXByZXZcIiBkYXRhLWFjdGlvbj1cInByZXZcIj48L2xpPicgK1xuICAgICAgICAgICc8bGkgY2xhc3M9XCJ2aWV3ZXItcGxheVwiIGRhdGEtYWN0aW9uPVwicGxheVwiPjwvbGk+JyArXG4gICAgICAgICAgJzxsaSBjbGFzcz1cInZpZXdlci1uZXh0XCIgZGF0YS1hY3Rpb249XCJuZXh0XCI+PC9saT4nICtcbiAgICAgICAgICAnPGxpIGNsYXNzPVwidmlld2VyLXJvdGF0ZS1sZWZ0XCIgZGF0YS1hY3Rpb249XCJyb3RhdGUtbGVmdFwiPjwvbGk+JyArXG4gICAgICAgICAgJzxsaSBjbGFzcz1cInZpZXdlci1yb3RhdGUtcmlnaHRcIiBkYXRhLWFjdGlvbj1cInJvdGF0ZS1yaWdodFwiPjwvbGk+JyArXG4gICAgICAgICAgJzxsaSBjbGFzcz1cInZpZXdlci1mbGlwLWhvcml6b250YWxcIiBkYXRhLWFjdGlvbj1cImZsaXAtaG9yaXpvbnRhbFwiPjwvbGk+JyArXG4gICAgICAgICAgJzxsaSBjbGFzcz1cInZpZXdlci1mbGlwLXZlcnRpY2FsXCIgZGF0YS1hY3Rpb249XCJmbGlwLXZlcnRpY2FsXCI+PC9saT4nICtcbiAgICAgICAgJzwvdWw+JyArXG4gICAgICAgICc8ZGl2IGNsYXNzPVwidmlld2VyLW5hdmJhclwiPicgK1xuICAgICAgICAgICc8dWwgY2xhc3M9XCJ2aWV3ZXItbGlzdFwiPjwvdWw+JyArXG4gICAgICAgICc8L2Rpdj4nICtcbiAgICAgICc8L2Rpdj4nICtcbiAgICAgICc8ZGl2IGNsYXNzPVwidmlld2VyLXRvb2x0aXBcIj48L2Rpdj4nICtcbiAgICAgICc8ZGl2IGNsYXNzPVwidmlld2VyLWJ1dHRvblwiIGRhdGEtYWN0aW9uPVwibWl4XCI+PC9kaXY+JyArXG4gICAgICAnPGRpdiBjbGFzcz1cInZpZXdlci1wbGF5ZXJcIj48L2Rpdj4nICtcbiAgICAnPC9kaXY+J1xuICApO1xuXG4gIHZhciBfVmlld2VyID0gd2luZG93LlZpZXdlcjtcblxuICBWaWV3ZXIubm9Db25mbGljdCA9IGZ1bmN0aW9uICgpIHtcbiAgICB3aW5kb3cuVmlld2VyID0gX1ZpZXdlcjtcbiAgICByZXR1cm4gVmlld2VyO1xuICB9O1xuXG4gIFZpZXdlci5zZXREZWZhdWx0cyA9IGZ1bmN0aW9uIChvcHRpb25zKSB7XG4gICAgZXh0ZW5kKFZpZXdlci5ERUZBVUxUUywgb3B0aW9ucyk7XG4gIH07XG5cbiAgaWYgKHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZCkge1xuICAgIGRlZmluZSgndmlld2VyJywgW10sIGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiBWaWV3ZXI7XG4gICAgfSk7XG4gIH1cblxuICBpZiAoIW5vR2xvYmFsKSB7XG4gICAgd2luZG93LlZpZXdlciA9IFZpZXdlcjtcbiAgfVxuXG4gIHJldHVybiBWaWV3ZXI7XG5cbn0pO1xuIl19
