(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({"/Users/cescwang/program/sil/SIL-frontend/app/app.js":[function(require,module,exports){
'use strict';

var _jquery = require('jquery');

var _jquery2 = _interopRequireDefault(_jquery);

var _angular = require('angular');

var _angular2 = _interopRequireDefault(_angular);

var _core = require('./core/core.module');

var _core2 = _interopRequireDefault(_core);

var _common = require('./common/common.module');

var _common2 = _interopRequireDefault(_common);

var _modules = require('./modules/modules.module');

var _modules2 = _interopRequireDefault(_modules);

require('./templates');

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

// window.$ = require('jquery');

_angular2.default.module('app', ['app.templates', _core2.default.name, _common2.default.name, _modules2.default.name]);

},{"./common/common.module":"/Users/cescwang/program/sil/SIL-frontend/app/common/common.module.js","./core/core.module":"/Users/cescwang/program/sil/SIL-frontend/app/core/core.module.js","./modules/modules.module":"/Users/cescwang/program/sil/SIL-frontend/app/modules/modules.module.js","./templates":"/Users/cescwang/program/sil/SIL-frontend/app/templates.js","angular":"angular","jquery":"jquery"}],"/Users/cescwang/program/sil/SIL-frontend/app/common/base/base.module.js":[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _angular = require('angular');

var _angular2 = _interopRequireDefault(_angular);

var _base = require('./base.service');

var _base2 = _interopRequireDefault(_base);

var _baseList = require('./baseList.controller');

var _baseList2 = _interopRequireDefault(_baseList);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

exports.default = _angular2.default.module('app.common.base', []).service('baseListCtrl', _baseList2.default).service('baseService', _base2.default);

},{"./base.service":"/Users/cescwang/program/sil/SIL-frontend/app/common/base/base.service.js","./baseList.controller":"/Users/cescwang/program/sil/SIL-frontend/app/common/base/baseList.controller.js","angular":"angular"}],"/Users/cescwang/program/sil/SIL-frontend/app/common/base/base.service.js":[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

var BaseService = function () {
  BaseService.$inject = ["$http", "httpHelper", "toastr"];
  function BaseService($http, httpHelper, toastr) {
    'ngInject';

    _classCallCheck(this, BaseService);

    this.$http = $http;
    this.httpHelper = httpHelper;
    this.toastr = toastr;

    this.urlPrefix = {
      // old
      //old: '/api/old/',

      // old group
      //group: '/api/group/'
    };
  }

  _createClass(BaseService, [{
    key: '_init',
    value: function _init() {

      this.baseInfo = window.pageConf.adminData;
    }
  }, {
    key: 'fetch',
    value: function fetch(type, method) {
      var params = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};


      return this._RESTfulFactory('get', type, method, params);
    }
  }, {
    key: 'fetchList',
    value: function fetchList(type, params) {

      return this.fetch(type, 'list', params);
    }
  }, {
    key: 'edit',
    value: function edit(type, id) {
      var params = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};


      return this._RESTfulFactory('put', type, id, params);
    }
  }, {
    key: 'add',
    value: function add(type, method) {
      var params = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};


      return this._RESTfulFactory('post', type, method, params);
    }
  }, {
    key: 'delete',
    value: function _delete(type, method) {
      var params = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};


      return this._RESTfulFactory('delete', type, method, params);
    }

    // Deprecated

  }, {
    key: 'getDetail',
    value: function getDetail(type, data) {

      this.httpHelper.blockUI.start();

      //this.fetch(type, 'list', params);

      console.log(type);
      var url = this.urlPrefix[type] + 'id';
      return this.$http.get(url).then(this.httpHelper.verify, this.httpHelper.error);
    }

    /**
     * RESTful http request factory function
     */

  }, {
    key: '_RESTfulFactory',
    value: function _RESTfulFactory(verb, type, method, params) {

      this.httpHelper.blockUI.start();

      var paramsName = ['post', 'put'].indexOf(verb) > -1 ? 'data' : 'params';

      return this.$http[verb](this._getUrl(type, method), _defineProperty({}, paramsName, params)).then(this.httpHelper.verify, this.httpHelper.error);
    }

    // TODO
    // fetchSearchList() {
    //   return $http.get('/api/old/searchOld', {params: data || {}}).then(httpHelper.verify,  httpHelper.error);
    // }

  }, {
    key: '_getUrl',
    value: function _getUrl(type, method) {

      return this.urlPrefix[type] ? this.urlPrefix[type] + '/' + method : '/api/' + type + '/' + method;
    }
  }, {
    key: 'notify',
    value: function notify(message) {
      var _this = this;

      var type = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'success';


      return function () {
        _this.toastr[type](message);
      };
    }
  }]);

  return BaseService;
}();

exports.default = BaseService;

},{}],"/Users/cescwang/program/sil/SIL-frontend/app/common/base/baseList.controller.js":[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

var BaseListCtrl = function () {
  function BaseListCtrl($injector, config) {
    _classCallCheck(this, BaseListCtrl);

    this.$stateParams = $injector.get('$stateParams');
    this.$location = $injector.get('$location');
    this.httpHelper = $injector.get('httpHelper');
    this.AreaService = $injector.get('AreaService');
    this.AppSettings = $injector.get('AppSettings');

    //this.xxx = $injector.get('xxx');

    this.areaList = this.AreaService.getList();
    this.statusList = this.AppSettings.statusList; // 状态
    this.oldTypeList = this.AppSettings.oldTypeList;
    this.oldStatusList = this.AppSettings.oldStatusList;
    this.pagination = this.AppSettings.pagination; // 分页

    this.filters = angular.extend({
      page: 1
    }, this.$stateParams, config.filters);
  }

  /**
   * 需在子Controller中调用此方法。
   * 若要重载此方法，应在重载方法中先调用super._init()
   *
   * opts: 参数配置
   *   numberKeys(Array): 来自url的请求参数将被从字符串转为整数
   */


  _createClass(BaseListCtrl, [{
    key: '_init',
    value: function _init(opts) {

      this.httpHelper.blockUI.start();

      if (!this._assertInvoke('_getParams', 'searchFun')) return;

      // 获取搜索参数
      this._getParams(opts);

      // 请求数据
      this.searchFun();
    }

    // 根据参数重新查询

  }, {
    key: 'reSearch',
    value: function reSearch() {

      this.$location.search(angular.merge({}, this.filters, {
        page: 1 // 改变状态后页码重置为1
      }));
    }

    /**
     * 分页事件（刷新页面，并根据请求参数重新筛选）
     */

  }, {
    key: 'pageChanged',
    value: function pageChanged() {
      this.$location.search(this.filters);
    }

    /**
     * 过滤掉空值请求参数（null, undefined等）
     * TODO: 以opts形式提供, 或放到baseService中
     */

  }, {
    key: 'filterNullFilter',
    value: function filterNullFilter(filters) {

      var tempFilter = angular.copy(filters);
      for (var i in tempFilter) {
        if (!tempFilter[i]) {
          delete tempFilter[i];
        }
      }

      return tempFilter;
    }
  }, {
    key: 'clearKeywordFilter',
    value: function clearKeywordFilter(data) {

      this.toggleFilter(angular.extend(data, {
        searchCol: null,
        searchType: null,
        keyword: null
      }));
    }
  }, {
    key: 'toggleFilter',
    value: function toggleFilter(filter) {

      this._setParams(filter, true);
    }

    /**
     * 设置查询参数到Controller
     *   data(Object): 查询参数
     *   isAutoRefresh(Boolean): 是否自动刷新页面
     */

  }, {
    key: '_setParams',
    value: function _setParams(data, isAutoRefresh) {

      for (var i in data) {
        if (this.filters[i] == data[i]) {
          this.filters[i] = undefined;
        } else {
          this.filters[i] = data[i];
        }
      }

      if (isAutoRefresh) this.reSearch();
    }

    /**
     * 从$stateParams中获取查询参数
     */

  }, {
    key: '_getParams',
    value: function _getParams(opts) {

      if (!opts) return;

      for (var i in this.filters) {
        if (this.$stateParams[i]) {
          this.filters[i] = opts.numberKeys.includes(i) ? +this.$stateParams[i] : this.$stateParams[i];
        }
      }
    }
  }, {
    key: 'remove',
    value: function remove(type, id, index) {

      var that = this;

      this.sweet.show({
        title: '确认删除这条数据吗？',
        showCancelButton: true,
        confirmButtonColor: "#DD6B55",
        confirmButtonText: "确定",
        cancelButtonText: "取消",
        closeOnConfirm: true,
        imageUrl: '/dist/images/common/warning.png'
      }, function (sure) {
        if (sure) {
          // this.operationService.remove(type, id).then(function( res ){
          //     toastr.success('操作已完成！', '提示');
          //     that.list.splice(index,1);
          // });
        } else {
          return;
        }
      });
    }
  }, {
    key: '_assertInvoke',
    value: function _assertInvoke() {
      var _this = this;

      var success = true;

      for (var _len = arguments.length, funcs = Array(_len), _key = 0; _key < _len; _key++) {
        funcs[_key] = arguments[_key];
      }

      funcs.forEach(function (func) {
        if (!_this[func]) {
          console.warn('There is no invoke ' + func + '() in controller');
          success = false;
          return;
        }
      });
      return success;
    }
  }]);

  return BaseListCtrl;
}();

exports.default = BaseListCtrl;

},{}],"/Users/cescwang/program/sil/SIL-frontend/app/common/common.module.js":[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _angular = require('angular');

var _angular2 = _interopRequireDefault(_angular);

var _base = require('./base/base.module');

var _base2 = _interopRequireDefault(_base);

var _components = require('./components/components.module');

var _components2 = _interopRequireDefault(_components);

var _directives = require('./directives/directives.module');

var _directives2 = _interopRequireDefault(_directives);

var _services = require('./services/services.module');

var _services2 = _interopRequireDefault(_services);

var _filters = require('./filters/filters.module');

var _filters2 = _interopRequireDefault(_filters);

var _regExpRule = require('./constants/regExpRule');

var _regExpRule2 = _interopRequireDefault(_regExpRule);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

exports.default = _angular2.default.module('app.common', [_base2.default.name, _components2.default.name, _services2.default.name, _directives2.default.name, _filters2.default.name]).constant('mcRegExp', _regExpRule2.default);

},{"./base/base.module":"/Users/cescwang/program/sil/SIL-frontend/app/common/base/base.module.js","./components/components.module":"/Users/cescwang/program/sil/SIL-frontend/app/common/components/components.module.js","./constants/regExpRule":"/Users/cescwang/program/sil/SIL-frontend/app/common/constants/regExpRule.js","./directives/directives.module":"/Users/cescwang/program/sil/SIL-frontend/app/common/directives/directives.module.js","./filters/filters.module":"/Users/cescwang/program/sil/SIL-frontend/app/common/filters/filters.module.js","./services/services.module":"/Users/cescwang/program/sil/SIL-frontend/app/common/services/services.module.js","angular":"angular"}],"/Users/cescwang/program/sil/SIL-frontend/app/common/components/back-top/back-top.js":[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
    value: true
});

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

var BackTopController = function BackTopController($scope, element, attrs, $window) {
    'ngInject';

    _classCallCheck(this, BackTopController);

    var $win = angular.element($window),
        $ele = angular.element(element);

    $win.scroll(function () {
        if ($win.scrollTop() <= 0) {
            $ele.fadeOut();
        } else {
            $ele.fadeIn();
        }
    });

    $ele.on('click', function () {
        $('html, body').animate({ scrollTop: 0 }, 'fast');
    });
};
BackTopController.$inject = ["$scope", "element", "attrs", "$window"];

var backTop = exports.backTop = {
    templateUrl: 'common/components/backTop/backTop.html',
    controller: BackTopController,
    bindings: {}
};

},{}],"/Users/cescwang/program/sil/SIL-frontend/app/common/components/components.module.js":[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _angular = require('angular');

var _angular2 = _interopRequireDefault(_angular);

var _backTop = require('./back-top/back-top');

var _inlineNav = require('./inline-nav');

var _inlineNav2 = _interopRequireDefault(_inlineNav);

var _mcStep = require('./mc-step');

var _mcStep2 = _interopRequireDefault(_mcStep);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

exports.default = _angular2.default.module('app.common.components', []).component('backTop', _backTop.backTop).component('inlineNav', _inlineNav2.default).component('mcStep', _mcStep2.default);

;

},{"./back-top/back-top":"/Users/cescwang/program/sil/SIL-frontend/app/common/components/back-top/back-top.js","./inline-nav":"/Users/cescwang/program/sil/SIL-frontend/app/common/components/inline-nav/index.js","./mc-step":"/Users/cescwang/program/sil/SIL-frontend/app/common/components/mc-step/index.js","angular":"angular"}],"/Users/cescwang/program/sil/SIL-frontend/app/common/components/inline-nav/index.js":[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _inlineNav = require('./inline-nav.ctrl');

var _inlineNav2 = _interopRequireDefault(_inlineNav);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var inlineNav = {
  templateUrl: 'common/components/inline-nav/inline-nav.html',
  controller: _inlineNav2.default,
  bindings: {
    navList: '<',
    btnList: '<',
    alias: '@',
    backBtn: '<'
  }
};

exports.default = inlineNav;

},{"./inline-nav.ctrl":"/Users/cescwang/program/sil/SIL-frontend/app/common/components/inline-nav/inline-nav.ctrl.js"}],"/Users/cescwang/program/sil/SIL-frontend/app/common/components/inline-nav/inline-nav.ctrl.js":[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

var InlineNavController = function () {
  InlineNavController.$inject = ["$state", "$injector", "$resolve", "$scope"];
  function InlineNavController($state, $injector, $resolve, $scope) {
    'ngInject';

    var _this = this;

    _classCallCheck(this, InlineNavController);

    this.resolveObject = $scope.$parent.$resolve;

    if (this.alias && this.resolveObject[this.alias]) {
      this.extraInfo = this.resolveObject[this.alias];
    }
    // this.extraInfo = $injector.get(this.alias);

    //console.log($state.get());
    //console.log(this.navList);

    if (this.btnList) this.btnListBackup = [].concat(_toConsumableArray(this.btnList));
    if (this.navList) this.navListBackup = [].concat(_toConsumableArray(this.navList));

    $scope.$watch('$ctrl.extraInfo._initTag', function () {
      _this._init();
    });
  }

  _createClass(InlineNavController, [{
    key: '_init',
    value: function _init() {
      var _this2 = this;

      if (this.navListBackup) {
        this.navList = this.navListBackup.filter(function (item) {
          return _this2._filterHandle(item);
        });
      }
      if (this.btnListBackup && this.btnListBackup.length) {
        this.btnList = this.btnListBackup.filter(function (item) {
          return _this2._filterHandle(item);
        });
      }
    }
  }, {
    key: '_filterHandle',
    value: function _filterHandle(item) {
      if (item.expession) {
        if (this.extraInfo && Object.keys(this.extraInfo).length > 1) {
          return this.handleExp(this.extraInfo, item.expession);
        } else {
          return false;
        }
      }

      return true;
    }
  }, {
    key: 'handleExp',
    value: function handleExp(obj, exp) {

      var handler = new Function('with(' + JSON.stringify(obj) + '){return ' + exp + '}');

      return handler();
    }
  }, {
    key: 'handleClick',
    value: function handleClick(item, e) {
      if (item.clickExpession) {
        if (this.extraInfo && Object.keys(this.extraInfo).length > 1) {
          if (this.handleExp(this.extraInfo, item.clickExpession)) {
            item.clickHandler && item.clickHandler();

            e.preventDefault();
            return false;
          }
        } else {
          return true;
        }
      }

      return true;
    }
  }]);

  return InlineNavController;
}();

exports.default = InlineNavController;

},{}],"/Users/cescwang/program/sil/SIL-frontend/app/common/components/mc-step/ctrl.js":[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

var mcStepController = function mcStepController() {
  'ngInject';

  _classCallCheck(this, mcStepController);
};

exports.default = mcStepController;

},{}],"/Users/cescwang/program/sil/SIL-frontend/app/common/components/mc-step/index.js":[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _ctrl = require('./ctrl');

var _ctrl2 = _interopRequireDefault(_ctrl);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var mcStep = {
  templateUrl: 'common/components/mc-step/template.html',
  controller: _ctrl2.default,
  controllerAs: 'vm',
  bindings: {
    stepList: '=',
    currentStep: '='
  }
};

exports.default = mcStep;

},{"./ctrl":"/Users/cescwang/program/sil/SIL-frontend/app/common/components/mc-step/ctrl.js"}],"/Users/cescwang/program/sil/SIL-frontend/app/common/constants/regExpRule.js":[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
    value: true
});
var expression = exports.expression = {
    required: function required(value) {
        return !!value;
    },
    requiredIfNeed: function requiredIfNeed(value, scope, element, attrs, param) {
        var obj = scope.$parent;
        var expression = param.split('|');
        // var arr = expression[0].split('.');
        var bool, determination;

        if (expression.length != 3 || !expression[0] || !/^(\s+)?[!=><]+(\s+)?$/.test(expression[1])) {
            return true;
        }

        //简化实现
        determination = new Function('return this && this.' + expression[0]).call(obj);

        bool = new Function('return ' + determination + expression[1] + expression[2])();

        if (bool) {
            return !!value;
        } else {
            return true;
        }
    },
    notNull: function notNull(value) {
        if (value || value === 0) {
            return true;
        }
        return false;
    },
    notBlank: function notBlank(val) {
        if (val === '') return false;else return true;
    },
    url: /((([A-Za-z]{3,9}:(?:\/\/)?)(?:[-;:&=\+\$,\w]+@)?[A-Za-z0-9.-]+|(?:www.|[-;:&=\+\$,\w]+@)[A-Za-z0-9.-]+)((?:\/[\+~%\/.\w-_]*)?\??(?:[-\+=&;%@.\w_]*)#?(?:[\w]*))?)/,
    email: /^([\w-\.]+)@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.)|(([\w-]+\.)+))([a-zA-Z]{2,4}|[0-9]{1,3})(\]?)$/,
    number: function number(val) {
        if (val === '' || /\s/g.test(val)) return true;
        return (/^\d+$/.test(val)
        );
    },
    // 手机
    mobile: function mobile(val) {
        // 需要以这种方法写, 不然当它为空值时也会进行验证
        return val ? /^(13|14|15|17|18)\d{9}$/i.test(val) : true;
    },
    // 座机 (999)99999999 或 999-99999999 或 99999999999
    tel: /^((\(\d{2,3}\))|(\d{3}\-)|(\d{3}))?(\(0\d{2,3}\)|0\d{2,3}-)?[1-9]\d{6,7}(\-\d{1,4})?$/i,
    telOrMobile: function telOrMobile(value) {
        // 相同支持手机和座机
        return expression.mobile(value) || expression.tel.test(value);
    },
    noSpace: function noSpace(value, scope, element) {
        // angular-validation对文本夫域传来的值作了trim截取, 所以无法直接获知值的首尾是包含空格
        return !/\w*\s+\w*/g.test(element.val());
    },
    float: /^[-+]?[0-9]*\.?[0-9]+$/,
    minlength: function minlength(value, scope, element, attrs, param) {
        return value.length >= param;
    },
    maxlength: function maxlength(value, scope, element, attrs, param) {
        return value.length <= param;
    },
    min: function min(value, scope, element, attrs, param) {
        return parseFloat(value) >= parseFloat(param);
    },
    minNotEqual: function minNotEqual(value, scope, element, attrs, param) {
        return parseFloat(value) > parseFloat(param);
    },
    max: function max(value, scope, element, attrs, param) {
        return parseFloat(value) <= parseFloat(param);
    },
    range: function range(value, scope, element, attrs, param) {
        // 此处有坑，在判断并列条件的时候，会出现误判，故都转成数字在对比
        var arr = param.split('|');
        value = parseFloat(value);
        return value >= parseFloat(arr[0]) && value <= parseFloat(arr[1]);
    },
    cert: /^(\d{15}$|^\d{18}$|^\d{17}(\d|X|x))$/,
    displayCode: function displayCode(value) {
        if (value == "") {
            return true;
        }
        return !!(value.length == 4);
    },
    identity: function identity(str) {

        if (!str) {
            return true;
        }

        str = $.trim(str).toString();

        var transformatIdFrom15To18 = function transformatIdFrom15To18(idCardNo) {
            var v = new Array(2, 4, 8, 5, 10, 9, 7, 3, 6, 1, 2, 4, 8, 5, 10, 9, 7);
            var vs = "10X98765432";
            if (idCardNo == null || idCardNo.length != 15) {
                return "";
            }
            // 将15位的号码转换位17位
            var cardID17 = idCardNo.substring(0, 6) + "19" + idCardNo.substring(6);
            var N = 0;
            var R = -1;
            var T = '0'; // 储存最后一个数字
            var j = 0;
            var cardID18 = "";
            // 计数出第18位数字
            for (var i = 16; i >= 0; i--) {
                N += parseInt(cardID17.substring(i, i + 1)) * v[j];
                j++;
            }
            R = N % 11;
            T = vs.charAt(R);
            cardID18 = cardID17 + T;
            return cardID18;
        };

        if (str.length == 15) {
            str = transformatIdFrom15To18(str);
        }

        var iSum = 0,
            sId = str,
            aCity = {
            11: "北京", 12: "天津", 13: "河北", 14: "山西", 15: "内蒙古",
            21: "辽宁", 22: "吉林", 23: "黑龙江", 31: "上海", 32: "江苏",
            33: "浙江", 34: "安徽", 35: "福建", 36: "江西", 37: "山东",
            41: "河南", 42: "湖北", 43: "湖南", 44: "广东", 45: "广西",
            46: "海南", 50: "重庆", 51: "四川", 52: "贵州", 53: "云南",
            54: "西藏", 61: "陕西", 62: "甘肃", 63: "青海", 64: "宁夏",
            65: "新疆", 71: "台湾", 81: "香港", 82: "澳门", 91: "国外"
        };
        if (!/^\d{17}(\d|x)$/i.test(sId)) {
            return false;
        }
        sId = sId.replace(/x$/i, "a");
        //非法地区
        if (aCity[parseInt(sId.substr(0, 2), 10)] == null) {
            return false;
        }
        var sBirthday = sId.substr(6, 4) + "-" + Number(sId.substr(10, 2)) + "-" + Number(sId.substr(12, 2)),
            d = new Date(sBirthday.replace(/-/g, "/"));
        //非法生日
        if (sBirthday != d.getFullYear() + "-" + (d.getMonth() + 1) + "-" + d.getDate()) {
            return false;
        }
        for (var i = 17; i >= 0; i--) {
            iSum += Math.pow(2, i) % 11 * parseInt(sId.charAt(17 - i), 11);
        }
        if (iSum % 11 != 1) {
            return false;
        }
        return true;
    },
    relation: function relation(value) {
        return !!(value == 0 || value == 1 || value == 2 || value == 3);
    },
    account: /^[a-z|A-z|0-9|_]+$/,
    chinese: /^[\u4E00-\u9FA5]+$/,
    nonUnicode: function nonUnicode(value) {
        return !/[\u4E00-\u9FA5]|[\uFE30-\uFFA0]/gi.test(value);
    },
    digitalLetter: function digitalLetter(val) {
        if (val === '') return true;
        return (/^[A-Za-z0-9]+$/.test(val)
        );
    },
    decimalLimit: function decimalLimit(value, scope, element, attrs, param) {
        var reg = eval('/^\\d+(\\.\\d{1,' + param + '})?$/');
        return reg.test(value);
    },
    accountPwd: /^\S{6,20}$/,
    discount: function discount(val) {
        if (val == 10) {
            return true;
        }
        return (/^\d(\.\d)?$/.test(val)
        );
    }
};

var defaultMsg = exports.defaultMsg = {
    required: {
        error: '该项为必填项!',
        success: ' '
    },
    requiredIfNeed: {
        error: '该项为必填项!',
        success: ' '
    },
    notNull: {
        error: '该项为必填项!',
        success: ' '
    },
    url: {
        error: 'url格式不正确！',
        success: ' '
    },
    email: {
        error: 'email格式不正确！',
        success: ' '
    },
    number: {
        error: '数字格式不正确！',
        success: ' '
    },
    float: {
        error: '小数格式不正确！',
        success: ' '
    },
    minlength: {
        error: '内容长度不够！',
        success: ' '
    },
    maxlength: {
        error: '内容长度过长！',
        success: ' '
    },
    min: {
        error: '您的输入值小了',
        success: ' '
    },
    minNotEqual: {
        error: '您的输入值小了',
        success: ' '
    },
    max: {
        error: '您的输入值大了！',
        success: ' '
    },
    range: {
        error: '输入范围有误！',
        success: ' '
    },
    cert: {
        error: '身份证格式不对！',
        success: ' '
    },
    displayCode: {
        error: '手环编码为四位',
        success: ' '
    },
    identity: {
        error: '身份证格式不对！',
        success: ' '
    },
    relation: {
        error: '请选择亲属关系',
        success: ' '
    },
    mobile: {
        error: '手机格式不正确',
        success: ' '
    },
    telOrMobile: {
        error: '手机或座机号码不正确',
        success: ' '
    },
    noSpace: {
        error: '不能填写空白字符',
        success: ' '
    },
    account: {
        error: '格式只能输入字母数字下划线',
        success: ' '
    },
    chinese: {
        error: '请输入中文',
        success: ' '
    },
    nonUnicode: {
        error: '不能包含中文字符',
        success: ' '
    },
    digitalLetter: {
        error: '只能是数字或字母',
        success: ' '
    },
    notBlank: {
        error: '该项为必填项',
        success: ' '
    },
    decimalLimit: {
        error: '小数位数过长！',
        success: ' '
    },
    accountPwd: {
        error: '密码为6-20位字符',
        success: ''
    },
    discount: {
        error: '小数格式不正确!'
    }
};

},{}],"/Users/cescwang/program/sil/SIL-frontend/app/common/directives/directives.module.js":[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _angular = require('angular');

var _angular2 = _interopRequireDefault(_angular);

var _imgLazyLoad = require('./imgLazyLoad.directive');

var _imgLazyLoad2 = _interopRequireDefault(_imgLazyLoad);

var _keyEvent = require('./keyEvent.directive');

var _keyEvent2 = _interopRequireDefault(_keyEvent);

var _formEditable = require('./form-editable');

var _formEditable2 = _interopRequireDefault(_formEditable);

var _filterList = require('./filter-list');

var _filterList2 = _interopRequireDefault(_filterList);

var _resizable = require('./resizable.directive');

var _resizable2 = _interopRequireDefault(_resizable);

var _emptyTip = require('./emptyTip.directive');

var _emptyTip2 = _interopRequireDefault(_emptyTip);

var _mcBatchUploadVc = require('./mcBatchUploadVc');

var _mcBatchUploadVc2 = _interopRequireDefault(_mcBatchUploadVc);

var _mcBatchUploadUser = require('./mcBatchUploadUser');

var _mcBatchUploadUser2 = _interopRequireDefault(_mcBatchUploadUser);

var _mcBatchUploadBank = require('./mcBatchUploadBank');

var _mcBatchUploadBank2 = _interopRequireDefault(_mcBatchUploadBank);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

exports.default = _angular2.default.module('app.common.directives', [
  // echarts.name
]).directive('imgLazyLoad', _imgLazyLoad2.default).directive('keyEvent', _keyEvent2.default).directive('formEditable', _formEditable2.default).directive('filterList', _filterList2.default).directive('resizable', _resizable2.default).directive('emptyTip', _emptyTip2.default).directive('mcBatchUploadVc', _mcBatchUploadVc2.default).directive('mcBatchUploadUser', _mcBatchUploadUser2.default).directive('mcBatchUploadBank', _mcBatchUploadBank2.default);
// import echarts         from './echarts';

},{"./emptyTip.directive":"/Users/cescwang/program/sil/SIL-frontend/app/common/directives/emptyTip.directive.js","./filter-list":"/Users/cescwang/program/sil/SIL-frontend/app/common/directives/filter-list/index.js","./form-editable":"/Users/cescwang/program/sil/SIL-frontend/app/common/directives/form-editable/index.js","./imgLazyLoad.directive":"/Users/cescwang/program/sil/SIL-frontend/app/common/directives/imgLazyLoad.directive.js","./keyEvent.directive":"/Users/cescwang/program/sil/SIL-frontend/app/common/directives/keyEvent.directive.js","./mcBatchUploadBank":"/Users/cescwang/program/sil/SIL-frontend/app/common/directives/mcBatchUploadBank/index.js","./mcBatchUploadUser":"/Users/cescwang/program/sil/SIL-frontend/app/common/directives/mcBatchUploadUser/index.js","./mcBatchUploadVc":"/Users/cescwang/program/sil/SIL-frontend/app/common/directives/mcBatchUploadVc/index.js","./resizable.directive":"/Users/cescwang/program/sil/SIL-frontend/app/common/directives/resizable.directive.js","angular":"angular"}],"/Users/cescwang/program/sil/SIL-frontend/app/common/directives/emptyTip.directive.js":[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.default = emptyListTipDirective;
/**
 * @description 当列表没有数据时，显示提示
 */
function emptyListTipDirective() {
    return {
        restrict: 'EA',
        template: '<div class="row text-center text-muted" style="padding: 50px 0;">{{message}}</div>',
        replace: true,
        link: function link(scope, element, attrs) {
            scope.message = attrs.message || '暂无数据 :-( ';
        }
    };
}

},{}],"/Users/cescwang/program/sil/SIL-frontend/app/common/directives/filter-list/index.js":[function(require,module,exports){
'use strict';

FilterListDirective.$inject = ["$parse"];
Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = FilterListDirective;
/**
 * 列表页面的分类过滤
 */
function FilterListDirective($parse) {
  'ngInject';

  return {
    restrict: 'EA',
    scope: {
      list: '=',
      filters: '=',
      title: '@',
      ctrlName: '@',
      filterKey: '@',
      itemName: '@',
      itemId: '@',
      clazz: '@'
    },
    templateUrl: 'common/directives/filter-list/filter-list.html',
    replace: true,
    link: function postLink(scope, element, attrs) {

      var listCtrl = scope.$parent[scope.ctrlName || '$ctrl'];

      scope.clearKeywordFilter = function (val) {
        var params = {};
        params[scope.filterKey] = val;

        listCtrl.clearKeywordFilter.bind(listCtrl, params)();
      };
    }
  };
}

},{}],"/Users/cescwang/program/sil/SIL-frontend/app/common/directives/form-editable/form-editable.ctrl.js":[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = FormEditableController;
function FormEditableController() {
  'ngInject';

  this.base = {
    $show: function $show() {
      if (this.$visible) {
        return;
      }

      this.$visible = true;
    },

    $hide: function $hide() {
      if (!this.$visible) {
        return;
      }
      this.$visible = false;
    },

    $cancel: function $cancel() {
      if (!this.$visible) {
        return;
      }

      // self hide
      this.$hide();
    },

    $submit: function $submit() {

      this.$onaftersave();
    }

  };

  return angular.extend({
    $visible: false,
    $waiting: false
  }, this.base);
}

},{}],"/Users/cescwang/program/sil/SIL-frontend/app/common/directives/form-editable/index.js":[function(require,module,exports){
'use strict';

FormEditable.$inject = ["$parse"];
Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = FormEditable;

var _formEditable = require('./form-editable.ctrl');

var _formEditable2 = _interopRequireDefault(_formEditable);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function FormEditable($parse) {
  'ngInject';

  return {
    restrict: 'A',
    require: ['form', 'formEditable'],
    controller: _formEditable2.default,
    compile: function compile() {
      return {
        pre: function pre(scope, elem, attrs, ctrl) {
          var form = ctrl[0],
              submitBtn = angular.element(elem).find('[type=submit]');

          angular.extend(form, ctrl[1]);

          //console.log(form);
        },

        post: function post(scope, elem, attrs, ctrl) {
          var eForm = ctrl[1];
          //console.log(eForm)

          // onbeforesave, onaftersave
          if (!attrs.ngSubmit && !attrs.submit) {

            if (attrs.onaftersave) {
              eForm.$onaftersave = function () {
                return $parse(attrs.onaftersave)(scope, { $data: eForm.$data });
              };
            }

            elem.bind('submit', function (event) {
              console.log('submit');
              event.preventDefault();
              scope.$apply(function () {
                eForm.$submit();
              });
            });
          }
        }
      };
    }
  };
}

},{"./form-editable.ctrl":"/Users/cescwang/program/sil/SIL-frontend/app/common/directives/form-editable/form-editable.ctrl.js"}],"/Users/cescwang/program/sil/SIL-frontend/app/common/directives/imgLazyLoad.directive.js":[function(require,module,exports){
'use strict';

imgLazyLoad.$inject = ["imgPreLoadService", "$timeout"];
Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = imgLazyLoad;
/**
 * @description 如果原图加载失败，则加载默认图片
 * @example
 * <img img-lazy-load avatar-id="{{item.avatar}}" class="avatar"/>
 */
function imgLazyLoad(imgPreLoadService, $timeout) {
  'ngInject';

  return {
    restrict: 'A',
    scope: {
      avatar: '@',
      avatarId: '@'
    },
    link: function link(scope, element, attrs) {

      var baseUrl = 'http://static.maimai100.cn/avatar/';

      if (scope.avatar) {
        scope.$watch('avatar', function (val) {
          return setUrl(val);
        });
      } else if (scope.avatarId) {
        scope.$watch('avatarId', function (val) {
          return setUrl(baseUrl + val);
        });
      } else {
        setUrl(attrs.default);
      }

      function setUrl(url) {
        if (!url || url === baseUrl) return;

        imgPreLoadService(url).then(function () {
          $timeout(function () {
            $(element).attr('src', '/dist/images/common/blank.gif').css({
              'background-image': 'url("' + url + '")',
              'background-size': 'cover'
            });
            $(element).fadeIn();
          });
        }, function (err) {
          $(element).css({
            'background-image': 'url("http://static.maimai100.cn/avatar/man.png")',
            'background-size': 'cover'
          });
        });
      }
    }
  };
}

},{}],"/Users/cescwang/program/sil/SIL-frontend/app/common/directives/keyEvent.directive.js":[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = keyEvent;
/**
 * @description 键盘事件监听和执行
 * @property {Number} code 所敲击的某个键的keyCode, 如果要监听回车键，设置为13即可
 * @example
 * <input ng-model="keyword" type="text" code="13" key-event="searchByKeyword(keyword);">
 */
function keyEvent() {

  return {
    restrict: 'A',
    link: function link($scope, $element, $attrs) {
      $element.bind('keypress', function (event) {
        var keyCode = event.which || event.keyCode;

        if (keyCode == $attrs.code) {
          $scope.$apply(function () {
            return $scope.$eval($attrs.keyEvent, { $event: event });
          });

          event.preventDefault();
        }
      });
    }
  };
}

},{}],"/Users/cescwang/program/sil/SIL-frontend/app/common/directives/mcBatchUploadBank/index.js":[function(require,module,exports){
'use strict';

batchUploadDevice.$inject = ["$uibModal", "$parse", "$timeout"];
batchUploadFileCtrl.$inject = ["$location", "$uibModal", "$uibModalInstance", "$rootScope", "$scope", "$state", "$timeout", "ApiMap", "toastr", "options"];
ErrorListCtrl.$inject = ["$uibModalInstance", "info"];
Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.default = batchUploadDevice;
function batchUploadDevice($uibModal, $parse, $timeout) {
    'ngInject';

    return {
        restrict: 'EA',
        template: '<div class="hide"></div>',
        //replace: true,
        link: function link(scope, element, attrs) {

            var unbind = scope.$on("batchUploadBank", function (event) {
                var _options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};

                Dropzone.autoDiscover = false;

                $uibModal.open({
                    animation: true,
                    templateUrl: 'common/directives/mcBatchUploadBank/template.html',
                    controller: batchUploadFileCtrl,
                    controllerAs: 'vm',
                    size: "",
                    resolve: {
                        options: function options() {
                            return _options;
                        }
                    }
                }).result.then(function () {}, function () {});
            });
            scope.$on('$destroy', unbind);
        }
    };
}

function batchUploadFileCtrl($location, $uibModal, $uibModalInstance, $rootScope, $scope, $state, $timeout, ApiMap, toastr, options) {
    'ngInject';

    var vm = this;

    var id = '',
        params = '';

    vm.download_url = ApiMap.bank.downloadTemplate;

    var url = ApiMap.bank.import;

    angular.extend(vm, {
        uploadFile: uploadFile,
        //pensionArea: window.pageConf.areaList,
        //pensionInfo: window.pageConf.pensionInfo,
        dropzoneConfig: {
            paramName: options.paramName || 'file',
            headers: { extra: $rootScope.AUTHORIZATION_TOKEN },
            url: url,
            method: 'post',
            maxFilesize: 50,
            maxFiles: 2,
            dictFileTooBig: '文件大小不能超过50M',
            uploadMultiple: false,
            autoProcessQueue: true,
            acceptedFiles: 'application/vnd.ms-excel, application/vnd.openxmlformats-officedocument.spreadsheetml.sheet',
            addedfile: function addedfile(file) {
                $('#upload_button').attr('disabled', 'disabled').text('上传中');
            },
            success: function success(file, data) {
                $rootScope.imgUploadng = false;
                this.removeFile(file);
                $('#upload_button').removeAttr('disabled').text('上传');

                console.log(data);
                if (data.code == 0) {
                    if (data.data.errors.length > 0) {
                        // toastr.error(data.data);
                        vm.errorList = data.data.errors;
                        showErrorList(data.data);
                        // $modalInstance.close();
                    } else {
                        toastr.success('添加成功');
                    }

                    if (data.data.successCount > 0) {
                        $state.reload();
                    }
                } else {
                    toastr.error(data.info);
                }

                $uibModalInstance.close();
            }
        },
        errorList: null
    });

    function showErrorList(data) {
        $uibModal.open({
            animation: true,
            templateUrl: 'common/directives/mcBatchUploadBank/error.html',
            controller: ErrorListCtrl,
            controllerAs: 'vm',
            size: "",
            resolve: {
                info: function info() {
                    return data;
                }
            }
        }).result.then(function () {}, function () {});
    }

    // 触发上传
    function uploadFile(e) {
        e.preventDefault();
        $timeout(function () {
            $(e.target).siblings('.dropzone').trigger('click');
        });
    }
}

function ErrorListCtrl($uibModalInstance, info) {
    'ngInject';

    var error = info.errors;
    if (error) {
        error = error.filter(function (item) {
            return item.data[0] !== null;
        });
    } else {
        error = [];
    }

    this.errorList = error;
    this.count = info.successCount;

    this.cancel = function () {
        $uibModalInstance.close();
    };
}

},{}],"/Users/cescwang/program/sil/SIL-frontend/app/common/directives/mcBatchUploadUser/index.js":[function(require,module,exports){
'use strict';

batchUploadDevice.$inject = ["$uibModal", "$parse", "$timeout"];
batchUploadFileCtrl.$inject = ["$location", "$uibModal", "$uibModalInstance", "$rootScope", "$scope", "$state", "$timeout", "ApiMap", "toastr", "options"];
ErrorListCtrl.$inject = ["$uibModalInstance", "info"];
Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.default = batchUploadDevice;
function batchUploadDevice($uibModal, $parse, $timeout) {
    'ngInject';

    return {
        restrict: 'EA',
        template: '<div class="hide"></div>',
        //replace: true,
        link: function link(scope, element, attrs) {

            var unbind = scope.$on("batchUploadUser", function (event) {
                var _options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};

                Dropzone.autoDiscover = false;

                $uibModal.open({
                    animation: true,
                    templateUrl: 'common/directives/mcBatchUploadUser/template.html',
                    controller: batchUploadFileCtrl,
                    controllerAs: 'vm',
                    size: "",
                    resolve: {
                        options: function options() {
                            return _options;
                        }
                    }
                }).result.then(function () {}, function () {});
            });
            scope.$on('$destroy', unbind);
        }
    };
}

function batchUploadFileCtrl($location, $uibModal, $uibModalInstance, $rootScope, $scope, $state, $timeout, ApiMap, toastr, options) {
    'ngInject';

    var vm = this;

    var id = '',
        params = '';

    vm.download_url = ApiMap.account.downloadTemplate;

    var url = ApiMap.account.import;

    angular.extend(vm, {
        uploadFile: uploadFile,
        //pensionArea: window.pageConf.areaList,
        //pensionInfo: window.pageConf.pensionInfo,
        dropzoneConfig: {
            paramName: options.paramName || 'file',
            headers: { extra: $rootScope.AUTHORIZATION_TOKEN },
            url: url,
            method: 'post',
            maxFilesize: 50,
            maxFiles: 2,
            dictFileTooBig: '文件大小不能超过50M',
            uploadMultiple: false,
            autoProcessQueue: true,
            acceptedFiles: 'application/vnd.ms-excel, application/vnd.openxmlformats-officedocument.spreadsheetml.sheet',
            addedfile: function addedfile(file) {
                $('#upload_button').attr('disabled', 'disabled').text('上传中');
            },
            success: function success(file, data) {
                $rootScope.imgUploadng = false;
                this.removeFile(file);
                $('#upload_button').removeAttr('disabled').text('上传');

                console.log(data);
                if (data.code == 0) {
                    if (data.data.errors.length > 0) {
                        // toastr.error(data.data);
                        vm.errorList = data.data.errors;
                        showErrorList(data.data);
                    } else {
                        toastr.success('添加成功');
                        $state.reload();
                    }
                } else {
                    toastr.error(data.info);
                }

                //$modalInstance.close();
            }
        }
    });

    function showErrorList(data) {
        $uibModal.open({
            animation: true,
            templateUrl: 'common/directives/mcBatchUploadUser/error.html',
            controller: ErrorListCtrl,
            controllerAs: 'vm',
            size: "",
            resolve: {
                info: function info() {
                    return data;
                }
            }
        }).result.then(function () {}, function () {});
    }

    // 触发上传
    function uploadFile(e) {
        e.preventDefault();
        $timeout(function () {
            $(e.target).siblings('.dropzone').trigger('click');
        });
    }
}

function ErrorListCtrl($uibModalInstance, info) {
    'ngInject';

    var error = info.errors;
    if (error) {
        error = error.filter(function (item) {
            return item.data[0] !== null;
        });
    } else {
        error = [];
    }

    this.errorList = error;
    this.count = info.successCount;

    this.cancel = function () {
        $uibModalInstance.close();
    };
}

},{}],"/Users/cescwang/program/sil/SIL-frontend/app/common/directives/mcBatchUploadVc/index.js":[function(require,module,exports){
'use strict';

batchUploadDevice.$inject = ["$uibModal", "$parse", "$timeout"];
batchUploadFileCtrl.$inject = ["$location", "$uibModal", "$uibModalInstance", "$rootScope", "$scope", "$state", "$timeout", "ApiMap", "toastr", "options"];
ErrorListCtrl.$inject = ["$uibModalInstance", "info"];
Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.default = batchUploadDevice;
function batchUploadDevice($uibModal, $parse, $timeout) {
    'ngInject';

    return {
        restrict: 'EA',
        template: '<div class="hide"></div>',
        //replace: true,
        link: function link(scope, element, attrs) {

            var unbind = scope.$on("batchUploadVc", function (event) {
                var _options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};

                Dropzone.autoDiscover = false;

                $uibModal.open({
                    animation: true,
                    templateUrl: 'common/directives/mcBatchUploadVc/template.html',
                    controller: batchUploadFileCtrl,
                    controllerAs: 'vm',
                    size: "",
                    resolve: {
                        options: function options() {
                            return _options;
                        }
                    }
                }).result.then(function () {}, function () {});
            });
            scope.$on('$destroy', unbind);
        }
    };
}

function batchUploadFileCtrl($location, $uibModal, $uibModalInstance, $rootScope, $scope, $state, $timeout, ApiMap, toastr, options) {
    'ngInject';

    var vm = this;

    var id = '',
        params = '';

    vm.download_url = ApiMap.investment.downloadTemplate;

    var url = ApiMap.investment.import;

    angular.extend(vm, {
        uploadFile: uploadFile,
        //pensionArea: window.pageConf.areaList,
        //pensionInfo: window.pageConf.pensionInfo,
        dropzoneConfig: {
            paramName: options.paramName || 'file',
            headers: { extra: $rootScope.AUTHORIZATION_TOKEN },
            url: url,
            method: 'post',
            maxFilesize: 50,
            maxFiles: 2,
            dictFileTooBig: '文件大小不能超过50M',
            uploadMultiple: false,
            autoProcessQueue: true,
            acceptedFiles: 'application/vnd.ms-excel, application/vnd.openxmlformats-officedocument.spreadsheetml.sheet',
            addedfile: function addedfile(file) {
                $('#upload_button').attr('disabled', 'disabled').text('上传中');
            },
            success: function success(file, data) {
                $rootScope.imgUploadng = false;
                this.removeFile(file);
                $('#upload_button').removeAttr('disabled').text('上传');

                console.log(data);
                if (data.code == 0) {
                    if (data.data.errors.length > 0) {
                        // toastr.error(data.data);
                        vm.errorList = data.data.errors;
                        showErrorList(data.data);
                        // $modalInstance.close();
                    } else {
                        toastr.success('添加成功');
                    }

                    if (data.data.successCount > 0) {
                        $state.reload();
                    }
                } else {
                    toastr.error(data.info);
                }

                $uibModalInstance.close();
            }
        },
        errorList: null
    });

    function showErrorList(data) {
        $uibModal.open({
            animation: true,
            templateUrl: 'common/directives/mcBatchUploadVc/error.html',
            controller: ErrorListCtrl,
            controllerAs: 'vm',
            size: "",
            resolve: {
                info: function info() {
                    return data;
                }
            }
        }).result.then(function () {}, function () {});
    }

    // 触发上传
    function uploadFile(e) {
        e.preventDefault();
        $timeout(function () {
            $(e.target).siblings('.dropzone').trigger('click');
        });
    }
}

function ErrorListCtrl($uibModalInstance, info) {
    'ngInject';

    var error = info.errors;
    if (error) {
        error = error.filter(function (item) {
            return item.data[0] !== null;
        });
    } else {
        error = [];
    }

    this.errorList = error;
    this.count = info.successCount;

    this.cancel = function () {
        $uibModalInstance.close();
    };
}

},{}],"/Users/cescwang/program/sil/SIL-frontend/app/common/directives/resizable.directive.js":[function(require,module,exports){
'use strict';

resizable.$inject = ["$window", "$parse"];
Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = resizable;
/**
 * 让指定元素自适应
 * 参数:
 *  subWidth:
 *  parent: （可选）是否向上查找target指定的元素。依赖target属性。
 *  target: （可选）要查找的自适应的目标元素选择器。若没有指定target，则以指令当前元素为target。
 *
 * 示例:
 *   <div class="modal-body" resizable="{subWidth: 135, parent: true, target: '.modal-dialog'}"> ... <div>
 */
function resizable($window, $parse) {
  'ngInject';

  return {
    restrict: 'A',
    scope: {},
    link: function link(scope, element, attrs) {

      var opts = $parse(attrs.resizable)(scope);
      var winWidth = $window.innerWidth;

      var $target = opts.target ? angular.element(element)[opts.parent ? 'parents' : 'find'](opts.target) : angular.element(element);

      function onResize(isFirst) {
        winWidth = $window.innerWidth;
        $target.css('width', winWidth - getScrollbarWidth() - opts.subWidth);

        if (!isFirst) scope.$digest();
      }

      onResize(true); // resize on first

      angular.element($window).on('resize', onResize);

      scope.$on('$destroy', function () {
        angular.element($window).off('resize', onResize);
      });
    }
  };
}

function getScrollbarWidth() {
  // Create the measurement node
  var scrollDiv = document.createElement("div");
  scrollDiv.style.overflow = 'scroll';
  document.body.appendChild(scrollDiv);

  // Get the scrollbar width
  var scrollbarWidth = scrollDiv.offsetWidth - scrollDiv.clientWidth;

  // Delete the DIV
  document.body.removeChild(scrollDiv);

  return scrollbarWidth;
}

},{}],"/Users/cescwang/program/sil/SIL-frontend/app/common/filters/addressFormat.js":[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.default = addressFormat;
function addressFormat() {

    return function (str) {
        var regx = /-\d+\;/;
        return str.split(regx).join('');
    };
}

},{}],"/Users/cescwang/program/sil/SIL-frontend/app/common/filters/dayTime.js":[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.default = dayTime;
function dayTime() {

    return function (time) {

        var h = Math.floor(time / 36000);
        var m = time % 3600 / 60;
        h = h > 9 ? h : '0' + h;
        m = m > 9 ? m : '0' + m;

        return h + ':' + m;
    };
}

},{}],"/Users/cescwang/program/sil/SIL-frontend/app/common/filters/diseaseHistory.js":[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.default = diseaseHistory;
function diseaseHistory() {

    return function (arr) {

        var disease_history = "";

        var _iteratorNormalCompletion = true;
        var _didIteratorError = false;
        var _iteratorError = undefined;

        try {
            for (var _iterator = arr[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {
                var item = _step.value;

                disease_history += item.name + '  ';
            }
        } catch (err) {
            _didIteratorError = true;
            _iteratorError = err;
        } finally {
            try {
                if (!_iteratorNormalCompletion && _iterator.return) {
                    _iterator.return();
                }
            } finally {
                if (_didIteratorError) {
                    throw _iteratorError;
                }
            }
        }

        return disease_history;
    };
}

},{}],"/Users/cescwang/program/sil/SIL-frontend/app/common/filters/filters.module.js":[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _angular = require('angular');

var _angular2 = _interopRequireDefault(_angular);

var _orderSource = require('./orderSource');

var _orderSource2 = _interopRequireDefault(_orderSource);

var _oldType = require('./oldType');

var _oldType2 = _interopRequireDefault(_oldType);

var _serviceType = require('./serviceType');

var _serviceType2 = _interopRequireDefault(_serviceType);

var _payWay = require('./payWay');

var _payWay2 = _interopRequireDefault(_payWay);

var _serviceWay = require('./serviceWay');

var _serviceWay2 = _interopRequireDefault(_serviceWay);

var _diseaseHistory = require('./diseaseHistory');

var _diseaseHistory2 = _interopRequireDefault(_diseaseHistory);

var _orderStatus = require('./orderStatus');

var _orderStatus2 = _interopRequireDefault(_orderStatus);

var _dayTime = require('./dayTime');

var _dayTime2 = _interopRequireDefault(_dayTime);

var _modeId = require('./modeId');

var _modeId2 = _interopRequireDefault(_modeId);

var _addressFormat = require('./addressFormat');

var _addressFormat2 = _interopRequireDefault(_addressFormat);

var _timeFormat = require('./timeFormat');

var _timeFormat2 = _interopRequireDefault(_timeFormat);

var _fix = require('./fix');

var _fix2 = _interopRequireDefault(_fix);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

exports.default = _angular2.default.module('app.common.filters', []).filter('orderSource', _orderSource2.default).filter('oldType', _oldType2.default).filter('serviceType', _serviceType2.default).filter('payWay', _payWay2.default).filter('serviceWay', _serviceWay2.default).filter('diseaseHistory', _diseaseHistory2.default).filter('orderStatus', _orderStatus2.default).filter('dayTime', _dayTime2.default).filter('modeId', _modeId2.default).filter('addressFormat', _addressFormat2.default).filter('timeFormat', _timeFormat2.default).filter('fix', _fix2.default);

},{"./addressFormat":"/Users/cescwang/program/sil/SIL-frontend/app/common/filters/addressFormat.js","./dayTime":"/Users/cescwang/program/sil/SIL-frontend/app/common/filters/dayTime.js","./diseaseHistory":"/Users/cescwang/program/sil/SIL-frontend/app/common/filters/diseaseHistory.js","./fix":"/Users/cescwang/program/sil/SIL-frontend/app/common/filters/fix.js","./modeId":"/Users/cescwang/program/sil/SIL-frontend/app/common/filters/modeId.js","./oldType":"/Users/cescwang/program/sil/SIL-frontend/app/common/filters/oldType.js","./orderSource":"/Users/cescwang/program/sil/SIL-frontend/app/common/filters/orderSource.js","./orderStatus":"/Users/cescwang/program/sil/SIL-frontend/app/common/filters/orderStatus.js","./payWay":"/Users/cescwang/program/sil/SIL-frontend/app/common/filters/payWay.js","./serviceType":"/Users/cescwang/program/sil/SIL-frontend/app/common/filters/serviceType.js","./serviceWay":"/Users/cescwang/program/sil/SIL-frontend/app/common/filters/serviceWay.js","./timeFormat":"/Users/cescwang/program/sil/SIL-frontend/app/common/filters/timeFormat.js","angular":"angular"}],"/Users/cescwang/program/sil/SIL-frontend/app/common/filters/fix.js":[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.default = fix;
function fix() {

    return function (value, num) {

        !num && (num = 2);
        return typeof value == 'number' ? value.toFixed(num) : '';
    };
}

},{}],"/Users/cescwang/program/sil/SIL-frontend/app/common/filters/modeId.js":[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = modeId;
function modeId() {

  var modeList = pageConf.modeList;

  return function (mode_id) {
    var mode = modeList.filter(function (item) {
      return item.mode_id == mode_id;
    });
    return mode.length ? mode[0].name : mode_id;
  };
}

},{}],"/Users/cescwang/program/sil/SIL-frontend/app/common/filters/oldType.js":[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = oldType;
function oldType() {
  return function (type) {
    var old_type_name = "";
    switch (type) {
      case 2:
        old_type_name = '潜在会员';
        break;
      case 3:
        old_type_name = '全托会员';
        break;
      case 4:
        old_type_name = '日托会员';
        break;
      case 5:
        old_type_name = '普通会员';
      default:
        console.warn('invalid old_type');
    }
    return old_type_name;
  };
}

},{}],"/Users/cescwang/program/sil/SIL-frontend/app/common/filters/orderSource.js":[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.default = orderSource;
function orderSource() {
    return function (source) {
        var order_source_name = "";
        switch (source) {
            case 1:
                order_source_name = '后台';
                break;
            case 2:
                order_source_name = 'pad端';
                break;
            case 3:
                order_source_name = '子女端';
                break;
            default:
                order_source_name = '长者端';
        }
        return order_source_name;
    };
}

},{}],"/Users/cescwang/program/sil/SIL-frontend/app/common/filters/orderStatus.js":[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.default = orderStatus;
function orderStatus() {
    return function (status) {
        var status_name = "";
        switch (status) {
            case 0:
                status_name = '已预约';
                break;
            case 10:
                status_name = '已确认';
                break;
            case 50:
                status_name = '已完成';
                break;
            case 99:
                status_name = '已付款';
                break;
            default:
                status_name = '已取消';
        }
        return status_name;
    };
}

},{}],"/Users/cescwang/program/sil/SIL-frontend/app/common/filters/payWay.js":[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.default = payWay;
function payWay() {
    return function (way) {
        var pay_way_name = "";
        switch (way) {
            case 1:
                pay_way_name = '现金';
                break;
            case 2:
                pay_way_name = '刷卡';
                break;
            case 0:
                pay_way_name = '无';
                break;
            default:
                pay_way_name = '部分现金';
        }
        return pay_way_name;
    };
}

},{}],"/Users/cescwang/program/sil/SIL-frontend/app/common/filters/serviceType.js":[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.default = serviceType;
function serviceType() {
    return function (type) {
        var service_type_name = "";
        switch (type) {
            case 1:
                service_type_name = '上门';
                break;
            case 2:
                service_type_name = '到店';
                break;
            case 3:
                service_type_name = '上门，到店';
                break;
            default:
                service_type_name = '其它';
        }
        return service_type_name;
    };
}

},{}],"/Users/cescwang/program/sil/SIL-frontend/app/common/filters/serviceWay.js":[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.default = serviceWay;
function serviceWay() {
    return function (way) {
        var way_name = "";
        switch (way) {
            case 1:
                way_name = '上门';
                break;
            case 2:
                way_name = '到店';
                break;
            default:
                way_name = '其它';
        }
        return way_name;
    };
}

},{}],"/Users/cescwang/program/sil/SIL-frontend/app/common/filters/timeFormat.js":[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.default = tiemFormat;
function tiemFormat() {

    return function (time) {

        return moment(time).format('YYYY-MM-DD HH:mm:ss');
    };
}

},{}],"/Users/cescwang/program/sil/SIL-frontend/app/common/services/accessControl.service.js":[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
    value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

var c_package = {};

var AccessControlService = function () {
    function AccessControlService() {
        'ngInject';

        _classCallCheck(this, AccessControlService);
    }

    _createClass(AccessControlService, [{
        key: 'getCond',
        value: function getCond() {
            return c_package;
        }
    }]);

    return AccessControlService;
}();

exports.default = AccessControlService;

},{}],"/Users/cescwang/program/sil/SIL-frontend/app/common/services/config.service.js":[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

var Service = function () {
  Service.$inject = ["$http", "httpHelper", "$rootScope", "$state", "ApiMap"];
  function Service($http, httpHelper, $rootScope, $state, ApiMap) {
    'ngInject';

    _classCallCheck(this, Service);

    this._http = $http;
    // this.$q = $q;
    this._httpHelper = httpHelper;

    this._api = ApiMap.config;
    this._apiMap = ApiMap;

    this._rootScope = $rootScope;
    this._state = $state;
  }

  _createClass(Service, [{
    key: 'list',
    value: function list(params) {

      this._httpHelper.blockUI.start();

      return this._http.get(this._api.list, { params: params }).then(this._httpHelper.verify, this._httpHelper.error);
    }
  }, {
    key: 'set',
    value: function set(data) {

      this._httpHelper.blockUI.start();

      return this._http.post(this._api.set, data).then(this._httpHelper.verify, this._httpHelper.error);
    }
  }, {
    key: 'get',
    value: function get(key, params) {

      this._httpHelper.blockUI.start();

      return this._http.get(this._api.get.replace(/\{key\}/, key), { params: params }).then(this._httpHelper.verify, this._httpHelper.error);
    }

    // setSpecial(data) {

    //   this._httpHelper.blockUI.start();

    //   return this._http.post(this._api.setSpecial, data).then(this._httpHelper.verify, this._httpHelper.error);
    // }

  }, {
    key: 'getRoleList',
    value: function getRoleList() {
      this._httpHelper.blockUI.start();

      return this._http.get(this._api.roleList).then(this._httpHelper.verify, this._httpHelper.error);
    }
  }]);

  return Service;
}();

exports.default = Service;

},{}],"/Users/cescwang/program/sil/SIL-frontend/app/common/services/district.service.js":[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

/**
 * 腾讯行政区划API
 * http://lbs.qq.com/webservice_v1/guide-region.html
 */
var DistrictService = function () {
  DistrictService.$inject = ["$http", "$q"];
  function DistrictService($http, $q) {
    'ngInject';

    _classCallCheck(this, DistrictService);

    this._q = $q;
    this._http = $http;
    this.url = '//apis.map.qq.com/ws/district/v1/';
    this.opts = {
      key: 'ZAUBZ-4OG3J-ZVTFF-F7NED-PHMJT-DZBYG',
      output: 'jsonp',
      callback: 'district_cb'
    };
  }

  _createClass(DistrictService, [{
    key: '_prev',
    value: function _prev() {
      var deferred = this._q.defer();
      window.district_cb = function (res) {
        // TODO 加loading, 避免地址没加载完
        // httpHelper.blockUI.stop();
        deferred.resolve(res.result[0]);
      };

      return deferred;
    }

    // --------- method --------------

  }, {
    key: 'list',
    value: function list() {

      var deferred = this._prev();

      this._http.jsonp(this.url + 'list', { params: this.opts });

      return deferred.promise;
    }
  }, {
    key: 'getchildren',
    value: function getchildren(id) {

      var deferred = this._prev();
      var params = _extends({}, this.opts, { id: id });

      this._http.jsonp(this.url + 'getchildren', { params: params });

      return deferred.promise;
    }
  }, {
    key: 'format',
    value: function format(data) {
      var level = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 3;

      if (data === void 0) {
        return void 0;
      } else if (typeof data == 'string') {
        var regx = void 0,
            match = void 0,
            result = void 0;

        var reg = /^(.*)\-(\d*)$/;

        var addressArray = data.split(';');
        var length = addressArray.length;

        if (length > 0) {
          result = {
            address: addressArray[length - 1]
          };
        }

        if (length > 1 && (match = addressArray[0].match(reg))) {
          result.province = {
            fullname: match[1],
            id: match[2]
          };
        }

        if (length > 2 && (match = addressArray[1].match(reg))) {
          result.city = {
            fullname: match[1],
            id: match[2]
          };
        }

        if (length > 3 && (match = addressArray[2].match(reg))) {
          result.district = {
            fullname: match[1],
            id: match[2]
          };
        }

        // if(level == 2) {
        //   regx = /^(.*)\-(\d*)\;(.*)\-(\d*)\;(.*)$/;
        // } else {
        //   regx = /^(.*)\-(\d*)\;(.*)\-(\d*)\;(.*)\-(\d*)\;(.*)$/;
        // }

        // match = data.match(regx);

        // if(match) {

        //   result = {
        //     province: {
        //       fullname: match[1],
        //       id: match[2]
        //     },
        //     city: {
        //       fullname: match[3],
        //       id: match[4]
        //     }
        //   }

        //   if(level == 2) {
        //     result.address = match[5];
        //   } else {
        //     result.district = {
        //       fullname: match[5],
        //       id: match[6]
        //     };

        //     result.address = match[7];
        //   }
        // }

        return result;
      } else if (data.address) {
        var string = '';

        if (data.province) {
          string = '' + string + data.province.fullname + '-' + data.province.id + ';';

          if (data.city) {
            string = '' + string + data.city.fullname + '-' + data.city.id + ';';

            if (data.district) {
              string = '' + string + data.district.fullname + '-' + data.district.id + ';';
            }
          }
        }

        return '' + string + data.address;
      }
    }
  }]);

  return DistrictService;
}();

exports.default = DistrictService;

},{}],"/Users/cescwang/program/sil/SIL-frontend/app/common/services/profile.service.js":[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
    value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

var ProfileService = function () {
    ProfileService.$inject = ["$http", "httpHelper", "AppSettings", "ApiMap", "ConfigService"];
    function ProfileService($http, httpHelper, AppSettings, ApiMap, ConfigService) {
        'ngInject';

        _classCallCheck(this, ProfileService);

        this._http = $http;
        // this.$q = $q;
        this._httpHelper = httpHelper;

        this._api = ApiMap.person;
        this._apiMap = ApiMap;

        this.accessKey = AppSettings.accessKey;

        this._configService = ConfigService;

        this.info = {
            name: '亲',
            avatar: '/images/common/man.png'
        };

        this.roleList = [];

        this.user_id = localStorage.getItem('SIL_UID') || 0;

        this.access = {};

        if (this.user_id) {
            this.get({ id: this.user_id });
        }

        this._getRoleList();
    }

    _createClass(ProfileService, [{
        key: 'getRoleList',
        value: function getRoleList() {
            return this.roleList;
        }
    }, {
        key: '_getRoleList',
        value: function _getRoleList() {
            var _this = this;

            this._configService.getRoleList().then(function (data) {
                if (data && data instanceof Array) {
                    _this.roleList.push.apply(_this.roleList, data);
                }
            });
        }
    }, {
        key: 'setSession',
        value: function setSession(key, value) {
            if (key && value) {
                sessionStorage.setItem(key, value);
            }
        }
    }, {
        key: 'getSession',
        value: function getSession(key) {
            if (key) {
                return sessionStorage.getItem(key);
            }

            return null;
        }
    }, {
        key: 'getInfo',
        value: function getInfo() {
            return this.info;
        }
    }, {
        key: 'getAccess',
        value: function getAccess() {
            return this.access;
        }
    }, {
        key: 'get',
        value: function get(data) {
            var _this2 = this;

            this._httpHelper.blockUI.start();

            return this._http.post(this._api.get, data).then(this._httpHelper.verify, this._httpHelper.error).then(function (data) {
                _this2.info.name = data.true_name;
                _this2.info.role = data.role;
                _this2.setSession('SIL_ROLE', data.role);
                _this2.getUserAccess();
            });
        }
    }, {
        key: 'hanldeAccess',
        value: function hanldeAccess(data) {
            var _this3 = this;

            var accessList = angular.fromJson(data);
            if (accessList && accessList[this.info.role]) {
                var keys = Object.keys(this.access);
                keys.forEach(function (key) {
                    if (!accessList[key]) {
                        delete _this3.access[key];
                    }
                });
                angular.extend(this.access, accessList[this.info.role]);
            }
        }
    }, {
        key: 'getUserAccess',
        value: function getUserAccess() {
            var _this4 = this;

            var access = this.getSession('SIL_ACCESS');

            if (access) {
                this.hanldeAccess(access);
            }

            this._configService.get(this.accessKey).then(function (data) {
                _this4.setSession('SIL_ACCESS', data);
                if (data) {
                    _this4.hanldeAccess(data);
                }
            });
        }
    }]);

    return ProfileService;
}();

exports.default = ProfileService;

},{}],"/Users/cescwang/program/sil/SIL-frontend/app/common/services/services.module.js":[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _angular = require('angular');

var _angular2 = _interopRequireDefault(_angular);

var _config = require('./config.service');

var _config2 = _interopRequireDefault(_config);

var _profile = require('./profile.service');

var _profile2 = _interopRequireDefault(_profile);

var _accessControl = require('./accessControl.service');

var _accessControl2 = _interopRequireDefault(_accessControl);

var _district = require('./district.service');

var _district2 = _interopRequireDefault(_district);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

exports.default = _angular2.default.module('app.common.services', []).service('ConfigService', _config2.default).service('ProfileService', _profile2.default).service('AccessControlService', _accessControl2.default).service('DistrictService', _district2.default);

},{"./accessControl.service":"/Users/cescwang/program/sil/SIL-frontend/app/common/services/accessControl.service.js","./config.service":"/Users/cescwang/program/sil/SIL-frontend/app/common/services/config.service.js","./district.service":"/Users/cescwang/program/sil/SIL-frontend/app/common/services/district.service.js","./profile.service":"/Users/cescwang/program/sil/SIL-frontend/app/common/services/profile.service.js","angular":"angular"}],"/Users/cescwang/program/sil/SIL-frontend/app/core/components/components.module.js":[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _angular = require('angular');

var _angular2 = _interopRequireDefault(_angular);

var _mcMainHeader = require('./mcMainHeader/mcMainHeader');

var _mcContentHeader = require('./mcContentHeader/mcContentHeader');

var _mcSidebar = require('./mcSidebar/mcSidebar.directive');

var _mcSidebar2 = _interopRequireDefault(_mcSidebar);

var _mcSidebar3 = require('./mcSidebar/mcSidebar.service');

var _mcSidebar4 = _interopRequireDefault(_mcSidebar3);

var _mcSidebarHelpers = require('./mcSidebar/mcSidebarHelpers.directive');

var helper = _interopRequireWildcard(_mcSidebarHelpers);

var _index = require('./mcPagination/index');

var _picker = require('./mcPicker/picker');

var _picker2 = _interopRequireDefault(_picker);

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

// import PlanModelService    from './mcCarePlan/planModel';

// import careTypeService    from './mcCarePlan/careType';


exports.default = _angular2.default.module('app.core.components', [])

// layout component
.component('mcMainHeader', _mcMainHeader.mainHeader).directive('mcMainSidebar', _mcSidebar2.default).service('mcSidebarService', _mcSidebar4.default).component('mcContentHeader', _mcContentHeader.contentHeader)

// sidebar
.directive('mcSidebarTogglingItem', helper.mcSidebarTogglingItem).directive('mcUiSrefTogglingSubmenu', helper.mcUiSrefTogglingSubmenu).directive('mcUiSrefToggler', helper.mcUiSrefToggler).component('mcPagination', _index.mcPagination).service('PickerService', _picker2.default)

// .service('PlanModelService', PlanModelService)

// .service('careTypeService', careTypeService)
;

},{"./mcContentHeader/mcContentHeader":"/Users/cescwang/program/sil/SIL-frontend/app/core/components/mcContentHeader/mcContentHeader.js","./mcMainHeader/mcMainHeader":"/Users/cescwang/program/sil/SIL-frontend/app/core/components/mcMainHeader/mcMainHeader.js","./mcPagination/index":"/Users/cescwang/program/sil/SIL-frontend/app/core/components/mcPagination/index.js","./mcPicker/picker":"/Users/cescwang/program/sil/SIL-frontend/app/core/components/mcPicker/picker.js","./mcSidebar/mcSidebar.directive":"/Users/cescwang/program/sil/SIL-frontend/app/core/components/mcSidebar/mcSidebar.directive.js","./mcSidebar/mcSidebar.service":"/Users/cescwang/program/sil/SIL-frontend/app/core/components/mcSidebar/mcSidebar.service.js","./mcSidebar/mcSidebarHelpers.directive":"/Users/cescwang/program/sil/SIL-frontend/app/core/components/mcSidebar/mcSidebarHelpers.directive.js","angular":"angular"}],"/Users/cescwang/program/sil/SIL-frontend/app/core/components/mcContentHeader/mcContentHeader.js":[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

var McContentHeaderController = function McContentHeaderController() {
  'ngInject';

  _classCallCheck(this, McContentHeaderController);
};

var contentHeader = exports.contentHeader = {
  templateUrl: 'core/components/mcContentHeader/mcContentHeader.html',
  controller: McContentHeaderController,
  bindings: {}
};

},{}],"/Users/cescwang/program/sil/SIL-frontend/app/core/components/mcMainHeader/mcMainHeader.js":[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

var McMainHeaderController = function () {
  McMainHeaderController.$inject = ["sweet", "$timeout", "toastr", "utilService", "ProfileService", "MessageService"];
  function McMainHeaderController(sweet, $timeout, toastr, utilService, ProfileService, MessageService) {
    'ngInject';

    _classCallCheck(this, McMainHeaderController);

    this._sweet = sweet;
    this._utilService = utilService;

    this._msgService = MessageService;

    this._toastr = toastr;
    this._timeout = $timeout;

    // let {avatar} = PensionService.getInfo();

    this.info = ProfileService.getInfo();
    this.msg_count = 0;

    this.getMsg();
  }

  _createClass(McMainHeaderController, [{
    key: 'logout',
    value: function logout() {
      var _this = this;

      this._sweet.show({
        title: '提示',
        text: '确认退出?',
        type: 'warning',
        showCancelButton: true,
        confirmButtonText: '退出',
        cancelButtonText: '取消'
      }, function (isConfirm) {
        if (isConfirm) {
          localStorage.clear();
          _this._utilService.logout();
        }
      });
    }
  }, {
    key: 'getMsg',
    value: function getMsg() {
      var _this2 = this;

      this._msgService.getList({ page: 1, page_limit: 10 }, true).then(function (data) {
        var unreadList = data.messages.filter(function (item) {
          return item.state === 0;
        });
        var len = unreadList.length;
        if (len > 0) {
          var newMsgId = unreadList[0].id;
          if (newMsgId != _this2.newMsgId) {
            _this2._toastr.success(unreadList[0].content, '新消息');
            _this2.newMsgId = newMsgId;
          }
        }

        if (len > 9) {
          len = '9+';
        }

        _this2.msg_count = len;

        _this2._timeout(function () {
          _this2.getMsg();
        }, 120000);
      });
    }
  }]);

  return McMainHeaderController;
}();

var mainHeader = exports.mainHeader = {
  templateUrl: 'core/components/mcMainHeader/mcMainHeader.html',
  controller: McMainHeaderController,
  controllerAs: 'vm',
  bindings: {}
};

},{}],"/Users/cescwang/program/sil/SIL-frontend/app/core/components/mcPagination/index.js":[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

var McPaginationController = exports.McPaginationController = function () {
  McPaginationController.$inject = ["$timeout"];
  function McPaginationController($timeout) {
    'ngInject';

    _classCallCheck(this, McPaginationController);

    this._timeout = $timeout;
  }

  _createClass(McPaginationController, [{
    key: 'pageChanged',
    value: function pageChanged() {
      var _this = this;

      // console.log(this);

      this._timeout(function () {
        _this.pageChange && _this.pageChange();
      });
    }
  }]);

  return McPaginationController;
}();

;

var mcPagination = exports.mcPagination = {
  templateUrl: 'core/components/mcPagination/index.html',
  controller: McPaginationController,
  controllerAs: 'vm',
  bindings: {
    currentPage: '=',
    totalItems: '=',
    itemsPerPage: '=',
    pageChange: '&'
  }
};

},{}],"/Users/cescwang/program/sil/SIL-frontend/app/core/components/mcPagination/mc-pagination.class.js":[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

var Pagination = function () {
  Pagination.$inject = ["$injector"];
  function Pagination($injector) {
    'ngInject';
    // console.log($location);

    _classCallCheck(this, Pagination);

    this._location = $injector.get('$location');
    this._stateParams = $injector.get('$stateParams');

    this.pagination = {
      count: 0,
      pageSize: 20
    };

    this._initPage();
  }

  _createClass(Pagination, [{
    key: '_initPage',
    value: function _initPage() {
      var page = this._stateParams.page;

      this.pagination.page = +page || 1;
    }
  }, {
    key: '_filterEmptyValue',
    value: function _filterEmptyValue() {
      var validFilters = {};
      var value = void 0;
      for (var key in this.filters) {
        value = this.filters[key];
        if (value !== void 0) {
          validFilters[key] = value;
        }
      }

      return validFilters;
    }
  }, {
    key: 'reSearch',
    value: function reSearch() {
      var page = 1;
      this._location.search(_extends({}, this._filterEmptyValue(), { page: page }));
    }
  }, {
    key: 'pageChanged',
    value: function pageChanged() {
      // console.log(this.location);
      var page = this.pagination.page;

      this._location.search(_extends({}, this._filterEmptyValue(), { page: page }));
    }
  }]);

  return Pagination;
}();

exports.default = Pagination;

},{}],"/Users/cescwang/program/sil/SIL-frontend/app/core/components/mcPicker/ctrl.js":[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

var defaultPickerOptions = {
  min: 1,
  max: 0,
  title: '添加项目',
  itemType: '项目',
  itemUnit: '个',
  itemPosition: '',
  searchPlaceholder: '请输入项目名称',
  selectedItems: null,

  params: null,

  idKey: 'id',
  nameKey: 'name',
  avatarKey: 'avatar'
};

var PickerController = function () {
  PickerController.$inject = ["$http", "httpHelper", "$uibModalInstance", "pickerOptions"];
  function PickerController($http, httpHelper, $uibModalInstance, pickerOptions) {
    'ngInject';

    _classCallCheck(this, PickerController);

    this._http = $http;
    this._httpHelper = httpHelper;

    this._modalInstance = $uibModalInstance;

    this.options = _extends({}, defaultPickerOptions, pickerOptions);

    this.selectionItem = [];

    this.list = [];

    this.getList();
  }

  _createClass(PickerController, [{
    key: '_getList',
    value: function _getList(params) {
      var url = this.options.url;

      if (!url) {
        console.error('mcPicker', 'Url is required.');
        return;
      }

      this._httpHelper.blockUI.start();

      return this._http.get(url, { params: params }).then(this._httpHelper.verify, this._httpHelper.error);
    }
  }, {
    key: 'getList',
    value: function getList() {
      var _this = this;

      var list = this.options.list;

      if (list) {
        this.list = this._formatData(list);
        return;
      }

      var params = _extends({
        pageSize: 1000
      }, this.options.params || {});
      this._getList(params).then(function (data) {
        _this.list = _this._formatData(data.list);
      });
    }
  }, {
    key: 'getValue',
    value: function getValue(obj, key) {
      var keyArr = key.split('.');

      keyArr.forEach(function (k) {
        obj = obj[k];
      });

      return obj;
    }
  }, {
    key: '_formatData',
    value: function _formatData(data) {
      var _this2 = this;

      var _options = this.options,
          selectedItems = _options.selectedItems,
          idKey = _options.idKey,
          nameKey = _options.nameKey,
          avatarKey = _options.avatarKey;

      var tmpHashObj = {};

      if (selectedItems && selectedItems.length > 0) {
        selectedItems.forEach(function (item) {
          tmpHashObj[item.id] = true;
        });
      }

      return data.map(function (item) {
        var tmpObj = {
          id: item[idKey],
          name: _this2.getValue(item, nameKey),
          avatar: item[avatarKey] || '/images/common/man.png'
        };

        tmpObj = Object.assign(item, tmpObj);

        if (tmpHashObj[tmpObj.id]) {
          tmpObj.selected = true;

          _this2.selectionItem.push(tmpObj);
        }

        return tmpObj;
      });
    }
  }, {
    key: 'cancel',
    value: function cancel() {
      // this.onClose && this.onClose(this.selectionItem);
      this._modalInstance.dismiss('cancel');
    }
  }, {
    key: 'ok',
    value: function ok() {
      var len = this.selectionItem.length;
      var _options2 = this.options,
          max = _options2.max,
          min = _options2.min;


      if (len < min || max > 0 && len > max) {
        return false;
      }
      this._modalInstance.close(this.selectionItem);
    }
  }, {
    key: 'toggleItemSelected',
    value: function toggleItemSelected(item) {
      var index = this.selectionItem.indexOf(item);
      if (index > -1) {
        item.selected = false;
        this.selectionItem.splice(index, 1);
      } else {
        // max restrict
        if (this.options.max === 1) {
          this.list.map(function (item) {
            item.selected = false;
            return item;
          });
          this.selectionItem = [];
        } else if (this.options.max > 1) {
          var filtered = this.list.filter(function (item) {
            return item.selected;
          });
          if (filtered.length === this.options.max) {
            item.selected = false;
            return;
          }
        }

        item.selected = true;
        this.selectionItem.push(item);
      }

      // console.log(this.selectionItem);
    }
  }]);

  return PickerController;
}();

var pickerConfiguration = {
  templateUrl: 'core/components/mcPicker/template.html',
  controller: PickerController,
  controllerAs: 'vm'
};

exports.default = pickerConfiguration;

},{}],"/Users/cescwang/program/sil/SIL-frontend/app/core/components/mcPicker/picker.js":[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _angular = require('angular');

var _angular2 = _interopRequireDefault(_angular);

var _ctrl = require('./ctrl');

var _ctrl2 = _interopRequireDefault(_ctrl);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

var noop = function noop() {
  console.log('no callback');
};

var PickerService = function () {
  PickerService.$inject = ["$uibModal"];
  function PickerService($uibModal) {
    'ngInject';

    _classCallCheck(this, PickerService);

    this._modal = $uibModal;
  }

  _createClass(PickerService, [{
    key: 'open',
    value: function open(_pickerOptions, options, callback) {

      if (typeof options == 'function') {
        callback = options;
        options = {};
      }

      if (typeof _pickerOptions == 'function') {
        callback = _pickerOptions;
        _pickerOptions = {};
        options = {};
      }

      var opts = Object.assign({
        animation: true,
        size: 'lg',
        resolve: {
          pickerOptions: function pickerOptions() {
            _pickerOptions = _pickerOptions || {};
            return _extends({}, _pickerOptions);
          }
        }
      }, _ctrl2.default, options || {});

      // console.log(this);

      var modalInstance = this._modal.open(opts);

      if (typeof callback !== 'function') {
        callback = noop;
      }

      modalInstance.result.then(function (selectedItems) {
        // console.log(selectedItems);
        callback.call(null, { status: 0, info: 'success', data: [].concat(_toConsumableArray(selectedItems)) });
      }).catch(function () {
        return callback.call(null, { status: 1, info: 'dismiss', data: [] });
      });

      return modalInstance;
    }
  }]);

  return PickerService;
}();

exports.default = PickerService;

},{"./ctrl":"/Users/cescwang/program/sil/SIL-frontend/app/core/components/mcPicker/ctrl.js","angular":"angular"}],"/Users/cescwang/program/sil/SIL-frontend/app/core/components/mcSidebar/helpers/mcSidebarTogglingItem.ctrl.js":[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

var McSidebarTogglingItemController = function () {
  McSidebarTogglingItemController.$inject = ["$scope", "$element", "$attrs", "$state", "mcSidebarService"];
  function McSidebarTogglingItemController($scope, $element, $attrs, $state, mcSidebarService) {
    'ngInject';

    var _this = this;

    _classCallCheck(this, McSidebarTogglingItemController);

    this._$element = $element;

    var menuItem = this.$$menuItem = $scope.$eval($attrs.mcSidebarTogglingItem);

    if (menuItem && menuItem.subMenu && menuItem.subMenu.length) {
      this.$$expandSubmenu = function () {
        console.warn('$$expandMenu should be overwritten by mcUiSrefTogglingSubmenu');
      };
      this.$$collapseSubmenu = function () {
        console.warn('$$collapseSubmenu should be overwritten by mcUiSrefTogglingSubmenu');
      };

      this.subItemsStateRefs = mcSidebarService.getAllStateRefsRecursive(menuItem);

      if (this.isState($state.current)) {
        $element.addClass('sidebar-item-expanded');
      }

      $scope.$on('$stateChangeStart', function (event, toState) {
        if (!_this.isState(toState) && $element.hasClass('sidebar-item-expanded')) {
          _this.$collapse();
          $element.removeClass('sidebar-item-expanded');
        }
      });

      $scope.$on('$stateChangeSuccess', function (event, toState) {
        if (_this.isState(toState) && !$element.hasClass('sidebar-item-expanded')) {
          _this.$expand();
          $element.addClass('sidebar-item-expanded');
        }
      });
    }
  }

  _createClass(McSidebarTogglingItemController, [{
    key: '$expand',
    value: function $expand() {
      this.$$expandSubmenu();
      this.$collapseOther(this.$collapseOther(this._$element));
      this._$element.addClass('sidebar-item-expanded');
    }
  }, {
    key: '$collapse',
    value: function $collapse() {
      this.$$collapseSubmenu();
      this._$element.removeClass('sidebar-item-expanded');
    }
  }, {
    key: '$toggle',
    value: function $toggle() {
      this._$element.hasClass('sidebar-item-expanded') ? this.$collapse() : this.$expand();
    }
  }, {
    key: 'isState',
    value: function isState(state) {
      return state && this.subItemsStateRefs.some(function (subItemState) {
        return state.name.indexOf(subItemState) == 0;
      });
    }

    // hack: collapse other menu when expand one
    // TODO: use directive feture, no element manipulate

  }, {
    key: '$collapseOther',
    value: function $collapseOther(element) {
      var siblings = angular.element(element).siblings('.sidebar-item-expanded');
      siblings.find('.sidebar-sublist').hide();
      siblings.removeClass('sidebar-item-expanded');
    }
  }]);

  return McSidebarTogglingItemController;
}();

exports.default = McSidebarTogglingItemController;

},{}],"/Users/cescwang/program/sil/SIL-frontend/app/core/components/mcSidebar/mcSidebar.directive.js":[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

var McSiderbarController = function McSiderbarController($scope, $state, mcSidebarService, ProfileService) {
  'ngInject';

  _classCallCheck(this, McSiderbarController);

  this.menuItems = mcSidebarService.getMenuItems();
  this.info = {
    name: '浦发 | 投贷联动',
    avatar: '/images/common/logo.png'
  };

  this.access = ProfileService.access;
};
McSiderbarController.$inject = ["$scope", "$state", "mcSidebarService", "ProfileService"];

function McSiderbarDirective() {

  return {
    restrict: 'E',
    templateUrl: 'core/components/mcSidebar/mcSidebar.html',
    controller: McSiderbarController,
    controllerAs: 'sidebar',
    link: function link(scope, element, attrs) {
      var $side = element[0].childNodes[0];
      scope.menuHeight = $side.clientHeight - 160;
    }
  };
}

exports.default = McSiderbarDirective;

},{}],"/Users/cescwang/program/sil/SIL-frontend/app/core/components/mcSidebar/mcSidebar.service.js":[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

var McSidebarServer = function () {
  McSidebarServer.$inject = ["$state"];
  function McSidebarServer($state) {
    'ngInject';

    _classCallCheck(this, McSidebarServer);

    this.$state = $state;
    this.staticMenuItems = [];
    this._isMenuCollapsed = true;
  }

  _createClass(McSidebarServer, [{
    key: 'getMenuItems',
    value: function getMenuItems() {

      var states = this.defineMenuItemStates();
      // let menuItems = states.filter(item => item.level == 0 && !(item.accessRoleIds && item.accessRoleIds.indexOf(this._scope.accessControl.role_id) == -1) );
      var menuItems = states.filter(function (item) {
        return item.level == 0;
      });

      menuItems.forEach(function (item) {
        var children = states.filter(function (child) {
          return child.level == 1 && child.name.indexOf(item.name) === 0;
        });

        item.subMenu = children.length ? children : null;

        // 用第三级的指定入口替换二级抽象路由
        item.subMenu && item.subMenu.forEach(function (third, index) {
          if (third.entry) {
            var entry = states.filter(function (x) {
              return x.name === third.entry;
            });
            if (entry.length) {
              item.subMenu[index] = entry[0];
            }
          }
        });
      });

      return menuItems.concat(this.staticMenuItems);
    }
  }, {
    key: 'getAllStateRefsRecursive',
    value: function getAllStateRefsRecursive(item) {

      return this._iterateSubItems(item);
    }
  }, {
    key: 'defineMenuItemStates',
    value: function defineMenuItemStates() {

      return this.$state.get().filter(function (state) {
        return state.sidebarMeta;
      }).map(function (state) {
        var meta = state.sidebarMeta;
        return {
          name: state.name,
          title: state.title,
          level: (state.name.match(/\./g) || []).length,
          order: meta.order,
          icon: meta.icon,
          stateRef: state.name,
          entry: meta.entry,
          accessRoleIds: meta.accessRoleIds
        };
      }).sort(function (a, b) {
        return (a.level - b.level) * 100 + a.order - b.order;
      });
    }
  }, {
    key: '_iterateSubItems',
    value: function _iterateSubItems(currentItem) {
      var _this = this;

      var result = [];
      currentItem.subMenu && currentItem.subMenu.forEach(function (subItem) {
        subItem.stateRef && result.push(subItem.stateRef);
        _this._iterateSubItems(subItem);
      });
      return result;
    }
  }]);

  return McSidebarServer;
}();

exports.default = McSidebarServer;

},{}],"/Users/cescwang/program/sil/SIL-frontend/app/core/components/mcSidebar/mcSidebarHelpers.directive.js":[function(require,module,exports){
'use strict';

mcUiSrefTogglingSubmenu.$inject = ["$state"];
mcUiSrefToggler.$inject = ["mcSidebarService"];
Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.mcSidebarTogglingItem = mcSidebarTogglingItem;
exports.mcUiSrefTogglingSubmenu = mcUiSrefTogglingSubmenu;
exports.mcUiSrefToggler = mcUiSrefToggler;

var _mcSidebarTogglingItem = require('./helpers/mcSidebarTogglingItem.ctrl');

var _mcSidebarTogglingItem2 = _interopRequireDefault(_mcSidebarTogglingItem);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function mcSidebarTogglingItem() {
  return {
    restrict: 'A',
    controller: _mcSidebarTogglingItem2.default
  };
}

function mcUiSrefTogglingSubmenu($state) {
  'ngInject';

  return {
    restrict: 'A',
    require: '^mcSidebarTogglingItem',
    link: function link(scope, el, attrs, mcSidebarTogglingItem) {
      mcSidebarTogglingItem.$$expandSubmenu = function () {
        el.slideDown();
      };
      mcSidebarTogglingItem.$$collapseSubmenu = function () {
        el.slideUp();
      };
    }
  };
}

function mcUiSrefToggler(mcSidebarService) {
  'ngInject';

  return {
    restrict: 'A',
    require: '^mcSidebarTogglingItem',
    link: function link(scope, el, attrs, mcSidebarTogglingItem) {
      el.on('click', function () {
        mcSidebarTogglingItem.$toggle();
      });
    }
  };
}

},{"./helpers/mcSidebarTogglingItem.ctrl":"/Users/cescwang/program/sil/SIL-frontend/app/core/components/mcSidebar/helpers/mcSidebarTogglingItem.ctrl.js"}],"/Users/cescwang/program/sil/SIL-frontend/app/core/core.api.js":[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
	value: true
});
var prefix = 'http://silapi.adoc.wang';
var api = {
	config: {
		list: prefix + '/client_config/list/web',
		get: prefix + '/client_config/get_special/{key}',
		set: prefix + '/client_config/set_special',
		roleList: prefix + '/auth/role_list'
	},
	message: {
		getList: prefix + '/message/list',
		get: prefix + '/message/{id}',
		set: prefix + '/message/set'
	},
	investment: {
		getList: prefix + '/vc_company/list',
		set: prefix + '/vc_company/set',
		add: prefix + '/vc_company/add',
		downloadTemplate: prefix + '/export/vc_company_template',
		import: prefix + '/import/vc_company'
	},
	enterprise: {
		getList: prefix + '/enterprise/list',
		get: prefix + '/enterprise/{id}',
		set: prefix + '/enterprise/set',
		add: prefix + '/enterprise/add'
	},
	person: {
		get: prefix + '/user/get',
		set: prefix + '/user/set',
		logout: prefix + '/user/logout',
		list: prefix + '/user/list',
		add: prefix + '/user/add'
	},
	account: {
		downloadTemplate: prefix + '/export/user_template',
		import: prefix + '/import/user'
	},
	bank: {
		get: prefix + '/bank/list',
		add: prefix + '/bank/add',
		set: prefix + '/bank/set',
		downloadTemplate: prefix + '/export/bank_template',
		import: prefix + '/import/bank'
	},
	log: {
		list: prefix + '/log/list'
	},
	process: {
		tipsList: prefix + '/cm_tip/list',
		tipsGet: prefix + '/cm_tip/get/{id}',
		tipsSet: prefix + '/cm_tip/set',
		tipsAdd: prefix + '/cm_tip/add'
	},
	filter: {
		blacklist: {
			list: prefix + '/blacklist/list',
			add: prefix + '/blacklist/add',
			del: prefix + '/blacklist/del'
		}
	},
	loan: {
		get: prefix + '/loan_decision/get_result',
		set: prefix + '/loan_decision/set_result'
	},
	auth: {
		get: prefix + '/auth/role_list'
	}
};

exports.default = api;

},{}],"/Users/cescwang/program/sil/SIL-frontend/app/core/core.config.js":[function(require,module,exports){
'use strict';

coreConfig.$inject = ["$stateProvider", "$locationProvider", "$urlRouterProvider", "$compileProvider", "$httpProvider"];
Object.defineProperty(exports, "__esModule", {
  value: true
});

var _http = require('./services/http.interceptor');

var _http2 = _interopRequireDefault(_http);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

// import {AlarmListController, AlarmDeviceController} from './../modules/alarm/index';

function coreConfig($stateProvider, $locationProvider, $urlRouterProvider, $compileProvider, $httpProvider) {
  'ngInject';

  if ("development" === 'production') {
    $compileProvider.debugInfoEnabled(false);
  }

  // $locationProvider.html5Mode(true);

  $stateProvider.state('dashboard', {
    url: '/',
    template: '<dashboard></dashboard>',
    title: '社区主页',
    sidebarMeta: {
      icon: 'icon-sidebar_home_ic',
      order: 1
    }
  });

  $urlRouterProvider.otherwise('/');

  // http interceptor
  //
  // For purposes of global error handling, authentication,
  // or any kind of synchronous or asynchronous pre-processing of request or postprocessing of responses
  $httpProvider.interceptors.push(_http2.default);
}

exports.default = coreConfig;

},{"./services/http.interceptor":"/Users/cescwang/program/sil/SIL-frontend/app/core/services/http.interceptor.js"}],"/Users/cescwang/program/sil/SIL-frontend/app/core/core.configProvider.js":[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
function configProvider() {
  'ngInject';

  var conf = {
    theme: {
      blur: false
    }
  };

  conf.changeTheme = function (theme) {
    angular.merge(conf.theme, theme);
  };

  conf.$get = function () {
    delete conf.$get;
    return conf;
  };
  return conf;
}

exports.default = configProvider;

},{}],"/Users/cescwang/program/sil/SIL-frontend/app/core/core.constants.js":[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _underscore = require('underscore');

var _underscore2 = _interopRequireDefault(_underscore);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var coreConstants = {
  appTitle: '管理后台',
  apiUrl: '/api/v1',
  errorInfo: {
    0: '请求成功',
    400: '请求有误',
    401: '请求有误',
    402: '无登录信息',
    403: '参数不全',
    404: '参数格式有误',
    405: '无登录信息',
    406: '无登录信息',
    407: '没有权限',
    500: '服务器错误，请重试',
    501: '服务器错误'
  },
  date: {
    weeks: ['周日', '周一', '周二', '周三', '周四', '周五', '周六'],
    months: _underscore2.default.range(1, 32) // 1-31号
  },

  accessKey: 'role.access',
  roleListKey: 'role.list',

  //alarmTypeList: window.pageConf.alarmTypeList,
  cropOptions: {
    minContainerWidth: 140
  },
  roleConfig: [{ role_config_id: 1, role_name: '超级管理员' }],
  statusList: [{ value: 0, name: '开启' }, { value: 1, name: '关闭' }],
  genderList: [{ value: 1, name: '男' }, { value: 2, name: '女' }],
  pagination: { page: 1, pageSize: 18 }, // 默认分页
  modalAnimation: true
};

exports.default = coreConstants;

},{"underscore":"/Users/cescwang/program/sil/SIL-frontend/node_modules/underscore/underscore.js"}],"/Users/cescwang/program/sil/SIL-frontend/app/core/core.module.js":[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _angular = require('angular');

var _angular2 = _interopRequireDefault(_angular);

require('angular-ui-bootstrap');

require('angular-ui-router');

var _core = require('./core.constants');

var _core2 = _interopRequireDefault(_core);

var _core3 = require('./core.config');

var _core4 = _interopRequireDefault(_core3);

var _core5 = require('./core.run');

var _core6 = _interopRequireDefault(_core5);

var _core7 = require('./core.configProvider');

var _core8 = _interopRequireDefault(_core7);

var _core9 = require('./core.api');

var _core10 = _interopRequireDefault(_core9);

var _directives = require('./directives/directives.module');

var _directives2 = _interopRequireDefault(_directives);

var _components = require('./components/components.module');

var _components2 = _interopRequireDefault(_components);

var _service = require('./services/service.module');

var _service2 = _interopRequireDefault(_service);

var _vendor = require('./vendor/vendor.module');

var _vendor2 = _interopRequireDefault(_vendor);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

exports.default = _angular2.default.module('app.core', ['ui.router', 'ui.bootstrap', _directives2.default.name, _components2.default.name, _service2.default.name, _vendor2.default.name]).constant('AppSettings', _core2.default).constant('ApiMap', _core10.default).provider('coreConfig', _core8.default).config(_core4.default).run(_core6.default);

},{"./components/components.module":"/Users/cescwang/program/sil/SIL-frontend/app/core/components/components.module.js","./core.api":"/Users/cescwang/program/sil/SIL-frontend/app/core/core.api.js","./core.config":"/Users/cescwang/program/sil/SIL-frontend/app/core/core.config.js","./core.configProvider":"/Users/cescwang/program/sil/SIL-frontend/app/core/core.configProvider.js","./core.constants":"/Users/cescwang/program/sil/SIL-frontend/app/core/core.constants.js","./core.run":"/Users/cescwang/program/sil/SIL-frontend/app/core/core.run.js","./directives/directives.module":"/Users/cescwang/program/sil/SIL-frontend/app/core/directives/directives.module.js","./services/service.module":"/Users/cescwang/program/sil/SIL-frontend/app/core/services/service.module.js","./vendor/vendor.module":"/Users/cescwang/program/sil/SIL-frontend/app/core/vendor/vendor.module.js","angular":"angular","angular-ui-bootstrap":"angular-ui-bootstrap","angular-ui-router":"angular-ui-router"}],"/Users/cescwang/program/sil/SIL-frontend/app/core/core.run.js":[function(require,module,exports){
'use strict';

coreRun.$inject = ["$rootScope", "AppSettings", "$log", "$state", "$stateParams", "$location", "$window", "$timeout", "toastr", "ProfileService"];
Object.defineProperty(exports, "__esModule", {
  value: true
});
function coreRun($rootScope, AppSettings, $log, $state, $stateParams, $location, $window, $timeout, toastr, ProfileService) {
  'ngInject';

  // 把常用的工具挂载到$rootScope上, 在所有scope上直接可用

  $rootScope.$log = $log;
  $rootScope.$state = $state;
  $rootScope.$stateParams = $stateParams;
  $rootScope.$location = $location;

  var access = ProfileService.access;

  // 所有人都能访问的白名单列表
  var whiteList = ['dashboard'];

  var token = localStorage.getItem('SIL_TOKEN');
  var uid = localStorage.getItem('SIL_UID');

  if (!token || !uid) {
    $window.location.href = '/login.html';
  }

  // $rootScope.$on('$stateChangeStart',
  //   (event, toState, toParams, fromState, fromParams) => {
  //   if (access[toState.name] || whiteList.indexOf(toState.name) >= 0 ) {
  //     return;
  //   }

  //   toastr.error('页面不存在或没有权限', 'Forbidden');

  //   event.preventDefault();
  // });


  // change page title based on state
  $rootScope.$on('$stateChangeSuccess', function (event, toState) {
    $rootScope.pageTitle = '';

    if (toState.title) {
      $rootScope.pageTitle += toState.title;
      $rootScope.pageTitle += ' \u2014 ';
    }

    $rootScope.pageTitle += AppSettings.appTitle;

    // hack: 进入页面时，body上会被添加modal-open, 导致页面无法滚动（偶发）
    $timeout(function () {
      angular.element('body').hasClass('modal-open') && console.warn('modal-open class on body!');
      angular.element('body').removeClass('modal-open');
    }, 300);
  });

  // 回退历史
  $rootScope.back = function () {
    $window.history.go(-1);
  };

  // 客户套餐
  // $rootScope.accessControl = AccessControlService.getCond();
}

exports.default = coreRun;

},{}],"/Users/cescwang/program/sil/SIL-frontend/app/core/directives/directives.module.js":[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _angular = require('angular');

var _angular2 = _interopRequireDefault(_angular);

var _datepicker = require('./mcDatePicker/datepicker');

var _datepicker2 = _interopRequireDefault(_datepicker);

var _upload = require('./mcUploadAvatar/upload');

var _upload2 = require('./mcUploadImage/upload');

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

exports.default = _angular2.default.module('app.core.directives', []).directive('mcDatepicker', _datepicker2.default).directive('mcUploadAvatar', _upload.mcUploadAvatar).directive('mcUploadImage', _upload2.mcUploadImage);

},{"./mcDatePicker/datepicker":"/Users/cescwang/program/sil/SIL-frontend/app/core/directives/mcDatePicker/datepicker.js","./mcUploadAvatar/upload":"/Users/cescwang/program/sil/SIL-frontend/app/core/directives/mcUploadAvatar/upload.js","./mcUploadImage/upload":"/Users/cescwang/program/sil/SIL-frontend/app/core/directives/mcUploadImage/upload.js","angular":"angular"}],"/Users/cescwang/program/sil/SIL-frontend/app/core/directives/mcDatePicker/datepicker.js":[function(require,module,exports){
'use strict';

DatePickerDirective.$inject = ["$timeout"];
Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.default = DatePickerDirective;
function DatePickerDirective($timeout) {
    'ngInject';

    var _arguments = arguments;
    return {
        restrict: 'EA',
        templateUrl: 'core/directives/mcDatePicker/datepicker.html',
        replace: true,
        scope: {
            id: '@',
            startDate: '=',
            minDate: '=',
            maxDate: '=',
            minView: '=',
            view: '=',
            changeBy: '=',
            changeTime: '&'
        },
        link: function link(scope, elem, attrs) {
            var source = attrs.timeSource,
                ctrlAlias = attrs.ctrlAlias,
                isClosed = false;

            scope.showDatePicker = function (e) {
                var target = e.currentTarget;
                if (target.classList.contains('open')) {
                    scope.hideDatePicker(e);
                } else {
                    target.classList.add('open');
                    // target.children('div').children().removeClass('hidden');
                    var children = target.children;
                    var child = void 0,
                        grandSon = void 0;

                    for (var i = 0, len = children.length; i < len; i++) {
                        if (children[i] && children[i].tagName.toUpperCase() == 'DIV') {
                            child = children[i];

                            break;
                        }
                    }

                    grandSon = child.children;

                    for (var _i = 0, _len = grandSon.length; _i < _len; _i++) {
                        grandSon[_i].classList.remove('hidden');
                    }
                }

                isClosed = false;
            };
            scope.hideDatePicker = function (e) {
                isClosed = true;
                if (elem.length) {
                    for (var i = 0, len = elem.length; i < len; i++) {
                        elem[i].classList.remove('open');
                    }
                } else {
                    elem.classList.remove('open');
                }
            };
            scope.mouseLeave = function (e) {
                scope.hideDatePicker(e);
            };

            var unbindHidePicker = scope.$on('hidePicker', scope.hideDatePicker);
            scope.$on('$destroy', unbindHidePicker);

            scope.$watch('startDate', function () {

                // 基于scope.$parent.$ctrl
                // 此处根据是否有手动传入time-source,来动态指定时间变量
                // 默认设置startDate
                if (source) {
                    var timeVar = getSource();
                    timeVar = scope.startDate;
                } else {
                    scope.$parent[ctrlAlias ? ctrlAlias : '$ctrl'].startDate = scope.startDate;
                }

                // TODO: changeOnInit: 是否在页面初始化时触发

                // changeBy: 'close', 如指定changeBy, 则只在该type变化时才触发事件
                if (attrs.changeBy) {
                    if (attrs.changeBy === 'close' && isClosed) {
                        // 当面板关闭时才触发事件
                        $timeout(function () {
                            scope.changeTime();
                        }, 0);
                    }
                } else {
                    $timeout(function () {
                        scope.changeTime();
                    }, 0);
                }
            });

            function getSource() {
                var arr = source.split('.'),
                    obj = scope.$parent[ctrlAlias ? ctrlAlias : '$ctrl'];

                for (var i = 0, l = arr.length; i < l; i++) {
                    obj = obj[arr[i]];
                }
                return obj;
            }

            //获取parentCtrl时间点
            var unbindToChild = scope.$on('to-child', function () {
                //arguments[1] example: 2015-01-15
                // console.log( arguments );
                scope.startDate = _arguments[1];
                scope.minDate = _arguments[2];
            });
            scope.$on('$destroy', unbindToChild);
        }
    };
};

},{}],"/Users/cescwang/program/sil/SIL-frontend/app/core/directives/mcUploadAvatar/ctrl.js":[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _angular = require('angular');

var _angular2 = _interopRequireDefault(_angular);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

var editAvatarCtrl = function () {
  editAvatarCtrl.$inject = ["$scope", "$timeout", "Cropper", "AppSettings"];
  function editAvatarCtrl($scope, $timeout, Cropper, AppSettings) {
    'ngInject';

    var _this = this;

    _classCallCheck(this, editAvatarCtrl);

    this._scope = $scope;
    this._timeout = $timeout;
    this._Cropper = Cropper;

    var options = _angular2.default.merge({}, {
      maximize: true,
      preview: '.preview-avatar div',
      // responsive: false,
      aspectRatio: 1 / 1,
      crop: function crop(dataNew) {
        dataNew.x = dataNew.x < 0 ? 0 : dataNew.x;
        dataNew.y = dataNew.y < 0 ? 0 : dataNew.y;

        _this._timeout(function () {
          _this._scope.data = dataNew;
        });
        // console.log($scope.data);
      }
    }, AppSettings.cropOptions, this._scope.cropOptions);

    _angular2.default.extend($scope, {
      proportion: 140 / 180,
      onFile: this.onFile.bind(this),
      preview: {},
      cropper: {},
      cropperProxy: 'cropper.first',
      file: '',
      data: '',
      showEvent: 'show',
      hideEvent: 'hide',
      options: options
    });
    // this._Dropzone = Dropzone;
  }

  // ------------------ method -------------------------

  _createClass(editAvatarCtrl, [{
    key: 'close',
    value: function close() {
      // $modalInstance.close();
    }
  }, {
    key: 'selectFile',
    value: function selectFile() {
      var form = _angular2.default.element('.dropzone');
      this.resetSelect(form);
      form.trigger('click');
    }
  }, {
    key: 'resetSelect',
    value: function resetSelect(form) {
      form.scope().dropzone.removeAllFiles();
    }

    /**
     * Method is called every time file input's value changes.
     * Because of Angular has not ng-change for file inputs a hack is needed -
     * call `angular.element(this).scope().onFile(this.files[0])`
     * when input's event is fired.
     */

  }, {
    key: 'onFile',
    value: function onFile(blob) {
      var _this2 = this;

      this._Cropper.encode(this._scope.file = blob).then(function (dataUrl) {
        _this2._scope.dataUrl = dataUrl;
        (_this2._scope.preview || (_this2._scope.preview = {})).dataUrl = dataUrl;
        _this2._timeout(_this2.showCropper.bind(_this2)); // wait for $digest to set image's src
        _this2._timeout(_this2.hideCropper.bind(_this2));
      });
    }
  }, {
    key: 'showCropper',


    /**
     * Showing (initializing) and hiding (destroying) of a cropper are started by
     * events. The scope of the `ng-cropper` directive is derived from the scope of
     * the controller. When initializing the `ng-cropper` directive adds two handlers
     * listening to events passed by `ng-cropper-show` & `ng-cropper-hide` attributes.
     * To show or hide a cropper `$broadcast` a proper event.
     */
    value: function showCropper() {
      this._scope.$broadcast(this._scope.showEvent);
    }
  }, {
    key: 'hideCropper',
    value: function hideCropper() {
      this._scope.$broadcast(this._scope.hideEvent);
    }
  }]);

  return editAvatarCtrl;
}();

exports.default = editAvatarCtrl;

},{"angular":"angular"}],"/Users/cescwang/program/sil/SIL-frontend/app/core/directives/mcUploadAvatar/upload.js":[function(require,module,exports){
'use strict';

mcUploadAvatar.$inject = ["$location", "$rootScope", "$timeout", "toastr", "Cropper"];
Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.mcUploadAvatar = mcUploadAvatar;

var _jquery = require('jquery');

var _jquery2 = _interopRequireDefault(_jquery);

var _ctrl = require('./ctrl');

var _ctrl2 = _interopRequireDefault(_ctrl);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

// import Dropzone from 'dropzone';

/**
 * @ngInject
 * @description 上传头像
 */
function mcUploadAvatar($location, $rootScope, $timeout, toastr, Cropper) {
    return {
        restrict: 'EA',
        templateUrl: 'core/directives/mcUploadAvatar/upload.html',
        replace: true,
        controller: _ctrl2.default,
        controllerAs: 'avatarVm',
        scope: {
            url: '=postUrl',
            params: '=imgParams',
            imgName: '=imgName',
            cropOptions: '=',
            imgUrl: '=',
            isEditing: '=',
            success: '&',
            error: '&',
            exposeScope: '&'
        },
        compile: function compile() {
            return {
                pre: function pre(scope, elem) {
                    console.log(scope.isEditing);

                    Dropzone.autoDiscover = false;

                    scope.thumbStart = false;
                    scope.barType = "success";
                    scope.pensionInfo = window.pageConf.pensionInfo;

                    scope.savedAvatar = function () {
                        var dropzone = angular.element('.dropzone').scope().dropzone.processQueue();
                    };

                    scope.resetUpload = function () {
                        scope.uploaded = false;
                        scope.dynamic = 0;
                    };

                    scope.dropzoneConfig = {
                        paramName: scope.imgName || 'images',
                        headers: { authorization: $rootScope.AUTHORIZATION_TOKEN },
                        url: scope.url,
                        method: 'post',
                        maxFilesize: 2,
                        maxFiles: 1,
                        dictFileTooBig: '文件大小不能超过2M',
                        uploadMultiple: false,
                        autoProcessQueue: false,
                        acceptedFiles: 'image/*',
                        addedfile: function addedfile(file) {

                            // 先上传
                            // if( !file ) return false;
                            // var cSize = file.size / 1024 / 1024;
                            // if( cSize > this.options.maxFilesize ){
                            //     var error_msg = "图片大小不能超过5M噢~";
                            //     toastr.error( error_msg );
                            // };


                            scope.resetUpload();
                            angular.element('#JS_avatar_input').scope().onFile(file);

                            scope.$apply(function () {
                                scope.exposeScope({ scope: scope });
                            });
                        },
                        // uploadprogress: function (file, progress) {

                        //     scope.$apply(function () {
                        //         scope.dynamic = progress;
                        //     });

                        // },
                        // error: function (file, errorMessage) {

                        //     scope.$parent.isCrop = false;

                        //     this.removeFile(file);
                        //     scope.$apply(function () {
                        //         scope.error(file, errorMessage);
                        //         toastr.error(errorMessage);
                        //     });
                        // },

                        uploadprogress: function uploadprogress(file, progress) {
                            scope.imgUploadng = true;

                            scope.$apply(function () {
                                scope.thumbStart = false;
                                scope.dynamic = progress;
                            });
                        },
                        error: function error(file, errorMessage) {
                            scope.imgUploadng = false;
                            this.removeFile(file);
                            scope.$apply(function () {
                                scope.thumbStart = false;
                                scope.error(file, errorMessage);
                                toastr.error(errorMessage);
                            });
                        },
                        success: function success(file, data) {

                            this.removeFile(file);
                            scope.$apply(function () {

                                scope.thumbStart = false;

                                if (data.status == 0) {
                                    scope.uploaded = true;
                                    scope.success({ file: file, data: data, scope: scope });
                                    // instace.close();
                                } else {
                                    toastr.error(data.info, '错误');
                                    scope.resetUpload();
                                }

                                // if( data.status == 0 ){
                                //     scope.uploaded = true;
                                //     scope.success({file: file, data: data, scope: scope});

                                //     scope.$parent.isCrop = true;

                                //     // 图片裁剪
                                //     scope.resetUpload();
                                //     angular.element('#JS_avatar_input').scope().onFile(file);


                                // }else{
                                //     toastr.error(data.info, '错误');
                                //     scope.resetUpload();
                                //     scope.$parent.isCrop = false;
                                // }
                            });
                        }
                    };
                }
            };
        }
    };
}

},{"./ctrl":"/Users/cescwang/program/sil/SIL-frontend/app/core/directives/mcUploadAvatar/ctrl.js","jquery":"jquery"}],"/Users/cescwang/program/sil/SIL-frontend/app/core/directives/mcUploadImage/ctrl.js":[function(require,module,exports){
arguments[4]["/Users/cescwang/program/sil/SIL-frontend/app/core/directives/mcUploadAvatar/ctrl.js"][0].apply(exports,arguments)
},{"angular":"angular"}],"/Users/cescwang/program/sil/SIL-frontend/app/core/directives/mcUploadImage/upload.js":[function(require,module,exports){
'use strict';

mcUploadImage.$inject = ["$location", "$rootScope", "$timeout", "toastr", "Cropper"];
Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.mcUploadImage = mcUploadImage;

var _jquery = require('jquery');

var _jquery2 = _interopRequireDefault(_jquery);

var _ctrl = require('./ctrl');

var _ctrl2 = _interopRequireDefault(_ctrl);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

// import Dropzone from 'dropzone';

/**
 * @ngInject
 * @description 上传头像
 */
function mcUploadImage($location, $rootScope, $timeout, toastr, Cropper) {
    return {
        restrict: 'EA',
        templateUrl: 'core/directives/mcUploadImage/upload.html',
        replace: true,
        controller: _ctrl2.default,
        controllerAs: 'avatarVm',
        scope: {
            url: '=postUrl',
            params: '=imgParams',
            imgName: '=imgName',
            cropOptions: '=',
            imgUrl: '=',
            success: '&',
            error: '&',
            exposeScope: '&',
            editing: '='
        },
        compile: function compile() {
            return {
                pre: function pre(scope, elem) {
                    console.log(scope.editing);

                    Dropzone.autoDiscover = false;

                    scope.thumbStart = false;
                    scope.barType = "success";
                    scope.pensionInfo = window.pageConf.pensionInfo;

                    scope.savedAvatar = function () {
                        var dropzone = angular.element('.dropzone').scope().dropzone.processQueue();
                    };

                    scope.resetUpload = function () {
                        scope.uploaded = false;
                        scope.dynamic = 0;
                    };

                    scope.dropzoneConfig = {
                        paramName: scope.imgName || 'images',
                        headers: { authorization: $rootScope.AUTHORIZATION_TOKEN },
                        url: scope.url,
                        method: 'post',
                        maxFilesize: 2,
                        maxFiles: 1,
                        dictFileTooBig: '文件大小不能超过2M',
                        uploadMultiple: false,
                        autoProcessQueue: false,
                        acceptedFiles: 'image/*',
                        addedfile: function addedfile(file) {
                            scope.resetUpload();
                            angular.element('#JS_avatar_input').scope().onFile(file);

                            scope.$apply(function () {
                                scope.exposeScope({ scope: scope });
                            });
                        },
                        uploadprogress: function uploadprogress(file, progress) {
                            scope.imgUploadng = true;

                            scope.$apply(function () {
                                scope.thumbStart = false;
                                scope.dynamic = progress;
                            });
                        },
                        error: function error(file, errorMessage) {
                            scope.imgUploadng = false;
                            this.removeFile(file);
                            scope.$apply(function () {
                                scope.thumbStart = false;
                                scope.error(file, errorMessage);
                                toastr.error(errorMessage);
                            });
                        },
                        success: function success(file, data) {
                            this.removeFile(file);
                            scope.$apply(function () {

                                scope.thumbStart = false;

                                if (data.status == 0) {
                                    scope.uploaded = true;
                                    scope.success({ file: file, data: data, scope: scope });
                                    // instace.close();
                                } else {
                                    toastr.error(data.info, '错误');
                                    scope.resetUpload();
                                }
                            });
                        }
                    };
                }
            };
        }
    };
}

},{"./ctrl":"/Users/cescwang/program/sil/SIL-frontend/app/core/directives/mcUploadImage/ctrl.js","jquery":"jquery"}],"/Users/cescwang/program/sil/SIL-frontend/app/core/services/checkState.service.js":[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

var checkStateService = function () {
  checkStateService.$inject = ["$rootScope", "$state", "sweet", "utilService"];
  function checkStateService($rootScope, $state, sweet, utilService) {
    'ngInject';

    _classCallCheck(this, checkStateService);

    this._rootScope = $rootScope;
    this._state = $state;
    this._sweet = sweet;
    this._utilService = utilService;
  }

  _createClass(checkStateService, [{
    key: 'formStateChange',
    value: function formStateChange(scope, formName) {
      var _this = this;

      var removeListener = this._rootScope.$on('$stateChangeStart', function (event, toState, toParams, fromState, fromParams) {

        var form = formName.split('.').length > 1 ? _this._utilService.getDescendantProp(scope, formName) : scope[formName];
        // 没有修改过
        if (!form || form && form.$pristine) {
          return;
        }

        _this.leaveConfirm(function (isConfirm) {
          if (!isConfirm) {
            // https://github.com/angular-ui/ui-router/issues/1158
            _this._state.go(toState.name, toParams, { notify: false }).then(function () {
              _this._rootScope.$broadcast('$stateChangeSuccess', toState, toParams, fromState, fromParams);
            });
          }
        });

        event.preventDefault();
      });

      scope.$on('$destroy', removeListener);
    }
  }, {
    key: 'leaveConfirm',
    value: function leaveConfirm(cb) {

      this._sweet.show({
        title: '提示',
        text: '当前信息尚未保存，是否离开此页面？',
        type: 'warning',
        showCancelButton: true,
        confirmButtonText: '留下',
        cancelButtonText: '离开'
      }, function (sure) {
        return cb(sure);
      });
    }
  }]);

  return checkStateService;
}();

exports.default = checkStateService;

},{}],"/Users/cescwang/program/sil/SIL-frontend/app/core/services/history.service.js":[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

var historyService = function () {
  historyService.$inject = ["$window"];
  function historyService($window) {
    'ngInject';

    _classCallCheck(this, historyService);

    this._window = $window;
  }

  _createClass(historyService, [{
    key: 'back',
    value: function back() {
      this._window.history.back();
    }
  }]);

  return historyService;
}();

exports.default = historyService;

},{}],"/Users/cescwang/program/sil/SIL-frontend/app/core/services/http.interceptor.js":[function(require,module,exports){
'use strict';

httpInterceptor.$inject = ["$q", "$window", "$injector", "$rootScope"];
Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = httpInterceptor;
function httpInterceptor($q, $window, $injector, $rootScope) {
  'ngInject';

  var requestInterceptor = {

    response: function response(_response) {
      var deferred = $q.defer();
      if (_response.data && (_response.data.code == 406 || _response.data.code == 402 || _response.data.code == 405)) {
        $window.location.href = '/login.html';
      }

      deferred.resolve(_response);
      return deferred.promise;
    },

    request: function request(config) {
      var deferred = $q.defer();

      config.timeout = 1000 * 100;
      // localStorage.getItem('SIL_TOKEN') || 
      // $http.defaults.headers.common['authorization']
      // config.headers['extra'] = '{"token":"iamsuperman:15828516285"}';
      config.headers['extra'] = localStorage.getItem('SIL_TOKEN') ? '{"token":"' + localStorage.getItem('SIL_TOKEN') + '","platform":"web","version":"1.0.0"}' : '';
      $rootScope.AUTHORIZATION_TOKEN = config.headers['extra'];

      if (!config.headers['extra']) {
        $window.location.href = '/login.html';
      }

      deferred.resolve(config);
      return deferred.promise;
    }
  };

  return requestInterceptor;
}

},{}],"/Users/cescwang/program/sil/SIL-frontend/app/core/services/httpHelper.service.js":[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

var httpHelper = function () {
  httpHelper.$inject = ["toastr", "blockUI", "AppSettings"];
  function httpHelper(toastr, blockUI, AppSettings) {
    'ngInject';

    _classCallCheck(this, httpHelper);

    this._blockUIInstance = null;
    this._errorInfo = AppSettings.errorInfo;

    this.toastr = toastr;
    this.$blockUI = blockUI;

    this.blockUI = {
      start: this._startBlockUI.bind(this),
      stop: this._stopBlockUI.bind(this)
    };

    this.verify = this._verify.bind(this);
    this.error = this._error.bind(this);
  }
  // ========================= Methods =========================

  _createClass(httpHelper, [{
    key: '_verify',
    value: function _verify(res) {
      var _this = this;

      this._stopBlockUI();

      return new Promise(function (resolve, reject) {
        if (res.data.code === 0) {
          resolve(res.data.data);
        } else {
          _this.toastr.error(_this._errorInfo[res.data.code] || res.data.info, '错误');
          reject(res);
        }
      });
    }
  }, {
    key: '_error',
    value: function _error() {
      var _this2 = this;

      this.toastr.error('获取数据失败！', '错误');
      return new Promise(function (resolve, reject) {
        _this2._stopBlockUI();

        reject();
      });
    }
  }, {
    key: '_startBlockUI',
    value: function _startBlockUI(blockUIName) {
      // TODO reset on restart
      this.$blockUI.instances.reset();
      if (blockUIName) {
        this._blockUIInstance = this.$blockUI.instances.get(blockUIName);
        this._blockUIInstance.start();
      } else {
        if (this.$blockUI.isBlocking) {
          this.$blockUI.stop();
        }
        this.$blockUI.start();
      }
    }
  }, {
    key: '_stopBlockUI',
    value: function _stopBlockUI() {
      if (this._blockUIInstance) {
        this._blockUIInstance.stop();
        this._blockUIInstance = null;
      } else {
        this.$blockUI.stop();
      }
    }
  }]);

  return httpHelper;
}();

exports.default = httpHelper;

},{}],"/Users/cescwang/program/sil/SIL-frontend/app/core/services/imgPreLoad.service.js":[function(require,module,exports){
'use strict';

imgPreLoadService.$inject = ["$q"];
Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = imgPreLoadService;
/**
 * @ngInject
 * @description 判断图片是否加载成功
 * ref: http://stackoverflow.com/questions/24569270/preload-background-image-using-angularjs-promises
 */
function imgPreLoadService($q) {
  'ngInject';

  return function (url) {
    var deffered = $q.defer(),
        image = new Image();

    image.src = url;

    if (image.complete) {
      deffered.resolve();
    } else {
      image.addEventListener('load', function () {
        deffered.resolve();
      });

      image.addEventListener('error', function () {
        deffered.reject();
      });
    }

    return deffered.promise;
  };
}

},{}],"/Users/cescwang/program/sil/SIL-frontend/app/core/services/service.module.js":[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _angular = require('angular');

var _angular2 = _interopRequireDefault(_angular);

var _httpHelper = require('./httpHelper.service');

var _httpHelper2 = _interopRequireDefault(_httpHelper);

var _imgPreLoad = require('./imgPreLoad.service');

var _imgPreLoad2 = _interopRequireDefault(_imgPreLoad);

var _checkState = require('./checkState.service');

var _checkState2 = _interopRequireDefault(_checkState);

var _util = require('./util.service');

var _util2 = _interopRequireDefault(_util);

var _history = require('./history.service');

var _history2 = _interopRequireDefault(_history);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

exports.default = _angular2.default.module('app.module.core.service', []).service('httpHelper', _httpHelper2.default).service('imgPreLoadService', _imgPreLoad2.default).service('checkStateService', _checkState2.default).service('utilService', _util2.default).service('historyService', _history2.default);

},{"./checkState.service":"/Users/cescwang/program/sil/SIL-frontend/app/core/services/checkState.service.js","./history.service":"/Users/cescwang/program/sil/SIL-frontend/app/core/services/history.service.js","./httpHelper.service":"/Users/cescwang/program/sil/SIL-frontend/app/core/services/httpHelper.service.js","./imgPreLoad.service":"/Users/cescwang/program/sil/SIL-frontend/app/core/services/imgPreLoad.service.js","./util.service":"/Users/cescwang/program/sil/SIL-frontend/app/core/services/util.service.js","angular":"angular"}],"/Users/cescwang/program/sil/SIL-frontend/app/core/services/util.service.js":[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
    value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

var util = function () {
    util.$inject = ["$window", "$http", "toastr", "sweet", "mcRegExp", "ApiMap"];
    function util($window, $http, toastr, sweet, mcRegExp, ApiMap) {
        'ngInject';

        _classCallCheck(this, util);

        this._window = $window;
        this._http = $http;

        this.toastr = toastr;
        this.sweet = sweet;
        this.mcRegExp = mcRegExp;
        this._api = ApiMap;
    }
    // 退出操作


    _createClass(util, [{
        key: 'logout',
        value: function logout() {
            var _this = this;

            return this._http.get(this._api.person.logout).then(function (data) {
                _this._window.location.href = '/login.html';
            });
        }

        /**
         * 用underscore从一个对象数组中删除指定的对象
         * @param arr 该数组
         * @param whereObj 查询要删除的对象
         */

    }, {
        key: 'removeItemFromArray',
        value: function removeItemFromArray(arr, whereObj) {
            return _.without(arr, _.findWhere(arr, whereObj));
        }

        /**
         * 获取指定月的总天数
         * @param date | string 日期对象或日期字符串
         * @returns {number}
         */

    }, {
        key: 'getDaysLenInMonth',
        value: function getDaysLenInMonth(date) {
            if (angular.isString(date)) {
                date = new Date(date);
            }
            var month = parseInt(date.getMonth() + 1, 10);
            return new Date(date.getFullYear(), month, 0).getDate();
        }

        /**
         * 针对非表单字段做数据验证
         * @param  {[type]} type  [description]
         * @return {[type]}       [description]
         */

    }, {
        key: 'validate',
        value: function validate(type) {
            var types = type.split(','),
                result = true,
                expr,
                args = Array.prototype.slice.call(arguments, 1);

            // 把第二个参数param归位到最后一个参数（把param放到第二个参数是因为使用方便）
            args.splice(1, 0, null, null, null);

            function applyExpr(type) {
                expr = this.mcRegExp.expression[type];
                if (expr instanceof RegExp) {
                    result = expr.test(args[0]);
                } else {
                    result = expr.apply(null, args);
                }
            }

            if (types.length > 1) {
                // http://stackoverflow.com/questions/13843972/angular-js-break-foreach
                angular.forEach(types, function (type) {
                    type && type.trim();
                    if (result) {
                        applyExpr(type);

                        if (!result) {
                            this.toastr.warning(this.mcRegExp.defaultMsg[type].error);
                            return false;
                        }
                    }
                });
            } else {
                applyExpr(type);

                if (!result) {
                    this.toastr.warning(this.mcRegExp.defaultMsg[type].error);
                }
            }

            return result;
        }

        /**
         * 允许访问以点连接的属性表达式字符串访问子属性
         * @param  {[type]} obj  targe
         * @param  {[type]} desc visit prop string
         * @return {[type]}      value
         * @example
         *   getDescendantProp({a: 1, b: {c: 2}}, 'b.c')  // 2
         */

    }, {
        key: 'getDescendantProp',
        value: function getDescendantProp(obj, desc) {
            var arr = desc.split(".");
            while (arr.length && (obj = obj[arr.shift()])) {}
            return obj;
        }

        /**
         * 询问窗口
         * @param  {[type]}   opts toastr参数
         * @param  {Function} cb   确认回调
         */

    }, {
        key: 'confirm',
        value: function confirm(opts, cb) {
            var options = angular.extend({
                title: '提示',
                text: '',
                //type: 'warning',
                imageUrl: '/dist/images/common/warning.png',
                showCancelButton: true,
                confirmButtonText: '确认',
                cancelButtonText: '取消'
            }, opts);

            this.sweet.show(options, function (isConfirm) {
                cb(isConfirm);
            });
        }

        /**
         * 替换underscore的pick()
         * http://stackoverflow.com/a/25835337/4723163
         *
         * example:
         *   let data = {foo: 'test', abc: 1, zyx: 222}
         *   pick(data, 'foo', 'zyx') // => {foo: 'test', zyx: 222}
         */

    }, {
        key: 'pick',
        value: function pick(o) {
            var _this2 = this;

            if (!o) return {};

            for (var _len = arguments.length, fields = Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {
                fields[_key - 1] = arguments[_key];
            }

            return fields.reduce(function (a, x) {
                if (x.includes('.')) {
                    // TODO: 判断hasOwnProperty
                    a[x.split('.').pop()] = _this2.getDescendantProp(o, x);
                } else {
                    if (o.hasOwnProperty(x)) a[x] = o[x];
                }

                return a;
            }, {});
        }

        /**
         * 在一个Object列表中，通过id/value获取其对应的text/name
         * list: Object数组
         * id: 查找的id
         * idKey: id的属性名(默认为value)
         * textKey: text的属性名(默认为name)
         * 如果不存在对应text则返回""
         */

    }, {
        key: 'getTextById',
        value: function getTextById(list, id) {
            var idKey = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 'value';
            var textKey = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : 'name';

            if (!list || !angular.isArray(list)) return;
            var filtered = list.filter(function (item) {
                return id === item[idKey];
            });
            return filtered.length ? filtered[0][textKey] : '';
        }
    }]);

    return util;
}();

exports.default = util;

},{}],"/Users/cescwang/program/sil/SIL-frontend/app/core/vendor/config/blockUI.config.js":[function(require,module,exports){
'use strict';

blockUIConfig.$inject = ["blockUIConfig"];
Object.defineProperty(exports, "__esModule", {
    value: true
});
function blockUIConfig(blockUIConfig) {
    'ngInject';

    blockUIConfig.message = ''; // 加载中...

    // Change the default delay to 100ms before the blocking is visible
    blockUIConfig.delay = 100;

    // Disable automatically blocking of the user interface
    blockUIConfig.autoBlock = false;

    // 只要发生异常就清除block
    blockUIConfig.resetOnException = true;

    // block默认是加到body上的，不过我们关掉它，自已指定block的区域
    blockUIConfig.autoInjectBodyBlock = false;

    // 默认是block-ui block-ui-anim-fade；如果需要覆盖，设置为 block-ui + 想应用的class
    blockUIConfig.cssClass = 'block-ui block-ui-message-custom';
}

exports.default = blockUIConfig;

},{}],"/Users/cescwang/program/sil/SIL-frontend/app/core/vendor/config/toastr.config.js":[function(require,module,exports){
'use strict';

toastrConfig.$inject = ["toastrConfig"];
Object.defineProperty(exports, "__esModule", {
  value: true
});

var _angular = require('angular');

var _angular2 = _interopRequireDefault(_angular);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function toastrConfig(toastrConfig) {
  'ngInject';

  _angular2.default.extend(toastrConfig, {
    allowHtml: false,
    autoDismiss: false,
    closeButton: true,
    closeHtml: '<button>&times;</button>',
    containerId: 'toast-container',
    extendedTimeOut: 1000,
    iconClasses: {
      error: 'toast-error',
      info: 'toast-info',
      success: 'toast-success',
      warning: 'toast-warning'
    },
    maxOpened: 0,
    messageClass: 'toast-message',
    newestOnTop: true,
    onHidden: null,
    onShown: null,
    onTap: null,
    positionClass: 'toast-top-right',
    preventDuplicates: false,
    preventOpenDuplicates: true,
    progressBar: true,
    tapToDismiss: true,
    target: 'body',
    templates: {
      toast: 'directives/toast/toast.html',
      progressbar: 'directives/progressbar/progressbar.html'
    },
    timeOut: 2000,
    titleClass: 'toast-title',
    toastClass: 'toast'
  });
}

exports.default = toastrConfig;

},{"angular":"angular"}],"/Users/cescwang/program/sil/SIL-frontend/app/core/vendor/config/uibPagination.config.js":[function(require,module,exports){
'use strict';

paginationConfig.$inject = ["uibPaginationConfig"];
Object.defineProperty(exports, "__esModule", {
  value: true
});

var _angular = require('angular');

var _angular2 = _interopRequireDefault(_angular);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function paginationConfig(uibPaginationConfig) {
  'ngInject';

  _angular2.default.extend(uibPaginationConfig, {
    // itemsPerPage: 10,
    boundaryLinks: true,
    rotate: false, // Whether to keep current page in the middle of the visible ones.
    maxSize: 10, // Limit number for pagination size.
    previousText: '上一页',
    nextText: '下一页',
    firstText: '首页',
    lastText: '尾页'
  });
}

exports.default = paginationConfig;

},{"angular":"angular"}],"/Users/cescwang/program/sil/SIL-frontend/app/core/vendor/config/validationRule.config.js":[function(require,module,exports){
'use strict';

validationRuleConfig.$inject = ["$validationProvider"];
Object.defineProperty(exports, "__esModule", {
  value: true
});

var _angular = require('angular');

var _angular2 = _interopRequireDefault(_angular);

var _regExpRule = require('./../../../common/constants/regExpRule');

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function validationRuleConfig($validationProvider) {
  'ngInject';

  $validationProvider.setExpression(_regExpRule.expression).setDefaultMsg(_regExpRule.defaultMsg);
}

exports.default = validationRuleConfig;

},{"./../../../common/constants/regExpRule":"/Users/cescwang/program/sil/SIL-frontend/app/common/constants/regExpRule.js","angular":"angular"}],"/Users/cescwang/program/sil/SIL-frontend/app/core/vendor/uibModal.decorator.js":[function(require,module,exports){
'use strict';

uibModalDecorator.$inject = ["$delegate"];
Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = uibModalDecorator;
// https://github.com/angular-ui/bootstrap/issues/5331
// 作废。在多重弹框的情况下，关闭上层的，会导致底层的无法滚动
function uibModalDecorator($delegate) {
  'ngInject';

  var baseOpen = $delegate.open;

  $delegate.open = function () {
    var options = arguments[0];
    var openedClass = 'modal-open';
    if (options) {
      openedClass = options.openedClass || openedClass;
      options.openedClass = "ignoreThisClass";
    }
    var mi = baseOpen.apply(this, arguments);
    var body = angular.element(document.body);
    body.addClass(openedClass);

    // Use result finally, because for whatever reason, closed never resolves
    mi.result.finally(function () {
      body.removeClass(openedClass);
    });

    return mi;
  };

  return $delegate;
}

},{}],"/Users/cescwang/program/sil/SIL-frontend/app/core/vendor/vendor.module.js":[function(require,module,exports){
(function (global){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _angular = require('angular');

var _angular2 = _interopRequireDefault(_angular);

var _jquery = require('jquery');

var _jquery2 = _interopRequireDefault(_jquery);

require('angular-toastr');

require('jquery-slimscroll');

require('angular-slimscroll');

require('angular-ui-switch');

var _angularBlockUi = require('angular-block-ui');

var _angularBlockUi2 = _interopRequireDefault(_angularBlockUi);

require('sweetalert');

require('angular-h-sweetalert');

var _dropzone = require('dropzone');

var _dropzone2 = _interopRequireDefault(_dropzone);

require('angular-dropzone');

require('ngCropper/dist/ngCropper.all');

require('angular-datepicker');

var _pace = require('pace2');

var _pace2 = _interopRequireDefault(_pace);

require('checklist-model');

var _viewerjs = require('viewerjs');

var _viewerjs2 = _interopRequireDefault(_viewerjs);

require('angular-sanitize');

require('angular-auto-complete');

var _underscore = require('underscore');

var _underscore2 = _interopRequireDefault(_underscore);

var _moment = require('moment');

var _moment2 = _interopRequireDefault(_moment);

require('angular-moment');

require('moment/locale/zh-cn');

require('angular-validation');

require('angular-validation/dist/angular-validation-rule');

require('angular-validation-match');

require("./../../../bower_components/angular-mdeditor/src/angular-mdeditor.js");

var _blockUI = require('./config/blockUI.config');

var _blockUI2 = _interopRequireDefault(_blockUI);

var _toastr = require('./config/toastr.config');

var _toastr2 = _interopRequireDefault(_toastr);

var _uibPagination = require('./config/uibPagination.config');

var _uibPagination2 = _interopRequireDefault(_uibPagination);

var _validationRule = require('./config/validationRule.config');

var _validationRule2 = _interopRequireDefault(_validationRule);

var _uibModal = require('./uibModal.decorator');

var _uibModal2 = _interopRequireDefault(_uibModal);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

global.$ = global.jQuery = _jquery2.default;

window.Dropzone = _dropzone2.default;
// import 'angular-xeditable';

window.Viewer = _viewerjs2.default;

// TODO: Angular version - https://github.com/andresesfm/angular-underscore-module/blob/master/angular-underscore-module.js

window._ = _underscore2.default;

window.moment = _moment2.default;

// TODO: https://github.com/Andyczc/angular-validation/commit/051655502558f4d61f6dfc4dc53eed3efdb9e46b

// import {xeditableOptions} from './config/xeditable.config';

exports.default = _angular2.default.module('app.core.vendor', [
// UI widget
'toastr', 'ui.slimscroll', 'uiSwitch', 'hSweetAlert', 'blockUI', 'ngDropzone', 'datePicker', 'ngCropper',
// 'xeditable', // TODO: replace with form-edit directive
'checklist-model', 'autoCompleteModule',

// Utils
'angularMoment', 'validation', 'validation.rule', 'validation.match', 'ui.mdeditor']).config(_blockUI2.default).config(_toastr2.default).config(_uibPagination2.default).config(_validationRule2.default);
// .run(xeditableOptions)
//.decorator('$uibModal', uibModalDecorator)
// .run(xeditableThemes);

}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{"./../../../bower_components/angular-mdeditor/src/angular-mdeditor.js":"/Users/cescwang/program/sil/SIL-frontend/bower_components/angular-mdeditor/src/angular-mdeditor.js","./config/blockUI.config":"/Users/cescwang/program/sil/SIL-frontend/app/core/vendor/config/blockUI.config.js","./config/toastr.config":"/Users/cescwang/program/sil/SIL-frontend/app/core/vendor/config/toastr.config.js","./config/uibPagination.config":"/Users/cescwang/program/sil/SIL-frontend/app/core/vendor/config/uibPagination.config.js","./config/validationRule.config":"/Users/cescwang/program/sil/SIL-frontend/app/core/vendor/config/validationRule.config.js","./uibModal.decorator":"/Users/cescwang/program/sil/SIL-frontend/app/core/vendor/uibModal.decorator.js","angular":"angular","angular-auto-complete":"/Users/cescwang/program/sil/SIL-frontend/node_modules/angular-auto-complete/angular-auto-complete.js","angular-block-ui":"/Users/cescwang/program/sil/SIL-frontend/node_modules/angular-block-ui/dist/angular-block-ui.js","angular-datepicker":"/Users/cescwang/program/sil/SIL-frontend/node_modules/angular-datepicker/dist/angular-datepicker.js","angular-dropzone":"angular-dropzone","angular-h-sweetalert":"/Users/cescwang/program/sil/SIL-frontend/node_modules/angular-h-sweetalert/src/ngSweetAlert.js","angular-moment":"/Users/cescwang/program/sil/SIL-frontend/node_modules/angular-moment/angular-moment.js","angular-sanitize":"/Users/cescwang/program/sil/SIL-frontend/node_modules/angular-sanitize/index.js","angular-slimscroll":"angular-slimscroll","angular-toastr":"angular-toastr","angular-ui-switch":"angular-ui-switch","angular-validation":"/Users/cescwang/program/sil/SIL-frontend/node_modules/angular-validation/dist/angular-validation.js","angular-validation-match":"/Users/cescwang/program/sil/SIL-frontend/node_modules/angular-validation-match/index.js","angular-validation/dist/angular-validation-rule":"/Users/cescwang/program/sil/SIL-frontend/node_modules/angular-validation/dist/angular-validation-rule.js","checklist-model":"/Users/cescwang/program/sil/SIL-frontend/node_modules/checklist-model/checklist-model.js","dropzone":"dropzone","jquery":"jquery","jquery-slimscroll":"jquery-slimscroll","moment":"/Users/cescwang/program/sil/SIL-frontend/node_modules/moment/moment.js","moment/locale/zh-cn":"/Users/cescwang/program/sil/SIL-frontend/node_modules/moment/locale/zh-cn.js","ngCropper/dist/ngCropper.all":"/Users/cescwang/program/sil/SIL-frontend/node_modules/ngCropper/dist/ngCropper.all.js","pace2":"pace2","sweetalert":"/Users/cescwang/program/sil/SIL-frontend/node_modules/sweetalert/lib/sweetalert.js","underscore":"/Users/cescwang/program/sil/SIL-frontend/node_modules/underscore/underscore.js","viewerjs":"/Users/cescwang/program/sil/SIL-frontend/node_modules/viewerjs/dist/viewer.js"}],"/Users/cescwang/program/sil/SIL-frontend/app/modules/account/config.js":[function(require,module,exports){
'use strict';

Config.$inject = ["$stateProvider"];
Object.defineProperty(exports, "__esModule", {
    value: true
});
function Config($stateProvider) {
    'ngInject';

    $stateProvider.state('account', {
        url: '/account',
        //abstract: true,
        template: '<ui-view><account-list></account-list></ui-view>',
        title: '账号管理',
        sidebarMeta: {
            icon: 'icon-sidebar_members_ic',
            order: 100
        }
    }).state('account.list', {
        url: '',
        template: '<account-list></account-list>',
        title: '账号列表'
    }).state('account.detail', {
        url: '/detail?id',
        template: '<account-detail></account-detail>',
        title: '账号详情'
    });
}

exports.default = Config;

},{}],"/Users/cescwang/program/sil/SIL-frontend/app/modules/account/detail/ctrl.js":[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

var DetailController = function () {
  DetailController.$inject = ["$state", "$stateParams", "toastr", "AccountService", "AppSettings", "ConfigService", "ProfileService"];
  function DetailController($state, $stateParams, toastr, AccountService, AppSettings, ConfigService, ProfileService) {
    'ngInject';

    _classCallCheck(this, DetailController);

    this._state = $state;
    this._toastr = toastr;
    this._stateParams = $stateParams;

    this._service = AccountService;
    this._configService = ConfigService;

    this.id = this._stateParams.id;
    this.roleKey = AppSettings.roleListKey;
    this.roleList = ProfileService.getRoleList();

    this.info = null;

    this._init();
  }

  _createClass(DetailController, [{
    key: '_init',
    value: function _init() {
      var _this = this;

      var params = {
        id: this.id
      };
      this.stateArr = {
        0: '未激活',
        1: '正常',
        2: '已冻结',
        3: '已删除'
      };

      this._service.get(params).then(function (data) {
        _this.person = data;
      });
    }
  }, {
    key: 'setUser',
    value: function setUser() {
      var params = {
        user_id: this.id,
        new_password: this.person.new_password,
        true_name: this.person.true_name,
        phone: this.person.phone,
        role: this.person.role,
        role_name: this.person.role_name,
        state: this.person.state
      };
      this._service.set(params).then(function (data) {
        location.href = '/#/account';
      });
    }
  }]);

  return DetailController;
}();

exports.default = DetailController;

},{}],"/Users/cescwang/program/sil/SIL-frontend/app/modules/account/detail/index.js":[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _ctrl = require('./ctrl');

var _ctrl2 = _interopRequireDefault(_ctrl);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var detail = {
  templateUrl: 'modules/account/detail/index.html',
  controller: _ctrl2.default,
  controllerAs: 'vm'
};

exports.default = detail;

},{"./ctrl":"/Users/cescwang/program/sil/SIL-frontend/app/modules/account/detail/ctrl.js"}],"/Users/cescwang/program/sil/SIL-frontend/app/modules/account/list/ctrl.js":[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _mcPagination = require('../../../core/components/mcPagination/mc-pagination.class');

var _mcPagination2 = _interopRequireDefault(_mcPagination);

var _modals = require('../modals');

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var ListController = function (_Pagination) {
  ListController.$inject = ["$injector", "$state", "$location", "$stateParams", "toastr", "$uibModal", "AccountService"];
  _inherits(ListController, _Pagination);

  function ListController($injector, $state, $location, $stateParams, toastr, $uibModal, AccountService) {
    'ngInject';

    _classCallCheck(this, ListController);

    var _this = _possibleConstructorReturn(this, (ListController.__proto__ || Object.getPrototypeOf(ListController)).call(this, $injector));

    _this._state = $state;
    _this._location = $location;
    _this._stateParams = $stateParams;
    _this._modal = $uibModal;

    _this._toastr = toastr;

    _this._service = AccountService;

    _this.filters = {};

    _this.oneAtATime = true;

    _this._init();

    _this.stateArr = {
      0: '未激活',
      1: '正常',
      2: '已冻结',
      3: '已删除'
    };

    return _this;
  }

  _createClass(ListController, [{
    key: '_init',
    value: function _init() {
      this._initFilters();
      this._getList();
    }
  }, {
    key: '_initFilters',
    value: function _initFilters() {

      var stateParams = this._stateParams;
      //this.filters.keyword = stateParams.keyword || void(0);
    }
  }, {
    key: '_getList',
    value: function _getList() {
      var _this2 = this;

      var params = this._filterEmptyValue();
      params.page = this.pagination.page;
      params.page_limit = 20;

      this._service.list(params).then(function (data) {
        _this2.pagination.count = data.count;
        _this2.pagination.pageSize = data.page_limit;
        _this2.list = data.users;
      });
    }
  }, {
    key: 'pageChanged',
    value: function pageChanged() {
      this._getList();
    }
  }, {
    key: 'reSearch',
    value: function reSearch() {
      this._getList();
    }
  }, {
    key: 'addUser',
    value: function addUser() {
      var list = this.list;
      var resolve = {
        info: function info() {
          return {
            list: list
          };
        }
      };

      var options = _extends({}, _modals.addConfig, { resolve: resolve });

      this._modal.open(options);
    }
  }, {
    key: 'assignBranch',
    value: function assignBranch(item) {
      var resolve = {
        info: function info() {
          return item;
        }
      };

      var options = _extends({}, _modals.branchConfig, { resolve: resolve });

      this._modal.open(options);
    }
  }]);

  return ListController;
}(_mcPagination2.default);

exports.default = ListController;

},{"../../../core/components/mcPagination/mc-pagination.class":"/Users/cescwang/program/sil/SIL-frontend/app/core/components/mcPagination/mc-pagination.class.js","../modals":"/Users/cescwang/program/sil/SIL-frontend/app/modules/account/modals/index.js"}],"/Users/cescwang/program/sil/SIL-frontend/app/modules/account/list/index.js":[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _ctrl = require('./ctrl');

var _ctrl2 = _interopRequireDefault(_ctrl);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var List = {
  templateUrl: 'modules/account/list/index.html',
  controller: _ctrl2.default,
  controllerAs: 'vm'
};

exports.default = List;

},{"./ctrl":"/Users/cescwang/program/sil/SIL-frontend/app/modules/account/list/ctrl.js"}],"/Users/cescwang/program/sil/SIL-frontend/app/modules/account/modals/add/ctrl.js":[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

var Controller = function () {
  Controller.$inject = ["$scope", "$state", "$validation", "$uibModalInstance", "toastr", "AccountService", "info", "AppSettings", "ConfigService", "ProfileService"];
  function Controller($scope, $state, $validation, $uibModalInstance, toastr, AccountService, info, AppSettings, ConfigService, ProfileService) {
    'ngInject';

    var _this = this;

    _classCallCheck(this, Controller);

    this._scope = $scope;
    this._state = $state;

    this._validationProvider = $validation;

    this._modalInstance = $uibModalInstance;
    this._toastr = toastr;

    this._service = AccountService;
    this._configService = ConfigService;

    this.roleKey = AppSettings.roleListKey;
    this.roleList = ProfileService.getRoleList();

    this.info = info;
    this.bankList = [];

    this.inputInfo = {
      true_name: '',
      phone: '',
      role: ''
    };

    this.autoCompleteOptions = {
      minimumChars: 1,
      data: function data(term) {
        term = term.toUpperCase();
        var match = _.filter(info.agencyList, function (value) {
          return value.startsWith(term);
        });
        return match;
      }
    };

    this._service.getBankList().then(function (data) {
      _this.bankList = data;
    });
  }

  _createClass(Controller, [{
    key: 'assignBranch',
    value: function assignBranch(item) {
      var resolve = {
        info: function info() {
          return item;
        }
      };

      var options = _extends({}, branchConfig, { resolve: resolve });

      this._modal.open(options);
    }
  }, {
    key: 'cancel',
    value: function cancel() {
      this._modalInstance.close();
    }
  }, {
    key: 'submit',
    value: function submit(form) {
      var _this2 = this;

      //验证表单
      this._validationProvider.validate(form).success(function () {
        _this2.saveFunc();
      });
    }
  }, {
    key: 'saveFunc',
    value: function saveFunc() {
      var _this3 = this;

      var data = this.inputInfo;
      this._service.add(data).then(function (data) {
        _this3._toastr.success('添加成功');
        _this3.cancel();
        _this3._state.reload();
      });
    }
  }]);

  return Controller;
}();

exports.default = Controller;

},{}],"/Users/cescwang/program/sil/SIL-frontend/app/modules/account/modals/add/index.js":[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _ctrl = require('./ctrl');

var _ctrl2 = _interopRequireDefault(_ctrl);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var Configuration = {
  templateUrl: 'modules/account/modals/add/template.html',
  controller: _ctrl2.default,
  controllerAs: 'vm'
};

exports.default = Configuration;

},{"./ctrl":"/Users/cescwang/program/sil/SIL-frontend/app/modules/account/modals/add/ctrl.js"}],"/Users/cescwang/program/sil/SIL-frontend/app/modules/account/modals/branch/ctrl.js":[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

var Controller = function () {
  Controller.$inject = ["$scope", "$state", "$validation", "$uibModalInstance", "toastr", "AccountService", "info"];
  function Controller($scope, $state, $validation, $uibModalInstance, toastr, AccountService, info) {
    'ngInject';

    _classCallCheck(this, Controller);

    this._scope = $scope;
    this._state = $state;

    this._validationProvider = $validation;

    this._modalInstance = $uibModalInstance;
    this._toastr = toastr;

    this._service = AccountService;

    this.info = info;

    this.inputInfo = {
      branch: info.bank && info.bank.id
    };

    this.list = null;

    this._getBankList();
  }

  _createClass(Controller, [{
    key: '_getBankList',
    value: function _getBankList() {
      var _this = this;

      this._service.getBankList().then(function (data) {
        // console.log(data);
        _this.list = data;
      });
    }
  }, {
    key: 'cancel',
    value: function cancel() {
      this._modalInstance.close();
    }
  }, {
    key: 'submit',
    value: function submit(form) {
      var _this2 = this;

      //验证表单
      this._validationProvider.validate(form).success(function () {
        _this2.saveFunc();
      });
    }
  }, {
    key: 'saveFunc',
    value: function saveFunc() {
      var _this3 = this;

      // console.log('submit')
      this._service.set({
        user_id: this.info.id,
        bank_id: this.inputInfo.branch
      }).then(function (data) {
        _this3.cancel();
        _this3._toastr.success('设置成功');
        _this3._state.reload();
      });
    }
  }]);

  return Controller;
}();

exports.default = Controller;

},{}],"/Users/cescwang/program/sil/SIL-frontend/app/modules/account/modals/branch/index.js":[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _ctrl = require('./ctrl');

var _ctrl2 = _interopRequireDefault(_ctrl);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var configuration = {
  templateUrl: 'modules/account/modals/branch/template.html',
  controller: _ctrl2.default,
  controllerAs: 'vm'
};

exports.default = configuration;

},{"./ctrl":"/Users/cescwang/program/sil/SIL-frontend/app/modules/account/modals/branch/ctrl.js"}],"/Users/cescwang/program/sil/SIL-frontend/app/modules/account/modals/index.js":[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.branchConfig = exports.addConfig = undefined;

var _add = require('./add');

var _add2 = _interopRequireDefault(_add);

var _branch = require('./branch');

var _branch2 = _interopRequireDefault(_branch);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

exports.addConfig = _add2.default;
exports.branchConfig = _branch2.default;

},{"./add":"/Users/cescwang/program/sil/SIL-frontend/app/modules/account/modals/add/index.js","./branch":"/Users/cescwang/program/sil/SIL-frontend/app/modules/account/modals/branch/index.js"}],"/Users/cescwang/program/sil/SIL-frontend/app/modules/account/module.js":[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _angular = require('angular');

var _angular2 = _interopRequireDefault(_angular);

var _jquery = require('jquery');

var _jquery2 = _interopRequireDefault(_jquery);

var _bootstrap = require('bootstrap');

var _bootstrap2 = _interopRequireDefault(_bootstrap);

var _config = require('./config');

var _config2 = _interopRequireDefault(_config);

var _service = require('./service');

var _service2 = _interopRequireDefault(_service);

var _detail = require('./detail/');

var _detail2 = _interopRequireDefault(_detail);

var _list = require('./list/');

var _list2 = _interopRequireDefault(_list);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

// import demoService      from './services/demo.service';


exports.default = _angular2.default.module('app.modules.account', [])
// .filter('filterType', filterType)
.service('AccountService', _service2.default).component('accountList', _list2.default).component('accountDetail', _detail2.default).config(_config2.default);

},{"./config":"/Users/cescwang/program/sil/SIL-frontend/app/modules/account/config.js","./detail/":"/Users/cescwang/program/sil/SIL-frontend/app/modules/account/detail/index.js","./list/":"/Users/cescwang/program/sil/SIL-frontend/app/modules/account/list/index.js","./service":"/Users/cescwang/program/sil/SIL-frontend/app/modules/account/service.js","angular":"angular","bootstrap":"/Users/cescwang/program/sil/SIL-frontend/node_modules/bootstrap/dist/js/npm.js","jquery":"jquery"}],"/Users/cescwang/program/sil/SIL-frontend/app/modules/account/service.js":[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

var Service = function () {
  Service.$inject = ["$http", "httpHelper", "$rootScope", "$state", "ApiMap"];
  function Service($http, httpHelper, $rootScope, $state, ApiMap) {
    'ngInject';

    _classCallCheck(this, Service);

    this._http = $http;
    // this.$q = $q;
    this._httpHelper = httpHelper;
    this._apiMap = ApiMap;
    this._api = ApiMap.person;

    this._rootScope = $rootScope;
    this._state = $state;
  }

  _createClass(Service, [{
    key: 'list',
    value: function list(params) {

      this._httpHelper.blockUI.start();

      return this._http.post(this._api.list, params).then(this._httpHelper.verify, this._httpHelper.error);
    }
  }, {
    key: 'get',
    value: function get(params) {

      this._httpHelper.blockUI.start();

      return this._http.post(this._api.get, params).then(this._httpHelper.verify, this._httpHelper.error);
    }
  }, {
    key: 'set',
    value: function set(params) {

      this._httpHelper.blockUI.start();

      return this._http.post(this._api.set, params).then(this._httpHelper.verify, this._httpHelper.error);
    }
  }, {
    key: 'add',
    value: function add(params) {

      this._httpHelper.blockUI.start();

      return this._http.post(this._api.add, params).then(this._httpHelper.verify, this._httpHelper.error);
    }
  }, {
    key: 'getBankList',
    value: function getBankList(params) {
      this._httpHelper.blockUI.start();
      return this._http.post(this._apiMap.bank.get, params).then(this._httpHelper.verify, this._httpHelper.error);
    }
  }, {
    key: 'getRoleList',
    value: function getRoleList() {
      this._httpHelper.blockUI.start();

      return this._http.get(this._apiMap.auth.get).then(this._httpHelper.verify, this._httpHelper.error);
    }
  }]);

  return Service;
}();

exports.default = Service;

},{}],"/Users/cescwang/program/sil/SIL-frontend/app/modules/bank/config.js":[function(require,module,exports){
'use strict';

Config.$inject = ["$stateProvider"];
Object.defineProperty(exports, "__esModule", {
  value: true
});
function Config($stateProvider) {
  'ngInject';

  $stateProvider.state('bank', {
    url: '/bank',
    //abstract: true,
    template: '<ui-view><bank-list></bank-list></ui-view>',
    title: '机构管理',
    sidebarMeta: {
      icon: 'icon-sidebar_members_ic',
      order: 10
    }
  });
  // .state('bank.list', {
  //     url: '',
  //     template: '<bank-list></bank-list>',
  //     title: '机构列表'
  // })
}

exports.default = Config;

},{}],"/Users/cescwang/program/sil/SIL-frontend/app/modules/bank/list/ctrl.js":[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _mcPagination = require('../../../core/components/mcPagination/mc-pagination.class');

var _mcPagination2 = _interopRequireDefault(_mcPagination);

var _modals = require('../modals');

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var ListController = function (_Pagination) {
  ListController.$inject = ["$injector", "$state", "$location", "$stateParams", "toastr", "$uibModal", "BankService"];
  _inherits(ListController, _Pagination);

  function ListController($injector, $state, $location, $stateParams, toastr, $uibModal, BankService) {
    'ngInject';

    _classCallCheck(this, ListController);

    var _this = _possibleConstructorReturn(this, (ListController.__proto__ || Object.getPrototypeOf(ListController)).call(this, $injector));

    _this._state = $state;
    _this._location = $location;
    _this._stateParams = $stateParams;
    _this._modal = $uibModal;

    _this._toastr = toastr;

    _this._service = BankService;

    _this.filters = {};

    _this.oneAtATime = true;

    _this._init();
    _this.bankStateList = [{
      value: 1,
      label: '正常'
    }, {
      value: 3,
      label: '已删除'
    }];
    return _this;
  }

  _createClass(ListController, [{
    key: '_init',
    value: function _init() {
      this._initFilters();
      this._getList();
    }
  }, {
    key: '_initFilters',
    value: function _initFilters() {

      var stateParams = this._stateParams;
      //this.filters.keyword = stateParams.keyword || void(0);
    }
  }, {
    key: '_getList',
    value: function _getList() {
      var _this2 = this;

      var params = this._filterEmptyValue();
      //params.page = this.pagination.page;
      //this.pagination.pageSize = 5;
      this._service.list(params).then(function (data) {
        //this.pagination.count = 10;
        _this2.list = data;
      });
    }
  }, {
    key: 'pageChanged',
    value: function pageChanged() {
      this._getList();
    }
  }, {
    key: 'reSearch',
    value: function reSearch() {
      this._getList();
    }
  }, {
    key: 'switch',
    value: function _switch(key, value) {

      if (!key) {
        return false;
      }

      this.filters[key] = value;

      this.reSearch();
    }
  }, {
    key: 'addBank',
    value: function addBank() {
      var list = this.list;
      var resolve = {
        info: function info() {
          return {
            list: list
          };
        }
      };

      var options = _extends({}, _modals.addConfig, { resolve: resolve });

      this._modal.open(options);
    }
  }, {
    key: 'setMap',
    value: function setMap(item) {
      var resolve = {
        info: function info() {
          return item;
        }
      };

      var options = _extends({}, _modals.mapConfig, { resolve: resolve });

      var modal = this.modal;
      this._modal.open(options);
    }
  }, {
    key: 'setName',
    value: function setName(item) {
      var resolve = {
        info: function info() {
          return item;
        }
      };

      var options = _extends({}, _modals.editConfig, { resolve: resolve });

      var modal = this.modal;
      this._modal.open(options);
    }
  }, {
    key: 'delete',
    value: function _delete(item) {
      var _this3 = this;

      this._service.set({
        id: item.id,
        state: 3
      }).then(function (data) {
        _this3._toastr.success('删除成功');
        _this3._state.reload();
      });
    }
  }, {
    key: 'redelete',
    value: function redelete(item) {
      var _this4 = this;

      this._service.set({
        id: item.id,
        state: 1
      }).then(function (data) {
        _this4._toastr.success('取消删除成功');
        _this4._state.reload();
      });
    }
  }, {
    key: 'assignBranch',
    value: function assignBranch(item) {
      var resolve = {
        info: function info() {
          return item;
        }
      };

      var options = _extends({}, _modals.branchConfig, { resolve: resolve });

      this._modal.open(options);
    }
  }]);

  return ListController;
}(_mcPagination2.default);

exports.default = ListController;

},{"../../../core/components/mcPagination/mc-pagination.class":"/Users/cescwang/program/sil/SIL-frontend/app/core/components/mcPagination/mc-pagination.class.js","../modals":"/Users/cescwang/program/sil/SIL-frontend/app/modules/bank/modals/index.js"}],"/Users/cescwang/program/sil/SIL-frontend/app/modules/bank/list/index.js":[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _ctrl = require('./ctrl');

var _ctrl2 = _interopRequireDefault(_ctrl);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var List = {
  templateUrl: 'modules/bank/list/index.html',
  controller: _ctrl2.default,
  controllerAs: 'vm'
};

exports.default = List;

},{"./ctrl":"/Users/cescwang/program/sil/SIL-frontend/app/modules/bank/list/ctrl.js"}],"/Users/cescwang/program/sil/SIL-frontend/app/modules/bank/modals/add/ctrl.js":[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

var Controller = function () {
  Controller.$inject = ["$scope", "$state", "$validation", "$uibModalInstance", "toastr", "BankService", "info"];
  function Controller($scope, $state, $validation, $uibModalInstance, toastr, BankService, info) {
    'ngInject';

    _classCallCheck(this, Controller);

    this._scope = $scope;
    this._state = $state;

    this._validationProvider = $validation;

    this._modalInstance = $uibModalInstance;
    this._toastr = toastr;

    this._service = BankService;

    this.info = info;

    this.inputInfo = {
      name: ''
    };

    this.autoCompleteOptions = {
      minimumChars: 1,
      data: function data(term) {
        term = term.toUpperCase();
        var match = _.filter(info.agencyList, function (value) {
          return value.startsWith(term);
        });
        return match;
      }
    };
  }

  _createClass(Controller, [{
    key: 'cancel',
    value: function cancel() {
      this._modalInstance.close();
    }
  }, {
    key: 'submit',
    value: function submit(form) {
      var _this = this;

      //验证表单
      this._validationProvider.validate(form).success(function () {
        _this.saveFunc();
      });
    }
  }, {
    key: 'saveFunc',
    value: function saveFunc() {
      var _this2 = this;

      var data = this.inputInfo;
      this._service.add(data).then(function (data) {
        _this2._toastr.success('添加成功');
        _this2.cancel();
        _this2._state.reload();
      });
    }
  }]);

  return Controller;
}();

exports.default = Controller;

},{}],"/Users/cescwang/program/sil/SIL-frontend/app/modules/bank/modals/add/index.js":[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _ctrl = require('./ctrl');

var _ctrl2 = _interopRequireDefault(_ctrl);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var Configuration = {
  templateUrl: 'modules/bank/modals/add/template.html',
  controller: _ctrl2.default,
  controllerAs: 'vm'
};

exports.default = Configuration;

},{"./ctrl":"/Users/cescwang/program/sil/SIL-frontend/app/modules/bank/modals/add/ctrl.js"}],"/Users/cescwang/program/sil/SIL-frontend/app/modules/bank/modals/branch/ctrl.js":[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

var Controller = function () {
  Controller.$inject = ["$scope", "$state", "$validation", "$uibModalInstance", "toastr", "BankService", "info"];
  function Controller($scope, $state, $validation, $uibModalInstance, toastr, BankService, info) {
    'ngInject';

    _classCallCheck(this, Controller);

    this._scope = $scope;
    this._state = $state;

    this._validationProvider = $validation;

    this._modalInstance = $uibModalInstance;
    this._toastr = toastr;

    this._service = BankService;

    this.info = info;

    this.inputInfo = {
      branch: info.bank && info.bank.id
    };

    this.list = null;

    this._getBankList();
  }

  _createClass(Controller, [{
    key: '_getBankList',
    value: function _getBankList() {
      var _this = this;

      this._service.list({
        state: 1
      }).then(function (data) {
        _this.list = data;
      });
    }
  }, {
    key: 'cancel',
    value: function cancel() {
      this._modalInstance.close();
    }
  }, {
    key: 'submit',
    value: function submit(form) {
      var _this2 = this;

      //验证表单
      this._validationProvider.validate(form).success(function () {
        _this2.saveFunc();
      });
    }
  }, {
    key: 'saveFunc',
    value: function saveFunc() {
      var _this3 = this;

      this._service.set({
        superior_id: this.inputInfo.branch,
        id: this.info.id
      }).then(function (data) {
        _this3.cancel();
        _this3._toastr.success('设置成功');
        _this3._state.reload();
      });
    }
  }]);

  return Controller;
}();

exports.default = Controller;

},{}],"/Users/cescwang/program/sil/SIL-frontend/app/modules/bank/modals/branch/index.js":[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _ctrl = require('./ctrl');

var _ctrl2 = _interopRequireDefault(_ctrl);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var configuration = {
  templateUrl: 'modules/bank/modals/branch/template.html',
  controller: _ctrl2.default,
  controllerAs: 'vm'
};

exports.default = configuration;

},{"./ctrl":"/Users/cescwang/program/sil/SIL-frontend/app/modules/bank/modals/branch/ctrl.js"}],"/Users/cescwang/program/sil/SIL-frontend/app/modules/bank/modals/edit/ctrl.js":[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

var Controller = function () {
  Controller.$inject = ["$scope", "$state", "$validation", "$uibModalInstance", "toastr", "BankService", "info"];
  function Controller($scope, $state, $validation, $uibModalInstance, toastr, BankService, info) {
    'ngInject';

    _classCallCheck(this, Controller);

    this._scope = $scope;
    this._state = $state;

    this._validationProvider = $validation;

    this._modalInstance = $uibModalInstance;
    this._toastr = toastr;

    this._service = BankService;

    this.info = info;

    this.inputInfo = {
      name: this.info.name,
      phone: this.info.phone,
      address: this.info.address
    };

    this.autoCompleteOptions = {
      minimumChars: 1,
      data: function data(term) {
        term = term.toUpperCase();
        var match = _.filter(info.agencyList, function (value) {
          return value.startsWith(term);
        });
        return match;
      }
    };
  }

  _createClass(Controller, [{
    key: 'cancel',
    value: function cancel() {
      this._modalInstance.close();
    }
  }, {
    key: 'submit',
    value: function submit(form) {
      var _this = this;

      //验证表单
      this._validationProvider.validate(form).success(function () {
        _this.saveFunc();
      });
    }
  }, {
    key: 'saveFunc',
    value: function saveFunc() {
      var _this2 = this;

      var data = {
        id: this.info.id,
        name: this.inputInfo.name,
        phone: this.inputInfo.phone,
        address: this.inputInfo.address
      };
      this._service.set(data).then(function (data) {
        _this2._toastr.success('修改成功');
        _this2.cancel();
        _this2._state.reload();
      });
    }
  }]);

  return Controller;
}();

exports.default = Controller;

},{}],"/Users/cescwang/program/sil/SIL-frontend/app/modules/bank/modals/edit/index.js":[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _ctrl = require('./ctrl');

var _ctrl2 = _interopRequireDefault(_ctrl);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var Configuration = {
  templateUrl: 'modules/bank/modals/edit/template.html',
  controller: _ctrl2.default,
  controllerAs: 'vm'
};

exports.default = Configuration;

},{"./ctrl":"/Users/cescwang/program/sil/SIL-frontend/app/modules/bank/modals/edit/ctrl.js"}],"/Users/cescwang/program/sil/SIL-frontend/app/modules/bank/modals/index.js":[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.editConfig = exports.mapConfig = exports.addConfig = exports.branchConfig = undefined;

var _branch = require('./branch');

var _branch2 = _interopRequireDefault(_branch);

var _add = require('./add');

var _add2 = _interopRequireDefault(_add);

var _map = require('./map');

var _map2 = _interopRequireDefault(_map);

var _edit = require('./edit');

var _edit2 = _interopRequireDefault(_edit);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

exports.branchConfig = _branch2.default;
exports.addConfig = _add2.default;
exports.mapConfig = _map2.default;
exports.editConfig = _edit2.default;

},{"./add":"/Users/cescwang/program/sil/SIL-frontend/app/modules/bank/modals/add/index.js","./branch":"/Users/cescwang/program/sil/SIL-frontend/app/modules/bank/modals/branch/index.js","./edit":"/Users/cescwang/program/sil/SIL-frontend/app/modules/bank/modals/edit/index.js","./map":"/Users/cescwang/program/sil/SIL-frontend/app/modules/bank/modals/map/index.js"}],"/Users/cescwang/program/sil/SIL-frontend/app/modules/bank/modals/map/ctrl.js":[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i["return"]) _i["return"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError("Invalid attempt to destructure non-iterable instance"); } }; }();

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

var Controller = function () {
  Controller.$inject = ["$scope", "$state", "$validation", "$uibModalInstance", "toastr", "BankService", "info"];
  function Controller($scope, $state, $validation, $uibModalInstance, toastr, BankService, info) {
    'ngInject';

    _classCallCheck(this, Controller);

    this._scope = $scope;
    this._state = $state;

    this._validationProvider = $validation;

    this._modalInstance = $uibModalInstance;
    this._toastr = toastr;

    this._service = BankService;

    this.info = info;

    if (this.info.coordinates == null) {
      this.longitude = 116.331398, this.latitude = 39.897445;
    } else {
      var _info$coordinates$spl = this.info.coordinates.split(",");

      var _info$coordinates$spl2 = _slicedToArray(_info$coordinates$spl, 2);

      this.longitude = _info$coordinates$spl2[0];
      this.latitude = _info$coordinates$spl2[1];
    }

    this.opts = {
      center: {
        longitude: this.longitude,
        latitude: this.latitude
      },
      zoom: 11,
      city: 'ShenZhen',
      enableScrollWheelZoom: true
    };
  }

  _createClass(Controller, [{
    key: 'loadMap',
    value: function loadMap(map) {
      map.disableAutoResize();
      map.enableAutoResize();
      if (this.info.coordinates == null) {
        var myFun = function myFun(result) {
          var cityName = result.name;
          map.setCenter(cityName);
        };

        var myCity = new BMap.LocalCity();
        myCity.get(myFun);
      } else {
        var point = new BMap.Point(this.longitude, this.latitude);
        new BMap.Geocoder().getLocation(point, function (rs) {
          map.setCenter(rs.addressComponents.city);
        });
      }
      var that = this;
      map.addEventListener("click", function (e) {
        var pt = e.point;
        that.latitude = pt.lat;
        that.longitude = pt.lng;
        new BMap.Geocoder().getLocation(pt, function (rs) {
          var addComp = rs.addressComponents;
          var r = confirm(addComp.province + ", " + addComp.city + ", " + addComp.district + ", " + addComp.street + ", " + addComp.streetNumber);
          if (r) {
            that._service.set({
              id: that.info.id,
              address: addComp.province + addComp.city + addComp.district + addComp.street + addComp.streetNumber,
              coordinates: that.longitude + "," + that.latitude
            }).then(function (data) {
              that.cancel();
              that._toastr.success('设置成功');
              that._state.reload();
            });
          }
        });
      });
    }
  }, {
    key: 'cancel',
    value: function cancel() {
      this._modalInstance.close();
    }
  }]);

  return Controller;
}();

exports.default = Controller;

},{}],"/Users/cescwang/program/sil/SIL-frontend/app/modules/bank/modals/map/index.js":[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _ctrl = require('./ctrl');

var _ctrl2 = _interopRequireDefault(_ctrl);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var Configuration = {
  templateUrl: 'modules/bank/modals/map/template.html',
  controller: _ctrl2.default,
  controllerAs: 'vm'
};

exports.default = Configuration;

},{"./ctrl":"/Users/cescwang/program/sil/SIL-frontend/app/modules/bank/modals/map/ctrl.js"}],"/Users/cescwang/program/sil/SIL-frontend/app/modules/bank/module.js":[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _angular = require('angular');

var _angular2 = _interopRequireDefault(_angular);

var _bootstrap = require('bootstrap');

var _bootstrap2 = _interopRequireDefault(_bootstrap);

var _config = require('./config');

var _config2 = _interopRequireDefault(_config);

var _service = require('./service');

var _service2 = _interopRequireDefault(_service);

var _list = require('./list/');

var _list2 = _interopRequireDefault(_list);

var _angularBaiduMap = require('angular-baidu-map');

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

// import demoService      from './services/demo.service';


exports.default = _angular2.default.module('app.modules.bank', [_angularBaiduMap.ngBaiduMap])
// .filter('filterType', filterType)
.service('BankService', _service2.default).component('bankList', _list2.default).config(_config2.default)
// .config(['mapScriptServiceProvider', function(provider) {
//     provider.setKey('8BEaSdo8E7VEHjM0pxWs8gIsHhkDlOOW');
// }])
;

},{"./config":"/Users/cescwang/program/sil/SIL-frontend/app/modules/bank/config.js","./list/":"/Users/cescwang/program/sil/SIL-frontend/app/modules/bank/list/index.js","./service":"/Users/cescwang/program/sil/SIL-frontend/app/modules/bank/service.js","angular":"angular","angular-baidu-map":"/Users/cescwang/program/sil/SIL-frontend/node_modules/angular-baidu-map/dist/angular-baidu-map.js","bootstrap":"/Users/cescwang/program/sil/SIL-frontend/node_modules/bootstrap/dist/js/npm.js"}],"/Users/cescwang/program/sil/SIL-frontend/app/modules/bank/service.js":[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

var Service = function () {
  Service.$inject = ["$http", "httpHelper", "$rootScope", "$state", "ApiMap"];
  function Service($http, httpHelper, $rootScope, $state, ApiMap) {
    'ngInject';

    _classCallCheck(this, Service);

    this._http = $http;
    // this.$q = $q;
    this._httpHelper = httpHelper;

    this._api = ApiMap.bank;

    this._rootScope = $rootScope;
    this._state = $state;
  }

  _createClass(Service, [{
    key: 'list',
    value: function list(params) {

      this._httpHelper.blockUI.start();

      return this._http.post(this._api.get, params).then(this._httpHelper.verify, this._httpHelper.error);
    }
  }, {
    key: 'add',
    value: function add(params) {

      this._httpHelper.blockUI.start();

      return this._http.post(this._api.add, params).then(this._httpHelper.verify, this._httpHelper.error);
    }
  }, {
    key: 'set',
    value: function set(params) {

      this._httpHelper.blockUI.start();

      return this._http.post(this._api.set, params).then(this._httpHelper.verify, this._httpHelper.error);
    }
  }]);

  return Service;
}();

exports.default = Service;

},{}],"/Users/cescwang/program/sil/SIL-frontend/app/modules/dashboard/dashboard.js":[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

var DashboardController = exports.DashboardController = function () {
  DashboardController.$inject = ["$rootScope", "$scope", "baseService", "utilService", "AppSettings"];
  function DashboardController($rootScope, $scope, baseService, utilService, AppSettings) {
    'ngInject';

    var _this = this;

    _classCallCheck(this, DashboardController);

    this.html = '';

    this.text = '### 标题\n' + '```\nconsole.log(Array.every(classes, Boolean));\n```\n' + '```javascript\nconsole.log(Array.every(classes, Boolean));\n```\n' + '```xml\n<html>\n\t<head>\n\t</head>\n\t<body>\n\t</body>\n</html>\n```';

    var destroyWatchText = $scope.$watch('vm.text', function () {
      console.log(marked(_this.text));

      _this.html = marked(_this.text);
    });
    /*
      * $scope销毁的时候,结束监听
      */
    $scope.$on('$destroy', destroyWatchText);

    this.init();
  }

  _createClass(DashboardController, [{
    key: 'init',
    value: function init() {}
  }]);

  return DashboardController;
}();

var dashboard = exports.dashboard = {
  templateUrl: 'modules/dashboard/dashboard.html',
  controller: DashboardController,
  controllerAs: 'vm'
};

},{}],"/Users/cescwang/program/sil/SIL-frontend/app/modules/dashboard/dashboard.module.js":[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _angular = require('angular');

var _angular2 = _interopRequireDefault(_angular);

var _dashboard = require('./dashboard');

var _dashboard2 = require('./dashboard.service');

var _dashboard3 = _interopRequireDefault(_dashboard2);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

exports.default = _angular2.default.module('app.modules.dashboard', [])
// .service('dashboardService', dashboardService)
.component('dashboard', _dashboard.dashboard);

},{"./dashboard":"/Users/cescwang/program/sil/SIL-frontend/app/modules/dashboard/dashboard.js","./dashboard.service":"/Users/cescwang/program/sil/SIL-frontend/app/modules/dashboard/dashboard.service.js","angular":"angular"}],"/Users/cescwang/program/sil/SIL-frontend/app/modules/dashboard/dashboard.service.js":[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

var dashboardService = function dashboardService(AppSettings, utilService, httpHelper, $http) {
  'ngInject';

  _classCallCheck(this, dashboardService);
};
dashboardService.$inject = ["AppSettings", "utilService", "httpHelper", "$http"];

exports.default = dashboardService;

},{}],"/Users/cescwang/program/sil/SIL-frontend/app/modules/demo/access/ctrl.js":[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

var ListController = function () {
  ListController.$inject = ["$rootScope", "$state", "toastr", "AppSettings", "ConfigService", "ProfileService"];
  function ListController($rootScope, $state, toastr, AppSettings, ConfigService, ProfileService) {
    'ngInject';

    _classCallCheck(this, ListController);

    this.$state = $state;
    this.staticMenuItems = [];
    this._isMenuCollapsed = true;

    this._service = ConfigService;
    this.roleList = ProfileService.getRoleList();

    this._scope = $rootScope;
    this._toastr = toastr;

    this.key = AppSettings.accessKey;
    this.roleKey = AppSettings.roleListKey;

    // this.roleList = [];
    this.getMenuItems();
    this._get();
  }

  _createClass(ListController, [{
    key: '_get',
    value: function _get() {
      var _this = this;

      this._service.get(this.key).then(function (data) {
        if (data) {
          _this.access = angular.fromJson(data);
        }
      });
    }
  }, {
    key: 'getMenuItems',
    value: function getMenuItems() {

      var states = this.defineMenuItemStates();
      // let menuItems = states.filter(item => item.level == 0 && !(item.accessRoleIds && item.accessRoleIds.indexOf(this._scope.accessControl.role_id) == -1) );
      // let menuItems = states.filter(item => item.level == 0);

      // menuItems.forEach( item => {
      //   var children = states.filter( child => {
      //     return child.level == 1 && child.name.indexOf(item.name) === 0;
      //   });

      //   item.subMenu = children.length ? children : null;

      //   // 用第三级的指定入口替换二级抽象路由
      //   item.subMenu && item.subMenu.forEach( (third, index) => {
      //     if(third.entry) {
      //       let entry = states.filter(x => x.name === third.entry);
      //       if(entry.length) {
      //         item.subMenu[index] = entry[0];
      //       }
      //     }
      //   });

      // });

      // this.list = menuItems.concat(this.staticMenuItems);
      var extend = this._getEnterpriseAccess();
      this.list = states.concat(extend);
    }
  }, {
    key: 'getAllStateRefsRecursive',
    value: function getAllStateRefsRecursive(item) {

      return this._iterateSubItems(item);
    }
  }, {
    key: 'defineMenuItemStates',
    value: function defineMenuItemStates() {

      return this.$state.get().filter(function (item) {
        return item.name && item.title;
      });
      //   // .filter(state => {
      //   //   return state.sidebarMeta;
      //   // })
      //   .map(state => {
      //     var meta = state.sidebarMeta;
      //     return {
      //       name: state.name,
      //       title: state.title,
      //       level: (state.name.match(/\./g) || []).length,
      //       order: meta.order,
      //       icon: meta.icon,
      //       stateRef: state.name,
      //       entry: meta.entry,
      //       accessRoleIds: meta.accessRoleIds,
      //     };
      //   })
      //   .sort((a, b) => {
      //     return (a.level - b.level) * 100 + a.order - b.order;
      //   });
    }
  }, {
    key: '_getEnterpriseAccess',
    value: function _getEnterpriseAccess() {
      return [{
        name: 'enterprise.filter.role_a_state',
        title: '主理状态筛选'
      }, {
        name: 'enterprise.list.role_show',
        title: '列表显示客户经理'
      }, {
        name: 'enterprise.assign.role',
        title: '分配客户经理'
      }, {
        name: 'enterprise.assign.branch',
        title: '分配机构'
      }];
    }
  }, {
    key: '_iterateSubItems',
    value: function _iterateSubItems(currentItem) {
      var _this2 = this;

      var result = [];
      currentItem.subMenu && currentItem.subMenu.forEach(function (subItem) {
        subItem.stateRef && result.push(subItem.stateRef);
        _this2._iterateSubItems(subItem);
      });
      return result;
    }
  }, {
    key: 'submit',
    value: function submit() {
      var _this3 = this;

      console.log('submit');
      console.log(this.access);

      this._service.set({
        key: this.key,
        value: angular.toJson(this.access)
      }).then(function (data) {
        _this3._toastr.success('添加成功');
      });
    }
  }]);

  return ListController;
}();

exports.default = ListController;

},{}],"/Users/cescwang/program/sil/SIL-frontend/app/modules/demo/access/index.js":[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _ctrl = require('./ctrl');

var _ctrl2 = _interopRequireDefault(_ctrl);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var demoList = {
  templateUrl: 'modules/demo/access/template.html',
  controller: _ctrl2.default,
  controllerAs: 'vm'
};

exports.default = demoList;

},{"./ctrl":"/Users/cescwang/program/sil/SIL-frontend/app/modules/demo/access/ctrl.js"}],"/Users/cescwang/program/sil/SIL-frontend/app/modules/demo/component/ctrl.js":[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

var Controller = function Controller() {
  'ngInject';

  _classCallCheck(this, Controller);

  this.info = {};
};

exports.default = Controller;

},{}],"/Users/cescwang/program/sil/SIL-frontend/app/modules/demo/component/index.js":[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _ctrl = require('./ctrl');

var _ctrl2 = _interopRequireDefault(_ctrl);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var component = {
  templateUrl: 'modules/demo/component/index.html',
  controller: _ctrl2.default,
  controllerAs: 'vm'
};

exports.default = component;

},{"./ctrl":"/Users/cescwang/program/sil/SIL-frontend/app/modules/demo/component/ctrl.js"}],"/Users/cescwang/program/sil/SIL-frontend/app/modules/demo/demo.config.js":[function(require,module,exports){
'use strict';

demoConfig.$inject = ["$stateProvider"];
Object.defineProperty(exports, "__esModule", {
  value: true
});
function demoConfig($stateProvider) {
  'ngInject';

  $stateProvider.state('access', {
    url: '/access',
    // abstract: true,
    template: '<ui-view><demo-access></demo-access></ui-view>',
    title: '权限配置',
    sidebarMeta: {
      icon: 'icon-sidebar_members_ic',
      order: 3000
    }
  })
  // .state('demo.list', {
  //     url: '/list?page&gender&keyword',
  //     template: '<demo-list></demo-list>',
  //     title: '列表',
  //     sidebarMeta: {
  //       order: 30
  //     }
  // })
  // .state('demo.component', {
  //   url: '/component',
  //   template: '<demo-component></demo-component>',
  //   title: 'Component',
  //   sidebarMeta: {
  //     order: 10
  //   }
  // })
  // .state('demo.access', {
  //   url: '/access',
  //   template: '<demo-access></demo-access>',
  //   title: 'access',
  //   sidebarMeta: {
  //     order: 10
  //   }
  // })
  ;
}

exports.default = demoConfig;

},{}],"/Users/cescwang/program/sil/SIL-frontend/app/modules/demo/demo.module.js":[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _angular = require('angular');

var _angular2 = _interopRequireDefault(_angular);

var _demo = require('./demo.config');

var _demo2 = _interopRequireDefault(_demo);

var _list = require('./list/');

var _list2 = _interopRequireDefault(_list);

var _component = require('./component');

var _component2 = _interopRequireDefault(_component);

var _access = require('./access');

var _access2 = _interopRequireDefault(_access);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

// import demoService      from './services/demo.service';


exports.default = _angular2.default.module('app.modules.demo', [])
// .filter('filterType', filterType)

.component('demoList', _list2.default).component('demoComponent', _component2.default).component('demoAccess', _access2.default).config(_demo2.default);

},{"./access":"/Users/cescwang/program/sil/SIL-frontend/app/modules/demo/access/index.js","./component":"/Users/cescwang/program/sil/SIL-frontend/app/modules/demo/component/index.js","./demo.config":"/Users/cescwang/program/sil/SIL-frontend/app/modules/demo/demo.config.js","./list/":"/Users/cescwang/program/sil/SIL-frontend/app/modules/demo/list/index.js","angular":"angular"}],"/Users/cescwang/program/sil/SIL-frontend/app/modules/demo/list/ctrl.js":[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _mcPagination = require('../../../core/components/mcPagination/mc-pagination.class');

var _mcPagination2 = _interopRequireDefault(_mcPagination);

var _modals = require('../modals');

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var ListController = function (_Pagination) {
  ListController.$inject = ["$injector", "$location", "$stateParams", "$uibModal", "AppSettings"];
  _inherits(ListController, _Pagination);

  function ListController($injector, $location, $stateParams, $uibModal, AppSettings) {
    'ngInject';

    _classCallCheck(this, ListController);

    var _this = _possibleConstructorReturn(this, (ListController.__proto__ || Object.getPrototypeOf(ListController)).call(this, $injector));

    _this._location = $location;
    _this._stateParams = $stateParams;
    _this._modal = $uibModal;

    _this.genderList = AppSettings.genderList;
    _this.filters = {};

    _this.start_date = moment();

    _this.end_date = moment();
    _this.startTimeMaxLimit = moment();
    _this.endTimeMaxLimit = moment();

    _this._init();

    return _this;
  }

  _createClass(ListController, [{
    key: '_init',
    value: function _init() {

      this._initFilters();
      this._getList();
    }
  }, {
    key: '_initFilters',
    value: function _initFilters() {
      // console.log(this._stateParams);
      var stateParams = this._stateParams;
      // this.pagination.page = +stateParams.page;
      this.filters.gender = +stateParams.gender || void 0;

      this.filters.keyword = stateParams.keyword || void 0;
    }
  }, {
    key: '_getList',
    value: function _getList() {

      var params = this._filterEmptyValue();
      params.pageSize = this.pagination.pageSize;
      params.page = this.pagination.page;

      this.list = [{ name: 'Lily', gender: 'falman', age: '16' }, { name: 'Li lei', gender: 'man', age: '26' }];
      this.pagination.count = 20;
    }
  }, {
    key: 'reSearch',
    value: function reSearch() {
      var page = 1;
      this._location.search(_extends({}, this._filterEmptyValue(), { page: page }));
    }
  }, {
    key: 'switch',
    value: function _switch(key, value) {

      if (!key) {
        return false;
      }

      this.filters[key] = value;

      this.reSearch();
    }
  }, {
    key: 'edit',
    value: function edit(item) {
      var resolve = {
        info: function info() {
          return item;
        }
      };

      var options = _extends({}, _modals.editConfiguration, { resolve: resolve });

      this._modal.open(options);
    }

    // datepicker

  }, {
    key: 'changeTime',
    value: function changeTime(type) {
      var values = {
        minDate: false,
        maxDate: false
      };
      if (type == 'start') {
        this.filters.start_date = this.start_date.format('YYYY-MM-DD');
        this.endTimeMinLimit = this.start_date;
        values.minDate = this.start_date;
        values.maxDate = moment();
      } else {
        this.filters.end_date = this.end_date.format('YYYY-MM-DD');
        this.startTimeMaxLimit = this.end_date;
        values.maxDate = this.end_date;
      }
    }
  }]);

  return ListController;
}(_mcPagination2.default);

exports.default = ListController;

},{"../../../core/components/mcPagination/mc-pagination.class":"/Users/cescwang/program/sil/SIL-frontend/app/core/components/mcPagination/mc-pagination.class.js","../modals":"/Users/cescwang/program/sil/SIL-frontend/app/modules/demo/modals/index.js"}],"/Users/cescwang/program/sil/SIL-frontend/app/modules/demo/list/index.js":[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _ctrl = require('./ctrl');

var _ctrl2 = _interopRequireDefault(_ctrl);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var demoList = {
  templateUrl: 'modules/demo/list/template.html',
  controller: _ctrl2.default,
  controllerAs: 'vm'
};

exports.default = demoList;

},{"./ctrl":"/Users/cescwang/program/sil/SIL-frontend/app/modules/demo/list/ctrl.js"}],"/Users/cescwang/program/sil/SIL-frontend/app/modules/demo/modals/edit/ctrl.js":[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

var editController = function () {
  editController.$inject = ["$scope", "$validation", "$uibModalInstance", "toastr", "info"];
  function editController($scope, $validation, $uibModalInstance, toastr, info) {
    'ngInject';

    _classCallCheck(this, editController);

    this._scope = $scope;

    this._validationProvider = $validation;

    this._modalInstance = $uibModalInstance;
    this._toastr = toastr;

    this.info = info;
  }

  _createClass(editController, [{
    key: 'cancel',
    value: function cancel() {
      this._modalInstance.close();
    }
  }, {
    key: 'submit',
    value: function submit(form) {
      var _this = this;

      //验证表单
      this._validationProvider.validate(form).success(function () {
        _this.saveFunc();
      });
    }
  }, {
    key: 'saveFunc',
    value: function saveFunc() {}
  }]);

  return editController;
}();

exports.default = editController;

},{}],"/Users/cescwang/program/sil/SIL-frontend/app/modules/demo/modals/edit/index.js":[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _ctrl = require('./ctrl');

var _ctrl2 = _interopRequireDefault(_ctrl);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var editConfiguration = {
  templateUrl: 'modules/demo/modals/edit/template.html',
  controller: _ctrl2.default,
  controllerAs: 'vm'
};

exports.default = editConfiguration;

},{"./ctrl":"/Users/cescwang/program/sil/SIL-frontend/app/modules/demo/modals/edit/ctrl.js"}],"/Users/cescwang/program/sil/SIL-frontend/app/modules/demo/modals/index.js":[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.editConfiguration = undefined;

var _edit = require('./edit');

var _edit2 = _interopRequireDefault(_edit);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

exports.editConfiguration = _edit2.default;

},{"./edit":"/Users/cescwang/program/sil/SIL-frontend/app/modules/demo/modals/edit/index.js"}],"/Users/cescwang/program/sil/SIL-frontend/app/modules/enterprise/config.js":[function(require,module,exports){
'use strict';

Config.$inject = ["$stateProvider"];
Object.defineProperty(exports, "__esModule", {
    value: true
});
function Config($stateProvider) {
    'ngInject';

    $stateProvider.state('enterprise', {
        url: '/enterprise?page&role_a_disable&name&state&bank_name',
        // abstract: true,
        template: '<ui-view><enterprise-list></enterprise-list></ui-view>',
        title: '企业管理',
        sidebarMeta: {
            icon: 'icon-sidebar_members_ic',
            order: 400
        }
    })
    // .state('enterprise.list', {
    //     url: '?page&role_a_disable&name&state&bank_name',
    //     template: '<enterprise-list></enterprise-list>',
    //     title: '企业列表',
    //     // sidebarMeta: {
    //     //   order: 10
    //     // }
    // })
    .state('enterprise.detail', {
        url: '/detail?id',
        template: '<enterprise-detail></enterprise-detail>',
        title: '企业详情'
    });
}

exports.default = Config;

},{}],"/Users/cescwang/program/sil/SIL-frontend/app/modules/enterprise/detail/ctrl.js":[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

// import {branchConfig, manageConfig} from '../modals';

// const mock_data = {"status":"200","message":"查询成功","data":{"name":"小米科技有限责任公司","econ_kind":"有限责任公司(自然人投资或控股)","regist_capi":"185000 万人民币","scope":"手机技术开发；手机生产、手机服务。（限海淀区永捷北路2号二层经营）；技术开发；货物进出口、技术进出口、代理进出口；销售通讯设备；维修仪器仪表；维修办公设备；承办展览展示活动；会议服务；筹备、策划、组织大型庆典。（企业依法自主选择经营项目，开展经营活动；依法须经批准的项目，经相关部门批准后依批准的内容开展经营活动；不得从事本市产业政策禁止和限制类项目的经营活动。）","term_start":"2010-03-03","term_end":"2030-03-02","belong_org":"海淀分局","oper_name":"雷军","check_date":"2015-03-03","start_date":"2010-03-03","end_date":"-","status":"开业","org_no":"551385082","credit_no":"91110108551385082Q","province":"BJ","id":"534472fd-7d53-4958-8132-d6a6242423d8","abnormal_items":[],"reg_no":"110108012660422","address":"北京市海淀区清河中街68号华润五彩城购物中心二期13层","employees":[{"name":"雷军","job_title":"董事长"},{"name":"林斌","job_title":"董事"},{"name":"刘芹","job_title":"董事"},{"name":"许达来","job_title":"董事"},{"name":"雷军","job_title":"经理"},{"name":"黎万强","job_title":"监事"}],"branches":[],"changerecords":[{"change_item":"注册资本","change_date":"2016-03-24","before_content":"5000万元","after_content":"185000万元"},{"change_item":"董事（理事）、经理、监事","change_date":"2014-03-12","before_content":"（注：标有标志的为法定代表人）1 雷军 董事长 2 许达来 董事 3 刘芹 董事 4 林斌 董事 5 邝子平 董事 6 雷军 经理 7 黎万强 监事 ","after_content":"（注：标有标志的为法定代表人）1 雷军 董事长 2 许达来 董事 3 刘芹 董事 4 林斌 董事 5 雷军 经理 6 黎万强 监事 "},{"change_item":"董事（理事）、经理、监事","change_date":"2013-11-07","before_content":"（注：标有标志的为法定代表人）1 雷军 董事长 2 林斌 董事 3 刘芹 董事 4 HANS TUNG 董事 5 雷军 经理 6 黎万强 监事 ","after_content":"（注：标有标志的为法定代表人）1 雷军 董事长 2 许达来 董事 3 刘芹 董事 4 林斌 董事 5 邝子平 董事 6 雷军 经理 7 黎万强 监事 "},{"change_item":"企业名称","change_date":"2013-07-30","before_content":"北京小米科技有限责任公司","after_content":"小米科技有限责任公司"},{"change_item":"住所","change_date":"2013-07-30","before_content":"北京市海淀区永捷北路2号二层","after_content":"北京市海淀区清河中街68号华润五彩城购物中心二期13层"},{"change_item":"注册资本","change_date":"2013-06-04","before_content":"2691.5989万元","after_content":"5000万元"},{"change_item":"实收资本（金）","change_date":"2013-06-04","before_content":"2691.5989万元","after_content":"5000万元"},{"change_item":"认缴的出资额,实缴的出资额","change_date":"2013-06-04","before_content":"1 雷军 2094.17 自然人股东 2 黎万强 272.45 自然人股东 3 洪锋 270.87 自然人股东 4 刘德 54.1 自然人股东 ","after_content":"1 雷军 3890.11 自然人股东 2 黎万强 506.06 自然人股东 3 洪锋 503.33 自然人股东 4 刘德 100.5 自然人股东 "},{"change_item":"经营范围","change_date":"2012-08-29","before_content":"手机技术开发；手机生产、手机服务。技术开发；货物进出口、技术进出口、代理进出口。","after_content":"手机技术开发；手机生产、手机服务。技术开发；货物进出口、技术进出口、代理进出口；销售通讯设备；维修仪器仪表；维修办公设备；承办展览展示活动；会议服务；筹备、策划、组织大型庆典。 （未取得行政许可的项目除外）"},{"change_item":"注册资本","change_date":"2011-05-24","before_content":"2637.4978万元","after_content":"2691.5989万元"},{"change_item":"实收资本（金）","change_date":"2011-05-24","before_content":"2637.4978万元","after_content":"2691.5989万元"},{"change_item":"认缴的出资额,认缴的出资方式,认缴的出资时间,实缴的出资额,实缴的出资方式,实缴的出资时间,投资人","change_date":"2011-05-24","before_content":"1 雷军 2094.17 自然人股东 2 黎万强 272.45 自然人股东 3 洪锋 270.87 自然人股东 ","after_content":"1 雷军 2094.17 自然人股东 2 黎万强 272.45 自然人股东 3 洪锋 270.87 自然人股东 4 刘德 54.1 自然人股东 "},{"change_item":"住所","change_date":"2011-02-14","before_content":"北京市海淀区北四环西路9号807室","after_content":"北京市海淀区永捷北路2号二层"},{"change_item":"经营范围","change_date":"2011-02-14","before_content":"技术开发。（法律、行政法规、国务院决定禁止的，不得经营；法律、行政法规、国务院决定规定应经许可的，经审批机关批准并经工商行政管理机关登记注册后方可经营；法律、行政法规、国务院决定未规定许可的，自主选择经营项目开展经营活动。）","after_content":"手机技术开发；手机生产、手机服务。技术开发；货物进出口、技术进出口、代理进出口。"},{"change_item":"董事（理事）、经理、监事","change_date":"2011-02-14","before_content":"（注：标有标志的为法定代表人）1 雷军 董事长 2 林斌 董事 3 刘芹 董事 4 雷军 经理 5 黎万强 监事 ","after_content":"（注：标有标志的为法定代表人）1 雷军 董事长 2 林斌 董事 3 刘芹 董事 4 HANS TUNG 董事 5 雷军 经理 6 黎万强 监事 "},{"change_item":"认缴的出资额,认缴的出资方式,认缴的出资时间,实缴的出资额,实缴的出资方式,实缴的出资时间","change_date":"2010-09-01","before_content":"1 雷军 2457.66 自然人股东 2 洪锋 169.51 自然人股东 3 黎万强 10.33 自然人股东 ","after_content":"1 雷军 2094.17 自然人股东 2 黎万强 272.45 自然人股东 3 洪锋 270.87 自然人股东 "},{"change_item":"注册资本","change_date":"2010-07-28","before_content":"100万元","after_content":"2637.4978万元"},{"change_item":"实收资本（金）","change_date":"2010-07-28","before_content":"100万元","after_content":"2637.4978万元"},{"change_item":"认缴的出资额,实缴的出资额","change_date":"2010-07-28","before_content":"1 雷军 79.4 自然人股东 2 黎万强 10.33 自然人股东 3 洪锋 10.27 自然人股东 ","after_content":"1 雷军 2457.66 自然人股东 2 洪锋 169.51 自然人股东 3 黎万强 10.33 自然人股东 "},{"change_item":"董事（理事）、经理、监事","change_date":"2010-07-28","before_content":"（注：标有标志的为法定代表人）1 雷军 执行董事 2 雷军 经理 3 黎万强 监事 ","after_content":"（注：标有标志的为法定代表人）1 雷军 董事长 2 林斌 董事 3 刘芹 董事 4 雷军 经理 5 黎万强 监事 "},{"change_item":"经营范围","change_date":"2010-05-12","before_content":"法律、行政法规、国务院决定禁止的，不得经营；法律、行政法规、国务院决定规定应经许可的，经审批机关批准并经工商行政管理机关登记注册后方可经营；法律、行政法规、国务院决定未规定许可的，自主选择经营项目开展经营活动。","after_content":"技术开发。（法律、行政法规、国务院决定禁止的，不得经营；法律、行政法规、国务院决定规定应经许可的，经审批机关批准并经工商行政管理机关登记注册后方可经营；法律、行政法规、国务院决定未规定许可的，自主选择经营项目开展经营活动。）"},{"change_item":"投资人","change_date":"2010-05-12","before_content":"1 雷军 90 自然人股东 2 黎万强 10 自然人股东 ","after_content":"1 雷军 79.4 自然人股东 2 黎万强 10.33 自然人股东 3 洪锋 10.27 自然人股东 "}],"partners":[{"name":"洪锋","stock_type":"自然人股东","identify_type":"-","identify_no":"-","real_capi_items":[],"should_capi_items":[]},{"name":"雷军","stock_type":"自然人股东","identify_type":"-","identify_no":"-","real_capi_items":[],"should_capi_items":[]},{"name":"黎万强","stock_type":"自然人股东","identify_type":"-","identify_no":"-","real_capi_items":[],"should_capi_items":[]},{"name":"刘德","stock_type":"自然人股东","identify_type":"-","identify_no":"-","real_capi_items":[],"should_capi_items":[]}]}};

var Controller = function () {
  Controller.$inject = ["$injector", "$state", "$location", "$stateParams", "toastr", "$uibModal", "EnterpriseService"];
  function Controller($injector, $state, $location, $stateParams, toastr, $uibModal, EnterpriseService) {
    'ngInject';

    _classCallCheck(this, Controller);

    this._state = $state;
    this._location = $location;
    this._stateParams = $stateParams;
    this._modal = $uibModal;

    this._toastr = toastr;

    this._service = EnterpriseService;

    this.id = $stateParams.id;

    this.info = null;

    this._init();
  }

  _createClass(Controller, [{
    key: '_init',
    value: function _init() {

      this._getDetail();
    }
  }, {
    key: '_getDetail',
    value: function _getDetail() {
      var _this = this;

      this._service.get(this.id).then(function (data) {
        // console.log(data);
        _this.info = data.detail;
        // this.info = mock_data.data;
      });
    }
  }]);

  return Controller;
}();

exports.default = Controller;

},{}],"/Users/cescwang/program/sil/SIL-frontend/app/modules/enterprise/detail/index.js":[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _ctrl = require('./ctrl');

var _ctrl2 = _interopRequireDefault(_ctrl);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var List = {
  templateUrl: 'modules/enterprise/detail/index.html',
  controller: _ctrl2.default,
  controllerAs: 'vm'
};

exports.default = List;

},{"./ctrl":"/Users/cescwang/program/sil/SIL-frontend/app/modules/enterprise/detail/ctrl.js"}],"/Users/cescwang/program/sil/SIL-frontend/app/modules/enterprise/filter.js":[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.filterValue = filterValue;
exports.filterDistributeState = filterDistributeState;
function filterValue() {

  return function (val, list) {

    // console.log(val, list);

    var rt = list.filter(function (item) {
      return item.value == val;
    });

    if (rt.length) {
      return rt[0].label;
    }

    return '';
  };
}

function filterDistributeState() {
  var stateList = {
    1: '待分配',
    2: '已分配',
    3: '已认领'
  };
  return function (val) {
    return stateList[val] || '';
  };
}

},{}],"/Users/cescwang/program/sil/SIL-frontend/app/modules/enterprise/list/ctrl.js":[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _mcPagination = require('../../../core/components/mcPagination/mc-pagination.class');

var _mcPagination2 = _interopRequireDefault(_mcPagination);

var _modals = require('../modals');

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var ListController = function (_Pagination) {
  ListController.$inject = ["$injector", "$state", "$location", "$stateParams", "sweet", "toastr", "$uibModal", "EnterpriseService", "ProfileService"];
  _inherits(ListController, _Pagination);

  function ListController($injector, $state, $location, $stateParams, sweet, toastr, $uibModal, EnterpriseService, ProfileService) {
    'ngInject';

    _classCallCheck(this, ListController);

    var _this = _possibleConstructorReturn(this, (ListController.__proto__ || Object.getPrototypeOf(ListController)).call(this, $injector));

    _this._state = $state;
    _this._location = $location;
    _this._stateParams = $stateParams;
    _this._modal = $uibModal;

    _this._sweet = sweet;
    _this._toastr = toastr;

    _this._service = EnterpriseService;

    _this.profile = ProfileService.getInfo();
    _this.access = ProfileService.access;

    _this.roleMainStatus = [{
      value: '',
      label: '全部'
    }, {
      value: 1,
      label: '离职'
    }];

    _this.enterpriseStateList = [{
      value: 1,
      label: '正常'
    }, {
      value: 2,
      label: '已冻结'
    }, {
      value: 0,
      label: '未通过筛选'
    }, {
      value: 3,
      label: '已删除'
    }];

    _this.filters = {};

    _this.oneAtATime = true;

    _this._init();

    return _this;
  }

  _createClass(ListController, [{
    key: '_init',
    value: function _init() {

      this._initFilters();
      this._getList();
    }
  }, {
    key: '_initFilters',
    value: function _initFilters() {
      // console.log(this._stateParams);
      var stateParams = this._stateParams;
      // this.pagination.page = +stateParams.page;
      this.filters.role_a_disable = stateParams.role_a_disable || '';
      this.filters.state = stateParams.state ? +stateParams.state : void 0;

      this.filters.name = stateParams.name || void 0;
    }
  }, {
    key: '_getList',
    value: function _getList() {
      var _this2 = this;

      var params = this._filterEmptyValue();
      // params.pageSize = this.pagination.pageSize;
      params.page = this.pagination.page;

      this._service.getList(params).then(function (data) {
        console.log(data);
        _this2.list = data.enterprises;
        _this2.pagination.count = data.page_count * _this2.pagination.pageSize;
      });
    }
  }, {
    key: 'reSearch',
    value: function reSearch() {
      var page = 1;
      this._location.search(_extends({}, this._filterEmptyValue(), { page: page }));
    }
  }, {
    key: 'switch',
    value: function _switch(key, value) {

      if (!key) {
        return false;
      }

      this.filters[key] = value;

      this.reSearch();
    }
  }, {
    key: 'assign',
    value: function assign(item) {
      var bank = item.bank;

      if (bank && bank.id) {
        var resolve = {
          info: function info() {
            return item;
          }
        };

        var options = _extends({}, _modals.manageConfig, { resolve: resolve });

        this._modal.open(options);
      } else {
        this._sweet.show({
          title: '请先分配机构',
          showCancelButton: false,
          confirmButtonColor: "#DD6B55",
          confirmButtonText: "确定",
          cancelButtonText: "取消",
          closeOnConfirm: true,
          imageUrl: '/images/common/warning.png'
        }, function (sure) {
          // if (sure) {
          //   this.careList.splice(index, 1);
          //   this._toastr.success('删除成功！', '提示');
          // } else {
          //   return;
          // }
        });
      }
    }
  }, {
    key: 'assignBranch',
    value: function assignBranch(item) {
      var resolve = {
        info: function info() {
          return item;
        }
      };

      var options = _extends({}, _modals.branchConfig, { resolve: resolve });

      this._modal.open(options);
    }
  }, {
    key: 'add',
    value: function add() {
      var resolve = {
        info: function info() {
          return {};
        }
      };

      var options = _extends({}, _modals.addConfig, { resolve: resolve });

      this._modal.open(options);
    }
  }, {
    key: 'del',
    value: function del(item) {
      this.setState(item.id, 3);
    }
  }, {
    key: 'frost',
    value: function frost(item) {
      this.setState(item.id, 2);
    }
  }, {
    key: 'setState',
    value: function setState(id, state) {
      var _this3 = this;

      this._service.set({ id: id, state: state }).then(function (data) {
        _this3._toastr.success('操作成功');
        _this3._state.reload();
      });
    }

    // changeManage(type, item) {
    //   let selected = item[type] && ([{id: item[type].userid, name: item[type].name}]) || [];
    //   let options = {
    //     url: '/api/member/list',
    //     min: 1,
    //     max: 1,
    //     title: '选择客户经理',
    //     itemType: '客户经理',
    //     itemUnit: '名',
    //     itemPosition: '',
    //     searchPlaceholder: '请输入姓名搜索',
    //     selectedItems: selected,
    //     params: {},

    //     list: [
    //       {
    //         id: 12,
    //         name: '王乐乐',
    //         avatar: '/images/common/man.png'
    //       },
    //       {
    //         id: 23,
    //         name: '刘立军',
    //         avatar: '/images/common/man.png'
    //       },
    //       {
    //         id: 24,
    //         name: '王明涵',
    //         avatar: '/images/common/man.png'
    //       },
    //     ],

    //     // idKey: 'old_id'
    //   };

    //   this._pickerService.open(options, res => {
    //     if (res.data.length) {
    //       this._changeManage(res.data[0], type, item);
    //     }
    //   });
    // }

    // _changeManage(manage, type, item) {
    //   item[type] = {
    //     userid: manage.id,
    //     name: manage.name
    //   };
    // }


  }]);

  return ListController;
}(_mcPagination2.default);

exports.default = ListController;

},{"../../../core/components/mcPagination/mc-pagination.class":"/Users/cescwang/program/sil/SIL-frontend/app/core/components/mcPagination/mc-pagination.class.js","../modals":"/Users/cescwang/program/sil/SIL-frontend/app/modules/enterprise/modals/index.js"}],"/Users/cescwang/program/sil/SIL-frontend/app/modules/enterprise/list/index.js":[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _ctrl = require('./ctrl');

var _ctrl2 = _interopRequireDefault(_ctrl);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var List = {
  templateUrl: 'modules/enterprise/list/index.html',
  controller: _ctrl2.default,
  controllerAs: 'vm'
};

exports.default = List;

},{"./ctrl":"/Users/cescwang/program/sil/SIL-frontend/app/modules/enterprise/list/ctrl.js"}],"/Users/cescwang/program/sil/SIL-frontend/app/modules/enterprise/modals/add/ctrl.js":[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

var Controller = function () {
  Controller.$inject = ["$scope", "$state", "$validation", "$uibModalInstance", "toastr", "EnterpriseService", "info"];
  function Controller($scope, $state, $validation, $uibModalInstance, toastr, EnterpriseService, info) {
    'ngInject';

    _classCallCheck(this, Controller);

    this._scope = $scope;
    this._state = $state;

    this._validationProvider = $validation;

    this._modalInstance = $uibModalInstance;
    this._toastr = toastr;

    this._service = EnterpriseService;

    this.info = info;

    this.inputInfo = {
      name: ''
    };
  }

  _createClass(Controller, [{
    key: 'cancel',
    value: function cancel() {
      this._modalInstance.close();
    }
  }, {
    key: 'submit',
    value: function submit(form) {
      var _this = this;

      //验证表单
      this._validationProvider.validate(form).success(function () {
        _this.saveFunc();
      });
    }
  }, {
    key: 'saveFunc',
    value: function saveFunc() {
      var _this2 = this;

      var data = this.inputInfo;
      this._service.add(data).then(function (data) {
        _this2._toastr.success('添加成功');
        _this2.cancel();
        _this2._state.reload();
      });
    }
  }]);

  return Controller;
}();

exports.default = Controller;

},{}],"/Users/cescwang/program/sil/SIL-frontend/app/modules/enterprise/modals/add/index.js":[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _ctrl = require('./ctrl');

var _ctrl2 = _interopRequireDefault(_ctrl);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var Configuration = {
  templateUrl: 'modules/enterprise/modals/add/template.html',
  controller: _ctrl2.default,
  controllerAs: 'vm'
};

exports.default = Configuration;

},{"./ctrl":"/Users/cescwang/program/sil/SIL-frontend/app/modules/enterprise/modals/add/ctrl.js"}],"/Users/cescwang/program/sil/SIL-frontend/app/modules/enterprise/modals/branch/ctrl.js":[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

var Controller = function () {
  Controller.$inject = ["$scope", "$state", "$validation", "$uibModalInstance", "toastr", "EnterpriseService", "info"];
  function Controller($scope, $state, $validation, $uibModalInstance, toastr, EnterpriseService, info) {
    'ngInject';

    _classCallCheck(this, Controller);

    this._scope = $scope;
    this._state = $state;

    this._validationProvider = $validation;

    this._modalInstance = $uibModalInstance;
    this._toastr = toastr;

    this._service = EnterpriseService;

    this.info = info;

    this.inputInfo = {
      branch: info.bank && info.bank.id
    };

    this.list = null;

    this._getBankList();
  }

  _createClass(Controller, [{
    key: '_getBankList',
    value: function _getBankList() {
      var _this = this;

      this._service.getBankList().then(function (data) {
        // console.log(data);
        _this.list = data;
      });
    }
  }, {
    key: 'cancel',
    value: function cancel() {
      this._modalInstance.close();
    }
  }, {
    key: 'submit',
    value: function submit(form) {
      var _this2 = this;

      //验证表单
      this._validationProvider.validate(form).success(function () {
        _this2.saveFunc();
      });
    }
  }, {
    key: 'saveFunc',
    value: function saveFunc() {
      var _this3 = this;

      // console.log('submit')
      this._service.set({
        id: this.info.id,
        bank_id: this.inputInfo.branch
      }).then(function (data) {
        _this3.cancel();
        _this3._toastr.success('设置成功');
        _this3._state.reload();
      });
    }
  }]);

  return Controller;
}();

exports.default = Controller;

},{}],"/Users/cescwang/program/sil/SIL-frontend/app/modules/enterprise/modals/branch/index.js":[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _ctrl = require('./ctrl');

var _ctrl2 = _interopRequireDefault(_ctrl);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var configuration = {
  templateUrl: 'modules/enterprise/modals/branch/template.html',
  controller: _ctrl2.default,
  controllerAs: 'vm'
};

exports.default = configuration;

},{"./ctrl":"/Users/cescwang/program/sil/SIL-frontend/app/modules/enterprise/modals/branch/ctrl.js"}],"/Users/cescwang/program/sil/SIL-frontend/app/modules/enterprise/modals/index.js":[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.addConfig = exports.manageConfig = exports.branchConfig = undefined;

var _branch = require('./branch');

var _branch2 = _interopRequireDefault(_branch);

var _manage = require('./manage');

var _manage2 = _interopRequireDefault(_manage);

var _add = require('./add');

var _add2 = _interopRequireDefault(_add);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

exports.branchConfig = _branch2.default;
exports.manageConfig = _manage2.default;
exports.addConfig = _add2.default;

},{"./add":"/Users/cescwang/program/sil/SIL-frontend/app/modules/enterprise/modals/add/index.js","./branch":"/Users/cescwang/program/sil/SIL-frontend/app/modules/enterprise/modals/branch/index.js","./manage":"/Users/cescwang/program/sil/SIL-frontend/app/modules/enterprise/modals/manage/index.js"}],"/Users/cescwang/program/sil/SIL-frontend/app/modules/enterprise/modals/manage/ctrl.js":[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

var Controller = function () {
  Controller.$inject = ["$scope", "$state", "$validation", "$uibModalInstance", "toastr", "EnterpriseService", "info"];
  function Controller($scope, $state, $validation, $uibModalInstance, toastr, EnterpriseService, info) {
    'ngInject';

    _classCallCheck(this, Controller);

    this._scope = $scope;
    this._state = $state;

    this._validationProvider = $validation;

    this._modalInstance = $uibModalInstance;
    this._toastr = toastr;

    this._service = EnterpriseService;

    this.info = info;

    this.inputInfo = {
      main: info.role_a && info.role_a.id,
      vice: info.role_b && info.role_b.id
    };

    this.list = null;

    this._init();
  }

  _createClass(Controller, [{
    key: '_init',
    value: function _init() {
      this._getUserList();
    }
  }, {
    key: '_getUserList',
    value: function _getUserList() {
      var _this = this;

      var bank = this.info.bank;

      var params = {
        state: 1,
        bank_id: bank.id,
        bank_name: bank.name,
        role_en_name: 'ROLE_CUSTOMER_MANAGER',
        page_limit: 1000
      };
      this._service.getUserList(params).then(function (data) {
        _this.list = data.users;
      });
    }
  }, {
    key: 'cancel',
    value: function cancel() {
      this._modalInstance.close();
    }
  }, {
    key: 'submit',
    value: function submit(form) {
      var _this2 = this;

      //验证表单
      this._validationProvider.validate(form).success(function () {
        _this2.saveFunc();
      });
    }
  }, {
    key: 'saveFunc',
    value: function saveFunc() {
      var _this3 = this;

      // console.log('submit')
      this._service.set({
        id: this.info.id,
        role_a_id: this.inputInfo.main,
        role_b_id: this.inputInfo.vice
      }).then(function (data) {
        _this3.cancel();
        _this3._toastr.success('设置成功');
        _this3._state.reload();
      });
    }
  }]);

  return Controller;
}();

exports.default = Controller;

},{}],"/Users/cescwang/program/sil/SIL-frontend/app/modules/enterprise/modals/manage/index.js":[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _ctrl = require('./ctrl');

var _ctrl2 = _interopRequireDefault(_ctrl);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var configuration = {
  templateUrl: 'modules/enterprise/modals/manage/template.html',
  controller: _ctrl2.default,
  controllerAs: 'vm'
};

exports.default = configuration;

},{"./ctrl":"/Users/cescwang/program/sil/SIL-frontend/app/modules/enterprise/modals/manage/ctrl.js"}],"/Users/cescwang/program/sil/SIL-frontend/app/modules/enterprise/module.js":[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _angular = require('angular');

var _angular2 = _interopRequireDefault(_angular);

var _config = require('./config');

var _config2 = _interopRequireDefault(_config);

var _service = require('./service');

var _service2 = _interopRequireDefault(_service);

var _filter = require('./filter');

var _list = require('./list/');

var _list2 = _interopRequireDefault(_list);

var _detail = require('./detail/');

var _detail2 = _interopRequireDefault(_detail);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

// import demoService      from './services/demo.service';


exports.default = _angular2.default.module('app.modules.enterprise', []).filter('filterValue', _filter.filterValue).filter('filterDistributeState', _filter.filterDistributeState).service('EnterpriseService', _service2.default).component('enterpriseList', _list2.default).component('enterpriseDetail', _detail2.default).config(_config2.default);

},{"./config":"/Users/cescwang/program/sil/SIL-frontend/app/modules/enterprise/config.js","./detail/":"/Users/cescwang/program/sil/SIL-frontend/app/modules/enterprise/detail/index.js","./filter":"/Users/cescwang/program/sil/SIL-frontend/app/modules/enterprise/filter.js","./list/":"/Users/cescwang/program/sil/SIL-frontend/app/modules/enterprise/list/index.js","./service":"/Users/cescwang/program/sil/SIL-frontend/app/modules/enterprise/service.js","angular":"angular"}],"/Users/cescwang/program/sil/SIL-frontend/app/modules/enterprise/service.js":[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

var Service = function () {
  Service.$inject = ["$http", "httpHelper", "$rootScope", "$state", "ApiMap"];
  function Service($http, httpHelper, $rootScope, $state, ApiMap) {
    'ngInject';

    _classCallCheck(this, Service);

    this._http = $http;
    // this.$q = $q;
    this._httpHelper = httpHelper;

    this._apiMap = ApiMap;

    this._api = ApiMap.enterprise;

    this._rootScope = $rootScope;
    this._state = $state;
  }

  _createClass(Service, [{
    key: 'get',
    value: function get(id) {

      this._httpHelper.blockUI.start();

      return this._http.get(this._api.get.replace(/\{id\}/, id)).then(this._httpHelper.verify, this._httpHelper.error);
    }
  }, {
    key: 'getList',
    value: function getList(params) {

      this._httpHelper.blockUI.start();

      return this._http.post(this._api.getList, params).then(this._httpHelper.verify, this._httpHelper.error);
    }
  }, {
    key: 'set',
    value: function set(data) {

      this._httpHelper.blockUI.start();

      return this._http.post(this._api.set, data).then(this._httpHelper.verify, this._httpHelper.error);
    }
  }, {
    key: 'add',
    value: function add(data) {

      this._httpHelper.blockUI.start();

      return this._http.post(this._api.add, data).then(this._httpHelper.verify, this._httpHelper.error);
    }
  }, {
    key: 'getBankList',
    value: function getBankList(params) {
      this._httpHelper.blockUI.start();
      return this._http.get(this._apiMap.bank.get, { params: params }).then(this._httpHelper.verify, this._httpHelper.error);
    }
  }, {
    key: 'getUserList',
    value: function getUserList(data) {
      this._httpHelper.blockUI.start();
      return this._http.post(this._apiMap.person.list, data).then(this._httpHelper.verify, this._httpHelper.error);
    }
  }]);

  return Service;
}();

exports.default = Service;

},{}],"/Users/cescwang/program/sil/SIL-frontend/app/modules/filter/blacklist/ctrl.js":[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _mcPagination = require('../../../core/components/mcPagination/mc-pagination.class');

var _mcPagination2 = _interopRequireDefault(_mcPagination);

var _modals = require('../modals');

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var ListController = function (_Pagination) {
  ListController.$inject = ["$injector", "$state", "$location", "$stateParams", "toastr", "$uibModal", "FilterService"];
  _inherits(ListController, _Pagination);

  function ListController($injector, $state, $location, $stateParams, toastr, $uibModal, FilterService) {
    'ngInject';

    _classCallCheck(this, ListController);

    var _this = _possibleConstructorReturn(this, (ListController.__proto__ || Object.getPrototypeOf(ListController)).call(this, $injector));

    _this._state = $state;
    _this._location = $location;
    _this._stateParams = $stateParams;
    _this._modal = $uibModal;

    _this._toastr = toastr;

    _this._service = FilterService;

    _this.filters = {};

    _this._init();

    return _this;
  }

  _createClass(ListController, [{
    key: '_init',
    value: function _init() {

      this._initFilters();
      this._getList();
    }
  }, {
    key: '_initFilters',
    value: function _initFilters() {
      // console.log(this._stateParams);
      var stateParams = this._stateParams;
      // this.pagination.page = +stateParams.page;
      // this.filters.gender = +stateParams.gender || void(0);

      this.filters.name = stateParams.name || void 0;
    }
  }, {
    key: '_getList',
    value: function _getList() {
      var _this2 = this;

      var params = this._filterEmptyValue();
      // params.pageSize = this.pagination.pageSize;
      params.page = this.pagination.page;

      this._service.getBlackList(params).then(function (data) {
        console.log(data);
        _this2.list = data.blacklist;
        _this2.pagination.count = data.page_count * _this2.pagination.pageSize;
      });

      // this.list = [
      //             {id: 1, title: '单独的表单控件会被自动赋予一些全局样式', link: '/', content: '单独的表单控件会被自动赋予一些全局样式。所有设置了 .form-control 类的 <input>、<textarea> 和 <select> 元素都将被默认设置宽度属性为 width: 100%;。 将 label 元素和前面提到的控件包裹在 .form-group 中可以获得最好的排列。'},
      //             {id: 2, title: '单独的表单控件会被自动赋予一些全局样式', link: '/', content: '单独的表单控件会被自动赋予一些全局样式。所有设置了 .form-control 类的 <input>、<textarea> 和 <select> 元素都将被默认设置宽度属性为 width: 100%;。 将 label 元素和前面提到的控件包裹在 .form-group 中可以获得最好的排列。'},
      //           ];
      // this.pagination.count = 20;
    }
  }, {
    key: 'add',
    value: function add() {
      var resolve = {
        info: function info() {
          return {};
        }
      };

      var options = _extends({}, _modals.addConfig, { resolve: resolve });

      this._modal.open(options);
    }
  }, {
    key: 'del',
    value: function del(item) {
      var _this3 = this;

      var id = item.id;

      this._service.delBlackList({ id: id }).then(function (data) {
        // this._toastr.success('');
        _this3._toastr.success('删除成功');
        _this3._state.reload();
      });
    }
  }]);

  return ListController;
}(_mcPagination2.default);

exports.default = ListController;

},{"../../../core/components/mcPagination/mc-pagination.class":"/Users/cescwang/program/sil/SIL-frontend/app/core/components/mcPagination/mc-pagination.class.js","../modals":"/Users/cescwang/program/sil/SIL-frontend/app/modules/filter/modals/index.js"}],"/Users/cescwang/program/sil/SIL-frontend/app/modules/filter/blacklist/index.js":[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _ctrl = require('./ctrl');

var _ctrl2 = _interopRequireDefault(_ctrl);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var BlackList = {
  templateUrl: 'modules/filter/blacklist/template.html',
  controller: _ctrl2.default,
  controllerAs: 'vm'
};

exports.default = BlackList;

},{"./ctrl":"/Users/cescwang/program/sil/SIL-frontend/app/modules/filter/blacklist/ctrl.js"}],"/Users/cescwang/program/sil/SIL-frontend/app/modules/filter/condition/ctrl.js":[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

var Controller = function () {
  Controller.$inject = ["$scope", "$state", "$stateParams", "$validation", "toastr", "ConfigService", "checkStateService"];
  function Controller($scope, $state, $stateParams, $validation, toastr, ConfigService, checkStateService) {
    'ngInject';

    _classCallCheck(this, Controller);

    this._scope = $scope;

    this._state = $state;
    this._toastr = toastr;
    this._stateParams = $stateParams;

    this._validation = $validation;

    this._checkStateService = checkStateService;

    this._service = ConfigService;

    // this.id = this._stateParams.id || null;

    this.info = null;

    this.key = 'enterprise.enter_condition';

    this.sortableConf = {
      name: 'todo',
      animation: 150
    };
    this.inputInfo = {
      content: '',
      title: ''
    };

    this.typeList = [{
      value: 'integer',
      name: '数字'
    }, {
      value: 'string',
      name: '文本'
    }];

    this.groupCondition = [{
      value: 'all',
      name: '必须全部满足'
    }, {
      value: 'one',
      name: '满足一个即可'
    }, {
      value: 'oneNot',
      name: '不同时满足'
    }, {
      value: 'allNot',
      name: '不能满足任何一个'
    }];

    this.conditionList = {
      string: [{
        value: '=',
        name: '等于'
      }, {
        value: '%=',
        name: '包含'
      }, {
        value: '!=',
        name: '不包含'
      }],
      integer: [{
        value: '=',
        name: '等于'
      }, {
        value: '>',
        name: '大于'
      }, {
        value: '>=',
        name: '大于等于'
      }, {
        value: '<',
        name: '大于'
      }, {
        value: '<=',
        name: '大于'
      }]
    };

    this._init();
  }

  _createClass(Controller, [{
    key: '_init',
    value: function _init() {

      // this.list = [{
      //   condition: 'all',
      //   list: [
      //     {
      //       title: '',
      //       type: 'integer',
      //       condition: '=',
      //       value: 1
      //     },

      //     {
      //       title: '',
      //       type: 'integer',
      //       condition: '=',
      //       value: 1
      //     }
      //   ]
      // },
      // {
      //   condition: 'all',
      //   list: [
      //     {
      //       title: '',
      //       type: 'integer',
      //       condition: '=',
      //       value: 1
      //     },

      //     {
      //       title: '',
      //       type: 'integer',
      //       condition: '=',
      //       value: 1
      //     }
      //   ]
      // }
      // ]
      this._get();
    }
  }, {
    key: '_get',
    value: function _get() {
      var _this = this;

      this._service.get(this.key).then(function (data) {
        if (data) {
          _this.list = angular.fromJson(data);
        } else {
          _this.initCollect();
        }
      }).catch(function (data) {
        _this.initCollect();
      });
    }
  }, {
    key: 'initCollect',
    value: function initCollect() {
      this.list = [];
      this.addGroup();
    }
  }, {
    key: 'addGroup',
    value: function addGroup() {
      var group = {
        condition: 'all',
        list: []
      };
      this.addItem(group);
      this.list.push(group);
    }
  }, {
    key: 'addItem',
    value: function addItem(group) {
      var item = {
        title: '',
        type: 'integer',
        condition: '=',
        value: ''
      };
      group.list.push(item);
    }
  }, {
    key: 'delGroup',
    value: function delGroup(index) {
      this.list.splice(index, 1);
    }
  }, {
    key: 'delItem',
    value: function delItem(group, index) {
      group.list.splice(index, 1);
    }
  }, {
    key: 'delete',
    value: function _delete(form) {
      var _this2 = this;

      form.$pristine = true;
      this._service.tipsSet({
        id: this.id,
        state: 3
      }).then(function (data) {
        _this2._toastr.success('删除成功!');
        _this2._state.go('process.tips');
      });
    }
  }, {
    key: 'submit',
    value: function submit(form) {
      var _this3 = this;

      //验证表单
      this._validation.validate(form).success(function () {
        _this3.saveFunc(form);
      });
    }
  }, {
    key: 'saveFunc',
    value: function saveFunc(form) {
      var _this4 = this;

      this._service.set({
        key: this.key,
        value: angular.toJson(this.list)
      }).then(function (data) {
        form.$pristine = true;
        _this4._toastr.success('添加成功');
      });
    }
  }]);

  return Controller;
}();

exports.default = Controller;

},{}],"/Users/cescwang/program/sil/SIL-frontend/app/modules/filter/condition/index.js":[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _ctrl = require('./ctrl');

var _ctrl2 = _interopRequireDefault(_ctrl);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var condition = {
  templateUrl: 'modules/filter/condition/index.html',
  controller: _ctrl2.default,
  controllerAs: 'vm'
};

exports.default = condition;

},{"./ctrl":"/Users/cescwang/program/sil/SIL-frontend/app/modules/filter/condition/ctrl.js"}],"/Users/cescwang/program/sil/SIL-frontend/app/modules/filter/config.js":[function(require,module,exports){
'use strict';

Config.$inject = ["$stateProvider"];
Object.defineProperty(exports, "__esModule", {
  value: true
});
function Config($stateProvider) {
  'ngInject';

  $stateProvider.state('filter', {
    url: '/filter',
    abstract: true,
    template: '<ui-view></ui-view>',
    title: '企业筛选',
    sidebarMeta: {
      icon: 'icon-sidebar_members_ic',
      order: 500
    }
  }).state('filter.blacklist', {
    url: '?page&name',
    template: '<filter-blacklist></filter-blacklist>',
    title: '黑名单',
    sidebarMeta: {
      order: 30
    }
  }).state('filter.condition', {
    url: '/condition',
    template: '<filter-condition></filter-condition>',
    title: '准入条件',
    sidebarMeta: {
      order: 50
    }
  })
  // .state('filter.add', {
  //   url: '/add?id',
  //   template: '<filter-add></filter-add>',
  //   title: '添加黑名单',
  //   sidebarMeta: {
  //     order: 30
  //   }
  // })
  ;
}

exports.default = Config;

},{}],"/Users/cescwang/program/sil/SIL-frontend/app/modules/filter/modals/add/ctrl.js":[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

var Controller = function () {
  Controller.$inject = ["$scope", "$state", "$validation", "$uibModalInstance", "toastr", "FilterService", "info"];
  function Controller($scope, $state, $validation, $uibModalInstance, toastr, FilterService, info) {
    'ngInject';

    _classCallCheck(this, Controller);

    this._scope = $scope;
    this._state = $state;

    this._validationProvider = $validation;

    this._modalInstance = $uibModalInstance;
    this._toastr = toastr;

    this._service = FilterService;

    this.info = info;

    this.inputInfo = {
      name: ''
    };
  }

  _createClass(Controller, [{
    key: 'cancel',
    value: function cancel() {
      this._modalInstance.close();
    }
  }, {
    key: 'submit',
    value: function submit(form) {
      var _this = this;

      //验证表单
      this._validationProvider.validate(form).success(function () {
        _this.saveFunc();
      });
    }
  }, {
    key: 'saveFunc',
    value: function saveFunc() {
      var _this2 = this;

      var data = this.inputInfo;
      this._service.addBlackList(data).then(function (data) {
        _this2._toastr.success('添加成功');
        _this2.cancel();
        _this2._state.reload();
      });
    }
  }]);

  return Controller;
}();

exports.default = Controller;

},{}],"/Users/cescwang/program/sil/SIL-frontend/app/modules/filter/modals/add/index.js":[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _ctrl = require('./ctrl');

var _ctrl2 = _interopRequireDefault(_ctrl);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var Configuration = {
  templateUrl: 'modules/filter/modals/add/template.html',
  controller: _ctrl2.default,
  controllerAs: 'vm'
};

exports.default = Configuration;

},{"./ctrl":"/Users/cescwang/program/sil/SIL-frontend/app/modules/filter/modals/add/ctrl.js"}],"/Users/cescwang/program/sil/SIL-frontend/app/modules/filter/modals/index.js":[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.addConfig = undefined;

var _add = require('./add');

var _add2 = _interopRequireDefault(_add);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

exports.addConfig = _add2.default;

},{"./add":"/Users/cescwang/program/sil/SIL-frontend/app/modules/filter/modals/add/index.js"}],"/Users/cescwang/program/sil/SIL-frontend/app/modules/filter/module.js":[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _angular = require('angular');

var _angular2 = _interopRequireDefault(_angular);

var _config = require('./config');

var _config2 = _interopRequireDefault(_config);

var _service = require('./service');

var _service2 = _interopRequireDefault(_service);

var _condition = require('./condition/');

var _condition2 = _interopRequireDefault(_condition);

var _blacklist = require('./blacklist/');

var _blacklist2 = _interopRequireDefault(_blacklist);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

// import demoService      from './services/demo.service';


// import List  from './list/';
exports.default = _angular2.default.module('app.modules.filter', [])
// .filter('filterType', filterType)
.service('FilterService', _service2.default).component('filterBlacklist', _blacklist2.default).component('filterCondition', _condition2.default).config(_config2.default);

},{"./blacklist/":"/Users/cescwang/program/sil/SIL-frontend/app/modules/filter/blacklist/index.js","./condition/":"/Users/cescwang/program/sil/SIL-frontend/app/modules/filter/condition/index.js","./config":"/Users/cescwang/program/sil/SIL-frontend/app/modules/filter/config.js","./service":"/Users/cescwang/program/sil/SIL-frontend/app/modules/filter/service.js","angular":"angular"}],"/Users/cescwang/program/sil/SIL-frontend/app/modules/filter/service.js":[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

var Service = function () {
  Service.$inject = ["$http", "httpHelper", "$rootScope", "$state", "ApiMap"];
  function Service($http, httpHelper, $rootScope, $state, ApiMap) {
    'ngInject';

    _classCallCheck(this, Service);

    this._http = $http;
    // this.$q = $q;
    this._httpHelper = httpHelper;

    this._apiMap = ApiMap;

    this._api = ApiMap.filter;

    this._rootScope = $rootScope;
    this._state = $state;
  }

  _createClass(Service, [{
    key: 'getBlackList',
    value: function getBlackList(params) {
      this._httpHelper.blockUI.start();
      return this._http.post(this._api.blacklist.list, params).then(this._httpHelper.verify, this._httpHelper.error);
    }
  }, {
    key: 'addBlackList',
    value: function addBlackList(params) {
      this._httpHelper.blockUI.start();
      return this._http.post(this._api.blacklist.add, params).then(this._httpHelper.verify, this._httpHelper.error);
    }
  }, {
    key: 'delBlackList',
    value: function delBlackList(params) {
      this._httpHelper.blockUI.start();
      return this._http.post(this._api.blacklist.del, params).then(this._httpHelper.verify, this._httpHelper.error);
    }
  }]);

  return Service;
}();

exports.default = Service;

},{}],"/Users/cescwang/program/sil/SIL-frontend/app/modules/information/config.js":[function(require,module,exports){
'use strict';

Config.$inject = ["$stateProvider"];
Object.defineProperty(exports, "__esModule", {
    value: true
});
function Config($stateProvider) {
    'ngInject';

    $stateProvider.state('information', {
        url: '/information',
        // abstract: true,
        template: '<ui-view><information-setting></information-setting></ui-view>',
        title: '企业采集设置',
        sidebarMeta: {
            icon: 'icon-sidebar_members_ic',
            order: 600
        }
    })
    // .state('information.list', {
    //     url: '',
    //     template: '<information-list></information-list>',
    //     title: '企业列表',
    //     sidebarMeta: {
    //       order: 10
    //     }
    // })
    // .state('information.detail', {
    //     url: '/detail?id',
    //     template: '<information-detail></information-detail>',
    //     title: '企业列表',
    //     sidebarMeta: {
    //       order: 20
    //     }
    // })
    .state('information.setting', {
        url: '/setting',
        template: '<information-setting></information-setting>',
        title: '采集设置'
    });
}

exports.default = Config;

},{}],"/Users/cescwang/program/sil/SIL-frontend/app/modules/information/module.js":[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _angular = require('angular');

var _angular2 = _interopRequireDefault(_angular);

var _config = require('./config');

var _config2 = _interopRequireDefault(_config);

var _setting = require('./setting/');

var _setting2 = _interopRequireDefault(_setting);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

// import demoService      from './services/demo.service';


exports.default = _angular2.default.module('app.modules.information', [])
// .filter('filterType', filterType)
// .service('MessageService', service)

// .component('informationList', List)
.component('informationSetting', _setting2.default).config(_config2.default);
// import service from './service';
// import List  from './list/';

},{"./config":"/Users/cescwang/program/sil/SIL-frontend/app/modules/information/config.js","./setting/":"/Users/cescwang/program/sil/SIL-frontend/app/modules/information/setting/index.js","angular":"angular"}],"/Users/cescwang/program/sil/SIL-frontend/app/modules/information/setting/ctrl.js":[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

var Controller = function () {
  Controller.$inject = ["$injector", "$state", "$location", "$validation", "$stateParams", "toastr", "$uibModal", "ConfigService"];
  function Controller($injector, $state, $location, $validation, $stateParams, toastr, $uibModal, ConfigService) {
    'ngInject';

    _classCallCheck(this, Controller);

    this._state = $state;
    this._location = $location;
    this._stateParams = $stateParams;
    this._modal = $uibModal;

    this._validationProvider = $validation;

    this._toastr = toastr;

    this._service = ConfigService;

    this.filters = {};

    this.key = 'finding.template';

    this.typeList = [{
      type: 'input',
      title: '单行文本'
    }, {
      type: 'textarea',
      title: '多行文本'
    }, {
      type: 'img',
      title: '图片'
    }, {
      type: 'select',
      title: '下拉选择'
    }, {
      type: 'checkbox',
      title: '多选框'
    }];

    this._init();
  }

  _createClass(Controller, [{
    key: '_init',
    value: function _init() {
      this._getTemplate();
    }
  }, {
    key: '_getTemplate',
    value: function _getTemplate() {
      var _this = this;

      this._service.get(this.key).then(function (data) {
        if (data) {
          _this.collectList = angular.fromJson(data);
        } else {
          _this.initCollectInfo();
        }
      }).catch(function (e) {
        _this.initCollectInfo();
      });
    }
  }, {
    key: 'initCollectInfo',
    value: function initCollectInfo() {
      this.collectList = [];

      this.addProject();
    }
  }, {
    key: 'typeChange',
    value: function typeChange(item) {
      if (['select', 'checkbox'].indexOf(item.type) > -1) {
        item.needData = true;
      } else {
        item.needData = false;
      }
    }
  }, {
    key: 'addProject',
    value: function addProject() {
      var projectObj = {
        name: '',
        isRequired: false,
        content: []
      };
      this.collectList.push(projectObj);
      this.addItem(projectObj);
    }
  }, {
    key: 'deleteProject',
    value: function deleteProject(index) {
      this.collectList.splice(index, 1);
    }
  }, {
    key: 'addItem',
    value: function addItem(project) {
      var contentObj = {
        title: '',
        type: 'input',
        description: '',
        isRequired: false,
        needData: false,
        dataSource: []
      };

      project.content.push(contentObj);

      this.addData(contentObj);
    }
  }, {
    key: 'deleteItem',
    value: function deleteItem(proj, index) {
      proj.content.splice(index, 1);
    }
  }, {
    key: 'addData',
    value: function addData(item) {
      item.dataSource.push({
        description: ''
      });
    }
  }, {
    key: 'deleteData',
    value: function deleteData(item, index) {
      item.dataSource.splice(index, 1);
    }
  }, {
    key: 'submit',
    value: function submit(form) {
      var _this2 = this;

      //验证表单
      this._validationProvider.validate(form).success(function () {
        _this2.saveFunc();
      });
    }
  }, {
    key: 'saveFunc',
    value: function saveFunc() {
      var _this3 = this;

      // console.log('submit')

      // console.log(this.collectList, JSON.stringify(this.collectList));

      this._service.set({
        key: this.key,
        value: angular.toJson(this.collectList)
      }).then(function (data) {
        _this3._toastr.success('保存成功');
      });
    }
  }]);

  return Controller;
}();

exports.default = Controller;

},{}],"/Users/cescwang/program/sil/SIL-frontend/app/modules/information/setting/index.js":[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _ctrl = require('./ctrl');

var _ctrl2 = _interopRequireDefault(_ctrl);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var component = {
  templateUrl: 'modules/information/setting/index.html',
  controller: _ctrl2.default,
  controllerAs: 'vm'
};

exports.default = component;

},{"./ctrl":"/Users/cescwang/program/sil/SIL-frontend/app/modules/information/setting/ctrl.js"}],"/Users/cescwang/program/sil/SIL-frontend/app/modules/investment/config.js":[function(require,module,exports){
'use strict';

Config.$inject = ["$stateProvider"];
Object.defineProperty(exports, "__esModule", {
  value: true
});
function Config($stateProvider) {
  'ngInject';

  $stateProvider.state('investment', {
    url: '/investment?page&name',
    // abstract: true,
    template: '<ui-view><investment-list></investment-list></ui-view>',
    title: '投资机构',
    sidebarMeta: {
      icon: 'icon-sidebar_members_ic',
      order: 350
    }
  })
  // .state('investment.list', {
  //     url: '',
  //     template: '<investment-list></investment-list>',
  //     title: '机构列表'
  // })
  ;
}

exports.default = Config;

},{}],"/Users/cescwang/program/sil/SIL-frontend/app/modules/investment/list/ctrl.js":[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _mcPagination = require('../../../core/components/mcPagination/mc-pagination.class');

var _mcPagination2 = _interopRequireDefault(_mcPagination);

var _modals = require('../modals');

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var ListController = function (_Pagination) {
  ListController.$inject = ["$injector", "$state", "$location", "$stateParams", "toastr", "$uibModal", "InvestmentService"];
  _inherits(ListController, _Pagination);

  function ListController($injector, $state, $location, $stateParams, toastr, $uibModal, InvestmentService) {
    'ngInject';

    _classCallCheck(this, ListController);

    var _this = _possibleConstructorReturn(this, (ListController.__proto__ || Object.getPrototypeOf(ListController)).call(this, $injector));

    _this._state = $state;
    _this._location = $location;
    _this._stateParams = $stateParams;
    _this._modal = $uibModal;

    _this._toastr = toastr;

    _this._service = InvestmentService;

    _this.filters = {};

    _this.agencyList = [];

    _this._init();

    return _this;
  }

  _createClass(ListController, [{
    key: '_init',
    value: function _init() {

      this._initFilters();
      this._getList();
    }
  }, {
    key: '_initFilters',
    value: function _initFilters() {
      // console.log(this._stateParams);
      var stateParams = this._stateParams;
      // this.pagination.page = +stateParams.page;
      this.filters.gender = +stateParams.gender || void 0;

      this.filters.name = stateParams.name || void 0;
    }
  }, {
    key: '_getList',
    value: function _getList() {
      var _this2 = this;

      var params = this._filterEmptyValue();
      // params.pageSize = this.pagination.pageSize;
      params.page = this.pagination.page;

      this._service.getList(params).then(function (data) {
        if (data instanceof Array) {
          _this2.list = data;
        } else {
          // this._formatAgency(data);
          _this2.list = data.vc_companies;
          _this2.pagination.count = data.page_count * _this2.pagination.pageSize;
        }
      });
    }
  }, {
    key: '_formatAgency',
    value: function _formatAgency(data) {
      // const tmpArr = [];
      // _.each(data, item => {
      //   tmpArr.push(item.vc_name);
      // });

      // this.agencyList = _.uniq(tmpArr)
    }
  }, {
    key: 'changeAgency',
    value: function changeAgency() {
      if (this.filters.agency === null) {
        this.filters.agency = '';
      }
    }
  }, {
    key: 'addCompany',
    value: function addCompany() {
      var agencyList = this.agencyList;
      var resolve = {
        info: function info() {
          return {
            agencyList: agencyList
          };
        }
      };

      var options = _extends({}, _modals.addConfig, { resolve: resolve });

      this._modal.open(options);
    }
  }, {
    key: 'set',
    value: function set(id, state) {
      var _this3 = this;

      this._service.set({
        id: id,
        state: state
      }).then(function (data) {
        _this3._toastr.success('操作成功');
        _this3._state.reload();
      });
    }
  }, {
    key: 'delete',
    value: function _delete(item) {
      this.set(item.id, 3);
    }
  }, {
    key: 'deleteCancel',
    value: function deleteCancel(item) {
      this.set(item.id, 1);
    }
  }]);

  return ListController;
}(_mcPagination2.default);

exports.default = ListController;

},{"../../../core/components/mcPagination/mc-pagination.class":"/Users/cescwang/program/sil/SIL-frontend/app/core/components/mcPagination/mc-pagination.class.js","../modals":"/Users/cescwang/program/sil/SIL-frontend/app/modules/investment/modals/index.js"}],"/Users/cescwang/program/sil/SIL-frontend/app/modules/investment/list/index.js":[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _ctrl = require('./ctrl');

var _ctrl2 = _interopRequireDefault(_ctrl);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var List = {
  templateUrl: 'modules/investment/list/index.html',
  controller: _ctrl2.default,
  controllerAs: 'vm'
};

exports.default = List;

},{"./ctrl":"/Users/cescwang/program/sil/SIL-frontend/app/modules/investment/list/ctrl.js"}],"/Users/cescwang/program/sil/SIL-frontend/app/modules/investment/modals/add/ctrl.js":[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

var Controller = function () {
  Controller.$inject = ["$scope", "$state", "$validation", "$uibModalInstance", "toastr", "InvestmentService", "info"];
  function Controller($scope, $state, $validation, $uibModalInstance, toastr, InvestmentService, info) {
    'ngInject';

    _classCallCheck(this, Controller);

    this._scope = $scope;
    this._state = $state;

    this._validationProvider = $validation;

    this._modalInstance = $uibModalInstance;
    this._toastr = toastr;

    this._service = InvestmentService;

    this.info = info;

    this.inputInfo = {
      name: '',
      vc_name: ''
    };

    // this.autoCompleteOptions = {
    //   minimumChars: 1,
    //   data: function (term) {
    //     term = term.toUpperCase();
    //     var match = _.filter(info.agencyList, function (value) {
    //         return value.startsWith(term);
    //     });
    //     return match;
    //   }
    // }
  }

  _createClass(Controller, [{
    key: 'cancel',
    value: function cancel() {
      this._modalInstance.close();
    }
  }, {
    key: 'submit',
    value: function submit(form) {
      var _this = this;

      //验证表单
      this._validationProvider.validate(form).success(function () {
        _this.saveFunc();
      });
    }
  }, {
    key: 'saveFunc',
    value: function saveFunc() {
      var _this2 = this;

      var data = this.inputInfo;
      this._service.add(data).then(function (data) {
        _this2._toastr.success('添加成功');
        _this2.cancel();
        _this2._state.reload();
      });
    }
  }]);

  return Controller;
}();

exports.default = Controller;

},{}],"/Users/cescwang/program/sil/SIL-frontend/app/modules/investment/modals/add/index.js":[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _ctrl = require('./ctrl');

var _ctrl2 = _interopRequireDefault(_ctrl);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var Configuration = {
  templateUrl: 'modules/investment/modals/add/template.html',
  controller: _ctrl2.default,
  controllerAs: 'vm'
};

exports.default = Configuration;

},{"./ctrl":"/Users/cescwang/program/sil/SIL-frontend/app/modules/investment/modals/add/ctrl.js"}],"/Users/cescwang/program/sil/SIL-frontend/app/modules/investment/modals/index.js":[function(require,module,exports){
arguments[4]["/Users/cescwang/program/sil/SIL-frontend/app/modules/filter/modals/index.js"][0].apply(exports,arguments)
},{"./add":"/Users/cescwang/program/sil/SIL-frontend/app/modules/investment/modals/add/index.js"}],"/Users/cescwang/program/sil/SIL-frontend/app/modules/investment/module.js":[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _angular = require('angular');

var _angular2 = _interopRequireDefault(_angular);

var _config = require('./config');

var _config2 = _interopRequireDefault(_config);

var _service = require('./service');

var _service2 = _interopRequireDefault(_service);

var _list = require('./list/');

var _list2 = _interopRequireDefault(_list);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

// import demoService      from './services/demo.service';


exports.default = _angular2.default.module('app.modules.investment', [])
// .filter('filterType', filterType)
.service('InvestmentService', _service2.default).component('investmentList', _list2.default).config(_config2.default);

},{"./config":"/Users/cescwang/program/sil/SIL-frontend/app/modules/investment/config.js","./list/":"/Users/cescwang/program/sil/SIL-frontend/app/modules/investment/list/index.js","./service":"/Users/cescwang/program/sil/SIL-frontend/app/modules/investment/service.js","angular":"angular"}],"/Users/cescwang/program/sil/SIL-frontend/app/modules/investment/service.js":[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

var Service = function () {
  Service.$inject = ["$http", "httpHelper", "$rootScope", "$state", "ApiMap"];
  function Service($http, httpHelper, $rootScope, $state, ApiMap) {
    'ngInject';

    _classCallCheck(this, Service);

    this._http = $http;
    // this.$q = $q;
    this._httpHelper = httpHelper;

    this._api = ApiMap.investment;

    this._rootScope = $rootScope;
    this._state = $state;
  }

  // get(id) {

  //   this._httpHelper.blockUI.start();

  //   return this._http.get(this._api.get.replace(/\{id\}/, id)).then(this._httpHelper.verify,  this._httpHelper.error);
  // }

  _createClass(Service, [{
    key: 'getList',
    value: function getList(params) {

      this._httpHelper.blockUI.start();

      return this._http.get(this._api.getList, { params: params }).then(this._httpHelper.verify, this._httpHelper.error);
    }
  }, {
    key: 'set',
    value: function set(data) {

      this._httpHelper.blockUI.start();

      return this._http.post(this._api.set, data).then(this._httpHelper.verify, this._httpHelper.error);
    }
  }, {
    key: 'add',
    value: function add(data) {
      this._httpHelper.blockUI.start();

      return this._http.post(this._api.add, data).then(this._httpHelper.verify, this._httpHelper.error);
    }
  }]);

  return Service;
}();

exports.default = Service;

},{}],"/Users/cescwang/program/sil/SIL-frontend/app/modules/loan/config.js":[function(require,module,exports){
'use strict';

Config.$inject = ["$stateProvider"];
Object.defineProperty(exports, "__esModule", {
    value: true
});
function Config($stateProvider) {
    'ngInject';

    $stateProvider.state('loan', {
        url: '/loan',
        template: '<ui-view></ui-view>',
        title: '贷款决策',
        sidebarMeta: {
            icon: 'icon-sidebar_members_ic',
            order: 450
        }
    }).state('loan.setting', {
        url: '/setting',
        template: '<loan-setting></loan-setting>',
        title: '贷款决策条件设置',
        sidebarMeta: {
            order: 10
        }
    }).state('loan.list', {
        url: '/list',
        template: '<loan-list></loan-list>',
        title: '已评价企业列表',
        sidebarMeta: {
            order: 20
        }
    }).state('loan.decision', {
        url: '/decision?id',
        template: '<loan-decision></loan-decision>',
        title: '贷款辅助决策信息修正'
    });
}

exports.default = Config;

},{}],"/Users/cescwang/program/sil/SIL-frontend/app/modules/loan/decision/ctrl.js":[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

var Controller = function () {
  Controller.$inject = ["$injector", "$state", "$location", "$validation", "$stateParams", "toastr", "$uibModal", "LoanService"];
  function Controller($injector, $state, $location, $validation, $stateParams, toastr, $uibModal, LoanService) {
    'ngInject';

    _classCallCheck(this, Controller);

    this._state = $state;
    this._location = $location;
    this._stateParams = $stateParams;
    this._modal = $uibModal;

    this._validationProvider = $validation;
    this.id = this._stateParams.id;

    this._toastr = toastr;

    this._service = LoanService;

    this.filters = {};
    this.loanList = [];

    this._init();

    this.typeList = {
      'integer': '数值',
      'string': '文本'
    };
  }

  _createClass(Controller, [{
    key: '_init',
    value: function _init() {
      var data = {
        id: 1
      };
      this._getTemplate(data);
    }
  }, {
    key: 'reCount',
    value: function reCount() {
      var data = {
        id: 1,
        data: angular.toJson(this.loanList)
      };
      this._getTemplate(data, '重新计算成功');
    }
  }, {
    key: 'getTotal',
    value: function getTotal() {
      var total = 0;
      this.loanList.forEach(function (loan) {
        loan.value = loan.value + '';
        total += parseInt(loan.point);
      });
      return total;
    }
  }, {
    key: '_getTemplate',
    value: function _getTemplate(data) {
      var _this = this;

      var msg = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '';

      this._service.get(data).then(function (data) {
        if (data && !jQuery.isEmptyObject(data)) {
          _this.loanList = data;
          if (msg.length > 0) {
            _this._toastr.success(msg);
          }
        } else {
          _this.initCollectInfo();
        }
      });
    }
  }, {
    key: 'submit',
    value: function submit(form) {
      var _this2 = this;

      //验证表单
      this._validationProvider.validate(form).success(function () {
        _this2.saveFunc();
      });
    }
  }, {
    key: 'saveFunc',
    value: function saveFunc() {
      var _this3 = this;

      var data = {
        id: 1,
        data: angular.toJson(this.loanList)
      };
      this._service.set(data).then(function (data) {
        if (data && !jQuery.isEmptyObject(data)) {
          _this3.loanList = data;
          _this3._toastr.success('保存成功');
        } else {
          _this3.initCollectInfo();
        }
      });
    }
  }]);

  return Controller;
}();

exports.default = Controller;

},{}],"/Users/cescwang/program/sil/SIL-frontend/app/modules/loan/decision/index.js":[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _ctrl = require('./ctrl');

var _ctrl2 = _interopRequireDefault(_ctrl);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var component = {
  templateUrl: 'modules/loan/decision/index.html',
  controller: _ctrl2.default,
  controllerAs: 'vm'
};

exports.default = component;

},{"./ctrl":"/Users/cescwang/program/sil/SIL-frontend/app/modules/loan/decision/ctrl.js"}],"/Users/cescwang/program/sil/SIL-frontend/app/modules/loan/list/ctrl.js":[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _mcPagination = require('../../../core/components/mcPagination/mc-pagination.class');

var _mcPagination2 = _interopRequireDefault(_mcPagination);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var ListController = function (_Pagination) {
  ListController.$inject = ["$injector", "$state", "$location", "$stateParams", "sweet", "toastr", "$uibModal", "LoanService"];
  _inherits(ListController, _Pagination);

  function ListController($injector, $state, $location, $stateParams, sweet, toastr, $uibModal, LoanService) {
    'ngInject';

    _classCallCheck(this, ListController);

    var _this = _possibleConstructorReturn(this, (ListController.__proto__ || Object.getPrototypeOf(ListController)).call(this, $injector));

    _this._state = $state;
    _this._location = $location;
    _this._stateParams = $stateParams;
    _this._modal = $uibModal;

    _this._sweet = sweet;
    _this._toastr = toastr;

    _this._service = LoanService;

    _this.roleMainStatus = [{
      value: '',
      label: '全部'
    }, {
      value: 1,
      label: '离职'
    }];

    _this.enterpriseStateList = [{
      value: 1,
      label: '正常'
    }, {
      value: 2,
      label: '已冻结'
    }, {
      value: 0,
      label: '未通过筛选'
    }, {
      value: 3,
      label: '已删除'
    }];

    _this.filters = {};

    _this.oneAtATime = true;

    _this._init();

    return _this;
  }

  _createClass(ListController, [{
    key: '_init',
    value: function _init() {

      this._initFilters();
      this._getList();
    }
  }, {
    key: '_initFilters',
    value: function _initFilters() {
      // console.log(this._stateParams);
      var stateParams = this._stateParams;
      // this.pagination.page = +stateParams.page;
      this.filters.role_a_disable = stateParams.role_a_disable || '';
      this.filters.state = stateParams.state ? +stateParams.state : void 0;

      this.filters.name = stateParams.name || void 0;
    }
  }, {
    key: '_getList',
    value: function _getList() {
      var _this2 = this;

      var params = this._filterEmptyValue();
      // params.pageSize = this.pagination.pageSize;
      params.page = this.pagination.page;
      params.only_loan_ready = 1;

      this._service.getList(params).then(function (data) {
        console.log(data);
        _this2.list = data.enterprises;
        _this2.pagination.count = data.page_count * _this2.pagination.pageSize;
      });
    }
  }, {
    key: 'reSearch',
    value: function reSearch() {
      var page = 1;
      this._location.search(_extends({}, this._filterEmptyValue(), { page: page }));
    }
  }, {
    key: 'switch',
    value: function _switch(key, value) {

      if (!key) {
        return false;
      }

      this.filters[key] = value;

      this.reSearch();
    }
  }]);

  return ListController;
}(_mcPagination2.default);

exports.default = ListController;

},{"../../../core/components/mcPagination/mc-pagination.class":"/Users/cescwang/program/sil/SIL-frontend/app/core/components/mcPagination/mc-pagination.class.js"}],"/Users/cescwang/program/sil/SIL-frontend/app/modules/loan/list/index.js":[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _ctrl = require('./ctrl');

var _ctrl2 = _interopRequireDefault(_ctrl);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var List = {
  templateUrl: 'modules/loan/list/index.html',
  controller: _ctrl2.default,
  controllerAs: 'vm'
};

exports.default = List;

},{"./ctrl":"/Users/cescwang/program/sil/SIL-frontend/app/modules/loan/list/ctrl.js"}],"/Users/cescwang/program/sil/SIL-frontend/app/modules/loan/module.js":[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _angular = require('angular');

var _angular2 = _interopRequireDefault(_angular);

var _bootstrap = require('bootstrap');

var _bootstrap2 = _interopRequireDefault(_bootstrap);

var _config = require('./config');

var _config2 = _interopRequireDefault(_config);

var _setting = require('./setting/');

var _setting2 = _interopRequireDefault(_setting);

var _decision = require('./decision');

var _decision2 = _interopRequireDefault(_decision);

var _list = require('./list');

var _list2 = _interopRequireDefault(_list);

var _service = require('./service');

var _service2 = _interopRequireDefault(_service);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

exports.default = _angular2.default.module('app.modules.loan', []).service('LoanService', _service2.default).component('loanSetting', _setting2.default).component('loanDecision', _decision2.default).component('loanList', _list2.default).config(_config2.default);

},{"./config":"/Users/cescwang/program/sil/SIL-frontend/app/modules/loan/config.js","./decision":"/Users/cescwang/program/sil/SIL-frontend/app/modules/loan/decision/index.js","./list":"/Users/cescwang/program/sil/SIL-frontend/app/modules/loan/list/index.js","./service":"/Users/cescwang/program/sil/SIL-frontend/app/modules/loan/service.js","./setting/":"/Users/cescwang/program/sil/SIL-frontend/app/modules/loan/setting/index.js","angular":"angular","bootstrap":"/Users/cescwang/program/sil/SIL-frontend/node_modules/bootstrap/dist/js/npm.js"}],"/Users/cescwang/program/sil/SIL-frontend/app/modules/loan/service.js":[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

var Service = function () {
  Service.$inject = ["$http", "httpHelper", "$rootScope", "$state", "ApiMap"];
  function Service($http, httpHelper, $rootScope, $state, ApiMap) {
    'ngInject';

    _classCallCheck(this, Service);

    this._http = $http;
    // this.$q = $q;
    this._httpHelper = httpHelper;

    this._api = ApiMap.loan;
    this._eapi = ApiMap.enterprise;

    this._rootScope = $rootScope;
    this._state = $state;
  }

  _createClass(Service, [{
    key: 'get',
    value: function get(params) {

      this._httpHelper.blockUI.start();

      return this._http.post(this._api.get, params).then(this._httpHelper.verify, this._httpHelper.error);
    }
  }, {
    key: 'set',
    value: function set(params) {

      this._httpHelper.blockUI.start();

      return this._http.post(this._api.set, params).then(this._httpHelper.verify, this._httpHelper.error);
    }
  }, {
    key: 'getList',
    value: function getList(params) {

      this._httpHelper.blockUI.start();

      return this._http.post(this._eapi.getList, params).then(this._httpHelper.verify, this._httpHelper.error);
    }
  }]);

  return Service;
}();

exports.default = Service;

},{}],"/Users/cescwang/program/sil/SIL-frontend/app/modules/loan/setting/ctrl.js":[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

var Controller = function () {
  Controller.$inject = ["$injector", "$state", "$location", "$validation", "$stateParams", "toastr", "$uibModal", "ConfigService"];
  function Controller($injector, $state, $location, $validation, $stateParams, toastr, $uibModal, ConfigService) {
    'ngInject';

    _classCallCheck(this, Controller);

    this._state = $state;
    this._location = $location;
    this._stateParams = $stateParams;
    this._modal = $uibModal;

    this._validationProvider = $validation;

    this._toastr = toastr;

    this._service = ConfigService;

    this.filters = {};

    this.conditionList = {
      'string': {
        '=': '完全匹配',
        'like': '包含',
        'not_like': '不包含'
      },
      'integer': {
        '<': '<',
        '<=': '<=',
        '>': '>',
        '>=': '>=',
        '=': '='
      }
    };

    this.typeList = {
      'integer': '数值',
      'string': '文本'
    };

    this._init();
  }

  _createClass(Controller, [{
    key: '_init',
    value: function _init() {
      this._getTemplate();
    }
  }, {
    key: '_getTemplate',
    value: function _getTemplate() {
      var _this = this;

      this._service.get('loan.decision_condition').then(function (data) {
        if (data && !jQuery.isEmptyObject(data)) {
          _this.loanList = JSON.parse(data);
        } else {
          _this.initCollectInfo();
        }
      });
    }
  }, {
    key: 'initCollectInfo',
    value: function initCollectInfo() {
      this.loanList = [];

      this.addCondition();
    }
  }, {
    key: 'addCondition',
    value: function addCondition() {
      var loanObj = {
        title: '',
        point: '0',
        condition_list: []
      };
      this.loanList.push(loanObj);
      this.addProject(loanObj);
    }
  }, {
    key: 'addProject',
    value: function addProject(loanObj) {
      var projectObj = {
        title: '',
        option_type: 'integer',
        options: []
      };
      //this.loanList.push(projectObj);
      loanObj.condition_list.push(projectObj);
      this.addItem(projectObj);
    }
  }, {
    key: 'deleteProject',
    value: function deleteProject(index) {
      this.loanList.splice(index, 1);
    }
  }, {
    key: 'addItem',
    value: function addItem(project) {
      var contentObj = {
        condition: project.option_type == 'string' ? '=' : '<',
        value: '',
        point: ''
      };

      project.options.push(contentObj);
    }
  }, {
    key: 'deleteItem',
    value: function deleteItem(proj, index) {
      proj.options.splice(index, 1);
    }
  }, {
    key: 'deleteData',
    value: function deleteData(item, index) {
      item.dataSource.splice(index, 1);
    }
  }, {
    key: 'typeChange',
    value: function typeChange(project) {
      project.options.forEach(function (option) {
        if (project.option_type == 'integer') {
          option.condition = '<';
        } else {
          option.condition = '=';
        }
      });
    }
  }, {
    key: 'submit',
    value: function submit(form) {
      var _this2 = this;

      //验证表单
      var that = this;
      var stop = false;
      this._validationProvider.validate(form).success(function () {
        //不能超过100分数
        var point = 0;
        _this2.loanList.forEach(function (loan) {
          var loanPoint = 0;
          loan.condition_list.forEach(function (condition) {
            var maxPoint = 0;
            condition.options.forEach(function (option) {
              if (option.point > maxPoint) {
                maxPoint = parseInt(option.point);
              }
            });
            loanPoint += parseInt(maxPoint);
          });
          if (loanPoint > parseInt(loan.point)) {
            that._toastr.error(loan.title + '分类的总分超过预定分类总分');
            stop = true;
            return false;
          }
          point += parseInt(loan.point);
        });
        if (stop) {
          return;
        }
        if (point > 100) {
          _this2._toastr.error('分数不能超过100');
          return;
        }
        _this2.saveFunc();
      });
    }
  }, {
    key: 'saveFunc',
    value: function saveFunc() {
      var _this3 = this;

      //console.log('submit')

      //console.log(this.loanList, JSON.stringify(this.loanList));

      this._service.set({
        key: 'loan.decision_condition',
        value: angular.toJson(this.loanList)
      }).then(function (data) {
        _this3._toastr.success('保存成功');
      });
    }
  }]);

  return Controller;
}();

exports.default = Controller;

},{}],"/Users/cescwang/program/sil/SIL-frontend/app/modules/loan/setting/index.js":[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _ctrl = require('./ctrl');

var _ctrl2 = _interopRequireDefault(_ctrl);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var component = {
  templateUrl: 'modules/loan/setting/index.html',
  controller: _ctrl2.default,
  controllerAs: 'vm'
};

exports.default = component;

},{"./ctrl":"/Users/cescwang/program/sil/SIL-frontend/app/modules/loan/setting/ctrl.js"}],"/Users/cescwang/program/sil/SIL-frontend/app/modules/log/config.js":[function(require,module,exports){
'use strict';

Config.$inject = ["$stateProvider"];
Object.defineProperty(exports, "__esModule", {
  value: true
});
function Config($stateProvider) {
  'ngInject';

  $stateProvider.state('log', {
    url: '/log',
    //abstract: true,
    template: '<ui-view><log-list></log-list></ui-view>',
    title: '日志管理',
    sidebarMeta: {
      icon: 'icon-sidebar_members_ic',
      order: 2000
    }
  })
  // .state('log.list', {
  //     url: '',
  //     template: '',
  //     title: '日志列表'
  // })
  ;
}

exports.default = Config;

},{}],"/Users/cescwang/program/sil/SIL-frontend/app/modules/log/list/ctrl.js":[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _mcPagination = require('../../../core/components/mcPagination/mc-pagination.class');

var _mcPagination2 = _interopRequireDefault(_mcPagination);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var ListController = function (_Pagination) {
  ListController.$inject = ["$injector", "$state", "$location", "$stateParams", "toastr", "$uibModal", "LogService"];
  _inherits(ListController, _Pagination);

  function ListController($injector, $state, $location, $stateParams, toastr, $uibModal, LogService) {
    'ngInject';

    _classCallCheck(this, ListController);

    var _this = _possibleConstructorReturn(this, (ListController.__proto__ || Object.getPrototypeOf(ListController)).call(this, $injector));

    _this._state = $state;
    _this._location = $location;
    _this._stateParams = $stateParams;
    _this._modal = $uibModal;

    _this._toastr = toastr;

    _this._service = LogService;

    _this.filters = {};

    _this.start_date = moment().add(-1, 'days');
    _this.filters.time_from = _this.start_date.unix();
    _this.end_date = moment();
    _this.filters.time_to = _this.end_date.unix();

    _this.startTimeMaxLimit = moment();
    _this.endTimeMaxLimit = moment();

    _this._init();

    return _this;
  }

  _createClass(ListController, [{
    key: '_init',
    value: function _init() {
      this._initFilters();
      this._getList();
    }
  }, {
    key: '_initFilters',
    value: function _initFilters() {

      var stateParams = this._stateParams;
      //this.filters.keyword = stateParams.keyword || void(0);
    }
  }, {
    key: '_getList',
    value: function _getList() {
      var _this2 = this;

      var params = this._filterEmptyValue();
      params.page = this.pagination.page;

      this._service.list(params).then(function (data) {
        _this2.pagination.count = data.count;
        _this2.pagination.pageSize = data.page_limit;
        _this2.list = data.logs;
      });
    }
  }, {
    key: 'pageChanged',
    value: function pageChanged() {
      this._getList();
    }
  }, {
    key: 'reSearch',
    value: function reSearch() {
      this._getList();
    }

    // datepicker

  }, {
    key: 'changeTime',
    value: function changeTime(type) {
      var values = {
        minDate: false,
        maxDate: false
      };
      if (type == 'start') {
        this.filters.time_from = this.start_date.unix();
        this.endTimeMinLimit = this.start_date;
        values.minDate = this.start_date;
        values.maxDate = moment();
      } else {
        this.filters.time_to = this.end_date.unix();
        this.startTimeMaxLimit = this.end_date;
        values.maxDate = this.end_date;
      }
      this.reSearch();
    }
  }]);

  return ListController;
}(_mcPagination2.default);

exports.default = ListController;

},{"../../../core/components/mcPagination/mc-pagination.class":"/Users/cescwang/program/sil/SIL-frontend/app/core/components/mcPagination/mc-pagination.class.js"}],"/Users/cescwang/program/sil/SIL-frontend/app/modules/log/list/index.js":[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _ctrl = require('./ctrl');

var _ctrl2 = _interopRequireDefault(_ctrl);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var List = {
  templateUrl: 'modules/log/list/index.html',
  controller: _ctrl2.default,
  controllerAs: 'vm'
};

exports.default = List;

},{"./ctrl":"/Users/cescwang/program/sil/SIL-frontend/app/modules/log/list/ctrl.js"}],"/Users/cescwang/program/sil/SIL-frontend/app/modules/log/module.js":[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _angular = require('angular');

var _angular2 = _interopRequireDefault(_angular);

var _bootstrap = require('bootstrap');

var _bootstrap2 = _interopRequireDefault(_bootstrap);

var _config = require('./config');

var _config2 = _interopRequireDefault(_config);

var _service = require('./service');

var _service2 = _interopRequireDefault(_service);

var _list = require('./list/');

var _list2 = _interopRequireDefault(_list);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

exports.default = _angular2.default.module('app.modules.log', [])
// .filter('filterType', filterType)
.service('LogService', _service2.default).component('logList', _list2.default).config(_config2.default);

},{"./config":"/Users/cescwang/program/sil/SIL-frontend/app/modules/log/config.js","./list/":"/Users/cescwang/program/sil/SIL-frontend/app/modules/log/list/index.js","./service":"/Users/cescwang/program/sil/SIL-frontend/app/modules/log/service.js","angular":"angular","bootstrap":"/Users/cescwang/program/sil/SIL-frontend/node_modules/bootstrap/dist/js/npm.js"}],"/Users/cescwang/program/sil/SIL-frontend/app/modules/log/service.js":[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

var Service = function () {
  Service.$inject = ["$http", "httpHelper", "$rootScope", "$state", "ApiMap"];
  function Service($http, httpHelper, $rootScope, $state, ApiMap) {
    'ngInject';

    _classCallCheck(this, Service);

    this._http = $http;
    // this.$q = $q;
    this._httpHelper = httpHelper;

    this._api = ApiMap.log;

    this._rootScope = $rootScope;
    this._state = $state;
  }

  _createClass(Service, [{
    key: 'list',
    value: function list(params) {

      this._httpHelper.blockUI.start();

      return this._http.post(this._api.list, params).then(this._httpHelper.verify, this._httpHelper.error);
    }
  }]);

  return Service;
}();

exports.default = Service;

},{}],"/Users/cescwang/program/sil/SIL-frontend/app/modules/message/config.js":[function(require,module,exports){
'use strict';

Config.$inject = ["$stateProvider"];
Object.defineProperty(exports, "__esModule", {
    value: true
});
function Config($stateProvider) {
    'ngInject';

    $stateProvider.state('message', {
        url: '/message',
        abstract: true,
        template: '<ui-view></ui-view>',
        title: '提示消息'
    }).state('message.list', {
        url: '?page',
        template: '<message-list></message-list>',
        title: '消息列表'
    }).state('message.detail', {
        url: '/detail?id',
        template: '<message-detail></message-detail>',
        title: '消息详情'
    });
}

exports.default = Config;

},{}],"/Users/cescwang/program/sil/SIL-frontend/app/modules/message/detail/ctrl.js":[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

var Controller = function () {
  Controller.$inject = ["$state", "$stateParams", "toastr", "MessageService"];
  function Controller($state, $stateParams, toastr, MessageService) {
    'ngInject';

    _classCallCheck(this, Controller);

    this._state = $state;
    this._toastr = toastr;
    this._stateParams = $stateParams;

    this._service = MessageService;

    this.id = this._stateParams.id;

    this.info = null;

    this._get();
  }

  _createClass(Controller, [{
    key: '_get',
    value: function _get() {
      var _this = this;

      this._service.get(this.id).then(function (data) {
        _this.info = data;
        if (data.state === 0) {
          _this._read();
        }
      });
    }
  }, {
    key: '_read',
    value: function _read() {
      this._service.set({
        id: this.id,
        state: 1
      }).then(function (data) {});
    }
  }, {
    key: 'delete',
    value: function _delete() {
      var _this2 = this;

      this._service.set({
        id: this.id,
        state: 2
      }).then(function (data) {
        _this2._toastr.success('删除成功!');
        _this2._state.go('message.list');
      });
    }
  }]);

  return Controller;
}();

exports.default = Controller;

},{}],"/Users/cescwang/program/sil/SIL-frontend/app/modules/message/detail/index.js":[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _ctrl = require('./ctrl');

var _ctrl2 = _interopRequireDefault(_ctrl);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var detail = {
  templateUrl: 'modules/message/detail/index.html',
  controller: _ctrl2.default,
  controllerAs: 'vm'
};

exports.default = detail;

},{"./ctrl":"/Users/cescwang/program/sil/SIL-frontend/app/modules/message/detail/ctrl.js"}],"/Users/cescwang/program/sil/SIL-frontend/app/modules/message/list/ctrl.js":[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _mcPagination = require('../../../core/components/mcPagination/mc-pagination.class');

var _mcPagination2 = _interopRequireDefault(_mcPagination);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var ListController = function (_Pagination) {
  ListController.$inject = ["$injector", "$state", "$location", "$stateParams", "toastr", "$uibModal", "MessageService"];
  _inherits(ListController, _Pagination);

  function ListController($injector, $state, $location, $stateParams, toastr, $uibModal, MessageService) {
    'ngInject';

    _classCallCheck(this, ListController);

    var _this = _possibleConstructorReturn(this, (ListController.__proto__ || Object.getPrototypeOf(ListController)).call(this, $injector));

    _this._state = $state;
    _this._location = $location;
    _this._stateParams = $stateParams;
    _this._modal = $uibModal;

    _this._toastr = toastr;

    _this._service = MessageService;

    _this.filters = {};

    _this.oneAtATime = true;

    _this._init();

    return _this;
  }

  _createClass(ListController, [{
    key: '_init',
    value: function _init() {

      this._initFilters();
      this._getList();
    }
  }, {
    key: '_initFilters',
    value: function _initFilters() {
      // console.log(this._stateParams);
      var stateParams = this._stateParams;
      // this.pagination.page = +stateParams.page;
      // this.filters.gender = +stateParams.gender || void(0);

      this.filters.keyword = stateParams.keyword || void 0;
    }
  }, {
    key: '_getList',
    value: function _getList() {
      var _this2 = this;

      var params = this._filterEmptyValue();
      // params.pageSize = this.pagination.pageSize;
      params.page = this.pagination.page;

      this._service.getList(params).then(function (data) {
        console.log(data);
        _this2.list = data.messages;
        _this2.pagination.count = data.page_count * _this2.pagination.pageSize;
      });

      // this.list = [
      //             {id: 1, title: '单独的表单控件会被自动赋予一些全局样式', link: '/', content: '单独的表单控件会被自动赋予一些全局样式。所有设置了 .form-control 类的 <input>、<textarea> 和 <select> 元素都将被默认设置宽度属性为 width: 100%;。 将 label 元素和前面提到的控件包裹在 .form-group 中可以获得最好的排列。'},
      //             {id: 2, title: '单独的表单控件会被自动赋予一些全局样式', link: '/', content: '单独的表单控件会被自动赋予一些全局样式。所有设置了 .form-control 类的 <input>、<textarea> 和 <select> 元素都将被默认设置宽度属性为 width: 100%;。 将 label 元素和前面提到的控件包裹在 .form-group 中可以获得最好的排列。'},
      //           ];
      // this.pagination.count = 20;
    }
  }, {
    key: 'toggleAll',
    value: function toggleAll() {
      var _this3 = this;

      if (this.list) {
        this.list.forEach(function (item) {
          return item.checked = _this3.selectAll;
        });
      }
    }
  }, {
    key: 'checkAll',
    value: function checkAll() {
      if (this.list) {
        var uncheckedList = this.list.filter(function (item) {
          return !item.checked;
        });
        var len = uncheckedList.length;

        if (len > 0) {
          this.selectAll = false;
        } else if (len = this.list.length) {
          this.selectAll = true;
        }
      }
    }
  }, {
    key: 'batchMarkedRead',
    value: function batchMarkedRead() {
      if (this.list) {
        var checkedList = this.list.filter(function (item) {
          return item.checked;
        });

        checkedList.forEach(function (item) {
          return item.isRead = true;
        });
      }
    }
  }, {
    key: 'batchRemove',
    value: function batchRemove() {
      if (this.list) {
        this.list = this.list.filter(function (item) {
          return !item.checked;
        });

        // checkedList.forEach(item => item.isRead = true);
        this._toastr.success('删除成功!');
        this._state.reload();
      }
    }
  }, {
    key: 'getCheckedIds',
    value: function getCheckedIds() {
      if (this.list) {
        var checkedList = this.list.filter(function (item) {
          return item.checked;
        });

        return checkedList.map(function (item) {
          return item.id;
        });
      }

      return false;
    }
  }, {
    key: 'markedRead',
    value: function markedRead() {
      var _this4 = this;

      var ids = this.getCheckedIds();

      if (ids && ids.length) {
        console.log(ids);

        this._service.read({ ids: ids }).then(function (data) {
          // this._toastr.success('');
          _this4.batchMarkedRead();
        });
      }
    }
  }, {
    key: 'delete',
    value: function _delete() {
      var _this5 = this;

      var ids = this.getCheckedIds();

      if (ids && ids.length) {
        console.log(ids);
        this._service.delete({ ids: ids }).then(function (data) {
          // this._toastr.success('');
          _this5.batchRemove();
        });
      }
    }
  }]);

  return ListController;
}(_mcPagination2.default);

exports.default = ListController;

},{"../../../core/components/mcPagination/mc-pagination.class":"/Users/cescwang/program/sil/SIL-frontend/app/core/components/mcPagination/mc-pagination.class.js"}],"/Users/cescwang/program/sil/SIL-frontend/app/modules/message/list/index.js":[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _ctrl = require('./ctrl');

var _ctrl2 = _interopRequireDefault(_ctrl);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var List = {
  templateUrl: 'modules/message/list/template.html',
  controller: _ctrl2.default,
  controllerAs: 'vm'
};

exports.default = List;

},{"./ctrl":"/Users/cescwang/program/sil/SIL-frontend/app/modules/message/list/ctrl.js"}],"/Users/cescwang/program/sil/SIL-frontend/app/modules/message/module.js":[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _angular = require('angular');

var _angular2 = _interopRequireDefault(_angular);

var _config = require('./config');

var _config2 = _interopRequireDefault(_config);

var _service = require('./service');

var _service2 = _interopRequireDefault(_service);

var _list = require('./list/');

var _list2 = _interopRequireDefault(_list);

var _detail = require('./detail/');

var _detail2 = _interopRequireDefault(_detail);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

// import demoService      from './services/demo.service';


exports.default = _angular2.default.module('app.modules.message', [])
// .filter('filterType', filterType)
.service('MessageService', _service2.default).component('messageList', _list2.default).component('messageDetail', _detail2.default).config(_config2.default);

},{"./config":"/Users/cescwang/program/sil/SIL-frontend/app/modules/message/config.js","./detail/":"/Users/cescwang/program/sil/SIL-frontend/app/modules/message/detail/index.js","./list/":"/Users/cescwang/program/sil/SIL-frontend/app/modules/message/list/index.js","./service":"/Users/cescwang/program/sil/SIL-frontend/app/modules/message/service.js","angular":"angular"}],"/Users/cescwang/program/sil/SIL-frontend/app/modules/message/service.js":[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

var Service = function () {
  Service.$inject = ["$http", "httpHelper", "$rootScope", "$state", "ApiMap"];
  function Service($http, httpHelper, $rootScope, $state, ApiMap) {
    'ngInject';

    _classCallCheck(this, Service);

    this._http = $http;
    // this.$q = $q;
    this._httpHelper = httpHelper;

    this._api = ApiMap.message;

    this._rootScope = $rootScope;
    this._state = $state;
  }

  _createClass(Service, [{
    key: 'get',
    value: function get(id) {

      this._httpHelper.blockUI.start();

      return this._http.get(this._api.get.replace(/\{id\}/, id)).then(this._httpHelper.verify, this._httpHelper.error);
    }
  }, {
    key: 'getList',
    value: function getList(params, hideLoading) {

      !hideLoading && this._httpHelper.blockUI.start();

      return this._http.post(this._api.getList, params).then(this._httpHelper.verify, this._httpHelper.error);
    }
  }, {
    key: 'set',
    value: function set(data) {

      this._httpHelper.blockUI.start();

      return this._http.post(this._api.set, data).then(this._httpHelper.verify, this._httpHelper.error);
    }
  }]);

  return Service;
}();

exports.default = Service;

},{}],"/Users/cescwang/program/sil/SIL-frontend/app/modules/modules.module.js":[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _angular = require('angular');

var _angular2 = _interopRequireDefault(_angular);

var _dashboard = require('./dashboard/dashboard.module');

var _dashboard2 = _interopRequireDefault(_dashboard);

var _demo = require('./demo/demo.module');

var _demo2 = _interopRequireDefault(_demo);

var _module = require('./message/module');

var _module2 = _interopRequireDefault(_module);

var _module3 = require('./investment/module');

var _module4 = _interopRequireDefault(_module3);

var _module5 = require('./enterprise/module');

var _module6 = _interopRequireDefault(_module5);

var _module7 = require('./information/module');

var _module8 = _interopRequireDefault(_module7);

var _module9 = require('./person/module');

var _module10 = _interopRequireDefault(_module9);

var _module11 = require('./account/module');

var _module12 = _interopRequireDefault(_module11);

var _module13 = require('./log/module');

var _module14 = _interopRequireDefault(_module13);

var _module15 = require('./bank/module');

var _module16 = _interopRequireDefault(_module15);

var _module17 = require('./sysconfig/module');

var _module18 = _interopRequireDefault(_module17);

var _module19 = require('./process/module');

var _module20 = _interopRequireDefault(_module19);

var _module21 = require('./loan/module');

var _module22 = _interopRequireDefault(_module21);

var _module23 = require('./filter/module');

var _module24 = _interopRequireDefault(_module23);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

exports.default = _angular2.default.module('app.modules', [_dashboard2.default.name, _demo2.default.name, _module2.default.name, _module4.default.name, _module6.default.name, _module8.default.name, _module10.default.name, _module12.default.name, _module14.default.name, _module16.default.name, _module20.default.name, _module18.default.name, _module22.default.name, _module24.default.name]);

},{"./account/module":"/Users/cescwang/program/sil/SIL-frontend/app/modules/account/module.js","./bank/module":"/Users/cescwang/program/sil/SIL-frontend/app/modules/bank/module.js","./dashboard/dashboard.module":"/Users/cescwang/program/sil/SIL-frontend/app/modules/dashboard/dashboard.module.js","./demo/demo.module":"/Users/cescwang/program/sil/SIL-frontend/app/modules/demo/demo.module.js","./enterprise/module":"/Users/cescwang/program/sil/SIL-frontend/app/modules/enterprise/module.js","./filter/module":"/Users/cescwang/program/sil/SIL-frontend/app/modules/filter/module.js","./information/module":"/Users/cescwang/program/sil/SIL-frontend/app/modules/information/module.js","./investment/module":"/Users/cescwang/program/sil/SIL-frontend/app/modules/investment/module.js","./loan/module":"/Users/cescwang/program/sil/SIL-frontend/app/modules/loan/module.js","./log/module":"/Users/cescwang/program/sil/SIL-frontend/app/modules/log/module.js","./message/module":"/Users/cescwang/program/sil/SIL-frontend/app/modules/message/module.js","./person/module":"/Users/cescwang/program/sil/SIL-frontend/app/modules/person/module.js","./process/module":"/Users/cescwang/program/sil/SIL-frontend/app/modules/process/module.js","./sysconfig/module":"/Users/cescwang/program/sil/SIL-frontend/app/modules/sysconfig/module.js","angular":"angular"}],"/Users/cescwang/program/sil/SIL-frontend/app/modules/person/config.js":[function(require,module,exports){
'use strict';

Config.$inject = ["$stateProvider"];
Object.defineProperty(exports, "__esModule", {
    value: true
});
function Config($stateProvider) {
    'ngInject';

    $stateProvider.state('person', {
        url: '/person',
        abstract: true,
        template: '<ui-view></ui-view>',
        title: '个人中心'
    }).state('person.detail', {
        url: '',
        template: '<person-detail></person-detail>',
        title: '资料详情'
    });
}

exports.default = Config;

},{}],"/Users/cescwang/program/sil/SIL-frontend/app/modules/person/detail/ctrl.js":[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

var DetailController = function () {
  DetailController.$inject = ["$state", "toastr", "PersonService", "AppSettings", "ConfigService", "ProfileService"];
  function DetailController($state, toastr, PersonService, AppSettings, ConfigService, ProfileService) {
    'ngInject';

    _classCallCheck(this, DetailController);

    this._state = $state;
    this._toastr = toastr;

    this._service = PersonService;
    this._configService = ConfigService;

    this.roleList = ProfileService.getRoleList();
    this.roleKey = AppSettings.roleListKey;

    this._init();
  }

  _createClass(DetailController, [{
    key: '_init',
    value: function _init() {
      var _this = this;

      var params = {
        id: window.localStorage.getItem('SIL_UID')
      };
      this.stateArr = {
        0: '未激活',
        1: '正常',
        2: '已冻结',
        3: '已删除'
      };

      this._service.get(params).then(function (data) {
        _this.person = data;
      });
    }
  }, {
    key: 'setUser',
    value: function setUser() {
      var params = {
        user_id: window.localStorage.getItem('SIL_UID'),
        new_password: this.person.new_password,
        true_name: this.person.true_name,
        phone: this.person.phone,
        role_name: this.person.role_name,
        role: this.person.role,
        state: this.person.state
      };
      this._service.set(params).then(function (data) {
        location.href = '/';
      });
    }
  }]);

  return DetailController;
}();

exports.default = DetailController;

},{}],"/Users/cescwang/program/sil/SIL-frontend/app/modules/person/detail/index.js":[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _ctrl = require('./ctrl');

var _ctrl2 = _interopRequireDefault(_ctrl);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var detail = {
  templateUrl: 'modules/person/detail/index.html',
  controller: _ctrl2.default,
  controllerAs: 'vm'
};

exports.default = detail;

},{"./ctrl":"/Users/cescwang/program/sil/SIL-frontend/app/modules/person/detail/ctrl.js"}],"/Users/cescwang/program/sil/SIL-frontend/app/modules/person/module.js":[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _angular = require('angular');

var _angular2 = _interopRequireDefault(_angular);

var _bootstrap = require('bootstrap');

var _bootstrap2 = _interopRequireDefault(_bootstrap);

var _config = require('./config');

var _config2 = _interopRequireDefault(_config);

var _service = require('./service');

var _service2 = _interopRequireDefault(_service);

var _detail = require('./detail/');

var _detail2 = _interopRequireDefault(_detail);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

// import demoService      from './services/demo.service';


exports.default = _angular2.default.module('app.modules.person', [])
// .filter('filterType', filterType)
.service('PersonService', _service2.default).component('personDetail', _detail2.default).config(_config2.default);

},{"./config":"/Users/cescwang/program/sil/SIL-frontend/app/modules/person/config.js","./detail/":"/Users/cescwang/program/sil/SIL-frontend/app/modules/person/detail/index.js","./service":"/Users/cescwang/program/sil/SIL-frontend/app/modules/person/service.js","angular":"angular","bootstrap":"/Users/cescwang/program/sil/SIL-frontend/node_modules/bootstrap/dist/js/npm.js"}],"/Users/cescwang/program/sil/SIL-frontend/app/modules/person/service.js":[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

var Service = function () {
  Service.$inject = ["$http", "httpHelper", "$rootScope", "$state", "ApiMap"];
  function Service($http, httpHelper, $rootScope, $state, ApiMap) {
    'ngInject';

    _classCallCheck(this, Service);

    this._http = $http;
    // this.$q = $q;
    this._httpHelper = httpHelper;

    this._api = ApiMap.person;
    this._apiMap = ApiMap;

    this._rootScope = $rootScope;
    this._state = $state;
  }

  _createClass(Service, [{
    key: 'get',
    value: function get(params) {

      this._httpHelper.blockUI.start();

      return this._http.post(this._api.get, params).then(this._httpHelper.verify, this._httpHelper.error);
    }
  }, {
    key: 'set',
    value: function set(params) {

      this._httpHelper.blockUI.start();

      return this._http.post(this._api.set, params).then(this._httpHelper.verify, this._httpHelper.error);
    }
  }, {
    key: 'getRoleList',
    value: function getRoleList() {
      this._httpHelper.blockUI.start();

      return this._http.get(this._apiMap.auth.get).then(this._httpHelper.verify, this._httpHelper.error);
    }
  }]);

  return Service;
}();

exports.default = Service;

},{}],"/Users/cescwang/program/sil/SIL-frontend/app/modules/process/add/ctrl.js":[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

var Controller = function () {
  Controller.$inject = ["$scope", "$state", "$stateParams", "$validation", "toastr", "ProcessService", "checkStateService"];
  function Controller($scope, $state, $stateParams, $validation, toastr, ProcessService, checkStateService) {
    'ngInject';

    _classCallCheck(this, Controller);

    this._scope = $scope;

    this._state = $state;
    this._toastr = toastr;
    this._stateParams = $stateParams;

    this._validation = $validation;

    this._checkStateService = checkStateService;

    this._service = ProcessService;

    this.id = this._stateParams.id || null;

    this.info = null;
    this.inputInfo = {
      content: '',
      title: ''
    };

    this._init();
  }

  _createClass(Controller, [{
    key: '_init',
    value: function _init() {
      var _this = this;

      var destroyWatchText = this._scope.$watch('vm.inputInfo.content', function () {
        if (_this.inputInfo.content) {
          // console.log(marked(this.inputInfo.content));
          _this.html = marked(_this.inputInfo.content);
        } else {
          _this.html = '';
        }
      });
      /*
      * $scope销毁的时候,结束监听
      */
      this._scope.$on('$destroy', destroyWatchText);

      this._checkStateService.formStateChange(this._scope, 'vm.Form');

      this._get();
    }
  }, {
    key: '_get',
    value: function _get() {
      var _this2 = this;

      if (this.id) {
        this._service.tipsGet(this.id).then(function (data) {
          _this2.info = data;

          _this2.inputInfo = _extends({}, data);

          _this2.defaultContent = data.content;
        }).catch(function (data) {
          _this2.id = null;
        });
      }
    }
  }, {
    key: '_read',
    value: function _read() {
      this._service.set({
        id: this.id,
        state: 1
      }).then(function (data) {});
    }
  }, {
    key: 'delete',
    value: function _delete(form) {
      var _this3 = this;

      form.$pristine = true;
      this._service.tipsSet({
        id: this.id,
        state: 3
      }).then(function (data) {
        _this3._toastr.success('删除成功!');
        _this3._state.go('process.tips');
      });
    }
  }, {
    key: 'submit',
    value: function submit(form) {
      var _this4 = this;

      //验证表单
      this._validation.validate(form).success(function () {
        _this4.saveFunc(form);
      });
    }
  }, {
    key: 'saveFunc',
    value: function saveFunc(form) {
      var _this5 = this;

      var data = this.inputInfo;
      if (this.id) {
        this._service.tipsSet(data).then(function (data) {
          form.$pristine = true;
          _this5._toastr.success('保存成功');
          _this5._state.go('process.tips');
        });
      } else {
        this._service.tipsAdd(data).then(function (data) {
          form.$pristine = true;
          _this5._toastr.success('添加成功');
          _this5._state.go('process.tips');
        });
      }
    }
  }]);

  return Controller;
}();

exports.default = Controller;

},{}],"/Users/cescwang/program/sil/SIL-frontend/app/modules/process/add/index.js":[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _ctrl = require('./ctrl');

var _ctrl2 = _interopRequireDefault(_ctrl);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var add = {
  templateUrl: 'modules/process/add/index.html',
  controller: _ctrl2.default,
  controllerAs: 'vm'
};

exports.default = add;

},{"./ctrl":"/Users/cescwang/program/sil/SIL-frontend/app/modules/process/add/ctrl.js"}],"/Users/cescwang/program/sil/SIL-frontend/app/modules/process/config.js":[function(require,module,exports){
'use strict';

Config.$inject = ["$stateProvider"];
Object.defineProperty(exports, "__esModule", {
  value: true
});
function Config($stateProvider) {
  'ngInject';

  $stateProvider.state('process', {
    url: '/process',
    abstract: true,
    template: '<ui-view></ui-view>',
    title: '贷款流程',
    sidebarMeta: {
      icon: 'icon-sidebar_members_ic',
      order: 600
    }
  }).state('process.tips', {
    url: '?page',
    template: '<process-tips></process-tips>',
    title: '提示话术',
    sidebarMeta: {
      order: 30
    }
  }).state('process.add', {
    url: '/add?id',
    template: '<process-add></message-add>',
    title: '添加话术',
    sidebarMeta: {
      order: 30
    }
  });
}

exports.default = Config;

},{}],"/Users/cescwang/program/sil/SIL-frontend/app/modules/process/module.js":[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _angular = require('angular');

var _angular2 = _interopRequireDefault(_angular);

var _config = require('./config');

var _config2 = _interopRequireDefault(_config);

var _service = require('./service');

var _service2 = _interopRequireDefault(_service);

var _add = require('./add/');

var _add2 = _interopRequireDefault(_add);

var _tips = require('./tips/');

var _tips2 = _interopRequireDefault(_tips);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

// import demoService      from './services/demo.service';


// import List  from './list/';
exports.default = _angular2.default.module('app.modules.process', [])
// .filter('filterType', filterType)
.service('ProcessService', _service2.default).component('processTips', _tips2.default).component('processAdd', _add2.default).config(_config2.default);

},{"./add/":"/Users/cescwang/program/sil/SIL-frontend/app/modules/process/add/index.js","./config":"/Users/cescwang/program/sil/SIL-frontend/app/modules/process/config.js","./service":"/Users/cescwang/program/sil/SIL-frontend/app/modules/process/service.js","./tips/":"/Users/cescwang/program/sil/SIL-frontend/app/modules/process/tips/index.js","angular":"angular"}],"/Users/cescwang/program/sil/SIL-frontend/app/modules/process/service.js":[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

var Service = function () {
  Service.$inject = ["$http", "httpHelper", "$rootScope", "$state", "ApiMap"];
  function Service($http, httpHelper, $rootScope, $state, ApiMap) {
    'ngInject';

    _classCallCheck(this, Service);

    this._http = $http;
    // this.$q = $q;
    this._httpHelper = httpHelper;

    this._api = ApiMap.process;

    this._rootScope = $rootScope;
    this._state = $state;
  }

  _createClass(Service, [{
    key: 'get',
    value: function get(id) {

      this._httpHelper.blockUI.start();

      return this._http.get(this._api.get.replace(/\{id\}/, id)).then(this._httpHelper.verify, this._httpHelper.error);
    }
  }, {
    key: 'getList',
    value: function getList(params) {

      this._httpHelper.blockUI.start();

      return this._http.post(this._api.getList, params).then(this._httpHelper.verify, this._httpHelper.error);
    }
  }, {
    key: 'set',
    value: function set(data) {

      this._httpHelper.blockUI.start();

      return this._http.post(this._api.set, data).then(this._httpHelper.verify, this._httpHelper.error);
    }
  }, {
    key: 'tipsGet',
    value: function tipsGet(id) {

      this._httpHelper.blockUI.start();

      return this._http.get(this._api.tipsGet.replace(/\{id\}/, id)).then(this._httpHelper.verify, this._httpHelper.error);
    }
  }, {
    key: 'tipsList',
    value: function tipsList(params) {

      this._httpHelper.blockUI.start();

      return this._http.post(this._api.tipsList, params).then(this._httpHelper.verify, this._httpHelper.error);
    }
  }, {
    key: 'tipsSet',
    value: function tipsSet(data) {

      this._httpHelper.blockUI.start();

      return this._http.post(this._api.tipsSet, data).then(this._httpHelper.verify, this._httpHelper.error);
    }
  }, {
    key: 'tipsAdd',
    value: function tipsAdd(data) {

      this._httpHelper.blockUI.start();

      return this._http.post(this._api.tipsAdd, data).then(this._httpHelper.verify, this._httpHelper.error);
    }
  }]);

  return Service;
}();

exports.default = Service;

},{}],"/Users/cescwang/program/sil/SIL-frontend/app/modules/process/tips/ctrl.js":[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _mcPagination = require('../../../core/components/mcPagination/mc-pagination.class');

var _mcPagination2 = _interopRequireDefault(_mcPagination);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var ListController = function (_Pagination) {
  ListController.$inject = ["$injector", "$state", "$location", "$stateParams", "toastr", "$uibModal", "ProcessService"];
  _inherits(ListController, _Pagination);

  function ListController($injector, $state, $location, $stateParams, toastr, $uibModal, ProcessService) {
    'ngInject';

    _classCallCheck(this, ListController);

    var _this = _possibleConstructorReturn(this, (ListController.__proto__ || Object.getPrototypeOf(ListController)).call(this, $injector));

    _this._state = $state;
    _this._location = $location;
    _this._stateParams = $stateParams;
    _this._modal = $uibModal;

    _this._toastr = toastr;

    _this._service = ProcessService;

    _this.filters = {};

    _this._init();

    return _this;
  }

  _createClass(ListController, [{
    key: '_init',
    value: function _init() {

      this._initFilters();
      this._getList();
    }
  }, {
    key: '_initFilters',
    value: function _initFilters() {
      // console.log(this._stateParams);
      var stateParams = this._stateParams;
      // this.pagination.page = +stateParams.page;
      // this.filters.gender = +stateParams.gender || void(0);

      this.filters.keyword = stateParams.keyword || void 0;
    }
  }, {
    key: '_getList',
    value: function _getList() {
      var _this2 = this;

      var params = this._filterEmptyValue();
      // params.pageSize = this.pagination.pageSize;
      params.page = this.pagination.page;

      this._service.tipsList(params).then(function (data) {
        console.log(data);
        _this2.list = data.cm_tips;
        _this2.pagination.count = data.page_count * _this2.pagination.pageSize;
      });

      // this.list = [
      //             {id: 1, title: '单独的表单控件会被自动赋予一些全局样式', link: '/', content: '单独的表单控件会被自动赋予一些全局样式。所有设置了 .form-control 类的 <input>、<textarea> 和 <select> 元素都将被默认设置宽度属性为 width: 100%;。 将 label 元素和前面提到的控件包裹在 .form-group 中可以获得最好的排列。'},
      //             {id: 2, title: '单独的表单控件会被自动赋予一些全局样式', link: '/', content: '单独的表单控件会被自动赋予一些全局样式。所有设置了 .form-control 类的 <input>、<textarea> 和 <select> 元素都将被默认设置宽度属性为 width: 100%;。 将 label 元素和前面提到的控件包裹在 .form-group 中可以获得最好的排列。'},
      //           ];
      // this.pagination.count = 20;
    }
  }, {
    key: 'toggleAll',
    value: function toggleAll() {
      var _this3 = this;

      if (this.list) {
        this.list.forEach(function (item) {
          return item.checked = _this3.selectAll;
        });
      }
    }
  }, {
    key: 'checkAll',
    value: function checkAll() {
      if (this.list) {
        var uncheckedList = this.list.filter(function (item) {
          return !item.checked;
        });
        var len = uncheckedList.length;

        if (len > 0) {
          this.selectAll = false;
        } else if (len = this.list.length) {
          this.selectAll = true;
        }
      }
    }
  }, {
    key: 'batchMarkedRead',
    value: function batchMarkedRead() {
      if (this.list) {
        var checkedList = this.list.filter(function (item) {
          return item.checked;
        });

        checkedList.forEach(function (item) {
          return item.isRead = true;
        });
      }
    }
  }, {
    key: 'batchRemove',
    value: function batchRemove() {
      if (this.list) {
        this.list = this.list.filter(function (item) {
          return !item.checked;
        });

        // checkedList.forEach(item => item.isRead = true);
        this._toastr.success('删除成功!');
        this._state.reload();
      }
    }
  }, {
    key: 'getCheckedIds',
    value: function getCheckedIds() {
      if (this.list) {
        var checkedList = this.list.filter(function (item) {
          return item.checked;
        });

        return checkedList.map(function (item) {
          return item.id;
        });
      }

      return false;
    }
  }, {
    key: 'markedRead',
    value: function markedRead() {
      var _this4 = this;

      var ids = this.getCheckedIds();

      if (ids && ids.length) {
        console.log(ids);

        this._service.read({ ids: ids }).then(function (data) {
          // this._toastr.success('');
          _this4.batchMarkedRead();
        });
      }
    }
  }, {
    key: 'delete',
    value: function _delete() {
      var _this5 = this;

      var ids = this.getCheckedIds();

      if (ids && ids.length) {
        console.log(ids);
        this._service.delete({ ids: ids }).then(function (data) {
          // this._toastr.success('');
          _this5.batchRemove();
        });
      }
    }
  }]);

  return ListController;
}(_mcPagination2.default);

exports.default = ListController;

},{"../../../core/components/mcPagination/mc-pagination.class":"/Users/cescwang/program/sil/SIL-frontend/app/core/components/mcPagination/mc-pagination.class.js"}],"/Users/cescwang/program/sil/SIL-frontend/app/modules/process/tips/index.js":[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _ctrl = require('./ctrl');

var _ctrl2 = _interopRequireDefault(_ctrl);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var Tips = {
  templateUrl: 'modules/process/tips/template.html',
  controller: _ctrl2.default,
  controllerAs: 'vm'
};

exports.default = Tips;

},{"./ctrl":"/Users/cescwang/program/sil/SIL-frontend/app/modules/process/tips/ctrl.js"}],"/Users/cescwang/program/sil/SIL-frontend/app/modules/sysconfig/config.js":[function(require,module,exports){
'use strict';

Config.$inject = ["$stateProvider"];
Object.defineProperty(exports, "__esModule", {
  value: true
});
function Config($stateProvider) {
  'ngInject';

  $stateProvider.state('sysconfig', {
    url: '/sysconfig',
    abstract: true,
    template: '<ui-view></ui-view>',
    title: '系统设置',
    sidebarMeta: {
      icon: 'icon-sidebar_members_ic',
      order: 1000
    }
  }).state('sysconfig.time', {
    url: '/time',
    template: '<time-view></time-view>',
    title: '刷新时间设置',
    sidebarMeta: {
      order: 10
    }
  });
}

exports.default = Config;

},{}],"/Users/cescwang/program/sil/SIL-frontend/app/modules/sysconfig/module.js":[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _angular = require('angular');

var _angular2 = _interopRequireDefault(_angular);

var _bootstrap = require('bootstrap');

var _bootstrap2 = _interopRequireDefault(_bootstrap);

var _config = require('./config');

var _config2 = _interopRequireDefault(_config);

var _time = require('./time/');

var _time2 = _interopRequireDefault(_time);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

exports.default = _angular2.default.module('app.modules.sysconfig', [])
// .filter('filterType', filterType)
//.service('sysconfigService', service)

.component('timeView', _time2.default).config(_config2.default);
//import service from './service';

},{"./config":"/Users/cescwang/program/sil/SIL-frontend/app/modules/sysconfig/config.js","./time/":"/Users/cescwang/program/sil/SIL-frontend/app/modules/sysconfig/time/index.js","angular":"angular","bootstrap":"/Users/cescwang/program/sil/SIL-frontend/node_modules/bootstrap/dist/js/npm.js"}],"/Users/cescwang/program/sil/SIL-frontend/app/modules/sysconfig/time/ctrl.js":[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _mcPagination = require('../../../core/components/mcPagination/mc-pagination.class');

var _mcPagination2 = _interopRequireDefault(_mcPagination);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var ListController = function (_Pagination) {
  ListController.$inject = ["$injector", "$state", "$location", "$stateParams", "toastr", "$uibModal", "ConfigService"];
  _inherits(ListController, _Pagination);

  function ListController($injector, $state, $location, $stateParams, toastr, $uibModal, ConfigService) {
    'ngInject';

    _classCallCheck(this, ListController);

    var _this = _possibleConstructorReturn(this, (ListController.__proto__ || Object.getPrototypeOf(ListController)).call(this, $injector));

    _this._state = $state;
    _this._location = $location;
    _this._stateParams = $stateParams;
    _this._modal = $uibModal;

    _this._toastr = toastr;

    _this._service = ConfigService;

    _this.filters = {};
    _this._init();

    return _this;
  }

  _createClass(ListController, [{
    key: '_init',
    value: function _init() {
      this._get();
    }
  }, {
    key: '_get',
    value: function _get() {
      var _this2 = this;

      //let params = this._filterEmptyValue();

      this._service.get('refresh_time').then(function (data) {
        if (typeof data == 'string') {
          _this2.keyValue = data;
        }
      });
    }
  }, {
    key: 'setConfig',
    value: function setConfig() {
      var _this3 = this;

      var data = {
        key: "refresh_time",
        value: this.keyValue
      };
      this._service.set(data).then(function (data) {
        _this3._toastr.success('设置成功');
        _this3.cancel();
        _this3._state.reload();
      });
    }
  }]);

  return ListController;
}(_mcPagination2.default);

exports.default = ListController;

},{"../../../core/components/mcPagination/mc-pagination.class":"/Users/cescwang/program/sil/SIL-frontend/app/core/components/mcPagination/mc-pagination.class.js"}],"/Users/cescwang/program/sil/SIL-frontend/app/modules/sysconfig/time/index.js":[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _ctrl = require('./ctrl');

var _ctrl2 = _interopRequireDefault(_ctrl);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var List = {
  templateUrl: 'modules/sysconfig/time/index.html',
  controller: _ctrl2.default,
  controllerAs: 'vm'
};

exports.default = List;

},{"./ctrl":"/Users/cescwang/program/sil/SIL-frontend/app/modules/sysconfig/time/ctrl.js"}],"/Users/cescwang/program/sil/SIL-frontend/app/templates.js":[function(require,module,exports){
"use strict";

angular.module("app.templates", []).run(["$templateCache", function ($templateCache) {
  $templateCache.put("modules/dashboard/dashboard.html", "<section class=\"content body-content body-content-compact block-ui block-ui-message-custom dashboard-container\">\n\nindex\n\n</section>\n");
  $templateCache.put("common/components/back-top/back-top.html", "<div class=\"back-to-top\"><i></i></div>\n");
  $templateCache.put("common/components/inline-nav/inline-nav.html", "<section class=\"content-header inline-navigation\">\n  <h4 ng-if=\"$ctrl.title\">{{ $ctrl.title }}</h4>\n  <ul class=\"clearfix\">\n    <li ng-repeat=\"item in $ctrl.navList\" class=\"nav-item\">\n      <a ui-sref=\"{{ item.stateRef }}\" ui-sref-active=\"active\">{{ item.title }}</a>\n    </li>\n\n    <li ng-repeat=\"item in $ctrl.btnList\" class=\"btn-item pull-right\">\n      <a ui-sref=\"{{ item.stateRef }}\" class=\"btn {{ item.btnClass || \'btn-success\' }} m-l-md\" ng-click=\"$ctrl.handleClick(item, $event);\">{{ item.title }}</a>\n    </li>\n\n    <li ng-if=\"$ctrl.backBtn\" class=\"btn-item pull-right\">\n      <a href ng-click=\"$root.back()\" class=\"btn btn-default\">返回</a>\n    </li>\n  </ul>\n</section>\n\n<div block-ui=\"main\" class=\"block-ui-main\">\n  <div ui-view></div>\n</div>\n");
  $templateCache.put("common/components/mc-step/template.html", "<ul class=\"mc-step clearfix center-block\">\n  <li ng-repeat=\"item in vm.stepList\" ng-class=\"{active: item.value <= vm.currentStep }\">\n    <p>{{item.name}}</p>\n    <div class=\"step-arrow\"></div>\n  </li>\n</ul>\n");
  $templateCache.put("common/directives/filter-list/filter-list.html", "<div class=\"option-item {{clazz}}\">\n  <span class=\"item-title\">{{title}}：</span>\n  <ul class=\"clearfix\">\n    <li>\n      <a href=\"javascript:;\" class=\"btn btn-toggle\" ng-click=\"clearKeywordFilter(null)\"\n          ng-class=\"{active: !filters[filterKey]}\">全部</a>\n    </li>\n    <li ng-repeat=\"type in list\">\n      <a href=\"javascript:;\" ng-click=\"clearKeywordFilter(type[itemId || \'id\'])\" title=\"{{type[itemName || \'name\']}}\" class=\"btn btn-toggle\"\n          ng-class=\"{active: filters[filterKey] == type[itemId || \'id\']}\">{{type[itemName || \'name\']}}</a>\n    </li>\n  </ul>\n</div>\n");
  $templateCache.put("common/directives/mcBatchUploadBank/error.html", "<div class=\"modal-body\">\n  <h4>导入结果</h4>\n\n  <p class=\"m-t-lg\">\n    导入成功<span class=\"text-success\">{{vm.count}}</span>条，失败<span class=\"text-danger\">{{vm.errorList.length}}</span>条。\n  </p>\n  <div class=\"panel\" ng-if=\"vm.errorList.length\">\n    <table class=\"table table-striped text-center\">\n      <tr>\n        <th class=\"text-center col-sm-1\">机构名称</th>\n        <th class=\"text-center col-sm-1\">上级机构</th>\n        <th class=\"text-center col-sm-1\">失败原因</th>\n      </tr>\n      <tr ng-repeat=\"item in vm.errorList\">\n        <td>{{item.data[0]}}</td>\n        <td>{{item.data[1]}}</td>\n        <td><span class=\"text-danger\">{{item.reason}}</span></td>\n      </tr>\n    </table>\n  </div>\n  <div class=\"modal-footer\">\n    <button type=\"button\" class=\"btn btn-success btn-sm\" ng-click=\"vm.cancel()\">确定</button>\n  </div>\n</div>\n\n\n");
  $templateCache.put("common/directives/mcBatchUploadBank/template.html", "<div class=\"modal-body\">\n  <h4>如何批量导入</h4>\n\n  <p class=\"m-t-lg\">1.下载《机构数据导入模板》。\n    <a target=\"_blank\" ng-href=\"{{ vm.download_url }}\">点我下载</a>\n  </p>\n\n  <p>2.将机构数据填入模板中保存。</p>\n\n  <p>3.点击上传。</p>\n\n  <button class=\"btn btn-success center-block\" id=\"upload_button\" ng-click=\"vm.uploadFile($event)\">上传</button>\n  <form class=\"dropzone\" ng-hide=\"1\" method=\"post\" enctype=\"multipart/form-data\" ng-dropzone dropzone=\"dropzone\"\n        dropzone-config=\"vm.dropzoneConfig\">\n    <input type=\"hidden\" name=\"extra\" value=\"{{AUTHORIZATION_TOKEN}}\">\n    <input name=\"file\" type=\"file\" multiple/>\n  </form>\n</div>\n\n\n");
  $templateCache.put("common/directives/mcBatchUploadUser/error.html", "<div class=\"modal-body\">\n  <h4>导入结果</h4>\n\n  <p class=\"m-t-lg\">\n    导入成功<span class=\"text-success\">{{vm.count}}</span>条，失败<span class=\"text-danger\">{{vm.errorList.length}}</span>条。\n  </p>\n  <div class=\"panel\" ng-if=\"vm.errorList.length\">\n    <table class=\"table table-striped text-center\">\n      <tr>\n        <th class=\"text-center col-sm-1\">手机号</th>\n        <th class=\"text-center col-sm-1\">姓名</th>\n        <th class=\"text-center col-sm-1\">失败原因</th>\n      </tr>\n      <tr ng-repeat=\"item in vm.errorList\">\n        <td>{{item.data[0]}}</td>\n        <td>{{item.data[1]}}</td>\n        <td><span class=\"text-danger\">{{item.reason}}</span></td>\n      </tr>\n    </table>\n  </div>\n  <div class=\"modal-footer\">\n    <button type=\"button\" class=\"btn btn-success btn-sm\" ng-click=\"vm.cancel()\">确定</button>\n  </div>\n</div>\n\n\n");
  $templateCache.put("common/directives/mcBatchUploadUser/template.html", "<div class=\"modal-body\">\n\n  <h4>如何批量导入</h4>\n\n  <p class=\"m-t-lg\">1.下载《用户导入模板》。\n    <a target=\"_blank\" ng-href=\"{{ vm.download_url }}\">点我下载</a>\n  </p>\n\n  <p>2.将用户数据填入模板中保存。</p>\n\n  <p>3.点击上传。</p>\n\n  <button class=\"btn btn-success center-block\" id=\"upload_button\" ng-click=\"vm.uploadFile($event)\">上传</button>\n  <form class=\"dropzone\" ng-hide=\"1\" method=\"post\" enctype=\"multipart/form-data\" ng-dropzone dropzone=\"dropzone\"\n        dropzone-config=\"vm.dropzoneConfig\">\n    <input type=\"hidden\" name=\"extra\" value=\"{{AUTHORIZATION_TOKEN}}\">\n    <input name=\"file\" type=\"file\" multiple/>\n  </form>\n\n</div>\n");
  $templateCache.put("common/directives/mcBatchUploadVc/error.html", "<div class=\"modal-body\">\n  <h4>导入结果</h4>\n\n  <p class=\"m-t-lg\">\n    导入成功<span class=\"text-success\">{{vm.count}}</span>条，失败<span class=\"text-danger\">{{vm.errorList.length}}</span>条。\n  </p>\n  <div class=\"panel\" ng-if=\"vm.errorList.length\">\n    <table class=\"table table-striped text-center\">\n      <tr>\n        <th class=\"text-center col-sm-1\">公司名称</th>\n        <th class=\"text-center col-sm-1\">公司简称</th>\n        <th class=\"text-center col-sm-1\">失败原因</th>\n      </tr>\n      <tr ng-repeat=\"item in vm.errorList\">\n        <td>{{item.data[0]}}</td>\n        <td>{{item.data[1]}}</td>\n        <td><span class=\"text-danger\">{{item.reason}}</span></td>\n      </tr>\n    </table>\n  </div>\n  <div class=\"modal-footer\">\n    <button type=\"button\" class=\"btn btn-success btn-sm\" ng-click=\"vm.cancel()\">确定</button>\n  </div>\n</div>\n\n\n");
  $templateCache.put("common/directives/mcBatchUploadVc/template.html", "<div class=\"modal-body\">\n  <h4>如何批量导入</h4>\n\n  <p class=\"m-t-lg\">1.下载《投资机构数据导入模板》。\n    <a target=\"_blank\" ng-href=\"{{ vm.download_url }}\">点我下载</a>\n  </p>\n\n  <p>2.将投资机构数据填入模板中保存。</p>\n\n  <p>3.点击上传。</p>\n\n  <button class=\"btn btn-success center-block\" id=\"upload_button\" ng-click=\"vm.uploadFile($event)\">上传</button>\n  <form class=\"dropzone\" ng-hide=\"1\" method=\"post\" enctype=\"multipart/form-data\" ng-dropzone dropzone=\"dropzone\"\n        dropzone-config=\"vm.dropzoneConfig\">\n    <input type=\"hidden\" name=\"extra\" value=\"{{AUTHORIZATION_TOKEN}}\">\n    <input name=\"file\" type=\"file\" multiple/>\n  </form>\n</div>\n\n\n");
  $templateCache.put("core/components/mcContentHeader/mcContentHeader.html", "<section class=\"content-header\">\n  header\n</section>\n");
  $templateCache.put("core/components/mcMainHeader/mcMainHeader.html", "<header class=\"main-header clearfix\">\n  <nav class=\"navbar navbar-static-top\">\n    <ul class=\"nav navbar-nav pull-right\">\n      <li>\n        <a href=\"javascript:;\" ui-sref=\"message.list\" ui-sref-active=\"active\" class=\"mc-message\">\n          <i class=\"icon-header_message_ic\"></i>\n          <span class=\"backen\" ng-if=\"vm.msg_count\">{{vm.msg_count}}</span>\n        </a>\n      </li>\n      <li><a href=\"javascript:;\" ng-click=\"vm.logout()\"><i class=\"icon-header_exit_ic\"></i></a></li>\n      <li class=\"divider\"></li>\n      <li class=\"user-profile\">\n        <a href=\"javascript:;\" ui-sref=\"person.detail\">\n          <!-- <img ng-src=\"{{vm.info.avatar}}\" alt=\"{{vm.info.name}}\"> -->\n          <span>您好，{{vm.info.name}}</span>\n        </a>\n      </li>\n    </ul>\n  </nav>\n</header>\n");
  $templateCache.put("core/components/mcPagination/index.html", "\n<div class=\"row text-center\" ng-if=\"vm.totalItems\">\n  <uib-pagination total-items=\"vm.totalItems\" items-per-page=\"vm.itemsPerPage\" max-size=\"5\" ng-model=\"vm.currentPage\" ng-change=\"vm.pageChanged()\" first-text=\"首页\" last-text=\"尾页\" previous-text=\"&lt;&lt;\" next-text=\"&gt;&gt;\" boundary-links=\"true\"></uib-pagination>\n</div>\n");
  $templateCache.put("core/components/mcPicker/template.html", "<div class=\"modal-picker\">\n  <div class=\"modal-header\">\n    <div class=\"picker-header-info pull-right\">\n      <button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-label=\"Close\" ng-click=\"vm.cancel();\">\n        <span aria-hidden=\"true\">&times;</span>\n      </button>\n      共 {{vm.list.length}} {{vm.options.itemUnit}}{{vm.options.itemType}}\n    </div>\n\n\n    <h4 class=\"modal-title\">{{vm.options.title}}</h4>\n  </div>\n  <div class=\"modal-picker-body clearfix\">\n    <div class=\"picker-items\">\n      <div class=\"item-search\">\n        <div class=\"input-group search-box\">\n          <input type=\"text\" placeholder=\"{{vm.options.searchPlaceholder}}\" ng-model=\"vm.keyword\" class=\"form-control\">\n          <span class=\"input-group-btn\">\n            <button class=\"btn btn-default search\" type=\"button\"><i class=\"icon-search\"></i></button>\n          </span>\n        </div>\n      </div>\n      <dl>\n        <!-- <dt>A</dt> -->\n        <dd>\n          <label class=\"item clearfix\" ng-repeat=\"item in vm.list | filter: vm.keyword\">\n            <img ng-src=\"{{item.avatar}}\" alt=\"{{item.name}}\" class=\"img-circle avatar-small\">\n            <p>{{item.name}}</p>\n            <span class=\"mc-radio\">\n              <input type=\"checkbox\" name=\"items[]\" value=\"{{item.id}}\" ng-click=\"vm.toggleItemSelected(item)\" ng-checked=\"item.selected\">\n              <i class=\"icon-check\"></i>\n            </span>\n          </label>\n        </dd>\n        <!-- <dt>C</dt>\n        <dd>\n        </dd> -->\n      </dl>\n    </div>\n    <div class=\"picker-result\">\n      <h6>已选择 {{vm.selectionItem.length}} {{vm.options.itemUnit}}{{vm.options.itemPosition}} <span ng-if=\"vm.options.max > 0\">（最多可选择{{vm.options.max}} {{vm.options.itemUnit}}）</span></h6>\n      <ul ng-if=\"vm.selectionItem.length > 0\">\n        <li class=\"item clearfix\" ng-repeat=\"item in vm.selectionItem\">\n          <img ng-src=\"{{item.avatar}}\" alt=\"{{item.name}}\" class=\"img-circle avatar-small\">\n          <p>{{item.name}}</p>\n          <p>{{vm.options.itemPosition}}</p>\n          <i class=\"icon-close\" ng-click=\"vm.toggleItemSelected(item)\"></i>\n        </li>\n      </ul>\n    </div>\n  </div>\n\n  <div class=\"modal-footer\">\n    <button type=\"button\" class=\"btn btn-default btn-sm\" ng-click=\"vm.cancel()\">取消</button>\n    <button type=\"button\" class=\"btn btn-success btn-sm\" ng-class=\"{disabled: (vm.selectionItem.length < vm.options.min || (vm.options.max && vm.selectionItem.length > vm.options.max))}\" ng-click=\"vm.ok()\">确定</button>\n  </div>\n</div>\n");
  $templateCache.put("core/components/mcSidebar/mcSidebar.html", "<aside class=\"main-sidebar\">\n  <div class=\"header text-center\">\n    <img ng-src=\"{{sidebar.info.avatar}}\" class=\"avatar-middle img-circle sidebar-logo\" alt=\"{{sidebar.info.name}}\" style=\"background: #2f3746;\">\n    <h6 class=\"m-t\">{{sidebar.info.name}}</h6>\n  </div>\n\n  <!-- left sidebar menu -->\n  <ul class=\"sidebar-list\" slimscroll=\"{height: \'{{menuHeight}}px\'}\" slimscroll-watch=\"menuHeight\">\n    <li ng-repeat=\"item in sidebar.menuItems\" class=\"sidebar-list-item\" ng-class=\"{\'with-sub-menu\': item.subMenu}\"\n        ui-sref-active=\"selected\" mc-sidebar-toggling-item=\"item\" ng-if=\"sidebar.access[item.name]\">\n\n      <a ng-if=\"!item.subMenu\" ui-state=\"item.stateRef || \'\'\" ng-href=\"{{(item.fixedHref ? item.fixedHref: \'\')}}\"\n         class=\"sidebar-list-link\">\n        <i class=\"icon {{ item.icon }}\"></i><span>{{ item.title }}</span>\n      </a>\n\n      <a ng-if=\"item.subMenu\" class=\"sidebar-list-link\" mc-ui-sref-toggler>\n        <i class=\"icon {{ item.icon }}\"></i>\n        <span>{{ item.title }}</span>\n        <i ng-if=\"item.subMenu\" class=\"icon-angle-right\" ui-sref-active=\"icon-angle-down\"></i>\n      </a>\n\n      <!-- submenu -->\n      <ul ng-if=\"item.subMenu\" class=\"sidebar-sublist\" ng-class=\"{\'slide-right\': item.slideRight}\" mc-ui-sref-toggling-submenu>\n        <li ng-repeat=\"subitem in item.subMenu\" ng-class=\"{\'with-sub-menu\': subitem.subMenu}\" ui-sref-active=\"selected\"\n            mc-sidebar-toggling-item=\"subitem\" class=\"sidebar-sublist-item\" ng-if=\"sidebar.access[subitem.name]\">\n          <a ng-if=\"subitem.subMenu\" mc-ui-sref-toggler class=\"sidebar-list-link subitem-submenu-link\">\n            <span>{{ subitem.title }}</span>\n            <i ng-if=\"subitem.subMenu\" ng-class=\"{\'icon-angle-down\': subitem.expanded, \'icon-angle-right\': !subitem.expanded}\"></i>\n          </a>\n          <a ng-if=\"(!subitem.subMenu && subitem.disabled)\" href class=\"sidebar-list-link\">{{ subitem.title }}</a>\n          <a ng-if=\"(!subitem.subMenu && !subitem.disabled)\" ui-state=\"subitem.stateRef || \'\'\"\n             ng-href=\"{{(subitem.fixedHref ? subitem.fixedHref: \'\')}}\">\n             {{ subitem.title}}\n          </a>\n        </li>\n      </ul><!-- /submenu -->\n    </li>\n  </ul><!-- /left sidebar menu -->\n</aside>\n");
  $templateCache.put("core/directives/mcDatePicker/datepicker.html", "<div class=\"btn-group mc-datepicker\" ng-click=\"showDatePicker($event)\">\n  <button type=\"button\" class=\"btn btn-default\" ng-show=\"startDate\">\n        <span>{{startDate.format(\'YYYY\') + \'年\'}}</span>\n        <span ng-if=\"minView != \'year\' \">{{startDate.format(\'MM\') + \'月\'}}</span>\n        <span ng-if=\"minView != \'year\' && minView != \'month\' \">{{startDate.format(\'DD\') + \'日\'}}</span>\n        <span ng-if=\"minView != \'year\' && minView != \'month\' && minView != \'date\' \">{{ \' \' + startDate.format(\'HH\') }}</span>\n        <span ng-if=\"minView != \'year\' && minView != \'month\' && minView != \'date\' && minView != \'hours\' \">{{ \': \' + startDate.format(\'mm\') }}</span>\n  </button>\n  <button type=\"button\" class=\"btn btn-default\" ng-hide=\"startDate\">\n    <span> — </span>\n  </button>\n  <button type=\"button\" class=\"btn btn-default dropdown-toggle\" aria-haspopup=\"true\"\n          aria-expanded=\"false\">\n    <span class=\"caret\"></span>\n  </button>\n  <div class=\"dropdown-menu\" ng-click=\"$event.stopPropagation();\" ng-mouseleave=\"mouseLeave($event)\">\n    <!-- 注：此处的min-view由父controller定义,考虑到兼容以前的页面，所以给了一个默认的month -->\n    <div id=\"{{id}}\" date-picker=\"startDate\" min-date=\"minDate\" view=\"{{view}}\" max-date=\"maxDate\" min-view=\"{{minView || \'month\'}}\" auto-close=\"true\" watch-direct-changes=\"true\"></div>\n  </div>\n</div>\n");
  $templateCache.put("core/directives/mcUploadAvatar/upload-image.html", "<div class=\"upload-content\">\n\n  <div class=\"crop-warpper\">\n      <img ng-if=\"dataUrl\" ng-src=\"{{dataUrl}}\" width=\"800\"\n      ng-cropper\n      ng-cropper-proxy=\"cropperProxy\"\n      ng-cropper-show=\"showEvent\"\n      ng-cropper-hide=\"hideEvent\"\n      ng-cropper-options=\"options\">\n\n      <div class=\"upload-progress clearfix\" ng-show=\"dynamic > 0 && !uploaded\">\n          <div class=\"progress-box\">\n              <div class=\"progress-bar progress-bar-success progress-bar-striped active\" style=\"width: {{dynamic}}%;\"></div>\n          </div>\n          <span class=\"process-percent\">{{dynamic}}%</span>\n      </div>\n\n      <div class=\"upload-progress success\" ng-show=\"uploaded\">\n          <i class=\'icon-check_circle\'></i> 上传成功！\n      </div>\n\n  </div>\n\n  <div class=\"preview-warpper\">\n      <div class=\"preview-avatar\">\n        <div>\n          <img ng-src=\"{{preview.dataUrl || imgUrl || \'/dist/images/common/man.png\'}}\" id=\"JS_preview_image\" class=\"img-circle avatar-middle\">\n        </div>\n      </div>\n      <p>选择 png/jpg 图片100*100</p>\n      <a class=\"btn btn-default\" href=\"javascript:;\" ng-click=\"avatarVm.selectFile()\">上传图片 --{{isEditing}}</a>\n  </div>\n\n  <form class=\"dropzone\" ng-hide=\"1\" method=\"post\" enctype=\"multipart/form-data\" ng-dropzone dropzone=\"dropzone\"\n      dropzone-config=\"dropzoneConfig\">\n    <input name=\"pension_id\" type=\"hidden\" value=\"{{ pensionInfo.pension_id}}\"/>\n    <input type=\"file\" name=\"{{fileName || \'file\'}}\" id=\"JS_avatar_input\">\n    <input type=\"hidden\" name=\"x\" value=\"{{data.x}}\">\n    <input type=\"hidden\" name=\"y\" value=\"{{data.y}}\">\n    <input type=\"hidden\" name=\"width\" value=\"{{data.width}}\">\n    <input type=\"hidden\" name=\"height\" value=\"{{data.height}}\">\n    <input type=\"hidden\" name=\"Rotate\" value=\"{{data.Rotate}}\">\n    <input type=\"hidden\" name=\"ScaleX\" value=\"{{data.ScaleX}}\">\n    <input type=\"hidden\" name=\"ScaleY\" value=\"{{data.ScaleY}}\">\n    <input ng-repeat=\"param in params\" name=\"{{param.name}}\" type=\"hidden\" value=\"{{param.value}}\">\n  </form>\n\n</div>\n\n");
  $templateCache.put("core/directives/mcUploadAvatar/upload.html", "<div class=\"upload-content\">\n\n  <div class=\"crop-warpper\">\n      <img ng-if=\"dataUrl\" ng-src=\"{{dataUrl}}\" width=\"800\"\n      ng-cropper\n      ng-cropper-proxy=\"cropperProxy\"\n      ng-cropper-show=\"showEvent\"\n      ng-cropper-hide=\"hideEvent\"\n      ng-cropper-options=\"options\">\n\n      <div class=\"upload-progress clearfix\" ng-show=\"dynamic > 0 && !uploaded\">\n          <div class=\"progress-box\">\n              <div class=\"progress-bar progress-bar-success progress-bar-striped active\" style=\"width: {{dynamic}}%;\"></div>\n          </div>\n          <span class=\"process-percent\">{{dynamic}}%</span>\n      </div>\n\n      <div class=\"upload-progress success\" ng-show=\"uploaded\">\n          <i class=\'icon-check_circle\'></i> 上传成功！\n      </div>\n\n  </div>\n\n  <div class=\"preview-warpper\">\n      <div class=\"preview-avatar\">\n        <div>\n          <img ng-src=\"{{preview.dataUrl || imgUrl || \'/dist/images/common/man.png\'}}\" id=\"JS_preview_image\" class=\"img-circle avatar-middle\">\n        </div>\n      </div>\n      <p>选择 png/jpg 图片100*100</p>\n      <a class=\"btn btn-default\" href=\"javascript:;\" ng-click=\"avatarVm.selectFile()\">上传头像</a>\n  </div>\n\n  <form class=\"dropzone\" ng-hide=\"1\" method=\"post\" enctype=\"multipart/form-data\" ng-dropzone dropzone=\"dropzone\"\n      dropzone-config=\"dropzoneConfig\">\n    <input name=\"pension_id\" type=\"hidden\" value=\"{{ pensionInfo.pension_id}}\"/>\n    <input type=\"file\" name=\"{{fileName || \'file\'}}\" id=\"JS_avatar_input\">\n    <input type=\"hidden\" name=\"x\" value=\"{{data.x}}\">\n    <input type=\"hidden\" name=\"y\" value=\"{{data.y}}\">\n    <input type=\"hidden\" name=\"width\" value=\"{{data.width}}\">\n    <input type=\"hidden\" name=\"height\" value=\"{{data.height}}\">\n    <input type=\"hidden\" name=\"Rotate\" value=\"{{data.Rotate}}\">\n    <input type=\"hidden\" name=\"ScaleX\" value=\"{{data.ScaleX}}\">\n    <input type=\"hidden\" name=\"ScaleY\" value=\"{{data.ScaleY}}\">\n    <input ng-repeat=\"param in params\" name=\"{{param.name}}\" type=\"hidden\" value=\"{{param.value}}\">\n  </form>\n\n</div>\n\n");
  $templateCache.put("core/directives/mcUploadImage/upload.html", "<div class=\"upload-content\">\n\n  <div class=\"crop-warpper\">\n      <img ng-if=\"dataUrl\" ng-src=\"{{dataUrl}}\" width=\"800\"\n      ng-cropper\n      ng-cropper-proxy=\"cropperProxy\"\n      ng-cropper-show=\"showEvent\"\n      ng-cropper-hide=\"hideEvent\"\n      ng-cropper-options=\"options\">\n\n      <div class=\"upload-progress clearfix\" ng-show=\"dynamic > 0 && !uploaded\">\n          <div class=\"progress-box\">\n              <div class=\"progress-bar progress-bar-success progress-bar-striped active\" style=\"width: {{dynamic}}%;\"></div>\n          </div>\n          <span class=\"process-percent\">{{dynamic}}%</span>\n      </div>\n\n      <div class=\"upload-progress success\" ng-show=\"uploaded\">\n          <i class=\'icon-check_circle\'></i> 上传成功！\n      </div>\n\n  </div>\n\n  <div class=\"preview-warpper\">\n      <div class=\"preview-avatar\">\n        <div style=\"border-radius: initial;width: 100px;height: 100px;\">\n          <img ng-src=\"{{preview.dataUrl || imgUrl || \'/dist/images/common/bg_avatar.png\'}}\" id=\"JS_preview_image\" class=\"avatar-middle\"\n            style=\"width: 100px;height: 100px;\">\n        </div>\n      </div>\n      <a class=\"btn btn-default\" href=\"javascript:;\" ng-click=\"avatarVm.selectFile()\">上传图片</a>\n  </div>\n\n  <form class=\"dropzone\" ng-hide=\"1\" method=\"post\" enctype=\"multipart/form-data\" ng-dropzone dropzone=\"dropzone\"\n      dropzone-config=\"dropzoneConfig\">\n    <input name=\"pension_id\" type=\"hidden\" value=\"{{ pensionInfo.pension_id}}\"/>\n    <input type=\"file\" name=\"{{fileName || \'file\'}}\" id=\"JS_avatar_input\">\n    <input type=\"hidden\" name=\"x\" value=\"{{data.x}}\">\n    <input type=\"hidden\" name=\"y\" value=\"{{data.y}}\">\n    <input type=\"hidden\" name=\"width\" value=\"{{data.width}}\">\n    <input type=\"hidden\" name=\"height\" value=\"{{data.height}}\">\n    <input type=\"hidden\" name=\"Rotate\" value=\"{{data.Rotate}}\">\n    <input type=\"hidden\" name=\"ScaleX\" value=\"{{data.ScaleX}}\">\n    <input type=\"hidden\" name=\"ScaleY\" value=\"{{data.ScaleY}}\">\n    <input ng-repeat=\"param in params\" name=\"{{param.name}}\" type=\"hidden\" value=\"{{param.value}}\">\n  </form>\n\n</div>\n\n");
  $templateCache.put("modules/account/detail/index.html", "<section class=\"content-header col-sm-7 clearfix\">\n    <h4>资料设置</h4>\n    <a href=\"javascript:void(0)\" class=\"btn btn-default pull-right\" ng-click=\"$root.back();\">返回</a>\n</section>\n<section class=\"content body-content col-sm-6\" block-ui=\"main\">\n\n    <div class=\"form-horizontal col-sm-10\">\n        <div class=\"form-group col-sm-12\">\n            <label for=\"inputName\" class=\"col-sm-3 control-label\">姓名</label>\n            <div class=\"col-sm-9\">\n                <input type=\"text\" class=\"form-control\" id=\"inputName\" ng-model=\"vm.person.true_name\" placeholder=\"\">\n            </div>\n        </div>\n        <div class=\"form-group col-sm-12\">\n            <label for=\"inputPhone\" class=\"col-sm-3 control-label\">手机号</label>\n            <div class=\"col-sm-9\">\n                <input type=\"text\" class=\"form-control\" id=\"inputPhone\" ng-model=\"vm.person.phone\" placeholder=\"\">\n            </div>\n        </div>\n        <div class=\"form-group col-sm-12\">\n            <label for=\"inputPwd\" class=\"col-sm-3 control-label\">新密码</label>\n            <div class=\"col-sm-9\">\n                <input type=\"text\" class=\"form-control\" id=\"inputPwd\" ng-model=\"vm.person.new_password\" placeholder=\"\">\n            </div>\n        </div>\n        <div class=\"form-group col-sm-12\">\n            <label for=\"\" class=\"col-sm-3 control-label\">角色信息</label>\n            <div class=\"btn-group col-sm-9\">\n              <button type=\"button\" class=\"btn btn-default dropdown-toggle\" data-toggle=\"dropdown\" aria-haspopup=\"true\" aria-expanded=\"false\">\n                {{vm.person.role_name}}\n                <span class=\"caret\"></span>\n              </button>\n              <ul class=\"dropdown-menu\">\n                <li ng-repeat=\"role in vm.roleList\"><a ng-click=\"vm.person.role_name=role.name;vm.person.role=role.value\" href=\"javascript:void(0)\">{{role.name}}</a></li>\n              </ul>\n            </div>\n        </div>\n        <div class=\"form-group col-sm-12\">\n            <label for=\"\" class=\"col-sm-3 control-label\">用户状态</label>\n            <div class=\"btn-group col-sm-9\">\n              <button type=\"button\" class=\"btn btn-default dropdown-toggle\" data-toggle=\"dropdown\" aria-haspopup=\"true\" aria-expanded=\"false\">\n                {{vm.stateArr[vm.person.state]}}\n                <span class=\"caret\"></span>\n              </button>\n              <ul class=\"dropdown-menu\">\n                <li><a ng-click=\"vm.person.state=0\" href=\"javascript:void(0)\">未激活</a></li>\n                <li><a ng-click=\"vm.person.state=1\" href=\"javascript:void(0)\">正常</a></li>\n                <li><a ng-click=\"vm.person.state=2\" href=\"javascript:void(0)\">已冻结</a></li>\n                <li><a ng-click=\"vm.person.state=3\" href=\"javascript:void(0)\">已删除</a></li>\n              </ul>\n            </div>\n        </div>\n        <div class=\"form-group\">\n            <button type=\"button\" ng-click=\"vm.setUser()\" class=\"btn btn-success\">提交</button>\n        </div>\n    </div>\n</section>");
  $templateCache.put("modules/account/list/index.html", "<section class=\"content-header\">\n  <div class=\"options\">\n    <div class=\"option-item option-time\">\n      <ul class=\"clearfix\">\n        <li>\n          <div class=\"input-group search-box\">\n            <input ng-model=\"vm.filters.true_name\" type=\"text\" placeholder=\"请输姓名查询\" class=\"form-control\"\n                    code=\"13\" key-event=\"vm.reSearch();\">\n            <span class=\"input-group-btn\">\n              <button ng-click=\"vm.reSearch()\" class=\"btn btn-default search\" type=\"button\"><i class=\"icon-search\"></i></button>\n            </span>\n          </div>\n        </li>\n        <li>\n          <div class=\"input-group search-box\">\n            <input ng-model=\"vm.filters.phone\" type=\"text\" placeholder=\"请输手机号查询\" class=\"form-control\"\n                    code=\"13\" key-event=\"vm.reSearch();\">\n            <span class=\"input-group-btn\">\n              <button ng-click=\"vm.reSearch()\" class=\"btn btn-default search\" type=\"button\"><i class=\"icon-search\"></i></button>\n            </span>\n          </div>\n        </li>\n        <li>\n          <div class=\"input-group search-box\">\n            <input ng-model=\"vm.filters.bank_name\" type=\"text\" placeholder=\"请输机构查询\" class=\"form-control\"\n                    code=\"13\" key-event=\"vm.reSearch();\">\n            <span class=\"input-group-btn\">\n              <button ng-click=\"vm.reSearch()\" class=\"btn btn-default search\" type=\"button\"><i class=\"icon-search\"></i></button>\n            </span>\n          </div>\n        </li>\n        <li>\n            <div class=\"btn-group\">\n              <button type=\"button\" class=\"btn btn-default dropdown-toggle\" data-toggle=\"dropdown\" aria-haspopup=\"true\" aria-expanded=\"false\">\n                {{vm.filters.state?vm.stateArr[vm.filters.state]:\'全部\'}}\n                <span class=\"caret\"></span>\n              </button>\n              <ul class=\"dropdown-menu\">\n                <li><a ng-click=\"vm.filters.state=undefined;vm.reSearch()\" href=\"javascript:void(0)\">全部</a></li>\n                <li><a ng-click=\"vm.filters.state=0;vm.reSearch()\" href=\"javascript:void(0)\">未激活</a></li>\n                <li><a ng-click=\"vm.filters.state=1;vm.reSearch()\" href=\"javascript:void(0)\">正常</a></li>\n                <li><a ng-click=\"vm.filters.state=2;vm.reSearch()\" href=\"javascript:void(0)\">已冻结</a></li>\n                <li><a ng-click=\"vm.filters.state=3;vm.reSearch()\" href=\"javascript:void(0)\">已删除</a></li>\n              </ul>\n            </div>\n        </li>\n        <li>\n          <button type=\"button\" class=\"btn btn-success pull-right m-l-sm\" style=\"position: relative; z-index: 2;\"\n                  ng-click=\"vm.addUser()\"><i class=\"icon-Plus\"></i> 添加\n          </button>\n\n          <button type=\"button\" class=\"btn btn-info pull-right\" style=\"position: relative; z-index: 2;\" data-toggle=\"modal\" data-target=\".pop-player\"\n                  ng-click=\"$emit(\'batchUploadUser\');\"><i class=\"icon-Plus\"></i> 批量录入\n          </button>\n        </li>\n      </ul>\n    </div>\n    <div>\n      <mc-batch-upload-user></mc-batch-upload-user>\n    </div>\n</section>\n\n<section class=\"content body-content body-content-compact block-ui block-ui-message-custom\" block-ui=\"main\">\n  <empty-tip ng-if=\"vm.list.length === 0\"></empty-tip>\n\n  <div class=\"panel\" ng-if=\"vm.list.length > 0\">\n    <table class=\"table table-striped text-center\">\n      <tr>\n        <th class=\"col-m-1 text-center\">id</th>\n        <th class=\"col-m-1 text-center\">姓名</th>\n        <th class=\"col-m-1 text-center\">手机号</th>\n        <th class=\"col-m-1 text-center\">所属角色</th>\n        <th class=\"col-m-1 text-center\">机构名称</th>\n        <th class=\"col-m-1 text-center\">状态</th>\n        <th class=\"col-m-1 text-center\">操作</th>\n      </tr>\n      <tr ng-repeat=\"item in vm.list\">\n        <td>{{item.id}}</td>\n        <td>{{item.true_name}}</td>\n        <td>{{item.phone}}</td>\n        <td>{{item.role_name}}</td>\n        <td>{{item.bank_name}}</td>\n        <td>\n          <span class=\"text-muted\" ng-if=\"item.state==0\">未激活</span>\n          <span class=\"text-success\" ng-if=\"item.state==1\">正常</span>\n          <span class=\"text-danger\" ng-if=\"item.state==2\">已冻结</span>\n          <span class=\"text-danger\" ng-if=\"item.state==3\">已删除</span>\n        </td>\n        <td>\n          <a href=\"javascript:void(0)\" ng-click=\"vm.assignBranch(item)\">分配机构</a>\n          <a ui-sref=\"account.detail({id: item.id})\">查看<i class=\"icon-angle-right\"></i></a>\n        </td>\n      </tr>\n    </table>\n  </div>\n\n  <mc-pagination total-items=\"vm.pagination.count\" items-per-page=\"vm.pagination.pageSize\" current-page=\"vm.pagination.page\" page-change=\"vm.pageChanged()\"></mc-pagination>\n\n</section>\n");
  $templateCache.put("modules/bank/list/index.html", "<section class=\"content-header\">\n  <button type=\"button\" class=\"btn btn-success pull-right m-l-sm\" style=\"position: relative; z-index: 2;\"\n    ng-click=\"vm.addBank()\"><i class=\"icon-Plus\"></i> 添加机构\n  </button>\n\n  <button type=\"button\" class=\"btn btn-info pull-right\" style=\"position: relative; z-index: 2;\" data-toggle=\"modal\" data-target=\".pop-player\"\n    ng-click=\"$emit(\'batchUploadBank\');\"><i class=\"icon-Plus\"></i> 批量录入\n  </button>\n  <div class=\"options\">\n    <div class=\"option-item option-time\">\n      <ul class=\"clearfix\">\n        <li>\n          <div class=\"input-group search-box\">\n            <input ng-model=\"vm.filters.name\" type=\"text\" placeholder=\"请输机构名称查询\" class=\"form-control\"\n                    code=\"13\" key-event=\"vm.reSearch();\">\n            <span class=\"input-group-btn\">\n              <button ng-click=\"vm.reSearch()\" class=\"btn btn-default search\" type=\"button\"><i class=\"icon-search\"></i></button>\n            </span>\n          </div>\n        </li>\n      </ul>\n    </div>\n    <div class=\"option-item large\">\n      <span class=\"item-title text-right\">机构状态：</span>\n      <ul class=\"clearfix\">\n          <li>\n              <a href=\"javascript:;\" class=\"btn\" ng-class=\"{\'btn-default\': vm.filters.state, \'btn-toggle\': !vm.filters.state, \'active\': !vm.filters.state}\" ng-click=\"vm.switch(\'state\')\">\n                  全部\n              </a>\n          </li>\n          <li ng-repeat=\"item in vm.bankStateList\">\n              <a href=\"javascript:;\" class=\"btn\" ng-class=\"{\'btn-default\': vm.filters.state != item.value, \'btn-toggle\': vm.filters.state == item.value, \'active\': vm.filters.state == item.value}\" ng-click=\"vm.switch(\'state\', item.value)\">\n                  {{ item.label }}\n              </a>\n          </li>\n      </ul>\n    </div>\n    <div>\n      <mc-batch-upload-bank></mc-batch-upload-bank>\n    </div>\n</section>\n\n<section class=\"content body-content body-content-compact block-ui block-ui-message-custom\" block-ui=\"main\">\n  <empty-tip ng-if=\"vm.list.length === 0\"></empty-tip>\n\n  <div class=\"panel\" ng-if=\"vm.list.length > 0\">\n    <table class=\"table table-striped text-center\">\n      <tr>\n        <th class=\"col-m-1 text-center\">id</th>\n        <th class=\"col-m-1 text-center\">机构</th>\n        <th class=\"col-m-1 text-center\">地址</th>\n        <th class=\"col-m-1 text-center\">联系电话</th>\n        <th class=\"col-m-1 text-center\">上级机构</th>\n        <th class=\"col-m-1 text-center\" colspan=\"3\">操作</th>\n      </tr>\n      <tr ng-repeat=\"item in vm.list\">\n        <td>{{item.id}}</td>\n        <td>{{item.name}}</td>\n        <td>{{item.address}}</td>\n        <td>{{item.phone}}</td>\n        <td>{{item.superior_name}}</td>\n        <!-- <td width=\"90px\">\n          <a href=\"javascript:void(0)\" ng-click=\"vm.setMap(item)\">选取地址</a>\n        </td> -->\n        <td width=\"90px\">\n          <a href=\"javascript:void(0)\" ng-click=\"vm.setName(item)\">更改资料</a>\n        </td>\n        <td width=\"110px\">\n          <a href=\"javascript:void(0)\" ng-click=\"vm.assignBranch(item)\">选择上级机构</a>\n        </td>\n        <td width=\"90px\">\n          <a href=\"javascript:void(0)\" class=\"text-danger\" ng-show=\"item.state == 1\" ng-click=\"vm.delete(item)\">删除</a>\n          <a href=\"javascript:void(0)\" class=\"text-danger\" ng-show=\"item.state == 3\" ng-click=\"vm.redelete(item)\">取消删除</a>\n        </td>\n      </tr>\n    </table>\n  </div>\n\n</section>\n\n");
  $templateCache.put("modules/demo/access/template.html", "<section class=\"content-header\">\n  权限设置\n</section>\n\n<section class=\"content body-content body-content-compact block-ui block-ui-message-custom\" block-ui=\"main\">\n\n\n  <div class=\"panel\">\n    <table class=\"table table-striped text-center\">\n      <tr>\n        <th class=\"col-m-1 text-center\">姓名</th>\n        <th class=\"col-m-1 text-center\">性别</th>\n        <th class=\"col-m-1 text-center\" ng-repeat=\"item in vm.roleList\">{{item.name}}</th>\n      </tr>\n      <tr ng-repeat=\"item in vm.list\">\n        <td>{{item.name}}</td>\n        <td>{{item.title}}</td>\n        <td ng-repeat=\"role in vm.roleList\">\n          <label class=\"mc-radio\">\n            <input type=\"checkbox\" ng-model=\"vm.access[role.value][item.name]\" />\n            <i class=\"icon-check\"></i>\n          </label>\n        </td>\n      </tr>\n    </table>\n  </div>\n  \n  <div class=\"modal-footer\">\n    <button type=\"button\" class=\"btn btn-success btn-sm\" ng-click=\"vm.submit()\"> 保存</button>\n  </div>\n</section>\n");
  $templateCache.put("modules/demo/component/index.html", "<header class=\"navbar navbar-static-top bs-docs-nav\" id=\"top\" role=\"banner\">\n    <div class=\"container\">\n      <div class=\"navbar-header\">\n        <button class=\"navbar-toggle collapsed\" type=\"button\" data-toggle=\"collapse\" data-target=\"#bs-navbar\" aria-controls=\"bs-navbar\" aria-expanded=\"false\">\n          <span class=\"sr-only\">Toggle navigation</span>\n          <span class=\"icon-bar\"></span>\n          <span class=\"icon-bar\"></span>\n          <span class=\"icon-bar\"></span>\n        </button>\n        <a href=\"../\" class=\"navbar-brand\">MC-bootstrap</a>\n      </div>\n      <nav id=\"bs-navbar\" class=\"collapse navbar-collapse\">\n        <ul class=\"nav navbar-nav\" style=\"display:none\">\n          <li>\n            <a href=\"../getting-started/\" onclick=\"_hmt.push([\'_trackEvent\', \'docv3-navbar\', \'click\', \'V3导航-起步\'])\">起步</a>\n          </li>\n          <li>\n            <a href=\"../css/\" onclick=\"_hmt.push([\'_trackEvent\', \'docv3-navbar\', \'click\', \'V3导航-全局CSS样式\'])\">全局 CSS 样式</a>\n          </li>\n          <li class=\"active\">\n            <a href=\"../components/\" onclick=\"_hmt.push([\'_trackEvent\', \'docv3-navbar\', \'click\', \'V3导航-组件\'])\">组件</a>\n          </li>\n          <li>\n            <a href=\"../javascript/\" onclick=\"_hmt.push([\'_trackEvent\', \'docv3-navbar\', \'click\', \'V3导航-JavaScript插件\'])\">JavaScript 插件</a>\n          </li>\n          <li>\n            <a href=\"../customize/\" onclick=\"_hmt.push([\'_trackEvent\', \'docv3-navbar\', \'click\', \'V3导航-定制\'])\">定制</a>\n          </li>\n          <li><a href=\"http://expo.bootcss.com\" onclick=\"_hmt.push([\'_trackEvent\', \'docv3-navbar\', \'click\', \'V3导航-网站实例\'])\" target=\"_blank\">网站实例</a></li>\n        </ul>\n        <ul class=\"nav navbar-nav navbar-right\">\n          <li><a href=\"http://www.bootcss.com/\" onclick=\"_hmt.push([\'_trackEvent\', \'docv3-navbar\', \'click\', \'V3导航-Bootstrap中文网\'])\" target=\"_blank\">Bootstrap中文网</a></li>\n        </ul>\n      </nav>\n    </div>\n  </header>\n  <div class=\"bs-docs-header\" tabindex=\"-1\">\n    <div class=\"container\">\n      <h1>组件</h1>\n      <p>无数可复用的组件，包括字体图标、下拉菜单、导航、警告框、弹出框等更多功能。</p>\n    </div>\n  </div>\n\n  <div class=\"container bs-docs-container\">\n    <div class=\"row\">\n      <div class=\"col-md-9\" role=\"main\">\n\n        <div class=\"bs-docs-section\">\n          <h2 id=\"avatars\"><a class=\"anchorjs-link \" href=\"#thumbnails-default\" aria-label=\"Anchor link for: thumbnails default\" data-anchorjs-icon=\"\" style=\"font-family: anchorjs-icons; font-style: normal; font-variant: normal; font-weight: normal; position: absolute; margin-left: -1em; padding-right: 0.5em;\"></a>头像样式</h2>\n          <p>目前预定了3种规格的头像样式。</p>\n          <div class=\"bs-example\" data-example-id=\"simple-thumbnails\">\n            <img src=\"...\" alt=\"...\" class=\"img-circle avatar-larger\">\n            <img src=\"...\" alt=\"...\" class=\"img-circle avatar-middle\">\n            <img src=\"...\" alt=\"...\" class=\"img-circle avatar-small\">\n          </div>\n          <div class=\"highlight\"><pre><code class=\"language-html\" data-lang=\"html\"><span class=\"nt\">&lt;img</span> <span class=\"na\">src=</span><span class=\"s\">\"...\"</span> <span class=\"na\">alt=</span><span class=\"s\">\"...\"</span> <span class=\"na\">class=</span><span class=\"s\">\"img-circle avatar-larger\"</span><span class=\"nt\">&gt;</span>\n<span class=\"nt\">&lt;img</span> <span class=\"na\">src=</span><span class=\"s\">\"...\"</span> <span class=\"na\">alt=</span><span class=\"s\">\"...\"</span> <span class=\"na\">class=</span><span class=\"s\">\"img-circle avatar-middle\"</span><span class=\"nt\">&gt;</span>\n<span class=\"nt\">&lt;img</span> <span class=\"na\">src=</span><span class=\"s\">\"...\"</span> <span class=\"na\">alt=</span><span class=\"s\">\"...\"</span> <span class=\"na\">class=</span><span class=\"s\">\"img-circle avatar-small\"</span><span class=\"nt\">&gt;</span></code></pre></div>\n        </div>\n\n        <div class=\"bs-docs-section\">\n          <h1 id=\"buttons\" class=\"page-header\"><a class=\"anchorjs-link \" href=\"#buttons\" aria-label=\"Anchor link for: buttons\" data-anchorjs-icon=\"\" style=\"font-family: anchorjs-icons; font-style: normal; font-variant: normal; font-weight: normal; position: absolute; margin-left: -1em; padding-right: 0.5em;\"></a>按钮</h1>\n          <h2 id=\"buttons-tags\"><a class=\"anchorjs-link \" href=\"#buttons-tags\" aria-label=\"Anchor link for: buttons tags\" data-anchorjs-icon=\"\" style=\"font-family: anchorjs-icons; font-style: normal; font-variant: normal; font-weight: normal; position: absolute; margin-left: -1em; padding-right: 0.5em;\"></a>可作为按钮使用的标签或元素</h2>\n          <h2 id=\"buttons-sizes\"><a class=\"anchorjs-link \" href=\"#buttons-sizes\" aria-label=\"Anchor link for: buttons sizes\" data-anchorjs-icon=\"\" style=\"font-family: anchorjs-icons; font-style: normal; font-variant: normal; font-weight: normal; position: absolute; margin-left: -1em; padding-right: 0.5em;\"></a>尺寸</h2>\n          <div class=\"bs-example\" data-example-id=\"btn-sizes\">\n            <p>\n              <button type=\"button\" class=\"btn btn-primary btn-lg\">（大按钮）Large button</button>\n              <button type=\"button\" class=\"btn btn-default btn-lg\">（大按钮）Large button</button>\n            </p>\n            <p>\n              <button type=\"button\" class=\"btn btn-primary\">（默认尺寸）Default button</button>\n              <button type=\"button\" class=\"btn btn-default\">（默认尺寸）Default button</button>\n            </p>\n          </div>\n          <div class=\"highlight\"><pre><code class=\"language-html\" data-lang=\"html\"><span class=\"nt\">&lt;p&gt;</span>\n  <span class=\"nt\">&lt;button</span> <span class=\"na\">type=</span><span class=\"s\">\"button\"</span> <span class=\"na\">class=</span><span class=\"s\">\"btn btn-primary btn-lg\"</span><span class=\"nt\">&gt;</span>（大按钮）Large button<span class=\"nt\">&lt;/button&gt;</span>\n  <span class=\"nt\">&lt;button</span> <span class=\"na\">type=</span><span class=\"s\">\"button\"</span> <span class=\"na\">class=</span><span class=\"s\">\"btn btn-default btn-lg\"</span><span class=\"nt\">&gt;</span>（大按钮）Large button<span class=\"nt\">&lt;/button&gt;</span>\n<span class=\"nt\">&lt;/p&gt;</span>\n<span class=\"nt\">&lt;p&gt;</span>\n  <span class=\"nt\">&lt;button</span> <span class=\"na\">type=</span><span class=\"s\">\"button\"</span> <span class=\"na\">class=</span><span class=\"s\">\"btn btn-primary\"</span><span class=\"nt\">&gt;</span>（默认尺寸）Default button<span class=\"nt\">&lt;/button&gt;</span>\n  <span class=\"nt\">&lt;button</span> <span class=\"na\">type=</span><span class=\"s\">\"button\"</span> <span class=\"na\">class=</span><span class=\"s\">\"btn btn-default\"</span><span class=\"nt\">&gt;</span>（默认尺寸）Default button<span class=\"nt\">&lt;/button&gt;</span>\n<span class=\"nt\">&lt;/p&gt;</span>\n</code></pre></div>\n          <h2 id=\"buttons-options\"><a class=\"anchorjs-link \" href=\"#buttons-options\" aria-label=\"Anchor link for: buttons options\" data-anchorjs-icon=\"\" style=\"font-family: anchorjs-icons; font-style: normal; font-variant: normal; font-weight: normal; position: absolute; margin-left: -1em; padding-right: 0.5em;\"></a>预定义样式</h2>\n\n          <p>使用下面列出的类可以快速创建一个带有预定义样式的按钮。</p>\n          <div class=\"bs-example\">\n            <button type=\"button\" class=\"btn btn-default\">（默认样式）Default</button>\n            <button type=\"button\" class=\"btn btn-primary\">（首选项）Primary</button>\n            <button type=\"button\" class=\"btn btn-success\">（成功）Success</button>\n            <button type=\"button\" class=\"btn btn-info\">（一般信息）Info</button>\n            <button type=\"button\" class=\"btn btn-warning\">（警告）Warning</button>\n            <button type=\"button\" class=\"btn btn-danger\">（危险）Danger</button>\n            <button type=\"button\" class=\"btn btn-link\">（链接）Link</button>\n          </div>\n          <div class=\"highlight\"><pre><code class=\"language-html\" data-lang=\"html\"><span class=\"c\">&lt;!-- Standard button --&gt;</span>\n<span class=\"nt\">&lt;button</span> <span class=\"na\">type=</span><span class=\"s\">\"button\"</span> <span class=\"na\">class=</span><span class=\"s\">\"btn btn-default\"</span><span class=\"nt\">&gt;</span>（默认样式）Default<span class=\"nt\">&lt;/button&gt;</span>\n\n<span class=\"c\">&lt;!-- Provides extra visual weight and identifies the primary action in a set of buttons --&gt;</span>\n<span class=\"nt\">&lt;button</span> <span class=\"na\">type=</span><span class=\"s\">\"button\"</span> <span class=\"na\">class=</span><span class=\"s\">\"btn btn-primary\"</span><span class=\"nt\">&gt;</span>（首选项）Primary<span class=\"nt\">&lt;/button&gt;</span>\n\n<span class=\"c\">&lt;!-- Indicates a successful or positive action --&gt;</span>\n<span class=\"nt\">&lt;button</span> <span class=\"na\">type=</span><span class=\"s\">\"button\"</span> <span class=\"na\">class=</span><span class=\"s\">\"btn btn-success\"</span><span class=\"nt\">&gt;</span>（成功）Success<span class=\"nt\">&lt;/button&gt;</span>\n\n<span class=\"c\">&lt;!-- Contextual button for informational alert messages --&gt;</span>\n<span class=\"nt\">&lt;button</span> <span class=\"na\">type=</span><span class=\"s\">\"button\"</span> <span class=\"na\">class=</span><span class=\"s\">\"btn btn-info\"</span><span class=\"nt\">&gt;</span>（一般信息）Info<span class=\"nt\">&lt;/button&gt;</span>\n\n<span class=\"c\">&lt;!-- Indicates caution should be taken with this action --&gt;</span>\n<span class=\"nt\">&lt;button</span> <span class=\"na\">type=</span><span class=\"s\">\"button\"</span> <span class=\"na\">class=</span><span class=\"s\">\"btn btn-warning\"</span><span class=\"nt\">&gt;</span>（警告）Warning<span class=\"nt\">&lt;/button&gt;</span>\n\n<span class=\"c\">&lt;!-- Indicates a dangerous or potentially negative action --&gt;</span>\n<span class=\"nt\">&lt;button</span> <span class=\"na\">type=</span><span class=\"s\">\"button\"</span> <span class=\"na\">class=</span><span class=\"s\">\"btn btn-danger\"</span><span class=\"nt\">&gt;</span>（危险）Danger<span class=\"nt\">&lt;/button&gt;</span>\n\n<span class=\"c\">&lt;!-- Deemphasize a button by making it look like a link while maintaining button behavior --&gt;</span>\n<span class=\"nt\">&lt;button</span> <span class=\"na\">type=</span><span class=\"s\">\"button\"</span> <span class=\"na\">class=</span><span class=\"s\">\"btn btn-link\"</span><span class=\"nt\">&gt;</span>（链接）Link<span class=\"nt\">&lt;/button&gt;</span></code></pre></div>\n\n          <p>禁用的按钮样式</p>\n          <div class=\"bs-example\">\n            <button type=\"button\" class=\"btn btn-default\" disabled>（默认样式）Default</button>\n            <button type=\"button\" class=\"btn btn-primary\" disabled>（首选项）Primary</button>\n            <button type=\"button\" class=\"btn btn-success\" disabled>（成功）Success</button>\n            <button type=\"button\" class=\"btn btn-info\" disabled>（一般信息）Info</button>\n            <button type=\"button\" class=\"btn btn-warning\" disabled>（警告）Warning</button>\n            <button type=\"button\" class=\"btn btn-danger\" disabled>（危险）Danger</button>\n            <button type=\"button\" class=\"btn btn-link\" disabled>（链接）Link</button>\n          </div>\n\n          <p>简单的切换选项按钮</p>\n          <div class=\"bs-example\" data-example-id=\"single-button-dropdown\">\n            <button class=\"btn btn-toggle\">空模板</button>\n            <button class=\"btn btn-toggle active\">介护一级</button>\n            <button class=\"btn btn-toggle active arrow\">每周</button>\n          </div>\n          <div>\n            <code>\n              <pre>&lt;div class=&quot;bs-example&quot; data-example-id=&quot;single-button-dropdown&quot;&gt;\n            &lt;button class=&quot;btn btn-toggle&quot;&gt;&#31354;&#27169;&#26495;&lt;/button&gt;\n            &lt;button class=&quot;btn btn-toggle active&quot;&gt;&#20171;&#25252;&#19968;&#32423;&lt;/button&gt;\n            &lt;button class=&quot;btn btn-toggle active arrow&quot;&gt;&#27599;&#21608;&lt;/button&gt;\n          &lt;/div&gt;</pre>\n            </code>\n          </div>\n\n          <h2 id=\"btn-dropdowns-single\"><a class=\"anchorjs-link \" href=\"#btn-dropdowns-single\" aria-label=\"Anchor link for: btn dropdowns single\" data-anchorjs-icon=\"\" style=\"font-family: anchorjs-icons; font-style: normal; font-variant: normal; font-weight: normal; position: absolute; margin-left: -1em; padding-right: 0.5em;\"></a>分裂式按钮下拉菜单</h2>\n          <p>相似地，分裂式按钮下拉菜单也需要同样的改变一些标记，但只是多一个分开的按钮。</p>\n          <div class=\"bs-example\" data-example-id=\"split-button-dropdown\">\n            <div class=\"btn-group\">\n              <button type=\"button\" class=\"btn btn-default\">Default</button>\n              <button type=\"button\" class=\"btn btn-default dropdown-toggle\" data-toggle=\"dropdown\" aria-haspopup=\"true\" aria-expanded=\"false\">\n                <span class=\"caret\"></span>\n                <span class=\"sr-only\">Toggle Dropdown</span>\n              </button>\n              <ul class=\"dropdown-menu\">\n                <li><a href=\"#\">Action</a></li>\n                <li><a href=\"#\">Another action</a></li>\n                <li><a href=\"#\">Something else here</a></li>\n                <li role=\"separator\" class=\"divider\"></li>\n                <li><a href=\"#\">Separated link</a></li>\n              </ul>\n            </div><!-- /btn-group -->\n            <div class=\"btn-group\">\n              <button type=\"button\" class=\"btn btn-primary\">Primary</button>\n              <button type=\"button\" class=\"btn btn-primary dropdown-toggle\" data-toggle=\"dropdown\" aria-haspopup=\"true\" aria-expanded=\"false\">\n                <span class=\"caret\"></span>\n                <span class=\"sr-only\">Toggle Dropdown</span>\n              </button>\n              <ul class=\"dropdown-menu\">\n                <li><a href=\"#\">Action</a></li>\n                <li><a href=\"#\">Another action</a></li>\n                <li><a href=\"#\">Something else here</a></li>\n                <li role=\"separator\" class=\"divider\"></li>\n                <li><a href=\"#\">Separated link</a></li>\n              </ul>\n            </div><!-- /btn-group -->\n            <div class=\"btn-group\">\n              <button type=\"button\" class=\"btn btn-success\">Success</button>\n              <button type=\"button\" class=\"btn btn-success dropdown-toggle\" data-toggle=\"dropdown\" aria-haspopup=\"true\" aria-expanded=\"false\">\n                <span class=\"caret\"></span>\n                <span class=\"sr-only\">Toggle Dropdown</span>\n              </button>\n              <ul class=\"dropdown-menu\">\n                <li><a href=\"#\">Action</a></li>\n                <li><a href=\"#\">Another action</a></li>\n                <li><a href=\"#\">Something else here</a></li>\n                <li role=\"separator\" class=\"divider\"></li>\n                <li><a href=\"#\">Separated link</a></li>\n              </ul>\n            </div><!-- /btn-group -->\n            <div class=\"btn-group\">\n              <button type=\"button\" class=\"btn btn-info\">Info</button>\n              <button type=\"button\" class=\"btn btn-info dropdown-toggle\" data-toggle=\"dropdown\" aria-haspopup=\"true\" aria-expanded=\"false\">\n                <span class=\"caret\"></span>\n                <span class=\"sr-only\">Toggle Dropdown</span>\n              </button>\n              <ul class=\"dropdown-menu\">\n                <li><a href=\"#\">Action</a></li>\n                <li><a href=\"#\">Another action</a></li>\n                <li><a href=\"#\">Something else here</a></li>\n                <li role=\"separator\" class=\"divider\"></li>\n                <li><a href=\"#\">Separated link</a></li>\n              </ul>\n            </div><!-- /btn-group -->\n            <div class=\"btn-group\">\n              <button type=\"button\" class=\"btn btn-warning\">Warning</button>\n              <button type=\"button\" class=\"btn btn-warning dropdown-toggle\" data-toggle=\"dropdown\" aria-haspopup=\"true\" aria-expanded=\"false\">\n                <span class=\"caret\"></span>\n                <span class=\"sr-only\">Toggle Dropdown</span>\n              </button>\n              <ul class=\"dropdown-menu\">\n                <li><a href=\"#\">Action</a></li>\n                <li><a href=\"#\">Another action</a></li>\n                <li><a href=\"#\">Something else here</a></li>\n                <li role=\"separator\" class=\"divider\"></li>\n                <li><a href=\"#\">Separated link</a></li>\n              </ul>\n            </div><!-- /btn-group -->\n            <div class=\"btn-group\">\n              <button type=\"button\" class=\"btn btn-danger\">Danger</button>\n              <button type=\"button\" class=\"btn btn-danger dropdown-toggle\" data-toggle=\"dropdown\" aria-haspopup=\"true\" aria-expanded=\"false\">\n                <span class=\"caret\"></span>\n                <span class=\"sr-only\">Toggle Dropdown</span>\n              </button>\n              <ul class=\"dropdown-menu\">\n                <li><a href=\"#\">Action</a></li>\n                <li><a href=\"#\">Another action</a></li>\n                <li><a href=\"#\">Something else here</a></li>\n                <li role=\"separator\" class=\"divider\"></li>\n                <li><a href=\"#\">Separated link</a></li>\n              </ul>\n            </div><!-- /btn-group -->\n          </div>\n          <div class=\"highlight\"><pre><code class=\"language-html\" data-lang=\"html\"><span class=\"c\">&lt;!-- Split button --&gt;</span>\n<span class=\"nt\">&lt;div</span> <span class=\"na\">class=</span><span class=\"s\">\"btn-group\"</span><span class=\"nt\">&gt;</span>\n  <span class=\"nt\">&lt;button</span> <span class=\"na\">type=</span><span class=\"s\">\"button\"</span> <span class=\"na\">class=</span><span class=\"s\">\"btn btn-danger\"</span><span class=\"nt\">&gt;</span>Action<span class=\"nt\">&lt;/button&gt;</span>\n  <span class=\"nt\">&lt;button</span> <span class=\"na\">type=</span><span class=\"s\">\"button\"</span> <span class=\"na\">class=</span><span class=\"s\">\"btn btn-danger dropdown-toggle\"</span> <span class=\"na\">data-toggle=</span><span class=\"s\">\"dropdown\"</span> <span class=\"na\">aria-haspopup=</span><span class=\"s\">\"true\"</span> <span class=\"na\">aria-expanded=</span><span class=\"s\">\"false\"</span><span class=\"nt\">&gt;</span>\n    <span class=\"nt\">&lt;span</span> <span class=\"na\">class=</span><span class=\"s\">\"caret\"</span><span class=\"nt\">&gt;&lt;/span&gt;</span>\n    <span class=\"nt\">&lt;span</span> <span class=\"na\">class=</span><span class=\"s\">\"sr-only\"</span><span class=\"nt\">&gt;</span>Toggle Dropdown<span class=\"nt\">&lt;/span&gt;</span>\n  <span class=\"nt\">&lt;/button&gt;</span>\n  <span class=\"nt\">&lt;ul</span> <span class=\"na\">class=</span><span class=\"s\">\"dropdown-menu\"</span><span class=\"nt\">&gt;</span>\n    <span class=\"nt\">&lt;li&gt;&lt;a</span> <span class=\"na\">href=</span><span class=\"s\">\"#\"</span><span class=\"nt\">&gt;</span>Action<span class=\"nt\">&lt;/a&gt;&lt;/li&gt;</span>\n    <span class=\"nt\">&lt;li&gt;&lt;a</span> <span class=\"na\">href=</span><span class=\"s\">\"#\"</span><span class=\"nt\">&gt;</span>Another action<span class=\"nt\">&lt;/a&gt;&lt;/li&gt;</span>\n    <span class=\"nt\">&lt;li&gt;&lt;a</span> <span class=\"na\">href=</span><span class=\"s\">\"#\"</span><span class=\"nt\">&gt;</span>Something else here<span class=\"nt\">&lt;/a&gt;&lt;/li&gt;</span>\n    <span class=\"nt\">&lt;li</span> <span class=\"na\">role=</span><span class=\"s\">\"separator\"</span> <span class=\"na\">class=</span><span class=\"s\">\"divider\"</span><span class=\"nt\">&gt;&lt;/li&gt;</span>\n    <span class=\"nt\">&lt;li&gt;&lt;a</span> <span class=\"na\">href=</span><span class=\"s\">\"#\"</span><span class=\"nt\">&gt;</span>Separated link<span class=\"nt\">&lt;/a&gt;&lt;/li&gt;</span>\n  <span class=\"nt\">&lt;/ul&gt;</span>\n<span class=\"nt\">&lt;/div&gt;</span></code></pre></div>\n\n        </div>\n\n        <div class=\"bs-docs-section\">\n          <h1 id=\"btn-groups\" class=\"page-header\"><a class=\"anchorjs-link \" href=\"#btn-groups\" aria-label=\"Anchor link for: btn groups\" data-anchorjs-icon=\"\" style=\"font-family: anchorjs-icons; font-style: normal; font-variant: normal; font-weight: normal; position: absolute; margin-left: -1em; padding-right: 0.5em;\"></a>按钮组</h1>\n          <p class=\"lead\">通过按钮组容器把一组按钮放在同一行里。</p>\n          <div class=\"bs-example\" data-example-id=\"simple-button-group\">\n            <div class=\"btn-group\" role=\"group\" aria-label=\"Basic example\">\n              <button type=\"button\" class=\"btn btn-default\">Left</button>\n              <button type=\"button\" class=\"btn btn-default\">Middle</button>\n              <button type=\"button\" class=\"btn btn-default\">Right</button>\n            </div>\n            <div class=\"btn-group btn-group-success\" role=\"group\" aria-label=\"Basic example\">\n              <button type=\"button\" class=\"btn btn-default\">Left</button>\n              <button type=\"button\" class=\"btn btn-default active\">Middle</button>\n              <button type=\"button\" class=\"btn btn-default\">Right</button>\n            </div>\n          </div>\n          <div class=\"highlight\"><pre><code class=\"language-html\" data-lang=\"html\"><span class=\"nt\">&lt;div</span> <span class=\"na\">class=</span><span class=\"s\">\"btn-group\"</span> <span class=\"na\">role=</span><span class=\"s\">\"group\"</span> <span class=\"na\">aria-label=</span><span class=\"s\">\"...\"</span><span class=\"nt\">&gt;</span>\n  <span class=\"nt\">&lt;button</span> <span class=\"na\">type=</span><span class=\"s\">\"button\"</span> <span class=\"na\">class=</span><span class=\"s\">\"btn btn-default\"</span><span class=\"nt\">&gt;</span>Left<span class=\"nt\">&lt;/button&gt;</span>\n  <span class=\"nt\">&lt;button</span> <span class=\"na\">type=</span><span class=\"s\">\"button\"</span> <span class=\"na\">class=</span><span class=\"s\">\"btn btn-default\"</span><span class=\"nt\">&gt;</span>Middle<span class=\"nt\">&lt;/button&gt;</span>\n  <span class=\"nt\">&lt;button</span> <span class=\"na\">type=</span><span class=\"s\">\"button\"</span> <span class=\"na\">class=</span><span class=\"s\">\"btn btn-default\"</span><span class=\"nt\">&gt;</span>Right<span class=\"nt\">&lt;/button&gt;</span>\n<span class=\"nt\">&lt;/div&gt;</span></code></pre></div>\n\n        </div>\n\n        <div class=\"bs-docs-section\">\n          <h1 id=\"forms\" class=\"page-header\"><a class=\"anchorjs-link \" href=\"#forms\" aria-label=\"Anchor link for: forms\" data-anchorjs-icon=\"\" style=\"font-family: anchorjs-icons; font-style: normal; font-variant: normal; font-weight: normal; position: absolute; margin-left: -1em; padding-right: 0.5em;\"></a>表单</h1>\n          <h2 id=\"forms-example\"><a class=\"anchorjs-link \" href=\"#forms-example\" aria-label=\"Anchor link for: forms example\" data-anchorjs-icon=\"\" style=\"font-family: anchorjs-icons; font-style: normal; font-variant: normal; font-weight: normal; position: absolute; margin-left: -1em; padding-right: 0.5em;\"></a>基本实例</h2>\n          <p>单独的表单控件会被自动赋予一些全局样式。所有设置了 <code>.form-control</code> 类的 <code>&lt;input&gt;</code>、<code>&lt;textarea&gt;</code> 和 <code>&lt;select&gt;</code> 元素都将被默认设置宽度属性为 <code>width: 100%;</code>。 将 <code>label</code> 元素和前面提到的控件包裹在 <code>.form-group</code> 中可以获得最好的排列。</p>\n\n          <div class=\"bs-example\">\n            <div class=\"page-header\"><h4>基本设置</h4></div>\n            <div class=\"form-horizontal\">\n                <div class=\"form-group\">\n                    <label for=\"inputEmail3\" class=\"col-sm-2 control-label\">文本框</label>\n                    <div class=\"col-sm-8\">\n                      <input type=\"email\" class=\"form-control\" id=\"inputEmail3\" placeholder=\"\">\n                    </div>\n                    <div class=\"col-sm-2\">\n\n                    </div>\n                </div>\n                <div class=\"form-group\">\n                    <label for=\"inputSelect\" class=\"col-sm-2 control-label\">下拉框</label>\n                    <div class=\"col-sm-8\">\n                      <select class=\"form-control c-select\" id=\"inputSelect\">\n                        <option value=\"0\">全部区域</option>\n                        <option value=\"1\">区域一</option>\n                        <option value=\"2\">区域二</option>\n                      </select>\n                    </div>\n                    <div class=\"col-sm-2\">\n\n                    </div>\n                </div>\n                <div class=\"form-group\">\n                    <label for=\"inputEmail4\" class=\"col-sm-2 control-label\">单选/复选框</label>\n                    <div class=\"col-sm-8\">\n                        <label class=\"mc-radio\">\n                            <input type=\"radio\" name=\"radio1\">\n                            <span></span>\n                            radio\n                        </label>\n                        <label class=\"mc-radio\">\n                            <input type=\"radio\" name=\"radio1\" checked>\n                            <span></span>\n                            radio\n                        </label>\n                        <label class=\"mc-radio\">\n                            <input type=\"checkbox\" name=\"checkbox1\">\n                            <i class=\"icon-check\"></i>\n                            checkbox\n                        </label>\n                        <label class=\"mc-radio\">\n                            <input type=\"checkbox\" name=\"checkbox1\" checked>\n                            <i class=\"icon-check\"></i>\n                            checkbox\n                        </label>\n\n                    </div>\n                    <div class=\"col-sm-2\">\n\n                    </div>\n                </div>\n                <div class=\"form-group\">\n                    <label for=\"inputSelect\" class=\"col-sm-2 control-label\">邮箱</label>\n                    <div class=\"col-sm-8\">\n                      <p class=\"form-control-static\">123456789@qq.com</p>\n                    </div>\n                    <div class=\"col-sm-2 text-right\">\n                        <a href=\"\" class=\"btn btn-link\">编辑 <i class=\"icon-arrow-down small\"></i></a>\n                    </div>\n                </div>\n                <div class=\"form-group\">\n                    <label for=\"inputSelect\" class=\"col-sm-2 control-label\">下拉框</label>\n                    <div class=\"col-sm-8\">\n\n                    </div>\n                    <div class=\"col-sm-2 text-right\">\n                        <a href=\"\" class=\"btn btn-link\">收起 <i class=\"icon-arrow-up small\"></i></a>\n                    </div>\n                    <div class=\"clearfix\"></div>\n                    <div class=\"cols-edit\">\n                        <div class=\"col-sm-8 col-sm-offset-2 col-sm-offset-2\">\n                          <select class=\"form-control c-select\" id=\"inputSelect\">\n                            <option value=\"0\">全部区域</option>\n                            <option value=\"1\">区域一</option>\n                            <option value=\"2\">区域二</option>\n                          </select>\n                        </div>\n                        <div class=\"col-sm-8 col-sm-offset-2 col-sm-offset-2\">\n                          <button class=\"btn btn-success\">保存</button>\n                        </div>\n                    </div>\n                </div>\n            </div>\n          </div>\n\n            <p>带样式的表单：</p>\n            <div class=\"bs-example\">\n              <div class=\"page-header\"><h4>基本设置</h4></div>\n              <div class=\"form-horizontal\">\n                  <div class=\"form-group has-success\">\n                      <label for=\"inputEmail3\" class=\"col-sm-2 control-label text-left\">文本框<span class=\"text-tip\">*</span></label>\n                      <div class=\"col-sm-8\">\n                        <input type=\"email\" class=\"form-control\" id=\"inputEmail3\" placeholder=\"\">\n                      </div>\n                      <div class=\"col-sm-2\">\n\n                      </div>\n                  </div>\n                  <div class=\"form-group has-error\">\n                      <label for=\"inputSelect\" class=\"col-sm-2 control-label text-left\">下拉框</label>\n                      <div class=\"col-sm-8\">\n                        <select class=\"form-control c-select\" id=\"inputSelect\">\n                          <option value=\"0\">全部区域</option>\n                          <option value=\"1\">区域一</option>\n                          <option value=\"2\">区域二</option>\n                        </select>\n                      </div>\n                      <div class=\"col-sm-2\">\n\n                      </div>\n                  </div>\n                  <div class=\"form-group has-error\">\n                      <label for=\"inputEmail4\" class=\"col-sm-2 control-label text-left\">单选/复选框</label>\n                      <div class=\"col-sm-8\">\n                          <label class=\"mc-radio\">\n                              <input type=\"radio\" name=\"s-radio1\">\n                              <span></span>\n                              radio\n                          </label>\n                          <label class=\"mc-radio\">\n                              <input type=\"radio\" name=\"s-radio1\" checked>\n                              <span></span>\n                              radio\n                          </label>\n                          <label class=\"mc-radio\">\n                              <input type=\"checkbox\" name=\"s-checkbox1\">\n                              <i class=\"icon-check\"></i>\n                              checkbox\n                          </label>\n                          <label class=\"mc-radio\">\n                              <input type=\"checkbox\" name=\"s-checkbox1\" checked>\n                              <i class=\"icon-check\"></i>\n                              checkbox\n                          </label>\n\n                      </div>\n                      <div class=\"col-sm-2\">\n\n                      </div>\n                  </div>\n                  <div class=\"form-group\">\n                      <label for=\"inputSelect\" class=\"col-sm-2 control-label text-left\">邮箱</label>\n                      <div class=\"col-sm-8\">\n                        <p class=\"form-control-static\">123456789@qq.com</p>\n                      </div>\n                      <div class=\"col-sm-2 text-right\">\n                          <a href=\"\" class=\"btn btn-link\">编辑 <i class=\"icon-arrow-down small\"></i></a>\n                      </div>\n                  </div>\n                  <div class=\"form-group has-error\">\n                      <label for=\"inputSelect\" class=\"col-sm-2 control-label text-left\">下拉框</label>\n                      <div class=\"col-sm-8\">\n\n                      </div>\n                      <div class=\"col-sm-2 text-right\">\n                          <a href=\"\" class=\"btn btn-link\">收起 <i class=\"icon-arrow-up small\"></i></a>\n                      </div>\n                      <div class=\"clearfix\"></div>\n                      <div class=\"cols-edit\">\n                          <div class=\"col-sm-8 col-sm-offset-2 col-sm-offset-2\">\n                            <select class=\"form-control c-select\" id=\"inputSelect\">\n                              <option value=\"0\">全部区域</option>\n                              <option value=\"1\">区域一</option>\n                              <option value=\"2\">区域二</option>\n                            </select>\n                          </div>\n                          <div class=\"col-sm-8 col-sm-offset-2 col-sm-offset-2\">\n                            <button class=\"btn btn-success\">保存</button>\n                          </div>\n                      </div>\n                  </div>\n              </div>\n            </div>\n\n            <p>angular验证表格：</p>\n            <div class=\"bs-example\">\n              <div class=\"page-header\"><h4>基本设置</h4></div>\n              <div class=\"form-horizontal\">\n                  <div class=\"form-group\">\n                      <label for=\"inputEmail3\" class=\"col-sm-2 control-label text-left\">文本框<span class=\"text-tip\">*</span></label>\n                      <div class=\"col-sm-8\">\n                        <input type=\"email\" class=\"form-control ng-valid\" id=\"inputEmail3\" placeholder=\"\">\n                      </div>\n                      <div class=\"col-sm-2\">\n\n                      </div>\n                  </div>\n                  <div class=\"form-group\">\n                      <label for=\"inputSelect\" class=\"col-sm-2 control-label text-left\">下拉框</label>\n                      <div class=\"col-sm-8\">\n                        <select class=\"form-control c-select ng-invalid\" id=\"inputSelect\">\n                          <option value=\"0\">全部区域</option>\n                          <option value=\"1\">区域一</option>\n                          <option value=\"2\">区域二</option>\n                        </select>\n                        <span><p class=\"validation-invalid\">格式不对！</p></span>\n                      </div>\n                      <div class=\"col-sm-2\">\n\n                      </div>\n                  </div>\n                  <div class=\"form-group\">\n                      <label for=\"inputEmail4\" class=\"col-sm-2 control-label text-left\">单选/复选框</label>\n                      <div class=\"col-sm-8\">\n                          <label class=\"mc-radio ng-valid\">\n                              <input type=\"radio\" name=\"radio1\">\n                              <span></span>\n                              radio\n                          </label>\n                          <label class=\"mc-radio ng-valid\">\n                              <input type=\"radio\" name=\"radio1\" checked >\n                              <span></span>\n                              radio\n                          </label>\n                          <label class=\"mc-radio ng-valid\">\n                              <input type=\"checkbox\" name=\"checkbox1\">\n                              <i class=\"icon-check\"></i>\n                              checkbox\n                          </label>\n                          <label class=\"mc-radio ng-valid\">\n                              <input type=\"checkbox\" name=\"checkbox1\" checked>\n                              <i class=\"icon-check\"></i>\n                              checkbox\n                          </label>\n\n                      </div>\n                      <div class=\"col-sm-2\">\n\n                      </div>\n                  </div>\n                  <div class=\"form-group\">\n                      <label for=\"inputEmail4\" class=\"col-sm-2 control-label text-left\">单选/复选框</label>\n                      <div class=\"col-sm-8\">\n                          <label class=\"mc-radio ng-invalid\">\n                              <input type=\"radio\" name=\"a-radio1\">\n                              <span></span>\n                              radio\n                          </label>\n                          <label class=\"mc-radio ng-invalid\">\n                              <input type=\"radio\" name=\"a-radio1\" checked >\n                              <span></span>\n                              radio\n                          </label>\n                          <label class=\"mc-radio ng-invalid\">\n                              <input type=\"checkbox\" name=\"a-checkbox1\">\n                              <i class=\"icon-check\"></i>\n                              checkbox\n                          </label>\n                          <label class=\"mc-radio ng-invalid\">\n                              <input type=\"checkbox\" name=\"a-checkbox1\" checked>\n                              <i class=\"icon-check\"></i>\n                              checkbox\n                          </label>\n\n                      </div>\n                      <div class=\"col-sm-2\">\n\n                      </div>\n                  </div>\n                  <div class=\"form-group\">\n                      <label for=\"inputSelect\" class=\"col-sm-2 control-label text-left\">邮箱</label>\n                      <div class=\"col-sm-8\">\n                        <p class=\"form-control-static\">123456789@qq.com</p>\n                      </div>\n                      <div class=\"col-sm-2 text-right\">\n                          <a href=\"\" class=\"btn btn-link\">编辑 <i class=\"icon-arrow-down small\"></i></a>\n                      </div>\n                  </div>\n                  <div class=\"form-group\">\n                      <label for=\"inputSelect\" class=\"col-sm-2 control-label text-left\">下拉框</label>\n                      <div class=\"col-sm-8\">\n\n                      </div>\n                      <div class=\"col-sm-2 text-right\">\n                          <a href=\"\" class=\"btn btn-link\">收起 <i class=\"icon-arrow-up small\"></i></a>\n                      </div>\n                      <div class=\"clearfix\"></div>\n                      <div class=\"cols-edit\">\n                          <div class=\"col-sm-8 col-sm-offset-2 col-sm-offset-2\">\n                            <select class=\"form-control c-select\" id=\"inputSelect\">\n                              <option value=\"0\">全部区域</option>\n                              <option value=\"1\">区域一</option>\n                              <option value=\"2\">区域二</option>\n                            </select>\n                          </div>\n                          <div class=\"col-sm-8 col-sm-offset-2 col-sm-offset-2\">\n                            <button class=\"btn btn-success\">保存</button>\n                          </div>\n                      </div>\n                  </div>\n              </div>\n            </div>\n\n        </div>\n\n        <div class=\"bs-docs-section\">\n\n            <h1 id=\"helper-classes\" class=\"page-header\"><a class=\"anchorjs-link \" href=\"#helper-classes\" aria-label=\"Anchor link for: helper classes\" data-anchorjs-icon=\"\" style=\"font-family: anchorjs-icons; font-style: normal; font-variant: normal; font-weight: normal; position: absolute; margin-left: -1em; padding-right: 0.5em;\"></a>辅助类</h1>\n            <h3 id=\"helper-classes-colors\"><a class=\"anchorjs-link \" href=\"#helper-classes-colors\" aria-label=\"Anchor link for: helper classes colors\" data-anchorjs-icon=\"\" style=\"font-family: anchorjs-icons; font-style: normal; font-variant: normal; font-weight: normal; position: absolute; margin-left: -1em; padding-right: 0.5em;\"></a>情境文本颜色</h3>\n            <p>通过颜色来展示意图，Bootstrap 提供了一组工具类。这些类可以应用于链接，并且在鼠标经过时颜色可以还可以加深，就像默认的链接一样。</p>\n            <div class=\"bs-example\" data-example-id=\"contextual-colors-helpers\">\n                <p class=\"text-muted\">Fusce dapibus, tellus ac cursus commodo, tortor mauris nibh.</p>\n                <p class=\"text-primary\">Nullam id dolor id nibh ultricies vehicula ut id elit.</p>\n                <p class=\"text-success\">Duis mollis, est non commodo luctus, nisi erat porttitor ligula.</p>\n                <p class=\"text-info\">Maecenas sed diam eget risus varius blandit sit amet non magna.</p>\n                <p class=\"text-warning\">Etiam porta sem malesuada magna mollis euismod.</p>\n                <p class=\"text-danger\">Donec ullamcorper nulla non metus auctor fringilla.</p>\n                <p class=\"text-tip\">Donec ullamcorper nulla non metus auctor fringilla.</p>\n            </div>\n            <div class=\"highlight\"><pre><code class=\"language-html\" data-lang=\"html\"><span class=\"nt\">&lt;p</span> <span class=\"na\">class=</span><span class=\"s\">\"text-muted\"</span><span class=\"nt\">&gt;</span>...<span class=\"nt\">&lt;/p&gt;</span>\n<span class=\"nt\">&lt;p</span> <span class=\"na\">class=</span><span class=\"s\">\"text-primary\"</span><span class=\"nt\">&gt;</span>...<span class=\"nt\">&lt;/p&gt;</span>\n<span class=\"nt\">&lt;p</span> <span class=\"na\">class=</span><span class=\"s\">\"text-success\"</span><span class=\"nt\">&gt;</span>...<span class=\"nt\">&lt;/p&gt;</span>\n<span class=\"nt\">&lt;p</span> <span class=\"na\">class=</span><span class=\"s\">\"text-info\"</span><span class=\"nt\">&gt;</span>...<span class=\"nt\">&lt;/p&gt;</span>\n<span class=\"nt\">&lt;p</span> <span class=\"na\">class=</span><span class=\"s\">\"text-warning\"</span><span class=\"nt\">&gt;</span>...<span class=\"nt\">&lt;/p&gt;</span>\n<span class=\"nt\">&lt;p</span> <span class=\"na\">class=</span><span class=\"s\">\"text-danger\"</span><span class=\"nt\">&gt;</span>...<span class=\"nt\">&lt;/p&gt;</span>\n<span class=\"nt\">&lt;p</span> <span class=\"na\">class=</span><span class=\"s\">\"text-tip\"</span><span class=\"nt\">&gt;</span>...<span class=\"nt\">&lt;/p&gt;</span></code></pre></div>\n\n            <h3 id=\"helper-classes-backgrounds\"><a class=\"anchorjs-link \" href=\"#helper-classes-backgrounds\" aria-label=\"Anchor link for: helper classes backgrounds\" data-anchorjs-icon=\"\" style=\"font-family: anchorjs-icons; font-style: normal; font-variant: normal; font-weight: normal; position: absolute; margin-left: -1em; padding-right: 0.5em;\"></a>情境背景色</h3>\n            <p>和情境文本颜色类一样，使用任意情境背景色类就可以设置元素的背景。链接组件在鼠标经过时颜色会加深，就像上面所讲的情境文本颜色类一样。</p>\n            <div class=\"bs-example bs-example-bg-classes\" data-example-id=\"contextual-backgrounds-helpers\">\n                <p class=\"bg-primary\">Nullam id dolor id nibh ultricies vehicula ut id elit.</p>\n                <p class=\"bg-success\">Duis mollis, est non commodo luctus, nisi erat porttitor ligula.</p>\n                <p class=\"bg-info\">Maecenas sed diam eget risus varius blandit sit amet non magna.</p>\n                <p class=\"bg-warning\">Etiam porta sem malesuada magna mollis euismod.</p>\n                <p class=\"bg-danger\">Donec ullamcorper nulla non metus auctor fringilla.</p>\n            </div>\n            <div class=\"highlight\"><pre><code class=\"language-html\" data-lang=\"html\"><span class=\"nt\">&lt;p</span> <span class=\"na\">class=</span><span class=\"s\">\"bg-primary\"</span><span class=\"nt\">&gt;</span>...<span class=\"nt\">&lt;/p&gt;</span>\n<span class=\"nt\">&lt;p</span> <span class=\"na\">class=</span><span class=\"s\">\"bg-success\"</span><span class=\"nt\">&gt;</span>...<span class=\"nt\">&lt;/p&gt;</span>\n<span class=\"nt\">&lt;p</span> <span class=\"na\">class=</span><span class=\"s\">\"bg-info\"</span><span class=\"nt\">&gt;</span>...<span class=\"nt\">&lt;/p&gt;</span>\n<span class=\"nt\">&lt;p</span> <span class=\"na\">class=</span><span class=\"s\">\"bg-warning\"</span><span class=\"nt\">&gt;</span>...<span class=\"nt\">&lt;/p&gt;</span>\n<span class=\"nt\">&lt;p</span> <span class=\"na\">class=</span><span class=\"s\">\"bg-danger\"</span><span class=\"nt\">&gt;</span>...<span class=\"nt\">&lt;/p&gt;</span></code></pre></div>\n\n        </div>\n\n        <div class=\"bs-docs-section\">\n            <h1 id=\"tables\" class=\"page-header\"><a class=\"anchorjs-link \" href=\"#tables\" aria-label=\"Anchor link for: tables\" data-anchorjs-icon=\"\" style=\"font-family: anchorjs-icons; font-style: normal; font-variant: normal; font-weight: normal; position: absolute; margin-left: -1em; padding-right: 0.5em;\"></a>表格</h1>\n            <p>为任意 <code>&lt;table&gt;</code> 标签添加 <code>.table</code> 类可以为其赋予基本的样式 — 少量的内补（padding）和水平方向的分隔线。这种方式看起来很多余！？但是我们觉得，表格元素使用的很广泛，如果我们为其赋予默认样式可能会影响例如日历和日期选择之类的插件，所以我们选择将此样式独立出来。</p>\n\n            <div class=\"bs-example\" data-example-id=\"simple-table\">\n                <table class=\"table\">\n                  <caption>Optional table caption.</caption>\n                  <thead>\n                    <tr>\n                      <th>#</th>\n                      <th>First Name</th>\n                      <th>Last Name</th>\n                      <th>Username</th>\n                    </tr>\n                  </thead>\n                  <tbody>\n                    <tr>\n                      <th scope=\"row\">1</th>\n                      <td>Mark</td>\n                      <td>Otto</td>\n                      <td>@mdo</td>\n                    </tr>\n                    <tr>\n                      <th scope=\"row\">2</th>\n                      <td>Jacob</td>\n                      <td>Thornton</td>\n                      <td>@fat</td>\n                    </tr>\n                    <tr>\n                      <th scope=\"row\">3</th>\n                      <td><input type=\"email\" class=\"form-control \" placeholder=\"\"><span><p class=\"validation-invalid\">格式不对！</p></span></td>\n                      <td>the Bird</td>\n                      <td>@twitter</td>\n                    </tr>\n                  </tbody>\n                </table>\n              </div>\n\n                <div class=\"highlight\"><pre><code class=\"language-html\" data-lang=\"html\"><span class=\"nt\">&lt;table</span> <span class=\"na\">class=</span><span class=\"s\">\"table\"</span><span class=\"nt\">&gt;</span>\n  ...\n<span class=\"nt\">&lt;/table&gt;</span></code></pre></div>\n\n        </div>\n\n        <div class=\"bs-docs-section\">\n            <h1 id=\"type\" class=\"page-header\"><a class=\"anchorjs-link \" href=\"#type\" aria-label=\"Anchor link for: type\" data-anchorjs-icon=\"\" style=\"font-family: anchorjs-icons; font-style: normal; font-variant: normal; font-weight: normal; position: absolute; margin-left: -1em; padding-right: 0.5em;\"></a>排版</h1>\n            <h2 id=\"type-headings\"><a class=\"anchorjs-link \" href=\"#type-headings\" aria-label=\"Anchor link for: type headings\" data-anchorjs-icon=\"\" style=\"font-family: anchorjs-icons; font-style: normal; font-variant: normal; font-weight: normal; position: absolute; margin-left: -1em; padding-right: 0.5em;\"></a>标题</h2>\n            <p>HTML 中的所有标题标签，<code>&lt;h1&gt;</code> 到 <code>&lt;h6&gt;</code> 均可使用。另外，还提供了 <code>.h1</code> 到 <code>.h6</code> 类，为的是给内联（inline）属性的文本赋予标题的样式。</p>\n            <div class=\"bs-example bs-example-type\" data-example-id=\"simple-headings\">\n                <table class=\"table\">\n                  <tbody>\n                    <tr>\n                      <td><h1>h1. Bootstrap heading</h1></td>\n                      <td class=\"type-info\">Semibold 36px</td>\n                    </tr>\n                    <tr>\n                      <td><h2>h2. Bootstrap heading</h2></td>\n                      <td class=\"type-info\">Semibold 30px</td>\n                    </tr>\n                    <tr>\n                      <td><h3>h3. Bootstrap heading</h3></td>\n                      <td class=\"type-info\">Semibold 24px</td>\n                    </tr>\n                    <tr>\n                      <td><h4>h4. Bootstrap heading</h4></td>\n                      <td class=\"type-info\">Semibold 18px</td>\n                    </tr>\n                    <tr>\n                      <td><h5>h5. Bootstrap heading</h5></td>\n                      <td class=\"type-info\">Semibold 16px</td>\n                    </tr>\n                    <tr>\n                      <td><h6>h6. Bootstrap heading</h6></td>\n                      <td class=\"type-info\">Semibold 14px</td>\n                    </tr>\n                  </tbody>\n                </table>\n              </div>\n            <div class=\"highlight\"><pre><code class=\"language-html\" data-lang=\"html\"><span class=\"nt\">&lt;h1&gt;</span>h1. Bootstrap heading<span class=\"nt\">&lt;/h1&gt;</span>\n<span class=\"nt\">&lt;h2&gt;</span>h2. Bootstrap heading<span class=\"nt\">&lt;/h2&gt;</span>\n<span class=\"nt\">&lt;h3&gt;</span>h3. Bootstrap heading<span class=\"nt\">&lt;/h3&gt;</span>\n<span class=\"nt\">&lt;h4&gt;</span>h4. Bootstrap heading<span class=\"nt\">&lt;/h4&gt;</span>\n<span class=\"nt\">&lt;h5&gt;</span>h5. Bootstrap heading<span class=\"nt\">&lt;/h5&gt;</span>\n<span class=\"nt\">&lt;h6&gt;</span>h6. Bootstrap heading<span class=\"nt\">&lt;/h6&gt;</span></code></pre></div>\n        </div>\n\n      </div>\n      <div class=\"col-md-3\" role=\"complementary\">\n        <nav class=\"bs-docs-sidebar hidden-print hidden-xs hidden-sm affix-top\">\n          <ul class=\"nav bs-docs-sidenav\">\n\n            <li class=\"\">\n              <a href=\"#glyphicons\">Glyphicons 字体图标</a>\n              <ul class=\"nav\">\n                <li class=\"\"><a href=\"#glyphicons-glyphs\">所有可用的图标</a></li>\n                <li class=\"\"><a href=\"#glyphicons-how-to-use\">如何使用</a></li>\n                <li class=\"\"><a href=\"#glyphicons-examples\">实例</a></li>\n              </ul>\n            </li>\n            <li class=\"\">\n              <a href=\"#dropdowns\">下拉菜单</a>\n              <ul class=\"nav\">\n                <li class=\"\"><a href=\"#dropdowns-example\">实例</a></li>\n                <li class=\"\"><a href=\"#dropdowns-alignment\">对齐</a></li>\n                <li><a href=\"#dropdowns-headers\">标题</a></li>\n                <li><a href=\"#dropdowns-divider\">分割线</a></li>\n                <li class=\"\"><a href=\"#dropdowns-disabled\">禁用的菜单项</a></li>\n              </ul>\n            </li>\n            <li class=\"\">\n              <a href=\"#btn-groups\">按钮组</a>\n              <ul class=\"nav\">\n                <li class=\"\"><a href=\"#btn-groups-single\">基本实例</a></li>\n                <li><a href=\"#btn-groups-toolbar\">按钮工具栏</a></li>\n                <li><a href=\"#btn-groups-sizing\">尺寸</a></li>\n                <li><a href=\"#btn-groups-nested\">嵌套</a></li>\n                <li><a href=\"#btn-groups-vertical\">垂直排列</a></li>\n                <li class=\"\"><a href=\"#btn-groups-justified\">两端对齐排列的按钮组</a></li>\n              </ul>\n            </li>\n            <li>\n              <a href=\"#btn-dropdowns\">按钮式下拉菜单</a>\n              <ul class=\"nav\">\n                <li><a href=\"#btn-dropdowns-single\">单按钮下拉菜单</a></li>\n                <li><a href=\"#btn-dropdowns-split\">分裂式按钮下拉菜单</a></li>\n                <li><a href=\"#btn-dropdowns-sizing\">尺寸</a></li>\n                <li><a href=\"#btn-dropdowns-dropup\">向上弹出式菜单</a></li>\n              </ul>\n            </li>\n            <li>\n              <a href=\"#input-groups\">输入框组</a>\n              <ul class=\"nav\">\n                <li><a href=\"#input-groups-basic\">基本实例</a></li>\n                <li><a href=\"#input-groups-sizing\">尺寸</a></li>\n                <li><a href=\"#input-groups-checkboxes-radios\">作为额外元素的多选框和单选框</a></li>\n                <li><a href=\"#input-groups-buttons\">作为额外元素的按钮</a></li>\n                <li><a href=\"#input-groups-buttons-dropdowns\">作为额外元素的按钮式下拉菜单</a></li>\n                <li><a href=\"#input-groups-buttons-segmented\">作为额外元素的分裂式按钮下拉菜单</a></li>\n              </ul>\n            </li>\n            <li>\n              <a href=\"#nav\">导航</a>\n              <ul class=\"nav\">\n                <li><a href=\"#nav-tabs\">标签页</a></li>\n                <li><a href=\"#nav-pills\">胶囊式标签页</a></li>\n                <li><a href=\"#nav-justified\">两端对齐</a></li>\n                <li><a href=\"#nav-disabled-links\">禁用的链接</a></li>\n                <li><a href=\"#nav-dropdowns\">添加下拉菜单</a></li>\n              </ul>\n            </li>\n            <li class=\"\">\n              <a href=\"#navbar\">导航条</a>\n              <ul class=\"nav\">\n                <li><a href=\"#navbar-default\">默认样式的导航条</a></li>\n                <li><a href=\"#navbar-brand-image\">品牌图标</a></li>\n                <li><a href=\"#navbar-forms\">表单</a></li>\n                <li><a href=\"#navbar-buttons\">按钮</a></li>\n                <li><a href=\"#navbar-text\">文本</a></li>\n                <li><a href=\"#navbar-links\">非导航的链接</a></li>\n                <li class=\"\"><a href=\"#navbar-component-alignment\">组件排列</a></li>\n                <li><a href=\"#navbar-fixed-top\">固定在顶部</a></li>\n                <li><a href=\"#navbar-fixed-bottom\">固定在底部</a></li>\n                <li><a href=\"#navbar-static-top\">静止在顶部</a></li>\n                <li><a href=\"#navbar-inverted\">反色的导航条</a></li>\n              </ul>\n            </li>\n            <li><a href=\"#breadcrumbs\">路径导航</a></li>\n            <li>\n              <a href=\"#pagination\">分页</a>\n              <ul class=\"nav\">\n                <li><a href=\"#pagination-default\">默认分页</a></li>\n                <li><a href=\"#pagination-pager\">翻页</a></li>\n              </ul>\n            </li>\n            <li><a href=\"#labels\">标签</a></li>\n            <li><a href=\"#badges\">徽章</a></li>\n            <li><a href=\"#jumbotron\">巨幕</a></li>\n            <li><a href=\"#page-header\">页头</a></li>\n            <li>\n              <a href=\"#thumbnails\">缩略图</a>\n              <ul class=\"nav\">\n                <li><a href=\"#thumbnails-default\">默认样式的实例</a></li>\n                <li><a href=\"#thumbnails-custom-content\">自定义内容</a></li>\n              </ul>\n            </li>\n            <li>\n              <a href=\"#alerts\">警告框</a>\n              <ul class=\"nav\">\n                <li><a href=\"#alerts-examples\">实例</a></li>\n                <li><a href=\"#alerts-dismissible\">可关闭的警告框</a></li>\n                <li><a href=\"#alerts-links\">警告框中的链接</a></li>\n              </ul>\n            </li>\n            <li>\n              <a href=\"#progress\">进度条</a>\n              <ul class=\"nav\">\n                <li><a href=\"#progress-basic\">基本实例</a></li>\n                <li><a href=\"#progress-label\">带有提示标签的进度条</a></li>\n                <li><a href=\"#progress-alternatives\">根据情境变化效果</a></li>\n                <li><a href=\"#progress-striped\">条纹效果</a></li>\n                <li><a href=\"#progress-animated\">动画效果</a></li>\n                <li><a href=\"#progress-stacked\">堆叠效果</a></li>\n              </ul>\n            </li>\n            <li>\n              <a href=\"#media\">媒体对象</a>\n              <ul class=\"nav\">\n                <li><a href=\"#media-default\">默认样式</a></li>\n                <li><a href=\"#media-list\">媒体对象列表</a></li>\n              </ul>\n            </li>\n            <li>\n              <a href=\"#list-group\">列表组</a>\n              <ul class=\"nav\">\n                <li><a href=\"#list-group-basic\">基本实例</a></li>\n                <li><a href=\"#list-group-badges\">徽章</a></li>\n                <li><a href=\"#list-group-linked\">链接</a></li>\n                <li><a href=\"#list-group-buttons\">Button items</a></li>\n                <li><a href=\"#list-group-disabled\">被禁用的条目</a></li>\n                <li><a href=\"#list-group-contextual-classes\">情境类</a></li>\n                <li><a href=\"#list-group-custom-content\">定制内容</a></li>\n              </ul>\n            </li>\n            <li>\n              <a href=\"#panels\">面板</a>\n              <ul class=\"nav\">\n                <li><a href=\"#panels-basic\">基本实例</a></li>\n                <li><a href=\"#panels-heading\">带标题的面版</a></li>\n                <li><a href=\"#panels-footer\">带注脚的面板</a></li>\n                <li><a href=\"#panels-alternatives\">情境效果</a></li>\n                <li><a href=\"#panels-tables\">带表格的面版</a>\n                </li><li><a href=\"#panels-list-group\">带列表组的面版</a>\n              </li></ul>\n            </li>\n            <li><a href=\"#responsive-embed\">具有响应式特性的嵌入内容</a></li>\n            <li><a href=\"#wells\">Well</a></li>\n\n\n          </ul>\n          <a class=\"back-to-top\" href=\"#top\">\n            返回顶部\n          </a>\n\n          <a href=\"#\" class=\"bs-docs-theme-toggle\" role=\"button\">\n            主题预览\n          </a>\n\n        </nav>\n      </div>\n    </div>\n  </div>\n");
  $templateCache.put("modules/demo/list/template.html", "<section class=\"content-header\">\n  <div class=\"options\">\n    <div class=\"option-item option-time\">\n      <ul class=\"clearfix\">\n        <li>\n          <div class=\"input-group search-box\">\n            <input ng-model=\"vm.filters.keyword\" type=\"text\" placeholder=\"请输查询\" class=\"form-control\"\n                    code=\"13\" key-event=\"vm.reSearch();\">\n            <span class=\"input-group-btn\">\n              <button ng-click=\"vm.reSearch()\" class=\"btn btn-default search\" type=\"button\"><i class=\"icon-search\"></i></button>\n            </span>\n          </div>\n        </li>\n      </ul>\n    </div>\n    <div class=\"option-item large\">\n      <span class=\"item-title text-right\">性别：</span>\n      <ul class=\"clearfix\">\n            <li>\n                <a href=\"javascript:;\" class=\"btn\" ng-class=\"{\'btn-default\': vm.filters.gender, \'btn-toggle\': !vm.filters.gender, \'active\': !vm.filters.gender}\" ng-click=\"vm.switch(\'gender\')\">\n                    全部\n                </a>\n            </li>\n            <li ng-repeat=\"item in vm.genderList\">\n                <a href=\"javascript:;\" class=\"btn\" ng-class=\"{\'btn-default\': vm.filters.gender !== item.value, \'btn-toggle\': vm.filters.gender == item.value, \'active\': vm.filters.gender == item.value}\" ng-click=\"vm.switch(\'gender\', item.value)\">\n                    {{ item.name }}\n                </a>\n            </li>\n        </ul>\n    </div>\n    \n    <div class=\"option-item large\">\n        <span class=\"item-title\">时间选择：</span>\n           \n        <div class=\"item-content\">\n             <a href=\"javascript:;\" class=\"btn\" ng-class=\"{\'btn-default\': true, \'btn-toggle active\': !vm.filters.start_date && !vm.filters.end_date}\" ng-click=\"vm.showAllTime()\">\n                    全部\n            </a>\n            <mc-datepicker id=\"startDatePicker\" start-date=\"vm.start_date\" max-date=\"vm.startTimeMaxLimit\" time-source=\"\" ctrl-alias=\"vm\" min-view=\"\'minutes\'\" change-by=\"close\"></mc-datepicker> --\n            <mc-datepicker id=\"endDatePicker\" start-date=\"vm.end_date\" min-date=\"vm.endTimeMinLimit\" max-date=\"vm.endTimeMaxLimit\" time-source=\"\" ctrl-alias=\"vm\" min-view=\"\'minutes\'\" change-time=\"vm.changeTime(\'end\')\" change-by=\"close\"></mc-datepicker>\n        </div>\n    </div>\n</section>\n\n<section class=\"content body-content body-content-compact block-ui block-ui-message-custom\" block-ui=\"main\">\n  <empty-tip ng-if=\"vm.list.length === 0\"></empty-tip>\n\n  <div class=\"panel\">\n    <table class=\"table table-striped text-center\">\n      <tr>\n        <th class=\"col-m-1 text-center\">姓名</th>\n        <th class=\"col-m-1 text-center\">性别</th>\n        <th class=\"col-m-1 text-center\">年龄</th>\n        <th class=\"col-m-2 text-center\">备注</th>\n        <th class=\"col-m-1 text-center\">操作</th>\n      </tr>\n      <tr ng-repeat=\"item in vm.list\">\n        <td>{{item.name}}</td>\n        <td>{{item.gender}}</td>\n        <td>{{item.age}}</td>\n        <td>{{item.note}}</td>\n        <td><a href=\"javascript:void(0)\" ng-click=\"vm.edit(item)\">编辑</a></td>\n      </tr>\n    </table>\n  </div>\n\n  <mc-pagination total-items=\"vm.pagination.count\" items-per-page=\"vm.pagination.pageSize\" current-page=\"vm.pagination.page\" page-change=\"vm.pageChanged()\"></mc-pagination>\n\n</section>\n");
  $templateCache.put("modules/enterprise/detail/index.html", "<section class=\"content-header\">\n  <a href=\"javascript:void(0)\" class=\"btn btn-default pull-right\" ng-click=\"$root.back();\">返回</a>\n  <h4 class=\"title\">{{vm.info.name}}</h4>\n</section>\n\n<section class=\"content body-content\" block-ui=\"main\">\n\n  <div class=\"page-header\">\n      <h4>工商信息</h4>\n  </div>\n\n  <div class=\"item-content\">\n    <div class=\"panel\">\n      <table class=\"table table-striped\">\n        <tr>\n          <th class=\"col-sm-1\">企业名称：</th>\n          <td class=\"col-sm-3\">{{vm.info.name}}</td>\n          <th class=\"col-sm-1\">社会信用代码：</th>\n          <td class=\"col-sm-3\">{{vm.info.credit_no}}</td>\n        </tr>\n        <tr>\n          <th class=\"col-sm-1\">工商注册号：</th>\n          <td class=\"col-sm-3\">{{vm.info.reg_no}}</td>\n          <th class=\"col-sm-1\">组织机构代码</th>\n          <td class=\"col-sm-3\">{{vm.info.org_no}}</td>\n        </tr>\n        <tr>\n          <th class=\"col-sm-1\">法定代表人：</th>\n          <td class=\"col-sm-3\">{{vm.info.oper_name}}</td>\n          <th class=\"col-sm-1\">成立时间：</th>\n          <td class=\"col-sm-3\">{{vm.info.start_date}}</td>\n        </tr>\n        <tr>\n          <th class=\"col-sm-1\">企业类型：</th>\n          <td class=\"col-sm-3\">{{vm.info.econ_kind}}</td>\n          <th class=\"col-sm-1\">经营状态：</th>\n          <td class=\"col-sm-3\">{{vm.info.status}}</td>\n        </tr>\n        <tr>\n          <th>注册资本：</th>\n          <td colspan=\"3\">{{vm.info.regist_capi}}</td>\n        </tr>\n        <tr>\n          <th>注册地址：</th>\n          <td colspan=\"3\">{{vm.info.address}}</td>\n        </tr>\n        <tr>\n          <th>营业期限：</th>\n          <td colspan=\"3\">自{{vm.info.term_start}}至{{vm.info.term_end}}止</td>\n        </tr>\n        <tr>\n          <th>营业范围：</th>\n          <td colspan=\"3\">{{vm.info.scope}}</td>\n        </tr>\n        <tr>\n          <th class=\"col-sm-1\">登记机关：</th>\n          <td class=\"col-sm-3\">{{vm.info.belong_org}}</td>\n          <th class=\"col-sm-1\">发照日期：</th>\n          <td class=\"col-sm-3\">{{vm.info.check_date}}</td>\n        </tr>\n      </table>\n    </div>\n  </div>\n\n</section>\n\n<section class=\"content body-content\" block-ui=\"main\">\n\n  <div class=\"page-header\">\n      <h4>管理团队</h4>\n  </div>\n\n  <div class=\"item-content\">\n    <div class=\"panel\">\n      <table class=\"table table-striped text-center\">\n        <tr>\n          <th class=\"col-sm-1 text-center\">序号</th>\n          <th class=\"col-sm-4 text-center\">姓名</th>\n          <th class=\"col-sm-7 text-center\">职位</th>\n        </tr>\n        <tr ng-repeat=\"item in vm.info.employees\">\n          <td>{{$index+1}}</td>\n          <td>{{item.name}}</td>\n          <td>{{item.job_title}}</td>\n        </tr>\n      </table>\n    </div>\n  </div>\n\n</section>\n\n<section class=\"content body-content\" block-ui=\"main\">\n  <div class=\"page-header\">\n      <h4>注册信息变更</h4>\n  </div>\n\n  <div class=\"item-content\">\n    <div class=\"panel\">\n      <table class=\"table table-striped\">\n        <tr>\n          <th class=\"col-sm-1\">变更日期</th>\n          <th class=\"col-sm-1\">变更项</th>\n          <th class=\"col-sm-4\">变更前</th>\n          <th class=\"col-sm-4\">变更后</th>\n        </tr>\n        <tr ng-repeat=\"item in vm.info.changerecords\">\n          <td>{{item.change_date}}</td>\n          <td>{{item.change_item}}</td>\n          <td>{{item.before_content}}</td>\n          <td>{{item.after_content}}</td>\n        </tr>\n      </table>\n    </div>\n  </div>\n\n</section>\n\n<section class=\"content body-content\" block-ui=\"main\">\n  <div class=\"page-header\">\n      <h4>股东及出资信息</h4>\n  </div>\n\n  <div class=\"item-content\">\n    <div class=\"panel\">\n      <table class=\"table table-striped text-center\">\n        <tr>\n          <th class=\"col-sm-1 text-center\">序号</th>\n          <th class=\"col-sm-4 text-center\">股东</th>\n          <th class=\"col-sm-4 text-center\"></th>\n        </tr>\n        <tr ng-repeat=\"item in vm.info.partners\">\n          <td>{{$index+1}}</td>\n          <td>{{item.name}}</td>\n          <td>{{item.stock_type}}</td>\n        </tr>\n      </table>\n    </div>\n  </div>\n\n</section>\n");
  $templateCache.put("modules/enterprise/list/index.html", "<section class=\"content-header\">\n  <button type=\"button\" class=\"btn btn-success pull-right m-l-sm\" style=\"position: relative; z-index: 2;\"\n          ng-click=\"vm.add()\"><i class=\"icon-Plus\"></i> 添加\n  </button>\n  <div class=\"options\">\n    <div class=\"option-item option-time\">\n      <ul class=\"clearfix\">\n        <li>\n          <div class=\"input-group search-box\">\n            <input ng-model=\"vm.filters.name\" type=\"text\" placeholder=\"请输查询\" class=\"form-control\"\n                    code=\"13\" key-event=\"vm.reSearch();\">\n            <span class=\"input-group-btn\">\n              <button ng-click=\"vm.reSearch()\" class=\"btn btn-default search\" type=\"button\"><i class=\"icon-search\"></i></button>\n            </span>\n          </div>\n        </li>\n      </ul>\n    </div>\n    <div class=\"option-item large\" ng-if=\"vm.access[\'enterprise.filter.role_a_state\']\">\n      <span class=\"item-title text-right\">主理状态：</span>\n      <ul class=\"clearfix\">\n          <!-- <li>\n              <a href=\"javascript:;\" class=\"btn\" ng-class=\"{\'btn-default\': vm.filters.gender, \'btn-toggle\': !vm.filters.gender, \'active\': !vm.filters.gender}\" ng-click=\"vm.switch(\'gender\')\">\n                  全部\n              </a>\n          </li> -->\n          <li ng-repeat=\"item in vm.roleMainStatus\">\n              <a href=\"javascript:;\" class=\"btn\" ng-class=\"{\'btn-default\': vm.filters.role_a_disable != item.value, \'btn-toggle\': vm.filters.role_a_disable == item.value, \'active\': vm.filters.role_a_disable == item.value}\" ng-click=\"vm.switch(\'role_a_disable\', item.value)\">\n                  {{ item.label }}\n              </a>\n          </li>\n      </ul>\n    </div>\n    <div class=\"option-item large\">\n      <span class=\"item-title text-right\">企业状态：</span>\n      <ul class=\"clearfix\">\n          <li>\n              <a href=\"javascript:;\" class=\"btn\" ng-class=\"{\'btn-default\': vm.filters.state !== undefined, \'btn-toggle\': vm.filters.state === undefined, \'active\': vm.filters.state === undefined}\" ng-click=\"vm.switch(\'state\')\">\n                  全部\n              </a>\n          </li>\n          <li ng-repeat=\"item in vm.enterpriseStateList\">\n              <a href=\"javascript:;\" class=\"btn\" ng-class=\"{\'btn-default\': vm.filters.state != item.value, \'btn-toggle\': vm.filters.state == item.value, \'active\': vm.filters.state == item.value}\" ng-click=\"vm.switch(\'state\', item.value)\">\n                  {{ item.label }}\n              </a>\n          </li>\n      </ul>\n    </div>\n</section>\n\n<section class=\"content body-content body-content-compact block-ui block-ui-message-custom\" block-ui=\"main\">\n  <empty-tip ng-if=\"vm.list.length === 0\"></empty-tip>\n\n  <div class=\"panel\" ng-if=\"vm.list.length > 0\">\n    <table class=\"table table-striped text-center\">\n      <tr>\n        <th class=\"col-m-1 text-center\">企业名称</th>\n        <th class=\"col-m-1 text-center\">企业地址</th>\n        <th class=\"col-m-1 text-center\">所属机构</th>\n        <th class=\"col-m-1 text-center\" ng-if=\"vm.access[\'enterprise.list.role_show\']\">主理</th>\n        <th class=\"col-m-2 text-center\" ng-if=\"vm.access[\'enterprise.list.role_show\']\">协理</th>\n        <th class=\"col-m-1 text-center\">企业状态</th>\n        <th class=\"col-m-1 text-center\">分配状态</th>\n        <th class=\"col-m-1 text-center\">操作</th>\n      </tr>\n      <tr ng-repeat=\"item in vm.list\">\n        <td>{{item.name}}</td>\n        <td>{{item.address}}</td>\n        <td>{{item.bank.name}}</td>\n        <td ng-if=\"vm.access[\'enterprise.list.role_show\']\">{{item.role_a.true_name}}</td>\n        <td ng-if=\"vm.access[\'enterprise.list.role_show\']\">{{item.role_b.true_name}}</td>\n        <td>{{item.state | filterValue: vm.enterpriseStateList}}</td>\n        <td>{{item.distribute_state | filterDistributeState}}</td>\n        <td>\n        <!-- ng-if=\"vm.profile.role == \'ROLE_BRANCH_PRESIDENT\'\" -->\n         <!-- ng-if=\"vm.profile.role == \'ROLE_END_PRESIDENT\'\" -->\n          <a href=\"javascript:void(0)\" ng-click=\"vm.assignBranch(item)\" ng-if=\"vm.access[\'enterprise.assign.branch\']\">分配机构</a>\n          <a href=\"javascript:void(0)\" ng-click=\"vm.assign(item)\" ng-if=\"vm.access[\'enterprise.assign.role\']\">分配客户经理</a>\n          <a ui-sref=\"enterprise.detail({id: item.id})\">查看详情</a>\n          <!-- <a href=\"javascript:void(0)\" ng-click=\"vm.del(item)\">删除</a>\n          <a href=\"javascript:void(0)\" ng-click=\"vm.frost(item)\">冻结</a> -->\n        </td>\n      </tr>\n    </table>\n  </div>\n\n  <mc-pagination total-items=\"vm.pagination.count\" items-per-page=\"vm.pagination.pageSize\" current-page=\"vm.pagination.page\" page-change=\"vm.pageChanged()\"></mc-pagination>\n\n</section>\n");
  $templateCache.put("modules/filter/blacklist/template.html", "<section class=\"content-header\">\n  <button type=\"button\" class=\"btn btn-success pull-right m-l-sm\" style=\"position: relative; z-index: 2;\"\n          ng-click=\"vm.add()\"><i class=\"icon-Plus\"></i> 添加\n  </button>\n\n  <div class=\"options\">\n    <div class=\"option-item option-time\">\n      <ul class=\"clearfix\">\n        <li>\n          <div class=\"input-group search-box\">\n            <input ng-model=\"vm.filters.name\" type=\"text\" placeholder=\"请输公司名查询\" class=\"form-control\"\n                    code=\"13\" key-event=\"vm.reSearch();\">\n            <span class=\"input-group-btn\">\n              <button ng-click=\"vm.reSearch()\" class=\"btn btn-default search\" type=\"button\"><i class=\"icon-search\"></i></button>\n            </span>\n          </div>\n        </li>\n      </ul>\n    </div>\n</section>\n\n<section class=\"content body-content body-content-compact block-ui block-ui-message-custom\" block-ui=\"main\">\n  <empty-tip ng-if=\"vm.list.length === 0\"></empty-tip>\n\n  <div class=\"panel\" ng-if=\"vm.list.length > 0\">\n    <table class=\"table table-striped text-center\">\n      <tr>\n        <th class=\"col-m-3 text-center\">公司名称</th>\n        <th class=\"col-m-3 text-center\">信息来源</th>\n        <th class=\"col-m-4 text-center\">备注</th>\n        <th class=\"col-m-2 text-center\">操作</th>\n      </tr>\n      <tr ng-repeat=\"item in vm.list\">\n        <td>{{item.name}}</td>\n        <td>{{item.source}}</td>\n        <td>{{item.note}}</td>\n        <!-- <td>\n          <span class=\"text-success\" ng-if=\"item.state==1\">正常</span>\n          <span class=\"text-danger\" ng-if=\"item.state==3\">已删除</span>\n        </td> -->\n        <td>\n          <a href=\"javascript:void(0)\" class=\"text-danger\" ng-click=\"vm.del(item)\">删除</a>\n        </td>\n      </tr>\n    </table>\n  </div>\n\n  <mc-pagination total-items=\"vm.pagination.count\" items-per-page=\"vm.pagination.pageSize\" current-page=\"vm.pagination.page\" page-change=\"vm.pageChanged()\"></mc-pagination>\n\n</section>\n\n");
  $templateCache.put("modules/filter/condition/index.html", "<section class=\"content-header clearfix\">\n  <h4 class=\"title\">\n    设置准入条件\n  </h4>\n  <!-- <a href=\"javascript:void(0)\" class=\"btn btn-default pull-right\" ng-click=\"$root.back();\">返回</a> -->\n</section>\n<section class=\"content body-content block-ui block-ui-message-custom message-detail p-m\" block-ui=\"main\">\n	<form class=\"form-horizontal\" name=\"vm.Form\">\n    <!-- <div class=\"form-group clearfix\">\n      <label for=\"noteInput\" class=\"col-sm-1 control-label\">标题：</label>\n      <div class=\"col-sm-5\">\n        <input type=\"text\" class=\"form-control\" ng-model=\"vm.inputInfo.title\" placeholder=\"请输入\"\n          validator=\"required\">\n      </div>\n    </div>\n    <div class=\"form-group clearfix\">\n	    <div class=\"clearfix\">\n	      <label for=\"noteInput\" class=\"col-sm-1 control-label\">内容：</label>\n      </div>\n    	<div class=\"col-sm-6\">\n				<mdeditor default-text=\"vm.defaultContent\" text=\"vm.inputInfo.content\"></mdeditor>\n				<input type=\"hidden\" ng-model=\"vm.inputInfo.content\" validator=\"required\" />\n			</div>\n			<div class=\"col-sm-6\">\n				<h5>内容预览</h5>\n				<p ng-bind-html=\"vm.html\" style=\"background: #fff; height: 306px; overflow: auto; border: 1px solid #ddd; padding: 5px;\"></p>\n			</div>\n    </div> -->\n    <div class=\"panel text-center\">\n      \n      <div class=\"form-group clearfix\">\n        <div class=\"col-sm-1 text-center\">分组号</div>\n        <div class=\"col-sm-11\">\n          <div class=\"col-sm-4\">项目</div>\n          <div class=\"col-sm-1\">类型</div>\n          <div class=\"col-sm-1\">条件</div>\n          <div class=\"col-sm-4\">值</div>\n          <div class=\"col-sm-2\">操作</div>\n        </div>\n      </div>\n      <div class=\"form-group clearfix\" ng-repeat=\"group in vm.list\">\n        <div class=\"col-sm-1\">{{$index + 1}}</div>\n        <div class=\"col-sm-11\">\n          <div class=\"form-group clearfix\" ng-repeat=\"item in group.list\">\n            <div class=\"col-sm-4\"><input type=\"text\" class=\"form-control\" ng-model=\"item.title\" placeholder=\"请输入名称\"\n            validator=\"required\"></div>\n            <div class=\"col-sm-1\">\n              <select class=\"form-control c-select\" ng-model=\"item.type\" ng-options=\"c.value as c.name for c in vm.typeList\" validator=\"required\">\n              </select>\n            </div>\n            <div class=\"col-sm-1\">\n              <select class=\"form-control c-select\" ng-model=\"item.condition\" ng-options=\"c.value as c.name for c in vm.conditionList[item.type]\" validator=\"required\">\n              </select>\n            </div>\n            <div class=\"col-sm-4\"><input type=\"text\" class=\"form-control\" ng-model=\"item.value\" placeholder=\"请输入值\"\n            validator=\"notNull\"></div>\n            <div class=\"col-sm-2\">\n              <a href=\"javascript:void(0);\" class=\"text-danger\" ng-click=\"vm.delItem(group, $index)\">删除</a>\n            </div>\n          </div>\n          <div class=\"form-group clearfix\">\n              <label class=\"control-label pull-left\">分组条件关系设置：</label>\n              <div class=\"col-sm-3\">\n                <select class=\"form-control c-select\" ng-model=\"group.condition\" ng-options=\"c.value as c.name for c in vm.groupCondition\" validator=\"required\">\n                </select>\n              </div>\n          </div>\n          <div class=\"m-t-md m-b-md m-l-xl text-left\">\n            <button class=\"btn btn-sm btn-default\" ng-click=\"vm.addItem(group)\">组内添加</button>\n            <button class=\"btn btn-sm btn-danger\" ng-click=\"vm.delGroup($index)\">删除组</button>\n          </div>\n        </div>\n      </div>\n    </div>\n    <div class=\"m-l-xl m-t-sm text-left\">\n      <button class=\"btn btn-default\" ng-click=\"vm.addGroup();\">添加组</button>\n    </div>\n    \n  </form>\n  <div class=\"modal-footer\">\n    <button type=\"button\" class=\"btn btn-success btn-sm\" ng-click=\"vm.submit(vm.Form)\"> 保存</button>\n  </div>\n</section>");
  $templateCache.put("modules/information/list/index.html", "<section class=\"content-header\">\n  <div class=\"options\">\n    <div class=\"option-item option-time\">\n      <ul class=\"clearfix\">\n        <li>\n          <div class=\"input-group search-box\">\n            <input ng-model=\"vm.filters.keyword\" type=\"text\" placeholder=\"请输查询\" class=\"form-control\"\n                    code=\"13\" key-event=\"vm.reSearch();\">\n            <span class=\"input-group-btn\">\n              <button ng-click=\"vm.reSearch()\" class=\"btn btn-default search\" type=\"button\"><i class=\"icon-search\"></i></button>\n            </span>\n          </div>\n        </li>\n      </ul>\n    </div>\n    <!-- <div class=\"option-item large\">\n      <span class=\"item-title text-right\">性别：</span>\n      <ul class=\"clearfix\">\n            <li>\n                <a href=\"javascript:;\" class=\"btn\" ng-class=\"{\'btn-default\': vm.filters.gender, \'btn-toggle\': !vm.filters.gender, \'active\': !vm.filters.gender}\" ng-click=\"vm.switch(\'gender\')\">\n                    全部\n                </a>\n            </li>\n            <li ng-repeat=\"item in vm.genderList\">\n                <a href=\"javascript:;\" class=\"btn\" ng-class=\"{\'btn-default\': vm.filters.gender !== item.value, \'btn-toggle\': vm.filters.gender == item.value, \'active\': vm.filters.gender == item.value}\" ng-click=\"vm.switch(\'gender\', item.value)\">\n                    {{ item.name }}\n                </a>\n            </li>\n        </ul>\n    </div> -->\n</section>\n\n<section class=\"content body-content body-content-compact block-ui block-ui-message-custom\" block-ui=\"main\">\n  <empty-tip ng-if=\"vm.list.length === 0\"></empty-tip>\n\n  <div class=\"panel\">\n    <table class=\"table table-striped text-center\">\n      <tr>\n        <th class=\"col-m-1 text-center\">企业名称</th>\n        <th class=\"col-m-1 text-center\">企业地址</th>\n        <th class=\"col-m-1 text-center\">支行</th>\n        <th class=\"col-m-1 text-center\">主理</th>\n        <th class=\"col-m-2 text-center\">协理</th>\n        <th class=\"col-m-1 text-center\">操作</th>\n      </tr>\n      <tr ng-repeat=\"item in vm.list\">\n        <td>{{item.company}}</td>\n        <td>{{item.company_address}}</td>\n        <td>{{item.company_address}}</td>\n        <td>{{item.manage_a.name}}<!-- <button class=\"btn btn-info m-l-sm\" ng-click=\"vm.changeManage(\'manage_a\', item)\">{{item.manage_a && item.manage_a.userid? \'变更\': \'分配\'}}</button> --></td>\n        <td>{{item.manage_b.name}}<!-- <button class=\"btn btn-info m-l-sm\" ng-click=\"vm.changeManage(\'manage_b\', item)\">{{item.manage_b && item.manage_b.userid? \'变更\': \'分配\'}}</button> --></td>\n        <td>\n          <a href=\"javascript:void(0)\" ng-click=\"vm.assignBranch(item)\">分配支行</a>\n          <a href=\"javascript:void(0)\" ng-click=\"vm.assign(item)\">分配</a>\n        </td>\n      </tr>\n    </table>\n  </div>\n\n  <mc-pagination total-items=\"vm.pagination.count\" items-per-page=\"vm.pagination.pageSize\" current-page=\"vm.pagination.page\" page-change=\"vm.pageChanged()\"></mc-pagination>\n\n</section>\n");
  $templateCache.put("modules/information/setting/index.html", "<section class=\"content-header\">\n  <h4 class=\"title\">采集信息设置</h4>\n</section>\n\n<section class=\"content body-content block-ui block-ui-message-custom\" block-ui=\"main\">\n  <form name=\"Form\" class=\"form-horizontal\">\n\n    <div class=\"form-group\" ng-repeat=\"project in vm.collectList\">\n      <div class=\"col-sm-1\">\n        <label class=\"control-label\">采集项目</label>\n        <p>\n          <label class=\"mc-radio\">\n            <input type=\"checkbox\" name=\"checkbox1\" ng-model=\"project.isRequired\">\n            <i class=\"icon-check\"></i>\n            必填\n          </label>\n        </p>\n      </div>\n      <div class=\"col-sm-2\">\n        <input type=\"text\" class=\"form-control\" ng-model=\"project.name\" validator=\"required\">\n      </div>\n      <div class=\"col-sm-6\">\n        <div class=\"clearfix\">\n          <label class=\"col-sm-2 control-label\">采集内容</label>\n        </div>\n        <div class=\"form-group\" ng-repeat=\"item in project.content\">\n          <div class=\"clearfix m-b-sm\">\n            <label class=\"col-sm-1 control-label\">名称</label>\n            <div class=\"col-sm-4\">\n              <input type=\"text\" class=\"form-control\" ng-model=\"item.title\" validator=\"required\">\n            </div>\n            <label class=\"col-sm-1 control-label\">类型</label>\n            <div class=\"col-sm-4\">\n              <select class=\"form-control c-select\" ng-model=\"item.type\" \n                ng-options=\"type.type as type.title for type in vm.typeList\" validator=\"required\" \n                ng-change=\"vm.typeChange(item)\"\n                uib-tooltip=\"请在下方填写选项内容\" tooltip-placement=\"top\" tooltip-trigger=\"none\" \n                tooltip-enable=\"item.needData\" tooltip-is-open=\"item.needData\">\n              </select>\n            </div>\n            <div class=\"col-sm-2 control-label text-center pull-right\">\n              <a href=\"javascript:void(0);\" class=\"text-danger\" ng-click=\"vm.deleteItem(project, $index)\">删除</a>\n            </div>\n          </div>\n          <div class=\"clearfix m-b-sm\">\n            <label class=\"col-sm-1 control-label\">描述</label>\n            <div class=\"col-sm-4\">\n              <input type=\"text\" class=\"form-control\" ng-model=\"item.description\">\n            </div>\n            <label class=\"mc-radio col-sm-5\">\n              <input type=\"checkbox\" name=\"checkbox1\" ng-model=\"item.isRequired\">\n              <i class=\"icon-check\"></i>\n              必填\n            </label>\n          </div>\n          <div class=\"clearfix\" ng-if=\"item.needData\">\n            <p class=\"text-tips\">下拉框/多选框必须填写选项内容</p>\n            <div class=\"clearfix m-b-sm\" ng-repeat=\"term in item.dataSource track by $index\">\n              <label class=\"col-sm-3 control-label\">选项{{$index + 1}}</label>\n              <div class=\"col-sm-6\">\n                <input type=\"text\" class=\"form-control\" ng-model=\"term.name\" validator=\"required\">\n              </div>\n              <div class=\"col-sm-2 text-center\">\n                <a href=\"javascript:void(0);\" class=\"btn btn-link\" ng-if=\"$index == 0\" ng-click=\"vm.addData(item)\">添加</a>\n                <a href=\"javascript:void(0);\" class=\"btn btn-link text-danger\" ng-if=\"$index > 0\" ng-click=\"vm.deleteData(item, $index)\">删除</a>\n              </div>\n            </div>\n            <!-- <label class=\"col-sm-3 control-label \">选项1</label>\n            <div class=\"col-sm-6 m-b-sm\">\n              <input type=\"text\" class=\"form-control\" ng-model=\"vm.inputInfo.name\" validator=\"required\">\n            </div>\n            <div class=\"col-sm-2 text-center m-b-sm\">\n              <a href=\"javascript:void(0);\" class=\"btn btn-link text-danger\">删除</a>\n            </div>\n            <label class=\"col-sm-3 control-label m-b-sm\">选项1</label>\n            <div class=\"col-sm-6 m-b-sm\">\n              <input type=\"text\" class=\"form-control\" ng-model=\"vm.inputInfo.name\" validator=\"required\">\n            </div>\n            <div class=\"col-sm-2 text-center m-b-sm\">\n              <a href=\"javascript:void(0);\" class=\"btn btn-link text-danger\">删除</a>\n            </div> -->\n          </div>\n        </div>\n\n        <div class=\"m-l-xl m-t-xs\">\n          <a href=\"javascript:void(0);\" class=\"btn btn-sm btn-default\" ng-click=\"vm.addItem(project)\">添加字段</a>\n        </div>\n      </div>\n      <div class=\"col-sm-1\">\n        <button class=\"btn btn-danger\" ng-click=\"vm.deleteProject($index)\">删除项目</button>\n      </div>\n    </div>\n  </form>\n  <div class=\"m-l-xl m-b-md\">\n    <button class=\"btn btn-default\" ng-click=\"vm.addProject()\">添加项目</button>\n  </div>\n  <div class=\"m-l-xl m-b-md text-center\">\n    <button type=\"button\" class=\"btn btn-success btn-sm\" ng-click=\"vm.submit(Form)\">保存</button>\n  </div>\n</section>\n");
  $templateCache.put("modules/investment/list/index.html", "<section class=\"content-header\">\n    <button type=\"button\" class=\"btn btn-success pull-right m-l-sm\" style=\"position: relative; z-index: 2;\"\n            ng-click=\"vm.addCompany()\"><i class=\"icon-Plus\"></i> 添加\n    </button>\n\n    <button type=\"button\" class=\"btn btn-info pull-right\" style=\"position: relative; z-index: 2;\" data-toggle=\"modal\" data-target=\".pop-player\"\n            ng-click=\"$emit(\'batchUploadVc\');\"><i class=\"icon-Plus\"></i> 批量录入\n    </button>\n    <div>\n      <mc-batch-upload-vc></mc-batch-upload-vc>\n    </div>\n\n  <div class=\"options\">\n    <div class=\"option-item option-time\">\n      <ul class=\"clearfix\">\n        <li>\n          <div class=\"input-group search-box\">\n            <input ng-model=\"vm.filters.name\" type=\"text\" placeholder=\"请输查询\" class=\"form-control\"\n                    code=\"13\" key-event=\"vm.reSearch();\">\n            <span class=\"input-group-btn\">\n              <button ng-click=\"vm.reSearch()\" class=\"btn btn-default search\" type=\"button\"><i class=\"icon-search\"></i></button>\n            </span>\n          </div>\n        </li>\n      </ul>\n    </div>\n    <!-- <div class=\"option-item large\">\n      <span class=\"item-title text-right\">所属机构：</span>\n      <ul class=\"clearfix\">\n            <li>\n                <select name=\"\" id=\"\" class=\"form-control c-select\" \n                  ng-model=\"vm.filters.agency\" ng-options=\"item for item in vm.agencyList\" ng-change=\"vm.changeAgency()\">\n                  <option value=\"\">全部</option>\n                </select>\n            </li>\n        </ul>\n    </div> -->\n</section>\n\n<section class=\"content body-content body-content-compact block-ui block-ui-message-custom\" block-ui=\"main\">\n  <empty-tip ng-if=\"vm.list.length === 0\"></empty-tip>\n\n  <div class=\"panel\" ng-if=\"vm.list.length > 0\">\n    <table class=\"table table-striped text-center\">\n      <tr>\n        <th class=\"col-m-5 text-center\">公司名称</th>\n        <th class=\"col-m-5 text-center\">公司简称</th>\n        <th class=\"col-m-1 text-center\">状态</th>\n        <!-- <th class=\"col-m-2 text-center\">备注</th> -->\n        <th class=\"col-m-2 text-center\">操作</th>\n      </tr>\n      <tr ng-repeat=\"item in vm.list\">\n        <td>{{item.name}}</td>\n        <td>{{item.vc_name}}</td>\n        <!-- <td>{{item.agency}}</td> -->\n        <td>\n          <span class=\"text-success\" ng-if=\"item.state==1\">正常</span>\n          <span class=\"text-danger\" ng-if=\"item.state==3\">已删除</span>\n        </td>\n        <td>\n          <a href=\"javascript:void(0)\" class=\"text-danger\" ng-click=\"vm.delete(item)\" ng-if=\"item.state==1\">删除</a>\n          <a href=\"javascript:void(0)\" ng-click=\"vm.deleteCancel(item)\" ng-if=\"item.state==3\">取消删除</a>\n        </td>\n      </tr>\n    </table>\n  </div>\n\n  <mc-pagination total-items=\"vm.pagination.count\" items-per-page=\"vm.pagination.pageSize\" current-page=\"vm.pagination.page\" page-change=\"vm.pageChanged()\"></mc-pagination>\n\n</section>\n\n");
  $templateCache.put("modules/loan/decision/index.html", "<section class=\"content-header\">\n  <h4 class=\"title\">贷款辅助决策信息修正</h4>\n</section>\n\n<section class=\"content body-content block-ui block-ui-message-custom\" block-ui=\"main\">\n  <form name=\"Form\" class=\"form-horizontal\">\n\n    <div class=\"form-group\" ng-repeat=\"project in vm.loanList\">\n      <div class=\"col-sm-2\" style=\"width:10%\">\n        <label class=\"control-label\">条件名称：</label>\n      </div>\n      <div class=\"col-sm-2\">\n        <label class=\"control-label\">{{project.title}}</label>\n      </div>\n      <div class=\"col-sm-1\">\n        <label class=\"control-label\">字段值：</label>\n      </div>\n      <div class=\"col-sm-3\">\n          <input type=\"text\" class=\"form-control\" ng-model=\"project.value\" validator=\"required\">\n      </div>\n      <div class=\"col-sm-1\">\n        <label class=\"control-label\">分数：</label>\n      </div>\n      <div class=\"col-sm-1\">\n        <label class=\"control-label\">{{project.point}}</label>\n      </div>\n    </div>\n    <div class=\"form-group\">\n      <div class=\"col-sm-1\">\n        <label class=\"control-label\">总分：</label>\n      </div>\n      <div class=\"col-sm-2\">\n        <label class=\"control-label\">{{vm.getTotal()}}</label>\n      </div>\n    </div>\n  </form>\n  <div class=\"m-l-xl m-b-md\">\n    <button class=\"btn btn-primary\" ng-click=\"vm.reCount(Form)\">重新计算</button>\n    <button type=\"button\" class=\"btn btn-success btn-sm\" ng-click=\"vm.submit(Form)\">保存</button>\n  </div>\n</section>\n");
  $templateCache.put("modules/loan/list/index.html", "<section class=\"content-header\">\n  <div class=\"options\">\n    <div class=\"option-item option-time\">\n      <ul class=\"clearfix\">\n        <li>\n          <div class=\"input-group search-box\">\n            <input ng-model=\"vm.filters.name\" type=\"text\" placeholder=\"请输查询\" class=\"form-control\"\n                    code=\"13\" key-event=\"vm.reSearch();\">\n            <span class=\"input-group-btn\">\n              <button ng-click=\"vm.reSearch()\" class=\"btn btn-default search\" type=\"button\"><i class=\"icon-search\"></i></button>\n            </span>\n          </div>\n        </li>\n      </ul>\n    </div>\n    <!-- \n    <div class=\"option-item large\">\n      <span class=\"item-title text-right\">主理状态：</span>\n      <ul class=\"clearfix\">\n          <li>\n              <a href=\"javascript:;\" class=\"btn\" ng-class=\"{\'btn-default\': vm.filters.gender, \'btn-toggle\': !vm.filters.gender, \'active\': !vm.filters.gender}\" ng-click=\"vm.switch(\'gender\')\">\n                  全部\n              </a>\n          </li>\n          <li ng-repeat=\"item in vm.roleMainStatus\">\n              <a href=\"javascript:;\" class=\"btn\" ng-class=\"{\'btn-default\': vm.filters.role_a_disable != item.value, \'btn-toggle\': vm.filters.role_a_disable == item.value, \'active\': vm.filters.role_a_disable == item.value}\" ng-click=\"vm.switch(\'role_a_disable\', item.value)\">\n                  {{ item.label }}\n              </a>\n          </li>\n      </ul>\n    </div>\n    <div class=\"option-item large\">\n      <span class=\"item-title text-right\">企业状态：</span>\n      <ul class=\"clearfix\">\n          <li>\n              <a href=\"javascript:;\" class=\"btn\" ng-class=\"{\'btn-default\': vm.filters.state !== undefined, \'btn-toggle\': vm.filters.state === undefined, \'active\': vm.filters.state === undefined}\" ng-click=\"vm.switch(\'state\')\">\n                  全部\n              </a>\n          </li>\n          <li ng-repeat=\"item in vm.enterpriseStateList\">\n              <a href=\"javascript:;\" class=\"btn\" ng-class=\"{\'btn-default\': vm.filters.state != item.value, \'btn-toggle\': vm.filters.state == item.value, \'active\': vm.filters.state == item.value}\" ng-click=\"vm.switch(\'state\', item.value)\">\n                  {{ item.label }}\n              </a>\n          </li>\n      </ul>\n    </div>\n    -->\n</section>\n\n<section class=\"content body-content body-content-compact block-ui block-ui-message-custom\" block-ui=\"main\">\n  <empty-tip ng-if=\"vm.list.length === 0\"></empty-tip>\n\n  <div class=\"panel\" ng-if=\"vm.list.length > 0\">\n    <table class=\"table table-striped text-center\">\n      <tr>\n        <th class=\"col-m-1 text-center\">企业名称</th>\n        <th class=\"col-m-1 text-center\">企业地址</th>\n        <th class=\"col-m-1 text-center\">所属机构</th>\n        <th class=\"col-m-1 text-center\">评分</th>\n        <th class=\"col-m-1 text-center\">企业状态</th>\n        <th class=\"col-m-1 text-center\">操作</th>\n      </tr>\n      <tr ng-repeat=\"item in vm.list\">\n        <td>{{item.name}}</td>\n        <td>{{item.address}}</td>\n        <td>{{item.bank.name}}</td>\n        <td>{{item.loan_points}}</td>\n        <td>{{item.state | filterValue: vm.enterpriseStateList}}</td>\n        <td>\n          <a ui-sref=\"loan.decision({id: item.id})\">修正企业贷款信息</a>\n        </td>\n      </tr>\n    </table>\n  </div>\n\n  <mc-pagination total-items=\"vm.pagination.count\" items-per-page=\"vm.pagination.pageSize\" current-page=\"vm.pagination.page\" page-change=\"vm.pageChanged()\"></mc-pagination>\n\n</section>\n");
  $templateCache.put("modules/loan/setting/index.html", "<section class=\"content-header\">\n  <h4 class=\"title\">贷款决策条件设置</h4>\n</section>\n\n<section class=\"content body-content block-ui block-ui-message-custom\" block-ui=\"main\">\n  <form name=\"Form\" class=\"form-horizontal\">\n    <div class=\"form-group\" ng-repeat-start=\"loan in vm.loanList\">\n      <div class=\"col-sm-2\">\n        <label class=\"control-label\">条件分类名称</label>\n      </div>\n      <div class=\"col-sm-2\">\n        <input type=\"text\" class=\"form-control\" ng-model=\"loan.title\" validator=\"required\">\n      </div>\n      <div class=\"col-sm-2\">\n        <label class=\"control-label\">分类总分</label>\n      </div>\n      <div class=\"col-sm-2\">\n        <input type=\"text\" class=\"form-control\" ng-model=\"loan.point\" validator=\"required\">\n      </div>\n      <div class=\"col-sm-2 text-right\">\n          <a data-target=\"#project{{$index}}\" data-toggle=\"collapse\" class=\"btn btn-link\" ng-click=\"toggle=!toggle\"><span ng-hide=\"toggle\">编辑 <i class=\"icon-arrow-down small\"></i></span><span ng-show=\"toggle\">收起 <i class=\"icon-arrow-up small\"></i></span></i></a>\n      </div>\n    </div>\n    <div id=\"project{{$index}}\" class=\"collapse\" ng-repeat-end>\n      <div class=\"form-group\" ng-repeat=\"project in loan.condition_list\">\n        <div class=\"col-sm-1\">\n          <label class=\"control-label\">条件名称</label>\n        </div>\n        <div class=\"col-sm-2\">\n          <input type=\"text\" class=\"form-control\" ng-model=\"project.title\" validator=\"required\">\n        </div>\n        <div class=\"col-sm-7\">\n          <div class=\"clearfix\">\n            <label class=\"col-sm-2 control-label\">条件类型</label>\n            <div class=\"col-sm-2\">\n              <div class=\"btn-group\">\n                <button type=\"button\" class=\"btn btn-default dropdown-toggle\" data-toggle=\"dropdown\" aria-haspopup=\"true\" aria-expanded=\"false\">\n                  {{vm.typeList[project.option_type]}}\n                  <span class=\"caret\"></span>\n                </button>\n                <ul class=\"dropdown-menu\" style=\"min-width: 60px\">\n                  <li><a ng-click=\"project.option_type=\'integer\';vm.typeChange(project)\" href=\"javascript:void(0)\">数值</a></li>\n                  <li><a ng-click=\"project.option_type=\'string\';vm.typeChange(project)\" href=\"javascript:void(0)\">文本</a></li>\n                </ul>\n              </div>\n            </div>\n            <div class=\"col-sm-2\">\n              <label class=\"control-label\">默认分数</label>\n            </div>\n            <div class=\"col-sm-2\">\n              <input type=\"text\" class=\"form-control\" ng-model=\"project.default_point\" validator=\"required\">\n            </div>\n            <!-- <div class=\"col-sm-2 text-center pull-right control-label\">\n              <a href=\"javascript:void(0);\" ng-click=\"vm.addItem(project)\">添加字段</a>\n            </div> -->\n          </div>\n          <div class=\"form-group\" ng-repeat=\"item in project.options\" style=\"margin:0px;\">\n            <div class=\"clearfix m-b-sm\">\n              <label class=\"col-sm-1 control-label\" style=\"width: 10%\">符号</label>\n              <div class=\"col-sm-2\">\n                <div class=\"btn-group\">\n                  <button type=\"button\" class=\"btn btn-default dropdown-toggle\" data-toggle=\"dropdown\" aria-haspopup=\"true\" aria-expanded=\"false\">\n                    {{vm.conditionList[project.option_type][item.condition]}}\n                    <span class=\"caret\"></span>\n                  </button>\n                  <ul class=\"dropdown-menu\" style=\"min-width: 60px\">\n                    <li ng-repeat=\"(id, condition) in vm.conditionList[project.option_type]\"><a ng-click=\"item.condition=id;\" href=\"javascript:void(0)\">{{condition}}</a></li>\n                  </ul>\n                </div>\n              </div>\n              <label class=\"col-sm-1 control-label\" style=\"width: 13%\">字段值</label>\n              <div class=\"col-sm-3\">\n                <input type=\"text\" class=\"form-control\" ng-model=\"item.value\" validator=\"required\">\n              </div>\n              <label class=\"col-sm-1 control-label\" style=\"width: 10%\">分数</label>\n              <div class=\"col-sm-2\" style=\"width: 12%\">\n                <input type=\"text\" class=\"form-control\" ng-model=\"item.point\" validator=\"required\">\n              </div>\n              <div class=\"col-sm-1 control-label pull-right\" style=\"width: 10%\">\n                <a href=\"javascript:void(0);\" class=\"text-danger\" ng-click=\"vm.deleteItem(project, $index)\">删除</a>\n              </div>\n            </div>\n          </div>\n          <div class=\"form-group\">\n            <div class=\"col-sm-4 text-center pull-right control-label\">\n              <a href=\"javascript:void(0);\" ng-click=\"vm.addItem(project)\">添加条件选项</a>\n            </div>\n          </div>\n        </div>\n        <div class=\"col-sm-1\">\n          <button class=\"btn btn-danger\" ng-click=\"vm.deleteProject($index)\">删除条件</button>\n        </div>\n      </div>\n      <div class=\"form-group\">\n        <button class=\"btn btn-default\" ng-click=\"vm.addProject(loan)\">添加条件</button>\n      </div>\n    </div>\n    <div class=\"form-group\">\n      <button class=\"btn btn-default\" ng-click=\"vm.addCondition()\">添加分类</button>\n    </div>\n  </form>\n  <div class=\"m-l-xl m-b-md\">\n    <button type=\"button\" class=\"btn btn-success btn-sm\" ng-click=\"vm.submit(Form)\">保存</button>\n  </div>\n</section>\n");
  $templateCache.put("modules/log/list/index.html", "<section class=\"content-header\">\n  <div class=\"options\">\n    <div class=\"option-item option-time\">\n      <ul class=\"clearfix\">\n        <li>\n          <div class=\"input-group search-box\">\n            <input ng-model=\"vm.filters.module\" type=\"text\" placeholder=\"请输模块名查询\" class=\"form-control\"\n                    code=\"13\" key-event=\"vm.reSearch();\">\n            <span class=\"input-group-btn\">\n              <button ng-click=\"vm.reSearch()\" class=\"btn btn-default search\" type=\"button\"><i class=\"icon-search\"></i></button>\n            </span>\n          </div>\n        </li>\n        <li>\n          <mc-datepicker id=\"startDatePicker\" start-date=\"vm.start_date\" max-date=\"vm.startTimeMaxLimit\" time-source=\"\" ctrl-alias=\"vm\" min-view=\"\'minutes\'\" change-time=\"vm.changeTime(\'start\')\" change-by=\"close\"></mc-datepicker> --\n          <mc-datepicker id=\"endDatePicker\" start-date=\"vm.end_date\" min-date=\"vm.endTimeMinLimit\" max-date=\"vm.endTimeMaxLimit\" time-source=\"\" ctrl-alias=\"vm\" min-view=\"\'minutes\'\" change-time=\"vm.changeTime(\'end\')\" change-by=\"close\"></mc-datepicker>\n        </li>\n      </ul>\n    </div>\n</section>\n\n<section class=\"content body-content body-content-compact block-ui block-ui-message-custom\" block-ui=\"main\">\n  <empty-tip ng-if=\"vm.list.length === 0\"></empty-tip>\n\n  <div class=\"panel\">\n    <table class=\"table table-striped text-center\">\n      <tr>\n        <th class=\"col-m-1 text-center\">时间</th>\n        <th class=\"col-m-1 text-center\">模块</th>\n        <th class=\"col-m-1 text-center\">操作</th>\n        <th class=\"col-m-1 text-center\">操作参数</th>\n        <th class=\"col-m-1 text-center\">操作人</th>\n      </tr>\n      <tr ng-repeat=\"item in vm.list\">\n        <td>{{item.created}}</td>\n        <td>{{item.module}}</td>\n        <td>{{item.action}}</td>\n        <td>{{item.data}}</td>\n        <td>{{item.operator}}</td>\n      </tr>\n    </table>\n  </div>\n\n  <mc-pagination total-items=\"vm.pagination.count\" items-per-page=\"vm.pagination.pageSize\" current-page=\"vm.pagination.page\" page-change=\"vm.pageChanged()\"></mc-pagination>\n\n</section>\n");
  $templateCache.put("modules/message/detail/index.html", "<section class=\"content-header clearfix\">\n  <h4 class=\"title pull-left\">\n    {{vm.info.title}}\n  </h4>\n  <a href=\"javascript:void(0)\" class=\"btn btn-default pull-right\" ng-click=\"$root.back();\">返回</a>\n  <button type=\"button\" class=\"btn btn-danger pull-right m-r\" ng-click=\"vm.delete()\">删除</button>\n</section>\n<section class=\"content body-content block-ui block-ui-message-custom message-detail p-m\" block-ui=\"main\">\n<h5>内容：</h5>\n<p>{{vm.info.content}}</p>\n<div ng-if=\"vm.info.link\">\n  <a href=\"{{vm.info.link}}\">点此查看</a>\n</div>\n</section>");
  $templateCache.put("modules/message/list/template.html", "<section class=\"content-header\">\n  <h4 class=\"title\">消息列表</h4>\n</section>\n\n<section class=\"content body-content body-content-compact block-ui block-ui-message-custom message-list\" block-ui=\"main\">\n  <empty-tip ng-if=\"vm.list.length === 0\"></empty-tip>\n\n  <div class=\"panel\" ng-if=\"vm.list.length > 0\">\n    <table class=\"table table-striped text-center\">\n      <tr>\n        <th class=\"col-m-1 text-center\">\n          <!-- <label class=\"mc-radio\">\n            <input type=\"checkbox\" ng-model=\"vm.selectAll\" ng-change=\"vm.toggleAll()\" />\n            <i class=\"icon-check\"></i>\n          </label> -->\n        </th>\n        <th class=\"col-m-10 text-left\">标题</th>\n        <th class=\"col-m-1 text-center\"></th>\n      </tr>\n      <tr ng-repeat=\"item in vm.list\">\n        <td>\n          <!-- <label class=\"mc-radio\">\n            <input type=\"checkbox\" ng-model=\"item.checked\" ng-change=\"vm.checkAll()\" />\n            <i class=\"icon-check\"></i>\n          </label> -->\n        </td>\n        <td class=\"text-left\">\n          <a ui-sref=\"message.detail({id: item.id})\" style=\"color: #323232;\">\n            <strong ng-if=\"item.state === 0\">{{item.title}}</strong>\n            <span ng-if=\"item.state !== 0\">{{item.title}}</span>\n          </a>\n        </td>\n        <td><a ui-sref=\"message.detail({id: item.id})\">查看<i class=\"icon-angle-right\"></i></a></td>\n      </tr>\n    </table>\n  </div>\n<!--   <div>\n    <button type=\"button\" class=\"btn btn-default\" ng-click=\"vm.markedRead()\">标记已读</button>\n    <button type=\"button\" class=\"btn btn-danger\" ng-click=\"vm.delete()\">删除</button>\n  </div> -->\n\n  <mc-pagination total-items=\"vm.pagination.count\" items-per-page=\"vm.pagination.pageSize\" current-page=\"vm.pagination.page\" page-change=\"vm.pageChanged()\"></mc-pagination>\n\n</section>\n");
  $templateCache.put("modules/person/detail/index.html", "<section class=\"content-header clearfix\">\n    <div class=\"page-header\"><h4>资料设置</h4></div>\n    <div class=\"form-horizontal\">\n        <div class=\"form-group\">\n            <label for=\"inputName\" class=\"col-sm-2 control-label\">姓名</label>\n            <div class=\"col-sm-2\">\n                <input type=\"text\" class=\"form-control\" id=\"inputName\" ng-model=\"vm.person.true_name\" placeholder=\"\">\n            </div>\n        </div>\n        <div class=\"form-group\">\n            <label for=\"inputPhone\" class=\"col-sm-2 control-label\">手机号</label>\n            <div class=\"col-sm-4\">\n                <input type=\"text\" class=\"form-control\" id=\"inputPhone\" ng-model=\"vm.person.phone\" placeholder=\"\">\n            </div>\n        </div>\n        <div class=\"form-group\">\n            <label for=\"inputPwd\" class=\"col-sm-2 control-label\">新密码</label>\n            <div class=\"col-sm-4\">\n                <input type=\"text\" class=\"form-control\" id=\"inputPwd\" ng-model=\"vm.person.new_password\" placeholder=\"\">\n            </div>\n        </div>\n        <div class=\"form-group\">\n            <label for=\"\" class=\"col-sm-2 control-label\">角色信息</label>\n            <div class=\"btn-group col-sm-2\">\n              <button type=\"button\" class=\"btn btn-default dropdown-toggle\" data-toggle=\"dropdown\" aria-haspopup=\"true\" aria-expanded=\"false\">\n                {{vm.person.role_name}}\n                <span class=\"caret\"></span>\n              </button>\n              <ul class=\"dropdown-menu\">\n                <li ng-repeat=\"role in vm.roleList\"><a ng-click=\"vm.person.role_name=role.name;vm.person.role=role.value\" href=\"javascript:void(0)\">{{role.name}}</a></li>\n              </ul>\n            </div>\n        </div>\n        <div class=\"form-group\">\n            <label for=\"\" class=\"col-sm-2 control-label\">用户状态</label>\n            <div class=\"btn-group col-sm-2\">\n              <button type=\"button\" class=\"btn btn-default dropdown-toggle\" data-toggle=\"dropdown\" aria-haspopup=\"true\" aria-expanded=\"false\">\n                {{vm.stateArr[vm.person.state]}}\n                <span class=\"caret\"></span>\n              </button>\n              <ul class=\"dropdown-menu\">\n                <li><a ng-click=\"vm.person.state=0\" href=\"javascript:void(0)\">未激活</a></li>\n                <li><a ng-click=\"vm.person.state=1\" href=\"javascript:void(0)\">正常</a></li>\n                <li><a ng-click=\"vm.person.state=2\" href=\"javascript:void(0)\">已冻结</a></li>\n                <li><a ng-click=\"vm.person.state=3\" href=\"javascript:void(0)\">已删除</a></li>\n              </ul>\n            </div>\n        </div>\n        <div class=\"form-group\">\n            <button type=\"button\" ng-click=\"vm.setUser()\" class=\"btn btn-success\">提交</button>\n        </div>\n    </div>\n\n</section>");
  $templateCache.put("modules/process/add/index.html", "<section class=\"content-header clearfix\">\n  <h4 class=\"title pull-left\">\n    {{vm.id? \'编辑\': \'添加\'}}话术\n  </h4>\n  <a href=\"javascript:void(0)\" class=\"btn btn-default pull-right\" ng-click=\"$root.back();\">返回</a>\n  <button type=\"button\" class=\"btn btn-danger pull-right m-r\" ng-click=\"vm.delete(vm.Form)\" ng-if=\"vm.id\">删除</button>\n</section>\n<section class=\"content body-content block-ui block-ui-message-custom message-detail p-m\" block-ui=\"main\">\n	<form class=\"form-horizontal\" name=\"vm.Form\">\n    <div class=\"form-group clearfix\">\n      <label for=\"noteInput\" class=\"col-sm-1 control-label\">标题：</label>\n      <div class=\"col-sm-5\">\n        <input type=\"text\" class=\"form-control\" ng-model=\"vm.inputInfo.title\" placeholder=\"请输入\"\n          validator=\"required\">\n      </div>\n    </div>\n    <div class=\"form-group clearfix\">\n	    <div class=\"clearfix\">\n	      <label for=\"noteInput\" class=\"col-sm-1 control-label\">内容：</label>\n      </div>\n    	<div class=\"col-sm-6\">\n				<mdeditor default-text=\"vm.defaultContent\" text=\"vm.inputInfo.content\"></mdeditor>\n				<input type=\"hidden\" ng-model=\"vm.inputInfo.content\" validator=\"required\" />\n			</div>\n			<div class=\"col-sm-6\">\n				<h5>内容预览</h5>\n				<p ng-bind-html=\"vm.html\" style=\"background: #fff; height: 306px; overflow: auto; border: 1px solid #ddd; padding: 5px;\"></p>\n			</div>\n    </div>\n    \n  </form>\n  <div class=\"modal-footer\">\n    <button type=\"button\" class=\"btn btn-success btn-sm\" ng-click=\"vm.submit(vm.Form)\"> 保存</button>\n  </div>\n</section>");
  $templateCache.put("modules/process/list/template.html", "<section class=\"content-header\">\n  <h4 class=\"title\">消息列表</h4>\n</section>\n\n<section class=\"content body-content body-content-compact block-ui block-ui-message-custom message-list\" block-ui=\"main\">\n  <empty-tip ng-if=\"vm.list.length === 0\"></empty-tip>\n\n  <div class=\"panel\" ng-if=\"vm.list.length > 0\">\n    <table class=\"table table-striped text-center\">\n      <tr>\n        <th class=\"col-m-1 text-center\">\n          <!-- <label class=\"mc-radio\">\n            <input type=\"checkbox\" ng-model=\"vm.selectAll\" ng-change=\"vm.toggleAll()\" />\n            <i class=\"icon-check\"></i>\n          </label> -->\n        </th>\n        <th class=\"col-m-10 text-left\">标题</th>\n        <th class=\"col-m-1 text-center\"></th>\n      </tr>\n      <tr ng-repeat=\"item in vm.list\">\n        <td>\n          <!-- <label class=\"mc-radio\">\n            <input type=\"checkbox\" ng-model=\"item.checked\" ng-change=\"vm.checkAll()\" />\n            <i class=\"icon-check\"></i>\n          </label> -->\n        </td>\n        <td class=\"text-left\">\n          <a ui-sref=\"message.detail({id: item.id})\" style=\"color: #323232;\">\n            <strong ng-if=\"item.state === 0\">{{item.title}}</strong>\n            <span ng-if=\"item.state !== 0\">{{item.title}}</span>\n          </a>\n        </td>\n        <td><a ui-sref=\"message.detail({id: item.id})\">查看<i class=\"icon-angle-right\"></i></a></td>\n      </tr>\n    </table>\n  </div>\n<!--   <div>\n    <button type=\"button\" class=\"btn btn-default\" ng-click=\"vm.markedRead()\">标记已读</button>\n    <button type=\"button\" class=\"btn btn-danger\" ng-click=\"vm.delete()\">删除</button>\n  </div> -->\n\n  <mc-pagination total-items=\"vm.pagination.count\" items-per-page=\"vm.pagination.pageSize\" current-page=\"vm.pagination.page\" page-change=\"vm.pageChanged()\"></mc-pagination>\n\n</section>\n");
  $templateCache.put("modules/process/tips/template.html", "<section class=\"content-header\">\n  <h4 class=\"title\">话术列表</h4>\n</section>\n\n<section class=\"content body-content body-content-compact block-ui block-ui-message-custom message-list\" block-ui=\"main\">\n  <empty-tip ng-if=\"vm.list.length === 0\"></empty-tip>\n\n  <div class=\"panel\" ng-if=\"vm.list.length > 0\">\n    <table class=\"table table-striped text-center\">\n      <tr>\n        <th class=\"col-m-1 text-center\">\n          <!-- <label class=\"mc-radio\">\n            <input type=\"checkbox\" ng-model=\"vm.selectAll\" ng-change=\"vm.toggleAll()\" />\n            <i class=\"icon-check\"></i>\n          </label> -->\n        </th>\n        <th class=\"col-m-10 text-left\">标题</th>\n        <th class=\"col-m-1 text-center\"></th>\n      </tr>\n      <tr ng-repeat=\"item in vm.list\">\n        <td>\n          <!-- <label class=\"mc-radio\">\n            <input type=\"checkbox\" ng-model=\"item.checked\" ng-change=\"vm.checkAll()\" />\n            <i class=\"icon-check\"></i>\n          </label> -->\n        </td>\n        <td class=\"text-left\">\n          {{item.title}}\n        </td>\n        <td><a ui-sref=\"process.add({id: item.id})\">编辑<i class=\"icon-angle-right\"></i></a></td>\n      </tr>\n    </table>\n  </div>\n<!--   <div>\n    <button type=\"button\" class=\"btn btn-default\" ng-click=\"vm.markedRead()\">标记已读</button>\n    <button type=\"button\" class=\"btn btn-danger\" ng-click=\"vm.delete()\">删除</button>\n  </div> -->\n\n  <mc-pagination total-items=\"vm.pagination.count\" items-per-page=\"vm.pagination.pageSize\" current-page=\"vm.pagination.page\" page-change=\"vm.pageChanged()\"></mc-pagination>\n\n</section>\n");
  $templateCache.put("modules/sysconfig/time/index.html", "<section class=\"content-header clearfix\">\n    <h4>刷新时间设置</h4>\n</section>\n<section class=\"content body-content\" block-ui=\"main\">\n\n    <div class=\"form-horizontal\">\n        <div class=\"form-group\">\n            <label for=\"inputName\" class=\"col-sm-2 control-label\">刷新时间</label>\n            <div class=\"col-sm-2\">\n                <input type=\"text\" class=\"form-control\" id=\"inputName\" ng-model=\"vm.keyValue\" placeholder=\"\">\n            </div>\n        </div>\n        <div class=\"form-group\">\n            <button type=\"button\" ng-click=\"vm.setConfig()\" class=\"btn btn-success\">提交</button>\n        </div>\n    </div>\n</section>");
  $templateCache.put("modules/account/modals/add/template.html", "<div class=\"modal-header\">\n  <!-- <button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-label=\"Close\" ng-click=\"vm.cancel();\">\n    <span aria-hidden=\"true\">&times;</span>\n  </button> -->\n  <h4 class=\"modal-title\">添加用户</h4>\n</div>\n<div class=\"modal-body\">\n  <form class=\"form-horizontal\" name=\"Form\">\n    <div class=\"form-group clearfix\">\n      <label for=\"noteInput\" class=\"col-sm-4 control-label\">真实姓名：</label>\n      <div class=\"col-sm-6\">\n        <input type=\"text\" class=\"form-control\" ng-model=\"vm.inputInfo.true_name\" placeholder=\"请输入\"\n          validator=\"required\">\n      </div>\n    </div>\n    <div class=\"form-group clearfix\">\n      <label for=\"noteInput\" class=\"col-sm-4 control-label\">手机号码：</label>\n      <div class=\"col-sm-6\">\n        <input type=\"text\" class=\"form-control\" ng-model=\"vm.inputInfo.phone\" placeholder=\"请输入\"\n          validator=\"required\" auto-complete=\"vm.autoCompleteOptions\">\n      </div>\n    </div>\n    <div class=\"form-group clearfix\">\n      <label for=\"noteInput\" class=\"col-sm-4 control-label\">角色：</label>\n      <div class=\"btn-group col-sm-2\">\n        <button type=\"button\" class=\"btn btn-default dropdown-toggle\" data-toggle=\"dropdown\" aria-haspopup=\"true\" aria-expanded=\"false\">\n          {{vm.inputInfo.role_name}}\n          <span class=\"caret\"></span>\n        </button>\n        <ul class=\"dropdown-menu\">\n          <li ng-repeat=\"role in vm.roleList\"><a ng-click=\"vm.inputInfo.role_name=role.name;vm.inputInfo.role=role.value\" href=\"javascript:void(0)\">{{role.name}}</a></li>\n        </ul>\n      </div>\n    </div>\n    <div class=\"form-group clearfix\">\n      <label for=\"noteInput\" class=\"col-sm-4 control-label\">所属机构：</label>\n      <div class=\"btn-group col-sm-6\">\n        <button type=\"button\" class=\"btn btn-default dropdown-toggle\" data-toggle=\"dropdown\" aria-haspopup=\"true\" aria-expanded=\"false\">\n          {{vm.inputInfo.bank_name}}\n          <span class=\"caret\"></span>\n        </button>\n        <ul class=\"dropdown-menu\" style=\"height:210px; overflow:scroll;\">\n          <li ng-repeat=\"bank in vm.bankList\"><a ng-click=\"vm.inputInfo.bank_name=bank.name;vm.inputInfo.bank_id=bank.id\" href=\"javascript:void(0)\">{{bank.name}}</a></li>\n        </ul>\n      </div>\n    </div>\n  </form>\n  <div class=\"modal-footer\">\n    <button type=\"button\" class=\"btn btn-default btn-sm\" ng-click=\"vm.cancel()\">取消</button>\n    <button type=\"button\" class=\"btn btn-success btn-sm\" ng-click=\"vm.submit(Form)\"> 保存</button>\n  </div>\n</div>\n");
  $templateCache.put("modules/account/modals/branch/template.html", "<div class=\"modal-header\">\n  <!-- <button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-label=\"Close\" ng-click=\"vm.cancel();\">\n    <span aria-hidden=\"true\">&times;</span>\n  </button> -->\n  <h4 class=\"modal-title\">分配</h4>\n</div>\n<div class=\"modal-body\">\n  <form class=\"form-horizontal\" name=\"Form\">\n    <div class=\"form-group clearfix\">\n      <label for=\"select_main\" class=\"col-sm-12 text-center\">选择支行</label>\n    </div>\n    <div class=\"form-group clearfix\">\n      <div class=\"col-sm-12\">\n        <select name=\"selectBranch\" class=\"form-control c-select\" \n          ng-options=\"item.id as item.name for item in vm.list\" ng-model=\"vm.inputInfo.branch\" \n          placeholder=\"请选择\" validator=\"required\" size=\"10\">\n          <option value=\"\">请选择</option>\n        </select>\n      </div>\n    </div>\n  </form>\n  <div class=\"modal-footer\">\n    <button type=\"button\" class=\"btn btn-default btn-sm\" ng-click=\"vm.cancel()\">取消</button>\n    <button type=\"button\" class=\"btn btn-success btn-sm\" ng-click=\"vm.submit(Form)\"> 确定</button>\n  </div>\n</div>\n");
  $templateCache.put("modules/bank/modals/add/template.html", "<div class=\"modal-header\">\n  <!-- <button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-label=\"Close\" ng-click=\"vm.cancel();\">\n    <span aria-hidden=\"true\">&times;</span>\n  </button> -->\n  <h4 class=\"modal-title\">添加机构</h4>\n</div>\n<div class=\"modal-body\">\n  <form class=\"form-horizontal\" name=\"Form\">\n    <div class=\"form-group clearfix\">\n      <label for=\"noteInput\" class=\"col-sm-4 control-label\">机构名称</label>\n      <div class=\"col-sm-6\">\n        <input type=\"text\" class=\"form-control\" ng-model=\"vm.inputInfo.name\" placeholder=\"请输入\"\n          validator=\"required\">\n      </div>\n    </div>\n    <div class=\"form-group clearfix\">\n      <label for=\"noteInput\" class=\"col-sm-4 control-label\">机构地址</label>\n      <div class=\"col-sm-6\">\n        <input type=\"text\" class=\"form-control\" ng-model=\"vm.inputInfo.address\" placeholder=\"请输入\"\n          validator=\"required\">\n      </div>\n    </div>\n    <div class=\"form-group clearfix\">\n      <label for=\"noteInput\" class=\"col-sm-4 control-label\">联系电话</label>\n      <div class=\"col-sm-6\">\n        <input type=\"text\" class=\"form-control\" ng-model=\"vm.inputInfo.phone\" placeholder=\"请输入\"\n          validator=\"required\">\n      </div>\n    </div>\n\n  </form>\n  <div class=\"modal-footer\">\n    <button type=\"button\" class=\"btn btn-default btn-sm\" ng-click=\"vm.cancel()\">取消</button>\n    <button type=\"button\" class=\"btn btn-success btn-sm\" ng-click=\"vm.submit(Form)\"> 保存</button>\n  </div>\n</div>\n");
  $templateCache.put("modules/bank/modals/branch/template.html", "<div class=\"modal-header\">\n  <!-- <button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-label=\"Close\" ng-click=\"vm.cancel();\">\n    <span aria-hidden=\"true\">&times;</span>\n  </button> -->\n  <h4 class=\"modal-title\">分配</h4>\n</div>\n<div class=\"modal-body\">\n  <form class=\"form-horizontal\" name=\"Form\">\n    <div class=\"form-group clearfix\">\n      <label for=\"select_main\" class=\"col-sm-12 text-center\">选择支行</label>\n    </div>\n    <div class=\"form-group clearfix\">\n      <div class=\"col-sm-12\">\n        <select name=\"selectBranch\" class=\"form-control c-select\" \n          ng-model=\"vm.inputInfo.branch\" \n          placeholder=\"请选择\" validator=\"required\" size=\"10\">\n          <option value=\"\">请选择</option>\n          <option value=\"{{item.id}}\" ng-hide=\"item.id == vm.info.id\" ng-repeat=\"item in vm.list\">{{item.name}}</option>\n        </select>\n      </div>\n    </div>\n  </form>\n  <div class=\"modal-footer\">\n    <button type=\"button\" class=\"btn btn-default btn-sm\" ng-click=\"vm.cancel()\">取消</button>\n    <button type=\"button\" class=\"btn btn-success btn-sm\" ng-click=\"vm.submit(Form)\"> 确定</button>\n  </div>\n</div>\n");
  $templateCache.put("modules/bank/modals/edit/template.html", "<div class=\"modal-header\">\n  <!-- <button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-label=\"Close\" ng-click=\"vm.cancel();\">\n    <span aria-hidden=\"true\">&times;</span>\n  </button> -->\n  <h4 class=\"modal-title\">更改名称</h4>\n</div>\n<div class=\"modal-body\">\n  <form class=\"form-horizontal\" name=\"Form\">\n    <div class=\"form-group clearfix\">\n      <label for=\"noteInput\" class=\"col-sm-4 control-label\">机构</label>\n      <div class=\"col-sm-6\">\n        <input type=\"text\" class=\"form-control\" ng-model=\"vm.inputInfo.name\" placeholder=\"请输入\"\n          validator=\"required\">\n      </div>\n    </div>\n    <div class=\"form-group clearfix\">\n      <label for=\"noteInput\" class=\"col-sm-4 control-label\">机构地址</label>\n      <div class=\"col-sm-6\">\n        <input type=\"text\" class=\"form-control\" ng-model=\"vm.inputInfo.address\" placeholder=\"请输入\"\n          validator=\"required\">\n      </div>\n    </div>\n    <div class=\"form-group clearfix\">\n      <label for=\"noteInput\" class=\"col-sm-4 control-label\">联系电话</label>\n      <div class=\"col-sm-6\">\n        <input type=\"text\" class=\"form-control\" ng-model=\"vm.inputInfo.phone\" placeholder=\"请输入\"\n          validator=\"required\">\n      </div>\n    </div>\n\n  </form>\n  <div class=\"modal-footer\">\n    <button type=\"button\" class=\"btn btn-default btn-sm\" ng-click=\"vm.cancel()\">取消</button>\n    <button type=\"button\" class=\"btn btn-success btn-sm\" ng-click=\"vm.submit(Form)\"> 保存</button>\n  </div>\n</div>\n");
  $templateCache.put("modules/bank/modals/map/template.html", "<div class=\"modal-header\">\n  <!-- <button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-label=\"Close\" ng-click=\"vm.cancel();\">\n    <span aria-hidden=\"true\">&times;</span>\n  </button> -->\n  <h4 class=\"modal-title\">选取地图</h4>\n</div>\n<div class=\"modal-body\">\n   <baidu-map options=\"vm.opts\" ak=\"8BEaSdo8E7VEHjM0pxWs8gIsHhkDlOOW\" on-map-loaded=\"vm.loadMap(map)\" style=\"display:block;width:550px;height:500px;\"></baidu-map>\n  <div class=\"modal-footer\">\n    <button type=\"button\" class=\"btn btn-default btn-sm\" ng-click=\"vm.cancel()\">取消</button>\n  </div>\n</div>");
  $templateCache.put("modules/demo/modals/edit/template.html", "<div class=\"modal-header\">\n  <!-- <button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-label=\"Close\" ng-click=\"vm.cancel();\">\n    <span aria-hidden=\"true\">&times;</span>\n  </button> -->\n  <h4 class=\"modal-title\">设置</h4>\n</div>\n<div class=\"modal-body\">\n  <form class=\"form-horizontal\" name=\"Form\">\n    <div class=\"form-group clearfix\">\n      <label for=\"noteInput\" class=\"col-sm-4 control-label\">Label：</label>\n      <div class=\"col-sm-5\">\n        <input type=\"text\" class=\"form-control\" ng-model=\"vm.info.input\" placeholder=\"请输入\"\n          validator=\"required\">\n      </div>\n    </div>\n  </form>\n  <div class=\"modal-footer\">\n    <button type=\"button\" class=\"btn btn-default btn-sm\" ng-click=\"vm.cancel()\">取消</button>\n    <button type=\"button\" class=\"btn btn-success btn-sm\" ng-click=\"vm.submit(Form)\"> 保存</button>\n  </div>\n</div>\n");
  $templateCache.put("modules/enterprise/modals/add/template.html", "<div class=\"modal-header\">\n  <!-- <button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-label=\"Close\" ng-click=\"vm.cancel();\">\n    <span aria-hidden=\"true\">&times;</span>\n  </button> -->\n  <h4 class=\"modal-title\">添加企业</h4>\n</div>\n<div class=\"modal-body\">\n  <form class=\"form-horizontal\" name=\"Form\">\n    <div class=\"form-group clearfix\">\n      <label for=\"noteInput\" class=\"col-sm-4 control-label\">企业名称：</label>\n      <div class=\"col-sm-6\">\n        <input type=\"text\" class=\"form-control\" ng-model=\"vm.inputInfo.name\" placeholder=\"请输入\"\n          validator=\"required\">\n      </div>\n    </div>\n  </form>\n  <div class=\"modal-footer\">\n    <button type=\"button\" class=\"btn btn-default btn-sm\" ng-click=\"vm.cancel()\">取消</button>\n    <button type=\"button\" class=\"btn btn-success btn-sm\" ng-click=\"vm.submit(Form)\"> 保存</button>\n  </div>\n</div>\n");
  $templateCache.put("modules/enterprise/modals/branch/template.html", "<div class=\"modal-header\">\n  <!-- <button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-label=\"Close\" ng-click=\"vm.cancel();\">\n    <span aria-hidden=\"true\">&times;</span>\n  </button> -->\n  <h4 class=\"modal-title\">分配机构</h4>\n</div>\n<div class=\"modal-body\">\n  <form class=\"form-horizontal\" name=\"Form\">\n    <div class=\"form-group clearfix\">\n      <label for=\"select_main\" class=\"col-sm-12 text-center\">选择机构</label>\n    </div>\n    <div class=\"form-group clearfix\">\n      <div class=\"col-sm-12\">\n        <select name=\"selectBranch\" class=\"form-control c-select\" \n          ng-options=\"item.id as item.name for item in vm.list\" ng-model=\"vm.inputInfo.branch\" \n          placeholder=\"请选择\" validator=\"required\" size=\"10\">\n          <option value=\"\">请选择</option>\n        </select>\n      </div>\n    </div>\n  </form>\n  <div class=\"modal-footer\">\n    <button type=\"button\" class=\"btn btn-default btn-sm\" ng-click=\"vm.cancel()\">取消</button>\n    <button type=\"button\" class=\"btn btn-success btn-sm\" ng-click=\"vm.submit(Form)\"> 确定</button>\n  </div>\n</div>\n");
  $templateCache.put("modules/enterprise/modals/manage/template.html", "<div class=\"modal-header\">\n  <!-- <button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-label=\"Close\" ng-click=\"vm.cancel();\">\n    <span aria-hidden=\"true\">&times;</span>\n  </button> -->\n  <h4 class=\"modal-title\">分配客户经理</h4>\n</div>\n<div class=\"modal-body\">\n  <form class=\"form-horizontal\" name=\"Form\">\n    <div class=\"form-group clearfix\">\n      <label for=\"select_main\" class=\"col-sm-6 text-center\">主理</label>\n      <label for=\"select_vice\" class=\"col-sm-6 text-center\">协理</label>\n    </div>\n    <div class=\"form-group clearfix\">\n      <div class=\"col-sm-6\">\n        <select name=\"selectMain\" class=\"form-control c-select\" \n          ng-options=\"item.id as item.true_name for item in vm.list\" ng-model=\"vm.inputInfo.main\" \n          placeholder=\"请选择\" validator=\"required\" size=\"10\">\n          <option value=\"\">请选择</option>\n        </select>\n      </div>\n      <div class=\"col-sm-6\">\n        <select name=\"selectVice\" class=\"form-control c-select\" \n          ng-options=\"item.id as item.true_name for item in vm.list\" ng-model=\"vm.inputInfo.vice\"\n           placeholder=\"请选择\" size=\"10\" match=\"vm.inputInfo.main\" not-match=\"true\">\n          <option value=\"\">请选择</option>\n        </select>\n        <span ng-show=\"Form.selectVice.$error.match\" class=\"validation-invalid\">\n          <p>主理和协理不能为同一人！</p>\n        </span>\n      </div>\n    </div>\n  </form>\n  <div class=\"modal-footer\">\n    <button type=\"button\" class=\"btn btn-default btn-sm\" ng-click=\"vm.cancel()\">取消</button>\n    <button type=\"button\" class=\"btn btn-success btn-sm\" ng-click=\"vm.submit(Form)\"> 确定</button>\n  </div>\n</div>\n");
  $templateCache.put("modules/filter/modals/add/template.html", "<div class=\"modal-header\">\n  <!-- <button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-label=\"Close\" ng-click=\"vm.cancel();\">\n    <span aria-hidden=\"true\">&times;</span>\n  </button> -->\n  <h4 class=\"modal-title\">添加黑名单</h4>\n</div>\n<div class=\"modal-body\">\n  <form class=\"form-horizontal\" name=\"Form\">\n    <div class=\"form-group clearfix\">\n      <label for=\"noteInput\" class=\"col-sm-4 control-label\">公司名称：</label>\n      <div class=\"col-sm-6\">\n        <input type=\"text\" class=\"form-control\" ng-model=\"vm.inputInfo.name\" placeholder=\"请输入\"\n          validator=\"required\">\n      </div>\n    </div>\n    <div class=\"form-group clearfix\">\n      <label for=\"noteInput\" class=\"col-sm-4 control-label\">信息来源：</label>\n      <div class=\"col-sm-6\">\n        <input type=\"text\" class=\"form-control\" ng-model=\"vm.inputInfo.source\" placeholder=\"请输入\">\n      </div>\n    </div>\n    <div class=\"form-group clearfix\">\n      <label for=\"noteInput\" class=\"col-sm-4 control-label\">备注：</label>\n      <div class=\"col-sm-6\">\n        <textarea class=\"form-control\" ng-model=\"vm.inputInfo.note\" placeholder=\"请输入\"\n          maxlength=\"200\"></textarea> \n      </div>\n    </div>\n  </form>\n  <div class=\"modal-footer\">\n    <button type=\"button\" class=\"btn btn-default btn-sm\" ng-click=\"vm.cancel()\">取消</button>\n    <button type=\"button\" class=\"btn btn-success btn-sm\" ng-click=\"vm.submit(Form)\"> 保存</button>\n  </div>\n</div>\n");
  $templateCache.put("modules/information/modals/branch/template.html", "<div class=\"modal-header\">\n  <!-- <button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-label=\"Close\" ng-click=\"vm.cancel();\">\n    <span aria-hidden=\"true\">&times;</span>\n  </button> -->\n  <h4 class=\"modal-title\">分配</h4>\n</div>\n<div class=\"modal-body\">\n  <form class=\"form-horizontal\" name=\"Form\">\n    <div class=\"form-group clearfix\">\n      <label for=\"select_main\" class=\"col-sm-12 text-center\">选择支行</label>\n    </div>\n    <div class=\"form-group clearfix\">\n      <div class=\"col-sm-12\">\n        <select name=\"selectBranch\" class=\"form-control c-select\" \n          ng-options=\"item.id as item.name for item in vm.list\" ng-model=\"vm.inputInfo.branch\" \n          placeholder=\"请选择\" validator=\"required\" size=\"10\">\n          <option value=\"\">请选择</option>\n        </select>\n      </div>\n    </div>\n  </form>\n  <div class=\"modal-footer\">\n    <button type=\"button\" class=\"btn btn-default btn-sm\" ng-click=\"vm.cancel()\">取消</button>\n    <button type=\"button\" class=\"btn btn-success btn-sm\" ng-click=\"vm.submit(Form)\"> 确定</button>\n  </div>\n</div>\n");
  $templateCache.put("modules/information/modals/manage/template.html", "<div class=\"modal-header\">\n  <!-- <button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-label=\"Close\" ng-click=\"vm.cancel();\">\n    <span aria-hidden=\"true\">&times;</span>\n  </button> -->\n  <h4 class=\"modal-title\">分配</h4>\n</div>\n<div class=\"modal-body\">\n  <form class=\"form-horizontal\" name=\"Form\">\n    <div class=\"form-group clearfix\">\n      <label for=\"select_main\" class=\"col-sm-6 text-center\">主理</label>\n      <label for=\"select_vice\" class=\"col-sm-6 text-center\">协理</label>\n    </div>\n    <div class=\"form-group clearfix\">\n      <div class=\"col-sm-6\">\n        <select name=\"selectMain\" class=\"form-control c-select\" \n          ng-options=\"item.id as item.name for item in vm.list\" ng-model=\"vm.inputInfo.main\" \n          placeholder=\"请选择\" validator=\"required\" size=\"10\">\n          <option value=\"\">请选择</option>\n        </select>\n      </div>\n      <div class=\"col-sm-6\">\n        <select name=\"selectVice\" class=\"form-control c-select\" \n          ng-options=\"item.id as item.name for item in vm.list\" ng-model=\"vm.inputInfo.vice\"\n           placeholder=\"请选择\" size=\"10\" match=\"vm.inputInfo.main\" not-match=\"true\">\n          <option value=\"\">请选择</option>\n        </select>\n        <span ng-show=\"Form.selectVice.$error.match\" class=\"validation-invalid\">\n          <p>主理和协理不能为同一人！</p>\n        </span>\n      </div>\n    </div>\n  </form>\n  <div class=\"modal-footer\">\n    <button type=\"button\" class=\"btn btn-default btn-sm\" ng-click=\"vm.cancel()\">取消</button>\n    <button type=\"button\" class=\"btn btn-success btn-sm\" ng-click=\"vm.submit(Form)\"> 确定</button>\n  </div>\n</div>\n");
  $templateCache.put("modules/investment/modals/add/template.html", "<div class=\"modal-header\">\n  <!-- <button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-label=\"Close\" ng-click=\"vm.cancel();\">\n    <span aria-hidden=\"true\">&times;</span>\n  </button> -->\n  <h4 class=\"modal-title\">添加投资公司</h4>\n</div>\n<div class=\"modal-body\">\n  <form class=\"form-horizontal\" name=\"Form\">\n    <div class=\"form-group clearfix\">\n      <label for=\"noteInput\" class=\"col-sm-4 control-label\">公司名称：</label>\n      <div class=\"col-sm-6\">\n        <input type=\"text\" class=\"form-control\" ng-model=\"vm.inputInfo.name\" placeholder=\"请输入\"\n          validator=\"required\">\n      </div>\n    </div>\n    <div class=\"form-group clearfix\">\n      <label for=\"noteInput\" class=\"col-sm-4 control-label\">公司简称：</label>\n      <div class=\"col-sm-6\">\n        <input type=\"text\" class=\"form-control\" ng-model=\"vm.inputInfo.vc_name\" placeholder=\"请输入\"\n          validator=\"required\" >\n      </div>\n    </div>\n  </form>\n  <div class=\"modal-footer\">\n    <button type=\"button\" class=\"btn btn-default btn-sm\" ng-click=\"vm.cancel()\">取消</button>\n    <button type=\"button\" class=\"btn btn-success btn-sm\" ng-click=\"vm.submit(Form)\"> 保存</button>\n  </div>\n</div>\n");
}]);

},{}],"/Users/cescwang/program/sil/SIL-frontend/bower_components/angular-mdeditor/src/angular-mdeditor.js":[function(require,module,exports){
'use strict';

/**
* harrie.mdeditor Module
*
* Description
* a markdown editor for angular
* https://github.com/varHarrie/angular-mdeditor
*/
angular.module('ui.mdeditor', []).config(function () {
	if (angular.isUndefined(window.marked)) {
		throw new Error('Require marked!');
	}
	if (angular.isUndefined(window.hljs)) {
		throw new Error('Require hljs!');
	}
	String.prototype.startWith = function (str, doTrim) {
		var s = typeof doTrim !== 'undefined' && !!doTrim ? this.trim() : this;
		return typeof str === 'string' && s.length >= str.length && s.substr(0, str.length) === str;
	};
	String.prototype.endWith = function (str, doTrim) {
		var s = typeof doTrim !== 'undefined' && !!doTrim ? this.trim() : this;
		return typeof str === 'string' && s.length >= str.length && s.substr(s.length - str.length) === str;
	};
}).constant('mdeditorConfig', {
	classNames: {
		wrapper: 'mdeditor',
		toolbar: 'mdeditor-toolbar',
		toolbarItem: 'mdeditor-toolbar-item',
		separator: 'mdeditor-toolbar-separator',
		textarea: 'mdeditor-textarea',
		preview: 'mdeditor-preview'
	},
	toolbar: [{ action: 'bold', icon: 'fa fa-bold', tip: '加粗(Ctrl+B)' }, { action: 'italic', icon: 'fa fa-italic', tip: '斜体(Ctrl+I)' }, { action: 'header', icon: 'fa fa-header', tip: '标题(Ctrl+H)' }, { separator: true }, { action: 'ul', icon: 'fa fa-list-ul', tip: '无序列表(Ctrl+U)' }, { action: 'ol', icon: 'fa fa-list-ol', tip: '有序列表(Ctrl+O)' },
	// {action:'code',icon:'fa fa-code',tip:'代码(Ctrl+K)'},
	{ action: 'quote', icon: 'fa fa-quote-left', tip: '引用(Ctrl+Q)' },
	//{action:'indent',icon:'fa fa-indent',tip:'缩进(Tab)',keycode:9,ctrl:false},
	//{action:'outdent',icon:'fa fa-outdent',tip:'减小缩进(Tab)',keycode:9,ctrl:false,shift:true},
	{ separator: true }, { action: 'link', icon: 'fa fa-link', tip: '连接(Ctrl+L)' }, { action: 'img', icon: 'fa fa-picture-o', tip: '图片(Ctrl+G)' },
	/*{action:'file',icon:'fa fa-file-o',tip:'文件',keycode:'',ctrl:true},*/
	{ separator: true }, { action: 'undo', icon: 'fa fa-undo', tip: '撤销' }, { action: 'redo', icon: 'fa fa-repeat', tip: '重做' }],
	shortcut: {
		'Ctrl-B': 'bold',
		'Ctrl-I': 'italic',
		'Ctrl-H': 'header',
		'Ctrl-U': 'ul',
		'Ctrl-O': 'ol',
		'Ctrl-K': 'code',
		'Ctrl-Q': 'quote',
		'Ctrl-L': 'link',
		'Ctrl-G': 'img'
	}
}).factory('actions', [function () {
	var syntax = {
		bold: { prefix: '**', postfix: '**' },
		italic: { prefix: '_', postfix: '_' },
		code: { prefix: '```\n', postfix: '\n```' },
		link: { prefix: '[', postfix: '](src)' },
		img: { prefix: '![', postfix: '](src)' },

		header: { prefix: '### ', postfix: '' },
		quote: { prefix: '> ', postfix: '' },
		ul: { prefix: '- ', postfix: '' }
	};
	function inlineAction(cm, actionName, canStartWithSpace) {
		var texts = cm.getSelections();
		var replacements = [];
		var prefix = syntax[actionName].prefix;
		var postfix = syntax[actionName].postfix;
		texts.forEach(function (text) {
			if (text.length >= prefix.length + postfix.length && text.startWith(prefix, canStartWithSpace) && text.endWith(postfix)) {
				replacements.push(text.substr(prefix.length, text.length - prefix.length - postfix.length));
			} else {
				replacements.push(prefix + text + postfix);
			}
		});
		cm.replaceSelections(replacements, 'around');
	}
	function rowAction(cm, actionName) {
		//select row
		var selections = cm.listSelections();
		selections.forEach(function (range) {
			var num1 = range.anchor.line,
			    num2 = range.head.line;
			var start = num1 < num2 ? num1 : num2,
			    end = num1 > num2 ? num1 : num2;
			cm.addSelection({ line: start, ch: 0 }, { line: end });
		});
		var prefix = syntax[actionName].prefix;
		var replacements = [];
		selections = cm.getSelections();
		selections.forEach(function (text) {
			replacements.push(text.split('\n').map(function (line) {
				if (line.startWith(prefix, true)) {
					var startAt = line.indexOf(prefix);
					startChars = line.substr(0, startAt);
					endChars = line.substr(startAt + prefix.length);
					return startChars + endChars;
				} else {
					return prefix + line;
				}
			}).join('\n'));
		});
		cm.replaceSelections(replacements, 'around');
	}
	return {
		//inline actions
		bold: function bold(cm) {
			inlineAction(cm, 'bold');
		},
		italic: function italic(cm) {
			inlineAction(cm, 'italic');
		},
		code: function code(cm) {
			inlineAction(cm, 'code');
		},
		link: function link(cm) {
			inlineAction(cm, 'link');
		},
		img: function img(cm) {
			inlineAction(cm, 'img');
		},
		//row actions
		header: function header(cm) {
			rowAction(cm, 'header');
		},
		quote: function quote(cm) {
			rowAction(cm, 'quote');
		},
		ul: function ul(cm) {
			rowAction(cm, 'ul');
		},
		ol: function ol(cm) {
			var selections = cm.listSelections();
			selections.forEach(function (range) {
				var num1 = range.anchor.line,
				    num2 = range.head.line;
				var start = num1 < num2 ? num1 : num2,
				    end = num1 > num2 ? num1 : num2;
				cm.addSelection({ line: start, ch: 0 }, { line: end });
			});
			var replacements = [];
			selections = cm.getSelections();
			selections.forEach(function (text) {
				if (/^\s*\d+\.\s/m.test(text)) {
					replacements.push(text.replace(/^\s*\d+\.\s/mg, ''));
				} else {
					replacements.push(text.split('\n').map(function (line, i) {
						return i + 1 + '. ' + line;
					}).join('\n'));
				}
			});
			cm.replaceSelections(replacements, 'around');
		},
		undo: function undo(cm) {
			cm.undo();
		},
		redo: function redo(cm) {
			cm.redo();
		}
	};
}]).provider('hljsServ', function () {
	var _options = {};
	return {
		setOptions: function setOptions(options) {
			angular.extend(_options, options);
		},
		getOptions: function getOptions() {
			return angular.copy(_options);
		},
		$get: function $get() {
			hljs.configure(_options);
			return hljs;
		}
	};
}).filter('markdown', ['$sce', 'hljsServ', function ($sce, hljsServ) {
	var marked = function (marked) {
		/*marked.setOptions({
    renderer: new marked.Renderer(),
    gfm: true,
    tables: true,
    breaks: false,
    pedantic: false,
    sanitize: true,
    smartLists: true,
    smartypants: false
  });*/
		marked.setOptions({
			highlight: function highlight(code) {
				return hljsServ.highlightAuto(code).value;
			}
		});
		return marked;
	}(window.marked);

	return function (input) {
		if (!input || typeof input !== 'string') return '';
		return $sce.trustAsHtml(marked(input));
	};
}]).directive('mdeditor', ['mdeditorConfig', 'actions', function (mdeditorConfig, actions) {

	return {
		restrict: 'AE',
		scope: {
			defaultText: '=',
			text: '=',
			options: '=?',
			classNames: '=?',
			toolbar: '=?',
			shortcut: '=?'
		},
		template: ['<div class="{{classNames.wrapper}}">', '<ul class="{{classNames.toolbar}}">', '<li ng-repeat="item in toolbar | filter:toolbarFilter track by $index" ng-click="callAction(item.action)" class="{{item.separator?classNames.separator:classNames.toolbarItem}}" title="{{item.tip}}">', '<i class="{{item.icon}}" ng-if="!item.separator"></i>', '<span ng-if="item.separator">|</span>', '</li>', '</ul>', '<textarea class="{{classNames.textarea}}" ng-show="!preview"></textarea>', '<div class="{{classNames.preview}}" ng-bind-html="text | markdown" ng-if="preview"></div>', '</div>'].join(''),
		replace: true,
		compile: function compile(tElm, tAttrs) {
			if (angular.isUndefined(window.CodeMirror)) {
				throw new Error('Require CodeMirror!');
			}
			var theme = tAttrs.theme || 'default';
			var textarea = tElm.find('textarea');
			var codemirror = new window.CodeMirror(function (cm_el) {
				angular.forEach(textarea.prop('attributes'), function (attr) {
					if (attr.name == 'class') cm_el.className += ' ' + attr.textContent;else cm_el.setAttribute(attr.name, attr.textContent);
				});
				textarea.replaceWith(cm_el);
			}, {
				mode: 'gfm',
				lineWrapping: true,
				theme: theme
			});

			return function postlink($scope, iElm, iAttrs) {
				$scope.preview = false;
				$scope.classNames = $scope.classNames || mdeditorConfig.classNames;
				$scope.toolbar = $scope.toolbar || mdeditorConfig.toolbar;
				var options = $scope.options || {};
				for (var key in options) {
					codemirror.setOption(key, options[key]);
				}
				var shortcut = $scope.shortcut || mdeditorConfig.shortcut;
				var keyMap = {};
				for (var key in shortcut) {
					if (typeof key == 'string' && actions[shortcut[key]]) keyMap[key] = actions[shortcut[key]];
				}

				keyMap['Enter'] = "newlineAndIndentContinueMarkdownList";
				keyMap['Tab'] = 'tabAndIndentContinueMarkdownList';
				keyMap['Shift-Tab'] = 'shiftTabAndIndentContinueMarkdownList';

				codemirror.setOption("extraKeys", keyMap);

				$scope.callAction = function (actionName) {
					if (!actionName) return;else if (actions[actionName]) actions[actionName](codemirror);else if (actionName == 'preview') {
						$scope.preview = !$scope.preview;
					} else if (actionName == 'fullscreen') {
						var el = iElm[0];
						var rfs = el.requestFullScreen || el.webkitRequestFullScreen || el.mozRequestFullScreen;
						if (rfs) rfs.call(el);
					}
					codemirror.focus();
				};

				if ($scope.text) {
					codemirror.setValue($scope.text);
				}

				var destroyWatchText = $scope.$watch('defaultText', function () {
					if ($scope.defaultText) {
						codemirror.setValue($scope.defaultText);
					}
				});

				$scope.$on('$destroy', destroyWatchText);

				codemirror.on('change', function (instance, event) {
					var val = instance.getValue();
					if ($scope.text !== val) {
						$scope.text = instance.getValue();
						var phase = $scope.$root.$$phase;
						if (phase !== '$apply' && phase !== 'digest') {
							$scope.$apply();
						}
					}
				});
			};
		}
	};
}]);

},{}],"/Users/cescwang/program/sil/SIL-frontend/node_modules/angular-auto-complete/angular-auto-complete.js":[function(require,module,exports){
(function () {
    angular
        .module('autoCompleteModule', ['ngSanitize'])
        .service('autoCompleteService', autoCompleteService)
        .directive('autoComplete', autoCompleteDirective);

    autoCompleteDirective.$inject = ['$compile', '$document', '$window', '$timeout', 'autoCompleteService'];
    function autoCompleteDirective($compile, $document, $window, $timeout, autoCompleteService) {

        return {
            restrict: 'A',
            scope: {},
            transclude: false,
            controllerAs: 'ctrl',
            bindToController: { options: '&autoComplete' },
            require: ['autoComplete', 'ngModel'],
            link: postLinkFn,
            controller: MainCtrl
        }

        function postLinkFn(scope, element, attrs, ctrls) {
            var ctrl = ctrls[0]; //directive controller
            ctrl.textModelCtrl = ctrls[1]; // textbox model controller

            autoCompleteService.addDirectiveCtrl(ctrl);

            // execute the options expression in the parent scope
            var options = ctrl.options() || {};
            ctrl.init(angular.extend({}, defaultOptions, options));

            initContainer();

            function initContainer() {
                var template =
                    '<div class="auto-complete-container" data-instance-id="{{ctrl.instanceId}}" ng-show="ctrl.containerVisible">' +
                      '<ul class="auto-complete-results">' +
                        '<li ng-repeat="item in ctrl.renderItems"' +
                            'ng-click="ctrl.selectItem($index, true)" ' +
                            'class="auto-complete-item" data-index="{{$index}}" ' +
                            'ng-class="ctrl.isSelected($index)">' +
                                '<div ng-bind-html="item.label"></div>' +
                        '</li>' +
                      '</ul>' +
                    '</div>';

                var templateFn = $compile(template);
                ctrl.container = templateFn(scope);

                if (angular.isDefined(ctrl.options.containerCssClass)) {
                    ctrl.container.addClass(ctrl.options.containerCssClass);
                }

                // if a jquery parent is specified in options append the container to that
                // otherwise append to body
                if (angular.isDefined(ctrl.options.dropdownParent)) {
                    ctrl.options.dropdownParent.append(ctrl.container);
                }
                else {
                    $document.find('body').append(ctrl.container);
                    ctrl.container.addClass('auto-complete-absolute-container');
                }

                // store the jquery element on the controller          
                ctrl.target = element;

                // store a reference to the UL
                ctrl.elementUL = angular.element(ctrl.container[0].querySelector('ul.auto-complete-results'));

                // prevents text select on mouse drag, dblclick
                ctrl.container.css('MozUserSelect', 'none').bind('selectstart', function () { return false; });
            }

            // when the target(textbox) gets focus activate the corresponding container
            element.on('focus', function (e) {
                scope.$evalAsync(function () {
                    ctrl.activate();
                });
            });

            // handle key strokes
            element.on('keydown', function (e) {
                scope.$evalAsync(function () {
                    _elementKeyDown(e);
                });
            });

            // hide container on ENTER
            $document.on('keydown', function (e) {
                scope.$evalAsync(function () {
                    _documentKeyDown(e);
                });
            });

            angular.element($window).on('resize', function (e) {
                scope.$evalAsync(function () {
                    ctrl.hide();
                });
            })

            // hide container upon CLICK outside of the dropdown rectangle region
            $document.on('click', function (e) {
                scope.$evalAsync(function () {
                    _documentClick(e);
                });
            });

            // cleanup on destroy
            scope.$on('$destroy', function () {
                ctrl.empty();
                ctrl.container.remove();
            });

            function _elementKeyDown(e) {
                var key = e.charCode || e.keyCode || 0;

                if (key == KEYCODE.UPARROW) {
                    ctrl.scrollToItem(-1);

                    e.stopPropagation();
                    e.preventDefault();

                    return;
                }

                if (key == KEYCODE.DOWNARROW) {
                    ctrl.scrollToItem(1);

                    e.stopPropagation();
                    e.preventDefault();

                    return;
                }

                if (key == KEYCODE.ENTER) {
                    ctrl.confirm();

                    //prevent postback upon hitting enter
                    e.preventDefault();
                    e.stopPropagation();

                    return;
                }

                if (key == KEYCODE.ESCAPE) {
                    ctrl.hide();

                    e.preventDefault();
                    e.stopPropagation();

                    return;
                }

                // fetch if minimum number of chars are types
                // else hide dropdown
                var term = element.val();
                if (term.length < ctrl.options.minimumChars || term === ctrl.selectedText()) {
                    ctrl.hide();
                    ctrl.empty();

                    return;
                }
                
                // wait few millisecs before calling fetch()
                // this allows checking if user has stopped typing
                var delay = $timeout(function () {
                    // is term unchanged?
                    if (term == element.val()) {
                        ctrl.fetch(term);
                    }

                    //cancel the timeout
                    $timeout.cancel(delay);
                }, 300);
            }

            function _documentKeyDown(e) {
                // if multiple auto complete exist on a page, hide inactive dropdowns
                autoCompleteService.hideIfInactive();
            }

            function _documentClick(e) {
                // if multiple auto complete exist on a page, hide inactive dropdowns
                autoCompleteService.hideIfInactive();

                // hide the active dropdown if user clicks anywhere away from the dropdown list
                var isMouseAwayFromActiveContainer = false;

                try {
                    if (ctrl.instanceId !== ctrl.activeInstanceId()) {
                        return;
                    }

                    var offset = ctrl.container[0].getBoundingClientRect();
                    var awayTolerance = 30;

                    if (e.pageX < offset.left - awayTolerance
                        || e.pageX > offset.left + offset.width + awayTolerance
                        || e.pageY < offset.top - awayTolerance
                        || e.pageY > offset.top + offset.height + awayTolerance) {

                        isMouseAwayFromActiveContainer = true;

                        //check if mouse is over the target
                        offset = ctrl.target[0].getBoundingClientRect();
                        if (e.pageX >= offset.left
                            && e.pageX <= offset.left + offset.width
                            && e.pageY >= offset.top
                            && e.pageY <= offset.top + offset.height) {

                            isMouseAwayFromActiveContainer = false;
                        }

                        if (isMouseAwayFromActiveContainer) {
                            ctrl.hide();
                        }
                    }
                }
                catch (e) { }
            }
        }
    }

    MainCtrl.$inject = ['$q', '$window', '$document', '$sce', '$timeout', '$interpolate', '$templateRequest', '$exceptionHandler', 'autoCompleteService'];
    function MainCtrl($q, $window, $document, $sce, $timeout, $interpolate, $templateRequest, $exceptionHandler, autoCompleteService) {
        var activeInstanceId = 0,
            selectedText,
            selectedValue;

        var that = this;

        this.target = null;
        this.selectedIndex = -1;
        this.renderItems = [];
        this.containerVisible = false;

        this.activeInstanceId = function () {
            return activeInstanceId;
        }

        // hide any open containers other than the active container
        this.hideIfInactive = function () {
            // do not hide container if appended to dropdown parent specified in options
            if (angular.isDefined(that.options.dropdownParent)) {
                return;
            }

            if (that.instanceId !== activeInstanceId) {
                that.hide();
            }
        }

        this.init = function (options) {
            this.options = options;
            this.instanceId = ++instanceCount;
        }

        this.activate = function () {
            activeInstanceId = that.instanceId;
        }

        this.fetch = function (term) {
            // callback
            _safeCallback(that.options.loading);

            $q.when(that.options.data(term),
                function success_callback(result) {
                    // there might some lag when remote web services are involved
                    // to get data. so check if current element value has changed
                    var value = that.textModelCtrl.$viewValue;
                    if (term != value) {
                        return;
                    }

                    that.renderList(result, term);

                    // callback
                    _safeCallback(that.options.loadingComplete);
                },
                function error_callback(error) {
                    that.hide();

                    // callback
                    _safeCallback(that.options.loadingComplete, { error: error });
                });
        }

        this.renderList = function (result) {
            that.empty();

            if (!angular.isDefined(result) || result.length === 0) {
                that.hide();
                return;
            }

            _getRenderFn().then(function(renderFn) { 
                _renderList(renderFn, result); 
            });
        }

        this.show = function () {
            // the show gets called after the items are ready for display
            // the textbox position can change (ex: window resize) when it has focus
            // so reposition the dropdown before it's shown
            _positionDropdown();

            that.containerVisible = true;

            // HACK: this reduces the flickr when the dropdown is being positioned  
            $timeout(function(){
                _positionDropdown();
            }, 1);

            // callback
            _safeCallback(that.options.dropdownShown);
        }

        this.hide = function () {
            if (that.containerVisible === false) {
                return;
            }

            // reset scroll position
            that.elementUL[0].scrollTop = 0;
            that.containerVisible = false;

            // callback
            _safeCallback(that.options.dropdownHidden);
        }

        this.empty = function () {
            that.selectedIndex = -1;
            that.renderItems = [];
        }

        this.scrollToItem = function (offset) {
            if (that.containerVisible === false) {
                return;
            }

            var index = that.selectedIndex + offset;
            var item = that.renderItems[index];
            if (!item) {
                return;
            }

            that.selectItem(index);

            // use jquery.scrollTo plugin if available
            // http://flesler.blogspot.com/2007/10/jqueryscrollto.html
            if (window.jQuery) {  // requires jquery to be loaded
                var li = that.elementUL.find('li[data-index="' + index + '"]');
                if (jQuery.scrollTo) {
                    that.elementUL.scrollTo(li);
                }
                return;
            }

            var li = that.elementUL[0].querySelector('li[data-index="' + index + '"]');
            if (li) {
                // this was causing the page to jump/scroll 
                //    li.scrollIntoView(true);
                that.elementUL[0].scrollTop = li.offsetTop;
            }
        }

        this.selectItem = function (index, confirm) {
            var item = that.renderItems[index];

            if (!angular.isDefined(item)) {
                return;
            }

            that.selectedIndex = index;

            if (confirm === true) {
                // updates textbox and raises callback
                that.confirm();
            }
            else {
                // only updates textbox
                _updateTextBox();
            }
        }

        this.confirm = function () {
            if (that.containerVisible === false) {
                return;
            }

            that.hide();

            selectedValue = _updateTextBox();

            _safeCallback(that.options.itemSelected, { item: selectedValue });
        }

        this.isSelected = function (index) {
            if (index == that.selectedIndex) {
                return that.options.selectedCssClass;
            }
            return '';
        }

        this.selectedText = function () {
            return selectedText;
        }


        function _safeCallback(fn, args) {
            if (!angular.isFunction(fn)) {
                return;
            }

            try {
                return fn.call(that.target, args);
            } catch (e) {
                //ignore
            }
        }

        function _positionDropdown() {
            // no need to position if container has been appended to 
            // parent specified in options
            if (angular.isDefined(that.options.dropdownParent)) {
                return;
            }

            var rect = that.target[0].getBoundingClientRect();

            if (that.options.dropdownWidth == 'auto') {
                // same as textbox width
                that.container.css({ 'width': rect.width + 'px' });
            }
            else {
                that.container.css({ 'width': that.options.dropdownWidth });
            }

            if (that.options.dropdownHeight !== 'auto') {
                that.elementUL.css({ 'height': that.options.dropdownHeight });
            }

            // use the .position() function from jquery.ui if available
            // requires both jquery and jquery-ui to be loaded
            if (window.jQuery && window.jQuery.ui) {
                that.container.position({ my: 'left top', at: 'left bottom', of: that.target, collision: 'none flip' });
                return;
            }
            
            var scrollTop = $document[0].body.scrollTop || $document[0].documentElement.scrollTop || $window.pageYOffset,
                scrollLeft = $document[0].body.scrollLeft || $document[0].documentElement.scrollLeft || $window.pageXOffset;

            that.container.css({ 'left': rect.left + scrollLeft + 'px' });
            that.container.css({ 'top': rect.top + rect.height + scrollTop + 'px' });
        }

        function _updateTextBox() {
            if (that.selectedIndex === -1) {
                return;
            }

            var item = that.renderItems[that.selectedIndex];
            var textboxValue;

            // first check if the data is a simple string type 
            if (angular.isString(item.data)) {
                textboxValue = item.data;
            }
            else {
                textboxValue = item.value;
            }

            // update the textbox 
            _updateModel(textboxValue);

            return item.data;
        }

        function _updateModel(modelValue) {
            // update only if different from current value
            if (modelValue === that.textModelCtrl.$modelValue) {
                return;
            }
            
            that.textModelCtrl.$setViewValue(modelValue);
            that.textModelCtrl.$render();

            selectedText = modelValue;
        }

        function _renderList (renderFn, result) {
            // limit number of items rendered in the dropdown
            var maxItemsToRender = result.length < that.options.maxItemsToRender ? result.length : that.options.maxItemsToRender;
            var itemsToRender = result.slice(0, maxItemsToRender);

            angular.forEach(itemsToRender, function(data, key) {
                //invoke render callback with the data item as parameter
                //this should return an object with a 'label' and 'value' property
                var item = renderFn(data);
                if ( item !== null && angular.isDefined(item) && item.label && item.value ) {
                    // store the data on the renderItem and add to array
                    item.data = data;
                    that.renderItems.push(item);
                }
            });

            that.show();
        }

        function _getRenderFn() {
            // user provided function
            if (angular.isFunction(that.options.renderItem) && that.options.renderItem !== angular.noop) {
                return _getPromise(that.options.renderItem);
            }

            // itemTemplateUrl
            if (that.options.itemTemplateUrl) {
                return _getRenderFn_TemplateUrl();
            }

            // itemTemplate
            var template = that.options.itemTemplate ||  '<span>{{item}}</span>';
            return _getPromise(_renderItem.bind(null, $interpolate(template, false)));
        }

        function _getRenderFn_TemplateUrl() {
            return $templateRequest(that.options.itemTemplateUrl)
                .then(function(content) {
                    // delegate to local function
                    return  _renderItem.bind(null, $interpolate(content, false));
                })
                .catch($exceptionHandler)
                .catch(angular.noop);
        }

        function _renderItem(interpolationFn, data) {
            var value = (angular.isObject(data) && that.options.selectedTextAttr) ? data[that.options.selectedTextAttr] : data;
            return {
                value: value,
                label: $sce.trustAsHtml(interpolationFn({item: data}))
            };
        }

        function _getPromise(value) {
            var deferred = $q.defer();    
            deferred.resolve(value);
            return deferred.promise;
        }
    }

    function autoCompleteService() {
        var directiveCtrls = [];

        this.addDirectiveCtrl = function (ctrl) {
            if (ctrl) {
                directiveCtrls.push(ctrl);
            }
        }

        this.hideIfInactive = function (ctrl) {
            angular.forEach(directiveCtrls, function (value) {
                value.hideIfInactive();
            });
        }

        this.defaultOptionsDoc = function () {
            return defaultOptionsDoc;
        }
    }

    var KEYCODE = {
        ENTER: 13,
        ESCAPE: 27,
        UPARROW: 38,
        DOWNARROW: 40
    };

    var instanceCount = 0;

    var defaultOptions = {
        containerCssClass: '',
        selectedCssClass: 'auto-complete-item-selected',
        minimumChars: 1,
        maxItemsToRender: 20,
        //
        dropdownWidth: 'auto',
        dropdownHeight: 'auto',
        dropdownParent: undefined,
        //
        selectedTextAttr: undefined,
        itemTemplate: undefined,
        itemTemplateUrl: undefined,
        //
        loading: angular.noop,
        data: angular.noop,
        loadingComplete: angular.noop,
        renderItem: angular.noop,
        itemSelected: angular.noop,
        dropdownShown: angular.noop,
        dropdownHidden: angular.noop
    };

    var defaultOptionsDoc = {
        containerCssClass: { def: 'undefined', doc: 'CSS class applied to the dropdown container' },
        selectedCssClass: { def: 'auto-complete-item-selected', doc: 'CSS class applied to the selected list element' },
        minimumChars: { def: '1', doc: 'Minimum number of characters required to display the dropdown.' },
        maxItemsToRender: { def: '20', doc: 'Maximum number of items to render in the list.' },
        dropdownWidth: { def: 'auto', doc: 'Width in "px" of the dropddown list.' },
        dropdownHeight: { def: 'auto', doc: 'Height in "px" of the dropddown list.' },
        dropdownParent: { def: 'undefined', doc: 'a jQuery object to append the dropddown list.' },
        //
        selectedTextAttr: { def: 'undefined', doc: 'If the data for the dropdown is a collection of objects, the value of this attribute will be used to update the input text element.' },
        itemTemplate: { def: 'undefined', doc: 'A template for the dropddown list item. For example "<div>{{item.lastName}} - {{item.jobTitle}}</div>".' },
        itemTemplateUrl: { def: 'undefined', doc: 'This is similar to template but the template is loaded from the specified URL, asynchronously.' },
        //
        loading: { def: 'noop', doc: 'Callback before getting the data for the dropdown.' },
        data: { def: 'noop', doc: 'Callback for data for the dropdown. Must return a promise' },
        loadingComplete: { def: 'noop', doc: 'Callback after the items are rendered in the dropdown.' },
        renderItem: { def: 'noop', doc: 'Callback for custom rendering a list item. This is called for each item in the dropdown. It must return an object literal with "value" and "label" properties, where label is the safe html for display and value is the text for the textbox' },
        itemSelected: { def: 'noop', doc: 'Callback after an item is selected from the dropdown.' },
        dropdownShown: { def: 'noop', doc: 'Callback after the dropdown is hidden.' },
        dropdownHidden: { def: 'noop', doc: 'Callback after the dropdown is shown.' }
    };

})();

},{}],"/Users/cescwang/program/sil/SIL-frontend/node_modules/angular-baidu-map/dist/angular-baidu-map.js":[function(require,module,exports){
(function webpackUniversalModuleDefinition(root, factory) {
	if(typeof exports === 'object' && typeof module === 'object')
		module.exports = factory(require("angular"));
	else if(typeof define === 'function' && define.amd)
		define(["angular"], factory);
	else {
		var a = typeof exports === 'object' ? factory(require("angular")) : factory(root["angular"]);
		for(var i in a) (typeof exports === 'object' ? exports : root)[i] = a[i];
	}
})(this, function(__WEBPACK_EXTERNAL_MODULE_1__) {
return /******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId])
/******/ 			return installedModules[moduleId].exports;
/******/
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			exports: {},
/******/ 			id: moduleId,
/******/ 			loaded: false
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.loaded = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(0);
/******/ })
/************************************************************************/
/******/ ([
/* 0 */
/***/ function(module, exports, __webpack_require__) {

	'use strict';
	
	Object.defineProperty(exports, "__esModule", {
	    value: true
	});
	exports.ngBaiduMap = undefined;
	
	var _angular = __webpack_require__(1);
	
	var _angular2 = _interopRequireDefault(_angular);
	
	var _defaults = __webpack_require__(2);
	
	var _validator = __webpack_require__(3);
	
	var _directiveDef = __webpack_require__(4);
	
	var _baiduScriptLoader = __webpack_require__(5);
	
	var _offline = __webpack_require__(6);
	
	var _map = __webpack_require__(7);
	
	function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }
	
	var ngBaiduMap = exports.ngBaiduMap = function () {
	    var name = 'baiduMap';
	
	    (0, _directiveDef.def)(name, {
	        restrict: 'E',
	        scope: {
	            options: '=',
	            ak: '@',
	            offline: '=',
	            onMapLoaded: '&'
	        },
	        link: function link($scope, element, attrs) {
	
	            var opts = _angular2.default.extend({}, _defaults.defaultOpts, $scope.options);
	            var offlineOpts = _angular2.default.extend({}, _defaults.defaultOfflineOpts, $scope.offline);
	            $scope.offlineWords = offlineOpts.txt;
	            (0, _validator.validator)($scope.ak, 'ak must not be empty');
	            (0, _validator.validator)(opts.center, 'options.center must be set');
	            (0, _validator.validator)(opts.center.longitude, 'options.center.longitude must be set');
	            (0, _validator.validator)(opts.center.latitude, 'options.center.latitude must be set');
	            (0, _validator.validator)(opts.city, 'options.city must be set');
	
	            (0, _baiduScriptLoader.loader)($scope.ak, offlineOpts, function () {
	
	                var map = (0, _map.createInstance)(opts, element);
	
	                $scope.onMapLoaded({ map: map });
	
	                //create markers
	                var previousMarkers = [];
	
	                (0, _map.redrawMarkers)(map, previousMarkers, opts);
	
	                $scope.$watch('options.center', function (newValue, oldValue) {
	
	                    opts = $scope.options;
	                    map.centerAndZoom(new BMap.Point(opts.center.longitude, opts.center.latitude), opts.zoom);
	                    (0, _map.redrawMarkers)(map, previousMarkers, opts);
	                }, true);
	
	                $scope.$watch('options.markers', function (newValue, oldValue) {
	                    (0, _map.redrawMarkers)(map, previousMarkers, opts);
	                }, true);
	            });
	
	            $scope.divStyle = _offline.divStyle;
	            $scope.labelStyle = _offline.labelStyle;
	
	            setTimeout(function () {
	                var $label = document.querySelector('baidu-map div label');
	                $scope.labelStyle.marginTop = $label.clientHeight / -2 + 'px';
	                $scope.labelStyle.marginLeft = $label.clientWidth / -2 + 'px';
	                $scope.$apply();
	            });
	        },
	        template: '<div ng-style="divStyle"><label ng-style="labelStyle">{{ offlineWords }}</label></div>'
	    });
	
	    return name;
	}();

/***/ },
/* 1 */
/***/ function(module, exports) {

	module.exports = __WEBPACK_EXTERNAL_MODULE_1__;

/***/ },
/* 2 */
/***/ function(module, exports) {

	'use strict';
	
	Object.defineProperty(exports, "__esModule", {
	    value: true
	});
	var defaultOpts = exports.defaultOpts = {
	    navCtrl: true,
	    scaleCtrl: true,
	    overviewCtrl: true,
	    enableScrollWheelZoom: true,
	    zoom: 10
	};
	
	var defaultOfflineOpts = exports.defaultOfflineOpts = {
	    retryInterval: 30000,
	    txt: 'OFFLINE'
	};

/***/ },
/* 3 */
/***/ function(module, exports) {

	"use strict";
	
	Object.defineProperty(exports, "__esModule", {
	    value: true
	});
	var validator = exports.validator = function validator(prop, desc) {
	    if (!prop) {
	        throw new Error(desc);
	    }
	};

/***/ },
/* 4 */
/***/ function(module, exports, __webpack_require__) {

	'use strict';
	
	Object.defineProperty(exports, "__esModule", {
	    value: true
	});
	exports.def = undefined;
	
	var _angular = __webpack_require__(1);
	
	var _angular2 = _interopRequireDefault(_angular);
	
	function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }
	
	var def = exports.def = function def(name, ddo) {
	    _angular2.default.module(name, []).directive(name, [function () {
	        return ddo;
	    }]);
	};

/***/ },
/* 5 */
/***/ function(module, exports) {

	'use strict';
	
	Object.defineProperty(exports, "__esModule", {
	    value: true
	});
	var loader = exports.loader = function loader(ak, offlineOpts, callback) {
	    var MAP_URL = '//api.map.baidu.com/api?v=2.0&ak=' + ak + '&callback=baidumapinit&s=' + (location.protocol === 'https:' ? 1 : 0);
	
	    var baiduMap = window.baiduMap;
	    if (baiduMap && baiduMap.status === 'loading') {
	        return baiduMap.callbacks.push(callback);
	    }
	
	    if (baiduMap && baiduMap.status === 'loaded') {
	        return callback();
	    }
	
	    window.baiduMap = { status: 'loading', callbacks: [] };
	    window.baidumapinit = function () {
	        window.baiduMap.status = 'loaded';
	        callback();
	        window.baiduMap.callbacks.forEach(function (cb) {
	            return cb();
	        });
	        window.baiduMap.callbacks = [];
	    };
	
	    var createTag = function createTag() {
	        var script = document.createElement('script');
	        script.type = 'text/javascript';
	        script.src = MAP_URL;
	        script.onerror = function () {
	
	            Array.prototype.slice.call(document.querySelectorAll('baidu-map div')).forEach(function (node) {
	                node.style.opacity = 1;
	            });
	            document.body.removeChild(script);
	            setTimeout(createTag, offlineOpts.retryInterval);
	        };
	        document.body.appendChild(script);
	    };
	
	    createTag();
	};

/***/ },
/* 6 */
/***/ function(module, exports) {

	'use strict';
	
	Object.defineProperty(exports, "__esModule", {
	    value: true
	});
	var divStyle = exports.divStyle = {
	    width: '100%',
	    height: '100%',
	    backgroundColor: '#E6E6E6',
	    position: 'relative',
	    opacity: 0
	};
	
	var labelStyle = exports.labelStyle = {
	    fontSize: '30px',
	    position: 'absolute',
	    top: '50%',
	    marginTop: 0,
	    left: '50%',
	    marginLeft: 0
	};

/***/ },
/* 7 */
/***/ function(module, exports) {

	'use strict';
	
	Object.defineProperty(exports, "__esModule", {
	    value: true
	});
	var createInstance = exports.createInstance = function createInstance(opts, element) {
	    // create map instance
	    var map = new BMap.Map(element[0]);
	
	    // init map, set central location and zoom level
	    map.centerAndZoom(new BMap.Point(opts.center.longitude, opts.center.latitude), opts.zoom);
	    if (opts.navCtrl) {
	        // add navigation control
	        map.addControl(new BMap.NavigationControl());
	    }
	    if (opts.scaleCtrl) {
	        // add scale control
	        map.addControl(new BMap.ScaleControl());
	    }
	    if (opts.overviewCtrl) {
	        //add overview map control
	        map.addControl(new BMap.OverviewMapControl());
	    }
	    if (opts.enableScrollWheelZoom) {
	        //enable scroll wheel zoom
	        map.enableScrollWheelZoom();
	    }
	
	    // set the city name
	    map.setCurrentCity(opts.city);
	    return map;
	};
	
	var createMarker = exports.createMarker = function createMarker(marker, pt) {
	    if (marker.icon) {
	        var icon = new BMap.Icon(marker.icon, new BMap.Size(marker.width, marker.height));
	        return new BMap.Marker(pt, { icon: icon });
	    }
	    return new BMap.Marker(pt);
	};
	
	var redrawMarkers = exports.redrawMarkers = function redrawMarkers(map, previousMarkers, opts) {
	
	    previousMarkers.forEach(function (_ref) {
	        var marker = _ref.marker;
	        var listener = _ref.listener;
	
	        marker.removeEventListener('click', listener);
	        map.removeOverlay(marker);
	    });
	
	    previousMarkers.length = 0;
	
	    if (!opts.markers) {
	        return;
	    }
	
	    opts.markers.forEach(function (marker) {
	
	        var marker2 = createMarker(marker, new BMap.Point(marker.longitude, marker.latitude));
	
	        // add marker to the map
	        map.addOverlay(marker2);
	        var previousMarker = { marker: marker2, listener: null };
	        previousMarkers.push(previousMarker);
	
	        if (!marker.title && !marker.content) {
	            return;
	        }
	        var msg = '<p>' + (marker.title || '') + '</p><p>' + (marker.content || '') + '</p>';
	        var infoWindow2 = new BMap.InfoWindow(msg, {
	            enableMessage: !!marker.enableMessage
	        });
	        previousMarker.listener = function () {
	            this.openInfoWindow(infoWindow2);
	        };
	        marker2.addEventListener('click', previousMarker.listener);
	    });
	};

/***/ }
/******/ ])
});
;
},{"angular":"angular"}],"/Users/cescwang/program/sil/SIL-frontend/node_modules/angular-block-ui/dist/angular-block-ui.js":[function(require,module,exports){
/*!
   angular-block-ui v0.2.1
   (c) 2015 (null) McNull https://github.com/McNull/angular-block-ui
   License: MIT
*/
(function(angular) {

var blkUI = angular.module('blockUI', []);

blkUI.config(["$provide", "$httpProvider", function ($provide, $httpProvider) {

  $provide.decorator('$exceptionHandler', ['$delegate', '$injector',
    function ($delegate, $injector) {
      var blockUI, blockUIConfig;

      return function (exception, cause) {

        blockUIConfig = blockUIConfig || $injector.get('blockUIConfig');

        if (blockUIConfig.resetOnException) {
          try {
            blockUI = blockUI || $injector.get('blockUI');
            blockUI.instances.reset();
          } catch (ex) {
            console.log('$exceptionHandler', exception);
          }
        }

        $delegate(exception, cause);
      };
    }
  ]);

  $httpProvider.interceptors.push('blockUIHttpInterceptor');
}]);

blkUI.run(["$document", "blockUIConfig", "$templateCache", function ($document, blockUIConfig, $templateCache) {
  if (blockUIConfig.autoInjectBodyBlock) {
    $document.find('body').attr('block-ui', 'main');
  }

  if (blockUIConfig.template) {

    // Swap the builtin template with the custom template.
    // Create a magic cache key and place the template in the cache.

    blockUIConfig.templateUrl = '$$block-ui-template$$';
    $templateCache.put(blockUIConfig.templateUrl, blockUIConfig.template);
  }
}]);

function moduleLoaded(name) {
  try {
    angular.module(name);
  } catch(ex) {
    return false;
  }
  return true;
}
blkUI.config(["$provide", function ($provide) {
  $provide.decorator('$location', decorateLocation);
}]);

var decorateLocation = [
  '$delegate', 'blockUI', 'blockUIConfig',
  function ($delegate, blockUI, blockUIConfig) {

    if (blockUIConfig.blockBrowserNavigation) {

      blockUI.$_blockLocationChange = true;

      var overrides = ['url', 'path', 'search', 'hash', 'state'];

      function hook(f) {
        var s = $delegate[f];
        $delegate[f] = function () {

          //        console.log(f, Date.now(), arguments);

          var result = s.apply($delegate, arguments);

          // The call was a setter if the $location service is returned.

          if (result === $delegate) {

            // Mark the mainblock ui to allow the location change.

            blockUI.$_blockLocationChange = false;
          }

          return result;
        };
      }

      angular.forEach(overrides, hook);

    }

    return $delegate;
}];

// Called from block-ui-directive for the 'main' instance.

function blockNavigation($scope, mainBlockUI, blockUIConfig) {

  if (blockUIConfig.blockBrowserNavigation) {

    function registerLocationChange() {

      $scope.$on('$locationChangeStart', function (event) {

        //        console.log('$locationChangeStart', mainBlockUI.$_blockLocationChange + ' ' + mainBlockUI.state().blockCount);

        if (mainBlockUI.$_blockLocationChange && mainBlockUI.state().blockCount > 0) {
          event.preventDefault();
        }
      });

      $scope.$on('$locationChangeSuccess', function () {
        mainBlockUI.$_blockLocationChange = blockUIConfig.blockBrowserNavigation;

        //        console.log('$locationChangeSuccess', mainBlockUI.$_blockLocationChange + ' ' + mainBlockUI.state().blockCount);
      });
    }

    if (moduleLoaded('ngRoute')) {

      // After the initial content has been loaded we'll spy on any location
      // changes and discard them when needed.

      var fn = $scope.$on('$viewContentLoaded', function () {

        // Unhook the view loaded and hook a function that will prevent
        // location changes while the block is active.

        fn();
        registerLocationChange();

      });

    } else {
      registerLocationChange();
    }

  }
}
blkUI.directive('blockUiContainer', ["blockUIConfig", "blockUiContainerLinkFn", function (blockUIConfig, blockUiContainerLinkFn) {
  return {
    scope: true,
    restrict: 'A',
    templateUrl: blockUIConfig.templateUrl,
    compile: function($element) {
      return blockUiContainerLinkFn;
    }
  };
}]).factory('blockUiContainerLinkFn', ["blockUI", "blockUIUtils", function (blockUI, blockUIUtils) {

  return function ($scope, $element, $attrs) {

    var srvInstance = $element.inheritedData('block-ui');

    if (!srvInstance) {
      throw new Error('No parent block-ui service instance located.');
    }

    // Expose the state on the scope

    $scope.state = srvInstance.state();

//    $scope.$watch('state.blocking', function(value) {
//      $element.toggleClass('block-ui-visible', !!value);
//    });
//
//    $scope.$watch('state.blockCount > 0', function(value) {
//      $element.toggleClass('block-ui-active', !!value);
//    });
  };
}]);
blkUI.directive('blockUi', ["blockUiCompileFn", function (blockUiCompileFn) {

  return {
    scope: true,
    restrict: 'A',
    compile: blockUiCompileFn
  };

}]).factory('blockUiCompileFn', ["blockUiPreLinkFn", function (blockUiPreLinkFn) {

  return function ($element, $attrs) {

    // Class should be added here to prevent an animation delay error.

    $element.append('<div block-ui-container class="block-ui-container"></div>');

    return {
      pre: blockUiPreLinkFn
    };

  };

}]).factory('blockUiPreLinkFn', ["blockUI", "blockUIUtils", "blockUIConfig", function (blockUI, blockUIUtils, blockUIConfig) {

  return function ($scope, $element, $attrs) {

    // If the element does not have the class "block-ui" set, we set the
    // default css classes from the config.

    if (!$element.hasClass('block-ui')) {
      $element.addClass(blockUIConfig.cssClass);
    }

    // Expose the blockUiMessageClass attribute value on the scope

    $attrs.$observe('blockUiMessageClass', function (value) {
      $scope.$_blockUiMessageClass = value;
    });

    // Create the blockUI instance
    // Prefix underscore to prevent integers:
    // https://github.com/McNull/angular-block-ui/pull/8

    var instanceId = $attrs.blockUi || '_' + $scope.$id;
    var srvInstance = blockUI.instances.get(instanceId);

    // If this is the main (topmost) block element we'll also need to block any
    // location changes while the block is active.

    if (instanceId === 'main') {
      blockNavigation($scope, srvInstance, blockUIConfig);
    } else {
      // Locate the parent blockUI instance
      var parentInstance = $element.inheritedData('block-ui');

      if (parentInstance) {
        // TODO: assert if parent is already set to something else
        srvInstance._parent = parentInstance;
      }
    }

    // Ensure the instance is released when the scope is destroyed

    $scope.$on('$destroy', function () {
      srvInstance.release();
    });

    // Increase the reference count

    srvInstance.addRef();

    // Expose the state on the scope

    $scope.$_blockUiState = srvInstance.state();

    $scope.$watch('$_blockUiState.blocking', function (value) {
      // Set the aria-busy attribute if needed
      $element.attr('aria-busy', !!value);
      $element.toggleClass('block-ui-visible', !!value);
    });

    $scope.$watch('$_blockUiState.blockCount > 0', function (value) {
      $element.toggleClass('block-ui-active', !!value);
    });

    // If a pattern is provided assign it to the state

    var pattern = $attrs.blockUiPattern;

    if (pattern) {
      var regExp = blockUIUtils.buildRegExp(pattern);
      srvInstance.pattern(regExp);
    }

    // Store a reference to the service instance on the element

    $element.data('block-ui', srvInstance);

  };

}]);
//.factory('blockUiPostLinkFn', function(blockUIUtils) {
//
//  return function($scope, $element, $attrs) {
//
//    var $message;
//
//    $attrs.$observe('blockUiMessageClass', function(value) {
//
//      $message = $message || blockUIUtils.findElement($element, function($e) {
//        return $e.hasClass('block-ui-message');
//      });
//
//      $message.addClass(value);
//
//    });
//  };
//
//});
blkUI.constant('blockUIConfig', {
    templateUrl: 'angular-block-ui/angular-block-ui.ng.html',
    delay: 250,
    message: "Loading ...",
    autoBlock: true,
    resetOnException: true,
    requestFilter: angular.noop,
    autoInjectBodyBlock: true,
    cssClass: 'block-ui block-ui-anim-fade',
    blockBrowserNavigation: false
});


blkUI.factory('blockUIHttpInterceptor', ["$q", "$injector", "blockUIConfig", "$templateCache", function($q, $injector, blockUIConfig, $templateCache) {

  var blockUI;

  function injectBlockUI() {
    blockUI = blockUI || $injector.get('blockUI');
  }

  function stopBlockUI(config) {
    if (blockUIConfig.autoBlock && (config && !config.$_noBlock && config.$_blocks)) {
      injectBlockUI();
      config.$_blocks.stop();
    }
  }

  function error(rejection) {

    try {
      stopBlockUI(rejection.config);
    } catch(ex) {
      console.log('httpRequestError', ex);
    }

    return $q.reject(rejection);
  }

  return {
    request: function(config) {

      // Only block when autoBlock is enabled ...
      // ... and the request doesn't match a cached template.

      if (blockUIConfig.autoBlock &&
        !(config.method == 'GET' && $templateCache.get(config.url))) {

        // Don't block excluded requests

        var result = blockUIConfig.requestFilter(config);

        if (result === false) {
          // Tag the config so we don't unblock this request
          config.$_noBlock = true;
        } else {

          injectBlockUI();

          config.$_blocks = blockUI.instances.locate(config);
          config.$_blocks.start(result);
        }
      }

      return config;
    },

    requestError: error,

    response: function(response) {

      // If the connection to the website goes down the response interceptor gets and error with "cannot read property config of null".
      // https://github.com/McNull/angular-block-ui/issues/53

      if(response) {
        stopBlockUI(response.config);
      }

      return response;
    },

    responseError: error
  };

}]);

blkUI.factory('blockUI', ["blockUIConfig", "$timeout", "blockUIUtils", "$document", function(blockUIConfig, $timeout, blockUIUtils, $document) {

  var $body = $document.find('body');
  
  // These properties are not allowed to be specified in the start method.
  var reservedStateProperties = ['id', 'blockCount', 'blocking'];
  
  function BlockUI(id) {

    var self = this;

    var state = {
      id: id,
      blockCount: 0,
      message: blockUIConfig.message,
      blocking: false
    }, startPromise, doneCallbacks = [];

    this._id = id;

    this._refs = 0;

    this.start = function(messageOrOptions) {
      
      messageOrOptions = messageOrOptions || {};
      
      if(angular.isString(messageOrOptions)) {
        messageOrOptions = {
          message: messageOrOptions
        };
      } else {
        angular.forEach(reservedStateProperties, function(x) {
          if(messageOrOptions[x]) {
            throw new Error('The property ' + x + ' is reserved for the block state.');
          }
        });
      } 
      
      angular.extend(state, messageOrOptions);
      
      if(state.blockCount > 0) {
        state.message = messageOrOptions.message || state.message || blockUIConfig.message;
      } else {
        state.message = messageOrOptions.message || blockUIConfig.message;
      }
      
      // if(state.blockCount > 0) {
      //   messageOrOptions = messageOrOptions || state.message || blockUIConfig.message;
      // } else {
      //   messageOrOptions = messageOrOptions || blockUIConfig.message;
      // }

      // state.message = messageOrOptions;

      state.blockCount++;

      // Check if the focused element is part of the block scope

      var $ae = angular.element($document[0].activeElement);

      if($ae.length && blockUIUtils.isElementInBlockScope($ae, self)) {

        // Let the active element lose focus and store a reference 
        // to restore focus when we're done (reset)

        self._restoreFocus = $ae[0];

        // https://github.com/McNull/angular-block-ui/issues/13
        // http://stackoverflow.com/questions/22698058/apply-already-in-progress-error-when-using-typeahead-plugin-found-to-be-relate
        // Queue the blur after any ng-blur expression.

        $timeout(function() {
          // Ensure we still need to blur
          // Don't restore if active element is body, since this causes IE to switch windows (see http://tjvantoll.com/2013/08/30/bugs-with-document-activeelement-in-internet-explorer/)
          if (self._restoreFocus && self._restoreFocus !== $body[0]) {
            self._restoreFocus.blur();
          }
        });
      }

      if (!startPromise && blockUIConfig.delay !== 0) {
        startPromise = $timeout(block, blockUIConfig.delay);
      } else if (blockUIConfig.delay === 0) {
        block();
      }

      function block () {
        startPromise = null;
        state.blocking = true;
      }
    };

    this._cancelStartTimeout = function() {
      if (startPromise) {
        $timeout.cancel(startPromise);
        startPromise = null;
      }
    };

    this.stop = function() {
      state.blockCount = Math.max(0, --state.blockCount);

      if (state.blockCount === 0) {
        self.reset(true);
      }
    };

    this.isBlocking = function () {
        return state.blocking;
    };

    this.message = function(value) {
      state.message = value;
    };

    this.pattern = function(regexp) {
      if (regexp !== undefined) {
        self._pattern = regexp;
      }

      return self._pattern;
    };

    this.reset = function(executeCallbacks) {
      
      self._cancelStartTimeout();
      state.blockCount = 0;
      state.blocking = false;

      // Restore the focus to the element that was active
      // before the block start, but not if the user has 
      // focused something else while the block was active.

      if(self._restoreFocus && 
         (!$document[0].activeElement || $document[0].activeElement === $body[0])) {
        
        //IE8 will throw if element for setting focus is invisible
        try {
          self._restoreFocus.focus();
        } catch(e1) {
          (function () {
              var elementToFocus = self._restoreFocus;
              $timeout(function() { 
                if(elementToFocus) { 
                  try { 
                    elementToFocus.focus(); 
                  } catch(e2) { }
              } 
            },100);
          })();
        }
        
        self._restoreFocus = null;
      }
      
      try {
        if (executeCallbacks) {
          angular.forEach(doneCallbacks, function(cb) {
            cb();
          });
        }
      } finally {
        doneCallbacks.length = 0;
      }
    };

    this.done = function(fn) {
      doneCallbacks.push(fn);
    };

    this.state = function() {
      return state;
    };

    this.addRef = function() {
      self._refs += 1;
    };

    this.release = function() {
      if(--self._refs <= 0) {
        mainBlock.instances._destroy(self);
      }
    };
  }

  var instances = [];

  instances.get = function(id) {

    if(!isNaN(id)) {
      throw new Error('BlockUI id cannot be a number');
    }

    var instance = instances[id];

    if(!instance) {
      // TODO: ensure no array instance trashing [xxx] -- current workaround: '_' + $scope.$id
      instance = instances[id] = new BlockUI(id);
      instances.push(instance);
    }

    return instance;
  };

  instances._destroy = function(idOrInstance) {
    if (angular.isString(idOrInstance)) {
      idOrInstance = instances[idOrInstance];
    }

    if (idOrInstance) {
      idOrInstance.reset();

      var i = blockUIUtils.indexOf(instances, idOrInstance);
      instances.splice(i, 1);

      delete instances[idOrInstance.state().id];
    }
  };
  
  instances.locate = function(request) {

    var result = [];

    // Add function wrappers that will be executed on every item
    // in the array.
    
    blockUIUtils.forEachFnHook(result, 'start');
    blockUIUtils.forEachFnHook(result, 'stop');

    var i = instances.length;

    while(i--) {
      var instance = instances[i];
      var pattern = instance._pattern;

      if(pattern && pattern.test(request.url)) {
        result.push(instance);
      }
    }

    if(result.length === 0) {
      result.push(mainBlock);
    }

    return result;
  };

  // Propagate the reset to all instances

  blockUIUtils.forEachFnHook(instances, 'reset');

  var mainBlock = instances.get('main');

  mainBlock.addRef();
  mainBlock.instances = instances;

  return mainBlock;
}]);


blkUI.factory('blockUIUtils', function() {

  var $ = angular.element;

  var utils = {
    buildRegExp: function(pattern) {
      var match = pattern.match(/^\/(.*)\/([gim]*)$/), regExp;

      if(match) {
        regExp = new RegExp(match[1], match[2]);
      } else {
        throw Error('Incorrect regular expression format: ' + pattern);
      }

      return regExp;
    },
    forEachFn: function(arr, fnName, args) {
      var i = arr.length;
      while(i--) {
        var t = arr[i];
        t[fnName].apply(t, args);
      }
    },
    forEachFnHook: function(arr, fnName) {
      arr[fnName] = function() {
        utils.forEachFn(this, fnName, arguments);
      }
    },
    isElementInBlockScope: function($element, blockScope) {
      var c = $element.inheritedData('block-ui');

      while(c) {
        if(c === blockScope) {
          return true;
        }

        c = c._parent;
      }

      return false;
    },
    findElement: function ($element, predicateFn, traverse) {
      var ret = null;

      if (predicateFn($element)) {
        ret = $element;
      } else {

        var $elements;

        if (traverse) {
          $elements = $element.parent();
        } else {
          $elements = $element.children();
        }

        var i = $elements.length;
        while (!ret && i--) {
          ret = utils.findElement($($elements[i]), predicateFn, traverse);
        }
      }

      return ret;
    },
    indexOf: function(arr, obj, start) {
//      if(Array.prototype.indexOf) {
//        return arr.indexOf(obj, start);
//      }

      for (var i = (start || 0), j = arr.length; i < j; i++) {
        if (arr[i] === obj) {
          return i;
        }
      }

      return -1;
    }
  };

  return utils;

});
// Automatically generated.
// This file is already embedded in your main javascript output, there's no need to include this file
// manually in the index.html. This file is only here for your debugging pleasures.
angular.module('blockUI').run(['$templateCache', function($templateCache){
  $templateCache.put('angular-block-ui/angular-block-ui.ng.html', '<div class=\"block-ui-overlay\"></div><div class=\"block-ui-message-container\" aria-live=\"assertive\" aria-atomic=\"true\"><div class=\"block-ui-message\" ng-class=\"$_blockUiMessageClass\">{{ state.message }}</div></div>');
}]);
})(angular);

},{}],"/Users/cescwang/program/sil/SIL-frontend/node_modules/angular-datepicker/dist/angular-datepicker.js":[function(require,module,exports){
(function (global, factory) {'use strict';var fnc;fnc = (typeof exports === 'object' && typeof module !== 'undefined') ? module.exports = factory(require('angular'), require('moment')) :(typeof define === 'function' && define.amd) ? define(['angular', 'moment'], factory) :factory(global.angular, global.moment);}(this, function (angular, moment) {
//(function (global, factory) {
//  'use strict';
//  var fnc;
//  fnc = (typeof exports === 'object' && typeof module !== 'undefined') ? module.exports = factory(require('angular'), require('moment')) :
//        (typeof define === 'function' && define.amd) ? define(['angular', 'moment'], factory) :
//        factory(global.angular, global.moment);
//}(this, function (angular, moment) {
var Module = angular.module('datePicker', []);

  Module.constant('datePickerConfig', {
    template: 'templates/datepicker.html',
    view: 'month',
    views: ['year', 'month', 'date', 'hours', 'minutes'],
    momentNames: {
      year: 'year',
      month: 'month',
      date: 'day',
      hours: 'hours',
      minutes: 'minutes',
    },
    viewConfig: {
      year: ['years', 'isSameYear'],
      month: ['months', 'isSameMonth'],
      hours: ['hours', 'isSameHour'],
      minutes: ['minutes', 'isSameMinutes'],
    },
    step: 5
  });

//Moment format filter.
  Module.filter('mFormat', function () {
    return function (m, format, tz) {
      if (!(moment.isMoment(m))) {
        return moment(m).format(format);
      }
      return tz ? moment.tz(m, tz).format(format) : m.format(format);
    };
  });

  Module.directive('datePicker', ['datePickerConfig', 'datePickerUtils', function datePickerDirective(datePickerConfig, datePickerUtils) {

    //noinspection JSUnusedLocalSymbols
    return {
      // this is a bug ?
      require: '?ngModel',
      template: '<div ng-include="template"></div>',
      scope: {
        model: '=datePicker',
        after: '=?',
        before: '=?'
      },
      link: function (scope, element, attrs, ngModel) {
        function prepareViews() {
          scope.views = datePickerConfig.views.concat();
          scope.view = attrs.view || datePickerConfig.view;

          scope.views = scope.views.slice(
            scope.views.indexOf(attrs.maxView || 'year'),
            scope.views.indexOf(attrs.minView || 'minutes') + 1
          );

          if (scope.views.length === 1 || scope.views.indexOf(scope.view) === -1) {
            scope.view = scope.views[0];
          }
        }

        function getDate(name) {
          return datePickerUtils.getDate(scope, attrs, name);
        }

        var arrowClick = false,
          tz = scope.tz = attrs.timezone,
          createMoment = datePickerUtils.createMoment,
          eventIsForPicker = datePickerUtils.eventIsForPicker,
          step = parseInt(attrs.step || datePickerConfig.step, 10),
          partial = !!attrs.partial,
          minDate = getDate('minDate'),
          maxDate = getDate('maxDate'),

          /**
           * [指令内包含date-picker指令时，通过element[0].id并不能获取到动态id]
           * @type {[type]}
           */
          // pickerID = element[0].id,
          pickerID = scope.$parent.id || element[0].id,

          now = scope.now = createMoment(),
          selected = scope.date = createMoment(scope.model || now),
          autoclose = attrs.autoClose === 'true',
        // Either gets the 1st day from the attributes, or asks moment.js to give it to us as it is localized.
          firstDay = attrs.firstDay && attrs.firstDay >= 0 && attrs.firstDay <= 6 ? parseInt(attrs.firstDay, 10) : moment().weekday(0).day(),
          setDate,
          prepareViewData,
          isSame,
          clipDate,
          isNow,
          inValidRange;

        datePickerUtils.setParams(tz, firstDay);

        if (!scope.model) {
          selected.minute(Math.ceil(selected.minute() / step) * step).second(0);
        }

        scope.template = attrs.template || datePickerConfig.template;

        scope.watchDirectChanges = attrs.watchDirectChanges !== undefined;
        scope.callbackOnSetDate = attrs.dateChange ? datePickerUtils.findFunction(scope, attrs.dateChange) : undefined;

        prepareViews();

        scope.setView = function (nextView) {
          if (scope.views.indexOf(nextView) !== -1) {
            scope.view = nextView;
          }
        };

        scope.selectDate = function (date) {
          if (attrs.disabled) {
            return false;
          }
          if (isSame(scope.date, date)) {
            date = scope.date;
          }
          date = clipDate(date);
          if (!date) {
            return false;
          }
          scope.date = date;

          var nextView = scope.views[scope.views.indexOf(scope.view) + 1];
          if ((!nextView || partial) || scope.model) {
            setDate(date);
          }

          if (nextView) {
            scope.setView(nextView);
          } else if (autoclose) {
            element.addClass('hidden');
            scope.$emit('hidePicker');
          } else {
            prepareViewData();
          }
        };

        setDate = function (date) {
          if (date) {
            scope.model = date;
            if (ngModel) {
              ngModel.$setViewValue(date);
            }
          }
          scope.$emit('setDate', scope.model, scope.view);

          //This is duplicated in the new functionality.
          if (scope.callbackOnSetDate) {
            scope.callbackOnSetDate(attrs.datePicker, scope.date);
          }
        };

        function update() {
          var view = scope.view;
          datePickerUtils.setParams(tz, firstDay);

          if (scope.model && !arrowClick) {
            scope.date = createMoment(scope.model);
            arrowClick = false;
          }

          var date = scope.date;

          switch (view) {
            case 'year':
              scope.years = datePickerUtils.getVisibleYears(date);
              break;
            case 'month':
              scope.months = datePickerUtils.getVisibleMonths(date);
              break;
            case 'date':
              scope.weekdays = scope.weekdays || datePickerUtils.getDaysOfWeek();
              scope.weeks = datePickerUtils.getVisibleWeeks(date);
              break;
            case 'hours':
              scope.hours = datePickerUtils.getVisibleHours(date);
              break;
            case 'minutes':
              scope.minutes = datePickerUtils.getVisibleMinutes(date, step);
              break;
          }

          prepareViewData();
        }

        function watch() {
          if (scope.view !== 'date') {
            return scope.view;
          }
          return scope.date ? scope.date.month() : null;
        }

        scope.$watch(watch, update);

        if (scope.watchDirectChanges) {
          scope.$watch('model', function () {
            arrowClick = false;
            update();
          });
        }

        prepareViewData = function () {
          var view = scope.view,
            date = scope.date,
            classes = [], classList = '',
            i, j;

          datePickerUtils.setParams(tz, firstDay);

          if (view === 'date') {
            var weeks = scope.weeks, week;
            for (i = 0; i < weeks.length; i++) {
              week = weeks[i];
              classes.push([]);
              for (j = 0; j < week.length; j++) {
                classList = '';
                if (datePickerUtils.isSameDay(date, week[j])) {
                  classList += 'active';
                }
                if (isNow(week[j], view)) {
                  classList += ' now';
                }
                //if (week[j].month() !== date.month()) classList += ' disabled';
                if (week[j].month() !== date.month() || !inValidRange(week[j])) {
                  classList += ' disabled';
                }
                classes[i].push(classList);
              }
            }
          } else {
            var params = datePickerConfig.viewConfig[view],
              dates = scope[params[0]],
              compareFunc = params[1];

            for (i = 0; i < dates.length; i++) {
              classList = '';
              if (datePickerUtils[compareFunc](date, dates[i])) {
                classList += 'active';
              }
              if (isNow(dates[i], view)) {
                classList += ' now';
              }
              if (!inValidRange(dates[i])) {
                classList += ' disabled';
              }
              classes.push(classList);
            }
          }
          scope.classes = classes;
        };

        scope.next = function (delta) {
          var date = moment(scope.date);
          delta = delta || 1;
          switch (scope.view) {
            case 'year':
            /*falls through*/
            case 'month':
              date.year(date.year() + delta);
              break;
            case 'date':
              date.month(date.month() + delta);
              break;
            case 'hours':
            /*falls through*/
            case 'minutes':
              date.hours(date.hours() + delta);
              break;
          }
          date = clipDate(date);
          if (date) {
            scope.date = date;
            setDate(date);
            arrowClick = true;
            update();
          }
        };

        inValidRange = function (date) {
          var valid = true;
          if (minDate && minDate.isAfter(date)) {
            valid = isSame(minDate, date);
          }
          if (maxDate && maxDate.isBefore(date)) {
            valid &= isSame(maxDate, date);
          }
          return valid;
        };

        isSame = function (date1, date2) {
          return date1.isSame(date2, datePickerConfig.momentNames[scope.view]) ? true : false;
        };

        clipDate = function (date) {
          if (minDate && minDate.isAfter(date)) {
            return minDate;
          } else if (maxDate && maxDate.isBefore(date)) {
            return maxDate;
          } else {
            return date;
          }
        };

        isNow = function (date, view) {
          var is = true;

          switch (view) {
            case 'minutes':
              is &= ~~(now.minutes() / step) === ~~(date.minutes() / step);
            /* falls through */
            case 'hours':
              is &= now.hours() === date.hours();
            /* falls through */
            case 'date':
              is &= now.date() === date.date();
            /* falls through */
            case 'month':
              is &= now.month() === date.month();
            /* falls through */
            case 'year':
              is &= now.year() === date.year();
          }
          return is;
        };

        scope.prev = function (delta) {
          return scope.next(-delta || -1);
        };

        if (pickerID) {
          scope.$on('pickerUpdate', function (event, pickerIDs, data) {
            if (eventIsForPicker(pickerIDs, pickerID)) {
              var updateViews = false, updateViewData = false;

              if (angular.isDefined(data.minDate)) {
                minDate = data.minDate ? data.minDate : false;
                updateViewData = true;
              }
              if (angular.isDefined(data.maxDate)) {
                maxDate = data.maxDate ? data.maxDate : false;
                updateViewData = true;
              }

              if (angular.isDefined(data.minView)) {
                attrs.minView = data.minView;
                updateViews = true;
              }
              if (angular.isDefined(data.maxView)) {
                attrs.maxView = data.maxView;
                updateViews = true;
              }
              attrs.view = data.view || attrs.view;

              if (updateViews) {
                prepareViews();
              }

              if (updateViewData) {
                update();
              }
            }
          });
        }
      }
    };
  }]);
//}));

//(function (global, factory) {
//  'use strict';
//  var fnc;
//  fnc = (typeof exports === 'object' && typeof module !== 'undefined') ? module.exports = factory(require('angular'), require('moment')) :
//    (typeof define === 'function' && define.amd) ? define(['angular', 'moment'], factory) :
//      factory(global.angular, global.moment);
//}(this, function (angular, moment) {
angular.module('datePicker').factory('datePickerUtils', function () {
    var tz, firstDay;
    var createNewDate = function (year, month, day, hour, minute) {
      var utc = Date.UTC(year | 0, month | 0, day | 0, hour | 0, minute | 0);
      return tz ? moment.tz(utc, tz) : moment(utc);
    };

    return {
      getVisibleMinutes: function (m, step) {
        var year = m.year(),
          month = m.month(),
          day = m.date(),
          hour = m.hours(), pushedDate,
          offset = m.utcOffset() / 60,
          minutes = [], minute;

        for (minute = 0; minute < 60; minute += step) {
          pushedDate = createNewDate(year, month, day, hour - offset, minute);
          minutes.push(pushedDate);
        }
        return minutes;
      },
      getVisibleWeeks: function (m) {
        m = moment(m);
        var startYear = m.year(),
          startMonth = m.month();

        //Set date to the first day of the month
        m.date(1);

        //Grab day of the week
        var day = m.day();

        //Go back the required number of days to arrive at the previous week start
        m.date(firstDay - (day + (firstDay >= day ? 6 : -1)));

        var weeks = [];

        while (weeks.length < 6) {
          if (m.year() === startYear && m.month() > startMonth) {
            break;
          }
          weeks.push(this.getDaysOfWeek(m));
          m.add(7, 'd');
        }
        return weeks;
      },
      getVisibleYears: function (d) {
        var m = moment(d),
          year = m.year();

        m.year(year - (year % 10));
        year = m.year();

        var offset = m.utcOffset() / 60,
          years = [],
          pushedDate,
          actualOffset;

        for (var i = 0; i < 12; i++) {
          pushedDate = createNewDate(year, 0, 1, 0 - offset);
          actualOffset = pushedDate.utcOffset() / 60;
          if (actualOffset !== offset) {
            pushedDate = createNewDate(year, 0, 1, 0 - actualOffset);
            offset = actualOffset;
          }
          years.push(pushedDate);
          year++;
        }
        return years;
      },
      getDaysOfWeek: function (m) {
        m = m ? m : (tz ? moment.tz(tz).day(firstDay) : moment().day(firstDay));

        var year = m.year(),
          month = m.month(),
          day = m.date(),
          days = [],
          pushedDate,
          offset = m.utcOffset() / 60,
          actualOffset;

        for (var i = 0; i < 7; i++) {
          pushedDate = createNewDate(year, month, day, 0 - offset, 0, false);
          actualOffset = pushedDate.utcOffset() / 60;
          if (actualOffset !== offset) {
            pushedDate = createNewDate(year, month, day, 0 - actualOffset, 0, false);
          }
          days.push(pushedDate);
          day++;
        }
        return days;
      },
      getVisibleMonths: function (m) {
        var year = m.year(),
          offset = m.utcOffset() / 60,
          months = [],
          pushedDate,
          actualOffset;

        for (var month = 0; month < 12; month++) {
          pushedDate = createNewDate(year, month, 1, 0 - offset, 0, false);
          actualOffset = pushedDate.utcOffset() / 60;
          if (actualOffset !== offset) {
            pushedDate = createNewDate(year, month, 1, 0 - actualOffset, 0, false);
          }
          months.push(pushedDate);
        }
        return months;
      },
      getVisibleHours: function (m) {
        var year = m.year(),
          month = m.month(),
          day = m.date(),
          hours = [],
          hour, pushedDate, actualOffset,
          offset = m.utcOffset() / 60;

        for (hour = 0; hour < 24; hour++) {
          pushedDate = createNewDate(year, month, day, hour - offset, 0, false);
          actualOffset = pushedDate.utcOffset() / 60;
          if (actualOffset !== offset) {
            pushedDate = createNewDate(year, month, day, hour - actualOffset, 0, false);
          }
          hours.push(pushedDate);
        }

        return hours;
      },
      isAfter: function (model, date) {
        return model && model.unix() >= date.unix();
      },
      isBefore: function (model, date) {
        return model.unix() <= date.unix();
      },
      isSameYear: function (model, date) {
        return model && model.year() === date.year();
      },
      isSameMonth: function (model, date) {
        return this.isSameYear(model, date) && model.month() === date.month();
      },
      isSameDay: function (model, date) {
        return this.isSameMonth(model, date) && model.date() === date.date();
      },
      isSameHour: function (model, date) {
        return this.isSameDay(model, date) && model.hours() === date.hours();
      },
      isSameMinutes: function (model, date) {
        return this.isSameHour(model, date) && model.minutes() === date.minutes();
      },
      setParams: function (zone, fd) {
        tz = zone;
        firstDay = fd;
      },
      scopeSearch: function (scope, name, comparisonFn) {
        var parentScope = scope,
          nameArray = name.split('.'),
          target, i, j = nameArray.length;

        do {
          target = parentScope = parentScope.$parent;

          //Loop through provided names.
          for (i = 0; i < j; i++) {
            target = target[nameArray[i]];
            if (!target) {
              continue;
            }
          }

          //If we reached the end of the list for this scope,
          //and something was found, trigger the comparison
          //function. If the comparison function is happy, return
          //found result. Otherwise, continue to the next parent scope
          if (target && comparisonFn(target)) {
            return target;
          }

        } while (parentScope.$parent);

        return false;
      },
      findFunction: function (scope, name) {
        //Search scope ancestors for a matching function.
        return this.scopeSearch(scope, name, function (target) {
          //Property must also be a function
          return angular.isFunction(target);
        });
      },
      findParam: function (scope, name) {
        //Search scope ancestors for a matching parameter.
        return this.scopeSearch(scope, name, function () {
          //As long as the property exists, we're good
          return true;
        });
      },
      createMoment: function (m) {
        if (tz) {
          return moment.tz(m, tz);
        } else {
          //If input is a moment, and we have no TZ info, we need to remove TZ
          //info from the moment, otherwise the newly created moment will take
          //the timezone of the input moment. The easiest way to do that is to
          //take the unix timestamp, and use that to create a new moment.
          //The new moment will use the local timezone of the user machine.
          return moment.isMoment(m) ? moment.unix(m.unix()) : moment(m);
        }
      },
      getDate: function (scope, attrs, name) {
        var result = false;
        if (attrs[name]) {
          result = this.createMoment(attrs[name]);
          if (!result.isValid()) {
            result = this.findParam(scope, attrs[name]);
            if (result) {
              result = this.createMoment(result);
            }
          }
        }

        return result;
      },
      eventIsForPicker: function (targetIDs, pickerID) {
        //Checks if an event targeted at a specific picker, via either a string name, or an array of strings.
        return (angular.isArray(targetIDs) && targetIDs.indexOf(pickerID) > -1 || targetIDs === pickerID);
      }
    };
  });
//}));

//(function (global, factory) {
//  'use strict';
//  var fnc;
//  fnc = (typeof exports === 'object' && typeof module !== 'undefined') ? module.exports = factory(require('angular'), require('moment')) :
//    (typeof define === 'function' && define.amd) ? define(['angular', 'moment'], factory) :
//      factory(global.angular, global.moment);
//}(this, function (angular, moment) {
var Module = angular.module('datePicker');

  Module.directive('dateRange', ['$compile', 'datePickerUtils', 'dateTimeConfig', function ($compile, datePickerUtils, dateTimeConfig) {
    function getTemplate(attrs, id, model, min, max) {
      return dateTimeConfig.template(angular.extend(attrs, {
        ngModel: model,
        minDate: min && moment.isMoment(min) ? min.format() : false,
        maxDate: max && moment.isMoment(max) ? max.format() : false
      }), id);
    }

    function randomName() {
      return 'picker' + Math.random().toString().substr(2);
    }

    return {
      scope: {
        start: '=',
        end: '='
      },
      link: function (scope, element, attrs) {
        var dateChange = null,
          pickerRangeID = element[0].id,
          pickerIDs = [randomName(), randomName()],
          createMoment = datePickerUtils.createMoment,
          eventIsForPicker = datePickerUtils.eventIsForPicker;

        scope.dateChange = function (modelName, newDate) {
          //Notify user if callback exists.
          if (dateChange) {
            dateChange(modelName, newDate);
          }
        };

        function setMax(date) {
          scope.$broadcast('pickerUpdate', pickerIDs[0], {
            maxDate: date
          });
        }

        function setMin(date) {
          scope.$broadcast('pickerUpdate', pickerIDs[1], {
            minDate: date
          });
        }

        if (pickerRangeID) {
          scope.$on('pickerUpdate', function (event, targetIDs, data) {
            if (eventIsForPicker(targetIDs, pickerRangeID)) {
              //If we received an update event, dispatch it to the inner pickers using their IDs.
              scope.$broadcast('pickerUpdate', pickerIDs, data);
            }
          });
        }

        datePickerUtils.setParams(attrs.timezone);

        scope.start = createMoment(scope.start);
        scope.end = createMoment(scope.end);

        scope.$watchGroup(['start', 'end'], function (dates) {
          //Scope data changed, update picker min/max
          setMin(dates[0]);
          setMax(dates[1]);
        });

        if (angular.isDefined(attrs.dateChange)) {
          dateChange = datePickerUtils.findFunction(scope, attrs.dateChange);
        }

        attrs.onSetDate = 'dateChange';

        var template = '<div><table class="date-range"><tr><td valign="top">' +
          getTemplate(attrs, pickerIDs[0], 'start', false, scope.end) +
          '</td><td valign="top">' +
          getTemplate(attrs, pickerIDs[1], 'end', scope.start, false) +
          '</td></tr></table></div>';

        var picker = $compile(template)(scope);
        element.append(picker);
      }
    };
  }]);
//}));

//(function (global, factory) {
//  'use strict';
//  var fnc;
//  fnc = (typeof exports === 'object' && typeof module !== 'undefined') ? module.exports = factory(require('angular'), require('moment')) :
//    (typeof define === 'function' && define.amd) ? define(['angular', 'moment'], factory) :
//      factory(global.angular, global.moment);
//}(this, function (angular, moment) {
var PRISTINE_CLASS = 'ng-pristine',
    DIRTY_CLASS = 'ng-dirty';

  var Module = angular.module('datePicker');

  Module.constant('dateTimeConfig', {
    template: function (attrs, id) {
      return '' +
        '<div ' +
        (id ? 'id="' + id + '" ' : '') +
        'date-picker="' + attrs.ngModel + '" ' +
        (attrs.view ? 'view="' + attrs.view + '" ' : '') +
        (attrs.maxView ? 'max-view="' + attrs.maxView + '" ' : '') +
        (attrs.maxDate ? 'max-date="' + attrs.maxDate + '" ' : '') +
        (attrs.autoClose ? 'auto-close="' + attrs.autoClose + '" ' : '') +
        (attrs.template ? 'template="' + attrs.template + '" ' : '') +
        (attrs.minView ? 'min-view="' + attrs.minView + '" ' : '') +
        (attrs.minDate ? 'min-date="' + attrs.minDate + '" ' : '') +
        (attrs.partial ? 'partial="' + attrs.partial + '" ' : '') +
        (attrs.step ? 'step="' + attrs.step + '" ' : '') +
        (attrs.onSetDate ? 'date-change="' + attrs.onSetDate + '" ' : '') +
        (attrs.ngModel ? 'ng-model="' + attrs.ngModel + '" ' : '') +
        (attrs.firstDay ? 'first-day="' + attrs.firstDay + '" ' : '') +
        (attrs.timezone ? 'timezone="' + attrs.timezone + '" ' : '') +
        'class="date-picker-date-time"></div>';
    },
    format: 'YYYY-MM-DD HH:mm',
    views: ['date', 'year', 'month', 'hours', 'minutes'],
    autoClose: false,
    position: 'relative'
  });

  Module.directive('dateTimeAppend', function () {
    return {
      link: function (scope, element) {
        element.bind('click', function () {
          element.find('input')[0].focus();
        });
      }
    };
  });

  Module.directive('dateTime', ['$compile', '$document', '$filter', 'dateTimeConfig', '$parse', 'datePickerUtils', function ($compile, $document, $filter, dateTimeConfig, $parse, datePickerUtils) {
    var body = $document.find('body');
    var dateFilter = $filter('mFormat');

    return {
      require: 'ngModel',
      scope: true,
      link: function (scope, element, attrs, ngModel) {
        var format = attrs.format || dateTimeConfig.format,
          parentForm = element.inheritedData('$formController'),
          views = $parse(attrs.views)(scope) || dateTimeConfig.views.concat(),
          view = attrs.view || views[0],
          index = views.indexOf(view),
          dismiss = attrs.autoClose ? $parse(attrs.autoClose)(scope) : dateTimeConfig.autoClose,
          picker = null,
          pickerID = element[0].id,
          position = attrs.position || dateTimeConfig.position,
          container = null,
          minDate = null,
          minValid = null,
          maxDate = null,
          maxValid = null,
          timezone = attrs.timezone || false,
          eventIsForPicker = datePickerUtils.eventIsForPicker,
          dateChange = null,
          shownOnce = false,
          template;

        if (index === -1) {
          views.splice(index, 1);
        }

        views.unshift(view);

        function formatter(value) {
          return dateFilter(value, format, timezone);
        }

        function parser(viewValue) {
          if (viewValue.length === format.length) {
            return viewValue;
          }
          return undefined;
        }

        function setMin(date) {
          minDate = date;
          attrs.minDate = date ? date.format() : date;
          minValid = moment.isMoment(date);
        }

        function setMax(date) {
          maxDate = date;
          attrs.maxDate = date ? date.format() : date;
          maxValid = moment.isMoment(date);
        }

        ngModel.$formatters.push(formatter);
        ngModel.$parsers.unshift(parser);

        if (angular.isDefined(attrs.minDate)) {
          setMin(datePickerUtils.findParam(scope, attrs.minDate));

          ngModel.$validators.min = function (value) {
            //If we don't have a min / max value, then any value is valid.
            return minValid ? moment.isMoment(value) && (minDate.isSame(value) || minDate.isBefore(value)) : true;
          };
        }

        if (angular.isDefined(attrs.maxDate)) {
          setMax(datePickerUtils.findParam(scope, attrs.maxDate));

          ngModel.$validators.max = function (value) {
            return maxValid ? moment.isMoment(value) && (maxDate.isSame(value) || maxDate.isAfter(value)) : true;
          };
        }

        if (angular.isDefined(attrs.dateChange)) {
          dateChange = datePickerUtils.findFunction(scope, attrs.dateChange);
        }

        function getTemplate() {
          template = dateTimeConfig.template(attrs);
        }


        function updateInput(event) {
          event.stopPropagation();
          if (ngModel.$pristine) {
            ngModel.$dirty = true;
            ngModel.$pristine = false;
            element.removeClass(PRISTINE_CLASS).addClass(DIRTY_CLASS);
            if (parentForm) {
              parentForm.$setDirty();
            }
            ngModel.$render();
          }
        }

        function clear() {
          if (picker) {
            picker.remove();
            picker = null;
          }
          if (container) {
            container.remove();
            container = null;
          }
        }

        if (pickerID) {
          scope.$on('pickerUpdate', function (event, pickerIDs, data) {
            if (eventIsForPicker(pickerIDs, pickerID)) {
              if (picker) {
                //Need to handle situation where the data changed but the picker is currently open.
                //To handle this, we can create the inner picker with a random ID, then forward
                //any events received to it.
              } else {
                var validateRequired = false;
                if (angular.isDefined(data.minDate)) {
                  setMin(data.minDate);
                  validateRequired = true;
                }
                if (angular.isDefined(data.maxDate)) {
                  setMax(data.maxDate);
                  validateRequired = true;
                }

                if (angular.isDefined(data.minView)) {
                  attrs.minView = data.minView;
                }
                if (angular.isDefined(data.maxView)) {
                  attrs.maxView = data.maxView;
                }
                attrs.view = data.view || attrs.view;

                if (validateRequired) {
                  ngModel.$validate();
                }
                if (angular.isDefined(data.format)) {
                  format = attrs.format = data.format || dateTimeConfig.format;
                  ngModel.$modelValue = -1; //Triggers formatters. This value will be discarded.
                }
                getTemplate();
              }
            }
          });
        }

        function showPicker() {
          if (picker) {
            return;
          }
          // create picker element
          picker = $compile(template)(scope);
          scope.$digest();

          //If the picker has already been shown before then we shouldn't be binding to events, as these events are already bound to in this scope.
          if (!shownOnce) {
            scope.$on('setDate', function (event, date, view) {
              updateInput(event);
              if (dateChange) {
                dateChange(attrs.ngModel, date);
              }
              if (dismiss && views[views.length - 1] === view) {
                clear();
              }
            });

            scope.$on('hidePicker', function () {
              element.triggerHandler('blur');
            });

            scope.$on('$destroy', clear);

            shownOnce = true;
          }


          // move picker below input element

          if (position === 'absolute') {
            var pos = element[0].getBoundingClientRect();
            // Support IE8
            var height = pos.height || element[0].offsetHeight;
            picker.css({top: (pos.top + height) + 'px', left: pos.left + 'px', display: 'block', position: position});
            body.append(picker);
          } else {
            // relative
            container = angular.element('<div date-picker-wrapper></div>');
            element[0].parentElement.insertBefore(container[0], element[0]);
            container.append(picker);
            //          this approach doesn't work
            //          element.before(picker);
            picker.css({top: element[0].offsetHeight + 'px', display: 'block'});
          }
          picker.bind('mousedown', function (evt) {
            evt.preventDefault();
          });
        }

        element.bind('focus', showPicker);
        element.bind('blur', clear);
        getTemplate();
      }
    };
  }]);
//}));

angular.module('datePicker').run(['$templateCache', function($templateCache) {
$templateCache.put('templates/datepicker.html',
    "<div ng-switch=\"view\">\r" +
    "\n" +
    "  <div ng-switch-when=\"date\">\r" +
    "\n" +
    "    <table>\r" +
    "\n" +
    "      <thead>\r" +
    "\n" +
    "      <tr>\r" +
    "\n" +
    "        <th ng-click=\"prev()\">&lsaquo;</th>\r" +
    "\n" +
    "        <th colspan=\"5\" class=\"switch\" ng-click=\"setView('month')\" ng-bind=\"date|mFormat:'YYYY MMMM':tz\"></th>\r" +
    "\n" +
    "        <th ng-click=\"next()\">&rsaquo;</i></th>\r" +
    "\n" +
    "      </tr>\r" +
    "\n" +
    "      <tr>\r" +
    "\n" +
    "        <th ng-repeat=\"day in weekdays\" style=\"overflow: hidden\" ng-bind=\"day|mFormat:'ddd':tz\"></th>\r" +
    "\n" +
    "      </tr>\r" +
    "\n" +
    "      </thead>\r" +
    "\n" +
    "      <tbody>\r" +
    "\n" +
    "      <tr ng-repeat=\"week in weeks\" ng-init=\"$index2 = $index\">\r" +
    "\n" +
    "        <td ng-repeat=\"day in week\">\r" +
    "\n" +
    "          <span\r" +
    "\n" +
    "            ng-class=\"classes[$index2][$index]\"\r" +
    "\n" +
    "            ng-click=\"selectDate(day)\" ng-bind=\"day|mFormat:'DD':tz\"></span>\r" +
    "\n" +
    "        </td>\r" +
    "\n" +
    "      </tr>\r" +
    "\n" +
    "      </tbody>\r" +
    "\n" +
    "    </table>\r" +
    "\n" +
    "  </div>\r" +
    "\n" +
    "  <div ng-switch-when=\"year\">\r" +
    "\n" +
    "    <table>\r" +
    "\n" +
    "      <thead>\r" +
    "\n" +
    "      <tr>\r" +
    "\n" +
    "        <th ng-click=\"prev(10)\">&lsaquo;</th>\r" +
    "\n" +
    "        <th colspan=\"5\" class=\"switch\"ng-bind=\"years[0].year()+' - '+years[years.length-1].year()\"></th>\r" +
    "\n" +
    "        <th ng-click=\"next(10)\">&rsaquo;</i></th>\r" +
    "\n" +
    "      </tr>\r" +
    "\n" +
    "      </thead>\r" +
    "\n" +
    "      <tbody>\r" +
    "\n" +
    "      <tr>\r" +
    "\n" +
    "        <td colspan=\"7\">\r" +
    "\n" +
    "          <span ng-class=\"classes[$index]\"\r" +
    "\n" +
    "                ng-repeat=\"year in years\"\r" +
    "\n" +
    "                ng-click=\"selectDate(year)\" ng-bind=\"year.year()\"></span>\r" +
    "\n" +
    "        </td>\r" +
    "\n" +
    "      </tr>\r" +
    "\n" +
    "      </tbody>\r" +
    "\n" +
    "    </table>\r" +
    "\n" +
    "  </div>\r" +
    "\n" +
    "  <div ng-switch-when=\"month\">\r" +
    "\n" +
    "    <table>\r" +
    "\n" +
    "      <thead>\r" +
    "\n" +
    "      <tr>\r" +
    "\n" +
    "        <th ng-click=\"prev()\">&lsaquo;</th>\r" +
    "\n" +
    "        <th colspan=\"5\" class=\"switch\" ng-click=\"setView('year')\" ng-bind=\"date|mFormat:'YYYY':tz\"></th>\r" +
    "\n" +
    "        <th ng-click=\"next()\">&rsaquo;</i></th>\r" +
    "\n" +
    "      </tr>\r" +
    "\n" +
    "      </thead>\r" +
    "\n" +
    "      <tbody>\r" +
    "\n" +
    "      <tr>\r" +
    "\n" +
    "        <td colspan=\"7\">\r" +
    "\n" +
    "          <span ng-repeat=\"month in months\"\r" +
    "\n" +
    "                ng-class=\"classes[$index]\"\r" +
    "\n" +
    "                ng-click=\"selectDate(month)\"\r" +
    "\n" +
    "                ng-bind=\"month|mFormat:'MMM':tz\"></span>\r" +
    "\n" +
    "        </td>\r" +
    "\n" +
    "      </tr>\r" +
    "\n" +
    "      </tbody>\r" +
    "\n" +
    "    </table>\r" +
    "\n" +
    "  </div>\r" +
    "\n" +
    "  <div ng-switch-when=\"hours\">\r" +
    "\n" +
    "    <table>\r" +
    "\n" +
    "      <thead>\r" +
    "\n" +
    "      <tr>\r" +
    "\n" +
    "        <th ng-click=\"prev(24)\">&lsaquo;</th>\r" +
    "\n" +
    "        <th colspan=\"5\" class=\"switch\" ng-click=\"setView('date')\" ng-bind=\"date|mFormat:'DD MMMM YYYY':tz\"></th>\r" +
    "\n" +
    "        <th ng-click=\"next(24)\">&rsaquo;</i></th>\r" +
    "\n" +
    "      </tr>\r" +
    "\n" +
    "      </thead>\r" +
    "\n" +
    "      <tbody>\r" +
    "\n" +
    "      <tr>\r" +
    "\n" +
    "        <td colspan=\"7\">\r" +
    "\n" +
    "          <span ng-repeat=\"hour in hours\"\r" +
    "\n" +
    "                ng-class=\"classes[$index]\"\r" +
    "\n" +
    "                ng-click=\"selectDate(hour)\" ng-bind=\"hour|mFormat:'HH:mm':tz\"></span>\r" +
    "\n" +
    "        </td>\r" +
    "\n" +
    "      </tr>\r" +
    "\n" +
    "      </tbody>\r" +
    "\n" +
    "    </table>\r" +
    "\n" +
    "  </div>\r" +
    "\n" +
    "  <div ng-switch-when=\"minutes\">\r" +
    "\n" +
    "    <table>\r" +
    "\n" +
    "      <thead>\r" +
    "\n" +
    "      <tr>\r" +
    "\n" +
    "        <th ng-click=\"prev()\">&lsaquo;</th>\r" +
    "\n" +
    "        <th colspan=\"5\" class=\"switch\" ng-click=\"setView('hours')\" ng-bind=\"date|mFormat:'DD MMMM YYYY':tz\"></th>\r" +
    "\n" +
    "        <th ng-click=\"next()\">&rsaquo;</i></th>\r" +
    "\n" +
    "      </tr>\r" +
    "\n" +
    "      </thead>\r" +
    "\n" +
    "      <tbody>\r" +
    "\n" +
    "      <tr>\r" +
    "\n" +
    "        <td colspan=\"7\">\r" +
    "\n" +
    "          <span ng-repeat=\"minute in minutes\"\r" +
    "\n" +
    "                ng-class=\"classes[$index]\"\r" +
    "\n" +
    "                ng-click=\"selectDate(minute)\"\r" +
    "\n" +
    "                ng-bind=\"minute|mFormat:'HH:mm':tz\"></span>\r" +
    "\n" +
    "        </td>\r" +
    "\n" +
    "      </tr>\r" +
    "\n" +
    "      </tbody>\r" +
    "\n" +
    "    </table>\r" +
    "\n" +
    "  </div>\r" +
    "\n" +
    "</div>"
  );

}]);
}));

},{"angular":"angular","moment":"/Users/cescwang/program/sil/SIL-frontend/node_modules/moment/moment.js"}],"/Users/cescwang/program/sil/SIL-frontend/node_modules/angular-h-sweetalert/src/ngSweetAlert.js":[function(require,module,exports){
/**
 * angular-h-sweetalert is a simple wrapper of sweetalert.
 *
 * @author Howard.Zuo
 * @date   Jan 30th, 2016
 *
 **/
(function(root, factory) {
    'use strict';

    if (typeof define === 'function' && define.amd) {
        // AMD. Register as an anonymous module.
        define(['angular', 'sweetalert'], function(angular, sweetalert) {
            return factory(angular, sweetalert);
        });
    } else if (typeof module === 'object' && module.exports) {
        // Node. Does not work with strict CommonJS, but
        // only CommonJS-like enviroments that support module.exports,
        // like Node.
        module.exports = factory(require('angular'), require('sweetalert'));
    } else {
        // Browser globals
        factory(root.angular, root.sweetAlert);
    }
}(this, function(ng, sweet) {
    'use strict';

    var service = function() {

        this.show = function() {
            var args = [].slice.call(arguments, 0);
            sweet.apply(undefined, args);
        };

        ng.forEach(
            ['showInputError', 'close'],
            function(func) {
                this[func] = function() {
                    var args = [].slice.call(arguments, 0);
                    sweet[func].apply(undefined, args);
                };
            }, this);

        this.isShown = function() {
            var sweetAlertEl;

            ng.forEach(document.getElementsByClassName('sweet-alert'), function(el) {
                sweetAlertEl = ng.element(el);
            });

            return sweetAlertEl && sweetAlertEl.hasClass('visible');
        };
    };

    var modName = 'hSweetAlert';

    ng.module(modName, []).service('sweet', [service]);

    return modName;

}));

},{"angular":"angular","sweetalert":"/Users/cescwang/program/sil/SIL-frontend/node_modules/sweetalert/lib/sweetalert.js"}],"/Users/cescwang/program/sil/SIL-frontend/node_modules/angular-moment/angular-moment.js":[function(require,module,exports){
(function (global){
/* angular-moment.js / v1.0.1 / (c) 2013, 2014, 2015, 2016 Uri Shaked / MIT Licence */

'format amd';
/* global define */

(function () {
	'use strict';

	function isUndefinedOrNull(val) {
		return angular.isUndefined(val) || val === null;
	}

	function requireMoment() {
		try {
			return require('moment'); // Using nw.js or browserify?
		} catch (e) {
			throw new Error('Please install moment via npm. Please reference to: https://github.com/urish/angular-moment'); // Add wiki/troubleshooting section?
		}
	}

	function angularMoment(angular, moment) {

		if(typeof moment === 'undefined') {
			if(typeof require === 'function') {
				moment = requireMoment();
			}else{
				throw new Error('Moment cannot be found by angular-moment! Please reference to: https://github.com/urish/angular-moment'); // Add wiki/troubleshooting section?
			}
		}

		/**
		 * @ngdoc overview
		 * @name angularMoment
		 *
		 * @description
		 * angularMoment module provides moment.js functionality for angular.js apps.
		 */
		angular.module('angularMoment', [])

		/**
		 * @ngdoc object
		 * @name angularMoment.config:angularMomentConfig
		 *
		 * @description
		 * Common configuration of the angularMoment module
		 */
			.constant('angularMomentConfig', {
				/**
				 * @ngdoc property
				 * @name angularMoment.config.angularMomentConfig#preprocess
				 * @propertyOf angularMoment.config:angularMomentConfig
				 * @returns {function} A preprocessor function that will be applied on all incoming dates
				 *
				 * @description
				 * Defines a preprocessor function to apply on all input dates (e.g. the input of `am-time-ago`,
				 * `amCalendar`, etc.). The function must return a `moment` object.
				 *
				 * @example
				 *   // Causes angular-moment to always treat the input values as unix timestamps
				 *   angularMomentConfig.preprocess = function(value) {
				 * 	   return moment.unix(value);
				 *   }
				 */
				preprocess: null,

				/**
				 * @ngdoc property
				 * @name angularMoment.config.angularMomentConfig#timezone
				 * @propertyOf angularMoment.config:angularMomentConfig
				 * @returns {string} The default timezone
				 *
				 * @description
				 * The default timezone (e.g. 'Europe/London'). Empty string by default (does not apply
				 * any timezone shift).
				 *
				 * NOTE: This option requires moment-timezone >= 0.3.0.
				 */
				timezone: null,

				/**
				 * @ngdoc property
				 * @name angularMoment.config.angularMomentConfig#format
				 * @propertyOf angularMoment.config:angularMomentConfig
				 * @returns {string} The pre-conversion format of the date
				 *
				 * @description
				 * Specify the format of the input date. Essentially it's a
				 * default and saves you from specifying a format in every
				 * element. Overridden by element attr. Null by default.
				 */
				format: null,

				/**
				 * @ngdoc property
				 * @name angularMoment.config.angularMomentConfig#statefulFilters
				 * @propertyOf angularMoment.config:angularMomentConfig
				 * @returns {boolean} Whether angular-moment filters should be stateless (or not)
				 *
				 * @description
				 * Specifies whether the filters included with angular-moment are stateful.
				 * Stateful filters will automatically re-evaluate whenever you change the timezone
				 * or locale settings, but may negatively impact performance. true by default.
				 */
				statefulFilters: true
			})

		/**
		 * @ngdoc object
		 * @name angularMoment.object:moment
		 *
		 * @description
		 * moment global (as provided by the moment.js library)
		 */
			.constant('moment', moment)

		/**
		 * @ngdoc object
		 * @name angularMoment.config:amTimeAgoConfig
		 * @module angularMoment
		 *
		 * @description
		 * configuration specific to the amTimeAgo directive
		 */
			.constant('amTimeAgoConfig', {
				/**
				 * @ngdoc property
				 * @name angularMoment.config.amTimeAgoConfig#withoutSuffix
				 * @propertyOf angularMoment.config:amTimeAgoConfig
				 * @returns {boolean} Whether to include a suffix in am-time-ago directive
				 *
				 * @description
				 * Defaults to false.
				 */
				withoutSuffix: false,

				/**
				 * @ngdoc property
				 * @name angularMoment.config.amTimeAgoConfig#serverTime
				 * @propertyOf angularMoment.config:amTimeAgoConfig
				 * @returns {number} Server time in milliseconds since the epoch
				 *
				 * @description
				 * If set, time ago will be calculated relative to the given value.
				 * If null, local time will be used. Defaults to null.
				 */
				serverTime: null,

				/**
				 * @ngdoc property
				 * @name angularMoment.config.amTimeAgoConfig#titleFormat
				 * @propertyOf angularMoment.config:amTimeAgoConfig
				 * @returns {string} The format of the date to be displayed in the title of the element. If null,
				 *        the directive set the title of the element.
				 *
				 * @description
				 * The format of the date used for the title of the element. null by default.
				 */
				titleFormat: null,

				/**
				 * @ngdoc property
				 * @name angularMoment.config.amTimeAgoConfig#fullDateThreshold
				 * @propertyOf angularMoment.config:amTimeAgoConfig
				 * @returns {number} The minimum number of days for showing a full date instead of relative time
				 *
				 * @description
				 * The threshold for displaying a full date. The default is null, which means the date will always
				 * be relative, and full date will never be displayed.
				 */
				fullDateThreshold: null,

				/**
				 * @ngdoc property
				 * @name angularMoment.config.amTimeAgoConfig#fullDateFormat
				 * @propertyOf angularMoment.config:amTimeAgoConfig
				 * @returns {string} The format to use when displaying a full date.
				 *
				 * @description
				 * Specify the format of the date when displayed as full date. null by default.
				 */
				fullDateFormat: null,

				fullDateThresholdUnit: 'day'
			})

		/**
		 * @ngdoc directive
		 * @name angularMoment.directive:amTimeAgo
		 * @module angularMoment
		 *
		 * @restrict A
		 */
			.directive('amTimeAgo', ['$window', 'moment', 'amMoment', 'amTimeAgoConfig', function ($window, moment, amMoment, amTimeAgoConfig) {

				return function (scope, element, attr) {
					var activeTimeout = null;
					var currentValue;
					var withoutSuffix = amTimeAgoConfig.withoutSuffix;
					var titleFormat = amTimeAgoConfig.titleFormat;
					var fullDateThreshold = amTimeAgoConfig.fullDateThreshold;
					var fullDateFormat = amTimeAgoConfig.fullDateFormat;
					var fullDateThresholdUnit = amTimeAgoConfig.fullDateThresholdUnit;

					var localDate = new Date().getTime();
					var modelName = attr.amTimeAgo;
					var currentFrom;
					var isTimeElement = ('TIME' === element[0].nodeName.toUpperCase());
					var setTitleTime = !element.attr('title');

					function getNow() {
						var now;
						if (currentFrom) {
							now = currentFrom;
						} else if (amTimeAgoConfig.serverTime) {
							var localNow = new Date().getTime();
							var nowMillis = localNow - localDate + amTimeAgoConfig.serverTime;
							now = moment(nowMillis);
						}
						else {
							now = moment();
						}
						return now;
					}

					function cancelTimer() {
						if (activeTimeout) {
							$window.clearTimeout(activeTimeout);
							activeTimeout = null;
						}
					}

					function updateTime(momentInstance) {
						var timeAgo = getNow().diff(momentInstance, fullDateThresholdUnit);
						var showFullDate = fullDateThreshold && timeAgo >= fullDateThreshold;

						if (showFullDate) {
							element.text(momentInstance.format(fullDateFormat));
						} else {
							element.text(momentInstance.from(getNow(), withoutSuffix));
						}

						if (titleFormat && setTitleTime) {
							element.attr('title', momentInstance.format(titleFormat));
						}

						if (!showFullDate) {
							var howOld = Math.abs(getNow().diff(momentInstance, 'minute'));
							var secondsUntilUpdate = 3600;
							if (howOld < 1) {
								secondsUntilUpdate = 1;
							} else if (howOld < 60) {
								secondsUntilUpdate = 30;
							} else if (howOld < 180) {
								secondsUntilUpdate = 300;
							}

							activeTimeout = $window.setTimeout(function () {
								updateTime(momentInstance);
							}, secondsUntilUpdate * 1000);
						}
					}

					function updateDateTimeAttr(value) {
						if (isTimeElement) {
							element.attr('datetime', value);
						}
					}

					function updateMoment() {
						cancelTimer();
						if (currentValue) {
							var momentValue = amMoment.preprocessDate(currentValue);
							updateTime(momentValue);
							updateDateTimeAttr(momentValue.toISOString());
						}
					}

					scope.$watch(modelName, function (value) {
						if (isUndefinedOrNull(value) || (value === '')) {
							cancelTimer();
							if (currentValue) {
								element.text('');
								updateDateTimeAttr('');
								currentValue = null;
							}
							return;
						}

						currentValue = value;
						updateMoment();
					});

					if (angular.isDefined(attr.amFrom)) {
						scope.$watch(attr.amFrom, function (value) {
							if (isUndefinedOrNull(value) || (value === '')) {
								currentFrom = null;
							} else {
								currentFrom = moment(value);
							}
							updateMoment();
						});
					}

					if (angular.isDefined(attr.amWithoutSuffix)) {
						scope.$watch(attr.amWithoutSuffix, function (value) {
							if (typeof value === 'boolean') {
								withoutSuffix = value;
								updateMoment();
							} else {
								withoutSuffix = amTimeAgoConfig.withoutSuffix;
							}
						});
					}

					attr.$observe('amFullDateThreshold', function (newValue) {
						fullDateThreshold = newValue;
						updateMoment();
					});

					attr.$observe('amFullDateFormat', function (newValue) {
						fullDateFormat = newValue;
						updateMoment();
					});

					attr.$observe('amFullDateThresholdUnit', function (newValue) {
						fullDateThresholdUnit = newValue;
						updateMoment();
					});

					scope.$on('$destroy', function () {
						cancelTimer();
					});

					scope.$on('amMoment:localeChanged', function () {
						updateMoment();
					});
				};
			}])

		/**
		 * @ngdoc service
		 * @name angularMoment.service.amMoment
		 * @module angularMoment
		 */
			.service('amMoment', ['moment', '$rootScope', '$log', 'angularMomentConfig', function (moment, $rootScope, $log, angularMomentConfig) {
				var defaultTimezone = null;

				/**
				 * @ngdoc function
				 * @name angularMoment.service.amMoment#changeLocale
				 * @methodOf angularMoment.service.amMoment
				 *
				 * @description
				 * Changes the locale for moment.js and updates all the am-time-ago directive instances
				 * with the new locale. Also broadcasts an `amMoment:localeChanged` event on $rootScope.
				 *
				 * @param {string} locale Locale code (e.g. en, es, ru, pt-br, etc.)
				 * @param {object} customization object of locale strings to override
				 */
				this.changeLocale = function (locale, customization) {
					var result = moment.locale(locale, customization);
					if (angular.isDefined(locale)) {
						$rootScope.$broadcast('amMoment:localeChanged');

					}
					return result;
				};

				/**
				 * @ngdoc function
				 * @name angularMoment.service.amMoment#changeTimezone
				 * @methodOf angularMoment.service.amMoment
				 *
				 * @description
				 * Changes the default timezone for amCalendar, amDateFormat and amTimeAgo. Also broadcasts an
				 * `amMoment:timezoneChanged` event on $rootScope.
				 *
				 * Note: this method works only if moment-timezone > 0.3.0 is loaded
				 *
				 * @param {string} timezone Timezone name (e.g. UTC)
				 */
				this.changeTimezone = function (timezone) {
					if (moment.tz && moment.tz.setDefault) {
						moment.tz.setDefault(timezone);
						$rootScope.$broadcast('amMoment:timezoneChanged');
					} else {
						$log.warn('angular-moment: changeTimezone() works only with moment-timezone.js v0.3.0 or greater.');
					}
					angularMomentConfig.timezone = timezone;
					defaultTimezone = timezone;
				};

				/**
				 * @ngdoc function
				 * @name angularMoment.service.amMoment#preprocessDate
				 * @methodOf angularMoment.service.amMoment
				 *
				 * @description
				 * Preprocess a given value and convert it into a Moment instance appropriate for use in the
				 * am-time-ago directive and the filters. The behavior of this function can be overriden by
				 * setting `angularMomentConfig.preprocess`.
				 *
				 * @param {*} value The value to be preprocessed
				 * @return {Moment} A `moment` object
				 */
				this.preprocessDate = function (value) {
					// Configure the default timezone if needed
					if (defaultTimezone !== angularMomentConfig.timezone) {
						this.changeTimezone(angularMomentConfig.timezone);
					}

					if (angularMomentConfig.preprocess) {
						return angularMomentConfig.preprocess(value);
					}

					if (!isNaN(parseFloat(value)) && isFinite(value)) {
						// Milliseconds since the epoch
						return moment(parseInt(value, 10));
					}

					// else just returns the value as-is.
					return moment(value);
				};
			}])

		/**
		 * @ngdoc filter
		 * @name angularMoment.filter:amParse
		 * @module angularMoment
		 */
			.filter('amParse', ['moment', function (moment) {
				return function (value, format) {
					return moment(value, format);
				};
			}])

		/**
		 * @ngdoc filter
		 * @name angularMoment.filter:amFromUnix
		 * @module angularMoment
		 */
			.filter('amFromUnix', ['moment', function (moment) {
				return function (value) {
					return moment.unix(value);
				};
			}])

		/**
		 * @ngdoc filter
		 * @name angularMoment.filter:amUtc
		 * @module angularMoment
		 */
			.filter('amUtc', ['moment', function (moment) {
				return function (value) {
					return moment.utc(value);
				};
			}])

		/**
		 * @ngdoc filter
		 * @name angularMoment.filter:amUtcOffset
		 * @module angularMoment
		 *
		 * @description
		 * Adds a UTC offset to the given timezone object. The offset can be a number of minutes, or a string such as
		 * '+0300', '-0300' or 'Z'.
		 */
			.filter('amUtcOffset', ['amMoment', function (amMoment) {
				function amUtcOffset(value, offset) {
					return amMoment.preprocessDate(value).utcOffset(offset);
				}

				return amUtcOffset;
			}])

		/**
		 * @ngdoc filter
		 * @name angularMoment.filter:amLocal
		 * @module angularMoment
		 */
			.filter('amLocal', ['moment', function (moment) {
				return function (value) {
					return moment.isMoment(value) ? value.local() : null;
				};
			}])

		/**
		 * @ngdoc filter
		 * @name angularMoment.filter:amTimezone
		 * @module angularMoment
		 *
		 * @description
		 * Apply a timezone onto a given moment object, e.g. 'America/Phoenix').
		 *
		 * You need to include moment-timezone.js for timezone support.
		 */
			.filter('amTimezone', ['amMoment', 'angularMomentConfig', '$log', function (amMoment, angularMomentConfig, $log) {
				function amTimezone(value, timezone) {
					var aMoment = amMoment.preprocessDate(value);

					if (!timezone) {
						return aMoment;
					}

					if (aMoment.tz) {
						return aMoment.tz(timezone);
					} else {
						$log.warn('angular-moment: named timezone specified but moment.tz() is undefined. Did you forget to include moment-timezone.js ?');
						return aMoment;
					}
				}

				return amTimezone;
			}])

		/**
		 * @ngdoc filter
		 * @name angularMoment.filter:amCalendar
		 * @module angularMoment
		 */
			.filter('amCalendar', ['moment', 'amMoment', 'angularMomentConfig', function (moment, amMoment, angularMomentConfig) {
				function amCalendarFilter(value, referenceTime, formats) {
					if (isUndefinedOrNull(value)) {
						return '';
					}

					var date = amMoment.preprocessDate(value);
					return date.isValid() ? date.calendar(referenceTime, formats) : '';
				}

				// Since AngularJS 1.3, filters have to explicitly define being stateful
				// (this is no longer the default).
				amCalendarFilter.$stateful = angularMomentConfig.statefulFilters;

				return amCalendarFilter;
			}])

		/**
		 * @ngdoc filter
		 * @name angularMoment.filter:amDifference
		 * @module angularMoment
		 */
			.filter('amDifference', ['moment', 'amMoment', 'angularMomentConfig', function (moment, amMoment, angularMomentConfig) {
				function amDifferenceFilter(value, otherValue, unit, usePrecision) {
					if (isUndefinedOrNull(value)) {
						return '';
					}

					var date = amMoment.preprocessDate(value);
					var date2 = !isUndefinedOrNull(otherValue) ? amMoment.preprocessDate(otherValue) : moment();

					if (!date.isValid() || !date2.isValid()) {
						return '';
					}

					return date.diff(date2, unit, usePrecision);
				}

				amDifferenceFilter.$stateful = angularMomentConfig.statefulFilters;

				return amDifferenceFilter;
			}])

		/**
		 * @ngdoc filter
		 * @name angularMoment.filter:amDateFormat
		 * @module angularMoment
		 * @function
		 */
			.filter('amDateFormat', ['moment', 'amMoment', 'angularMomentConfig', function (moment, amMoment, angularMomentConfig) {
				function amDateFormatFilter(value, format) {
					if (isUndefinedOrNull(value)) {
						return '';
					}

					var date = amMoment.preprocessDate(value);
					if (!date.isValid()) {
						return '';
					}

					return date.format(format);
				}

				amDateFormatFilter.$stateful = angularMomentConfig.statefulFilters;

				return amDateFormatFilter;
			}])

		/**
		 * @ngdoc filter
		 * @name angularMoment.filter:amDurationFormat
		 * @module angularMoment
		 * @function
		 */
			.filter('amDurationFormat', ['moment', 'angularMomentConfig', function (moment, angularMomentConfig) {
				function amDurationFormatFilter(value, format, suffix) {
					if (isUndefinedOrNull(value)) {
						return '';
					}

					return moment.duration(value, format).humanize(suffix);
				}

				amDurationFormatFilter.$stateful = angularMomentConfig.statefulFilters;

				return amDurationFormatFilter;
			}])

		/**
		 * @ngdoc filter
		 * @name angularMoment.filter:amTimeAgo
		 * @module angularMoment
		 * @function
		 */
			.filter('amTimeAgo', ['moment', 'amMoment', 'angularMomentConfig', function (moment, amMoment, angularMomentConfig) {
				function amTimeAgoFilter(value, suffix, from) {
					var date, dateFrom;

					if (isUndefinedOrNull(value)) {
						return '';
					}

					value = amMoment.preprocessDate(value);
					date = moment(value);
					if (!date.isValid()) {
						return '';
					}

					dateFrom = moment(from);
					if (!isUndefinedOrNull(from) && dateFrom.isValid()) {
						return date.from(dateFrom, suffix);
					}

					return date.fromNow(suffix);
				}

				amTimeAgoFilter.$stateful = angularMomentConfig.statefulFilters;

				return amTimeAgoFilter;
			}])

		/**
		 * @ngdoc filter
		 * @name angularMoment.filter:amSubtract
		 * @module angularMoment
		 * @function
		 */
			.filter('amSubtract', ['moment', 'angularMomentConfig', function (moment, angularMomentConfig) {
				function amSubtractFilter(value, amount, type) {

					if (isUndefinedOrNull(value)) {
						return '';
					}

					return moment(value).subtract(parseInt(amount, 10), type);
				}

				amSubtractFilter.$stateful = angularMomentConfig.statefulFilters;

				return amSubtractFilter;
			}])

		/**
		 * @ngdoc filter
		 * @name angularMoment.filter:amAdd
		 * @module angularMoment
		 * @function
		 */
			.filter('amAdd', ['moment', 'angularMomentConfig', function (moment, angularMomentConfig) {
				function amAddFilter(value, amount, type) {

					if (isUndefinedOrNull(value)) {
						return '';
					}

					return moment(value).add(parseInt(amount, 10), type);
				}

				amAddFilter.$stateful = angularMomentConfig.statefulFilters;

				return amAddFilter;
			}])

		/**
		 * @ngdoc filter
		 * @name angularMoment.filter:amStartOf
		 * @module angularMoment
		 * @function
		 */
			.filter('amStartOf', ['moment', 'angularMomentConfig', function (moment, angularMomentConfig) {
				function amStartOfFilter(value, type) {

					if (isUndefinedOrNull(value)) {
						return '';
					}

					return moment(value).startOf(type);
				}

				amStartOfFilter.$stateful = angularMomentConfig.statefulFilters;

				return amStartOfFilter;
			}])

		/**
		 * @ngdoc filter
		 * @name angularMoment.filter:amEndOf
		 * @module angularMoment
		 * @function
		 */
			.filter('amEndOf', ['moment', 'angularMomentConfig', function (moment, angularMomentConfig) {
				function amEndOfFilter(value, type) {

					if (isUndefinedOrNull(value)) {
						return '';
					}

					return moment(value).endOf(type);
				}

				amEndOfFilter.$stateful = angularMomentConfig.statefulFilters;

				return amEndOfFilter;
 			}]);

		return 'angularMoment';
	}

	var isElectron = window && window.process && window.process.type;
	if (typeof define === 'function' && define.amd) {
		define(['angular', 'moment'], angularMoment);
	} else if (typeof module !== 'undefined' && module && module.exports && (typeof require === 'function') && !isElectron) {
		module.exports = angularMoment(require('angular'), require('moment'));
	} else {
		angularMoment(angular, (typeof global !== 'undefined' ? global : window).moment);
	}
})();

}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{"angular":"angular","moment":"/Users/cescwang/program/sil/SIL-frontend/node_modules/moment/moment.js"}],"/Users/cescwang/program/sil/SIL-frontend/node_modules/angular-sanitize/angular-sanitize.js":[function(require,module,exports){
/**
 * @license AngularJS v1.6.1
 * (c) 2010-2016 Google, Inc. http://angularjs.org
 * License: MIT
 */
(function(window, angular) {'use strict';

/* * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * *
 *     Any commits to this file should be reviewed with security in mind.  *
 *   Changes to this file can potentially create security vulnerabilities. *
 *          An approval from 2 Core members with history of modifying      *
 *                         this file is required.                          *
 *                                                                         *
 *  Does the change somehow allow for arbitrary javascript to be executed? *
 *    Or allows for someone to change the prototype of built-in objects?   *
 *     Or gives undesired access to variables likes document or window?    *
 * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * */

var $sanitizeMinErr = angular.$$minErr('$sanitize');
var bind;
var extend;
var forEach;
var isDefined;
var lowercase;
var noop;
var htmlParser;
var htmlSanitizeWriter;

/**
 * @ngdoc module
 * @name ngSanitize
 * @description
 *
 * # ngSanitize
 *
 * The `ngSanitize` module provides functionality to sanitize HTML.
 *
 *
 * <div doc-module-components="ngSanitize"></div>
 *
 * See {@link ngSanitize.$sanitize `$sanitize`} for usage.
 */

/**
 * @ngdoc service
 * @name $sanitize
 * @kind function
 *
 * @description
 *   Sanitizes an html string by stripping all potentially dangerous tokens.
 *
 *   The input is sanitized by parsing the HTML into tokens. All safe tokens (from a whitelist) are
 *   then serialized back to properly escaped html string. This means that no unsafe input can make
 *   it into the returned string.
 *
 *   The whitelist for URL sanitization of attribute values is configured using the functions
 *   `aHrefSanitizationWhitelist` and `imgSrcSanitizationWhitelist` of {@link ng.$compileProvider
 *   `$compileProvider`}.
 *
 *   The input may also contain SVG markup if this is enabled via {@link $sanitizeProvider}.
 *
 * @param {string} html HTML input.
 * @returns {string} Sanitized HTML.
 *
 * @example
   <example module="sanitizeExample" deps="angular-sanitize.js" name="sanitize-service">
   <file name="index.html">
     <script>
         angular.module('sanitizeExample', ['ngSanitize'])
           .controller('ExampleController', ['$scope', '$sce', function($scope, $sce) {
             $scope.snippet =
               '<p style="color:blue">an html\n' +
               '<em onmouseover="this.textContent=\'PWN3D!\'">click here</em>\n' +
               'snippet</p>';
             $scope.deliberatelyTrustDangerousSnippet = function() {
               return $sce.trustAsHtml($scope.snippet);
             };
           }]);
     </script>
     <div ng-controller="ExampleController">
        Snippet: <textarea ng-model="snippet" cols="60" rows="3"></textarea>
       <table>
         <tr>
           <td>Directive</td>
           <td>How</td>
           <td>Source</td>
           <td>Rendered</td>
         </tr>
         <tr id="bind-html-with-sanitize">
           <td>ng-bind-html</td>
           <td>Automatically uses $sanitize</td>
           <td><pre>&lt;div ng-bind-html="snippet"&gt;<br/>&lt;/div&gt;</pre></td>
           <td><div ng-bind-html="snippet"></div></td>
         </tr>
         <tr id="bind-html-with-trust">
           <td>ng-bind-html</td>
           <td>Bypass $sanitize by explicitly trusting the dangerous value</td>
           <td>
           <pre>&lt;div ng-bind-html="deliberatelyTrustDangerousSnippet()"&gt;
&lt;/div&gt;</pre>
           </td>
           <td><div ng-bind-html="deliberatelyTrustDangerousSnippet()"></div></td>
         </tr>
         <tr id="bind-default">
           <td>ng-bind</td>
           <td>Automatically escapes</td>
           <td><pre>&lt;div ng-bind="snippet"&gt;<br/>&lt;/div&gt;</pre></td>
           <td><div ng-bind="snippet"></div></td>
         </tr>
       </table>
       </div>
   </file>
   <file name="protractor.js" type="protractor">
     it('should sanitize the html snippet by default', function() {
       expect(element(by.css('#bind-html-with-sanitize div')).getAttribute('innerHTML')).
         toBe('<p>an html\n<em>click here</em>\nsnippet</p>');
     });

     it('should inline raw snippet if bound to a trusted value', function() {
       expect(element(by.css('#bind-html-with-trust div')).getAttribute('innerHTML')).
         toBe("<p style=\"color:blue\">an html\n" +
              "<em onmouseover=\"this.textContent='PWN3D!'\">click here</em>\n" +
              "snippet</p>");
     });

     it('should escape snippet without any filter', function() {
       expect(element(by.css('#bind-default div')).getAttribute('innerHTML')).
         toBe("&lt;p style=\"color:blue\"&gt;an html\n" +
              "&lt;em onmouseover=\"this.textContent='PWN3D!'\"&gt;click here&lt;/em&gt;\n" +
              "snippet&lt;/p&gt;");
     });

     it('should update', function() {
       element(by.model('snippet')).clear();
       element(by.model('snippet')).sendKeys('new <b onclick="alert(1)">text</b>');
       expect(element(by.css('#bind-html-with-sanitize div')).getAttribute('innerHTML')).
         toBe('new <b>text</b>');
       expect(element(by.css('#bind-html-with-trust div')).getAttribute('innerHTML')).toBe(
         'new <b onclick="alert(1)">text</b>');
       expect(element(by.css('#bind-default div')).getAttribute('innerHTML')).toBe(
         "new &lt;b onclick=\"alert(1)\"&gt;text&lt;/b&gt;");
     });
   </file>
   </example>
 */


/**
 * @ngdoc provider
 * @name $sanitizeProvider
 * @this
 *
 * @description
 * Creates and configures {@link $sanitize} instance.
 */
function $SanitizeProvider() {
  var svgEnabled = false;

  this.$get = ['$$sanitizeUri', function($$sanitizeUri) {
    if (svgEnabled) {
      extend(validElements, svgElements);
    }
    return function(html) {
      var buf = [];
      htmlParser(html, htmlSanitizeWriter(buf, function(uri, isImage) {
        return !/^unsafe:/.test($$sanitizeUri(uri, isImage));
      }));
      return buf.join('');
    };
  }];


  /**
   * @ngdoc method
   * @name $sanitizeProvider#enableSvg
   * @kind function
   *
   * @description
   * Enables a subset of svg to be supported by the sanitizer.
   *
   * <div class="alert alert-warning">
   *   <p>By enabling this setting without taking other precautions, you might expose your
   *   application to click-hijacking attacks. In these attacks, sanitized svg elements could be positioned
   *   outside of the containing element and be rendered over other elements on the page (e.g. a login
   *   link). Such behavior can then result in phishing incidents.</p>
   *
   *   <p>To protect against these, explicitly setup `overflow: hidden` css rule for all potential svg
   *   tags within the sanitized content:</p>
   *
   *   <br>
   *
   *   <pre><code>
   *   .rootOfTheIncludedContent svg {
   *     overflow: hidden !important;
   *   }
   *   </code></pre>
   * </div>
   *
   * @param {boolean=} flag Enable or disable SVG support in the sanitizer.
   * @returns {boolean|ng.$sanitizeProvider} Returns the currently configured value if called
   *    without an argument or self for chaining otherwise.
   */
  this.enableSvg = function(enableSvg) {
    if (isDefined(enableSvg)) {
      svgEnabled = enableSvg;
      return this;
    } else {
      return svgEnabled;
    }
  };

  //////////////////////////////////////////////////////////////////////////////////////////////////
  // Private stuff
  //////////////////////////////////////////////////////////////////////////////////////////////////

  bind = angular.bind;
  extend = angular.extend;
  forEach = angular.forEach;
  isDefined = angular.isDefined;
  lowercase = angular.lowercase;
  noop = angular.noop;

  htmlParser = htmlParserImpl;
  htmlSanitizeWriter = htmlSanitizeWriterImpl;

  // Regular Expressions for parsing tags and attributes
  var SURROGATE_PAIR_REGEXP = /[\uD800-\uDBFF][\uDC00-\uDFFF]/g,
    // Match everything outside of normal chars and " (quote character)
    NON_ALPHANUMERIC_REGEXP = /([^#-~ |!])/g;


  // Good source of info about elements and attributes
  // http://dev.w3.org/html5/spec/Overview.html#semantics
  // http://simon.html5.org/html-elements

  // Safe Void Elements - HTML5
  // http://dev.w3.org/html5/spec/Overview.html#void-elements
  var voidElements = toMap('area,br,col,hr,img,wbr');

  // Elements that you can, intentionally, leave open (and which close themselves)
  // http://dev.w3.org/html5/spec/Overview.html#optional-tags
  var optionalEndTagBlockElements = toMap('colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr'),
      optionalEndTagInlineElements = toMap('rp,rt'),
      optionalEndTagElements = extend({},
                                              optionalEndTagInlineElements,
                                              optionalEndTagBlockElements);

  // Safe Block Elements - HTML5
  var blockElements = extend({}, optionalEndTagBlockElements, toMap('address,article,' +
          'aside,blockquote,caption,center,del,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,' +
          'h6,header,hgroup,hr,ins,map,menu,nav,ol,pre,section,table,ul'));

  // Inline Elements - HTML5
  var inlineElements = extend({}, optionalEndTagInlineElements, toMap('a,abbr,acronym,b,' +
          'bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,q,ruby,rp,rt,s,' +
          'samp,small,span,strike,strong,sub,sup,time,tt,u,var'));

  // SVG Elements
  // https://wiki.whatwg.org/wiki/Sanitization_rules#svg_Elements
  // Note: the elements animate,animateColor,animateMotion,animateTransform,set are intentionally omitted.
  // They can potentially allow for arbitrary javascript to be executed. See #11290
  var svgElements = toMap('circle,defs,desc,ellipse,font-face,font-face-name,font-face-src,g,glyph,' +
          'hkern,image,linearGradient,line,marker,metadata,missing-glyph,mpath,path,polygon,polyline,' +
          'radialGradient,rect,stop,svg,switch,text,title,tspan');

  // Blocked Elements (will be stripped)
  var blockedElements = toMap('script,style');

  var validElements = extend({},
                                     voidElements,
                                     blockElements,
                                     inlineElements,
                                     optionalEndTagElements);

  //Attributes that have href and hence need to be sanitized
  var uriAttrs = toMap('background,cite,href,longdesc,src,xlink:href');

  var htmlAttrs = toMap('abbr,align,alt,axis,bgcolor,border,cellpadding,cellspacing,class,clear,' +
      'color,cols,colspan,compact,coords,dir,face,headers,height,hreflang,hspace,' +
      'ismap,lang,language,nohref,nowrap,rel,rev,rows,rowspan,rules,' +
      'scope,scrolling,shape,size,span,start,summary,tabindex,target,title,type,' +
      'valign,value,vspace,width');

  // SVG attributes (without "id" and "name" attributes)
  // https://wiki.whatwg.org/wiki/Sanitization_rules#svg_Attributes
  var svgAttrs = toMap('accent-height,accumulate,additive,alphabetic,arabic-form,ascent,' +
      'baseProfile,bbox,begin,by,calcMode,cap-height,class,color,color-rendering,content,' +
      'cx,cy,d,dx,dy,descent,display,dur,end,fill,fill-rule,font-family,font-size,font-stretch,' +
      'font-style,font-variant,font-weight,from,fx,fy,g1,g2,glyph-name,gradientUnits,hanging,' +
      'height,horiz-adv-x,horiz-origin-x,ideographic,k,keyPoints,keySplines,keyTimes,lang,' +
      'marker-end,marker-mid,marker-start,markerHeight,markerUnits,markerWidth,mathematical,' +
      'max,min,offset,opacity,orient,origin,overline-position,overline-thickness,panose-1,' +
      'path,pathLength,points,preserveAspectRatio,r,refX,refY,repeatCount,repeatDur,' +
      'requiredExtensions,requiredFeatures,restart,rotate,rx,ry,slope,stemh,stemv,stop-color,' +
      'stop-opacity,strikethrough-position,strikethrough-thickness,stroke,stroke-dasharray,' +
      'stroke-dashoffset,stroke-linecap,stroke-linejoin,stroke-miterlimit,stroke-opacity,' +
      'stroke-width,systemLanguage,target,text-anchor,to,transform,type,u1,u2,underline-position,' +
      'underline-thickness,unicode,unicode-range,units-per-em,values,version,viewBox,visibility,' +
      'width,widths,x,x-height,x1,x2,xlink:actuate,xlink:arcrole,xlink:role,xlink:show,xlink:title,' +
      'xlink:type,xml:base,xml:lang,xml:space,xmlns,xmlns:xlink,y,y1,y2,zoomAndPan', true);

  var validAttrs = extend({},
                                  uriAttrs,
                                  svgAttrs,
                                  htmlAttrs);

  function toMap(str, lowercaseKeys) {
    var obj = {}, items = str.split(','), i;
    for (i = 0; i < items.length; i++) {
      obj[lowercaseKeys ? lowercase(items[i]) : items[i]] = true;
    }
    return obj;
  }

  var inertBodyElement;
  (function(window) {
    var doc;
    if (window.document && window.document.implementation) {
      doc = window.document.implementation.createHTMLDocument('inert');
    } else {
      throw $sanitizeMinErr('noinert', 'Can\'t create an inert html document');
    }
    var docElement = doc.documentElement || doc.getDocumentElement();
    var bodyElements = docElement.getElementsByTagName('body');

    // usually there should be only one body element in the document, but IE doesn't have any, so we need to create one
    if (bodyElements.length === 1) {
      inertBodyElement = bodyElements[0];
    } else {
      var html = doc.createElement('html');
      inertBodyElement = doc.createElement('body');
      html.appendChild(inertBodyElement);
      doc.appendChild(html);
    }
  })(window);

  /**
   * @example
   * htmlParser(htmlString, {
   *     start: function(tag, attrs) {},
   *     end: function(tag) {},
   *     chars: function(text) {},
   *     comment: function(text) {}
   * });
   *
   * @param {string} html string
   * @param {object} handler
   */
  function htmlParserImpl(html, handler) {
    if (html === null || html === undefined) {
      html = '';
    } else if (typeof html !== 'string') {
      html = '' + html;
    }
    inertBodyElement.innerHTML = html;

    //mXSS protection
    var mXSSAttempts = 5;
    do {
      if (mXSSAttempts === 0) {
        throw $sanitizeMinErr('uinput', 'Failed to sanitize html because the input is unstable');
      }
      mXSSAttempts--;

      // strip custom-namespaced attributes on IE<=11
      if (window.document.documentMode) {
        stripCustomNsAttrs(inertBodyElement);
      }
      html = inertBodyElement.innerHTML; //trigger mXSS
      inertBodyElement.innerHTML = html;
    } while (html !== inertBodyElement.innerHTML);

    var node = inertBodyElement.firstChild;
    while (node) {
      switch (node.nodeType) {
        case 1: // ELEMENT_NODE
          handler.start(node.nodeName.toLowerCase(), attrToMap(node.attributes));
          break;
        case 3: // TEXT NODE
          handler.chars(node.textContent);
          break;
      }

      var nextNode;
      if (!(nextNode = node.firstChild)) {
        if (node.nodeType === 1) {
          handler.end(node.nodeName.toLowerCase());
        }
        nextNode = node.nextSibling;
        if (!nextNode) {
          while (nextNode == null) {
            node = node.parentNode;
            if (node === inertBodyElement) break;
            nextNode = node.nextSibling;
            if (node.nodeType === 1) {
              handler.end(node.nodeName.toLowerCase());
            }
          }
        }
      }
      node = nextNode;
    }

    while ((node = inertBodyElement.firstChild)) {
      inertBodyElement.removeChild(node);
    }
  }

  function attrToMap(attrs) {
    var map = {};
    for (var i = 0, ii = attrs.length; i < ii; i++) {
      var attr = attrs[i];
      map[attr.name] = attr.value;
    }
    return map;
  }


  /**
   * Escapes all potentially dangerous characters, so that the
   * resulting string can be safely inserted into attribute or
   * element text.
   * @param value
   * @returns {string} escaped text
   */
  function encodeEntities(value) {
    return value.
      replace(/&/g, '&amp;').
      replace(SURROGATE_PAIR_REGEXP, function(value) {
        var hi = value.charCodeAt(0);
        var low = value.charCodeAt(1);
        return '&#' + (((hi - 0xD800) * 0x400) + (low - 0xDC00) + 0x10000) + ';';
      }).
      replace(NON_ALPHANUMERIC_REGEXP, function(value) {
        return '&#' + value.charCodeAt(0) + ';';
      }).
      replace(/</g, '&lt;').
      replace(/>/g, '&gt;');
  }

  /**
   * create an HTML/XML writer which writes to buffer
   * @param {Array} buf use buf.join('') to get out sanitized html string
   * @returns {object} in the form of {
   *     start: function(tag, attrs) {},
   *     end: function(tag) {},
   *     chars: function(text) {},
   *     comment: function(text) {}
   * }
   */
  function htmlSanitizeWriterImpl(buf, uriValidator) {
    var ignoreCurrentElement = false;
    var out = bind(buf, buf.push);
    return {
      start: function(tag, attrs) {
        tag = lowercase(tag);
        if (!ignoreCurrentElement && blockedElements[tag]) {
          ignoreCurrentElement = tag;
        }
        if (!ignoreCurrentElement && validElements[tag] === true) {
          out('<');
          out(tag);
          forEach(attrs, function(value, key) {
            var lkey = lowercase(key);
            var isImage = (tag === 'img' && lkey === 'src') || (lkey === 'background');
            if (validAttrs[lkey] === true &&
              (uriAttrs[lkey] !== true || uriValidator(value, isImage))) {
              out(' ');
              out(key);
              out('="');
              out(encodeEntities(value));
              out('"');
            }
          });
          out('>');
        }
      },
      end: function(tag) {
        tag = lowercase(tag);
        if (!ignoreCurrentElement && validElements[tag] === true && voidElements[tag] !== true) {
          out('</');
          out(tag);
          out('>');
        }
        // eslint-disable-next-line eqeqeq
        if (tag == ignoreCurrentElement) {
          ignoreCurrentElement = false;
        }
      },
      chars: function(chars) {
        if (!ignoreCurrentElement) {
          out(encodeEntities(chars));
        }
      }
    };
  }


  /**
   * When IE9-11 comes across an unknown namespaced attribute e.g. 'xlink:foo' it adds 'xmlns:ns1' attribute to declare
   * ns1 namespace and prefixes the attribute with 'ns1' (e.g. 'ns1:xlink:foo'). This is undesirable since we don't want
   * to allow any of these custom attributes. This method strips them all.
   *
   * @param node Root element to process
   */
  function stripCustomNsAttrs(node) {
    while (node) {
      if (node.nodeType === window.Node.ELEMENT_NODE) {
        var attrs = node.attributes;
        for (var i = 0, l = attrs.length; i < l; i++) {
          var attrNode = attrs[i];
          var attrName = attrNode.name.toLowerCase();
          if (attrName === 'xmlns:ns1' || attrName.lastIndexOf('ns1:', 0) === 0) {
            node.removeAttributeNode(attrNode);
            i--;
            l--;
          }
        }
      }

      var nextNode = node.firstChild;
      if (nextNode) {
        stripCustomNsAttrs(nextNode);
      }

      node = node.nextSibling;
    }
  }
}

function sanitizeText(chars) {
  var buf = [];
  var writer = htmlSanitizeWriter(buf, noop);
  writer.chars(chars);
  return buf.join('');
}


// define ngSanitize module and register $sanitize service
angular.module('ngSanitize', []).provider('$sanitize', $SanitizeProvider);

/**
 * @ngdoc filter
 * @name linky
 * @kind function
 *
 * @description
 * Finds links in text input and turns them into html links. Supports `http/https/ftp/mailto` and
 * plain email address links.
 *
 * Requires the {@link ngSanitize `ngSanitize`} module to be installed.
 *
 * @param {string} text Input text.
 * @param {string} target Window (`_blank|_self|_parent|_top`) or named frame to open links in.
 * @param {object|function(url)} [attributes] Add custom attributes to the link element.
 *
 *    Can be one of:
 *
 *    - `object`: A map of attributes
 *    - `function`: Takes the url as a parameter and returns a map of attributes
 *
 *    If the map of attributes contains a value for `target`, it overrides the value of
 *    the target parameter.
 *
 *
 * @returns {string} Html-linkified and {@link $sanitize sanitized} text.
 *
 * @usage
   <span ng-bind-html="linky_expression | linky"></span>
 *
 * @example
   <example module="linkyExample" deps="angular-sanitize.js" name="linky-filter">
     <file name="index.html">
       <div ng-controller="ExampleController">
       Snippet: <textarea ng-model="snippet" cols="60" rows="3"></textarea>
       <table>
         <tr>
           <th>Filter</th>
           <th>Source</th>
           <th>Rendered</th>
         </tr>
         <tr id="linky-filter">
           <td>linky filter</td>
           <td>
             <pre>&lt;div ng-bind-html="snippet | linky"&gt;<br>&lt;/div&gt;</pre>
           </td>
           <td>
             <div ng-bind-html="snippet | linky"></div>
           </td>
         </tr>
         <tr id="linky-target">
          <td>linky target</td>
          <td>
            <pre>&lt;div ng-bind-html="snippetWithSingleURL | linky:'_blank'"&gt;<br>&lt;/div&gt;</pre>
          </td>
          <td>
            <div ng-bind-html="snippetWithSingleURL | linky:'_blank'"></div>
          </td>
         </tr>
         <tr id="linky-custom-attributes">
          <td>linky custom attributes</td>
          <td>
            <pre>&lt;div ng-bind-html="snippetWithSingleURL | linky:'_self':{rel: 'nofollow'}"&gt;<br>&lt;/div&gt;</pre>
          </td>
          <td>
            <div ng-bind-html="snippetWithSingleURL | linky:'_self':{rel: 'nofollow'}"></div>
          </td>
         </tr>
         <tr id="escaped-html">
           <td>no filter</td>
           <td><pre>&lt;div ng-bind="snippet"&gt;<br>&lt;/div&gt;</pre></td>
           <td><div ng-bind="snippet"></div></td>
         </tr>
       </table>
     </file>
     <file name="script.js">
       angular.module('linkyExample', ['ngSanitize'])
         .controller('ExampleController', ['$scope', function($scope) {
           $scope.snippet =
             'Pretty text with some links:\n' +
             'http://angularjs.org/,\n' +
             'mailto:us@somewhere.org,\n' +
             'another@somewhere.org,\n' +
             'and one more: ftp://127.0.0.1/.';
           $scope.snippetWithSingleURL = 'http://angularjs.org/';
         }]);
     </file>
     <file name="protractor.js" type="protractor">
       it('should linkify the snippet with urls', function() {
         expect(element(by.id('linky-filter')).element(by.binding('snippet | linky')).getText()).
             toBe('Pretty text with some links: http://angularjs.org/, us@somewhere.org, ' +
                  'another@somewhere.org, and one more: ftp://127.0.0.1/.');
         expect(element.all(by.css('#linky-filter a')).count()).toEqual(4);
       });

       it('should not linkify snippet without the linky filter', function() {
         expect(element(by.id('escaped-html')).element(by.binding('snippet')).getText()).
             toBe('Pretty text with some links: http://angularjs.org/, mailto:us@somewhere.org, ' +
                  'another@somewhere.org, and one more: ftp://127.0.0.1/.');
         expect(element.all(by.css('#escaped-html a')).count()).toEqual(0);
       });

       it('should update', function() {
         element(by.model('snippet')).clear();
         element(by.model('snippet')).sendKeys('new http://link.');
         expect(element(by.id('linky-filter')).element(by.binding('snippet | linky')).getText()).
             toBe('new http://link.');
         expect(element.all(by.css('#linky-filter a')).count()).toEqual(1);
         expect(element(by.id('escaped-html')).element(by.binding('snippet')).getText())
             .toBe('new http://link.');
       });

       it('should work with the target property', function() {
        expect(element(by.id('linky-target')).
            element(by.binding("snippetWithSingleURL | linky:'_blank'")).getText()).
            toBe('http://angularjs.org/');
        expect(element(by.css('#linky-target a')).getAttribute('target')).toEqual('_blank');
       });

       it('should optionally add custom attributes', function() {
        expect(element(by.id('linky-custom-attributes')).
            element(by.binding("snippetWithSingleURL | linky:'_self':{rel: 'nofollow'}")).getText()).
            toBe('http://angularjs.org/');
        expect(element(by.css('#linky-custom-attributes a')).getAttribute('rel')).toEqual('nofollow');
       });
     </file>
   </example>
 */
angular.module('ngSanitize').filter('linky', ['$sanitize', function($sanitize) {
  var LINKY_URL_REGEXP =
        /((ftp|https?):\/\/|(www\.)|(mailto:)?[A-Za-z0-9._%+-]+@)\S*[^\s.;,(){}<>"\u201d\u2019]/i,
      MAILTO_REGEXP = /^mailto:/i;

  var linkyMinErr = angular.$$minErr('linky');
  var isDefined = angular.isDefined;
  var isFunction = angular.isFunction;
  var isObject = angular.isObject;
  var isString = angular.isString;

  return function(text, target, attributes) {
    if (text == null || text === '') return text;
    if (!isString(text)) throw linkyMinErr('notstring', 'Expected string but received: {0}', text);

    var attributesFn =
      isFunction(attributes) ? attributes :
      isObject(attributes) ? function getAttributesObject() {return attributes;} :
      function getEmptyAttributesObject() {return {};};

    var match;
    var raw = text;
    var html = [];
    var url;
    var i;
    while ((match = raw.match(LINKY_URL_REGEXP))) {
      // We can not end in these as they are sometimes found at the end of the sentence
      url = match[0];
      // if we did not match ftp/http/www/mailto then assume mailto
      if (!match[2] && !match[4]) {
        url = (match[3] ? 'http://' : 'mailto:') + url;
      }
      i = match.index;
      addText(raw.substr(0, i));
      addLink(url, match[0].replace(MAILTO_REGEXP, ''));
      raw = raw.substring(i + match[0].length);
    }
    addText(raw);
    return $sanitize(html.join(''));

    function addText(text) {
      if (!text) {
        return;
      }
      html.push(sanitizeText(text));
    }

    function addLink(url, text) {
      var key, linkAttributes = attributesFn(url);
      html.push('<a ');

      for (key in linkAttributes) {
        html.push(key + '="' + linkAttributes[key] + '" ');
      }

      if (isDefined(target) && !('target' in linkAttributes)) {
        html.push('target="',
                  target,
                  '" ');
      }
      html.push('href="',
                url.replace(/"/g, '&quot;'),
                '">');
      addText(text);
      html.push('</a>');
    }
  };
}]);


})(window, window.angular);

},{}],"/Users/cescwang/program/sil/SIL-frontend/node_modules/angular-sanitize/index.js":[function(require,module,exports){
require('./angular-sanitize');
module.exports = 'ngSanitize';

},{"./angular-sanitize":"/Users/cescwang/program/sil/SIL-frontend/node_modules/angular-sanitize/angular-sanitize.js"}],"/Users/cescwang/program/sil/SIL-frontend/node_modules/angular-validation-match/dist/angular-validation-match.js":[function(require,module,exports){
/*!
 * angular-validation-match
 * Checks if one input matches another
 * @version v1.9.0
 * @link https://github.com/TheSharpieOne/angular-validation-match
 * @license MIT License, http://www.opensource.org/licenses/MIT
 */
(function(window, angular, undefined){'use strict';

match.$inject = ["$parse"];
angular.module('validation.match', []);

angular.module('validation.match').directive('match', match);

function match ($parse) {
    return {
        require: '?ngModel',
        restrict: 'A',
        link: function(scope, elem, attrs, ctrl) {
            if(!ctrl || !attrs.match) {
                return;
            }

            var matchGetter = $parse(attrs.match);
            var caselessGetter = $parse(attrs.matchCaseless);
            var noMatchGetter = $parse(attrs.notMatch);
            var matchIgnoreEmptyGetter = $parse(attrs.matchIgnoreEmpty);

            scope.$watch(getMatchValue, function(){
                ctrl.$$parseAndValidate();
            });

            ctrl.$validators.match = function(modelValue, viewValue){
              var matcher = modelValue || viewValue;
              var match = getMatchValue();
              var notMatch = noMatchGetter(scope);
              var value;

              if (matchIgnoreEmptyGetter(scope) && !viewValue) {
                return true;
              }

              if(caselessGetter(scope)){
                value = angular.lowercase(matcher) === angular.lowercase(match);
              }else{
                value = matcher === match;
              }
              /*jslint bitwise: true */
              value ^= notMatch;
              /*jslint bitwise: false */
              return !!value;
            };

            function getMatchValue(){
                var match = matchGetter(scope);
                if(angular.isObject(match) && match.hasOwnProperty('$viewValue')){
                    match = match.$viewValue;
                }
                return match;
            }
        }
    };
}
})(window, window.angular);

},{}],"/Users/cescwang/program/sil/SIL-frontend/node_modules/angular-validation-match/index.js":[function(require,module,exports){
require('./dist/angular-validation-match');
module.exports = 'validation.match';

},{"./dist/angular-validation-match":"/Users/cescwang/program/sil/SIL-frontend/node_modules/angular-validation-match/dist/angular-validation-match.js"}],"/Users/cescwang/program/sil/SIL-frontend/node_modules/angular-validation/dist/angular-validation-rule.js":[function(require,module,exports){
(function() {
  angular
    .module('validation.rule', ['validation'])
    .config(['$validationProvider', function($validationProvider) {
      var expression = {
        required: function(value) {
          return !!value;
        },
        url: /((([A-Za-z]{3,9}:(?:\/\/)?)(?:[-;:&=\+\$,\w]+@)?[A-Za-z0-9.-]+|(?:www.|[-;:&=\+\$,\w]+@)[A-Za-z0-9.-]+)((?:\/[\+~%\/.\w-_]*)?\??(?:[-\+=&;%@.\w_]*)#?(?:[\w]*))?)/,
        email: /^([\w-\.]+)@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.)|(([\w-]+\.)+))([a-zA-Z]{2,4}|[0-9]{1,3})(\]?)$/,
        number: /^\d+$/,
        minlength: function(value, scope, element, attrs, param) {
          return value.length >= param;
        },
        maxlength: function(value, scope, element, attrs, param) {
          return value.length <= param;
        }
      };

      var defaultMsg = {
        required: {
          error: 'This should be Required!!',
          success: 'It\'s Required'
        },
        url: {
          error: 'This should be Url',
          success: 'It\'s Url'
        },
        email: {
          error: 'This should be Email',
          success: 'It\'s Email'
        },
        number: {
          error: 'This should be Number',
          success: 'It\'s Number'
        },
        minlength: {
          error: 'This should be longer',
          success: 'Long enough!'
        },
        maxlength: {
          error: 'This should be shorter',
          success: 'Short enough!'
        }
      };
      $validationProvider.setExpression(expression).setDefaultMsg(defaultMsg);
    }]);
}).call(this);

},{}],"/Users/cescwang/program/sil/SIL-frontend/node_modules/angular-validation/dist/angular-validation.js":[function(require,module,exports){
angular.module('validation', ['validation.provider', 'validation.directive']);
angular.module('validation.provider', []);
angular.module('validation.directive', ['validation.provider']);

(function() {
  angular
    .module('validation.provider')
    .provider('$validation', Provider);

  function Provider() {
    var $injector;
    var $scope;
    var $http;
    var $q;
    var $timeout;
    var _this = this;

    /**
     * Setup the provider
     * @param injector
     */
    var setup = function(injector) {
      $injector = injector;
      $scope = $injector.get('$rootScope');
      $http = $injector.get('$http');
      $q = $injector.get('$q');
      $timeout = $injector.get('$timeout');
    };

    /**
     * Define validation type RegExp
     * @type {{}}
     */
    var expression = {};

    /**
     * default valid method
     * @type {{}}
     */
    var validMethod = null;

    /**
     * default error, success message
     * @type {{}}
     */
    var defaultMsg = {};

    /**
     * Allow user to set a custom Expression, do remember set the default message using setDefaultMsg
     * @param obj
     * @returns {*}
     */
    this.setExpression = function(obj) {
      angular.extend(expression, obj);
      return _this;
    };

    /**
     * Get the Expression
     * @param exprs
     * @returns {*}
     */
    this.getExpression = function(exprs) {
      return expression[exprs];
    };

    /**
     * Allow user to set default message
     * @param obj
     * @returns {*}
     */
    this.setDefaultMsg = function(obj) {
      angular.extend(defaultMsg, obj);
      return _this;
    };

    /**
     * Get the Default Message
     * @param msg
     * @returns {*}
     */
    this.getDefaultMsg = function(msg) {
      return defaultMsg[msg];
    };

    /**
     * allow user to set the global valid method
     * @param v
     * @returns {*}
     */
    this.setValidMethod = function(v) {
      validMethod = v;
    };

    /**
     * Get the valid method     
     * @returns {*}
     */
    this.getValidMethod = function() {
      return validMethod;
    };

    /**
     * Override the errorHTML function
     * @param func
     * @returns {*}
     */
    this.setErrorHTML = function(func) {
      if (func.constructor !== Function) {
        return;
      }
      _this.getErrorHTML = func;
      return _this;
    };

    /**
     * Invalid message HTML, here's the default
     * @param message
     * @returns {string}
     */
    this.getErrorHTML = function(message) {
      return '<p class="validation-invalid">' + message + '</p>';
    };

    /**
     * Override the successHTML function
     * @param func
     * @returns {*}
     */
    this.setSuccessHTML = function(func) {
      if (func.constructor !== Function) {
        return;
      }
      _this.getSuccessHTML = func;
      return _this;
    };

    /**
     * Valid message HTML, here's the default
     * @param message
     * @returns {string}
     */
    this.getSuccessHTML = function(message) {
      return '<p class="validation-valid">' + message + '</p>';
    };

    /**
     * Whether show the validation success message
     * You can easily change this to false in your config
     * example: $validationProvider.showSuccessMessage = false;
     * @type {boolean}
     */
    this.showSuccessMessage = true;

    /**
     * Whether show the validation error message
     * You can easily change this to false in your config
     * example: $validationProvider.showErrorMessage = false;
     * @type {boolean}
     */
    this.showErrorMessage = true;

    /**
     * Check form valid, return true
     * checkValid(Form): Check the specific form(Form) valid from angular `$valid`
     * @param form
     * @returns {boolean}
     */
    this.checkValid = function(form) {
      return !!(form && form.$valid);
    };

    /**
     * Validate the form when click submit, when `validMethod = submit`
     * @param form
     * @returns {promise|*}
     */
    this.validate = function(form) {
      var deferred = $q.defer();
      var idx = 0;

      if (form === undefined) {
        console.error('This is not a regular Form name scope');
        deferred.reject('This is not a regular Form name scope');
        return deferred.promise;
      }

      if (form.validationId) { // single
        $scope.$broadcast(form.$name + 'submit-' + form.validationId, idx++);
      } else if (form.constructor === Array) { // multiple
        for (var k in form) {
          $scope.$broadcast(form[k].$name + 'submit-' + form[k].validationId, idx++);
        }
      } else {
        for (var i in form) { // whole scope
          if (i[0] !== '$' && form[i].hasOwnProperty('$dirty')) {
            $scope.$broadcast(i + 'submit-' + form[i].validationId, idx++);
          }
        }
      }

      deferred.promise.success = function(fn) {
        deferred.promise.then(function(value) {
          fn(value);
        });
        return deferred.promise;
      };

      deferred.promise.error = function(fn) {
        deferred.promise.then(null, function(value) {
          fn(value);
        });
        return deferred.promise;
      };

      $timeout(function() {
        if (_this.checkValid(form)) {
          deferred.resolve('success');
        } else {
          deferred.reject('error');
        }
      });

      return deferred.promise;
    };

    /**
     * Do this function if validation valid
     * @param element
     */
    this.validCallback = null;

    /**
     * Do this function if validation invalid
     * @param element
     */
    this.invalidCallback = null;

    /**
     * Do this function when reset is performed
     * @param element
     */
    this.resetCallback = null;

    /**
     * reset the specific form
     * @param form
     */
    this.reset = function(form) {
      if (form === undefined) {
        console.error('This is not a regular Form name scope');
        return;
      }

      if (form.validationId) {
        $scope.$broadcast(form.$name + 'reset-' + form.validationId);
      } else if (form.constructor === Array) {
        for (var k in form) {
          $scope.$broadcast(form[k].$name + 'reset-' + form[k].validationId);
        }
      } else {
        for (var i in form) {
          if (i[0] !== '$' && form[i].hasOwnProperty('$dirty')) {
            $scope.$broadcast(i + 'reset-' + form[i].validationId);
          }
        }
      }
    };

    /**
     * Add Message Element in config phase
     * When you need custom your messageElement 
     * NODE: this funtion & and `message-id` attribute, have similar purpose.
     * This function will help you add your `messageElement` automatically instead of pre-defined.
     * @param element
     */
    this.addMsgElement = function(element) {
      return element.after('<span></span>');
    };

    /**
     * Add Message Element in config phase
     * When you need custom your messageElement 
     * NODE: this funtion & and `message-id` attribute, have similar purpose.
     * This function will help you add your `messageElement` automatically instead of pre-defined.
     * @param element
     */
    this.getMsgElement = function(element) {
      return element.next();
    };

    /**
     * $get
     * @returns {{setErrorHTML: *, getErrorHTML: Function, setSuccessHTML: *, getSuccessHTML: Function, setExpression: *, getExpression: Function, setDefaultMsg: *, getDefaultMsg: Function, checkValid: Function, validate: Function, reset: Function}}
     */
    this.$get = ['$injector', function($injector) {
      setup($injector);
      return {
        setValidMethod: this.setValidMethod,
        getValidMethod: this.getValidMethod,
        setErrorHTML: this.setErrorHTML,
        getErrorHTML: this.getErrorHTML,
        setSuccessHTML: this.setSuccessHTML,
        getSuccessHTML: this.getSuccessHTML,
        setExpression: this.setExpression,
        getExpression: this.getExpression,
        setDefaultMsg: this.setDefaultMsg,
        getDefaultMsg: this.getDefaultMsg,
        showSuccessMessage: this.showSuccessMessage,
        showErrorMessage: this.showErrorMessage,
        checkValid: this.checkValid,
        validate: this.validate,
        validCallback: this.validCallback,
        invalidCallback: this.invalidCallback,
        resetCallback: this.resetCallback,
        reset: this.reset,
        addMsgElement: this.addMsgElement,
        getMsgElement: this.getMsgElement
      };
    }];
  }
}).call(this);

(function() {
  angular
    .module('validation.directive')
    .directive('validationReset', Reset);

  function Reset($injector) {
    var $validationProvider = $injector.get('$validation');
    var $timeout = $injector.get('$timeout');
    var $parse = $injector.get('$parse');
    return {
      link: function postLink(scope, element, attrs) {
        var form = $parse(attrs.validationReset)(scope);
        $timeout(function() {
          element.on('click', function(e) {
            e.preventDefault();
            $validationProvider.reset(form);
          });
        });
      }
    };
  }
  Reset.$inject = ['$injector'];
}).call(this);

(function() {
  angular
    .module('validation.directive')
    .directive('validationSubmit', Submit);

  function Submit($injector) {
    var $validationProvider = $injector.get('$validation');
    var $timeout = $injector.get('$timeout');
    var $parse = $injector.get('$parse');
    return {
      priority: 1, // execute before ng-click (0)
      require: '?ngClick',
      link: function postLink(scope, element, attrs) {
        var form = $parse(attrs.validationSubmit)(scope);
        $timeout(function() {
          // Disable ng-click event propagation
          element.off('click');
          element.on('click', function(e) {
            e.preventDefault();
            $validationProvider.validate(form)
              .success(function() {
                $parse(attrs.ngClick)(scope);
              });
          });
        });
      }
    };
  }
  Submit.$inject = ['$injector'];
}).call(this);

(function() {
  angular
    .module('validation.directive')
    .directive('validator', Validator);

  function Validator($injector) {
    var $validationProvider = $injector.get('$validation');
    var $q = $injector.get('$q');
    var $timeout = $injector.get('$timeout');
    var $compile = $injector.get('$compile');
    var $parse = $injector.get('$parse');
    var groups = {};

    /**
     * Do this function if validation valid
     * @param element
     * @param validMessage
     * @param validation
     * @param callback
     * @param ctrl
     * @returns {}
     */
    var validFunc = function(element, validMessage, validation, scope, ctrl, attrs) {
      var messageToShow = validMessage || $validationProvider.getDefaultMsg(validation).success;
      var validCallback = $parse(attrs.validCallback);
      var messageId = attrs.messageId;
      var validationGroup = attrs.validationGroup;
      var messageElem;

      if (messageId || validationGroup) messageElem = angular.element(document.querySelector('#' + (messageId || validationGroup)));
      else messageElem = $validationProvider.getMsgElement(element);

      if (element.attr('no-validation-message')) {
        messageElem.css('display', 'none');
      } else if ($validationProvider.showSuccessMessage && messageToShow) {
        messageElem.html('').append($compile($validationProvider.getSuccessHTML(messageToShow, element, attrs))(scope));
        messageElem.css('display', '');
      } else {
        messageElem.css('display', 'none');
      }

      ctrl.$setValidity(ctrl.$name, true);
      validCallback(scope, {
        message: messageToShow
      });
      if ($validationProvider.validCallback) $validationProvider.validCallback(element);

      return true;
    };


    /**
     * Do this function if validation invalid
     * @param element
     * @param validMessage
     * @param validation
     * @param callback
     * @param ctrl
     * @returns {}
     */
    var invalidFunc = function(element, validMessage, validation, scope, ctrl, attrs) {
      var messageToShow = validMessage || $validationProvider.getDefaultMsg(validation).error;
      var invalidCallback = $parse(attrs.invalidCallback);
      var messageId = attrs.messageId;
      var validationGroup = attrs.validationGroup;
      var messageElem;

      if (messageId || validationGroup) messageElem = angular.element(document.querySelector('#' + (messageId || validationGroup)));
      else messageElem = $validationProvider.getMsgElement(element);

      if (element.attr('no-validation-message')) {
        messageElem.css('display', 'none');
      } else if ($validationProvider.showErrorMessage && messageToShow) {
        messageElem.html('').append($compile($validationProvider.getErrorHTML(messageToShow, element, attrs))(scope));
        messageElem.css('display', '');
      } else {
        messageElem.css('display', 'none');
      }

      ctrl.$setValidity(ctrl.$name, false);
      invalidCallback(scope, {
        message: messageToShow
      });
      if ($validationProvider.invalidCallback) $validationProvider.invalidCallback(element);

      return false;
    };

    /**
     * Verify whether there is one of the elements inside the group valid.
     * If so, it returns true, otherwise, it returns false
     *
     * @param validationGroup
     * @return {boolean}
     */
    var checkValidationGroup = function(validationGroup) {
      var group = groups[validationGroup];

      return Object.keys(group).some(function(key) {
        return group[key];
      });
    };

    /**
     * Set validity to all elements inside the given group
     *
     * @param scope
     * @param groupName
     * @param validity
     */
    function setValidationGroup(scope, validationGroup, validity) {
      var validationGroupElems = document.querySelectorAll('*[validation-group=' + validationGroup + ']');

      // Loop through all elements inside the group
      for (var i = 0, len = validationGroupElems.length; i < len; i++) {
        var elem = validationGroupElems[i];
        var formName = elem.form.name;
        var elemName = elem.name;
        scope[formName][elemName].$setValidity(elemName, validity);
      }
    }

    /**
     * collect elements for focus
     * @type {Object}
     ***private variable
     */
    var focusElements = {};


    /**
     * Check Validation with Function or RegExp
     * @param scope
     * @param element
     * @param attrs
     * @param ctrl
     * @param validation
     * @param value
     * @returns {}
     */
    var checkValidation = function(scope, element, attrs, ctrl, validation, value) {
      var validators = validation.slice(0);
      var validatorExpr = validators[0].trim();
      var paramIndex = validatorExpr.indexOf('=');
      var validator = paramIndex === -1 ? validatorExpr : validatorExpr.substr(0, paramIndex);
      var validatorParam = paramIndex === -1 ? null : validatorExpr.substr(paramIndex + 1);
      var leftValidation = validators.slice(1);
      var successMessage = validator + 'SuccessMessage';
      var errorMessage = validator + 'ErrorMessage';
      var expression = $validationProvider.getExpression(validator);
      var validationGroup = attrs.validationGroup;
      var valid = {
        success: function() {
          validFunc(element, attrs[successMessage], validator, scope, ctrl, attrs);
          if (leftValidation.length) {
            return checkValidation(scope, element, attrs, ctrl, leftValidation, value);
          } else {
            return true;
          }
        },
        error: function() {
          return invalidFunc(element, attrs[errorMessage], validator, scope, ctrl, attrs);
        }
      };

      if (expression === undefined) {
        console.error('You are using undefined validator "%s"', validator);
        if (leftValidation.length) return checkValidation(scope, element, attrs, ctrl, leftValidation, value);
        else return;
      }
      // Check with Function
      if (expression.constructor === Function) {
        return $q.all([$validationProvider.getExpression(validator)(value, scope, element, attrs, validatorParam)])
          .then(function(data) {
            if (data && data.length > 0 && data[0]) {
              if (validationGroup) {
                groups[validationGroup][ctrl.$name] = true;
                setValidationGroup(scope, validationGroup, true);
              }
              return valid.success();
            } else if (validationGroup) {
              groups[validationGroup][ctrl.$name] = false;

              // Whenever the element is invalid, we'll check whether one of the elements inside the its group valid or not.
              // If there is a valid element, its invalid message won't be shown, Otherwise, shows its invalid message.
              if (checkValidationGroup(validationGroup)) {
                setValidationGroup(scope, validationGroup, true);
              } else {
                setValidationGroup(scope, validationGroup, false);
                return valid.error();
              }
            } else return valid.error();
          }, function() {
            return valid.error();
          });
      }

      // Check with RegExp
      else if (expression.constructor === RegExp) {
        // Only apply the test if the value is neither undefined or null
        if (value !== undefined && value !== null) {
          if ($validationProvider.getExpression(validator).test(value)) {
            if (validationGroup) {
              groups[validationGroup][ctrl.$name] = true;
              setValidationGroup(scope, validationGroup, true);
            }
            return valid.success();
          } else if (validationGroup) {
            groups[validationGroup][ctrl.$name] = false;

            // Whenever the element is invalid, we'll check whether one of the elements inside the its group valid or not.
            // If there is a valid element, its invalid message won't be shown, Otherwise, shows its invalid message.
            if (checkValidationGroup(validationGroup)) {
              setValidationGroup(scope, validationGroup, true);
            } else {
              setValidationGroup(scope, validationGroup, false);
              return valid.error();
            }
          } else return valid.error();
        }
      } else return valid.error();
    };

    /**
     * generate unique guid
     */
    var s4 = function() {
      return (((1 + Math.random()) * 0x10000) | 0).toString(16).substring(1);
    };
    var guid = function() {
      return (s4() + s4() + s4() + s4());
    };


    return {
      restrict: 'A',
      require: 'ngModel',
      link: function(scope, element, attrs, ctrl) {
        /**
         * All attributes
         */
        var validator = attrs.validator;
        var messageId = attrs.messageId;
        var validationGroup = attrs.validationGroup;
        var validMethod = attrs.validMethod;
        var ngModel = attrs.ngModel;

        /**
         * watch
         * @type {watch}
         *
         * Use to collect scope.$watch method
         *
         * use watch() to destroy the $watch method
         */
        var watch = function() {};

        /**
         * validator
         * @type {Array}
         *
         * Convert user input String to Array
         */
        var validation = validator.split(',');

        /**
         * guid use
         */
        var uid = ctrl.validationId = guid();

        /**
         * to have avalue to rollback to
         */
        var originalViewValue = null;

        /**
         * Set initial validity to undefined if no boolean value is transmitted
         */
        var initialValidity;
        if (typeof scope.initialValidity === 'boolean') {
          initialValidity = scope.initialValidity;
        }

        /**
         * Set up groups object in order to keep track validation of elements
         */
        if (validationGroup) {
          if (!groups[validationGroup]) groups[validationGroup] = {};
          groups[validationGroup][ctrl.$name] = false;
        }

        /**
         * Default Valid/Invalid Message
         */
        if (!(messageId || validationGroup)) $validationProvider.addMsgElement(element);

        /**
         * Set custom initial validity
         * Usage: <input initial-validity="true" ... >
         */
        ctrl.$setValidity(ctrl.$name, initialValidity);

        /**
         * Reset the validation for specific form
         */
        scope.$on(ctrl.$name + 'reset-' + uid, function() {
          /**
           * clear scope.$watch here
           * when reset status
           * clear the $watch method to prevent
           * $watch again while reset the form
           */
          watch();

          $timeout(function() {
            ctrl.$setViewValue(originalViewValue);
            ctrl.$setPristine();
            ctrl.$setValidity(ctrl.$name, undefined);
            ctrl.$render();
            if (messageId || validationGroup) angular.element(document.querySelector('#' + (messageId || validationGroup))).html('');
            else $validationProvider.getMsgElement(element).html('');

            if ($validationProvider.resetCallback) $validationProvider.resetCallback(element);
          });
        });

        /**
         * Check validator
         */
        validMethod = (angular.isUndefined(validMethod)) ? $validationProvider.getValidMethod() : validMethod;

        /**
         * Click submit form, check the validity when submit
         */
        scope.$on(ctrl.$name + 'submit-' + uid, function(event, index) {
          var value = ctrl.$viewValue;
          var isValid = false;

          isValid = checkValidation(scope, element, attrs, ctrl, validation, value);

          if (validMethod === 'submit') {
            // clear previous scope.$watch
            watch();
            watch = scope.$watch(function() {
              return scope.$eval(ngModel);
            }, function(value, oldValue) {
              // don't watch when init
              if (value === oldValue) {
                return;
              }

              // scope.$watch will translate '' to undefined
              // undefined/null will pass the required submit /^.+/
              // cause some error in this validation
              if (value === undefined || value === null) {
                value = '';
              }

              isValid = checkValidation(scope, element, attrs, ctrl, validation, value);
            });
          }

          var setFocus = function(isValid) {
            if (isValid) {
              delete focusElements[index];
            } else {
              focusElements[index] = element[0];

              $timeout(function() {
                focusElements[Math.min.apply(null, Object.keys(focusElements))].focus();
              }, 0);
            }
          };

          if (isValid.constructor === Object) isValid.then(setFocus);
          else setFocus(isValid);
        });

        /**
         * Validate blur method
         */
        if (validMethod === 'blur') {
          element.bind('blur', function() {
            var value = scope.$eval(ngModel);
            scope.$apply(function() {
              checkValidation(scope, element, attrs, ctrl, validation, value);
            });
          });

          return;
        }

        /**
         * Validate submit & submit-only method
         */
        if (validMethod === 'submit' || validMethod === 'submit-only') {
          return;
        }

        /**
         * Validate watch method
         * This is the default method
         */
        scope.$watch(function() {
          return scope.$eval(ngModel);
        }, function(value) {
          /**
           * dirty, pristine, viewValue control here
           */
          if (ctrl.$pristine && ctrl.$viewValue) {
            // has value when initial
            originalViewValue = ctrl.$viewValue || '';
            ctrl.$setViewValue(ctrl.$viewValue);
          } else if (ctrl.$pristine) {
            // Don't validate form when the input is clean(pristine)
            if (messageId || validationGroup) angular.element(document.querySelector('#' + (messageId || validationGroup))).html('');
            else $validationProvider.getMsgElement(element).html('');
            return;
          }
          checkValidation(scope, element, attrs, ctrl, validation, value);
        });

        $timeout(function() {
          /**
           * Don't showup the validation Message
           */
          attrs.$observe('noValidationMessage', function(value) {
            var el;
            if (messageId || validationGroup) el = angular.element(document.querySelector('#' + (messageId || validationGroup)));
            else el = $validationProvider.getMsgElement(element);
            if (value === 'true' || value === true) el.css('display', 'none');
            else if (value === 'false' || value === false) el.css('display', 'block');
          });
        });
      }
    };
  }
  Validator.$inject = ['$injector'];
}).call(this);

},{}],"/Users/cescwang/program/sil/SIL-frontend/node_modules/bootstrap/dist/js/npm.js":[function(require,module,exports){
// This file is autogenerated via the `commonjs` Grunt task. You can require() this file in a CommonJS environment.
require('../../js/transition.js')
require('../../js/alert.js')
require('../../js/button.js')
require('../../js/carousel.js')
require('../../js/collapse.js')
require('../../js/dropdown.js')
require('../../js/modal.js')
require('../../js/tooltip.js')
require('../../js/popover.js')
require('../../js/scrollspy.js')
require('../../js/tab.js')
require('../../js/affix.js')
},{"../../js/affix.js":"/Users/cescwang/program/sil/SIL-frontend/node_modules/bootstrap/js/affix.js","../../js/alert.js":"/Users/cescwang/program/sil/SIL-frontend/node_modules/bootstrap/js/alert.js","../../js/button.js":"/Users/cescwang/program/sil/SIL-frontend/node_modules/bootstrap/js/button.js","../../js/carousel.js":"/Users/cescwang/program/sil/SIL-frontend/node_modules/bootstrap/js/carousel.js","../../js/collapse.js":"/Users/cescwang/program/sil/SIL-frontend/node_modules/bootstrap/js/collapse.js","../../js/dropdown.js":"/Users/cescwang/program/sil/SIL-frontend/node_modules/bootstrap/js/dropdown.js","../../js/modal.js":"/Users/cescwang/program/sil/SIL-frontend/node_modules/bootstrap/js/modal.js","../../js/popover.js":"/Users/cescwang/program/sil/SIL-frontend/node_modules/bootstrap/js/popover.js","../../js/scrollspy.js":"/Users/cescwang/program/sil/SIL-frontend/node_modules/bootstrap/js/scrollspy.js","../../js/tab.js":"/Users/cescwang/program/sil/SIL-frontend/node_modules/bootstrap/js/tab.js","../../js/tooltip.js":"/Users/cescwang/program/sil/SIL-frontend/node_modules/bootstrap/js/tooltip.js","../../js/transition.js":"/Users/cescwang/program/sil/SIL-frontend/node_modules/bootstrap/js/transition.js"}],"/Users/cescwang/program/sil/SIL-frontend/node_modules/bootstrap/js/affix.js":[function(require,module,exports){
/* ========================================================================
 * Bootstrap: affix.js v3.3.7
 * http://getbootstrap.com/javascript/#affix
 * ========================================================================
 * Copyright 2011-2016 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 * ======================================================================== */


+function ($) {
  'use strict';

  // AFFIX CLASS DEFINITION
  // ======================

  var Affix = function (element, options) {
    this.options = $.extend({}, Affix.DEFAULTS, options)

    this.$target = $(this.options.target)
      .on('scroll.bs.affix.data-api', $.proxy(this.checkPosition, this))
      .on('click.bs.affix.data-api',  $.proxy(this.checkPositionWithEventLoop, this))

    this.$element     = $(element)
    this.affixed      = null
    this.unpin        = null
    this.pinnedOffset = null

    this.checkPosition()
  }

  Affix.VERSION  = '3.3.7'

  Affix.RESET    = 'affix affix-top affix-bottom'

  Affix.DEFAULTS = {
    offset: 0,
    target: window
  }

  Affix.prototype.getState = function (scrollHeight, height, offsetTop, offsetBottom) {
    var scrollTop    = this.$target.scrollTop()
    var position     = this.$element.offset()
    var targetHeight = this.$target.height()

    if (offsetTop != null && this.affixed == 'top') return scrollTop < offsetTop ? 'top' : false

    if (this.affixed == 'bottom') {
      if (offsetTop != null) return (scrollTop + this.unpin <= position.top) ? false : 'bottom'
      return (scrollTop + targetHeight <= scrollHeight - offsetBottom) ? false : 'bottom'
    }

    var initializing   = this.affixed == null
    var colliderTop    = initializing ? scrollTop : position.top
    var colliderHeight = initializing ? targetHeight : height

    if (offsetTop != null && scrollTop <= offsetTop) return 'top'
    if (offsetBottom != null && (colliderTop + colliderHeight >= scrollHeight - offsetBottom)) return 'bottom'

    return false
  }

  Affix.prototype.getPinnedOffset = function () {
    if (this.pinnedOffset) return this.pinnedOffset
    this.$element.removeClass(Affix.RESET).addClass('affix')
    var scrollTop = this.$target.scrollTop()
    var position  = this.$element.offset()
    return (this.pinnedOffset = position.top - scrollTop)
  }

  Affix.prototype.checkPositionWithEventLoop = function () {
    setTimeout($.proxy(this.checkPosition, this), 1)
  }

  Affix.prototype.checkPosition = function () {
    if (!this.$element.is(':visible')) return

    var height       = this.$element.height()
    var offset       = this.options.offset
    var offsetTop    = offset.top
    var offsetBottom = offset.bottom
    var scrollHeight = Math.max($(document).height(), $(document.body).height())

    if (typeof offset != 'object')         offsetBottom = offsetTop = offset
    if (typeof offsetTop == 'function')    offsetTop    = offset.top(this.$element)
    if (typeof offsetBottom == 'function') offsetBottom = offset.bottom(this.$element)

    var affix = this.getState(scrollHeight, height, offsetTop, offsetBottom)

    if (this.affixed != affix) {
      if (this.unpin != null) this.$element.css('top', '')

      var affixType = 'affix' + (affix ? '-' + affix : '')
      var e         = $.Event(affixType + '.bs.affix')

      this.$element.trigger(e)

      if (e.isDefaultPrevented()) return

      this.affixed = affix
      this.unpin = affix == 'bottom' ? this.getPinnedOffset() : null

      this.$element
        .removeClass(Affix.RESET)
        .addClass(affixType)
        .trigger(affixType.replace('affix', 'affixed') + '.bs.affix')
    }

    if (affix == 'bottom') {
      this.$element.offset({
        top: scrollHeight - height - offsetBottom
      })
    }
  }


  // AFFIX PLUGIN DEFINITION
  // =======================

  function Plugin(option) {
    return this.each(function () {
      var $this   = $(this)
      var data    = $this.data('bs.affix')
      var options = typeof option == 'object' && option

      if (!data) $this.data('bs.affix', (data = new Affix(this, options)))
      if (typeof option == 'string') data[option]()
    })
  }

  var old = $.fn.affix

  $.fn.affix             = Plugin
  $.fn.affix.Constructor = Affix


  // AFFIX NO CONFLICT
  // =================

  $.fn.affix.noConflict = function () {
    $.fn.affix = old
    return this
  }


  // AFFIX DATA-API
  // ==============

  $(window).on('load', function () {
    $('[data-spy="affix"]').each(function () {
      var $spy = $(this)
      var data = $spy.data()

      data.offset = data.offset || {}

      if (data.offsetBottom != null) data.offset.bottom = data.offsetBottom
      if (data.offsetTop    != null) data.offset.top    = data.offsetTop

      Plugin.call($spy, data)
    })
  })

}(jQuery);

},{}],"/Users/cescwang/program/sil/SIL-frontend/node_modules/bootstrap/js/alert.js":[function(require,module,exports){
/* ========================================================================
 * Bootstrap: alert.js v3.3.7
 * http://getbootstrap.com/javascript/#alerts
 * ========================================================================
 * Copyright 2011-2016 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 * ======================================================================== */


+function ($) {
  'use strict';

  // ALERT CLASS DEFINITION
  // ======================

  var dismiss = '[data-dismiss="alert"]'
  var Alert   = function (el) {
    $(el).on('click', dismiss, this.close)
  }

  Alert.VERSION = '3.3.7'

  Alert.TRANSITION_DURATION = 150

  Alert.prototype.close = function (e) {
    var $this    = $(this)
    var selector = $this.attr('data-target')

    if (!selector) {
      selector = $this.attr('href')
      selector = selector && selector.replace(/.*(?=#[^\s]*$)/, '') // strip for ie7
    }

    var $parent = $(selector === '#' ? [] : selector)

    if (e) e.preventDefault()

    if (!$parent.length) {
      $parent = $this.closest('.alert')
    }

    $parent.trigger(e = $.Event('close.bs.alert'))

    if (e.isDefaultPrevented()) return

    $parent.removeClass('in')

    function removeElement() {
      // detach from parent, fire event then clean up data
      $parent.detach().trigger('closed.bs.alert').remove()
    }

    $.support.transition && $parent.hasClass('fade') ?
      $parent
        .one('bsTransitionEnd', removeElement)
        .emulateTransitionEnd(Alert.TRANSITION_DURATION) :
      removeElement()
  }


  // ALERT PLUGIN DEFINITION
  // =======================

  function Plugin(option) {
    return this.each(function () {
      var $this = $(this)
      var data  = $this.data('bs.alert')

      if (!data) $this.data('bs.alert', (data = new Alert(this)))
      if (typeof option == 'string') data[option].call($this)
    })
  }

  var old = $.fn.alert

  $.fn.alert             = Plugin
  $.fn.alert.Constructor = Alert


  // ALERT NO CONFLICT
  // =================

  $.fn.alert.noConflict = function () {
    $.fn.alert = old
    return this
  }


  // ALERT DATA-API
  // ==============

  $(document).on('click.bs.alert.data-api', dismiss, Alert.prototype.close)

}(jQuery);

},{}],"/Users/cescwang/program/sil/SIL-frontend/node_modules/bootstrap/js/button.js":[function(require,module,exports){
/* ========================================================================
 * Bootstrap: button.js v3.3.7
 * http://getbootstrap.com/javascript/#buttons
 * ========================================================================
 * Copyright 2011-2016 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 * ======================================================================== */


+function ($) {
  'use strict';

  // BUTTON PUBLIC CLASS DEFINITION
  // ==============================

  var Button = function (element, options) {
    this.$element  = $(element)
    this.options   = $.extend({}, Button.DEFAULTS, options)
    this.isLoading = false
  }

  Button.VERSION  = '3.3.7'

  Button.DEFAULTS = {
    loadingText: 'loading...'
  }

  Button.prototype.setState = function (state) {
    var d    = 'disabled'
    var $el  = this.$element
    var val  = $el.is('input') ? 'val' : 'html'
    var data = $el.data()

    state += 'Text'

    if (data.resetText == null) $el.data('resetText', $el[val]())

    // push to event loop to allow forms to submit
    setTimeout($.proxy(function () {
      $el[val](data[state] == null ? this.options[state] : data[state])

      if (state == 'loadingText') {
        this.isLoading = true
        $el.addClass(d).attr(d, d).prop(d, true)
      } else if (this.isLoading) {
        this.isLoading = false
        $el.removeClass(d).removeAttr(d).prop(d, false)
      }
    }, this), 0)
  }

  Button.prototype.toggle = function () {
    var changed = true
    var $parent = this.$element.closest('[data-toggle="buttons"]')

    if ($parent.length) {
      var $input = this.$element.find('input')
      if ($input.prop('type') == 'radio') {
        if ($input.prop('checked')) changed = false
        $parent.find('.active').removeClass('active')
        this.$element.addClass('active')
      } else if ($input.prop('type') == 'checkbox') {
        if (($input.prop('checked')) !== this.$element.hasClass('active')) changed = false
        this.$element.toggleClass('active')
      }
      $input.prop('checked', this.$element.hasClass('active'))
      if (changed) $input.trigger('change')
    } else {
      this.$element.attr('aria-pressed', !this.$element.hasClass('active'))
      this.$element.toggleClass('active')
    }
  }


  // BUTTON PLUGIN DEFINITION
  // ========================

  function Plugin(option) {
    return this.each(function () {
      var $this   = $(this)
      var data    = $this.data('bs.button')
      var options = typeof option == 'object' && option

      if (!data) $this.data('bs.button', (data = new Button(this, options)))

      if (option == 'toggle') data.toggle()
      else if (option) data.setState(option)
    })
  }

  var old = $.fn.button

  $.fn.button             = Plugin
  $.fn.button.Constructor = Button


  // BUTTON NO CONFLICT
  // ==================

  $.fn.button.noConflict = function () {
    $.fn.button = old
    return this
  }


  // BUTTON DATA-API
  // ===============

  $(document)
    .on('click.bs.button.data-api', '[data-toggle^="button"]', function (e) {
      var $btn = $(e.target).closest('.btn')
      Plugin.call($btn, 'toggle')
      if (!($(e.target).is('input[type="radio"], input[type="checkbox"]'))) {
        // Prevent double click on radios, and the double selections (so cancellation) on checkboxes
        e.preventDefault()
        // The target component still receive the focus
        if ($btn.is('input,button')) $btn.trigger('focus')
        else $btn.find('input:visible,button:visible').first().trigger('focus')
      }
    })
    .on('focus.bs.button.data-api blur.bs.button.data-api', '[data-toggle^="button"]', function (e) {
      $(e.target).closest('.btn').toggleClass('focus', /^focus(in)?$/.test(e.type))
    })

}(jQuery);

},{}],"/Users/cescwang/program/sil/SIL-frontend/node_modules/bootstrap/js/carousel.js":[function(require,module,exports){
/* ========================================================================
 * Bootstrap: carousel.js v3.3.7
 * http://getbootstrap.com/javascript/#carousel
 * ========================================================================
 * Copyright 2011-2016 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 * ======================================================================== */


+function ($) {
  'use strict';

  // CAROUSEL CLASS DEFINITION
  // =========================

  var Carousel = function (element, options) {
    this.$element    = $(element)
    this.$indicators = this.$element.find('.carousel-indicators')
    this.options     = options
    this.paused      = null
    this.sliding     = null
    this.interval    = null
    this.$active     = null
    this.$items      = null

    this.options.keyboard && this.$element.on('keydown.bs.carousel', $.proxy(this.keydown, this))

    this.options.pause == 'hover' && !('ontouchstart' in document.documentElement) && this.$element
      .on('mouseenter.bs.carousel', $.proxy(this.pause, this))
      .on('mouseleave.bs.carousel', $.proxy(this.cycle, this))
  }

  Carousel.VERSION  = '3.3.7'

  Carousel.TRANSITION_DURATION = 600

  Carousel.DEFAULTS = {
    interval: 5000,
    pause: 'hover',
    wrap: true,
    keyboard: true
  }

  Carousel.prototype.keydown = function (e) {
    if (/input|textarea/i.test(e.target.tagName)) return
    switch (e.which) {
      case 37: this.prev(); break
      case 39: this.next(); break
      default: return
    }

    e.preventDefault()
  }

  Carousel.prototype.cycle = function (e) {
    e || (this.paused = false)

    this.interval && clearInterval(this.interval)

    this.options.interval
      && !this.paused
      && (this.interval = setInterval($.proxy(this.next, this), this.options.interval))

    return this
  }

  Carousel.prototype.getItemIndex = function (item) {
    this.$items = item.parent().children('.item')
    return this.$items.index(item || this.$active)
  }

  Carousel.prototype.getItemForDirection = function (direction, active) {
    var activeIndex = this.getItemIndex(active)
    var willWrap = (direction == 'prev' && activeIndex === 0)
                || (direction == 'next' && activeIndex == (this.$items.length - 1))
    if (willWrap && !this.options.wrap) return active
    var delta = direction == 'prev' ? -1 : 1
    var itemIndex = (activeIndex + delta) % this.$items.length
    return this.$items.eq(itemIndex)
  }

  Carousel.prototype.to = function (pos) {
    var that        = this
    var activeIndex = this.getItemIndex(this.$active = this.$element.find('.item.active'))

    if (pos > (this.$items.length - 1) || pos < 0) return

    if (this.sliding)       return this.$element.one('slid.bs.carousel', function () { that.to(pos) }) // yes, "slid"
    if (activeIndex == pos) return this.pause().cycle()

    return this.slide(pos > activeIndex ? 'next' : 'prev', this.$items.eq(pos))
  }

  Carousel.prototype.pause = function (e) {
    e || (this.paused = true)

    if (this.$element.find('.next, .prev').length && $.support.transition) {
      this.$element.trigger($.support.transition.end)
      this.cycle(true)
    }

    this.interval = clearInterval(this.interval)

    return this
  }

  Carousel.prototype.next = function () {
    if (this.sliding) return
    return this.slide('next')
  }

  Carousel.prototype.prev = function () {
    if (this.sliding) return
    return this.slide('prev')
  }

  Carousel.prototype.slide = function (type, next) {
    var $active   = this.$element.find('.item.active')
    var $next     = next || this.getItemForDirection(type, $active)
    var isCycling = this.interval
    var direction = type == 'next' ? 'left' : 'right'
    var that      = this

    if ($next.hasClass('active')) return (this.sliding = false)

    var relatedTarget = $next[0]
    var slideEvent = $.Event('slide.bs.carousel', {
      relatedTarget: relatedTarget,
      direction: direction
    })
    this.$element.trigger(slideEvent)
    if (slideEvent.isDefaultPrevented()) return

    this.sliding = true

    isCycling && this.pause()

    if (this.$indicators.length) {
      this.$indicators.find('.active').removeClass('active')
      var $nextIndicator = $(this.$indicators.children()[this.getItemIndex($next)])
      $nextIndicator && $nextIndicator.addClass('active')
    }

    var slidEvent = $.Event('slid.bs.carousel', { relatedTarget: relatedTarget, direction: direction }) // yes, "slid"
    if ($.support.transition && this.$element.hasClass('slide')) {
      $next.addClass(type)
      $next[0].offsetWidth // force reflow
      $active.addClass(direction)
      $next.addClass(direction)
      $active
        .one('bsTransitionEnd', function () {
          $next.removeClass([type, direction].join(' ')).addClass('active')
          $active.removeClass(['active', direction].join(' '))
          that.sliding = false
          setTimeout(function () {
            that.$element.trigger(slidEvent)
          }, 0)
        })
        .emulateTransitionEnd(Carousel.TRANSITION_DURATION)
    } else {
      $active.removeClass('active')
      $next.addClass('active')
      this.sliding = false
      this.$element.trigger(slidEvent)
    }

    isCycling && this.cycle()

    return this
  }


  // CAROUSEL PLUGIN DEFINITION
  // ==========================

  function Plugin(option) {
    return this.each(function () {
      var $this   = $(this)
      var data    = $this.data('bs.carousel')
      var options = $.extend({}, Carousel.DEFAULTS, $this.data(), typeof option == 'object' && option)
      var action  = typeof option == 'string' ? option : options.slide

      if (!data) $this.data('bs.carousel', (data = new Carousel(this, options)))
      if (typeof option == 'number') data.to(option)
      else if (action) data[action]()
      else if (options.interval) data.pause().cycle()
    })
  }

  var old = $.fn.carousel

  $.fn.carousel             = Plugin
  $.fn.carousel.Constructor = Carousel


  // CAROUSEL NO CONFLICT
  // ====================

  $.fn.carousel.noConflict = function () {
    $.fn.carousel = old
    return this
  }


  // CAROUSEL DATA-API
  // =================

  var clickHandler = function (e) {
    var href
    var $this   = $(this)
    var $target = $($this.attr('data-target') || (href = $this.attr('href')) && href.replace(/.*(?=#[^\s]+$)/, '')) // strip for ie7
    if (!$target.hasClass('carousel')) return
    var options = $.extend({}, $target.data(), $this.data())
    var slideIndex = $this.attr('data-slide-to')
    if (slideIndex) options.interval = false

    Plugin.call($target, options)

    if (slideIndex) {
      $target.data('bs.carousel').to(slideIndex)
    }

    e.preventDefault()
  }

  $(document)
    .on('click.bs.carousel.data-api', '[data-slide]', clickHandler)
    .on('click.bs.carousel.data-api', '[data-slide-to]', clickHandler)

  $(window).on('load', function () {
    $('[data-ride="carousel"]').each(function () {
      var $carousel = $(this)
      Plugin.call($carousel, $carousel.data())
    })
  })

}(jQuery);

},{}],"/Users/cescwang/program/sil/SIL-frontend/node_modules/bootstrap/js/collapse.js":[function(require,module,exports){
/* ========================================================================
 * Bootstrap: collapse.js v3.3.7
 * http://getbootstrap.com/javascript/#collapse
 * ========================================================================
 * Copyright 2011-2016 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 * ======================================================================== */

/* jshint latedef: false */

+function ($) {
  'use strict';

  // COLLAPSE PUBLIC CLASS DEFINITION
  // ================================

  var Collapse = function (element, options) {
    this.$element      = $(element)
    this.options       = $.extend({}, Collapse.DEFAULTS, options)
    this.$trigger      = $('[data-toggle="collapse"][href="#' + element.id + '"],' +
                           '[data-toggle="collapse"][data-target="#' + element.id + '"]')
    this.transitioning = null

    if (this.options.parent) {
      this.$parent = this.getParent()
    } else {
      this.addAriaAndCollapsedClass(this.$element, this.$trigger)
    }

    if (this.options.toggle) this.toggle()
  }

  Collapse.VERSION  = '3.3.7'

  Collapse.TRANSITION_DURATION = 350

  Collapse.DEFAULTS = {
    toggle: true
  }

  Collapse.prototype.dimension = function () {
    var hasWidth = this.$element.hasClass('width')
    return hasWidth ? 'width' : 'height'
  }

  Collapse.prototype.show = function () {
    if (this.transitioning || this.$element.hasClass('in')) return

    var activesData
    var actives = this.$parent && this.$parent.children('.panel').children('.in, .collapsing')

    if (actives && actives.length) {
      activesData = actives.data('bs.collapse')
      if (activesData && activesData.transitioning) return
    }

    var startEvent = $.Event('show.bs.collapse')
    this.$element.trigger(startEvent)
    if (startEvent.isDefaultPrevented()) return

    if (actives && actives.length) {
      Plugin.call(actives, 'hide')
      activesData || actives.data('bs.collapse', null)
    }

    var dimension = this.dimension()

    this.$element
      .removeClass('collapse')
      .addClass('collapsing')[dimension](0)
      .attr('aria-expanded', true)

    this.$trigger
      .removeClass('collapsed')
      .attr('aria-expanded', true)

    this.transitioning = 1

    var complete = function () {
      this.$element
        .removeClass('collapsing')
        .addClass('collapse in')[dimension]('')
      this.transitioning = 0
      this.$element
        .trigger('shown.bs.collapse')
    }

    if (!$.support.transition) return complete.call(this)

    var scrollSize = $.camelCase(['scroll', dimension].join('-'))

    this.$element
      .one('bsTransitionEnd', $.proxy(complete, this))
      .emulateTransitionEnd(Collapse.TRANSITION_DURATION)[dimension](this.$element[0][scrollSize])
  }

  Collapse.prototype.hide = function () {
    if (this.transitioning || !this.$element.hasClass('in')) return

    var startEvent = $.Event('hide.bs.collapse')
    this.$element.trigger(startEvent)
    if (startEvent.isDefaultPrevented()) return

    var dimension = this.dimension()

    this.$element[dimension](this.$element[dimension]())[0].offsetHeight

    this.$element
      .addClass('collapsing')
      .removeClass('collapse in')
      .attr('aria-expanded', false)

    this.$trigger
      .addClass('collapsed')
      .attr('aria-expanded', false)

    this.transitioning = 1

    var complete = function () {
      this.transitioning = 0
      this.$element
        .removeClass('collapsing')
        .addClass('collapse')
        .trigger('hidden.bs.collapse')
    }

    if (!$.support.transition) return complete.call(this)

    this.$element
      [dimension](0)
      .one('bsTransitionEnd', $.proxy(complete, this))
      .emulateTransitionEnd(Collapse.TRANSITION_DURATION)
  }

  Collapse.prototype.toggle = function () {
    this[this.$element.hasClass('in') ? 'hide' : 'show']()
  }

  Collapse.prototype.getParent = function () {
    return $(this.options.parent)
      .find('[data-toggle="collapse"][data-parent="' + this.options.parent + '"]')
      .each($.proxy(function (i, element) {
        var $element = $(element)
        this.addAriaAndCollapsedClass(getTargetFromTrigger($element), $element)
      }, this))
      .end()
  }

  Collapse.prototype.addAriaAndCollapsedClass = function ($element, $trigger) {
    var isOpen = $element.hasClass('in')

    $element.attr('aria-expanded', isOpen)
    $trigger
      .toggleClass('collapsed', !isOpen)
      .attr('aria-expanded', isOpen)
  }

  function getTargetFromTrigger($trigger) {
    var href
    var target = $trigger.attr('data-target')
      || (href = $trigger.attr('href')) && href.replace(/.*(?=#[^\s]+$)/, '') // strip for ie7

    return $(target)
  }


  // COLLAPSE PLUGIN DEFINITION
  // ==========================

  function Plugin(option) {
    return this.each(function () {
      var $this   = $(this)
      var data    = $this.data('bs.collapse')
      var options = $.extend({}, Collapse.DEFAULTS, $this.data(), typeof option == 'object' && option)

      if (!data && options.toggle && /show|hide/.test(option)) options.toggle = false
      if (!data) $this.data('bs.collapse', (data = new Collapse(this, options)))
      if (typeof option == 'string') data[option]()
    })
  }

  var old = $.fn.collapse

  $.fn.collapse             = Plugin
  $.fn.collapse.Constructor = Collapse


  // COLLAPSE NO CONFLICT
  // ====================

  $.fn.collapse.noConflict = function () {
    $.fn.collapse = old
    return this
  }


  // COLLAPSE DATA-API
  // =================

  $(document).on('click.bs.collapse.data-api', '[data-toggle="collapse"]', function (e) {
    var $this   = $(this)

    if (!$this.attr('data-target')) e.preventDefault()

    var $target = getTargetFromTrigger($this)
    var data    = $target.data('bs.collapse')
    var option  = data ? 'toggle' : $this.data()

    Plugin.call($target, option)
  })

}(jQuery);

},{}],"/Users/cescwang/program/sil/SIL-frontend/node_modules/bootstrap/js/dropdown.js":[function(require,module,exports){
/* ========================================================================
 * Bootstrap: dropdown.js v3.3.7
 * http://getbootstrap.com/javascript/#dropdowns
 * ========================================================================
 * Copyright 2011-2016 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 * ======================================================================== */


+function ($) {
  'use strict';

  // DROPDOWN CLASS DEFINITION
  // =========================

  var backdrop = '.dropdown-backdrop'
  var toggle   = '[data-toggle="dropdown"]'
  var Dropdown = function (element) {
    $(element).on('click.bs.dropdown', this.toggle)
  }

  Dropdown.VERSION = '3.3.7'

  function getParent($this) {
    var selector = $this.attr('data-target')

    if (!selector) {
      selector = $this.attr('href')
      selector = selector && /#[A-Za-z]/.test(selector) && selector.replace(/.*(?=#[^\s]*$)/, '') // strip for ie7
    }

    var $parent = selector && $(selector)

    return $parent && $parent.length ? $parent : $this.parent()
  }

  function clearMenus(e) {
    if (e && e.which === 3) return
    $(backdrop).remove()
    $(toggle).each(function () {
      var $this         = $(this)
      var $parent       = getParent($this)
      var relatedTarget = { relatedTarget: this }

      if (!$parent.hasClass('open')) return

      if (e && e.type == 'click' && /input|textarea/i.test(e.target.tagName) && $.contains($parent[0], e.target)) return

      $parent.trigger(e = $.Event('hide.bs.dropdown', relatedTarget))

      if (e.isDefaultPrevented()) return

      $this.attr('aria-expanded', 'false')
      $parent.removeClass('open').trigger($.Event('hidden.bs.dropdown', relatedTarget))
    })
  }

  Dropdown.prototype.toggle = function (e) {
    var $this = $(this)

    if ($this.is('.disabled, :disabled')) return

    var $parent  = getParent($this)
    var isActive = $parent.hasClass('open')

    clearMenus()

    if (!isActive) {
      if ('ontouchstart' in document.documentElement && !$parent.closest('.navbar-nav').length) {
        // if mobile we use a backdrop because click events don't delegate
        $(document.createElement('div'))
          .addClass('dropdown-backdrop')
          .insertAfter($(this))
          .on('click', clearMenus)
      }

      var relatedTarget = { relatedTarget: this }
      $parent.trigger(e = $.Event('show.bs.dropdown', relatedTarget))

      if (e.isDefaultPrevented()) return

      $this
        .trigger('focus')
        .attr('aria-expanded', 'true')

      $parent
        .toggleClass('open')
        .trigger($.Event('shown.bs.dropdown', relatedTarget))
    }

    return false
  }

  Dropdown.prototype.keydown = function (e) {
    if (!/(38|40|27|32)/.test(e.which) || /input|textarea/i.test(e.target.tagName)) return

    var $this = $(this)

    e.preventDefault()
    e.stopPropagation()

    if ($this.is('.disabled, :disabled')) return

    var $parent  = getParent($this)
    var isActive = $parent.hasClass('open')

    if (!isActive && e.which != 27 || isActive && e.which == 27) {
      if (e.which == 27) $parent.find(toggle).trigger('focus')
      return $this.trigger('click')
    }

    var desc = ' li:not(.disabled):visible a'
    var $items = $parent.find('.dropdown-menu' + desc)

    if (!$items.length) return

    var index = $items.index(e.target)

    if (e.which == 38 && index > 0)                 index--         // up
    if (e.which == 40 && index < $items.length - 1) index++         // down
    if (!~index)                                    index = 0

    $items.eq(index).trigger('focus')
  }


  // DROPDOWN PLUGIN DEFINITION
  // ==========================

  function Plugin(option) {
    return this.each(function () {
      var $this = $(this)
      var data  = $this.data('bs.dropdown')

      if (!data) $this.data('bs.dropdown', (data = new Dropdown(this)))
      if (typeof option == 'string') data[option].call($this)
    })
  }

  var old = $.fn.dropdown

  $.fn.dropdown             = Plugin
  $.fn.dropdown.Constructor = Dropdown


  // DROPDOWN NO CONFLICT
  // ====================

  $.fn.dropdown.noConflict = function () {
    $.fn.dropdown = old
    return this
  }


  // APPLY TO STANDARD DROPDOWN ELEMENTS
  // ===================================

  $(document)
    .on('click.bs.dropdown.data-api', clearMenus)
    .on('click.bs.dropdown.data-api', '.dropdown form', function (e) { e.stopPropagation() })
    .on('click.bs.dropdown.data-api', toggle, Dropdown.prototype.toggle)
    .on('keydown.bs.dropdown.data-api', toggle, Dropdown.prototype.keydown)
    .on('keydown.bs.dropdown.data-api', '.dropdown-menu', Dropdown.prototype.keydown)

}(jQuery);

},{}],"/Users/cescwang/program/sil/SIL-frontend/node_modules/bootstrap/js/modal.js":[function(require,module,exports){
/* ========================================================================
 * Bootstrap: modal.js v3.3.7
 * http://getbootstrap.com/javascript/#modals
 * ========================================================================
 * Copyright 2011-2016 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 * ======================================================================== */


+function ($) {
  'use strict';

  // MODAL CLASS DEFINITION
  // ======================

  var Modal = function (element, options) {
    this.options             = options
    this.$body               = $(document.body)
    this.$element            = $(element)
    this.$dialog             = this.$element.find('.modal-dialog')
    this.$backdrop           = null
    this.isShown             = null
    this.originalBodyPad     = null
    this.scrollbarWidth      = 0
    this.ignoreBackdropClick = false

    if (this.options.remote) {
      this.$element
        .find('.modal-content')
        .load(this.options.remote, $.proxy(function () {
          this.$element.trigger('loaded.bs.modal')
        }, this))
    }
  }

  Modal.VERSION  = '3.3.7'

  Modal.TRANSITION_DURATION = 300
  Modal.BACKDROP_TRANSITION_DURATION = 150

  Modal.DEFAULTS = {
    backdrop: true,
    keyboard: true,
    show: true
  }

  Modal.prototype.toggle = function (_relatedTarget) {
    return this.isShown ? this.hide() : this.show(_relatedTarget)
  }

  Modal.prototype.show = function (_relatedTarget) {
    var that = this
    var e    = $.Event('show.bs.modal', { relatedTarget: _relatedTarget })

    this.$element.trigger(e)

    if (this.isShown || e.isDefaultPrevented()) return

    this.isShown = true

    this.checkScrollbar()
    this.setScrollbar()
    this.$body.addClass('modal-open')

    this.escape()
    this.resize()

    this.$element.on('click.dismiss.bs.modal', '[data-dismiss="modal"]', $.proxy(this.hide, this))

    this.$dialog.on('mousedown.dismiss.bs.modal', function () {
      that.$element.one('mouseup.dismiss.bs.modal', function (e) {
        if ($(e.target).is(that.$element)) that.ignoreBackdropClick = true
      })
    })

    this.backdrop(function () {
      var transition = $.support.transition && that.$element.hasClass('fade')

      if (!that.$element.parent().length) {
        that.$element.appendTo(that.$body) // don't move modals dom position
      }

      that.$element
        .show()
        .scrollTop(0)

      that.adjustDialog()

      if (transition) {
        that.$element[0].offsetWidth // force reflow
      }

      that.$element.addClass('in')

      that.enforceFocus()

      var e = $.Event('shown.bs.modal', { relatedTarget: _relatedTarget })

      transition ?
        that.$dialog // wait for modal to slide in
          .one('bsTransitionEnd', function () {
            that.$element.trigger('focus').trigger(e)
          })
          .emulateTransitionEnd(Modal.TRANSITION_DURATION) :
        that.$element.trigger('focus').trigger(e)
    })
  }

  Modal.prototype.hide = function (e) {
    if (e) e.preventDefault()

    e = $.Event('hide.bs.modal')

    this.$element.trigger(e)

    if (!this.isShown || e.isDefaultPrevented()) return

    this.isShown = false

    this.escape()
    this.resize()

    $(document).off('focusin.bs.modal')

    this.$element
      .removeClass('in')
      .off('click.dismiss.bs.modal')
      .off('mouseup.dismiss.bs.modal')

    this.$dialog.off('mousedown.dismiss.bs.modal')

    $.support.transition && this.$element.hasClass('fade') ?
      this.$element
        .one('bsTransitionEnd', $.proxy(this.hideModal, this))
        .emulateTransitionEnd(Modal.TRANSITION_DURATION) :
      this.hideModal()
  }

  Modal.prototype.enforceFocus = function () {
    $(document)
      .off('focusin.bs.modal') // guard against infinite focus loop
      .on('focusin.bs.modal', $.proxy(function (e) {
        if (document !== e.target &&
            this.$element[0] !== e.target &&
            !this.$element.has(e.target).length) {
          this.$element.trigger('focus')
        }
      }, this))
  }

  Modal.prototype.escape = function () {
    if (this.isShown && this.options.keyboard) {
      this.$element.on('keydown.dismiss.bs.modal', $.proxy(function (e) {
        e.which == 27 && this.hide()
      }, this))
    } else if (!this.isShown) {
      this.$element.off('keydown.dismiss.bs.modal')
    }
  }

  Modal.prototype.resize = function () {
    if (this.isShown) {
      $(window).on('resize.bs.modal', $.proxy(this.handleUpdate, this))
    } else {
      $(window).off('resize.bs.modal')
    }
  }

  Modal.prototype.hideModal = function () {
    var that = this
    this.$element.hide()
    this.backdrop(function () {
      that.$body.removeClass('modal-open')
      that.resetAdjustments()
      that.resetScrollbar()
      that.$element.trigger('hidden.bs.modal')
    })
  }

  Modal.prototype.removeBackdrop = function () {
    this.$backdrop && this.$backdrop.remove()
    this.$backdrop = null
  }

  Modal.prototype.backdrop = function (callback) {
    var that = this
    var animate = this.$element.hasClass('fade') ? 'fade' : ''

    if (this.isShown && this.options.backdrop) {
      var doAnimate = $.support.transition && animate

      this.$backdrop = $(document.createElement('div'))
        .addClass('modal-backdrop ' + animate)
        .appendTo(this.$body)

      this.$element.on('click.dismiss.bs.modal', $.proxy(function (e) {
        if (this.ignoreBackdropClick) {
          this.ignoreBackdropClick = false
          return
        }
        if (e.target !== e.currentTarget) return
        this.options.backdrop == 'static'
          ? this.$element[0].focus()
          : this.hide()
      }, this))

      if (doAnimate) this.$backdrop[0].offsetWidth // force reflow

      this.$backdrop.addClass('in')

      if (!callback) return

      doAnimate ?
        this.$backdrop
          .one('bsTransitionEnd', callback)
          .emulateTransitionEnd(Modal.BACKDROP_TRANSITION_DURATION) :
        callback()

    } else if (!this.isShown && this.$backdrop) {
      this.$backdrop.removeClass('in')

      var callbackRemove = function () {
        that.removeBackdrop()
        callback && callback()
      }
      $.support.transition && this.$element.hasClass('fade') ?
        this.$backdrop
          .one('bsTransitionEnd', callbackRemove)
          .emulateTransitionEnd(Modal.BACKDROP_TRANSITION_DURATION) :
        callbackRemove()

    } else if (callback) {
      callback()
    }
  }

  // these following methods are used to handle overflowing modals

  Modal.prototype.handleUpdate = function () {
    this.adjustDialog()
  }

  Modal.prototype.adjustDialog = function () {
    var modalIsOverflowing = this.$element[0].scrollHeight > document.documentElement.clientHeight

    this.$element.css({
      paddingLeft:  !this.bodyIsOverflowing && modalIsOverflowing ? this.scrollbarWidth : '',
      paddingRight: this.bodyIsOverflowing && !modalIsOverflowing ? this.scrollbarWidth : ''
    })
  }

  Modal.prototype.resetAdjustments = function () {
    this.$element.css({
      paddingLeft: '',
      paddingRight: ''
    })
  }

  Modal.prototype.checkScrollbar = function () {
    var fullWindowWidth = window.innerWidth
    if (!fullWindowWidth) { // workaround for missing window.innerWidth in IE8
      var documentElementRect = document.documentElement.getBoundingClientRect()
      fullWindowWidth = documentElementRect.right - Math.abs(documentElementRect.left)
    }
    this.bodyIsOverflowing = document.body.clientWidth < fullWindowWidth
    this.scrollbarWidth = this.measureScrollbar()
  }

  Modal.prototype.setScrollbar = function () {
    var bodyPad = parseInt((this.$body.css('padding-right') || 0), 10)
    this.originalBodyPad = document.body.style.paddingRight || ''
    if (this.bodyIsOverflowing) this.$body.css('padding-right', bodyPad + this.scrollbarWidth)
  }

  Modal.prototype.resetScrollbar = function () {
    this.$body.css('padding-right', this.originalBodyPad)
  }

  Modal.prototype.measureScrollbar = function () { // thx walsh
    var scrollDiv = document.createElement('div')
    scrollDiv.className = 'modal-scrollbar-measure'
    this.$body.append(scrollDiv)
    var scrollbarWidth = scrollDiv.offsetWidth - scrollDiv.clientWidth
    this.$body[0].removeChild(scrollDiv)
    return scrollbarWidth
  }


  // MODAL PLUGIN DEFINITION
  // =======================

  function Plugin(option, _relatedTarget) {
    return this.each(function () {
      var $this   = $(this)
      var data    = $this.data('bs.modal')
      var options = $.extend({}, Modal.DEFAULTS, $this.data(), typeof option == 'object' && option)

      if (!data) $this.data('bs.modal', (data = new Modal(this, options)))
      if (typeof option == 'string') data[option](_relatedTarget)
      else if (options.show) data.show(_relatedTarget)
    })
  }

  var old = $.fn.modal

  $.fn.modal             = Plugin
  $.fn.modal.Constructor = Modal


  // MODAL NO CONFLICT
  // =================

  $.fn.modal.noConflict = function () {
    $.fn.modal = old
    return this
  }


  // MODAL DATA-API
  // ==============

  $(document).on('click.bs.modal.data-api', '[data-toggle="modal"]', function (e) {
    var $this   = $(this)
    var href    = $this.attr('href')
    var $target = $($this.attr('data-target') || (href && href.replace(/.*(?=#[^\s]+$)/, ''))) // strip for ie7
    var option  = $target.data('bs.modal') ? 'toggle' : $.extend({ remote: !/#/.test(href) && href }, $target.data(), $this.data())

    if ($this.is('a')) e.preventDefault()

    $target.one('show.bs.modal', function (showEvent) {
      if (showEvent.isDefaultPrevented()) return // only register focus restorer if modal will actually get shown
      $target.one('hidden.bs.modal', function () {
        $this.is(':visible') && $this.trigger('focus')
      })
    })
    Plugin.call($target, option, this)
  })

}(jQuery);

},{}],"/Users/cescwang/program/sil/SIL-frontend/node_modules/bootstrap/js/popover.js":[function(require,module,exports){
/* ========================================================================
 * Bootstrap: popover.js v3.3.7
 * http://getbootstrap.com/javascript/#popovers
 * ========================================================================
 * Copyright 2011-2016 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 * ======================================================================== */


+function ($) {
  'use strict';

  // POPOVER PUBLIC CLASS DEFINITION
  // ===============================

  var Popover = function (element, options) {
    this.init('popover', element, options)
  }

  if (!$.fn.tooltip) throw new Error('Popover requires tooltip.js')

  Popover.VERSION  = '3.3.7'

  Popover.DEFAULTS = $.extend({}, $.fn.tooltip.Constructor.DEFAULTS, {
    placement: 'right',
    trigger: 'click',
    content: '',
    template: '<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'
  })


  // NOTE: POPOVER EXTENDS tooltip.js
  // ================================

  Popover.prototype = $.extend({}, $.fn.tooltip.Constructor.prototype)

  Popover.prototype.constructor = Popover

  Popover.prototype.getDefaults = function () {
    return Popover.DEFAULTS
  }

  Popover.prototype.setContent = function () {
    var $tip    = this.tip()
    var title   = this.getTitle()
    var content = this.getContent()

    $tip.find('.popover-title')[this.options.html ? 'html' : 'text'](title)
    $tip.find('.popover-content').children().detach().end()[ // we use append for html objects to maintain js events
      this.options.html ? (typeof content == 'string' ? 'html' : 'append') : 'text'
    ](content)

    $tip.removeClass('fade top bottom left right in')

    // IE8 doesn't accept hiding via the `:empty` pseudo selector, we have to do
    // this manually by checking the contents.
    if (!$tip.find('.popover-title').html()) $tip.find('.popover-title').hide()
  }

  Popover.prototype.hasContent = function () {
    return this.getTitle() || this.getContent()
  }

  Popover.prototype.getContent = function () {
    var $e = this.$element
    var o  = this.options

    return $e.attr('data-content')
      || (typeof o.content == 'function' ?
            o.content.call($e[0]) :
            o.content)
  }

  Popover.prototype.arrow = function () {
    return (this.$arrow = this.$arrow || this.tip().find('.arrow'))
  }


  // POPOVER PLUGIN DEFINITION
  // =========================

  function Plugin(option) {
    return this.each(function () {
      var $this   = $(this)
      var data    = $this.data('bs.popover')
      var options = typeof option == 'object' && option

      if (!data && /destroy|hide/.test(option)) return
      if (!data) $this.data('bs.popover', (data = new Popover(this, options)))
      if (typeof option == 'string') data[option]()
    })
  }

  var old = $.fn.popover

  $.fn.popover             = Plugin
  $.fn.popover.Constructor = Popover


  // POPOVER NO CONFLICT
  // ===================

  $.fn.popover.noConflict = function () {
    $.fn.popover = old
    return this
  }

}(jQuery);

},{}],"/Users/cescwang/program/sil/SIL-frontend/node_modules/bootstrap/js/scrollspy.js":[function(require,module,exports){
/* ========================================================================
 * Bootstrap: scrollspy.js v3.3.7
 * http://getbootstrap.com/javascript/#scrollspy
 * ========================================================================
 * Copyright 2011-2016 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 * ======================================================================== */


+function ($) {
  'use strict';

  // SCROLLSPY CLASS DEFINITION
  // ==========================

  function ScrollSpy(element, options) {
    this.$body          = $(document.body)
    this.$scrollElement = $(element).is(document.body) ? $(window) : $(element)
    this.options        = $.extend({}, ScrollSpy.DEFAULTS, options)
    this.selector       = (this.options.target || '') + ' .nav li > a'
    this.offsets        = []
    this.targets        = []
    this.activeTarget   = null
    this.scrollHeight   = 0

    this.$scrollElement.on('scroll.bs.scrollspy', $.proxy(this.process, this))
    this.refresh()
    this.process()
  }

  ScrollSpy.VERSION  = '3.3.7'

  ScrollSpy.DEFAULTS = {
    offset: 10
  }

  ScrollSpy.prototype.getScrollHeight = function () {
    return this.$scrollElement[0].scrollHeight || Math.max(this.$body[0].scrollHeight, document.documentElement.scrollHeight)
  }

  ScrollSpy.prototype.refresh = function () {
    var that          = this
    var offsetMethod  = 'offset'
    var offsetBase    = 0

    this.offsets      = []
    this.targets      = []
    this.scrollHeight = this.getScrollHeight()

    if (!$.isWindow(this.$scrollElement[0])) {
      offsetMethod = 'position'
      offsetBase   = this.$scrollElement.scrollTop()
    }

    this.$body
      .find(this.selector)
      .map(function () {
        var $el   = $(this)
        var href  = $el.data('target') || $el.attr('href')
        var $href = /^#./.test(href) && $(href)

        return ($href
          && $href.length
          && $href.is(':visible')
          && [[$href[offsetMethod]().top + offsetBase, href]]) || null
      })
      .sort(function (a, b) { return a[0] - b[0] })
      .each(function () {
        that.offsets.push(this[0])
        that.targets.push(this[1])
      })
  }

  ScrollSpy.prototype.process = function () {
    var scrollTop    = this.$scrollElement.scrollTop() + this.options.offset
    var scrollHeight = this.getScrollHeight()
    var maxScroll    = this.options.offset + scrollHeight - this.$scrollElement.height()
    var offsets      = this.offsets
    var targets      = this.targets
    var activeTarget = this.activeTarget
    var i

    if (this.scrollHeight != scrollHeight) {
      this.refresh()
    }

    if (scrollTop >= maxScroll) {
      return activeTarget != (i = targets[targets.length - 1]) && this.activate(i)
    }

    if (activeTarget && scrollTop < offsets[0]) {
      this.activeTarget = null
      return this.clear()
    }

    for (i = offsets.length; i--;) {
      activeTarget != targets[i]
        && scrollTop >= offsets[i]
        && (offsets[i + 1] === undefined || scrollTop < offsets[i + 1])
        && this.activate(targets[i])
    }
  }

  ScrollSpy.prototype.activate = function (target) {
    this.activeTarget = target

    this.clear()

    var selector = this.selector +
      '[data-target="' + target + '"],' +
      this.selector + '[href="' + target + '"]'

    var active = $(selector)
      .parents('li')
      .addClass('active')

    if (active.parent('.dropdown-menu').length) {
      active = active
        .closest('li.dropdown')
        .addClass('active')
    }

    active.trigger('activate.bs.scrollspy')
  }

  ScrollSpy.prototype.clear = function () {
    $(this.selector)
      .parentsUntil(this.options.target, '.active')
      .removeClass('active')
  }


  // SCROLLSPY PLUGIN DEFINITION
  // ===========================

  function Plugin(option) {
    return this.each(function () {
      var $this   = $(this)
      var data    = $this.data('bs.scrollspy')
      var options = typeof option == 'object' && option

      if (!data) $this.data('bs.scrollspy', (data = new ScrollSpy(this, options)))
      if (typeof option == 'string') data[option]()
    })
  }

  var old = $.fn.scrollspy

  $.fn.scrollspy             = Plugin
  $.fn.scrollspy.Constructor = ScrollSpy


  // SCROLLSPY NO CONFLICT
  // =====================

  $.fn.scrollspy.noConflict = function () {
    $.fn.scrollspy = old
    return this
  }


  // SCROLLSPY DATA-API
  // ==================

  $(window).on('load.bs.scrollspy.data-api', function () {
    $('[data-spy="scroll"]').each(function () {
      var $spy = $(this)
      Plugin.call($spy, $spy.data())
    })
  })

}(jQuery);

},{}],"/Users/cescwang/program/sil/SIL-frontend/node_modules/bootstrap/js/tab.js":[function(require,module,exports){
/* ========================================================================
 * Bootstrap: tab.js v3.3.7
 * http://getbootstrap.com/javascript/#tabs
 * ========================================================================
 * Copyright 2011-2016 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 * ======================================================================== */


+function ($) {
  'use strict';

  // TAB CLASS DEFINITION
  // ====================

  var Tab = function (element) {
    // jscs:disable requireDollarBeforejQueryAssignment
    this.element = $(element)
    // jscs:enable requireDollarBeforejQueryAssignment
  }

  Tab.VERSION = '3.3.7'

  Tab.TRANSITION_DURATION = 150

  Tab.prototype.show = function () {
    var $this    = this.element
    var $ul      = $this.closest('ul:not(.dropdown-menu)')
    var selector = $this.data('target')

    if (!selector) {
      selector = $this.attr('href')
      selector = selector && selector.replace(/.*(?=#[^\s]*$)/, '') // strip for ie7
    }

    if ($this.parent('li').hasClass('active')) return

    var $previous = $ul.find('.active:last a')
    var hideEvent = $.Event('hide.bs.tab', {
      relatedTarget: $this[0]
    })
    var showEvent = $.Event('show.bs.tab', {
      relatedTarget: $previous[0]
    })

    $previous.trigger(hideEvent)
    $this.trigger(showEvent)

    if (showEvent.isDefaultPrevented() || hideEvent.isDefaultPrevented()) return

    var $target = $(selector)

    this.activate($this.closest('li'), $ul)
    this.activate($target, $target.parent(), function () {
      $previous.trigger({
        type: 'hidden.bs.tab',
        relatedTarget: $this[0]
      })
      $this.trigger({
        type: 'shown.bs.tab',
        relatedTarget: $previous[0]
      })
    })
  }

  Tab.prototype.activate = function (element, container, callback) {
    var $active    = container.find('> .active')
    var transition = callback
      && $.support.transition
      && ($active.length && $active.hasClass('fade') || !!container.find('> .fade').length)

    function next() {
      $active
        .removeClass('active')
        .find('> .dropdown-menu > .active')
          .removeClass('active')
        .end()
        .find('[data-toggle="tab"]')
          .attr('aria-expanded', false)

      element
        .addClass('active')
        .find('[data-toggle="tab"]')
          .attr('aria-expanded', true)

      if (transition) {
        element[0].offsetWidth // reflow for transition
        element.addClass('in')
      } else {
        element.removeClass('fade')
      }

      if (element.parent('.dropdown-menu').length) {
        element
          .closest('li.dropdown')
            .addClass('active')
          .end()
          .find('[data-toggle="tab"]')
            .attr('aria-expanded', true)
      }

      callback && callback()
    }

    $active.length && transition ?
      $active
        .one('bsTransitionEnd', next)
        .emulateTransitionEnd(Tab.TRANSITION_DURATION) :
      next()

    $active.removeClass('in')
  }


  // TAB PLUGIN DEFINITION
  // =====================

  function Plugin(option) {
    return this.each(function () {
      var $this = $(this)
      var data  = $this.data('bs.tab')

      if (!data) $this.data('bs.tab', (data = new Tab(this)))
      if (typeof option == 'string') data[option]()
    })
  }

  var old = $.fn.tab

  $.fn.tab             = Plugin
  $.fn.tab.Constructor = Tab


  // TAB NO CONFLICT
  // ===============

  $.fn.tab.noConflict = function () {
    $.fn.tab = old
    return this
  }


  // TAB DATA-API
  // ============

  var clickHandler = function (e) {
    e.preventDefault()
    Plugin.call($(this), 'show')
  }

  $(document)
    .on('click.bs.tab.data-api', '[data-toggle="tab"]', clickHandler)
    .on('click.bs.tab.data-api', '[data-toggle="pill"]', clickHandler)

}(jQuery);

},{}],"/Users/cescwang/program/sil/SIL-frontend/node_modules/bootstrap/js/tooltip.js":[function(require,module,exports){
/* ========================================================================
 * Bootstrap: tooltip.js v3.3.7
 * http://getbootstrap.com/javascript/#tooltip
 * Inspired by the original jQuery.tipsy by Jason Frame
 * ========================================================================
 * Copyright 2011-2016 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 * ======================================================================== */


+function ($) {
  'use strict';

  // TOOLTIP PUBLIC CLASS DEFINITION
  // ===============================

  var Tooltip = function (element, options) {
    this.type       = null
    this.options    = null
    this.enabled    = null
    this.timeout    = null
    this.hoverState = null
    this.$element   = null
    this.inState    = null

    this.init('tooltip', element, options)
  }

  Tooltip.VERSION  = '3.3.7'

  Tooltip.TRANSITION_DURATION = 150

  Tooltip.DEFAULTS = {
    animation: true,
    placement: 'top',
    selector: false,
    template: '<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',
    trigger: 'hover focus',
    title: '',
    delay: 0,
    html: false,
    container: false,
    viewport: {
      selector: 'body',
      padding: 0
    }
  }

  Tooltip.prototype.init = function (type, element, options) {
    this.enabled   = true
    this.type      = type
    this.$element  = $(element)
    this.options   = this.getOptions(options)
    this.$viewport = this.options.viewport && $($.isFunction(this.options.viewport) ? this.options.viewport.call(this, this.$element) : (this.options.viewport.selector || this.options.viewport))
    this.inState   = { click: false, hover: false, focus: false }

    if (this.$element[0] instanceof document.constructor && !this.options.selector) {
      throw new Error('`selector` option must be specified when initializing ' + this.type + ' on the window.document object!')
    }

    var triggers = this.options.trigger.split(' ')

    for (var i = triggers.length; i--;) {
      var trigger = triggers[i]

      if (trigger == 'click') {
        this.$element.on('click.' + this.type, this.options.selector, $.proxy(this.toggle, this))
      } else if (trigger != 'manual') {
        var eventIn  = trigger == 'hover' ? 'mouseenter' : 'focusin'
        var eventOut = trigger == 'hover' ? 'mouseleave' : 'focusout'

        this.$element.on(eventIn  + '.' + this.type, this.options.selector, $.proxy(this.enter, this))
        this.$element.on(eventOut + '.' + this.type, this.options.selector, $.proxy(this.leave, this))
      }
    }

    this.options.selector ?
      (this._options = $.extend({}, this.options, { trigger: 'manual', selector: '' })) :
      this.fixTitle()
  }

  Tooltip.prototype.getDefaults = function () {
    return Tooltip.DEFAULTS
  }

  Tooltip.prototype.getOptions = function (options) {
    options = $.extend({}, this.getDefaults(), this.$element.data(), options)

    if (options.delay && typeof options.delay == 'number') {
      options.delay = {
        show: options.delay,
        hide: options.delay
      }
    }

    return options
  }

  Tooltip.prototype.getDelegateOptions = function () {
    var options  = {}
    var defaults = this.getDefaults()

    this._options && $.each(this._options, function (key, value) {
      if (defaults[key] != value) options[key] = value
    })

    return options
  }

  Tooltip.prototype.enter = function (obj) {
    var self = obj instanceof this.constructor ?
      obj : $(obj.currentTarget).data('bs.' + this.type)

    if (!self) {
      self = new this.constructor(obj.currentTarget, this.getDelegateOptions())
      $(obj.currentTarget).data('bs.' + this.type, self)
    }

    if (obj instanceof $.Event) {
      self.inState[obj.type == 'focusin' ? 'focus' : 'hover'] = true
    }

    if (self.tip().hasClass('in') || self.hoverState == 'in') {
      self.hoverState = 'in'
      return
    }

    clearTimeout(self.timeout)

    self.hoverState = 'in'

    if (!self.options.delay || !self.options.delay.show) return self.show()

    self.timeout = setTimeout(function () {
      if (self.hoverState == 'in') self.show()
    }, self.options.delay.show)
  }

  Tooltip.prototype.isInStateTrue = function () {
    for (var key in this.inState) {
      if (this.inState[key]) return true
    }

    return false
  }

  Tooltip.prototype.leave = function (obj) {
    var self = obj instanceof this.constructor ?
      obj : $(obj.currentTarget).data('bs.' + this.type)

    if (!self) {
      self = new this.constructor(obj.currentTarget, this.getDelegateOptions())
      $(obj.currentTarget).data('bs.' + this.type, self)
    }

    if (obj instanceof $.Event) {
      self.inState[obj.type == 'focusout' ? 'focus' : 'hover'] = false
    }

    if (self.isInStateTrue()) return

    clearTimeout(self.timeout)

    self.hoverState = 'out'

    if (!self.options.delay || !self.options.delay.hide) return self.hide()

    self.timeout = setTimeout(function () {
      if (self.hoverState == 'out') self.hide()
    }, self.options.delay.hide)
  }

  Tooltip.prototype.show = function () {
    var e = $.Event('show.bs.' + this.type)

    if (this.hasContent() && this.enabled) {
      this.$element.trigger(e)

      var inDom = $.contains(this.$element[0].ownerDocument.documentElement, this.$element[0])
      if (e.isDefaultPrevented() || !inDom) return
      var that = this

      var $tip = this.tip()

      var tipId = this.getUID(this.type)

      this.setContent()
      $tip.attr('id', tipId)
      this.$element.attr('aria-describedby', tipId)

      if (this.options.animation) $tip.addClass('fade')

      var placement = typeof this.options.placement == 'function' ?
        this.options.placement.call(this, $tip[0], this.$element[0]) :
        this.options.placement

      var autoToken = /\s?auto?\s?/i
      var autoPlace = autoToken.test(placement)
      if (autoPlace) placement = placement.replace(autoToken, '') || 'top'

      $tip
        .detach()
        .css({ top: 0, left: 0, display: 'block' })
        .addClass(placement)
        .data('bs.' + this.type, this)

      this.options.container ? $tip.appendTo(this.options.container) : $tip.insertAfter(this.$element)
      this.$element.trigger('inserted.bs.' + this.type)

      var pos          = this.getPosition()
      var actualWidth  = $tip[0].offsetWidth
      var actualHeight = $tip[0].offsetHeight

      if (autoPlace) {
        var orgPlacement = placement
        var viewportDim = this.getPosition(this.$viewport)

        placement = placement == 'bottom' && pos.bottom + actualHeight > viewportDim.bottom ? 'top'    :
                    placement == 'top'    && pos.top    - actualHeight < viewportDim.top    ? 'bottom' :
                    placement == 'right'  && pos.right  + actualWidth  > viewportDim.width  ? 'left'   :
                    placement == 'left'   && pos.left   - actualWidth  < viewportDim.left   ? 'right'  :
                    placement

        $tip
          .removeClass(orgPlacement)
          .addClass(placement)
      }

      var calculatedOffset = this.getCalculatedOffset(placement, pos, actualWidth, actualHeight)

      this.applyPlacement(calculatedOffset, placement)

      var complete = function () {
        var prevHoverState = that.hoverState
        that.$element.trigger('shown.bs.' + that.type)
        that.hoverState = null

        if (prevHoverState == 'out') that.leave(that)
      }

      $.support.transition && this.$tip.hasClass('fade') ?
        $tip
          .one('bsTransitionEnd', complete)
          .emulateTransitionEnd(Tooltip.TRANSITION_DURATION) :
        complete()
    }
  }

  Tooltip.prototype.applyPlacement = function (offset, placement) {
    var $tip   = this.tip()
    var width  = $tip[0].offsetWidth
    var height = $tip[0].offsetHeight

    // manually read margins because getBoundingClientRect includes difference
    var marginTop = parseInt($tip.css('margin-top'), 10)
    var marginLeft = parseInt($tip.css('margin-left'), 10)

    // we must check for NaN for ie 8/9
    if (isNaN(marginTop))  marginTop  = 0
    if (isNaN(marginLeft)) marginLeft = 0

    offset.top  += marginTop
    offset.left += marginLeft

    // $.fn.offset doesn't round pixel values
    // so we use setOffset directly with our own function B-0
    $.offset.setOffset($tip[0], $.extend({
      using: function (props) {
        $tip.css({
          top: Math.round(props.top),
          left: Math.round(props.left)
        })
      }
    }, offset), 0)

    $tip.addClass('in')

    // check to see if placing tip in new offset caused the tip to resize itself
    var actualWidth  = $tip[0].offsetWidth
    var actualHeight = $tip[0].offsetHeight

    if (placement == 'top' && actualHeight != height) {
      offset.top = offset.top + height - actualHeight
    }

    var delta = this.getViewportAdjustedDelta(placement, offset, actualWidth, actualHeight)

    if (delta.left) offset.left += delta.left
    else offset.top += delta.top

    var isVertical          = /top|bottom/.test(placement)
    var arrowDelta          = isVertical ? delta.left * 2 - width + actualWidth : delta.top * 2 - height + actualHeight
    var arrowOffsetPosition = isVertical ? 'offsetWidth' : 'offsetHeight'

    $tip.offset(offset)
    this.replaceArrow(arrowDelta, $tip[0][arrowOffsetPosition], isVertical)
  }

  Tooltip.prototype.replaceArrow = function (delta, dimension, isVertical) {
    this.arrow()
      .css(isVertical ? 'left' : 'top', 50 * (1 - delta / dimension) + '%')
      .css(isVertical ? 'top' : 'left', '')
  }

  Tooltip.prototype.setContent = function () {
    var $tip  = this.tip()
    var title = this.getTitle()

    $tip.find('.tooltip-inner')[this.options.html ? 'html' : 'text'](title)
    $tip.removeClass('fade in top bottom left right')
  }

  Tooltip.prototype.hide = function (callback) {
    var that = this
    var $tip = $(this.$tip)
    var e    = $.Event('hide.bs.' + this.type)

    function complete() {
      if (that.hoverState != 'in') $tip.detach()
      if (that.$element) { // TODO: Check whether guarding this code with this `if` is really necessary.
        that.$element
          .removeAttr('aria-describedby')
          .trigger('hidden.bs.' + that.type)
      }
      callback && callback()
    }

    this.$element.trigger(e)

    if (e.isDefaultPrevented()) return

    $tip.removeClass('in')

    $.support.transition && $tip.hasClass('fade') ?
      $tip
        .one('bsTransitionEnd', complete)
        .emulateTransitionEnd(Tooltip.TRANSITION_DURATION) :
      complete()

    this.hoverState = null

    return this
  }

  Tooltip.prototype.fixTitle = function () {
    var $e = this.$element
    if ($e.attr('title') || typeof $e.attr('data-original-title') != 'string') {
      $e.attr('data-original-title', $e.attr('title') || '').attr('title', '')
    }
  }

  Tooltip.prototype.hasContent = function () {
    return this.getTitle()
  }

  Tooltip.prototype.getPosition = function ($element) {
    $element   = $element || this.$element

    var el     = $element[0]
    var isBody = el.tagName == 'BODY'

    var elRect    = el.getBoundingClientRect()
    if (elRect.width == null) {
      // width and height are missing in IE8, so compute them manually; see https://github.com/twbs/bootstrap/issues/14093
      elRect = $.extend({}, elRect, { width: elRect.right - elRect.left, height: elRect.bottom - elRect.top })
    }
    var isSvg = window.SVGElement && el instanceof window.SVGElement
    // Avoid using $.offset() on SVGs since it gives incorrect results in jQuery 3.
    // See https://github.com/twbs/bootstrap/issues/20280
    var elOffset  = isBody ? { top: 0, left: 0 } : (isSvg ? null : $element.offset())
    var scroll    = { scroll: isBody ? document.documentElement.scrollTop || document.body.scrollTop : $element.scrollTop() }
    var outerDims = isBody ? { width: $(window).width(), height: $(window).height() } : null

    return $.extend({}, elRect, scroll, outerDims, elOffset)
  }

  Tooltip.prototype.getCalculatedOffset = function (placement, pos, actualWidth, actualHeight) {
    return placement == 'bottom' ? { top: pos.top + pos.height,   left: pos.left + pos.width / 2 - actualWidth / 2 } :
           placement == 'top'    ? { top: pos.top - actualHeight, left: pos.left + pos.width / 2 - actualWidth / 2 } :
           placement == 'left'   ? { top: pos.top + pos.height / 2 - actualHeight / 2, left: pos.left - actualWidth } :
        /* placement == 'right' */ { top: pos.top + pos.height / 2 - actualHeight / 2, left: pos.left + pos.width }

  }

  Tooltip.prototype.getViewportAdjustedDelta = function (placement, pos, actualWidth, actualHeight) {
    var delta = { top: 0, left: 0 }
    if (!this.$viewport) return delta

    var viewportPadding = this.options.viewport && this.options.viewport.padding || 0
    var viewportDimensions = this.getPosition(this.$viewport)

    if (/right|left/.test(placement)) {
      var topEdgeOffset    = pos.top - viewportPadding - viewportDimensions.scroll
      var bottomEdgeOffset = pos.top + viewportPadding - viewportDimensions.scroll + actualHeight
      if (topEdgeOffset < viewportDimensions.top) { // top overflow
        delta.top = viewportDimensions.top - topEdgeOffset
      } else if (bottomEdgeOffset > viewportDimensions.top + viewportDimensions.height) { // bottom overflow
        delta.top = viewportDimensions.top + viewportDimensions.height - bottomEdgeOffset
      }
    } else {
      var leftEdgeOffset  = pos.left - viewportPadding
      var rightEdgeOffset = pos.left + viewportPadding + actualWidth
      if (leftEdgeOffset < viewportDimensions.left) { // left overflow
        delta.left = viewportDimensions.left - leftEdgeOffset
      } else if (rightEdgeOffset > viewportDimensions.right) { // right overflow
        delta.left = viewportDimensions.left + viewportDimensions.width - rightEdgeOffset
      }
    }

    return delta
  }

  Tooltip.prototype.getTitle = function () {
    var title
    var $e = this.$element
    var o  = this.options

    title = $e.attr('data-original-title')
      || (typeof o.title == 'function' ? o.title.call($e[0]) :  o.title)

    return title
  }

  Tooltip.prototype.getUID = function (prefix) {
    do prefix += ~~(Math.random() * 1000000)
    while (document.getElementById(prefix))
    return prefix
  }

  Tooltip.prototype.tip = function () {
    if (!this.$tip) {
      this.$tip = $(this.options.template)
      if (this.$tip.length != 1) {
        throw new Error(this.type + ' `template` option must consist of exactly 1 top-level element!')
      }
    }
    return this.$tip
  }

  Tooltip.prototype.arrow = function () {
    return (this.$arrow = this.$arrow || this.tip().find('.tooltip-arrow'))
  }

  Tooltip.prototype.enable = function () {
    this.enabled = true
  }

  Tooltip.prototype.disable = function () {
    this.enabled = false
  }

  Tooltip.prototype.toggleEnabled = function () {
    this.enabled = !this.enabled
  }

  Tooltip.prototype.toggle = function (e) {
    var self = this
    if (e) {
      self = $(e.currentTarget).data('bs.' + this.type)
      if (!self) {
        self = new this.constructor(e.currentTarget, this.getDelegateOptions())
        $(e.currentTarget).data('bs.' + this.type, self)
      }
    }

    if (e) {
      self.inState.click = !self.inState.click
      if (self.isInStateTrue()) self.enter(self)
      else self.leave(self)
    } else {
      self.tip().hasClass('in') ? self.leave(self) : self.enter(self)
    }
  }

  Tooltip.prototype.destroy = function () {
    var that = this
    clearTimeout(this.timeout)
    this.hide(function () {
      that.$element.off('.' + that.type).removeData('bs.' + that.type)
      if (that.$tip) {
        that.$tip.detach()
      }
      that.$tip = null
      that.$arrow = null
      that.$viewport = null
      that.$element = null
    })
  }


  // TOOLTIP PLUGIN DEFINITION
  // =========================

  function Plugin(option) {
    return this.each(function () {
      var $this   = $(this)
      var data    = $this.data('bs.tooltip')
      var options = typeof option == 'object' && option

      if (!data && /destroy|hide/.test(option)) return
      if (!data) $this.data('bs.tooltip', (data = new Tooltip(this, options)))
      if (typeof option == 'string') data[option]()
    })
  }

  var old = $.fn.tooltip

  $.fn.tooltip             = Plugin
  $.fn.tooltip.Constructor = Tooltip


  // TOOLTIP NO CONFLICT
  // ===================

  $.fn.tooltip.noConflict = function () {
    $.fn.tooltip = old
    return this
  }

}(jQuery);

},{}],"/Users/cescwang/program/sil/SIL-frontend/node_modules/bootstrap/js/transition.js":[function(require,module,exports){
/* ========================================================================
 * Bootstrap: transition.js v3.3.7
 * http://getbootstrap.com/javascript/#transitions
 * ========================================================================
 * Copyright 2011-2016 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 * ======================================================================== */


+function ($) {
  'use strict';

  // CSS TRANSITION SUPPORT (Shoutout: http://www.modernizr.com/)
  // ============================================================

  function transitionEnd() {
    var el = document.createElement('bootstrap')

    var transEndEventNames = {
      WebkitTransition : 'webkitTransitionEnd',
      MozTransition    : 'transitionend',
      OTransition      : 'oTransitionEnd otransitionend',
      transition       : 'transitionend'
    }

    for (var name in transEndEventNames) {
      if (el.style[name] !== undefined) {
        return { end: transEndEventNames[name] }
      }
    }

    return false // explicit for ie8 (  ._.)
  }

  // http://blog.alexmaccaw.com/css-transitions
  $.fn.emulateTransitionEnd = function (duration) {
    var called = false
    var $el = this
    $(this).one('bsTransitionEnd', function () { called = true })
    var callback = function () { if (!called) $($el).trigger($.support.transition.end) }
    setTimeout(callback, duration)
    return this
  }

  $(function () {
    $.support.transition = transitionEnd()

    if (!$.support.transition) return

    $.event.special.bsTransitionEnd = {
      bindType: $.support.transition.end,
      delegateType: $.support.transition.end,
      handle: function (e) {
        if ($(e.target).is(this)) return e.handleObj.handler.apply(this, arguments)
      }
    }
  })

}(jQuery);

},{}],"/Users/cescwang/program/sil/SIL-frontend/node_modules/checklist-model/checklist-model.js":[function(require,module,exports){
/**
 * Checklist-model
 * AngularJS directive for list of checkboxes
 * https://github.com/vitalets/checklist-model
 * License: MIT http://opensource.org/licenses/MIT
 */

 /* commonjs package manager support (eg componentjs) */
 if (typeof module !== "undefined" && typeof exports !== "undefined" && module.exports === exports){
   module.exports = 'checklist-model';
 }

angular.module('checklist-model', [])
.directive('checklistModel', ['$parse', '$compile', function($parse, $compile) {
  // contains
  function contains(arr, item, comparator) {
    if (angular.isArray(arr)) {
      for (var i = arr.length; i--;) {
        if (comparator(arr[i], item)) {
          return true;
        }
      }
    }
    return false;
  }

  // add
  function add(arr, item, comparator) {
    arr = angular.isArray(arr) ? arr : [];
      if(!contains(arr, item, comparator)) {
          arr.push(item);
      }
    return arr;
  }

  // remove
  function remove(arr, item, comparator) {
    if (angular.isArray(arr)) {
      for (var i = arr.length; i--;) {
        if (comparator(arr[i], item)) {
          arr.splice(i, 1);
          break;
        }
      }
    }
    return arr;
  }

  // http://stackoverflow.com/a/19228302/1458162
  function postLinkFn(scope, elem, attrs) {
     // exclude recursion, but still keep the model
    var checklistModel = attrs.checklistModel;
    attrs.$set("checklistModel", null);
    // compile with `ng-model` pointing to `checked`
    $compile(elem)(scope);
    attrs.$set("checklistModel", checklistModel);

    // getter for original model
    var checklistModelGetter = $parse(checklistModel);
    var checklistChange = $parse(attrs.checklistChange);
    var checklistBeforeChange = $parse(attrs.checklistBeforeChange);
    var ngModelGetter = $parse(attrs.ngModel);



    var comparator = angular.equals;

    if (attrs.hasOwnProperty('checklistComparator')){
      if (attrs.checklistComparator[0] == '.') {
        var comparatorExpression = attrs.checklistComparator.substring(1);
        comparator = function (a, b) {
          return a[comparatorExpression] === b[comparatorExpression];
        };

      } else {
        comparator = $parse(attrs.checklistComparator)(scope.$parent);
      }
    }

    // watch UI checked change
    var unbindModel = scope.$watch(attrs.ngModel, function(newValue, oldValue) {
      if (newValue === oldValue) {
        return;
      }

      if (checklistBeforeChange && (checklistBeforeChange(scope) === false)) {
        ngModelGetter.assign(scope, contains(checklistModelGetter(scope.$parent), getChecklistValue(), comparator));
        return;
      }

      setValueInChecklistModel(getChecklistValue(), newValue);

      if (checklistChange) {
        checklistChange(scope);
      }
    });

    // watches for value change of checklistValue
    var unbindCheckListValue = scope.$watch(getChecklistValue, function(newValue, oldValue) {
      if( newValue != oldValue && angular.isDefined(oldValue) && scope[attrs.ngModel] === true ) {
        var current = checklistModelGetter(scope.$parent);
        checklistModelGetter.assign(scope.$parent, remove(current, oldValue, comparator));
        checklistModelGetter.assign(scope.$parent, add(current, newValue, comparator));
      }
    }, true);

    var unbindDestroy = scope.$on('$destroy', destroy);

    function destroy() {
      unbindModel();
      unbindCheckListValue();
      unbindDestroy();
    }

    function getChecklistValue() {
      return attrs.checklistValue ? $parse(attrs.checklistValue)(scope.$parent) : attrs.value;
    }

    function setValueInChecklistModel(value, checked) {
      var current = checklistModelGetter(scope.$parent);
      if (angular.isFunction(checklistModelGetter.assign)) {
        if (checked === true) {
          checklistModelGetter.assign(scope.$parent, add(current, value, comparator));
        } else {
          checklistModelGetter.assign(scope.$parent, remove(current, value, comparator));
        }
      }

    }

    // declare one function to be used for both $watch functions
    function setChecked(newArr, oldArr) {
      if (checklistBeforeChange && (checklistBeforeChange(scope) === false)) {
        setValueInChecklistModel(getChecklistValue(), ngModelGetter(scope));
        return;
      }
      ngModelGetter.assign(scope, contains(newArr, getChecklistValue(), comparator));
    }

    // watch original model change
    // use the faster $watchCollection method if it's available
    if (angular.isFunction(scope.$parent.$watchCollection)) {
        scope.$parent.$watchCollection(checklistModel, setChecked);
    } else {
        scope.$parent.$watch(checklistModel, setChecked, true);
    }
  }

  return {
    restrict: 'A',
    priority: 1000,
    terminal: true,
    scope: true,
    compile: function(tElement, tAttrs) {

      if (!tAttrs.checklistValue && !tAttrs.value) {
        throw 'You should provide `value` or `checklist-value`.';
      }

      // by default ngModel is 'checked', so we set it if not specified
      if (!tAttrs.ngModel) {
        // local scope var storing individual checkbox model
        tAttrs.$set("ngModel", "checked");
      }

      return postLinkFn;
    }
  };
}]);

},{}],"/Users/cescwang/program/sil/SIL-frontend/node_modules/moment/locale/zh-cn.js":[function(require,module,exports){
//! moment.js locale configuration
//! locale : Chinese (China) [zh-cn]
//! author : suupic : https://github.com/suupic
//! author : Zeno Zeng : https://github.com/zenozeng

;(function (global, factory) {
   typeof exports === 'object' && typeof module !== 'undefined'
       && typeof require === 'function' ? factory(require('../moment')) :
   typeof define === 'function' && define.amd ? define(['../moment'], factory) :
   factory(global.moment)
}(this, (function (moment) { 'use strict';


var zhCn = moment.defineLocale('zh-cn', {
    months : '一月_二月_三月_四月_五月_六月_七月_八月_九月_十月_十一月_十二月'.split('_'),
    monthsShort : '1月_2月_3月_4月_5月_6月_7月_8月_9月_10月_11月_12月'.split('_'),
    weekdays : '星期日_星期一_星期二_星期三_星期四_星期五_星期六'.split('_'),
    weekdaysShort : '周日_周一_周二_周三_周四_周五_周六'.split('_'),
    weekdaysMin : '日_一_二_三_四_五_六'.split('_'),
    longDateFormat : {
        LT : 'Ah点mm分',
        LTS : 'Ah点m分s秒',
        L : 'YYYY-MM-DD',
        LL : 'YYYY年MMMD日',
        LLL : 'YYYY年MMMD日Ah点mm分',
        LLLL : 'YYYY年MMMD日ddddAh点mm分',
        l : 'YYYY-MM-DD',
        ll : 'YYYY年MMMD日',
        lll : 'YYYY年MMMD日Ah点mm分',
        llll : 'YYYY年MMMD日ddddAh点mm分'
    },
    meridiemParse: /凌晨|早上|上午|中午|下午|晚上/,
    meridiemHour: function (hour, meridiem) {
        if (hour === 12) {
            hour = 0;
        }
        if (meridiem === '凌晨' || meridiem === '早上' ||
                meridiem === '上午') {
            return hour;
        } else if (meridiem === '下午' || meridiem === '晚上') {
            return hour + 12;
        } else {
            // '中午'
            return hour >= 11 ? hour : hour + 12;
        }
    },
    meridiem : function (hour, minute, isLower) {
        var hm = hour * 100 + minute;
        if (hm < 600) {
            return '凌晨';
        } else if (hm < 900) {
            return '早上';
        } else if (hm < 1130) {
            return '上午';
        } else if (hm < 1230) {
            return '中午';
        } else if (hm < 1800) {
            return '下午';
        } else {
            return '晚上';
        }
    },
    calendar : {
        sameDay : function () {
            return this.minutes() === 0 ? '[今天]Ah[点整]' : '[今天]LT';
        },
        nextDay : function () {
            return this.minutes() === 0 ? '[明天]Ah[点整]' : '[明天]LT';
        },
        lastDay : function () {
            return this.minutes() === 0 ? '[昨天]Ah[点整]' : '[昨天]LT';
        },
        nextWeek : function () {
            var startOfWeek, prefix;
            startOfWeek = moment().startOf('week');
            prefix = this.diff(startOfWeek, 'days') >= 7 ? '[下]' : '[本]';
            return this.minutes() === 0 ? prefix + 'dddAh点整' : prefix + 'dddAh点mm';
        },
        lastWeek : function () {
            var startOfWeek, prefix;
            startOfWeek = moment().startOf('week');
            prefix = this.unix() < startOfWeek.unix()  ? '[上]' : '[本]';
            return this.minutes() === 0 ? prefix + 'dddAh点整' : prefix + 'dddAh点mm';
        },
        sameElse : 'LL'
    },
    ordinalParse: /\d{1,2}(日|月|周)/,
    ordinal : function (number, period) {
        switch (period) {
            case 'd':
            case 'D':
            case 'DDD':
                return number + '日';
            case 'M':
                return number + '月';
            case 'w':
            case 'W':
                return number + '周';
            default:
                return number;
        }
    },
    relativeTime : {
        future : '%s内',
        past : '%s前',
        s : '几秒',
        m : '1 分钟',
        mm : '%d 分钟',
        h : '1 小时',
        hh : '%d 小时',
        d : '1 天',
        dd : '%d 天',
        M : '1 个月',
        MM : '%d 个月',
        y : '1 年',
        yy : '%d 年'
    },
    week : {
        // GB/T 7408-1994《数据元和交换格式·信息交换·日期和时间表示法》与ISO 8601:1988等效
        dow : 1, // Monday is the first day of the week.
        doy : 4  // The week that contains Jan 4th is the first week of the year.
    }
});

return zhCn;

})));

},{"../moment":"/Users/cescwang/program/sil/SIL-frontend/node_modules/moment/moment.js"}],"/Users/cescwang/program/sil/SIL-frontend/node_modules/moment/moment.js":[function(require,module,exports){
//! moment.js
//! version : 2.17.1
//! authors : Tim Wood, Iskren Chernev, Moment.js contributors
//! license : MIT
//! momentjs.com

;(function (global, factory) {
    typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() :
    typeof define === 'function' && define.amd ? define(factory) :
    global.moment = factory()
}(this, (function () { 'use strict';

var hookCallback;

function hooks () {
    return hookCallback.apply(null, arguments);
}

// This is done to register the method called with moment()
// without creating circular dependencies.
function setHookCallback (callback) {
    hookCallback = callback;
}

function isArray(input) {
    return input instanceof Array || Object.prototype.toString.call(input) === '[object Array]';
}

function isObject(input) {
    // IE8 will treat undefined and null as object if it wasn't for
    // input != null
    return input != null && Object.prototype.toString.call(input) === '[object Object]';
}

function isObjectEmpty(obj) {
    var k;
    for (k in obj) {
        // even if its not own property I'd still call it non-empty
        return false;
    }
    return true;
}

function isNumber(input) {
    return typeof input === 'number' || Object.prototype.toString.call(input) === '[object Number]';
}

function isDate(input) {
    return input instanceof Date || Object.prototype.toString.call(input) === '[object Date]';
}

function map(arr, fn) {
    var res = [], i;
    for (i = 0; i < arr.length; ++i) {
        res.push(fn(arr[i], i));
    }
    return res;
}

function hasOwnProp(a, b) {
    return Object.prototype.hasOwnProperty.call(a, b);
}

function extend(a, b) {
    for (var i in b) {
        if (hasOwnProp(b, i)) {
            a[i] = b[i];
        }
    }

    if (hasOwnProp(b, 'toString')) {
        a.toString = b.toString;
    }

    if (hasOwnProp(b, 'valueOf')) {
        a.valueOf = b.valueOf;
    }

    return a;
}

function createUTC (input, format, locale, strict) {
    return createLocalOrUTC(input, format, locale, strict, true).utc();
}

function defaultParsingFlags() {
    // We need to deep clone this object.
    return {
        empty           : false,
        unusedTokens    : [],
        unusedInput     : [],
        overflow        : -2,
        charsLeftOver   : 0,
        nullInput       : false,
        invalidMonth    : null,
        invalidFormat   : false,
        userInvalidated : false,
        iso             : false,
        parsedDateParts : [],
        meridiem        : null
    };
}

function getParsingFlags(m) {
    if (m._pf == null) {
        m._pf = defaultParsingFlags();
    }
    return m._pf;
}

var some;
if (Array.prototype.some) {
    some = Array.prototype.some;
} else {
    some = function (fun) {
        var t = Object(this);
        var len = t.length >>> 0;

        for (var i = 0; i < len; i++) {
            if (i in t && fun.call(this, t[i], i, t)) {
                return true;
            }
        }

        return false;
    };
}

var some$1 = some;

function isValid(m) {
    if (m._isValid == null) {
        var flags = getParsingFlags(m);
        var parsedParts = some$1.call(flags.parsedDateParts, function (i) {
            return i != null;
        });
        var isNowValid = !isNaN(m._d.getTime()) &&
            flags.overflow < 0 &&
            !flags.empty &&
            !flags.invalidMonth &&
            !flags.invalidWeekday &&
            !flags.nullInput &&
            !flags.invalidFormat &&
            !flags.userInvalidated &&
            (!flags.meridiem || (flags.meridiem && parsedParts));

        if (m._strict) {
            isNowValid = isNowValid &&
                flags.charsLeftOver === 0 &&
                flags.unusedTokens.length === 0 &&
                flags.bigHour === undefined;
        }

        if (Object.isFrozen == null || !Object.isFrozen(m)) {
            m._isValid = isNowValid;
        }
        else {
            return isNowValid;
        }
    }
    return m._isValid;
}

function createInvalid (flags) {
    var m = createUTC(NaN);
    if (flags != null) {
        extend(getParsingFlags(m), flags);
    }
    else {
        getParsingFlags(m).userInvalidated = true;
    }

    return m;
}

function isUndefined(input) {
    return input === void 0;
}

// Plugins that add properties should also add the key here (null value),
// so we can properly clone ourselves.
var momentProperties = hooks.momentProperties = [];

function copyConfig(to, from) {
    var i, prop, val;

    if (!isUndefined(from._isAMomentObject)) {
        to._isAMomentObject = from._isAMomentObject;
    }
    if (!isUndefined(from._i)) {
        to._i = from._i;
    }
    if (!isUndefined(from._f)) {
        to._f = from._f;
    }
    if (!isUndefined(from._l)) {
        to._l = from._l;
    }
    if (!isUndefined(from._strict)) {
        to._strict = from._strict;
    }
    if (!isUndefined(from._tzm)) {
        to._tzm = from._tzm;
    }
    if (!isUndefined(from._isUTC)) {
        to._isUTC = from._isUTC;
    }
    if (!isUndefined(from._offset)) {
        to._offset = from._offset;
    }
    if (!isUndefined(from._pf)) {
        to._pf = getParsingFlags(from);
    }
    if (!isUndefined(from._locale)) {
        to._locale = from._locale;
    }

    if (momentProperties.length > 0) {
        for (i in momentProperties) {
            prop = momentProperties[i];
            val = from[prop];
            if (!isUndefined(val)) {
                to[prop] = val;
            }
        }
    }

    return to;
}

var updateInProgress = false;

// Moment prototype object
function Moment(config) {
    copyConfig(this, config);
    this._d = new Date(config._d != null ? config._d.getTime() : NaN);
    if (!this.isValid()) {
        this._d = new Date(NaN);
    }
    // Prevent infinite loop in case updateOffset creates new moment
    // objects.
    if (updateInProgress === false) {
        updateInProgress = true;
        hooks.updateOffset(this);
        updateInProgress = false;
    }
}

function isMoment (obj) {
    return obj instanceof Moment || (obj != null && obj._isAMomentObject != null);
}

function absFloor (number) {
    if (number < 0) {
        // -0 -> 0
        return Math.ceil(number) || 0;
    } else {
        return Math.floor(number);
    }
}

function toInt(argumentForCoercion) {
    var coercedNumber = +argumentForCoercion,
        value = 0;

    if (coercedNumber !== 0 && isFinite(coercedNumber)) {
        value = absFloor(coercedNumber);
    }

    return value;
}

// compare two arrays, return the number of differences
function compareArrays(array1, array2, dontConvert) {
    var len = Math.min(array1.length, array2.length),
        lengthDiff = Math.abs(array1.length - array2.length),
        diffs = 0,
        i;
    for (i = 0; i < len; i++) {
        if ((dontConvert && array1[i] !== array2[i]) ||
            (!dontConvert && toInt(array1[i]) !== toInt(array2[i]))) {
            diffs++;
        }
    }
    return diffs + lengthDiff;
}

function warn(msg) {
    if (hooks.suppressDeprecationWarnings === false &&
            (typeof console !==  'undefined') && console.warn) {
        console.warn('Deprecation warning: ' + msg);
    }
}

function deprecate(msg, fn) {
    var firstTime = true;

    return extend(function () {
        if (hooks.deprecationHandler != null) {
            hooks.deprecationHandler(null, msg);
        }
        if (firstTime) {
            var args = [];
            var arg;
            for (var i = 0; i < arguments.length; i++) {
                arg = '';
                if (typeof arguments[i] === 'object') {
                    arg += '\n[' + i + '] ';
                    for (var key in arguments[0]) {
                        arg += key + ': ' + arguments[0][key] + ', ';
                    }
                    arg = arg.slice(0, -2); // Remove trailing comma and space
                } else {
                    arg = arguments[i];
                }
                args.push(arg);
            }
            warn(msg + '\nArguments: ' + Array.prototype.slice.call(args).join('') + '\n' + (new Error()).stack);
            firstTime = false;
        }
        return fn.apply(this, arguments);
    }, fn);
}

var deprecations = {};

function deprecateSimple(name, msg) {
    if (hooks.deprecationHandler != null) {
        hooks.deprecationHandler(name, msg);
    }
    if (!deprecations[name]) {
        warn(msg);
        deprecations[name] = true;
    }
}

hooks.suppressDeprecationWarnings = false;
hooks.deprecationHandler = null;

function isFunction(input) {
    return input instanceof Function || Object.prototype.toString.call(input) === '[object Function]';
}

function set (config) {
    var prop, i;
    for (i in config) {
        prop = config[i];
        if (isFunction(prop)) {
            this[i] = prop;
        } else {
            this['_' + i] = prop;
        }
    }
    this._config = config;
    // Lenient ordinal parsing accepts just a number in addition to
    // number + (possibly) stuff coming from _ordinalParseLenient.
    this._ordinalParseLenient = new RegExp(this._ordinalParse.source + '|' + (/\d{1,2}/).source);
}

function mergeConfigs(parentConfig, childConfig) {
    var res = extend({}, parentConfig), prop;
    for (prop in childConfig) {
        if (hasOwnProp(childConfig, prop)) {
            if (isObject(parentConfig[prop]) && isObject(childConfig[prop])) {
                res[prop] = {};
                extend(res[prop], parentConfig[prop]);
                extend(res[prop], childConfig[prop]);
            } else if (childConfig[prop] != null) {
                res[prop] = childConfig[prop];
            } else {
                delete res[prop];
            }
        }
    }
    for (prop in parentConfig) {
        if (hasOwnProp(parentConfig, prop) &&
                !hasOwnProp(childConfig, prop) &&
                isObject(parentConfig[prop])) {
            // make sure changes to properties don't modify parent config
            res[prop] = extend({}, res[prop]);
        }
    }
    return res;
}

function Locale(config) {
    if (config != null) {
        this.set(config);
    }
}

var keys;

if (Object.keys) {
    keys = Object.keys;
} else {
    keys = function (obj) {
        var i, res = [];
        for (i in obj) {
            if (hasOwnProp(obj, i)) {
                res.push(i);
            }
        }
        return res;
    };
}

var keys$1 = keys;

var defaultCalendar = {
    sameDay : '[Today at] LT',
    nextDay : '[Tomorrow at] LT',
    nextWeek : 'dddd [at] LT',
    lastDay : '[Yesterday at] LT',
    lastWeek : '[Last] dddd [at] LT',
    sameElse : 'L'
};

function calendar (key, mom, now) {
    var output = this._calendar[key] || this._calendar['sameElse'];
    return isFunction(output) ? output.call(mom, now) : output;
}

var defaultLongDateFormat = {
    LTS  : 'h:mm:ss A',
    LT   : 'h:mm A',
    L    : 'MM/DD/YYYY',
    LL   : 'MMMM D, YYYY',
    LLL  : 'MMMM D, YYYY h:mm A',
    LLLL : 'dddd, MMMM D, YYYY h:mm A'
};

function longDateFormat (key) {
    var format = this._longDateFormat[key],
        formatUpper = this._longDateFormat[key.toUpperCase()];

    if (format || !formatUpper) {
        return format;
    }

    this._longDateFormat[key] = formatUpper.replace(/MMMM|MM|DD|dddd/g, function (val) {
        return val.slice(1);
    });

    return this._longDateFormat[key];
}

var defaultInvalidDate = 'Invalid date';

function invalidDate () {
    return this._invalidDate;
}

var defaultOrdinal = '%d';
var defaultOrdinalParse = /\d{1,2}/;

function ordinal (number) {
    return this._ordinal.replace('%d', number);
}

var defaultRelativeTime = {
    future : 'in %s',
    past   : '%s ago',
    s  : 'a few seconds',
    m  : 'a minute',
    mm : '%d minutes',
    h  : 'an hour',
    hh : '%d hours',
    d  : 'a day',
    dd : '%d days',
    M  : 'a month',
    MM : '%d months',
    y  : 'a year',
    yy : '%d years'
};

function relativeTime (number, withoutSuffix, string, isFuture) {
    var output = this._relativeTime[string];
    return (isFunction(output)) ?
        output(number, withoutSuffix, string, isFuture) :
        output.replace(/%d/i, number);
}

function pastFuture (diff, output) {
    var format = this._relativeTime[diff > 0 ? 'future' : 'past'];
    return isFunction(format) ? format(output) : format.replace(/%s/i, output);
}

var aliases = {};

function addUnitAlias (unit, shorthand) {
    var lowerCase = unit.toLowerCase();
    aliases[lowerCase] = aliases[lowerCase + 's'] = aliases[shorthand] = unit;
}

function normalizeUnits(units) {
    return typeof units === 'string' ? aliases[units] || aliases[units.toLowerCase()] : undefined;
}

function normalizeObjectUnits(inputObject) {
    var normalizedInput = {},
        normalizedProp,
        prop;

    for (prop in inputObject) {
        if (hasOwnProp(inputObject, prop)) {
            normalizedProp = normalizeUnits(prop);
            if (normalizedProp) {
                normalizedInput[normalizedProp] = inputObject[prop];
            }
        }
    }

    return normalizedInput;
}

var priorities = {};

function addUnitPriority(unit, priority) {
    priorities[unit] = priority;
}

function getPrioritizedUnits(unitsObj) {
    var units = [];
    for (var u in unitsObj) {
        units.push({unit: u, priority: priorities[u]});
    }
    units.sort(function (a, b) {
        return a.priority - b.priority;
    });
    return units;
}

function makeGetSet (unit, keepTime) {
    return function (value) {
        if (value != null) {
            set$1(this, unit, value);
            hooks.updateOffset(this, keepTime);
            return this;
        } else {
            return get(this, unit);
        }
    };
}

function get (mom, unit) {
    return mom.isValid() ?
        mom._d['get' + (mom._isUTC ? 'UTC' : '') + unit]() : NaN;
}

function set$1 (mom, unit, value) {
    if (mom.isValid()) {
        mom._d['set' + (mom._isUTC ? 'UTC' : '') + unit](value);
    }
}

// MOMENTS

function stringGet (units) {
    units = normalizeUnits(units);
    if (isFunction(this[units])) {
        return this[units]();
    }
    return this;
}


function stringSet (units, value) {
    if (typeof units === 'object') {
        units = normalizeObjectUnits(units);
        var prioritized = getPrioritizedUnits(units);
        for (var i = 0; i < prioritized.length; i++) {
            this[prioritized[i].unit](units[prioritized[i].unit]);
        }
    } else {
        units = normalizeUnits(units);
        if (isFunction(this[units])) {
            return this[units](value);
        }
    }
    return this;
}

function zeroFill(number, targetLength, forceSign) {
    var absNumber = '' + Math.abs(number),
        zerosToFill = targetLength - absNumber.length,
        sign = number >= 0;
    return (sign ? (forceSign ? '+' : '') : '-') +
        Math.pow(10, Math.max(0, zerosToFill)).toString().substr(1) + absNumber;
}

var formattingTokens = /(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g;

var localFormattingTokens = /(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g;

var formatFunctions = {};

var formatTokenFunctions = {};

// token:    'M'
// padded:   ['MM', 2]
// ordinal:  'Mo'
// callback: function () { this.month() + 1 }
function addFormatToken (token, padded, ordinal, callback) {
    var func = callback;
    if (typeof callback === 'string') {
        func = function () {
            return this[callback]();
        };
    }
    if (token) {
        formatTokenFunctions[token] = func;
    }
    if (padded) {
        formatTokenFunctions[padded[0]] = function () {
            return zeroFill(func.apply(this, arguments), padded[1], padded[2]);
        };
    }
    if (ordinal) {
        formatTokenFunctions[ordinal] = function () {
            return this.localeData().ordinal(func.apply(this, arguments), token);
        };
    }
}

function removeFormattingTokens(input) {
    if (input.match(/\[[\s\S]/)) {
        return input.replace(/^\[|\]$/g, '');
    }
    return input.replace(/\\/g, '');
}

function makeFormatFunction(format) {
    var array = format.match(formattingTokens), i, length;

    for (i = 0, length = array.length; i < length; i++) {
        if (formatTokenFunctions[array[i]]) {
            array[i] = formatTokenFunctions[array[i]];
        } else {
            array[i] = removeFormattingTokens(array[i]);
        }
    }

    return function (mom) {
        var output = '', i;
        for (i = 0; i < length; i++) {
            output += array[i] instanceof Function ? array[i].call(mom, format) : array[i];
        }
        return output;
    };
}

// format date using native date object
function formatMoment(m, format) {
    if (!m.isValid()) {
        return m.localeData().invalidDate();
    }

    format = expandFormat(format, m.localeData());
    formatFunctions[format] = formatFunctions[format] || makeFormatFunction(format);

    return formatFunctions[format](m);
}

function expandFormat(format, locale) {
    var i = 5;

    function replaceLongDateFormatTokens(input) {
        return locale.longDateFormat(input) || input;
    }

    localFormattingTokens.lastIndex = 0;
    while (i >= 0 && localFormattingTokens.test(format)) {
        format = format.replace(localFormattingTokens, replaceLongDateFormatTokens);
        localFormattingTokens.lastIndex = 0;
        i -= 1;
    }

    return format;
}

var match1         = /\d/;            //       0 - 9
var match2         = /\d\d/;          //      00 - 99
var match3         = /\d{3}/;         //     000 - 999
var match4         = /\d{4}/;         //    0000 - 9999
var match6         = /[+-]?\d{6}/;    // -999999 - 999999
var match1to2      = /\d\d?/;         //       0 - 99
var match3to4      = /\d\d\d\d?/;     //     999 - 9999
var match5to6      = /\d\d\d\d\d\d?/; //   99999 - 999999
var match1to3      = /\d{1,3}/;       //       0 - 999
var match1to4      = /\d{1,4}/;       //       0 - 9999
var match1to6      = /[+-]?\d{1,6}/;  // -999999 - 999999

var matchUnsigned  = /\d+/;           //       0 - inf
var matchSigned    = /[+-]?\d+/;      //    -inf - inf

var matchOffset    = /Z|[+-]\d\d:?\d\d/gi; // +00:00 -00:00 +0000 -0000 or Z
var matchShortOffset = /Z|[+-]\d\d(?::?\d\d)?/gi; // +00 -00 +00:00 -00:00 +0000 -0000 or Z

var matchTimestamp = /[+-]?\d+(\.\d{1,3})?/; // 123456789 123456789.123

// any word (or two) characters or numbers including two/three word month in arabic.
// includes scottish gaelic two word and hyphenated months
var matchWord = /[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i;


var regexes = {};

function addRegexToken (token, regex, strictRegex) {
    regexes[token] = isFunction(regex) ? regex : function (isStrict, localeData) {
        return (isStrict && strictRegex) ? strictRegex : regex;
    };
}

function getParseRegexForToken (token, config) {
    if (!hasOwnProp(regexes, token)) {
        return new RegExp(unescapeFormat(token));
    }

    return regexes[token](config._strict, config._locale);
}

// Code from http://stackoverflow.com/questions/3561493/is-there-a-regexp-escape-function-in-javascript
function unescapeFormat(s) {
    return regexEscape(s.replace('\\', '').replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g, function (matched, p1, p2, p3, p4) {
        return p1 || p2 || p3 || p4;
    }));
}

function regexEscape(s) {
    return s.replace(/[-\/\\^$*+?.()|[\]{}]/g, '\\$&');
}

var tokens = {};

function addParseToken (token, callback) {
    var i, func = callback;
    if (typeof token === 'string') {
        token = [token];
    }
    if (isNumber(callback)) {
        func = function (input, array) {
            array[callback] = toInt(input);
        };
    }
    for (i = 0; i < token.length; i++) {
        tokens[token[i]] = func;
    }
}

function addWeekParseToken (token, callback) {
    addParseToken(token, function (input, array, config, token) {
        config._w = config._w || {};
        callback(input, config._w, config, token);
    });
}

function addTimeToArrayFromToken(token, input, config) {
    if (input != null && hasOwnProp(tokens, token)) {
        tokens[token](input, config._a, config, token);
    }
}

var YEAR = 0;
var MONTH = 1;
var DATE = 2;
var HOUR = 3;
var MINUTE = 4;
var SECOND = 5;
var MILLISECOND = 6;
var WEEK = 7;
var WEEKDAY = 8;

var indexOf;

if (Array.prototype.indexOf) {
    indexOf = Array.prototype.indexOf;
} else {
    indexOf = function (o) {
        // I know
        var i;
        for (i = 0; i < this.length; ++i) {
            if (this[i] === o) {
                return i;
            }
        }
        return -1;
    };
}

var indexOf$1 = indexOf;

function daysInMonth(year, month) {
    return new Date(Date.UTC(year, month + 1, 0)).getUTCDate();
}

// FORMATTING

addFormatToken('M', ['MM', 2], 'Mo', function () {
    return this.month() + 1;
});

addFormatToken('MMM', 0, 0, function (format) {
    return this.localeData().monthsShort(this, format);
});

addFormatToken('MMMM', 0, 0, function (format) {
    return this.localeData().months(this, format);
});

// ALIASES

addUnitAlias('month', 'M');

// PRIORITY

addUnitPriority('month', 8);

// PARSING

addRegexToken('M',    match1to2);
addRegexToken('MM',   match1to2, match2);
addRegexToken('MMM',  function (isStrict, locale) {
    return locale.monthsShortRegex(isStrict);
});
addRegexToken('MMMM', function (isStrict, locale) {
    return locale.monthsRegex(isStrict);
});

addParseToken(['M', 'MM'], function (input, array) {
    array[MONTH] = toInt(input) - 1;
});

addParseToken(['MMM', 'MMMM'], function (input, array, config, token) {
    var month = config._locale.monthsParse(input, token, config._strict);
    // if we didn't find a month name, mark the date as invalid.
    if (month != null) {
        array[MONTH] = month;
    } else {
        getParsingFlags(config).invalidMonth = input;
    }
});

// LOCALES

var MONTHS_IN_FORMAT = /D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/;
var defaultLocaleMonths = 'January_February_March_April_May_June_July_August_September_October_November_December'.split('_');
function localeMonths (m, format) {
    if (!m) {
        return this._months;
    }
    return isArray(this._months) ? this._months[m.month()] :
        this._months[(this._months.isFormat || MONTHS_IN_FORMAT).test(format) ? 'format' : 'standalone'][m.month()];
}

var defaultLocaleMonthsShort = 'Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec'.split('_');
function localeMonthsShort (m, format) {
    if (!m) {
        return this._monthsShort;
    }
    return isArray(this._monthsShort) ? this._monthsShort[m.month()] :
        this._monthsShort[MONTHS_IN_FORMAT.test(format) ? 'format' : 'standalone'][m.month()];
}

function handleStrictParse(monthName, format, strict) {
    var i, ii, mom, llc = monthName.toLocaleLowerCase();
    if (!this._monthsParse) {
        // this is not used
        this._monthsParse = [];
        this._longMonthsParse = [];
        this._shortMonthsParse = [];
        for (i = 0; i < 12; ++i) {
            mom = createUTC([2000, i]);
            this._shortMonthsParse[i] = this.monthsShort(mom, '').toLocaleLowerCase();
            this._longMonthsParse[i] = this.months(mom, '').toLocaleLowerCase();
        }
    }

    if (strict) {
        if (format === 'MMM') {
            ii = indexOf$1.call(this._shortMonthsParse, llc);
            return ii !== -1 ? ii : null;
        } else {
            ii = indexOf$1.call(this._longMonthsParse, llc);
            return ii !== -1 ? ii : null;
        }
    } else {
        if (format === 'MMM') {
            ii = indexOf$1.call(this._shortMonthsParse, llc);
            if (ii !== -1) {
                return ii;
            }
            ii = indexOf$1.call(this._longMonthsParse, llc);
            return ii !== -1 ? ii : null;
        } else {
            ii = indexOf$1.call(this._longMonthsParse, llc);
            if (ii !== -1) {
                return ii;
            }
            ii = indexOf$1.call(this._shortMonthsParse, llc);
            return ii !== -1 ? ii : null;
        }
    }
}

function localeMonthsParse (monthName, format, strict) {
    var i, mom, regex;

    if (this._monthsParseExact) {
        return handleStrictParse.call(this, monthName, format, strict);
    }

    if (!this._monthsParse) {
        this._monthsParse = [];
        this._longMonthsParse = [];
        this._shortMonthsParse = [];
    }

    // TODO: add sorting
    // Sorting makes sure if one month (or abbr) is a prefix of another
    // see sorting in computeMonthsParse
    for (i = 0; i < 12; i++) {
        // make the regex if we don't have it already
        mom = createUTC([2000, i]);
        if (strict && !this._longMonthsParse[i]) {
            this._longMonthsParse[i] = new RegExp('^' + this.months(mom, '').replace('.', '') + '$', 'i');
            this._shortMonthsParse[i] = new RegExp('^' + this.monthsShort(mom, '').replace('.', '') + '$', 'i');
        }
        if (!strict && !this._monthsParse[i]) {
            regex = '^' + this.months(mom, '') + '|^' + this.monthsShort(mom, '');
            this._monthsParse[i] = new RegExp(regex.replace('.', ''), 'i');
        }
        // test the regex
        if (strict && format === 'MMMM' && this._longMonthsParse[i].test(monthName)) {
            return i;
        } else if (strict && format === 'MMM' && this._shortMonthsParse[i].test(monthName)) {
            return i;
        } else if (!strict && this._monthsParse[i].test(monthName)) {
            return i;
        }
    }
}

// MOMENTS

function setMonth (mom, value) {
    var dayOfMonth;

    if (!mom.isValid()) {
        // No op
        return mom;
    }

    if (typeof value === 'string') {
        if (/^\d+$/.test(value)) {
            value = toInt(value);
        } else {
            value = mom.localeData().monthsParse(value);
            // TODO: Another silent failure?
            if (!isNumber(value)) {
                return mom;
            }
        }
    }

    dayOfMonth = Math.min(mom.date(), daysInMonth(mom.year(), value));
    mom._d['set' + (mom._isUTC ? 'UTC' : '') + 'Month'](value, dayOfMonth);
    return mom;
}

function getSetMonth (value) {
    if (value != null) {
        setMonth(this, value);
        hooks.updateOffset(this, true);
        return this;
    } else {
        return get(this, 'Month');
    }
}

function getDaysInMonth () {
    return daysInMonth(this.year(), this.month());
}

var defaultMonthsShortRegex = matchWord;
function monthsShortRegex (isStrict) {
    if (this._monthsParseExact) {
        if (!hasOwnProp(this, '_monthsRegex')) {
            computeMonthsParse.call(this);
        }
        if (isStrict) {
            return this._monthsShortStrictRegex;
        } else {
            return this._monthsShortRegex;
        }
    } else {
        if (!hasOwnProp(this, '_monthsShortRegex')) {
            this._monthsShortRegex = defaultMonthsShortRegex;
        }
        return this._monthsShortStrictRegex && isStrict ?
            this._monthsShortStrictRegex : this._monthsShortRegex;
    }
}

var defaultMonthsRegex = matchWord;
function monthsRegex (isStrict) {
    if (this._monthsParseExact) {
        if (!hasOwnProp(this, '_monthsRegex')) {
            computeMonthsParse.call(this);
        }
        if (isStrict) {
            return this._monthsStrictRegex;
        } else {
            return this._monthsRegex;
        }
    } else {
        if (!hasOwnProp(this, '_monthsRegex')) {
            this._monthsRegex = defaultMonthsRegex;
        }
        return this._monthsStrictRegex && isStrict ?
            this._monthsStrictRegex : this._monthsRegex;
    }
}

function computeMonthsParse () {
    function cmpLenRev(a, b) {
        return b.length - a.length;
    }

    var shortPieces = [], longPieces = [], mixedPieces = [],
        i, mom;
    for (i = 0; i < 12; i++) {
        // make the regex if we don't have it already
        mom = createUTC([2000, i]);
        shortPieces.push(this.monthsShort(mom, ''));
        longPieces.push(this.months(mom, ''));
        mixedPieces.push(this.months(mom, ''));
        mixedPieces.push(this.monthsShort(mom, ''));
    }
    // Sorting makes sure if one month (or abbr) is a prefix of another it
    // will match the longer piece.
    shortPieces.sort(cmpLenRev);
    longPieces.sort(cmpLenRev);
    mixedPieces.sort(cmpLenRev);
    for (i = 0; i < 12; i++) {
        shortPieces[i] = regexEscape(shortPieces[i]);
        longPieces[i] = regexEscape(longPieces[i]);
    }
    for (i = 0; i < 24; i++) {
        mixedPieces[i] = regexEscape(mixedPieces[i]);
    }

    this._monthsRegex = new RegExp('^(' + mixedPieces.join('|') + ')', 'i');
    this._monthsShortRegex = this._monthsRegex;
    this._monthsStrictRegex = new RegExp('^(' + longPieces.join('|') + ')', 'i');
    this._monthsShortStrictRegex = new RegExp('^(' + shortPieces.join('|') + ')', 'i');
}

// FORMATTING

addFormatToken('Y', 0, 0, function () {
    var y = this.year();
    return y <= 9999 ? '' + y : '+' + y;
});

addFormatToken(0, ['YY', 2], 0, function () {
    return this.year() % 100;
});

addFormatToken(0, ['YYYY',   4],       0, 'year');
addFormatToken(0, ['YYYYY',  5],       0, 'year');
addFormatToken(0, ['YYYYYY', 6, true], 0, 'year');

// ALIASES

addUnitAlias('year', 'y');

// PRIORITIES

addUnitPriority('year', 1);

// PARSING

addRegexToken('Y',      matchSigned);
addRegexToken('YY',     match1to2, match2);
addRegexToken('YYYY',   match1to4, match4);
addRegexToken('YYYYY',  match1to6, match6);
addRegexToken('YYYYYY', match1to6, match6);

addParseToken(['YYYYY', 'YYYYYY'], YEAR);
addParseToken('YYYY', function (input, array) {
    array[YEAR] = input.length === 2 ? hooks.parseTwoDigitYear(input) : toInt(input);
});
addParseToken('YY', function (input, array) {
    array[YEAR] = hooks.parseTwoDigitYear(input);
});
addParseToken('Y', function (input, array) {
    array[YEAR] = parseInt(input, 10);
});

// HELPERS

function daysInYear(year) {
    return isLeapYear(year) ? 366 : 365;
}

function isLeapYear(year) {
    return (year % 4 === 0 && year % 100 !== 0) || year % 400 === 0;
}

// HOOKS

hooks.parseTwoDigitYear = function (input) {
    return toInt(input) + (toInt(input) > 68 ? 1900 : 2000);
};

// MOMENTS

var getSetYear = makeGetSet('FullYear', true);

function getIsLeapYear () {
    return isLeapYear(this.year());
}

function createDate (y, m, d, h, M, s, ms) {
    //can't just apply() to create a date:
    //http://stackoverflow.com/questions/181348/instantiating-a-javascript-object-by-calling-prototype-constructor-apply
    var date = new Date(y, m, d, h, M, s, ms);

    //the date constructor remaps years 0-99 to 1900-1999
    if (y < 100 && y >= 0 && isFinite(date.getFullYear())) {
        date.setFullYear(y);
    }
    return date;
}

function createUTCDate (y) {
    var date = new Date(Date.UTC.apply(null, arguments));

    //the Date.UTC function remaps years 0-99 to 1900-1999
    if (y < 100 && y >= 0 && isFinite(date.getUTCFullYear())) {
        date.setUTCFullYear(y);
    }
    return date;
}

// start-of-first-week - start-of-year
function firstWeekOffset(year, dow, doy) {
    var // first-week day -- which january is always in the first week (4 for iso, 1 for other)
        fwd = 7 + dow - doy,
        // first-week day local weekday -- which local weekday is fwd
        fwdlw = (7 + createUTCDate(year, 0, fwd).getUTCDay() - dow) % 7;

    return -fwdlw + fwd - 1;
}

//http://en.wikipedia.org/wiki/ISO_week_date#Calculating_a_date_given_the_year.2C_week_number_and_weekday
function dayOfYearFromWeeks(year, week, weekday, dow, doy) {
    var localWeekday = (7 + weekday - dow) % 7,
        weekOffset = firstWeekOffset(year, dow, doy),
        dayOfYear = 1 + 7 * (week - 1) + localWeekday + weekOffset,
        resYear, resDayOfYear;

    if (dayOfYear <= 0) {
        resYear = year - 1;
        resDayOfYear = daysInYear(resYear) + dayOfYear;
    } else if (dayOfYear > daysInYear(year)) {
        resYear = year + 1;
        resDayOfYear = dayOfYear - daysInYear(year);
    } else {
        resYear = year;
        resDayOfYear = dayOfYear;
    }

    return {
        year: resYear,
        dayOfYear: resDayOfYear
    };
}

function weekOfYear(mom, dow, doy) {
    var weekOffset = firstWeekOffset(mom.year(), dow, doy),
        week = Math.floor((mom.dayOfYear() - weekOffset - 1) / 7) + 1,
        resWeek, resYear;

    if (week < 1) {
        resYear = mom.year() - 1;
        resWeek = week + weeksInYear(resYear, dow, doy);
    } else if (week > weeksInYear(mom.year(), dow, doy)) {
        resWeek = week - weeksInYear(mom.year(), dow, doy);
        resYear = mom.year() + 1;
    } else {
        resYear = mom.year();
        resWeek = week;
    }

    return {
        week: resWeek,
        year: resYear
    };
}

function weeksInYear(year, dow, doy) {
    var weekOffset = firstWeekOffset(year, dow, doy),
        weekOffsetNext = firstWeekOffset(year + 1, dow, doy);
    return (daysInYear(year) - weekOffset + weekOffsetNext) / 7;
}

// FORMATTING

addFormatToken('w', ['ww', 2], 'wo', 'week');
addFormatToken('W', ['WW', 2], 'Wo', 'isoWeek');

// ALIASES

addUnitAlias('week', 'w');
addUnitAlias('isoWeek', 'W');

// PRIORITIES

addUnitPriority('week', 5);
addUnitPriority('isoWeek', 5);

// PARSING

addRegexToken('w',  match1to2);
addRegexToken('ww', match1to2, match2);
addRegexToken('W',  match1to2);
addRegexToken('WW', match1to2, match2);

addWeekParseToken(['w', 'ww', 'W', 'WW'], function (input, week, config, token) {
    week[token.substr(0, 1)] = toInt(input);
});

// HELPERS

// LOCALES

function localeWeek (mom) {
    return weekOfYear(mom, this._week.dow, this._week.doy).week;
}

var defaultLocaleWeek = {
    dow : 0, // Sunday is the first day of the week.
    doy : 6  // The week that contains Jan 1st is the first week of the year.
};

function localeFirstDayOfWeek () {
    return this._week.dow;
}

function localeFirstDayOfYear () {
    return this._week.doy;
}

// MOMENTS

function getSetWeek (input) {
    var week = this.localeData().week(this);
    return input == null ? week : this.add((input - week) * 7, 'd');
}

function getSetISOWeek (input) {
    var week = weekOfYear(this, 1, 4).week;
    return input == null ? week : this.add((input - week) * 7, 'd');
}

// FORMATTING

addFormatToken('d', 0, 'do', 'day');

addFormatToken('dd', 0, 0, function (format) {
    return this.localeData().weekdaysMin(this, format);
});

addFormatToken('ddd', 0, 0, function (format) {
    return this.localeData().weekdaysShort(this, format);
});

addFormatToken('dddd', 0, 0, function (format) {
    return this.localeData().weekdays(this, format);
});

addFormatToken('e', 0, 0, 'weekday');
addFormatToken('E', 0, 0, 'isoWeekday');

// ALIASES

addUnitAlias('day', 'd');
addUnitAlias('weekday', 'e');
addUnitAlias('isoWeekday', 'E');

// PRIORITY
addUnitPriority('day', 11);
addUnitPriority('weekday', 11);
addUnitPriority('isoWeekday', 11);

// PARSING

addRegexToken('d',    match1to2);
addRegexToken('e',    match1to2);
addRegexToken('E',    match1to2);
addRegexToken('dd',   function (isStrict, locale) {
    return locale.weekdaysMinRegex(isStrict);
});
addRegexToken('ddd',   function (isStrict, locale) {
    return locale.weekdaysShortRegex(isStrict);
});
addRegexToken('dddd',   function (isStrict, locale) {
    return locale.weekdaysRegex(isStrict);
});

addWeekParseToken(['dd', 'ddd', 'dddd'], function (input, week, config, token) {
    var weekday = config._locale.weekdaysParse(input, token, config._strict);
    // if we didn't get a weekday name, mark the date as invalid
    if (weekday != null) {
        week.d = weekday;
    } else {
        getParsingFlags(config).invalidWeekday = input;
    }
});

addWeekParseToken(['d', 'e', 'E'], function (input, week, config, token) {
    week[token] = toInt(input);
});

// HELPERS

function parseWeekday(input, locale) {
    if (typeof input !== 'string') {
        return input;
    }

    if (!isNaN(input)) {
        return parseInt(input, 10);
    }

    input = locale.weekdaysParse(input);
    if (typeof input === 'number') {
        return input;
    }

    return null;
}

function parseIsoWeekday(input, locale) {
    if (typeof input === 'string') {
        return locale.weekdaysParse(input) % 7 || 7;
    }
    return isNaN(input) ? null : input;
}

// LOCALES

var defaultLocaleWeekdays = 'Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday'.split('_');
function localeWeekdays (m, format) {
    if (!m) {
        return this._weekdays;
    }
    return isArray(this._weekdays) ? this._weekdays[m.day()] :
        this._weekdays[this._weekdays.isFormat.test(format) ? 'format' : 'standalone'][m.day()];
}

var defaultLocaleWeekdaysShort = 'Sun_Mon_Tue_Wed_Thu_Fri_Sat'.split('_');
function localeWeekdaysShort (m) {
    return (m) ? this._weekdaysShort[m.day()] : this._weekdaysShort;
}

var defaultLocaleWeekdaysMin = 'Su_Mo_Tu_We_Th_Fr_Sa'.split('_');
function localeWeekdaysMin (m) {
    return (m) ? this._weekdaysMin[m.day()] : this._weekdaysMin;
}

function handleStrictParse$1(weekdayName, format, strict) {
    var i, ii, mom, llc = weekdayName.toLocaleLowerCase();
    if (!this._weekdaysParse) {
        this._weekdaysParse = [];
        this._shortWeekdaysParse = [];
        this._minWeekdaysParse = [];

        for (i = 0; i < 7; ++i) {
            mom = createUTC([2000, 1]).day(i);
            this._minWeekdaysParse[i] = this.weekdaysMin(mom, '').toLocaleLowerCase();
            this._shortWeekdaysParse[i] = this.weekdaysShort(mom, '').toLocaleLowerCase();
            this._weekdaysParse[i] = this.weekdays(mom, '').toLocaleLowerCase();
        }
    }

    if (strict) {
        if (format === 'dddd') {
            ii = indexOf$1.call(this._weekdaysParse, llc);
            return ii !== -1 ? ii : null;
        } else if (format === 'ddd') {
            ii = indexOf$1.call(this._shortWeekdaysParse, llc);
            return ii !== -1 ? ii : null;
        } else {
            ii = indexOf$1.call(this._minWeekdaysParse, llc);
            return ii !== -1 ? ii : null;
        }
    } else {
        if (format === 'dddd') {
            ii = indexOf$1.call(this._weekdaysParse, llc);
            if (ii !== -1) {
                return ii;
            }
            ii = indexOf$1.call(this._shortWeekdaysParse, llc);
            if (ii !== -1) {
                return ii;
            }
            ii = indexOf$1.call(this._minWeekdaysParse, llc);
            return ii !== -1 ? ii : null;
        } else if (format === 'ddd') {
            ii = indexOf$1.call(this._shortWeekdaysParse, llc);
            if (ii !== -1) {
                return ii;
            }
            ii = indexOf$1.call(this._weekdaysParse, llc);
            if (ii !== -1) {
                return ii;
            }
            ii = indexOf$1.call(this._minWeekdaysParse, llc);
            return ii !== -1 ? ii : null;
        } else {
            ii = indexOf$1.call(this._minWeekdaysParse, llc);
            if (ii !== -1) {
                return ii;
            }
            ii = indexOf$1.call(this._weekdaysParse, llc);
            if (ii !== -1) {
                return ii;
            }
            ii = indexOf$1.call(this._shortWeekdaysParse, llc);
            return ii !== -1 ? ii : null;
        }
    }
}

function localeWeekdaysParse (weekdayName, format, strict) {
    var i, mom, regex;

    if (this._weekdaysParseExact) {
        return handleStrictParse$1.call(this, weekdayName, format, strict);
    }

    if (!this._weekdaysParse) {
        this._weekdaysParse = [];
        this._minWeekdaysParse = [];
        this._shortWeekdaysParse = [];
        this._fullWeekdaysParse = [];
    }

    for (i = 0; i < 7; i++) {
        // make the regex if we don't have it already

        mom = createUTC([2000, 1]).day(i);
        if (strict && !this._fullWeekdaysParse[i]) {
            this._fullWeekdaysParse[i] = new RegExp('^' + this.weekdays(mom, '').replace('.', '\.?') + '$', 'i');
            this._shortWeekdaysParse[i] = new RegExp('^' + this.weekdaysShort(mom, '').replace('.', '\.?') + '$', 'i');
            this._minWeekdaysParse[i] = new RegExp('^' + this.weekdaysMin(mom, '').replace('.', '\.?') + '$', 'i');
        }
        if (!this._weekdaysParse[i]) {
            regex = '^' + this.weekdays(mom, '') + '|^' + this.weekdaysShort(mom, '') + '|^' + this.weekdaysMin(mom, '');
            this._weekdaysParse[i] = new RegExp(regex.replace('.', ''), 'i');
        }
        // test the regex
        if (strict && format === 'dddd' && this._fullWeekdaysParse[i].test(weekdayName)) {
            return i;
        } else if (strict && format === 'ddd' && this._shortWeekdaysParse[i].test(weekdayName)) {
            return i;
        } else if (strict && format === 'dd' && this._minWeekdaysParse[i].test(weekdayName)) {
            return i;
        } else if (!strict && this._weekdaysParse[i].test(weekdayName)) {
            return i;
        }
    }
}

// MOMENTS

function getSetDayOfWeek (input) {
    if (!this.isValid()) {
        return input != null ? this : NaN;
    }
    var day = this._isUTC ? this._d.getUTCDay() : this._d.getDay();
    if (input != null) {
        input = parseWeekday(input, this.localeData());
        return this.add(input - day, 'd');
    } else {
        return day;
    }
}

function getSetLocaleDayOfWeek (input) {
    if (!this.isValid()) {
        return input != null ? this : NaN;
    }
    var weekday = (this.day() + 7 - this.localeData()._week.dow) % 7;
    return input == null ? weekday : this.add(input - weekday, 'd');
}

function getSetISODayOfWeek (input) {
    if (!this.isValid()) {
        return input != null ? this : NaN;
    }

    // behaves the same as moment#day except
    // as a getter, returns 7 instead of 0 (1-7 range instead of 0-6)
    // as a setter, sunday should belong to the previous week.

    if (input != null) {
        var weekday = parseIsoWeekday(input, this.localeData());
        return this.day(this.day() % 7 ? weekday : weekday - 7);
    } else {
        return this.day() || 7;
    }
}

var defaultWeekdaysRegex = matchWord;
function weekdaysRegex (isStrict) {
    if (this._weekdaysParseExact) {
        if (!hasOwnProp(this, '_weekdaysRegex')) {
            computeWeekdaysParse.call(this);
        }
        if (isStrict) {
            return this._weekdaysStrictRegex;
        } else {
            return this._weekdaysRegex;
        }
    } else {
        if (!hasOwnProp(this, '_weekdaysRegex')) {
            this._weekdaysRegex = defaultWeekdaysRegex;
        }
        return this._weekdaysStrictRegex && isStrict ?
            this._weekdaysStrictRegex : this._weekdaysRegex;
    }
}

var defaultWeekdaysShortRegex = matchWord;
function weekdaysShortRegex (isStrict) {
    if (this._weekdaysParseExact) {
        if (!hasOwnProp(this, '_weekdaysRegex')) {
            computeWeekdaysParse.call(this);
        }
        if (isStrict) {
            return this._weekdaysShortStrictRegex;
        } else {
            return this._weekdaysShortRegex;
        }
    } else {
        if (!hasOwnProp(this, '_weekdaysShortRegex')) {
            this._weekdaysShortRegex = defaultWeekdaysShortRegex;
        }
        return this._weekdaysShortStrictRegex && isStrict ?
            this._weekdaysShortStrictRegex : this._weekdaysShortRegex;
    }
}

var defaultWeekdaysMinRegex = matchWord;
function weekdaysMinRegex (isStrict) {
    if (this._weekdaysParseExact) {
        if (!hasOwnProp(this, '_weekdaysRegex')) {
            computeWeekdaysParse.call(this);
        }
        if (isStrict) {
            return this._weekdaysMinStrictRegex;
        } else {
            return this._weekdaysMinRegex;
        }
    } else {
        if (!hasOwnProp(this, '_weekdaysMinRegex')) {
            this._weekdaysMinRegex = defaultWeekdaysMinRegex;
        }
        return this._weekdaysMinStrictRegex && isStrict ?
            this._weekdaysMinStrictRegex : this._weekdaysMinRegex;
    }
}


function computeWeekdaysParse () {
    function cmpLenRev(a, b) {
        return b.length - a.length;
    }

    var minPieces = [], shortPieces = [], longPieces = [], mixedPieces = [],
        i, mom, minp, shortp, longp;
    for (i = 0; i < 7; i++) {
        // make the regex if we don't have it already
        mom = createUTC([2000, 1]).day(i);
        minp = this.weekdaysMin(mom, '');
        shortp = this.weekdaysShort(mom, '');
        longp = this.weekdays(mom, '');
        minPieces.push(minp);
        shortPieces.push(shortp);
        longPieces.push(longp);
        mixedPieces.push(minp);
        mixedPieces.push(shortp);
        mixedPieces.push(longp);
    }
    // Sorting makes sure if one weekday (or abbr) is a prefix of another it
    // will match the longer piece.
    minPieces.sort(cmpLenRev);
    shortPieces.sort(cmpLenRev);
    longPieces.sort(cmpLenRev);
    mixedPieces.sort(cmpLenRev);
    for (i = 0; i < 7; i++) {
        shortPieces[i] = regexEscape(shortPieces[i]);
        longPieces[i] = regexEscape(longPieces[i]);
        mixedPieces[i] = regexEscape(mixedPieces[i]);
    }

    this._weekdaysRegex = new RegExp('^(' + mixedPieces.join('|') + ')', 'i');
    this._weekdaysShortRegex = this._weekdaysRegex;
    this._weekdaysMinRegex = this._weekdaysRegex;

    this._weekdaysStrictRegex = new RegExp('^(' + longPieces.join('|') + ')', 'i');
    this._weekdaysShortStrictRegex = new RegExp('^(' + shortPieces.join('|') + ')', 'i');
    this._weekdaysMinStrictRegex = new RegExp('^(' + minPieces.join('|') + ')', 'i');
}

// FORMATTING

function hFormat() {
    return this.hours() % 12 || 12;
}

function kFormat() {
    return this.hours() || 24;
}

addFormatToken('H', ['HH', 2], 0, 'hour');
addFormatToken('h', ['hh', 2], 0, hFormat);
addFormatToken('k', ['kk', 2], 0, kFormat);

addFormatToken('hmm', 0, 0, function () {
    return '' + hFormat.apply(this) + zeroFill(this.minutes(), 2);
});

addFormatToken('hmmss', 0, 0, function () {
    return '' + hFormat.apply(this) + zeroFill(this.minutes(), 2) +
        zeroFill(this.seconds(), 2);
});

addFormatToken('Hmm', 0, 0, function () {
    return '' + this.hours() + zeroFill(this.minutes(), 2);
});

addFormatToken('Hmmss', 0, 0, function () {
    return '' + this.hours() + zeroFill(this.minutes(), 2) +
        zeroFill(this.seconds(), 2);
});

function meridiem (token, lowercase) {
    addFormatToken(token, 0, 0, function () {
        return this.localeData().meridiem(this.hours(), this.minutes(), lowercase);
    });
}

meridiem('a', true);
meridiem('A', false);

// ALIASES

addUnitAlias('hour', 'h');

// PRIORITY
addUnitPriority('hour', 13);

// PARSING

function matchMeridiem (isStrict, locale) {
    return locale._meridiemParse;
}

addRegexToken('a',  matchMeridiem);
addRegexToken('A',  matchMeridiem);
addRegexToken('H',  match1to2);
addRegexToken('h',  match1to2);
addRegexToken('HH', match1to2, match2);
addRegexToken('hh', match1to2, match2);

addRegexToken('hmm', match3to4);
addRegexToken('hmmss', match5to6);
addRegexToken('Hmm', match3to4);
addRegexToken('Hmmss', match5to6);

addParseToken(['H', 'HH'], HOUR);
addParseToken(['a', 'A'], function (input, array, config) {
    config._isPm = config._locale.isPM(input);
    config._meridiem = input;
});
addParseToken(['h', 'hh'], function (input, array, config) {
    array[HOUR] = toInt(input);
    getParsingFlags(config).bigHour = true;
});
addParseToken('hmm', function (input, array, config) {
    var pos = input.length - 2;
    array[HOUR] = toInt(input.substr(0, pos));
    array[MINUTE] = toInt(input.substr(pos));
    getParsingFlags(config).bigHour = true;
});
addParseToken('hmmss', function (input, array, config) {
    var pos1 = input.length - 4;
    var pos2 = input.length - 2;
    array[HOUR] = toInt(input.substr(0, pos1));
    array[MINUTE] = toInt(input.substr(pos1, 2));
    array[SECOND] = toInt(input.substr(pos2));
    getParsingFlags(config).bigHour = true;
});
addParseToken('Hmm', function (input, array, config) {
    var pos = input.length - 2;
    array[HOUR] = toInt(input.substr(0, pos));
    array[MINUTE] = toInt(input.substr(pos));
});
addParseToken('Hmmss', function (input, array, config) {
    var pos1 = input.length - 4;
    var pos2 = input.length - 2;
    array[HOUR] = toInt(input.substr(0, pos1));
    array[MINUTE] = toInt(input.substr(pos1, 2));
    array[SECOND] = toInt(input.substr(pos2));
});

// LOCALES

function localeIsPM (input) {
    // IE8 Quirks Mode & IE7 Standards Mode do not allow accessing strings like arrays
    // Using charAt should be more compatible.
    return ((input + '').toLowerCase().charAt(0) === 'p');
}

var defaultLocaleMeridiemParse = /[ap]\.?m?\.?/i;
function localeMeridiem (hours, minutes, isLower) {
    if (hours > 11) {
        return isLower ? 'pm' : 'PM';
    } else {
        return isLower ? 'am' : 'AM';
    }
}


// MOMENTS

// Setting the hour should keep the time, because the user explicitly
// specified which hour he wants. So trying to maintain the same hour (in
// a new timezone) makes sense. Adding/subtracting hours does not follow
// this rule.
var getSetHour = makeGetSet('Hours', true);

// months
// week
// weekdays
// meridiem
var baseConfig = {
    calendar: defaultCalendar,
    longDateFormat: defaultLongDateFormat,
    invalidDate: defaultInvalidDate,
    ordinal: defaultOrdinal,
    ordinalParse: defaultOrdinalParse,
    relativeTime: defaultRelativeTime,

    months: defaultLocaleMonths,
    monthsShort: defaultLocaleMonthsShort,

    week: defaultLocaleWeek,

    weekdays: defaultLocaleWeekdays,
    weekdaysMin: defaultLocaleWeekdaysMin,
    weekdaysShort: defaultLocaleWeekdaysShort,

    meridiemParse: defaultLocaleMeridiemParse
};

// internal storage for locale config files
var locales = {};
var localeFamilies = {};
var globalLocale;

function normalizeLocale(key) {
    return key ? key.toLowerCase().replace('_', '-') : key;
}

// pick the locale from the array
// try ['en-au', 'en-gb'] as 'en-au', 'en-gb', 'en', as in move through the list trying each
// substring from most specific to least, but move to the next array item if it's a more specific variant than the current root
function chooseLocale(names) {
    var i = 0, j, next, locale, split;

    while (i < names.length) {
        split = normalizeLocale(names[i]).split('-');
        j = split.length;
        next = normalizeLocale(names[i + 1]);
        next = next ? next.split('-') : null;
        while (j > 0) {
            locale = loadLocale(split.slice(0, j).join('-'));
            if (locale) {
                return locale;
            }
            if (next && next.length >= j && compareArrays(split, next, true) >= j - 1) {
                //the next array item is better than a shallower substring of this one
                break;
            }
            j--;
        }
        i++;
    }
    return null;
}

function loadLocale(name) {
    var oldLocale = null;
    // TODO: Find a better way to register and load all the locales in Node
    if (!locales[name] && (typeof module !== 'undefined') &&
            module && module.exports) {
        try {
            oldLocale = globalLocale._abbr;
            require('./locale/' + name);
            // because defineLocale currently also sets the global locale, we
            // want to undo that for lazy loaded locales
            getSetGlobalLocale(oldLocale);
        } catch (e) { }
    }
    return locales[name];
}

// This function will load locale and then set the global locale.  If
// no arguments are passed in, it will simply return the current global
// locale key.
function getSetGlobalLocale (key, values) {
    var data;
    if (key) {
        if (isUndefined(values)) {
            data = getLocale(key);
        }
        else {
            data = defineLocale(key, values);
        }

        if (data) {
            // moment.duration._locale = moment._locale = data;
            globalLocale = data;
        }
    }

    return globalLocale._abbr;
}

function defineLocale (name, config) {
    if (config !== null) {
        var parentConfig = baseConfig;
        config.abbr = name;
        if (locales[name] != null) {
            deprecateSimple('defineLocaleOverride',
                    'use moment.updateLocale(localeName, config) to change ' +
                    'an existing locale. moment.defineLocale(localeName, ' +
                    'config) should only be used for creating a new locale ' +
                    'See http://momentjs.com/guides/#/warnings/define-locale/ for more info.');
            parentConfig = locales[name]._config;
        } else if (config.parentLocale != null) {
            if (locales[config.parentLocale] != null) {
                parentConfig = locales[config.parentLocale]._config;
            } else {
                if (!localeFamilies[config.parentLocale]) {
                    localeFamilies[config.parentLocale] = [];
                }
                localeFamilies[config.parentLocale].push({
                    name: name,
                    config: config
                });
                return null;
            }
        }
        locales[name] = new Locale(mergeConfigs(parentConfig, config));

        if (localeFamilies[name]) {
            localeFamilies[name].forEach(function (x) {
                defineLocale(x.name, x.config);
            });
        }

        // backwards compat for now: also set the locale
        // make sure we set the locale AFTER all child locales have been
        // created, so we won't end up with the child locale set.
        getSetGlobalLocale(name);


        return locales[name];
    } else {
        // useful for testing
        delete locales[name];
        return null;
    }
}

function updateLocale(name, config) {
    if (config != null) {
        var locale, parentConfig = baseConfig;
        // MERGE
        if (locales[name] != null) {
            parentConfig = locales[name]._config;
        }
        config = mergeConfigs(parentConfig, config);
        locale = new Locale(config);
        locale.parentLocale = locales[name];
        locales[name] = locale;

        // backwards compat for now: also set the locale
        getSetGlobalLocale(name);
    } else {
        // pass null for config to unupdate, useful for tests
        if (locales[name] != null) {
            if (locales[name].parentLocale != null) {
                locales[name] = locales[name].parentLocale;
            } else if (locales[name] != null) {
                delete locales[name];
            }
        }
    }
    return locales[name];
}

// returns locale data
function getLocale (key) {
    var locale;

    if (key && key._locale && key._locale._abbr) {
        key = key._locale._abbr;
    }

    if (!key) {
        return globalLocale;
    }

    if (!isArray(key)) {
        //short-circuit everything else
        locale = loadLocale(key);
        if (locale) {
            return locale;
        }
        key = [key];
    }

    return chooseLocale(key);
}

function listLocales() {
    return keys$1(locales);
}

function checkOverflow (m) {
    var overflow;
    var a = m._a;

    if (a && getParsingFlags(m).overflow === -2) {
        overflow =
            a[MONTH]       < 0 || a[MONTH]       > 11  ? MONTH :
            a[DATE]        < 1 || a[DATE]        > daysInMonth(a[YEAR], a[MONTH]) ? DATE :
            a[HOUR]        < 0 || a[HOUR]        > 24 || (a[HOUR] === 24 && (a[MINUTE] !== 0 || a[SECOND] !== 0 || a[MILLISECOND] !== 0)) ? HOUR :
            a[MINUTE]      < 0 || a[MINUTE]      > 59  ? MINUTE :
            a[SECOND]      < 0 || a[SECOND]      > 59  ? SECOND :
            a[MILLISECOND] < 0 || a[MILLISECOND] > 999 ? MILLISECOND :
            -1;

        if (getParsingFlags(m)._overflowDayOfYear && (overflow < YEAR || overflow > DATE)) {
            overflow = DATE;
        }
        if (getParsingFlags(m)._overflowWeeks && overflow === -1) {
            overflow = WEEK;
        }
        if (getParsingFlags(m)._overflowWeekday && overflow === -1) {
            overflow = WEEKDAY;
        }

        getParsingFlags(m).overflow = overflow;
    }

    return m;
}

// iso 8601 regex
// 0000-00-00 0000-W00 or 0000-W00-0 + T + 00 or 00:00 or 00:00:00 or 00:00:00.000 + +00:00 or +0000 or +00)
var extendedIsoRegex = /^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/;
var basicIsoRegex = /^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/;

var tzRegex = /Z|[+-]\d\d(?::?\d\d)?/;

var isoDates = [
    ['YYYYYY-MM-DD', /[+-]\d{6}-\d\d-\d\d/],
    ['YYYY-MM-DD', /\d{4}-\d\d-\d\d/],
    ['GGGG-[W]WW-E', /\d{4}-W\d\d-\d/],
    ['GGGG-[W]WW', /\d{4}-W\d\d/, false],
    ['YYYY-DDD', /\d{4}-\d{3}/],
    ['YYYY-MM', /\d{4}-\d\d/, false],
    ['YYYYYYMMDD', /[+-]\d{10}/],
    ['YYYYMMDD', /\d{8}/],
    // YYYYMM is NOT allowed by the standard
    ['GGGG[W]WWE', /\d{4}W\d{3}/],
    ['GGGG[W]WW', /\d{4}W\d{2}/, false],
    ['YYYYDDD', /\d{7}/]
];

// iso time formats and regexes
var isoTimes = [
    ['HH:mm:ss.SSSS', /\d\d:\d\d:\d\d\.\d+/],
    ['HH:mm:ss,SSSS', /\d\d:\d\d:\d\d,\d+/],
    ['HH:mm:ss', /\d\d:\d\d:\d\d/],
    ['HH:mm', /\d\d:\d\d/],
    ['HHmmss.SSSS', /\d\d\d\d\d\d\.\d+/],
    ['HHmmss,SSSS', /\d\d\d\d\d\d,\d+/],
    ['HHmmss', /\d\d\d\d\d\d/],
    ['HHmm', /\d\d\d\d/],
    ['HH', /\d\d/]
];

var aspNetJsonRegex = /^\/?Date\((\-?\d+)/i;

// date from iso format
function configFromISO(config) {
    var i, l,
        string = config._i,
        match = extendedIsoRegex.exec(string) || basicIsoRegex.exec(string),
        allowTime, dateFormat, timeFormat, tzFormat;

    if (match) {
        getParsingFlags(config).iso = true;

        for (i = 0, l = isoDates.length; i < l; i++) {
            if (isoDates[i][1].exec(match[1])) {
                dateFormat = isoDates[i][0];
                allowTime = isoDates[i][2] !== false;
                break;
            }
        }
        if (dateFormat == null) {
            config._isValid = false;
            return;
        }
        if (match[3]) {
            for (i = 0, l = isoTimes.length; i < l; i++) {
                if (isoTimes[i][1].exec(match[3])) {
                    // match[2] should be 'T' or space
                    timeFormat = (match[2] || ' ') + isoTimes[i][0];
                    break;
                }
            }
            if (timeFormat == null) {
                config._isValid = false;
                return;
            }
        }
        if (!allowTime && timeFormat != null) {
            config._isValid = false;
            return;
        }
        if (match[4]) {
            if (tzRegex.exec(match[4])) {
                tzFormat = 'Z';
            } else {
                config._isValid = false;
                return;
            }
        }
        config._f = dateFormat + (timeFormat || '') + (tzFormat || '');
        configFromStringAndFormat(config);
    } else {
        config._isValid = false;
    }
}

// date from iso format or fallback
function configFromString(config) {
    var matched = aspNetJsonRegex.exec(config._i);

    if (matched !== null) {
        config._d = new Date(+matched[1]);
        return;
    }

    configFromISO(config);
    if (config._isValid === false) {
        delete config._isValid;
        hooks.createFromInputFallback(config);
    }
}

hooks.createFromInputFallback = deprecate(
    'value provided is not in a recognized ISO format. moment construction falls back to js Date(), ' +
    'which is not reliable across all browsers and versions. Non ISO date formats are ' +
    'discouraged and will be removed in an upcoming major release. Please refer to ' +
    'http://momentjs.com/guides/#/warnings/js-date/ for more info.',
    function (config) {
        config._d = new Date(config._i + (config._useUTC ? ' UTC' : ''));
    }
);

// Pick the first defined of two or three arguments.
function defaults(a, b, c) {
    if (a != null) {
        return a;
    }
    if (b != null) {
        return b;
    }
    return c;
}

function currentDateArray(config) {
    // hooks is actually the exported moment object
    var nowValue = new Date(hooks.now());
    if (config._useUTC) {
        return [nowValue.getUTCFullYear(), nowValue.getUTCMonth(), nowValue.getUTCDate()];
    }
    return [nowValue.getFullYear(), nowValue.getMonth(), nowValue.getDate()];
}

// convert an array to a date.
// the array should mirror the parameters below
// note: all values past the year are optional and will default to the lowest possible value.
// [year, month, day , hour, minute, second, millisecond]
function configFromArray (config) {
    var i, date, input = [], currentDate, yearToUse;

    if (config._d) {
        return;
    }

    currentDate = currentDateArray(config);

    //compute day of the year from weeks and weekdays
    if (config._w && config._a[DATE] == null && config._a[MONTH] == null) {
        dayOfYearFromWeekInfo(config);
    }

    //if the day of the year is set, figure out what it is
    if (config._dayOfYear) {
        yearToUse = defaults(config._a[YEAR], currentDate[YEAR]);

        if (config._dayOfYear > daysInYear(yearToUse)) {
            getParsingFlags(config)._overflowDayOfYear = true;
        }

        date = createUTCDate(yearToUse, 0, config._dayOfYear);
        config._a[MONTH] = date.getUTCMonth();
        config._a[DATE] = date.getUTCDate();
    }

    // Default to current date.
    // * if no year, month, day of month are given, default to today
    // * if day of month is given, default month and year
    // * if month is given, default only year
    // * if year is given, don't default anything
    for (i = 0; i < 3 && config._a[i] == null; ++i) {
        config._a[i] = input[i] = currentDate[i];
    }

    // Zero out whatever was not defaulted, including time
    for (; i < 7; i++) {
        config._a[i] = input[i] = (config._a[i] == null) ? (i === 2 ? 1 : 0) : config._a[i];
    }

    // Check for 24:00:00.000
    if (config._a[HOUR] === 24 &&
            config._a[MINUTE] === 0 &&
            config._a[SECOND] === 0 &&
            config._a[MILLISECOND] === 0) {
        config._nextDay = true;
        config._a[HOUR] = 0;
    }

    config._d = (config._useUTC ? createUTCDate : createDate).apply(null, input);
    // Apply timezone offset from input. The actual utcOffset can be changed
    // with parseZone.
    if (config._tzm != null) {
        config._d.setUTCMinutes(config._d.getUTCMinutes() - config._tzm);
    }

    if (config._nextDay) {
        config._a[HOUR] = 24;
    }
}

function dayOfYearFromWeekInfo(config) {
    var w, weekYear, week, weekday, dow, doy, temp, weekdayOverflow;

    w = config._w;
    if (w.GG != null || w.W != null || w.E != null) {
        dow = 1;
        doy = 4;

        // TODO: We need to take the current isoWeekYear, but that depends on
        // how we interpret now (local, utc, fixed offset). So create
        // a now version of current config (take local/utc/offset flags, and
        // create now).
        weekYear = defaults(w.GG, config._a[YEAR], weekOfYear(createLocal(), 1, 4).year);
        week = defaults(w.W, 1);
        weekday = defaults(w.E, 1);
        if (weekday < 1 || weekday > 7) {
            weekdayOverflow = true;
        }
    } else {
        dow = config._locale._week.dow;
        doy = config._locale._week.doy;

        var curWeek = weekOfYear(createLocal(), dow, doy);

        weekYear = defaults(w.gg, config._a[YEAR], curWeek.year);

        // Default to current week.
        week = defaults(w.w, curWeek.week);

        if (w.d != null) {
            // weekday -- low day numbers are considered next week
            weekday = w.d;
            if (weekday < 0 || weekday > 6) {
                weekdayOverflow = true;
            }
        } else if (w.e != null) {
            // local weekday -- counting starts from begining of week
            weekday = w.e + dow;
            if (w.e < 0 || w.e > 6) {
                weekdayOverflow = true;
            }
        } else {
            // default to begining of week
            weekday = dow;
        }
    }
    if (week < 1 || week > weeksInYear(weekYear, dow, doy)) {
        getParsingFlags(config)._overflowWeeks = true;
    } else if (weekdayOverflow != null) {
        getParsingFlags(config)._overflowWeekday = true;
    } else {
        temp = dayOfYearFromWeeks(weekYear, week, weekday, dow, doy);
        config._a[YEAR] = temp.year;
        config._dayOfYear = temp.dayOfYear;
    }
}

// constant that refers to the ISO standard
hooks.ISO_8601 = function () {};

// date from string and format string
function configFromStringAndFormat(config) {
    // TODO: Move this to another part of the creation flow to prevent circular deps
    if (config._f === hooks.ISO_8601) {
        configFromISO(config);
        return;
    }

    config._a = [];
    getParsingFlags(config).empty = true;

    // This array is used to make a Date, either with `new Date` or `Date.UTC`
    var string = '' + config._i,
        i, parsedInput, tokens, token, skipped,
        stringLength = string.length,
        totalParsedInputLength = 0;

    tokens = expandFormat(config._f, config._locale).match(formattingTokens) || [];

    for (i = 0; i < tokens.length; i++) {
        token = tokens[i];
        parsedInput = (string.match(getParseRegexForToken(token, config)) || [])[0];
        // console.log('token', token, 'parsedInput', parsedInput,
        //         'regex', getParseRegexForToken(token, config));
        if (parsedInput) {
            skipped = string.substr(0, string.indexOf(parsedInput));
            if (skipped.length > 0) {
                getParsingFlags(config).unusedInput.push(skipped);
            }
            string = string.slice(string.indexOf(parsedInput) + parsedInput.length);
            totalParsedInputLength += parsedInput.length;
        }
        // don't parse if it's not a known token
        if (formatTokenFunctions[token]) {
            if (parsedInput) {
                getParsingFlags(config).empty = false;
            }
            else {
                getParsingFlags(config).unusedTokens.push(token);
            }
            addTimeToArrayFromToken(token, parsedInput, config);
        }
        else if (config._strict && !parsedInput) {
            getParsingFlags(config).unusedTokens.push(token);
        }
    }

    // add remaining unparsed input length to the string
    getParsingFlags(config).charsLeftOver = stringLength - totalParsedInputLength;
    if (string.length > 0) {
        getParsingFlags(config).unusedInput.push(string);
    }

    // clear _12h flag if hour is <= 12
    if (config._a[HOUR] <= 12 &&
        getParsingFlags(config).bigHour === true &&
        config._a[HOUR] > 0) {
        getParsingFlags(config).bigHour = undefined;
    }

    getParsingFlags(config).parsedDateParts = config._a.slice(0);
    getParsingFlags(config).meridiem = config._meridiem;
    // handle meridiem
    config._a[HOUR] = meridiemFixWrap(config._locale, config._a[HOUR], config._meridiem);

    configFromArray(config);
    checkOverflow(config);
}


function meridiemFixWrap (locale, hour, meridiem) {
    var isPm;

    if (meridiem == null) {
        // nothing to do
        return hour;
    }
    if (locale.meridiemHour != null) {
        return locale.meridiemHour(hour, meridiem);
    } else if (locale.isPM != null) {
        // Fallback
        isPm = locale.isPM(meridiem);
        if (isPm && hour < 12) {
            hour += 12;
        }
        if (!isPm && hour === 12) {
            hour = 0;
        }
        return hour;
    } else {
        // this is not supposed to happen
        return hour;
    }
}

// date from string and array of format strings
function configFromStringAndArray(config) {
    var tempConfig,
        bestMoment,

        scoreToBeat,
        i,
        currentScore;

    if (config._f.length === 0) {
        getParsingFlags(config).invalidFormat = true;
        config._d = new Date(NaN);
        return;
    }

    for (i = 0; i < config._f.length; i++) {
        currentScore = 0;
        tempConfig = copyConfig({}, config);
        if (config._useUTC != null) {
            tempConfig._useUTC = config._useUTC;
        }
        tempConfig._f = config._f[i];
        configFromStringAndFormat(tempConfig);

        if (!isValid(tempConfig)) {
            continue;
        }

        // if there is any input that was not parsed add a penalty for that format
        currentScore += getParsingFlags(tempConfig).charsLeftOver;

        //or tokens
        currentScore += getParsingFlags(tempConfig).unusedTokens.length * 10;

        getParsingFlags(tempConfig).score = currentScore;

        if (scoreToBeat == null || currentScore < scoreToBeat) {
            scoreToBeat = currentScore;
            bestMoment = tempConfig;
        }
    }

    extend(config, bestMoment || tempConfig);
}

function configFromObject(config) {
    if (config._d) {
        return;
    }

    var i = normalizeObjectUnits(config._i);
    config._a = map([i.year, i.month, i.day || i.date, i.hour, i.minute, i.second, i.millisecond], function (obj) {
        return obj && parseInt(obj, 10);
    });

    configFromArray(config);
}

function createFromConfig (config) {
    var res = new Moment(checkOverflow(prepareConfig(config)));
    if (res._nextDay) {
        // Adding is smart enough around DST
        res.add(1, 'd');
        res._nextDay = undefined;
    }

    return res;
}

function prepareConfig (config) {
    var input = config._i,
        format = config._f;

    config._locale = config._locale || getLocale(config._l);

    if (input === null || (format === undefined && input === '')) {
        return createInvalid({nullInput: true});
    }

    if (typeof input === 'string') {
        config._i = input = config._locale.preparse(input);
    }

    if (isMoment(input)) {
        return new Moment(checkOverflow(input));
    } else if (isDate(input)) {
        config._d = input;
    } else if (isArray(format)) {
        configFromStringAndArray(config);
    } else if (format) {
        configFromStringAndFormat(config);
    }  else {
        configFromInput(config);
    }

    if (!isValid(config)) {
        config._d = null;
    }

    return config;
}

function configFromInput(config) {
    var input = config._i;
    if (input === undefined) {
        config._d = new Date(hooks.now());
    } else if (isDate(input)) {
        config._d = new Date(input.valueOf());
    } else if (typeof input === 'string') {
        configFromString(config);
    } else if (isArray(input)) {
        config._a = map(input.slice(0), function (obj) {
            return parseInt(obj, 10);
        });
        configFromArray(config);
    } else if (typeof(input) === 'object') {
        configFromObject(config);
    } else if (isNumber(input)) {
        // from milliseconds
        config._d = new Date(input);
    } else {
        hooks.createFromInputFallback(config);
    }
}

function createLocalOrUTC (input, format, locale, strict, isUTC) {
    var c = {};

    if (locale === true || locale === false) {
        strict = locale;
        locale = undefined;
    }

    if ((isObject(input) && isObjectEmpty(input)) ||
            (isArray(input) && input.length === 0)) {
        input = undefined;
    }
    // object construction must be done this way.
    // https://github.com/moment/moment/issues/1423
    c._isAMomentObject = true;
    c._useUTC = c._isUTC = isUTC;
    c._l = locale;
    c._i = input;
    c._f = format;
    c._strict = strict;

    return createFromConfig(c);
}

function createLocal (input, format, locale, strict) {
    return createLocalOrUTC(input, format, locale, strict, false);
}

var prototypeMin = deprecate(
    'moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/',
    function () {
        var other = createLocal.apply(null, arguments);
        if (this.isValid() && other.isValid()) {
            return other < this ? this : other;
        } else {
            return createInvalid();
        }
    }
);

var prototypeMax = deprecate(
    'moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/',
    function () {
        var other = createLocal.apply(null, arguments);
        if (this.isValid() && other.isValid()) {
            return other > this ? this : other;
        } else {
            return createInvalid();
        }
    }
);

// Pick a moment m from moments so that m[fn](other) is true for all
// other. This relies on the function fn to be transitive.
//
// moments should either be an array of moment objects or an array, whose
// first element is an array of moment objects.
function pickBy(fn, moments) {
    var res, i;
    if (moments.length === 1 && isArray(moments[0])) {
        moments = moments[0];
    }
    if (!moments.length) {
        return createLocal();
    }
    res = moments[0];
    for (i = 1; i < moments.length; ++i) {
        if (!moments[i].isValid() || moments[i][fn](res)) {
            res = moments[i];
        }
    }
    return res;
}

// TODO: Use [].sort instead?
function min () {
    var args = [].slice.call(arguments, 0);

    return pickBy('isBefore', args);
}

function max () {
    var args = [].slice.call(arguments, 0);

    return pickBy('isAfter', args);
}

var now = function () {
    return Date.now ? Date.now() : +(new Date());
};

function Duration (duration) {
    var normalizedInput = normalizeObjectUnits(duration),
        years = normalizedInput.year || 0,
        quarters = normalizedInput.quarter || 0,
        months = normalizedInput.month || 0,
        weeks = normalizedInput.week || 0,
        days = normalizedInput.day || 0,
        hours = normalizedInput.hour || 0,
        minutes = normalizedInput.minute || 0,
        seconds = normalizedInput.second || 0,
        milliseconds = normalizedInput.millisecond || 0;

    // representation for dateAddRemove
    this._milliseconds = +milliseconds +
        seconds * 1e3 + // 1000
        minutes * 6e4 + // 1000 * 60
        hours * 1000 * 60 * 60; //using 1000 * 60 * 60 instead of 36e5 to avoid floating point rounding errors https://github.com/moment/moment/issues/2978
    // Because of dateAddRemove treats 24 hours as different from a
    // day when working around DST, we need to store them separately
    this._days = +days +
        weeks * 7;
    // It is impossible translate months into days without knowing
    // which months you are are talking about, so we have to store
    // it separately.
    this._months = +months +
        quarters * 3 +
        years * 12;

    this._data = {};

    this._locale = getLocale();

    this._bubble();
}

function isDuration (obj) {
    return obj instanceof Duration;
}

function absRound (number) {
    if (number < 0) {
        return Math.round(-1 * number) * -1;
    } else {
        return Math.round(number);
    }
}

// FORMATTING

function offset (token, separator) {
    addFormatToken(token, 0, 0, function () {
        var offset = this.utcOffset();
        var sign = '+';
        if (offset < 0) {
            offset = -offset;
            sign = '-';
        }
        return sign + zeroFill(~~(offset / 60), 2) + separator + zeroFill(~~(offset) % 60, 2);
    });
}

offset('Z', ':');
offset('ZZ', '');

// PARSING

addRegexToken('Z',  matchShortOffset);
addRegexToken('ZZ', matchShortOffset);
addParseToken(['Z', 'ZZ'], function (input, array, config) {
    config._useUTC = true;
    config._tzm = offsetFromString(matchShortOffset, input);
});

// HELPERS

// timezone chunker
// '+10:00' > ['10',  '00']
// '-1530'  > ['-15', '30']
var chunkOffset = /([\+\-]|\d\d)/gi;

function offsetFromString(matcher, string) {
    var matches = (string || '').match(matcher);

    if (matches === null) {
        return null;
    }

    var chunk   = matches[matches.length - 1] || [];
    var parts   = (chunk + '').match(chunkOffset) || ['-', 0, 0];
    var minutes = +(parts[1] * 60) + toInt(parts[2]);

    return minutes === 0 ?
      0 :
      parts[0] === '+' ? minutes : -minutes;
}

// Return a moment from input, that is local/utc/zone equivalent to model.
function cloneWithOffset(input, model) {
    var res, diff;
    if (model._isUTC) {
        res = model.clone();
        diff = (isMoment(input) || isDate(input) ? input.valueOf() : createLocal(input).valueOf()) - res.valueOf();
        // Use low-level api, because this fn is low-level api.
        res._d.setTime(res._d.valueOf() + diff);
        hooks.updateOffset(res, false);
        return res;
    } else {
        return createLocal(input).local();
    }
}

function getDateOffset (m) {
    // On Firefox.24 Date#getTimezoneOffset returns a floating point.
    // https://github.com/moment/moment/pull/1871
    return -Math.round(m._d.getTimezoneOffset() / 15) * 15;
}

// HOOKS

// This function will be called whenever a moment is mutated.
// It is intended to keep the offset in sync with the timezone.
hooks.updateOffset = function () {};

// MOMENTS

// keepLocalTime = true means only change the timezone, without
// affecting the local hour. So 5:31:26 +0300 --[utcOffset(2, true)]-->
// 5:31:26 +0200 It is possible that 5:31:26 doesn't exist with offset
// +0200, so we adjust the time as needed, to be valid.
//
// Keeping the time actually adds/subtracts (one hour)
// from the actual represented time. That is why we call updateOffset
// a second time. In case it wants us to change the offset again
// _changeInProgress == true case, then we have to adjust, because
// there is no such time in the given timezone.
function getSetOffset (input, keepLocalTime) {
    var offset = this._offset || 0,
        localAdjust;
    if (!this.isValid()) {
        return input != null ? this : NaN;
    }
    if (input != null) {
        if (typeof input === 'string') {
            input = offsetFromString(matchShortOffset, input);
            if (input === null) {
                return this;
            }
        } else if (Math.abs(input) < 16) {
            input = input * 60;
        }
        if (!this._isUTC && keepLocalTime) {
            localAdjust = getDateOffset(this);
        }
        this._offset = input;
        this._isUTC = true;
        if (localAdjust != null) {
            this.add(localAdjust, 'm');
        }
        if (offset !== input) {
            if (!keepLocalTime || this._changeInProgress) {
                addSubtract(this, createDuration(input - offset, 'm'), 1, false);
            } else if (!this._changeInProgress) {
                this._changeInProgress = true;
                hooks.updateOffset(this, true);
                this._changeInProgress = null;
            }
        }
        return this;
    } else {
        return this._isUTC ? offset : getDateOffset(this);
    }
}

function getSetZone (input, keepLocalTime) {
    if (input != null) {
        if (typeof input !== 'string') {
            input = -input;
        }

        this.utcOffset(input, keepLocalTime);

        return this;
    } else {
        return -this.utcOffset();
    }
}

function setOffsetToUTC (keepLocalTime) {
    return this.utcOffset(0, keepLocalTime);
}

function setOffsetToLocal (keepLocalTime) {
    if (this._isUTC) {
        this.utcOffset(0, keepLocalTime);
        this._isUTC = false;

        if (keepLocalTime) {
            this.subtract(getDateOffset(this), 'm');
        }
    }
    return this;
}

function setOffsetToParsedOffset () {
    if (this._tzm != null) {
        this.utcOffset(this._tzm);
    } else if (typeof this._i === 'string') {
        var tZone = offsetFromString(matchOffset, this._i);
        if (tZone != null) {
            this.utcOffset(tZone);
        }
        else {
            this.utcOffset(0, true);
        }
    }
    return this;
}

function hasAlignedHourOffset (input) {
    if (!this.isValid()) {
        return false;
    }
    input = input ? createLocal(input).utcOffset() : 0;

    return (this.utcOffset() - input) % 60 === 0;
}

function isDaylightSavingTime () {
    return (
        this.utcOffset() > this.clone().month(0).utcOffset() ||
        this.utcOffset() > this.clone().month(5).utcOffset()
    );
}

function isDaylightSavingTimeShifted () {
    if (!isUndefined(this._isDSTShifted)) {
        return this._isDSTShifted;
    }

    var c = {};

    copyConfig(c, this);
    c = prepareConfig(c);

    if (c._a) {
        var other = c._isUTC ? createUTC(c._a) : createLocal(c._a);
        this._isDSTShifted = this.isValid() &&
            compareArrays(c._a, other.toArray()) > 0;
    } else {
        this._isDSTShifted = false;
    }

    return this._isDSTShifted;
}

function isLocal () {
    return this.isValid() ? !this._isUTC : false;
}

function isUtcOffset () {
    return this.isValid() ? this._isUTC : false;
}

function isUtc () {
    return this.isValid() ? this._isUTC && this._offset === 0 : false;
}

// ASP.NET json date format regex
var aspNetRegex = /^(\-)?(?:(\d*)[. ])?(\d+)\:(\d+)(?:\:(\d+)(\.\d*)?)?$/;

// from http://docs.closure-library.googlecode.com/git/closure_goog_date_date.js.source.html
// somewhat more in line with 4.4.3.2 2004 spec, but allows decimal anywhere
// and further modified to allow for strings containing both week and day
var isoRegex = /^(-)?P(?:(-?[0-9,.]*)Y)?(?:(-?[0-9,.]*)M)?(?:(-?[0-9,.]*)W)?(?:(-?[0-9,.]*)D)?(?:T(?:(-?[0-9,.]*)H)?(?:(-?[0-9,.]*)M)?(?:(-?[0-9,.]*)S)?)?$/;

function createDuration (input, key) {
    var duration = input,
        // matching against regexp is expensive, do it on demand
        match = null,
        sign,
        ret,
        diffRes;

    if (isDuration(input)) {
        duration = {
            ms : input._milliseconds,
            d  : input._days,
            M  : input._months
        };
    } else if (isNumber(input)) {
        duration = {};
        if (key) {
            duration[key] = input;
        } else {
            duration.milliseconds = input;
        }
    } else if (!!(match = aspNetRegex.exec(input))) {
        sign = (match[1] === '-') ? -1 : 1;
        duration = {
            y  : 0,
            d  : toInt(match[DATE])                         * sign,
            h  : toInt(match[HOUR])                         * sign,
            m  : toInt(match[MINUTE])                       * sign,
            s  : toInt(match[SECOND])                       * sign,
            ms : toInt(absRound(match[MILLISECOND] * 1000)) * sign // the millisecond decimal point is included in the match
        };
    } else if (!!(match = isoRegex.exec(input))) {
        sign = (match[1] === '-') ? -1 : 1;
        duration = {
            y : parseIso(match[2], sign),
            M : parseIso(match[3], sign),
            w : parseIso(match[4], sign),
            d : parseIso(match[5], sign),
            h : parseIso(match[6], sign),
            m : parseIso(match[7], sign),
            s : parseIso(match[8], sign)
        };
    } else if (duration == null) {// checks for null or undefined
        duration = {};
    } else if (typeof duration === 'object' && ('from' in duration || 'to' in duration)) {
        diffRes = momentsDifference(createLocal(duration.from), createLocal(duration.to));

        duration = {};
        duration.ms = diffRes.milliseconds;
        duration.M = diffRes.months;
    }

    ret = new Duration(duration);

    if (isDuration(input) && hasOwnProp(input, '_locale')) {
        ret._locale = input._locale;
    }

    return ret;
}

createDuration.fn = Duration.prototype;

function parseIso (inp, sign) {
    // We'd normally use ~~inp for this, but unfortunately it also
    // converts floats to ints.
    // inp may be undefined, so careful calling replace on it.
    var res = inp && parseFloat(inp.replace(',', '.'));
    // apply sign while we're at it
    return (isNaN(res) ? 0 : res) * sign;
}

function positiveMomentsDifference(base, other) {
    var res = {milliseconds: 0, months: 0};

    res.months = other.month() - base.month() +
        (other.year() - base.year()) * 12;
    if (base.clone().add(res.months, 'M').isAfter(other)) {
        --res.months;
    }

    res.milliseconds = +other - +(base.clone().add(res.months, 'M'));

    return res;
}

function momentsDifference(base, other) {
    var res;
    if (!(base.isValid() && other.isValid())) {
        return {milliseconds: 0, months: 0};
    }

    other = cloneWithOffset(other, base);
    if (base.isBefore(other)) {
        res = positiveMomentsDifference(base, other);
    } else {
        res = positiveMomentsDifference(other, base);
        res.milliseconds = -res.milliseconds;
        res.months = -res.months;
    }

    return res;
}

// TODO: remove 'name' arg after deprecation is removed
function createAdder(direction, name) {
    return function (val, period) {
        var dur, tmp;
        //invert the arguments, but complain about it
        if (period !== null && !isNaN(+period)) {
            deprecateSimple(name, 'moment().' + name  + '(period, number) is deprecated. Please use moment().' + name + '(number, period). ' +
            'See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info.');
            tmp = val; val = period; period = tmp;
        }

        val = typeof val === 'string' ? +val : val;
        dur = createDuration(val, period);
        addSubtract(this, dur, direction);
        return this;
    };
}

function addSubtract (mom, duration, isAdding, updateOffset) {
    var milliseconds = duration._milliseconds,
        days = absRound(duration._days),
        months = absRound(duration._months);

    if (!mom.isValid()) {
        // No op
        return;
    }

    updateOffset = updateOffset == null ? true : updateOffset;

    if (milliseconds) {
        mom._d.setTime(mom._d.valueOf() + milliseconds * isAdding);
    }
    if (days) {
        set$1(mom, 'Date', get(mom, 'Date') + days * isAdding);
    }
    if (months) {
        setMonth(mom, get(mom, 'Month') + months * isAdding);
    }
    if (updateOffset) {
        hooks.updateOffset(mom, days || months);
    }
}

var add      = createAdder(1, 'add');
var subtract = createAdder(-1, 'subtract');

function getCalendarFormat(myMoment, now) {
    var diff = myMoment.diff(now, 'days', true);
    return diff < -6 ? 'sameElse' :
            diff < -1 ? 'lastWeek' :
            diff < 0 ? 'lastDay' :
            diff < 1 ? 'sameDay' :
            diff < 2 ? 'nextDay' :
            diff < 7 ? 'nextWeek' : 'sameElse';
}

function calendar$1 (time, formats) {
    // We want to compare the start of today, vs this.
    // Getting start-of-today depends on whether we're local/utc/offset or not.
    var now = time || createLocal(),
        sod = cloneWithOffset(now, this).startOf('day'),
        format = hooks.calendarFormat(this, sod) || 'sameElse';

    var output = formats && (isFunction(formats[format]) ? formats[format].call(this, now) : formats[format]);

    return this.format(output || this.localeData().calendar(format, this, createLocal(now)));
}

function clone () {
    return new Moment(this);
}

function isAfter (input, units) {
    var localInput = isMoment(input) ? input : createLocal(input);
    if (!(this.isValid() && localInput.isValid())) {
        return false;
    }
    units = normalizeUnits(!isUndefined(units) ? units : 'millisecond');
    if (units === 'millisecond') {
        return this.valueOf() > localInput.valueOf();
    } else {
        return localInput.valueOf() < this.clone().startOf(units).valueOf();
    }
}

function isBefore (input, units) {
    var localInput = isMoment(input) ? input : createLocal(input);
    if (!(this.isValid() && localInput.isValid())) {
        return false;
    }
    units = normalizeUnits(!isUndefined(units) ? units : 'millisecond');
    if (units === 'millisecond') {
        return this.valueOf() < localInput.valueOf();
    } else {
        return this.clone().endOf(units).valueOf() < localInput.valueOf();
    }
}

function isBetween (from, to, units, inclusivity) {
    inclusivity = inclusivity || '()';
    return (inclusivity[0] === '(' ? this.isAfter(from, units) : !this.isBefore(from, units)) &&
        (inclusivity[1] === ')' ? this.isBefore(to, units) : !this.isAfter(to, units));
}

function isSame (input, units) {
    var localInput = isMoment(input) ? input : createLocal(input),
        inputMs;
    if (!(this.isValid() && localInput.isValid())) {
        return false;
    }
    units = normalizeUnits(units || 'millisecond');
    if (units === 'millisecond') {
        return this.valueOf() === localInput.valueOf();
    } else {
        inputMs = localInput.valueOf();
        return this.clone().startOf(units).valueOf() <= inputMs && inputMs <= this.clone().endOf(units).valueOf();
    }
}

function isSameOrAfter (input, units) {
    return this.isSame(input, units) || this.isAfter(input,units);
}

function isSameOrBefore (input, units) {
    return this.isSame(input, units) || this.isBefore(input,units);
}

function diff (input, units, asFloat) {
    var that,
        zoneDelta,
        delta, output;

    if (!this.isValid()) {
        return NaN;
    }

    that = cloneWithOffset(input, this);

    if (!that.isValid()) {
        return NaN;
    }

    zoneDelta = (that.utcOffset() - this.utcOffset()) * 6e4;

    units = normalizeUnits(units);

    if (units === 'year' || units === 'month' || units === 'quarter') {
        output = monthDiff(this, that);
        if (units === 'quarter') {
            output = output / 3;
        } else if (units === 'year') {
            output = output / 12;
        }
    } else {
        delta = this - that;
        output = units === 'second' ? delta / 1e3 : // 1000
            units === 'minute' ? delta / 6e4 : // 1000 * 60
            units === 'hour' ? delta / 36e5 : // 1000 * 60 * 60
            units === 'day' ? (delta - zoneDelta) / 864e5 : // 1000 * 60 * 60 * 24, negate dst
            units === 'week' ? (delta - zoneDelta) / 6048e5 : // 1000 * 60 * 60 * 24 * 7, negate dst
            delta;
    }
    return asFloat ? output : absFloor(output);
}

function monthDiff (a, b) {
    // difference in months
    var wholeMonthDiff = ((b.year() - a.year()) * 12) + (b.month() - a.month()),
        // b is in (anchor - 1 month, anchor + 1 month)
        anchor = a.clone().add(wholeMonthDiff, 'months'),
        anchor2, adjust;

    if (b - anchor < 0) {
        anchor2 = a.clone().add(wholeMonthDiff - 1, 'months');
        // linear across the month
        adjust = (b - anchor) / (anchor - anchor2);
    } else {
        anchor2 = a.clone().add(wholeMonthDiff + 1, 'months');
        // linear across the month
        adjust = (b - anchor) / (anchor2 - anchor);
    }

    //check for negative zero, return zero if negative zero
    return -(wholeMonthDiff + adjust) || 0;
}

hooks.defaultFormat = 'YYYY-MM-DDTHH:mm:ssZ';
hooks.defaultFormatUtc = 'YYYY-MM-DDTHH:mm:ss[Z]';

function toString () {
    return this.clone().locale('en').format('ddd MMM DD YYYY HH:mm:ss [GMT]ZZ');
}

function toISOString () {
    var m = this.clone().utc();
    if (0 < m.year() && m.year() <= 9999) {
        if (isFunction(Date.prototype.toISOString)) {
            // native implementation is ~50x faster, use it when we can
            return this.toDate().toISOString();
        } else {
            return formatMoment(m, 'YYYY-MM-DD[T]HH:mm:ss.SSS[Z]');
        }
    } else {
        return formatMoment(m, 'YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]');
    }
}

/**
 * Return a human readable representation of a moment that can
 * also be evaluated to get a new moment which is the same
 *
 * @link https://nodejs.org/dist/latest/docs/api/util.html#util_custom_inspect_function_on_objects
 */
function inspect () {
    if (!this.isValid()) {
        return 'moment.invalid(/* ' + this._i + ' */)';
    }
    var func = 'moment';
    var zone = '';
    if (!this.isLocal()) {
        func = this.utcOffset() === 0 ? 'moment.utc' : 'moment.parseZone';
        zone = 'Z';
    }
    var prefix = '[' + func + '("]';
    var year = (0 < this.year() && this.year() <= 9999) ? 'YYYY' : 'YYYYYY';
    var datetime = '-MM-DD[T]HH:mm:ss.SSS';
    var suffix = zone + '[")]';

    return this.format(prefix + year + datetime + suffix);
}

function format (inputString) {
    if (!inputString) {
        inputString = this.isUtc() ? hooks.defaultFormatUtc : hooks.defaultFormat;
    }
    var output = formatMoment(this, inputString);
    return this.localeData().postformat(output);
}

function from (time, withoutSuffix) {
    if (this.isValid() &&
            ((isMoment(time) && time.isValid()) ||
             createLocal(time).isValid())) {
        return createDuration({to: this, from: time}).locale(this.locale()).humanize(!withoutSuffix);
    } else {
        return this.localeData().invalidDate();
    }
}

function fromNow (withoutSuffix) {
    return this.from(createLocal(), withoutSuffix);
}

function to (time, withoutSuffix) {
    if (this.isValid() &&
            ((isMoment(time) && time.isValid()) ||
             createLocal(time).isValid())) {
        return createDuration({from: this, to: time}).locale(this.locale()).humanize(!withoutSuffix);
    } else {
        return this.localeData().invalidDate();
    }
}

function toNow (withoutSuffix) {
    return this.to(createLocal(), withoutSuffix);
}

// If passed a locale key, it will set the locale for this
// instance.  Otherwise, it will return the locale configuration
// variables for this instance.
function locale (key) {
    var newLocaleData;

    if (key === undefined) {
        return this._locale._abbr;
    } else {
        newLocaleData = getLocale(key);
        if (newLocaleData != null) {
            this._locale = newLocaleData;
        }
        return this;
    }
}

var lang = deprecate(
    'moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.',
    function (key) {
        if (key === undefined) {
            return this.localeData();
        } else {
            return this.locale(key);
        }
    }
);

function localeData () {
    return this._locale;
}

function startOf (units) {
    units = normalizeUnits(units);
    // the following switch intentionally omits break keywords
    // to utilize falling through the cases.
    switch (units) {
        case 'year':
            this.month(0);
            /* falls through */
        case 'quarter':
        case 'month':
            this.date(1);
            /* falls through */
        case 'week':
        case 'isoWeek':
        case 'day':
        case 'date':
            this.hours(0);
            /* falls through */
        case 'hour':
            this.minutes(0);
            /* falls through */
        case 'minute':
            this.seconds(0);
            /* falls through */
        case 'second':
            this.milliseconds(0);
    }

    // weeks are a special case
    if (units === 'week') {
        this.weekday(0);
    }
    if (units === 'isoWeek') {
        this.isoWeekday(1);
    }

    // quarters are also special
    if (units === 'quarter') {
        this.month(Math.floor(this.month() / 3) * 3);
    }

    return this;
}

function endOf (units) {
    units = normalizeUnits(units);
    if (units === undefined || units === 'millisecond') {
        return this;
    }

    // 'date' is an alias for 'day', so it should be considered as such.
    if (units === 'date') {
        units = 'day';
    }

    return this.startOf(units).add(1, (units === 'isoWeek' ? 'week' : units)).subtract(1, 'ms');
}

function valueOf () {
    return this._d.valueOf() - ((this._offset || 0) * 60000);
}

function unix () {
    return Math.floor(this.valueOf() / 1000);
}

function toDate () {
    return new Date(this.valueOf());
}

function toArray () {
    var m = this;
    return [m.year(), m.month(), m.date(), m.hour(), m.minute(), m.second(), m.millisecond()];
}

function toObject () {
    var m = this;
    return {
        years: m.year(),
        months: m.month(),
        date: m.date(),
        hours: m.hours(),
        minutes: m.minutes(),
        seconds: m.seconds(),
        milliseconds: m.milliseconds()
    };
}

function toJSON () {
    // new Date(NaN).toJSON() === null
    return this.isValid() ? this.toISOString() : null;
}

function isValid$1 () {
    return isValid(this);
}

function parsingFlags () {
    return extend({}, getParsingFlags(this));
}

function invalidAt () {
    return getParsingFlags(this).overflow;
}

function creationData() {
    return {
        input: this._i,
        format: this._f,
        locale: this._locale,
        isUTC: this._isUTC,
        strict: this._strict
    };
}

// FORMATTING

addFormatToken(0, ['gg', 2], 0, function () {
    return this.weekYear() % 100;
});

addFormatToken(0, ['GG', 2], 0, function () {
    return this.isoWeekYear() % 100;
});

function addWeekYearFormatToken (token, getter) {
    addFormatToken(0, [token, token.length], 0, getter);
}

addWeekYearFormatToken('gggg',     'weekYear');
addWeekYearFormatToken('ggggg',    'weekYear');
addWeekYearFormatToken('GGGG',  'isoWeekYear');
addWeekYearFormatToken('GGGGG', 'isoWeekYear');

// ALIASES

addUnitAlias('weekYear', 'gg');
addUnitAlias('isoWeekYear', 'GG');

// PRIORITY

addUnitPriority('weekYear', 1);
addUnitPriority('isoWeekYear', 1);


// PARSING

addRegexToken('G',      matchSigned);
addRegexToken('g',      matchSigned);
addRegexToken('GG',     match1to2, match2);
addRegexToken('gg',     match1to2, match2);
addRegexToken('GGGG',   match1to4, match4);
addRegexToken('gggg',   match1to4, match4);
addRegexToken('GGGGG',  match1to6, match6);
addRegexToken('ggggg',  match1to6, match6);

addWeekParseToken(['gggg', 'ggggg', 'GGGG', 'GGGGG'], function (input, week, config, token) {
    week[token.substr(0, 2)] = toInt(input);
});

addWeekParseToken(['gg', 'GG'], function (input, week, config, token) {
    week[token] = hooks.parseTwoDigitYear(input);
});

// MOMENTS

function getSetWeekYear (input) {
    return getSetWeekYearHelper.call(this,
            input,
            this.week(),
            this.weekday(),
            this.localeData()._week.dow,
            this.localeData()._week.doy);
}

function getSetISOWeekYear (input) {
    return getSetWeekYearHelper.call(this,
            input, this.isoWeek(), this.isoWeekday(), 1, 4);
}

function getISOWeeksInYear () {
    return weeksInYear(this.year(), 1, 4);
}

function getWeeksInYear () {
    var weekInfo = this.localeData()._week;
    return weeksInYear(this.year(), weekInfo.dow, weekInfo.doy);
}

function getSetWeekYearHelper(input, week, weekday, dow, doy) {
    var weeksTarget;
    if (input == null) {
        return weekOfYear(this, dow, doy).year;
    } else {
        weeksTarget = weeksInYear(input, dow, doy);
        if (week > weeksTarget) {
            week = weeksTarget;
        }
        return setWeekAll.call(this, input, week, weekday, dow, doy);
    }
}

function setWeekAll(weekYear, week, weekday, dow, doy) {
    var dayOfYearData = dayOfYearFromWeeks(weekYear, week, weekday, dow, doy),
        date = createUTCDate(dayOfYearData.year, 0, dayOfYearData.dayOfYear);

    this.year(date.getUTCFullYear());
    this.month(date.getUTCMonth());
    this.date(date.getUTCDate());
    return this;
}

// FORMATTING

addFormatToken('Q', 0, 'Qo', 'quarter');

// ALIASES

addUnitAlias('quarter', 'Q');

// PRIORITY

addUnitPriority('quarter', 7);

// PARSING

addRegexToken('Q', match1);
addParseToken('Q', function (input, array) {
    array[MONTH] = (toInt(input) - 1) * 3;
});

// MOMENTS

function getSetQuarter (input) {
    return input == null ? Math.ceil((this.month() + 1) / 3) : this.month((input - 1) * 3 + this.month() % 3);
}

// FORMATTING

addFormatToken('D', ['DD', 2], 'Do', 'date');

// ALIASES

addUnitAlias('date', 'D');

// PRIOROITY
addUnitPriority('date', 9);

// PARSING

addRegexToken('D',  match1to2);
addRegexToken('DD', match1to2, match2);
addRegexToken('Do', function (isStrict, locale) {
    return isStrict ? locale._ordinalParse : locale._ordinalParseLenient;
});

addParseToken(['D', 'DD'], DATE);
addParseToken('Do', function (input, array) {
    array[DATE] = toInt(input.match(match1to2)[0], 10);
});

// MOMENTS

var getSetDayOfMonth = makeGetSet('Date', true);

// FORMATTING

addFormatToken('DDD', ['DDDD', 3], 'DDDo', 'dayOfYear');

// ALIASES

addUnitAlias('dayOfYear', 'DDD');

// PRIORITY
addUnitPriority('dayOfYear', 4);

// PARSING

addRegexToken('DDD',  match1to3);
addRegexToken('DDDD', match3);
addParseToken(['DDD', 'DDDD'], function (input, array, config) {
    config._dayOfYear = toInt(input);
});

// HELPERS

// MOMENTS

function getSetDayOfYear (input) {
    var dayOfYear = Math.round((this.clone().startOf('day') - this.clone().startOf('year')) / 864e5) + 1;
    return input == null ? dayOfYear : this.add((input - dayOfYear), 'd');
}

// FORMATTING

addFormatToken('m', ['mm', 2], 0, 'minute');

// ALIASES

addUnitAlias('minute', 'm');

// PRIORITY

addUnitPriority('minute', 14);

// PARSING

addRegexToken('m',  match1to2);
addRegexToken('mm', match1to2, match2);
addParseToken(['m', 'mm'], MINUTE);

// MOMENTS

var getSetMinute = makeGetSet('Minutes', false);

// FORMATTING

addFormatToken('s', ['ss', 2], 0, 'second');

// ALIASES

addUnitAlias('second', 's');

// PRIORITY

addUnitPriority('second', 15);

// PARSING

addRegexToken('s',  match1to2);
addRegexToken('ss', match1to2, match2);
addParseToken(['s', 'ss'], SECOND);

// MOMENTS

var getSetSecond = makeGetSet('Seconds', false);

// FORMATTING

addFormatToken('S', 0, 0, function () {
    return ~~(this.millisecond() / 100);
});

addFormatToken(0, ['SS', 2], 0, function () {
    return ~~(this.millisecond() / 10);
});

addFormatToken(0, ['SSS', 3], 0, 'millisecond');
addFormatToken(0, ['SSSS', 4], 0, function () {
    return this.millisecond() * 10;
});
addFormatToken(0, ['SSSSS', 5], 0, function () {
    return this.millisecond() * 100;
});
addFormatToken(0, ['SSSSSS', 6], 0, function () {
    return this.millisecond() * 1000;
});
addFormatToken(0, ['SSSSSSS', 7], 0, function () {
    return this.millisecond() * 10000;
});
addFormatToken(0, ['SSSSSSSS', 8], 0, function () {
    return this.millisecond() * 100000;
});
addFormatToken(0, ['SSSSSSSSS', 9], 0, function () {
    return this.millisecond() * 1000000;
});


// ALIASES

addUnitAlias('millisecond', 'ms');

// PRIORITY

addUnitPriority('millisecond', 16);

// PARSING

addRegexToken('S',    match1to3, match1);
addRegexToken('SS',   match1to3, match2);
addRegexToken('SSS',  match1to3, match3);

var token;
for (token = 'SSSS'; token.length <= 9; token += 'S') {
    addRegexToken(token, matchUnsigned);
}

function parseMs(input, array) {
    array[MILLISECOND] = toInt(('0.' + input) * 1000);
}

for (token = 'S'; token.length <= 9; token += 'S') {
    addParseToken(token, parseMs);
}
// MOMENTS

var getSetMillisecond = makeGetSet('Milliseconds', false);

// FORMATTING

addFormatToken('z',  0, 0, 'zoneAbbr');
addFormatToken('zz', 0, 0, 'zoneName');

// MOMENTS

function getZoneAbbr () {
    return this._isUTC ? 'UTC' : '';
}

function getZoneName () {
    return this._isUTC ? 'Coordinated Universal Time' : '';
}

var proto = Moment.prototype;

proto.add               = add;
proto.calendar          = calendar$1;
proto.clone             = clone;
proto.diff              = diff;
proto.endOf             = endOf;
proto.format            = format;
proto.from              = from;
proto.fromNow           = fromNow;
proto.to                = to;
proto.toNow             = toNow;
proto.get               = stringGet;
proto.invalidAt         = invalidAt;
proto.isAfter           = isAfter;
proto.isBefore          = isBefore;
proto.isBetween         = isBetween;
proto.isSame            = isSame;
proto.isSameOrAfter     = isSameOrAfter;
proto.isSameOrBefore    = isSameOrBefore;
proto.isValid           = isValid$1;
proto.lang              = lang;
proto.locale            = locale;
proto.localeData        = localeData;
proto.max               = prototypeMax;
proto.min               = prototypeMin;
proto.parsingFlags      = parsingFlags;
proto.set               = stringSet;
proto.startOf           = startOf;
proto.subtract          = subtract;
proto.toArray           = toArray;
proto.toObject          = toObject;
proto.toDate            = toDate;
proto.toISOString       = toISOString;
proto.inspect           = inspect;
proto.toJSON            = toJSON;
proto.toString          = toString;
proto.unix              = unix;
proto.valueOf           = valueOf;
proto.creationData      = creationData;

// Year
proto.year       = getSetYear;
proto.isLeapYear = getIsLeapYear;

// Week Year
proto.weekYear    = getSetWeekYear;
proto.isoWeekYear = getSetISOWeekYear;

// Quarter
proto.quarter = proto.quarters = getSetQuarter;

// Month
proto.month       = getSetMonth;
proto.daysInMonth = getDaysInMonth;

// Week
proto.week           = proto.weeks        = getSetWeek;
proto.isoWeek        = proto.isoWeeks     = getSetISOWeek;
proto.weeksInYear    = getWeeksInYear;
proto.isoWeeksInYear = getISOWeeksInYear;

// Day
proto.date       = getSetDayOfMonth;
proto.day        = proto.days             = getSetDayOfWeek;
proto.weekday    = getSetLocaleDayOfWeek;
proto.isoWeekday = getSetISODayOfWeek;
proto.dayOfYear  = getSetDayOfYear;

// Hour
proto.hour = proto.hours = getSetHour;

// Minute
proto.minute = proto.minutes = getSetMinute;

// Second
proto.second = proto.seconds = getSetSecond;

// Millisecond
proto.millisecond = proto.milliseconds = getSetMillisecond;

// Offset
proto.utcOffset            = getSetOffset;
proto.utc                  = setOffsetToUTC;
proto.local                = setOffsetToLocal;
proto.parseZone            = setOffsetToParsedOffset;
proto.hasAlignedHourOffset = hasAlignedHourOffset;
proto.isDST                = isDaylightSavingTime;
proto.isLocal              = isLocal;
proto.isUtcOffset          = isUtcOffset;
proto.isUtc                = isUtc;
proto.isUTC                = isUtc;

// Timezone
proto.zoneAbbr = getZoneAbbr;
proto.zoneName = getZoneName;

// Deprecations
proto.dates  = deprecate('dates accessor is deprecated. Use date instead.', getSetDayOfMonth);
proto.months = deprecate('months accessor is deprecated. Use month instead', getSetMonth);
proto.years  = deprecate('years accessor is deprecated. Use year instead', getSetYear);
proto.zone   = deprecate('moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/', getSetZone);
proto.isDSTShifted = deprecate('isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information', isDaylightSavingTimeShifted);

function createUnix (input) {
    return createLocal(input * 1000);
}

function createInZone () {
    return createLocal.apply(null, arguments).parseZone();
}

function preParsePostFormat (string) {
    return string;
}

var proto$1 = Locale.prototype;

proto$1.calendar        = calendar;
proto$1.longDateFormat  = longDateFormat;
proto$1.invalidDate     = invalidDate;
proto$1.ordinal         = ordinal;
proto$1.preparse        = preParsePostFormat;
proto$1.postformat      = preParsePostFormat;
proto$1.relativeTime    = relativeTime;
proto$1.pastFuture      = pastFuture;
proto$1.set             = set;

// Month
proto$1.months            =        localeMonths;
proto$1.monthsShort       =        localeMonthsShort;
proto$1.monthsParse       =        localeMonthsParse;
proto$1.monthsRegex       = monthsRegex;
proto$1.monthsShortRegex  = monthsShortRegex;

// Week
proto$1.week = localeWeek;
proto$1.firstDayOfYear = localeFirstDayOfYear;
proto$1.firstDayOfWeek = localeFirstDayOfWeek;

// Day of Week
proto$1.weekdays       =        localeWeekdays;
proto$1.weekdaysMin    =        localeWeekdaysMin;
proto$1.weekdaysShort  =        localeWeekdaysShort;
proto$1.weekdaysParse  =        localeWeekdaysParse;

proto$1.weekdaysRegex       =        weekdaysRegex;
proto$1.weekdaysShortRegex  =        weekdaysShortRegex;
proto$1.weekdaysMinRegex    =        weekdaysMinRegex;

// Hours
proto$1.isPM = localeIsPM;
proto$1.meridiem = localeMeridiem;

function get$1 (format, index, field, setter) {
    var locale = getLocale();
    var utc = createUTC().set(setter, index);
    return locale[field](utc, format);
}

function listMonthsImpl (format, index, field) {
    if (isNumber(format)) {
        index = format;
        format = undefined;
    }

    format = format || '';

    if (index != null) {
        return get$1(format, index, field, 'month');
    }

    var i;
    var out = [];
    for (i = 0; i < 12; i++) {
        out[i] = get$1(format, i, field, 'month');
    }
    return out;
}

// ()
// (5)
// (fmt, 5)
// (fmt)
// (true)
// (true, 5)
// (true, fmt, 5)
// (true, fmt)
function listWeekdaysImpl (localeSorted, format, index, field) {
    if (typeof localeSorted === 'boolean') {
        if (isNumber(format)) {
            index = format;
            format = undefined;
        }

        format = format || '';
    } else {
        format = localeSorted;
        index = format;
        localeSorted = false;

        if (isNumber(format)) {
            index = format;
            format = undefined;
        }

        format = format || '';
    }

    var locale = getLocale(),
        shift = localeSorted ? locale._week.dow : 0;

    if (index != null) {
        return get$1(format, (index + shift) % 7, field, 'day');
    }

    var i;
    var out = [];
    for (i = 0; i < 7; i++) {
        out[i] = get$1(format, (i + shift) % 7, field, 'day');
    }
    return out;
}

function listMonths (format, index) {
    return listMonthsImpl(format, index, 'months');
}

function listMonthsShort (format, index) {
    return listMonthsImpl(format, index, 'monthsShort');
}

function listWeekdays (localeSorted, format, index) {
    return listWeekdaysImpl(localeSorted, format, index, 'weekdays');
}

function listWeekdaysShort (localeSorted, format, index) {
    return listWeekdaysImpl(localeSorted, format, index, 'weekdaysShort');
}

function listWeekdaysMin (localeSorted, format, index) {
    return listWeekdaysImpl(localeSorted, format, index, 'weekdaysMin');
}

getSetGlobalLocale('en', {
    ordinalParse: /\d{1,2}(th|st|nd|rd)/,
    ordinal : function (number) {
        var b = number % 10,
            output = (toInt(number % 100 / 10) === 1) ? 'th' :
            (b === 1) ? 'st' :
            (b === 2) ? 'nd' :
            (b === 3) ? 'rd' : 'th';
        return number + output;
    }
});

// Side effect imports
hooks.lang = deprecate('moment.lang is deprecated. Use moment.locale instead.', getSetGlobalLocale);
hooks.langData = deprecate('moment.langData is deprecated. Use moment.localeData instead.', getLocale);

var mathAbs = Math.abs;

function abs () {
    var data           = this._data;

    this._milliseconds = mathAbs(this._milliseconds);
    this._days         = mathAbs(this._days);
    this._months       = mathAbs(this._months);

    data.milliseconds  = mathAbs(data.milliseconds);
    data.seconds       = mathAbs(data.seconds);
    data.minutes       = mathAbs(data.minutes);
    data.hours         = mathAbs(data.hours);
    data.months        = mathAbs(data.months);
    data.years         = mathAbs(data.years);

    return this;
}

function addSubtract$1 (duration, input, value, direction) {
    var other = createDuration(input, value);

    duration._milliseconds += direction * other._milliseconds;
    duration._days         += direction * other._days;
    duration._months       += direction * other._months;

    return duration._bubble();
}

// supports only 2.0-style add(1, 's') or add(duration)
function add$1 (input, value) {
    return addSubtract$1(this, input, value, 1);
}

// supports only 2.0-style subtract(1, 's') or subtract(duration)
function subtract$1 (input, value) {
    return addSubtract$1(this, input, value, -1);
}

function absCeil (number) {
    if (number < 0) {
        return Math.floor(number);
    } else {
        return Math.ceil(number);
    }
}

function bubble () {
    var milliseconds = this._milliseconds;
    var days         = this._days;
    var months       = this._months;
    var data         = this._data;
    var seconds, minutes, hours, years, monthsFromDays;

    // if we have a mix of positive and negative values, bubble down first
    // check: https://github.com/moment/moment/issues/2166
    if (!((milliseconds >= 0 && days >= 0 && months >= 0) ||
            (milliseconds <= 0 && days <= 0 && months <= 0))) {
        milliseconds += absCeil(monthsToDays(months) + days) * 864e5;
        days = 0;
        months = 0;
    }

    // The following code bubbles up values, see the tests for
    // examples of what that means.
    data.milliseconds = milliseconds % 1000;

    seconds           = absFloor(milliseconds / 1000);
    data.seconds      = seconds % 60;

    minutes           = absFloor(seconds / 60);
    data.minutes      = minutes % 60;

    hours             = absFloor(minutes / 60);
    data.hours        = hours % 24;

    days += absFloor(hours / 24);

    // convert days to months
    monthsFromDays = absFloor(daysToMonths(days));
    months += monthsFromDays;
    days -= absCeil(monthsToDays(monthsFromDays));

    // 12 months -> 1 year
    years = absFloor(months / 12);
    months %= 12;

    data.days   = days;
    data.months = months;
    data.years  = years;

    return this;
}

function daysToMonths (days) {
    // 400 years have 146097 days (taking into account leap year rules)
    // 400 years have 12 months === 4800
    return days * 4800 / 146097;
}

function monthsToDays (months) {
    // the reverse of daysToMonths
    return months * 146097 / 4800;
}

function as (units) {
    var days;
    var months;
    var milliseconds = this._milliseconds;

    units = normalizeUnits(units);

    if (units === 'month' || units === 'year') {
        days   = this._days   + milliseconds / 864e5;
        months = this._months + daysToMonths(days);
        return units === 'month' ? months : months / 12;
    } else {
        // handle milliseconds separately because of floating point math errors (issue #1867)
        days = this._days + Math.round(monthsToDays(this._months));
        switch (units) {
            case 'week'   : return days / 7     + milliseconds / 6048e5;
            case 'day'    : return days         + milliseconds / 864e5;
            case 'hour'   : return days * 24    + milliseconds / 36e5;
            case 'minute' : return days * 1440  + milliseconds / 6e4;
            case 'second' : return days * 86400 + milliseconds / 1000;
            // Math.floor prevents floating point math errors here
            case 'millisecond': return Math.floor(days * 864e5) + milliseconds;
            default: throw new Error('Unknown unit ' + units);
        }
    }
}

// TODO: Use this.as('ms')?
function valueOf$1 () {
    return (
        this._milliseconds +
        this._days * 864e5 +
        (this._months % 12) * 2592e6 +
        toInt(this._months / 12) * 31536e6
    );
}

function makeAs (alias) {
    return function () {
        return this.as(alias);
    };
}

var asMilliseconds = makeAs('ms');
var asSeconds      = makeAs('s');
var asMinutes      = makeAs('m');
var asHours        = makeAs('h');
var asDays         = makeAs('d');
var asWeeks        = makeAs('w');
var asMonths       = makeAs('M');
var asYears        = makeAs('y');

function get$2 (units) {
    units = normalizeUnits(units);
    return this[units + 's']();
}

function makeGetter(name) {
    return function () {
        return this._data[name];
    };
}

var milliseconds = makeGetter('milliseconds');
var seconds      = makeGetter('seconds');
var minutes      = makeGetter('minutes');
var hours        = makeGetter('hours');
var days         = makeGetter('days');
var months       = makeGetter('months');
var years        = makeGetter('years');

function weeks () {
    return absFloor(this.days() / 7);
}

var round = Math.round;
var thresholds = {
    s: 45,  // seconds to minute
    m: 45,  // minutes to hour
    h: 22,  // hours to day
    d: 26,  // days to month
    M: 11   // months to year
};

// helper function for moment.fn.from, moment.fn.fromNow, and moment.duration.fn.humanize
function substituteTimeAgo(string, number, withoutSuffix, isFuture, locale) {
    return locale.relativeTime(number || 1, !!withoutSuffix, string, isFuture);
}

function relativeTime$1 (posNegDuration, withoutSuffix, locale) {
    var duration = createDuration(posNegDuration).abs();
    var seconds  = round(duration.as('s'));
    var minutes  = round(duration.as('m'));
    var hours    = round(duration.as('h'));
    var days     = round(duration.as('d'));
    var months   = round(duration.as('M'));
    var years    = round(duration.as('y'));

    var a = seconds < thresholds.s && ['s', seconds]  ||
            minutes <= 1           && ['m']           ||
            minutes < thresholds.m && ['mm', minutes] ||
            hours   <= 1           && ['h']           ||
            hours   < thresholds.h && ['hh', hours]   ||
            days    <= 1           && ['d']           ||
            days    < thresholds.d && ['dd', days]    ||
            months  <= 1           && ['M']           ||
            months  < thresholds.M && ['MM', months]  ||
            years   <= 1           && ['y']           || ['yy', years];

    a[2] = withoutSuffix;
    a[3] = +posNegDuration > 0;
    a[4] = locale;
    return substituteTimeAgo.apply(null, a);
}

// This function allows you to set the rounding function for relative time strings
function getSetRelativeTimeRounding (roundingFunction) {
    if (roundingFunction === undefined) {
        return round;
    }
    if (typeof(roundingFunction) === 'function') {
        round = roundingFunction;
        return true;
    }
    return false;
}

// This function allows you to set a threshold for relative time strings
function getSetRelativeTimeThreshold (threshold, limit) {
    if (thresholds[threshold] === undefined) {
        return false;
    }
    if (limit === undefined) {
        return thresholds[threshold];
    }
    thresholds[threshold] = limit;
    return true;
}

function humanize (withSuffix) {
    var locale = this.localeData();
    var output = relativeTime$1(this, !withSuffix, locale);

    if (withSuffix) {
        output = locale.pastFuture(+this, output);
    }

    return locale.postformat(output);
}

var abs$1 = Math.abs;

function toISOString$1() {
    // for ISO strings we do not use the normal bubbling rules:
    //  * milliseconds bubble up until they become hours
    //  * days do not bubble at all
    //  * months bubble up until they become years
    // This is because there is no context-free conversion between hours and days
    // (think of clock changes)
    // and also not between days and months (28-31 days per month)
    var seconds = abs$1(this._milliseconds) / 1000;
    var days         = abs$1(this._days);
    var months       = abs$1(this._months);
    var minutes, hours, years;

    // 3600 seconds -> 60 minutes -> 1 hour
    minutes           = absFloor(seconds / 60);
    hours             = absFloor(minutes / 60);
    seconds %= 60;
    minutes %= 60;

    // 12 months -> 1 year
    years  = absFloor(months / 12);
    months %= 12;


    // inspired by https://github.com/dordille/moment-isoduration/blob/master/moment.isoduration.js
    var Y = years;
    var M = months;
    var D = days;
    var h = hours;
    var m = minutes;
    var s = seconds;
    var total = this.asSeconds();

    if (!total) {
        // this is the same as C#'s (Noda) and python (isodate)...
        // but not other JS (goog.date)
        return 'P0D';
    }

    return (total < 0 ? '-' : '') +
        'P' +
        (Y ? Y + 'Y' : '') +
        (M ? M + 'M' : '') +
        (D ? D + 'D' : '') +
        ((h || m || s) ? 'T' : '') +
        (h ? h + 'H' : '') +
        (m ? m + 'M' : '') +
        (s ? s + 'S' : '');
}

var proto$2 = Duration.prototype;

proto$2.abs            = abs;
proto$2.add            = add$1;
proto$2.subtract       = subtract$1;
proto$2.as             = as;
proto$2.asMilliseconds = asMilliseconds;
proto$2.asSeconds      = asSeconds;
proto$2.asMinutes      = asMinutes;
proto$2.asHours        = asHours;
proto$2.asDays         = asDays;
proto$2.asWeeks        = asWeeks;
proto$2.asMonths       = asMonths;
proto$2.asYears        = asYears;
proto$2.valueOf        = valueOf$1;
proto$2._bubble        = bubble;
proto$2.get            = get$2;
proto$2.milliseconds   = milliseconds;
proto$2.seconds        = seconds;
proto$2.minutes        = minutes;
proto$2.hours          = hours;
proto$2.days           = days;
proto$2.weeks          = weeks;
proto$2.months         = months;
proto$2.years          = years;
proto$2.humanize       = humanize;
proto$2.toISOString    = toISOString$1;
proto$2.toString       = toISOString$1;
proto$2.toJSON         = toISOString$1;
proto$2.locale         = locale;
proto$2.localeData     = localeData;

// Deprecations
proto$2.toIsoString = deprecate('toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)', toISOString$1);
proto$2.lang = lang;

// Side effect imports

// FORMATTING

addFormatToken('X', 0, 0, 'unix');
addFormatToken('x', 0, 0, 'valueOf');

// PARSING

addRegexToken('x', matchSigned);
addRegexToken('X', matchTimestamp);
addParseToken('X', function (input, array, config) {
    config._d = new Date(parseFloat(input, 10) * 1000);
});
addParseToken('x', function (input, array, config) {
    config._d = new Date(toInt(input));
});

// Side effect imports


hooks.version = '2.17.1';

setHookCallback(createLocal);

hooks.fn                    = proto;
hooks.min                   = min;
hooks.max                   = max;
hooks.now                   = now;
hooks.utc                   = createUTC;
hooks.unix                  = createUnix;
hooks.months                = listMonths;
hooks.isDate                = isDate;
hooks.locale                = getSetGlobalLocale;
hooks.invalid               = createInvalid;
hooks.duration              = createDuration;
hooks.isMoment              = isMoment;
hooks.weekdays              = listWeekdays;
hooks.parseZone             = createInZone;
hooks.localeData            = getLocale;
hooks.isDuration            = isDuration;
hooks.monthsShort           = listMonthsShort;
hooks.weekdaysMin           = listWeekdaysMin;
hooks.defineLocale          = defineLocale;
hooks.updateLocale          = updateLocale;
hooks.locales               = listLocales;
hooks.weekdaysShort         = listWeekdaysShort;
hooks.normalizeUnits        = normalizeUnits;
hooks.relativeTimeRounding = getSetRelativeTimeRounding;
hooks.relativeTimeThreshold = getSetRelativeTimeThreshold;
hooks.calendarFormat        = getCalendarFormat;
hooks.prototype             = proto;

return hooks;

})));

},{}],"/Users/cescwang/program/sil/SIL-frontend/node_modules/ngCropper/dist/ngCropper.all.js":[function(require,module,exports){
/*!
 * Cropper v0.10.0
 * https://github.com/fengyuanchen/cropper
 *
 * Copyright (c) 2014-2015 Fengyuan Chen and other contributors
 * Released under the MIT license
 *
 * Date: 2015-06-08T14:57:26.353Z
 */

(function (factory) {
  if (typeof define === 'function' && define.amd) {
    // AMD. Register as anonymous module.
    define(['jquery'], factory);
  } else if (typeof exports === 'object') {
    // Node / CommonJS
    factory(require('jquery'));
  } else {
    // Browser globals.
    factory(jQuery);
  }
})(function ($) {

  'use strict';

  var $window = $(window),
      $document = $(document),
      location = window.location,

      // Constants
      CROPPER_NAMESPACE = '.cropper',
      CROPPER_PREVIEW = 'preview' + CROPPER_NAMESPACE,

      // RegExps
      REGEXP_DRAG_TYPES = /^(e|n|w|s|ne|nw|sw|se|all|crop|move|zoom)$/,

      // Classes
      CLASS_MODAL = 'cropper-modal',
      CLASS_HIDE = 'cropper-hide',
      CLASS_HIDDEN = 'cropper-hidden',
      CLASS_INVISIBLE = 'cropper-invisible',
      CLASS_MOVE = 'cropper-move',
      CLASS_CROP = 'cropper-crop',
      CLASS_DISABLED = 'cropper-disabled',
      CLASS_BG = 'cropper-bg',

      // Events
      EVENT_MOUSE_DOWN = 'mousedown touchstart',
      EVENT_MOUSE_MOVE = 'mousemove touchmove',
      EVENT_MOUSE_UP = 'mouseup mouseleave touchend touchleave touchcancel',
      EVENT_WHEEL = 'wheel mousewheel DOMMouseScroll',
      EVENT_DBLCLICK = 'dblclick',
      EVENT_RESIZE = 'resize' + CROPPER_NAMESPACE, // Bind to window with namespace
      EVENT_BUILD = 'build' + CROPPER_NAMESPACE,
      EVENT_BUILT = 'built' + CROPPER_NAMESPACE,
      EVENT_DRAG_START = 'dragstart' + CROPPER_NAMESPACE,
      EVENT_DRAG_MOVE = 'dragmove' + CROPPER_NAMESPACE,
      EVENT_DRAG_END = 'dragend' + CROPPER_NAMESPACE,
      EVENT_ZOOM_IN = 'zoomin' + CROPPER_NAMESPACE,
      EVENT_ZOOM_OUT = 'zoomout' + CROPPER_NAMESPACE,
      EVENT_CHANGE = 'change' + CROPPER_NAMESPACE,

      // Supports
      SUPPORT_CANVAS = $.isFunction($('<canvas>')[0].getContext),

      // Others
      sqrt = Math.sqrt,
      min = Math.min,
      max = Math.max,
      abs = Math.abs,
      sin = Math.sin,
      cos = Math.cos,
      num = parseFloat,

      // Prototype
      prototype = {};

  function isNumber(n) {
    return typeof n === 'number' && !isNaN(n);
  }

  function isUndefined(n) {
    return typeof n === 'undefined';
  }

  function toArray(obj, offset) {
    var args = [];

    if (isNumber(offset)) { // It's necessary for IE8
      args.push(offset);
    }

    return args.slice.apply(obj, args);
  }

  // Custom proxy to avoid jQuery's guid
  function proxy(fn, context) {
    var args = toArray(arguments, 2);

    return function () {
      return fn.apply(context, args.concat(toArray(arguments)));
    };
  }

  function isCrossOriginURL(url) {
    var parts = url.match(/^(https?:)\/\/([^\:\/\?#]+):?(\d*)/i);

    return parts && (parts[1] !== location.protocol || parts[2] !== location.hostname || parts[3] !== location.port);
  }

  function addTimestamp(url) {
    var timestamp = 'timestamp=' + (new Date()).getTime();

    return (url + (url.indexOf('?') === -1 ? '?' : '&') + timestamp);
  }

  function getRotateValue(degree) {
    return degree ? 'rotate(' + degree + 'deg)' : 'none';
  }

  function getRotatedSizes(data, reverse) {
    var deg = abs(data.degree) % 180,
        arc = (deg > 90 ? (180 - deg) : deg) * Math.PI / 180,
        sinArc = sin(arc),
        cosArc = cos(arc),
        width = data.width,
        height = data.height,
        aspectRatio = data.aspectRatio,
        newWidth,
        newHeight;

    if (!reverse) {
      newWidth = width * cosArc + height * sinArc;
      newHeight = width * sinArc + height * cosArc;
    } else {
      newWidth = width / (cosArc + sinArc / aspectRatio);
      newHeight = newWidth / aspectRatio;
    }

    return {
      width: newWidth,
      height: newHeight
    };
  }

  function getSourceCanvas(image, data) {
    var canvas = $('<canvas>')[0],
        context = canvas.getContext('2d'),
        width = data.naturalWidth,
        height = data.naturalHeight,
        rotate = data.rotate,
        rotated = getRotatedSizes({
          width: width,
          height: height,
          degree: rotate
        });

    if (rotate) {
      canvas.width = rotated.width;
      canvas.height = rotated.height;
      context.save();
      context.translate(rotated.width / 2, rotated.height / 2);
      context.rotate(rotate * Math.PI / 180);
      context.drawImage(image, -width / 2, -height / 2, width, height);
      context.restore();
    } else {
      canvas.width = width;
      canvas.height = height;
      context.drawImage(image, 0, 0, width, height);
    }

    return canvas;
  }

  function Cropper(element, options) {
    this.$element = $(element);
    this.options = $.extend({}, Cropper.DEFAULTS, $.isPlainObject(options) && options);

    this.ready = false;
    this.built = false;
    this.rotated = false;
    this.cropped = false;
    this.disabled = false;
    this.canvas = null;
    this.cropBox = null;

    this.load();
  }

  prototype.load = function (url) {
    var options = this.options,
        $this = this.$element,
        crossOrigin,
        bustCacheUrl,
        buildEvent,
        $clone;

    if (!url) {
      if ($this.is('img')) {
        if (!$this.attr('src')) {
          return;
        }

        url = $this.prop('src');
      } else if ($this.is('canvas') && SUPPORT_CANVAS) {
        url = $this[0].toDataURL();
      }
    }

    if (!url) {
      return;
    }

    buildEvent = $.Event(EVENT_BUILD);

    if($this.one(EVENT_BUILD, options.build).trigger){
      $this.one(EVENT_BUILD, options.build).trigger(buildEvent); // Only trigger once
    }

    if (buildEvent.isDefaultPrevented()) {
      return;
    }

    if (options.checkImageOrigin && isCrossOriginURL(url)) {
      crossOrigin = ' crossOrigin="anonymous"';

      if (!$this.prop('crossOrigin')) { // Only when there was not a "crossOrigin" property
        bustCacheUrl = addTimestamp(url); // Bust cache (#148)
      }
    }

    // IE8 compatibility: Don't use "$().attr()" to set "src"
    this.$clone = $clone = $('<img' + (crossOrigin || '') + ' src="' + (bustCacheUrl || url) + '">');

    $clone.one('load', $.proxy(function () {
      var image = $clone[0],
          naturalWidth = image.naturalWidth || image.width,
          naturalHeight = image.naturalHeight || image.height; // $clone.width() and $clone.height() will return 0 in IE8 (#319)

      this.image = {
        naturalWidth: naturalWidth,
        naturalHeight: naturalHeight,
        aspectRatio: naturalWidth / naturalHeight,
        rotate: 0
      };

      this.url = url;
      this.ready = true;
      this.build();
    }, this)).one('error', function () {
      $clone.remove();
    });

    // Hide and insert into the document
    $clone.addClass(CLASS_HIDE).insertAfter($this);
  };

  prototype.build = function () {
    var $this = this.$element,
        $clone = this.$clone,
        options = this.options,
        $cropper,
        $cropBox,
        $face;

    if (!this.ready) {
      return;
    }

    if (this.built) {
      this.unbuild();
    }

    // Create cropper elements
    this.$cropper = $cropper = $(Cropper.TEMPLATE);

    // Hide the original image
    $this.addClass(CLASS_HIDDEN);

    // Show the clone iamge
    $clone.removeClass(CLASS_HIDE);

    this.$container = $this.parent().append($cropper);
    this.$canvas = $cropper.find('.cropper-canvas').append($clone);
    this.$dragBox = $cropper.find('.cropper-drag-box');
    this.$cropBox = $cropBox = $cropper.find('.cropper-crop-box');
    this.$viewBox = $cropper.find('.cropper-view-box');
    this.$face = $face = $cropBox.find('.cropper-face');

    this.addListeners();
    this.initPreview();

    // Format aspect ratio
    options.aspectRatio = num(options.aspectRatio) || NaN; // 0 -> NaN

    if (options.autoCrop) {
      this.cropped = true;

      if (options.modal) {
        this.$dragBox.addClass(CLASS_MODAL);
      }
    } else {
      $cropBox.addClass(CLASS_HIDDEN);
    }

    if (options.background) {
      $cropper.addClass(CLASS_BG);
    }

    if (!options.highlight) {
      $face.addClass(CLASS_INVISIBLE);
    }

    if (!options.guides) {
      $cropBox.find('.cropper-dashed').addClass(CLASS_HIDDEN);
    }

    if (options.cropBoxMovable) {
      $face.addClass(CLASS_MOVE).data('drag', 'all');
    }

    if (!options.cropBoxResizable) {
      $cropBox.find('.cropper-line, .cropper-point').addClass(CLASS_HIDDEN);
    }

    this.setDragMode(options.dragCrop ? 'crop' : options.movable ? 'move' : 'none');

    this.built = true;
    this.render();
    this.setData(options.data);
    if($this.one(EVENT_BUILT, options.built).trigger){
      $this.one(EVENT_BUILT, options.built).trigger(EVENT_BUILT); // Only trigger once
    }
  };

  prototype.unbuild = function () {
    if (!this.built) {
      return;
    }

    this.built = false;
    this.initialImage = null;
    this.initialCanvas = null; // This is necessary when replace
    this.initialCropBox = null;
    this.container = null;
    this.canvas = null;
    this.cropBox = null; // This is necessary when replace
    this.removeListeners();

    this.resetPreview();
    this.$preview = null;

    this.$viewBox = null;
    this.$cropBox = null;
    this.$dragBox = null;
    this.$canvas = null;
    this.$container = null;

    this.$cropper.remove();
    this.$cropper = null;
  };

  $.extend(prototype, {
    render: function () {
      this.initContainer();
      this.initCanvas();
      this.initCropBox();

      this.renderCanvas();

      if (this.cropped) {
        this.renderCropBox();
      }
    },

    initContainer: function () {
      var $this = this.$element,
          $container = this.$container,
          $cropper = this.$cropper,
          options = this.options;

      $cropper.addClass(CLASS_HIDDEN);
      $this.removeClass(CLASS_HIDDEN);

      $cropper.css((this.container = {
        width: max($container.width(), num(options.minContainerWidth) || 200),
        height: max($container.height(), num(options.minContainerHeight) || 100)
      }));

      $this.addClass(CLASS_HIDDEN);
      $cropper.removeClass(CLASS_HIDDEN);
    },

    // image box (wrapper)
    initCanvas: function () {
      var container = this.container,
          containerWidth = container.width,
          containerHeight = container.height,
          image = this.image,
          aspectRatio = image.aspectRatio,
          canvas = {
            aspectRatio: aspectRatio,
            width: containerWidth,
            height: containerHeight
          };

      if (containerHeight * aspectRatio > containerWidth) {
        canvas.height = containerWidth / aspectRatio;
      } else {
        canvas.width = containerHeight * aspectRatio;
      }

      canvas.oldLeft = canvas.left = (containerWidth - canvas.width) / 2;
      canvas.oldTop = canvas.top = (containerHeight - canvas.height) / 2;

      this.canvas = canvas;
      this.limitCanvas(true, true);
      this.initialImage = $.extend({}, image);
      this.initialCanvas = $.extend({}, canvas);
    },

    limitCanvas: function (size, position) {
      var options = this.options,
          strict = options.strict,
          container = this.container,
          containerWidth = container.width,
          containerHeight = container.height,
          canvas = this.canvas,
          aspectRatio = canvas.aspectRatio,
          cropBox = this.cropBox,
          cropped = this.cropped && cropBox,
          initialCanvas = this.initialCanvas || canvas,
          initialCanvasWidth = initialCanvas.width,
          initialCanvasHeight = initialCanvas.height,
          minCanvasWidth,
          minCanvasHeight;

      if (size) {
        minCanvasWidth = num(options.minCanvasWidth) || 0;
        minCanvasHeight = num(options.minCanvasHeight) || 0;

        if (minCanvasWidth) {
          if (strict) {
            minCanvasWidth = max(cropped ? cropBox.width : initialCanvasWidth, minCanvasWidth);
          }

          minCanvasHeight = minCanvasWidth / aspectRatio;
        } else if (minCanvasHeight) {
          if (strict) {
            minCanvasHeight = max(cropped ? cropBox.height : initialCanvasHeight, minCanvasHeight);
          }

          minCanvasWidth = minCanvasHeight * aspectRatio;
        } else if (strict) {
          if (cropped) {
            minCanvasWidth = cropBox.width;
            minCanvasHeight = cropBox.height;

            if (minCanvasHeight * aspectRatio > minCanvasWidth) {
              minCanvasWidth = minCanvasHeight * aspectRatio;
            } else {
              minCanvasHeight = minCanvasWidth / aspectRatio;
            }
          } else {
            minCanvasWidth = initialCanvasWidth;
            minCanvasHeight = initialCanvasHeight;
          }
        }

        $.extend(canvas, {
          minWidth: minCanvasWidth,
          minHeight: minCanvasHeight,
          maxWidth: Infinity,
          maxHeight: Infinity
        });
      }

      if (position) {
        if (strict) {
          if (cropped) {
            canvas.minLeft = min(cropBox.left, (cropBox.left + cropBox.width) - canvas.width);
            canvas.minTop = min(cropBox.top, (cropBox.top + cropBox.height) - canvas.height);
            canvas.maxLeft = cropBox.left;
            canvas.maxTop = cropBox.top;
          } else {
            canvas.minLeft = min(0, containerWidth - canvas.width);
            canvas.minTop = min(0, containerHeight - canvas.height);
            canvas.maxLeft = max(0, containerWidth - canvas.width);
            canvas.maxTop = max(0, containerHeight - canvas.height);
          }
        } else {
          canvas.minLeft = -canvas.width;
          canvas.minTop = -canvas.height;
          canvas.maxLeft = containerWidth;
          canvas.maxTop = containerHeight;
        }
      }
    },

    renderCanvas: function (changed) {
      var options = this.options,
          canvas = this.canvas,
          image = this.image,
          aspectRatio,
          rotated;

      if (this.rotated) {
        this.rotated = false;

        // Computes rotatation sizes with image sizes
        rotated = getRotatedSizes({
          width: image.width,
          height: image.height,
          degree: image.rotate
        });

        aspectRatio = rotated.width / rotated.height;

        if (aspectRatio !== canvas.aspectRatio) {
          canvas.left -= (rotated.width - canvas.width) / 2;
          canvas.top -= (rotated.height - canvas.height) / 2;
          canvas.width = rotated.width;
          canvas.height = rotated.height;
          canvas.aspectRatio = aspectRatio;
          this.limitCanvas(true, false);
        }
      }

      if (canvas.width > canvas.maxWidth || canvas.width < canvas.minWidth) {
        canvas.left = canvas.oldLeft;
      }

      if (canvas.height > canvas.maxHeight || canvas.height < canvas.minHeight) {
        canvas.top = canvas.oldTop;
      }

      canvas.width = min(max(canvas.width, canvas.minWidth), canvas.maxWidth);
      canvas.height = min(max(canvas.height, canvas.minHeight), canvas.maxHeight);

      this.limitCanvas(false, true);

      canvas.oldLeft = canvas.left = min(max(canvas.left, canvas.minLeft), canvas.maxLeft);
      canvas.oldTop = canvas.top = min(max(canvas.top, canvas.minTop), canvas.maxTop);

      this.$canvas.css({
        width: canvas.width,
        height: canvas.height,
        left: canvas.left,
        top: canvas.top
      });

      this.renderImage();

      if (this.cropped && options.strict) {
        this.limitCropBox(true, true);
      }

      if (changed) {
        this.output();
      }
    },

    renderImage: function () {
      var canvas = this.canvas,
          image = this.image,
          reversed;

      if (image.rotate) {
        reversed = getRotatedSizes({
          width: canvas.width,
          height: canvas.height,
          degree: image.rotate,
          aspectRatio: image.aspectRatio
        }, true);
      }

      $.extend(image, reversed ? {
        width: reversed.width,
        height: reversed.height,
        left: (canvas.width - reversed.width) / 2,
        top: (canvas.height - reversed.height) / 2
      } : {
        width: canvas.width,
        height: canvas.height,
        left: 0,
        top: 0
      });

      this.$clone.css({
        width: image.width,
        height: image.height,
        marginLeft: image.left,
        marginTop: image.top,
        transform: getRotateValue(image.rotate)
      });
    },

    initCropBox: function () {
      var options = this.options,
          canvas = this.canvas,
          aspectRatio = options.aspectRatio,
          autoCropArea = num(options.autoCropArea) || 0.8,
          cropBox = {
            width: canvas.width,
            height: canvas.height
          };

      if (aspectRatio) {
        if (canvas.height * aspectRatio > canvas.width) {
          cropBox.height = cropBox.width / aspectRatio;
        } else {
          cropBox.width = cropBox.height * aspectRatio;
        }
      }

      this.cropBox = cropBox;
      this.limitCropBox(true, true);

      // Initialize auto crop area
      cropBox.width = min(max(cropBox.width, cropBox.minWidth), cropBox.maxWidth);
      cropBox.height = min(max(cropBox.height, cropBox.minHeight), cropBox.maxHeight);

      // The width of auto crop area must large than "minWidth", and the height too. (#164)
      cropBox.width = max(cropBox.minWidth, cropBox.width * autoCropArea);
      cropBox.height = max(cropBox.minHeight, cropBox.height * autoCropArea);
      cropBox.oldLeft = cropBox.left = canvas.left + (canvas.width - cropBox.width) / 2;
      cropBox.oldTop = cropBox.top = canvas.top + (canvas.height - cropBox.height) / 2;

      this.initialCropBox = $.extend({}, cropBox);
    },

    limitCropBox: function (size, position) {
      var options = this.options,
          strict = options.strict,
          container = this.container,
          containerWidth = container.width,
          containerHeight = container.height,
          canvas = this.canvas,
          cropBox = this.cropBox,
          aspectRatio = options.aspectRatio,
          minCropBoxWidth,
          minCropBoxHeight;

      if (size) {
        minCropBoxWidth = num(options.minCropBoxWidth) || 0;
        minCropBoxHeight = num(options.minCropBoxHeight) || 0;

        // min/maxCropBoxWidth/Height must less than conatiner width/height
        cropBox.minWidth = min(containerWidth, minCropBoxWidth);
        cropBox.minHeight = min(containerHeight, minCropBoxHeight);
        cropBox.maxWidth = min(containerWidth, strict ? canvas.width : containerWidth);
        cropBox.maxHeight = min(containerHeight, strict ? canvas.height : containerHeight);

        if (aspectRatio) {
          // compare crop box size with container first
          if (cropBox.maxHeight * aspectRatio > cropBox.maxWidth) {
            cropBox.minHeight = cropBox.minWidth / aspectRatio;
            cropBox.maxHeight = cropBox.maxWidth / aspectRatio;
          } else {
            cropBox.minWidth = cropBox.minHeight * aspectRatio;
            cropBox.maxWidth = cropBox.maxHeight * aspectRatio;
          }
        }

        // The "minWidth" must be less than "maxWidth", and the "minHeight" too.
        cropBox.minWidth = min(cropBox.maxWidth, cropBox.minWidth);
        cropBox.minHeight = min(cropBox.maxHeight, cropBox.minHeight);
      }

      if (position) {
        if (strict) {
          cropBox.minLeft = max(0, canvas.left);
          cropBox.minTop = max(0, canvas.top);
          cropBox.maxLeft = min(containerWidth, canvas.left + canvas.width) - cropBox.width;
          cropBox.maxTop = min(containerHeight, canvas.top + canvas.height) - cropBox.height;
        } else {
          cropBox.minLeft = 0;
          cropBox.minTop = 0;
          cropBox.maxLeft = containerWidth - cropBox.width;
          cropBox.maxTop = containerHeight - cropBox.height;
        }
      }
    },

    renderCropBox: function () {
      var options = this.options,
          container = this.container,
          containerWidth = container.width,
          containerHeight = container.height,
          cropBox = this.cropBox;

      if (cropBox.width > cropBox.maxWidth || cropBox.width < cropBox.minWidth) {
        cropBox.left = cropBox.oldLeft;
      }

      if (cropBox.height > cropBox.maxHeight || cropBox.height < cropBox.minHeight) {
        cropBox.top = cropBox.oldTop;
      }

      cropBox.width = min(max(cropBox.width, cropBox.minWidth), cropBox.maxWidth);
      cropBox.height = min(max(cropBox.height, cropBox.minHeight), cropBox.maxHeight);

      this.limitCropBox(false, true);

      cropBox.oldLeft = cropBox.left = min(max(cropBox.left, cropBox.minLeft), cropBox.maxLeft);
      cropBox.oldTop = cropBox.top = min(max(cropBox.top, cropBox.minTop), cropBox.maxTop);

      if (options.movable && options.cropBoxMovable) {
        // Turn to move the canvas when the crop box is equal to the container
        this.$face.data('drag', (cropBox.width === containerWidth && cropBox.height === containerHeight) ? 'move' : 'all');
      }

      this.$cropBox.css({
        width: cropBox.width,
        height: cropBox.height,
        left: cropBox.left,
        top: cropBox.top
      });

      if (this.cropped && options.strict) {
        this.limitCanvas(true, true);
      }

      if (!this.disabled) {
        this.output();
      }
    },

    output: function () {
      var options = this.options,
          $this = this.$element;

      this.preview();

      if (options.crop) {
        options.crop.call($this, this.getData());
      }

      $this.trigger(EVENT_CHANGE);
    }
  });

  prototype.initPreview = function () {
    var url = this.url;

    this.$preview = $(this.options.preview);
    this.$viewBox.html('<img src="' + url + '">');

    // Override img element styles
    // Add `display:block` to avoid margin top issue (Occur only when margin-top <= -height)
    this.$preview.each(function () {
      var $this = $(this);

      $this.data(CROPPER_PREVIEW, {
        width: $this.width(),
        height: $this.height(),
        original: $this.html()
      }).html('<img src="' + url + '" style="display:block;width:100%;min-width:0!important;min-height:0!important;max-width:none!important;max-height:none!important;image-orientation: 0deg!important">');
    });
  };

  prototype.resetPreview = function () {
    this.$preview.each(function () {
      var $this = $(this);

      $this.html($this.data(CROPPER_PREVIEW).original).removeData(CROPPER_PREVIEW);
    });
  };

  prototype.preview = function () {
    var image = this.image,
        canvas = this.canvas,
        cropBox = this.cropBox,
        width = image.width,
        height = image.height,
        left = cropBox.left - canvas.left - image.left,
        top = cropBox.top - canvas.top - image.top,
        rotate = image.rotate;

    if (!this.cropped || this.disabled) {
      return;
    }

    this.$viewBox.find('img').css({
      width: width,
      height: height,
      marginLeft: -left,
      marginTop: -top,
      transform: getRotateValue(rotate)
    });

    this.$preview.each(function () {
      var $this = $(this),
          data = $this.data(CROPPER_PREVIEW),
          ratio = data.width / cropBox.width,
          newWidth = data.width,
          newHeight = cropBox.height * ratio;

      if (newHeight > data.height) {
        ratio = data.height / cropBox.height;
        newWidth = cropBox.width * ratio;
        newHeight = data.height;
      }

      $this.width(newWidth).height(newHeight).find('img').css({
        width: width * ratio,
        height: height * ratio,
        marginLeft: -left * ratio,
        marginTop: -top * ratio,
        transform: getRotateValue(rotate)
      });
    });
  };

  prototype.addListeners = function () {
    var options = this.options,
        $this = this.$element,
        $cropper = this.$cropper;

    if ($.isFunction(options.dragstart)) {
      $this.on(EVENT_DRAG_START, options.dragstart);
    }

    if ($.isFunction(options.dragmove)) {
      $this.on(EVENT_DRAG_MOVE, options.dragmove);
    }

    if ($.isFunction(options.dragend)) {
      $this.on(EVENT_DRAG_END, options.dragend);
    }

    if ($.isFunction(options.zoomin)) {
      $this.on(EVENT_ZOOM_IN, options.zoomin);
    }

    if ($.isFunction(options.zoomout)) {
      $this.on(EVENT_ZOOM_OUT, options.zoomout);
    }

    if ($.isFunction(options.change)) {
      $this.on(EVENT_CHANGE, options.change);
    }

    $cropper.on(EVENT_MOUSE_DOWN, $.proxy(this.dragstart, this));

    if (options.zoomable && options.mouseWheelZoom) {
      $cropper.on(EVENT_WHEEL, $.proxy(this.wheel, this));
    }

    if (options.doubleClickToggle) {
      $cropper.on(EVENT_DBLCLICK, $.proxy(this.dblclick, this));
    }

    $document.on(EVENT_MOUSE_MOVE, (this._dragmove = proxy(this.dragmove, this))).on(EVENT_MOUSE_UP, (this._dragend = proxy(this.dragend, this)));

    if (options.responsive) {
      $window.on(EVENT_RESIZE, (this._resize = proxy(this.resize, this)));
    }
  };

  prototype.removeListeners = function () {
    var options = this.options,
        $this = this.$element,
        $cropper = this.$cropper;

    if ($.isFunction(options.dragstart)) {
      $this.off(EVENT_DRAG_START, options.dragstart);
    }

    if ($.isFunction(options.dragmove)) {
      $this.off(EVENT_DRAG_MOVE, options.dragmove);
    }

    if ($.isFunction(options.dragend)) {
      $this.off(EVENT_DRAG_END, options.dragend);
    }

    if ($.isFunction(options.zoomin)) {
      $this.off(EVENT_ZOOM_IN, options.zoomin);
    }

    if ($.isFunction(options.zoomout)) {
      $this.off(EVENT_ZOOM_OUT, options.zoomout);
    }

    if ($.isFunction(options.change)) {
      $this.off(EVENT_CHANGE, options.change);
    }

    $cropper.off(EVENT_MOUSE_DOWN, this.dragstart);

    if (options.zoomable && options.mouseWheelZoom) {
      $cropper.off(EVENT_WHEEL, this.wheel);
    }

    if (options.doubleClickToggle) {
      $cropper.off(EVENT_DBLCLICK, this.dblclick);
    }

    $document.off(EVENT_MOUSE_MOVE, this._dragmove).off(EVENT_MOUSE_UP, this._dragend);

    if (options.responsive) {
      $window.off(EVENT_RESIZE, this._resize);
    }
  };

  $.extend(prototype, {
    resize: function () {
      var $container = this.$container,
          container = this.container,
          canvasData,
          cropBoxData,
          ratio;

      if (this.disabled || !container) { // Check "container" for IE8
        return;
      }

      ratio = $container.width() / container.width;

      if (ratio !== 1 || $container.height() !== container.height) {
        canvasData = this.getCanvasData();
        cropBoxData = this.getCropBoxData();

        this.render();
        this.setCanvasData($.each(canvasData, function (i, n) {
          canvasData[i] = n * ratio;
        }));
        this.setCropBoxData($.each(cropBoxData, function (i, n) {
          cropBoxData[i] = n * ratio;
        }));
      }
    },

    dblclick: function () {
      if (this.disabled) {
        return;
      }

      if (this.$dragBox.hasClass(CLASS_CROP)) {
        this.setDragMode('move');
      } else {
        this.setDragMode('crop');
      }
    },

    wheel: function (event) {
      var e = event.originalEvent,
          delta = 1;

      if (this.disabled) {
        return;
      }

      event.preventDefault();

      if (e.deltaY) {
        delta = e.deltaY > 0 ? 1 : -1;
      } else if (e.wheelDelta) {
        delta = -e.wheelDelta / 120;
      } else if (e.detail) {
        delta = e.detail > 0 ? 1 : -1;
      }

      this.zoom(-delta * 0.1);
    },

    dragstart: function (event) {
      var options = this.options,
          originalEvent = event.originalEvent,
          touches = originalEvent && originalEvent.touches,
          e = event,
          dragType,
          dragStartEvent,
          touchesLength;

      if (this.disabled) {
        return;
      }

      if (touches) {
        touchesLength = touches.length;

        if (touchesLength > 1) {
          if (options.zoomable && options.touchDragZoom && touchesLength === 2) {
            e = touches[1];
            this.startX2 = e.pageX;
            this.startY2 = e.pageY;
            dragType = 'zoom';
          } else {
            return;
          }
        }

        e = touches[0];
      }

      dragType = dragType || $(e.target).data('drag');

      if (REGEXP_DRAG_TYPES.test(dragType)) {
        event.preventDefault();

        dragStartEvent = $.Event(EVENT_DRAG_START, {
          originalEvent: originalEvent,
          dragType: dragType
        });

        this.$element.trigger(dragStartEvent);

        if (dragStartEvent.isDefaultPrevented()) {
          return;
        }

        this.dragType = dragType;
        this.cropping = false;
        this.startX = e.pageX;
        this.startY = e.pageY;

        if (dragType === 'crop') {
          this.cropping = true;
          this.$dragBox.addClass(CLASS_MODAL);
        }
      }
    },

    dragmove: function (event) {
      var options = this.options,
          originalEvent = event.originalEvent,
          touches = originalEvent && originalEvent.touches,
          e = event,
          dragType = this.dragType,
          dragMoveEvent,
          touchesLength;

      if (this.disabled) {
        return;
      }

      if (touches) {
        touchesLength = touches.length;

        if (touchesLength > 1) {
          if (options.zoomable && options.touchDragZoom && touchesLength === 2) {
            e = touches[1];
            this.endX2 = e.pageX;
            this.endY2 = e.pageY;
          } else {
            return;
          }
        }

        e = touches[0];
      }

      if (dragType) {
        event.preventDefault();

        dragMoveEvent = $.Event(EVENT_DRAG_MOVE, {
          originalEvent: originalEvent,
          dragType: dragType
        });

        this.$element.trigger(dragMoveEvent);

        if (dragMoveEvent.isDefaultPrevented()) {
          return;
        }

        this.endX = e.pageX;
        this.endY = e.pageY;

        this.change(e.shiftKey);
      }
    },

    dragend: function (event) {
      var dragType = this.dragType,
          dragEndEvent;

      if (this.disabled) {
        return;
      }

      if (dragType) {
        event.preventDefault();

        dragEndEvent = $.Event(EVENT_DRAG_END, {
          originalEvent: event.originalEvent,
          dragType: dragType
        });

        this.$element.trigger(dragEndEvent);

        if (dragEndEvent.isDefaultPrevented()) {
          return;
        }

        if (this.cropping) {
          this.cropping = false;
          this.$dragBox.toggleClass(CLASS_MODAL, this.cropped && this.options.modal);
        }

        this.dragType = '';
      }
    }
  });

  $.extend(prototype, {
    crop: function () {
      if (!this.built || this.disabled) {
        return;
      }

      if (!this.cropped) {
        this.cropped = true;
        this.limitCropBox(true, true);

        if (this.options.modal) {
          this.$dragBox.addClass(CLASS_MODAL);
        }

        this.$cropBox.removeClass(CLASS_HIDDEN);
      }

      this.setCropBoxData(this.initialCropBox);
    },

    reset: function () {
      if (!this.built || this.disabled) {
        return;
      }

      this.image = $.extend({}, this.initialImage);
      this.canvas = $.extend({}, this.initialCanvas);
      this.cropBox = $.extend({}, this.initialCropBox); // required for strict mode

      this.renderCanvas();

      if (this.cropped) {
        this.renderCropBox();
      }
    },

    clear: function () {
      if (!this.cropped || this.disabled) {
        return;
      }

      $.extend(this.cropBox, {
        left: 0,
        top: 0,
        width: 0,
        height: 0
      });

      this.cropped = false;
      this.renderCropBox();

      this.limitCanvas();
      this.renderCanvas(); // Render canvas after render crop box

      this.$dragBox.removeClass(CLASS_MODAL);
      this.$cropBox.addClass(CLASS_HIDDEN);
    },

    destroy: function () {
      var $this = this.$element;

      if (this.ready) {
        this.unbuild();
        $this.removeClass(CLASS_HIDDEN);
      } else if (this.$clone) {
        this.$clone.remove();
      }

      $this.removeData('cropper');
    },

    replace: function (url) {
      if (!this.disabled && url) {
        this.options.data = null; // Remove previous data
        this.load(url);
      }
    },

    enable: function () {
      if (this.built) {
        this.disabled = false;
        this.$cropper.removeClass(CLASS_DISABLED);
      }
    },

    disable: function () {
      if (this.built) {
        this.disabled = true;
        this.$cropper.addClass(CLASS_DISABLED);
      }
    },

    move: function (offsetX, offsetY) {
      var canvas = this.canvas;

      if (this.built && !this.disabled && this.options.movable && isNumber(offsetX) && isNumber(offsetY)) {
        canvas.left += offsetX;
        canvas.top += offsetY;
        this.renderCanvas(true);
      }
    },

    zoom: function (delta) {
      var canvas = this.canvas,
          zoomEvent,
          width,
          height;

      delta = num(delta);

      if (delta && this.built && !this.disabled && this.options.zoomable) {
        zoomEvent = delta > 0 ? $.Event(EVENT_ZOOM_IN) : $.Event(EVENT_ZOOM_OUT);
        this.$element.trigger(zoomEvent);

        if (zoomEvent.isDefaultPrevented()) {
          return;
        }

        delta = delta <= -1 ? 1 / (1 - delta) : delta <= 1 ? (1 + delta) : delta;
        width = canvas.width * delta;
        height = canvas.height * delta;
        canvas.left -= (width - canvas.width) / 2;
        canvas.top -= (height - canvas.height) / 2;
        canvas.width = width;
        canvas.height = height;
        this.renderCanvas(true);
        this.setDragMode('move');
      }
    },

    rotate: function (degree) {
      var image = this.image;

      degree = num(degree);

      if (degree && this.built && !this.disabled && this.options.rotatable) {
        image.rotate = (image.rotate + degree) % 360;
        this.rotated = true;
        this.renderCanvas(true);
      }
    },

    getData: function (rounded) {
      var cropBox = this.cropBox,
          canvas = this.canvas,
          image = this.image,
          ratio,
          data;

      if (this.built && this.cropped) {
        data = {
          x: cropBox.left - canvas.left,
          y: cropBox.top - canvas.top,
          width: cropBox.width,
          height: cropBox.height
        };

        ratio = image.width / image.naturalWidth;

        $.each(data, function (i, n) {
          n = n / ratio;
          data[i] = rounded ? Math.round(n) : n;
        });

      } else {
        data = {
          x: 0,
          y: 0,
          width: 0,
          height: 0
        };
      }

      data.rotate = this.ready ? image.rotate : 0;

      return data;
    },

    setData: function (data) {
      var image = this.image,
          canvas = this.canvas,
          cropBoxData = {},
          ratio;

      if (this.built && !this.disabled && $.isPlainObject(data)) {
        if (isNumber(data.rotate) && data.rotate !== image.rotate && this.options.rotatable) {
          image.rotate = data.rotate;
          this.rotated = true;
          this.renderCanvas(true);
        }

        ratio = image.width / image.naturalWidth;

        if (isNumber(data.x)) {
          cropBoxData.left = data.x * ratio + canvas.left;
        }

        if (isNumber(data.y)) {
          cropBoxData.top = data.y * ratio + canvas.top;
        }

        if (isNumber(data.width)) {
          cropBoxData.width = data.width * ratio;
        }

        if (isNumber(data.height)) {
          cropBoxData.height = data.height * ratio;
        }

        this.setCropBoxData(cropBoxData);
      }
    },

    getContainerData: function () {
      return this.built ? this.container : {};
    },

    getImageData: function () {
      return this.ready ? this.image : {};
    },

    getCanvasData: function () {
      var canvas = this.canvas,
          data;

      if (this.built) {
        data = {
          left: canvas.left,
          top: canvas.top,
          width: canvas.width,
          height: canvas.height
        };
      }

      return data || {};
    },

    setCanvasData: function (data) {
      var canvas = this.canvas,
          aspectRatio = canvas.aspectRatio;

      if (this.built && !this.disabled && $.isPlainObject(data)) {
        if (isNumber(data.left)) {
          canvas.left = data.left;
        }

        if (isNumber(data.top)) {
          canvas.top = data.top;
        }

        if (isNumber(data.width)) {
          canvas.width = data.width;
          canvas.height = data.width / aspectRatio;
        } else if (isNumber(data.height)) {
          canvas.height = data.height;
          canvas.width = data.height * aspectRatio;
        }

        this.renderCanvas(true);
      }
    },

    getCropBoxData: function () {
      var cropBox = this.cropBox,
          data;

      if (this.built && this.cropped) {
        data = {
          left: cropBox.left,
          top: cropBox.top,
          width: cropBox.width,
          height: cropBox.height
        };
      }

      return data || {};
    },

    setCropBoxData: function (data) {
      var cropBox = this.cropBox,
          aspectRatio = this.options.aspectRatio;

      if (this.built && this.cropped && !this.disabled && $.isPlainObject(data)) {

        if (isNumber(data.left)) {
          cropBox.left = data.left;
        }

        if (isNumber(data.top)) {
          cropBox.top = data.top;
        }

        if (isNumber(data.width)) {
          cropBox.width = data.width;
        }

        if (isNumber(data.height)) {
          cropBox.height = data.height;
        }

        if (aspectRatio) {
          if (isNumber(data.width)) {
            cropBox.height = cropBox.width / aspectRatio;
          } else if (isNumber(data.height)) {
            cropBox.width = cropBox.height * aspectRatio;
          }
        }

        this.renderCropBox();
      }
    },

    getCroppedCanvas: function (options) {
      var originalWidth,
          originalHeight,
          canvasWidth,
          canvasHeight,
          scaledWidth,
          scaledHeight,
          scaledRatio,
          aspectRatio,
          canvas,
          context,
          data;

      if (!this.built || !this.cropped || !SUPPORT_CANVAS) {
        return;
      }

      if (!$.isPlainObject(options)) {
        options = {};
      }

      data = this.getData();
      originalWidth = data.width;
      originalHeight = data.height;
      aspectRatio = originalWidth / originalHeight;

      if ($.isPlainObject(options)) {
        scaledWidth = options.width;
        scaledHeight = options.height;

        if (scaledWidth) {
          scaledHeight = scaledWidth / aspectRatio;
          scaledRatio = scaledWidth / originalWidth;
        } else if (scaledHeight) {
          scaledWidth = scaledHeight * aspectRatio;
          scaledRatio = scaledHeight / originalHeight;
        }
      }

      canvasWidth = scaledWidth || originalWidth;
      canvasHeight = scaledHeight || originalHeight;

      canvas = $('<canvas>')[0];
      canvas.width = canvasWidth;
      canvas.height = canvasHeight;
      context = canvas.getContext('2d');

      if (options.fillColor) {
        context.fillStyle = options.fillColor;
        context.fillRect(0, 0, canvasWidth, canvasHeight);
      }

      // https://developer.mozilla.org/en-US/docs/Web/API/CanvasRenderingContext2D.drawImage
      context.drawImage.apply(context, (function () {
        var source = getSourceCanvas(this.$clone[0], this.image),
            sourceWidth = source.width,
            sourceHeight = source.height,
            args = [source],
            srcX = data.x, // source canvas
            srcY = data.y,
            srcWidth,
            srcHeight,
            dstX, // destination canvas
            dstY,
            dstWidth,
            dstHeight;

        if (srcX <= -originalWidth || srcX > sourceWidth) {
          srcX = srcWidth = dstX = dstWidth = 0;
        } else if (srcX <= 0) {
          dstX = -srcX;
          srcX = 0;
          srcWidth = dstWidth = min(sourceWidth, originalWidth + srcX);
        } else if (srcX <= sourceWidth) {
          dstX = 0;
          srcWidth = dstWidth = min(originalWidth, sourceWidth - srcX);
        }

        if (srcWidth <= 0 || srcY <= -originalHeight || srcY > sourceHeight) {
          srcY = srcHeight = dstY = dstHeight = 0;
        } else if (srcY <= 0) {
          dstY = -srcY;
          srcY = 0;
          srcHeight = dstHeight = min(sourceHeight, originalHeight + srcY);
        } else if (srcY <= sourceHeight) {
          dstY = 0;
          srcHeight = dstHeight = min(originalHeight, sourceHeight - srcY);
        }

        args.push(srcX, srcY, srcWidth, srcHeight);

        // Scale destination sizes
        if (scaledRatio) {
          dstX *= scaledRatio;
          dstY *= scaledRatio;
          dstWidth *= scaledRatio;
          dstHeight *= scaledRatio;
        }

        // Avoid "IndexSizeError" in IE and Firefox
        if (dstWidth > 0 && dstHeight > 0) {
          args.push(dstX, dstY, dstWidth, dstHeight);
        }

        return args;
      }).call(this));

      return canvas;
    },

    setAspectRatio: function (aspectRatio) {
      var options = this.options;

      if (!this.disabled && !isUndefined(aspectRatio)) {
        options.aspectRatio = num(aspectRatio) || NaN; // 0 -> NaN

        if (this.built) {
          this.initCropBox();

          if (this.cropped) {
            this.renderCropBox();
          }
        }
      }
    },

    setDragMode: function (mode) {
      var options = this.options,
          croppable,
          movable;

      if (this.ready && !this.disabled) {
        croppable = options.dragCrop && mode === 'crop';
        movable = options.movable && mode === 'move';
        mode = (croppable || movable) ? mode : 'none';

        this.$dragBox.data('drag', mode).toggleClass(CLASS_CROP, croppable).toggleClass(CLASS_MOVE, movable);

        if (!options.cropBoxMovable) {
          // Sync drag mode to crop box when it is not movable(#300)
          this.$face.data('drag', mode).toggleClass(CLASS_CROP, croppable).toggleClass(CLASS_MOVE, movable);
        }
      }
    }
  });

  prototype.change = function (shiftKey) {
    var dragType = this.dragType,
        options = this.options,
        canvas = this.canvas,
        container = this.container,
        cropBox = this.cropBox,
        width = cropBox.width,
        height = cropBox.height,
        left = cropBox.left,
        top = cropBox.top,
        right = left + width,
        bottom = top + height,
        minLeft = 0,
        minTop = 0,
        maxWidth = container.width,
        maxHeight = container.height,
        renderable = true,
        aspectRatio = options.aspectRatio,
        range = {
          x: this.endX - this.startX,
          y: this.endY - this.startY
        },
        offset;

    // Locking aspect ratio in "free mode" by holding shift key (#259)
    if (!aspectRatio && shiftKey) {
      aspectRatio = width && height ? width / height : 1;
    }

    if (options.strict) {
      minLeft = cropBox.minLeft;
      minTop = cropBox.minTop;
      maxWidth = minLeft + min(container.width, canvas.width);
      maxHeight = minTop + min(container.height, canvas.height);
    }

    if (aspectRatio) {
      range.X = range.y * aspectRatio;
      range.Y = range.x / aspectRatio;
    }

    switch (dragType) {
      // Move cropBox
      case 'all':
        left += range.x;
        top += range.y;
        break;

      // Resize cropBox
      case 'e':
        if (range.x >= 0 && (right >= maxWidth || aspectRatio && (top <= minTop || bottom >= maxHeight))) {
          renderable = false;
          break;
        }

        width += range.x;

        if (aspectRatio) {
          height = width / aspectRatio;
          top -= range.Y / 2;
        }

        if (width < 0) {
          dragType = 'w';
          width = 0;
        }

        break;

      case 'n':
        if (range.y <= 0 && (top <= minTop || aspectRatio && (left <= minLeft || right >= maxWidth))) {
          renderable = false;
          break;
        }

        height -= range.y;
        top += range.y;

        if (aspectRatio) {
          width = height * aspectRatio;
          left += range.X / 2;
        }

        if (height < 0) {
          dragType = 's';
          height = 0;
        }

        break;

      case 'w':
        if (range.x <= 0 && (left <= minLeft || aspectRatio && (top <= minTop || bottom >= maxHeight))) {
          renderable = false;
          break;
        }

        width -= range.x;
        left += range.x;

        if (aspectRatio) {
          height = width / aspectRatio;
          top += range.Y / 2;
        }

        if (width < 0) {
          dragType = 'e';
          width = 0;
        }

        break;

      case 's':
        if (range.y >= 0 && (bottom >= maxHeight || aspectRatio && (left <= minLeft || right >= maxWidth))) {
          renderable = false;
          break;
        }

        height += range.y;

        if (aspectRatio) {
          width = height * aspectRatio;
          left -= range.X / 2;
        }

        if (height < 0) {
          dragType = 'n';
          height = 0;
        }

        break;

      case 'ne':
        if (aspectRatio) {
          if (range.y <= 0 && (top <= minTop || right >= maxWidth)) {
            renderable = false;
            break;
          }

          height -= range.y;
          top += range.y;
          width = height * aspectRatio;
        } else {
          if (range.x >= 0) {
            if (right < maxWidth) {
              width += range.x;
            } else if (range.y <= 0 && top <= minTop) {
              renderable = false;
            }
          } else {
            width += range.x;
          }

          if (range.y <= 0) {
            if (top > minTop) {
              height -= range.y;
              top += range.y;
            }
          } else {
            height -= range.y;
            top += range.y;
          }
        }

        if (width < 0 && height < 0) {
          dragType = 'sw';
          height = 0;
          width = 0;
        } else if (width < 0) {
          dragType = 'nw';
          width = 0;
        } else if (height < 0) {
          dragType = 'se';
          height = 0;
        }

        break;

      case 'nw':
        if (aspectRatio) {
          if (range.y <= 0 && (top <= minTop || left <= minLeft)) {
            renderable = false;
            break;
          }

          height -= range.y;
          top += range.y;
          width = height * aspectRatio;
          left += range.X;
        } else {
          if (range.x <= 0) {
            if (left > minLeft) {
              width -= range.x;
              left += range.x;
            } else if (range.y <= 0 && top <= minTop) {
              renderable = false;
            }
          } else {
            width -= range.x;
            left += range.x;
          }

          if (range.y <= 0) {
            if (top > minTop) {
              height -= range.y;
              top += range.y;
            }
          } else {
            height -= range.y;
            top += range.y;
          }
        }

        if (width < 0 && height < 0) {
          dragType = 'se';
          height = 0;
          width = 0;
        } else if (width < 0) {
          dragType = 'ne';
          width = 0;
        } else if (height < 0) {
          dragType = 'sw';
          height = 0;
        }

        break;

      case 'sw':
        if (aspectRatio) {
          if (range.x <= 0 && (left <= minLeft || bottom >= maxHeight)) {
            renderable = false;
            break;
          }

          width -= range.x;
          left += range.x;
          height = width / aspectRatio;
        } else {
          if (range.x <= 0) {
            if (left > minLeft) {
              width -= range.x;
              left += range.x;
            } else if (range.y >= 0 && bottom >= maxHeight) {
              renderable = false;
            }
          } else {
            width -= range.x;
            left += range.x;
          }

          if (range.y >= 0) {
            if (bottom < maxHeight) {
              height += range.y;
            }
          } else {
            height += range.y;
          }
        }

        if (width < 0 && height < 0) {
          dragType = 'ne';
          height = 0;
          width = 0;
        } else if (width < 0) {
          dragType = 'se';
          width = 0;
        } else if (height < 0) {
          dragType = 'nw';
          height = 0;
        }

        break;

      case 'se':
        if (aspectRatio) {
          if (range.x >= 0 && (right >= maxWidth || bottom >= maxHeight)) {
            renderable = false;
            break;
          }

          width += range.x;
          height = width / aspectRatio;
        } else {
          if (range.x >= 0) {
            if (right < maxWidth) {
              width += range.x;
            } else if (range.y >= 0 && bottom >= maxHeight) {
              renderable = false;
            }
          } else {
            width += range.x;
          }

          if (range.y >= 0) {
            if (bottom < maxHeight) {
              height += range.y;
            }
          } else {
            height += range.y;
          }
        }

        if (width < 0 && height < 0) {
          dragType = 'nw';
          height = 0;
          width = 0;
        } else if (width < 0) {
          dragType = 'sw';
          width = 0;
        } else if (height < 0) {
          dragType = 'ne';
          height = 0;
        }

        break;

      // Move image
      case 'move':
        canvas.left += range.x;
        canvas.top += range.y;
        this.renderCanvas(true);
        renderable = false;
        break;

      // Scale image
      case 'zoom':
        this.zoom(function (x1, y1, x2, y2) {
          var z1 = sqrt(x1 * x1 + y1 * y1),
              z2 = sqrt(x2 * x2 + y2 * y2);

          return (z2 - z1) / z1;
        }(
          abs(this.startX - this.startX2),
          abs(this.startY - this.startY2),
          abs(this.endX - this.endX2),
          abs(this.endY - this.endY2)
        ));

        this.startX2 = this.endX2;
        this.startY2 = this.endY2;
        renderable = false;
        break;

      // Crop image
      case 'crop':
        if (range.x && range.y) {
          offset = this.$cropper.offset();
          left = this.startX - offset.left;
          top = this.startY - offset.top;
          width = cropBox.minWidth;
          height = cropBox.minHeight;

          if (range.x > 0) {
            if (range.y > 0) {
              dragType = 'se';
            } else {
              dragType = 'ne';
              top -= height;
            }
          } else {
            if (range.y > 0) {
              dragType = 'sw';
              left -= width;
            } else {
              dragType = 'nw';
              left -= width;
              top -= height;
            }
          }

          // Show the cropBox if is hidden
          if (!this.cropped) {
            this.cropped = true;
            this.$cropBox.removeClass(CLASS_HIDDEN);
          }
        }

        break;

      // No default
    }

    if (renderable) {
      cropBox.width = width;
      cropBox.height = height;
      cropBox.left = left;
      cropBox.top = top;
      this.dragType = dragType;

      this.renderCropBox();
    }

    // Override
    this.startX = this.endX;
    this.startY = this.endY;
  };

  $.extend(Cropper.prototype, prototype);

  Cropper.DEFAULTS = {
    // Defines the aspect ratio of the crop box
    // Type: Number
    aspectRatio: NaN,

    // Defines the percentage of automatic cropping area when initializes
    // Type: Number (Must large than 0 and less than 1)
    autoCropArea: 0.8, // 80%

    // Outputs the cropping results.
    // Type: Function
    crop: null,

    // Previous/latest crop data
    // Type: Object
    data: null,

    // Add extra containers for previewing
    // Type: String (jQuery selector)
    preview: '',

    // Toggles
    strict: true, // strict mode, the image cannot zoom out less than the container
    responsive: true, // Rebuild when resize the window
    checkImageOrigin: true, // Check if the target image is cross origin

    modal: true, // Show the black modal
    guides: true, // Show the dashed lines for guiding
    highlight: true, // Show the white modal to highlight the crop box
    background: true, // Show the grid background

    autoCrop: true, // Enable to crop the image automatically when initialize
    dragCrop: true, // Enable to create new crop box by dragging over the image
    movable: true, // Enable to move the image
    rotatable: true, // Enable to rotate the image
    zoomable: true, // Enable to zoom the image
    touchDragZoom: true, // Enable to zoom the image by wheeling mouse
    mouseWheelZoom: true, // Enable to zoom the image by dragging touch
    cropBoxMovable: true, // Enable to move the crop box
    cropBoxResizable: true, // Enable to resize the crop box
    doubleClickToggle: true, // Toggle drag mode between "crop" and "move" when double click on the cropper

    // Dimensions
    minCanvasWidth: 0,
    minCanvasHeight: 0,
    minCropBoxWidth: 0,
    minCropBoxHeight: 0,
    minContainerWidth: 200,
    minContainerHeight: 100,

    // Events
    build: null, // Function
    built: null, // Function
    dragstart: null, // Function
    dragmove: null, // Function
    dragend: null, // Function
    zoomin: null, // Function
    zoomout: null, // Function
    change: null // Function
  };

  Cropper.setDefaults = function (options) {
    $.extend(Cropper.DEFAULTS, options);
  };

  // Use the string compressor: Strmin (https://github.com/fengyuanchen/strmin)
  Cropper.TEMPLATE = (function (source, words) {
    words = words.split(',');
    return source.replace(/\d+/g, function (i) {
      return words[i];
    });
  })('<0 6="5-container"><0 6="5-canvas"></0><0 6="5-2-9"></0><0 6="5-crop-9"><1 6="5-view-9"></1><1 6="5-8 8-h"></1><1 6="5-8 8-v"></1><1 6="5-face"></1><1 6="5-7 7-e" 3-2="e"></1><1 6="5-7 7-n" 3-2="n"></1><1 6="5-7 7-w" 3-2="w"></1><1 6="5-7 7-s" 3-2="s"></1><1 6="5-4 4-e" 3-2="e"></1><1 6="5-4 4-n" 3-2="n"></1><1 6="5-4 4-w" 3-2="w"></1><1 6="5-4 4-s" 3-2="s"></1><1 6="5-4 4-ne" 3-2="ne"></1><1 6="5-4 4-nw" 3-2="nw"></1><1 6="5-4 4-sw" 3-2="sw"></1><1 6="5-4 4-se" 3-2="se"></1></0></0>', 'div,span,drag,data,point,cropper,class,line,dashed,box');

  /* Template source:
  <div class="cropper-container">
    <div class="cropper-canvas"></div>
    <div class="cropper-drag-box"></div>
    <div class="cropper-crop-box">
      <span class="cropper-view-box"></span>
      <span class="cropper-dashed dashed-h"></span>
      <span class="cropper-dashed dashed-v"></span>
      <span class="cropper-face"></span>
      <span class="cropper-line line-e" data-drag="e"></span>
      <span class="cropper-line line-n" data-drag="n"></span>
      <span class="cropper-line line-w" data-drag="w"></span>
      <span class="cropper-line line-s" data-drag="s"></span>
      <span class="cropper-point point-e" data-drag="e"></span>
      <span class="cropper-point point-n" data-drag="n"></span>
      <span class="cropper-point point-w" data-drag="w"></span>
      <span class="cropper-point point-s" data-drag="s"></span>
      <span class="cropper-point point-ne" data-drag="ne"></span>
      <span class="cropper-point point-nw" data-drag="nw"></span>
      <span class="cropper-point point-sw" data-drag="sw"></span>
      <span class="cropper-point point-se" data-drag="se"></span>
    </div>
  </div>
  */

  // Save the other cropper
  Cropper.other = $.fn.cropper;

  // Register as jQuery plugin
  $.fn.cropper = function (options) {
    var args = toArray(arguments, 1),
        result;

    this.each(function () {
      var $this = $(this),
          data = $this.data('cropper'),
          fn;

      if (!data) {
        $this.data('cropper', (data = new Cropper(this, options)));
      }

      if (typeof options === 'string' && $.isFunction((fn = data[options]))) {
        result = fn.apply(data, args);
      }
    });

    return isUndefined(result) ? this : result;
  };

  $.fn.cropper.Constructor = Cropper;
  $.fn.cropper.setDefaults = Cropper.setDefaults;

  // No conflict
  $.fn.cropper.noConflict = function () {
    $.fn.cropper = Cropper.other;
    return this;
  };

});
(function() {
'use strict';

angular.module('ngCropper', ['ng'])
.directive('ngCropper', ['$q', '$parse', function($q, $parse) {
  return {
    restrict: 'A',
    scope: {
      options: '=ngCropperOptions',
      proxy: '=ngCropperProxy', // Optional.
      showEvent: '=ngCropperShow',
      hideEvent: '=ngCropperHide'
    },
    link: function(scope, element, atts) {
      var shown = false;

      scope.$on(scope.showEvent, function() {
        if (shown) return;
        shown = true;

        preprocess(scope.options, element[0])
          .then(function(options) {
            setProxy(element);
            element.cropper(options);
          })
      });

      function setProxy(element) {
        if (!scope.proxy) return;
        var setter = $parse(scope.proxy).assign;
        setter(scope.$parent, element.cropper.bind(element));
      }

      scope.$on(scope.hideEvent, function() {
        if (!shown) return;
        shown = false;
        element.cropper('destroy');
      });

      scope.$watch('options.disabled', function(disabled) {
        if (!shown) return;
        if (disabled) element.cropper('disable');
        if (!disabled) element.cropper('enable');
      });
    }
  };

  function preprocess(options, img) {
    options = options || {};
    var result = $q.when(options); // No changes.
    if (options.maximize) {
      result = maximizeSelection(options, img);
    }
    return result;
  }

  /**
   * Change options to make selection maximum for the image.
   * fengyuanchen/cropper calculates valid selection's height & width
   * with respect to `aspectRatio`.
   */
  function maximizeSelection(options, img) {
    return getRealSize(img).then(function(size) {
      options.data = size;
      return options;
    });
  }

  /**
   * Returns real image size (without changes by css, attributes).
   */
  function getRealSize(img) {
    var defer = $q.defer();
    var size = {height: null, width: null};
    var image = new Image();

    image.onload = function() {
      defer.resolve({width: image.width, height: image.height});
    }

    image.src = img.src;
    return defer.promise;
  }
}])
.service('Cropper', ['$q', function($q) {

  this.encode = function(blob) {
    var defer = $q.defer();
    var reader = new FileReader();
    reader.onload = function(e) {
      defer.resolve(e.target.result);
    };
    reader.readAsDataURL(blob);
    return defer.promise;
  };

  this.decode = function(dataUrl) {
    var meta = dataUrl.split(';')[0];
    var type = meta.split(':')[1];
    var binary = atob(dataUrl.split(',')[1]);
    var array = new Uint8Array(binary.length);
    for (var i = 0; i < binary.length; i++) {
        array[i] = binary.charCodeAt(i);
    }
    return new Blob([array], {type: type});
  };

  this.crop = function(file, data) {
    var _decodeBlob = this.decode;
    return this.encode(file).then(_createImage).then(function(image) {
      var canvas = createCanvas(data);
      var context = canvas.getContext('2d');

      context.drawImage(image, data.x, data.y, data.width, data.height, 0, 0, data.width, data.height);

      var encoded = canvas.toDataURL(file.type);
      removeElement(canvas);

      return _decodeBlob(encoded);
    });
  };

  this.scale = function(file, data) {
    var _decodeBlob = this.decode;
    return this.encode(file).then(_createImage).then(function(image) {
      var heightOrig = image.height;
      var widthOrig = image.width;
      var ratio, height, width;

      if (angular.isNumber(data)) {
        ratio = data;
        height = heightOrig * ratio;
        width = widthOrig * ratio;
      }

      if (angular.isObject(data)) {
        ratio = widthOrig / heightOrig;
        height = data.height;
        width = data.width;

        if (height && !width)
          width = height * ratio;
        else if (width && !height)
          height = width / ratio;
      }

      var canvas = createCanvas(data);
      var context = canvas.getContext('2d');

      canvas.height = height;
      canvas.width = width;

      context.drawImage(image, 0, 0, widthOrig, heightOrig, 0, 0, width, height);

      var encoded = canvas.toDataURL(file.type);
      removeElement(canvas);

      return _decodeBlob(encoded);
    });
  };


  function _createImage(source) {
    var defer = $q.defer();
    var image = new Image();
    image.onload = function(e) { defer.resolve(e.target); };
    image.src = source;
    return defer.promise;
  }

  function createCanvas(data) {
    var canvas = document.createElement('canvas');
    canvas.width = data.width;
    canvas.height = data.height;
    canvas.style.display = 'none';
    document.body.appendChild(canvas);
    return canvas;
  }

  function removeElement(el) {
    el.parentElement.removeChild(el);
  }

}]);

})();

},{"jquery":"jquery"}],"/Users/cescwang/program/sil/SIL-frontend/node_modules/sweetalert/lib/modules/default-params.js":[function(require,module,exports){
'use strict';

Object.defineProperty(exports, '__esModule', {
  value: true
});
var defaultParams = {
  title: '',
  text: '',
  type: null,
  allowOutsideClick: false,
  showConfirmButton: true,
  showCancelButton: false,
  closeOnConfirm: true,
  closeOnCancel: true,
  confirmButtonText: 'OK',
  confirmButtonColor: '#8CD4F5',
  cancelButtonText: 'Cancel',
  imageUrl: null,
  imageSize: null,
  timer: null,
  customClass: '',
  html: false,
  animation: true,
  allowEscapeKey: true,
  inputType: 'text',
  inputPlaceholder: '',
  inputValue: '',
  showLoaderOnConfirm: false
};

exports['default'] = defaultParams;
module.exports = exports['default'];
},{}],"/Users/cescwang/program/sil/SIL-frontend/node_modules/sweetalert/lib/modules/handle-click.js":[function(require,module,exports){
'use strict';

Object.defineProperty(exports, '__esModule', {
  value: true
});

var _colorLuminance = require('./utils');

var _getModal = require('./handle-swal-dom');

var _hasClass$isDescendant = require('./handle-dom');

/*
 * User clicked on "Confirm"/"OK" or "Cancel"
 */
var handleButton = function handleButton(event, params, modal) {
  var e = event || window.event;
  var target = e.target || e.srcElement;

  var targetedConfirm = target.className.indexOf('confirm') !== -1;
  var targetedOverlay = target.className.indexOf('sweet-overlay') !== -1;
  var modalIsVisible = _hasClass$isDescendant.hasClass(modal, 'visible');
  var doneFunctionExists = params.doneFunction && modal.getAttribute('data-has-done-function') === 'true';

  // Since the user can change the background-color of the confirm button programmatically,
  // we must calculate what the color should be on hover/active
  var normalColor, hoverColor, activeColor;
  if (targetedConfirm && params.confirmButtonColor) {
    normalColor = params.confirmButtonColor;
    hoverColor = _colorLuminance.colorLuminance(normalColor, -0.04);
    activeColor = _colorLuminance.colorLuminance(normalColor, -0.14);
  }

  function shouldSetConfirmButtonColor(color) {
    if (targetedConfirm && params.confirmButtonColor) {
      target.style.backgroundColor = color;
    }
  }

  switch (e.type) {
    case 'mouseover':
      shouldSetConfirmButtonColor(hoverColor);
      break;

    case 'mouseout':
      shouldSetConfirmButtonColor(normalColor);
      break;

    case 'mousedown':
      shouldSetConfirmButtonColor(activeColor);
      break;

    case 'mouseup':
      shouldSetConfirmButtonColor(hoverColor);
      break;

    case 'focus':
      var $confirmButton = modal.querySelector('button.confirm');
      var $cancelButton = modal.querySelector('button.cancel');

      if (targetedConfirm) {
        $cancelButton.style.boxShadow = 'none';
      } else {
        $confirmButton.style.boxShadow = 'none';
      }
      break;

    case 'click':
      var clickedOnModal = modal === target;
      var clickedOnModalChild = _hasClass$isDescendant.isDescendant(modal, target);

      // Ignore click outside if allowOutsideClick is false
      if (!clickedOnModal && !clickedOnModalChild && modalIsVisible && !params.allowOutsideClick) {
        break;
      }

      if (targetedConfirm && doneFunctionExists && modalIsVisible) {
        handleConfirm(modal, params);
      } else if (doneFunctionExists && modalIsVisible || targetedOverlay) {
        handleCancel(modal, params);
      } else if (_hasClass$isDescendant.isDescendant(modal, target) && target.tagName === 'BUTTON') {
        sweetAlert.close();
      }
      break;
  }
};

/*
 *  User clicked on "Confirm"/"OK"
 */
var handleConfirm = function handleConfirm(modal, params) {
  var callbackValue = true;

  if (_hasClass$isDescendant.hasClass(modal, 'show-input')) {
    callbackValue = modal.querySelector('input').value;

    if (!callbackValue) {
      callbackValue = '';
    }
  }

  params.doneFunction(callbackValue);

  if (params.closeOnConfirm) {
    sweetAlert.close();
  }
  // Disable cancel and confirm button if the parameter is true
  if (params.showLoaderOnConfirm) {
    sweetAlert.disableButtons();
  }
};

/*
 *  User clicked on "Cancel"
 */
var handleCancel = function handleCancel(modal, params) {
  // Check if callback function expects a parameter (to track cancel actions)
  var functionAsStr = String(params.doneFunction).replace(/\s/g, '');
  var functionHandlesCancel = functionAsStr.substring(0, 9) === 'function(' && functionAsStr.substring(9, 10) !== ')';

  if (functionHandlesCancel) {
    params.doneFunction(false);
  }

  if (params.closeOnCancel) {
    sweetAlert.close();
  }
};

exports['default'] = {
  handleButton: handleButton,
  handleConfirm: handleConfirm,
  handleCancel: handleCancel
};
module.exports = exports['default'];
},{"./handle-dom":"/Users/cescwang/program/sil/SIL-frontend/node_modules/sweetalert/lib/modules/handle-dom.js","./handle-swal-dom":"/Users/cescwang/program/sil/SIL-frontend/node_modules/sweetalert/lib/modules/handle-swal-dom.js","./utils":"/Users/cescwang/program/sil/SIL-frontend/node_modules/sweetalert/lib/modules/utils.js"}],"/Users/cescwang/program/sil/SIL-frontend/node_modules/sweetalert/lib/modules/handle-dom.js":[function(require,module,exports){
'use strict';

Object.defineProperty(exports, '__esModule', {
  value: true
});
var hasClass = function hasClass(elem, className) {
  return new RegExp(' ' + className + ' ').test(' ' + elem.className + ' ');
};

var addClass = function addClass(elem, className) {
  if (!hasClass(elem, className)) {
    elem.className += ' ' + className;
  }
};

var removeClass = function removeClass(elem, className) {
  var newClass = ' ' + elem.className.replace(/[\t\r\n]/g, ' ') + ' ';
  if (hasClass(elem, className)) {
    while (newClass.indexOf(' ' + className + ' ') >= 0) {
      newClass = newClass.replace(' ' + className + ' ', ' ');
    }
    elem.className = newClass.replace(/^\s+|\s+$/g, '');
  }
};

var escapeHtml = function escapeHtml(str) {
  var div = document.createElement('div');
  div.appendChild(document.createTextNode(str));
  return div.innerHTML;
};

var _show = function _show(elem) {
  elem.style.opacity = '';
  elem.style.display = 'block';
};

var show = function show(elems) {
  if (elems && !elems.length) {
    return _show(elems);
  }
  for (var i = 0; i < elems.length; ++i) {
    _show(elems[i]);
  }
};

var _hide = function _hide(elem) {
  elem.style.opacity = '';
  elem.style.display = 'none';
};

var hide = function hide(elems) {
  if (elems && !elems.length) {
    return _hide(elems);
  }
  for (var i = 0; i < elems.length; ++i) {
    _hide(elems[i]);
  }
};

var isDescendant = function isDescendant(parent, child) {
  var node = child.parentNode;
  while (node !== null) {
    if (node === parent) {
      return true;
    }
    node = node.parentNode;
  }
  return false;
};

var getTopMargin = function getTopMargin(elem) {
  elem.style.left = '-9999px';
  elem.style.display = 'block';

  var height = elem.clientHeight,
      padding;
  if (typeof getComputedStyle !== 'undefined') {
    // IE 8
    padding = parseInt(getComputedStyle(elem).getPropertyValue('padding-top'), 10);
  } else {
    padding = parseInt(elem.currentStyle.padding);
  }

  elem.style.left = '';
  elem.style.display = 'none';
  return '-' + parseInt((height + padding) / 2) + 'px';
};

var fadeIn = function fadeIn(elem, interval) {
  if (+elem.style.opacity < 1) {
    interval = interval || 16;
    elem.style.opacity = 0;
    elem.style.display = 'block';
    var last = +new Date();
    var tick = (function (_tick) {
      function tick() {
        return _tick.apply(this, arguments);
      }

      tick.toString = function () {
        return _tick.toString();
      };

      return tick;
    })(function () {
      elem.style.opacity = +elem.style.opacity + (new Date() - last) / 100;
      last = +new Date();

      if (+elem.style.opacity < 1) {
        setTimeout(tick, interval);
      }
    });
    tick();
  }
  elem.style.display = 'block'; //fallback IE8
};

var fadeOut = function fadeOut(elem, interval) {
  interval = interval || 16;
  elem.style.opacity = 1;
  var last = +new Date();
  var tick = (function (_tick2) {
    function tick() {
      return _tick2.apply(this, arguments);
    }

    tick.toString = function () {
      return _tick2.toString();
    };

    return tick;
  })(function () {
    elem.style.opacity = +elem.style.opacity - (new Date() - last) / 100;
    last = +new Date();

    if (+elem.style.opacity > 0) {
      setTimeout(tick, interval);
    } else {
      elem.style.display = 'none';
    }
  });
  tick();
};

var fireClick = function fireClick(node) {
  // Taken from http://www.nonobtrusive.com/2011/11/29/programatically-fire-crossbrowser-click-event-with-javascript/
  // Then fixed for today's Chrome browser.
  if (typeof MouseEvent === 'function') {
    // Up-to-date approach
    var mevt = new MouseEvent('click', {
      view: window,
      bubbles: false,
      cancelable: true
    });
    node.dispatchEvent(mevt);
  } else if (document.createEvent) {
    // Fallback
    var evt = document.createEvent('MouseEvents');
    evt.initEvent('click', false, false);
    node.dispatchEvent(evt);
  } else if (document.createEventObject) {
    node.fireEvent('onclick');
  } else if (typeof node.onclick === 'function') {
    node.onclick();
  }
};

var stopEventPropagation = function stopEventPropagation(e) {
  // In particular, make sure the space bar doesn't scroll the main window.
  if (typeof e.stopPropagation === 'function') {
    e.stopPropagation();
    e.preventDefault();
  } else if (window.event && window.event.hasOwnProperty('cancelBubble')) {
    window.event.cancelBubble = true;
  }
};

exports.hasClass = hasClass;
exports.addClass = addClass;
exports.removeClass = removeClass;
exports.escapeHtml = escapeHtml;
exports._show = _show;
exports.show = show;
exports._hide = _hide;
exports.hide = hide;
exports.isDescendant = isDescendant;
exports.getTopMargin = getTopMargin;
exports.fadeIn = fadeIn;
exports.fadeOut = fadeOut;
exports.fireClick = fireClick;
exports.stopEventPropagation = stopEventPropagation;
},{}],"/Users/cescwang/program/sil/SIL-frontend/node_modules/sweetalert/lib/modules/handle-key.js":[function(require,module,exports){
'use strict';

Object.defineProperty(exports, '__esModule', {
  value: true
});

var _stopEventPropagation$fireClick = require('./handle-dom');

var _setFocusStyle = require('./handle-swal-dom');

var handleKeyDown = function handleKeyDown(event, params, modal) {
  var e = event || window.event;
  var keyCode = e.keyCode || e.which;

  var $okButton = modal.querySelector('button.confirm');
  var $cancelButton = modal.querySelector('button.cancel');
  var $modalButtons = modal.querySelectorAll('button[tabindex]');

  if ([9, 13, 32, 27].indexOf(keyCode) === -1) {
    // Don't do work on keys we don't care about.
    return;
  }

  var $targetElement = e.target || e.srcElement;

  var btnIndex = -1; // Find the button - note, this is a nodelist, not an array.
  for (var i = 0; i < $modalButtons.length; i++) {
    if ($targetElement === $modalButtons[i]) {
      btnIndex = i;
      break;
    }
  }

  if (keyCode === 9) {
    // TAB
    if (btnIndex === -1) {
      // No button focused. Jump to the confirm button.
      $targetElement = $okButton;
    } else {
      // Cycle to the next button
      if (btnIndex === $modalButtons.length - 1) {
        $targetElement = $modalButtons[0];
      } else {
        $targetElement = $modalButtons[btnIndex + 1];
      }
    }

    _stopEventPropagation$fireClick.stopEventPropagation(e);
    $targetElement.focus();

    if (params.confirmButtonColor) {
      _setFocusStyle.setFocusStyle($targetElement, params.confirmButtonColor);
    }
  } else {
    if (keyCode === 13) {
      if ($targetElement.tagName === 'INPUT') {
        $targetElement = $okButton;
        $okButton.focus();
      }

      if (btnIndex === -1) {
        // ENTER/SPACE clicked outside of a button.
        $targetElement = $okButton;
      } else {
        // Do nothing - let the browser handle it.
        $targetElement = undefined;
      }
    } else if (keyCode === 27 && params.allowEscapeKey === true) {
      $targetElement = $cancelButton;
      _stopEventPropagation$fireClick.fireClick($targetElement, e);
    } else {
      // Fallback - let the browser handle it.
      $targetElement = undefined;
    }
  }
};

exports['default'] = handleKeyDown;
module.exports = exports['default'];
},{"./handle-dom":"/Users/cescwang/program/sil/SIL-frontend/node_modules/sweetalert/lib/modules/handle-dom.js","./handle-swal-dom":"/Users/cescwang/program/sil/SIL-frontend/node_modules/sweetalert/lib/modules/handle-swal-dom.js"}],"/Users/cescwang/program/sil/SIL-frontend/node_modules/sweetalert/lib/modules/handle-swal-dom.js":[function(require,module,exports){
'use strict';

var _interopRequireWildcard = function (obj) { return obj && obj.__esModule ? obj : { 'default': obj }; };

Object.defineProperty(exports, '__esModule', {
  value: true
});

var _hexToRgb = require('./utils');

var _removeClass$getTopMargin$fadeIn$show$addClass = require('./handle-dom');

var _defaultParams = require('./default-params');

var _defaultParams2 = _interopRequireWildcard(_defaultParams);

/*
 * Add modal + overlay to DOM
 */

var _injectedHTML = require('./injected-html');

var _injectedHTML2 = _interopRequireWildcard(_injectedHTML);

var modalClass = '.sweet-alert';
var overlayClass = '.sweet-overlay';

var sweetAlertInitialize = function sweetAlertInitialize() {
  var sweetWrap = document.createElement('div');
  sweetWrap.innerHTML = _injectedHTML2['default'];

  // Append elements to body
  while (sweetWrap.firstChild) {
    document.body.appendChild(sweetWrap.firstChild);
  }
};

/*
 * Get DOM element of modal
 */
var getModal = (function (_getModal) {
  function getModal() {
    return _getModal.apply(this, arguments);
  }

  getModal.toString = function () {
    return _getModal.toString();
  };

  return getModal;
})(function () {
  var $modal = document.querySelector(modalClass);

  if (!$modal) {
    sweetAlertInitialize();
    $modal = getModal();
  }

  return $modal;
});

/*
 * Get DOM element of input (in modal)
 */
var getInput = function getInput() {
  var $modal = getModal();
  if ($modal) {
    return $modal.querySelector('input');
  }
};

/*
 * Get DOM element of overlay
 */
var getOverlay = function getOverlay() {
  return document.querySelector(overlayClass);
};

/*
 * Add box-shadow style to button (depending on its chosen bg-color)
 */
var setFocusStyle = function setFocusStyle($button, bgColor) {
  var rgbColor = _hexToRgb.hexToRgb(bgColor);
  $button.style.boxShadow = '0 0 2px rgba(' + rgbColor + ', 0.8), inset 0 0 0 1px rgba(0, 0, 0, 0.05)';
};

/*
 * Animation when opening modal
 */
var openModal = function openModal(callback) {
  var $modal = getModal();
  _removeClass$getTopMargin$fadeIn$show$addClass.fadeIn(getOverlay(), 10);
  _removeClass$getTopMargin$fadeIn$show$addClass.show($modal);
  _removeClass$getTopMargin$fadeIn$show$addClass.addClass($modal, 'showSweetAlert');
  _removeClass$getTopMargin$fadeIn$show$addClass.removeClass($modal, 'hideSweetAlert');

  window.previousActiveElement = document.activeElement;
  var $okButton = $modal.querySelector('button.confirm');
  $okButton.focus();

  setTimeout(function () {
    _removeClass$getTopMargin$fadeIn$show$addClass.addClass($modal, 'visible');
  }, 500);

  var timer = $modal.getAttribute('data-timer');

  if (timer !== 'null' && timer !== '') {
    var timerCallback = callback;
    $modal.timeout = setTimeout(function () {
      var doneFunctionExists = (timerCallback || null) && $modal.getAttribute('data-has-done-function') === 'true';
      if (doneFunctionExists) {
        timerCallback(null);
      } else {
        sweetAlert.close();
      }
    }, timer);
  }
};

/*
 * Reset the styling of the input
 * (for example if errors have been shown)
 */
var resetInput = function resetInput() {
  var $modal = getModal();
  var $input = getInput();

  _removeClass$getTopMargin$fadeIn$show$addClass.removeClass($modal, 'show-input');
  $input.value = _defaultParams2['default'].inputValue;
  $input.setAttribute('type', _defaultParams2['default'].inputType);
  $input.setAttribute('placeholder', _defaultParams2['default'].inputPlaceholder);

  resetInputError();
};

var resetInputError = function resetInputError(event) {
  // If press enter => ignore
  if (event && event.keyCode === 13) {
    return false;
  }

  var $modal = getModal();

  var $errorIcon = $modal.querySelector('.sa-input-error');
  _removeClass$getTopMargin$fadeIn$show$addClass.removeClass($errorIcon, 'show');

  var $errorContainer = $modal.querySelector('.sa-error-container');
  _removeClass$getTopMargin$fadeIn$show$addClass.removeClass($errorContainer, 'show');
};

/*
 * Set "margin-top"-property on modal based on its computed height
 */
var fixVerticalPosition = function fixVerticalPosition() {
  var $modal = getModal();
  $modal.style.marginTop = _removeClass$getTopMargin$fadeIn$show$addClass.getTopMargin(getModal());
};

exports.sweetAlertInitialize = sweetAlertInitialize;
exports.getModal = getModal;
exports.getOverlay = getOverlay;
exports.getInput = getInput;
exports.setFocusStyle = setFocusStyle;
exports.openModal = openModal;
exports.resetInput = resetInput;
exports.resetInputError = resetInputError;
exports.fixVerticalPosition = fixVerticalPosition;
},{"./default-params":"/Users/cescwang/program/sil/SIL-frontend/node_modules/sweetalert/lib/modules/default-params.js","./handle-dom":"/Users/cescwang/program/sil/SIL-frontend/node_modules/sweetalert/lib/modules/handle-dom.js","./injected-html":"/Users/cescwang/program/sil/SIL-frontend/node_modules/sweetalert/lib/modules/injected-html.js","./utils":"/Users/cescwang/program/sil/SIL-frontend/node_modules/sweetalert/lib/modules/utils.js"}],"/Users/cescwang/program/sil/SIL-frontend/node_modules/sweetalert/lib/modules/injected-html.js":[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
var injectedHTML =

// Dark overlay
"<div class=\"sweet-overlay\" tabIndex=\"-1\"></div>" +

// Modal
"<div class=\"sweet-alert\">" +

// Error icon
"<div class=\"sa-icon sa-error\">\n      <span class=\"sa-x-mark\">\n        <span class=\"sa-line sa-left\"></span>\n        <span class=\"sa-line sa-right\"></span>\n      </span>\n    </div>" +

// Warning icon
"<div class=\"sa-icon sa-warning\">\n      <span class=\"sa-body\"></span>\n      <span class=\"sa-dot\"></span>\n    </div>" +

// Info icon
"<div class=\"sa-icon sa-info\"></div>" +

// Success icon
"<div class=\"sa-icon sa-success\">\n      <span class=\"sa-line sa-tip\"></span>\n      <span class=\"sa-line sa-long\"></span>\n\n      <div class=\"sa-placeholder\"></div>\n      <div class=\"sa-fix\"></div>\n    </div>" + "<div class=\"sa-icon sa-custom\"></div>" +

// Title, text and input
"<h2>Title</h2>\n    <p>Text</p>\n    <fieldset>\n      <input type=\"text\" tabIndex=\"3\" />\n      <div class=\"sa-input-error\"></div>\n    </fieldset>" +

// Input errors
"<div class=\"sa-error-container\">\n      <div class=\"icon\">!</div>\n      <p>Not valid!</p>\n    </div>" +

// Cancel and confirm buttons
"<div class=\"sa-button-container\">\n      <button class=\"cancel\" tabIndex=\"2\">Cancel</button>\n      <div class=\"sa-confirm-button-container\">\n        <button class=\"confirm\" tabIndex=\"1\">OK</button>" +

// Loading animation
"<div class=\"la-ball-fall\">\n          <div></div>\n          <div></div>\n          <div></div>\n        </div>\n      </div>\n    </div>" +

// End of modal
"</div>";

exports["default"] = injectedHTML;
module.exports = exports["default"];
},{}],"/Users/cescwang/program/sil/SIL-frontend/node_modules/sweetalert/lib/modules/set-params.js":[function(require,module,exports){
'use strict';

Object.defineProperty(exports, '__esModule', {
  value: true
});

var _isIE8 = require('./utils');

var _getModal$getInput$setFocusStyle = require('./handle-swal-dom');

var _hasClass$addClass$removeClass$escapeHtml$_show$show$_hide$hide = require('./handle-dom');

var alertTypes = ['error', 'warning', 'info', 'success', 'input', 'prompt'];

/*
 * Set type, text and actions on modal
 */
var setParameters = function setParameters(params) {
  var modal = _getModal$getInput$setFocusStyle.getModal();

  var $title = modal.querySelector('h2');
  var $text = modal.querySelector('p');
  var $cancelBtn = modal.querySelector('button.cancel');
  var $confirmBtn = modal.querySelector('button.confirm');

  /*
   * Title
   */
  $title.innerHTML = params.html ? params.title : _hasClass$addClass$removeClass$escapeHtml$_show$show$_hide$hide.escapeHtml(params.title).split('\n').join('<br>');

  /*
   * Text
   */
  $text.innerHTML = params.html ? params.text : _hasClass$addClass$removeClass$escapeHtml$_show$show$_hide$hide.escapeHtml(params.text || '').split('\n').join('<br>');
  if (params.text) _hasClass$addClass$removeClass$escapeHtml$_show$show$_hide$hide.show($text);

  /*
   * Custom class
   */
  if (params.customClass) {
    _hasClass$addClass$removeClass$escapeHtml$_show$show$_hide$hide.addClass(modal, params.customClass);
    modal.setAttribute('data-custom-class', params.customClass);
  } else {
    // Find previously set classes and remove them
    var customClass = modal.getAttribute('data-custom-class');
    _hasClass$addClass$removeClass$escapeHtml$_show$show$_hide$hide.removeClass(modal, customClass);
    modal.setAttribute('data-custom-class', '');
  }

  /*
   * Icon
   */
  _hasClass$addClass$removeClass$escapeHtml$_show$show$_hide$hide.hide(modal.querySelectorAll('.sa-icon'));

  if (params.type && !_isIE8.isIE8()) {
    var _ret = (function () {

      var validType = false;

      for (var i = 0; i < alertTypes.length; i++) {
        if (params.type === alertTypes[i]) {
          validType = true;
          break;
        }
      }

      if (!validType) {
        logStr('Unknown alert type: ' + params.type);
        return {
          v: false
        };
      }

      var typesWithIcons = ['success', 'error', 'warning', 'info'];
      var $icon = undefined;

      if (typesWithIcons.indexOf(params.type) !== -1) {
        $icon = modal.querySelector('.sa-icon.' + 'sa-' + params.type);
        _hasClass$addClass$removeClass$escapeHtml$_show$show$_hide$hide.show($icon);
      }

      var $input = _getModal$getInput$setFocusStyle.getInput();

      // Animate icon
      switch (params.type) {

        case 'success':
          _hasClass$addClass$removeClass$escapeHtml$_show$show$_hide$hide.addClass($icon, 'animate');
          _hasClass$addClass$removeClass$escapeHtml$_show$show$_hide$hide.addClass($icon.querySelector('.sa-tip'), 'animateSuccessTip');
          _hasClass$addClass$removeClass$escapeHtml$_show$show$_hide$hide.addClass($icon.querySelector('.sa-long'), 'animateSuccessLong');
          break;

        case 'error':
          _hasClass$addClass$removeClass$escapeHtml$_show$show$_hide$hide.addClass($icon, 'animateErrorIcon');
          _hasClass$addClass$removeClass$escapeHtml$_show$show$_hide$hide.addClass($icon.querySelector('.sa-x-mark'), 'animateXMark');
          break;

        case 'warning':
          _hasClass$addClass$removeClass$escapeHtml$_show$show$_hide$hide.addClass($icon, 'pulseWarning');
          _hasClass$addClass$removeClass$escapeHtml$_show$show$_hide$hide.addClass($icon.querySelector('.sa-body'), 'pulseWarningIns');
          _hasClass$addClass$removeClass$escapeHtml$_show$show$_hide$hide.addClass($icon.querySelector('.sa-dot'), 'pulseWarningIns');
          break;

        case 'input':
        case 'prompt':
          $input.setAttribute('type', params.inputType);
          $input.value = params.inputValue;
          $input.setAttribute('placeholder', params.inputPlaceholder);
          _hasClass$addClass$removeClass$escapeHtml$_show$show$_hide$hide.addClass(modal, 'show-input');
          setTimeout(function () {
            $input.focus();
            $input.addEventListener('keyup', swal.resetInputError);
          }, 400);
          break;
      }
    })();

    if (typeof _ret === 'object') {
      return _ret.v;
    }
  }

  /*
   * Custom image
   */
  if (params.imageUrl) {
    var $customIcon = modal.querySelector('.sa-icon.sa-custom');

    $customIcon.style.backgroundImage = 'url(' + params.imageUrl + ')';
    _hasClass$addClass$removeClass$escapeHtml$_show$show$_hide$hide.show($customIcon);

    var _imgWidth = 80;
    var _imgHeight = 80;

    if (params.imageSize) {
      var dimensions = params.imageSize.toString().split('x');
      var imgWidth = dimensions[0];
      var imgHeight = dimensions[1];

      if (!imgWidth || !imgHeight) {
        logStr('Parameter imageSize expects value with format WIDTHxHEIGHT, got ' + params.imageSize);
      } else {
        _imgWidth = imgWidth;
        _imgHeight = imgHeight;
      }
    }

    $customIcon.setAttribute('style', $customIcon.getAttribute('style') + 'width:' + _imgWidth + 'px; height:' + _imgHeight + 'px');
  }

  /*
   * Show cancel button?
   */
  modal.setAttribute('data-has-cancel-button', params.showCancelButton);
  if (params.showCancelButton) {
    $cancelBtn.style.display = 'inline-block';
  } else {
    _hasClass$addClass$removeClass$escapeHtml$_show$show$_hide$hide.hide($cancelBtn);
  }

  /*
   * Show confirm button?
   */
  modal.setAttribute('data-has-confirm-button', params.showConfirmButton);
  if (params.showConfirmButton) {
    $confirmBtn.style.display = 'inline-block';
  } else {
    _hasClass$addClass$removeClass$escapeHtml$_show$show$_hide$hide.hide($confirmBtn);
  }

  /*
   * Custom text on cancel/confirm buttons
   */
  if (params.cancelButtonText) {
    $cancelBtn.innerHTML = _hasClass$addClass$removeClass$escapeHtml$_show$show$_hide$hide.escapeHtml(params.cancelButtonText);
  }
  if (params.confirmButtonText) {
    $confirmBtn.innerHTML = _hasClass$addClass$removeClass$escapeHtml$_show$show$_hide$hide.escapeHtml(params.confirmButtonText);
  }

  /*
   * Custom color on confirm button
   */
  if (params.confirmButtonColor) {
    // Set confirm button to selected background color
    $confirmBtn.style.backgroundColor = params.confirmButtonColor;

    // Set the confirm button color to the loading ring
    $confirmBtn.style.borderLeftColor = params.confirmLoadingButtonColor;
    $confirmBtn.style.borderRightColor = params.confirmLoadingButtonColor;

    // Set box-shadow to default focused button
    _getModal$getInput$setFocusStyle.setFocusStyle($confirmBtn, params.confirmButtonColor);
  }

  /*
   * Allow outside click
   */
  modal.setAttribute('data-allow-outside-click', params.allowOutsideClick);

  /*
   * Callback function
   */
  var hasDoneFunction = params.doneFunction ? true : false;
  modal.setAttribute('data-has-done-function', hasDoneFunction);

  /*
   * Animation
   */
  if (!params.animation) {
    modal.setAttribute('data-animation', 'none');
  } else if (typeof params.animation === 'string') {
    modal.setAttribute('data-animation', params.animation); // Custom animation
  } else {
    modal.setAttribute('data-animation', 'pop');
  }

  /*
   * Timer
   */
  modal.setAttribute('data-timer', params.timer);
};

exports['default'] = setParameters;
module.exports = exports['default'];
},{"./handle-dom":"/Users/cescwang/program/sil/SIL-frontend/node_modules/sweetalert/lib/modules/handle-dom.js","./handle-swal-dom":"/Users/cescwang/program/sil/SIL-frontend/node_modules/sweetalert/lib/modules/handle-swal-dom.js","./utils":"/Users/cescwang/program/sil/SIL-frontend/node_modules/sweetalert/lib/modules/utils.js"}],"/Users/cescwang/program/sil/SIL-frontend/node_modules/sweetalert/lib/modules/utils.js":[function(require,module,exports){
'use strict';

Object.defineProperty(exports, '__esModule', {
  value: true
});
/*
 * Allow user to pass their own params
 */
var extend = function extend(a, b) {
  for (var key in b) {
    if (b.hasOwnProperty(key)) {
      a[key] = b[key];
    }
  }
  return a;
};

/*
 * Convert HEX codes to RGB values (#000000 -> rgb(0,0,0))
 */
var hexToRgb = function hexToRgb(hex) {
  var result = /^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(hex);
  return result ? parseInt(result[1], 16) + ', ' + parseInt(result[2], 16) + ', ' + parseInt(result[3], 16) : null;
};

/*
 * Check if the user is using Internet Explorer 8 (for fallbacks)
 */
var isIE8 = function isIE8() {
  return window.attachEvent && !window.addEventListener;
};

/*
 * IE compatible logging for developers
 */
var logStr = function logStr(string) {
  if (window.console) {
    // IE...
    window.console.log('SweetAlert: ' + string);
  }
};

/*
 * Set hover, active and focus-states for buttons 
 * (source: http://www.sitepoint.com/javascript-generate-lighter-darker-color)
 */
var colorLuminance = function colorLuminance(hex, lum) {
  // Validate hex string
  hex = String(hex).replace(/[^0-9a-f]/gi, '');
  if (hex.length < 6) {
    hex = hex[0] + hex[0] + hex[1] + hex[1] + hex[2] + hex[2];
  }
  lum = lum || 0;

  // Convert to decimal and change luminosity
  var rgb = '#';
  var c;
  var i;

  for (i = 0; i < 3; i++) {
    c = parseInt(hex.substr(i * 2, 2), 16);
    c = Math.round(Math.min(Math.max(0, c + c * lum), 255)).toString(16);
    rgb += ('00' + c).substr(c.length);
  }

  return rgb;
};

exports.extend = extend;
exports.hexToRgb = hexToRgb;
exports.isIE8 = isIE8;
exports.logStr = logStr;
exports.colorLuminance = colorLuminance;
},{}],"/Users/cescwang/program/sil/SIL-frontend/node_modules/sweetalert/lib/sweetalert.js":[function(require,module,exports){
'use strict';

var _interopRequireWildcard = function (obj) { return obj && obj.__esModule ? obj : { 'default': obj }; };

Object.defineProperty(exports, '__esModule', {
  value: true
});
// SweetAlert
// 2014-2015 (c) - Tristan Edwards
// github.com/t4t5/sweetalert

/*
 * jQuery-like functions for manipulating the DOM
 */

var _hasClass$addClass$removeClass$escapeHtml$_show$show$_hide$hide$isDescendant$getTopMargin$fadeIn$fadeOut$fireClick$stopEventPropagation = require('./modules/handle-dom');

/*
 * Handy utilities
 */

var _extend$hexToRgb$isIE8$logStr$colorLuminance = require('./modules/utils');

/*
 *  Handle sweetAlert's DOM elements
 */

var _sweetAlertInitialize$getModal$getOverlay$getInput$setFocusStyle$openModal$resetInput$fixVerticalPosition = require('./modules/handle-swal-dom');

// Handle button events and keyboard events

var _handleButton$handleConfirm$handleCancel = require('./modules/handle-click');

var _handleKeyDown = require('./modules/handle-key');

var _handleKeyDown2 = _interopRequireWildcard(_handleKeyDown);

// Default values

var _defaultParams = require('./modules/default-params');

var _defaultParams2 = _interopRequireWildcard(_defaultParams);

var _setParameters = require('./modules/set-params');

var _setParameters2 = _interopRequireWildcard(_setParameters);

/*
 * Remember state in cases where opening and handling a modal will fiddle with it.
 * (We also use window.previousActiveElement as a global variable)
 */
var previousWindowKeyDown;
var lastFocusedButton;

/*
 * Global sweetAlert function
 * (this is what the user calls)
 */
var sweetAlert, swal;

exports['default'] = sweetAlert = swal = function () {
  var customizations = arguments[0];

  _hasClass$addClass$removeClass$escapeHtml$_show$show$_hide$hide$isDescendant$getTopMargin$fadeIn$fadeOut$fireClick$stopEventPropagation.addClass(document.body, 'stop-scrolling');
  _sweetAlertInitialize$getModal$getOverlay$getInput$setFocusStyle$openModal$resetInput$fixVerticalPosition.resetInput();

  /*
   * Use argument if defined or default value from params object otherwise.
   * Supports the case where a default value is boolean true and should be
   * overridden by a corresponding explicit argument which is boolean false.
   */
  function argumentOrDefault(key) {
    var args = customizations;
    return args[key] === undefined ? _defaultParams2['default'][key] : args[key];
  }

  if (customizations === undefined) {
    _extend$hexToRgb$isIE8$logStr$colorLuminance.logStr('SweetAlert expects at least 1 attribute!');
    return false;
  }

  var params = _extend$hexToRgb$isIE8$logStr$colorLuminance.extend({}, _defaultParams2['default']);

  switch (typeof customizations) {

    // Ex: swal("Hello", "Just testing", "info");
    case 'string':
      params.title = customizations;
      params.text = arguments[1] || '';
      params.type = arguments[2] || '';
      break;

    // Ex: swal({ title:"Hello", text: "Just testing", type: "info" });
    case 'object':
      if (customizations.title === undefined) {
        _extend$hexToRgb$isIE8$logStr$colorLuminance.logStr('Missing "title" argument!');
        return false;
      }

      params.title = customizations.title;

      for (var customName in _defaultParams2['default']) {
        params[customName] = argumentOrDefault(customName);
      }

      // Show "Confirm" instead of "OK" if cancel button is visible
      params.confirmButtonText = params.showCancelButton ? 'Confirm' : _defaultParams2['default'].confirmButtonText;
      params.confirmButtonText = argumentOrDefault('confirmButtonText');

      // Callback function when clicking on "OK"/"Cancel"
      params.doneFunction = arguments[1] || null;

      break;

    default:
      _extend$hexToRgb$isIE8$logStr$colorLuminance.logStr('Unexpected type of argument! Expected "string" or "object", got ' + typeof customizations);
      return false;

  }

  _setParameters2['default'](params);
  _sweetAlertInitialize$getModal$getOverlay$getInput$setFocusStyle$openModal$resetInput$fixVerticalPosition.fixVerticalPosition();
  _sweetAlertInitialize$getModal$getOverlay$getInput$setFocusStyle$openModal$resetInput$fixVerticalPosition.openModal(arguments[1]);

  // Modal interactions
  var modal = _sweetAlertInitialize$getModal$getOverlay$getInput$setFocusStyle$openModal$resetInput$fixVerticalPosition.getModal();

  /*
   * Make sure all modal buttons respond to all events
   */
  var $buttons = modal.querySelectorAll('button');
  var buttonEvents = ['onclick', 'onmouseover', 'onmouseout', 'onmousedown', 'onmouseup', 'onfocus'];
  var onButtonEvent = function onButtonEvent(e) {
    return _handleButton$handleConfirm$handleCancel.handleButton(e, params, modal);
  };

  for (var btnIndex = 0; btnIndex < $buttons.length; btnIndex++) {
    for (var evtIndex = 0; evtIndex < buttonEvents.length; evtIndex++) {
      var btnEvt = buttonEvents[evtIndex];
      $buttons[btnIndex][btnEvt] = onButtonEvent;
    }
  }

  // Clicking outside the modal dismisses it (if allowed by user)
  _sweetAlertInitialize$getModal$getOverlay$getInput$setFocusStyle$openModal$resetInput$fixVerticalPosition.getOverlay().onclick = onButtonEvent;

  previousWindowKeyDown = window.onkeydown;

  var onKeyEvent = function onKeyEvent(e) {
    return _handleKeyDown2['default'](e, params, modal);
  };
  window.onkeydown = onKeyEvent;

  window.onfocus = function () {
    // When the user has focused away and focused back from the whole window.
    setTimeout(function () {
      // Put in a timeout to jump out of the event sequence.
      // Calling focus() in the event sequence confuses things.
      if (lastFocusedButton !== undefined) {
        lastFocusedButton.focus();
        lastFocusedButton = undefined;
      }
    }, 0);
  };

  // Show alert with enabled buttons always
  swal.enableButtons();
};

/*
 * Set default params for each popup
 * @param {Object} userParams
 */
sweetAlert.setDefaults = swal.setDefaults = function (userParams) {
  if (!userParams) {
    throw new Error('userParams is required');
  }
  if (typeof userParams !== 'object') {
    throw new Error('userParams has to be a object');
  }

  _extend$hexToRgb$isIE8$logStr$colorLuminance.extend(_defaultParams2['default'], userParams);
};

/*
 * Animation when closing modal
 */
sweetAlert.close = swal.close = function () {
  var modal = _sweetAlertInitialize$getModal$getOverlay$getInput$setFocusStyle$openModal$resetInput$fixVerticalPosition.getModal();

  _hasClass$addClass$removeClass$escapeHtml$_show$show$_hide$hide$isDescendant$getTopMargin$fadeIn$fadeOut$fireClick$stopEventPropagation.fadeOut(_sweetAlertInitialize$getModal$getOverlay$getInput$setFocusStyle$openModal$resetInput$fixVerticalPosition.getOverlay(), 5);
  _hasClass$addClass$removeClass$escapeHtml$_show$show$_hide$hide$isDescendant$getTopMargin$fadeIn$fadeOut$fireClick$stopEventPropagation.fadeOut(modal, 5);
  _hasClass$addClass$removeClass$escapeHtml$_show$show$_hide$hide$isDescendant$getTopMargin$fadeIn$fadeOut$fireClick$stopEventPropagation.removeClass(modal, 'showSweetAlert');
  _hasClass$addClass$removeClass$escapeHtml$_show$show$_hide$hide$isDescendant$getTopMargin$fadeIn$fadeOut$fireClick$stopEventPropagation.addClass(modal, 'hideSweetAlert');
  _hasClass$addClass$removeClass$escapeHtml$_show$show$_hide$hide$isDescendant$getTopMargin$fadeIn$fadeOut$fireClick$stopEventPropagation.removeClass(modal, 'visible');

  /*
   * Reset icon animations
   */
  var $successIcon = modal.querySelector('.sa-icon.sa-success');
  _hasClass$addClass$removeClass$escapeHtml$_show$show$_hide$hide$isDescendant$getTopMargin$fadeIn$fadeOut$fireClick$stopEventPropagation.removeClass($successIcon, 'animate');
  _hasClass$addClass$removeClass$escapeHtml$_show$show$_hide$hide$isDescendant$getTopMargin$fadeIn$fadeOut$fireClick$stopEventPropagation.removeClass($successIcon.querySelector('.sa-tip'), 'animateSuccessTip');
  _hasClass$addClass$removeClass$escapeHtml$_show$show$_hide$hide$isDescendant$getTopMargin$fadeIn$fadeOut$fireClick$stopEventPropagation.removeClass($successIcon.querySelector('.sa-long'), 'animateSuccessLong');

  var $errorIcon = modal.querySelector('.sa-icon.sa-error');
  _hasClass$addClass$removeClass$escapeHtml$_show$show$_hide$hide$isDescendant$getTopMargin$fadeIn$fadeOut$fireClick$stopEventPropagation.removeClass($errorIcon, 'animateErrorIcon');
  _hasClass$addClass$removeClass$escapeHtml$_show$show$_hide$hide$isDescendant$getTopMargin$fadeIn$fadeOut$fireClick$stopEventPropagation.removeClass($errorIcon.querySelector('.sa-x-mark'), 'animateXMark');

  var $warningIcon = modal.querySelector('.sa-icon.sa-warning');
  _hasClass$addClass$removeClass$escapeHtml$_show$show$_hide$hide$isDescendant$getTopMargin$fadeIn$fadeOut$fireClick$stopEventPropagation.removeClass($warningIcon, 'pulseWarning');
  _hasClass$addClass$removeClass$escapeHtml$_show$show$_hide$hide$isDescendant$getTopMargin$fadeIn$fadeOut$fireClick$stopEventPropagation.removeClass($warningIcon.querySelector('.sa-body'), 'pulseWarningIns');
  _hasClass$addClass$removeClass$escapeHtml$_show$show$_hide$hide$isDescendant$getTopMargin$fadeIn$fadeOut$fireClick$stopEventPropagation.removeClass($warningIcon.querySelector('.sa-dot'), 'pulseWarningIns');

  // Reset custom class (delay so that UI changes aren't visible)
  setTimeout(function () {
    var customClass = modal.getAttribute('data-custom-class');
    _hasClass$addClass$removeClass$escapeHtml$_show$show$_hide$hide$isDescendant$getTopMargin$fadeIn$fadeOut$fireClick$stopEventPropagation.removeClass(modal, customClass);
  }, 300);

  // Make page scrollable again
  _hasClass$addClass$removeClass$escapeHtml$_show$show$_hide$hide$isDescendant$getTopMargin$fadeIn$fadeOut$fireClick$stopEventPropagation.removeClass(document.body, 'stop-scrolling');

  // Reset the page to its previous state
  window.onkeydown = previousWindowKeyDown;
  if (window.previousActiveElement) {
    window.previousActiveElement.focus();
  }
  lastFocusedButton = undefined;
  clearTimeout(modal.timeout);

  return true;
};

/*
 * Validation of the input field is done by user
 * If something is wrong => call showInputError with errorMessage
 */
sweetAlert.showInputError = swal.showInputError = function (errorMessage) {
  var modal = _sweetAlertInitialize$getModal$getOverlay$getInput$setFocusStyle$openModal$resetInput$fixVerticalPosition.getModal();

  var $errorIcon = modal.querySelector('.sa-input-error');
  _hasClass$addClass$removeClass$escapeHtml$_show$show$_hide$hide$isDescendant$getTopMargin$fadeIn$fadeOut$fireClick$stopEventPropagation.addClass($errorIcon, 'show');

  var $errorContainer = modal.querySelector('.sa-error-container');
  _hasClass$addClass$removeClass$escapeHtml$_show$show$_hide$hide$isDescendant$getTopMargin$fadeIn$fadeOut$fireClick$stopEventPropagation.addClass($errorContainer, 'show');

  $errorContainer.querySelector('p').innerHTML = errorMessage;

  setTimeout(function () {
    sweetAlert.enableButtons();
  }, 1);

  modal.querySelector('input').focus();
};

/*
 * Reset input error DOM elements
 */
sweetAlert.resetInputError = swal.resetInputError = function (event) {
  // If press enter => ignore
  if (event && event.keyCode === 13) {
    return false;
  }

  var $modal = _sweetAlertInitialize$getModal$getOverlay$getInput$setFocusStyle$openModal$resetInput$fixVerticalPosition.getModal();

  var $errorIcon = $modal.querySelector('.sa-input-error');
  _hasClass$addClass$removeClass$escapeHtml$_show$show$_hide$hide$isDescendant$getTopMargin$fadeIn$fadeOut$fireClick$stopEventPropagation.removeClass($errorIcon, 'show');

  var $errorContainer = $modal.querySelector('.sa-error-container');
  _hasClass$addClass$removeClass$escapeHtml$_show$show$_hide$hide$isDescendant$getTopMargin$fadeIn$fadeOut$fireClick$stopEventPropagation.removeClass($errorContainer, 'show');
};

/*
 * Disable confirm and cancel buttons
 */
sweetAlert.disableButtons = swal.disableButtons = function (event) {
  var modal = _sweetAlertInitialize$getModal$getOverlay$getInput$setFocusStyle$openModal$resetInput$fixVerticalPosition.getModal();
  var $confirmButton = modal.querySelector('button.confirm');
  var $cancelButton = modal.querySelector('button.cancel');
  $confirmButton.disabled = true;
  $cancelButton.disabled = true;
};

/*
 * Enable confirm and cancel buttons
 */
sweetAlert.enableButtons = swal.enableButtons = function (event) {
  var modal = _sweetAlertInitialize$getModal$getOverlay$getInput$setFocusStyle$openModal$resetInput$fixVerticalPosition.getModal();
  var $confirmButton = modal.querySelector('button.confirm');
  var $cancelButton = modal.querySelector('button.cancel');
  $confirmButton.disabled = false;
  $cancelButton.disabled = false;
};

if (typeof window !== 'undefined') {
  // The 'handle-click' module requires
  // that 'sweetAlert' was set as global.
  window.sweetAlert = window.swal = sweetAlert;
} else {
  _extend$hexToRgb$isIE8$logStr$colorLuminance.logStr('SweetAlert is a frontend module!');
}
module.exports = exports['default'];
},{"./modules/default-params":"/Users/cescwang/program/sil/SIL-frontend/node_modules/sweetalert/lib/modules/default-params.js","./modules/handle-click":"/Users/cescwang/program/sil/SIL-frontend/node_modules/sweetalert/lib/modules/handle-click.js","./modules/handle-dom":"/Users/cescwang/program/sil/SIL-frontend/node_modules/sweetalert/lib/modules/handle-dom.js","./modules/handle-key":"/Users/cescwang/program/sil/SIL-frontend/node_modules/sweetalert/lib/modules/handle-key.js","./modules/handle-swal-dom":"/Users/cescwang/program/sil/SIL-frontend/node_modules/sweetalert/lib/modules/handle-swal-dom.js","./modules/set-params":"/Users/cescwang/program/sil/SIL-frontend/node_modules/sweetalert/lib/modules/set-params.js","./modules/utils":"/Users/cescwang/program/sil/SIL-frontend/node_modules/sweetalert/lib/modules/utils.js"}],"/Users/cescwang/program/sil/SIL-frontend/node_modules/underscore/underscore.js":[function(require,module,exports){
//     Underscore.js 1.8.3
//     http://underscorejs.org
//     (c) 2009-2015 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
//     Underscore may be freely distributed under the MIT license.

(function() {

  // Baseline setup
  // --------------

  // Establish the root object, `window` in the browser, or `exports` on the server.
  var root = this;

  // Save the previous value of the `_` variable.
  var previousUnderscore = root._;

  // Save bytes in the minified (but not gzipped) version:
  var ArrayProto = Array.prototype, ObjProto = Object.prototype, FuncProto = Function.prototype;

  // Create quick reference variables for speed access to core prototypes.
  var
    push             = ArrayProto.push,
    slice            = ArrayProto.slice,
    toString         = ObjProto.toString,
    hasOwnProperty   = ObjProto.hasOwnProperty;

  // All **ECMAScript 5** native function implementations that we hope to use
  // are declared here.
  var
    nativeIsArray      = Array.isArray,
    nativeKeys         = Object.keys,
    nativeBind         = FuncProto.bind,
    nativeCreate       = Object.create;

  // Naked function reference for surrogate-prototype-swapping.
  var Ctor = function(){};

  // Create a safe reference to the Underscore object for use below.
  var _ = function(obj) {
    if (obj instanceof _) return obj;
    if (!(this instanceof _)) return new _(obj);
    this._wrapped = obj;
  };

  // Export the Underscore object for **Node.js**, with
  // backwards-compatibility for the old `require()` API. If we're in
  // the browser, add `_` as a global object.
  if (typeof exports !== 'undefined') {
    if (typeof module !== 'undefined' && module.exports) {
      exports = module.exports = _;
    }
    exports._ = _;
  } else {
    root._ = _;
  }

  // Current version.
  _.VERSION = '1.8.3';

  // Internal function that returns an efficient (for current engines) version
  // of the passed-in callback, to be repeatedly applied in other Underscore
  // functions.
  var optimizeCb = function(func, context, argCount) {
    if (context === void 0) return func;
    switch (argCount == null ? 3 : argCount) {
      case 1: return function(value) {
        return func.call(context, value);
      };
      case 2: return function(value, other) {
        return func.call(context, value, other);
      };
      case 3: return function(value, index, collection) {
        return func.call(context, value, index, collection);
      };
      case 4: return function(accumulator, value, index, collection) {
        return func.call(context, accumulator, value, index, collection);
      };
    }
    return function() {
      return func.apply(context, arguments);
    };
  };

  // A mostly-internal function to generate callbacks that can be applied
  // to each element in a collection, returning the desired result — either
  // identity, an arbitrary callback, a property matcher, or a property accessor.
  var cb = function(value, context, argCount) {
    if (value == null) return _.identity;
    if (_.isFunction(value)) return optimizeCb(value, context, argCount);
    if (_.isObject(value)) return _.matcher(value);
    return _.property(value);
  };
  _.iteratee = function(value, context) {
    return cb(value, context, Infinity);
  };

  // An internal function for creating assigner functions.
  var createAssigner = function(keysFunc, undefinedOnly) {
    return function(obj) {
      var length = arguments.length;
      if (length < 2 || obj == null) return obj;
      for (var index = 1; index < length; index++) {
        var source = arguments[index],
            keys = keysFunc(source),
            l = keys.length;
        for (var i = 0; i < l; i++) {
          var key = keys[i];
          if (!undefinedOnly || obj[key] === void 0) obj[key] = source[key];
        }
      }
      return obj;
    };
  };

  // An internal function for creating a new object that inherits from another.
  var baseCreate = function(prototype) {
    if (!_.isObject(prototype)) return {};
    if (nativeCreate) return nativeCreate(prototype);
    Ctor.prototype = prototype;
    var result = new Ctor;
    Ctor.prototype = null;
    return result;
  };

  var property = function(key) {
    return function(obj) {
      return obj == null ? void 0 : obj[key];
    };
  };

  // Helper for collection methods to determine whether a collection
  // should be iterated as an array or as an object
  // Related: http://people.mozilla.org/~jorendorff/es6-draft.html#sec-tolength
  // Avoids a very nasty iOS 8 JIT bug on ARM-64. #2094
  var MAX_ARRAY_INDEX = Math.pow(2, 53) - 1;
  var getLength = property('length');
  var isArrayLike = function(collection) {
    var length = getLength(collection);
    return typeof length == 'number' && length >= 0 && length <= MAX_ARRAY_INDEX;
  };

  // Collection Functions
  // --------------------

  // The cornerstone, an `each` implementation, aka `forEach`.
  // Handles raw objects in addition to array-likes. Treats all
  // sparse array-likes as if they were dense.
  _.each = _.forEach = function(obj, iteratee, context) {
    iteratee = optimizeCb(iteratee, context);
    var i, length;
    if (isArrayLike(obj)) {
      for (i = 0, length = obj.length; i < length; i++) {
        iteratee(obj[i], i, obj);
      }
    } else {
      var keys = _.keys(obj);
      for (i = 0, length = keys.length; i < length; i++) {
        iteratee(obj[keys[i]], keys[i], obj);
      }
    }
    return obj;
  };

  // Return the results of applying the iteratee to each element.
  _.map = _.collect = function(obj, iteratee, context) {
    iteratee = cb(iteratee, context);
    var keys = !isArrayLike(obj) && _.keys(obj),
        length = (keys || obj).length,
        results = Array(length);
    for (var index = 0; index < length; index++) {
      var currentKey = keys ? keys[index] : index;
      results[index] = iteratee(obj[currentKey], currentKey, obj);
    }
    return results;
  };

  // Create a reducing function iterating left or right.
  function createReduce(dir) {
    // Optimized iterator function as using arguments.length
    // in the main function will deoptimize the, see #1991.
    function iterator(obj, iteratee, memo, keys, index, length) {
      for (; index >= 0 && index < length; index += dir) {
        var currentKey = keys ? keys[index] : index;
        memo = iteratee(memo, obj[currentKey], currentKey, obj);
      }
      return memo;
    }

    return function(obj, iteratee, memo, context) {
      iteratee = optimizeCb(iteratee, context, 4);
      var keys = !isArrayLike(obj) && _.keys(obj),
          length = (keys || obj).length,
          index = dir > 0 ? 0 : length - 1;
      // Determine the initial value if none is provided.
      if (arguments.length < 3) {
        memo = obj[keys ? keys[index] : index];
        index += dir;
      }
      return iterator(obj, iteratee, memo, keys, index, length);
    };
  }

  // **Reduce** builds up a single result from a list of values, aka `inject`,
  // or `foldl`.
  _.reduce = _.foldl = _.inject = createReduce(1);

  // The right-associative version of reduce, also known as `foldr`.
  _.reduceRight = _.foldr = createReduce(-1);

  // Return the first value which passes a truth test. Aliased as `detect`.
  _.find = _.detect = function(obj, predicate, context) {
    var key;
    if (isArrayLike(obj)) {
      key = _.findIndex(obj, predicate, context);
    } else {
      key = _.findKey(obj, predicate, context);
    }
    if (key !== void 0 && key !== -1) return obj[key];
  };

  // Return all the elements that pass a truth test.
  // Aliased as `select`.
  _.filter = _.select = function(obj, predicate, context) {
    var results = [];
    predicate = cb(predicate, context);
    _.each(obj, function(value, index, list) {
      if (predicate(value, index, list)) results.push(value);
    });
    return results;
  };

  // Return all the elements for which a truth test fails.
  _.reject = function(obj, predicate, context) {
    return _.filter(obj, _.negate(cb(predicate)), context);
  };

  // Determine whether all of the elements match a truth test.
  // Aliased as `all`.
  _.every = _.all = function(obj, predicate, context) {
    predicate = cb(predicate, context);
    var keys = !isArrayLike(obj) && _.keys(obj),
        length = (keys || obj).length;
    for (var index = 0; index < length; index++) {
      var currentKey = keys ? keys[index] : index;
      if (!predicate(obj[currentKey], currentKey, obj)) return false;
    }
    return true;
  };

  // Determine if at least one element in the object matches a truth test.
  // Aliased as `any`.
  _.some = _.any = function(obj, predicate, context) {
    predicate = cb(predicate, context);
    var keys = !isArrayLike(obj) && _.keys(obj),
        length = (keys || obj).length;
    for (var index = 0; index < length; index++) {
      var currentKey = keys ? keys[index] : index;
      if (predicate(obj[currentKey], currentKey, obj)) return true;
    }
    return false;
  };

  // Determine if the array or object contains a given item (using `===`).
  // Aliased as `includes` and `include`.
  _.contains = _.includes = _.include = function(obj, item, fromIndex, guard) {
    if (!isArrayLike(obj)) obj = _.values(obj);
    if (typeof fromIndex != 'number' || guard) fromIndex = 0;
    return _.indexOf(obj, item, fromIndex) >= 0;
  };

  // Invoke a method (with arguments) on every item in a collection.
  _.invoke = function(obj, method) {
    var args = slice.call(arguments, 2);
    var isFunc = _.isFunction(method);
    return _.map(obj, function(value) {
      var func = isFunc ? method : value[method];
      return func == null ? func : func.apply(value, args);
    });
  };

  // Convenience version of a common use case of `map`: fetching a property.
  _.pluck = function(obj, key) {
    return _.map(obj, _.property(key));
  };

  // Convenience version of a common use case of `filter`: selecting only objects
  // containing specific `key:value` pairs.
  _.where = function(obj, attrs) {
    return _.filter(obj, _.matcher(attrs));
  };

  // Convenience version of a common use case of `find`: getting the first object
  // containing specific `key:value` pairs.
  _.findWhere = function(obj, attrs) {
    return _.find(obj, _.matcher(attrs));
  };

  // Return the maximum element (or element-based computation).
  _.max = function(obj, iteratee, context) {
    var result = -Infinity, lastComputed = -Infinity,
        value, computed;
    if (iteratee == null && obj != null) {
      obj = isArrayLike(obj) ? obj : _.values(obj);
      for (var i = 0, length = obj.length; i < length; i++) {
        value = obj[i];
        if (value > result) {
          result = value;
        }
      }
    } else {
      iteratee = cb(iteratee, context);
      _.each(obj, function(value, index, list) {
        computed = iteratee(value, index, list);
        if (computed > lastComputed || computed === -Infinity && result === -Infinity) {
          result = value;
          lastComputed = computed;
        }
      });
    }
    return result;
  };

  // Return the minimum element (or element-based computation).
  _.min = function(obj, iteratee, context) {
    var result = Infinity, lastComputed = Infinity,
        value, computed;
    if (iteratee == null && obj != null) {
      obj = isArrayLike(obj) ? obj : _.values(obj);
      for (var i = 0, length = obj.length; i < length; i++) {
        value = obj[i];
        if (value < result) {
          result = value;
        }
      }
    } else {
      iteratee = cb(iteratee, context);
      _.each(obj, function(value, index, list) {
        computed = iteratee(value, index, list);
        if (computed < lastComputed || computed === Infinity && result === Infinity) {
          result = value;
          lastComputed = computed;
        }
      });
    }
    return result;
  };

  // Shuffle a collection, using the modern version of the
  // [Fisher-Yates shuffle](http://en.wikipedia.org/wiki/Fisher–Yates_shuffle).
  _.shuffle = function(obj) {
    var set = isArrayLike(obj) ? obj : _.values(obj);
    var length = set.length;
    var shuffled = Array(length);
    for (var index = 0, rand; index < length; index++) {
      rand = _.random(0, index);
      if (rand !== index) shuffled[index] = shuffled[rand];
      shuffled[rand] = set[index];
    }
    return shuffled;
  };

  // Sample **n** random values from a collection.
  // If **n** is not specified, returns a single random element.
  // The internal `guard` argument allows it to work with `map`.
  _.sample = function(obj, n, guard) {
    if (n == null || guard) {
      if (!isArrayLike(obj)) obj = _.values(obj);
      return obj[_.random(obj.length - 1)];
    }
    return _.shuffle(obj).slice(0, Math.max(0, n));
  };

  // Sort the object's values by a criterion produced by an iteratee.
  _.sortBy = function(obj, iteratee, context) {
    iteratee = cb(iteratee, context);
    return _.pluck(_.map(obj, function(value, index, list) {
      return {
        value: value,
        index: index,
        criteria: iteratee(value, index, list)
      };
    }).sort(function(left, right) {
      var a = left.criteria;
      var b = right.criteria;
      if (a !== b) {
        if (a > b || a === void 0) return 1;
        if (a < b || b === void 0) return -1;
      }
      return left.index - right.index;
    }), 'value');
  };

  // An internal function used for aggregate "group by" operations.
  var group = function(behavior) {
    return function(obj, iteratee, context) {
      var result = {};
      iteratee = cb(iteratee, context);
      _.each(obj, function(value, index) {
        var key = iteratee(value, index, obj);
        behavior(result, value, key);
      });
      return result;
    };
  };

  // Groups the object's values by a criterion. Pass either a string attribute
  // to group by, or a function that returns the criterion.
  _.groupBy = group(function(result, value, key) {
    if (_.has(result, key)) result[key].push(value); else result[key] = [value];
  });

  // Indexes the object's values by a criterion, similar to `groupBy`, but for
  // when you know that your index values will be unique.
  _.indexBy = group(function(result, value, key) {
    result[key] = value;
  });

  // Counts instances of an object that group by a certain criterion. Pass
  // either a string attribute to count by, or a function that returns the
  // criterion.
  _.countBy = group(function(result, value, key) {
    if (_.has(result, key)) result[key]++; else result[key] = 1;
  });

  // Safely create a real, live array from anything iterable.
  _.toArray = function(obj) {
    if (!obj) return [];
    if (_.isArray(obj)) return slice.call(obj);
    if (isArrayLike(obj)) return _.map(obj, _.identity);
    return _.values(obj);
  };

  // Return the number of elements in an object.
  _.size = function(obj) {
    if (obj == null) return 0;
    return isArrayLike(obj) ? obj.length : _.keys(obj).length;
  };

  // Split a collection into two arrays: one whose elements all satisfy the given
  // predicate, and one whose elements all do not satisfy the predicate.
  _.partition = function(obj, predicate, context) {
    predicate = cb(predicate, context);
    var pass = [], fail = [];
    _.each(obj, function(value, key, obj) {
      (predicate(value, key, obj) ? pass : fail).push(value);
    });
    return [pass, fail];
  };

  // Array Functions
  // ---------------

  // Get the first element of an array. Passing **n** will return the first N
  // values in the array. Aliased as `head` and `take`. The **guard** check
  // allows it to work with `_.map`.
  _.first = _.head = _.take = function(array, n, guard) {
    if (array == null) return void 0;
    if (n == null || guard) return array[0];
    return _.initial(array, array.length - n);
  };

  // Returns everything but the last entry of the array. Especially useful on
  // the arguments object. Passing **n** will return all the values in
  // the array, excluding the last N.
  _.initial = function(array, n, guard) {
    return slice.call(array, 0, Math.max(0, array.length - (n == null || guard ? 1 : n)));
  };

  // Get the last element of an array. Passing **n** will return the last N
  // values in the array.
  _.last = function(array, n, guard) {
    if (array == null) return void 0;
    if (n == null || guard) return array[array.length - 1];
    return _.rest(array, Math.max(0, array.length - n));
  };

  // Returns everything but the first entry of the array. Aliased as `tail` and `drop`.
  // Especially useful on the arguments object. Passing an **n** will return
  // the rest N values in the array.
  _.rest = _.tail = _.drop = function(array, n, guard) {
    return slice.call(array, n == null || guard ? 1 : n);
  };

  // Trim out all falsy values from an array.
  _.compact = function(array) {
    return _.filter(array, _.identity);
  };

  // Internal implementation of a recursive `flatten` function.
  var flatten = function(input, shallow, strict, startIndex) {
    var output = [], idx = 0;
    for (var i = startIndex || 0, length = getLength(input); i < length; i++) {
      var value = input[i];
      if (isArrayLike(value) && (_.isArray(value) || _.isArguments(value))) {
        //flatten current level of array or arguments object
        if (!shallow) value = flatten(value, shallow, strict);
        var j = 0, len = value.length;
        output.length += len;
        while (j < len) {
          output[idx++] = value[j++];
        }
      } else if (!strict) {
        output[idx++] = value;
      }
    }
    return output;
  };

  // Flatten out an array, either recursively (by default), or just one level.
  _.flatten = function(array, shallow) {
    return flatten(array, shallow, false);
  };

  // Return a version of the array that does not contain the specified value(s).
  _.without = function(array) {
    return _.difference(array, slice.call(arguments, 1));
  };

  // Produce a duplicate-free version of the array. If the array has already
  // been sorted, you have the option of using a faster algorithm.
  // Aliased as `unique`.
  _.uniq = _.unique = function(array, isSorted, iteratee, context) {
    if (!_.isBoolean(isSorted)) {
      context = iteratee;
      iteratee = isSorted;
      isSorted = false;
    }
    if (iteratee != null) iteratee = cb(iteratee, context);
    var result = [];
    var seen = [];
    for (var i = 0, length = getLength(array); i < length; i++) {
      var value = array[i],
          computed = iteratee ? iteratee(value, i, array) : value;
      if (isSorted) {
        if (!i || seen !== computed) result.push(value);
        seen = computed;
      } else if (iteratee) {
        if (!_.contains(seen, computed)) {
          seen.push(computed);
          result.push(value);
        }
      } else if (!_.contains(result, value)) {
        result.push(value);
      }
    }
    return result;
  };

  // Produce an array that contains the union: each distinct element from all of
  // the passed-in arrays.
  _.union = function() {
    return _.uniq(flatten(arguments, true, true));
  };

  // Produce an array that contains every item shared between all the
  // passed-in arrays.
  _.intersection = function(array) {
    var result = [];
    var argsLength = arguments.length;
    for (var i = 0, length = getLength(array); i < length; i++) {
      var item = array[i];
      if (_.contains(result, item)) continue;
      for (var j = 1; j < argsLength; j++) {
        if (!_.contains(arguments[j], item)) break;
      }
      if (j === argsLength) result.push(item);
    }
    return result;
  };

  // Take the difference between one array and a number of other arrays.
  // Only the elements present in just the first array will remain.
  _.difference = function(array) {
    var rest = flatten(arguments, true, true, 1);
    return _.filter(array, function(value){
      return !_.contains(rest, value);
    });
  };

  // Zip together multiple lists into a single array -- elements that share
  // an index go together.
  _.zip = function() {
    return _.unzip(arguments);
  };

  // Complement of _.zip. Unzip accepts an array of arrays and groups
  // each array's elements on shared indices
  _.unzip = function(array) {
    var length = array && _.max(array, getLength).length || 0;
    var result = Array(length);

    for (var index = 0; index < length; index++) {
      result[index] = _.pluck(array, index);
    }
    return result;
  };

  // Converts lists into objects. Pass either a single array of `[key, value]`
  // pairs, or two parallel arrays of the same length -- one of keys, and one of
  // the corresponding values.
  _.object = function(list, values) {
    var result = {};
    for (var i = 0, length = getLength(list); i < length; i++) {
      if (values) {
        result[list[i]] = values[i];
      } else {
        result[list[i][0]] = list[i][1];
      }
    }
    return result;
  };

  // Generator function to create the findIndex and findLastIndex functions
  function createPredicateIndexFinder(dir) {
    return function(array, predicate, context) {
      predicate = cb(predicate, context);
      var length = getLength(array);
      var index = dir > 0 ? 0 : length - 1;
      for (; index >= 0 && index < length; index += dir) {
        if (predicate(array[index], index, array)) return index;
      }
      return -1;
    };
  }

  // Returns the first index on an array-like that passes a predicate test
  _.findIndex = createPredicateIndexFinder(1);
  _.findLastIndex = createPredicateIndexFinder(-1);

  // Use a comparator function to figure out the smallest index at which
  // an object should be inserted so as to maintain order. Uses binary search.
  _.sortedIndex = function(array, obj, iteratee, context) {
    iteratee = cb(iteratee, context, 1);
    var value = iteratee(obj);
    var low = 0, high = getLength(array);
    while (low < high) {
      var mid = Math.floor((low + high) / 2);
      if (iteratee(array[mid]) < value) low = mid + 1; else high = mid;
    }
    return low;
  };

  // Generator function to create the indexOf and lastIndexOf functions
  function createIndexFinder(dir, predicateFind, sortedIndex) {
    return function(array, item, idx) {
      var i = 0, length = getLength(array);
      if (typeof idx == 'number') {
        if (dir > 0) {
            i = idx >= 0 ? idx : Math.max(idx + length, i);
        } else {
            length = idx >= 0 ? Math.min(idx + 1, length) : idx + length + 1;
        }
      } else if (sortedIndex && idx && length) {
        idx = sortedIndex(array, item);
        return array[idx] === item ? idx : -1;
      }
      if (item !== item) {
        idx = predicateFind(slice.call(array, i, length), _.isNaN);
        return idx >= 0 ? idx + i : -1;
      }
      for (idx = dir > 0 ? i : length - 1; idx >= 0 && idx < length; idx += dir) {
        if (array[idx] === item) return idx;
      }
      return -1;
    };
  }

  // Return the position of the first occurrence of an item in an array,
  // or -1 if the item is not included in the array.
  // If the array is large and already in sort order, pass `true`
  // for **isSorted** to use binary search.
  _.indexOf = createIndexFinder(1, _.findIndex, _.sortedIndex);
  _.lastIndexOf = createIndexFinder(-1, _.findLastIndex);

  // Generate an integer Array containing an arithmetic progression. A port of
  // the native Python `range()` function. See
  // [the Python documentation](http://docs.python.org/library/functions.html#range).
  _.range = function(start, stop, step) {
    if (stop == null) {
      stop = start || 0;
      start = 0;
    }
    step = step || 1;

    var length = Math.max(Math.ceil((stop - start) / step), 0);
    var range = Array(length);

    for (var idx = 0; idx < length; idx++, start += step) {
      range[idx] = start;
    }

    return range;
  };

  // Function (ahem) Functions
  // ------------------

  // Determines whether to execute a function as a constructor
  // or a normal function with the provided arguments
  var executeBound = function(sourceFunc, boundFunc, context, callingContext, args) {
    if (!(callingContext instanceof boundFunc)) return sourceFunc.apply(context, args);
    var self = baseCreate(sourceFunc.prototype);
    var result = sourceFunc.apply(self, args);
    if (_.isObject(result)) return result;
    return self;
  };

  // Create a function bound to a given object (assigning `this`, and arguments,
  // optionally). Delegates to **ECMAScript 5**'s native `Function.bind` if
  // available.
  _.bind = function(func, context) {
    if (nativeBind && func.bind === nativeBind) return nativeBind.apply(func, slice.call(arguments, 1));
    if (!_.isFunction(func)) throw new TypeError('Bind must be called on a function');
    var args = slice.call(arguments, 2);
    var bound = function() {
      return executeBound(func, bound, context, this, args.concat(slice.call(arguments)));
    };
    return bound;
  };

  // Partially apply a function by creating a version that has had some of its
  // arguments pre-filled, without changing its dynamic `this` context. _ acts
  // as a placeholder, allowing any combination of arguments to be pre-filled.
  _.partial = function(func) {
    var boundArgs = slice.call(arguments, 1);
    var bound = function() {
      var position = 0, length = boundArgs.length;
      var args = Array(length);
      for (var i = 0; i < length; i++) {
        args[i] = boundArgs[i] === _ ? arguments[position++] : boundArgs[i];
      }
      while (position < arguments.length) args.push(arguments[position++]);
      return executeBound(func, bound, this, this, args);
    };
    return bound;
  };

  // Bind a number of an object's methods to that object. Remaining arguments
  // are the method names to be bound. Useful for ensuring that all callbacks
  // defined on an object belong to it.
  _.bindAll = function(obj) {
    var i, length = arguments.length, key;
    if (length <= 1) throw new Error('bindAll must be passed function names');
    for (i = 1; i < length; i++) {
      key = arguments[i];
      obj[key] = _.bind(obj[key], obj);
    }
    return obj;
  };

  // Memoize an expensive function by storing its results.
  _.memoize = function(func, hasher) {
    var memoize = function(key) {
      var cache = memoize.cache;
      var address = '' + (hasher ? hasher.apply(this, arguments) : key);
      if (!_.has(cache, address)) cache[address] = func.apply(this, arguments);
      return cache[address];
    };
    memoize.cache = {};
    return memoize;
  };

  // Delays a function for the given number of milliseconds, and then calls
  // it with the arguments supplied.
  _.delay = function(func, wait) {
    var args = slice.call(arguments, 2);
    return setTimeout(function(){
      return func.apply(null, args);
    }, wait);
  };

  // Defers a function, scheduling it to run after the current call stack has
  // cleared.
  _.defer = _.partial(_.delay, _, 1);

  // Returns a function, that, when invoked, will only be triggered at most once
  // during a given window of time. Normally, the throttled function will run
  // as much as it can, without ever going more than once per `wait` duration;
  // but if you'd like to disable the execution on the leading edge, pass
  // `{leading: false}`. To disable execution on the trailing edge, ditto.
  _.throttle = function(func, wait, options) {
    var context, args, result;
    var timeout = null;
    var previous = 0;
    if (!options) options = {};
    var later = function() {
      previous = options.leading === false ? 0 : _.now();
      timeout = null;
      result = func.apply(context, args);
      if (!timeout) context = args = null;
    };
    return function() {
      var now = _.now();
      if (!previous && options.leading === false) previous = now;
      var remaining = wait - (now - previous);
      context = this;
      args = arguments;
      if (remaining <= 0 || remaining > wait) {
        if (timeout) {
          clearTimeout(timeout);
          timeout = null;
        }
        previous = now;
        result = func.apply(context, args);
        if (!timeout) context = args = null;
      } else if (!timeout && options.trailing !== false) {
        timeout = setTimeout(later, remaining);
      }
      return result;
    };
  };

  // Returns a function, that, as long as it continues to be invoked, will not
  // be triggered. The function will be called after it stops being called for
  // N milliseconds. If `immediate` is passed, trigger the function on the
  // leading edge, instead of the trailing.
  _.debounce = function(func, wait, immediate) {
    var timeout, args, context, timestamp, result;

    var later = function() {
      var last = _.now() - timestamp;

      if (last < wait && last >= 0) {
        timeout = setTimeout(later, wait - last);
      } else {
        timeout = null;
        if (!immediate) {
          result = func.apply(context, args);
          if (!timeout) context = args = null;
        }
      }
    };

    return function() {
      context = this;
      args = arguments;
      timestamp = _.now();
      var callNow = immediate && !timeout;
      if (!timeout) timeout = setTimeout(later, wait);
      if (callNow) {
        result = func.apply(context, args);
        context = args = null;
      }

      return result;
    };
  };

  // Returns the first function passed as an argument to the second,
  // allowing you to adjust arguments, run code before and after, and
  // conditionally execute the original function.
  _.wrap = function(func, wrapper) {
    return _.partial(wrapper, func);
  };

  // Returns a negated version of the passed-in predicate.
  _.negate = function(predicate) {
    return function() {
      return !predicate.apply(this, arguments);
    };
  };

  // Returns a function that is the composition of a list of functions, each
  // consuming the return value of the function that follows.
  _.compose = function() {
    var args = arguments;
    var start = args.length - 1;
    return function() {
      var i = start;
      var result = args[start].apply(this, arguments);
      while (i--) result = args[i].call(this, result);
      return result;
    };
  };

  // Returns a function that will only be executed on and after the Nth call.
  _.after = function(times, func) {
    return function() {
      if (--times < 1) {
        return func.apply(this, arguments);
      }
    };
  };

  // Returns a function that will only be executed up to (but not including) the Nth call.
  _.before = function(times, func) {
    var memo;
    return function() {
      if (--times > 0) {
        memo = func.apply(this, arguments);
      }
      if (times <= 1) func = null;
      return memo;
    };
  };

  // Returns a function that will be executed at most one time, no matter how
  // often you call it. Useful for lazy initialization.
  _.once = _.partial(_.before, 2);

  // Object Functions
  // ----------------

  // Keys in IE < 9 that won't be iterated by `for key in ...` and thus missed.
  var hasEnumBug = !{toString: null}.propertyIsEnumerable('toString');
  var nonEnumerableProps = ['valueOf', 'isPrototypeOf', 'toString',
                      'propertyIsEnumerable', 'hasOwnProperty', 'toLocaleString'];

  function collectNonEnumProps(obj, keys) {
    var nonEnumIdx = nonEnumerableProps.length;
    var constructor = obj.constructor;
    var proto = (_.isFunction(constructor) && constructor.prototype) || ObjProto;

    // Constructor is a special case.
    var prop = 'constructor';
    if (_.has(obj, prop) && !_.contains(keys, prop)) keys.push(prop);

    while (nonEnumIdx--) {
      prop = nonEnumerableProps[nonEnumIdx];
      if (prop in obj && obj[prop] !== proto[prop] && !_.contains(keys, prop)) {
        keys.push(prop);
      }
    }
  }

  // Retrieve the names of an object's own properties.
  // Delegates to **ECMAScript 5**'s native `Object.keys`
  _.keys = function(obj) {
    if (!_.isObject(obj)) return [];
    if (nativeKeys) return nativeKeys(obj);
    var keys = [];
    for (var key in obj) if (_.has(obj, key)) keys.push(key);
    // Ahem, IE < 9.
    if (hasEnumBug) collectNonEnumProps(obj, keys);
    return keys;
  };

  // Retrieve all the property names of an object.
  _.allKeys = function(obj) {
    if (!_.isObject(obj)) return [];
    var keys = [];
    for (var key in obj) keys.push(key);
    // Ahem, IE < 9.
    if (hasEnumBug) collectNonEnumProps(obj, keys);
    return keys;
  };

  // Retrieve the values of an object's properties.
  _.values = function(obj) {
    var keys = _.keys(obj);
    var length = keys.length;
    var values = Array(length);
    for (var i = 0; i < length; i++) {
      values[i] = obj[keys[i]];
    }
    return values;
  };

  // Returns the results of applying the iteratee to each element of the object
  // In contrast to _.map it returns an object
  _.mapObject = function(obj, iteratee, context) {
    iteratee = cb(iteratee, context);
    var keys =  _.keys(obj),
          length = keys.length,
          results = {},
          currentKey;
      for (var index = 0; index < length; index++) {
        currentKey = keys[index];
        results[currentKey] = iteratee(obj[currentKey], currentKey, obj);
      }
      return results;
  };

  // Convert an object into a list of `[key, value]` pairs.
  _.pairs = function(obj) {
    var keys = _.keys(obj);
    var length = keys.length;
    var pairs = Array(length);
    for (var i = 0; i < length; i++) {
      pairs[i] = [keys[i], obj[keys[i]]];
    }
    return pairs;
  };

  // Invert the keys and values of an object. The values must be serializable.
  _.invert = function(obj) {
    var result = {};
    var keys = _.keys(obj);
    for (var i = 0, length = keys.length; i < length; i++) {
      result[obj[keys[i]]] = keys[i];
    }
    return result;
  };

  // Return a sorted list of the function names available on the object.
  // Aliased as `methods`
  _.functions = _.methods = function(obj) {
    var names = [];
    for (var key in obj) {
      if (_.isFunction(obj[key])) names.push(key);
    }
    return names.sort();
  };

  // Extend a given object with all the properties in passed-in object(s).
  _.extend = createAssigner(_.allKeys);

  // Assigns a given object with all the own properties in the passed-in object(s)
  // (https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object/assign)
  _.extendOwn = _.assign = createAssigner(_.keys);

  // Returns the first key on an object that passes a predicate test
  _.findKey = function(obj, predicate, context) {
    predicate = cb(predicate, context);
    var keys = _.keys(obj), key;
    for (var i = 0, length = keys.length; i < length; i++) {
      key = keys[i];
      if (predicate(obj[key], key, obj)) return key;
    }
  };

  // Return a copy of the object only containing the whitelisted properties.
  _.pick = function(object, oiteratee, context) {
    var result = {}, obj = object, iteratee, keys;
    if (obj == null) return result;
    if (_.isFunction(oiteratee)) {
      keys = _.allKeys(obj);
      iteratee = optimizeCb(oiteratee, context);
    } else {
      keys = flatten(arguments, false, false, 1);
      iteratee = function(value, key, obj) { return key in obj; };
      obj = Object(obj);
    }
    for (var i = 0, length = keys.length; i < length; i++) {
      var key = keys[i];
      var value = obj[key];
      if (iteratee(value, key, obj)) result[key] = value;
    }
    return result;
  };

   // Return a copy of the object without the blacklisted properties.
  _.omit = function(obj, iteratee, context) {
    if (_.isFunction(iteratee)) {
      iteratee = _.negate(iteratee);
    } else {
      var keys = _.map(flatten(arguments, false, false, 1), String);
      iteratee = function(value, key) {
        return !_.contains(keys, key);
      };
    }
    return _.pick(obj, iteratee, context);
  };

  // Fill in a given object with default properties.
  _.defaults = createAssigner(_.allKeys, true);

  // Creates an object that inherits from the given prototype object.
  // If additional properties are provided then they will be added to the
  // created object.
  _.create = function(prototype, props) {
    var result = baseCreate(prototype);
    if (props) _.extendOwn(result, props);
    return result;
  };

  // Create a (shallow-cloned) duplicate of an object.
  _.clone = function(obj) {
    if (!_.isObject(obj)) return obj;
    return _.isArray(obj) ? obj.slice() : _.extend({}, obj);
  };

  // Invokes interceptor with the obj, and then returns obj.
  // The primary purpose of this method is to "tap into" a method chain, in
  // order to perform operations on intermediate results within the chain.
  _.tap = function(obj, interceptor) {
    interceptor(obj);
    return obj;
  };

  // Returns whether an object has a given set of `key:value` pairs.
  _.isMatch = function(object, attrs) {
    var keys = _.keys(attrs), length = keys.length;
    if (object == null) return !length;
    var obj = Object(object);
    for (var i = 0; i < length; i++) {
      var key = keys[i];
      if (attrs[key] !== obj[key] || !(key in obj)) return false;
    }
    return true;
  };


  // Internal recursive comparison function for `isEqual`.
  var eq = function(a, b, aStack, bStack) {
    // Identical objects are equal. `0 === -0`, but they aren't identical.
    // See the [Harmony `egal` proposal](http://wiki.ecmascript.org/doku.php?id=harmony:egal).
    if (a === b) return a !== 0 || 1 / a === 1 / b;
    // A strict comparison is necessary because `null == undefined`.
    if (a == null || b == null) return a === b;
    // Unwrap any wrapped objects.
    if (a instanceof _) a = a._wrapped;
    if (b instanceof _) b = b._wrapped;
    // Compare `[[Class]]` names.
    var className = toString.call(a);
    if (className !== toString.call(b)) return false;
    switch (className) {
      // Strings, numbers, regular expressions, dates, and booleans are compared by value.
      case '[object RegExp]':
      // RegExps are coerced to strings for comparison (Note: '' + /a/i === '/a/i')
      case '[object String]':
        // Primitives and their corresponding object wrappers are equivalent; thus, `"5"` is
        // equivalent to `new String("5")`.
        return '' + a === '' + b;
      case '[object Number]':
        // `NaN`s are equivalent, but non-reflexive.
        // Object(NaN) is equivalent to NaN
        if (+a !== +a) return +b !== +b;
        // An `egal` comparison is performed for other numeric values.
        return +a === 0 ? 1 / +a === 1 / b : +a === +b;
      case '[object Date]':
      case '[object Boolean]':
        // Coerce dates and booleans to numeric primitive values. Dates are compared by their
        // millisecond representations. Note that invalid dates with millisecond representations
        // of `NaN` are not equivalent.
        return +a === +b;
    }

    var areArrays = className === '[object Array]';
    if (!areArrays) {
      if (typeof a != 'object' || typeof b != 'object') return false;

      // Objects with different constructors are not equivalent, but `Object`s or `Array`s
      // from different frames are.
      var aCtor = a.constructor, bCtor = b.constructor;
      if (aCtor !== bCtor && !(_.isFunction(aCtor) && aCtor instanceof aCtor &&
                               _.isFunction(bCtor) && bCtor instanceof bCtor)
                          && ('constructor' in a && 'constructor' in b)) {
        return false;
      }
    }
    // Assume equality for cyclic structures. The algorithm for detecting cyclic
    // structures is adapted from ES 5.1 section 15.12.3, abstract operation `JO`.

    // Initializing stack of traversed objects.
    // It's done here since we only need them for objects and arrays comparison.
    aStack = aStack || [];
    bStack = bStack || [];
    var length = aStack.length;
    while (length--) {
      // Linear search. Performance is inversely proportional to the number of
      // unique nested structures.
      if (aStack[length] === a) return bStack[length] === b;
    }

    // Add the first object to the stack of traversed objects.
    aStack.push(a);
    bStack.push(b);

    // Recursively compare objects and arrays.
    if (areArrays) {
      // Compare array lengths to determine if a deep comparison is necessary.
      length = a.length;
      if (length !== b.length) return false;
      // Deep compare the contents, ignoring non-numeric properties.
      while (length--) {
        if (!eq(a[length], b[length], aStack, bStack)) return false;
      }
    } else {
      // Deep compare objects.
      var keys = _.keys(a), key;
      length = keys.length;
      // Ensure that both objects contain the same number of properties before comparing deep equality.
      if (_.keys(b).length !== length) return false;
      while (length--) {
        // Deep compare each member
        key = keys[length];
        if (!(_.has(b, key) && eq(a[key], b[key], aStack, bStack))) return false;
      }
    }
    // Remove the first object from the stack of traversed objects.
    aStack.pop();
    bStack.pop();
    return true;
  };

  // Perform a deep comparison to check if two objects are equal.
  _.isEqual = function(a, b) {
    return eq(a, b);
  };

  // Is a given array, string, or object empty?
  // An "empty" object has no enumerable own-properties.
  _.isEmpty = function(obj) {
    if (obj == null) return true;
    if (isArrayLike(obj) && (_.isArray(obj) || _.isString(obj) || _.isArguments(obj))) return obj.length === 0;
    return _.keys(obj).length === 0;
  };

  // Is a given value a DOM element?
  _.isElement = function(obj) {
    return !!(obj && obj.nodeType === 1);
  };

  // Is a given value an array?
  // Delegates to ECMA5's native Array.isArray
  _.isArray = nativeIsArray || function(obj) {
    return toString.call(obj) === '[object Array]';
  };

  // Is a given variable an object?
  _.isObject = function(obj) {
    var type = typeof obj;
    return type === 'function' || type === 'object' && !!obj;
  };

  // Add some isType methods: isArguments, isFunction, isString, isNumber, isDate, isRegExp, isError.
  _.each(['Arguments', 'Function', 'String', 'Number', 'Date', 'RegExp', 'Error'], function(name) {
    _['is' + name] = function(obj) {
      return toString.call(obj) === '[object ' + name + ']';
    };
  });

  // Define a fallback version of the method in browsers (ahem, IE < 9), where
  // there isn't any inspectable "Arguments" type.
  if (!_.isArguments(arguments)) {
    _.isArguments = function(obj) {
      return _.has(obj, 'callee');
    };
  }

  // Optimize `isFunction` if appropriate. Work around some typeof bugs in old v8,
  // IE 11 (#1621), and in Safari 8 (#1929).
  if (typeof /./ != 'function' && typeof Int8Array != 'object') {
    _.isFunction = function(obj) {
      return typeof obj == 'function' || false;
    };
  }

  // Is a given object a finite number?
  _.isFinite = function(obj) {
    return isFinite(obj) && !isNaN(parseFloat(obj));
  };

  // Is the given value `NaN`? (NaN is the only number which does not equal itself).
  _.isNaN = function(obj) {
    return _.isNumber(obj) && obj !== +obj;
  };

  // Is a given value a boolean?
  _.isBoolean = function(obj) {
    return obj === true || obj === false || toString.call(obj) === '[object Boolean]';
  };

  // Is a given value equal to null?
  _.isNull = function(obj) {
    return obj === null;
  };

  // Is a given variable undefined?
  _.isUndefined = function(obj) {
    return obj === void 0;
  };

  // Shortcut function for checking if an object has a given property directly
  // on itself (in other words, not on a prototype).
  _.has = function(obj, key) {
    return obj != null && hasOwnProperty.call(obj, key);
  };

  // Utility Functions
  // -----------------

  // Run Underscore.js in *noConflict* mode, returning the `_` variable to its
  // previous owner. Returns a reference to the Underscore object.
  _.noConflict = function() {
    root._ = previousUnderscore;
    return this;
  };

  // Keep the identity function around for default iteratees.
  _.identity = function(value) {
    return value;
  };

  // Predicate-generating functions. Often useful outside of Underscore.
  _.constant = function(value) {
    return function() {
      return value;
    };
  };

  _.noop = function(){};

  _.property = property;

  // Generates a function for a given object that returns a given property.
  _.propertyOf = function(obj) {
    return obj == null ? function(){} : function(key) {
      return obj[key];
    };
  };

  // Returns a predicate for checking whether an object has a given set of
  // `key:value` pairs.
  _.matcher = _.matches = function(attrs) {
    attrs = _.extendOwn({}, attrs);
    return function(obj) {
      return _.isMatch(obj, attrs);
    };
  };

  // Run a function **n** times.
  _.times = function(n, iteratee, context) {
    var accum = Array(Math.max(0, n));
    iteratee = optimizeCb(iteratee, context, 1);
    for (var i = 0; i < n; i++) accum[i] = iteratee(i);
    return accum;
  };

  // Return a random integer between min and max (inclusive).
  _.random = function(min, max) {
    if (max == null) {
      max = min;
      min = 0;
    }
    return min + Math.floor(Math.random() * (max - min + 1));
  };

  // A (possibly faster) way to get the current timestamp as an integer.
  _.now = Date.now || function() {
    return new Date().getTime();
  };

   // List of HTML entities for escaping.
  var escapeMap = {
    '&': '&amp;',
    '<': '&lt;',
    '>': '&gt;',
    '"': '&quot;',
    "'": '&#x27;',
    '`': '&#x60;'
  };
  var unescapeMap = _.invert(escapeMap);

  // Functions for escaping and unescaping strings to/from HTML interpolation.
  var createEscaper = function(map) {
    var escaper = function(match) {
      return map[match];
    };
    // Regexes for identifying a key that needs to be escaped
    var source = '(?:' + _.keys(map).join('|') + ')';
    var testRegexp = RegExp(source);
    var replaceRegexp = RegExp(source, 'g');
    return function(string) {
      string = string == null ? '' : '' + string;
      return testRegexp.test(string) ? string.replace(replaceRegexp, escaper) : string;
    };
  };
  _.escape = createEscaper(escapeMap);
  _.unescape = createEscaper(unescapeMap);

  // If the value of the named `property` is a function then invoke it with the
  // `object` as context; otherwise, return it.
  _.result = function(object, property, fallback) {
    var value = object == null ? void 0 : object[property];
    if (value === void 0) {
      value = fallback;
    }
    return _.isFunction(value) ? value.call(object) : value;
  };

  // Generate a unique integer id (unique within the entire client session).
  // Useful for temporary DOM ids.
  var idCounter = 0;
  _.uniqueId = function(prefix) {
    var id = ++idCounter + '';
    return prefix ? prefix + id : id;
  };

  // By default, Underscore uses ERB-style template delimiters, change the
  // following template settings to use alternative delimiters.
  _.templateSettings = {
    evaluate    : /<%([\s\S]+?)%>/g,
    interpolate : /<%=([\s\S]+?)%>/g,
    escape      : /<%-([\s\S]+?)%>/g
  };

  // When customizing `templateSettings`, if you don't want to define an
  // interpolation, evaluation or escaping regex, we need one that is
  // guaranteed not to match.
  var noMatch = /(.)^/;

  // Certain characters need to be escaped so that they can be put into a
  // string literal.
  var escapes = {
    "'":      "'",
    '\\':     '\\',
    '\r':     'r',
    '\n':     'n',
    '\u2028': 'u2028',
    '\u2029': 'u2029'
  };

  var escaper = /\\|'|\r|\n|\u2028|\u2029/g;

  var escapeChar = function(match) {
    return '\\' + escapes[match];
  };

  // JavaScript micro-templating, similar to John Resig's implementation.
  // Underscore templating handles arbitrary delimiters, preserves whitespace,
  // and correctly escapes quotes within interpolated code.
  // NB: `oldSettings` only exists for backwards compatibility.
  _.template = function(text, settings, oldSettings) {
    if (!settings && oldSettings) settings = oldSettings;
    settings = _.defaults({}, settings, _.templateSettings);

    // Combine delimiters into one regular expression via alternation.
    var matcher = RegExp([
      (settings.escape || noMatch).source,
      (settings.interpolate || noMatch).source,
      (settings.evaluate || noMatch).source
    ].join('|') + '|$', 'g');

    // Compile the template source, escaping string literals appropriately.
    var index = 0;
    var source = "__p+='";
    text.replace(matcher, function(match, escape, interpolate, evaluate, offset) {
      source += text.slice(index, offset).replace(escaper, escapeChar);
      index = offset + match.length;

      if (escape) {
        source += "'+\n((__t=(" + escape + "))==null?'':_.escape(__t))+\n'";
      } else if (interpolate) {
        source += "'+\n((__t=(" + interpolate + "))==null?'':__t)+\n'";
      } else if (evaluate) {
        source += "';\n" + evaluate + "\n__p+='";
      }

      // Adobe VMs need the match returned to produce the correct offest.
      return match;
    });
    source += "';\n";

    // If a variable is not specified, place data values in local scope.
    if (!settings.variable) source = 'with(obj||{}){\n' + source + '}\n';

    source = "var __t,__p='',__j=Array.prototype.join," +
      "print=function(){__p+=__j.call(arguments,'');};\n" +
      source + 'return __p;\n';

    try {
      var render = new Function(settings.variable || 'obj', '_', source);
    } catch (e) {
      e.source = source;
      throw e;
    }

    var template = function(data) {
      return render.call(this, data, _);
    };

    // Provide the compiled source as a convenience for precompilation.
    var argument = settings.variable || 'obj';
    template.source = 'function(' + argument + '){\n' + source + '}';

    return template;
  };

  // Add a "chain" function. Start chaining a wrapped Underscore object.
  _.chain = function(obj) {
    var instance = _(obj);
    instance._chain = true;
    return instance;
  };

  // OOP
  // ---------------
  // If Underscore is called as a function, it returns a wrapped object that
  // can be used OO-style. This wrapper holds altered versions of all the
  // underscore functions. Wrapped objects may be chained.

  // Helper function to continue chaining intermediate results.
  var result = function(instance, obj) {
    return instance._chain ? _(obj).chain() : obj;
  };

  // Add your own custom functions to the Underscore object.
  _.mixin = function(obj) {
    _.each(_.functions(obj), function(name) {
      var func = _[name] = obj[name];
      _.prototype[name] = function() {
        var args = [this._wrapped];
        push.apply(args, arguments);
        return result(this, func.apply(_, args));
      };
    });
  };

  // Add all of the Underscore functions to the wrapper object.
  _.mixin(_);

  // Add all mutator Array functions to the wrapper.
  _.each(['pop', 'push', 'reverse', 'shift', 'sort', 'splice', 'unshift'], function(name) {
    var method = ArrayProto[name];
    _.prototype[name] = function() {
      var obj = this._wrapped;
      method.apply(obj, arguments);
      if ((name === 'shift' || name === 'splice') && obj.length === 0) delete obj[0];
      return result(this, obj);
    };
  });

  // Add all accessor Array functions to the wrapper.
  _.each(['concat', 'join', 'slice'], function(name) {
    var method = ArrayProto[name];
    _.prototype[name] = function() {
      return result(this, method.apply(this._wrapped, arguments));
    };
  });

  // Extracts the result from a wrapped and chained object.
  _.prototype.value = function() {
    return this._wrapped;
  };

  // Provide unwrapping proxy for some methods used in engine operations
  // such as arithmetic and JSON stringification.
  _.prototype.valueOf = _.prototype.toJSON = _.prototype.value;

  _.prototype.toString = function() {
    return '' + this._wrapped;
  };

  // AMD registration happens at the end for compatibility with AMD loaders
  // that may not enforce next-turn semantics on modules. Even though general
  // practice for AMD registration is to be anonymous, underscore registers
  // as a named module because, like jQuery, it is a base library that is
  // popular enough to be bundled in a third party lib, but not be part of
  // an AMD load request. Those cases could generate an error when an
  // anonymous define() is called outside of a loader request.
  if (typeof define === 'function' && define.amd) {
    define('underscore', [], function() {
      return _;
    });
  }
}.call(this));

},{}],"/Users/cescwang/program/sil/SIL-frontend/node_modules/viewerjs/dist/viewer.js":[function(require,module,exports){
/*!
 * Viewer.js v0.5.1
 * https://github.com/fengyuanchen/viewerjs
 *
 * Copyright (c) 2015-2017 Fengyuan Chen
 * Released under the MIT license
 *
 * Date: 2017-01-02T13:01:55.700Z
 */

(function (global, factory) {
  if (typeof module === 'object' && typeof module.exports === 'object') {
    module.exports = global.document ? factory(global, true) : function (window) {
      if (!window.document) {
        throw new Error('Viewer requires a window with a document');
      }

      return factory(window);
    };
  } else {
    factory(global);
  }
})(typeof window !== 'undefined' ? window : this, function (window, noGlobal) {

  'use strict';

  var document = window.document;
  var Event = window.Event;
  var PointerEvent = window.PointerEvent;

  // Constants
  var NAMESPACE = 'viewer';

  // Classes
  var CLASS_FIXED = NAMESPACE + '-fixed';
  var CLASS_OPEN = NAMESPACE + '-open';
  var CLASS_SHOW = NAMESPACE + '-show';
  var CLASS_HIDE = NAMESPACE + '-hide';
  var CLASS_HIDE_XS_DOWN = 'viewer-hide-xs-down';
  var CLASS_HIDE_SM_DOWN = 'viewer-hide-sm-down';
  var CLASS_HIDE_MD_DOWN = 'viewer-hide-md-down';
  var CLASS_FADE = NAMESPACE + '-fade';
  var CLASS_IN = NAMESPACE + '-in';
  var CLASS_MOVE = NAMESPACE + '-move';
  var CLASS_ACTIVE = NAMESPACE + '-active';
  var CLASS_INVISIBLE = NAMESPACE + '-invisible';
  var CLASS_TRANSITION = NAMESPACE + '-transition';
  var CLASS_FULLSCREEN = NAMESPACE + '-fullscreen';
  var CLASS_FULLSCREEN_EXIT = NAMESPACE + '-fullscreen-exit';
  var CLASS_CLOSE = NAMESPACE + '-close';

  // Events
  var EVENT_MOUSEDOWN = PointerEvent ? 'pointerdown' : 'touchstart mousedown';
  var EVENT_MOUSEMOVE = PointerEvent ? 'pointermove' : 'mousemove touchmove';
  var EVENT_MOUSEUP = PointerEvent ? 'pointerup pointercancel' : 'touchend touchcancel mouseup';
  var EVENT_WHEEL = 'wheel mousewheel DOMMouseScroll';
  var EVENT_TRANSITIONEND = 'transitionend';
  var EVENT_LOAD = 'load';
  var EVENT_KEYDOWN = 'keydown';
  var EVENT_CLICK = 'click';
  var EVENT_RESIZE = 'resize';
  var EVENT_READY = 'ready';
  var EVENT_SHOW = 'show';
  var EVENT_SHOWN = 'shown';
  var EVENT_HIDE = 'hide';
  var EVENT_HIDDEN = 'hidden';
  var EVENT_VIEW = 'view';
  var EVENT_VIEWED = 'viewed';

  // RegExps
  var REGEXP_SUFFIX = /^(width|height|left|top|marginLeft|marginTop)$/;
  var REGEXP_HYPHENATE = /([a-z\d])([A-Z])/g;
  var REGEXP_TRIM = /^\s+(.*)\s+$/;
  var REGEXP_SPACES = /\s+/;

  // Supports
  var SUPPORT_TRANSITION = typeof document.createElement(NAMESPACE).style.transition !== 'undefined';

  // Maths
  var min = Math.min;
  var max = Math.max;
  var abs = Math.abs;
  var sqrt = Math.sqrt;
  var round = Math.round;

  // Utilities
  var objectProto = Object.prototype;
  var toString = objectProto.toString;
  var hasOwnProperty = objectProto.hasOwnProperty;
  var slice = Array.prototype.slice;

  function typeOf(obj) {
    return toString.call(obj).slice(8, -1).toLowerCase();
  }

  function isString(str) {
    return typeof str === 'string';
  }

  function isNumber(num) {
    return typeof num === 'number' && !isNaN(num);
  }

  function isUndefined(obj) {
    return typeof obj === 'undefined';
  }

  function isObject(obj) {
    return typeof obj === 'object' && obj !== null;
  }

  function isPlainObject(obj) {
    var constructor;
    var prototype;

    if (!isObject(obj)) {
      return false;
    }

    try {
      constructor = obj.constructor;
      prototype = constructor.prototype;

      return constructor && prototype && hasOwnProperty.call(prototype, 'isPrototypeOf');
    } catch (e) {
      return false;
    }
  }

  function isFunction(fn) {
    return typeOf(fn) === 'function';
  }

  function isArray(arr) {
    return Array.isArray ? Array.isArray(arr) : typeOf(arr) === 'array';
  }

  function toArray(obj, offset) {
    offset = offset >= 0 ? offset : 0;

    if (Array.from) {
      return Array.from(obj).slice(offset);
    }

    return slice.call(obj, offset);
  }

  function inArray(value, arr) {
    var index = -1;

    if (arr.indexOf) {
      return arr.indexOf(value);
    } else {
      each(arr, function (n, i) {
        if (n === value) {
          index = i;
          return false;
        }
      });
    }

    return index;
  }

  function trim(str) {
    if (isString(str)) {
      str = str.trim ? str.trim() : str.replace(REGEXP_TRIM, '1');
    }

    return str;
  }

  function each(obj, callback) {
    var length;
    var i;

    if (obj && isFunction(callback)) {
      if (isArray(obj) || isNumber(obj.length)/* array-like */) {
        for (i = 0, length = obj.length; i < length; i++) {
          if (callback.call(obj, obj[i], i, obj) === false) {
            break;
          }
        }
      } else if (isObject(obj)) {
        for (i in obj) {
          if (obj.hasOwnProperty(i)) {
            if (callback.call(obj, obj[i], i, obj) === false) {
              break;
            }
          }
        }
      }
    }

    return obj;
  }

  function extend(obj) {
    var args;

    if (arguments.length > 1) {
      args = toArray(arguments);

      if (Object.assign) {
        return Object.assign.apply(Object, args);
      }

      args.shift();

      each(args, function (arg) {
        each(arg, function (prop, i) {
          obj[i] = prop;
        });
      });
    }

    return obj;
  }

  function proxy(fn, context) {
    var args = toArray(arguments, 2);

    return function () {
      return fn.apply(context, args.concat(toArray(arguments)));
    };
  }

  function setStyle(element, styles) {
    var style = element.style;

    each(styles, function (value, property) {
      if (REGEXP_SUFFIX.test(property) && isNumber(value)) {
        value += 'px';
      }

      style[property] = value;
    });
  }

  function getStyle(element) {
    return window.getComputedStyle ?
      window.getComputedStyle(element, null) :
      element.currentStyle;
  }

  function hasClass(element, value) {
    return element.classList ?
      element.classList.contains(value) :
      element.className.indexOf(value) > -1;
  }

  function addClass(element, value) {
    var className;

    if (!value) {
      return;
    }

    if (isNumber(element.length)) {
      return each(element, function (elem) {
        addClass(elem, value);
      });
    }

    if (element.classList) {
      return element.classList.add(value);
    }

    className = trim(element.className);

    if (!className) {
      element.className = value;
    } else if (className.indexOf(value) < 0) {
      element.className = className + ' ' + value;
    }
  }

  function removeClass(element, value) {
    if (!value) {
      return;
    }

    if (isNumber(element.length)) {
      return each(element, function (elem) {
        removeClass(elem, value);
      });
    }

    if (element.classList) {
      return element.classList.remove(value);
    }

    if (element.className.indexOf(value) >= 0) {
      element.className = element.className.replace(value, '');
    }
  }

  function toggleClass(element, value, added) {
    if (isNumber(element.length)) {
      return each(element, function (elem) {
        toggleClass(elem, value, added);
      });
    }

    // IE10-11 doesn't support the second parameter of `classList.toggle`
    if (added) {
      addClass(element, value);
    } else {
      removeClass(element, value);
    }
  }

  function hyphenate(str) {
    return str.replace(REGEXP_HYPHENATE, '$1-$2').toLowerCase();
  }

  function getData(element, name) {
    if (isObject(element[name])) {
      return element[name];
    } else if (element.dataset) {
      return element.dataset[name];
    }

    return element.getAttribute('data-' + hyphenate(name));
  }

  function setData(element, name, data) {
    if (isObject(data)) {
      element[name] = data;
    } else if (element.dataset) {
      element.dataset[name] = data;
    } else {
      element.setAttribute('data-' + hyphenate(name), data);
    }
  }

  function removeData(element, name) {
    if (isObject(element[name])) {
      delete element[name];
    } else if (element.dataset) {
      // Safari not allows to delete dataset property
      try {
        delete element.dataset[name];
      } catch (e) {
        element.dataset[name] = null;
      }
    } else {
      element.removeAttribute('data-' + hyphenate(name));
    }
  }

  function addListener(element, type, handler, once) {
    var types = trim(type).split(REGEXP_SPACES);
    var originalHandler = handler;

    if (types.length > 1) {
      return each(types, function (type) {
        addListener(element, type, handler);
      });
    }

    if (once) {
      handler = function () {
        removeListener(element, type, handler);

        return originalHandler.apply(element, arguments);
      };
    }

    if (element.addEventListener) {
      element.addEventListener(type, handler, false);
    } else if (element.attachEvent) {
      element.attachEvent('on' + type, handler);
    }
  }

  function removeListener(element, type, handler) {
    var types = trim(type).split(REGEXP_SPACES);

    if (types.length > 1) {
      return each(types, function (type) {
        removeListener(element, type, handler);
      });
    }

    if (element.removeEventListener) {
      element.removeEventListener(type, handler, false);
    } else if (element.detachEvent) {
      element.detachEvent('on' + type, handler);
    }
  }

  function dispatchEvent(element, type, data) {
    var event;

    if (element.dispatchEvent) {

      // Event and CustomEvent on IE9-11 are global objects, not constructors
      if (isFunction(Event) && isFunction(CustomEvent)) {
        if (isUndefined(data)) {
          event = new Event(type, {
            bubbles: true,
            cancelable: true
          });
        } else {
          event = new CustomEvent(type, {
            detail: data,
            bubbles: true,
            cancelable: true
          });
        }
      } else {
        // IE9-11
        if (isUndefined(data)) {
          event = document.createEvent('Event');
          event.initEvent(type, true, true);
        } else {
          event = document.createEvent('CustomEvent');
          event.initCustomEvent(type, true, true, data);
        }
      }

      // IE9+
      return element.dispatchEvent(event);
    } else if (element.fireEvent) {

      // IE6-10 (native events only)
      return element.fireEvent('on' + type);
    }
  }

  function preventDefault(e) {
    if (e.preventDefault) {
      e.preventDefault();
    } else {
      e.returnValue = false;
    }
  }

  function getEvent(event) {
    var e = event || window.event;
    var eventDoc;
    var doc;
    var body;

    // Fix target property (IE8)
    if (!e.target) {
      e.target = e.srcElement || document;
    }

    if (!isNumber(e.pageX) && isNumber(e.clientX)) {
      eventDoc = event.target.ownerDocument || document;
      doc = eventDoc.documentElement;
      body = eventDoc.body;

      e.pageX = e.clientX + (
        ((doc && doc.scrollLeft) || (body && body.scrollLeft) || 0) -
        ((doc && doc.clientLeft) || (body && body.clientLeft) || 0)
      );
      e.pageY = e.clientY + (
        ((doc && doc.scrollTop) || (body && body.scrollTop) || 0) -
        ((doc && doc.clientTop) || (body && body.clientTop) || 0)
      );
    }

    return e;
  }

  function getOffset(element) {
    var doc = document.documentElement;
    var box = element.getBoundingClientRect();

    return {
      left: box.left + (window.scrollX || doc && doc.scrollLeft || 0) - (doc && doc.clientLeft || 0),
      top: box.top + (window.scrollY || doc && doc.scrollTop || 0) - (doc && doc.clientTop || 0)
    };
  }

  function getByTag(element, tagName) {
    return element.getElementsByTagName(tagName);
  }

  function getByClass(element, className) {
    return element.getElementsByClassName ?
      element.getElementsByClassName(className) :
      element.querySelectorAll('.' + className);
  }

  function appendChild(element, elem) {
    if (elem.length) {
      return each(elem, function (el) {
        appendChild(element, el);
      });
    }

    element.appendChild(elem);
  }

  function removeChild(element) {
    if (element.parentNode) {
      element.parentNode.removeChild(element);
    }
  }

  function empty(element) {
    while (element.firstChild) {
      element.removeChild(element.firstChild);
    }
  }

  function setText(element, text) {
    if (!isUndefined(element.textContent)) {
      element.textContent = text;
    } else {
      element.innerText = text;
    }
  }

  // Force reflow to enable CSS3 transition
  function forceReflow(element) {
    return element.offsetWidth;
  }

  // e.g.: http://domain.com/path/to/picture.jpg?size=1280×960 -> picture.jpg
  function getImageName(url) {
    return isString(url) ? url.replace(/^.*\//, '').replace(/[\?&#].*$/, '') : '';
  }

  function getImageSize(image, callback) {
    var newImage;

    // Modern browsers
    if (image.naturalWidth) {
      return callback(image.naturalWidth, image.naturalHeight);
    }

    // IE8: Don't use `new Image()` here
    newImage = document.createElement('img');

    newImage.onload = function () {
      callback(this.width, this.height);
    };

    newImage.src = image.src;
  }

  function getTransform(data) {
    var transforms = [];
    var rotate = data.rotate;
    var scaleX = data.scaleX;
    var scaleY = data.scaleY;

    // Rotate should come first before scale
    if (isNumber(rotate)) {
      transforms.push('rotate(' + rotate + 'deg)');
    }

    if (isNumber(scaleX)) {
      transforms.push('scaleX(' + scaleX + ')');
    }

    if (isNumber(scaleY)) {
      transforms.push('scaleY(' + scaleY + ')');
    }

    return transforms.length ? transforms.join(' ') : 'none';
  }

  function getResponsiveClass(option) {
    switch (option) {
      case 2:
        return CLASS_HIDE_XS_DOWN;

      case 3:
        return CLASS_HIDE_SM_DOWN;

      case 4:
        return CLASS_HIDE_MD_DOWN;
    }
  }

  function getPointer(pointer, endOnly) {
    var end = {
      endX: pointer.pageX,
      endY: pointer.pageY
    };

    if (endOnly) {
      return end;
    }

    return extend({
      startX: pointer.pageX,
      startY: pointer.pageY
    }, end);
  }

  function getMaxZoomRatio(pointers) {
    var pointers2 = extend({}, pointers);
    var ratios = [];

    each(pointers, function (pointer, pointerId) {
      delete pointers2[pointerId];

      each(pointers2, function (pointer2) {
        var x1 = Math.abs(pointer.startX - pointer2.startX);
        var y1 = Math.abs(pointer.startY - pointer2.startY);
        var x2 = Math.abs(pointer.endX - pointer2.endX);
        var y2 = Math.abs(pointer.endY - pointer2.endY);
        var z1 = Math.sqrt((x1 * x1) + (y1 * y1));
        var z2 = Math.sqrt((x2 * x2) + (y2 * y2));
        var ratio = (z2 - z1) / z1;

        ratios.push(ratio);
      });
    });

    ratios.sort(function (a, b) {
      return Math.abs(a) < Math.abs(b);
    });

    return ratios[0];
  }

  function getPointersCenter(pointers) {
    var pageX = 0;
    var pageY = 0;
    var count = 0;

    each(pointers, function (pointer) {
      pageX += pointer.startX;
      pageY += pointer.startY;
      count += 1;
    });

    pageX /= count;
    pageY /= count;

    return {
      pageX: pageX,
      pageY: pageY
    };
  }

  function Viewer(element, options) {
    var _this = this;

    _this.element = element;
    _this.options = extend({}, Viewer.DEFAULTS, isPlainObject(options) && options);
    _this.isImg = false;
    _this.isBuilt = false;
    _this.isShown = false;
    _this.isViewed = false;
    _this.isFulled = false;
    _this.isPlayed = false;
    _this.wheeling = false;
    _this.playing = false;
    _this.fading = false;
    _this.tooltiping = false;
    _this.transitioning = false;
    _this.action = false;
    _this.target = false;
    _this.timeout = false;
    _this.index = 0;
    _this.length = 0;
    _this.pointers = {};
    _this.init();
  }

  Viewer.prototype = {
    constructor: Viewer,

    init: function () {
      var _this = this;
      var options = _this.options;
      var element = _this.element;
      var isImg = element.tagName.toLowerCase() === 'img';
      var images = isImg ? [element] : getByTag(element, 'img');
      var length = images.length;
      var ready = proxy(_this.ready, _this);

      if (getData(element, NAMESPACE)) {
        return;
      }

      setData(element, NAMESPACE, _this);

      if (!length) {
        return;
      }

      if (isFunction(options.ready)) {
        addListener(element, EVENT_READY, options.ready, true);
      }

      // Override `transition` option if it is not supported
      if (!SUPPORT_TRANSITION) {
        options.transition = false;
      }

      _this.isImg = isImg;
      _this.length = length;
      _this.count = 0;
      _this.images = images;
      _this.body = document.body;
      _this.scrollbarWidth = window.innerWidth - document.body.clientWidth;

      if (options.inline) {
        addListener(element, EVENT_READY, function () {
          _this.view();
        }, true);

        each(images, function (image) {
          if (image.complete) {
            ready();
          } else {
            addListener(image, EVENT_LOAD, ready, true);
          }
        });
      } else {
        addListener(element, EVENT_CLICK, (_this._start = proxy(_this.start, _this)));
      }
    },

    ready: function () {
      var _this = this;

      _this.count++;

      if (_this.count === _this.length) {
        _this.build();
      }
    },

    build: function () {
      var _this = this;
      var options = _this.options;
      var element = _this.element;
      var template;
      var parent;
      var viewer;
      var button;
      var toolbar;
      var navbar;
      var title;
      var rotate;

      if (_this.isBuilt) {
        return;
      }

      template = document.createElement('div');
      template.innerHTML = Viewer.TEMPLATE;

      _this.parent = parent = element.parentNode;
      _this.viewer = viewer = getByClass(template, 'viewer-container')[0];
      _this.canvas = getByClass(viewer, 'viewer-canvas')[0];
      _this.footer = getByClass(viewer, 'viewer-footer')[0];
      _this.title = title = getByClass(viewer, 'viewer-title')[0];
      _this.toolbar = toolbar = getByClass(viewer, 'viewer-toolbar')[0];
      _this.navbar = navbar = getByClass(viewer, 'viewer-navbar')[0];
      _this.button = button = getByClass(viewer, 'viewer-button')[0];
      _this.tooltipBox = getByClass(viewer, 'viewer-tooltip')[0];
      _this.player = getByClass(viewer, 'viewer-player')[0];
      _this.list = getByClass(viewer, 'viewer-list')[0];

      addClass(title, !options.title ? CLASS_HIDE : getResponsiveClass(options.title));
      addClass(toolbar, !options.toolbar ? CLASS_HIDE : getResponsiveClass(options.toolbar));
      addClass(navbar, !options.navbar ? CLASS_HIDE : getResponsiveClass(options.navbar));
      toggleClass(button, CLASS_HIDE, !options.button);

      toggleClass(toolbar.querySelector('.viewer-one-to-one'), CLASS_INVISIBLE, !options.zoomable);
      toggleClass(toolbar.querySelectorAll('li[class*="zoom"]'), CLASS_INVISIBLE, !options.zoomable);
      toggleClass(toolbar.querySelectorAll('li[class*="flip"]'), CLASS_INVISIBLE, !options.scalable);

      if (!options.rotatable) {
        rotate = toolbar.querySelectorAll('li[class*="rotate"]');
        addClass(rotate, CLASS_INVISIBLE);
        appendChild(toolbar, rotate);
      }

      if (options.inline) {
        addClass(button, CLASS_FULLSCREEN);
        setStyle(viewer, {
          zIndex: options.zIndexInline
        });

        if (getStyle(parent).position === 'static') {
          setStyle(parent, {
            position: 'relative'
          });
        }
      } else {
        addClass(button, CLASS_CLOSE);
        addClass(viewer, CLASS_FIXED);
        addClass(viewer, CLASS_FADE);
        addClass(viewer, CLASS_HIDE);

        setStyle(viewer, {
          zIndex: options.zIndex
        });
      }

      // Inserts the viewer after to the current element
      parent.insertBefore(viewer, element.nextSibling);

      if (options.inline) {
        _this.render();
        _this.bind();
        _this.isShown = true;
      }

      _this.isBuilt = true;

      dispatchEvent(element, EVENT_READY);
    },

    unbuild: function () {
      var _this = this;

      if (!_this.isBuilt) {
        return;
      }

      _this.isBuilt = false;
      removeChild(_this.viewer);
    },

    bind: function () {
      var _this = this;
      var options = _this.options;
      var element = _this.element;
      var viewer = _this.viewer;

      if (isFunction(options.view)) {
        addListener(element, EVENT_VIEW, options.view);
      }

      if (isFunction(options.viewed)) {
        addListener(element, EVENT_VIEWED, options.viewed);
      }

      addListener(viewer, EVENT_CLICK, (_this._click = proxy(_this.click, _this)));
      addListener(viewer, EVENT_WHEEL, (_this._wheel = proxy(_this.wheel, _this)));
      addListener(_this.canvas, EVENT_MOUSEDOWN, (_this._mousedown = proxy(_this.mousedown, _this)));
      addListener(document, EVENT_MOUSEMOVE, (_this._mousemove = proxy(_this.mousemove, _this)));
      addListener(document, EVENT_MOUSEUP, (_this._mouseup = proxy(_this.mouseup, _this)));
      addListener(document, EVENT_KEYDOWN, (_this._keydown = proxy(_this.keydown, _this)));
      addListener(window, EVENT_RESIZE, (_this._resize = proxy(_this.resize, _this)));
    },

    unbind: function () {
      var _this = this;
      var options = _this.options;
      var element = _this.element;
      var viewer = _this.viewer;

      if (isFunction(options.view)) {
        removeListener(element, EVENT_VIEW, options.view);
      }

      if (isFunction(options.viewed)) {
        removeListener(element, EVENT_VIEWED, options.viewed);
      }

      removeListener(viewer, EVENT_CLICK, _this._click);
      removeListener(viewer, EVENT_WHEEL, _this._wheel);
      removeListener(_this.canvas, EVENT_MOUSEDOWN, _this._mousedown);
      removeListener(document, EVENT_MOUSEMOVE, _this._mousemove);
      removeListener(document, EVENT_MOUSEUP, _this._mouseup);
      removeListener(document, EVENT_KEYDOWN, _this._keydown);
      removeListener(window, EVENT_RESIZE, _this._resize);
    },

    render: function () {
      var _this = this;

      _this.initContainer();
      _this.initViewer();
      _this.initList();
      _this.renderViewer();
    },

    initContainer: function () {
      var _this = this;

      _this.containerData = {
        width: window.innerWidth,
        height: window.innerHeight
      };
    },

    initViewer: function () {
      var _this = this;
      var options = _this.options;
      var parent = _this.parent;
      var viewerData;

      if (options.inline) {
        _this.parentData = viewerData = {
          width: max(parent.offsetWidth, options.minWidth),
          height: max(parent.offsetHeight, options.minHeight)
        };
      }

      if (_this.isFulled || !viewerData) {
        viewerData = _this.containerData;
      }

      _this.viewerData = extend({}, viewerData);
    },

    renderViewer: function () {
      var _this = this;

      if (_this.options.inline && !_this.isFulled) {
        setStyle(_this.viewer, _this.viewerData);
      }
    },

    initList: function () {
      var _this = this;
      var options = _this.options;
      var element = _this.element;
      var list = _this.list;
      var items = [];

      each(_this.images, function (image, i) {
        var src = image.src;
        var alt = image.alt || getImageName(src);
        var url = options.url;

        if (!src) {
          return;
        }

        if (isString(url)) {
          url = image.getAttribute(url);
        } else if (isFunction(url)) {
          url = url.call(image, image);
        }

        items.push(
          '<li>' +
            '<img' +
              ' src="' + src + '"' +
              ' data-action="view"' +
              ' data-index="' +  i + '"' +
              ' data-original-url="' +  (url || src) + '"' +
              ' alt="' +  alt + '"' +
            '>' +
          '</li>'
        );
      });

      list.innerHTML = items.join('');

      each(getByTag(list, 'img'), function (image) {
        setData(image, 'filled', true);
        addListener(image, EVENT_LOAD, proxy(_this.loadImage, _this), true);
      });

      _this.items = getByTag(list, 'li');

      if (options.transition) {
        addListener(element, EVENT_VIEWED, function () {
          addClass(list, CLASS_TRANSITION);
        }, true);
      }
    },

    renderList: function (index) {
      var _this = this;
      var i = index || _this.index;
      var width = _this.items[i].offsetWidth || 30;
      var outerWidth = width + 1; // 1 pixel of `margin-left` width

      // Place the active item in the center of the screen
      setStyle(_this.list, {
        width: outerWidth * _this.length,
        marginLeft: (_this.viewerData.width - width) / 2 - outerWidth * i
      });
    },

    resetList: function () {
      var _this = this;

      empty(_this.list);
      removeClass(_this.list, CLASS_TRANSITION);
      setStyle({
        marginLeft: 0
      });
    },

    initImage: function (callback) {
      var _this = this;
      var options = _this.options;
      var image = _this.image;
      var viewerData = _this.viewerData;
      var footerHeight = _this.footer.offsetHeight;
      var viewerWidth = viewerData.width;
      var viewerHeight = max(viewerData.height - footerHeight, footerHeight);
      var oldImageData = _this.imageData || {};

      getImageSize(image, function (naturalWidth, naturalHeight) {
        var aspectRatio = naturalWidth / naturalHeight;
        var width = viewerWidth;
        var height = viewerHeight;
        var initialImageData;
        var imageData;

        if (viewerHeight * aspectRatio > viewerWidth) {
          height = viewerWidth / aspectRatio;
        } else {
          width = viewerHeight * aspectRatio;
        }

        width = min(width * 0.9, naturalWidth);
        height = min(height * 0.9, naturalHeight);

        imageData = {
          naturalWidth: naturalWidth,
          naturalHeight: naturalHeight,
          aspectRatio: aspectRatio,
          ratio: width / naturalWidth,
          width: width,
          height: height,
          left: (viewerWidth - width) / 2,
          top: (viewerHeight - height) / 2
        };

        initialImageData = extend({}, imageData);

        if (options.rotatable) {
          imageData.rotate = oldImageData.rotate || 0;
          initialImageData.rotate = 0;
        }

        if (options.scalable) {
          imageData.scaleX = oldImageData.scaleX || 1;
          imageData.scaleY = oldImageData.scaleY || 1;
          initialImageData.scaleX = 1;
          initialImageData.scaleY = 1;
        }

        _this.imageData = imageData;
        _this.initialImageData = initialImageData;

        if (isFunction(callback)) {
          callback();
        }
      });
    },

    renderImage: function (callback) {
      var _this = this;
      var image = _this.image;
      var imageData = _this.imageData;
      var transform = getTransform(imageData);

      setStyle(image, {
        width: imageData.width,
        height: imageData.height,
        marginLeft: imageData.left,
        marginTop: imageData.top,
        WebkitTransform: transform,
        msTransform: transform,
        transform: transform
      });

      if (isFunction(callback)) {
        if (_this.transitioning) {
          addListener(image, EVENT_TRANSITIONEND, callback, true);
        } else {
          callback();
        }
      }
    },

    resetImage: function () {
      var _this = this;

      // this.image only defined after viewed
      if (_this.image) {
        removeChild(_this.image);
        _this.image = null;
      }
    },

    start: function (event) {
      var _this = this;
      var e = getEvent(event);
      var target = e.target;

      if (target.tagName.toLowerCase() === 'img') {
        _this.target = target;
        _this.show();
      }
    },

    click: function (event) {
      var _this = this;
      var e = getEvent(event);
      var target = e.target;
      var action = getData(target, 'action');
      var imageData = _this.imageData;

      switch (action) {
        case 'mix':
          if (_this.isPlayed) {
            _this.stop();
          } else {
            if (_this.options.inline) {
              if (_this.isFulled) {
                _this.exit();
              } else {
                _this.full();
              }
            } else {
              _this.hide();
            }
          }

          break;

        case 'view':
          _this.view(getData(target, 'index'));
          break;

        case 'zoom-in':
          _this.zoom(0.1, true);
          break;

        case 'zoom-out':
          _this.zoom(-0.1, true);
          break;

        case 'one-to-one':
          _this.toggle();
          break;

        case 'reset':
          _this.reset();
          break;

        case 'prev':
          _this.prev();
          break;

        case 'play':
          _this.play();
          break;

        case 'next':
          _this.next();
          break;

        case 'rotate-left':
          _this.rotate(-90);
          break;

        case 'rotate-right':
          _this.rotate(90);
          break;

        case 'flip-horizontal':
          _this.scaleX(-imageData.scaleX || -1);
          break;

        case 'flip-vertical':
          _this.scaleY(-imageData.scaleY || -1);
          break;

        default:
          if (_this.isPlayed) {
            _this.stop();
          }
      }
    },

    load: function () {
      var _this = this;
      var options = _this.options;
      var image = _this.image;
      var index = _this.index;
      var viewerData = _this.viewerData;

      if (_this.timeout) {
        clearTimeout(_this.timeout);
        _this.timeout = false;
      }

      removeClass(image, CLASS_INVISIBLE);

      image.style.cssText = (
        'width:0;' +
        'height:0;' +
        'margin-left:' + viewerData.width / 2 + 'px;' +
        'margin-top:' + viewerData.height / 2 + 'px;' +
        'max-width:none!important;' +
        'visibility:visible;'
      );

      _this.initImage(function () {
        toggleClass(image, CLASS_TRANSITION, options.transition);
        toggleClass(image, CLASS_MOVE, options.movable);

        _this.renderImage(function () {
          _this.isViewed = true;
          dispatchEvent(_this.element, EVENT_VIEWED, {
            originalImage: _this.images[index],
            index: index,
            image: image
          });
        });
      });
    },

    loadImage: function (event) {
      var e = getEvent(event);
      var image = e.target;
      var parent = image.parentNode;
      var parentWidth = parent.offsetWidth || 30;
      var parentHeight = parent.offsetHeight || 50;
      var filled = !!getData(image, 'filled');

      getImageSize(image, function (naturalWidth, naturalHeight) {
        var aspectRatio = naturalWidth / naturalHeight;
        var width = parentWidth;
        var height = parentHeight;

        if (parentHeight * aspectRatio > parentWidth) {
          if (filled) {
            width = parentHeight * aspectRatio;
          } else {
            height = parentWidth / aspectRatio;
          }
        } else {
          if (filled) {
            height = parentWidth / aspectRatio;
          } else {
            width = parentHeight * aspectRatio;
          }
        }

        setStyle(image, {
          width: width,
          height: height,
          marginLeft: (parentWidth - width) / 2,
          marginTop: (parentHeight - height) / 2
        });
      });
    },

    resize: function () {
      var _this = this;

      _this.initContainer();
      _this.initViewer();
      _this.renderViewer();
      _this.renderList();

      if (_this.isViewed) {
        _this.initImage(function () {
          _this.renderImage();
        });
      }

      if (_this.isPlayed) {
        each(getByTag(_this.player, 'img'), function (image) {
          addListener(image, EVENT_LOAD, proxy(_this.loadImage, _this), true);
          dispatchEvent(image, EVENT_LOAD);
        });
      }
    },

    wheel: function (event) {
      var _this = this;
      var e = getEvent(event);
      var ratio = Number(_this.options.zoomRatio) || 0.1;
      var delta = 1;

      if (!_this.isViewed) {
        return;
      }

      preventDefault(e);

      // Limit wheel speed to prevent zoom too fast
      if (_this.wheeling) {
        return;
      }

      _this.wheeling = true;

      setTimeout(function () {
        _this.wheeling = false;
      }, 50);

      if (e.deltaY) {
        delta = e.deltaY > 0 ? 1 : -1;
      } else if (e.wheelDelta) {
        delta = -e.wheelDelta / 120;
      } else if (e.detail) {
        delta = e.detail > 0 ? 1 : -1;
      }

      _this.zoom(-delta * ratio, true, e);
    },

    keydown: function (event) {
      var _this = this;
      var e = getEvent(event);
      var options = _this.options;
      var key = e.keyCode || e.which || e.charCode;

      if (!_this.isFulled || !options.keyboard) {
        return;
      }

      switch (key) {

        // (Key: Esc)
        case 27:
          if (_this.isPlayed) {
            _this.stop();
          } else {
            if (options.inline) {
              if (_this.isFulled) {
                _this.exit();
              }
            } else {
              _this.hide();
            }
          }

          break;

        // (Key: Space)
        case 32:
          if (_this.isPlayed) {
            _this.stop();
          }

          break;

        // View previous (Key: ←)
        case 37:
          _this.prev();
          break;

        // Zoom in (Key: ↑)
        case 38:

          // Prevent scroll on Firefox
          preventDefault(e);

          _this.zoom(options.zoomRatio, true);
          break;

        // View next (Key: →)
        case 39:
          _this.next();
          break;

        // Zoom out (Key: ↓)
        case 40:

          // Prevent scroll on Firefox
          preventDefault(e);

          _this.zoom(-options.zoomRatio, true);
          break;

        // Zoom out to initial size (Key: Ctrl + 0)
        case 48:
          // Go to next

        // Zoom in to natural size (Key: Ctrl + 1)
        case 49:
          if (e.ctrlKey || e.shiftKey) {
            preventDefault(e);
            _this.toggle();
          }

          break;

        // No default
      }
    },

    mousedown: function (event) {
      var _this = this;
      var options = _this.options;
      var pointers = _this.pointers;
      var e = getEvent(event);
      var action = options.movable ? 'move' : false;

      if (!_this.isViewed) {
        return;
      }

      if (e.changedTouches) {
        each(e.changedTouches, function (touch) {
          pointers[touch.identifier] = getPointer(touch);
        });
      } else {
        pointers[e.pointerId || 0] = getPointer(e);
      }

      if (Object.keys(pointers).length > 1) {
        action = 'zoom';
      } else if ((e.pointerType === 'touch' || e.type === 'touchmove') && _this.isSwitchable()) {
        action = 'switch';
      }

      _this.action = action;
    },

    mousemove: function (event) {
      var _this = this;
      var options = _this.options;
      var pointers = _this.pointers;
      var e = getEvent(event);
      var action = _this.action;
      var image = _this.image;

      if (!_this.isViewed || !action) {
        return;
      }

      preventDefault(e);

      if (e.changedTouches) {
        each(e.changedTouches, function (touch) {
          extend(pointers[touch.identifier], getPointer(touch), true);
        });
      } else {
        extend(pointers[e.pointerId || 0], getPointer(e, true));
      }

      if (action === 'move' && options.transition && hasClass(image, CLASS_TRANSITION)) {
        removeClass(image, CLASS_TRANSITION);
      }

      _this.change(e);
    },

    mouseup: function (event) {
      var _this = this;
      var pointers = _this.pointers;
      var e = getEvent(event);
      var action = _this.action;

      if (!action) {
        return;
      }

      if (e.changedTouches) {
        each(e.changedTouches, function (touch) {
          delete pointers[touch.identifier];
        });
      } else {
        delete pointers[e.pointerId || 0];
      }

      if (!Object.keys(pointers).length) {
        if (action === 'move' && _this.options.transition) {
          addClass(_this.image, CLASS_TRANSITION);
        }

        _this.action = false;
      }
    },

    // Show the viewer (only available in modal mode)
    show: function () {
      var _this = this;
      var options = _this.options;
      var element = _this.element;
      var viewer;

      if (options.inline || _this.transitioning) {
        return _this;
      }

      if (!_this.isBuilt) {
        _this.build();
      }

      viewer = _this.viewer;

      if (isFunction(options.show)) {
        addListener(element, EVENT_SHOW, options.show, true);
      }

      if (dispatchEvent(element, EVENT_SHOW) === false) {
        return _this;
      }

      _this.open();
      removeClass(viewer, CLASS_HIDE);

      addListener(element, EVENT_SHOWN, function () {
        _this.view(_this.target ? inArray(_this.target, toArray(_this.images)) : _this.index);
        _this.target = false;
      }, true);

      if (options.transition) {
        _this.transitioning = true;
        addClass(viewer, CLASS_TRANSITION);
        forceReflow(viewer);
        addListener(viewer, EVENT_TRANSITIONEND, proxy(_this.shown, _this), true);
        addClass(viewer, CLASS_IN);
      } else {
        addClass(viewer, CLASS_IN);
        _this.shown();
      }

      return _this;
    },

    // Hide the viewer (only available in modal mode)
    hide: function () {
      var _this = this;
      var options = _this.options;
      var element = _this.element;
      var viewer = _this.viewer;

      if (options.inline || _this.transitioning || !_this.isShown) {
        return _this;
      }

      if (isFunction(options.hide)) {
        addListener(element, EVENT_HIDE, options.hide, true);
      }

      if (dispatchEvent(element, EVENT_HIDE) === false) {
        return _this;
      }

      if (_this.isViewed && options.transition) {
        _this.transitioning = true;
        addListener(_this.image, EVENT_TRANSITIONEND, function () {
          addListener(viewer, EVENT_TRANSITIONEND, proxy(_this.hidden, _this), true);
          removeClass(viewer, CLASS_IN);
        }, true);
        _this.zoomTo(0, false, false, true);
      } else {
        removeClass(viewer, CLASS_IN);
        _this.hidden();
      }

      return _this;
    },

    /**
     * View one of the images with image's index
     *
     * @param {Number} index
     */
    view: function (index) {
      var _this = this;
      var element = _this.element;
      var title = _this.title;
      var canvas = _this.canvas;
      var image;
      var item;
      var img;
      var url;
      var alt;

      index = Number(index) || 0;

      if (!_this.isShown || _this.isPlayed || index < 0 || index >= _this.length ||
        _this.isViewed && index === _this.index) {
        return _this;
      }

      item = _this.items[index];
      img = getByTag(item, 'img')[0];
      url = getData(img, 'originalUrl');
      alt = img.getAttribute('alt');

      image = document.createElement('img');
      image.src = url;
      image.alt = alt;

      if (dispatchEvent(element, EVENT_VIEW, {
        originalImage: _this.images[index],
        index: index,
        image: image
      }) === false) {
        return _this;
      }

      _this.image = image;

      if (_this.isViewed) {
        removeClass(_this.items[_this.index], CLASS_ACTIVE);
      }

      addClass(item, CLASS_ACTIVE);

      _this.isViewed = false;
      _this.index = index;
      _this.imageData = null;

      addClass(image, CLASS_INVISIBLE);
      empty(canvas);
      appendChild(canvas, image);

      // Center current item
      _this.renderList();

      // Clear title
      empty(title);

      // Generate title after viewed
      addListener(element, EVENT_VIEWED, function () {
        var imageData = _this.imageData;
        var width = imageData.naturalWidth;
        var height = imageData.naturalHeight;

        setText(title, alt + ' (' + width + ' × ' + height + ')');
      }, true);

      if (image.complete) {
        _this.load();
      } else {
        addListener(image, EVENT_LOAD, proxy(_this.load, _this), true);

        if (_this.timeout) {
          clearTimeout(_this.timeout);
        }

        // Make the image visible if it fails to load within 1s
        _this.timeout = setTimeout(function () {
          removeClass(image, CLASS_INVISIBLE);
          _this.timeout = false;
        }, 1000);
      }

      return _this;
    },

    // View the previous image
    prev: function () {
      var _this = this;

      _this.view(max(_this.index - 1, 0));

      return _this;
    },

    // View the next image
    next: function () {
      var _this = this;

      _this.view(min(_this.index + 1, _this.length - 1));

      return _this;
    },

    /**
     * Move the image with relative offsets
     *
     * @param {Number} offsetX
     * @param {Number} offsetY (optional)
     */
    move: function (offsetX, offsetY) {
      var _this = this;
      var imageData = _this.imageData;

      _this.moveTo(
        isUndefined(offsetX) ? offsetX : imageData.left + Number(offsetX),
        isUndefined(offsetY) ? offsetY : imageData.top + Number(offsetY)
      );

      return _this;
    },

    /**
     * Move the image to an absolute point
     *
     * @param {Number} x
     * @param {Number} y (optional)
     */
    moveTo: function (x, y) {
      var _this = this;
      var imageData = _this.imageData;
      var changed = false;

      // If "y" is not present, its default value is "x"
      if (isUndefined(y)) {
        y = x;
      }

      x = Number(x);
      y = Number(y);

      if (_this.isViewed && !_this.isPlayed && _this.options.movable) {
        if (isNumber(x)) {
          imageData.left = x;
          changed = true;
        }

        if (isNumber(y)) {
          imageData.top = y;
          changed = true;
        }

        if (changed) {
          _this.renderImage();
        }
      }

      return _this;
    },

    /**
     * Zoom the image with a relative ratio
     *
     * @param {Number} ratio
     * @param {Boolean} hasTooltip (optional)
     * @param {Event} _originalEvent (private)
     */
    zoom: function (ratio, hasTooltip, _originalEvent) {
      var _this = this;
      var imageData = _this.imageData;

      ratio = Number(ratio);

      if (ratio < 0) {
        ratio =  1 / (1 - ratio);
      } else {
        ratio = 1 + ratio;
      }

      _this.zoomTo(imageData.width * ratio / imageData.naturalWidth, hasTooltip, _originalEvent);

      return _this;
    },

    /**
     * Zoom the image to an absolute ratio
     *
     * @param {Number} ratio
     * @param {Boolean} hasTooltip (optional)
     * @param {Event} _originalEvent (private)
     * @param {Boolean} _zoomable (private)
     */
    zoomTo: function (ratio, hasTooltip, _originalEvent, _zoomable) {
      var _this = this;
      var options = _this.options;
      var pointers = _this.pointers;
      var minZoomRatio = 0.01;
      var maxZoomRatio = 100;
      var imageData = _this.imageData;
      var newWidth;
      var newHeight;
      var offset;
      var center;

      ratio = max(0, ratio);

      if (isNumber(ratio) && _this.isViewed && !_this.isPlayed && (_zoomable || options.zoomable)) {
        if (!_zoomable) {
          minZoomRatio = max(minZoomRatio, options.minZoomRatio);
          maxZoomRatio = min(maxZoomRatio, options.maxZoomRatio);
          ratio = min(max(ratio, minZoomRatio), maxZoomRatio);
        }

        if (ratio > 0.95 && ratio < 1.05) {
          ratio = 1;
        }

        newWidth = imageData.naturalWidth * ratio;
        newHeight = imageData.naturalHeight * ratio;

        if (_originalEvent) {
          offset = getOffset(_this.viewer);
          center = pointers && Object.keys(pointers).length ? getPointersCenter(pointers) : {
            pageX: _originalEvent.pageX,
            pageY: _originalEvent.pageY
          };

          // Zoom from the triggering point of the event
          imageData.left -= (newWidth - imageData.width) * (
            ((center.pageX - offset.left) - imageData.left) / imageData.width
          );
          imageData.top -= (newHeight - imageData.height) * (
            ((center.pageY - offset.top) - imageData.top) / imageData.height
          );
        } else {

          // Zoom from the center of the image
          imageData.left -= (newWidth - imageData.width) / 2;
          imageData.top -= (newHeight - imageData.height) / 2;
        }

        imageData.width = newWidth;
        imageData.height = newHeight;
        imageData.ratio = ratio;
        _this.renderImage();

        if (hasTooltip) {
          _this.tooltip();
        }
      }

      return _this;
    },

    /**
     * Rotate the image with a relative degree
     *
     * @param {Number} degree
     */
    rotate: function (degree) {
      var _this = this;

      _this.rotateTo((_this.imageData.rotate || 0) + Number(degree));

      return _this;
    },

    /**
     * Rotate the image to an absolute degree
     * https://developer.mozilla.org/en-US/docs/Web/CSS/transform-function#rotate()
     *
     * @param {Number} degree
     */
    rotateTo: function (degree) {
      var _this = this;
      var imageData = _this.imageData;

      degree = Number(degree);

      if (isNumber(degree) && _this.isViewed && !_this.isPlayed && _this.options.rotatable) {
        imageData.rotate = degree;
        _this.renderImage();
      }

      return _this;
    },

    /**
     * Scale the image
     * https://developer.mozilla.org/en-US/docs/Web/CSS/transform-function#scale()
     *
     * @param {Number} scaleX
     * @param {Number} scaleY (optional)
     */
    scale: function (scaleX, scaleY) {
      var _this = this;
      var imageData = _this.imageData;
      var changed = false;

      // If "scaleY" is not present, its default value is "scaleX"
      if (isUndefined(scaleY)) {
        scaleY = scaleX;
      }

      scaleX = Number(scaleX);
      scaleY = Number(scaleY);

      if (_this.isViewed && !_this.isPlayed && _this.options.scalable) {
        if (isNumber(scaleX)) {
          imageData.scaleX = scaleX;
          changed = true;
        }

        if (isNumber(scaleY)) {
          imageData.scaleY = scaleY;
          changed = true;
        }

        if (changed) {
          _this.renderImage();
        }
      }

      return _this;
    },

    /**
     * Scale the abscissa of the image
     *
     * @param {Number} scaleX
     */
    scaleX: function (scaleX) {
      var _this = this;

      _this.scale(scaleX, _this.imageData.scaleY);

      return _this;
    },

    /**
     * Scale the ordinate of the image
     *
     * @param {Number} scaleY
     */
    scaleY: function (scaleY) {
      var _this = this;

      _this.scale(_this.imageData.scaleX, scaleY);

      return _this;
    },

    // Play the images
    play: function () {
      var _this = this;
      var options = _this.options;
      var player = _this.player;
      var load = proxy(_this.loadImage, _this);
      var list = [];
      var total = 0;
      var index = 0;
      var playing;

      if (!_this.isShown || _this.isPlayed) {
        return _this;
      }

      if (options.fullscreen) {
        _this.requestFullscreen();
      }

      _this.isPlayed = true;
      addClass(player, CLASS_SHOW);

      each(_this.items, function (item, i) {
        var img = getByTag(item, 'img')[0];
        var image = document.createElement('img');

        image.src = getData(img, 'originalUrl');
        image.alt = img.getAttribute('alt');
        total++;

        addClass(image, CLASS_FADE);
        toggleClass(image, CLASS_TRANSITION, options.transition);

        if (hasClass(item, CLASS_ACTIVE)) {
          addClass(image, CLASS_IN);
          index = i;
        }

        list.push(image);
        addListener(image, EVENT_LOAD, load, true);
        appendChild(player, image);
      });

      if (isNumber(options.interval) && options.interval > 0) {
        playing = function () {
          _this.playing = setTimeout(function () {
            removeClass(list[index], CLASS_IN);
            index++;
            index = index < total ? index : 0;
            addClass(list[index], CLASS_IN);

            playing();
          }, options.interval);
        };

        if (total > 1) {
          playing();
        }
      }

      return _this;
    },

    // Stop play
    stop: function () {
      var _this = this;
      var player = _this.player;

      if (!_this.isPlayed) {
        return _this;
      }

      if (_this.options.fullscreen) {
        _this.exitFullscreen();
      }

      _this.isPlayed = false;
      clearTimeout(_this.playing);
      removeClass(player, CLASS_SHOW);
      empty(player);

      return _this;
    },

    // Enter modal mode (only available in inline mode)
    full: function () {
      var _this = this;
      var options = _this.options;
      var viewer = _this.viewer;
      var image = _this.image;
      var list = _this.list;

      if (!_this.isShown || _this.isPlayed || _this.isFulled || !options.inline) {
        return _this;
      }

      _this.isFulled = true;
      _this.open();
      addClass(_this.button, CLASS_FULLSCREEN_EXIT);

      if (options.transition) {
        removeClass(image, CLASS_TRANSITION);
        removeClass(list, CLASS_TRANSITION);
      }

      addClass(viewer, CLASS_FIXED);
      viewer.setAttribute('style', '');
      setStyle(viewer, {
        zIndex: options.zIndex
      });

      _this.initContainer();
      _this.viewerData = extend({}, _this.containerData);
      _this.renderList();
      _this.initImage(function () {
        _this.renderImage(function () {
          if (options.transition) {
            setTimeout(function () {
              addClass(image, CLASS_TRANSITION);
              addClass(list, CLASS_TRANSITION);
            }, 0);
          }
        });
      });

      return _this;
    },

    // Exit modal mode (only available in inline mode)
    exit: function () {
      var _this = this;
      var options = _this.options;
      var viewer = _this.viewer;
      var image = _this.image;
      var list = _this.list;

      if (!_this.isFulled) {
        return _this;
      }

      _this.isFulled = false;
      _this.close();
      removeClass(_this.button, CLASS_FULLSCREEN_EXIT);

      if (options.transition) {
        removeClass(image, CLASS_TRANSITION);
        removeClass(list, CLASS_TRANSITION);
      }

      removeClass(viewer, CLASS_FIXED);
      setStyle(viewer, {
        zIndex: options.zIndexInline
      });

      _this.viewerData = extend({}, _this.parentData);
      _this.renderViewer();
      _this.renderList();
      _this.initImage(function () {
        _this.renderImage(function () {
          if (options.transition) {
            setTimeout(function () {
              addClass(image, CLASS_TRANSITION);
              addClass(list, CLASS_TRANSITION);
            }, 0);
          }
        });
      });

      return _this;
    },

    // Show the current ratio of the image with percentage
    tooltip: function () {
      var _this = this;
      var options = _this.options;
      var tooltipBox = _this.tooltipBox;
      var imageData = _this.imageData;

      if (!_this.isViewed || _this.isPlayed || !options.tooltip) {
        return _this;
      }

      setText(tooltipBox, round(imageData.ratio * 100) + '%');

      if (!_this.tooltiping) {
        if (options.transition) {
          if (_this.fading) {
            dispatchEvent(tooltipBox, EVENT_TRANSITIONEND);
          }

          addClass(tooltipBox, CLASS_SHOW);
          addClass(tooltipBox, CLASS_FADE);
          addClass(tooltipBox, CLASS_TRANSITION);
          forceReflow(tooltipBox);
          addClass(tooltipBox, CLASS_IN);
        } else {
          addClass(tooltipBox, CLASS_SHOW);
        }
      } else {
        clearTimeout(_this.tooltiping);
      }

      _this.tooltiping = setTimeout(function () {
        if (options.transition) {
          addListener(tooltipBox, EVENT_TRANSITIONEND, function () {
            removeClass(tooltipBox, CLASS_SHOW);
            removeClass(tooltipBox, CLASS_FADE);
            removeClass(tooltipBox, CLASS_TRANSITION);
            _this.fading = false;
          }, true);

          removeClass(tooltipBox, CLASS_IN);
          _this.fading = true;
        } else {
          removeClass(tooltipBox, CLASS_SHOW);
        }

        _this.tooltiping = false;
      }, 1000);

      return _this;
    },

    // Toggle the image size between its natural size and initial size
    toggle: function () {
      var _this = this;

      if (_this.imageData.ratio === 1) {
        _this.zoomTo(_this.initialImageData.ratio, true);
      } else {
        _this.zoomTo(1, true);
      }

      return _this;
    },

    // Reset the image to its initial state
    reset: function () {
      var _this = this;

      if (_this.isViewed && !_this.isPlayed) {
        _this.imageData = extend({}, _this.initialImageData);
        _this.renderImage();
      }

      return _this;
    },

    // Update viewer when images changed
    update: function () {
      var _this = this;
      var indexes = [];
      var index;

      // Destroy viewer if the target image was deleted
      if (_this.isImg && !_this.element.parentNode) {
        return _this.destroy();
      }

      _this.length = _this.images.length;

      if (_this.isBuilt) {
        each(_this.items, function (item, i) {
          var img = getByTag(item, 'img')[0];
          var image = _this.images[i];

          if (image) {
            if (image.src !== img.src) {
              indexes.push(i);
            }
          } else {
            indexes.push(i);
          }
        });

        setStyle(_this.list, {
          width: 'auto'
        });

        _this.initList();

        if (_this.isShown) {
          if (_this.length) {
            if (_this.isViewed) {
              index = inArray(_this.index, indexes);

              if (index >= 0) {
                _this.isViewed = false;
                _this.view(max(_this.index - (index + 1), 0));
              } else {
                addClass(_this.items[_this.index], CLASS_ACTIVE);
              }
            }
          } else {
            _this.image = null;
            _this.isViewed = false;
            _this.index = 0;
            _this.imageData = null;
            empty(_this.canvas);
            empty(_this.title);
          }
        }
      }

      return _this;
    },

    // Destroy the viewer
    destroy: function () {
      var _this = this;
      var element = _this.element;

      if (_this.options.inline) {
        _this.unbind();
      } else {
        if (_this.isShown) {
          _this.unbind();
        }

        removeListener(element, EVENT_CLICK, _this._start);
      }

      _this.unbuild();
      removeData(element, NAMESPACE);

      return _this;
    },

    open: function () {
      var body = this.body;

      addClass(body, CLASS_OPEN);
      body.style.paddingRight = this.scrollbarWidth + 'px';
    },

    close: function () {
      var body = this.body;

      removeClass(body, CLASS_OPEN);
      body.style.paddingRight = 0;
    },

    shown: function () {
      var _this = this;
      var options = _this.options;
      var element = _this.element;

      _this.transitioning = false;
      _this.isFulled = true;
      _this.isShown = true;
      _this.isVisible = true;
      _this.render();
      _this.bind();

      if (isFunction(options.shown)) {
        addListener(element, EVENT_SHOWN, options.shown, true);
      }

      dispatchEvent(element, EVENT_SHOWN);
    },

    hidden: function () {
      var _this = this;
      var options = _this.options;
      var element = _this.element;

      _this.transitioning = false;
      _this.isViewed = false;
      _this.isFulled = false;
      _this.isShown = false;
      _this.isVisible = false;
      _this.unbind();
      _this.close();
      addClass(_this.viewer, CLASS_HIDE);
      _this.resetList();
      _this.resetImage();

      if (isFunction(options.hidden)) {
        addListener(element, EVENT_HIDDEN, options.hidden, true);
      }

      dispatchEvent(element, EVENT_HIDDEN);
    },

    requestFullscreen: function () {
      var _this = this;
      var documentElement = document.documentElement;

      if (_this.isFulled && !document.fullscreenElement && !document.mozFullScreenElement &&
        !document.webkitFullscreenElement && !document.msFullscreenElement) {

        if (documentElement.requestFullscreen) {
          documentElement.requestFullscreen();
        } else if (documentElement.msRequestFullscreen) {
          documentElement.msRequestFullscreen();
        } else if (documentElement.mozRequestFullScreen) {
          documentElement.mozRequestFullScreen();
        } else if (documentElement.webkitRequestFullscreen) {
          documentElement.webkitRequestFullscreen(Element.ALLOW_KEYBOARD_INPUT);
        }
      }
    },

    exitFullscreen: function () {
      var _this = this;

      if (_this.isFulled) {
        if (document.exitFullscreen) {
          document.exitFullscreen();
        } else if (document.msExitFullscreen) {
          document.msExitFullscreen();
        } else if (document.mozCancelFullScreen) {
          document.mozCancelFullScreen();
        } else if (document.webkitExitFullscreen) {
          document.webkitExitFullscreen();
        }
      }
    },

    change: function (e) {
      var _this = this;
      var pointers = _this.pointers;
      var pointer = pointers[Object.keys(pointers)[0]];
      var offsetX = pointer.endX - pointer.startX;
      var offsetY = pointer.endY - pointer.startY;

      switch (_this.action) {

        // Move the current image
        case 'move':
          _this.move(offsetX, offsetY);
          break;

        // Zoom the current image
        case 'zoom':
          _this.zoom(getMaxZoomRatio(pointers), false, e);
          break;

        case 'switch':
          _this.action = 'switched';

          if (abs(offsetX) > abs(offsetY)) {
            if (offsetX > 1) {
              _this.prev();
            } else if (offsetX < -1) {
              _this.next();
            }
          }

          break;

        // No default
      }

      // Override
      each(pointers, function (p) {
        p.startX = p.endX;
        p.startY = p.endY;
      });
    },

    isSwitchable: function () {
      var _this = this;
      var imageData = _this.imageData;
      var viewerData = _this.viewerData;

      return _this.length > 1 && imageData.left >= 0 && imageData.top >= 0 &&
        imageData.width <= viewerData.width &&
        imageData.height <= viewerData.height;
    }
  };

  Viewer.DEFAULTS = {

    // Enable inline mode
    inline: false,

    // Show the button on the top-right of the viewer
    button: true,

    // Show the navbar
    navbar: true,

    // Show the title
    title: true,

    // Show the toolbar
    toolbar: true,

    // Show the tooltip with image ratio (percentage) when zoom in or zoom out
    tooltip: true,

    // Enable to move the image
    movable: true,

    // Enable to zoom the image
    zoomable: true,

    // Enable to rotate the image
    rotatable: true,

    // Enable to scale the image
    scalable: true,

    // Enable CSS3 Transition for some special elements
    transition: true,

    // Enable to request fullscreen when play
    fullscreen: true,

    // Enable keyboard support
    keyboard: true,

    // Define interval of each image when playing
    interval: 5000,

    // Min width of the viewer in inline mode
    minWidth: 200,

    // Min height of the viewer in inline mode
    minHeight: 100,

    // Define the ratio when zoom the image by wheeling mouse
    zoomRatio: 0.1,

    // Define the min ratio of the image when zoom out
    minZoomRatio: 0.01,

    // Define the max ratio of the image when zoom in
    maxZoomRatio: 100,

    // Define the CSS `z-index` value of viewer in modal mode.
    zIndex: 2015,

    // Define the CSS `z-index` value of viewer in inline mode.
    zIndexInline: 0,

    // Define where to get the original image URL for viewing
    // Type: String (an image attribute) or Function (should return an image URL)
    url: 'src',

    // Event shortcuts
    ready: null,
    show: null,
    shown: null,
    hide: null,
    hidden: null,
    view: null,
    viewed: null
  };

  Viewer.TEMPLATE = (
    '<div class="viewer-container">' +
      '<div class="viewer-canvas"></div>' +
      '<div class="viewer-footer">' +
        '<div class="viewer-title"></div>' +
        '<ul class="viewer-toolbar">' +
          '<li class="viewer-zoom-in" data-action="zoom-in"></li>' +
          '<li class="viewer-zoom-out" data-action="zoom-out"></li>' +
          '<li class="viewer-one-to-one" data-action="one-to-one"></li>' +
          '<li class="viewer-reset" data-action="reset"></li>' +
          '<li class="viewer-prev" data-action="prev"></li>' +
          '<li class="viewer-play" data-action="play"></li>' +
          '<li class="viewer-next" data-action="next"></li>' +
          '<li class="viewer-rotate-left" data-action="rotate-left"></li>' +
          '<li class="viewer-rotate-right" data-action="rotate-right"></li>' +
          '<li class="viewer-flip-horizontal" data-action="flip-horizontal"></li>' +
          '<li class="viewer-flip-vertical" data-action="flip-vertical"></li>' +
        '</ul>' +
        '<div class="viewer-navbar">' +
          '<ul class="viewer-list"></ul>' +
        '</div>' +
      '</div>' +
      '<div class="viewer-tooltip"></div>' +
      '<div class="viewer-button" data-action="mix"></div>' +
      '<div class="viewer-player"></div>' +
    '</div>'
  );

  var _Viewer = window.Viewer;

  Viewer.noConflict = function () {
    window.Viewer = _Viewer;
    return Viewer;
  };

  Viewer.setDefaults = function (options) {
    extend(Viewer.DEFAULTS, options);
  };

  if (typeof define === 'function' && define.amd) {
    define('viewer', [], function () {
      return Viewer;
    });
  }

  if (!noGlobal) {
    window.Viewer = Viewer;
  }

  return Viewer;

});

},{}]},{},["/Users/cescwang/program/sil/SIL-frontend/app/app.js"])
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJhcHAvYXBwLmpzIiwiYXBwL2NvbW1vbi9iYXNlL2Jhc2UubW9kdWxlLmpzIiwiYXBwL2NvbW1vbi9iYXNlL2Jhc2Uuc2VydmljZS5qcyIsImFwcC9jb21tb24vYmFzZS9iYXNlTGlzdC5jb250cm9sbGVyLmpzIiwiYXBwL2NvbW1vbi9jb21tb24ubW9kdWxlLmpzIiwiYXBwL2NvbW1vbi9jb21wb25lbnRzL2JhY2stdG9wL2JhY2stdG9wLmpzIiwiYXBwL2NvbW1vbi9jb21wb25lbnRzL2NvbXBvbmVudHMubW9kdWxlLmpzIiwiYXBwL2NvbW1vbi9jb21wb25lbnRzL2lubGluZS1uYXYvaW5kZXguanMiLCJhcHAvY29tbW9uL2NvbXBvbmVudHMvaW5saW5lLW5hdi9pbmxpbmUtbmF2LmN0cmwuanMiLCJhcHAvY29tbW9uL2NvbXBvbmVudHMvbWMtc3RlcC9jdHJsLmpzIiwiYXBwL2NvbW1vbi9jb21wb25lbnRzL21jLXN0ZXAvaW5kZXguanMiLCJhcHAvY29tbW9uL2NvbnN0YW50cy9yZWdFeHBSdWxlLmpzIiwiYXBwL2NvbW1vbi9kaXJlY3RpdmVzL2RpcmVjdGl2ZXMubW9kdWxlLmpzIiwiYXBwL2NvbW1vbi9kaXJlY3RpdmVzL2VtcHR5VGlwLmRpcmVjdGl2ZS5qcyIsImFwcC9jb21tb24vZGlyZWN0aXZlcy9maWx0ZXItbGlzdC9pbmRleC5qcyIsImFwcC9jb21tb24vZGlyZWN0aXZlcy9mb3JtLWVkaXRhYmxlL2Zvcm0tZWRpdGFibGUuY3RybC5qcyIsImFwcC9jb21tb24vZGlyZWN0aXZlcy9mb3JtLWVkaXRhYmxlL2luZGV4LmpzIiwiYXBwL2NvbW1vbi9kaXJlY3RpdmVzL2ltZ0xhenlMb2FkLmRpcmVjdGl2ZS5qcyIsImFwcC9jb21tb24vZGlyZWN0aXZlcy9rZXlFdmVudC5kaXJlY3RpdmUuanMiLCJhcHAvY29tbW9uL2RpcmVjdGl2ZXMvbWNCYXRjaFVwbG9hZEJhbmsvaW5kZXguanMiLCJhcHAvY29tbW9uL2RpcmVjdGl2ZXMvbWNCYXRjaFVwbG9hZFVzZXIvaW5kZXguanMiLCJhcHAvY29tbW9uL2RpcmVjdGl2ZXMvbWNCYXRjaFVwbG9hZFZjL2luZGV4LmpzIiwiYXBwL2NvbW1vbi9kaXJlY3RpdmVzL3Jlc2l6YWJsZS5kaXJlY3RpdmUuanMiLCJhcHAvY29tbW9uL2ZpbHRlcnMvYWRkcmVzc0Zvcm1hdC5qcyIsImFwcC9jb21tb24vZmlsdGVycy9kYXlUaW1lLmpzIiwiYXBwL2NvbW1vbi9maWx0ZXJzL2Rpc2Vhc2VIaXN0b3J5LmpzIiwiYXBwL2NvbW1vbi9maWx0ZXJzL2ZpbHRlcnMubW9kdWxlLmpzIiwiYXBwL2NvbW1vbi9maWx0ZXJzL2ZpeC5qcyIsImFwcC9jb21tb24vZmlsdGVycy9tb2RlSWQuanMiLCJhcHAvY29tbW9uL2ZpbHRlcnMvb2xkVHlwZS5qcyIsImFwcC9jb21tb24vZmlsdGVycy9vcmRlclNvdXJjZS5qcyIsImFwcC9jb21tb24vZmlsdGVycy9vcmRlclN0YXR1cy5qcyIsImFwcC9jb21tb24vZmlsdGVycy9wYXlXYXkuanMiLCJhcHAvY29tbW9uL2ZpbHRlcnMvc2VydmljZVR5cGUuanMiLCJhcHAvY29tbW9uL2ZpbHRlcnMvc2VydmljZVdheS5qcyIsImFwcC9jb21tb24vZmlsdGVycy90aW1lRm9ybWF0LmpzIiwiYXBwL2NvbW1vbi9zZXJ2aWNlcy9hY2Nlc3NDb250cm9sLnNlcnZpY2UuanMiLCJhcHAvY29tbW9uL3NlcnZpY2VzL2NvbmZpZy5zZXJ2aWNlLmpzIiwiYXBwL2NvbW1vbi9zZXJ2aWNlcy9kaXN0cmljdC5zZXJ2aWNlLmpzIiwiYXBwL2NvbW1vbi9zZXJ2aWNlcy9wcm9maWxlLnNlcnZpY2UuanMiLCJhcHAvY29tbW9uL3NlcnZpY2VzL3NlcnZpY2VzLm1vZHVsZS5qcyIsImFwcC9jb3JlL2NvbXBvbmVudHMvY29tcG9uZW50cy5tb2R1bGUuanMiLCJhcHAvY29yZS9jb21wb25lbnRzL21jQ29udGVudEhlYWRlci9tY0NvbnRlbnRIZWFkZXIuanMiLCJhcHAvY29yZS9jb21wb25lbnRzL21jTWFpbkhlYWRlci9tY01haW5IZWFkZXIuanMiLCJhcHAvY29yZS9jb21wb25lbnRzL21jUGFnaW5hdGlvbi9pbmRleC5qcyIsImFwcC9jb3JlL2NvbXBvbmVudHMvbWNQYWdpbmF0aW9uL21jLXBhZ2luYXRpb24uY2xhc3MuanMiLCJhcHAvY29yZS9jb21wb25lbnRzL21jUGlja2VyL2N0cmwuanMiLCJhcHAvY29yZS9jb21wb25lbnRzL21jUGlja2VyL3BpY2tlci5qcyIsImFwcC9jb3JlL2NvbXBvbmVudHMvbWNTaWRlYmFyL2hlbHBlcnMvbWNTaWRlYmFyVG9nZ2xpbmdJdGVtLmN0cmwuanMiLCJhcHAvY29yZS9jb21wb25lbnRzL21jU2lkZWJhci9tY1NpZGViYXIuZGlyZWN0aXZlLmpzIiwiYXBwL2NvcmUvY29tcG9uZW50cy9tY1NpZGViYXIvbWNTaWRlYmFyLnNlcnZpY2UuanMiLCJhcHAvY29yZS9jb21wb25lbnRzL21jU2lkZWJhci9tY1NpZGViYXJIZWxwZXJzLmRpcmVjdGl2ZS5qcyIsImFwcC9jb3JlL2NvcmUuYXBpLmpzIiwiYXBwL2NvcmUvY29yZS5jb25maWcuanMiLCJhcHAvY29yZS9jb3JlLmNvbmZpZ1Byb3ZpZGVyLmpzIiwiYXBwL2NvcmUvY29yZS5jb25zdGFudHMuanMiLCJhcHAvY29yZS9jb3JlLm1vZHVsZS5qcyIsImFwcC9jb3JlL2NvcmUucnVuLmpzIiwiYXBwL2NvcmUvZGlyZWN0aXZlcy9kaXJlY3RpdmVzLm1vZHVsZS5qcyIsImFwcC9jb3JlL2RpcmVjdGl2ZXMvbWNEYXRlUGlja2VyL2RhdGVwaWNrZXIuanMiLCJhcHAvY29yZS9kaXJlY3RpdmVzL21jVXBsb2FkQXZhdGFyL2N0cmwuanMiLCJhcHAvY29yZS9kaXJlY3RpdmVzL21jVXBsb2FkQXZhdGFyL3VwbG9hZC5qcyIsImFwcC9jb3JlL2RpcmVjdGl2ZXMvbWNVcGxvYWRJbWFnZS91cGxvYWQuanMiLCJhcHAvY29yZS9zZXJ2aWNlcy9jaGVja1N0YXRlLnNlcnZpY2UuanMiLCJhcHAvY29yZS9zZXJ2aWNlcy9oaXN0b3J5LnNlcnZpY2UuanMiLCJhcHAvY29yZS9zZXJ2aWNlcy9odHRwLmludGVyY2VwdG9yLmpzIiwiYXBwL2NvcmUvc2VydmljZXMvaHR0cEhlbHBlci5zZXJ2aWNlLmpzIiwiYXBwL2NvcmUvc2VydmljZXMvaW1nUHJlTG9hZC5zZXJ2aWNlLmpzIiwiYXBwL2NvcmUvc2VydmljZXMvc2VydmljZS5tb2R1bGUuanMiLCJhcHAvY29yZS9zZXJ2aWNlcy91dGlsLnNlcnZpY2UuanMiLCJhcHAvY29yZS92ZW5kb3IvY29uZmlnL2Jsb2NrVUkuY29uZmlnLmpzIiwiYXBwL2NvcmUvdmVuZG9yL2NvbmZpZy90b2FzdHIuY29uZmlnLmpzIiwiYXBwL2NvcmUvdmVuZG9yL2NvbmZpZy91aWJQYWdpbmF0aW9uLmNvbmZpZy5qcyIsImFwcC9jb3JlL3ZlbmRvci9jb25maWcvdmFsaWRhdGlvblJ1bGUuY29uZmlnLmpzIiwiYXBwL2NvcmUvdmVuZG9yL3VpYk1vZGFsLmRlY29yYXRvci5qcyIsImFwcC9jb3JlL3ZlbmRvci92ZW5kb3IubW9kdWxlLmpzIiwiYXBwL21vZHVsZXMvYWNjb3VudC9jb25maWcuanMiLCJhcHAvbW9kdWxlcy9hY2NvdW50L2RldGFpbC9jdHJsLmpzIiwiYXBwL21vZHVsZXMvYWNjb3VudC9kZXRhaWwvaW5kZXguanMiLCJhcHAvbW9kdWxlcy9hY2NvdW50L2xpc3QvY3RybC5qcyIsImFwcC9tb2R1bGVzL2FjY291bnQvbGlzdC9pbmRleC5qcyIsImFwcC9tb2R1bGVzL2FjY291bnQvbW9kYWxzL2FkZC9jdHJsLmpzIiwiYXBwL21vZHVsZXMvYWNjb3VudC9tb2RhbHMvYWRkL2luZGV4LmpzIiwiYXBwL21vZHVsZXMvYWNjb3VudC9tb2RhbHMvYnJhbmNoL2N0cmwuanMiLCJhcHAvbW9kdWxlcy9hY2NvdW50L21vZGFscy9icmFuY2gvaW5kZXguanMiLCJhcHAvbW9kdWxlcy9hY2NvdW50L21vZGFscy9pbmRleC5qcyIsImFwcC9tb2R1bGVzL2FjY291bnQvbW9kdWxlLmpzIiwiYXBwL21vZHVsZXMvYWNjb3VudC9zZXJ2aWNlLmpzIiwiYXBwL21vZHVsZXMvYmFuay9jb25maWcuanMiLCJhcHAvbW9kdWxlcy9iYW5rL2xpc3QvY3RybC5qcyIsImFwcC9tb2R1bGVzL2JhbmsvbGlzdC9pbmRleC5qcyIsImFwcC9tb2R1bGVzL2JhbmsvbW9kYWxzL2FkZC9jdHJsLmpzIiwiYXBwL21vZHVsZXMvYmFuay9tb2RhbHMvYWRkL2luZGV4LmpzIiwiYXBwL21vZHVsZXMvYmFuay9tb2RhbHMvYnJhbmNoL2N0cmwuanMiLCJhcHAvbW9kdWxlcy9iYW5rL21vZGFscy9icmFuY2gvaW5kZXguanMiLCJhcHAvbW9kdWxlcy9iYW5rL21vZGFscy9lZGl0L2N0cmwuanMiLCJhcHAvbW9kdWxlcy9iYW5rL21vZGFscy9lZGl0L2luZGV4LmpzIiwiYXBwL21vZHVsZXMvYmFuay9tb2RhbHMvaW5kZXguanMiLCJhcHAvbW9kdWxlcy9iYW5rL21vZGFscy9tYXAvY3RybC5qcyIsImFwcC9tb2R1bGVzL2JhbmsvbW9kYWxzL21hcC9pbmRleC5qcyIsImFwcC9tb2R1bGVzL2JhbmsvbW9kdWxlLmpzIiwiYXBwL21vZHVsZXMvYmFuay9zZXJ2aWNlLmpzIiwiYXBwL21vZHVsZXMvZGFzaGJvYXJkL2Rhc2hib2FyZC5qcyIsImFwcC9tb2R1bGVzL2Rhc2hib2FyZC9kYXNoYm9hcmQubW9kdWxlLmpzIiwiYXBwL21vZHVsZXMvZGFzaGJvYXJkL2Rhc2hib2FyZC5zZXJ2aWNlLmpzIiwiYXBwL21vZHVsZXMvZGVtby9hY2Nlc3MvY3RybC5qcyIsImFwcC9tb2R1bGVzL2RlbW8vYWNjZXNzL2luZGV4LmpzIiwiYXBwL21vZHVsZXMvZGVtby9jb21wb25lbnQvY3RybC5qcyIsImFwcC9tb2R1bGVzL2RlbW8vY29tcG9uZW50L2luZGV4LmpzIiwiYXBwL21vZHVsZXMvZGVtby9kZW1vLmNvbmZpZy5qcyIsImFwcC9tb2R1bGVzL2RlbW8vZGVtby5tb2R1bGUuanMiLCJhcHAvbW9kdWxlcy9kZW1vL2xpc3QvY3RybC5qcyIsImFwcC9tb2R1bGVzL2RlbW8vbGlzdC9pbmRleC5qcyIsImFwcC9tb2R1bGVzL2RlbW8vbW9kYWxzL2VkaXQvY3RybC5qcyIsImFwcC9tb2R1bGVzL2RlbW8vbW9kYWxzL2VkaXQvaW5kZXguanMiLCJhcHAvbW9kdWxlcy9kZW1vL21vZGFscy9pbmRleC5qcyIsImFwcC9tb2R1bGVzL2VudGVycHJpc2UvY29uZmlnLmpzIiwiYXBwL21vZHVsZXMvZW50ZXJwcmlzZS9kZXRhaWwvY3RybC5qcyIsImFwcC9tb2R1bGVzL2VudGVycHJpc2UvZGV0YWlsL2luZGV4LmpzIiwiYXBwL21vZHVsZXMvZW50ZXJwcmlzZS9maWx0ZXIuanMiLCJhcHAvbW9kdWxlcy9lbnRlcnByaXNlL2xpc3QvY3RybC5qcyIsImFwcC9tb2R1bGVzL2VudGVycHJpc2UvbGlzdC9pbmRleC5qcyIsImFwcC9tb2R1bGVzL2VudGVycHJpc2UvbW9kYWxzL2FkZC9jdHJsLmpzIiwiYXBwL21vZHVsZXMvZW50ZXJwcmlzZS9tb2RhbHMvYWRkL2luZGV4LmpzIiwiYXBwL21vZHVsZXMvZW50ZXJwcmlzZS9tb2RhbHMvYnJhbmNoL2N0cmwuanMiLCJhcHAvbW9kdWxlcy9lbnRlcnByaXNlL21vZGFscy9icmFuY2gvaW5kZXguanMiLCJhcHAvbW9kdWxlcy9lbnRlcnByaXNlL21vZGFscy9pbmRleC5qcyIsImFwcC9tb2R1bGVzL2VudGVycHJpc2UvbW9kYWxzL21hbmFnZS9jdHJsLmpzIiwiYXBwL21vZHVsZXMvZW50ZXJwcmlzZS9tb2RhbHMvbWFuYWdlL2luZGV4LmpzIiwiYXBwL21vZHVsZXMvZW50ZXJwcmlzZS9tb2R1bGUuanMiLCJhcHAvbW9kdWxlcy9lbnRlcnByaXNlL3NlcnZpY2UuanMiLCJhcHAvbW9kdWxlcy9maWx0ZXIvYmxhY2tsaXN0L2N0cmwuanMiLCJhcHAvbW9kdWxlcy9maWx0ZXIvYmxhY2tsaXN0L2luZGV4LmpzIiwiYXBwL21vZHVsZXMvZmlsdGVyL2NvbmRpdGlvbi9jdHJsLmpzIiwiYXBwL21vZHVsZXMvZmlsdGVyL2NvbmRpdGlvbi9pbmRleC5qcyIsImFwcC9tb2R1bGVzL2ZpbHRlci9jb25maWcuanMiLCJhcHAvbW9kdWxlcy9maWx0ZXIvbW9kYWxzL2FkZC9jdHJsLmpzIiwiYXBwL21vZHVsZXMvZmlsdGVyL21vZGFscy9hZGQvaW5kZXguanMiLCJhcHAvbW9kdWxlcy9maWx0ZXIvbW9kYWxzL2luZGV4LmpzIiwiYXBwL21vZHVsZXMvZmlsdGVyL21vZHVsZS5qcyIsImFwcC9tb2R1bGVzL2ZpbHRlci9zZXJ2aWNlLmpzIiwiYXBwL21vZHVsZXMvaW5mb3JtYXRpb24vY29uZmlnLmpzIiwiYXBwL21vZHVsZXMvaW5mb3JtYXRpb24vbW9kdWxlLmpzIiwiYXBwL21vZHVsZXMvaW5mb3JtYXRpb24vc2V0dGluZy9jdHJsLmpzIiwiYXBwL21vZHVsZXMvaW5mb3JtYXRpb24vc2V0dGluZy9pbmRleC5qcyIsImFwcC9tb2R1bGVzL2ludmVzdG1lbnQvY29uZmlnLmpzIiwiYXBwL21vZHVsZXMvaW52ZXN0bWVudC9saXN0L2N0cmwuanMiLCJhcHAvbW9kdWxlcy9pbnZlc3RtZW50L2xpc3QvaW5kZXguanMiLCJhcHAvbW9kdWxlcy9pbnZlc3RtZW50L21vZGFscy9hZGQvY3RybC5qcyIsImFwcC9tb2R1bGVzL2ludmVzdG1lbnQvbW9kYWxzL2FkZC9pbmRleC5qcyIsImFwcC9tb2R1bGVzL2ludmVzdG1lbnQvbW9kdWxlLmpzIiwiYXBwL21vZHVsZXMvaW52ZXN0bWVudC9zZXJ2aWNlLmpzIiwiYXBwL21vZHVsZXMvbG9hbi9jb25maWcuanMiLCJhcHAvbW9kdWxlcy9sb2FuL2RlY2lzaW9uL2N0cmwuanMiLCJhcHAvbW9kdWxlcy9sb2FuL2RlY2lzaW9uL2luZGV4LmpzIiwiYXBwL21vZHVsZXMvbG9hbi9saXN0L2N0cmwuanMiLCJhcHAvbW9kdWxlcy9sb2FuL2xpc3QvaW5kZXguanMiLCJhcHAvbW9kdWxlcy9sb2FuL21vZHVsZS5qcyIsImFwcC9tb2R1bGVzL2xvYW4vc2VydmljZS5qcyIsImFwcC9tb2R1bGVzL2xvYW4vc2V0dGluZy9jdHJsLmpzIiwiYXBwL21vZHVsZXMvbG9hbi9zZXR0aW5nL2luZGV4LmpzIiwiYXBwL21vZHVsZXMvbG9nL2NvbmZpZy5qcyIsImFwcC9tb2R1bGVzL2xvZy9saXN0L2N0cmwuanMiLCJhcHAvbW9kdWxlcy9sb2cvbGlzdC9pbmRleC5qcyIsImFwcC9tb2R1bGVzL2xvZy9tb2R1bGUuanMiLCJhcHAvbW9kdWxlcy9sb2cvc2VydmljZS5qcyIsImFwcC9tb2R1bGVzL21lc3NhZ2UvY29uZmlnLmpzIiwiYXBwL21vZHVsZXMvbWVzc2FnZS9kZXRhaWwvY3RybC5qcyIsImFwcC9tb2R1bGVzL21lc3NhZ2UvZGV0YWlsL2luZGV4LmpzIiwiYXBwL21vZHVsZXMvbWVzc2FnZS9saXN0L2N0cmwuanMiLCJhcHAvbW9kdWxlcy9tZXNzYWdlL2xpc3QvaW5kZXguanMiLCJhcHAvbW9kdWxlcy9tZXNzYWdlL21vZHVsZS5qcyIsImFwcC9tb2R1bGVzL21lc3NhZ2Uvc2VydmljZS5qcyIsImFwcC9tb2R1bGVzL21vZHVsZXMubW9kdWxlLmpzIiwiYXBwL21vZHVsZXMvcGVyc29uL2NvbmZpZy5qcyIsImFwcC9tb2R1bGVzL3BlcnNvbi9kZXRhaWwvY3RybC5qcyIsImFwcC9tb2R1bGVzL3BlcnNvbi9kZXRhaWwvaW5kZXguanMiLCJhcHAvbW9kdWxlcy9wZXJzb24vbW9kdWxlLmpzIiwiYXBwL21vZHVsZXMvcGVyc29uL3NlcnZpY2UuanMiLCJhcHAvbW9kdWxlcy9wcm9jZXNzL2FkZC9jdHJsLmpzIiwiYXBwL21vZHVsZXMvcHJvY2Vzcy9hZGQvaW5kZXguanMiLCJhcHAvbW9kdWxlcy9wcm9jZXNzL2NvbmZpZy5qcyIsImFwcC9tb2R1bGVzL3Byb2Nlc3MvbW9kdWxlLmpzIiwiYXBwL21vZHVsZXMvcHJvY2Vzcy9zZXJ2aWNlLmpzIiwiYXBwL21vZHVsZXMvcHJvY2Vzcy90aXBzL2N0cmwuanMiLCJhcHAvbW9kdWxlcy9wcm9jZXNzL3RpcHMvaW5kZXguanMiLCJhcHAvbW9kdWxlcy9zeXNjb25maWcvY29uZmlnLmpzIiwiYXBwL21vZHVsZXMvc3lzY29uZmlnL21vZHVsZS5qcyIsImFwcC9tb2R1bGVzL3N5c2NvbmZpZy90aW1lL2N0cmwuanMiLCJhcHAvbW9kdWxlcy9zeXNjb25maWcvdGltZS9pbmRleC5qcyIsImFwcC90ZW1wbGF0ZXMuanMiLCJib3dlcl9jb21wb25lbnRzL2FuZ3VsYXItbWRlZGl0b3Ivc3JjL2FuZ3VsYXItbWRlZGl0b3IuanMiLCJub2RlX21vZHVsZXMvYW5ndWxhci1hdXRvLWNvbXBsZXRlL2FuZ3VsYXItYXV0by1jb21wbGV0ZS5qcyIsIm5vZGVfbW9kdWxlcy9hbmd1bGFyLWJhaWR1LW1hcC9kaXN0L2FuZ3VsYXItYmFpZHUtbWFwLmpzIiwibm9kZV9tb2R1bGVzL2FuZ3VsYXItYmxvY2stdWkvZGlzdC9hbmd1bGFyLWJsb2NrLXVpLmpzIiwibm9kZV9tb2R1bGVzL2FuZ3VsYXItZGF0ZXBpY2tlci9kaXN0L2FuZ3VsYXItZGF0ZXBpY2tlci5qcyIsIm5vZGVfbW9kdWxlcy9hbmd1bGFyLWgtc3dlZXRhbGVydC9zcmMvbmdTd2VldEFsZXJ0LmpzIiwibm9kZV9tb2R1bGVzL2FuZ3VsYXItbW9tZW50L2FuZ3VsYXItbW9tZW50LmpzIiwibm9kZV9tb2R1bGVzL2FuZ3VsYXItc2FuaXRpemUvYW5ndWxhci1zYW5pdGl6ZS5qcyIsIm5vZGVfbW9kdWxlcy9hbmd1bGFyLXNhbml0aXplL2luZGV4LmpzIiwibm9kZV9tb2R1bGVzL2FuZ3VsYXItdmFsaWRhdGlvbi1tYXRjaC9kaXN0L2FuZ3VsYXItdmFsaWRhdGlvbi1tYXRjaC5qcyIsIm5vZGVfbW9kdWxlcy9hbmd1bGFyLXZhbGlkYXRpb24tbWF0Y2gvaW5kZXguanMiLCJub2RlX21vZHVsZXMvYW5ndWxhci12YWxpZGF0aW9uL2Rpc3QvYW5ndWxhci12YWxpZGF0aW9uLXJ1bGUuanMiLCJub2RlX21vZHVsZXMvYW5ndWxhci12YWxpZGF0aW9uL2Rpc3QvYW5ndWxhci12YWxpZGF0aW9uLmpzIiwibm9kZV9tb2R1bGVzL2Jvb3RzdHJhcC9kaXN0L2pzL25wbS5qcyIsIm5vZGVfbW9kdWxlcy9ib290c3RyYXAvanMvYWZmaXguanMiLCJub2RlX21vZHVsZXMvYm9vdHN0cmFwL2pzL2FsZXJ0LmpzIiwibm9kZV9tb2R1bGVzL2Jvb3RzdHJhcC9qcy9idXR0b24uanMiLCJub2RlX21vZHVsZXMvYm9vdHN0cmFwL2pzL2Nhcm91c2VsLmpzIiwibm9kZV9tb2R1bGVzL2Jvb3RzdHJhcC9qcy9jb2xsYXBzZS5qcyIsIm5vZGVfbW9kdWxlcy9ib290c3RyYXAvanMvZHJvcGRvd24uanMiLCJub2RlX21vZHVsZXMvYm9vdHN0cmFwL2pzL21vZGFsLmpzIiwibm9kZV9tb2R1bGVzL2Jvb3RzdHJhcC9qcy9wb3BvdmVyLmpzIiwibm9kZV9tb2R1bGVzL2Jvb3RzdHJhcC9qcy9zY3JvbGxzcHkuanMiLCJub2RlX21vZHVsZXMvYm9vdHN0cmFwL2pzL3RhYi5qcyIsIm5vZGVfbW9kdWxlcy9ib290c3RyYXAvanMvdG9vbHRpcC5qcyIsIm5vZGVfbW9kdWxlcy9ib290c3RyYXAvanMvdHJhbnNpdGlvbi5qcyIsIm5vZGVfbW9kdWxlcy9jaGVja2xpc3QtbW9kZWwvY2hlY2tsaXN0LW1vZGVsLmpzIiwibm9kZV9tb2R1bGVzL21vbWVudC9sb2NhbGUvemgtY24uanMiLCJub2RlX21vZHVsZXMvbW9tZW50L21vbWVudC5qcyIsIm5vZGVfbW9kdWxlcy9uZ0Nyb3BwZXIvZGlzdC9uZ0Nyb3BwZXIuYWxsLmpzIiwibm9kZV9tb2R1bGVzL3N3ZWV0YWxlcnQvbGliL21vZHVsZXMvZGVmYXVsdC1wYXJhbXMuanMiLCJub2RlX21vZHVsZXMvc3dlZXRhbGVydC9saWIvbW9kdWxlcy9oYW5kbGUtY2xpY2suanMiLCJub2RlX21vZHVsZXMvc3dlZXRhbGVydC9saWIvbW9kdWxlcy9oYW5kbGUtZG9tLmpzIiwibm9kZV9tb2R1bGVzL3N3ZWV0YWxlcnQvbGliL21vZHVsZXMvaGFuZGxlLWtleS5qcyIsIm5vZGVfbW9kdWxlcy9zd2VldGFsZXJ0L2xpYi9tb2R1bGVzL2hhbmRsZS1zd2FsLWRvbS5qcyIsIm5vZGVfbW9kdWxlcy9zd2VldGFsZXJ0L2xpYi9tb2R1bGVzL2luamVjdGVkLWh0bWwuanMiLCJub2RlX21vZHVsZXMvc3dlZXRhbGVydC9saWIvbW9kdWxlcy9zZXQtcGFyYW1zLmpzIiwibm9kZV9tb2R1bGVzL3N3ZWV0YWxlcnQvbGliL21vZHVsZXMvdXRpbHMuanMiLCJub2RlX21vZHVsZXMvc3dlZXRhbGVydC9saWIvc3dlZXRhbGVydC5qcyIsIm5vZGVfbW9kdWxlcy91bmRlcnNjb3JlL3VuZGVyc2NvcmUuanMiLCJub2RlX21vZHVsZXMvdmlld2VyanMvZGlzdC92aWV3ZXIuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUNBQTs7QUFBQSxJQUFBLFVBQUEsUUFBQTs7QUFJQSxJQUFJLFdBQVcsdUJBQXVCOztBQUh0QyxJQUFBLFdBQUEsUUFBQTs7QUFPQSxJQUFJLFlBQVksdUJBQXVCOztBQU52QyxJQUFBLFFBQUEsUUFBQTs7QUFVQSxJQUFJLFNBQVMsdUJBQXVCOztBQVRwQyxJQUFBLFVBQUEsUUFBQTs7QUFhQSxJQUFJLFdBQVcsdUJBQXVCOztBQVp0QyxJQUFBLFdBQUEsUUFBQTs7QUFnQkEsSUFBSSxZQUFZLHVCQUF1Qjs7QUFmdkMsUUFBQTs7QUFtQkEsU0FBUyx1QkFBdUIsS0FBSyxFQUFFLE9BQU8sT0FBTyxJQUFJLGFBQWEsTUFBTSxFQUFFLFNBQVM7Ozs7QUFmdkYsVUFBQSxRQUFRLE9BQU8sT0FBTyxDQUNwQixpQkFFQSxPQUFBLFFBQVEsTUFDUixTQUFBLFFBQVUsTUFDVixVQUFBLFFBQVc7ODVCQWVpNUI7O0FDN0I5NUI7O0FBRUEsT0FBTyxlQUFlLFNBQVMsY0FBYztFQUMzQyxPQUFPOzs7QUFIVCxJQUFBLFdBQUEsUUFBQTs7QUFRQSxJQUFJLFlBQVksdUJBQXVCOztBQVB2QyxJQUFBLFFBQUEsUUFBQTs7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QUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNobkJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDbFhBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQzV0QkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUMvcENBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQzdEQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7QUNqdUJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDbnVCQTtBQUNBO0FBQ0E7O0FDRkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNoRUE7QUFDQTtBQUNBOztBQ0ZBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ2hEQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ2p6QkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDWkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDbEtBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDOUZBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUM3SEE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDN09BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNwTkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDcktBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ25WQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUM1R0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUM1S0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQzNKQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ3hnQkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQzNEQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ3pLQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQy9IQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDN3NJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDMXVFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQy9CQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDdElBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDOUxBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQzlFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ3RLQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDekNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNoT0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDeEVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUM5U0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDNWdEQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwiZmlsZSI6ImdlbmVyYXRlZC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24gZSh0LG4scil7ZnVuY3Rpb24gcyhvLHUpe2lmKCFuW29dKXtpZighdFtvXSl7dmFyIGE9dHlwZW9mIHJlcXVpcmU9PVwiZnVuY3Rpb25cIiYmcmVxdWlyZTtpZighdSYmYSlyZXR1cm4gYShvLCEwKTtpZihpKXJldHVybiBpKG8sITApO3ZhciBmPW5ldyBFcnJvcihcIkNhbm5vdCBmaW5kIG1vZHVsZSAnXCIrbytcIidcIik7dGhyb3cgZi5jb2RlPVwiTU9EVUxFX05PVF9GT1VORFwiLGZ9dmFyIGw9bltvXT17ZXhwb3J0czp7fX07dFtvXVswXS5jYWxsKGwuZXhwb3J0cyxmdW5jdGlvbihlKXt2YXIgbj10W29dWzFdW2VdO3JldHVybiBzKG4/bjplKX0sbCxsLmV4cG9ydHMsZSx0LG4scil9cmV0dXJuIG5bb10uZXhwb3J0c312YXIgaT10eXBlb2YgcmVxdWlyZT09XCJmdW5jdGlvblwiJiZyZXF1aXJlO2Zvcih2YXIgbz0wO288ci5sZW5ndGg7bysrKXMocltvXSk7cmV0dXJuIHN9KSIsImltcG9ydCAkICAgICAgICAgIGZyb20gJ2pxdWVyeSc7XG5pbXBvcnQgYW5ndWxhciAgICBmcm9tICdhbmd1bGFyJztcbmltcG9ydCBhcHBDb3JlICAgIGZyb20gJy4vY29yZS9jb3JlLm1vZHVsZSc7XG5pbXBvcnQgYXBwQ29tbW9uICBmcm9tICcuL2NvbW1vbi9jb21tb24ubW9kdWxlJztcbmltcG9ydCBhcHBNb2R1bGVzIGZyb20gJy4vbW9kdWxlcy9tb2R1bGVzLm1vZHVsZSdcbmltcG9ydCAnLi90ZW1wbGF0ZXMnO1xuXG4vLyB3aW5kb3cuJCA9IHJlcXVpcmUoJ2pxdWVyeScpO1xuXG5hbmd1bGFyLm1vZHVsZSgnYXBwJywgW1xuICAnYXBwLnRlbXBsYXRlcycsXG5cbiAgYXBwQ29yZS5uYW1lLFxuICBhcHBDb21tb24ubmFtZSxcbiAgYXBwTW9kdWxlcy5uYW1lXG5dKTtcblxuIiwiaW1wb3J0IGFuZ3VsYXIgICAgICAgICBmcm9tICdhbmd1bGFyJztcbmltcG9ydCBiYXNlU2VydmljZSAgICAgZnJvbSAnLi9iYXNlLnNlcnZpY2UnO1xuaW1wb3J0IGJhc2VMaXN0Q3RsICAgICBmcm9tICcuL2Jhc2VMaXN0LmNvbnRyb2xsZXInO1xuXG5cbmV4cG9ydCBkZWZhdWx0IGFuZ3VsYXIubW9kdWxlKCdhcHAuY29tbW9uLmJhc2UnLCBbXSlcbi5zZXJ2aWNlKCdiYXNlTGlzdEN0cmwnLCBiYXNlTGlzdEN0bClcbi5zZXJ2aWNlKCdiYXNlU2VydmljZScsIGJhc2VTZXJ2aWNlKTtcbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIEJhc2VTZXJ2aWNlIHtcblxuICBjb25zdHJ1Y3RvcigkaHR0cCwgaHR0cEhlbHBlciwgdG9hc3RyKSB7XG4gICAgJ25nSW5qZWN0JztcbiAgICB0aGlzLiRodHRwID0gJGh0dHA7XG4gICAgdGhpcy5odHRwSGVscGVyID0gaHR0cEhlbHBlcjtcbiAgICB0aGlzLnRvYXN0ciA9IHRvYXN0cjtcblxuICAgIHRoaXMudXJsUHJlZml4ID0ge1xuICAgICAgLy8gb2xkXG4gICAgICAvL29sZDogJy9hcGkvb2xkLycsXG5cbiAgICAgIC8vIG9sZCBncm91cFxuICAgICAgLy9ncm91cDogJy9hcGkvZ3JvdXAvJ1xuICAgIH07XG5cbiAgfVxuXG4gIF9pbml0KCkge1xuXG4gICAgdGhpcy5iYXNlSW5mbyA9IHdpbmRvdy5wYWdlQ29uZi5hZG1pbkRhdGE7XG5cbiAgfVxuXG4gIGZldGNoKHR5cGUsIG1ldGhvZCwgcGFyYW1zID0ge30pIHtcblxuICAgIHJldHVybiB0aGlzLl9SRVNUZnVsRmFjdG9yeSgnZ2V0JywgdHlwZSwgbWV0aG9kLCBwYXJhbXMpO1xuXG4gIH1cblxuICBmZXRjaExpc3QodHlwZSwgcGFyYW1zKSB7XG5cbiAgICByZXR1cm4gdGhpcy5mZXRjaCh0eXBlLCAnbGlzdCcsIHBhcmFtcyk7XG5cbiAgfVxuXG4gIGVkaXQodHlwZSwgaWQsIHBhcmFtcyA9IHt9KSB7XG5cbiAgICByZXR1cm4gdGhpcy5fUkVTVGZ1bEZhY3RvcnkoJ3B1dCcsIHR5cGUsIGlkLCBwYXJhbXMpO1xuXG4gIH1cblxuICBhZGQodHlwZSwgbWV0aG9kLCBwYXJhbXMgPSB7fSkge1xuXG4gICAgcmV0dXJuIHRoaXMuX1JFU1RmdWxGYWN0b3J5KCdwb3N0JywgdHlwZSwgbWV0aG9kLCBwYXJhbXMpO1xuXG4gIH1cblxuICBkZWxldGUodHlwZSwgbWV0aG9kLCBwYXJhbXMgPSB7fSkge1xuXG4gICAgcmV0dXJuIHRoaXMuX1JFU1RmdWxGYWN0b3J5KCdkZWxldGUnLCB0eXBlLCBtZXRob2QsIHBhcmFtcyk7XG5cbiAgfVxuXG4gIC8vIERlcHJlY2F0ZWRcbiAgZ2V0RGV0YWlsKHR5cGUsIGRhdGEpIHtcblxuICAgIHRoaXMuaHR0cEhlbHBlci5ibG9ja1VJLnN0YXJ0KCk7XG5cbiAgICAvL3RoaXMuZmV0Y2godHlwZSwgJ2xpc3QnLCBwYXJhbXMpO1xuXG4gICAgY29uc29sZS5sb2codHlwZSlcbiAgICBsZXQgdXJsID0gdGhpcy51cmxQcmVmaXhbdHlwZV0gKyAnaWQnO1xuICAgIHJldHVybiB0aGlzLiRodHRwLmdldCh1cmwpLnRoZW4odGhpcy5odHRwSGVscGVyLnZlcmlmeSwgdGhpcy5odHRwSGVscGVyLmVycm9yKTtcblxuICB9XG5cbiAgLyoqXG4gICAqIFJFU1RmdWwgaHR0cCByZXF1ZXN0IGZhY3RvcnkgZnVuY3Rpb25cbiAgICovXG4gIF9SRVNUZnVsRmFjdG9yeSh2ZXJiLCB0eXBlLCBtZXRob2QsIHBhcmFtcykge1xuXG4gICAgdGhpcy5odHRwSGVscGVyLmJsb2NrVUkuc3RhcnQoKTtcblxuICAgIGxldCBwYXJhbXNOYW1lID0gWydwb3N0JywgJ3B1dCddLmluZGV4T2YodmVyYikgPiAtMSA/ICdkYXRhJyA6ICdwYXJhbXMnO1xuXG4gICAgcmV0dXJuIHRoaXMuJGh0dHBbdmVyYl0odGhpcy5fZ2V0VXJsKHR5cGUsIG1ldGhvZCksIHtcbiAgICAgIFtwYXJhbXNOYW1lXTogcGFyYW1zXG4gICAgfSkudGhlbih0aGlzLmh0dHBIZWxwZXIudmVyaWZ5LCB0aGlzLmh0dHBIZWxwZXIuZXJyb3IpO1xuXG4gIH1cblxuICAvLyBUT0RPXG4gIC8vIGZldGNoU2VhcmNoTGlzdCgpIHtcbiAgLy8gICByZXR1cm4gJGh0dHAuZ2V0KCcvYXBpL29sZC9zZWFyY2hPbGQnLCB7cGFyYW1zOiBkYXRhIHx8IHt9fSkudGhlbihodHRwSGVscGVyLnZlcmlmeSwgIGh0dHBIZWxwZXIuZXJyb3IpO1xuICAvLyB9XG5cbiAgX2dldFVybCh0eXBlLCBtZXRob2QpIHtcblxuICAgIHJldHVybiB0aGlzLnVybFByZWZpeFt0eXBlXSA/IGAke3RoaXMudXJsUHJlZml4W3R5cGVdfS8ke21ldGhvZH1gIDogYC9hcGkvJHt0eXBlfS8ke21ldGhvZH1gO1xuXG4gIH1cblxuICBub3RpZnkobWVzc2FnZSwgdHlwZSA9ICdzdWNjZXNzJykge1xuXG4gICAgcmV0dXJuICgpID0+IHsgdGhpcy50b2FzdHJbdHlwZV0obWVzc2FnZSk7IH1cblxuICB9XG5cbn1cbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIEJhc2VMaXN0Q3RybCB7XG5cbiAgY29uc3RydWN0b3IoJGluamVjdG9yLCBjb25maWcpIHtcblxuICAgIHRoaXMuJHN0YXRlUGFyYW1zICA9ICRpbmplY3Rvci5nZXQoJyRzdGF0ZVBhcmFtcycpO1xuICAgIHRoaXMuJGxvY2F0aW9uICAgICA9ICRpbmplY3Rvci5nZXQoJyRsb2NhdGlvbicpO1xuICAgIHRoaXMuaHR0cEhlbHBlciAgICA9ICRpbmplY3Rvci5nZXQoJ2h0dHBIZWxwZXInKTtcbiAgICB0aGlzLkFyZWFTZXJ2aWNlICAgPSAkaW5qZWN0b3IuZ2V0KCdBcmVhU2VydmljZScpO1xuICAgIHRoaXMuQXBwU2V0dGluZ3MgICA9ICRpbmplY3Rvci5nZXQoJ0FwcFNldHRpbmdzJyk7XG5cbiAgICAvL3RoaXMueHh4ID0gJGluamVjdG9yLmdldCgneHh4Jyk7XG5cbiAgICB0aGlzLmFyZWFMaXN0ICAgICAgPSB0aGlzLkFyZWFTZXJ2aWNlLmdldExpc3QoKTtcbiAgICB0aGlzLnN0YXR1c0xpc3QgICAgPSB0aGlzLkFwcFNldHRpbmdzLnN0YXR1c0xpc3Q7ICAvLyDnirbmgIFcbiAgICB0aGlzLm9sZFR5cGVMaXN0ICAgPSB0aGlzLkFwcFNldHRpbmdzLm9sZFR5cGVMaXN0O1xuICAgIHRoaXMub2xkU3RhdHVzTGlzdCA9IHRoaXMuQXBwU2V0dGluZ3Mub2xkU3RhdHVzTGlzdDtcbiAgICB0aGlzLnBhZ2luYXRpb24gICAgPSB0aGlzLkFwcFNldHRpbmdzLnBhZ2luYXRpb247ICAvLyDliIbpobVcblxuICAgIHRoaXMuZmlsdGVycyA9IGFuZ3VsYXIuZXh0ZW5kKHtcbiAgICAgIHBhZ2U6IDFcbiAgICB9LCB0aGlzLiRzdGF0ZVBhcmFtcywgY29uZmlnLmZpbHRlcnMpO1xuXG4gIH1cblxuICAvKipcbiAgICog6ZyA5Zyo5a2QQ29udHJvbGxlcuS4reiwg+eUqOatpOaWueazleOAglxuICAgKiDoi6XopoHph43ovb3mraTmlrnms5XvvIzlupTlnKjph43ovb3mlrnms5XkuK3lhYjosIPnlKhzdXBlci5faW5pdCgpXG4gICAqXG4gICAqIG9wdHM6IOWPguaVsOmFjee9rlxuICAgKiAgIG51bWJlcktleXMoQXJyYXkpOiDmnaXoh6p1cmznmoTor7fmsYLlj4LmlbDlsIbooqvku47lrZfnrKbkuLLovazkuLrmlbTmlbBcbiAgICovXG4gIF9pbml0KG9wdHMpIHtcblxuICAgIHRoaXMuaHR0cEhlbHBlci5ibG9ja1VJLnN0YXJ0KCk7XG5cbiAgICBpZighdGhpcy5fYXNzZXJ0SW52b2tlKCdfZ2V0UGFyYW1zJywgJ3NlYXJjaEZ1bicpKSByZXR1cm47XG5cbiAgICAvLyDojrflj5bmkJzntKLlj4LmlbBcbiAgICB0aGlzLl9nZXRQYXJhbXMob3B0cyk7XG5cbiAgICAvLyDor7fmsYLmlbDmja5cbiAgICB0aGlzLnNlYXJjaEZ1bigpO1xuXG4gIH1cblxuICAvLyDmoLnmja7lj4LmlbDph43mlrDmn6Xor6JcbiAgcmVTZWFyY2goKSB7XG5cbiAgICB0aGlzLiRsb2NhdGlvbi5zZWFyY2goYW5ndWxhci5tZXJnZSh7fSwgdGhpcy5maWx0ZXJzLCB7XG4gICAgICBwYWdlOiAxIC8vIOaUueWPmOeKtuaAgeWQjumhteeggemHjee9ruS4ujFcbiAgICB9KSk7XG5cbiAgfVxuXG4gIC8qKlxuICAgKiDliIbpobXkuovku7bvvIjliLfmlrDpobXpnaLvvIzlubbmoLnmja7or7fmsYLlj4LmlbDph43mlrDnrZvpgInvvIlcbiAgICovXG4gIHBhZ2VDaGFuZ2VkKCkge1xuICAgIHRoaXMuJGxvY2F0aW9uLnNlYXJjaCggdGhpcy5maWx0ZXJzICk7XG5cbiAgfVxuXG4gIC8qKlxuICAgKiDov4fmu6TmjonnqbrlgLzor7fmsYLlj4LmlbDvvIhudWxsLCB1bmRlZmluZWTnrYnvvIlcbiAgICogVE9ETzog5Lulb3B0c+W9ouW8j+aPkOS+mywg5oiW5pS+5YiwYmFzZVNlcnZpY2XkuK1cbiAgICovXG4gIGZpbHRlck51bGxGaWx0ZXIoZmlsdGVycyl7XG5cbiAgICBsZXQgdGVtcEZpbHRlciA9IGFuZ3VsYXIuY29weShmaWx0ZXJzKTtcbiAgICBmb3IobGV0IGkgaW4gdGVtcEZpbHRlcil7XG4gICAgICAgIGlmKCF0ZW1wRmlsdGVyW2ldKXtcbiAgICAgICAgICAgIGRlbGV0ZSB0ZW1wRmlsdGVyW2ldO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHRlbXBGaWx0ZXI7XG4gIH1cblxuICBjbGVhcktleXdvcmRGaWx0ZXIoZGF0YSl7XG5cbiAgICB0aGlzLnRvZ2dsZUZpbHRlcihhbmd1bGFyLmV4dGVuZChkYXRhLCB7XG4gICAgICBzZWFyY2hDb2w6IG51bGwsXG4gICAgICBzZWFyY2hUeXBlOiBudWxsLFxuICAgICAga2V5d29yZDogbnVsbFxuICAgIH0pKTtcblxuICB9XG5cbiAgdG9nZ2xlRmlsdGVyKGZpbHRlcil7XG5cbiAgICB0aGlzLl9zZXRQYXJhbXMoZmlsdGVyLCB0cnVlKTtcblxuICB9XG5cbiAgLyoqXG4gICAqIOiuvue9ruafpeivouWPguaVsOWIsENvbnRyb2xsZXJcbiAgICogICBkYXRhKE9iamVjdCk6IOafpeivouWPguaVsFxuICAgKiAgIGlzQXV0b1JlZnJlc2goQm9vbGVhbik6IOaYr+WQpuiHquWKqOWIt+aWsOmhtemdolxuICAgKi9cbiAgX3NldFBhcmFtcyhkYXRhLCBpc0F1dG9SZWZyZXNoKSB7XG5cbiAgICBmb3IobGV0IGkgaW4gZGF0YSl7XG4gICAgICBpZih0aGlzLmZpbHRlcnNbaV0gPT0gZGF0YVtpXSl7XG4gICAgICAgIHRoaXMuZmlsdGVyc1tpXSA9IHVuZGVmaW5lZDtcbiAgICAgIH1lbHNle1xuICAgICAgICB0aGlzLmZpbHRlcnNbaV0gPSBkYXRhW2ldO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmKGlzQXV0b1JlZnJlc2gpXG4gICAgICB0aGlzLnJlU2VhcmNoKCk7XG5cbiAgfVxuXG4gIC8qKlxuICAgKiDku44kc3RhdGVQYXJhbXPkuK3ojrflj5bmn6Xor6Llj4LmlbBcbiAgICovXG4gIF9nZXRQYXJhbXMob3B0cykge1xuXG4gICAgaWYoIW9wdHMpIHJldHVybjtcblxuICAgIGZvcihsZXQgaSBpbiB0aGlzLmZpbHRlcnMpe1xuICAgICAgaWYodGhpcy4kc3RhdGVQYXJhbXNbaV0pe1xuICAgICAgICB0aGlzLmZpbHRlcnNbaV0gPSBvcHRzLm51bWJlcktleXMuaW5jbHVkZXMoaSkgPyArdGhpcy4kc3RhdGVQYXJhbXNbaV0gOiB0aGlzLiRzdGF0ZVBhcmFtc1tpXTtcbiAgICAgIH1cbiAgICB9XG5cbiAgfVxuXG4gIHJlbW92ZSh0eXBlLCBpZCwgaW5kZXgpe1xuXG4gICAgbGV0IHRoYXQgPSB0aGlzO1xuXG4gICAgdGhpcy5zd2VldC5zaG93KHtcbiAgICAgIHRpdGxlOiAn56Gu6K6k5Yig6Zmk6L+Z5p2h5pWw5o2u5ZCX77yfJyxcbiAgICAgIHNob3dDYW5jZWxCdXR0b246IHRydWUsXG4gICAgICBjb25maXJtQnV0dG9uQ29sb3I6IFwiI0RENkI1NVwiLFxuICAgICAgY29uZmlybUJ1dHRvblRleHQ6IFwi56Gu5a6aXCIsXG4gICAgICBjYW5jZWxCdXR0b25UZXh0OiBcIuWPlua2iFwiLFxuICAgICAgY2xvc2VPbkNvbmZpcm06IHRydWUsXG4gICAgICBpbWFnZVVybDogJy9kaXN0L2ltYWdlcy9jb21tb24vd2FybmluZy5wbmcnXG4gICAgfSwgZnVuY3Rpb24oc3VyZSl7XG4gICAgICBpZihzdXJlKXtcbiAgICAgICAgICAvLyB0aGlzLm9wZXJhdGlvblNlcnZpY2UucmVtb3ZlKHR5cGUsIGlkKS50aGVuKGZ1bmN0aW9uKCByZXMgKXtcbiAgICAgICAgICAvLyAgICAgdG9hc3RyLnN1Y2Nlc3MoJ+aTjeS9nOW3suWujOaIkO+8gScsICfmj5DnpLonKTtcbiAgICAgICAgICAvLyAgICAgdGhhdC5saXN0LnNwbGljZShpbmRleCwxKTtcbiAgICAgICAgICAvLyB9KTtcbiAgICAgIH1lbHNle1xuICAgICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICB9KTtcblxuICB9XG5cbiAgX2Fzc2VydEludm9rZSguLi5mdW5jcykge1xuXG4gICAgbGV0IHN1Y2Nlc3MgPSB0cnVlO1xuICAgIGZ1bmNzLmZvckVhY2goZnVuYyA9PiB7XG4gICAgICBpZighdGhpc1tmdW5jXSkge1xuICAgICAgICBjb25zb2xlLndhcm4oYFRoZXJlIGlzIG5vIGludm9rZSAke2Z1bmN9KCkgaW4gY29udHJvbGxlcmApO1xuICAgICAgICBzdWNjZXNzID0gZmFsc2U7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICB9KTtcbiAgICByZXR1cm4gc3VjY2VzcztcblxuICB9XG5cbn1cbiIsImltcG9ydCBhbmd1bGFyICAgICAgICAgIGZyb20gJ2FuZ3VsYXInO1xuaW1wb3J0IGJhc2VNb2R1bGUgICAgICAgZnJvbSAnLi9iYXNlL2Jhc2UubW9kdWxlJztcbmltcG9ydCBjb21wb25lbnRzTW9kdWxlIGZyb20gJy4vY29tcG9uZW50cy9jb21wb25lbnRzLm1vZHVsZSc7XG5pbXBvcnQgZGlyZWN0aXZlc01vZHVsZSBmcm9tICcuL2RpcmVjdGl2ZXMvZGlyZWN0aXZlcy5tb2R1bGUnO1xuaW1wb3J0IHNlcnZpY2VzTW9kdWxlICAgZnJvbSAnLi9zZXJ2aWNlcy9zZXJ2aWNlcy5tb2R1bGUnO1xuaW1wb3J0IGZpbHRlcnNNb2R1bGUgICAgZnJvbSAnLi9maWx0ZXJzL2ZpbHRlcnMubW9kdWxlJztcbmltcG9ydCBtY1JlZ0V4cCAgICAgICAgIGZyb20gJy4vY29uc3RhbnRzL3JlZ0V4cFJ1bGUnO1xuXG5cbmV4cG9ydCBkZWZhdWx0IGFuZ3VsYXIubW9kdWxlKCdhcHAuY29tbW9uJywgW1xuICBiYXNlTW9kdWxlLm5hbWUsXG4gIGNvbXBvbmVudHNNb2R1bGUubmFtZSxcbiAgc2VydmljZXNNb2R1bGUubmFtZSxcbiAgZGlyZWN0aXZlc01vZHVsZS5uYW1lLFxuICBmaWx0ZXJzTW9kdWxlLm5hbWVcbl0pXG4uY29uc3RhbnQoJ21jUmVnRXhwJywgbWNSZWdFeHApXG4iLCJjbGFzcyBCYWNrVG9wQ29udHJvbGxlciB7XG5cbiAgY29uc3RydWN0b3IoJHNjb3BlLCBlbGVtZW50LCBhdHRycywgJHdpbmRvdykge1xuICAgICduZ0luamVjdCc7XG5cbiAgICBsZXQgJHdpbiA9IGFuZ3VsYXIuZWxlbWVudCgkd2luZG93KSxcbiAgICAgICAgJGVsZSA9IGFuZ3VsYXIuZWxlbWVudChlbGVtZW50KTtcblxuICAgICR3aW4uc2Nyb2xsKGZ1bmN0aW9uKCl7XG4gICAgICAgIGlmICgkd2luLnNjcm9sbFRvcCgpIDw9IDApIHtcbiAgICAgICAgICAgICRlbGUuZmFkZU91dCgpO1xuICAgICAgICB9ZWxzZSB7XG4gICAgICAgICAgICAkZWxlLmZhZGVJbigpO1xuICAgICAgICB9XG4gICAgfSk7XG5cbiAgICAkZWxlLm9uKCdjbGljaycsIGZ1bmN0aW9uKCl7XG4gICAgICAgICQoJ2h0bWwsIGJvZHknKS5hbmltYXRlKHsgc2Nyb2xsVG9wOiAwIH0sICdmYXN0Jyk7XG4gICAgfSk7XG4gIH1cblxufVxuXG5leHBvcnQgY29uc3QgYmFja1RvcCA9IHtcbiAgdGVtcGxhdGVVcmw6ICdjb21tb24vY29tcG9uZW50cy9iYWNrVG9wL2JhY2tUb3AuaHRtbCcsXG4gIGNvbnRyb2xsZXI6IEJhY2tUb3BDb250cm9sbGVyLFxuICBiaW5kaW5nczoge1xuXG4gIH1cbn07XG4iLCJpbXBvcnQgYW5ndWxhciAgIGZyb20gJ2FuZ3VsYXInO1xuaW1wb3J0IHtiYWNrVG9wfSBmcm9tICcuL2JhY2stdG9wL2JhY2stdG9wJztcbmltcG9ydCBpbmxpbmVOYXYgZnJvbSAnLi9pbmxpbmUtbmF2JztcblxuaW1wb3J0IG1jU3RlcCBmcm9tICcuL21jLXN0ZXAnO1xuXG5cbmV4cG9ydCBkZWZhdWx0IGFuZ3VsYXIubW9kdWxlKCdhcHAuY29tbW9uLmNvbXBvbmVudHMnLCBbXSlcbi5jb21wb25lbnQoJ2JhY2tUb3AnLCBiYWNrVG9wKVxuLmNvbXBvbmVudCgnaW5saW5lTmF2JywgaW5saW5lTmF2KVxuLmNvbXBvbmVudCgnbWNTdGVwJywgbWNTdGVwKTtcbjtcbiIsImltcG9ydCBJbmxpbmVOYXZDb250cm9sbGVyIGZyb20gJy4vaW5saW5lLW5hdi5jdHJsJztcblxuXG5jb25zdCBpbmxpbmVOYXYgPSB7XG4gIHRlbXBsYXRlVXJsOiAnY29tbW9uL2NvbXBvbmVudHMvaW5saW5lLW5hdi9pbmxpbmUtbmF2Lmh0bWwnLFxuICBjb250cm9sbGVyOiBJbmxpbmVOYXZDb250cm9sbGVyLFxuICBiaW5kaW5nczoge1xuICAgIG5hdkxpc3Q6ICc8JyxcbiAgICBidG5MaXN0OiAnPCcsXG4gICAgYWxpYXM6ICdAJyxcbiAgICBiYWNrQnRuOiAnPCdcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBpbmxpbmVOYXY7XG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBJbmxpbmVOYXZDb250cm9sbGVyIHtcblxuICBjb25zdHJ1Y3Rvcigkc3RhdGUsICRpbmplY3RvciwgJHJlc29sdmUsICRzY29wZSkge1xuICAgICduZ0luamVjdCc7XG5cblxuICAgIHRoaXMucmVzb2x2ZU9iamVjdCA9ICRzY29wZS4kcGFyZW50LiRyZXNvbHZlO1xuXG4gICAgaWYodGhpcy5hbGlhcyAmJiB0aGlzLnJlc29sdmVPYmplY3RbdGhpcy5hbGlhc10pIHtcbiAgICAgIHRoaXMuZXh0cmFJbmZvID0gdGhpcy5yZXNvbHZlT2JqZWN0W3RoaXMuYWxpYXNdO1xuICAgIH1cbiAgICAvLyB0aGlzLmV4dHJhSW5mbyA9ICRpbmplY3Rvci5nZXQodGhpcy5hbGlhcyk7XG5cbiAgICAvL2NvbnNvbGUubG9nKCRzdGF0ZS5nZXQoKSk7XG4gICAgLy9jb25zb2xlLmxvZyh0aGlzLm5hdkxpc3QpO1xuXG4gICAgaWYodGhpcy5idG5MaXN0KSB0aGlzLmJ0bkxpc3RCYWNrdXAgPSBbLi4udGhpcy5idG5MaXN0XTtcbiAgICBpZih0aGlzLm5hdkxpc3QpIHRoaXMubmF2TGlzdEJhY2t1cCA9IFsuLi50aGlzLm5hdkxpc3RdO1xuXG4gICAgJHNjb3BlLiR3YXRjaCgnJGN0cmwuZXh0cmFJbmZvLl9pbml0VGFnJywgKCk9PntcbiAgICAgIHRoaXMuX2luaXQoKTtcbiAgICB9KTtcblxuICB9XG5cbiAgX2luaXQgKCkge1xuICAgIGlmKHRoaXMubmF2TGlzdEJhY2t1cCkge1xuICAgICAgdGhpcy5uYXZMaXN0ID0gdGhpcy5uYXZMaXN0QmFja3VwLmZpbHRlcihpdGVtID0+IHRoaXMuX2ZpbHRlckhhbmRsZShpdGVtKSk7XG4gICAgfVxuICAgIGlmKHRoaXMuYnRuTGlzdEJhY2t1cCAmJiB0aGlzLmJ0bkxpc3RCYWNrdXAubGVuZ3RoKXtcbiAgICAgIHRoaXMuYnRuTGlzdCA9IHRoaXMuYnRuTGlzdEJhY2t1cC5maWx0ZXIoaXRlbSA9PiB0aGlzLl9maWx0ZXJIYW5kbGUoaXRlbSkpO1xuICAgIH1cbiAgfVxuXG4gIF9maWx0ZXJIYW5kbGUoaXRlbSkge1xuICAgIGlmKGl0ZW0uZXhwZXNzaW9uICl7XG4gICAgICBpZih0aGlzLmV4dHJhSW5mbyAmJiBPYmplY3Qua2V5cyh0aGlzLmV4dHJhSW5mbykubGVuZ3RoID4gMSApe1xuICAgICAgICByZXR1cm4gdGhpcy5oYW5kbGVFeHAodGhpcy5leHRyYUluZm8sIGl0ZW0uZXhwZXNzaW9uKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuXG4gIGhhbmRsZUV4cChvYmosIGV4cCkge1xuXG4gICAgY29uc3QgaGFuZGxlciA9IG5ldyBGdW5jdGlvbignd2l0aCgnK0pTT04uc3RyaW5naWZ5KG9iaikrJyl7cmV0dXJuICcrZXhwKyd9Jyk7XG5cbiAgICByZXR1cm4gaGFuZGxlcigpO1xuICB9XG5cbiAgaGFuZGxlQ2xpY2soaXRlbSwgZSkge1xuICAgIGlmKGl0ZW0uY2xpY2tFeHBlc3Npb24pIHtcbiAgICAgIGlmKHRoaXMuZXh0cmFJbmZvICYmIE9iamVjdC5rZXlzKHRoaXMuZXh0cmFJbmZvKS5sZW5ndGggPiAxICl7XG4gICAgICAgIGlmKHRoaXMuaGFuZGxlRXhwKHRoaXMuZXh0cmFJbmZvLCBpdGVtLmNsaWNrRXhwZXNzaW9uKSl7XG4gICAgICAgICAgaXRlbS5jbGlja0hhbmRsZXIgJiYgaXRlbS5jbGlja0hhbmRsZXIoKTtcblxuICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuXG4gICAgfVxuXG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbn1cbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIG1jU3RlcENvbnRyb2xsZXIge1xuICBjb25zdHJ1Y3Rvcigpe1xuICAgICduZ0luamVjdCc7XG4gIH1cbn1cbiIsImltcG9ydCBtY1N0ZXBDb250cm9sbGVyIGZyb20gJy4vY3RybCc7XG5cbmNvbnN0IG1jU3RlcCA9IHtcbiAgdGVtcGxhdGVVcmw6ICdjb21tb24vY29tcG9uZW50cy9tYy1zdGVwL3RlbXBsYXRlLmh0bWwnLFxuICBjb250cm9sbGVyOiBtY1N0ZXBDb250cm9sbGVyLFxuICBjb250cm9sbGVyQXM6ICd2bScsXG4gIGJpbmRpbmdzOiB7XG4gICAgc3RlcExpc3Q6ICc9JyxcbiAgICBjdXJyZW50U3RlcDogJz0nXG4gIH1cbn07XG5cbmV4cG9ydCBkZWZhdWx0IG1jU3RlcDtcbiIsImV4cG9ydCBjb25zdCBleHByZXNzaW9uID0ge1xuICByZXF1aXJlZDogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICByZXR1cm4gISF2YWx1ZTtcbiAgfSxcbiAgcmVxdWlyZWRJZk5lZWQ6IGZ1bmN0aW9uKHZhbHVlLCBzY29wZSwgZWxlbWVudCwgYXR0cnMsIHBhcmFtKXtcbiAgICAgIHZhciBvYmogPSBzY29wZS4kcGFyZW50O1xuICAgICAgdmFyIGV4cHJlc3Npb24gPSBwYXJhbS5zcGxpdCgnfCcpO1xuICAgICAgLy8gdmFyIGFyciA9IGV4cHJlc3Npb25bMF0uc3BsaXQoJy4nKTtcbiAgICAgIHZhciBib29sLCBkZXRlcm1pbmF0aW9uO1xuXG4gICAgICBpZihleHByZXNzaW9uLmxlbmd0aCAhPSAzIHx8ICFleHByZXNzaW9uWzBdIHx8ICEvXihcXHMrKT9bIT0+PF0rKFxccyspPyQvLnRlc3QoZXhwcmVzc2lvblsxXSkpIHtcbiAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cblxuICAgICAgLy/nroDljJblrp7njrBcbiAgICAgIGRldGVybWluYXRpb24gPSBuZXcgRnVuY3Rpb24oJ3JldHVybiB0aGlzICYmIHRoaXMuJytleHByZXNzaW9uWzBdKS5jYWxsKG9iaik7XG5cbiAgICAgIGJvb2wgPSBuZXcgRnVuY3Rpb24oJ3JldHVybiAnKyBkZXRlcm1pbmF0aW9uICsgZXhwcmVzc2lvblsxXSArIGV4cHJlc3Npb25bMl0pKCk7XG5cbiAgICAgIGlmKGJvb2wpe1xuICAgICAgICAgIHJldHVybiAhIXZhbHVlO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgfSxcbiAgbm90TnVsbDogZnVuY3Rpb24oIHZhbHVlICl7XG4gICAgICBpZiggdmFsdWUgfHwgdmFsdWUgPT09IDAgKXtcbiAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBmYWxzZTtcbiAgfSxcbiAgbm90Qmxhbms6IGZ1bmN0aW9uKHZhbCkge1xuICAgICAgaWYodmFsID09PSAnJykgcmV0dXJuIGZhbHNlO1xuICAgICAgZWxzZSByZXR1cm4gdHJ1ZTtcbiAgfSxcbiAgdXJsOiAvKCgoW0EtWmEtel17Myw5fTooPzpcXC9cXC8pPykoPzpbLTs6Jj1cXCtcXCQsXFx3XStAKT9bQS1aYS16MC05Li1dK3woPzp3d3cufFstOzomPVxcK1xcJCxcXHddK0ApW0EtWmEtejAtOS4tXSspKCg/OlxcL1tcXCt+JVxcLy5cXHctX10qKT9cXD8/KD86Wy1cXCs9JjslQC5cXHdfXSopIz8oPzpbXFx3XSopKT8pLyxcbiAgZW1haWw6IC9eKFtcXHctXFwuXSspQCgoXFxbWzAtOV17MSwzfVxcLlswLTldezEsM31cXC5bMC05XXsxLDN9XFwuKXwoKFtcXHctXStcXC4pKykpKFthLXpBLVpdezIsNH18WzAtOV17MSwzfSkoXFxdPykkLyxcbiAgbnVtYmVyOiBmdW5jdGlvbih2YWwpIHtcbiAgICAgIGlmKHZhbCA9PT0gJycgfHwgL1xccy9nLnRlc3QodmFsKSkgcmV0dXJuIHRydWU7XG4gICAgICByZXR1cm4gL15cXGQrJC8udGVzdCh2YWwpO1xuICB9LFxuICAvLyDmiYvmnLpcbiAgbW9iaWxlOiBmdW5jdGlvbih2YWwpIHtcbiAgICAgIC8vIOmcgOimgeS7pei/meenjeaWueazleWGmSwg5LiN54S25b2T5a6D5Li656m65YC85pe25Lmf5Lya6L+b6KGM6aqM6K+BXG4gICAgICByZXR1cm4gdmFsID8gL14oMTN8MTR8MTV8MTd8MTgpXFxkezl9JC9pLnRlc3QodmFsKSA6IHRydWU7XG4gIH0sXG4gIC8vIOW6p+acuiAoOTk5KTk5OTk5OTk5IOaIliA5OTktOTk5OTk5OTkg5oiWIDk5OTk5OTk5OTk5XG4gIHRlbDogL14oKFxcKFxcZHsyLDN9XFwpKXwoXFxkezN9XFwtKXwoXFxkezN9KSk/KFxcKDBcXGR7MiwzfVxcKXwwXFxkezIsM30tKT9bMS05XVxcZHs2LDd9KFxcLVxcZHsxLDR9KT8kL2ksXG4gIHRlbE9yTW9iaWxlOiBmdW5jdGlvbiAodmFsdWUpIHsgLy8g55u45ZCM5pSv5oyB5omL5py65ZKM5bqn5py6XG4gICAgICByZXR1cm4gZXhwcmVzc2lvbi5tb2JpbGUodmFsdWUpIHx8IGV4cHJlc3Npb24udGVsLnRlc3QodmFsdWUpO1xuICB9LFxuICBub1NwYWNlOiBmdW5jdGlvbih2YWx1ZSwgc2NvcGUsIGVsZW1lbnQpIHtcbiAgICAgIC8vIGFuZ3VsYXItdmFsaWRhdGlvbuWvueaWh+acrOWkq+Wfn+S8oOadpeeahOWAvOS9nOS6hnRyaW3miKrlj5YsIOaJgOS7peaXoOazleebtOaOpeiOt+efpeWAvOeahOmmluWwvuaYr+WMheWQq+epuuagvFxuICAgICAgcmV0dXJuICEvXFx3KlxccytcXHcqL2cudGVzdChlbGVtZW50LnZhbCgpKTtcbiAgfSxcbiAgZmxvYXQ6IC9eWy0rXT9bMC05XSpcXC4/WzAtOV0rJC8sXG4gIG1pbmxlbmd0aDogZnVuY3Rpb24gKHZhbHVlLCBzY29wZSwgZWxlbWVudCwgYXR0cnMsIHBhcmFtKSB7XG4gICAgICByZXR1cm4gdmFsdWUubGVuZ3RoID49IHBhcmFtO1xuICB9LFxuICBtYXhsZW5ndGg6IGZ1bmN0aW9uICh2YWx1ZSwgc2NvcGUsIGVsZW1lbnQsIGF0dHJzLCBwYXJhbSkge1xuICAgICAgcmV0dXJuIHZhbHVlLmxlbmd0aCA8PSBwYXJhbTtcbiAgfSxcbiAgbWluOiBmdW5jdGlvbih2YWx1ZSwgc2NvcGUsIGVsZW1lbnQsIGF0dHJzLCBwYXJhbSl7XG4gICAgICByZXR1cm4gcGFyc2VGbG9hdCh2YWx1ZSkgPj0gcGFyc2VGbG9hdChwYXJhbSk7XG4gIH0sXG4gIG1pbk5vdEVxdWFsOiBmdW5jdGlvbih2YWx1ZSwgc2NvcGUsIGVsZW1lbnQsIGF0dHJzLCBwYXJhbSl7XG4gICAgICByZXR1cm4gcGFyc2VGbG9hdCh2YWx1ZSkgPiBwYXJzZUZsb2F0KHBhcmFtKTtcbiAgfSxcbiAgbWF4OiBmdW5jdGlvbih2YWx1ZSwgc2NvcGUsIGVsZW1lbnQsIGF0dHJzLCBwYXJhbSl7XG4gICAgICByZXR1cm4gcGFyc2VGbG9hdCh2YWx1ZSkgPD0gcGFyc2VGbG9hdChwYXJhbSk7XG4gIH0sXG4gIHJhbmdlOiBmdW5jdGlvbih2YWx1ZSwgc2NvcGUsIGVsZW1lbnQsIGF0dHJzLCBwYXJhbSl7XG4gICAgICAvLyDmraTlpITmnInlnZHvvIzlnKjliKTmlq3lubbliJfmnaHku7bnmoTml7blgJnvvIzkvJrlh7rnjrDor6/liKTvvIzmlYXpg73ovazmiJDmlbDlrZflnKjlr7nmr5RcbiAgICAgIHZhciBhcnIgPSBwYXJhbS5zcGxpdCgnfCcpO1xuICAgICAgdmFsdWUgPSBwYXJzZUZsb2F0KHZhbHVlKTtcbiAgICAgIHJldHVybiB2YWx1ZSA+PSBwYXJzZUZsb2F0KGFyclswXSkgJiYgdmFsdWUgPD0gcGFyc2VGbG9hdChhcnJbMV0pO1xuICB9LFxuICBjZXJ0OiAvXihcXGR7MTV9JHxeXFxkezE4fSR8XlxcZHsxN30oXFxkfFh8eCkpJC8sXG4gIGRpc3BsYXlDb2RlOiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgIGlmICh2YWx1ZSA9PSBcIlwiKSB7XG4gICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgICByZXR1cm4gISEodmFsdWUubGVuZ3RoID09IDQpXG4gIH0sXG4gIGlkZW50aXR5OiBmdW5jdGlvbiAoc3RyKSB7XG5cbiAgICBpZighc3RyKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICAgIHN0ciA9ICQudHJpbShzdHIpLnRvU3RyaW5nKCk7XG5cbiAgICAgIHZhciB0cmFuc2Zvcm1hdElkRnJvbTE1VG8xOCA9IGZ1bmN0aW9uKGlkQ2FyZE5vKSB7XG4gICAgICAgICAgdmFyIHYgPSBuZXcgQXJyYXkoMiwgNCwgOCwgNSwgMTAsIDksIDcsIDMsIDYsIDEsIDIsIDQsIDgsIDUsIDEwLCA5LCA3KTtcbiAgICAgICAgICB2YXIgdnMgPSBcIjEwWDk4NzY1NDMyXCI7XG4gICAgICAgICAgaWYgKGlkQ2FyZE5vID09IG51bGwgfHwgaWRDYXJkTm8ubGVuZ3RoICE9IDE1KSB7XG4gICAgICAgICAgICAgIHJldHVybiBcIlwiO1xuICAgICAgICAgIH1cbiAgICAgICAgICAvLyDlsIYxNeS9jeeahOWPt+eggei9rOaNouS9jTE35L2NXG4gICAgICAgICAgdmFyIGNhcmRJRDE3ID0gaWRDYXJkTm8uc3Vic3RyaW5nKDAsIDYpICsgXCIxOVwiICsgaWRDYXJkTm8uc3Vic3RyaW5nKDYpO1xuICAgICAgICAgIHZhciBOID0gMDtcbiAgICAgICAgICB2YXIgUiA9IC0xO1xuICAgICAgICAgIHZhciBUID0gJzAnOy8vIOWCqOWtmOacgOWQjuS4gOS4quaVsOWtl1xuICAgICAgICAgIHZhciBqID0gMDtcbiAgICAgICAgICB2YXIgY2FyZElEMTggPSBcIlwiO1xuICAgICAgICAgIC8vIOiuoeaVsOWHuuesrDE45L2N5pWw5a2XXG4gICAgICAgICAgZm9yICh2YXIgaSA9IDE2OyBpID49IDA7IGktLSkge1xuICAgICAgICAgICAgICBOICs9IHBhcnNlSW50KGNhcmRJRDE3LnN1YnN0cmluZyhpLCBpICsgMSkpICogdltqXTtcbiAgICAgICAgICAgICAgaisrO1xuICAgICAgICAgIH1cbiAgICAgICAgICBSID0gTiAlIDExO1xuICAgICAgICAgIFQgPSB2cy5jaGFyQXQoUik7XG4gICAgICAgICAgY2FyZElEMTggPSBjYXJkSUQxNyArIFQ7XG4gICAgICAgICAgcmV0dXJuIGNhcmRJRDE4O1xuICAgICAgfTtcblxuICAgICAgaWYoIHN0ci5sZW5ndGggPT0gMTUgKXtcbiAgICAgICAgICBzdHIgPSB0cmFuc2Zvcm1hdElkRnJvbTE1VG8xOCggc3RyICk7XG4gICAgICB9XG5cbiAgICAgIHZhciBpU3VtID0gMCxcbiAgICAgICAgICBzSWQgPSBzdHIsXG4gICAgICAgICAgYUNpdHkgPSB7XG4gICAgICAgICAgICAgIDExOiBcIuWMl+S6rFwiLCAxMjogXCLlpKnmtKVcIiwgMTM6IFwi5rKz5YyXXCIsIDE0OiBcIuWxseilv1wiLCAxNTogXCLlhoXokpnlj6RcIixcbiAgICAgICAgICAgICAgMjE6IFwi6L695a6BXCIsIDIyOiBcIuWQieael1wiLCAyMzogXCLpu5HpvpnmsZ9cIiwgMzE6IFwi5LiK5rW3XCIsIDMyOiBcIuaxn+iLj1wiLFxuICAgICAgICAgICAgICAzMzogXCLmtZnmsZ9cIiwgMzQ6IFwi5a6J5b69XCIsIDM1OiBcIuemj+W7ulwiLCAzNjogXCLmsZ/opb9cIiwgMzc6IFwi5bGx5LicXCIsXG4gICAgICAgICAgICAgIDQxOiBcIuays+WNl1wiLCA0MjogXCLmuZbljJdcIiwgNDM6IFwi5rmW5Y2XXCIsIDQ0OiBcIuW5v+S4nFwiLCA0NTogXCLlub/opb9cIixcbiAgICAgICAgICAgICAgNDY6IFwi5rW35Y2XXCIsIDUwOiBcIumHjeW6hlwiLCA1MTogXCLlm5vlt51cIiwgNTI6IFwi6LS15beeXCIsIDUzOiBcIuS6keWNl1wiLFxuICAgICAgICAgICAgICA1NDogXCLopb/ol49cIiwgNjE6IFwi6ZmV6KW/XCIsIDYyOiBcIueUmOiCg1wiLCA2MzogXCLpnZLmtbdcIiwgNjQ6IFwi5a6B5aSPXCIsXG4gICAgICAgICAgICAgIDY1OiBcIuaWsOeWhlwiLCA3MTogXCLlj7Dmub5cIiwgODE6IFwi6aaZ5rivXCIsIDgyOiBcIua+s+mXqFwiLCA5MTogXCLlm73lpJZcIlxuICAgICAgICAgIH07XG4gICAgICBpZiAoIS9eXFxkezE3fShcXGR8eCkkL2kudGVzdChzSWQpKSB7XG4gICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgICAgc0lkID0gc0lkLnJlcGxhY2UoL3gkL2ksIFwiYVwiKTtcbiAgICAgIC8v6Z2e5rOV5Zyw5Yy6XG4gICAgICBpZiAoYUNpdHlbcGFyc2VJbnQoc0lkLnN1YnN0cigwLCAyKSwgMTApXSA9PSBudWxsKSB7XG4gICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgICAgdmFyIHNCaXJ0aGRheSA9IHNJZC5zdWJzdHIoNiwgNCkgKyBcIi1cIiArIE51bWJlcihzSWQuc3Vic3RyKDEwLCAyKSkgKyBcIi1cIiArIE51bWJlcihzSWQuc3Vic3RyKDEyLCAyKSksXG4gICAgICAgICAgZCA9IG5ldyBEYXRlKHNCaXJ0aGRheS5yZXBsYWNlKC8tL2csIFwiL1wiKSk7XG4gICAgICAvL+mdnuazleeUn+aXpVxuICAgICAgaWYgKHNCaXJ0aGRheSAhPSAoZC5nZXRGdWxsWWVhcigpICsgXCItXCIgKyAoZC5nZXRNb250aCgpICsgMSkgKyBcIi1cIiArIGQuZ2V0RGF0ZSgpKSkge1xuICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICAgIGZvciAodmFyIGkgPSAxNzsgaSA+PSAwOyBpLS0pIHtcbiAgICAgICAgICBpU3VtICs9IChNYXRoLnBvdygyLCBpKSAlIDExKSAqIHBhcnNlSW50KHNJZC5jaGFyQXQoMTcgLSBpKSwgMTEpO1xuICAgICAgfVxuICAgICAgaWYgKGlTdW0gJSAxMSAhPSAxKSB7XG4gICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHRydWU7XG4gIH0sXG4gIHJlbGF0aW9uOiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgIHJldHVybiAhISggKHZhbHVlID09IDApIHx8ICh2YWx1ZSA9PSAxKSB8fCAodmFsdWUgPT0gMikgfHwgKHZhbHVlID09IDMpIClcbiAgfSxcbiAgYWNjb3VudDogL15bYS16fEEtenwwLTl8X10rJC8sXG4gIGNoaW5lc2U6IC9eW1xcdTRFMDAtXFx1OUZBNV0rJC8sXG4gIG5vblVuaWNvZGU6IGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICByZXR1cm4gIS9bXFx1NEUwMC1cXHU5RkE1XXxbXFx1RkUzMC1cXHVGRkEwXS9naS50ZXN0KHZhbHVlKTtcbiAgfSxcbiAgZGlnaXRhbExldHRlcjogZnVuY3Rpb24odmFsKSB7XG4gICAgICBpZih2YWwgPT09ICcnKSByZXR1cm4gdHJ1ZTtcbiAgICAgIHJldHVybiAvXltBLVphLXowLTldKyQvLnRlc3QodmFsKTtcbiAgfSxcbiAgZGVjaW1hbExpbWl0OiBmdW5jdGlvbih2YWx1ZSwgc2NvcGUsIGVsZW1lbnQsIGF0dHJzLCBwYXJhbSkge1xuICAgICAgdmFyIHJlZyA9IGV2YWwoJy9eXFxcXGQrKFxcXFwuXFxcXGR7MSwnKyBwYXJhbSArJ30pPyQvJyk7XG4gICAgICByZXR1cm4gcmVnLnRlc3QodmFsdWUpO1xuICB9LFxuICBhY2NvdW50UHdkOiAvXlxcU3s2LDIwfSQvLFxuICBkaXNjb3VudDogZnVuY3Rpb24odmFsKSB7XG4gICAgaWYodmFsID09IDEwKXtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICByZXR1cm4gL15cXGQoXFwuXFxkKT8kLy50ZXN0KHZhbCk7XG4gIH1cbn07XG5cbmV4cG9ydCBjb25zdCBkZWZhdWx0TXNnID0ge1xuICByZXF1aXJlZDoge1xuICAgICAgZXJyb3I6ICfor6XpobnkuLrlv4XloavpobkhJyxcbiAgICAgIHN1Y2Nlc3M6ICcgJ1xuICB9LFxuICByZXF1aXJlZElmTmVlZDoge1xuICAgICAgZXJyb3I6ICfor6XpobnkuLrlv4XloavpobkhJyxcbiAgICAgIHN1Y2Nlc3M6ICcgJ1xuICB9LFxuICBub3ROdWxsOiB7XG4gICAgICBlcnJvcjogJ+ivpemhueS4uuW/heWhq+mhuSEnLFxuICAgICAgc3VjY2VzczogJyAnXG4gIH0sXG4gIHVybDoge1xuICAgICAgZXJyb3I6ICd1cmzmoLzlvI/kuI3mraPnoa7vvIEnLFxuICAgICAgc3VjY2VzczogJyAnXG4gIH0sXG4gIGVtYWlsOiB7XG4gICAgICBlcnJvcjogJ2VtYWls5qC85byP5LiN5q2j56Gu77yBJyxcbiAgICAgIHN1Y2Nlc3M6ICcgJ1xuICB9LFxuICBudW1iZXI6IHtcbiAgICAgIGVycm9yOiAn5pWw5a2X5qC85byP5LiN5q2j56Gu77yBJyxcbiAgICAgIHN1Y2Nlc3M6ICcgJ1xuICB9LFxuICBmbG9hdDoge1xuICAgICAgZXJyb3I6ICflsI/mlbDmoLzlvI/kuI3mraPnoa7vvIEnLFxuICAgICAgc3VjY2VzczogJyAnXG4gIH0sXG4gIG1pbmxlbmd0aDoge1xuICAgICAgZXJyb3I6ICflhoXlrrnplb/luqbkuI3lpJ/vvIEnLFxuICAgICAgc3VjY2VzczogJyAnXG4gIH0sXG4gIG1heGxlbmd0aDoge1xuICAgICAgZXJyb3I6ICflhoXlrrnplb/luqbov4fplb/vvIEnLFxuICAgICAgc3VjY2VzczogJyAnXG4gIH0sXG4gIG1pbjoge1xuICAgICAgZXJyb3I6ICfmgqjnmoTovpPlhaXlgLzlsI/kuoYnLFxuICAgICAgc3VjY2VzczogJyAnXG4gIH0sXG4gIG1pbk5vdEVxdWFsOiB7XG4gICAgICBlcnJvcjogJ+aCqOeahOi+k+WFpeWAvOWwj+S6hicsXG4gICAgICBzdWNjZXNzOiAnICdcbiAgfSxcbiAgbWF4OiB7XG4gICAgICBlcnJvcjogJ+aCqOeahOi+k+WFpeWAvOWkp+S6hu+8gScsXG4gICAgICBzdWNjZXNzOiAnICdcbiAgfSxcbiAgcmFuZ2U6IHtcbiAgICAgIGVycm9yOiAn6L6T5YWl6IyD5Zu05pyJ6K+v77yBJyxcbiAgICAgIHN1Y2Nlc3M6ICcgJ1xuICB9LFxuICBjZXJ0OiB7XG4gICAgICBlcnJvcjogJ+i6q+S7veivgeagvOW8j+S4jeWvue+8gScsXG4gICAgICBzdWNjZXNzOiAnICdcbiAgfSxcbiAgZGlzcGxheUNvZGU6IHtcbiAgICAgIGVycm9yOiAn5omL546v57yW56CB5Li65Zub5L2NJyxcbiAgICAgIHN1Y2Nlc3M6ICcgJ1xuICB9LFxuICBpZGVudGl0eToge1xuICAgICAgZXJyb3I6ICfouqvku73or4HmoLzlvI/kuI3lr7nvvIEnLFxuICAgICAgc3VjY2VzczogJyAnXG4gIH0sXG4gIHJlbGF0aW9uOiB7XG4gICAgICBlcnJvcjogJ+ivt+mAieaLqeS6suWxnuWFs+ezuycsXG4gICAgICBzdWNjZXNzOiAnICdcbiAgfSxcbiAgbW9iaWxlOiB7XG4gICAgICBlcnJvcjogJ+aJi+acuuagvOW8j+S4jeato+ehricsXG4gICAgICBzdWNjZXNzOiAnICdcbiAgfSxcbiAgdGVsT3JNb2JpbGU6IHtcbiAgICAgIGVycm9yOiAn5omL5py65oiW5bqn5py65Y+356CB5LiN5q2j56GuJyxcbiAgICAgIHN1Y2Nlc3M6ICcgJ1xuICB9LFxuICBub1NwYWNlOiB7XG4gICAgICBlcnJvcjogJ+S4jeiDveWhq+WGmeepuueZveWtl+espicsXG4gICAgICBzdWNjZXNzOiAnICdcbiAgfSxcbiAgYWNjb3VudDoge1xuICAgICAgZXJyb3I6ICfmoLzlvI/lj6rog73ovpPlhaXlrZfmr43mlbDlrZfkuIvliJLnur8nLFxuICAgICAgc3VjY2VzczogJyAnXG4gIH0sXG4gIGNoaW5lc2U6IHtcbiAgICAgIGVycm9yOiAn6K+36L6T5YWl5Lit5paHJyxcbiAgICAgIHN1Y2Nlc3M6ICcgJ1xuICB9LFxuICBub25Vbmljb2RlOiB7XG4gICAgICBlcnJvcjogJ+S4jeiDveWMheWQq+S4reaWh+Wtl+espicsXG4gICAgICBzdWNjZXNzOiAnICdcbiAgfSxcbiAgZGlnaXRhbExldHRlcjoge1xuICAgICAgZXJyb3I6ICflj6rog73mmK/mlbDlrZfmiJblrZfmr40nLFxuICAgICAgc3VjY2VzczogJyAnXG4gIH0sXG4gIG5vdEJsYW5rOiB7XG4gICAgICBlcnJvcjogJ+ivpemhueS4uuW/heWhq+mhuScsXG4gICAgICBzdWNjZXNzOiAnICdcbiAgfSxcbiAgZGVjaW1hbExpbWl0OiB7XG4gICAgICBlcnJvcjogJ+Wwj+aVsOS9jeaVsOi/h+mVv++8gScsXG4gICAgICBzdWNjZXNzOiAnICdcbiAgfSxcbiAgYWNjb3VudFB3ZDoge1xuICAgICAgZXJyb3I6ICflr4bnoIHkuLo2LTIw5L2N5a2X56ymJyxcbiAgICAgIHN1Y2Nlc3M6ICcnXG4gIH0sXG4gIGRpc2NvdW50OiB7XG4gICAgZXJyb3I6ICflsI/mlbDmoLzlvI/kuI3mraPnoa4hJ1xuICB9XG59O1xuIiwiaW1wb3J0IGFuZ3VsYXIgICAgICAgICBmcm9tICdhbmd1bGFyJztcbmltcG9ydCBpbWdMYXp5TG9hZCAgICAgZnJvbSAnLi9pbWdMYXp5TG9hZC5kaXJlY3RpdmUnO1xuaW1wb3J0IGtleUV2ZW50ICAgICAgICBmcm9tICcuL2tleUV2ZW50LmRpcmVjdGl2ZSc7XG4vLyBpbXBvcnQgZWNoYXJ0cyAgICAgICAgIGZyb20gJy4vZWNoYXJ0cyc7XG5pbXBvcnQgZm9ybUVkaXRhYmxlICAgIGZyb20gJy4vZm9ybS1lZGl0YWJsZSc7XG5pbXBvcnQgZmlsdGVyTGlzdCAgICAgIGZyb20gJy4vZmlsdGVyLWxpc3QnO1xuaW1wb3J0IHJlc2l6YWJsZSAgICAgICBmcm9tICcuL3Jlc2l6YWJsZS5kaXJlY3RpdmUnO1xuaW1wb3J0IGVtcHR5VGlwICAgICAgICBmcm9tICcuL2VtcHR5VGlwLmRpcmVjdGl2ZSc7XG5pbXBvcnQgbWNCYXRjaFVwbG9hZFZjIGZyb20gJy4vbWNCYXRjaFVwbG9hZFZjJztcbmltcG9ydCBtY0JhdGNoVXBsb2FkVXNlciBmcm9tICcuL21jQmF0Y2hVcGxvYWRVc2VyJztcbmltcG9ydCBtY0JhdGNoVXBsb2FkQmFuayBmcm9tICcuL21jQmF0Y2hVcGxvYWRCYW5rJztcblxuXG5leHBvcnQgZGVmYXVsdCBhbmd1bGFyLm1vZHVsZSgnYXBwLmNvbW1vbi5kaXJlY3RpdmVzJywgW1xuICAvLyBlY2hhcnRzLm5hbWVcbl0pXG4uZGlyZWN0aXZlKCdpbWdMYXp5TG9hZCcsIGltZ0xhenlMb2FkKVxuLmRpcmVjdGl2ZSgna2V5RXZlbnQnLCBrZXlFdmVudClcbi5kaXJlY3RpdmUoJ2Zvcm1FZGl0YWJsZScsIGZvcm1FZGl0YWJsZSlcbi5kaXJlY3RpdmUoJ2ZpbHRlckxpc3QnLCBmaWx0ZXJMaXN0KVxuLmRpcmVjdGl2ZSgncmVzaXphYmxlJywgcmVzaXphYmxlKVxuLmRpcmVjdGl2ZSgnZW1wdHlUaXAnLCBlbXB0eVRpcClcbi5kaXJlY3RpdmUoJ21jQmF0Y2hVcGxvYWRWYycsIG1jQmF0Y2hVcGxvYWRWYylcbi5kaXJlY3RpdmUoJ21jQmF0Y2hVcGxvYWRVc2VyJywgbWNCYXRjaFVwbG9hZFVzZXIpXG4uZGlyZWN0aXZlKCdtY0JhdGNoVXBsb2FkQmFuaycsIG1jQmF0Y2hVcGxvYWRCYW5rKVxuIiwiLyoqXG4gKiBAZGVzY3JpcHRpb24g5b2T5YiX6KGo5rKh5pyJ5pWw5o2u5pe277yM5pi+56S65o+Q56S6XG4gKi9cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGVtcHR5TGlzdFRpcERpcmVjdGl2ZSgpIHtcbiAgICByZXR1cm4ge1xuICAgICAgICByZXN0cmljdDogJ0VBJyxcbiAgICAgICAgdGVtcGxhdGU6ICc8ZGl2IGNsYXNzPVwicm93IHRleHQtY2VudGVyIHRleHQtbXV0ZWRcIiBzdHlsZT1cInBhZGRpbmc6IDUwcHggMDtcIj57e21lc3NhZ2V9fTwvZGl2PicsXG4gICAgICAgIHJlcGxhY2U6IHRydWUsXG4gICAgICAgIGxpbms6IGZ1bmN0aW9uIChzY29wZSwgZWxlbWVudCwgYXR0cnMpIHtcbiAgICAgICAgICAgIHNjb3BlLm1lc3NhZ2UgPSBhdHRycy5tZXNzYWdlIHx8ICfmmoLml6DmlbDmja4gOi0oICc7XG4gICAgICAgIH1cbiAgICB9O1xufVxuIiwiLyoqXG4gKiDliJfooajpobXpnaLnmoTliIbnsbvov4fmu6RcbiAqL1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gRmlsdGVyTGlzdERpcmVjdGl2ZSgkcGFyc2UpIHtcbiAgJ25nSW5qZWN0JztcblxuICByZXR1cm4ge1xuICAgIHJlc3RyaWN0OiAnRUEnLFxuICAgIHNjb3BlOiB7XG4gICAgICBsaXN0OiAnPScsXG4gICAgICBmaWx0ZXJzOiAnPScsXG4gICAgICB0aXRsZTogJ0AnLFxuICAgICAgY3RybE5hbWU6ICdAJyxcbiAgICAgIGZpbHRlcktleTogJ0AnLFxuICAgICAgaXRlbU5hbWU6ICdAJyxcbiAgICAgIGl0ZW1JZDogJ0AnLFxuICAgICAgY2xheno6ICdAJ1xuICAgIH0sXG4gICAgdGVtcGxhdGVVcmw6ICdjb21tb24vZGlyZWN0aXZlcy9maWx0ZXItbGlzdC9maWx0ZXItbGlzdC5odG1sJyxcbiAgICByZXBsYWNlOiB0cnVlLFxuICAgIGxpbms6IGZ1bmN0aW9uIHBvc3RMaW5rKHNjb3BlLCBlbGVtZW50LCBhdHRycykge1xuXG4gICAgICB2YXIgbGlzdEN0cmwgPSBzY29wZS4kcGFyZW50W3Njb3BlLmN0cmxOYW1lIHx8ICckY3RybCddO1xuXG4gICAgICBzY29wZS5jbGVhcktleXdvcmRGaWx0ZXIgPSAgKHZhbCkgPT4ge1xuICAgICAgICBsZXQgcGFyYW1zID0ge307XG4gICAgICAgIHBhcmFtc1tzY29wZS5maWx0ZXJLZXldID0gdmFsO1xuXG4gICAgICAgIGxpc3RDdHJsLmNsZWFyS2V5d29yZEZpbHRlci5iaW5kKGxpc3RDdHJsLCBwYXJhbXMpKCk7XG4gICAgICB9XG5cbiAgICB9XG4gIH1cbn1cbiIsImV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIEZvcm1FZGl0YWJsZUNvbnRyb2xsZXIgKCkge1xuICAnbmdJbmplY3QnO1xuXG4gIHRoaXMuYmFzZSA9IHtcbiAgICAkc2hvdzogZnVuY3Rpb24oKSB7XG4gICAgICBpZiAodGhpcy4kdmlzaWJsZSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIHRoaXMuJHZpc2libGUgPSB0cnVlO1xuICAgIH0sXG5cbiAgICAkaGlkZTogZnVuY3Rpb24oKSB7XG4gICAgICBpZiAoIXRoaXMuJHZpc2libGUpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgdGhpcy4kdmlzaWJsZSA9IGZhbHNlO1xuXG4gICAgfSxcblxuICAgICRjYW5jZWw6IGZ1bmN0aW9uKCkge1xuICAgICAgaWYgKCF0aGlzLiR2aXNpYmxlKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgLy8gc2VsZiBoaWRlXG4gICAgICB0aGlzLiRoaWRlKCk7XG4gICAgfSxcblxuICAgICRzdWJtaXQ6IGZ1bmN0aW9uKCkge1xuXG4gICAgICB0aGlzLiRvbmFmdGVyc2F2ZSgpO1xuXG4gICAgfVxuXG4gIH07XG5cblxuICByZXR1cm4gYW5ndWxhci5leHRlbmQoe1xuICAgICR2aXNpYmxlOiBmYWxzZSxcbiAgICAkd2FpdGluZzogZmFsc2VcbiAgfSwgdGhpcy5iYXNlKTtcblxufVxuIiwiaW1wb3J0IEZvcm1FZGl0YWJsZUNvbnRyb2xsZXIgZnJvbSAnLi9mb3JtLWVkaXRhYmxlLmN0cmwnO1xuXG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIEZvcm1FZGl0YWJsZSgkcGFyc2UpIHtcbiAgJ25nSW5qZWN0JztcblxuICByZXR1cm4ge1xuICAgIHJlc3RyaWN0OiAnQScsXG4gICAgcmVxdWlyZTogWydmb3JtJywgJ2Zvcm1FZGl0YWJsZSddLFxuICAgIGNvbnRyb2xsZXI6IEZvcm1FZGl0YWJsZUNvbnRyb2xsZXIsXG4gICAgY29tcGlsZTogZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBwcmU6IGZ1bmN0aW9uKHNjb3BlLCBlbGVtLCBhdHRycywgY3RybCkge1xuICAgICAgICAgIHZhciBmb3JtID0gY3RybFswXSxcbiAgICAgICAgICAgIHN1Ym1pdEJ0biA9IGFuZ3VsYXIuZWxlbWVudChlbGVtKS5maW5kKCdbdHlwZT1zdWJtaXRdJyk7XG5cbiAgICAgICAgICBhbmd1bGFyLmV4dGVuZChmb3JtLCBjdHJsWzFdKTtcblxuICAgICAgICAgIC8vY29uc29sZS5sb2coZm9ybSk7XG5cbiAgICAgICAgfSxcblxuICAgICAgICBwb3N0OiBmdW5jdGlvbihzY29wZSwgZWxlbSwgYXR0cnMsIGN0cmwpIHtcbiAgICAgICAgICB2YXIgZUZvcm0gPSBjdHJsWzFdO1xuICAgICAgICAgIC8vY29uc29sZS5sb2coZUZvcm0pXG5cbiAgICAgICAgICAvLyBvbmJlZm9yZXNhdmUsIG9uYWZ0ZXJzYXZlXG4gICAgICAgICAgaWYoIWF0dHJzLm5nU3VibWl0ICYmICFhdHRycy5zdWJtaXQpIHtcblxuICAgICAgICAgICAgaWYoYXR0cnMub25hZnRlcnNhdmUpIHtcbiAgICAgICAgICAgICAgZUZvcm0uJG9uYWZ0ZXJzYXZlID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuICRwYXJzZShhdHRycy5vbmFmdGVyc2F2ZSkoc2NvcGUsIHskZGF0YTogZUZvcm0uJGRhdGF9KTtcbiAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgZWxlbS5iaW5kKCdzdWJtaXQnLCBmdW5jdGlvbihldmVudCkge1xuICAgICAgICAgICAgICBjb25zb2xlLmxvZygnc3VibWl0JylcbiAgICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgICAgc2NvcGUuJGFwcGx5KGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIGVGb3JtLiRzdWJtaXQoKTtcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgIH1cblxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG59XG4iLCIvKipcbiAqIEBkZXNjcmlwdGlvbiDlpoLmnpzljp/lm77liqDovb3lpLHotKXvvIzliJnliqDovb3pu5jorqTlm77niYdcbiAqIEBleGFtcGxlXG4gKiA8aW1nIGltZy1sYXp5LWxvYWQgYXZhdGFyLWlkPVwie3tpdGVtLmF2YXRhcn19XCIgY2xhc3M9XCJhdmF0YXJcIi8+XG4gKi9cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGltZ0xhenlMb2FkKGltZ1ByZUxvYWRTZXJ2aWNlLCAkdGltZW91dCkge1xuICAnbmdJbmplY3QnO1xuXG4gIHJldHVybiB7XG4gICAgcmVzdHJpY3Q6ICdBJyxcbiAgICBzY29wZToge1xuICAgICAgYXZhdGFyOiAnQCcsXG4gICAgICBhdmF0YXJJZDogJ0AnXG4gICAgfSxcbiAgICBsaW5rOiBmdW5jdGlvbihzY29wZSwgZWxlbWVudCwgYXR0cnMpIHtcblxuICAgICAgbGV0IGJhc2VVcmwgPSAnaHR0cDovL3N0YXRpYy5tYWltYWkxMDAuY24vYXZhdGFyLyc7XG5cbiAgICAgIGlmKHNjb3BlLmF2YXRhcikge1xuICAgICAgICBzY29wZS4kd2F0Y2goJ2F2YXRhcicsICh2YWwpID0+IHNldFVybCh2YWwpKTtcbiAgICAgIH1lbHNlIGlmKHNjb3BlLmF2YXRhcklkKSB7XG4gICAgICAgIHNjb3BlLiR3YXRjaCgnYXZhdGFySWQnLCAodmFsKSA9PiBzZXRVcmwoYmFzZVVybCArIHZhbCkpO1xuICAgICAgfWVsc2Uge1xuICAgICAgICBzZXRVcmwoYXR0cnMuZGVmYXVsdCk7XG4gICAgICB9XG5cbiAgICAgIGZ1bmN0aW9uIHNldFVybCh1cmwpIHtcbiAgICAgICAgaWYoIXVybCB8fCB1cmwgPT09IGJhc2VVcmwpIHJldHVybjtcblxuICAgICAgICBpbWdQcmVMb2FkU2VydmljZSh1cmwpLnRoZW4oZnVuY3Rpb24oKXtcbiAgICAgICAgICAkdGltZW91dChmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgJChlbGVtZW50KVxuICAgICAgICAgICAgICAgIC5hdHRyKCdzcmMnLCAnL2Rpc3QvaW1hZ2VzL2NvbW1vbi9ibGFuay5naWYnKVxuICAgICAgICAgICAgICAgIC5jc3Moe1xuICAgICAgICAgICAgICAgICAgICAnYmFja2dyb3VuZC1pbWFnZSc6ICd1cmwoXCInICsgdXJsICsgJ1wiKScsXG4gICAgICAgICAgICAgICAgICAgICdiYWNrZ3JvdW5kLXNpemUnOiAnY292ZXInXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICQoZWxlbWVudCkuZmFkZUluKCk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0sIGZ1bmN0aW9uKGVycil7XG4gICAgICAgICAgJChlbGVtZW50KS5jc3Moe1xuICAgICAgICAgICAgJ2JhY2tncm91bmQtaW1hZ2UnOiAndXJsKFwiaHR0cDovL3N0YXRpYy5tYWltYWkxMDAuY24vYXZhdGFyL21hbi5wbmdcIiknLFxuICAgICAgICAgICAgJ2JhY2tncm91bmQtc2l6ZSc6ICdjb3ZlcidcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICB9XG4gIH07XG59XG4iLCIvKipcbiAqIEBkZXNjcmlwdGlvbiDplK7nm5jkuovku7bnm5HlkKzlkozmiafooYxcbiAqIEBwcm9wZXJ0eSB7TnVtYmVyfSBjb2RlIOaJgOaVsuWHu+eahOafkOS4qumUrueahGtleUNvZGUsIOWmguaenOimgeebkeWQrOWbnui9pumUru+8jOiuvue9ruS4ujEz5Y2z5Y+vXG4gKiBAZXhhbXBsZVxuICogPGlucHV0IG5nLW1vZGVsPVwia2V5d29yZFwiIHR5cGU9XCJ0ZXh0XCIgY29kZT1cIjEzXCIga2V5LWV2ZW50PVwic2VhcmNoQnlLZXl3b3JkKGtleXdvcmQpO1wiPlxuICovXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBrZXlFdmVudCgpIHtcblxuICByZXR1cm4ge1xuICAgIHJlc3RyaWN0OiAnQScsXG4gICAgbGluazogZnVuY3Rpb24oJHNjb3BlLCAkZWxlbWVudCwgJGF0dHJzKSB7XG4gICAgICAkZWxlbWVudC5iaW5kKCdrZXlwcmVzcycsIGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgICAgIGxldCBrZXlDb2RlID0gZXZlbnQud2hpY2ggfHwgZXZlbnQua2V5Q29kZTtcblxuICAgICAgICBpZihrZXlDb2RlID09ICRhdHRycy5jb2RlKSB7XG4gICAgICAgICAgJHNjb3BlLiRhcHBseSgoKSA9PiAkc2NvcGUuJGV2YWwoJGF0dHJzLmtleUV2ZW50LCB7JGV2ZW50OiBldmVudH0pICk7XG5cbiAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG4gIH1cblxufVxuIiwiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gYmF0Y2hVcGxvYWREZXZpY2UoJHVpYk1vZGFsLCAkcGFyc2UsICR0aW1lb3V0KSB7XG4gICduZ0luamVjdCc7XG5cbiAgcmV0dXJuIHtcbiAgICByZXN0cmljdDogJ0VBJyxcbiAgICB0ZW1wbGF0ZTogJzxkaXYgY2xhc3M9XCJoaWRlXCI+PC9kaXY+JyxcbiAgICAvL3JlcGxhY2U6IHRydWUsXG4gICAgbGluazogZnVuY3Rpb24oc2NvcGUsIGVsZW1lbnQsIGF0dHJzKSB7XG5cbiAgICAgIHZhciB1bmJpbmQgPSBzY29wZS4kb24oXCJiYXRjaFVwbG9hZEJhbmtcIiwgZnVuY3Rpb24gKGV2ZW50LCBvcHRpb25zPXt9KSB7XG4gICAgICAgICAgRHJvcHpvbmUuYXV0b0Rpc2NvdmVyID0gZmFsc2U7XG5cbiAgICAgICAgICAkdWliTW9kYWwub3Blbih7XG4gICAgICAgICAgICAgIGFuaW1hdGlvbjogdHJ1ZSxcbiAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICdjb21tb24vZGlyZWN0aXZlcy9tY0JhdGNoVXBsb2FkQmFuay90ZW1wbGF0ZS5odG1sJyxcbiAgICAgICAgICAgICAgY29udHJvbGxlcjogYmF0Y2hVcGxvYWRGaWxlQ3RybCxcbiAgICAgICAgICAgICAgY29udHJvbGxlckFzOiAndm0nLFxuICAgICAgICAgICAgICBzaXplOiBcIlwiLFxuICAgICAgICAgICAgICByZXNvbHZlOiB7XG4gICAgICAgICAgICAgICAgb3B0aW9uczogKCkgPT4gb3B0aW9uc1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgfSkucmVzdWx0LnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgICAgIH0sIGZ1bmN0aW9uICgpIHsgIH0pO1xuICAgICAgfSk7XG4gICAgICBzY29wZS4kb24oJyRkZXN0cm95JywgdW5iaW5kKTtcbiAgICB9XG4gIH07XG59XG5cbmZ1bmN0aW9uIGJhdGNoVXBsb2FkRmlsZUN0cmwoJGxvY2F0aW9uLCAkdWliTW9kYWwsICR1aWJNb2RhbEluc3RhbmNlLCAkcm9vdFNjb3BlLCAkc2NvcGUsICRzdGF0ZSwgJHRpbWVvdXQsIEFwaU1hcCwgdG9hc3RyLCBvcHRpb25zKSB7XG4gICduZ0luamVjdCc7XG5cbiAgICB2YXIgdm0gPSB0aGlzO1xuXG4gICAgbGV0IGlkID0gJycsIHBhcmFtcyA9ICcnO1xuXG4gICAgdm0uZG93bmxvYWRfdXJsID0gQXBpTWFwLmJhbmsuZG93bmxvYWRUZW1wbGF0ZTtcblxuICAgIGxldCB1cmwgPSBBcGlNYXAuYmFuay5pbXBvcnQ7XG5cbiAgICBhbmd1bGFyLmV4dGVuZCh2bSwge1xuICAgICAgICB1cGxvYWRGaWxlOiB1cGxvYWRGaWxlLFxuICAgICAgICAvL3BlbnNpb25BcmVhOiB3aW5kb3cucGFnZUNvbmYuYXJlYUxpc3QsXG4gICAgICAgIC8vcGVuc2lvbkluZm86IHdpbmRvdy5wYWdlQ29uZi5wZW5zaW9uSW5mbyxcbiAgICAgICAgZHJvcHpvbmVDb25maWc6IHtcbiAgICAgICAgICAgIHBhcmFtTmFtZTogb3B0aW9ucy5wYXJhbU5hbWUgfHwgJ2ZpbGUnLFxuICAgICAgICAgICAgaGVhZGVyczoge2V4dHJhOiAkcm9vdFNjb3BlLkFVVEhPUklaQVRJT05fVE9LRU59LFxuICAgICAgICAgICAgdXJsOiB1cmwsXG4gICAgICAgICAgICBtZXRob2Q6ICdwb3N0JyxcbiAgICAgICAgICAgIG1heEZpbGVzaXplOiA1MCxcbiAgICAgICAgICAgIG1heEZpbGVzOiAyLFxuICAgICAgICAgICAgZGljdEZpbGVUb29CaWc6ICfmlofku7blpKflsI/kuI3og73otoXov4c1ME0nLFxuICAgICAgICAgICAgdXBsb2FkTXVsdGlwbGU6IGZhbHNlLFxuICAgICAgICAgICAgYXV0b1Byb2Nlc3NRdWV1ZTogdHJ1ZSxcbiAgICAgICAgICAgIGFjY2VwdGVkRmlsZXM6ICdhcHBsaWNhdGlvbi92bmQubXMtZXhjZWwsIGFwcGxpY2F0aW9uL3ZuZC5vcGVueG1sZm9ybWF0cy1vZmZpY2Vkb2N1bWVudC5zcHJlYWRzaGVldG1sLnNoZWV0JyxcbiAgICAgICAgICAgIGFkZGVkZmlsZTogZnVuY3Rpb24gKGZpbGUpIHtcbiAgICAgICAgICAgICAgICAkKCcjdXBsb2FkX2J1dHRvbicpLmF0dHIoJ2Rpc2FibGVkJywgJ2Rpc2FibGVkJykudGV4dCgn5LiK5Lyg5LitJyk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgc3VjY2VzczogZnVuY3Rpb24gKGZpbGUsIGRhdGEpIHtcbiAgICAgICAgICAgICAgICAkcm9vdFNjb3BlLmltZ1VwbG9hZG5nID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgdGhpcy5yZW1vdmVGaWxlKGZpbGUpO1xuICAgICAgICAgICAgICAgICQoJyN1cGxvYWRfYnV0dG9uJykucmVtb3ZlQXR0cignZGlzYWJsZWQnKS50ZXh0KCfkuIrkvKAnKTtcblxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGRhdGEpO1xuICAgICAgICAgICAgICAgIGlmKGRhdGEuY29kZSA9PSAwKXtcbiAgICAgICAgICAgICAgICAgICAgaWYoZGF0YS5kYXRhLmVycm9ycy5sZW5ndGggPiAwKXtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHRvYXN0ci5lcnJvcihkYXRhLmRhdGEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdm0uZXJyb3JMaXN0ID0gZGF0YS5kYXRhLmVycm9ycztcbiAgICAgICAgICAgICAgICAgICAgICAgIHNob3dFcnJvckxpc3QoZGF0YS5kYXRhKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vICRtb2RhbEluc3RhbmNlLmNsb3NlKCk7XG4gICAgICAgICAgICAgICAgICAgIH1lbHNle1xuICAgICAgICAgICAgICAgICAgICAgICAgdG9hc3RyLnN1Y2Nlc3MoJ+a3u+WKoOaIkOWKnycpO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgaWYoZGF0YS5kYXRhLnN1Y2Nlc3NDb3VudCA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICRzdGF0ZS5yZWxvYWQoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1lbHNle1xuICAgICAgICAgICAgICAgICAgICB0b2FzdHIuZXJyb3IoIGRhdGEuaW5mbyApO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICR1aWJNb2RhbEluc3RhbmNlLmNsb3NlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGVycm9yTGlzdDogbnVsbFxuICAgIH0pO1xuXG4gICAgZnVuY3Rpb24gc2hvd0Vycm9yTGlzdChkYXRhKSB7XG4gICAgICAkdWliTW9kYWwub3Blbih7XG4gICAgICAgICAgYW5pbWF0aW9uOiB0cnVlLFxuICAgICAgICAgIHRlbXBsYXRlVXJsOiAnY29tbW9uL2RpcmVjdGl2ZXMvbWNCYXRjaFVwbG9hZEJhbmsvZXJyb3IuaHRtbCcsXG4gICAgICAgICAgY29udHJvbGxlcjogRXJyb3JMaXN0Q3RybCxcbiAgICAgICAgICBjb250cm9sbGVyQXM6ICd2bScsXG4gICAgICAgICAgc2l6ZTogXCJcIixcbiAgICAgICAgICByZXNvbHZlOiB7XG4gICAgICAgICAgICBpbmZvOiAoKSA9PiBkYXRhXG4gICAgICAgICAgfVxuICAgICAgfSkucmVzdWx0LnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgfSwgZnVuY3Rpb24gKCkgeyAgfSk7XG4gICAgfVxuXG4gICAgLy8g6Kem5Y+R5LiK5LygXG4gICAgZnVuY3Rpb24gdXBsb2FkRmlsZShlKSB7XG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgJHRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAkKGUudGFyZ2V0KS5zaWJsaW5ncygnLmRyb3B6b25lJykudHJpZ2dlcignY2xpY2snKTtcbiAgICAgICAgfSk7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBFcnJvckxpc3RDdHJsKCR1aWJNb2RhbEluc3RhbmNlLCBpbmZvKSB7XG4gICduZ0luamVjdCc7XG5cbiAgbGV0IGVycm9yID0gaW5mby5lcnJvcnM7XG4gIGlmKGVycm9yKSB7XG4gICAgZXJyb3IgPSBlcnJvci5maWx0ZXIoaXRlbSA9PiBpdGVtLmRhdGFbMF0gIT09IG51bGwpO1xuICB9IGVsc2Uge1xuICAgIGVycm9yID0gW107XG4gIH1cblxuICB0aGlzLmVycm9yTGlzdCA9IGVycm9yO1xuICB0aGlzLmNvdW50ID0gaW5mby5zdWNjZXNzQ291bnQ7XG5cbiAgdGhpcy5jYW5jZWwgPSAoKSA9PiB7XG4gICAgJHVpYk1vZGFsSW5zdGFuY2UuY2xvc2UoKTtcbiAgfVxufVxuIiwiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gYmF0Y2hVcGxvYWREZXZpY2UoJHVpYk1vZGFsLCAkcGFyc2UsICR0aW1lb3V0KSB7XG4gICduZ0luamVjdCc7XG5cbiAgcmV0dXJuIHtcbiAgICByZXN0cmljdDogJ0VBJyxcbiAgICB0ZW1wbGF0ZTogJzxkaXYgY2xhc3M9XCJoaWRlXCI+PC9kaXY+JyxcbiAgICAvL3JlcGxhY2U6IHRydWUsXG4gICAgbGluazogZnVuY3Rpb24oc2NvcGUsIGVsZW1lbnQsIGF0dHJzKSB7XG5cbiAgICAgIHZhciB1bmJpbmQgPSBzY29wZS4kb24oXCJiYXRjaFVwbG9hZFVzZXJcIiwgZnVuY3Rpb24gKGV2ZW50LCBvcHRpb25zPXt9KSB7XG4gICAgICAgICAgRHJvcHpvbmUuYXV0b0Rpc2NvdmVyID0gZmFsc2U7XG5cbiAgICAgICAgICAkdWliTW9kYWwub3Blbih7XG4gICAgICAgICAgICAgIGFuaW1hdGlvbjogdHJ1ZSxcbiAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICdjb21tb24vZGlyZWN0aXZlcy9tY0JhdGNoVXBsb2FkVXNlci90ZW1wbGF0ZS5odG1sJyxcbiAgICAgICAgICAgICAgY29udHJvbGxlcjogYmF0Y2hVcGxvYWRGaWxlQ3RybCxcbiAgICAgICAgICAgICAgY29udHJvbGxlckFzOiAndm0nLFxuICAgICAgICAgICAgICBzaXplOiBcIlwiLFxuICAgICAgICAgICAgICByZXNvbHZlOiB7XG4gICAgICAgICAgICAgICAgb3B0aW9uczogKCkgPT4gb3B0aW9uc1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgfSkucmVzdWx0LnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgICAgIH0sIGZ1bmN0aW9uICgpIHsgIH0pO1xuICAgICAgfSk7XG4gICAgICBzY29wZS4kb24oJyRkZXN0cm95JywgdW5iaW5kKTtcbiAgICB9XG4gIH07XG59XG5cbmZ1bmN0aW9uIGJhdGNoVXBsb2FkRmlsZUN0cmwoJGxvY2F0aW9uLCAkdWliTW9kYWwsICR1aWJNb2RhbEluc3RhbmNlLCAkcm9vdFNjb3BlLCAkc2NvcGUsICRzdGF0ZSwgJHRpbWVvdXQsIEFwaU1hcCwgdG9hc3RyLCBvcHRpb25zKSB7XG4gICduZ0luamVjdCc7XG5cbiAgICB2YXIgdm0gPSB0aGlzO1xuXG4gICAgbGV0IGlkID0gJycsIHBhcmFtcyA9ICcnO1xuXG4gICAgdm0uZG93bmxvYWRfdXJsID0gQXBpTWFwLmFjY291bnQuZG93bmxvYWRUZW1wbGF0ZTtcblxuICAgIGxldCB1cmwgPSBBcGlNYXAuYWNjb3VudC5pbXBvcnQ7XG5cbiAgICBhbmd1bGFyLmV4dGVuZCh2bSwge1xuICAgICAgICB1cGxvYWRGaWxlOiB1cGxvYWRGaWxlLFxuICAgICAgICAvL3BlbnNpb25BcmVhOiB3aW5kb3cucGFnZUNvbmYuYXJlYUxpc3QsXG4gICAgICAgIC8vcGVuc2lvbkluZm86IHdpbmRvdy5wYWdlQ29uZi5wZW5zaW9uSW5mbyxcbiAgICAgICAgZHJvcHpvbmVDb25maWc6IHtcbiAgICAgICAgICAgIHBhcmFtTmFtZTogb3B0aW9ucy5wYXJhbU5hbWUgfHwgJ2ZpbGUnLFxuICAgICAgICAgICAgaGVhZGVyczoge2V4dHJhOiAkcm9vdFNjb3BlLkFVVEhPUklaQVRJT05fVE9LRU59LFxuICAgICAgICAgICAgdXJsOiB1cmwsXG4gICAgICAgICAgICBtZXRob2Q6ICdwb3N0JyxcbiAgICAgICAgICAgIG1heEZpbGVzaXplOiA1MCxcbiAgICAgICAgICAgIG1heEZpbGVzOiAyLFxuICAgICAgICAgICAgZGljdEZpbGVUb29CaWc6ICfmlofku7blpKflsI/kuI3og73otoXov4c1ME0nLFxuICAgICAgICAgICAgdXBsb2FkTXVsdGlwbGU6IGZhbHNlLFxuICAgICAgICAgICAgYXV0b1Byb2Nlc3NRdWV1ZTogdHJ1ZSxcbiAgICAgICAgICAgIGFjY2VwdGVkRmlsZXM6ICdhcHBsaWNhdGlvbi92bmQubXMtZXhjZWwsIGFwcGxpY2F0aW9uL3ZuZC5vcGVueG1sZm9ybWF0cy1vZmZpY2Vkb2N1bWVudC5zcHJlYWRzaGVldG1sLnNoZWV0JyxcbiAgICAgICAgICAgIGFkZGVkZmlsZTogZnVuY3Rpb24gKGZpbGUpIHtcbiAgICAgICAgICAgICAgICAkKCcjdXBsb2FkX2J1dHRvbicpLmF0dHIoJ2Rpc2FibGVkJywgJ2Rpc2FibGVkJykudGV4dCgn5LiK5Lyg5LitJyk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgc3VjY2VzczogZnVuY3Rpb24gKGZpbGUsIGRhdGEpIHtcbiAgICAgICAgICAgICAgICAkcm9vdFNjb3BlLmltZ1VwbG9hZG5nID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgdGhpcy5yZW1vdmVGaWxlKGZpbGUpO1xuICAgICAgICAgICAgICAgICQoJyN1cGxvYWRfYnV0dG9uJykucmVtb3ZlQXR0cignZGlzYWJsZWQnKS50ZXh0KCfkuIrkvKAnKTtcblxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGRhdGEpO1xuICAgICAgICAgICAgICAgIGlmKGRhdGEuY29kZSA9PSAwKXtcbiAgICAgICAgICAgICAgICAgICAgaWYoZGF0YS5kYXRhLmVycm9ycy5sZW5ndGggPiAwKXtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHRvYXN0ci5lcnJvcihkYXRhLmRhdGEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdm0uZXJyb3JMaXN0ID0gZGF0YS5kYXRhLmVycm9ycztcbiAgICAgICAgICAgICAgICAgICAgICAgIHNob3dFcnJvckxpc3QoZGF0YS5kYXRhKTtcbiAgICAgICAgICAgICAgICAgICAgfWVsc2V7XG4gICAgICAgICAgICAgICAgICAgICAgICB0b2FzdHIuc3VjY2Vzcygn5re75Yqg5oiQ5YqfJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAkc3RhdGUucmVsb2FkKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9ZWxzZXtcbiAgICAgICAgICAgICAgICAgICAgdG9hc3RyLmVycm9yKCBkYXRhLmluZm8gKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAvLyRtb2RhbEluc3RhbmNlLmNsb3NlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9KTtcblxuICAgIGZ1bmN0aW9uIHNob3dFcnJvckxpc3QoZGF0YSkge1xuICAgICAgJHVpYk1vZGFsLm9wZW4oe1xuICAgICAgICAgIGFuaW1hdGlvbjogdHJ1ZSxcbiAgICAgICAgICB0ZW1wbGF0ZVVybDogJ2NvbW1vbi9kaXJlY3RpdmVzL21jQmF0Y2hVcGxvYWRVc2VyL2Vycm9yLmh0bWwnLFxuICAgICAgICAgIGNvbnRyb2xsZXI6IEVycm9yTGlzdEN0cmwsXG4gICAgICAgICAgY29udHJvbGxlckFzOiAndm0nLFxuICAgICAgICAgIHNpemU6IFwiXCIsXG4gICAgICAgICAgcmVzb2x2ZToge1xuICAgICAgICAgICAgaW5mbzogKCkgPT4gZGF0YVxuICAgICAgICAgIH1cbiAgICAgIH0pLnJlc3VsdC50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgIH0sIGZ1bmN0aW9uICgpIHsgIH0pO1xuICAgIH1cblxuXG4gICAgLy8g6Kem5Y+R5LiK5LygXG4gICAgZnVuY3Rpb24gdXBsb2FkRmlsZShlKSB7XG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgJHRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAkKGUudGFyZ2V0KS5zaWJsaW5ncygnLmRyb3B6b25lJykudHJpZ2dlcignY2xpY2snKTtcbiAgICAgICAgfSk7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBFcnJvckxpc3RDdHJsKCR1aWJNb2RhbEluc3RhbmNlLCBpbmZvKSB7XG4gICduZ0luamVjdCc7XG5cbiAgbGV0IGVycm9yID0gaW5mby5lcnJvcnM7XG4gIGlmKGVycm9yKSB7XG4gICAgZXJyb3IgPSBlcnJvci5maWx0ZXIoaXRlbSA9PiBpdGVtLmRhdGFbMF0gIT09IG51bGwpO1xuICB9IGVsc2Uge1xuICAgIGVycm9yID0gW107XG4gIH1cblxuICB0aGlzLmVycm9yTGlzdCA9IGVycm9yO1xuICB0aGlzLmNvdW50ID0gaW5mby5zdWNjZXNzQ291bnQ7XG5cbiAgdGhpcy5jYW5jZWwgPSAoKSA9PiB7XG4gICAgJHVpYk1vZGFsSW5zdGFuY2UuY2xvc2UoKTtcbiAgfVxufVxuXG4iLCJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBiYXRjaFVwbG9hZERldmljZSgkdWliTW9kYWwsICRwYXJzZSwgJHRpbWVvdXQpIHtcbiAgJ25nSW5qZWN0JztcblxuICByZXR1cm4ge1xuICAgIHJlc3RyaWN0OiAnRUEnLFxuICAgIHRlbXBsYXRlOiAnPGRpdiBjbGFzcz1cImhpZGVcIj48L2Rpdj4nLFxuICAgIC8vcmVwbGFjZTogdHJ1ZSxcbiAgICBsaW5rOiBmdW5jdGlvbihzY29wZSwgZWxlbWVudCwgYXR0cnMpIHtcblxuICAgICAgdmFyIHVuYmluZCA9IHNjb3BlLiRvbihcImJhdGNoVXBsb2FkVmNcIiwgZnVuY3Rpb24gKGV2ZW50LCBvcHRpb25zPXt9KSB7XG4gICAgICAgICAgRHJvcHpvbmUuYXV0b0Rpc2NvdmVyID0gZmFsc2U7XG5cbiAgICAgICAgICAkdWliTW9kYWwub3Blbih7XG4gICAgICAgICAgICAgIGFuaW1hdGlvbjogdHJ1ZSxcbiAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICdjb21tb24vZGlyZWN0aXZlcy9tY0JhdGNoVXBsb2FkVmMvdGVtcGxhdGUuaHRtbCcsXG4gICAgICAgICAgICAgIGNvbnRyb2xsZXI6IGJhdGNoVXBsb2FkRmlsZUN0cmwsXG4gICAgICAgICAgICAgIGNvbnRyb2xsZXJBczogJ3ZtJyxcbiAgICAgICAgICAgICAgc2l6ZTogXCJcIixcbiAgICAgICAgICAgICAgcmVzb2x2ZToge1xuICAgICAgICAgICAgICAgIG9wdGlvbnM6ICgpID0+IG9wdGlvbnNcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgIH0pLnJlc3VsdC50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICB9LCBmdW5jdGlvbiAoKSB7ICB9KTtcbiAgICAgIH0pO1xuICAgICAgc2NvcGUuJG9uKCckZGVzdHJveScsIHVuYmluZCk7XG4gICAgfVxuICB9O1xufVxuXG5mdW5jdGlvbiBiYXRjaFVwbG9hZEZpbGVDdHJsKCRsb2NhdGlvbiwgJHVpYk1vZGFsLCAkdWliTW9kYWxJbnN0YW5jZSwgJHJvb3RTY29wZSwgJHNjb3BlLCAkc3RhdGUsICR0aW1lb3V0LCBBcGlNYXAsIHRvYXN0ciwgb3B0aW9ucykge1xuICAnbmdJbmplY3QnO1xuXG4gICAgdmFyIHZtID0gdGhpcztcblxuICAgIGxldCBpZCA9ICcnLCBwYXJhbXMgPSAnJztcblxuICAgIHZtLmRvd25sb2FkX3VybCA9IEFwaU1hcC5pbnZlc3RtZW50LmRvd25sb2FkVGVtcGxhdGU7XG5cbiAgICBsZXQgdXJsID0gQXBpTWFwLmludmVzdG1lbnQuaW1wb3J0O1xuXG4gICAgYW5ndWxhci5leHRlbmQodm0sIHtcbiAgICAgICAgdXBsb2FkRmlsZTogdXBsb2FkRmlsZSxcbiAgICAgICAgLy9wZW5zaW9uQXJlYTogd2luZG93LnBhZ2VDb25mLmFyZWFMaXN0LFxuICAgICAgICAvL3BlbnNpb25JbmZvOiB3aW5kb3cucGFnZUNvbmYucGVuc2lvbkluZm8sXG4gICAgICAgIGRyb3B6b25lQ29uZmlnOiB7XG4gICAgICAgICAgICBwYXJhbU5hbWU6IG9wdGlvbnMucGFyYW1OYW1lIHx8ICdmaWxlJyxcbiAgICAgICAgICAgIGhlYWRlcnM6IHtleHRyYTogJHJvb3RTY29wZS5BVVRIT1JJWkFUSU9OX1RPS0VOfSxcbiAgICAgICAgICAgIHVybDogdXJsLFxuICAgICAgICAgICAgbWV0aG9kOiAncG9zdCcsXG4gICAgICAgICAgICBtYXhGaWxlc2l6ZTogNTAsXG4gICAgICAgICAgICBtYXhGaWxlczogMixcbiAgICAgICAgICAgIGRpY3RGaWxlVG9vQmlnOiAn5paH5Lu25aSn5bCP5LiN6IO96LaF6L+HNTBNJyxcbiAgICAgICAgICAgIHVwbG9hZE11bHRpcGxlOiBmYWxzZSxcbiAgICAgICAgICAgIGF1dG9Qcm9jZXNzUXVldWU6IHRydWUsXG4gICAgICAgICAgICBhY2NlcHRlZEZpbGVzOiAnYXBwbGljYXRpb24vdm5kLm1zLWV4Y2VsLCBhcHBsaWNhdGlvbi92bmQub3BlbnhtbGZvcm1hdHMtb2ZmaWNlZG9jdW1lbnQuc3ByZWFkc2hlZXRtbC5zaGVldCcsXG4gICAgICAgICAgICBhZGRlZGZpbGU6IGZ1bmN0aW9uIChmaWxlKSB7XG4gICAgICAgICAgICAgICAgJCgnI3VwbG9hZF9idXR0b24nKS5hdHRyKCdkaXNhYmxlZCcsICdkaXNhYmxlZCcpLnRleHQoJ+S4iuS8oOS4rScpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uIChmaWxlLCBkYXRhKSB7XG4gICAgICAgICAgICAgICAgJHJvb3RTY29wZS5pbWdVcGxvYWRuZyA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIHRoaXMucmVtb3ZlRmlsZShmaWxlKTtcbiAgICAgICAgICAgICAgICAkKCcjdXBsb2FkX2J1dHRvbicpLnJlbW92ZUF0dHIoJ2Rpc2FibGVkJykudGV4dCgn5LiK5LygJyk7XG5cbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhkYXRhKTtcbiAgICAgICAgICAgICAgICBpZihkYXRhLmNvZGUgPT0gMCl7XG4gICAgICAgICAgICAgICAgICAgIGlmKGRhdGEuZGF0YS5lcnJvcnMubGVuZ3RoID4gMCl7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyB0b2FzdHIuZXJyb3IoZGF0YS5kYXRhKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZtLmVycm9yTGlzdCA9IGRhdGEuZGF0YS5lcnJvcnM7XG4gICAgICAgICAgICAgICAgICAgICAgICBzaG93RXJyb3JMaXN0KGRhdGEuZGF0YSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyAkbW9kYWxJbnN0YW5jZS5jbG9zZSgpO1xuICAgICAgICAgICAgICAgICAgICB9ZWxzZXtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRvYXN0ci5zdWNjZXNzKCfmt7vliqDmiJDlip8nKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIGlmKGRhdGEuZGF0YS5zdWNjZXNzQ291bnQgPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAkc3RhdGUucmVsb2FkKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9ZWxzZXtcbiAgICAgICAgICAgICAgICAgICAgdG9hc3RyLmVycm9yKCBkYXRhLmluZm8gKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAkdWliTW9kYWxJbnN0YW5jZS5jbG9zZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBlcnJvckxpc3Q6IG51bGxcbiAgICB9KTtcblxuICAgIGZ1bmN0aW9uIHNob3dFcnJvckxpc3QoZGF0YSkge1xuICAgICAgJHVpYk1vZGFsLm9wZW4oe1xuICAgICAgICAgIGFuaW1hdGlvbjogdHJ1ZSxcbiAgICAgICAgICB0ZW1wbGF0ZVVybDogJ2NvbW1vbi9kaXJlY3RpdmVzL21jQmF0Y2hVcGxvYWRWYy9lcnJvci5odG1sJyxcbiAgICAgICAgICBjb250cm9sbGVyOiBFcnJvckxpc3RDdHJsLFxuICAgICAgICAgIGNvbnRyb2xsZXJBczogJ3ZtJyxcbiAgICAgICAgICBzaXplOiBcIlwiLFxuICAgICAgICAgIHJlc29sdmU6IHtcbiAgICAgICAgICAgIGluZm86ICgpID0+IGRhdGFcbiAgICAgICAgICB9XG4gICAgICB9KS5yZXN1bHQudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICB9LCBmdW5jdGlvbiAoKSB7ICB9KTtcbiAgICB9XG5cbiAgICAvLyDop6blj5HkuIrkvKBcbiAgICBmdW5jdGlvbiB1cGxvYWRGaWxlKGUpIHtcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAkdGltZW91dChmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICQoZS50YXJnZXQpLnNpYmxpbmdzKCcuZHJvcHpvbmUnKS50cmlnZ2VyKCdjbGljaycpO1xuICAgICAgICB9KTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIEVycm9yTGlzdEN0cmwoJHVpYk1vZGFsSW5zdGFuY2UsIGluZm8pIHtcbiAgJ25nSW5qZWN0JztcblxuICBsZXQgZXJyb3IgPSBpbmZvLmVycm9ycztcbiAgaWYoZXJyb3IpIHtcbiAgICBlcnJvciA9IGVycm9yLmZpbHRlcihpdGVtID0+IGl0ZW0uZGF0YVswXSAhPT0gbnVsbCk7XG4gIH0gZWxzZSB7XG4gICAgZXJyb3IgPSBbXTtcbiAgfVxuXG4gIHRoaXMuZXJyb3JMaXN0ID0gZXJyb3I7XG4gIHRoaXMuY291bnQgPSBpbmZvLnN1Y2Nlc3NDb3VudDtcblxuICB0aGlzLmNhbmNlbCA9ICgpID0+IHtcbiAgICAkdWliTW9kYWxJbnN0YW5jZS5jbG9zZSgpO1xuICB9XG59XG4iLCIvKipcbiAqIOiuqeaMh+WumuWFg+e0oOiHqumAguW6lFxuICog5Y+C5pWwOlxuICogIHN1YldpZHRoOlxuICogIHBhcmVudDog77yI5Y+v6YCJ77yJ5piv5ZCm5ZCR5LiK5p+l5om+dGFyZ2V05oyH5a6a55qE5YWD57Sg44CC5L6d6LWWdGFyZ2V05bGe5oCn44CCXG4gKiAgdGFyZ2V0OiDvvIjlj6/pgInvvInopoHmn6Xmib7nmoToh6rpgILlupTnmoTnm67moIflhYPntKDpgInmi6nlmajjgILoi6XmsqHmnInmjIflrpp0YXJnZXTvvIzliJnku6XmjIfku6TlvZPliY3lhYPntKDkuLp0YXJnZXTjgIJcbiAqXG4gKiDnpLrkvos6XG4gKiAgIDxkaXYgY2xhc3M9XCJtb2RhbC1ib2R5XCIgcmVzaXphYmxlPVwie3N1YldpZHRoOiAxMzUsIHBhcmVudDogdHJ1ZSwgdGFyZ2V0OiAnLm1vZGFsLWRpYWxvZyd9XCI+IC4uLiA8ZGl2PlxuICovXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiByZXNpemFibGUoJHdpbmRvdywgJHBhcnNlKSB7XG4gICduZ0luamVjdCc7XG5cbiAgcmV0dXJuIHtcbiAgICByZXN0cmljdDogJ0EnLFxuICAgIHNjb3BlOiB7fSxcbiAgICBsaW5rOiBmdW5jdGlvbihzY29wZSwgZWxlbWVudCwgYXR0cnMpIHtcblxuICAgICAgbGV0IG9wdHMgPSAkcGFyc2UoYXR0cnMucmVzaXphYmxlKShzY29wZSk7XG4gICAgICBsZXQgd2luV2lkdGggPSAkd2luZG93LmlubmVyV2lkdGg7XG5cbiAgICAgIGxldCAkdGFyZ2V0ID0gb3B0cy50YXJnZXQgP1xuICAgICAgICBhbmd1bGFyLmVsZW1lbnQoZWxlbWVudClbb3B0cy5wYXJlbnQgPyAncGFyZW50cycgOiAnZmluZCddKG9wdHMudGFyZ2V0KSA6XG4gICAgICAgIGFuZ3VsYXIuZWxlbWVudChlbGVtZW50KTtcblxuICAgICAgZnVuY3Rpb24gb25SZXNpemUoaXNGaXJzdCkge1xuICAgICAgICB3aW5XaWR0aCA9ICR3aW5kb3cuaW5uZXJXaWR0aDtcbiAgICAgICAgJHRhcmdldC5jc3MoJ3dpZHRoJywgd2luV2lkdGggLSBnZXRTY3JvbGxiYXJXaWR0aCgpIC0gb3B0cy5zdWJXaWR0aCk7XG5cbiAgICAgICAgaWYoIWlzRmlyc3QpIHNjb3BlLiRkaWdlc3QoKTtcbiAgICAgIH1cblxuICAgICAgb25SZXNpemUodHJ1ZSk7IC8vIHJlc2l6ZSBvbiBmaXJzdFxuXG4gICAgICBhbmd1bGFyLmVsZW1lbnQoJHdpbmRvdykub24oJ3Jlc2l6ZScsIG9uUmVzaXplKTtcblxuICAgICAgc2NvcGUuJG9uKCckZGVzdHJveScsICgpID0+IHtcbiAgICAgICAgYW5ndWxhci5lbGVtZW50KCR3aW5kb3cpLm9mZigncmVzaXplJywgb25SZXNpemUpO1xuICAgICAgfSk7XG5cbiAgICB9XG4gIH1cblxufVxuXG5mdW5jdGlvbiBnZXRTY3JvbGxiYXJXaWR0aCgpIHtcbiAgLy8gQ3JlYXRlIHRoZSBtZWFzdXJlbWVudCBub2RlXG4gIHZhciBzY3JvbGxEaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICBzY3JvbGxEaXYuc3R5bGUub3ZlcmZsb3cgPSAnc2Nyb2xsJztcbiAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChzY3JvbGxEaXYpO1xuXG4gIC8vIEdldCB0aGUgc2Nyb2xsYmFyIHdpZHRoXG4gIHZhciBzY3JvbGxiYXJXaWR0aCA9IHNjcm9sbERpdi5vZmZzZXRXaWR0aCAtIHNjcm9sbERpdi5jbGllbnRXaWR0aDtcblxuICAvLyBEZWxldGUgdGhlIERJVlxuICBkb2N1bWVudC5ib2R5LnJlbW92ZUNoaWxkKHNjcm9sbERpdik7XG5cbiAgcmV0dXJuIHNjcm9sbGJhcldpZHRoO1xufVxuIiwiXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBhZGRyZXNzRm9ybWF0KCkge1xuXG4gICAgcmV0dXJuIGZ1bmN0aW9uKHN0cil7XG4gICAgICAgIGxldCByZWd4ID0gLy1cXGQrXFw7LztcbiAgICAgICAgcmV0dXJuIHN0ci5zcGxpdChyZWd4KS5qb2luKCcnKTtcbiAgICB9XG4gICAgXG59IiwiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gZGF5VGltZSgpIHtcblxuICAgIHJldHVybiBmdW5jdGlvbih0aW1lKXtcblxuICAgIFx0bGV0IGggPSBNYXRoLmZsb29yKHRpbWUgLyAzNjAwMCk7XG4gICAgXHRsZXQgbSA9IHRpbWUgJSAzNjAwIC8gNjA7XG4gICAgXHRoID0gaCA+IDkgPyBoIDogJzAnICsgaDtcbiAgICBcdG0gPSBtID4gOSA/IG0gOiAnMCcgKyBtO1xuXG4gICAgICAgIHJldHVybiBoICsgJzonICsgbTtcbiAgICB9XG4gICAgXG59IiwiXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBkaXNlYXNlSGlzdG9yeSgpIHtcblxuICAgIHJldHVybiBmdW5jdGlvbihhcnIpe1xuXG4gICAgICAgIHZhciBkaXNlYXNlX2hpc3RvcnkgPSBcIlwiO1xuXG4gICAgICAgIGZvcihsZXQgaXRlbSBvZiBhcnIpIHtcbiAgICAgICAgICAgIGRpc2Vhc2VfaGlzdG9yeSArPSBpdGVtLm5hbWUgKyAnICAnO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGRpc2Vhc2VfaGlzdG9yeTtcbiAgICB9XG4gICAgXG59IiwiaW1wb3J0IGFuZ3VsYXIgICAgICAgICBmcm9tICdhbmd1bGFyJztcbmltcG9ydCBvcmRlclNvdXJjZSAgICAgZnJvbSAnLi9vcmRlclNvdXJjZSc7XG5pbXBvcnQgb2xkVHlwZSAgICAgZnJvbSAnLi9vbGRUeXBlJztcbmltcG9ydCBzZXJ2aWNlVHlwZSAgICAgZnJvbSAnLi9zZXJ2aWNlVHlwZSc7XG5pbXBvcnQgcGF5V2F5ICAgICBmcm9tICcuL3BheVdheSc7XG5pbXBvcnQgc2VydmljZVdheSAgICAgZnJvbSAnLi9zZXJ2aWNlV2F5JztcbmltcG9ydCBkaXNlYXNlSGlzdG9yeSAgICAgZnJvbSAnLi9kaXNlYXNlSGlzdG9yeSc7XG5pbXBvcnQgb3JkZXJTdGF0dXMgICAgIGZyb20gJy4vb3JkZXJTdGF0dXMnO1xuaW1wb3J0IGRheVRpbWUgXHRcdGZyb20gJy4vZGF5VGltZSc7XG5pbXBvcnQgbW9kZUlkIGZyb20gJy4vbW9kZUlkJztcbmltcG9ydCBhZGRyZXNzRm9ybWF0IGZyb20gJy4vYWRkcmVzc0Zvcm1hdCc7XG5pbXBvcnQgdGltZUZvcm1hdCBmcm9tICcuL3RpbWVGb3JtYXQnO1xuaW1wb3J0IGZpeCBmcm9tICcuL2ZpeCc7XG5cbmV4cG9ydCBkZWZhdWx0IGFuZ3VsYXIubW9kdWxlKCdhcHAuY29tbW9uLmZpbHRlcnMnLCBbXSlcbi5maWx0ZXIoJ29yZGVyU291cmNlJywgb3JkZXJTb3VyY2UpXG4uZmlsdGVyKCdvbGRUeXBlJywgb2xkVHlwZSlcbi5maWx0ZXIoJ3NlcnZpY2VUeXBlJywgc2VydmljZVR5cGUpXG4uZmlsdGVyKCdwYXlXYXknLCBwYXlXYXkpXG4uZmlsdGVyKCdzZXJ2aWNlV2F5Jywgc2VydmljZVdheSlcbi5maWx0ZXIoJ2Rpc2Vhc2VIaXN0b3J5JywgZGlzZWFzZUhpc3RvcnkpXG4uZmlsdGVyKCdvcmRlclN0YXR1cycsIG9yZGVyU3RhdHVzKVxuLmZpbHRlcignZGF5VGltZScsIGRheVRpbWUpXG4uZmlsdGVyKCdtb2RlSWQnLCBtb2RlSWQpXG4uZmlsdGVyKCdhZGRyZXNzRm9ybWF0JywgYWRkcmVzc0Zvcm1hdClcbi5maWx0ZXIoJ3RpbWVGb3JtYXQnLCB0aW1lRm9ybWF0KVxuLmZpbHRlcignZml4JywgZml4KVxuIiwiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gZml4KCkge1xuXG4gICAgcmV0dXJuIGZ1bmN0aW9uKHZhbHVlLCBudW0pe1xuXG4gICAgXHQhbnVtICYmIChudW0gPSAyKTtcbiAgICBcdHJldHVybiB0eXBlb2YgdmFsdWUgPT0gJ251bWJlcicgPyB2YWx1ZS50b0ZpeGVkKG51bSkgOiAnJztcbiAgICB9XG4gICAgXG59IiwiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gbW9kZUlkKCkge1xuXG5cdGxldCBtb2RlTGlzdCA9IHBhZ2VDb25mLm1vZGVMaXN0O1xuXG5cbiAgcmV0dXJuIGZ1bmN0aW9uKG1vZGVfaWQpe1xuICBcdGxldCBtb2RlID0gbW9kZUxpc3QuZmlsdGVyKGl0ZW0gPT4gaXRlbS5tb2RlX2lkID09IG1vZGVfaWQpO1xuICBcdHJldHVybiBtb2RlLmxlbmd0aCA/IG1vZGVbMF0ubmFtZSA6IG1vZGVfaWQ7XG4gIH1cblxufVxuIiwiXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBvbGRUeXBlKCkge1xuICByZXR1cm4gZnVuY3Rpb24odHlwZSl7XG4gICAgdmFyIG9sZF90eXBlX25hbWUgPSBcIlwiO1xuICAgIHN3aXRjaCh0eXBlKSB7XG4gICAgICBjYXNlIDI6XG4gICAgICAgIG9sZF90eXBlX25hbWUgPSAn5r2c5Zyo5Lya5ZGYJztcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIDM6XG4gICAgICAgIG9sZF90eXBlX25hbWUgPSAn5YWo5omY5Lya5ZGYJztcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIDQ6XG4gICAgICAgIG9sZF90eXBlX25hbWUgPSAn5pel5omY5Lya5ZGYJztcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIDU6XG4gICAgICAgIG9sZF90eXBlX25hbWUgPSAn5pmu6YCa5Lya5ZGYJztcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIGNvbnNvbGUud2FybignaW52YWxpZCBvbGRfdHlwZScpO1xuICAgIH1cbiAgICByZXR1cm4gb2xkX3R5cGVfbmFtZTtcbiAgfVxufVxuIiwiXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBvcmRlclNvdXJjZSgpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24oc291cmNlKXtcbiAgICAgICAgdmFyIG9yZGVyX3NvdXJjZV9uYW1lID0gXCJcIjtcbiAgICAgICAgc3dpdGNoKHNvdXJjZSkge1xuICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgIG9yZGVyX3NvdXJjZV9uYW1lID0gJ+WQjuWPsCc7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgICAgb3JkZXJfc291cmNlX25hbWUgPSAncGFk56uvJztcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgMzpcbiAgICAgICAgICAgICAgICBvcmRlcl9zb3VyY2VfbmFtZSA9ICflrZDlpbPnq68nO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICBvcmRlcl9zb3VyY2VfbmFtZSA9ICfplb/ogIXnq68nO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBvcmRlcl9zb3VyY2VfbmFtZTtcbiAgICB9XG59IiwiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gb3JkZXJTdGF0dXMoKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uKHN0YXR1cyl7XG4gICAgICAgIHZhciBzdGF0dXNfbmFtZSA9IFwiXCI7XG4gICAgICAgIHN3aXRjaChzdGF0dXMpIHtcbiAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgICBzdGF0dXNfbmFtZSA9ICflt7LpooTnuqYnO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAxMDpcbiAgICAgICAgICAgICAgICBzdGF0dXNfbmFtZSA9ICflt7Lnoa7orqQnO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSA1MDpcbiAgICAgICAgICAgICAgICBzdGF0dXNfbmFtZSA9ICflt7LlrozmiJAnO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSA5OTpcbiAgICAgICAgICAgICAgICBzdGF0dXNfbmFtZSA9ICflt7Lku5jmrL4nO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICBzdGF0dXNfbmFtZSA9ICflt7Llj5bmtognO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBzdGF0dXNfbmFtZTtcbiAgICB9XG59IiwiXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBwYXlXYXkoKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uKHdheSl7XG4gICAgICAgIHZhciBwYXlfd2F5X25hbWUgPSBcIlwiO1xuICAgICAgICBzd2l0Y2god2F5KSB7XG4gICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgcGF5X3dheV9uYW1lID0gJ+eOsOmHkSc7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgICAgcGF5X3dheV9uYW1lID0gJ+WIt+WNoSc7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgICAgcGF5X3dheV9uYW1lID0gJ+aXoCc7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIHBheV93YXlfbmFtZSA9ICfpg6jliIbnjrDph5EnO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBwYXlfd2F5X25hbWU7XG4gICAgfVxufSIsIlxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gc2VydmljZVR5cGUoKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uKHR5cGUpe1xuICAgICAgICB2YXIgc2VydmljZV90eXBlX25hbWUgPSBcIlwiO1xuICAgICAgICBzd2l0Y2godHlwZSkge1xuICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgIHNlcnZpY2VfdHlwZV9uYW1lID0gJ+S4iumXqCc7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgICAgc2VydmljZV90eXBlX25hbWUgPSAn5Yiw5bqXJztcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgMzpcbiAgICAgICAgICAgICAgICBzZXJ2aWNlX3R5cGVfbmFtZSA9ICfkuIrpl6jvvIzliLDlupcnO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICBzZXJ2aWNlX3R5cGVfbmFtZSA9ICflhbblroMnO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBzZXJ2aWNlX3R5cGVfbmFtZTtcbiAgICB9XG59IiwiXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBzZXJ2aWNlV2F5KCkge1xuICAgIHJldHVybiBmdW5jdGlvbih3YXkpe1xuICAgICAgICB2YXIgd2F5X25hbWUgPSBcIlwiO1xuICAgICAgICBzd2l0Y2god2F5KSB7XG4gICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgd2F5X25hbWUgPSAn5LiK6ZeoJztcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgICB3YXlfbmFtZSA9ICfliLDlupcnO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICB3YXlfbmFtZSA9ICflhbblroMnO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB3YXlfbmFtZTtcbiAgICB9XG59IiwiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gdGllbUZvcm1hdCgpIHtcblxuICAgIHJldHVybiBmdW5jdGlvbih0aW1lKXtcblxuICAgIFx0cmV0dXJuIG1vbWVudCh0aW1lKS5mb3JtYXQoJ1lZWVktTU0tREQgSEg6bW06c3MnKTtcbiAgICB9XG4gICAgXG59IiwiJ3VzZSBzdHJpY3QnO1xuXG5jb25zdCBjX3BhY2thZ2UgPSB7fTtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQWNjZXNzQ29udHJvbFNlcnZpY2Uge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICduZ0luamVjdCc7XG5cbiAgICB9XG5cbiAgICBnZXRDb25kKCl7XG4gICAgICAgIHJldHVybiBjX3BhY2thZ2U7XG4gICAgfVxufVxuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgU2VydmljZSB7XG4gIGNvbnN0cnVjdG9yKCRodHRwLCBodHRwSGVscGVyLCAkcm9vdFNjb3BlLCAkc3RhdGUsIEFwaU1hcCkge1xuICAgICduZ0luamVjdCc7XG5cbiAgICB0aGlzLl9odHRwID0gJGh0dHA7XG4gICAgLy8gdGhpcy4kcSA9ICRxO1xuICAgIHRoaXMuX2h0dHBIZWxwZXIgPSBodHRwSGVscGVyO1xuXG4gICAgdGhpcy5fYXBpID0gQXBpTWFwLmNvbmZpZztcbiAgICB0aGlzLl9hcGlNYXAgPSBBcGlNYXA7XG5cbiAgICB0aGlzLl9yb290U2NvcGUgPSAkcm9vdFNjb3BlO1xuICAgIHRoaXMuX3N0YXRlID0gJHN0YXRlO1xuICB9XG5cbiAgbGlzdChwYXJhbXMpIHtcbiAgICBcbiAgICB0aGlzLl9odHRwSGVscGVyLmJsb2NrVUkuc3RhcnQoKTtcblxuICAgIHJldHVybiB0aGlzLl9odHRwLmdldCh0aGlzLl9hcGkubGlzdCwge3BhcmFtczogcGFyYW1zfSkudGhlbih0aGlzLl9odHRwSGVscGVyLnZlcmlmeSwgIHRoaXMuX2h0dHBIZWxwZXIuZXJyb3IpO1xuICB9XG5cbiAgc2V0KGRhdGEpIHtcbiAgICBcbiAgICB0aGlzLl9odHRwSGVscGVyLmJsb2NrVUkuc3RhcnQoKTtcblxuICAgIHJldHVybiB0aGlzLl9odHRwLnBvc3QodGhpcy5fYXBpLnNldCwgZGF0YSkudGhlbih0aGlzLl9odHRwSGVscGVyLnZlcmlmeSwgdGhpcy5faHR0cEhlbHBlci5lcnJvcik7XG4gIH1cblxuICBnZXQoa2V5LCBwYXJhbXMpIHtcbiAgICBcbiAgICB0aGlzLl9odHRwSGVscGVyLmJsb2NrVUkuc3RhcnQoKTtcblxuICAgIHJldHVybiB0aGlzLl9odHRwLmdldCh0aGlzLl9hcGkuZ2V0LnJlcGxhY2UoL1xce2tleVxcfS8sIGtleSksIHtwYXJhbXM6IHBhcmFtc30pLnRoZW4odGhpcy5faHR0cEhlbHBlci52ZXJpZnksICB0aGlzLl9odHRwSGVscGVyLmVycm9yKTtcbiAgfVxuXG4gIC8vIHNldFNwZWNpYWwoZGF0YSkge1xuICAgIFxuICAvLyAgIHRoaXMuX2h0dHBIZWxwZXIuYmxvY2tVSS5zdGFydCgpO1xuXG4gIC8vICAgcmV0dXJuIHRoaXMuX2h0dHAucG9zdCh0aGlzLl9hcGkuc2V0U3BlY2lhbCwgZGF0YSkudGhlbih0aGlzLl9odHRwSGVscGVyLnZlcmlmeSwgdGhpcy5faHR0cEhlbHBlci5lcnJvcik7XG4gIC8vIH1cblxuICBnZXRSb2xlTGlzdCgpIHtcbiAgICB0aGlzLl9odHRwSGVscGVyLmJsb2NrVUkuc3RhcnQoKTtcbiAgICBcbiAgICByZXR1cm4gdGhpcy5faHR0cC5nZXQodGhpcy5fYXBpLnJvbGVMaXN0KS50aGVuKHRoaXMuX2h0dHBIZWxwZXIudmVyaWZ5LCAgdGhpcy5faHR0cEhlbHBlci5lcnJvcik7XG4gIH1cblxuXG5cbn0iLCIvKipcbiAqIOiFvuiur+ihjOaUv+WMuuWIkkFQSVxuICogaHR0cDovL2xicy5xcS5jb20vd2Vic2VydmljZV92MS9ndWlkZS1yZWdpb24uaHRtbFxuICovXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBEaXN0cmljdFNlcnZpY2Uge1xuICBjb25zdHJ1Y3RvcigkaHR0cCwgJHEpe1xuICAgICduZ0luamVjdCc7XG4gICAgdGhpcy5fcSA9ICRxO1xuICAgIHRoaXMuX2h0dHAgPSAkaHR0cDtcbiAgICB0aGlzLnVybCA9ICcvL2FwaXMubWFwLnFxLmNvbS93cy9kaXN0cmljdC92MS8nXG4gICAgdGhpcy5vcHRzID0ge1xuICAgICAga2V5OiAnWkFVQlotNE9HM0otWlZURkYtRjdORUQtUEhNSlQtRFpCWUcnLFxuICAgICAgb3V0cHV0OiAnanNvbnAnLFxuICAgICAgY2FsbGJhY2s6ICdkaXN0cmljdF9jYidcbiAgICB9XG4gIH1cblxuICBfcHJldigpIHtcbiAgICBsZXQgZGVmZXJyZWQgPSB0aGlzLl9xLmRlZmVyKCk7XG4gICAgd2luZG93LmRpc3RyaWN0X2NiID0gZnVuY3Rpb24ocmVzKSB7XG4gICAgICAvLyBUT0RPIOWKoGxvYWRpbmcsIOmBv+WFjeWcsOWdgOayoeWKoOi9veWujFxuICAgICAgLy8gaHR0cEhlbHBlci5ibG9ja1VJLnN0b3AoKTtcbiAgICAgIGRlZmVycmVkLnJlc29sdmUoIHJlcy5yZXN1bHRbMF0gKTtcbiAgICB9XG5cbiAgICByZXR1cm4gZGVmZXJyZWQ7XG4gIH1cblxuICAvLyAtLS0tLS0tLS0gbWV0aG9kIC0tLS0tLS0tLS0tLS0tXG4gIGxpc3QoKSB7XG5cbiAgICBsZXQgZGVmZXJyZWQgPSB0aGlzLl9wcmV2KCk7XG5cbiAgICB0aGlzLl9odHRwLmpzb25wKHRoaXMudXJsICsgJ2xpc3QnLCB7cGFyYW1zOiB0aGlzLm9wdHN9KTtcblxuICAgIHJldHVybiBkZWZlcnJlZC5wcm9taXNlO1xuICB9XG5cbiAgZ2V0Y2hpbGRyZW4oaWQpIHtcblxuICAgIGxldCBkZWZlcnJlZCA9IHRoaXMuX3ByZXYoKTtcbiAgICBsZXQgcGFyYW1zID0gey4uLnRoaXMub3B0cywgaWR9O1xuXG4gICAgdGhpcy5faHR0cC5qc29ucCh0aGlzLnVybCArICdnZXRjaGlsZHJlbicsIHtwYXJhbXM6IHBhcmFtc30pO1xuXG4gICAgcmV0dXJuIGRlZmVycmVkLnByb21pc2U7XG4gIH1cblxuICBmb3JtYXQoZGF0YSwgbGV2ZWwgPSAzKSB7XG4gICAgaWYoZGF0YSA9PT0gdm9pZCgwKSl7XG4gICAgICByZXR1cm4gdm9pZCgwKTtcbiAgICB9IGVsc2UgaWYodHlwZW9mIGRhdGEgPT0gJ3N0cmluZycpe1xuICAgICAgbGV0IHJlZ3gsIG1hdGNoLCByZXN1bHQ7XG5cbiAgICAgIGNvbnN0IHJlZyA9IC9eKC4qKVxcLShcXGQqKSQvXG5cbiAgICAgIGNvbnN0IGFkZHJlc3NBcnJheSA9IGRhdGEuc3BsaXQoJzsnKTtcbiAgICAgIGNvbnN0IGxlbmd0aCA9IGFkZHJlc3NBcnJheS5sZW5ndGg7XG5cbiAgICAgIGlmKGxlbmd0aCA+IDApIHtcbiAgICAgICAgcmVzdWx0ID0ge1xuICAgICAgICAgIGFkZHJlc3M6IGFkZHJlc3NBcnJheVtsZW5ndGgtMV1cbiAgICAgICAgfTtcbiAgICAgIH1cblxuICAgICAgaWYobGVuZ3RoID4gMSAmJiAobWF0Y2ggPSBhZGRyZXNzQXJyYXlbMF0ubWF0Y2gocmVnKSkpe1xuICAgICAgICByZXN1bHQucHJvdmluY2UgPSB7XG4gICAgICAgICAgZnVsbG5hbWU6IG1hdGNoWzFdLFxuICAgICAgICAgIGlkOiBtYXRjaFsyXVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGlmKGxlbmd0aCA+IDIgJiYgKG1hdGNoID0gYWRkcmVzc0FycmF5WzFdLm1hdGNoKHJlZykpKXtcbiAgICAgICAgcmVzdWx0LmNpdHkgPSB7XG4gICAgICAgICAgZnVsbG5hbWU6IG1hdGNoWzFdLFxuICAgICAgICAgIGlkOiBtYXRjaFsyXVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGlmKGxlbmd0aCA+IDMgJiYgKG1hdGNoID0gYWRkcmVzc0FycmF5WzJdLm1hdGNoKHJlZykpKXtcbiAgICAgICAgcmVzdWx0LmRpc3RyaWN0ID0ge1xuICAgICAgICAgIGZ1bGxuYW1lOiBtYXRjaFsxXSxcbiAgICAgICAgICBpZDogbWF0Y2hbMl1cbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICAvLyBpZihsZXZlbCA9PSAyKSB7XG4gICAgICAvLyAgIHJlZ3ggPSAvXiguKilcXC0oXFxkKilcXDsoLiopXFwtKFxcZCopXFw7KC4qKSQvO1xuICAgICAgLy8gfSBlbHNlIHtcbiAgICAgIC8vICAgcmVneCA9IC9eKC4qKVxcLShcXGQqKVxcOyguKilcXC0oXFxkKilcXDsoLiopXFwtKFxcZCopXFw7KC4qKSQvO1xuICAgICAgLy8gfVxuXG4gICAgICAvLyBtYXRjaCA9IGRhdGEubWF0Y2gocmVneCk7XG5cbiAgICAgIC8vIGlmKG1hdGNoKSB7XG5cbiAgICAgIC8vICAgcmVzdWx0ID0ge1xuICAgICAgLy8gICAgIHByb3ZpbmNlOiB7XG4gICAgICAvLyAgICAgICBmdWxsbmFtZTogbWF0Y2hbMV0sXG4gICAgICAvLyAgICAgICBpZDogbWF0Y2hbMl1cbiAgICAgIC8vICAgICB9LFxuICAgICAgLy8gICAgIGNpdHk6IHtcbiAgICAgIC8vICAgICAgIGZ1bGxuYW1lOiBtYXRjaFszXSxcbiAgICAgIC8vICAgICAgIGlkOiBtYXRjaFs0XVxuICAgICAgLy8gICAgIH1cbiAgICAgIC8vICAgfVxuXG4gICAgICAvLyAgIGlmKGxldmVsID09IDIpIHtcbiAgICAgIC8vICAgICByZXN1bHQuYWRkcmVzcyA9IG1hdGNoWzVdO1xuICAgICAgLy8gICB9IGVsc2Uge1xuICAgICAgLy8gICAgIHJlc3VsdC5kaXN0cmljdCA9IHtcbiAgICAgIC8vICAgICAgIGZ1bGxuYW1lOiBtYXRjaFs1XSxcbiAgICAgIC8vICAgICAgIGlkOiBtYXRjaFs2XVxuICAgICAgLy8gICAgIH07XG5cbiAgICAgIC8vICAgICByZXN1bHQuYWRkcmVzcyA9IG1hdGNoWzddO1xuICAgICAgLy8gICB9XG4gICAgICAvLyB9XG5cbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfSBlbHNlIGlmKGRhdGEuYWRkcmVzcyApIHtcbiAgICAgIGxldCBzdHJpbmcgPSAnJztcblxuICAgICAgaWYoZGF0YS5wcm92aW5jZSl7XG4gICAgICAgIHN0cmluZyA9IGAke3N0cmluZ30ke2RhdGEucHJvdmluY2UuZnVsbG5hbWV9LSR7ZGF0YS5wcm92aW5jZS5pZH07YFxuXG4gICAgICAgIGlmKGRhdGEuY2l0eSl7XG4gICAgICAgICAgc3RyaW5nID0gYCR7c3RyaW5nfSR7ZGF0YS5jaXR5LmZ1bGxuYW1lfS0ke2RhdGEuY2l0eS5pZH07YFxuXG4gICAgICAgICAgaWYoZGF0YS5kaXN0cmljdCl7XG4gICAgICAgICAgICBzdHJpbmcgPSBgJHtzdHJpbmd9JHtkYXRhLmRpc3RyaWN0LmZ1bGxuYW1lfS0ke2RhdGEuZGlzdHJpY3QuaWR9O2A7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBgJHtzdHJpbmd9JHtkYXRhLmFkZHJlc3N9YDtcbiAgICB9XG4gIH1cbn1cbiIsIid1c2Ugc3RyaWN0JztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUHJvZmlsZVNlcnZpY2Uge1xuICAgIGNvbnN0cnVjdG9yKCRodHRwLCBodHRwSGVscGVyLCBBcHBTZXR0aW5ncywgQXBpTWFwLCBDb25maWdTZXJ2aWNlKSB7XG4gICAgJ25nSW5qZWN0JztcbiAgICAgICAgdGhpcy5faHR0cCA9ICRodHRwO1xuICAgICAgICAvLyB0aGlzLiRxID0gJHE7XG4gICAgICAgIHRoaXMuX2h0dHBIZWxwZXIgPSBodHRwSGVscGVyO1xuXG4gICAgICAgIHRoaXMuX2FwaSA9IEFwaU1hcC5wZXJzb247XG4gICAgICAgIHRoaXMuX2FwaU1hcCA9IEFwaU1hcDtcblxuICAgICAgICB0aGlzLmFjY2Vzc0tleSA9IEFwcFNldHRpbmdzLmFjY2Vzc0tleTtcblxuICAgICAgICB0aGlzLl9jb25maWdTZXJ2aWNlID0gQ29uZmlnU2VydmljZTtcblxuXHQgICAgdGhpcy5pbmZvID0ge1xuXHQgICAgICBuYW1lOiAn5LqyJyxcblx0ICAgICAgYXZhdGFyOiAnL2ltYWdlcy9jb21tb24vbWFuLnBuZydcblx0ICAgIH1cblxuICAgICAgICB0aGlzLnJvbGVMaXN0ID0gW107XG5cbiAgICAgICAgdGhpcy51c2VyX2lkID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ1NJTF9VSUQnKSB8fCAwO1xuXG4gICAgICAgIHRoaXMuYWNjZXNzID0ge307XG5cbiAgICAgICAgaWYodGhpcy51c2VyX2lkKSB7XG4gICAgICAgICAgICB0aGlzLmdldCh7aWQ6IHRoaXMudXNlcl9pZH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5fZ2V0Um9sZUxpc3QoKTtcblxuICAgIH1cblxuICAgIGdldFJvbGVMaXN0KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5yb2xlTGlzdDtcbiAgICB9XG5cbiAgICBfZ2V0Um9sZUxpc3QoKSB7XG4gICAgICAgIHRoaXMuX2NvbmZpZ1NlcnZpY2UuZ2V0Um9sZUxpc3QoKS50aGVuKGRhdGEgPT4ge1xuICAgICAgICAgICAgaWYoZGF0YSAmJiBkYXRhIGluc3RhbmNlb2YgQXJyYXkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnJvbGVMaXN0LnB1c2guYXBwbHkoIHRoaXMucm9sZUxpc3QsIGRhdGEgKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgc2V0U2Vzc2lvbihrZXksIHZhbHVlKSB7XG4gICAgICAgIGlmIChrZXkgJiYgdmFsdWUpIHtcbiAgICAgICAgICAgIHNlc3Npb25TdG9yYWdlLnNldEl0ZW0oa2V5LCB2YWx1ZSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBnZXRTZXNzaW9uKGtleSkge1xuICAgICAgICBpZiAoa2V5KSB7XG4gICAgICAgICAgICByZXR1cm4gc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbShrZXkpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuXG4gICAgZ2V0SW5mbygpe1xuICAgICAgICByZXR1cm4gdGhpcy5pbmZvO1xuICAgIH1cblxuICAgIGdldEFjY2VzcygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuYWNjZXNzO1xuICAgIH1cblxuICAgIGdldChkYXRhKSB7XG4gICAgXG4gICAgICAgIHRoaXMuX2h0dHBIZWxwZXIuYmxvY2tVSS5zdGFydCgpO1xuXG4gICAgICAgIHJldHVybiB0aGlzLl9odHRwLnBvc3QodGhpcy5fYXBpLmdldCwgZGF0YSkudGhlbih0aGlzLl9odHRwSGVscGVyLnZlcmlmeSwgIHRoaXMuX2h0dHBIZWxwZXIuZXJyb3IpLnRoZW4oZGF0YSA9PiB7XG4gICAgICAgICAgICB0aGlzLmluZm8ubmFtZSA9IGRhdGEudHJ1ZV9uYW1lO1xuICAgICAgICAgICAgdGhpcy5pbmZvLnJvbGUgPSBkYXRhLnJvbGU7XG4gICAgICAgICAgICB0aGlzLnNldFNlc3Npb24oJ1NJTF9ST0xFJywgZGF0YS5yb2xlKTtcbiAgICAgICAgICAgIHRoaXMuZ2V0VXNlckFjY2VzcygpO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBoYW5sZGVBY2Nlc3MoZGF0YSkge1xuICAgICAgICBsZXQgYWNjZXNzTGlzdCA9IGFuZ3VsYXIuZnJvbUpzb24oZGF0YSk7XG4gICAgICAgIGlmKGFjY2Vzc0xpc3QgJiYgYWNjZXNzTGlzdFt0aGlzLmluZm8ucm9sZV0pIHtcbiAgICAgICAgICAgIGxldCBrZXlzID0gT2JqZWN0LmtleXModGhpcy5hY2Nlc3MpO1xuICAgICAgICAgICAga2V5cy5mb3JFYWNoKGtleSA9PiB7XG4gICAgICAgICAgICAgICAgaWYoIWFjY2Vzc0xpc3Rba2V5XSkge1xuICAgICAgICAgICAgICAgICAgICBkZWxldGUgdGhpcy5hY2Nlc3Nba2V5XTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGFuZ3VsYXIuZXh0ZW5kKHRoaXMuYWNjZXNzLCBhY2Nlc3NMaXN0W3RoaXMuaW5mby5yb2xlXSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBnZXRVc2VyQWNjZXNzKCkge1xuXG4gICAgICAgIGxldCBhY2Nlc3MgPSB0aGlzLmdldFNlc3Npb24oJ1NJTF9BQ0NFU1MnKTtcblxuICAgICAgICBpZihhY2Nlc3MpIHtcbiAgICAgICAgICAgIHRoaXMuaGFubGRlQWNjZXNzKGFjY2Vzcyk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl9jb25maWdTZXJ2aWNlLmdldCh0aGlzLmFjY2Vzc0tleSkudGhlbihkYXRhID0+IHtcbiAgICAgICAgICAgIHRoaXMuc2V0U2Vzc2lvbignU0lMX0FDQ0VTUycsIGRhdGEpO1xuICAgICAgICAgICAgaWYgKGRhdGEpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmhhbmxkZUFjY2VzcyhkYXRhKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxufSIsImltcG9ydCBhbmd1bGFyICAgICAgICBmcm9tICdhbmd1bGFyJztcblxuaW1wb3J0IENvbmZpZ1NlcnZpY2UgZnJvbSAnLi9jb25maWcuc2VydmljZSc7XG5pbXBvcnQgUHJvZmlsZVNlcnZpY2UgZnJvbSAnLi9wcm9maWxlLnNlcnZpY2UnO1xuXG5pbXBvcnQgQWNjZXNzQ29udHJvbFNlcnZpY2UgZnJvbSAnLi9hY2Nlc3NDb250cm9sLnNlcnZpY2UnO1xuaW1wb3J0IERpc3RyaWN0U2VydmljZSBmcm9tICcuL2Rpc3RyaWN0LnNlcnZpY2UnO1xuXG5leHBvcnQgZGVmYXVsdCBhbmd1bGFyLm1vZHVsZSgnYXBwLmNvbW1vbi5zZXJ2aWNlcycsIFtdKVxuLnNlcnZpY2UoJ0NvbmZpZ1NlcnZpY2UnLCBDb25maWdTZXJ2aWNlKVxuLnNlcnZpY2UoJ1Byb2ZpbGVTZXJ2aWNlJywgUHJvZmlsZVNlcnZpY2UpXG4uc2VydmljZSgnQWNjZXNzQ29udHJvbFNlcnZpY2UnLCBBY2Nlc3NDb250cm9sU2VydmljZSlcbi5zZXJ2aWNlKCdEaXN0cmljdFNlcnZpY2UnLCBEaXN0cmljdFNlcnZpY2UpXG47IiwiaW1wb3J0IGFuZ3VsYXIgICAgICAgICAgZnJvbSAnYW5ndWxhcic7XG5pbXBvcnQge21haW5IZWFkZXJ9ICAgICBmcm9tICcuL21jTWFpbkhlYWRlci9tY01haW5IZWFkZXInO1xuaW1wb3J0IHtjb250ZW50SGVhZGVyfSAgZnJvbSAnLi9tY0NvbnRlbnRIZWFkZXIvbWNDb250ZW50SGVhZGVyJztcblxuaW1wb3J0IHNpZGViYXJEaXJlY3RpdmUgZnJvbSAnLi9tY1NpZGViYXIvbWNTaWRlYmFyLmRpcmVjdGl2ZSc7XG5pbXBvcnQgc2lkZWJhclNlcnZpY2UgICBmcm9tICcuL21jU2lkZWJhci9tY1NpZGViYXIuc2VydmljZSc7XG5pbXBvcnQgKiBhcyBoZWxwZXIgICAgICBmcm9tICcuL21jU2lkZWJhci9tY1NpZGViYXJIZWxwZXJzLmRpcmVjdGl2ZSc7XG5cbmltcG9ydCB7bWNQYWdpbmF0aW9ufSAgIGZyb20gJy4vbWNQYWdpbmF0aW9uL2luZGV4JztcblxuaW1wb3J0IFBpY2tlclNlcnZpY2UgICAgZnJvbSAnLi9tY1BpY2tlci9waWNrZXInO1xuXG4vLyBpbXBvcnQgUGxhbk1vZGVsU2VydmljZSAgICBmcm9tICcuL21jQ2FyZVBsYW4vcGxhbk1vZGVsJztcblxuLy8gaW1wb3J0IGNhcmVUeXBlU2VydmljZSAgICBmcm9tICcuL21jQ2FyZVBsYW4vY2FyZVR5cGUnO1xuXG5cbmV4cG9ydCBkZWZhdWx0IGFuZ3VsYXIubW9kdWxlKCdhcHAuY29yZS5jb21wb25lbnRzJywgW10pXG5cbi8vIGxheW91dCBjb21wb25lbnRcbi5jb21wb25lbnQoJ21jTWFpbkhlYWRlcicsIG1haW5IZWFkZXIpXG4uZGlyZWN0aXZlKCdtY01haW5TaWRlYmFyJywgc2lkZWJhckRpcmVjdGl2ZSlcbi5zZXJ2aWNlKCdtY1NpZGViYXJTZXJ2aWNlJywgc2lkZWJhclNlcnZpY2UpXG4uY29tcG9uZW50KCdtY0NvbnRlbnRIZWFkZXInLCBjb250ZW50SGVhZGVyKVxuXG4vLyBzaWRlYmFyXG4uZGlyZWN0aXZlKCdtY1NpZGViYXJUb2dnbGluZ0l0ZW0nLCBoZWxwZXIubWNTaWRlYmFyVG9nZ2xpbmdJdGVtKVxuLmRpcmVjdGl2ZSgnbWNVaVNyZWZUb2dnbGluZ1N1Ym1lbnUnLCBoZWxwZXIubWNVaVNyZWZUb2dnbGluZ1N1Ym1lbnUpXG4uZGlyZWN0aXZlKCdtY1VpU3JlZlRvZ2dsZXInLCBoZWxwZXIubWNVaVNyZWZUb2dnbGVyKVxuXG4uY29tcG9uZW50KCdtY1BhZ2luYXRpb24nLCBtY1BhZ2luYXRpb24pXG5cbi5zZXJ2aWNlKCdQaWNrZXJTZXJ2aWNlJywgUGlja2VyU2VydmljZSlcblxuLy8gLnNlcnZpY2UoJ1BsYW5Nb2RlbFNlcnZpY2UnLCBQbGFuTW9kZWxTZXJ2aWNlKVxuXG4vLyAuc2VydmljZSgnY2FyZVR5cGVTZXJ2aWNlJywgY2FyZVR5cGVTZXJ2aWNlKVxuO1xuIiwiY2xhc3MgTWNDb250ZW50SGVhZGVyQ29udHJvbGxlciB7XG5cbiAgY29uc3RydWN0b3IoKSB7XG4gICAgJ25nSW5qZWN0JztcblxuICB9XG5cbn1cblxuZXhwb3J0IGNvbnN0IGNvbnRlbnRIZWFkZXIgPSB7XG4gIHRlbXBsYXRlVXJsOiAnY29yZS9jb21wb25lbnRzL21jQ29udGVudEhlYWRlci9tY0NvbnRlbnRIZWFkZXIuaHRtbCcsXG4gIGNvbnRyb2xsZXI6IE1jQ29udGVudEhlYWRlckNvbnRyb2xsZXIsXG4gIGJpbmRpbmdzOiB7XG5cbiAgfVxufTtcbiIsImNsYXNzIE1jTWFpbkhlYWRlckNvbnRyb2xsZXIge1xuXG4gIGNvbnN0cnVjdG9yKHN3ZWV0LCAkdGltZW91dCwgdG9hc3RyLCB1dGlsU2VydmljZSwgUHJvZmlsZVNlcnZpY2UsIE1lc3NhZ2VTZXJ2aWNlKSB7XG4gICAgJ25nSW5qZWN0JztcblxuICAgIHRoaXMuX3N3ZWV0ID0gc3dlZXQ7XG4gICAgdGhpcy5fdXRpbFNlcnZpY2UgPSB1dGlsU2VydmljZTtcblxuICAgIHRoaXMuX21zZ1NlcnZpY2UgPSBNZXNzYWdlU2VydmljZTtcblxuICAgIHRoaXMuX3RvYXN0ciA9IHRvYXN0cjtcbiAgICB0aGlzLl90aW1lb3V0ID0gJHRpbWVvdXQ7XG5cbiAgICAvLyBsZXQge2F2YXRhcn0gPSBQZW5zaW9uU2VydmljZS5nZXRJbmZvKCk7XG5cbiAgICB0aGlzLmluZm8gPSBQcm9maWxlU2VydmljZS5nZXRJbmZvKCk7XG4gICAgdGhpcy5tc2dfY291bnQgPSAwO1xuXG4gICAgdGhpcy5nZXRNc2coKTtcbiAgfVxuXG4gIGxvZ291dCgpIHtcbiAgICB0aGlzLl9zd2VldC5zaG93KHtcbiAgICAgIHRpdGxlOiAn5o+Q56S6JyxcbiAgICAgIHRleHQ6ICfnoa7orqTpgIDlh7o/JyxcbiAgICAgIHR5cGU6ICd3YXJuaW5nJyxcbiAgICAgIHNob3dDYW5jZWxCdXR0b246IHRydWUsXG4gICAgICBjb25maXJtQnV0dG9uVGV4dDogJ+mAgOWHuicsXG4gICAgICBjYW5jZWxCdXR0b25UZXh0OiAn5Y+W5raIJ1xuICAgIH0sIGlzQ29uZmlybSA9PiB7XG4gICAgICBpZiAoaXNDb25maXJtKSB7XG4gICAgICAgIGxvY2FsU3RvcmFnZS5jbGVhcigpO1xuICAgICAgICB0aGlzLl91dGlsU2VydmljZS5sb2dvdXQoKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIGdldE1zZygpIHtcbiAgICB0aGlzLl9tc2dTZXJ2aWNlLmdldExpc3Qoe3BhZ2U6IDEsIHBhZ2VfbGltaXQ6IDEwfSwgdHJ1ZSkudGhlbihkYXRhID0+IHtcbiAgICAgIGxldCB1bnJlYWRMaXN0ID0gZGF0YS5tZXNzYWdlcy5maWx0ZXIoaXRlbSA9PiBpdGVtLnN0YXRlID09PSAwKTtcbiAgICAgIGxldCBsZW4gPSB1bnJlYWRMaXN0Lmxlbmd0aDtcbiAgICAgIGlmIChsZW4gPiAwKSB7XG4gICAgICAgIGxldCBuZXdNc2dJZCA9IHVucmVhZExpc3RbMF0uaWQ7XG4gICAgICAgIGlmICggbmV3TXNnSWQgIT0gdGhpcy5uZXdNc2dJZCkge1xuICAgICAgICAgIHRoaXMuX3RvYXN0ci5zdWNjZXNzKHVucmVhZExpc3RbMF0uY29udGVudCwgJ+aWsOa2iOaBrycpO1xuICAgICAgICAgIHRoaXMubmV3TXNnSWQgPSBuZXdNc2dJZDtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBpZiAobGVuID4gOSkge1xuICAgICAgICBsZW4gPSAnOSsnO1xuICAgICAgfVxuXG4gICAgICB0aGlzLm1zZ19jb3VudCA9IGxlbjtcblxuICAgICAgdGhpcy5fdGltZW91dCgoKSA9PiB7XG4gICAgICAgIHRoaXMuZ2V0TXNnKCk7XG4gICAgICB9LCAxMjAwMDApO1xuICAgICAgXG4gICAgfSk7XG4gIH1cblxufVxuXG5leHBvcnQgY29uc3QgbWFpbkhlYWRlciA9IHtcbiAgdGVtcGxhdGVVcmw6ICdjb3JlL2NvbXBvbmVudHMvbWNNYWluSGVhZGVyL21jTWFpbkhlYWRlci5odG1sJyxcbiAgY29udHJvbGxlcjogTWNNYWluSGVhZGVyQ29udHJvbGxlcixcbiAgY29udHJvbGxlckFzOiAndm0nLFxuICBiaW5kaW5nczoge1xuXG4gIH1cbn07XG4iLCJleHBvcnQgY2xhc3MgTWNQYWdpbmF0aW9uQ29udHJvbGxlciB7XG4gIGNvbnN0cnVjdG9yKCR0aW1lb3V0KSB7XG4gICAgJ25nSW5qZWN0JztcblxuICAgIHRoaXMuX3RpbWVvdXQgPSAkdGltZW91dDtcbiAgfVxuXG4gIHBhZ2VDaGFuZ2VkKCkge1xuICAgIC8vIGNvbnNvbGUubG9nKHRoaXMpO1xuXG4gICAgdGhpcy5fdGltZW91dCggKCkgPT4ge1xuICAgICAgdGhpcy5wYWdlQ2hhbmdlICYmIHRoaXMucGFnZUNoYW5nZSgpO1xuICAgIH0pO1xuICB9XG5cbn07XG5cbmV4cG9ydCBjb25zdCBtY1BhZ2luYXRpb24gPSB7XG4gIHRlbXBsYXRlVXJsOiAnY29yZS9jb21wb25lbnRzL21jUGFnaW5hdGlvbi9pbmRleC5odG1sJyxcbiAgY29udHJvbGxlcjogTWNQYWdpbmF0aW9uQ29udHJvbGxlcixcbiAgY29udHJvbGxlckFzOiAndm0nLFxuICBiaW5kaW5nczoge1xuICAgIGN1cnJlbnRQYWdlOiAnPScsXG4gICAgdG90YWxJdGVtczogJz0nLFxuICAgIGl0ZW1zUGVyUGFnZTogJz0nLFxuICAgIHBhZ2VDaGFuZ2U6ICcmJ1xuICB9XG59O1xuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgUGFnaW5hdGlvbiB7XG4gIGNvbnN0cnVjdG9yKCRpbmplY3Rvcikge1xuICAgICduZ0luamVjdCc7XG4vLyBjb25zb2xlLmxvZygkbG9jYXRpb24pO1xuICAgIHRoaXMuX2xvY2F0aW9uID0gJGluamVjdG9yLmdldCggJyRsb2NhdGlvbicpO1xuICAgIHRoaXMuX3N0YXRlUGFyYW1zID0gJGluamVjdG9yLmdldCggJyRzdGF0ZVBhcmFtcycpO1xuXG4gICAgdGhpcy5wYWdpbmF0aW9uID0ge1xuICAgICAgY291bnQ6IDAsXG4gICAgICBwYWdlU2l6ZTogMjBcbiAgICB9O1xuXG4gICAgdGhpcy5faW5pdFBhZ2UoKTtcbiAgfVxuXG4gIF9pbml0UGFnZSgpIHtcbiAgICBsZXQge3BhZ2V9ID0gdGhpcy5fc3RhdGVQYXJhbXM7XG4gICAgdGhpcy5wYWdpbmF0aW9uLnBhZ2UgPSArcGFnZSB8fCAxO1xuICB9XG5cbiAgX2ZpbHRlckVtcHR5VmFsdWUoKSB7XG4gICAgbGV0IHZhbGlkRmlsdGVycyA9IHt9O1xuICAgIGxldCB2YWx1ZTtcbiAgICBmb3IobGV0IGtleSBpbiB0aGlzLmZpbHRlcnMpe1xuICAgICAgdmFsdWUgPSB0aGlzLmZpbHRlcnNba2V5XTtcbiAgICAgIGlmKHZhbHVlICE9PSB2b2lkKDApKSB7XG4gICAgICAgIHZhbGlkRmlsdGVyc1trZXldID0gdmFsdWU7XG4gICAgICB9XG4gICAgfVxuXG5cbiAgICByZXR1cm4gdmFsaWRGaWx0ZXJzO1xuICB9XG5cbiAgcmVTZWFyY2goKSB7XG4gICAgbGV0IHBhZ2UgPSAxXG4gICAgdGhpcy5fbG9jYXRpb24uc2VhcmNoKHsuLi50aGlzLl9maWx0ZXJFbXB0eVZhbHVlKCksIHBhZ2V9KTtcbiAgfVxuXG4gIHBhZ2VDaGFuZ2VkKCkge1xuICAgIC8vIGNvbnNvbGUubG9nKHRoaXMubG9jYXRpb24pO1xuICAgIGNvbnN0IHBhZ2UgPSB0aGlzLnBhZ2luYXRpb24ucGFnZTtcblxuICAgIHRoaXMuX2xvY2F0aW9uLnNlYXJjaCggey4uLnRoaXMuX2ZpbHRlckVtcHR5VmFsdWUoKSwgcGFnZX0gKTtcbiAgfVxufVxuIiwiY29uc3QgZGVmYXVsdFBpY2tlck9wdGlvbnMgPSB7XG4gIG1pbjogMSxcbiAgbWF4OiAwLFxuICB0aXRsZTogJ+a3u+WKoOmhueebricsXG4gIGl0ZW1UeXBlOiAn6aG555uuJyxcbiAgaXRlbVVuaXQ6ICfkuKonLFxuICBpdGVtUG9zaXRpb246ICcnLFxuICBzZWFyY2hQbGFjZWhvbGRlcjogJ+ivt+i+k+WFpemhueebruWQjeensCcsXG4gIHNlbGVjdGVkSXRlbXM6IG51bGwsXG5cbiAgcGFyYW1zOiBudWxsLFxuXG4gIGlkS2V5OiAnaWQnLFxuICBuYW1lS2V5OiAnbmFtZScsXG4gIGF2YXRhcktleTogJ2F2YXRhcidcbn07XG5cbmNsYXNzIFBpY2tlckNvbnRyb2xsZXIge1xuICBjb25zdHJ1Y3RvcigkaHR0cCwgaHR0cEhlbHBlciwgJHVpYk1vZGFsSW5zdGFuY2UsIHBpY2tlck9wdGlvbnMpIHtcbiAgICAnbmdJbmplY3QnO1xuXG4gICAgdGhpcy5faHR0cCA9ICRodHRwO1xuICAgIHRoaXMuX2h0dHBIZWxwZXIgPSBodHRwSGVscGVyO1xuXG4gICAgdGhpcy5fbW9kYWxJbnN0YW5jZSA9ICR1aWJNb2RhbEluc3RhbmNlO1xuXG4gICAgdGhpcy5vcHRpb25zID0gey4uLmRlZmF1bHRQaWNrZXJPcHRpb25zLCAuLi5waWNrZXJPcHRpb25zfTtcblxuICAgIHRoaXMuc2VsZWN0aW9uSXRlbSA9IFtdO1xuXG4gICAgdGhpcy5saXN0ID0gW107XG5cbiAgICB0aGlzLmdldExpc3QoKTtcbiAgfVxuXG4gIF9nZXRMaXN0KHBhcmFtcykge1xuICAgIGxldCB7dXJsfSA9IHRoaXMub3B0aW9ucztcbiAgICBpZighdXJsKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdtY1BpY2tlcicsICdVcmwgaXMgcmVxdWlyZWQuJylcbiAgICAgIHJldHVybiA7XG4gICAgfVxuXG4gICAgdGhpcy5faHR0cEhlbHBlci5ibG9ja1VJLnN0YXJ0KCk7XG5cbiAgICByZXR1cm4gdGhpcy5faHR0cC5nZXQodXJsLCB7cGFyYW1zOiBwYXJhbXN9KS50aGVuKHRoaXMuX2h0dHBIZWxwZXIudmVyaWZ5LCAgdGhpcy5faHR0cEhlbHBlci5lcnJvcik7XG4gIH1cblxuICBnZXRMaXN0KCkge1xuICAgIGxldCB7bGlzdH0gPSB0aGlzLm9wdGlvbnM7XG4gICAgaWYobGlzdCkge1xuICAgICAgdGhpcy5saXN0ID0gdGhpcy5fZm9ybWF0RGF0YShsaXN0KTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBsZXQgcGFyYW1zID0gey4uLntcbiAgICAgIHBhZ2VTaXplOiAxMDAwXG4gICAgfSwgLi4uKHRoaXMub3B0aW9ucy5wYXJhbXMgfHwge30pfTtcbiAgICB0aGlzLl9nZXRMaXN0KHBhcmFtcykudGhlbihkYXRhID0+IHtcbiAgICAgIHRoaXMubGlzdCA9IHRoaXMuX2Zvcm1hdERhdGEoIGRhdGEubGlzdCApO1xuICAgIH0pO1xuICB9XG5cbiAgZ2V0VmFsdWUob2JqLCBrZXkpe1xuICAgIGxldCBrZXlBcnIgPSBrZXkuc3BsaXQoJy4nKTtcblxuICAgIGtleUFyci5mb3JFYWNoKGsgPT4ge1xuICAgICAgb2JqID0gb2JqW2tdO1xuICAgIH0pO1xuXG4gICAgcmV0dXJuIG9iajtcbiAgfVxuXG4gIF9mb3JtYXREYXRhKGRhdGEpIHtcbiAgICBsZXQge3NlbGVjdGVkSXRlbXMsIGlkS2V5LCBuYW1lS2V5LCBhdmF0YXJLZXl9ID0gdGhpcy5vcHRpb25zO1xuICAgIGxldCB0bXBIYXNoT2JqID0ge307XG5cbiAgICBpZihzZWxlY3RlZEl0ZW1zICYmIHNlbGVjdGVkSXRlbXMubGVuZ3RoID4gMCkge1xuICAgICAgc2VsZWN0ZWRJdGVtcy5mb3JFYWNoKGl0ZW0gPT4ge1xuICAgICAgICB0bXBIYXNoT2JqW2l0ZW0uaWRdID0gdHJ1ZTtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIHJldHVybiBkYXRhLm1hcChpdGVtID0+IHtcbiAgICAgIGxldCB0bXBPYmogPSB7XG4gICAgICAgIGlkOiBpdGVtW2lkS2V5XSxcbiAgICAgICAgbmFtZTogdGhpcy5nZXRWYWx1ZShpdGVtLCBuYW1lS2V5KSxcbiAgICAgICAgYXZhdGFyOiBpdGVtW2F2YXRhcktleV0gfHwgJy9pbWFnZXMvY29tbW9uL21hbi5wbmcnXG4gICAgICB9O1xuXG4gICAgICB0bXBPYmogPSBPYmplY3QuYXNzaWduKGl0ZW0sIHRtcE9iaik7XG4gICAgICBcbiAgICAgIGlmKCB0bXBIYXNoT2JqW3RtcE9iai5pZF0gKSB7XG4gICAgICAgIHRtcE9iai5zZWxlY3RlZCA9IHRydWU7XG5cbiAgICAgICAgdGhpcy5zZWxlY3Rpb25JdGVtLnB1c2godG1wT2JqKTtcbiAgICAgIH1cblxuXG4gICAgICByZXR1cm4gdG1wT2JqO1xuICAgIH0pO1xuICB9XG5cbiAgY2FuY2VsKCkge1xuICAgIC8vIHRoaXMub25DbG9zZSAmJiB0aGlzLm9uQ2xvc2UodGhpcy5zZWxlY3Rpb25JdGVtKTtcbiAgICB0aGlzLl9tb2RhbEluc3RhbmNlLmRpc21pc3MoJ2NhbmNlbCcpO1xuICB9XG5cbiAgb2soKSB7XG4gICAgbGV0IGxlbiA9IHRoaXMuc2VsZWN0aW9uSXRlbS5sZW5ndGg7XG4gICAgbGV0IHttYXgsIG1pbn0gPSB0aGlzLm9wdGlvbnM7XG5cbiAgICBpZiggbGVuIDwgbWluIHx8IChtYXggPiAwICYmIGxlbiA+IG1heCkgKXtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgdGhpcy5fbW9kYWxJbnN0YW5jZS5jbG9zZSggdGhpcy5zZWxlY3Rpb25JdGVtICk7XG4gIH1cblxuICB0b2dnbGVJdGVtU2VsZWN0ZWQoaXRlbSkge1xuICAgIGxldCBpbmRleCA9IHRoaXMuc2VsZWN0aW9uSXRlbS5pbmRleE9mKCBpdGVtICk7XG4gICAgaWYoaW5kZXggPiAtMSkge1xuICAgICAgaXRlbS5zZWxlY3RlZCA9IGZhbHNlO1xuICAgICAgdGhpcy5zZWxlY3Rpb25JdGVtLnNwbGljZShpbmRleCwgMSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIG1heCByZXN0cmljdFxuICAgICAgaWYodGhpcy5vcHRpb25zLm1heCA9PT0gMSkge1xuICAgICAgICB0aGlzLmxpc3QubWFwKGl0ZW0gPT4ge1xuICAgICAgICAgIGl0ZW0uc2VsZWN0ZWQgPSBmYWxzZTtcbiAgICAgICAgICByZXR1cm4gaXRlbTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuc2VsZWN0aW9uSXRlbSA9IFtdO1xuICAgICAgfWVsc2UgaWYodGhpcy5vcHRpb25zLm1heCA+IDEpIHtcbiAgICAgICAgbGV0IGZpbHRlcmVkID0gdGhpcy5saXN0LmZpbHRlcihpdGVtID0+IGl0ZW0uc2VsZWN0ZWQpO1xuICAgICAgICBpZihmaWx0ZXJlZC5sZW5ndGggPT09IHRoaXMub3B0aW9ucy5tYXgpIHtcbiAgICAgICAgICBpdGVtLnNlbGVjdGVkID0gZmFsc2U7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGl0ZW0uc2VsZWN0ZWQgPSB0cnVlO1xuICAgICAgdGhpcy5zZWxlY3Rpb25JdGVtLnB1c2goIGl0ZW0gKTtcbiAgICB9XG5cbiAgICAvLyBjb25zb2xlLmxvZyh0aGlzLnNlbGVjdGlvbkl0ZW0pO1xuICB9XG59XG5cbmNvbnN0IHBpY2tlckNvbmZpZ3VyYXRpb24gPSB7XG4gIHRlbXBsYXRlVXJsOiAnY29yZS9jb21wb25lbnRzL21jUGlja2VyL3RlbXBsYXRlLmh0bWwnLFxuICBjb250cm9sbGVyOiBQaWNrZXJDb250cm9sbGVyLFxuICBjb250cm9sbGVyQXM6ICd2bSdcbn07XG5cbmV4cG9ydCBkZWZhdWx0IHBpY2tlckNvbmZpZ3VyYXRpb247XG4iLCJpbXBvcnQgYW5ndWxhciBmcm9tICdhbmd1bGFyJztcblxuaW1wb3J0IHBpY2tlckNvbmZpZ3VyYXRpb24gZnJvbSAnLi9jdHJsJztcblxuY29uc3Qgbm9vcCA9IGZ1bmN0aW9uKCl7Y29uc29sZS5sb2coJ25vIGNhbGxiYWNrJyk7fTtcblxuXG5jbGFzcyBQaWNrZXJTZXJ2aWNlIHtcbiAgY29uc3RydWN0b3IoJHVpYk1vZGFsKSB7XG4gICAgJ25nSW5qZWN0JztcbiAgICB0aGlzLl9tb2RhbCA9ICR1aWJNb2RhbDtcbiAgfVxuXG4gIG9wZW4ocGlja2VyT3B0aW9ucywgb3B0aW9ucywgY2FsbGJhY2spIHtcblxuICAgIGlmKCB0eXBlb2Ygb3B0aW9ucyA9PSAnZnVuY3Rpb24nICl7XG4gICAgICBjYWxsYmFjayA9IG9wdGlvbnM7XG4gICAgICBvcHRpb25zID0ge307XG4gICAgfVxuXG4gICAgaWYoIHR5cGVvZiBwaWNrZXJPcHRpb25zID09ICdmdW5jdGlvbicgKXtcbiAgICAgIGNhbGxiYWNrID0gcGlja2VyT3B0aW9ucztcbiAgICAgIHBpY2tlck9wdGlvbnMgPSB7fTtcbiAgICAgIG9wdGlvbnMgPSB7fTtcbiAgICB9XG5cbiAgICBsZXQgb3B0cyA9IE9iamVjdC5hc3NpZ24oe1xuICAgICAgYW5pbWF0aW9uOiB0cnVlLFxuICAgICAgc2l6ZTogJ2xnJyxcbiAgICAgIHJlc29sdmU6IHtcbiAgICAgICAgcGlja2VyT3B0aW9uczogZnVuY3Rpb24oKXtcbiAgICAgICAgICBwaWNrZXJPcHRpb25zID0gcGlja2VyT3B0aW9ucyB8fCB7fTtcbiAgICAgICAgICByZXR1cm4gey4uLnBpY2tlck9wdGlvbnN9O1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSwgcGlja2VyQ29uZmlndXJhdGlvbiwgb3B0aW9ucyB8fCB7fSk7XG5cbiAgICAvLyBjb25zb2xlLmxvZyh0aGlzKTtcblxuICAgIGxldCBtb2RhbEluc3RhbmNlID0gdGhpcy5fbW9kYWwub3Blbiggb3B0cyApO1xuXG4gICAgaWYodHlwZW9mIGNhbGxiYWNrICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgICBjYWxsYmFjayA9IG5vb3A7XG4gICAgfVxuXG4gICAgbW9kYWxJbnN0YW5jZS5yZXN1bHQudGhlbiggc2VsZWN0ZWRJdGVtcyA9PiB7XG4gICAgICAvLyBjb25zb2xlLmxvZyhzZWxlY3RlZEl0ZW1zKTtcbiAgICAgIGNhbGxiYWNrLmNhbGwobnVsbCwge3N0YXR1czogMCwgaW5mbzogJ3N1Y2Nlc3MnLCBkYXRhOiBbLi4uc2VsZWN0ZWRJdGVtc119KTtcblxuICAgIH0pLmNhdGNoKCAoKSA9PiBjYWxsYmFjay5jYWxsKG51bGwsIHtzdGF0dXM6IDEsIGluZm86ICdkaXNtaXNzJywgZGF0YTogW119KSApO1xuXG4gICAgcmV0dXJuIG1vZGFsSW5zdGFuY2U7XG4gIH1cblxuXG59XG5leHBvcnQgZGVmYXVsdCBQaWNrZXJTZXJ2aWNlO1xuIiwiY2xhc3MgTWNTaWRlYmFyVG9nZ2xpbmdJdGVtQ29udHJvbGxlciB7XG5cbiAgY29uc3RydWN0b3IoJHNjb3BlLCAkZWxlbWVudCwgJGF0dHJzLCAkc3RhdGUsIG1jU2lkZWJhclNlcnZpY2UpIHtcbiAgICAnbmdJbmplY3QnO1xuXG4gICAgdGhpcy5fJGVsZW1lbnQgPSAkZWxlbWVudDtcblxuICAgIGxldCBtZW51SXRlbSA9IHRoaXMuJCRtZW51SXRlbSA9ICRzY29wZS4kZXZhbCgkYXR0cnMubWNTaWRlYmFyVG9nZ2xpbmdJdGVtKTtcblxuICAgIGlmIChtZW51SXRlbSAmJiBtZW51SXRlbS5zdWJNZW51ICYmIG1lbnVJdGVtLnN1Yk1lbnUubGVuZ3RoKSB7XG4gICAgICB0aGlzLiQkZXhwYW5kU3VibWVudSA9ICgpID0+IHsgY29uc29sZS53YXJuKCckJGV4cGFuZE1lbnUgc2hvdWxkIGJlIG92ZXJ3cml0dGVuIGJ5IG1jVWlTcmVmVG9nZ2xpbmdTdWJtZW51JykgfTtcbiAgICAgIHRoaXMuJCRjb2xsYXBzZVN1Ym1lbnUgPSAoKSA9PiB7IGNvbnNvbGUud2FybignJCRjb2xsYXBzZVN1Ym1lbnUgc2hvdWxkIGJlIG92ZXJ3cml0dGVuIGJ5IG1jVWlTcmVmVG9nZ2xpbmdTdWJtZW51JykgfTtcblxuICAgICAgdGhpcy5zdWJJdGVtc1N0YXRlUmVmcyA9IG1jU2lkZWJhclNlcnZpY2UuZ2V0QWxsU3RhdGVSZWZzUmVjdXJzaXZlKG1lbnVJdGVtKTtcblxuICAgICAgaWYgKHRoaXMuaXNTdGF0ZSgkc3RhdGUuY3VycmVudCkpIHtcbiAgICAgICAgJGVsZW1lbnQuYWRkQ2xhc3MoJ3NpZGViYXItaXRlbS1leHBhbmRlZCcpO1xuICAgICAgfVxuXG4gICAgICAkc2NvcGUuJG9uKCckc3RhdGVDaGFuZ2VTdGFydCcsIChldmVudCwgdG9TdGF0ZSkgPT4ge1xuICAgICAgICAgaWYgKCF0aGlzLmlzU3RhdGUodG9TdGF0ZSkgJiYgJGVsZW1lbnQuaGFzQ2xhc3MoJ3NpZGViYXItaXRlbS1leHBhbmRlZCcpKSB7XG4gICAgICAgICAgdGhpcy4kY29sbGFwc2UoKTtcbiAgICAgICAgICAkZWxlbWVudC5yZW1vdmVDbGFzcygnc2lkZWJhci1pdGVtLWV4cGFuZGVkJyk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuXG4gICAgICAkc2NvcGUuJG9uKCckc3RhdGVDaGFuZ2VTdWNjZXNzJywgKGV2ZW50LCB0b1N0YXRlKSA9PiB7XG4gICAgICAgIGlmICh0aGlzLmlzU3RhdGUodG9TdGF0ZSkgJiYgISRlbGVtZW50Lmhhc0NsYXNzKCdzaWRlYmFyLWl0ZW0tZXhwYW5kZWQnKSkge1xuICAgICAgICAgIHRoaXMuJGV4cGFuZCgpO1xuICAgICAgICAgICRlbGVtZW50LmFkZENsYXNzKCdzaWRlYmFyLWl0ZW0tZXhwYW5kZWQnKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuXG4gIH1cblxuICAkZXhwYW5kKCkge1xuICAgIHRoaXMuJCRleHBhbmRTdWJtZW51KCk7XG4gICAgdGhpcy4kY29sbGFwc2VPdGhlcih0aGlzLiRjb2xsYXBzZU90aGVyKHRoaXMuXyRlbGVtZW50KSk7XG4gICAgdGhpcy5fJGVsZW1lbnQuYWRkQ2xhc3MoJ3NpZGViYXItaXRlbS1leHBhbmRlZCcpO1xuICB9XG5cbiAgJGNvbGxhcHNlKCkge1xuICAgIHRoaXMuJCRjb2xsYXBzZVN1Ym1lbnUoKTtcbiAgICB0aGlzLl8kZWxlbWVudC5yZW1vdmVDbGFzcygnc2lkZWJhci1pdGVtLWV4cGFuZGVkJyk7XG4gIH07XG5cbiAgJHRvZ2dsZSgpIHtcbiAgICB0aGlzLl8kZWxlbWVudC5oYXNDbGFzcygnc2lkZWJhci1pdGVtLWV4cGFuZGVkJykgPyB0aGlzLiRjb2xsYXBzZSgpIDogdGhpcy4kZXhwYW5kKCk7XG4gIH07XG5cbiAgaXNTdGF0ZShzdGF0ZSkge1xuICAgIHJldHVybiBzdGF0ZSAmJiB0aGlzLnN1Ykl0ZW1zU3RhdGVSZWZzLnNvbWUoIHN1Ykl0ZW1TdGF0ZSA9PiB7XG4gICAgICByZXR1cm4gc3RhdGUubmFtZS5pbmRleE9mKHN1Ykl0ZW1TdGF0ZSkgPT0gMDtcbiAgICB9KTtcbiAgfVxuXG4gIC8vIGhhY2s6IGNvbGxhcHNlIG90aGVyIG1lbnUgd2hlbiBleHBhbmQgb25lXG4gIC8vIFRPRE86IHVzZSBkaXJlY3RpdmUgZmV0dXJlLCBubyBlbGVtZW50IG1hbmlwdWxhdGVcbiAgJGNvbGxhcHNlT3RoZXIoZWxlbWVudCkge1xuICAgIGxldCBzaWJsaW5ncyA9IGFuZ3VsYXIuZWxlbWVudChlbGVtZW50KS5zaWJsaW5ncygnLnNpZGViYXItaXRlbS1leHBhbmRlZCcpO1xuICAgIHNpYmxpbmdzLmZpbmQoJy5zaWRlYmFyLXN1Ymxpc3QnKS5oaWRlKCk7XG4gICAgc2libGluZ3MucmVtb3ZlQ2xhc3MoJ3NpZGViYXItaXRlbS1leHBhbmRlZCcpO1xuICB9XG5cbn1cblxuZXhwb3J0IGRlZmF1bHQgTWNTaWRlYmFyVG9nZ2xpbmdJdGVtQ29udHJvbGxlcjtcbiIsImNsYXNzIE1jU2lkZXJiYXJDb250cm9sbGVyIHtcblxuICBjb25zdHJ1Y3Rvcigkc2NvcGUsICRzdGF0ZSwgbWNTaWRlYmFyU2VydmljZSwgUHJvZmlsZVNlcnZpY2UpIHtcbiAgICAnbmdJbmplY3QnO1xuXG4gICAgdGhpcy5tZW51SXRlbXMgPSBtY1NpZGViYXJTZXJ2aWNlLmdldE1lbnVJdGVtcygpO1xuICAgIHRoaXMuaW5mbyA9IHtcbiAgICAgIG5hbWU6ICfmtablj5EgfCDmipXotLfogZTliqgnLFxuICAgICAgYXZhdGFyOiAnL2ltYWdlcy9jb21tb24vbG9nby5wbmcnXG4gICAgfTtcblxuICAgIHRoaXMuYWNjZXNzID0gUHJvZmlsZVNlcnZpY2UuYWNjZXNzO1xuXG4gIH1cblxufVxuXG5mdW5jdGlvbiBNY1NpZGVyYmFyRGlyZWN0aXZlKCkge1xuXG4gIHJldHVybiB7XG4gICAgcmVzdHJpY3Q6ICdFJyxcbiAgICB0ZW1wbGF0ZVVybDogJ2NvcmUvY29tcG9uZW50cy9tY1NpZGViYXIvbWNTaWRlYmFyLmh0bWwnLFxuICAgIGNvbnRyb2xsZXI6IE1jU2lkZXJiYXJDb250cm9sbGVyLFxuICAgIGNvbnRyb2xsZXJBczogJ3NpZGViYXInLFxuICAgIGxpbms6IChzY29wZSwgZWxlbWVudCwgYXR0cnMpID0+IHtcbiAgICAgIGxldCAkc2lkZSA9IGVsZW1lbnRbMF0uY2hpbGROb2Rlc1swXTtcbiAgICAgIHNjb3BlLm1lbnVIZWlnaHQgPSAkc2lkZS5jbGllbnRIZWlnaHQgLSAxNjA7XG4gICAgfVxuICB9O1xuXG59XG5cbmV4cG9ydCBkZWZhdWx0IE1jU2lkZXJiYXJEaXJlY3RpdmU7XG4iLCJjbGFzcyBNY1NpZGViYXJTZXJ2ZXIge1xuXG4gIGNvbnN0cnVjdG9yKCRzdGF0ZSkge1xuICAgICduZ0luamVjdCc7XG5cbiAgICB0aGlzLiRzdGF0ZSA9ICRzdGF0ZTtcbiAgICB0aGlzLnN0YXRpY01lbnVJdGVtcyA9IFtdO1xuICAgIHRoaXMuX2lzTWVudUNvbGxhcHNlZCA9IHRydWU7XG5cbiAgfVxuXG4gIGdldE1lbnVJdGVtcygpIHtcblxuICAgIGxldCBzdGF0ZXMgPSB0aGlzLmRlZmluZU1lbnVJdGVtU3RhdGVzKCk7XG4gICAgLy8gbGV0IG1lbnVJdGVtcyA9IHN0YXRlcy5maWx0ZXIoaXRlbSA9PiBpdGVtLmxldmVsID09IDAgJiYgIShpdGVtLmFjY2Vzc1JvbGVJZHMgJiYgaXRlbS5hY2Nlc3NSb2xlSWRzLmluZGV4T2YodGhpcy5fc2NvcGUuYWNjZXNzQ29udHJvbC5yb2xlX2lkKSA9PSAtMSkgKTtcbiAgICBsZXQgbWVudUl0ZW1zID0gc3RhdGVzLmZpbHRlcihpdGVtID0+IGl0ZW0ubGV2ZWwgPT0gMCk7XG5cbiAgICBtZW51SXRlbXMuZm9yRWFjaCggaXRlbSA9PiB7XG4gICAgICB2YXIgY2hpbGRyZW4gPSBzdGF0ZXMuZmlsdGVyKCBjaGlsZCA9PiB7XG4gICAgICAgIHJldHVybiBjaGlsZC5sZXZlbCA9PSAxICYmIGNoaWxkLm5hbWUuaW5kZXhPZihpdGVtLm5hbWUpID09PSAwO1xuICAgICAgfSk7XG5cbiAgICAgIGl0ZW0uc3ViTWVudSA9IGNoaWxkcmVuLmxlbmd0aCA/IGNoaWxkcmVuIDogbnVsbDtcblxuICAgICAgLy8g55So56ys5LiJ57qn55qE5oyH5a6a5YWl5Y+j5pu/5o2i5LqM57qn5oq96LGh6Lev55SxXG4gICAgICBpdGVtLnN1Yk1lbnUgJiYgaXRlbS5zdWJNZW51LmZvckVhY2goICh0aGlyZCwgaW5kZXgpID0+IHtcbiAgICAgICAgaWYodGhpcmQuZW50cnkpIHtcbiAgICAgICAgICBsZXQgZW50cnkgPSBzdGF0ZXMuZmlsdGVyKHggPT4geC5uYW1lID09PSB0aGlyZC5lbnRyeSk7XG4gICAgICAgICAgaWYoZW50cnkubGVuZ3RoKSB7XG4gICAgICAgICAgICBpdGVtLnN1Yk1lbnVbaW5kZXhdID0gZW50cnlbMF07XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9KTtcblxuICAgIH0pO1xuXG4gICAgcmV0dXJuIG1lbnVJdGVtcy5jb25jYXQodGhpcy5zdGF0aWNNZW51SXRlbXMpO1xuXG4gIH1cblxuICBnZXRBbGxTdGF0ZVJlZnNSZWN1cnNpdmUoaXRlbSkge1xuXG4gICAgcmV0dXJuIHRoaXMuX2l0ZXJhdGVTdWJJdGVtcyhpdGVtKTtcblxuICB9XG5cbiAgZGVmaW5lTWVudUl0ZW1TdGF0ZXMoKSB7XG5cbiAgICByZXR1cm4gdGhpcy4kc3RhdGUuZ2V0KClcbiAgICAgIC5maWx0ZXIoc3RhdGUgPT4ge1xuICAgICAgICByZXR1cm4gc3RhdGUuc2lkZWJhck1ldGE7XG4gICAgICB9KVxuICAgICAgLm1hcChzdGF0ZSA9PiB7XG4gICAgICAgIHZhciBtZXRhID0gc3RhdGUuc2lkZWJhck1ldGE7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgbmFtZTogc3RhdGUubmFtZSxcbiAgICAgICAgICB0aXRsZTogc3RhdGUudGl0bGUsXG4gICAgICAgICAgbGV2ZWw6IChzdGF0ZS5uYW1lLm1hdGNoKC9cXC4vZykgfHwgW10pLmxlbmd0aCxcbiAgICAgICAgICBvcmRlcjogbWV0YS5vcmRlcixcbiAgICAgICAgICBpY29uOiBtZXRhLmljb24sXG4gICAgICAgICAgc3RhdGVSZWY6IHN0YXRlLm5hbWUsXG4gICAgICAgICAgZW50cnk6IG1ldGEuZW50cnksXG4gICAgICAgICAgYWNjZXNzUm9sZUlkczogbWV0YS5hY2Nlc3NSb2xlSWRzLFxuICAgICAgICB9O1xuICAgICAgfSlcbiAgICAgIC5zb3J0KChhLCBiKSA9PiB7XG4gICAgICAgIHJldHVybiAoYS5sZXZlbCAtIGIubGV2ZWwpICogMTAwICsgYS5vcmRlciAtIGIub3JkZXI7XG4gICAgICB9KTtcblxuICB9XG5cblxuICBfaXRlcmF0ZVN1Ykl0ZW1zKGN1cnJlbnRJdGVtKSB7XG5cbiAgICBsZXQgcmVzdWx0ID0gW107XG4gICAgY3VycmVudEl0ZW0uc3ViTWVudSAmJiBjdXJyZW50SXRlbS5zdWJNZW51LmZvckVhY2goc3ViSXRlbSA9PiB7XG4gICAgICBzdWJJdGVtLnN0YXRlUmVmICYmIHJlc3VsdC5wdXNoKHN1Ykl0ZW0uc3RhdGVSZWYpO1xuICAgICAgdGhpcy5faXRlcmF0ZVN1Ykl0ZW1zKHN1Ykl0ZW0pO1xuICAgIH0pO1xuICAgIHJldHVybiByZXN1bHQ7XG5cbiAgfVxuXG59XG5cbmV4cG9ydCBkZWZhdWx0IE1jU2lkZWJhclNlcnZlcjtcbiIsImltcG9ydCBNY1NpZGViYXJUb2dnbGluZ0l0ZW1DdHJsIGZyb20gJy4vaGVscGVycy9tY1NpZGViYXJUb2dnbGluZ0l0ZW0uY3RybCdcblxuZXhwb3J0IGZ1bmN0aW9uIG1jU2lkZWJhclRvZ2dsaW5nSXRlbSgpIHtcbiAgcmV0dXJuIHtcbiAgICByZXN0cmljdDogJ0EnLFxuICAgIGNvbnRyb2xsZXI6IE1jU2lkZWJhclRvZ2dsaW5nSXRlbUN0cmxcbiAgfTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIG1jVWlTcmVmVG9nZ2xpbmdTdWJtZW51KCRzdGF0ZSkge1xuICAnbmdJbmplY3QnO1xuXG4gIHJldHVybiB7XG4gICAgcmVzdHJpY3Q6ICdBJyxcbiAgICByZXF1aXJlOiAnXm1jU2lkZWJhclRvZ2dsaW5nSXRlbScsXG4gICAgbGluazogZnVuY3Rpb24oc2NvcGUsIGVsLCBhdHRycywgbWNTaWRlYmFyVG9nZ2xpbmdJdGVtKSB7XG4gICAgICBtY1NpZGViYXJUb2dnbGluZ0l0ZW0uJCRleHBhbmRTdWJtZW51ID0gKCkgPT4geyBlbC5zbGlkZURvd24oKTsgfTtcbiAgICAgIG1jU2lkZWJhclRvZ2dsaW5nSXRlbS4kJGNvbGxhcHNlU3VibWVudSA9ICgpID0+IHsgZWwuc2xpZGVVcCgpOyB9O1xuICAgIH1cbiAgfTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIG1jVWlTcmVmVG9nZ2xlcihtY1NpZGViYXJTZXJ2aWNlKSB7XG4gICduZ0luamVjdCc7XG5cbiAgcmV0dXJuIHtcbiAgICByZXN0cmljdDogJ0EnLFxuICAgIHJlcXVpcmU6ICdebWNTaWRlYmFyVG9nZ2xpbmdJdGVtJyxcbiAgICBsaW5rOiBmdW5jdGlvbihzY29wZSwgZWwsIGF0dHJzLCBtY1NpZGViYXJUb2dnbGluZ0l0ZW0pIHtcbiAgICAgIGVsLm9uKCdjbGljaycsICgpID0+IHtcbiAgICAgICAgbWNTaWRlYmFyVG9nZ2xpbmdJdGVtLiR0b2dnbGUoKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfTtcblxufVxuIiwiJ3VzZSBzdHJpY3QnO1xuY29uc3QgcHJlZml4ID0gJ2h0dHA6Ly9zaWxhcGkuYWRvYy53YW5nJztcbmNvbnN0IGFwaSA9IHtcblx0Y29uZmlnOiB7XG5cdFx0bGlzdDogYCR7cHJlZml4fS9jbGllbnRfY29uZmlnL2xpc3Qvd2ViYCxcblx0XHRnZXQ6IGAke3ByZWZpeH0vY2xpZW50X2NvbmZpZy9nZXRfc3BlY2lhbC97a2V5fWAsXG5cdFx0c2V0OiBgJHtwcmVmaXh9L2NsaWVudF9jb25maWcvc2V0X3NwZWNpYWxgLFxuXHRcdHJvbGVMaXN0OiBgJHtwcmVmaXh9L2F1dGgvcm9sZV9saXN0YFxuXHR9LFxuXHRtZXNzYWdlOiB7XG5cdFx0Z2V0TGlzdDogYCR7cHJlZml4fS9tZXNzYWdlL2xpc3RgLFxuXHRcdGdldDogYCR7cHJlZml4fS9tZXNzYWdlL3tpZH1gLFxuXHRcdHNldDogYCR7cHJlZml4fS9tZXNzYWdlL3NldGAsXG5cdH0sXG5cdGludmVzdG1lbnQ6IHtcblx0XHRnZXRMaXN0OiBgJHtwcmVmaXh9L3ZjX2NvbXBhbnkvbGlzdGAsXG5cdFx0c2V0OiBgJHtwcmVmaXh9L3ZjX2NvbXBhbnkvc2V0YCxcblx0XHRhZGQ6IGAke3ByZWZpeH0vdmNfY29tcGFueS9hZGRgLFxuXHRcdGRvd25sb2FkVGVtcGxhdGU6IGAke3ByZWZpeH0vZXhwb3J0L3ZjX2NvbXBhbnlfdGVtcGxhdGVgLFxuXHRcdGltcG9ydDogYCR7cHJlZml4fS9pbXBvcnQvdmNfY29tcGFueWAsXG5cdH0sXG5cdGVudGVycHJpc2U6IHtcblx0XHRnZXRMaXN0OiBgJHtwcmVmaXh9L2VudGVycHJpc2UvbGlzdGAsXG5cdFx0Z2V0OiBgJHtwcmVmaXh9L2VudGVycHJpc2Uve2lkfWAsXG5cdFx0c2V0OiBgJHtwcmVmaXh9L2VudGVycHJpc2Uvc2V0YCxcblx0XHRhZGQ6IGAke3ByZWZpeH0vZW50ZXJwcmlzZS9hZGRgLFxuXHR9LFxuXHRwZXJzb246IHtcblx0XHRnZXQ6IGAke3ByZWZpeH0vdXNlci9nZXRgLFxuXHRcdHNldDogYCR7cHJlZml4fS91c2VyL3NldGAsXG5cdFx0bG9nb3V0OiBgJHtwcmVmaXh9L3VzZXIvbG9nb3V0YCxcblx0XHRsaXN0OiBgJHtwcmVmaXh9L3VzZXIvbGlzdGAsXG5cdFx0YWRkOiBgJHtwcmVmaXh9L3VzZXIvYWRkYFxuXHR9LFxuXHRhY2NvdW50OiAge1xuXHRcdGRvd25sb2FkVGVtcGxhdGU6IGAke3ByZWZpeH0vZXhwb3J0L3VzZXJfdGVtcGxhdGVgLFxuXHRcdGltcG9ydDogYCR7cHJlZml4fS9pbXBvcnQvdXNlcmAsXG5cdH0sXG5cdGJhbms6IHtcblx0XHRnZXQ6IGAke3ByZWZpeH0vYmFuay9saXN0YCxcblx0XHRhZGQ6IGAke3ByZWZpeH0vYmFuay9hZGRgLFxuXHRcdHNldDogYCR7cHJlZml4fS9iYW5rL3NldGAsXG5cdFx0ZG93bmxvYWRUZW1wbGF0ZTogYCR7cHJlZml4fS9leHBvcnQvYmFua190ZW1wbGF0ZWAsXG5cdFx0aW1wb3J0OiBgJHtwcmVmaXh9L2ltcG9ydC9iYW5rYFxuXHR9LFxuXHRsb2c6IHtcblx0XHRsaXN0OiBgJHtwcmVmaXh9L2xvZy9saXN0YFxuXHR9LFxuXHRwcm9jZXNzOiB7XG5cdFx0dGlwc0xpc3Q6IGAke3ByZWZpeH0vY21fdGlwL2xpc3RgLFxuXHRcdHRpcHNHZXQ6IGAke3ByZWZpeH0vY21fdGlwL2dldC97aWR9YCxcblx0XHR0aXBzU2V0OiBgJHtwcmVmaXh9L2NtX3RpcC9zZXRgLFxuXHRcdHRpcHNBZGQ6IGAke3ByZWZpeH0vY21fdGlwL2FkZGBcblx0fSxcblx0ZmlsdGVyOiB7XG5cdFx0YmxhY2tsaXN0OiB7XG5cdFx0XHRsaXN0OiBgJHtwcmVmaXh9L2JsYWNrbGlzdC9saXN0YCxcblx0XHRcdGFkZDogYCR7cHJlZml4fS9ibGFja2xpc3QvYWRkYCxcblx0XHRcdGRlbDogYCR7cHJlZml4fS9ibGFja2xpc3QvZGVsYCxcblx0XHR9XG5cdH0sXG5cdGxvYW46IHtcblx0XHRnZXQ6IGAke3ByZWZpeH0vbG9hbl9kZWNpc2lvbi9nZXRfcmVzdWx0YCxcblx0XHRzZXQ6IGAke3ByZWZpeH0vbG9hbl9kZWNpc2lvbi9zZXRfcmVzdWx0YFxuXHR9LFxuXHRhdXRoOiB7XG5cdFx0Z2V0OiBgJHtwcmVmaXh9L2F1dGgvcm9sZV9saXN0YFxuXHR9XG59XG5cbmV4cG9ydCBkZWZhdWx0IGFwaTsiLCJpbXBvcnQgaHR0cEludGVyY2VwdG9yICAgICAgIGZyb20gJy4vc2VydmljZXMvaHR0cC5pbnRlcmNlcHRvcic7XG5cbi8vIGltcG9ydCB7QWxhcm1MaXN0Q29udHJvbGxlciwgQWxhcm1EZXZpY2VDb250cm9sbGVyfSBmcm9tICcuLy4uL21vZHVsZXMvYWxhcm0vaW5kZXgnO1xuXG5mdW5jdGlvbiBjb3JlQ29uZmlnKCRzdGF0ZVByb3ZpZGVyLCAkbG9jYXRpb25Qcm92aWRlciwgJHVybFJvdXRlclByb3ZpZGVyLCAkY29tcGlsZVByb3ZpZGVyLCAkaHR0cFByb3ZpZGVyKSB7XG4gICduZ0luamVjdCc7XG5cbiAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSAncHJvZHVjdGlvbicpIHtcbiAgICAkY29tcGlsZVByb3ZpZGVyLmRlYnVnSW5mb0VuYWJsZWQoZmFsc2UpO1xuICB9XG5cbiAgLy8gJGxvY2F0aW9uUHJvdmlkZXIuaHRtbDVNb2RlKHRydWUpO1xuXG4gICRzdGF0ZVByb3ZpZGVyXG4gICAgLnN0YXRlKCdkYXNoYm9hcmQnLCB7XG4gICAgICAgIHVybDogJy8nLFxuICAgICAgICB0ZW1wbGF0ZTogJzxkYXNoYm9hcmQ+PC9kYXNoYm9hcmQ+JyxcbiAgICAgICAgdGl0bGU6ICfnpL7ljLrkuLvpobUnLFxuICAgICAgICBzaWRlYmFyTWV0YToge1xuICAgICAgICAgIGljb246ICdpY29uLXNpZGViYXJfaG9tZV9pYycsXG4gICAgICAgICAgb3JkZXI6IDFcbiAgICAgICAgfVxuICAgIH0pO1xuXG4gICR1cmxSb3V0ZXJQcm92aWRlci5vdGhlcndpc2UoJy8nKTtcblxuXG4gIC8vIGh0dHAgaW50ZXJjZXB0b3JcbiAgLy9cbiAgLy8gRm9yIHB1cnBvc2VzIG9mIGdsb2JhbCBlcnJvciBoYW5kbGluZywgYXV0aGVudGljYXRpb24sXG4gIC8vIG9yIGFueSBraW5kIG9mIHN5bmNocm9ub3VzIG9yIGFzeW5jaHJvbm91cyBwcmUtcHJvY2Vzc2luZyBvZiByZXF1ZXN0IG9yIHBvc3Rwcm9jZXNzaW5nIG9mIHJlc3BvbnNlc1xuICAkaHR0cFByb3ZpZGVyLmludGVyY2VwdG9ycy5wdXNoKGh0dHBJbnRlcmNlcHRvcik7XG5cbn1cblxuZXhwb3J0IGRlZmF1bHQgY29yZUNvbmZpZztcbiIsImZ1bmN0aW9uIGNvbmZpZ1Byb3ZpZGVyKCkge1xuICAnbmdJbmplY3QnO1xuXG4gIHZhciBjb25mID0ge1xuICAgIHRoZW1lOiB7XG4gICAgICBibHVyOiBmYWxzZVxuICAgIH1cbiAgfTtcblxuICBjb25mLmNoYW5nZVRoZW1lID0gZnVuY3Rpb24odGhlbWUpIHtcbiAgICBhbmd1bGFyLm1lcmdlKGNvbmYudGhlbWUsIHRoZW1lKVxuICB9O1xuXG4gIGNvbmYuJGdldCA9IGZ1bmN0aW9uICgpIHtcbiAgICBkZWxldGUgY29uZi4kZ2V0O1xuICAgIHJldHVybiBjb25mO1xuICB9O1xuICByZXR1cm4gY29uZjtcbn1cblxuZXhwb3J0IGRlZmF1bHQgY29uZmlnUHJvdmlkZXI7XG4iLCJpbXBvcnQgXyBmcm9tICd1bmRlcnNjb3JlJztcblxuY29uc3QgY29yZUNvbnN0YW50cyA9IHtcbiAgYXBwVGl0bGU6ICfnrqHnkIblkI7lj7AnLFxuICBhcGlVcmw6ICcvYXBpL3YxJyxcbiAgZXJyb3JJbmZvOiB7XG4gICAgMDogJ+ivt+axguaIkOWKnycsXG4gICAgNDAwOiAn6K+35rGC5pyJ6K+vJyxcbiAgICA0MDE6ICfor7fmsYLmnInor68nLFxuICAgIDQwMjogJ+aXoOeZu+W9leS/oeaBrycsXG4gICAgNDAzOiAn5Y+C5pWw5LiN5YWoJyxcbiAgICA0MDQ6ICflj4LmlbDmoLzlvI/mnInor68nLFxuICAgIDQwNTogJ+aXoOeZu+W9leS/oeaBrycsXG4gICAgNDA2OiAn5peg55m75b2V5L+h5oGvJyxcbiAgICA0MDc6ICfmsqHmnInmnYPpmZAnLFxuICAgIDUwMDogJ+acjeWKoeWZqOmUmeivr++8jOivt+mHjeivlScsXG4gICAgNTAxOiAn5pyN5Yqh5Zmo6ZSZ6K+vJ1xuICB9LFxuICBkYXRlOiB7XG4gICAgd2Vla3MgOiBbJ+WRqOaXpScsICflkajkuIAnLCAn5ZGo5LqMJywgJ+WRqOS4iScsICflkajlm5snLCAn5ZGo5LqUJywgJ+WRqOWFrSddLFxuICAgIG1vbnRocyA6IF8ucmFuZ2UoMSwgMzIpIC8vIDEtMzHlj7dcbiAgfSxcblxuICBhY2Nlc3NLZXk6ICdyb2xlLmFjY2VzcycsXG4gIHJvbGVMaXN0S2V5OiAncm9sZS5saXN0JyxcbiAgXG4gIC8vYWxhcm1UeXBlTGlzdDogd2luZG93LnBhZ2VDb25mLmFsYXJtVHlwZUxpc3QsXG4gIGNyb3BPcHRpb25zOiB7XG4gICAgbWluQ29udGFpbmVyV2lkdGg6IDE0MFxuICB9LFxuICByb2xlQ29uZmlnOiBbXG4gICAgeyByb2xlX2NvbmZpZ19pZDogMSwgcm9sZV9uYW1lOiAn6LaF57qn566h55CG5ZGYJ30sXG4gICAgLy8geyByb2xlX2NvbmZpZ19pZDogNiwgcm9sZV9uYW1lOiAn5oqk5belJ31cbiAgXSxcbiAgc3RhdHVzTGlzdDogW3t2YWx1ZTogMCwgbmFtZTogJ+W8gOWQryd9LCB7IHZhbHVlOiAxLCBuYW1lOiAn5YWz6ZetJ31dLFxuICBnZW5kZXJMaXN0OiBbe3ZhbHVlOiAxLCBuYW1lOiAn55S3J30sIHt2YWx1ZTogMiwgbmFtZTogJ+Wlsyd9XSxcbiAgcGFnaW5hdGlvbjogeyBwYWdlOiAxLCBwYWdlU2l6ZTogMTggfSwgLy8g6buY6K6k5YiG6aG1XG4gIG1vZGFsQW5pbWF0aW9uOiB0cnVlLFxufTtcblxuZXhwb3J0IGRlZmF1bHQgY29yZUNvbnN0YW50cztcbiIsImltcG9ydCBhbmd1bGFyIGZyb20gJ2FuZ3VsYXInO1xuaW1wb3J0ICdhbmd1bGFyLXVpLWJvb3RzdHJhcCc7XG5pbXBvcnQgJ2FuZ3VsYXItdWktcm91dGVyJztcblxuaW1wb3J0IGNvbnN0YW50cyAgICAgICAgIGZyb20gJy4vY29yZS5jb25zdGFudHMnO1xuaW1wb3J0IGNvbmZpZyAgICAgICAgICAgIGZyb20gJy4vY29yZS5jb25maWcnXG5pbXBvcnQgcnVuICAgICAgICAgICAgICAgZnJvbSAnLi9jb3JlLnJ1bic7XG5pbXBvcnQgY29uZmlnUHJvdmlkZXIgICAgZnJvbSAnLi9jb3JlLmNvbmZpZ1Byb3ZpZGVyJztcbmltcG9ydCBhcGlNYXBcdFx0XHRmcm9tICcuL2NvcmUuYXBpJztcblxuaW1wb3J0IGRpcmVjdGl2ZXNNb2R1bGUgIGZyb20gJy4vZGlyZWN0aXZlcy9kaXJlY3RpdmVzLm1vZHVsZSc7XG5pbXBvcnQgY29tcG9uZW50c01vZHVsZSAgZnJvbSAnLi9jb21wb25lbnRzL2NvbXBvbmVudHMubW9kdWxlJztcbmltcG9ydCBzZXJ2aWNlTW9kdWxlICAgICBmcm9tICcuL3NlcnZpY2VzL3NlcnZpY2UubW9kdWxlJztcbmltcG9ydCB2ZW5kb3JNb2R1bGUgICAgICBmcm9tICcuL3ZlbmRvci92ZW5kb3IubW9kdWxlJztcblxuXG5leHBvcnQgZGVmYXVsdCBhbmd1bGFyLm1vZHVsZSgnYXBwLmNvcmUnLCBbXG4gICd1aS5yb3V0ZXInLFxuICAndWkuYm9vdHN0cmFwJyxcblxuICBkaXJlY3RpdmVzTW9kdWxlLm5hbWUsXG4gIGNvbXBvbmVudHNNb2R1bGUubmFtZSxcbiAgc2VydmljZU1vZHVsZS5uYW1lLFxuICB2ZW5kb3JNb2R1bGUubmFtZVxuXSlcbi5jb25zdGFudCgnQXBwU2V0dGluZ3MnLCBjb25zdGFudHMpXG4uY29uc3RhbnQoJ0FwaU1hcCcsIGFwaU1hcClcbi5wcm92aWRlcignY29yZUNvbmZpZycsIGNvbmZpZ1Byb3ZpZGVyKVxuLmNvbmZpZyhjb25maWcpXG4ucnVuKHJ1bik7XG4iLCJmdW5jdGlvbiBjb3JlUnVuKCRyb290U2NvcGUsIEFwcFNldHRpbmdzLCAkbG9nLCAkc3RhdGUsICRzdGF0ZVBhcmFtcywgJGxvY2F0aW9uLCAkd2luZG93LCAkdGltZW91dCwgdG9hc3RyLCBQcm9maWxlU2VydmljZSkge1xuICAnbmdJbmplY3QnO1xuXG4gIC8vIOaKiuW4uOeUqOeahOW3peWFt+aMgui9veWIsCRyb290U2NvcGXkuIosIOWcqOaJgOaciXNjb3Bl5LiK55u05o6l5Y+v55SoXG4gICRyb290U2NvcGUuJGxvZyA9ICRsb2c7XG4gICRyb290U2NvcGUuJHN0YXRlID0gJHN0YXRlO1xuICAkcm9vdFNjb3BlLiRzdGF0ZVBhcmFtcyA9ICRzdGF0ZVBhcmFtcztcbiAgJHJvb3RTY29wZS4kbG9jYXRpb24gPSAkbG9jYXRpb247XG5cbiAgY29uc3QgYWNjZXNzID0gUHJvZmlsZVNlcnZpY2UuYWNjZXNzO1xuXG4gIC8vIOaJgOacieS6uumDveiDveiuv+mXrueahOeZveWQjeWNleWIl+ihqFxuICBjb25zdCB3aGl0ZUxpc3QgPSBbXG4gICAgJ2Rhc2hib2FyZCdcbiAgXTtcblxuICBjb25zdCB0b2tlbiA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdTSUxfVE9LRU4nKTtcbiAgY29uc3QgdWlkID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ1NJTF9VSUQnKTtcblxuICBpZighdG9rZW4gfHwgIXVpZCkge1xuICAgICR3aW5kb3cubG9jYXRpb24uaHJlZiA9ICcvbG9naW4uaHRtbCc7XG4gIH1cblxuICAvLyAkcm9vdFNjb3BlLiRvbignJHN0YXRlQ2hhbmdlU3RhcnQnLFxuICAvLyAgIChldmVudCwgdG9TdGF0ZSwgdG9QYXJhbXMsIGZyb21TdGF0ZSwgZnJvbVBhcmFtcykgPT4ge1xuICAvLyAgIGlmIChhY2Nlc3NbdG9TdGF0ZS5uYW1lXSB8fCB3aGl0ZUxpc3QuaW5kZXhPZih0b1N0YXRlLm5hbWUpID49IDAgKSB7XG4gIC8vICAgICByZXR1cm47XG4gIC8vICAgfVxuXG4gIC8vICAgdG9hc3RyLmVycm9yKCfpobXpnaLkuI3lrZjlnKjmiJbmsqHmnInmnYPpmZAnLCAnRm9yYmlkZGVuJyk7XG5cbiAgLy8gICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAvLyB9KTtcblxuXG4gIC8vIGNoYW5nZSBwYWdlIHRpdGxlIGJhc2VkIG9uIHN0YXRlXG4gICRyb290U2NvcGUuJG9uKCckc3RhdGVDaGFuZ2VTdWNjZXNzJywgKGV2ZW50LCB0b1N0YXRlKSA9PiB7XG4gICAgJHJvb3RTY29wZS5wYWdlVGl0bGUgPSAnJztcblxuICAgIGlmICh0b1N0YXRlLnRpdGxlKSB7XG4gICAgICAkcm9vdFNjb3BlLnBhZ2VUaXRsZSArPSB0b1N0YXRlLnRpdGxlO1xuICAgICAgJHJvb3RTY29wZS5wYWdlVGl0bGUgKz0gJyBcXHUyMDE0ICc7XG4gICAgfVxuXG4gICAgJHJvb3RTY29wZS5wYWdlVGl0bGUgKz0gQXBwU2V0dGluZ3MuYXBwVGl0bGU7XG5cbiAgICAvLyBoYWNrOiDov5vlhaXpobXpnaLml7bvvIxib2R55LiK5Lya6KKr5re75YqgbW9kYWwtb3Blbiwg5a+86Ie06aG16Z2i5peg5rOV5rua5Yqo77yI5YG25Y+R77yJXG4gICAgJHRpbWVvdXQoKCkgPT4ge1xuICAgICAgYW5ndWxhci5lbGVtZW50KCdib2R5JykuaGFzQ2xhc3MoJ21vZGFsLW9wZW4nKSAmJiBjb25zb2xlLndhcm4oJ21vZGFsLW9wZW4gY2xhc3Mgb24gYm9keSEnKTtcbiAgICAgIGFuZ3VsYXIuZWxlbWVudCgnYm9keScpLnJlbW92ZUNsYXNzKCdtb2RhbC1vcGVuJyk7XG4gICAgfSwgMzAwKTtcblxuICB9KTtcblxuICAvLyDlm57pgIDljoblj7JcbiAgJHJvb3RTY29wZS5iYWNrID0gKCkgPT4ge1xuICAgICR3aW5kb3cuaGlzdG9yeS5nbygtMSk7XG4gIH1cblxuICAvLyDlrqLmiLflpZfppJBcbiAgLy8gJHJvb3RTY29wZS5hY2Nlc3NDb250cm9sID0gQWNjZXNzQ29udHJvbFNlcnZpY2UuZ2V0Q29uZCgpO1xuXG59XG5cbmV4cG9ydCBkZWZhdWx0IGNvcmVSdW47XG4iLCJpbXBvcnQgYW5ndWxhciAgICAgICAgICAgICAgIGZyb20gJ2FuZ3VsYXInO1xuaW1wb3J0IERhdGVQaWNrZXJEaXJlY3RpdmUgICBmcm9tICcuL21jRGF0ZVBpY2tlci9kYXRlcGlja2VyJztcbmltcG9ydCB7bWNVcGxvYWRBdmF0YXJ9ICAgICAgZnJvbSAnLi9tY1VwbG9hZEF2YXRhci91cGxvYWQnO1xuaW1wb3J0IHttY1VwbG9hZEltYWdlfSAgZnJvbSAnLi9tY1VwbG9hZEltYWdlL3VwbG9hZCc7XG5cbmV4cG9ydCBkZWZhdWx0IGFuZ3VsYXIubW9kdWxlKCdhcHAuY29yZS5kaXJlY3RpdmVzJywgW10pXG4gIC5kaXJlY3RpdmUoJ21jRGF0ZXBpY2tlcicsIERhdGVQaWNrZXJEaXJlY3RpdmUpXG4gIC5kaXJlY3RpdmUoJ21jVXBsb2FkQXZhdGFyJywgbWNVcGxvYWRBdmF0YXIpXG4gIC5kaXJlY3RpdmUoJ21jVXBsb2FkSW1hZ2UnLCBtY1VwbG9hZEltYWdlKVxuIiwiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gRGF0ZVBpY2tlckRpcmVjdGl2ZSgkdGltZW91dCkge1xuICAnbmdJbmplY3QnO1xuXG4gIHJldHVybiB7XG4gICAgICAgIHJlc3RyaWN0OiAnRUEnLFxuICAgICAgICB0ZW1wbGF0ZVVybDogJ2NvcmUvZGlyZWN0aXZlcy9tY0RhdGVQaWNrZXIvZGF0ZXBpY2tlci5odG1sJyxcbiAgICAgICAgcmVwbGFjZTogdHJ1ZSxcbiAgICAgICAgc2NvcGU6IHtcbiAgICAgICAgICAgIGlkOiAnQCcsXG4gICAgICAgICAgICBzdGFydERhdGU6ICc9JyxcbiAgICAgICAgICAgIG1pbkRhdGU6ICc9JyxcbiAgICAgICAgICAgIG1heERhdGU6ICc9JyxcbiAgICAgICAgICAgIG1pblZpZXc6ICc9JyxcbiAgICAgICAgICAgIHZpZXc6ICc9JyxcbiAgICAgICAgICAgIGNoYW5nZUJ5OiAnPScsXG4gICAgICAgICAgICBjaGFuZ2VUaW1lOiAnJidcbiAgICAgICAgfSxcbiAgICAgICAgbGluazogKHNjb3BlLCBlbGVtLCBhdHRycykgPT4ge1xuICAgICAgICAgICAgbGV0IHNvdXJjZSA9IGF0dHJzLnRpbWVTb3VyY2UsXG4gICAgICAgICAgICAgICAgY3RybEFsaWFzID0gYXR0cnMuY3RybEFsaWFzLFxuICAgICAgICAgICAgICAgIGlzQ2xvc2VkID0gZmFsc2U7XG5cbiAgICAgICAgICAgIHNjb3BlLnNob3dEYXRlUGlja2VyID0gKGUpID0+IHtcbiAgICAgICAgICAgICAgICBsZXQgdGFyZ2V0ID0gZS5jdXJyZW50VGFyZ2V0O1xuICAgICAgICAgICAgICAgIGlmICh0YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKCdvcGVuJykpIHtcbiAgICAgICAgICAgICAgICAgICAgc2NvcGUuaGlkZURhdGVQaWNrZXIoZSk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdGFyZ2V0LmNsYXNzTGlzdC5hZGQoJ29wZW4nKTtcbiAgICAgICAgICAgICAgICAgICAgLy8gdGFyZ2V0LmNoaWxkcmVuKCdkaXYnKS5jaGlsZHJlbigpLnJlbW92ZUNsYXNzKCdoaWRkZW4nKTtcbiAgICAgICAgICAgICAgICAgICAgbGV0IGNoaWxkcmVuID0gdGFyZ2V0LmNoaWxkcmVuO1xuICAgICAgICAgICAgICAgICAgICBsZXQgY2hpbGQsIGdyYW5kU29uO1xuXG4gICAgICAgICAgICAgICAgICAgIGZvcihsZXQgaSA9IDAsIGxlbiA9IGNoaWxkcmVuLmxlbmd0aDsgaSA8IGxlbjsgaSsrKXtcbiAgICAgICAgICAgICAgICAgICAgICBpZihjaGlsZHJlbltpXSAmJiBjaGlsZHJlbltpXS50YWdOYW1lLnRvVXBwZXJDYXNlKCkgPT0gJ0RJVicpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNoaWxkID0gY2hpbGRyZW5baV07XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuXG5cbiAgICAgICAgICAgICAgICAgICAgZ3JhbmRTb24gPSBjaGlsZC5jaGlsZHJlbjtcblxuICAgICAgICAgICAgICAgICAgICBmb3IobGV0IGkgPSAwLCBsZW4gPSBncmFuZFNvbi5sZW5ndGg7IGkgPCBsZW47IGkrKyl7XG4gICAgICAgICAgICAgICAgICAgICAgZ3JhbmRTb25baV0uY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuXG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgaXNDbG9zZWQgPSBmYWxzZTtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBzY29wZS5oaWRlRGF0ZVBpY2tlciA9IChlKSA9PiB7XG4gICAgICAgICAgICAgIGlzQ2xvc2VkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgaWYoZWxlbS5sZW5ndGgpe1xuICAgICAgICAgICAgICAgIGZvcihsZXQgaSA9IDAsIGxlbiA9IGVsZW0ubGVuZ3RoOyBpIDwgbGVuOyBpKyspe1xuICAgICAgICAgICAgICAgICAgZWxlbVtpXS5jbGFzc0xpc3QucmVtb3ZlKCdvcGVuJyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGVsZW0uY2xhc3NMaXN0LnJlbW92ZSgnb3BlbicpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgc2NvcGUubW91c2VMZWF2ZSA9IChlKSA9PiB7XG4gICAgICAgICAgICAgICAgc2NvcGUuaGlkZURhdGVQaWNrZXIoZSk7XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICBsZXQgdW5iaW5kSGlkZVBpY2tlciA9IHNjb3BlLiRvbignaGlkZVBpY2tlcicsIHNjb3BlLmhpZGVEYXRlUGlja2VyKTtcbiAgICAgICAgICAgIHNjb3BlLiRvbignJGRlc3Ryb3knLCB1bmJpbmRIaWRlUGlja2VyKTtcblxuICAgICAgICAgICAgc2NvcGUuJHdhdGNoKCdzdGFydERhdGUnLCAoKSA9PiB7XG5cbiAgICAgICAgICAgICAgICAvLyDln7rkuo5zY29wZS4kcGFyZW50LiRjdHJsXG4gICAgICAgICAgICAgICAgLy8g5q2k5aSE5qC55o2u5piv5ZCm5pyJ5omL5Yqo5Lyg5YWldGltZS1zb3VyY2Us5p2l5Yqo5oCB5oyH5a6a5pe26Ze05Y+Y6YePXG4gICAgICAgICAgICAgICAgLy8g6buY6K6k6K6+572uc3RhcnREYXRlXG4gICAgICAgICAgICAgICAgaWYoIHNvdXJjZSApe1xuICAgICAgICAgICAgICAgICAgICBsZXQgdGltZVZhciA9IGdldFNvdXJjZSgpO1xuICAgICAgICAgICAgICAgICAgICB0aW1lVmFyID0gc2NvcGUuc3RhcnREYXRlO1xuICAgICAgICAgICAgICAgIH1lbHNle1xuICAgICAgICAgICAgICAgICAgICBzY29wZS4kcGFyZW50W2N0cmxBbGlhcyA/IGN0cmxBbGlhcyA6ICckY3RybCddLnN0YXJ0RGF0ZSA9IHNjb3BlLnN0YXJ0RGF0ZTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAvLyBUT0RPOiBjaGFuZ2VPbkluaXQ6IOaYr+WQpuWcqOmhtemdouWIneWni+WMluaXtuinpuWPkVxuXG4gICAgICAgICAgICAgICAgLy8gY2hhbmdlQnk6ICdjbG9zZScsIOWmguaMh+WummNoYW5nZUJ5LCDliJnlj6rlnKjor6V0eXBl5Y+Y5YyW5pe25omN6Kem5Y+R5LqL5Lu2XG4gICAgICAgICAgICAgICAgaWYoYXR0cnMuY2hhbmdlQnkpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYoYXR0cnMuY2hhbmdlQnkgPT09ICdjbG9zZScgJiYgaXNDbG9zZWQpIHsgLy8g5b2T6Z2i5p2/5YWz6Zet5pe25omN6Kem5Y+R5LqL5Lu2XG4gICAgICAgICAgICAgICAgICAgICAgICAkdGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2NvcGUuY2hhbmdlVGltZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSwgMCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9ZWxzZXtcbiAgICAgICAgICAgICAgICAgICAgJHRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgc2NvcGUuY2hhbmdlVGltZSgpO1xuICAgICAgICAgICAgICAgICAgICB9LDApO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIGZ1bmN0aW9uIGdldFNvdXJjZSgpe1xuICAgICAgICAgICAgICAgIGxldCBhcnIgPSBzb3VyY2Uuc3BsaXQoJy4nKSxcbiAgICAgICAgICAgICAgICAgICAgb2JqID0gc2NvcGUuJHBhcmVudFtjdHJsQWxpYXMgPyBjdHJsQWxpYXMgOiAnJGN0cmwnXTtcblxuICAgICAgICAgICAgICAgIGZvciggbGV0IGkgPSAwICwgbCA9IGFyci5sZW5ndGggOyBpIDwgbCA7IGkrKyApe1xuICAgICAgICAgICAgICAgICAgICBvYmogPSBvYmpbIGFycltpXSBdO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gb2JqO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvL+iOt+WPlnBhcmVudEN0cmzml7bpl7TngrlcbiAgICAgICAgICAgIGxldCB1bmJpbmRUb0NoaWxkID0gc2NvcGUuJG9uKCd0by1jaGlsZCcsKCkgPT4ge1xuICAgICAgICAgICAgICAgIC8vYXJndW1lbnRzWzFdIGV4YW1wbGU6IDIwMTUtMDEtMTVcbiAgICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZyggYXJndW1lbnRzICk7XG4gICAgICAgICAgICAgICAgc2NvcGUuc3RhcnREYXRlID0gYXJndW1lbnRzWzFdO1xuICAgICAgICAgICAgICAgIHNjb3BlLm1pbkRhdGUgPSBhcmd1bWVudHNbMl07XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHNjb3BlLiRvbignJGRlc3Ryb3knLCB1bmJpbmRUb0NoaWxkKTtcblxuICAgICAgICB9XG4gICAgfTtcbn07XG4iLCJpbXBvcnQgYW5ndWxhciBmcm9tICdhbmd1bGFyJztcblxuY2xhc3MgZWRpdEF2YXRhckN0cmwge1xuICBjb25zdHJ1Y3RvciAoJHNjb3BlLCAkdGltZW91dCwgQ3JvcHBlciwgQXBwU2V0dGluZ3MpIHtcbiAgICAnbmdJbmplY3QnO1xuXG4gICAgdGhpcy5fc2NvcGUgPSAkc2NvcGU7XG4gICAgdGhpcy5fdGltZW91dCA9ICR0aW1lb3V0O1xuICAgIHRoaXMuX0Nyb3BwZXIgPSBDcm9wcGVyO1xuXG5cbiAgICBsZXQgb3B0aW9ucyA9IGFuZ3VsYXIubWVyZ2Uoe30sIHtcbiAgICAgICAgbWF4aW1pemU6IHRydWUsXG4gICAgICAgIHByZXZpZXc6ICcucHJldmlldy1hdmF0YXIgZGl2JyxcbiAgICAgICAgLy8gcmVzcG9uc2l2ZTogZmFsc2UsXG4gICAgICAgIGFzcGVjdFJhdGlvOiAxIC8gMSxcbiAgICAgICAgY3JvcDogZGF0YU5ldyA9PiB7XG4gICAgICAgICAgZGF0YU5ldy54ID0gZGF0YU5ldy54IDwgMCA/IDAgOiBkYXRhTmV3Lng7XG4gICAgICAgICAgZGF0YU5ldy55ID0gZGF0YU5ldy55IDwgMCA/IDAgOiBkYXRhTmV3Lnk7XG5cbiAgICAgICAgICB0aGlzLl90aW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgIHRoaXMuX3Njb3BlLmRhdGEgPSBkYXRhTmV3O1xuICAgICAgICAgIH0pO1xuICAgICAgICAgIC8vIGNvbnNvbGUubG9nKCRzY29wZS5kYXRhKTtcbiAgICAgICAgfVxuICAgICAgfSwgQXBwU2V0dGluZ3MuY3JvcE9wdGlvbnMsIHRoaXMuX3Njb3BlLmNyb3BPcHRpb25zKTtcblxuICAgIGFuZ3VsYXIuZXh0ZW5kKCRzY29wZSwge1xuICAgICAgICBwcm9wb3J0aW9uOiAxNDAvMTgwLFxuICAgICAgICBvbkZpbGU6IHRoaXMub25GaWxlLmJpbmQodGhpcyksXG4gICAgICAgIHByZXZpZXc6IHt9LFxuICAgICAgICBjcm9wcGVyOiB7fSxcbiAgICAgICAgY3JvcHBlclByb3h5OiAnY3JvcHBlci5maXJzdCcsXG4gICAgICAgIGZpbGU6ICcnLFxuICAgICAgICBkYXRhOiAnJyxcbiAgICAgICAgc2hvd0V2ZW50OiAnc2hvdycsXG4gICAgICAgIGhpZGVFdmVudDogJ2hpZGUnLFxuICAgICAgICBvcHRpb25zOiBvcHRpb25zXG4gICAgfSk7XG4gICAgLy8gdGhpcy5fRHJvcHpvbmUgPSBEcm9wem9uZTtcbiAgfVxuXG4gICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tIG1ldGhvZCAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbiAgY2xvc2UoKXtcbiAgICAgIC8vICRtb2RhbEluc3RhbmNlLmNsb3NlKCk7XG4gIH1cblxuICBzZWxlY3RGaWxlKCl7XG4gICAgICBsZXQgZm9ybSA9IGFuZ3VsYXIuZWxlbWVudCgnLmRyb3B6b25lJyk7XG4gICAgICB0aGlzLnJlc2V0U2VsZWN0KCBmb3JtICk7XG4gICAgICBmb3JtLnRyaWdnZXIoJ2NsaWNrJyk7XG4gIH1cblxuICByZXNldFNlbGVjdCggZm9ybSApe1xuICAgICAgZm9ybS5zY29wZSgpLmRyb3B6b25lLnJlbW92ZUFsbEZpbGVzKCk7XG4gIH1cblxuICAvKipcbiAgICogTWV0aG9kIGlzIGNhbGxlZCBldmVyeSB0aW1lIGZpbGUgaW5wdXQncyB2YWx1ZSBjaGFuZ2VzLlxuICAgKiBCZWNhdXNlIG9mIEFuZ3VsYXIgaGFzIG5vdCBuZy1jaGFuZ2UgZm9yIGZpbGUgaW5wdXRzIGEgaGFjayBpcyBuZWVkZWQgLVxuICAgKiBjYWxsIGBhbmd1bGFyLmVsZW1lbnQodGhpcykuc2NvcGUoKS5vbkZpbGUodGhpcy5maWxlc1swXSlgXG4gICAqIHdoZW4gaW5wdXQncyBldmVudCBpcyBmaXJlZC5cbiAgICovXG4gIG9uRmlsZShibG9iKSB7XG4gICAgdGhpcy5fQ3JvcHBlci5lbmNvZGUoKHRoaXMuX3Njb3BlLmZpbGUgPSBibG9iKSkudGhlbihkYXRhVXJsID0+IHtcbiAgICAgIHRoaXMuX3Njb3BlLmRhdGFVcmwgPSBkYXRhVXJsO1xuICAgICAgKHRoaXMuX3Njb3BlLnByZXZpZXcgfHwgKHRoaXMuX3Njb3BlLnByZXZpZXcgPSB7fSkpLmRhdGFVcmwgPSBkYXRhVXJsO1xuICAgICAgdGhpcy5fdGltZW91dCh0aGlzLnNob3dDcm9wcGVyLmJpbmQodGhpcykpOyAgLy8gd2FpdCBmb3IgJGRpZ2VzdCB0byBzZXQgaW1hZ2UncyBzcmNcbiAgICAgIHRoaXMuX3RpbWVvdXQodGhpcy5oaWRlQ3JvcHBlci5iaW5kKHRoaXMpKTtcbiAgICB9KTtcbiAgfTtcblxuXG4gIC8qKlxuICAgKiBTaG93aW5nIChpbml0aWFsaXppbmcpIGFuZCBoaWRpbmcgKGRlc3Ryb3lpbmcpIG9mIGEgY3JvcHBlciBhcmUgc3RhcnRlZCBieVxuICAgKiBldmVudHMuIFRoZSBzY29wZSBvZiB0aGUgYG5nLWNyb3BwZXJgIGRpcmVjdGl2ZSBpcyBkZXJpdmVkIGZyb20gdGhlIHNjb3BlIG9mXG4gICAqIHRoZSBjb250cm9sbGVyLiBXaGVuIGluaXRpYWxpemluZyB0aGUgYG5nLWNyb3BwZXJgIGRpcmVjdGl2ZSBhZGRzIHR3byBoYW5kbGVyc1xuICAgKiBsaXN0ZW5pbmcgdG8gZXZlbnRzIHBhc3NlZCBieSBgbmctY3JvcHBlci1zaG93YCAmIGBuZy1jcm9wcGVyLWhpZGVgIGF0dHJpYnV0ZXMuXG4gICAqIFRvIHNob3cgb3IgaGlkZSBhIGNyb3BwZXIgYCRicm9hZGNhc3RgIGEgcHJvcGVyIGV2ZW50LlxuICAgKi9cbiAgc2hvd0Nyb3BwZXIoKSB7XG4gICB0aGlzLl9zY29wZS4kYnJvYWRjYXN0KHRoaXMuX3Njb3BlLnNob3dFdmVudCk7XG4gIH1cbiAgaGlkZUNyb3BwZXIoKSB7XG4gICB0aGlzLl9zY29wZS4kYnJvYWRjYXN0KHRoaXMuX3Njb3BlLmhpZGVFdmVudCk7XG4gIH1cblxufVxuXG5leHBvcnQgZGVmYXVsdCBlZGl0QXZhdGFyQ3RybDtcbiIsImltcG9ydCAkIGZyb20gJ2pxdWVyeSc7XG5cbmltcG9ydCBlZGl0QXZhdGFyQ3RybCBmcm9tICcuL2N0cmwnO1xuLy8gaW1wb3J0IERyb3B6b25lIGZyb20gJ2Ryb3B6b25lJztcblxuLyoqXG4gKiBAbmdJbmplY3RcbiAqIEBkZXNjcmlwdGlvbiDkuIrkvKDlpLTlg49cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIG1jVXBsb2FkQXZhdGFyKCRsb2NhdGlvbiwgJHJvb3RTY29wZSwgJHRpbWVvdXQsIHRvYXN0ciwgQ3JvcHBlcikge1xuICAgIHJldHVybiB7XG4gICAgICAgIHJlc3RyaWN0OiAnRUEnLFxuICAgICAgICB0ZW1wbGF0ZVVybDogJ2NvcmUvZGlyZWN0aXZlcy9tY1VwbG9hZEF2YXRhci91cGxvYWQuaHRtbCcsXG4gICAgICAgIHJlcGxhY2U6IHRydWUsXG4gICAgICAgIGNvbnRyb2xsZXI6IGVkaXRBdmF0YXJDdHJsLFxuICAgICAgICBjb250cm9sbGVyQXM6ICdhdmF0YXJWbScsXG4gICAgICAgIHNjb3BlOiB7XG4gICAgICAgICAgICB1cmw6ICc9cG9zdFVybCcsXG4gICAgICAgICAgICBwYXJhbXM6ICc9aW1nUGFyYW1zJyxcbiAgICAgICAgICAgIGltZ05hbWU6ICc9aW1nTmFtZScsXG4gICAgICAgICAgICBjcm9wT3B0aW9uczogJz0nLFxuICAgICAgICAgICAgaW1nVXJsOiAnPScsXG4gICAgICAgICAgICBpc0VkaXRpbmc6ICc9JyxcbiAgICAgICAgICAgIHN1Y2Nlc3M6ICcmJyxcbiAgICAgICAgICAgIGVycm9yOiAnJicsXG4gICAgICAgICAgICBleHBvc2VTY29wZTogJyYnXG4gICAgICAgIH0sXG4gICAgICAgIGNvbXBpbGU6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgcHJlOiBmdW5jdGlvbiAoc2NvcGUsIGVsZW0pIHtcbiAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHNjb3BlLmlzRWRpdGluZylcblxuICAgICAgICAgICAgICAgICAgICBEcm9wem9uZS5hdXRvRGlzY292ZXIgPSBmYWxzZTtcblxuICAgICAgICAgICAgICAgICAgICBzY29wZS50aHVtYlN0YXJ0ID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIHNjb3BlLmJhclR5cGUgPSBcInN1Y2Nlc3NcIjtcbiAgICAgICAgICAgICAgICAgICAgc2NvcGUucGVuc2lvbkluZm8gPSB3aW5kb3cucGFnZUNvbmYucGVuc2lvbkluZm87XG5cbiAgICAgICAgICAgICAgICAgICAgc2NvcGUuc2F2ZWRBdmF0YXIgPSAgKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGRyb3B6b25lID0gYW5ndWxhci5lbGVtZW50KCcuZHJvcHpvbmUnKS5zY29wZSgpLmRyb3B6b25lLnByb2Nlc3NRdWV1ZSgpO1xuICAgICAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgICAgIHNjb3BlLnJlc2V0VXBsb2FkID0gKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgc2NvcGUudXBsb2FkZWQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNjb3BlLmR5bmFtaWMgPSAwO1xuICAgICAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgICAgIHNjb3BlLmRyb3B6b25lQ29uZmlnID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgcGFyYW1OYW1lOiBzY29wZS5pbWdOYW1lIHx8ICdpbWFnZXMnLFxuICAgICAgICAgICAgICAgICAgICAgICAgaGVhZGVyczoge2F1dGhvcml6YXRpb246ICRyb290U2NvcGUuQVVUSE9SSVpBVElPTl9UT0tFTn0sXG4gICAgICAgICAgICAgICAgICAgICAgICB1cmw6IHNjb3BlLnVybCxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1ldGhvZDogJ3Bvc3QnLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWF4RmlsZXNpemU6IDIsXG4gICAgICAgICAgICAgICAgICAgICAgICBtYXhGaWxlczogMSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGRpY3RGaWxlVG9vQmlnOiAn5paH5Lu25aSn5bCP5LiN6IO96LaF6L+HMk0nLFxuICAgICAgICAgICAgICAgICAgICAgICAgdXBsb2FkTXVsdGlwbGU6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgYXV0b1Byb2Nlc3NRdWV1ZTogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgICAgICBhY2NlcHRlZEZpbGVzOiAnaW1hZ2UvKicsXG4gICAgICAgICAgICAgICAgICAgICAgICBhZGRlZGZpbGU6IGZpbGUgPT4ge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8g5YWI5LiK5LygXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gaWYoICFmaWxlICkgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHZhciBjU2l6ZSA9IGZpbGUuc2l6ZSAvIDEwMjQgLyAxMDI0O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGlmKCBjU2l6ZSA+IHRoaXMub3B0aW9ucy5tYXhGaWxlc2l6ZSApe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgICB2YXIgZXJyb3JfbXNnID0gXCLlm77niYflpKflsI/kuI3og73otoXov4c1TeWZon5cIjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAgICAgdG9hc3RyLmVycm9yKCBlcnJvcl9tc2cgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyB9O1xuXG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzY29wZS5yZXNldFVwbG9hZCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFuZ3VsYXIuZWxlbWVudCgnI0pTX2F2YXRhcl9pbnB1dCcpLnNjb3BlKCkub25GaWxlKGZpbGUpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2NvcGUuJGFwcGx5KCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNjb3BlLmV4cG9zZVNjb3BlKHtzY29wZX0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gdXBsb2FkcHJvZ3Jlc3M6IGZ1bmN0aW9uIChmaWxlLCBwcm9ncmVzcykge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyAgICAgc2NvcGUuJGFwcGx5KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgICAgICAgc2NvcGUuZHluYW1pYyA9IHByb2dyZXNzO1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gZXJyb3I6IGZ1bmN0aW9uIChmaWxlLCBlcnJvck1lc3NhZ2UpIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgIHNjb3BlLiRwYXJlbnQuaXNDcm9wID0gZmFsc2U7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgICB0aGlzLnJlbW92ZUZpbGUoZmlsZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyAgICAgc2NvcGUuJGFwcGx5KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgICAgICAgc2NvcGUuZXJyb3IoZmlsZSwgZXJyb3JNZXNzYWdlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgICAgICAgdG9hc3RyLmVycm9yKGVycm9yTWVzc2FnZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyB9LFxuXG4gICAgICAgICAgICAgICAgICAgICAgICB1cGxvYWRwcm9ncmVzczogKGZpbGUsIHByb2dyZXNzKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2NvcGUuaW1nVXBsb2FkbmcgPSB0cnVlO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2NvcGUuJGFwcGx5KCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2NvcGUudGh1bWJTdGFydCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzY29wZS5keW5hbWljID0gcHJvZ3Jlc3M7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgZXJyb3I6IGZ1bmN0aW9uKGZpbGUsIGVycm9yTWVzc2FnZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNjb3BlLmltZ1VwbG9hZG5nID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5yZW1vdmVGaWxlKGZpbGUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNjb3BlLiRhcHBseSgoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNjb3BlLnRodW1iU3RhcnQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2NvcGUuZXJyb3IoZmlsZSwgZXJyb3JNZXNzYWdlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9hc3RyLmVycm9yKGVycm9yTWVzc2FnZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgc3VjY2VzczogZnVuY3Rpb24oZmlsZSwgZGF0YSkge1xuXG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnJlbW92ZUZpbGUoZmlsZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2NvcGUuJGFwcGx5KCAoKSA9PiB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNjb3BlLnRodW1iU3RhcnQgPSBmYWxzZTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYoIGRhdGEuc3RhdHVzID09IDAgKXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzY29wZS51cGxvYWRlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2NvcGUuc3VjY2Vzcyh7ZmlsZTogZmlsZSwgZGF0YTogZGF0YSwgc2NvcGU6IHNjb3BlfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gaW5zdGFjZS5jbG9zZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfWVsc2V7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9hc3RyLmVycm9yKGRhdGEuaW5mbywgJ+mUmeivrycpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNjb3BlLnJlc2V0VXBsb2FkKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBpZiggZGF0YS5zdGF0dXMgPT0gMCApe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAgICAgc2NvcGUudXBsb2FkZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAgICAgc2NvcGUuc3VjY2Vzcyh7ZmlsZTogZmlsZSwgZGF0YTogZGF0YSwgc2NvcGU6IHNjb3BlfSk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgIHNjb3BlLiRwYXJlbnQuaXNDcm9wID0gdHJ1ZTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAgICAgLy8g5Zu+54mH6KOB5YmqXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgICBzY29wZS5yZXNldFVwbG9hZCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAgICAgYW5ndWxhci5lbGVtZW50KCcjSlNfYXZhdGFyX2lucHV0Jykuc2NvcGUoKS5vbkZpbGUoZmlsZSk7XG5cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyB9ZWxzZXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgIHRvYXN0ci5lcnJvcihkYXRhLmluZm8sICfplJnor68nKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgIHNjb3BlLnJlc2V0VXBsb2FkKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgICBzY29wZS4kcGFyZW50LmlzQ3JvcCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG5cbn1cblxuIiwiaW1wb3J0ICQgZnJvbSAnanF1ZXJ5JztcblxuaW1wb3J0IGVkaXRBdmF0YXJDdHJsIGZyb20gJy4vY3RybCc7XG4vLyBpbXBvcnQgRHJvcHpvbmUgZnJvbSAnZHJvcHpvbmUnO1xuXG4vKipcbiAqIEBuZ0luamVjdFxuICogQGRlc2NyaXB0aW9uIOS4iuS8oOWktOWDj1xuICovXG5leHBvcnQgZnVuY3Rpb24gbWNVcGxvYWRJbWFnZSgkbG9jYXRpb24sICRyb290U2NvcGUsICR0aW1lb3V0LCB0b2FzdHIsIENyb3BwZXIpIHtcbiAgICByZXR1cm4ge1xuICAgICAgICByZXN0cmljdDogJ0VBJyxcbiAgICAgICAgdGVtcGxhdGVVcmw6ICdjb3JlL2RpcmVjdGl2ZXMvbWNVcGxvYWRJbWFnZS91cGxvYWQuaHRtbCcsXG4gICAgICAgIHJlcGxhY2U6IHRydWUsXG4gICAgICAgIGNvbnRyb2xsZXI6IGVkaXRBdmF0YXJDdHJsLFxuICAgICAgICBjb250cm9sbGVyQXM6ICdhdmF0YXJWbScsXG4gICAgICAgIHNjb3BlOiB7XG4gICAgICAgICAgICB1cmw6ICc9cG9zdFVybCcsXG4gICAgICAgICAgICBwYXJhbXM6ICc9aW1nUGFyYW1zJyxcbiAgICAgICAgICAgIGltZ05hbWU6ICc9aW1nTmFtZScsXG4gICAgICAgICAgICBjcm9wT3B0aW9uczogJz0nLFxuICAgICAgICAgICAgaW1nVXJsOiAnPScsXG4gICAgICAgICAgICBzdWNjZXNzOiAnJicsXG4gICAgICAgICAgICBlcnJvcjogJyYnLFxuICAgICAgICAgICAgZXhwb3NlU2NvcGU6ICcmJyxcbiAgICAgICAgICAgIGVkaXRpbmc6ICc9J1xuICAgICAgICB9LFxuICAgICAgICBjb21waWxlOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIHByZTogZnVuY3Rpb24gKHNjb3BlLCBlbGVtKSB7XG4gICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhzY29wZS5lZGl0aW5nKTtcblxuICAgICAgICAgICAgICAgICAgICBEcm9wem9uZS5hdXRvRGlzY292ZXIgPSBmYWxzZTtcblxuICAgICAgICAgICAgICAgICAgICBzY29wZS50aHVtYlN0YXJ0ID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIHNjb3BlLmJhclR5cGUgPSBcInN1Y2Nlc3NcIjtcbiAgICAgICAgICAgICAgICAgICAgc2NvcGUucGVuc2lvbkluZm8gPSB3aW5kb3cucGFnZUNvbmYucGVuc2lvbkluZm87XG5cbiAgICAgICAgICAgICAgICAgICAgc2NvcGUuc2F2ZWRBdmF0YXIgPSAgKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGRyb3B6b25lID0gYW5ndWxhci5lbGVtZW50KCcuZHJvcHpvbmUnKS5zY29wZSgpLmRyb3B6b25lLnByb2Nlc3NRdWV1ZSgpO1xuICAgICAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgICAgIHNjb3BlLnJlc2V0VXBsb2FkID0gKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgc2NvcGUudXBsb2FkZWQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNjb3BlLmR5bmFtaWMgPSAwO1xuICAgICAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgICAgIHNjb3BlLmRyb3B6b25lQ29uZmlnID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgcGFyYW1OYW1lOiBzY29wZS5pbWdOYW1lIHx8ICdpbWFnZXMnLFxuICAgICAgICAgICAgICAgICAgICAgICAgaGVhZGVyczoge2F1dGhvcml6YXRpb246ICRyb290U2NvcGUuQVVUSE9SSVpBVElPTl9UT0tFTn0sXG4gICAgICAgICAgICAgICAgICAgICAgICB1cmw6IHNjb3BlLnVybCxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1ldGhvZDogJ3Bvc3QnLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWF4RmlsZXNpemU6IDIsXG4gICAgICAgICAgICAgICAgICAgICAgICBtYXhGaWxlczogMSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGRpY3RGaWxlVG9vQmlnOiAn5paH5Lu25aSn5bCP5LiN6IO96LaF6L+HMk0nLFxuICAgICAgICAgICAgICAgICAgICAgICAgdXBsb2FkTXVsdGlwbGU6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgYXV0b1Byb2Nlc3NRdWV1ZTogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgICAgICBhY2NlcHRlZEZpbGVzOiAnaW1hZ2UvKicsXG4gICAgICAgICAgICAgICAgICAgICAgICBhZGRlZGZpbGU6IGZpbGUgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNjb3BlLnJlc2V0VXBsb2FkKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYW5ndWxhci5lbGVtZW50KCcjSlNfYXZhdGFyX2lucHV0Jykuc2NvcGUoKS5vbkZpbGUoZmlsZSk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzY29wZS4kYXBwbHkoKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2NvcGUuZXhwb3NlU2NvcGUoe3Njb3BlfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICB1cGxvYWRwcm9ncmVzczogKGZpbGUsIHByb2dyZXNzKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2NvcGUuaW1nVXBsb2FkbmcgPSB0cnVlO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2NvcGUuJGFwcGx5KCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2NvcGUudGh1bWJTdGFydCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzY29wZS5keW5hbWljID0gcHJvZ3Jlc3M7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgZXJyb3I6IGZ1bmN0aW9uKGZpbGUsIGVycm9yTWVzc2FnZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNjb3BlLmltZ1VwbG9hZG5nID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5yZW1vdmVGaWxlKGZpbGUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNjb3BlLiRhcHBseSgoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNjb3BlLnRodW1iU3RhcnQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2NvcGUuZXJyb3IoZmlsZSwgZXJyb3JNZXNzYWdlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9hc3RyLmVycm9yKGVycm9yTWVzc2FnZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgc3VjY2VzczogZnVuY3Rpb24oZmlsZSwgZGF0YSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucmVtb3ZlRmlsZShmaWxlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzY29wZS4kYXBwbHkoICgpID0+IHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2NvcGUudGh1bWJTdGFydCA9IGZhbHNlO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiggZGF0YS5zdGF0dXMgPT0gMCApe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNjb3BlLnVwbG9hZGVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzY29wZS5zdWNjZXNzKHtmaWxlOiBmaWxlLCBkYXRhOiBkYXRhLCBzY29wZTogc2NvcGV9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBpbnN0YWNlLmNsb3NlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9ZWxzZXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b2FzdHIuZXJyb3IoZGF0YS5pbmZvLCAn6ZSZ6K+vJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2NvcGUucmVzZXRVcGxvYWQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcblxufVxuXG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBjaGVja1N0YXRlU2VydmljZSB7XG5cbiAgY29uc3RydWN0b3IoJHJvb3RTY29wZSwgJHN0YXRlLCBzd2VldCwgdXRpbFNlcnZpY2UpIHtcbiAgICAnbmdJbmplY3QnO1xuXG4gICAgdGhpcy5fcm9vdFNjb3BlID0gJHJvb3RTY29wZTtcbiAgICB0aGlzLl9zdGF0ZSA9ICRzdGF0ZTtcbiAgICB0aGlzLl9zd2VldCA9IHN3ZWV0O1xuICAgIHRoaXMuX3V0aWxTZXJ2aWNlID0gdXRpbFNlcnZpY2U7XG5cbiAgfVxuXG4gIGZvcm1TdGF0ZUNoYW5nZShzY29wZSwgZm9ybU5hbWUpIHtcblxuICAgIHZhciByZW1vdmVMaXN0ZW5lciA9IHRoaXMuX3Jvb3RTY29wZS4kb24oJyRzdGF0ZUNoYW5nZVN0YXJ0JyxcbiAgICAgIChldmVudCwgdG9TdGF0ZSwgdG9QYXJhbXMsIGZyb21TdGF0ZSwgZnJvbVBhcmFtcykgPT4ge1xuXG4gICAgICB2YXIgZm9ybSA9IGZvcm1OYW1lLnNwbGl0KCcuJykubGVuZ3RoID4gMSA/IHRoaXMuX3V0aWxTZXJ2aWNlLmdldERlc2NlbmRhbnRQcm9wKHNjb3BlLCBmb3JtTmFtZSk6IHNjb3BlW2Zvcm1OYW1lXTtcbiAgICAgIC8vIOayoeacieS/ruaUuei/h1xuICAgICAgaWYoIWZvcm0gfHwgKGZvcm0gJiYgZm9ybS4kcHJpc3RpbmUpKSB7IHJldHVybjsgfVxuXG4gICAgICB0aGlzLmxlYXZlQ29uZmlybSggaXNDb25maXJtID0+IHtcbiAgICAgICAgaWYgKCFpc0NvbmZpcm0pIHtcbiAgICAgICAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vYW5ndWxhci11aS91aS1yb3V0ZXIvaXNzdWVzLzExNThcbiAgICAgICAgICB0aGlzLl9zdGF0ZS5nbyh0b1N0YXRlLm5hbWUsIHRvUGFyYW1zLCB7bm90aWZ5OiBmYWxzZX0pLnRoZW4oKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5fcm9vdFNjb3BlLiRicm9hZGNhc3QoJyRzdGF0ZUNoYW5nZVN1Y2Nlc3MnLCB0b1N0YXRlLCB0b1BhcmFtcywgZnJvbVN0YXRlLCBmcm9tUGFyYW1zKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfSk7XG5cbiAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgfSk7XG5cbiAgICBzY29wZS4kb24oJyRkZXN0cm95JywgcmVtb3ZlTGlzdGVuZXIpO1xuXG4gIH1cblxuICBsZWF2ZUNvbmZpcm0oY2IpIHtcblxuICAgIHRoaXMuX3N3ZWV0LnNob3coe1xuICAgICAgdGl0bGU6ICfmj5DnpLonLFxuICAgICAgdGV4dDogJ+W9k+WJjeS/oeaBr+WwmuacquS/neWtmO+8jOaYr+WQpuemu+W8gOatpOmhtemdou+8nycsXG4gICAgICB0eXBlOiAnd2FybmluZycsXG4gICAgICBzaG93Q2FuY2VsQnV0dG9uOiB0cnVlLFxuICAgICAgY29uZmlybUJ1dHRvblRleHQ6ICfnlZnkuIsnLFxuICAgICAgY2FuY2VsQnV0dG9uVGV4dDogJ+emu+W8gCdcbiAgICB9LCBzdXJlID0+IGNiKHN1cmUpKTtcblxuICB9XG5cbn1cbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIGhpc3RvcnlTZXJ2aWNle1xuXG4gIGNvbnN0cnVjdG9yKCR3aW5kb3cpIHtcbiAgICAnbmdJbmplY3QnO1xuICAgIHRoaXMuX3dpbmRvdyA9ICR3aW5kb3c7XG4gIH1cbiAgYmFjaygpIHtcbiAgICB0aGlzLl93aW5kb3cuaGlzdG9yeS5iYWNrKCk7XG4gIH1cbn1cbiIsImV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGh0dHBJbnRlcmNlcHRvcigkcSwgJHdpbmRvdywgJGluamVjdG9yLCAkcm9vdFNjb3BlKSB7XG4gICduZ0luamVjdCc7XG5cbiAgY29uc3QgcmVxdWVzdEludGVyY2VwdG9yID0ge1xuXG4gICAgICByZXNwb25zZTogZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG4gICAgICAgIGNvbnN0IGRlZmVycmVkID0gJHEuZGVmZXIoKTtcbiAgICAgICAgaWYgKHJlc3BvbnNlLmRhdGEgJiYgKHJlc3BvbnNlLmRhdGEuY29kZSA9PSA0MDYgfHwgcmVzcG9uc2UuZGF0YS5jb2RlID09IDQwMiB8fCByZXNwb25zZS5kYXRhLmNvZGUgPT0gNDA1KSkge1xuICAgICAgICAgICAgJHdpbmRvdy5sb2NhdGlvbi5ocmVmID0gJy9sb2dpbi5odG1sJztcbiAgICAgICAgfVxuXG4gICAgICAgIGRlZmVycmVkLnJlc29sdmUocmVzcG9uc2UpO1xuICAgICAgICByZXR1cm4gZGVmZXJyZWQucHJvbWlzZTtcbiAgICAgIH0sXG5cbiAgICAgIHJlcXVlc3Q6IGZ1bmN0aW9uIChjb25maWcpIHtcbiAgICAgICAgY29uc3QgZGVmZXJyZWQgPSAkcS5kZWZlcigpO1xuXG4gICAgICAgIGNvbmZpZy50aW1lb3V0ID0gMTAwMCAqIDEwMDtcbi8vIGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdTSUxfVE9LRU4nKSB8fCBcbiAgICAgICAgLy8gJGh0dHAuZGVmYXVsdHMuaGVhZGVycy5jb21tb25bJ2F1dGhvcml6YXRpb24nXVxuICAgICAgICAvLyBjb25maWcuaGVhZGVyc1snZXh0cmEnXSA9ICd7XCJ0b2tlblwiOlwiaWFtc3VwZXJtYW46MTU4Mjg1MTYyODVcIn0nO1xuICAgICAgICBjb25maWcuaGVhZGVyc1snZXh0cmEnXSA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdTSUxfVE9LRU4nKSA/ICgne1widG9rZW5cIjpcIicgK2xvY2FsU3RvcmFnZS5nZXRJdGVtKCdTSUxfVE9LRU4nKSArICdcIixcInBsYXRmb3JtXCI6XCJ3ZWJcIixcInZlcnNpb25cIjpcIjEuMC4wXCJ9Jyk6ICcnO1xuICAgICAgICAkcm9vdFNjb3BlLkFVVEhPUklaQVRJT05fVE9LRU4gPSBjb25maWcuaGVhZGVyc1snZXh0cmEnXTtcblxuICAgICAgICBpZighY29uZmlnLmhlYWRlcnNbJ2V4dHJhJ10pIHtcbiAgICAgICAgICAkd2luZG93LmxvY2F0aW9uLmhyZWYgPSAnL2xvZ2luLmh0bWwnO1xuICAgICAgICB9XG5cbiAgICAgICAgZGVmZXJyZWQucmVzb2x2ZShjb25maWcpO1xuICAgICAgICByZXR1cm4gZGVmZXJyZWQucHJvbWlzZTtcbiAgICAgIH1cbiAgfTtcblxuICByZXR1cm4gcmVxdWVzdEludGVyY2VwdG9yO1xuXG59XG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBodHRwSGVscGVye1xuXG4gIGNvbnN0cnVjdG9yKHRvYXN0ciwgYmxvY2tVSSwgQXBwU2V0dGluZ3MpIHtcbiAgICAnbmdJbmplY3QnO1xuXG4gICAgdGhpcy5fYmxvY2tVSUluc3RhbmNlID0gbnVsbDtcbiAgICB0aGlzLl9lcnJvckluZm8gPSBBcHBTZXR0aW5ncy5lcnJvckluZm87XG5cbiAgICB0aGlzLnRvYXN0ciA9IHRvYXN0cjtcbiAgICB0aGlzLiRibG9ja1VJID0gYmxvY2tVSTtcblxuXG4gICAgdGhpcy5ibG9ja1VJID0ge1xuICAgICAgc3RhcnQ6IHRoaXMuX3N0YXJ0QmxvY2tVSS5iaW5kKHRoaXMpLFxuICAgICAgc3RvcDogdGhpcy5fc3RvcEJsb2NrVUkuYmluZCh0aGlzKVxuICAgIH07XG5cbiAgICB0aGlzLnZlcmlmeSA9IHRoaXMuX3ZlcmlmeS5iaW5kKHRoaXMpO1xuICAgIHRoaXMuZXJyb3IgPSB0aGlzLl9lcnJvci5iaW5kKHRoaXMpO1xuICB9XG4gIC8vID09PT09PT09PT09PT09PT09PT09PT09PT0gTWV0aG9kcyA9PT09PT09PT09PT09PT09PT09PT09PT09XG5cbiAgX3ZlcmlmeShyZXMpIHtcblxuICAgIHRoaXMuX3N0b3BCbG9ja1VJKCk7XG5cbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgaWYocmVzLmRhdGEuY29kZSA9PT0gMCkge1xuICAgICAgICByZXNvbHZlKHJlcy5kYXRhLmRhdGEpO1xuICAgICAgfWVsc2Uge1xuICAgICAgICB0aGlzLnRvYXN0ci5lcnJvcih0aGlzLl9lcnJvckluZm9bcmVzLmRhdGEuY29kZV0gfHwgcmVzLmRhdGEuaW5mbywgJ+mUmeivrycpO1xuICAgICAgICByZWplY3QocmVzKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICB9XG5cbiAgX2Vycm9yKCkge1xuXG4gICAgdGhpcy50b2FzdHIuZXJyb3IoJ+iOt+WPluaVsOaNruWksei0pe+8gScsICfplJnor68nKTtcbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgdGhpcy5fc3RvcEJsb2NrVUkoKTtcblxuICAgICAgcmVqZWN0KCk7XG4gICAgfSk7XG5cbiAgfVxuXG4gIF9zdGFydEJsb2NrVUkoYmxvY2tVSU5hbWUpIHtcbiAgICAvLyBUT0RPIHJlc2V0IG9uIHJlc3RhcnRcbiAgICB0aGlzLiRibG9ja1VJLmluc3RhbmNlcy5yZXNldCgpO1xuICAgIGlmKGJsb2NrVUlOYW1lKSB7XG4gICAgICB0aGlzLl9ibG9ja1VJSW5zdGFuY2UgPSB0aGlzLiRibG9ja1VJLmluc3RhbmNlcy5nZXQoYmxvY2tVSU5hbWUpO1xuICAgICAgdGhpcy5fYmxvY2tVSUluc3RhbmNlLnN0YXJ0KCk7XG4gICAgfWVsc2Uge1xuICAgICAgaWYodGhpcy4kYmxvY2tVSS5pc0Jsb2NraW5nKXtcbiAgICAgICAgdGhpcy4kYmxvY2tVSS5zdG9wKCk7XG4gICAgICB9XG4gICAgICB0aGlzLiRibG9ja1VJLnN0YXJ0KCk7XG4gICAgfVxuICB9XG5cbiAgX3N0b3BCbG9ja1VJKCkge1xuICAgIGlmKHRoaXMuX2Jsb2NrVUlJbnN0YW5jZSkge1xuICAgICAgdGhpcy5fYmxvY2tVSUluc3RhbmNlLnN0b3AoKTtcbiAgICAgIHRoaXMuX2Jsb2NrVUlJbnN0YW5jZSA9IG51bGw7XG4gICAgfWVsc2Uge1xuICAgICAgdGhpcy4kYmxvY2tVSS5zdG9wKCk7XG4gICAgfVxuICB9XG5cbn1cbiIsIi8qKlxuICogQG5nSW5qZWN0XG4gKiBAZGVzY3JpcHRpb24g5Yik5pat5Zu+54mH5piv5ZCm5Yqg6L295oiQ5YqfXG4gKiByZWY6IGh0dHA6Ly9zdGFja292ZXJmbG93LmNvbS9xdWVzdGlvbnMvMjQ1NjkyNzAvcHJlbG9hZC1iYWNrZ3JvdW5kLWltYWdlLXVzaW5nLWFuZ3VsYXJqcy1wcm9taXNlc1xuICovXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBpbWdQcmVMb2FkU2VydmljZSgkcSkge1xuICAnbmdJbmplY3QnO1xuXG4gIHJldHVybiBmdW5jdGlvbih1cmwpIHtcbiAgICAgIHZhciBkZWZmZXJlZCA9ICRxLmRlZmVyKCksXG4gICAgICAgICAgaW1hZ2UgPSBuZXcgSW1hZ2UoKTtcblxuICAgICAgaW1hZ2Uuc3JjID0gdXJsO1xuXG4gICAgICBpZiAoaW1hZ2UuY29tcGxldGUpIHtcbiAgICAgICAgZGVmZmVyZWQucmVzb2x2ZSgpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaW1hZ2UuYWRkRXZlbnRMaXN0ZW5lcignbG9hZCcsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgIGRlZmZlcmVkLnJlc29sdmUoKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgaW1hZ2UuYWRkRXZlbnRMaXN0ZW5lcignZXJyb3InLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICBkZWZmZXJlZC5yZWplY3QoKTtcbiAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBkZWZmZXJlZC5wcm9taXNlO1xuICB9XG5cbn1cbiIsImltcG9ydCBhbmd1bGFyICAgICAgICAgICBmcm9tICdhbmd1bGFyJztcbmltcG9ydCBodHRwSGVscGVyICAgICAgICBmcm9tICcuL2h0dHBIZWxwZXIuc2VydmljZSc7XG5pbXBvcnQgaW1nUHJlTG9hZFNlcnZpY2UgZnJvbSAnLi9pbWdQcmVMb2FkLnNlcnZpY2UnO1xuaW1wb3J0IGNoZWNrU3RhdGVTZXJ2aWNlIGZyb20gJy4vY2hlY2tTdGF0ZS5zZXJ2aWNlJztcbmltcG9ydCB1dGlsU2VydmljZSAgICAgICBmcm9tICcuL3V0aWwuc2VydmljZSc7XG5pbXBvcnQgaGlzdG9yeVNlcnZpY2UgICAgZnJvbSAnLi9oaXN0b3J5LnNlcnZpY2UnO1xuXG5cbmV4cG9ydCBkZWZhdWx0IGFuZ3VsYXIubW9kdWxlKCdhcHAubW9kdWxlLmNvcmUuc2VydmljZScsIFtdKVxuLnNlcnZpY2UoJ2h0dHBIZWxwZXInLCBodHRwSGVscGVyKVxuLnNlcnZpY2UoJ2ltZ1ByZUxvYWRTZXJ2aWNlJywgaW1nUHJlTG9hZFNlcnZpY2UpXG4uc2VydmljZSgnY2hlY2tTdGF0ZVNlcnZpY2UnLCBjaGVja1N0YXRlU2VydmljZSlcbi5zZXJ2aWNlKCd1dGlsU2VydmljZScsIHV0aWxTZXJ2aWNlKVxuLnNlcnZpY2UoJ2hpc3RvcnlTZXJ2aWNlJywgaGlzdG9yeVNlcnZpY2UpXG47XG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyB1dGlsIHtcblxuICBjb25zdHJ1Y3Rvcigkd2luZG93LCAkaHR0cCx0b2FzdHIsIHN3ZWV0LCBtY1JlZ0V4cCwgQXBpTWFwKSB7XG4gICAgJ25nSW5qZWN0JztcblxuICAgIHRoaXMuX3dpbmRvdyA9ICR3aW5kb3c7XG4gICAgdGhpcy5faHR0cCA9ICRodHRwO1xuXG4gICAgdGhpcy50b2FzdHIgPSB0b2FzdHI7XG4gICAgdGhpcy5zd2VldCA9IHN3ZWV0O1xuICAgIHRoaXMubWNSZWdFeHAgPSBtY1JlZ0V4cDtcbiAgICB0aGlzLl9hcGkgPSBBcGlNYXA7XG5cbiAgfVxuICAvLyDpgIDlh7rmk43kvZxcbiAgbG9nb3V0KCkge1xuICAgIHJldHVybiB0aGlzLl9odHRwLmdldCh0aGlzLl9hcGkucGVyc29uLmxvZ291dCkudGhlbihkYXRhID0+IHtcbiAgICAgICAgdGhpcy5fd2luZG93LmxvY2F0aW9uLmhyZWYgPSAnL2xvZ2luLmh0bWwnO1xuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIOeUqHVuZGVyc2NvcmXku47kuIDkuKrlr7nosaHmlbDnu4TkuK3liKDpmaTmjIflrprnmoTlr7nosaFcbiAgICogQHBhcmFtIGFyciDor6XmlbDnu4RcbiAgICogQHBhcmFtIHdoZXJlT2JqIOafpeivouimgeWIoOmZpOeahOWvueixoVxuICAgKi9cbiAgcmVtb3ZlSXRlbUZyb21BcnJheShhcnIsIHdoZXJlT2JqKSB7XG4gICAgICByZXR1cm4gXy53aXRob3V0KGFyciwgXy5maW5kV2hlcmUoYXJyLCB3aGVyZU9iaikpO1xuICB9XG5cbiAgLyoqXG4gICAqIOiOt+WPluaMh+WumuaciOeahOaAu+WkqeaVsFxuICAgKiBAcGFyYW0gZGF0ZSB8IHN0cmluZyDml6XmnJ/lr7nosaHmiJbml6XmnJ/lrZfnrKbkuLJcbiAgICogQHJldHVybnMge251bWJlcn1cbiAgICovXG4gIGdldERheXNMZW5Jbk1vbnRoKGRhdGUpIHtcbiAgICAgIGlmKGFuZ3VsYXIuaXNTdHJpbmcoZGF0ZSkpe1xuICAgICAgICAgIGRhdGUgPSBuZXcgRGF0ZShkYXRlKTtcbiAgICAgIH1cbiAgICAgIHZhciBtb250aCA9IHBhcnNlSW50KGRhdGUuZ2V0TW9udGgoKSArIDEsIDEwKTtcbiAgICAgIHJldHVybiBuZXcgRGF0ZShkYXRlLmdldEZ1bGxZZWFyKCksIG1vbnRoLCAwKS5nZXREYXRlKCk7XG4gIH1cblxuICAvKipcbiAgICog6ZKI5a+56Z2e6KGo5Y2V5a2X5q615YGa5pWw5o2u6aqM6K+BXG4gICAqIEBwYXJhbSAge1t0eXBlXX0gdHlwZSAgW2Rlc2NyaXB0aW9uXVxuICAgKiBAcmV0dXJuIHtbdHlwZV19ICAgICAgIFtkZXNjcmlwdGlvbl1cbiAgICovXG4gIHZhbGlkYXRlKHR5cGUpIHtcbiAgICAgIHZhciB0eXBlcyA9IHR5cGUuc3BsaXQoJywnKSxcbiAgICAgICAgICByZXN1bHQgPSB0cnVlLFxuICAgICAgICAgIGV4cHIsXG4gICAgICAgICAgYXJncyA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywgMSk7XG5cbiAgICAgIC8vIOaKiuesrOS6jOS4quWPguaVsHBhcmFt5b2S5L2N5Yiw5pyA5ZCO5LiA5Liq5Y+C5pWw77yI5oqKcGFyYW3mlL7liLDnrKzkuozkuKrlj4LmlbDmmK/lm6DkuLrkvb/nlKjmlrnkvr/vvIlcbiAgICAgIGFyZ3Muc3BsaWNlKDEsIDAsIG51bGwsIG51bGwsIG51bGwpO1xuXG4gICAgICBmdW5jdGlvbiBhcHBseUV4cHIodHlwZSkge1xuICAgICAgICAgIGV4cHIgPSB0aGlzLm1jUmVnRXhwLmV4cHJlc3Npb25bdHlwZV07XG4gICAgICAgICAgaWYoZXhwciBpbnN0YW5jZW9mIFJlZ0V4cCkge1xuICAgICAgICAgICAgICByZXN1bHQgPSBleHByLnRlc3QoYXJnc1swXSk7XG4gICAgICAgICAgfWVsc2Uge1xuICAgICAgICAgICAgICByZXN1bHQgPSBleHByLmFwcGx5KG51bGwsIGFyZ3MpO1xuICAgICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgaWYodHlwZXMubGVuZ3RoID4gMSkge1xuICAgICAgICAgIC8vIGh0dHA6Ly9zdGFja292ZXJmbG93LmNvbS9xdWVzdGlvbnMvMTM4NDM5NzIvYW5ndWxhci1qcy1icmVhay1mb3JlYWNoXG4gICAgICAgICAgYW5ndWxhci5mb3JFYWNoKHR5cGVzLCBmdW5jdGlvbih0eXBlKXtcbiAgICAgICAgICAgICAgdHlwZSAmJiB0eXBlLnRyaW0oKTtcbiAgICAgICAgICAgICAgaWYocmVzdWx0KSB7XG4gICAgICAgICAgICAgICAgICBhcHBseUV4cHIodHlwZSk7XG5cbiAgICAgICAgICAgICAgICAgIGlmKCFyZXN1bHQpIHtcbiAgICAgICAgICAgICAgICAgICAgICB0aGlzLnRvYXN0ci53YXJuaW5nKHRoaXMubWNSZWdFeHAuZGVmYXVsdE1zZ1t0eXBlXS5lcnJvcik7XG4gICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICB9ZWxzZSB7XG4gICAgICAgICAgYXBwbHlFeHByKHR5cGUpO1xuXG4gICAgICAgICAgaWYoIXJlc3VsdCkge1xuICAgICAgICAgICAgICB0aGlzLnRvYXN0ci53YXJuaW5nKHRoaXMubWNSZWdFeHAuZGVmYXVsdE1zZ1t0eXBlXS5lcnJvcik7XG4gICAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICByZXR1cm4gcmVzdWx0O1xuICB9XG5cbiAgLyoqXG4gICAqIOWFgeiuuOiuv+mXruS7peeCuei/nuaOpeeahOWxnuaAp+ihqOi+vuW8j+Wtl+espuS4suiuv+mXruWtkOWxnuaAp1xuICAgKiBAcGFyYW0gIHtbdHlwZV19IG9iaiAgdGFyZ2VcbiAgICogQHBhcmFtICB7W3R5cGVdfSBkZXNjIHZpc2l0IHByb3Agc3RyaW5nXG4gICAqIEByZXR1cm4ge1t0eXBlXX0gICAgICB2YWx1ZVxuICAgKiBAZXhhbXBsZVxuICAgKiAgIGdldERlc2NlbmRhbnRQcm9wKHthOiAxLCBiOiB7YzogMn19LCAnYi5jJykgIC8vIDJcbiAgICovXG4gIGdldERlc2NlbmRhbnRQcm9wKG9iaiwgZGVzYykge1xuICAgICAgdmFyIGFyciA9IGRlc2Muc3BsaXQoXCIuXCIpO1xuICAgICAgd2hpbGUoYXJyLmxlbmd0aCAmJiAob2JqID0gb2JqW2Fyci5zaGlmdCgpXSkpO1xuICAgICAgcmV0dXJuIG9iajtcbiAgfVxuXG4gIC8qKlxuICAgKiDor6Lpl67nqpflj6NcbiAgICogQHBhcmFtICB7W3R5cGVdfSAgIG9wdHMgdG9hc3Ry5Y+C5pWwXG4gICAqIEBwYXJhbSAge0Z1bmN0aW9ufSBjYiAgIOehruiupOWbnuiwg1xuICAgKi9cbiAgY29uZmlybShvcHRzLCBjYikge1xuICAgICAgdmFyIG9wdGlvbnMgPSBhbmd1bGFyLmV4dGVuZCh7XG4gICAgICAgICAgdGl0bGU6ICfmj5DnpLonLFxuICAgICAgICAgIHRleHQ6ICcnLFxuICAgICAgICAgIC8vdHlwZTogJ3dhcm5pbmcnLFxuICAgICAgICAgIGltYWdlVXJsOiAnL2Rpc3QvaW1hZ2VzL2NvbW1vbi93YXJuaW5nLnBuZycsXG4gICAgICAgICAgc2hvd0NhbmNlbEJ1dHRvbjogdHJ1ZSxcbiAgICAgICAgICBjb25maXJtQnV0dG9uVGV4dDogJ+ehruiupCcsXG4gICAgICAgICAgY2FuY2VsQnV0dG9uVGV4dDogJ+WPlua2iCdcbiAgICAgIH0sIG9wdHMpO1xuXG4gICAgICB0aGlzLnN3ZWV0LnNob3cob3B0aW9ucywgZnVuY3Rpb24gKGlzQ29uZmlybSkge1xuICAgICAgICAgIGNiKGlzQ29uZmlybSk7XG4gICAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiDmm7/mjaJ1bmRlcnNjb3Jl55qEcGljaygpXG4gICAqIGh0dHA6Ly9zdGFja292ZXJmbG93LmNvbS9hLzI1ODM1MzM3LzQ3MjMxNjNcbiAgICpcbiAgICogZXhhbXBsZTpcbiAgICogICBsZXQgZGF0YSA9IHtmb286ICd0ZXN0JywgYWJjOiAxLCB6eXg6IDIyMn1cbiAgICogICBwaWNrKGRhdGEsICdmb28nLCAnenl4JykgLy8gPT4ge2ZvbzogJ3Rlc3QnLCB6eXg6IDIyMn1cbiAgICovXG4gIHBpY2sobywgLi4uZmllbGRzKSB7XG4gICAgaWYoIW8pIHJldHVybiB7fTtcblxuICAgIHJldHVybiBmaWVsZHMucmVkdWNlKChhLCB4KSA9PiB7XG4gICAgICBpZih4LmluY2x1ZGVzKCcuJykpIHtcbiAgICAgICAgLy8gVE9ETzog5Yik5pataGFzT3duUHJvcGVydHlcbiAgICAgICAgYVt4LnNwbGl0KCcuJykucG9wKCldID0gdGhpcy5nZXREZXNjZW5kYW50UHJvcChvLCB4KTtcbiAgICAgIH1lbHNlIHtcbiAgICAgICAgaWYoby5oYXNPd25Qcm9wZXJ0eSh4KSkgYVt4XSA9IG9beF07XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBhO1xuICAgIH0sIHt9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiDlnKjkuIDkuKpPYmplY3TliJfooajkuK3vvIzpgJrov4dpZC92YWx1ZeiOt+WPluWFtuWvueW6lOeahHRleHQvbmFtZVxuICAgKiBsaXN0OiBPYmplY3TmlbDnu4RcbiAgICogaWQ6IOafpeaJvueahGlkXG4gICAqIGlkS2V5OiBpZOeahOWxnuaAp+WQjSjpu5jorqTkuLp2YWx1ZSlcbiAgICogdGV4dEtleTogdGV4dOeahOWxnuaAp+WQjSjpu5jorqTkuLpuYW1lKVxuICAgKiDlpoLmnpzkuI3lrZjlnKjlr7nlupR0ZXh05YiZ6L+U5ZueXCJcIlxuICAgKi9cbiAgZ2V0VGV4dEJ5SWQobGlzdCwgaWQsIGlkS2V5ID0gJ3ZhbHVlJywgdGV4dEtleSA9ICduYW1lJykge1xuICAgIGlmKCFsaXN0IHx8ICFhbmd1bGFyLmlzQXJyYXkobGlzdCkpIHJldHVybjtcbiAgICBsZXQgZmlsdGVyZWQgPSBsaXN0LmZpbHRlcihpdGVtID0+IGlkID09PSBpdGVtW2lkS2V5XSk7XG4gICAgcmV0dXJuIGZpbHRlcmVkLmxlbmd0aCA/IGZpbHRlcmVkWzBdW3RleHRLZXldIDogJyc7XG4gIH1cblxufVxuIiwiZnVuY3Rpb24gYmxvY2tVSUNvbmZpZyhibG9ja1VJQ29uZmlnKSB7XG4gICAgJ25nSW5qZWN0JztcblxuICAgIGJsb2NrVUlDb25maWcubWVzc2FnZSA9ICcnOyAvLyDliqDovb3kuK0uLi5cblxuICAgIC8vIENoYW5nZSB0aGUgZGVmYXVsdCBkZWxheSB0byAxMDBtcyBiZWZvcmUgdGhlIGJsb2NraW5nIGlzIHZpc2libGVcbiAgICBibG9ja1VJQ29uZmlnLmRlbGF5ID0gMTAwO1xuXG4gICAgLy8gRGlzYWJsZSBhdXRvbWF0aWNhbGx5IGJsb2NraW5nIG9mIHRoZSB1c2VyIGludGVyZmFjZVxuICAgIGJsb2NrVUlDb25maWcuYXV0b0Jsb2NrID0gZmFsc2U7XG5cbiAgICAvLyDlj6ropoHlj5HnlJ/lvILluLjlsLHmuIXpmaRibG9ja1xuICAgIGJsb2NrVUlDb25maWcucmVzZXRPbkV4Y2VwdGlvbiA9IHRydWU7XG5cbiAgICAvLyBibG9ja+m7mOiupOaYr+WKoOWIsGJvZHnkuIrnmoTvvIzkuI3ov4fmiJHku6zlhbPmjonlroPvvIzoh6rlt7LmjIflrppibG9ja+eahOWMuuWfn1xuICAgIGJsb2NrVUlDb25maWcuYXV0b0luamVjdEJvZHlCbG9jayA9IGZhbHNlO1xuXG4gICAgLy8g6buY6K6k5pivYmxvY2stdWkgYmxvY2stdWktYW5pbS1mYWRl77yb5aaC5p6c6ZyA6KaB6KaG55uW77yM6K6+572u5Li6IGJsb2NrLXVpICsg5oOz5bqU55So55qEY2xhc3NcbiAgICBibG9ja1VJQ29uZmlnLmNzc0NsYXNzID0gJ2Jsb2NrLXVpIGJsb2NrLXVpLW1lc3NhZ2UtY3VzdG9tJztcbn1cblxuZXhwb3J0IGRlZmF1bHQgYmxvY2tVSUNvbmZpZzsiLCJpbXBvcnQgYW5ndWxhciBmcm9tICdhbmd1bGFyJztcblxuXG5mdW5jdGlvbiB0b2FzdHJDb25maWcodG9hc3RyQ29uZmlnKSB7XG4gICduZ0luamVjdCc7XG5cbiAgYW5ndWxhci5leHRlbmQodG9hc3RyQ29uZmlnLCB7XG4gICAgYWxsb3dIdG1sOiBmYWxzZSxcbiAgICBhdXRvRGlzbWlzczogZmFsc2UsXG4gICAgY2xvc2VCdXR0b246IHRydWUsXG4gICAgY2xvc2VIdG1sOiAnPGJ1dHRvbj4mdGltZXM7PC9idXR0b24+JyxcbiAgICBjb250YWluZXJJZDogJ3RvYXN0LWNvbnRhaW5lcicsXG4gICAgZXh0ZW5kZWRUaW1lT3V0OiAxMDAwLFxuICAgIGljb25DbGFzc2VzOiB7XG4gICAgICBlcnJvcjogJ3RvYXN0LWVycm9yJyxcbiAgICAgIGluZm86ICd0b2FzdC1pbmZvJyxcbiAgICAgIHN1Y2Nlc3M6ICd0b2FzdC1zdWNjZXNzJyxcbiAgICAgIHdhcm5pbmc6ICd0b2FzdC13YXJuaW5nJ1xuICAgIH0sXG4gICAgbWF4T3BlbmVkOiAwLFxuICAgIG1lc3NhZ2VDbGFzczogJ3RvYXN0LW1lc3NhZ2UnLFxuICAgIG5ld2VzdE9uVG9wOiB0cnVlLFxuICAgIG9uSGlkZGVuOiBudWxsLFxuICAgIG9uU2hvd246IG51bGwsXG4gICAgb25UYXA6IG51bGwsXG4gICAgcG9zaXRpb25DbGFzczogJ3RvYXN0LXRvcC1yaWdodCcsXG4gICAgcHJldmVudER1cGxpY2F0ZXM6IGZhbHNlLFxuICAgIHByZXZlbnRPcGVuRHVwbGljYXRlczogdHJ1ZSxcbiAgICBwcm9ncmVzc0JhcjogdHJ1ZSxcbiAgICB0YXBUb0Rpc21pc3M6IHRydWUsXG4gICAgdGFyZ2V0OiAnYm9keScsXG4gICAgdGVtcGxhdGVzOiB7XG4gICAgICB0b2FzdDogJ2RpcmVjdGl2ZXMvdG9hc3QvdG9hc3QuaHRtbCcsXG4gICAgICBwcm9ncmVzc2JhcjogJ2RpcmVjdGl2ZXMvcHJvZ3Jlc3NiYXIvcHJvZ3Jlc3NiYXIuaHRtbCdcbiAgICB9LFxuICAgIHRpbWVPdXQ6IDIwMDAsXG4gICAgdGl0bGVDbGFzczogJ3RvYXN0LXRpdGxlJyxcbiAgICB0b2FzdENsYXNzOiAndG9hc3QnXG4gIH0pO1xufVxuXG5leHBvcnQgZGVmYXVsdCB0b2FzdHJDb25maWc7XG4iLCJpbXBvcnQgYW5ndWxhciBmcm9tICdhbmd1bGFyJztcblxuZnVuY3Rpb24gcGFnaW5hdGlvbkNvbmZpZyh1aWJQYWdpbmF0aW9uQ29uZmlnKSB7XG4gICduZ0luamVjdCc7XG5cbiAgYW5ndWxhci5leHRlbmQodWliUGFnaW5hdGlvbkNvbmZpZywge1xuICAgIC8vIGl0ZW1zUGVyUGFnZTogMTAsXG4gICAgYm91bmRhcnlMaW5rczogdHJ1ZSxcbiAgICByb3RhdGU6IGZhbHNlLCAgLy8gV2hldGhlciB0byBrZWVwIGN1cnJlbnQgcGFnZSBpbiB0aGUgbWlkZGxlIG9mIHRoZSB2aXNpYmxlIG9uZXMuXG4gICAgbWF4U2l6ZTogMTAsIC8vIExpbWl0IG51bWJlciBmb3IgcGFnaW5hdGlvbiBzaXplLlxuICAgIHByZXZpb3VzVGV4dDogJ+S4iuS4gOmhtScsXG4gICAgbmV4dFRleHQ6ICfkuIvkuIDpobUnLFxuICAgIGZpcnN0VGV4dDogJ+mmlumhtScsXG4gICAgbGFzdFRleHQ6ICflsL7pobUnXG4gIH0pO1xufVxuXG5leHBvcnQgZGVmYXVsdCBwYWdpbmF0aW9uQ29uZmlnO1xuIiwiaW1wb3J0IGFuZ3VsYXIgICAgICAgICAgICAgICAgICBmcm9tICdhbmd1bGFyJztcbmltcG9ydCB7ZXhwcmVzc2lvbiwgZGVmYXVsdE1zZ30gZnJvbSAnLi8uLi8uLi8uLi9jb21tb24vY29uc3RhbnRzL3JlZ0V4cFJ1bGUnO1xuXG5mdW5jdGlvbiB2YWxpZGF0aW9uUnVsZUNvbmZpZygkdmFsaWRhdGlvblByb3ZpZGVyKSB7XG4gICduZ0luamVjdCc7XG5cbiAgJHZhbGlkYXRpb25Qcm92aWRlci5zZXRFeHByZXNzaW9uKGV4cHJlc3Npb24pLnNldERlZmF1bHRNc2coZGVmYXVsdE1zZyk7XG5cbn1cblxuZXhwb3J0IGRlZmF1bHQgdmFsaWRhdGlvblJ1bGVDb25maWc7XG4iLCIvLyBodHRwczovL2dpdGh1Yi5jb20vYW5ndWxhci11aS9ib290c3RyYXAvaXNzdWVzLzUzMzFcbi8vIOS9nOW6n+OAguWcqOWkmumHjeW8ueahhueahOaDheWGteS4i++8jOWFs+mXreS4iuWxgueahO+8jOS8muWvvOiHtOW6leWxgueahOaXoOazlea7muWKqFxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gdWliTW9kYWxEZWNvcmF0b3IoJGRlbGVnYXRlKSB7XG4gICduZ0luamVjdCc7XG5cbiAgdmFyIGJhc2VPcGVuID0gJGRlbGVnYXRlLm9wZW47XG5cbiAgJGRlbGVnYXRlLm9wZW4gPSBmdW5jdGlvbigpIHtcbiAgICB2YXIgb3B0aW9ucyA9IGFyZ3VtZW50c1swXTtcbiAgICB2YXIgb3BlbmVkQ2xhc3MgPSAnbW9kYWwtb3Blbic7XG4gICAgaWYgKG9wdGlvbnMpIHtcbiAgICAgIG9wZW5lZENsYXNzID0gb3B0aW9ucy5vcGVuZWRDbGFzcyB8fCBvcGVuZWRDbGFzcztcbiAgICAgIG9wdGlvbnMub3BlbmVkQ2xhc3MgPSBcImlnbm9yZVRoaXNDbGFzc1wiXG4gICAgfVxuICAgIHZhciBtaSA9IGJhc2VPcGVuLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgdmFyIGJvZHkgPSBhbmd1bGFyLmVsZW1lbnQoZG9jdW1lbnQuYm9keSk7XG4gICAgYm9keS5hZGRDbGFzcyhvcGVuZWRDbGFzcyk7XG5cbiAgICAvLyBVc2UgcmVzdWx0IGZpbmFsbHksIGJlY2F1c2UgZm9yIHdoYXRldmVyIHJlYXNvbiwgY2xvc2VkIG5ldmVyIHJlc29sdmVzXG4gICAgbWkucmVzdWx0LmZpbmFsbHkoZnVuY3Rpb24oKSB7XG4gICAgICBib2R5LnJlbW92ZUNsYXNzKG9wZW5lZENsYXNzKTtcbiAgICB9KTtcblxuICAgIHJldHVybiBtaTtcbiAgfTtcblxuICByZXR1cm4gJGRlbGVnYXRlO1xuXG59XG4iLCJpbXBvcnQgYW5ndWxhciBmcm9tICdhbmd1bGFyJztcbmltcG9ydCAkIGZyb20gJ2pxdWVyeSc7XG5nbG9iYWwuJCA9IGdsb2JhbC5qUXVlcnkgPSAkO1xuXG5pbXBvcnQgJ2FuZ3VsYXItdG9hc3RyJztcbmltcG9ydCAnanF1ZXJ5LXNsaW1zY3JvbGwnO1xuaW1wb3J0ICdhbmd1bGFyLXNsaW1zY3JvbGwnO1xuaW1wb3J0ICdhbmd1bGFyLXVpLXN3aXRjaCc7XG5pbXBvcnQgbmdCbG9ja1VpIGZyb20gJ2FuZ3VsYXItYmxvY2stdWknO1xuaW1wb3J0ICdzd2VldGFsZXJ0JztcbmltcG9ydCAnYW5ndWxhci1oLXN3ZWV0YWxlcnQnO1xuaW1wb3J0IERyb3B6b25lIGZyb20gJ2Ryb3B6b25lJztcbndpbmRvdy5Ecm9wem9uZSA9IERyb3B6b25lO1xuaW1wb3J0ICdhbmd1bGFyLWRyb3B6b25lJztcbmltcG9ydCAnbmdDcm9wcGVyL2Rpc3QvbmdDcm9wcGVyLmFsbCc7XG5pbXBvcnQgJ2FuZ3VsYXItZGF0ZXBpY2tlcic7XG4vLyBpbXBvcnQgJ2FuZ3VsYXIteGVkaXRhYmxlJztcbmltcG9ydCBwYWNlIGZyb20gJ3BhY2UyJztcbmltcG9ydCAnY2hlY2tsaXN0LW1vZGVsJztcbmltcG9ydCB2aWV3ZXIgZnJvbSAndmlld2VyanMnO1xud2luZG93LlZpZXdlciA9IHZpZXdlcjtcblxuaW1wb3J0ICdhbmd1bGFyLXNhbml0aXplJztcbmltcG9ydCAnYW5ndWxhci1hdXRvLWNvbXBsZXRlJztcblxuLy8gVE9ETzogQW5ndWxhciB2ZXJzaW9uIC0gaHR0cHM6Ly9naXRodWIuY29tL2FuZHJlc2VzZm0vYW5ndWxhci11bmRlcnNjb3JlLW1vZHVsZS9ibG9iL21hc3Rlci9hbmd1bGFyLXVuZGVyc2NvcmUtbW9kdWxlLmpzXG5pbXBvcnQgXyBmcm9tICd1bmRlcnNjb3JlJztcbndpbmRvdy5fID0gXztcbmltcG9ydCBtb21lbnQgZnJvbSAnbW9tZW50JztcbndpbmRvdy5tb21lbnQgPSBtb21lbnQ7XG5pbXBvcnQgJ2FuZ3VsYXItbW9tZW50JztcbmltcG9ydCAnbW9tZW50L2xvY2FsZS96aC1jbic7XG5cbi8vIFRPRE86IGh0dHBzOi8vZ2l0aHViLmNvbS9BbmR5Y3pjL2FuZ3VsYXItdmFsaWRhdGlvbi9jb21taXQvMDUxNjU1NTAyNTU4ZjRkNjFmNmRmYzRkYzUzZWVkM2VmZGI5ZTQ2YlxuaW1wb3J0ICdhbmd1bGFyLXZhbGlkYXRpb24nO1xuaW1wb3J0ICdhbmd1bGFyLXZhbGlkYXRpb24vZGlzdC9hbmd1bGFyLXZhbGlkYXRpb24tcnVsZSc7XG5pbXBvcnQgJ2FuZ3VsYXItdmFsaWRhdGlvbi1tYXRjaCc7XG5cbmltcG9ydCAnYW5ndWxhci1tZGVkaXRvcic7XG5cbmltcG9ydCBibG9ja1VJQ29uZmlnICAgICAgICBmcm9tICcuL2NvbmZpZy9ibG9ja1VJLmNvbmZpZyc7XG5pbXBvcnQgdG9hc3RyQ29uZmlnICAgICAgICAgZnJvbSAnLi9jb25maWcvdG9hc3RyLmNvbmZpZyc7XG5pbXBvcnQgdWliUGFnaW5hdGlvbkNvbmZpZyAgZnJvbSAnLi9jb25maWcvdWliUGFnaW5hdGlvbi5jb25maWcnO1xuaW1wb3J0IHZhbGlkYXRpb25SdWxlQ29uZmlnIGZyb20gJy4vY29uZmlnL3ZhbGlkYXRpb25SdWxlLmNvbmZpZyc7XG4vLyBpbXBvcnQge3hlZGl0YWJsZU9wdGlvbnN9IGZyb20gJy4vY29uZmlnL3hlZGl0YWJsZS5jb25maWcnO1xuXG5pbXBvcnQgdWliTW9kYWxEZWNvcmF0b3IgZnJvbSAnLi91aWJNb2RhbC5kZWNvcmF0b3InO1xuXG5cbmV4cG9ydCBkZWZhdWx0IGFuZ3VsYXIubW9kdWxlKCdhcHAuY29yZS52ZW5kb3InLCBbXG4gIC8vIFVJIHdpZGdldFxuICAndG9hc3RyJyxcbiAgJ3VpLnNsaW1zY3JvbGwnLFxuICAndWlTd2l0Y2gnLFxuICAnaFN3ZWV0QWxlcnQnLFxuICAnYmxvY2tVSScsXG4gICduZ0Ryb3B6b25lJyxcbiAgJ2RhdGVQaWNrZXInLFxuICAnbmdDcm9wcGVyJyxcbiAgLy8gJ3hlZGl0YWJsZScsIC8vIFRPRE86IHJlcGxhY2Ugd2l0aCBmb3JtLWVkaXQgZGlyZWN0aXZlXG4gICdjaGVja2xpc3QtbW9kZWwnLFxuXG4gICdhdXRvQ29tcGxldGVNb2R1bGUnLFxuXG4gIC8vIFV0aWxzXG4gICdhbmd1bGFyTW9tZW50JyxcbiAgJ3ZhbGlkYXRpb24nLFxuICAndmFsaWRhdGlvbi5ydWxlJyxcbiAgJ3ZhbGlkYXRpb24ubWF0Y2gnLFxuXG4gICd1aS5tZGVkaXRvcidcbl0pXG4uY29uZmlnKGJsb2NrVUlDb25maWcpXG4uY29uZmlnKHRvYXN0ckNvbmZpZylcbi5jb25maWcodWliUGFnaW5hdGlvbkNvbmZpZylcbi5jb25maWcodmFsaWRhdGlvblJ1bGVDb25maWcpXG4vLyAucnVuKHhlZGl0YWJsZU9wdGlvbnMpXG4vLy5kZWNvcmF0b3IoJyR1aWJNb2RhbCcsIHVpYk1vZGFsRGVjb3JhdG9yKVxuLy8gLnJ1bih4ZWRpdGFibGVUaGVtZXMpO1xuIiwiZnVuY3Rpb24gQ29uZmlnKCRzdGF0ZVByb3ZpZGVyKSB7XG4gICduZ0luamVjdCc7XG5cbiAgJHN0YXRlUHJvdmlkZXJcbiAgICAuc3RhdGUoJ2FjY291bnQnLCB7XG4gICAgICAgIHVybDogJy9hY2NvdW50JyxcbiAgICAgICAgLy9hYnN0cmFjdDogdHJ1ZSxcbiAgICAgICAgdGVtcGxhdGUgOiAnPHVpLXZpZXc+PGFjY291bnQtbGlzdD48L2FjY291bnQtbGlzdD48L3VpLXZpZXc+JyxcbiAgICAgICAgdGl0bGU6ICfotKblj7fnrqHnkIYnLFxuICAgICAgICBzaWRlYmFyTWV0YToge1xuICAgICAgICAgIGljb246ICdpY29uLXNpZGViYXJfbWVtYmVyc19pYycsXG4gICAgICAgICAgb3JkZXI6IDEwMCxcbiAgICAgICAgfVxuICAgIH0pXG4gICAgLnN0YXRlKCdhY2NvdW50Lmxpc3QnLCB7XG4gICAgICAgIHVybDogJycsXG4gICAgICAgIHRlbXBsYXRlOiAnPGFjY291bnQtbGlzdD48L2FjY291bnQtbGlzdD4nLFxuICAgICAgICB0aXRsZTogJ+i0puWPt+WIl+ihqCdcbiAgICB9KVxuICAgIC5zdGF0ZSgnYWNjb3VudC5kZXRhaWwnLCB7XG4gICAgICAgIHVybDogJy9kZXRhaWw/aWQnLFxuICAgICAgICB0ZW1wbGF0ZTogJzxhY2NvdW50LWRldGFpbD48L2FjY291bnQtZGV0YWlsPicsXG4gICAgICAgIHRpdGxlOiAn6LSm5Y+36K+m5oOFJ1xuICAgIH0pXG4gICAgO1xuXG59XG5cbmV4cG9ydCBkZWZhdWx0IENvbmZpZztcbiIsImNsYXNzIERldGFpbENvbnRyb2xsZXIge1xuXG4gIGNvbnN0cnVjdG9yKCRzdGF0ZSwgJHN0YXRlUGFyYW1zLCB0b2FzdHIsIEFjY291bnRTZXJ2aWNlLCBBcHBTZXR0aW5ncywgQ29uZmlnU2VydmljZSwgUHJvZmlsZVNlcnZpY2UpIHtcbiAgICAnbmdJbmplY3QnO1xuXG4gICAgdGhpcy5fc3RhdGUgPSAkc3RhdGU7XG4gICAgdGhpcy5fdG9hc3RyID0gdG9hc3RyO1xuICAgIHRoaXMuX3N0YXRlUGFyYW1zID0gJHN0YXRlUGFyYW1zO1xuXG4gICAgdGhpcy5fc2VydmljZSA9IEFjY291bnRTZXJ2aWNlO1xuICAgIHRoaXMuX2NvbmZpZ1NlcnZpY2UgPSBDb25maWdTZXJ2aWNlO1xuXG4gICAgdGhpcy5pZCA9IHRoaXMuX3N0YXRlUGFyYW1zLmlkO1xuICAgIHRoaXMucm9sZUtleSA9IEFwcFNldHRpbmdzLnJvbGVMaXN0S2V5O1xuICAgIHRoaXMucm9sZUxpc3QgPSBQcm9maWxlU2VydmljZS5nZXRSb2xlTGlzdCgpO1xuXG4gICAgdGhpcy5pbmZvID0gbnVsbDtcblxuICAgIHRoaXMuX2luaXQoKTtcblx0fVxuXG4gIF9pbml0KCkge1xuICAgIGxldCBwYXJhbXMgPSB7XG4gICAgICBpZDogdGhpcy5pZFxuICAgIH07XG4gICAgdGhpcy5zdGF0ZUFyciA9IHtcbiAgICAgIDA6ICfmnKrmv4DmtLsnLFxuICAgICAgMTogJ+ato+W4uCcsXG4gICAgICAyOiAn5bey5Ya757uTJyxcbiAgICAgIDM6ICflt7LliKDpmaQnXG4gICAgfVxuXG4gICAgdGhpcy5fc2VydmljZS5nZXQocGFyYW1zKS50aGVuKGRhdGEgPT4ge1xuICAgICAgdGhpcy5wZXJzb24gPSBkYXRhO1xuICAgIH0pO1xuICB9XG5cbiAgc2V0VXNlcigpIHtcbiAgICBsZXQgcGFyYW1zID0ge1xuICAgICAgdXNlcl9pZDogdGhpcy5pZCxcbiAgICAgIG5ld19wYXNzd29yZDogdGhpcy5wZXJzb24ubmV3X3Bhc3N3b3JkLFxuICAgICAgdHJ1ZV9uYW1lOiB0aGlzLnBlcnNvbi50cnVlX25hbWUsXG4gICAgICBwaG9uZTogdGhpcy5wZXJzb24ucGhvbmUsXG4gICAgICByb2xlOiB0aGlzLnBlcnNvbi5yb2xlLFxuICAgICAgcm9sZV9uYW1lOiB0aGlzLnBlcnNvbi5yb2xlX25hbWUsXG4gICAgICBzdGF0ZTogdGhpcy5wZXJzb24uc3RhdGVcbiAgICB9O1xuICAgIHRoaXMuX3NlcnZpY2Uuc2V0KHBhcmFtcykudGhlbihkYXRhID0+IHtcbiAgICAgICAgbG9jYXRpb24uaHJlZiA9ICcvIy9hY2NvdW50JztcbiAgICB9KTtcblxuICB9XG5cbn1cblxuZXhwb3J0IGRlZmF1bHQgRGV0YWlsQ29udHJvbGxlcjsiLCJpbXBvcnQgRGV0YWlsQ29udHJvbGxlciBmcm9tICcuL2N0cmwnO1xuXG5jb25zdCBkZXRhaWwgPSB7XG4gIHRlbXBsYXRlVXJsOiAnbW9kdWxlcy9hY2NvdW50L2RldGFpbC9pbmRleC5odG1sJyxcbiAgY29udHJvbGxlcjogRGV0YWlsQ29udHJvbGxlcixcbiAgY29udHJvbGxlckFzOiAndm0nXG59O1xuXG5leHBvcnQgZGVmYXVsdCBkZXRhaWw7XG4iLCJpbXBvcnQgUGFnaW5hdGlvbiBmcm9tICcuLi8uLi8uLi9jb3JlL2NvbXBvbmVudHMvbWNQYWdpbmF0aW9uL21jLXBhZ2luYXRpb24uY2xhc3MnO1xuaW1wb3J0IHthZGRDb25maWcsIGJyYW5jaENvbmZpZ30gZnJvbSAnLi4vbW9kYWxzJztcblxuY2xhc3MgTGlzdENvbnRyb2xsZXIgZXh0ZW5kcyBQYWdpbmF0aW9uIHtcblxuICBjb25zdHJ1Y3RvcigkaW5qZWN0b3IsICRzdGF0ZSwgJGxvY2F0aW9uLCAkc3RhdGVQYXJhbXMsIHRvYXN0ciwgJHVpYk1vZGFsLCBBY2NvdW50U2VydmljZSkge1xuICAgICduZ0luamVjdCc7XG5cbiAgICBzdXBlcigkaW5qZWN0b3IpO1xuXG4gICAgdGhpcy5fc3RhdGUgPSAkc3RhdGU7XG4gICAgdGhpcy5fbG9jYXRpb24gPSAkbG9jYXRpb247XG4gICAgdGhpcy5fc3RhdGVQYXJhbXMgPSAkc3RhdGVQYXJhbXM7XG4gICAgdGhpcy5fbW9kYWwgPSAkdWliTW9kYWw7XG5cbiAgICB0aGlzLl90b2FzdHIgPSB0b2FzdHI7XG5cbiAgICB0aGlzLl9zZXJ2aWNlID0gQWNjb3VudFNlcnZpY2U7XG5cbiAgICB0aGlzLmZpbHRlcnMgPSB7fTtcblxuICAgIHRoaXMub25lQXRBVGltZSA9IHRydWU7XG5cbiAgICB0aGlzLl9pbml0KCk7XG5cbiAgICB0aGlzLnN0YXRlQXJyID0ge1xuICAgICAgMDogJ+acqua/gOa0uycsXG4gICAgICAxOiAn5q2j5bi4JyxcbiAgICAgIDI6ICflt7Llhrvnu5MnLFxuICAgICAgMzogJ+W3suWIoOmZpCdcbiAgICB9XG5cblxuICB9XG5cbiAgX2luaXQoKSB7XG4gICAgdGhpcy5faW5pdEZpbHRlcnMoKTtcbiAgICB0aGlzLl9nZXRMaXN0KCk7XG4gIH1cblxuICBfaW5pdEZpbHRlcnMoKSB7XG5cbiAgICBjb25zdCBzdGF0ZVBhcmFtcyA9IHRoaXMuX3N0YXRlUGFyYW1zO1xuICAgIC8vdGhpcy5maWx0ZXJzLmtleXdvcmQgPSBzdGF0ZVBhcmFtcy5rZXl3b3JkIHx8IHZvaWQoMCk7XG5cbiAgfVxuXG4gIFxuICBfZ2V0TGlzdCgpIHtcbiAgICBsZXQgcGFyYW1zID0gdGhpcy5fZmlsdGVyRW1wdHlWYWx1ZSgpO1xuICAgIHBhcmFtcy5wYWdlID0gdGhpcy5wYWdpbmF0aW9uLnBhZ2U7XG4gICAgcGFyYW1zLnBhZ2VfbGltaXQgPSAyMDtcblxuICAgIHRoaXMuX3NlcnZpY2UubGlzdChwYXJhbXMpLnRoZW4oZGF0YSA9PiB7XG4gICAgICB0aGlzLnBhZ2luYXRpb24uY291bnQgPSBkYXRhLmNvdW50O1xuICAgICAgdGhpcy5wYWdpbmF0aW9uLnBhZ2VTaXplID0gZGF0YS5wYWdlX2xpbWl0O1xuICAgICAgdGhpcy5saXN0ID0gZGF0YS51c2VycztcbiAgICB9KTtcblxuICB9XG5cbiAgcGFnZUNoYW5nZWQoKSB7XG4gICAgdGhpcy5fZ2V0TGlzdCgpO1xuICB9XG5cbiAgcmVTZWFyY2goKSB7XG4gICAgdGhpcy5fZ2V0TGlzdCgpO1xuICB9XG5cbiAgYWRkVXNlcigpIHtcbiAgICBsZXQgbGlzdCA9IHRoaXMubGlzdDtcbiAgICBjb25zdCByZXNvbHZlID0ge1xuICAgICAgaW5mbzogZnVuY3Rpb24oKXtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICBsaXN0XG4gICAgICAgIH07XG4gICAgICB9XG4gICAgfTtcblxuICAgIGNvbnN0IG9wdGlvbnMgPSB7Li4uYWRkQ29uZmlnLCByZXNvbHZlfTtcblxuICAgIHRoaXMuX21vZGFsLm9wZW4oIG9wdGlvbnMgKTtcbiAgfVxuXG4gIGFzc2lnbkJyYW5jaChpdGVtKSB7XG4gICAgY29uc3QgcmVzb2x2ZSA9IHtcbiAgICAgIGluZm86IGZ1bmN0aW9uKCl7XG4gICAgICAgIHJldHVybiBpdGVtO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBjb25zdCBvcHRpb25zID0gey4uLmJyYW5jaENvbmZpZywgcmVzb2x2ZX07XG5cbiAgICB0aGlzLl9tb2RhbC5vcGVuKCBvcHRpb25zICk7XG4gIH1cblxufVxuXG5leHBvcnQgZGVmYXVsdCBMaXN0Q29udHJvbGxlcjtcbiIsImltcG9ydCBMaXN0Q29udHJvbGxlciBmcm9tICcuL2N0cmwnO1xuXG5jb25zdCBMaXN0ID0ge1xuICB0ZW1wbGF0ZVVybDogJ21vZHVsZXMvYWNjb3VudC9saXN0L2luZGV4Lmh0bWwnLFxuICBjb250cm9sbGVyOiBMaXN0Q29udHJvbGxlcixcbiAgY29udHJvbGxlckFzOiAndm0nXG59O1xuXG5leHBvcnQgZGVmYXVsdCBMaXN0O1xuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgQ29udHJvbGxlciB7XG4gIGNvbnN0cnVjdG9yKCRzY29wZSwgJHN0YXRlLCAkdmFsaWRhdGlvbiwgJHVpYk1vZGFsSW5zdGFuY2UsIHRvYXN0ciwgQWNjb3VudFNlcnZpY2UsIGluZm8sIEFwcFNldHRpbmdzLCBDb25maWdTZXJ2aWNlLCBQcm9maWxlU2VydmljZSkge1xuICAgICduZ0luamVjdCc7XG5cbiAgICB0aGlzLl9zY29wZSA9ICRzY29wZTtcbiAgICB0aGlzLl9zdGF0ZSA9ICRzdGF0ZTtcblxuICAgIHRoaXMuX3ZhbGlkYXRpb25Qcm92aWRlciA9ICR2YWxpZGF0aW9uO1xuXG4gICAgdGhpcy5fbW9kYWxJbnN0YW5jZSA9ICR1aWJNb2RhbEluc3RhbmNlO1xuICAgIHRoaXMuX3RvYXN0ciA9IHRvYXN0cjtcblxuICAgIHRoaXMuX3NlcnZpY2UgPSBBY2NvdW50U2VydmljZTtcbiAgICB0aGlzLl9jb25maWdTZXJ2aWNlID0gQ29uZmlnU2VydmljZTtcblxuICAgIHRoaXMucm9sZUtleSA9IEFwcFNldHRpbmdzLnJvbGVMaXN0S2V5O1xuICAgIHRoaXMucm9sZUxpc3QgPSBQcm9maWxlU2VydmljZS5nZXRSb2xlTGlzdCgpO1xuXG4gICAgdGhpcy5pbmZvID0gaW5mbztcbiAgICB0aGlzLmJhbmtMaXN0ID0gW107XG5cbiAgICB0aGlzLmlucHV0SW5mbyA9IHtcbiAgICAgIHRydWVfbmFtZTogJycsXG4gICAgICBwaG9uZTogJycsXG4gICAgICByb2xlOiAnJ1xuICAgIH07XG5cbiAgICB0aGlzLmF1dG9Db21wbGV0ZU9wdGlvbnMgPSB7XG4gICAgICBtaW5pbXVtQ2hhcnM6IDEsXG4gICAgICBkYXRhOiBmdW5jdGlvbiAodGVybSkge1xuICAgICAgICB0ZXJtID0gdGVybS50b1VwcGVyQ2FzZSgpO1xuICAgICAgICB2YXIgbWF0Y2ggPSBfLmZpbHRlcihpbmZvLmFnZW5jeUxpc3QsIGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgcmV0dXJuIHZhbHVlLnN0YXJ0c1dpdGgodGVybSk7XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gbWF0Y2g7XG4gICAgICB9XG4gICAgfVxuXG4gICAgdGhpcy5fc2VydmljZS5nZXRCYW5rTGlzdCgpLnRoZW4oZGF0YSA9PiB7XG4gICAgICB0aGlzLmJhbmtMaXN0ID0gZGF0YTtcbiAgICB9KTtcblxuICB9XG5cbiAgYXNzaWduQnJhbmNoKGl0ZW0pIHtcbiAgICBjb25zdCByZXNvbHZlID0ge1xuICAgICAgaW5mbzogZnVuY3Rpb24oKXtcbiAgICAgICAgcmV0dXJuIGl0ZW07XG4gICAgICB9XG4gICAgfTtcblxuICAgIGNvbnN0IG9wdGlvbnMgPSB7Li4uYnJhbmNoQ29uZmlnLCByZXNvbHZlfTtcblxuICAgIHRoaXMuX21vZGFsLm9wZW4oIG9wdGlvbnMgKTtcbiAgfVxuXG4gIGNhbmNlbCgpIHtcbiAgICB0aGlzLl9tb2RhbEluc3RhbmNlLmNsb3NlKCk7XG4gIH1cblxuICBzdWJtaXQoZm9ybSkge1xuICAgIC8v6aqM6K+B6KGo5Y2VXG4gICAgdGhpcy5fdmFsaWRhdGlvblByb3ZpZGVyLnZhbGlkYXRlKGZvcm0pLnN1Y2Nlc3MoKCkgPT4ge1xuICAgICAgdGhpcy5zYXZlRnVuYygpO1xuICAgIH0pO1xuICB9XG5cbiAgc2F2ZUZ1bmMoKSB7XG4gICAgY29uc3QgZGF0YSA9IHRoaXMuaW5wdXRJbmZvO1xuICAgIHRoaXMuX3NlcnZpY2UuYWRkKGRhdGEpLnRoZW4oZGF0YSA9PiB7XG4gICAgICB0aGlzLl90b2FzdHIuc3VjY2Vzcygn5re75Yqg5oiQ5YqfJyk7XG4gICAgICB0aGlzLmNhbmNlbCgpO1xuICAgICAgdGhpcy5fc3RhdGUucmVsb2FkKCk7XG4gICAgfSlcbiAgfVxufVxuIiwiaW1wb3J0IENvbnRyb2xsZXIgZnJvbSAnLi9jdHJsJztcblxuY29uc3QgQ29uZmlndXJhdGlvbiA9IHtcbiAgdGVtcGxhdGVVcmw6ICdtb2R1bGVzL2FjY291bnQvbW9kYWxzL2FkZC90ZW1wbGF0ZS5odG1sJyxcbiAgY29udHJvbGxlcjogQ29udHJvbGxlcixcbiAgY29udHJvbGxlckFzOiAndm0nXG59O1xuXG5leHBvcnQgZGVmYXVsdCBDb25maWd1cmF0aW9uO1xuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgQ29udHJvbGxlciB7XG4gIGNvbnN0cnVjdG9yKCRzY29wZSwgJHN0YXRlLCAkdmFsaWRhdGlvbiwgJHVpYk1vZGFsSW5zdGFuY2UsIHRvYXN0ciwgQWNjb3VudFNlcnZpY2UsIGluZm8pIHtcbiAgICAnbmdJbmplY3QnO1xuXG4gICAgdGhpcy5fc2NvcGUgPSAkc2NvcGU7XG4gICAgdGhpcy5fc3RhdGUgPSAkc3RhdGU7XG5cbiAgICB0aGlzLl92YWxpZGF0aW9uUHJvdmlkZXIgPSAkdmFsaWRhdGlvbjtcblxuICAgIHRoaXMuX21vZGFsSW5zdGFuY2UgPSAkdWliTW9kYWxJbnN0YW5jZTtcbiAgICB0aGlzLl90b2FzdHIgPSB0b2FzdHI7XG5cbiAgICB0aGlzLl9zZXJ2aWNlID0gQWNjb3VudFNlcnZpY2U7XG5cbiAgICB0aGlzLmluZm8gPSBpbmZvO1xuXG4gICAgdGhpcy5pbnB1dEluZm8gPSB7XG4gICAgICBicmFuY2g6IGluZm8uYmFuayAmJiBpbmZvLmJhbmsuaWRcbiAgICB9O1xuXG4gICAgdGhpcy5saXN0ID0gbnVsbDtcblxuXG4gICAgdGhpcy5fZ2V0QmFua0xpc3QoKTtcblxuICB9XG5cbiAgX2dldEJhbmtMaXN0KCkge1xuICAgIHRoaXMuX3NlcnZpY2UuZ2V0QmFua0xpc3QoKS50aGVuKGRhdGEgPT4ge1xuICAgICAgLy8gY29uc29sZS5sb2coZGF0YSk7XG4gICAgICB0aGlzLmxpc3QgPSBkYXRhO1xuICAgIH0pO1xuICB9XG5cbiAgY2FuY2VsKCkge1xuICAgIHRoaXMuX21vZGFsSW5zdGFuY2UuY2xvc2UoKTtcbiAgfVxuXG4gIHN1Ym1pdChmb3JtKSB7XG4gICAgLy/pqozor4HooajljZVcbiAgICB0aGlzLl92YWxpZGF0aW9uUHJvdmlkZXIudmFsaWRhdGUoZm9ybSkuc3VjY2VzcygoKSA9PiB7XG4gICAgICB0aGlzLnNhdmVGdW5jKCk7XG4gICAgfSk7XG4gIH1cblxuICBzYXZlRnVuYygpIHtcbiAgICAvLyBjb25zb2xlLmxvZygnc3VibWl0JylcbiAgICB0aGlzLl9zZXJ2aWNlLnNldCh7XG4gICAgICB1c2VyX2lkOiB0aGlzLmluZm8uaWQsXG4gICAgICBiYW5rX2lkOiB0aGlzLmlucHV0SW5mby5icmFuY2hcbiAgICB9KS50aGVuKGRhdGEgPT4ge1xuICAgICAgdGhpcy5jYW5jZWwoKTtcbiAgICAgIHRoaXMuX3RvYXN0ci5zdWNjZXNzKCforr7nva7miJDlip8nKTtcbiAgICAgIHRoaXMuX3N0YXRlLnJlbG9hZCgpO1xuICAgIH0pO1xuICB9XG59XG4iLCJpbXBvcnQgQ29udHJvbGxlciBmcm9tICcuL2N0cmwnO1xuXG5jb25zdCBjb25maWd1cmF0aW9uID0ge1xuICB0ZW1wbGF0ZVVybDogJ21vZHVsZXMvYWNjb3VudC9tb2RhbHMvYnJhbmNoL3RlbXBsYXRlLmh0bWwnLFxuICBjb250cm9sbGVyOiBDb250cm9sbGVyLFxuICBjb250cm9sbGVyQXM6ICd2bSdcbn07XG5cbmV4cG9ydCBkZWZhdWx0IGNvbmZpZ3VyYXRpb247XG4iLCJpbXBvcnQgYWRkQ29uZmlnIGZyb20gJy4vYWRkJztcbmltcG9ydCBicmFuY2hDb25maWcgZnJvbSAnLi9icmFuY2gnO1xuXG5leHBvcnQge1xuICBhZGRDb25maWcsXG4gIGJyYW5jaENvbmZpZ1xufVxuIiwiaW1wb3J0IGFuZ3VsYXIgZnJvbSAnYW5ndWxhcic7XG5pbXBvcnQganF1ZXJ5IGZyb20gJ2pxdWVyeSc7XG5pbXBvcnQgYm9vdHN0cmFwIGZyb20gJ2Jvb3RzdHJhcCc7XG5pbXBvcnQgY29uZmlnICBmcm9tICcuL2NvbmZpZyc7XG5pbXBvcnQgc2VydmljZSBmcm9tICcuL3NlcnZpY2UnO1xuaW1wb3J0IERldGFpbCBmcm9tICcuL2RldGFpbC8nO1xuaW1wb3J0IExpc3QgZnJvbSAnLi9saXN0Lyc7XG5cbi8vIGltcG9ydCBkZW1vU2VydmljZSAgICAgIGZyb20gJy4vc2VydmljZXMvZGVtby5zZXJ2aWNlJztcblxuXG5cblxuZXhwb3J0IGRlZmF1bHQgYW5ndWxhci5tb2R1bGUoJ2FwcC5tb2R1bGVzLmFjY291bnQnLCBbXSlcbi8vIC5maWx0ZXIoJ2ZpbHRlclR5cGUnLCBmaWx0ZXJUeXBlKVxuLnNlcnZpY2UoJ0FjY291bnRTZXJ2aWNlJywgc2VydmljZSlcblxuLmNvbXBvbmVudCgnYWNjb3VudExpc3QnLCBMaXN0KVxuLmNvbXBvbmVudCgnYWNjb3VudERldGFpbCcsIERldGFpbClcbi5jb25maWcoY29uZmlnKTtcbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIFNlcnZpY2Uge1xuICBjb25zdHJ1Y3RvcigkaHR0cCwgaHR0cEhlbHBlciwgJHJvb3RTY29wZSwgJHN0YXRlLCBBcGlNYXApIHtcbiAgICAnbmdJbmplY3QnO1xuXG4gICAgdGhpcy5faHR0cCA9ICRodHRwO1xuICAgIC8vIHRoaXMuJHEgPSAkcTtcbiAgICB0aGlzLl9odHRwSGVscGVyID0gaHR0cEhlbHBlcjtcbiAgICB0aGlzLl9hcGlNYXAgPSBBcGlNYXA7XG4gICAgdGhpcy5fYXBpID0gQXBpTWFwLnBlcnNvbjtcblxuICAgIHRoaXMuX3Jvb3RTY29wZSA9ICRyb290U2NvcGU7XG4gICAgdGhpcy5fc3RhdGUgPSAkc3RhdGU7XG4gIH1cblxuICBsaXN0KHBhcmFtcykge1xuICAgIFxuICAgIHRoaXMuX2h0dHBIZWxwZXIuYmxvY2tVSS5zdGFydCgpO1xuXG4gICAgcmV0dXJuIHRoaXMuX2h0dHAucG9zdCh0aGlzLl9hcGkubGlzdCwgcGFyYW1zKS50aGVuKHRoaXMuX2h0dHBIZWxwZXIudmVyaWZ5LCAgdGhpcy5faHR0cEhlbHBlci5lcnJvcik7XG4gIH1cblxuICBnZXQocGFyYW1zKSB7XG4gICAgXG4gICAgdGhpcy5faHR0cEhlbHBlci5ibG9ja1VJLnN0YXJ0KCk7XG5cbiAgICByZXR1cm4gdGhpcy5faHR0cC5wb3N0KHRoaXMuX2FwaS5nZXQsIHBhcmFtcykudGhlbih0aGlzLl9odHRwSGVscGVyLnZlcmlmeSwgIHRoaXMuX2h0dHBIZWxwZXIuZXJyb3IpO1xuICB9XG5cbiAgc2V0KHBhcmFtcykge1xuICAgIFxuICAgIHRoaXMuX2h0dHBIZWxwZXIuYmxvY2tVSS5zdGFydCgpO1xuICAgIFxuICAgIHJldHVybiB0aGlzLl9odHRwLnBvc3QodGhpcy5fYXBpLnNldCwgcGFyYW1zKS50aGVuKHRoaXMuX2h0dHBIZWxwZXIudmVyaWZ5LCAgdGhpcy5faHR0cEhlbHBlci5lcnJvcik7XG4gIH1cblxuICBhZGQocGFyYW1zKSB7XG4gICAgXG4gICAgdGhpcy5faHR0cEhlbHBlci5ibG9ja1VJLnN0YXJ0KCk7XG4gICAgXG4gICAgcmV0dXJuIHRoaXMuX2h0dHAucG9zdCh0aGlzLl9hcGkuYWRkLCBwYXJhbXMpLnRoZW4odGhpcy5faHR0cEhlbHBlci52ZXJpZnksICB0aGlzLl9odHRwSGVscGVyLmVycm9yKTtcbiAgfVxuXG4gIGdldEJhbmtMaXN0KHBhcmFtcykge1xuICAgIHRoaXMuX2h0dHBIZWxwZXIuYmxvY2tVSS5zdGFydCgpO1xuICAgIHJldHVybiB0aGlzLl9odHRwLnBvc3QodGhpcy5fYXBpTWFwLmJhbmsuZ2V0LCBwYXJhbXMpXG4gICAgICAudGhlbih0aGlzLl9odHRwSGVscGVyLnZlcmlmeSwgdGhpcy5faHR0cEhlbHBlci5lcnJvcik7XG4gIH1cblxuICBnZXRSb2xlTGlzdCgpIHtcbiAgICB0aGlzLl9odHRwSGVscGVyLmJsb2NrVUkuc3RhcnQoKTtcbiAgICBcbiAgICByZXR1cm4gdGhpcy5faHR0cC5nZXQodGhpcy5fYXBpTWFwLmF1dGguZ2V0KS50aGVuKHRoaXMuX2h0dHBIZWxwZXIudmVyaWZ5LCAgdGhpcy5faHR0cEhlbHBlci5lcnJvcik7XG4gIH1cblxufSIsImZ1bmN0aW9uIENvbmZpZygkc3RhdGVQcm92aWRlcikge1xuICAnbmdJbmplY3QnO1xuXG4gICRzdGF0ZVByb3ZpZGVyXG4gICAgLnN0YXRlKCdiYW5rJywge1xuICAgICAgICB1cmw6ICcvYmFuaycsXG4gICAgICAgIC8vYWJzdHJhY3Q6IHRydWUsXG4gICAgICAgIHRlbXBsYXRlIDogJzx1aS12aWV3PjxiYW5rLWxpc3Q+PC9iYW5rLWxpc3Q+PC91aS12aWV3PicsXG4gICAgICAgIHRpdGxlOiAn5py65p6E566h55CGJyxcbiAgICAgICAgc2lkZWJhck1ldGE6IHtcbiAgICAgICAgICBpY29uOiAnaWNvbi1zaWRlYmFyX21lbWJlcnNfaWMnLFxuICAgICAgICAgIG9yZGVyOiAxMCxcbiAgICAgICAgfVxuICAgIH0pXG4gICAgLy8gLnN0YXRlKCdiYW5rLmxpc3QnLCB7XG4gICAgLy8gICAgIHVybDogJycsXG4gICAgLy8gICAgIHRlbXBsYXRlOiAnPGJhbmstbGlzdD48L2JhbmstbGlzdD4nLFxuICAgIC8vICAgICB0aXRsZTogJ+acuuaehOWIl+ihqCdcbiAgICAvLyB9KVxuXG59XG5cbmV4cG9ydCBkZWZhdWx0IENvbmZpZztcbiIsImltcG9ydCBQYWdpbmF0aW9uIGZyb20gJy4uLy4uLy4uL2NvcmUvY29tcG9uZW50cy9tY1BhZ2luYXRpb24vbWMtcGFnaW5hdGlvbi5jbGFzcyc7XG5pbXBvcnQge2JyYW5jaENvbmZpZywgYWRkQ29uZmlnLCBtYXBDb25maWcsIGVkaXRDb25maWd9IGZyb20gJy4uL21vZGFscyc7XG5cblxuY2xhc3MgTGlzdENvbnRyb2xsZXIgZXh0ZW5kcyBQYWdpbmF0aW9uIHtcblxuICBjb25zdHJ1Y3RvcigkaW5qZWN0b3IsICRzdGF0ZSwgJGxvY2F0aW9uLCAkc3RhdGVQYXJhbXMsIHRvYXN0ciwgJHVpYk1vZGFsLCBCYW5rU2VydmljZSkge1xuICAgICduZ0luamVjdCc7XG5cbiAgICBzdXBlcigkaW5qZWN0b3IpO1xuXG4gICAgdGhpcy5fc3RhdGUgPSAkc3RhdGU7XG4gICAgdGhpcy5fbG9jYXRpb24gPSAkbG9jYXRpb247XG4gICAgdGhpcy5fc3RhdGVQYXJhbXMgPSAkc3RhdGVQYXJhbXM7XG4gICAgdGhpcy5fbW9kYWwgPSAkdWliTW9kYWw7XG5cbiAgICB0aGlzLl90b2FzdHIgPSB0b2FzdHI7XG5cbiAgICB0aGlzLl9zZXJ2aWNlID0gQmFua1NlcnZpY2U7XG5cbiAgICB0aGlzLmZpbHRlcnMgPSB7fTtcblxuICAgIHRoaXMub25lQXRBVGltZSA9IHRydWU7XG5cbiAgICB0aGlzLl9pbml0KCk7XG4gICAgdGhpcy5iYW5rU3RhdGVMaXN0ID0gW1xuICAgICAge1xuICAgICAgICB2YWx1ZTogMSxcbiAgICAgICAgbGFiZWw6ICfmraPluLgnXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICB2YWx1ZTogMyxcbiAgICAgICAgbGFiZWw6ICflt7LliKDpmaQnXG4gICAgICB9LFxuICAgIF07XG4gIH1cblxuICBfaW5pdCgpIHtcbiAgICB0aGlzLl9pbml0RmlsdGVycygpO1xuICAgIHRoaXMuX2dldExpc3QoKTsgIFxuICB9XG5cbiAgX2luaXRGaWx0ZXJzKCkge1xuXG4gICAgY29uc3Qgc3RhdGVQYXJhbXMgPSB0aGlzLl9zdGF0ZVBhcmFtcztcbiAgICAvL3RoaXMuZmlsdGVycy5rZXl3b3JkID0gc3RhdGVQYXJhbXMua2V5d29yZCB8fCB2b2lkKDApO1xuXG4gIH1cblxuICBcbiAgX2dldExpc3QoKSB7XG4gICAgbGV0IHBhcmFtcyA9IHRoaXMuX2ZpbHRlckVtcHR5VmFsdWUoKTsgIFxuICAgIC8vcGFyYW1zLnBhZ2UgPSB0aGlzLnBhZ2luYXRpb24ucGFnZTtcbiAgICAvL3RoaXMucGFnaW5hdGlvbi5wYWdlU2l6ZSA9IDU7XG4gICAgdGhpcy5fc2VydmljZS5saXN0KHBhcmFtcykudGhlbihkYXRhID0+IHtcbiAgICAgIC8vdGhpcy5wYWdpbmF0aW9uLmNvdW50ID0gMTA7XG4gICAgICB0aGlzLmxpc3QgPSBkYXRhO1xuICAgIH0pO1xuXG4gIH1cblxuICBwYWdlQ2hhbmdlZCgpIHtcbiAgICB0aGlzLl9nZXRMaXN0KCk7XG4gIH1cblxuICByZVNlYXJjaCgpIHtcbiAgICB0aGlzLl9nZXRMaXN0KCk7XG4gIH1cblxuICBzd2l0Y2goa2V5LCB2YWx1ZSkge1xuXG4gICAgaWYoIWtleSkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIHRoaXMuZmlsdGVyc1trZXldID0gdmFsdWU7XG5cbiAgICB0aGlzLnJlU2VhcmNoKCk7XG4gIH1cblxuICBhZGRCYW5rKCkge1xuICAgIGxldCBsaXN0ID0gdGhpcy5saXN0O1xuICAgIGNvbnN0IHJlc29sdmUgPSB7XG4gICAgICBpbmZvOiBmdW5jdGlvbigpe1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIGxpc3RcbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgY29uc3Qgb3B0aW9ucyA9IHsuLi5hZGRDb25maWcsIHJlc29sdmV9O1xuXG4gICAgdGhpcy5fbW9kYWwub3Blbiggb3B0aW9ucyApO1xuICB9XG5cbiAgc2V0TWFwKGl0ZW0pIHtcbiAgICBjb25zdCByZXNvbHZlID0ge1xuICAgICAgaW5mbzogZnVuY3Rpb24oKXtcbiAgICAgICAgcmV0dXJuIGl0ZW07ICAgICAgXG4gICAgICB9XG4gICAgfTtcblxuICAgIGNvbnN0IG9wdGlvbnMgPSB7Li4ubWFwQ29uZmlnLCByZXNvbHZlfTtcblxuICAgIHZhciBtb2RhbCA9IHRoaXMubW9kYWw7XG4gICAgdGhpcy5fbW9kYWwub3Blbiggb3B0aW9ucyApO1xuICB9XG5cbiAgc2V0TmFtZShpdGVtKSB7XG4gICAgY29uc3QgcmVzb2x2ZSA9IHtcbiAgICAgIGluZm86IGZ1bmN0aW9uKCl7XG4gICAgICAgIHJldHVybiBpdGVtOyAgICAgIFxuICAgICAgfVxuICAgIH07XG5cbiAgICBjb25zdCBvcHRpb25zID0gey4uLmVkaXRDb25maWcsIHJlc29sdmV9O1xuXG4gICAgdmFyIG1vZGFsID0gdGhpcy5tb2RhbDtcbiAgICB0aGlzLl9tb2RhbC5vcGVuKCBvcHRpb25zICk7XG4gIH1cblxuXG4gIGRlbGV0ZShpdGVtKSB7XG4gICAgdGhpcy5fc2VydmljZS5zZXQoe1xuICAgICAgaWQ6IGl0ZW0uaWQsXG4gICAgICBzdGF0ZTogM1xuICAgIH0pLnRoZW4oZGF0YSA9PiB7XG4gICAgICB0aGlzLl90b2FzdHIuc3VjY2Vzcygn5Yig6Zmk5oiQ5YqfJyk7XG4gICAgICB0aGlzLl9zdGF0ZS5yZWxvYWQoKTtcbiAgICB9KTtcbiAgfVxuXG4gIHJlZGVsZXRlKGl0ZW0pIHtcbiAgICB0aGlzLl9zZXJ2aWNlLnNldCh7XG4gICAgICBpZDogaXRlbS5pZCxcbiAgICAgIHN0YXRlOiAxXG4gICAgfSkudGhlbihkYXRhID0+IHtcbiAgICAgIHRoaXMuX3RvYXN0ci5zdWNjZXNzKCflj5bmtojliKDpmaTmiJDlip8nKTtcbiAgICAgIHRoaXMuX3N0YXRlLnJlbG9hZCgpO1xuICAgIH0pO1xuICB9XG5cblxuICBhc3NpZ25CcmFuY2goaXRlbSkge1xuICAgIGNvbnN0IHJlc29sdmUgPSB7XG4gICAgICBpbmZvOiBmdW5jdGlvbigpe1xuICAgICAgICByZXR1cm4gaXRlbTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgY29uc3Qgb3B0aW9ucyA9IHsuLi5icmFuY2hDb25maWcsIHJlc29sdmV9O1xuXG4gICAgdGhpcy5fbW9kYWwub3Blbiggb3B0aW9ucyApO1xuICB9XG5cblxufVxuXG5leHBvcnQgZGVmYXVsdCBMaXN0Q29udHJvbGxlcjtcbiIsImltcG9ydCBMaXN0Q29udHJvbGxlciBmcm9tICcuL2N0cmwnO1xuXG5jb25zdCBMaXN0ID0ge1xuICB0ZW1wbGF0ZVVybDogJ21vZHVsZXMvYmFuay9saXN0L2luZGV4Lmh0bWwnLFxuICBjb250cm9sbGVyOiBMaXN0Q29udHJvbGxlcixcbiAgY29udHJvbGxlckFzOiAndm0nXG59O1xuXG5leHBvcnQgZGVmYXVsdCBMaXN0O1xuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgQ29udHJvbGxlciB7XG4gIGNvbnN0cnVjdG9yKCRzY29wZSwgJHN0YXRlLCAkdmFsaWRhdGlvbiwgJHVpYk1vZGFsSW5zdGFuY2UsIHRvYXN0ciwgQmFua1NlcnZpY2UsIGluZm8pIHtcbiAgICAnbmdJbmplY3QnO1xuXG4gICAgdGhpcy5fc2NvcGUgPSAkc2NvcGU7XG4gICAgdGhpcy5fc3RhdGUgPSAkc3RhdGU7XG5cbiAgICB0aGlzLl92YWxpZGF0aW9uUHJvdmlkZXIgPSAkdmFsaWRhdGlvbjtcblxuICAgIHRoaXMuX21vZGFsSW5zdGFuY2UgPSAkdWliTW9kYWxJbnN0YW5jZTtcbiAgICB0aGlzLl90b2FzdHIgPSB0b2FzdHI7XG5cbiAgICB0aGlzLl9zZXJ2aWNlID0gQmFua1NlcnZpY2U7XG5cbiAgICB0aGlzLmluZm8gPSBpbmZvO1xuXG4gICAgdGhpcy5pbnB1dEluZm8gPSB7XG4gICAgICBuYW1lOiAnJ1xuICAgIH07XG5cbiAgICB0aGlzLmF1dG9Db21wbGV0ZU9wdGlvbnMgPSB7XG4gICAgICBtaW5pbXVtQ2hhcnM6IDEsXG4gICAgICBkYXRhOiBmdW5jdGlvbiAodGVybSkge1xuICAgICAgICB0ZXJtID0gdGVybS50b1VwcGVyQ2FzZSgpO1xuICAgICAgICB2YXIgbWF0Y2ggPSBfLmZpbHRlcihpbmZvLmFnZW5jeUxpc3QsIGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgcmV0dXJuIHZhbHVlLnN0YXJ0c1dpdGgodGVybSk7XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gbWF0Y2g7XG4gICAgICB9XG4gICAgfVxuXG4gIH1cblxuICBcblxuICBjYW5jZWwoKSB7XG4gICAgdGhpcy5fbW9kYWxJbnN0YW5jZS5jbG9zZSgpO1xuICB9XG5cbiAgc3VibWl0KGZvcm0pIHtcbiAgICAvL+mqjOivgeihqOWNlVxuICAgIHRoaXMuX3ZhbGlkYXRpb25Qcm92aWRlci52YWxpZGF0ZShmb3JtKS5zdWNjZXNzKCgpID0+IHtcbiAgICAgIHRoaXMuc2F2ZUZ1bmMoKTtcbiAgICB9KTtcbiAgfVxuXG4gIHNhdmVGdW5jKCkge1xuICAgIGNvbnN0IGRhdGEgPSB0aGlzLmlucHV0SW5mbztcbiAgICB0aGlzLl9zZXJ2aWNlLmFkZChkYXRhKS50aGVuKGRhdGEgPT4ge1xuICAgICAgdGhpcy5fdG9hc3RyLnN1Y2Nlc3MoJ+a3u+WKoOaIkOWKnycpO1xuICAgICAgdGhpcy5jYW5jZWwoKTtcbiAgICAgIHRoaXMuX3N0YXRlLnJlbG9hZCgpO1xuICAgIH0pXG4gIH1cbn1cbiIsImltcG9ydCBDb250cm9sbGVyIGZyb20gJy4vY3RybCc7XG5cbmNvbnN0IENvbmZpZ3VyYXRpb24gPSB7XG4gIHRlbXBsYXRlVXJsOiAnbW9kdWxlcy9iYW5rL21vZGFscy9hZGQvdGVtcGxhdGUuaHRtbCcsXG4gIGNvbnRyb2xsZXI6IENvbnRyb2xsZXIsXG4gIGNvbnRyb2xsZXJBczogJ3ZtJ1xufTtcblxuZXhwb3J0IGRlZmF1bHQgQ29uZmlndXJhdGlvbjtcbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIENvbnRyb2xsZXIge1xuICBjb25zdHJ1Y3Rvcigkc2NvcGUsICRzdGF0ZSwgJHZhbGlkYXRpb24sICR1aWJNb2RhbEluc3RhbmNlLCB0b2FzdHIsIEJhbmtTZXJ2aWNlLCBpbmZvKSB7XG4gICAgJ25nSW5qZWN0JztcblxuICAgIHRoaXMuX3Njb3BlID0gJHNjb3BlO1xuICAgIHRoaXMuX3N0YXRlID0gJHN0YXRlO1xuXG4gICAgdGhpcy5fdmFsaWRhdGlvblByb3ZpZGVyID0gJHZhbGlkYXRpb247XG5cbiAgICB0aGlzLl9tb2RhbEluc3RhbmNlID0gJHVpYk1vZGFsSW5zdGFuY2U7XG4gICAgdGhpcy5fdG9hc3RyID0gdG9hc3RyO1xuXG4gICAgdGhpcy5fc2VydmljZSA9IEJhbmtTZXJ2aWNlO1xuXG4gICAgdGhpcy5pbmZvID0gaW5mbztcblxuICAgIHRoaXMuaW5wdXRJbmZvID0ge1xuICAgICAgYnJhbmNoOiBpbmZvLmJhbmsgJiYgaW5mby5iYW5rLmlkXG4gICAgfTtcblxuICAgIHRoaXMubGlzdCA9IG51bGw7XG5cblxuICAgIHRoaXMuX2dldEJhbmtMaXN0KCk7XG5cbiAgfVxuXG4gIF9nZXRCYW5rTGlzdCgpIHtcbiAgICB0aGlzLl9zZXJ2aWNlLmxpc3Qoe1xuICAgICAgc3RhdGU6IDFcbiAgICB9KS50aGVuKGRhdGEgPT4ge1xuICAgICAgdGhpcy5saXN0ID0gZGF0YTtcbiAgICB9KTtcbiAgfVxuXG4gIGNhbmNlbCgpIHtcbiAgICB0aGlzLl9tb2RhbEluc3RhbmNlLmNsb3NlKCk7XG4gIH1cblxuICBzdWJtaXQoZm9ybSkge1xuICAgIC8v6aqM6K+B6KGo5Y2VXG4gICAgdGhpcy5fdmFsaWRhdGlvblByb3ZpZGVyLnZhbGlkYXRlKGZvcm0pLnN1Y2Nlc3MoKCkgPT4ge1xuICAgICAgdGhpcy5zYXZlRnVuYygpO1xuICAgIH0pO1xuICB9XG5cbiAgc2F2ZUZ1bmMoKSB7XG4gICAgdGhpcy5fc2VydmljZS5zZXQoe1xuICAgICAgc3VwZXJpb3JfaWQ6IHRoaXMuaW5wdXRJbmZvLmJyYW5jaCxcbiAgICAgIGlkOiB0aGlzLmluZm8uaWQsXG4gICAgfSkudGhlbihkYXRhID0+IHtcbiAgICAgIHRoaXMuY2FuY2VsKCk7XG4gICAgICB0aGlzLl90b2FzdHIuc3VjY2Vzcygn6K6+572u5oiQ5YqfJyk7XG4gICAgICB0aGlzLl9zdGF0ZS5yZWxvYWQoKTtcbiAgICB9KTtcbiAgfVxufVxuIiwiaW1wb3J0IENvbnRyb2xsZXIgZnJvbSAnLi9jdHJsJztcblxuY29uc3QgY29uZmlndXJhdGlvbiA9IHtcbiAgdGVtcGxhdGVVcmw6ICdtb2R1bGVzL2JhbmsvbW9kYWxzL2JyYW5jaC90ZW1wbGF0ZS5odG1sJyxcbiAgY29udHJvbGxlcjogQ29udHJvbGxlcixcbiAgY29udHJvbGxlckFzOiAndm0nXG59O1xuXG5leHBvcnQgZGVmYXVsdCBjb25maWd1cmF0aW9uO1xuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgQ29udHJvbGxlciB7XG4gIGNvbnN0cnVjdG9yKCRzY29wZSwgJHN0YXRlLCAkdmFsaWRhdGlvbiwgJHVpYk1vZGFsSW5zdGFuY2UsIHRvYXN0ciwgQmFua1NlcnZpY2UsIGluZm8pIHtcbiAgICAnbmdJbmplY3QnO1xuXG4gICAgdGhpcy5fc2NvcGUgPSAkc2NvcGU7XG4gICAgdGhpcy5fc3RhdGUgPSAkc3RhdGU7XG5cbiAgICB0aGlzLl92YWxpZGF0aW9uUHJvdmlkZXIgPSAkdmFsaWRhdGlvbjtcblxuICAgIHRoaXMuX21vZGFsSW5zdGFuY2UgPSAkdWliTW9kYWxJbnN0YW5jZTtcbiAgICB0aGlzLl90b2FzdHIgPSB0b2FzdHI7XG5cbiAgICB0aGlzLl9zZXJ2aWNlID0gQmFua1NlcnZpY2U7XG5cbiAgICB0aGlzLmluZm8gPSBpbmZvO1xuXG4gICAgdGhpcy5pbnB1dEluZm8gPSB7XG4gICAgICBuYW1lOiB0aGlzLmluZm8ubmFtZSxcbiAgICAgIHBob25lOiB0aGlzLmluZm8ucGhvbmUsXG4gICAgICBhZGRyZXNzOiB0aGlzLmluZm8uYWRkcmVzc1xuICAgIH07XG5cbiAgICB0aGlzLmF1dG9Db21wbGV0ZU9wdGlvbnMgPSB7XG4gICAgICBtaW5pbXVtQ2hhcnM6IDEsXG4gICAgICBkYXRhOiBmdW5jdGlvbiAodGVybSkge1xuICAgICAgICB0ZXJtID0gdGVybS50b1VwcGVyQ2FzZSgpO1xuICAgICAgICB2YXIgbWF0Y2ggPSBfLmZpbHRlcihpbmZvLmFnZW5jeUxpc3QsIGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgcmV0dXJuIHZhbHVlLnN0YXJ0c1dpdGgodGVybSk7XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gbWF0Y2g7XG4gICAgICB9XG4gICAgfVxuXG4gIH1cblxuICBcblxuICBjYW5jZWwoKSB7XG4gICAgdGhpcy5fbW9kYWxJbnN0YW5jZS5jbG9zZSgpO1xuICB9XG5cbiAgc3VibWl0KGZvcm0pIHtcbiAgICAvL+mqjOivgeihqOWNlVxuICAgIHRoaXMuX3ZhbGlkYXRpb25Qcm92aWRlci52YWxpZGF0ZShmb3JtKS5zdWNjZXNzKCgpID0+IHtcbiAgICAgIHRoaXMuc2F2ZUZ1bmMoKTtcbiAgICB9KTtcbiAgfVxuXG4gIHNhdmVGdW5jKCkge1xuICAgIGNvbnN0IGRhdGEgPSB7XG4gICAgICBpZDogdGhpcy5pbmZvLmlkLFxuICAgICAgbmFtZTogdGhpcy5pbnB1dEluZm8ubmFtZSxcbiAgICAgIHBob25lOiB0aGlzLmlucHV0SW5mby5waG9uZSxcbiAgICAgIGFkZHJlc3M6IHRoaXMuaW5wdXRJbmZvLmFkZHJlc3NcbiAgICB9XG4gICAgdGhpcy5fc2VydmljZS5zZXQoZGF0YSkudGhlbihkYXRhID0+IHtcbiAgICAgIHRoaXMuX3RvYXN0ci5zdWNjZXNzKCfkv67mlLnmiJDlip8nKTtcbiAgICAgIHRoaXMuY2FuY2VsKCk7XG4gICAgICB0aGlzLl9zdGF0ZS5yZWxvYWQoKTtcbiAgICB9KVxuICB9XG59XG4iLCJpbXBvcnQgQ29udHJvbGxlciBmcm9tICcuL2N0cmwnO1xuXG5jb25zdCBDb25maWd1cmF0aW9uID0ge1xuICB0ZW1wbGF0ZVVybDogJ21vZHVsZXMvYmFuay9tb2RhbHMvZWRpdC90ZW1wbGF0ZS5odG1sJyxcbiAgY29udHJvbGxlcjogQ29udHJvbGxlcixcbiAgY29udHJvbGxlckFzOiAndm0nXG59O1xuXG5leHBvcnQgZGVmYXVsdCBDb25maWd1cmF0aW9uO1xuIiwiaW1wb3J0IGJyYW5jaENvbmZpZyBmcm9tICcuL2JyYW5jaCc7XG5pbXBvcnQgYWRkQ29uZmlnIGZyb20gJy4vYWRkJztcbmltcG9ydCBtYXBDb25maWcgZnJvbSAnLi9tYXAnO1xuaW1wb3J0IGVkaXRDb25maWcgZnJvbSAnLi9lZGl0JztcblxuZXhwb3J0IHtcbiAgYnJhbmNoQ29uZmlnLFxuICBhZGRDb25maWcsXG4gIG1hcENvbmZpZyxcbiAgZWRpdENvbmZpZ1xufVxuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgQ29udHJvbGxlciB7XG4gIGNvbnN0cnVjdG9yKCRzY29wZSwgJHN0YXRlLCAkdmFsaWRhdGlvbiwgJHVpYk1vZGFsSW5zdGFuY2UsIHRvYXN0ciwgQmFua1NlcnZpY2UsIGluZm8pIHtcbiAgICAnbmdJbmplY3QnO1xuXG4gICAgdGhpcy5fc2NvcGUgPSAkc2NvcGU7XG4gICAgdGhpcy5fc3RhdGUgPSAkc3RhdGU7XG5cbiAgICB0aGlzLl92YWxpZGF0aW9uUHJvdmlkZXIgPSAkdmFsaWRhdGlvbjtcblxuICAgIHRoaXMuX21vZGFsSW5zdGFuY2UgPSAkdWliTW9kYWxJbnN0YW5jZTtcbiAgICB0aGlzLl90b2FzdHIgPSB0b2FzdHI7XG5cbiAgICB0aGlzLl9zZXJ2aWNlID0gQmFua1NlcnZpY2U7XG5cbiAgICB0aGlzLmluZm8gPSBpbmZvO1xuXG4gICAgaWYgKHRoaXMuaW5mby5jb29yZGluYXRlcyA9PSBudWxsICkge1xuICAgICAgdGhpcy5sb25naXR1ZGUgPSAxMTYuMzMxMzk4LFxuICAgICAgdGhpcy5sYXRpdHVkZSA9IDM5Ljg5NzQ0NVxuICAgIH0gZWxzZSB7XG4gICAgICBbdGhpcy5sb25naXR1ZGUsIHRoaXMubGF0aXR1ZGVdID0gdGhpcy5pbmZvLmNvb3JkaW5hdGVzLnNwbGl0KFwiLFwiKTtcbiAgICB9XG5cbiAgICB0aGlzLm9wdHMgPSB7XG4gICAgICBjZW50ZXI6IHtcbiAgICAgICAgbG9uZ2l0dWRlOiB0aGlzLmxvbmdpdHVkZSxcbiAgICAgICAgbGF0aXR1ZGU6IHRoaXMubGF0aXR1ZGVcbiAgICAgIH0sXG4gICAgICB6b29tOiAxMSxcbiAgICAgIGNpdHk6ICdTaGVuWmhlbicsXG4gICAgICBlbmFibGVTY3JvbGxXaGVlbFpvb206IHRydWVcbiAgICB9XG4gIH1cblxuICBsb2FkTWFwKG1hcCkge1xuICAgIG1hcC5kaXNhYmxlQXV0b1Jlc2l6ZSgpO1xuICAgIG1hcC5lbmFibGVBdXRvUmVzaXplKCk7XG4gICAgaWYgKHRoaXMuaW5mby5jb29yZGluYXRlcyA9PSBudWxsKSB7XG4gICAgICBmdW5jdGlvbiBteUZ1bihyZXN1bHQpe1xuICAgICAgICB2YXIgY2l0eU5hbWUgPSByZXN1bHQubmFtZTtcbiAgICAgICAgbWFwLnNldENlbnRlcihjaXR5TmFtZSk7XG4gICAgICB9XG4gICAgICB2YXIgbXlDaXR5ID0gbmV3IEJNYXAuTG9jYWxDaXR5KCk7XG4gICAgICBteUNpdHkuZ2V0KG15RnVuKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdmFyIHBvaW50ID0gbmV3IEJNYXAuUG9pbnQodGhpcy5sb25naXR1ZGUsdGhpcy5sYXRpdHVkZSk7XG4gICAgICBuZXcgQk1hcC5HZW9jb2RlcigpLmdldExvY2F0aW9uKFxuICAgICAgICAgIHBvaW50LCBmdW5jdGlvbihycyl7XG4gICAgICAgICAgICBtYXAuc2V0Q2VudGVyKHJzLmFkZHJlc3NDb21wb25lbnRzLmNpdHkpO1xuICAgICAgICAgIH0pO1xuICAgIH1cbiAgICB2YXIgdGhhdCA9IHRoaXM7XG4gICAgbWFwLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLGZ1bmN0aW9uKGUpe1xuICAgICAgdmFyIHB0ID0gZS5wb2ludDtcbiAgICAgIHRoYXQubGF0aXR1ZGUgPSBwdC5sYXQ7XG4gICAgICB0aGF0LmxvbmdpdHVkZSA9IHB0LmxuZztcbiAgICAgIG5ldyBCTWFwLkdlb2NvZGVyKCkuZ2V0TG9jYXRpb24oXG4gICAgICAgIHB0LCBmdW5jdGlvbihycyl7XG4gICAgICAgIHZhciBhZGRDb21wID0gcnMuYWRkcmVzc0NvbXBvbmVudHM7XG4gICAgICAgIHZhciByID0gY29uZmlybShhZGRDb21wLnByb3ZpbmNlICsgXCIsIFwiICsgYWRkQ29tcC5jaXR5ICsgXCIsIFwiICsgYWRkQ29tcC5kaXN0cmljdCArIFwiLCBcIiArIGFkZENvbXAuc3RyZWV0ICsgXCIsIFwiICsgYWRkQ29tcC5zdHJlZXROdW1iZXIpO1xuICAgICAgICBpZiAocikge1xuICAgICAgICAgIHRoYXQuX3NlcnZpY2Uuc2V0KHtcbiAgICAgICAgICAgIGlkOiB0aGF0LmluZm8uaWQsXG4gICAgICAgICAgICBhZGRyZXNzOiBhZGRDb21wLnByb3ZpbmNlICsgYWRkQ29tcC5jaXR5ICsgYWRkQ29tcC5kaXN0cmljdCArIGFkZENvbXAuc3RyZWV0ICsgYWRkQ29tcC5zdHJlZXROdW1iZXIsXG4gICAgICAgICAgICBjb29yZGluYXRlczogdGhhdC5sb25naXR1ZGUrIFwiLFwiICsgdGhhdC5sYXRpdHVkZVxuICAgICAgICAgIH0pLnRoZW4oZGF0YSA9PiB7XG4gICAgICAgICAgICB0aGF0LmNhbmNlbCgpO1xuICAgICAgICAgICAgdGhhdC5fdG9hc3RyLnN1Y2Nlc3MoJ+iuvue9ruaIkOWKnycpO1xuICAgICAgICAgICAgdGhhdC5fc3RhdGUucmVsb2FkKCk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH0pXG4gICAgfSk7XG4gIH07XG5cbiAgY2FuY2VsKCkge1xuICAgIHRoaXMuX21vZGFsSW5zdGFuY2UuY2xvc2UoKTtcbiAgfVxufVxuIiwiaW1wb3J0IENvbnRyb2xsZXIgZnJvbSAnLi9jdHJsJztcblxuY29uc3QgQ29uZmlndXJhdGlvbiA9IHtcbiAgdGVtcGxhdGVVcmw6ICdtb2R1bGVzL2JhbmsvbW9kYWxzL21hcC90ZW1wbGF0ZS5odG1sJyxcbiAgY29udHJvbGxlcjogQ29udHJvbGxlcixcbiAgY29udHJvbGxlckFzOiAndm0nXG59O1xuXG5leHBvcnQgZGVmYXVsdCBDb25maWd1cmF0aW9uO1xuIiwiaW1wb3J0IGFuZ3VsYXIgZnJvbSAnYW5ndWxhcic7XG5pbXBvcnQgYm9vdHN0cmFwIGZyb20gJ2Jvb3RzdHJhcCc7XG5pbXBvcnQgY29uZmlnICBmcm9tICcuL2NvbmZpZyc7XG5pbXBvcnQgc2VydmljZSBmcm9tICcuL3NlcnZpY2UnO1xuaW1wb3J0IExpc3QgZnJvbSAnLi9saXN0Lyc7XG5pbXBvcnQge25nQmFpZHVNYXB9IGZyb20gJ2FuZ3VsYXItYmFpZHUtbWFwJztcblxuLy8gaW1wb3J0IGRlbW9TZXJ2aWNlICAgICAgZnJvbSAnLi9zZXJ2aWNlcy9kZW1vLnNlcnZpY2UnO1xuXG5cblxuXG5leHBvcnQgZGVmYXVsdCBhbmd1bGFyLm1vZHVsZSgnYXBwLm1vZHVsZXMuYmFuaycsIFtuZ0JhaWR1TWFwXSlcbi8vIC5maWx0ZXIoJ2ZpbHRlclR5cGUnLCBmaWx0ZXJUeXBlKVxuLnNlcnZpY2UoJ0JhbmtTZXJ2aWNlJywgc2VydmljZSlcblxuLmNvbXBvbmVudCgnYmFua0xpc3QnLCBMaXN0KVxuLmNvbmZpZyhjb25maWcpXG4vLyAuY29uZmlnKFsnbWFwU2NyaXB0U2VydmljZVByb3ZpZGVyJywgZnVuY3Rpb24ocHJvdmlkZXIpIHtcbi8vICAgICBwcm92aWRlci5zZXRLZXkoJzhCRWFTZG84RTdWRUhqTTBweFdzOGdJc0hoa0RsT09XJyk7XG4vLyB9XSlcbjtcbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIFNlcnZpY2Uge1xuICBjb25zdHJ1Y3RvcigkaHR0cCwgaHR0cEhlbHBlciwgJHJvb3RTY29wZSwgJHN0YXRlLCBBcGlNYXApIHtcbiAgICAnbmdJbmplY3QnO1xuXG4gICAgdGhpcy5faHR0cCA9ICRodHRwO1xuICAgIC8vIHRoaXMuJHEgPSAkcTtcbiAgICB0aGlzLl9odHRwSGVscGVyID0gaHR0cEhlbHBlcjtcblxuICAgIHRoaXMuX2FwaSA9IEFwaU1hcC5iYW5rO1xuXG4gICAgdGhpcy5fcm9vdFNjb3BlID0gJHJvb3RTY29wZTtcbiAgICB0aGlzLl9zdGF0ZSA9ICRzdGF0ZTtcbiAgfVxuXG4gIGxpc3QocGFyYW1zKSB7XG4gICAgXG4gICAgdGhpcy5faHR0cEhlbHBlci5ibG9ja1VJLnN0YXJ0KCk7XG5cbiAgICByZXR1cm4gdGhpcy5faHR0cC5wb3N0KHRoaXMuX2FwaS5nZXQsIHBhcmFtcykudGhlbih0aGlzLl9odHRwSGVscGVyLnZlcmlmeSwgIHRoaXMuX2h0dHBIZWxwZXIuZXJyb3IpO1xuICB9XG5cbiAgYWRkKHBhcmFtcykge1xuICAgIFxuICAgIHRoaXMuX2h0dHBIZWxwZXIuYmxvY2tVSS5zdGFydCgpO1xuXG4gICAgcmV0dXJuIHRoaXMuX2h0dHAucG9zdCh0aGlzLl9hcGkuYWRkLCBwYXJhbXMpLnRoZW4odGhpcy5faHR0cEhlbHBlci52ZXJpZnksICB0aGlzLl9odHRwSGVscGVyLmVycm9yKTtcbiAgfVxuXG5cbiAgc2V0KHBhcmFtcykge1xuICAgIFxuICAgIHRoaXMuX2h0dHBIZWxwZXIuYmxvY2tVSS5zdGFydCgpO1xuXG4gICAgcmV0dXJuIHRoaXMuX2h0dHAucG9zdCh0aGlzLl9hcGkuc2V0LCBwYXJhbXMpLnRoZW4odGhpcy5faHR0cEhlbHBlci52ZXJpZnksICB0aGlzLl9odHRwSGVscGVyLmVycm9yKTtcbiAgfVxufSIsImV4cG9ydCBjbGFzcyBEYXNoYm9hcmRDb250cm9sbGVyIHtcblxuICBjb25zdHJ1Y3Rvcigkcm9vdFNjb3BlLCAkc2NvcGUsIGJhc2VTZXJ2aWNlLCB1dGlsU2VydmljZSwgQXBwU2V0dGluZ3MpIHtcbiAgICAnbmdJbmplY3QnO1xuXG4gICAgdGhpcy5odG1sID0gJyc7XG5cbiAgICB0aGlzLnRleHQgPSAnIyMjIOagh+mimFxcbicrXG5cdFx0XHRcdCdgYGBcXG5jb25zb2xlLmxvZyhBcnJheS5ldmVyeShjbGFzc2VzLCBCb29sZWFuKSk7XFxuYGBgXFxuJytcblx0XHRcdFx0J2BgYGphdmFzY3JpcHRcXG5jb25zb2xlLmxvZyhBcnJheS5ldmVyeShjbGFzc2VzLCBCb29sZWFuKSk7XFxuYGBgXFxuJytcblx0XHRcdFx0J2BgYHhtbFxcbjxodG1sPlxcblxcdDxoZWFkPlxcblxcdDwvaGVhZD5cXG5cXHQ8Ym9keT5cXG5cXHQ8L2JvZHk+XFxuPC9odG1sPlxcbmBgYCc7XG5cblx0ICB2YXIgZGVzdHJveVdhdGNoVGV4dCA9ICRzY29wZS4kd2F0Y2goJ3ZtLnRleHQnLCAoKSA9PiB7XG4gIFx0XHRjb25zb2xlLmxvZyhtYXJrZWQodGhpcy50ZXh0KSk7XG5cbiAgICAgIHRoaXMuaHRtbCA9IG1hcmtlZCh0aGlzLnRleHQpO1xuICBcdH0pO1xuLypcbiAgKiAkc2NvcGXplIDmr4HnmoTml7blgJks57uT5p2f55uR5ZCsXG4gICovXG4gICAgJHNjb3BlLiRvbignJGRlc3Ryb3knLCBkZXN0cm95V2F0Y2hUZXh0KTtcblxuICAgIHRoaXMuaW5pdCgpO1xuXG4gIH1cblxuICBpbml0KCkge1xuXG4gICBcbiAgfVxuXG59XG5cbmV4cG9ydCBjb25zdCBkYXNoYm9hcmQgPSB7XG4gIHRlbXBsYXRlVXJsOiAnbW9kdWxlcy9kYXNoYm9hcmQvZGFzaGJvYXJkLmh0bWwnLFxuICBjb250cm9sbGVyOiBEYXNoYm9hcmRDb250cm9sbGVyLFxuICBjb250cm9sbGVyQXM6ICd2bSdcbn07XG4iLCJpbXBvcnQgYW5ndWxhciAgICAgICAgICBmcm9tICdhbmd1bGFyJztcbmltcG9ydCB7ZGFzaGJvYXJkfSAgICAgIGZyb20gJy4vZGFzaGJvYXJkJztcbmltcG9ydCBkYXNoYm9hcmRTZXJ2aWNlIGZyb20gJy4vZGFzaGJvYXJkLnNlcnZpY2UnO1xuXG5cbmV4cG9ydCBkZWZhdWx0IGFuZ3VsYXIubW9kdWxlKCdhcHAubW9kdWxlcy5kYXNoYm9hcmQnLCBbXSlcbi8vIC5zZXJ2aWNlKCdkYXNoYm9hcmRTZXJ2aWNlJywgZGFzaGJvYXJkU2VydmljZSlcbi5jb21wb25lbnQoJ2Rhc2hib2FyZCcsIGRhc2hib2FyZCk7XG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBkYXNoYm9hcmRTZXJ2aWNlIHtcblxuICBjb25zdHJ1Y3RvcihBcHBTZXR0aW5ncywgdXRpbFNlcnZpY2UsIGh0dHBIZWxwZXIsICRodHRwKSB7XG4gICAgJ25nSW5qZWN0JztcblxuICAgIFxuXG4gIH1cblxufVxuIiwiXG5jbGFzcyBMaXN0Q29udHJvbGxlciB7XG5cbiAgY29uc3RydWN0b3IoJHJvb3RTY29wZSwgJHN0YXRlLCB0b2FzdHIsIEFwcFNldHRpbmdzLCBDb25maWdTZXJ2aWNlLCBQcm9maWxlU2VydmljZSkge1xuICAgICduZ0luamVjdCc7XG5cbiAgICB0aGlzLiRzdGF0ZSA9ICRzdGF0ZTtcbiAgICB0aGlzLnN0YXRpY01lbnVJdGVtcyA9IFtdO1xuICAgIHRoaXMuX2lzTWVudUNvbGxhcHNlZCA9IHRydWU7XG5cbiAgICB0aGlzLl9zZXJ2aWNlID0gQ29uZmlnU2VydmljZTtcbiAgICB0aGlzLnJvbGVMaXN0ID0gUHJvZmlsZVNlcnZpY2UuZ2V0Um9sZUxpc3QoKTtcblxuICAgIHRoaXMuX3Njb3BlID0gJHJvb3RTY29wZTtcbiAgICB0aGlzLl90b2FzdHIgPSB0b2FzdHI7XG5cbiAgICB0aGlzLmtleSA9IEFwcFNldHRpbmdzLmFjY2Vzc0tleTtcbiAgICB0aGlzLnJvbGVLZXkgPSBBcHBTZXR0aW5ncy5yb2xlTGlzdEtleTtcblxuICAgIC8vIHRoaXMucm9sZUxpc3QgPSBbXTtcbiAgICB0aGlzLmdldE1lbnVJdGVtcygpO1xuICAgIHRoaXMuX2dldCgpO1xuXG4gIH1cblxuICBfZ2V0KCkge1xuXG4gICAgdGhpcy5fc2VydmljZS5nZXQodGhpcy5rZXkpLnRoZW4oZGF0YSA9PiB7XG4gICAgICBpZihkYXRhKSB7XG4gICAgICAgIHRoaXMuYWNjZXNzID0gYW5ndWxhci5mcm9tSnNvbihkYXRhKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIGdldE1lbnVJdGVtcygpIHtcblxuICAgIGxldCBzdGF0ZXMgPSB0aGlzLmRlZmluZU1lbnVJdGVtU3RhdGVzKCk7XG4gICAgLy8gbGV0IG1lbnVJdGVtcyA9IHN0YXRlcy5maWx0ZXIoaXRlbSA9PiBpdGVtLmxldmVsID09IDAgJiYgIShpdGVtLmFjY2Vzc1JvbGVJZHMgJiYgaXRlbS5hY2Nlc3NSb2xlSWRzLmluZGV4T2YodGhpcy5fc2NvcGUuYWNjZXNzQ29udHJvbC5yb2xlX2lkKSA9PSAtMSkgKTtcbiAgICAvLyBsZXQgbWVudUl0ZW1zID0gc3RhdGVzLmZpbHRlcihpdGVtID0+IGl0ZW0ubGV2ZWwgPT0gMCk7XG5cbiAgICAvLyBtZW51SXRlbXMuZm9yRWFjaCggaXRlbSA9PiB7XG4gICAgLy8gICB2YXIgY2hpbGRyZW4gPSBzdGF0ZXMuZmlsdGVyKCBjaGlsZCA9PiB7XG4gICAgLy8gICAgIHJldHVybiBjaGlsZC5sZXZlbCA9PSAxICYmIGNoaWxkLm5hbWUuaW5kZXhPZihpdGVtLm5hbWUpID09PSAwO1xuICAgIC8vICAgfSk7XG5cbiAgICAvLyAgIGl0ZW0uc3ViTWVudSA9IGNoaWxkcmVuLmxlbmd0aCA/IGNoaWxkcmVuIDogbnVsbDtcblxuICAgIC8vICAgLy8g55So56ys5LiJ57qn55qE5oyH5a6a5YWl5Y+j5pu/5o2i5LqM57qn5oq96LGh6Lev55SxXG4gICAgLy8gICBpdGVtLnN1Yk1lbnUgJiYgaXRlbS5zdWJNZW51LmZvckVhY2goICh0aGlyZCwgaW5kZXgpID0+IHtcbiAgICAvLyAgICAgaWYodGhpcmQuZW50cnkpIHtcbiAgICAvLyAgICAgICBsZXQgZW50cnkgPSBzdGF0ZXMuZmlsdGVyKHggPT4geC5uYW1lID09PSB0aGlyZC5lbnRyeSk7XG4gICAgLy8gICAgICAgaWYoZW50cnkubGVuZ3RoKSB7XG4gICAgLy8gICAgICAgICBpdGVtLnN1Yk1lbnVbaW5kZXhdID0gZW50cnlbMF07XG4gICAgLy8gICAgICAgfVxuICAgIC8vICAgICB9XG4gICAgLy8gICB9KTtcblxuICAgIC8vIH0pO1xuXG4gICAgLy8gdGhpcy5saXN0ID0gbWVudUl0ZW1zLmNvbmNhdCh0aGlzLnN0YXRpY01lbnVJdGVtcyk7XG4gICAgbGV0IGV4dGVuZCAgPSB0aGlzLl9nZXRFbnRlcnByaXNlQWNjZXNzKCk7XG4gICAgdGhpcy5saXN0ID0gc3RhdGVzLmNvbmNhdChleHRlbmQpO1xuXG4gIH1cblxuICBnZXRBbGxTdGF0ZVJlZnNSZWN1cnNpdmUoaXRlbSkge1xuXG4gICAgcmV0dXJuIHRoaXMuX2l0ZXJhdGVTdWJJdGVtcyhpdGVtKTtcblxuICB9XG5cbiAgZGVmaW5lTWVudUl0ZW1TdGF0ZXMoKSB7XG5cbiAgICByZXR1cm4gdGhpcy4kc3RhdGUuZ2V0KCkuZmlsdGVyKGl0ZW0gPT4gaXRlbS5uYW1lICYmIGl0ZW0udGl0bGUpXG4gICAgLy8gICAvLyAuZmlsdGVyKHN0YXRlID0+IHtcbiAgICAvLyAgIC8vICAgcmV0dXJuIHN0YXRlLnNpZGViYXJNZXRhO1xuICAgIC8vICAgLy8gfSlcbiAgICAvLyAgIC5tYXAoc3RhdGUgPT4ge1xuICAgIC8vICAgICB2YXIgbWV0YSA9IHN0YXRlLnNpZGViYXJNZXRhO1xuICAgIC8vICAgICByZXR1cm4ge1xuICAgIC8vICAgICAgIG5hbWU6IHN0YXRlLm5hbWUsXG4gICAgLy8gICAgICAgdGl0bGU6IHN0YXRlLnRpdGxlLFxuICAgIC8vICAgICAgIGxldmVsOiAoc3RhdGUubmFtZS5tYXRjaCgvXFwuL2cpIHx8IFtdKS5sZW5ndGgsXG4gICAgLy8gICAgICAgb3JkZXI6IG1ldGEub3JkZXIsXG4gICAgLy8gICAgICAgaWNvbjogbWV0YS5pY29uLFxuICAgIC8vICAgICAgIHN0YXRlUmVmOiBzdGF0ZS5uYW1lLFxuICAgIC8vICAgICAgIGVudHJ5OiBtZXRhLmVudHJ5LFxuICAgIC8vICAgICAgIGFjY2Vzc1JvbGVJZHM6IG1ldGEuYWNjZXNzUm9sZUlkcyxcbiAgICAvLyAgICAgfTtcbiAgICAvLyAgIH0pXG4gICAgLy8gICAuc29ydCgoYSwgYikgPT4ge1xuICAgIC8vICAgICByZXR1cm4gKGEubGV2ZWwgLSBiLmxldmVsKSAqIDEwMCArIGEub3JkZXIgLSBiLm9yZGVyO1xuICAgIC8vICAgfSk7XG5cbiAgfVxuXG4gIF9nZXRFbnRlcnByaXNlQWNjZXNzKCkge1xuICAgIHJldHVybiBbXG4gICAgICB7XG4gICAgICAgIG5hbWU6ICdlbnRlcnByaXNlLmZpbHRlci5yb2xlX2Ffc3RhdGUnLFxuICAgICAgICB0aXRsZTogJ+S4u+eQhueKtuaAgeetm+mAiSdcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIG5hbWU6ICdlbnRlcnByaXNlLmxpc3Qucm9sZV9zaG93JyxcbiAgICAgICAgdGl0bGU6ICfliJfooajmmL7npLrlrqLmiLfnu4/nkIYnXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBuYW1lOiAnZW50ZXJwcmlzZS5hc3NpZ24ucm9sZScsXG4gICAgICAgIHRpdGxlOiAn5YiG6YWN5a6i5oi357uP55CGJ1xuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgbmFtZTogJ2VudGVycHJpc2UuYXNzaWduLmJyYW5jaCcsXG4gICAgICAgIHRpdGxlOiAn5YiG6YWN5py65p6EJ1xuICAgICAgfSxcbiAgICBdXG4gIH1cblxuXG4gIF9pdGVyYXRlU3ViSXRlbXMoY3VycmVudEl0ZW0pIHtcblxuICAgIGxldCByZXN1bHQgPSBbXTtcbiAgICBjdXJyZW50SXRlbS5zdWJNZW51ICYmIGN1cnJlbnRJdGVtLnN1Yk1lbnUuZm9yRWFjaChzdWJJdGVtID0+IHtcbiAgICAgIHN1Ykl0ZW0uc3RhdGVSZWYgJiYgcmVzdWx0LnB1c2goc3ViSXRlbS5zdGF0ZVJlZik7XG4gICAgICB0aGlzLl9pdGVyYXRlU3ViSXRlbXMoc3ViSXRlbSk7XG4gICAgfSk7XG4gICAgcmV0dXJuIHJlc3VsdDtcblxuICB9XG5cbiAgc3VibWl0KCkge1xuICAgIGNvbnNvbGUubG9nKCdzdWJtaXQnKTtcbiAgICBjb25zb2xlLmxvZyh0aGlzLmFjY2Vzcyk7XG5cbiAgICB0aGlzLl9zZXJ2aWNlLnNldCh7XG4gICAgICBrZXk6IHRoaXMua2V5LFxuICAgICAgdmFsdWU6IGFuZ3VsYXIudG9Kc29uKHRoaXMuYWNjZXNzKVxuICAgIH0pLnRoZW4oZGF0YSA9PiB7XG4gICAgICB0aGlzLl90b2FzdHIuc3VjY2Vzcygn5re75Yqg5oiQ5YqfJyk7XG4gICAgfSk7XG4gIH1cblxufVxuXG5leHBvcnQgZGVmYXVsdCBMaXN0Q29udHJvbGxlcjtcbiIsImltcG9ydCBMaXN0Q29udHJvbGxlciBmcm9tICcuL2N0cmwnO1xuXG5jb25zdCBkZW1vTGlzdCA9IHtcbiAgdGVtcGxhdGVVcmw6ICdtb2R1bGVzL2RlbW8vYWNjZXNzL3RlbXBsYXRlLmh0bWwnLFxuICBjb250cm9sbGVyOiBMaXN0Q29udHJvbGxlcixcbiAgY29udHJvbGxlckFzOiAndm0nXG59O1xuXG5leHBvcnQgZGVmYXVsdCBkZW1vTGlzdDtcbiIsImNsYXNzIENvbnRyb2xsZXIge1xuXG4gIGNvbnN0cnVjdG9yKCkge1xuICAgICduZ0luamVjdCc7XG4gICAgdGhpcy5pbmZvID0ge307XG5cdH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgQ29udHJvbGxlcjsiLCJpbXBvcnQgY3RybCBmcm9tICcuL2N0cmwnO1xuXG5jb25zdCBjb21wb25lbnQgPSB7XG5cdHRlbXBsYXRlVXJsOiAnbW9kdWxlcy9kZW1vL2NvbXBvbmVudC9pbmRleC5odG1sJyxcbiAgY29udHJvbGxlcjogY3RybCxcbiAgY29udHJvbGxlckFzOiAndm0nXG59O1xuXG5leHBvcnQgZGVmYXVsdCBjb21wb25lbnQ7IiwiZnVuY3Rpb24gZGVtb0NvbmZpZygkc3RhdGVQcm92aWRlcikge1xuICAnbmdJbmplY3QnO1xuXG4gICRzdGF0ZVByb3ZpZGVyXG4gICAgLnN0YXRlKCdhY2Nlc3MnLCB7XG4gICAgICAgIHVybDogJy9hY2Nlc3MnLFxuICAgICAgICAvLyBhYnN0cmFjdDogdHJ1ZSxcbiAgICAgICAgdGVtcGxhdGUgOiAnPHVpLXZpZXc+PGRlbW8tYWNjZXNzPjwvZGVtby1hY2Nlc3M+PC91aS12aWV3PicsXG4gICAgICAgIHRpdGxlOiAn5p2D6ZmQ6YWN572uJyxcbiAgICAgICAgc2lkZWJhck1ldGE6IHtcbiAgICAgICAgICBpY29uOiAnaWNvbi1zaWRlYmFyX21lbWJlcnNfaWMnLFxuICAgICAgICAgIG9yZGVyOiAzMDAwLFxuICAgICAgICB9XG4gICAgfSlcbiAgICAvLyAuc3RhdGUoJ2RlbW8ubGlzdCcsIHtcbiAgICAvLyAgICAgdXJsOiAnL2xpc3Q/cGFnZSZnZW5kZXIma2V5d29yZCcsXG4gICAgLy8gICAgIHRlbXBsYXRlOiAnPGRlbW8tbGlzdD48L2RlbW8tbGlzdD4nLFxuICAgIC8vICAgICB0aXRsZTogJ+WIl+ihqCcsXG4gICAgLy8gICAgIHNpZGViYXJNZXRhOiB7XG4gICAgLy8gICAgICAgb3JkZXI6IDMwXG4gICAgLy8gICAgIH1cbiAgICAvLyB9KVxuICAgIC8vIC5zdGF0ZSgnZGVtby5jb21wb25lbnQnLCB7XG4gICAgLy8gICB1cmw6ICcvY29tcG9uZW50JyxcbiAgICAvLyAgIHRlbXBsYXRlOiAnPGRlbW8tY29tcG9uZW50PjwvZGVtby1jb21wb25lbnQ+JyxcbiAgICAvLyAgIHRpdGxlOiAnQ29tcG9uZW50JyxcbiAgICAvLyAgIHNpZGViYXJNZXRhOiB7XG4gICAgLy8gICAgIG9yZGVyOiAxMFxuICAgIC8vICAgfVxuICAgIC8vIH0pXG4gICAgLy8gLnN0YXRlKCdkZW1vLmFjY2VzcycsIHtcbiAgICAvLyAgIHVybDogJy9hY2Nlc3MnLFxuICAgIC8vICAgdGVtcGxhdGU6ICc8ZGVtby1hY2Nlc3M+PC9kZW1vLWFjY2Vzcz4nLFxuICAgIC8vICAgdGl0bGU6ICdhY2Nlc3MnLFxuICAgIC8vICAgc2lkZWJhck1ldGE6IHtcbiAgICAvLyAgICAgb3JkZXI6IDEwXG4gICAgLy8gICB9XG4gICAgLy8gfSlcbiAgICA7XG5cbn1cblxuZXhwb3J0IGRlZmF1bHQgZGVtb0NvbmZpZztcbiIsImltcG9ydCBhbmd1bGFyIGZyb20gJ2FuZ3VsYXInO1xuaW1wb3J0IGNvbmZpZyAgZnJvbSAnLi9kZW1vLmNvbmZpZyc7XG5pbXBvcnQgTGlzdCAgZnJvbSAnLi9saXN0Lyc7XG5pbXBvcnQgQ29tcG9uZW50IGZyb20gJy4vY29tcG9uZW50JztcbmltcG9ydCBBY2Nlc3MgZnJvbSAnLi9hY2Nlc3MnO1xuXG4vLyBpbXBvcnQgZGVtb1NlcnZpY2UgICAgICBmcm9tICcuL3NlcnZpY2VzL2RlbW8uc2VydmljZSc7XG5cblxuXG5leHBvcnQgZGVmYXVsdCBhbmd1bGFyLm1vZHVsZSgnYXBwLm1vZHVsZXMuZGVtbycsIFtdKVxuLy8gLmZpbHRlcignZmlsdGVyVHlwZScsIGZpbHRlclR5cGUpXG5cbi5jb21wb25lbnQoJ2RlbW9MaXN0JywgTGlzdClcbi5jb21wb25lbnQoJ2RlbW9Db21wb25lbnQnLCBDb21wb25lbnQpXG4uY29tcG9uZW50KCdkZW1vQWNjZXNzJywgQWNjZXNzKVxuLmNvbmZpZyhjb25maWcpO1xuIiwiaW1wb3J0IFBhZ2luYXRpb24gZnJvbSAnLi4vLi4vLi4vY29yZS9jb21wb25lbnRzL21jUGFnaW5hdGlvbi9tYy1wYWdpbmF0aW9uLmNsYXNzJztcbmltcG9ydCB7ZWRpdENvbmZpZ3VyYXRpb259IGZyb20gJy4uL21vZGFscyc7XG5cbmNsYXNzIExpc3RDb250cm9sbGVyIGV4dGVuZHMgUGFnaW5hdGlvbiB7XG5cbiAgY29uc3RydWN0b3IoJGluamVjdG9yLCAkbG9jYXRpb24sICRzdGF0ZVBhcmFtcywgJHVpYk1vZGFsLCBBcHBTZXR0aW5ncykge1xuICAgICduZ0luamVjdCc7XG5cbiAgICBzdXBlcigkaW5qZWN0b3IpO1xuXG4gICAgdGhpcy5fbG9jYXRpb24gPSAkbG9jYXRpb247XG4gICAgdGhpcy5fc3RhdGVQYXJhbXMgPSAkc3RhdGVQYXJhbXM7XG4gICAgdGhpcy5fbW9kYWwgPSAkdWliTW9kYWw7XG5cbiAgICBcbiAgICB0aGlzLmdlbmRlckxpc3QgPSBBcHBTZXR0aW5ncy5nZW5kZXJMaXN0O1xuICAgIHRoaXMuZmlsdGVycyA9IHt9O1xuXG4gICAgdGhpcy5zdGFydF9kYXRlID0gbW9tZW50KCk7XG5cbiAgICB0aGlzLmVuZF9kYXRlID0gbW9tZW50KCk7XG4gICAgdGhpcy5zdGFydFRpbWVNYXhMaW1pdCA9IG1vbWVudCgpO1xuICAgIHRoaXMuZW5kVGltZU1heExpbWl0ID0gbW9tZW50KCk7XG5cbiAgICB0aGlzLl9pbml0KCk7XG5cbiAgfVxuXG4gIF9pbml0KCkge1xuXG4gICAgdGhpcy5faW5pdEZpbHRlcnMoKTtcbiAgICB0aGlzLl9nZXRMaXN0KCk7XG5cbiAgfVxuXG4gIF9pbml0RmlsdGVycygpIHtcbiAgICAvLyBjb25zb2xlLmxvZyh0aGlzLl9zdGF0ZVBhcmFtcyk7XG4gICAgY29uc3Qgc3RhdGVQYXJhbXMgPSB0aGlzLl9zdGF0ZVBhcmFtcztcbiAgICAvLyB0aGlzLnBhZ2luYXRpb24ucGFnZSA9ICtzdGF0ZVBhcmFtcy5wYWdlO1xuICAgIHRoaXMuZmlsdGVycy5nZW5kZXIgPSArc3RhdGVQYXJhbXMuZ2VuZGVyIHx8IHZvaWQoMCk7XG5cbiAgICB0aGlzLmZpbHRlcnMua2V5d29yZCA9IHN0YXRlUGFyYW1zLmtleXdvcmQgfHwgdm9pZCgwKTtcblxuICB9XG4gIFxuICBfZ2V0TGlzdCgpIHtcblxuICAgIGxldCBwYXJhbXMgPSB0aGlzLl9maWx0ZXJFbXB0eVZhbHVlKCk7XG4gICAgcGFyYW1zLnBhZ2VTaXplID0gdGhpcy5wYWdpbmF0aW9uLnBhZ2VTaXplO1xuICAgIHBhcmFtcy5wYWdlID0gdGhpcy5wYWdpbmF0aW9uLnBhZ2U7XG5cbiAgICB0aGlzLmxpc3QgPSBbe25hbWU6ICdMaWx5JywgZ2VuZGVyOiAnZmFsbWFuJywgYWdlOiAnMTYnfSwge25hbWU6ICdMaSBsZWknLCBnZW5kZXI6ICdtYW4nLCBhZ2U6ICcyNid9XTtcbiAgICB0aGlzLnBhZ2luYXRpb24uY291bnQgPSAyMDtcblxuICB9XG5cbiAgcmVTZWFyY2goKSB7XG4gICAgbGV0IHBhZ2UgPSAxXG4gICAgdGhpcy5fbG9jYXRpb24uc2VhcmNoKHsuLi50aGlzLl9maWx0ZXJFbXB0eVZhbHVlKCksIHBhZ2V9KTtcbiAgfVxuXG4gIHN3aXRjaChrZXksIHZhbHVlKSB7XG5cbiAgICBpZigha2V5KSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgdGhpcy5maWx0ZXJzW2tleV0gPSB2YWx1ZTtcblxuICAgIHRoaXMucmVTZWFyY2goKTtcbiAgfVxuXG4gIGVkaXQoaXRlbSkge1xuICAgIGNvbnN0IHJlc29sdmUgPSB7XG4gICAgICBpbmZvOiBmdW5jdGlvbigpe1xuICAgICAgICByZXR1cm4gaXRlbTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgY29uc3Qgb3B0aW9ucyA9IHsuLi5lZGl0Q29uZmlndXJhdGlvbiwgcmVzb2x2ZX07XG5cbiAgICB0aGlzLl9tb2RhbC5vcGVuKCBvcHRpb25zICk7XG4gIH1cblxuXG4vLyBkYXRlcGlja2VyXG4gIGNoYW5nZVRpbWUodHlwZSkge1xuICAgIGxldCB2YWx1ZXMgPSB7XG4gICAgICAgIG1pbkRhdGU6IGZhbHNlLFxuICAgICAgICBtYXhEYXRlOiBmYWxzZVxuICAgIH1cbiAgICBpZiAodHlwZSA9PSAnc3RhcnQnKSB7XG4gICAgICB0aGlzLmZpbHRlcnMuc3RhcnRfZGF0ZSA9IHRoaXMuc3RhcnRfZGF0ZS5mb3JtYXQoJ1lZWVktTU0tREQnKTtcbiAgICAgIHRoaXMuZW5kVGltZU1pbkxpbWl0ID0gdGhpcy5zdGFydF9kYXRlO1xuICAgICAgdmFsdWVzLm1pbkRhdGUgPSB0aGlzLnN0YXJ0X2RhdGU7XG4gICAgICB2YWx1ZXMubWF4RGF0ZSA9IG1vbWVudCgpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmZpbHRlcnMuZW5kX2RhdGUgPSB0aGlzLmVuZF9kYXRlLmZvcm1hdCgnWVlZWS1NTS1ERCcpO1xuICAgICAgdGhpcy5zdGFydFRpbWVNYXhMaW1pdCA9IHRoaXMuZW5kX2RhdGU7XG4gICAgICB2YWx1ZXMubWF4RGF0ZSA9IHRoaXMuZW5kX2RhdGU7XG4gICAgfVxuICB9XG5cbn1cblxuZXhwb3J0IGRlZmF1bHQgTGlzdENvbnRyb2xsZXI7XG4iLCJpbXBvcnQgTGlzdENvbnRyb2xsZXIgZnJvbSAnLi9jdHJsJztcblxuY29uc3QgZGVtb0xpc3QgPSB7XG4gIHRlbXBsYXRlVXJsOiAnbW9kdWxlcy9kZW1vL2xpc3QvdGVtcGxhdGUuaHRtbCcsXG4gIGNvbnRyb2xsZXI6IExpc3RDb250cm9sbGVyLFxuICBjb250cm9sbGVyQXM6ICd2bSdcbn07XG5cbmV4cG9ydCBkZWZhdWx0IGRlbW9MaXN0O1xuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgZWRpdENvbnRyb2xsZXIge1xuICBjb25zdHJ1Y3Rvcigkc2NvcGUsICR2YWxpZGF0aW9uLCAkdWliTW9kYWxJbnN0YW5jZSwgdG9hc3RyLCBpbmZvKSB7XG4gICAgJ25nSW5qZWN0JztcblxuICAgIHRoaXMuX3Njb3BlID0gJHNjb3BlO1xuXG4gICAgdGhpcy5fdmFsaWRhdGlvblByb3ZpZGVyID0gJHZhbGlkYXRpb247XG5cbiAgICB0aGlzLl9tb2RhbEluc3RhbmNlID0gJHVpYk1vZGFsSW5zdGFuY2U7XG4gICAgdGhpcy5fdG9hc3RyID0gdG9hc3RyO1xuXG4gICAgdGhpcy5pbmZvID0gaW5mbztcblxuICB9XG5cbiAgXG5cbiAgY2FuY2VsKCkge1xuICAgIHRoaXMuX21vZGFsSW5zdGFuY2UuY2xvc2UoKTtcbiAgfVxuXG4gIHN1Ym1pdChmb3JtKSB7XG4gICAgLy/pqozor4HooajljZVcbiAgICB0aGlzLl92YWxpZGF0aW9uUHJvdmlkZXIudmFsaWRhdGUoZm9ybSkuc3VjY2VzcygoKSA9PiB7XG4gICAgICB0aGlzLnNhdmVGdW5jKCk7XG4gICAgfSk7XG4gIH1cblxuICBzYXZlRnVuYygpIHtcbiAgICBcbiAgfVxufVxuIiwiaW1wb3J0IGVkaXRDb250cm9sbGVyIGZyb20gJy4vY3RybCc7XG5cbmNvbnN0IGVkaXRDb25maWd1cmF0aW9uID0ge1xuICB0ZW1wbGF0ZVVybDogJ21vZHVsZXMvZGVtby9tb2RhbHMvZWRpdC90ZW1wbGF0ZS5odG1sJyxcbiAgY29udHJvbGxlcjogZWRpdENvbnRyb2xsZXIsXG4gIGNvbnRyb2xsZXJBczogJ3ZtJ1xufTtcblxuZXhwb3J0IGRlZmF1bHQgZWRpdENvbmZpZ3VyYXRpb247XG4iLCJpbXBvcnQgZWRpdENvbmZpZ3VyYXRpb24gZnJvbSAnLi9lZGl0JztcblxuZXhwb3J0IHtcbiAgZWRpdENvbmZpZ3VyYXRpb25cbn1cbiIsImZ1bmN0aW9uIENvbmZpZygkc3RhdGVQcm92aWRlcikge1xuICAnbmdJbmplY3QnO1xuXG4gICRzdGF0ZVByb3ZpZGVyXG4gICAgLnN0YXRlKCdlbnRlcnByaXNlJywge1xuICAgICAgICB1cmw6ICcvZW50ZXJwcmlzZT9wYWdlJnJvbGVfYV9kaXNhYmxlJm5hbWUmc3RhdGUmYmFua19uYW1lJyxcbiAgICAgICAgLy8gYWJzdHJhY3Q6IHRydWUsXG4gICAgICAgIHRlbXBsYXRlIDogJzx1aS12aWV3PjxlbnRlcnByaXNlLWxpc3Q+PC9lbnRlcnByaXNlLWxpc3Q+PC91aS12aWV3PicsXG4gICAgICAgIHRpdGxlOiAn5LyB5Lia566h55CGJyxcbiAgICAgICAgc2lkZWJhck1ldGE6IHtcbiAgICAgICAgICBpY29uOiAnaWNvbi1zaWRlYmFyX21lbWJlcnNfaWMnLFxuICAgICAgICAgIG9yZGVyOiA0MDAsXG4gICAgICAgIH1cbiAgICB9KVxuICAgIC8vIC5zdGF0ZSgnZW50ZXJwcmlzZS5saXN0Jywge1xuICAgIC8vICAgICB1cmw6ICc/cGFnZSZyb2xlX2FfZGlzYWJsZSZuYW1lJnN0YXRlJmJhbmtfbmFtZScsXG4gICAgLy8gICAgIHRlbXBsYXRlOiAnPGVudGVycHJpc2UtbGlzdD48L2VudGVycHJpc2UtbGlzdD4nLFxuICAgIC8vICAgICB0aXRsZTogJ+S8geS4muWIl+ihqCcsXG4gICAgLy8gICAgIC8vIHNpZGViYXJNZXRhOiB7XG4gICAgLy8gICAgIC8vICAgb3JkZXI6IDEwXG4gICAgLy8gICAgIC8vIH1cbiAgICAvLyB9KVxuICAgIC5zdGF0ZSgnZW50ZXJwcmlzZS5kZXRhaWwnLCB7XG4gICAgICAgIHVybDogJy9kZXRhaWw/aWQnLFxuICAgICAgICB0ZW1wbGF0ZTogJzxlbnRlcnByaXNlLWRldGFpbD48L2VudGVycHJpc2UtZGV0YWlsPicsXG4gICAgICAgIHRpdGxlOiAn5LyB5Lia6K+m5oOFJyxcbiAgICB9KVxuICAgIDtcblxufVxuXG5leHBvcnQgZGVmYXVsdCBDb25maWc7XG4iLCIvLyBpbXBvcnQge2JyYW5jaENvbmZpZywgbWFuYWdlQ29uZmlnfSBmcm9tICcuLi9tb2RhbHMnO1xuXG4vLyBjb25zdCBtb2NrX2RhdGEgPSB7XCJzdGF0dXNcIjpcIjIwMFwiLFwibWVzc2FnZVwiOlwi5p+l6K+i5oiQ5YqfXCIsXCJkYXRhXCI6e1wibmFtZVwiOlwi5bCP57Gz56eR5oqA5pyJ6ZmQ6LSj5Lu75YWs5Y+4XCIsXCJlY29uX2tpbmRcIjpcIuaciemZkOi0o+S7u+WFrOWPuCjoh6rnhLbkurrmipXotYTmiJbmjqfogqEpXCIsXCJyZWdpc3RfY2FwaVwiOlwiMTg1MDAwIOS4h+S6uuawkeW4gVwiLFwic2NvcGVcIjpcIuaJi+acuuaKgOacr+W8gOWPke+8m+aJi+acuueUn+S6p+OAgeaJi+acuuacjeWKoeOAgu+8iOmZkOa1t+a3gOWMuuawuOaNt+WMl+i3rzLlj7fkuozlsYLnu4/okKXvvInvvJvmioDmnK/lvIDlj5HvvJvotKfnianov5vlh7rlj6PjgIHmioDmnK/ov5vlh7rlj6PjgIHku6PnkIbov5vlh7rlj6PvvJvplIDllK7pgJrorq/orr7lpIfvvJvnu7Tkv67ku6rlmajku6rooajvvJvnu7Tkv67lip7lhazorr7lpIfvvJvmib/lip7lsZXop4jlsZXnpLrmtLvliqjvvJvkvJrorq7mnI3liqHvvJvnrbnlpIfjgIHnrZbliJLjgIHnu4Tnu4flpKflnovluoblhbjjgILvvIjkvIHkuJrkvp3ms5Xoh6rkuLvpgInmi6nnu4/okKXpobnnm67vvIzlvIDlsZXnu4/okKXmtLvliqjvvJvkvp3ms5Xpobvnu4/mibnlh4bnmoTpobnnm67vvIznu4/nm7jlhbPpg6jpl6jmibnlh4blkI7kvp3mibnlh4bnmoTlhoXlrrnlvIDlsZXnu4/okKXmtLvliqjvvJvkuI3lvpfku47kuovmnKzluILkuqfkuJrmlL/nrZbnpoHmraLlkozpmZDliLbnsbvpobnnm67nmoTnu4/okKXmtLvliqjjgILvvIlcIixcInRlcm1fc3RhcnRcIjpcIjIwMTAtMDMtMDNcIixcInRlcm1fZW5kXCI6XCIyMDMwLTAzLTAyXCIsXCJiZWxvbmdfb3JnXCI6XCLmtbfmt4DliIblsYBcIixcIm9wZXJfbmFtZVwiOlwi6Zu35YabXCIsXCJjaGVja19kYXRlXCI6XCIyMDE1LTAzLTAzXCIsXCJzdGFydF9kYXRlXCI6XCIyMDEwLTAzLTAzXCIsXCJlbmRfZGF0ZVwiOlwiLVwiLFwic3RhdHVzXCI6XCLlvIDkuJpcIixcIm9yZ19ub1wiOlwiNTUxMzg1MDgyXCIsXCJjcmVkaXRfbm9cIjpcIjkxMTEwMTA4NTUxMzg1MDgyUVwiLFwicHJvdmluY2VcIjpcIkJKXCIsXCJpZFwiOlwiNTM0NDcyZmQtN2Q1My00OTU4LTgxMzItZDZhNjI0MjQyM2Q4XCIsXCJhYm5vcm1hbF9pdGVtc1wiOltdLFwicmVnX25vXCI6XCIxMTAxMDgwMTI2NjA0MjJcIixcImFkZHJlc3NcIjpcIuWMl+S6rOW4gua1t+a3gOWMuua4heays+S4reihlzY45Y+35Y2O5ram5LqU5b2p5Z+O6LSt54mp5Lit5b+D5LqM5pyfMTPlsYJcIixcImVtcGxveWVlc1wiOlt7XCJuYW1lXCI6XCLpm7flhptcIixcImpvYl90aXRsZVwiOlwi6JGj5LqL6ZW/XCJ9LHtcIm5hbWVcIjpcIuael+aWjFwiLFwiam9iX3RpdGxlXCI6XCLokaPkuotcIn0se1wibmFtZVwiOlwi5YiY6Iq5XCIsXCJqb2JfdGl0bGVcIjpcIuiRo+S6i1wifSx7XCJuYW1lXCI6XCLorrjovr7mnaVcIixcImpvYl90aXRsZVwiOlwi6JGj5LqLXCJ9LHtcIm5hbWVcIjpcIumbt+WGm1wiLFwiam9iX3RpdGxlXCI6XCLnu4/nkIZcIn0se1wibmFtZVwiOlwi6buO5LiH5by6XCIsXCJqb2JfdGl0bGVcIjpcIuebkeS6i1wifV0sXCJicmFuY2hlc1wiOltdLFwiY2hhbmdlcmVjb3Jkc1wiOlt7XCJjaGFuZ2VfaXRlbVwiOlwi5rOo5YaM6LWE5pysXCIsXCJjaGFuZ2VfZGF0ZVwiOlwiMjAxNi0wMy0yNFwiLFwiYmVmb3JlX2NvbnRlbnRcIjpcIjUwMDDkuIflhYNcIixcImFmdGVyX2NvbnRlbnRcIjpcIjE4NTAwMOS4h+WFg1wifSx7XCJjaGFuZ2VfaXRlbVwiOlwi6JGj5LqL77yI55CG5LqL77yJ44CB57uP55CG44CB55uR5LqLXCIsXCJjaGFuZ2VfZGF0ZVwiOlwiMjAxNC0wMy0xMlwiLFwiYmVmb3JlX2NvbnRlbnRcIjpcIu+8iOazqO+8muagh+acieagh+W/l+eahOS4uuazleWumuS7o+ihqOS6uu+8iTEg6Zu35YabIOiRo+S6i+mVvyAyIOiuuOi+vuadpSDokaPkuosgMyDliJjoirkg6JGj5LqLIDQg5p6X5paMIOiRo+S6iyA1IOmCneWtkOW5syDokaPkuosgNiDpm7flhpsg57uP55CGIDcg6buO5LiH5by6IOebkeS6iyBcIixcImFmdGVyX2NvbnRlbnRcIjpcIu+8iOazqO+8muagh+acieagh+W/l+eahOS4uuazleWumuS7o+ihqOS6uu+8iTEg6Zu35YabIOiRo+S6i+mVvyAyIOiuuOi+vuadpSDokaPkuosgMyDliJjoirkg6JGj5LqLIDQg5p6X5paMIOiRo+S6iyA1IOmbt+WGmyDnu4/nkIYgNiDpu47kuIflvLog55uR5LqLIFwifSx7XCJjaGFuZ2VfaXRlbVwiOlwi6JGj5LqL77yI55CG5LqL77yJ44CB57uP55CG44CB55uR5LqLXCIsXCJjaGFuZ2VfZGF0ZVwiOlwiMjAxMy0xMS0wN1wiLFwiYmVmb3JlX2NvbnRlbnRcIjpcIu+8iOazqO+8muagh+acieagh+W/l+eahOS4uuazleWumuS7o+ihqOS6uu+8iTEg6Zu35YabIOiRo+S6i+mVvyAyIOael+aWjCDokaPkuosgMyDliJjoirkg6JGj5LqLIDQgSEFOUyBUVU5HIOiRo+S6iyA1IOmbt+WGmyDnu4/nkIYgNiDpu47kuIflvLog55uR5LqLIFwiLFwiYWZ0ZXJfY29udGVudFwiOlwi77yI5rOo77ya5qCH5pyJ5qCH5b+X55qE5Li65rOV5a6a5Luj6KGo5Lq677yJMSDpm7flhpsg6JGj5LqL6ZW/IDIg6K646L6+5p2lIOiRo+S6iyAzIOWImOiKuSDokaPkuosgNCDmnpfmlowg6JGj5LqLIDUg6YKd5a2Q5bmzIOiRo+S6iyA2IOmbt+WGmyDnu4/nkIYgNyDpu47kuIflvLog55uR5LqLIFwifSx7XCJjaGFuZ2VfaXRlbVwiOlwi5LyB5Lia5ZCN56ewXCIsXCJjaGFuZ2VfZGF0ZVwiOlwiMjAxMy0wNy0zMFwiLFwiYmVmb3JlX2NvbnRlbnRcIjpcIuWMl+S6rOWwj+exs+enkeaKgOaciemZkOi0o+S7u+WFrOWPuFwiLFwiYWZ0ZXJfY29udGVudFwiOlwi5bCP57Gz56eR5oqA5pyJ6ZmQ6LSj5Lu75YWs5Y+4XCJ9LHtcImNoYW5nZV9pdGVtXCI6XCLkvY/miYBcIixcImNoYW5nZV9kYXRlXCI6XCIyMDEzLTA3LTMwXCIsXCJiZWZvcmVfY29udGVudFwiOlwi5YyX5Lqs5biC5rW35reA5Yy65rC45o235YyX6LevMuWPt+S6jOWxglwiLFwiYWZ0ZXJfY29udGVudFwiOlwi5YyX5Lqs5biC5rW35reA5Yy65riF5rKz5Lit6KGXNjjlj7fljY7mtqbkupTlvanln47otK3niankuK3lv4PkuozmnJ8xM+WxglwifSx7XCJjaGFuZ2VfaXRlbVwiOlwi5rOo5YaM6LWE5pysXCIsXCJjaGFuZ2VfZGF0ZVwiOlwiMjAxMy0wNi0wNFwiLFwiYmVmb3JlX2NvbnRlbnRcIjpcIjI2OTEuNTk4OeS4h+WFg1wiLFwiYWZ0ZXJfY29udGVudFwiOlwiNTAwMOS4h+WFg1wifSx7XCJjaGFuZ2VfaXRlbVwiOlwi5a6e5pS26LWE5pys77yI6YeR77yJXCIsXCJjaGFuZ2VfZGF0ZVwiOlwiMjAxMy0wNi0wNFwiLFwiYmVmb3JlX2NvbnRlbnRcIjpcIjI2OTEuNTk4OeS4h+WFg1wiLFwiYWZ0ZXJfY29udGVudFwiOlwiNTAwMOS4h+WFg1wifSx7XCJjaGFuZ2VfaXRlbVwiOlwi6K6k57y055qE5Ye66LWE6aKdLOWunue8tOeahOWHuui1hOminVwiLFwiY2hhbmdlX2RhdGVcIjpcIjIwMTMtMDYtMDRcIixcImJlZm9yZV9jb250ZW50XCI6XCIxIOmbt+WGmyAyMDk0LjE3IOiHqueEtuS6uuiCoeS4nCAyIOm7juS4h+W8uiAyNzIuNDUg6Ieq54S25Lq66IKh5LicIDMg5rSq6ZSLIDI3MC44NyDoh6rnhLbkurrogqHkuJwgNCDliJjlvrcgNTQuMSDoh6rnhLbkurrogqHkuJwgXCIsXCJhZnRlcl9jb250ZW50XCI6XCIxIOmbt+WGmyAzODkwLjExIOiHqueEtuS6uuiCoeS4nCAyIOm7juS4h+W8uiA1MDYuMDYg6Ieq54S25Lq66IKh5LicIDMg5rSq6ZSLIDUwMy4zMyDoh6rnhLbkurrogqHkuJwgNCDliJjlvrcgMTAwLjUg6Ieq54S25Lq66IKh5LicIFwifSx7XCJjaGFuZ2VfaXRlbVwiOlwi57uP6JCl6IyD5Zu0XCIsXCJjaGFuZ2VfZGF0ZVwiOlwiMjAxMi0wOC0yOVwiLFwiYmVmb3JlX2NvbnRlbnRcIjpcIuaJi+acuuaKgOacr+W8gOWPke+8m+aJi+acuueUn+S6p+OAgeaJi+acuuacjeWKoeOAguaKgOacr+W8gOWPke+8m+i0p+eJqei/m+WHuuWPo+OAgeaKgOacr+i/m+WHuuWPo+OAgeS7o+eQhui/m+WHuuWPo+OAglwiLFwiYWZ0ZXJfY29udGVudFwiOlwi5omL5py65oqA5pyv5byA5Y+R77yb5omL5py655Sf5Lqn44CB5omL5py65pyN5Yqh44CC5oqA5pyv5byA5Y+R77yb6LSn54mp6L+b5Ye65Y+j44CB5oqA5pyv6L+b5Ye65Y+j44CB5Luj55CG6L+b5Ye65Y+j77yb6ZSA5ZSu6YCa6K6v6K6+5aSH77yb57u05L+u5Luq5Zmo5Luq6KGo77yb57u05L+u5Yqe5YWs6K6+5aSH77yb5om/5Yqe5bGV6KeI5bGV56S65rS75Yqo77yb5Lya6K6u5pyN5Yqh77yb56255aSH44CB562W5YiS44CB57uE57uH5aSn5Z6L5bqG5YW444CCIO+8iOacquWPluW+l+ihjOaUv+iuuOWPr+eahOmhueebrumZpOWklu+8iVwifSx7XCJjaGFuZ2VfaXRlbVwiOlwi5rOo5YaM6LWE5pysXCIsXCJjaGFuZ2VfZGF0ZVwiOlwiMjAxMS0wNS0yNFwiLFwiYmVmb3JlX2NvbnRlbnRcIjpcIjI2MzcuNDk3OOS4h+WFg1wiLFwiYWZ0ZXJfY29udGVudFwiOlwiMjY5MS41OTg55LiH5YWDXCJ9LHtcImNoYW5nZV9pdGVtXCI6XCLlrp7mlLbotYTmnKzvvIjph5HvvIlcIixcImNoYW5nZV9kYXRlXCI6XCIyMDExLTA1LTI0XCIsXCJiZWZvcmVfY29udGVudFwiOlwiMjYzNy40OTc45LiH5YWDXCIsXCJhZnRlcl9jb250ZW50XCI6XCIyNjkxLjU5ODnkuIflhYNcIn0se1wiY2hhbmdlX2l0ZW1cIjpcIuiupOe8tOeahOWHuui1hOminSzorqTnvLTnmoTlh7rotYTmlrnlvI8s6K6k57y055qE5Ye66LWE5pe26Ze0LOWunue8tOeahOWHuui1hOminSzlrp7nvLTnmoTlh7rotYTmlrnlvI8s5a6e57y055qE5Ye66LWE5pe26Ze0LOaKlei1hOS6ulwiLFwiY2hhbmdlX2RhdGVcIjpcIjIwMTEtMDUtMjRcIixcImJlZm9yZV9jb250ZW50XCI6XCIxIOmbt+WGmyAyMDk0LjE3IOiHqueEtuS6uuiCoeS4nCAyIOm7juS4h+W8uiAyNzIuNDUg6Ieq54S25Lq66IKh5LicIDMg5rSq6ZSLIDI3MC44NyDoh6rnhLbkurrogqHkuJwgXCIsXCJhZnRlcl9jb250ZW50XCI6XCIxIOmbt+WGmyAyMDk0LjE3IOiHqueEtuS6uuiCoeS4nCAyIOm7juS4h+W8uiAyNzIuNDUg6Ieq54S25Lq66IKh5LicIDMg5rSq6ZSLIDI3MC44NyDoh6rnhLbkurrogqHkuJwgNCDliJjlvrcgNTQuMSDoh6rnhLbkurrogqHkuJwgXCJ9LHtcImNoYW5nZV9pdGVtXCI6XCLkvY/miYBcIixcImNoYW5nZV9kYXRlXCI6XCIyMDExLTAyLTE0XCIsXCJiZWZvcmVfY29udGVudFwiOlwi5YyX5Lqs5biC5rW35reA5Yy65YyX5Zub546v6KW/6LevOeWPtzgwN+WupFwiLFwiYWZ0ZXJfY29udGVudFwiOlwi5YyX5Lqs5biC5rW35reA5Yy65rC45o235YyX6LevMuWPt+S6jOWxglwifSx7XCJjaGFuZ2VfaXRlbVwiOlwi57uP6JCl6IyD5Zu0XCIsXCJjaGFuZ2VfZGF0ZVwiOlwiMjAxMS0wMi0xNFwiLFwiYmVmb3JlX2NvbnRlbnRcIjpcIuaKgOacr+W8gOWPkeOAgu+8iOazleW+i+OAgeihjOaUv+azleinhOOAgeWbveWKoemZouWGs+WumuemgeatoueahO+8jOS4jeW+l+e7j+iQpe+8m+azleW+i+OAgeihjOaUv+azleinhOOAgeWbveWKoemZouWGs+WumuinhOWumuW6lOe7j+iuuOWPr+eahO+8jOe7j+WuoeaJueacuuWFs+aJueWHhuW5tue7j+W3peWVhuihjOaUv+euoeeQhuacuuWFs+eZu+iusOazqOWGjOWQjuaWueWPr+e7j+iQpe+8m+azleW+i+OAgeihjOaUv+azleinhOOAgeWbveWKoemZouWGs+WumuacquinhOWumuiuuOWPr+eahO+8jOiHquS4u+mAieaLqee7j+iQpemhueebruW8gOWxlee7j+iQpea0u+WKqOOAgu+8iVwiLFwiYWZ0ZXJfY29udGVudFwiOlwi5omL5py65oqA5pyv5byA5Y+R77yb5omL5py655Sf5Lqn44CB5omL5py65pyN5Yqh44CC5oqA5pyv5byA5Y+R77yb6LSn54mp6L+b5Ye65Y+j44CB5oqA5pyv6L+b5Ye65Y+j44CB5Luj55CG6L+b5Ye65Y+j44CCXCJ9LHtcImNoYW5nZV9pdGVtXCI6XCLokaPkuovvvIjnkIbkuovvvInjgIHnu4/nkIbjgIHnm5HkuotcIixcImNoYW5nZV9kYXRlXCI6XCIyMDExLTAyLTE0XCIsXCJiZWZvcmVfY29udGVudFwiOlwi77yI5rOo77ya5qCH5pyJ5qCH5b+X55qE5Li65rOV5a6a5Luj6KGo5Lq677yJMSDpm7flhpsg6JGj5LqL6ZW/IDIg5p6X5paMIOiRo+S6iyAzIOWImOiKuSDokaPkuosgNCDpm7flhpsg57uP55CGIDUg6buO5LiH5by6IOebkeS6iyBcIixcImFmdGVyX2NvbnRlbnRcIjpcIu+8iOazqO+8muagh+acieagh+W/l+eahOS4uuazleWumuS7o+ihqOS6uu+8iTEg6Zu35YabIOiRo+S6i+mVvyAyIOael+aWjCDokaPkuosgMyDliJjoirkg6JGj5LqLIDQgSEFOUyBUVU5HIOiRo+S6iyA1IOmbt+WGmyDnu4/nkIYgNiDpu47kuIflvLog55uR5LqLIFwifSx7XCJjaGFuZ2VfaXRlbVwiOlwi6K6k57y055qE5Ye66LWE6aKdLOiupOe8tOeahOWHuui1hOaWueW8jyzorqTnvLTnmoTlh7rotYTml7bpl7Qs5a6e57y055qE5Ye66LWE6aKdLOWunue8tOeahOWHuui1hOaWueW8jyzlrp7nvLTnmoTlh7rotYTml7bpl7RcIixcImNoYW5nZV9kYXRlXCI6XCIyMDEwLTA5LTAxXCIsXCJiZWZvcmVfY29udGVudFwiOlwiMSDpm7flhpsgMjQ1Ny42NiDoh6rnhLbkurrogqHkuJwgMiDmtKrplIsgMTY5LjUxIOiHqueEtuS6uuiCoeS4nCAzIOm7juS4h+W8uiAxMC4zMyDoh6rnhLbkurrogqHkuJwgXCIsXCJhZnRlcl9jb250ZW50XCI6XCIxIOmbt+WGmyAyMDk0LjE3IOiHqueEtuS6uuiCoeS4nCAyIOm7juS4h+W8uiAyNzIuNDUg6Ieq54S25Lq66IKh5LicIDMg5rSq6ZSLIDI3MC44NyDoh6rnhLbkurrogqHkuJwgXCJ9LHtcImNoYW5nZV9pdGVtXCI6XCLms6jlhozotYTmnKxcIixcImNoYW5nZV9kYXRlXCI6XCIyMDEwLTA3LTI4XCIsXCJiZWZvcmVfY29udGVudFwiOlwiMTAw5LiH5YWDXCIsXCJhZnRlcl9jb250ZW50XCI6XCIyNjM3LjQ5NzjkuIflhYNcIn0se1wiY2hhbmdlX2l0ZW1cIjpcIuWunuaUtui1hOacrO+8iOmHke+8iVwiLFwiY2hhbmdlX2RhdGVcIjpcIjIwMTAtMDctMjhcIixcImJlZm9yZV9jb250ZW50XCI6XCIxMDDkuIflhYNcIixcImFmdGVyX2NvbnRlbnRcIjpcIjI2MzcuNDk3OOS4h+WFg1wifSx7XCJjaGFuZ2VfaXRlbVwiOlwi6K6k57y055qE5Ye66LWE6aKdLOWunue8tOeahOWHuui1hOminVwiLFwiY2hhbmdlX2RhdGVcIjpcIjIwMTAtMDctMjhcIixcImJlZm9yZV9jb250ZW50XCI6XCIxIOmbt+WGmyA3OS40IOiHqueEtuS6uuiCoeS4nCAyIOm7juS4h+W8uiAxMC4zMyDoh6rnhLbkurrogqHkuJwgMyDmtKrplIsgMTAuMjcg6Ieq54S25Lq66IKh5LicIFwiLFwiYWZ0ZXJfY29udGVudFwiOlwiMSDpm7flhpsgMjQ1Ny42NiDoh6rnhLbkurrogqHkuJwgMiDmtKrplIsgMTY5LjUxIOiHqueEtuS6uuiCoeS4nCAzIOm7juS4h+W8uiAxMC4zMyDoh6rnhLbkurrogqHkuJwgXCJ9LHtcImNoYW5nZV9pdGVtXCI6XCLokaPkuovvvIjnkIbkuovvvInjgIHnu4/nkIbjgIHnm5HkuotcIixcImNoYW5nZV9kYXRlXCI6XCIyMDEwLTA3LTI4XCIsXCJiZWZvcmVfY29udGVudFwiOlwi77yI5rOo77ya5qCH5pyJ5qCH5b+X55qE5Li65rOV5a6a5Luj6KGo5Lq677yJMSDpm7flhpsg5omn6KGM6JGj5LqLIDIg6Zu35YabIOe7j+eQhiAzIOm7juS4h+W8uiDnm5HkuosgXCIsXCJhZnRlcl9jb250ZW50XCI6XCLvvIjms6jvvJrmoIfmnInmoIflv5fnmoTkuLrms5Xlrprku6PooajkurrvvIkxIOmbt+WGmyDokaPkuovplb8gMiDmnpfmlowg6JGj5LqLIDMg5YiY6Iq5IOiRo+S6iyA0IOmbt+WGmyDnu4/nkIYgNSDpu47kuIflvLog55uR5LqLIFwifSx7XCJjaGFuZ2VfaXRlbVwiOlwi57uP6JCl6IyD5Zu0XCIsXCJjaGFuZ2VfZGF0ZVwiOlwiMjAxMC0wNS0xMlwiLFwiYmVmb3JlX2NvbnRlbnRcIjpcIuazleW+i+OAgeihjOaUv+azleinhOOAgeWbveWKoemZouWGs+WumuemgeatoueahO+8jOS4jeW+l+e7j+iQpe+8m+azleW+i+OAgeihjOaUv+azleinhOOAgeWbveWKoemZouWGs+WumuinhOWumuW6lOe7j+iuuOWPr+eahO+8jOe7j+WuoeaJueacuuWFs+aJueWHhuW5tue7j+W3peWVhuihjOaUv+euoeeQhuacuuWFs+eZu+iusOazqOWGjOWQjuaWueWPr+e7j+iQpe+8m+azleW+i+OAgeihjOaUv+azleinhOOAgeWbveWKoemZouWGs+WumuacquinhOWumuiuuOWPr+eahO+8jOiHquS4u+mAieaLqee7j+iQpemhueebruW8gOWxlee7j+iQpea0u+WKqOOAglwiLFwiYWZ0ZXJfY29udGVudFwiOlwi5oqA5pyv5byA5Y+R44CC77yI5rOV5b6L44CB6KGM5pS/5rOV6KeE44CB5Zu95Yqh6Zmi5Yaz5a6a56aB5q2i55qE77yM5LiN5b6X57uP6JCl77yb5rOV5b6L44CB6KGM5pS/5rOV6KeE44CB5Zu95Yqh6Zmi5Yaz5a6a6KeE5a6a5bqU57uP6K645Y+v55qE77yM57uP5a6h5om55py65YWz5om55YeG5bm257uP5bel5ZWG6KGM5pS/566h55CG5py65YWz55m76K6w5rOo5YaM5ZCO5pa55Y+v57uP6JCl77yb5rOV5b6L44CB6KGM5pS/5rOV6KeE44CB5Zu95Yqh6Zmi5Yaz5a6a5pyq6KeE5a6a6K645Y+v55qE77yM6Ieq5Li76YCJ5oup57uP6JCl6aG555uu5byA5bGV57uP6JCl5rS75Yqo44CC77yJXCJ9LHtcImNoYW5nZV9pdGVtXCI6XCLmipXotYTkurpcIixcImNoYW5nZV9kYXRlXCI6XCIyMDEwLTA1LTEyXCIsXCJiZWZvcmVfY29udGVudFwiOlwiMSDpm7flhpsgOTAg6Ieq54S25Lq66IKh5LicIDIg6buO5LiH5by6IDEwIOiHqueEtuS6uuiCoeS4nCBcIixcImFmdGVyX2NvbnRlbnRcIjpcIjEg6Zu35YabIDc5LjQg6Ieq54S25Lq66IKh5LicIDIg6buO5LiH5by6IDEwLjMzIOiHqueEtuS6uuiCoeS4nCAzIOa0qumUiyAxMC4yNyDoh6rnhLbkurrogqHkuJwgXCJ9XSxcInBhcnRuZXJzXCI6W3tcIm5hbWVcIjpcIua0qumUi1wiLFwic3RvY2tfdHlwZVwiOlwi6Ieq54S25Lq66IKh5LicXCIsXCJpZGVudGlmeV90eXBlXCI6XCItXCIsXCJpZGVudGlmeV9ub1wiOlwiLVwiLFwicmVhbF9jYXBpX2l0ZW1zXCI6W10sXCJzaG91bGRfY2FwaV9pdGVtc1wiOltdfSx7XCJuYW1lXCI6XCLpm7flhptcIixcInN0b2NrX3R5cGVcIjpcIuiHqueEtuS6uuiCoeS4nFwiLFwiaWRlbnRpZnlfdHlwZVwiOlwiLVwiLFwiaWRlbnRpZnlfbm9cIjpcIi1cIixcInJlYWxfY2FwaV9pdGVtc1wiOltdLFwic2hvdWxkX2NhcGlfaXRlbXNcIjpbXX0se1wibmFtZVwiOlwi6buO5LiH5by6XCIsXCJzdG9ja190eXBlXCI6XCLoh6rnhLbkurrogqHkuJxcIixcImlkZW50aWZ5X3R5cGVcIjpcIi1cIixcImlkZW50aWZ5X25vXCI6XCItXCIsXCJyZWFsX2NhcGlfaXRlbXNcIjpbXSxcInNob3VsZF9jYXBpX2l0ZW1zXCI6W119LHtcIm5hbWVcIjpcIuWImOW+t1wiLFwic3RvY2tfdHlwZVwiOlwi6Ieq54S25Lq66IKh5LicXCIsXCJpZGVudGlmeV90eXBlXCI6XCItXCIsXCJpZGVudGlmeV9ub1wiOlwiLVwiLFwicmVhbF9jYXBpX2l0ZW1zXCI6W10sXCJzaG91bGRfY2FwaV9pdGVtc1wiOltdfV19fTtcblxuY2xhc3MgQ29udHJvbGxlciB7XG5cbiAgY29uc3RydWN0b3IoJGluamVjdG9yLCAkc3RhdGUsICRsb2NhdGlvbiwgJHN0YXRlUGFyYW1zLCB0b2FzdHIsICR1aWJNb2RhbCwgRW50ZXJwcmlzZVNlcnZpY2UpIHtcbiAgICAnbmdJbmplY3QnO1xuXG4gICAgdGhpcy5fc3RhdGUgPSAkc3RhdGU7XG4gICAgdGhpcy5fbG9jYXRpb24gPSAkbG9jYXRpb247XG4gICAgdGhpcy5fc3RhdGVQYXJhbXMgPSAkc3RhdGVQYXJhbXM7XG4gICAgdGhpcy5fbW9kYWwgPSAkdWliTW9kYWw7XG5cbiAgICB0aGlzLl90b2FzdHIgPSB0b2FzdHI7XG5cbiAgICB0aGlzLl9zZXJ2aWNlID0gRW50ZXJwcmlzZVNlcnZpY2U7XG5cbiAgICB0aGlzLmlkID0gJHN0YXRlUGFyYW1zLmlkO1xuXG4gICAgdGhpcy5pbmZvID0gbnVsbDtcblxuICAgIHRoaXMuX2luaXQoKTtcblxuICB9XG5cbiAgX2luaXQoKSB7XG5cbiAgICB0aGlzLl9nZXREZXRhaWwoKTtcblxuICB9XG4gIFxuICBfZ2V0RGV0YWlsKCkge1xuXG4gICAgdGhpcy5fc2VydmljZS5nZXQodGhpcy5pZCkudGhlbihkYXRhID0+IHtcbiAgICAgIC8vIGNvbnNvbGUubG9nKGRhdGEpO1xuICAgICAgdGhpcy5pbmZvID0gZGF0YS5kZXRhaWw7XG4gICAgICAvLyB0aGlzLmluZm8gPSBtb2NrX2RhdGEuZGF0YTtcbiAgICB9KTtcblxuICB9XG5cbn1cblxuZXhwb3J0IGRlZmF1bHQgQ29udHJvbGxlcjtcbiIsImltcG9ydCBDb250cm9sbGVyIGZyb20gJy4vY3RybCc7XG5cbmNvbnN0IExpc3QgPSB7XG4gIHRlbXBsYXRlVXJsOiAnbW9kdWxlcy9lbnRlcnByaXNlL2RldGFpbC9pbmRleC5odG1sJyxcbiAgY29udHJvbGxlcjogQ29udHJvbGxlcixcbiAgY29udHJvbGxlckFzOiAndm0nXG59O1xuXG5leHBvcnQgZGVmYXVsdCBMaXN0O1xuIiwiZXhwb3J0IGZ1bmN0aW9uIGZpbHRlclZhbHVlKCkge1xuXG4gICAgcmV0dXJuIGZ1bmN0aW9uKHZhbCwgbGlzdCl7XG5cbiAgICBcdC8vIGNvbnNvbGUubG9nKHZhbCwgbGlzdCk7XG5cbiAgICBcdGxldCBydCA9IGxpc3QuZmlsdGVyKGl0ZW0gPT4gaXRlbS52YWx1ZSA9PSB2YWwpO1xuXG4gICAgXHRpZiAocnQubGVuZ3RoKSB7XG4gICAgXHRcdHJldHVybiBydFswXS5sYWJlbDtcbiAgICBcdH1cblxuICAgICAgICByZXR1cm4gJyc7XG4gICAgfVxuICAgIFxufVxuXG5leHBvcnQgZnVuY3Rpb24gZmlsdGVyRGlzdHJpYnV0ZVN0YXRlKCkge1xuXHRjb25zdCBzdGF0ZUxpc3QgPSB7XG5cdFx0MTogJ+W+heWIhumFjScsXG5cdFx0MjogJ+W3suWIhumFjScsXG5cdFx0MzogJ+W3suiupOmihidcblx0fTtcblx0cmV0dXJuIGZ1bmN0aW9uKHZhbCkge1xuXHRcdHJldHVybiBzdGF0ZUxpc3RbdmFsXSB8fCAnJztcblx0fVxufSIsImltcG9ydCBQYWdpbmF0aW9uIGZyb20gJy4uLy4uLy4uL2NvcmUvY29tcG9uZW50cy9tY1BhZ2luYXRpb24vbWMtcGFnaW5hdGlvbi5jbGFzcyc7XG5cbmltcG9ydCB7YnJhbmNoQ29uZmlnLCBtYW5hZ2VDb25maWcsIGFkZENvbmZpZ30gZnJvbSAnLi4vbW9kYWxzJztcblxuY2xhc3MgTGlzdENvbnRyb2xsZXIgZXh0ZW5kcyBQYWdpbmF0aW9uIHtcblxuICBjb25zdHJ1Y3RvcigkaW5qZWN0b3IsICRzdGF0ZSwgJGxvY2F0aW9uLCAkc3RhdGVQYXJhbXMsIHN3ZWV0LCB0b2FzdHIsICR1aWJNb2RhbCwgRW50ZXJwcmlzZVNlcnZpY2UsIFByb2ZpbGVTZXJ2aWNlKSB7XG4gICAgJ25nSW5qZWN0JztcblxuICAgIHN1cGVyKCRpbmplY3Rvcik7XG5cbiAgICB0aGlzLl9zdGF0ZSA9ICRzdGF0ZTtcbiAgICB0aGlzLl9sb2NhdGlvbiA9ICRsb2NhdGlvbjtcbiAgICB0aGlzLl9zdGF0ZVBhcmFtcyA9ICRzdGF0ZVBhcmFtcztcbiAgICB0aGlzLl9tb2RhbCA9ICR1aWJNb2RhbDtcblxuICAgIHRoaXMuX3N3ZWV0ID0gc3dlZXQ7XG4gICAgdGhpcy5fdG9hc3RyID0gdG9hc3RyO1xuXG4gICAgdGhpcy5fc2VydmljZSA9IEVudGVycHJpc2VTZXJ2aWNlO1xuXG4gICAgdGhpcy5wcm9maWxlID0gUHJvZmlsZVNlcnZpY2UuZ2V0SW5mbygpO1xuICAgIHRoaXMuYWNjZXNzID0gUHJvZmlsZVNlcnZpY2UuYWNjZXNzO1xuXG4gICAgdGhpcy5yb2xlTWFpblN0YXR1cyA9IFtcbiAgICAgIHtcbiAgICAgICAgdmFsdWU6ICcnLFxuICAgICAgICBsYWJlbDogJ+WFqOmDqCdcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIHZhbHVlOiAxLFxuICAgICAgICBsYWJlbDogJ+emu+iBjCdcbiAgICAgIH0sXG4gICAgXTtcblxuICAgIHRoaXMuZW50ZXJwcmlzZVN0YXRlTGlzdCA9IFtcbiAgICAgIHtcbiAgICAgICAgdmFsdWU6IDEsXG4gICAgICAgIGxhYmVsOiAn5q2j5bi4J1xuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgdmFsdWU6IDIsXG4gICAgICAgIGxhYmVsOiAn5bey5Ya757uTJ1xuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgdmFsdWU6IDAsXG4gICAgICAgIGxhYmVsOiAn5pyq6YCa6L+H562b6YCJJ1xuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgdmFsdWU6IDMsXG4gICAgICAgIGxhYmVsOiAn5bey5Yig6ZmkJ1xuICAgICAgfSxcbiAgICBdO1xuXG4gICAgdGhpcy5maWx0ZXJzID0ge307XG5cbiAgICB0aGlzLm9uZUF0QVRpbWUgPSB0cnVlO1xuXG4gICAgdGhpcy5faW5pdCgpO1xuXG4gIH1cblxuICBfaW5pdCgpIHtcblxuICAgIHRoaXMuX2luaXRGaWx0ZXJzKCk7XG4gICAgdGhpcy5fZ2V0TGlzdCgpO1xuXG4gIH1cblxuICBfaW5pdEZpbHRlcnMoKSB7XG4gICAgLy8gY29uc29sZS5sb2codGhpcy5fc3RhdGVQYXJhbXMpO1xuICAgIGNvbnN0IHN0YXRlUGFyYW1zID0gdGhpcy5fc3RhdGVQYXJhbXM7XG4gICAgLy8gdGhpcy5wYWdpbmF0aW9uLnBhZ2UgPSArc3RhdGVQYXJhbXMucGFnZTtcbiAgICB0aGlzLmZpbHRlcnMucm9sZV9hX2Rpc2FibGUgPSBzdGF0ZVBhcmFtcy5yb2xlX2FfZGlzYWJsZSB8fCAnJztcbiAgICB0aGlzLmZpbHRlcnMuc3RhdGUgPSBzdGF0ZVBhcmFtcy5zdGF0ZT8gK3N0YXRlUGFyYW1zLnN0YXRlIDogdm9pZCgwKTtcblxuICAgIHRoaXMuZmlsdGVycy5uYW1lID0gc3RhdGVQYXJhbXMubmFtZSB8fCB2b2lkKDApO1xuXG4gIH1cbiAgXG4gIF9nZXRMaXN0KCkge1xuXG4gICAgbGV0IHBhcmFtcyA9IHRoaXMuX2ZpbHRlckVtcHR5VmFsdWUoKTtcbiAgICAvLyBwYXJhbXMucGFnZVNpemUgPSB0aGlzLnBhZ2luYXRpb24ucGFnZVNpemU7XG4gICAgcGFyYW1zLnBhZ2UgPSB0aGlzLnBhZ2luYXRpb24ucGFnZTtcblxuICAgIHRoaXMuX3NlcnZpY2UuZ2V0TGlzdChwYXJhbXMpLnRoZW4oZGF0YSA9PiB7XG4gICAgICBjb25zb2xlLmxvZyhkYXRhKTtcbiAgICAgIHRoaXMubGlzdCA9IGRhdGEuZW50ZXJwcmlzZXM7XG4gICAgICB0aGlzLnBhZ2luYXRpb24uY291bnQgPSBkYXRhLnBhZ2VfY291bnQgKiB0aGlzLnBhZ2luYXRpb24ucGFnZVNpemU7XG4gICAgfSk7XG5cbiAgfVxuXG4gIHJlU2VhcmNoKCkge1xuICAgIGxldCBwYWdlID0gMVxuICAgIHRoaXMuX2xvY2F0aW9uLnNlYXJjaCh7Li4udGhpcy5fZmlsdGVyRW1wdHlWYWx1ZSgpLCBwYWdlfSk7XG4gIH1cblxuICBzd2l0Y2goa2V5LCB2YWx1ZSkge1xuXG4gICAgaWYoIWtleSkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIHRoaXMuZmlsdGVyc1trZXldID0gdmFsdWU7XG5cbiAgICB0aGlzLnJlU2VhcmNoKCk7XG4gIH1cblxuICBhc3NpZ24oaXRlbSkge1xuICAgIGxldCB7YmFua30gPSBpdGVtO1xuICAgIGlmIChiYW5rICYmIGJhbmsuaWQpIHtcbiAgICAgIGNvbnN0IHJlc29sdmUgPSB7XG4gICAgICAgIGluZm86IGZ1bmN0aW9uKCl7XG4gICAgICAgICAgcmV0dXJuIGl0ZW07XG4gICAgICAgIH1cbiAgICAgIH07XG5cbiAgICAgIGNvbnN0IG9wdGlvbnMgPSB7Li4ubWFuYWdlQ29uZmlnLCByZXNvbHZlfTtcblxuICAgICAgdGhpcy5fbW9kYWwub3Blbiggb3B0aW9ucyApO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLl9zd2VldC5zaG93KHtcbiAgICAgICAgdGl0bGU6ICfor7flhYjliIbphY3mnLrmnoQnLFxuICAgICAgICBzaG93Q2FuY2VsQnV0dG9uOiBmYWxzZSxcbiAgICAgICAgY29uZmlybUJ1dHRvbkNvbG9yOiBcIiNERDZCNTVcIixcbiAgICAgICAgY29uZmlybUJ1dHRvblRleHQ6IFwi56Gu5a6aXCIsXG4gICAgICAgIGNhbmNlbEJ1dHRvblRleHQ6IFwi5Y+W5raIXCIsXG4gICAgICAgIGNsb3NlT25Db25maXJtOiB0cnVlLFxuICAgICAgICBpbWFnZVVybDogJy9pbWFnZXMvY29tbW9uL3dhcm5pbmcucG5nJ1xuICAgICAgfSwgc3VyZSA9PiB7XG4gICAgICAgIC8vIGlmIChzdXJlKSB7XG4gICAgICAgIC8vICAgdGhpcy5jYXJlTGlzdC5zcGxpY2UoaW5kZXgsIDEpO1xuICAgICAgICAvLyAgIHRoaXMuX3RvYXN0ci5zdWNjZXNzKCfliKDpmaTmiJDlip/vvIEnLCAn5o+Q56S6Jyk7XG4gICAgICAgIC8vIH0gZWxzZSB7XG4gICAgICAgIC8vICAgcmV0dXJuO1xuICAgICAgICAvLyB9XG4gICAgICB9KTtcbiAgICB9XG4gIH1cblxuICBhc3NpZ25CcmFuY2goaXRlbSkge1xuICAgIGNvbnN0IHJlc29sdmUgPSB7XG4gICAgICBpbmZvOiBmdW5jdGlvbigpe1xuICAgICAgICByZXR1cm4gaXRlbTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgY29uc3Qgb3B0aW9ucyA9IHsuLi5icmFuY2hDb25maWcsIHJlc29sdmV9O1xuXG4gICAgdGhpcy5fbW9kYWwub3Blbiggb3B0aW9ucyApO1xuICB9XG5cbiAgYWRkKCkge1xuICAgIGNvbnN0IHJlc29sdmUgPSB7XG4gICAgICBpbmZvOiBmdW5jdGlvbigpe1xuICAgICAgICByZXR1cm4ge307XG4gICAgICB9XG4gICAgfTtcblxuICAgIGNvbnN0IG9wdGlvbnMgPSB7Li4uYWRkQ29uZmlnLCByZXNvbHZlfTtcblxuICAgIHRoaXMuX21vZGFsLm9wZW4oIG9wdGlvbnMgKTtcbiAgfVxuXG4gIGRlbChpdGVtKSB7XG4gICAgdGhpcy5zZXRTdGF0ZShpdGVtLmlkLCAzKTtcbiAgfVxuXG4gIGZyb3N0KGl0ZW0pIHtcbiAgICB0aGlzLnNldFN0YXRlKGl0ZW0uaWQsIDIpO1xuICB9XG5cbiAgc2V0U3RhdGUoaWQsIHN0YXRlKSB7XG4gICAgdGhpcy5fc2VydmljZS5zZXQoe2lkLCBzdGF0ZX0pLnRoZW4oZGF0YSA9PiB7XG4gICAgICB0aGlzLl90b2FzdHIuc3VjY2Vzcygn5pON5L2c5oiQ5YqfJyk7XG4gICAgICB0aGlzLl9zdGF0ZS5yZWxvYWQoKTtcbiAgICB9KTtcbiAgfVxuXG4gIC8vIGNoYW5nZU1hbmFnZSh0eXBlLCBpdGVtKSB7XG4gIC8vICAgbGV0IHNlbGVjdGVkID0gaXRlbVt0eXBlXSAmJiAoW3tpZDogaXRlbVt0eXBlXS51c2VyaWQsIG5hbWU6IGl0ZW1bdHlwZV0ubmFtZX1dKSB8fCBbXTtcbiAgLy8gICBsZXQgb3B0aW9ucyA9IHtcbiAgLy8gICAgIHVybDogJy9hcGkvbWVtYmVyL2xpc3QnLFxuICAvLyAgICAgbWluOiAxLFxuICAvLyAgICAgbWF4OiAxLFxuICAvLyAgICAgdGl0bGU6ICfpgInmi6nlrqLmiLfnu4/nkIYnLFxuICAvLyAgICAgaXRlbVR5cGU6ICflrqLmiLfnu4/nkIYnLFxuICAvLyAgICAgaXRlbVVuaXQ6ICflkI0nLFxuICAvLyAgICAgaXRlbVBvc2l0aW9uOiAnJyxcbiAgLy8gICAgIHNlYXJjaFBsYWNlaG9sZGVyOiAn6K+36L6T5YWl5aeT5ZCN5pCc57SiJyxcbiAgLy8gICAgIHNlbGVjdGVkSXRlbXM6IHNlbGVjdGVkLFxuICAvLyAgICAgcGFyYW1zOiB7fSxcblxuICAvLyAgICAgbGlzdDogW1xuICAvLyAgICAgICB7XG4gIC8vICAgICAgICAgaWQ6IDEyLFxuICAvLyAgICAgICAgIG5hbWU6ICfnjovkuZDkuZAnLFxuICAvLyAgICAgICAgIGF2YXRhcjogJy9pbWFnZXMvY29tbW9uL21hbi5wbmcnXG4gIC8vICAgICAgIH0sXG4gIC8vICAgICAgIHtcbiAgLy8gICAgICAgICBpZDogMjMsXG4gIC8vICAgICAgICAgbmFtZTogJ+WImOeri+WGmycsXG4gIC8vICAgICAgICAgYXZhdGFyOiAnL2ltYWdlcy9jb21tb24vbWFuLnBuZydcbiAgLy8gICAgICAgfSxcbiAgLy8gICAgICAge1xuICAvLyAgICAgICAgIGlkOiAyNCxcbiAgLy8gICAgICAgICBuYW1lOiAn546L5piO5ra1JyxcbiAgLy8gICAgICAgICBhdmF0YXI6ICcvaW1hZ2VzL2NvbW1vbi9tYW4ucG5nJ1xuICAvLyAgICAgICB9LFxuICAvLyAgICAgXSxcblxuICAvLyAgICAgLy8gaWRLZXk6ICdvbGRfaWQnXG4gIC8vICAgfTtcblxuICAvLyAgIHRoaXMuX3BpY2tlclNlcnZpY2Uub3BlbihvcHRpb25zLCByZXMgPT4ge1xuICAvLyAgICAgaWYgKHJlcy5kYXRhLmxlbmd0aCkge1xuICAvLyAgICAgICB0aGlzLl9jaGFuZ2VNYW5hZ2UocmVzLmRhdGFbMF0sIHR5cGUsIGl0ZW0pO1xuICAvLyAgICAgfVxuICAvLyAgIH0pO1xuICAvLyB9XG5cbiAgLy8gX2NoYW5nZU1hbmFnZShtYW5hZ2UsIHR5cGUsIGl0ZW0pIHtcbiAgLy8gICBpdGVtW3R5cGVdID0ge1xuICAvLyAgICAgdXNlcmlkOiBtYW5hZ2UuaWQsXG4gIC8vICAgICBuYW1lOiBtYW5hZ2UubmFtZVxuICAvLyAgIH07XG4gIC8vIH1cblxuXG59XG5cbmV4cG9ydCBkZWZhdWx0IExpc3RDb250cm9sbGVyO1xuIiwiaW1wb3J0IExpc3RDb250cm9sbGVyIGZyb20gJy4vY3RybCc7XG5cbmNvbnN0IExpc3QgPSB7XG4gIHRlbXBsYXRlVXJsOiAnbW9kdWxlcy9lbnRlcnByaXNlL2xpc3QvaW5kZXguaHRtbCcsXG4gIGNvbnRyb2xsZXI6IExpc3RDb250cm9sbGVyLFxuICBjb250cm9sbGVyQXM6ICd2bSdcbn07XG5cbmV4cG9ydCBkZWZhdWx0IExpc3Q7XG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBDb250cm9sbGVyIHtcbiAgY29uc3RydWN0b3IoJHNjb3BlLCAkc3RhdGUsICR2YWxpZGF0aW9uLCAkdWliTW9kYWxJbnN0YW5jZSwgdG9hc3RyLCBFbnRlcnByaXNlU2VydmljZSwgaW5mbykge1xuICAgICduZ0luamVjdCc7XG5cbiAgICB0aGlzLl9zY29wZSA9ICRzY29wZTtcbiAgICB0aGlzLl9zdGF0ZSA9ICRzdGF0ZTtcblxuICAgIHRoaXMuX3ZhbGlkYXRpb25Qcm92aWRlciA9ICR2YWxpZGF0aW9uO1xuXG4gICAgdGhpcy5fbW9kYWxJbnN0YW5jZSA9ICR1aWJNb2RhbEluc3RhbmNlO1xuICAgIHRoaXMuX3RvYXN0ciA9IHRvYXN0cjtcblxuICAgIHRoaXMuX3NlcnZpY2UgPSBFbnRlcnByaXNlU2VydmljZTtcblxuICAgIHRoaXMuaW5mbyA9IGluZm87XG5cbiAgICB0aGlzLmlucHV0SW5mbyA9IHtcbiAgICAgIG5hbWU6ICcnXG4gICAgfTtcblxuICB9XG5cbiAgXG5cbiAgY2FuY2VsKCkge1xuICAgIHRoaXMuX21vZGFsSW5zdGFuY2UuY2xvc2UoKTtcbiAgfVxuXG4gIHN1Ym1pdChmb3JtKSB7XG4gICAgLy/pqozor4HooajljZVcbiAgICB0aGlzLl92YWxpZGF0aW9uUHJvdmlkZXIudmFsaWRhdGUoZm9ybSkuc3VjY2VzcygoKSA9PiB7XG4gICAgICB0aGlzLnNhdmVGdW5jKCk7XG4gICAgfSk7XG4gIH1cblxuICBzYXZlRnVuYygpIHtcbiAgICBjb25zdCBkYXRhID0gdGhpcy5pbnB1dEluZm87XG4gICAgdGhpcy5fc2VydmljZS5hZGQoZGF0YSkudGhlbihkYXRhID0+IHtcbiAgICAgIHRoaXMuX3RvYXN0ci5zdWNjZXNzKCfmt7vliqDmiJDlip8nKTtcbiAgICAgIHRoaXMuY2FuY2VsKCk7XG4gICAgICB0aGlzLl9zdGF0ZS5yZWxvYWQoKTtcbiAgICB9KVxuICB9XG59XG4iLCJpbXBvcnQgQ29udHJvbGxlciBmcm9tICcuL2N0cmwnO1xuXG5jb25zdCBDb25maWd1cmF0aW9uID0ge1xuICB0ZW1wbGF0ZVVybDogJ21vZHVsZXMvZW50ZXJwcmlzZS9tb2RhbHMvYWRkL3RlbXBsYXRlLmh0bWwnLFxuICBjb250cm9sbGVyOiBDb250cm9sbGVyLFxuICBjb250cm9sbGVyQXM6ICd2bSdcbn07XG5cbmV4cG9ydCBkZWZhdWx0IENvbmZpZ3VyYXRpb247XG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBDb250cm9sbGVyIHtcbiAgY29uc3RydWN0b3IoJHNjb3BlLCAkc3RhdGUsICR2YWxpZGF0aW9uLCAkdWliTW9kYWxJbnN0YW5jZSwgdG9hc3RyLCBFbnRlcnByaXNlU2VydmljZSwgaW5mbykge1xuICAgICduZ0luamVjdCc7XG5cbiAgICB0aGlzLl9zY29wZSA9ICRzY29wZTtcbiAgICB0aGlzLl9zdGF0ZSA9ICRzdGF0ZTtcblxuICAgIHRoaXMuX3ZhbGlkYXRpb25Qcm92aWRlciA9ICR2YWxpZGF0aW9uO1xuXG4gICAgdGhpcy5fbW9kYWxJbnN0YW5jZSA9ICR1aWJNb2RhbEluc3RhbmNlO1xuICAgIHRoaXMuX3RvYXN0ciA9IHRvYXN0cjtcblxuICAgIHRoaXMuX3NlcnZpY2UgPSBFbnRlcnByaXNlU2VydmljZTtcblxuICAgIHRoaXMuaW5mbyA9IGluZm87XG5cbiAgICB0aGlzLmlucHV0SW5mbyA9IHtcbiAgICAgIGJyYW5jaDogaW5mby5iYW5rICYmIGluZm8uYmFuay5pZFxuICAgIH07XG5cbiAgICB0aGlzLmxpc3QgPSBudWxsO1xuXG5cbiAgICB0aGlzLl9nZXRCYW5rTGlzdCgpO1xuXG4gIH1cblxuICBfZ2V0QmFua0xpc3QoKSB7XG4gICAgdGhpcy5fc2VydmljZS5nZXRCYW5rTGlzdCgpLnRoZW4oZGF0YSA9PiB7XG4gICAgICAvLyBjb25zb2xlLmxvZyhkYXRhKTtcbiAgICAgIHRoaXMubGlzdCA9IGRhdGE7XG4gICAgfSk7XG4gIH1cblxuICBjYW5jZWwoKSB7XG4gICAgdGhpcy5fbW9kYWxJbnN0YW5jZS5jbG9zZSgpO1xuICB9XG5cbiAgc3VibWl0KGZvcm0pIHtcbiAgICAvL+mqjOivgeihqOWNlVxuICAgIHRoaXMuX3ZhbGlkYXRpb25Qcm92aWRlci52YWxpZGF0ZShmb3JtKS5zdWNjZXNzKCgpID0+IHtcbiAgICAgIHRoaXMuc2F2ZUZ1bmMoKTtcbiAgICB9KTtcbiAgfVxuXG4gIHNhdmVGdW5jKCkge1xuICAgIC8vIGNvbnNvbGUubG9nKCdzdWJtaXQnKVxuICAgIHRoaXMuX3NlcnZpY2Uuc2V0KHtcbiAgICAgIGlkOiB0aGlzLmluZm8uaWQsXG4gICAgICBiYW5rX2lkOiB0aGlzLmlucHV0SW5mby5icmFuY2hcbiAgICB9KS50aGVuKGRhdGEgPT4ge1xuICAgICAgdGhpcy5jYW5jZWwoKTtcbiAgICAgIHRoaXMuX3RvYXN0ci5zdWNjZXNzKCforr7nva7miJDlip8nKTtcbiAgICAgIHRoaXMuX3N0YXRlLnJlbG9hZCgpO1xuICAgIH0pO1xuICB9XG59XG4iLCJpbXBvcnQgQ29udHJvbGxlciBmcm9tICcuL2N0cmwnO1xuXG5jb25zdCBjb25maWd1cmF0aW9uID0ge1xuICB0ZW1wbGF0ZVVybDogJ21vZHVsZXMvZW50ZXJwcmlzZS9tb2RhbHMvYnJhbmNoL3RlbXBsYXRlLmh0bWwnLFxuICBjb250cm9sbGVyOiBDb250cm9sbGVyLFxuICBjb250cm9sbGVyQXM6ICd2bSdcbn07XG5cbmV4cG9ydCBkZWZhdWx0IGNvbmZpZ3VyYXRpb247XG4iLCJpbXBvcnQgYnJhbmNoQ29uZmlnIGZyb20gJy4vYnJhbmNoJztcbmltcG9ydCBtYW5hZ2VDb25maWcgZnJvbSAnLi9tYW5hZ2UnO1xuaW1wb3J0IGFkZENvbmZpZyBmcm9tICcuL2FkZCc7XG5cbmV4cG9ydCB7XG5cdGJyYW5jaENvbmZpZyxcbiBcdG1hbmFnZUNvbmZpZyxcbiBcdGFkZENvbmZpZ1xufVxuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgQ29udHJvbGxlciB7XG4gIGNvbnN0cnVjdG9yKCRzY29wZSwgJHN0YXRlLCAkdmFsaWRhdGlvbiwgJHVpYk1vZGFsSW5zdGFuY2UsIHRvYXN0ciwgRW50ZXJwcmlzZVNlcnZpY2UsIGluZm8pIHtcbiAgICAnbmdJbmplY3QnO1xuXG4gICAgdGhpcy5fc2NvcGUgPSAkc2NvcGU7XG4gICAgdGhpcy5fc3RhdGUgPSAkc3RhdGU7XG5cbiAgICB0aGlzLl92YWxpZGF0aW9uUHJvdmlkZXIgPSAkdmFsaWRhdGlvbjtcblxuICAgIHRoaXMuX21vZGFsSW5zdGFuY2UgPSAkdWliTW9kYWxJbnN0YW5jZTtcbiAgICB0aGlzLl90b2FzdHIgPSB0b2FzdHI7XG5cbiAgICB0aGlzLl9zZXJ2aWNlID0gRW50ZXJwcmlzZVNlcnZpY2U7XG5cbiAgICB0aGlzLmluZm8gPSBpbmZvO1xuXG4gICAgdGhpcy5pbnB1dEluZm8gPSB7XG4gICAgICBtYWluOiBpbmZvLnJvbGVfYSAmJiBpbmZvLnJvbGVfYS5pZCxcbiAgICAgIHZpY2U6IGluZm8ucm9sZV9iICYmIGluZm8ucm9sZV9iLmlkXG4gICAgfTtcblxuICAgIHRoaXMubGlzdCA9IG51bGw7XG5cbiAgICB0aGlzLl9pbml0KCk7XG5cbiAgfVxuXG4gIF9pbml0KCkge1xuICAgIHRoaXMuX2dldFVzZXJMaXN0KCk7XG4gIH1cblxuICBfZ2V0VXNlckxpc3QoKSB7XG4gICAgbGV0IHtiYW5rfSA9IHRoaXMuaW5mbztcbiAgICBsZXQgcGFyYW1zID0ge1xuICAgICAgc3RhdGU6IDEsXG4gICAgICBiYW5rX2lkOiBiYW5rLmlkLFxuICAgICAgYmFua19uYW1lOiBiYW5rLm5hbWUsXG4gICAgICByb2xlX2VuX25hbWU6ICdST0xFX0NVU1RPTUVSX01BTkFHRVInLFxuICAgICAgcGFnZV9saW1pdDogMTAwMFxuICAgIH07XG4gICAgdGhpcy5fc2VydmljZS5nZXRVc2VyTGlzdChwYXJhbXMpLnRoZW4oZGF0YSA9PiB7XG4gICAgICB0aGlzLmxpc3QgPSBkYXRhLnVzZXJzO1xuICAgIH0pXG4gIH1cblxuICBcblxuICBjYW5jZWwoKSB7XG4gICAgdGhpcy5fbW9kYWxJbnN0YW5jZS5jbG9zZSgpO1xuICB9XG5cbiAgc3VibWl0KGZvcm0pIHtcbiAgICAvL+mqjOivgeihqOWNlVxuICAgIHRoaXMuX3ZhbGlkYXRpb25Qcm92aWRlci52YWxpZGF0ZShmb3JtKS5zdWNjZXNzKCgpID0+IHtcbiAgICAgIHRoaXMuc2F2ZUZ1bmMoKTtcbiAgICB9KTtcbiAgfVxuXG4gIHNhdmVGdW5jKCkge1xuICAgIC8vIGNvbnNvbGUubG9nKCdzdWJtaXQnKVxuICAgIHRoaXMuX3NlcnZpY2Uuc2V0KHtcbiAgICAgIGlkOiB0aGlzLmluZm8uaWQsXG4gICAgICByb2xlX2FfaWQ6IHRoaXMuaW5wdXRJbmZvLm1haW4sXG4gICAgICByb2xlX2JfaWQ6IHRoaXMuaW5wdXRJbmZvLnZpY2VcbiAgICB9KS50aGVuKGRhdGEgPT4ge1xuICAgICAgdGhpcy5jYW5jZWwoKTtcbiAgICAgIHRoaXMuX3RvYXN0ci5zdWNjZXNzKCforr7nva7miJDlip8nKTtcbiAgICAgIHRoaXMuX3N0YXRlLnJlbG9hZCgpO1xuICAgIH0pO1xuICB9XG59XG4iLCJpbXBvcnQgQ29udHJvbGxlciBmcm9tICcuL2N0cmwnO1xuXG5jb25zdCBjb25maWd1cmF0aW9uID0ge1xuICB0ZW1wbGF0ZVVybDogJ21vZHVsZXMvZW50ZXJwcmlzZS9tb2RhbHMvbWFuYWdlL3RlbXBsYXRlLmh0bWwnLFxuICBjb250cm9sbGVyOiBDb250cm9sbGVyLFxuICBjb250cm9sbGVyQXM6ICd2bSdcbn07XG5cbmV4cG9ydCBkZWZhdWx0IGNvbmZpZ3VyYXRpb247XG4iLCJpbXBvcnQgYW5ndWxhciBmcm9tICdhbmd1bGFyJztcbmltcG9ydCBjb25maWcgIGZyb20gJy4vY29uZmlnJztcbmltcG9ydCBzZXJ2aWNlIGZyb20gJy4vc2VydmljZSc7XG5pbXBvcnQge2ZpbHRlclZhbHVlLCBmaWx0ZXJEaXN0cmlidXRlU3RhdGV9IGZyb20gJy4vZmlsdGVyJztcbmltcG9ydCBMaXN0ICBmcm9tICcuL2xpc3QvJztcbmltcG9ydCBEZXRhaWwgIGZyb20gJy4vZGV0YWlsLyc7XG5cbi8vIGltcG9ydCBkZW1vU2VydmljZSAgICAgIGZyb20gJy4vc2VydmljZXMvZGVtby5zZXJ2aWNlJztcblxuXG5cblxuZXhwb3J0IGRlZmF1bHQgYW5ndWxhci5tb2R1bGUoJ2FwcC5tb2R1bGVzLmVudGVycHJpc2UnLCBbXSlcbi5maWx0ZXIoJ2ZpbHRlclZhbHVlJywgZmlsdGVyVmFsdWUpXG4uZmlsdGVyKCdmaWx0ZXJEaXN0cmlidXRlU3RhdGUnLCBmaWx0ZXJEaXN0cmlidXRlU3RhdGUpXG4uc2VydmljZSgnRW50ZXJwcmlzZVNlcnZpY2UnLCBzZXJ2aWNlKVxuXG4uY29tcG9uZW50KCdlbnRlcnByaXNlTGlzdCcsIExpc3QpXG4uY29tcG9uZW50KCdlbnRlcnByaXNlRGV0YWlsJywgRGV0YWlsKVxuLmNvbmZpZyhjb25maWcpO1xuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgU2VydmljZSB7XG4gIGNvbnN0cnVjdG9yKCRodHRwLCBodHRwSGVscGVyLCAkcm9vdFNjb3BlLCAkc3RhdGUsIEFwaU1hcCkge1xuICAgICduZ0luamVjdCc7XG5cbiAgICB0aGlzLl9odHRwID0gJGh0dHA7XG4gICAgLy8gdGhpcy4kcSA9ICRxO1xuICAgIHRoaXMuX2h0dHBIZWxwZXIgPSBodHRwSGVscGVyO1xuXG4gICAgdGhpcy5fYXBpTWFwID0gQXBpTWFwO1xuXG4gICAgdGhpcy5fYXBpID0gQXBpTWFwLmVudGVycHJpc2U7XG5cbiAgICB0aGlzLl9yb290U2NvcGUgPSAkcm9vdFNjb3BlO1xuICAgIHRoaXMuX3N0YXRlID0gJHN0YXRlO1xuICB9XG5cbiAgZ2V0KGlkKSB7XG4gICAgXG4gICAgdGhpcy5faHR0cEhlbHBlci5ibG9ja1VJLnN0YXJ0KCk7XG5cbiAgICByZXR1cm4gdGhpcy5faHR0cC5nZXQodGhpcy5fYXBpLmdldC5yZXBsYWNlKC9cXHtpZFxcfS8sIGlkKSkudGhlbih0aGlzLl9odHRwSGVscGVyLnZlcmlmeSwgIHRoaXMuX2h0dHBIZWxwZXIuZXJyb3IpO1xuICB9XG5cbiAgZ2V0TGlzdChwYXJhbXMpIHtcbiAgICBcbiAgICB0aGlzLl9odHRwSGVscGVyLmJsb2NrVUkuc3RhcnQoKTtcblxuICAgIHJldHVybiB0aGlzLl9odHRwLnBvc3QodGhpcy5fYXBpLmdldExpc3QsIHBhcmFtcykudGhlbih0aGlzLl9odHRwSGVscGVyLnZlcmlmeSwgIHRoaXMuX2h0dHBIZWxwZXIuZXJyb3IpO1xuICB9XG5cbiAgc2V0KGRhdGEpIHtcbiAgICBcbiAgICB0aGlzLl9odHRwSGVscGVyLmJsb2NrVUkuc3RhcnQoKTtcblxuICAgIHJldHVybiB0aGlzLl9odHRwLnBvc3QodGhpcy5fYXBpLnNldCwgZGF0YSkudGhlbih0aGlzLl9odHRwSGVscGVyLnZlcmlmeSwgIHRoaXMuX2h0dHBIZWxwZXIuZXJyb3IpO1xuICB9XG5cbiAgYWRkKGRhdGEpIHtcbiAgICBcbiAgICB0aGlzLl9odHRwSGVscGVyLmJsb2NrVUkuc3RhcnQoKTtcblxuICAgIHJldHVybiB0aGlzLl9odHRwLnBvc3QodGhpcy5fYXBpLmFkZCwgZGF0YSkudGhlbih0aGlzLl9odHRwSGVscGVyLnZlcmlmeSwgIHRoaXMuX2h0dHBIZWxwZXIuZXJyb3IpO1xuICB9XG5cbiAgZ2V0QmFua0xpc3QocGFyYW1zKSB7XG4gICAgdGhpcy5faHR0cEhlbHBlci5ibG9ja1VJLnN0YXJ0KCk7XG4gICAgcmV0dXJuIHRoaXMuX2h0dHAuZ2V0KHRoaXMuX2FwaU1hcC5iYW5rLmdldCwge3BhcmFtczogcGFyYW1zfSlcbiAgICAgIC50aGVuKHRoaXMuX2h0dHBIZWxwZXIudmVyaWZ5LCB0aGlzLl9odHRwSGVscGVyLmVycm9yKTtcbiAgfVxuICBcbiAgZ2V0VXNlckxpc3QoZGF0YSkge1xuICAgIHRoaXMuX2h0dHBIZWxwZXIuYmxvY2tVSS5zdGFydCgpO1xuICAgIHJldHVybiB0aGlzLl9odHRwLnBvc3QodGhpcy5fYXBpTWFwLnBlcnNvbi5saXN0LCBkYXRhKVxuICAgICAgLnRoZW4odGhpcy5faHR0cEhlbHBlci52ZXJpZnksIHRoaXMuX2h0dHBIZWxwZXIuZXJyb3IpO1xuICB9XG5cblxufSIsImltcG9ydCBQYWdpbmF0aW9uIGZyb20gJy4uLy4uLy4uL2NvcmUvY29tcG9uZW50cy9tY1BhZ2luYXRpb24vbWMtcGFnaW5hdGlvbi5jbGFzcyc7XG5pbXBvcnQge2FkZENvbmZpZ30gZnJvbSAnLi4vbW9kYWxzJztcblxuY2xhc3MgTGlzdENvbnRyb2xsZXIgZXh0ZW5kcyBQYWdpbmF0aW9uIHtcblxuICBjb25zdHJ1Y3RvcigkaW5qZWN0b3IsICRzdGF0ZSwgJGxvY2F0aW9uLCAkc3RhdGVQYXJhbXMsIHRvYXN0ciwgJHVpYk1vZGFsLCBGaWx0ZXJTZXJ2aWNlKSB7XG4gICAgJ25nSW5qZWN0JztcblxuICAgIHN1cGVyKCRpbmplY3Rvcik7XG5cbiAgICB0aGlzLl9zdGF0ZSA9ICRzdGF0ZTtcbiAgICB0aGlzLl9sb2NhdGlvbiA9ICRsb2NhdGlvbjtcbiAgICB0aGlzLl9zdGF0ZVBhcmFtcyA9ICRzdGF0ZVBhcmFtcztcbiAgICB0aGlzLl9tb2RhbCA9ICR1aWJNb2RhbDtcblxuICAgIHRoaXMuX3RvYXN0ciA9IHRvYXN0cjtcblxuICAgIHRoaXMuX3NlcnZpY2UgPSBGaWx0ZXJTZXJ2aWNlO1xuXG4gICAgdGhpcy5maWx0ZXJzID0ge307XG5cbiAgICB0aGlzLl9pbml0KCk7XG5cbiAgfVxuXG4gIF9pbml0KCkge1xuXG4gICAgdGhpcy5faW5pdEZpbHRlcnMoKTtcbiAgICB0aGlzLl9nZXRMaXN0KCk7XG5cbiAgfVxuXG4gIF9pbml0RmlsdGVycygpIHtcbiAgICAvLyBjb25zb2xlLmxvZyh0aGlzLl9zdGF0ZVBhcmFtcyk7XG4gICAgY29uc3Qgc3RhdGVQYXJhbXMgPSB0aGlzLl9zdGF0ZVBhcmFtcztcbiAgICAvLyB0aGlzLnBhZ2luYXRpb24ucGFnZSA9ICtzdGF0ZVBhcmFtcy5wYWdlO1xuICAgIC8vIHRoaXMuZmlsdGVycy5nZW5kZXIgPSArc3RhdGVQYXJhbXMuZ2VuZGVyIHx8IHZvaWQoMCk7XG5cbiAgICB0aGlzLmZpbHRlcnMubmFtZSA9IHN0YXRlUGFyYW1zLm5hbWUgfHwgdm9pZCgwKTtcblxuICB9XG4gIFxuICBfZ2V0TGlzdCgpIHtcblxuICAgIGxldCBwYXJhbXMgPSB0aGlzLl9maWx0ZXJFbXB0eVZhbHVlKCk7XG4gICAgLy8gcGFyYW1zLnBhZ2VTaXplID0gdGhpcy5wYWdpbmF0aW9uLnBhZ2VTaXplO1xuICAgIHBhcmFtcy5wYWdlID0gdGhpcy5wYWdpbmF0aW9uLnBhZ2U7XG5cbiAgICB0aGlzLl9zZXJ2aWNlLmdldEJsYWNrTGlzdChwYXJhbXMpLnRoZW4oZGF0YSA9PiB7XG4gICAgICBjb25zb2xlLmxvZyhkYXRhKTtcbiAgICAgIHRoaXMubGlzdCA9IGRhdGEuYmxhY2tsaXN0O1xuICAgICAgdGhpcy5wYWdpbmF0aW9uLmNvdW50ID0gZGF0YS5wYWdlX2NvdW50ICogdGhpcy5wYWdpbmF0aW9uLnBhZ2VTaXplO1xuICAgIH0pO1xuXG4gICAgLy8gdGhpcy5saXN0ID0gW1xuICAgIC8vICAgICAgICAgICAgIHtpZDogMSwgdGl0bGU6ICfljZXni6znmoTooajljZXmjqfku7bkvJrooqvoh6rliqjotYvkuojkuIDkupvlhajlsYDmoLflvI8nLCBsaW5rOiAnLycsIGNvbnRlbnQ6ICfljZXni6znmoTooajljZXmjqfku7bkvJrooqvoh6rliqjotYvkuojkuIDkupvlhajlsYDmoLflvI/jgILmiYDmnInorr7nva7kuoYgLmZvcm0tY29udHJvbCDnsbvnmoQgPGlucHV0PuOAgTx0ZXh0YXJlYT4g5ZKMIDxzZWxlY3Q+IOWFg+e0oOmDveWwhuiiq+m7mOiupOiuvue9ruWuveW6puWxnuaAp+S4uiB3aWR0aDogMTAwJTvjgIIg5bCGIGxhYmVsIOWFg+e0oOWSjOWJjemdouaPkOWIsOeahOaOp+S7tuWMheijueWcqCAuZm9ybS1ncm91cCDkuK3lj6/ku6XojrflvpfmnIDlpb3nmoTmjpLliJfjgIInfSxcbiAgICAvLyAgICAgICAgICAgICB7aWQ6IDIsIHRpdGxlOiAn5Y2V54us55qE6KGo5Y2V5o6n5Lu25Lya6KKr6Ieq5Yqo6LWL5LqI5LiA5Lqb5YWo5bGA5qC35byPJywgbGluazogJy8nLCBjb250ZW50OiAn5Y2V54us55qE6KGo5Y2V5o6n5Lu25Lya6KKr6Ieq5Yqo6LWL5LqI5LiA5Lqb5YWo5bGA5qC35byP44CC5omA5pyJ6K6+572u5LqGIC5mb3JtLWNvbnRyb2wg57G755qEIDxpbnB1dD7jgIE8dGV4dGFyZWE+IOWSjCA8c2VsZWN0PiDlhYPntKDpg73lsIbooqvpu5jorqTorr7nva7lrr3luqblsZ7mgKfkuLogd2lkdGg6IDEwMCU744CCIOWwhiBsYWJlbCDlhYPntKDlkozliY3pnaLmj5DliLDnmoTmjqfku7bljIXoo7nlnKggLmZvcm0tZ3JvdXAg5Lit5Y+v5Lul6I635b6X5pyA5aW955qE5o6S5YiX44CCJ30sXG4gICAgLy8gICAgICAgICAgIF07XG4gICAgLy8gdGhpcy5wYWdpbmF0aW9uLmNvdW50ID0gMjA7XG5cbiAgfVxuXG4gIGFkZCgpIHtcbiAgICBjb25zdCByZXNvbHZlID0ge1xuICAgICAgaW5mbzogZnVuY3Rpb24oKXtcbiAgICAgICAgcmV0dXJuIHt9O1xuICAgICAgfVxuICAgIH07XG5cbiAgICBjb25zdCBvcHRpb25zID0gey4uLmFkZENvbmZpZywgcmVzb2x2ZX07XG5cbiAgICB0aGlzLl9tb2RhbC5vcGVuKCBvcHRpb25zICk7XG4gIH1cbiAgZGVsKGl0ZW0pIHtcbiAgICBjb25zdCBpZCA9IGl0ZW0uaWQ7XG5cbiAgICBcbiAgICB0aGlzLl9zZXJ2aWNlLmRlbEJsYWNrTGlzdCh7aWR9KS50aGVuKGRhdGEgPT4ge1xuICAgICAgLy8gdGhpcy5fdG9hc3RyLnN1Y2Nlc3MoJycpO1xuICAgICAgdGhpcy5fdG9hc3RyLnN1Y2Nlc3MoJ+WIoOmZpOaIkOWKnycpO1xuICAgICAgdGhpcy5fc3RhdGUucmVsb2FkKCk7XG5cbiAgICB9KTtcbiAgfVxuXG5cbn1cblxuZXhwb3J0IGRlZmF1bHQgTGlzdENvbnRyb2xsZXI7XG4iLCJpbXBvcnQgQ29udHJvbGxlciBmcm9tICcuL2N0cmwnO1xuXG5jb25zdCBCbGFja0xpc3QgPSB7XG4gIHRlbXBsYXRlVXJsOiAnbW9kdWxlcy9maWx0ZXIvYmxhY2tsaXN0L3RlbXBsYXRlLmh0bWwnLFxuICBjb250cm9sbGVyOiBDb250cm9sbGVyLFxuICBjb250cm9sbGVyQXM6ICd2bSdcbn07XG5cbmV4cG9ydCBkZWZhdWx0IEJsYWNrTGlzdDtcbiIsImNsYXNzIENvbnRyb2xsZXIge1xuXG4gIGNvbnN0cnVjdG9yKCRzY29wZSwgJHN0YXRlLCAkc3RhdGVQYXJhbXMsICR2YWxpZGF0aW9uLCB0b2FzdHIsIENvbmZpZ1NlcnZpY2UsIGNoZWNrU3RhdGVTZXJ2aWNlKSB7XG4gICAgJ25nSW5qZWN0JztcblxuICAgIHRoaXMuX3Njb3BlID0gJHNjb3BlO1xuXG4gICAgdGhpcy5fc3RhdGUgPSAkc3RhdGU7XG4gICAgdGhpcy5fdG9hc3RyID0gdG9hc3RyO1xuICAgIHRoaXMuX3N0YXRlUGFyYW1zID0gJHN0YXRlUGFyYW1zO1xuXG4gICAgdGhpcy5fdmFsaWRhdGlvbiA9ICAkdmFsaWRhdGlvbjtcblxuICAgIHRoaXMuX2NoZWNrU3RhdGVTZXJ2aWNlID0gY2hlY2tTdGF0ZVNlcnZpY2U7XG5cbiAgICB0aGlzLl9zZXJ2aWNlID0gQ29uZmlnU2VydmljZTtcblxuICAgIC8vIHRoaXMuaWQgPSB0aGlzLl9zdGF0ZVBhcmFtcy5pZCB8fCBudWxsO1xuXG4gICAgdGhpcy5pbmZvID0gbnVsbDtcblxuICAgIHRoaXMua2V5ID0gJ2VudGVycHJpc2UuZW50ZXJfY29uZGl0aW9uJztcblxuICAgIHRoaXMuc29ydGFibGVDb25mID0ge1xuICAgICAgbmFtZTogJ3RvZG8nLFxuICAgICAgYW5pbWF0aW9uOiAxNTBcbiAgICB9O1xuICAgIHRoaXMuaW5wdXRJbmZvID0ge1xuICAgICAgY29udGVudDogJycsXG4gICAgICB0aXRsZTogJydcbiAgICB9O1xuXG4gICAgdGhpcy50eXBlTGlzdCA9IFtcbiAgICAgIHtcbiAgICAgICAgdmFsdWU6ICdpbnRlZ2VyJyxcbiAgICAgICAgbmFtZTogJ+aVsOWtlydcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIHZhbHVlOiAnc3RyaW5nJyxcbiAgICAgICAgbmFtZTogJ+aWh+acrCdcbiAgICAgIH1cbiAgICBdO1xuXG4gICAgdGhpcy5ncm91cENvbmRpdGlvbiA9IFtcbiAgICAgIHtcbiAgICAgICAgdmFsdWU6ICdhbGwnLFxuICAgICAgICBuYW1lOiAn5b+F6aG75YWo6YOo5ruh6LazJ1xuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgdmFsdWU6ICdvbmUnLFxuICAgICAgICBuYW1lOiAn5ruh6Laz5LiA5Liq5Y2z5Y+vJ1xuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgdmFsdWU6ICdvbmVOb3QnLFxuICAgICAgICBuYW1lOiAn5LiN5ZCM5pe25ruh6LazJ1xuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgdmFsdWU6ICdhbGxOb3QnLFxuICAgICAgICBuYW1lOiAn5LiN6IO95ruh6Laz5Lu75L2V5LiA5LiqJ1xuICAgICAgfSxcbiAgICBdO1xuXG4gICAgdGhpcy5jb25kaXRpb25MaXN0ID0ge1xuICAgICAgc3RyaW5nOiBbXG4gICAgICAgIHtcbiAgICAgICAgICB2YWx1ZTogJz0nLFxuICAgICAgICAgIG5hbWU6ICfnrYnkuo4nXG4gICAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgICB2YWx1ZTogJyU9JyxcbiAgICAgICAgICBuYW1lOiAn5YyF5ZCrJ1xuICAgICAgICB9LFxuICAgICAgICB7XG4gICAgICAgICAgdmFsdWU6ICchPScsXG4gICAgICAgICAgbmFtZTogJ+S4jeWMheWQqydcbiAgICAgICAgfSxcbiAgICAgIF0sXG4gICAgICBpbnRlZ2VyOltcbiAgICAgICAge1xuICAgICAgICAgIHZhbHVlOiAnPScsXG4gICAgICAgICAgbmFtZTogJ+etieS6jidcbiAgICAgICAgfSxcbiAgICAgICAge1xuICAgICAgICAgIHZhbHVlOiAnPicsXG4gICAgICAgICAgbmFtZTogJ+Wkp+S6jidcbiAgICAgICAgfSxcbiAgICAgICAge1xuICAgICAgICAgIHZhbHVlOiAnPj0nLFxuICAgICAgICAgIG5hbWU6ICflpKfkuo7nrYnkuo4nXG4gICAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgICB2YWx1ZTogJzwnLFxuICAgICAgICAgIG5hbWU6ICflpKfkuo4nXG4gICAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgICB2YWx1ZTogJzw9JyxcbiAgICAgICAgICBuYW1lOiAn5aSn5LqOJ1xuICAgICAgICB9LFxuICAgICAgXVxuICAgIH07XG5cbiAgICB0aGlzLl9pbml0KCk7XG4gIH1cblxuICBfaW5pdCgpIHtcblxuICAgIC8vIHRoaXMubGlzdCA9IFt7XG4gICAgLy8gICBjb25kaXRpb246ICdhbGwnLFxuICAgIC8vICAgbGlzdDogW1xuICAgIC8vICAgICB7XG4gICAgLy8gICAgICAgdGl0bGU6ICcnLFxuICAgIC8vICAgICAgIHR5cGU6ICdpbnRlZ2VyJyxcbiAgICAvLyAgICAgICBjb25kaXRpb246ICc9JyxcbiAgICAvLyAgICAgICB2YWx1ZTogMVxuICAgIC8vICAgICB9LFxuXG4gICAgLy8gICAgIHtcbiAgICAvLyAgICAgICB0aXRsZTogJycsXG4gICAgLy8gICAgICAgdHlwZTogJ2ludGVnZXInLFxuICAgIC8vICAgICAgIGNvbmRpdGlvbjogJz0nLFxuICAgIC8vICAgICAgIHZhbHVlOiAxXG4gICAgLy8gICAgIH1cbiAgICAvLyAgIF1cbiAgICAvLyB9LFxuICAgIC8vIHtcbiAgICAvLyAgIGNvbmRpdGlvbjogJ2FsbCcsXG4gICAgLy8gICBsaXN0OiBbXG4gICAgLy8gICAgIHtcbiAgICAvLyAgICAgICB0aXRsZTogJycsXG4gICAgLy8gICAgICAgdHlwZTogJ2ludGVnZXInLFxuICAgIC8vICAgICAgIGNvbmRpdGlvbjogJz0nLFxuICAgIC8vICAgICAgIHZhbHVlOiAxXG4gICAgLy8gICAgIH0sXG4gICAgICAgIFxuICAgIC8vICAgICB7XG4gICAgLy8gICAgICAgdGl0bGU6ICcnLFxuICAgIC8vICAgICAgIHR5cGU6ICdpbnRlZ2VyJyxcbiAgICAvLyAgICAgICBjb25kaXRpb246ICc9JyxcbiAgICAvLyAgICAgICB2YWx1ZTogMVxuICAgIC8vICAgICB9XG4gICAgLy8gICBdXG4gICAgLy8gfVxuICAgIC8vIF1cbiAgICB0aGlzLl9nZXQoKTtcbiAgfVxuXG4gIF9nZXQoKSB7XG5cbiAgICB0aGlzLl9zZXJ2aWNlLmdldCh0aGlzLmtleSkudGhlbihkYXRhID0+IHtcbiAgICAgIGlmKGRhdGEpIHtcbiAgICAgICAgdGhpcy5saXN0ID0gYW5ndWxhci5mcm9tSnNvbihkYXRhKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuaW5pdENvbGxlY3QoKTtcbiAgICAgIH1cbiAgICB9KS5jYXRjaChkYXRhID0+IHtcbiAgICAgIHRoaXMuaW5pdENvbGxlY3QoKTtcbiAgICB9KTtcbiAgfVxuXG4gIGluaXRDb2xsZWN0KCkge1xuICAgIHRoaXMubGlzdCA9IFtdO1xuICAgIHRoaXMuYWRkR3JvdXAoKTtcbiAgfVxuXG4gIGFkZEdyb3VwKCkge1xuICAgIGxldCBncm91cCA9IHtcbiAgICAgIGNvbmRpdGlvbjogJ2FsbCcsXG4gICAgICBsaXN0OiBbXVxuICAgIH07XG4gICAgdGhpcy5hZGRJdGVtKGdyb3VwKTtcbiAgICB0aGlzLmxpc3QucHVzaChncm91cCk7XG4gIH1cblxuICBhZGRJdGVtKGdyb3VwKSB7XG4gICAgbGV0IGl0ZW0gPSB7XG4gICAgICB0aXRsZTogJycsXG4gICAgICB0eXBlOiAnaW50ZWdlcicsXG4gICAgICBjb25kaXRpb246ICc9JyxcbiAgICAgIHZhbHVlOiAnJ1xuICAgIH07XG4gICAgZ3JvdXAubGlzdC5wdXNoKGl0ZW0pO1xuICB9XG5cbiAgZGVsR3JvdXAoaW5kZXgpIHtcbiAgICB0aGlzLmxpc3Quc3BsaWNlKGluZGV4LCAxKTtcbiAgfVxuXG4gIGRlbEl0ZW0oZ3JvdXAsIGluZGV4KSB7XG4gICAgZ3JvdXAubGlzdC5zcGxpY2UoaW5kZXgsIDEpO1xuICB9XG5cblx0ZGVsZXRlKGZvcm0pIHtcbiAgICBmb3JtLiRwcmlzdGluZSA9IHRydWU7XG5cdFx0dGhpcy5fc2VydmljZS50aXBzU2V0KHtcbiAgICAgIGlkOiB0aGlzLmlkLFxuICAgICAgc3RhdGU6IDNcbiAgICB9KS50aGVuKGRhdGEgPT4ge1xuICAgICAgdGhpcy5fdG9hc3RyLnN1Y2Nlc3MoJ+WIoOmZpOaIkOWKnyEnKTtcbiAgICAgIHRoaXMuX3N0YXRlLmdvKCdwcm9jZXNzLnRpcHMnKTtcbiAgICB9KTtcblx0fVxuXG4gIHN1Ym1pdChmb3JtKSB7XG4gICAgLy/pqozor4HooajljZVcbiAgICB0aGlzLl92YWxpZGF0aW9uLnZhbGlkYXRlKGZvcm0pLnN1Y2Nlc3MoKCkgPT4ge1xuICAgICAgdGhpcy5zYXZlRnVuYyhmb3JtKTtcbiAgICB9KTtcbiAgfVxuXG4gIHNhdmVGdW5jKGZvcm0pIHtcbiAgICB0aGlzLl9zZXJ2aWNlLnNldCh7XG4gICAgICBrZXk6IHRoaXMua2V5LFxuICAgICAgdmFsdWU6IGFuZ3VsYXIudG9Kc29uKHRoaXMubGlzdClcbiAgICB9KS50aGVuKGRhdGEgPT4ge1xuICAgICAgZm9ybS4kcHJpc3RpbmUgPSB0cnVlO1xuICAgICAgdGhpcy5fdG9hc3RyLnN1Y2Nlc3MoJ+a3u+WKoOaIkOWKnycpO1xuICAgIH0pO1xuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IENvbnRyb2xsZXI7IiwiaW1wb3J0IGN0cmwgZnJvbSAnLi9jdHJsJztcblxuY29uc3QgY29uZGl0aW9uID0ge1xuICB0ZW1wbGF0ZVVybDogJ21vZHVsZXMvZmlsdGVyL2NvbmRpdGlvbi9pbmRleC5odG1sJyxcbiAgY29udHJvbGxlcjogY3RybCxcbiAgY29udHJvbGxlckFzOiAndm0nXG59O1xuXG5leHBvcnQgZGVmYXVsdCBjb25kaXRpb247IiwiZnVuY3Rpb24gQ29uZmlnKCRzdGF0ZVByb3ZpZGVyKSB7XG4gICduZ0luamVjdCc7XG5cbiAgJHN0YXRlUHJvdmlkZXJcbiAgICAuc3RhdGUoJ2ZpbHRlcicsIHtcbiAgICAgIHVybDogJy9maWx0ZXInLFxuICAgICAgYWJzdHJhY3Q6IHRydWUsXG4gICAgICB0ZW1wbGF0ZSA6ICc8dWktdmlldz48L3VpLXZpZXc+JyxcbiAgICAgIHRpdGxlOiAn5LyB5Lia562b6YCJJyxcbiAgICAgIHNpZGViYXJNZXRhOiB7XG4gICAgICAgIGljb246ICdpY29uLXNpZGViYXJfbWVtYmVyc19pYycsXG4gICAgICAgIG9yZGVyOiA1MDAsXG4gICAgICB9XG4gICAgfSlcbiAgICAuc3RhdGUoJ2ZpbHRlci5ibGFja2xpc3QnLCB7XG4gICAgICB1cmw6ICc/cGFnZSZuYW1lJyxcbiAgICAgIHRlbXBsYXRlOiAnPGZpbHRlci1ibGFja2xpc3Q+PC9maWx0ZXItYmxhY2tsaXN0PicsXG4gICAgICB0aXRsZTogJ+m7keWQjeWNlScsXG4gICAgICBzaWRlYmFyTWV0YToge1xuICAgICAgICBvcmRlcjogMzBcbiAgICAgIH1cbiAgICB9KVxuICAgIC5zdGF0ZSgnZmlsdGVyLmNvbmRpdGlvbicsIHtcbiAgICAgIHVybDogJy9jb25kaXRpb24nLFxuICAgICAgdGVtcGxhdGU6ICc8ZmlsdGVyLWNvbmRpdGlvbj48L2ZpbHRlci1jb25kaXRpb24+JyxcbiAgICAgIHRpdGxlOiAn5YeG5YWl5p2h5Lu2JyxcbiAgICAgIHNpZGViYXJNZXRhOiB7XG4gICAgICAgIG9yZGVyOiA1MFxuICAgICAgfVxuICAgIH0pXG4gICAgLy8gLnN0YXRlKCdmaWx0ZXIuYWRkJywge1xuICAgIC8vICAgdXJsOiAnL2FkZD9pZCcsXG4gICAgLy8gICB0ZW1wbGF0ZTogJzxmaWx0ZXItYWRkPjwvZmlsdGVyLWFkZD4nLFxuICAgIC8vICAgdGl0bGU6ICfmt7vliqDpu5HlkI3ljZUnLFxuICAgIC8vICAgc2lkZWJhck1ldGE6IHtcbiAgICAvLyAgICAgb3JkZXI6IDMwXG4gICAgLy8gICB9XG4gICAgLy8gfSlcbiAgICA7XG5cbn1cblxuZXhwb3J0IGRlZmF1bHQgQ29uZmlnO1xuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgQ29udHJvbGxlciB7XG4gIGNvbnN0cnVjdG9yKCRzY29wZSwgJHN0YXRlLCAkdmFsaWRhdGlvbiwgJHVpYk1vZGFsSW5zdGFuY2UsIHRvYXN0ciwgRmlsdGVyU2VydmljZSwgaW5mbykge1xuICAgICduZ0luamVjdCc7XG5cbiAgICB0aGlzLl9zY29wZSA9ICRzY29wZTtcbiAgICB0aGlzLl9zdGF0ZSA9ICRzdGF0ZTtcblxuICAgIHRoaXMuX3ZhbGlkYXRpb25Qcm92aWRlciA9ICR2YWxpZGF0aW9uO1xuXG4gICAgdGhpcy5fbW9kYWxJbnN0YW5jZSA9ICR1aWJNb2RhbEluc3RhbmNlO1xuICAgIHRoaXMuX3RvYXN0ciA9IHRvYXN0cjtcblxuICAgIHRoaXMuX3NlcnZpY2UgPSBGaWx0ZXJTZXJ2aWNlO1xuXG4gICAgdGhpcy5pbmZvID0gaW5mbztcblxuICAgIHRoaXMuaW5wdXRJbmZvID0ge1xuICAgICAgbmFtZTogJydcbiAgICB9O1xuXG4gIH1cblxuICBcblxuICBjYW5jZWwoKSB7XG4gICAgdGhpcy5fbW9kYWxJbnN0YW5jZS5jbG9zZSgpO1xuICB9XG5cbiAgc3VibWl0KGZvcm0pIHtcbiAgICAvL+mqjOivgeihqOWNlVxuICAgIHRoaXMuX3ZhbGlkYXRpb25Qcm92aWRlci52YWxpZGF0ZShmb3JtKS5zdWNjZXNzKCgpID0+IHtcbiAgICAgIHRoaXMuc2F2ZUZ1bmMoKTtcbiAgICB9KTtcbiAgfVxuXG4gIHNhdmVGdW5jKCkge1xuICAgIGNvbnN0IGRhdGEgPSB0aGlzLmlucHV0SW5mbztcbiAgICB0aGlzLl9zZXJ2aWNlLmFkZEJsYWNrTGlzdChkYXRhKS50aGVuKGRhdGEgPT4ge1xuICAgICAgdGhpcy5fdG9hc3RyLnN1Y2Nlc3MoJ+a3u+WKoOaIkOWKnycpO1xuICAgICAgdGhpcy5jYW5jZWwoKTtcbiAgICAgIHRoaXMuX3N0YXRlLnJlbG9hZCgpO1xuICAgIH0pXG4gIH1cbn1cbiIsImltcG9ydCBDb250cm9sbGVyIGZyb20gJy4vY3RybCc7XG5cbmNvbnN0IENvbmZpZ3VyYXRpb24gPSB7XG4gIHRlbXBsYXRlVXJsOiAnbW9kdWxlcy9maWx0ZXIvbW9kYWxzL2FkZC90ZW1wbGF0ZS5odG1sJyxcbiAgY29udHJvbGxlcjogQ29udHJvbGxlcixcbiAgY29udHJvbGxlckFzOiAndm0nXG59O1xuXG5leHBvcnQgZGVmYXVsdCBDb25maWd1cmF0aW9uO1xuIiwiaW1wb3J0IGFkZENvbmZpZyBmcm9tICcuL2FkZCc7XG5cbmV4cG9ydCB7XG4gIGFkZENvbmZpZ1xufVxuIiwiaW1wb3J0IGFuZ3VsYXIgZnJvbSAnYW5ndWxhcic7XG5pbXBvcnQgY29uZmlnICBmcm9tICcuL2NvbmZpZyc7XG5pbXBvcnQgc2VydmljZSBmcm9tICcuL3NlcnZpY2UnO1xuLy8gaW1wb3J0IExpc3QgIGZyb20gJy4vbGlzdC8nO1xuaW1wb3J0IENvbmRpdGlvbiBmcm9tICcuL2NvbmRpdGlvbi8nO1xuaW1wb3J0IEJsYWNrbGlzdCBmcm9tICcuL2JsYWNrbGlzdC8nO1xuXG4vLyBpbXBvcnQgZGVtb1NlcnZpY2UgICAgICBmcm9tICcuL3NlcnZpY2VzL2RlbW8uc2VydmljZSc7XG5cblxuXG5cbmV4cG9ydCBkZWZhdWx0IGFuZ3VsYXIubW9kdWxlKCdhcHAubW9kdWxlcy5maWx0ZXInLCBbXSlcbi8vIC5maWx0ZXIoJ2ZpbHRlclR5cGUnLCBmaWx0ZXJUeXBlKVxuLnNlcnZpY2UoJ0ZpbHRlclNlcnZpY2UnLCBzZXJ2aWNlKVxuXG4uY29tcG9uZW50KCdmaWx0ZXJCbGFja2xpc3QnLCBCbGFja2xpc3QpXG4uY29tcG9uZW50KCdmaWx0ZXJDb25kaXRpb24nLCBDb25kaXRpb24pXG4uY29uZmlnKGNvbmZpZyk7XG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBTZXJ2aWNlIHtcbiAgY29uc3RydWN0b3IoJGh0dHAsIGh0dHBIZWxwZXIsICRyb290U2NvcGUsICRzdGF0ZSwgQXBpTWFwKSB7XG4gICAgJ25nSW5qZWN0JztcblxuICAgIHRoaXMuX2h0dHAgPSAkaHR0cDtcbiAgICAvLyB0aGlzLiRxID0gJHE7XG4gICAgdGhpcy5faHR0cEhlbHBlciA9IGh0dHBIZWxwZXI7XG5cbiAgICB0aGlzLl9hcGlNYXAgPSBBcGlNYXA7XG5cbiAgICB0aGlzLl9hcGkgPSBBcGlNYXAuZmlsdGVyO1xuXG4gICAgdGhpcy5fcm9vdFNjb3BlID0gJHJvb3RTY29wZTtcbiAgICB0aGlzLl9zdGF0ZSA9ICRzdGF0ZTtcbiAgfVxuXG4gIGdldEJsYWNrTGlzdChwYXJhbXMpIHtcbiAgICB0aGlzLl9odHRwSGVscGVyLmJsb2NrVUkuc3RhcnQoKTtcbiAgICByZXR1cm4gdGhpcy5faHR0cC5wb3N0KHRoaXMuX2FwaS5ibGFja2xpc3QubGlzdCwgcGFyYW1zKVxuICAgICAgLnRoZW4odGhpcy5faHR0cEhlbHBlci52ZXJpZnksIHRoaXMuX2h0dHBIZWxwZXIuZXJyb3IpO1xuICB9XG4gIGFkZEJsYWNrTGlzdChwYXJhbXMpIHtcbiAgICB0aGlzLl9odHRwSGVscGVyLmJsb2NrVUkuc3RhcnQoKTtcbiAgICByZXR1cm4gdGhpcy5faHR0cC5wb3N0KHRoaXMuX2FwaS5ibGFja2xpc3QuYWRkLCBwYXJhbXMpXG4gICAgICAudGhlbih0aGlzLl9odHRwSGVscGVyLnZlcmlmeSwgdGhpcy5faHR0cEhlbHBlci5lcnJvcik7XG4gIH1cbiAgZGVsQmxhY2tMaXN0KHBhcmFtcykge1xuICAgIHRoaXMuX2h0dHBIZWxwZXIuYmxvY2tVSS5zdGFydCgpO1xuICAgIHJldHVybiB0aGlzLl9odHRwLnBvc3QodGhpcy5fYXBpLmJsYWNrbGlzdC5kZWwsIHBhcmFtcylcbiAgICAgIC50aGVuKHRoaXMuX2h0dHBIZWxwZXIudmVyaWZ5LCB0aGlzLl9odHRwSGVscGVyLmVycm9yKTtcbiAgfVxuICBcblxuXG59IiwiZnVuY3Rpb24gQ29uZmlnKCRzdGF0ZVByb3ZpZGVyKSB7XG4gICduZ0luamVjdCc7XG5cbiAgJHN0YXRlUHJvdmlkZXJcbiAgICAuc3RhdGUoJ2luZm9ybWF0aW9uJywge1xuICAgICAgICB1cmw6ICcvaW5mb3JtYXRpb24nLFxuICAgICAgICAvLyBhYnN0cmFjdDogdHJ1ZSxcbiAgICAgICAgdGVtcGxhdGUgOiAnPHVpLXZpZXc+PGluZm9ybWF0aW9uLXNldHRpbmc+PC9pbmZvcm1hdGlvbi1zZXR0aW5nPjwvdWktdmlldz4nLFxuICAgICAgICB0aXRsZTogJ+S8geS4mumHh+mbhuiuvue9ricsXG4gICAgICAgIHNpZGViYXJNZXRhOiB7XG4gICAgICAgICAgaWNvbjogJ2ljb24tc2lkZWJhcl9tZW1iZXJzX2ljJyxcbiAgICAgICAgICBvcmRlcjogNjAwLFxuICAgICAgICB9XG4gICAgfSlcbiAgICAvLyAuc3RhdGUoJ2luZm9ybWF0aW9uLmxpc3QnLCB7XG4gICAgLy8gICAgIHVybDogJycsXG4gICAgLy8gICAgIHRlbXBsYXRlOiAnPGluZm9ybWF0aW9uLWxpc3Q+PC9pbmZvcm1hdGlvbi1saXN0PicsXG4gICAgLy8gICAgIHRpdGxlOiAn5LyB5Lia5YiX6KGoJyxcbiAgICAvLyAgICAgc2lkZWJhck1ldGE6IHtcbiAgICAvLyAgICAgICBvcmRlcjogMTBcbiAgICAvLyAgICAgfVxuICAgIC8vIH0pXG4gICAgLy8gLnN0YXRlKCdpbmZvcm1hdGlvbi5kZXRhaWwnLCB7XG4gICAgLy8gICAgIHVybDogJy9kZXRhaWw/aWQnLFxuICAgIC8vICAgICB0ZW1wbGF0ZTogJzxpbmZvcm1hdGlvbi1kZXRhaWw+PC9pbmZvcm1hdGlvbi1kZXRhaWw+JyxcbiAgICAvLyAgICAgdGl0bGU6ICfkvIHkuJrliJfooagnLFxuICAgIC8vICAgICBzaWRlYmFyTWV0YToge1xuICAgIC8vICAgICAgIG9yZGVyOiAyMFxuICAgIC8vICAgICB9XG4gICAgLy8gfSlcbiAgICAuc3RhdGUoJ2luZm9ybWF0aW9uLnNldHRpbmcnLCB7XG4gICAgICAgIHVybDogJy9zZXR0aW5nJyxcbiAgICAgICAgdGVtcGxhdGU6ICc8aW5mb3JtYXRpb24tc2V0dGluZz48L2luZm9ybWF0aW9uLXNldHRpbmc+JyxcbiAgICAgICAgdGl0bGU6ICfph4fpm4borr7nva4nLFxuICAgICAgICAvLyBzaWRlYmFyTWV0YToge1xuICAgICAgICAvLyAgIG9yZGVyOiAzMFxuICAgICAgICAvLyB9XG4gICAgfSlcbiAgICA7XG5cbn1cblxuZXhwb3J0IGRlZmF1bHQgQ29uZmlnO1xuIiwiaW1wb3J0IGFuZ3VsYXIgZnJvbSAnYW5ndWxhcic7XG5pbXBvcnQgY29uZmlnICBmcm9tICcuL2NvbmZpZyc7XG4vLyBpbXBvcnQgc2VydmljZSBmcm9tICcuL3NlcnZpY2UnO1xuLy8gaW1wb3J0IExpc3QgIGZyb20gJy4vbGlzdC8nO1xuaW1wb3J0IFNldHRpbmcgIGZyb20gJy4vc2V0dGluZy8nO1xuXG4vLyBpbXBvcnQgZGVtb1NlcnZpY2UgICAgICBmcm9tICcuL3NlcnZpY2VzL2RlbW8uc2VydmljZSc7XG5cblxuXG5cbmV4cG9ydCBkZWZhdWx0IGFuZ3VsYXIubW9kdWxlKCdhcHAubW9kdWxlcy5pbmZvcm1hdGlvbicsIFtdKVxuLy8gLmZpbHRlcignZmlsdGVyVHlwZScsIGZpbHRlclR5cGUpXG4vLyAuc2VydmljZSgnTWVzc2FnZVNlcnZpY2UnLCBzZXJ2aWNlKVxuXG4vLyAuY29tcG9uZW50KCdpbmZvcm1hdGlvbkxpc3QnLCBMaXN0KVxuLmNvbXBvbmVudCgnaW5mb3JtYXRpb25TZXR0aW5nJywgU2V0dGluZylcbi5jb25maWcoY29uZmlnKTtcbiIsIlxuXG5jbGFzcyBDb250cm9sbGVyIHtcblxuICBjb25zdHJ1Y3RvcigkaW5qZWN0b3IsICRzdGF0ZSwgJGxvY2F0aW9uLCAkdmFsaWRhdGlvbiwgJHN0YXRlUGFyYW1zLCB0b2FzdHIsICR1aWJNb2RhbCwgQ29uZmlnU2VydmljZSkge1xuICAgICduZ0luamVjdCc7XG5cbiAgICB0aGlzLl9zdGF0ZSA9ICRzdGF0ZTtcbiAgICB0aGlzLl9sb2NhdGlvbiA9ICRsb2NhdGlvbjtcbiAgICB0aGlzLl9zdGF0ZVBhcmFtcyA9ICRzdGF0ZVBhcmFtcztcbiAgICB0aGlzLl9tb2RhbCA9ICR1aWJNb2RhbDtcblxuICAgIHRoaXMuX3ZhbGlkYXRpb25Qcm92aWRlciA9ICR2YWxpZGF0aW9uO1xuXG4gICAgdGhpcy5fdG9hc3RyID0gdG9hc3RyO1xuXG4gICAgdGhpcy5fc2VydmljZSA9IENvbmZpZ1NlcnZpY2U7XG5cbiAgICB0aGlzLmZpbHRlcnMgPSB7fTtcblxuICAgIHRoaXMua2V5ID0gJ2ZpbmRpbmcudGVtcGxhdGUnO1xuXG5cbiAgICB0aGlzLnR5cGVMaXN0ID0gW1xuICAgICAge1xuICAgICAgICB0eXBlOiAnaW5wdXQnLFxuICAgICAgICB0aXRsZTogJ+WNleihjOaWh+acrCdcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIHR5cGU6ICd0ZXh0YXJlYScsXG4gICAgICAgIHRpdGxlOiAn5aSa6KGM5paH5pysJ1xuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgdHlwZTogJ2ltZycsXG4gICAgICAgIHRpdGxlOiAn5Zu+54mHJyxcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIHR5cGU6ICdzZWxlY3QnLFxuICAgICAgICB0aXRsZTogJ+S4i+aLiemAieaLqScsXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICB0eXBlOiAnY2hlY2tib3gnLFxuICAgICAgICB0aXRsZTogJ+WkmumAieahhicsXG4gICAgICB9LFxuICAgIF07XG5cbiAgICB0aGlzLl9pbml0KCk7XG5cbiAgfVxuXG4gIF9pbml0KCkge1xuICAgIHRoaXMuX2dldFRlbXBsYXRlKCk7XG5cbiAgfVxuXG4gIF9nZXRUZW1wbGF0ZSgpIHtcbiAgICB0aGlzLl9zZXJ2aWNlLmdldCh0aGlzLmtleSkudGhlbihkYXRhID0+IHtcbiAgICAgIGlmKGRhdGEpIHtcbiAgICAgICAgdGhpcy5jb2xsZWN0TGlzdCA9IGFuZ3VsYXIuZnJvbUpzb24oZGF0YSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLmluaXRDb2xsZWN0SW5mbygpO1xuICAgICAgfVxuICAgIH0pLmNhdGNoKGUgPT4ge1xuICAgICAgdGhpcy5pbml0Q29sbGVjdEluZm8oKTtcbiAgICB9KTtcbiAgfVxuXG4gIGluaXRDb2xsZWN0SW5mbygpIHtcbiAgICB0aGlzLmNvbGxlY3RMaXN0ID0gW107XG5cbiAgICB0aGlzLmFkZFByb2plY3QoKTtcbiAgfVxuXG4gIHR5cGVDaGFuZ2UoaXRlbSkge1xuICAgIGlmIChbJ3NlbGVjdCcsICdjaGVja2JveCddLmluZGV4T2YoaXRlbS50eXBlKSA+IC0xKSB7XG4gICAgICBpdGVtLm5lZWREYXRhID0gdHJ1ZTtcbiAgICB9IGVsc2Uge1xuICAgICAgaXRlbS5uZWVkRGF0YSA9IGZhbHNlO1xuICAgIH1cbiAgfVxuXG4gIGFkZFByb2plY3QoKSB7XG4gICAgbGV0IHByb2plY3RPYmogPSB7XG4gICAgICBuYW1lOiAnJyxcbiAgICAgIGlzUmVxdWlyZWQ6IGZhbHNlLFxuICAgICAgY29udGVudDogW11cbiAgICB9O1xuICAgIHRoaXMuY29sbGVjdExpc3QucHVzaChwcm9qZWN0T2JqKTtcbiAgICB0aGlzLmFkZEl0ZW0ocHJvamVjdE9iaik7XG4gIH1cblxuICBkZWxldGVQcm9qZWN0KGluZGV4KSB7XG4gICAgdGhpcy5jb2xsZWN0TGlzdC5zcGxpY2UoaW5kZXgsIDEpO1xuICB9XG5cbiAgYWRkSXRlbShwcm9qZWN0KSB7XG4gICAgbGV0IGNvbnRlbnRPYmogPSB7XG4gICAgICB0aXRsZTogJycsXG4gICAgICB0eXBlOiAnaW5wdXQnLFxuICAgICAgZGVzY3JpcHRpb246ICcnLFxuICAgICAgaXNSZXF1aXJlZDogZmFsc2UsXG4gICAgICBuZWVkRGF0YTogZmFsc2UsXG4gICAgICBkYXRhU291cmNlOiBbXVxuICAgIH07XG5cbiAgICBwcm9qZWN0LmNvbnRlbnQucHVzaChjb250ZW50T2JqKTtcblxuICAgIHRoaXMuYWRkRGF0YShjb250ZW50T2JqKTtcbiAgfVxuXG4gIGRlbGV0ZUl0ZW0ocHJvaiwgaW5kZXgpIHtcbiAgICBwcm9qLmNvbnRlbnQuc3BsaWNlKGluZGV4LCAxKTtcbiAgfVxuXG4gIGFkZERhdGEoaXRlbSkge1xuICAgIGl0ZW0uZGF0YVNvdXJjZS5wdXNoKHtcbiAgICAgIGRlc2NyaXB0aW9uOiAnJ1xuICAgIH0pO1xuICB9XG5cbiAgZGVsZXRlRGF0YShpdGVtLCBpbmRleCkge1xuICAgIGl0ZW0uZGF0YVNvdXJjZS5zcGxpY2UoaW5kZXgsIDEpO1xuICB9XG5cblxuXG4gIHN1Ym1pdChmb3JtKSB7XG4gICAgLy/pqozor4HooajljZVcbiAgICB0aGlzLl92YWxpZGF0aW9uUHJvdmlkZXIudmFsaWRhdGUoZm9ybSkuc3VjY2VzcygoKSA9PiB7XG4gICAgICB0aGlzLnNhdmVGdW5jKCk7XG4gICAgfSk7XG4gIH1cblxuICBzYXZlRnVuYygpIHtcbiAgICAvLyBjb25zb2xlLmxvZygnc3VibWl0JylcblxuICAgIC8vIGNvbnNvbGUubG9nKHRoaXMuY29sbGVjdExpc3QsIEpTT04uc3RyaW5naWZ5KHRoaXMuY29sbGVjdExpc3QpKTtcblxuICAgIHRoaXMuX3NlcnZpY2Uuc2V0KHtcbiAgICAgIGtleTogdGhpcy5rZXksXG4gICAgICB2YWx1ZTogYW5ndWxhci50b0pzb24odGhpcy5jb2xsZWN0TGlzdClcbiAgICB9KS50aGVuKGRhdGEgPT4ge1xuICAgICAgdGhpcy5fdG9hc3RyLnN1Y2Nlc3MoJ+S/neWtmOaIkOWKnycpO1xuICAgIH0pO1xuICB9XG5cbn1cblxuZXhwb3J0IGRlZmF1bHQgQ29udHJvbGxlcjtcbiIsImltcG9ydCBDb250cm9sbGVyIGZyb20gJy4vY3RybCc7XG5cbmNvbnN0IGNvbXBvbmVudCA9IHtcbiAgdGVtcGxhdGVVcmw6ICdtb2R1bGVzL2luZm9ybWF0aW9uL3NldHRpbmcvaW5kZXguaHRtbCcsXG4gIGNvbnRyb2xsZXI6IENvbnRyb2xsZXIsXG4gIGNvbnRyb2xsZXJBczogJ3ZtJ1xufTtcblxuZXhwb3J0IGRlZmF1bHQgY29tcG9uZW50O1xuIiwiZnVuY3Rpb24gQ29uZmlnKCRzdGF0ZVByb3ZpZGVyKSB7XG4gICduZ0luamVjdCc7XG5cbiAgJHN0YXRlUHJvdmlkZXJcbiAgICAuc3RhdGUoJ2ludmVzdG1lbnQnLCB7XG4gICAgICAgIHVybDogJy9pbnZlc3RtZW50P3BhZ2UmbmFtZScsXG4gICAgICAgIC8vIGFic3RyYWN0OiB0cnVlLFxuICAgICAgICB0ZW1wbGF0ZSA6ICc8dWktdmlldz48aW52ZXN0bWVudC1saXN0PjwvaW52ZXN0bWVudC1saXN0PjwvdWktdmlldz4nLFxuICAgICAgICB0aXRsZTogJ+aKlei1hOacuuaehCcsXG4gICAgICAgIHNpZGViYXJNZXRhOiB7XG4gICAgICAgICAgaWNvbjogJ2ljb24tc2lkZWJhcl9tZW1iZXJzX2ljJyxcbiAgICAgICAgICBvcmRlcjogMzUwLFxuICAgICAgICB9XG4gICAgfSlcbiAgICAvLyAuc3RhdGUoJ2ludmVzdG1lbnQubGlzdCcsIHtcbiAgICAvLyAgICAgdXJsOiAnJyxcbiAgICAvLyAgICAgdGVtcGxhdGU6ICc8aW52ZXN0bWVudC1saXN0PjwvaW52ZXN0bWVudC1saXN0PicsXG4gICAgLy8gICAgIHRpdGxlOiAn5py65p6E5YiX6KGoJ1xuICAgIC8vIH0pXG4gICAgO1xuXG59XG5cbmV4cG9ydCBkZWZhdWx0IENvbmZpZztcbiIsImltcG9ydCBQYWdpbmF0aW9uIGZyb20gJy4uLy4uLy4uL2NvcmUvY29tcG9uZW50cy9tY1BhZ2luYXRpb24vbWMtcGFnaW5hdGlvbi5jbGFzcyc7XG5pbXBvcnQge2FkZENvbmZpZ30gZnJvbSAnLi4vbW9kYWxzJztcblxuY2xhc3MgTGlzdENvbnRyb2xsZXIgZXh0ZW5kcyBQYWdpbmF0aW9uIHtcblxuICBjb25zdHJ1Y3RvcigkaW5qZWN0b3IsICRzdGF0ZSwgJGxvY2F0aW9uLCAkc3RhdGVQYXJhbXMsIHRvYXN0ciwgJHVpYk1vZGFsLCBJbnZlc3RtZW50U2VydmljZSkge1xuICAgICduZ0luamVjdCc7XG5cbiAgICBzdXBlcigkaW5qZWN0b3IpO1xuXG4gICAgdGhpcy5fc3RhdGUgPSAkc3RhdGU7XG4gICAgdGhpcy5fbG9jYXRpb24gPSAkbG9jYXRpb247XG4gICAgdGhpcy5fc3RhdGVQYXJhbXMgPSAkc3RhdGVQYXJhbXM7XG4gICAgdGhpcy5fbW9kYWwgPSAkdWliTW9kYWw7XG5cbiAgICB0aGlzLl90b2FzdHIgPSB0b2FzdHI7XG5cbiAgICB0aGlzLl9zZXJ2aWNlID0gSW52ZXN0bWVudFNlcnZpY2U7XG5cbiAgICB0aGlzLmZpbHRlcnMgPSB7fTtcblxuICAgIHRoaXMuYWdlbmN5TGlzdCA9IFtdO1xuXG4gICAgdGhpcy5faW5pdCgpO1xuXG4gIH1cblxuICBfaW5pdCgpIHtcblxuICAgIHRoaXMuX2luaXRGaWx0ZXJzKCk7XG4gICAgdGhpcy5fZ2V0TGlzdCgpO1xuXG4gIH1cblxuICBfaW5pdEZpbHRlcnMoKSB7XG4gICAgLy8gY29uc29sZS5sb2codGhpcy5fc3RhdGVQYXJhbXMpO1xuICAgIGNvbnN0IHN0YXRlUGFyYW1zID0gdGhpcy5fc3RhdGVQYXJhbXM7XG4gICAgLy8gdGhpcy5wYWdpbmF0aW9uLnBhZ2UgPSArc3RhdGVQYXJhbXMucGFnZTtcbiAgICB0aGlzLmZpbHRlcnMuZ2VuZGVyID0gK3N0YXRlUGFyYW1zLmdlbmRlciB8fCB2b2lkKDApO1xuXG4gICAgdGhpcy5maWx0ZXJzLm5hbWUgPSBzdGF0ZVBhcmFtcy5uYW1lIHx8IHZvaWQoMCk7XG5cbiAgfVxuICBcbiAgX2dldExpc3QoKSB7XG5cbiAgICBsZXQgcGFyYW1zID0gdGhpcy5fZmlsdGVyRW1wdHlWYWx1ZSgpO1xuICAgIC8vIHBhcmFtcy5wYWdlU2l6ZSA9IHRoaXMucGFnaW5hdGlvbi5wYWdlU2l6ZTtcbiAgICBwYXJhbXMucGFnZSA9IHRoaXMucGFnaW5hdGlvbi5wYWdlO1xuXG4gICAgdGhpcy5fc2VydmljZS5nZXRMaXN0KHBhcmFtcykudGhlbihkYXRhID0+IHtcbiAgICAgIGlmKGRhdGEgaW5zdGFuY2VvZiBBcnJheSkge1xuICAgICAgICB0aGlzLmxpc3QgPSBkYXRhO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gdGhpcy5fZm9ybWF0QWdlbmN5KGRhdGEpO1xuICAgICAgICB0aGlzLmxpc3QgPSBkYXRhLnZjX2NvbXBhbmllcztcbiAgICAgICAgdGhpcy5wYWdpbmF0aW9uLmNvdW50ID0gZGF0YS5wYWdlX2NvdW50ICogdGhpcy5wYWdpbmF0aW9uLnBhZ2VTaXplO1xuICAgICAgfVxuICAgIH0pO1xuXG4gIH1cblxuICBfZm9ybWF0QWdlbmN5KGRhdGEpIHtcbiAgICAvLyBjb25zdCB0bXBBcnIgPSBbXTtcbiAgICAvLyBfLmVhY2goZGF0YSwgaXRlbSA9PiB7XG4gICAgLy8gICB0bXBBcnIucHVzaChpdGVtLnZjX25hbWUpO1xuICAgIC8vIH0pO1xuXG4gICAgLy8gdGhpcy5hZ2VuY3lMaXN0ID0gXy51bmlxKHRtcEFycilcbiAgfVxuXG4gIGNoYW5nZUFnZW5jeSgpIHtcbiAgICBpZiAodGhpcy5maWx0ZXJzLmFnZW5jeSA9PT0gbnVsbCkge1xuICAgICAgdGhpcy5maWx0ZXJzLmFnZW5jeSA9ICcnO1xuICAgIH1cbiAgfVxuXG4gIGFkZENvbXBhbnkoKSB7XG4gICAgbGV0IGFnZW5jeUxpc3QgPSB0aGlzLmFnZW5jeUxpc3Q7XG4gICAgY29uc3QgcmVzb2x2ZSA9IHtcbiAgICAgIGluZm86IGZ1bmN0aW9uKCl7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgYWdlbmN5TGlzdFxuICAgICAgICB9O1xuICAgICAgfVxuICAgIH07XG5cbiAgICBjb25zdCBvcHRpb25zID0gey4uLmFkZENvbmZpZywgcmVzb2x2ZX07XG5cbiAgICB0aGlzLl9tb2RhbC5vcGVuKCBvcHRpb25zICk7XG4gIH1cblxuICBzZXQoaWQsIHN0YXRlKSB7XG4gICAgdGhpcy5fc2VydmljZS5zZXQoe1xuICAgICAgaWQsXG4gICAgICBzdGF0ZVxuICAgIH0pLnRoZW4oZGF0YSA9PiB7XG4gICAgICB0aGlzLl90b2FzdHIuc3VjY2Vzcygn5pON5L2c5oiQ5YqfJyk7XG4gICAgICB0aGlzLl9zdGF0ZS5yZWxvYWQoKTtcbiAgICB9KTtcbiAgfVxuXG4gIGRlbGV0ZShpdGVtKSB7XG4gICAgdGhpcy5zZXQoaXRlbS5pZCwgMyk7XG4gIH1cbiAgZGVsZXRlQ2FuY2VsKGl0ZW0pIHtcbiAgICB0aGlzLnNldChpdGVtLmlkLCAxKTtcbiAgfVxuXG5cbn1cblxuZXhwb3J0IGRlZmF1bHQgTGlzdENvbnRyb2xsZXI7XG4iLCJpbXBvcnQgTGlzdENvbnRyb2xsZXIgZnJvbSAnLi9jdHJsJztcblxuY29uc3QgTGlzdCA9IHtcbiAgdGVtcGxhdGVVcmw6ICdtb2R1bGVzL2ludmVzdG1lbnQvbGlzdC9pbmRleC5odG1sJyxcbiAgY29udHJvbGxlcjogTGlzdENvbnRyb2xsZXIsXG4gIGNvbnRyb2xsZXJBczogJ3ZtJ1xufTtcblxuZXhwb3J0IGRlZmF1bHQgTGlzdDtcbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIENvbnRyb2xsZXIge1xuICBjb25zdHJ1Y3Rvcigkc2NvcGUsICRzdGF0ZSwgJHZhbGlkYXRpb24sICR1aWJNb2RhbEluc3RhbmNlLCB0b2FzdHIsIEludmVzdG1lbnRTZXJ2aWNlLCBpbmZvKSB7XG4gICAgJ25nSW5qZWN0JztcblxuICAgIHRoaXMuX3Njb3BlID0gJHNjb3BlO1xuICAgIHRoaXMuX3N0YXRlID0gJHN0YXRlO1xuXG4gICAgdGhpcy5fdmFsaWRhdGlvblByb3ZpZGVyID0gJHZhbGlkYXRpb247XG5cbiAgICB0aGlzLl9tb2RhbEluc3RhbmNlID0gJHVpYk1vZGFsSW5zdGFuY2U7XG4gICAgdGhpcy5fdG9hc3RyID0gdG9hc3RyO1xuXG4gICAgdGhpcy5fc2VydmljZSA9IEludmVzdG1lbnRTZXJ2aWNlO1xuXG4gICAgdGhpcy5pbmZvID0gaW5mbztcblxuICAgIHRoaXMuaW5wdXRJbmZvID0ge1xuICAgICAgbmFtZTogJycsXG4gICAgICB2Y19uYW1lOiAnJ1xuICAgIH07XG5cbiAgICAvLyB0aGlzLmF1dG9Db21wbGV0ZU9wdGlvbnMgPSB7XG4gICAgLy8gICBtaW5pbXVtQ2hhcnM6IDEsXG4gICAgLy8gICBkYXRhOiBmdW5jdGlvbiAodGVybSkge1xuICAgIC8vICAgICB0ZXJtID0gdGVybS50b1VwcGVyQ2FzZSgpO1xuICAgIC8vICAgICB2YXIgbWF0Y2ggPSBfLmZpbHRlcihpbmZvLmFnZW5jeUxpc3QsIGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgIC8vICAgICAgICAgcmV0dXJuIHZhbHVlLnN0YXJ0c1dpdGgodGVybSk7XG4gICAgLy8gICAgIH0pO1xuICAgIC8vICAgICByZXR1cm4gbWF0Y2g7XG4gICAgLy8gICB9XG4gICAgLy8gfVxuXG4gIH1cblxuICBcblxuICBjYW5jZWwoKSB7XG4gICAgdGhpcy5fbW9kYWxJbnN0YW5jZS5jbG9zZSgpO1xuICB9XG5cbiAgc3VibWl0KGZvcm0pIHtcbiAgICAvL+mqjOivgeihqOWNlVxuICAgIHRoaXMuX3ZhbGlkYXRpb25Qcm92aWRlci52YWxpZGF0ZShmb3JtKS5zdWNjZXNzKCgpID0+IHtcbiAgICAgIHRoaXMuc2F2ZUZ1bmMoKTtcbiAgICB9KTtcbiAgfVxuXG4gIHNhdmVGdW5jKCkge1xuICAgIGNvbnN0IGRhdGEgPSB0aGlzLmlucHV0SW5mbztcbiAgICB0aGlzLl9zZXJ2aWNlLmFkZChkYXRhKS50aGVuKGRhdGEgPT4ge1xuICAgICAgdGhpcy5fdG9hc3RyLnN1Y2Nlc3MoJ+a3u+WKoOaIkOWKnycpO1xuICAgICAgdGhpcy5jYW5jZWwoKTtcbiAgICAgIHRoaXMuX3N0YXRlLnJlbG9hZCgpO1xuICAgIH0pXG4gIH1cbn1cbiIsImltcG9ydCBDb250cm9sbGVyIGZyb20gJy4vY3RybCc7XG5cbmNvbnN0IENvbmZpZ3VyYXRpb24gPSB7XG4gIHRlbXBsYXRlVXJsOiAnbW9kdWxlcy9pbnZlc3RtZW50L21vZGFscy9hZGQvdGVtcGxhdGUuaHRtbCcsXG4gIGNvbnRyb2xsZXI6IENvbnRyb2xsZXIsXG4gIGNvbnRyb2xsZXJBczogJ3ZtJ1xufTtcblxuZXhwb3J0IGRlZmF1bHQgQ29uZmlndXJhdGlvbjtcbiIsImltcG9ydCBhbmd1bGFyIGZyb20gJ2FuZ3VsYXInO1xuaW1wb3J0IGNvbmZpZyAgZnJvbSAnLi9jb25maWcnO1xuaW1wb3J0IHNlcnZpY2UgZnJvbSAnLi9zZXJ2aWNlJztcbmltcG9ydCBMaXN0ICBmcm9tICcuL2xpc3QvJztcblxuLy8gaW1wb3J0IGRlbW9TZXJ2aWNlICAgICAgZnJvbSAnLi9zZXJ2aWNlcy9kZW1vLnNlcnZpY2UnO1xuXG5cblxuXG5leHBvcnQgZGVmYXVsdCBhbmd1bGFyLm1vZHVsZSgnYXBwLm1vZHVsZXMuaW52ZXN0bWVudCcsIFtdKVxuLy8gLmZpbHRlcignZmlsdGVyVHlwZScsIGZpbHRlclR5cGUpXG4uc2VydmljZSgnSW52ZXN0bWVudFNlcnZpY2UnLCBzZXJ2aWNlKVxuXG4uY29tcG9uZW50KCdpbnZlc3RtZW50TGlzdCcsIExpc3QpXG4uY29uZmlnKGNvbmZpZyk7XG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBTZXJ2aWNlIHtcbiAgY29uc3RydWN0b3IoJGh0dHAsIGh0dHBIZWxwZXIsICRyb290U2NvcGUsICRzdGF0ZSwgQXBpTWFwKSB7XG4gICAgJ25nSW5qZWN0JztcblxuICAgIHRoaXMuX2h0dHAgPSAkaHR0cDtcbiAgICAvLyB0aGlzLiRxID0gJHE7XG4gICAgdGhpcy5faHR0cEhlbHBlciA9IGh0dHBIZWxwZXI7XG5cbiAgICB0aGlzLl9hcGkgPSBBcGlNYXAuaW52ZXN0bWVudDtcblxuICAgIHRoaXMuX3Jvb3RTY29wZSA9ICRyb290U2NvcGU7XG4gICAgdGhpcy5fc3RhdGUgPSAkc3RhdGU7XG4gIH1cblxuICAvLyBnZXQoaWQpIHtcbiAgICBcbiAgLy8gICB0aGlzLl9odHRwSGVscGVyLmJsb2NrVUkuc3RhcnQoKTtcblxuICAvLyAgIHJldHVybiB0aGlzLl9odHRwLmdldCh0aGlzLl9hcGkuZ2V0LnJlcGxhY2UoL1xce2lkXFx9LywgaWQpKS50aGVuKHRoaXMuX2h0dHBIZWxwZXIudmVyaWZ5LCAgdGhpcy5faHR0cEhlbHBlci5lcnJvcik7XG4gIC8vIH1cblxuICBnZXRMaXN0KHBhcmFtcykge1xuICAgIFxuICAgIHRoaXMuX2h0dHBIZWxwZXIuYmxvY2tVSS5zdGFydCgpO1xuXG4gICAgcmV0dXJuIHRoaXMuX2h0dHAuZ2V0KHRoaXMuX2FwaS5nZXRMaXN0LCB7cGFyYW1zOiBwYXJhbXN9KS50aGVuKHRoaXMuX2h0dHBIZWxwZXIudmVyaWZ5LCB0aGlzLl9odHRwSGVscGVyLmVycm9yKTtcbiAgfVxuXG4gIHNldChkYXRhKSB7XG4gICAgXG4gICAgdGhpcy5faHR0cEhlbHBlci5ibG9ja1VJLnN0YXJ0KCk7XG5cbiAgICByZXR1cm4gdGhpcy5faHR0cC5wb3N0KHRoaXMuX2FwaS5zZXQsIGRhdGEpLnRoZW4odGhpcy5faHR0cEhlbHBlci52ZXJpZnksIHRoaXMuX2h0dHBIZWxwZXIuZXJyb3IpO1xuICB9XG5cbiAgYWRkKGRhdGEpIHtcbiAgICB0aGlzLl9odHRwSGVscGVyLmJsb2NrVUkuc3RhcnQoKTtcblxuICAgIHJldHVybiB0aGlzLl9odHRwLnBvc3QodGhpcy5fYXBpLmFkZCwgZGF0YSkudGhlbih0aGlzLl9odHRwSGVscGVyLnZlcmlmeSwgdGhpcy5faHR0cEhlbHBlci5lcnJvcik7XG4gIH1cbn0iLCJmdW5jdGlvbiBDb25maWcoJHN0YXRlUHJvdmlkZXIpIHtcbiAgJ25nSW5qZWN0JztcblxuICAkc3RhdGVQcm92aWRlclxuICAgIC5zdGF0ZSgnbG9hbicsIHtcbiAgICAgICAgdXJsOiAnL2xvYW4nLFxuICAgICAgICB0ZW1wbGF0ZSA6ICc8dWktdmlldz48L3VpLXZpZXc+JyxcbiAgICAgICAgdGl0bGU6ICfotLfmrL7lhrPnrZYnLFxuICAgICAgICBzaWRlYmFyTWV0YToge1xuICAgICAgICAgIGljb246ICdpY29uLXNpZGViYXJfbWVtYmVyc19pYycsXG4gICAgICAgICAgb3JkZXI6IDQ1MCxcbiAgICAgICAgfVxuICAgIH0pXG4gICAgLnN0YXRlKCdsb2FuLnNldHRpbmcnLCB7XG4gICAgICAgIHVybDogJy9zZXR0aW5nJyxcbiAgICAgICAgdGVtcGxhdGU6ICc8bG9hbi1zZXR0aW5nPjwvbG9hbi1zZXR0aW5nPicsXG4gICAgICAgIHRpdGxlOiAn6LS35qy+5Yaz562W5p2h5Lu26K6+572uJyxcbiAgICAgICAgc2lkZWJhck1ldGE6IHtcbiAgICAgICAgICBvcmRlcjogMTBcbiAgICAgICAgfVxuICAgIH0pXG4gICAgLnN0YXRlKCdsb2FuLmxpc3QnLCB7XG4gICAgICAgIHVybDogJy9saXN0JyxcbiAgICAgICAgdGVtcGxhdGU6ICc8bG9hbi1saXN0PjwvbG9hbi1saXN0PicsXG4gICAgICAgIHRpdGxlOiAn5bey6K+E5Lu35LyB5Lia5YiX6KGoJyxcbiAgICAgICAgc2lkZWJhck1ldGE6IHtcbiAgICAgICAgICBvcmRlcjogMjBcbiAgICAgICAgfVxuICAgIH0pXG4gICAgLnN0YXRlKCdsb2FuLmRlY2lzaW9uJywge1xuICAgICAgICB1cmw6ICcvZGVjaXNpb24/aWQnLFxuICAgICAgICB0ZW1wbGF0ZTogJzxsb2FuLWRlY2lzaW9uPjwvbG9hbi1kZWNpc2lvbj4nLFxuICAgICAgICB0aXRsZTogJ+i0t+asvui+heWKqeWGs+etluS/oeaBr+S/ruatoydcbiAgICB9KVxuICAgIDtcblxufVxuXG5leHBvcnQgZGVmYXVsdCBDb25maWc7XG4iLCJcblxuY2xhc3MgQ29udHJvbGxlciB7XG5cbiAgY29uc3RydWN0b3IoJGluamVjdG9yLCAkc3RhdGUsICRsb2NhdGlvbiwgJHZhbGlkYXRpb24sICRzdGF0ZVBhcmFtcywgdG9hc3RyLCAkdWliTW9kYWwsIExvYW5TZXJ2aWNlKSB7XG4gICAgJ25nSW5qZWN0JztcblxuICAgIHRoaXMuX3N0YXRlID0gJHN0YXRlO1xuICAgIHRoaXMuX2xvY2F0aW9uID0gJGxvY2F0aW9uO1xuICAgIHRoaXMuX3N0YXRlUGFyYW1zID0gJHN0YXRlUGFyYW1zO1xuICAgIHRoaXMuX21vZGFsID0gJHVpYk1vZGFsO1xuXG4gICAgdGhpcy5fdmFsaWRhdGlvblByb3ZpZGVyID0gJHZhbGlkYXRpb247XG4gICAgdGhpcy5pZCA9IHRoaXMuX3N0YXRlUGFyYW1zLmlkO1xuXG4gICAgdGhpcy5fdG9hc3RyID0gdG9hc3RyO1xuXG4gICAgdGhpcy5fc2VydmljZSA9IExvYW5TZXJ2aWNlO1xuXG4gICAgdGhpcy5maWx0ZXJzID0ge307XG4gICAgdGhpcy5sb2FuTGlzdCA9IFtdO1xuXG4gICAgdGhpcy5faW5pdCgpO1xuXG4gICAgdGhpcy50eXBlTGlzdCA9IHtcbiAgICAgICdpbnRlZ2VyJzogJ+aVsOWAvCcsXG4gICAgICAnc3RyaW5nJzogJ+aWh+acrCdcbiAgICB9O1xuXG5cbiAgfVxuXG4gIF9pbml0KCkge1xuICAgIHZhciBkYXRhID0ge1xuICAgICAgaWQ6IDFcbiAgICB9XG4gICAgdGhpcy5fZ2V0VGVtcGxhdGUoZGF0YSk7XG4gIH1cblxuICByZUNvdW50KCkge1xuICAgIHZhciBkYXRhID0ge1xuICAgICAgaWQ6IDEsXG4gICAgICBkYXRhOiBhbmd1bGFyLnRvSnNvbih0aGlzLmxvYW5MaXN0KVxuICAgIH07XG4gICAgdGhpcy5fZ2V0VGVtcGxhdGUoZGF0YSwn6YeN5paw6K6h566X5oiQ5YqfJyk7XG4gIH1cblxuICBnZXRUb3RhbCgpIHtcbiAgICB2YXIgdG90YWwgPSAwO1xuICAgIHRoaXMubG9hbkxpc3QuZm9yRWFjaChmdW5jdGlvbihsb2FuKXtcbiAgICAgIGxvYW4udmFsdWUgPSBsb2FuLnZhbHVlICsgJyc7XG4gICAgICB0b3RhbCArPSBwYXJzZUludChsb2FuLnBvaW50KTtcbiAgICB9KTtcbiAgICByZXR1cm4gdG90YWw7XG4gIH1cblxuICBfZ2V0VGVtcGxhdGUoZGF0YSwgbXNnPScnKSB7XG4gICAgdGhpcy5fc2VydmljZS5nZXQoZGF0YSkudGhlbihkYXRhID0+IHtcbiAgICAgIGlmKGRhdGEgJiYgIWpRdWVyeS5pc0VtcHR5T2JqZWN0KGRhdGEpKSB7XG4gICAgICAgIHRoaXMubG9hbkxpc3QgPSBkYXRhO1xuICAgICAgICBpZiAobXNnLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICB0aGlzLl90b2FzdHIuc3VjY2Vzcyhtc2cpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLmluaXRDb2xsZWN0SW5mbygpO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgc3VibWl0KGZvcm0pIHtcbiAgICAvL+mqjOivgeihqOWNlVxuICAgIHRoaXMuX3ZhbGlkYXRpb25Qcm92aWRlci52YWxpZGF0ZShmb3JtKS5zdWNjZXNzKCgpID0+IHtcbiAgICAgIHRoaXMuc2F2ZUZ1bmMoKTtcbiAgICB9KTtcblxuICB9XG5cbiAgc2F2ZUZ1bmMoKSB7XG4gICAgdmFyIGRhdGEgPSB7XG4gICAgICBpZDogMSxcbiAgICAgIGRhdGE6IGFuZ3VsYXIudG9Kc29uKHRoaXMubG9hbkxpc3QpXG4gICAgfTtcbiAgICB0aGlzLl9zZXJ2aWNlLnNldChkYXRhKS50aGVuKGRhdGEgPT4ge1xuICAgICAgaWYoZGF0YSAmJiAhalF1ZXJ5LmlzRW1wdHlPYmplY3QoZGF0YSkpIHtcbiAgICAgICAgdGhpcy5sb2FuTGlzdCA9IGRhdGE7XG4gICAgICAgIHRoaXMuX3RvYXN0ci5zdWNjZXNzKCfkv53lrZjmiJDlip8nKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuaW5pdENvbGxlY3RJbmZvKCk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxufVxuXG5leHBvcnQgZGVmYXVsdCBDb250cm9sbGVyO1xuIiwiaW1wb3J0IENvbnRyb2xsZXIgZnJvbSAnLi9jdHJsJztcblxuY29uc3QgY29tcG9uZW50ID0ge1xuICB0ZW1wbGF0ZVVybDogJ21vZHVsZXMvbG9hbi9kZWNpc2lvbi9pbmRleC5odG1sJyxcbiAgY29udHJvbGxlcjogQ29udHJvbGxlcixcbiAgY29udHJvbGxlckFzOiAndm0nXG59O1xuXG5leHBvcnQgZGVmYXVsdCBjb21wb25lbnQ7XG4iLCJpbXBvcnQgUGFnaW5hdGlvbiBmcm9tICcuLi8uLi8uLi9jb3JlL2NvbXBvbmVudHMvbWNQYWdpbmF0aW9uL21jLXBhZ2luYXRpb24uY2xhc3MnO1xuXG5jbGFzcyBMaXN0Q29udHJvbGxlciBleHRlbmRzIFBhZ2luYXRpb24ge1xuXG4gIGNvbnN0cnVjdG9yKCRpbmplY3RvciwgJHN0YXRlLCAkbG9jYXRpb24sICRzdGF0ZVBhcmFtcywgc3dlZXQsIHRvYXN0ciwgJHVpYk1vZGFsLCBMb2FuU2VydmljZSkge1xuICAgICduZ0luamVjdCc7XG5cbiAgICBzdXBlcigkaW5qZWN0b3IpO1xuXG4gICAgdGhpcy5fc3RhdGUgPSAkc3RhdGU7XG4gICAgdGhpcy5fbG9jYXRpb24gPSAkbG9jYXRpb247XG4gICAgdGhpcy5fc3RhdGVQYXJhbXMgPSAkc3RhdGVQYXJhbXM7XG4gICAgdGhpcy5fbW9kYWwgPSAkdWliTW9kYWw7XG5cbiAgICB0aGlzLl9zd2VldCA9IHN3ZWV0O1xuICAgIHRoaXMuX3RvYXN0ciA9IHRvYXN0cjtcblxuICAgIHRoaXMuX3NlcnZpY2UgPSBMb2FuU2VydmljZTtcblxuICAgIHRoaXMucm9sZU1haW5TdGF0dXMgPSBbXG4gICAgICB7XG4gICAgICAgIHZhbHVlOiAnJyxcbiAgICAgICAgbGFiZWw6ICflhajpg6gnXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICB2YWx1ZTogMSxcbiAgICAgICAgbGFiZWw6ICfnprvogYwnXG4gICAgICB9LFxuICAgIF07XG5cbiAgICB0aGlzLmVudGVycHJpc2VTdGF0ZUxpc3QgPSBbXG4gICAgICB7XG4gICAgICAgIHZhbHVlOiAxLFxuICAgICAgICBsYWJlbDogJ+ato+W4uCdcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIHZhbHVlOiAyLFxuICAgICAgICBsYWJlbDogJ+W3suWGu+e7kydcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIHZhbHVlOiAwLFxuICAgICAgICBsYWJlbDogJ+acqumAmui/h+etm+mAiSdcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIHZhbHVlOiAzLFxuICAgICAgICBsYWJlbDogJ+W3suWIoOmZpCdcbiAgICAgIH0sXG4gICAgXTtcblxuICAgIHRoaXMuZmlsdGVycyA9IHt9O1xuXG4gICAgdGhpcy5vbmVBdEFUaW1lID0gdHJ1ZTtcblxuICAgIHRoaXMuX2luaXQoKTtcblxuICB9XG5cbiAgX2luaXQoKSB7XG5cbiAgICB0aGlzLl9pbml0RmlsdGVycygpO1xuICAgIHRoaXMuX2dldExpc3QoKTtcblxuICB9XG5cbiAgX2luaXRGaWx0ZXJzKCkge1xuICAgIC8vIGNvbnNvbGUubG9nKHRoaXMuX3N0YXRlUGFyYW1zKTtcbiAgICBjb25zdCBzdGF0ZVBhcmFtcyA9IHRoaXMuX3N0YXRlUGFyYW1zO1xuICAgIC8vIHRoaXMucGFnaW5hdGlvbi5wYWdlID0gK3N0YXRlUGFyYW1zLnBhZ2U7XG4gICAgdGhpcy5maWx0ZXJzLnJvbGVfYV9kaXNhYmxlID0gc3RhdGVQYXJhbXMucm9sZV9hX2Rpc2FibGUgfHwgJyc7XG4gICAgdGhpcy5maWx0ZXJzLnN0YXRlID0gc3RhdGVQYXJhbXMuc3RhdGU/ICtzdGF0ZVBhcmFtcy5zdGF0ZSA6IHZvaWQoMCk7XG5cbiAgICB0aGlzLmZpbHRlcnMubmFtZSA9IHN0YXRlUGFyYW1zLm5hbWUgfHwgdm9pZCgwKTtcblxuICB9XG4gIFxuICBfZ2V0TGlzdCgpIHtcblxuICAgIGxldCBwYXJhbXMgPSB0aGlzLl9maWx0ZXJFbXB0eVZhbHVlKCk7XG4gICAgLy8gcGFyYW1zLnBhZ2VTaXplID0gdGhpcy5wYWdpbmF0aW9uLnBhZ2VTaXplO1xuICAgIHBhcmFtcy5wYWdlID0gdGhpcy5wYWdpbmF0aW9uLnBhZ2U7XG4gICAgcGFyYW1zLm9ubHlfbG9hbl9yZWFkeSA9IDE7XG5cbiAgICB0aGlzLl9zZXJ2aWNlLmdldExpc3QocGFyYW1zKS50aGVuKGRhdGEgPT4ge1xuICAgICAgY29uc29sZS5sb2coZGF0YSk7XG4gICAgICB0aGlzLmxpc3QgPSBkYXRhLmVudGVycHJpc2VzO1xuICAgICAgdGhpcy5wYWdpbmF0aW9uLmNvdW50ID0gZGF0YS5wYWdlX2NvdW50ICogdGhpcy5wYWdpbmF0aW9uLnBhZ2VTaXplO1xuICAgIH0pO1xuXG4gIH1cblxuICByZVNlYXJjaCgpIHtcbiAgICBsZXQgcGFnZSA9IDFcbiAgICB0aGlzLl9sb2NhdGlvbi5zZWFyY2goey4uLnRoaXMuX2ZpbHRlckVtcHR5VmFsdWUoKSwgcGFnZX0pO1xuICB9XG5cbiAgc3dpdGNoKGtleSwgdmFsdWUpIHtcblxuICAgIGlmKCFrZXkpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICB0aGlzLmZpbHRlcnNba2V5XSA9IHZhbHVlO1xuXG4gICAgdGhpcy5yZVNlYXJjaCgpO1xuICB9XG5cblxufVxuXG5leHBvcnQgZGVmYXVsdCBMaXN0Q29udHJvbGxlcjtcbiIsImltcG9ydCBMaXN0Q29udHJvbGxlciBmcm9tICcuL2N0cmwnO1xuXG5jb25zdCBMaXN0ID0ge1xuICB0ZW1wbGF0ZVVybDogJ21vZHVsZXMvbG9hbi9saXN0L2luZGV4Lmh0bWwnLFxuICBjb250cm9sbGVyOiBMaXN0Q29udHJvbGxlcixcbiAgY29udHJvbGxlckFzOiAndm0nXG59O1xuXG5leHBvcnQgZGVmYXVsdCBMaXN0O1xuIiwiaW1wb3J0IGFuZ3VsYXIgZnJvbSAnYW5ndWxhcic7XG5pbXBvcnQgYm9vdHN0cmFwIGZyb20gJ2Jvb3RzdHJhcCc7XG5pbXBvcnQgY29uZmlnICBmcm9tICcuL2NvbmZpZyc7XG5pbXBvcnQgU2V0dGluZyAgZnJvbSAnLi9zZXR0aW5nLyc7XG5pbXBvcnQgRGVjaXNpb24gZnJvbSAnLi9kZWNpc2lvbic7XG5pbXBvcnQgTGlzdCBmcm9tICcuL2xpc3QnO1xuaW1wb3J0IHNlcnZpY2UgZnJvbSAnLi9zZXJ2aWNlJztcblxuZXhwb3J0IGRlZmF1bHQgYW5ndWxhci5tb2R1bGUoJ2FwcC5tb2R1bGVzLmxvYW4nLCBbXSlcbi5zZXJ2aWNlKCdMb2FuU2VydmljZScsIHNlcnZpY2UpXG4uY29tcG9uZW50KCdsb2FuU2V0dGluZycsIFNldHRpbmcpXG4uY29tcG9uZW50KCdsb2FuRGVjaXNpb24nLCBEZWNpc2lvbilcbi5jb21wb25lbnQoJ2xvYW5MaXN0JywgTGlzdClcbi5jb25maWcoY29uZmlnKTtcbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIFNlcnZpY2Uge1xuICBjb25zdHJ1Y3RvcigkaHR0cCwgaHR0cEhlbHBlciwgJHJvb3RTY29wZSwgJHN0YXRlLCBBcGlNYXApIHtcbiAgICAnbmdJbmplY3QnO1xuXG4gICAgdGhpcy5faHR0cCA9ICRodHRwO1xuICAgIC8vIHRoaXMuJHEgPSAkcTtcbiAgICB0aGlzLl9odHRwSGVscGVyID0gaHR0cEhlbHBlcjtcblxuICAgIHRoaXMuX2FwaSA9IEFwaU1hcC5sb2FuO1xuICAgIHRoaXMuX2VhcGkgID0gQXBpTWFwLmVudGVycHJpc2U7XG5cbiAgICB0aGlzLl9yb290U2NvcGUgPSAkcm9vdFNjb3BlO1xuICAgIHRoaXMuX3N0YXRlID0gJHN0YXRlO1xuICB9XG5cbiAgZ2V0KHBhcmFtcykge1xuICAgIFxuICAgIHRoaXMuX2h0dHBIZWxwZXIuYmxvY2tVSS5zdGFydCgpO1xuXG4gICAgcmV0dXJuIHRoaXMuX2h0dHAucG9zdCh0aGlzLl9hcGkuZ2V0LCBwYXJhbXMpLnRoZW4odGhpcy5faHR0cEhlbHBlci52ZXJpZnksICB0aGlzLl9odHRwSGVscGVyLmVycm9yKTtcbiAgfVxuXG4gIHNldChwYXJhbXMpIHtcbiAgICBcbiAgICB0aGlzLl9odHRwSGVscGVyLmJsb2NrVUkuc3RhcnQoKTtcblxuICAgIHJldHVybiB0aGlzLl9odHRwLnBvc3QodGhpcy5fYXBpLnNldCwgcGFyYW1zKS50aGVuKHRoaXMuX2h0dHBIZWxwZXIudmVyaWZ5LCAgdGhpcy5faHR0cEhlbHBlci5lcnJvcik7XG4gIH1cblxuICBnZXRMaXN0KHBhcmFtcykge1xuICAgIFxuICAgIHRoaXMuX2h0dHBIZWxwZXIuYmxvY2tVSS5zdGFydCgpO1xuXG4gICAgcmV0dXJuIHRoaXMuX2h0dHAucG9zdCh0aGlzLl9lYXBpLmdldExpc3QsIHBhcmFtcykudGhlbih0aGlzLl9odHRwSGVscGVyLnZlcmlmeSwgIHRoaXMuX2h0dHBIZWxwZXIuZXJyb3IpO1xuICB9XG59IiwiXG5cbmNsYXNzIENvbnRyb2xsZXIge1xuXG4gIGNvbnN0cnVjdG9yKCRpbmplY3RvciwgJHN0YXRlLCAkbG9jYXRpb24sICR2YWxpZGF0aW9uLCAkc3RhdGVQYXJhbXMsIHRvYXN0ciwgJHVpYk1vZGFsLCBDb25maWdTZXJ2aWNlKSB7XG4gICAgJ25nSW5qZWN0JztcblxuICAgIHRoaXMuX3N0YXRlID0gJHN0YXRlO1xuICAgIHRoaXMuX2xvY2F0aW9uID0gJGxvY2F0aW9uO1xuICAgIHRoaXMuX3N0YXRlUGFyYW1zID0gJHN0YXRlUGFyYW1zO1xuICAgIHRoaXMuX21vZGFsID0gJHVpYk1vZGFsO1xuXG4gICAgdGhpcy5fdmFsaWRhdGlvblByb3ZpZGVyID0gJHZhbGlkYXRpb247XG5cbiAgICB0aGlzLl90b2FzdHIgPSB0b2FzdHI7XG5cbiAgICB0aGlzLl9zZXJ2aWNlID0gQ29uZmlnU2VydmljZTtcblxuICAgIHRoaXMuZmlsdGVycyA9IHt9O1xuXG5cbiAgICB0aGlzLmNvbmRpdGlvbkxpc3QgPSB7XG4gICAgICAnc3RyaW5nJzoge1xuICAgICAgICAnPSc6ICflrozlhajljLnphY0nLFxuICAgICAgICAnbGlrZSc6ICfljIXlkKsnLFxuICAgICAgICAnbm90X2xpa2UnOiAn5LiN5YyF5ZCrJ1xuICAgICAgfSxcbiAgICAgICdpbnRlZ2VyJzoge1xuICAgICAgICAnPCc6ICc8JyxcbiAgICAgICAgJzw9JzogJzw9JyxcbiAgICAgICAgJz4nOiAnPicsXG4gICAgICAgICc+PSc6ICc+PScsXG4gICAgICAgICc9JzogJz0nXG4gICAgICB9XG4gICAgfTtcblxuICAgIHRoaXMudHlwZUxpc3QgPSB7XG4gICAgICAnaW50ZWdlcic6ICfmlbDlgLwnLFxuICAgICAgJ3N0cmluZyc6ICfmlofmnKwnXG4gICAgfTtcblxuICAgIHRoaXMuX2luaXQoKTtcblxuICB9XG5cbiAgX2luaXQoKSB7XG4gICAgdGhpcy5fZ2V0VGVtcGxhdGUoKTtcblxuICB9XG5cbiAgX2dldFRlbXBsYXRlKCkge1xuICAgIHRoaXMuX3NlcnZpY2UuZ2V0KCdsb2FuLmRlY2lzaW9uX2NvbmRpdGlvbicpLnRoZW4oZGF0YSA9PiB7XG4gICAgICBpZihkYXRhICYmICFqUXVlcnkuaXNFbXB0eU9iamVjdChkYXRhKSkge1xuICAgICAgICB0aGlzLmxvYW5MaXN0ID0gSlNPTi5wYXJzZShkYXRhKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuaW5pdENvbGxlY3RJbmZvKCk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICBpbml0Q29sbGVjdEluZm8oKSB7XG4gICAgdGhpcy5sb2FuTGlzdCA9IFtdO1xuXG4gICAgdGhpcy5hZGRDb25kaXRpb24oKTtcbiAgfVxuXG4gIGFkZENvbmRpdGlvbigpIHtcbiAgICBsZXQgbG9hbk9iaiA9IHtcbiAgICAgIHRpdGxlOiAnJyxcbiAgICAgIHBvaW50OiAnMCcsXG4gICAgICBjb25kaXRpb25fbGlzdDogW11cbiAgICB9XG4gICAgdGhpcy5sb2FuTGlzdC5wdXNoKGxvYW5PYmopO1xuICAgIHRoaXMuYWRkUHJvamVjdChsb2FuT2JqKTtcbiAgfVxuXG4gIGFkZFByb2plY3QobG9hbk9iaikge1xuICAgIGxldCBwcm9qZWN0T2JqID0ge1xuICAgICAgdGl0bGU6ICcnLFxuICAgICAgb3B0aW9uX3R5cGU6ICdpbnRlZ2VyJyxcbiAgICAgIG9wdGlvbnM6IFtdXG4gICAgfTtcbiAgICAvL3RoaXMubG9hbkxpc3QucHVzaChwcm9qZWN0T2JqKTtcbiAgICBsb2FuT2JqLmNvbmRpdGlvbl9saXN0LnB1c2gocHJvamVjdE9iaik7XG4gICAgdGhpcy5hZGRJdGVtKHByb2plY3RPYmopO1xuICB9XG5cbiAgZGVsZXRlUHJvamVjdChpbmRleCkge1xuICAgIHRoaXMubG9hbkxpc3Quc3BsaWNlKGluZGV4LCAxKTtcbiAgfVxuXG4gIGFkZEl0ZW0ocHJvamVjdCkge1xuICAgIGxldCBjb250ZW50T2JqID0ge1xuICAgICAgY29uZGl0aW9uOiAocHJvamVjdC5vcHRpb25fdHlwZSA9PSAnc3RyaW5nJyk/ICc9JyA6ICc8JyxcbiAgICAgIHZhbHVlOiAnJyxcbiAgICAgIHBvaW50OiAnJ1xuICAgIH07XG5cbiAgICBwcm9qZWN0Lm9wdGlvbnMucHVzaChjb250ZW50T2JqKTtcbiAgfVxuXG4gIGRlbGV0ZUl0ZW0ocHJvaiwgaW5kZXgpIHtcbiAgICBwcm9qLm9wdGlvbnMuc3BsaWNlKGluZGV4LCAxKTtcbiAgfVxuXG4gIGRlbGV0ZURhdGEoaXRlbSwgaW5kZXgpIHtcbiAgICBpdGVtLmRhdGFTb3VyY2Uuc3BsaWNlKGluZGV4LCAxKTtcbiAgfVxuXG4gIHR5cGVDaGFuZ2UocHJvamVjdCkge1xuICAgIHByb2plY3Qub3B0aW9ucy5mb3JFYWNoKGZ1bmN0aW9uKG9wdGlvbil7XG4gICAgICBpZiAocHJvamVjdC5vcHRpb25fdHlwZSA9PSAnaW50ZWdlcicpIHtcbiAgICAgICAgb3B0aW9uLmNvbmRpdGlvbiA9ICc8JztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG9wdGlvbi5jb25kaXRpb24gPSAnPSc7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICBzdWJtaXQoZm9ybSkge1xuICAgIC8v6aqM6K+B6KGo5Y2VXG4gICAgdmFyIHRoYXQgPSB0aGlzO1xuICAgIHZhciBzdG9wID0gZmFsc2U7XG4gICAgdGhpcy5fdmFsaWRhdGlvblByb3ZpZGVyLnZhbGlkYXRlKGZvcm0pLnN1Y2Nlc3MoKCkgPT4ge1xuICAgICAgLy/kuI3og73otoXov4cxMDDliIbmlbBcbiAgICAgIHZhciBwb2ludCA9IDA7XG4gICAgICB0aGlzLmxvYW5MaXN0LmZvckVhY2goZnVuY3Rpb24obG9hbil7XG4gICAgICAgIHZhciBsb2FuUG9pbnQgPSAwO1xuICAgICAgICBsb2FuLmNvbmRpdGlvbl9saXN0LmZvckVhY2goZnVuY3Rpb24oY29uZGl0aW9uKXtcbiAgICAgICAgICAgIHZhciBtYXhQb2ludCA9IDBcbiAgICAgICAgICAgIGNvbmRpdGlvbi5vcHRpb25zLmZvckVhY2goZnVuY3Rpb24ob3B0aW9uKXtcbiAgICAgICAgICAgICAgaWYgKG9wdGlvbi5wb2ludCA+IG1heFBvaW50KSB7XG4gICAgICAgICAgICAgICAgbWF4UG9pbnQgPSBwYXJzZUludChvcHRpb24ucG9pbnQpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgbG9hblBvaW50ICs9IHBhcnNlSW50KG1heFBvaW50KTtcbiAgICAgICAgfSk7XG4gICAgICAgIGlmIChsb2FuUG9pbnQgPiBwYXJzZUludChsb2FuLnBvaW50KSkge1xuICAgICAgICAgIHRoYXQuX3RvYXN0ci5lcnJvcihsb2FuLnRpdGxlKyfliIbnsbvnmoTmgLvliIbotoXov4fpooTlrprliIbnsbvmgLvliIYnKTtcbiAgICAgICAgICBzdG9wID0gdHJ1ZTtcbiAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgcG9pbnQgKz0gcGFyc2VJbnQobG9hbi5wb2ludCk7XG4gICAgICB9KTtcbiAgICAgIGlmIChzdG9wKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGlmIChwb2ludCA+IDEwMCkge1xuICAgICAgICB0aGlzLl90b2FzdHIuZXJyb3IoJ+WIhuaVsOS4jeiDvei2hei/hzEwMCcpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICB0aGlzLnNhdmVGdW5jKCk7XG4gICAgfSk7XG5cbiAgfVxuXG4gIHNhdmVGdW5jKCkge1xuICAgIC8vY29uc29sZS5sb2coJ3N1Ym1pdCcpXG5cbiAgICAvL2NvbnNvbGUubG9nKHRoaXMubG9hbkxpc3QsIEpTT04uc3RyaW5naWZ5KHRoaXMubG9hbkxpc3QpKTtcblxuICAgIHRoaXMuX3NlcnZpY2Uuc2V0KHtcbiAgICAgIGtleTogJ2xvYW4uZGVjaXNpb25fY29uZGl0aW9uJyxcbiAgICAgIHZhbHVlOiBhbmd1bGFyLnRvSnNvbih0aGlzLmxvYW5MaXN0KVxuICAgIH0pLnRoZW4oZGF0YSA9PiB7XG4gICAgICB0aGlzLl90b2FzdHIuc3VjY2Vzcygn5L+d5a2Y5oiQ5YqfJyk7XG4gICAgfSk7XG4gIH1cblxufVxuXG5leHBvcnQgZGVmYXVsdCBDb250cm9sbGVyO1xuIiwiaW1wb3J0IENvbnRyb2xsZXIgZnJvbSAnLi9jdHJsJztcblxuY29uc3QgY29tcG9uZW50ID0ge1xuICB0ZW1wbGF0ZVVybDogJ21vZHVsZXMvbG9hbi9zZXR0aW5nL2luZGV4Lmh0bWwnLFxuICBjb250cm9sbGVyOiBDb250cm9sbGVyLFxuICBjb250cm9sbGVyQXM6ICd2bSdcbn07XG5cbmV4cG9ydCBkZWZhdWx0IGNvbXBvbmVudDtcbiIsImZ1bmN0aW9uIENvbmZpZygkc3RhdGVQcm92aWRlcikge1xuICAnbmdJbmplY3QnO1xuXG4gICRzdGF0ZVByb3ZpZGVyXG4gICAgLnN0YXRlKCdsb2cnLCB7XG4gICAgICAgIHVybDogJy9sb2cnLFxuICAgICAgICAvL2Fic3RyYWN0OiB0cnVlLFxuICAgICAgICB0ZW1wbGF0ZSA6ICc8dWktdmlldz48bG9nLWxpc3Q+PC9sb2ctbGlzdD48L3VpLXZpZXc+JyxcbiAgICAgICAgdGl0bGU6ICfml6Xlv5fnrqHnkIYnLFxuICAgICAgICBzaWRlYmFyTWV0YToge1xuICAgICAgICAgIGljb246ICdpY29uLXNpZGViYXJfbWVtYmVyc19pYycsXG4gICAgICAgICAgb3JkZXI6IDIwMDAsXG4gICAgICAgIH1cbiAgICB9KVxuICAgIC8vIC5zdGF0ZSgnbG9nLmxpc3QnLCB7XG4gICAgLy8gICAgIHVybDogJycsXG4gICAgLy8gICAgIHRlbXBsYXRlOiAnJyxcbiAgICAvLyAgICAgdGl0bGU6ICfml6Xlv5fliJfooagnXG4gICAgLy8gfSlcbiAgICA7XG5cbn1cblxuZXhwb3J0IGRlZmF1bHQgQ29uZmlnO1xuIiwiaW1wb3J0IFBhZ2luYXRpb24gZnJvbSAnLi4vLi4vLi4vY29yZS9jb21wb25lbnRzL21jUGFnaW5hdGlvbi9tYy1wYWdpbmF0aW9uLmNsYXNzJztcblxuY2xhc3MgTGlzdENvbnRyb2xsZXIgZXh0ZW5kcyBQYWdpbmF0aW9uIHtcblxuICBjb25zdHJ1Y3RvcigkaW5qZWN0b3IsICRzdGF0ZSwgJGxvY2F0aW9uLCAkc3RhdGVQYXJhbXMsIHRvYXN0ciwgJHVpYk1vZGFsLCBMb2dTZXJ2aWNlKSB7XG4gICAgJ25nSW5qZWN0JztcblxuICAgIHN1cGVyKCRpbmplY3Rvcik7XG5cbiAgICB0aGlzLl9zdGF0ZSA9ICRzdGF0ZTtcbiAgICB0aGlzLl9sb2NhdGlvbiA9ICRsb2NhdGlvbjtcbiAgICB0aGlzLl9zdGF0ZVBhcmFtcyA9ICRzdGF0ZVBhcmFtcztcbiAgICB0aGlzLl9tb2RhbCA9ICR1aWJNb2RhbDtcblxuICAgIHRoaXMuX3RvYXN0ciA9IHRvYXN0cjtcblxuICAgIHRoaXMuX3NlcnZpY2UgPSBMb2dTZXJ2aWNlO1xuXG4gICAgdGhpcy5maWx0ZXJzID0ge307XG5cbiAgICB0aGlzLnN0YXJ0X2RhdGUgPSBtb21lbnQoKS5hZGQoLTEsICdkYXlzJyk7XG4gICAgdGhpcy5maWx0ZXJzLnRpbWVfZnJvbSA9IHRoaXMuc3RhcnRfZGF0ZS51bml4KCk7XG4gICAgdGhpcy5lbmRfZGF0ZSA9IG1vbWVudCgpO1xuICAgIHRoaXMuZmlsdGVycy50aW1lX3RvID0gdGhpcy5lbmRfZGF0ZS51bml4KCk7XG5cbiAgICB0aGlzLnN0YXJ0VGltZU1heExpbWl0ID0gbW9tZW50KCk7XG4gICAgdGhpcy5lbmRUaW1lTWF4TGltaXQgPSBtb21lbnQoKTtcblxuICAgIHRoaXMuX2luaXQoKTtcblxuICB9XG5cbiAgX2luaXQoKSB7XG4gICAgdGhpcy5faW5pdEZpbHRlcnMoKTtcbiAgICB0aGlzLl9nZXRMaXN0KCk7XG4gIH1cblxuICBfaW5pdEZpbHRlcnMoKSB7XG5cbiAgICBjb25zdCBzdGF0ZVBhcmFtcyA9IHRoaXMuX3N0YXRlUGFyYW1zO1xuICAgIC8vdGhpcy5maWx0ZXJzLmtleXdvcmQgPSBzdGF0ZVBhcmFtcy5rZXl3b3JkIHx8IHZvaWQoMCk7XG5cbiAgfVxuXG4gIFxuICBfZ2V0TGlzdCgpIHtcbiAgICBsZXQgcGFyYW1zID0gdGhpcy5fZmlsdGVyRW1wdHlWYWx1ZSgpO1xuICAgIHBhcmFtcy5wYWdlID0gdGhpcy5wYWdpbmF0aW9uLnBhZ2U7XG5cbiAgICB0aGlzLl9zZXJ2aWNlLmxpc3QocGFyYW1zKS50aGVuKGRhdGEgPT4ge1xuICAgICAgdGhpcy5wYWdpbmF0aW9uLmNvdW50ID0gZGF0YS5jb3VudDtcbiAgICAgIHRoaXMucGFnaW5hdGlvbi5wYWdlU2l6ZSA9IGRhdGEucGFnZV9saW1pdDtcbiAgICAgIHRoaXMubGlzdCA9IGRhdGEubG9ncztcbiAgICB9KTtcbiAgfVxuXG4gIHBhZ2VDaGFuZ2VkKCkge1xuICAgIHRoaXMuX2dldExpc3QoKTtcbiAgfVxuXG4gIHJlU2VhcmNoKCkge1xuICAgIHRoaXMuX2dldExpc3QoKTtcbiAgfVxuXG4gIC8vIGRhdGVwaWNrZXJcbiAgY2hhbmdlVGltZSh0eXBlKSB7XG4gICAgbGV0IHZhbHVlcyA9IHtcbiAgICAgICAgbWluRGF0ZTogZmFsc2UsXG4gICAgICAgIG1heERhdGU6IGZhbHNlXG4gICAgfVxuICAgIGlmICh0eXBlID09ICdzdGFydCcpIHtcbiAgICAgIHRoaXMuZmlsdGVycy50aW1lX2Zyb20gPSB0aGlzLnN0YXJ0X2RhdGUudW5peCgpO1xuICAgICAgdGhpcy5lbmRUaW1lTWluTGltaXQgPSB0aGlzLnN0YXJ0X2RhdGU7XG4gICAgICB2YWx1ZXMubWluRGF0ZSA9IHRoaXMuc3RhcnRfZGF0ZTtcbiAgICAgIHZhbHVlcy5tYXhEYXRlID0gbW9tZW50KCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuZmlsdGVycy50aW1lX3RvID0gdGhpcy5lbmRfZGF0ZS51bml4KCk7XG4gICAgICB0aGlzLnN0YXJ0VGltZU1heExpbWl0ID0gdGhpcy5lbmRfZGF0ZTtcbiAgICAgIHZhbHVlcy5tYXhEYXRlID0gdGhpcy5lbmRfZGF0ZTtcbiAgICB9XG4gICAgdGhpcy5yZVNlYXJjaCgpO1xuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IExpc3RDb250cm9sbGVyO1xuIiwiaW1wb3J0IExpc3RDb250cm9sbGVyIGZyb20gJy4vY3RybCc7XG5cbmNvbnN0IExpc3QgPSB7XG4gIHRlbXBsYXRlVXJsOiAnbW9kdWxlcy9sb2cvbGlzdC9pbmRleC5odG1sJyxcbiAgY29udHJvbGxlcjogTGlzdENvbnRyb2xsZXIsXG4gIGNvbnRyb2xsZXJBczogJ3ZtJ1xufTtcblxuZXhwb3J0IGRlZmF1bHQgTGlzdDtcbiIsImltcG9ydCBhbmd1bGFyIGZyb20gJ2FuZ3VsYXInO1xuaW1wb3J0IGJvb3RzdHJhcCBmcm9tICdib290c3RyYXAnO1xuaW1wb3J0IGNvbmZpZyAgZnJvbSAnLi9jb25maWcnO1xuaW1wb3J0IHNlcnZpY2UgZnJvbSAnLi9zZXJ2aWNlJztcbmltcG9ydCBMaXN0IGZyb20gJy4vbGlzdC8nO1xuXG5leHBvcnQgZGVmYXVsdCBhbmd1bGFyLm1vZHVsZSgnYXBwLm1vZHVsZXMubG9nJywgW10pXG4vLyAuZmlsdGVyKCdmaWx0ZXJUeXBlJywgZmlsdGVyVHlwZSlcbi5zZXJ2aWNlKCdMb2dTZXJ2aWNlJywgc2VydmljZSlcblxuLmNvbXBvbmVudCgnbG9nTGlzdCcsIExpc3QpXG4uY29uZmlnKGNvbmZpZyk7XG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBTZXJ2aWNlIHtcbiAgY29uc3RydWN0b3IoJGh0dHAsIGh0dHBIZWxwZXIsICRyb290U2NvcGUsICRzdGF0ZSwgQXBpTWFwKSB7XG4gICAgJ25nSW5qZWN0JztcblxuICAgIHRoaXMuX2h0dHAgPSAkaHR0cDtcbiAgICAvLyB0aGlzLiRxID0gJHE7XG4gICAgdGhpcy5faHR0cEhlbHBlciA9IGh0dHBIZWxwZXI7XG5cbiAgICB0aGlzLl9hcGkgPSBBcGlNYXAubG9nO1xuXG4gICAgdGhpcy5fcm9vdFNjb3BlID0gJHJvb3RTY29wZTtcbiAgICB0aGlzLl9zdGF0ZSA9ICRzdGF0ZTtcbiAgfVxuXG4gIGxpc3QocGFyYW1zKSB7XG4gICAgXG4gICAgdGhpcy5faHR0cEhlbHBlci5ibG9ja1VJLnN0YXJ0KCk7XG5cbiAgICByZXR1cm4gdGhpcy5faHR0cC5wb3N0KHRoaXMuX2FwaS5saXN0LCBwYXJhbXMpLnRoZW4odGhpcy5faHR0cEhlbHBlci52ZXJpZnksICB0aGlzLl9odHRwSGVscGVyLmVycm9yKTtcbiAgfVxuXG59IiwiZnVuY3Rpb24gQ29uZmlnKCRzdGF0ZVByb3ZpZGVyKSB7XG4gICduZ0luamVjdCc7XG5cbiAgJHN0YXRlUHJvdmlkZXJcbiAgICAuc3RhdGUoJ21lc3NhZ2UnLCB7XG4gICAgICAgIHVybDogJy9tZXNzYWdlJyxcbiAgICAgICAgYWJzdHJhY3Q6IHRydWUsXG4gICAgICAgIHRlbXBsYXRlIDogJzx1aS12aWV3PjwvdWktdmlldz4nLFxuICAgICAgICB0aXRsZTogJ+aPkOekuua2iOaBrydcbiAgICB9KVxuICAgIC5zdGF0ZSgnbWVzc2FnZS5saXN0Jywge1xuICAgICAgICB1cmw6ICc/cGFnZScsXG4gICAgICAgIHRlbXBsYXRlOiAnPG1lc3NhZ2UtbGlzdD48L21lc3NhZ2UtbGlzdD4nLFxuICAgICAgICB0aXRsZTogJ+a2iOaBr+WIl+ihqCdcbiAgICB9KVxuICAgIC5zdGF0ZSgnbWVzc2FnZS5kZXRhaWwnLCB7XG4gICAgICB1cmw6ICcvZGV0YWlsP2lkJyxcbiAgICAgIHRlbXBsYXRlOiAnPG1lc3NhZ2UtZGV0YWlsPjwvbWVzc2FnZS1kZXRhaWw+JyxcbiAgICAgIHRpdGxlOiAn5raI5oGv6K+m5oOFJ1xuICAgIH0pXG4gICAgO1xuXG59XG5cbmV4cG9ydCBkZWZhdWx0IENvbmZpZztcbiIsImNsYXNzIENvbnRyb2xsZXIge1xuXG4gIGNvbnN0cnVjdG9yKCRzdGF0ZSwgJHN0YXRlUGFyYW1zLCB0b2FzdHIsIE1lc3NhZ2VTZXJ2aWNlKSB7XG4gICAgJ25nSW5qZWN0JztcblxuICAgIHRoaXMuX3N0YXRlID0gJHN0YXRlO1xuICAgIHRoaXMuX3RvYXN0ciA9IHRvYXN0cjtcbiAgICB0aGlzLl9zdGF0ZVBhcmFtcyA9ICRzdGF0ZVBhcmFtcztcblxuICAgIHRoaXMuX3NlcnZpY2UgPSBNZXNzYWdlU2VydmljZTtcblxuICAgIHRoaXMuaWQgPSB0aGlzLl9zdGF0ZVBhcmFtcy5pZDtcblxuICAgIHRoaXMuaW5mbyA9IG51bGw7XG5cbiAgICB0aGlzLl9nZXQoKTtcbiAgfVxuXG4gIF9nZXQoKSB7XG4gICAgdGhpcy5fc2VydmljZS5nZXQodGhpcy5pZCkudGhlbihkYXRhID0+IHtcbiAgICAgIHRoaXMuaW5mbyA9IGRhdGE7XG4gICAgICBpZiAoZGF0YS5zdGF0ZSA9PT0gMCkge1xuICAgICAgICB0aGlzLl9yZWFkKCk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICBfcmVhZCgpIHtcbiAgICB0aGlzLl9zZXJ2aWNlLnNldCh7XG4gICAgICBpZDogdGhpcy5pZCxcbiAgICAgIHN0YXRlOiAxXG4gICAgfSkudGhlbihkYXRhID0+IHtcblxuICAgIH0pO1xuICB9XG5cblx0ZGVsZXRlKCkge1xuXHRcdHRoaXMuX3NlcnZpY2Uuc2V0KHtcbiAgICAgIGlkOiB0aGlzLmlkLFxuICAgICAgc3RhdGU6IDJcbiAgICB9KS50aGVuKGRhdGEgPT4ge1xuICAgICAgdGhpcy5fdG9hc3RyLnN1Y2Nlc3MoJ+WIoOmZpOaIkOWKnyEnKTtcbiAgICAgIHRoaXMuX3N0YXRlLmdvKCdtZXNzYWdlLmxpc3QnKTtcbiAgICB9KTtcblx0fVxufVxuXG5leHBvcnQgZGVmYXVsdCBDb250cm9sbGVyOyIsImltcG9ydCBjdHJsIGZyb20gJy4vY3RybCc7XG5cbmNvbnN0IGRldGFpbCA9IHtcbiAgdGVtcGxhdGVVcmw6ICdtb2R1bGVzL21lc3NhZ2UvZGV0YWlsL2luZGV4Lmh0bWwnLFxuICBjb250cm9sbGVyOiBjdHJsLFxuICBjb250cm9sbGVyQXM6ICd2bSdcbn07XG5cbmV4cG9ydCBkZWZhdWx0IGRldGFpbDsiLCJpbXBvcnQgUGFnaW5hdGlvbiBmcm9tICcuLi8uLi8uLi9jb3JlL2NvbXBvbmVudHMvbWNQYWdpbmF0aW9uL21jLXBhZ2luYXRpb24uY2xhc3MnO1xuXG5jbGFzcyBMaXN0Q29udHJvbGxlciBleHRlbmRzIFBhZ2luYXRpb24ge1xuXG4gIGNvbnN0cnVjdG9yKCRpbmplY3RvciwgJHN0YXRlLCAkbG9jYXRpb24sICRzdGF0ZVBhcmFtcywgdG9hc3RyLCAkdWliTW9kYWwsIE1lc3NhZ2VTZXJ2aWNlKSB7XG4gICAgJ25nSW5qZWN0JztcblxuICAgIHN1cGVyKCRpbmplY3Rvcik7XG5cbiAgICB0aGlzLl9zdGF0ZSA9ICRzdGF0ZTtcbiAgICB0aGlzLl9sb2NhdGlvbiA9ICRsb2NhdGlvbjtcbiAgICB0aGlzLl9zdGF0ZVBhcmFtcyA9ICRzdGF0ZVBhcmFtcztcbiAgICB0aGlzLl9tb2RhbCA9ICR1aWJNb2RhbDtcblxuICAgIHRoaXMuX3RvYXN0ciA9IHRvYXN0cjtcblxuICAgIHRoaXMuX3NlcnZpY2UgPSBNZXNzYWdlU2VydmljZTtcblxuICAgIHRoaXMuZmlsdGVycyA9IHt9O1xuXG4gICAgdGhpcy5vbmVBdEFUaW1lID0gdHJ1ZTtcblxuICAgIHRoaXMuX2luaXQoKTtcblxuICB9XG5cbiAgX2luaXQoKSB7XG5cbiAgICB0aGlzLl9pbml0RmlsdGVycygpO1xuICAgIHRoaXMuX2dldExpc3QoKTtcblxuICB9XG5cbiAgX2luaXRGaWx0ZXJzKCkge1xuICAgIC8vIGNvbnNvbGUubG9nKHRoaXMuX3N0YXRlUGFyYW1zKTtcbiAgICBjb25zdCBzdGF0ZVBhcmFtcyA9IHRoaXMuX3N0YXRlUGFyYW1zO1xuICAgIC8vIHRoaXMucGFnaW5hdGlvbi5wYWdlID0gK3N0YXRlUGFyYW1zLnBhZ2U7XG4gICAgLy8gdGhpcy5maWx0ZXJzLmdlbmRlciA9ICtzdGF0ZVBhcmFtcy5nZW5kZXIgfHwgdm9pZCgwKTtcblxuICAgIHRoaXMuZmlsdGVycy5rZXl3b3JkID0gc3RhdGVQYXJhbXMua2V5d29yZCB8fCB2b2lkKDApO1xuXG4gIH1cbiAgXG4gIF9nZXRMaXN0KCkge1xuXG4gICAgbGV0IHBhcmFtcyA9IHRoaXMuX2ZpbHRlckVtcHR5VmFsdWUoKTtcbiAgICAvLyBwYXJhbXMucGFnZVNpemUgPSB0aGlzLnBhZ2luYXRpb24ucGFnZVNpemU7XG4gICAgcGFyYW1zLnBhZ2UgPSB0aGlzLnBhZ2luYXRpb24ucGFnZTtcblxuICAgIHRoaXMuX3NlcnZpY2UuZ2V0TGlzdChwYXJhbXMpLnRoZW4oZGF0YSA9PiB7XG4gICAgICBjb25zb2xlLmxvZyhkYXRhKTtcbiAgICAgIHRoaXMubGlzdCA9IGRhdGEubWVzc2FnZXM7XG4gICAgICB0aGlzLnBhZ2luYXRpb24uY291bnQgPSBkYXRhLnBhZ2VfY291bnQgKiB0aGlzLnBhZ2luYXRpb24ucGFnZVNpemU7XG4gICAgfSk7XG5cbiAgICAvLyB0aGlzLmxpc3QgPSBbXG4gICAgLy8gICAgICAgICAgICAge2lkOiAxLCB0aXRsZTogJ+WNleeLrOeahOihqOWNleaOp+S7tuS8muiiq+iHquWKqOi1i+S6iOS4gOS6m+WFqOWxgOagt+W8jycsIGxpbms6ICcvJywgY29udGVudDogJ+WNleeLrOeahOihqOWNleaOp+S7tuS8muiiq+iHquWKqOi1i+S6iOS4gOS6m+WFqOWxgOagt+W8j+OAguaJgOacieiuvue9ruS6hiAuZm9ybS1jb250cm9sIOexu+eahCA8aW5wdXQ+44CBPHRleHRhcmVhPiDlkowgPHNlbGVjdD4g5YWD57Sg6YO95bCG6KKr6buY6K6k6K6+572u5a695bqm5bGe5oCn5Li6IHdpZHRoOiAxMDAlO+OAgiDlsIYgbGFiZWwg5YWD57Sg5ZKM5YmN6Z2i5o+Q5Yiw55qE5o6n5Lu25YyF6KO55ZyoIC5mb3JtLWdyb3VwIOS4reWPr+S7peiOt+W+l+acgOWlveeahOaOkuWIl+OAgid9LFxuICAgIC8vICAgICAgICAgICAgIHtpZDogMiwgdGl0bGU6ICfljZXni6znmoTooajljZXmjqfku7bkvJrooqvoh6rliqjotYvkuojkuIDkupvlhajlsYDmoLflvI8nLCBsaW5rOiAnLycsIGNvbnRlbnQ6ICfljZXni6znmoTooajljZXmjqfku7bkvJrooqvoh6rliqjotYvkuojkuIDkupvlhajlsYDmoLflvI/jgILmiYDmnInorr7nva7kuoYgLmZvcm0tY29udHJvbCDnsbvnmoQgPGlucHV0PuOAgTx0ZXh0YXJlYT4g5ZKMIDxzZWxlY3Q+IOWFg+e0oOmDveWwhuiiq+m7mOiupOiuvue9ruWuveW6puWxnuaAp+S4uiB3aWR0aDogMTAwJTvjgIIg5bCGIGxhYmVsIOWFg+e0oOWSjOWJjemdouaPkOWIsOeahOaOp+S7tuWMheijueWcqCAuZm9ybS1ncm91cCDkuK3lj6/ku6XojrflvpfmnIDlpb3nmoTmjpLliJfjgIInfSxcbiAgICAvLyAgICAgICAgICAgXTtcbiAgICAvLyB0aGlzLnBhZ2luYXRpb24uY291bnQgPSAyMDtcblxuICB9XG5cbiAgdG9nZ2xlQWxsKCkge1xuICAgIGlmKHRoaXMubGlzdCkge1xuICAgICAgdGhpcy5saXN0LmZvckVhY2goaXRlbSA9PiBpdGVtLmNoZWNrZWQgPSB0aGlzLnNlbGVjdEFsbCk7XG4gICAgfVxuICB9XG5cbiAgY2hlY2tBbGwoKSB7XG4gICAgaWYodGhpcy5saXN0KSB7XG4gICAgICBsZXQgdW5jaGVja2VkTGlzdCA9IHRoaXMubGlzdC5maWx0ZXIoaXRlbSA9PiAhaXRlbS5jaGVja2VkKTtcbiAgICAgIGxldCBsZW4gPSB1bmNoZWNrZWRMaXN0Lmxlbmd0aDtcblxuICAgICAgaWYobGVuID4gMCkge1xuICAgICAgICB0aGlzLnNlbGVjdEFsbCA9IGZhbHNlO1xuICAgICAgfSBlbHNlIGlmIChsZW4gPSB0aGlzLmxpc3QubGVuZ3RoKSB7XG4gICAgICAgIHRoaXMuc2VsZWN0QWxsID0gdHJ1ZTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBiYXRjaE1hcmtlZFJlYWQoKSB7XG4gICAgaWYodGhpcy5saXN0KSB7XG4gICAgICBsZXQgY2hlY2tlZExpc3QgPSB0aGlzLmxpc3QuZmlsdGVyKGl0ZW0gPT4gaXRlbS5jaGVja2VkKTtcblxuICAgICAgY2hlY2tlZExpc3QuZm9yRWFjaChpdGVtID0+IGl0ZW0uaXNSZWFkID0gdHJ1ZSk7XG4gICAgfVxuICB9XG5cbiAgYmF0Y2hSZW1vdmUoKSB7XG4gICAgaWYodGhpcy5saXN0KSB7XG4gICAgICB0aGlzLmxpc3QgPSB0aGlzLmxpc3QuZmlsdGVyKGl0ZW0gPT4gIWl0ZW0uY2hlY2tlZCk7XG5cbiAgICAgIC8vIGNoZWNrZWRMaXN0LmZvckVhY2goaXRlbSA9PiBpdGVtLmlzUmVhZCA9IHRydWUpO1xuICAgICAgdGhpcy5fdG9hc3RyLnN1Y2Nlc3MoJ+WIoOmZpOaIkOWKnyEnKTtcbiAgICAgIHRoaXMuX3N0YXRlLnJlbG9hZCgpO1xuICAgIH1cbiAgfVxuXG4gIGdldENoZWNrZWRJZHMoKSB7XG4gICAgaWYodGhpcy5saXN0KSB7XG4gICAgICBsZXQgY2hlY2tlZExpc3QgPSB0aGlzLmxpc3QuZmlsdGVyKGl0ZW0gPT4gaXRlbS5jaGVja2VkKTtcblxuICAgICAgcmV0dXJuIGNoZWNrZWRMaXN0Lm1hcChpdGVtID0+IGl0ZW0uaWQpO1xuICAgIH1cblxuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIG1hcmtlZFJlYWQoKSB7XG4gICAgY29uc3QgaWRzID0gdGhpcy5nZXRDaGVja2VkSWRzKCk7XG5cbiAgICBpZihpZHMgJiYgaWRzLmxlbmd0aCkge1xuICAgICAgY29uc29sZS5sb2coaWRzKTtcblxuICAgICAgdGhpcy5fc2VydmljZS5yZWFkKHtpZHN9KS50aGVuKGRhdGEgPT4ge1xuICAgICAgICAvLyB0aGlzLl90b2FzdHIuc3VjY2VzcygnJyk7XG4gICAgICAgIHRoaXMuYmF0Y2hNYXJrZWRSZWFkKCk7XG4gICAgICB9KTtcbiAgICB9XG4gIH1cblxuICBkZWxldGUoKSB7XG4gICAgY29uc3QgaWRzID0gdGhpcy5nZXRDaGVja2VkSWRzKCk7XG5cbiAgICBpZihpZHMgJiYgaWRzLmxlbmd0aCkge1xuICAgICAgY29uc29sZS5sb2coaWRzKTtcbiAgICAgIHRoaXMuX3NlcnZpY2UuZGVsZXRlKHtpZHN9KS50aGVuKGRhdGEgPT4ge1xuICAgICAgICAvLyB0aGlzLl90b2FzdHIuc3VjY2VzcygnJyk7XG4gICAgICAgIHRoaXMuYmF0Y2hSZW1vdmUoKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuXG5cbn1cblxuZXhwb3J0IGRlZmF1bHQgTGlzdENvbnRyb2xsZXI7XG4iLCJpbXBvcnQgTGlzdENvbnRyb2xsZXIgZnJvbSAnLi9jdHJsJztcblxuY29uc3QgTGlzdCA9IHtcbiAgdGVtcGxhdGVVcmw6ICdtb2R1bGVzL21lc3NhZ2UvbGlzdC90ZW1wbGF0ZS5odG1sJyxcbiAgY29udHJvbGxlcjogTGlzdENvbnRyb2xsZXIsXG4gIGNvbnRyb2xsZXJBczogJ3ZtJ1xufTtcblxuZXhwb3J0IGRlZmF1bHQgTGlzdDtcbiIsImltcG9ydCBhbmd1bGFyIGZyb20gJ2FuZ3VsYXInO1xuaW1wb3J0IGNvbmZpZyAgZnJvbSAnLi9jb25maWcnO1xuaW1wb3J0IHNlcnZpY2UgZnJvbSAnLi9zZXJ2aWNlJztcbmltcG9ydCBMaXN0ICBmcm9tICcuL2xpc3QvJztcbmltcG9ydCBEZXRhaWwgZnJvbSAnLi9kZXRhaWwvJztcblxuLy8gaW1wb3J0IGRlbW9TZXJ2aWNlICAgICAgZnJvbSAnLi9zZXJ2aWNlcy9kZW1vLnNlcnZpY2UnO1xuXG5cblxuXG5leHBvcnQgZGVmYXVsdCBhbmd1bGFyLm1vZHVsZSgnYXBwLm1vZHVsZXMubWVzc2FnZScsIFtdKVxuLy8gLmZpbHRlcignZmlsdGVyVHlwZScsIGZpbHRlclR5cGUpXG4uc2VydmljZSgnTWVzc2FnZVNlcnZpY2UnLCBzZXJ2aWNlKVxuXG4uY29tcG9uZW50KCdtZXNzYWdlTGlzdCcsIExpc3QpXG4uY29tcG9uZW50KCdtZXNzYWdlRGV0YWlsJywgRGV0YWlsKVxuLmNvbmZpZyhjb25maWcpO1xuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgU2VydmljZSB7XG4gIGNvbnN0cnVjdG9yKCRodHRwLCBodHRwSGVscGVyLCAkcm9vdFNjb3BlLCAkc3RhdGUsIEFwaU1hcCkge1xuICAgICduZ0luamVjdCc7XG5cbiAgICB0aGlzLl9odHRwID0gJGh0dHA7XG4gICAgLy8gdGhpcy4kcSA9ICRxO1xuICAgIHRoaXMuX2h0dHBIZWxwZXIgPSBodHRwSGVscGVyO1xuXG4gICAgdGhpcy5fYXBpID0gQXBpTWFwLm1lc3NhZ2U7XG5cbiAgICB0aGlzLl9yb290U2NvcGUgPSAkcm9vdFNjb3BlO1xuICAgIHRoaXMuX3N0YXRlID0gJHN0YXRlO1xuICB9XG5cbiAgZ2V0KGlkKSB7XG4gICAgXG4gICAgdGhpcy5faHR0cEhlbHBlci5ibG9ja1VJLnN0YXJ0KCk7XG5cbiAgICByZXR1cm4gdGhpcy5faHR0cC5nZXQodGhpcy5fYXBpLmdldC5yZXBsYWNlKC9cXHtpZFxcfS8sIGlkKSkudGhlbih0aGlzLl9odHRwSGVscGVyLnZlcmlmeSwgIHRoaXMuX2h0dHBIZWxwZXIuZXJyb3IpO1xuICB9XG5cbiAgZ2V0TGlzdChwYXJhbXMsIGhpZGVMb2FkaW5nKSB7XG4gICAgXG4gICAgIWhpZGVMb2FkaW5nICYmIHRoaXMuX2h0dHBIZWxwZXIuYmxvY2tVSS5zdGFydCgpO1xuXG4gICAgcmV0dXJuIHRoaXMuX2h0dHAucG9zdCh0aGlzLl9hcGkuZ2V0TGlzdCwgcGFyYW1zKS50aGVuKHRoaXMuX2h0dHBIZWxwZXIudmVyaWZ5LCAgdGhpcy5faHR0cEhlbHBlci5lcnJvcik7XG4gIH1cblxuICBzZXQoZGF0YSkge1xuICAgIFxuICAgIHRoaXMuX2h0dHBIZWxwZXIuYmxvY2tVSS5zdGFydCgpO1xuXG4gICAgcmV0dXJuIHRoaXMuX2h0dHAucG9zdCh0aGlzLl9hcGkuc2V0LCBkYXRhKS50aGVuKHRoaXMuX2h0dHBIZWxwZXIudmVyaWZ5LCAgdGhpcy5faHR0cEhlbHBlci5lcnJvcik7XG4gIH1cbn0iLCJpbXBvcnQgYW5ndWxhciAgICAgICAgICAgICBmcm9tICdhbmd1bGFyJztcbmltcG9ydCBkYXNoYm9hcmRNb2R1bGUgICAgIGZyb20gJy4vZGFzaGJvYXJkL2Rhc2hib2FyZC5tb2R1bGUnO1xuXG5pbXBvcnQgZGVtb01vZHVsZSAgICAgICBmcm9tICcuL2RlbW8vZGVtby5tb2R1bGUnO1xuaW1wb3J0IG1lc3NhZ2VNb2R1bGUgICAgICAgZnJvbSAnLi9tZXNzYWdlL21vZHVsZSc7XG5pbXBvcnQgaW52ZXN0bWVudE1vZHVsZSAgICAgICBmcm9tICcuL2ludmVzdG1lbnQvbW9kdWxlJztcbmltcG9ydCBlbnRlcnByaXNlTW9kdWxlICAgICAgIGZyb20gJy4vZW50ZXJwcmlzZS9tb2R1bGUnO1xuaW1wb3J0IGluZm9ybWF0aW9uTW9kdWxlICAgICAgIGZyb20gJy4vaW5mb3JtYXRpb24vbW9kdWxlJztcblxuaW1wb3J0IHBlcnNvbk1vZHVsZSAgICAgICAgIGZyb20gJy4vcGVyc29uL21vZHVsZSc7XG5pbXBvcnQgYWNjb3VudE1vZHVsZSAgICAgICAgZnJvbSAnLi9hY2NvdW50L21vZHVsZSc7XG5pbXBvcnQgbG9nTW9kdWxlICAgICAgICBmcm9tICcuL2xvZy9tb2R1bGUnO1xuaW1wb3J0IGJhbmtNb2R1bGUgICAgICAgIGZyb20gJy4vYmFuay9tb2R1bGUnO1xuaW1wb3J0IHN5c2NvbmZpZ01vZHVsZSAgICAgICAgZnJvbSAnLi9zeXNjb25maWcvbW9kdWxlJztcblxuaW1wb3J0IHByb2Nlc3NNb2R1bGUgICAgICBmcm9tICcuL3Byb2Nlc3MvbW9kdWxlJztcbmltcG9ydCBsb2FuTW9kdWxlICAgICAgICAgZnJvbSAnLi9sb2FuL21vZHVsZSc7XG5pbXBvcnQgZmlsdGVyTW9kdWxlICAgICAgZnJvbSAnLi9maWx0ZXIvbW9kdWxlJztcblxuZXhwb3J0IGRlZmF1bHQgYW5ndWxhci5tb2R1bGUoJ2FwcC5tb2R1bGVzJywgW1xuICBkYXNoYm9hcmRNb2R1bGUubmFtZSxcbiAgZGVtb01vZHVsZS5uYW1lLFxuICBtZXNzYWdlTW9kdWxlLm5hbWUsXG4gIGludmVzdG1lbnRNb2R1bGUubmFtZSxcbiAgZW50ZXJwcmlzZU1vZHVsZS5uYW1lLFxuICBpbmZvcm1hdGlvbk1vZHVsZS5uYW1lLFxuICBwZXJzb25Nb2R1bGUubmFtZSxcbiAgYWNjb3VudE1vZHVsZS5uYW1lLFxuICBsb2dNb2R1bGUubmFtZSxcbiAgYmFua01vZHVsZS5uYW1lLFxuICBwcm9jZXNzTW9kdWxlLm5hbWUsXG4gIHN5c2NvbmZpZ01vZHVsZS5uYW1lLFxuICBsb2FuTW9kdWxlLm5hbWUsXG4gIGZpbHRlck1vZHVsZS5uYW1lLFxuXSk7XG4iLCJmdW5jdGlvbiBDb25maWcoJHN0YXRlUHJvdmlkZXIpIHtcbiAgJ25nSW5qZWN0JztcblxuICAkc3RhdGVQcm92aWRlclxuICAgIC5zdGF0ZSgncGVyc29uJywge1xuICAgICAgICB1cmw6ICcvcGVyc29uJyxcbiAgICAgICAgYWJzdHJhY3Q6IHRydWUsXG4gICAgICAgIHRlbXBsYXRlIDogJzx1aS12aWV3PjwvdWktdmlldz4nLFxuICAgICAgICB0aXRsZTogJ+S4quS6uuS4reW/gydcbiAgICB9KVxuICAgIC5zdGF0ZSgncGVyc29uLmRldGFpbCcsIHtcbiAgICAgICAgdXJsOiAnJyxcbiAgICAgICAgdGVtcGxhdGU6ICc8cGVyc29uLWRldGFpbD48L3BlcnNvbi1kZXRhaWw+JyxcbiAgICAgICAgdGl0bGU6ICfotYTmlpnor6bmg4UnXG4gICAgfSlcbiAgICA7XG5cbn1cblxuZXhwb3J0IGRlZmF1bHQgQ29uZmlnO1xuIiwiY2xhc3MgRGV0YWlsQ29udHJvbGxlciB7XG5cbiAgY29uc3RydWN0b3IoJHN0YXRlLCB0b2FzdHIsIFBlcnNvblNlcnZpY2UsIEFwcFNldHRpbmdzLCBDb25maWdTZXJ2aWNlLCBQcm9maWxlU2VydmljZSkge1xuICAgICduZ0luamVjdCc7XG5cbiAgICB0aGlzLl9zdGF0ZSA9ICRzdGF0ZTtcbiAgICB0aGlzLl90b2FzdHIgPSB0b2FzdHI7XG5cbiAgICB0aGlzLl9zZXJ2aWNlID0gUGVyc29uU2VydmljZTtcbiAgICB0aGlzLl9jb25maWdTZXJ2aWNlID0gQ29uZmlnU2VydmljZTtcblxuICAgIHRoaXMucm9sZUxpc3QgPSBQcm9maWxlU2VydmljZS5nZXRSb2xlTGlzdCgpO1xuICAgIHRoaXMucm9sZUtleSA9IEFwcFNldHRpbmdzLnJvbGVMaXN0S2V5O1xuXG4gICAgdGhpcy5faW5pdCgpO1xuXHR9XG5cbiAgX2luaXQoKSB7XG4gICAgbGV0IHBhcmFtcyA9IHtcbiAgICAgIGlkOiB3aW5kb3cubG9jYWxTdG9yYWdlLmdldEl0ZW0oJ1NJTF9VSUQnKVxuICAgIH07XG4gICAgdGhpcy5zdGF0ZUFyciA9IHtcbiAgICAgIDA6ICfmnKrmv4DmtLsnLFxuICAgICAgMTogJ+ato+W4uCcsXG4gICAgICAyOiAn5bey5Ya757uTJyxcbiAgICAgIDM6ICflt7LliKDpmaQnXG4gICAgfVxuXG4gICAgdGhpcy5fc2VydmljZS5nZXQocGFyYW1zKS50aGVuKGRhdGEgPT4ge1xuICAgICAgdGhpcy5wZXJzb24gPSBkYXRhO1xuICAgIH0pO1xuICB9XG5cbiAgc2V0VXNlcigpIHtcbiAgICBsZXQgcGFyYW1zID0ge1xuICAgICAgdXNlcl9pZDogd2luZG93LmxvY2FsU3RvcmFnZS5nZXRJdGVtKCdTSUxfVUlEJyksXG4gICAgICBuZXdfcGFzc3dvcmQ6IHRoaXMucGVyc29uLm5ld19wYXNzd29yZCxcbiAgICAgIHRydWVfbmFtZTogdGhpcy5wZXJzb24udHJ1ZV9uYW1lLFxuICAgICAgcGhvbmU6IHRoaXMucGVyc29uLnBob25lLFxuICAgICAgcm9sZV9uYW1lOiB0aGlzLnBlcnNvbi5yb2xlX25hbWUsXG4gICAgICByb2xlOiB0aGlzLnBlcnNvbi5yb2xlLFxuICAgICAgc3RhdGU6IHRoaXMucGVyc29uLnN0YXRlXG4gICAgfTtcbiAgICB0aGlzLl9zZXJ2aWNlLnNldChwYXJhbXMpLnRoZW4oZGF0YSA9PiB7XG4gICAgICAgIGxvY2F0aW9uLmhyZWYgPSAnLyc7XG4gICAgfSk7XG5cbiAgfVxuXG59XG5cbmV4cG9ydCBkZWZhdWx0IERldGFpbENvbnRyb2xsZXI7IiwiaW1wb3J0IERldGFpbENvbnRyb2xsZXIgZnJvbSAnLi9jdHJsJztcblxuY29uc3QgZGV0YWlsID0ge1xuICB0ZW1wbGF0ZVVybDogJ21vZHVsZXMvcGVyc29uL2RldGFpbC9pbmRleC5odG1sJyxcbiAgY29udHJvbGxlcjogRGV0YWlsQ29udHJvbGxlcixcbiAgY29udHJvbGxlckFzOiAndm0nXG59O1xuXG5leHBvcnQgZGVmYXVsdCBkZXRhaWw7IiwiaW1wb3J0IGFuZ3VsYXIgZnJvbSAnYW5ndWxhcic7XG5pbXBvcnQgYm9vdHN0cmFwIGZyb20gJ2Jvb3RzdHJhcCc7XG5pbXBvcnQgY29uZmlnICBmcm9tICcuL2NvbmZpZyc7XG5pbXBvcnQgc2VydmljZSBmcm9tICcuL3NlcnZpY2UnO1xuaW1wb3J0IERldGFpbCBmcm9tICcuL2RldGFpbC8nO1xuXG4vLyBpbXBvcnQgZGVtb1NlcnZpY2UgICAgICBmcm9tICcuL3NlcnZpY2VzL2RlbW8uc2VydmljZSc7XG5cblxuXG5cbmV4cG9ydCBkZWZhdWx0IGFuZ3VsYXIubW9kdWxlKCdhcHAubW9kdWxlcy5wZXJzb24nLCBbXSlcbi8vIC5maWx0ZXIoJ2ZpbHRlclR5cGUnLCBmaWx0ZXJUeXBlKVxuLnNlcnZpY2UoJ1BlcnNvblNlcnZpY2UnLCBzZXJ2aWNlKVxuXG4uY29tcG9uZW50KCdwZXJzb25EZXRhaWwnLCBEZXRhaWwpXG4uY29uZmlnKGNvbmZpZyk7XG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBTZXJ2aWNlIHtcbiAgY29uc3RydWN0b3IoJGh0dHAsIGh0dHBIZWxwZXIsICRyb290U2NvcGUsICRzdGF0ZSwgQXBpTWFwKSB7XG4gICAgJ25nSW5qZWN0JztcblxuICAgIHRoaXMuX2h0dHAgPSAkaHR0cDtcbiAgICAvLyB0aGlzLiRxID0gJHE7XG4gICAgdGhpcy5faHR0cEhlbHBlciA9IGh0dHBIZWxwZXI7XG5cbiAgICB0aGlzLl9hcGkgPSBBcGlNYXAucGVyc29uO1xuICAgIHRoaXMuX2FwaU1hcCA9IEFwaU1hcDtcblxuICAgIHRoaXMuX3Jvb3RTY29wZSA9ICRyb290U2NvcGU7XG4gICAgdGhpcy5fc3RhdGUgPSAkc3RhdGU7XG4gIH1cblxuICBnZXQocGFyYW1zKSB7XG4gICAgXG4gICAgdGhpcy5faHR0cEhlbHBlci5ibG9ja1VJLnN0YXJ0KCk7XG5cbiAgICByZXR1cm4gdGhpcy5faHR0cC5wb3N0KHRoaXMuX2FwaS5nZXQsIHBhcmFtcykudGhlbih0aGlzLl9odHRwSGVscGVyLnZlcmlmeSwgIHRoaXMuX2h0dHBIZWxwZXIuZXJyb3IpO1xuICB9XG5cbiAgc2V0KHBhcmFtcykge1xuICAgIFxuICAgIHRoaXMuX2h0dHBIZWxwZXIuYmxvY2tVSS5zdGFydCgpO1xuICAgIFxuICAgIHJldHVybiB0aGlzLl9odHRwLnBvc3QodGhpcy5fYXBpLnNldCwgcGFyYW1zKS50aGVuKHRoaXMuX2h0dHBIZWxwZXIudmVyaWZ5LCAgdGhpcy5faHR0cEhlbHBlci5lcnJvcik7XG4gIH1cblxuICBnZXRSb2xlTGlzdCgpIHtcbiAgICB0aGlzLl9odHRwSGVscGVyLmJsb2NrVUkuc3RhcnQoKTtcbiAgICBcbiAgICByZXR1cm4gdGhpcy5faHR0cC5nZXQodGhpcy5fYXBpTWFwLmF1dGguZ2V0KS50aGVuKHRoaXMuX2h0dHBIZWxwZXIudmVyaWZ5LCAgdGhpcy5faHR0cEhlbHBlci5lcnJvcik7XG4gIH1cblxuXG59IiwiY2xhc3MgQ29udHJvbGxlciB7XG5cbiAgY29uc3RydWN0b3IoJHNjb3BlLCAkc3RhdGUsICRzdGF0ZVBhcmFtcywgJHZhbGlkYXRpb24sIHRvYXN0ciwgUHJvY2Vzc1NlcnZpY2UsIGNoZWNrU3RhdGVTZXJ2aWNlKSB7XG4gICAgJ25nSW5qZWN0JztcblxuICAgIHRoaXMuX3Njb3BlID0gJHNjb3BlO1xuXG4gICAgdGhpcy5fc3RhdGUgPSAkc3RhdGU7XG4gICAgdGhpcy5fdG9hc3RyID0gdG9hc3RyO1xuICAgIHRoaXMuX3N0YXRlUGFyYW1zID0gJHN0YXRlUGFyYW1zO1xuXG4gICAgdGhpcy5fdmFsaWRhdGlvbiA9ICAkdmFsaWRhdGlvbjtcblxuICAgIHRoaXMuX2NoZWNrU3RhdGVTZXJ2aWNlID0gY2hlY2tTdGF0ZVNlcnZpY2U7XG5cbiAgICB0aGlzLl9zZXJ2aWNlID0gUHJvY2Vzc1NlcnZpY2U7XG5cbiAgICB0aGlzLmlkID0gdGhpcy5fc3RhdGVQYXJhbXMuaWQgfHwgbnVsbDtcblxuICAgIHRoaXMuaW5mbyA9IG51bGw7XG4gICAgdGhpcy5pbnB1dEluZm8gPSB7XG4gICAgICBjb250ZW50OiAnJyxcbiAgICAgIHRpdGxlOiAnJ1xuICAgIH07XG5cbiAgICB0aGlzLl9pbml0KCk7XG4gIH1cblxuICBfaW5pdCgpIHtcbiAgICBsZXQgZGVzdHJveVdhdGNoVGV4dCA9IHRoaXMuX3Njb3BlLiR3YXRjaCgndm0uaW5wdXRJbmZvLmNvbnRlbnQnLCAoKSA9PiB7XG4gICAgICBpZih0aGlzLmlucHV0SW5mby5jb250ZW50KSB7XG4gICAgICAgIC8vIGNvbnNvbGUubG9nKG1hcmtlZCh0aGlzLmlucHV0SW5mby5jb250ZW50KSk7XG4gICAgICAgIHRoaXMuaHRtbCA9IG1hcmtlZCh0aGlzLmlucHV0SW5mby5jb250ZW50KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuaHRtbCA9ICcnO1xuICAgICAgfVxuICAgIH0pO1xuICAgIC8qXG4gICAgKiAkc2NvcGXplIDmr4HnmoTml7blgJks57uT5p2f55uR5ZCsXG4gICAgKi9cbiAgICB0aGlzLl9zY29wZS4kb24oJyRkZXN0cm95JywgZGVzdHJveVdhdGNoVGV4dCk7XG5cbiAgICB0aGlzLl9jaGVja1N0YXRlU2VydmljZS5mb3JtU3RhdGVDaGFuZ2UodGhpcy5fc2NvcGUsICd2bS5Gb3JtJyk7XG5cbiAgICB0aGlzLl9nZXQoKTtcbiAgfVxuXG4gIF9nZXQoKSB7XG5cbiAgICBpZih0aGlzLmlkKSB7XG4gICAgICB0aGlzLl9zZXJ2aWNlLnRpcHNHZXQodGhpcy5pZCkudGhlbihkYXRhID0+IHtcbiAgICAgICAgdGhpcy5pbmZvID0gZGF0YTtcblxuICAgICAgICB0aGlzLmlucHV0SW5mbyA9IHsuLi5kYXRhfTtcblxuICAgICAgICB0aGlzLmRlZmF1bHRDb250ZW50ID0gZGF0YS5jb250ZW50O1xuICAgICAgfSkuY2F0Y2goZGF0YSA9PiB7XG4gICAgICAgIHRoaXMuaWQgPSBudWxsO1xuICAgICAgfSk7XG4gICAgfVxuICB9XG5cbiAgX3JlYWQoKSB7XG4gICAgdGhpcy5fc2VydmljZS5zZXQoe1xuICAgICAgaWQ6IHRoaXMuaWQsXG4gICAgICBzdGF0ZTogMVxuICAgIH0pLnRoZW4oZGF0YSA9PiB7XG5cbiAgICB9KTtcbiAgfVxuXG5cdGRlbGV0ZShmb3JtKSB7XG4gICAgZm9ybS4kcHJpc3RpbmUgPSB0cnVlO1xuXHRcdHRoaXMuX3NlcnZpY2UudGlwc1NldCh7XG4gICAgICBpZDogdGhpcy5pZCxcbiAgICAgIHN0YXRlOiAzXG4gICAgfSkudGhlbihkYXRhID0+IHtcbiAgICAgIHRoaXMuX3RvYXN0ci5zdWNjZXNzKCfliKDpmaTmiJDlip8hJyk7XG4gICAgICB0aGlzLl9zdGF0ZS5nbygncHJvY2Vzcy50aXBzJyk7XG4gICAgfSk7XG5cdH1cblxuICBzdWJtaXQoZm9ybSkge1xuICAgIC8v6aqM6K+B6KGo5Y2VXG4gICAgdGhpcy5fdmFsaWRhdGlvbi52YWxpZGF0ZShmb3JtKS5zdWNjZXNzKCgpID0+IHtcbiAgICAgIHRoaXMuc2F2ZUZ1bmMoZm9ybSk7XG4gICAgfSk7XG4gIH1cblxuICBzYXZlRnVuYyhmb3JtKSB7XG4gICAgY29uc3QgZGF0YSA9IHRoaXMuaW5wdXRJbmZvO1xuICAgIGlmKHRoaXMuaWQpIHtcbiAgICAgIHRoaXMuX3NlcnZpY2UudGlwc1NldChkYXRhKS50aGVuKGRhdGEgPT4ge1xuICAgICAgICBmb3JtLiRwcmlzdGluZSA9IHRydWU7XG4gICAgICAgIHRoaXMuX3RvYXN0ci5zdWNjZXNzKCfkv53lrZjmiJDlip8nKTtcbiAgICAgICAgdGhpcy5fc3RhdGUuZ28oJ3Byb2Nlc3MudGlwcycpO1xuICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuX3NlcnZpY2UudGlwc0FkZChkYXRhKS50aGVuKGRhdGEgPT4ge1xuICAgICAgICBmb3JtLiRwcmlzdGluZSA9IHRydWU7XG4gICAgICAgIHRoaXMuX3RvYXN0ci5zdWNjZXNzKCfmt7vliqDmiJDlip8nKTtcbiAgICAgICAgdGhpcy5fc3RhdGUuZ28oJ3Byb2Nlc3MudGlwcycpO1xuICAgICAgfSk7XG4gICAgfVxuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IENvbnRyb2xsZXI7IiwiaW1wb3J0IGN0cmwgZnJvbSAnLi9jdHJsJztcblxuY29uc3QgYWRkID0ge1xuICB0ZW1wbGF0ZVVybDogJ21vZHVsZXMvcHJvY2Vzcy9hZGQvaW5kZXguaHRtbCcsXG4gIGNvbnRyb2xsZXI6IGN0cmwsXG4gIGNvbnRyb2xsZXJBczogJ3ZtJ1xufTtcblxuZXhwb3J0IGRlZmF1bHQgYWRkOyIsImZ1bmN0aW9uIENvbmZpZygkc3RhdGVQcm92aWRlcikge1xuICAnbmdJbmplY3QnO1xuXG4gICRzdGF0ZVByb3ZpZGVyXG4gICAgLnN0YXRlKCdwcm9jZXNzJywge1xuICAgICAgICB1cmw6ICcvcHJvY2VzcycsXG4gICAgICAgIGFic3RyYWN0OiB0cnVlLFxuICAgICAgICB0ZW1wbGF0ZSA6ICc8dWktdmlldz48L3VpLXZpZXc+JyxcbiAgICAgICAgdGl0bGU6ICfotLfmrL7mtYHnqIsnLFxuICAgICAgICBzaWRlYmFyTWV0YToge1xuICAgICAgICAgIGljb246ICdpY29uLXNpZGViYXJfbWVtYmVyc19pYycsXG4gICAgICAgICAgb3JkZXI6IDYwMCxcbiAgICAgICAgfVxuICAgIH0pXG4gICAgLnN0YXRlKCdwcm9jZXNzLnRpcHMnLCB7XG4gICAgICAgIHVybDogJz9wYWdlJyxcbiAgICAgICAgdGVtcGxhdGU6ICc8cHJvY2Vzcy10aXBzPjwvcHJvY2Vzcy10aXBzPicsXG4gICAgICAgIHRpdGxlOiAn5o+Q56S66K+d5pyvJyxcbiAgICAgICAgc2lkZWJhck1ldGE6IHtcbiAgICAgICAgICBvcmRlcjogMzBcbiAgICAgICAgfVxuICAgIH0pXG4gICAgLnN0YXRlKCdwcm9jZXNzLmFkZCcsIHtcbiAgICAgIHVybDogJy9hZGQ/aWQnLFxuICAgICAgdGVtcGxhdGU6ICc8cHJvY2Vzcy1hZGQ+PC9tZXNzYWdlLWFkZD4nLFxuICAgICAgdGl0bGU6ICfmt7vliqDor53mnK8nLFxuICAgICAgc2lkZWJhck1ldGE6IHtcbiAgICAgICAgb3JkZXI6IDMwXG4gICAgICB9XG4gICAgfSlcbiAgICA7XG5cbn1cblxuZXhwb3J0IGRlZmF1bHQgQ29uZmlnO1xuIiwiaW1wb3J0IGFuZ3VsYXIgZnJvbSAnYW5ndWxhcic7XG5pbXBvcnQgY29uZmlnICBmcm9tICcuL2NvbmZpZyc7XG5pbXBvcnQgc2VydmljZSBmcm9tICcuL3NlcnZpY2UnO1xuLy8gaW1wb3J0IExpc3QgIGZyb20gJy4vbGlzdC8nO1xuaW1wb3J0IEFkZCBmcm9tICcuL2FkZC8nO1xuaW1wb3J0IFRpcHMgZnJvbSAnLi90aXBzLyc7XG5cbi8vIGltcG9ydCBkZW1vU2VydmljZSAgICAgIGZyb20gJy4vc2VydmljZXMvZGVtby5zZXJ2aWNlJztcblxuXG5cblxuZXhwb3J0IGRlZmF1bHQgYW5ndWxhci5tb2R1bGUoJ2FwcC5tb2R1bGVzLnByb2Nlc3MnLCBbXSlcbi8vIC5maWx0ZXIoJ2ZpbHRlclR5cGUnLCBmaWx0ZXJUeXBlKVxuLnNlcnZpY2UoJ1Byb2Nlc3NTZXJ2aWNlJywgc2VydmljZSlcblxuLmNvbXBvbmVudCgncHJvY2Vzc1RpcHMnLCBUaXBzKVxuLmNvbXBvbmVudCgncHJvY2Vzc0FkZCcsIEFkZClcbi5jb25maWcoY29uZmlnKTtcbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIFNlcnZpY2Uge1xuICBjb25zdHJ1Y3RvcigkaHR0cCwgaHR0cEhlbHBlciwgJHJvb3RTY29wZSwgJHN0YXRlLCBBcGlNYXApIHtcbiAgICAnbmdJbmplY3QnO1xuXG4gICAgdGhpcy5faHR0cCA9ICRodHRwO1xuICAgIC8vIHRoaXMuJHEgPSAkcTtcbiAgICB0aGlzLl9odHRwSGVscGVyID0gaHR0cEhlbHBlcjtcblxuICAgIHRoaXMuX2FwaSA9IEFwaU1hcC5wcm9jZXNzO1xuXG4gICAgdGhpcy5fcm9vdFNjb3BlID0gJHJvb3RTY29wZTtcbiAgICB0aGlzLl9zdGF0ZSA9ICRzdGF0ZTtcbiAgfVxuXG4gIGdldChpZCkge1xuICAgIFxuICAgIHRoaXMuX2h0dHBIZWxwZXIuYmxvY2tVSS5zdGFydCgpO1xuXG4gICAgcmV0dXJuIHRoaXMuX2h0dHAuZ2V0KHRoaXMuX2FwaS5nZXQucmVwbGFjZSgvXFx7aWRcXH0vLCBpZCkpLnRoZW4odGhpcy5faHR0cEhlbHBlci52ZXJpZnksICB0aGlzLl9odHRwSGVscGVyLmVycm9yKTtcbiAgfVxuXG4gIGdldExpc3QocGFyYW1zKSB7XG4gICAgXG4gICAgdGhpcy5faHR0cEhlbHBlci5ibG9ja1VJLnN0YXJ0KCk7XG5cbiAgICByZXR1cm4gdGhpcy5faHR0cC5wb3N0KHRoaXMuX2FwaS5nZXRMaXN0LCBwYXJhbXMpLnRoZW4odGhpcy5faHR0cEhlbHBlci52ZXJpZnksICB0aGlzLl9odHRwSGVscGVyLmVycm9yKTtcbiAgfVxuXG4gIHNldChkYXRhKSB7XG4gICAgXG4gICAgdGhpcy5faHR0cEhlbHBlci5ibG9ja1VJLnN0YXJ0KCk7XG5cbiAgICByZXR1cm4gdGhpcy5faHR0cC5wb3N0KHRoaXMuX2FwaS5zZXQsIGRhdGEpLnRoZW4odGhpcy5faHR0cEhlbHBlci52ZXJpZnksICB0aGlzLl9odHRwSGVscGVyLmVycm9yKTtcbiAgfVxuXG4gIHRpcHNHZXQoaWQpIHtcbiAgICBcbiAgICB0aGlzLl9odHRwSGVscGVyLmJsb2NrVUkuc3RhcnQoKTtcblxuICAgIHJldHVybiB0aGlzLl9odHRwLmdldCh0aGlzLl9hcGkudGlwc0dldC5yZXBsYWNlKC9cXHtpZFxcfS8sIGlkKSkudGhlbih0aGlzLl9odHRwSGVscGVyLnZlcmlmeSwgIHRoaXMuX2h0dHBIZWxwZXIuZXJyb3IpO1xuICB9XG5cbiAgdGlwc0xpc3QocGFyYW1zKSB7XG4gICAgXG4gICAgdGhpcy5faHR0cEhlbHBlci5ibG9ja1VJLnN0YXJ0KCk7XG5cbiAgICByZXR1cm4gdGhpcy5faHR0cC5wb3N0KHRoaXMuX2FwaS50aXBzTGlzdCwgcGFyYW1zKS50aGVuKHRoaXMuX2h0dHBIZWxwZXIudmVyaWZ5LCAgdGhpcy5faHR0cEhlbHBlci5lcnJvcik7XG4gIH1cblxuICB0aXBzU2V0KGRhdGEpIHtcbiAgICBcbiAgICB0aGlzLl9odHRwSGVscGVyLmJsb2NrVUkuc3RhcnQoKTtcblxuICAgIHJldHVybiB0aGlzLl9odHRwLnBvc3QodGhpcy5fYXBpLnRpcHNTZXQsIGRhdGEpLnRoZW4odGhpcy5faHR0cEhlbHBlci52ZXJpZnksICB0aGlzLl9odHRwSGVscGVyLmVycm9yKTtcbiAgfVxuXG4gIHRpcHNBZGQoZGF0YSkge1xuICAgIFxuICAgIHRoaXMuX2h0dHBIZWxwZXIuYmxvY2tVSS5zdGFydCgpO1xuXG4gICAgcmV0dXJuIHRoaXMuX2h0dHAucG9zdCh0aGlzLl9hcGkudGlwc0FkZCwgZGF0YSkudGhlbih0aGlzLl9odHRwSGVscGVyLnZlcmlmeSwgIHRoaXMuX2h0dHBIZWxwZXIuZXJyb3IpO1xuICB9XG5cblxufSIsImltcG9ydCBQYWdpbmF0aW9uIGZyb20gJy4uLy4uLy4uL2NvcmUvY29tcG9uZW50cy9tY1BhZ2luYXRpb24vbWMtcGFnaW5hdGlvbi5jbGFzcyc7XG5cbmNsYXNzIExpc3RDb250cm9sbGVyIGV4dGVuZHMgUGFnaW5hdGlvbiB7XG5cbiAgY29uc3RydWN0b3IoJGluamVjdG9yLCAkc3RhdGUsICRsb2NhdGlvbiwgJHN0YXRlUGFyYW1zLCB0b2FzdHIsICR1aWJNb2RhbCwgUHJvY2Vzc1NlcnZpY2UpIHtcbiAgICAnbmdJbmplY3QnO1xuXG4gICAgc3VwZXIoJGluamVjdG9yKTtcblxuICAgIHRoaXMuX3N0YXRlID0gJHN0YXRlO1xuICAgIHRoaXMuX2xvY2F0aW9uID0gJGxvY2F0aW9uO1xuICAgIHRoaXMuX3N0YXRlUGFyYW1zID0gJHN0YXRlUGFyYW1zO1xuICAgIHRoaXMuX21vZGFsID0gJHVpYk1vZGFsO1xuXG4gICAgdGhpcy5fdG9hc3RyID0gdG9hc3RyO1xuXG4gICAgdGhpcy5fc2VydmljZSA9IFByb2Nlc3NTZXJ2aWNlO1xuXG4gICAgdGhpcy5maWx0ZXJzID0ge307XG5cbiAgICB0aGlzLl9pbml0KCk7XG5cbiAgfVxuXG4gIF9pbml0KCkge1xuXG4gICAgdGhpcy5faW5pdEZpbHRlcnMoKTtcbiAgICB0aGlzLl9nZXRMaXN0KCk7XG5cbiAgfVxuXG4gIF9pbml0RmlsdGVycygpIHtcbiAgICAvLyBjb25zb2xlLmxvZyh0aGlzLl9zdGF0ZVBhcmFtcyk7XG4gICAgY29uc3Qgc3RhdGVQYXJhbXMgPSB0aGlzLl9zdGF0ZVBhcmFtcztcbiAgICAvLyB0aGlzLnBhZ2luYXRpb24ucGFnZSA9ICtzdGF0ZVBhcmFtcy5wYWdlO1xuICAgIC8vIHRoaXMuZmlsdGVycy5nZW5kZXIgPSArc3RhdGVQYXJhbXMuZ2VuZGVyIHx8IHZvaWQoMCk7XG5cbiAgICB0aGlzLmZpbHRlcnMua2V5d29yZCA9IHN0YXRlUGFyYW1zLmtleXdvcmQgfHwgdm9pZCgwKTtcblxuICB9XG4gIFxuICBfZ2V0TGlzdCgpIHtcblxuICAgIGxldCBwYXJhbXMgPSB0aGlzLl9maWx0ZXJFbXB0eVZhbHVlKCk7XG4gICAgLy8gcGFyYW1zLnBhZ2VTaXplID0gdGhpcy5wYWdpbmF0aW9uLnBhZ2VTaXplO1xuICAgIHBhcmFtcy5wYWdlID0gdGhpcy5wYWdpbmF0aW9uLnBhZ2U7XG5cbiAgICB0aGlzLl9zZXJ2aWNlLnRpcHNMaXN0KHBhcmFtcykudGhlbihkYXRhID0+IHtcbiAgICAgIGNvbnNvbGUubG9nKGRhdGEpO1xuICAgICAgdGhpcy5saXN0ID0gZGF0YS5jbV90aXBzO1xuICAgICAgdGhpcy5wYWdpbmF0aW9uLmNvdW50ID0gZGF0YS5wYWdlX2NvdW50ICogdGhpcy5wYWdpbmF0aW9uLnBhZ2VTaXplO1xuICAgIH0pO1xuXG4gICAgLy8gdGhpcy5saXN0ID0gW1xuICAgIC8vICAgICAgICAgICAgIHtpZDogMSwgdGl0bGU6ICfljZXni6znmoTooajljZXmjqfku7bkvJrooqvoh6rliqjotYvkuojkuIDkupvlhajlsYDmoLflvI8nLCBsaW5rOiAnLycsIGNvbnRlbnQ6ICfljZXni6znmoTooajljZXmjqfku7bkvJrooqvoh6rliqjotYvkuojkuIDkupvlhajlsYDmoLflvI/jgILmiYDmnInorr7nva7kuoYgLmZvcm0tY29udHJvbCDnsbvnmoQgPGlucHV0PuOAgTx0ZXh0YXJlYT4g5ZKMIDxzZWxlY3Q+IOWFg+e0oOmDveWwhuiiq+m7mOiupOiuvue9ruWuveW6puWxnuaAp+S4uiB3aWR0aDogMTAwJTvjgIIg5bCGIGxhYmVsIOWFg+e0oOWSjOWJjemdouaPkOWIsOeahOaOp+S7tuWMheijueWcqCAuZm9ybS1ncm91cCDkuK3lj6/ku6XojrflvpfmnIDlpb3nmoTmjpLliJfjgIInfSxcbiAgICAvLyAgICAgICAgICAgICB7aWQ6IDIsIHRpdGxlOiAn5Y2V54us55qE6KGo5Y2V5o6n5Lu25Lya6KKr6Ieq5Yqo6LWL5LqI5LiA5Lqb5YWo5bGA5qC35byPJywgbGluazogJy8nLCBjb250ZW50OiAn5Y2V54us55qE6KGo5Y2V5o6n5Lu25Lya6KKr6Ieq5Yqo6LWL5LqI5LiA5Lqb5YWo5bGA5qC35byP44CC5omA5pyJ6K6+572u5LqGIC5mb3JtLWNvbnRyb2wg57G755qEIDxpbnB1dD7jgIE8dGV4dGFyZWE+IOWSjCA8c2VsZWN0PiDlhYPntKDpg73lsIbooqvpu5jorqTorr7nva7lrr3luqblsZ7mgKfkuLogd2lkdGg6IDEwMCU744CCIOWwhiBsYWJlbCDlhYPntKDlkozliY3pnaLmj5DliLDnmoTmjqfku7bljIXoo7nlnKggLmZvcm0tZ3JvdXAg5Lit5Y+v5Lul6I635b6X5pyA5aW955qE5o6S5YiX44CCJ30sXG4gICAgLy8gICAgICAgICAgIF07XG4gICAgLy8gdGhpcy5wYWdpbmF0aW9uLmNvdW50ID0gMjA7XG5cbiAgfVxuXG4gIHRvZ2dsZUFsbCgpIHtcbiAgICBpZih0aGlzLmxpc3QpIHtcbiAgICAgIHRoaXMubGlzdC5mb3JFYWNoKGl0ZW0gPT4gaXRlbS5jaGVja2VkID0gdGhpcy5zZWxlY3RBbGwpO1xuICAgIH1cbiAgfVxuXG4gIGNoZWNrQWxsKCkge1xuICAgIGlmKHRoaXMubGlzdCkge1xuICAgICAgbGV0IHVuY2hlY2tlZExpc3QgPSB0aGlzLmxpc3QuZmlsdGVyKGl0ZW0gPT4gIWl0ZW0uY2hlY2tlZCk7XG4gICAgICBsZXQgbGVuID0gdW5jaGVja2VkTGlzdC5sZW5ndGg7XG5cbiAgICAgIGlmKGxlbiA+IDApIHtcbiAgICAgICAgdGhpcy5zZWxlY3RBbGwgPSBmYWxzZTtcbiAgICAgIH0gZWxzZSBpZiAobGVuID0gdGhpcy5saXN0Lmxlbmd0aCkge1xuICAgICAgICB0aGlzLnNlbGVjdEFsbCA9IHRydWU7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgYmF0Y2hNYXJrZWRSZWFkKCkge1xuICAgIGlmKHRoaXMubGlzdCkge1xuICAgICAgbGV0IGNoZWNrZWRMaXN0ID0gdGhpcy5saXN0LmZpbHRlcihpdGVtID0+IGl0ZW0uY2hlY2tlZCk7XG5cbiAgICAgIGNoZWNrZWRMaXN0LmZvckVhY2goaXRlbSA9PiBpdGVtLmlzUmVhZCA9IHRydWUpO1xuICAgIH1cbiAgfVxuXG4gIGJhdGNoUmVtb3ZlKCkge1xuICAgIGlmKHRoaXMubGlzdCkge1xuICAgICAgdGhpcy5saXN0ID0gdGhpcy5saXN0LmZpbHRlcihpdGVtID0+ICFpdGVtLmNoZWNrZWQpO1xuXG4gICAgICAvLyBjaGVja2VkTGlzdC5mb3JFYWNoKGl0ZW0gPT4gaXRlbS5pc1JlYWQgPSB0cnVlKTtcbiAgICAgIHRoaXMuX3RvYXN0ci5zdWNjZXNzKCfliKDpmaTmiJDlip8hJyk7XG4gICAgICB0aGlzLl9zdGF0ZS5yZWxvYWQoKTtcbiAgICB9XG4gIH1cblxuICBnZXRDaGVja2VkSWRzKCkge1xuICAgIGlmKHRoaXMubGlzdCkge1xuICAgICAgbGV0IGNoZWNrZWRMaXN0ID0gdGhpcy5saXN0LmZpbHRlcihpdGVtID0+IGl0ZW0uY2hlY2tlZCk7XG5cbiAgICAgIHJldHVybiBjaGVja2VkTGlzdC5tYXAoaXRlbSA9PiBpdGVtLmlkKTtcbiAgICB9XG5cbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICBtYXJrZWRSZWFkKCkge1xuICAgIGNvbnN0IGlkcyA9IHRoaXMuZ2V0Q2hlY2tlZElkcygpO1xuXG4gICAgaWYoaWRzICYmIGlkcy5sZW5ndGgpIHtcbiAgICAgIGNvbnNvbGUubG9nKGlkcyk7XG5cbiAgICAgIHRoaXMuX3NlcnZpY2UucmVhZCh7aWRzfSkudGhlbihkYXRhID0+IHtcbiAgICAgICAgLy8gdGhpcy5fdG9hc3RyLnN1Y2Nlc3MoJycpO1xuICAgICAgICB0aGlzLmJhdGNoTWFya2VkUmVhZCgpO1xuICAgICAgfSk7XG4gICAgfVxuICB9XG5cbiAgZGVsZXRlKCkge1xuICAgIGNvbnN0IGlkcyA9IHRoaXMuZ2V0Q2hlY2tlZElkcygpO1xuXG4gICAgaWYoaWRzICYmIGlkcy5sZW5ndGgpIHtcbiAgICAgIGNvbnNvbGUubG9nKGlkcyk7XG4gICAgICB0aGlzLl9zZXJ2aWNlLmRlbGV0ZSh7aWRzfSkudGhlbihkYXRhID0+IHtcbiAgICAgICAgLy8gdGhpcy5fdG9hc3RyLnN1Y2Nlc3MoJycpO1xuICAgICAgICB0aGlzLmJhdGNoUmVtb3ZlKCk7XG4gICAgICB9KTtcbiAgICB9XG4gIH1cblxuXG59XG5cbmV4cG9ydCBkZWZhdWx0IExpc3RDb250cm9sbGVyO1xuIiwiaW1wb3J0IENvbnRyb2xsZXIgZnJvbSAnLi9jdHJsJztcblxuY29uc3QgVGlwcyA9IHtcbiAgdGVtcGxhdGVVcmw6ICdtb2R1bGVzL3Byb2Nlc3MvdGlwcy90ZW1wbGF0ZS5odG1sJyxcbiAgY29udHJvbGxlcjogQ29udHJvbGxlcixcbiAgY29udHJvbGxlckFzOiAndm0nXG59O1xuXG5leHBvcnQgZGVmYXVsdCBUaXBzO1xuIiwiZnVuY3Rpb24gQ29uZmlnKCRzdGF0ZVByb3ZpZGVyKSB7XG4gICduZ0luamVjdCc7XG5cbiAgJHN0YXRlUHJvdmlkZXJcbiAgICAuc3RhdGUoJ3N5c2NvbmZpZycsIHtcbiAgICAgICAgdXJsOiAnL3N5c2NvbmZpZycsXG4gICAgICAgIGFic3RyYWN0OiB0cnVlLFxuICAgICAgICB0ZW1wbGF0ZSA6ICc8dWktdmlldz48L3VpLXZpZXc+JyxcbiAgICAgICAgdGl0bGU6ICfns7vnu5/orr7nva4nLFxuICAgICAgICBzaWRlYmFyTWV0YToge1xuICAgICAgICAgIGljb246ICdpY29uLXNpZGViYXJfbWVtYmVyc19pYycsXG4gICAgICAgICAgb3JkZXI6IDEwMDAsXG4gICAgICAgIH1cbiAgICB9KVxuICAgIC5zdGF0ZSgnc3lzY29uZmlnLnRpbWUnLCB7XG4gICAgICAgIHVybDogJy90aW1lJyxcbiAgICAgICAgdGVtcGxhdGU6ICc8dGltZS12aWV3PjwvdGltZS12aWV3PicsXG4gICAgICAgIHRpdGxlOiAn5Yi35paw5pe26Ze06K6+572uJyxcbiAgICAgICAgc2lkZWJhck1ldGE6IHtcbiAgICAgICAgICBvcmRlcjogMTBcbiAgICAgICAgfVxuICAgIH0pXG4gICAgO1xuXG59XG5cbmV4cG9ydCBkZWZhdWx0IENvbmZpZztcbiIsImltcG9ydCBhbmd1bGFyIGZyb20gJ2FuZ3VsYXInO1xuaW1wb3J0IGJvb3RzdHJhcCBmcm9tICdib290c3RyYXAnO1xuaW1wb3J0IGNvbmZpZyAgZnJvbSAnLi9jb25maWcnO1xuLy9pbXBvcnQgc2VydmljZSBmcm9tICcuL3NlcnZpY2UnO1xuaW1wb3J0IFRpbWVWaWV3IGZyb20gJy4vdGltZS8nO1xuXG5leHBvcnQgZGVmYXVsdCBhbmd1bGFyLm1vZHVsZSgnYXBwLm1vZHVsZXMuc3lzY29uZmlnJywgW10pXG4vLyAuZmlsdGVyKCdmaWx0ZXJUeXBlJywgZmlsdGVyVHlwZSlcbi8vLnNlcnZpY2UoJ3N5c2NvbmZpZ1NlcnZpY2UnLCBzZXJ2aWNlKVxuXG4uY29tcG9uZW50KCd0aW1lVmlldycsIFRpbWVWaWV3KVxuLmNvbmZpZyhjb25maWcpO1xuIiwiaW1wb3J0IFBhZ2luYXRpb24gZnJvbSAnLi4vLi4vLi4vY29yZS9jb21wb25lbnRzL21jUGFnaW5hdGlvbi9tYy1wYWdpbmF0aW9uLmNsYXNzJztcblxuY2xhc3MgTGlzdENvbnRyb2xsZXIgZXh0ZW5kcyBQYWdpbmF0aW9uIHtcblxuICBjb25zdHJ1Y3RvcigkaW5qZWN0b3IsICRzdGF0ZSwgJGxvY2F0aW9uLCAkc3RhdGVQYXJhbXMsIHRvYXN0ciwgJHVpYk1vZGFsLCBDb25maWdTZXJ2aWNlKSB7XG4gICAgJ25nSW5qZWN0JztcblxuICAgIHN1cGVyKCRpbmplY3Rvcik7XG5cbiAgICB0aGlzLl9zdGF0ZSA9ICRzdGF0ZTtcbiAgICB0aGlzLl9sb2NhdGlvbiA9ICRsb2NhdGlvbjtcbiAgICB0aGlzLl9zdGF0ZVBhcmFtcyA9ICRzdGF0ZVBhcmFtcztcbiAgICB0aGlzLl9tb2RhbCA9ICR1aWJNb2RhbDtcblxuICAgIHRoaXMuX3RvYXN0ciA9IHRvYXN0cjtcblxuICAgIHRoaXMuX3NlcnZpY2UgPSBDb25maWdTZXJ2aWNlO1xuXG4gICAgdGhpcy5maWx0ZXJzID0ge307XG4gICAgdGhpcy5faW5pdCgpO1xuXG4gIH1cblxuICBfaW5pdCgpIHtcbiAgICB0aGlzLl9nZXQoKTtcbiAgfVxuXG4gIFxuICBfZ2V0KCkge1xuICAgIC8vbGV0IHBhcmFtcyA9IHRoaXMuX2ZpbHRlckVtcHR5VmFsdWUoKTtcblxuICAgIHRoaXMuX3NlcnZpY2UuZ2V0KCdyZWZyZXNoX3RpbWUnKS50aGVuKGRhdGEgPT4ge1xuICAgICAgaWYodHlwZW9mKGRhdGEpID09ICdzdHJpbmcnKSB7XG4gICAgICAgIHRoaXMua2V5VmFsdWUgPSBkYXRhO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgc2V0Q29uZmlnKCkge1xuICAgIGNvbnN0IGRhdGEgPSB7XG4gICAgICBrZXk6IFwicmVmcmVzaF90aW1lXCIsXG4gICAgICB2YWx1ZTogdGhpcy5rZXlWYWx1ZVxuICAgIH07XG4gICAgdGhpcy5fc2VydmljZS5zZXQoZGF0YSkudGhlbihkYXRhID0+IHtcbiAgICAgIHRoaXMuX3RvYXN0ci5zdWNjZXNzKCforr7nva7miJDlip8nKTtcbiAgICAgIHRoaXMuY2FuY2VsKCk7XG4gICAgICB0aGlzLl9zdGF0ZS5yZWxvYWQoKTtcbiAgICB9KVxuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IExpc3RDb250cm9sbGVyO1xuIiwiaW1wb3J0IExpc3RDb250cm9sbGVyIGZyb20gJy4vY3RybCc7XG5cbmNvbnN0IExpc3QgPSB7XG4gIHRlbXBsYXRlVXJsOiAnbW9kdWxlcy9zeXNjb25maWcvdGltZS9pbmRleC5odG1sJyxcbiAgY29udHJvbGxlcjogTGlzdENvbnRyb2xsZXIsXG4gIGNvbnRyb2xsZXJBczogJ3ZtJ1xufTtcblxuZXhwb3J0IGRlZmF1bHQgTGlzdDtcbiIsImFuZ3VsYXIubW9kdWxlKFwiYXBwLnRlbXBsYXRlc1wiLCBbXSkucnVuKFtcIiR0ZW1wbGF0ZUNhY2hlXCIsIGZ1bmN0aW9uKCR0ZW1wbGF0ZUNhY2hlKSB7JHRlbXBsYXRlQ2FjaGUucHV0KFwibW9kdWxlcy9kYXNoYm9hcmQvZGFzaGJvYXJkLmh0bWxcIixcIjxzZWN0aW9uIGNsYXNzPVxcXCJjb250ZW50IGJvZHktY29udGVudCBib2R5LWNvbnRlbnQtY29tcGFjdCBibG9jay11aSBibG9jay11aS1tZXNzYWdlLWN1c3RvbSBkYXNoYm9hcmQtY29udGFpbmVyXFxcIj5cXG5cXG5pbmRleFxcblxcbjwvc2VjdGlvbj5cXG5cIik7XG4kdGVtcGxhdGVDYWNoZS5wdXQoXCJjb21tb24vY29tcG9uZW50cy9iYWNrLXRvcC9iYWNrLXRvcC5odG1sXCIsXCI8ZGl2IGNsYXNzPVxcXCJiYWNrLXRvLXRvcFxcXCI+PGk+PC9pPjwvZGl2PlxcblwiKTtcbiR0ZW1wbGF0ZUNhY2hlLnB1dChcImNvbW1vbi9jb21wb25lbnRzL2lubGluZS1uYXYvaW5saW5lLW5hdi5odG1sXCIsXCI8c2VjdGlvbiBjbGFzcz1cXFwiY29udGVudC1oZWFkZXIgaW5saW5lLW5hdmlnYXRpb25cXFwiPlxcbiAgPGg0IG5nLWlmPVxcXCIkY3RybC50aXRsZVxcXCI+e3sgJGN0cmwudGl0bGUgfX08L2g0PlxcbiAgPHVsIGNsYXNzPVxcXCJjbGVhcmZpeFxcXCI+XFxuICAgIDxsaSBuZy1yZXBlYXQ9XFxcIml0ZW0gaW4gJGN0cmwubmF2TGlzdFxcXCIgY2xhc3M9XFxcIm5hdi1pdGVtXFxcIj5cXG4gICAgICA8YSB1aS1zcmVmPVxcXCJ7eyBpdGVtLnN0YXRlUmVmIH19XFxcIiB1aS1zcmVmLWFjdGl2ZT1cXFwiYWN0aXZlXFxcIj57eyBpdGVtLnRpdGxlIH19PC9hPlxcbiAgICA8L2xpPlxcblxcbiAgICA8bGkgbmctcmVwZWF0PVxcXCJpdGVtIGluICRjdHJsLmJ0bkxpc3RcXFwiIGNsYXNzPVxcXCJidG4taXRlbSBwdWxsLXJpZ2h0XFxcIj5cXG4gICAgICA8YSB1aS1zcmVmPVxcXCJ7eyBpdGVtLnN0YXRlUmVmIH19XFxcIiBjbGFzcz1cXFwiYnRuIHt7IGl0ZW0uYnRuQ2xhc3MgfHwgXFwnYnRuLXN1Y2Nlc3NcXCcgfX0gbS1sLW1kXFxcIiBuZy1jbGljaz1cXFwiJGN0cmwuaGFuZGxlQ2xpY2soaXRlbSwgJGV2ZW50KTtcXFwiPnt7IGl0ZW0udGl0bGUgfX08L2E+XFxuICAgIDwvbGk+XFxuXFxuICAgIDxsaSBuZy1pZj1cXFwiJGN0cmwuYmFja0J0blxcXCIgY2xhc3M9XFxcImJ0bi1pdGVtIHB1bGwtcmlnaHRcXFwiPlxcbiAgICAgIDxhIGhyZWYgbmctY2xpY2s9XFxcIiRyb290LmJhY2soKVxcXCIgY2xhc3M9XFxcImJ0biBidG4tZGVmYXVsdFxcXCI+6L+U5ZuePC9hPlxcbiAgICA8L2xpPlxcbiAgPC91bD5cXG48L3NlY3Rpb24+XFxuXFxuPGRpdiBibG9jay11aT1cXFwibWFpblxcXCIgY2xhc3M9XFxcImJsb2NrLXVpLW1haW5cXFwiPlxcbiAgPGRpdiB1aS12aWV3PjwvZGl2PlxcbjwvZGl2PlxcblwiKTtcbiR0ZW1wbGF0ZUNhY2hlLnB1dChcImNvbW1vbi9jb21wb25lbnRzL21jLXN0ZXAvdGVtcGxhdGUuaHRtbFwiLFwiPHVsIGNsYXNzPVxcXCJtYy1zdGVwIGNsZWFyZml4IGNlbnRlci1ibG9ja1xcXCI+XFxuICA8bGkgbmctcmVwZWF0PVxcXCJpdGVtIGluIHZtLnN0ZXBMaXN0XFxcIiBuZy1jbGFzcz1cXFwie2FjdGl2ZTogaXRlbS52YWx1ZSA8PSB2bS5jdXJyZW50U3RlcCB9XFxcIj5cXG4gICAgPHA+e3tpdGVtLm5hbWV9fTwvcD5cXG4gICAgPGRpdiBjbGFzcz1cXFwic3RlcC1hcnJvd1xcXCI+PC9kaXY+XFxuICA8L2xpPlxcbjwvdWw+XFxuXCIpO1xuJHRlbXBsYXRlQ2FjaGUucHV0KFwiY29tbW9uL2RpcmVjdGl2ZXMvZmlsdGVyLWxpc3QvZmlsdGVyLWxpc3QuaHRtbFwiLFwiPGRpdiBjbGFzcz1cXFwib3B0aW9uLWl0ZW0ge3tjbGF6en19XFxcIj5cXG4gIDxzcGFuIGNsYXNzPVxcXCJpdGVtLXRpdGxlXFxcIj57e3RpdGxlfX3vvJo8L3NwYW4+XFxuICA8dWwgY2xhc3M9XFxcImNsZWFyZml4XFxcIj5cXG4gICAgPGxpPlxcbiAgICAgIDxhIGhyZWY9XFxcImphdmFzY3JpcHQ6O1xcXCIgY2xhc3M9XFxcImJ0biBidG4tdG9nZ2xlXFxcIiBuZy1jbGljaz1cXFwiY2xlYXJLZXl3b3JkRmlsdGVyKG51bGwpXFxcIlxcbiAgICAgICAgICBuZy1jbGFzcz1cXFwie2FjdGl2ZTogIWZpbHRlcnNbZmlsdGVyS2V5XX1cXFwiPuWFqOmDqDwvYT5cXG4gICAgPC9saT5cXG4gICAgPGxpIG5nLXJlcGVhdD1cXFwidHlwZSBpbiBsaXN0XFxcIj5cXG4gICAgICA8YSBocmVmPVxcXCJqYXZhc2NyaXB0OjtcXFwiIG5nLWNsaWNrPVxcXCJjbGVhcktleXdvcmRGaWx0ZXIodHlwZVtpdGVtSWQgfHwgXFwnaWRcXCddKVxcXCIgdGl0bGU9XFxcInt7dHlwZVtpdGVtTmFtZSB8fCBcXCduYW1lXFwnXX19XFxcIiBjbGFzcz1cXFwiYnRuIGJ0bi10b2dnbGVcXFwiXFxuICAgICAgICAgIG5nLWNsYXNzPVxcXCJ7YWN0aXZlOiBmaWx0ZXJzW2ZpbHRlcktleV0gPT0gdHlwZVtpdGVtSWQgfHwgXFwnaWRcXCddfVxcXCI+e3t0eXBlW2l0ZW1OYW1lIHx8IFxcJ25hbWVcXCddfX08L2E+XFxuICAgIDwvbGk+XFxuICA8L3VsPlxcbjwvZGl2PlxcblwiKTtcbiR0ZW1wbGF0ZUNhY2hlLnB1dChcImNvbW1vbi9kaXJlY3RpdmVzL21jQmF0Y2hVcGxvYWRCYW5rL2Vycm9yLmh0bWxcIixcIjxkaXYgY2xhc3M9XFxcIm1vZGFsLWJvZHlcXFwiPlxcbiAgPGg0PuWvvOWFpee7k+aenDwvaDQ+XFxuXFxuICA8cCBjbGFzcz1cXFwibS10LWxnXFxcIj5cXG4gICAg5a+85YWl5oiQ5YqfPHNwYW4gY2xhc3M9XFxcInRleHQtc3VjY2Vzc1xcXCI+e3t2bS5jb3VudH19PC9zcGFuPuadoe+8jOWksei0pTxzcGFuIGNsYXNzPVxcXCJ0ZXh0LWRhbmdlclxcXCI+e3t2bS5lcnJvckxpc3QubGVuZ3RofX08L3NwYW4+5p2h44CCXFxuICA8L3A+XFxuICA8ZGl2IGNsYXNzPVxcXCJwYW5lbFxcXCIgbmctaWY9XFxcInZtLmVycm9yTGlzdC5sZW5ndGhcXFwiPlxcbiAgICA8dGFibGUgY2xhc3M9XFxcInRhYmxlIHRhYmxlLXN0cmlwZWQgdGV4dC1jZW50ZXJcXFwiPlxcbiAgICAgIDx0cj5cXG4gICAgICAgIDx0aCBjbGFzcz1cXFwidGV4dC1jZW50ZXIgY29sLXNtLTFcXFwiPuacuuaehOWQjeensDwvdGg+XFxuICAgICAgICA8dGggY2xhc3M9XFxcInRleHQtY2VudGVyIGNvbC1zbS0xXFxcIj7kuIrnuqfmnLrmnoQ8L3RoPlxcbiAgICAgICAgPHRoIGNsYXNzPVxcXCJ0ZXh0LWNlbnRlciBjb2wtc20tMVxcXCI+5aSx6LSl5Y6f5ZugPC90aD5cXG4gICAgICA8L3RyPlxcbiAgICAgIDx0ciBuZy1yZXBlYXQ9XFxcIml0ZW0gaW4gdm0uZXJyb3JMaXN0XFxcIj5cXG4gICAgICAgIDx0ZD57e2l0ZW0uZGF0YVswXX19PC90ZD5cXG4gICAgICAgIDx0ZD57e2l0ZW0uZGF0YVsxXX19PC90ZD5cXG4gICAgICAgIDx0ZD48c3BhbiBjbGFzcz1cXFwidGV4dC1kYW5nZXJcXFwiPnt7aXRlbS5yZWFzb259fTwvc3Bhbj48L3RkPlxcbiAgICAgIDwvdHI+XFxuICAgIDwvdGFibGU+XFxuICA8L2Rpdj5cXG4gIDxkaXYgY2xhc3M9XFxcIm1vZGFsLWZvb3RlclxcXCI+XFxuICAgIDxidXR0b24gdHlwZT1cXFwiYnV0dG9uXFxcIiBjbGFzcz1cXFwiYnRuIGJ0bi1zdWNjZXNzIGJ0bi1zbVxcXCIgbmctY2xpY2s9XFxcInZtLmNhbmNlbCgpXFxcIj7noa7lrpo8L2J1dHRvbj5cXG4gIDwvZGl2PlxcbjwvZGl2PlxcblxcblxcblwiKTtcbiR0ZW1wbGF0ZUNhY2hlLnB1dChcImNvbW1vbi9kaXJlY3RpdmVzL21jQmF0Y2hVcGxvYWRCYW5rL3RlbXBsYXRlLmh0bWxcIixcIjxkaXYgY2xhc3M9XFxcIm1vZGFsLWJvZHlcXFwiPlxcbiAgPGg0PuWmguS9leaJuemHj+WvvOWFpTwvaDQ+XFxuXFxuICA8cCBjbGFzcz1cXFwibS10LWxnXFxcIj4xLuS4i+i9veOAiuacuuaehOaVsOaNruWvvOWFpeaooeadv+OAi+OAglxcbiAgICA8YSB0YXJnZXQ9XFxcIl9ibGFua1xcXCIgbmctaHJlZj1cXFwie3sgdm0uZG93bmxvYWRfdXJsIH19XFxcIj7ngrnmiJHkuIvovb08L2E+XFxuICA8L3A+XFxuXFxuICA8cD4yLuWwhuacuuaehOaVsOaNruWhq+WFpeaooeadv+S4reS/neWtmOOAgjwvcD5cXG5cXG4gIDxwPjMu54K55Ye75LiK5Lyg44CCPC9wPlxcblxcbiAgPGJ1dHRvbiBjbGFzcz1cXFwiYnRuIGJ0bi1zdWNjZXNzIGNlbnRlci1ibG9ja1xcXCIgaWQ9XFxcInVwbG9hZF9idXR0b25cXFwiIG5nLWNsaWNrPVxcXCJ2bS51cGxvYWRGaWxlKCRldmVudClcXFwiPuS4iuS8oDwvYnV0dG9uPlxcbiAgPGZvcm0gY2xhc3M9XFxcImRyb3B6b25lXFxcIiBuZy1oaWRlPVxcXCIxXFxcIiBtZXRob2Q9XFxcInBvc3RcXFwiIGVuY3R5cGU9XFxcIm11bHRpcGFydC9mb3JtLWRhdGFcXFwiIG5nLWRyb3B6b25lIGRyb3B6b25lPVxcXCJkcm9wem9uZVxcXCJcXG4gICAgICAgIGRyb3B6b25lLWNvbmZpZz1cXFwidm0uZHJvcHpvbmVDb25maWdcXFwiPlxcbiAgICA8aW5wdXQgdHlwZT1cXFwiaGlkZGVuXFxcIiBuYW1lPVxcXCJleHRyYVxcXCIgdmFsdWU9XFxcInt7QVVUSE9SSVpBVElPTl9UT0tFTn19XFxcIj5cXG4gICAgPGlucHV0IG5hbWU9XFxcImZpbGVcXFwiIHR5cGU9XFxcImZpbGVcXFwiIG11bHRpcGxlLz5cXG4gIDwvZm9ybT5cXG48L2Rpdj5cXG5cXG5cXG5cIik7XG4kdGVtcGxhdGVDYWNoZS5wdXQoXCJjb21tb24vZGlyZWN0aXZlcy9tY0JhdGNoVXBsb2FkVXNlci9lcnJvci5odG1sXCIsXCI8ZGl2IGNsYXNzPVxcXCJtb2RhbC1ib2R5XFxcIj5cXG4gIDxoND7lr7zlhaXnu5Pmnpw8L2g0PlxcblxcbiAgPHAgY2xhc3M9XFxcIm0tdC1sZ1xcXCI+XFxuICAgIOWvvOWFpeaIkOWKnzxzcGFuIGNsYXNzPVxcXCJ0ZXh0LXN1Y2Nlc3NcXFwiPnt7dm0uY291bnR9fTwvc3Bhbj7mnaHvvIzlpLHotKU8c3BhbiBjbGFzcz1cXFwidGV4dC1kYW5nZXJcXFwiPnt7dm0uZXJyb3JMaXN0Lmxlbmd0aH19PC9zcGFuPuadoeOAglxcbiAgPC9wPlxcbiAgPGRpdiBjbGFzcz1cXFwicGFuZWxcXFwiIG5nLWlmPVxcXCJ2bS5lcnJvckxpc3QubGVuZ3RoXFxcIj5cXG4gICAgPHRhYmxlIGNsYXNzPVxcXCJ0YWJsZSB0YWJsZS1zdHJpcGVkIHRleHQtY2VudGVyXFxcIj5cXG4gICAgICA8dHI+XFxuICAgICAgICA8dGggY2xhc3M9XFxcInRleHQtY2VudGVyIGNvbC1zbS0xXFxcIj7miYvmnLrlj7c8L3RoPlxcbiAgICAgICAgPHRoIGNsYXNzPVxcXCJ0ZXh0LWNlbnRlciBjb2wtc20tMVxcXCI+5aeT5ZCNPC90aD5cXG4gICAgICAgIDx0aCBjbGFzcz1cXFwidGV4dC1jZW50ZXIgY29sLXNtLTFcXFwiPuWksei0peWOn+WboDwvdGg+XFxuICAgICAgPC90cj5cXG4gICAgICA8dHIgbmctcmVwZWF0PVxcXCJpdGVtIGluIHZtLmVycm9yTGlzdFxcXCI+XFxuICAgICAgICA8dGQ+e3tpdGVtLmRhdGFbMF19fTwvdGQ+XFxuICAgICAgICA8dGQ+e3tpdGVtLmRhdGFbMV19fTwvdGQ+XFxuICAgICAgICA8dGQ+PHNwYW4gY2xhc3M9XFxcInRleHQtZGFuZ2VyXFxcIj57e2l0ZW0ucmVhc29ufX08L3NwYW4+PC90ZD5cXG4gICAgICA8L3RyPlxcbiAgICA8L3RhYmxlPlxcbiAgPC9kaXY+XFxuICA8ZGl2IGNsYXNzPVxcXCJtb2RhbC1mb290ZXJcXFwiPlxcbiAgICA8YnV0dG9uIHR5cGU9XFxcImJ1dHRvblxcXCIgY2xhc3M9XFxcImJ0biBidG4tc3VjY2VzcyBidG4tc21cXFwiIG5nLWNsaWNrPVxcXCJ2bS5jYW5jZWwoKVxcXCI+56Gu5a6aPC9idXR0b24+XFxuICA8L2Rpdj5cXG48L2Rpdj5cXG5cXG5cXG5cIik7XG4kdGVtcGxhdGVDYWNoZS5wdXQoXCJjb21tb24vZGlyZWN0aXZlcy9tY0JhdGNoVXBsb2FkVXNlci90ZW1wbGF0ZS5odG1sXCIsXCI8ZGl2IGNsYXNzPVxcXCJtb2RhbC1ib2R5XFxcIj5cXG5cXG4gIDxoND7lpoLkvZXmibnph4/lr7zlhaU8L2g0PlxcblxcbiAgPHAgY2xhc3M9XFxcIm0tdC1sZ1xcXCI+MS7kuIvovb3jgIrnlKjmiLflr7zlhaXmqKHmnb/jgIvjgIJcXG4gICAgPGEgdGFyZ2V0PVxcXCJfYmxhbmtcXFwiIG5nLWhyZWY9XFxcInt7IHZtLmRvd25sb2FkX3VybCB9fVxcXCI+54K55oiR5LiL6L29PC9hPlxcbiAgPC9wPlxcblxcbiAgPHA+Mi7lsIbnlKjmiLfmlbDmja7loavlhaXmqKHmnb/kuK3kv53lrZjjgII8L3A+XFxuXFxuICA8cD4zLueCueWHu+S4iuS8oOOAgjwvcD5cXG5cXG4gIDxidXR0b24gY2xhc3M9XFxcImJ0biBidG4tc3VjY2VzcyBjZW50ZXItYmxvY2tcXFwiIGlkPVxcXCJ1cGxvYWRfYnV0dG9uXFxcIiBuZy1jbGljaz1cXFwidm0udXBsb2FkRmlsZSgkZXZlbnQpXFxcIj7kuIrkvKA8L2J1dHRvbj5cXG4gIDxmb3JtIGNsYXNzPVxcXCJkcm9wem9uZVxcXCIgbmctaGlkZT1cXFwiMVxcXCIgbWV0aG9kPVxcXCJwb3N0XFxcIiBlbmN0eXBlPVxcXCJtdWx0aXBhcnQvZm9ybS1kYXRhXFxcIiBuZy1kcm9wem9uZSBkcm9wem9uZT1cXFwiZHJvcHpvbmVcXFwiXFxuICAgICAgICBkcm9wem9uZS1jb25maWc9XFxcInZtLmRyb3B6b25lQ29uZmlnXFxcIj5cXG4gICAgPGlucHV0IHR5cGU9XFxcImhpZGRlblxcXCIgbmFtZT1cXFwiZXh0cmFcXFwiIHZhbHVlPVxcXCJ7e0FVVEhPUklaQVRJT05fVE9LRU59fVxcXCI+XFxuICAgIDxpbnB1dCBuYW1lPVxcXCJmaWxlXFxcIiB0eXBlPVxcXCJmaWxlXFxcIiBtdWx0aXBsZS8+XFxuICA8L2Zvcm0+XFxuXFxuPC9kaXY+XFxuXCIpO1xuJHRlbXBsYXRlQ2FjaGUucHV0KFwiY29tbW9uL2RpcmVjdGl2ZXMvbWNCYXRjaFVwbG9hZFZjL2Vycm9yLmh0bWxcIixcIjxkaXYgY2xhc3M9XFxcIm1vZGFsLWJvZHlcXFwiPlxcbiAgPGg0PuWvvOWFpee7k+aenDwvaDQ+XFxuXFxuICA8cCBjbGFzcz1cXFwibS10LWxnXFxcIj5cXG4gICAg5a+85YWl5oiQ5YqfPHNwYW4gY2xhc3M9XFxcInRleHQtc3VjY2Vzc1xcXCI+e3t2bS5jb3VudH19PC9zcGFuPuadoe+8jOWksei0pTxzcGFuIGNsYXNzPVxcXCJ0ZXh0LWRhbmdlclxcXCI+e3t2bS5lcnJvckxpc3QubGVuZ3RofX08L3NwYW4+5p2h44CCXFxuICA8L3A+XFxuICA8ZGl2IGNsYXNzPVxcXCJwYW5lbFxcXCIgbmctaWY9XFxcInZtLmVycm9yTGlzdC5sZW5ndGhcXFwiPlxcbiAgICA8dGFibGUgY2xhc3M9XFxcInRhYmxlIHRhYmxlLXN0cmlwZWQgdGV4dC1jZW50ZXJcXFwiPlxcbiAgICAgIDx0cj5cXG4gICAgICAgIDx0aCBjbGFzcz1cXFwidGV4dC1jZW50ZXIgY29sLXNtLTFcXFwiPuWFrOWPuOWQjeensDwvdGg+XFxuICAgICAgICA8dGggY2xhc3M9XFxcInRleHQtY2VudGVyIGNvbC1zbS0xXFxcIj7lhazlj7jnroDnp7A8L3RoPlxcbiAgICAgICAgPHRoIGNsYXNzPVxcXCJ0ZXh0LWNlbnRlciBjb2wtc20tMVxcXCI+5aSx6LSl5Y6f5ZugPC90aD5cXG4gICAgICA8L3RyPlxcbiAgICAgIDx0ciBuZy1yZXBlYXQ9XFxcIml0ZW0gaW4gdm0uZXJyb3JMaXN0XFxcIj5cXG4gICAgICAgIDx0ZD57e2l0ZW0uZGF0YVswXX19PC90ZD5cXG4gICAgICAgIDx0ZD57e2l0ZW0uZGF0YVsxXX19PC90ZD5cXG4gICAgICAgIDx0ZD48c3BhbiBjbGFzcz1cXFwidGV4dC1kYW5nZXJcXFwiPnt7aXRlbS5yZWFzb259fTwvc3Bhbj48L3RkPlxcbiAgICAgIDwvdHI+XFxuICAgIDwvdGFibGU+XFxuICA8L2Rpdj5cXG4gIDxkaXYgY2xhc3M9XFxcIm1vZGFsLWZvb3RlclxcXCI+XFxuICAgIDxidXR0b24gdHlwZT1cXFwiYnV0dG9uXFxcIiBjbGFzcz1cXFwiYnRuIGJ0bi1zdWNjZXNzIGJ0bi1zbVxcXCIgbmctY2xpY2s9XFxcInZtLmNhbmNlbCgpXFxcIj7noa7lrpo8L2J1dHRvbj5cXG4gIDwvZGl2PlxcbjwvZGl2PlxcblxcblxcblwiKTtcbiR0ZW1wbGF0ZUNhY2hlLnB1dChcImNvbW1vbi9kaXJlY3RpdmVzL21jQmF0Y2hVcGxvYWRWYy90ZW1wbGF0ZS5odG1sXCIsXCI8ZGl2IGNsYXNzPVxcXCJtb2RhbC1ib2R5XFxcIj5cXG4gIDxoND7lpoLkvZXmibnph4/lr7zlhaU8L2g0PlxcblxcbiAgPHAgY2xhc3M9XFxcIm0tdC1sZ1xcXCI+MS7kuIvovb3jgIrmipXotYTmnLrmnoTmlbDmja7lr7zlhaXmqKHmnb/jgIvjgIJcXG4gICAgPGEgdGFyZ2V0PVxcXCJfYmxhbmtcXFwiIG5nLWhyZWY9XFxcInt7IHZtLmRvd25sb2FkX3VybCB9fVxcXCI+54K55oiR5LiL6L29PC9hPlxcbiAgPC9wPlxcblxcbiAgPHA+Mi7lsIbmipXotYTmnLrmnoTmlbDmja7loavlhaXmqKHmnb/kuK3kv53lrZjjgII8L3A+XFxuXFxuICA8cD4zLueCueWHu+S4iuS8oOOAgjwvcD5cXG5cXG4gIDxidXR0b24gY2xhc3M9XFxcImJ0biBidG4tc3VjY2VzcyBjZW50ZXItYmxvY2tcXFwiIGlkPVxcXCJ1cGxvYWRfYnV0dG9uXFxcIiBuZy1jbGljaz1cXFwidm0udXBsb2FkRmlsZSgkZXZlbnQpXFxcIj7kuIrkvKA8L2J1dHRvbj5cXG4gIDxmb3JtIGNsYXNzPVxcXCJkcm9wem9uZVxcXCIgbmctaGlkZT1cXFwiMVxcXCIgbWV0aG9kPVxcXCJwb3N0XFxcIiBlbmN0eXBlPVxcXCJtdWx0aXBhcnQvZm9ybS1kYXRhXFxcIiBuZy1kcm9wem9uZSBkcm9wem9uZT1cXFwiZHJvcHpvbmVcXFwiXFxuICAgICAgICBkcm9wem9uZS1jb25maWc9XFxcInZtLmRyb3B6b25lQ29uZmlnXFxcIj5cXG4gICAgPGlucHV0IHR5cGU9XFxcImhpZGRlblxcXCIgbmFtZT1cXFwiZXh0cmFcXFwiIHZhbHVlPVxcXCJ7e0FVVEhPUklaQVRJT05fVE9LRU59fVxcXCI+XFxuICAgIDxpbnB1dCBuYW1lPVxcXCJmaWxlXFxcIiB0eXBlPVxcXCJmaWxlXFxcIiBtdWx0aXBsZS8+XFxuICA8L2Zvcm0+XFxuPC9kaXY+XFxuXFxuXFxuXCIpO1xuJHRlbXBsYXRlQ2FjaGUucHV0KFwiY29yZS9jb21wb25lbnRzL21jQ29udGVudEhlYWRlci9tY0NvbnRlbnRIZWFkZXIuaHRtbFwiLFwiPHNlY3Rpb24gY2xhc3M9XFxcImNvbnRlbnQtaGVhZGVyXFxcIj5cXG4gIGhlYWRlclxcbjwvc2VjdGlvbj5cXG5cIik7XG4kdGVtcGxhdGVDYWNoZS5wdXQoXCJjb3JlL2NvbXBvbmVudHMvbWNNYWluSGVhZGVyL21jTWFpbkhlYWRlci5odG1sXCIsXCI8aGVhZGVyIGNsYXNzPVxcXCJtYWluLWhlYWRlciBjbGVhcmZpeFxcXCI+XFxuICA8bmF2IGNsYXNzPVxcXCJuYXZiYXIgbmF2YmFyLXN0YXRpYy10b3BcXFwiPlxcbiAgICA8dWwgY2xhc3M9XFxcIm5hdiBuYXZiYXItbmF2IHB1bGwtcmlnaHRcXFwiPlxcbiAgICAgIDxsaT5cXG4gICAgICAgIDxhIGhyZWY9XFxcImphdmFzY3JpcHQ6O1xcXCIgdWktc3JlZj1cXFwibWVzc2FnZS5saXN0XFxcIiB1aS1zcmVmLWFjdGl2ZT1cXFwiYWN0aXZlXFxcIiBjbGFzcz1cXFwibWMtbWVzc2FnZVxcXCI+XFxuICAgICAgICAgIDxpIGNsYXNzPVxcXCJpY29uLWhlYWRlcl9tZXNzYWdlX2ljXFxcIj48L2k+XFxuICAgICAgICAgIDxzcGFuIGNsYXNzPVxcXCJiYWNrZW5cXFwiIG5nLWlmPVxcXCJ2bS5tc2dfY291bnRcXFwiPnt7dm0ubXNnX2NvdW50fX08L3NwYW4+XFxuICAgICAgICA8L2E+XFxuICAgICAgPC9saT5cXG4gICAgICA8bGk+PGEgaHJlZj1cXFwiamF2YXNjcmlwdDo7XFxcIiBuZy1jbGljaz1cXFwidm0ubG9nb3V0KClcXFwiPjxpIGNsYXNzPVxcXCJpY29uLWhlYWRlcl9leGl0X2ljXFxcIj48L2k+PC9hPjwvbGk+XFxuICAgICAgPGxpIGNsYXNzPVxcXCJkaXZpZGVyXFxcIj48L2xpPlxcbiAgICAgIDxsaSBjbGFzcz1cXFwidXNlci1wcm9maWxlXFxcIj5cXG4gICAgICAgIDxhIGhyZWY9XFxcImphdmFzY3JpcHQ6O1xcXCIgdWktc3JlZj1cXFwicGVyc29uLmRldGFpbFxcXCI+XFxuICAgICAgICAgIDwhLS0gPGltZyBuZy1zcmM9XFxcInt7dm0uaW5mby5hdmF0YXJ9fVxcXCIgYWx0PVxcXCJ7e3ZtLmluZm8ubmFtZX19XFxcIj4gLS0+XFxuICAgICAgICAgIDxzcGFuPuaCqOWlve+8jHt7dm0uaW5mby5uYW1lfX08L3NwYW4+XFxuICAgICAgICA8L2E+XFxuICAgICAgPC9saT5cXG4gICAgPC91bD5cXG4gIDwvbmF2PlxcbjwvaGVhZGVyPlxcblwiKTtcbiR0ZW1wbGF0ZUNhY2hlLnB1dChcImNvcmUvY29tcG9uZW50cy9tY1BhZ2luYXRpb24vaW5kZXguaHRtbFwiLFwiXFxuPGRpdiBjbGFzcz1cXFwicm93IHRleHQtY2VudGVyXFxcIiBuZy1pZj1cXFwidm0udG90YWxJdGVtc1xcXCI+XFxuICA8dWliLXBhZ2luYXRpb24gdG90YWwtaXRlbXM9XFxcInZtLnRvdGFsSXRlbXNcXFwiIGl0ZW1zLXBlci1wYWdlPVxcXCJ2bS5pdGVtc1BlclBhZ2VcXFwiIG1heC1zaXplPVxcXCI1XFxcIiBuZy1tb2RlbD1cXFwidm0uY3VycmVudFBhZ2VcXFwiIG5nLWNoYW5nZT1cXFwidm0ucGFnZUNoYW5nZWQoKVxcXCIgZmlyc3QtdGV4dD1cXFwi6aaW6aG1XFxcIiBsYXN0LXRleHQ9XFxcIuWwvumhtVxcXCIgcHJldmlvdXMtdGV4dD1cXFwiJmx0OyZsdDtcXFwiIG5leHQtdGV4dD1cXFwiJmd0OyZndDtcXFwiIGJvdW5kYXJ5LWxpbmtzPVxcXCJ0cnVlXFxcIj48L3VpYi1wYWdpbmF0aW9uPlxcbjwvZGl2PlxcblwiKTtcbiR0ZW1wbGF0ZUNhY2hlLnB1dChcImNvcmUvY29tcG9uZW50cy9tY1BpY2tlci90ZW1wbGF0ZS5odG1sXCIsXCI8ZGl2IGNsYXNzPVxcXCJtb2RhbC1waWNrZXJcXFwiPlxcbiAgPGRpdiBjbGFzcz1cXFwibW9kYWwtaGVhZGVyXFxcIj5cXG4gICAgPGRpdiBjbGFzcz1cXFwicGlja2VyLWhlYWRlci1pbmZvIHB1bGwtcmlnaHRcXFwiPlxcbiAgICAgIDxidXR0b24gdHlwZT1cXFwiYnV0dG9uXFxcIiBjbGFzcz1cXFwiY2xvc2VcXFwiIGRhdGEtZGlzbWlzcz1cXFwibW9kYWxcXFwiIGFyaWEtbGFiZWw9XFxcIkNsb3NlXFxcIiBuZy1jbGljaz1cXFwidm0uY2FuY2VsKCk7XFxcIj5cXG4gICAgICAgIDxzcGFuIGFyaWEtaGlkZGVuPVxcXCJ0cnVlXFxcIj4mdGltZXM7PC9zcGFuPlxcbiAgICAgIDwvYnV0dG9uPlxcbiAgICAgIOWFsSB7e3ZtLmxpc3QubGVuZ3RofX0ge3t2bS5vcHRpb25zLml0ZW1Vbml0fX17e3ZtLm9wdGlvbnMuaXRlbVR5cGV9fVxcbiAgICA8L2Rpdj5cXG5cXG5cXG4gICAgPGg0IGNsYXNzPVxcXCJtb2RhbC10aXRsZVxcXCI+e3t2bS5vcHRpb25zLnRpdGxlfX08L2g0PlxcbiAgPC9kaXY+XFxuICA8ZGl2IGNsYXNzPVxcXCJtb2RhbC1waWNrZXItYm9keSBjbGVhcmZpeFxcXCI+XFxuICAgIDxkaXYgY2xhc3M9XFxcInBpY2tlci1pdGVtc1xcXCI+XFxuICAgICAgPGRpdiBjbGFzcz1cXFwiaXRlbS1zZWFyY2hcXFwiPlxcbiAgICAgICAgPGRpdiBjbGFzcz1cXFwiaW5wdXQtZ3JvdXAgc2VhcmNoLWJveFxcXCI+XFxuICAgICAgICAgIDxpbnB1dCB0eXBlPVxcXCJ0ZXh0XFxcIiBwbGFjZWhvbGRlcj1cXFwie3t2bS5vcHRpb25zLnNlYXJjaFBsYWNlaG9sZGVyfX1cXFwiIG5nLW1vZGVsPVxcXCJ2bS5rZXl3b3JkXFxcIiBjbGFzcz1cXFwiZm9ybS1jb250cm9sXFxcIj5cXG4gICAgICAgICAgPHNwYW4gY2xhc3M9XFxcImlucHV0LWdyb3VwLWJ0blxcXCI+XFxuICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz1cXFwiYnRuIGJ0bi1kZWZhdWx0IHNlYXJjaFxcXCIgdHlwZT1cXFwiYnV0dG9uXFxcIj48aSBjbGFzcz1cXFwiaWNvbi1zZWFyY2hcXFwiPjwvaT48L2J1dHRvbj5cXG4gICAgICAgICAgPC9zcGFuPlxcbiAgICAgICAgPC9kaXY+XFxuICAgICAgPC9kaXY+XFxuICAgICAgPGRsPlxcbiAgICAgICAgPCEtLSA8ZHQ+QTwvZHQ+IC0tPlxcbiAgICAgICAgPGRkPlxcbiAgICAgICAgICA8bGFiZWwgY2xhc3M9XFxcIml0ZW0gY2xlYXJmaXhcXFwiIG5nLXJlcGVhdD1cXFwiaXRlbSBpbiB2bS5saXN0IHwgZmlsdGVyOiB2bS5rZXl3b3JkXFxcIj5cXG4gICAgICAgICAgICA8aW1nIG5nLXNyYz1cXFwie3tpdGVtLmF2YXRhcn19XFxcIiBhbHQ9XFxcInt7aXRlbS5uYW1lfX1cXFwiIGNsYXNzPVxcXCJpbWctY2lyY2xlIGF2YXRhci1zbWFsbFxcXCI+XFxuICAgICAgICAgICAgPHA+e3tpdGVtLm5hbWV9fTwvcD5cXG4gICAgICAgICAgICA8c3BhbiBjbGFzcz1cXFwibWMtcmFkaW9cXFwiPlxcbiAgICAgICAgICAgICAgPGlucHV0IHR5cGU9XFxcImNoZWNrYm94XFxcIiBuYW1lPVxcXCJpdGVtc1tdXFxcIiB2YWx1ZT1cXFwie3tpdGVtLmlkfX1cXFwiIG5nLWNsaWNrPVxcXCJ2bS50b2dnbGVJdGVtU2VsZWN0ZWQoaXRlbSlcXFwiIG5nLWNoZWNrZWQ9XFxcIml0ZW0uc2VsZWN0ZWRcXFwiPlxcbiAgICAgICAgICAgICAgPGkgY2xhc3M9XFxcImljb24tY2hlY2tcXFwiPjwvaT5cXG4gICAgICAgICAgICA8L3NwYW4+XFxuICAgICAgICAgIDwvbGFiZWw+XFxuICAgICAgICA8L2RkPlxcbiAgICAgICAgPCEtLSA8ZHQ+QzwvZHQ+XFxuICAgICAgICA8ZGQ+XFxuICAgICAgICA8L2RkPiAtLT5cXG4gICAgICA8L2RsPlxcbiAgICA8L2Rpdj5cXG4gICAgPGRpdiBjbGFzcz1cXFwicGlja2VyLXJlc3VsdFxcXCI+XFxuICAgICAgPGg2PuW3sumAieaLqSB7e3ZtLnNlbGVjdGlvbkl0ZW0ubGVuZ3RofX0ge3t2bS5vcHRpb25zLml0ZW1Vbml0fX17e3ZtLm9wdGlvbnMuaXRlbVBvc2l0aW9ufX0gPHNwYW4gbmctaWY9XFxcInZtLm9wdGlvbnMubWF4ID4gMFxcXCI+77yI5pyA5aSa5Y+v6YCJ5oupe3t2bS5vcHRpb25zLm1heH19IHt7dm0ub3B0aW9ucy5pdGVtVW5pdH1977yJPC9zcGFuPjwvaDY+XFxuICAgICAgPHVsIG5nLWlmPVxcXCJ2bS5zZWxlY3Rpb25JdGVtLmxlbmd0aCA+IDBcXFwiPlxcbiAgICAgICAgPGxpIGNsYXNzPVxcXCJpdGVtIGNsZWFyZml4XFxcIiBuZy1yZXBlYXQ9XFxcIml0ZW0gaW4gdm0uc2VsZWN0aW9uSXRlbVxcXCI+XFxuICAgICAgICAgIDxpbWcgbmctc3JjPVxcXCJ7e2l0ZW0uYXZhdGFyfX1cXFwiIGFsdD1cXFwie3tpdGVtLm5hbWV9fVxcXCIgY2xhc3M9XFxcImltZy1jaXJjbGUgYXZhdGFyLXNtYWxsXFxcIj5cXG4gICAgICAgICAgPHA+e3tpdGVtLm5hbWV9fTwvcD5cXG4gICAgICAgICAgPHA+e3t2bS5vcHRpb25zLml0ZW1Qb3NpdGlvbn19PC9wPlxcbiAgICAgICAgICA8aSBjbGFzcz1cXFwiaWNvbi1jbG9zZVxcXCIgbmctY2xpY2s9XFxcInZtLnRvZ2dsZUl0ZW1TZWxlY3RlZChpdGVtKVxcXCI+PC9pPlxcbiAgICAgICAgPC9saT5cXG4gICAgICA8L3VsPlxcbiAgICA8L2Rpdj5cXG4gIDwvZGl2PlxcblxcbiAgPGRpdiBjbGFzcz1cXFwibW9kYWwtZm9vdGVyXFxcIj5cXG4gICAgPGJ1dHRvbiB0eXBlPVxcXCJidXR0b25cXFwiIGNsYXNzPVxcXCJidG4gYnRuLWRlZmF1bHQgYnRuLXNtXFxcIiBuZy1jbGljaz1cXFwidm0uY2FuY2VsKClcXFwiPuWPlua2iDwvYnV0dG9uPlxcbiAgICA8YnV0dG9uIHR5cGU9XFxcImJ1dHRvblxcXCIgY2xhc3M9XFxcImJ0biBidG4tc3VjY2VzcyBidG4tc21cXFwiIG5nLWNsYXNzPVxcXCJ7ZGlzYWJsZWQ6ICh2bS5zZWxlY3Rpb25JdGVtLmxlbmd0aCA8IHZtLm9wdGlvbnMubWluIHx8ICh2bS5vcHRpb25zLm1heCAmJiB2bS5zZWxlY3Rpb25JdGVtLmxlbmd0aCA+IHZtLm9wdGlvbnMubWF4KSl9XFxcIiBuZy1jbGljaz1cXFwidm0ub2soKVxcXCI+56Gu5a6aPC9idXR0b24+XFxuICA8L2Rpdj5cXG48L2Rpdj5cXG5cIik7XG4kdGVtcGxhdGVDYWNoZS5wdXQoXCJjb3JlL2NvbXBvbmVudHMvbWNTaWRlYmFyL21jU2lkZWJhci5odG1sXCIsXCI8YXNpZGUgY2xhc3M9XFxcIm1haW4tc2lkZWJhclxcXCI+XFxuICA8ZGl2IGNsYXNzPVxcXCJoZWFkZXIgdGV4dC1jZW50ZXJcXFwiPlxcbiAgICA8aW1nIG5nLXNyYz1cXFwie3tzaWRlYmFyLmluZm8uYXZhdGFyfX1cXFwiIGNsYXNzPVxcXCJhdmF0YXItbWlkZGxlIGltZy1jaXJjbGUgc2lkZWJhci1sb2dvXFxcIiBhbHQ9XFxcInt7c2lkZWJhci5pbmZvLm5hbWV9fVxcXCIgc3R5bGU9XFxcImJhY2tncm91bmQ6ICMyZjM3NDY7XFxcIj5cXG4gICAgPGg2IGNsYXNzPVxcXCJtLXRcXFwiPnt7c2lkZWJhci5pbmZvLm5hbWV9fTwvaDY+XFxuICA8L2Rpdj5cXG5cXG4gIDwhLS0gbGVmdCBzaWRlYmFyIG1lbnUgLS0+XFxuICA8dWwgY2xhc3M9XFxcInNpZGViYXItbGlzdFxcXCIgc2xpbXNjcm9sbD1cXFwie2hlaWdodDogXFwne3ttZW51SGVpZ2h0fX1weFxcJ31cXFwiIHNsaW1zY3JvbGwtd2F0Y2g9XFxcIm1lbnVIZWlnaHRcXFwiPlxcbiAgICA8bGkgbmctcmVwZWF0PVxcXCJpdGVtIGluIHNpZGViYXIubWVudUl0ZW1zXFxcIiBjbGFzcz1cXFwic2lkZWJhci1saXN0LWl0ZW1cXFwiIG5nLWNsYXNzPVxcXCJ7XFwnd2l0aC1zdWItbWVudVxcJzogaXRlbS5zdWJNZW51fVxcXCJcXG4gICAgICAgIHVpLXNyZWYtYWN0aXZlPVxcXCJzZWxlY3RlZFxcXCIgbWMtc2lkZWJhci10b2dnbGluZy1pdGVtPVxcXCJpdGVtXFxcIiBuZy1pZj1cXFwic2lkZWJhci5hY2Nlc3NbaXRlbS5uYW1lXVxcXCI+XFxuXFxuICAgICAgPGEgbmctaWY9XFxcIiFpdGVtLnN1Yk1lbnVcXFwiIHVpLXN0YXRlPVxcXCJpdGVtLnN0YXRlUmVmIHx8IFxcJ1xcJ1xcXCIgbmctaHJlZj1cXFwie3soaXRlbS5maXhlZEhyZWYgPyBpdGVtLmZpeGVkSHJlZjogXFwnXFwnKX19XFxcIlxcbiAgICAgICAgIGNsYXNzPVxcXCJzaWRlYmFyLWxpc3QtbGlua1xcXCI+XFxuICAgICAgICA8aSBjbGFzcz1cXFwiaWNvbiB7eyBpdGVtLmljb24gfX1cXFwiPjwvaT48c3Bhbj57eyBpdGVtLnRpdGxlIH19PC9zcGFuPlxcbiAgICAgIDwvYT5cXG5cXG4gICAgICA8YSBuZy1pZj1cXFwiaXRlbS5zdWJNZW51XFxcIiBjbGFzcz1cXFwic2lkZWJhci1saXN0LWxpbmtcXFwiIG1jLXVpLXNyZWYtdG9nZ2xlcj5cXG4gICAgICAgIDxpIGNsYXNzPVxcXCJpY29uIHt7IGl0ZW0uaWNvbiB9fVxcXCI+PC9pPlxcbiAgICAgICAgPHNwYW4+e3sgaXRlbS50aXRsZSB9fTwvc3Bhbj5cXG4gICAgICAgIDxpIG5nLWlmPVxcXCJpdGVtLnN1Yk1lbnVcXFwiIGNsYXNzPVxcXCJpY29uLWFuZ2xlLXJpZ2h0XFxcIiB1aS1zcmVmLWFjdGl2ZT1cXFwiaWNvbi1hbmdsZS1kb3duXFxcIj48L2k+XFxuICAgICAgPC9hPlxcblxcbiAgICAgIDwhLS0gc3VibWVudSAtLT5cXG4gICAgICA8dWwgbmctaWY9XFxcIml0ZW0uc3ViTWVudVxcXCIgY2xhc3M9XFxcInNpZGViYXItc3VibGlzdFxcXCIgbmctY2xhc3M9XFxcIntcXCdzbGlkZS1yaWdodFxcJzogaXRlbS5zbGlkZVJpZ2h0fVxcXCIgbWMtdWktc3JlZi10b2dnbGluZy1zdWJtZW51PlxcbiAgICAgICAgPGxpIG5nLXJlcGVhdD1cXFwic3ViaXRlbSBpbiBpdGVtLnN1Yk1lbnVcXFwiIG5nLWNsYXNzPVxcXCJ7XFwnd2l0aC1zdWItbWVudVxcJzogc3ViaXRlbS5zdWJNZW51fVxcXCIgdWktc3JlZi1hY3RpdmU9XFxcInNlbGVjdGVkXFxcIlxcbiAgICAgICAgICAgIG1jLXNpZGViYXItdG9nZ2xpbmctaXRlbT1cXFwic3ViaXRlbVxcXCIgY2xhc3M9XFxcInNpZGViYXItc3VibGlzdC1pdGVtXFxcIiBuZy1pZj1cXFwic2lkZWJhci5hY2Nlc3Nbc3ViaXRlbS5uYW1lXVxcXCI+XFxuICAgICAgICAgIDxhIG5nLWlmPVxcXCJzdWJpdGVtLnN1Yk1lbnVcXFwiIG1jLXVpLXNyZWYtdG9nZ2xlciBjbGFzcz1cXFwic2lkZWJhci1saXN0LWxpbmsgc3ViaXRlbS1zdWJtZW51LWxpbmtcXFwiPlxcbiAgICAgICAgICAgIDxzcGFuPnt7IHN1Yml0ZW0udGl0bGUgfX08L3NwYW4+XFxuICAgICAgICAgICAgPGkgbmctaWY9XFxcInN1Yml0ZW0uc3ViTWVudVxcXCIgbmctY2xhc3M9XFxcIntcXCdpY29uLWFuZ2xlLWRvd25cXCc6IHN1Yml0ZW0uZXhwYW5kZWQsIFxcJ2ljb24tYW5nbGUtcmlnaHRcXCc6ICFzdWJpdGVtLmV4cGFuZGVkfVxcXCI+PC9pPlxcbiAgICAgICAgICA8L2E+XFxuICAgICAgICAgIDxhIG5nLWlmPVxcXCIoIXN1Yml0ZW0uc3ViTWVudSAmJiBzdWJpdGVtLmRpc2FibGVkKVxcXCIgaHJlZiBjbGFzcz1cXFwic2lkZWJhci1saXN0LWxpbmtcXFwiPnt7IHN1Yml0ZW0udGl0bGUgfX08L2E+XFxuICAgICAgICAgIDxhIG5nLWlmPVxcXCIoIXN1Yml0ZW0uc3ViTWVudSAmJiAhc3ViaXRlbS5kaXNhYmxlZClcXFwiIHVpLXN0YXRlPVxcXCJzdWJpdGVtLnN0YXRlUmVmIHx8IFxcJ1xcJ1xcXCJcXG4gICAgICAgICAgICAgbmctaHJlZj1cXFwie3soc3ViaXRlbS5maXhlZEhyZWYgPyBzdWJpdGVtLmZpeGVkSHJlZjogXFwnXFwnKX19XFxcIj5cXG4gICAgICAgICAgICAge3sgc3ViaXRlbS50aXRsZX19XFxuICAgICAgICAgIDwvYT5cXG4gICAgICAgIDwvbGk+XFxuICAgICAgPC91bD48IS0tIC9zdWJtZW51IC0tPlxcbiAgICA8L2xpPlxcbiAgPC91bD48IS0tIC9sZWZ0IHNpZGViYXIgbWVudSAtLT5cXG48L2FzaWRlPlxcblwiKTtcbiR0ZW1wbGF0ZUNhY2hlLnB1dChcImNvcmUvZGlyZWN0aXZlcy9tY0RhdGVQaWNrZXIvZGF0ZXBpY2tlci5odG1sXCIsXCI8ZGl2IGNsYXNzPVxcXCJidG4tZ3JvdXAgbWMtZGF0ZXBpY2tlclxcXCIgbmctY2xpY2s9XFxcInNob3dEYXRlUGlja2VyKCRldmVudClcXFwiPlxcbiAgPGJ1dHRvbiB0eXBlPVxcXCJidXR0b25cXFwiIGNsYXNzPVxcXCJidG4gYnRuLWRlZmF1bHRcXFwiIG5nLXNob3c9XFxcInN0YXJ0RGF0ZVxcXCI+XFxuICAgICAgICA8c3Bhbj57e3N0YXJ0RGF0ZS5mb3JtYXQoXFwnWVlZWVxcJykgKyBcXCflubRcXCd9fTwvc3Bhbj5cXG4gICAgICAgIDxzcGFuIG5nLWlmPVxcXCJtaW5WaWV3ICE9IFxcJ3llYXJcXCcgXFxcIj57e3N0YXJ0RGF0ZS5mb3JtYXQoXFwnTU1cXCcpICsgXFwn5pyIXFwnfX08L3NwYW4+XFxuICAgICAgICA8c3BhbiBuZy1pZj1cXFwibWluVmlldyAhPSBcXCd5ZWFyXFwnICYmIG1pblZpZXcgIT0gXFwnbW9udGhcXCcgXFxcIj57e3N0YXJ0RGF0ZS5mb3JtYXQoXFwnRERcXCcpICsgXFwn5pelXFwnfX08L3NwYW4+XFxuICAgICAgICA8c3BhbiBuZy1pZj1cXFwibWluVmlldyAhPSBcXCd5ZWFyXFwnICYmIG1pblZpZXcgIT0gXFwnbW9udGhcXCcgJiYgbWluVmlldyAhPSBcXCdkYXRlXFwnIFxcXCI+e3sgXFwnIFxcJyArIHN0YXJ0RGF0ZS5mb3JtYXQoXFwnSEhcXCcpIH19PC9zcGFuPlxcbiAgICAgICAgPHNwYW4gbmctaWY9XFxcIm1pblZpZXcgIT0gXFwneWVhclxcJyAmJiBtaW5WaWV3ICE9IFxcJ21vbnRoXFwnICYmIG1pblZpZXcgIT0gXFwnZGF0ZVxcJyAmJiBtaW5WaWV3ICE9IFxcJ2hvdXJzXFwnIFxcXCI+e3sgXFwnOiBcXCcgKyBzdGFydERhdGUuZm9ybWF0KFxcJ21tXFwnKSB9fTwvc3Bhbj5cXG4gIDwvYnV0dG9uPlxcbiAgPGJ1dHRvbiB0eXBlPVxcXCJidXR0b25cXFwiIGNsYXNzPVxcXCJidG4gYnRuLWRlZmF1bHRcXFwiIG5nLWhpZGU9XFxcInN0YXJ0RGF0ZVxcXCI+XFxuICAgIDxzcGFuPiDigJQgPC9zcGFuPlxcbiAgPC9idXR0b24+XFxuICA8YnV0dG9uIHR5cGU9XFxcImJ1dHRvblxcXCIgY2xhc3M9XFxcImJ0biBidG4tZGVmYXVsdCBkcm9wZG93bi10b2dnbGVcXFwiIGFyaWEtaGFzcG9wdXA9XFxcInRydWVcXFwiXFxuICAgICAgICAgIGFyaWEtZXhwYW5kZWQ9XFxcImZhbHNlXFxcIj5cXG4gICAgPHNwYW4gY2xhc3M9XFxcImNhcmV0XFxcIj48L3NwYW4+XFxuICA8L2J1dHRvbj5cXG4gIDxkaXYgY2xhc3M9XFxcImRyb3Bkb3duLW1lbnVcXFwiIG5nLWNsaWNrPVxcXCIkZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XFxcIiBuZy1tb3VzZWxlYXZlPVxcXCJtb3VzZUxlYXZlKCRldmVudClcXFwiPlxcbiAgICA8IS0tIOazqO+8muatpOWkhOeahG1pbi12aWV355Sx54i2Y29udHJvbGxlcuWumuS5iSzogIPomZHliLDlhbzlrrnku6XliY3nmoTpobXpnaLvvIzmiYDku6Xnu5nkuobkuIDkuKrpu5jorqTnmoRtb250aCAtLT5cXG4gICAgPGRpdiBpZD1cXFwie3tpZH19XFxcIiBkYXRlLXBpY2tlcj1cXFwic3RhcnREYXRlXFxcIiBtaW4tZGF0ZT1cXFwibWluRGF0ZVxcXCIgdmlldz1cXFwie3t2aWV3fX1cXFwiIG1heC1kYXRlPVxcXCJtYXhEYXRlXFxcIiBtaW4tdmlldz1cXFwie3ttaW5WaWV3IHx8IFxcJ21vbnRoXFwnfX1cXFwiIGF1dG8tY2xvc2U9XFxcInRydWVcXFwiIHdhdGNoLWRpcmVjdC1jaGFuZ2VzPVxcXCJ0cnVlXFxcIj48L2Rpdj5cXG4gIDwvZGl2PlxcbjwvZGl2PlxcblwiKTtcbiR0ZW1wbGF0ZUNhY2hlLnB1dChcImNvcmUvZGlyZWN0aXZlcy9tY1VwbG9hZEF2YXRhci91cGxvYWQtaW1hZ2UuaHRtbFwiLFwiPGRpdiBjbGFzcz1cXFwidXBsb2FkLWNvbnRlbnRcXFwiPlxcblxcbiAgPGRpdiBjbGFzcz1cXFwiY3JvcC13YXJwcGVyXFxcIj5cXG4gICAgICA8aW1nIG5nLWlmPVxcXCJkYXRhVXJsXFxcIiBuZy1zcmM9XFxcInt7ZGF0YVVybH19XFxcIiB3aWR0aD1cXFwiODAwXFxcIlxcbiAgICAgIG5nLWNyb3BwZXJcXG4gICAgICBuZy1jcm9wcGVyLXByb3h5PVxcXCJjcm9wcGVyUHJveHlcXFwiXFxuICAgICAgbmctY3JvcHBlci1zaG93PVxcXCJzaG93RXZlbnRcXFwiXFxuICAgICAgbmctY3JvcHBlci1oaWRlPVxcXCJoaWRlRXZlbnRcXFwiXFxuICAgICAgbmctY3JvcHBlci1vcHRpb25zPVxcXCJvcHRpb25zXFxcIj5cXG5cXG4gICAgICA8ZGl2IGNsYXNzPVxcXCJ1cGxvYWQtcHJvZ3Jlc3MgY2xlYXJmaXhcXFwiIG5nLXNob3c9XFxcImR5bmFtaWMgPiAwICYmICF1cGxvYWRlZFxcXCI+XFxuICAgICAgICAgIDxkaXYgY2xhc3M9XFxcInByb2dyZXNzLWJveFxcXCI+XFxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVxcXCJwcm9ncmVzcy1iYXIgcHJvZ3Jlc3MtYmFyLXN1Y2Nlc3MgcHJvZ3Jlc3MtYmFyLXN0cmlwZWQgYWN0aXZlXFxcIiBzdHlsZT1cXFwid2lkdGg6IHt7ZHluYW1pY319JTtcXFwiPjwvZGl2PlxcbiAgICAgICAgICA8L2Rpdj5cXG4gICAgICAgICAgPHNwYW4gY2xhc3M9XFxcInByb2Nlc3MtcGVyY2VudFxcXCI+e3tkeW5hbWljfX0lPC9zcGFuPlxcbiAgICAgIDwvZGl2PlxcblxcbiAgICAgIDxkaXYgY2xhc3M9XFxcInVwbG9hZC1wcm9ncmVzcyBzdWNjZXNzXFxcIiBuZy1zaG93PVxcXCJ1cGxvYWRlZFxcXCI+XFxuICAgICAgICAgIDxpIGNsYXNzPVxcJ2ljb24tY2hlY2tfY2lyY2xlXFwnPjwvaT4g5LiK5Lyg5oiQ5Yqf77yBXFxuICAgICAgPC9kaXY+XFxuXFxuICA8L2Rpdj5cXG5cXG4gIDxkaXYgY2xhc3M9XFxcInByZXZpZXctd2FycHBlclxcXCI+XFxuICAgICAgPGRpdiBjbGFzcz1cXFwicHJldmlldy1hdmF0YXJcXFwiPlxcbiAgICAgICAgPGRpdj5cXG4gICAgICAgICAgPGltZyBuZy1zcmM9XFxcInt7cHJldmlldy5kYXRhVXJsIHx8IGltZ1VybCB8fCBcXCcvZGlzdC9pbWFnZXMvY29tbW9uL21hbi5wbmdcXCd9fVxcXCIgaWQ9XFxcIkpTX3ByZXZpZXdfaW1hZ2VcXFwiIGNsYXNzPVxcXCJpbWctY2lyY2xlIGF2YXRhci1taWRkbGVcXFwiPlxcbiAgICAgICAgPC9kaXY+XFxuICAgICAgPC9kaXY+XFxuICAgICAgPHA+6YCJ5oupIHBuZy9qcGcg5Zu+54mHMTAwKjEwMDwvcD5cXG4gICAgICA8YSBjbGFzcz1cXFwiYnRuIGJ0bi1kZWZhdWx0XFxcIiBocmVmPVxcXCJqYXZhc2NyaXB0OjtcXFwiIG5nLWNsaWNrPVxcXCJhdmF0YXJWbS5zZWxlY3RGaWxlKClcXFwiPuS4iuS8oOWbvueJhyAtLXt7aXNFZGl0aW5nfX08L2E+XFxuICA8L2Rpdj5cXG5cXG4gIDxmb3JtIGNsYXNzPVxcXCJkcm9wem9uZVxcXCIgbmctaGlkZT1cXFwiMVxcXCIgbWV0aG9kPVxcXCJwb3N0XFxcIiBlbmN0eXBlPVxcXCJtdWx0aXBhcnQvZm9ybS1kYXRhXFxcIiBuZy1kcm9wem9uZSBkcm9wem9uZT1cXFwiZHJvcHpvbmVcXFwiXFxuICAgICAgZHJvcHpvbmUtY29uZmlnPVxcXCJkcm9wem9uZUNvbmZpZ1xcXCI+XFxuICAgIDxpbnB1dCBuYW1lPVxcXCJwZW5zaW9uX2lkXFxcIiB0eXBlPVxcXCJoaWRkZW5cXFwiIHZhbHVlPVxcXCJ7eyBwZW5zaW9uSW5mby5wZW5zaW9uX2lkfX1cXFwiLz5cXG4gICAgPGlucHV0IHR5cGU9XFxcImZpbGVcXFwiIG5hbWU9XFxcInt7ZmlsZU5hbWUgfHwgXFwnZmlsZVxcJ319XFxcIiBpZD1cXFwiSlNfYXZhdGFyX2lucHV0XFxcIj5cXG4gICAgPGlucHV0IHR5cGU9XFxcImhpZGRlblxcXCIgbmFtZT1cXFwieFxcXCIgdmFsdWU9XFxcInt7ZGF0YS54fX1cXFwiPlxcbiAgICA8aW5wdXQgdHlwZT1cXFwiaGlkZGVuXFxcIiBuYW1lPVxcXCJ5XFxcIiB2YWx1ZT1cXFwie3tkYXRhLnl9fVxcXCI+XFxuICAgIDxpbnB1dCB0eXBlPVxcXCJoaWRkZW5cXFwiIG5hbWU9XFxcIndpZHRoXFxcIiB2YWx1ZT1cXFwie3tkYXRhLndpZHRofX1cXFwiPlxcbiAgICA8aW5wdXQgdHlwZT1cXFwiaGlkZGVuXFxcIiBuYW1lPVxcXCJoZWlnaHRcXFwiIHZhbHVlPVxcXCJ7e2RhdGEuaGVpZ2h0fX1cXFwiPlxcbiAgICA8aW5wdXQgdHlwZT1cXFwiaGlkZGVuXFxcIiBuYW1lPVxcXCJSb3RhdGVcXFwiIHZhbHVlPVxcXCJ7e2RhdGEuUm90YXRlfX1cXFwiPlxcbiAgICA8aW5wdXQgdHlwZT1cXFwiaGlkZGVuXFxcIiBuYW1lPVxcXCJTY2FsZVhcXFwiIHZhbHVlPVxcXCJ7e2RhdGEuU2NhbGVYfX1cXFwiPlxcbiAgICA8aW5wdXQgdHlwZT1cXFwiaGlkZGVuXFxcIiBuYW1lPVxcXCJTY2FsZVlcXFwiIHZhbHVlPVxcXCJ7e2RhdGEuU2NhbGVZfX1cXFwiPlxcbiAgICA8aW5wdXQgbmctcmVwZWF0PVxcXCJwYXJhbSBpbiBwYXJhbXNcXFwiIG5hbWU9XFxcInt7cGFyYW0ubmFtZX19XFxcIiB0eXBlPVxcXCJoaWRkZW5cXFwiIHZhbHVlPVxcXCJ7e3BhcmFtLnZhbHVlfX1cXFwiPlxcbiAgPC9mb3JtPlxcblxcbjwvZGl2PlxcblxcblwiKTtcbiR0ZW1wbGF0ZUNhY2hlLnB1dChcImNvcmUvZGlyZWN0aXZlcy9tY1VwbG9hZEF2YXRhci91cGxvYWQuaHRtbFwiLFwiPGRpdiBjbGFzcz1cXFwidXBsb2FkLWNvbnRlbnRcXFwiPlxcblxcbiAgPGRpdiBjbGFzcz1cXFwiY3JvcC13YXJwcGVyXFxcIj5cXG4gICAgICA8aW1nIG5nLWlmPVxcXCJkYXRhVXJsXFxcIiBuZy1zcmM9XFxcInt7ZGF0YVVybH19XFxcIiB3aWR0aD1cXFwiODAwXFxcIlxcbiAgICAgIG5nLWNyb3BwZXJcXG4gICAgICBuZy1jcm9wcGVyLXByb3h5PVxcXCJjcm9wcGVyUHJveHlcXFwiXFxuICAgICAgbmctY3JvcHBlci1zaG93PVxcXCJzaG93RXZlbnRcXFwiXFxuICAgICAgbmctY3JvcHBlci1oaWRlPVxcXCJoaWRlRXZlbnRcXFwiXFxuICAgICAgbmctY3JvcHBlci1vcHRpb25zPVxcXCJvcHRpb25zXFxcIj5cXG5cXG4gICAgICA8ZGl2IGNsYXNzPVxcXCJ1cGxvYWQtcHJvZ3Jlc3MgY2xlYXJmaXhcXFwiIG5nLXNob3c9XFxcImR5bmFtaWMgPiAwICYmICF1cGxvYWRlZFxcXCI+XFxuICAgICAgICAgIDxkaXYgY2xhc3M9XFxcInByb2dyZXNzLWJveFxcXCI+XFxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVxcXCJwcm9ncmVzcy1iYXIgcHJvZ3Jlc3MtYmFyLXN1Y2Nlc3MgcHJvZ3Jlc3MtYmFyLXN0cmlwZWQgYWN0aXZlXFxcIiBzdHlsZT1cXFwid2lkdGg6IHt7ZHluYW1pY319JTtcXFwiPjwvZGl2PlxcbiAgICAgICAgICA8L2Rpdj5cXG4gICAgICAgICAgPHNwYW4gY2xhc3M9XFxcInByb2Nlc3MtcGVyY2VudFxcXCI+e3tkeW5hbWljfX0lPC9zcGFuPlxcbiAgICAgIDwvZGl2PlxcblxcbiAgICAgIDxkaXYgY2xhc3M9XFxcInVwbG9hZC1wcm9ncmVzcyBzdWNjZXNzXFxcIiBuZy1zaG93PVxcXCJ1cGxvYWRlZFxcXCI+XFxuICAgICAgICAgIDxpIGNsYXNzPVxcJ2ljb24tY2hlY2tfY2lyY2xlXFwnPjwvaT4g5LiK5Lyg5oiQ5Yqf77yBXFxuICAgICAgPC9kaXY+XFxuXFxuICA8L2Rpdj5cXG5cXG4gIDxkaXYgY2xhc3M9XFxcInByZXZpZXctd2FycHBlclxcXCI+XFxuICAgICAgPGRpdiBjbGFzcz1cXFwicHJldmlldy1hdmF0YXJcXFwiPlxcbiAgICAgICAgPGRpdj5cXG4gICAgICAgICAgPGltZyBuZy1zcmM9XFxcInt7cHJldmlldy5kYXRhVXJsIHx8IGltZ1VybCB8fCBcXCcvZGlzdC9pbWFnZXMvY29tbW9uL21hbi5wbmdcXCd9fVxcXCIgaWQ9XFxcIkpTX3ByZXZpZXdfaW1hZ2VcXFwiIGNsYXNzPVxcXCJpbWctY2lyY2xlIGF2YXRhci1taWRkbGVcXFwiPlxcbiAgICAgICAgPC9kaXY+XFxuICAgICAgPC9kaXY+XFxuICAgICAgPHA+6YCJ5oupIHBuZy9qcGcg5Zu+54mHMTAwKjEwMDwvcD5cXG4gICAgICA8YSBjbGFzcz1cXFwiYnRuIGJ0bi1kZWZhdWx0XFxcIiBocmVmPVxcXCJqYXZhc2NyaXB0OjtcXFwiIG5nLWNsaWNrPVxcXCJhdmF0YXJWbS5zZWxlY3RGaWxlKClcXFwiPuS4iuS8oOWktOWDjzwvYT5cXG4gIDwvZGl2PlxcblxcbiAgPGZvcm0gY2xhc3M9XFxcImRyb3B6b25lXFxcIiBuZy1oaWRlPVxcXCIxXFxcIiBtZXRob2Q9XFxcInBvc3RcXFwiIGVuY3R5cGU9XFxcIm11bHRpcGFydC9mb3JtLWRhdGFcXFwiIG5nLWRyb3B6b25lIGRyb3B6b25lPVxcXCJkcm9wem9uZVxcXCJcXG4gICAgICBkcm9wem9uZS1jb25maWc9XFxcImRyb3B6b25lQ29uZmlnXFxcIj5cXG4gICAgPGlucHV0IG5hbWU9XFxcInBlbnNpb25faWRcXFwiIHR5cGU9XFxcImhpZGRlblxcXCIgdmFsdWU9XFxcInt7IHBlbnNpb25JbmZvLnBlbnNpb25faWR9fVxcXCIvPlxcbiAgICA8aW5wdXQgdHlwZT1cXFwiZmlsZVxcXCIgbmFtZT1cXFwie3tmaWxlTmFtZSB8fCBcXCdmaWxlXFwnfX1cXFwiIGlkPVxcXCJKU19hdmF0YXJfaW5wdXRcXFwiPlxcbiAgICA8aW5wdXQgdHlwZT1cXFwiaGlkZGVuXFxcIiBuYW1lPVxcXCJ4XFxcIiB2YWx1ZT1cXFwie3tkYXRhLnh9fVxcXCI+XFxuICAgIDxpbnB1dCB0eXBlPVxcXCJoaWRkZW5cXFwiIG5hbWU9XFxcInlcXFwiIHZhbHVlPVxcXCJ7e2RhdGEueX19XFxcIj5cXG4gICAgPGlucHV0IHR5cGU9XFxcImhpZGRlblxcXCIgbmFtZT1cXFwid2lkdGhcXFwiIHZhbHVlPVxcXCJ7e2RhdGEud2lkdGh9fVxcXCI+XFxuICAgIDxpbnB1dCB0eXBlPVxcXCJoaWRkZW5cXFwiIG5hbWU9XFxcImhlaWdodFxcXCIgdmFsdWU9XFxcInt7ZGF0YS5oZWlnaHR9fVxcXCI+XFxuICAgIDxpbnB1dCB0eXBlPVxcXCJoaWRkZW5cXFwiIG5hbWU9XFxcIlJvdGF0ZVxcXCIgdmFsdWU9XFxcInt7ZGF0YS5Sb3RhdGV9fVxcXCI+XFxuICAgIDxpbnB1dCB0eXBlPVxcXCJoaWRkZW5cXFwiIG5hbWU9XFxcIlNjYWxlWFxcXCIgdmFsdWU9XFxcInt7ZGF0YS5TY2FsZVh9fVxcXCI+XFxuICAgIDxpbnB1dCB0eXBlPVxcXCJoaWRkZW5cXFwiIG5hbWU9XFxcIlNjYWxlWVxcXCIgdmFsdWU9XFxcInt7ZGF0YS5TY2FsZVl9fVxcXCI+XFxuICAgIDxpbnB1dCBuZy1yZXBlYXQ9XFxcInBhcmFtIGluIHBhcmFtc1xcXCIgbmFtZT1cXFwie3twYXJhbS5uYW1lfX1cXFwiIHR5cGU9XFxcImhpZGRlblxcXCIgdmFsdWU9XFxcInt7cGFyYW0udmFsdWV9fVxcXCI+XFxuICA8L2Zvcm0+XFxuXFxuPC9kaXY+XFxuXFxuXCIpO1xuJHRlbXBsYXRlQ2FjaGUucHV0KFwiY29yZS9kaXJlY3RpdmVzL21jVXBsb2FkSW1hZ2UvdXBsb2FkLmh0bWxcIixcIjxkaXYgY2xhc3M9XFxcInVwbG9hZC1jb250ZW50XFxcIj5cXG5cXG4gIDxkaXYgY2xhc3M9XFxcImNyb3Atd2FycHBlclxcXCI+XFxuICAgICAgPGltZyBuZy1pZj1cXFwiZGF0YVVybFxcXCIgbmctc3JjPVxcXCJ7e2RhdGFVcmx9fVxcXCIgd2lkdGg9XFxcIjgwMFxcXCJcXG4gICAgICBuZy1jcm9wcGVyXFxuICAgICAgbmctY3JvcHBlci1wcm94eT1cXFwiY3JvcHBlclByb3h5XFxcIlxcbiAgICAgIG5nLWNyb3BwZXItc2hvdz1cXFwic2hvd0V2ZW50XFxcIlxcbiAgICAgIG5nLWNyb3BwZXItaGlkZT1cXFwiaGlkZUV2ZW50XFxcIlxcbiAgICAgIG5nLWNyb3BwZXItb3B0aW9ucz1cXFwib3B0aW9uc1xcXCI+XFxuXFxuICAgICAgPGRpdiBjbGFzcz1cXFwidXBsb2FkLXByb2dyZXNzIGNsZWFyZml4XFxcIiBuZy1zaG93PVxcXCJkeW5hbWljID4gMCAmJiAhdXBsb2FkZWRcXFwiPlxcbiAgICAgICAgICA8ZGl2IGNsYXNzPVxcXCJwcm9ncmVzcy1ib3hcXFwiPlxcbiAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cXFwicHJvZ3Jlc3MtYmFyIHByb2dyZXNzLWJhci1zdWNjZXNzIHByb2dyZXNzLWJhci1zdHJpcGVkIGFjdGl2ZVxcXCIgc3R5bGU9XFxcIndpZHRoOiB7e2R5bmFtaWN9fSU7XFxcIj48L2Rpdj5cXG4gICAgICAgICAgPC9kaXY+XFxuICAgICAgICAgIDxzcGFuIGNsYXNzPVxcXCJwcm9jZXNzLXBlcmNlbnRcXFwiPnt7ZHluYW1pY319JTwvc3Bhbj5cXG4gICAgICA8L2Rpdj5cXG5cXG4gICAgICA8ZGl2IGNsYXNzPVxcXCJ1cGxvYWQtcHJvZ3Jlc3Mgc3VjY2Vzc1xcXCIgbmctc2hvdz1cXFwidXBsb2FkZWRcXFwiPlxcbiAgICAgICAgICA8aSBjbGFzcz1cXCdpY29uLWNoZWNrX2NpcmNsZVxcJz48L2k+IOS4iuS8oOaIkOWKn++8gVxcbiAgICAgIDwvZGl2PlxcblxcbiAgPC9kaXY+XFxuXFxuICA8ZGl2IGNsYXNzPVxcXCJwcmV2aWV3LXdhcnBwZXJcXFwiPlxcbiAgICAgIDxkaXYgY2xhc3M9XFxcInByZXZpZXctYXZhdGFyXFxcIj5cXG4gICAgICAgIDxkaXYgc3R5bGU9XFxcImJvcmRlci1yYWRpdXM6IGluaXRpYWw7d2lkdGg6IDEwMHB4O2hlaWdodDogMTAwcHg7XFxcIj5cXG4gICAgICAgICAgPGltZyBuZy1zcmM9XFxcInt7cHJldmlldy5kYXRhVXJsIHx8IGltZ1VybCB8fCBcXCcvZGlzdC9pbWFnZXMvY29tbW9uL2JnX2F2YXRhci5wbmdcXCd9fVxcXCIgaWQ9XFxcIkpTX3ByZXZpZXdfaW1hZ2VcXFwiIGNsYXNzPVxcXCJhdmF0YXItbWlkZGxlXFxcIlxcbiAgICAgICAgICAgIHN0eWxlPVxcXCJ3aWR0aDogMTAwcHg7aGVpZ2h0OiAxMDBweDtcXFwiPlxcbiAgICAgICAgPC9kaXY+XFxuICAgICAgPC9kaXY+XFxuICAgICAgPGEgY2xhc3M9XFxcImJ0biBidG4tZGVmYXVsdFxcXCIgaHJlZj1cXFwiamF2YXNjcmlwdDo7XFxcIiBuZy1jbGljaz1cXFwiYXZhdGFyVm0uc2VsZWN0RmlsZSgpXFxcIj7kuIrkvKDlm77niYc8L2E+XFxuICA8L2Rpdj5cXG5cXG4gIDxmb3JtIGNsYXNzPVxcXCJkcm9wem9uZVxcXCIgbmctaGlkZT1cXFwiMVxcXCIgbWV0aG9kPVxcXCJwb3N0XFxcIiBlbmN0eXBlPVxcXCJtdWx0aXBhcnQvZm9ybS1kYXRhXFxcIiBuZy1kcm9wem9uZSBkcm9wem9uZT1cXFwiZHJvcHpvbmVcXFwiXFxuICAgICAgZHJvcHpvbmUtY29uZmlnPVxcXCJkcm9wem9uZUNvbmZpZ1xcXCI+XFxuICAgIDxpbnB1dCBuYW1lPVxcXCJwZW5zaW9uX2lkXFxcIiB0eXBlPVxcXCJoaWRkZW5cXFwiIHZhbHVlPVxcXCJ7eyBwZW5zaW9uSW5mby5wZW5zaW9uX2lkfX1cXFwiLz5cXG4gICAgPGlucHV0IHR5cGU9XFxcImZpbGVcXFwiIG5hbWU9XFxcInt7ZmlsZU5hbWUgfHwgXFwnZmlsZVxcJ319XFxcIiBpZD1cXFwiSlNfYXZhdGFyX2lucHV0XFxcIj5cXG4gICAgPGlucHV0IHR5cGU9XFxcImhpZGRlblxcXCIgbmFtZT1cXFwieFxcXCIgdmFsdWU9XFxcInt7ZGF0YS54fX1cXFwiPlxcbiAgICA8aW5wdXQgdHlwZT1cXFwiaGlkZGVuXFxcIiBuYW1lPVxcXCJ5XFxcIiB2YWx1ZT1cXFwie3tkYXRhLnl9fVxcXCI+XFxuICAgIDxpbnB1dCB0eXBlPVxcXCJoaWRkZW5cXFwiIG5hbWU9XFxcIndpZHRoXFxcIiB2YWx1ZT1cXFwie3tkYXRhLndpZHRofX1cXFwiPlxcbiAgICA8aW5wdXQgdHlwZT1cXFwiaGlkZGVuXFxcIiBuYW1lPVxcXCJoZWlnaHRcXFwiIHZhbHVlPVxcXCJ7e2RhdGEuaGVpZ2h0fX1cXFwiPlxcbiAgICA8aW5wdXQgdHlwZT1cXFwiaGlkZGVuXFxcIiBuYW1lPVxcXCJSb3RhdGVcXFwiIHZhbHVlPVxcXCJ7e2RhdGEuUm90YXRlfX1cXFwiPlxcbiAgICA8aW5wdXQgdHlwZT1cXFwiaGlkZGVuXFxcIiBuYW1lPVxcXCJTY2FsZVhcXFwiIHZhbHVlPVxcXCJ7e2RhdGEuU2NhbGVYfX1cXFwiPlxcbiAgICA8aW5wdXQgdHlwZT1cXFwiaGlkZGVuXFxcIiBuYW1lPVxcXCJTY2FsZVlcXFwiIHZhbHVlPVxcXCJ7e2RhdGEuU2NhbGVZfX1cXFwiPlxcbiAgICA8aW5wdXQgbmctcmVwZWF0PVxcXCJwYXJhbSBpbiBwYXJhbXNcXFwiIG5hbWU9XFxcInt7cGFyYW0ubmFtZX19XFxcIiB0eXBlPVxcXCJoaWRkZW5cXFwiIHZhbHVlPVxcXCJ7e3BhcmFtLnZhbHVlfX1cXFwiPlxcbiAgPC9mb3JtPlxcblxcbjwvZGl2PlxcblxcblwiKTtcbiR0ZW1wbGF0ZUNhY2hlLnB1dChcIm1vZHVsZXMvYWNjb3VudC9kZXRhaWwvaW5kZXguaHRtbFwiLFwiPHNlY3Rpb24gY2xhc3M9XFxcImNvbnRlbnQtaGVhZGVyIGNvbC1zbS03IGNsZWFyZml4XFxcIj5cXG4gICAgPGg0Pui1hOaWmeiuvue9rjwvaDQ+XFxuICAgIDxhIGhyZWY9XFxcImphdmFzY3JpcHQ6dm9pZCgwKVxcXCIgY2xhc3M9XFxcImJ0biBidG4tZGVmYXVsdCBwdWxsLXJpZ2h0XFxcIiBuZy1jbGljaz1cXFwiJHJvb3QuYmFjaygpO1xcXCI+6L+U5ZuePC9hPlxcbjwvc2VjdGlvbj5cXG48c2VjdGlvbiBjbGFzcz1cXFwiY29udGVudCBib2R5LWNvbnRlbnQgY29sLXNtLTZcXFwiIGJsb2NrLXVpPVxcXCJtYWluXFxcIj5cXG5cXG4gICAgPGRpdiBjbGFzcz1cXFwiZm9ybS1ob3Jpem9udGFsIGNvbC1zbS0xMFxcXCI+XFxuICAgICAgICA8ZGl2IGNsYXNzPVxcXCJmb3JtLWdyb3VwIGNvbC1zbS0xMlxcXCI+XFxuICAgICAgICAgICAgPGxhYmVsIGZvcj1cXFwiaW5wdXROYW1lXFxcIiBjbGFzcz1cXFwiY29sLXNtLTMgY29udHJvbC1sYWJlbFxcXCI+5aeT5ZCNPC9sYWJlbD5cXG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVxcXCJjb2wtc20tOVxcXCI+XFxuICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPVxcXCJ0ZXh0XFxcIiBjbGFzcz1cXFwiZm9ybS1jb250cm9sXFxcIiBpZD1cXFwiaW5wdXROYW1lXFxcIiBuZy1tb2RlbD1cXFwidm0ucGVyc29uLnRydWVfbmFtZVxcXCIgcGxhY2Vob2xkZXI9XFxcIlxcXCI+XFxuICAgICAgICAgICAgPC9kaXY+XFxuICAgICAgICA8L2Rpdj5cXG4gICAgICAgIDxkaXYgY2xhc3M9XFxcImZvcm0tZ3JvdXAgY29sLXNtLTEyXFxcIj5cXG4gICAgICAgICAgICA8bGFiZWwgZm9yPVxcXCJpbnB1dFBob25lXFxcIiBjbGFzcz1cXFwiY29sLXNtLTMgY29udHJvbC1sYWJlbFxcXCI+5omL5py65Y+3PC9sYWJlbD5cXG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVxcXCJjb2wtc20tOVxcXCI+XFxuICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPVxcXCJ0ZXh0XFxcIiBjbGFzcz1cXFwiZm9ybS1jb250cm9sXFxcIiBpZD1cXFwiaW5wdXRQaG9uZVxcXCIgbmctbW9kZWw9XFxcInZtLnBlcnNvbi5waG9uZVxcXCIgcGxhY2Vob2xkZXI9XFxcIlxcXCI+XFxuICAgICAgICAgICAgPC9kaXY+XFxuICAgICAgICA8L2Rpdj5cXG4gICAgICAgIDxkaXYgY2xhc3M9XFxcImZvcm0tZ3JvdXAgY29sLXNtLTEyXFxcIj5cXG4gICAgICAgICAgICA8bGFiZWwgZm9yPVxcXCJpbnB1dFB3ZFxcXCIgY2xhc3M9XFxcImNvbC1zbS0zIGNvbnRyb2wtbGFiZWxcXFwiPuaWsOWvhueggTwvbGFiZWw+XFxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cXFwiY29sLXNtLTlcXFwiPlxcbiAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT1cXFwidGV4dFxcXCIgY2xhc3M9XFxcImZvcm0tY29udHJvbFxcXCIgaWQ9XFxcImlucHV0UHdkXFxcIiBuZy1tb2RlbD1cXFwidm0ucGVyc29uLm5ld19wYXNzd29yZFxcXCIgcGxhY2Vob2xkZXI9XFxcIlxcXCI+XFxuICAgICAgICAgICAgPC9kaXY+XFxuICAgICAgICA8L2Rpdj5cXG4gICAgICAgIDxkaXYgY2xhc3M9XFxcImZvcm0tZ3JvdXAgY29sLXNtLTEyXFxcIj5cXG4gICAgICAgICAgICA8bGFiZWwgZm9yPVxcXCJcXFwiIGNsYXNzPVxcXCJjb2wtc20tMyBjb250cm9sLWxhYmVsXFxcIj7op5LoibLkv6Hmga88L2xhYmVsPlxcbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XFxcImJ0bi1ncm91cCBjb2wtc20tOVxcXCI+XFxuICAgICAgICAgICAgICA8YnV0dG9uIHR5cGU9XFxcImJ1dHRvblxcXCIgY2xhc3M9XFxcImJ0biBidG4tZGVmYXVsdCBkcm9wZG93bi10b2dnbGVcXFwiIGRhdGEtdG9nZ2xlPVxcXCJkcm9wZG93blxcXCIgYXJpYS1oYXNwb3B1cD1cXFwidHJ1ZVxcXCIgYXJpYS1leHBhbmRlZD1cXFwiZmFsc2VcXFwiPlxcbiAgICAgICAgICAgICAgICB7e3ZtLnBlcnNvbi5yb2xlX25hbWV9fVxcbiAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cXFwiY2FyZXRcXFwiPjwvc3Bhbj5cXG4gICAgICAgICAgICAgIDwvYnV0dG9uPlxcbiAgICAgICAgICAgICAgPHVsIGNsYXNzPVxcXCJkcm9wZG93bi1tZW51XFxcIj5cXG4gICAgICAgICAgICAgICAgPGxpIG5nLXJlcGVhdD1cXFwicm9sZSBpbiB2bS5yb2xlTGlzdFxcXCI+PGEgbmctY2xpY2s9XFxcInZtLnBlcnNvbi5yb2xlX25hbWU9cm9sZS5uYW1lO3ZtLnBlcnNvbi5yb2xlPXJvbGUudmFsdWVcXFwiIGhyZWY9XFxcImphdmFzY3JpcHQ6dm9pZCgwKVxcXCI+e3tyb2xlLm5hbWV9fTwvYT48L2xpPlxcbiAgICAgICAgICAgICAgPC91bD5cXG4gICAgICAgICAgICA8L2Rpdj5cXG4gICAgICAgIDwvZGl2PlxcbiAgICAgICAgPGRpdiBjbGFzcz1cXFwiZm9ybS1ncm91cCBjb2wtc20tMTJcXFwiPlxcbiAgICAgICAgICAgIDxsYWJlbCBmb3I9XFxcIlxcXCIgY2xhc3M9XFxcImNvbC1zbS0zIGNvbnRyb2wtbGFiZWxcXFwiPueUqOaIt+eKtuaAgTwvbGFiZWw+XFxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cXFwiYnRuLWdyb3VwIGNvbC1zbS05XFxcIj5cXG4gICAgICAgICAgICAgIDxidXR0b24gdHlwZT1cXFwiYnV0dG9uXFxcIiBjbGFzcz1cXFwiYnRuIGJ0bi1kZWZhdWx0IGRyb3Bkb3duLXRvZ2dsZVxcXCIgZGF0YS10b2dnbGU9XFxcImRyb3Bkb3duXFxcIiBhcmlhLWhhc3BvcHVwPVxcXCJ0cnVlXFxcIiBhcmlhLWV4cGFuZGVkPVxcXCJmYWxzZVxcXCI+XFxuICAgICAgICAgICAgICAgIHt7dm0uc3RhdGVBcnJbdm0ucGVyc29uLnN0YXRlXX19XFxuICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVxcXCJjYXJldFxcXCI+PC9zcGFuPlxcbiAgICAgICAgICAgICAgPC9idXR0b24+XFxuICAgICAgICAgICAgICA8dWwgY2xhc3M9XFxcImRyb3Bkb3duLW1lbnVcXFwiPlxcbiAgICAgICAgICAgICAgICA8bGk+PGEgbmctY2xpY2s9XFxcInZtLnBlcnNvbi5zdGF0ZT0wXFxcIiBocmVmPVxcXCJqYXZhc2NyaXB0OnZvaWQoMClcXFwiPuacqua/gOa0uzwvYT48L2xpPlxcbiAgICAgICAgICAgICAgICA8bGk+PGEgbmctY2xpY2s9XFxcInZtLnBlcnNvbi5zdGF0ZT0xXFxcIiBocmVmPVxcXCJqYXZhc2NyaXB0OnZvaWQoMClcXFwiPuato+W4uDwvYT48L2xpPlxcbiAgICAgICAgICAgICAgICA8bGk+PGEgbmctY2xpY2s9XFxcInZtLnBlcnNvbi5zdGF0ZT0yXFxcIiBocmVmPVxcXCJqYXZhc2NyaXB0OnZvaWQoMClcXFwiPuW3suWGu+e7kzwvYT48L2xpPlxcbiAgICAgICAgICAgICAgICA8bGk+PGEgbmctY2xpY2s9XFxcInZtLnBlcnNvbi5zdGF0ZT0zXFxcIiBocmVmPVxcXCJqYXZhc2NyaXB0OnZvaWQoMClcXFwiPuW3suWIoOmZpDwvYT48L2xpPlxcbiAgICAgICAgICAgICAgPC91bD5cXG4gICAgICAgICAgICA8L2Rpdj5cXG4gICAgICAgIDwvZGl2PlxcbiAgICAgICAgPGRpdiBjbGFzcz1cXFwiZm9ybS1ncm91cFxcXCI+XFxuICAgICAgICAgICAgPGJ1dHRvbiB0eXBlPVxcXCJidXR0b25cXFwiIG5nLWNsaWNrPVxcXCJ2bS5zZXRVc2VyKClcXFwiIGNsYXNzPVxcXCJidG4gYnRuLXN1Y2Nlc3NcXFwiPuaPkOS6pDwvYnV0dG9uPlxcbiAgICAgICAgPC9kaXY+XFxuICAgIDwvZGl2Plxcbjwvc2VjdGlvbj5cIik7XG4kdGVtcGxhdGVDYWNoZS5wdXQoXCJtb2R1bGVzL2FjY291bnQvbGlzdC9pbmRleC5odG1sXCIsXCI8c2VjdGlvbiBjbGFzcz1cXFwiY29udGVudC1oZWFkZXJcXFwiPlxcbiAgPGRpdiBjbGFzcz1cXFwib3B0aW9uc1xcXCI+XFxuICAgIDxkaXYgY2xhc3M9XFxcIm9wdGlvbi1pdGVtIG9wdGlvbi10aW1lXFxcIj5cXG4gICAgICA8dWwgY2xhc3M9XFxcImNsZWFyZml4XFxcIj5cXG4gICAgICAgIDxsaT5cXG4gICAgICAgICAgPGRpdiBjbGFzcz1cXFwiaW5wdXQtZ3JvdXAgc2VhcmNoLWJveFxcXCI+XFxuICAgICAgICAgICAgPGlucHV0IG5nLW1vZGVsPVxcXCJ2bS5maWx0ZXJzLnRydWVfbmFtZVxcXCIgdHlwZT1cXFwidGV4dFxcXCIgcGxhY2Vob2xkZXI9XFxcIuivt+i+k+Wnk+WQjeafpeivolxcXCIgY2xhc3M9XFxcImZvcm0tY29udHJvbFxcXCJcXG4gICAgICAgICAgICAgICAgICAgIGNvZGU9XFxcIjEzXFxcIiBrZXktZXZlbnQ9XFxcInZtLnJlU2VhcmNoKCk7XFxcIj5cXG4gICAgICAgICAgICA8c3BhbiBjbGFzcz1cXFwiaW5wdXQtZ3JvdXAtYnRuXFxcIj5cXG4gICAgICAgICAgICAgIDxidXR0b24gbmctY2xpY2s9XFxcInZtLnJlU2VhcmNoKClcXFwiIGNsYXNzPVxcXCJidG4gYnRuLWRlZmF1bHQgc2VhcmNoXFxcIiB0eXBlPVxcXCJidXR0b25cXFwiPjxpIGNsYXNzPVxcXCJpY29uLXNlYXJjaFxcXCI+PC9pPjwvYnV0dG9uPlxcbiAgICAgICAgICAgIDwvc3Bhbj5cXG4gICAgICAgICAgPC9kaXY+XFxuICAgICAgICA8L2xpPlxcbiAgICAgICAgPGxpPlxcbiAgICAgICAgICA8ZGl2IGNsYXNzPVxcXCJpbnB1dC1ncm91cCBzZWFyY2gtYm94XFxcIj5cXG4gICAgICAgICAgICA8aW5wdXQgbmctbW9kZWw9XFxcInZtLmZpbHRlcnMucGhvbmVcXFwiIHR5cGU9XFxcInRleHRcXFwiIHBsYWNlaG9sZGVyPVxcXCLor7fovpPmiYvmnLrlj7fmn6Xor6JcXFwiIGNsYXNzPVxcXCJmb3JtLWNvbnRyb2xcXFwiXFxuICAgICAgICAgICAgICAgICAgICBjb2RlPVxcXCIxM1xcXCIga2V5LWV2ZW50PVxcXCJ2bS5yZVNlYXJjaCgpO1xcXCI+XFxuICAgICAgICAgICAgPHNwYW4gY2xhc3M9XFxcImlucHV0LWdyb3VwLWJ0blxcXCI+XFxuICAgICAgICAgICAgICA8YnV0dG9uIG5nLWNsaWNrPVxcXCJ2bS5yZVNlYXJjaCgpXFxcIiBjbGFzcz1cXFwiYnRuIGJ0bi1kZWZhdWx0IHNlYXJjaFxcXCIgdHlwZT1cXFwiYnV0dG9uXFxcIj48aSBjbGFzcz1cXFwiaWNvbi1zZWFyY2hcXFwiPjwvaT48L2J1dHRvbj5cXG4gICAgICAgICAgICA8L3NwYW4+XFxuICAgICAgICAgIDwvZGl2PlxcbiAgICAgICAgPC9saT5cXG4gICAgICAgIDxsaT5cXG4gICAgICAgICAgPGRpdiBjbGFzcz1cXFwiaW5wdXQtZ3JvdXAgc2VhcmNoLWJveFxcXCI+XFxuICAgICAgICAgICAgPGlucHV0IG5nLW1vZGVsPVxcXCJ2bS5maWx0ZXJzLmJhbmtfbmFtZVxcXCIgdHlwZT1cXFwidGV4dFxcXCIgcGxhY2Vob2xkZXI9XFxcIuivt+i+k+acuuaehOafpeivolxcXCIgY2xhc3M9XFxcImZvcm0tY29udHJvbFxcXCJcXG4gICAgICAgICAgICAgICAgICAgIGNvZGU9XFxcIjEzXFxcIiBrZXktZXZlbnQ9XFxcInZtLnJlU2VhcmNoKCk7XFxcIj5cXG4gICAgICAgICAgICA8c3BhbiBjbGFzcz1cXFwiaW5wdXQtZ3JvdXAtYnRuXFxcIj5cXG4gICAgICAgICAgICAgIDxidXR0b24gbmctY2xpY2s9XFxcInZtLnJlU2VhcmNoKClcXFwiIGNsYXNzPVxcXCJidG4gYnRuLWRlZmF1bHQgc2VhcmNoXFxcIiB0eXBlPVxcXCJidXR0b25cXFwiPjxpIGNsYXNzPVxcXCJpY29uLXNlYXJjaFxcXCI+PC9pPjwvYnV0dG9uPlxcbiAgICAgICAgICAgIDwvc3Bhbj5cXG4gICAgICAgICAgPC9kaXY+XFxuICAgICAgICA8L2xpPlxcbiAgICAgICAgPGxpPlxcbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XFxcImJ0bi1ncm91cFxcXCI+XFxuICAgICAgICAgICAgICA8YnV0dG9uIHR5cGU9XFxcImJ1dHRvblxcXCIgY2xhc3M9XFxcImJ0biBidG4tZGVmYXVsdCBkcm9wZG93bi10b2dnbGVcXFwiIGRhdGEtdG9nZ2xlPVxcXCJkcm9wZG93blxcXCIgYXJpYS1oYXNwb3B1cD1cXFwidHJ1ZVxcXCIgYXJpYS1leHBhbmRlZD1cXFwiZmFsc2VcXFwiPlxcbiAgICAgICAgICAgICAgICB7e3ZtLmZpbHRlcnMuc3RhdGU/dm0uc3RhdGVBcnJbdm0uZmlsdGVycy5zdGF0ZV06XFwn5YWo6YOoXFwnfX1cXG4gICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XFxcImNhcmV0XFxcIj48L3NwYW4+XFxuICAgICAgICAgICAgICA8L2J1dHRvbj5cXG4gICAgICAgICAgICAgIDx1bCBjbGFzcz1cXFwiZHJvcGRvd24tbWVudVxcXCI+XFxuICAgICAgICAgICAgICAgIDxsaT48YSBuZy1jbGljaz1cXFwidm0uZmlsdGVycy5zdGF0ZT11bmRlZmluZWQ7dm0ucmVTZWFyY2goKVxcXCIgaHJlZj1cXFwiamF2YXNjcmlwdDp2b2lkKDApXFxcIj7lhajpg6g8L2E+PC9saT5cXG4gICAgICAgICAgICAgICAgPGxpPjxhIG5nLWNsaWNrPVxcXCJ2bS5maWx0ZXJzLnN0YXRlPTA7dm0ucmVTZWFyY2goKVxcXCIgaHJlZj1cXFwiamF2YXNjcmlwdDp2b2lkKDApXFxcIj7mnKrmv4DmtLs8L2E+PC9saT5cXG4gICAgICAgICAgICAgICAgPGxpPjxhIG5nLWNsaWNrPVxcXCJ2bS5maWx0ZXJzLnN0YXRlPTE7dm0ucmVTZWFyY2goKVxcXCIgaHJlZj1cXFwiamF2YXNjcmlwdDp2b2lkKDApXFxcIj7mraPluLg8L2E+PC9saT5cXG4gICAgICAgICAgICAgICAgPGxpPjxhIG5nLWNsaWNrPVxcXCJ2bS5maWx0ZXJzLnN0YXRlPTI7dm0ucmVTZWFyY2goKVxcXCIgaHJlZj1cXFwiamF2YXNjcmlwdDp2b2lkKDApXFxcIj7lt7Llhrvnu5M8L2E+PC9saT5cXG4gICAgICAgICAgICAgICAgPGxpPjxhIG5nLWNsaWNrPVxcXCJ2bS5maWx0ZXJzLnN0YXRlPTM7dm0ucmVTZWFyY2goKVxcXCIgaHJlZj1cXFwiamF2YXNjcmlwdDp2b2lkKDApXFxcIj7lt7LliKDpmaQ8L2E+PC9saT5cXG4gICAgICAgICAgICAgIDwvdWw+XFxuICAgICAgICAgICAgPC9kaXY+XFxuICAgICAgICA8L2xpPlxcbiAgICAgICAgPGxpPlxcbiAgICAgICAgICA8YnV0dG9uIHR5cGU9XFxcImJ1dHRvblxcXCIgY2xhc3M9XFxcImJ0biBidG4tc3VjY2VzcyBwdWxsLXJpZ2h0IG0tbC1zbVxcXCIgc3R5bGU9XFxcInBvc2l0aW9uOiByZWxhdGl2ZTsgei1pbmRleDogMjtcXFwiXFxuICAgICAgICAgICAgICAgICAgbmctY2xpY2s9XFxcInZtLmFkZFVzZXIoKVxcXCI+PGkgY2xhc3M9XFxcImljb24tUGx1c1xcXCI+PC9pPiDmt7vliqBcXG4gICAgICAgICAgPC9idXR0b24+XFxuXFxuICAgICAgICAgIDxidXR0b24gdHlwZT1cXFwiYnV0dG9uXFxcIiBjbGFzcz1cXFwiYnRuIGJ0bi1pbmZvIHB1bGwtcmlnaHRcXFwiIHN0eWxlPVxcXCJwb3NpdGlvbjogcmVsYXRpdmU7IHotaW5kZXg6IDI7XFxcIiBkYXRhLXRvZ2dsZT1cXFwibW9kYWxcXFwiIGRhdGEtdGFyZ2V0PVxcXCIucG9wLXBsYXllclxcXCJcXG4gICAgICAgICAgICAgICAgICBuZy1jbGljaz1cXFwiJGVtaXQoXFwnYmF0Y2hVcGxvYWRVc2VyXFwnKTtcXFwiPjxpIGNsYXNzPVxcXCJpY29uLVBsdXNcXFwiPjwvaT4g5om56YeP5b2V5YWlXFxuICAgICAgICAgIDwvYnV0dG9uPlxcbiAgICAgICAgPC9saT5cXG4gICAgICA8L3VsPlxcbiAgICA8L2Rpdj5cXG4gICAgPGRpdj5cXG4gICAgICA8bWMtYmF0Y2gtdXBsb2FkLXVzZXI+PC9tYy1iYXRjaC11cGxvYWQtdXNlcj5cXG4gICAgPC9kaXY+XFxuPC9zZWN0aW9uPlxcblxcbjxzZWN0aW9uIGNsYXNzPVxcXCJjb250ZW50IGJvZHktY29udGVudCBib2R5LWNvbnRlbnQtY29tcGFjdCBibG9jay11aSBibG9jay11aS1tZXNzYWdlLWN1c3RvbVxcXCIgYmxvY2stdWk9XFxcIm1haW5cXFwiPlxcbiAgPGVtcHR5LXRpcCBuZy1pZj1cXFwidm0ubGlzdC5sZW5ndGggPT09IDBcXFwiPjwvZW1wdHktdGlwPlxcblxcbiAgPGRpdiBjbGFzcz1cXFwicGFuZWxcXFwiIG5nLWlmPVxcXCJ2bS5saXN0Lmxlbmd0aCA+IDBcXFwiPlxcbiAgICA8dGFibGUgY2xhc3M9XFxcInRhYmxlIHRhYmxlLXN0cmlwZWQgdGV4dC1jZW50ZXJcXFwiPlxcbiAgICAgIDx0cj5cXG4gICAgICAgIDx0aCBjbGFzcz1cXFwiY29sLW0tMSB0ZXh0LWNlbnRlclxcXCI+aWQ8L3RoPlxcbiAgICAgICAgPHRoIGNsYXNzPVxcXCJjb2wtbS0xIHRleHQtY2VudGVyXFxcIj7lp5PlkI08L3RoPlxcbiAgICAgICAgPHRoIGNsYXNzPVxcXCJjb2wtbS0xIHRleHQtY2VudGVyXFxcIj7miYvmnLrlj7c8L3RoPlxcbiAgICAgICAgPHRoIGNsYXNzPVxcXCJjb2wtbS0xIHRleHQtY2VudGVyXFxcIj7miYDlsZ7op5LoibI8L3RoPlxcbiAgICAgICAgPHRoIGNsYXNzPVxcXCJjb2wtbS0xIHRleHQtY2VudGVyXFxcIj7mnLrmnoTlkI3np7A8L3RoPlxcbiAgICAgICAgPHRoIGNsYXNzPVxcXCJjb2wtbS0xIHRleHQtY2VudGVyXFxcIj7nirbmgIE8L3RoPlxcbiAgICAgICAgPHRoIGNsYXNzPVxcXCJjb2wtbS0xIHRleHQtY2VudGVyXFxcIj7mk43kvZw8L3RoPlxcbiAgICAgIDwvdHI+XFxuICAgICAgPHRyIG5nLXJlcGVhdD1cXFwiaXRlbSBpbiB2bS5saXN0XFxcIj5cXG4gICAgICAgIDx0ZD57e2l0ZW0uaWR9fTwvdGQ+XFxuICAgICAgICA8dGQ+e3tpdGVtLnRydWVfbmFtZX19PC90ZD5cXG4gICAgICAgIDx0ZD57e2l0ZW0ucGhvbmV9fTwvdGQ+XFxuICAgICAgICA8dGQ+e3tpdGVtLnJvbGVfbmFtZX19PC90ZD5cXG4gICAgICAgIDx0ZD57e2l0ZW0uYmFua19uYW1lfX08L3RkPlxcbiAgICAgICAgPHRkPlxcbiAgICAgICAgICA8c3BhbiBjbGFzcz1cXFwidGV4dC1tdXRlZFxcXCIgbmctaWY9XFxcIml0ZW0uc3RhdGU9PTBcXFwiPuacqua/gOa0uzwvc3Bhbj5cXG4gICAgICAgICAgPHNwYW4gY2xhc3M9XFxcInRleHQtc3VjY2Vzc1xcXCIgbmctaWY9XFxcIml0ZW0uc3RhdGU9PTFcXFwiPuato+W4uDwvc3Bhbj5cXG4gICAgICAgICAgPHNwYW4gY2xhc3M9XFxcInRleHQtZGFuZ2VyXFxcIiBuZy1pZj1cXFwiaXRlbS5zdGF0ZT09MlxcXCI+5bey5Ya757uTPC9zcGFuPlxcbiAgICAgICAgICA8c3BhbiBjbGFzcz1cXFwidGV4dC1kYW5nZXJcXFwiIG5nLWlmPVxcXCJpdGVtLnN0YXRlPT0zXFxcIj7lt7LliKDpmaQ8L3NwYW4+XFxuICAgICAgICA8L3RkPlxcbiAgICAgICAgPHRkPlxcbiAgICAgICAgICA8YSBocmVmPVxcXCJqYXZhc2NyaXB0OnZvaWQoMClcXFwiIG5nLWNsaWNrPVxcXCJ2bS5hc3NpZ25CcmFuY2goaXRlbSlcXFwiPuWIhumFjeacuuaehDwvYT5cXG4gICAgICAgICAgPGEgdWktc3JlZj1cXFwiYWNjb3VudC5kZXRhaWwoe2lkOiBpdGVtLmlkfSlcXFwiPuafpeecizxpIGNsYXNzPVxcXCJpY29uLWFuZ2xlLXJpZ2h0XFxcIj48L2k+PC9hPlxcbiAgICAgICAgPC90ZD5cXG4gICAgICA8L3RyPlxcbiAgICA8L3RhYmxlPlxcbiAgPC9kaXY+XFxuXFxuICA8bWMtcGFnaW5hdGlvbiB0b3RhbC1pdGVtcz1cXFwidm0ucGFnaW5hdGlvbi5jb3VudFxcXCIgaXRlbXMtcGVyLXBhZ2U9XFxcInZtLnBhZ2luYXRpb24ucGFnZVNpemVcXFwiIGN1cnJlbnQtcGFnZT1cXFwidm0ucGFnaW5hdGlvbi5wYWdlXFxcIiBwYWdlLWNoYW5nZT1cXFwidm0ucGFnZUNoYW5nZWQoKVxcXCI+PC9tYy1wYWdpbmF0aW9uPlxcblxcbjwvc2VjdGlvbj5cXG5cIik7XG4kdGVtcGxhdGVDYWNoZS5wdXQoXCJtb2R1bGVzL2JhbmsvbGlzdC9pbmRleC5odG1sXCIsXCI8c2VjdGlvbiBjbGFzcz1cXFwiY29udGVudC1oZWFkZXJcXFwiPlxcbiAgPGJ1dHRvbiB0eXBlPVxcXCJidXR0b25cXFwiIGNsYXNzPVxcXCJidG4gYnRuLXN1Y2Nlc3MgcHVsbC1yaWdodCBtLWwtc21cXFwiIHN0eWxlPVxcXCJwb3NpdGlvbjogcmVsYXRpdmU7IHotaW5kZXg6IDI7XFxcIlxcbiAgICBuZy1jbGljaz1cXFwidm0uYWRkQmFuaygpXFxcIj48aSBjbGFzcz1cXFwiaWNvbi1QbHVzXFxcIj48L2k+IOa3u+WKoOacuuaehFxcbiAgPC9idXR0b24+XFxuXFxuICA8YnV0dG9uIHR5cGU9XFxcImJ1dHRvblxcXCIgY2xhc3M9XFxcImJ0biBidG4taW5mbyBwdWxsLXJpZ2h0XFxcIiBzdHlsZT1cXFwicG9zaXRpb246IHJlbGF0aXZlOyB6LWluZGV4OiAyO1xcXCIgZGF0YS10b2dnbGU9XFxcIm1vZGFsXFxcIiBkYXRhLXRhcmdldD1cXFwiLnBvcC1wbGF5ZXJcXFwiXFxuICAgIG5nLWNsaWNrPVxcXCIkZW1pdChcXCdiYXRjaFVwbG9hZEJhbmtcXCcpO1xcXCI+PGkgY2xhc3M9XFxcImljb24tUGx1c1xcXCI+PC9pPiDmibnph4/lvZXlhaVcXG4gIDwvYnV0dG9uPlxcbiAgPGRpdiBjbGFzcz1cXFwib3B0aW9uc1xcXCI+XFxuICAgIDxkaXYgY2xhc3M9XFxcIm9wdGlvbi1pdGVtIG9wdGlvbi10aW1lXFxcIj5cXG4gICAgICA8dWwgY2xhc3M9XFxcImNsZWFyZml4XFxcIj5cXG4gICAgICAgIDxsaT5cXG4gICAgICAgICAgPGRpdiBjbGFzcz1cXFwiaW5wdXQtZ3JvdXAgc2VhcmNoLWJveFxcXCI+XFxuICAgICAgICAgICAgPGlucHV0IG5nLW1vZGVsPVxcXCJ2bS5maWx0ZXJzLm5hbWVcXFwiIHR5cGU9XFxcInRleHRcXFwiIHBsYWNlaG9sZGVyPVxcXCLor7fovpPmnLrmnoTlkI3np7Dmn6Xor6JcXFwiIGNsYXNzPVxcXCJmb3JtLWNvbnRyb2xcXFwiXFxuICAgICAgICAgICAgICAgICAgICBjb2RlPVxcXCIxM1xcXCIga2V5LWV2ZW50PVxcXCJ2bS5yZVNlYXJjaCgpO1xcXCI+XFxuICAgICAgICAgICAgPHNwYW4gY2xhc3M9XFxcImlucHV0LWdyb3VwLWJ0blxcXCI+XFxuICAgICAgICAgICAgICA8YnV0dG9uIG5nLWNsaWNrPVxcXCJ2bS5yZVNlYXJjaCgpXFxcIiBjbGFzcz1cXFwiYnRuIGJ0bi1kZWZhdWx0IHNlYXJjaFxcXCIgdHlwZT1cXFwiYnV0dG9uXFxcIj48aSBjbGFzcz1cXFwiaWNvbi1zZWFyY2hcXFwiPjwvaT48L2J1dHRvbj5cXG4gICAgICAgICAgICA8L3NwYW4+XFxuICAgICAgICAgIDwvZGl2PlxcbiAgICAgICAgPC9saT5cXG4gICAgICA8L3VsPlxcbiAgICA8L2Rpdj5cXG4gICAgPGRpdiBjbGFzcz1cXFwib3B0aW9uLWl0ZW0gbGFyZ2VcXFwiPlxcbiAgICAgIDxzcGFuIGNsYXNzPVxcXCJpdGVtLXRpdGxlIHRleHQtcmlnaHRcXFwiPuacuuaehOeKtuaAge+8mjwvc3Bhbj5cXG4gICAgICA8dWwgY2xhc3M9XFxcImNsZWFyZml4XFxcIj5cXG4gICAgICAgICAgPGxpPlxcbiAgICAgICAgICAgICAgPGEgaHJlZj1cXFwiamF2YXNjcmlwdDo7XFxcIiBjbGFzcz1cXFwiYnRuXFxcIiBuZy1jbGFzcz1cXFwie1xcJ2J0bi1kZWZhdWx0XFwnOiB2bS5maWx0ZXJzLnN0YXRlLCBcXCdidG4tdG9nZ2xlXFwnOiAhdm0uZmlsdGVycy5zdGF0ZSwgXFwnYWN0aXZlXFwnOiAhdm0uZmlsdGVycy5zdGF0ZX1cXFwiIG5nLWNsaWNrPVxcXCJ2bS5zd2l0Y2goXFwnc3RhdGVcXCcpXFxcIj5cXG4gICAgICAgICAgICAgICAgICDlhajpg6hcXG4gICAgICAgICAgICAgIDwvYT5cXG4gICAgICAgICAgPC9saT5cXG4gICAgICAgICAgPGxpIG5nLXJlcGVhdD1cXFwiaXRlbSBpbiB2bS5iYW5rU3RhdGVMaXN0XFxcIj5cXG4gICAgICAgICAgICAgIDxhIGhyZWY9XFxcImphdmFzY3JpcHQ6O1xcXCIgY2xhc3M9XFxcImJ0blxcXCIgbmctY2xhc3M9XFxcIntcXCdidG4tZGVmYXVsdFxcJzogdm0uZmlsdGVycy5zdGF0ZSAhPSBpdGVtLnZhbHVlLCBcXCdidG4tdG9nZ2xlXFwnOiB2bS5maWx0ZXJzLnN0YXRlID09IGl0ZW0udmFsdWUsIFxcJ2FjdGl2ZVxcJzogdm0uZmlsdGVycy5zdGF0ZSA9PSBpdGVtLnZhbHVlfVxcXCIgbmctY2xpY2s9XFxcInZtLnN3aXRjaChcXCdzdGF0ZVxcJywgaXRlbS52YWx1ZSlcXFwiPlxcbiAgICAgICAgICAgICAgICAgIHt7IGl0ZW0ubGFiZWwgfX1cXG4gICAgICAgICAgICAgIDwvYT5cXG4gICAgICAgICAgPC9saT5cXG4gICAgICA8L3VsPlxcbiAgICA8L2Rpdj5cXG4gICAgPGRpdj5cXG4gICAgICA8bWMtYmF0Y2gtdXBsb2FkLWJhbms+PC9tYy1iYXRjaC11cGxvYWQtYmFuaz5cXG4gICAgPC9kaXY+XFxuPC9zZWN0aW9uPlxcblxcbjxzZWN0aW9uIGNsYXNzPVxcXCJjb250ZW50IGJvZHktY29udGVudCBib2R5LWNvbnRlbnQtY29tcGFjdCBibG9jay11aSBibG9jay11aS1tZXNzYWdlLWN1c3RvbVxcXCIgYmxvY2stdWk9XFxcIm1haW5cXFwiPlxcbiAgPGVtcHR5LXRpcCBuZy1pZj1cXFwidm0ubGlzdC5sZW5ndGggPT09IDBcXFwiPjwvZW1wdHktdGlwPlxcblxcbiAgPGRpdiBjbGFzcz1cXFwicGFuZWxcXFwiIG5nLWlmPVxcXCJ2bS5saXN0Lmxlbmd0aCA+IDBcXFwiPlxcbiAgICA8dGFibGUgY2xhc3M9XFxcInRhYmxlIHRhYmxlLXN0cmlwZWQgdGV4dC1jZW50ZXJcXFwiPlxcbiAgICAgIDx0cj5cXG4gICAgICAgIDx0aCBjbGFzcz1cXFwiY29sLW0tMSB0ZXh0LWNlbnRlclxcXCI+aWQ8L3RoPlxcbiAgICAgICAgPHRoIGNsYXNzPVxcXCJjb2wtbS0xIHRleHQtY2VudGVyXFxcIj7mnLrmnoQ8L3RoPlxcbiAgICAgICAgPHRoIGNsYXNzPVxcXCJjb2wtbS0xIHRleHQtY2VudGVyXFxcIj7lnLDlnYA8L3RoPlxcbiAgICAgICAgPHRoIGNsYXNzPVxcXCJjb2wtbS0xIHRleHQtY2VudGVyXFxcIj7ogZTns7vnlLXor508L3RoPlxcbiAgICAgICAgPHRoIGNsYXNzPVxcXCJjb2wtbS0xIHRleHQtY2VudGVyXFxcIj7kuIrnuqfmnLrmnoQ8L3RoPlxcbiAgICAgICAgPHRoIGNsYXNzPVxcXCJjb2wtbS0xIHRleHQtY2VudGVyXFxcIiBjb2xzcGFuPVxcXCIzXFxcIj7mk43kvZw8L3RoPlxcbiAgICAgIDwvdHI+XFxuICAgICAgPHRyIG5nLXJlcGVhdD1cXFwiaXRlbSBpbiB2bS5saXN0XFxcIj5cXG4gICAgICAgIDx0ZD57e2l0ZW0uaWR9fTwvdGQ+XFxuICAgICAgICA8dGQ+e3tpdGVtLm5hbWV9fTwvdGQ+XFxuICAgICAgICA8dGQ+e3tpdGVtLmFkZHJlc3N9fTwvdGQ+XFxuICAgICAgICA8dGQ+e3tpdGVtLnBob25lfX08L3RkPlxcbiAgICAgICAgPHRkPnt7aXRlbS5zdXBlcmlvcl9uYW1lfX08L3RkPlxcbiAgICAgICAgPCEtLSA8dGQgd2lkdGg9XFxcIjkwcHhcXFwiPlxcbiAgICAgICAgICA8YSBocmVmPVxcXCJqYXZhc2NyaXB0OnZvaWQoMClcXFwiIG5nLWNsaWNrPVxcXCJ2bS5zZXRNYXAoaXRlbSlcXFwiPumAieWPluWcsOWdgDwvYT5cXG4gICAgICAgIDwvdGQ+IC0tPlxcbiAgICAgICAgPHRkIHdpZHRoPVxcXCI5MHB4XFxcIj5cXG4gICAgICAgICAgPGEgaHJlZj1cXFwiamF2YXNjcmlwdDp2b2lkKDApXFxcIiBuZy1jbGljaz1cXFwidm0uc2V0TmFtZShpdGVtKVxcXCI+5pu05pS56LWE5paZPC9hPlxcbiAgICAgICAgPC90ZD5cXG4gICAgICAgIDx0ZCB3aWR0aD1cXFwiMTEwcHhcXFwiPlxcbiAgICAgICAgICA8YSBocmVmPVxcXCJqYXZhc2NyaXB0OnZvaWQoMClcXFwiIG5nLWNsaWNrPVxcXCJ2bS5hc3NpZ25CcmFuY2goaXRlbSlcXFwiPumAieaLqeS4iue6p+acuuaehDwvYT5cXG4gICAgICAgIDwvdGQ+XFxuICAgICAgICA8dGQgd2lkdGg9XFxcIjkwcHhcXFwiPlxcbiAgICAgICAgICA8YSBocmVmPVxcXCJqYXZhc2NyaXB0OnZvaWQoMClcXFwiIGNsYXNzPVxcXCJ0ZXh0LWRhbmdlclxcXCIgbmctc2hvdz1cXFwiaXRlbS5zdGF0ZSA9PSAxXFxcIiBuZy1jbGljaz1cXFwidm0uZGVsZXRlKGl0ZW0pXFxcIj7liKDpmaQ8L2E+XFxuICAgICAgICAgIDxhIGhyZWY9XFxcImphdmFzY3JpcHQ6dm9pZCgwKVxcXCIgY2xhc3M9XFxcInRleHQtZGFuZ2VyXFxcIiBuZy1zaG93PVxcXCJpdGVtLnN0YXRlID09IDNcXFwiIG5nLWNsaWNrPVxcXCJ2bS5yZWRlbGV0ZShpdGVtKVxcXCI+5Y+W5raI5Yig6ZmkPC9hPlxcbiAgICAgICAgPC90ZD5cXG4gICAgICA8L3RyPlxcbiAgICA8L3RhYmxlPlxcbiAgPC9kaXY+XFxuXFxuPC9zZWN0aW9uPlxcblxcblwiKTtcbiR0ZW1wbGF0ZUNhY2hlLnB1dChcIm1vZHVsZXMvZGVtby9hY2Nlc3MvdGVtcGxhdGUuaHRtbFwiLFwiPHNlY3Rpb24gY2xhc3M9XFxcImNvbnRlbnQtaGVhZGVyXFxcIj5cXG4gIOadg+mZkOiuvue9rlxcbjwvc2VjdGlvbj5cXG5cXG48c2VjdGlvbiBjbGFzcz1cXFwiY29udGVudCBib2R5LWNvbnRlbnQgYm9keS1jb250ZW50LWNvbXBhY3QgYmxvY2stdWkgYmxvY2stdWktbWVzc2FnZS1jdXN0b21cXFwiIGJsb2NrLXVpPVxcXCJtYWluXFxcIj5cXG5cXG5cXG4gIDxkaXYgY2xhc3M9XFxcInBhbmVsXFxcIj5cXG4gICAgPHRhYmxlIGNsYXNzPVxcXCJ0YWJsZSB0YWJsZS1zdHJpcGVkIHRleHQtY2VudGVyXFxcIj5cXG4gICAgICA8dHI+XFxuICAgICAgICA8dGggY2xhc3M9XFxcImNvbC1tLTEgdGV4dC1jZW50ZXJcXFwiPuWnk+WQjTwvdGg+XFxuICAgICAgICA8dGggY2xhc3M9XFxcImNvbC1tLTEgdGV4dC1jZW50ZXJcXFwiPuaAp+WIqzwvdGg+XFxuICAgICAgICA8dGggY2xhc3M9XFxcImNvbC1tLTEgdGV4dC1jZW50ZXJcXFwiIG5nLXJlcGVhdD1cXFwiaXRlbSBpbiB2bS5yb2xlTGlzdFxcXCI+e3tpdGVtLm5hbWV9fTwvdGg+XFxuICAgICAgPC90cj5cXG4gICAgICA8dHIgbmctcmVwZWF0PVxcXCJpdGVtIGluIHZtLmxpc3RcXFwiPlxcbiAgICAgICAgPHRkPnt7aXRlbS5uYW1lfX08L3RkPlxcbiAgICAgICAgPHRkPnt7aXRlbS50aXRsZX19PC90ZD5cXG4gICAgICAgIDx0ZCBuZy1yZXBlYXQ9XFxcInJvbGUgaW4gdm0ucm9sZUxpc3RcXFwiPlxcbiAgICAgICAgICA8bGFiZWwgY2xhc3M9XFxcIm1jLXJhZGlvXFxcIj5cXG4gICAgICAgICAgICA8aW5wdXQgdHlwZT1cXFwiY2hlY2tib3hcXFwiIG5nLW1vZGVsPVxcXCJ2bS5hY2Nlc3Nbcm9sZS52YWx1ZV1baXRlbS5uYW1lXVxcXCIgLz5cXG4gICAgICAgICAgICA8aSBjbGFzcz1cXFwiaWNvbi1jaGVja1xcXCI+PC9pPlxcbiAgICAgICAgICA8L2xhYmVsPlxcbiAgICAgICAgPC90ZD5cXG4gICAgICA8L3RyPlxcbiAgICA8L3RhYmxlPlxcbiAgPC9kaXY+XFxuICBcXG4gIDxkaXYgY2xhc3M9XFxcIm1vZGFsLWZvb3RlclxcXCI+XFxuICAgIDxidXR0b24gdHlwZT1cXFwiYnV0dG9uXFxcIiBjbGFzcz1cXFwiYnRuIGJ0bi1zdWNjZXNzIGJ0bi1zbVxcXCIgbmctY2xpY2s9XFxcInZtLnN1Ym1pdCgpXFxcIj4g5L+d5a2YPC9idXR0b24+XFxuICA8L2Rpdj5cXG48L3NlY3Rpb24+XFxuXCIpO1xuJHRlbXBsYXRlQ2FjaGUucHV0KFwibW9kdWxlcy9kZW1vL2NvbXBvbmVudC9pbmRleC5odG1sXCIsXCI8aGVhZGVyIGNsYXNzPVxcXCJuYXZiYXIgbmF2YmFyLXN0YXRpYy10b3AgYnMtZG9jcy1uYXZcXFwiIGlkPVxcXCJ0b3BcXFwiIHJvbGU9XFxcImJhbm5lclxcXCI+XFxuICAgIDxkaXYgY2xhc3M9XFxcImNvbnRhaW5lclxcXCI+XFxuICAgICAgPGRpdiBjbGFzcz1cXFwibmF2YmFyLWhlYWRlclxcXCI+XFxuICAgICAgICA8YnV0dG9uIGNsYXNzPVxcXCJuYXZiYXItdG9nZ2xlIGNvbGxhcHNlZFxcXCIgdHlwZT1cXFwiYnV0dG9uXFxcIiBkYXRhLXRvZ2dsZT1cXFwiY29sbGFwc2VcXFwiIGRhdGEtdGFyZ2V0PVxcXCIjYnMtbmF2YmFyXFxcIiBhcmlhLWNvbnRyb2xzPVxcXCJicy1uYXZiYXJcXFwiIGFyaWEtZXhwYW5kZWQ9XFxcImZhbHNlXFxcIj5cXG4gICAgICAgICAgPHNwYW4gY2xhc3M9XFxcInNyLW9ubHlcXFwiPlRvZ2dsZSBuYXZpZ2F0aW9uPC9zcGFuPlxcbiAgICAgICAgICA8c3BhbiBjbGFzcz1cXFwiaWNvbi1iYXJcXFwiPjwvc3Bhbj5cXG4gICAgICAgICAgPHNwYW4gY2xhc3M9XFxcImljb24tYmFyXFxcIj48L3NwYW4+XFxuICAgICAgICAgIDxzcGFuIGNsYXNzPVxcXCJpY29uLWJhclxcXCI+PC9zcGFuPlxcbiAgICAgICAgPC9idXR0b24+XFxuICAgICAgICA8YSBocmVmPVxcXCIuLi9cXFwiIGNsYXNzPVxcXCJuYXZiYXItYnJhbmRcXFwiPk1DLWJvb3RzdHJhcDwvYT5cXG4gICAgICA8L2Rpdj5cXG4gICAgICA8bmF2IGlkPVxcXCJicy1uYXZiYXJcXFwiIGNsYXNzPVxcXCJjb2xsYXBzZSBuYXZiYXItY29sbGFwc2VcXFwiPlxcbiAgICAgICAgPHVsIGNsYXNzPVxcXCJuYXYgbmF2YmFyLW5hdlxcXCIgc3R5bGU9XFxcImRpc3BsYXk6bm9uZVxcXCI+XFxuICAgICAgICAgIDxsaT5cXG4gICAgICAgICAgICA8YSBocmVmPVxcXCIuLi9nZXR0aW5nLXN0YXJ0ZWQvXFxcIiBvbmNsaWNrPVxcXCJfaG10LnB1c2goW1xcJ190cmFja0V2ZW50XFwnLCBcXCdkb2N2My1uYXZiYXJcXCcsIFxcJ2NsaWNrXFwnLCBcXCdWM+WvvOiIqi3otbfmraVcXCddKVxcXCI+6LW35q2lPC9hPlxcbiAgICAgICAgICA8L2xpPlxcbiAgICAgICAgICA8bGk+XFxuICAgICAgICAgICAgPGEgaHJlZj1cXFwiLi4vY3NzL1xcXCIgb25jbGljaz1cXFwiX2htdC5wdXNoKFtcXCdfdHJhY2tFdmVudFxcJywgXFwnZG9jdjMtbmF2YmFyXFwnLCBcXCdjbGlja1xcJywgXFwnVjPlr7zoiKot5YWo5bGAQ1NT5qC35byPXFwnXSlcXFwiPuWFqOWxgCBDU1Mg5qC35byPPC9hPlxcbiAgICAgICAgICA8L2xpPlxcbiAgICAgICAgICA8bGkgY2xhc3M9XFxcImFjdGl2ZVxcXCI+XFxuICAgICAgICAgICAgPGEgaHJlZj1cXFwiLi4vY29tcG9uZW50cy9cXFwiIG9uY2xpY2s9XFxcIl9obXQucHVzaChbXFwnX3RyYWNrRXZlbnRcXCcsIFxcJ2RvY3YzLW5hdmJhclxcJywgXFwnY2xpY2tcXCcsIFxcJ1Yz5a+86IiqLee7hOS7tlxcJ10pXFxcIj7nu4Tku7Y8L2E+XFxuICAgICAgICAgIDwvbGk+XFxuICAgICAgICAgIDxsaT5cXG4gICAgICAgICAgICA8YSBocmVmPVxcXCIuLi9qYXZhc2NyaXB0L1xcXCIgb25jbGljaz1cXFwiX2htdC5wdXNoKFtcXCdfdHJhY2tFdmVudFxcJywgXFwnZG9jdjMtbmF2YmFyXFwnLCBcXCdjbGlja1xcJywgXFwnVjPlr7zoiKotSmF2YVNjcmlwdOaPkuS7tlxcJ10pXFxcIj5KYXZhU2NyaXB0IOaPkuS7tjwvYT5cXG4gICAgICAgICAgPC9saT5cXG4gICAgICAgICAgPGxpPlxcbiAgICAgICAgICAgIDxhIGhyZWY9XFxcIi4uL2N1c3RvbWl6ZS9cXFwiIG9uY2xpY2s9XFxcIl9obXQucHVzaChbXFwnX3RyYWNrRXZlbnRcXCcsIFxcJ2RvY3YzLW5hdmJhclxcJywgXFwnY2xpY2tcXCcsIFxcJ1Yz5a+86IiqLeWumuWItlxcJ10pXFxcIj7lrprliLY8L2E+XFxuICAgICAgICAgIDwvbGk+XFxuICAgICAgICAgIDxsaT48YSBocmVmPVxcXCJodHRwOi8vZXhwby5ib290Y3NzLmNvbVxcXCIgb25jbGljaz1cXFwiX2htdC5wdXNoKFtcXCdfdHJhY2tFdmVudFxcJywgXFwnZG9jdjMtbmF2YmFyXFwnLCBcXCdjbGlja1xcJywgXFwnVjPlr7zoiKot572R56uZ5a6e5L6LXFwnXSlcXFwiIHRhcmdldD1cXFwiX2JsYW5rXFxcIj7nvZHnq5nlrp7kvos8L2E+PC9saT5cXG4gICAgICAgIDwvdWw+XFxuICAgICAgICA8dWwgY2xhc3M9XFxcIm5hdiBuYXZiYXItbmF2IG5hdmJhci1yaWdodFxcXCI+XFxuICAgICAgICAgIDxsaT48YSBocmVmPVxcXCJodHRwOi8vd3d3LmJvb3Rjc3MuY29tL1xcXCIgb25jbGljaz1cXFwiX2htdC5wdXNoKFtcXCdfdHJhY2tFdmVudFxcJywgXFwnZG9jdjMtbmF2YmFyXFwnLCBcXCdjbGlja1xcJywgXFwnVjPlr7zoiKotQm9vdHN0cmFw5Lit5paH572RXFwnXSlcXFwiIHRhcmdldD1cXFwiX2JsYW5rXFxcIj5Cb290c3RyYXDkuK3mlofnvZE8L2E+PC9saT5cXG4gICAgICAgIDwvdWw+XFxuICAgICAgPC9uYXY+XFxuICAgIDwvZGl2PlxcbiAgPC9oZWFkZXI+XFxuICA8ZGl2IGNsYXNzPVxcXCJicy1kb2NzLWhlYWRlclxcXCIgdGFiaW5kZXg9XFxcIi0xXFxcIj5cXG4gICAgPGRpdiBjbGFzcz1cXFwiY29udGFpbmVyXFxcIj5cXG4gICAgICA8aDE+57uE5Lu2PC9oMT5cXG4gICAgICA8cD7ml6DmlbDlj6/lpI3nlKjnmoTnu4Tku7bvvIzljIXmi6zlrZfkvZPlm77moIfjgIHkuIvmi4noj5zljZXjgIHlr7zoiKrjgIHorablkYrmoYbjgIHlvLnlh7rmoYbnrYnmm7TlpJrlip/og73jgII8L3A+XFxuICAgIDwvZGl2PlxcbiAgPC9kaXY+XFxuXFxuICA8ZGl2IGNsYXNzPVxcXCJjb250YWluZXIgYnMtZG9jcy1jb250YWluZXJcXFwiPlxcbiAgICA8ZGl2IGNsYXNzPVxcXCJyb3dcXFwiPlxcbiAgICAgIDxkaXYgY2xhc3M9XFxcImNvbC1tZC05XFxcIiByb2xlPVxcXCJtYWluXFxcIj5cXG5cXG4gICAgICAgIDxkaXYgY2xhc3M9XFxcImJzLWRvY3Mtc2VjdGlvblxcXCI+XFxuICAgICAgICAgIDxoMiBpZD1cXFwiYXZhdGFyc1xcXCI+PGEgY2xhc3M9XFxcImFuY2hvcmpzLWxpbmsgXFxcIiBocmVmPVxcXCIjdGh1bWJuYWlscy1kZWZhdWx0XFxcIiBhcmlhLWxhYmVsPVxcXCJBbmNob3IgbGluayBmb3I6IHRodW1ibmFpbHMgZGVmYXVsdFxcXCIgZGF0YS1hbmNob3Jqcy1pY29uPVxcXCLup4tcXFwiIHN0eWxlPVxcXCJmb250LWZhbWlseTogYW5jaG9yanMtaWNvbnM7IGZvbnQtc3R5bGU6IG5vcm1hbDsgZm9udC12YXJpYW50OiBub3JtYWw7IGZvbnQtd2VpZ2h0OiBub3JtYWw7IHBvc2l0aW9uOiBhYnNvbHV0ZTsgbWFyZ2luLWxlZnQ6IC0xZW07IHBhZGRpbmctcmlnaHQ6IDAuNWVtO1xcXCI+PC9hPuWktOWDj+agt+W8jzwvaDI+XFxuICAgICAgICAgIDxwPuebruWJjemihOWumuS6hjPnp43op4TmoLznmoTlpLTlg4/moLflvI/jgII8L3A+XFxuICAgICAgICAgIDxkaXYgY2xhc3M9XFxcImJzLWV4YW1wbGVcXFwiIGRhdGEtZXhhbXBsZS1pZD1cXFwic2ltcGxlLXRodW1ibmFpbHNcXFwiPlxcbiAgICAgICAgICAgIDxpbWcgc3JjPVxcXCIuLi5cXFwiIGFsdD1cXFwiLi4uXFxcIiBjbGFzcz1cXFwiaW1nLWNpcmNsZSBhdmF0YXItbGFyZ2VyXFxcIj5cXG4gICAgICAgICAgICA8aW1nIHNyYz1cXFwiLi4uXFxcIiBhbHQ9XFxcIi4uLlxcXCIgY2xhc3M9XFxcImltZy1jaXJjbGUgYXZhdGFyLW1pZGRsZVxcXCI+XFxuICAgICAgICAgICAgPGltZyBzcmM9XFxcIi4uLlxcXCIgYWx0PVxcXCIuLi5cXFwiIGNsYXNzPVxcXCJpbWctY2lyY2xlIGF2YXRhci1zbWFsbFxcXCI+XFxuICAgICAgICAgIDwvZGl2PlxcbiAgICAgICAgICA8ZGl2IGNsYXNzPVxcXCJoaWdobGlnaHRcXFwiPjxwcmU+PGNvZGUgY2xhc3M9XFxcImxhbmd1YWdlLWh0bWxcXFwiIGRhdGEtbGFuZz1cXFwiaHRtbFxcXCI+PHNwYW4gY2xhc3M9XFxcIm50XFxcIj4mbHQ7aW1nPC9zcGFuPiA8c3BhbiBjbGFzcz1cXFwibmFcXFwiPnNyYz08L3NwYW4+PHNwYW4gY2xhc3M9XFxcInNcXFwiPlxcXCIuLi5cXFwiPC9zcGFuPiA8c3BhbiBjbGFzcz1cXFwibmFcXFwiPmFsdD08L3NwYW4+PHNwYW4gY2xhc3M9XFxcInNcXFwiPlxcXCIuLi5cXFwiPC9zcGFuPiA8c3BhbiBjbGFzcz1cXFwibmFcXFwiPmNsYXNzPTwvc3Bhbj48c3BhbiBjbGFzcz1cXFwic1xcXCI+XFxcImltZy1jaXJjbGUgYXZhdGFyLWxhcmdlclxcXCI8L3NwYW4+PHNwYW4gY2xhc3M9XFxcIm50XFxcIj4mZ3Q7PC9zcGFuPlxcbjxzcGFuIGNsYXNzPVxcXCJudFxcXCI+Jmx0O2ltZzwvc3Bhbj4gPHNwYW4gY2xhc3M9XFxcIm5hXFxcIj5zcmM9PC9zcGFuPjxzcGFuIGNsYXNzPVxcXCJzXFxcIj5cXFwiLi4uXFxcIjwvc3Bhbj4gPHNwYW4gY2xhc3M9XFxcIm5hXFxcIj5hbHQ9PC9zcGFuPjxzcGFuIGNsYXNzPVxcXCJzXFxcIj5cXFwiLi4uXFxcIjwvc3Bhbj4gPHNwYW4gY2xhc3M9XFxcIm5hXFxcIj5jbGFzcz08L3NwYW4+PHNwYW4gY2xhc3M9XFxcInNcXFwiPlxcXCJpbWctY2lyY2xlIGF2YXRhci1taWRkbGVcXFwiPC9zcGFuPjxzcGFuIGNsYXNzPVxcXCJudFxcXCI+Jmd0Ozwvc3Bhbj5cXG48c3BhbiBjbGFzcz1cXFwibnRcXFwiPiZsdDtpbWc8L3NwYW4+IDxzcGFuIGNsYXNzPVxcXCJuYVxcXCI+c3JjPTwvc3Bhbj48c3BhbiBjbGFzcz1cXFwic1xcXCI+XFxcIi4uLlxcXCI8L3NwYW4+IDxzcGFuIGNsYXNzPVxcXCJuYVxcXCI+YWx0PTwvc3Bhbj48c3BhbiBjbGFzcz1cXFwic1xcXCI+XFxcIi4uLlxcXCI8L3NwYW4+IDxzcGFuIGNsYXNzPVxcXCJuYVxcXCI+Y2xhc3M9PC9zcGFuPjxzcGFuIGNsYXNzPVxcXCJzXFxcIj5cXFwiaW1nLWNpcmNsZSBhdmF0YXItc21hbGxcXFwiPC9zcGFuPjxzcGFuIGNsYXNzPVxcXCJudFxcXCI+Jmd0Ozwvc3Bhbj48L2NvZGU+PC9wcmU+PC9kaXY+XFxuICAgICAgICA8L2Rpdj5cXG5cXG4gICAgICAgIDxkaXYgY2xhc3M9XFxcImJzLWRvY3Mtc2VjdGlvblxcXCI+XFxuICAgICAgICAgIDxoMSBpZD1cXFwiYnV0dG9uc1xcXCIgY2xhc3M9XFxcInBhZ2UtaGVhZGVyXFxcIj48YSBjbGFzcz1cXFwiYW5jaG9yanMtbGluayBcXFwiIGhyZWY9XFxcIiNidXR0b25zXFxcIiBhcmlhLWxhYmVsPVxcXCJBbmNob3IgbGluayBmb3I6IGJ1dHRvbnNcXFwiIGRhdGEtYW5jaG9yanMtaWNvbj1cXFwi7qeLXFxcIiBzdHlsZT1cXFwiZm9udC1mYW1pbHk6IGFuY2hvcmpzLWljb25zOyBmb250LXN0eWxlOiBub3JtYWw7IGZvbnQtdmFyaWFudDogbm9ybWFsOyBmb250LXdlaWdodDogbm9ybWFsOyBwb3NpdGlvbjogYWJzb2x1dGU7IG1hcmdpbi1sZWZ0OiAtMWVtOyBwYWRkaW5nLXJpZ2h0OiAwLjVlbTtcXFwiPjwvYT7mjInpkq48L2gxPlxcbiAgICAgICAgICA8aDIgaWQ9XFxcImJ1dHRvbnMtdGFnc1xcXCI+PGEgY2xhc3M9XFxcImFuY2hvcmpzLWxpbmsgXFxcIiBocmVmPVxcXCIjYnV0dG9ucy10YWdzXFxcIiBhcmlhLWxhYmVsPVxcXCJBbmNob3IgbGluayBmb3I6IGJ1dHRvbnMgdGFnc1xcXCIgZGF0YS1hbmNob3Jqcy1pY29uPVxcXCLup4tcXFwiIHN0eWxlPVxcXCJmb250LWZhbWlseTogYW5jaG9yanMtaWNvbnM7IGZvbnQtc3R5bGU6IG5vcm1hbDsgZm9udC12YXJpYW50OiBub3JtYWw7IGZvbnQtd2VpZ2h0OiBub3JtYWw7IHBvc2l0aW9uOiBhYnNvbHV0ZTsgbWFyZ2luLWxlZnQ6IC0xZW07IHBhZGRpbmctcmlnaHQ6IDAuNWVtO1xcXCI+PC9hPuWPr+S9nOS4uuaMiemSruS9v+eUqOeahOagh+etvuaIluWFg+e0oDwvaDI+XFxuICAgICAgICAgIDxoMiBpZD1cXFwiYnV0dG9ucy1zaXplc1xcXCI+PGEgY2xhc3M9XFxcImFuY2hvcmpzLWxpbmsgXFxcIiBocmVmPVxcXCIjYnV0dG9ucy1zaXplc1xcXCIgYXJpYS1sYWJlbD1cXFwiQW5jaG9yIGxpbmsgZm9yOiBidXR0b25zIHNpemVzXFxcIiBkYXRhLWFuY2hvcmpzLWljb249XFxcIu6ni1xcXCIgc3R5bGU9XFxcImZvbnQtZmFtaWx5OiBhbmNob3Jqcy1pY29uczsgZm9udC1zdHlsZTogbm9ybWFsOyBmb250LXZhcmlhbnQ6IG5vcm1hbDsgZm9udC13ZWlnaHQ6IG5vcm1hbDsgcG9zaXRpb246IGFic29sdXRlOyBtYXJnaW4tbGVmdDogLTFlbTsgcGFkZGluZy1yaWdodDogMC41ZW07XFxcIj48L2E+5bC65a+4PC9oMj5cXG4gICAgICAgICAgPGRpdiBjbGFzcz1cXFwiYnMtZXhhbXBsZVxcXCIgZGF0YS1leGFtcGxlLWlkPVxcXCJidG4tc2l6ZXNcXFwiPlxcbiAgICAgICAgICAgIDxwPlxcbiAgICAgICAgICAgICAgPGJ1dHRvbiB0eXBlPVxcXCJidXR0b25cXFwiIGNsYXNzPVxcXCJidG4gYnRuLXByaW1hcnkgYnRuLWxnXFxcIj7vvIjlpKfmjInpkq7vvIlMYXJnZSBidXR0b248L2J1dHRvbj5cXG4gICAgICAgICAgICAgIDxidXR0b24gdHlwZT1cXFwiYnV0dG9uXFxcIiBjbGFzcz1cXFwiYnRuIGJ0bi1kZWZhdWx0IGJ0bi1sZ1xcXCI+77yI5aSn5oyJ6ZKu77yJTGFyZ2UgYnV0dG9uPC9idXR0b24+XFxuICAgICAgICAgICAgPC9wPlxcbiAgICAgICAgICAgIDxwPlxcbiAgICAgICAgICAgICAgPGJ1dHRvbiB0eXBlPVxcXCJidXR0b25cXFwiIGNsYXNzPVxcXCJidG4gYnRuLXByaW1hcnlcXFwiPu+8iOm7mOiupOWwuuWvuO+8iURlZmF1bHQgYnV0dG9uPC9idXR0b24+XFxuICAgICAgICAgICAgICA8YnV0dG9uIHR5cGU9XFxcImJ1dHRvblxcXCIgY2xhc3M9XFxcImJ0biBidG4tZGVmYXVsdFxcXCI+77yI6buY6K6k5bC65a+477yJRGVmYXVsdCBidXR0b248L2J1dHRvbj5cXG4gICAgICAgICAgICA8L3A+XFxuICAgICAgICAgIDwvZGl2PlxcbiAgICAgICAgICA8ZGl2IGNsYXNzPVxcXCJoaWdobGlnaHRcXFwiPjxwcmU+PGNvZGUgY2xhc3M9XFxcImxhbmd1YWdlLWh0bWxcXFwiIGRhdGEtbGFuZz1cXFwiaHRtbFxcXCI+PHNwYW4gY2xhc3M9XFxcIm50XFxcIj4mbHQ7cCZndDs8L3NwYW4+XFxuICA8c3BhbiBjbGFzcz1cXFwibnRcXFwiPiZsdDtidXR0b248L3NwYW4+IDxzcGFuIGNsYXNzPVxcXCJuYVxcXCI+dHlwZT08L3NwYW4+PHNwYW4gY2xhc3M9XFxcInNcXFwiPlxcXCJidXR0b25cXFwiPC9zcGFuPiA8c3BhbiBjbGFzcz1cXFwibmFcXFwiPmNsYXNzPTwvc3Bhbj48c3BhbiBjbGFzcz1cXFwic1xcXCI+XFxcImJ0biBidG4tcHJpbWFyeSBidG4tbGdcXFwiPC9zcGFuPjxzcGFuIGNsYXNzPVxcXCJudFxcXCI+Jmd0Ozwvc3Bhbj7vvIjlpKfmjInpkq7vvIlMYXJnZSBidXR0b248c3BhbiBjbGFzcz1cXFwibnRcXFwiPiZsdDsvYnV0dG9uJmd0Ozwvc3Bhbj5cXG4gIDxzcGFuIGNsYXNzPVxcXCJudFxcXCI+Jmx0O2J1dHRvbjwvc3Bhbj4gPHNwYW4gY2xhc3M9XFxcIm5hXFxcIj50eXBlPTwvc3Bhbj48c3BhbiBjbGFzcz1cXFwic1xcXCI+XFxcImJ1dHRvblxcXCI8L3NwYW4+IDxzcGFuIGNsYXNzPVxcXCJuYVxcXCI+Y2xhc3M9PC9zcGFuPjxzcGFuIGNsYXNzPVxcXCJzXFxcIj5cXFwiYnRuIGJ0bi1kZWZhdWx0IGJ0bi1sZ1xcXCI8L3NwYW4+PHNwYW4gY2xhc3M9XFxcIm50XFxcIj4mZ3Q7PC9zcGFuPu+8iOWkp+aMiemSru+8iUxhcmdlIGJ1dHRvbjxzcGFuIGNsYXNzPVxcXCJudFxcXCI+Jmx0Oy9idXR0b24mZ3Q7PC9zcGFuPlxcbjxzcGFuIGNsYXNzPVxcXCJudFxcXCI+Jmx0Oy9wJmd0Ozwvc3Bhbj5cXG48c3BhbiBjbGFzcz1cXFwibnRcXFwiPiZsdDtwJmd0Ozwvc3Bhbj5cXG4gIDxzcGFuIGNsYXNzPVxcXCJudFxcXCI+Jmx0O2J1dHRvbjwvc3Bhbj4gPHNwYW4gY2xhc3M9XFxcIm5hXFxcIj50eXBlPTwvc3Bhbj48c3BhbiBjbGFzcz1cXFwic1xcXCI+XFxcImJ1dHRvblxcXCI8L3NwYW4+IDxzcGFuIGNsYXNzPVxcXCJuYVxcXCI+Y2xhc3M9PC9zcGFuPjxzcGFuIGNsYXNzPVxcXCJzXFxcIj5cXFwiYnRuIGJ0bi1wcmltYXJ5XFxcIjwvc3Bhbj48c3BhbiBjbGFzcz1cXFwibnRcXFwiPiZndDs8L3NwYW4+77yI6buY6K6k5bC65a+477yJRGVmYXVsdCBidXR0b248c3BhbiBjbGFzcz1cXFwibnRcXFwiPiZsdDsvYnV0dG9uJmd0Ozwvc3Bhbj5cXG4gIDxzcGFuIGNsYXNzPVxcXCJudFxcXCI+Jmx0O2J1dHRvbjwvc3Bhbj4gPHNwYW4gY2xhc3M9XFxcIm5hXFxcIj50eXBlPTwvc3Bhbj48c3BhbiBjbGFzcz1cXFwic1xcXCI+XFxcImJ1dHRvblxcXCI8L3NwYW4+IDxzcGFuIGNsYXNzPVxcXCJuYVxcXCI+Y2xhc3M9PC9zcGFuPjxzcGFuIGNsYXNzPVxcXCJzXFxcIj5cXFwiYnRuIGJ0bi1kZWZhdWx0XFxcIjwvc3Bhbj48c3BhbiBjbGFzcz1cXFwibnRcXFwiPiZndDs8L3NwYW4+77yI6buY6K6k5bC65a+477yJRGVmYXVsdCBidXR0b248c3BhbiBjbGFzcz1cXFwibnRcXFwiPiZsdDsvYnV0dG9uJmd0Ozwvc3Bhbj5cXG48c3BhbiBjbGFzcz1cXFwibnRcXFwiPiZsdDsvcCZndDs8L3NwYW4+XFxuPC9jb2RlPjwvcHJlPjwvZGl2PlxcbiAgICAgICAgICA8aDIgaWQ9XFxcImJ1dHRvbnMtb3B0aW9uc1xcXCI+PGEgY2xhc3M9XFxcImFuY2hvcmpzLWxpbmsgXFxcIiBocmVmPVxcXCIjYnV0dG9ucy1vcHRpb25zXFxcIiBhcmlhLWxhYmVsPVxcXCJBbmNob3IgbGluayBmb3I6IGJ1dHRvbnMgb3B0aW9uc1xcXCIgZGF0YS1hbmNob3Jqcy1pY29uPVxcXCLup4tcXFwiIHN0eWxlPVxcXCJmb250LWZhbWlseTogYW5jaG9yanMtaWNvbnM7IGZvbnQtc3R5bGU6IG5vcm1hbDsgZm9udC12YXJpYW50OiBub3JtYWw7IGZvbnQtd2VpZ2h0OiBub3JtYWw7IHBvc2l0aW9uOiBhYnNvbHV0ZTsgbWFyZ2luLWxlZnQ6IC0xZW07IHBhZGRpbmctcmlnaHQ6IDAuNWVtO1xcXCI+PC9hPumihOWumuS5ieagt+W8jzwvaDI+XFxuXFxuICAgICAgICAgIDxwPuS9v+eUqOS4i+mdouWIl+WHuueahOexu+WPr+S7peW/q+mAn+WIm+W7uuS4gOS4quW4puaciemihOWumuS5ieagt+W8j+eahOaMiemSruOAgjwvcD5cXG4gICAgICAgICAgPGRpdiBjbGFzcz1cXFwiYnMtZXhhbXBsZVxcXCI+XFxuICAgICAgICAgICAgPGJ1dHRvbiB0eXBlPVxcXCJidXR0b25cXFwiIGNsYXNzPVxcXCJidG4gYnRuLWRlZmF1bHRcXFwiPu+8iOm7mOiupOagt+W8j++8iURlZmF1bHQ8L2J1dHRvbj5cXG4gICAgICAgICAgICA8YnV0dG9uIHR5cGU9XFxcImJ1dHRvblxcXCIgY2xhc3M9XFxcImJ0biBidG4tcHJpbWFyeVxcXCI+77yI6aaW6YCJ6aG577yJUHJpbWFyeTwvYnV0dG9uPlxcbiAgICAgICAgICAgIDxidXR0b24gdHlwZT1cXFwiYnV0dG9uXFxcIiBjbGFzcz1cXFwiYnRuIGJ0bi1zdWNjZXNzXFxcIj7vvIjmiJDlip/vvIlTdWNjZXNzPC9idXR0b24+XFxuICAgICAgICAgICAgPGJ1dHRvbiB0eXBlPVxcXCJidXR0b25cXFwiIGNsYXNzPVxcXCJidG4gYnRuLWluZm9cXFwiPu+8iOS4gOiIrOS/oeaBr++8iUluZm88L2J1dHRvbj5cXG4gICAgICAgICAgICA8YnV0dG9uIHR5cGU9XFxcImJ1dHRvblxcXCIgY2xhc3M9XFxcImJ0biBidG4td2FybmluZ1xcXCI+77yI6K2m5ZGK77yJV2FybmluZzwvYnV0dG9uPlxcbiAgICAgICAgICAgIDxidXR0b24gdHlwZT1cXFwiYnV0dG9uXFxcIiBjbGFzcz1cXFwiYnRuIGJ0bi1kYW5nZXJcXFwiPu+8iOWNsemZqe+8iURhbmdlcjwvYnV0dG9uPlxcbiAgICAgICAgICAgIDxidXR0b24gdHlwZT1cXFwiYnV0dG9uXFxcIiBjbGFzcz1cXFwiYnRuIGJ0bi1saW5rXFxcIj7vvIjpk77mjqXvvIlMaW5rPC9idXR0b24+XFxuICAgICAgICAgIDwvZGl2PlxcbiAgICAgICAgICA8ZGl2IGNsYXNzPVxcXCJoaWdobGlnaHRcXFwiPjxwcmU+PGNvZGUgY2xhc3M9XFxcImxhbmd1YWdlLWh0bWxcXFwiIGRhdGEtbGFuZz1cXFwiaHRtbFxcXCI+PHNwYW4gY2xhc3M9XFxcImNcXFwiPiZsdDshLS0gU3RhbmRhcmQgYnV0dG9uIC0tJmd0Ozwvc3Bhbj5cXG48c3BhbiBjbGFzcz1cXFwibnRcXFwiPiZsdDtidXR0b248L3NwYW4+IDxzcGFuIGNsYXNzPVxcXCJuYVxcXCI+dHlwZT08L3NwYW4+PHNwYW4gY2xhc3M9XFxcInNcXFwiPlxcXCJidXR0b25cXFwiPC9zcGFuPiA8c3BhbiBjbGFzcz1cXFwibmFcXFwiPmNsYXNzPTwvc3Bhbj48c3BhbiBjbGFzcz1cXFwic1xcXCI+XFxcImJ0biBidG4tZGVmYXVsdFxcXCI8L3NwYW4+PHNwYW4gY2xhc3M9XFxcIm50XFxcIj4mZ3Q7PC9zcGFuPu+8iOm7mOiupOagt+W8j++8iURlZmF1bHQ8c3BhbiBjbGFzcz1cXFwibnRcXFwiPiZsdDsvYnV0dG9uJmd0Ozwvc3Bhbj5cXG5cXG48c3BhbiBjbGFzcz1cXFwiY1xcXCI+Jmx0OyEtLSBQcm92aWRlcyBleHRyYSB2aXN1YWwgd2VpZ2h0IGFuZCBpZGVudGlmaWVzIHRoZSBwcmltYXJ5IGFjdGlvbiBpbiBhIHNldCBvZiBidXR0b25zIC0tJmd0Ozwvc3Bhbj5cXG48c3BhbiBjbGFzcz1cXFwibnRcXFwiPiZsdDtidXR0b248L3NwYW4+IDxzcGFuIGNsYXNzPVxcXCJuYVxcXCI+dHlwZT08L3NwYW4+PHNwYW4gY2xhc3M9XFxcInNcXFwiPlxcXCJidXR0b25cXFwiPC9zcGFuPiA8c3BhbiBjbGFzcz1cXFwibmFcXFwiPmNsYXNzPTwvc3Bhbj48c3BhbiBjbGFzcz1cXFwic1xcXCI+XFxcImJ0biBidG4tcHJpbWFyeVxcXCI8L3NwYW4+PHNwYW4gY2xhc3M9XFxcIm50XFxcIj4mZ3Q7PC9zcGFuPu+8iOmmlumAiemhue+8iVByaW1hcnk8c3BhbiBjbGFzcz1cXFwibnRcXFwiPiZsdDsvYnV0dG9uJmd0Ozwvc3Bhbj5cXG5cXG48c3BhbiBjbGFzcz1cXFwiY1xcXCI+Jmx0OyEtLSBJbmRpY2F0ZXMgYSBzdWNjZXNzZnVsIG9yIHBvc2l0aXZlIGFjdGlvbiAtLSZndDs8L3NwYW4+XFxuPHNwYW4gY2xhc3M9XFxcIm50XFxcIj4mbHQ7YnV0dG9uPC9zcGFuPiA8c3BhbiBjbGFzcz1cXFwibmFcXFwiPnR5cGU9PC9zcGFuPjxzcGFuIGNsYXNzPVxcXCJzXFxcIj5cXFwiYnV0dG9uXFxcIjwvc3Bhbj4gPHNwYW4gY2xhc3M9XFxcIm5hXFxcIj5jbGFzcz08L3NwYW4+PHNwYW4gY2xhc3M9XFxcInNcXFwiPlxcXCJidG4gYnRuLXN1Y2Nlc3NcXFwiPC9zcGFuPjxzcGFuIGNsYXNzPVxcXCJudFxcXCI+Jmd0Ozwvc3Bhbj7vvIjmiJDlip/vvIlTdWNjZXNzPHNwYW4gY2xhc3M9XFxcIm50XFxcIj4mbHQ7L2J1dHRvbiZndDs8L3NwYW4+XFxuXFxuPHNwYW4gY2xhc3M9XFxcImNcXFwiPiZsdDshLS0gQ29udGV4dHVhbCBidXR0b24gZm9yIGluZm9ybWF0aW9uYWwgYWxlcnQgbWVzc2FnZXMgLS0mZ3Q7PC9zcGFuPlxcbjxzcGFuIGNsYXNzPVxcXCJudFxcXCI+Jmx0O2J1dHRvbjwvc3Bhbj4gPHNwYW4gY2xhc3M9XFxcIm5hXFxcIj50eXBlPTwvc3Bhbj48c3BhbiBjbGFzcz1cXFwic1xcXCI+XFxcImJ1dHRvblxcXCI8L3NwYW4+IDxzcGFuIGNsYXNzPVxcXCJuYVxcXCI+Y2xhc3M9PC9zcGFuPjxzcGFuIGNsYXNzPVxcXCJzXFxcIj5cXFwiYnRuIGJ0bi1pbmZvXFxcIjwvc3Bhbj48c3BhbiBjbGFzcz1cXFwibnRcXFwiPiZndDs8L3NwYW4+77yI5LiA6Iis5L+h5oGv77yJSW5mbzxzcGFuIGNsYXNzPVxcXCJudFxcXCI+Jmx0Oy9idXR0b24mZ3Q7PC9zcGFuPlxcblxcbjxzcGFuIGNsYXNzPVxcXCJjXFxcIj4mbHQ7IS0tIEluZGljYXRlcyBjYXV0aW9uIHNob3VsZCBiZSB0YWtlbiB3aXRoIHRoaXMgYWN0aW9uIC0tJmd0Ozwvc3Bhbj5cXG48c3BhbiBjbGFzcz1cXFwibnRcXFwiPiZsdDtidXR0b248L3NwYW4+IDxzcGFuIGNsYXNzPVxcXCJuYVxcXCI+dHlwZT08L3NwYW4+PHNwYW4gY2xhc3M9XFxcInNcXFwiPlxcXCJidXR0b25cXFwiPC9zcGFuPiA8c3BhbiBjbGFzcz1cXFwibmFcXFwiPmNsYXNzPTwvc3Bhbj48c3BhbiBjbGFzcz1cXFwic1xcXCI+XFxcImJ0biBidG4td2FybmluZ1xcXCI8L3NwYW4+PHNwYW4gY2xhc3M9XFxcIm50XFxcIj4mZ3Q7PC9zcGFuPu+8iOitpuWRiu+8iVdhcm5pbmc8c3BhbiBjbGFzcz1cXFwibnRcXFwiPiZsdDsvYnV0dG9uJmd0Ozwvc3Bhbj5cXG5cXG48c3BhbiBjbGFzcz1cXFwiY1xcXCI+Jmx0OyEtLSBJbmRpY2F0ZXMgYSBkYW5nZXJvdXMgb3IgcG90ZW50aWFsbHkgbmVnYXRpdmUgYWN0aW9uIC0tJmd0Ozwvc3Bhbj5cXG48c3BhbiBjbGFzcz1cXFwibnRcXFwiPiZsdDtidXR0b248L3NwYW4+IDxzcGFuIGNsYXNzPVxcXCJuYVxcXCI+dHlwZT08L3NwYW4+PHNwYW4gY2xhc3M9XFxcInNcXFwiPlxcXCJidXR0b25cXFwiPC9zcGFuPiA8c3BhbiBjbGFzcz1cXFwibmFcXFwiPmNsYXNzPTwvc3Bhbj48c3BhbiBjbGFzcz1cXFwic1xcXCI+XFxcImJ0biBidG4tZGFuZ2VyXFxcIjwvc3Bhbj48c3BhbiBjbGFzcz1cXFwibnRcXFwiPiZndDs8L3NwYW4+77yI5Y2x6Zmp77yJRGFuZ2VyPHNwYW4gY2xhc3M9XFxcIm50XFxcIj4mbHQ7L2J1dHRvbiZndDs8L3NwYW4+XFxuXFxuPHNwYW4gY2xhc3M9XFxcImNcXFwiPiZsdDshLS0gRGVlbXBoYXNpemUgYSBidXR0b24gYnkgbWFraW5nIGl0IGxvb2sgbGlrZSBhIGxpbmsgd2hpbGUgbWFpbnRhaW5pbmcgYnV0dG9uIGJlaGF2aW9yIC0tJmd0Ozwvc3Bhbj5cXG48c3BhbiBjbGFzcz1cXFwibnRcXFwiPiZsdDtidXR0b248L3NwYW4+IDxzcGFuIGNsYXNzPVxcXCJuYVxcXCI+dHlwZT08L3NwYW4+PHNwYW4gY2xhc3M9XFxcInNcXFwiPlxcXCJidXR0b25cXFwiPC9zcGFuPiA8c3BhbiBjbGFzcz1cXFwibmFcXFwiPmNsYXNzPTwvc3Bhbj48c3BhbiBjbGFzcz1cXFwic1xcXCI+XFxcImJ0biBidG4tbGlua1xcXCI8L3NwYW4+PHNwYW4gY2xhc3M9XFxcIm50XFxcIj4mZ3Q7PC9zcGFuPu+8iOmTvuaOpe+8iUxpbms8c3BhbiBjbGFzcz1cXFwibnRcXFwiPiZsdDsvYnV0dG9uJmd0Ozwvc3Bhbj48L2NvZGU+PC9wcmU+PC9kaXY+XFxuXFxuICAgICAgICAgIDxwPuemgeeUqOeahOaMiemSruagt+W8jzwvcD5cXG4gICAgICAgICAgPGRpdiBjbGFzcz1cXFwiYnMtZXhhbXBsZVxcXCI+XFxuICAgICAgICAgICAgPGJ1dHRvbiB0eXBlPVxcXCJidXR0b25cXFwiIGNsYXNzPVxcXCJidG4gYnRuLWRlZmF1bHRcXFwiIGRpc2FibGVkPu+8iOm7mOiupOagt+W8j++8iURlZmF1bHQ8L2J1dHRvbj5cXG4gICAgICAgICAgICA8YnV0dG9uIHR5cGU9XFxcImJ1dHRvblxcXCIgY2xhc3M9XFxcImJ0biBidG4tcHJpbWFyeVxcXCIgZGlzYWJsZWQ+77yI6aaW6YCJ6aG577yJUHJpbWFyeTwvYnV0dG9uPlxcbiAgICAgICAgICAgIDxidXR0b24gdHlwZT1cXFwiYnV0dG9uXFxcIiBjbGFzcz1cXFwiYnRuIGJ0bi1zdWNjZXNzXFxcIiBkaXNhYmxlZD7vvIjmiJDlip/vvIlTdWNjZXNzPC9idXR0b24+XFxuICAgICAgICAgICAgPGJ1dHRvbiB0eXBlPVxcXCJidXR0b25cXFwiIGNsYXNzPVxcXCJidG4gYnRuLWluZm9cXFwiIGRpc2FibGVkPu+8iOS4gOiIrOS/oeaBr++8iUluZm88L2J1dHRvbj5cXG4gICAgICAgICAgICA8YnV0dG9uIHR5cGU9XFxcImJ1dHRvblxcXCIgY2xhc3M9XFxcImJ0biBidG4td2FybmluZ1xcXCIgZGlzYWJsZWQ+77yI6K2m5ZGK77yJV2FybmluZzwvYnV0dG9uPlxcbiAgICAgICAgICAgIDxidXR0b24gdHlwZT1cXFwiYnV0dG9uXFxcIiBjbGFzcz1cXFwiYnRuIGJ0bi1kYW5nZXJcXFwiIGRpc2FibGVkPu+8iOWNsemZqe+8iURhbmdlcjwvYnV0dG9uPlxcbiAgICAgICAgICAgIDxidXR0b24gdHlwZT1cXFwiYnV0dG9uXFxcIiBjbGFzcz1cXFwiYnRuIGJ0bi1saW5rXFxcIiBkaXNhYmxlZD7vvIjpk77mjqXvvIlMaW5rPC9idXR0b24+XFxuICAgICAgICAgIDwvZGl2PlxcblxcbiAgICAgICAgICA8cD7nroDljZXnmoTliIfmjaLpgInpobnmjInpkq48L3A+XFxuICAgICAgICAgIDxkaXYgY2xhc3M9XFxcImJzLWV4YW1wbGVcXFwiIGRhdGEtZXhhbXBsZS1pZD1cXFwic2luZ2xlLWJ1dHRvbi1kcm9wZG93blxcXCI+XFxuICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz1cXFwiYnRuIGJ0bi10b2dnbGVcXFwiPuepuuaooeadvzwvYnV0dG9uPlxcbiAgICAgICAgICAgIDxidXR0b24gY2xhc3M9XFxcImJ0biBidG4tdG9nZ2xlIGFjdGl2ZVxcXCI+5LuL5oqk5LiA57qnPC9idXR0b24+XFxuICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz1cXFwiYnRuIGJ0bi10b2dnbGUgYWN0aXZlIGFycm93XFxcIj7mr4/lkag8L2J1dHRvbj5cXG4gICAgICAgICAgPC9kaXY+XFxuICAgICAgICAgIDxkaXY+XFxuICAgICAgICAgICAgPGNvZGU+XFxuICAgICAgICAgICAgICA8cHJlPiZsdDtkaXYgY2xhc3M9JnF1b3Q7YnMtZXhhbXBsZSZxdW90OyBkYXRhLWV4YW1wbGUtaWQ9JnF1b3Q7c2luZ2xlLWJ1dHRvbi1kcm9wZG93biZxdW90OyZndDtcXG4gICAgICAgICAgICAmbHQ7YnV0dG9uIGNsYXNzPSZxdW90O2J0biBidG4tdG9nZ2xlJnF1b3Q7Jmd0OyYjMzEzNTQ7JiMyNzE2OTsmIzI2NDk1OyZsdDsvYnV0dG9uJmd0O1xcbiAgICAgICAgICAgICZsdDtidXR0b24gY2xhc3M9JnF1b3Q7YnRuIGJ0bi10b2dnbGUgYWN0aXZlJnF1b3Q7Jmd0OyYjMjAxNzE7JiMyNTI1MjsmIzE5OTY4OyYjMzI0MjM7Jmx0Oy9idXR0b24mZ3Q7XFxuICAgICAgICAgICAgJmx0O2J1dHRvbiBjbGFzcz0mcXVvdDtidG4gYnRuLXRvZ2dsZSBhY3RpdmUgYXJyb3cmcXVvdDsmZ3Q7JiMyNzU5OTsmIzIxNjA4OyZsdDsvYnV0dG9uJmd0O1xcbiAgICAgICAgICAmbHQ7L2RpdiZndDs8L3ByZT5cXG4gICAgICAgICAgICA8L2NvZGU+XFxuICAgICAgICAgIDwvZGl2PlxcblxcbiAgICAgICAgICA8aDIgaWQ9XFxcImJ0bi1kcm9wZG93bnMtc2luZ2xlXFxcIj48YSBjbGFzcz1cXFwiYW5jaG9yanMtbGluayBcXFwiIGhyZWY9XFxcIiNidG4tZHJvcGRvd25zLXNpbmdsZVxcXCIgYXJpYS1sYWJlbD1cXFwiQW5jaG9yIGxpbmsgZm9yOiBidG4gZHJvcGRvd25zIHNpbmdsZVxcXCIgZGF0YS1hbmNob3Jqcy1pY29uPVxcXCLup4tcXFwiIHN0eWxlPVxcXCJmb250LWZhbWlseTogYW5jaG9yanMtaWNvbnM7IGZvbnQtc3R5bGU6IG5vcm1hbDsgZm9udC12YXJpYW50OiBub3JtYWw7IGZvbnQtd2VpZ2h0OiBub3JtYWw7IHBvc2l0aW9uOiBhYnNvbHV0ZTsgbWFyZ2luLWxlZnQ6IC0xZW07IHBhZGRpbmctcmlnaHQ6IDAuNWVtO1xcXCI+PC9hPuWIhuijguW8j+aMiemSruS4i+aLieiPnOWNlTwvaDI+XFxuICAgICAgICAgIDxwPuebuOS8vOWcsO+8jOWIhuijguW8j+aMiemSruS4i+aLieiPnOWNleS5n+mcgOimgeWQjOagt+eahOaUueWPmOS4gOS6m+agh+iusO+8jOS9huWPquaYr+WkmuS4gOS4quWIhuW8gOeahOaMiemSruOAgjwvcD5cXG4gICAgICAgICAgPGRpdiBjbGFzcz1cXFwiYnMtZXhhbXBsZVxcXCIgZGF0YS1leGFtcGxlLWlkPVxcXCJzcGxpdC1idXR0b24tZHJvcGRvd25cXFwiPlxcbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XFxcImJ0bi1ncm91cFxcXCI+XFxuICAgICAgICAgICAgICA8YnV0dG9uIHR5cGU9XFxcImJ1dHRvblxcXCIgY2xhc3M9XFxcImJ0biBidG4tZGVmYXVsdFxcXCI+RGVmYXVsdDwvYnV0dG9uPlxcbiAgICAgICAgICAgICAgPGJ1dHRvbiB0eXBlPVxcXCJidXR0b25cXFwiIGNsYXNzPVxcXCJidG4gYnRuLWRlZmF1bHQgZHJvcGRvd24tdG9nZ2xlXFxcIiBkYXRhLXRvZ2dsZT1cXFwiZHJvcGRvd25cXFwiIGFyaWEtaGFzcG9wdXA9XFxcInRydWVcXFwiIGFyaWEtZXhwYW5kZWQ9XFxcImZhbHNlXFxcIj5cXG4gICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XFxcImNhcmV0XFxcIj48L3NwYW4+XFxuICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVxcXCJzci1vbmx5XFxcIj5Ub2dnbGUgRHJvcGRvd248L3NwYW4+XFxuICAgICAgICAgICAgICA8L2J1dHRvbj5cXG4gICAgICAgICAgICAgIDx1bCBjbGFzcz1cXFwiZHJvcGRvd24tbWVudVxcXCI+XFxuICAgICAgICAgICAgICAgIDxsaT48YSBocmVmPVxcXCIjXFxcIj5BY3Rpb248L2E+PC9saT5cXG4gICAgICAgICAgICAgICAgPGxpPjxhIGhyZWY9XFxcIiNcXFwiPkFub3RoZXIgYWN0aW9uPC9hPjwvbGk+XFxuICAgICAgICAgICAgICAgIDxsaT48YSBocmVmPVxcXCIjXFxcIj5Tb21ldGhpbmcgZWxzZSBoZXJlPC9hPjwvbGk+XFxuICAgICAgICAgICAgICAgIDxsaSByb2xlPVxcXCJzZXBhcmF0b3JcXFwiIGNsYXNzPVxcXCJkaXZpZGVyXFxcIj48L2xpPlxcbiAgICAgICAgICAgICAgICA8bGk+PGEgaHJlZj1cXFwiI1xcXCI+U2VwYXJhdGVkIGxpbms8L2E+PC9saT5cXG4gICAgICAgICAgICAgIDwvdWw+XFxuICAgICAgICAgICAgPC9kaXY+PCEtLSAvYnRuLWdyb3VwIC0tPlxcbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XFxcImJ0bi1ncm91cFxcXCI+XFxuICAgICAgICAgICAgICA8YnV0dG9uIHR5cGU9XFxcImJ1dHRvblxcXCIgY2xhc3M9XFxcImJ0biBidG4tcHJpbWFyeVxcXCI+UHJpbWFyeTwvYnV0dG9uPlxcbiAgICAgICAgICAgICAgPGJ1dHRvbiB0eXBlPVxcXCJidXR0b25cXFwiIGNsYXNzPVxcXCJidG4gYnRuLXByaW1hcnkgZHJvcGRvd24tdG9nZ2xlXFxcIiBkYXRhLXRvZ2dsZT1cXFwiZHJvcGRvd25cXFwiIGFyaWEtaGFzcG9wdXA9XFxcInRydWVcXFwiIGFyaWEtZXhwYW5kZWQ9XFxcImZhbHNlXFxcIj5cXG4gICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XFxcImNhcmV0XFxcIj48L3NwYW4+XFxuICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVxcXCJzci1vbmx5XFxcIj5Ub2dnbGUgRHJvcGRvd248L3NwYW4+XFxuICAgICAgICAgICAgICA8L2J1dHRvbj5cXG4gICAgICAgICAgICAgIDx1bCBjbGFzcz1cXFwiZHJvcGRvd24tbWVudVxcXCI+XFxuICAgICAgICAgICAgICAgIDxsaT48YSBocmVmPVxcXCIjXFxcIj5BY3Rpb248L2E+PC9saT5cXG4gICAgICAgICAgICAgICAgPGxpPjxhIGhyZWY9XFxcIiNcXFwiPkFub3RoZXIgYWN0aW9uPC9hPjwvbGk+XFxuICAgICAgICAgICAgICAgIDxsaT48YSBocmVmPVxcXCIjXFxcIj5Tb21ldGhpbmcgZWxzZSBoZXJlPC9hPjwvbGk+XFxuICAgICAgICAgICAgICAgIDxsaSByb2xlPVxcXCJzZXBhcmF0b3JcXFwiIGNsYXNzPVxcXCJkaXZpZGVyXFxcIj48L2xpPlxcbiAgICAgICAgICAgICAgICA8bGk+PGEgaHJlZj1cXFwiI1xcXCI+U2VwYXJhdGVkIGxpbms8L2E+PC9saT5cXG4gICAgICAgICAgICAgIDwvdWw+XFxuICAgICAgICAgICAgPC9kaXY+PCEtLSAvYnRuLWdyb3VwIC0tPlxcbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XFxcImJ0bi1ncm91cFxcXCI+XFxuICAgICAgICAgICAgICA8YnV0dG9uIHR5cGU9XFxcImJ1dHRvblxcXCIgY2xhc3M9XFxcImJ0biBidG4tc3VjY2Vzc1xcXCI+U3VjY2VzczwvYnV0dG9uPlxcbiAgICAgICAgICAgICAgPGJ1dHRvbiB0eXBlPVxcXCJidXR0b25cXFwiIGNsYXNzPVxcXCJidG4gYnRuLXN1Y2Nlc3MgZHJvcGRvd24tdG9nZ2xlXFxcIiBkYXRhLXRvZ2dsZT1cXFwiZHJvcGRvd25cXFwiIGFyaWEtaGFzcG9wdXA9XFxcInRydWVcXFwiIGFyaWEtZXhwYW5kZWQ9XFxcImZhbHNlXFxcIj5cXG4gICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XFxcImNhcmV0XFxcIj48L3NwYW4+XFxuICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVxcXCJzci1vbmx5XFxcIj5Ub2dnbGUgRHJvcGRvd248L3NwYW4+XFxuICAgICAgICAgICAgICA8L2J1dHRvbj5cXG4gICAgICAgICAgICAgIDx1bCBjbGFzcz1cXFwiZHJvcGRvd24tbWVudVxcXCI+XFxuICAgICAgICAgICAgICAgIDxsaT48YSBocmVmPVxcXCIjXFxcIj5BY3Rpb248L2E+PC9saT5cXG4gICAgICAgICAgICAgICAgPGxpPjxhIGhyZWY9XFxcIiNcXFwiPkFub3RoZXIgYWN0aW9uPC9hPjwvbGk+XFxuICAgICAgICAgICAgICAgIDxsaT48YSBocmVmPVxcXCIjXFxcIj5Tb21ldGhpbmcgZWxzZSBoZXJlPC9hPjwvbGk+XFxuICAgICAgICAgICAgICAgIDxsaSByb2xlPVxcXCJzZXBhcmF0b3JcXFwiIGNsYXNzPVxcXCJkaXZpZGVyXFxcIj48L2xpPlxcbiAgICAgICAgICAgICAgICA8bGk+PGEgaHJlZj1cXFwiI1xcXCI+U2VwYXJhdGVkIGxpbms8L2E+PC9saT5cXG4gICAgICAgICAgICAgIDwvdWw+XFxuICAgICAgICAgICAgPC9kaXY+PCEtLSAvYnRuLWdyb3VwIC0tPlxcbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XFxcImJ0bi1ncm91cFxcXCI+XFxuICAgICAgICAgICAgICA8YnV0dG9uIHR5cGU9XFxcImJ1dHRvblxcXCIgY2xhc3M9XFxcImJ0biBidG4taW5mb1xcXCI+SW5mbzwvYnV0dG9uPlxcbiAgICAgICAgICAgICAgPGJ1dHRvbiB0eXBlPVxcXCJidXR0b25cXFwiIGNsYXNzPVxcXCJidG4gYnRuLWluZm8gZHJvcGRvd24tdG9nZ2xlXFxcIiBkYXRhLXRvZ2dsZT1cXFwiZHJvcGRvd25cXFwiIGFyaWEtaGFzcG9wdXA9XFxcInRydWVcXFwiIGFyaWEtZXhwYW5kZWQ9XFxcImZhbHNlXFxcIj5cXG4gICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XFxcImNhcmV0XFxcIj48L3NwYW4+XFxuICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVxcXCJzci1vbmx5XFxcIj5Ub2dnbGUgRHJvcGRvd248L3NwYW4+XFxuICAgICAgICAgICAgICA8L2J1dHRvbj5cXG4gICAgICAgICAgICAgIDx1bCBjbGFzcz1cXFwiZHJvcGRvd24tbWVudVxcXCI+XFxuICAgICAgICAgICAgICAgIDxsaT48YSBocmVmPVxcXCIjXFxcIj5BY3Rpb248L2E+PC9saT5cXG4gICAgICAgICAgICAgICAgPGxpPjxhIGhyZWY9XFxcIiNcXFwiPkFub3RoZXIgYWN0aW9uPC9hPjwvbGk+XFxuICAgICAgICAgICAgICAgIDxsaT48YSBocmVmPVxcXCIjXFxcIj5Tb21ldGhpbmcgZWxzZSBoZXJlPC9hPjwvbGk+XFxuICAgICAgICAgICAgICAgIDxsaSByb2xlPVxcXCJzZXBhcmF0b3JcXFwiIGNsYXNzPVxcXCJkaXZpZGVyXFxcIj48L2xpPlxcbiAgICAgICAgICAgICAgICA8bGk+PGEgaHJlZj1cXFwiI1xcXCI+U2VwYXJhdGVkIGxpbms8L2E+PC9saT5cXG4gICAgICAgICAgICAgIDwvdWw+XFxuICAgICAgICAgICAgPC9kaXY+PCEtLSAvYnRuLWdyb3VwIC0tPlxcbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XFxcImJ0bi1ncm91cFxcXCI+XFxuICAgICAgICAgICAgICA8YnV0dG9uIHR5cGU9XFxcImJ1dHRvblxcXCIgY2xhc3M9XFxcImJ0biBidG4td2FybmluZ1xcXCI+V2FybmluZzwvYnV0dG9uPlxcbiAgICAgICAgICAgICAgPGJ1dHRvbiB0eXBlPVxcXCJidXR0b25cXFwiIGNsYXNzPVxcXCJidG4gYnRuLXdhcm5pbmcgZHJvcGRvd24tdG9nZ2xlXFxcIiBkYXRhLXRvZ2dsZT1cXFwiZHJvcGRvd25cXFwiIGFyaWEtaGFzcG9wdXA9XFxcInRydWVcXFwiIGFyaWEtZXhwYW5kZWQ9XFxcImZhbHNlXFxcIj5cXG4gICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XFxcImNhcmV0XFxcIj48L3NwYW4+XFxuICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVxcXCJzci1vbmx5XFxcIj5Ub2dnbGUgRHJvcGRvd248L3NwYW4+XFxuICAgICAgICAgICAgICA8L2J1dHRvbj5cXG4gICAgICAgICAgICAgIDx1bCBjbGFzcz1cXFwiZHJvcGRvd24tbWVudVxcXCI+XFxuICAgICAgICAgICAgICAgIDxsaT48YSBocmVmPVxcXCIjXFxcIj5BY3Rpb248L2E+PC9saT5cXG4gICAgICAgICAgICAgICAgPGxpPjxhIGhyZWY9XFxcIiNcXFwiPkFub3RoZXIgYWN0aW9uPC9hPjwvbGk+XFxuICAgICAgICAgICAgICAgIDxsaT48YSBocmVmPVxcXCIjXFxcIj5Tb21ldGhpbmcgZWxzZSBoZXJlPC9hPjwvbGk+XFxuICAgICAgICAgICAgICAgIDxsaSByb2xlPVxcXCJzZXBhcmF0b3JcXFwiIGNsYXNzPVxcXCJkaXZpZGVyXFxcIj48L2xpPlxcbiAgICAgICAgICAgICAgICA8bGk+PGEgaHJlZj1cXFwiI1xcXCI+U2VwYXJhdGVkIGxpbms8L2E+PC9saT5cXG4gICAgICAgICAgICAgIDwvdWw+XFxuICAgICAgICAgICAgPC9kaXY+PCEtLSAvYnRuLWdyb3VwIC0tPlxcbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XFxcImJ0bi1ncm91cFxcXCI+XFxuICAgICAgICAgICAgICA8YnV0dG9uIHR5cGU9XFxcImJ1dHRvblxcXCIgY2xhc3M9XFxcImJ0biBidG4tZGFuZ2VyXFxcIj5EYW5nZXI8L2J1dHRvbj5cXG4gICAgICAgICAgICAgIDxidXR0b24gdHlwZT1cXFwiYnV0dG9uXFxcIiBjbGFzcz1cXFwiYnRuIGJ0bi1kYW5nZXIgZHJvcGRvd24tdG9nZ2xlXFxcIiBkYXRhLXRvZ2dsZT1cXFwiZHJvcGRvd25cXFwiIGFyaWEtaGFzcG9wdXA9XFxcInRydWVcXFwiIGFyaWEtZXhwYW5kZWQ9XFxcImZhbHNlXFxcIj5cXG4gICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XFxcImNhcmV0XFxcIj48L3NwYW4+XFxuICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVxcXCJzci1vbmx5XFxcIj5Ub2dnbGUgRHJvcGRvd248L3NwYW4+XFxuICAgICAgICAgICAgICA8L2J1dHRvbj5cXG4gICAgICAgICAgICAgIDx1bCBjbGFzcz1cXFwiZHJvcGRvd24tbWVudVxcXCI+XFxuICAgICAgICAgICAgICAgIDxsaT48YSBocmVmPVxcXCIjXFxcIj5BY3Rpb248L2E+PC9saT5cXG4gICAgICAgICAgICAgICAgPGxpPjxhIGhyZWY9XFxcIiNcXFwiPkFub3RoZXIgYWN0aW9uPC9hPjwvbGk+XFxuICAgICAgICAgICAgICAgIDxsaT48YSBocmVmPVxcXCIjXFxcIj5Tb21ldGhpbmcgZWxzZSBoZXJlPC9hPjwvbGk+XFxuICAgICAgICAgICAgICAgIDxsaSByb2xlPVxcXCJzZXBhcmF0b3JcXFwiIGNsYXNzPVxcXCJkaXZpZGVyXFxcIj48L2xpPlxcbiAgICAgICAgICAgICAgICA8bGk+PGEgaHJlZj1cXFwiI1xcXCI+U2VwYXJhdGVkIGxpbms8L2E+PC9saT5cXG4gICAgICAgICAgICAgIDwvdWw+XFxuICAgICAgICAgICAgPC9kaXY+PCEtLSAvYnRuLWdyb3VwIC0tPlxcbiAgICAgICAgICA8L2Rpdj5cXG4gICAgICAgICAgPGRpdiBjbGFzcz1cXFwiaGlnaGxpZ2h0XFxcIj48cHJlPjxjb2RlIGNsYXNzPVxcXCJsYW5ndWFnZS1odG1sXFxcIiBkYXRhLWxhbmc9XFxcImh0bWxcXFwiPjxzcGFuIGNsYXNzPVxcXCJjXFxcIj4mbHQ7IS0tIFNwbGl0IGJ1dHRvbiAtLSZndDs8L3NwYW4+XFxuPHNwYW4gY2xhc3M9XFxcIm50XFxcIj4mbHQ7ZGl2PC9zcGFuPiA8c3BhbiBjbGFzcz1cXFwibmFcXFwiPmNsYXNzPTwvc3Bhbj48c3BhbiBjbGFzcz1cXFwic1xcXCI+XFxcImJ0bi1ncm91cFxcXCI8L3NwYW4+PHNwYW4gY2xhc3M9XFxcIm50XFxcIj4mZ3Q7PC9zcGFuPlxcbiAgPHNwYW4gY2xhc3M9XFxcIm50XFxcIj4mbHQ7YnV0dG9uPC9zcGFuPiA8c3BhbiBjbGFzcz1cXFwibmFcXFwiPnR5cGU9PC9zcGFuPjxzcGFuIGNsYXNzPVxcXCJzXFxcIj5cXFwiYnV0dG9uXFxcIjwvc3Bhbj4gPHNwYW4gY2xhc3M9XFxcIm5hXFxcIj5jbGFzcz08L3NwYW4+PHNwYW4gY2xhc3M9XFxcInNcXFwiPlxcXCJidG4gYnRuLWRhbmdlclxcXCI8L3NwYW4+PHNwYW4gY2xhc3M9XFxcIm50XFxcIj4mZ3Q7PC9zcGFuPkFjdGlvbjxzcGFuIGNsYXNzPVxcXCJudFxcXCI+Jmx0Oy9idXR0b24mZ3Q7PC9zcGFuPlxcbiAgPHNwYW4gY2xhc3M9XFxcIm50XFxcIj4mbHQ7YnV0dG9uPC9zcGFuPiA8c3BhbiBjbGFzcz1cXFwibmFcXFwiPnR5cGU9PC9zcGFuPjxzcGFuIGNsYXNzPVxcXCJzXFxcIj5cXFwiYnV0dG9uXFxcIjwvc3Bhbj4gPHNwYW4gY2xhc3M9XFxcIm5hXFxcIj5jbGFzcz08L3NwYW4+PHNwYW4gY2xhc3M9XFxcInNcXFwiPlxcXCJidG4gYnRuLWRhbmdlciBkcm9wZG93bi10b2dnbGVcXFwiPC9zcGFuPiA8c3BhbiBjbGFzcz1cXFwibmFcXFwiPmRhdGEtdG9nZ2xlPTwvc3Bhbj48c3BhbiBjbGFzcz1cXFwic1xcXCI+XFxcImRyb3Bkb3duXFxcIjwvc3Bhbj4gPHNwYW4gY2xhc3M9XFxcIm5hXFxcIj5hcmlhLWhhc3BvcHVwPTwvc3Bhbj48c3BhbiBjbGFzcz1cXFwic1xcXCI+XFxcInRydWVcXFwiPC9zcGFuPiA8c3BhbiBjbGFzcz1cXFwibmFcXFwiPmFyaWEtZXhwYW5kZWQ9PC9zcGFuPjxzcGFuIGNsYXNzPVxcXCJzXFxcIj5cXFwiZmFsc2VcXFwiPC9zcGFuPjxzcGFuIGNsYXNzPVxcXCJudFxcXCI+Jmd0Ozwvc3Bhbj5cXG4gICAgPHNwYW4gY2xhc3M9XFxcIm50XFxcIj4mbHQ7c3Bhbjwvc3Bhbj4gPHNwYW4gY2xhc3M9XFxcIm5hXFxcIj5jbGFzcz08L3NwYW4+PHNwYW4gY2xhc3M9XFxcInNcXFwiPlxcXCJjYXJldFxcXCI8L3NwYW4+PHNwYW4gY2xhc3M9XFxcIm50XFxcIj4mZ3Q7Jmx0Oy9zcGFuJmd0Ozwvc3Bhbj5cXG4gICAgPHNwYW4gY2xhc3M9XFxcIm50XFxcIj4mbHQ7c3Bhbjwvc3Bhbj4gPHNwYW4gY2xhc3M9XFxcIm5hXFxcIj5jbGFzcz08L3NwYW4+PHNwYW4gY2xhc3M9XFxcInNcXFwiPlxcXCJzci1vbmx5XFxcIjwvc3Bhbj48c3BhbiBjbGFzcz1cXFwibnRcXFwiPiZndDs8L3NwYW4+VG9nZ2xlIERyb3Bkb3duPHNwYW4gY2xhc3M9XFxcIm50XFxcIj4mbHQ7L3NwYW4mZ3Q7PC9zcGFuPlxcbiAgPHNwYW4gY2xhc3M9XFxcIm50XFxcIj4mbHQ7L2J1dHRvbiZndDs8L3NwYW4+XFxuICA8c3BhbiBjbGFzcz1cXFwibnRcXFwiPiZsdDt1bDwvc3Bhbj4gPHNwYW4gY2xhc3M9XFxcIm5hXFxcIj5jbGFzcz08L3NwYW4+PHNwYW4gY2xhc3M9XFxcInNcXFwiPlxcXCJkcm9wZG93bi1tZW51XFxcIjwvc3Bhbj48c3BhbiBjbGFzcz1cXFwibnRcXFwiPiZndDs8L3NwYW4+XFxuICAgIDxzcGFuIGNsYXNzPVxcXCJudFxcXCI+Jmx0O2xpJmd0OyZsdDthPC9zcGFuPiA8c3BhbiBjbGFzcz1cXFwibmFcXFwiPmhyZWY9PC9zcGFuPjxzcGFuIGNsYXNzPVxcXCJzXFxcIj5cXFwiI1xcXCI8L3NwYW4+PHNwYW4gY2xhc3M9XFxcIm50XFxcIj4mZ3Q7PC9zcGFuPkFjdGlvbjxzcGFuIGNsYXNzPVxcXCJudFxcXCI+Jmx0Oy9hJmd0OyZsdDsvbGkmZ3Q7PC9zcGFuPlxcbiAgICA8c3BhbiBjbGFzcz1cXFwibnRcXFwiPiZsdDtsaSZndDsmbHQ7YTwvc3Bhbj4gPHNwYW4gY2xhc3M9XFxcIm5hXFxcIj5ocmVmPTwvc3Bhbj48c3BhbiBjbGFzcz1cXFwic1xcXCI+XFxcIiNcXFwiPC9zcGFuPjxzcGFuIGNsYXNzPVxcXCJudFxcXCI+Jmd0Ozwvc3Bhbj5Bbm90aGVyIGFjdGlvbjxzcGFuIGNsYXNzPVxcXCJudFxcXCI+Jmx0Oy9hJmd0OyZsdDsvbGkmZ3Q7PC9zcGFuPlxcbiAgICA8c3BhbiBjbGFzcz1cXFwibnRcXFwiPiZsdDtsaSZndDsmbHQ7YTwvc3Bhbj4gPHNwYW4gY2xhc3M9XFxcIm5hXFxcIj5ocmVmPTwvc3Bhbj48c3BhbiBjbGFzcz1cXFwic1xcXCI+XFxcIiNcXFwiPC9zcGFuPjxzcGFuIGNsYXNzPVxcXCJudFxcXCI+Jmd0Ozwvc3Bhbj5Tb21ldGhpbmcgZWxzZSBoZXJlPHNwYW4gY2xhc3M9XFxcIm50XFxcIj4mbHQ7L2EmZ3Q7Jmx0Oy9saSZndDs8L3NwYW4+XFxuICAgIDxzcGFuIGNsYXNzPVxcXCJudFxcXCI+Jmx0O2xpPC9zcGFuPiA8c3BhbiBjbGFzcz1cXFwibmFcXFwiPnJvbGU9PC9zcGFuPjxzcGFuIGNsYXNzPVxcXCJzXFxcIj5cXFwic2VwYXJhdG9yXFxcIjwvc3Bhbj4gPHNwYW4gY2xhc3M9XFxcIm5hXFxcIj5jbGFzcz08L3NwYW4+PHNwYW4gY2xhc3M9XFxcInNcXFwiPlxcXCJkaXZpZGVyXFxcIjwvc3Bhbj48c3BhbiBjbGFzcz1cXFwibnRcXFwiPiZndDsmbHQ7L2xpJmd0Ozwvc3Bhbj5cXG4gICAgPHNwYW4gY2xhc3M9XFxcIm50XFxcIj4mbHQ7bGkmZ3Q7Jmx0O2E8L3NwYW4+IDxzcGFuIGNsYXNzPVxcXCJuYVxcXCI+aHJlZj08L3NwYW4+PHNwYW4gY2xhc3M9XFxcInNcXFwiPlxcXCIjXFxcIjwvc3Bhbj48c3BhbiBjbGFzcz1cXFwibnRcXFwiPiZndDs8L3NwYW4+U2VwYXJhdGVkIGxpbms8c3BhbiBjbGFzcz1cXFwibnRcXFwiPiZsdDsvYSZndDsmbHQ7L2xpJmd0Ozwvc3Bhbj5cXG4gIDxzcGFuIGNsYXNzPVxcXCJudFxcXCI+Jmx0Oy91bCZndDs8L3NwYW4+XFxuPHNwYW4gY2xhc3M9XFxcIm50XFxcIj4mbHQ7L2RpdiZndDs8L3NwYW4+PC9jb2RlPjwvcHJlPjwvZGl2PlxcblxcbiAgICAgICAgPC9kaXY+XFxuXFxuICAgICAgICA8ZGl2IGNsYXNzPVxcXCJicy1kb2NzLXNlY3Rpb25cXFwiPlxcbiAgICAgICAgICA8aDEgaWQ9XFxcImJ0bi1ncm91cHNcXFwiIGNsYXNzPVxcXCJwYWdlLWhlYWRlclxcXCI+PGEgY2xhc3M9XFxcImFuY2hvcmpzLWxpbmsgXFxcIiBocmVmPVxcXCIjYnRuLWdyb3Vwc1xcXCIgYXJpYS1sYWJlbD1cXFwiQW5jaG9yIGxpbmsgZm9yOiBidG4gZ3JvdXBzXFxcIiBkYXRhLWFuY2hvcmpzLWljb249XFxcIu6ni1xcXCIgc3R5bGU9XFxcImZvbnQtZmFtaWx5OiBhbmNob3Jqcy1pY29uczsgZm9udC1zdHlsZTogbm9ybWFsOyBmb250LXZhcmlhbnQ6IG5vcm1hbDsgZm9udC13ZWlnaHQ6IG5vcm1hbDsgcG9zaXRpb246IGFic29sdXRlOyBtYXJnaW4tbGVmdDogLTFlbTsgcGFkZGluZy1yaWdodDogMC41ZW07XFxcIj48L2E+5oyJ6ZKu57uEPC9oMT5cXG4gICAgICAgICAgPHAgY2xhc3M9XFxcImxlYWRcXFwiPumAmui/h+aMiemSrue7hOWuueWZqOaKiuS4gOe7hOaMiemSruaUvuWcqOWQjOS4gOihjOmHjOOAgjwvcD5cXG4gICAgICAgICAgPGRpdiBjbGFzcz1cXFwiYnMtZXhhbXBsZVxcXCIgZGF0YS1leGFtcGxlLWlkPVxcXCJzaW1wbGUtYnV0dG9uLWdyb3VwXFxcIj5cXG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVxcXCJidG4tZ3JvdXBcXFwiIHJvbGU9XFxcImdyb3VwXFxcIiBhcmlhLWxhYmVsPVxcXCJCYXNpYyBleGFtcGxlXFxcIj5cXG4gICAgICAgICAgICAgIDxidXR0b24gdHlwZT1cXFwiYnV0dG9uXFxcIiBjbGFzcz1cXFwiYnRuIGJ0bi1kZWZhdWx0XFxcIj5MZWZ0PC9idXR0b24+XFxuICAgICAgICAgICAgICA8YnV0dG9uIHR5cGU9XFxcImJ1dHRvblxcXCIgY2xhc3M9XFxcImJ0biBidG4tZGVmYXVsdFxcXCI+TWlkZGxlPC9idXR0b24+XFxuICAgICAgICAgICAgICA8YnV0dG9uIHR5cGU9XFxcImJ1dHRvblxcXCIgY2xhc3M9XFxcImJ0biBidG4tZGVmYXVsdFxcXCI+UmlnaHQ8L2J1dHRvbj5cXG4gICAgICAgICAgICA8L2Rpdj5cXG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVxcXCJidG4tZ3JvdXAgYnRuLWdyb3VwLXN1Y2Nlc3NcXFwiIHJvbGU9XFxcImdyb3VwXFxcIiBhcmlhLWxhYmVsPVxcXCJCYXNpYyBleGFtcGxlXFxcIj5cXG4gICAgICAgICAgICAgIDxidXR0b24gdHlwZT1cXFwiYnV0dG9uXFxcIiBjbGFzcz1cXFwiYnRuIGJ0bi1kZWZhdWx0XFxcIj5MZWZ0PC9idXR0b24+XFxuICAgICAgICAgICAgICA8YnV0dG9uIHR5cGU9XFxcImJ1dHRvblxcXCIgY2xhc3M9XFxcImJ0biBidG4tZGVmYXVsdCBhY3RpdmVcXFwiPk1pZGRsZTwvYnV0dG9uPlxcbiAgICAgICAgICAgICAgPGJ1dHRvbiB0eXBlPVxcXCJidXR0b25cXFwiIGNsYXNzPVxcXCJidG4gYnRuLWRlZmF1bHRcXFwiPlJpZ2h0PC9idXR0b24+XFxuICAgICAgICAgICAgPC9kaXY+XFxuICAgICAgICAgIDwvZGl2PlxcbiAgICAgICAgICA8ZGl2IGNsYXNzPVxcXCJoaWdobGlnaHRcXFwiPjxwcmU+PGNvZGUgY2xhc3M9XFxcImxhbmd1YWdlLWh0bWxcXFwiIGRhdGEtbGFuZz1cXFwiaHRtbFxcXCI+PHNwYW4gY2xhc3M9XFxcIm50XFxcIj4mbHQ7ZGl2PC9zcGFuPiA8c3BhbiBjbGFzcz1cXFwibmFcXFwiPmNsYXNzPTwvc3Bhbj48c3BhbiBjbGFzcz1cXFwic1xcXCI+XFxcImJ0bi1ncm91cFxcXCI8L3NwYW4+IDxzcGFuIGNsYXNzPVxcXCJuYVxcXCI+cm9sZT08L3NwYW4+PHNwYW4gY2xhc3M9XFxcInNcXFwiPlxcXCJncm91cFxcXCI8L3NwYW4+IDxzcGFuIGNsYXNzPVxcXCJuYVxcXCI+YXJpYS1sYWJlbD08L3NwYW4+PHNwYW4gY2xhc3M9XFxcInNcXFwiPlxcXCIuLi5cXFwiPC9zcGFuPjxzcGFuIGNsYXNzPVxcXCJudFxcXCI+Jmd0Ozwvc3Bhbj5cXG4gIDxzcGFuIGNsYXNzPVxcXCJudFxcXCI+Jmx0O2J1dHRvbjwvc3Bhbj4gPHNwYW4gY2xhc3M9XFxcIm5hXFxcIj50eXBlPTwvc3Bhbj48c3BhbiBjbGFzcz1cXFwic1xcXCI+XFxcImJ1dHRvblxcXCI8L3NwYW4+IDxzcGFuIGNsYXNzPVxcXCJuYVxcXCI+Y2xhc3M9PC9zcGFuPjxzcGFuIGNsYXNzPVxcXCJzXFxcIj5cXFwiYnRuIGJ0bi1kZWZhdWx0XFxcIjwvc3Bhbj48c3BhbiBjbGFzcz1cXFwibnRcXFwiPiZndDs8L3NwYW4+TGVmdDxzcGFuIGNsYXNzPVxcXCJudFxcXCI+Jmx0Oy9idXR0b24mZ3Q7PC9zcGFuPlxcbiAgPHNwYW4gY2xhc3M9XFxcIm50XFxcIj4mbHQ7YnV0dG9uPC9zcGFuPiA8c3BhbiBjbGFzcz1cXFwibmFcXFwiPnR5cGU9PC9zcGFuPjxzcGFuIGNsYXNzPVxcXCJzXFxcIj5cXFwiYnV0dG9uXFxcIjwvc3Bhbj4gPHNwYW4gY2xhc3M9XFxcIm5hXFxcIj5jbGFzcz08L3NwYW4+PHNwYW4gY2xhc3M9XFxcInNcXFwiPlxcXCJidG4gYnRuLWRlZmF1bHRcXFwiPC9zcGFuPjxzcGFuIGNsYXNzPVxcXCJudFxcXCI+Jmd0Ozwvc3Bhbj5NaWRkbGU8c3BhbiBjbGFzcz1cXFwibnRcXFwiPiZsdDsvYnV0dG9uJmd0Ozwvc3Bhbj5cXG4gIDxzcGFuIGNsYXNzPVxcXCJudFxcXCI+Jmx0O2J1dHRvbjwvc3Bhbj4gPHNwYW4gY2xhc3M9XFxcIm5hXFxcIj50eXBlPTwvc3Bhbj48c3BhbiBjbGFzcz1cXFwic1xcXCI+XFxcImJ1dHRvblxcXCI8L3NwYW4+IDxzcGFuIGNsYXNzPVxcXCJuYVxcXCI+Y2xhc3M9PC9zcGFuPjxzcGFuIGNsYXNzPVxcXCJzXFxcIj5cXFwiYnRuIGJ0bi1kZWZhdWx0XFxcIjwvc3Bhbj48c3BhbiBjbGFzcz1cXFwibnRcXFwiPiZndDs8L3NwYW4+UmlnaHQ8c3BhbiBjbGFzcz1cXFwibnRcXFwiPiZsdDsvYnV0dG9uJmd0Ozwvc3Bhbj5cXG48c3BhbiBjbGFzcz1cXFwibnRcXFwiPiZsdDsvZGl2Jmd0Ozwvc3Bhbj48L2NvZGU+PC9wcmU+PC9kaXY+XFxuXFxuICAgICAgICA8L2Rpdj5cXG5cXG4gICAgICAgIDxkaXYgY2xhc3M9XFxcImJzLWRvY3Mtc2VjdGlvblxcXCI+XFxuICAgICAgICAgIDxoMSBpZD1cXFwiZm9ybXNcXFwiIGNsYXNzPVxcXCJwYWdlLWhlYWRlclxcXCI+PGEgY2xhc3M9XFxcImFuY2hvcmpzLWxpbmsgXFxcIiBocmVmPVxcXCIjZm9ybXNcXFwiIGFyaWEtbGFiZWw9XFxcIkFuY2hvciBsaW5rIGZvcjogZm9ybXNcXFwiIGRhdGEtYW5jaG9yanMtaWNvbj1cXFwi7qeLXFxcIiBzdHlsZT1cXFwiZm9udC1mYW1pbHk6IGFuY2hvcmpzLWljb25zOyBmb250LXN0eWxlOiBub3JtYWw7IGZvbnQtdmFyaWFudDogbm9ybWFsOyBmb250LXdlaWdodDogbm9ybWFsOyBwb3NpdGlvbjogYWJzb2x1dGU7IG1hcmdpbi1sZWZ0OiAtMWVtOyBwYWRkaW5nLXJpZ2h0OiAwLjVlbTtcXFwiPjwvYT7ooajljZU8L2gxPlxcbiAgICAgICAgICA8aDIgaWQ9XFxcImZvcm1zLWV4YW1wbGVcXFwiPjxhIGNsYXNzPVxcXCJhbmNob3Jqcy1saW5rIFxcXCIgaHJlZj1cXFwiI2Zvcm1zLWV4YW1wbGVcXFwiIGFyaWEtbGFiZWw9XFxcIkFuY2hvciBsaW5rIGZvcjogZm9ybXMgZXhhbXBsZVxcXCIgZGF0YS1hbmNob3Jqcy1pY29uPVxcXCLup4tcXFwiIHN0eWxlPVxcXCJmb250LWZhbWlseTogYW5jaG9yanMtaWNvbnM7IGZvbnQtc3R5bGU6IG5vcm1hbDsgZm9udC12YXJpYW50OiBub3JtYWw7IGZvbnQtd2VpZ2h0OiBub3JtYWw7IHBvc2l0aW9uOiBhYnNvbHV0ZTsgbWFyZ2luLWxlZnQ6IC0xZW07IHBhZGRpbmctcmlnaHQ6IDAuNWVtO1xcXCI+PC9hPuWfuuacrOWunuS+izwvaDI+XFxuICAgICAgICAgIDxwPuWNleeLrOeahOihqOWNleaOp+S7tuS8muiiq+iHquWKqOi1i+S6iOS4gOS6m+WFqOWxgOagt+W8j+OAguaJgOacieiuvue9ruS6hiA8Y29kZT4uZm9ybS1jb250cm9sPC9jb2RlPiDnsbvnmoQgPGNvZGU+Jmx0O2lucHV0Jmd0OzwvY29kZT7jgIE8Y29kZT4mbHQ7dGV4dGFyZWEmZ3Q7PC9jb2RlPiDlkowgPGNvZGU+Jmx0O3NlbGVjdCZndDs8L2NvZGU+IOWFg+e0oOmDveWwhuiiq+m7mOiupOiuvue9ruWuveW6puWxnuaAp+S4uiA8Y29kZT53aWR0aDogMTAwJTs8L2NvZGU+44CCIOWwhiA8Y29kZT5sYWJlbDwvY29kZT4g5YWD57Sg5ZKM5YmN6Z2i5o+Q5Yiw55qE5o6n5Lu25YyF6KO55ZyoIDxjb2RlPi5mb3JtLWdyb3VwPC9jb2RlPiDkuK3lj6/ku6XojrflvpfmnIDlpb3nmoTmjpLliJfjgII8L3A+XFxuXFxuICAgICAgICAgIDxkaXYgY2xhc3M9XFxcImJzLWV4YW1wbGVcXFwiPlxcbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XFxcInBhZ2UtaGVhZGVyXFxcIj48aDQ+5Z+65pys6K6+572uPC9oND48L2Rpdj5cXG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVxcXCJmb3JtLWhvcml6b250YWxcXFwiPlxcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVxcXCJmb3JtLWdyb3VwXFxcIj5cXG4gICAgICAgICAgICAgICAgICAgIDxsYWJlbCBmb3I9XFxcImlucHV0RW1haWwzXFxcIiBjbGFzcz1cXFwiY29sLXNtLTIgY29udHJvbC1sYWJlbFxcXCI+5paH5pys5qGGPC9sYWJlbD5cXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XFxcImNvbC1zbS04XFxcIj5cXG4gICAgICAgICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9XFxcImVtYWlsXFxcIiBjbGFzcz1cXFwiZm9ybS1jb250cm9sXFxcIiBpZD1cXFwiaW5wdXRFbWFpbDNcXFwiIHBsYWNlaG9sZGVyPVxcXCJcXFwiPlxcbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XFxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVxcXCJjb2wtc20tMlxcXCI+XFxuXFxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cXG4gICAgICAgICAgICAgICAgPC9kaXY+XFxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XFxcImZvcm0tZ3JvdXBcXFwiPlxcbiAgICAgICAgICAgICAgICAgICAgPGxhYmVsIGZvcj1cXFwiaW5wdXRTZWxlY3RcXFwiIGNsYXNzPVxcXCJjb2wtc20tMiBjb250cm9sLWxhYmVsXFxcIj7kuIvmi4nmoYY8L2xhYmVsPlxcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cXFwiY29sLXNtLThcXFwiPlxcbiAgICAgICAgICAgICAgICAgICAgICA8c2VsZWN0IGNsYXNzPVxcXCJmb3JtLWNvbnRyb2wgYy1zZWxlY3RcXFwiIGlkPVxcXCJpbnB1dFNlbGVjdFxcXCI+XFxuICAgICAgICAgICAgICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT1cXFwiMFxcXCI+5YWo6YOo5Yy65Z+fPC9vcHRpb24+XFxuICAgICAgICAgICAgICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT1cXFwiMVxcXCI+5Yy65Z+f5LiAPC9vcHRpb24+XFxuICAgICAgICAgICAgICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT1cXFwiMlxcXCI+5Yy65Z+f5LqMPC9vcHRpb24+XFxuICAgICAgICAgICAgICAgICAgICAgIDwvc2VsZWN0PlxcbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XFxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVxcXCJjb2wtc20tMlxcXCI+XFxuXFxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cXG4gICAgICAgICAgICAgICAgPC9kaXY+XFxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XFxcImZvcm0tZ3JvdXBcXFwiPlxcbiAgICAgICAgICAgICAgICAgICAgPGxhYmVsIGZvcj1cXFwiaW5wdXRFbWFpbDRcXFwiIGNsYXNzPVxcXCJjb2wtc20tMiBjb250cm9sLWxhYmVsXFxcIj7ljZXpgIkv5aSN6YCJ5qGGPC9sYWJlbD5cXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XFxcImNvbC1zbS04XFxcIj5cXG4gICAgICAgICAgICAgICAgICAgICAgICA8bGFiZWwgY2xhc3M9XFxcIm1jLXJhZGlvXFxcIj5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9XFxcInJhZGlvXFxcIiBuYW1lPVxcXCJyYWRpbzFcXFwiPlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3Bhbj48L3NwYW4+XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJhZGlvXFxuICAgICAgICAgICAgICAgICAgICAgICAgPC9sYWJlbD5cXG4gICAgICAgICAgICAgICAgICAgICAgICA8bGFiZWwgY2xhc3M9XFxcIm1jLXJhZGlvXFxcIj5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9XFxcInJhZGlvXFxcIiBuYW1lPVxcXCJyYWRpbzFcXFwiIGNoZWNrZWQ+XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuPjwvc3Bhbj5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmFkaW9cXG4gICAgICAgICAgICAgICAgICAgICAgICA8L2xhYmVsPlxcbiAgICAgICAgICAgICAgICAgICAgICAgIDxsYWJlbCBjbGFzcz1cXFwibWMtcmFkaW9cXFwiPlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT1cXFwiY2hlY2tib3hcXFwiIG5hbWU9XFxcImNoZWNrYm94MVxcXCI+XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpIGNsYXNzPVxcXCJpY29uLWNoZWNrXFxcIj48L2k+XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoZWNrYm94XFxuICAgICAgICAgICAgICAgICAgICAgICAgPC9sYWJlbD5cXG4gICAgICAgICAgICAgICAgICAgICAgICA8bGFiZWwgY2xhc3M9XFxcIm1jLXJhZGlvXFxcIj5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9XFxcImNoZWNrYm94XFxcIiBuYW1lPVxcXCJjaGVja2JveDFcXFwiIGNoZWNrZWQ+XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpIGNsYXNzPVxcXCJpY29uLWNoZWNrXFxcIj48L2k+XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoZWNrYm94XFxuICAgICAgICAgICAgICAgICAgICAgICAgPC9sYWJlbD5cXG5cXG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cXFwiY29sLXNtLTJcXFwiPlxcblxcbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XFxuICAgICAgICAgICAgICAgIDwvZGl2PlxcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVxcXCJmb3JtLWdyb3VwXFxcIj5cXG4gICAgICAgICAgICAgICAgICAgIDxsYWJlbCBmb3I9XFxcImlucHV0U2VsZWN0XFxcIiBjbGFzcz1cXFwiY29sLXNtLTIgY29udHJvbC1sYWJlbFxcXCI+6YKu566xPC9sYWJlbD5cXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XFxcImNvbC1zbS04XFxcIj5cXG4gICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3M9XFxcImZvcm0tY29udHJvbC1zdGF0aWNcXFwiPjEyMzQ1Njc4OUBxcS5jb208L3A+XFxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XFxcImNvbC1zbS0yIHRleHQtcmlnaHRcXFwiPlxcbiAgICAgICAgICAgICAgICAgICAgICAgIDxhIGhyZWY9XFxcIlxcXCIgY2xhc3M9XFxcImJ0biBidG4tbGlua1xcXCI+57yW6L6RIDxpIGNsYXNzPVxcXCJpY29uLWFycm93LWRvd24gc21hbGxcXFwiPjwvaT48L2E+XFxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cXG4gICAgICAgICAgICAgICAgPC9kaXY+XFxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XFxcImZvcm0tZ3JvdXBcXFwiPlxcbiAgICAgICAgICAgICAgICAgICAgPGxhYmVsIGZvcj1cXFwiaW5wdXRTZWxlY3RcXFwiIGNsYXNzPVxcXCJjb2wtc20tMiBjb250cm9sLWxhYmVsXFxcIj7kuIvmi4nmoYY8L2xhYmVsPlxcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cXFwiY29sLXNtLThcXFwiPlxcblxcbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XFxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVxcXCJjb2wtc20tMiB0ZXh0LXJpZ2h0XFxcIj5cXG4gICAgICAgICAgICAgICAgICAgICAgICA8YSBocmVmPVxcXCJcXFwiIGNsYXNzPVxcXCJidG4gYnRuLWxpbmtcXFwiPuaUtui1tyA8aSBjbGFzcz1cXFwiaWNvbi1hcnJvdy11cCBzbWFsbFxcXCI+PC9pPjwvYT5cXG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cXFwiY2xlYXJmaXhcXFwiPjwvZGl2PlxcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cXFwiY29scy1lZGl0XFxcIj5cXG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVxcXCJjb2wtc20tOCBjb2wtc20tb2Zmc2V0LTIgY29sLXNtLW9mZnNldC0yXFxcIj5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxzZWxlY3QgY2xhc3M9XFxcImZvcm0tY29udHJvbCBjLXNlbGVjdFxcXCIgaWQ9XFxcImlucHV0U2VsZWN0XFxcIj5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT1cXFwiMFxcXCI+5YWo6YOo5Yy65Z+fPC9vcHRpb24+XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9XFxcIjFcXFwiPuWMuuWfn+S4gDwvb3B0aW9uPlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8b3B0aW9uIHZhbHVlPVxcXCIyXFxcIj7ljLrln5/kuow8L29wdGlvbj5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDwvc2VsZWN0PlxcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxcbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XFxcImNvbC1zbS04IGNvbC1zbS1vZmZzZXQtMiBjb2wtc20tb2Zmc2V0LTJcXFwiPlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz1cXFwiYnRuIGJ0bi1zdWNjZXNzXFxcIj7kv53lrZg8L2J1dHRvbj5cXG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cXG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxcbiAgICAgICAgICAgICAgICA8L2Rpdj5cXG4gICAgICAgICAgICA8L2Rpdj5cXG4gICAgICAgICAgPC9kaXY+XFxuXFxuICAgICAgICAgICAgPHA+5bim5qC35byP55qE6KGo5Y2V77yaPC9wPlxcbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XFxcImJzLWV4YW1wbGVcXFwiPlxcbiAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cXFwicGFnZS1oZWFkZXJcXFwiPjxoND7ln7rmnKzorr7nva48L2g0PjwvZGl2PlxcbiAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cXFwiZm9ybS1ob3Jpem9udGFsXFxcIj5cXG4gICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVxcXCJmb3JtLWdyb3VwIGhhcy1zdWNjZXNzXFxcIj5cXG4gICAgICAgICAgICAgICAgICAgICAgPGxhYmVsIGZvcj1cXFwiaW5wdXRFbWFpbDNcXFwiIGNsYXNzPVxcXCJjb2wtc20tMiBjb250cm9sLWxhYmVsIHRleHQtbGVmdFxcXCI+5paH5pys5qGGPHNwYW4gY2xhc3M9XFxcInRleHQtdGlwXFxcIj4qPC9zcGFuPjwvbGFiZWw+XFxuICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XFxcImNvbC1zbS04XFxcIj5cXG4gICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT1cXFwiZW1haWxcXFwiIGNsYXNzPVxcXCJmb3JtLWNvbnRyb2xcXFwiIGlkPVxcXCJpbnB1dEVtYWlsM1xcXCIgcGxhY2Vob2xkZXI9XFxcIlxcXCI+XFxuICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxcbiAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVxcXCJjb2wtc20tMlxcXCI+XFxuXFxuICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxcbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxcbiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XFxcImZvcm0tZ3JvdXAgaGFzLWVycm9yXFxcIj5cXG4gICAgICAgICAgICAgICAgICAgICAgPGxhYmVsIGZvcj1cXFwiaW5wdXRTZWxlY3RcXFwiIGNsYXNzPVxcXCJjb2wtc20tMiBjb250cm9sLWxhYmVsIHRleHQtbGVmdFxcXCI+5LiL5ouJ5qGGPC9sYWJlbD5cXG4gICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cXFwiY29sLXNtLThcXFwiPlxcbiAgICAgICAgICAgICAgICAgICAgICAgIDxzZWxlY3QgY2xhc3M9XFxcImZvcm0tY29udHJvbCBjLXNlbGVjdFxcXCIgaWQ9XFxcImlucHV0U2VsZWN0XFxcIj5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9XFxcIjBcXFwiPuWFqOmDqOWMuuWfnzwvb3B0aW9uPlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT1cXFwiMVxcXCI+5Yy65Z+f5LiAPC9vcHRpb24+XFxuICAgICAgICAgICAgICAgICAgICAgICAgICA8b3B0aW9uIHZhbHVlPVxcXCIyXFxcIj7ljLrln5/kuow8L29wdGlvbj5cXG4gICAgICAgICAgICAgICAgICAgICAgICA8L3NlbGVjdD5cXG4gICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XFxuICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XFxcImNvbC1zbS0yXFxcIj5cXG5cXG4gICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XFxuICAgICAgICAgICAgICAgICAgPC9kaXY+XFxuICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cXFwiZm9ybS1ncm91cCBoYXMtZXJyb3JcXFwiPlxcbiAgICAgICAgICAgICAgICAgICAgICA8bGFiZWwgZm9yPVxcXCJpbnB1dEVtYWlsNFxcXCIgY2xhc3M9XFxcImNvbC1zbS0yIGNvbnRyb2wtbGFiZWwgdGV4dC1sZWZ0XFxcIj7ljZXpgIkv5aSN6YCJ5qGGPC9sYWJlbD5cXG4gICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cXFwiY29sLXNtLThcXFwiPlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPGxhYmVsIGNsYXNzPVxcXCJtYy1yYWRpb1xcXCI+XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9XFxcInJhZGlvXFxcIiBuYW1lPVxcXCJzLXJhZGlvMVxcXCI+XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4+PC9zcGFuPlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJhZGlvXFxuICAgICAgICAgICAgICAgICAgICAgICAgICA8L2xhYmVsPlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPGxhYmVsIGNsYXNzPVxcXCJtYy1yYWRpb1xcXCI+XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9XFxcInJhZGlvXFxcIiBuYW1lPVxcXCJzLXJhZGlvMVxcXCIgY2hlY2tlZD5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3Bhbj48L3NwYW4+XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmFkaW9cXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDwvbGFiZWw+XFxuICAgICAgICAgICAgICAgICAgICAgICAgICA8bGFiZWwgY2xhc3M9XFxcIm1jLXJhZGlvXFxcIj5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT1cXFwiY2hlY2tib3hcXFwiIG5hbWU9XFxcInMtY2hlY2tib3gxXFxcIj5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aSBjbGFzcz1cXFwiaWNvbi1jaGVja1xcXCI+PC9pPlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoZWNrYm94XFxuICAgICAgICAgICAgICAgICAgICAgICAgICA8L2xhYmVsPlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPGxhYmVsIGNsYXNzPVxcXCJtYy1yYWRpb1xcXCI+XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9XFxcImNoZWNrYm94XFxcIiBuYW1lPVxcXCJzLWNoZWNrYm94MVxcXCIgY2hlY2tlZD5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aSBjbGFzcz1cXFwiaWNvbi1jaGVja1xcXCI+PC9pPlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoZWNrYm94XFxuICAgICAgICAgICAgICAgICAgICAgICAgICA8L2xhYmVsPlxcblxcbiAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cXG4gICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cXFwiY29sLXNtLTJcXFwiPlxcblxcbiAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cXG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cXG4gICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVxcXCJmb3JtLWdyb3VwXFxcIj5cXG4gICAgICAgICAgICAgICAgICAgICAgPGxhYmVsIGZvcj1cXFwiaW5wdXRTZWxlY3RcXFwiIGNsYXNzPVxcXCJjb2wtc20tMiBjb250cm9sLWxhYmVsIHRleHQtbGVmdFxcXCI+6YKu566xPC9sYWJlbD5cXG4gICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cXFwiY29sLXNtLThcXFwiPlxcbiAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzPVxcXCJmb3JtLWNvbnRyb2wtc3RhdGljXFxcIj4xMjM0NTY3ODlAcXEuY29tPC9wPlxcbiAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cXG4gICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cXFwiY29sLXNtLTIgdGV4dC1yaWdodFxcXCI+XFxuICAgICAgICAgICAgICAgICAgICAgICAgICA8YSBocmVmPVxcXCJcXFwiIGNsYXNzPVxcXCJidG4gYnRuLWxpbmtcXFwiPue8lui+kSA8aSBjbGFzcz1cXFwiaWNvbi1hcnJvdy1kb3duIHNtYWxsXFxcIj48L2k+PC9hPlxcbiAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cXG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cXG4gICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVxcXCJmb3JtLWdyb3VwIGhhcy1lcnJvclxcXCI+XFxuICAgICAgICAgICAgICAgICAgICAgIDxsYWJlbCBmb3I9XFxcImlucHV0U2VsZWN0XFxcIiBjbGFzcz1cXFwiY29sLXNtLTIgY29udHJvbC1sYWJlbCB0ZXh0LWxlZnRcXFwiPuS4i+aLieahhjwvbGFiZWw+XFxuICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XFxcImNvbC1zbS04XFxcIj5cXG5cXG4gICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XFxuICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XFxcImNvbC1zbS0yIHRleHQtcmlnaHRcXFwiPlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPGEgaHJlZj1cXFwiXFxcIiBjbGFzcz1cXFwiYnRuIGJ0bi1saW5rXFxcIj7mlLbotbcgPGkgY2xhc3M9XFxcImljb24tYXJyb3ctdXAgc21hbGxcXFwiPjwvaT48L2E+XFxuICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxcbiAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVxcXCJjbGVhcmZpeFxcXCI+PC9kaXY+XFxuICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XFxcImNvbHMtZWRpdFxcXCI+XFxuICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVxcXCJjb2wtc20tOCBjb2wtc20tb2Zmc2V0LTIgY29sLXNtLW9mZnNldC0yXFxcIj5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNlbGVjdCBjbGFzcz1cXFwiZm9ybS1jb250cm9sIGMtc2VsZWN0XFxcIiBpZD1cXFwiaW5wdXRTZWxlY3RcXFwiPlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9XFxcIjBcXFwiPuWFqOmDqOWMuuWfnzwvb3B0aW9uPlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9XFxcIjFcXFwiPuWMuuWfn+S4gDwvb3B0aW9uPlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9XFxcIjJcXFwiPuWMuuWfn+S6jDwvb3B0aW9uPlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3NlbGVjdD5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cXFwiY29sLXNtLTggY29sLXNtLW9mZnNldC0yIGNvbC1zbS1vZmZzZXQtMlxcXCI+XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b24gY2xhc3M9XFxcImJ0biBidG4tc3VjY2Vzc1xcXCI+5L+d5a2YPC9idXR0b24+XFxuICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cXG4gICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XFxuICAgICAgICAgICAgICAgICAgPC9kaXY+XFxuICAgICAgICAgICAgICA8L2Rpdj5cXG4gICAgICAgICAgICA8L2Rpdj5cXG5cXG4gICAgICAgICAgICA8cD5hbmd1bGFy6aqM6K+B6KGo5qC877yaPC9wPlxcbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XFxcImJzLWV4YW1wbGVcXFwiPlxcbiAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cXFwicGFnZS1oZWFkZXJcXFwiPjxoND7ln7rmnKzorr7nva48L2g0PjwvZGl2PlxcbiAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cXFwiZm9ybS1ob3Jpem9udGFsXFxcIj5cXG4gICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVxcXCJmb3JtLWdyb3VwXFxcIj5cXG4gICAgICAgICAgICAgICAgICAgICAgPGxhYmVsIGZvcj1cXFwiaW5wdXRFbWFpbDNcXFwiIGNsYXNzPVxcXCJjb2wtc20tMiBjb250cm9sLWxhYmVsIHRleHQtbGVmdFxcXCI+5paH5pys5qGGPHNwYW4gY2xhc3M9XFxcInRleHQtdGlwXFxcIj4qPC9zcGFuPjwvbGFiZWw+XFxuICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XFxcImNvbC1zbS04XFxcIj5cXG4gICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT1cXFwiZW1haWxcXFwiIGNsYXNzPVxcXCJmb3JtLWNvbnRyb2wgbmctdmFsaWRcXFwiIGlkPVxcXCJpbnB1dEVtYWlsM1xcXCIgcGxhY2Vob2xkZXI9XFxcIlxcXCI+XFxuICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxcbiAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVxcXCJjb2wtc20tMlxcXCI+XFxuXFxuICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxcbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxcbiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XFxcImZvcm0tZ3JvdXBcXFwiPlxcbiAgICAgICAgICAgICAgICAgICAgICA8bGFiZWwgZm9yPVxcXCJpbnB1dFNlbGVjdFxcXCIgY2xhc3M9XFxcImNvbC1zbS0yIGNvbnRyb2wtbGFiZWwgdGV4dC1sZWZ0XFxcIj7kuIvmi4nmoYY8L2xhYmVsPlxcbiAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVxcXCJjb2wtc20tOFxcXCI+XFxuICAgICAgICAgICAgICAgICAgICAgICAgPHNlbGVjdCBjbGFzcz1cXFwiZm9ybS1jb250cm9sIGMtc2VsZWN0IG5nLWludmFsaWRcXFwiIGlkPVxcXCJpbnB1dFNlbGVjdFxcXCI+XFxuICAgICAgICAgICAgICAgICAgICAgICAgICA8b3B0aW9uIHZhbHVlPVxcXCIwXFxcIj7lhajpg6jljLrln588L29wdGlvbj5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9XFxcIjFcXFwiPuWMuuWfn+S4gDwvb3B0aW9uPlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT1cXFwiMlxcXCI+5Yy65Z+f5LqMPC9vcHRpb24+XFxuICAgICAgICAgICAgICAgICAgICAgICAgPC9zZWxlY3Q+XFxuICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4+PHAgY2xhc3M9XFxcInZhbGlkYXRpb24taW52YWxpZFxcXCI+5qC85byP5LiN5a+577yBPC9wPjwvc3Bhbj5cXG4gICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XFxuICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XFxcImNvbC1zbS0yXFxcIj5cXG5cXG4gICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XFxuICAgICAgICAgICAgICAgICAgPC9kaXY+XFxuICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cXFwiZm9ybS1ncm91cFxcXCI+XFxuICAgICAgICAgICAgICAgICAgICAgIDxsYWJlbCBmb3I9XFxcImlucHV0RW1haWw0XFxcIiBjbGFzcz1cXFwiY29sLXNtLTIgY29udHJvbC1sYWJlbCB0ZXh0LWxlZnRcXFwiPuWNlemAiS/lpI3pgInmoYY8L2xhYmVsPlxcbiAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVxcXCJjb2wtc20tOFxcXCI+XFxuICAgICAgICAgICAgICAgICAgICAgICAgICA8bGFiZWwgY2xhc3M9XFxcIm1jLXJhZGlvIG5nLXZhbGlkXFxcIj5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT1cXFwicmFkaW9cXFwiIG5hbWU9XFxcInJhZGlvMVxcXCI+XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4+PC9zcGFuPlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJhZGlvXFxuICAgICAgICAgICAgICAgICAgICAgICAgICA8L2xhYmVsPlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPGxhYmVsIGNsYXNzPVxcXCJtYy1yYWRpbyBuZy12YWxpZFxcXCI+XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9XFxcInJhZGlvXFxcIiBuYW1lPVxcXCJyYWRpbzFcXFwiIGNoZWNrZWQgPlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuPjwvc3Bhbj5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICByYWRpb1xcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC9sYWJlbD5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxsYWJlbCBjbGFzcz1cXFwibWMtcmFkaW8gbmctdmFsaWRcXFwiPlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPVxcXCJjaGVja2JveFxcXCIgbmFtZT1cXFwiY2hlY2tib3gxXFxcIj5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aSBjbGFzcz1cXFwiaWNvbi1jaGVja1xcXCI+PC9pPlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoZWNrYm94XFxuICAgICAgICAgICAgICAgICAgICAgICAgICA8L2xhYmVsPlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPGxhYmVsIGNsYXNzPVxcXCJtYy1yYWRpbyBuZy12YWxpZFxcXCI+XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9XFxcImNoZWNrYm94XFxcIiBuYW1lPVxcXCJjaGVja2JveDFcXFwiIGNoZWNrZWQ+XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGkgY2xhc3M9XFxcImljb24tY2hlY2tcXFwiPjwvaT5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGVja2JveFxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC9sYWJlbD5cXG5cXG4gICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XFxuICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XFxcImNvbC1zbS0yXFxcIj5cXG5cXG4gICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XFxuICAgICAgICAgICAgICAgICAgPC9kaXY+XFxuICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cXFwiZm9ybS1ncm91cFxcXCI+XFxuICAgICAgICAgICAgICAgICAgICAgIDxsYWJlbCBmb3I9XFxcImlucHV0RW1haWw0XFxcIiBjbGFzcz1cXFwiY29sLXNtLTIgY29udHJvbC1sYWJlbCB0ZXh0LWxlZnRcXFwiPuWNlemAiS/lpI3pgInmoYY8L2xhYmVsPlxcbiAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVxcXCJjb2wtc20tOFxcXCI+XFxuICAgICAgICAgICAgICAgICAgICAgICAgICA8bGFiZWwgY2xhc3M9XFxcIm1jLXJhZGlvIG5nLWludmFsaWRcXFwiPlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPVxcXCJyYWRpb1xcXCIgbmFtZT1cXFwiYS1yYWRpbzFcXFwiPlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuPjwvc3Bhbj5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICByYWRpb1xcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC9sYWJlbD5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxsYWJlbCBjbGFzcz1cXFwibWMtcmFkaW8gbmctaW52YWxpZFxcXCI+XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9XFxcInJhZGlvXFxcIiBuYW1lPVxcXCJhLXJhZGlvMVxcXCIgY2hlY2tlZCA+XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4+PC9zcGFuPlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJhZGlvXFxuICAgICAgICAgICAgICAgICAgICAgICAgICA8L2xhYmVsPlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPGxhYmVsIGNsYXNzPVxcXCJtYy1yYWRpbyBuZy1pbnZhbGlkXFxcIj5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT1cXFwiY2hlY2tib3hcXFwiIG5hbWU9XFxcImEtY2hlY2tib3gxXFxcIj5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aSBjbGFzcz1cXFwiaWNvbi1jaGVja1xcXCI+PC9pPlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoZWNrYm94XFxuICAgICAgICAgICAgICAgICAgICAgICAgICA8L2xhYmVsPlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPGxhYmVsIGNsYXNzPVxcXCJtYy1yYWRpbyBuZy1pbnZhbGlkXFxcIj5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT1cXFwiY2hlY2tib3hcXFwiIG5hbWU9XFxcImEtY2hlY2tib3gxXFxcIiBjaGVja2VkPlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpIGNsYXNzPVxcXCJpY29uLWNoZWNrXFxcIj48L2k+XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hlY2tib3hcXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDwvbGFiZWw+XFxuXFxuICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxcbiAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVxcXCJjb2wtc20tMlxcXCI+XFxuXFxuICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxcbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxcbiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XFxcImZvcm0tZ3JvdXBcXFwiPlxcbiAgICAgICAgICAgICAgICAgICAgICA8bGFiZWwgZm9yPVxcXCJpbnB1dFNlbGVjdFxcXCIgY2xhc3M9XFxcImNvbC1zbS0yIGNvbnRyb2wtbGFiZWwgdGV4dC1sZWZ0XFxcIj7pgq7nrrE8L2xhYmVsPlxcbiAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVxcXCJjb2wtc20tOFxcXCI+XFxuICAgICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3M9XFxcImZvcm0tY29udHJvbC1zdGF0aWNcXFwiPjEyMzQ1Njc4OUBxcS5jb208L3A+XFxuICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxcbiAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVxcXCJjb2wtc20tMiB0ZXh0LXJpZ2h0XFxcIj5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxhIGhyZWY9XFxcIlxcXCIgY2xhc3M9XFxcImJ0biBidG4tbGlua1xcXCI+57yW6L6RIDxpIGNsYXNzPVxcXCJpY29uLWFycm93LWRvd24gc21hbGxcXFwiPjwvaT48L2E+XFxuICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxcbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxcbiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XFxcImZvcm0tZ3JvdXBcXFwiPlxcbiAgICAgICAgICAgICAgICAgICAgICA8bGFiZWwgZm9yPVxcXCJpbnB1dFNlbGVjdFxcXCIgY2xhc3M9XFxcImNvbC1zbS0yIGNvbnRyb2wtbGFiZWwgdGV4dC1sZWZ0XFxcIj7kuIvmi4nmoYY8L2xhYmVsPlxcbiAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVxcXCJjb2wtc20tOFxcXCI+XFxuXFxuICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxcbiAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVxcXCJjb2wtc20tMiB0ZXh0LXJpZ2h0XFxcIj5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxhIGhyZWY9XFxcIlxcXCIgY2xhc3M9XFxcImJ0biBidG4tbGlua1xcXCI+5pS26LW3IDxpIGNsYXNzPVxcXCJpY29uLWFycm93LXVwIHNtYWxsXFxcIj48L2k+PC9hPlxcbiAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cXG4gICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cXFwiY2xlYXJmaXhcXFwiPjwvZGl2PlxcbiAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVxcXCJjb2xzLWVkaXRcXFwiPlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cXFwiY29sLXNtLTggY29sLXNtLW9mZnNldC0yIGNvbC1zbS1vZmZzZXQtMlxcXCI+XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzZWxlY3QgY2xhc3M9XFxcImZvcm0tY29udHJvbCBjLXNlbGVjdFxcXCIgaWQ9XFxcImlucHV0U2VsZWN0XFxcIj5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8b3B0aW9uIHZhbHVlPVxcXCIwXFxcIj7lhajpg6jljLrln588L29wdGlvbj5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8b3B0aW9uIHZhbHVlPVxcXCIxXFxcIj7ljLrln5/kuIA8L29wdGlvbj5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8b3B0aW9uIHZhbHVlPVxcXCIyXFxcIj7ljLrln5/kuow8L29wdGlvbj5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9zZWxlY3Q+XFxuICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XFxcImNvbC1zbS04IGNvbC1zbS1vZmZzZXQtMiBjb2wtc20tb2Zmc2V0LTJcXFwiPlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzPVxcXCJidG4gYnRuLXN1Y2Nlc3NcXFwiPuS/neWtmDwvYnV0dG9uPlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XFxuICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxcbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxcbiAgICAgICAgICAgICAgPC9kaXY+XFxuICAgICAgICAgICAgPC9kaXY+XFxuXFxuICAgICAgICA8L2Rpdj5cXG5cXG4gICAgICAgIDxkaXYgY2xhc3M9XFxcImJzLWRvY3Mtc2VjdGlvblxcXCI+XFxuXFxuICAgICAgICAgICAgPGgxIGlkPVxcXCJoZWxwZXItY2xhc3Nlc1xcXCIgY2xhc3M9XFxcInBhZ2UtaGVhZGVyXFxcIj48YSBjbGFzcz1cXFwiYW5jaG9yanMtbGluayBcXFwiIGhyZWY9XFxcIiNoZWxwZXItY2xhc3Nlc1xcXCIgYXJpYS1sYWJlbD1cXFwiQW5jaG9yIGxpbmsgZm9yOiBoZWxwZXIgY2xhc3Nlc1xcXCIgZGF0YS1hbmNob3Jqcy1pY29uPVxcXCLup4tcXFwiIHN0eWxlPVxcXCJmb250LWZhbWlseTogYW5jaG9yanMtaWNvbnM7IGZvbnQtc3R5bGU6IG5vcm1hbDsgZm9udC12YXJpYW50OiBub3JtYWw7IGZvbnQtd2VpZ2h0OiBub3JtYWw7IHBvc2l0aW9uOiBhYnNvbHV0ZTsgbWFyZ2luLWxlZnQ6IC0xZW07IHBhZGRpbmctcmlnaHQ6IDAuNWVtO1xcXCI+PC9hPui+heWKqeexuzwvaDE+XFxuICAgICAgICAgICAgPGgzIGlkPVxcXCJoZWxwZXItY2xhc3Nlcy1jb2xvcnNcXFwiPjxhIGNsYXNzPVxcXCJhbmNob3Jqcy1saW5rIFxcXCIgaHJlZj1cXFwiI2hlbHBlci1jbGFzc2VzLWNvbG9yc1xcXCIgYXJpYS1sYWJlbD1cXFwiQW5jaG9yIGxpbmsgZm9yOiBoZWxwZXIgY2xhc3NlcyBjb2xvcnNcXFwiIGRhdGEtYW5jaG9yanMtaWNvbj1cXFwi7qeLXFxcIiBzdHlsZT1cXFwiZm9udC1mYW1pbHk6IGFuY2hvcmpzLWljb25zOyBmb250LXN0eWxlOiBub3JtYWw7IGZvbnQtdmFyaWFudDogbm9ybWFsOyBmb250LXdlaWdodDogbm9ybWFsOyBwb3NpdGlvbjogYWJzb2x1dGU7IG1hcmdpbi1sZWZ0OiAtMWVtOyBwYWRkaW5nLXJpZ2h0OiAwLjVlbTtcXFwiPjwvYT7mg4XlooPmlofmnKzpopzoibI8L2gzPlxcbiAgICAgICAgICAgIDxwPumAmui/h+minOiJsuadpeWxleekuuaEj+Wbvu+8jEJvb3RzdHJhcCDmj5DkvpvkuobkuIDnu4Tlt6XlhbfnsbvjgILov5nkupvnsbvlj6/ku6XlupTnlKjkuo7pk77mjqXvvIzlubbkuJTlnKjpvKDmoIfnu4/ov4fml7bpopzoibLlj6/ku6Xov5jlj6/ku6XliqDmt7HvvIzlsLHlg4/pu5jorqTnmoTpk77mjqXkuIDmoLfjgII8L3A+XFxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cXFwiYnMtZXhhbXBsZVxcXCIgZGF0YS1leGFtcGxlLWlkPVxcXCJjb250ZXh0dWFsLWNvbG9ycy1oZWxwZXJzXFxcIj5cXG4gICAgICAgICAgICAgICAgPHAgY2xhc3M9XFxcInRleHQtbXV0ZWRcXFwiPkZ1c2NlIGRhcGlidXMsIHRlbGx1cyBhYyBjdXJzdXMgY29tbW9kbywgdG9ydG9yIG1hdXJpcyBuaWJoLjwvcD5cXG4gICAgICAgICAgICAgICAgPHAgY2xhc3M9XFxcInRleHQtcHJpbWFyeVxcXCI+TnVsbGFtIGlkIGRvbG9yIGlkIG5pYmggdWx0cmljaWVzIHZlaGljdWxhIHV0IGlkIGVsaXQuPC9wPlxcbiAgICAgICAgICAgICAgICA8cCBjbGFzcz1cXFwidGV4dC1zdWNjZXNzXFxcIj5EdWlzIG1vbGxpcywgZXN0IG5vbiBjb21tb2RvIGx1Y3R1cywgbmlzaSBlcmF0IHBvcnR0aXRvciBsaWd1bGEuPC9wPlxcbiAgICAgICAgICAgICAgICA8cCBjbGFzcz1cXFwidGV4dC1pbmZvXFxcIj5NYWVjZW5hcyBzZWQgZGlhbSBlZ2V0IHJpc3VzIHZhcml1cyBibGFuZGl0IHNpdCBhbWV0IG5vbiBtYWduYS48L3A+XFxuICAgICAgICAgICAgICAgIDxwIGNsYXNzPVxcXCJ0ZXh0LXdhcm5pbmdcXFwiPkV0aWFtIHBvcnRhIHNlbSBtYWxlc3VhZGEgbWFnbmEgbW9sbGlzIGV1aXNtb2QuPC9wPlxcbiAgICAgICAgICAgICAgICA8cCBjbGFzcz1cXFwidGV4dC1kYW5nZXJcXFwiPkRvbmVjIHVsbGFtY29ycGVyIG51bGxhIG5vbiBtZXR1cyBhdWN0b3IgZnJpbmdpbGxhLjwvcD5cXG4gICAgICAgICAgICAgICAgPHAgY2xhc3M9XFxcInRleHQtdGlwXFxcIj5Eb25lYyB1bGxhbWNvcnBlciBudWxsYSBub24gbWV0dXMgYXVjdG9yIGZyaW5naWxsYS48L3A+XFxuICAgICAgICAgICAgPC9kaXY+XFxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cXFwiaGlnaGxpZ2h0XFxcIj48cHJlPjxjb2RlIGNsYXNzPVxcXCJsYW5ndWFnZS1odG1sXFxcIiBkYXRhLWxhbmc9XFxcImh0bWxcXFwiPjxzcGFuIGNsYXNzPVxcXCJudFxcXCI+Jmx0O3A8L3NwYW4+IDxzcGFuIGNsYXNzPVxcXCJuYVxcXCI+Y2xhc3M9PC9zcGFuPjxzcGFuIGNsYXNzPVxcXCJzXFxcIj5cXFwidGV4dC1tdXRlZFxcXCI8L3NwYW4+PHNwYW4gY2xhc3M9XFxcIm50XFxcIj4mZ3Q7PC9zcGFuPi4uLjxzcGFuIGNsYXNzPVxcXCJudFxcXCI+Jmx0Oy9wJmd0Ozwvc3Bhbj5cXG48c3BhbiBjbGFzcz1cXFwibnRcXFwiPiZsdDtwPC9zcGFuPiA8c3BhbiBjbGFzcz1cXFwibmFcXFwiPmNsYXNzPTwvc3Bhbj48c3BhbiBjbGFzcz1cXFwic1xcXCI+XFxcInRleHQtcHJpbWFyeVxcXCI8L3NwYW4+PHNwYW4gY2xhc3M9XFxcIm50XFxcIj4mZ3Q7PC9zcGFuPi4uLjxzcGFuIGNsYXNzPVxcXCJudFxcXCI+Jmx0Oy9wJmd0Ozwvc3Bhbj5cXG48c3BhbiBjbGFzcz1cXFwibnRcXFwiPiZsdDtwPC9zcGFuPiA8c3BhbiBjbGFzcz1cXFwibmFcXFwiPmNsYXNzPTwvc3Bhbj48c3BhbiBjbGFzcz1cXFwic1xcXCI+XFxcInRleHQtc3VjY2Vzc1xcXCI8L3NwYW4+PHNwYW4gY2xhc3M9XFxcIm50XFxcIj4mZ3Q7PC9zcGFuPi4uLjxzcGFuIGNsYXNzPVxcXCJudFxcXCI+Jmx0Oy9wJmd0Ozwvc3Bhbj5cXG48c3BhbiBjbGFzcz1cXFwibnRcXFwiPiZsdDtwPC9zcGFuPiA8c3BhbiBjbGFzcz1cXFwibmFcXFwiPmNsYXNzPTwvc3Bhbj48c3BhbiBjbGFzcz1cXFwic1xcXCI+XFxcInRleHQtaW5mb1xcXCI8L3NwYW4+PHNwYW4gY2xhc3M9XFxcIm50XFxcIj4mZ3Q7PC9zcGFuPi4uLjxzcGFuIGNsYXNzPVxcXCJudFxcXCI+Jmx0Oy9wJmd0Ozwvc3Bhbj5cXG48c3BhbiBjbGFzcz1cXFwibnRcXFwiPiZsdDtwPC9zcGFuPiA8c3BhbiBjbGFzcz1cXFwibmFcXFwiPmNsYXNzPTwvc3Bhbj48c3BhbiBjbGFzcz1cXFwic1xcXCI+XFxcInRleHQtd2FybmluZ1xcXCI8L3NwYW4+PHNwYW4gY2xhc3M9XFxcIm50XFxcIj4mZ3Q7PC9zcGFuPi4uLjxzcGFuIGNsYXNzPVxcXCJudFxcXCI+Jmx0Oy9wJmd0Ozwvc3Bhbj5cXG48c3BhbiBjbGFzcz1cXFwibnRcXFwiPiZsdDtwPC9zcGFuPiA8c3BhbiBjbGFzcz1cXFwibmFcXFwiPmNsYXNzPTwvc3Bhbj48c3BhbiBjbGFzcz1cXFwic1xcXCI+XFxcInRleHQtZGFuZ2VyXFxcIjwvc3Bhbj48c3BhbiBjbGFzcz1cXFwibnRcXFwiPiZndDs8L3NwYW4+Li4uPHNwYW4gY2xhc3M9XFxcIm50XFxcIj4mbHQ7L3AmZ3Q7PC9zcGFuPlxcbjxzcGFuIGNsYXNzPVxcXCJudFxcXCI+Jmx0O3A8L3NwYW4+IDxzcGFuIGNsYXNzPVxcXCJuYVxcXCI+Y2xhc3M9PC9zcGFuPjxzcGFuIGNsYXNzPVxcXCJzXFxcIj5cXFwidGV4dC10aXBcXFwiPC9zcGFuPjxzcGFuIGNsYXNzPVxcXCJudFxcXCI+Jmd0Ozwvc3Bhbj4uLi48c3BhbiBjbGFzcz1cXFwibnRcXFwiPiZsdDsvcCZndDs8L3NwYW4+PC9jb2RlPjwvcHJlPjwvZGl2PlxcblxcbiAgICAgICAgICAgIDxoMyBpZD1cXFwiaGVscGVyLWNsYXNzZXMtYmFja2dyb3VuZHNcXFwiPjxhIGNsYXNzPVxcXCJhbmNob3Jqcy1saW5rIFxcXCIgaHJlZj1cXFwiI2hlbHBlci1jbGFzc2VzLWJhY2tncm91bmRzXFxcIiBhcmlhLWxhYmVsPVxcXCJBbmNob3IgbGluayBmb3I6IGhlbHBlciBjbGFzc2VzIGJhY2tncm91bmRzXFxcIiBkYXRhLWFuY2hvcmpzLWljb249XFxcIu6ni1xcXCIgc3R5bGU9XFxcImZvbnQtZmFtaWx5OiBhbmNob3Jqcy1pY29uczsgZm9udC1zdHlsZTogbm9ybWFsOyBmb250LXZhcmlhbnQ6IG5vcm1hbDsgZm9udC13ZWlnaHQ6IG5vcm1hbDsgcG9zaXRpb246IGFic29sdXRlOyBtYXJnaW4tbGVmdDogLTFlbTsgcGFkZGluZy1yaWdodDogMC41ZW07XFxcIj48L2E+5oOF5aKD6IOM5pmv6ImyPC9oMz5cXG4gICAgICAgICAgICA8cD7lkozmg4XlooPmlofmnKzpopzoibLnsbvkuIDmoLfvvIzkvb/nlKjku7vmhI/mg4XlooPog4zmma/oibLnsbvlsLHlj6/ku6Xorr7nva7lhYPntKDnmoTog4zmma/jgILpk77mjqXnu4Tku7blnKjpvKDmoIfnu4/ov4fml7bpopzoibLkvJrliqDmt7HvvIzlsLHlg4/kuIrpnaLmiYDorrLnmoTmg4XlooPmlofmnKzpopzoibLnsbvkuIDmoLfjgII8L3A+XFxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cXFwiYnMtZXhhbXBsZSBicy1leGFtcGxlLWJnLWNsYXNzZXNcXFwiIGRhdGEtZXhhbXBsZS1pZD1cXFwiY29udGV4dHVhbC1iYWNrZ3JvdW5kcy1oZWxwZXJzXFxcIj5cXG4gICAgICAgICAgICAgICAgPHAgY2xhc3M9XFxcImJnLXByaW1hcnlcXFwiPk51bGxhbSBpZCBkb2xvciBpZCBuaWJoIHVsdHJpY2llcyB2ZWhpY3VsYSB1dCBpZCBlbGl0LjwvcD5cXG4gICAgICAgICAgICAgICAgPHAgY2xhc3M9XFxcImJnLXN1Y2Nlc3NcXFwiPkR1aXMgbW9sbGlzLCBlc3Qgbm9uIGNvbW1vZG8gbHVjdHVzLCBuaXNpIGVyYXQgcG9ydHRpdG9yIGxpZ3VsYS48L3A+XFxuICAgICAgICAgICAgICAgIDxwIGNsYXNzPVxcXCJiZy1pbmZvXFxcIj5NYWVjZW5hcyBzZWQgZGlhbSBlZ2V0IHJpc3VzIHZhcml1cyBibGFuZGl0IHNpdCBhbWV0IG5vbiBtYWduYS48L3A+XFxuICAgICAgICAgICAgICAgIDxwIGNsYXNzPVxcXCJiZy13YXJuaW5nXFxcIj5FdGlhbSBwb3J0YSBzZW0gbWFsZXN1YWRhIG1hZ25hIG1vbGxpcyBldWlzbW9kLjwvcD5cXG4gICAgICAgICAgICAgICAgPHAgY2xhc3M9XFxcImJnLWRhbmdlclxcXCI+RG9uZWMgdWxsYW1jb3JwZXIgbnVsbGEgbm9uIG1ldHVzIGF1Y3RvciBmcmluZ2lsbGEuPC9wPlxcbiAgICAgICAgICAgIDwvZGl2PlxcbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XFxcImhpZ2hsaWdodFxcXCI+PHByZT48Y29kZSBjbGFzcz1cXFwibGFuZ3VhZ2UtaHRtbFxcXCIgZGF0YS1sYW5nPVxcXCJodG1sXFxcIj48c3BhbiBjbGFzcz1cXFwibnRcXFwiPiZsdDtwPC9zcGFuPiA8c3BhbiBjbGFzcz1cXFwibmFcXFwiPmNsYXNzPTwvc3Bhbj48c3BhbiBjbGFzcz1cXFwic1xcXCI+XFxcImJnLXByaW1hcnlcXFwiPC9zcGFuPjxzcGFuIGNsYXNzPVxcXCJudFxcXCI+Jmd0Ozwvc3Bhbj4uLi48c3BhbiBjbGFzcz1cXFwibnRcXFwiPiZsdDsvcCZndDs8L3NwYW4+XFxuPHNwYW4gY2xhc3M9XFxcIm50XFxcIj4mbHQ7cDwvc3Bhbj4gPHNwYW4gY2xhc3M9XFxcIm5hXFxcIj5jbGFzcz08L3NwYW4+PHNwYW4gY2xhc3M9XFxcInNcXFwiPlxcXCJiZy1zdWNjZXNzXFxcIjwvc3Bhbj48c3BhbiBjbGFzcz1cXFwibnRcXFwiPiZndDs8L3NwYW4+Li4uPHNwYW4gY2xhc3M9XFxcIm50XFxcIj4mbHQ7L3AmZ3Q7PC9zcGFuPlxcbjxzcGFuIGNsYXNzPVxcXCJudFxcXCI+Jmx0O3A8L3NwYW4+IDxzcGFuIGNsYXNzPVxcXCJuYVxcXCI+Y2xhc3M9PC9zcGFuPjxzcGFuIGNsYXNzPVxcXCJzXFxcIj5cXFwiYmctaW5mb1xcXCI8L3NwYW4+PHNwYW4gY2xhc3M9XFxcIm50XFxcIj4mZ3Q7PC9zcGFuPi4uLjxzcGFuIGNsYXNzPVxcXCJudFxcXCI+Jmx0Oy9wJmd0Ozwvc3Bhbj5cXG48c3BhbiBjbGFzcz1cXFwibnRcXFwiPiZsdDtwPC9zcGFuPiA8c3BhbiBjbGFzcz1cXFwibmFcXFwiPmNsYXNzPTwvc3Bhbj48c3BhbiBjbGFzcz1cXFwic1xcXCI+XFxcImJnLXdhcm5pbmdcXFwiPC9zcGFuPjxzcGFuIGNsYXNzPVxcXCJudFxcXCI+Jmd0Ozwvc3Bhbj4uLi48c3BhbiBjbGFzcz1cXFwibnRcXFwiPiZsdDsvcCZndDs8L3NwYW4+XFxuPHNwYW4gY2xhc3M9XFxcIm50XFxcIj4mbHQ7cDwvc3Bhbj4gPHNwYW4gY2xhc3M9XFxcIm5hXFxcIj5jbGFzcz08L3NwYW4+PHNwYW4gY2xhc3M9XFxcInNcXFwiPlxcXCJiZy1kYW5nZXJcXFwiPC9zcGFuPjxzcGFuIGNsYXNzPVxcXCJudFxcXCI+Jmd0Ozwvc3Bhbj4uLi48c3BhbiBjbGFzcz1cXFwibnRcXFwiPiZsdDsvcCZndDs8L3NwYW4+PC9jb2RlPjwvcHJlPjwvZGl2PlxcblxcbiAgICAgICAgPC9kaXY+XFxuXFxuICAgICAgICA8ZGl2IGNsYXNzPVxcXCJicy1kb2NzLXNlY3Rpb25cXFwiPlxcbiAgICAgICAgICAgIDxoMSBpZD1cXFwidGFibGVzXFxcIiBjbGFzcz1cXFwicGFnZS1oZWFkZXJcXFwiPjxhIGNsYXNzPVxcXCJhbmNob3Jqcy1saW5rIFxcXCIgaHJlZj1cXFwiI3RhYmxlc1xcXCIgYXJpYS1sYWJlbD1cXFwiQW5jaG9yIGxpbmsgZm9yOiB0YWJsZXNcXFwiIGRhdGEtYW5jaG9yanMtaWNvbj1cXFwi7qeLXFxcIiBzdHlsZT1cXFwiZm9udC1mYW1pbHk6IGFuY2hvcmpzLWljb25zOyBmb250LXN0eWxlOiBub3JtYWw7IGZvbnQtdmFyaWFudDogbm9ybWFsOyBmb250LXdlaWdodDogbm9ybWFsOyBwb3NpdGlvbjogYWJzb2x1dGU7IG1hcmdpbi1sZWZ0OiAtMWVtOyBwYWRkaW5nLXJpZ2h0OiAwLjVlbTtcXFwiPjwvYT7ooajmoLw8L2gxPlxcbiAgICAgICAgICAgIDxwPuS4uuS7u+aEjyA8Y29kZT4mbHQ7dGFibGUmZ3Q7PC9jb2RlPiDmoIfnrb7mt7vliqAgPGNvZGU+LnRhYmxlPC9jb2RlPiDnsbvlj6/ku6XkuLrlhbbotYvkuojln7rmnKznmoTmoLflvI8g4oCUIOWwkemHj+eahOWGheihpe+8iHBhZGRpbmfvvInlkozmsLTlubPmlrnlkJHnmoTliIbpmpTnur/jgILov5nnp43mlrnlvI/nnIvotbfmnaXlvojlpJrkvZnvvIHvvJ/kvYbmmK/miJHku6zop4nlvpfvvIzooajmoLzlhYPntKDkvb/nlKjnmoTlvojlub/ms5vvvIzlpoLmnpzmiJHku6zkuLrlhbbotYvkuojpu5jorqTmoLflvI/lj6/og73kvJrlvbHlk43kvovlpoLml6Xljoblkozml6XmnJ/pgInmi6nkuYvnsbvnmoTmj5Lku7bvvIzmiYDku6XmiJHku6zpgInmi6nlsIbmraTmoLflvI/ni6znq4vlh7rmnaXjgII8L3A+XFxuXFxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cXFwiYnMtZXhhbXBsZVxcXCIgZGF0YS1leGFtcGxlLWlkPVxcXCJzaW1wbGUtdGFibGVcXFwiPlxcbiAgICAgICAgICAgICAgICA8dGFibGUgY2xhc3M9XFxcInRhYmxlXFxcIj5cXG4gICAgICAgICAgICAgICAgICA8Y2FwdGlvbj5PcHRpb25hbCB0YWJsZSBjYXB0aW9uLjwvY2FwdGlvbj5cXG4gICAgICAgICAgICAgICAgICA8dGhlYWQ+XFxuICAgICAgICAgICAgICAgICAgICA8dHI+XFxuICAgICAgICAgICAgICAgICAgICAgIDx0aD4jPC90aD5cXG4gICAgICAgICAgICAgICAgICAgICAgPHRoPkZpcnN0IE5hbWU8L3RoPlxcbiAgICAgICAgICAgICAgICAgICAgICA8dGg+TGFzdCBOYW1lPC90aD5cXG4gICAgICAgICAgICAgICAgICAgICAgPHRoPlVzZXJuYW1lPC90aD5cXG4gICAgICAgICAgICAgICAgICAgIDwvdHI+XFxuICAgICAgICAgICAgICAgICAgPC90aGVhZD5cXG4gICAgICAgICAgICAgICAgICA8dGJvZHk+XFxuICAgICAgICAgICAgICAgICAgICA8dHI+XFxuICAgICAgICAgICAgICAgICAgICAgIDx0aCBzY29wZT1cXFwicm93XFxcIj4xPC90aD5cXG4gICAgICAgICAgICAgICAgICAgICAgPHRkPk1hcms8L3RkPlxcbiAgICAgICAgICAgICAgICAgICAgICA8dGQ+T3R0bzwvdGQ+XFxuICAgICAgICAgICAgICAgICAgICAgIDx0ZD5AbWRvPC90ZD5cXG4gICAgICAgICAgICAgICAgICAgIDwvdHI+XFxuICAgICAgICAgICAgICAgICAgICA8dHI+XFxuICAgICAgICAgICAgICAgICAgICAgIDx0aCBzY29wZT1cXFwicm93XFxcIj4yPC90aD5cXG4gICAgICAgICAgICAgICAgICAgICAgPHRkPkphY29iPC90ZD5cXG4gICAgICAgICAgICAgICAgICAgICAgPHRkPlRob3JudG9uPC90ZD5cXG4gICAgICAgICAgICAgICAgICAgICAgPHRkPkBmYXQ8L3RkPlxcbiAgICAgICAgICAgICAgICAgICAgPC90cj5cXG4gICAgICAgICAgICAgICAgICAgIDx0cj5cXG4gICAgICAgICAgICAgICAgICAgICAgPHRoIHNjb3BlPVxcXCJyb3dcXFwiPjM8L3RoPlxcbiAgICAgICAgICAgICAgICAgICAgICA8dGQ+PGlucHV0IHR5cGU9XFxcImVtYWlsXFxcIiBjbGFzcz1cXFwiZm9ybS1jb250cm9sIFxcXCIgcGxhY2Vob2xkZXI9XFxcIlxcXCI+PHNwYW4+PHAgY2xhc3M9XFxcInZhbGlkYXRpb24taW52YWxpZFxcXCI+5qC85byP5LiN5a+577yBPC9wPjwvc3Bhbj48L3RkPlxcbiAgICAgICAgICAgICAgICAgICAgICA8dGQ+dGhlIEJpcmQ8L3RkPlxcbiAgICAgICAgICAgICAgICAgICAgICA8dGQ+QHR3aXR0ZXI8L3RkPlxcbiAgICAgICAgICAgICAgICAgICAgPC90cj5cXG4gICAgICAgICAgICAgICAgICA8L3Rib2R5PlxcbiAgICAgICAgICAgICAgICA8L3RhYmxlPlxcbiAgICAgICAgICAgICAgPC9kaXY+XFxuXFxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XFxcImhpZ2hsaWdodFxcXCI+PHByZT48Y29kZSBjbGFzcz1cXFwibGFuZ3VhZ2UtaHRtbFxcXCIgZGF0YS1sYW5nPVxcXCJodG1sXFxcIj48c3BhbiBjbGFzcz1cXFwibnRcXFwiPiZsdDt0YWJsZTwvc3Bhbj4gPHNwYW4gY2xhc3M9XFxcIm5hXFxcIj5jbGFzcz08L3NwYW4+PHNwYW4gY2xhc3M9XFxcInNcXFwiPlxcXCJ0YWJsZVxcXCI8L3NwYW4+PHNwYW4gY2xhc3M9XFxcIm50XFxcIj4mZ3Q7PC9zcGFuPlxcbiAgLi4uXFxuPHNwYW4gY2xhc3M9XFxcIm50XFxcIj4mbHQ7L3RhYmxlJmd0Ozwvc3Bhbj48L2NvZGU+PC9wcmU+PC9kaXY+XFxuXFxuICAgICAgICA8L2Rpdj5cXG5cXG4gICAgICAgIDxkaXYgY2xhc3M9XFxcImJzLWRvY3Mtc2VjdGlvblxcXCI+XFxuICAgICAgICAgICAgPGgxIGlkPVxcXCJ0eXBlXFxcIiBjbGFzcz1cXFwicGFnZS1oZWFkZXJcXFwiPjxhIGNsYXNzPVxcXCJhbmNob3Jqcy1saW5rIFxcXCIgaHJlZj1cXFwiI3R5cGVcXFwiIGFyaWEtbGFiZWw9XFxcIkFuY2hvciBsaW5rIGZvcjogdHlwZVxcXCIgZGF0YS1hbmNob3Jqcy1pY29uPVxcXCLup4tcXFwiIHN0eWxlPVxcXCJmb250LWZhbWlseTogYW5jaG9yanMtaWNvbnM7IGZvbnQtc3R5bGU6IG5vcm1hbDsgZm9udC12YXJpYW50OiBub3JtYWw7IGZvbnQtd2VpZ2h0OiBub3JtYWw7IHBvc2l0aW9uOiBhYnNvbHV0ZTsgbWFyZ2luLWxlZnQ6IC0xZW07IHBhZGRpbmctcmlnaHQ6IDAuNWVtO1xcXCI+PC9hPuaOkueJiDwvaDE+XFxuICAgICAgICAgICAgPGgyIGlkPVxcXCJ0eXBlLWhlYWRpbmdzXFxcIj48YSBjbGFzcz1cXFwiYW5jaG9yanMtbGluayBcXFwiIGhyZWY9XFxcIiN0eXBlLWhlYWRpbmdzXFxcIiBhcmlhLWxhYmVsPVxcXCJBbmNob3IgbGluayBmb3I6IHR5cGUgaGVhZGluZ3NcXFwiIGRhdGEtYW5jaG9yanMtaWNvbj1cXFwi7qeLXFxcIiBzdHlsZT1cXFwiZm9udC1mYW1pbHk6IGFuY2hvcmpzLWljb25zOyBmb250LXN0eWxlOiBub3JtYWw7IGZvbnQtdmFyaWFudDogbm9ybWFsOyBmb250LXdlaWdodDogbm9ybWFsOyBwb3NpdGlvbjogYWJzb2x1dGU7IG1hcmdpbi1sZWZ0OiAtMWVtOyBwYWRkaW5nLXJpZ2h0OiAwLjVlbTtcXFwiPjwvYT7moIfpopg8L2gyPlxcbiAgICAgICAgICAgIDxwPkhUTUwg5Lit55qE5omA5pyJ5qCH6aKY5qCH562+77yMPGNvZGU+Jmx0O2gxJmd0OzwvY29kZT4g5YiwIDxjb2RlPiZsdDtoNiZndDs8L2NvZGU+IOWdh+WPr+S9v+eUqOOAguWPpuWklu+8jOi/mOaPkOS+m+S6hiA8Y29kZT4uaDE8L2NvZGU+IOWIsCA8Y29kZT4uaDY8L2NvZGU+IOexu++8jOS4uueahOaYr+e7meWGheiBlO+8iGlubGluZe+8ieWxnuaAp+eahOaWh+acrOi1i+S6iOagh+mimOeahOagt+W8j+OAgjwvcD5cXG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVxcXCJicy1leGFtcGxlIGJzLWV4YW1wbGUtdHlwZVxcXCIgZGF0YS1leGFtcGxlLWlkPVxcXCJzaW1wbGUtaGVhZGluZ3NcXFwiPlxcbiAgICAgICAgICAgICAgICA8dGFibGUgY2xhc3M9XFxcInRhYmxlXFxcIj5cXG4gICAgICAgICAgICAgICAgICA8dGJvZHk+XFxuICAgICAgICAgICAgICAgICAgICA8dHI+XFxuICAgICAgICAgICAgICAgICAgICAgIDx0ZD48aDE+aDEuIEJvb3RzdHJhcCBoZWFkaW5nPC9oMT48L3RkPlxcbiAgICAgICAgICAgICAgICAgICAgICA8dGQgY2xhc3M9XFxcInR5cGUtaW5mb1xcXCI+U2VtaWJvbGQgMzZweDwvdGQ+XFxuICAgICAgICAgICAgICAgICAgICA8L3RyPlxcbiAgICAgICAgICAgICAgICAgICAgPHRyPlxcbiAgICAgICAgICAgICAgICAgICAgICA8dGQ+PGgyPmgyLiBCb290c3RyYXAgaGVhZGluZzwvaDI+PC90ZD5cXG4gICAgICAgICAgICAgICAgICAgICAgPHRkIGNsYXNzPVxcXCJ0eXBlLWluZm9cXFwiPlNlbWlib2xkIDMwcHg8L3RkPlxcbiAgICAgICAgICAgICAgICAgICAgPC90cj5cXG4gICAgICAgICAgICAgICAgICAgIDx0cj5cXG4gICAgICAgICAgICAgICAgICAgICAgPHRkPjxoMz5oMy4gQm9vdHN0cmFwIGhlYWRpbmc8L2gzPjwvdGQ+XFxuICAgICAgICAgICAgICAgICAgICAgIDx0ZCBjbGFzcz1cXFwidHlwZS1pbmZvXFxcIj5TZW1pYm9sZCAyNHB4PC90ZD5cXG4gICAgICAgICAgICAgICAgICAgIDwvdHI+XFxuICAgICAgICAgICAgICAgICAgICA8dHI+XFxuICAgICAgICAgICAgICAgICAgICAgIDx0ZD48aDQ+aDQuIEJvb3RzdHJhcCBoZWFkaW5nPC9oND48L3RkPlxcbiAgICAgICAgICAgICAgICAgICAgICA8dGQgY2xhc3M9XFxcInR5cGUtaW5mb1xcXCI+U2VtaWJvbGQgMThweDwvdGQ+XFxuICAgICAgICAgICAgICAgICAgICA8L3RyPlxcbiAgICAgICAgICAgICAgICAgICAgPHRyPlxcbiAgICAgICAgICAgICAgICAgICAgICA8dGQ+PGg1Pmg1LiBCb290c3RyYXAgaGVhZGluZzwvaDU+PC90ZD5cXG4gICAgICAgICAgICAgICAgICAgICAgPHRkIGNsYXNzPVxcXCJ0eXBlLWluZm9cXFwiPlNlbWlib2xkIDE2cHg8L3RkPlxcbiAgICAgICAgICAgICAgICAgICAgPC90cj5cXG4gICAgICAgICAgICAgICAgICAgIDx0cj5cXG4gICAgICAgICAgICAgICAgICAgICAgPHRkPjxoNj5oNi4gQm9vdHN0cmFwIGhlYWRpbmc8L2g2PjwvdGQ+XFxuICAgICAgICAgICAgICAgICAgICAgIDx0ZCBjbGFzcz1cXFwidHlwZS1pbmZvXFxcIj5TZW1pYm9sZCAxNHB4PC90ZD5cXG4gICAgICAgICAgICAgICAgICAgIDwvdHI+XFxuICAgICAgICAgICAgICAgICAgPC90Ym9keT5cXG4gICAgICAgICAgICAgICAgPC90YWJsZT5cXG4gICAgICAgICAgICAgIDwvZGl2PlxcbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XFxcImhpZ2hsaWdodFxcXCI+PHByZT48Y29kZSBjbGFzcz1cXFwibGFuZ3VhZ2UtaHRtbFxcXCIgZGF0YS1sYW5nPVxcXCJodG1sXFxcIj48c3BhbiBjbGFzcz1cXFwibnRcXFwiPiZsdDtoMSZndDs8L3NwYW4+aDEuIEJvb3RzdHJhcCBoZWFkaW5nPHNwYW4gY2xhc3M9XFxcIm50XFxcIj4mbHQ7L2gxJmd0Ozwvc3Bhbj5cXG48c3BhbiBjbGFzcz1cXFwibnRcXFwiPiZsdDtoMiZndDs8L3NwYW4+aDIuIEJvb3RzdHJhcCBoZWFkaW5nPHNwYW4gY2xhc3M9XFxcIm50XFxcIj4mbHQ7L2gyJmd0Ozwvc3Bhbj5cXG48c3BhbiBjbGFzcz1cXFwibnRcXFwiPiZsdDtoMyZndDs8L3NwYW4+aDMuIEJvb3RzdHJhcCBoZWFkaW5nPHNwYW4gY2xhc3M9XFxcIm50XFxcIj4mbHQ7L2gzJmd0Ozwvc3Bhbj5cXG48c3BhbiBjbGFzcz1cXFwibnRcXFwiPiZsdDtoNCZndDs8L3NwYW4+aDQuIEJvb3RzdHJhcCBoZWFkaW5nPHNwYW4gY2xhc3M9XFxcIm50XFxcIj4mbHQ7L2g0Jmd0Ozwvc3Bhbj5cXG48c3BhbiBjbGFzcz1cXFwibnRcXFwiPiZsdDtoNSZndDs8L3NwYW4+aDUuIEJvb3RzdHJhcCBoZWFkaW5nPHNwYW4gY2xhc3M9XFxcIm50XFxcIj4mbHQ7L2g1Jmd0Ozwvc3Bhbj5cXG48c3BhbiBjbGFzcz1cXFwibnRcXFwiPiZsdDtoNiZndDs8L3NwYW4+aDYuIEJvb3RzdHJhcCBoZWFkaW5nPHNwYW4gY2xhc3M9XFxcIm50XFxcIj4mbHQ7L2g2Jmd0Ozwvc3Bhbj48L2NvZGU+PC9wcmU+PC9kaXY+XFxuICAgICAgICA8L2Rpdj5cXG5cXG4gICAgICA8L2Rpdj5cXG4gICAgICA8ZGl2IGNsYXNzPVxcXCJjb2wtbWQtM1xcXCIgcm9sZT1cXFwiY29tcGxlbWVudGFyeVxcXCI+XFxuICAgICAgICA8bmF2IGNsYXNzPVxcXCJicy1kb2NzLXNpZGViYXIgaGlkZGVuLXByaW50IGhpZGRlbi14cyBoaWRkZW4tc20gYWZmaXgtdG9wXFxcIj5cXG4gICAgICAgICAgPHVsIGNsYXNzPVxcXCJuYXYgYnMtZG9jcy1zaWRlbmF2XFxcIj5cXG5cXG4gICAgICAgICAgICA8bGkgY2xhc3M9XFxcIlxcXCI+XFxuICAgICAgICAgICAgICA8YSBocmVmPVxcXCIjZ2x5cGhpY29uc1xcXCI+R2x5cGhpY29ucyDlrZfkvZPlm77moIc8L2E+XFxuICAgICAgICAgICAgICA8dWwgY2xhc3M9XFxcIm5hdlxcXCI+XFxuICAgICAgICAgICAgICAgIDxsaSBjbGFzcz1cXFwiXFxcIj48YSBocmVmPVxcXCIjZ2x5cGhpY29ucy1nbHlwaHNcXFwiPuaJgOacieWPr+eUqOeahOWbvuaghzwvYT48L2xpPlxcbiAgICAgICAgICAgICAgICA8bGkgY2xhc3M9XFxcIlxcXCI+PGEgaHJlZj1cXFwiI2dseXBoaWNvbnMtaG93LXRvLXVzZVxcXCI+5aaC5L2V5L2/55SoPC9hPjwvbGk+XFxuICAgICAgICAgICAgICAgIDxsaSBjbGFzcz1cXFwiXFxcIj48YSBocmVmPVxcXCIjZ2x5cGhpY29ucy1leGFtcGxlc1xcXCI+5a6e5L6LPC9hPjwvbGk+XFxuICAgICAgICAgICAgICA8L3VsPlxcbiAgICAgICAgICAgIDwvbGk+XFxuICAgICAgICAgICAgPGxpIGNsYXNzPVxcXCJcXFwiPlxcbiAgICAgICAgICAgICAgPGEgaHJlZj1cXFwiI2Ryb3Bkb3duc1xcXCI+5LiL5ouJ6I+c5Y2VPC9hPlxcbiAgICAgICAgICAgICAgPHVsIGNsYXNzPVxcXCJuYXZcXFwiPlxcbiAgICAgICAgICAgICAgICA8bGkgY2xhc3M9XFxcIlxcXCI+PGEgaHJlZj1cXFwiI2Ryb3Bkb3ducy1leGFtcGxlXFxcIj7lrp7kvos8L2E+PC9saT5cXG4gICAgICAgICAgICAgICAgPGxpIGNsYXNzPVxcXCJcXFwiPjxhIGhyZWY9XFxcIiNkcm9wZG93bnMtYWxpZ25tZW50XFxcIj7lr7npvZA8L2E+PC9saT5cXG4gICAgICAgICAgICAgICAgPGxpPjxhIGhyZWY9XFxcIiNkcm9wZG93bnMtaGVhZGVyc1xcXCI+5qCH6aKYPC9hPjwvbGk+XFxuICAgICAgICAgICAgICAgIDxsaT48YSBocmVmPVxcXCIjZHJvcGRvd25zLWRpdmlkZXJcXFwiPuWIhuWJsue6vzwvYT48L2xpPlxcbiAgICAgICAgICAgICAgICA8bGkgY2xhc3M9XFxcIlxcXCI+PGEgaHJlZj1cXFwiI2Ryb3Bkb3ducy1kaXNhYmxlZFxcXCI+56aB55So55qE6I+c5Y2V6aG5PC9hPjwvbGk+XFxuICAgICAgICAgICAgICA8L3VsPlxcbiAgICAgICAgICAgIDwvbGk+XFxuICAgICAgICAgICAgPGxpIGNsYXNzPVxcXCJcXFwiPlxcbiAgICAgICAgICAgICAgPGEgaHJlZj1cXFwiI2J0bi1ncm91cHNcXFwiPuaMiemSrue7hDwvYT5cXG4gICAgICAgICAgICAgIDx1bCBjbGFzcz1cXFwibmF2XFxcIj5cXG4gICAgICAgICAgICAgICAgPGxpIGNsYXNzPVxcXCJcXFwiPjxhIGhyZWY9XFxcIiNidG4tZ3JvdXBzLXNpbmdsZVxcXCI+5Z+65pys5a6e5L6LPC9hPjwvbGk+XFxuICAgICAgICAgICAgICAgIDxsaT48YSBocmVmPVxcXCIjYnRuLWdyb3Vwcy10b29sYmFyXFxcIj7mjInpkq7lt6XlhbfmoI88L2E+PC9saT5cXG4gICAgICAgICAgICAgICAgPGxpPjxhIGhyZWY9XFxcIiNidG4tZ3JvdXBzLXNpemluZ1xcXCI+5bC65a+4PC9hPjwvbGk+XFxuICAgICAgICAgICAgICAgIDxsaT48YSBocmVmPVxcXCIjYnRuLWdyb3Vwcy1uZXN0ZWRcXFwiPuW1jOWllzwvYT48L2xpPlxcbiAgICAgICAgICAgICAgICA8bGk+PGEgaHJlZj1cXFwiI2J0bi1ncm91cHMtdmVydGljYWxcXFwiPuWeguebtOaOkuWIlzwvYT48L2xpPlxcbiAgICAgICAgICAgICAgICA8bGkgY2xhc3M9XFxcIlxcXCI+PGEgaHJlZj1cXFwiI2J0bi1ncm91cHMtanVzdGlmaWVkXFxcIj7kuKTnq6/lr7npvZDmjpLliJfnmoTmjInpkq7nu4Q8L2E+PC9saT5cXG4gICAgICAgICAgICAgIDwvdWw+XFxuICAgICAgICAgICAgPC9saT5cXG4gICAgICAgICAgICA8bGk+XFxuICAgICAgICAgICAgICA8YSBocmVmPVxcXCIjYnRuLWRyb3Bkb3duc1xcXCI+5oyJ6ZKu5byP5LiL5ouJ6I+c5Y2VPC9hPlxcbiAgICAgICAgICAgICAgPHVsIGNsYXNzPVxcXCJuYXZcXFwiPlxcbiAgICAgICAgICAgICAgICA8bGk+PGEgaHJlZj1cXFwiI2J0bi1kcm9wZG93bnMtc2luZ2xlXFxcIj7ljZXmjInpkq7kuIvmi4noj5zljZU8L2E+PC9saT5cXG4gICAgICAgICAgICAgICAgPGxpPjxhIGhyZWY9XFxcIiNidG4tZHJvcGRvd25zLXNwbGl0XFxcIj7liIboo4LlvI/mjInpkq7kuIvmi4noj5zljZU8L2E+PC9saT5cXG4gICAgICAgICAgICAgICAgPGxpPjxhIGhyZWY9XFxcIiNidG4tZHJvcGRvd25zLXNpemluZ1xcXCI+5bC65a+4PC9hPjwvbGk+XFxuICAgICAgICAgICAgICAgIDxsaT48YSBocmVmPVxcXCIjYnRuLWRyb3Bkb3ducy1kcm9wdXBcXFwiPuWQkeS4iuW8ueWHuuW8j+iPnOWNlTwvYT48L2xpPlxcbiAgICAgICAgICAgICAgPC91bD5cXG4gICAgICAgICAgICA8L2xpPlxcbiAgICAgICAgICAgIDxsaT5cXG4gICAgICAgICAgICAgIDxhIGhyZWY9XFxcIiNpbnB1dC1ncm91cHNcXFwiPui+k+WFpeahhue7hDwvYT5cXG4gICAgICAgICAgICAgIDx1bCBjbGFzcz1cXFwibmF2XFxcIj5cXG4gICAgICAgICAgICAgICAgPGxpPjxhIGhyZWY9XFxcIiNpbnB1dC1ncm91cHMtYmFzaWNcXFwiPuWfuuacrOWunuS+izwvYT48L2xpPlxcbiAgICAgICAgICAgICAgICA8bGk+PGEgaHJlZj1cXFwiI2lucHV0LWdyb3Vwcy1zaXppbmdcXFwiPuWwuuWvuDwvYT48L2xpPlxcbiAgICAgICAgICAgICAgICA8bGk+PGEgaHJlZj1cXFwiI2lucHV0LWdyb3Vwcy1jaGVja2JveGVzLXJhZGlvc1xcXCI+5L2c5Li66aKd5aSW5YWD57Sg55qE5aSa6YCJ5qGG5ZKM5Y2V6YCJ5qGGPC9hPjwvbGk+XFxuICAgICAgICAgICAgICAgIDxsaT48YSBocmVmPVxcXCIjaW5wdXQtZ3JvdXBzLWJ1dHRvbnNcXFwiPuS9nOS4uumineWkluWFg+e0oOeahOaMiemSrjwvYT48L2xpPlxcbiAgICAgICAgICAgICAgICA8bGk+PGEgaHJlZj1cXFwiI2lucHV0LWdyb3Vwcy1idXR0b25zLWRyb3Bkb3duc1xcXCI+5L2c5Li66aKd5aSW5YWD57Sg55qE5oyJ6ZKu5byP5LiL5ouJ6I+c5Y2VPC9hPjwvbGk+XFxuICAgICAgICAgICAgICAgIDxsaT48YSBocmVmPVxcXCIjaW5wdXQtZ3JvdXBzLWJ1dHRvbnMtc2VnbWVudGVkXFxcIj7kvZzkuLrpop3lpJblhYPntKDnmoTliIboo4LlvI/mjInpkq7kuIvmi4noj5zljZU8L2E+PC9saT5cXG4gICAgICAgICAgICAgIDwvdWw+XFxuICAgICAgICAgICAgPC9saT5cXG4gICAgICAgICAgICA8bGk+XFxuICAgICAgICAgICAgICA8YSBocmVmPVxcXCIjbmF2XFxcIj7lr7zoiKo8L2E+XFxuICAgICAgICAgICAgICA8dWwgY2xhc3M9XFxcIm5hdlxcXCI+XFxuICAgICAgICAgICAgICAgIDxsaT48YSBocmVmPVxcXCIjbmF2LXRhYnNcXFwiPuagh+etvumhtTwvYT48L2xpPlxcbiAgICAgICAgICAgICAgICA8bGk+PGEgaHJlZj1cXFwiI25hdi1waWxsc1xcXCI+6IO25ZuK5byP5qCH562+6aG1PC9hPjwvbGk+XFxuICAgICAgICAgICAgICAgIDxsaT48YSBocmVmPVxcXCIjbmF2LWp1c3RpZmllZFxcXCI+5Lik56uv5a+56b2QPC9hPjwvbGk+XFxuICAgICAgICAgICAgICAgIDxsaT48YSBocmVmPVxcXCIjbmF2LWRpc2FibGVkLWxpbmtzXFxcIj7npoHnlKjnmoTpk77mjqU8L2E+PC9saT5cXG4gICAgICAgICAgICAgICAgPGxpPjxhIGhyZWY9XFxcIiNuYXYtZHJvcGRvd25zXFxcIj7mt7vliqDkuIvmi4noj5zljZU8L2E+PC9saT5cXG4gICAgICAgICAgICAgIDwvdWw+XFxuICAgICAgICAgICAgPC9saT5cXG4gICAgICAgICAgICA8bGkgY2xhc3M9XFxcIlxcXCI+XFxuICAgICAgICAgICAgICA8YSBocmVmPVxcXCIjbmF2YmFyXFxcIj7lr7zoiKrmnaE8L2E+XFxuICAgICAgICAgICAgICA8dWwgY2xhc3M9XFxcIm5hdlxcXCI+XFxuICAgICAgICAgICAgICAgIDxsaT48YSBocmVmPVxcXCIjbmF2YmFyLWRlZmF1bHRcXFwiPum7mOiupOagt+W8j+eahOWvvOiIquadoTwvYT48L2xpPlxcbiAgICAgICAgICAgICAgICA8bGk+PGEgaHJlZj1cXFwiI25hdmJhci1icmFuZC1pbWFnZVxcXCI+5ZOB54mM5Zu+5qCHPC9hPjwvbGk+XFxuICAgICAgICAgICAgICAgIDxsaT48YSBocmVmPVxcXCIjbmF2YmFyLWZvcm1zXFxcIj7ooajljZU8L2E+PC9saT5cXG4gICAgICAgICAgICAgICAgPGxpPjxhIGhyZWY9XFxcIiNuYXZiYXItYnV0dG9uc1xcXCI+5oyJ6ZKuPC9hPjwvbGk+XFxuICAgICAgICAgICAgICAgIDxsaT48YSBocmVmPVxcXCIjbmF2YmFyLXRleHRcXFwiPuaWh+acrDwvYT48L2xpPlxcbiAgICAgICAgICAgICAgICA8bGk+PGEgaHJlZj1cXFwiI25hdmJhci1saW5rc1xcXCI+6Z2e5a+86Iiq55qE6ZO+5o6lPC9hPjwvbGk+XFxuICAgICAgICAgICAgICAgIDxsaSBjbGFzcz1cXFwiXFxcIj48YSBocmVmPVxcXCIjbmF2YmFyLWNvbXBvbmVudC1hbGlnbm1lbnRcXFwiPue7hOS7tuaOkuWIlzwvYT48L2xpPlxcbiAgICAgICAgICAgICAgICA8bGk+PGEgaHJlZj1cXFwiI25hdmJhci1maXhlZC10b3BcXFwiPuWbuuWumuWcqOmhtumDqDwvYT48L2xpPlxcbiAgICAgICAgICAgICAgICA8bGk+PGEgaHJlZj1cXFwiI25hdmJhci1maXhlZC1ib3R0b21cXFwiPuWbuuWumuWcqOW6lemDqDwvYT48L2xpPlxcbiAgICAgICAgICAgICAgICA8bGk+PGEgaHJlZj1cXFwiI25hdmJhci1zdGF0aWMtdG9wXFxcIj7pnZnmraLlnKjpobbpg6g8L2E+PC9saT5cXG4gICAgICAgICAgICAgICAgPGxpPjxhIGhyZWY9XFxcIiNuYXZiYXItaW52ZXJ0ZWRcXFwiPuWPjeiJsueahOWvvOiIquadoTwvYT48L2xpPlxcbiAgICAgICAgICAgICAgPC91bD5cXG4gICAgICAgICAgICA8L2xpPlxcbiAgICAgICAgICAgIDxsaT48YSBocmVmPVxcXCIjYnJlYWRjcnVtYnNcXFwiPui3r+W+hOWvvOiIqjwvYT48L2xpPlxcbiAgICAgICAgICAgIDxsaT5cXG4gICAgICAgICAgICAgIDxhIGhyZWY9XFxcIiNwYWdpbmF0aW9uXFxcIj7liIbpobU8L2E+XFxuICAgICAgICAgICAgICA8dWwgY2xhc3M9XFxcIm5hdlxcXCI+XFxuICAgICAgICAgICAgICAgIDxsaT48YSBocmVmPVxcXCIjcGFnaW5hdGlvbi1kZWZhdWx0XFxcIj7pu5jorqTliIbpobU8L2E+PC9saT5cXG4gICAgICAgICAgICAgICAgPGxpPjxhIGhyZWY9XFxcIiNwYWdpbmF0aW9uLXBhZ2VyXFxcIj7nv7vpobU8L2E+PC9saT5cXG4gICAgICAgICAgICAgIDwvdWw+XFxuICAgICAgICAgICAgPC9saT5cXG4gICAgICAgICAgICA8bGk+PGEgaHJlZj1cXFwiI2xhYmVsc1xcXCI+5qCH562+PC9hPjwvbGk+XFxuICAgICAgICAgICAgPGxpPjxhIGhyZWY9XFxcIiNiYWRnZXNcXFwiPuW+veeroDwvYT48L2xpPlxcbiAgICAgICAgICAgIDxsaT48YSBocmVmPVxcXCIjanVtYm90cm9uXFxcIj7lt6jluZU8L2E+PC9saT5cXG4gICAgICAgICAgICA8bGk+PGEgaHJlZj1cXFwiI3BhZ2UtaGVhZGVyXFxcIj7pobXlpLQ8L2E+PC9saT5cXG4gICAgICAgICAgICA8bGk+XFxuICAgICAgICAgICAgICA8YSBocmVmPVxcXCIjdGh1bWJuYWlsc1xcXCI+57yp55Wl5Zu+PC9hPlxcbiAgICAgICAgICAgICAgPHVsIGNsYXNzPVxcXCJuYXZcXFwiPlxcbiAgICAgICAgICAgICAgICA8bGk+PGEgaHJlZj1cXFwiI3RodW1ibmFpbHMtZGVmYXVsdFxcXCI+6buY6K6k5qC35byP55qE5a6e5L6LPC9hPjwvbGk+XFxuICAgICAgICAgICAgICAgIDxsaT48YSBocmVmPVxcXCIjdGh1bWJuYWlscy1jdXN0b20tY29udGVudFxcXCI+6Ieq5a6a5LmJ5YaF5a65PC9hPjwvbGk+XFxuICAgICAgICAgICAgICA8L3VsPlxcbiAgICAgICAgICAgIDwvbGk+XFxuICAgICAgICAgICAgPGxpPlxcbiAgICAgICAgICAgICAgPGEgaHJlZj1cXFwiI2FsZXJ0c1xcXCI+6K2m5ZGK5qGGPC9hPlxcbiAgICAgICAgICAgICAgPHVsIGNsYXNzPVxcXCJuYXZcXFwiPlxcbiAgICAgICAgICAgICAgICA8bGk+PGEgaHJlZj1cXFwiI2FsZXJ0cy1leGFtcGxlc1xcXCI+5a6e5L6LPC9hPjwvbGk+XFxuICAgICAgICAgICAgICAgIDxsaT48YSBocmVmPVxcXCIjYWxlcnRzLWRpc21pc3NpYmxlXFxcIj7lj6/lhbPpl63nmoTorablkYrmoYY8L2E+PC9saT5cXG4gICAgICAgICAgICAgICAgPGxpPjxhIGhyZWY9XFxcIiNhbGVydHMtbGlua3NcXFwiPuitpuWRiuahhuS4reeahOmTvuaOpTwvYT48L2xpPlxcbiAgICAgICAgICAgICAgPC91bD5cXG4gICAgICAgICAgICA8L2xpPlxcbiAgICAgICAgICAgIDxsaT5cXG4gICAgICAgICAgICAgIDxhIGhyZWY9XFxcIiNwcm9ncmVzc1xcXCI+6L+b5bqm5p2hPC9hPlxcbiAgICAgICAgICAgICAgPHVsIGNsYXNzPVxcXCJuYXZcXFwiPlxcbiAgICAgICAgICAgICAgICA8bGk+PGEgaHJlZj1cXFwiI3Byb2dyZXNzLWJhc2ljXFxcIj7ln7rmnKzlrp7kvos8L2E+PC9saT5cXG4gICAgICAgICAgICAgICAgPGxpPjxhIGhyZWY9XFxcIiNwcm9ncmVzcy1sYWJlbFxcXCI+5bim5pyJ5o+Q56S65qCH562+55qE6L+b5bqm5p2hPC9hPjwvbGk+XFxuICAgICAgICAgICAgICAgIDxsaT48YSBocmVmPVxcXCIjcHJvZ3Jlc3MtYWx0ZXJuYXRpdmVzXFxcIj7moLnmja7mg4XlooPlj5jljJbmlYjmnpw8L2E+PC9saT5cXG4gICAgICAgICAgICAgICAgPGxpPjxhIGhyZWY9XFxcIiNwcm9ncmVzcy1zdHJpcGVkXFxcIj7mnaHnurnmlYjmnpw8L2E+PC9saT5cXG4gICAgICAgICAgICAgICAgPGxpPjxhIGhyZWY9XFxcIiNwcm9ncmVzcy1hbmltYXRlZFxcXCI+5Yqo55S75pWI5p6cPC9hPjwvbGk+XFxuICAgICAgICAgICAgICAgIDxsaT48YSBocmVmPVxcXCIjcHJvZ3Jlc3Mtc3RhY2tlZFxcXCI+5aCG5Y+g5pWI5p6cPC9hPjwvbGk+XFxuICAgICAgICAgICAgICA8L3VsPlxcbiAgICAgICAgICAgIDwvbGk+XFxuICAgICAgICAgICAgPGxpPlxcbiAgICAgICAgICAgICAgPGEgaHJlZj1cXFwiI21lZGlhXFxcIj7lqpLkvZPlr7nosaE8L2E+XFxuICAgICAgICAgICAgICA8dWwgY2xhc3M9XFxcIm5hdlxcXCI+XFxuICAgICAgICAgICAgICAgIDxsaT48YSBocmVmPVxcXCIjbWVkaWEtZGVmYXVsdFxcXCI+6buY6K6k5qC35byPPC9hPjwvbGk+XFxuICAgICAgICAgICAgICAgIDxsaT48YSBocmVmPVxcXCIjbWVkaWEtbGlzdFxcXCI+5aqS5L2T5a+56LGh5YiX6KGoPC9hPjwvbGk+XFxuICAgICAgICAgICAgICA8L3VsPlxcbiAgICAgICAgICAgIDwvbGk+XFxuICAgICAgICAgICAgPGxpPlxcbiAgICAgICAgICAgICAgPGEgaHJlZj1cXFwiI2xpc3QtZ3JvdXBcXFwiPuWIl+ihqOe7hDwvYT5cXG4gICAgICAgICAgICAgIDx1bCBjbGFzcz1cXFwibmF2XFxcIj5cXG4gICAgICAgICAgICAgICAgPGxpPjxhIGhyZWY9XFxcIiNsaXN0LWdyb3VwLWJhc2ljXFxcIj7ln7rmnKzlrp7kvos8L2E+PC9saT5cXG4gICAgICAgICAgICAgICAgPGxpPjxhIGhyZWY9XFxcIiNsaXN0LWdyb3VwLWJhZGdlc1xcXCI+5b6956ugPC9hPjwvbGk+XFxuICAgICAgICAgICAgICAgIDxsaT48YSBocmVmPVxcXCIjbGlzdC1ncm91cC1saW5rZWRcXFwiPumTvuaOpTwvYT48L2xpPlxcbiAgICAgICAgICAgICAgICA8bGk+PGEgaHJlZj1cXFwiI2xpc3QtZ3JvdXAtYnV0dG9uc1xcXCI+QnV0dG9uIGl0ZW1zPC9hPjwvbGk+XFxuICAgICAgICAgICAgICAgIDxsaT48YSBocmVmPVxcXCIjbGlzdC1ncm91cC1kaXNhYmxlZFxcXCI+6KKr56aB55So55qE5p2h55uuPC9hPjwvbGk+XFxuICAgICAgICAgICAgICAgIDxsaT48YSBocmVmPVxcXCIjbGlzdC1ncm91cC1jb250ZXh0dWFsLWNsYXNzZXNcXFwiPuaDheWig+exuzwvYT48L2xpPlxcbiAgICAgICAgICAgICAgICA8bGk+PGEgaHJlZj1cXFwiI2xpc3QtZ3JvdXAtY3VzdG9tLWNvbnRlbnRcXFwiPuWumuWItuWGheWuuTwvYT48L2xpPlxcbiAgICAgICAgICAgICAgPC91bD5cXG4gICAgICAgICAgICA8L2xpPlxcbiAgICAgICAgICAgIDxsaT5cXG4gICAgICAgICAgICAgIDxhIGhyZWY9XFxcIiNwYW5lbHNcXFwiPumdouadvzwvYT5cXG4gICAgICAgICAgICAgIDx1bCBjbGFzcz1cXFwibmF2XFxcIj5cXG4gICAgICAgICAgICAgICAgPGxpPjxhIGhyZWY9XFxcIiNwYW5lbHMtYmFzaWNcXFwiPuWfuuacrOWunuS+izwvYT48L2xpPlxcbiAgICAgICAgICAgICAgICA8bGk+PGEgaHJlZj1cXFwiI3BhbmVscy1oZWFkaW5nXFxcIj7luKbmoIfpopjnmoTpnaLniYg8L2E+PC9saT5cXG4gICAgICAgICAgICAgICAgPGxpPjxhIGhyZWY9XFxcIiNwYW5lbHMtZm9vdGVyXFxcIj7luKbms6johJrnmoTpnaLmnb88L2E+PC9saT5cXG4gICAgICAgICAgICAgICAgPGxpPjxhIGhyZWY9XFxcIiNwYW5lbHMtYWx0ZXJuYXRpdmVzXFxcIj7mg4XlooPmlYjmnpw8L2E+PC9saT5cXG4gICAgICAgICAgICAgICAgPGxpPjxhIGhyZWY9XFxcIiNwYW5lbHMtdGFibGVzXFxcIj7luKbooajmoLznmoTpnaLniYg8L2E+XFxuICAgICAgICAgICAgICAgIDwvbGk+PGxpPjxhIGhyZWY9XFxcIiNwYW5lbHMtbGlzdC1ncm91cFxcXCI+5bim5YiX6KGo57uE55qE6Z2i54mIPC9hPlxcbiAgICAgICAgICAgICAgPC9saT48L3VsPlxcbiAgICAgICAgICAgIDwvbGk+XFxuICAgICAgICAgICAgPGxpPjxhIGhyZWY9XFxcIiNyZXNwb25zaXZlLWVtYmVkXFxcIj7lhbfmnInlk43lupTlvI/nibnmgKfnmoTltYzlhaXlhoXlrrk8L2E+PC9saT5cXG4gICAgICAgICAgICA8bGk+PGEgaHJlZj1cXFwiI3dlbGxzXFxcIj5XZWxsPC9hPjwvbGk+XFxuXFxuXFxuICAgICAgICAgIDwvdWw+XFxuICAgICAgICAgIDxhIGNsYXNzPVxcXCJiYWNrLXRvLXRvcFxcXCIgaHJlZj1cXFwiI3RvcFxcXCI+XFxuICAgICAgICAgICAg6L+U5Zue6aG26YOoXFxuICAgICAgICAgIDwvYT5cXG5cXG4gICAgICAgICAgPGEgaHJlZj1cXFwiI1xcXCIgY2xhc3M9XFxcImJzLWRvY3MtdGhlbWUtdG9nZ2xlXFxcIiByb2xlPVxcXCJidXR0b25cXFwiPlxcbiAgICAgICAgICAgIOS4u+mimOmihOiniFxcbiAgICAgICAgICA8L2E+XFxuXFxuICAgICAgICA8L25hdj5cXG4gICAgICA8L2Rpdj5cXG4gICAgPC9kaXY+XFxuICA8L2Rpdj5cXG5cIik7XG4kdGVtcGxhdGVDYWNoZS5wdXQoXCJtb2R1bGVzL2RlbW8vbGlzdC90ZW1wbGF0ZS5odG1sXCIsXCI8c2VjdGlvbiBjbGFzcz1cXFwiY29udGVudC1oZWFkZXJcXFwiPlxcbiAgPGRpdiBjbGFzcz1cXFwib3B0aW9uc1xcXCI+XFxuICAgIDxkaXYgY2xhc3M9XFxcIm9wdGlvbi1pdGVtIG9wdGlvbi10aW1lXFxcIj5cXG4gICAgICA8dWwgY2xhc3M9XFxcImNsZWFyZml4XFxcIj5cXG4gICAgICAgIDxsaT5cXG4gICAgICAgICAgPGRpdiBjbGFzcz1cXFwiaW5wdXQtZ3JvdXAgc2VhcmNoLWJveFxcXCI+XFxuICAgICAgICAgICAgPGlucHV0IG5nLW1vZGVsPVxcXCJ2bS5maWx0ZXJzLmtleXdvcmRcXFwiIHR5cGU9XFxcInRleHRcXFwiIHBsYWNlaG9sZGVyPVxcXCLor7fovpPmn6Xor6JcXFwiIGNsYXNzPVxcXCJmb3JtLWNvbnRyb2xcXFwiXFxuICAgICAgICAgICAgICAgICAgICBjb2RlPVxcXCIxM1xcXCIga2V5LWV2ZW50PVxcXCJ2bS5yZVNlYXJjaCgpO1xcXCI+XFxuICAgICAgICAgICAgPHNwYW4gY2xhc3M9XFxcImlucHV0LWdyb3VwLWJ0blxcXCI+XFxuICAgICAgICAgICAgICA8YnV0dG9uIG5nLWNsaWNrPVxcXCJ2bS5yZVNlYXJjaCgpXFxcIiBjbGFzcz1cXFwiYnRuIGJ0bi1kZWZhdWx0IHNlYXJjaFxcXCIgdHlwZT1cXFwiYnV0dG9uXFxcIj48aSBjbGFzcz1cXFwiaWNvbi1zZWFyY2hcXFwiPjwvaT48L2J1dHRvbj5cXG4gICAgICAgICAgICA8L3NwYW4+XFxuICAgICAgICAgIDwvZGl2PlxcbiAgICAgICAgPC9saT5cXG4gICAgICA8L3VsPlxcbiAgICA8L2Rpdj5cXG4gICAgPGRpdiBjbGFzcz1cXFwib3B0aW9uLWl0ZW0gbGFyZ2VcXFwiPlxcbiAgICAgIDxzcGFuIGNsYXNzPVxcXCJpdGVtLXRpdGxlIHRleHQtcmlnaHRcXFwiPuaAp+WIq++8mjwvc3Bhbj5cXG4gICAgICA8dWwgY2xhc3M9XFxcImNsZWFyZml4XFxcIj5cXG4gICAgICAgICAgICA8bGk+XFxuICAgICAgICAgICAgICAgIDxhIGhyZWY9XFxcImphdmFzY3JpcHQ6O1xcXCIgY2xhc3M9XFxcImJ0blxcXCIgbmctY2xhc3M9XFxcIntcXCdidG4tZGVmYXVsdFxcJzogdm0uZmlsdGVycy5nZW5kZXIsIFxcJ2J0bi10b2dnbGVcXCc6ICF2bS5maWx0ZXJzLmdlbmRlciwgXFwnYWN0aXZlXFwnOiAhdm0uZmlsdGVycy5nZW5kZXJ9XFxcIiBuZy1jbGljaz1cXFwidm0uc3dpdGNoKFxcJ2dlbmRlclxcJylcXFwiPlxcbiAgICAgICAgICAgICAgICAgICAg5YWo6YOoXFxuICAgICAgICAgICAgICAgIDwvYT5cXG4gICAgICAgICAgICA8L2xpPlxcbiAgICAgICAgICAgIDxsaSBuZy1yZXBlYXQ9XFxcIml0ZW0gaW4gdm0uZ2VuZGVyTGlzdFxcXCI+XFxuICAgICAgICAgICAgICAgIDxhIGhyZWY9XFxcImphdmFzY3JpcHQ6O1xcXCIgY2xhc3M9XFxcImJ0blxcXCIgbmctY2xhc3M9XFxcIntcXCdidG4tZGVmYXVsdFxcJzogdm0uZmlsdGVycy5nZW5kZXIgIT09IGl0ZW0udmFsdWUsIFxcJ2J0bi10b2dnbGVcXCc6IHZtLmZpbHRlcnMuZ2VuZGVyID09IGl0ZW0udmFsdWUsIFxcJ2FjdGl2ZVxcJzogdm0uZmlsdGVycy5nZW5kZXIgPT0gaXRlbS52YWx1ZX1cXFwiIG5nLWNsaWNrPVxcXCJ2bS5zd2l0Y2goXFwnZ2VuZGVyXFwnLCBpdGVtLnZhbHVlKVxcXCI+XFxuICAgICAgICAgICAgICAgICAgICB7eyBpdGVtLm5hbWUgfX1cXG4gICAgICAgICAgICAgICAgPC9hPlxcbiAgICAgICAgICAgIDwvbGk+XFxuICAgICAgICA8L3VsPlxcbiAgICA8L2Rpdj5cXG4gICAgXFxuICAgIDxkaXYgY2xhc3M9XFxcIm9wdGlvbi1pdGVtIGxhcmdlXFxcIj5cXG4gICAgICAgIDxzcGFuIGNsYXNzPVxcXCJpdGVtLXRpdGxlXFxcIj7ml7bpl7TpgInmi6nvvJo8L3NwYW4+XFxuICAgICAgICAgICBcXG4gICAgICAgIDxkaXYgY2xhc3M9XFxcIml0ZW0tY29udGVudFxcXCI+XFxuICAgICAgICAgICAgIDxhIGhyZWY9XFxcImphdmFzY3JpcHQ6O1xcXCIgY2xhc3M9XFxcImJ0blxcXCIgbmctY2xhc3M9XFxcIntcXCdidG4tZGVmYXVsdFxcJzogdHJ1ZSwgXFwnYnRuLXRvZ2dsZSBhY3RpdmVcXCc6ICF2bS5maWx0ZXJzLnN0YXJ0X2RhdGUgJiYgIXZtLmZpbHRlcnMuZW5kX2RhdGV9XFxcIiBuZy1jbGljaz1cXFwidm0uc2hvd0FsbFRpbWUoKVxcXCI+XFxuICAgICAgICAgICAgICAgICAgICDlhajpg6hcXG4gICAgICAgICAgICA8L2E+XFxuICAgICAgICAgICAgPG1jLWRhdGVwaWNrZXIgaWQ9XFxcInN0YXJ0RGF0ZVBpY2tlclxcXCIgc3RhcnQtZGF0ZT1cXFwidm0uc3RhcnRfZGF0ZVxcXCIgbWF4LWRhdGU9XFxcInZtLnN0YXJ0VGltZU1heExpbWl0XFxcIiB0aW1lLXNvdXJjZT1cXFwiXFxcIiBjdHJsLWFsaWFzPVxcXCJ2bVxcXCIgbWluLXZpZXc9XFxcIlxcJ21pbnV0ZXNcXCdcXFwiIGNoYW5nZS1ieT1cXFwiY2xvc2VcXFwiPjwvbWMtZGF0ZXBpY2tlcj4gLS1cXG4gICAgICAgICAgICA8bWMtZGF0ZXBpY2tlciBpZD1cXFwiZW5kRGF0ZVBpY2tlclxcXCIgc3RhcnQtZGF0ZT1cXFwidm0uZW5kX2RhdGVcXFwiIG1pbi1kYXRlPVxcXCJ2bS5lbmRUaW1lTWluTGltaXRcXFwiIG1heC1kYXRlPVxcXCJ2bS5lbmRUaW1lTWF4TGltaXRcXFwiIHRpbWUtc291cmNlPVxcXCJcXFwiIGN0cmwtYWxpYXM9XFxcInZtXFxcIiBtaW4tdmlldz1cXFwiXFwnbWludXRlc1xcJ1xcXCIgY2hhbmdlLXRpbWU9XFxcInZtLmNoYW5nZVRpbWUoXFwnZW5kXFwnKVxcXCIgY2hhbmdlLWJ5PVxcXCJjbG9zZVxcXCI+PC9tYy1kYXRlcGlja2VyPlxcbiAgICAgICAgPC9kaXY+XFxuICAgIDwvZGl2Plxcbjwvc2VjdGlvbj5cXG5cXG48c2VjdGlvbiBjbGFzcz1cXFwiY29udGVudCBib2R5LWNvbnRlbnQgYm9keS1jb250ZW50LWNvbXBhY3QgYmxvY2stdWkgYmxvY2stdWktbWVzc2FnZS1jdXN0b21cXFwiIGJsb2NrLXVpPVxcXCJtYWluXFxcIj5cXG4gIDxlbXB0eS10aXAgbmctaWY9XFxcInZtLmxpc3QubGVuZ3RoID09PSAwXFxcIj48L2VtcHR5LXRpcD5cXG5cXG4gIDxkaXYgY2xhc3M9XFxcInBhbmVsXFxcIj5cXG4gICAgPHRhYmxlIGNsYXNzPVxcXCJ0YWJsZSB0YWJsZS1zdHJpcGVkIHRleHQtY2VudGVyXFxcIj5cXG4gICAgICA8dHI+XFxuICAgICAgICA8dGggY2xhc3M9XFxcImNvbC1tLTEgdGV4dC1jZW50ZXJcXFwiPuWnk+WQjTwvdGg+XFxuICAgICAgICA8dGggY2xhc3M9XFxcImNvbC1tLTEgdGV4dC1jZW50ZXJcXFwiPuaAp+WIqzwvdGg+XFxuICAgICAgICA8dGggY2xhc3M9XFxcImNvbC1tLTEgdGV4dC1jZW50ZXJcXFwiPuW5tOm+hDwvdGg+XFxuICAgICAgICA8dGggY2xhc3M9XFxcImNvbC1tLTIgdGV4dC1jZW50ZXJcXFwiPuWkh+azqDwvdGg+XFxuICAgICAgICA8dGggY2xhc3M9XFxcImNvbC1tLTEgdGV4dC1jZW50ZXJcXFwiPuaTjeS9nDwvdGg+XFxuICAgICAgPC90cj5cXG4gICAgICA8dHIgbmctcmVwZWF0PVxcXCJpdGVtIGluIHZtLmxpc3RcXFwiPlxcbiAgICAgICAgPHRkPnt7aXRlbS5uYW1lfX08L3RkPlxcbiAgICAgICAgPHRkPnt7aXRlbS5nZW5kZXJ9fTwvdGQ+XFxuICAgICAgICA8dGQ+e3tpdGVtLmFnZX19PC90ZD5cXG4gICAgICAgIDx0ZD57e2l0ZW0ubm90ZX19PC90ZD5cXG4gICAgICAgIDx0ZD48YSBocmVmPVxcXCJqYXZhc2NyaXB0OnZvaWQoMClcXFwiIG5nLWNsaWNrPVxcXCJ2bS5lZGl0KGl0ZW0pXFxcIj7nvJbovpE8L2E+PC90ZD5cXG4gICAgICA8L3RyPlxcbiAgICA8L3RhYmxlPlxcbiAgPC9kaXY+XFxuXFxuICA8bWMtcGFnaW5hdGlvbiB0b3RhbC1pdGVtcz1cXFwidm0ucGFnaW5hdGlvbi5jb3VudFxcXCIgaXRlbXMtcGVyLXBhZ2U9XFxcInZtLnBhZ2luYXRpb24ucGFnZVNpemVcXFwiIGN1cnJlbnQtcGFnZT1cXFwidm0ucGFnaW5hdGlvbi5wYWdlXFxcIiBwYWdlLWNoYW5nZT1cXFwidm0ucGFnZUNoYW5nZWQoKVxcXCI+PC9tYy1wYWdpbmF0aW9uPlxcblxcbjwvc2VjdGlvbj5cXG5cIik7XG4kdGVtcGxhdGVDYWNoZS5wdXQoXCJtb2R1bGVzL2VudGVycHJpc2UvZGV0YWlsL2luZGV4Lmh0bWxcIixcIjxzZWN0aW9uIGNsYXNzPVxcXCJjb250ZW50LWhlYWRlclxcXCI+XFxuICA8YSBocmVmPVxcXCJqYXZhc2NyaXB0OnZvaWQoMClcXFwiIGNsYXNzPVxcXCJidG4gYnRuLWRlZmF1bHQgcHVsbC1yaWdodFxcXCIgbmctY2xpY2s9XFxcIiRyb290LmJhY2soKTtcXFwiPui/lOWbnjwvYT5cXG4gIDxoNCBjbGFzcz1cXFwidGl0bGVcXFwiPnt7dm0uaW5mby5uYW1lfX08L2g0Plxcbjwvc2VjdGlvbj5cXG5cXG48c2VjdGlvbiBjbGFzcz1cXFwiY29udGVudCBib2R5LWNvbnRlbnRcXFwiIGJsb2NrLXVpPVxcXCJtYWluXFxcIj5cXG5cXG4gIDxkaXYgY2xhc3M9XFxcInBhZ2UtaGVhZGVyXFxcIj5cXG4gICAgICA8aDQ+5bel5ZWG5L+h5oGvPC9oND5cXG4gIDwvZGl2PlxcblxcbiAgPGRpdiBjbGFzcz1cXFwiaXRlbS1jb250ZW50XFxcIj5cXG4gICAgPGRpdiBjbGFzcz1cXFwicGFuZWxcXFwiPlxcbiAgICAgIDx0YWJsZSBjbGFzcz1cXFwidGFibGUgdGFibGUtc3RyaXBlZFxcXCI+XFxuICAgICAgICA8dHI+XFxuICAgICAgICAgIDx0aCBjbGFzcz1cXFwiY29sLXNtLTFcXFwiPuS8geS4muWQjeensO+8mjwvdGg+XFxuICAgICAgICAgIDx0ZCBjbGFzcz1cXFwiY29sLXNtLTNcXFwiPnt7dm0uaW5mby5uYW1lfX08L3RkPlxcbiAgICAgICAgICA8dGggY2xhc3M9XFxcImNvbC1zbS0xXFxcIj7npL7kvJrkv6HnlKjku6PnoIHvvJo8L3RoPlxcbiAgICAgICAgICA8dGQgY2xhc3M9XFxcImNvbC1zbS0zXFxcIj57e3ZtLmluZm8uY3JlZGl0X25vfX08L3RkPlxcbiAgICAgICAgPC90cj5cXG4gICAgICAgIDx0cj5cXG4gICAgICAgICAgPHRoIGNsYXNzPVxcXCJjb2wtc20tMVxcXCI+5bel5ZWG5rOo5YaM5Y+377yaPC90aD5cXG4gICAgICAgICAgPHRkIGNsYXNzPVxcXCJjb2wtc20tM1xcXCI+e3t2bS5pbmZvLnJlZ19ub319PC90ZD5cXG4gICAgICAgICAgPHRoIGNsYXNzPVxcXCJjb2wtc20tMVxcXCI+57uE57uH5py65p6E5Luj56CBPC90aD5cXG4gICAgICAgICAgPHRkIGNsYXNzPVxcXCJjb2wtc20tM1xcXCI+e3t2bS5pbmZvLm9yZ19ub319PC90ZD5cXG4gICAgICAgIDwvdHI+XFxuICAgICAgICA8dHI+XFxuICAgICAgICAgIDx0aCBjbGFzcz1cXFwiY29sLXNtLTFcXFwiPuazleWumuS7o+ihqOS6uu+8mjwvdGg+XFxuICAgICAgICAgIDx0ZCBjbGFzcz1cXFwiY29sLXNtLTNcXFwiPnt7dm0uaW5mby5vcGVyX25hbWV9fTwvdGQ+XFxuICAgICAgICAgIDx0aCBjbGFzcz1cXFwiY29sLXNtLTFcXFwiPuaIkOeri+aXtumXtO+8mjwvdGg+XFxuICAgICAgICAgIDx0ZCBjbGFzcz1cXFwiY29sLXNtLTNcXFwiPnt7dm0uaW5mby5zdGFydF9kYXRlfX08L3RkPlxcbiAgICAgICAgPC90cj5cXG4gICAgICAgIDx0cj5cXG4gICAgICAgICAgPHRoIGNsYXNzPVxcXCJjb2wtc20tMVxcXCI+5LyB5Lia57G75Z6L77yaPC90aD5cXG4gICAgICAgICAgPHRkIGNsYXNzPVxcXCJjb2wtc20tM1xcXCI+e3t2bS5pbmZvLmVjb25fa2luZH19PC90ZD5cXG4gICAgICAgICAgPHRoIGNsYXNzPVxcXCJjb2wtc20tMVxcXCI+57uP6JCl54q25oCB77yaPC90aD5cXG4gICAgICAgICAgPHRkIGNsYXNzPVxcXCJjb2wtc20tM1xcXCI+e3t2bS5pbmZvLnN0YXR1c319PC90ZD5cXG4gICAgICAgIDwvdHI+XFxuICAgICAgICA8dHI+XFxuICAgICAgICAgIDx0aD7ms6jlhozotYTmnKzvvJo8L3RoPlxcbiAgICAgICAgICA8dGQgY29sc3Bhbj1cXFwiM1xcXCI+e3t2bS5pbmZvLnJlZ2lzdF9jYXBpfX08L3RkPlxcbiAgICAgICAgPC90cj5cXG4gICAgICAgIDx0cj5cXG4gICAgICAgICAgPHRoPuazqOWGjOWcsOWdgO+8mjwvdGg+XFxuICAgICAgICAgIDx0ZCBjb2xzcGFuPVxcXCIzXFxcIj57e3ZtLmluZm8uYWRkcmVzc319PC90ZD5cXG4gICAgICAgIDwvdHI+XFxuICAgICAgICA8dHI+XFxuICAgICAgICAgIDx0aD7okKXkuJrmnJ/pmZDvvJo8L3RoPlxcbiAgICAgICAgICA8dGQgY29sc3Bhbj1cXFwiM1xcXCI+6Ieqe3t2bS5pbmZvLnRlcm1fc3RhcnR9feiHs3t7dm0uaW5mby50ZXJtX2VuZH195q2iPC90ZD5cXG4gICAgICAgIDwvdHI+XFxuICAgICAgICA8dHI+XFxuICAgICAgICAgIDx0aD7okKXkuJrojIPlm7TvvJo8L3RoPlxcbiAgICAgICAgICA8dGQgY29sc3Bhbj1cXFwiM1xcXCI+e3t2bS5pbmZvLnNjb3BlfX08L3RkPlxcbiAgICAgICAgPC90cj5cXG4gICAgICAgIDx0cj5cXG4gICAgICAgICAgPHRoIGNsYXNzPVxcXCJjb2wtc20tMVxcXCI+55m76K6w5py65YWz77yaPC90aD5cXG4gICAgICAgICAgPHRkIGNsYXNzPVxcXCJjb2wtc20tM1xcXCI+e3t2bS5pbmZvLmJlbG9uZ19vcmd9fTwvdGQ+XFxuICAgICAgICAgIDx0aCBjbGFzcz1cXFwiY29sLXNtLTFcXFwiPuWPkeeFp+aXpeacn++8mjwvdGg+XFxuICAgICAgICAgIDx0ZCBjbGFzcz1cXFwiY29sLXNtLTNcXFwiPnt7dm0uaW5mby5jaGVja19kYXRlfX08L3RkPlxcbiAgICAgICAgPC90cj5cXG4gICAgICA8L3RhYmxlPlxcbiAgICA8L2Rpdj5cXG4gIDwvZGl2Plxcblxcbjwvc2VjdGlvbj5cXG5cXG48c2VjdGlvbiBjbGFzcz1cXFwiY29udGVudCBib2R5LWNvbnRlbnRcXFwiIGJsb2NrLXVpPVxcXCJtYWluXFxcIj5cXG5cXG4gIDxkaXYgY2xhc3M9XFxcInBhZ2UtaGVhZGVyXFxcIj5cXG4gICAgICA8aDQ+566h55CG5Zui6ZifPC9oND5cXG4gIDwvZGl2PlxcblxcbiAgPGRpdiBjbGFzcz1cXFwiaXRlbS1jb250ZW50XFxcIj5cXG4gICAgPGRpdiBjbGFzcz1cXFwicGFuZWxcXFwiPlxcbiAgICAgIDx0YWJsZSBjbGFzcz1cXFwidGFibGUgdGFibGUtc3RyaXBlZCB0ZXh0LWNlbnRlclxcXCI+XFxuICAgICAgICA8dHI+XFxuICAgICAgICAgIDx0aCBjbGFzcz1cXFwiY29sLXNtLTEgdGV4dC1jZW50ZXJcXFwiPuW6j+WPtzwvdGg+XFxuICAgICAgICAgIDx0aCBjbGFzcz1cXFwiY29sLXNtLTQgdGV4dC1jZW50ZXJcXFwiPuWnk+WQjTwvdGg+XFxuICAgICAgICAgIDx0aCBjbGFzcz1cXFwiY29sLXNtLTcgdGV4dC1jZW50ZXJcXFwiPuiBjOS9jTwvdGg+XFxuICAgICAgICA8L3RyPlxcbiAgICAgICAgPHRyIG5nLXJlcGVhdD1cXFwiaXRlbSBpbiB2bS5pbmZvLmVtcGxveWVlc1xcXCI+XFxuICAgICAgICAgIDx0ZD57eyRpbmRleCsxfX08L3RkPlxcbiAgICAgICAgICA8dGQ+e3tpdGVtLm5hbWV9fTwvdGQ+XFxuICAgICAgICAgIDx0ZD57e2l0ZW0uam9iX3RpdGxlfX08L3RkPlxcbiAgICAgICAgPC90cj5cXG4gICAgICA8L3RhYmxlPlxcbiAgICA8L2Rpdj5cXG4gIDwvZGl2Plxcblxcbjwvc2VjdGlvbj5cXG5cXG48c2VjdGlvbiBjbGFzcz1cXFwiY29udGVudCBib2R5LWNvbnRlbnRcXFwiIGJsb2NrLXVpPVxcXCJtYWluXFxcIj5cXG4gIDxkaXYgY2xhc3M9XFxcInBhZ2UtaGVhZGVyXFxcIj5cXG4gICAgICA8aDQ+5rOo5YaM5L+h5oGv5Y+Y5pu0PC9oND5cXG4gIDwvZGl2PlxcblxcbiAgPGRpdiBjbGFzcz1cXFwiaXRlbS1jb250ZW50XFxcIj5cXG4gICAgPGRpdiBjbGFzcz1cXFwicGFuZWxcXFwiPlxcbiAgICAgIDx0YWJsZSBjbGFzcz1cXFwidGFibGUgdGFibGUtc3RyaXBlZFxcXCI+XFxuICAgICAgICA8dHI+XFxuICAgICAgICAgIDx0aCBjbGFzcz1cXFwiY29sLXNtLTFcXFwiPuWPmOabtOaXpeacnzwvdGg+XFxuICAgICAgICAgIDx0aCBjbGFzcz1cXFwiY29sLXNtLTFcXFwiPuWPmOabtOmhuTwvdGg+XFxuICAgICAgICAgIDx0aCBjbGFzcz1cXFwiY29sLXNtLTRcXFwiPuWPmOabtOWJjTwvdGg+XFxuICAgICAgICAgIDx0aCBjbGFzcz1cXFwiY29sLXNtLTRcXFwiPuWPmOabtOWQjjwvdGg+XFxuICAgICAgICA8L3RyPlxcbiAgICAgICAgPHRyIG5nLXJlcGVhdD1cXFwiaXRlbSBpbiB2bS5pbmZvLmNoYW5nZXJlY29yZHNcXFwiPlxcbiAgICAgICAgICA8dGQ+e3tpdGVtLmNoYW5nZV9kYXRlfX08L3RkPlxcbiAgICAgICAgICA8dGQ+e3tpdGVtLmNoYW5nZV9pdGVtfX08L3RkPlxcbiAgICAgICAgICA8dGQ+e3tpdGVtLmJlZm9yZV9jb250ZW50fX08L3RkPlxcbiAgICAgICAgICA8dGQ+e3tpdGVtLmFmdGVyX2NvbnRlbnR9fTwvdGQ+XFxuICAgICAgICA8L3RyPlxcbiAgICAgIDwvdGFibGU+XFxuICAgIDwvZGl2PlxcbiAgPC9kaXY+XFxuXFxuPC9zZWN0aW9uPlxcblxcbjxzZWN0aW9uIGNsYXNzPVxcXCJjb250ZW50IGJvZHktY29udGVudFxcXCIgYmxvY2stdWk9XFxcIm1haW5cXFwiPlxcbiAgPGRpdiBjbGFzcz1cXFwicGFnZS1oZWFkZXJcXFwiPlxcbiAgICAgIDxoND7ogqHkuJzlj4rlh7rotYTkv6Hmga88L2g0PlxcbiAgPC9kaXY+XFxuXFxuICA8ZGl2IGNsYXNzPVxcXCJpdGVtLWNvbnRlbnRcXFwiPlxcbiAgICA8ZGl2IGNsYXNzPVxcXCJwYW5lbFxcXCI+XFxuICAgICAgPHRhYmxlIGNsYXNzPVxcXCJ0YWJsZSB0YWJsZS1zdHJpcGVkIHRleHQtY2VudGVyXFxcIj5cXG4gICAgICAgIDx0cj5cXG4gICAgICAgICAgPHRoIGNsYXNzPVxcXCJjb2wtc20tMSB0ZXh0LWNlbnRlclxcXCI+5bqP5Y+3PC90aD5cXG4gICAgICAgICAgPHRoIGNsYXNzPVxcXCJjb2wtc20tNCB0ZXh0LWNlbnRlclxcXCI+6IKh5LicPC90aD5cXG4gICAgICAgICAgPHRoIGNsYXNzPVxcXCJjb2wtc20tNCB0ZXh0LWNlbnRlclxcXCI+PC90aD5cXG4gICAgICAgIDwvdHI+XFxuICAgICAgICA8dHIgbmctcmVwZWF0PVxcXCJpdGVtIGluIHZtLmluZm8ucGFydG5lcnNcXFwiPlxcbiAgICAgICAgICA8dGQ+e3skaW5kZXgrMX19PC90ZD5cXG4gICAgICAgICAgPHRkPnt7aXRlbS5uYW1lfX08L3RkPlxcbiAgICAgICAgICA8dGQ+e3tpdGVtLnN0b2NrX3R5cGV9fTwvdGQ+XFxuICAgICAgICA8L3RyPlxcbiAgICAgIDwvdGFibGU+XFxuICAgIDwvZGl2PlxcbiAgPC9kaXY+XFxuXFxuPC9zZWN0aW9uPlxcblwiKTtcbiR0ZW1wbGF0ZUNhY2hlLnB1dChcIm1vZHVsZXMvZW50ZXJwcmlzZS9saXN0L2luZGV4Lmh0bWxcIixcIjxzZWN0aW9uIGNsYXNzPVxcXCJjb250ZW50LWhlYWRlclxcXCI+XFxuICA8YnV0dG9uIHR5cGU9XFxcImJ1dHRvblxcXCIgY2xhc3M9XFxcImJ0biBidG4tc3VjY2VzcyBwdWxsLXJpZ2h0IG0tbC1zbVxcXCIgc3R5bGU9XFxcInBvc2l0aW9uOiByZWxhdGl2ZTsgei1pbmRleDogMjtcXFwiXFxuICAgICAgICAgIG5nLWNsaWNrPVxcXCJ2bS5hZGQoKVxcXCI+PGkgY2xhc3M9XFxcImljb24tUGx1c1xcXCI+PC9pPiDmt7vliqBcXG4gIDwvYnV0dG9uPlxcbiAgPGRpdiBjbGFzcz1cXFwib3B0aW9uc1xcXCI+XFxuICAgIDxkaXYgY2xhc3M9XFxcIm9wdGlvbi1pdGVtIG9wdGlvbi10aW1lXFxcIj5cXG4gICAgICA8dWwgY2xhc3M9XFxcImNsZWFyZml4XFxcIj5cXG4gICAgICAgIDxsaT5cXG4gICAgICAgICAgPGRpdiBjbGFzcz1cXFwiaW5wdXQtZ3JvdXAgc2VhcmNoLWJveFxcXCI+XFxuICAgICAgICAgICAgPGlucHV0IG5nLW1vZGVsPVxcXCJ2bS5maWx0ZXJzLm5hbWVcXFwiIHR5cGU9XFxcInRleHRcXFwiIHBsYWNlaG9sZGVyPVxcXCLor7fovpPmn6Xor6JcXFwiIGNsYXNzPVxcXCJmb3JtLWNvbnRyb2xcXFwiXFxuICAgICAgICAgICAgICAgICAgICBjb2RlPVxcXCIxM1xcXCIga2V5LWV2ZW50PVxcXCJ2bS5yZVNlYXJjaCgpO1xcXCI+XFxuICAgICAgICAgICAgPHNwYW4gY2xhc3M9XFxcImlucHV0LWdyb3VwLWJ0blxcXCI+XFxuICAgICAgICAgICAgICA8YnV0dG9uIG5nLWNsaWNrPVxcXCJ2bS5yZVNlYXJjaCgpXFxcIiBjbGFzcz1cXFwiYnRuIGJ0bi1kZWZhdWx0IHNlYXJjaFxcXCIgdHlwZT1cXFwiYnV0dG9uXFxcIj48aSBjbGFzcz1cXFwiaWNvbi1zZWFyY2hcXFwiPjwvaT48L2J1dHRvbj5cXG4gICAgICAgICAgICA8L3NwYW4+XFxuICAgICAgICAgIDwvZGl2PlxcbiAgICAgICAgPC9saT5cXG4gICAgICA8L3VsPlxcbiAgICA8L2Rpdj5cXG4gICAgPGRpdiBjbGFzcz1cXFwib3B0aW9uLWl0ZW0gbGFyZ2VcXFwiIG5nLWlmPVxcXCJ2bS5hY2Nlc3NbXFwnZW50ZXJwcmlzZS5maWx0ZXIucm9sZV9hX3N0YXRlXFwnXVxcXCI+XFxuICAgICAgPHNwYW4gY2xhc3M9XFxcIml0ZW0tdGl0bGUgdGV4dC1yaWdodFxcXCI+5Li755CG54q25oCB77yaPC9zcGFuPlxcbiAgICAgIDx1bCBjbGFzcz1cXFwiY2xlYXJmaXhcXFwiPlxcbiAgICAgICAgICA8IS0tIDxsaT5cXG4gICAgICAgICAgICAgIDxhIGhyZWY9XFxcImphdmFzY3JpcHQ6O1xcXCIgY2xhc3M9XFxcImJ0blxcXCIgbmctY2xhc3M9XFxcIntcXCdidG4tZGVmYXVsdFxcJzogdm0uZmlsdGVycy5nZW5kZXIsIFxcJ2J0bi10b2dnbGVcXCc6ICF2bS5maWx0ZXJzLmdlbmRlciwgXFwnYWN0aXZlXFwnOiAhdm0uZmlsdGVycy5nZW5kZXJ9XFxcIiBuZy1jbGljaz1cXFwidm0uc3dpdGNoKFxcJ2dlbmRlclxcJylcXFwiPlxcbiAgICAgICAgICAgICAgICAgIOWFqOmDqFxcbiAgICAgICAgICAgICAgPC9hPlxcbiAgICAgICAgICA8L2xpPiAtLT5cXG4gICAgICAgICAgPGxpIG5nLXJlcGVhdD1cXFwiaXRlbSBpbiB2bS5yb2xlTWFpblN0YXR1c1xcXCI+XFxuICAgICAgICAgICAgICA8YSBocmVmPVxcXCJqYXZhc2NyaXB0OjtcXFwiIGNsYXNzPVxcXCJidG5cXFwiIG5nLWNsYXNzPVxcXCJ7XFwnYnRuLWRlZmF1bHRcXCc6IHZtLmZpbHRlcnMucm9sZV9hX2Rpc2FibGUgIT0gaXRlbS52YWx1ZSwgXFwnYnRuLXRvZ2dsZVxcJzogdm0uZmlsdGVycy5yb2xlX2FfZGlzYWJsZSA9PSBpdGVtLnZhbHVlLCBcXCdhY3RpdmVcXCc6IHZtLmZpbHRlcnMucm9sZV9hX2Rpc2FibGUgPT0gaXRlbS52YWx1ZX1cXFwiIG5nLWNsaWNrPVxcXCJ2bS5zd2l0Y2goXFwncm9sZV9hX2Rpc2FibGVcXCcsIGl0ZW0udmFsdWUpXFxcIj5cXG4gICAgICAgICAgICAgICAgICB7eyBpdGVtLmxhYmVsIH19XFxuICAgICAgICAgICAgICA8L2E+XFxuICAgICAgICAgIDwvbGk+XFxuICAgICAgPC91bD5cXG4gICAgPC9kaXY+XFxuICAgIDxkaXYgY2xhc3M9XFxcIm9wdGlvbi1pdGVtIGxhcmdlXFxcIj5cXG4gICAgICA8c3BhbiBjbGFzcz1cXFwiaXRlbS10aXRsZSB0ZXh0LXJpZ2h0XFxcIj7kvIHkuJrnirbmgIHvvJo8L3NwYW4+XFxuICAgICAgPHVsIGNsYXNzPVxcXCJjbGVhcmZpeFxcXCI+XFxuICAgICAgICAgIDxsaT5cXG4gICAgICAgICAgICAgIDxhIGhyZWY9XFxcImphdmFzY3JpcHQ6O1xcXCIgY2xhc3M9XFxcImJ0blxcXCIgbmctY2xhc3M9XFxcIntcXCdidG4tZGVmYXVsdFxcJzogdm0uZmlsdGVycy5zdGF0ZSAhPT0gdW5kZWZpbmVkLCBcXCdidG4tdG9nZ2xlXFwnOiB2bS5maWx0ZXJzLnN0YXRlID09PSB1bmRlZmluZWQsIFxcJ2FjdGl2ZVxcJzogdm0uZmlsdGVycy5zdGF0ZSA9PT0gdW5kZWZpbmVkfVxcXCIgbmctY2xpY2s9XFxcInZtLnN3aXRjaChcXCdzdGF0ZVxcJylcXFwiPlxcbiAgICAgICAgICAgICAgICAgIOWFqOmDqFxcbiAgICAgICAgICAgICAgPC9hPlxcbiAgICAgICAgICA8L2xpPlxcbiAgICAgICAgICA8bGkgbmctcmVwZWF0PVxcXCJpdGVtIGluIHZtLmVudGVycHJpc2VTdGF0ZUxpc3RcXFwiPlxcbiAgICAgICAgICAgICAgPGEgaHJlZj1cXFwiamF2YXNjcmlwdDo7XFxcIiBjbGFzcz1cXFwiYnRuXFxcIiBuZy1jbGFzcz1cXFwie1xcJ2J0bi1kZWZhdWx0XFwnOiB2bS5maWx0ZXJzLnN0YXRlICE9IGl0ZW0udmFsdWUsIFxcJ2J0bi10b2dnbGVcXCc6IHZtLmZpbHRlcnMuc3RhdGUgPT0gaXRlbS52YWx1ZSwgXFwnYWN0aXZlXFwnOiB2bS5maWx0ZXJzLnN0YXRlID09IGl0ZW0udmFsdWV9XFxcIiBuZy1jbGljaz1cXFwidm0uc3dpdGNoKFxcJ3N0YXRlXFwnLCBpdGVtLnZhbHVlKVxcXCI+XFxuICAgICAgICAgICAgICAgICAge3sgaXRlbS5sYWJlbCB9fVxcbiAgICAgICAgICAgICAgPC9hPlxcbiAgICAgICAgICA8L2xpPlxcbiAgICAgIDwvdWw+XFxuICAgIDwvZGl2Plxcbjwvc2VjdGlvbj5cXG5cXG48c2VjdGlvbiBjbGFzcz1cXFwiY29udGVudCBib2R5LWNvbnRlbnQgYm9keS1jb250ZW50LWNvbXBhY3QgYmxvY2stdWkgYmxvY2stdWktbWVzc2FnZS1jdXN0b21cXFwiIGJsb2NrLXVpPVxcXCJtYWluXFxcIj5cXG4gIDxlbXB0eS10aXAgbmctaWY9XFxcInZtLmxpc3QubGVuZ3RoID09PSAwXFxcIj48L2VtcHR5LXRpcD5cXG5cXG4gIDxkaXYgY2xhc3M9XFxcInBhbmVsXFxcIiBuZy1pZj1cXFwidm0ubGlzdC5sZW5ndGggPiAwXFxcIj5cXG4gICAgPHRhYmxlIGNsYXNzPVxcXCJ0YWJsZSB0YWJsZS1zdHJpcGVkIHRleHQtY2VudGVyXFxcIj5cXG4gICAgICA8dHI+XFxuICAgICAgICA8dGggY2xhc3M9XFxcImNvbC1tLTEgdGV4dC1jZW50ZXJcXFwiPuS8geS4muWQjeensDwvdGg+XFxuICAgICAgICA8dGggY2xhc3M9XFxcImNvbC1tLTEgdGV4dC1jZW50ZXJcXFwiPuS8geS4muWcsOWdgDwvdGg+XFxuICAgICAgICA8dGggY2xhc3M9XFxcImNvbC1tLTEgdGV4dC1jZW50ZXJcXFwiPuaJgOWxnuacuuaehDwvdGg+XFxuICAgICAgICA8dGggY2xhc3M9XFxcImNvbC1tLTEgdGV4dC1jZW50ZXJcXFwiIG5nLWlmPVxcXCJ2bS5hY2Nlc3NbXFwnZW50ZXJwcmlzZS5saXN0LnJvbGVfc2hvd1xcJ11cXFwiPuS4u+eQhjwvdGg+XFxuICAgICAgICA8dGggY2xhc3M9XFxcImNvbC1tLTIgdGV4dC1jZW50ZXJcXFwiIG5nLWlmPVxcXCJ2bS5hY2Nlc3NbXFwnZW50ZXJwcmlzZS5saXN0LnJvbGVfc2hvd1xcJ11cXFwiPuWNj+eQhjwvdGg+XFxuICAgICAgICA8dGggY2xhc3M9XFxcImNvbC1tLTEgdGV4dC1jZW50ZXJcXFwiPuS8geS4mueKtuaAgTwvdGg+XFxuICAgICAgICA8dGggY2xhc3M9XFxcImNvbC1tLTEgdGV4dC1jZW50ZXJcXFwiPuWIhumFjeeKtuaAgTwvdGg+XFxuICAgICAgICA8dGggY2xhc3M9XFxcImNvbC1tLTEgdGV4dC1jZW50ZXJcXFwiPuaTjeS9nDwvdGg+XFxuICAgICAgPC90cj5cXG4gICAgICA8dHIgbmctcmVwZWF0PVxcXCJpdGVtIGluIHZtLmxpc3RcXFwiPlxcbiAgICAgICAgPHRkPnt7aXRlbS5uYW1lfX08L3RkPlxcbiAgICAgICAgPHRkPnt7aXRlbS5hZGRyZXNzfX08L3RkPlxcbiAgICAgICAgPHRkPnt7aXRlbS5iYW5rLm5hbWV9fTwvdGQ+XFxuICAgICAgICA8dGQgbmctaWY9XFxcInZtLmFjY2Vzc1tcXCdlbnRlcnByaXNlLmxpc3Qucm9sZV9zaG93XFwnXVxcXCI+e3tpdGVtLnJvbGVfYS50cnVlX25hbWV9fTwvdGQ+XFxuICAgICAgICA8dGQgbmctaWY9XFxcInZtLmFjY2Vzc1tcXCdlbnRlcnByaXNlLmxpc3Qucm9sZV9zaG93XFwnXVxcXCI+e3tpdGVtLnJvbGVfYi50cnVlX25hbWV9fTwvdGQ+XFxuICAgICAgICA8dGQ+e3tpdGVtLnN0YXRlIHwgZmlsdGVyVmFsdWU6IHZtLmVudGVycHJpc2VTdGF0ZUxpc3R9fTwvdGQ+XFxuICAgICAgICA8dGQ+e3tpdGVtLmRpc3RyaWJ1dGVfc3RhdGUgfCBmaWx0ZXJEaXN0cmlidXRlU3RhdGV9fTwvdGQ+XFxuICAgICAgICA8dGQ+XFxuICAgICAgICA8IS0tIG5nLWlmPVxcXCJ2bS5wcm9maWxlLnJvbGUgPT0gXFwnUk9MRV9CUkFOQ0hfUFJFU0lERU5UXFwnXFxcIiAtLT5cXG4gICAgICAgICA8IS0tIG5nLWlmPVxcXCJ2bS5wcm9maWxlLnJvbGUgPT0gXFwnUk9MRV9FTkRfUFJFU0lERU5UXFwnXFxcIiAtLT5cXG4gICAgICAgICAgPGEgaHJlZj1cXFwiamF2YXNjcmlwdDp2b2lkKDApXFxcIiBuZy1jbGljaz1cXFwidm0uYXNzaWduQnJhbmNoKGl0ZW0pXFxcIiBuZy1pZj1cXFwidm0uYWNjZXNzW1xcJ2VudGVycHJpc2UuYXNzaWduLmJyYW5jaFxcJ11cXFwiPuWIhumFjeacuuaehDwvYT5cXG4gICAgICAgICAgPGEgaHJlZj1cXFwiamF2YXNjcmlwdDp2b2lkKDApXFxcIiBuZy1jbGljaz1cXFwidm0uYXNzaWduKGl0ZW0pXFxcIiBuZy1pZj1cXFwidm0uYWNjZXNzW1xcJ2VudGVycHJpc2UuYXNzaWduLnJvbGVcXCddXFxcIj7liIbphY3lrqLmiLfnu4/nkIY8L2E+XFxuICAgICAgICAgIDxhIHVpLXNyZWY9XFxcImVudGVycHJpc2UuZGV0YWlsKHtpZDogaXRlbS5pZH0pXFxcIj7mn6XnnIvor6bmg4U8L2E+XFxuICAgICAgICAgIDwhLS0gPGEgaHJlZj1cXFwiamF2YXNjcmlwdDp2b2lkKDApXFxcIiBuZy1jbGljaz1cXFwidm0uZGVsKGl0ZW0pXFxcIj7liKDpmaQ8L2E+XFxuICAgICAgICAgIDxhIGhyZWY9XFxcImphdmFzY3JpcHQ6dm9pZCgwKVxcXCIgbmctY2xpY2s9XFxcInZtLmZyb3N0KGl0ZW0pXFxcIj7lhrvnu5M8L2E+IC0tPlxcbiAgICAgICAgPC90ZD5cXG4gICAgICA8L3RyPlxcbiAgICA8L3RhYmxlPlxcbiAgPC9kaXY+XFxuXFxuICA8bWMtcGFnaW5hdGlvbiB0b3RhbC1pdGVtcz1cXFwidm0ucGFnaW5hdGlvbi5jb3VudFxcXCIgaXRlbXMtcGVyLXBhZ2U9XFxcInZtLnBhZ2luYXRpb24ucGFnZVNpemVcXFwiIGN1cnJlbnQtcGFnZT1cXFwidm0ucGFnaW5hdGlvbi5wYWdlXFxcIiBwYWdlLWNoYW5nZT1cXFwidm0ucGFnZUNoYW5nZWQoKVxcXCI+PC9tYy1wYWdpbmF0aW9uPlxcblxcbjwvc2VjdGlvbj5cXG5cIik7XG4kdGVtcGxhdGVDYWNoZS5wdXQoXCJtb2R1bGVzL2ZpbHRlci9ibGFja2xpc3QvdGVtcGxhdGUuaHRtbFwiLFwiPHNlY3Rpb24gY2xhc3M9XFxcImNvbnRlbnQtaGVhZGVyXFxcIj5cXG4gIDxidXR0b24gdHlwZT1cXFwiYnV0dG9uXFxcIiBjbGFzcz1cXFwiYnRuIGJ0bi1zdWNjZXNzIHB1bGwtcmlnaHQgbS1sLXNtXFxcIiBzdHlsZT1cXFwicG9zaXRpb246IHJlbGF0aXZlOyB6LWluZGV4OiAyO1xcXCJcXG4gICAgICAgICAgbmctY2xpY2s9XFxcInZtLmFkZCgpXFxcIj48aSBjbGFzcz1cXFwiaWNvbi1QbHVzXFxcIj48L2k+IOa3u+WKoFxcbiAgPC9idXR0b24+XFxuXFxuICA8ZGl2IGNsYXNzPVxcXCJvcHRpb25zXFxcIj5cXG4gICAgPGRpdiBjbGFzcz1cXFwib3B0aW9uLWl0ZW0gb3B0aW9uLXRpbWVcXFwiPlxcbiAgICAgIDx1bCBjbGFzcz1cXFwiY2xlYXJmaXhcXFwiPlxcbiAgICAgICAgPGxpPlxcbiAgICAgICAgICA8ZGl2IGNsYXNzPVxcXCJpbnB1dC1ncm91cCBzZWFyY2gtYm94XFxcIj5cXG4gICAgICAgICAgICA8aW5wdXQgbmctbW9kZWw9XFxcInZtLmZpbHRlcnMubmFtZVxcXCIgdHlwZT1cXFwidGV4dFxcXCIgcGxhY2Vob2xkZXI9XFxcIuivt+i+k+WFrOWPuOWQjeafpeivolxcXCIgY2xhc3M9XFxcImZvcm0tY29udHJvbFxcXCJcXG4gICAgICAgICAgICAgICAgICAgIGNvZGU9XFxcIjEzXFxcIiBrZXktZXZlbnQ9XFxcInZtLnJlU2VhcmNoKCk7XFxcIj5cXG4gICAgICAgICAgICA8c3BhbiBjbGFzcz1cXFwiaW5wdXQtZ3JvdXAtYnRuXFxcIj5cXG4gICAgICAgICAgICAgIDxidXR0b24gbmctY2xpY2s9XFxcInZtLnJlU2VhcmNoKClcXFwiIGNsYXNzPVxcXCJidG4gYnRuLWRlZmF1bHQgc2VhcmNoXFxcIiB0eXBlPVxcXCJidXR0b25cXFwiPjxpIGNsYXNzPVxcXCJpY29uLXNlYXJjaFxcXCI+PC9pPjwvYnV0dG9uPlxcbiAgICAgICAgICAgIDwvc3Bhbj5cXG4gICAgICAgICAgPC9kaXY+XFxuICAgICAgICA8L2xpPlxcbiAgICAgIDwvdWw+XFxuICAgIDwvZGl2Plxcbjwvc2VjdGlvbj5cXG5cXG48c2VjdGlvbiBjbGFzcz1cXFwiY29udGVudCBib2R5LWNvbnRlbnQgYm9keS1jb250ZW50LWNvbXBhY3QgYmxvY2stdWkgYmxvY2stdWktbWVzc2FnZS1jdXN0b21cXFwiIGJsb2NrLXVpPVxcXCJtYWluXFxcIj5cXG4gIDxlbXB0eS10aXAgbmctaWY9XFxcInZtLmxpc3QubGVuZ3RoID09PSAwXFxcIj48L2VtcHR5LXRpcD5cXG5cXG4gIDxkaXYgY2xhc3M9XFxcInBhbmVsXFxcIiBuZy1pZj1cXFwidm0ubGlzdC5sZW5ndGggPiAwXFxcIj5cXG4gICAgPHRhYmxlIGNsYXNzPVxcXCJ0YWJsZSB0YWJsZS1zdHJpcGVkIHRleHQtY2VudGVyXFxcIj5cXG4gICAgICA8dHI+XFxuICAgICAgICA8dGggY2xhc3M9XFxcImNvbC1tLTMgdGV4dC1jZW50ZXJcXFwiPuWFrOWPuOWQjeensDwvdGg+XFxuICAgICAgICA8dGggY2xhc3M9XFxcImNvbC1tLTMgdGV4dC1jZW50ZXJcXFwiPuS/oeaBr+adpea6kDwvdGg+XFxuICAgICAgICA8dGggY2xhc3M9XFxcImNvbC1tLTQgdGV4dC1jZW50ZXJcXFwiPuWkh+azqDwvdGg+XFxuICAgICAgICA8dGggY2xhc3M9XFxcImNvbC1tLTIgdGV4dC1jZW50ZXJcXFwiPuaTjeS9nDwvdGg+XFxuICAgICAgPC90cj5cXG4gICAgICA8dHIgbmctcmVwZWF0PVxcXCJpdGVtIGluIHZtLmxpc3RcXFwiPlxcbiAgICAgICAgPHRkPnt7aXRlbS5uYW1lfX08L3RkPlxcbiAgICAgICAgPHRkPnt7aXRlbS5zb3VyY2V9fTwvdGQ+XFxuICAgICAgICA8dGQ+e3tpdGVtLm5vdGV9fTwvdGQ+XFxuICAgICAgICA8IS0tIDx0ZD5cXG4gICAgICAgICAgPHNwYW4gY2xhc3M9XFxcInRleHQtc3VjY2Vzc1xcXCIgbmctaWY9XFxcIml0ZW0uc3RhdGU9PTFcXFwiPuato+W4uDwvc3Bhbj5cXG4gICAgICAgICAgPHNwYW4gY2xhc3M9XFxcInRleHQtZGFuZ2VyXFxcIiBuZy1pZj1cXFwiaXRlbS5zdGF0ZT09M1xcXCI+5bey5Yig6ZmkPC9zcGFuPlxcbiAgICAgICAgPC90ZD4gLS0+XFxuICAgICAgICA8dGQ+XFxuICAgICAgICAgIDxhIGhyZWY9XFxcImphdmFzY3JpcHQ6dm9pZCgwKVxcXCIgY2xhc3M9XFxcInRleHQtZGFuZ2VyXFxcIiBuZy1jbGljaz1cXFwidm0uZGVsKGl0ZW0pXFxcIj7liKDpmaQ8L2E+XFxuICAgICAgICA8L3RkPlxcbiAgICAgIDwvdHI+XFxuICAgIDwvdGFibGU+XFxuICA8L2Rpdj5cXG5cXG4gIDxtYy1wYWdpbmF0aW9uIHRvdGFsLWl0ZW1zPVxcXCJ2bS5wYWdpbmF0aW9uLmNvdW50XFxcIiBpdGVtcy1wZXItcGFnZT1cXFwidm0ucGFnaW5hdGlvbi5wYWdlU2l6ZVxcXCIgY3VycmVudC1wYWdlPVxcXCJ2bS5wYWdpbmF0aW9uLnBhZ2VcXFwiIHBhZ2UtY2hhbmdlPVxcXCJ2bS5wYWdlQ2hhbmdlZCgpXFxcIj48L21jLXBhZ2luYXRpb24+XFxuXFxuPC9zZWN0aW9uPlxcblxcblwiKTtcbiR0ZW1wbGF0ZUNhY2hlLnB1dChcIm1vZHVsZXMvZmlsdGVyL2NvbmRpdGlvbi9pbmRleC5odG1sXCIsXCI8c2VjdGlvbiBjbGFzcz1cXFwiY29udGVudC1oZWFkZXIgY2xlYXJmaXhcXFwiPlxcbiAgPGg0IGNsYXNzPVxcXCJ0aXRsZVxcXCI+XFxuICAgIOiuvue9ruWHhuWFpeadoeS7tlxcbiAgPC9oND5cXG4gIDwhLS0gPGEgaHJlZj1cXFwiamF2YXNjcmlwdDp2b2lkKDApXFxcIiBjbGFzcz1cXFwiYnRuIGJ0bi1kZWZhdWx0IHB1bGwtcmlnaHRcXFwiIG5nLWNsaWNrPVxcXCIkcm9vdC5iYWNrKCk7XFxcIj7ov5Tlm548L2E+IC0tPlxcbjwvc2VjdGlvbj5cXG48c2VjdGlvbiBjbGFzcz1cXFwiY29udGVudCBib2R5LWNvbnRlbnQgYmxvY2stdWkgYmxvY2stdWktbWVzc2FnZS1jdXN0b20gbWVzc2FnZS1kZXRhaWwgcC1tXFxcIiBibG9jay11aT1cXFwibWFpblxcXCI+XFxuXHQ8Zm9ybSBjbGFzcz1cXFwiZm9ybS1ob3Jpem9udGFsXFxcIiBuYW1lPVxcXCJ2bS5Gb3JtXFxcIj5cXG4gICAgPCEtLSA8ZGl2IGNsYXNzPVxcXCJmb3JtLWdyb3VwIGNsZWFyZml4XFxcIj5cXG4gICAgICA8bGFiZWwgZm9yPVxcXCJub3RlSW5wdXRcXFwiIGNsYXNzPVxcXCJjb2wtc20tMSBjb250cm9sLWxhYmVsXFxcIj7moIfpopjvvJo8L2xhYmVsPlxcbiAgICAgIDxkaXYgY2xhc3M9XFxcImNvbC1zbS01XFxcIj5cXG4gICAgICAgIDxpbnB1dCB0eXBlPVxcXCJ0ZXh0XFxcIiBjbGFzcz1cXFwiZm9ybS1jb250cm9sXFxcIiBuZy1tb2RlbD1cXFwidm0uaW5wdXRJbmZvLnRpdGxlXFxcIiBwbGFjZWhvbGRlcj1cXFwi6K+36L6T5YWlXFxcIlxcbiAgICAgICAgICB2YWxpZGF0b3I9XFxcInJlcXVpcmVkXFxcIj5cXG4gICAgICA8L2Rpdj5cXG4gICAgPC9kaXY+XFxuICAgIDxkaXYgY2xhc3M9XFxcImZvcm0tZ3JvdXAgY2xlYXJmaXhcXFwiPlxcblx0ICAgIDxkaXYgY2xhc3M9XFxcImNsZWFyZml4XFxcIj5cXG5cdCAgICAgIDxsYWJlbCBmb3I9XFxcIm5vdGVJbnB1dFxcXCIgY2xhc3M9XFxcImNvbC1zbS0xIGNvbnRyb2wtbGFiZWxcXFwiPuWGheWuue+8mjwvbGFiZWw+XFxuICAgICAgPC9kaXY+XFxuICAgIFx0PGRpdiBjbGFzcz1cXFwiY29sLXNtLTZcXFwiPlxcblx0XHRcdFx0PG1kZWRpdG9yIGRlZmF1bHQtdGV4dD1cXFwidm0uZGVmYXVsdENvbnRlbnRcXFwiIHRleHQ9XFxcInZtLmlucHV0SW5mby5jb250ZW50XFxcIj48L21kZWRpdG9yPlxcblx0XHRcdFx0PGlucHV0IHR5cGU9XFxcImhpZGRlblxcXCIgbmctbW9kZWw9XFxcInZtLmlucHV0SW5mby5jb250ZW50XFxcIiB2YWxpZGF0b3I9XFxcInJlcXVpcmVkXFxcIiAvPlxcblx0XHRcdDwvZGl2Plxcblx0XHRcdDxkaXYgY2xhc3M9XFxcImNvbC1zbS02XFxcIj5cXG5cdFx0XHRcdDxoNT7lhoXlrrnpooTop4g8L2g1Plxcblx0XHRcdFx0PHAgbmctYmluZC1odG1sPVxcXCJ2bS5odG1sXFxcIiBzdHlsZT1cXFwiYmFja2dyb3VuZDogI2ZmZjsgaGVpZ2h0OiAzMDZweDsgb3ZlcmZsb3c6IGF1dG87IGJvcmRlcjogMXB4IHNvbGlkICNkZGQ7IHBhZGRpbmc6IDVweDtcXFwiPjwvcD5cXG5cdFx0XHQ8L2Rpdj5cXG4gICAgPC9kaXY+IC0tPlxcbiAgICA8ZGl2IGNsYXNzPVxcXCJwYW5lbCB0ZXh0LWNlbnRlclxcXCI+XFxuICAgICAgXFxuICAgICAgPGRpdiBjbGFzcz1cXFwiZm9ybS1ncm91cCBjbGVhcmZpeFxcXCI+XFxuICAgICAgICA8ZGl2IGNsYXNzPVxcXCJjb2wtc20tMSB0ZXh0LWNlbnRlclxcXCI+5YiG57uE5Y+3PC9kaXY+XFxuICAgICAgICA8ZGl2IGNsYXNzPVxcXCJjb2wtc20tMTFcXFwiPlxcbiAgICAgICAgICA8ZGl2IGNsYXNzPVxcXCJjb2wtc20tNFxcXCI+6aG555uuPC9kaXY+XFxuICAgICAgICAgIDxkaXYgY2xhc3M9XFxcImNvbC1zbS0xXFxcIj7nsbvlnos8L2Rpdj5cXG4gICAgICAgICAgPGRpdiBjbGFzcz1cXFwiY29sLXNtLTFcXFwiPuadoeS7tjwvZGl2PlxcbiAgICAgICAgICA8ZGl2IGNsYXNzPVxcXCJjb2wtc20tNFxcXCI+5YC8PC9kaXY+XFxuICAgICAgICAgIDxkaXYgY2xhc3M9XFxcImNvbC1zbS0yXFxcIj7mk43kvZw8L2Rpdj5cXG4gICAgICAgIDwvZGl2PlxcbiAgICAgIDwvZGl2PlxcbiAgICAgIDxkaXYgY2xhc3M9XFxcImZvcm0tZ3JvdXAgY2xlYXJmaXhcXFwiIG5nLXJlcGVhdD1cXFwiZ3JvdXAgaW4gdm0ubGlzdFxcXCI+XFxuICAgICAgICA8ZGl2IGNsYXNzPVxcXCJjb2wtc20tMVxcXCI+e3skaW5kZXggKyAxfX08L2Rpdj5cXG4gICAgICAgIDxkaXYgY2xhc3M9XFxcImNvbC1zbS0xMVxcXCI+XFxuICAgICAgICAgIDxkaXYgY2xhc3M9XFxcImZvcm0tZ3JvdXAgY2xlYXJmaXhcXFwiIG5nLXJlcGVhdD1cXFwiaXRlbSBpbiBncm91cC5saXN0XFxcIj5cXG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVxcXCJjb2wtc20tNFxcXCI+PGlucHV0IHR5cGU9XFxcInRleHRcXFwiIGNsYXNzPVxcXCJmb3JtLWNvbnRyb2xcXFwiIG5nLW1vZGVsPVxcXCJpdGVtLnRpdGxlXFxcIiBwbGFjZWhvbGRlcj1cXFwi6K+36L6T5YWl5ZCN56ewXFxcIlxcbiAgICAgICAgICAgIHZhbGlkYXRvcj1cXFwicmVxdWlyZWRcXFwiPjwvZGl2PlxcbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XFxcImNvbC1zbS0xXFxcIj5cXG4gICAgICAgICAgICAgIDxzZWxlY3QgY2xhc3M9XFxcImZvcm0tY29udHJvbCBjLXNlbGVjdFxcXCIgbmctbW9kZWw9XFxcIml0ZW0udHlwZVxcXCIgbmctb3B0aW9ucz1cXFwiYy52YWx1ZSBhcyBjLm5hbWUgZm9yIGMgaW4gdm0udHlwZUxpc3RcXFwiIHZhbGlkYXRvcj1cXFwicmVxdWlyZWRcXFwiPlxcbiAgICAgICAgICAgICAgPC9zZWxlY3Q+XFxuICAgICAgICAgICAgPC9kaXY+XFxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cXFwiY29sLXNtLTFcXFwiPlxcbiAgICAgICAgICAgICAgPHNlbGVjdCBjbGFzcz1cXFwiZm9ybS1jb250cm9sIGMtc2VsZWN0XFxcIiBuZy1tb2RlbD1cXFwiaXRlbS5jb25kaXRpb25cXFwiIG5nLW9wdGlvbnM9XFxcImMudmFsdWUgYXMgYy5uYW1lIGZvciBjIGluIHZtLmNvbmRpdGlvbkxpc3RbaXRlbS50eXBlXVxcXCIgdmFsaWRhdG9yPVxcXCJyZXF1aXJlZFxcXCI+XFxuICAgICAgICAgICAgICA8L3NlbGVjdD5cXG4gICAgICAgICAgICA8L2Rpdj5cXG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVxcXCJjb2wtc20tNFxcXCI+PGlucHV0IHR5cGU9XFxcInRleHRcXFwiIGNsYXNzPVxcXCJmb3JtLWNvbnRyb2xcXFwiIG5nLW1vZGVsPVxcXCJpdGVtLnZhbHVlXFxcIiBwbGFjZWhvbGRlcj1cXFwi6K+36L6T5YWl5YC8XFxcIlxcbiAgICAgICAgICAgIHZhbGlkYXRvcj1cXFwibm90TnVsbFxcXCI+PC9kaXY+XFxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cXFwiY29sLXNtLTJcXFwiPlxcbiAgICAgICAgICAgICAgPGEgaHJlZj1cXFwiamF2YXNjcmlwdDp2b2lkKDApO1xcXCIgY2xhc3M9XFxcInRleHQtZGFuZ2VyXFxcIiBuZy1jbGljaz1cXFwidm0uZGVsSXRlbShncm91cCwgJGluZGV4KVxcXCI+5Yig6ZmkPC9hPlxcbiAgICAgICAgICAgIDwvZGl2PlxcbiAgICAgICAgICA8L2Rpdj5cXG4gICAgICAgICAgPGRpdiBjbGFzcz1cXFwiZm9ybS1ncm91cCBjbGVhcmZpeFxcXCI+XFxuICAgICAgICAgICAgICA8bGFiZWwgY2xhc3M9XFxcImNvbnRyb2wtbGFiZWwgcHVsbC1sZWZ0XFxcIj7liIbnu4TmnaHku7blhbPns7vorr7nva7vvJo8L2xhYmVsPlxcbiAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cXFwiY29sLXNtLTNcXFwiPlxcbiAgICAgICAgICAgICAgICA8c2VsZWN0IGNsYXNzPVxcXCJmb3JtLWNvbnRyb2wgYy1zZWxlY3RcXFwiIG5nLW1vZGVsPVxcXCJncm91cC5jb25kaXRpb25cXFwiIG5nLW9wdGlvbnM9XFxcImMudmFsdWUgYXMgYy5uYW1lIGZvciBjIGluIHZtLmdyb3VwQ29uZGl0aW9uXFxcIiB2YWxpZGF0b3I9XFxcInJlcXVpcmVkXFxcIj5cXG4gICAgICAgICAgICAgICAgPC9zZWxlY3Q+XFxuICAgICAgICAgICAgICA8L2Rpdj5cXG4gICAgICAgICAgPC9kaXY+XFxuICAgICAgICAgIDxkaXYgY2xhc3M9XFxcIm0tdC1tZCBtLWItbWQgbS1sLXhsIHRleHQtbGVmdFxcXCI+XFxuICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz1cXFwiYnRuIGJ0bi1zbSBidG4tZGVmYXVsdFxcXCIgbmctY2xpY2s9XFxcInZtLmFkZEl0ZW0oZ3JvdXApXFxcIj7nu4TlhoXmt7vliqA8L2J1dHRvbj5cXG4gICAgICAgICAgICA8YnV0dG9uIGNsYXNzPVxcXCJidG4gYnRuLXNtIGJ0bi1kYW5nZXJcXFwiIG5nLWNsaWNrPVxcXCJ2bS5kZWxHcm91cCgkaW5kZXgpXFxcIj7liKDpmaTnu4Q8L2J1dHRvbj5cXG4gICAgICAgICAgPC9kaXY+XFxuICAgICAgICA8L2Rpdj5cXG4gICAgICA8L2Rpdj5cXG4gICAgPC9kaXY+XFxuICAgIDxkaXYgY2xhc3M9XFxcIm0tbC14bCBtLXQtc20gdGV4dC1sZWZ0XFxcIj5cXG4gICAgICA8YnV0dG9uIGNsYXNzPVxcXCJidG4gYnRuLWRlZmF1bHRcXFwiIG5nLWNsaWNrPVxcXCJ2bS5hZGRHcm91cCgpO1xcXCI+5re75Yqg57uEPC9idXR0b24+XFxuICAgIDwvZGl2PlxcbiAgICBcXG4gIDwvZm9ybT5cXG4gIDxkaXYgY2xhc3M9XFxcIm1vZGFsLWZvb3RlclxcXCI+XFxuICAgIDxidXR0b24gdHlwZT1cXFwiYnV0dG9uXFxcIiBjbGFzcz1cXFwiYnRuIGJ0bi1zdWNjZXNzIGJ0bi1zbVxcXCIgbmctY2xpY2s9XFxcInZtLnN1Ym1pdCh2bS5Gb3JtKVxcXCI+IOS/neWtmDwvYnV0dG9uPlxcbiAgPC9kaXY+XFxuPC9zZWN0aW9uPlwiKTtcbiR0ZW1wbGF0ZUNhY2hlLnB1dChcIm1vZHVsZXMvaW5mb3JtYXRpb24vbGlzdC9pbmRleC5odG1sXCIsXCI8c2VjdGlvbiBjbGFzcz1cXFwiY29udGVudC1oZWFkZXJcXFwiPlxcbiAgPGRpdiBjbGFzcz1cXFwib3B0aW9uc1xcXCI+XFxuICAgIDxkaXYgY2xhc3M9XFxcIm9wdGlvbi1pdGVtIG9wdGlvbi10aW1lXFxcIj5cXG4gICAgICA8dWwgY2xhc3M9XFxcImNsZWFyZml4XFxcIj5cXG4gICAgICAgIDxsaT5cXG4gICAgICAgICAgPGRpdiBjbGFzcz1cXFwiaW5wdXQtZ3JvdXAgc2VhcmNoLWJveFxcXCI+XFxuICAgICAgICAgICAgPGlucHV0IG5nLW1vZGVsPVxcXCJ2bS5maWx0ZXJzLmtleXdvcmRcXFwiIHR5cGU9XFxcInRleHRcXFwiIHBsYWNlaG9sZGVyPVxcXCLor7fovpPmn6Xor6JcXFwiIGNsYXNzPVxcXCJmb3JtLWNvbnRyb2xcXFwiXFxuICAgICAgICAgICAgICAgICAgICBjb2RlPVxcXCIxM1xcXCIga2V5LWV2ZW50PVxcXCJ2bS5yZVNlYXJjaCgpO1xcXCI+XFxuICAgICAgICAgICAgPHNwYW4gY2xhc3M9XFxcImlucHV0LWdyb3VwLWJ0blxcXCI+XFxuICAgICAgICAgICAgICA8YnV0dG9uIG5nLWNsaWNrPVxcXCJ2bS5yZVNlYXJjaCgpXFxcIiBjbGFzcz1cXFwiYnRuIGJ0bi1kZWZhdWx0IHNlYXJjaFxcXCIgdHlwZT1cXFwiYnV0dG9uXFxcIj48aSBjbGFzcz1cXFwiaWNvbi1zZWFyY2hcXFwiPjwvaT48L2J1dHRvbj5cXG4gICAgICAgICAgICA8L3NwYW4+XFxuICAgICAgICAgIDwvZGl2PlxcbiAgICAgICAgPC9saT5cXG4gICAgICA8L3VsPlxcbiAgICA8L2Rpdj5cXG4gICAgPCEtLSA8ZGl2IGNsYXNzPVxcXCJvcHRpb24taXRlbSBsYXJnZVxcXCI+XFxuICAgICAgPHNwYW4gY2xhc3M9XFxcIml0ZW0tdGl0bGUgdGV4dC1yaWdodFxcXCI+5oCn5Yir77yaPC9zcGFuPlxcbiAgICAgIDx1bCBjbGFzcz1cXFwiY2xlYXJmaXhcXFwiPlxcbiAgICAgICAgICAgIDxsaT5cXG4gICAgICAgICAgICAgICAgPGEgaHJlZj1cXFwiamF2YXNjcmlwdDo7XFxcIiBjbGFzcz1cXFwiYnRuXFxcIiBuZy1jbGFzcz1cXFwie1xcJ2J0bi1kZWZhdWx0XFwnOiB2bS5maWx0ZXJzLmdlbmRlciwgXFwnYnRuLXRvZ2dsZVxcJzogIXZtLmZpbHRlcnMuZ2VuZGVyLCBcXCdhY3RpdmVcXCc6ICF2bS5maWx0ZXJzLmdlbmRlcn1cXFwiIG5nLWNsaWNrPVxcXCJ2bS5zd2l0Y2goXFwnZ2VuZGVyXFwnKVxcXCI+XFxuICAgICAgICAgICAgICAgICAgICDlhajpg6hcXG4gICAgICAgICAgICAgICAgPC9hPlxcbiAgICAgICAgICAgIDwvbGk+XFxuICAgICAgICAgICAgPGxpIG5nLXJlcGVhdD1cXFwiaXRlbSBpbiB2bS5nZW5kZXJMaXN0XFxcIj5cXG4gICAgICAgICAgICAgICAgPGEgaHJlZj1cXFwiamF2YXNjcmlwdDo7XFxcIiBjbGFzcz1cXFwiYnRuXFxcIiBuZy1jbGFzcz1cXFwie1xcJ2J0bi1kZWZhdWx0XFwnOiB2bS5maWx0ZXJzLmdlbmRlciAhPT0gaXRlbS52YWx1ZSwgXFwnYnRuLXRvZ2dsZVxcJzogdm0uZmlsdGVycy5nZW5kZXIgPT0gaXRlbS52YWx1ZSwgXFwnYWN0aXZlXFwnOiB2bS5maWx0ZXJzLmdlbmRlciA9PSBpdGVtLnZhbHVlfVxcXCIgbmctY2xpY2s9XFxcInZtLnN3aXRjaChcXCdnZW5kZXJcXCcsIGl0ZW0udmFsdWUpXFxcIj5cXG4gICAgICAgICAgICAgICAgICAgIHt7IGl0ZW0ubmFtZSB9fVxcbiAgICAgICAgICAgICAgICA8L2E+XFxuICAgICAgICAgICAgPC9saT5cXG4gICAgICAgIDwvdWw+XFxuICAgIDwvZGl2PiAtLT5cXG48L3NlY3Rpb24+XFxuXFxuPHNlY3Rpb24gY2xhc3M9XFxcImNvbnRlbnQgYm9keS1jb250ZW50IGJvZHktY29udGVudC1jb21wYWN0IGJsb2NrLXVpIGJsb2NrLXVpLW1lc3NhZ2UtY3VzdG9tXFxcIiBibG9jay11aT1cXFwibWFpblxcXCI+XFxuICA8ZW1wdHktdGlwIG5nLWlmPVxcXCJ2bS5saXN0Lmxlbmd0aCA9PT0gMFxcXCI+PC9lbXB0eS10aXA+XFxuXFxuICA8ZGl2IGNsYXNzPVxcXCJwYW5lbFxcXCI+XFxuICAgIDx0YWJsZSBjbGFzcz1cXFwidGFibGUgdGFibGUtc3RyaXBlZCB0ZXh0LWNlbnRlclxcXCI+XFxuICAgICAgPHRyPlxcbiAgICAgICAgPHRoIGNsYXNzPVxcXCJjb2wtbS0xIHRleHQtY2VudGVyXFxcIj7kvIHkuJrlkI3np7A8L3RoPlxcbiAgICAgICAgPHRoIGNsYXNzPVxcXCJjb2wtbS0xIHRleHQtY2VudGVyXFxcIj7kvIHkuJrlnLDlnYA8L3RoPlxcbiAgICAgICAgPHRoIGNsYXNzPVxcXCJjb2wtbS0xIHRleHQtY2VudGVyXFxcIj7mlK/ooYw8L3RoPlxcbiAgICAgICAgPHRoIGNsYXNzPVxcXCJjb2wtbS0xIHRleHQtY2VudGVyXFxcIj7kuLvnkIY8L3RoPlxcbiAgICAgICAgPHRoIGNsYXNzPVxcXCJjb2wtbS0yIHRleHQtY2VudGVyXFxcIj7ljY/nkIY8L3RoPlxcbiAgICAgICAgPHRoIGNsYXNzPVxcXCJjb2wtbS0xIHRleHQtY2VudGVyXFxcIj7mk43kvZw8L3RoPlxcbiAgICAgIDwvdHI+XFxuICAgICAgPHRyIG5nLXJlcGVhdD1cXFwiaXRlbSBpbiB2bS5saXN0XFxcIj5cXG4gICAgICAgIDx0ZD57e2l0ZW0uY29tcGFueX19PC90ZD5cXG4gICAgICAgIDx0ZD57e2l0ZW0uY29tcGFueV9hZGRyZXNzfX08L3RkPlxcbiAgICAgICAgPHRkPnt7aXRlbS5jb21wYW55X2FkZHJlc3N9fTwvdGQ+XFxuICAgICAgICA8dGQ+e3tpdGVtLm1hbmFnZV9hLm5hbWV9fTwhLS0gPGJ1dHRvbiBjbGFzcz1cXFwiYnRuIGJ0bi1pbmZvIG0tbC1zbVxcXCIgbmctY2xpY2s9XFxcInZtLmNoYW5nZU1hbmFnZShcXCdtYW5hZ2VfYVxcJywgaXRlbSlcXFwiPnt7aXRlbS5tYW5hZ2VfYSAmJiBpdGVtLm1hbmFnZV9hLnVzZXJpZD8gXFwn5Y+Y5pu0XFwnOiBcXCfliIbphY1cXCd9fTwvYnV0dG9uPiAtLT48L3RkPlxcbiAgICAgICAgPHRkPnt7aXRlbS5tYW5hZ2VfYi5uYW1lfX08IS0tIDxidXR0b24gY2xhc3M9XFxcImJ0biBidG4taW5mbyBtLWwtc21cXFwiIG5nLWNsaWNrPVxcXCJ2bS5jaGFuZ2VNYW5hZ2UoXFwnbWFuYWdlX2JcXCcsIGl0ZW0pXFxcIj57e2l0ZW0ubWFuYWdlX2IgJiYgaXRlbS5tYW5hZ2VfYi51c2VyaWQ/IFxcJ+WPmOabtFxcJzogXFwn5YiG6YWNXFwnfX08L2J1dHRvbj4gLS0+PC90ZD5cXG4gICAgICAgIDx0ZD5cXG4gICAgICAgICAgPGEgaHJlZj1cXFwiamF2YXNjcmlwdDp2b2lkKDApXFxcIiBuZy1jbGljaz1cXFwidm0uYXNzaWduQnJhbmNoKGl0ZW0pXFxcIj7liIbphY3mlK/ooYw8L2E+XFxuICAgICAgICAgIDxhIGhyZWY9XFxcImphdmFzY3JpcHQ6dm9pZCgwKVxcXCIgbmctY2xpY2s9XFxcInZtLmFzc2lnbihpdGVtKVxcXCI+5YiG6YWNPC9hPlxcbiAgICAgICAgPC90ZD5cXG4gICAgICA8L3RyPlxcbiAgICA8L3RhYmxlPlxcbiAgPC9kaXY+XFxuXFxuICA8bWMtcGFnaW5hdGlvbiB0b3RhbC1pdGVtcz1cXFwidm0ucGFnaW5hdGlvbi5jb3VudFxcXCIgaXRlbXMtcGVyLXBhZ2U9XFxcInZtLnBhZ2luYXRpb24ucGFnZVNpemVcXFwiIGN1cnJlbnQtcGFnZT1cXFwidm0ucGFnaW5hdGlvbi5wYWdlXFxcIiBwYWdlLWNoYW5nZT1cXFwidm0ucGFnZUNoYW5nZWQoKVxcXCI+PC9tYy1wYWdpbmF0aW9uPlxcblxcbjwvc2VjdGlvbj5cXG5cIik7XG4kdGVtcGxhdGVDYWNoZS5wdXQoXCJtb2R1bGVzL2luZm9ybWF0aW9uL3NldHRpbmcvaW5kZXguaHRtbFwiLFwiPHNlY3Rpb24gY2xhc3M9XFxcImNvbnRlbnQtaGVhZGVyXFxcIj5cXG4gIDxoNCBjbGFzcz1cXFwidGl0bGVcXFwiPumHh+mbhuS/oeaBr+iuvue9rjwvaDQ+XFxuPC9zZWN0aW9uPlxcblxcbjxzZWN0aW9uIGNsYXNzPVxcXCJjb250ZW50IGJvZHktY29udGVudCBibG9jay11aSBibG9jay11aS1tZXNzYWdlLWN1c3RvbVxcXCIgYmxvY2stdWk9XFxcIm1haW5cXFwiPlxcbiAgPGZvcm0gbmFtZT1cXFwiRm9ybVxcXCIgY2xhc3M9XFxcImZvcm0taG9yaXpvbnRhbFxcXCI+XFxuXFxuICAgIDxkaXYgY2xhc3M9XFxcImZvcm0tZ3JvdXBcXFwiIG5nLXJlcGVhdD1cXFwicHJvamVjdCBpbiB2bS5jb2xsZWN0TGlzdFxcXCI+XFxuICAgICAgPGRpdiBjbGFzcz1cXFwiY29sLXNtLTFcXFwiPlxcbiAgICAgICAgPGxhYmVsIGNsYXNzPVxcXCJjb250cm9sLWxhYmVsXFxcIj7ph4fpm4bpobnnm648L2xhYmVsPlxcbiAgICAgICAgPHA+XFxuICAgICAgICAgIDxsYWJlbCBjbGFzcz1cXFwibWMtcmFkaW9cXFwiPlxcbiAgICAgICAgICAgIDxpbnB1dCB0eXBlPVxcXCJjaGVja2JveFxcXCIgbmFtZT1cXFwiY2hlY2tib3gxXFxcIiBuZy1tb2RlbD1cXFwicHJvamVjdC5pc1JlcXVpcmVkXFxcIj5cXG4gICAgICAgICAgICA8aSBjbGFzcz1cXFwiaWNvbi1jaGVja1xcXCI+PC9pPlxcbiAgICAgICAgICAgIOW/heWhq1xcbiAgICAgICAgICA8L2xhYmVsPlxcbiAgICAgICAgPC9wPlxcbiAgICAgIDwvZGl2PlxcbiAgICAgIDxkaXYgY2xhc3M9XFxcImNvbC1zbS0yXFxcIj5cXG4gICAgICAgIDxpbnB1dCB0eXBlPVxcXCJ0ZXh0XFxcIiBjbGFzcz1cXFwiZm9ybS1jb250cm9sXFxcIiBuZy1tb2RlbD1cXFwicHJvamVjdC5uYW1lXFxcIiB2YWxpZGF0b3I9XFxcInJlcXVpcmVkXFxcIj5cXG4gICAgICA8L2Rpdj5cXG4gICAgICA8ZGl2IGNsYXNzPVxcXCJjb2wtc20tNlxcXCI+XFxuICAgICAgICA8ZGl2IGNsYXNzPVxcXCJjbGVhcmZpeFxcXCI+XFxuICAgICAgICAgIDxsYWJlbCBjbGFzcz1cXFwiY29sLXNtLTIgY29udHJvbC1sYWJlbFxcXCI+6YeH6ZuG5YaF5a65PC9sYWJlbD5cXG4gICAgICAgIDwvZGl2PlxcbiAgICAgICAgPGRpdiBjbGFzcz1cXFwiZm9ybS1ncm91cFxcXCIgbmctcmVwZWF0PVxcXCJpdGVtIGluIHByb2plY3QuY29udGVudFxcXCI+XFxuICAgICAgICAgIDxkaXYgY2xhc3M9XFxcImNsZWFyZml4IG0tYi1zbVxcXCI+XFxuICAgICAgICAgICAgPGxhYmVsIGNsYXNzPVxcXCJjb2wtc20tMSBjb250cm9sLWxhYmVsXFxcIj7lkI3np7A8L2xhYmVsPlxcbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XFxcImNvbC1zbS00XFxcIj5cXG4gICAgICAgICAgICAgIDxpbnB1dCB0eXBlPVxcXCJ0ZXh0XFxcIiBjbGFzcz1cXFwiZm9ybS1jb250cm9sXFxcIiBuZy1tb2RlbD1cXFwiaXRlbS50aXRsZVxcXCIgdmFsaWRhdG9yPVxcXCJyZXF1aXJlZFxcXCI+XFxuICAgICAgICAgICAgPC9kaXY+XFxuICAgICAgICAgICAgPGxhYmVsIGNsYXNzPVxcXCJjb2wtc20tMSBjb250cm9sLWxhYmVsXFxcIj7nsbvlnos8L2xhYmVsPlxcbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XFxcImNvbC1zbS00XFxcIj5cXG4gICAgICAgICAgICAgIDxzZWxlY3QgY2xhc3M9XFxcImZvcm0tY29udHJvbCBjLXNlbGVjdFxcXCIgbmctbW9kZWw9XFxcIml0ZW0udHlwZVxcXCIgXFxuICAgICAgICAgICAgICAgIG5nLW9wdGlvbnM9XFxcInR5cGUudHlwZSBhcyB0eXBlLnRpdGxlIGZvciB0eXBlIGluIHZtLnR5cGVMaXN0XFxcIiB2YWxpZGF0b3I9XFxcInJlcXVpcmVkXFxcIiBcXG4gICAgICAgICAgICAgICAgbmctY2hhbmdlPVxcXCJ2bS50eXBlQ2hhbmdlKGl0ZW0pXFxcIlxcbiAgICAgICAgICAgICAgICB1aWItdG9vbHRpcD1cXFwi6K+35Zyo5LiL5pa55aGr5YaZ6YCJ6aG55YaF5a65XFxcIiB0b29sdGlwLXBsYWNlbWVudD1cXFwidG9wXFxcIiB0b29sdGlwLXRyaWdnZXI9XFxcIm5vbmVcXFwiIFxcbiAgICAgICAgICAgICAgICB0b29sdGlwLWVuYWJsZT1cXFwiaXRlbS5uZWVkRGF0YVxcXCIgdG9vbHRpcC1pcy1vcGVuPVxcXCJpdGVtLm5lZWREYXRhXFxcIj5cXG4gICAgICAgICAgICAgIDwvc2VsZWN0PlxcbiAgICAgICAgICAgIDwvZGl2PlxcbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XFxcImNvbC1zbS0yIGNvbnRyb2wtbGFiZWwgdGV4dC1jZW50ZXIgcHVsbC1yaWdodFxcXCI+XFxuICAgICAgICAgICAgICA8YSBocmVmPVxcXCJqYXZhc2NyaXB0OnZvaWQoMCk7XFxcIiBjbGFzcz1cXFwidGV4dC1kYW5nZXJcXFwiIG5nLWNsaWNrPVxcXCJ2bS5kZWxldGVJdGVtKHByb2plY3QsICRpbmRleClcXFwiPuWIoOmZpDwvYT5cXG4gICAgICAgICAgICA8L2Rpdj5cXG4gICAgICAgICAgPC9kaXY+XFxuICAgICAgICAgIDxkaXYgY2xhc3M9XFxcImNsZWFyZml4IG0tYi1zbVxcXCI+XFxuICAgICAgICAgICAgPGxhYmVsIGNsYXNzPVxcXCJjb2wtc20tMSBjb250cm9sLWxhYmVsXFxcIj7mj4/ov7A8L2xhYmVsPlxcbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XFxcImNvbC1zbS00XFxcIj5cXG4gICAgICAgICAgICAgIDxpbnB1dCB0eXBlPVxcXCJ0ZXh0XFxcIiBjbGFzcz1cXFwiZm9ybS1jb250cm9sXFxcIiBuZy1tb2RlbD1cXFwiaXRlbS5kZXNjcmlwdGlvblxcXCI+XFxuICAgICAgICAgICAgPC9kaXY+XFxuICAgICAgICAgICAgPGxhYmVsIGNsYXNzPVxcXCJtYy1yYWRpbyBjb2wtc20tNVxcXCI+XFxuICAgICAgICAgICAgICA8aW5wdXQgdHlwZT1cXFwiY2hlY2tib3hcXFwiIG5hbWU9XFxcImNoZWNrYm94MVxcXCIgbmctbW9kZWw9XFxcIml0ZW0uaXNSZXF1aXJlZFxcXCI+XFxuICAgICAgICAgICAgICA8aSBjbGFzcz1cXFwiaWNvbi1jaGVja1xcXCI+PC9pPlxcbiAgICAgICAgICAgICAg5b+F5aGrXFxuICAgICAgICAgICAgPC9sYWJlbD5cXG4gICAgICAgICAgPC9kaXY+XFxuICAgICAgICAgIDxkaXYgY2xhc3M9XFxcImNsZWFyZml4XFxcIiBuZy1pZj1cXFwiaXRlbS5uZWVkRGF0YVxcXCI+XFxuICAgICAgICAgICAgPHAgY2xhc3M9XFxcInRleHQtdGlwc1xcXCI+5LiL5ouJ5qGGL+WkmumAieahhuW/hemhu+Whq+WGmemAiemhueWGheWuuTwvcD5cXG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVxcXCJjbGVhcmZpeCBtLWItc21cXFwiIG5nLXJlcGVhdD1cXFwidGVybSBpbiBpdGVtLmRhdGFTb3VyY2UgdHJhY2sgYnkgJGluZGV4XFxcIj5cXG4gICAgICAgICAgICAgIDxsYWJlbCBjbGFzcz1cXFwiY29sLXNtLTMgY29udHJvbC1sYWJlbFxcXCI+6YCJ6aG5e3skaW5kZXggKyAxfX08L2xhYmVsPlxcbiAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cXFwiY29sLXNtLTZcXFwiPlxcbiAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT1cXFwidGV4dFxcXCIgY2xhc3M9XFxcImZvcm0tY29udHJvbFxcXCIgbmctbW9kZWw9XFxcInRlcm0ubmFtZVxcXCIgdmFsaWRhdG9yPVxcXCJyZXF1aXJlZFxcXCI+XFxuICAgICAgICAgICAgICA8L2Rpdj5cXG4gICAgICAgICAgICAgIDxkaXYgY2xhc3M9XFxcImNvbC1zbS0yIHRleHQtY2VudGVyXFxcIj5cXG4gICAgICAgICAgICAgICAgPGEgaHJlZj1cXFwiamF2YXNjcmlwdDp2b2lkKDApO1xcXCIgY2xhc3M9XFxcImJ0biBidG4tbGlua1xcXCIgbmctaWY9XFxcIiRpbmRleCA9PSAwXFxcIiBuZy1jbGljaz1cXFwidm0uYWRkRGF0YShpdGVtKVxcXCI+5re75YqgPC9hPlxcbiAgICAgICAgICAgICAgICA8YSBocmVmPVxcXCJqYXZhc2NyaXB0OnZvaWQoMCk7XFxcIiBjbGFzcz1cXFwiYnRuIGJ0bi1saW5rIHRleHQtZGFuZ2VyXFxcIiBuZy1pZj1cXFwiJGluZGV4ID4gMFxcXCIgbmctY2xpY2s9XFxcInZtLmRlbGV0ZURhdGEoaXRlbSwgJGluZGV4KVxcXCI+5Yig6ZmkPC9hPlxcbiAgICAgICAgICAgICAgPC9kaXY+XFxuICAgICAgICAgICAgPC9kaXY+XFxuICAgICAgICAgICAgPCEtLSA8bGFiZWwgY2xhc3M9XFxcImNvbC1zbS0zIGNvbnRyb2wtbGFiZWwgXFxcIj7pgInpobkxPC9sYWJlbD5cXG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVxcXCJjb2wtc20tNiBtLWItc21cXFwiPlxcbiAgICAgICAgICAgICAgPGlucHV0IHR5cGU9XFxcInRleHRcXFwiIGNsYXNzPVxcXCJmb3JtLWNvbnRyb2xcXFwiIG5nLW1vZGVsPVxcXCJ2bS5pbnB1dEluZm8ubmFtZVxcXCIgdmFsaWRhdG9yPVxcXCJyZXF1aXJlZFxcXCI+XFxuICAgICAgICAgICAgPC9kaXY+XFxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cXFwiY29sLXNtLTIgdGV4dC1jZW50ZXIgbS1iLXNtXFxcIj5cXG4gICAgICAgICAgICAgIDxhIGhyZWY9XFxcImphdmFzY3JpcHQ6dm9pZCgwKTtcXFwiIGNsYXNzPVxcXCJidG4gYnRuLWxpbmsgdGV4dC1kYW5nZXJcXFwiPuWIoOmZpDwvYT5cXG4gICAgICAgICAgICA8L2Rpdj5cXG4gICAgICAgICAgICA8bGFiZWwgY2xhc3M9XFxcImNvbC1zbS0zIGNvbnRyb2wtbGFiZWwgbS1iLXNtXFxcIj7pgInpobkxPC9sYWJlbD5cXG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVxcXCJjb2wtc20tNiBtLWItc21cXFwiPlxcbiAgICAgICAgICAgICAgPGlucHV0IHR5cGU9XFxcInRleHRcXFwiIGNsYXNzPVxcXCJmb3JtLWNvbnRyb2xcXFwiIG5nLW1vZGVsPVxcXCJ2bS5pbnB1dEluZm8ubmFtZVxcXCIgdmFsaWRhdG9yPVxcXCJyZXF1aXJlZFxcXCI+XFxuICAgICAgICAgICAgPC9kaXY+XFxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cXFwiY29sLXNtLTIgdGV4dC1jZW50ZXIgbS1iLXNtXFxcIj5cXG4gICAgICAgICAgICAgIDxhIGhyZWY9XFxcImphdmFzY3JpcHQ6dm9pZCgwKTtcXFwiIGNsYXNzPVxcXCJidG4gYnRuLWxpbmsgdGV4dC1kYW5nZXJcXFwiPuWIoOmZpDwvYT5cXG4gICAgICAgICAgICA8L2Rpdj4gLS0+XFxuICAgICAgICAgIDwvZGl2PlxcbiAgICAgICAgPC9kaXY+XFxuXFxuICAgICAgICA8ZGl2IGNsYXNzPVxcXCJtLWwteGwgbS10LXhzXFxcIj5cXG4gICAgICAgICAgPGEgaHJlZj1cXFwiamF2YXNjcmlwdDp2b2lkKDApO1xcXCIgY2xhc3M9XFxcImJ0biBidG4tc20gYnRuLWRlZmF1bHRcXFwiIG5nLWNsaWNrPVxcXCJ2bS5hZGRJdGVtKHByb2plY3QpXFxcIj7mt7vliqDlrZfmrrU8L2E+XFxuICAgICAgICA8L2Rpdj5cXG4gICAgICA8L2Rpdj5cXG4gICAgICA8ZGl2IGNsYXNzPVxcXCJjb2wtc20tMVxcXCI+XFxuICAgICAgICA8YnV0dG9uIGNsYXNzPVxcXCJidG4gYnRuLWRhbmdlclxcXCIgbmctY2xpY2s9XFxcInZtLmRlbGV0ZVByb2plY3QoJGluZGV4KVxcXCI+5Yig6Zmk6aG555uuPC9idXR0b24+XFxuICAgICAgPC9kaXY+XFxuICAgIDwvZGl2PlxcbiAgPC9mb3JtPlxcbiAgPGRpdiBjbGFzcz1cXFwibS1sLXhsIG0tYi1tZFxcXCI+XFxuICAgIDxidXR0b24gY2xhc3M9XFxcImJ0biBidG4tZGVmYXVsdFxcXCIgbmctY2xpY2s9XFxcInZtLmFkZFByb2plY3QoKVxcXCI+5re75Yqg6aG555uuPC9idXR0b24+XFxuICA8L2Rpdj5cXG4gIDxkaXYgY2xhc3M9XFxcIm0tbC14bCBtLWItbWQgdGV4dC1jZW50ZXJcXFwiPlxcbiAgICA8YnV0dG9uIHR5cGU9XFxcImJ1dHRvblxcXCIgY2xhc3M9XFxcImJ0biBidG4tc3VjY2VzcyBidG4tc21cXFwiIG5nLWNsaWNrPVxcXCJ2bS5zdWJtaXQoRm9ybSlcXFwiPuS/neWtmDwvYnV0dG9uPlxcbiAgPC9kaXY+XFxuPC9zZWN0aW9uPlxcblwiKTtcbiR0ZW1wbGF0ZUNhY2hlLnB1dChcIm1vZHVsZXMvaW52ZXN0bWVudC9saXN0L2luZGV4Lmh0bWxcIixcIjxzZWN0aW9uIGNsYXNzPVxcXCJjb250ZW50LWhlYWRlclxcXCI+XFxuICAgIDxidXR0b24gdHlwZT1cXFwiYnV0dG9uXFxcIiBjbGFzcz1cXFwiYnRuIGJ0bi1zdWNjZXNzIHB1bGwtcmlnaHQgbS1sLXNtXFxcIiBzdHlsZT1cXFwicG9zaXRpb246IHJlbGF0aXZlOyB6LWluZGV4OiAyO1xcXCJcXG4gICAgICAgICAgICBuZy1jbGljaz1cXFwidm0uYWRkQ29tcGFueSgpXFxcIj48aSBjbGFzcz1cXFwiaWNvbi1QbHVzXFxcIj48L2k+IOa3u+WKoFxcbiAgICA8L2J1dHRvbj5cXG5cXG4gICAgPGJ1dHRvbiB0eXBlPVxcXCJidXR0b25cXFwiIGNsYXNzPVxcXCJidG4gYnRuLWluZm8gcHVsbC1yaWdodFxcXCIgc3R5bGU9XFxcInBvc2l0aW9uOiByZWxhdGl2ZTsgei1pbmRleDogMjtcXFwiIGRhdGEtdG9nZ2xlPVxcXCJtb2RhbFxcXCIgZGF0YS10YXJnZXQ9XFxcIi5wb3AtcGxheWVyXFxcIlxcbiAgICAgICAgICAgIG5nLWNsaWNrPVxcXCIkZW1pdChcXCdiYXRjaFVwbG9hZFZjXFwnKTtcXFwiPjxpIGNsYXNzPVxcXCJpY29uLVBsdXNcXFwiPjwvaT4g5om56YeP5b2V5YWlXFxuICAgIDwvYnV0dG9uPlxcbiAgICA8ZGl2PlxcbiAgICAgIDxtYy1iYXRjaC11cGxvYWQtdmM+PC9tYy1iYXRjaC11cGxvYWQtdmM+XFxuICAgIDwvZGl2PlxcblxcbiAgPGRpdiBjbGFzcz1cXFwib3B0aW9uc1xcXCI+XFxuICAgIDxkaXYgY2xhc3M9XFxcIm9wdGlvbi1pdGVtIG9wdGlvbi10aW1lXFxcIj5cXG4gICAgICA8dWwgY2xhc3M9XFxcImNsZWFyZml4XFxcIj5cXG4gICAgICAgIDxsaT5cXG4gICAgICAgICAgPGRpdiBjbGFzcz1cXFwiaW5wdXQtZ3JvdXAgc2VhcmNoLWJveFxcXCI+XFxuICAgICAgICAgICAgPGlucHV0IG5nLW1vZGVsPVxcXCJ2bS5maWx0ZXJzLm5hbWVcXFwiIHR5cGU9XFxcInRleHRcXFwiIHBsYWNlaG9sZGVyPVxcXCLor7fovpPmn6Xor6JcXFwiIGNsYXNzPVxcXCJmb3JtLWNvbnRyb2xcXFwiXFxuICAgICAgICAgICAgICAgICAgICBjb2RlPVxcXCIxM1xcXCIga2V5LWV2ZW50PVxcXCJ2bS5yZVNlYXJjaCgpO1xcXCI+XFxuICAgICAgICAgICAgPHNwYW4gY2xhc3M9XFxcImlucHV0LWdyb3VwLWJ0blxcXCI+XFxuICAgICAgICAgICAgICA8YnV0dG9uIG5nLWNsaWNrPVxcXCJ2bS5yZVNlYXJjaCgpXFxcIiBjbGFzcz1cXFwiYnRuIGJ0bi1kZWZhdWx0IHNlYXJjaFxcXCIgdHlwZT1cXFwiYnV0dG9uXFxcIj48aSBjbGFzcz1cXFwiaWNvbi1zZWFyY2hcXFwiPjwvaT48L2J1dHRvbj5cXG4gICAgICAgICAgICA8L3NwYW4+XFxuICAgICAgICAgIDwvZGl2PlxcbiAgICAgICAgPC9saT5cXG4gICAgICA8L3VsPlxcbiAgICA8L2Rpdj5cXG4gICAgPCEtLSA8ZGl2IGNsYXNzPVxcXCJvcHRpb24taXRlbSBsYXJnZVxcXCI+XFxuICAgICAgPHNwYW4gY2xhc3M9XFxcIml0ZW0tdGl0bGUgdGV4dC1yaWdodFxcXCI+5omA5bGe5py65p6E77yaPC9zcGFuPlxcbiAgICAgIDx1bCBjbGFzcz1cXFwiY2xlYXJmaXhcXFwiPlxcbiAgICAgICAgICAgIDxsaT5cXG4gICAgICAgICAgICAgICAgPHNlbGVjdCBuYW1lPVxcXCJcXFwiIGlkPVxcXCJcXFwiIGNsYXNzPVxcXCJmb3JtLWNvbnRyb2wgYy1zZWxlY3RcXFwiIFxcbiAgICAgICAgICAgICAgICAgIG5nLW1vZGVsPVxcXCJ2bS5maWx0ZXJzLmFnZW5jeVxcXCIgbmctb3B0aW9ucz1cXFwiaXRlbSBmb3IgaXRlbSBpbiB2bS5hZ2VuY3lMaXN0XFxcIiBuZy1jaGFuZ2U9XFxcInZtLmNoYW5nZUFnZW5jeSgpXFxcIj5cXG4gICAgICAgICAgICAgICAgICA8b3B0aW9uIHZhbHVlPVxcXCJcXFwiPuWFqOmDqDwvb3B0aW9uPlxcbiAgICAgICAgICAgICAgICA8L3NlbGVjdD5cXG4gICAgICAgICAgICA8L2xpPlxcbiAgICAgICAgPC91bD5cXG4gICAgPC9kaXY+IC0tPlxcbjwvc2VjdGlvbj5cXG5cXG48c2VjdGlvbiBjbGFzcz1cXFwiY29udGVudCBib2R5LWNvbnRlbnQgYm9keS1jb250ZW50LWNvbXBhY3QgYmxvY2stdWkgYmxvY2stdWktbWVzc2FnZS1jdXN0b21cXFwiIGJsb2NrLXVpPVxcXCJtYWluXFxcIj5cXG4gIDxlbXB0eS10aXAgbmctaWY9XFxcInZtLmxpc3QubGVuZ3RoID09PSAwXFxcIj48L2VtcHR5LXRpcD5cXG5cXG4gIDxkaXYgY2xhc3M9XFxcInBhbmVsXFxcIiBuZy1pZj1cXFwidm0ubGlzdC5sZW5ndGggPiAwXFxcIj5cXG4gICAgPHRhYmxlIGNsYXNzPVxcXCJ0YWJsZSB0YWJsZS1zdHJpcGVkIHRleHQtY2VudGVyXFxcIj5cXG4gICAgICA8dHI+XFxuICAgICAgICA8dGggY2xhc3M9XFxcImNvbC1tLTUgdGV4dC1jZW50ZXJcXFwiPuWFrOWPuOWQjeensDwvdGg+XFxuICAgICAgICA8dGggY2xhc3M9XFxcImNvbC1tLTUgdGV4dC1jZW50ZXJcXFwiPuWFrOWPuOeugOensDwvdGg+XFxuICAgICAgICA8dGggY2xhc3M9XFxcImNvbC1tLTEgdGV4dC1jZW50ZXJcXFwiPueKtuaAgTwvdGg+XFxuICAgICAgICA8IS0tIDx0aCBjbGFzcz1cXFwiY29sLW0tMiB0ZXh0LWNlbnRlclxcXCI+5aSH5rOoPC90aD4gLS0+XFxuICAgICAgICA8dGggY2xhc3M9XFxcImNvbC1tLTIgdGV4dC1jZW50ZXJcXFwiPuaTjeS9nDwvdGg+XFxuICAgICAgPC90cj5cXG4gICAgICA8dHIgbmctcmVwZWF0PVxcXCJpdGVtIGluIHZtLmxpc3RcXFwiPlxcbiAgICAgICAgPHRkPnt7aXRlbS5uYW1lfX08L3RkPlxcbiAgICAgICAgPHRkPnt7aXRlbS52Y19uYW1lfX08L3RkPlxcbiAgICAgICAgPCEtLSA8dGQ+e3tpdGVtLmFnZW5jeX19PC90ZD4gLS0+XFxuICAgICAgICA8dGQ+XFxuICAgICAgICAgIDxzcGFuIGNsYXNzPVxcXCJ0ZXh0LXN1Y2Nlc3NcXFwiIG5nLWlmPVxcXCJpdGVtLnN0YXRlPT0xXFxcIj7mraPluLg8L3NwYW4+XFxuICAgICAgICAgIDxzcGFuIGNsYXNzPVxcXCJ0ZXh0LWRhbmdlclxcXCIgbmctaWY9XFxcIml0ZW0uc3RhdGU9PTNcXFwiPuW3suWIoOmZpDwvc3Bhbj5cXG4gICAgICAgIDwvdGQ+XFxuICAgICAgICA8dGQ+XFxuICAgICAgICAgIDxhIGhyZWY9XFxcImphdmFzY3JpcHQ6dm9pZCgwKVxcXCIgY2xhc3M9XFxcInRleHQtZGFuZ2VyXFxcIiBuZy1jbGljaz1cXFwidm0uZGVsZXRlKGl0ZW0pXFxcIiBuZy1pZj1cXFwiaXRlbS5zdGF0ZT09MVxcXCI+5Yig6ZmkPC9hPlxcbiAgICAgICAgICA8YSBocmVmPVxcXCJqYXZhc2NyaXB0OnZvaWQoMClcXFwiIG5nLWNsaWNrPVxcXCJ2bS5kZWxldGVDYW5jZWwoaXRlbSlcXFwiIG5nLWlmPVxcXCJpdGVtLnN0YXRlPT0zXFxcIj7lj5bmtojliKDpmaQ8L2E+XFxuICAgICAgICA8L3RkPlxcbiAgICAgIDwvdHI+XFxuICAgIDwvdGFibGU+XFxuICA8L2Rpdj5cXG5cXG4gIDxtYy1wYWdpbmF0aW9uIHRvdGFsLWl0ZW1zPVxcXCJ2bS5wYWdpbmF0aW9uLmNvdW50XFxcIiBpdGVtcy1wZXItcGFnZT1cXFwidm0ucGFnaW5hdGlvbi5wYWdlU2l6ZVxcXCIgY3VycmVudC1wYWdlPVxcXCJ2bS5wYWdpbmF0aW9uLnBhZ2VcXFwiIHBhZ2UtY2hhbmdlPVxcXCJ2bS5wYWdlQ2hhbmdlZCgpXFxcIj48L21jLXBhZ2luYXRpb24+XFxuXFxuPC9zZWN0aW9uPlxcblxcblwiKTtcbiR0ZW1wbGF0ZUNhY2hlLnB1dChcIm1vZHVsZXMvbG9hbi9kZWNpc2lvbi9pbmRleC5odG1sXCIsXCI8c2VjdGlvbiBjbGFzcz1cXFwiY29udGVudC1oZWFkZXJcXFwiPlxcbiAgPGg0IGNsYXNzPVxcXCJ0aXRsZVxcXCI+6LS35qy+6L6F5Yqp5Yaz562W5L+h5oGv5L+u5q2jPC9oND5cXG48L3NlY3Rpb24+XFxuXFxuPHNlY3Rpb24gY2xhc3M9XFxcImNvbnRlbnQgYm9keS1jb250ZW50IGJsb2NrLXVpIGJsb2NrLXVpLW1lc3NhZ2UtY3VzdG9tXFxcIiBibG9jay11aT1cXFwibWFpblxcXCI+XFxuICA8Zm9ybSBuYW1lPVxcXCJGb3JtXFxcIiBjbGFzcz1cXFwiZm9ybS1ob3Jpem9udGFsXFxcIj5cXG5cXG4gICAgPGRpdiBjbGFzcz1cXFwiZm9ybS1ncm91cFxcXCIgbmctcmVwZWF0PVxcXCJwcm9qZWN0IGluIHZtLmxvYW5MaXN0XFxcIj5cXG4gICAgICA8ZGl2IGNsYXNzPVxcXCJjb2wtc20tMlxcXCIgc3R5bGU9XFxcIndpZHRoOjEwJVxcXCI+XFxuICAgICAgICA8bGFiZWwgY2xhc3M9XFxcImNvbnRyb2wtbGFiZWxcXFwiPuadoeS7tuWQjeensO+8mjwvbGFiZWw+XFxuICAgICAgPC9kaXY+XFxuICAgICAgPGRpdiBjbGFzcz1cXFwiY29sLXNtLTJcXFwiPlxcbiAgICAgICAgPGxhYmVsIGNsYXNzPVxcXCJjb250cm9sLWxhYmVsXFxcIj57e3Byb2plY3QudGl0bGV9fTwvbGFiZWw+XFxuICAgICAgPC9kaXY+XFxuICAgICAgPGRpdiBjbGFzcz1cXFwiY29sLXNtLTFcXFwiPlxcbiAgICAgICAgPGxhYmVsIGNsYXNzPVxcXCJjb250cm9sLWxhYmVsXFxcIj7lrZfmrrXlgLzvvJo8L2xhYmVsPlxcbiAgICAgIDwvZGl2PlxcbiAgICAgIDxkaXYgY2xhc3M9XFxcImNvbC1zbS0zXFxcIj5cXG4gICAgICAgICAgPGlucHV0IHR5cGU9XFxcInRleHRcXFwiIGNsYXNzPVxcXCJmb3JtLWNvbnRyb2xcXFwiIG5nLW1vZGVsPVxcXCJwcm9qZWN0LnZhbHVlXFxcIiB2YWxpZGF0b3I9XFxcInJlcXVpcmVkXFxcIj5cXG4gICAgICA8L2Rpdj5cXG4gICAgICA8ZGl2IGNsYXNzPVxcXCJjb2wtc20tMVxcXCI+XFxuICAgICAgICA8bGFiZWwgY2xhc3M9XFxcImNvbnRyb2wtbGFiZWxcXFwiPuWIhuaVsO+8mjwvbGFiZWw+XFxuICAgICAgPC9kaXY+XFxuICAgICAgPGRpdiBjbGFzcz1cXFwiY29sLXNtLTFcXFwiPlxcbiAgICAgICAgPGxhYmVsIGNsYXNzPVxcXCJjb250cm9sLWxhYmVsXFxcIj57e3Byb2plY3QucG9pbnR9fTwvbGFiZWw+XFxuICAgICAgPC9kaXY+XFxuICAgIDwvZGl2PlxcbiAgICA8ZGl2IGNsYXNzPVxcXCJmb3JtLWdyb3VwXFxcIj5cXG4gICAgICA8ZGl2IGNsYXNzPVxcXCJjb2wtc20tMVxcXCI+XFxuICAgICAgICA8bGFiZWwgY2xhc3M9XFxcImNvbnRyb2wtbGFiZWxcXFwiPuaAu+WIhu+8mjwvbGFiZWw+XFxuICAgICAgPC9kaXY+XFxuICAgICAgPGRpdiBjbGFzcz1cXFwiY29sLXNtLTJcXFwiPlxcbiAgICAgICAgPGxhYmVsIGNsYXNzPVxcXCJjb250cm9sLWxhYmVsXFxcIj57e3ZtLmdldFRvdGFsKCl9fTwvbGFiZWw+XFxuICAgICAgPC9kaXY+XFxuICAgIDwvZGl2PlxcbiAgPC9mb3JtPlxcbiAgPGRpdiBjbGFzcz1cXFwibS1sLXhsIG0tYi1tZFxcXCI+XFxuICAgIDxidXR0b24gY2xhc3M9XFxcImJ0biBidG4tcHJpbWFyeVxcXCIgbmctY2xpY2s9XFxcInZtLnJlQ291bnQoRm9ybSlcXFwiPumHjeaWsOiuoeeulzwvYnV0dG9uPlxcbiAgICA8YnV0dG9uIHR5cGU9XFxcImJ1dHRvblxcXCIgY2xhc3M9XFxcImJ0biBidG4tc3VjY2VzcyBidG4tc21cXFwiIG5nLWNsaWNrPVxcXCJ2bS5zdWJtaXQoRm9ybSlcXFwiPuS/neWtmDwvYnV0dG9uPlxcbiAgPC9kaXY+XFxuPC9zZWN0aW9uPlxcblwiKTtcbiR0ZW1wbGF0ZUNhY2hlLnB1dChcIm1vZHVsZXMvbG9hbi9saXN0L2luZGV4Lmh0bWxcIixcIjxzZWN0aW9uIGNsYXNzPVxcXCJjb250ZW50LWhlYWRlclxcXCI+XFxuICA8ZGl2IGNsYXNzPVxcXCJvcHRpb25zXFxcIj5cXG4gICAgPGRpdiBjbGFzcz1cXFwib3B0aW9uLWl0ZW0gb3B0aW9uLXRpbWVcXFwiPlxcbiAgICAgIDx1bCBjbGFzcz1cXFwiY2xlYXJmaXhcXFwiPlxcbiAgICAgICAgPGxpPlxcbiAgICAgICAgICA8ZGl2IGNsYXNzPVxcXCJpbnB1dC1ncm91cCBzZWFyY2gtYm94XFxcIj5cXG4gICAgICAgICAgICA8aW5wdXQgbmctbW9kZWw9XFxcInZtLmZpbHRlcnMubmFtZVxcXCIgdHlwZT1cXFwidGV4dFxcXCIgcGxhY2Vob2xkZXI9XFxcIuivt+i+k+afpeivolxcXCIgY2xhc3M9XFxcImZvcm0tY29udHJvbFxcXCJcXG4gICAgICAgICAgICAgICAgICAgIGNvZGU9XFxcIjEzXFxcIiBrZXktZXZlbnQ9XFxcInZtLnJlU2VhcmNoKCk7XFxcIj5cXG4gICAgICAgICAgICA8c3BhbiBjbGFzcz1cXFwiaW5wdXQtZ3JvdXAtYnRuXFxcIj5cXG4gICAgICAgICAgICAgIDxidXR0b24gbmctY2xpY2s9XFxcInZtLnJlU2VhcmNoKClcXFwiIGNsYXNzPVxcXCJidG4gYnRuLWRlZmF1bHQgc2VhcmNoXFxcIiB0eXBlPVxcXCJidXR0b25cXFwiPjxpIGNsYXNzPVxcXCJpY29uLXNlYXJjaFxcXCI+PC9pPjwvYnV0dG9uPlxcbiAgICAgICAgICAgIDwvc3Bhbj5cXG4gICAgICAgICAgPC9kaXY+XFxuICAgICAgICA8L2xpPlxcbiAgICAgIDwvdWw+XFxuICAgIDwvZGl2PlxcbiAgICA8IS0tIFxcbiAgICA8ZGl2IGNsYXNzPVxcXCJvcHRpb24taXRlbSBsYXJnZVxcXCI+XFxuICAgICAgPHNwYW4gY2xhc3M9XFxcIml0ZW0tdGl0bGUgdGV4dC1yaWdodFxcXCI+5Li755CG54q25oCB77yaPC9zcGFuPlxcbiAgICAgIDx1bCBjbGFzcz1cXFwiY2xlYXJmaXhcXFwiPlxcbiAgICAgICAgICA8bGk+XFxuICAgICAgICAgICAgICA8YSBocmVmPVxcXCJqYXZhc2NyaXB0OjtcXFwiIGNsYXNzPVxcXCJidG5cXFwiIG5nLWNsYXNzPVxcXCJ7XFwnYnRuLWRlZmF1bHRcXCc6IHZtLmZpbHRlcnMuZ2VuZGVyLCBcXCdidG4tdG9nZ2xlXFwnOiAhdm0uZmlsdGVycy5nZW5kZXIsIFxcJ2FjdGl2ZVxcJzogIXZtLmZpbHRlcnMuZ2VuZGVyfVxcXCIgbmctY2xpY2s9XFxcInZtLnN3aXRjaChcXCdnZW5kZXJcXCcpXFxcIj5cXG4gICAgICAgICAgICAgICAgICDlhajpg6hcXG4gICAgICAgICAgICAgIDwvYT5cXG4gICAgICAgICAgPC9saT5cXG4gICAgICAgICAgPGxpIG5nLXJlcGVhdD1cXFwiaXRlbSBpbiB2bS5yb2xlTWFpblN0YXR1c1xcXCI+XFxuICAgICAgICAgICAgICA8YSBocmVmPVxcXCJqYXZhc2NyaXB0OjtcXFwiIGNsYXNzPVxcXCJidG5cXFwiIG5nLWNsYXNzPVxcXCJ7XFwnYnRuLWRlZmF1bHRcXCc6IHZtLmZpbHRlcnMucm9sZV9hX2Rpc2FibGUgIT0gaXRlbS52YWx1ZSwgXFwnYnRuLXRvZ2dsZVxcJzogdm0uZmlsdGVycy5yb2xlX2FfZGlzYWJsZSA9PSBpdGVtLnZhbHVlLCBcXCdhY3RpdmVcXCc6IHZtLmZpbHRlcnMucm9sZV9hX2Rpc2FibGUgPT0gaXRlbS52YWx1ZX1cXFwiIG5nLWNsaWNrPVxcXCJ2bS5zd2l0Y2goXFwncm9sZV9hX2Rpc2FibGVcXCcsIGl0ZW0udmFsdWUpXFxcIj5cXG4gICAgICAgICAgICAgICAgICB7eyBpdGVtLmxhYmVsIH19XFxuICAgICAgICAgICAgICA8L2E+XFxuICAgICAgICAgIDwvbGk+XFxuICAgICAgPC91bD5cXG4gICAgPC9kaXY+XFxuICAgIDxkaXYgY2xhc3M9XFxcIm9wdGlvbi1pdGVtIGxhcmdlXFxcIj5cXG4gICAgICA8c3BhbiBjbGFzcz1cXFwiaXRlbS10aXRsZSB0ZXh0LXJpZ2h0XFxcIj7kvIHkuJrnirbmgIHvvJo8L3NwYW4+XFxuICAgICAgPHVsIGNsYXNzPVxcXCJjbGVhcmZpeFxcXCI+XFxuICAgICAgICAgIDxsaT5cXG4gICAgICAgICAgICAgIDxhIGhyZWY9XFxcImphdmFzY3JpcHQ6O1xcXCIgY2xhc3M9XFxcImJ0blxcXCIgbmctY2xhc3M9XFxcIntcXCdidG4tZGVmYXVsdFxcJzogdm0uZmlsdGVycy5zdGF0ZSAhPT0gdW5kZWZpbmVkLCBcXCdidG4tdG9nZ2xlXFwnOiB2bS5maWx0ZXJzLnN0YXRlID09PSB1bmRlZmluZWQsIFxcJ2FjdGl2ZVxcJzogdm0uZmlsdGVycy5zdGF0ZSA9PT0gdW5kZWZpbmVkfVxcXCIgbmctY2xpY2s9XFxcInZtLnN3aXRjaChcXCdzdGF0ZVxcJylcXFwiPlxcbiAgICAgICAgICAgICAgICAgIOWFqOmDqFxcbiAgICAgICAgICAgICAgPC9hPlxcbiAgICAgICAgICA8L2xpPlxcbiAgICAgICAgICA8bGkgbmctcmVwZWF0PVxcXCJpdGVtIGluIHZtLmVudGVycHJpc2VTdGF0ZUxpc3RcXFwiPlxcbiAgICAgICAgICAgICAgPGEgaHJlZj1cXFwiamF2YXNjcmlwdDo7XFxcIiBjbGFzcz1cXFwiYnRuXFxcIiBuZy1jbGFzcz1cXFwie1xcJ2J0bi1kZWZhdWx0XFwnOiB2bS5maWx0ZXJzLnN0YXRlICE9IGl0ZW0udmFsdWUsIFxcJ2J0bi10b2dnbGVcXCc6IHZtLmZpbHRlcnMuc3RhdGUgPT0gaXRlbS52YWx1ZSwgXFwnYWN0aXZlXFwnOiB2bS5maWx0ZXJzLnN0YXRlID09IGl0ZW0udmFsdWV9XFxcIiBuZy1jbGljaz1cXFwidm0uc3dpdGNoKFxcJ3N0YXRlXFwnLCBpdGVtLnZhbHVlKVxcXCI+XFxuICAgICAgICAgICAgICAgICAge3sgaXRlbS5sYWJlbCB9fVxcbiAgICAgICAgICAgICAgPC9hPlxcbiAgICAgICAgICA8L2xpPlxcbiAgICAgIDwvdWw+XFxuICAgIDwvZGl2PlxcbiAgICAtLT5cXG48L3NlY3Rpb24+XFxuXFxuPHNlY3Rpb24gY2xhc3M9XFxcImNvbnRlbnQgYm9keS1jb250ZW50IGJvZHktY29udGVudC1jb21wYWN0IGJsb2NrLXVpIGJsb2NrLXVpLW1lc3NhZ2UtY3VzdG9tXFxcIiBibG9jay11aT1cXFwibWFpblxcXCI+XFxuICA8ZW1wdHktdGlwIG5nLWlmPVxcXCJ2bS5saXN0Lmxlbmd0aCA9PT0gMFxcXCI+PC9lbXB0eS10aXA+XFxuXFxuICA8ZGl2IGNsYXNzPVxcXCJwYW5lbFxcXCIgbmctaWY9XFxcInZtLmxpc3QubGVuZ3RoID4gMFxcXCI+XFxuICAgIDx0YWJsZSBjbGFzcz1cXFwidGFibGUgdGFibGUtc3RyaXBlZCB0ZXh0LWNlbnRlclxcXCI+XFxuICAgICAgPHRyPlxcbiAgICAgICAgPHRoIGNsYXNzPVxcXCJjb2wtbS0xIHRleHQtY2VudGVyXFxcIj7kvIHkuJrlkI3np7A8L3RoPlxcbiAgICAgICAgPHRoIGNsYXNzPVxcXCJjb2wtbS0xIHRleHQtY2VudGVyXFxcIj7kvIHkuJrlnLDlnYA8L3RoPlxcbiAgICAgICAgPHRoIGNsYXNzPVxcXCJjb2wtbS0xIHRleHQtY2VudGVyXFxcIj7miYDlsZ7mnLrmnoQ8L3RoPlxcbiAgICAgICAgPHRoIGNsYXNzPVxcXCJjb2wtbS0xIHRleHQtY2VudGVyXFxcIj7or4TliIY8L3RoPlxcbiAgICAgICAgPHRoIGNsYXNzPVxcXCJjb2wtbS0xIHRleHQtY2VudGVyXFxcIj7kvIHkuJrnirbmgIE8L3RoPlxcbiAgICAgICAgPHRoIGNsYXNzPVxcXCJjb2wtbS0xIHRleHQtY2VudGVyXFxcIj7mk43kvZw8L3RoPlxcbiAgICAgIDwvdHI+XFxuICAgICAgPHRyIG5nLXJlcGVhdD1cXFwiaXRlbSBpbiB2bS5saXN0XFxcIj5cXG4gICAgICAgIDx0ZD57e2l0ZW0ubmFtZX19PC90ZD5cXG4gICAgICAgIDx0ZD57e2l0ZW0uYWRkcmVzc319PC90ZD5cXG4gICAgICAgIDx0ZD57e2l0ZW0uYmFuay5uYW1lfX08L3RkPlxcbiAgICAgICAgPHRkPnt7aXRlbS5sb2FuX3BvaW50c319PC90ZD5cXG4gICAgICAgIDx0ZD57e2l0ZW0uc3RhdGUgfCBmaWx0ZXJWYWx1ZTogdm0uZW50ZXJwcmlzZVN0YXRlTGlzdH19PC90ZD5cXG4gICAgICAgIDx0ZD5cXG4gICAgICAgICAgPGEgdWktc3JlZj1cXFwibG9hbi5kZWNpc2lvbih7aWQ6IGl0ZW0uaWR9KVxcXCI+5L+u5q2j5LyB5Lia6LS35qy+5L+h5oGvPC9hPlxcbiAgICAgICAgPC90ZD5cXG4gICAgICA8L3RyPlxcbiAgICA8L3RhYmxlPlxcbiAgPC9kaXY+XFxuXFxuICA8bWMtcGFnaW5hdGlvbiB0b3RhbC1pdGVtcz1cXFwidm0ucGFnaW5hdGlvbi5jb3VudFxcXCIgaXRlbXMtcGVyLXBhZ2U9XFxcInZtLnBhZ2luYXRpb24ucGFnZVNpemVcXFwiIGN1cnJlbnQtcGFnZT1cXFwidm0ucGFnaW5hdGlvbi5wYWdlXFxcIiBwYWdlLWNoYW5nZT1cXFwidm0ucGFnZUNoYW5nZWQoKVxcXCI+PC9tYy1wYWdpbmF0aW9uPlxcblxcbjwvc2VjdGlvbj5cXG5cIik7XG4kdGVtcGxhdGVDYWNoZS5wdXQoXCJtb2R1bGVzL2xvYW4vc2V0dGluZy9pbmRleC5odG1sXCIsXCI8c2VjdGlvbiBjbGFzcz1cXFwiY29udGVudC1oZWFkZXJcXFwiPlxcbiAgPGg0IGNsYXNzPVxcXCJ0aXRsZVxcXCI+6LS35qy+5Yaz562W5p2h5Lu26K6+572uPC9oND5cXG48L3NlY3Rpb24+XFxuXFxuPHNlY3Rpb24gY2xhc3M9XFxcImNvbnRlbnQgYm9keS1jb250ZW50IGJsb2NrLXVpIGJsb2NrLXVpLW1lc3NhZ2UtY3VzdG9tXFxcIiBibG9jay11aT1cXFwibWFpblxcXCI+XFxuICA8Zm9ybSBuYW1lPVxcXCJGb3JtXFxcIiBjbGFzcz1cXFwiZm9ybS1ob3Jpem9udGFsXFxcIj5cXG4gICAgPGRpdiBjbGFzcz1cXFwiZm9ybS1ncm91cFxcXCIgbmctcmVwZWF0LXN0YXJ0PVxcXCJsb2FuIGluIHZtLmxvYW5MaXN0XFxcIj5cXG4gICAgICA8ZGl2IGNsYXNzPVxcXCJjb2wtc20tMlxcXCI+XFxuICAgICAgICA8bGFiZWwgY2xhc3M9XFxcImNvbnRyb2wtbGFiZWxcXFwiPuadoeS7tuWIhuexu+WQjeensDwvbGFiZWw+XFxuICAgICAgPC9kaXY+XFxuICAgICAgPGRpdiBjbGFzcz1cXFwiY29sLXNtLTJcXFwiPlxcbiAgICAgICAgPGlucHV0IHR5cGU9XFxcInRleHRcXFwiIGNsYXNzPVxcXCJmb3JtLWNvbnRyb2xcXFwiIG5nLW1vZGVsPVxcXCJsb2FuLnRpdGxlXFxcIiB2YWxpZGF0b3I9XFxcInJlcXVpcmVkXFxcIj5cXG4gICAgICA8L2Rpdj5cXG4gICAgICA8ZGl2IGNsYXNzPVxcXCJjb2wtc20tMlxcXCI+XFxuICAgICAgICA8bGFiZWwgY2xhc3M9XFxcImNvbnRyb2wtbGFiZWxcXFwiPuWIhuexu+aAu+WIhjwvbGFiZWw+XFxuICAgICAgPC9kaXY+XFxuICAgICAgPGRpdiBjbGFzcz1cXFwiY29sLXNtLTJcXFwiPlxcbiAgICAgICAgPGlucHV0IHR5cGU9XFxcInRleHRcXFwiIGNsYXNzPVxcXCJmb3JtLWNvbnRyb2xcXFwiIG5nLW1vZGVsPVxcXCJsb2FuLnBvaW50XFxcIiB2YWxpZGF0b3I9XFxcInJlcXVpcmVkXFxcIj5cXG4gICAgICA8L2Rpdj5cXG4gICAgICA8ZGl2IGNsYXNzPVxcXCJjb2wtc20tMiB0ZXh0LXJpZ2h0XFxcIj5cXG4gICAgICAgICAgPGEgZGF0YS10YXJnZXQ9XFxcIiNwcm9qZWN0e3skaW5kZXh9fVxcXCIgZGF0YS10b2dnbGU9XFxcImNvbGxhcHNlXFxcIiBjbGFzcz1cXFwiYnRuIGJ0bi1saW5rXFxcIiBuZy1jbGljaz1cXFwidG9nZ2xlPSF0b2dnbGVcXFwiPjxzcGFuIG5nLWhpZGU9XFxcInRvZ2dsZVxcXCI+57yW6L6RIDxpIGNsYXNzPVxcXCJpY29uLWFycm93LWRvd24gc21hbGxcXFwiPjwvaT48L3NwYW4+PHNwYW4gbmctc2hvdz1cXFwidG9nZ2xlXFxcIj7mlLbotbcgPGkgY2xhc3M9XFxcImljb24tYXJyb3ctdXAgc21hbGxcXFwiPjwvaT48L3NwYW4+PC9pPjwvYT5cXG4gICAgICA8L2Rpdj5cXG4gICAgPC9kaXY+XFxuICAgIDxkaXYgaWQ9XFxcInByb2plY3R7eyRpbmRleH19XFxcIiBjbGFzcz1cXFwiY29sbGFwc2VcXFwiIG5nLXJlcGVhdC1lbmQ+XFxuICAgICAgPGRpdiBjbGFzcz1cXFwiZm9ybS1ncm91cFxcXCIgbmctcmVwZWF0PVxcXCJwcm9qZWN0IGluIGxvYW4uY29uZGl0aW9uX2xpc3RcXFwiPlxcbiAgICAgICAgPGRpdiBjbGFzcz1cXFwiY29sLXNtLTFcXFwiPlxcbiAgICAgICAgICA8bGFiZWwgY2xhc3M9XFxcImNvbnRyb2wtbGFiZWxcXFwiPuadoeS7tuWQjeensDwvbGFiZWw+XFxuICAgICAgICA8L2Rpdj5cXG4gICAgICAgIDxkaXYgY2xhc3M9XFxcImNvbC1zbS0yXFxcIj5cXG4gICAgICAgICAgPGlucHV0IHR5cGU9XFxcInRleHRcXFwiIGNsYXNzPVxcXCJmb3JtLWNvbnRyb2xcXFwiIG5nLW1vZGVsPVxcXCJwcm9qZWN0LnRpdGxlXFxcIiB2YWxpZGF0b3I9XFxcInJlcXVpcmVkXFxcIj5cXG4gICAgICAgIDwvZGl2PlxcbiAgICAgICAgPGRpdiBjbGFzcz1cXFwiY29sLXNtLTdcXFwiPlxcbiAgICAgICAgICA8ZGl2IGNsYXNzPVxcXCJjbGVhcmZpeFxcXCI+XFxuICAgICAgICAgICAgPGxhYmVsIGNsYXNzPVxcXCJjb2wtc20tMiBjb250cm9sLWxhYmVsXFxcIj7mnaHku7bnsbvlnos8L2xhYmVsPlxcbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XFxcImNvbC1zbS0yXFxcIj5cXG4gICAgICAgICAgICAgIDxkaXYgY2xhc3M9XFxcImJ0bi1ncm91cFxcXCI+XFxuICAgICAgICAgICAgICAgIDxidXR0b24gdHlwZT1cXFwiYnV0dG9uXFxcIiBjbGFzcz1cXFwiYnRuIGJ0bi1kZWZhdWx0IGRyb3Bkb3duLXRvZ2dsZVxcXCIgZGF0YS10b2dnbGU9XFxcImRyb3Bkb3duXFxcIiBhcmlhLWhhc3BvcHVwPVxcXCJ0cnVlXFxcIiBhcmlhLWV4cGFuZGVkPVxcXCJmYWxzZVxcXCI+XFxuICAgICAgICAgICAgICAgICAge3t2bS50eXBlTGlzdFtwcm9qZWN0Lm9wdGlvbl90eXBlXX19XFxuICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XFxcImNhcmV0XFxcIj48L3NwYW4+XFxuICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxcbiAgICAgICAgICAgICAgICA8dWwgY2xhc3M9XFxcImRyb3Bkb3duLW1lbnVcXFwiIHN0eWxlPVxcXCJtaW4td2lkdGg6IDYwcHhcXFwiPlxcbiAgICAgICAgICAgICAgICAgIDxsaT48YSBuZy1jbGljaz1cXFwicHJvamVjdC5vcHRpb25fdHlwZT1cXCdpbnRlZ2VyXFwnO3ZtLnR5cGVDaGFuZ2UocHJvamVjdClcXFwiIGhyZWY9XFxcImphdmFzY3JpcHQ6dm9pZCgwKVxcXCI+5pWw5YC8PC9hPjwvbGk+XFxuICAgICAgICAgICAgICAgICAgPGxpPjxhIG5nLWNsaWNrPVxcXCJwcm9qZWN0Lm9wdGlvbl90eXBlPVxcJ3N0cmluZ1xcJzt2bS50eXBlQ2hhbmdlKHByb2plY3QpXFxcIiBocmVmPVxcXCJqYXZhc2NyaXB0OnZvaWQoMClcXFwiPuaWh+acrDwvYT48L2xpPlxcbiAgICAgICAgICAgICAgICA8L3VsPlxcbiAgICAgICAgICAgICAgPC9kaXY+XFxuICAgICAgICAgICAgPC9kaXY+XFxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cXFwiY29sLXNtLTJcXFwiPlxcbiAgICAgICAgICAgICAgPGxhYmVsIGNsYXNzPVxcXCJjb250cm9sLWxhYmVsXFxcIj7pu5jorqTliIbmlbA8L2xhYmVsPlxcbiAgICAgICAgICAgIDwvZGl2PlxcbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XFxcImNvbC1zbS0yXFxcIj5cXG4gICAgICAgICAgICAgIDxpbnB1dCB0eXBlPVxcXCJ0ZXh0XFxcIiBjbGFzcz1cXFwiZm9ybS1jb250cm9sXFxcIiBuZy1tb2RlbD1cXFwicHJvamVjdC5kZWZhdWx0X3BvaW50XFxcIiB2YWxpZGF0b3I9XFxcInJlcXVpcmVkXFxcIj5cXG4gICAgICAgICAgICA8L2Rpdj5cXG4gICAgICAgICAgICA8IS0tIDxkaXYgY2xhc3M9XFxcImNvbC1zbS0yIHRleHQtY2VudGVyIHB1bGwtcmlnaHQgY29udHJvbC1sYWJlbFxcXCI+XFxuICAgICAgICAgICAgICA8YSBocmVmPVxcXCJqYXZhc2NyaXB0OnZvaWQoMCk7XFxcIiBuZy1jbGljaz1cXFwidm0uYWRkSXRlbShwcm9qZWN0KVxcXCI+5re75Yqg5a2X5q61PC9hPlxcbiAgICAgICAgICAgIDwvZGl2PiAtLT5cXG4gICAgICAgICAgPC9kaXY+XFxuICAgICAgICAgIDxkaXYgY2xhc3M9XFxcImZvcm0tZ3JvdXBcXFwiIG5nLXJlcGVhdD1cXFwiaXRlbSBpbiBwcm9qZWN0Lm9wdGlvbnNcXFwiIHN0eWxlPVxcXCJtYXJnaW46MHB4O1xcXCI+XFxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cXFwiY2xlYXJmaXggbS1iLXNtXFxcIj5cXG4gICAgICAgICAgICAgIDxsYWJlbCBjbGFzcz1cXFwiY29sLXNtLTEgY29udHJvbC1sYWJlbFxcXCIgc3R5bGU9XFxcIndpZHRoOiAxMCVcXFwiPuespuWPtzwvbGFiZWw+XFxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVxcXCJjb2wtc20tMlxcXCI+XFxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XFxcImJ0bi1ncm91cFxcXCI+XFxuICAgICAgICAgICAgICAgICAgPGJ1dHRvbiB0eXBlPVxcXCJidXR0b25cXFwiIGNsYXNzPVxcXCJidG4gYnRuLWRlZmF1bHQgZHJvcGRvd24tdG9nZ2xlXFxcIiBkYXRhLXRvZ2dsZT1cXFwiZHJvcGRvd25cXFwiIGFyaWEtaGFzcG9wdXA9XFxcInRydWVcXFwiIGFyaWEtZXhwYW5kZWQ9XFxcImZhbHNlXFxcIj5cXG4gICAgICAgICAgICAgICAgICAgIHt7dm0uY29uZGl0aW9uTGlzdFtwcm9qZWN0Lm9wdGlvbl90eXBlXVtpdGVtLmNvbmRpdGlvbl19fVxcbiAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XFxcImNhcmV0XFxcIj48L3NwYW4+XFxuICAgICAgICAgICAgICAgICAgPC9idXR0b24+XFxuICAgICAgICAgICAgICAgICAgPHVsIGNsYXNzPVxcXCJkcm9wZG93bi1tZW51XFxcIiBzdHlsZT1cXFwibWluLXdpZHRoOiA2MHB4XFxcIj5cXG4gICAgICAgICAgICAgICAgICAgIDxsaSBuZy1yZXBlYXQ9XFxcIihpZCwgY29uZGl0aW9uKSBpbiB2bS5jb25kaXRpb25MaXN0W3Byb2plY3Qub3B0aW9uX3R5cGVdXFxcIj48YSBuZy1jbGljaz1cXFwiaXRlbS5jb25kaXRpb249aWQ7XFxcIiBocmVmPVxcXCJqYXZhc2NyaXB0OnZvaWQoMClcXFwiPnt7Y29uZGl0aW9ufX08L2E+PC9saT5cXG4gICAgICAgICAgICAgICAgICA8L3VsPlxcbiAgICAgICAgICAgICAgICA8L2Rpdj5cXG4gICAgICAgICAgICAgIDwvZGl2PlxcbiAgICAgICAgICAgICAgPGxhYmVsIGNsYXNzPVxcXCJjb2wtc20tMSBjb250cm9sLWxhYmVsXFxcIiBzdHlsZT1cXFwid2lkdGg6IDEzJVxcXCI+5a2X5q615YC8PC9sYWJlbD5cXG4gICAgICAgICAgICAgIDxkaXYgY2xhc3M9XFxcImNvbC1zbS0zXFxcIj5cXG4gICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9XFxcInRleHRcXFwiIGNsYXNzPVxcXCJmb3JtLWNvbnRyb2xcXFwiIG5nLW1vZGVsPVxcXCJpdGVtLnZhbHVlXFxcIiB2YWxpZGF0b3I9XFxcInJlcXVpcmVkXFxcIj5cXG4gICAgICAgICAgICAgIDwvZGl2PlxcbiAgICAgICAgICAgICAgPGxhYmVsIGNsYXNzPVxcXCJjb2wtc20tMSBjb250cm9sLWxhYmVsXFxcIiBzdHlsZT1cXFwid2lkdGg6IDEwJVxcXCI+5YiG5pWwPC9sYWJlbD5cXG4gICAgICAgICAgICAgIDxkaXYgY2xhc3M9XFxcImNvbC1zbS0yXFxcIiBzdHlsZT1cXFwid2lkdGg6IDEyJVxcXCI+XFxuICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPVxcXCJ0ZXh0XFxcIiBjbGFzcz1cXFwiZm9ybS1jb250cm9sXFxcIiBuZy1tb2RlbD1cXFwiaXRlbS5wb2ludFxcXCIgdmFsaWRhdG9yPVxcXCJyZXF1aXJlZFxcXCI+XFxuICAgICAgICAgICAgICA8L2Rpdj5cXG4gICAgICAgICAgICAgIDxkaXYgY2xhc3M9XFxcImNvbC1zbS0xIGNvbnRyb2wtbGFiZWwgcHVsbC1yaWdodFxcXCIgc3R5bGU9XFxcIndpZHRoOiAxMCVcXFwiPlxcbiAgICAgICAgICAgICAgICA8YSBocmVmPVxcXCJqYXZhc2NyaXB0OnZvaWQoMCk7XFxcIiBjbGFzcz1cXFwidGV4dC1kYW5nZXJcXFwiIG5nLWNsaWNrPVxcXCJ2bS5kZWxldGVJdGVtKHByb2plY3QsICRpbmRleClcXFwiPuWIoOmZpDwvYT5cXG4gICAgICAgICAgICAgIDwvZGl2PlxcbiAgICAgICAgICAgIDwvZGl2PlxcbiAgICAgICAgICA8L2Rpdj5cXG4gICAgICAgICAgPGRpdiBjbGFzcz1cXFwiZm9ybS1ncm91cFxcXCI+XFxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cXFwiY29sLXNtLTQgdGV4dC1jZW50ZXIgcHVsbC1yaWdodCBjb250cm9sLWxhYmVsXFxcIj5cXG4gICAgICAgICAgICAgIDxhIGhyZWY9XFxcImphdmFzY3JpcHQ6dm9pZCgwKTtcXFwiIG5nLWNsaWNrPVxcXCJ2bS5hZGRJdGVtKHByb2plY3QpXFxcIj7mt7vliqDmnaHku7bpgInpobk8L2E+XFxuICAgICAgICAgICAgPC9kaXY+XFxuICAgICAgICAgIDwvZGl2PlxcbiAgICAgICAgPC9kaXY+XFxuICAgICAgICA8ZGl2IGNsYXNzPVxcXCJjb2wtc20tMVxcXCI+XFxuICAgICAgICAgIDxidXR0b24gY2xhc3M9XFxcImJ0biBidG4tZGFuZ2VyXFxcIiBuZy1jbGljaz1cXFwidm0uZGVsZXRlUHJvamVjdCgkaW5kZXgpXFxcIj7liKDpmaTmnaHku7Y8L2J1dHRvbj5cXG4gICAgICAgIDwvZGl2PlxcbiAgICAgIDwvZGl2PlxcbiAgICAgIDxkaXYgY2xhc3M9XFxcImZvcm0tZ3JvdXBcXFwiPlxcbiAgICAgICAgPGJ1dHRvbiBjbGFzcz1cXFwiYnRuIGJ0bi1kZWZhdWx0XFxcIiBuZy1jbGljaz1cXFwidm0uYWRkUHJvamVjdChsb2FuKVxcXCI+5re75Yqg5p2h5Lu2PC9idXR0b24+XFxuICAgICAgPC9kaXY+XFxuICAgIDwvZGl2PlxcbiAgICA8ZGl2IGNsYXNzPVxcXCJmb3JtLWdyb3VwXFxcIj5cXG4gICAgICA8YnV0dG9uIGNsYXNzPVxcXCJidG4gYnRuLWRlZmF1bHRcXFwiIG5nLWNsaWNrPVxcXCJ2bS5hZGRDb25kaXRpb24oKVxcXCI+5re75Yqg5YiG57G7PC9idXR0b24+XFxuICAgIDwvZGl2PlxcbiAgPC9mb3JtPlxcbiAgPGRpdiBjbGFzcz1cXFwibS1sLXhsIG0tYi1tZFxcXCI+XFxuICAgIDxidXR0b24gdHlwZT1cXFwiYnV0dG9uXFxcIiBjbGFzcz1cXFwiYnRuIGJ0bi1zdWNjZXNzIGJ0bi1zbVxcXCIgbmctY2xpY2s9XFxcInZtLnN1Ym1pdChGb3JtKVxcXCI+5L+d5a2YPC9idXR0b24+XFxuICA8L2Rpdj5cXG48L3NlY3Rpb24+XFxuXCIpO1xuJHRlbXBsYXRlQ2FjaGUucHV0KFwibW9kdWxlcy9sb2cvbGlzdC9pbmRleC5odG1sXCIsXCI8c2VjdGlvbiBjbGFzcz1cXFwiY29udGVudC1oZWFkZXJcXFwiPlxcbiAgPGRpdiBjbGFzcz1cXFwib3B0aW9uc1xcXCI+XFxuICAgIDxkaXYgY2xhc3M9XFxcIm9wdGlvbi1pdGVtIG9wdGlvbi10aW1lXFxcIj5cXG4gICAgICA8dWwgY2xhc3M9XFxcImNsZWFyZml4XFxcIj5cXG4gICAgICAgIDxsaT5cXG4gICAgICAgICAgPGRpdiBjbGFzcz1cXFwiaW5wdXQtZ3JvdXAgc2VhcmNoLWJveFxcXCI+XFxuICAgICAgICAgICAgPGlucHV0IG5nLW1vZGVsPVxcXCJ2bS5maWx0ZXJzLm1vZHVsZVxcXCIgdHlwZT1cXFwidGV4dFxcXCIgcGxhY2Vob2xkZXI9XFxcIuivt+i+k+aooeWdl+WQjeafpeivolxcXCIgY2xhc3M9XFxcImZvcm0tY29udHJvbFxcXCJcXG4gICAgICAgICAgICAgICAgICAgIGNvZGU9XFxcIjEzXFxcIiBrZXktZXZlbnQ9XFxcInZtLnJlU2VhcmNoKCk7XFxcIj5cXG4gICAgICAgICAgICA8c3BhbiBjbGFzcz1cXFwiaW5wdXQtZ3JvdXAtYnRuXFxcIj5cXG4gICAgICAgICAgICAgIDxidXR0b24gbmctY2xpY2s9XFxcInZtLnJlU2VhcmNoKClcXFwiIGNsYXNzPVxcXCJidG4gYnRuLWRlZmF1bHQgc2VhcmNoXFxcIiB0eXBlPVxcXCJidXR0b25cXFwiPjxpIGNsYXNzPVxcXCJpY29uLXNlYXJjaFxcXCI+PC9pPjwvYnV0dG9uPlxcbiAgICAgICAgICAgIDwvc3Bhbj5cXG4gICAgICAgICAgPC9kaXY+XFxuICAgICAgICA8L2xpPlxcbiAgICAgICAgPGxpPlxcbiAgICAgICAgICA8bWMtZGF0ZXBpY2tlciBpZD1cXFwic3RhcnREYXRlUGlja2VyXFxcIiBzdGFydC1kYXRlPVxcXCJ2bS5zdGFydF9kYXRlXFxcIiBtYXgtZGF0ZT1cXFwidm0uc3RhcnRUaW1lTWF4TGltaXRcXFwiIHRpbWUtc291cmNlPVxcXCJcXFwiIGN0cmwtYWxpYXM9XFxcInZtXFxcIiBtaW4tdmlldz1cXFwiXFwnbWludXRlc1xcJ1xcXCIgY2hhbmdlLXRpbWU9XFxcInZtLmNoYW5nZVRpbWUoXFwnc3RhcnRcXCcpXFxcIiBjaGFuZ2UtYnk9XFxcImNsb3NlXFxcIj48L21jLWRhdGVwaWNrZXI+IC0tXFxuICAgICAgICAgIDxtYy1kYXRlcGlja2VyIGlkPVxcXCJlbmREYXRlUGlja2VyXFxcIiBzdGFydC1kYXRlPVxcXCJ2bS5lbmRfZGF0ZVxcXCIgbWluLWRhdGU9XFxcInZtLmVuZFRpbWVNaW5MaW1pdFxcXCIgbWF4LWRhdGU9XFxcInZtLmVuZFRpbWVNYXhMaW1pdFxcXCIgdGltZS1zb3VyY2U9XFxcIlxcXCIgY3RybC1hbGlhcz1cXFwidm1cXFwiIG1pbi12aWV3PVxcXCJcXCdtaW51dGVzXFwnXFxcIiBjaGFuZ2UtdGltZT1cXFwidm0uY2hhbmdlVGltZShcXCdlbmRcXCcpXFxcIiBjaGFuZ2UtYnk9XFxcImNsb3NlXFxcIj48L21jLWRhdGVwaWNrZXI+XFxuICAgICAgICA8L2xpPlxcbiAgICAgIDwvdWw+XFxuICAgIDwvZGl2Plxcbjwvc2VjdGlvbj5cXG5cXG48c2VjdGlvbiBjbGFzcz1cXFwiY29udGVudCBib2R5LWNvbnRlbnQgYm9keS1jb250ZW50LWNvbXBhY3QgYmxvY2stdWkgYmxvY2stdWktbWVzc2FnZS1jdXN0b21cXFwiIGJsb2NrLXVpPVxcXCJtYWluXFxcIj5cXG4gIDxlbXB0eS10aXAgbmctaWY9XFxcInZtLmxpc3QubGVuZ3RoID09PSAwXFxcIj48L2VtcHR5LXRpcD5cXG5cXG4gIDxkaXYgY2xhc3M9XFxcInBhbmVsXFxcIj5cXG4gICAgPHRhYmxlIGNsYXNzPVxcXCJ0YWJsZSB0YWJsZS1zdHJpcGVkIHRleHQtY2VudGVyXFxcIj5cXG4gICAgICA8dHI+XFxuICAgICAgICA8dGggY2xhc3M9XFxcImNvbC1tLTEgdGV4dC1jZW50ZXJcXFwiPuaXtumXtDwvdGg+XFxuICAgICAgICA8dGggY2xhc3M9XFxcImNvbC1tLTEgdGV4dC1jZW50ZXJcXFwiPuaooeWdlzwvdGg+XFxuICAgICAgICA8dGggY2xhc3M9XFxcImNvbC1tLTEgdGV4dC1jZW50ZXJcXFwiPuaTjeS9nDwvdGg+XFxuICAgICAgICA8dGggY2xhc3M9XFxcImNvbC1tLTEgdGV4dC1jZW50ZXJcXFwiPuaTjeS9nOWPguaVsDwvdGg+XFxuICAgICAgICA8dGggY2xhc3M9XFxcImNvbC1tLTEgdGV4dC1jZW50ZXJcXFwiPuaTjeS9nOS6ujwvdGg+XFxuICAgICAgPC90cj5cXG4gICAgICA8dHIgbmctcmVwZWF0PVxcXCJpdGVtIGluIHZtLmxpc3RcXFwiPlxcbiAgICAgICAgPHRkPnt7aXRlbS5jcmVhdGVkfX08L3RkPlxcbiAgICAgICAgPHRkPnt7aXRlbS5tb2R1bGV9fTwvdGQ+XFxuICAgICAgICA8dGQ+e3tpdGVtLmFjdGlvbn19PC90ZD5cXG4gICAgICAgIDx0ZD57e2l0ZW0uZGF0YX19PC90ZD5cXG4gICAgICAgIDx0ZD57e2l0ZW0ub3BlcmF0b3J9fTwvdGQ+XFxuICAgICAgPC90cj5cXG4gICAgPC90YWJsZT5cXG4gIDwvZGl2PlxcblxcbiAgPG1jLXBhZ2luYXRpb24gdG90YWwtaXRlbXM9XFxcInZtLnBhZ2luYXRpb24uY291bnRcXFwiIGl0ZW1zLXBlci1wYWdlPVxcXCJ2bS5wYWdpbmF0aW9uLnBhZ2VTaXplXFxcIiBjdXJyZW50LXBhZ2U9XFxcInZtLnBhZ2luYXRpb24ucGFnZVxcXCIgcGFnZS1jaGFuZ2U9XFxcInZtLnBhZ2VDaGFuZ2VkKClcXFwiPjwvbWMtcGFnaW5hdGlvbj5cXG5cXG48L3NlY3Rpb24+XFxuXCIpO1xuJHRlbXBsYXRlQ2FjaGUucHV0KFwibW9kdWxlcy9tZXNzYWdlL2RldGFpbC9pbmRleC5odG1sXCIsXCI8c2VjdGlvbiBjbGFzcz1cXFwiY29udGVudC1oZWFkZXIgY2xlYXJmaXhcXFwiPlxcbiAgPGg0IGNsYXNzPVxcXCJ0aXRsZSBwdWxsLWxlZnRcXFwiPlxcbiAgICB7e3ZtLmluZm8udGl0bGV9fVxcbiAgPC9oND5cXG4gIDxhIGhyZWY9XFxcImphdmFzY3JpcHQ6dm9pZCgwKVxcXCIgY2xhc3M9XFxcImJ0biBidG4tZGVmYXVsdCBwdWxsLXJpZ2h0XFxcIiBuZy1jbGljaz1cXFwiJHJvb3QuYmFjaygpO1xcXCI+6L+U5ZuePC9hPlxcbiAgPGJ1dHRvbiB0eXBlPVxcXCJidXR0b25cXFwiIGNsYXNzPVxcXCJidG4gYnRuLWRhbmdlciBwdWxsLXJpZ2h0IG0tclxcXCIgbmctY2xpY2s9XFxcInZtLmRlbGV0ZSgpXFxcIj7liKDpmaQ8L2J1dHRvbj5cXG48L3NlY3Rpb24+XFxuPHNlY3Rpb24gY2xhc3M9XFxcImNvbnRlbnQgYm9keS1jb250ZW50IGJsb2NrLXVpIGJsb2NrLXVpLW1lc3NhZ2UtY3VzdG9tIG1lc3NhZ2UtZGV0YWlsIHAtbVxcXCIgYmxvY2stdWk9XFxcIm1haW5cXFwiPlxcbjxoNT7lhoXlrrnvvJo8L2g1PlxcbjxwPnt7dm0uaW5mby5jb250ZW50fX08L3A+XFxuPGRpdiBuZy1pZj1cXFwidm0uaW5mby5saW5rXFxcIj5cXG4gIDxhIGhyZWY9XFxcInt7dm0uaW5mby5saW5rfX1cXFwiPueCueatpOafpeecizwvYT5cXG48L2Rpdj5cXG48L3NlY3Rpb24+XCIpO1xuJHRlbXBsYXRlQ2FjaGUucHV0KFwibW9kdWxlcy9tZXNzYWdlL2xpc3QvdGVtcGxhdGUuaHRtbFwiLFwiPHNlY3Rpb24gY2xhc3M9XFxcImNvbnRlbnQtaGVhZGVyXFxcIj5cXG4gIDxoNCBjbGFzcz1cXFwidGl0bGVcXFwiPua2iOaBr+WIl+ihqDwvaDQ+XFxuPC9zZWN0aW9uPlxcblxcbjxzZWN0aW9uIGNsYXNzPVxcXCJjb250ZW50IGJvZHktY29udGVudCBib2R5LWNvbnRlbnQtY29tcGFjdCBibG9jay11aSBibG9jay11aS1tZXNzYWdlLWN1c3RvbSBtZXNzYWdlLWxpc3RcXFwiIGJsb2NrLXVpPVxcXCJtYWluXFxcIj5cXG4gIDxlbXB0eS10aXAgbmctaWY9XFxcInZtLmxpc3QubGVuZ3RoID09PSAwXFxcIj48L2VtcHR5LXRpcD5cXG5cXG4gIDxkaXYgY2xhc3M9XFxcInBhbmVsXFxcIiBuZy1pZj1cXFwidm0ubGlzdC5sZW5ndGggPiAwXFxcIj5cXG4gICAgPHRhYmxlIGNsYXNzPVxcXCJ0YWJsZSB0YWJsZS1zdHJpcGVkIHRleHQtY2VudGVyXFxcIj5cXG4gICAgICA8dHI+XFxuICAgICAgICA8dGggY2xhc3M9XFxcImNvbC1tLTEgdGV4dC1jZW50ZXJcXFwiPlxcbiAgICAgICAgICA8IS0tIDxsYWJlbCBjbGFzcz1cXFwibWMtcmFkaW9cXFwiPlxcbiAgICAgICAgICAgIDxpbnB1dCB0eXBlPVxcXCJjaGVja2JveFxcXCIgbmctbW9kZWw9XFxcInZtLnNlbGVjdEFsbFxcXCIgbmctY2hhbmdlPVxcXCJ2bS50b2dnbGVBbGwoKVxcXCIgLz5cXG4gICAgICAgICAgICA8aSBjbGFzcz1cXFwiaWNvbi1jaGVja1xcXCI+PC9pPlxcbiAgICAgICAgICA8L2xhYmVsPiAtLT5cXG4gICAgICAgIDwvdGg+XFxuICAgICAgICA8dGggY2xhc3M9XFxcImNvbC1tLTEwIHRleHQtbGVmdFxcXCI+5qCH6aKYPC90aD5cXG4gICAgICAgIDx0aCBjbGFzcz1cXFwiY29sLW0tMSB0ZXh0LWNlbnRlclxcXCI+PC90aD5cXG4gICAgICA8L3RyPlxcbiAgICAgIDx0ciBuZy1yZXBlYXQ9XFxcIml0ZW0gaW4gdm0ubGlzdFxcXCI+XFxuICAgICAgICA8dGQ+XFxuICAgICAgICAgIDwhLS0gPGxhYmVsIGNsYXNzPVxcXCJtYy1yYWRpb1xcXCI+XFxuICAgICAgICAgICAgPGlucHV0IHR5cGU9XFxcImNoZWNrYm94XFxcIiBuZy1tb2RlbD1cXFwiaXRlbS5jaGVja2VkXFxcIiBuZy1jaGFuZ2U9XFxcInZtLmNoZWNrQWxsKClcXFwiIC8+XFxuICAgICAgICAgICAgPGkgY2xhc3M9XFxcImljb24tY2hlY2tcXFwiPjwvaT5cXG4gICAgICAgICAgPC9sYWJlbD4gLS0+XFxuICAgICAgICA8L3RkPlxcbiAgICAgICAgPHRkIGNsYXNzPVxcXCJ0ZXh0LWxlZnRcXFwiPlxcbiAgICAgICAgICA8YSB1aS1zcmVmPVxcXCJtZXNzYWdlLmRldGFpbCh7aWQ6IGl0ZW0uaWR9KVxcXCIgc3R5bGU9XFxcImNvbG9yOiAjMzIzMjMyO1xcXCI+XFxuICAgICAgICAgICAgPHN0cm9uZyBuZy1pZj1cXFwiaXRlbS5zdGF0ZSA9PT0gMFxcXCI+e3tpdGVtLnRpdGxlfX08L3N0cm9uZz5cXG4gICAgICAgICAgICA8c3BhbiBuZy1pZj1cXFwiaXRlbS5zdGF0ZSAhPT0gMFxcXCI+e3tpdGVtLnRpdGxlfX08L3NwYW4+XFxuICAgICAgICAgIDwvYT5cXG4gICAgICAgIDwvdGQ+XFxuICAgICAgICA8dGQ+PGEgdWktc3JlZj1cXFwibWVzc2FnZS5kZXRhaWwoe2lkOiBpdGVtLmlkfSlcXFwiPuafpeecizxpIGNsYXNzPVxcXCJpY29uLWFuZ2xlLXJpZ2h0XFxcIj48L2k+PC9hPjwvdGQ+XFxuICAgICAgPC90cj5cXG4gICAgPC90YWJsZT5cXG4gIDwvZGl2PlxcbjwhLS0gICA8ZGl2PlxcbiAgICA8YnV0dG9uIHR5cGU9XFxcImJ1dHRvblxcXCIgY2xhc3M9XFxcImJ0biBidG4tZGVmYXVsdFxcXCIgbmctY2xpY2s9XFxcInZtLm1hcmtlZFJlYWQoKVxcXCI+5qCH6K6w5bey6K+7PC9idXR0b24+XFxuICAgIDxidXR0b24gdHlwZT1cXFwiYnV0dG9uXFxcIiBjbGFzcz1cXFwiYnRuIGJ0bi1kYW5nZXJcXFwiIG5nLWNsaWNrPVxcXCJ2bS5kZWxldGUoKVxcXCI+5Yig6ZmkPC9idXR0b24+XFxuICA8L2Rpdj4gLS0+XFxuXFxuICA8bWMtcGFnaW5hdGlvbiB0b3RhbC1pdGVtcz1cXFwidm0ucGFnaW5hdGlvbi5jb3VudFxcXCIgaXRlbXMtcGVyLXBhZ2U9XFxcInZtLnBhZ2luYXRpb24ucGFnZVNpemVcXFwiIGN1cnJlbnQtcGFnZT1cXFwidm0ucGFnaW5hdGlvbi5wYWdlXFxcIiBwYWdlLWNoYW5nZT1cXFwidm0ucGFnZUNoYW5nZWQoKVxcXCI+PC9tYy1wYWdpbmF0aW9uPlxcblxcbjwvc2VjdGlvbj5cXG5cIik7XG4kdGVtcGxhdGVDYWNoZS5wdXQoXCJtb2R1bGVzL3BlcnNvbi9kZXRhaWwvaW5kZXguaHRtbFwiLFwiPHNlY3Rpb24gY2xhc3M9XFxcImNvbnRlbnQtaGVhZGVyIGNsZWFyZml4XFxcIj5cXG4gICAgPGRpdiBjbGFzcz1cXFwicGFnZS1oZWFkZXJcXFwiPjxoND7otYTmlpnorr7nva48L2g0PjwvZGl2PlxcbiAgICA8ZGl2IGNsYXNzPVxcXCJmb3JtLWhvcml6b250YWxcXFwiPlxcbiAgICAgICAgPGRpdiBjbGFzcz1cXFwiZm9ybS1ncm91cFxcXCI+XFxuICAgICAgICAgICAgPGxhYmVsIGZvcj1cXFwiaW5wdXROYW1lXFxcIiBjbGFzcz1cXFwiY29sLXNtLTIgY29udHJvbC1sYWJlbFxcXCI+5aeT5ZCNPC9sYWJlbD5cXG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVxcXCJjb2wtc20tMlxcXCI+XFxuICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPVxcXCJ0ZXh0XFxcIiBjbGFzcz1cXFwiZm9ybS1jb250cm9sXFxcIiBpZD1cXFwiaW5wdXROYW1lXFxcIiBuZy1tb2RlbD1cXFwidm0ucGVyc29uLnRydWVfbmFtZVxcXCIgcGxhY2Vob2xkZXI9XFxcIlxcXCI+XFxuICAgICAgICAgICAgPC9kaXY+XFxuICAgICAgICA8L2Rpdj5cXG4gICAgICAgIDxkaXYgY2xhc3M9XFxcImZvcm0tZ3JvdXBcXFwiPlxcbiAgICAgICAgICAgIDxsYWJlbCBmb3I9XFxcImlucHV0UGhvbmVcXFwiIGNsYXNzPVxcXCJjb2wtc20tMiBjb250cm9sLWxhYmVsXFxcIj7miYvmnLrlj7c8L2xhYmVsPlxcbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XFxcImNvbC1zbS00XFxcIj5cXG4gICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9XFxcInRleHRcXFwiIGNsYXNzPVxcXCJmb3JtLWNvbnRyb2xcXFwiIGlkPVxcXCJpbnB1dFBob25lXFxcIiBuZy1tb2RlbD1cXFwidm0ucGVyc29uLnBob25lXFxcIiBwbGFjZWhvbGRlcj1cXFwiXFxcIj5cXG4gICAgICAgICAgICA8L2Rpdj5cXG4gICAgICAgIDwvZGl2PlxcbiAgICAgICAgPGRpdiBjbGFzcz1cXFwiZm9ybS1ncm91cFxcXCI+XFxuICAgICAgICAgICAgPGxhYmVsIGZvcj1cXFwiaW5wdXRQd2RcXFwiIGNsYXNzPVxcXCJjb2wtc20tMiBjb250cm9sLWxhYmVsXFxcIj7mlrDlr4bnoIE8L2xhYmVsPlxcbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XFxcImNvbC1zbS00XFxcIj5cXG4gICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9XFxcInRleHRcXFwiIGNsYXNzPVxcXCJmb3JtLWNvbnRyb2xcXFwiIGlkPVxcXCJpbnB1dFB3ZFxcXCIgbmctbW9kZWw9XFxcInZtLnBlcnNvbi5uZXdfcGFzc3dvcmRcXFwiIHBsYWNlaG9sZGVyPVxcXCJcXFwiPlxcbiAgICAgICAgICAgIDwvZGl2PlxcbiAgICAgICAgPC9kaXY+XFxuICAgICAgICA8ZGl2IGNsYXNzPVxcXCJmb3JtLWdyb3VwXFxcIj5cXG4gICAgICAgICAgICA8bGFiZWwgZm9yPVxcXCJcXFwiIGNsYXNzPVxcXCJjb2wtc20tMiBjb250cm9sLWxhYmVsXFxcIj7op5LoibLkv6Hmga88L2xhYmVsPlxcbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XFxcImJ0bi1ncm91cCBjb2wtc20tMlxcXCI+XFxuICAgICAgICAgICAgICA8YnV0dG9uIHR5cGU9XFxcImJ1dHRvblxcXCIgY2xhc3M9XFxcImJ0biBidG4tZGVmYXVsdCBkcm9wZG93bi10b2dnbGVcXFwiIGRhdGEtdG9nZ2xlPVxcXCJkcm9wZG93blxcXCIgYXJpYS1oYXNwb3B1cD1cXFwidHJ1ZVxcXCIgYXJpYS1leHBhbmRlZD1cXFwiZmFsc2VcXFwiPlxcbiAgICAgICAgICAgICAgICB7e3ZtLnBlcnNvbi5yb2xlX25hbWV9fVxcbiAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cXFwiY2FyZXRcXFwiPjwvc3Bhbj5cXG4gICAgICAgICAgICAgIDwvYnV0dG9uPlxcbiAgICAgICAgICAgICAgPHVsIGNsYXNzPVxcXCJkcm9wZG93bi1tZW51XFxcIj5cXG4gICAgICAgICAgICAgICAgPGxpIG5nLXJlcGVhdD1cXFwicm9sZSBpbiB2bS5yb2xlTGlzdFxcXCI+PGEgbmctY2xpY2s9XFxcInZtLnBlcnNvbi5yb2xlX25hbWU9cm9sZS5uYW1lO3ZtLnBlcnNvbi5yb2xlPXJvbGUudmFsdWVcXFwiIGhyZWY9XFxcImphdmFzY3JpcHQ6dm9pZCgwKVxcXCI+e3tyb2xlLm5hbWV9fTwvYT48L2xpPlxcbiAgICAgICAgICAgICAgPC91bD5cXG4gICAgICAgICAgICA8L2Rpdj5cXG4gICAgICAgIDwvZGl2PlxcbiAgICAgICAgPGRpdiBjbGFzcz1cXFwiZm9ybS1ncm91cFxcXCI+XFxuICAgICAgICAgICAgPGxhYmVsIGZvcj1cXFwiXFxcIiBjbGFzcz1cXFwiY29sLXNtLTIgY29udHJvbC1sYWJlbFxcXCI+55So5oi354q25oCBPC9sYWJlbD5cXG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVxcXCJidG4tZ3JvdXAgY29sLXNtLTJcXFwiPlxcbiAgICAgICAgICAgICAgPGJ1dHRvbiB0eXBlPVxcXCJidXR0b25cXFwiIGNsYXNzPVxcXCJidG4gYnRuLWRlZmF1bHQgZHJvcGRvd24tdG9nZ2xlXFxcIiBkYXRhLXRvZ2dsZT1cXFwiZHJvcGRvd25cXFwiIGFyaWEtaGFzcG9wdXA9XFxcInRydWVcXFwiIGFyaWEtZXhwYW5kZWQ9XFxcImZhbHNlXFxcIj5cXG4gICAgICAgICAgICAgICAge3t2bS5zdGF0ZUFyclt2bS5wZXJzb24uc3RhdGVdfX1cXG4gICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XFxcImNhcmV0XFxcIj48L3NwYW4+XFxuICAgICAgICAgICAgICA8L2J1dHRvbj5cXG4gICAgICAgICAgICAgIDx1bCBjbGFzcz1cXFwiZHJvcGRvd24tbWVudVxcXCI+XFxuICAgICAgICAgICAgICAgIDxsaT48YSBuZy1jbGljaz1cXFwidm0ucGVyc29uLnN0YXRlPTBcXFwiIGhyZWY9XFxcImphdmFzY3JpcHQ6dm9pZCgwKVxcXCI+5pyq5r+A5rS7PC9hPjwvbGk+XFxuICAgICAgICAgICAgICAgIDxsaT48YSBuZy1jbGljaz1cXFwidm0ucGVyc29uLnN0YXRlPTFcXFwiIGhyZWY9XFxcImphdmFzY3JpcHQ6dm9pZCgwKVxcXCI+5q2j5bi4PC9hPjwvbGk+XFxuICAgICAgICAgICAgICAgIDxsaT48YSBuZy1jbGljaz1cXFwidm0ucGVyc29uLnN0YXRlPTJcXFwiIGhyZWY9XFxcImphdmFzY3JpcHQ6dm9pZCgwKVxcXCI+5bey5Ya757uTPC9hPjwvbGk+XFxuICAgICAgICAgICAgICAgIDxsaT48YSBuZy1jbGljaz1cXFwidm0ucGVyc29uLnN0YXRlPTNcXFwiIGhyZWY9XFxcImphdmFzY3JpcHQ6dm9pZCgwKVxcXCI+5bey5Yig6ZmkPC9hPjwvbGk+XFxuICAgICAgICAgICAgICA8L3VsPlxcbiAgICAgICAgICAgIDwvZGl2PlxcbiAgICAgICAgPC9kaXY+XFxuICAgICAgICA8ZGl2IGNsYXNzPVxcXCJmb3JtLWdyb3VwXFxcIj5cXG4gICAgICAgICAgICA8YnV0dG9uIHR5cGU9XFxcImJ1dHRvblxcXCIgbmctY2xpY2s9XFxcInZtLnNldFVzZXIoKVxcXCIgY2xhc3M9XFxcImJ0biBidG4tc3VjY2Vzc1xcXCI+5o+Q5LqkPC9idXR0b24+XFxuICAgICAgICA8L2Rpdj5cXG4gICAgPC9kaXY+XFxuXFxuPC9zZWN0aW9uPlwiKTtcbiR0ZW1wbGF0ZUNhY2hlLnB1dChcIm1vZHVsZXMvcHJvY2Vzcy9hZGQvaW5kZXguaHRtbFwiLFwiPHNlY3Rpb24gY2xhc3M9XFxcImNvbnRlbnQtaGVhZGVyIGNsZWFyZml4XFxcIj5cXG4gIDxoNCBjbGFzcz1cXFwidGl0bGUgcHVsbC1sZWZ0XFxcIj5cXG4gICAge3t2bS5pZD8gXFwn57yW6L6RXFwnOiBcXCfmt7vliqBcXCd9feivneacr1xcbiAgPC9oND5cXG4gIDxhIGhyZWY9XFxcImphdmFzY3JpcHQ6dm9pZCgwKVxcXCIgY2xhc3M9XFxcImJ0biBidG4tZGVmYXVsdCBwdWxsLXJpZ2h0XFxcIiBuZy1jbGljaz1cXFwiJHJvb3QuYmFjaygpO1xcXCI+6L+U5ZuePC9hPlxcbiAgPGJ1dHRvbiB0eXBlPVxcXCJidXR0b25cXFwiIGNsYXNzPVxcXCJidG4gYnRuLWRhbmdlciBwdWxsLXJpZ2h0IG0tclxcXCIgbmctY2xpY2s9XFxcInZtLmRlbGV0ZSh2bS5Gb3JtKVxcXCIgbmctaWY9XFxcInZtLmlkXFxcIj7liKDpmaQ8L2J1dHRvbj5cXG48L3NlY3Rpb24+XFxuPHNlY3Rpb24gY2xhc3M9XFxcImNvbnRlbnQgYm9keS1jb250ZW50IGJsb2NrLXVpIGJsb2NrLXVpLW1lc3NhZ2UtY3VzdG9tIG1lc3NhZ2UtZGV0YWlsIHAtbVxcXCIgYmxvY2stdWk9XFxcIm1haW5cXFwiPlxcblx0PGZvcm0gY2xhc3M9XFxcImZvcm0taG9yaXpvbnRhbFxcXCIgbmFtZT1cXFwidm0uRm9ybVxcXCI+XFxuICAgIDxkaXYgY2xhc3M9XFxcImZvcm0tZ3JvdXAgY2xlYXJmaXhcXFwiPlxcbiAgICAgIDxsYWJlbCBmb3I9XFxcIm5vdGVJbnB1dFxcXCIgY2xhc3M9XFxcImNvbC1zbS0xIGNvbnRyb2wtbGFiZWxcXFwiPuagh+mimO+8mjwvbGFiZWw+XFxuICAgICAgPGRpdiBjbGFzcz1cXFwiY29sLXNtLTVcXFwiPlxcbiAgICAgICAgPGlucHV0IHR5cGU9XFxcInRleHRcXFwiIGNsYXNzPVxcXCJmb3JtLWNvbnRyb2xcXFwiIG5nLW1vZGVsPVxcXCJ2bS5pbnB1dEluZm8udGl0bGVcXFwiIHBsYWNlaG9sZGVyPVxcXCLor7fovpPlhaVcXFwiXFxuICAgICAgICAgIHZhbGlkYXRvcj1cXFwicmVxdWlyZWRcXFwiPlxcbiAgICAgIDwvZGl2PlxcbiAgICA8L2Rpdj5cXG4gICAgPGRpdiBjbGFzcz1cXFwiZm9ybS1ncm91cCBjbGVhcmZpeFxcXCI+XFxuXHQgICAgPGRpdiBjbGFzcz1cXFwiY2xlYXJmaXhcXFwiPlxcblx0ICAgICAgPGxhYmVsIGZvcj1cXFwibm90ZUlucHV0XFxcIiBjbGFzcz1cXFwiY29sLXNtLTEgY29udHJvbC1sYWJlbFxcXCI+5YaF5a6577yaPC9sYWJlbD5cXG4gICAgICA8L2Rpdj5cXG4gICAgXHQ8ZGl2IGNsYXNzPVxcXCJjb2wtc20tNlxcXCI+XFxuXHRcdFx0XHQ8bWRlZGl0b3IgZGVmYXVsdC10ZXh0PVxcXCJ2bS5kZWZhdWx0Q29udGVudFxcXCIgdGV4dD1cXFwidm0uaW5wdXRJbmZvLmNvbnRlbnRcXFwiPjwvbWRlZGl0b3I+XFxuXHRcdFx0XHQ8aW5wdXQgdHlwZT1cXFwiaGlkZGVuXFxcIiBuZy1tb2RlbD1cXFwidm0uaW5wdXRJbmZvLmNvbnRlbnRcXFwiIHZhbGlkYXRvcj1cXFwicmVxdWlyZWRcXFwiIC8+XFxuXHRcdFx0PC9kaXY+XFxuXHRcdFx0PGRpdiBjbGFzcz1cXFwiY29sLXNtLTZcXFwiPlxcblx0XHRcdFx0PGg1PuWGheWuuemihOiniDwvaDU+XFxuXHRcdFx0XHQ8cCBuZy1iaW5kLWh0bWw9XFxcInZtLmh0bWxcXFwiIHN0eWxlPVxcXCJiYWNrZ3JvdW5kOiAjZmZmOyBoZWlnaHQ6IDMwNnB4OyBvdmVyZmxvdzogYXV0bzsgYm9yZGVyOiAxcHggc29saWQgI2RkZDsgcGFkZGluZzogNXB4O1xcXCI+PC9wPlxcblx0XHRcdDwvZGl2PlxcbiAgICA8L2Rpdj5cXG4gICAgXFxuICA8L2Zvcm0+XFxuICA8ZGl2IGNsYXNzPVxcXCJtb2RhbC1mb290ZXJcXFwiPlxcbiAgICA8YnV0dG9uIHR5cGU9XFxcImJ1dHRvblxcXCIgY2xhc3M9XFxcImJ0biBidG4tc3VjY2VzcyBidG4tc21cXFwiIG5nLWNsaWNrPVxcXCJ2bS5zdWJtaXQodm0uRm9ybSlcXFwiPiDkv53lrZg8L2J1dHRvbj5cXG4gIDwvZGl2Plxcbjwvc2VjdGlvbj5cIik7XG4kdGVtcGxhdGVDYWNoZS5wdXQoXCJtb2R1bGVzL3Byb2Nlc3MvbGlzdC90ZW1wbGF0ZS5odG1sXCIsXCI8c2VjdGlvbiBjbGFzcz1cXFwiY29udGVudC1oZWFkZXJcXFwiPlxcbiAgPGg0IGNsYXNzPVxcXCJ0aXRsZVxcXCI+5raI5oGv5YiX6KGoPC9oND5cXG48L3NlY3Rpb24+XFxuXFxuPHNlY3Rpb24gY2xhc3M9XFxcImNvbnRlbnQgYm9keS1jb250ZW50IGJvZHktY29udGVudC1jb21wYWN0IGJsb2NrLXVpIGJsb2NrLXVpLW1lc3NhZ2UtY3VzdG9tIG1lc3NhZ2UtbGlzdFxcXCIgYmxvY2stdWk9XFxcIm1haW5cXFwiPlxcbiAgPGVtcHR5LXRpcCBuZy1pZj1cXFwidm0ubGlzdC5sZW5ndGggPT09IDBcXFwiPjwvZW1wdHktdGlwPlxcblxcbiAgPGRpdiBjbGFzcz1cXFwicGFuZWxcXFwiIG5nLWlmPVxcXCJ2bS5saXN0Lmxlbmd0aCA+IDBcXFwiPlxcbiAgICA8dGFibGUgY2xhc3M9XFxcInRhYmxlIHRhYmxlLXN0cmlwZWQgdGV4dC1jZW50ZXJcXFwiPlxcbiAgICAgIDx0cj5cXG4gICAgICAgIDx0aCBjbGFzcz1cXFwiY29sLW0tMSB0ZXh0LWNlbnRlclxcXCI+XFxuICAgICAgICAgIDwhLS0gPGxhYmVsIGNsYXNzPVxcXCJtYy1yYWRpb1xcXCI+XFxuICAgICAgICAgICAgPGlucHV0IHR5cGU9XFxcImNoZWNrYm94XFxcIiBuZy1tb2RlbD1cXFwidm0uc2VsZWN0QWxsXFxcIiBuZy1jaGFuZ2U9XFxcInZtLnRvZ2dsZUFsbCgpXFxcIiAvPlxcbiAgICAgICAgICAgIDxpIGNsYXNzPVxcXCJpY29uLWNoZWNrXFxcIj48L2k+XFxuICAgICAgICAgIDwvbGFiZWw+IC0tPlxcbiAgICAgICAgPC90aD5cXG4gICAgICAgIDx0aCBjbGFzcz1cXFwiY29sLW0tMTAgdGV4dC1sZWZ0XFxcIj7moIfpopg8L3RoPlxcbiAgICAgICAgPHRoIGNsYXNzPVxcXCJjb2wtbS0xIHRleHQtY2VudGVyXFxcIj48L3RoPlxcbiAgICAgIDwvdHI+XFxuICAgICAgPHRyIG5nLXJlcGVhdD1cXFwiaXRlbSBpbiB2bS5saXN0XFxcIj5cXG4gICAgICAgIDx0ZD5cXG4gICAgICAgICAgPCEtLSA8bGFiZWwgY2xhc3M9XFxcIm1jLXJhZGlvXFxcIj5cXG4gICAgICAgICAgICA8aW5wdXQgdHlwZT1cXFwiY2hlY2tib3hcXFwiIG5nLW1vZGVsPVxcXCJpdGVtLmNoZWNrZWRcXFwiIG5nLWNoYW5nZT1cXFwidm0uY2hlY2tBbGwoKVxcXCIgLz5cXG4gICAgICAgICAgICA8aSBjbGFzcz1cXFwiaWNvbi1jaGVja1xcXCI+PC9pPlxcbiAgICAgICAgICA8L2xhYmVsPiAtLT5cXG4gICAgICAgIDwvdGQ+XFxuICAgICAgICA8dGQgY2xhc3M9XFxcInRleHQtbGVmdFxcXCI+XFxuICAgICAgICAgIDxhIHVpLXNyZWY9XFxcIm1lc3NhZ2UuZGV0YWlsKHtpZDogaXRlbS5pZH0pXFxcIiBzdHlsZT1cXFwiY29sb3I6ICMzMjMyMzI7XFxcIj5cXG4gICAgICAgICAgICA8c3Ryb25nIG5nLWlmPVxcXCJpdGVtLnN0YXRlID09PSAwXFxcIj57e2l0ZW0udGl0bGV9fTwvc3Ryb25nPlxcbiAgICAgICAgICAgIDxzcGFuIG5nLWlmPVxcXCJpdGVtLnN0YXRlICE9PSAwXFxcIj57e2l0ZW0udGl0bGV9fTwvc3Bhbj5cXG4gICAgICAgICAgPC9hPlxcbiAgICAgICAgPC90ZD5cXG4gICAgICAgIDx0ZD48YSB1aS1zcmVmPVxcXCJtZXNzYWdlLmRldGFpbCh7aWQ6IGl0ZW0uaWR9KVxcXCI+5p+l55yLPGkgY2xhc3M9XFxcImljb24tYW5nbGUtcmlnaHRcXFwiPjwvaT48L2E+PC90ZD5cXG4gICAgICA8L3RyPlxcbiAgICA8L3RhYmxlPlxcbiAgPC9kaXY+XFxuPCEtLSAgIDxkaXY+XFxuICAgIDxidXR0b24gdHlwZT1cXFwiYnV0dG9uXFxcIiBjbGFzcz1cXFwiYnRuIGJ0bi1kZWZhdWx0XFxcIiBuZy1jbGljaz1cXFwidm0ubWFya2VkUmVhZCgpXFxcIj7moIforrDlt7Lor7s8L2J1dHRvbj5cXG4gICAgPGJ1dHRvbiB0eXBlPVxcXCJidXR0b25cXFwiIGNsYXNzPVxcXCJidG4gYnRuLWRhbmdlclxcXCIgbmctY2xpY2s9XFxcInZtLmRlbGV0ZSgpXFxcIj7liKDpmaQ8L2J1dHRvbj5cXG4gIDwvZGl2PiAtLT5cXG5cXG4gIDxtYy1wYWdpbmF0aW9uIHRvdGFsLWl0ZW1zPVxcXCJ2bS5wYWdpbmF0aW9uLmNvdW50XFxcIiBpdGVtcy1wZXItcGFnZT1cXFwidm0ucGFnaW5hdGlvbi5wYWdlU2l6ZVxcXCIgY3VycmVudC1wYWdlPVxcXCJ2bS5wYWdpbmF0aW9uLnBhZ2VcXFwiIHBhZ2UtY2hhbmdlPVxcXCJ2bS5wYWdlQ2hhbmdlZCgpXFxcIj48L21jLXBhZ2luYXRpb24+XFxuXFxuPC9zZWN0aW9uPlxcblwiKTtcbiR0ZW1wbGF0ZUNhY2hlLnB1dChcIm1vZHVsZXMvcHJvY2Vzcy90aXBzL3RlbXBsYXRlLmh0bWxcIixcIjxzZWN0aW9uIGNsYXNzPVxcXCJjb250ZW50LWhlYWRlclxcXCI+XFxuICA8aDQgY2xhc3M9XFxcInRpdGxlXFxcIj7or53mnK/liJfooag8L2g0Plxcbjwvc2VjdGlvbj5cXG5cXG48c2VjdGlvbiBjbGFzcz1cXFwiY29udGVudCBib2R5LWNvbnRlbnQgYm9keS1jb250ZW50LWNvbXBhY3QgYmxvY2stdWkgYmxvY2stdWktbWVzc2FnZS1jdXN0b20gbWVzc2FnZS1saXN0XFxcIiBibG9jay11aT1cXFwibWFpblxcXCI+XFxuICA8ZW1wdHktdGlwIG5nLWlmPVxcXCJ2bS5saXN0Lmxlbmd0aCA9PT0gMFxcXCI+PC9lbXB0eS10aXA+XFxuXFxuICA8ZGl2IGNsYXNzPVxcXCJwYW5lbFxcXCIgbmctaWY9XFxcInZtLmxpc3QubGVuZ3RoID4gMFxcXCI+XFxuICAgIDx0YWJsZSBjbGFzcz1cXFwidGFibGUgdGFibGUtc3RyaXBlZCB0ZXh0LWNlbnRlclxcXCI+XFxuICAgICAgPHRyPlxcbiAgICAgICAgPHRoIGNsYXNzPVxcXCJjb2wtbS0xIHRleHQtY2VudGVyXFxcIj5cXG4gICAgICAgICAgPCEtLSA8bGFiZWwgY2xhc3M9XFxcIm1jLXJhZGlvXFxcIj5cXG4gICAgICAgICAgICA8aW5wdXQgdHlwZT1cXFwiY2hlY2tib3hcXFwiIG5nLW1vZGVsPVxcXCJ2bS5zZWxlY3RBbGxcXFwiIG5nLWNoYW5nZT1cXFwidm0udG9nZ2xlQWxsKClcXFwiIC8+XFxuICAgICAgICAgICAgPGkgY2xhc3M9XFxcImljb24tY2hlY2tcXFwiPjwvaT5cXG4gICAgICAgICAgPC9sYWJlbD4gLS0+XFxuICAgICAgICA8L3RoPlxcbiAgICAgICAgPHRoIGNsYXNzPVxcXCJjb2wtbS0xMCB0ZXh0LWxlZnRcXFwiPuagh+mimDwvdGg+XFxuICAgICAgICA8dGggY2xhc3M9XFxcImNvbC1tLTEgdGV4dC1jZW50ZXJcXFwiPjwvdGg+XFxuICAgICAgPC90cj5cXG4gICAgICA8dHIgbmctcmVwZWF0PVxcXCJpdGVtIGluIHZtLmxpc3RcXFwiPlxcbiAgICAgICAgPHRkPlxcbiAgICAgICAgICA8IS0tIDxsYWJlbCBjbGFzcz1cXFwibWMtcmFkaW9cXFwiPlxcbiAgICAgICAgICAgIDxpbnB1dCB0eXBlPVxcXCJjaGVja2JveFxcXCIgbmctbW9kZWw9XFxcIml0ZW0uY2hlY2tlZFxcXCIgbmctY2hhbmdlPVxcXCJ2bS5jaGVja0FsbCgpXFxcIiAvPlxcbiAgICAgICAgICAgIDxpIGNsYXNzPVxcXCJpY29uLWNoZWNrXFxcIj48L2k+XFxuICAgICAgICAgIDwvbGFiZWw+IC0tPlxcbiAgICAgICAgPC90ZD5cXG4gICAgICAgIDx0ZCBjbGFzcz1cXFwidGV4dC1sZWZ0XFxcIj5cXG4gICAgICAgICAge3tpdGVtLnRpdGxlfX1cXG4gICAgICAgIDwvdGQ+XFxuICAgICAgICA8dGQ+PGEgdWktc3JlZj1cXFwicHJvY2Vzcy5hZGQoe2lkOiBpdGVtLmlkfSlcXFwiPue8lui+kTxpIGNsYXNzPVxcXCJpY29uLWFuZ2xlLXJpZ2h0XFxcIj48L2k+PC9hPjwvdGQ+XFxuICAgICAgPC90cj5cXG4gICAgPC90YWJsZT5cXG4gIDwvZGl2PlxcbjwhLS0gICA8ZGl2PlxcbiAgICA8YnV0dG9uIHR5cGU9XFxcImJ1dHRvblxcXCIgY2xhc3M9XFxcImJ0biBidG4tZGVmYXVsdFxcXCIgbmctY2xpY2s9XFxcInZtLm1hcmtlZFJlYWQoKVxcXCI+5qCH6K6w5bey6K+7PC9idXR0b24+XFxuICAgIDxidXR0b24gdHlwZT1cXFwiYnV0dG9uXFxcIiBjbGFzcz1cXFwiYnRuIGJ0bi1kYW5nZXJcXFwiIG5nLWNsaWNrPVxcXCJ2bS5kZWxldGUoKVxcXCI+5Yig6ZmkPC9idXR0b24+XFxuICA8L2Rpdj4gLS0+XFxuXFxuICA8bWMtcGFnaW5hdGlvbiB0b3RhbC1pdGVtcz1cXFwidm0ucGFnaW5hdGlvbi5jb3VudFxcXCIgaXRlbXMtcGVyLXBhZ2U9XFxcInZtLnBhZ2luYXRpb24ucGFnZVNpemVcXFwiIGN1cnJlbnQtcGFnZT1cXFwidm0ucGFnaW5hdGlvbi5wYWdlXFxcIiBwYWdlLWNoYW5nZT1cXFwidm0ucGFnZUNoYW5nZWQoKVxcXCI+PC9tYy1wYWdpbmF0aW9uPlxcblxcbjwvc2VjdGlvbj5cXG5cIik7XG4kdGVtcGxhdGVDYWNoZS5wdXQoXCJtb2R1bGVzL3N5c2NvbmZpZy90aW1lL2luZGV4Lmh0bWxcIixcIjxzZWN0aW9uIGNsYXNzPVxcXCJjb250ZW50LWhlYWRlciBjbGVhcmZpeFxcXCI+XFxuICAgIDxoND7liLfmlrDml7bpl7Torr7nva48L2g0Plxcbjwvc2VjdGlvbj5cXG48c2VjdGlvbiBjbGFzcz1cXFwiY29udGVudCBib2R5LWNvbnRlbnRcXFwiIGJsb2NrLXVpPVxcXCJtYWluXFxcIj5cXG5cXG4gICAgPGRpdiBjbGFzcz1cXFwiZm9ybS1ob3Jpem9udGFsXFxcIj5cXG4gICAgICAgIDxkaXYgY2xhc3M9XFxcImZvcm0tZ3JvdXBcXFwiPlxcbiAgICAgICAgICAgIDxsYWJlbCBmb3I9XFxcImlucHV0TmFtZVxcXCIgY2xhc3M9XFxcImNvbC1zbS0yIGNvbnRyb2wtbGFiZWxcXFwiPuWIt+aWsOaXtumXtDwvbGFiZWw+XFxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cXFwiY29sLXNtLTJcXFwiPlxcbiAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT1cXFwidGV4dFxcXCIgY2xhc3M9XFxcImZvcm0tY29udHJvbFxcXCIgaWQ9XFxcImlucHV0TmFtZVxcXCIgbmctbW9kZWw9XFxcInZtLmtleVZhbHVlXFxcIiBwbGFjZWhvbGRlcj1cXFwiXFxcIj5cXG4gICAgICAgICAgICA8L2Rpdj5cXG4gICAgICAgIDwvZGl2PlxcbiAgICAgICAgPGRpdiBjbGFzcz1cXFwiZm9ybS1ncm91cFxcXCI+XFxuICAgICAgICAgICAgPGJ1dHRvbiB0eXBlPVxcXCJidXR0b25cXFwiIG5nLWNsaWNrPVxcXCJ2bS5zZXRDb25maWcoKVxcXCIgY2xhc3M9XFxcImJ0biBidG4tc3VjY2Vzc1xcXCI+5o+Q5LqkPC9idXR0b24+XFxuICAgICAgICA8L2Rpdj5cXG4gICAgPC9kaXY+XFxuPC9zZWN0aW9uPlwiKTtcbiR0ZW1wbGF0ZUNhY2hlLnB1dChcIm1vZHVsZXMvYWNjb3VudC9tb2RhbHMvYWRkL3RlbXBsYXRlLmh0bWxcIixcIjxkaXYgY2xhc3M9XFxcIm1vZGFsLWhlYWRlclxcXCI+XFxuICA8IS0tIDxidXR0b24gdHlwZT1cXFwiYnV0dG9uXFxcIiBjbGFzcz1cXFwiY2xvc2VcXFwiIGRhdGEtZGlzbWlzcz1cXFwibW9kYWxcXFwiIGFyaWEtbGFiZWw9XFxcIkNsb3NlXFxcIiBuZy1jbGljaz1cXFwidm0uY2FuY2VsKCk7XFxcIj5cXG4gICAgPHNwYW4gYXJpYS1oaWRkZW49XFxcInRydWVcXFwiPiZ0aW1lczs8L3NwYW4+XFxuICA8L2J1dHRvbj4gLS0+XFxuICA8aDQgY2xhc3M9XFxcIm1vZGFsLXRpdGxlXFxcIj7mt7vliqDnlKjmiLc8L2g0PlxcbjwvZGl2PlxcbjxkaXYgY2xhc3M9XFxcIm1vZGFsLWJvZHlcXFwiPlxcbiAgPGZvcm0gY2xhc3M9XFxcImZvcm0taG9yaXpvbnRhbFxcXCIgbmFtZT1cXFwiRm9ybVxcXCI+XFxuICAgIDxkaXYgY2xhc3M9XFxcImZvcm0tZ3JvdXAgY2xlYXJmaXhcXFwiPlxcbiAgICAgIDxsYWJlbCBmb3I9XFxcIm5vdGVJbnB1dFxcXCIgY2xhc3M9XFxcImNvbC1zbS00IGNvbnRyb2wtbGFiZWxcXFwiPuecn+WunuWnk+WQje+8mjwvbGFiZWw+XFxuICAgICAgPGRpdiBjbGFzcz1cXFwiY29sLXNtLTZcXFwiPlxcbiAgICAgICAgPGlucHV0IHR5cGU9XFxcInRleHRcXFwiIGNsYXNzPVxcXCJmb3JtLWNvbnRyb2xcXFwiIG5nLW1vZGVsPVxcXCJ2bS5pbnB1dEluZm8udHJ1ZV9uYW1lXFxcIiBwbGFjZWhvbGRlcj1cXFwi6K+36L6T5YWlXFxcIlxcbiAgICAgICAgICB2YWxpZGF0b3I9XFxcInJlcXVpcmVkXFxcIj5cXG4gICAgICA8L2Rpdj5cXG4gICAgPC9kaXY+XFxuICAgIDxkaXYgY2xhc3M9XFxcImZvcm0tZ3JvdXAgY2xlYXJmaXhcXFwiPlxcbiAgICAgIDxsYWJlbCBmb3I9XFxcIm5vdGVJbnB1dFxcXCIgY2xhc3M9XFxcImNvbC1zbS00IGNvbnRyb2wtbGFiZWxcXFwiPuaJi+acuuWPt+egge+8mjwvbGFiZWw+XFxuICAgICAgPGRpdiBjbGFzcz1cXFwiY29sLXNtLTZcXFwiPlxcbiAgICAgICAgPGlucHV0IHR5cGU9XFxcInRleHRcXFwiIGNsYXNzPVxcXCJmb3JtLWNvbnRyb2xcXFwiIG5nLW1vZGVsPVxcXCJ2bS5pbnB1dEluZm8ucGhvbmVcXFwiIHBsYWNlaG9sZGVyPVxcXCLor7fovpPlhaVcXFwiXFxuICAgICAgICAgIHZhbGlkYXRvcj1cXFwicmVxdWlyZWRcXFwiIGF1dG8tY29tcGxldGU9XFxcInZtLmF1dG9Db21wbGV0ZU9wdGlvbnNcXFwiPlxcbiAgICAgIDwvZGl2PlxcbiAgICA8L2Rpdj5cXG4gICAgPGRpdiBjbGFzcz1cXFwiZm9ybS1ncm91cCBjbGVhcmZpeFxcXCI+XFxuICAgICAgPGxhYmVsIGZvcj1cXFwibm90ZUlucHV0XFxcIiBjbGFzcz1cXFwiY29sLXNtLTQgY29udHJvbC1sYWJlbFxcXCI+6KeS6Imy77yaPC9sYWJlbD5cXG4gICAgICA8ZGl2IGNsYXNzPVxcXCJidG4tZ3JvdXAgY29sLXNtLTJcXFwiPlxcbiAgICAgICAgPGJ1dHRvbiB0eXBlPVxcXCJidXR0b25cXFwiIGNsYXNzPVxcXCJidG4gYnRuLWRlZmF1bHQgZHJvcGRvd24tdG9nZ2xlXFxcIiBkYXRhLXRvZ2dsZT1cXFwiZHJvcGRvd25cXFwiIGFyaWEtaGFzcG9wdXA9XFxcInRydWVcXFwiIGFyaWEtZXhwYW5kZWQ9XFxcImZhbHNlXFxcIj5cXG4gICAgICAgICAge3t2bS5pbnB1dEluZm8ucm9sZV9uYW1lfX1cXG4gICAgICAgICAgPHNwYW4gY2xhc3M9XFxcImNhcmV0XFxcIj48L3NwYW4+XFxuICAgICAgICA8L2J1dHRvbj5cXG4gICAgICAgIDx1bCBjbGFzcz1cXFwiZHJvcGRvd24tbWVudVxcXCI+XFxuICAgICAgICAgIDxsaSBuZy1yZXBlYXQ9XFxcInJvbGUgaW4gdm0ucm9sZUxpc3RcXFwiPjxhIG5nLWNsaWNrPVxcXCJ2bS5pbnB1dEluZm8ucm9sZV9uYW1lPXJvbGUubmFtZTt2bS5pbnB1dEluZm8ucm9sZT1yb2xlLnZhbHVlXFxcIiBocmVmPVxcXCJqYXZhc2NyaXB0OnZvaWQoMClcXFwiPnt7cm9sZS5uYW1lfX08L2E+PC9saT5cXG4gICAgICAgIDwvdWw+XFxuICAgICAgPC9kaXY+XFxuICAgIDwvZGl2PlxcbiAgICA8ZGl2IGNsYXNzPVxcXCJmb3JtLWdyb3VwIGNsZWFyZml4XFxcIj5cXG4gICAgICA8bGFiZWwgZm9yPVxcXCJub3RlSW5wdXRcXFwiIGNsYXNzPVxcXCJjb2wtc20tNCBjb250cm9sLWxhYmVsXFxcIj7miYDlsZ7mnLrmnoTvvJo8L2xhYmVsPlxcbiAgICAgIDxkaXYgY2xhc3M9XFxcImJ0bi1ncm91cCBjb2wtc20tNlxcXCI+XFxuICAgICAgICA8YnV0dG9uIHR5cGU9XFxcImJ1dHRvblxcXCIgY2xhc3M9XFxcImJ0biBidG4tZGVmYXVsdCBkcm9wZG93bi10b2dnbGVcXFwiIGRhdGEtdG9nZ2xlPVxcXCJkcm9wZG93blxcXCIgYXJpYS1oYXNwb3B1cD1cXFwidHJ1ZVxcXCIgYXJpYS1leHBhbmRlZD1cXFwiZmFsc2VcXFwiPlxcbiAgICAgICAgICB7e3ZtLmlucHV0SW5mby5iYW5rX25hbWV9fVxcbiAgICAgICAgICA8c3BhbiBjbGFzcz1cXFwiY2FyZXRcXFwiPjwvc3Bhbj5cXG4gICAgICAgIDwvYnV0dG9uPlxcbiAgICAgICAgPHVsIGNsYXNzPVxcXCJkcm9wZG93bi1tZW51XFxcIiBzdHlsZT1cXFwiaGVpZ2h0OjIxMHB4OyBvdmVyZmxvdzpzY3JvbGw7XFxcIj5cXG4gICAgICAgICAgPGxpIG5nLXJlcGVhdD1cXFwiYmFuayBpbiB2bS5iYW5rTGlzdFxcXCI+PGEgbmctY2xpY2s9XFxcInZtLmlucHV0SW5mby5iYW5rX25hbWU9YmFuay5uYW1lO3ZtLmlucHV0SW5mby5iYW5rX2lkPWJhbmsuaWRcXFwiIGhyZWY9XFxcImphdmFzY3JpcHQ6dm9pZCgwKVxcXCI+e3tiYW5rLm5hbWV9fTwvYT48L2xpPlxcbiAgICAgICAgPC91bD5cXG4gICAgICA8L2Rpdj5cXG4gICAgPC9kaXY+XFxuICA8L2Zvcm0+XFxuICA8ZGl2IGNsYXNzPVxcXCJtb2RhbC1mb290ZXJcXFwiPlxcbiAgICA8YnV0dG9uIHR5cGU9XFxcImJ1dHRvblxcXCIgY2xhc3M9XFxcImJ0biBidG4tZGVmYXVsdCBidG4tc21cXFwiIG5nLWNsaWNrPVxcXCJ2bS5jYW5jZWwoKVxcXCI+5Y+W5raIPC9idXR0b24+XFxuICAgIDxidXR0b24gdHlwZT1cXFwiYnV0dG9uXFxcIiBjbGFzcz1cXFwiYnRuIGJ0bi1zdWNjZXNzIGJ0bi1zbVxcXCIgbmctY2xpY2s9XFxcInZtLnN1Ym1pdChGb3JtKVxcXCI+IOS/neWtmDwvYnV0dG9uPlxcbiAgPC9kaXY+XFxuPC9kaXY+XFxuXCIpO1xuJHRlbXBsYXRlQ2FjaGUucHV0KFwibW9kdWxlcy9hY2NvdW50L21vZGFscy9icmFuY2gvdGVtcGxhdGUuaHRtbFwiLFwiPGRpdiBjbGFzcz1cXFwibW9kYWwtaGVhZGVyXFxcIj5cXG4gIDwhLS0gPGJ1dHRvbiB0eXBlPVxcXCJidXR0b25cXFwiIGNsYXNzPVxcXCJjbG9zZVxcXCIgZGF0YS1kaXNtaXNzPVxcXCJtb2RhbFxcXCIgYXJpYS1sYWJlbD1cXFwiQ2xvc2VcXFwiIG5nLWNsaWNrPVxcXCJ2bS5jYW5jZWwoKTtcXFwiPlxcbiAgICA8c3BhbiBhcmlhLWhpZGRlbj1cXFwidHJ1ZVxcXCI+JnRpbWVzOzwvc3Bhbj5cXG4gIDwvYnV0dG9uPiAtLT5cXG4gIDxoNCBjbGFzcz1cXFwibW9kYWwtdGl0bGVcXFwiPuWIhumFjTwvaDQ+XFxuPC9kaXY+XFxuPGRpdiBjbGFzcz1cXFwibW9kYWwtYm9keVxcXCI+XFxuICA8Zm9ybSBjbGFzcz1cXFwiZm9ybS1ob3Jpem9udGFsXFxcIiBuYW1lPVxcXCJGb3JtXFxcIj5cXG4gICAgPGRpdiBjbGFzcz1cXFwiZm9ybS1ncm91cCBjbGVhcmZpeFxcXCI+XFxuICAgICAgPGxhYmVsIGZvcj1cXFwic2VsZWN0X21haW5cXFwiIGNsYXNzPVxcXCJjb2wtc20tMTIgdGV4dC1jZW50ZXJcXFwiPumAieaLqeaUr+ihjDwvbGFiZWw+XFxuICAgIDwvZGl2PlxcbiAgICA8ZGl2IGNsYXNzPVxcXCJmb3JtLWdyb3VwIGNsZWFyZml4XFxcIj5cXG4gICAgICA8ZGl2IGNsYXNzPVxcXCJjb2wtc20tMTJcXFwiPlxcbiAgICAgICAgPHNlbGVjdCBuYW1lPVxcXCJzZWxlY3RCcmFuY2hcXFwiIGNsYXNzPVxcXCJmb3JtLWNvbnRyb2wgYy1zZWxlY3RcXFwiIFxcbiAgICAgICAgICBuZy1vcHRpb25zPVxcXCJpdGVtLmlkIGFzIGl0ZW0ubmFtZSBmb3IgaXRlbSBpbiB2bS5saXN0XFxcIiBuZy1tb2RlbD1cXFwidm0uaW5wdXRJbmZvLmJyYW5jaFxcXCIgXFxuICAgICAgICAgIHBsYWNlaG9sZGVyPVxcXCLor7fpgInmi6lcXFwiIHZhbGlkYXRvcj1cXFwicmVxdWlyZWRcXFwiIHNpemU9XFxcIjEwXFxcIj5cXG4gICAgICAgICAgPG9wdGlvbiB2YWx1ZT1cXFwiXFxcIj7or7fpgInmi6k8L29wdGlvbj5cXG4gICAgICAgIDwvc2VsZWN0PlxcbiAgICAgIDwvZGl2PlxcbiAgICA8L2Rpdj5cXG4gIDwvZm9ybT5cXG4gIDxkaXYgY2xhc3M9XFxcIm1vZGFsLWZvb3RlclxcXCI+XFxuICAgIDxidXR0b24gdHlwZT1cXFwiYnV0dG9uXFxcIiBjbGFzcz1cXFwiYnRuIGJ0bi1kZWZhdWx0IGJ0bi1zbVxcXCIgbmctY2xpY2s9XFxcInZtLmNhbmNlbCgpXFxcIj7lj5bmtog8L2J1dHRvbj5cXG4gICAgPGJ1dHRvbiB0eXBlPVxcXCJidXR0b25cXFwiIGNsYXNzPVxcXCJidG4gYnRuLXN1Y2Nlc3MgYnRuLXNtXFxcIiBuZy1jbGljaz1cXFwidm0uc3VibWl0KEZvcm0pXFxcIj4g56Gu5a6aPC9idXR0b24+XFxuICA8L2Rpdj5cXG48L2Rpdj5cXG5cIik7XG4kdGVtcGxhdGVDYWNoZS5wdXQoXCJtb2R1bGVzL2JhbmsvbW9kYWxzL2FkZC90ZW1wbGF0ZS5odG1sXCIsXCI8ZGl2IGNsYXNzPVxcXCJtb2RhbC1oZWFkZXJcXFwiPlxcbiAgPCEtLSA8YnV0dG9uIHR5cGU9XFxcImJ1dHRvblxcXCIgY2xhc3M9XFxcImNsb3NlXFxcIiBkYXRhLWRpc21pc3M9XFxcIm1vZGFsXFxcIiBhcmlhLWxhYmVsPVxcXCJDbG9zZVxcXCIgbmctY2xpY2s9XFxcInZtLmNhbmNlbCgpO1xcXCI+XFxuICAgIDxzcGFuIGFyaWEtaGlkZGVuPVxcXCJ0cnVlXFxcIj4mdGltZXM7PC9zcGFuPlxcbiAgPC9idXR0b24+IC0tPlxcbiAgPGg0IGNsYXNzPVxcXCJtb2RhbC10aXRsZVxcXCI+5re75Yqg5py65p6EPC9oND5cXG48L2Rpdj5cXG48ZGl2IGNsYXNzPVxcXCJtb2RhbC1ib2R5XFxcIj5cXG4gIDxmb3JtIGNsYXNzPVxcXCJmb3JtLWhvcml6b250YWxcXFwiIG5hbWU9XFxcIkZvcm1cXFwiPlxcbiAgICA8ZGl2IGNsYXNzPVxcXCJmb3JtLWdyb3VwIGNsZWFyZml4XFxcIj5cXG4gICAgICA8bGFiZWwgZm9yPVxcXCJub3RlSW5wdXRcXFwiIGNsYXNzPVxcXCJjb2wtc20tNCBjb250cm9sLWxhYmVsXFxcIj7mnLrmnoTlkI3np7A8L2xhYmVsPlxcbiAgICAgIDxkaXYgY2xhc3M9XFxcImNvbC1zbS02XFxcIj5cXG4gICAgICAgIDxpbnB1dCB0eXBlPVxcXCJ0ZXh0XFxcIiBjbGFzcz1cXFwiZm9ybS1jb250cm9sXFxcIiBuZy1tb2RlbD1cXFwidm0uaW5wdXRJbmZvLm5hbWVcXFwiIHBsYWNlaG9sZGVyPVxcXCLor7fovpPlhaVcXFwiXFxuICAgICAgICAgIHZhbGlkYXRvcj1cXFwicmVxdWlyZWRcXFwiPlxcbiAgICAgIDwvZGl2PlxcbiAgICA8L2Rpdj5cXG4gICAgPGRpdiBjbGFzcz1cXFwiZm9ybS1ncm91cCBjbGVhcmZpeFxcXCI+XFxuICAgICAgPGxhYmVsIGZvcj1cXFwibm90ZUlucHV0XFxcIiBjbGFzcz1cXFwiY29sLXNtLTQgY29udHJvbC1sYWJlbFxcXCI+5py65p6E5Zyw5Z2APC9sYWJlbD5cXG4gICAgICA8ZGl2IGNsYXNzPVxcXCJjb2wtc20tNlxcXCI+XFxuICAgICAgICA8aW5wdXQgdHlwZT1cXFwidGV4dFxcXCIgY2xhc3M9XFxcImZvcm0tY29udHJvbFxcXCIgbmctbW9kZWw9XFxcInZtLmlucHV0SW5mby5hZGRyZXNzXFxcIiBwbGFjZWhvbGRlcj1cXFwi6K+36L6T5YWlXFxcIlxcbiAgICAgICAgICB2YWxpZGF0b3I9XFxcInJlcXVpcmVkXFxcIj5cXG4gICAgICA8L2Rpdj5cXG4gICAgPC9kaXY+XFxuICAgIDxkaXYgY2xhc3M9XFxcImZvcm0tZ3JvdXAgY2xlYXJmaXhcXFwiPlxcbiAgICAgIDxsYWJlbCBmb3I9XFxcIm5vdGVJbnB1dFxcXCIgY2xhc3M9XFxcImNvbC1zbS00IGNvbnRyb2wtbGFiZWxcXFwiPuiBlOezu+eUteivnTwvbGFiZWw+XFxuICAgICAgPGRpdiBjbGFzcz1cXFwiY29sLXNtLTZcXFwiPlxcbiAgICAgICAgPGlucHV0IHR5cGU9XFxcInRleHRcXFwiIGNsYXNzPVxcXCJmb3JtLWNvbnRyb2xcXFwiIG5nLW1vZGVsPVxcXCJ2bS5pbnB1dEluZm8ucGhvbmVcXFwiIHBsYWNlaG9sZGVyPVxcXCLor7fovpPlhaVcXFwiXFxuICAgICAgICAgIHZhbGlkYXRvcj1cXFwicmVxdWlyZWRcXFwiPlxcbiAgICAgIDwvZGl2PlxcbiAgICA8L2Rpdj5cXG5cXG4gIDwvZm9ybT5cXG4gIDxkaXYgY2xhc3M9XFxcIm1vZGFsLWZvb3RlclxcXCI+XFxuICAgIDxidXR0b24gdHlwZT1cXFwiYnV0dG9uXFxcIiBjbGFzcz1cXFwiYnRuIGJ0bi1kZWZhdWx0IGJ0bi1zbVxcXCIgbmctY2xpY2s9XFxcInZtLmNhbmNlbCgpXFxcIj7lj5bmtog8L2J1dHRvbj5cXG4gICAgPGJ1dHRvbiB0eXBlPVxcXCJidXR0b25cXFwiIGNsYXNzPVxcXCJidG4gYnRuLXN1Y2Nlc3MgYnRuLXNtXFxcIiBuZy1jbGljaz1cXFwidm0uc3VibWl0KEZvcm0pXFxcIj4g5L+d5a2YPC9idXR0b24+XFxuICA8L2Rpdj5cXG48L2Rpdj5cXG5cIik7XG4kdGVtcGxhdGVDYWNoZS5wdXQoXCJtb2R1bGVzL2JhbmsvbW9kYWxzL2JyYW5jaC90ZW1wbGF0ZS5odG1sXCIsXCI8ZGl2IGNsYXNzPVxcXCJtb2RhbC1oZWFkZXJcXFwiPlxcbiAgPCEtLSA8YnV0dG9uIHR5cGU9XFxcImJ1dHRvblxcXCIgY2xhc3M9XFxcImNsb3NlXFxcIiBkYXRhLWRpc21pc3M9XFxcIm1vZGFsXFxcIiBhcmlhLWxhYmVsPVxcXCJDbG9zZVxcXCIgbmctY2xpY2s9XFxcInZtLmNhbmNlbCgpO1xcXCI+XFxuICAgIDxzcGFuIGFyaWEtaGlkZGVuPVxcXCJ0cnVlXFxcIj4mdGltZXM7PC9zcGFuPlxcbiAgPC9idXR0b24+IC0tPlxcbiAgPGg0IGNsYXNzPVxcXCJtb2RhbC10aXRsZVxcXCI+5YiG6YWNPC9oND5cXG48L2Rpdj5cXG48ZGl2IGNsYXNzPVxcXCJtb2RhbC1ib2R5XFxcIj5cXG4gIDxmb3JtIGNsYXNzPVxcXCJmb3JtLWhvcml6b250YWxcXFwiIG5hbWU9XFxcIkZvcm1cXFwiPlxcbiAgICA8ZGl2IGNsYXNzPVxcXCJmb3JtLWdyb3VwIGNsZWFyZml4XFxcIj5cXG4gICAgICA8bGFiZWwgZm9yPVxcXCJzZWxlY3RfbWFpblxcXCIgY2xhc3M9XFxcImNvbC1zbS0xMiB0ZXh0LWNlbnRlclxcXCI+6YCJ5oup5pSv6KGMPC9sYWJlbD5cXG4gICAgPC9kaXY+XFxuICAgIDxkaXYgY2xhc3M9XFxcImZvcm0tZ3JvdXAgY2xlYXJmaXhcXFwiPlxcbiAgICAgIDxkaXYgY2xhc3M9XFxcImNvbC1zbS0xMlxcXCI+XFxuICAgICAgICA8c2VsZWN0IG5hbWU9XFxcInNlbGVjdEJyYW5jaFxcXCIgY2xhc3M9XFxcImZvcm0tY29udHJvbCBjLXNlbGVjdFxcXCIgXFxuICAgICAgICAgIG5nLW1vZGVsPVxcXCJ2bS5pbnB1dEluZm8uYnJhbmNoXFxcIiBcXG4gICAgICAgICAgcGxhY2Vob2xkZXI9XFxcIuivt+mAieaLqVxcXCIgdmFsaWRhdG9yPVxcXCJyZXF1aXJlZFxcXCIgc2l6ZT1cXFwiMTBcXFwiPlxcbiAgICAgICAgICA8b3B0aW9uIHZhbHVlPVxcXCJcXFwiPuivt+mAieaLqTwvb3B0aW9uPlxcbiAgICAgICAgICA8b3B0aW9uIHZhbHVlPVxcXCJ7e2l0ZW0uaWR9fVxcXCIgbmctaGlkZT1cXFwiaXRlbS5pZCA9PSB2bS5pbmZvLmlkXFxcIiBuZy1yZXBlYXQ9XFxcIml0ZW0gaW4gdm0ubGlzdFxcXCI+e3tpdGVtLm5hbWV9fTwvb3B0aW9uPlxcbiAgICAgICAgPC9zZWxlY3Q+XFxuICAgICAgPC9kaXY+XFxuICAgIDwvZGl2PlxcbiAgPC9mb3JtPlxcbiAgPGRpdiBjbGFzcz1cXFwibW9kYWwtZm9vdGVyXFxcIj5cXG4gICAgPGJ1dHRvbiB0eXBlPVxcXCJidXR0b25cXFwiIGNsYXNzPVxcXCJidG4gYnRuLWRlZmF1bHQgYnRuLXNtXFxcIiBuZy1jbGljaz1cXFwidm0uY2FuY2VsKClcXFwiPuWPlua2iDwvYnV0dG9uPlxcbiAgICA8YnV0dG9uIHR5cGU9XFxcImJ1dHRvblxcXCIgY2xhc3M9XFxcImJ0biBidG4tc3VjY2VzcyBidG4tc21cXFwiIG5nLWNsaWNrPVxcXCJ2bS5zdWJtaXQoRm9ybSlcXFwiPiDnoa7lrpo8L2J1dHRvbj5cXG4gIDwvZGl2PlxcbjwvZGl2PlxcblwiKTtcbiR0ZW1wbGF0ZUNhY2hlLnB1dChcIm1vZHVsZXMvYmFuay9tb2RhbHMvZWRpdC90ZW1wbGF0ZS5odG1sXCIsXCI8ZGl2IGNsYXNzPVxcXCJtb2RhbC1oZWFkZXJcXFwiPlxcbiAgPCEtLSA8YnV0dG9uIHR5cGU9XFxcImJ1dHRvblxcXCIgY2xhc3M9XFxcImNsb3NlXFxcIiBkYXRhLWRpc21pc3M9XFxcIm1vZGFsXFxcIiBhcmlhLWxhYmVsPVxcXCJDbG9zZVxcXCIgbmctY2xpY2s9XFxcInZtLmNhbmNlbCgpO1xcXCI+XFxuICAgIDxzcGFuIGFyaWEtaGlkZGVuPVxcXCJ0cnVlXFxcIj4mdGltZXM7PC9zcGFuPlxcbiAgPC9idXR0b24+IC0tPlxcbiAgPGg0IGNsYXNzPVxcXCJtb2RhbC10aXRsZVxcXCI+5pu05pS55ZCN56ewPC9oND5cXG48L2Rpdj5cXG48ZGl2IGNsYXNzPVxcXCJtb2RhbC1ib2R5XFxcIj5cXG4gIDxmb3JtIGNsYXNzPVxcXCJmb3JtLWhvcml6b250YWxcXFwiIG5hbWU9XFxcIkZvcm1cXFwiPlxcbiAgICA8ZGl2IGNsYXNzPVxcXCJmb3JtLWdyb3VwIGNsZWFyZml4XFxcIj5cXG4gICAgICA8bGFiZWwgZm9yPVxcXCJub3RlSW5wdXRcXFwiIGNsYXNzPVxcXCJjb2wtc20tNCBjb250cm9sLWxhYmVsXFxcIj7mnLrmnoQ8L2xhYmVsPlxcbiAgICAgIDxkaXYgY2xhc3M9XFxcImNvbC1zbS02XFxcIj5cXG4gICAgICAgIDxpbnB1dCB0eXBlPVxcXCJ0ZXh0XFxcIiBjbGFzcz1cXFwiZm9ybS1jb250cm9sXFxcIiBuZy1tb2RlbD1cXFwidm0uaW5wdXRJbmZvLm5hbWVcXFwiIHBsYWNlaG9sZGVyPVxcXCLor7fovpPlhaVcXFwiXFxuICAgICAgICAgIHZhbGlkYXRvcj1cXFwicmVxdWlyZWRcXFwiPlxcbiAgICAgIDwvZGl2PlxcbiAgICA8L2Rpdj5cXG4gICAgPGRpdiBjbGFzcz1cXFwiZm9ybS1ncm91cCBjbGVhcmZpeFxcXCI+XFxuICAgICAgPGxhYmVsIGZvcj1cXFwibm90ZUlucHV0XFxcIiBjbGFzcz1cXFwiY29sLXNtLTQgY29udHJvbC1sYWJlbFxcXCI+5py65p6E5Zyw5Z2APC9sYWJlbD5cXG4gICAgICA8ZGl2IGNsYXNzPVxcXCJjb2wtc20tNlxcXCI+XFxuICAgICAgICA8aW5wdXQgdHlwZT1cXFwidGV4dFxcXCIgY2xhc3M9XFxcImZvcm0tY29udHJvbFxcXCIgbmctbW9kZWw9XFxcInZtLmlucHV0SW5mby5hZGRyZXNzXFxcIiBwbGFjZWhvbGRlcj1cXFwi6K+36L6T5YWlXFxcIlxcbiAgICAgICAgICB2YWxpZGF0b3I9XFxcInJlcXVpcmVkXFxcIj5cXG4gICAgICA8L2Rpdj5cXG4gICAgPC9kaXY+XFxuICAgIDxkaXYgY2xhc3M9XFxcImZvcm0tZ3JvdXAgY2xlYXJmaXhcXFwiPlxcbiAgICAgIDxsYWJlbCBmb3I9XFxcIm5vdGVJbnB1dFxcXCIgY2xhc3M9XFxcImNvbC1zbS00IGNvbnRyb2wtbGFiZWxcXFwiPuiBlOezu+eUteivnTwvbGFiZWw+XFxuICAgICAgPGRpdiBjbGFzcz1cXFwiY29sLXNtLTZcXFwiPlxcbiAgICAgICAgPGlucHV0IHR5cGU9XFxcInRleHRcXFwiIGNsYXNzPVxcXCJmb3JtLWNvbnRyb2xcXFwiIG5nLW1vZGVsPVxcXCJ2bS5pbnB1dEluZm8ucGhvbmVcXFwiIHBsYWNlaG9sZGVyPVxcXCLor7fovpPlhaVcXFwiXFxuICAgICAgICAgIHZhbGlkYXRvcj1cXFwicmVxdWlyZWRcXFwiPlxcbiAgICAgIDwvZGl2PlxcbiAgICA8L2Rpdj5cXG5cXG4gIDwvZm9ybT5cXG4gIDxkaXYgY2xhc3M9XFxcIm1vZGFsLWZvb3RlclxcXCI+XFxuICAgIDxidXR0b24gdHlwZT1cXFwiYnV0dG9uXFxcIiBjbGFzcz1cXFwiYnRuIGJ0bi1kZWZhdWx0IGJ0bi1zbVxcXCIgbmctY2xpY2s9XFxcInZtLmNhbmNlbCgpXFxcIj7lj5bmtog8L2J1dHRvbj5cXG4gICAgPGJ1dHRvbiB0eXBlPVxcXCJidXR0b25cXFwiIGNsYXNzPVxcXCJidG4gYnRuLXN1Y2Nlc3MgYnRuLXNtXFxcIiBuZy1jbGljaz1cXFwidm0uc3VibWl0KEZvcm0pXFxcIj4g5L+d5a2YPC9idXR0b24+XFxuICA8L2Rpdj5cXG48L2Rpdj5cXG5cIik7XG4kdGVtcGxhdGVDYWNoZS5wdXQoXCJtb2R1bGVzL2JhbmsvbW9kYWxzL21hcC90ZW1wbGF0ZS5odG1sXCIsXCI8ZGl2IGNsYXNzPVxcXCJtb2RhbC1oZWFkZXJcXFwiPlxcbiAgPCEtLSA8YnV0dG9uIHR5cGU9XFxcImJ1dHRvblxcXCIgY2xhc3M9XFxcImNsb3NlXFxcIiBkYXRhLWRpc21pc3M9XFxcIm1vZGFsXFxcIiBhcmlhLWxhYmVsPVxcXCJDbG9zZVxcXCIgbmctY2xpY2s9XFxcInZtLmNhbmNlbCgpO1xcXCI+XFxuICAgIDxzcGFuIGFyaWEtaGlkZGVuPVxcXCJ0cnVlXFxcIj4mdGltZXM7PC9zcGFuPlxcbiAgPC9idXR0b24+IC0tPlxcbiAgPGg0IGNsYXNzPVxcXCJtb2RhbC10aXRsZVxcXCI+6YCJ5Y+W5Zyw5Zu+PC9oND5cXG48L2Rpdj5cXG48ZGl2IGNsYXNzPVxcXCJtb2RhbC1ib2R5XFxcIj5cXG4gICA8YmFpZHUtbWFwIG9wdGlvbnM9XFxcInZtLm9wdHNcXFwiIGFrPVxcXCI4QkVhU2RvOEU3VkVIak0wcHhXczhnSXNIaGtEbE9PV1xcXCIgb24tbWFwLWxvYWRlZD1cXFwidm0ubG9hZE1hcChtYXApXFxcIiBzdHlsZT1cXFwiZGlzcGxheTpibG9jazt3aWR0aDo1NTBweDtoZWlnaHQ6NTAwcHg7XFxcIj48L2JhaWR1LW1hcD5cXG4gIDxkaXYgY2xhc3M9XFxcIm1vZGFsLWZvb3RlclxcXCI+XFxuICAgIDxidXR0b24gdHlwZT1cXFwiYnV0dG9uXFxcIiBjbGFzcz1cXFwiYnRuIGJ0bi1kZWZhdWx0IGJ0bi1zbVxcXCIgbmctY2xpY2s9XFxcInZtLmNhbmNlbCgpXFxcIj7lj5bmtog8L2J1dHRvbj5cXG4gIDwvZGl2PlxcbjwvZGl2PlwiKTtcbiR0ZW1wbGF0ZUNhY2hlLnB1dChcIm1vZHVsZXMvZGVtby9tb2RhbHMvZWRpdC90ZW1wbGF0ZS5odG1sXCIsXCI8ZGl2IGNsYXNzPVxcXCJtb2RhbC1oZWFkZXJcXFwiPlxcbiAgPCEtLSA8YnV0dG9uIHR5cGU9XFxcImJ1dHRvblxcXCIgY2xhc3M9XFxcImNsb3NlXFxcIiBkYXRhLWRpc21pc3M9XFxcIm1vZGFsXFxcIiBhcmlhLWxhYmVsPVxcXCJDbG9zZVxcXCIgbmctY2xpY2s9XFxcInZtLmNhbmNlbCgpO1xcXCI+XFxuICAgIDxzcGFuIGFyaWEtaGlkZGVuPVxcXCJ0cnVlXFxcIj4mdGltZXM7PC9zcGFuPlxcbiAgPC9idXR0b24+IC0tPlxcbiAgPGg0IGNsYXNzPVxcXCJtb2RhbC10aXRsZVxcXCI+6K6+572uPC9oND5cXG48L2Rpdj5cXG48ZGl2IGNsYXNzPVxcXCJtb2RhbC1ib2R5XFxcIj5cXG4gIDxmb3JtIGNsYXNzPVxcXCJmb3JtLWhvcml6b250YWxcXFwiIG5hbWU9XFxcIkZvcm1cXFwiPlxcbiAgICA8ZGl2IGNsYXNzPVxcXCJmb3JtLWdyb3VwIGNsZWFyZml4XFxcIj5cXG4gICAgICA8bGFiZWwgZm9yPVxcXCJub3RlSW5wdXRcXFwiIGNsYXNzPVxcXCJjb2wtc20tNCBjb250cm9sLWxhYmVsXFxcIj5MYWJlbO+8mjwvbGFiZWw+XFxuICAgICAgPGRpdiBjbGFzcz1cXFwiY29sLXNtLTVcXFwiPlxcbiAgICAgICAgPGlucHV0IHR5cGU9XFxcInRleHRcXFwiIGNsYXNzPVxcXCJmb3JtLWNvbnRyb2xcXFwiIG5nLW1vZGVsPVxcXCJ2bS5pbmZvLmlucHV0XFxcIiBwbGFjZWhvbGRlcj1cXFwi6K+36L6T5YWlXFxcIlxcbiAgICAgICAgICB2YWxpZGF0b3I9XFxcInJlcXVpcmVkXFxcIj5cXG4gICAgICA8L2Rpdj5cXG4gICAgPC9kaXY+XFxuICA8L2Zvcm0+XFxuICA8ZGl2IGNsYXNzPVxcXCJtb2RhbC1mb290ZXJcXFwiPlxcbiAgICA8YnV0dG9uIHR5cGU9XFxcImJ1dHRvblxcXCIgY2xhc3M9XFxcImJ0biBidG4tZGVmYXVsdCBidG4tc21cXFwiIG5nLWNsaWNrPVxcXCJ2bS5jYW5jZWwoKVxcXCI+5Y+W5raIPC9idXR0b24+XFxuICAgIDxidXR0b24gdHlwZT1cXFwiYnV0dG9uXFxcIiBjbGFzcz1cXFwiYnRuIGJ0bi1zdWNjZXNzIGJ0bi1zbVxcXCIgbmctY2xpY2s9XFxcInZtLnN1Ym1pdChGb3JtKVxcXCI+IOS/neWtmDwvYnV0dG9uPlxcbiAgPC9kaXY+XFxuPC9kaXY+XFxuXCIpO1xuJHRlbXBsYXRlQ2FjaGUucHV0KFwibW9kdWxlcy9lbnRlcnByaXNlL21vZGFscy9hZGQvdGVtcGxhdGUuaHRtbFwiLFwiPGRpdiBjbGFzcz1cXFwibW9kYWwtaGVhZGVyXFxcIj5cXG4gIDwhLS0gPGJ1dHRvbiB0eXBlPVxcXCJidXR0b25cXFwiIGNsYXNzPVxcXCJjbG9zZVxcXCIgZGF0YS1kaXNtaXNzPVxcXCJtb2RhbFxcXCIgYXJpYS1sYWJlbD1cXFwiQ2xvc2VcXFwiIG5nLWNsaWNrPVxcXCJ2bS5jYW5jZWwoKTtcXFwiPlxcbiAgICA8c3BhbiBhcmlhLWhpZGRlbj1cXFwidHJ1ZVxcXCI+JnRpbWVzOzwvc3Bhbj5cXG4gIDwvYnV0dG9uPiAtLT5cXG4gIDxoNCBjbGFzcz1cXFwibW9kYWwtdGl0bGVcXFwiPua3u+WKoOS8geS4mjwvaDQ+XFxuPC9kaXY+XFxuPGRpdiBjbGFzcz1cXFwibW9kYWwtYm9keVxcXCI+XFxuICA8Zm9ybSBjbGFzcz1cXFwiZm9ybS1ob3Jpem9udGFsXFxcIiBuYW1lPVxcXCJGb3JtXFxcIj5cXG4gICAgPGRpdiBjbGFzcz1cXFwiZm9ybS1ncm91cCBjbGVhcmZpeFxcXCI+XFxuICAgICAgPGxhYmVsIGZvcj1cXFwibm90ZUlucHV0XFxcIiBjbGFzcz1cXFwiY29sLXNtLTQgY29udHJvbC1sYWJlbFxcXCI+5LyB5Lia5ZCN56ew77yaPC9sYWJlbD5cXG4gICAgICA8ZGl2IGNsYXNzPVxcXCJjb2wtc20tNlxcXCI+XFxuICAgICAgICA8aW5wdXQgdHlwZT1cXFwidGV4dFxcXCIgY2xhc3M9XFxcImZvcm0tY29udHJvbFxcXCIgbmctbW9kZWw9XFxcInZtLmlucHV0SW5mby5uYW1lXFxcIiBwbGFjZWhvbGRlcj1cXFwi6K+36L6T5YWlXFxcIlxcbiAgICAgICAgICB2YWxpZGF0b3I9XFxcInJlcXVpcmVkXFxcIj5cXG4gICAgICA8L2Rpdj5cXG4gICAgPC9kaXY+XFxuICA8L2Zvcm0+XFxuICA8ZGl2IGNsYXNzPVxcXCJtb2RhbC1mb290ZXJcXFwiPlxcbiAgICA8YnV0dG9uIHR5cGU9XFxcImJ1dHRvblxcXCIgY2xhc3M9XFxcImJ0biBidG4tZGVmYXVsdCBidG4tc21cXFwiIG5nLWNsaWNrPVxcXCJ2bS5jYW5jZWwoKVxcXCI+5Y+W5raIPC9idXR0b24+XFxuICAgIDxidXR0b24gdHlwZT1cXFwiYnV0dG9uXFxcIiBjbGFzcz1cXFwiYnRuIGJ0bi1zdWNjZXNzIGJ0bi1zbVxcXCIgbmctY2xpY2s9XFxcInZtLnN1Ym1pdChGb3JtKVxcXCI+IOS/neWtmDwvYnV0dG9uPlxcbiAgPC9kaXY+XFxuPC9kaXY+XFxuXCIpO1xuJHRlbXBsYXRlQ2FjaGUucHV0KFwibW9kdWxlcy9lbnRlcnByaXNlL21vZGFscy9icmFuY2gvdGVtcGxhdGUuaHRtbFwiLFwiPGRpdiBjbGFzcz1cXFwibW9kYWwtaGVhZGVyXFxcIj5cXG4gIDwhLS0gPGJ1dHRvbiB0eXBlPVxcXCJidXR0b25cXFwiIGNsYXNzPVxcXCJjbG9zZVxcXCIgZGF0YS1kaXNtaXNzPVxcXCJtb2RhbFxcXCIgYXJpYS1sYWJlbD1cXFwiQ2xvc2VcXFwiIG5nLWNsaWNrPVxcXCJ2bS5jYW5jZWwoKTtcXFwiPlxcbiAgICA8c3BhbiBhcmlhLWhpZGRlbj1cXFwidHJ1ZVxcXCI+JnRpbWVzOzwvc3Bhbj5cXG4gIDwvYnV0dG9uPiAtLT5cXG4gIDxoNCBjbGFzcz1cXFwibW9kYWwtdGl0bGVcXFwiPuWIhumFjeacuuaehDwvaDQ+XFxuPC9kaXY+XFxuPGRpdiBjbGFzcz1cXFwibW9kYWwtYm9keVxcXCI+XFxuICA8Zm9ybSBjbGFzcz1cXFwiZm9ybS1ob3Jpem9udGFsXFxcIiBuYW1lPVxcXCJGb3JtXFxcIj5cXG4gICAgPGRpdiBjbGFzcz1cXFwiZm9ybS1ncm91cCBjbGVhcmZpeFxcXCI+XFxuICAgICAgPGxhYmVsIGZvcj1cXFwic2VsZWN0X21haW5cXFwiIGNsYXNzPVxcXCJjb2wtc20tMTIgdGV4dC1jZW50ZXJcXFwiPumAieaLqeacuuaehDwvbGFiZWw+XFxuICAgIDwvZGl2PlxcbiAgICA8ZGl2IGNsYXNzPVxcXCJmb3JtLWdyb3VwIGNsZWFyZml4XFxcIj5cXG4gICAgICA8ZGl2IGNsYXNzPVxcXCJjb2wtc20tMTJcXFwiPlxcbiAgICAgICAgPHNlbGVjdCBuYW1lPVxcXCJzZWxlY3RCcmFuY2hcXFwiIGNsYXNzPVxcXCJmb3JtLWNvbnRyb2wgYy1zZWxlY3RcXFwiIFxcbiAgICAgICAgICBuZy1vcHRpb25zPVxcXCJpdGVtLmlkIGFzIGl0ZW0ubmFtZSBmb3IgaXRlbSBpbiB2bS5saXN0XFxcIiBuZy1tb2RlbD1cXFwidm0uaW5wdXRJbmZvLmJyYW5jaFxcXCIgXFxuICAgICAgICAgIHBsYWNlaG9sZGVyPVxcXCLor7fpgInmi6lcXFwiIHZhbGlkYXRvcj1cXFwicmVxdWlyZWRcXFwiIHNpemU9XFxcIjEwXFxcIj5cXG4gICAgICAgICAgPG9wdGlvbiB2YWx1ZT1cXFwiXFxcIj7or7fpgInmi6k8L29wdGlvbj5cXG4gICAgICAgIDwvc2VsZWN0PlxcbiAgICAgIDwvZGl2PlxcbiAgICA8L2Rpdj5cXG4gIDwvZm9ybT5cXG4gIDxkaXYgY2xhc3M9XFxcIm1vZGFsLWZvb3RlclxcXCI+XFxuICAgIDxidXR0b24gdHlwZT1cXFwiYnV0dG9uXFxcIiBjbGFzcz1cXFwiYnRuIGJ0bi1kZWZhdWx0IGJ0bi1zbVxcXCIgbmctY2xpY2s9XFxcInZtLmNhbmNlbCgpXFxcIj7lj5bmtog8L2J1dHRvbj5cXG4gICAgPGJ1dHRvbiB0eXBlPVxcXCJidXR0b25cXFwiIGNsYXNzPVxcXCJidG4gYnRuLXN1Y2Nlc3MgYnRuLXNtXFxcIiBuZy1jbGljaz1cXFwidm0uc3VibWl0KEZvcm0pXFxcIj4g56Gu5a6aPC9idXR0b24+XFxuICA8L2Rpdj5cXG48L2Rpdj5cXG5cIik7XG4kdGVtcGxhdGVDYWNoZS5wdXQoXCJtb2R1bGVzL2VudGVycHJpc2UvbW9kYWxzL21hbmFnZS90ZW1wbGF0ZS5odG1sXCIsXCI8ZGl2IGNsYXNzPVxcXCJtb2RhbC1oZWFkZXJcXFwiPlxcbiAgPCEtLSA8YnV0dG9uIHR5cGU9XFxcImJ1dHRvblxcXCIgY2xhc3M9XFxcImNsb3NlXFxcIiBkYXRhLWRpc21pc3M9XFxcIm1vZGFsXFxcIiBhcmlhLWxhYmVsPVxcXCJDbG9zZVxcXCIgbmctY2xpY2s9XFxcInZtLmNhbmNlbCgpO1xcXCI+XFxuICAgIDxzcGFuIGFyaWEtaGlkZGVuPVxcXCJ0cnVlXFxcIj4mdGltZXM7PC9zcGFuPlxcbiAgPC9idXR0b24+IC0tPlxcbiAgPGg0IGNsYXNzPVxcXCJtb2RhbC10aXRsZVxcXCI+5YiG6YWN5a6i5oi357uP55CGPC9oND5cXG48L2Rpdj5cXG48ZGl2IGNsYXNzPVxcXCJtb2RhbC1ib2R5XFxcIj5cXG4gIDxmb3JtIGNsYXNzPVxcXCJmb3JtLWhvcml6b250YWxcXFwiIG5hbWU9XFxcIkZvcm1cXFwiPlxcbiAgICA8ZGl2IGNsYXNzPVxcXCJmb3JtLWdyb3VwIGNsZWFyZml4XFxcIj5cXG4gICAgICA8bGFiZWwgZm9yPVxcXCJzZWxlY3RfbWFpblxcXCIgY2xhc3M9XFxcImNvbC1zbS02IHRleHQtY2VudGVyXFxcIj7kuLvnkIY8L2xhYmVsPlxcbiAgICAgIDxsYWJlbCBmb3I9XFxcInNlbGVjdF92aWNlXFxcIiBjbGFzcz1cXFwiY29sLXNtLTYgdGV4dC1jZW50ZXJcXFwiPuWNj+eQhjwvbGFiZWw+XFxuICAgIDwvZGl2PlxcbiAgICA8ZGl2IGNsYXNzPVxcXCJmb3JtLWdyb3VwIGNsZWFyZml4XFxcIj5cXG4gICAgICA8ZGl2IGNsYXNzPVxcXCJjb2wtc20tNlxcXCI+XFxuICAgICAgICA8c2VsZWN0IG5hbWU9XFxcInNlbGVjdE1haW5cXFwiIGNsYXNzPVxcXCJmb3JtLWNvbnRyb2wgYy1zZWxlY3RcXFwiIFxcbiAgICAgICAgICBuZy1vcHRpb25zPVxcXCJpdGVtLmlkIGFzIGl0ZW0udHJ1ZV9uYW1lIGZvciBpdGVtIGluIHZtLmxpc3RcXFwiIG5nLW1vZGVsPVxcXCJ2bS5pbnB1dEluZm8ubWFpblxcXCIgXFxuICAgICAgICAgIHBsYWNlaG9sZGVyPVxcXCLor7fpgInmi6lcXFwiIHZhbGlkYXRvcj1cXFwicmVxdWlyZWRcXFwiIHNpemU9XFxcIjEwXFxcIj5cXG4gICAgICAgICAgPG9wdGlvbiB2YWx1ZT1cXFwiXFxcIj7or7fpgInmi6k8L29wdGlvbj5cXG4gICAgICAgIDwvc2VsZWN0PlxcbiAgICAgIDwvZGl2PlxcbiAgICAgIDxkaXYgY2xhc3M9XFxcImNvbC1zbS02XFxcIj5cXG4gICAgICAgIDxzZWxlY3QgbmFtZT1cXFwic2VsZWN0VmljZVxcXCIgY2xhc3M9XFxcImZvcm0tY29udHJvbCBjLXNlbGVjdFxcXCIgXFxuICAgICAgICAgIG5nLW9wdGlvbnM9XFxcIml0ZW0uaWQgYXMgaXRlbS50cnVlX25hbWUgZm9yIGl0ZW0gaW4gdm0ubGlzdFxcXCIgbmctbW9kZWw9XFxcInZtLmlucHV0SW5mby52aWNlXFxcIlxcbiAgICAgICAgICAgcGxhY2Vob2xkZXI9XFxcIuivt+mAieaLqVxcXCIgc2l6ZT1cXFwiMTBcXFwiIG1hdGNoPVxcXCJ2bS5pbnB1dEluZm8ubWFpblxcXCIgbm90LW1hdGNoPVxcXCJ0cnVlXFxcIj5cXG4gICAgICAgICAgPG9wdGlvbiB2YWx1ZT1cXFwiXFxcIj7or7fpgInmi6k8L29wdGlvbj5cXG4gICAgICAgIDwvc2VsZWN0PlxcbiAgICAgICAgPHNwYW4gbmctc2hvdz1cXFwiRm9ybS5zZWxlY3RWaWNlLiRlcnJvci5tYXRjaFxcXCIgY2xhc3M9XFxcInZhbGlkYXRpb24taW52YWxpZFxcXCI+XFxuICAgICAgICAgIDxwPuS4u+eQhuWSjOWNj+eQhuS4jeiDveS4uuWQjOS4gOS6uu+8gTwvcD5cXG4gICAgICAgIDwvc3Bhbj5cXG4gICAgICA8L2Rpdj5cXG4gICAgPC9kaXY+XFxuICA8L2Zvcm0+XFxuICA8ZGl2IGNsYXNzPVxcXCJtb2RhbC1mb290ZXJcXFwiPlxcbiAgICA8YnV0dG9uIHR5cGU9XFxcImJ1dHRvblxcXCIgY2xhc3M9XFxcImJ0biBidG4tZGVmYXVsdCBidG4tc21cXFwiIG5nLWNsaWNrPVxcXCJ2bS5jYW5jZWwoKVxcXCI+5Y+W5raIPC9idXR0b24+XFxuICAgIDxidXR0b24gdHlwZT1cXFwiYnV0dG9uXFxcIiBjbGFzcz1cXFwiYnRuIGJ0bi1zdWNjZXNzIGJ0bi1zbVxcXCIgbmctY2xpY2s9XFxcInZtLnN1Ym1pdChGb3JtKVxcXCI+IOehruWumjwvYnV0dG9uPlxcbiAgPC9kaXY+XFxuPC9kaXY+XFxuXCIpO1xuJHRlbXBsYXRlQ2FjaGUucHV0KFwibW9kdWxlcy9maWx0ZXIvbW9kYWxzL2FkZC90ZW1wbGF0ZS5odG1sXCIsXCI8ZGl2IGNsYXNzPVxcXCJtb2RhbC1oZWFkZXJcXFwiPlxcbiAgPCEtLSA8YnV0dG9uIHR5cGU9XFxcImJ1dHRvblxcXCIgY2xhc3M9XFxcImNsb3NlXFxcIiBkYXRhLWRpc21pc3M9XFxcIm1vZGFsXFxcIiBhcmlhLWxhYmVsPVxcXCJDbG9zZVxcXCIgbmctY2xpY2s9XFxcInZtLmNhbmNlbCgpO1xcXCI+XFxuICAgIDxzcGFuIGFyaWEtaGlkZGVuPVxcXCJ0cnVlXFxcIj4mdGltZXM7PC9zcGFuPlxcbiAgPC9idXR0b24+IC0tPlxcbiAgPGg0IGNsYXNzPVxcXCJtb2RhbC10aXRsZVxcXCI+5re75Yqg6buR5ZCN5Y2VPC9oND5cXG48L2Rpdj5cXG48ZGl2IGNsYXNzPVxcXCJtb2RhbC1ib2R5XFxcIj5cXG4gIDxmb3JtIGNsYXNzPVxcXCJmb3JtLWhvcml6b250YWxcXFwiIG5hbWU9XFxcIkZvcm1cXFwiPlxcbiAgICA8ZGl2IGNsYXNzPVxcXCJmb3JtLWdyb3VwIGNsZWFyZml4XFxcIj5cXG4gICAgICA8bGFiZWwgZm9yPVxcXCJub3RlSW5wdXRcXFwiIGNsYXNzPVxcXCJjb2wtc20tNCBjb250cm9sLWxhYmVsXFxcIj7lhazlj7jlkI3np7DvvJo8L2xhYmVsPlxcbiAgICAgIDxkaXYgY2xhc3M9XFxcImNvbC1zbS02XFxcIj5cXG4gICAgICAgIDxpbnB1dCB0eXBlPVxcXCJ0ZXh0XFxcIiBjbGFzcz1cXFwiZm9ybS1jb250cm9sXFxcIiBuZy1tb2RlbD1cXFwidm0uaW5wdXRJbmZvLm5hbWVcXFwiIHBsYWNlaG9sZGVyPVxcXCLor7fovpPlhaVcXFwiXFxuICAgICAgICAgIHZhbGlkYXRvcj1cXFwicmVxdWlyZWRcXFwiPlxcbiAgICAgIDwvZGl2PlxcbiAgICA8L2Rpdj5cXG4gICAgPGRpdiBjbGFzcz1cXFwiZm9ybS1ncm91cCBjbGVhcmZpeFxcXCI+XFxuICAgICAgPGxhYmVsIGZvcj1cXFwibm90ZUlucHV0XFxcIiBjbGFzcz1cXFwiY29sLXNtLTQgY29udHJvbC1sYWJlbFxcXCI+5L+h5oGv5p2l5rqQ77yaPC9sYWJlbD5cXG4gICAgICA8ZGl2IGNsYXNzPVxcXCJjb2wtc20tNlxcXCI+XFxuICAgICAgICA8aW5wdXQgdHlwZT1cXFwidGV4dFxcXCIgY2xhc3M9XFxcImZvcm0tY29udHJvbFxcXCIgbmctbW9kZWw9XFxcInZtLmlucHV0SW5mby5zb3VyY2VcXFwiIHBsYWNlaG9sZGVyPVxcXCLor7fovpPlhaVcXFwiPlxcbiAgICAgIDwvZGl2PlxcbiAgICA8L2Rpdj5cXG4gICAgPGRpdiBjbGFzcz1cXFwiZm9ybS1ncm91cCBjbGVhcmZpeFxcXCI+XFxuICAgICAgPGxhYmVsIGZvcj1cXFwibm90ZUlucHV0XFxcIiBjbGFzcz1cXFwiY29sLXNtLTQgY29udHJvbC1sYWJlbFxcXCI+5aSH5rOo77yaPC9sYWJlbD5cXG4gICAgICA8ZGl2IGNsYXNzPVxcXCJjb2wtc20tNlxcXCI+XFxuICAgICAgICA8dGV4dGFyZWEgY2xhc3M9XFxcImZvcm0tY29udHJvbFxcXCIgbmctbW9kZWw9XFxcInZtLmlucHV0SW5mby5ub3RlXFxcIiBwbGFjZWhvbGRlcj1cXFwi6K+36L6T5YWlXFxcIlxcbiAgICAgICAgICBtYXhsZW5ndGg9XFxcIjIwMFxcXCI+PC90ZXh0YXJlYT4gXFxuICAgICAgPC9kaXY+XFxuICAgIDwvZGl2PlxcbiAgPC9mb3JtPlxcbiAgPGRpdiBjbGFzcz1cXFwibW9kYWwtZm9vdGVyXFxcIj5cXG4gICAgPGJ1dHRvbiB0eXBlPVxcXCJidXR0b25cXFwiIGNsYXNzPVxcXCJidG4gYnRuLWRlZmF1bHQgYnRuLXNtXFxcIiBuZy1jbGljaz1cXFwidm0uY2FuY2VsKClcXFwiPuWPlua2iDwvYnV0dG9uPlxcbiAgICA8YnV0dG9uIHR5cGU9XFxcImJ1dHRvblxcXCIgY2xhc3M9XFxcImJ0biBidG4tc3VjY2VzcyBidG4tc21cXFwiIG5nLWNsaWNrPVxcXCJ2bS5zdWJtaXQoRm9ybSlcXFwiPiDkv53lrZg8L2J1dHRvbj5cXG4gIDwvZGl2PlxcbjwvZGl2PlxcblwiKTtcbiR0ZW1wbGF0ZUNhY2hlLnB1dChcIm1vZHVsZXMvaW5mb3JtYXRpb24vbW9kYWxzL2JyYW5jaC90ZW1wbGF0ZS5odG1sXCIsXCI8ZGl2IGNsYXNzPVxcXCJtb2RhbC1oZWFkZXJcXFwiPlxcbiAgPCEtLSA8YnV0dG9uIHR5cGU9XFxcImJ1dHRvblxcXCIgY2xhc3M9XFxcImNsb3NlXFxcIiBkYXRhLWRpc21pc3M9XFxcIm1vZGFsXFxcIiBhcmlhLWxhYmVsPVxcXCJDbG9zZVxcXCIgbmctY2xpY2s9XFxcInZtLmNhbmNlbCgpO1xcXCI+XFxuICAgIDxzcGFuIGFyaWEtaGlkZGVuPVxcXCJ0cnVlXFxcIj4mdGltZXM7PC9zcGFuPlxcbiAgPC9idXR0b24+IC0tPlxcbiAgPGg0IGNsYXNzPVxcXCJtb2RhbC10aXRsZVxcXCI+5YiG6YWNPC9oND5cXG48L2Rpdj5cXG48ZGl2IGNsYXNzPVxcXCJtb2RhbC1ib2R5XFxcIj5cXG4gIDxmb3JtIGNsYXNzPVxcXCJmb3JtLWhvcml6b250YWxcXFwiIG5hbWU9XFxcIkZvcm1cXFwiPlxcbiAgICA8ZGl2IGNsYXNzPVxcXCJmb3JtLWdyb3VwIGNsZWFyZml4XFxcIj5cXG4gICAgICA8bGFiZWwgZm9yPVxcXCJzZWxlY3RfbWFpblxcXCIgY2xhc3M9XFxcImNvbC1zbS0xMiB0ZXh0LWNlbnRlclxcXCI+6YCJ5oup5pSv6KGMPC9sYWJlbD5cXG4gICAgPC9kaXY+XFxuICAgIDxkaXYgY2xhc3M9XFxcImZvcm0tZ3JvdXAgY2xlYXJmaXhcXFwiPlxcbiAgICAgIDxkaXYgY2xhc3M9XFxcImNvbC1zbS0xMlxcXCI+XFxuICAgICAgICA8c2VsZWN0IG5hbWU9XFxcInNlbGVjdEJyYW5jaFxcXCIgY2xhc3M9XFxcImZvcm0tY29udHJvbCBjLXNlbGVjdFxcXCIgXFxuICAgICAgICAgIG5nLW9wdGlvbnM9XFxcIml0ZW0uaWQgYXMgaXRlbS5uYW1lIGZvciBpdGVtIGluIHZtLmxpc3RcXFwiIG5nLW1vZGVsPVxcXCJ2bS5pbnB1dEluZm8uYnJhbmNoXFxcIiBcXG4gICAgICAgICAgcGxhY2Vob2xkZXI9XFxcIuivt+mAieaLqVxcXCIgdmFsaWRhdG9yPVxcXCJyZXF1aXJlZFxcXCIgc2l6ZT1cXFwiMTBcXFwiPlxcbiAgICAgICAgICA8b3B0aW9uIHZhbHVlPVxcXCJcXFwiPuivt+mAieaLqTwvb3B0aW9uPlxcbiAgICAgICAgPC9zZWxlY3Q+XFxuICAgICAgPC9kaXY+XFxuICAgIDwvZGl2PlxcbiAgPC9mb3JtPlxcbiAgPGRpdiBjbGFzcz1cXFwibW9kYWwtZm9vdGVyXFxcIj5cXG4gICAgPGJ1dHRvbiB0eXBlPVxcXCJidXR0b25cXFwiIGNsYXNzPVxcXCJidG4gYnRuLWRlZmF1bHQgYnRuLXNtXFxcIiBuZy1jbGljaz1cXFwidm0uY2FuY2VsKClcXFwiPuWPlua2iDwvYnV0dG9uPlxcbiAgICA8YnV0dG9uIHR5cGU9XFxcImJ1dHRvblxcXCIgY2xhc3M9XFxcImJ0biBidG4tc3VjY2VzcyBidG4tc21cXFwiIG5nLWNsaWNrPVxcXCJ2bS5zdWJtaXQoRm9ybSlcXFwiPiDnoa7lrpo8L2J1dHRvbj5cXG4gIDwvZGl2PlxcbjwvZGl2PlxcblwiKTtcbiR0ZW1wbGF0ZUNhY2hlLnB1dChcIm1vZHVsZXMvaW5mb3JtYXRpb24vbW9kYWxzL21hbmFnZS90ZW1wbGF0ZS5odG1sXCIsXCI8ZGl2IGNsYXNzPVxcXCJtb2RhbC1oZWFkZXJcXFwiPlxcbiAgPCEtLSA8YnV0dG9uIHR5cGU9XFxcImJ1dHRvblxcXCIgY2xhc3M9XFxcImNsb3NlXFxcIiBkYXRhLWRpc21pc3M9XFxcIm1vZGFsXFxcIiBhcmlhLWxhYmVsPVxcXCJDbG9zZVxcXCIgbmctY2xpY2s9XFxcInZtLmNhbmNlbCgpO1xcXCI+XFxuICAgIDxzcGFuIGFyaWEtaGlkZGVuPVxcXCJ0cnVlXFxcIj4mdGltZXM7PC9zcGFuPlxcbiAgPC9idXR0b24+IC0tPlxcbiAgPGg0IGNsYXNzPVxcXCJtb2RhbC10aXRsZVxcXCI+5YiG6YWNPC9oND5cXG48L2Rpdj5cXG48ZGl2IGNsYXNzPVxcXCJtb2RhbC1ib2R5XFxcIj5cXG4gIDxmb3JtIGNsYXNzPVxcXCJmb3JtLWhvcml6b250YWxcXFwiIG5hbWU9XFxcIkZvcm1cXFwiPlxcbiAgICA8ZGl2IGNsYXNzPVxcXCJmb3JtLWdyb3VwIGNsZWFyZml4XFxcIj5cXG4gICAgICA8bGFiZWwgZm9yPVxcXCJzZWxlY3RfbWFpblxcXCIgY2xhc3M9XFxcImNvbC1zbS02IHRleHQtY2VudGVyXFxcIj7kuLvnkIY8L2xhYmVsPlxcbiAgICAgIDxsYWJlbCBmb3I9XFxcInNlbGVjdF92aWNlXFxcIiBjbGFzcz1cXFwiY29sLXNtLTYgdGV4dC1jZW50ZXJcXFwiPuWNj+eQhjwvbGFiZWw+XFxuICAgIDwvZGl2PlxcbiAgICA8ZGl2IGNsYXNzPVxcXCJmb3JtLWdyb3VwIGNsZWFyZml4XFxcIj5cXG4gICAgICA8ZGl2IGNsYXNzPVxcXCJjb2wtc20tNlxcXCI+XFxuICAgICAgICA8c2VsZWN0IG5hbWU9XFxcInNlbGVjdE1haW5cXFwiIGNsYXNzPVxcXCJmb3JtLWNvbnRyb2wgYy1zZWxlY3RcXFwiIFxcbiAgICAgICAgICBuZy1vcHRpb25zPVxcXCJpdGVtLmlkIGFzIGl0ZW0ubmFtZSBmb3IgaXRlbSBpbiB2bS5saXN0XFxcIiBuZy1tb2RlbD1cXFwidm0uaW5wdXRJbmZvLm1haW5cXFwiIFxcbiAgICAgICAgICBwbGFjZWhvbGRlcj1cXFwi6K+36YCJ5oupXFxcIiB2YWxpZGF0b3I9XFxcInJlcXVpcmVkXFxcIiBzaXplPVxcXCIxMFxcXCI+XFxuICAgICAgICAgIDxvcHRpb24gdmFsdWU9XFxcIlxcXCI+6K+36YCJ5oupPC9vcHRpb24+XFxuICAgICAgICA8L3NlbGVjdD5cXG4gICAgICA8L2Rpdj5cXG4gICAgICA8ZGl2IGNsYXNzPVxcXCJjb2wtc20tNlxcXCI+XFxuICAgICAgICA8c2VsZWN0IG5hbWU9XFxcInNlbGVjdFZpY2VcXFwiIGNsYXNzPVxcXCJmb3JtLWNvbnRyb2wgYy1zZWxlY3RcXFwiIFxcbiAgICAgICAgICBuZy1vcHRpb25zPVxcXCJpdGVtLmlkIGFzIGl0ZW0ubmFtZSBmb3IgaXRlbSBpbiB2bS5saXN0XFxcIiBuZy1tb2RlbD1cXFwidm0uaW5wdXRJbmZvLnZpY2VcXFwiXFxuICAgICAgICAgICBwbGFjZWhvbGRlcj1cXFwi6K+36YCJ5oupXFxcIiBzaXplPVxcXCIxMFxcXCIgbWF0Y2g9XFxcInZtLmlucHV0SW5mby5tYWluXFxcIiBub3QtbWF0Y2g9XFxcInRydWVcXFwiPlxcbiAgICAgICAgICA8b3B0aW9uIHZhbHVlPVxcXCJcXFwiPuivt+mAieaLqTwvb3B0aW9uPlxcbiAgICAgICAgPC9zZWxlY3Q+XFxuICAgICAgICA8c3BhbiBuZy1zaG93PVxcXCJGb3JtLnNlbGVjdFZpY2UuJGVycm9yLm1hdGNoXFxcIiBjbGFzcz1cXFwidmFsaWRhdGlvbi1pbnZhbGlkXFxcIj5cXG4gICAgICAgICAgPHA+5Li755CG5ZKM5Y2P55CG5LiN6IO95Li65ZCM5LiA5Lq677yBPC9wPlxcbiAgICAgICAgPC9zcGFuPlxcbiAgICAgIDwvZGl2PlxcbiAgICA8L2Rpdj5cXG4gIDwvZm9ybT5cXG4gIDxkaXYgY2xhc3M9XFxcIm1vZGFsLWZvb3RlclxcXCI+XFxuICAgIDxidXR0b24gdHlwZT1cXFwiYnV0dG9uXFxcIiBjbGFzcz1cXFwiYnRuIGJ0bi1kZWZhdWx0IGJ0bi1zbVxcXCIgbmctY2xpY2s9XFxcInZtLmNhbmNlbCgpXFxcIj7lj5bmtog8L2J1dHRvbj5cXG4gICAgPGJ1dHRvbiB0eXBlPVxcXCJidXR0b25cXFwiIGNsYXNzPVxcXCJidG4gYnRuLXN1Y2Nlc3MgYnRuLXNtXFxcIiBuZy1jbGljaz1cXFwidm0uc3VibWl0KEZvcm0pXFxcIj4g56Gu5a6aPC9idXR0b24+XFxuICA8L2Rpdj5cXG48L2Rpdj5cXG5cIik7XG4kdGVtcGxhdGVDYWNoZS5wdXQoXCJtb2R1bGVzL2ludmVzdG1lbnQvbW9kYWxzL2FkZC90ZW1wbGF0ZS5odG1sXCIsXCI8ZGl2IGNsYXNzPVxcXCJtb2RhbC1oZWFkZXJcXFwiPlxcbiAgPCEtLSA8YnV0dG9uIHR5cGU9XFxcImJ1dHRvblxcXCIgY2xhc3M9XFxcImNsb3NlXFxcIiBkYXRhLWRpc21pc3M9XFxcIm1vZGFsXFxcIiBhcmlhLWxhYmVsPVxcXCJDbG9zZVxcXCIgbmctY2xpY2s9XFxcInZtLmNhbmNlbCgpO1xcXCI+XFxuICAgIDxzcGFuIGFyaWEtaGlkZGVuPVxcXCJ0cnVlXFxcIj4mdGltZXM7PC9zcGFuPlxcbiAgPC9idXR0b24+IC0tPlxcbiAgPGg0IGNsYXNzPVxcXCJtb2RhbC10aXRsZVxcXCI+5re75Yqg5oqV6LWE5YWs5Y+4PC9oND5cXG48L2Rpdj5cXG48ZGl2IGNsYXNzPVxcXCJtb2RhbC1ib2R5XFxcIj5cXG4gIDxmb3JtIGNsYXNzPVxcXCJmb3JtLWhvcml6b250YWxcXFwiIG5hbWU9XFxcIkZvcm1cXFwiPlxcbiAgICA8ZGl2IGNsYXNzPVxcXCJmb3JtLWdyb3VwIGNsZWFyZml4XFxcIj5cXG4gICAgICA8bGFiZWwgZm9yPVxcXCJub3RlSW5wdXRcXFwiIGNsYXNzPVxcXCJjb2wtc20tNCBjb250cm9sLWxhYmVsXFxcIj7lhazlj7jlkI3np7DvvJo8L2xhYmVsPlxcbiAgICAgIDxkaXYgY2xhc3M9XFxcImNvbC1zbS02XFxcIj5cXG4gICAgICAgIDxpbnB1dCB0eXBlPVxcXCJ0ZXh0XFxcIiBjbGFzcz1cXFwiZm9ybS1jb250cm9sXFxcIiBuZy1tb2RlbD1cXFwidm0uaW5wdXRJbmZvLm5hbWVcXFwiIHBsYWNlaG9sZGVyPVxcXCLor7fovpPlhaVcXFwiXFxuICAgICAgICAgIHZhbGlkYXRvcj1cXFwicmVxdWlyZWRcXFwiPlxcbiAgICAgIDwvZGl2PlxcbiAgICA8L2Rpdj5cXG4gICAgPGRpdiBjbGFzcz1cXFwiZm9ybS1ncm91cCBjbGVhcmZpeFxcXCI+XFxuICAgICAgPGxhYmVsIGZvcj1cXFwibm90ZUlucHV0XFxcIiBjbGFzcz1cXFwiY29sLXNtLTQgY29udHJvbC1sYWJlbFxcXCI+5YWs5Y+4566A56ew77yaPC9sYWJlbD5cXG4gICAgICA8ZGl2IGNsYXNzPVxcXCJjb2wtc20tNlxcXCI+XFxuICAgICAgICA8aW5wdXQgdHlwZT1cXFwidGV4dFxcXCIgY2xhc3M9XFxcImZvcm0tY29udHJvbFxcXCIgbmctbW9kZWw9XFxcInZtLmlucHV0SW5mby52Y19uYW1lXFxcIiBwbGFjZWhvbGRlcj1cXFwi6K+36L6T5YWlXFxcIlxcbiAgICAgICAgICB2YWxpZGF0b3I9XFxcInJlcXVpcmVkXFxcIiA+XFxuICAgICAgPC9kaXY+XFxuICAgIDwvZGl2PlxcbiAgPC9mb3JtPlxcbiAgPGRpdiBjbGFzcz1cXFwibW9kYWwtZm9vdGVyXFxcIj5cXG4gICAgPGJ1dHRvbiB0eXBlPVxcXCJidXR0b25cXFwiIGNsYXNzPVxcXCJidG4gYnRuLWRlZmF1bHQgYnRuLXNtXFxcIiBuZy1jbGljaz1cXFwidm0uY2FuY2VsKClcXFwiPuWPlua2iDwvYnV0dG9uPlxcbiAgICA8YnV0dG9uIHR5cGU9XFxcImJ1dHRvblxcXCIgY2xhc3M9XFxcImJ0biBidG4tc3VjY2VzcyBidG4tc21cXFwiIG5nLWNsaWNrPVxcXCJ2bS5zdWJtaXQoRm9ybSlcXFwiPiDkv53lrZg8L2J1dHRvbj5cXG4gIDwvZGl2PlxcbjwvZGl2PlxcblwiKTt9XSk7Iiwi77u/LyoqXG4qIGhhcnJpZS5tZGVkaXRvciBNb2R1bGVcbipcbiogRGVzY3JpcHRpb25cbiogYSBtYXJrZG93biBlZGl0b3IgZm9yIGFuZ3VsYXJcbiogaHR0cHM6Ly9naXRodWIuY29tL3ZhckhhcnJpZS9hbmd1bGFyLW1kZWRpdG9yXG4qL1xuYW5ndWxhci5tb2R1bGUoJ3VpLm1kZWRpdG9yJywgW1xuXSlcbi5jb25maWcoZnVuY3Rpb24oKXtcblx0aWYoYW5ndWxhci5pc1VuZGVmaW5lZCh3aW5kb3cubWFya2VkKSl7dGhyb3cobmV3IEVycm9yKCdSZXF1aXJlIG1hcmtlZCEnKSk7fVxuXHRpZihhbmd1bGFyLmlzVW5kZWZpbmVkKHdpbmRvdy5obGpzKSl7dGhyb3cobmV3IEVycm9yKCdSZXF1aXJlIGhsanMhJykpO31cblx0U3RyaW5nLnByb3RvdHlwZS5zdGFydFdpdGg9ZnVuY3Rpb24oc3RyLGRvVHJpbSl7XG5cdFx0dmFyIHM9KHR5cGVvZiBkb1RyaW0hPT0ndW5kZWZpbmVkJyYmISFkb1RyaW0pP3RoaXMudHJpbSgpOnRoaXM7XG5cdFx0cmV0dXJuICh0eXBlb2Ygc3RyPT09J3N0cmluZycpICYmIHMubGVuZ3RoPj1zdHIubGVuZ3RoICYmIHMuc3Vic3RyKDAsc3RyLmxlbmd0aCk9PT1zdHI7XG5cdH1cblx0U3RyaW5nLnByb3RvdHlwZS5lbmRXaXRoPWZ1bmN0aW9uKHN0cixkb1RyaW0pe1xuXHRcdHZhciBzPSh0eXBlb2YgZG9UcmltIT09J3VuZGVmaW5lZCcmJiEhZG9UcmltKT90aGlzLnRyaW0oKTp0aGlzO1xuXHRcdHJldHVybiAodHlwZW9mIHN0cj09PSdzdHJpbmcnKSAmJiBzLmxlbmd0aD49c3RyLmxlbmd0aCAmJiBzLnN1YnN0cihzLmxlbmd0aC1zdHIubGVuZ3RoKT09PXN0cjtcblx0fVxuXG59KVxuLmNvbnN0YW50KCdtZGVkaXRvckNvbmZpZycse1xuXHRjbGFzc05hbWVzOntcblx0XHR3cmFwcGVyOidtZGVkaXRvcicsXG5cdFx0dG9vbGJhcjonbWRlZGl0b3ItdG9vbGJhcicsXG5cdFx0dG9vbGJhckl0ZW06J21kZWRpdG9yLXRvb2xiYXItaXRlbScsXG5cdFx0c2VwYXJhdG9yOidtZGVkaXRvci10b29sYmFyLXNlcGFyYXRvcicsXG5cdFx0dGV4dGFyZWE6J21kZWRpdG9yLXRleHRhcmVhJyxcblx0XHRwcmV2aWV3OidtZGVkaXRvci1wcmV2aWV3J1xuXHR9LFxuXHR0b29sYmFyOltcblx0XHR7YWN0aW9uOidib2xkJyxpY29uOidmYSBmYS1ib2xkJyx0aXA6J+WKoOeylyhDdHJsK0IpJ30sXG5cdFx0e2FjdGlvbjonaXRhbGljJyxpY29uOidmYSBmYS1pdGFsaWMnLHRpcDon5pac5L2TKEN0cmwrSSknfSxcblx0XHR7YWN0aW9uOidoZWFkZXInLGljb246J2ZhIGZhLWhlYWRlcicsdGlwOifmoIfpopgoQ3RybCtIKSd9LFxuXHRcdHtzZXBhcmF0b3I6dHJ1ZX0sXG5cdFx0e2FjdGlvbjondWwnLGljb246J2ZhIGZhLWxpc3QtdWwnLHRpcDon5peg5bqP5YiX6KGoKEN0cmwrVSknfSxcblx0XHR7YWN0aW9uOidvbCcsaWNvbjonZmEgZmEtbGlzdC1vbCcsdGlwOifmnInluo/liJfooagoQ3RybCtPKSd9LFxuXHRcdC8vIHthY3Rpb246J2NvZGUnLGljb246J2ZhIGZhLWNvZGUnLHRpcDon5Luj56CBKEN0cmwrSyknfSxcblx0XHR7YWN0aW9uOidxdW90ZScsaWNvbjonZmEgZmEtcXVvdGUtbGVmdCcsdGlwOiflvJXnlKgoQ3RybCtRKSd9LFxuXHRcdC8ve2FjdGlvbjonaW5kZW50JyxpY29uOidmYSBmYS1pbmRlbnQnLHRpcDon57yp6L+bKFRhYiknLGtleWNvZGU6OSxjdHJsOmZhbHNlfSxcblx0XHQvL3thY3Rpb246J291dGRlbnQnLGljb246J2ZhIGZhLW91dGRlbnQnLHRpcDon5YeP5bCP57yp6L+bKFRhYiknLGtleWNvZGU6OSxjdHJsOmZhbHNlLHNoaWZ0OnRydWV9LFxuXHRcdHtzZXBhcmF0b3I6dHJ1ZX0sXG5cdFx0e2FjdGlvbjonbGluaycsaWNvbjonZmEgZmEtbGluaycsdGlwOifov57mjqUoQ3RybCtMKSd9LFxuXHRcdHthY3Rpb246J2ltZycsaWNvbjonZmEgZmEtcGljdHVyZS1vJyx0aXA6J+WbvueJhyhDdHJsK0cpJ30sXG5cdFx0Lyp7YWN0aW9uOidmaWxlJyxpY29uOidmYSBmYS1maWxlLW8nLHRpcDon5paH5Lu2JyxrZXljb2RlOicnLGN0cmw6dHJ1ZX0sKi9cblx0XHR7c2VwYXJhdG9yOnRydWV9LFxuXHRcdHthY3Rpb246J3VuZG8nLGljb246J2ZhIGZhLXVuZG8nLHRpcDon5pKk6ZSAJ30sXG5cdFx0e2FjdGlvbjoncmVkbycsaWNvbjonZmEgZmEtcmVwZWF0Jyx0aXA6J+mHjeWBmid9LFxuXHRcdC8vIHthY3Rpb246J3ByZXZpZXcnLGljb246J2ZhIGZhLWV5ZScsdGlwOifmtY/op4gnfSxcblx0XHQvLyB7YWN0aW9uOidmdWxsc2NyZWVuJyxpY29uOidmYSBmYS1hcnJvd3MtYWx0Jyx0aXA6J+WFqOWxjyd9XG5cdF0sXG5cdHNob3J0Y3V0Ontcblx0XHQnQ3RybC1CJzonYm9sZCcsXG5cdFx0J0N0cmwtSSc6J2l0YWxpYycsXG5cdFx0J0N0cmwtSCc6J2hlYWRlcicsXG5cdFx0J0N0cmwtVSc6J3VsJyxcblx0XHQnQ3RybC1PJzonb2wnLFxuXHRcdCdDdHJsLUsnOidjb2RlJyxcblx0XHQnQ3RybC1RJzoncXVvdGUnLFxuXHRcdCdDdHJsLUwnOidsaW5rJyxcblx0XHQnQ3RybC1HJzonaW1nJ1xuXHR9XG59KVxuLmZhY3RvcnkoJ2FjdGlvbnMnLCBbZnVuY3Rpb24oKXtcblx0dmFyIHN5bnRheD17XG5cdFx0Ym9sZDp7cHJlZml4OicqKicscG9zdGZpeDonKionfSxcblx0XHRpdGFsaWM6e3ByZWZpeDonXycscG9zdGZpeDonXyd9LFxuXHRcdGNvZGU6e3ByZWZpeDonYGBgXFxuJyxwb3N0Zml4OidcXG5gYGAnfSxcblx0XHRsaW5rOntwcmVmaXg6J1snLHBvc3RmaXg6J10oc3JjKSd9LFxuXHRcdGltZzp7cHJlZml4OichWycscG9zdGZpeDonXShzcmMpJ30sXG5cblx0XHRoZWFkZXI6e3ByZWZpeDonIyMjICcscG9zdGZpeDonJ30sXG5cdFx0cXVvdGU6e3ByZWZpeDonPiAnLHBvc3RmaXg6Jyd9LFxuXHRcdHVsOntwcmVmaXg6Jy0gJyxwb3N0Zml4OicnfSxcblx0XHQvL29sOnt9LFxuXHRcdC8vaW5kZW50Ont9LFxuXHRcdC8vb3V0ZGVudDp7fSxcblx0fTtcblx0ZnVuY3Rpb24gaW5saW5lQWN0aW9uKGNtLGFjdGlvbk5hbWUsY2FuU3RhcnRXaXRoU3BhY2Upe1xuXHRcdHZhciB0ZXh0cz1jbS5nZXRTZWxlY3Rpb25zKCk7XG5cdFx0dmFyIHJlcGxhY2VtZW50cz1bXTtcblx0XHR2YXIgcHJlZml4PXN5bnRheFthY3Rpb25OYW1lXS5wcmVmaXg7XG5cdFx0dmFyIHBvc3RmaXg9c3ludGF4W2FjdGlvbk5hbWVdLnBvc3RmaXg7XG5cdFx0dGV4dHMuZm9yRWFjaChmdW5jdGlvbih0ZXh0KXtcblx0XHRcdGlmKCB0ZXh0Lmxlbmd0aD49cHJlZml4Lmxlbmd0aCtwb3N0Zml4Lmxlbmd0aCAmJlxuXHRcdFx0XHR0ZXh0LnN0YXJ0V2l0aChwcmVmaXgsY2FuU3RhcnRXaXRoU3BhY2UpICYmXG5cdFx0XHRcdHRleHQuZW5kV2l0aChwb3N0Zml4KSl7XG5cdFx0XHRcdHJlcGxhY2VtZW50cy5wdXNoKHRleHQuc3Vic3RyKHByZWZpeC5sZW5ndGgsdGV4dC5sZW5ndGgtcHJlZml4Lmxlbmd0aC1wb3N0Zml4Lmxlbmd0aCkpO1xuXHRcdFx0fWVsc2V7XG5cdFx0XHRcdHJlcGxhY2VtZW50cy5wdXNoKHByZWZpeCt0ZXh0K3Bvc3RmaXgpO1xuXHRcdFx0fVxuXHRcdH0pO1xuXHRcdGNtLnJlcGxhY2VTZWxlY3Rpb25zKHJlcGxhY2VtZW50cywnYXJvdW5kJyk7XG5cdH1cblx0ZnVuY3Rpb24gcm93QWN0aW9uKGNtLGFjdGlvbk5hbWUpe1xuXHRcdC8vc2VsZWN0IHJvd1xuXHRcdHZhciBzZWxlY3Rpb25zPWNtLmxpc3RTZWxlY3Rpb25zKCk7XG5cdFx0c2VsZWN0aW9ucy5mb3JFYWNoKGZ1bmN0aW9uKHJhbmdlKXtcblx0XHRcdHZhciBudW0xPXJhbmdlLmFuY2hvci5saW5lLG51bTI9cmFuZ2UuaGVhZC5saW5lO1xuXHRcdFx0dmFyIHN0YXJ0PW51bTE8bnVtMj9udW0xOm51bTIsZW5kPW51bTE+bnVtMj9udW0xOm51bTI7XG5cdFx0XHRjbS5hZGRTZWxlY3Rpb24oe2xpbmU6c3RhcnQsY2g6MH0se2xpbmU6ZW5kfSk7XG5cdFx0fSk7XG5cdFx0dmFyIHByZWZpeD1zeW50YXhbYWN0aW9uTmFtZV0ucHJlZml4O1xuXHRcdHZhciByZXBsYWNlbWVudHM9W107XG5cdFx0c2VsZWN0aW9ucz1jbS5nZXRTZWxlY3Rpb25zKCk7XG5cdFx0c2VsZWN0aW9ucy5mb3JFYWNoKGZ1bmN0aW9uKHRleHQpe1xuXHRcdFx0cmVwbGFjZW1lbnRzLnB1c2goXG5cdFx0XHRcdHRleHQuc3BsaXQoJ1xcbicpLm1hcChmdW5jdGlvbihsaW5lKXtcblx0XHRcdFx0XHRpZihsaW5lLnN0YXJ0V2l0aChwcmVmaXgsdHJ1ZSkpe1xuXHRcdFx0XHRcdFx0dmFyIHN0YXJ0QXQ9bGluZS5pbmRleE9mKHByZWZpeCk7XG5cdFx0XHRcdFx0XHRzdGFydENoYXJzPWxpbmUuc3Vic3RyKDAsc3RhcnRBdCk7XG5cdFx0XHRcdFx0XHRlbmRDaGFycz1saW5lLnN1YnN0cihzdGFydEF0K3ByZWZpeC5sZW5ndGgpO1xuXHRcdFx0XHRcdFx0cmV0dXJuIHN0YXJ0Q2hhcnMrZW5kQ2hhcnM7XG5cdFx0XHRcdFx0fWVsc2V7XG5cdFx0XHRcdFx0XHRyZXR1cm4gcHJlZml4K2xpbmU7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9KS5qb2luKCdcXG4nKVxuXHRcdFx0KTtcblx0XHR9KTtcblx0XHRjbS5yZXBsYWNlU2VsZWN0aW9ucyhyZXBsYWNlbWVudHMsJ2Fyb3VuZCcpO1xuXHR9XG5cdHJldHVybntcblx0XHQvL2lubGluZSBhY3Rpb25zXG5cdFx0Ym9sZDpmdW5jdGlvbihjbSl7aW5saW5lQWN0aW9uKGNtLCdib2xkJyk7fSxcblx0XHRpdGFsaWM6ZnVuY3Rpb24oY20pe2lubGluZUFjdGlvbihjbSwnaXRhbGljJyk7fSxcblx0XHRjb2RlOmZ1bmN0aW9uKGNtKXtpbmxpbmVBY3Rpb24oY20sJ2NvZGUnKTt9LFxuXHRcdGxpbms6ZnVuY3Rpb24oY20pe2lubGluZUFjdGlvbihjbSwnbGluaycpO30sXG5cdFx0aW1nOmZ1bmN0aW9uKGNtKXtpbmxpbmVBY3Rpb24oY20sJ2ltZycpO30sXG5cdFx0Ly9yb3cgYWN0aW9uc1xuXHRcdGhlYWRlcjpmdW5jdGlvbihjbSl7cm93QWN0aW9uKGNtLCdoZWFkZXInKTt9LFxuXHRcdHF1b3RlOmZ1bmN0aW9uKGNtKXtyb3dBY3Rpb24oY20sJ3F1b3RlJyk7fSxcblx0XHR1bDpmdW5jdGlvbihjbSl7cm93QWN0aW9uKGNtLCd1bCcpO30sXG5cdFx0b2w6ZnVuY3Rpb24oY20pe1xuXHRcdFx0dmFyIHNlbGVjdGlvbnM9Y20ubGlzdFNlbGVjdGlvbnMoKTtcblx0XHRcdHNlbGVjdGlvbnMuZm9yRWFjaChmdW5jdGlvbihyYW5nZSl7XG5cdFx0XHRcdHZhciBudW0xPXJhbmdlLmFuY2hvci5saW5lLG51bTI9cmFuZ2UuaGVhZC5saW5lO1xuXHRcdFx0XHR2YXIgc3RhcnQ9bnVtMTxudW0yP251bTE6bnVtMixlbmQ9bnVtMT5udW0yP251bTE6bnVtMjtcblx0XHRcdFx0Y20uYWRkU2VsZWN0aW9uKHtsaW5lOnN0YXJ0LGNoOjB9LHtsaW5lOmVuZH0pO1xuXHRcdFx0fSk7XG5cdFx0XHR2YXIgcmVwbGFjZW1lbnRzPVtdO1xuXHRcdFx0c2VsZWN0aW9ucz1jbS5nZXRTZWxlY3Rpb25zKCk7XG5cdFx0XHRzZWxlY3Rpb25zLmZvckVhY2goZnVuY3Rpb24odGV4dCl7XG5cdFx0XHRcdGlmKC9eXFxzKlxcZCtcXC5cXHMvbS50ZXN0KHRleHQpKXtcblx0XHRcdFx0XHRyZXBsYWNlbWVudHMucHVzaCh0ZXh0LnJlcGxhY2UoL15cXHMqXFxkK1xcLlxccy9tZywnJykpO1xuXHRcdFx0XHR9ZWxzZXtcblx0XHRcdFx0XHRyZXBsYWNlbWVudHMucHVzaChcblx0XHRcdFx0XHRcdHRleHQuc3BsaXQoJ1xcbicpLm1hcChmdW5jdGlvbihsaW5lLGkpeyByZXR1cm4gKGkrMSkrJy4gJytsaW5lOyB9KS5qb2luKCdcXG4nKVxuXHRcdFx0XHRcdCk7XG5cdFx0XHRcdH1cblx0XHRcdH0pO1xuXHRcdFx0Y20ucmVwbGFjZVNlbGVjdGlvbnMocmVwbGFjZW1lbnRzLCdhcm91bmQnKTtcblx0XHR9LFxuXHRcdHVuZG86ZnVuY3Rpb24oY20pe2NtLnVuZG8oKTt9LFxuXHRcdHJlZG86ZnVuY3Rpb24oY20pe2NtLnJlZG8oKTt9XG5cdH1cbn1dKVxuLnByb3ZpZGVyKCdobGpzU2VydicsZnVuY3Rpb24oKXtcblx0dmFyIF9vcHRpb25zPXt9O1xuXHRyZXR1cm4ge1xuXHRcdHNldE9wdGlvbnM6ZnVuY3Rpb24ob3B0aW9ucyl7XG5cdFx0XHRhbmd1bGFyLmV4dGVuZChfb3B0aW9ucyxvcHRpb25zKTtcblx0XHR9LFxuXHRcdGdldE9wdGlvbnM6ZnVuY3Rpb24oKXtcblx0XHRcdHJldHVybiBhbmd1bGFyLmNvcHkoX29wdGlvbnMpO1xuXHRcdH0sXG5cdFx0JGdldDpmdW5jdGlvbigpe1xuXHRcdFx0aGxqcy5jb25maWd1cmUoX29wdGlvbnMpO1xuXHRcdFx0cmV0dXJuIGhsanM7XG5cdFx0fVxuXHR9XG59KVxuLmZpbHRlcignbWFya2Rvd24nLFsnJHNjZScsJ2hsanNTZXJ2JyxmdW5jdGlvbigkc2NlLGhsanNTZXJ2KXtcblx0dmFyIG1hcmtlZD0oZnVuY3Rpb24obWFya2VkKXtcblx0XHQvKm1hcmtlZC5zZXRPcHRpb25zKHtcblx0XHQgIHJlbmRlcmVyOiBuZXcgbWFya2VkLlJlbmRlcmVyKCksXG5cdFx0ICBnZm06IHRydWUsXG5cdFx0ICB0YWJsZXM6IHRydWUsXG5cdFx0ICBicmVha3M6IGZhbHNlLFxuXHRcdCAgcGVkYW50aWM6IGZhbHNlLFxuXHRcdCAgc2FuaXRpemU6IHRydWUsXG5cdFx0ICBzbWFydExpc3RzOiB0cnVlLFxuXHRcdCAgc21hcnR5cGFudHM6IGZhbHNlXG5cdFx0fSk7Ki9cblx0XHRtYXJrZWQuc2V0T3B0aW9ucyh7XG5cdFx0XHRoaWdobGlnaHQ6ZnVuY3Rpb24oY29kZSl7XG5cdFx0XHRcdHJldHVybiBobGpzU2Vydi5oaWdobGlnaHRBdXRvKGNvZGUpLnZhbHVlO1xuXHRcdFx0fVxuXHRcdH0pXG5cdFx0cmV0dXJuIG1hcmtlZDtcblx0fSkod2luZG93Lm1hcmtlZCk7XG5cdFxuXHRyZXR1cm4gZnVuY3Rpb24oaW5wdXQpe1xuXHRcdGlmKCFpbnB1dHx8dHlwZW9mIGlucHV0IT09J3N0cmluZycpIHJldHVybiAnJztcblx0XHRyZXR1cm4gJHNjZS50cnVzdEFzSHRtbChtYXJrZWQoaW5wdXQpKTtcblx0fVxufV0pXG4uZGlyZWN0aXZlKCdtZGVkaXRvcicsIFsnbWRlZGl0b3JDb25maWcnLCdhY3Rpb25zJywgZnVuY3Rpb24obWRlZGl0b3JDb25maWcsYWN0aW9ucyl7XG5cblx0cmV0dXJuIHtcblx0XHRyZXN0cmljdDonQUUnLFxuXHRcdHNjb3BlOntcblx0XHRcdGRlZmF1bHRUZXh0OiAnPScsXG5cdFx0XHR0ZXh0Oic9Jyxcblx0XHRcdG9wdGlvbnM6Jz0/Jyxcblx0XHRcdGNsYXNzTmFtZXM6Jz0/Jyxcblx0XHRcdHRvb2xiYXI6Jz0/Jyxcblx0XHRcdHNob3J0Y3V0Oic9Pydcblx0XHR9LFxuXHRcdHRlbXBsYXRlOlsnPGRpdiBjbGFzcz1cInt7Y2xhc3NOYW1lcy53cmFwcGVyfX1cIj4nLFxuXHRcdFx0XHRcdCc8dWwgY2xhc3M9XCJ7e2NsYXNzTmFtZXMudG9vbGJhcn19XCI+Jyxcblx0XHRcdFx0XHRcdCc8bGkgbmctcmVwZWF0PVwiaXRlbSBpbiB0b29sYmFyIHwgZmlsdGVyOnRvb2xiYXJGaWx0ZXIgdHJhY2sgYnkgJGluZGV4XCIgbmctY2xpY2s9XCJjYWxsQWN0aW9uKGl0ZW0uYWN0aW9uKVwiIGNsYXNzPVwie3tpdGVtLnNlcGFyYXRvcj9jbGFzc05hbWVzLnNlcGFyYXRvcjpjbGFzc05hbWVzLnRvb2xiYXJJdGVtfX1cIiB0aXRsZT1cInt7aXRlbS50aXB9fVwiPicsXG5cdFx0XHRcdFx0XHRcdCc8aSBjbGFzcz1cInt7aXRlbS5pY29ufX1cIiBuZy1pZj1cIiFpdGVtLnNlcGFyYXRvclwiPjwvaT4nLFxuXHRcdFx0XHRcdFx0XHQnPHNwYW4gbmctaWY9XCJpdGVtLnNlcGFyYXRvclwiPnw8L3NwYW4+Jyxcblx0XHRcdFx0XHRcdCc8L2xpPicsXG5cdFx0XHRcdFx0JzwvdWw+Jyxcblx0XHRcdFx0XHQnPHRleHRhcmVhIGNsYXNzPVwie3tjbGFzc05hbWVzLnRleHRhcmVhfX1cIiBuZy1zaG93PVwiIXByZXZpZXdcIj48L3RleHRhcmVhPicsXG5cdFx0XHRcdFx0JzxkaXYgY2xhc3M9XCJ7e2NsYXNzTmFtZXMucHJldmlld319XCIgbmctYmluZC1odG1sPVwidGV4dCB8IG1hcmtkb3duXCIgbmctaWY9XCJwcmV2aWV3XCI+PC9kaXY+Jyxcblx0XHRcdFx0JzwvZGl2PiddLmpvaW4oJycpLFxuXHRcdHJlcGxhY2U6dHJ1ZSxcblx0XHRjb21waWxlOmZ1bmN0aW9uKHRFbG0sdEF0dHJzKXtcblx0XHRcdGlmKGFuZ3VsYXIuaXNVbmRlZmluZWQod2luZG93LkNvZGVNaXJyb3IpKXt0aHJvdyhuZXcgRXJyb3IoJ1JlcXVpcmUgQ29kZU1pcnJvciEnKSk7fVxuXHRcdFx0dmFyIHRoZW1lPXRBdHRycy50aGVtZXx8J2RlZmF1bHQnO1xuXHRcdFx0dmFyIHRleHRhcmVhID0gdEVsbS5maW5kKCd0ZXh0YXJlYScpO1xuXHRcdFx0dmFyIGNvZGVtaXJyb3IgPSBuZXcgd2luZG93LkNvZGVNaXJyb3IoZnVuY3Rpb24oY21fZWwpe1xuXHRcdFx0XHRhbmd1bGFyLmZvckVhY2godGV4dGFyZWEucHJvcCgnYXR0cmlidXRlcycpLGZ1bmN0aW9uKGF0dHIpe1xuXHRcdFx0XHRcdGlmKGF0dHIubmFtZT09J2NsYXNzJylcblx0XHRcdFx0XHRcdGNtX2VsLmNsYXNzTmFtZSs9JyAnK2F0dHIudGV4dENvbnRlbnQ7XG5cdFx0XHRcdFx0ZWxzZVxuXHRcdFx0XHRcdGNtX2VsLnNldEF0dHJpYnV0ZShhdHRyLm5hbWUsYXR0ci50ZXh0Q29udGVudCk7XG5cdFx0XHRcdH0pO1xuXHRcdFx0XHR0ZXh0YXJlYS5yZXBsYWNlV2l0aChjbV9lbCk7XG5cdFx0XHR9LHtcblx0XHRcdFx0bW9kZTonZ2ZtJyxcblx0XHRcdFx0bGluZVdyYXBwaW5nOnRydWUsXG5cdFx0XHRcdHRoZW1lOnRoZW1lXG5cdFx0XHR9KTtcblxuXHRcdFx0cmV0dXJuIGZ1bmN0aW9uIHBvc3RsaW5rKCRzY29wZSwgaUVsbSwgaUF0dHJzKXtcblx0XHRcdFx0JHNjb3BlLnByZXZpZXc9ZmFsc2U7XG5cdFx0XHRcdCRzY29wZS5jbGFzc05hbWVzPSRzY29wZS5jbGFzc05hbWVzfHxtZGVkaXRvckNvbmZpZy5jbGFzc05hbWVzO1xuXHRcdFx0XHQkc2NvcGUudG9vbGJhcj0kc2NvcGUudG9vbGJhcnx8bWRlZGl0b3JDb25maWcudG9vbGJhcjtcblx0XHRcdFx0dmFyIG9wdGlvbnM9JHNjb3BlLm9wdGlvbnN8fHt9O1xuXHRcdFx0XHRmb3IodmFyIGtleSBpbiBvcHRpb25zKXtcblx0XHRcdFx0XHRjb2RlbWlycm9yLnNldE9wdGlvbihrZXksb3B0aW9uc1trZXldKTtcblx0XHRcdFx0fVxuXHRcdFx0XHR2YXIgc2hvcnRjdXQ9JHNjb3BlLnNob3J0Y3V0fHxtZGVkaXRvckNvbmZpZy5zaG9ydGN1dDtcblx0XHRcdFx0dmFyIGtleU1hcD17fTtcblx0XHRcdFx0Zm9yKHZhciBrZXkgaW4gc2hvcnRjdXQpe1xuXHRcdFx0XHRcdGlmKHR5cGVvZiBrZXk9PSdzdHJpbmcnJiZhY3Rpb25zW3Nob3J0Y3V0W2tleV1dKVxuXHRcdFx0XHRcdFx0a2V5TWFwW2tleV09YWN0aW9uc1tzaG9ydGN1dFtrZXldXTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdGtleU1hcFsnRW50ZXInXT1cIm5ld2xpbmVBbmRJbmRlbnRDb250aW51ZU1hcmtkb3duTGlzdFwiO1xuXHRcdFx0XHRrZXlNYXBbJ1RhYiddPSd0YWJBbmRJbmRlbnRDb250aW51ZU1hcmtkb3duTGlzdCc7XG5cdFx0XHRcdGtleU1hcFsnU2hpZnQtVGFiJ109J3NoaWZ0VGFiQW5kSW5kZW50Q29udGludWVNYXJrZG93bkxpc3QnO1xuXG5cdFx0XHRcdGNvZGVtaXJyb3Iuc2V0T3B0aW9uKFwiZXh0cmFLZXlzXCIsa2V5TWFwKTtcblxuXHRcdFx0XHQkc2NvcGUuY2FsbEFjdGlvbj1mdW5jdGlvbihhY3Rpb25OYW1lKXtcblx0XHRcdFx0XHRpZighYWN0aW9uTmFtZSlyZXR1cm47XG5cdFx0XHRcdFx0ZWxzZSBpZihhY3Rpb25zW2FjdGlvbk5hbWVdKVxuXHRcdFx0XHRcdFx0YWN0aW9uc1thY3Rpb25OYW1lXShjb2RlbWlycm9yKTtcblx0XHRcdFx0XHRlbHNlIGlmKGFjdGlvbk5hbWU9PSdwcmV2aWV3Jyl7XG5cdFx0XHRcdFx0XHQkc2NvcGUucHJldmlldz0hJHNjb3BlLnByZXZpZXc7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdGVsc2UgaWYoYWN0aW9uTmFtZT09J2Z1bGxzY3JlZW4nKXtcblx0XHRcdFx0XHRcdHZhciBlbD1pRWxtWzBdO1xuXHRcdFx0XHRcdFx0dmFyIHJmcz1lbC5yZXF1ZXN0RnVsbFNjcmVlbnx8IGVsLndlYmtpdFJlcXVlc3RGdWxsU2NyZWVufHwgZWwubW96UmVxdWVzdEZ1bGxTY3JlZW47XG5cdFx0XHRcdFx0XHRpZihyZnMpIHJmcy5jYWxsKGVsKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0Y29kZW1pcnJvci5mb2N1cygpO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0aWYoJHNjb3BlLnRleHQpe1xuXHRcdFx0XHRcdGNvZGVtaXJyb3Iuc2V0VmFsdWUoJHNjb3BlLnRleHQpO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0dmFyIGRlc3Ryb3lXYXRjaFRleHQgPSAkc2NvcGUuJHdhdGNoKCdkZWZhdWx0VGV4dCcsIGZ1bmN0aW9uKCl7XG5cdFx0XHRcdFx0aWYoJHNjb3BlLmRlZmF1bHRUZXh0KSB7XG5cdFx0XHRcdFx0XHRjb2RlbWlycm9yLnNldFZhbHVlKCRzY29wZS5kZWZhdWx0VGV4dCk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9KTtcblxuXHRcdFx0XHQkc2NvcGUuJG9uKCckZGVzdHJveScsIGRlc3Ryb3lXYXRjaFRleHQpO1xuXG5cdFx0XHRcdGNvZGVtaXJyb3Iub24oJ2NoYW5nZScsZnVuY3Rpb24oaW5zdGFuY2UsIGV2ZW50KXtcblx0XHRcdFx0XHR2YXIgdmFsPWluc3RhbmNlLmdldFZhbHVlKCk7XG5cdFx0XHRcdFx0aWYoJHNjb3BlLnRleHQhPT12YWwgKXtcblx0XHRcdFx0XHRcdCRzY29wZS50ZXh0PWluc3RhbmNlLmdldFZhbHVlKCk7XG5cdFx0XHRcdFx0XHR2YXIgcGhhc2U9JHNjb3BlLiRyb290LiQkcGhhc2U7XG5cdFx0XHRcdFx0XHRpZihwaGFzZSE9PSckYXBwbHknJiZwaGFzZSE9PSdkaWdlc3QnKXtcblx0XHRcdFx0XHRcdFx0JHNjb3BlLiRhcHBseSgpO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblx0XHRcdFx0fSk7XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG59XSk7IiwiKGZ1bmN0aW9uICgpIHtcclxuICAgIGFuZ3VsYXJcclxuICAgICAgICAubW9kdWxlKCdhdXRvQ29tcGxldGVNb2R1bGUnLCBbJ25nU2FuaXRpemUnXSlcclxuICAgICAgICAuc2VydmljZSgnYXV0b0NvbXBsZXRlU2VydmljZScsIGF1dG9Db21wbGV0ZVNlcnZpY2UpXHJcbiAgICAgICAgLmRpcmVjdGl2ZSgnYXV0b0NvbXBsZXRlJywgYXV0b0NvbXBsZXRlRGlyZWN0aXZlKTtcclxuXHJcbiAgICBhdXRvQ29tcGxldGVEaXJlY3RpdmUuJGluamVjdCA9IFsnJGNvbXBpbGUnLCAnJGRvY3VtZW50JywgJyR3aW5kb3cnLCAnJHRpbWVvdXQnLCAnYXV0b0NvbXBsZXRlU2VydmljZSddO1xyXG4gICAgZnVuY3Rpb24gYXV0b0NvbXBsZXRlRGlyZWN0aXZlKCRjb21waWxlLCAkZG9jdW1lbnQsICR3aW5kb3csICR0aW1lb3V0LCBhdXRvQ29tcGxldGVTZXJ2aWNlKSB7XHJcblxyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIHJlc3RyaWN0OiAnQScsXHJcbiAgICAgICAgICAgIHNjb3BlOiB7fSxcclxuICAgICAgICAgICAgdHJhbnNjbHVkZTogZmFsc2UsXHJcbiAgICAgICAgICAgIGNvbnRyb2xsZXJBczogJ2N0cmwnLFxyXG4gICAgICAgICAgICBiaW5kVG9Db250cm9sbGVyOiB7IG9wdGlvbnM6ICcmYXV0b0NvbXBsZXRlJyB9LFxyXG4gICAgICAgICAgICByZXF1aXJlOiBbJ2F1dG9Db21wbGV0ZScsICduZ01vZGVsJ10sXHJcbiAgICAgICAgICAgIGxpbms6IHBvc3RMaW5rRm4sXHJcbiAgICAgICAgICAgIGNvbnRyb2xsZXI6IE1haW5DdHJsXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBmdW5jdGlvbiBwb3N0TGlua0ZuKHNjb3BlLCBlbGVtZW50LCBhdHRycywgY3RybHMpIHtcclxuICAgICAgICAgICAgdmFyIGN0cmwgPSBjdHJsc1swXTsgLy9kaXJlY3RpdmUgY29udHJvbGxlclxyXG4gICAgICAgICAgICBjdHJsLnRleHRNb2RlbEN0cmwgPSBjdHJsc1sxXTsgLy8gdGV4dGJveCBtb2RlbCBjb250cm9sbGVyXHJcblxyXG4gICAgICAgICAgICBhdXRvQ29tcGxldGVTZXJ2aWNlLmFkZERpcmVjdGl2ZUN0cmwoY3RybCk7XHJcblxyXG4gICAgICAgICAgICAvLyBleGVjdXRlIHRoZSBvcHRpb25zIGV4cHJlc3Npb24gaW4gdGhlIHBhcmVudCBzY29wZVxyXG4gICAgICAgICAgICB2YXIgb3B0aW9ucyA9IGN0cmwub3B0aW9ucygpIHx8IHt9O1xyXG4gICAgICAgICAgICBjdHJsLmluaXQoYW5ndWxhci5leHRlbmQoe30sIGRlZmF1bHRPcHRpb25zLCBvcHRpb25zKSk7XHJcblxyXG4gICAgICAgICAgICBpbml0Q29udGFpbmVyKCk7XHJcblxyXG4gICAgICAgICAgICBmdW5jdGlvbiBpbml0Q29udGFpbmVyKCkge1xyXG4gICAgICAgICAgICAgICAgdmFyIHRlbXBsYXRlID1cclxuICAgICAgICAgICAgICAgICAgICAnPGRpdiBjbGFzcz1cImF1dG8tY29tcGxldGUtY29udGFpbmVyXCIgZGF0YS1pbnN0YW5jZS1pZD1cInt7Y3RybC5pbnN0YW5jZUlkfX1cIiBuZy1zaG93PVwiY3RybC5jb250YWluZXJWaXNpYmxlXCI+JyArXHJcbiAgICAgICAgICAgICAgICAgICAgICAnPHVsIGNsYXNzPVwiYXV0by1jb21wbGV0ZS1yZXN1bHRzXCI+JyArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICc8bGkgbmctcmVwZWF0PVwiaXRlbSBpbiBjdHJsLnJlbmRlckl0ZW1zXCInICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICduZy1jbGljaz1cImN0cmwuc2VsZWN0SXRlbSgkaW5kZXgsIHRydWUpXCIgJyArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnY2xhc3M9XCJhdXRvLWNvbXBsZXRlLWl0ZW1cIiBkYXRhLWluZGV4PVwie3skaW5kZXh9fVwiICcgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJ25nLWNsYXNzPVwiY3RybC5pc1NlbGVjdGVkKCRpbmRleClcIj4nICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnPGRpdiBuZy1iaW5kLWh0bWw9XCJpdGVtLmxhYmVsXCI+PC9kaXY+JyArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICc8L2xpPicgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgJzwvdWw+JyArXHJcbiAgICAgICAgICAgICAgICAgICAgJzwvZGl2Pic7XHJcblxyXG4gICAgICAgICAgICAgICAgdmFyIHRlbXBsYXRlRm4gPSAkY29tcGlsZSh0ZW1wbGF0ZSk7XHJcbiAgICAgICAgICAgICAgICBjdHJsLmNvbnRhaW5lciA9IHRlbXBsYXRlRm4oc2NvcGUpO1xyXG5cclxuICAgICAgICAgICAgICAgIGlmIChhbmd1bGFyLmlzRGVmaW5lZChjdHJsLm9wdGlvbnMuY29udGFpbmVyQ3NzQ2xhc3MpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY3RybC5jb250YWluZXIuYWRkQ2xhc3MoY3RybC5vcHRpb25zLmNvbnRhaW5lckNzc0NsYXNzKTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAvLyBpZiBhIGpxdWVyeSBwYXJlbnQgaXMgc3BlY2lmaWVkIGluIG9wdGlvbnMgYXBwZW5kIHRoZSBjb250YWluZXIgdG8gdGhhdFxyXG4gICAgICAgICAgICAgICAgLy8gb3RoZXJ3aXNlIGFwcGVuZCB0byBib2R5XHJcbiAgICAgICAgICAgICAgICBpZiAoYW5ndWxhci5pc0RlZmluZWQoY3RybC5vcHRpb25zLmRyb3Bkb3duUGFyZW50KSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGN0cmwub3B0aW9ucy5kcm9wZG93blBhcmVudC5hcHBlbmQoY3RybC5jb250YWluZXIpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgJGRvY3VtZW50LmZpbmQoJ2JvZHknKS5hcHBlbmQoY3RybC5jb250YWluZXIpO1xyXG4gICAgICAgICAgICAgICAgICAgIGN0cmwuY29udGFpbmVyLmFkZENsYXNzKCdhdXRvLWNvbXBsZXRlLWFic29sdXRlLWNvbnRhaW5lcicpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIC8vIHN0b3JlIHRoZSBqcXVlcnkgZWxlbWVudCBvbiB0aGUgY29udHJvbGxlciAgICAgICAgICBcclxuICAgICAgICAgICAgICAgIGN0cmwudGFyZ2V0ID0gZWxlbWVudDtcclxuXHJcbiAgICAgICAgICAgICAgICAvLyBzdG9yZSBhIHJlZmVyZW5jZSB0byB0aGUgVUxcclxuICAgICAgICAgICAgICAgIGN0cmwuZWxlbWVudFVMID0gYW5ndWxhci5lbGVtZW50KGN0cmwuY29udGFpbmVyWzBdLnF1ZXJ5U2VsZWN0b3IoJ3VsLmF1dG8tY29tcGxldGUtcmVzdWx0cycpKTtcclxuXHJcbiAgICAgICAgICAgICAgICAvLyBwcmV2ZW50cyB0ZXh0IHNlbGVjdCBvbiBtb3VzZSBkcmFnLCBkYmxjbGlja1xyXG4gICAgICAgICAgICAgICAgY3RybC5jb250YWluZXIuY3NzKCdNb3pVc2VyU2VsZWN0JywgJ25vbmUnKS5iaW5kKCdzZWxlY3RzdGFydCcsIGZ1bmN0aW9uICgpIHsgcmV0dXJuIGZhbHNlOyB9KTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgLy8gd2hlbiB0aGUgdGFyZ2V0KHRleHRib3gpIGdldHMgZm9jdXMgYWN0aXZhdGUgdGhlIGNvcnJlc3BvbmRpbmcgY29udGFpbmVyXHJcbiAgICAgICAgICAgIGVsZW1lbnQub24oJ2ZvY3VzJywgZnVuY3Rpb24gKGUpIHtcclxuICAgICAgICAgICAgICAgIHNjb3BlLiRldmFsQXN5bmMoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGN0cmwuYWN0aXZhdGUoKTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIC8vIGhhbmRsZSBrZXkgc3Ryb2tlc1xyXG4gICAgICAgICAgICBlbGVtZW50Lm9uKCdrZXlkb3duJywgZnVuY3Rpb24gKGUpIHtcclxuICAgICAgICAgICAgICAgIHNjb3BlLiRldmFsQXN5bmMoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIF9lbGVtZW50S2V5RG93bihlKTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIC8vIGhpZGUgY29udGFpbmVyIG9uIEVOVEVSXHJcbiAgICAgICAgICAgICRkb2N1bWVudC5vbigna2V5ZG93bicsIGZ1bmN0aW9uIChlKSB7XHJcbiAgICAgICAgICAgICAgICBzY29wZS4kZXZhbEFzeW5jKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICBfZG9jdW1lbnRLZXlEb3duKGUpO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgYW5ndWxhci5lbGVtZW50KCR3aW5kb3cpLm9uKCdyZXNpemUnLCBmdW5jdGlvbiAoZSkge1xyXG4gICAgICAgICAgICAgICAgc2NvcGUuJGV2YWxBc3luYyhmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY3RybC5oaWRlKCk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfSlcclxuXHJcbiAgICAgICAgICAgIC8vIGhpZGUgY29udGFpbmVyIHVwb24gQ0xJQ0sgb3V0c2lkZSBvZiB0aGUgZHJvcGRvd24gcmVjdGFuZ2xlIHJlZ2lvblxyXG4gICAgICAgICAgICAkZG9jdW1lbnQub24oJ2NsaWNrJywgZnVuY3Rpb24gKGUpIHtcclxuICAgICAgICAgICAgICAgIHNjb3BlLiRldmFsQXN5bmMoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIF9kb2N1bWVudENsaWNrKGUpO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgLy8gY2xlYW51cCBvbiBkZXN0cm95XHJcbiAgICAgICAgICAgIHNjb3BlLiRvbignJGRlc3Ryb3knLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICBjdHJsLmVtcHR5KCk7XHJcbiAgICAgICAgICAgICAgICBjdHJsLmNvbnRhaW5lci5yZW1vdmUoKTtcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICBmdW5jdGlvbiBfZWxlbWVudEtleURvd24oZSkge1xyXG4gICAgICAgICAgICAgICAgdmFyIGtleSA9IGUuY2hhckNvZGUgfHwgZS5rZXlDb2RlIHx8IDA7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKGtleSA9PSBLRVlDT0RFLlVQQVJST1cpIHtcclxuICAgICAgICAgICAgICAgICAgICBjdHJsLnNjcm9sbFRvSXRlbSgtMSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKGtleSA9PSBLRVlDT0RFLkRPV05BUlJPVykge1xyXG4gICAgICAgICAgICAgICAgICAgIGN0cmwuc2Nyb2xsVG9JdGVtKDEpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xyXG4gICAgICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIGlmIChrZXkgPT0gS0VZQ09ERS5FTlRFUikge1xyXG4gICAgICAgICAgICAgICAgICAgIGN0cmwuY29uZmlybSgpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAvL3ByZXZlbnQgcG9zdGJhY2sgdXBvbiBoaXR0aW5nIGVudGVyXHJcbiAgICAgICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoa2V5ID09IEtFWUNPREUuRVNDQVBFKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY3RybC5oaWRlKCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICAgICAgICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gZmV0Y2ggaWYgbWluaW11bSBudW1iZXIgb2YgY2hhcnMgYXJlIHR5cGVzXHJcbiAgICAgICAgICAgICAgICAvLyBlbHNlIGhpZGUgZHJvcGRvd25cclxuICAgICAgICAgICAgICAgIHZhciB0ZXJtID0gZWxlbWVudC52YWwoKTtcclxuICAgICAgICAgICAgICAgIGlmICh0ZXJtLmxlbmd0aCA8IGN0cmwub3B0aW9ucy5taW5pbXVtQ2hhcnMgfHwgdGVybSA9PT0gY3RybC5zZWxlY3RlZFRleHQoKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGN0cmwuaGlkZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgIGN0cmwuZW1wdHkoKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAvLyB3YWl0IGZldyBtaWxsaXNlY3MgYmVmb3JlIGNhbGxpbmcgZmV0Y2goKVxyXG4gICAgICAgICAgICAgICAgLy8gdGhpcyBhbGxvd3MgY2hlY2tpbmcgaWYgdXNlciBoYXMgc3RvcHBlZCB0eXBpbmdcclxuICAgICAgICAgICAgICAgIHZhciBkZWxheSA9ICR0aW1lb3V0KGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyBpcyB0ZXJtIHVuY2hhbmdlZD9cclxuICAgICAgICAgICAgICAgICAgICBpZiAodGVybSA9PSBlbGVtZW50LnZhbCgpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGN0cmwuZmV0Y2godGVybSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAvL2NhbmNlbCB0aGUgdGltZW91dFxyXG4gICAgICAgICAgICAgICAgICAgICR0aW1lb3V0LmNhbmNlbChkZWxheSk7XHJcbiAgICAgICAgICAgICAgICB9LCAzMDApO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBmdW5jdGlvbiBfZG9jdW1lbnRLZXlEb3duKGUpIHtcclxuICAgICAgICAgICAgICAgIC8vIGlmIG11bHRpcGxlIGF1dG8gY29tcGxldGUgZXhpc3Qgb24gYSBwYWdlLCBoaWRlIGluYWN0aXZlIGRyb3Bkb3duc1xyXG4gICAgICAgICAgICAgICAgYXV0b0NvbXBsZXRlU2VydmljZS5oaWRlSWZJbmFjdGl2ZSgpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBmdW5jdGlvbiBfZG9jdW1lbnRDbGljayhlKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBpZiBtdWx0aXBsZSBhdXRvIGNvbXBsZXRlIGV4aXN0IG9uIGEgcGFnZSwgaGlkZSBpbmFjdGl2ZSBkcm9wZG93bnNcclxuICAgICAgICAgICAgICAgIGF1dG9Db21wbGV0ZVNlcnZpY2UuaGlkZUlmSW5hY3RpdmUoKTtcclxuXHJcbiAgICAgICAgICAgICAgICAvLyBoaWRlIHRoZSBhY3RpdmUgZHJvcGRvd24gaWYgdXNlciBjbGlja3MgYW55d2hlcmUgYXdheSBmcm9tIHRoZSBkcm9wZG93biBsaXN0XHJcbiAgICAgICAgICAgICAgICB2YXIgaXNNb3VzZUF3YXlGcm9tQWN0aXZlQ29udGFpbmVyID0gZmFsc2U7XHJcblxyXG4gICAgICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoY3RybC5pbnN0YW5jZUlkICE9PSBjdHJsLmFjdGl2ZUluc3RhbmNlSWQoKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICB2YXIgb2Zmc2V0ID0gY3RybC5jb250YWluZXJbMF0uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGF3YXlUb2xlcmFuY2UgPSAzMDtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGUucGFnZVggPCBvZmZzZXQubGVmdCAtIGF3YXlUb2xlcmFuY2VcclxuICAgICAgICAgICAgICAgICAgICAgICAgfHwgZS5wYWdlWCA+IG9mZnNldC5sZWZ0ICsgb2Zmc2V0LndpZHRoICsgYXdheVRvbGVyYW5jZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB8fCBlLnBhZ2VZIDwgb2Zmc2V0LnRvcCAtIGF3YXlUb2xlcmFuY2VcclxuICAgICAgICAgICAgICAgICAgICAgICAgfHwgZS5wYWdlWSA+IG9mZnNldC50b3AgKyBvZmZzZXQuaGVpZ2h0ICsgYXdheVRvbGVyYW5jZSkge1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgaXNNb3VzZUF3YXlGcm9tQWN0aXZlQ29udGFpbmVyID0gdHJ1ZTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vY2hlY2sgaWYgbW91c2UgaXMgb3ZlciB0aGUgdGFyZ2V0XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG9mZnNldCA9IGN0cmwudGFyZ2V0WzBdLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZS5wYWdlWCA+PSBvZmZzZXQubGVmdFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJiYgZS5wYWdlWCA8PSBvZmZzZXQubGVmdCArIG9mZnNldC53aWR0aFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJiYgZS5wYWdlWSA+PSBvZmZzZXQudG9wXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAmJiBlLnBhZ2VZIDw9IG9mZnNldC50b3AgKyBvZmZzZXQuaGVpZ2h0KSB7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaXNNb3VzZUF3YXlGcm9tQWN0aXZlQ29udGFpbmVyID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpc01vdXNlQXdheUZyb21BY3RpdmVDb250YWluZXIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN0cmwuaGlkZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgY2F0Y2ggKGUpIHsgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIE1haW5DdHJsLiRpbmplY3QgPSBbJyRxJywgJyR3aW5kb3cnLCAnJGRvY3VtZW50JywgJyRzY2UnLCAnJHRpbWVvdXQnLCAnJGludGVycG9sYXRlJywgJyR0ZW1wbGF0ZVJlcXVlc3QnLCAnJGV4Y2VwdGlvbkhhbmRsZXInLCAnYXV0b0NvbXBsZXRlU2VydmljZSddO1xyXG4gICAgZnVuY3Rpb24gTWFpbkN0cmwoJHEsICR3aW5kb3csICRkb2N1bWVudCwgJHNjZSwgJHRpbWVvdXQsICRpbnRlcnBvbGF0ZSwgJHRlbXBsYXRlUmVxdWVzdCwgJGV4Y2VwdGlvbkhhbmRsZXIsIGF1dG9Db21wbGV0ZVNlcnZpY2UpIHtcclxuICAgICAgICB2YXIgYWN0aXZlSW5zdGFuY2VJZCA9IDAsXHJcbiAgICAgICAgICAgIHNlbGVjdGVkVGV4dCxcclxuICAgICAgICAgICAgc2VsZWN0ZWRWYWx1ZTtcclxuXHJcbiAgICAgICAgdmFyIHRoYXQgPSB0aGlzO1xyXG5cclxuICAgICAgICB0aGlzLnRhcmdldCA9IG51bGw7XHJcbiAgICAgICAgdGhpcy5zZWxlY3RlZEluZGV4ID0gLTE7XHJcbiAgICAgICAgdGhpcy5yZW5kZXJJdGVtcyA9IFtdO1xyXG4gICAgICAgIHRoaXMuY29udGFpbmVyVmlzaWJsZSA9IGZhbHNlO1xyXG5cclxuICAgICAgICB0aGlzLmFjdGl2ZUluc3RhbmNlSWQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBhY3RpdmVJbnN0YW5jZUlkO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gaGlkZSBhbnkgb3BlbiBjb250YWluZXJzIG90aGVyIHRoYW4gdGhlIGFjdGl2ZSBjb250YWluZXJcclxuICAgICAgICB0aGlzLmhpZGVJZkluYWN0aXZlID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAvLyBkbyBub3QgaGlkZSBjb250YWluZXIgaWYgYXBwZW5kZWQgdG8gZHJvcGRvd24gcGFyZW50IHNwZWNpZmllZCBpbiBvcHRpb25zXHJcbiAgICAgICAgICAgIGlmIChhbmd1bGFyLmlzRGVmaW5lZCh0aGF0Lm9wdGlvbnMuZHJvcGRvd25QYXJlbnQpKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGlmICh0aGF0Lmluc3RhbmNlSWQgIT09IGFjdGl2ZUluc3RhbmNlSWQpIHtcclxuICAgICAgICAgICAgICAgIHRoYXQuaGlkZSgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLmluaXQgPSBmdW5jdGlvbiAob3B0aW9ucykge1xyXG4gICAgICAgICAgICB0aGlzLm9wdGlvbnMgPSBvcHRpb25zO1xyXG4gICAgICAgICAgICB0aGlzLmluc3RhbmNlSWQgPSArK2luc3RhbmNlQ291bnQ7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLmFjdGl2YXRlID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBhY3RpdmVJbnN0YW5jZUlkID0gdGhhdC5pbnN0YW5jZUlkO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5mZXRjaCA9IGZ1bmN0aW9uICh0ZXJtKSB7XHJcbiAgICAgICAgICAgIC8vIGNhbGxiYWNrXHJcbiAgICAgICAgICAgIF9zYWZlQ2FsbGJhY2sodGhhdC5vcHRpb25zLmxvYWRpbmcpO1xyXG5cclxuICAgICAgICAgICAgJHEud2hlbih0aGF0Lm9wdGlvbnMuZGF0YSh0ZXJtKSxcclxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uIHN1Y2Nlc3NfY2FsbGJhY2socmVzdWx0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gdGhlcmUgbWlnaHQgc29tZSBsYWcgd2hlbiByZW1vdGUgd2ViIHNlcnZpY2VzIGFyZSBpbnZvbHZlZFxyXG4gICAgICAgICAgICAgICAgICAgIC8vIHRvIGdldCBkYXRhLiBzbyBjaGVjayBpZiBjdXJyZW50IGVsZW1lbnQgdmFsdWUgaGFzIGNoYW5nZWRcclxuICAgICAgICAgICAgICAgICAgICB2YXIgdmFsdWUgPSB0aGF0LnRleHRNb2RlbEN0cmwuJHZpZXdWYWx1ZTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodGVybSAhPSB2YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICB0aGF0LnJlbmRlckxpc3QocmVzdWx0LCB0ZXJtKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gY2FsbGJhY2tcclxuICAgICAgICAgICAgICAgICAgICBfc2FmZUNhbGxiYWNrKHRoYXQub3B0aW9ucy5sb2FkaW5nQ29tcGxldGUpO1xyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uIGVycm9yX2NhbGxiYWNrKGVycm9yKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhhdC5oaWRlKCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIC8vIGNhbGxiYWNrXHJcbiAgICAgICAgICAgICAgICAgICAgX3NhZmVDYWxsYmFjayh0aGF0Lm9wdGlvbnMubG9hZGluZ0NvbXBsZXRlLCB7IGVycm9yOiBlcnJvciB9KTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5yZW5kZXJMaXN0ID0gZnVuY3Rpb24gKHJlc3VsdCkge1xyXG4gICAgICAgICAgICB0aGF0LmVtcHR5KCk7XHJcblxyXG4gICAgICAgICAgICBpZiAoIWFuZ3VsYXIuaXNEZWZpbmVkKHJlc3VsdCkgfHwgcmVzdWx0Lmxlbmd0aCA9PT0gMCkge1xyXG4gICAgICAgICAgICAgICAgdGhhdC5oaWRlKCk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIF9nZXRSZW5kZXJGbigpLnRoZW4oZnVuY3Rpb24ocmVuZGVyRm4pIHsgXHJcbiAgICAgICAgICAgICAgICBfcmVuZGVyTGlzdChyZW5kZXJGbiwgcmVzdWx0KTsgXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5zaG93ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAvLyB0aGUgc2hvdyBnZXRzIGNhbGxlZCBhZnRlciB0aGUgaXRlbXMgYXJlIHJlYWR5IGZvciBkaXNwbGF5XHJcbiAgICAgICAgICAgIC8vIHRoZSB0ZXh0Ym94IHBvc2l0aW9uIGNhbiBjaGFuZ2UgKGV4OiB3aW5kb3cgcmVzaXplKSB3aGVuIGl0IGhhcyBmb2N1c1xyXG4gICAgICAgICAgICAvLyBzbyByZXBvc2l0aW9uIHRoZSBkcm9wZG93biBiZWZvcmUgaXQncyBzaG93blxyXG4gICAgICAgICAgICBfcG9zaXRpb25Ecm9wZG93bigpO1xyXG5cclxuICAgICAgICAgICAgdGhhdC5jb250YWluZXJWaXNpYmxlID0gdHJ1ZTtcclxuXHJcbiAgICAgICAgICAgIC8vIEhBQ0s6IHRoaXMgcmVkdWNlcyB0aGUgZmxpY2tyIHdoZW4gdGhlIGRyb3Bkb3duIGlzIGJlaW5nIHBvc2l0aW9uZWQgIFxyXG4gICAgICAgICAgICAkdGltZW91dChmdW5jdGlvbigpe1xyXG4gICAgICAgICAgICAgICAgX3Bvc2l0aW9uRHJvcGRvd24oKTtcclxuICAgICAgICAgICAgfSwgMSk7XHJcblxyXG4gICAgICAgICAgICAvLyBjYWxsYmFja1xyXG4gICAgICAgICAgICBfc2FmZUNhbGxiYWNrKHRoYXQub3B0aW9ucy5kcm9wZG93blNob3duKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMuaGlkZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgaWYgKHRoYXQuY29udGFpbmVyVmlzaWJsZSA9PT0gZmFsc2UpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgLy8gcmVzZXQgc2Nyb2xsIHBvc2l0aW9uXHJcbiAgICAgICAgICAgIHRoYXQuZWxlbWVudFVMWzBdLnNjcm9sbFRvcCA9IDA7XHJcbiAgICAgICAgICAgIHRoYXQuY29udGFpbmVyVmlzaWJsZSA9IGZhbHNlO1xyXG5cclxuICAgICAgICAgICAgLy8gY2FsbGJhY2tcclxuICAgICAgICAgICAgX3NhZmVDYWxsYmFjayh0aGF0Lm9wdGlvbnMuZHJvcGRvd25IaWRkZW4pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5lbXB0eSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgdGhhdC5zZWxlY3RlZEluZGV4ID0gLTE7XHJcbiAgICAgICAgICAgIHRoYXQucmVuZGVySXRlbXMgPSBbXTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMuc2Nyb2xsVG9JdGVtID0gZnVuY3Rpb24gKG9mZnNldCkge1xyXG4gICAgICAgICAgICBpZiAodGhhdC5jb250YWluZXJWaXNpYmxlID09PSBmYWxzZSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB2YXIgaW5kZXggPSB0aGF0LnNlbGVjdGVkSW5kZXggKyBvZmZzZXQ7XHJcbiAgICAgICAgICAgIHZhciBpdGVtID0gdGhhdC5yZW5kZXJJdGVtc1tpbmRleF07XHJcbiAgICAgICAgICAgIGlmICghaXRlbSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB0aGF0LnNlbGVjdEl0ZW0oaW5kZXgpO1xyXG5cclxuICAgICAgICAgICAgLy8gdXNlIGpxdWVyeS5zY3JvbGxUbyBwbHVnaW4gaWYgYXZhaWxhYmxlXHJcbiAgICAgICAgICAgIC8vIGh0dHA6Ly9mbGVzbGVyLmJsb2dzcG90LmNvbS8yMDA3LzEwL2pxdWVyeXNjcm9sbHRvLmh0bWxcclxuICAgICAgICAgICAgaWYgKHdpbmRvdy5qUXVlcnkpIHsgIC8vIHJlcXVpcmVzIGpxdWVyeSB0byBiZSBsb2FkZWRcclxuICAgICAgICAgICAgICAgIHZhciBsaSA9IHRoYXQuZWxlbWVudFVMLmZpbmQoJ2xpW2RhdGEtaW5kZXg9XCInICsgaW5kZXggKyAnXCJdJyk7XHJcbiAgICAgICAgICAgICAgICBpZiAoalF1ZXJ5LnNjcm9sbFRvKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhhdC5lbGVtZW50VUwuc2Nyb2xsVG8obGkpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB2YXIgbGkgPSB0aGF0LmVsZW1lbnRVTFswXS5xdWVyeVNlbGVjdG9yKCdsaVtkYXRhLWluZGV4PVwiJyArIGluZGV4ICsgJ1wiXScpO1xyXG4gICAgICAgICAgICBpZiAobGkpIHtcclxuICAgICAgICAgICAgICAgIC8vIHRoaXMgd2FzIGNhdXNpbmcgdGhlIHBhZ2UgdG8ganVtcC9zY3JvbGwgXHJcbiAgICAgICAgICAgICAgICAvLyAgICBsaS5zY3JvbGxJbnRvVmlldyh0cnVlKTtcclxuICAgICAgICAgICAgICAgIHRoYXQuZWxlbWVudFVMWzBdLnNjcm9sbFRvcCA9IGxpLm9mZnNldFRvcDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5zZWxlY3RJdGVtID0gZnVuY3Rpb24gKGluZGV4LCBjb25maXJtKSB7XHJcbiAgICAgICAgICAgIHZhciBpdGVtID0gdGhhdC5yZW5kZXJJdGVtc1tpbmRleF07XHJcblxyXG4gICAgICAgICAgICBpZiAoIWFuZ3VsYXIuaXNEZWZpbmVkKGl0ZW0pKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHRoYXQuc2VsZWN0ZWRJbmRleCA9IGluZGV4O1xyXG5cclxuICAgICAgICAgICAgaWYgKGNvbmZpcm0gPT09IHRydWUpIHtcclxuICAgICAgICAgICAgICAgIC8vIHVwZGF0ZXMgdGV4dGJveCBhbmQgcmFpc2VzIGNhbGxiYWNrXHJcbiAgICAgICAgICAgICAgICB0aGF0LmNvbmZpcm0oKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIC8vIG9ubHkgdXBkYXRlcyB0ZXh0Ym94XHJcbiAgICAgICAgICAgICAgICBfdXBkYXRlVGV4dEJveCgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLmNvbmZpcm0gPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGlmICh0aGF0LmNvbnRhaW5lclZpc2libGUgPT09IGZhbHNlKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHRoYXQuaGlkZSgpO1xyXG5cclxuICAgICAgICAgICAgc2VsZWN0ZWRWYWx1ZSA9IF91cGRhdGVUZXh0Qm94KCk7XHJcblxyXG4gICAgICAgICAgICBfc2FmZUNhbGxiYWNrKHRoYXQub3B0aW9ucy5pdGVtU2VsZWN0ZWQsIHsgaXRlbTogc2VsZWN0ZWRWYWx1ZSB9KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMuaXNTZWxlY3RlZCA9IGZ1bmN0aW9uIChpbmRleCkge1xyXG4gICAgICAgICAgICBpZiAoaW5kZXggPT0gdGhhdC5zZWxlY3RlZEluZGV4KSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhhdC5vcHRpb25zLnNlbGVjdGVkQ3NzQ2xhc3M7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuICcnO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5zZWxlY3RlZFRleHQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBzZWxlY3RlZFRleHQ7XHJcbiAgICAgICAgfVxyXG5cclxuXHJcbiAgICAgICAgZnVuY3Rpb24gX3NhZmVDYWxsYmFjayhmbiwgYXJncykge1xyXG4gICAgICAgICAgICBpZiAoIWFuZ3VsYXIuaXNGdW5jdGlvbihmbikpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBmbi5jYWxsKHRoYXQudGFyZ2V0LCBhcmdzKTtcclxuICAgICAgICAgICAgfSBjYXRjaCAoZSkge1xyXG4gICAgICAgICAgICAgICAgLy9pZ25vcmVcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZnVuY3Rpb24gX3Bvc2l0aW9uRHJvcGRvd24oKSB7XHJcbiAgICAgICAgICAgIC8vIG5vIG5lZWQgdG8gcG9zaXRpb24gaWYgY29udGFpbmVyIGhhcyBiZWVuIGFwcGVuZGVkIHRvIFxyXG4gICAgICAgICAgICAvLyBwYXJlbnQgc3BlY2lmaWVkIGluIG9wdGlvbnNcclxuICAgICAgICAgICAgaWYgKGFuZ3VsYXIuaXNEZWZpbmVkKHRoYXQub3B0aW9ucy5kcm9wZG93blBhcmVudCkpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgdmFyIHJlY3QgPSB0aGF0LnRhcmdldFswXS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcclxuXHJcbiAgICAgICAgICAgIGlmICh0aGF0Lm9wdGlvbnMuZHJvcGRvd25XaWR0aCA9PSAnYXV0bycpIHtcclxuICAgICAgICAgICAgICAgIC8vIHNhbWUgYXMgdGV4dGJveCB3aWR0aFxyXG4gICAgICAgICAgICAgICAgdGhhdC5jb250YWluZXIuY3NzKHsgJ3dpZHRoJzogcmVjdC53aWR0aCArICdweCcgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB0aGF0LmNvbnRhaW5lci5jc3MoeyAnd2lkdGgnOiB0aGF0Lm9wdGlvbnMuZHJvcGRvd25XaWR0aCB9KTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgaWYgKHRoYXQub3B0aW9ucy5kcm9wZG93bkhlaWdodCAhPT0gJ2F1dG8nKSB7XHJcbiAgICAgICAgICAgICAgICB0aGF0LmVsZW1lbnRVTC5jc3MoeyAnaGVpZ2h0JzogdGhhdC5vcHRpb25zLmRyb3Bkb3duSGVpZ2h0IH0pO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAvLyB1c2UgdGhlIC5wb3NpdGlvbigpIGZ1bmN0aW9uIGZyb20ganF1ZXJ5LnVpIGlmIGF2YWlsYWJsZVxyXG4gICAgICAgICAgICAvLyByZXF1aXJlcyBib3RoIGpxdWVyeSBhbmQganF1ZXJ5LXVpIHRvIGJlIGxvYWRlZFxyXG4gICAgICAgICAgICBpZiAod2luZG93LmpRdWVyeSAmJiB3aW5kb3cualF1ZXJ5LnVpKSB7XHJcbiAgICAgICAgICAgICAgICB0aGF0LmNvbnRhaW5lci5wb3NpdGlvbih7IG15OiAnbGVmdCB0b3AnLCBhdDogJ2xlZnQgYm90dG9tJywgb2Y6IHRoYXQudGFyZ2V0LCBjb2xsaXNpb246ICdub25lIGZsaXAnIH0pO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICB2YXIgc2Nyb2xsVG9wID0gJGRvY3VtZW50WzBdLmJvZHkuc2Nyb2xsVG9wIHx8ICRkb2N1bWVudFswXS5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsVG9wIHx8ICR3aW5kb3cucGFnZVlPZmZzZXQsXHJcbiAgICAgICAgICAgICAgICBzY3JvbGxMZWZ0ID0gJGRvY3VtZW50WzBdLmJvZHkuc2Nyb2xsTGVmdCB8fCAkZG9jdW1lbnRbMF0uZG9jdW1lbnRFbGVtZW50LnNjcm9sbExlZnQgfHwgJHdpbmRvdy5wYWdlWE9mZnNldDtcclxuXHJcbiAgICAgICAgICAgIHRoYXQuY29udGFpbmVyLmNzcyh7ICdsZWZ0JzogcmVjdC5sZWZ0ICsgc2Nyb2xsTGVmdCArICdweCcgfSk7XHJcbiAgICAgICAgICAgIHRoYXQuY29udGFpbmVyLmNzcyh7ICd0b3AnOiByZWN0LnRvcCArIHJlY3QuaGVpZ2h0ICsgc2Nyb2xsVG9wICsgJ3B4JyB9KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGZ1bmN0aW9uIF91cGRhdGVUZXh0Qm94KCkge1xyXG4gICAgICAgICAgICBpZiAodGhhdC5zZWxlY3RlZEluZGV4ID09PSAtMSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB2YXIgaXRlbSA9IHRoYXQucmVuZGVySXRlbXNbdGhhdC5zZWxlY3RlZEluZGV4XTtcclxuICAgICAgICAgICAgdmFyIHRleHRib3hWYWx1ZTtcclxuXHJcbiAgICAgICAgICAgIC8vIGZpcnN0IGNoZWNrIGlmIHRoZSBkYXRhIGlzIGEgc2ltcGxlIHN0cmluZyB0eXBlIFxyXG4gICAgICAgICAgICBpZiAoYW5ndWxhci5pc1N0cmluZyhpdGVtLmRhdGEpKSB7XHJcbiAgICAgICAgICAgICAgICB0ZXh0Ym94VmFsdWUgPSBpdGVtLmRhdGE7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB0ZXh0Ym94VmFsdWUgPSBpdGVtLnZhbHVlO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAvLyB1cGRhdGUgdGhlIHRleHRib3ggXHJcbiAgICAgICAgICAgIF91cGRhdGVNb2RlbCh0ZXh0Ym94VmFsdWUpO1xyXG5cclxuICAgICAgICAgICAgcmV0dXJuIGl0ZW0uZGF0YTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGZ1bmN0aW9uIF91cGRhdGVNb2RlbChtb2RlbFZhbHVlKSB7XHJcbiAgICAgICAgICAgIC8vIHVwZGF0ZSBvbmx5IGlmIGRpZmZlcmVudCBmcm9tIGN1cnJlbnQgdmFsdWVcclxuICAgICAgICAgICAgaWYgKG1vZGVsVmFsdWUgPT09IHRoYXQudGV4dE1vZGVsQ3RybC4kbW9kZWxWYWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICB0aGF0LnRleHRNb2RlbEN0cmwuJHNldFZpZXdWYWx1ZShtb2RlbFZhbHVlKTtcclxuICAgICAgICAgICAgdGhhdC50ZXh0TW9kZWxDdHJsLiRyZW5kZXIoKTtcclxuXHJcbiAgICAgICAgICAgIHNlbGVjdGVkVGV4dCA9IG1vZGVsVmFsdWU7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBmdW5jdGlvbiBfcmVuZGVyTGlzdCAocmVuZGVyRm4sIHJlc3VsdCkge1xyXG4gICAgICAgICAgICAvLyBsaW1pdCBudW1iZXIgb2YgaXRlbXMgcmVuZGVyZWQgaW4gdGhlIGRyb3Bkb3duXHJcbiAgICAgICAgICAgIHZhciBtYXhJdGVtc1RvUmVuZGVyID0gcmVzdWx0Lmxlbmd0aCA8IHRoYXQub3B0aW9ucy5tYXhJdGVtc1RvUmVuZGVyID8gcmVzdWx0Lmxlbmd0aCA6IHRoYXQub3B0aW9ucy5tYXhJdGVtc1RvUmVuZGVyO1xyXG4gICAgICAgICAgICB2YXIgaXRlbXNUb1JlbmRlciA9IHJlc3VsdC5zbGljZSgwLCBtYXhJdGVtc1RvUmVuZGVyKTtcclxuXHJcbiAgICAgICAgICAgIGFuZ3VsYXIuZm9yRWFjaChpdGVtc1RvUmVuZGVyLCBmdW5jdGlvbihkYXRhLCBrZXkpIHtcclxuICAgICAgICAgICAgICAgIC8vaW52b2tlIHJlbmRlciBjYWxsYmFjayB3aXRoIHRoZSBkYXRhIGl0ZW0gYXMgcGFyYW1ldGVyXHJcbiAgICAgICAgICAgICAgICAvL3RoaXMgc2hvdWxkIHJldHVybiBhbiBvYmplY3Qgd2l0aCBhICdsYWJlbCcgYW5kICd2YWx1ZScgcHJvcGVydHlcclxuICAgICAgICAgICAgICAgIHZhciBpdGVtID0gcmVuZGVyRm4oZGF0YSk7XHJcbiAgICAgICAgICAgICAgICBpZiAoIGl0ZW0gIT09IG51bGwgJiYgYW5ndWxhci5pc0RlZmluZWQoaXRlbSkgJiYgaXRlbS5sYWJlbCAmJiBpdGVtLnZhbHVlICkge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIHN0b3JlIHRoZSBkYXRhIG9uIHRoZSByZW5kZXJJdGVtIGFuZCBhZGQgdG8gYXJyYXlcclxuICAgICAgICAgICAgICAgICAgICBpdGVtLmRhdGEgPSBkYXRhO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoYXQucmVuZGVySXRlbXMucHVzaChpdGVtKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICB0aGF0LnNob3coKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGZ1bmN0aW9uIF9nZXRSZW5kZXJGbigpIHtcclxuICAgICAgICAgICAgLy8gdXNlciBwcm92aWRlZCBmdW5jdGlvblxyXG4gICAgICAgICAgICBpZiAoYW5ndWxhci5pc0Z1bmN0aW9uKHRoYXQub3B0aW9ucy5yZW5kZXJJdGVtKSAmJiB0aGF0Lm9wdGlvbnMucmVuZGVySXRlbSAhPT0gYW5ndWxhci5ub29wKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gX2dldFByb21pc2UodGhhdC5vcHRpb25zLnJlbmRlckl0ZW0pO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAvLyBpdGVtVGVtcGxhdGVVcmxcclxuICAgICAgICAgICAgaWYgKHRoYXQub3B0aW9ucy5pdGVtVGVtcGxhdGVVcmwpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBfZ2V0UmVuZGVyRm5fVGVtcGxhdGVVcmwoKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgLy8gaXRlbVRlbXBsYXRlXHJcbiAgICAgICAgICAgIHZhciB0ZW1wbGF0ZSA9IHRoYXQub3B0aW9ucy5pdGVtVGVtcGxhdGUgfHwgICc8c3Bhbj57e2l0ZW19fTwvc3Bhbj4nO1xyXG4gICAgICAgICAgICByZXR1cm4gX2dldFByb21pc2UoX3JlbmRlckl0ZW0uYmluZChudWxsLCAkaW50ZXJwb2xhdGUodGVtcGxhdGUsIGZhbHNlKSkpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZnVuY3Rpb24gX2dldFJlbmRlckZuX1RlbXBsYXRlVXJsKCkge1xyXG4gICAgICAgICAgICByZXR1cm4gJHRlbXBsYXRlUmVxdWVzdCh0aGF0Lm9wdGlvbnMuaXRlbVRlbXBsYXRlVXJsKVxyXG4gICAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24oY29udGVudCkge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIGRlbGVnYXRlIHRvIGxvY2FsIGZ1bmN0aW9uXHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuICBfcmVuZGVySXRlbS5iaW5kKG51bGwsICRpbnRlcnBvbGF0ZShjb250ZW50LCBmYWxzZSkpO1xyXG4gICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgIC5jYXRjaCgkZXhjZXB0aW9uSGFuZGxlcilcclxuICAgICAgICAgICAgICAgIC5jYXRjaChhbmd1bGFyLm5vb3ApO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZnVuY3Rpb24gX3JlbmRlckl0ZW0oaW50ZXJwb2xhdGlvbkZuLCBkYXRhKSB7XHJcbiAgICAgICAgICAgIHZhciB2YWx1ZSA9IChhbmd1bGFyLmlzT2JqZWN0KGRhdGEpICYmIHRoYXQub3B0aW9ucy5zZWxlY3RlZFRleHRBdHRyKSA/IGRhdGFbdGhhdC5vcHRpb25zLnNlbGVjdGVkVGV4dEF0dHJdIDogZGF0YTtcclxuICAgICAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgICAgIHZhbHVlOiB2YWx1ZSxcclxuICAgICAgICAgICAgICAgIGxhYmVsOiAkc2NlLnRydXN0QXNIdG1sKGludGVycG9sYXRpb25Gbih7aXRlbTogZGF0YX0pKVxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZnVuY3Rpb24gX2dldFByb21pc2UodmFsdWUpIHtcclxuICAgICAgICAgICAgdmFyIGRlZmVycmVkID0gJHEuZGVmZXIoKTsgICAgXHJcbiAgICAgICAgICAgIGRlZmVycmVkLnJlc29sdmUodmFsdWUpO1xyXG4gICAgICAgICAgICByZXR1cm4gZGVmZXJyZWQucHJvbWlzZTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gYXV0b0NvbXBsZXRlU2VydmljZSgpIHtcclxuICAgICAgICB2YXIgZGlyZWN0aXZlQ3RybHMgPSBbXTtcclxuXHJcbiAgICAgICAgdGhpcy5hZGREaXJlY3RpdmVDdHJsID0gZnVuY3Rpb24gKGN0cmwpIHtcclxuICAgICAgICAgICAgaWYgKGN0cmwpIHtcclxuICAgICAgICAgICAgICAgIGRpcmVjdGl2ZUN0cmxzLnB1c2goY3RybCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMuaGlkZUlmSW5hY3RpdmUgPSBmdW5jdGlvbiAoY3RybCkge1xyXG4gICAgICAgICAgICBhbmd1bGFyLmZvckVhY2goZGlyZWN0aXZlQ3RybHMsIGZ1bmN0aW9uICh2YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgdmFsdWUuaGlkZUlmSW5hY3RpdmUoKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLmRlZmF1bHRPcHRpb25zRG9jID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICByZXR1cm4gZGVmYXVsdE9wdGlvbnNEb2M7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHZhciBLRVlDT0RFID0ge1xyXG4gICAgICAgIEVOVEVSOiAxMyxcclxuICAgICAgICBFU0NBUEU6IDI3LFxyXG4gICAgICAgIFVQQVJST1c6IDM4LFxyXG4gICAgICAgIERPV05BUlJPVzogNDBcclxuICAgIH07XHJcblxyXG4gICAgdmFyIGluc3RhbmNlQ291bnQgPSAwO1xyXG5cclxuICAgIHZhciBkZWZhdWx0T3B0aW9ucyA9IHtcclxuICAgICAgICBjb250YWluZXJDc3NDbGFzczogJycsXHJcbiAgICAgICAgc2VsZWN0ZWRDc3NDbGFzczogJ2F1dG8tY29tcGxldGUtaXRlbS1zZWxlY3RlZCcsXHJcbiAgICAgICAgbWluaW11bUNoYXJzOiAxLFxyXG4gICAgICAgIG1heEl0ZW1zVG9SZW5kZXI6IDIwLFxyXG4gICAgICAgIC8vXHJcbiAgICAgICAgZHJvcGRvd25XaWR0aDogJ2F1dG8nLFxyXG4gICAgICAgIGRyb3Bkb3duSGVpZ2h0OiAnYXV0bycsXHJcbiAgICAgICAgZHJvcGRvd25QYXJlbnQ6IHVuZGVmaW5lZCxcclxuICAgICAgICAvL1xyXG4gICAgICAgIHNlbGVjdGVkVGV4dEF0dHI6IHVuZGVmaW5lZCxcclxuICAgICAgICBpdGVtVGVtcGxhdGU6IHVuZGVmaW5lZCxcclxuICAgICAgICBpdGVtVGVtcGxhdGVVcmw6IHVuZGVmaW5lZCxcclxuICAgICAgICAvL1xyXG4gICAgICAgIGxvYWRpbmc6IGFuZ3VsYXIubm9vcCxcclxuICAgICAgICBkYXRhOiBhbmd1bGFyLm5vb3AsXHJcbiAgICAgICAgbG9hZGluZ0NvbXBsZXRlOiBhbmd1bGFyLm5vb3AsXHJcbiAgICAgICAgcmVuZGVySXRlbTogYW5ndWxhci5ub29wLFxyXG4gICAgICAgIGl0ZW1TZWxlY3RlZDogYW5ndWxhci5ub29wLFxyXG4gICAgICAgIGRyb3Bkb3duU2hvd246IGFuZ3VsYXIubm9vcCxcclxuICAgICAgICBkcm9wZG93bkhpZGRlbjogYW5ndWxhci5ub29wXHJcbiAgICB9O1xyXG5cclxuICAgIHZhciBkZWZhdWx0T3B0aW9uc0RvYyA9IHtcclxuICAgICAgICBjb250YWluZXJDc3NDbGFzczogeyBkZWY6ICd1bmRlZmluZWQnLCBkb2M6ICdDU1MgY2xhc3MgYXBwbGllZCB0byB0aGUgZHJvcGRvd24gY29udGFpbmVyJyB9LFxyXG4gICAgICAgIHNlbGVjdGVkQ3NzQ2xhc3M6IHsgZGVmOiAnYXV0by1jb21wbGV0ZS1pdGVtLXNlbGVjdGVkJywgZG9jOiAnQ1NTIGNsYXNzIGFwcGxpZWQgdG8gdGhlIHNlbGVjdGVkIGxpc3QgZWxlbWVudCcgfSxcclxuICAgICAgICBtaW5pbXVtQ2hhcnM6IHsgZGVmOiAnMScsIGRvYzogJ01pbmltdW0gbnVtYmVyIG9mIGNoYXJhY3RlcnMgcmVxdWlyZWQgdG8gZGlzcGxheSB0aGUgZHJvcGRvd24uJyB9LFxyXG4gICAgICAgIG1heEl0ZW1zVG9SZW5kZXI6IHsgZGVmOiAnMjAnLCBkb2M6ICdNYXhpbXVtIG51bWJlciBvZiBpdGVtcyB0byByZW5kZXIgaW4gdGhlIGxpc3QuJyB9LFxyXG4gICAgICAgIGRyb3Bkb3duV2lkdGg6IHsgZGVmOiAnYXV0bycsIGRvYzogJ1dpZHRoIGluIFwicHhcIiBvZiB0aGUgZHJvcGRkb3duIGxpc3QuJyB9LFxyXG4gICAgICAgIGRyb3Bkb3duSGVpZ2h0OiB7IGRlZjogJ2F1dG8nLCBkb2M6ICdIZWlnaHQgaW4gXCJweFwiIG9mIHRoZSBkcm9wZGRvd24gbGlzdC4nIH0sXHJcbiAgICAgICAgZHJvcGRvd25QYXJlbnQ6IHsgZGVmOiAndW5kZWZpbmVkJywgZG9jOiAnYSBqUXVlcnkgb2JqZWN0IHRvIGFwcGVuZCB0aGUgZHJvcGRkb3duIGxpc3QuJyB9LFxyXG4gICAgICAgIC8vXHJcbiAgICAgICAgc2VsZWN0ZWRUZXh0QXR0cjogeyBkZWY6ICd1bmRlZmluZWQnLCBkb2M6ICdJZiB0aGUgZGF0YSBmb3IgdGhlIGRyb3Bkb3duIGlzIGEgY29sbGVjdGlvbiBvZiBvYmplY3RzLCB0aGUgdmFsdWUgb2YgdGhpcyBhdHRyaWJ1dGUgd2lsbCBiZSB1c2VkIHRvIHVwZGF0ZSB0aGUgaW5wdXQgdGV4dCBlbGVtZW50LicgfSxcclxuICAgICAgICBpdGVtVGVtcGxhdGU6IHsgZGVmOiAndW5kZWZpbmVkJywgZG9jOiAnQSB0ZW1wbGF0ZSBmb3IgdGhlIGRyb3BkZG93biBsaXN0IGl0ZW0uIEZvciBleGFtcGxlIFwiPGRpdj57e2l0ZW0ubGFzdE5hbWV9fSAtIHt7aXRlbS5qb2JUaXRsZX19PC9kaXY+XCIuJyB9LFxyXG4gICAgICAgIGl0ZW1UZW1wbGF0ZVVybDogeyBkZWY6ICd1bmRlZmluZWQnLCBkb2M6ICdUaGlzIGlzIHNpbWlsYXIgdG8gdGVtcGxhdGUgYnV0IHRoZSB0ZW1wbGF0ZSBpcyBsb2FkZWQgZnJvbSB0aGUgc3BlY2lmaWVkIFVSTCwgYXN5bmNocm9ub3VzbHkuJyB9LFxyXG4gICAgICAgIC8vXHJcbiAgICAgICAgbG9hZGluZzogeyBkZWY6ICdub29wJywgZG9jOiAnQ2FsbGJhY2sgYmVmb3JlIGdldHRpbmcgdGhlIGRhdGEgZm9yIHRoZSBkcm9wZG93bi4nIH0sXHJcbiAgICAgICAgZGF0YTogeyBkZWY6ICdub29wJywgZG9jOiAnQ2FsbGJhY2sgZm9yIGRhdGEgZm9yIHRoZSBkcm9wZG93bi4gTXVzdCByZXR1cm4gYSBwcm9taXNlJyB9LFxyXG4gICAgICAgIGxvYWRpbmdDb21wbGV0ZTogeyBkZWY6ICdub29wJywgZG9jOiAnQ2FsbGJhY2sgYWZ0ZXIgdGhlIGl0ZW1zIGFyZSByZW5kZXJlZCBpbiB0aGUgZHJvcGRvd24uJyB9LFxyXG4gICAgICAgIHJlbmRlckl0ZW06IHsgZGVmOiAnbm9vcCcsIGRvYzogJ0NhbGxiYWNrIGZvciBjdXN0b20gcmVuZGVyaW5nIGEgbGlzdCBpdGVtLiBUaGlzIGlzIGNhbGxlZCBmb3IgZWFjaCBpdGVtIGluIHRoZSBkcm9wZG93bi4gSXQgbXVzdCByZXR1cm4gYW4gb2JqZWN0IGxpdGVyYWwgd2l0aCBcInZhbHVlXCIgYW5kIFwibGFiZWxcIiBwcm9wZXJ0aWVzLCB3aGVyZSBsYWJlbCBpcyB0aGUgc2FmZSBodG1sIGZvciBkaXNwbGF5IGFuZCB2YWx1ZSBpcyB0aGUgdGV4dCBmb3IgdGhlIHRleHRib3gnIH0sXHJcbiAgICAgICAgaXRlbVNlbGVjdGVkOiB7IGRlZjogJ25vb3AnLCBkb2M6ICdDYWxsYmFjayBhZnRlciBhbiBpdGVtIGlzIHNlbGVjdGVkIGZyb20gdGhlIGRyb3Bkb3duLicgfSxcclxuICAgICAgICBkcm9wZG93blNob3duOiB7IGRlZjogJ25vb3AnLCBkb2M6ICdDYWxsYmFjayBhZnRlciB0aGUgZHJvcGRvd24gaXMgaGlkZGVuLicgfSxcclxuICAgICAgICBkcm9wZG93bkhpZGRlbjogeyBkZWY6ICdub29wJywgZG9jOiAnQ2FsbGJhY2sgYWZ0ZXIgdGhlIGRyb3Bkb3duIGlzIHNob3duLicgfVxyXG4gICAgfTtcclxuXHJcbn0pKCk7XHJcbiIsIihmdW5jdGlvbiB3ZWJwYWNrVW5pdmVyc2FsTW9kdWxlRGVmaW5pdGlvbihyb290LCBmYWN0b3J5KSB7XG5cdGlmKHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0JyAmJiB0eXBlb2YgbW9kdWxlID09PSAnb2JqZWN0Jylcblx0XHRtb2R1bGUuZXhwb3J0cyA9IGZhY3RvcnkocmVxdWlyZShcImFuZ3VsYXJcIikpO1xuXHRlbHNlIGlmKHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZClcblx0XHRkZWZpbmUoW1wiYW5ndWxhclwiXSwgZmFjdG9yeSk7XG5cdGVsc2Uge1xuXHRcdHZhciBhID0gdHlwZW9mIGV4cG9ydHMgPT09ICdvYmplY3QnID8gZmFjdG9yeShyZXF1aXJlKFwiYW5ndWxhclwiKSkgOiBmYWN0b3J5KHJvb3RbXCJhbmd1bGFyXCJdKTtcblx0XHRmb3IodmFyIGkgaW4gYSkgKHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0JyA/IGV4cG9ydHMgOiByb290KVtpXSA9IGFbaV07XG5cdH1cbn0pKHRoaXMsIGZ1bmN0aW9uKF9fV0VCUEFDS19FWFRFUk5BTF9NT0RVTEVfMV9fKSB7XG5yZXR1cm4gLyoqKioqKi8gKGZ1bmN0aW9uKG1vZHVsZXMpIHsgLy8gd2VicGFja0Jvb3RzdHJhcFxuLyoqKioqKi8gXHQvLyBUaGUgbW9kdWxlIGNhY2hlXG4vKioqKioqLyBcdHZhciBpbnN0YWxsZWRNb2R1bGVzID0ge307XG4vKioqKioqL1xuLyoqKioqKi8gXHQvLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuLyoqKioqKi8gXHRmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG4vKioqKioqL1xuLyoqKioqKi8gXHRcdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuLyoqKioqKi8gXHRcdGlmKGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdKVxuLyoqKioqKi8gXHRcdFx0cmV0dXJuIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmV4cG9ydHM7XG4vKioqKioqL1xuLyoqKioqKi8gXHRcdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG4vKioqKioqLyBcdFx0dmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdID0ge1xuLyoqKioqKi8gXHRcdFx0ZXhwb3J0czoge30sXG4vKioqKioqLyBcdFx0XHRpZDogbW9kdWxlSWQsXG4vKioqKioqLyBcdFx0XHRsb2FkZWQ6IGZhbHNlXG4vKioqKioqLyBcdFx0fTtcbi8qKioqKiovXG4vKioqKioqLyBcdFx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG4vKioqKioqLyBcdFx0bW9kdWxlc1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG4vKioqKioqL1xuLyoqKioqKi8gXHRcdC8vIEZsYWcgdGhlIG1vZHVsZSBhcyBsb2FkZWRcbi8qKioqKiovIFx0XHRtb2R1bGUubG9hZGVkID0gdHJ1ZTtcbi8qKioqKiovXG4vKioqKioqLyBcdFx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcbi8qKioqKiovIFx0XHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG4vKioqKioqLyBcdH1cbi8qKioqKiovXG4vKioqKioqL1xuLyoqKioqKi8gXHQvLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuLyoqKioqKi8gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm0gPSBtb2R1bGVzO1xuLyoqKioqKi9cbi8qKioqKiovIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGUgY2FjaGVcbi8qKioqKiovIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5jID0gaW5zdGFsbGVkTW9kdWxlcztcbi8qKioqKiovXG4vKioqKioqLyBcdC8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fXG4vKioqKioqLyBcdF9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiXCI7XG4vKioqKioqL1xuLyoqKioqKi8gXHQvLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbi8qKioqKiovIFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18oMCk7XG4vKioqKioqLyB9KVxuLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qKioqKiovIChbXG4vKiAwICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICAgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHRleHBvcnRzLm5nQmFpZHVNYXAgPSB1bmRlZmluZWQ7XG5cdFxuXHR2YXIgX2FuZ3VsYXIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEpO1xuXHRcblx0dmFyIF9hbmd1bGFyMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2FuZ3VsYXIpO1xuXHRcblx0dmFyIF9kZWZhdWx0cyA9IF9fd2VicGFja19yZXF1aXJlX18oMik7XG5cdFxuXHR2YXIgX3ZhbGlkYXRvciA9IF9fd2VicGFja19yZXF1aXJlX18oMyk7XG5cdFxuXHR2YXIgX2RpcmVjdGl2ZURlZiA9IF9fd2VicGFja19yZXF1aXJlX18oNCk7XG5cdFxuXHR2YXIgX2JhaWR1U2NyaXB0TG9hZGVyID0gX193ZWJwYWNrX3JlcXVpcmVfXyg1KTtcblx0XG5cdHZhciBfb2ZmbGluZSA9IF9fd2VicGFja19yZXF1aXJlX18oNik7XG5cdFxuXHR2YXIgX21hcCA9IF9fd2VicGFja19yZXF1aXJlX18oNyk7XG5cdFxuXHRmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXHRcblx0dmFyIG5nQmFpZHVNYXAgPSBleHBvcnRzLm5nQmFpZHVNYXAgPSBmdW5jdGlvbiAoKSB7XG5cdCAgICB2YXIgbmFtZSA9ICdiYWlkdU1hcCc7XG5cdFxuXHQgICAgKDAsIF9kaXJlY3RpdmVEZWYuZGVmKShuYW1lLCB7XG5cdCAgICAgICAgcmVzdHJpY3Q6ICdFJyxcblx0ICAgICAgICBzY29wZToge1xuXHQgICAgICAgICAgICBvcHRpb25zOiAnPScsXG5cdCAgICAgICAgICAgIGFrOiAnQCcsXG5cdCAgICAgICAgICAgIG9mZmxpbmU6ICc9Jyxcblx0ICAgICAgICAgICAgb25NYXBMb2FkZWQ6ICcmJ1xuXHQgICAgICAgIH0sXG5cdCAgICAgICAgbGluazogZnVuY3Rpb24gbGluaygkc2NvcGUsIGVsZW1lbnQsIGF0dHJzKSB7XG5cdFxuXHQgICAgICAgICAgICB2YXIgb3B0cyA9IF9hbmd1bGFyMi5kZWZhdWx0LmV4dGVuZCh7fSwgX2RlZmF1bHRzLmRlZmF1bHRPcHRzLCAkc2NvcGUub3B0aW9ucyk7XG5cdCAgICAgICAgICAgIHZhciBvZmZsaW5lT3B0cyA9IF9hbmd1bGFyMi5kZWZhdWx0LmV4dGVuZCh7fSwgX2RlZmF1bHRzLmRlZmF1bHRPZmZsaW5lT3B0cywgJHNjb3BlLm9mZmxpbmUpO1xuXHQgICAgICAgICAgICAkc2NvcGUub2ZmbGluZVdvcmRzID0gb2ZmbGluZU9wdHMudHh0O1xuXHQgICAgICAgICAgICAoMCwgX3ZhbGlkYXRvci52YWxpZGF0b3IpKCRzY29wZS5haywgJ2FrIG11c3Qgbm90IGJlIGVtcHR5Jyk7XG5cdCAgICAgICAgICAgICgwLCBfdmFsaWRhdG9yLnZhbGlkYXRvcikob3B0cy5jZW50ZXIsICdvcHRpb25zLmNlbnRlciBtdXN0IGJlIHNldCcpO1xuXHQgICAgICAgICAgICAoMCwgX3ZhbGlkYXRvci52YWxpZGF0b3IpKG9wdHMuY2VudGVyLmxvbmdpdHVkZSwgJ29wdGlvbnMuY2VudGVyLmxvbmdpdHVkZSBtdXN0IGJlIHNldCcpO1xuXHQgICAgICAgICAgICAoMCwgX3ZhbGlkYXRvci52YWxpZGF0b3IpKG9wdHMuY2VudGVyLmxhdGl0dWRlLCAnb3B0aW9ucy5jZW50ZXIubGF0aXR1ZGUgbXVzdCBiZSBzZXQnKTtcblx0ICAgICAgICAgICAgKDAsIF92YWxpZGF0b3IudmFsaWRhdG9yKShvcHRzLmNpdHksICdvcHRpb25zLmNpdHkgbXVzdCBiZSBzZXQnKTtcblx0XG5cdCAgICAgICAgICAgICgwLCBfYmFpZHVTY3JpcHRMb2FkZXIubG9hZGVyKSgkc2NvcGUuYWssIG9mZmxpbmVPcHRzLCBmdW5jdGlvbiAoKSB7XG5cdFxuXHQgICAgICAgICAgICAgICAgdmFyIG1hcCA9ICgwLCBfbWFwLmNyZWF0ZUluc3RhbmNlKShvcHRzLCBlbGVtZW50KTtcblx0XG5cdCAgICAgICAgICAgICAgICAkc2NvcGUub25NYXBMb2FkZWQoeyBtYXA6IG1hcCB9KTtcblx0XG5cdCAgICAgICAgICAgICAgICAvL2NyZWF0ZSBtYXJrZXJzXG5cdCAgICAgICAgICAgICAgICB2YXIgcHJldmlvdXNNYXJrZXJzID0gW107XG5cdFxuXHQgICAgICAgICAgICAgICAgKDAsIF9tYXAucmVkcmF3TWFya2VycykobWFwLCBwcmV2aW91c01hcmtlcnMsIG9wdHMpO1xuXHRcblx0ICAgICAgICAgICAgICAgICRzY29wZS4kd2F0Y2goJ29wdGlvbnMuY2VudGVyJywgZnVuY3Rpb24gKG5ld1ZhbHVlLCBvbGRWYWx1ZSkge1xuXHRcblx0ICAgICAgICAgICAgICAgICAgICBvcHRzID0gJHNjb3BlLm9wdGlvbnM7XG5cdCAgICAgICAgICAgICAgICAgICAgbWFwLmNlbnRlckFuZFpvb20obmV3IEJNYXAuUG9pbnQob3B0cy5jZW50ZXIubG9uZ2l0dWRlLCBvcHRzLmNlbnRlci5sYXRpdHVkZSksIG9wdHMuem9vbSk7XG5cdCAgICAgICAgICAgICAgICAgICAgKDAsIF9tYXAucmVkcmF3TWFya2VycykobWFwLCBwcmV2aW91c01hcmtlcnMsIG9wdHMpO1xuXHQgICAgICAgICAgICAgICAgfSwgdHJ1ZSk7XG5cdFxuXHQgICAgICAgICAgICAgICAgJHNjb3BlLiR3YXRjaCgnb3B0aW9ucy5tYXJrZXJzJywgZnVuY3Rpb24gKG5ld1ZhbHVlLCBvbGRWYWx1ZSkge1xuXHQgICAgICAgICAgICAgICAgICAgICgwLCBfbWFwLnJlZHJhd01hcmtlcnMpKG1hcCwgcHJldmlvdXNNYXJrZXJzLCBvcHRzKTtcblx0ICAgICAgICAgICAgICAgIH0sIHRydWUpO1xuXHQgICAgICAgICAgICB9KTtcblx0XG5cdCAgICAgICAgICAgICRzY29wZS5kaXZTdHlsZSA9IF9vZmZsaW5lLmRpdlN0eWxlO1xuXHQgICAgICAgICAgICAkc2NvcGUubGFiZWxTdHlsZSA9IF9vZmZsaW5lLmxhYmVsU3R5bGU7XG5cdFxuXHQgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcblx0ICAgICAgICAgICAgICAgIHZhciAkbGFiZWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdiYWlkdS1tYXAgZGl2IGxhYmVsJyk7XG5cdCAgICAgICAgICAgICAgICAkc2NvcGUubGFiZWxTdHlsZS5tYXJnaW5Ub3AgPSAkbGFiZWwuY2xpZW50SGVpZ2h0IC8gLTIgKyAncHgnO1xuXHQgICAgICAgICAgICAgICAgJHNjb3BlLmxhYmVsU3R5bGUubWFyZ2luTGVmdCA9ICRsYWJlbC5jbGllbnRXaWR0aCAvIC0yICsgJ3B4Jztcblx0ICAgICAgICAgICAgICAgICRzY29wZS4kYXBwbHkoKTtcblx0ICAgICAgICAgICAgfSk7XG5cdCAgICAgICAgfSxcblx0ICAgICAgICB0ZW1wbGF0ZTogJzxkaXYgbmctc3R5bGU9XCJkaXZTdHlsZVwiPjxsYWJlbCBuZy1zdHlsZT1cImxhYmVsU3R5bGVcIj57eyBvZmZsaW5lV29yZHMgfX08L2xhYmVsPjwvZGl2Pidcblx0ICAgIH0pO1xuXHRcblx0ICAgIHJldHVybiBuYW1lO1xuXHR9KCk7XG5cbi8qKiovIH0sXG4vKiAxICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHRtb2R1bGUuZXhwb3J0cyA9IF9fV0VCUEFDS19FWFRFUk5BTF9NT0RVTEVfMV9fO1xuXG4vKioqLyB9LFxuLyogMiAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdCAgICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0dmFyIGRlZmF1bHRPcHRzID0gZXhwb3J0cy5kZWZhdWx0T3B0cyA9IHtcblx0ICAgIG5hdkN0cmw6IHRydWUsXG5cdCAgICBzY2FsZUN0cmw6IHRydWUsXG5cdCAgICBvdmVydmlld0N0cmw6IHRydWUsXG5cdCAgICBlbmFibGVTY3JvbGxXaGVlbFpvb206IHRydWUsXG5cdCAgICB6b29tOiAxMFxuXHR9O1xuXHRcblx0dmFyIGRlZmF1bHRPZmZsaW5lT3B0cyA9IGV4cG9ydHMuZGVmYXVsdE9mZmxpbmVPcHRzID0ge1xuXHQgICAgcmV0cnlJbnRlcnZhbDogMzAwMDAsXG5cdCAgICB0eHQ6ICdPRkZMSU5FJ1xuXHR9O1xuXG4vKioqLyB9LFxuLyogMyAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0XCJ1c2Ugc3RyaWN0XCI7XG5cdFxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcblx0ICAgIHZhbHVlOiB0cnVlXG5cdH0pO1xuXHR2YXIgdmFsaWRhdG9yID0gZXhwb3J0cy52YWxpZGF0b3IgPSBmdW5jdGlvbiB2YWxpZGF0b3IocHJvcCwgZGVzYykge1xuXHQgICAgaWYgKCFwcm9wKSB7XG5cdCAgICAgICAgdGhyb3cgbmV3IEVycm9yKGRlc2MpO1xuXHQgICAgfVxuXHR9O1xuXG4vKioqLyB9LFxuLyogNCAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdCAgICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0ZXhwb3J0cy5kZWYgPSB1bmRlZmluZWQ7XG5cdFxuXHR2YXIgX2FuZ3VsYXIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEpO1xuXHRcblx0dmFyIF9hbmd1bGFyMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2FuZ3VsYXIpO1xuXHRcblx0ZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblx0XG5cdHZhciBkZWYgPSBleHBvcnRzLmRlZiA9IGZ1bmN0aW9uIGRlZihuYW1lLCBkZG8pIHtcblx0ICAgIF9hbmd1bGFyMi5kZWZhdWx0Lm1vZHVsZShuYW1lLCBbXSkuZGlyZWN0aXZlKG5hbWUsIFtmdW5jdGlvbiAoKSB7XG5cdCAgICAgICAgcmV0dXJuIGRkbztcblx0ICAgIH1dKTtcblx0fTtcblxuLyoqKi8gfSxcbi8qIDUgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgICAgdmFsdWU6IHRydWVcblx0fSk7XG5cdHZhciBsb2FkZXIgPSBleHBvcnRzLmxvYWRlciA9IGZ1bmN0aW9uIGxvYWRlcihhaywgb2ZmbGluZU9wdHMsIGNhbGxiYWNrKSB7XG5cdCAgICB2YXIgTUFQX1VSTCA9ICcvL2FwaS5tYXAuYmFpZHUuY29tL2FwaT92PTIuMCZhaz0nICsgYWsgKyAnJmNhbGxiYWNrPWJhaWR1bWFwaW5pdCZzPScgKyAobG9jYXRpb24ucHJvdG9jb2wgPT09ICdodHRwczonID8gMSA6IDApO1xuXHRcblx0ICAgIHZhciBiYWlkdU1hcCA9IHdpbmRvdy5iYWlkdU1hcDtcblx0ICAgIGlmIChiYWlkdU1hcCAmJiBiYWlkdU1hcC5zdGF0dXMgPT09ICdsb2FkaW5nJykge1xuXHQgICAgICAgIHJldHVybiBiYWlkdU1hcC5jYWxsYmFja3MucHVzaChjYWxsYmFjayk7XG5cdCAgICB9XG5cdFxuXHQgICAgaWYgKGJhaWR1TWFwICYmIGJhaWR1TWFwLnN0YXR1cyA9PT0gJ2xvYWRlZCcpIHtcblx0ICAgICAgICByZXR1cm4gY2FsbGJhY2soKTtcblx0ICAgIH1cblx0XG5cdCAgICB3aW5kb3cuYmFpZHVNYXAgPSB7IHN0YXR1czogJ2xvYWRpbmcnLCBjYWxsYmFja3M6IFtdIH07XG5cdCAgICB3aW5kb3cuYmFpZHVtYXBpbml0ID0gZnVuY3Rpb24gKCkge1xuXHQgICAgICAgIHdpbmRvdy5iYWlkdU1hcC5zdGF0dXMgPSAnbG9hZGVkJztcblx0ICAgICAgICBjYWxsYmFjaygpO1xuXHQgICAgICAgIHdpbmRvdy5iYWlkdU1hcC5jYWxsYmFja3MuZm9yRWFjaChmdW5jdGlvbiAoY2IpIHtcblx0ICAgICAgICAgICAgcmV0dXJuIGNiKCk7XG5cdCAgICAgICAgfSk7XG5cdCAgICAgICAgd2luZG93LmJhaWR1TWFwLmNhbGxiYWNrcyA9IFtdO1xuXHQgICAgfTtcblx0XG5cdCAgICB2YXIgY3JlYXRlVGFnID0gZnVuY3Rpb24gY3JlYXRlVGFnKCkge1xuXHQgICAgICAgIHZhciBzY3JpcHQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzY3JpcHQnKTtcblx0ICAgICAgICBzY3JpcHQudHlwZSA9ICd0ZXh0L2phdmFzY3JpcHQnO1xuXHQgICAgICAgIHNjcmlwdC5zcmMgPSBNQVBfVVJMO1xuXHQgICAgICAgIHNjcmlwdC5vbmVycm9yID0gZnVuY3Rpb24gKCkge1xuXHRcblx0ICAgICAgICAgICAgQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnYmFpZHUtbWFwIGRpdicpKS5mb3JFYWNoKGZ1bmN0aW9uIChub2RlKSB7XG5cdCAgICAgICAgICAgICAgICBub2RlLnN0eWxlLm9wYWNpdHkgPSAxO1xuXHQgICAgICAgICAgICB9KTtcblx0ICAgICAgICAgICAgZG9jdW1lbnQuYm9keS5yZW1vdmVDaGlsZChzY3JpcHQpO1xuXHQgICAgICAgICAgICBzZXRUaW1lb3V0KGNyZWF0ZVRhZywgb2ZmbGluZU9wdHMucmV0cnlJbnRlcnZhbCk7XG5cdCAgICAgICAgfTtcblx0ICAgICAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKHNjcmlwdCk7XG5cdCAgICB9O1xuXHRcblx0ICAgIGNyZWF0ZVRhZygpO1xuXHR9O1xuXG4vKioqLyB9LFxuLyogNiAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG5cdCAgICB2YWx1ZTogdHJ1ZVxuXHR9KTtcblx0dmFyIGRpdlN0eWxlID0gZXhwb3J0cy5kaXZTdHlsZSA9IHtcblx0ICAgIHdpZHRoOiAnMTAwJScsXG5cdCAgICBoZWlnaHQ6ICcxMDAlJyxcblx0ICAgIGJhY2tncm91bmRDb2xvcjogJyNFNkU2RTYnLFxuXHQgICAgcG9zaXRpb246ICdyZWxhdGl2ZScsXG5cdCAgICBvcGFjaXR5OiAwXG5cdH07XG5cdFxuXHR2YXIgbGFiZWxTdHlsZSA9IGV4cG9ydHMubGFiZWxTdHlsZSA9IHtcblx0ICAgIGZvbnRTaXplOiAnMzBweCcsXG5cdCAgICBwb3NpdGlvbjogJ2Fic29sdXRlJyxcblx0ICAgIHRvcDogJzUwJScsXG5cdCAgICBtYXJnaW5Ub3A6IDAsXG5cdCAgICBsZWZ0OiAnNTAlJyxcblx0ICAgIG1hcmdpbkxlZnQ6IDBcblx0fTtcblxuLyoqKi8gfSxcbi8qIDcgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuXHQgICAgdmFsdWU6IHRydWVcblx0fSk7XG5cdHZhciBjcmVhdGVJbnN0YW5jZSA9IGV4cG9ydHMuY3JlYXRlSW5zdGFuY2UgPSBmdW5jdGlvbiBjcmVhdGVJbnN0YW5jZShvcHRzLCBlbGVtZW50KSB7XG5cdCAgICAvLyBjcmVhdGUgbWFwIGluc3RhbmNlXG5cdCAgICB2YXIgbWFwID0gbmV3IEJNYXAuTWFwKGVsZW1lbnRbMF0pO1xuXHRcblx0ICAgIC8vIGluaXQgbWFwLCBzZXQgY2VudHJhbCBsb2NhdGlvbiBhbmQgem9vbSBsZXZlbFxuXHQgICAgbWFwLmNlbnRlckFuZFpvb20obmV3IEJNYXAuUG9pbnQob3B0cy5jZW50ZXIubG9uZ2l0dWRlLCBvcHRzLmNlbnRlci5sYXRpdHVkZSksIG9wdHMuem9vbSk7XG5cdCAgICBpZiAob3B0cy5uYXZDdHJsKSB7XG5cdCAgICAgICAgLy8gYWRkIG5hdmlnYXRpb24gY29udHJvbFxuXHQgICAgICAgIG1hcC5hZGRDb250cm9sKG5ldyBCTWFwLk5hdmlnYXRpb25Db250cm9sKCkpO1xuXHQgICAgfVxuXHQgICAgaWYgKG9wdHMuc2NhbGVDdHJsKSB7XG5cdCAgICAgICAgLy8gYWRkIHNjYWxlIGNvbnRyb2xcblx0ICAgICAgICBtYXAuYWRkQ29udHJvbChuZXcgQk1hcC5TY2FsZUNvbnRyb2woKSk7XG5cdCAgICB9XG5cdCAgICBpZiAob3B0cy5vdmVydmlld0N0cmwpIHtcblx0ICAgICAgICAvL2FkZCBvdmVydmlldyBtYXAgY29udHJvbFxuXHQgICAgICAgIG1hcC5hZGRDb250cm9sKG5ldyBCTWFwLk92ZXJ2aWV3TWFwQ29udHJvbCgpKTtcblx0ICAgIH1cblx0ICAgIGlmIChvcHRzLmVuYWJsZVNjcm9sbFdoZWVsWm9vbSkge1xuXHQgICAgICAgIC8vZW5hYmxlIHNjcm9sbCB3aGVlbCB6b29tXG5cdCAgICAgICAgbWFwLmVuYWJsZVNjcm9sbFdoZWVsWm9vbSgpO1xuXHQgICAgfVxuXHRcblx0ICAgIC8vIHNldCB0aGUgY2l0eSBuYW1lXG5cdCAgICBtYXAuc2V0Q3VycmVudENpdHkob3B0cy5jaXR5KTtcblx0ICAgIHJldHVybiBtYXA7XG5cdH07XG5cdFxuXHR2YXIgY3JlYXRlTWFya2VyID0gZXhwb3J0cy5jcmVhdGVNYXJrZXIgPSBmdW5jdGlvbiBjcmVhdGVNYXJrZXIobWFya2VyLCBwdCkge1xuXHQgICAgaWYgKG1hcmtlci5pY29uKSB7XG5cdCAgICAgICAgdmFyIGljb24gPSBuZXcgQk1hcC5JY29uKG1hcmtlci5pY29uLCBuZXcgQk1hcC5TaXplKG1hcmtlci53aWR0aCwgbWFya2VyLmhlaWdodCkpO1xuXHQgICAgICAgIHJldHVybiBuZXcgQk1hcC5NYXJrZXIocHQsIHsgaWNvbjogaWNvbiB9KTtcblx0ICAgIH1cblx0ICAgIHJldHVybiBuZXcgQk1hcC5NYXJrZXIocHQpO1xuXHR9O1xuXHRcblx0dmFyIHJlZHJhd01hcmtlcnMgPSBleHBvcnRzLnJlZHJhd01hcmtlcnMgPSBmdW5jdGlvbiByZWRyYXdNYXJrZXJzKG1hcCwgcHJldmlvdXNNYXJrZXJzLCBvcHRzKSB7XG5cdFxuXHQgICAgcHJldmlvdXNNYXJrZXJzLmZvckVhY2goZnVuY3Rpb24gKF9yZWYpIHtcblx0ICAgICAgICB2YXIgbWFya2VyID0gX3JlZi5tYXJrZXI7XG5cdCAgICAgICAgdmFyIGxpc3RlbmVyID0gX3JlZi5saXN0ZW5lcjtcblx0XG5cdCAgICAgICAgbWFya2VyLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgbGlzdGVuZXIpO1xuXHQgICAgICAgIG1hcC5yZW1vdmVPdmVybGF5KG1hcmtlcik7XG5cdCAgICB9KTtcblx0XG5cdCAgICBwcmV2aW91c01hcmtlcnMubGVuZ3RoID0gMDtcblx0XG5cdCAgICBpZiAoIW9wdHMubWFya2Vycykge1xuXHQgICAgICAgIHJldHVybjtcblx0ICAgIH1cblx0XG5cdCAgICBvcHRzLm1hcmtlcnMuZm9yRWFjaChmdW5jdGlvbiAobWFya2VyKSB7XG5cdFxuXHQgICAgICAgIHZhciBtYXJrZXIyID0gY3JlYXRlTWFya2VyKG1hcmtlciwgbmV3IEJNYXAuUG9pbnQobWFya2VyLmxvbmdpdHVkZSwgbWFya2VyLmxhdGl0dWRlKSk7XG5cdFxuXHQgICAgICAgIC8vIGFkZCBtYXJrZXIgdG8gdGhlIG1hcFxuXHQgICAgICAgIG1hcC5hZGRPdmVybGF5KG1hcmtlcjIpO1xuXHQgICAgICAgIHZhciBwcmV2aW91c01hcmtlciA9IHsgbWFya2VyOiBtYXJrZXIyLCBsaXN0ZW5lcjogbnVsbCB9O1xuXHQgICAgICAgIHByZXZpb3VzTWFya2Vycy5wdXNoKHByZXZpb3VzTWFya2VyKTtcblx0XG5cdCAgICAgICAgaWYgKCFtYXJrZXIudGl0bGUgJiYgIW1hcmtlci5jb250ZW50KSB7XG5cdCAgICAgICAgICAgIHJldHVybjtcblx0ICAgICAgICB9XG5cdCAgICAgICAgdmFyIG1zZyA9ICc8cD4nICsgKG1hcmtlci50aXRsZSB8fCAnJykgKyAnPC9wPjxwPicgKyAobWFya2VyLmNvbnRlbnQgfHwgJycpICsgJzwvcD4nO1xuXHQgICAgICAgIHZhciBpbmZvV2luZG93MiA9IG5ldyBCTWFwLkluZm9XaW5kb3cobXNnLCB7XG5cdCAgICAgICAgICAgIGVuYWJsZU1lc3NhZ2U6ICEhbWFya2VyLmVuYWJsZU1lc3NhZ2Vcblx0ICAgICAgICB9KTtcblx0ICAgICAgICBwcmV2aW91c01hcmtlci5saXN0ZW5lciA9IGZ1bmN0aW9uICgpIHtcblx0ICAgICAgICAgICAgdGhpcy5vcGVuSW5mb1dpbmRvdyhpbmZvV2luZG93Mik7XG5cdCAgICAgICAgfTtcblx0ICAgICAgICBtYXJrZXIyLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgcHJldmlvdXNNYXJrZXIubGlzdGVuZXIpO1xuXHQgICAgfSk7XG5cdH07XG5cbi8qKiovIH1cbi8qKioqKiovIF0pXG59KTtcbjsiLCIvKiFcbiAgIGFuZ3VsYXItYmxvY2stdWkgdjAuMi4xXG4gICAoYykgMjAxNSAobnVsbCkgTWNOdWxsIGh0dHBzOi8vZ2l0aHViLmNvbS9NY051bGwvYW5ndWxhci1ibG9jay11aVxuICAgTGljZW5zZTogTUlUXG4qL1xuKGZ1bmN0aW9uKGFuZ3VsYXIpIHtcblxudmFyIGJsa1VJID0gYW5ndWxhci5tb2R1bGUoJ2Jsb2NrVUknLCBbXSk7XG5cbmJsa1VJLmNvbmZpZyhbXCIkcHJvdmlkZVwiLCBcIiRodHRwUHJvdmlkZXJcIiwgZnVuY3Rpb24gKCRwcm92aWRlLCAkaHR0cFByb3ZpZGVyKSB7XG5cbiAgJHByb3ZpZGUuZGVjb3JhdG9yKCckZXhjZXB0aW9uSGFuZGxlcicsIFsnJGRlbGVnYXRlJywgJyRpbmplY3RvcicsXG4gICAgZnVuY3Rpb24gKCRkZWxlZ2F0ZSwgJGluamVjdG9yKSB7XG4gICAgICB2YXIgYmxvY2tVSSwgYmxvY2tVSUNvbmZpZztcblxuICAgICAgcmV0dXJuIGZ1bmN0aW9uIChleGNlcHRpb24sIGNhdXNlKSB7XG5cbiAgICAgICAgYmxvY2tVSUNvbmZpZyA9IGJsb2NrVUlDb25maWcgfHwgJGluamVjdG9yLmdldCgnYmxvY2tVSUNvbmZpZycpO1xuXG4gICAgICAgIGlmIChibG9ja1VJQ29uZmlnLnJlc2V0T25FeGNlcHRpb24pIHtcbiAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgYmxvY2tVSSA9IGJsb2NrVUkgfHwgJGluamVjdG9yLmdldCgnYmxvY2tVSScpO1xuICAgICAgICAgICAgYmxvY2tVSS5pbnN0YW5jZXMucmVzZXQoKTtcbiAgICAgICAgICB9IGNhdGNoIChleCkge1xuICAgICAgICAgICAgY29uc29sZS5sb2coJyRleGNlcHRpb25IYW5kbGVyJywgZXhjZXB0aW9uKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAkZGVsZWdhdGUoZXhjZXB0aW9uLCBjYXVzZSk7XG4gICAgICB9O1xuICAgIH1cbiAgXSk7XG5cbiAgJGh0dHBQcm92aWRlci5pbnRlcmNlcHRvcnMucHVzaCgnYmxvY2tVSUh0dHBJbnRlcmNlcHRvcicpO1xufV0pO1xuXG5ibGtVSS5ydW4oW1wiJGRvY3VtZW50XCIsIFwiYmxvY2tVSUNvbmZpZ1wiLCBcIiR0ZW1wbGF0ZUNhY2hlXCIsIGZ1bmN0aW9uICgkZG9jdW1lbnQsIGJsb2NrVUlDb25maWcsICR0ZW1wbGF0ZUNhY2hlKSB7XG4gIGlmIChibG9ja1VJQ29uZmlnLmF1dG9JbmplY3RCb2R5QmxvY2spIHtcbiAgICAkZG9jdW1lbnQuZmluZCgnYm9keScpLmF0dHIoJ2Jsb2NrLXVpJywgJ21haW4nKTtcbiAgfVxuXG4gIGlmIChibG9ja1VJQ29uZmlnLnRlbXBsYXRlKSB7XG5cbiAgICAvLyBTd2FwIHRoZSBidWlsdGluIHRlbXBsYXRlIHdpdGggdGhlIGN1c3RvbSB0ZW1wbGF0ZS5cbiAgICAvLyBDcmVhdGUgYSBtYWdpYyBjYWNoZSBrZXkgYW5kIHBsYWNlIHRoZSB0ZW1wbGF0ZSBpbiB0aGUgY2FjaGUuXG5cbiAgICBibG9ja1VJQ29uZmlnLnRlbXBsYXRlVXJsID0gJyQkYmxvY2stdWktdGVtcGxhdGUkJCc7XG4gICAgJHRlbXBsYXRlQ2FjaGUucHV0KGJsb2NrVUlDb25maWcudGVtcGxhdGVVcmwsIGJsb2NrVUlDb25maWcudGVtcGxhdGUpO1xuICB9XG59XSk7XG5cbmZ1bmN0aW9uIG1vZHVsZUxvYWRlZChuYW1lKSB7XG4gIHRyeSB7XG4gICAgYW5ndWxhci5tb2R1bGUobmFtZSk7XG4gIH0gY2F0Y2goZXgpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgcmV0dXJuIHRydWU7XG59XG5ibGtVSS5jb25maWcoW1wiJHByb3ZpZGVcIiwgZnVuY3Rpb24gKCRwcm92aWRlKSB7XG4gICRwcm92aWRlLmRlY29yYXRvcignJGxvY2F0aW9uJywgZGVjb3JhdGVMb2NhdGlvbik7XG59XSk7XG5cbnZhciBkZWNvcmF0ZUxvY2F0aW9uID0gW1xuICAnJGRlbGVnYXRlJywgJ2Jsb2NrVUknLCAnYmxvY2tVSUNvbmZpZycsXG4gIGZ1bmN0aW9uICgkZGVsZWdhdGUsIGJsb2NrVUksIGJsb2NrVUlDb25maWcpIHtcblxuICAgIGlmIChibG9ja1VJQ29uZmlnLmJsb2NrQnJvd3Nlck5hdmlnYXRpb24pIHtcblxuICAgICAgYmxvY2tVSS4kX2Jsb2NrTG9jYXRpb25DaGFuZ2UgPSB0cnVlO1xuXG4gICAgICB2YXIgb3ZlcnJpZGVzID0gWyd1cmwnLCAncGF0aCcsICdzZWFyY2gnLCAnaGFzaCcsICdzdGF0ZSddO1xuXG4gICAgICBmdW5jdGlvbiBob29rKGYpIHtcbiAgICAgICAgdmFyIHMgPSAkZGVsZWdhdGVbZl07XG4gICAgICAgICRkZWxlZ2F0ZVtmXSA9IGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgIC8vICAgICAgICBjb25zb2xlLmxvZyhmLCBEYXRlLm5vdygpLCBhcmd1bWVudHMpO1xuXG4gICAgICAgICAgdmFyIHJlc3VsdCA9IHMuYXBwbHkoJGRlbGVnYXRlLCBhcmd1bWVudHMpO1xuXG4gICAgICAgICAgLy8gVGhlIGNhbGwgd2FzIGEgc2V0dGVyIGlmIHRoZSAkbG9jYXRpb24gc2VydmljZSBpcyByZXR1cm5lZC5cblxuICAgICAgICAgIGlmIChyZXN1bHQgPT09ICRkZWxlZ2F0ZSkge1xuXG4gICAgICAgICAgICAvLyBNYXJrIHRoZSBtYWluYmxvY2sgdWkgdG8gYWxsb3cgdGhlIGxvY2F0aW9uIGNoYW5nZS5cblxuICAgICAgICAgICAgYmxvY2tVSS4kX2Jsb2NrTG9jYXRpb25DaGFuZ2UgPSBmYWxzZTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICB9O1xuICAgICAgfVxuXG4gICAgICBhbmd1bGFyLmZvckVhY2gob3ZlcnJpZGVzLCBob29rKTtcblxuICAgIH1cblxuICAgIHJldHVybiAkZGVsZWdhdGU7XG59XTtcblxuLy8gQ2FsbGVkIGZyb20gYmxvY2stdWktZGlyZWN0aXZlIGZvciB0aGUgJ21haW4nIGluc3RhbmNlLlxuXG5mdW5jdGlvbiBibG9ja05hdmlnYXRpb24oJHNjb3BlLCBtYWluQmxvY2tVSSwgYmxvY2tVSUNvbmZpZykge1xuXG4gIGlmIChibG9ja1VJQ29uZmlnLmJsb2NrQnJvd3Nlck5hdmlnYXRpb24pIHtcblxuICAgIGZ1bmN0aW9uIHJlZ2lzdGVyTG9jYXRpb25DaGFuZ2UoKSB7XG5cbiAgICAgICRzY29wZS4kb24oJyRsb2NhdGlvbkNoYW5nZVN0YXJ0JywgZnVuY3Rpb24gKGV2ZW50KSB7XG5cbiAgICAgICAgLy8gICAgICAgIGNvbnNvbGUubG9nKCckbG9jYXRpb25DaGFuZ2VTdGFydCcsIG1haW5CbG9ja1VJLiRfYmxvY2tMb2NhdGlvbkNoYW5nZSArICcgJyArIG1haW5CbG9ja1VJLnN0YXRlKCkuYmxvY2tDb3VudCk7XG5cbiAgICAgICAgaWYgKG1haW5CbG9ja1VJLiRfYmxvY2tMb2NhdGlvbkNoYW5nZSAmJiBtYWluQmxvY2tVSS5zdGF0ZSgpLmJsb2NrQ291bnQgPiAwKSB7XG4gICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG5cbiAgICAgICRzY29wZS4kb24oJyRsb2NhdGlvbkNoYW5nZVN1Y2Nlc3MnLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIG1haW5CbG9ja1VJLiRfYmxvY2tMb2NhdGlvbkNoYW5nZSA9IGJsb2NrVUlDb25maWcuYmxvY2tCcm93c2VyTmF2aWdhdGlvbjtcblxuICAgICAgICAvLyAgICAgICAgY29uc29sZS5sb2coJyRsb2NhdGlvbkNoYW5nZVN1Y2Nlc3MnLCBtYWluQmxvY2tVSS4kX2Jsb2NrTG9jYXRpb25DaGFuZ2UgKyAnICcgKyBtYWluQmxvY2tVSS5zdGF0ZSgpLmJsb2NrQ291bnQpO1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgaWYgKG1vZHVsZUxvYWRlZCgnbmdSb3V0ZScpKSB7XG5cbiAgICAgIC8vIEFmdGVyIHRoZSBpbml0aWFsIGNvbnRlbnQgaGFzIGJlZW4gbG9hZGVkIHdlJ2xsIHNweSBvbiBhbnkgbG9jYXRpb25cbiAgICAgIC8vIGNoYW5nZXMgYW5kIGRpc2NhcmQgdGhlbSB3aGVuIG5lZWRlZC5cblxuICAgICAgdmFyIGZuID0gJHNjb3BlLiRvbignJHZpZXdDb250ZW50TG9hZGVkJywgZnVuY3Rpb24gKCkge1xuXG4gICAgICAgIC8vIFVuaG9vayB0aGUgdmlldyBsb2FkZWQgYW5kIGhvb2sgYSBmdW5jdGlvbiB0aGF0IHdpbGwgcHJldmVudFxuICAgICAgICAvLyBsb2NhdGlvbiBjaGFuZ2VzIHdoaWxlIHRoZSBibG9jayBpcyBhY3RpdmUuXG5cbiAgICAgICAgZm4oKTtcbiAgICAgICAgcmVnaXN0ZXJMb2NhdGlvbkNoYW5nZSgpO1xuXG4gICAgICB9KTtcblxuICAgIH0gZWxzZSB7XG4gICAgICByZWdpc3RlckxvY2F0aW9uQ2hhbmdlKCk7XG4gICAgfVxuXG4gIH1cbn1cbmJsa1VJLmRpcmVjdGl2ZSgnYmxvY2tVaUNvbnRhaW5lcicsIFtcImJsb2NrVUlDb25maWdcIiwgXCJibG9ja1VpQ29udGFpbmVyTGlua0ZuXCIsIGZ1bmN0aW9uIChibG9ja1VJQ29uZmlnLCBibG9ja1VpQ29udGFpbmVyTGlua0ZuKSB7XG4gIHJldHVybiB7XG4gICAgc2NvcGU6IHRydWUsXG4gICAgcmVzdHJpY3Q6ICdBJyxcbiAgICB0ZW1wbGF0ZVVybDogYmxvY2tVSUNvbmZpZy50ZW1wbGF0ZVVybCxcbiAgICBjb21waWxlOiBmdW5jdGlvbigkZWxlbWVudCkge1xuICAgICAgcmV0dXJuIGJsb2NrVWlDb250YWluZXJMaW5rRm47XG4gICAgfVxuICB9O1xufV0pLmZhY3RvcnkoJ2Jsb2NrVWlDb250YWluZXJMaW5rRm4nLCBbXCJibG9ja1VJXCIsIFwiYmxvY2tVSVV0aWxzXCIsIGZ1bmN0aW9uIChibG9ja1VJLCBibG9ja1VJVXRpbHMpIHtcblxuICByZXR1cm4gZnVuY3Rpb24gKCRzY29wZSwgJGVsZW1lbnQsICRhdHRycykge1xuXG4gICAgdmFyIHNydkluc3RhbmNlID0gJGVsZW1lbnQuaW5oZXJpdGVkRGF0YSgnYmxvY2stdWknKTtcblxuICAgIGlmICghc3J2SW5zdGFuY2UpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignTm8gcGFyZW50IGJsb2NrLXVpIHNlcnZpY2UgaW5zdGFuY2UgbG9jYXRlZC4nKTtcbiAgICB9XG5cbiAgICAvLyBFeHBvc2UgdGhlIHN0YXRlIG9uIHRoZSBzY29wZVxuXG4gICAgJHNjb3BlLnN0YXRlID0gc3J2SW5zdGFuY2Uuc3RhdGUoKTtcblxuLy8gICAgJHNjb3BlLiR3YXRjaCgnc3RhdGUuYmxvY2tpbmcnLCBmdW5jdGlvbih2YWx1ZSkge1xuLy8gICAgICAkZWxlbWVudC50b2dnbGVDbGFzcygnYmxvY2stdWktdmlzaWJsZScsICEhdmFsdWUpO1xuLy8gICAgfSk7XG4vL1xuLy8gICAgJHNjb3BlLiR3YXRjaCgnc3RhdGUuYmxvY2tDb3VudCA+IDAnLCBmdW5jdGlvbih2YWx1ZSkge1xuLy8gICAgICAkZWxlbWVudC50b2dnbGVDbGFzcygnYmxvY2stdWktYWN0aXZlJywgISF2YWx1ZSk7XG4vLyAgICB9KTtcbiAgfTtcbn1dKTtcbmJsa1VJLmRpcmVjdGl2ZSgnYmxvY2tVaScsIFtcImJsb2NrVWlDb21waWxlRm5cIiwgZnVuY3Rpb24gKGJsb2NrVWlDb21waWxlRm4pIHtcblxuICByZXR1cm4ge1xuICAgIHNjb3BlOiB0cnVlLFxuICAgIHJlc3RyaWN0OiAnQScsXG4gICAgY29tcGlsZTogYmxvY2tVaUNvbXBpbGVGblxuICB9O1xuXG59XSkuZmFjdG9yeSgnYmxvY2tVaUNvbXBpbGVGbicsIFtcImJsb2NrVWlQcmVMaW5rRm5cIiwgZnVuY3Rpb24gKGJsb2NrVWlQcmVMaW5rRm4pIHtcblxuICByZXR1cm4gZnVuY3Rpb24gKCRlbGVtZW50LCAkYXR0cnMpIHtcblxuICAgIC8vIENsYXNzIHNob3VsZCBiZSBhZGRlZCBoZXJlIHRvIHByZXZlbnQgYW4gYW5pbWF0aW9uIGRlbGF5IGVycm9yLlxuXG4gICAgJGVsZW1lbnQuYXBwZW5kKCc8ZGl2IGJsb2NrLXVpLWNvbnRhaW5lciBjbGFzcz1cImJsb2NrLXVpLWNvbnRhaW5lclwiPjwvZGl2PicpO1xuXG4gICAgcmV0dXJuIHtcbiAgICAgIHByZTogYmxvY2tVaVByZUxpbmtGblxuICAgIH07XG5cbiAgfTtcblxufV0pLmZhY3RvcnkoJ2Jsb2NrVWlQcmVMaW5rRm4nLCBbXCJibG9ja1VJXCIsIFwiYmxvY2tVSVV0aWxzXCIsIFwiYmxvY2tVSUNvbmZpZ1wiLCBmdW5jdGlvbiAoYmxvY2tVSSwgYmxvY2tVSVV0aWxzLCBibG9ja1VJQ29uZmlnKSB7XG5cbiAgcmV0dXJuIGZ1bmN0aW9uICgkc2NvcGUsICRlbGVtZW50LCAkYXR0cnMpIHtcblxuICAgIC8vIElmIHRoZSBlbGVtZW50IGRvZXMgbm90IGhhdmUgdGhlIGNsYXNzIFwiYmxvY2stdWlcIiBzZXQsIHdlIHNldCB0aGVcbiAgICAvLyBkZWZhdWx0IGNzcyBjbGFzc2VzIGZyb20gdGhlIGNvbmZpZy5cblxuICAgIGlmICghJGVsZW1lbnQuaGFzQ2xhc3MoJ2Jsb2NrLXVpJykpIHtcbiAgICAgICRlbGVtZW50LmFkZENsYXNzKGJsb2NrVUlDb25maWcuY3NzQ2xhc3MpO1xuICAgIH1cblxuICAgIC8vIEV4cG9zZSB0aGUgYmxvY2tVaU1lc3NhZ2VDbGFzcyBhdHRyaWJ1dGUgdmFsdWUgb24gdGhlIHNjb3BlXG5cbiAgICAkYXR0cnMuJG9ic2VydmUoJ2Jsb2NrVWlNZXNzYWdlQ2xhc3MnLCBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICRzY29wZS4kX2Jsb2NrVWlNZXNzYWdlQ2xhc3MgPSB2YWx1ZTtcbiAgICB9KTtcblxuICAgIC8vIENyZWF0ZSB0aGUgYmxvY2tVSSBpbnN0YW5jZVxuICAgIC8vIFByZWZpeCB1bmRlcnNjb3JlIHRvIHByZXZlbnQgaW50ZWdlcnM6XG4gICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL01jTnVsbC9hbmd1bGFyLWJsb2NrLXVpL3B1bGwvOFxuXG4gICAgdmFyIGluc3RhbmNlSWQgPSAkYXR0cnMuYmxvY2tVaSB8fCAnXycgKyAkc2NvcGUuJGlkO1xuICAgIHZhciBzcnZJbnN0YW5jZSA9IGJsb2NrVUkuaW5zdGFuY2VzLmdldChpbnN0YW5jZUlkKTtcblxuICAgIC8vIElmIHRoaXMgaXMgdGhlIG1haW4gKHRvcG1vc3QpIGJsb2NrIGVsZW1lbnQgd2UnbGwgYWxzbyBuZWVkIHRvIGJsb2NrIGFueVxuICAgIC8vIGxvY2F0aW9uIGNoYW5nZXMgd2hpbGUgdGhlIGJsb2NrIGlzIGFjdGl2ZS5cblxuICAgIGlmIChpbnN0YW5jZUlkID09PSAnbWFpbicpIHtcbiAgICAgIGJsb2NrTmF2aWdhdGlvbigkc2NvcGUsIHNydkluc3RhbmNlLCBibG9ja1VJQ29uZmlnKTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gTG9jYXRlIHRoZSBwYXJlbnQgYmxvY2tVSSBpbnN0YW5jZVxuICAgICAgdmFyIHBhcmVudEluc3RhbmNlID0gJGVsZW1lbnQuaW5oZXJpdGVkRGF0YSgnYmxvY2stdWknKTtcblxuICAgICAgaWYgKHBhcmVudEluc3RhbmNlKSB7XG4gICAgICAgIC8vIFRPRE86IGFzc2VydCBpZiBwYXJlbnQgaXMgYWxyZWFkeSBzZXQgdG8gc29tZXRoaW5nIGVsc2VcbiAgICAgICAgc3J2SW5zdGFuY2UuX3BhcmVudCA9IHBhcmVudEluc3RhbmNlO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIEVuc3VyZSB0aGUgaW5zdGFuY2UgaXMgcmVsZWFzZWQgd2hlbiB0aGUgc2NvcGUgaXMgZGVzdHJveWVkXG5cbiAgICAkc2NvcGUuJG9uKCckZGVzdHJveScsIGZ1bmN0aW9uICgpIHtcbiAgICAgIHNydkluc3RhbmNlLnJlbGVhc2UoKTtcbiAgICB9KTtcblxuICAgIC8vIEluY3JlYXNlIHRoZSByZWZlcmVuY2UgY291bnRcblxuICAgIHNydkluc3RhbmNlLmFkZFJlZigpO1xuXG4gICAgLy8gRXhwb3NlIHRoZSBzdGF0ZSBvbiB0aGUgc2NvcGVcblxuICAgICRzY29wZS4kX2Jsb2NrVWlTdGF0ZSA9IHNydkluc3RhbmNlLnN0YXRlKCk7XG5cbiAgICAkc2NvcGUuJHdhdGNoKCckX2Jsb2NrVWlTdGF0ZS5ibG9ja2luZycsIGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgLy8gU2V0IHRoZSBhcmlhLWJ1c3kgYXR0cmlidXRlIGlmIG5lZWRlZFxuICAgICAgJGVsZW1lbnQuYXR0cignYXJpYS1idXN5JywgISF2YWx1ZSk7XG4gICAgICAkZWxlbWVudC50b2dnbGVDbGFzcygnYmxvY2stdWktdmlzaWJsZScsICEhdmFsdWUpO1xuICAgIH0pO1xuXG4gICAgJHNjb3BlLiR3YXRjaCgnJF9ibG9ja1VpU3RhdGUuYmxvY2tDb3VudCA+IDAnLCBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICRlbGVtZW50LnRvZ2dsZUNsYXNzKCdibG9jay11aS1hY3RpdmUnLCAhIXZhbHVlKTtcbiAgICB9KTtcblxuICAgIC8vIElmIGEgcGF0dGVybiBpcyBwcm92aWRlZCBhc3NpZ24gaXQgdG8gdGhlIHN0YXRlXG5cbiAgICB2YXIgcGF0dGVybiA9ICRhdHRycy5ibG9ja1VpUGF0dGVybjtcblxuICAgIGlmIChwYXR0ZXJuKSB7XG4gICAgICB2YXIgcmVnRXhwID0gYmxvY2tVSVV0aWxzLmJ1aWxkUmVnRXhwKHBhdHRlcm4pO1xuICAgICAgc3J2SW5zdGFuY2UucGF0dGVybihyZWdFeHApO1xuICAgIH1cblxuICAgIC8vIFN0b3JlIGEgcmVmZXJlbmNlIHRvIHRoZSBzZXJ2aWNlIGluc3RhbmNlIG9uIHRoZSBlbGVtZW50XG5cbiAgICAkZWxlbWVudC5kYXRhKCdibG9jay11aScsIHNydkluc3RhbmNlKTtcblxuICB9O1xuXG59XSk7XG4vLy5mYWN0b3J5KCdibG9ja1VpUG9zdExpbmtGbicsIGZ1bmN0aW9uKGJsb2NrVUlVdGlscykge1xuLy9cbi8vICByZXR1cm4gZnVuY3Rpb24oJHNjb3BlLCAkZWxlbWVudCwgJGF0dHJzKSB7XG4vL1xuLy8gICAgdmFyICRtZXNzYWdlO1xuLy9cbi8vICAgICRhdHRycy4kb2JzZXJ2ZSgnYmxvY2tVaU1lc3NhZ2VDbGFzcycsIGZ1bmN0aW9uKHZhbHVlKSB7XG4vL1xuLy8gICAgICAkbWVzc2FnZSA9ICRtZXNzYWdlIHx8IGJsb2NrVUlVdGlscy5maW5kRWxlbWVudCgkZWxlbWVudCwgZnVuY3Rpb24oJGUpIHtcbi8vICAgICAgICByZXR1cm4gJGUuaGFzQ2xhc3MoJ2Jsb2NrLXVpLW1lc3NhZ2UnKTtcbi8vICAgICAgfSk7XG4vL1xuLy8gICAgICAkbWVzc2FnZS5hZGRDbGFzcyh2YWx1ZSk7XG4vL1xuLy8gICAgfSk7XG4vLyAgfTtcbi8vXG4vL30pO1xuYmxrVUkuY29uc3RhbnQoJ2Jsb2NrVUlDb25maWcnLCB7XG4gICAgdGVtcGxhdGVVcmw6ICdhbmd1bGFyLWJsb2NrLXVpL2FuZ3VsYXItYmxvY2stdWkubmcuaHRtbCcsXG4gICAgZGVsYXk6IDI1MCxcbiAgICBtZXNzYWdlOiBcIkxvYWRpbmcgLi4uXCIsXG4gICAgYXV0b0Jsb2NrOiB0cnVlLFxuICAgIHJlc2V0T25FeGNlcHRpb246IHRydWUsXG4gICAgcmVxdWVzdEZpbHRlcjogYW5ndWxhci5ub29wLFxuICAgIGF1dG9JbmplY3RCb2R5QmxvY2s6IHRydWUsXG4gICAgY3NzQ2xhc3M6ICdibG9jay11aSBibG9jay11aS1hbmltLWZhZGUnLFxuICAgIGJsb2NrQnJvd3Nlck5hdmlnYXRpb246IGZhbHNlXG59KTtcblxuXG5ibGtVSS5mYWN0b3J5KCdibG9ja1VJSHR0cEludGVyY2VwdG9yJywgW1wiJHFcIiwgXCIkaW5qZWN0b3JcIiwgXCJibG9ja1VJQ29uZmlnXCIsIFwiJHRlbXBsYXRlQ2FjaGVcIiwgZnVuY3Rpb24oJHEsICRpbmplY3RvciwgYmxvY2tVSUNvbmZpZywgJHRlbXBsYXRlQ2FjaGUpIHtcblxuICB2YXIgYmxvY2tVSTtcblxuICBmdW5jdGlvbiBpbmplY3RCbG9ja1VJKCkge1xuICAgIGJsb2NrVUkgPSBibG9ja1VJIHx8ICRpbmplY3Rvci5nZXQoJ2Jsb2NrVUknKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHN0b3BCbG9ja1VJKGNvbmZpZykge1xuICAgIGlmIChibG9ja1VJQ29uZmlnLmF1dG9CbG9jayAmJiAoY29uZmlnICYmICFjb25maWcuJF9ub0Jsb2NrICYmIGNvbmZpZy4kX2Jsb2NrcykpIHtcbiAgICAgIGluamVjdEJsb2NrVUkoKTtcbiAgICAgIGNvbmZpZy4kX2Jsb2Nrcy5zdG9wKCk7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gZXJyb3IocmVqZWN0aW9uKSB7XG5cbiAgICB0cnkge1xuICAgICAgc3RvcEJsb2NrVUkocmVqZWN0aW9uLmNvbmZpZyk7XG4gICAgfSBjYXRjaChleCkge1xuICAgICAgY29uc29sZS5sb2coJ2h0dHBSZXF1ZXN0RXJyb3InLCBleCk7XG4gICAgfVxuXG4gICAgcmV0dXJuICRxLnJlamVjdChyZWplY3Rpb24pO1xuICB9XG5cbiAgcmV0dXJuIHtcbiAgICByZXF1ZXN0OiBmdW5jdGlvbihjb25maWcpIHtcblxuICAgICAgLy8gT25seSBibG9jayB3aGVuIGF1dG9CbG9jayBpcyBlbmFibGVkIC4uLlxuICAgICAgLy8gLi4uIGFuZCB0aGUgcmVxdWVzdCBkb2Vzbid0IG1hdGNoIGEgY2FjaGVkIHRlbXBsYXRlLlxuXG4gICAgICBpZiAoYmxvY2tVSUNvbmZpZy5hdXRvQmxvY2sgJiZcbiAgICAgICAgIShjb25maWcubWV0aG9kID09ICdHRVQnICYmICR0ZW1wbGF0ZUNhY2hlLmdldChjb25maWcudXJsKSkpIHtcblxuICAgICAgICAvLyBEb24ndCBibG9jayBleGNsdWRlZCByZXF1ZXN0c1xuXG4gICAgICAgIHZhciByZXN1bHQgPSBibG9ja1VJQ29uZmlnLnJlcXVlc3RGaWx0ZXIoY29uZmlnKTtcblxuICAgICAgICBpZiAocmVzdWx0ID09PSBmYWxzZSkge1xuICAgICAgICAgIC8vIFRhZyB0aGUgY29uZmlnIHNvIHdlIGRvbid0IHVuYmxvY2sgdGhpcyByZXF1ZXN0XG4gICAgICAgICAgY29uZmlnLiRfbm9CbG9jayA9IHRydWU7XG4gICAgICAgIH0gZWxzZSB7XG5cbiAgICAgICAgICBpbmplY3RCbG9ja1VJKCk7XG5cbiAgICAgICAgICBjb25maWcuJF9ibG9ja3MgPSBibG9ja1VJLmluc3RhbmNlcy5sb2NhdGUoY29uZmlnKTtcbiAgICAgICAgICBjb25maWcuJF9ibG9ja3Muc3RhcnQocmVzdWx0KTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICByZXR1cm4gY29uZmlnO1xuICAgIH0sXG5cbiAgICByZXF1ZXN0RXJyb3I6IGVycm9yLFxuXG4gICAgcmVzcG9uc2U6IGZ1bmN0aW9uKHJlc3BvbnNlKSB7XG5cbiAgICAgIC8vIElmIHRoZSBjb25uZWN0aW9uIHRvIHRoZSB3ZWJzaXRlIGdvZXMgZG93biB0aGUgcmVzcG9uc2UgaW50ZXJjZXB0b3IgZ2V0cyBhbmQgZXJyb3Igd2l0aCBcImNhbm5vdCByZWFkIHByb3BlcnR5IGNvbmZpZyBvZiBudWxsXCIuXG4gICAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vTWNOdWxsL2FuZ3VsYXItYmxvY2stdWkvaXNzdWVzLzUzXG5cbiAgICAgIGlmKHJlc3BvbnNlKSB7XG4gICAgICAgIHN0b3BCbG9ja1VJKHJlc3BvbnNlLmNvbmZpZyk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiByZXNwb25zZTtcbiAgICB9LFxuXG4gICAgcmVzcG9uc2VFcnJvcjogZXJyb3JcbiAgfTtcblxufV0pO1xuXG5ibGtVSS5mYWN0b3J5KCdibG9ja1VJJywgW1wiYmxvY2tVSUNvbmZpZ1wiLCBcIiR0aW1lb3V0XCIsIFwiYmxvY2tVSVV0aWxzXCIsIFwiJGRvY3VtZW50XCIsIGZ1bmN0aW9uKGJsb2NrVUlDb25maWcsICR0aW1lb3V0LCBibG9ja1VJVXRpbHMsICRkb2N1bWVudCkge1xuXG4gIHZhciAkYm9keSA9ICRkb2N1bWVudC5maW5kKCdib2R5Jyk7XG4gIFxuICAvLyBUaGVzZSBwcm9wZXJ0aWVzIGFyZSBub3QgYWxsb3dlZCB0byBiZSBzcGVjaWZpZWQgaW4gdGhlIHN0YXJ0IG1ldGhvZC5cbiAgdmFyIHJlc2VydmVkU3RhdGVQcm9wZXJ0aWVzID0gWydpZCcsICdibG9ja0NvdW50JywgJ2Jsb2NraW5nJ107XG4gIFxuICBmdW5jdGlvbiBCbG9ja1VJKGlkKSB7XG5cbiAgICB2YXIgc2VsZiA9IHRoaXM7XG5cbiAgICB2YXIgc3RhdGUgPSB7XG4gICAgICBpZDogaWQsXG4gICAgICBibG9ja0NvdW50OiAwLFxuICAgICAgbWVzc2FnZTogYmxvY2tVSUNvbmZpZy5tZXNzYWdlLFxuICAgICAgYmxvY2tpbmc6IGZhbHNlXG4gICAgfSwgc3RhcnRQcm9taXNlLCBkb25lQ2FsbGJhY2tzID0gW107XG5cbiAgICB0aGlzLl9pZCA9IGlkO1xuXG4gICAgdGhpcy5fcmVmcyA9IDA7XG5cbiAgICB0aGlzLnN0YXJ0ID0gZnVuY3Rpb24obWVzc2FnZU9yT3B0aW9ucykge1xuICAgICAgXG4gICAgICBtZXNzYWdlT3JPcHRpb25zID0gbWVzc2FnZU9yT3B0aW9ucyB8fCB7fTtcbiAgICAgIFxuICAgICAgaWYoYW5ndWxhci5pc1N0cmluZyhtZXNzYWdlT3JPcHRpb25zKSkge1xuICAgICAgICBtZXNzYWdlT3JPcHRpb25zID0ge1xuICAgICAgICAgIG1lc3NhZ2U6IG1lc3NhZ2VPck9wdGlvbnNcbiAgICAgICAgfTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGFuZ3VsYXIuZm9yRWFjaChyZXNlcnZlZFN0YXRlUHJvcGVydGllcywgZnVuY3Rpb24oeCkge1xuICAgICAgICAgIGlmKG1lc3NhZ2VPck9wdGlvbnNbeF0pIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignVGhlIHByb3BlcnR5ICcgKyB4ICsgJyBpcyByZXNlcnZlZCBmb3IgdGhlIGJsb2NrIHN0YXRlLicpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9IFxuICAgICAgXG4gICAgICBhbmd1bGFyLmV4dGVuZChzdGF0ZSwgbWVzc2FnZU9yT3B0aW9ucyk7XG4gICAgICBcbiAgICAgIGlmKHN0YXRlLmJsb2NrQ291bnQgPiAwKSB7XG4gICAgICAgIHN0YXRlLm1lc3NhZ2UgPSBtZXNzYWdlT3JPcHRpb25zLm1lc3NhZ2UgfHwgc3RhdGUubWVzc2FnZSB8fCBibG9ja1VJQ29uZmlnLm1lc3NhZ2U7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzdGF0ZS5tZXNzYWdlID0gbWVzc2FnZU9yT3B0aW9ucy5tZXNzYWdlIHx8IGJsb2NrVUlDb25maWcubWVzc2FnZTtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgLy8gaWYoc3RhdGUuYmxvY2tDb3VudCA+IDApIHtcbiAgICAgIC8vICAgbWVzc2FnZU9yT3B0aW9ucyA9IG1lc3NhZ2VPck9wdGlvbnMgfHwgc3RhdGUubWVzc2FnZSB8fCBibG9ja1VJQ29uZmlnLm1lc3NhZ2U7XG4gICAgICAvLyB9IGVsc2Uge1xuICAgICAgLy8gICBtZXNzYWdlT3JPcHRpb25zID0gbWVzc2FnZU9yT3B0aW9ucyB8fCBibG9ja1VJQ29uZmlnLm1lc3NhZ2U7XG4gICAgICAvLyB9XG5cbiAgICAgIC8vIHN0YXRlLm1lc3NhZ2UgPSBtZXNzYWdlT3JPcHRpb25zO1xuXG4gICAgICBzdGF0ZS5ibG9ja0NvdW50Kys7XG5cbiAgICAgIC8vIENoZWNrIGlmIHRoZSBmb2N1c2VkIGVsZW1lbnQgaXMgcGFydCBvZiB0aGUgYmxvY2sgc2NvcGVcblxuICAgICAgdmFyICRhZSA9IGFuZ3VsYXIuZWxlbWVudCgkZG9jdW1lbnRbMF0uYWN0aXZlRWxlbWVudCk7XG5cbiAgICAgIGlmKCRhZS5sZW5ndGggJiYgYmxvY2tVSVV0aWxzLmlzRWxlbWVudEluQmxvY2tTY29wZSgkYWUsIHNlbGYpKSB7XG5cbiAgICAgICAgLy8gTGV0IHRoZSBhY3RpdmUgZWxlbWVudCBsb3NlIGZvY3VzIGFuZCBzdG9yZSBhIHJlZmVyZW5jZSBcbiAgICAgICAgLy8gdG8gcmVzdG9yZSBmb2N1cyB3aGVuIHdlJ3JlIGRvbmUgKHJlc2V0KVxuXG4gICAgICAgIHNlbGYuX3Jlc3RvcmVGb2N1cyA9ICRhZVswXTtcblxuICAgICAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vTWNOdWxsL2FuZ3VsYXItYmxvY2stdWkvaXNzdWVzLzEzXG4gICAgICAgIC8vIGh0dHA6Ly9zdGFja292ZXJmbG93LmNvbS9xdWVzdGlvbnMvMjI2OTgwNTgvYXBwbHktYWxyZWFkeS1pbi1wcm9ncmVzcy1lcnJvci13aGVuLXVzaW5nLXR5cGVhaGVhZC1wbHVnaW4tZm91bmQtdG8tYmUtcmVsYXRlXG4gICAgICAgIC8vIFF1ZXVlIHRoZSBibHVyIGFmdGVyIGFueSBuZy1ibHVyIGV4cHJlc3Npb24uXG5cbiAgICAgICAgJHRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgLy8gRW5zdXJlIHdlIHN0aWxsIG5lZWQgdG8gYmx1clxuICAgICAgICAgIC8vIERvbid0IHJlc3RvcmUgaWYgYWN0aXZlIGVsZW1lbnQgaXMgYm9keSwgc2luY2UgdGhpcyBjYXVzZXMgSUUgdG8gc3dpdGNoIHdpbmRvd3MgKHNlZSBodHRwOi8vdGp2YW50b2xsLmNvbS8yMDEzLzA4LzMwL2J1Z3Mtd2l0aC1kb2N1bWVudC1hY3RpdmVlbGVtZW50LWluLWludGVybmV0LWV4cGxvcmVyLylcbiAgICAgICAgICBpZiAoc2VsZi5fcmVzdG9yZUZvY3VzICYmIHNlbGYuX3Jlc3RvcmVGb2N1cyAhPT0gJGJvZHlbMF0pIHtcbiAgICAgICAgICAgIHNlbGYuX3Jlc3RvcmVGb2N1cy5ibHVyKCk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH1cblxuICAgICAgaWYgKCFzdGFydFByb21pc2UgJiYgYmxvY2tVSUNvbmZpZy5kZWxheSAhPT0gMCkge1xuICAgICAgICBzdGFydFByb21pc2UgPSAkdGltZW91dChibG9jaywgYmxvY2tVSUNvbmZpZy5kZWxheSk7XG4gICAgICB9IGVsc2UgaWYgKGJsb2NrVUlDb25maWcuZGVsYXkgPT09IDApIHtcbiAgICAgICAgYmxvY2soKTtcbiAgICAgIH1cblxuICAgICAgZnVuY3Rpb24gYmxvY2sgKCkge1xuICAgICAgICBzdGFydFByb21pc2UgPSBudWxsO1xuICAgICAgICBzdGF0ZS5ibG9ja2luZyA9IHRydWU7XG4gICAgICB9XG4gICAgfTtcblxuICAgIHRoaXMuX2NhbmNlbFN0YXJ0VGltZW91dCA9IGZ1bmN0aW9uKCkge1xuICAgICAgaWYgKHN0YXJ0UHJvbWlzZSkge1xuICAgICAgICAkdGltZW91dC5jYW5jZWwoc3RhcnRQcm9taXNlKTtcbiAgICAgICAgc3RhcnRQcm9taXNlID0gbnVsbDtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgdGhpcy5zdG9wID0gZnVuY3Rpb24oKSB7XG4gICAgICBzdGF0ZS5ibG9ja0NvdW50ID0gTWF0aC5tYXgoMCwgLS1zdGF0ZS5ibG9ja0NvdW50KTtcblxuICAgICAgaWYgKHN0YXRlLmJsb2NrQ291bnQgPT09IDApIHtcbiAgICAgICAgc2VsZi5yZXNldCh0cnVlKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgdGhpcy5pc0Jsb2NraW5nID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gc3RhdGUuYmxvY2tpbmc7XG4gICAgfTtcblxuICAgIHRoaXMubWVzc2FnZSA9IGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICBzdGF0ZS5tZXNzYWdlID0gdmFsdWU7XG4gICAgfTtcblxuICAgIHRoaXMucGF0dGVybiA9IGZ1bmN0aW9uKHJlZ2V4cCkge1xuICAgICAgaWYgKHJlZ2V4cCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHNlbGYuX3BhdHRlcm4gPSByZWdleHA7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBzZWxmLl9wYXR0ZXJuO1xuICAgIH07XG5cbiAgICB0aGlzLnJlc2V0ID0gZnVuY3Rpb24oZXhlY3V0ZUNhbGxiYWNrcykge1xuICAgICAgXG4gICAgICBzZWxmLl9jYW5jZWxTdGFydFRpbWVvdXQoKTtcbiAgICAgIHN0YXRlLmJsb2NrQ291bnQgPSAwO1xuICAgICAgc3RhdGUuYmxvY2tpbmcgPSBmYWxzZTtcblxuICAgICAgLy8gUmVzdG9yZSB0aGUgZm9jdXMgdG8gdGhlIGVsZW1lbnQgdGhhdCB3YXMgYWN0aXZlXG4gICAgICAvLyBiZWZvcmUgdGhlIGJsb2NrIHN0YXJ0LCBidXQgbm90IGlmIHRoZSB1c2VyIGhhcyBcbiAgICAgIC8vIGZvY3VzZWQgc29tZXRoaW5nIGVsc2Ugd2hpbGUgdGhlIGJsb2NrIHdhcyBhY3RpdmUuXG5cbiAgICAgIGlmKHNlbGYuX3Jlc3RvcmVGb2N1cyAmJiBcbiAgICAgICAgICghJGRvY3VtZW50WzBdLmFjdGl2ZUVsZW1lbnQgfHwgJGRvY3VtZW50WzBdLmFjdGl2ZUVsZW1lbnQgPT09ICRib2R5WzBdKSkge1xuICAgICAgICBcbiAgICAgICAgLy9JRTggd2lsbCB0aHJvdyBpZiBlbGVtZW50IGZvciBzZXR0aW5nIGZvY3VzIGlzIGludmlzaWJsZVxuICAgICAgICB0cnkge1xuICAgICAgICAgIHNlbGYuX3Jlc3RvcmVGb2N1cy5mb2N1cygpO1xuICAgICAgICB9IGNhdGNoKGUxKSB7XG4gICAgICAgICAgKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgdmFyIGVsZW1lbnRUb0ZvY3VzID0gc2VsZi5fcmVzdG9yZUZvY3VzO1xuICAgICAgICAgICAgICAkdGltZW91dChmdW5jdGlvbigpIHsgXG4gICAgICAgICAgICAgICAgaWYoZWxlbWVudFRvRm9jdXMpIHsgXG4gICAgICAgICAgICAgICAgICB0cnkgeyBcbiAgICAgICAgICAgICAgICAgICAgZWxlbWVudFRvRm9jdXMuZm9jdXMoKTsgXG4gICAgICAgICAgICAgICAgICB9IGNhdGNoKGUyKSB7IH1cbiAgICAgICAgICAgICAgfSBcbiAgICAgICAgICAgIH0sMTAwKTtcbiAgICAgICAgICB9KSgpO1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICBzZWxmLl9yZXN0b3JlRm9jdXMgPSBudWxsO1xuICAgICAgfVxuICAgICAgXG4gICAgICB0cnkge1xuICAgICAgICBpZiAoZXhlY3V0ZUNhbGxiYWNrcykge1xuICAgICAgICAgIGFuZ3VsYXIuZm9yRWFjaChkb25lQ2FsbGJhY2tzLCBmdW5jdGlvbihjYikge1xuICAgICAgICAgICAgY2IoKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgZG9uZUNhbGxiYWNrcy5sZW5ndGggPSAwO1xuICAgICAgfVxuICAgIH07XG5cbiAgICB0aGlzLmRvbmUgPSBmdW5jdGlvbihmbikge1xuICAgICAgZG9uZUNhbGxiYWNrcy5wdXNoKGZuKTtcbiAgICB9O1xuXG4gICAgdGhpcy5zdGF0ZSA9IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIHN0YXRlO1xuICAgIH07XG5cbiAgICB0aGlzLmFkZFJlZiA9IGZ1bmN0aW9uKCkge1xuICAgICAgc2VsZi5fcmVmcyArPSAxO1xuICAgIH07XG5cbiAgICB0aGlzLnJlbGVhc2UgPSBmdW5jdGlvbigpIHtcbiAgICAgIGlmKC0tc2VsZi5fcmVmcyA8PSAwKSB7XG4gICAgICAgIG1haW5CbG9jay5pbnN0YW5jZXMuX2Rlc3Ryb3koc2VsZik7XG4gICAgICB9XG4gICAgfTtcbiAgfVxuXG4gIHZhciBpbnN0YW5jZXMgPSBbXTtcblxuICBpbnN0YW5jZXMuZ2V0ID0gZnVuY3Rpb24oaWQpIHtcblxuICAgIGlmKCFpc05hTihpZCkpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignQmxvY2tVSSBpZCBjYW5ub3QgYmUgYSBudW1iZXInKTtcbiAgICB9XG5cbiAgICB2YXIgaW5zdGFuY2UgPSBpbnN0YW5jZXNbaWRdO1xuXG4gICAgaWYoIWluc3RhbmNlKSB7XG4gICAgICAvLyBUT0RPOiBlbnN1cmUgbm8gYXJyYXkgaW5zdGFuY2UgdHJhc2hpbmcgW3h4eF0gLS0gY3VycmVudCB3b3JrYXJvdW5kOiAnXycgKyAkc2NvcGUuJGlkXG4gICAgICBpbnN0YW5jZSA9IGluc3RhbmNlc1tpZF0gPSBuZXcgQmxvY2tVSShpZCk7XG4gICAgICBpbnN0YW5jZXMucHVzaChpbnN0YW5jZSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGluc3RhbmNlO1xuICB9O1xuXG4gIGluc3RhbmNlcy5fZGVzdHJveSA9IGZ1bmN0aW9uKGlkT3JJbnN0YW5jZSkge1xuICAgIGlmIChhbmd1bGFyLmlzU3RyaW5nKGlkT3JJbnN0YW5jZSkpIHtcbiAgICAgIGlkT3JJbnN0YW5jZSA9IGluc3RhbmNlc1tpZE9ySW5zdGFuY2VdO1xuICAgIH1cblxuICAgIGlmIChpZE9ySW5zdGFuY2UpIHtcbiAgICAgIGlkT3JJbnN0YW5jZS5yZXNldCgpO1xuXG4gICAgICB2YXIgaSA9IGJsb2NrVUlVdGlscy5pbmRleE9mKGluc3RhbmNlcywgaWRPckluc3RhbmNlKTtcbiAgICAgIGluc3RhbmNlcy5zcGxpY2UoaSwgMSk7XG5cbiAgICAgIGRlbGV0ZSBpbnN0YW5jZXNbaWRPckluc3RhbmNlLnN0YXRlKCkuaWRdO1xuICAgIH1cbiAgfTtcbiAgXG4gIGluc3RhbmNlcy5sb2NhdGUgPSBmdW5jdGlvbihyZXF1ZXN0KSB7XG5cbiAgICB2YXIgcmVzdWx0ID0gW107XG5cbiAgICAvLyBBZGQgZnVuY3Rpb24gd3JhcHBlcnMgdGhhdCB3aWxsIGJlIGV4ZWN1dGVkIG9uIGV2ZXJ5IGl0ZW1cbiAgICAvLyBpbiB0aGUgYXJyYXkuXG4gICAgXG4gICAgYmxvY2tVSVV0aWxzLmZvckVhY2hGbkhvb2socmVzdWx0LCAnc3RhcnQnKTtcbiAgICBibG9ja1VJVXRpbHMuZm9yRWFjaEZuSG9vayhyZXN1bHQsICdzdG9wJyk7XG5cbiAgICB2YXIgaSA9IGluc3RhbmNlcy5sZW5ndGg7XG5cbiAgICB3aGlsZShpLS0pIHtcbiAgICAgIHZhciBpbnN0YW5jZSA9IGluc3RhbmNlc1tpXTtcbiAgICAgIHZhciBwYXR0ZXJuID0gaW5zdGFuY2UuX3BhdHRlcm47XG5cbiAgICAgIGlmKHBhdHRlcm4gJiYgcGF0dGVybi50ZXN0KHJlcXVlc3QudXJsKSkge1xuICAgICAgICByZXN1bHQucHVzaChpbnN0YW5jZSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYocmVzdWx0Lmxlbmd0aCA9PT0gMCkge1xuICAgICAgcmVzdWx0LnB1c2gobWFpbkJsb2NrKTtcbiAgICB9XG5cbiAgICByZXR1cm4gcmVzdWx0O1xuICB9O1xuXG4gIC8vIFByb3BhZ2F0ZSB0aGUgcmVzZXQgdG8gYWxsIGluc3RhbmNlc1xuXG4gIGJsb2NrVUlVdGlscy5mb3JFYWNoRm5Ib29rKGluc3RhbmNlcywgJ3Jlc2V0Jyk7XG5cbiAgdmFyIG1haW5CbG9jayA9IGluc3RhbmNlcy5nZXQoJ21haW4nKTtcblxuICBtYWluQmxvY2suYWRkUmVmKCk7XG4gIG1haW5CbG9jay5pbnN0YW5jZXMgPSBpbnN0YW5jZXM7XG5cbiAgcmV0dXJuIG1haW5CbG9jaztcbn1dKTtcblxuXG5ibGtVSS5mYWN0b3J5KCdibG9ja1VJVXRpbHMnLCBmdW5jdGlvbigpIHtcblxuICB2YXIgJCA9IGFuZ3VsYXIuZWxlbWVudDtcblxuICB2YXIgdXRpbHMgPSB7XG4gICAgYnVpbGRSZWdFeHA6IGZ1bmN0aW9uKHBhdHRlcm4pIHtcbiAgICAgIHZhciBtYXRjaCA9IHBhdHRlcm4ubWF0Y2goL15cXC8oLiopXFwvKFtnaW1dKikkLyksIHJlZ0V4cDtcblxuICAgICAgaWYobWF0Y2gpIHtcbiAgICAgICAgcmVnRXhwID0gbmV3IFJlZ0V4cChtYXRjaFsxXSwgbWF0Y2hbMl0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhyb3cgRXJyb3IoJ0luY29ycmVjdCByZWd1bGFyIGV4cHJlc3Npb24gZm9ybWF0OiAnICsgcGF0dGVybik7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiByZWdFeHA7XG4gICAgfSxcbiAgICBmb3JFYWNoRm46IGZ1bmN0aW9uKGFyciwgZm5OYW1lLCBhcmdzKSB7XG4gICAgICB2YXIgaSA9IGFyci5sZW5ndGg7XG4gICAgICB3aGlsZShpLS0pIHtcbiAgICAgICAgdmFyIHQgPSBhcnJbaV07XG4gICAgICAgIHRbZm5OYW1lXS5hcHBseSh0LCBhcmdzKTtcbiAgICAgIH1cbiAgICB9LFxuICAgIGZvckVhY2hGbkhvb2s6IGZ1bmN0aW9uKGFyciwgZm5OYW1lKSB7XG4gICAgICBhcnJbZm5OYW1lXSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICB1dGlscy5mb3JFYWNoRm4odGhpcywgZm5OYW1lLCBhcmd1bWVudHMpO1xuICAgICAgfVxuICAgIH0sXG4gICAgaXNFbGVtZW50SW5CbG9ja1Njb3BlOiBmdW5jdGlvbigkZWxlbWVudCwgYmxvY2tTY29wZSkge1xuICAgICAgdmFyIGMgPSAkZWxlbWVudC5pbmhlcml0ZWREYXRhKCdibG9jay11aScpO1xuXG4gICAgICB3aGlsZShjKSB7XG4gICAgICAgIGlmKGMgPT09IGJsb2NrU2NvcGUpIHtcbiAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGMgPSBjLl9wYXJlbnQ7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9LFxuICAgIGZpbmRFbGVtZW50OiBmdW5jdGlvbiAoJGVsZW1lbnQsIHByZWRpY2F0ZUZuLCB0cmF2ZXJzZSkge1xuICAgICAgdmFyIHJldCA9IG51bGw7XG5cbiAgICAgIGlmIChwcmVkaWNhdGVGbigkZWxlbWVudCkpIHtcbiAgICAgICAgcmV0ID0gJGVsZW1lbnQ7XG4gICAgICB9IGVsc2Uge1xuXG4gICAgICAgIHZhciAkZWxlbWVudHM7XG5cbiAgICAgICAgaWYgKHRyYXZlcnNlKSB7XG4gICAgICAgICAgJGVsZW1lbnRzID0gJGVsZW1lbnQucGFyZW50KCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgJGVsZW1lbnRzID0gJGVsZW1lbnQuY2hpbGRyZW4oKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBpID0gJGVsZW1lbnRzLmxlbmd0aDtcbiAgICAgICAgd2hpbGUgKCFyZXQgJiYgaS0tKSB7XG4gICAgICAgICAgcmV0ID0gdXRpbHMuZmluZEVsZW1lbnQoJCgkZWxlbWVudHNbaV0pLCBwcmVkaWNhdGVGbiwgdHJhdmVyc2UpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHJldHVybiByZXQ7XG4gICAgfSxcbiAgICBpbmRleE9mOiBmdW5jdGlvbihhcnIsIG9iaiwgc3RhcnQpIHtcbi8vICAgICAgaWYoQXJyYXkucHJvdG90eXBlLmluZGV4T2YpIHtcbi8vICAgICAgICByZXR1cm4gYXJyLmluZGV4T2Yob2JqLCBzdGFydCk7XG4vLyAgICAgIH1cblxuICAgICAgZm9yICh2YXIgaSA9IChzdGFydCB8fCAwKSwgaiA9IGFyci5sZW5ndGg7IGkgPCBqOyBpKyspIHtcbiAgICAgICAgaWYgKGFycltpXSA9PT0gb2JqKSB7XG4gICAgICAgICAgcmV0dXJuIGk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgcmV0dXJuIC0xO1xuICAgIH1cbiAgfTtcblxuICByZXR1cm4gdXRpbHM7XG5cbn0pO1xuLy8gQXV0b21hdGljYWxseSBnZW5lcmF0ZWQuXG4vLyBUaGlzIGZpbGUgaXMgYWxyZWFkeSBlbWJlZGRlZCBpbiB5b3VyIG1haW4gamF2YXNjcmlwdCBvdXRwdXQsIHRoZXJlJ3Mgbm8gbmVlZCB0byBpbmNsdWRlIHRoaXMgZmlsZVxuLy8gbWFudWFsbHkgaW4gdGhlIGluZGV4Lmh0bWwuIFRoaXMgZmlsZSBpcyBvbmx5IGhlcmUgZm9yIHlvdXIgZGVidWdnaW5nIHBsZWFzdXJlcy5cbmFuZ3VsYXIubW9kdWxlKCdibG9ja1VJJykucnVuKFsnJHRlbXBsYXRlQ2FjaGUnLCBmdW5jdGlvbigkdGVtcGxhdGVDYWNoZSl7XG4gICR0ZW1wbGF0ZUNhY2hlLnB1dCgnYW5ndWxhci1ibG9jay11aS9hbmd1bGFyLWJsb2NrLXVpLm5nLmh0bWwnLCAnPGRpdiBjbGFzcz1cXFwiYmxvY2stdWktb3ZlcmxheVxcXCI+PC9kaXY+PGRpdiBjbGFzcz1cXFwiYmxvY2stdWktbWVzc2FnZS1jb250YWluZXJcXFwiIGFyaWEtbGl2ZT1cXFwiYXNzZXJ0aXZlXFxcIiBhcmlhLWF0b21pYz1cXFwidHJ1ZVxcXCI+PGRpdiBjbGFzcz1cXFwiYmxvY2stdWktbWVzc2FnZVxcXCIgbmctY2xhc3M9XFxcIiRfYmxvY2tVaU1lc3NhZ2VDbGFzc1xcXCI+e3sgc3RhdGUubWVzc2FnZSB9fTwvZGl2PjwvZGl2PicpO1xufV0pO1xufSkoYW5ndWxhcik7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1hbmd1bGFyLWJsb2NrLXVpLmpzLm1hcCIsIihmdW5jdGlvbiAoZ2xvYmFsLCBmYWN0b3J5KSB7J3VzZSBzdHJpY3QnO3ZhciBmbmM7Zm5jID0gKHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0JyAmJiB0eXBlb2YgbW9kdWxlICE9PSAndW5kZWZpbmVkJykgPyBtb2R1bGUuZXhwb3J0cyA9IGZhY3RvcnkocmVxdWlyZSgnYW5ndWxhcicpLCByZXF1aXJlKCdtb21lbnQnKSkgOih0eXBlb2YgZGVmaW5lID09PSAnZnVuY3Rpb24nICYmIGRlZmluZS5hbWQpID8gZGVmaW5lKFsnYW5ndWxhcicsICdtb21lbnQnXSwgZmFjdG9yeSkgOmZhY3RvcnkoZ2xvYmFsLmFuZ3VsYXIsIGdsb2JhbC5tb21lbnQpO30odGhpcywgZnVuY3Rpb24gKGFuZ3VsYXIsIG1vbWVudCkge1xuLy8oZnVuY3Rpb24gKGdsb2JhbCwgZmFjdG9yeSkge1xuLy8gICd1c2Ugc3RyaWN0Jztcbi8vICB2YXIgZm5jO1xuLy8gIGZuYyA9ICh0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcgJiYgdHlwZW9mIG1vZHVsZSAhPT0gJ3VuZGVmaW5lZCcpID8gbW9kdWxlLmV4cG9ydHMgPSBmYWN0b3J5KHJlcXVpcmUoJ2FuZ3VsYXInKSwgcmVxdWlyZSgnbW9tZW50JykpIDpcbi8vICAgICAgICAodHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kKSA/IGRlZmluZShbJ2FuZ3VsYXInLCAnbW9tZW50J10sIGZhY3RvcnkpIDpcbi8vICAgICAgICBmYWN0b3J5KGdsb2JhbC5hbmd1bGFyLCBnbG9iYWwubW9tZW50KTtcbi8vfSh0aGlzLCBmdW5jdGlvbiAoYW5ndWxhciwgbW9tZW50KSB7XG52YXIgTW9kdWxlID0gYW5ndWxhci5tb2R1bGUoJ2RhdGVQaWNrZXInLCBbXSk7XG5cbiAgTW9kdWxlLmNvbnN0YW50KCdkYXRlUGlja2VyQ29uZmlnJywge1xuICAgIHRlbXBsYXRlOiAndGVtcGxhdGVzL2RhdGVwaWNrZXIuaHRtbCcsXG4gICAgdmlldzogJ21vbnRoJyxcbiAgICB2aWV3czogWyd5ZWFyJywgJ21vbnRoJywgJ2RhdGUnLCAnaG91cnMnLCAnbWludXRlcyddLFxuICAgIG1vbWVudE5hbWVzOiB7XG4gICAgICB5ZWFyOiAneWVhcicsXG4gICAgICBtb250aDogJ21vbnRoJyxcbiAgICAgIGRhdGU6ICdkYXknLFxuICAgICAgaG91cnM6ICdob3VycycsXG4gICAgICBtaW51dGVzOiAnbWludXRlcycsXG4gICAgfSxcbiAgICB2aWV3Q29uZmlnOiB7XG4gICAgICB5ZWFyOiBbJ3llYXJzJywgJ2lzU2FtZVllYXInXSxcbiAgICAgIG1vbnRoOiBbJ21vbnRocycsICdpc1NhbWVNb250aCddLFxuICAgICAgaG91cnM6IFsnaG91cnMnLCAnaXNTYW1lSG91ciddLFxuICAgICAgbWludXRlczogWydtaW51dGVzJywgJ2lzU2FtZU1pbnV0ZXMnXSxcbiAgICB9LFxuICAgIHN0ZXA6IDVcbiAgfSk7XG5cbi8vTW9tZW50IGZvcm1hdCBmaWx0ZXIuXG4gIE1vZHVsZS5maWx0ZXIoJ21Gb3JtYXQnLCBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChtLCBmb3JtYXQsIHR6KSB7XG4gICAgICBpZiAoIShtb21lbnQuaXNNb21lbnQobSkpKSB7XG4gICAgICAgIHJldHVybiBtb21lbnQobSkuZm9ybWF0KGZvcm1hdCk7XG4gICAgICB9XG4gICAgICByZXR1cm4gdHogPyBtb21lbnQudHoobSwgdHopLmZvcm1hdChmb3JtYXQpIDogbS5mb3JtYXQoZm9ybWF0KTtcbiAgICB9O1xuICB9KTtcblxuICBNb2R1bGUuZGlyZWN0aXZlKCdkYXRlUGlja2VyJywgWydkYXRlUGlja2VyQ29uZmlnJywgJ2RhdGVQaWNrZXJVdGlscycsIGZ1bmN0aW9uIGRhdGVQaWNrZXJEaXJlY3RpdmUoZGF0ZVBpY2tlckNvbmZpZywgZGF0ZVBpY2tlclV0aWxzKSB7XG5cbiAgICAvL25vaW5zcGVjdGlvbiBKU1VudXNlZExvY2FsU3ltYm9sc1xuICAgIHJldHVybiB7XG4gICAgICAvLyB0aGlzIGlzIGEgYnVnID9cbiAgICAgIHJlcXVpcmU6ICc/bmdNb2RlbCcsXG4gICAgICB0ZW1wbGF0ZTogJzxkaXYgbmctaW5jbHVkZT1cInRlbXBsYXRlXCI+PC9kaXY+JyxcbiAgICAgIHNjb3BlOiB7XG4gICAgICAgIG1vZGVsOiAnPWRhdGVQaWNrZXInLFxuICAgICAgICBhZnRlcjogJz0/JyxcbiAgICAgICAgYmVmb3JlOiAnPT8nXG4gICAgICB9LFxuICAgICAgbGluazogZnVuY3Rpb24gKHNjb3BlLCBlbGVtZW50LCBhdHRycywgbmdNb2RlbCkge1xuICAgICAgICBmdW5jdGlvbiBwcmVwYXJlVmlld3MoKSB7XG4gICAgICAgICAgc2NvcGUudmlld3MgPSBkYXRlUGlja2VyQ29uZmlnLnZpZXdzLmNvbmNhdCgpO1xuICAgICAgICAgIHNjb3BlLnZpZXcgPSBhdHRycy52aWV3IHx8IGRhdGVQaWNrZXJDb25maWcudmlldztcblxuICAgICAgICAgIHNjb3BlLnZpZXdzID0gc2NvcGUudmlld3Muc2xpY2UoXG4gICAgICAgICAgICBzY29wZS52aWV3cy5pbmRleE9mKGF0dHJzLm1heFZpZXcgfHwgJ3llYXInKSxcbiAgICAgICAgICAgIHNjb3BlLnZpZXdzLmluZGV4T2YoYXR0cnMubWluVmlldyB8fCAnbWludXRlcycpICsgMVxuICAgICAgICAgICk7XG5cbiAgICAgICAgICBpZiAoc2NvcGUudmlld3MubGVuZ3RoID09PSAxIHx8IHNjb3BlLnZpZXdzLmluZGV4T2Yoc2NvcGUudmlldykgPT09IC0xKSB7XG4gICAgICAgICAgICBzY29wZS52aWV3ID0gc2NvcGUudmlld3NbMF07XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgZnVuY3Rpb24gZ2V0RGF0ZShuYW1lKSB7XG4gICAgICAgICAgcmV0dXJuIGRhdGVQaWNrZXJVdGlscy5nZXREYXRlKHNjb3BlLCBhdHRycywgbmFtZSk7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgYXJyb3dDbGljayA9IGZhbHNlLFxuICAgICAgICAgIHR6ID0gc2NvcGUudHogPSBhdHRycy50aW1lem9uZSxcbiAgICAgICAgICBjcmVhdGVNb21lbnQgPSBkYXRlUGlja2VyVXRpbHMuY3JlYXRlTW9tZW50LFxuICAgICAgICAgIGV2ZW50SXNGb3JQaWNrZXIgPSBkYXRlUGlja2VyVXRpbHMuZXZlbnRJc0ZvclBpY2tlcixcbiAgICAgICAgICBzdGVwID0gcGFyc2VJbnQoYXR0cnMuc3RlcCB8fCBkYXRlUGlja2VyQ29uZmlnLnN0ZXAsIDEwKSxcbiAgICAgICAgICBwYXJ0aWFsID0gISFhdHRycy5wYXJ0aWFsLFxuICAgICAgICAgIG1pbkRhdGUgPSBnZXREYXRlKCdtaW5EYXRlJyksXG4gICAgICAgICAgbWF4RGF0ZSA9IGdldERhdGUoJ21heERhdGUnKSxcblxuICAgICAgICAgIC8qKlxuICAgICAgICAgICAqIFvmjIfku6TlhoXljIXlkKtkYXRlLXBpY2tlcuaMh+S7pOaXtu+8jOmAmui/h2VsZW1lbnRbMF0uaWTlubbkuI3og73ojrflj5bliLDliqjmgIFpZF1cbiAgICAgICAgICAgKiBAdHlwZSB7W3R5cGVdfVxuICAgICAgICAgICAqL1xuICAgICAgICAgIC8vIHBpY2tlcklEID0gZWxlbWVudFswXS5pZCxcbiAgICAgICAgICBwaWNrZXJJRCA9IHNjb3BlLiRwYXJlbnQuaWQgfHwgZWxlbWVudFswXS5pZCxcblxuICAgICAgICAgIG5vdyA9IHNjb3BlLm5vdyA9IGNyZWF0ZU1vbWVudCgpLFxuICAgICAgICAgIHNlbGVjdGVkID0gc2NvcGUuZGF0ZSA9IGNyZWF0ZU1vbWVudChzY29wZS5tb2RlbCB8fCBub3cpLFxuICAgICAgICAgIGF1dG9jbG9zZSA9IGF0dHJzLmF1dG9DbG9zZSA9PT0gJ3RydWUnLFxuICAgICAgICAvLyBFaXRoZXIgZ2V0cyB0aGUgMXN0IGRheSBmcm9tIHRoZSBhdHRyaWJ1dGVzLCBvciBhc2tzIG1vbWVudC5qcyB0byBnaXZlIGl0IHRvIHVzIGFzIGl0IGlzIGxvY2FsaXplZC5cbiAgICAgICAgICBmaXJzdERheSA9IGF0dHJzLmZpcnN0RGF5ICYmIGF0dHJzLmZpcnN0RGF5ID49IDAgJiYgYXR0cnMuZmlyc3REYXkgPD0gNiA/IHBhcnNlSW50KGF0dHJzLmZpcnN0RGF5LCAxMCkgOiBtb21lbnQoKS53ZWVrZGF5KDApLmRheSgpLFxuICAgICAgICAgIHNldERhdGUsXG4gICAgICAgICAgcHJlcGFyZVZpZXdEYXRhLFxuICAgICAgICAgIGlzU2FtZSxcbiAgICAgICAgICBjbGlwRGF0ZSxcbiAgICAgICAgICBpc05vdyxcbiAgICAgICAgICBpblZhbGlkUmFuZ2U7XG5cbiAgICAgICAgZGF0ZVBpY2tlclV0aWxzLnNldFBhcmFtcyh0eiwgZmlyc3REYXkpO1xuXG4gICAgICAgIGlmICghc2NvcGUubW9kZWwpIHtcbiAgICAgICAgICBzZWxlY3RlZC5taW51dGUoTWF0aC5jZWlsKHNlbGVjdGVkLm1pbnV0ZSgpIC8gc3RlcCkgKiBzdGVwKS5zZWNvbmQoMCk7XG4gICAgICAgIH1cblxuICAgICAgICBzY29wZS50ZW1wbGF0ZSA9IGF0dHJzLnRlbXBsYXRlIHx8IGRhdGVQaWNrZXJDb25maWcudGVtcGxhdGU7XG5cbiAgICAgICAgc2NvcGUud2F0Y2hEaXJlY3RDaGFuZ2VzID0gYXR0cnMud2F0Y2hEaXJlY3RDaGFuZ2VzICE9PSB1bmRlZmluZWQ7XG4gICAgICAgIHNjb3BlLmNhbGxiYWNrT25TZXREYXRlID0gYXR0cnMuZGF0ZUNoYW5nZSA/IGRhdGVQaWNrZXJVdGlscy5maW5kRnVuY3Rpb24oc2NvcGUsIGF0dHJzLmRhdGVDaGFuZ2UpIDogdW5kZWZpbmVkO1xuXG4gICAgICAgIHByZXBhcmVWaWV3cygpO1xuXG4gICAgICAgIHNjb3BlLnNldFZpZXcgPSBmdW5jdGlvbiAobmV4dFZpZXcpIHtcbiAgICAgICAgICBpZiAoc2NvcGUudmlld3MuaW5kZXhPZihuZXh0VmlldykgIT09IC0xKSB7XG4gICAgICAgICAgICBzY29wZS52aWV3ID0gbmV4dFZpZXc7XG4gICAgICAgICAgfVxuICAgICAgICB9O1xuXG4gICAgICAgIHNjb3BlLnNlbGVjdERhdGUgPSBmdW5jdGlvbiAoZGF0ZSkge1xuICAgICAgICAgIGlmIChhdHRycy5kaXNhYmxlZCkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoaXNTYW1lKHNjb3BlLmRhdGUsIGRhdGUpKSB7XG4gICAgICAgICAgICBkYXRlID0gc2NvcGUuZGF0ZTtcbiAgICAgICAgICB9XG4gICAgICAgICAgZGF0ZSA9IGNsaXBEYXRlKGRhdGUpO1xuICAgICAgICAgIGlmICghZGF0ZSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgIH1cbiAgICAgICAgICBzY29wZS5kYXRlID0gZGF0ZTtcblxuICAgICAgICAgIHZhciBuZXh0VmlldyA9IHNjb3BlLnZpZXdzW3Njb3BlLnZpZXdzLmluZGV4T2Yoc2NvcGUudmlldykgKyAxXTtcbiAgICAgICAgICBpZiAoKCFuZXh0VmlldyB8fCBwYXJ0aWFsKSB8fCBzY29wZS5tb2RlbCkge1xuICAgICAgICAgICAgc2V0RGF0ZShkYXRlKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAobmV4dFZpZXcpIHtcbiAgICAgICAgICAgIHNjb3BlLnNldFZpZXcobmV4dFZpZXcpO1xuICAgICAgICAgIH0gZWxzZSBpZiAoYXV0b2Nsb3NlKSB7XG4gICAgICAgICAgICBlbGVtZW50LmFkZENsYXNzKCdoaWRkZW4nKTtcbiAgICAgICAgICAgIHNjb3BlLiRlbWl0KCdoaWRlUGlja2VyJyk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHByZXBhcmVWaWV3RGF0YSgpO1xuICAgICAgICAgIH1cbiAgICAgICAgfTtcblxuICAgICAgICBzZXREYXRlID0gZnVuY3Rpb24gKGRhdGUpIHtcbiAgICAgICAgICBpZiAoZGF0ZSkge1xuICAgICAgICAgICAgc2NvcGUubW9kZWwgPSBkYXRlO1xuICAgICAgICAgICAgaWYgKG5nTW9kZWwpIHtcbiAgICAgICAgICAgICAgbmdNb2RlbC4kc2V0Vmlld1ZhbHVlKGRhdGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICBzY29wZS4kZW1pdCgnc2V0RGF0ZScsIHNjb3BlLm1vZGVsLCBzY29wZS52aWV3KTtcblxuICAgICAgICAgIC8vVGhpcyBpcyBkdXBsaWNhdGVkIGluIHRoZSBuZXcgZnVuY3Rpb25hbGl0eS5cbiAgICAgICAgICBpZiAoc2NvcGUuY2FsbGJhY2tPblNldERhdGUpIHtcbiAgICAgICAgICAgIHNjb3BlLmNhbGxiYWNrT25TZXREYXRlKGF0dHJzLmRhdGVQaWNrZXIsIHNjb3BlLmRhdGUpO1xuICAgICAgICAgIH1cbiAgICAgICAgfTtcblxuICAgICAgICBmdW5jdGlvbiB1cGRhdGUoKSB7XG4gICAgICAgICAgdmFyIHZpZXcgPSBzY29wZS52aWV3O1xuICAgICAgICAgIGRhdGVQaWNrZXJVdGlscy5zZXRQYXJhbXModHosIGZpcnN0RGF5KTtcblxuICAgICAgICAgIGlmIChzY29wZS5tb2RlbCAmJiAhYXJyb3dDbGljaykge1xuICAgICAgICAgICAgc2NvcGUuZGF0ZSA9IGNyZWF0ZU1vbWVudChzY29wZS5tb2RlbCk7XG4gICAgICAgICAgICBhcnJvd0NsaWNrID0gZmFsc2U7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgdmFyIGRhdGUgPSBzY29wZS5kYXRlO1xuXG4gICAgICAgICAgc3dpdGNoICh2aWV3KSB7XG4gICAgICAgICAgICBjYXNlICd5ZWFyJzpcbiAgICAgICAgICAgICAgc2NvcGUueWVhcnMgPSBkYXRlUGlja2VyVXRpbHMuZ2V0VmlzaWJsZVllYXJzKGRhdGUpO1xuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ21vbnRoJzpcbiAgICAgICAgICAgICAgc2NvcGUubW9udGhzID0gZGF0ZVBpY2tlclV0aWxzLmdldFZpc2libGVNb250aHMoZGF0ZSk7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnZGF0ZSc6XG4gICAgICAgICAgICAgIHNjb3BlLndlZWtkYXlzID0gc2NvcGUud2Vla2RheXMgfHwgZGF0ZVBpY2tlclV0aWxzLmdldERheXNPZldlZWsoKTtcbiAgICAgICAgICAgICAgc2NvcGUud2Vla3MgPSBkYXRlUGlja2VyVXRpbHMuZ2V0VmlzaWJsZVdlZWtzKGRhdGUpO1xuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ2hvdXJzJzpcbiAgICAgICAgICAgICAgc2NvcGUuaG91cnMgPSBkYXRlUGlja2VyVXRpbHMuZ2V0VmlzaWJsZUhvdXJzKGRhdGUpO1xuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ21pbnV0ZXMnOlxuICAgICAgICAgICAgICBzY29wZS5taW51dGVzID0gZGF0ZVBpY2tlclV0aWxzLmdldFZpc2libGVNaW51dGVzKGRhdGUsIHN0ZXApO1xuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBwcmVwYXJlVmlld0RhdGEoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZ1bmN0aW9uIHdhdGNoKCkge1xuICAgICAgICAgIGlmIChzY29wZS52aWV3ICE9PSAnZGF0ZScpIHtcbiAgICAgICAgICAgIHJldHVybiBzY29wZS52aWV3O1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gc2NvcGUuZGF0ZSA/IHNjb3BlLmRhdGUubW9udGgoKSA6IG51bGw7XG4gICAgICAgIH1cblxuICAgICAgICBzY29wZS4kd2F0Y2god2F0Y2gsIHVwZGF0ZSk7XG5cbiAgICAgICAgaWYgKHNjb3BlLndhdGNoRGlyZWN0Q2hhbmdlcykge1xuICAgICAgICAgIHNjb3BlLiR3YXRjaCgnbW9kZWwnLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBhcnJvd0NsaWNrID0gZmFsc2U7XG4gICAgICAgICAgICB1cGRhdGUoKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHByZXBhcmVWaWV3RGF0YSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICB2YXIgdmlldyA9IHNjb3BlLnZpZXcsXG4gICAgICAgICAgICBkYXRlID0gc2NvcGUuZGF0ZSxcbiAgICAgICAgICAgIGNsYXNzZXMgPSBbXSwgY2xhc3NMaXN0ID0gJycsXG4gICAgICAgICAgICBpLCBqO1xuXG4gICAgICAgICAgZGF0ZVBpY2tlclV0aWxzLnNldFBhcmFtcyh0eiwgZmlyc3REYXkpO1xuXG4gICAgICAgICAgaWYgKHZpZXcgPT09ICdkYXRlJykge1xuICAgICAgICAgICAgdmFyIHdlZWtzID0gc2NvcGUud2Vla3MsIHdlZWs7XG4gICAgICAgICAgICBmb3IgKGkgPSAwOyBpIDwgd2Vla3MubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgd2VlayA9IHdlZWtzW2ldO1xuICAgICAgICAgICAgICBjbGFzc2VzLnB1c2goW10pO1xuICAgICAgICAgICAgICBmb3IgKGogPSAwOyBqIDwgd2Vlay5sZW5ndGg7IGorKykge1xuICAgICAgICAgICAgICAgIGNsYXNzTGlzdCA9ICcnO1xuICAgICAgICAgICAgICAgIGlmIChkYXRlUGlja2VyVXRpbHMuaXNTYW1lRGF5KGRhdGUsIHdlZWtbal0pKSB7XG4gICAgICAgICAgICAgICAgICBjbGFzc0xpc3QgKz0gJ2FjdGl2ZSc7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChpc05vdyh3ZWVrW2pdLCB2aWV3KSkge1xuICAgICAgICAgICAgICAgICAgY2xhc3NMaXN0ICs9ICcgbm93JztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy9pZiAod2Vla1tqXS5tb250aCgpICE9PSBkYXRlLm1vbnRoKCkpIGNsYXNzTGlzdCArPSAnIGRpc2FibGVkJztcbiAgICAgICAgICAgICAgICBpZiAod2Vla1tqXS5tb250aCgpICE9PSBkYXRlLm1vbnRoKCkgfHwgIWluVmFsaWRSYW5nZSh3ZWVrW2pdKSkge1xuICAgICAgICAgICAgICAgICAgY2xhc3NMaXN0ICs9ICcgZGlzYWJsZWQnO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjbGFzc2VzW2ldLnB1c2goY2xhc3NMaXN0KTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB2YXIgcGFyYW1zID0gZGF0ZVBpY2tlckNvbmZpZy52aWV3Q29uZmlnW3ZpZXddLFxuICAgICAgICAgICAgICBkYXRlcyA9IHNjb3BlW3BhcmFtc1swXV0sXG4gICAgICAgICAgICAgIGNvbXBhcmVGdW5jID0gcGFyYW1zWzFdO1xuXG4gICAgICAgICAgICBmb3IgKGkgPSAwOyBpIDwgZGF0ZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgY2xhc3NMaXN0ID0gJyc7XG4gICAgICAgICAgICAgIGlmIChkYXRlUGlja2VyVXRpbHNbY29tcGFyZUZ1bmNdKGRhdGUsIGRhdGVzW2ldKSkge1xuICAgICAgICAgICAgICAgIGNsYXNzTGlzdCArPSAnYWN0aXZlJztcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBpZiAoaXNOb3coZGF0ZXNbaV0sIHZpZXcpKSB7XG4gICAgICAgICAgICAgICAgY2xhc3NMaXN0ICs9ICcgbm93JztcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBpZiAoIWluVmFsaWRSYW5nZShkYXRlc1tpXSkpIHtcbiAgICAgICAgICAgICAgICBjbGFzc0xpc3QgKz0gJyBkaXNhYmxlZCc7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgY2xhc3Nlcy5wdXNoKGNsYXNzTGlzdCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIHNjb3BlLmNsYXNzZXMgPSBjbGFzc2VzO1xuICAgICAgICB9O1xuXG4gICAgICAgIHNjb3BlLm5leHQgPSBmdW5jdGlvbiAoZGVsdGEpIHtcbiAgICAgICAgICB2YXIgZGF0ZSA9IG1vbWVudChzY29wZS5kYXRlKTtcbiAgICAgICAgICBkZWx0YSA9IGRlbHRhIHx8IDE7XG4gICAgICAgICAgc3dpdGNoIChzY29wZS52aWV3KSB7XG4gICAgICAgICAgICBjYXNlICd5ZWFyJzpcbiAgICAgICAgICAgIC8qZmFsbHMgdGhyb3VnaCovXG4gICAgICAgICAgICBjYXNlICdtb250aCc6XG4gICAgICAgICAgICAgIGRhdGUueWVhcihkYXRlLnllYXIoKSArIGRlbHRhKTtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdkYXRlJzpcbiAgICAgICAgICAgICAgZGF0ZS5tb250aChkYXRlLm1vbnRoKCkgKyBkZWx0YSk7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnaG91cnMnOlxuICAgICAgICAgICAgLypmYWxscyB0aHJvdWdoKi9cbiAgICAgICAgICAgIGNhc2UgJ21pbnV0ZXMnOlxuICAgICAgICAgICAgICBkYXRlLmhvdXJzKGRhdGUuaG91cnMoKSArIGRlbHRhKTtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICAgIGRhdGUgPSBjbGlwRGF0ZShkYXRlKTtcbiAgICAgICAgICBpZiAoZGF0ZSkge1xuICAgICAgICAgICAgc2NvcGUuZGF0ZSA9IGRhdGU7XG4gICAgICAgICAgICBzZXREYXRlKGRhdGUpO1xuICAgICAgICAgICAgYXJyb3dDbGljayA9IHRydWU7XG4gICAgICAgICAgICB1cGRhdGUoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH07XG5cbiAgICAgICAgaW5WYWxpZFJhbmdlID0gZnVuY3Rpb24gKGRhdGUpIHtcbiAgICAgICAgICB2YXIgdmFsaWQgPSB0cnVlO1xuICAgICAgICAgIGlmIChtaW5EYXRlICYmIG1pbkRhdGUuaXNBZnRlcihkYXRlKSkge1xuICAgICAgICAgICAgdmFsaWQgPSBpc1NhbWUobWluRGF0ZSwgZGF0ZSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChtYXhEYXRlICYmIG1heERhdGUuaXNCZWZvcmUoZGF0ZSkpIHtcbiAgICAgICAgICAgIHZhbGlkICY9IGlzU2FtZShtYXhEYXRlLCBkYXRlKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIHZhbGlkO1xuICAgICAgICB9O1xuXG4gICAgICAgIGlzU2FtZSA9IGZ1bmN0aW9uIChkYXRlMSwgZGF0ZTIpIHtcbiAgICAgICAgICByZXR1cm4gZGF0ZTEuaXNTYW1lKGRhdGUyLCBkYXRlUGlja2VyQ29uZmlnLm1vbWVudE5hbWVzW3Njb3BlLnZpZXddKSA/IHRydWUgOiBmYWxzZTtcbiAgICAgICAgfTtcblxuICAgICAgICBjbGlwRGF0ZSA9IGZ1bmN0aW9uIChkYXRlKSB7XG4gICAgICAgICAgaWYgKG1pbkRhdGUgJiYgbWluRGF0ZS5pc0FmdGVyKGRhdGUpKSB7XG4gICAgICAgICAgICByZXR1cm4gbWluRGF0ZTtcbiAgICAgICAgICB9IGVsc2UgaWYgKG1heERhdGUgJiYgbWF4RGF0ZS5pc0JlZm9yZShkYXRlKSkge1xuICAgICAgICAgICAgcmV0dXJuIG1heERhdGU7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBkYXRlO1xuICAgICAgICAgIH1cbiAgICAgICAgfTtcblxuICAgICAgICBpc05vdyA9IGZ1bmN0aW9uIChkYXRlLCB2aWV3KSB7XG4gICAgICAgICAgdmFyIGlzID0gdHJ1ZTtcblxuICAgICAgICAgIHN3aXRjaCAodmlldykge1xuICAgICAgICAgICAgY2FzZSAnbWludXRlcyc6XG4gICAgICAgICAgICAgIGlzICY9IH5+KG5vdy5taW51dGVzKCkgLyBzdGVwKSA9PT0gfn4oZGF0ZS5taW51dGVzKCkgLyBzdGVwKTtcbiAgICAgICAgICAgIC8qIGZhbGxzIHRocm91Z2ggKi9cbiAgICAgICAgICAgIGNhc2UgJ2hvdXJzJzpcbiAgICAgICAgICAgICAgaXMgJj0gbm93LmhvdXJzKCkgPT09IGRhdGUuaG91cnMoKTtcbiAgICAgICAgICAgIC8qIGZhbGxzIHRocm91Z2ggKi9cbiAgICAgICAgICAgIGNhc2UgJ2RhdGUnOlxuICAgICAgICAgICAgICBpcyAmPSBub3cuZGF0ZSgpID09PSBkYXRlLmRhdGUoKTtcbiAgICAgICAgICAgIC8qIGZhbGxzIHRocm91Z2ggKi9cbiAgICAgICAgICAgIGNhc2UgJ21vbnRoJzpcbiAgICAgICAgICAgICAgaXMgJj0gbm93Lm1vbnRoKCkgPT09IGRhdGUubW9udGgoKTtcbiAgICAgICAgICAgIC8qIGZhbGxzIHRocm91Z2ggKi9cbiAgICAgICAgICAgIGNhc2UgJ3llYXInOlxuICAgICAgICAgICAgICBpcyAmPSBub3cueWVhcigpID09PSBkYXRlLnllYXIoKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIGlzO1xuICAgICAgICB9O1xuXG4gICAgICAgIHNjb3BlLnByZXYgPSBmdW5jdGlvbiAoZGVsdGEpIHtcbiAgICAgICAgICByZXR1cm4gc2NvcGUubmV4dCgtZGVsdGEgfHwgLTEpO1xuICAgICAgICB9O1xuXG4gICAgICAgIGlmIChwaWNrZXJJRCkge1xuICAgICAgICAgIHNjb3BlLiRvbigncGlja2VyVXBkYXRlJywgZnVuY3Rpb24gKGV2ZW50LCBwaWNrZXJJRHMsIGRhdGEpIHtcbiAgICAgICAgICAgIGlmIChldmVudElzRm9yUGlja2VyKHBpY2tlcklEcywgcGlja2VySUQpKSB7XG4gICAgICAgICAgICAgIHZhciB1cGRhdGVWaWV3cyA9IGZhbHNlLCB1cGRhdGVWaWV3RGF0YSA9IGZhbHNlO1xuXG4gICAgICAgICAgICAgIGlmIChhbmd1bGFyLmlzRGVmaW5lZChkYXRhLm1pbkRhdGUpKSB7XG4gICAgICAgICAgICAgICAgbWluRGF0ZSA9IGRhdGEubWluRGF0ZSA/IGRhdGEubWluRGF0ZSA6IGZhbHNlO1xuICAgICAgICAgICAgICAgIHVwZGF0ZVZpZXdEYXRhID0gdHJ1ZTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBpZiAoYW5ndWxhci5pc0RlZmluZWQoZGF0YS5tYXhEYXRlKSkge1xuICAgICAgICAgICAgICAgIG1heERhdGUgPSBkYXRhLm1heERhdGUgPyBkYXRhLm1heERhdGUgOiBmYWxzZTtcbiAgICAgICAgICAgICAgICB1cGRhdGVWaWV3RGF0YSA9IHRydWU7XG4gICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICBpZiAoYW5ndWxhci5pc0RlZmluZWQoZGF0YS5taW5WaWV3KSkge1xuICAgICAgICAgICAgICAgIGF0dHJzLm1pblZpZXcgPSBkYXRhLm1pblZpZXc7XG4gICAgICAgICAgICAgICAgdXBkYXRlVmlld3MgPSB0cnVlO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGlmIChhbmd1bGFyLmlzRGVmaW5lZChkYXRhLm1heFZpZXcpKSB7XG4gICAgICAgICAgICAgICAgYXR0cnMubWF4VmlldyA9IGRhdGEubWF4VmlldztcbiAgICAgICAgICAgICAgICB1cGRhdGVWaWV3cyA9IHRydWU7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgYXR0cnMudmlldyA9IGRhdGEudmlldyB8fCBhdHRycy52aWV3O1xuXG4gICAgICAgICAgICAgIGlmICh1cGRhdGVWaWV3cykge1xuICAgICAgICAgICAgICAgIHByZXBhcmVWaWV3cygpO1xuICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgaWYgKHVwZGF0ZVZpZXdEYXRhKSB7XG4gICAgICAgICAgICAgICAgdXBkYXRlKCk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH07XG4gIH1dKTtcbi8vfSkpO1xuXG4vLyhmdW5jdGlvbiAoZ2xvYmFsLCBmYWN0b3J5KSB7XG4vLyAgJ3VzZSBzdHJpY3QnO1xuLy8gIHZhciBmbmM7XG4vLyAgZm5jID0gKHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0JyAmJiB0eXBlb2YgbW9kdWxlICE9PSAndW5kZWZpbmVkJykgPyBtb2R1bGUuZXhwb3J0cyA9IGZhY3RvcnkocmVxdWlyZSgnYW5ndWxhcicpLCByZXF1aXJlKCdtb21lbnQnKSkgOlxuLy8gICAgKHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZCkgPyBkZWZpbmUoWydhbmd1bGFyJywgJ21vbWVudCddLCBmYWN0b3J5KSA6XG4vLyAgICAgIGZhY3RvcnkoZ2xvYmFsLmFuZ3VsYXIsIGdsb2JhbC5tb21lbnQpO1xuLy99KHRoaXMsIGZ1bmN0aW9uIChhbmd1bGFyLCBtb21lbnQpIHtcbmFuZ3VsYXIubW9kdWxlKCdkYXRlUGlja2VyJykuZmFjdG9yeSgnZGF0ZVBpY2tlclV0aWxzJywgZnVuY3Rpb24gKCkge1xuICAgIHZhciB0eiwgZmlyc3REYXk7XG4gICAgdmFyIGNyZWF0ZU5ld0RhdGUgPSBmdW5jdGlvbiAoeWVhciwgbW9udGgsIGRheSwgaG91ciwgbWludXRlKSB7XG4gICAgICB2YXIgdXRjID0gRGF0ZS5VVEMoeWVhciB8IDAsIG1vbnRoIHwgMCwgZGF5IHwgMCwgaG91ciB8IDAsIG1pbnV0ZSB8IDApO1xuICAgICAgcmV0dXJuIHR6ID8gbW9tZW50LnR6KHV0YywgdHopIDogbW9tZW50KHV0Yyk7XG4gICAgfTtcblxuICAgIHJldHVybiB7XG4gICAgICBnZXRWaXNpYmxlTWludXRlczogZnVuY3Rpb24gKG0sIHN0ZXApIHtcbiAgICAgICAgdmFyIHllYXIgPSBtLnllYXIoKSxcbiAgICAgICAgICBtb250aCA9IG0ubW9udGgoKSxcbiAgICAgICAgICBkYXkgPSBtLmRhdGUoKSxcbiAgICAgICAgICBob3VyID0gbS5ob3VycygpLCBwdXNoZWREYXRlLFxuICAgICAgICAgIG9mZnNldCA9IG0udXRjT2Zmc2V0KCkgLyA2MCxcbiAgICAgICAgICBtaW51dGVzID0gW10sIG1pbnV0ZTtcblxuICAgICAgICBmb3IgKG1pbnV0ZSA9IDA7IG1pbnV0ZSA8IDYwOyBtaW51dGUgKz0gc3RlcCkge1xuICAgICAgICAgIHB1c2hlZERhdGUgPSBjcmVhdGVOZXdEYXRlKHllYXIsIG1vbnRoLCBkYXksIGhvdXIgLSBvZmZzZXQsIG1pbnV0ZSk7XG4gICAgICAgICAgbWludXRlcy5wdXNoKHB1c2hlZERhdGUpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBtaW51dGVzO1xuICAgICAgfSxcbiAgICAgIGdldFZpc2libGVXZWVrczogZnVuY3Rpb24gKG0pIHtcbiAgICAgICAgbSA9IG1vbWVudChtKTtcbiAgICAgICAgdmFyIHN0YXJ0WWVhciA9IG0ueWVhcigpLFxuICAgICAgICAgIHN0YXJ0TW9udGggPSBtLm1vbnRoKCk7XG5cbiAgICAgICAgLy9TZXQgZGF0ZSB0byB0aGUgZmlyc3QgZGF5IG9mIHRoZSBtb250aFxuICAgICAgICBtLmRhdGUoMSk7XG5cbiAgICAgICAgLy9HcmFiIGRheSBvZiB0aGUgd2Vla1xuICAgICAgICB2YXIgZGF5ID0gbS5kYXkoKTtcblxuICAgICAgICAvL0dvIGJhY2sgdGhlIHJlcXVpcmVkIG51bWJlciBvZiBkYXlzIHRvIGFycml2ZSBhdCB0aGUgcHJldmlvdXMgd2VlayBzdGFydFxuICAgICAgICBtLmRhdGUoZmlyc3REYXkgLSAoZGF5ICsgKGZpcnN0RGF5ID49IGRheSA/IDYgOiAtMSkpKTtcblxuICAgICAgICB2YXIgd2Vla3MgPSBbXTtcblxuICAgICAgICB3aGlsZSAod2Vla3MubGVuZ3RoIDwgNikge1xuICAgICAgICAgIGlmIChtLnllYXIoKSA9PT0gc3RhcnRZZWFyICYmIG0ubW9udGgoKSA+IHN0YXJ0TW9udGgpIHtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgICB3ZWVrcy5wdXNoKHRoaXMuZ2V0RGF5c09mV2VlayhtKSk7XG4gICAgICAgICAgbS5hZGQoNywgJ2QnKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gd2Vla3M7XG4gICAgICB9LFxuICAgICAgZ2V0VmlzaWJsZVllYXJzOiBmdW5jdGlvbiAoZCkge1xuICAgICAgICB2YXIgbSA9IG1vbWVudChkKSxcbiAgICAgICAgICB5ZWFyID0gbS55ZWFyKCk7XG5cbiAgICAgICAgbS55ZWFyKHllYXIgLSAoeWVhciAlIDEwKSk7XG4gICAgICAgIHllYXIgPSBtLnllYXIoKTtcblxuICAgICAgICB2YXIgb2Zmc2V0ID0gbS51dGNPZmZzZXQoKSAvIDYwLFxuICAgICAgICAgIHllYXJzID0gW10sXG4gICAgICAgICAgcHVzaGVkRGF0ZSxcbiAgICAgICAgICBhY3R1YWxPZmZzZXQ7XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCAxMjsgaSsrKSB7XG4gICAgICAgICAgcHVzaGVkRGF0ZSA9IGNyZWF0ZU5ld0RhdGUoeWVhciwgMCwgMSwgMCAtIG9mZnNldCk7XG4gICAgICAgICAgYWN0dWFsT2Zmc2V0ID0gcHVzaGVkRGF0ZS51dGNPZmZzZXQoKSAvIDYwO1xuICAgICAgICAgIGlmIChhY3R1YWxPZmZzZXQgIT09IG9mZnNldCkge1xuICAgICAgICAgICAgcHVzaGVkRGF0ZSA9IGNyZWF0ZU5ld0RhdGUoeWVhciwgMCwgMSwgMCAtIGFjdHVhbE9mZnNldCk7XG4gICAgICAgICAgICBvZmZzZXQgPSBhY3R1YWxPZmZzZXQ7XG4gICAgICAgICAgfVxuICAgICAgICAgIHllYXJzLnB1c2gocHVzaGVkRGF0ZSk7XG4gICAgICAgICAgeWVhcisrO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB5ZWFycztcbiAgICAgIH0sXG4gICAgICBnZXREYXlzT2ZXZWVrOiBmdW5jdGlvbiAobSkge1xuICAgICAgICBtID0gbSA/IG0gOiAodHogPyBtb21lbnQudHoodHopLmRheShmaXJzdERheSkgOiBtb21lbnQoKS5kYXkoZmlyc3REYXkpKTtcblxuICAgICAgICB2YXIgeWVhciA9IG0ueWVhcigpLFxuICAgICAgICAgIG1vbnRoID0gbS5tb250aCgpLFxuICAgICAgICAgIGRheSA9IG0uZGF0ZSgpLFxuICAgICAgICAgIGRheXMgPSBbXSxcbiAgICAgICAgICBwdXNoZWREYXRlLFxuICAgICAgICAgIG9mZnNldCA9IG0udXRjT2Zmc2V0KCkgLyA2MCxcbiAgICAgICAgICBhY3R1YWxPZmZzZXQ7XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCA3OyBpKyspIHtcbiAgICAgICAgICBwdXNoZWREYXRlID0gY3JlYXRlTmV3RGF0ZSh5ZWFyLCBtb250aCwgZGF5LCAwIC0gb2Zmc2V0LCAwLCBmYWxzZSk7XG4gICAgICAgICAgYWN0dWFsT2Zmc2V0ID0gcHVzaGVkRGF0ZS51dGNPZmZzZXQoKSAvIDYwO1xuICAgICAgICAgIGlmIChhY3R1YWxPZmZzZXQgIT09IG9mZnNldCkge1xuICAgICAgICAgICAgcHVzaGVkRGF0ZSA9IGNyZWF0ZU5ld0RhdGUoeWVhciwgbW9udGgsIGRheSwgMCAtIGFjdHVhbE9mZnNldCwgMCwgZmFsc2UpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBkYXlzLnB1c2gocHVzaGVkRGF0ZSk7XG4gICAgICAgICAgZGF5Kys7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGRheXM7XG4gICAgICB9LFxuICAgICAgZ2V0VmlzaWJsZU1vbnRoczogZnVuY3Rpb24gKG0pIHtcbiAgICAgICAgdmFyIHllYXIgPSBtLnllYXIoKSxcbiAgICAgICAgICBvZmZzZXQgPSBtLnV0Y09mZnNldCgpIC8gNjAsXG4gICAgICAgICAgbW9udGhzID0gW10sXG4gICAgICAgICAgcHVzaGVkRGF0ZSxcbiAgICAgICAgICBhY3R1YWxPZmZzZXQ7XG5cbiAgICAgICAgZm9yICh2YXIgbW9udGggPSAwOyBtb250aCA8IDEyOyBtb250aCsrKSB7XG4gICAgICAgICAgcHVzaGVkRGF0ZSA9IGNyZWF0ZU5ld0RhdGUoeWVhciwgbW9udGgsIDEsIDAgLSBvZmZzZXQsIDAsIGZhbHNlKTtcbiAgICAgICAgICBhY3R1YWxPZmZzZXQgPSBwdXNoZWREYXRlLnV0Y09mZnNldCgpIC8gNjA7XG4gICAgICAgICAgaWYgKGFjdHVhbE9mZnNldCAhPT0gb2Zmc2V0KSB7XG4gICAgICAgICAgICBwdXNoZWREYXRlID0gY3JlYXRlTmV3RGF0ZSh5ZWFyLCBtb250aCwgMSwgMCAtIGFjdHVhbE9mZnNldCwgMCwgZmFsc2UpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBtb250aHMucHVzaChwdXNoZWREYXRlKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbW9udGhzO1xuICAgICAgfSxcbiAgICAgIGdldFZpc2libGVIb3VyczogZnVuY3Rpb24gKG0pIHtcbiAgICAgICAgdmFyIHllYXIgPSBtLnllYXIoKSxcbiAgICAgICAgICBtb250aCA9IG0ubW9udGgoKSxcbiAgICAgICAgICBkYXkgPSBtLmRhdGUoKSxcbiAgICAgICAgICBob3VycyA9IFtdLFxuICAgICAgICAgIGhvdXIsIHB1c2hlZERhdGUsIGFjdHVhbE9mZnNldCxcbiAgICAgICAgICBvZmZzZXQgPSBtLnV0Y09mZnNldCgpIC8gNjA7XG5cbiAgICAgICAgZm9yIChob3VyID0gMDsgaG91ciA8IDI0OyBob3VyKyspIHtcbiAgICAgICAgICBwdXNoZWREYXRlID0gY3JlYXRlTmV3RGF0ZSh5ZWFyLCBtb250aCwgZGF5LCBob3VyIC0gb2Zmc2V0LCAwLCBmYWxzZSk7XG4gICAgICAgICAgYWN0dWFsT2Zmc2V0ID0gcHVzaGVkRGF0ZS51dGNPZmZzZXQoKSAvIDYwO1xuICAgICAgICAgIGlmIChhY3R1YWxPZmZzZXQgIT09IG9mZnNldCkge1xuICAgICAgICAgICAgcHVzaGVkRGF0ZSA9IGNyZWF0ZU5ld0RhdGUoeWVhciwgbW9udGgsIGRheSwgaG91ciAtIGFjdHVhbE9mZnNldCwgMCwgZmFsc2UpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBob3Vycy5wdXNoKHB1c2hlZERhdGUpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGhvdXJzO1xuICAgICAgfSxcbiAgICAgIGlzQWZ0ZXI6IGZ1bmN0aW9uIChtb2RlbCwgZGF0ZSkge1xuICAgICAgICByZXR1cm4gbW9kZWwgJiYgbW9kZWwudW5peCgpID49IGRhdGUudW5peCgpO1xuICAgICAgfSxcbiAgICAgIGlzQmVmb3JlOiBmdW5jdGlvbiAobW9kZWwsIGRhdGUpIHtcbiAgICAgICAgcmV0dXJuIG1vZGVsLnVuaXgoKSA8PSBkYXRlLnVuaXgoKTtcbiAgICAgIH0sXG4gICAgICBpc1NhbWVZZWFyOiBmdW5jdGlvbiAobW9kZWwsIGRhdGUpIHtcbiAgICAgICAgcmV0dXJuIG1vZGVsICYmIG1vZGVsLnllYXIoKSA9PT0gZGF0ZS55ZWFyKCk7XG4gICAgICB9LFxuICAgICAgaXNTYW1lTW9udGg6IGZ1bmN0aW9uIChtb2RlbCwgZGF0ZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5pc1NhbWVZZWFyKG1vZGVsLCBkYXRlKSAmJiBtb2RlbC5tb250aCgpID09PSBkYXRlLm1vbnRoKCk7XG4gICAgICB9LFxuICAgICAgaXNTYW1lRGF5OiBmdW5jdGlvbiAobW9kZWwsIGRhdGUpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuaXNTYW1lTW9udGgobW9kZWwsIGRhdGUpICYmIG1vZGVsLmRhdGUoKSA9PT0gZGF0ZS5kYXRlKCk7XG4gICAgICB9LFxuICAgICAgaXNTYW1lSG91cjogZnVuY3Rpb24gKG1vZGVsLCBkYXRlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmlzU2FtZURheShtb2RlbCwgZGF0ZSkgJiYgbW9kZWwuaG91cnMoKSA9PT0gZGF0ZS5ob3VycygpO1xuICAgICAgfSxcbiAgICAgIGlzU2FtZU1pbnV0ZXM6IGZ1bmN0aW9uIChtb2RlbCwgZGF0ZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5pc1NhbWVIb3VyKG1vZGVsLCBkYXRlKSAmJiBtb2RlbC5taW51dGVzKCkgPT09IGRhdGUubWludXRlcygpO1xuICAgICAgfSxcbiAgICAgIHNldFBhcmFtczogZnVuY3Rpb24gKHpvbmUsIGZkKSB7XG4gICAgICAgIHR6ID0gem9uZTtcbiAgICAgICAgZmlyc3REYXkgPSBmZDtcbiAgICAgIH0sXG4gICAgICBzY29wZVNlYXJjaDogZnVuY3Rpb24gKHNjb3BlLCBuYW1lLCBjb21wYXJpc29uRm4pIHtcbiAgICAgICAgdmFyIHBhcmVudFNjb3BlID0gc2NvcGUsXG4gICAgICAgICAgbmFtZUFycmF5ID0gbmFtZS5zcGxpdCgnLicpLFxuICAgICAgICAgIHRhcmdldCwgaSwgaiA9IG5hbWVBcnJheS5sZW5ndGg7XG5cbiAgICAgICAgZG8ge1xuICAgICAgICAgIHRhcmdldCA9IHBhcmVudFNjb3BlID0gcGFyZW50U2NvcGUuJHBhcmVudDtcblxuICAgICAgICAgIC8vTG9vcCB0aHJvdWdoIHByb3ZpZGVkIG5hbWVzLlxuICAgICAgICAgIGZvciAoaSA9IDA7IGkgPCBqOyBpKyspIHtcbiAgICAgICAgICAgIHRhcmdldCA9IHRhcmdldFtuYW1lQXJyYXlbaV1dO1xuICAgICAgICAgICAgaWYgKCF0YXJnZXQpIHtcbiAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgLy9JZiB3ZSByZWFjaGVkIHRoZSBlbmQgb2YgdGhlIGxpc3QgZm9yIHRoaXMgc2NvcGUsXG4gICAgICAgICAgLy9hbmQgc29tZXRoaW5nIHdhcyBmb3VuZCwgdHJpZ2dlciB0aGUgY29tcGFyaXNvblxuICAgICAgICAgIC8vZnVuY3Rpb24uIElmIHRoZSBjb21wYXJpc29uIGZ1bmN0aW9uIGlzIGhhcHB5LCByZXR1cm5cbiAgICAgICAgICAvL2ZvdW5kIHJlc3VsdC4gT3RoZXJ3aXNlLCBjb250aW51ZSB0byB0aGUgbmV4dCBwYXJlbnQgc2NvcGVcbiAgICAgICAgICBpZiAodGFyZ2V0ICYmIGNvbXBhcmlzb25Gbih0YXJnZXQpKSB7XG4gICAgICAgICAgICByZXR1cm4gdGFyZ2V0O1xuICAgICAgICAgIH1cblxuICAgICAgICB9IHdoaWxlIChwYXJlbnRTY29wZS4kcGFyZW50KTtcblxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9LFxuICAgICAgZmluZEZ1bmN0aW9uOiBmdW5jdGlvbiAoc2NvcGUsIG5hbWUpIHtcbiAgICAgICAgLy9TZWFyY2ggc2NvcGUgYW5jZXN0b3JzIGZvciBhIG1hdGNoaW5nIGZ1bmN0aW9uLlxuICAgICAgICByZXR1cm4gdGhpcy5zY29wZVNlYXJjaChzY29wZSwgbmFtZSwgZnVuY3Rpb24gKHRhcmdldCkge1xuICAgICAgICAgIC8vUHJvcGVydHkgbXVzdCBhbHNvIGJlIGEgZnVuY3Rpb25cbiAgICAgICAgICByZXR1cm4gYW5ndWxhci5pc0Z1bmN0aW9uKHRhcmdldCk7XG4gICAgICAgIH0pO1xuICAgICAgfSxcbiAgICAgIGZpbmRQYXJhbTogZnVuY3Rpb24gKHNjb3BlLCBuYW1lKSB7XG4gICAgICAgIC8vU2VhcmNoIHNjb3BlIGFuY2VzdG9ycyBmb3IgYSBtYXRjaGluZyBwYXJhbWV0ZXIuXG4gICAgICAgIHJldHVybiB0aGlzLnNjb3BlU2VhcmNoKHNjb3BlLCBuYW1lLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgLy9BcyBsb25nIGFzIHRoZSBwcm9wZXJ0eSBleGlzdHMsIHdlJ3JlIGdvb2RcbiAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfSk7XG4gICAgICB9LFxuICAgICAgY3JlYXRlTW9tZW50OiBmdW5jdGlvbiAobSkge1xuICAgICAgICBpZiAodHopIHtcbiAgICAgICAgICByZXR1cm4gbW9tZW50LnR6KG0sIHR6KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAvL0lmIGlucHV0IGlzIGEgbW9tZW50LCBhbmQgd2UgaGF2ZSBubyBUWiBpbmZvLCB3ZSBuZWVkIHRvIHJlbW92ZSBUWlxuICAgICAgICAgIC8vaW5mbyBmcm9tIHRoZSBtb21lbnQsIG90aGVyd2lzZSB0aGUgbmV3bHkgY3JlYXRlZCBtb21lbnQgd2lsbCB0YWtlXG4gICAgICAgICAgLy90aGUgdGltZXpvbmUgb2YgdGhlIGlucHV0IG1vbWVudC4gVGhlIGVhc2llc3Qgd2F5IHRvIGRvIHRoYXQgaXMgdG9cbiAgICAgICAgICAvL3Rha2UgdGhlIHVuaXggdGltZXN0YW1wLCBhbmQgdXNlIHRoYXQgdG8gY3JlYXRlIGEgbmV3IG1vbWVudC5cbiAgICAgICAgICAvL1RoZSBuZXcgbW9tZW50IHdpbGwgdXNlIHRoZSBsb2NhbCB0aW1lem9uZSBvZiB0aGUgdXNlciBtYWNoaW5lLlxuICAgICAgICAgIHJldHVybiBtb21lbnQuaXNNb21lbnQobSkgPyBtb21lbnQudW5peChtLnVuaXgoKSkgOiBtb21lbnQobSk7XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICBnZXREYXRlOiBmdW5jdGlvbiAoc2NvcGUsIGF0dHJzLCBuYW1lKSB7XG4gICAgICAgIHZhciByZXN1bHQgPSBmYWxzZTtcbiAgICAgICAgaWYgKGF0dHJzW25hbWVdKSB7XG4gICAgICAgICAgcmVzdWx0ID0gdGhpcy5jcmVhdGVNb21lbnQoYXR0cnNbbmFtZV0pO1xuICAgICAgICAgIGlmICghcmVzdWx0LmlzVmFsaWQoKSkge1xuICAgICAgICAgICAgcmVzdWx0ID0gdGhpcy5maW5kUGFyYW0oc2NvcGUsIGF0dHJzW25hbWVdKTtcbiAgICAgICAgICAgIGlmIChyZXN1bHQpIHtcbiAgICAgICAgICAgICAgcmVzdWx0ID0gdGhpcy5jcmVhdGVNb21lbnQocmVzdWx0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgfSxcbiAgICAgIGV2ZW50SXNGb3JQaWNrZXI6IGZ1bmN0aW9uICh0YXJnZXRJRHMsIHBpY2tlcklEKSB7XG4gICAgICAgIC8vQ2hlY2tzIGlmIGFuIGV2ZW50IHRhcmdldGVkIGF0IGEgc3BlY2lmaWMgcGlja2VyLCB2aWEgZWl0aGVyIGEgc3RyaW5nIG5hbWUsIG9yIGFuIGFycmF5IG9mIHN0cmluZ3MuXG4gICAgICAgIHJldHVybiAoYW5ndWxhci5pc0FycmF5KHRhcmdldElEcykgJiYgdGFyZ2V0SURzLmluZGV4T2YocGlja2VySUQpID4gLTEgfHwgdGFyZ2V0SURzID09PSBwaWNrZXJJRCk7XG4gICAgICB9XG4gICAgfTtcbiAgfSk7XG4vL30pKTtcblxuLy8oZnVuY3Rpb24gKGdsb2JhbCwgZmFjdG9yeSkge1xuLy8gICd1c2Ugc3RyaWN0Jztcbi8vICB2YXIgZm5jO1xuLy8gIGZuYyA9ICh0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcgJiYgdHlwZW9mIG1vZHVsZSAhPT0gJ3VuZGVmaW5lZCcpID8gbW9kdWxlLmV4cG9ydHMgPSBmYWN0b3J5KHJlcXVpcmUoJ2FuZ3VsYXInKSwgcmVxdWlyZSgnbW9tZW50JykpIDpcbi8vICAgICh0eXBlb2YgZGVmaW5lID09PSAnZnVuY3Rpb24nICYmIGRlZmluZS5hbWQpID8gZGVmaW5lKFsnYW5ndWxhcicsICdtb21lbnQnXSwgZmFjdG9yeSkgOlxuLy8gICAgICBmYWN0b3J5KGdsb2JhbC5hbmd1bGFyLCBnbG9iYWwubW9tZW50KTtcbi8vfSh0aGlzLCBmdW5jdGlvbiAoYW5ndWxhciwgbW9tZW50KSB7XG52YXIgTW9kdWxlID0gYW5ndWxhci5tb2R1bGUoJ2RhdGVQaWNrZXInKTtcblxuICBNb2R1bGUuZGlyZWN0aXZlKCdkYXRlUmFuZ2UnLCBbJyRjb21waWxlJywgJ2RhdGVQaWNrZXJVdGlscycsICdkYXRlVGltZUNvbmZpZycsIGZ1bmN0aW9uICgkY29tcGlsZSwgZGF0ZVBpY2tlclV0aWxzLCBkYXRlVGltZUNvbmZpZykge1xuICAgIGZ1bmN0aW9uIGdldFRlbXBsYXRlKGF0dHJzLCBpZCwgbW9kZWwsIG1pbiwgbWF4KSB7XG4gICAgICByZXR1cm4gZGF0ZVRpbWVDb25maWcudGVtcGxhdGUoYW5ndWxhci5leHRlbmQoYXR0cnMsIHtcbiAgICAgICAgbmdNb2RlbDogbW9kZWwsXG4gICAgICAgIG1pbkRhdGU6IG1pbiAmJiBtb21lbnQuaXNNb21lbnQobWluKSA/IG1pbi5mb3JtYXQoKSA6IGZhbHNlLFxuICAgICAgICBtYXhEYXRlOiBtYXggJiYgbW9tZW50LmlzTW9tZW50KG1heCkgPyBtYXguZm9ybWF0KCkgOiBmYWxzZVxuICAgICAgfSksIGlkKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiByYW5kb21OYW1lKCkge1xuICAgICAgcmV0dXJuICdwaWNrZXInICsgTWF0aC5yYW5kb20oKS50b1N0cmluZygpLnN1YnN0cigyKTtcbiAgICB9XG5cbiAgICByZXR1cm4ge1xuICAgICAgc2NvcGU6IHtcbiAgICAgICAgc3RhcnQ6ICc9JyxcbiAgICAgICAgZW5kOiAnPSdcbiAgICAgIH0sXG4gICAgICBsaW5rOiBmdW5jdGlvbiAoc2NvcGUsIGVsZW1lbnQsIGF0dHJzKSB7XG4gICAgICAgIHZhciBkYXRlQ2hhbmdlID0gbnVsbCxcbiAgICAgICAgICBwaWNrZXJSYW5nZUlEID0gZWxlbWVudFswXS5pZCxcbiAgICAgICAgICBwaWNrZXJJRHMgPSBbcmFuZG9tTmFtZSgpLCByYW5kb21OYW1lKCldLFxuICAgICAgICAgIGNyZWF0ZU1vbWVudCA9IGRhdGVQaWNrZXJVdGlscy5jcmVhdGVNb21lbnQsXG4gICAgICAgICAgZXZlbnRJc0ZvclBpY2tlciA9IGRhdGVQaWNrZXJVdGlscy5ldmVudElzRm9yUGlja2VyO1xuXG4gICAgICAgIHNjb3BlLmRhdGVDaGFuZ2UgPSBmdW5jdGlvbiAobW9kZWxOYW1lLCBuZXdEYXRlKSB7XG4gICAgICAgICAgLy9Ob3RpZnkgdXNlciBpZiBjYWxsYmFjayBleGlzdHMuXG4gICAgICAgICAgaWYgKGRhdGVDaGFuZ2UpIHtcbiAgICAgICAgICAgIGRhdGVDaGFuZ2UobW9kZWxOYW1lLCBuZXdEYXRlKTtcbiAgICAgICAgICB9XG4gICAgICAgIH07XG5cbiAgICAgICAgZnVuY3Rpb24gc2V0TWF4KGRhdGUpIHtcbiAgICAgICAgICBzY29wZS4kYnJvYWRjYXN0KCdwaWNrZXJVcGRhdGUnLCBwaWNrZXJJRHNbMF0sIHtcbiAgICAgICAgICAgIG1heERhdGU6IGRhdGVcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZ1bmN0aW9uIHNldE1pbihkYXRlKSB7XG4gICAgICAgICAgc2NvcGUuJGJyb2FkY2FzdCgncGlja2VyVXBkYXRlJywgcGlja2VySURzWzFdLCB7XG4gICAgICAgICAgICBtaW5EYXRlOiBkYXRlXG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAocGlja2VyUmFuZ2VJRCkge1xuICAgICAgICAgIHNjb3BlLiRvbigncGlja2VyVXBkYXRlJywgZnVuY3Rpb24gKGV2ZW50LCB0YXJnZXRJRHMsIGRhdGEpIHtcbiAgICAgICAgICAgIGlmIChldmVudElzRm9yUGlja2VyKHRhcmdldElEcywgcGlja2VyUmFuZ2VJRCkpIHtcbiAgICAgICAgICAgICAgLy9JZiB3ZSByZWNlaXZlZCBhbiB1cGRhdGUgZXZlbnQsIGRpc3BhdGNoIGl0IHRvIHRoZSBpbm5lciBwaWNrZXJzIHVzaW5nIHRoZWlyIElEcy5cbiAgICAgICAgICAgICAgc2NvcGUuJGJyb2FkY2FzdCgncGlja2VyVXBkYXRlJywgcGlja2VySURzLCBkYXRhKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGRhdGVQaWNrZXJVdGlscy5zZXRQYXJhbXMoYXR0cnMudGltZXpvbmUpO1xuXG4gICAgICAgIHNjb3BlLnN0YXJ0ID0gY3JlYXRlTW9tZW50KHNjb3BlLnN0YXJ0KTtcbiAgICAgICAgc2NvcGUuZW5kID0gY3JlYXRlTW9tZW50KHNjb3BlLmVuZCk7XG5cbiAgICAgICAgc2NvcGUuJHdhdGNoR3JvdXAoWydzdGFydCcsICdlbmQnXSwgZnVuY3Rpb24gKGRhdGVzKSB7XG4gICAgICAgICAgLy9TY29wZSBkYXRhIGNoYW5nZWQsIHVwZGF0ZSBwaWNrZXIgbWluL21heFxuICAgICAgICAgIHNldE1pbihkYXRlc1swXSk7XG4gICAgICAgICAgc2V0TWF4KGRhdGVzWzFdKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgaWYgKGFuZ3VsYXIuaXNEZWZpbmVkKGF0dHJzLmRhdGVDaGFuZ2UpKSB7XG4gICAgICAgICAgZGF0ZUNoYW5nZSA9IGRhdGVQaWNrZXJVdGlscy5maW5kRnVuY3Rpb24oc2NvcGUsIGF0dHJzLmRhdGVDaGFuZ2UpO1xuICAgICAgICB9XG5cbiAgICAgICAgYXR0cnMub25TZXREYXRlID0gJ2RhdGVDaGFuZ2UnO1xuXG4gICAgICAgIHZhciB0ZW1wbGF0ZSA9ICc8ZGl2Pjx0YWJsZSBjbGFzcz1cImRhdGUtcmFuZ2VcIj48dHI+PHRkIHZhbGlnbj1cInRvcFwiPicgK1xuICAgICAgICAgIGdldFRlbXBsYXRlKGF0dHJzLCBwaWNrZXJJRHNbMF0sICdzdGFydCcsIGZhbHNlLCBzY29wZS5lbmQpICtcbiAgICAgICAgICAnPC90ZD48dGQgdmFsaWduPVwidG9wXCI+JyArXG4gICAgICAgICAgZ2V0VGVtcGxhdGUoYXR0cnMsIHBpY2tlcklEc1sxXSwgJ2VuZCcsIHNjb3BlLnN0YXJ0LCBmYWxzZSkgK1xuICAgICAgICAgICc8L3RkPjwvdHI+PC90YWJsZT48L2Rpdj4nO1xuXG4gICAgICAgIHZhciBwaWNrZXIgPSAkY29tcGlsZSh0ZW1wbGF0ZSkoc2NvcGUpO1xuICAgICAgICBlbGVtZW50LmFwcGVuZChwaWNrZXIpO1xuICAgICAgfVxuICAgIH07XG4gIH1dKTtcbi8vfSkpO1xuXG4vLyhmdW5jdGlvbiAoZ2xvYmFsLCBmYWN0b3J5KSB7XG4vLyAgJ3VzZSBzdHJpY3QnO1xuLy8gIHZhciBmbmM7XG4vLyAgZm5jID0gKHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0JyAmJiB0eXBlb2YgbW9kdWxlICE9PSAndW5kZWZpbmVkJykgPyBtb2R1bGUuZXhwb3J0cyA9IGZhY3RvcnkocmVxdWlyZSgnYW5ndWxhcicpLCByZXF1aXJlKCdtb21lbnQnKSkgOlxuLy8gICAgKHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZCkgPyBkZWZpbmUoWydhbmd1bGFyJywgJ21vbWVudCddLCBmYWN0b3J5KSA6XG4vLyAgICAgIGZhY3RvcnkoZ2xvYmFsLmFuZ3VsYXIsIGdsb2JhbC5tb21lbnQpO1xuLy99KHRoaXMsIGZ1bmN0aW9uIChhbmd1bGFyLCBtb21lbnQpIHtcbnZhciBQUklTVElORV9DTEFTUyA9ICduZy1wcmlzdGluZScsXG4gICAgRElSVFlfQ0xBU1MgPSAnbmctZGlydHknO1xuXG4gIHZhciBNb2R1bGUgPSBhbmd1bGFyLm1vZHVsZSgnZGF0ZVBpY2tlcicpO1xuXG4gIE1vZHVsZS5jb25zdGFudCgnZGF0ZVRpbWVDb25maWcnLCB7XG4gICAgdGVtcGxhdGU6IGZ1bmN0aW9uIChhdHRycywgaWQpIHtcbiAgICAgIHJldHVybiAnJyArXG4gICAgICAgICc8ZGl2ICcgK1xuICAgICAgICAoaWQgPyAnaWQ9XCInICsgaWQgKyAnXCIgJyA6ICcnKSArXG4gICAgICAgICdkYXRlLXBpY2tlcj1cIicgKyBhdHRycy5uZ01vZGVsICsgJ1wiICcgK1xuICAgICAgICAoYXR0cnMudmlldyA/ICd2aWV3PVwiJyArIGF0dHJzLnZpZXcgKyAnXCIgJyA6ICcnKSArXG4gICAgICAgIChhdHRycy5tYXhWaWV3ID8gJ21heC12aWV3PVwiJyArIGF0dHJzLm1heFZpZXcgKyAnXCIgJyA6ICcnKSArXG4gICAgICAgIChhdHRycy5tYXhEYXRlID8gJ21heC1kYXRlPVwiJyArIGF0dHJzLm1heERhdGUgKyAnXCIgJyA6ICcnKSArXG4gICAgICAgIChhdHRycy5hdXRvQ2xvc2UgPyAnYXV0by1jbG9zZT1cIicgKyBhdHRycy5hdXRvQ2xvc2UgKyAnXCIgJyA6ICcnKSArXG4gICAgICAgIChhdHRycy50ZW1wbGF0ZSA/ICd0ZW1wbGF0ZT1cIicgKyBhdHRycy50ZW1wbGF0ZSArICdcIiAnIDogJycpICtcbiAgICAgICAgKGF0dHJzLm1pblZpZXcgPyAnbWluLXZpZXc9XCInICsgYXR0cnMubWluVmlldyArICdcIiAnIDogJycpICtcbiAgICAgICAgKGF0dHJzLm1pbkRhdGUgPyAnbWluLWRhdGU9XCInICsgYXR0cnMubWluRGF0ZSArICdcIiAnIDogJycpICtcbiAgICAgICAgKGF0dHJzLnBhcnRpYWwgPyAncGFydGlhbD1cIicgKyBhdHRycy5wYXJ0aWFsICsgJ1wiICcgOiAnJykgK1xuICAgICAgICAoYXR0cnMuc3RlcCA/ICdzdGVwPVwiJyArIGF0dHJzLnN0ZXAgKyAnXCIgJyA6ICcnKSArXG4gICAgICAgIChhdHRycy5vblNldERhdGUgPyAnZGF0ZS1jaGFuZ2U9XCInICsgYXR0cnMub25TZXREYXRlICsgJ1wiICcgOiAnJykgK1xuICAgICAgICAoYXR0cnMubmdNb2RlbCA/ICduZy1tb2RlbD1cIicgKyBhdHRycy5uZ01vZGVsICsgJ1wiICcgOiAnJykgK1xuICAgICAgICAoYXR0cnMuZmlyc3REYXkgPyAnZmlyc3QtZGF5PVwiJyArIGF0dHJzLmZpcnN0RGF5ICsgJ1wiICcgOiAnJykgK1xuICAgICAgICAoYXR0cnMudGltZXpvbmUgPyAndGltZXpvbmU9XCInICsgYXR0cnMudGltZXpvbmUgKyAnXCIgJyA6ICcnKSArXG4gICAgICAgICdjbGFzcz1cImRhdGUtcGlja2VyLWRhdGUtdGltZVwiPjwvZGl2Pic7XG4gICAgfSxcbiAgICBmb3JtYXQ6ICdZWVlZLU1NLUREIEhIOm1tJyxcbiAgICB2aWV3czogWydkYXRlJywgJ3llYXInLCAnbW9udGgnLCAnaG91cnMnLCAnbWludXRlcyddLFxuICAgIGF1dG9DbG9zZTogZmFsc2UsXG4gICAgcG9zaXRpb246ICdyZWxhdGl2ZSdcbiAgfSk7XG5cbiAgTW9kdWxlLmRpcmVjdGl2ZSgnZGF0ZVRpbWVBcHBlbmQnLCBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGxpbms6IGZ1bmN0aW9uIChzY29wZSwgZWxlbWVudCkge1xuICAgICAgICBlbGVtZW50LmJpbmQoJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xuICAgICAgICAgIGVsZW1lbnQuZmluZCgnaW5wdXQnKVswXS5mb2N1cygpO1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9O1xuICB9KTtcblxuICBNb2R1bGUuZGlyZWN0aXZlKCdkYXRlVGltZScsIFsnJGNvbXBpbGUnLCAnJGRvY3VtZW50JywgJyRmaWx0ZXInLCAnZGF0ZVRpbWVDb25maWcnLCAnJHBhcnNlJywgJ2RhdGVQaWNrZXJVdGlscycsIGZ1bmN0aW9uICgkY29tcGlsZSwgJGRvY3VtZW50LCAkZmlsdGVyLCBkYXRlVGltZUNvbmZpZywgJHBhcnNlLCBkYXRlUGlja2VyVXRpbHMpIHtcbiAgICB2YXIgYm9keSA9ICRkb2N1bWVudC5maW5kKCdib2R5Jyk7XG4gICAgdmFyIGRhdGVGaWx0ZXIgPSAkZmlsdGVyKCdtRm9ybWF0Jyk7XG5cbiAgICByZXR1cm4ge1xuICAgICAgcmVxdWlyZTogJ25nTW9kZWwnLFxuICAgICAgc2NvcGU6IHRydWUsXG4gICAgICBsaW5rOiBmdW5jdGlvbiAoc2NvcGUsIGVsZW1lbnQsIGF0dHJzLCBuZ01vZGVsKSB7XG4gICAgICAgIHZhciBmb3JtYXQgPSBhdHRycy5mb3JtYXQgfHwgZGF0ZVRpbWVDb25maWcuZm9ybWF0LFxuICAgICAgICAgIHBhcmVudEZvcm0gPSBlbGVtZW50LmluaGVyaXRlZERhdGEoJyRmb3JtQ29udHJvbGxlcicpLFxuICAgICAgICAgIHZpZXdzID0gJHBhcnNlKGF0dHJzLnZpZXdzKShzY29wZSkgfHwgZGF0ZVRpbWVDb25maWcudmlld3MuY29uY2F0KCksXG4gICAgICAgICAgdmlldyA9IGF0dHJzLnZpZXcgfHwgdmlld3NbMF0sXG4gICAgICAgICAgaW5kZXggPSB2aWV3cy5pbmRleE9mKHZpZXcpLFxuICAgICAgICAgIGRpc21pc3MgPSBhdHRycy5hdXRvQ2xvc2UgPyAkcGFyc2UoYXR0cnMuYXV0b0Nsb3NlKShzY29wZSkgOiBkYXRlVGltZUNvbmZpZy5hdXRvQ2xvc2UsXG4gICAgICAgICAgcGlja2VyID0gbnVsbCxcbiAgICAgICAgICBwaWNrZXJJRCA9IGVsZW1lbnRbMF0uaWQsXG4gICAgICAgICAgcG9zaXRpb24gPSBhdHRycy5wb3NpdGlvbiB8fCBkYXRlVGltZUNvbmZpZy5wb3NpdGlvbixcbiAgICAgICAgICBjb250YWluZXIgPSBudWxsLFxuICAgICAgICAgIG1pbkRhdGUgPSBudWxsLFxuICAgICAgICAgIG1pblZhbGlkID0gbnVsbCxcbiAgICAgICAgICBtYXhEYXRlID0gbnVsbCxcbiAgICAgICAgICBtYXhWYWxpZCA9IG51bGwsXG4gICAgICAgICAgdGltZXpvbmUgPSBhdHRycy50aW1lem9uZSB8fCBmYWxzZSxcbiAgICAgICAgICBldmVudElzRm9yUGlja2VyID0gZGF0ZVBpY2tlclV0aWxzLmV2ZW50SXNGb3JQaWNrZXIsXG4gICAgICAgICAgZGF0ZUNoYW5nZSA9IG51bGwsXG4gICAgICAgICAgc2hvd25PbmNlID0gZmFsc2UsXG4gICAgICAgICAgdGVtcGxhdGU7XG5cbiAgICAgICAgaWYgKGluZGV4ID09PSAtMSkge1xuICAgICAgICAgIHZpZXdzLnNwbGljZShpbmRleCwgMSk7XG4gICAgICAgIH1cblxuICAgICAgICB2aWV3cy51bnNoaWZ0KHZpZXcpO1xuXG4gICAgICAgIGZ1bmN0aW9uIGZvcm1hdHRlcih2YWx1ZSkge1xuICAgICAgICAgIHJldHVybiBkYXRlRmlsdGVyKHZhbHVlLCBmb3JtYXQsIHRpbWV6b25lKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZ1bmN0aW9uIHBhcnNlcih2aWV3VmFsdWUpIHtcbiAgICAgICAgICBpZiAodmlld1ZhbHVlLmxlbmd0aCA9PT0gZm9ybWF0Lmxlbmd0aCkge1xuICAgICAgICAgICAgcmV0dXJuIHZpZXdWYWx1ZTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgfVxuXG4gICAgICAgIGZ1bmN0aW9uIHNldE1pbihkYXRlKSB7XG4gICAgICAgICAgbWluRGF0ZSA9IGRhdGU7XG4gICAgICAgICAgYXR0cnMubWluRGF0ZSA9IGRhdGUgPyBkYXRlLmZvcm1hdCgpIDogZGF0ZTtcbiAgICAgICAgICBtaW5WYWxpZCA9IG1vbWVudC5pc01vbWVudChkYXRlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZ1bmN0aW9uIHNldE1heChkYXRlKSB7XG4gICAgICAgICAgbWF4RGF0ZSA9IGRhdGU7XG4gICAgICAgICAgYXR0cnMubWF4RGF0ZSA9IGRhdGUgPyBkYXRlLmZvcm1hdCgpIDogZGF0ZTtcbiAgICAgICAgICBtYXhWYWxpZCA9IG1vbWVudC5pc01vbWVudChkYXRlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIG5nTW9kZWwuJGZvcm1hdHRlcnMucHVzaChmb3JtYXR0ZXIpO1xuICAgICAgICBuZ01vZGVsLiRwYXJzZXJzLnVuc2hpZnQocGFyc2VyKTtcblxuICAgICAgICBpZiAoYW5ndWxhci5pc0RlZmluZWQoYXR0cnMubWluRGF0ZSkpIHtcbiAgICAgICAgICBzZXRNaW4oZGF0ZVBpY2tlclV0aWxzLmZpbmRQYXJhbShzY29wZSwgYXR0cnMubWluRGF0ZSkpO1xuXG4gICAgICAgICAgbmdNb2RlbC4kdmFsaWRhdG9ycy5taW4gPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIC8vSWYgd2UgZG9uJ3QgaGF2ZSBhIG1pbiAvIG1heCB2YWx1ZSwgdGhlbiBhbnkgdmFsdWUgaXMgdmFsaWQuXG4gICAgICAgICAgICByZXR1cm4gbWluVmFsaWQgPyBtb21lbnQuaXNNb21lbnQodmFsdWUpICYmIChtaW5EYXRlLmlzU2FtZSh2YWx1ZSkgfHwgbWluRGF0ZS5pc0JlZm9yZSh2YWx1ZSkpIDogdHJ1ZTtcbiAgICAgICAgICB9O1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGFuZ3VsYXIuaXNEZWZpbmVkKGF0dHJzLm1heERhdGUpKSB7XG4gICAgICAgICAgc2V0TWF4KGRhdGVQaWNrZXJVdGlscy5maW5kUGFyYW0oc2NvcGUsIGF0dHJzLm1heERhdGUpKTtcblxuICAgICAgICAgIG5nTW9kZWwuJHZhbGlkYXRvcnMubWF4ID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICByZXR1cm4gbWF4VmFsaWQgPyBtb21lbnQuaXNNb21lbnQodmFsdWUpICYmIChtYXhEYXRlLmlzU2FtZSh2YWx1ZSkgfHwgbWF4RGF0ZS5pc0FmdGVyKHZhbHVlKSkgOiB0cnVlO1xuICAgICAgICAgIH07XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoYW5ndWxhci5pc0RlZmluZWQoYXR0cnMuZGF0ZUNoYW5nZSkpIHtcbiAgICAgICAgICBkYXRlQ2hhbmdlID0gZGF0ZVBpY2tlclV0aWxzLmZpbmRGdW5jdGlvbihzY29wZSwgYXR0cnMuZGF0ZUNoYW5nZSk7XG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiBnZXRUZW1wbGF0ZSgpIHtcbiAgICAgICAgICB0ZW1wbGF0ZSA9IGRhdGVUaW1lQ29uZmlnLnRlbXBsYXRlKGF0dHJzKTtcbiAgICAgICAgfVxuXG5cbiAgICAgICAgZnVuY3Rpb24gdXBkYXRlSW5wdXQoZXZlbnQpIHtcbiAgICAgICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgICBpZiAobmdNb2RlbC4kcHJpc3RpbmUpIHtcbiAgICAgICAgICAgIG5nTW9kZWwuJGRpcnR5ID0gdHJ1ZTtcbiAgICAgICAgICAgIG5nTW9kZWwuJHByaXN0aW5lID0gZmFsc2U7XG4gICAgICAgICAgICBlbGVtZW50LnJlbW92ZUNsYXNzKFBSSVNUSU5FX0NMQVNTKS5hZGRDbGFzcyhESVJUWV9DTEFTUyk7XG4gICAgICAgICAgICBpZiAocGFyZW50Rm9ybSkge1xuICAgICAgICAgICAgICBwYXJlbnRGb3JtLiRzZXREaXJ0eSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbmdNb2RlbC4kcmVuZGVyKCk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgZnVuY3Rpb24gY2xlYXIoKSB7XG4gICAgICAgICAgaWYgKHBpY2tlcikge1xuICAgICAgICAgICAgcGlja2VyLnJlbW92ZSgpO1xuICAgICAgICAgICAgcGlja2VyID0gbnVsbDtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKGNvbnRhaW5lcikge1xuICAgICAgICAgICAgY29udGFpbmVyLnJlbW92ZSgpO1xuICAgICAgICAgICAgY29udGFpbmVyID0gbnVsbDtcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAocGlja2VySUQpIHtcbiAgICAgICAgICBzY29wZS4kb24oJ3BpY2tlclVwZGF0ZScsIGZ1bmN0aW9uIChldmVudCwgcGlja2VySURzLCBkYXRhKSB7XG4gICAgICAgICAgICBpZiAoZXZlbnRJc0ZvclBpY2tlcihwaWNrZXJJRHMsIHBpY2tlcklEKSkge1xuICAgICAgICAgICAgICBpZiAocGlja2VyKSB7XG4gICAgICAgICAgICAgICAgLy9OZWVkIHRvIGhhbmRsZSBzaXR1YXRpb24gd2hlcmUgdGhlIGRhdGEgY2hhbmdlZCBidXQgdGhlIHBpY2tlciBpcyBjdXJyZW50bHkgb3Blbi5cbiAgICAgICAgICAgICAgICAvL1RvIGhhbmRsZSB0aGlzLCB3ZSBjYW4gY3JlYXRlIHRoZSBpbm5lciBwaWNrZXIgd2l0aCBhIHJhbmRvbSBJRCwgdGhlbiBmb3J3YXJkXG4gICAgICAgICAgICAgICAgLy9hbnkgZXZlbnRzIHJlY2VpdmVkIHRvIGl0LlxuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHZhciB2YWxpZGF0ZVJlcXVpcmVkID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgaWYgKGFuZ3VsYXIuaXNEZWZpbmVkKGRhdGEubWluRGF0ZSkpIHtcbiAgICAgICAgICAgICAgICAgIHNldE1pbihkYXRhLm1pbkRhdGUpO1xuICAgICAgICAgICAgICAgICAgdmFsaWRhdGVSZXF1aXJlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChhbmd1bGFyLmlzRGVmaW5lZChkYXRhLm1heERhdGUpKSB7XG4gICAgICAgICAgICAgICAgICBzZXRNYXgoZGF0YS5tYXhEYXRlKTtcbiAgICAgICAgICAgICAgICAgIHZhbGlkYXRlUmVxdWlyZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGlmIChhbmd1bGFyLmlzRGVmaW5lZChkYXRhLm1pblZpZXcpKSB7XG4gICAgICAgICAgICAgICAgICBhdHRycy5taW5WaWV3ID0gZGF0YS5taW5WaWV3O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoYW5ndWxhci5pc0RlZmluZWQoZGF0YS5tYXhWaWV3KSkge1xuICAgICAgICAgICAgICAgICAgYXR0cnMubWF4VmlldyA9IGRhdGEubWF4VmlldztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYXR0cnMudmlldyA9IGRhdGEudmlldyB8fCBhdHRycy52aWV3O1xuXG4gICAgICAgICAgICAgICAgaWYgKHZhbGlkYXRlUmVxdWlyZWQpIHtcbiAgICAgICAgICAgICAgICAgIG5nTW9kZWwuJHZhbGlkYXRlKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChhbmd1bGFyLmlzRGVmaW5lZChkYXRhLmZvcm1hdCkpIHtcbiAgICAgICAgICAgICAgICAgIGZvcm1hdCA9IGF0dHJzLmZvcm1hdCA9IGRhdGEuZm9ybWF0IHx8IGRhdGVUaW1lQ29uZmlnLmZvcm1hdDtcbiAgICAgICAgICAgICAgICAgIG5nTW9kZWwuJG1vZGVsVmFsdWUgPSAtMTsgLy9UcmlnZ2VycyBmb3JtYXR0ZXJzLiBUaGlzIHZhbHVlIHdpbGwgYmUgZGlzY2FyZGVkLlxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBnZXRUZW1wbGF0ZSgpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiBzaG93UGlja2VyKCkge1xuICAgICAgICAgIGlmIChwaWNrZXIpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9XG4gICAgICAgICAgLy8gY3JlYXRlIHBpY2tlciBlbGVtZW50XG4gICAgICAgICAgcGlja2VyID0gJGNvbXBpbGUodGVtcGxhdGUpKHNjb3BlKTtcbiAgICAgICAgICBzY29wZS4kZGlnZXN0KCk7XG5cbiAgICAgICAgICAvL0lmIHRoZSBwaWNrZXIgaGFzIGFscmVhZHkgYmVlbiBzaG93biBiZWZvcmUgdGhlbiB3ZSBzaG91bGRuJ3QgYmUgYmluZGluZyB0byBldmVudHMsIGFzIHRoZXNlIGV2ZW50cyBhcmUgYWxyZWFkeSBib3VuZCB0byBpbiB0aGlzIHNjb3BlLlxuICAgICAgICAgIGlmICghc2hvd25PbmNlKSB7XG4gICAgICAgICAgICBzY29wZS4kb24oJ3NldERhdGUnLCBmdW5jdGlvbiAoZXZlbnQsIGRhdGUsIHZpZXcpIHtcbiAgICAgICAgICAgICAgdXBkYXRlSW5wdXQoZXZlbnQpO1xuICAgICAgICAgICAgICBpZiAoZGF0ZUNoYW5nZSkge1xuICAgICAgICAgICAgICAgIGRhdGVDaGFuZ2UoYXR0cnMubmdNb2RlbCwgZGF0ZSk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgaWYgKGRpc21pc3MgJiYgdmlld3Nbdmlld3MubGVuZ3RoIC0gMV0gPT09IHZpZXcpIHtcbiAgICAgICAgICAgICAgICBjbGVhcigpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgc2NvcGUuJG9uKCdoaWRlUGlja2VyJywgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICBlbGVtZW50LnRyaWdnZXJIYW5kbGVyKCdibHVyJyk7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgc2NvcGUuJG9uKCckZGVzdHJveScsIGNsZWFyKTtcblxuICAgICAgICAgICAgc2hvd25PbmNlID0gdHJ1ZTtcbiAgICAgICAgICB9XG5cblxuICAgICAgICAgIC8vIG1vdmUgcGlja2VyIGJlbG93IGlucHV0IGVsZW1lbnRcblxuICAgICAgICAgIGlmIChwb3NpdGlvbiA9PT0gJ2Fic29sdXRlJykge1xuICAgICAgICAgICAgdmFyIHBvcyA9IGVsZW1lbnRbMF0uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgICAgICAgICAvLyBTdXBwb3J0IElFOFxuICAgICAgICAgICAgdmFyIGhlaWdodCA9IHBvcy5oZWlnaHQgfHwgZWxlbWVudFswXS5vZmZzZXRIZWlnaHQ7XG4gICAgICAgICAgICBwaWNrZXIuY3NzKHt0b3A6IChwb3MudG9wICsgaGVpZ2h0KSArICdweCcsIGxlZnQ6IHBvcy5sZWZ0ICsgJ3B4JywgZGlzcGxheTogJ2Jsb2NrJywgcG9zaXRpb246IHBvc2l0aW9ufSk7XG4gICAgICAgICAgICBib2R5LmFwcGVuZChwaWNrZXIpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvLyByZWxhdGl2ZVxuICAgICAgICAgICAgY29udGFpbmVyID0gYW5ndWxhci5lbGVtZW50KCc8ZGl2IGRhdGUtcGlja2VyLXdyYXBwZXI+PC9kaXY+Jyk7XG4gICAgICAgICAgICBlbGVtZW50WzBdLnBhcmVudEVsZW1lbnQuaW5zZXJ0QmVmb3JlKGNvbnRhaW5lclswXSwgZWxlbWVudFswXSk7XG4gICAgICAgICAgICBjb250YWluZXIuYXBwZW5kKHBpY2tlcik7XG4gICAgICAgICAgICAvLyAgICAgICAgICB0aGlzIGFwcHJvYWNoIGRvZXNuJ3Qgd29ya1xuICAgICAgICAgICAgLy8gICAgICAgICAgZWxlbWVudC5iZWZvcmUocGlja2VyKTtcbiAgICAgICAgICAgIHBpY2tlci5jc3Moe3RvcDogZWxlbWVudFswXS5vZmZzZXRIZWlnaHQgKyAncHgnLCBkaXNwbGF5OiAnYmxvY2snfSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHBpY2tlci5iaW5kKCdtb3VzZWRvd24nLCBmdW5jdGlvbiAoZXZ0KSB7XG4gICAgICAgICAgICBldnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGVsZW1lbnQuYmluZCgnZm9jdXMnLCBzaG93UGlja2VyKTtcbiAgICAgICAgZWxlbWVudC5iaW5kKCdibHVyJywgY2xlYXIpO1xuICAgICAgICBnZXRUZW1wbGF0ZSgpO1xuICAgICAgfVxuICAgIH07XG4gIH1dKTtcbi8vfSkpO1xuXG5hbmd1bGFyLm1vZHVsZSgnZGF0ZVBpY2tlcicpLnJ1bihbJyR0ZW1wbGF0ZUNhY2hlJywgZnVuY3Rpb24oJHRlbXBsYXRlQ2FjaGUpIHtcbiR0ZW1wbGF0ZUNhY2hlLnB1dCgndGVtcGxhdGVzL2RhdGVwaWNrZXIuaHRtbCcsXG4gICAgXCI8ZGl2IG5nLXN3aXRjaD1cXFwidmlld1xcXCI+XFxyXCIgK1xuICAgIFwiXFxuXCIgK1xuICAgIFwiICA8ZGl2IG5nLXN3aXRjaC13aGVuPVxcXCJkYXRlXFxcIj5cXHJcIiArXG4gICAgXCJcXG5cIiArXG4gICAgXCIgICAgPHRhYmxlPlxcclwiICtcbiAgICBcIlxcblwiICtcbiAgICBcIiAgICAgIDx0aGVhZD5cXHJcIiArXG4gICAgXCJcXG5cIiArXG4gICAgXCIgICAgICA8dHI+XFxyXCIgK1xuICAgIFwiXFxuXCIgK1xuICAgIFwiICAgICAgICA8dGggbmctY2xpY2s9XFxcInByZXYoKVxcXCI+JmxzYXF1bzs8L3RoPlxcclwiICtcbiAgICBcIlxcblwiICtcbiAgICBcIiAgICAgICAgPHRoIGNvbHNwYW49XFxcIjVcXFwiIGNsYXNzPVxcXCJzd2l0Y2hcXFwiIG5nLWNsaWNrPVxcXCJzZXRWaWV3KCdtb250aCcpXFxcIiBuZy1iaW5kPVxcXCJkYXRlfG1Gb3JtYXQ6J1lZWVkgTU1NTSc6dHpcXFwiPjwvdGg+XFxyXCIgK1xuICAgIFwiXFxuXCIgK1xuICAgIFwiICAgICAgICA8dGggbmctY2xpY2s9XFxcIm5leHQoKVxcXCI+JnJzYXF1bzs8L2k+PC90aD5cXHJcIiArXG4gICAgXCJcXG5cIiArXG4gICAgXCIgICAgICA8L3RyPlxcclwiICtcbiAgICBcIlxcblwiICtcbiAgICBcIiAgICAgIDx0cj5cXHJcIiArXG4gICAgXCJcXG5cIiArXG4gICAgXCIgICAgICAgIDx0aCBuZy1yZXBlYXQ9XFxcImRheSBpbiB3ZWVrZGF5c1xcXCIgc3R5bGU9XFxcIm92ZXJmbG93OiBoaWRkZW5cXFwiIG5nLWJpbmQ9XFxcImRheXxtRm9ybWF0OidkZGQnOnR6XFxcIj48L3RoPlxcclwiICtcbiAgICBcIlxcblwiICtcbiAgICBcIiAgICAgIDwvdHI+XFxyXCIgK1xuICAgIFwiXFxuXCIgK1xuICAgIFwiICAgICAgPC90aGVhZD5cXHJcIiArXG4gICAgXCJcXG5cIiArXG4gICAgXCIgICAgICA8dGJvZHk+XFxyXCIgK1xuICAgIFwiXFxuXCIgK1xuICAgIFwiICAgICAgPHRyIG5nLXJlcGVhdD1cXFwid2VlayBpbiB3ZWVrc1xcXCIgbmctaW5pdD1cXFwiJGluZGV4MiA9ICRpbmRleFxcXCI+XFxyXCIgK1xuICAgIFwiXFxuXCIgK1xuICAgIFwiICAgICAgICA8dGQgbmctcmVwZWF0PVxcXCJkYXkgaW4gd2Vla1xcXCI+XFxyXCIgK1xuICAgIFwiXFxuXCIgK1xuICAgIFwiICAgICAgICAgIDxzcGFuXFxyXCIgK1xuICAgIFwiXFxuXCIgK1xuICAgIFwiICAgICAgICAgICAgbmctY2xhc3M9XFxcImNsYXNzZXNbJGluZGV4Ml1bJGluZGV4XVxcXCJcXHJcIiArXG4gICAgXCJcXG5cIiArXG4gICAgXCIgICAgICAgICAgICBuZy1jbGljaz1cXFwic2VsZWN0RGF0ZShkYXkpXFxcIiBuZy1iaW5kPVxcXCJkYXl8bUZvcm1hdDonREQnOnR6XFxcIj48L3NwYW4+XFxyXCIgK1xuICAgIFwiXFxuXCIgK1xuICAgIFwiICAgICAgICA8L3RkPlxcclwiICtcbiAgICBcIlxcblwiICtcbiAgICBcIiAgICAgIDwvdHI+XFxyXCIgK1xuICAgIFwiXFxuXCIgK1xuICAgIFwiICAgICAgPC90Ym9keT5cXHJcIiArXG4gICAgXCJcXG5cIiArXG4gICAgXCIgICAgPC90YWJsZT5cXHJcIiArXG4gICAgXCJcXG5cIiArXG4gICAgXCIgIDwvZGl2PlxcclwiICtcbiAgICBcIlxcblwiICtcbiAgICBcIiAgPGRpdiBuZy1zd2l0Y2gtd2hlbj1cXFwieWVhclxcXCI+XFxyXCIgK1xuICAgIFwiXFxuXCIgK1xuICAgIFwiICAgIDx0YWJsZT5cXHJcIiArXG4gICAgXCJcXG5cIiArXG4gICAgXCIgICAgICA8dGhlYWQ+XFxyXCIgK1xuICAgIFwiXFxuXCIgK1xuICAgIFwiICAgICAgPHRyPlxcclwiICtcbiAgICBcIlxcblwiICtcbiAgICBcIiAgICAgICAgPHRoIG5nLWNsaWNrPVxcXCJwcmV2KDEwKVxcXCI+JmxzYXF1bzs8L3RoPlxcclwiICtcbiAgICBcIlxcblwiICtcbiAgICBcIiAgICAgICAgPHRoIGNvbHNwYW49XFxcIjVcXFwiIGNsYXNzPVxcXCJzd2l0Y2hcXFwibmctYmluZD1cXFwieWVhcnNbMF0ueWVhcigpKycgLSAnK3llYXJzW3llYXJzLmxlbmd0aC0xXS55ZWFyKClcXFwiPjwvdGg+XFxyXCIgK1xuICAgIFwiXFxuXCIgK1xuICAgIFwiICAgICAgICA8dGggbmctY2xpY2s9XFxcIm5leHQoMTApXFxcIj4mcnNhcXVvOzwvaT48L3RoPlxcclwiICtcbiAgICBcIlxcblwiICtcbiAgICBcIiAgICAgIDwvdHI+XFxyXCIgK1xuICAgIFwiXFxuXCIgK1xuICAgIFwiICAgICAgPC90aGVhZD5cXHJcIiArXG4gICAgXCJcXG5cIiArXG4gICAgXCIgICAgICA8dGJvZHk+XFxyXCIgK1xuICAgIFwiXFxuXCIgK1xuICAgIFwiICAgICAgPHRyPlxcclwiICtcbiAgICBcIlxcblwiICtcbiAgICBcIiAgICAgICAgPHRkIGNvbHNwYW49XFxcIjdcXFwiPlxcclwiICtcbiAgICBcIlxcblwiICtcbiAgICBcIiAgICAgICAgICA8c3BhbiBuZy1jbGFzcz1cXFwiY2xhc3Nlc1skaW5kZXhdXFxcIlxcclwiICtcbiAgICBcIlxcblwiICtcbiAgICBcIiAgICAgICAgICAgICAgICBuZy1yZXBlYXQ9XFxcInllYXIgaW4geWVhcnNcXFwiXFxyXCIgK1xuICAgIFwiXFxuXCIgK1xuICAgIFwiICAgICAgICAgICAgICAgIG5nLWNsaWNrPVxcXCJzZWxlY3REYXRlKHllYXIpXFxcIiBuZy1iaW5kPVxcXCJ5ZWFyLnllYXIoKVxcXCI+PC9zcGFuPlxcclwiICtcbiAgICBcIlxcblwiICtcbiAgICBcIiAgICAgICAgPC90ZD5cXHJcIiArXG4gICAgXCJcXG5cIiArXG4gICAgXCIgICAgICA8L3RyPlxcclwiICtcbiAgICBcIlxcblwiICtcbiAgICBcIiAgICAgIDwvdGJvZHk+XFxyXCIgK1xuICAgIFwiXFxuXCIgK1xuICAgIFwiICAgIDwvdGFibGU+XFxyXCIgK1xuICAgIFwiXFxuXCIgK1xuICAgIFwiICA8L2Rpdj5cXHJcIiArXG4gICAgXCJcXG5cIiArXG4gICAgXCIgIDxkaXYgbmctc3dpdGNoLXdoZW49XFxcIm1vbnRoXFxcIj5cXHJcIiArXG4gICAgXCJcXG5cIiArXG4gICAgXCIgICAgPHRhYmxlPlxcclwiICtcbiAgICBcIlxcblwiICtcbiAgICBcIiAgICAgIDx0aGVhZD5cXHJcIiArXG4gICAgXCJcXG5cIiArXG4gICAgXCIgICAgICA8dHI+XFxyXCIgK1xuICAgIFwiXFxuXCIgK1xuICAgIFwiICAgICAgICA8dGggbmctY2xpY2s9XFxcInByZXYoKVxcXCI+JmxzYXF1bzs8L3RoPlxcclwiICtcbiAgICBcIlxcblwiICtcbiAgICBcIiAgICAgICAgPHRoIGNvbHNwYW49XFxcIjVcXFwiIGNsYXNzPVxcXCJzd2l0Y2hcXFwiIG5nLWNsaWNrPVxcXCJzZXRWaWV3KCd5ZWFyJylcXFwiIG5nLWJpbmQ9XFxcImRhdGV8bUZvcm1hdDonWVlZWSc6dHpcXFwiPjwvdGg+XFxyXCIgK1xuICAgIFwiXFxuXCIgK1xuICAgIFwiICAgICAgICA8dGggbmctY2xpY2s9XFxcIm5leHQoKVxcXCI+JnJzYXF1bzs8L2k+PC90aD5cXHJcIiArXG4gICAgXCJcXG5cIiArXG4gICAgXCIgICAgICA8L3RyPlxcclwiICtcbiAgICBcIlxcblwiICtcbiAgICBcIiAgICAgIDwvdGhlYWQ+XFxyXCIgK1xuICAgIFwiXFxuXCIgK1xuICAgIFwiICAgICAgPHRib2R5PlxcclwiICtcbiAgICBcIlxcblwiICtcbiAgICBcIiAgICAgIDx0cj5cXHJcIiArXG4gICAgXCJcXG5cIiArXG4gICAgXCIgICAgICAgIDx0ZCBjb2xzcGFuPVxcXCI3XFxcIj5cXHJcIiArXG4gICAgXCJcXG5cIiArXG4gICAgXCIgICAgICAgICAgPHNwYW4gbmctcmVwZWF0PVxcXCJtb250aCBpbiBtb250aHNcXFwiXFxyXCIgK1xuICAgIFwiXFxuXCIgK1xuICAgIFwiICAgICAgICAgICAgICAgIG5nLWNsYXNzPVxcXCJjbGFzc2VzWyRpbmRleF1cXFwiXFxyXCIgK1xuICAgIFwiXFxuXCIgK1xuICAgIFwiICAgICAgICAgICAgICAgIG5nLWNsaWNrPVxcXCJzZWxlY3REYXRlKG1vbnRoKVxcXCJcXHJcIiArXG4gICAgXCJcXG5cIiArXG4gICAgXCIgICAgICAgICAgICAgICAgbmctYmluZD1cXFwibW9udGh8bUZvcm1hdDonTU1NJzp0elxcXCI+PC9zcGFuPlxcclwiICtcbiAgICBcIlxcblwiICtcbiAgICBcIiAgICAgICAgPC90ZD5cXHJcIiArXG4gICAgXCJcXG5cIiArXG4gICAgXCIgICAgICA8L3RyPlxcclwiICtcbiAgICBcIlxcblwiICtcbiAgICBcIiAgICAgIDwvdGJvZHk+XFxyXCIgK1xuICAgIFwiXFxuXCIgK1xuICAgIFwiICAgIDwvdGFibGU+XFxyXCIgK1xuICAgIFwiXFxuXCIgK1xuICAgIFwiICA8L2Rpdj5cXHJcIiArXG4gICAgXCJcXG5cIiArXG4gICAgXCIgIDxkaXYgbmctc3dpdGNoLXdoZW49XFxcImhvdXJzXFxcIj5cXHJcIiArXG4gICAgXCJcXG5cIiArXG4gICAgXCIgICAgPHRhYmxlPlxcclwiICtcbiAgICBcIlxcblwiICtcbiAgICBcIiAgICAgIDx0aGVhZD5cXHJcIiArXG4gICAgXCJcXG5cIiArXG4gICAgXCIgICAgICA8dHI+XFxyXCIgK1xuICAgIFwiXFxuXCIgK1xuICAgIFwiICAgICAgICA8dGggbmctY2xpY2s9XFxcInByZXYoMjQpXFxcIj4mbHNhcXVvOzwvdGg+XFxyXCIgK1xuICAgIFwiXFxuXCIgK1xuICAgIFwiICAgICAgICA8dGggY29sc3Bhbj1cXFwiNVxcXCIgY2xhc3M9XFxcInN3aXRjaFxcXCIgbmctY2xpY2s9XFxcInNldFZpZXcoJ2RhdGUnKVxcXCIgbmctYmluZD1cXFwiZGF0ZXxtRm9ybWF0OidERCBNTU1NIFlZWVknOnR6XFxcIj48L3RoPlxcclwiICtcbiAgICBcIlxcblwiICtcbiAgICBcIiAgICAgICAgPHRoIG5nLWNsaWNrPVxcXCJuZXh0KDI0KVxcXCI+JnJzYXF1bzs8L2k+PC90aD5cXHJcIiArXG4gICAgXCJcXG5cIiArXG4gICAgXCIgICAgICA8L3RyPlxcclwiICtcbiAgICBcIlxcblwiICtcbiAgICBcIiAgICAgIDwvdGhlYWQ+XFxyXCIgK1xuICAgIFwiXFxuXCIgK1xuICAgIFwiICAgICAgPHRib2R5PlxcclwiICtcbiAgICBcIlxcblwiICtcbiAgICBcIiAgICAgIDx0cj5cXHJcIiArXG4gICAgXCJcXG5cIiArXG4gICAgXCIgICAgICAgIDx0ZCBjb2xzcGFuPVxcXCI3XFxcIj5cXHJcIiArXG4gICAgXCJcXG5cIiArXG4gICAgXCIgICAgICAgICAgPHNwYW4gbmctcmVwZWF0PVxcXCJob3VyIGluIGhvdXJzXFxcIlxcclwiICtcbiAgICBcIlxcblwiICtcbiAgICBcIiAgICAgICAgICAgICAgICBuZy1jbGFzcz1cXFwiY2xhc3Nlc1skaW5kZXhdXFxcIlxcclwiICtcbiAgICBcIlxcblwiICtcbiAgICBcIiAgICAgICAgICAgICAgICBuZy1jbGljaz1cXFwic2VsZWN0RGF0ZShob3VyKVxcXCIgbmctYmluZD1cXFwiaG91cnxtRm9ybWF0OidISDptbSc6dHpcXFwiPjwvc3Bhbj5cXHJcIiArXG4gICAgXCJcXG5cIiArXG4gICAgXCIgICAgICAgIDwvdGQ+XFxyXCIgK1xuICAgIFwiXFxuXCIgK1xuICAgIFwiICAgICAgPC90cj5cXHJcIiArXG4gICAgXCJcXG5cIiArXG4gICAgXCIgICAgICA8L3Rib2R5PlxcclwiICtcbiAgICBcIlxcblwiICtcbiAgICBcIiAgICA8L3RhYmxlPlxcclwiICtcbiAgICBcIlxcblwiICtcbiAgICBcIiAgPC9kaXY+XFxyXCIgK1xuICAgIFwiXFxuXCIgK1xuICAgIFwiICA8ZGl2IG5nLXN3aXRjaC13aGVuPVxcXCJtaW51dGVzXFxcIj5cXHJcIiArXG4gICAgXCJcXG5cIiArXG4gICAgXCIgICAgPHRhYmxlPlxcclwiICtcbiAgICBcIlxcblwiICtcbiAgICBcIiAgICAgIDx0aGVhZD5cXHJcIiArXG4gICAgXCJcXG5cIiArXG4gICAgXCIgICAgICA8dHI+XFxyXCIgK1xuICAgIFwiXFxuXCIgK1xuICAgIFwiICAgICAgICA8dGggbmctY2xpY2s9XFxcInByZXYoKVxcXCI+JmxzYXF1bzs8L3RoPlxcclwiICtcbiAgICBcIlxcblwiICtcbiAgICBcIiAgICAgICAgPHRoIGNvbHNwYW49XFxcIjVcXFwiIGNsYXNzPVxcXCJzd2l0Y2hcXFwiIG5nLWNsaWNrPVxcXCJzZXRWaWV3KCdob3VycycpXFxcIiBuZy1iaW5kPVxcXCJkYXRlfG1Gb3JtYXQ6J0REIE1NTU0gWVlZWSc6dHpcXFwiPjwvdGg+XFxyXCIgK1xuICAgIFwiXFxuXCIgK1xuICAgIFwiICAgICAgICA8dGggbmctY2xpY2s9XFxcIm5leHQoKVxcXCI+JnJzYXF1bzs8L2k+PC90aD5cXHJcIiArXG4gICAgXCJcXG5cIiArXG4gICAgXCIgICAgICA8L3RyPlxcclwiICtcbiAgICBcIlxcblwiICtcbiAgICBcIiAgICAgIDwvdGhlYWQ+XFxyXCIgK1xuICAgIFwiXFxuXCIgK1xuICAgIFwiICAgICAgPHRib2R5PlxcclwiICtcbiAgICBcIlxcblwiICtcbiAgICBcIiAgICAgIDx0cj5cXHJcIiArXG4gICAgXCJcXG5cIiArXG4gICAgXCIgICAgICAgIDx0ZCBjb2xzcGFuPVxcXCI3XFxcIj5cXHJcIiArXG4gICAgXCJcXG5cIiArXG4gICAgXCIgICAgICAgICAgPHNwYW4gbmctcmVwZWF0PVxcXCJtaW51dGUgaW4gbWludXRlc1xcXCJcXHJcIiArXG4gICAgXCJcXG5cIiArXG4gICAgXCIgICAgICAgICAgICAgICAgbmctY2xhc3M9XFxcImNsYXNzZXNbJGluZGV4XVxcXCJcXHJcIiArXG4gICAgXCJcXG5cIiArXG4gICAgXCIgICAgICAgICAgICAgICAgbmctY2xpY2s9XFxcInNlbGVjdERhdGUobWludXRlKVxcXCJcXHJcIiArXG4gICAgXCJcXG5cIiArXG4gICAgXCIgICAgICAgICAgICAgICAgbmctYmluZD1cXFwibWludXRlfG1Gb3JtYXQ6J0hIOm1tJzp0elxcXCI+PC9zcGFuPlxcclwiICtcbiAgICBcIlxcblwiICtcbiAgICBcIiAgICAgICAgPC90ZD5cXHJcIiArXG4gICAgXCJcXG5cIiArXG4gICAgXCIgICAgICA8L3RyPlxcclwiICtcbiAgICBcIlxcblwiICtcbiAgICBcIiAgICAgIDwvdGJvZHk+XFxyXCIgK1xuICAgIFwiXFxuXCIgK1xuICAgIFwiICAgIDwvdGFibGU+XFxyXCIgK1xuICAgIFwiXFxuXCIgK1xuICAgIFwiICA8L2Rpdj5cXHJcIiArXG4gICAgXCJcXG5cIiArXG4gICAgXCI8L2Rpdj5cIlxuICApO1xuXG59XSk7XG59KSk7XG4iLCIvKipcbiAqIGFuZ3VsYXItaC1zd2VldGFsZXJ0IGlzIGEgc2ltcGxlIHdyYXBwZXIgb2Ygc3dlZXRhbGVydC5cbiAqXG4gKiBAYXV0aG9yIEhvd2FyZC5adW9cbiAqIEBkYXRlICAgSmFuIDMwdGgsIDIwMTZcbiAqXG4gKiovXG4oZnVuY3Rpb24ocm9vdCwgZmFjdG9yeSkge1xuICAgICd1c2Ugc3RyaWN0JztcblxuICAgIGlmICh0eXBlb2YgZGVmaW5lID09PSAnZnVuY3Rpb24nICYmIGRlZmluZS5hbWQpIHtcbiAgICAgICAgLy8gQU1ELiBSZWdpc3RlciBhcyBhbiBhbm9ueW1vdXMgbW9kdWxlLlxuICAgICAgICBkZWZpbmUoWydhbmd1bGFyJywgJ3N3ZWV0YWxlcnQnXSwgZnVuY3Rpb24oYW5ndWxhciwgc3dlZXRhbGVydCkge1xuICAgICAgICAgICAgcmV0dXJuIGZhY3RvcnkoYW5ndWxhciwgc3dlZXRhbGVydCk7XG4gICAgICAgIH0pO1xuICAgIH0gZWxzZSBpZiAodHlwZW9mIG1vZHVsZSA9PT0gJ29iamVjdCcgJiYgbW9kdWxlLmV4cG9ydHMpIHtcbiAgICAgICAgLy8gTm9kZS4gRG9lcyBub3Qgd29yayB3aXRoIHN0cmljdCBDb21tb25KUywgYnV0XG4gICAgICAgIC8vIG9ubHkgQ29tbW9uSlMtbGlrZSBlbnZpcm9tZW50cyB0aGF0IHN1cHBvcnQgbW9kdWxlLmV4cG9ydHMsXG4gICAgICAgIC8vIGxpa2UgTm9kZS5cbiAgICAgICAgbW9kdWxlLmV4cG9ydHMgPSBmYWN0b3J5KHJlcXVpcmUoJ2FuZ3VsYXInKSwgcmVxdWlyZSgnc3dlZXRhbGVydCcpKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICAvLyBCcm93c2VyIGdsb2JhbHNcbiAgICAgICAgZmFjdG9yeShyb290LmFuZ3VsYXIsIHJvb3Quc3dlZXRBbGVydCk7XG4gICAgfVxufSh0aGlzLCBmdW5jdGlvbihuZywgc3dlZXQpIHtcbiAgICAndXNlIHN0cmljdCc7XG5cbiAgICB2YXIgc2VydmljZSA9IGZ1bmN0aW9uKCkge1xuXG4gICAgICAgIHRoaXMuc2hvdyA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgdmFyIGFyZ3MgPSBbXS5zbGljZS5jYWxsKGFyZ3VtZW50cywgMCk7XG4gICAgICAgICAgICBzd2VldC5hcHBseSh1bmRlZmluZWQsIGFyZ3MpO1xuICAgICAgICB9O1xuXG4gICAgICAgIG5nLmZvckVhY2goXG4gICAgICAgICAgICBbJ3Nob3dJbnB1dEVycm9yJywgJ2Nsb3NlJ10sXG4gICAgICAgICAgICBmdW5jdGlvbihmdW5jKSB7XG4gICAgICAgICAgICAgICAgdGhpc1tmdW5jXSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgYXJncyA9IFtdLnNsaWNlLmNhbGwoYXJndW1lbnRzLCAwKTtcbiAgICAgICAgICAgICAgICAgICAgc3dlZXRbZnVuY10uYXBwbHkodW5kZWZpbmVkLCBhcmdzKTtcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfSwgdGhpcyk7XG5cbiAgICAgICAgdGhpcy5pc1Nob3duID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICB2YXIgc3dlZXRBbGVydEVsO1xuXG4gICAgICAgICAgICBuZy5mb3JFYWNoKGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ3N3ZWV0LWFsZXJ0JyksIGZ1bmN0aW9uKGVsKSB7XG4gICAgICAgICAgICAgICAgc3dlZXRBbGVydEVsID0gbmcuZWxlbWVudChlbCk7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgcmV0dXJuIHN3ZWV0QWxlcnRFbCAmJiBzd2VldEFsZXJ0RWwuaGFzQ2xhc3MoJ3Zpc2libGUnKTtcbiAgICAgICAgfTtcbiAgICB9O1xuXG4gICAgdmFyIG1vZE5hbWUgPSAnaFN3ZWV0QWxlcnQnO1xuXG4gICAgbmcubW9kdWxlKG1vZE5hbWUsIFtdKS5zZXJ2aWNlKCdzd2VldCcsIFtzZXJ2aWNlXSk7XG5cbiAgICByZXR1cm4gbW9kTmFtZTtcblxufSkpO1xuIiwiLyogYW5ndWxhci1tb21lbnQuanMgLyB2MS4wLjEgLyAoYykgMjAxMywgMjAxNCwgMjAxNSwgMjAxNiBVcmkgU2hha2VkIC8gTUlUIExpY2VuY2UgKi9cclxuXHJcbidmb3JtYXQgYW1kJztcclxuLyogZ2xvYmFsIGRlZmluZSAqL1xyXG5cclxuKGZ1bmN0aW9uICgpIHtcclxuXHQndXNlIHN0cmljdCc7XHJcblxyXG5cdGZ1bmN0aW9uIGlzVW5kZWZpbmVkT3JOdWxsKHZhbCkge1xyXG5cdFx0cmV0dXJuIGFuZ3VsYXIuaXNVbmRlZmluZWQodmFsKSB8fCB2YWwgPT09IG51bGw7XHJcblx0fVxyXG5cclxuXHRmdW5jdGlvbiByZXF1aXJlTW9tZW50KCkge1xyXG5cdFx0dHJ5IHtcclxuXHRcdFx0cmV0dXJuIHJlcXVpcmUoJ21vbWVudCcpOyAvLyBVc2luZyBudy5qcyBvciBicm93c2VyaWZ5P1xyXG5cdFx0fSBjYXRjaCAoZSkge1xyXG5cdFx0XHR0aHJvdyBuZXcgRXJyb3IoJ1BsZWFzZSBpbnN0YWxsIG1vbWVudCB2aWEgbnBtLiBQbGVhc2UgcmVmZXJlbmNlIHRvOiBodHRwczovL2dpdGh1Yi5jb20vdXJpc2gvYW5ndWxhci1tb21lbnQnKTsgLy8gQWRkIHdpa2kvdHJvdWJsZXNob290aW5nIHNlY3Rpb24/XHJcblx0XHR9XHJcblx0fVxyXG5cclxuXHRmdW5jdGlvbiBhbmd1bGFyTW9tZW50KGFuZ3VsYXIsIG1vbWVudCkge1xyXG5cclxuXHRcdGlmKHR5cGVvZiBtb21lbnQgPT09ICd1bmRlZmluZWQnKSB7XHJcblx0XHRcdGlmKHR5cGVvZiByZXF1aXJlID09PSAnZnVuY3Rpb24nKSB7XHJcblx0XHRcdFx0bW9tZW50ID0gcmVxdWlyZU1vbWVudCgpO1xyXG5cdFx0XHR9ZWxzZXtcclxuXHRcdFx0XHR0aHJvdyBuZXcgRXJyb3IoJ01vbWVudCBjYW5ub3QgYmUgZm91bmQgYnkgYW5ndWxhci1tb21lbnQhIFBsZWFzZSByZWZlcmVuY2UgdG86IGh0dHBzOi8vZ2l0aHViLmNvbS91cmlzaC9hbmd1bGFyLW1vbWVudCcpOyAvLyBBZGQgd2lraS90cm91Ymxlc2hvb3Rpbmcgc2VjdGlvbj9cclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cclxuXHRcdC8qKlxyXG5cdFx0ICogQG5nZG9jIG92ZXJ2aWV3XHJcblx0XHQgKiBAbmFtZSBhbmd1bGFyTW9tZW50XHJcblx0XHQgKlxyXG5cdFx0ICogQGRlc2NyaXB0aW9uXHJcblx0XHQgKiBhbmd1bGFyTW9tZW50IG1vZHVsZSBwcm92aWRlcyBtb21lbnQuanMgZnVuY3Rpb25hbGl0eSBmb3IgYW5ndWxhci5qcyBhcHBzLlxyXG5cdFx0ICovXHJcblx0XHRhbmd1bGFyLm1vZHVsZSgnYW5ndWxhck1vbWVudCcsIFtdKVxyXG5cclxuXHRcdC8qKlxyXG5cdFx0ICogQG5nZG9jIG9iamVjdFxyXG5cdFx0ICogQG5hbWUgYW5ndWxhck1vbWVudC5jb25maWc6YW5ndWxhck1vbWVudENvbmZpZ1xyXG5cdFx0ICpcclxuXHRcdCAqIEBkZXNjcmlwdGlvblxyXG5cdFx0ICogQ29tbW9uIGNvbmZpZ3VyYXRpb24gb2YgdGhlIGFuZ3VsYXJNb21lbnQgbW9kdWxlXHJcblx0XHQgKi9cclxuXHRcdFx0LmNvbnN0YW50KCdhbmd1bGFyTW9tZW50Q29uZmlnJywge1xyXG5cdFx0XHRcdC8qKlxyXG5cdFx0XHRcdCAqIEBuZ2RvYyBwcm9wZXJ0eVxyXG5cdFx0XHRcdCAqIEBuYW1lIGFuZ3VsYXJNb21lbnQuY29uZmlnLmFuZ3VsYXJNb21lbnRDb25maWcjcHJlcHJvY2Vzc1xyXG5cdFx0XHRcdCAqIEBwcm9wZXJ0eU9mIGFuZ3VsYXJNb21lbnQuY29uZmlnOmFuZ3VsYXJNb21lbnRDb25maWdcclxuXHRcdFx0XHQgKiBAcmV0dXJucyB7ZnVuY3Rpb259IEEgcHJlcHJvY2Vzc29yIGZ1bmN0aW9uIHRoYXQgd2lsbCBiZSBhcHBsaWVkIG9uIGFsbCBpbmNvbWluZyBkYXRlc1xyXG5cdFx0XHRcdCAqXHJcblx0XHRcdFx0ICogQGRlc2NyaXB0aW9uXHJcblx0XHRcdFx0ICogRGVmaW5lcyBhIHByZXByb2Nlc3NvciBmdW5jdGlvbiB0byBhcHBseSBvbiBhbGwgaW5wdXQgZGF0ZXMgKGUuZy4gdGhlIGlucHV0IG9mIGBhbS10aW1lLWFnb2AsXHJcblx0XHRcdFx0ICogYGFtQ2FsZW5kYXJgLCBldGMuKS4gVGhlIGZ1bmN0aW9uIG11c3QgcmV0dXJuIGEgYG1vbWVudGAgb2JqZWN0LlxyXG5cdFx0XHRcdCAqXHJcblx0XHRcdFx0ICogQGV4YW1wbGVcclxuXHRcdFx0XHQgKiAgIC8vIENhdXNlcyBhbmd1bGFyLW1vbWVudCB0byBhbHdheXMgdHJlYXQgdGhlIGlucHV0IHZhbHVlcyBhcyB1bml4IHRpbWVzdGFtcHNcclxuXHRcdFx0XHQgKiAgIGFuZ3VsYXJNb21lbnRDb25maWcucHJlcHJvY2VzcyA9IGZ1bmN0aW9uKHZhbHVlKSB7XHJcblx0XHRcdFx0ICogXHQgICByZXR1cm4gbW9tZW50LnVuaXgodmFsdWUpO1xyXG5cdFx0XHRcdCAqICAgfVxyXG5cdFx0XHRcdCAqL1xyXG5cdFx0XHRcdHByZXByb2Nlc3M6IG51bGwsXHJcblxyXG5cdFx0XHRcdC8qKlxyXG5cdFx0XHRcdCAqIEBuZ2RvYyBwcm9wZXJ0eVxyXG5cdFx0XHRcdCAqIEBuYW1lIGFuZ3VsYXJNb21lbnQuY29uZmlnLmFuZ3VsYXJNb21lbnRDb25maWcjdGltZXpvbmVcclxuXHRcdFx0XHQgKiBAcHJvcGVydHlPZiBhbmd1bGFyTW9tZW50LmNvbmZpZzphbmd1bGFyTW9tZW50Q29uZmlnXHJcblx0XHRcdFx0ICogQHJldHVybnMge3N0cmluZ30gVGhlIGRlZmF1bHQgdGltZXpvbmVcclxuXHRcdFx0XHQgKlxyXG5cdFx0XHRcdCAqIEBkZXNjcmlwdGlvblxyXG5cdFx0XHRcdCAqIFRoZSBkZWZhdWx0IHRpbWV6b25lIChlLmcuICdFdXJvcGUvTG9uZG9uJykuIEVtcHR5IHN0cmluZyBieSBkZWZhdWx0IChkb2VzIG5vdCBhcHBseVxyXG5cdFx0XHRcdCAqIGFueSB0aW1lem9uZSBzaGlmdCkuXHJcblx0XHRcdFx0ICpcclxuXHRcdFx0XHQgKiBOT1RFOiBUaGlzIG9wdGlvbiByZXF1aXJlcyBtb21lbnQtdGltZXpvbmUgPj0gMC4zLjAuXHJcblx0XHRcdFx0ICovXHJcblx0XHRcdFx0dGltZXpvbmU6IG51bGwsXHJcblxyXG5cdFx0XHRcdC8qKlxyXG5cdFx0XHRcdCAqIEBuZ2RvYyBwcm9wZXJ0eVxyXG5cdFx0XHRcdCAqIEBuYW1lIGFuZ3VsYXJNb21lbnQuY29uZmlnLmFuZ3VsYXJNb21lbnRDb25maWcjZm9ybWF0XHJcblx0XHRcdFx0ICogQHByb3BlcnR5T2YgYW5ndWxhck1vbWVudC5jb25maWc6YW5ndWxhck1vbWVudENvbmZpZ1xyXG5cdFx0XHRcdCAqIEByZXR1cm5zIHtzdHJpbmd9IFRoZSBwcmUtY29udmVyc2lvbiBmb3JtYXQgb2YgdGhlIGRhdGVcclxuXHRcdFx0XHQgKlxyXG5cdFx0XHRcdCAqIEBkZXNjcmlwdGlvblxyXG5cdFx0XHRcdCAqIFNwZWNpZnkgdGhlIGZvcm1hdCBvZiB0aGUgaW5wdXQgZGF0ZS4gRXNzZW50aWFsbHkgaXQncyBhXHJcblx0XHRcdFx0ICogZGVmYXVsdCBhbmQgc2F2ZXMgeW91IGZyb20gc3BlY2lmeWluZyBhIGZvcm1hdCBpbiBldmVyeVxyXG5cdFx0XHRcdCAqIGVsZW1lbnQuIE92ZXJyaWRkZW4gYnkgZWxlbWVudCBhdHRyLiBOdWxsIGJ5IGRlZmF1bHQuXHJcblx0XHRcdFx0ICovXHJcblx0XHRcdFx0Zm9ybWF0OiBudWxsLFxyXG5cclxuXHRcdFx0XHQvKipcclxuXHRcdFx0XHQgKiBAbmdkb2MgcHJvcGVydHlcclxuXHRcdFx0XHQgKiBAbmFtZSBhbmd1bGFyTW9tZW50LmNvbmZpZy5hbmd1bGFyTW9tZW50Q29uZmlnI3N0YXRlZnVsRmlsdGVyc1xyXG5cdFx0XHRcdCAqIEBwcm9wZXJ0eU9mIGFuZ3VsYXJNb21lbnQuY29uZmlnOmFuZ3VsYXJNb21lbnRDb25maWdcclxuXHRcdFx0XHQgKiBAcmV0dXJucyB7Ym9vbGVhbn0gV2hldGhlciBhbmd1bGFyLW1vbWVudCBmaWx0ZXJzIHNob3VsZCBiZSBzdGF0ZWxlc3MgKG9yIG5vdClcclxuXHRcdFx0XHQgKlxyXG5cdFx0XHRcdCAqIEBkZXNjcmlwdGlvblxyXG5cdFx0XHRcdCAqIFNwZWNpZmllcyB3aGV0aGVyIHRoZSBmaWx0ZXJzIGluY2x1ZGVkIHdpdGggYW5ndWxhci1tb21lbnQgYXJlIHN0YXRlZnVsLlxyXG5cdFx0XHRcdCAqIFN0YXRlZnVsIGZpbHRlcnMgd2lsbCBhdXRvbWF0aWNhbGx5IHJlLWV2YWx1YXRlIHdoZW5ldmVyIHlvdSBjaGFuZ2UgdGhlIHRpbWV6b25lXHJcblx0XHRcdFx0ICogb3IgbG9jYWxlIHNldHRpbmdzLCBidXQgbWF5IG5lZ2F0aXZlbHkgaW1wYWN0IHBlcmZvcm1hbmNlLiB0cnVlIGJ5IGRlZmF1bHQuXHJcblx0XHRcdFx0ICovXHJcblx0XHRcdFx0c3RhdGVmdWxGaWx0ZXJzOiB0cnVlXHJcblx0XHRcdH0pXHJcblxyXG5cdFx0LyoqXHJcblx0XHQgKiBAbmdkb2Mgb2JqZWN0XHJcblx0XHQgKiBAbmFtZSBhbmd1bGFyTW9tZW50Lm9iamVjdDptb21lbnRcclxuXHRcdCAqXHJcblx0XHQgKiBAZGVzY3JpcHRpb25cclxuXHRcdCAqIG1vbWVudCBnbG9iYWwgKGFzIHByb3ZpZGVkIGJ5IHRoZSBtb21lbnQuanMgbGlicmFyeSlcclxuXHRcdCAqL1xyXG5cdFx0XHQuY29uc3RhbnQoJ21vbWVudCcsIG1vbWVudClcclxuXHJcblx0XHQvKipcclxuXHRcdCAqIEBuZ2RvYyBvYmplY3RcclxuXHRcdCAqIEBuYW1lIGFuZ3VsYXJNb21lbnQuY29uZmlnOmFtVGltZUFnb0NvbmZpZ1xyXG5cdFx0ICogQG1vZHVsZSBhbmd1bGFyTW9tZW50XHJcblx0XHQgKlxyXG5cdFx0ICogQGRlc2NyaXB0aW9uXHJcblx0XHQgKiBjb25maWd1cmF0aW9uIHNwZWNpZmljIHRvIHRoZSBhbVRpbWVBZ28gZGlyZWN0aXZlXHJcblx0XHQgKi9cclxuXHRcdFx0LmNvbnN0YW50KCdhbVRpbWVBZ29Db25maWcnLCB7XHJcblx0XHRcdFx0LyoqXHJcblx0XHRcdFx0ICogQG5nZG9jIHByb3BlcnR5XHJcblx0XHRcdFx0ICogQG5hbWUgYW5ndWxhck1vbWVudC5jb25maWcuYW1UaW1lQWdvQ29uZmlnI3dpdGhvdXRTdWZmaXhcclxuXHRcdFx0XHQgKiBAcHJvcGVydHlPZiBhbmd1bGFyTW9tZW50LmNvbmZpZzphbVRpbWVBZ29Db25maWdcclxuXHRcdFx0XHQgKiBAcmV0dXJucyB7Ym9vbGVhbn0gV2hldGhlciB0byBpbmNsdWRlIGEgc3VmZml4IGluIGFtLXRpbWUtYWdvIGRpcmVjdGl2ZVxyXG5cdFx0XHRcdCAqXHJcblx0XHRcdFx0ICogQGRlc2NyaXB0aW9uXHJcblx0XHRcdFx0ICogRGVmYXVsdHMgdG8gZmFsc2UuXHJcblx0XHRcdFx0ICovXHJcblx0XHRcdFx0d2l0aG91dFN1ZmZpeDogZmFsc2UsXHJcblxyXG5cdFx0XHRcdC8qKlxyXG5cdFx0XHRcdCAqIEBuZ2RvYyBwcm9wZXJ0eVxyXG5cdFx0XHRcdCAqIEBuYW1lIGFuZ3VsYXJNb21lbnQuY29uZmlnLmFtVGltZUFnb0NvbmZpZyNzZXJ2ZXJUaW1lXHJcblx0XHRcdFx0ICogQHByb3BlcnR5T2YgYW5ndWxhck1vbWVudC5jb25maWc6YW1UaW1lQWdvQ29uZmlnXHJcblx0XHRcdFx0ICogQHJldHVybnMge251bWJlcn0gU2VydmVyIHRpbWUgaW4gbWlsbGlzZWNvbmRzIHNpbmNlIHRoZSBlcG9jaFxyXG5cdFx0XHRcdCAqXHJcblx0XHRcdFx0ICogQGRlc2NyaXB0aW9uXHJcblx0XHRcdFx0ICogSWYgc2V0LCB0aW1lIGFnbyB3aWxsIGJlIGNhbGN1bGF0ZWQgcmVsYXRpdmUgdG8gdGhlIGdpdmVuIHZhbHVlLlxyXG5cdFx0XHRcdCAqIElmIG51bGwsIGxvY2FsIHRpbWUgd2lsbCBiZSB1c2VkLiBEZWZhdWx0cyB0byBudWxsLlxyXG5cdFx0XHRcdCAqL1xyXG5cdFx0XHRcdHNlcnZlclRpbWU6IG51bGwsXHJcblxyXG5cdFx0XHRcdC8qKlxyXG5cdFx0XHRcdCAqIEBuZ2RvYyBwcm9wZXJ0eVxyXG5cdFx0XHRcdCAqIEBuYW1lIGFuZ3VsYXJNb21lbnQuY29uZmlnLmFtVGltZUFnb0NvbmZpZyN0aXRsZUZvcm1hdFxyXG5cdFx0XHRcdCAqIEBwcm9wZXJ0eU9mIGFuZ3VsYXJNb21lbnQuY29uZmlnOmFtVGltZUFnb0NvbmZpZ1xyXG5cdFx0XHRcdCAqIEByZXR1cm5zIHtzdHJpbmd9IFRoZSBmb3JtYXQgb2YgdGhlIGRhdGUgdG8gYmUgZGlzcGxheWVkIGluIHRoZSB0aXRsZSBvZiB0aGUgZWxlbWVudC4gSWYgbnVsbCxcclxuXHRcdFx0XHQgKiAgICAgICAgdGhlIGRpcmVjdGl2ZSBzZXQgdGhlIHRpdGxlIG9mIHRoZSBlbGVtZW50LlxyXG5cdFx0XHRcdCAqXHJcblx0XHRcdFx0ICogQGRlc2NyaXB0aW9uXHJcblx0XHRcdFx0ICogVGhlIGZvcm1hdCBvZiB0aGUgZGF0ZSB1c2VkIGZvciB0aGUgdGl0bGUgb2YgdGhlIGVsZW1lbnQuIG51bGwgYnkgZGVmYXVsdC5cclxuXHRcdFx0XHQgKi9cclxuXHRcdFx0XHR0aXRsZUZvcm1hdDogbnVsbCxcclxuXHJcblx0XHRcdFx0LyoqXHJcblx0XHRcdFx0ICogQG5nZG9jIHByb3BlcnR5XHJcblx0XHRcdFx0ICogQG5hbWUgYW5ndWxhck1vbWVudC5jb25maWcuYW1UaW1lQWdvQ29uZmlnI2Z1bGxEYXRlVGhyZXNob2xkXHJcblx0XHRcdFx0ICogQHByb3BlcnR5T2YgYW5ndWxhck1vbWVudC5jb25maWc6YW1UaW1lQWdvQ29uZmlnXHJcblx0XHRcdFx0ICogQHJldHVybnMge251bWJlcn0gVGhlIG1pbmltdW0gbnVtYmVyIG9mIGRheXMgZm9yIHNob3dpbmcgYSBmdWxsIGRhdGUgaW5zdGVhZCBvZiByZWxhdGl2ZSB0aW1lXHJcblx0XHRcdFx0ICpcclxuXHRcdFx0XHQgKiBAZGVzY3JpcHRpb25cclxuXHRcdFx0XHQgKiBUaGUgdGhyZXNob2xkIGZvciBkaXNwbGF5aW5nIGEgZnVsbCBkYXRlLiBUaGUgZGVmYXVsdCBpcyBudWxsLCB3aGljaCBtZWFucyB0aGUgZGF0ZSB3aWxsIGFsd2F5c1xyXG5cdFx0XHRcdCAqIGJlIHJlbGF0aXZlLCBhbmQgZnVsbCBkYXRlIHdpbGwgbmV2ZXIgYmUgZGlzcGxheWVkLlxyXG5cdFx0XHRcdCAqL1xyXG5cdFx0XHRcdGZ1bGxEYXRlVGhyZXNob2xkOiBudWxsLFxyXG5cclxuXHRcdFx0XHQvKipcclxuXHRcdFx0XHQgKiBAbmdkb2MgcHJvcGVydHlcclxuXHRcdFx0XHQgKiBAbmFtZSBhbmd1bGFyTW9tZW50LmNvbmZpZy5hbVRpbWVBZ29Db25maWcjZnVsbERhdGVGb3JtYXRcclxuXHRcdFx0XHQgKiBAcHJvcGVydHlPZiBhbmd1bGFyTW9tZW50LmNvbmZpZzphbVRpbWVBZ29Db25maWdcclxuXHRcdFx0XHQgKiBAcmV0dXJucyB7c3RyaW5nfSBUaGUgZm9ybWF0IHRvIHVzZSB3aGVuIGRpc3BsYXlpbmcgYSBmdWxsIGRhdGUuXHJcblx0XHRcdFx0ICpcclxuXHRcdFx0XHQgKiBAZGVzY3JpcHRpb25cclxuXHRcdFx0XHQgKiBTcGVjaWZ5IHRoZSBmb3JtYXQgb2YgdGhlIGRhdGUgd2hlbiBkaXNwbGF5ZWQgYXMgZnVsbCBkYXRlLiBudWxsIGJ5IGRlZmF1bHQuXHJcblx0XHRcdFx0ICovXHJcblx0XHRcdFx0ZnVsbERhdGVGb3JtYXQ6IG51bGwsXHJcblxyXG5cdFx0XHRcdGZ1bGxEYXRlVGhyZXNob2xkVW5pdDogJ2RheSdcclxuXHRcdFx0fSlcclxuXHJcblx0XHQvKipcclxuXHRcdCAqIEBuZ2RvYyBkaXJlY3RpdmVcclxuXHRcdCAqIEBuYW1lIGFuZ3VsYXJNb21lbnQuZGlyZWN0aXZlOmFtVGltZUFnb1xyXG5cdFx0ICogQG1vZHVsZSBhbmd1bGFyTW9tZW50XHJcblx0XHQgKlxyXG5cdFx0ICogQHJlc3RyaWN0IEFcclxuXHRcdCAqL1xyXG5cdFx0XHQuZGlyZWN0aXZlKCdhbVRpbWVBZ28nLCBbJyR3aW5kb3cnLCAnbW9tZW50JywgJ2FtTW9tZW50JywgJ2FtVGltZUFnb0NvbmZpZycsIGZ1bmN0aW9uICgkd2luZG93LCBtb21lbnQsIGFtTW9tZW50LCBhbVRpbWVBZ29Db25maWcpIHtcclxuXHJcblx0XHRcdFx0cmV0dXJuIGZ1bmN0aW9uIChzY29wZSwgZWxlbWVudCwgYXR0cikge1xyXG5cdFx0XHRcdFx0dmFyIGFjdGl2ZVRpbWVvdXQgPSBudWxsO1xyXG5cdFx0XHRcdFx0dmFyIGN1cnJlbnRWYWx1ZTtcclxuXHRcdFx0XHRcdHZhciB3aXRob3V0U3VmZml4ID0gYW1UaW1lQWdvQ29uZmlnLndpdGhvdXRTdWZmaXg7XHJcblx0XHRcdFx0XHR2YXIgdGl0bGVGb3JtYXQgPSBhbVRpbWVBZ29Db25maWcudGl0bGVGb3JtYXQ7XHJcblx0XHRcdFx0XHR2YXIgZnVsbERhdGVUaHJlc2hvbGQgPSBhbVRpbWVBZ29Db25maWcuZnVsbERhdGVUaHJlc2hvbGQ7XHJcblx0XHRcdFx0XHR2YXIgZnVsbERhdGVGb3JtYXQgPSBhbVRpbWVBZ29Db25maWcuZnVsbERhdGVGb3JtYXQ7XHJcblx0XHRcdFx0XHR2YXIgZnVsbERhdGVUaHJlc2hvbGRVbml0ID0gYW1UaW1lQWdvQ29uZmlnLmZ1bGxEYXRlVGhyZXNob2xkVW5pdDtcclxuXHJcblx0XHRcdFx0XHR2YXIgbG9jYWxEYXRlID0gbmV3IERhdGUoKS5nZXRUaW1lKCk7XHJcblx0XHRcdFx0XHR2YXIgbW9kZWxOYW1lID0gYXR0ci5hbVRpbWVBZ287XHJcblx0XHRcdFx0XHR2YXIgY3VycmVudEZyb207XHJcblx0XHRcdFx0XHR2YXIgaXNUaW1lRWxlbWVudCA9ICgnVElNRScgPT09IGVsZW1lbnRbMF0ubm9kZU5hbWUudG9VcHBlckNhc2UoKSk7XHJcblx0XHRcdFx0XHR2YXIgc2V0VGl0bGVUaW1lID0gIWVsZW1lbnQuYXR0cigndGl0bGUnKTtcclxuXHJcblx0XHRcdFx0XHRmdW5jdGlvbiBnZXROb3coKSB7XHJcblx0XHRcdFx0XHRcdHZhciBub3c7XHJcblx0XHRcdFx0XHRcdGlmIChjdXJyZW50RnJvbSkge1xyXG5cdFx0XHRcdFx0XHRcdG5vdyA9IGN1cnJlbnRGcm9tO1xyXG5cdFx0XHRcdFx0XHR9IGVsc2UgaWYgKGFtVGltZUFnb0NvbmZpZy5zZXJ2ZXJUaW1lKSB7XHJcblx0XHRcdFx0XHRcdFx0dmFyIGxvY2FsTm93ID0gbmV3IERhdGUoKS5nZXRUaW1lKCk7XHJcblx0XHRcdFx0XHRcdFx0dmFyIG5vd01pbGxpcyA9IGxvY2FsTm93IC0gbG9jYWxEYXRlICsgYW1UaW1lQWdvQ29uZmlnLnNlcnZlclRpbWU7XHJcblx0XHRcdFx0XHRcdFx0bm93ID0gbW9tZW50KG5vd01pbGxpcyk7XHJcblx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0ZWxzZSB7XHJcblx0XHRcdFx0XHRcdFx0bm93ID0gbW9tZW50KCk7XHJcblx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0cmV0dXJuIG5vdztcclxuXHRcdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0XHRmdW5jdGlvbiBjYW5jZWxUaW1lcigpIHtcclxuXHRcdFx0XHRcdFx0aWYgKGFjdGl2ZVRpbWVvdXQpIHtcclxuXHRcdFx0XHRcdFx0XHQkd2luZG93LmNsZWFyVGltZW91dChhY3RpdmVUaW1lb3V0KTtcclxuXHRcdFx0XHRcdFx0XHRhY3RpdmVUaW1lb3V0ID0gbnVsbDtcclxuXHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHRcdGZ1bmN0aW9uIHVwZGF0ZVRpbWUobW9tZW50SW5zdGFuY2UpIHtcclxuXHRcdFx0XHRcdFx0dmFyIHRpbWVBZ28gPSBnZXROb3coKS5kaWZmKG1vbWVudEluc3RhbmNlLCBmdWxsRGF0ZVRocmVzaG9sZFVuaXQpO1xyXG5cdFx0XHRcdFx0XHR2YXIgc2hvd0Z1bGxEYXRlID0gZnVsbERhdGVUaHJlc2hvbGQgJiYgdGltZUFnbyA+PSBmdWxsRGF0ZVRocmVzaG9sZDtcclxuXHJcblx0XHRcdFx0XHRcdGlmIChzaG93RnVsbERhdGUpIHtcclxuXHRcdFx0XHRcdFx0XHRlbGVtZW50LnRleHQobW9tZW50SW5zdGFuY2UuZm9ybWF0KGZ1bGxEYXRlRm9ybWF0KSk7XHJcblx0XHRcdFx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0XHRcdFx0ZWxlbWVudC50ZXh0KG1vbWVudEluc3RhbmNlLmZyb20oZ2V0Tm93KCksIHdpdGhvdXRTdWZmaXgpKTtcclxuXHRcdFx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHRcdFx0aWYgKHRpdGxlRm9ybWF0ICYmIHNldFRpdGxlVGltZSkge1xyXG5cdFx0XHRcdFx0XHRcdGVsZW1lbnQuYXR0cigndGl0bGUnLCBtb21lbnRJbnN0YW5jZS5mb3JtYXQodGl0bGVGb3JtYXQpKTtcclxuXHRcdFx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHRcdFx0aWYgKCFzaG93RnVsbERhdGUpIHtcclxuXHRcdFx0XHRcdFx0XHR2YXIgaG93T2xkID0gTWF0aC5hYnMoZ2V0Tm93KCkuZGlmZihtb21lbnRJbnN0YW5jZSwgJ21pbnV0ZScpKTtcclxuXHRcdFx0XHRcdFx0XHR2YXIgc2Vjb25kc1VudGlsVXBkYXRlID0gMzYwMDtcclxuXHRcdFx0XHRcdFx0XHRpZiAoaG93T2xkIDwgMSkge1xyXG5cdFx0XHRcdFx0XHRcdFx0c2Vjb25kc1VudGlsVXBkYXRlID0gMTtcclxuXHRcdFx0XHRcdFx0XHR9IGVsc2UgaWYgKGhvd09sZCA8IDYwKSB7XHJcblx0XHRcdFx0XHRcdFx0XHRzZWNvbmRzVW50aWxVcGRhdGUgPSAzMDtcclxuXHRcdFx0XHRcdFx0XHR9IGVsc2UgaWYgKGhvd09sZCA8IDE4MCkge1xyXG5cdFx0XHRcdFx0XHRcdFx0c2Vjb25kc1VudGlsVXBkYXRlID0gMzAwO1xyXG5cdFx0XHRcdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0XHRcdFx0YWN0aXZlVGltZW91dCA9ICR3aW5kb3cuc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XHJcblx0XHRcdFx0XHRcdFx0XHR1cGRhdGVUaW1lKG1vbWVudEluc3RhbmNlKTtcclxuXHRcdFx0XHRcdFx0XHR9LCBzZWNvbmRzVW50aWxVcGRhdGUgKiAxMDAwKTtcclxuXHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHRcdGZ1bmN0aW9uIHVwZGF0ZURhdGVUaW1lQXR0cih2YWx1ZSkge1xyXG5cdFx0XHRcdFx0XHRpZiAoaXNUaW1lRWxlbWVudCkge1xyXG5cdFx0XHRcdFx0XHRcdGVsZW1lbnQuYXR0cignZGF0ZXRpbWUnLCB2YWx1ZSk7XHJcblx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0XHRmdW5jdGlvbiB1cGRhdGVNb21lbnQoKSB7XHJcblx0XHRcdFx0XHRcdGNhbmNlbFRpbWVyKCk7XHJcblx0XHRcdFx0XHRcdGlmIChjdXJyZW50VmFsdWUpIHtcclxuXHRcdFx0XHRcdFx0XHR2YXIgbW9tZW50VmFsdWUgPSBhbU1vbWVudC5wcmVwcm9jZXNzRGF0ZShjdXJyZW50VmFsdWUpO1xyXG5cdFx0XHRcdFx0XHRcdHVwZGF0ZVRpbWUobW9tZW50VmFsdWUpO1xyXG5cdFx0XHRcdFx0XHRcdHVwZGF0ZURhdGVUaW1lQXR0cihtb21lbnRWYWx1ZS50b0lTT1N0cmluZygpKTtcclxuXHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHRcdHNjb3BlLiR3YXRjaChtb2RlbE5hbWUsIGZ1bmN0aW9uICh2YWx1ZSkge1xyXG5cdFx0XHRcdFx0XHRpZiAoaXNVbmRlZmluZWRPck51bGwodmFsdWUpIHx8ICh2YWx1ZSA9PT0gJycpKSB7XHJcblx0XHRcdFx0XHRcdFx0Y2FuY2VsVGltZXIoKTtcclxuXHRcdFx0XHRcdFx0XHRpZiAoY3VycmVudFZhbHVlKSB7XHJcblx0XHRcdFx0XHRcdFx0XHRlbGVtZW50LnRleHQoJycpO1xyXG5cdFx0XHRcdFx0XHRcdFx0dXBkYXRlRGF0ZVRpbWVBdHRyKCcnKTtcclxuXHRcdFx0XHRcdFx0XHRcdGN1cnJlbnRWYWx1ZSA9IG51bGw7XHJcblx0XHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHRcdHJldHVybjtcclxuXHRcdFx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHRcdFx0Y3VycmVudFZhbHVlID0gdmFsdWU7XHJcblx0XHRcdFx0XHRcdHVwZGF0ZU1vbWVudCgpO1xyXG5cdFx0XHRcdFx0fSk7XHJcblxyXG5cdFx0XHRcdFx0aWYgKGFuZ3VsYXIuaXNEZWZpbmVkKGF0dHIuYW1Gcm9tKSkge1xyXG5cdFx0XHRcdFx0XHRzY29wZS4kd2F0Y2goYXR0ci5hbUZyb20sIGZ1bmN0aW9uICh2YWx1ZSkge1xyXG5cdFx0XHRcdFx0XHRcdGlmIChpc1VuZGVmaW5lZE9yTnVsbCh2YWx1ZSkgfHwgKHZhbHVlID09PSAnJykpIHtcclxuXHRcdFx0XHRcdFx0XHRcdGN1cnJlbnRGcm9tID0gbnVsbDtcclxuXHRcdFx0XHRcdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdFx0XHRcdFx0Y3VycmVudEZyb20gPSBtb21lbnQodmFsdWUpO1xyXG5cdFx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0XHR1cGRhdGVNb21lbnQoKTtcclxuXHRcdFx0XHRcdFx0fSk7XHJcblx0XHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdFx0aWYgKGFuZ3VsYXIuaXNEZWZpbmVkKGF0dHIuYW1XaXRob3V0U3VmZml4KSkge1xyXG5cdFx0XHRcdFx0XHRzY29wZS4kd2F0Y2goYXR0ci5hbVdpdGhvdXRTdWZmaXgsIGZ1bmN0aW9uICh2YWx1ZSkge1xyXG5cdFx0XHRcdFx0XHRcdGlmICh0eXBlb2YgdmFsdWUgPT09ICdib29sZWFuJykge1xyXG5cdFx0XHRcdFx0XHRcdFx0d2l0aG91dFN1ZmZpeCA9IHZhbHVlO1xyXG5cdFx0XHRcdFx0XHRcdFx0dXBkYXRlTW9tZW50KCk7XHJcblx0XHRcdFx0XHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRcdFx0XHRcdHdpdGhvdXRTdWZmaXggPSBhbVRpbWVBZ29Db25maWcud2l0aG91dFN1ZmZpeDtcclxuXHRcdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcdH0pO1xyXG5cdFx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHRcdGF0dHIuJG9ic2VydmUoJ2FtRnVsbERhdGVUaHJlc2hvbGQnLCBmdW5jdGlvbiAobmV3VmFsdWUpIHtcclxuXHRcdFx0XHRcdFx0ZnVsbERhdGVUaHJlc2hvbGQgPSBuZXdWYWx1ZTtcclxuXHRcdFx0XHRcdFx0dXBkYXRlTW9tZW50KCk7XHJcblx0XHRcdFx0XHR9KTtcclxuXHJcblx0XHRcdFx0XHRhdHRyLiRvYnNlcnZlKCdhbUZ1bGxEYXRlRm9ybWF0JywgZnVuY3Rpb24gKG5ld1ZhbHVlKSB7XHJcblx0XHRcdFx0XHRcdGZ1bGxEYXRlRm9ybWF0ID0gbmV3VmFsdWU7XHJcblx0XHRcdFx0XHRcdHVwZGF0ZU1vbWVudCgpO1xyXG5cdFx0XHRcdFx0fSk7XHJcblxyXG5cdFx0XHRcdFx0YXR0ci4kb2JzZXJ2ZSgnYW1GdWxsRGF0ZVRocmVzaG9sZFVuaXQnLCBmdW5jdGlvbiAobmV3VmFsdWUpIHtcclxuXHRcdFx0XHRcdFx0ZnVsbERhdGVUaHJlc2hvbGRVbml0ID0gbmV3VmFsdWU7XHJcblx0XHRcdFx0XHRcdHVwZGF0ZU1vbWVudCgpO1xyXG5cdFx0XHRcdFx0fSk7XHJcblxyXG5cdFx0XHRcdFx0c2NvcGUuJG9uKCckZGVzdHJveScsIGZ1bmN0aW9uICgpIHtcclxuXHRcdFx0XHRcdFx0Y2FuY2VsVGltZXIoKTtcclxuXHRcdFx0XHRcdH0pO1xyXG5cclxuXHRcdFx0XHRcdHNjb3BlLiRvbignYW1Nb21lbnQ6bG9jYWxlQ2hhbmdlZCcsIGZ1bmN0aW9uICgpIHtcclxuXHRcdFx0XHRcdFx0dXBkYXRlTW9tZW50KCk7XHJcblx0XHRcdFx0XHR9KTtcclxuXHRcdFx0XHR9O1xyXG5cdFx0XHR9XSlcclxuXHJcblx0XHQvKipcclxuXHRcdCAqIEBuZ2RvYyBzZXJ2aWNlXHJcblx0XHQgKiBAbmFtZSBhbmd1bGFyTW9tZW50LnNlcnZpY2UuYW1Nb21lbnRcclxuXHRcdCAqIEBtb2R1bGUgYW5ndWxhck1vbWVudFxyXG5cdFx0ICovXHJcblx0XHRcdC5zZXJ2aWNlKCdhbU1vbWVudCcsIFsnbW9tZW50JywgJyRyb290U2NvcGUnLCAnJGxvZycsICdhbmd1bGFyTW9tZW50Q29uZmlnJywgZnVuY3Rpb24gKG1vbWVudCwgJHJvb3RTY29wZSwgJGxvZywgYW5ndWxhck1vbWVudENvbmZpZykge1xyXG5cdFx0XHRcdHZhciBkZWZhdWx0VGltZXpvbmUgPSBudWxsO1xyXG5cclxuXHRcdFx0XHQvKipcclxuXHRcdFx0XHQgKiBAbmdkb2MgZnVuY3Rpb25cclxuXHRcdFx0XHQgKiBAbmFtZSBhbmd1bGFyTW9tZW50LnNlcnZpY2UuYW1Nb21lbnQjY2hhbmdlTG9jYWxlXHJcblx0XHRcdFx0ICogQG1ldGhvZE9mIGFuZ3VsYXJNb21lbnQuc2VydmljZS5hbU1vbWVudFxyXG5cdFx0XHRcdCAqXHJcblx0XHRcdFx0ICogQGRlc2NyaXB0aW9uXHJcblx0XHRcdFx0ICogQ2hhbmdlcyB0aGUgbG9jYWxlIGZvciBtb21lbnQuanMgYW5kIHVwZGF0ZXMgYWxsIHRoZSBhbS10aW1lLWFnbyBkaXJlY3RpdmUgaW5zdGFuY2VzXHJcblx0XHRcdFx0ICogd2l0aCB0aGUgbmV3IGxvY2FsZS4gQWxzbyBicm9hZGNhc3RzIGFuIGBhbU1vbWVudDpsb2NhbGVDaGFuZ2VkYCBldmVudCBvbiAkcm9vdFNjb3BlLlxyXG5cdFx0XHRcdCAqXHJcblx0XHRcdFx0ICogQHBhcmFtIHtzdHJpbmd9IGxvY2FsZSBMb2NhbGUgY29kZSAoZS5nLiBlbiwgZXMsIHJ1LCBwdC1iciwgZXRjLilcclxuXHRcdFx0XHQgKiBAcGFyYW0ge29iamVjdH0gY3VzdG9taXphdGlvbiBvYmplY3Qgb2YgbG9jYWxlIHN0cmluZ3MgdG8gb3ZlcnJpZGVcclxuXHRcdFx0XHQgKi9cclxuXHRcdFx0XHR0aGlzLmNoYW5nZUxvY2FsZSA9IGZ1bmN0aW9uIChsb2NhbGUsIGN1c3RvbWl6YXRpb24pIHtcclxuXHRcdFx0XHRcdHZhciByZXN1bHQgPSBtb21lbnQubG9jYWxlKGxvY2FsZSwgY3VzdG9taXphdGlvbik7XHJcblx0XHRcdFx0XHRpZiAoYW5ndWxhci5pc0RlZmluZWQobG9jYWxlKSkge1xyXG5cdFx0XHRcdFx0XHQkcm9vdFNjb3BlLiRicm9hZGNhc3QoJ2FtTW9tZW50OmxvY2FsZUNoYW5nZWQnKTtcclxuXHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRyZXR1cm4gcmVzdWx0O1xyXG5cdFx0XHRcdH07XHJcblxyXG5cdFx0XHRcdC8qKlxyXG5cdFx0XHRcdCAqIEBuZ2RvYyBmdW5jdGlvblxyXG5cdFx0XHRcdCAqIEBuYW1lIGFuZ3VsYXJNb21lbnQuc2VydmljZS5hbU1vbWVudCNjaGFuZ2VUaW1lem9uZVxyXG5cdFx0XHRcdCAqIEBtZXRob2RPZiBhbmd1bGFyTW9tZW50LnNlcnZpY2UuYW1Nb21lbnRcclxuXHRcdFx0XHQgKlxyXG5cdFx0XHRcdCAqIEBkZXNjcmlwdGlvblxyXG5cdFx0XHRcdCAqIENoYW5nZXMgdGhlIGRlZmF1bHQgdGltZXpvbmUgZm9yIGFtQ2FsZW5kYXIsIGFtRGF0ZUZvcm1hdCBhbmQgYW1UaW1lQWdvLiBBbHNvIGJyb2FkY2FzdHMgYW5cclxuXHRcdFx0XHQgKiBgYW1Nb21lbnQ6dGltZXpvbmVDaGFuZ2VkYCBldmVudCBvbiAkcm9vdFNjb3BlLlxyXG5cdFx0XHRcdCAqXHJcblx0XHRcdFx0ICogTm90ZTogdGhpcyBtZXRob2Qgd29ya3Mgb25seSBpZiBtb21lbnQtdGltZXpvbmUgPiAwLjMuMCBpcyBsb2FkZWRcclxuXHRcdFx0XHQgKlxyXG5cdFx0XHRcdCAqIEBwYXJhbSB7c3RyaW5nfSB0aW1lem9uZSBUaW1lem9uZSBuYW1lIChlLmcuIFVUQylcclxuXHRcdFx0XHQgKi9cclxuXHRcdFx0XHR0aGlzLmNoYW5nZVRpbWV6b25lID0gZnVuY3Rpb24gKHRpbWV6b25lKSB7XHJcblx0XHRcdFx0XHRpZiAobW9tZW50LnR6ICYmIG1vbWVudC50ei5zZXREZWZhdWx0KSB7XHJcblx0XHRcdFx0XHRcdG1vbWVudC50ei5zZXREZWZhdWx0KHRpbWV6b25lKTtcclxuXHRcdFx0XHRcdFx0JHJvb3RTY29wZS4kYnJvYWRjYXN0KCdhbU1vbWVudDp0aW1lem9uZUNoYW5nZWQnKTtcclxuXHRcdFx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0XHRcdCRsb2cud2FybignYW5ndWxhci1tb21lbnQ6IGNoYW5nZVRpbWV6b25lKCkgd29ya3Mgb25seSB3aXRoIG1vbWVudC10aW1lem9uZS5qcyB2MC4zLjAgb3IgZ3JlYXRlci4nKTtcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdGFuZ3VsYXJNb21lbnRDb25maWcudGltZXpvbmUgPSB0aW1lem9uZTtcclxuXHRcdFx0XHRcdGRlZmF1bHRUaW1lem9uZSA9IHRpbWV6b25lO1xyXG5cdFx0XHRcdH07XHJcblxyXG5cdFx0XHRcdC8qKlxyXG5cdFx0XHRcdCAqIEBuZ2RvYyBmdW5jdGlvblxyXG5cdFx0XHRcdCAqIEBuYW1lIGFuZ3VsYXJNb21lbnQuc2VydmljZS5hbU1vbWVudCNwcmVwcm9jZXNzRGF0ZVxyXG5cdFx0XHRcdCAqIEBtZXRob2RPZiBhbmd1bGFyTW9tZW50LnNlcnZpY2UuYW1Nb21lbnRcclxuXHRcdFx0XHQgKlxyXG5cdFx0XHRcdCAqIEBkZXNjcmlwdGlvblxyXG5cdFx0XHRcdCAqIFByZXByb2Nlc3MgYSBnaXZlbiB2YWx1ZSBhbmQgY29udmVydCBpdCBpbnRvIGEgTW9tZW50IGluc3RhbmNlIGFwcHJvcHJpYXRlIGZvciB1c2UgaW4gdGhlXHJcblx0XHRcdFx0ICogYW0tdGltZS1hZ28gZGlyZWN0aXZlIGFuZCB0aGUgZmlsdGVycy4gVGhlIGJlaGF2aW9yIG9mIHRoaXMgZnVuY3Rpb24gY2FuIGJlIG92ZXJyaWRlbiBieVxyXG5cdFx0XHRcdCAqIHNldHRpbmcgYGFuZ3VsYXJNb21lbnRDb25maWcucHJlcHJvY2Vzc2AuXHJcblx0XHRcdFx0ICpcclxuXHRcdFx0XHQgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBiZSBwcmVwcm9jZXNzZWRcclxuXHRcdFx0XHQgKiBAcmV0dXJuIHtNb21lbnR9IEEgYG1vbWVudGAgb2JqZWN0XHJcblx0XHRcdFx0ICovXHJcblx0XHRcdFx0dGhpcy5wcmVwcm9jZXNzRGF0ZSA9IGZ1bmN0aW9uICh2YWx1ZSkge1xyXG5cdFx0XHRcdFx0Ly8gQ29uZmlndXJlIHRoZSBkZWZhdWx0IHRpbWV6b25lIGlmIG5lZWRlZFxyXG5cdFx0XHRcdFx0aWYgKGRlZmF1bHRUaW1lem9uZSAhPT0gYW5ndWxhck1vbWVudENvbmZpZy50aW1lem9uZSkge1xyXG5cdFx0XHRcdFx0XHR0aGlzLmNoYW5nZVRpbWV6b25lKGFuZ3VsYXJNb21lbnRDb25maWcudGltZXpvbmUpO1xyXG5cdFx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHRcdGlmIChhbmd1bGFyTW9tZW50Q29uZmlnLnByZXByb2Nlc3MpIHtcclxuXHRcdFx0XHRcdFx0cmV0dXJuIGFuZ3VsYXJNb21lbnRDb25maWcucHJlcHJvY2Vzcyh2YWx1ZSk7XHJcblx0XHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdFx0aWYgKCFpc05hTihwYXJzZUZsb2F0KHZhbHVlKSkgJiYgaXNGaW5pdGUodmFsdWUpKSB7XHJcblx0XHRcdFx0XHRcdC8vIE1pbGxpc2Vjb25kcyBzaW5jZSB0aGUgZXBvY2hcclxuXHRcdFx0XHRcdFx0cmV0dXJuIG1vbWVudChwYXJzZUludCh2YWx1ZSwgMTApKTtcclxuXHRcdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0XHQvLyBlbHNlIGp1c3QgcmV0dXJucyB0aGUgdmFsdWUgYXMtaXMuXHJcblx0XHRcdFx0XHRyZXR1cm4gbW9tZW50KHZhbHVlKTtcclxuXHRcdFx0XHR9O1xyXG5cdFx0XHR9XSlcclxuXHJcblx0XHQvKipcclxuXHRcdCAqIEBuZ2RvYyBmaWx0ZXJcclxuXHRcdCAqIEBuYW1lIGFuZ3VsYXJNb21lbnQuZmlsdGVyOmFtUGFyc2VcclxuXHRcdCAqIEBtb2R1bGUgYW5ndWxhck1vbWVudFxyXG5cdFx0ICovXHJcblx0XHRcdC5maWx0ZXIoJ2FtUGFyc2UnLCBbJ21vbWVudCcsIGZ1bmN0aW9uIChtb21lbnQpIHtcclxuXHRcdFx0XHRyZXR1cm4gZnVuY3Rpb24gKHZhbHVlLCBmb3JtYXQpIHtcclxuXHRcdFx0XHRcdHJldHVybiBtb21lbnQodmFsdWUsIGZvcm1hdCk7XHJcblx0XHRcdFx0fTtcclxuXHRcdFx0fV0pXHJcblxyXG5cdFx0LyoqXHJcblx0XHQgKiBAbmdkb2MgZmlsdGVyXHJcblx0XHQgKiBAbmFtZSBhbmd1bGFyTW9tZW50LmZpbHRlcjphbUZyb21Vbml4XHJcblx0XHQgKiBAbW9kdWxlIGFuZ3VsYXJNb21lbnRcclxuXHRcdCAqL1xyXG5cdFx0XHQuZmlsdGVyKCdhbUZyb21Vbml4JywgWydtb21lbnQnLCBmdW5jdGlvbiAobW9tZW50KSB7XHJcblx0XHRcdFx0cmV0dXJuIGZ1bmN0aW9uICh2YWx1ZSkge1xyXG5cdFx0XHRcdFx0cmV0dXJuIG1vbWVudC51bml4KHZhbHVlKTtcclxuXHRcdFx0XHR9O1xyXG5cdFx0XHR9XSlcclxuXHJcblx0XHQvKipcclxuXHRcdCAqIEBuZ2RvYyBmaWx0ZXJcclxuXHRcdCAqIEBuYW1lIGFuZ3VsYXJNb21lbnQuZmlsdGVyOmFtVXRjXHJcblx0XHQgKiBAbW9kdWxlIGFuZ3VsYXJNb21lbnRcclxuXHRcdCAqL1xyXG5cdFx0XHQuZmlsdGVyKCdhbVV0YycsIFsnbW9tZW50JywgZnVuY3Rpb24gKG1vbWVudCkge1xyXG5cdFx0XHRcdHJldHVybiBmdW5jdGlvbiAodmFsdWUpIHtcclxuXHRcdFx0XHRcdHJldHVybiBtb21lbnQudXRjKHZhbHVlKTtcclxuXHRcdFx0XHR9O1xyXG5cdFx0XHR9XSlcclxuXHJcblx0XHQvKipcclxuXHRcdCAqIEBuZ2RvYyBmaWx0ZXJcclxuXHRcdCAqIEBuYW1lIGFuZ3VsYXJNb21lbnQuZmlsdGVyOmFtVXRjT2Zmc2V0XHJcblx0XHQgKiBAbW9kdWxlIGFuZ3VsYXJNb21lbnRcclxuXHRcdCAqXHJcblx0XHQgKiBAZGVzY3JpcHRpb25cclxuXHRcdCAqIEFkZHMgYSBVVEMgb2Zmc2V0IHRvIHRoZSBnaXZlbiB0aW1lem9uZSBvYmplY3QuIFRoZSBvZmZzZXQgY2FuIGJlIGEgbnVtYmVyIG9mIG1pbnV0ZXMsIG9yIGEgc3RyaW5nIHN1Y2ggYXNcclxuXHRcdCAqICcrMDMwMCcsICctMDMwMCcgb3IgJ1onLlxyXG5cdFx0ICovXHJcblx0XHRcdC5maWx0ZXIoJ2FtVXRjT2Zmc2V0JywgWydhbU1vbWVudCcsIGZ1bmN0aW9uIChhbU1vbWVudCkge1xyXG5cdFx0XHRcdGZ1bmN0aW9uIGFtVXRjT2Zmc2V0KHZhbHVlLCBvZmZzZXQpIHtcclxuXHRcdFx0XHRcdHJldHVybiBhbU1vbWVudC5wcmVwcm9jZXNzRGF0ZSh2YWx1ZSkudXRjT2Zmc2V0KG9mZnNldCk7XHJcblx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHRyZXR1cm4gYW1VdGNPZmZzZXQ7XHJcblx0XHRcdH1dKVxyXG5cclxuXHRcdC8qKlxyXG5cdFx0ICogQG5nZG9jIGZpbHRlclxyXG5cdFx0ICogQG5hbWUgYW5ndWxhck1vbWVudC5maWx0ZXI6YW1Mb2NhbFxyXG5cdFx0ICogQG1vZHVsZSBhbmd1bGFyTW9tZW50XHJcblx0XHQgKi9cclxuXHRcdFx0LmZpbHRlcignYW1Mb2NhbCcsIFsnbW9tZW50JywgZnVuY3Rpb24gKG1vbWVudCkge1xyXG5cdFx0XHRcdHJldHVybiBmdW5jdGlvbiAodmFsdWUpIHtcclxuXHRcdFx0XHRcdHJldHVybiBtb21lbnQuaXNNb21lbnQodmFsdWUpID8gdmFsdWUubG9jYWwoKSA6IG51bGw7XHJcblx0XHRcdFx0fTtcclxuXHRcdFx0fV0pXHJcblxyXG5cdFx0LyoqXHJcblx0XHQgKiBAbmdkb2MgZmlsdGVyXHJcblx0XHQgKiBAbmFtZSBhbmd1bGFyTW9tZW50LmZpbHRlcjphbVRpbWV6b25lXHJcblx0XHQgKiBAbW9kdWxlIGFuZ3VsYXJNb21lbnRcclxuXHRcdCAqXHJcblx0XHQgKiBAZGVzY3JpcHRpb25cclxuXHRcdCAqIEFwcGx5IGEgdGltZXpvbmUgb250byBhIGdpdmVuIG1vbWVudCBvYmplY3QsIGUuZy4gJ0FtZXJpY2EvUGhvZW5peCcpLlxyXG5cdFx0ICpcclxuXHRcdCAqIFlvdSBuZWVkIHRvIGluY2x1ZGUgbW9tZW50LXRpbWV6b25lLmpzIGZvciB0aW1lem9uZSBzdXBwb3J0LlxyXG5cdFx0ICovXHJcblx0XHRcdC5maWx0ZXIoJ2FtVGltZXpvbmUnLCBbJ2FtTW9tZW50JywgJ2FuZ3VsYXJNb21lbnRDb25maWcnLCAnJGxvZycsIGZ1bmN0aW9uIChhbU1vbWVudCwgYW5ndWxhck1vbWVudENvbmZpZywgJGxvZykge1xyXG5cdFx0XHRcdGZ1bmN0aW9uIGFtVGltZXpvbmUodmFsdWUsIHRpbWV6b25lKSB7XHJcblx0XHRcdFx0XHR2YXIgYU1vbWVudCA9IGFtTW9tZW50LnByZXByb2Nlc3NEYXRlKHZhbHVlKTtcclxuXHJcblx0XHRcdFx0XHRpZiAoIXRpbWV6b25lKSB7XHJcblx0XHRcdFx0XHRcdHJldHVybiBhTW9tZW50O1xyXG5cdFx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHRcdGlmIChhTW9tZW50LnR6KSB7XHJcblx0XHRcdFx0XHRcdHJldHVybiBhTW9tZW50LnR6KHRpbWV6b25lKTtcclxuXHRcdFx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0XHRcdCRsb2cud2FybignYW5ndWxhci1tb21lbnQ6IG5hbWVkIHRpbWV6b25lIHNwZWNpZmllZCBidXQgbW9tZW50LnR6KCkgaXMgdW5kZWZpbmVkLiBEaWQgeW91IGZvcmdldCB0byBpbmNsdWRlIG1vbWVudC10aW1lem9uZS5qcyA/Jyk7XHJcblx0XHRcdFx0XHRcdHJldHVybiBhTW9tZW50O1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0cmV0dXJuIGFtVGltZXpvbmU7XHJcblx0XHRcdH1dKVxyXG5cclxuXHRcdC8qKlxyXG5cdFx0ICogQG5nZG9jIGZpbHRlclxyXG5cdFx0ICogQG5hbWUgYW5ndWxhck1vbWVudC5maWx0ZXI6YW1DYWxlbmRhclxyXG5cdFx0ICogQG1vZHVsZSBhbmd1bGFyTW9tZW50XHJcblx0XHQgKi9cclxuXHRcdFx0LmZpbHRlcignYW1DYWxlbmRhcicsIFsnbW9tZW50JywgJ2FtTW9tZW50JywgJ2FuZ3VsYXJNb21lbnRDb25maWcnLCBmdW5jdGlvbiAobW9tZW50LCBhbU1vbWVudCwgYW5ndWxhck1vbWVudENvbmZpZykge1xyXG5cdFx0XHRcdGZ1bmN0aW9uIGFtQ2FsZW5kYXJGaWx0ZXIodmFsdWUsIHJlZmVyZW5jZVRpbWUsIGZvcm1hdHMpIHtcclxuXHRcdFx0XHRcdGlmIChpc1VuZGVmaW5lZE9yTnVsbCh2YWx1ZSkpIHtcclxuXHRcdFx0XHRcdFx0cmV0dXJuICcnO1xyXG5cdFx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHRcdHZhciBkYXRlID0gYW1Nb21lbnQucHJlcHJvY2Vzc0RhdGUodmFsdWUpO1xyXG5cdFx0XHRcdFx0cmV0dXJuIGRhdGUuaXNWYWxpZCgpID8gZGF0ZS5jYWxlbmRhcihyZWZlcmVuY2VUaW1lLCBmb3JtYXRzKSA6ICcnO1xyXG5cdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0Ly8gU2luY2UgQW5ndWxhckpTIDEuMywgZmlsdGVycyBoYXZlIHRvIGV4cGxpY2l0bHkgZGVmaW5lIGJlaW5nIHN0YXRlZnVsXHJcblx0XHRcdFx0Ly8gKHRoaXMgaXMgbm8gbG9uZ2VyIHRoZSBkZWZhdWx0KS5cclxuXHRcdFx0XHRhbUNhbGVuZGFyRmlsdGVyLiRzdGF0ZWZ1bCA9IGFuZ3VsYXJNb21lbnRDb25maWcuc3RhdGVmdWxGaWx0ZXJzO1xyXG5cclxuXHRcdFx0XHRyZXR1cm4gYW1DYWxlbmRhckZpbHRlcjtcclxuXHRcdFx0fV0pXHJcblxyXG5cdFx0LyoqXHJcblx0XHQgKiBAbmdkb2MgZmlsdGVyXHJcblx0XHQgKiBAbmFtZSBhbmd1bGFyTW9tZW50LmZpbHRlcjphbURpZmZlcmVuY2VcclxuXHRcdCAqIEBtb2R1bGUgYW5ndWxhck1vbWVudFxyXG5cdFx0ICovXHJcblx0XHRcdC5maWx0ZXIoJ2FtRGlmZmVyZW5jZScsIFsnbW9tZW50JywgJ2FtTW9tZW50JywgJ2FuZ3VsYXJNb21lbnRDb25maWcnLCBmdW5jdGlvbiAobW9tZW50LCBhbU1vbWVudCwgYW5ndWxhck1vbWVudENvbmZpZykge1xyXG5cdFx0XHRcdGZ1bmN0aW9uIGFtRGlmZmVyZW5jZUZpbHRlcih2YWx1ZSwgb3RoZXJWYWx1ZSwgdW5pdCwgdXNlUHJlY2lzaW9uKSB7XHJcblx0XHRcdFx0XHRpZiAoaXNVbmRlZmluZWRPck51bGwodmFsdWUpKSB7XHJcblx0XHRcdFx0XHRcdHJldHVybiAnJztcclxuXHRcdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0XHR2YXIgZGF0ZSA9IGFtTW9tZW50LnByZXByb2Nlc3NEYXRlKHZhbHVlKTtcclxuXHRcdFx0XHRcdHZhciBkYXRlMiA9ICFpc1VuZGVmaW5lZE9yTnVsbChvdGhlclZhbHVlKSA/IGFtTW9tZW50LnByZXByb2Nlc3NEYXRlKG90aGVyVmFsdWUpIDogbW9tZW50KCk7XHJcblxyXG5cdFx0XHRcdFx0aWYgKCFkYXRlLmlzVmFsaWQoKSB8fCAhZGF0ZTIuaXNWYWxpZCgpKSB7XHJcblx0XHRcdFx0XHRcdHJldHVybiAnJztcclxuXHRcdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0XHRyZXR1cm4gZGF0ZS5kaWZmKGRhdGUyLCB1bml0LCB1c2VQcmVjaXNpb24pO1xyXG5cdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0YW1EaWZmZXJlbmNlRmlsdGVyLiRzdGF0ZWZ1bCA9IGFuZ3VsYXJNb21lbnRDb25maWcuc3RhdGVmdWxGaWx0ZXJzO1xyXG5cclxuXHRcdFx0XHRyZXR1cm4gYW1EaWZmZXJlbmNlRmlsdGVyO1xyXG5cdFx0XHR9XSlcclxuXHJcblx0XHQvKipcclxuXHRcdCAqIEBuZ2RvYyBmaWx0ZXJcclxuXHRcdCAqIEBuYW1lIGFuZ3VsYXJNb21lbnQuZmlsdGVyOmFtRGF0ZUZvcm1hdFxyXG5cdFx0ICogQG1vZHVsZSBhbmd1bGFyTW9tZW50XHJcblx0XHQgKiBAZnVuY3Rpb25cclxuXHRcdCAqL1xyXG5cdFx0XHQuZmlsdGVyKCdhbURhdGVGb3JtYXQnLCBbJ21vbWVudCcsICdhbU1vbWVudCcsICdhbmd1bGFyTW9tZW50Q29uZmlnJywgZnVuY3Rpb24gKG1vbWVudCwgYW1Nb21lbnQsIGFuZ3VsYXJNb21lbnRDb25maWcpIHtcclxuXHRcdFx0XHRmdW5jdGlvbiBhbURhdGVGb3JtYXRGaWx0ZXIodmFsdWUsIGZvcm1hdCkge1xyXG5cdFx0XHRcdFx0aWYgKGlzVW5kZWZpbmVkT3JOdWxsKHZhbHVlKSkge1xyXG5cdFx0XHRcdFx0XHRyZXR1cm4gJyc7XHJcblx0XHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdFx0dmFyIGRhdGUgPSBhbU1vbWVudC5wcmVwcm9jZXNzRGF0ZSh2YWx1ZSk7XHJcblx0XHRcdFx0XHRpZiAoIWRhdGUuaXNWYWxpZCgpKSB7XHJcblx0XHRcdFx0XHRcdHJldHVybiAnJztcclxuXHRcdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0XHRyZXR1cm4gZGF0ZS5mb3JtYXQoZm9ybWF0KTtcclxuXHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdGFtRGF0ZUZvcm1hdEZpbHRlci4kc3RhdGVmdWwgPSBhbmd1bGFyTW9tZW50Q29uZmlnLnN0YXRlZnVsRmlsdGVycztcclxuXHJcblx0XHRcdFx0cmV0dXJuIGFtRGF0ZUZvcm1hdEZpbHRlcjtcclxuXHRcdFx0fV0pXHJcblxyXG5cdFx0LyoqXHJcblx0XHQgKiBAbmdkb2MgZmlsdGVyXHJcblx0XHQgKiBAbmFtZSBhbmd1bGFyTW9tZW50LmZpbHRlcjphbUR1cmF0aW9uRm9ybWF0XHJcblx0XHQgKiBAbW9kdWxlIGFuZ3VsYXJNb21lbnRcclxuXHRcdCAqIEBmdW5jdGlvblxyXG5cdFx0ICovXHJcblx0XHRcdC5maWx0ZXIoJ2FtRHVyYXRpb25Gb3JtYXQnLCBbJ21vbWVudCcsICdhbmd1bGFyTW9tZW50Q29uZmlnJywgZnVuY3Rpb24gKG1vbWVudCwgYW5ndWxhck1vbWVudENvbmZpZykge1xyXG5cdFx0XHRcdGZ1bmN0aW9uIGFtRHVyYXRpb25Gb3JtYXRGaWx0ZXIodmFsdWUsIGZvcm1hdCwgc3VmZml4KSB7XHJcblx0XHRcdFx0XHRpZiAoaXNVbmRlZmluZWRPck51bGwodmFsdWUpKSB7XHJcblx0XHRcdFx0XHRcdHJldHVybiAnJztcclxuXHRcdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0XHRyZXR1cm4gbW9tZW50LmR1cmF0aW9uKHZhbHVlLCBmb3JtYXQpLmh1bWFuaXplKHN1ZmZpeCk7XHJcblx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHRhbUR1cmF0aW9uRm9ybWF0RmlsdGVyLiRzdGF0ZWZ1bCA9IGFuZ3VsYXJNb21lbnRDb25maWcuc3RhdGVmdWxGaWx0ZXJzO1xyXG5cclxuXHRcdFx0XHRyZXR1cm4gYW1EdXJhdGlvbkZvcm1hdEZpbHRlcjtcclxuXHRcdFx0fV0pXHJcblxyXG5cdFx0LyoqXHJcblx0XHQgKiBAbmdkb2MgZmlsdGVyXHJcblx0XHQgKiBAbmFtZSBhbmd1bGFyTW9tZW50LmZpbHRlcjphbVRpbWVBZ29cclxuXHRcdCAqIEBtb2R1bGUgYW5ndWxhck1vbWVudFxyXG5cdFx0ICogQGZ1bmN0aW9uXHJcblx0XHQgKi9cclxuXHRcdFx0LmZpbHRlcignYW1UaW1lQWdvJywgWydtb21lbnQnLCAnYW1Nb21lbnQnLCAnYW5ndWxhck1vbWVudENvbmZpZycsIGZ1bmN0aW9uIChtb21lbnQsIGFtTW9tZW50LCBhbmd1bGFyTW9tZW50Q29uZmlnKSB7XHJcblx0XHRcdFx0ZnVuY3Rpb24gYW1UaW1lQWdvRmlsdGVyKHZhbHVlLCBzdWZmaXgsIGZyb20pIHtcclxuXHRcdFx0XHRcdHZhciBkYXRlLCBkYXRlRnJvbTtcclxuXHJcblx0XHRcdFx0XHRpZiAoaXNVbmRlZmluZWRPck51bGwodmFsdWUpKSB7XHJcblx0XHRcdFx0XHRcdHJldHVybiAnJztcclxuXHRcdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0XHR2YWx1ZSA9IGFtTW9tZW50LnByZXByb2Nlc3NEYXRlKHZhbHVlKTtcclxuXHRcdFx0XHRcdGRhdGUgPSBtb21lbnQodmFsdWUpO1xyXG5cdFx0XHRcdFx0aWYgKCFkYXRlLmlzVmFsaWQoKSkge1xyXG5cdFx0XHRcdFx0XHRyZXR1cm4gJyc7XHJcblx0XHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdFx0ZGF0ZUZyb20gPSBtb21lbnQoZnJvbSk7XHJcblx0XHRcdFx0XHRpZiAoIWlzVW5kZWZpbmVkT3JOdWxsKGZyb20pICYmIGRhdGVGcm9tLmlzVmFsaWQoKSkge1xyXG5cdFx0XHRcdFx0XHRyZXR1cm4gZGF0ZS5mcm9tKGRhdGVGcm9tLCBzdWZmaXgpO1xyXG5cdFx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHRcdHJldHVybiBkYXRlLmZyb21Ob3coc3VmZml4KTtcclxuXHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdGFtVGltZUFnb0ZpbHRlci4kc3RhdGVmdWwgPSBhbmd1bGFyTW9tZW50Q29uZmlnLnN0YXRlZnVsRmlsdGVycztcclxuXHJcblx0XHRcdFx0cmV0dXJuIGFtVGltZUFnb0ZpbHRlcjtcclxuXHRcdFx0fV0pXHJcblxyXG5cdFx0LyoqXHJcblx0XHQgKiBAbmdkb2MgZmlsdGVyXHJcblx0XHQgKiBAbmFtZSBhbmd1bGFyTW9tZW50LmZpbHRlcjphbVN1YnRyYWN0XHJcblx0XHQgKiBAbW9kdWxlIGFuZ3VsYXJNb21lbnRcclxuXHRcdCAqIEBmdW5jdGlvblxyXG5cdFx0ICovXHJcblx0XHRcdC5maWx0ZXIoJ2FtU3VidHJhY3QnLCBbJ21vbWVudCcsICdhbmd1bGFyTW9tZW50Q29uZmlnJywgZnVuY3Rpb24gKG1vbWVudCwgYW5ndWxhck1vbWVudENvbmZpZykge1xyXG5cdFx0XHRcdGZ1bmN0aW9uIGFtU3VidHJhY3RGaWx0ZXIodmFsdWUsIGFtb3VudCwgdHlwZSkge1xyXG5cclxuXHRcdFx0XHRcdGlmIChpc1VuZGVmaW5lZE9yTnVsbCh2YWx1ZSkpIHtcclxuXHRcdFx0XHRcdFx0cmV0dXJuICcnO1xyXG5cdFx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHRcdHJldHVybiBtb21lbnQodmFsdWUpLnN1YnRyYWN0KHBhcnNlSW50KGFtb3VudCwgMTApLCB0eXBlKTtcclxuXHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdGFtU3VidHJhY3RGaWx0ZXIuJHN0YXRlZnVsID0gYW5ndWxhck1vbWVudENvbmZpZy5zdGF0ZWZ1bEZpbHRlcnM7XHJcblxyXG5cdFx0XHRcdHJldHVybiBhbVN1YnRyYWN0RmlsdGVyO1xyXG5cdFx0XHR9XSlcclxuXHJcblx0XHQvKipcclxuXHRcdCAqIEBuZ2RvYyBmaWx0ZXJcclxuXHRcdCAqIEBuYW1lIGFuZ3VsYXJNb21lbnQuZmlsdGVyOmFtQWRkXHJcblx0XHQgKiBAbW9kdWxlIGFuZ3VsYXJNb21lbnRcclxuXHRcdCAqIEBmdW5jdGlvblxyXG5cdFx0ICovXHJcblx0XHRcdC5maWx0ZXIoJ2FtQWRkJywgWydtb21lbnQnLCAnYW5ndWxhck1vbWVudENvbmZpZycsIGZ1bmN0aW9uIChtb21lbnQsIGFuZ3VsYXJNb21lbnRDb25maWcpIHtcclxuXHRcdFx0XHRmdW5jdGlvbiBhbUFkZEZpbHRlcih2YWx1ZSwgYW1vdW50LCB0eXBlKSB7XHJcblxyXG5cdFx0XHRcdFx0aWYgKGlzVW5kZWZpbmVkT3JOdWxsKHZhbHVlKSkge1xyXG5cdFx0XHRcdFx0XHRyZXR1cm4gJyc7XHJcblx0XHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdFx0cmV0dXJuIG1vbWVudCh2YWx1ZSkuYWRkKHBhcnNlSW50KGFtb3VudCwgMTApLCB0eXBlKTtcclxuXHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdGFtQWRkRmlsdGVyLiRzdGF0ZWZ1bCA9IGFuZ3VsYXJNb21lbnRDb25maWcuc3RhdGVmdWxGaWx0ZXJzO1xyXG5cclxuXHRcdFx0XHRyZXR1cm4gYW1BZGRGaWx0ZXI7XHJcblx0XHRcdH1dKVxyXG5cclxuXHRcdC8qKlxyXG5cdFx0ICogQG5nZG9jIGZpbHRlclxyXG5cdFx0ICogQG5hbWUgYW5ndWxhck1vbWVudC5maWx0ZXI6YW1TdGFydE9mXHJcblx0XHQgKiBAbW9kdWxlIGFuZ3VsYXJNb21lbnRcclxuXHRcdCAqIEBmdW5jdGlvblxyXG5cdFx0ICovXHJcblx0XHRcdC5maWx0ZXIoJ2FtU3RhcnRPZicsIFsnbW9tZW50JywgJ2FuZ3VsYXJNb21lbnRDb25maWcnLCBmdW5jdGlvbiAobW9tZW50LCBhbmd1bGFyTW9tZW50Q29uZmlnKSB7XHJcblx0XHRcdFx0ZnVuY3Rpb24gYW1TdGFydE9mRmlsdGVyKHZhbHVlLCB0eXBlKSB7XHJcblxyXG5cdFx0XHRcdFx0aWYgKGlzVW5kZWZpbmVkT3JOdWxsKHZhbHVlKSkge1xyXG5cdFx0XHRcdFx0XHRyZXR1cm4gJyc7XHJcblx0XHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdFx0cmV0dXJuIG1vbWVudCh2YWx1ZSkuc3RhcnRPZih0eXBlKTtcclxuXHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdGFtU3RhcnRPZkZpbHRlci4kc3RhdGVmdWwgPSBhbmd1bGFyTW9tZW50Q29uZmlnLnN0YXRlZnVsRmlsdGVycztcclxuXHJcblx0XHRcdFx0cmV0dXJuIGFtU3RhcnRPZkZpbHRlcjtcclxuXHRcdFx0fV0pXHJcblxyXG5cdFx0LyoqXHJcblx0XHQgKiBAbmdkb2MgZmlsdGVyXHJcblx0XHQgKiBAbmFtZSBhbmd1bGFyTW9tZW50LmZpbHRlcjphbUVuZE9mXHJcblx0XHQgKiBAbW9kdWxlIGFuZ3VsYXJNb21lbnRcclxuXHRcdCAqIEBmdW5jdGlvblxyXG5cdFx0ICovXHJcblx0XHRcdC5maWx0ZXIoJ2FtRW5kT2YnLCBbJ21vbWVudCcsICdhbmd1bGFyTW9tZW50Q29uZmlnJywgZnVuY3Rpb24gKG1vbWVudCwgYW5ndWxhck1vbWVudENvbmZpZykge1xyXG5cdFx0XHRcdGZ1bmN0aW9uIGFtRW5kT2ZGaWx0ZXIodmFsdWUsIHR5cGUpIHtcclxuXHJcblx0XHRcdFx0XHRpZiAoaXNVbmRlZmluZWRPck51bGwodmFsdWUpKSB7XHJcblx0XHRcdFx0XHRcdHJldHVybiAnJztcclxuXHRcdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0XHRyZXR1cm4gbW9tZW50KHZhbHVlKS5lbmRPZih0eXBlKTtcclxuXHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdGFtRW5kT2ZGaWx0ZXIuJHN0YXRlZnVsID0gYW5ndWxhck1vbWVudENvbmZpZy5zdGF0ZWZ1bEZpbHRlcnM7XHJcblxyXG5cdFx0XHRcdHJldHVybiBhbUVuZE9mRmlsdGVyO1xyXG4gXHRcdFx0fV0pO1xyXG5cclxuXHRcdHJldHVybiAnYW5ndWxhck1vbWVudCc7XHJcblx0fVxyXG5cclxuXHR2YXIgaXNFbGVjdHJvbiA9IHdpbmRvdyAmJiB3aW5kb3cucHJvY2VzcyAmJiB3aW5kb3cucHJvY2Vzcy50eXBlO1xyXG5cdGlmICh0eXBlb2YgZGVmaW5lID09PSAnZnVuY3Rpb24nICYmIGRlZmluZS5hbWQpIHtcclxuXHRcdGRlZmluZShbJ2FuZ3VsYXInLCAnbW9tZW50J10sIGFuZ3VsYXJNb21lbnQpO1xyXG5cdH0gZWxzZSBpZiAodHlwZW9mIG1vZHVsZSAhPT0gJ3VuZGVmaW5lZCcgJiYgbW9kdWxlICYmIG1vZHVsZS5leHBvcnRzICYmICh0eXBlb2YgcmVxdWlyZSA9PT0gJ2Z1bmN0aW9uJykgJiYgIWlzRWxlY3Ryb24pIHtcclxuXHRcdG1vZHVsZS5leHBvcnRzID0gYW5ndWxhck1vbWVudChyZXF1aXJlKCdhbmd1bGFyJyksIHJlcXVpcmUoJ21vbWVudCcpKTtcclxuXHR9IGVsc2Uge1xyXG5cdFx0YW5ndWxhck1vbWVudChhbmd1bGFyLCAodHlwZW9mIGdsb2JhbCAhPT0gJ3VuZGVmaW5lZCcgPyBnbG9iYWwgOiB3aW5kb3cpLm1vbWVudCk7XHJcblx0fVxyXG59KSgpO1xyXG4iLCIvKipcbiAqIEBsaWNlbnNlIEFuZ3VsYXJKUyB2MS42LjFcbiAqIChjKSAyMDEwLTIwMTYgR29vZ2xlLCBJbmMuIGh0dHA6Ly9hbmd1bGFyanMub3JnXG4gKiBMaWNlbnNlOiBNSVRcbiAqL1xuKGZ1bmN0aW9uKHdpbmRvdywgYW5ndWxhcikgeyd1c2Ugc3RyaWN0JztcblxuLyogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKlxuICogICAgIEFueSBjb21taXRzIHRvIHRoaXMgZmlsZSBzaG91bGQgYmUgcmV2aWV3ZWQgd2l0aCBzZWN1cml0eSBpbiBtaW5kLiAgKlxuICogICBDaGFuZ2VzIHRvIHRoaXMgZmlsZSBjYW4gcG90ZW50aWFsbHkgY3JlYXRlIHNlY3VyaXR5IHZ1bG5lcmFiaWxpdGllcy4gKlxuICogICAgICAgICAgQW4gYXBwcm92YWwgZnJvbSAyIENvcmUgbWVtYmVycyB3aXRoIGhpc3Rvcnkgb2YgbW9kaWZ5aW5nICAgICAgKlxuICogICAgICAgICAgICAgICAgICAgICAgICAgdGhpcyBmaWxlIGlzIHJlcXVpcmVkLiAgICAgICAgICAgICAgICAgICAgICAgICAgKlxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKlxuICogIERvZXMgdGhlIGNoYW5nZSBzb21laG93IGFsbG93IGZvciBhcmJpdHJhcnkgamF2YXNjcmlwdCB0byBiZSBleGVjdXRlZD8gKlxuICogICAgT3IgYWxsb3dzIGZvciBzb21lb25lIHRvIGNoYW5nZSB0aGUgcHJvdG90eXBlIG9mIGJ1aWx0LWluIG9iamVjdHM/ICAgKlxuICogICAgIE9yIGdpdmVzIHVuZGVzaXJlZCBhY2Nlc3MgdG8gdmFyaWFibGVzIGxpa2VzIGRvY3VtZW50IG9yIHdpbmRvdz8gICAgKlxuICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKi9cblxudmFyICRzYW5pdGl6ZU1pbkVyciA9IGFuZ3VsYXIuJCRtaW5FcnIoJyRzYW5pdGl6ZScpO1xudmFyIGJpbmQ7XG52YXIgZXh0ZW5kO1xudmFyIGZvckVhY2g7XG52YXIgaXNEZWZpbmVkO1xudmFyIGxvd2VyY2FzZTtcbnZhciBub29wO1xudmFyIGh0bWxQYXJzZXI7XG52YXIgaHRtbFNhbml0aXplV3JpdGVyO1xuXG4vKipcbiAqIEBuZ2RvYyBtb2R1bGVcbiAqIEBuYW1lIG5nU2FuaXRpemVcbiAqIEBkZXNjcmlwdGlvblxuICpcbiAqICMgbmdTYW5pdGl6ZVxuICpcbiAqIFRoZSBgbmdTYW5pdGl6ZWAgbW9kdWxlIHByb3ZpZGVzIGZ1bmN0aW9uYWxpdHkgdG8gc2FuaXRpemUgSFRNTC5cbiAqXG4gKlxuICogPGRpdiBkb2MtbW9kdWxlLWNvbXBvbmVudHM9XCJuZ1Nhbml0aXplXCI+PC9kaXY+XG4gKlxuICogU2VlIHtAbGluayBuZ1Nhbml0aXplLiRzYW5pdGl6ZSBgJHNhbml0aXplYH0gZm9yIHVzYWdlLlxuICovXG5cbi8qKlxuICogQG5nZG9jIHNlcnZpY2VcbiAqIEBuYW1lICRzYW5pdGl6ZVxuICogQGtpbmQgZnVuY3Rpb25cbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqICAgU2FuaXRpemVzIGFuIGh0bWwgc3RyaW5nIGJ5IHN0cmlwcGluZyBhbGwgcG90ZW50aWFsbHkgZGFuZ2Vyb3VzIHRva2Vucy5cbiAqXG4gKiAgIFRoZSBpbnB1dCBpcyBzYW5pdGl6ZWQgYnkgcGFyc2luZyB0aGUgSFRNTCBpbnRvIHRva2Vucy4gQWxsIHNhZmUgdG9rZW5zIChmcm9tIGEgd2hpdGVsaXN0KSBhcmVcbiAqICAgdGhlbiBzZXJpYWxpemVkIGJhY2sgdG8gcHJvcGVybHkgZXNjYXBlZCBodG1sIHN0cmluZy4gVGhpcyBtZWFucyB0aGF0IG5vIHVuc2FmZSBpbnB1dCBjYW4gbWFrZVxuICogICBpdCBpbnRvIHRoZSByZXR1cm5lZCBzdHJpbmcuXG4gKlxuICogICBUaGUgd2hpdGVsaXN0IGZvciBVUkwgc2FuaXRpemF0aW9uIG9mIGF0dHJpYnV0ZSB2YWx1ZXMgaXMgY29uZmlndXJlZCB1c2luZyB0aGUgZnVuY3Rpb25zXG4gKiAgIGBhSHJlZlNhbml0aXphdGlvbldoaXRlbGlzdGAgYW5kIGBpbWdTcmNTYW5pdGl6YXRpb25XaGl0ZWxpc3RgIG9mIHtAbGluayBuZy4kY29tcGlsZVByb3ZpZGVyXG4gKiAgIGAkY29tcGlsZVByb3ZpZGVyYH0uXG4gKlxuICogICBUaGUgaW5wdXQgbWF5IGFsc28gY29udGFpbiBTVkcgbWFya3VwIGlmIHRoaXMgaXMgZW5hYmxlZCB2aWEge0BsaW5rICRzYW5pdGl6ZVByb3ZpZGVyfS5cbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gaHRtbCBIVE1MIGlucHV0LlxuICogQHJldHVybnMge3N0cmluZ30gU2FuaXRpemVkIEhUTUwuXG4gKlxuICogQGV4YW1wbGVcbiAgIDxleGFtcGxlIG1vZHVsZT1cInNhbml0aXplRXhhbXBsZVwiIGRlcHM9XCJhbmd1bGFyLXNhbml0aXplLmpzXCIgbmFtZT1cInNhbml0aXplLXNlcnZpY2VcIj5cbiAgIDxmaWxlIG5hbWU9XCJpbmRleC5odG1sXCI+XG4gICAgIDxzY3JpcHQ+XG4gICAgICAgICBhbmd1bGFyLm1vZHVsZSgnc2FuaXRpemVFeGFtcGxlJywgWyduZ1Nhbml0aXplJ10pXG4gICAgICAgICAgIC5jb250cm9sbGVyKCdFeGFtcGxlQ29udHJvbGxlcicsIFsnJHNjb3BlJywgJyRzY2UnLCBmdW5jdGlvbigkc2NvcGUsICRzY2UpIHtcbiAgICAgICAgICAgICAkc2NvcGUuc25pcHBldCA9XG4gICAgICAgICAgICAgICAnPHAgc3R5bGU9XCJjb2xvcjpibHVlXCI+YW4gaHRtbFxcbicgK1xuICAgICAgICAgICAgICAgJzxlbSBvbm1vdXNlb3Zlcj1cInRoaXMudGV4dENvbnRlbnQ9XFwnUFdOM0QhXFwnXCI+Y2xpY2sgaGVyZTwvZW0+XFxuJyArXG4gICAgICAgICAgICAgICAnc25pcHBldDwvcD4nO1xuICAgICAgICAgICAgICRzY29wZS5kZWxpYmVyYXRlbHlUcnVzdERhbmdlcm91c1NuaXBwZXQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgIHJldHVybiAkc2NlLnRydXN0QXNIdG1sKCRzY29wZS5zbmlwcGV0KTtcbiAgICAgICAgICAgICB9O1xuICAgICAgICAgICB9XSk7XG4gICAgIDwvc2NyaXB0PlxuICAgICA8ZGl2IG5nLWNvbnRyb2xsZXI9XCJFeGFtcGxlQ29udHJvbGxlclwiPlxuICAgICAgICBTbmlwcGV0OiA8dGV4dGFyZWEgbmctbW9kZWw9XCJzbmlwcGV0XCIgY29scz1cIjYwXCIgcm93cz1cIjNcIj48L3RleHRhcmVhPlxuICAgICAgIDx0YWJsZT5cbiAgICAgICAgIDx0cj5cbiAgICAgICAgICAgPHRkPkRpcmVjdGl2ZTwvdGQ+XG4gICAgICAgICAgIDx0ZD5Ib3c8L3RkPlxuICAgICAgICAgICA8dGQ+U291cmNlPC90ZD5cbiAgICAgICAgICAgPHRkPlJlbmRlcmVkPC90ZD5cbiAgICAgICAgIDwvdHI+XG4gICAgICAgICA8dHIgaWQ9XCJiaW5kLWh0bWwtd2l0aC1zYW5pdGl6ZVwiPlxuICAgICAgICAgICA8dGQ+bmctYmluZC1odG1sPC90ZD5cbiAgICAgICAgICAgPHRkPkF1dG9tYXRpY2FsbHkgdXNlcyAkc2FuaXRpemU8L3RkPlxuICAgICAgICAgICA8dGQ+PHByZT4mbHQ7ZGl2IG5nLWJpbmQtaHRtbD1cInNuaXBwZXRcIiZndDs8YnIvPiZsdDsvZGl2Jmd0OzwvcHJlPjwvdGQ+XG4gICAgICAgICAgIDx0ZD48ZGl2IG5nLWJpbmQtaHRtbD1cInNuaXBwZXRcIj48L2Rpdj48L3RkPlxuICAgICAgICAgPC90cj5cbiAgICAgICAgIDx0ciBpZD1cImJpbmQtaHRtbC13aXRoLXRydXN0XCI+XG4gICAgICAgICAgIDx0ZD5uZy1iaW5kLWh0bWw8L3RkPlxuICAgICAgICAgICA8dGQ+QnlwYXNzICRzYW5pdGl6ZSBieSBleHBsaWNpdGx5IHRydXN0aW5nIHRoZSBkYW5nZXJvdXMgdmFsdWU8L3RkPlxuICAgICAgICAgICA8dGQ+XG4gICAgICAgICAgIDxwcmU+Jmx0O2RpdiBuZy1iaW5kLWh0bWw9XCJkZWxpYmVyYXRlbHlUcnVzdERhbmdlcm91c1NuaXBwZXQoKVwiJmd0O1xuJmx0Oy9kaXYmZ3Q7PC9wcmU+XG4gICAgICAgICAgIDwvdGQ+XG4gICAgICAgICAgIDx0ZD48ZGl2IG5nLWJpbmQtaHRtbD1cImRlbGliZXJhdGVseVRydXN0RGFuZ2Vyb3VzU25pcHBldCgpXCI+PC9kaXY+PC90ZD5cbiAgICAgICAgIDwvdHI+XG4gICAgICAgICA8dHIgaWQ9XCJiaW5kLWRlZmF1bHRcIj5cbiAgICAgICAgICAgPHRkPm5nLWJpbmQ8L3RkPlxuICAgICAgICAgICA8dGQ+QXV0b21hdGljYWxseSBlc2NhcGVzPC90ZD5cbiAgICAgICAgICAgPHRkPjxwcmU+Jmx0O2RpdiBuZy1iaW5kPVwic25pcHBldFwiJmd0Ozxici8+Jmx0Oy9kaXYmZ3Q7PC9wcmU+PC90ZD5cbiAgICAgICAgICAgPHRkPjxkaXYgbmctYmluZD1cInNuaXBwZXRcIj48L2Rpdj48L3RkPlxuICAgICAgICAgPC90cj5cbiAgICAgICA8L3RhYmxlPlxuICAgICAgIDwvZGl2PlxuICAgPC9maWxlPlxuICAgPGZpbGUgbmFtZT1cInByb3RyYWN0b3IuanNcIiB0eXBlPVwicHJvdHJhY3RvclwiPlxuICAgICBpdCgnc2hvdWxkIHNhbml0aXplIHRoZSBodG1sIHNuaXBwZXQgYnkgZGVmYXVsdCcsIGZ1bmN0aW9uKCkge1xuICAgICAgIGV4cGVjdChlbGVtZW50KGJ5LmNzcygnI2JpbmQtaHRtbC13aXRoLXNhbml0aXplIGRpdicpKS5nZXRBdHRyaWJ1dGUoJ2lubmVySFRNTCcpKS5cbiAgICAgICAgIHRvQmUoJzxwPmFuIGh0bWxcXG48ZW0+Y2xpY2sgaGVyZTwvZW0+XFxuc25pcHBldDwvcD4nKTtcbiAgICAgfSk7XG5cbiAgICAgaXQoJ3Nob3VsZCBpbmxpbmUgcmF3IHNuaXBwZXQgaWYgYm91bmQgdG8gYSB0cnVzdGVkIHZhbHVlJywgZnVuY3Rpb24oKSB7XG4gICAgICAgZXhwZWN0KGVsZW1lbnQoYnkuY3NzKCcjYmluZC1odG1sLXdpdGgtdHJ1c3QgZGl2JykpLmdldEF0dHJpYnV0ZSgnaW5uZXJIVE1MJykpLlxuICAgICAgICAgdG9CZShcIjxwIHN0eWxlPVxcXCJjb2xvcjpibHVlXFxcIj5hbiBodG1sXFxuXCIgK1xuICAgICAgICAgICAgICBcIjxlbSBvbm1vdXNlb3Zlcj1cXFwidGhpcy50ZXh0Q29udGVudD0nUFdOM0QhJ1xcXCI+Y2xpY2sgaGVyZTwvZW0+XFxuXCIgK1xuICAgICAgICAgICAgICBcInNuaXBwZXQ8L3A+XCIpO1xuICAgICB9KTtcblxuICAgICBpdCgnc2hvdWxkIGVzY2FwZSBzbmlwcGV0IHdpdGhvdXQgYW55IGZpbHRlcicsIGZ1bmN0aW9uKCkge1xuICAgICAgIGV4cGVjdChlbGVtZW50KGJ5LmNzcygnI2JpbmQtZGVmYXVsdCBkaXYnKSkuZ2V0QXR0cmlidXRlKCdpbm5lckhUTUwnKSkuXG4gICAgICAgICB0b0JlKFwiJmx0O3Agc3R5bGU9XFxcImNvbG9yOmJsdWVcXFwiJmd0O2FuIGh0bWxcXG5cIiArXG4gICAgICAgICAgICAgIFwiJmx0O2VtIG9ubW91c2VvdmVyPVxcXCJ0aGlzLnRleHRDb250ZW50PSdQV04zRCEnXFxcIiZndDtjbGljayBoZXJlJmx0Oy9lbSZndDtcXG5cIiArXG4gICAgICAgICAgICAgIFwic25pcHBldCZsdDsvcCZndDtcIik7XG4gICAgIH0pO1xuXG4gICAgIGl0KCdzaG91bGQgdXBkYXRlJywgZnVuY3Rpb24oKSB7XG4gICAgICAgZWxlbWVudChieS5tb2RlbCgnc25pcHBldCcpKS5jbGVhcigpO1xuICAgICAgIGVsZW1lbnQoYnkubW9kZWwoJ3NuaXBwZXQnKSkuc2VuZEtleXMoJ25ldyA8YiBvbmNsaWNrPVwiYWxlcnQoMSlcIj50ZXh0PC9iPicpO1xuICAgICAgIGV4cGVjdChlbGVtZW50KGJ5LmNzcygnI2JpbmQtaHRtbC13aXRoLXNhbml0aXplIGRpdicpKS5nZXRBdHRyaWJ1dGUoJ2lubmVySFRNTCcpKS5cbiAgICAgICAgIHRvQmUoJ25ldyA8Yj50ZXh0PC9iPicpO1xuICAgICAgIGV4cGVjdChlbGVtZW50KGJ5LmNzcygnI2JpbmQtaHRtbC13aXRoLXRydXN0IGRpdicpKS5nZXRBdHRyaWJ1dGUoJ2lubmVySFRNTCcpKS50b0JlKFxuICAgICAgICAgJ25ldyA8YiBvbmNsaWNrPVwiYWxlcnQoMSlcIj50ZXh0PC9iPicpO1xuICAgICAgIGV4cGVjdChlbGVtZW50KGJ5LmNzcygnI2JpbmQtZGVmYXVsdCBkaXYnKSkuZ2V0QXR0cmlidXRlKCdpbm5lckhUTUwnKSkudG9CZShcbiAgICAgICAgIFwibmV3ICZsdDtiIG9uY2xpY2s9XFxcImFsZXJ0KDEpXFxcIiZndDt0ZXh0Jmx0Oy9iJmd0O1wiKTtcbiAgICAgfSk7XG4gICA8L2ZpbGU+XG4gICA8L2V4YW1wbGU+XG4gKi9cblxuXG4vKipcbiAqIEBuZ2RvYyBwcm92aWRlclxuICogQG5hbWUgJHNhbml0aXplUHJvdmlkZXJcbiAqIEB0aGlzXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBDcmVhdGVzIGFuZCBjb25maWd1cmVzIHtAbGluayAkc2FuaXRpemV9IGluc3RhbmNlLlxuICovXG5mdW5jdGlvbiAkU2FuaXRpemVQcm92aWRlcigpIHtcbiAgdmFyIHN2Z0VuYWJsZWQgPSBmYWxzZTtcblxuICB0aGlzLiRnZXQgPSBbJyQkc2FuaXRpemVVcmknLCBmdW5jdGlvbigkJHNhbml0aXplVXJpKSB7XG4gICAgaWYgKHN2Z0VuYWJsZWQpIHtcbiAgICAgIGV4dGVuZCh2YWxpZEVsZW1lbnRzLCBzdmdFbGVtZW50cyk7XG4gICAgfVxuICAgIHJldHVybiBmdW5jdGlvbihodG1sKSB7XG4gICAgICB2YXIgYnVmID0gW107XG4gICAgICBodG1sUGFyc2VyKGh0bWwsIGh0bWxTYW5pdGl6ZVdyaXRlcihidWYsIGZ1bmN0aW9uKHVyaSwgaXNJbWFnZSkge1xuICAgICAgICByZXR1cm4gIS9edW5zYWZlOi8udGVzdCgkJHNhbml0aXplVXJpKHVyaSwgaXNJbWFnZSkpO1xuICAgICAgfSkpO1xuICAgICAgcmV0dXJuIGJ1Zi5qb2luKCcnKTtcbiAgICB9O1xuICB9XTtcblxuXG4gIC8qKlxuICAgKiBAbmdkb2MgbWV0aG9kXG4gICAqIEBuYW1lICRzYW5pdGl6ZVByb3ZpZGVyI2VuYWJsZVN2Z1xuICAgKiBAa2luZCBmdW5jdGlvblxuICAgKlxuICAgKiBAZGVzY3JpcHRpb25cbiAgICogRW5hYmxlcyBhIHN1YnNldCBvZiBzdmcgdG8gYmUgc3VwcG9ydGVkIGJ5IHRoZSBzYW5pdGl6ZXIuXG4gICAqXG4gICAqIDxkaXYgY2xhc3M9XCJhbGVydCBhbGVydC13YXJuaW5nXCI+XG4gICAqICAgPHA+QnkgZW5hYmxpbmcgdGhpcyBzZXR0aW5nIHdpdGhvdXQgdGFraW5nIG90aGVyIHByZWNhdXRpb25zLCB5b3UgbWlnaHQgZXhwb3NlIHlvdXJcbiAgICogICBhcHBsaWNhdGlvbiB0byBjbGljay1oaWphY2tpbmcgYXR0YWNrcy4gSW4gdGhlc2UgYXR0YWNrcywgc2FuaXRpemVkIHN2ZyBlbGVtZW50cyBjb3VsZCBiZSBwb3NpdGlvbmVkXG4gICAqICAgb3V0c2lkZSBvZiB0aGUgY29udGFpbmluZyBlbGVtZW50IGFuZCBiZSByZW5kZXJlZCBvdmVyIG90aGVyIGVsZW1lbnRzIG9uIHRoZSBwYWdlIChlLmcuIGEgbG9naW5cbiAgICogICBsaW5rKS4gU3VjaCBiZWhhdmlvciBjYW4gdGhlbiByZXN1bHQgaW4gcGhpc2hpbmcgaW5jaWRlbnRzLjwvcD5cbiAgICpcbiAgICogICA8cD5UbyBwcm90ZWN0IGFnYWluc3QgdGhlc2UsIGV4cGxpY2l0bHkgc2V0dXAgYG92ZXJmbG93OiBoaWRkZW5gIGNzcyBydWxlIGZvciBhbGwgcG90ZW50aWFsIHN2Z1xuICAgKiAgIHRhZ3Mgd2l0aGluIHRoZSBzYW5pdGl6ZWQgY29udGVudDo8L3A+XG4gICAqXG4gICAqICAgPGJyPlxuICAgKlxuICAgKiAgIDxwcmU+PGNvZGU+XG4gICAqICAgLnJvb3RPZlRoZUluY2x1ZGVkQ29udGVudCBzdmcge1xuICAgKiAgICAgb3ZlcmZsb3c6IGhpZGRlbiAhaW1wb3J0YW50O1xuICAgKiAgIH1cbiAgICogICA8L2NvZGU+PC9wcmU+XG4gICAqIDwvZGl2PlxuICAgKlxuICAgKiBAcGFyYW0ge2Jvb2xlYW49fSBmbGFnIEVuYWJsZSBvciBkaXNhYmxlIFNWRyBzdXBwb3J0IGluIHRoZSBzYW5pdGl6ZXIuXG4gICAqIEByZXR1cm5zIHtib29sZWFufG5nLiRzYW5pdGl6ZVByb3ZpZGVyfSBSZXR1cm5zIHRoZSBjdXJyZW50bHkgY29uZmlndXJlZCB2YWx1ZSBpZiBjYWxsZWRcbiAgICogICAgd2l0aG91dCBhbiBhcmd1bWVudCBvciBzZWxmIGZvciBjaGFpbmluZyBvdGhlcndpc2UuXG4gICAqL1xuICB0aGlzLmVuYWJsZVN2ZyA9IGZ1bmN0aW9uKGVuYWJsZVN2Zykge1xuICAgIGlmIChpc0RlZmluZWQoZW5hYmxlU3ZnKSkge1xuICAgICAgc3ZnRW5hYmxlZCA9IGVuYWJsZVN2ZztcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gc3ZnRW5hYmxlZDtcbiAgICB9XG4gIH07XG5cbiAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbiAgLy8gUHJpdmF0ZSBzdHVmZlxuICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuXG4gIGJpbmQgPSBhbmd1bGFyLmJpbmQ7XG4gIGV4dGVuZCA9IGFuZ3VsYXIuZXh0ZW5kO1xuICBmb3JFYWNoID0gYW5ndWxhci5mb3JFYWNoO1xuICBpc0RlZmluZWQgPSBhbmd1bGFyLmlzRGVmaW5lZDtcbiAgbG93ZXJjYXNlID0gYW5ndWxhci5sb3dlcmNhc2U7XG4gIG5vb3AgPSBhbmd1bGFyLm5vb3A7XG5cbiAgaHRtbFBhcnNlciA9IGh0bWxQYXJzZXJJbXBsO1xuICBodG1sU2FuaXRpemVXcml0ZXIgPSBodG1sU2FuaXRpemVXcml0ZXJJbXBsO1xuXG4gIC8vIFJlZ3VsYXIgRXhwcmVzc2lvbnMgZm9yIHBhcnNpbmcgdGFncyBhbmQgYXR0cmlidXRlc1xuICB2YXIgU1VSUk9HQVRFX1BBSVJfUkVHRVhQID0gL1tcXHVEODAwLVxcdURCRkZdW1xcdURDMDAtXFx1REZGRl0vZyxcbiAgICAvLyBNYXRjaCBldmVyeXRoaW5nIG91dHNpZGUgb2Ygbm9ybWFsIGNoYXJzIGFuZCBcIiAocXVvdGUgY2hhcmFjdGVyKVxuICAgIE5PTl9BTFBIQU5VTUVSSUNfUkVHRVhQID0gLyhbXiMtfiB8IV0pL2c7XG5cblxuICAvLyBHb29kIHNvdXJjZSBvZiBpbmZvIGFib3V0IGVsZW1lbnRzIGFuZCBhdHRyaWJ1dGVzXG4gIC8vIGh0dHA6Ly9kZXYudzMub3JnL2h0bWw1L3NwZWMvT3ZlcnZpZXcuaHRtbCNzZW1hbnRpY3NcbiAgLy8gaHR0cDovL3NpbW9uLmh0bWw1Lm9yZy9odG1sLWVsZW1lbnRzXG5cbiAgLy8gU2FmZSBWb2lkIEVsZW1lbnRzIC0gSFRNTDVcbiAgLy8gaHR0cDovL2Rldi53My5vcmcvaHRtbDUvc3BlYy9PdmVydmlldy5odG1sI3ZvaWQtZWxlbWVudHNcbiAgdmFyIHZvaWRFbGVtZW50cyA9IHRvTWFwKCdhcmVhLGJyLGNvbCxocixpbWcsd2JyJyk7XG5cbiAgLy8gRWxlbWVudHMgdGhhdCB5b3UgY2FuLCBpbnRlbnRpb25hbGx5LCBsZWF2ZSBvcGVuIChhbmQgd2hpY2ggY2xvc2UgdGhlbXNlbHZlcylcbiAgLy8gaHR0cDovL2Rldi53My5vcmcvaHRtbDUvc3BlYy9PdmVydmlldy5odG1sI29wdGlvbmFsLXRhZ3NcbiAgdmFyIG9wdGlvbmFsRW5kVGFnQmxvY2tFbGVtZW50cyA9IHRvTWFwKCdjb2xncm91cCxkZCxkdCxsaSxwLHRib2R5LHRkLHRmb290LHRoLHRoZWFkLHRyJyksXG4gICAgICBvcHRpb25hbEVuZFRhZ0lubGluZUVsZW1lbnRzID0gdG9NYXAoJ3JwLHJ0JyksXG4gICAgICBvcHRpb25hbEVuZFRhZ0VsZW1lbnRzID0gZXh0ZW5kKHt9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9wdGlvbmFsRW5kVGFnSW5saW5lRWxlbWVudHMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb3B0aW9uYWxFbmRUYWdCbG9ja0VsZW1lbnRzKTtcblxuICAvLyBTYWZlIEJsb2NrIEVsZW1lbnRzIC0gSFRNTDVcbiAgdmFyIGJsb2NrRWxlbWVudHMgPSBleHRlbmQoe30sIG9wdGlvbmFsRW5kVGFnQmxvY2tFbGVtZW50cywgdG9NYXAoJ2FkZHJlc3MsYXJ0aWNsZSwnICtcbiAgICAgICAgICAnYXNpZGUsYmxvY2txdW90ZSxjYXB0aW9uLGNlbnRlcixkZWwsZGlyLGRpdixkbCxmaWd1cmUsZmlnY2FwdGlvbixmb290ZXIsaDEsaDIsaDMsaDQsaDUsJyArXG4gICAgICAgICAgJ2g2LGhlYWRlcixoZ3JvdXAsaHIsaW5zLG1hcCxtZW51LG5hdixvbCxwcmUsc2VjdGlvbix0YWJsZSx1bCcpKTtcblxuICAvLyBJbmxpbmUgRWxlbWVudHMgLSBIVE1MNVxuICB2YXIgaW5saW5lRWxlbWVudHMgPSBleHRlbmQoe30sIG9wdGlvbmFsRW5kVGFnSW5saW5lRWxlbWVudHMsIHRvTWFwKCdhLGFiYnIsYWNyb255bSxiLCcgK1xuICAgICAgICAgICdiZGksYmRvLGJpZyxicixjaXRlLGNvZGUsZGVsLGRmbixlbSxmb250LGksaW1nLGlucyxrYmQsbGFiZWwsbWFwLG1hcmsscSxydWJ5LHJwLHJ0LHMsJyArXG4gICAgICAgICAgJ3NhbXAsc21hbGwsc3BhbixzdHJpa2Usc3Ryb25nLHN1YixzdXAsdGltZSx0dCx1LHZhcicpKTtcblxuICAvLyBTVkcgRWxlbWVudHNcbiAgLy8gaHR0cHM6Ly93aWtpLndoYXR3Zy5vcmcvd2lraS9TYW5pdGl6YXRpb25fcnVsZXMjc3ZnX0VsZW1lbnRzXG4gIC8vIE5vdGU6IHRoZSBlbGVtZW50cyBhbmltYXRlLGFuaW1hdGVDb2xvcixhbmltYXRlTW90aW9uLGFuaW1hdGVUcmFuc2Zvcm0sc2V0IGFyZSBpbnRlbnRpb25hbGx5IG9taXR0ZWQuXG4gIC8vIFRoZXkgY2FuIHBvdGVudGlhbGx5IGFsbG93IGZvciBhcmJpdHJhcnkgamF2YXNjcmlwdCB0byBiZSBleGVjdXRlZC4gU2VlICMxMTI5MFxuICB2YXIgc3ZnRWxlbWVudHMgPSB0b01hcCgnY2lyY2xlLGRlZnMsZGVzYyxlbGxpcHNlLGZvbnQtZmFjZSxmb250LWZhY2UtbmFtZSxmb250LWZhY2Utc3JjLGcsZ2x5cGgsJyArXG4gICAgICAgICAgJ2hrZXJuLGltYWdlLGxpbmVhckdyYWRpZW50LGxpbmUsbWFya2VyLG1ldGFkYXRhLG1pc3NpbmctZ2x5cGgsbXBhdGgscGF0aCxwb2x5Z29uLHBvbHlsaW5lLCcgK1xuICAgICAgICAgICdyYWRpYWxHcmFkaWVudCxyZWN0LHN0b3Asc3ZnLHN3aXRjaCx0ZXh0LHRpdGxlLHRzcGFuJyk7XG5cbiAgLy8gQmxvY2tlZCBFbGVtZW50cyAod2lsbCBiZSBzdHJpcHBlZClcbiAgdmFyIGJsb2NrZWRFbGVtZW50cyA9IHRvTWFwKCdzY3JpcHQsc3R5bGUnKTtcblxuICB2YXIgdmFsaWRFbGVtZW50cyA9IGV4dGVuZCh7fSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2b2lkRWxlbWVudHMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYmxvY2tFbGVtZW50cyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbmxpbmVFbGVtZW50cyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcHRpb25hbEVuZFRhZ0VsZW1lbnRzKTtcblxuICAvL0F0dHJpYnV0ZXMgdGhhdCBoYXZlIGhyZWYgYW5kIGhlbmNlIG5lZWQgdG8gYmUgc2FuaXRpemVkXG4gIHZhciB1cmlBdHRycyA9IHRvTWFwKCdiYWNrZ3JvdW5kLGNpdGUsaHJlZixsb25nZGVzYyxzcmMseGxpbms6aHJlZicpO1xuXG4gIHZhciBodG1sQXR0cnMgPSB0b01hcCgnYWJicixhbGlnbixhbHQsYXhpcyxiZ2NvbG9yLGJvcmRlcixjZWxscGFkZGluZyxjZWxsc3BhY2luZyxjbGFzcyxjbGVhciwnICtcbiAgICAgICdjb2xvcixjb2xzLGNvbHNwYW4sY29tcGFjdCxjb29yZHMsZGlyLGZhY2UsaGVhZGVycyxoZWlnaHQsaHJlZmxhbmcsaHNwYWNlLCcgK1xuICAgICAgJ2lzbWFwLGxhbmcsbGFuZ3VhZ2Usbm9ocmVmLG5vd3JhcCxyZWwscmV2LHJvd3Mscm93c3BhbixydWxlcywnICtcbiAgICAgICdzY29wZSxzY3JvbGxpbmcsc2hhcGUsc2l6ZSxzcGFuLHN0YXJ0LHN1bW1hcnksdGFiaW5kZXgsdGFyZ2V0LHRpdGxlLHR5cGUsJyArXG4gICAgICAndmFsaWduLHZhbHVlLHZzcGFjZSx3aWR0aCcpO1xuXG4gIC8vIFNWRyBhdHRyaWJ1dGVzICh3aXRob3V0IFwiaWRcIiBhbmQgXCJuYW1lXCIgYXR0cmlidXRlcylcbiAgLy8gaHR0cHM6Ly93aWtpLndoYXR3Zy5vcmcvd2lraS9TYW5pdGl6YXRpb25fcnVsZXMjc3ZnX0F0dHJpYnV0ZXNcbiAgdmFyIHN2Z0F0dHJzID0gdG9NYXAoJ2FjY2VudC1oZWlnaHQsYWNjdW11bGF0ZSxhZGRpdGl2ZSxhbHBoYWJldGljLGFyYWJpYy1mb3JtLGFzY2VudCwnICtcbiAgICAgICdiYXNlUHJvZmlsZSxiYm94LGJlZ2luLGJ5LGNhbGNNb2RlLGNhcC1oZWlnaHQsY2xhc3MsY29sb3IsY29sb3ItcmVuZGVyaW5nLGNvbnRlbnQsJyArXG4gICAgICAnY3gsY3ksZCxkeCxkeSxkZXNjZW50LGRpc3BsYXksZHVyLGVuZCxmaWxsLGZpbGwtcnVsZSxmb250LWZhbWlseSxmb250LXNpemUsZm9udC1zdHJldGNoLCcgK1xuICAgICAgJ2ZvbnQtc3R5bGUsZm9udC12YXJpYW50LGZvbnQtd2VpZ2h0LGZyb20sZngsZnksZzEsZzIsZ2x5cGgtbmFtZSxncmFkaWVudFVuaXRzLGhhbmdpbmcsJyArXG4gICAgICAnaGVpZ2h0LGhvcml6LWFkdi14LGhvcml6LW9yaWdpbi14LGlkZW9ncmFwaGljLGssa2V5UG9pbnRzLGtleVNwbGluZXMsa2V5VGltZXMsbGFuZywnICtcbiAgICAgICdtYXJrZXItZW5kLG1hcmtlci1taWQsbWFya2VyLXN0YXJ0LG1hcmtlckhlaWdodCxtYXJrZXJVbml0cyxtYXJrZXJXaWR0aCxtYXRoZW1hdGljYWwsJyArXG4gICAgICAnbWF4LG1pbixvZmZzZXQsb3BhY2l0eSxvcmllbnQsb3JpZ2luLG92ZXJsaW5lLXBvc2l0aW9uLG92ZXJsaW5lLXRoaWNrbmVzcyxwYW5vc2UtMSwnICtcbiAgICAgICdwYXRoLHBhdGhMZW5ndGgscG9pbnRzLHByZXNlcnZlQXNwZWN0UmF0aW8scixyZWZYLHJlZlkscmVwZWF0Q291bnQscmVwZWF0RHVyLCcgK1xuICAgICAgJ3JlcXVpcmVkRXh0ZW5zaW9ucyxyZXF1aXJlZEZlYXR1cmVzLHJlc3RhcnQscm90YXRlLHJ4LHJ5LHNsb3BlLHN0ZW1oLHN0ZW12LHN0b3AtY29sb3IsJyArXG4gICAgICAnc3RvcC1vcGFjaXR5LHN0cmlrZXRocm91Z2gtcG9zaXRpb24sc3RyaWtldGhyb3VnaC10aGlja25lc3Msc3Ryb2tlLHN0cm9rZS1kYXNoYXJyYXksJyArXG4gICAgICAnc3Ryb2tlLWRhc2hvZmZzZXQsc3Ryb2tlLWxpbmVjYXAsc3Ryb2tlLWxpbmVqb2luLHN0cm9rZS1taXRlcmxpbWl0LHN0cm9rZS1vcGFjaXR5LCcgK1xuICAgICAgJ3N0cm9rZS13aWR0aCxzeXN0ZW1MYW5ndWFnZSx0YXJnZXQsdGV4dC1hbmNob3IsdG8sdHJhbnNmb3JtLHR5cGUsdTEsdTIsdW5kZXJsaW5lLXBvc2l0aW9uLCcgK1xuICAgICAgJ3VuZGVybGluZS10aGlja25lc3MsdW5pY29kZSx1bmljb2RlLXJhbmdlLHVuaXRzLXBlci1lbSx2YWx1ZXMsdmVyc2lvbix2aWV3Qm94LHZpc2liaWxpdHksJyArXG4gICAgICAnd2lkdGgsd2lkdGhzLHgseC1oZWlnaHQseDEseDIseGxpbms6YWN0dWF0ZSx4bGluazphcmNyb2xlLHhsaW5rOnJvbGUseGxpbms6c2hvdyx4bGluazp0aXRsZSwnICtcbiAgICAgICd4bGluazp0eXBlLHhtbDpiYXNlLHhtbDpsYW5nLHhtbDpzcGFjZSx4bWxucyx4bWxuczp4bGluayx5LHkxLHkyLHpvb21BbmRQYW4nLCB0cnVlKTtcblxuICB2YXIgdmFsaWRBdHRycyA9IGV4dGVuZCh7fSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1cmlBdHRycyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdmdBdHRycyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBodG1sQXR0cnMpO1xuXG4gIGZ1bmN0aW9uIHRvTWFwKHN0ciwgbG93ZXJjYXNlS2V5cykge1xuICAgIHZhciBvYmogPSB7fSwgaXRlbXMgPSBzdHIuc3BsaXQoJywnKSwgaTtcbiAgICBmb3IgKGkgPSAwOyBpIDwgaXRlbXMubGVuZ3RoOyBpKyspIHtcbiAgICAgIG9ialtsb3dlcmNhc2VLZXlzID8gbG93ZXJjYXNlKGl0ZW1zW2ldKSA6IGl0ZW1zW2ldXSA9IHRydWU7XG4gICAgfVxuICAgIHJldHVybiBvYmo7XG4gIH1cblxuICB2YXIgaW5lcnRCb2R5RWxlbWVudDtcbiAgKGZ1bmN0aW9uKHdpbmRvdykge1xuICAgIHZhciBkb2M7XG4gICAgaWYgKHdpbmRvdy5kb2N1bWVudCAmJiB3aW5kb3cuZG9jdW1lbnQuaW1wbGVtZW50YXRpb24pIHtcbiAgICAgIGRvYyA9IHdpbmRvdy5kb2N1bWVudC5pbXBsZW1lbnRhdGlvbi5jcmVhdGVIVE1MRG9jdW1lbnQoJ2luZXJ0Jyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRocm93ICRzYW5pdGl6ZU1pbkVycignbm9pbmVydCcsICdDYW5cXCd0IGNyZWF0ZSBhbiBpbmVydCBodG1sIGRvY3VtZW50Jyk7XG4gICAgfVxuICAgIHZhciBkb2NFbGVtZW50ID0gZG9jLmRvY3VtZW50RWxlbWVudCB8fCBkb2MuZ2V0RG9jdW1lbnRFbGVtZW50KCk7XG4gICAgdmFyIGJvZHlFbGVtZW50cyA9IGRvY0VsZW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ2JvZHknKTtcblxuICAgIC8vIHVzdWFsbHkgdGhlcmUgc2hvdWxkIGJlIG9ubHkgb25lIGJvZHkgZWxlbWVudCBpbiB0aGUgZG9jdW1lbnQsIGJ1dCBJRSBkb2Vzbid0IGhhdmUgYW55LCBzbyB3ZSBuZWVkIHRvIGNyZWF0ZSBvbmVcbiAgICBpZiAoYm9keUVsZW1lbnRzLmxlbmd0aCA9PT0gMSkge1xuICAgICAgaW5lcnRCb2R5RWxlbWVudCA9IGJvZHlFbGVtZW50c1swXTtcbiAgICB9IGVsc2Uge1xuICAgICAgdmFyIGh0bWwgPSBkb2MuY3JlYXRlRWxlbWVudCgnaHRtbCcpO1xuICAgICAgaW5lcnRCb2R5RWxlbWVudCA9IGRvYy5jcmVhdGVFbGVtZW50KCdib2R5Jyk7XG4gICAgICBodG1sLmFwcGVuZENoaWxkKGluZXJ0Qm9keUVsZW1lbnQpO1xuICAgICAgZG9jLmFwcGVuZENoaWxkKGh0bWwpO1xuICAgIH1cbiAgfSkod2luZG93KTtcblxuICAvKipcbiAgICogQGV4YW1wbGVcbiAgICogaHRtbFBhcnNlcihodG1sU3RyaW5nLCB7XG4gICAqICAgICBzdGFydDogZnVuY3Rpb24odGFnLCBhdHRycykge30sXG4gICAqICAgICBlbmQ6IGZ1bmN0aW9uKHRhZykge30sXG4gICAqICAgICBjaGFyczogZnVuY3Rpb24odGV4dCkge30sXG4gICAqICAgICBjb21tZW50OiBmdW5jdGlvbih0ZXh0KSB7fVxuICAgKiB9KTtcbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IGh0bWwgc3RyaW5nXG4gICAqIEBwYXJhbSB7b2JqZWN0fSBoYW5kbGVyXG4gICAqL1xuICBmdW5jdGlvbiBodG1sUGFyc2VySW1wbChodG1sLCBoYW5kbGVyKSB7XG4gICAgaWYgKGh0bWwgPT09IG51bGwgfHwgaHRtbCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICBodG1sID0gJyc7XG4gICAgfSBlbHNlIGlmICh0eXBlb2YgaHRtbCAhPT0gJ3N0cmluZycpIHtcbiAgICAgIGh0bWwgPSAnJyArIGh0bWw7XG4gICAgfVxuICAgIGluZXJ0Qm9keUVsZW1lbnQuaW5uZXJIVE1MID0gaHRtbDtcblxuICAgIC8vbVhTUyBwcm90ZWN0aW9uXG4gICAgdmFyIG1YU1NBdHRlbXB0cyA9IDU7XG4gICAgZG8ge1xuICAgICAgaWYgKG1YU1NBdHRlbXB0cyA9PT0gMCkge1xuICAgICAgICB0aHJvdyAkc2FuaXRpemVNaW5FcnIoJ3VpbnB1dCcsICdGYWlsZWQgdG8gc2FuaXRpemUgaHRtbCBiZWNhdXNlIHRoZSBpbnB1dCBpcyB1bnN0YWJsZScpO1xuICAgICAgfVxuICAgICAgbVhTU0F0dGVtcHRzLS07XG5cbiAgICAgIC8vIHN0cmlwIGN1c3RvbS1uYW1lc3BhY2VkIGF0dHJpYnV0ZXMgb24gSUU8PTExXG4gICAgICBpZiAod2luZG93LmRvY3VtZW50LmRvY3VtZW50TW9kZSkge1xuICAgICAgICBzdHJpcEN1c3RvbU5zQXR0cnMoaW5lcnRCb2R5RWxlbWVudCk7XG4gICAgICB9XG4gICAgICBodG1sID0gaW5lcnRCb2R5RWxlbWVudC5pbm5lckhUTUw7IC8vdHJpZ2dlciBtWFNTXG4gICAgICBpbmVydEJvZHlFbGVtZW50LmlubmVySFRNTCA9IGh0bWw7XG4gICAgfSB3aGlsZSAoaHRtbCAhPT0gaW5lcnRCb2R5RWxlbWVudC5pbm5lckhUTUwpO1xuXG4gICAgdmFyIG5vZGUgPSBpbmVydEJvZHlFbGVtZW50LmZpcnN0Q2hpbGQ7XG4gICAgd2hpbGUgKG5vZGUpIHtcbiAgICAgIHN3aXRjaCAobm9kZS5ub2RlVHlwZSkge1xuICAgICAgICBjYXNlIDE6IC8vIEVMRU1FTlRfTk9ERVxuICAgICAgICAgIGhhbmRsZXIuc3RhcnQobm9kZS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpLCBhdHRyVG9NYXAobm9kZS5hdHRyaWJ1dGVzKSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgMzogLy8gVEVYVCBOT0RFXG4gICAgICAgICAgaGFuZGxlci5jaGFycyhub2RlLnRleHRDb250ZW50KTtcbiAgICAgICAgICBicmVhaztcbiAgICAgIH1cblxuICAgICAgdmFyIG5leHROb2RlO1xuICAgICAgaWYgKCEobmV4dE5vZGUgPSBub2RlLmZpcnN0Q2hpbGQpKSB7XG4gICAgICAgIGlmIChub2RlLm5vZGVUeXBlID09PSAxKSB7XG4gICAgICAgICAgaGFuZGxlci5lbmQobm9kZS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpKTtcbiAgICAgICAgfVxuICAgICAgICBuZXh0Tm9kZSA9IG5vZGUubmV4dFNpYmxpbmc7XG4gICAgICAgIGlmICghbmV4dE5vZGUpIHtcbiAgICAgICAgICB3aGlsZSAobmV4dE5vZGUgPT0gbnVsbCkge1xuICAgICAgICAgICAgbm9kZSA9IG5vZGUucGFyZW50Tm9kZTtcbiAgICAgICAgICAgIGlmIChub2RlID09PSBpbmVydEJvZHlFbGVtZW50KSBicmVhaztcbiAgICAgICAgICAgIG5leHROb2RlID0gbm9kZS5uZXh0U2libGluZztcbiAgICAgICAgICAgIGlmIChub2RlLm5vZGVUeXBlID09PSAxKSB7XG4gICAgICAgICAgICAgIGhhbmRsZXIuZW5kKG5vZGUubm9kZU5hbWUudG9Mb3dlckNhc2UoKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICBub2RlID0gbmV4dE5vZGU7XG4gICAgfVxuXG4gICAgd2hpbGUgKChub2RlID0gaW5lcnRCb2R5RWxlbWVudC5maXJzdENoaWxkKSkge1xuICAgICAgaW5lcnRCb2R5RWxlbWVudC5yZW1vdmVDaGlsZChub2RlKTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBhdHRyVG9NYXAoYXR0cnMpIHtcbiAgICB2YXIgbWFwID0ge307XG4gICAgZm9yICh2YXIgaSA9IDAsIGlpID0gYXR0cnMubGVuZ3RoOyBpIDwgaWk7IGkrKykge1xuICAgICAgdmFyIGF0dHIgPSBhdHRyc1tpXTtcbiAgICAgIG1hcFthdHRyLm5hbWVdID0gYXR0ci52YWx1ZTtcbiAgICB9XG4gICAgcmV0dXJuIG1hcDtcbiAgfVxuXG5cbiAgLyoqXG4gICAqIEVzY2FwZXMgYWxsIHBvdGVudGlhbGx5IGRhbmdlcm91cyBjaGFyYWN0ZXJzLCBzbyB0aGF0IHRoZVxuICAgKiByZXN1bHRpbmcgc3RyaW5nIGNhbiBiZSBzYWZlbHkgaW5zZXJ0ZWQgaW50byBhdHRyaWJ1dGUgb3JcbiAgICogZWxlbWVudCB0ZXh0LlxuICAgKiBAcGFyYW0gdmFsdWVcbiAgICogQHJldHVybnMge3N0cmluZ30gZXNjYXBlZCB0ZXh0XG4gICAqL1xuICBmdW5jdGlvbiBlbmNvZGVFbnRpdGllcyh2YWx1ZSkge1xuICAgIHJldHVybiB2YWx1ZS5cbiAgICAgIHJlcGxhY2UoLyYvZywgJyZhbXA7JykuXG4gICAgICByZXBsYWNlKFNVUlJPR0FURV9QQUlSX1JFR0VYUCwgZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgICAgdmFyIGhpID0gdmFsdWUuY2hhckNvZGVBdCgwKTtcbiAgICAgICAgdmFyIGxvdyA9IHZhbHVlLmNoYXJDb2RlQXQoMSk7XG4gICAgICAgIHJldHVybiAnJiMnICsgKCgoaGkgLSAweEQ4MDApICogMHg0MDApICsgKGxvdyAtIDB4REMwMCkgKyAweDEwMDAwKSArICc7JztcbiAgICAgIH0pLlxuICAgICAgcmVwbGFjZShOT05fQUxQSEFOVU1FUklDX1JFR0VYUCwgZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgICAgcmV0dXJuICcmIycgKyB2YWx1ZS5jaGFyQ29kZUF0KDApICsgJzsnO1xuICAgICAgfSkuXG4gICAgICByZXBsYWNlKC88L2csICcmbHQ7JykuXG4gICAgICByZXBsYWNlKC8+L2csICcmZ3Q7Jyk7XG4gIH1cblxuICAvKipcbiAgICogY3JlYXRlIGFuIEhUTUwvWE1MIHdyaXRlciB3aGljaCB3cml0ZXMgdG8gYnVmZmVyXG4gICAqIEBwYXJhbSB7QXJyYXl9IGJ1ZiB1c2UgYnVmLmpvaW4oJycpIHRvIGdldCBvdXQgc2FuaXRpemVkIGh0bWwgc3RyaW5nXG4gICAqIEByZXR1cm5zIHtvYmplY3R9IGluIHRoZSBmb3JtIG9mIHtcbiAgICogICAgIHN0YXJ0OiBmdW5jdGlvbih0YWcsIGF0dHJzKSB7fSxcbiAgICogICAgIGVuZDogZnVuY3Rpb24odGFnKSB7fSxcbiAgICogICAgIGNoYXJzOiBmdW5jdGlvbih0ZXh0KSB7fSxcbiAgICogICAgIGNvbW1lbnQ6IGZ1bmN0aW9uKHRleHQpIHt9XG4gICAqIH1cbiAgICovXG4gIGZ1bmN0aW9uIGh0bWxTYW5pdGl6ZVdyaXRlckltcGwoYnVmLCB1cmlWYWxpZGF0b3IpIHtcbiAgICB2YXIgaWdub3JlQ3VycmVudEVsZW1lbnQgPSBmYWxzZTtcbiAgICB2YXIgb3V0ID0gYmluZChidWYsIGJ1Zi5wdXNoKTtcbiAgICByZXR1cm4ge1xuICAgICAgc3RhcnQ6IGZ1bmN0aW9uKHRhZywgYXR0cnMpIHtcbiAgICAgICAgdGFnID0gbG93ZXJjYXNlKHRhZyk7XG4gICAgICAgIGlmICghaWdub3JlQ3VycmVudEVsZW1lbnQgJiYgYmxvY2tlZEVsZW1lbnRzW3RhZ10pIHtcbiAgICAgICAgICBpZ25vcmVDdXJyZW50RWxlbWVudCA9IHRhZztcbiAgICAgICAgfVxuICAgICAgICBpZiAoIWlnbm9yZUN1cnJlbnRFbGVtZW50ICYmIHZhbGlkRWxlbWVudHNbdGFnXSA9PT0gdHJ1ZSkge1xuICAgICAgICAgIG91dCgnPCcpO1xuICAgICAgICAgIG91dCh0YWcpO1xuICAgICAgICAgIGZvckVhY2goYXR0cnMsIGZ1bmN0aW9uKHZhbHVlLCBrZXkpIHtcbiAgICAgICAgICAgIHZhciBsa2V5ID0gbG93ZXJjYXNlKGtleSk7XG4gICAgICAgICAgICB2YXIgaXNJbWFnZSA9ICh0YWcgPT09ICdpbWcnICYmIGxrZXkgPT09ICdzcmMnKSB8fCAobGtleSA9PT0gJ2JhY2tncm91bmQnKTtcbiAgICAgICAgICAgIGlmICh2YWxpZEF0dHJzW2xrZXldID09PSB0cnVlICYmXG4gICAgICAgICAgICAgICh1cmlBdHRyc1tsa2V5XSAhPT0gdHJ1ZSB8fCB1cmlWYWxpZGF0b3IodmFsdWUsIGlzSW1hZ2UpKSkge1xuICAgICAgICAgICAgICBvdXQoJyAnKTtcbiAgICAgICAgICAgICAgb3V0KGtleSk7XG4gICAgICAgICAgICAgIG91dCgnPVwiJyk7XG4gICAgICAgICAgICAgIG91dChlbmNvZGVFbnRpdGllcyh2YWx1ZSkpO1xuICAgICAgICAgICAgICBvdXQoJ1wiJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgb3V0KCc+Jyk7XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICBlbmQ6IGZ1bmN0aW9uKHRhZykge1xuICAgICAgICB0YWcgPSBsb3dlcmNhc2UodGFnKTtcbiAgICAgICAgaWYgKCFpZ25vcmVDdXJyZW50RWxlbWVudCAmJiB2YWxpZEVsZW1lbnRzW3RhZ10gPT09IHRydWUgJiYgdm9pZEVsZW1lbnRzW3RhZ10gIT09IHRydWUpIHtcbiAgICAgICAgICBvdXQoJzwvJyk7XG4gICAgICAgICAgb3V0KHRhZyk7XG4gICAgICAgICAgb3V0KCc+Jyk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGVxZXFlcVxuICAgICAgICBpZiAodGFnID09IGlnbm9yZUN1cnJlbnRFbGVtZW50KSB7XG4gICAgICAgICAgaWdub3JlQ3VycmVudEVsZW1lbnQgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIGNoYXJzOiBmdW5jdGlvbihjaGFycykge1xuICAgICAgICBpZiAoIWlnbm9yZUN1cnJlbnRFbGVtZW50KSB7XG4gICAgICAgICAgb3V0KGVuY29kZUVudGl0aWVzKGNoYXJzKSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9O1xuICB9XG5cblxuICAvKipcbiAgICogV2hlbiBJRTktMTEgY29tZXMgYWNyb3NzIGFuIHVua25vd24gbmFtZXNwYWNlZCBhdHRyaWJ1dGUgZS5nLiAneGxpbms6Zm9vJyBpdCBhZGRzICd4bWxuczpuczEnIGF0dHJpYnV0ZSB0byBkZWNsYXJlXG4gICAqIG5zMSBuYW1lc3BhY2UgYW5kIHByZWZpeGVzIHRoZSBhdHRyaWJ1dGUgd2l0aCAnbnMxJyAoZS5nLiAnbnMxOnhsaW5rOmZvbycpLiBUaGlzIGlzIHVuZGVzaXJhYmxlIHNpbmNlIHdlIGRvbid0IHdhbnRcbiAgICogdG8gYWxsb3cgYW55IG9mIHRoZXNlIGN1c3RvbSBhdHRyaWJ1dGVzLiBUaGlzIG1ldGhvZCBzdHJpcHMgdGhlbSBhbGwuXG4gICAqXG4gICAqIEBwYXJhbSBub2RlIFJvb3QgZWxlbWVudCB0byBwcm9jZXNzXG4gICAqL1xuICBmdW5jdGlvbiBzdHJpcEN1c3RvbU5zQXR0cnMobm9kZSkge1xuICAgIHdoaWxlIChub2RlKSB7XG4gICAgICBpZiAobm9kZS5ub2RlVHlwZSA9PT0gd2luZG93Lk5vZGUuRUxFTUVOVF9OT0RFKSB7XG4gICAgICAgIHZhciBhdHRycyA9IG5vZGUuYXR0cmlidXRlcztcbiAgICAgICAgZm9yICh2YXIgaSA9IDAsIGwgPSBhdHRycy5sZW5ndGg7IGkgPCBsOyBpKyspIHtcbiAgICAgICAgICB2YXIgYXR0ck5vZGUgPSBhdHRyc1tpXTtcbiAgICAgICAgICB2YXIgYXR0ck5hbWUgPSBhdHRyTm9kZS5uYW1lLnRvTG93ZXJDYXNlKCk7XG4gICAgICAgICAgaWYgKGF0dHJOYW1lID09PSAneG1sbnM6bnMxJyB8fCBhdHRyTmFtZS5sYXN0SW5kZXhPZignbnMxOicsIDApID09PSAwKSB7XG4gICAgICAgICAgICBub2RlLnJlbW92ZUF0dHJpYnV0ZU5vZGUoYXR0ck5vZGUpO1xuICAgICAgICAgICAgaS0tO1xuICAgICAgICAgICAgbC0tO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICB2YXIgbmV4dE5vZGUgPSBub2RlLmZpcnN0Q2hpbGQ7XG4gICAgICBpZiAobmV4dE5vZGUpIHtcbiAgICAgICAgc3RyaXBDdXN0b21Oc0F0dHJzKG5leHROb2RlKTtcbiAgICAgIH1cblxuICAgICAgbm9kZSA9IG5vZGUubmV4dFNpYmxpbmc7XG4gICAgfVxuICB9XG59XG5cbmZ1bmN0aW9uIHNhbml0aXplVGV4dChjaGFycykge1xuICB2YXIgYnVmID0gW107XG4gIHZhciB3cml0ZXIgPSBodG1sU2FuaXRpemVXcml0ZXIoYnVmLCBub29wKTtcbiAgd3JpdGVyLmNoYXJzKGNoYXJzKTtcbiAgcmV0dXJuIGJ1Zi5qb2luKCcnKTtcbn1cblxuXG4vLyBkZWZpbmUgbmdTYW5pdGl6ZSBtb2R1bGUgYW5kIHJlZ2lzdGVyICRzYW5pdGl6ZSBzZXJ2aWNlXG5hbmd1bGFyLm1vZHVsZSgnbmdTYW5pdGl6ZScsIFtdKS5wcm92aWRlcignJHNhbml0aXplJywgJFNhbml0aXplUHJvdmlkZXIpO1xuXG4vKipcbiAqIEBuZ2RvYyBmaWx0ZXJcbiAqIEBuYW1lIGxpbmt5XG4gKiBAa2luZCBmdW5jdGlvblxuICpcbiAqIEBkZXNjcmlwdGlvblxuICogRmluZHMgbGlua3MgaW4gdGV4dCBpbnB1dCBhbmQgdHVybnMgdGhlbSBpbnRvIGh0bWwgbGlua3MuIFN1cHBvcnRzIGBodHRwL2h0dHBzL2Z0cC9tYWlsdG9gIGFuZFxuICogcGxhaW4gZW1haWwgYWRkcmVzcyBsaW5rcy5cbiAqXG4gKiBSZXF1aXJlcyB0aGUge0BsaW5rIG5nU2FuaXRpemUgYG5nU2FuaXRpemVgfSBtb2R1bGUgdG8gYmUgaW5zdGFsbGVkLlxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSB0ZXh0IElucHV0IHRleHQuXG4gKiBAcGFyYW0ge3N0cmluZ30gdGFyZ2V0IFdpbmRvdyAoYF9ibGFua3xfc2VsZnxfcGFyZW50fF90b3BgKSBvciBuYW1lZCBmcmFtZSB0byBvcGVuIGxpbmtzIGluLlxuICogQHBhcmFtIHtvYmplY3R8ZnVuY3Rpb24odXJsKX0gW2F0dHJpYnV0ZXNdIEFkZCBjdXN0b20gYXR0cmlidXRlcyB0byB0aGUgbGluayBlbGVtZW50LlxuICpcbiAqICAgIENhbiBiZSBvbmUgb2Y6XG4gKlxuICogICAgLSBgb2JqZWN0YDogQSBtYXAgb2YgYXR0cmlidXRlc1xuICogICAgLSBgZnVuY3Rpb25gOiBUYWtlcyB0aGUgdXJsIGFzIGEgcGFyYW1ldGVyIGFuZCByZXR1cm5zIGEgbWFwIG9mIGF0dHJpYnV0ZXNcbiAqXG4gKiAgICBJZiB0aGUgbWFwIG9mIGF0dHJpYnV0ZXMgY29udGFpbnMgYSB2YWx1ZSBmb3IgYHRhcmdldGAsIGl0IG92ZXJyaWRlcyB0aGUgdmFsdWUgb2ZcbiAqICAgIHRoZSB0YXJnZXQgcGFyYW1ldGVyLlxuICpcbiAqXG4gKiBAcmV0dXJucyB7c3RyaW5nfSBIdG1sLWxpbmtpZmllZCBhbmQge0BsaW5rICRzYW5pdGl6ZSBzYW5pdGl6ZWR9IHRleHQuXG4gKlxuICogQHVzYWdlXG4gICA8c3BhbiBuZy1iaW5kLWh0bWw9XCJsaW5reV9leHByZXNzaW9uIHwgbGlua3lcIj48L3NwYW4+XG4gKlxuICogQGV4YW1wbGVcbiAgIDxleGFtcGxlIG1vZHVsZT1cImxpbmt5RXhhbXBsZVwiIGRlcHM9XCJhbmd1bGFyLXNhbml0aXplLmpzXCIgbmFtZT1cImxpbmt5LWZpbHRlclwiPlxuICAgICA8ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxuICAgICAgIDxkaXYgbmctY29udHJvbGxlcj1cIkV4YW1wbGVDb250cm9sbGVyXCI+XG4gICAgICAgU25pcHBldDogPHRleHRhcmVhIG5nLW1vZGVsPVwic25pcHBldFwiIGNvbHM9XCI2MFwiIHJvd3M9XCIzXCI+PC90ZXh0YXJlYT5cbiAgICAgICA8dGFibGU+XG4gICAgICAgICA8dHI+XG4gICAgICAgICAgIDx0aD5GaWx0ZXI8L3RoPlxuICAgICAgICAgICA8dGg+U291cmNlPC90aD5cbiAgICAgICAgICAgPHRoPlJlbmRlcmVkPC90aD5cbiAgICAgICAgIDwvdHI+XG4gICAgICAgICA8dHIgaWQ9XCJsaW5reS1maWx0ZXJcIj5cbiAgICAgICAgICAgPHRkPmxpbmt5IGZpbHRlcjwvdGQ+XG4gICAgICAgICAgIDx0ZD5cbiAgICAgICAgICAgICA8cHJlPiZsdDtkaXYgbmctYmluZC1odG1sPVwic25pcHBldCB8IGxpbmt5XCImZ3Q7PGJyPiZsdDsvZGl2Jmd0OzwvcHJlPlxuICAgICAgICAgICA8L3RkPlxuICAgICAgICAgICA8dGQ+XG4gICAgICAgICAgICAgPGRpdiBuZy1iaW5kLWh0bWw9XCJzbmlwcGV0IHwgbGlua3lcIj48L2Rpdj5cbiAgICAgICAgICAgPC90ZD5cbiAgICAgICAgIDwvdHI+XG4gICAgICAgICA8dHIgaWQ9XCJsaW5reS10YXJnZXRcIj5cbiAgICAgICAgICA8dGQ+bGlua3kgdGFyZ2V0PC90ZD5cbiAgICAgICAgICA8dGQ+XG4gICAgICAgICAgICA8cHJlPiZsdDtkaXYgbmctYmluZC1odG1sPVwic25pcHBldFdpdGhTaW5nbGVVUkwgfCBsaW5reTonX2JsYW5rJ1wiJmd0Ozxicj4mbHQ7L2RpdiZndDs8L3ByZT5cbiAgICAgICAgICA8L3RkPlxuICAgICAgICAgIDx0ZD5cbiAgICAgICAgICAgIDxkaXYgbmctYmluZC1odG1sPVwic25pcHBldFdpdGhTaW5nbGVVUkwgfCBsaW5reTonX2JsYW5rJ1wiPjwvZGl2PlxuICAgICAgICAgIDwvdGQ+XG4gICAgICAgICA8L3RyPlxuICAgICAgICAgPHRyIGlkPVwibGlua3ktY3VzdG9tLWF0dHJpYnV0ZXNcIj5cbiAgICAgICAgICA8dGQ+bGlua3kgY3VzdG9tIGF0dHJpYnV0ZXM8L3RkPlxuICAgICAgICAgIDx0ZD5cbiAgICAgICAgICAgIDxwcmU+Jmx0O2RpdiBuZy1iaW5kLWh0bWw9XCJzbmlwcGV0V2l0aFNpbmdsZVVSTCB8IGxpbmt5Oidfc2VsZic6e3JlbDogJ25vZm9sbG93J31cIiZndDs8YnI+Jmx0Oy9kaXYmZ3Q7PC9wcmU+XG4gICAgICAgICAgPC90ZD5cbiAgICAgICAgICA8dGQ+XG4gICAgICAgICAgICA8ZGl2IG5nLWJpbmQtaHRtbD1cInNuaXBwZXRXaXRoU2luZ2xlVVJMIHwgbGlua3k6J19zZWxmJzp7cmVsOiAnbm9mb2xsb3cnfVwiPjwvZGl2PlxuICAgICAgICAgIDwvdGQ+XG4gICAgICAgICA8L3RyPlxuICAgICAgICAgPHRyIGlkPVwiZXNjYXBlZC1odG1sXCI+XG4gICAgICAgICAgIDx0ZD5ubyBmaWx0ZXI8L3RkPlxuICAgICAgICAgICA8dGQ+PHByZT4mbHQ7ZGl2IG5nLWJpbmQ9XCJzbmlwcGV0XCImZ3Q7PGJyPiZsdDsvZGl2Jmd0OzwvcHJlPjwvdGQ+XG4gICAgICAgICAgIDx0ZD48ZGl2IG5nLWJpbmQ9XCJzbmlwcGV0XCI+PC9kaXY+PC90ZD5cbiAgICAgICAgIDwvdHI+XG4gICAgICAgPC90YWJsZT5cbiAgICAgPC9maWxlPlxuICAgICA8ZmlsZSBuYW1lPVwic2NyaXB0LmpzXCI+XG4gICAgICAgYW5ndWxhci5tb2R1bGUoJ2xpbmt5RXhhbXBsZScsIFsnbmdTYW5pdGl6ZSddKVxuICAgICAgICAgLmNvbnRyb2xsZXIoJ0V4YW1wbGVDb250cm9sbGVyJywgWyckc2NvcGUnLCBmdW5jdGlvbigkc2NvcGUpIHtcbiAgICAgICAgICAgJHNjb3BlLnNuaXBwZXQgPVxuICAgICAgICAgICAgICdQcmV0dHkgdGV4dCB3aXRoIHNvbWUgbGlua3M6XFxuJyArXG4gICAgICAgICAgICAgJ2h0dHA6Ly9hbmd1bGFyanMub3JnLyxcXG4nICtcbiAgICAgICAgICAgICAnbWFpbHRvOnVzQHNvbWV3aGVyZS5vcmcsXFxuJyArXG4gICAgICAgICAgICAgJ2Fub3RoZXJAc29tZXdoZXJlLm9yZyxcXG4nICtcbiAgICAgICAgICAgICAnYW5kIG9uZSBtb3JlOiBmdHA6Ly8xMjcuMC4wLjEvLic7XG4gICAgICAgICAgICRzY29wZS5zbmlwcGV0V2l0aFNpbmdsZVVSTCA9ICdodHRwOi8vYW5ndWxhcmpzLm9yZy8nO1xuICAgICAgICAgfV0pO1xuICAgICA8L2ZpbGU+XG4gICAgIDxmaWxlIG5hbWU9XCJwcm90cmFjdG9yLmpzXCIgdHlwZT1cInByb3RyYWN0b3JcIj5cbiAgICAgICBpdCgnc2hvdWxkIGxpbmtpZnkgdGhlIHNuaXBwZXQgd2l0aCB1cmxzJywgZnVuY3Rpb24oKSB7XG4gICAgICAgICBleHBlY3QoZWxlbWVudChieS5pZCgnbGlua3ktZmlsdGVyJykpLmVsZW1lbnQoYnkuYmluZGluZygnc25pcHBldCB8IGxpbmt5JykpLmdldFRleHQoKSkuXG4gICAgICAgICAgICAgdG9CZSgnUHJldHR5IHRleHQgd2l0aCBzb21lIGxpbmtzOiBodHRwOi8vYW5ndWxhcmpzLm9yZy8sIHVzQHNvbWV3aGVyZS5vcmcsICcgK1xuICAgICAgICAgICAgICAgICAgJ2Fub3RoZXJAc29tZXdoZXJlLm9yZywgYW5kIG9uZSBtb3JlOiBmdHA6Ly8xMjcuMC4wLjEvLicpO1xuICAgICAgICAgZXhwZWN0KGVsZW1lbnQuYWxsKGJ5LmNzcygnI2xpbmt5LWZpbHRlciBhJykpLmNvdW50KCkpLnRvRXF1YWwoNCk7XG4gICAgICAgfSk7XG5cbiAgICAgICBpdCgnc2hvdWxkIG5vdCBsaW5raWZ5IHNuaXBwZXQgd2l0aG91dCB0aGUgbGlua3kgZmlsdGVyJywgZnVuY3Rpb24oKSB7XG4gICAgICAgICBleHBlY3QoZWxlbWVudChieS5pZCgnZXNjYXBlZC1odG1sJykpLmVsZW1lbnQoYnkuYmluZGluZygnc25pcHBldCcpKS5nZXRUZXh0KCkpLlxuICAgICAgICAgICAgIHRvQmUoJ1ByZXR0eSB0ZXh0IHdpdGggc29tZSBsaW5rczogaHR0cDovL2FuZ3VsYXJqcy5vcmcvLCBtYWlsdG86dXNAc29tZXdoZXJlLm9yZywgJyArXG4gICAgICAgICAgICAgICAgICAnYW5vdGhlckBzb21ld2hlcmUub3JnLCBhbmQgb25lIG1vcmU6IGZ0cDovLzEyNy4wLjAuMS8uJyk7XG4gICAgICAgICBleHBlY3QoZWxlbWVudC5hbGwoYnkuY3NzKCcjZXNjYXBlZC1odG1sIGEnKSkuY291bnQoKSkudG9FcXVhbCgwKTtcbiAgICAgICB9KTtcblxuICAgICAgIGl0KCdzaG91bGQgdXBkYXRlJywgZnVuY3Rpb24oKSB7XG4gICAgICAgICBlbGVtZW50KGJ5Lm1vZGVsKCdzbmlwcGV0JykpLmNsZWFyKCk7XG4gICAgICAgICBlbGVtZW50KGJ5Lm1vZGVsKCdzbmlwcGV0JykpLnNlbmRLZXlzKCduZXcgaHR0cDovL2xpbmsuJyk7XG4gICAgICAgICBleHBlY3QoZWxlbWVudChieS5pZCgnbGlua3ktZmlsdGVyJykpLmVsZW1lbnQoYnkuYmluZGluZygnc25pcHBldCB8IGxpbmt5JykpLmdldFRleHQoKSkuXG4gICAgICAgICAgICAgdG9CZSgnbmV3IGh0dHA6Ly9saW5rLicpO1xuICAgICAgICAgZXhwZWN0KGVsZW1lbnQuYWxsKGJ5LmNzcygnI2xpbmt5LWZpbHRlciBhJykpLmNvdW50KCkpLnRvRXF1YWwoMSk7XG4gICAgICAgICBleHBlY3QoZWxlbWVudChieS5pZCgnZXNjYXBlZC1odG1sJykpLmVsZW1lbnQoYnkuYmluZGluZygnc25pcHBldCcpKS5nZXRUZXh0KCkpXG4gICAgICAgICAgICAgLnRvQmUoJ25ldyBodHRwOi8vbGluay4nKTtcbiAgICAgICB9KTtcblxuICAgICAgIGl0KCdzaG91bGQgd29yayB3aXRoIHRoZSB0YXJnZXQgcHJvcGVydHknLCBmdW5jdGlvbigpIHtcbiAgICAgICAgZXhwZWN0KGVsZW1lbnQoYnkuaWQoJ2xpbmt5LXRhcmdldCcpKS5cbiAgICAgICAgICAgIGVsZW1lbnQoYnkuYmluZGluZyhcInNuaXBwZXRXaXRoU2luZ2xlVVJMIHwgbGlua3k6J19ibGFuaydcIikpLmdldFRleHQoKSkuXG4gICAgICAgICAgICB0b0JlKCdodHRwOi8vYW5ndWxhcmpzLm9yZy8nKTtcbiAgICAgICAgZXhwZWN0KGVsZW1lbnQoYnkuY3NzKCcjbGlua3ktdGFyZ2V0IGEnKSkuZ2V0QXR0cmlidXRlKCd0YXJnZXQnKSkudG9FcXVhbCgnX2JsYW5rJyk7XG4gICAgICAgfSk7XG5cbiAgICAgICBpdCgnc2hvdWxkIG9wdGlvbmFsbHkgYWRkIGN1c3RvbSBhdHRyaWJ1dGVzJywgZnVuY3Rpb24oKSB7XG4gICAgICAgIGV4cGVjdChlbGVtZW50KGJ5LmlkKCdsaW5reS1jdXN0b20tYXR0cmlidXRlcycpKS5cbiAgICAgICAgICAgIGVsZW1lbnQoYnkuYmluZGluZyhcInNuaXBwZXRXaXRoU2luZ2xlVVJMIHwgbGlua3k6J19zZWxmJzp7cmVsOiAnbm9mb2xsb3cnfVwiKSkuZ2V0VGV4dCgpKS5cbiAgICAgICAgICAgIHRvQmUoJ2h0dHA6Ly9hbmd1bGFyanMub3JnLycpO1xuICAgICAgICBleHBlY3QoZWxlbWVudChieS5jc3MoJyNsaW5reS1jdXN0b20tYXR0cmlidXRlcyBhJykpLmdldEF0dHJpYnV0ZSgncmVsJykpLnRvRXF1YWwoJ25vZm9sbG93Jyk7XG4gICAgICAgfSk7XG4gICAgIDwvZmlsZT5cbiAgIDwvZXhhbXBsZT5cbiAqL1xuYW5ndWxhci5tb2R1bGUoJ25nU2FuaXRpemUnKS5maWx0ZXIoJ2xpbmt5JywgWyckc2FuaXRpemUnLCBmdW5jdGlvbigkc2FuaXRpemUpIHtcbiAgdmFyIExJTktZX1VSTF9SRUdFWFAgPVxuICAgICAgICAvKChmdHB8aHR0cHM/KTpcXC9cXC98KHd3d1xcLil8KG1haWx0bzopP1tBLVphLXowLTkuXyUrLV0rQClcXFMqW15cXHMuOywoKXt9PD5cIlxcdTIwMWRcXHUyMDE5XS9pLFxuICAgICAgTUFJTFRPX1JFR0VYUCA9IC9ebWFpbHRvOi9pO1xuXG4gIHZhciBsaW5reU1pbkVyciA9IGFuZ3VsYXIuJCRtaW5FcnIoJ2xpbmt5Jyk7XG4gIHZhciBpc0RlZmluZWQgPSBhbmd1bGFyLmlzRGVmaW5lZDtcbiAgdmFyIGlzRnVuY3Rpb24gPSBhbmd1bGFyLmlzRnVuY3Rpb247XG4gIHZhciBpc09iamVjdCA9IGFuZ3VsYXIuaXNPYmplY3Q7XG4gIHZhciBpc1N0cmluZyA9IGFuZ3VsYXIuaXNTdHJpbmc7XG5cbiAgcmV0dXJuIGZ1bmN0aW9uKHRleHQsIHRhcmdldCwgYXR0cmlidXRlcykge1xuICAgIGlmICh0ZXh0ID09IG51bGwgfHwgdGV4dCA9PT0gJycpIHJldHVybiB0ZXh0O1xuICAgIGlmICghaXNTdHJpbmcodGV4dCkpIHRocm93IGxpbmt5TWluRXJyKCdub3RzdHJpbmcnLCAnRXhwZWN0ZWQgc3RyaW5nIGJ1dCByZWNlaXZlZDogezB9JywgdGV4dCk7XG5cbiAgICB2YXIgYXR0cmlidXRlc0ZuID1cbiAgICAgIGlzRnVuY3Rpb24oYXR0cmlidXRlcykgPyBhdHRyaWJ1dGVzIDpcbiAgICAgIGlzT2JqZWN0KGF0dHJpYnV0ZXMpID8gZnVuY3Rpb24gZ2V0QXR0cmlidXRlc09iamVjdCgpIHtyZXR1cm4gYXR0cmlidXRlczt9IDpcbiAgICAgIGZ1bmN0aW9uIGdldEVtcHR5QXR0cmlidXRlc09iamVjdCgpIHtyZXR1cm4ge307fTtcblxuICAgIHZhciBtYXRjaDtcbiAgICB2YXIgcmF3ID0gdGV4dDtcbiAgICB2YXIgaHRtbCA9IFtdO1xuICAgIHZhciB1cmw7XG4gICAgdmFyIGk7XG4gICAgd2hpbGUgKChtYXRjaCA9IHJhdy5tYXRjaChMSU5LWV9VUkxfUkVHRVhQKSkpIHtcbiAgICAgIC8vIFdlIGNhbiBub3QgZW5kIGluIHRoZXNlIGFzIHRoZXkgYXJlIHNvbWV0aW1lcyBmb3VuZCBhdCB0aGUgZW5kIG9mIHRoZSBzZW50ZW5jZVxuICAgICAgdXJsID0gbWF0Y2hbMF07XG4gICAgICAvLyBpZiB3ZSBkaWQgbm90IG1hdGNoIGZ0cC9odHRwL3d3dy9tYWlsdG8gdGhlbiBhc3N1bWUgbWFpbHRvXG4gICAgICBpZiAoIW1hdGNoWzJdICYmICFtYXRjaFs0XSkge1xuICAgICAgICB1cmwgPSAobWF0Y2hbM10gPyAnaHR0cDovLycgOiAnbWFpbHRvOicpICsgdXJsO1xuICAgICAgfVxuICAgICAgaSA9IG1hdGNoLmluZGV4O1xuICAgICAgYWRkVGV4dChyYXcuc3Vic3RyKDAsIGkpKTtcbiAgICAgIGFkZExpbmsodXJsLCBtYXRjaFswXS5yZXBsYWNlKE1BSUxUT19SRUdFWFAsICcnKSk7XG4gICAgICByYXcgPSByYXcuc3Vic3RyaW5nKGkgKyBtYXRjaFswXS5sZW5ndGgpO1xuICAgIH1cbiAgICBhZGRUZXh0KHJhdyk7XG4gICAgcmV0dXJuICRzYW5pdGl6ZShodG1sLmpvaW4oJycpKTtcblxuICAgIGZ1bmN0aW9uIGFkZFRleHQodGV4dCkge1xuICAgICAgaWYgKCF0ZXh0KSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGh0bWwucHVzaChzYW5pdGl6ZVRleHQodGV4dCkpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGFkZExpbmsodXJsLCB0ZXh0KSB7XG4gICAgICB2YXIga2V5LCBsaW5rQXR0cmlidXRlcyA9IGF0dHJpYnV0ZXNGbih1cmwpO1xuICAgICAgaHRtbC5wdXNoKCc8YSAnKTtcblxuICAgICAgZm9yIChrZXkgaW4gbGlua0F0dHJpYnV0ZXMpIHtcbiAgICAgICAgaHRtbC5wdXNoKGtleSArICc9XCInICsgbGlua0F0dHJpYnV0ZXNba2V5XSArICdcIiAnKTtcbiAgICAgIH1cblxuICAgICAgaWYgKGlzRGVmaW5lZCh0YXJnZXQpICYmICEoJ3RhcmdldCcgaW4gbGlua0F0dHJpYnV0ZXMpKSB7XG4gICAgICAgIGh0bWwucHVzaCgndGFyZ2V0PVwiJyxcbiAgICAgICAgICAgICAgICAgIHRhcmdldCxcbiAgICAgICAgICAgICAgICAgICdcIiAnKTtcbiAgICAgIH1cbiAgICAgIGh0bWwucHVzaCgnaHJlZj1cIicsXG4gICAgICAgICAgICAgICAgdXJsLnJlcGxhY2UoL1wiL2csICcmcXVvdDsnKSxcbiAgICAgICAgICAgICAgICAnXCI+Jyk7XG4gICAgICBhZGRUZXh0KHRleHQpO1xuICAgICAgaHRtbC5wdXNoKCc8L2E+Jyk7XG4gICAgfVxuICB9O1xufV0pO1xuXG5cbn0pKHdpbmRvdywgd2luZG93LmFuZ3VsYXIpO1xuIiwicmVxdWlyZSgnLi9hbmd1bGFyLXNhbml0aXplJyk7XG5tb2R1bGUuZXhwb3J0cyA9ICduZ1Nhbml0aXplJztcbiIsIi8qIVxuICogYW5ndWxhci12YWxpZGF0aW9uLW1hdGNoXG4gKiBDaGVja3MgaWYgb25lIGlucHV0IG1hdGNoZXMgYW5vdGhlclxuICogQHZlcnNpb24gdjEuOS4wXG4gKiBAbGluayBodHRwczovL2dpdGh1Yi5jb20vVGhlU2hhcnBpZU9uZS9hbmd1bGFyLXZhbGlkYXRpb24tbWF0Y2hcbiAqIEBsaWNlbnNlIE1JVCBMaWNlbnNlLCBodHRwOi8vd3d3Lm9wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL01JVFxuICovXG4oZnVuY3Rpb24od2luZG93LCBhbmd1bGFyLCB1bmRlZmluZWQpeyd1c2Ugc3RyaWN0JztcblxubWF0Y2guJGluamVjdCA9IFtcIiRwYXJzZVwiXTtcbmFuZ3VsYXIubW9kdWxlKCd2YWxpZGF0aW9uLm1hdGNoJywgW10pO1xuXG5hbmd1bGFyLm1vZHVsZSgndmFsaWRhdGlvbi5tYXRjaCcpLmRpcmVjdGl2ZSgnbWF0Y2gnLCBtYXRjaCk7XG5cbmZ1bmN0aW9uIG1hdGNoICgkcGFyc2UpIHtcbiAgICByZXR1cm4ge1xuICAgICAgICByZXF1aXJlOiAnP25nTW9kZWwnLFxuICAgICAgICByZXN0cmljdDogJ0EnLFxuICAgICAgICBsaW5rOiBmdW5jdGlvbihzY29wZSwgZWxlbSwgYXR0cnMsIGN0cmwpIHtcbiAgICAgICAgICAgIGlmKCFjdHJsIHx8ICFhdHRycy5tYXRjaCkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdmFyIG1hdGNoR2V0dGVyID0gJHBhcnNlKGF0dHJzLm1hdGNoKTtcbiAgICAgICAgICAgIHZhciBjYXNlbGVzc0dldHRlciA9ICRwYXJzZShhdHRycy5tYXRjaENhc2VsZXNzKTtcbiAgICAgICAgICAgIHZhciBub01hdGNoR2V0dGVyID0gJHBhcnNlKGF0dHJzLm5vdE1hdGNoKTtcbiAgICAgICAgICAgIHZhciBtYXRjaElnbm9yZUVtcHR5R2V0dGVyID0gJHBhcnNlKGF0dHJzLm1hdGNoSWdub3JlRW1wdHkpO1xuXG4gICAgICAgICAgICBzY29wZS4kd2F0Y2goZ2V0TWF0Y2hWYWx1ZSwgZnVuY3Rpb24oKXtcbiAgICAgICAgICAgICAgICBjdHJsLiQkcGFyc2VBbmRWYWxpZGF0ZSgpO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIGN0cmwuJHZhbGlkYXRvcnMubWF0Y2ggPSBmdW5jdGlvbihtb2RlbFZhbHVlLCB2aWV3VmFsdWUpe1xuICAgICAgICAgICAgICB2YXIgbWF0Y2hlciA9IG1vZGVsVmFsdWUgfHwgdmlld1ZhbHVlO1xuICAgICAgICAgICAgICB2YXIgbWF0Y2ggPSBnZXRNYXRjaFZhbHVlKCk7XG4gICAgICAgICAgICAgIHZhciBub3RNYXRjaCA9IG5vTWF0Y2hHZXR0ZXIoc2NvcGUpO1xuICAgICAgICAgICAgICB2YXIgdmFsdWU7XG5cbiAgICAgICAgICAgICAgaWYgKG1hdGNoSWdub3JlRW1wdHlHZXR0ZXIoc2NvcGUpICYmICF2aWV3VmFsdWUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgIGlmKGNhc2VsZXNzR2V0dGVyKHNjb3BlKSl7XG4gICAgICAgICAgICAgICAgdmFsdWUgPSBhbmd1bGFyLmxvd2VyY2FzZShtYXRjaGVyKSA9PT0gYW5ndWxhci5sb3dlcmNhc2UobWF0Y2gpO1xuICAgICAgICAgICAgICB9ZWxzZXtcbiAgICAgICAgICAgICAgICB2YWx1ZSA9IG1hdGNoZXIgPT09IG1hdGNoO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIC8qanNsaW50IGJpdHdpc2U6IHRydWUgKi9cbiAgICAgICAgICAgICAgdmFsdWUgXj0gbm90TWF0Y2g7XG4gICAgICAgICAgICAgIC8qanNsaW50IGJpdHdpc2U6IGZhbHNlICovXG4gICAgICAgICAgICAgIHJldHVybiAhIXZhbHVlO1xuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgZnVuY3Rpb24gZ2V0TWF0Y2hWYWx1ZSgpe1xuICAgICAgICAgICAgICAgIHZhciBtYXRjaCA9IG1hdGNoR2V0dGVyKHNjb3BlKTtcbiAgICAgICAgICAgICAgICBpZihhbmd1bGFyLmlzT2JqZWN0KG1hdGNoKSAmJiBtYXRjaC5oYXNPd25Qcm9wZXJ0eSgnJHZpZXdWYWx1ZScpKXtcbiAgICAgICAgICAgICAgICAgICAgbWF0Y2ggPSBtYXRjaC4kdmlld1ZhbHVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gbWF0Y2g7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xufVxufSkod2luZG93LCB3aW5kb3cuYW5ndWxhcik7XG4iLCJyZXF1aXJlKCcuL2Rpc3QvYW5ndWxhci12YWxpZGF0aW9uLW1hdGNoJyk7XG5tb2R1bGUuZXhwb3J0cyA9ICd2YWxpZGF0aW9uLm1hdGNoJztcbiIsIihmdW5jdGlvbigpIHtcbiAgYW5ndWxhclxuICAgIC5tb2R1bGUoJ3ZhbGlkYXRpb24ucnVsZScsIFsndmFsaWRhdGlvbiddKVxuICAgIC5jb25maWcoWyckdmFsaWRhdGlvblByb3ZpZGVyJywgZnVuY3Rpb24oJHZhbGlkYXRpb25Qcm92aWRlcikge1xuICAgICAgdmFyIGV4cHJlc3Npb24gPSB7XG4gICAgICAgIHJlcXVpcmVkOiBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgICAgIHJldHVybiAhIXZhbHVlO1xuICAgICAgICB9LFxuICAgICAgICB1cmw6IC8oKChbQS1aYS16XXszLDl9Oig/OlxcL1xcLyk/KSg/OlstOzomPVxcK1xcJCxcXHddK0ApP1tBLVphLXowLTkuLV0rfCg/Ond3dy58Wy07OiY9XFwrXFwkLFxcd10rQClbQS1aYS16MC05Li1dKykoKD86XFwvW1xcK34lXFwvLlxcdy1fXSopP1xcPz8oPzpbLVxcKz0mOyVALlxcd19dKikjPyg/OltcXHddKikpPykvLFxuICAgICAgICBlbWFpbDogL14oW1xcdy1cXC5dKylAKChcXFtbMC05XXsxLDN9XFwuWzAtOV17MSwzfVxcLlswLTldezEsM31cXC4pfCgoW1xcdy1dK1xcLikrKSkoW2EtekEtWl17Miw0fXxbMC05XXsxLDN9KShcXF0/KSQvLFxuICAgICAgICBudW1iZXI6IC9eXFxkKyQvLFxuICAgICAgICBtaW5sZW5ndGg6IGZ1bmN0aW9uKHZhbHVlLCBzY29wZSwgZWxlbWVudCwgYXR0cnMsIHBhcmFtKSB7XG4gICAgICAgICAgcmV0dXJuIHZhbHVlLmxlbmd0aCA+PSBwYXJhbTtcbiAgICAgICAgfSxcbiAgICAgICAgbWF4bGVuZ3RoOiBmdW5jdGlvbih2YWx1ZSwgc2NvcGUsIGVsZW1lbnQsIGF0dHJzLCBwYXJhbSkge1xuICAgICAgICAgIHJldHVybiB2YWx1ZS5sZW5ndGggPD0gcGFyYW07XG4gICAgICAgIH1cbiAgICAgIH07XG5cbiAgICAgIHZhciBkZWZhdWx0TXNnID0ge1xuICAgICAgICByZXF1aXJlZDoge1xuICAgICAgICAgIGVycm9yOiAnVGhpcyBzaG91bGQgYmUgUmVxdWlyZWQhIScsXG4gICAgICAgICAgc3VjY2VzczogJ0l0XFwncyBSZXF1aXJlZCdcbiAgICAgICAgfSxcbiAgICAgICAgdXJsOiB7XG4gICAgICAgICAgZXJyb3I6ICdUaGlzIHNob3VsZCBiZSBVcmwnLFxuICAgICAgICAgIHN1Y2Nlc3M6ICdJdFxcJ3MgVXJsJ1xuICAgICAgICB9LFxuICAgICAgICBlbWFpbDoge1xuICAgICAgICAgIGVycm9yOiAnVGhpcyBzaG91bGQgYmUgRW1haWwnLFxuICAgICAgICAgIHN1Y2Nlc3M6ICdJdFxcJ3MgRW1haWwnXG4gICAgICAgIH0sXG4gICAgICAgIG51bWJlcjoge1xuICAgICAgICAgIGVycm9yOiAnVGhpcyBzaG91bGQgYmUgTnVtYmVyJyxcbiAgICAgICAgICBzdWNjZXNzOiAnSXRcXCdzIE51bWJlcidcbiAgICAgICAgfSxcbiAgICAgICAgbWlubGVuZ3RoOiB7XG4gICAgICAgICAgZXJyb3I6ICdUaGlzIHNob3VsZCBiZSBsb25nZXInLFxuICAgICAgICAgIHN1Y2Nlc3M6ICdMb25nIGVub3VnaCEnXG4gICAgICAgIH0sXG4gICAgICAgIG1heGxlbmd0aDoge1xuICAgICAgICAgIGVycm9yOiAnVGhpcyBzaG91bGQgYmUgc2hvcnRlcicsXG4gICAgICAgICAgc3VjY2VzczogJ1Nob3J0IGVub3VnaCEnXG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgICAkdmFsaWRhdGlvblByb3ZpZGVyLnNldEV4cHJlc3Npb24oZXhwcmVzc2lvbikuc2V0RGVmYXVsdE1zZyhkZWZhdWx0TXNnKTtcbiAgICB9XSk7XG59KS5jYWxsKHRoaXMpO1xuIiwiYW5ndWxhci5tb2R1bGUoJ3ZhbGlkYXRpb24nLCBbJ3ZhbGlkYXRpb24ucHJvdmlkZXInLCAndmFsaWRhdGlvbi5kaXJlY3RpdmUnXSk7XG5hbmd1bGFyLm1vZHVsZSgndmFsaWRhdGlvbi5wcm92aWRlcicsIFtdKTtcbmFuZ3VsYXIubW9kdWxlKCd2YWxpZGF0aW9uLmRpcmVjdGl2ZScsIFsndmFsaWRhdGlvbi5wcm92aWRlciddKTtcblxuKGZ1bmN0aW9uKCkge1xuICBhbmd1bGFyXG4gICAgLm1vZHVsZSgndmFsaWRhdGlvbi5wcm92aWRlcicpXG4gICAgLnByb3ZpZGVyKCckdmFsaWRhdGlvbicsIFByb3ZpZGVyKTtcblxuICBmdW5jdGlvbiBQcm92aWRlcigpIHtcbiAgICB2YXIgJGluamVjdG9yO1xuICAgIHZhciAkc2NvcGU7XG4gICAgdmFyICRodHRwO1xuICAgIHZhciAkcTtcbiAgICB2YXIgJHRpbWVvdXQ7XG4gICAgdmFyIF90aGlzID0gdGhpcztcblxuICAgIC8qKlxuICAgICAqIFNldHVwIHRoZSBwcm92aWRlclxuICAgICAqIEBwYXJhbSBpbmplY3RvclxuICAgICAqL1xuICAgIHZhciBzZXR1cCA9IGZ1bmN0aW9uKGluamVjdG9yKSB7XG4gICAgICAkaW5qZWN0b3IgPSBpbmplY3RvcjtcbiAgICAgICRzY29wZSA9ICRpbmplY3Rvci5nZXQoJyRyb290U2NvcGUnKTtcbiAgICAgICRodHRwID0gJGluamVjdG9yLmdldCgnJGh0dHAnKTtcbiAgICAgICRxID0gJGluamVjdG9yLmdldCgnJHEnKTtcbiAgICAgICR0aW1lb3V0ID0gJGluamVjdG9yLmdldCgnJHRpbWVvdXQnKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogRGVmaW5lIHZhbGlkYXRpb24gdHlwZSBSZWdFeHBcbiAgICAgKiBAdHlwZSB7e319XG4gICAgICovXG4gICAgdmFyIGV4cHJlc3Npb24gPSB7fTtcblxuICAgIC8qKlxuICAgICAqIGRlZmF1bHQgdmFsaWQgbWV0aG9kXG4gICAgICogQHR5cGUge3t9fVxuICAgICAqL1xuICAgIHZhciB2YWxpZE1ldGhvZCA9IG51bGw7XG5cbiAgICAvKipcbiAgICAgKiBkZWZhdWx0IGVycm9yLCBzdWNjZXNzIG1lc3NhZ2VcbiAgICAgKiBAdHlwZSB7e319XG4gICAgICovXG4gICAgdmFyIGRlZmF1bHRNc2cgPSB7fTtcblxuICAgIC8qKlxuICAgICAqIEFsbG93IHVzZXIgdG8gc2V0IGEgY3VzdG9tIEV4cHJlc3Npb24sIGRvIHJlbWVtYmVyIHNldCB0aGUgZGVmYXVsdCBtZXNzYWdlIHVzaW5nIHNldERlZmF1bHRNc2dcbiAgICAgKiBAcGFyYW0gb2JqXG4gICAgICogQHJldHVybnMgeyp9XG4gICAgICovXG4gICAgdGhpcy5zZXRFeHByZXNzaW9uID0gZnVuY3Rpb24ob2JqKSB7XG4gICAgICBhbmd1bGFyLmV4dGVuZChleHByZXNzaW9uLCBvYmopO1xuICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIEV4cHJlc3Npb25cbiAgICAgKiBAcGFyYW0gZXhwcnNcbiAgICAgKiBAcmV0dXJucyB7Kn1cbiAgICAgKi9cbiAgICB0aGlzLmdldEV4cHJlc3Npb24gPSBmdW5jdGlvbihleHBycykge1xuICAgICAgcmV0dXJuIGV4cHJlc3Npb25bZXhwcnNdO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBBbGxvdyB1c2VyIHRvIHNldCBkZWZhdWx0IG1lc3NhZ2VcbiAgICAgKiBAcGFyYW0gb2JqXG4gICAgICogQHJldHVybnMgeyp9XG4gICAgICovXG4gICAgdGhpcy5zZXREZWZhdWx0TXNnID0gZnVuY3Rpb24ob2JqKSB7XG4gICAgICBhbmd1bGFyLmV4dGVuZChkZWZhdWx0TXNnLCBvYmopO1xuICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIERlZmF1bHQgTWVzc2FnZVxuICAgICAqIEBwYXJhbSBtc2dcbiAgICAgKiBAcmV0dXJucyB7Kn1cbiAgICAgKi9cbiAgICB0aGlzLmdldERlZmF1bHRNc2cgPSBmdW5jdGlvbihtc2cpIHtcbiAgICAgIHJldHVybiBkZWZhdWx0TXNnW21zZ107XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIGFsbG93IHVzZXIgdG8gc2V0IHRoZSBnbG9iYWwgdmFsaWQgbWV0aG9kXG4gICAgICogQHBhcmFtIHZcbiAgICAgKiBAcmV0dXJucyB7Kn1cbiAgICAgKi9cbiAgICB0aGlzLnNldFZhbGlkTWV0aG9kID0gZnVuY3Rpb24odikge1xuICAgICAgdmFsaWRNZXRob2QgPSB2O1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIHZhbGlkIG1ldGhvZCAgICAgXG4gICAgICogQHJldHVybnMgeyp9XG4gICAgICovXG4gICAgdGhpcy5nZXRWYWxpZE1ldGhvZCA9IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIHZhbGlkTWV0aG9kO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBPdmVycmlkZSB0aGUgZXJyb3JIVE1MIGZ1bmN0aW9uXG4gICAgICogQHBhcmFtIGZ1bmNcbiAgICAgKiBAcmV0dXJucyB7Kn1cbiAgICAgKi9cbiAgICB0aGlzLnNldEVycm9ySFRNTCA9IGZ1bmN0aW9uKGZ1bmMpIHtcbiAgICAgIGlmIChmdW5jLmNvbnN0cnVjdG9yICE9PSBGdW5jdGlvbikge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBfdGhpcy5nZXRFcnJvckhUTUwgPSBmdW5jO1xuICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBJbnZhbGlkIG1lc3NhZ2UgSFRNTCwgaGVyZSdzIHRoZSBkZWZhdWx0XG4gICAgICogQHBhcmFtIG1lc3NhZ2VcbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfVxuICAgICAqL1xuICAgIHRoaXMuZ2V0RXJyb3JIVE1MID0gZnVuY3Rpb24obWVzc2FnZSkge1xuICAgICAgcmV0dXJuICc8cCBjbGFzcz1cInZhbGlkYXRpb24taW52YWxpZFwiPicgKyBtZXNzYWdlICsgJzwvcD4nO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBPdmVycmlkZSB0aGUgc3VjY2Vzc0hUTUwgZnVuY3Rpb25cbiAgICAgKiBAcGFyYW0gZnVuY1xuICAgICAqIEByZXR1cm5zIHsqfVxuICAgICAqL1xuICAgIHRoaXMuc2V0U3VjY2Vzc0hUTUwgPSBmdW5jdGlvbihmdW5jKSB7XG4gICAgICBpZiAoZnVuYy5jb25zdHJ1Y3RvciAhPT0gRnVuY3Rpb24pIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgX3RoaXMuZ2V0U3VjY2Vzc0hUTUwgPSBmdW5jO1xuICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBWYWxpZCBtZXNzYWdlIEhUTUwsIGhlcmUncyB0aGUgZGVmYXVsdFxuICAgICAqIEBwYXJhbSBtZXNzYWdlXG4gICAgICogQHJldHVybnMge3N0cmluZ31cbiAgICAgKi9cbiAgICB0aGlzLmdldFN1Y2Nlc3NIVE1MID0gZnVuY3Rpb24obWVzc2FnZSkge1xuICAgICAgcmV0dXJuICc8cCBjbGFzcz1cInZhbGlkYXRpb24tdmFsaWRcIj4nICsgbWVzc2FnZSArICc8L3A+JztcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogV2hldGhlciBzaG93IHRoZSB2YWxpZGF0aW9uIHN1Y2Nlc3MgbWVzc2FnZVxuICAgICAqIFlvdSBjYW4gZWFzaWx5IGNoYW5nZSB0aGlzIHRvIGZhbHNlIGluIHlvdXIgY29uZmlnXG4gICAgICogZXhhbXBsZTogJHZhbGlkYXRpb25Qcm92aWRlci5zaG93U3VjY2Vzc01lc3NhZ2UgPSBmYWxzZTtcbiAgICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICAgKi9cbiAgICB0aGlzLnNob3dTdWNjZXNzTWVzc2FnZSA9IHRydWU7XG5cbiAgICAvKipcbiAgICAgKiBXaGV0aGVyIHNob3cgdGhlIHZhbGlkYXRpb24gZXJyb3IgbWVzc2FnZVxuICAgICAqIFlvdSBjYW4gZWFzaWx5IGNoYW5nZSB0aGlzIHRvIGZhbHNlIGluIHlvdXIgY29uZmlnXG4gICAgICogZXhhbXBsZTogJHZhbGlkYXRpb25Qcm92aWRlci5zaG93RXJyb3JNZXNzYWdlID0gZmFsc2U7XG4gICAgICogQHR5cGUge2Jvb2xlYW59XG4gICAgICovXG4gICAgdGhpcy5zaG93RXJyb3JNZXNzYWdlID0gdHJ1ZTtcblxuICAgIC8qKlxuICAgICAqIENoZWNrIGZvcm0gdmFsaWQsIHJldHVybiB0cnVlXG4gICAgICogY2hlY2tWYWxpZChGb3JtKTogQ2hlY2sgdGhlIHNwZWNpZmljIGZvcm0oRm9ybSkgdmFsaWQgZnJvbSBhbmd1bGFyIGAkdmFsaWRgXG4gICAgICogQHBhcmFtIGZvcm1cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAgICAgKi9cbiAgICB0aGlzLmNoZWNrVmFsaWQgPSBmdW5jdGlvbihmb3JtKSB7XG4gICAgICByZXR1cm4gISEoZm9ybSAmJiBmb3JtLiR2YWxpZCk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFZhbGlkYXRlIHRoZSBmb3JtIHdoZW4gY2xpY2sgc3VibWl0LCB3aGVuIGB2YWxpZE1ldGhvZCA9IHN1Ym1pdGBcbiAgICAgKiBAcGFyYW0gZm9ybVxuICAgICAqIEByZXR1cm5zIHtwcm9taXNlfCp9XG4gICAgICovXG4gICAgdGhpcy52YWxpZGF0ZSA9IGZ1bmN0aW9uKGZvcm0pIHtcbiAgICAgIHZhciBkZWZlcnJlZCA9ICRxLmRlZmVyKCk7XG4gICAgICB2YXIgaWR4ID0gMDtcblxuICAgICAgaWYgKGZvcm0gPT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdUaGlzIGlzIG5vdCBhIHJlZ3VsYXIgRm9ybSBuYW1lIHNjb3BlJyk7XG4gICAgICAgIGRlZmVycmVkLnJlamVjdCgnVGhpcyBpcyBub3QgYSByZWd1bGFyIEZvcm0gbmFtZSBzY29wZScpO1xuICAgICAgICByZXR1cm4gZGVmZXJyZWQucHJvbWlzZTtcbiAgICAgIH1cblxuICAgICAgaWYgKGZvcm0udmFsaWRhdGlvbklkKSB7IC8vIHNpbmdsZVxuICAgICAgICAkc2NvcGUuJGJyb2FkY2FzdChmb3JtLiRuYW1lICsgJ3N1Ym1pdC0nICsgZm9ybS52YWxpZGF0aW9uSWQsIGlkeCsrKTtcbiAgICAgIH0gZWxzZSBpZiAoZm9ybS5jb25zdHJ1Y3RvciA9PT0gQXJyYXkpIHsgLy8gbXVsdGlwbGVcbiAgICAgICAgZm9yICh2YXIgayBpbiBmb3JtKSB7XG4gICAgICAgICAgJHNjb3BlLiRicm9hZGNhc3QoZm9ybVtrXS4kbmFtZSArICdzdWJtaXQtJyArIGZvcm1ba10udmFsaWRhdGlvbklkLCBpZHgrKyk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGZvciAodmFyIGkgaW4gZm9ybSkgeyAvLyB3aG9sZSBzY29wZVxuICAgICAgICAgIGlmIChpWzBdICE9PSAnJCcgJiYgZm9ybVtpXS5oYXNPd25Qcm9wZXJ0eSgnJGRpcnR5JykpIHtcbiAgICAgICAgICAgICRzY29wZS4kYnJvYWRjYXN0KGkgKyAnc3VibWl0LScgKyBmb3JtW2ldLnZhbGlkYXRpb25JZCwgaWR4KyspO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBkZWZlcnJlZC5wcm9taXNlLnN1Y2Nlc3MgPSBmdW5jdGlvbihmbikge1xuICAgICAgICBkZWZlcnJlZC5wcm9taXNlLnRoZW4oZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgICAgICBmbih2YWx1ZSk7XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gZGVmZXJyZWQucHJvbWlzZTtcbiAgICAgIH07XG5cbiAgICAgIGRlZmVycmVkLnByb21pc2UuZXJyb3IgPSBmdW5jdGlvbihmbikge1xuICAgICAgICBkZWZlcnJlZC5wcm9taXNlLnRoZW4obnVsbCwgZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgICAgICBmbih2YWx1ZSk7XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gZGVmZXJyZWQucHJvbWlzZTtcbiAgICAgIH07XG5cbiAgICAgICR0aW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgICAgICBpZiAoX3RoaXMuY2hlY2tWYWxpZChmb3JtKSkge1xuICAgICAgICAgIGRlZmVycmVkLnJlc29sdmUoJ3N1Y2Nlc3MnKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBkZWZlcnJlZC5yZWplY3QoJ2Vycm9yJyk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuXG4gICAgICByZXR1cm4gZGVmZXJyZWQucHJvbWlzZTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogRG8gdGhpcyBmdW5jdGlvbiBpZiB2YWxpZGF0aW9uIHZhbGlkXG4gICAgICogQHBhcmFtIGVsZW1lbnRcbiAgICAgKi9cbiAgICB0aGlzLnZhbGlkQ2FsbGJhY2sgPSBudWxsO1xuXG4gICAgLyoqXG4gICAgICogRG8gdGhpcyBmdW5jdGlvbiBpZiB2YWxpZGF0aW9uIGludmFsaWRcbiAgICAgKiBAcGFyYW0gZWxlbWVudFxuICAgICAqL1xuICAgIHRoaXMuaW52YWxpZENhbGxiYWNrID0gbnVsbDtcblxuICAgIC8qKlxuICAgICAqIERvIHRoaXMgZnVuY3Rpb24gd2hlbiByZXNldCBpcyBwZXJmb3JtZWRcbiAgICAgKiBAcGFyYW0gZWxlbWVudFxuICAgICAqL1xuICAgIHRoaXMucmVzZXRDYWxsYmFjayA9IG51bGw7XG5cbiAgICAvKipcbiAgICAgKiByZXNldCB0aGUgc3BlY2lmaWMgZm9ybVxuICAgICAqIEBwYXJhbSBmb3JtXG4gICAgICovXG4gICAgdGhpcy5yZXNldCA9IGZ1bmN0aW9uKGZvcm0pIHtcbiAgICAgIGlmIChmb3JtID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignVGhpcyBpcyBub3QgYSByZWd1bGFyIEZvcm0gbmFtZSBzY29wZScpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGlmIChmb3JtLnZhbGlkYXRpb25JZCkge1xuICAgICAgICAkc2NvcGUuJGJyb2FkY2FzdChmb3JtLiRuYW1lICsgJ3Jlc2V0LScgKyBmb3JtLnZhbGlkYXRpb25JZCk7XG4gICAgICB9IGVsc2UgaWYgKGZvcm0uY29uc3RydWN0b3IgPT09IEFycmF5KSB7XG4gICAgICAgIGZvciAodmFyIGsgaW4gZm9ybSkge1xuICAgICAgICAgICRzY29wZS4kYnJvYWRjYXN0KGZvcm1ba10uJG5hbWUgKyAncmVzZXQtJyArIGZvcm1ba10udmFsaWRhdGlvbklkKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZm9yICh2YXIgaSBpbiBmb3JtKSB7XG4gICAgICAgICAgaWYgKGlbMF0gIT09ICckJyAmJiBmb3JtW2ldLmhhc093blByb3BlcnR5KCckZGlydHknKSkge1xuICAgICAgICAgICAgJHNjb3BlLiRicm9hZGNhc3QoaSArICdyZXNldC0nICsgZm9ybVtpXS52YWxpZGF0aW9uSWQpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBBZGQgTWVzc2FnZSBFbGVtZW50IGluIGNvbmZpZyBwaGFzZVxuICAgICAqIFdoZW4geW91IG5lZWQgY3VzdG9tIHlvdXIgbWVzc2FnZUVsZW1lbnQgXG4gICAgICogTk9ERTogdGhpcyBmdW50aW9uICYgYW5kIGBtZXNzYWdlLWlkYCBhdHRyaWJ1dGUsIGhhdmUgc2ltaWxhciBwdXJwb3NlLlxuICAgICAqIFRoaXMgZnVuY3Rpb24gd2lsbCBoZWxwIHlvdSBhZGQgeW91ciBgbWVzc2FnZUVsZW1lbnRgIGF1dG9tYXRpY2FsbHkgaW5zdGVhZCBvZiBwcmUtZGVmaW5lZC5cbiAgICAgKiBAcGFyYW0gZWxlbWVudFxuICAgICAqL1xuICAgIHRoaXMuYWRkTXNnRWxlbWVudCA9IGZ1bmN0aW9uKGVsZW1lbnQpIHtcbiAgICAgIHJldHVybiBlbGVtZW50LmFmdGVyKCc8c3Bhbj48L3NwYW4+Jyk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEFkZCBNZXNzYWdlIEVsZW1lbnQgaW4gY29uZmlnIHBoYXNlXG4gICAgICogV2hlbiB5b3UgbmVlZCBjdXN0b20geW91ciBtZXNzYWdlRWxlbWVudCBcbiAgICAgKiBOT0RFOiB0aGlzIGZ1bnRpb24gJiBhbmQgYG1lc3NhZ2UtaWRgIGF0dHJpYnV0ZSwgaGF2ZSBzaW1pbGFyIHB1cnBvc2UuXG4gICAgICogVGhpcyBmdW5jdGlvbiB3aWxsIGhlbHAgeW91IGFkZCB5b3VyIGBtZXNzYWdlRWxlbWVudGAgYXV0b21hdGljYWxseSBpbnN0ZWFkIG9mIHByZS1kZWZpbmVkLlxuICAgICAqIEBwYXJhbSBlbGVtZW50XG4gICAgICovXG4gICAgdGhpcy5nZXRNc2dFbGVtZW50ID0gZnVuY3Rpb24oZWxlbWVudCkge1xuICAgICAgcmV0dXJuIGVsZW1lbnQubmV4dCgpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiAkZ2V0XG4gICAgICogQHJldHVybnMge3tzZXRFcnJvckhUTUw6ICosIGdldEVycm9ySFRNTDogRnVuY3Rpb24sIHNldFN1Y2Nlc3NIVE1MOiAqLCBnZXRTdWNjZXNzSFRNTDogRnVuY3Rpb24sIHNldEV4cHJlc3Npb246ICosIGdldEV4cHJlc3Npb246IEZ1bmN0aW9uLCBzZXREZWZhdWx0TXNnOiAqLCBnZXREZWZhdWx0TXNnOiBGdW5jdGlvbiwgY2hlY2tWYWxpZDogRnVuY3Rpb24sIHZhbGlkYXRlOiBGdW5jdGlvbiwgcmVzZXQ6IEZ1bmN0aW9ufX1cbiAgICAgKi9cbiAgICB0aGlzLiRnZXQgPSBbJyRpbmplY3RvcicsIGZ1bmN0aW9uKCRpbmplY3Rvcikge1xuICAgICAgc2V0dXAoJGluamVjdG9yKTtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHNldFZhbGlkTWV0aG9kOiB0aGlzLnNldFZhbGlkTWV0aG9kLFxuICAgICAgICBnZXRWYWxpZE1ldGhvZDogdGhpcy5nZXRWYWxpZE1ldGhvZCxcbiAgICAgICAgc2V0RXJyb3JIVE1MOiB0aGlzLnNldEVycm9ySFRNTCxcbiAgICAgICAgZ2V0RXJyb3JIVE1MOiB0aGlzLmdldEVycm9ySFRNTCxcbiAgICAgICAgc2V0U3VjY2Vzc0hUTUw6IHRoaXMuc2V0U3VjY2Vzc0hUTUwsXG4gICAgICAgIGdldFN1Y2Nlc3NIVE1MOiB0aGlzLmdldFN1Y2Nlc3NIVE1MLFxuICAgICAgICBzZXRFeHByZXNzaW9uOiB0aGlzLnNldEV4cHJlc3Npb24sXG4gICAgICAgIGdldEV4cHJlc3Npb246IHRoaXMuZ2V0RXhwcmVzc2lvbixcbiAgICAgICAgc2V0RGVmYXVsdE1zZzogdGhpcy5zZXREZWZhdWx0TXNnLFxuICAgICAgICBnZXREZWZhdWx0TXNnOiB0aGlzLmdldERlZmF1bHRNc2csXG4gICAgICAgIHNob3dTdWNjZXNzTWVzc2FnZTogdGhpcy5zaG93U3VjY2Vzc01lc3NhZ2UsXG4gICAgICAgIHNob3dFcnJvck1lc3NhZ2U6IHRoaXMuc2hvd0Vycm9yTWVzc2FnZSxcbiAgICAgICAgY2hlY2tWYWxpZDogdGhpcy5jaGVja1ZhbGlkLFxuICAgICAgICB2YWxpZGF0ZTogdGhpcy52YWxpZGF0ZSxcbiAgICAgICAgdmFsaWRDYWxsYmFjazogdGhpcy52YWxpZENhbGxiYWNrLFxuICAgICAgICBpbnZhbGlkQ2FsbGJhY2s6IHRoaXMuaW52YWxpZENhbGxiYWNrLFxuICAgICAgICByZXNldENhbGxiYWNrOiB0aGlzLnJlc2V0Q2FsbGJhY2ssXG4gICAgICAgIHJlc2V0OiB0aGlzLnJlc2V0LFxuICAgICAgICBhZGRNc2dFbGVtZW50OiB0aGlzLmFkZE1zZ0VsZW1lbnQsXG4gICAgICAgIGdldE1zZ0VsZW1lbnQ6IHRoaXMuZ2V0TXNnRWxlbWVudFxuICAgICAgfTtcbiAgICB9XTtcbiAgfVxufSkuY2FsbCh0aGlzKTtcblxuKGZ1bmN0aW9uKCkge1xuICBhbmd1bGFyXG4gICAgLm1vZHVsZSgndmFsaWRhdGlvbi5kaXJlY3RpdmUnKVxuICAgIC5kaXJlY3RpdmUoJ3ZhbGlkYXRpb25SZXNldCcsIFJlc2V0KTtcblxuICBmdW5jdGlvbiBSZXNldCgkaW5qZWN0b3IpIHtcbiAgICB2YXIgJHZhbGlkYXRpb25Qcm92aWRlciA9ICRpbmplY3Rvci5nZXQoJyR2YWxpZGF0aW9uJyk7XG4gICAgdmFyICR0aW1lb3V0ID0gJGluamVjdG9yLmdldCgnJHRpbWVvdXQnKTtcbiAgICB2YXIgJHBhcnNlID0gJGluamVjdG9yLmdldCgnJHBhcnNlJyk7XG4gICAgcmV0dXJuIHtcbiAgICAgIGxpbms6IGZ1bmN0aW9uIHBvc3RMaW5rKHNjb3BlLCBlbGVtZW50LCBhdHRycykge1xuICAgICAgICB2YXIgZm9ybSA9ICRwYXJzZShhdHRycy52YWxpZGF0aW9uUmVzZXQpKHNjb3BlKTtcbiAgICAgICAgJHRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgZWxlbWVudC5vbignY2xpY2snLCBmdW5jdGlvbihlKSB7XG4gICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICAkdmFsaWRhdGlvblByb3ZpZGVyLnJlc2V0KGZvcm0pO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9O1xuICB9XG4gIFJlc2V0LiRpbmplY3QgPSBbJyRpbmplY3RvciddO1xufSkuY2FsbCh0aGlzKTtcblxuKGZ1bmN0aW9uKCkge1xuICBhbmd1bGFyXG4gICAgLm1vZHVsZSgndmFsaWRhdGlvbi5kaXJlY3RpdmUnKVxuICAgIC5kaXJlY3RpdmUoJ3ZhbGlkYXRpb25TdWJtaXQnLCBTdWJtaXQpO1xuXG4gIGZ1bmN0aW9uIFN1Ym1pdCgkaW5qZWN0b3IpIHtcbiAgICB2YXIgJHZhbGlkYXRpb25Qcm92aWRlciA9ICRpbmplY3Rvci5nZXQoJyR2YWxpZGF0aW9uJyk7XG4gICAgdmFyICR0aW1lb3V0ID0gJGluamVjdG9yLmdldCgnJHRpbWVvdXQnKTtcbiAgICB2YXIgJHBhcnNlID0gJGluamVjdG9yLmdldCgnJHBhcnNlJyk7XG4gICAgcmV0dXJuIHtcbiAgICAgIHByaW9yaXR5OiAxLCAvLyBleGVjdXRlIGJlZm9yZSBuZy1jbGljayAoMClcbiAgICAgIHJlcXVpcmU6ICc/bmdDbGljaycsXG4gICAgICBsaW5rOiBmdW5jdGlvbiBwb3N0TGluayhzY29wZSwgZWxlbWVudCwgYXR0cnMpIHtcbiAgICAgICAgdmFyIGZvcm0gPSAkcGFyc2UoYXR0cnMudmFsaWRhdGlvblN1Ym1pdCkoc2NvcGUpO1xuICAgICAgICAkdGltZW91dChmdW5jdGlvbigpIHtcbiAgICAgICAgICAvLyBEaXNhYmxlIG5nLWNsaWNrIGV2ZW50IHByb3BhZ2F0aW9uXG4gICAgICAgICAgZWxlbWVudC5vZmYoJ2NsaWNrJyk7XG4gICAgICAgICAgZWxlbWVudC5vbignY2xpY2snLCBmdW5jdGlvbihlKSB7XG4gICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICAkdmFsaWRhdGlvblByb3ZpZGVyLnZhbGlkYXRlKGZvcm0pXG4gICAgICAgICAgICAgIC5zdWNjZXNzKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICRwYXJzZShhdHRycy5uZ0NsaWNrKShzY29wZSk7XG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9O1xuICB9XG4gIFN1Ym1pdC4kaW5qZWN0ID0gWyckaW5qZWN0b3InXTtcbn0pLmNhbGwodGhpcyk7XG5cbihmdW5jdGlvbigpIHtcbiAgYW5ndWxhclxuICAgIC5tb2R1bGUoJ3ZhbGlkYXRpb24uZGlyZWN0aXZlJylcbiAgICAuZGlyZWN0aXZlKCd2YWxpZGF0b3InLCBWYWxpZGF0b3IpO1xuXG4gIGZ1bmN0aW9uIFZhbGlkYXRvcigkaW5qZWN0b3IpIHtcbiAgICB2YXIgJHZhbGlkYXRpb25Qcm92aWRlciA9ICRpbmplY3Rvci5nZXQoJyR2YWxpZGF0aW9uJyk7XG4gICAgdmFyICRxID0gJGluamVjdG9yLmdldCgnJHEnKTtcbiAgICB2YXIgJHRpbWVvdXQgPSAkaW5qZWN0b3IuZ2V0KCckdGltZW91dCcpO1xuICAgIHZhciAkY29tcGlsZSA9ICRpbmplY3Rvci5nZXQoJyRjb21waWxlJyk7XG4gICAgdmFyICRwYXJzZSA9ICRpbmplY3Rvci5nZXQoJyRwYXJzZScpO1xuICAgIHZhciBncm91cHMgPSB7fTtcblxuICAgIC8qKlxuICAgICAqIERvIHRoaXMgZnVuY3Rpb24gaWYgdmFsaWRhdGlvbiB2YWxpZFxuICAgICAqIEBwYXJhbSBlbGVtZW50XG4gICAgICogQHBhcmFtIHZhbGlkTWVzc2FnZVxuICAgICAqIEBwYXJhbSB2YWxpZGF0aW9uXG4gICAgICogQHBhcmFtIGNhbGxiYWNrXG4gICAgICogQHBhcmFtIGN0cmxcbiAgICAgKiBAcmV0dXJucyB7fVxuICAgICAqL1xuICAgIHZhciB2YWxpZEZ1bmMgPSBmdW5jdGlvbihlbGVtZW50LCB2YWxpZE1lc3NhZ2UsIHZhbGlkYXRpb24sIHNjb3BlLCBjdHJsLCBhdHRycykge1xuICAgICAgdmFyIG1lc3NhZ2VUb1Nob3cgPSB2YWxpZE1lc3NhZ2UgfHwgJHZhbGlkYXRpb25Qcm92aWRlci5nZXREZWZhdWx0TXNnKHZhbGlkYXRpb24pLnN1Y2Nlc3M7XG4gICAgICB2YXIgdmFsaWRDYWxsYmFjayA9ICRwYXJzZShhdHRycy52YWxpZENhbGxiYWNrKTtcbiAgICAgIHZhciBtZXNzYWdlSWQgPSBhdHRycy5tZXNzYWdlSWQ7XG4gICAgICB2YXIgdmFsaWRhdGlvbkdyb3VwID0gYXR0cnMudmFsaWRhdGlvbkdyb3VwO1xuICAgICAgdmFyIG1lc3NhZ2VFbGVtO1xuXG4gICAgICBpZiAobWVzc2FnZUlkIHx8IHZhbGlkYXRpb25Hcm91cCkgbWVzc2FnZUVsZW0gPSBhbmd1bGFyLmVsZW1lbnQoZG9jdW1lbnQucXVlcnlTZWxlY3RvcignIycgKyAobWVzc2FnZUlkIHx8IHZhbGlkYXRpb25Hcm91cCkpKTtcbiAgICAgIGVsc2UgbWVzc2FnZUVsZW0gPSAkdmFsaWRhdGlvblByb3ZpZGVyLmdldE1zZ0VsZW1lbnQoZWxlbWVudCk7XG5cbiAgICAgIGlmIChlbGVtZW50LmF0dHIoJ25vLXZhbGlkYXRpb24tbWVzc2FnZScpKSB7XG4gICAgICAgIG1lc3NhZ2VFbGVtLmNzcygnZGlzcGxheScsICdub25lJyk7XG4gICAgICB9IGVsc2UgaWYgKCR2YWxpZGF0aW9uUHJvdmlkZXIuc2hvd1N1Y2Nlc3NNZXNzYWdlICYmIG1lc3NhZ2VUb1Nob3cpIHtcbiAgICAgICAgbWVzc2FnZUVsZW0uaHRtbCgnJykuYXBwZW5kKCRjb21waWxlKCR2YWxpZGF0aW9uUHJvdmlkZXIuZ2V0U3VjY2Vzc0hUTUwobWVzc2FnZVRvU2hvdywgZWxlbWVudCwgYXR0cnMpKShzY29wZSkpO1xuICAgICAgICBtZXNzYWdlRWxlbS5jc3MoJ2Rpc3BsYXknLCAnJyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBtZXNzYWdlRWxlbS5jc3MoJ2Rpc3BsYXknLCAnbm9uZScpO1xuICAgICAgfVxuXG4gICAgICBjdHJsLiRzZXRWYWxpZGl0eShjdHJsLiRuYW1lLCB0cnVlKTtcbiAgICAgIHZhbGlkQ2FsbGJhY2soc2NvcGUsIHtcbiAgICAgICAgbWVzc2FnZTogbWVzc2FnZVRvU2hvd1xuICAgICAgfSk7XG4gICAgICBpZiAoJHZhbGlkYXRpb25Qcm92aWRlci52YWxpZENhbGxiYWNrKSAkdmFsaWRhdGlvblByb3ZpZGVyLnZhbGlkQ2FsbGJhY2soZWxlbWVudCk7XG5cbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH07XG5cblxuICAgIC8qKlxuICAgICAqIERvIHRoaXMgZnVuY3Rpb24gaWYgdmFsaWRhdGlvbiBpbnZhbGlkXG4gICAgICogQHBhcmFtIGVsZW1lbnRcbiAgICAgKiBAcGFyYW0gdmFsaWRNZXNzYWdlXG4gICAgICogQHBhcmFtIHZhbGlkYXRpb25cbiAgICAgKiBAcGFyYW0gY2FsbGJhY2tcbiAgICAgKiBAcGFyYW0gY3RybFxuICAgICAqIEByZXR1cm5zIHt9XG4gICAgICovXG4gICAgdmFyIGludmFsaWRGdW5jID0gZnVuY3Rpb24oZWxlbWVudCwgdmFsaWRNZXNzYWdlLCB2YWxpZGF0aW9uLCBzY29wZSwgY3RybCwgYXR0cnMpIHtcbiAgICAgIHZhciBtZXNzYWdlVG9TaG93ID0gdmFsaWRNZXNzYWdlIHx8ICR2YWxpZGF0aW9uUHJvdmlkZXIuZ2V0RGVmYXVsdE1zZyh2YWxpZGF0aW9uKS5lcnJvcjtcbiAgICAgIHZhciBpbnZhbGlkQ2FsbGJhY2sgPSAkcGFyc2UoYXR0cnMuaW52YWxpZENhbGxiYWNrKTtcbiAgICAgIHZhciBtZXNzYWdlSWQgPSBhdHRycy5tZXNzYWdlSWQ7XG4gICAgICB2YXIgdmFsaWRhdGlvbkdyb3VwID0gYXR0cnMudmFsaWRhdGlvbkdyb3VwO1xuICAgICAgdmFyIG1lc3NhZ2VFbGVtO1xuXG4gICAgICBpZiAobWVzc2FnZUlkIHx8IHZhbGlkYXRpb25Hcm91cCkgbWVzc2FnZUVsZW0gPSBhbmd1bGFyLmVsZW1lbnQoZG9jdW1lbnQucXVlcnlTZWxlY3RvcignIycgKyAobWVzc2FnZUlkIHx8IHZhbGlkYXRpb25Hcm91cCkpKTtcbiAgICAgIGVsc2UgbWVzc2FnZUVsZW0gPSAkdmFsaWRhdGlvblByb3ZpZGVyLmdldE1zZ0VsZW1lbnQoZWxlbWVudCk7XG5cbiAgICAgIGlmIChlbGVtZW50LmF0dHIoJ25vLXZhbGlkYXRpb24tbWVzc2FnZScpKSB7XG4gICAgICAgIG1lc3NhZ2VFbGVtLmNzcygnZGlzcGxheScsICdub25lJyk7XG4gICAgICB9IGVsc2UgaWYgKCR2YWxpZGF0aW9uUHJvdmlkZXIuc2hvd0Vycm9yTWVzc2FnZSAmJiBtZXNzYWdlVG9TaG93KSB7XG4gICAgICAgIG1lc3NhZ2VFbGVtLmh0bWwoJycpLmFwcGVuZCgkY29tcGlsZSgkdmFsaWRhdGlvblByb3ZpZGVyLmdldEVycm9ySFRNTChtZXNzYWdlVG9TaG93LCBlbGVtZW50LCBhdHRycykpKHNjb3BlKSk7XG4gICAgICAgIG1lc3NhZ2VFbGVtLmNzcygnZGlzcGxheScsICcnKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG1lc3NhZ2VFbGVtLmNzcygnZGlzcGxheScsICdub25lJyk7XG4gICAgICB9XG5cbiAgICAgIGN0cmwuJHNldFZhbGlkaXR5KGN0cmwuJG5hbWUsIGZhbHNlKTtcbiAgICAgIGludmFsaWRDYWxsYmFjayhzY29wZSwge1xuICAgICAgICBtZXNzYWdlOiBtZXNzYWdlVG9TaG93XG4gICAgICB9KTtcbiAgICAgIGlmICgkdmFsaWRhdGlvblByb3ZpZGVyLmludmFsaWRDYWxsYmFjaykgJHZhbGlkYXRpb25Qcm92aWRlci5pbnZhbGlkQ2FsbGJhY2soZWxlbWVudCk7XG5cbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogVmVyaWZ5IHdoZXRoZXIgdGhlcmUgaXMgb25lIG9mIHRoZSBlbGVtZW50cyBpbnNpZGUgdGhlIGdyb3VwIHZhbGlkLlxuICAgICAqIElmIHNvLCBpdCByZXR1cm5zIHRydWUsIG90aGVyd2lzZSwgaXQgcmV0dXJucyBmYWxzZVxuICAgICAqXG4gICAgICogQHBhcmFtIHZhbGlkYXRpb25Hcm91cFxuICAgICAqIEByZXR1cm4ge2Jvb2xlYW59XG4gICAgICovXG4gICAgdmFyIGNoZWNrVmFsaWRhdGlvbkdyb3VwID0gZnVuY3Rpb24odmFsaWRhdGlvbkdyb3VwKSB7XG4gICAgICB2YXIgZ3JvdXAgPSBncm91cHNbdmFsaWRhdGlvbkdyb3VwXTtcblxuICAgICAgcmV0dXJuIE9iamVjdC5rZXlzKGdyb3VwKS5zb21lKGZ1bmN0aW9uKGtleSkge1xuICAgICAgICByZXR1cm4gZ3JvdXBba2V5XTtcbiAgICAgIH0pO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBTZXQgdmFsaWRpdHkgdG8gYWxsIGVsZW1lbnRzIGluc2lkZSB0aGUgZ2l2ZW4gZ3JvdXBcbiAgICAgKlxuICAgICAqIEBwYXJhbSBzY29wZVxuICAgICAqIEBwYXJhbSBncm91cE5hbWVcbiAgICAgKiBAcGFyYW0gdmFsaWRpdHlcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBzZXRWYWxpZGF0aW9uR3JvdXAoc2NvcGUsIHZhbGlkYXRpb25Hcm91cCwgdmFsaWRpdHkpIHtcbiAgICAgIHZhciB2YWxpZGF0aW9uR3JvdXBFbGVtcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJypbdmFsaWRhdGlvbi1ncm91cD0nICsgdmFsaWRhdGlvbkdyb3VwICsgJ10nKTtcblxuICAgICAgLy8gTG9vcCB0aHJvdWdoIGFsbCBlbGVtZW50cyBpbnNpZGUgdGhlIGdyb3VwXG4gICAgICBmb3IgKHZhciBpID0gMCwgbGVuID0gdmFsaWRhdGlvbkdyb3VwRWxlbXMubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgdmFyIGVsZW0gPSB2YWxpZGF0aW9uR3JvdXBFbGVtc1tpXTtcbiAgICAgICAgdmFyIGZvcm1OYW1lID0gZWxlbS5mb3JtLm5hbWU7XG4gICAgICAgIHZhciBlbGVtTmFtZSA9IGVsZW0ubmFtZTtcbiAgICAgICAgc2NvcGVbZm9ybU5hbWVdW2VsZW1OYW1lXS4kc2V0VmFsaWRpdHkoZWxlbU5hbWUsIHZhbGlkaXR5KTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBjb2xsZWN0IGVsZW1lbnRzIGZvciBmb2N1c1xuICAgICAqIEB0eXBlIHtPYmplY3R9XG4gICAgICoqKnByaXZhdGUgdmFyaWFibGVcbiAgICAgKi9cbiAgICB2YXIgZm9jdXNFbGVtZW50cyA9IHt9O1xuXG5cbiAgICAvKipcbiAgICAgKiBDaGVjayBWYWxpZGF0aW9uIHdpdGggRnVuY3Rpb24gb3IgUmVnRXhwXG4gICAgICogQHBhcmFtIHNjb3BlXG4gICAgICogQHBhcmFtIGVsZW1lbnRcbiAgICAgKiBAcGFyYW0gYXR0cnNcbiAgICAgKiBAcGFyYW0gY3RybFxuICAgICAqIEBwYXJhbSB2YWxpZGF0aW9uXG4gICAgICogQHBhcmFtIHZhbHVlXG4gICAgICogQHJldHVybnMge31cbiAgICAgKi9cbiAgICB2YXIgY2hlY2tWYWxpZGF0aW9uID0gZnVuY3Rpb24oc2NvcGUsIGVsZW1lbnQsIGF0dHJzLCBjdHJsLCB2YWxpZGF0aW9uLCB2YWx1ZSkge1xuICAgICAgdmFyIHZhbGlkYXRvcnMgPSB2YWxpZGF0aW9uLnNsaWNlKDApO1xuICAgICAgdmFyIHZhbGlkYXRvckV4cHIgPSB2YWxpZGF0b3JzWzBdLnRyaW0oKTtcbiAgICAgIHZhciBwYXJhbUluZGV4ID0gdmFsaWRhdG9yRXhwci5pbmRleE9mKCc9Jyk7XG4gICAgICB2YXIgdmFsaWRhdG9yID0gcGFyYW1JbmRleCA9PT0gLTEgPyB2YWxpZGF0b3JFeHByIDogdmFsaWRhdG9yRXhwci5zdWJzdHIoMCwgcGFyYW1JbmRleCk7XG4gICAgICB2YXIgdmFsaWRhdG9yUGFyYW0gPSBwYXJhbUluZGV4ID09PSAtMSA/IG51bGwgOiB2YWxpZGF0b3JFeHByLnN1YnN0cihwYXJhbUluZGV4ICsgMSk7XG4gICAgICB2YXIgbGVmdFZhbGlkYXRpb24gPSB2YWxpZGF0b3JzLnNsaWNlKDEpO1xuICAgICAgdmFyIHN1Y2Nlc3NNZXNzYWdlID0gdmFsaWRhdG9yICsgJ1N1Y2Nlc3NNZXNzYWdlJztcbiAgICAgIHZhciBlcnJvck1lc3NhZ2UgPSB2YWxpZGF0b3IgKyAnRXJyb3JNZXNzYWdlJztcbiAgICAgIHZhciBleHByZXNzaW9uID0gJHZhbGlkYXRpb25Qcm92aWRlci5nZXRFeHByZXNzaW9uKHZhbGlkYXRvcik7XG4gICAgICB2YXIgdmFsaWRhdGlvbkdyb3VwID0gYXR0cnMudmFsaWRhdGlvbkdyb3VwO1xuICAgICAgdmFyIHZhbGlkID0ge1xuICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICB2YWxpZEZ1bmMoZWxlbWVudCwgYXR0cnNbc3VjY2Vzc01lc3NhZ2VdLCB2YWxpZGF0b3IsIHNjb3BlLCBjdHJsLCBhdHRycyk7XG4gICAgICAgICAgaWYgKGxlZnRWYWxpZGF0aW9uLmxlbmd0aCkge1xuICAgICAgICAgICAgcmV0dXJuIGNoZWNrVmFsaWRhdGlvbihzY29wZSwgZWxlbWVudCwgYXR0cnMsIGN0cmwsIGxlZnRWYWxpZGF0aW9uLCB2YWx1ZSk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgZXJyb3I6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgIHJldHVybiBpbnZhbGlkRnVuYyhlbGVtZW50LCBhdHRyc1tlcnJvck1lc3NhZ2VdLCB2YWxpZGF0b3IsIHNjb3BlLCBjdHJsLCBhdHRycyk7XG4gICAgICAgIH1cbiAgICAgIH07XG5cbiAgICAgIGlmIChleHByZXNzaW9uID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignWW91IGFyZSB1c2luZyB1bmRlZmluZWQgdmFsaWRhdG9yIFwiJXNcIicsIHZhbGlkYXRvcik7XG4gICAgICAgIGlmIChsZWZ0VmFsaWRhdGlvbi5sZW5ndGgpIHJldHVybiBjaGVja1ZhbGlkYXRpb24oc2NvcGUsIGVsZW1lbnQsIGF0dHJzLCBjdHJsLCBsZWZ0VmFsaWRhdGlvbiwgdmFsdWUpO1xuICAgICAgICBlbHNlIHJldHVybjtcbiAgICAgIH1cbiAgICAgIC8vIENoZWNrIHdpdGggRnVuY3Rpb25cbiAgICAgIGlmIChleHByZXNzaW9uLmNvbnN0cnVjdG9yID09PSBGdW5jdGlvbikge1xuICAgICAgICByZXR1cm4gJHEuYWxsKFskdmFsaWRhdGlvblByb3ZpZGVyLmdldEV4cHJlc3Npb24odmFsaWRhdG9yKSh2YWx1ZSwgc2NvcGUsIGVsZW1lbnQsIGF0dHJzLCB2YWxpZGF0b3JQYXJhbSldKVxuICAgICAgICAgIC50aGVuKGZ1bmN0aW9uKGRhdGEpIHtcbiAgICAgICAgICAgIGlmIChkYXRhICYmIGRhdGEubGVuZ3RoID4gMCAmJiBkYXRhWzBdKSB7XG4gICAgICAgICAgICAgIGlmICh2YWxpZGF0aW9uR3JvdXApIHtcbiAgICAgICAgICAgICAgICBncm91cHNbdmFsaWRhdGlvbkdyb3VwXVtjdHJsLiRuYW1lXSA9IHRydWU7XG4gICAgICAgICAgICAgICAgc2V0VmFsaWRhdGlvbkdyb3VwKHNjb3BlLCB2YWxpZGF0aW9uR3JvdXAsIHRydWUpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIHJldHVybiB2YWxpZC5zdWNjZXNzKCk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHZhbGlkYXRpb25Hcm91cCkge1xuICAgICAgICAgICAgICBncm91cHNbdmFsaWRhdGlvbkdyb3VwXVtjdHJsLiRuYW1lXSA9IGZhbHNlO1xuXG4gICAgICAgICAgICAgIC8vIFdoZW5ldmVyIHRoZSBlbGVtZW50IGlzIGludmFsaWQsIHdlJ2xsIGNoZWNrIHdoZXRoZXIgb25lIG9mIHRoZSBlbGVtZW50cyBpbnNpZGUgdGhlIGl0cyBncm91cCB2YWxpZCBvciBub3QuXG4gICAgICAgICAgICAgIC8vIElmIHRoZXJlIGlzIGEgdmFsaWQgZWxlbWVudCwgaXRzIGludmFsaWQgbWVzc2FnZSB3b24ndCBiZSBzaG93biwgT3RoZXJ3aXNlLCBzaG93cyBpdHMgaW52YWxpZCBtZXNzYWdlLlxuICAgICAgICAgICAgICBpZiAoY2hlY2tWYWxpZGF0aW9uR3JvdXAodmFsaWRhdGlvbkdyb3VwKSkge1xuICAgICAgICAgICAgICAgIHNldFZhbGlkYXRpb25Hcm91cChzY29wZSwgdmFsaWRhdGlvbkdyb3VwLCB0cnVlKTtcbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBzZXRWYWxpZGF0aW9uR3JvdXAoc2NvcGUsIHZhbGlkYXRpb25Hcm91cCwgZmFsc2UpO1xuICAgICAgICAgICAgICAgIHJldHVybiB2YWxpZC5lcnJvcigpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2UgcmV0dXJuIHZhbGlkLmVycm9yKCk7XG4gICAgICAgICAgfSwgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICByZXR1cm4gdmFsaWQuZXJyb3IoKTtcbiAgICAgICAgICB9KTtcbiAgICAgIH1cblxuICAgICAgLy8gQ2hlY2sgd2l0aCBSZWdFeHBcbiAgICAgIGVsc2UgaWYgKGV4cHJlc3Npb24uY29uc3RydWN0b3IgPT09IFJlZ0V4cCkge1xuICAgICAgICAvLyBPbmx5IGFwcGx5IHRoZSB0ZXN0IGlmIHRoZSB2YWx1ZSBpcyBuZWl0aGVyIHVuZGVmaW5lZCBvciBudWxsXG4gICAgICAgIGlmICh2YWx1ZSAhPT0gdW5kZWZpbmVkICYmIHZhbHVlICE9PSBudWxsKSB7XG4gICAgICAgICAgaWYgKCR2YWxpZGF0aW9uUHJvdmlkZXIuZ2V0RXhwcmVzc2lvbih2YWxpZGF0b3IpLnRlc3QodmFsdWUpKSB7XG4gICAgICAgICAgICBpZiAodmFsaWRhdGlvbkdyb3VwKSB7XG4gICAgICAgICAgICAgIGdyb3Vwc1t2YWxpZGF0aW9uR3JvdXBdW2N0cmwuJG5hbWVdID0gdHJ1ZTtcbiAgICAgICAgICAgICAgc2V0VmFsaWRhdGlvbkdyb3VwKHNjb3BlLCB2YWxpZGF0aW9uR3JvdXAsIHRydWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHZhbGlkLnN1Y2Nlc3MoKTtcbiAgICAgICAgICB9IGVsc2UgaWYgKHZhbGlkYXRpb25Hcm91cCkge1xuICAgICAgICAgICAgZ3JvdXBzW3ZhbGlkYXRpb25Hcm91cF1bY3RybC4kbmFtZV0gPSBmYWxzZTtcblxuICAgICAgICAgICAgLy8gV2hlbmV2ZXIgdGhlIGVsZW1lbnQgaXMgaW52YWxpZCwgd2UnbGwgY2hlY2sgd2hldGhlciBvbmUgb2YgdGhlIGVsZW1lbnRzIGluc2lkZSB0aGUgaXRzIGdyb3VwIHZhbGlkIG9yIG5vdC5cbiAgICAgICAgICAgIC8vIElmIHRoZXJlIGlzIGEgdmFsaWQgZWxlbWVudCwgaXRzIGludmFsaWQgbWVzc2FnZSB3b24ndCBiZSBzaG93biwgT3RoZXJ3aXNlLCBzaG93cyBpdHMgaW52YWxpZCBtZXNzYWdlLlxuICAgICAgICAgICAgaWYgKGNoZWNrVmFsaWRhdGlvbkdyb3VwKHZhbGlkYXRpb25Hcm91cCkpIHtcbiAgICAgICAgICAgICAgc2V0VmFsaWRhdGlvbkdyb3VwKHNjb3BlLCB2YWxpZGF0aW9uR3JvdXAsIHRydWUpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgc2V0VmFsaWRhdGlvbkdyb3VwKHNjb3BlLCB2YWxpZGF0aW9uR3JvdXAsIGZhbHNlKTtcbiAgICAgICAgICAgICAgcmV0dXJuIHZhbGlkLmVycm9yKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIHJldHVybiB2YWxpZC5lcnJvcigpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgcmV0dXJuIHZhbGlkLmVycm9yKCk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIGdlbmVyYXRlIHVuaXF1ZSBndWlkXG4gICAgICovXG4gICAgdmFyIHM0ID0gZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gKCgoMSArIE1hdGgucmFuZG9tKCkpICogMHgxMDAwMCkgfCAwKS50b1N0cmluZygxNikuc3Vic3RyaW5nKDEpO1xuICAgIH07XG4gICAgdmFyIGd1aWQgPSBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiAoczQoKSArIHM0KCkgKyBzNCgpICsgczQoKSk7XG4gICAgfTtcblxuXG4gICAgcmV0dXJuIHtcbiAgICAgIHJlc3RyaWN0OiAnQScsXG4gICAgICByZXF1aXJlOiAnbmdNb2RlbCcsXG4gICAgICBsaW5rOiBmdW5jdGlvbihzY29wZSwgZWxlbWVudCwgYXR0cnMsIGN0cmwpIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEFsbCBhdHRyaWJ1dGVzXG4gICAgICAgICAqL1xuICAgICAgICB2YXIgdmFsaWRhdG9yID0gYXR0cnMudmFsaWRhdG9yO1xuICAgICAgICB2YXIgbWVzc2FnZUlkID0gYXR0cnMubWVzc2FnZUlkO1xuICAgICAgICB2YXIgdmFsaWRhdGlvbkdyb3VwID0gYXR0cnMudmFsaWRhdGlvbkdyb3VwO1xuICAgICAgICB2YXIgdmFsaWRNZXRob2QgPSBhdHRycy52YWxpZE1ldGhvZDtcbiAgICAgICAgdmFyIG5nTW9kZWwgPSBhdHRycy5uZ01vZGVsO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiB3YXRjaFxuICAgICAgICAgKiBAdHlwZSB7d2F0Y2h9XG4gICAgICAgICAqXG4gICAgICAgICAqIFVzZSB0byBjb2xsZWN0IHNjb3BlLiR3YXRjaCBtZXRob2RcbiAgICAgICAgICpcbiAgICAgICAgICogdXNlIHdhdGNoKCkgdG8gZGVzdHJveSB0aGUgJHdhdGNoIG1ldGhvZFxuICAgICAgICAgKi9cbiAgICAgICAgdmFyIHdhdGNoID0gZnVuY3Rpb24oKSB7fTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogdmFsaWRhdG9yXG4gICAgICAgICAqIEB0eXBlIHtBcnJheX1cbiAgICAgICAgICpcbiAgICAgICAgICogQ29udmVydCB1c2VyIGlucHV0IFN0cmluZyB0byBBcnJheVxuICAgICAgICAgKi9cbiAgICAgICAgdmFyIHZhbGlkYXRpb24gPSB2YWxpZGF0b3Iuc3BsaXQoJywnKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogZ3VpZCB1c2VcbiAgICAgICAgICovXG4gICAgICAgIHZhciB1aWQgPSBjdHJsLnZhbGlkYXRpb25JZCA9IGd1aWQoKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogdG8gaGF2ZSBhdmFsdWUgdG8gcm9sbGJhY2sgdG9cbiAgICAgICAgICovXG4gICAgICAgIHZhciBvcmlnaW5hbFZpZXdWYWx1ZSA9IG51bGw7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFNldCBpbml0aWFsIHZhbGlkaXR5IHRvIHVuZGVmaW5lZCBpZiBubyBib29sZWFuIHZhbHVlIGlzIHRyYW5zbWl0dGVkXG4gICAgICAgICAqL1xuICAgICAgICB2YXIgaW5pdGlhbFZhbGlkaXR5O1xuICAgICAgICBpZiAodHlwZW9mIHNjb3BlLmluaXRpYWxWYWxpZGl0eSA9PT0gJ2Jvb2xlYW4nKSB7XG4gICAgICAgICAgaW5pdGlhbFZhbGlkaXR5ID0gc2NvcGUuaW5pdGlhbFZhbGlkaXR5O1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFNldCB1cCBncm91cHMgb2JqZWN0IGluIG9yZGVyIHRvIGtlZXAgdHJhY2sgdmFsaWRhdGlvbiBvZiBlbGVtZW50c1xuICAgICAgICAgKi9cbiAgICAgICAgaWYgKHZhbGlkYXRpb25Hcm91cCkge1xuICAgICAgICAgIGlmICghZ3JvdXBzW3ZhbGlkYXRpb25Hcm91cF0pIGdyb3Vwc1t2YWxpZGF0aW9uR3JvdXBdID0ge307XG4gICAgICAgICAgZ3JvdXBzW3ZhbGlkYXRpb25Hcm91cF1bY3RybC4kbmFtZV0gPSBmYWxzZTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBEZWZhdWx0IFZhbGlkL0ludmFsaWQgTWVzc2FnZVxuICAgICAgICAgKi9cbiAgICAgICAgaWYgKCEobWVzc2FnZUlkIHx8IHZhbGlkYXRpb25Hcm91cCkpICR2YWxpZGF0aW9uUHJvdmlkZXIuYWRkTXNnRWxlbWVudChlbGVtZW50KTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogU2V0IGN1c3RvbSBpbml0aWFsIHZhbGlkaXR5XG4gICAgICAgICAqIFVzYWdlOiA8aW5wdXQgaW5pdGlhbC12YWxpZGl0eT1cInRydWVcIiAuLi4gPlxuICAgICAgICAgKi9cbiAgICAgICAgY3RybC4kc2V0VmFsaWRpdHkoY3RybC4kbmFtZSwgaW5pdGlhbFZhbGlkaXR5KTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogUmVzZXQgdGhlIHZhbGlkYXRpb24gZm9yIHNwZWNpZmljIGZvcm1cbiAgICAgICAgICovXG4gICAgICAgIHNjb3BlLiRvbihjdHJsLiRuYW1lICsgJ3Jlc2V0LScgKyB1aWQsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgIC8qKlxuICAgICAgICAgICAqIGNsZWFyIHNjb3BlLiR3YXRjaCBoZXJlXG4gICAgICAgICAgICogd2hlbiByZXNldCBzdGF0dXNcbiAgICAgICAgICAgKiBjbGVhciB0aGUgJHdhdGNoIG1ldGhvZCB0byBwcmV2ZW50XG4gICAgICAgICAgICogJHdhdGNoIGFnYWluIHdoaWxlIHJlc2V0IHRoZSBmb3JtXG4gICAgICAgICAgICovXG4gICAgICAgICAgd2F0Y2goKTtcblxuICAgICAgICAgICR0aW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgY3RybC4kc2V0Vmlld1ZhbHVlKG9yaWdpbmFsVmlld1ZhbHVlKTtcbiAgICAgICAgICAgIGN0cmwuJHNldFByaXN0aW5lKCk7XG4gICAgICAgICAgICBjdHJsLiRzZXRWYWxpZGl0eShjdHJsLiRuYW1lLCB1bmRlZmluZWQpO1xuICAgICAgICAgICAgY3RybC4kcmVuZGVyKCk7XG4gICAgICAgICAgICBpZiAobWVzc2FnZUlkIHx8IHZhbGlkYXRpb25Hcm91cCkgYW5ndWxhci5lbGVtZW50KGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyMnICsgKG1lc3NhZ2VJZCB8fCB2YWxpZGF0aW9uR3JvdXApKSkuaHRtbCgnJyk7XG4gICAgICAgICAgICBlbHNlICR2YWxpZGF0aW9uUHJvdmlkZXIuZ2V0TXNnRWxlbWVudChlbGVtZW50KS5odG1sKCcnKTtcblxuICAgICAgICAgICAgaWYgKCR2YWxpZGF0aW9uUHJvdmlkZXIucmVzZXRDYWxsYmFjaykgJHZhbGlkYXRpb25Qcm92aWRlci5yZXNldENhbGxiYWNrKGVsZW1lbnQpO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQ2hlY2sgdmFsaWRhdG9yXG4gICAgICAgICAqL1xuICAgICAgICB2YWxpZE1ldGhvZCA9IChhbmd1bGFyLmlzVW5kZWZpbmVkKHZhbGlkTWV0aG9kKSkgPyAkdmFsaWRhdGlvblByb3ZpZGVyLmdldFZhbGlkTWV0aG9kKCkgOiB2YWxpZE1ldGhvZDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQ2xpY2sgc3VibWl0IGZvcm0sIGNoZWNrIHRoZSB2YWxpZGl0eSB3aGVuIHN1Ym1pdFxuICAgICAgICAgKi9cbiAgICAgICAgc2NvcGUuJG9uKGN0cmwuJG5hbWUgKyAnc3VibWl0LScgKyB1aWQsIGZ1bmN0aW9uKGV2ZW50LCBpbmRleCkge1xuICAgICAgICAgIHZhciB2YWx1ZSA9IGN0cmwuJHZpZXdWYWx1ZTtcbiAgICAgICAgICB2YXIgaXNWYWxpZCA9IGZhbHNlO1xuXG4gICAgICAgICAgaXNWYWxpZCA9IGNoZWNrVmFsaWRhdGlvbihzY29wZSwgZWxlbWVudCwgYXR0cnMsIGN0cmwsIHZhbGlkYXRpb24sIHZhbHVlKTtcblxuICAgICAgICAgIGlmICh2YWxpZE1ldGhvZCA9PT0gJ3N1Ym1pdCcpIHtcbiAgICAgICAgICAgIC8vIGNsZWFyIHByZXZpb3VzIHNjb3BlLiR3YXRjaFxuICAgICAgICAgICAgd2F0Y2goKTtcbiAgICAgICAgICAgIHdhdGNoID0gc2NvcGUuJHdhdGNoKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICByZXR1cm4gc2NvcGUuJGV2YWwobmdNb2RlbCk7XG4gICAgICAgICAgICB9LCBmdW5jdGlvbih2YWx1ZSwgb2xkVmFsdWUpIHtcbiAgICAgICAgICAgICAgLy8gZG9uJ3Qgd2F0Y2ggd2hlbiBpbml0XG4gICAgICAgICAgICAgIGlmICh2YWx1ZSA9PT0gb2xkVmFsdWUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAvLyBzY29wZS4kd2F0Y2ggd2lsbCB0cmFuc2xhdGUgJycgdG8gdW5kZWZpbmVkXG4gICAgICAgICAgICAgIC8vIHVuZGVmaW5lZC9udWxsIHdpbGwgcGFzcyB0aGUgcmVxdWlyZWQgc3VibWl0IC9eLisvXG4gICAgICAgICAgICAgIC8vIGNhdXNlIHNvbWUgZXJyb3IgaW4gdGhpcyB2YWxpZGF0aW9uXG4gICAgICAgICAgICAgIGlmICh2YWx1ZSA9PT0gdW5kZWZpbmVkIHx8IHZhbHVlID09PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgdmFsdWUgPSAnJztcbiAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgIGlzVmFsaWQgPSBjaGVja1ZhbGlkYXRpb24oc2NvcGUsIGVsZW1lbnQsIGF0dHJzLCBjdHJsLCB2YWxpZGF0aW9uLCB2YWx1ZSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICB2YXIgc2V0Rm9jdXMgPSBmdW5jdGlvbihpc1ZhbGlkKSB7XG4gICAgICAgICAgICBpZiAoaXNWYWxpZCkge1xuICAgICAgICAgICAgICBkZWxldGUgZm9jdXNFbGVtZW50c1tpbmRleF07XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBmb2N1c0VsZW1lbnRzW2luZGV4XSA9IGVsZW1lbnRbMF07XG5cbiAgICAgICAgICAgICAgJHRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgZm9jdXNFbGVtZW50c1tNYXRoLm1pbi5hcHBseShudWxsLCBPYmplY3Qua2V5cyhmb2N1c0VsZW1lbnRzKSldLmZvY3VzKCk7XG4gICAgICAgICAgICAgIH0sIDApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH07XG5cbiAgICAgICAgICBpZiAoaXNWYWxpZC5jb25zdHJ1Y3RvciA9PT0gT2JqZWN0KSBpc1ZhbGlkLnRoZW4oc2V0Rm9jdXMpO1xuICAgICAgICAgIGVsc2Ugc2V0Rm9jdXMoaXNWYWxpZCk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBWYWxpZGF0ZSBibHVyIG1ldGhvZFxuICAgICAgICAgKi9cbiAgICAgICAgaWYgKHZhbGlkTWV0aG9kID09PSAnYmx1cicpIHtcbiAgICAgICAgICBlbGVtZW50LmJpbmQoJ2JsdXInLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHZhciB2YWx1ZSA9IHNjb3BlLiRldmFsKG5nTW9kZWwpO1xuICAgICAgICAgICAgc2NvcGUuJGFwcGx5KGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICBjaGVja1ZhbGlkYXRpb24oc2NvcGUsIGVsZW1lbnQsIGF0dHJzLCBjdHJsLCB2YWxpZGF0aW9uLCB2YWx1ZSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9KTtcblxuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBWYWxpZGF0ZSBzdWJtaXQgJiBzdWJtaXQtb25seSBtZXRob2RcbiAgICAgICAgICovXG4gICAgICAgIGlmICh2YWxpZE1ldGhvZCA9PT0gJ3N1Ym1pdCcgfHwgdmFsaWRNZXRob2QgPT09ICdzdWJtaXQtb25seScpIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogVmFsaWRhdGUgd2F0Y2ggbWV0aG9kXG4gICAgICAgICAqIFRoaXMgaXMgdGhlIGRlZmF1bHQgbWV0aG9kXG4gICAgICAgICAqL1xuICAgICAgICBzY29wZS4kd2F0Y2goZnVuY3Rpb24oKSB7XG4gICAgICAgICAgcmV0dXJuIHNjb3BlLiRldmFsKG5nTW9kZWwpO1xuICAgICAgICB9LCBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgICAgIC8qKlxuICAgICAgICAgICAqIGRpcnR5LCBwcmlzdGluZSwgdmlld1ZhbHVlIGNvbnRyb2wgaGVyZVxuICAgICAgICAgICAqL1xuICAgICAgICAgIGlmIChjdHJsLiRwcmlzdGluZSAmJiBjdHJsLiR2aWV3VmFsdWUpIHtcbiAgICAgICAgICAgIC8vIGhhcyB2YWx1ZSB3aGVuIGluaXRpYWxcbiAgICAgICAgICAgIG9yaWdpbmFsVmlld1ZhbHVlID0gY3RybC4kdmlld1ZhbHVlIHx8ICcnO1xuICAgICAgICAgICAgY3RybC4kc2V0Vmlld1ZhbHVlKGN0cmwuJHZpZXdWYWx1ZSk7XG4gICAgICAgICAgfSBlbHNlIGlmIChjdHJsLiRwcmlzdGluZSkge1xuICAgICAgICAgICAgLy8gRG9uJ3QgdmFsaWRhdGUgZm9ybSB3aGVuIHRoZSBpbnB1dCBpcyBjbGVhbihwcmlzdGluZSlcbiAgICAgICAgICAgIGlmIChtZXNzYWdlSWQgfHwgdmFsaWRhdGlvbkdyb3VwKSBhbmd1bGFyLmVsZW1lbnQoZG9jdW1lbnQucXVlcnlTZWxlY3RvcignIycgKyAobWVzc2FnZUlkIHx8IHZhbGlkYXRpb25Hcm91cCkpKS5odG1sKCcnKTtcbiAgICAgICAgICAgIGVsc2UgJHZhbGlkYXRpb25Qcm92aWRlci5nZXRNc2dFbGVtZW50KGVsZW1lbnQpLmh0bWwoJycpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH1cbiAgICAgICAgICBjaGVja1ZhbGlkYXRpb24oc2NvcGUsIGVsZW1lbnQsIGF0dHJzLCBjdHJsLCB2YWxpZGF0aW9uLCB2YWx1ZSk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgICR0aW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgICAgICAgIC8qKlxuICAgICAgICAgICAqIERvbid0IHNob3d1cCB0aGUgdmFsaWRhdGlvbiBNZXNzYWdlXG4gICAgICAgICAgICovXG4gICAgICAgICAgYXR0cnMuJG9ic2VydmUoJ25vVmFsaWRhdGlvbk1lc3NhZ2UnLCBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgICAgICAgdmFyIGVsO1xuICAgICAgICAgICAgaWYgKG1lc3NhZ2VJZCB8fCB2YWxpZGF0aW9uR3JvdXApIGVsID0gYW5ndWxhci5lbGVtZW50KGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyMnICsgKG1lc3NhZ2VJZCB8fCB2YWxpZGF0aW9uR3JvdXApKSk7XG4gICAgICAgICAgICBlbHNlIGVsID0gJHZhbGlkYXRpb25Qcm92aWRlci5nZXRNc2dFbGVtZW50KGVsZW1lbnQpO1xuICAgICAgICAgICAgaWYgKHZhbHVlID09PSAndHJ1ZScgfHwgdmFsdWUgPT09IHRydWUpIGVsLmNzcygnZGlzcGxheScsICdub25lJyk7XG4gICAgICAgICAgICBlbHNlIGlmICh2YWx1ZSA9PT0gJ2ZhbHNlJyB8fCB2YWx1ZSA9PT0gZmFsc2UpIGVsLmNzcygnZGlzcGxheScsICdibG9jaycpO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9O1xuICB9XG4gIFZhbGlkYXRvci4kaW5qZWN0ID0gWyckaW5qZWN0b3InXTtcbn0pLmNhbGwodGhpcyk7XG4iLCIvLyBUaGlzIGZpbGUgaXMgYXV0b2dlbmVyYXRlZCB2aWEgdGhlIGBjb21tb25qc2AgR3J1bnQgdGFzay4gWW91IGNhbiByZXF1aXJlKCkgdGhpcyBmaWxlIGluIGEgQ29tbW9uSlMgZW52aXJvbm1lbnQuXG5yZXF1aXJlKCcuLi8uLi9qcy90cmFuc2l0aW9uLmpzJylcbnJlcXVpcmUoJy4uLy4uL2pzL2FsZXJ0LmpzJylcbnJlcXVpcmUoJy4uLy4uL2pzL2J1dHRvbi5qcycpXG5yZXF1aXJlKCcuLi8uLi9qcy9jYXJvdXNlbC5qcycpXG5yZXF1aXJlKCcuLi8uLi9qcy9jb2xsYXBzZS5qcycpXG5yZXF1aXJlKCcuLi8uLi9qcy9kcm9wZG93bi5qcycpXG5yZXF1aXJlKCcuLi8uLi9qcy9tb2RhbC5qcycpXG5yZXF1aXJlKCcuLi8uLi9qcy90b29sdGlwLmpzJylcbnJlcXVpcmUoJy4uLy4uL2pzL3BvcG92ZXIuanMnKVxucmVxdWlyZSgnLi4vLi4vanMvc2Nyb2xsc3B5LmpzJylcbnJlcXVpcmUoJy4uLy4uL2pzL3RhYi5qcycpXG5yZXF1aXJlKCcuLi8uLi9qcy9hZmZpeC5qcycpIiwiLyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKiBCb290c3RyYXA6IGFmZml4LmpzIHYzLjMuN1xuICogaHR0cDovL2dldGJvb3RzdHJhcC5jb20vamF2YXNjcmlwdC8jYWZmaXhcbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICogQ29weXJpZ2h0IDIwMTEtMjAxNiBUd2l0dGVyLCBJbmMuXG4gKiBMaWNlbnNlZCB1bmRlciBNSVQgKGh0dHBzOi8vZ2l0aHViLmNvbS90d2JzL2Jvb3RzdHJhcC9ibG9iL21hc3Rlci9MSUNFTlNFKVxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09ICovXG5cblxuK2Z1bmN0aW9uICgkKSB7XG4gICd1c2Ugc3RyaWN0JztcblxuICAvLyBBRkZJWCBDTEFTUyBERUZJTklUSU9OXG4gIC8vID09PT09PT09PT09PT09PT09PT09PT1cblxuICB2YXIgQWZmaXggPSBmdW5jdGlvbiAoZWxlbWVudCwgb3B0aW9ucykge1xuICAgIHRoaXMub3B0aW9ucyA9ICQuZXh0ZW5kKHt9LCBBZmZpeC5ERUZBVUxUUywgb3B0aW9ucylcblxuICAgIHRoaXMuJHRhcmdldCA9ICQodGhpcy5vcHRpb25zLnRhcmdldClcbiAgICAgIC5vbignc2Nyb2xsLmJzLmFmZml4LmRhdGEtYXBpJywgJC5wcm94eSh0aGlzLmNoZWNrUG9zaXRpb24sIHRoaXMpKVxuICAgICAgLm9uKCdjbGljay5icy5hZmZpeC5kYXRhLWFwaScsICAkLnByb3h5KHRoaXMuY2hlY2tQb3NpdGlvbldpdGhFdmVudExvb3AsIHRoaXMpKVxuXG4gICAgdGhpcy4kZWxlbWVudCAgICAgPSAkKGVsZW1lbnQpXG4gICAgdGhpcy5hZmZpeGVkICAgICAgPSBudWxsXG4gICAgdGhpcy51bnBpbiAgICAgICAgPSBudWxsXG4gICAgdGhpcy5waW5uZWRPZmZzZXQgPSBudWxsXG5cbiAgICB0aGlzLmNoZWNrUG9zaXRpb24oKVxuICB9XG5cbiAgQWZmaXguVkVSU0lPTiAgPSAnMy4zLjcnXG5cbiAgQWZmaXguUkVTRVQgICAgPSAnYWZmaXggYWZmaXgtdG9wIGFmZml4LWJvdHRvbSdcblxuICBBZmZpeC5ERUZBVUxUUyA9IHtcbiAgICBvZmZzZXQ6IDAsXG4gICAgdGFyZ2V0OiB3aW5kb3dcbiAgfVxuXG4gIEFmZml4LnByb3RvdHlwZS5nZXRTdGF0ZSA9IGZ1bmN0aW9uIChzY3JvbGxIZWlnaHQsIGhlaWdodCwgb2Zmc2V0VG9wLCBvZmZzZXRCb3R0b20pIHtcbiAgICB2YXIgc2Nyb2xsVG9wICAgID0gdGhpcy4kdGFyZ2V0LnNjcm9sbFRvcCgpXG4gICAgdmFyIHBvc2l0aW9uICAgICA9IHRoaXMuJGVsZW1lbnQub2Zmc2V0KClcbiAgICB2YXIgdGFyZ2V0SGVpZ2h0ID0gdGhpcy4kdGFyZ2V0LmhlaWdodCgpXG5cbiAgICBpZiAob2Zmc2V0VG9wICE9IG51bGwgJiYgdGhpcy5hZmZpeGVkID09ICd0b3AnKSByZXR1cm4gc2Nyb2xsVG9wIDwgb2Zmc2V0VG9wID8gJ3RvcCcgOiBmYWxzZVxuXG4gICAgaWYgKHRoaXMuYWZmaXhlZCA9PSAnYm90dG9tJykge1xuICAgICAgaWYgKG9mZnNldFRvcCAhPSBudWxsKSByZXR1cm4gKHNjcm9sbFRvcCArIHRoaXMudW5waW4gPD0gcG9zaXRpb24udG9wKSA/IGZhbHNlIDogJ2JvdHRvbSdcbiAgICAgIHJldHVybiAoc2Nyb2xsVG9wICsgdGFyZ2V0SGVpZ2h0IDw9IHNjcm9sbEhlaWdodCAtIG9mZnNldEJvdHRvbSkgPyBmYWxzZSA6ICdib3R0b20nXG4gICAgfVxuXG4gICAgdmFyIGluaXRpYWxpemluZyAgID0gdGhpcy5hZmZpeGVkID09IG51bGxcbiAgICB2YXIgY29sbGlkZXJUb3AgICAgPSBpbml0aWFsaXppbmcgPyBzY3JvbGxUb3AgOiBwb3NpdGlvbi50b3BcbiAgICB2YXIgY29sbGlkZXJIZWlnaHQgPSBpbml0aWFsaXppbmcgPyB0YXJnZXRIZWlnaHQgOiBoZWlnaHRcblxuICAgIGlmIChvZmZzZXRUb3AgIT0gbnVsbCAmJiBzY3JvbGxUb3AgPD0gb2Zmc2V0VG9wKSByZXR1cm4gJ3RvcCdcbiAgICBpZiAob2Zmc2V0Qm90dG9tICE9IG51bGwgJiYgKGNvbGxpZGVyVG9wICsgY29sbGlkZXJIZWlnaHQgPj0gc2Nyb2xsSGVpZ2h0IC0gb2Zmc2V0Qm90dG9tKSkgcmV0dXJuICdib3R0b20nXG5cbiAgICByZXR1cm4gZmFsc2VcbiAgfVxuXG4gIEFmZml4LnByb3RvdHlwZS5nZXRQaW5uZWRPZmZzZXQgPSBmdW5jdGlvbiAoKSB7XG4gICAgaWYgKHRoaXMucGlubmVkT2Zmc2V0KSByZXR1cm4gdGhpcy5waW5uZWRPZmZzZXRcbiAgICB0aGlzLiRlbGVtZW50LnJlbW92ZUNsYXNzKEFmZml4LlJFU0VUKS5hZGRDbGFzcygnYWZmaXgnKVxuICAgIHZhciBzY3JvbGxUb3AgPSB0aGlzLiR0YXJnZXQuc2Nyb2xsVG9wKClcbiAgICB2YXIgcG9zaXRpb24gID0gdGhpcy4kZWxlbWVudC5vZmZzZXQoKVxuICAgIHJldHVybiAodGhpcy5waW5uZWRPZmZzZXQgPSBwb3NpdGlvbi50b3AgLSBzY3JvbGxUb3ApXG4gIH1cblxuICBBZmZpeC5wcm90b3R5cGUuY2hlY2tQb3NpdGlvbldpdGhFdmVudExvb3AgPSBmdW5jdGlvbiAoKSB7XG4gICAgc2V0VGltZW91dCgkLnByb3h5KHRoaXMuY2hlY2tQb3NpdGlvbiwgdGhpcyksIDEpXG4gIH1cblxuICBBZmZpeC5wcm90b3R5cGUuY2hlY2tQb3NpdGlvbiA9IGZ1bmN0aW9uICgpIHtcbiAgICBpZiAoIXRoaXMuJGVsZW1lbnQuaXMoJzp2aXNpYmxlJykpIHJldHVyblxuXG4gICAgdmFyIGhlaWdodCAgICAgICA9IHRoaXMuJGVsZW1lbnQuaGVpZ2h0KClcbiAgICB2YXIgb2Zmc2V0ICAgICAgID0gdGhpcy5vcHRpb25zLm9mZnNldFxuICAgIHZhciBvZmZzZXRUb3AgICAgPSBvZmZzZXQudG9wXG4gICAgdmFyIG9mZnNldEJvdHRvbSA9IG9mZnNldC5ib3R0b21cbiAgICB2YXIgc2Nyb2xsSGVpZ2h0ID0gTWF0aC5tYXgoJChkb2N1bWVudCkuaGVpZ2h0KCksICQoZG9jdW1lbnQuYm9keSkuaGVpZ2h0KCkpXG5cbiAgICBpZiAodHlwZW9mIG9mZnNldCAhPSAnb2JqZWN0JykgICAgICAgICBvZmZzZXRCb3R0b20gPSBvZmZzZXRUb3AgPSBvZmZzZXRcbiAgICBpZiAodHlwZW9mIG9mZnNldFRvcCA9PSAnZnVuY3Rpb24nKSAgICBvZmZzZXRUb3AgICAgPSBvZmZzZXQudG9wKHRoaXMuJGVsZW1lbnQpXG4gICAgaWYgKHR5cGVvZiBvZmZzZXRCb3R0b20gPT0gJ2Z1bmN0aW9uJykgb2Zmc2V0Qm90dG9tID0gb2Zmc2V0LmJvdHRvbSh0aGlzLiRlbGVtZW50KVxuXG4gICAgdmFyIGFmZml4ID0gdGhpcy5nZXRTdGF0ZShzY3JvbGxIZWlnaHQsIGhlaWdodCwgb2Zmc2V0VG9wLCBvZmZzZXRCb3R0b20pXG5cbiAgICBpZiAodGhpcy5hZmZpeGVkICE9IGFmZml4KSB7XG4gICAgICBpZiAodGhpcy51bnBpbiAhPSBudWxsKSB0aGlzLiRlbGVtZW50LmNzcygndG9wJywgJycpXG5cbiAgICAgIHZhciBhZmZpeFR5cGUgPSAnYWZmaXgnICsgKGFmZml4ID8gJy0nICsgYWZmaXggOiAnJylcbiAgICAgIHZhciBlICAgICAgICAgPSAkLkV2ZW50KGFmZml4VHlwZSArICcuYnMuYWZmaXgnKVxuXG4gICAgICB0aGlzLiRlbGVtZW50LnRyaWdnZXIoZSlcblxuICAgICAgaWYgKGUuaXNEZWZhdWx0UHJldmVudGVkKCkpIHJldHVyblxuXG4gICAgICB0aGlzLmFmZml4ZWQgPSBhZmZpeFxuICAgICAgdGhpcy51bnBpbiA9IGFmZml4ID09ICdib3R0b20nID8gdGhpcy5nZXRQaW5uZWRPZmZzZXQoKSA6IG51bGxcblxuICAgICAgdGhpcy4kZWxlbWVudFxuICAgICAgICAucmVtb3ZlQ2xhc3MoQWZmaXguUkVTRVQpXG4gICAgICAgIC5hZGRDbGFzcyhhZmZpeFR5cGUpXG4gICAgICAgIC50cmlnZ2VyKGFmZml4VHlwZS5yZXBsYWNlKCdhZmZpeCcsICdhZmZpeGVkJykgKyAnLmJzLmFmZml4JylcbiAgICB9XG5cbiAgICBpZiAoYWZmaXggPT0gJ2JvdHRvbScpIHtcbiAgICAgIHRoaXMuJGVsZW1lbnQub2Zmc2V0KHtcbiAgICAgICAgdG9wOiBzY3JvbGxIZWlnaHQgLSBoZWlnaHQgLSBvZmZzZXRCb3R0b21cbiAgICAgIH0pXG4gICAgfVxuICB9XG5cblxuICAvLyBBRkZJWCBQTFVHSU4gREVGSU5JVElPTlxuICAvLyA9PT09PT09PT09PT09PT09PT09PT09PVxuXG4gIGZ1bmN0aW9uIFBsdWdpbihvcHRpb24pIHtcbiAgICByZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciAkdGhpcyAgID0gJCh0aGlzKVxuICAgICAgdmFyIGRhdGEgICAgPSAkdGhpcy5kYXRhKCdicy5hZmZpeCcpXG4gICAgICB2YXIgb3B0aW9ucyA9IHR5cGVvZiBvcHRpb24gPT0gJ29iamVjdCcgJiYgb3B0aW9uXG5cbiAgICAgIGlmICghZGF0YSkgJHRoaXMuZGF0YSgnYnMuYWZmaXgnLCAoZGF0YSA9IG5ldyBBZmZpeCh0aGlzLCBvcHRpb25zKSkpXG4gICAgICBpZiAodHlwZW9mIG9wdGlvbiA9PSAnc3RyaW5nJykgZGF0YVtvcHRpb25dKClcbiAgICB9KVxuICB9XG5cbiAgdmFyIG9sZCA9ICQuZm4uYWZmaXhcblxuICAkLmZuLmFmZml4ICAgICAgICAgICAgID0gUGx1Z2luXG4gICQuZm4uYWZmaXguQ29uc3RydWN0b3IgPSBBZmZpeFxuXG5cbiAgLy8gQUZGSVggTk8gQ09ORkxJQ1RcbiAgLy8gPT09PT09PT09PT09PT09PT1cblxuICAkLmZuLmFmZml4Lm5vQ29uZmxpY3QgPSBmdW5jdGlvbiAoKSB7XG4gICAgJC5mbi5hZmZpeCA9IG9sZFxuICAgIHJldHVybiB0aGlzXG4gIH1cblxuXG4gIC8vIEFGRklYIERBVEEtQVBJXG4gIC8vID09PT09PT09PT09PT09XG5cbiAgJCh3aW5kb3cpLm9uKCdsb2FkJywgZnVuY3Rpb24gKCkge1xuICAgICQoJ1tkYXRhLXNweT1cImFmZml4XCJdJykuZWFjaChmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgJHNweSA9ICQodGhpcylcbiAgICAgIHZhciBkYXRhID0gJHNweS5kYXRhKClcblxuICAgICAgZGF0YS5vZmZzZXQgPSBkYXRhLm9mZnNldCB8fCB7fVxuXG4gICAgICBpZiAoZGF0YS5vZmZzZXRCb3R0b20gIT0gbnVsbCkgZGF0YS5vZmZzZXQuYm90dG9tID0gZGF0YS5vZmZzZXRCb3R0b21cbiAgICAgIGlmIChkYXRhLm9mZnNldFRvcCAgICAhPSBudWxsKSBkYXRhLm9mZnNldC50b3AgICAgPSBkYXRhLm9mZnNldFRvcFxuXG4gICAgICBQbHVnaW4uY2FsbCgkc3B5LCBkYXRhKVxuICAgIH0pXG4gIH0pXG5cbn0oalF1ZXJ5KTtcbiIsIi8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICogQm9vdHN0cmFwOiBhbGVydC5qcyB2My4zLjdcbiAqIGh0dHA6Ly9nZXRib290c3RyYXAuY29tL2phdmFzY3JpcHQvI2FsZXJ0c1xuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKiBDb3B5cmlnaHQgMjAxMS0yMDE2IFR3aXR0ZXIsIEluYy5cbiAqIExpY2Vuc2VkIHVuZGVyIE1JVCAoaHR0cHM6Ly9naXRodWIuY29tL3R3YnMvYm9vdHN0cmFwL2Jsb2IvbWFzdGVyL0xJQ0VOU0UpXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gKi9cblxuXG4rZnVuY3Rpb24gKCQpIHtcbiAgJ3VzZSBzdHJpY3QnO1xuXG4gIC8vIEFMRVJUIENMQVNTIERFRklOSVRJT05cbiAgLy8gPT09PT09PT09PT09PT09PT09PT09PVxuXG4gIHZhciBkaXNtaXNzID0gJ1tkYXRhLWRpc21pc3M9XCJhbGVydFwiXSdcbiAgdmFyIEFsZXJ0ICAgPSBmdW5jdGlvbiAoZWwpIHtcbiAgICAkKGVsKS5vbignY2xpY2snLCBkaXNtaXNzLCB0aGlzLmNsb3NlKVxuICB9XG5cbiAgQWxlcnQuVkVSU0lPTiA9ICczLjMuNydcblxuICBBbGVydC5UUkFOU0lUSU9OX0RVUkFUSU9OID0gMTUwXG5cbiAgQWxlcnQucHJvdG90eXBlLmNsb3NlID0gZnVuY3Rpb24gKGUpIHtcbiAgICB2YXIgJHRoaXMgICAgPSAkKHRoaXMpXG4gICAgdmFyIHNlbGVjdG9yID0gJHRoaXMuYXR0cignZGF0YS10YXJnZXQnKVxuXG4gICAgaWYgKCFzZWxlY3Rvcikge1xuICAgICAgc2VsZWN0b3IgPSAkdGhpcy5hdHRyKCdocmVmJylcbiAgICAgIHNlbGVjdG9yID0gc2VsZWN0b3IgJiYgc2VsZWN0b3IucmVwbGFjZSgvLiooPz0jW15cXHNdKiQpLywgJycpIC8vIHN0cmlwIGZvciBpZTdcbiAgICB9XG5cbiAgICB2YXIgJHBhcmVudCA9ICQoc2VsZWN0b3IgPT09ICcjJyA/IFtdIDogc2VsZWN0b3IpXG5cbiAgICBpZiAoZSkgZS5wcmV2ZW50RGVmYXVsdCgpXG5cbiAgICBpZiAoISRwYXJlbnQubGVuZ3RoKSB7XG4gICAgICAkcGFyZW50ID0gJHRoaXMuY2xvc2VzdCgnLmFsZXJ0JylcbiAgICB9XG5cbiAgICAkcGFyZW50LnRyaWdnZXIoZSA9ICQuRXZlbnQoJ2Nsb3NlLmJzLmFsZXJ0JykpXG5cbiAgICBpZiAoZS5pc0RlZmF1bHRQcmV2ZW50ZWQoKSkgcmV0dXJuXG5cbiAgICAkcGFyZW50LnJlbW92ZUNsYXNzKCdpbicpXG5cbiAgICBmdW5jdGlvbiByZW1vdmVFbGVtZW50KCkge1xuICAgICAgLy8gZGV0YWNoIGZyb20gcGFyZW50LCBmaXJlIGV2ZW50IHRoZW4gY2xlYW4gdXAgZGF0YVxuICAgICAgJHBhcmVudC5kZXRhY2goKS50cmlnZ2VyKCdjbG9zZWQuYnMuYWxlcnQnKS5yZW1vdmUoKVxuICAgIH1cblxuICAgICQuc3VwcG9ydC50cmFuc2l0aW9uICYmICRwYXJlbnQuaGFzQ2xhc3MoJ2ZhZGUnKSA/XG4gICAgICAkcGFyZW50XG4gICAgICAgIC5vbmUoJ2JzVHJhbnNpdGlvbkVuZCcsIHJlbW92ZUVsZW1lbnQpXG4gICAgICAgIC5lbXVsYXRlVHJhbnNpdGlvbkVuZChBbGVydC5UUkFOU0lUSU9OX0RVUkFUSU9OKSA6XG4gICAgICByZW1vdmVFbGVtZW50KClcbiAgfVxuXG5cbiAgLy8gQUxFUlQgUExVR0lOIERFRklOSVRJT05cbiAgLy8gPT09PT09PT09PT09PT09PT09PT09PT1cblxuICBmdW5jdGlvbiBQbHVnaW4ob3B0aW9uKSB7XG4gICAgcmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgJHRoaXMgPSAkKHRoaXMpXG4gICAgICB2YXIgZGF0YSAgPSAkdGhpcy5kYXRhKCdicy5hbGVydCcpXG5cbiAgICAgIGlmICghZGF0YSkgJHRoaXMuZGF0YSgnYnMuYWxlcnQnLCAoZGF0YSA9IG5ldyBBbGVydCh0aGlzKSkpXG4gICAgICBpZiAodHlwZW9mIG9wdGlvbiA9PSAnc3RyaW5nJykgZGF0YVtvcHRpb25dLmNhbGwoJHRoaXMpXG4gICAgfSlcbiAgfVxuXG4gIHZhciBvbGQgPSAkLmZuLmFsZXJ0XG5cbiAgJC5mbi5hbGVydCAgICAgICAgICAgICA9IFBsdWdpblxuICAkLmZuLmFsZXJ0LkNvbnN0cnVjdG9yID0gQWxlcnRcblxuXG4gIC8vIEFMRVJUIE5PIENPTkZMSUNUXG4gIC8vID09PT09PT09PT09PT09PT09XG5cbiAgJC5mbi5hbGVydC5ub0NvbmZsaWN0ID0gZnVuY3Rpb24gKCkge1xuICAgICQuZm4uYWxlcnQgPSBvbGRcbiAgICByZXR1cm4gdGhpc1xuICB9XG5cblxuICAvLyBBTEVSVCBEQVRBLUFQSVxuICAvLyA9PT09PT09PT09PT09PVxuXG4gICQoZG9jdW1lbnQpLm9uKCdjbGljay5icy5hbGVydC5kYXRhLWFwaScsIGRpc21pc3MsIEFsZXJ0LnByb3RvdHlwZS5jbG9zZSlcblxufShqUXVlcnkpO1xuIiwiLyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKiBCb290c3RyYXA6IGJ1dHRvbi5qcyB2My4zLjdcbiAqIGh0dHA6Ly9nZXRib290c3RyYXAuY29tL2phdmFzY3JpcHQvI2J1dHRvbnNcbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICogQ29weXJpZ2h0IDIwMTEtMjAxNiBUd2l0dGVyLCBJbmMuXG4gKiBMaWNlbnNlZCB1bmRlciBNSVQgKGh0dHBzOi8vZ2l0aHViLmNvbS90d2JzL2Jvb3RzdHJhcC9ibG9iL21hc3Rlci9MSUNFTlNFKVxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09ICovXG5cblxuK2Z1bmN0aW9uICgkKSB7XG4gICd1c2Ugc3RyaWN0JztcblxuICAvLyBCVVRUT04gUFVCTElDIENMQVNTIERFRklOSVRJT05cbiAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbiAgdmFyIEJ1dHRvbiA9IGZ1bmN0aW9uIChlbGVtZW50LCBvcHRpb25zKSB7XG4gICAgdGhpcy4kZWxlbWVudCAgPSAkKGVsZW1lbnQpXG4gICAgdGhpcy5vcHRpb25zICAgPSAkLmV4dGVuZCh7fSwgQnV0dG9uLkRFRkFVTFRTLCBvcHRpb25zKVxuICAgIHRoaXMuaXNMb2FkaW5nID0gZmFsc2VcbiAgfVxuXG4gIEJ1dHRvbi5WRVJTSU9OICA9ICczLjMuNydcblxuICBCdXR0b24uREVGQVVMVFMgPSB7XG4gICAgbG9hZGluZ1RleHQ6ICdsb2FkaW5nLi4uJ1xuICB9XG5cbiAgQnV0dG9uLnByb3RvdHlwZS5zZXRTdGF0ZSA9IGZ1bmN0aW9uIChzdGF0ZSkge1xuICAgIHZhciBkICAgID0gJ2Rpc2FibGVkJ1xuICAgIHZhciAkZWwgID0gdGhpcy4kZWxlbWVudFxuICAgIHZhciB2YWwgID0gJGVsLmlzKCdpbnB1dCcpID8gJ3ZhbCcgOiAnaHRtbCdcbiAgICB2YXIgZGF0YSA9ICRlbC5kYXRhKClcblxuICAgIHN0YXRlICs9ICdUZXh0J1xuXG4gICAgaWYgKGRhdGEucmVzZXRUZXh0ID09IG51bGwpICRlbC5kYXRhKCdyZXNldFRleHQnLCAkZWxbdmFsXSgpKVxuXG4gICAgLy8gcHVzaCB0byBldmVudCBsb29wIHRvIGFsbG93IGZvcm1zIHRvIHN1Ym1pdFxuICAgIHNldFRpbWVvdXQoJC5wcm94eShmdW5jdGlvbiAoKSB7XG4gICAgICAkZWxbdmFsXShkYXRhW3N0YXRlXSA9PSBudWxsID8gdGhpcy5vcHRpb25zW3N0YXRlXSA6IGRhdGFbc3RhdGVdKVxuXG4gICAgICBpZiAoc3RhdGUgPT0gJ2xvYWRpbmdUZXh0Jykge1xuICAgICAgICB0aGlzLmlzTG9hZGluZyA9IHRydWVcbiAgICAgICAgJGVsLmFkZENsYXNzKGQpLmF0dHIoZCwgZCkucHJvcChkLCB0cnVlKVxuICAgICAgfSBlbHNlIGlmICh0aGlzLmlzTG9hZGluZykge1xuICAgICAgICB0aGlzLmlzTG9hZGluZyA9IGZhbHNlXG4gICAgICAgICRlbC5yZW1vdmVDbGFzcyhkKS5yZW1vdmVBdHRyKGQpLnByb3AoZCwgZmFsc2UpXG4gICAgICB9XG4gICAgfSwgdGhpcyksIDApXG4gIH1cblxuICBCdXR0b24ucHJvdG90eXBlLnRvZ2dsZSA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgY2hhbmdlZCA9IHRydWVcbiAgICB2YXIgJHBhcmVudCA9IHRoaXMuJGVsZW1lbnQuY2xvc2VzdCgnW2RhdGEtdG9nZ2xlPVwiYnV0dG9uc1wiXScpXG5cbiAgICBpZiAoJHBhcmVudC5sZW5ndGgpIHtcbiAgICAgIHZhciAkaW5wdXQgPSB0aGlzLiRlbGVtZW50LmZpbmQoJ2lucHV0JylcbiAgICAgIGlmICgkaW5wdXQucHJvcCgndHlwZScpID09ICdyYWRpbycpIHtcbiAgICAgICAgaWYgKCRpbnB1dC5wcm9wKCdjaGVja2VkJykpIGNoYW5nZWQgPSBmYWxzZVxuICAgICAgICAkcGFyZW50LmZpbmQoJy5hY3RpdmUnKS5yZW1vdmVDbGFzcygnYWN0aXZlJylcbiAgICAgICAgdGhpcy4kZWxlbWVudC5hZGRDbGFzcygnYWN0aXZlJylcbiAgICAgIH0gZWxzZSBpZiAoJGlucHV0LnByb3AoJ3R5cGUnKSA9PSAnY2hlY2tib3gnKSB7XG4gICAgICAgIGlmICgoJGlucHV0LnByb3AoJ2NoZWNrZWQnKSkgIT09IHRoaXMuJGVsZW1lbnQuaGFzQ2xhc3MoJ2FjdGl2ZScpKSBjaGFuZ2VkID0gZmFsc2VcbiAgICAgICAgdGhpcy4kZWxlbWVudC50b2dnbGVDbGFzcygnYWN0aXZlJylcbiAgICAgIH1cbiAgICAgICRpbnB1dC5wcm9wKCdjaGVja2VkJywgdGhpcy4kZWxlbWVudC5oYXNDbGFzcygnYWN0aXZlJykpXG4gICAgICBpZiAoY2hhbmdlZCkgJGlucHV0LnRyaWdnZXIoJ2NoYW5nZScpXG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuJGVsZW1lbnQuYXR0cignYXJpYS1wcmVzc2VkJywgIXRoaXMuJGVsZW1lbnQuaGFzQ2xhc3MoJ2FjdGl2ZScpKVxuICAgICAgdGhpcy4kZWxlbWVudC50b2dnbGVDbGFzcygnYWN0aXZlJylcbiAgICB9XG4gIH1cblxuXG4gIC8vIEJVVFRPTiBQTFVHSU4gREVGSU5JVElPTlxuICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT1cblxuICBmdW5jdGlvbiBQbHVnaW4ob3B0aW9uKSB7XG4gICAgcmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgJHRoaXMgICA9ICQodGhpcylcbiAgICAgIHZhciBkYXRhICAgID0gJHRoaXMuZGF0YSgnYnMuYnV0dG9uJylcbiAgICAgIHZhciBvcHRpb25zID0gdHlwZW9mIG9wdGlvbiA9PSAnb2JqZWN0JyAmJiBvcHRpb25cblxuICAgICAgaWYgKCFkYXRhKSAkdGhpcy5kYXRhKCdicy5idXR0b24nLCAoZGF0YSA9IG5ldyBCdXR0b24odGhpcywgb3B0aW9ucykpKVxuXG4gICAgICBpZiAob3B0aW9uID09ICd0b2dnbGUnKSBkYXRhLnRvZ2dsZSgpXG4gICAgICBlbHNlIGlmIChvcHRpb24pIGRhdGEuc2V0U3RhdGUob3B0aW9uKVxuICAgIH0pXG4gIH1cblxuICB2YXIgb2xkID0gJC5mbi5idXR0b25cblxuICAkLmZuLmJ1dHRvbiAgICAgICAgICAgICA9IFBsdWdpblxuICAkLmZuLmJ1dHRvbi5Db25zdHJ1Y3RvciA9IEJ1dHRvblxuXG5cbiAgLy8gQlVUVE9OIE5PIENPTkZMSUNUXG4gIC8vID09PT09PT09PT09PT09PT09PVxuXG4gICQuZm4uYnV0dG9uLm5vQ29uZmxpY3QgPSBmdW5jdGlvbiAoKSB7XG4gICAgJC5mbi5idXR0b24gPSBvbGRcbiAgICByZXR1cm4gdGhpc1xuICB9XG5cblxuICAvLyBCVVRUT04gREFUQS1BUElcbiAgLy8gPT09PT09PT09PT09PT09XG5cbiAgJChkb2N1bWVudClcbiAgICAub24oJ2NsaWNrLmJzLmJ1dHRvbi5kYXRhLWFwaScsICdbZGF0YS10b2dnbGVePVwiYnV0dG9uXCJdJywgZnVuY3Rpb24gKGUpIHtcbiAgICAgIHZhciAkYnRuID0gJChlLnRhcmdldCkuY2xvc2VzdCgnLmJ0bicpXG4gICAgICBQbHVnaW4uY2FsbCgkYnRuLCAndG9nZ2xlJylcbiAgICAgIGlmICghKCQoZS50YXJnZXQpLmlzKCdpbnB1dFt0eXBlPVwicmFkaW9cIl0sIGlucHV0W3R5cGU9XCJjaGVja2JveFwiXScpKSkge1xuICAgICAgICAvLyBQcmV2ZW50IGRvdWJsZSBjbGljayBvbiByYWRpb3MsIGFuZCB0aGUgZG91YmxlIHNlbGVjdGlvbnMgKHNvIGNhbmNlbGxhdGlvbikgb24gY2hlY2tib3hlc1xuICAgICAgICBlLnByZXZlbnREZWZhdWx0KClcbiAgICAgICAgLy8gVGhlIHRhcmdldCBjb21wb25lbnQgc3RpbGwgcmVjZWl2ZSB0aGUgZm9jdXNcbiAgICAgICAgaWYgKCRidG4uaXMoJ2lucHV0LGJ1dHRvbicpKSAkYnRuLnRyaWdnZXIoJ2ZvY3VzJylcbiAgICAgICAgZWxzZSAkYnRuLmZpbmQoJ2lucHV0OnZpc2libGUsYnV0dG9uOnZpc2libGUnKS5maXJzdCgpLnRyaWdnZXIoJ2ZvY3VzJylcbiAgICAgIH1cbiAgICB9KVxuICAgIC5vbignZm9jdXMuYnMuYnV0dG9uLmRhdGEtYXBpIGJsdXIuYnMuYnV0dG9uLmRhdGEtYXBpJywgJ1tkYXRhLXRvZ2dsZV49XCJidXR0b25cIl0nLCBmdW5jdGlvbiAoZSkge1xuICAgICAgJChlLnRhcmdldCkuY2xvc2VzdCgnLmJ0bicpLnRvZ2dsZUNsYXNzKCdmb2N1cycsIC9eZm9jdXMoaW4pPyQvLnRlc3QoZS50eXBlKSlcbiAgICB9KVxuXG59KGpRdWVyeSk7XG4iLCIvKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqIEJvb3RzdHJhcDogY2Fyb3VzZWwuanMgdjMuMy43XG4gKiBodHRwOi8vZ2V0Ym9vdHN0cmFwLmNvbS9qYXZhc2NyaXB0LyNjYXJvdXNlbFxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKiBDb3B5cmlnaHQgMjAxMS0yMDE2IFR3aXR0ZXIsIEluYy5cbiAqIExpY2Vuc2VkIHVuZGVyIE1JVCAoaHR0cHM6Ly9naXRodWIuY29tL3R3YnMvYm9vdHN0cmFwL2Jsb2IvbWFzdGVyL0xJQ0VOU0UpXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gKi9cblxuXG4rZnVuY3Rpb24gKCQpIHtcbiAgJ3VzZSBzdHJpY3QnO1xuXG4gIC8vIENBUk9VU0VMIENMQVNTIERFRklOSVRJT05cbiAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PVxuXG4gIHZhciBDYXJvdXNlbCA9IGZ1bmN0aW9uIChlbGVtZW50LCBvcHRpb25zKSB7XG4gICAgdGhpcy4kZWxlbWVudCAgICA9ICQoZWxlbWVudClcbiAgICB0aGlzLiRpbmRpY2F0b3JzID0gdGhpcy4kZWxlbWVudC5maW5kKCcuY2Fyb3VzZWwtaW5kaWNhdG9ycycpXG4gICAgdGhpcy5vcHRpb25zICAgICA9IG9wdGlvbnNcbiAgICB0aGlzLnBhdXNlZCAgICAgID0gbnVsbFxuICAgIHRoaXMuc2xpZGluZyAgICAgPSBudWxsXG4gICAgdGhpcy5pbnRlcnZhbCAgICA9IG51bGxcbiAgICB0aGlzLiRhY3RpdmUgICAgID0gbnVsbFxuICAgIHRoaXMuJGl0ZW1zICAgICAgPSBudWxsXG5cbiAgICB0aGlzLm9wdGlvbnMua2V5Ym9hcmQgJiYgdGhpcy4kZWxlbWVudC5vbigna2V5ZG93bi5icy5jYXJvdXNlbCcsICQucHJveHkodGhpcy5rZXlkb3duLCB0aGlzKSlcblxuICAgIHRoaXMub3B0aW9ucy5wYXVzZSA9PSAnaG92ZXInICYmICEoJ29udG91Y2hzdGFydCcgaW4gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50KSAmJiB0aGlzLiRlbGVtZW50XG4gICAgICAub24oJ21vdXNlZW50ZXIuYnMuY2Fyb3VzZWwnLCAkLnByb3h5KHRoaXMucGF1c2UsIHRoaXMpKVxuICAgICAgLm9uKCdtb3VzZWxlYXZlLmJzLmNhcm91c2VsJywgJC5wcm94eSh0aGlzLmN5Y2xlLCB0aGlzKSlcbiAgfVxuXG4gIENhcm91c2VsLlZFUlNJT04gID0gJzMuMy43J1xuXG4gIENhcm91c2VsLlRSQU5TSVRJT05fRFVSQVRJT04gPSA2MDBcblxuICBDYXJvdXNlbC5ERUZBVUxUUyA9IHtcbiAgICBpbnRlcnZhbDogNTAwMCxcbiAgICBwYXVzZTogJ2hvdmVyJyxcbiAgICB3cmFwOiB0cnVlLFxuICAgIGtleWJvYXJkOiB0cnVlXG4gIH1cblxuICBDYXJvdXNlbC5wcm90b3R5cGUua2V5ZG93biA9IGZ1bmN0aW9uIChlKSB7XG4gICAgaWYgKC9pbnB1dHx0ZXh0YXJlYS9pLnRlc3QoZS50YXJnZXQudGFnTmFtZSkpIHJldHVyblxuICAgIHN3aXRjaCAoZS53aGljaCkge1xuICAgICAgY2FzZSAzNzogdGhpcy5wcmV2KCk7IGJyZWFrXG4gICAgICBjYXNlIDM5OiB0aGlzLm5leHQoKTsgYnJlYWtcbiAgICAgIGRlZmF1bHQ6IHJldHVyblxuICAgIH1cblxuICAgIGUucHJldmVudERlZmF1bHQoKVxuICB9XG5cbiAgQ2Fyb3VzZWwucHJvdG90eXBlLmN5Y2xlID0gZnVuY3Rpb24gKGUpIHtcbiAgICBlIHx8ICh0aGlzLnBhdXNlZCA9IGZhbHNlKVxuXG4gICAgdGhpcy5pbnRlcnZhbCAmJiBjbGVhckludGVydmFsKHRoaXMuaW50ZXJ2YWwpXG5cbiAgICB0aGlzLm9wdGlvbnMuaW50ZXJ2YWxcbiAgICAgICYmICF0aGlzLnBhdXNlZFxuICAgICAgJiYgKHRoaXMuaW50ZXJ2YWwgPSBzZXRJbnRlcnZhbCgkLnByb3h5KHRoaXMubmV4dCwgdGhpcyksIHRoaXMub3B0aW9ucy5pbnRlcnZhbCkpXG5cbiAgICByZXR1cm4gdGhpc1xuICB9XG5cbiAgQ2Fyb3VzZWwucHJvdG90eXBlLmdldEl0ZW1JbmRleCA9IGZ1bmN0aW9uIChpdGVtKSB7XG4gICAgdGhpcy4kaXRlbXMgPSBpdGVtLnBhcmVudCgpLmNoaWxkcmVuKCcuaXRlbScpXG4gICAgcmV0dXJuIHRoaXMuJGl0ZW1zLmluZGV4KGl0ZW0gfHwgdGhpcy4kYWN0aXZlKVxuICB9XG5cbiAgQ2Fyb3VzZWwucHJvdG90eXBlLmdldEl0ZW1Gb3JEaXJlY3Rpb24gPSBmdW5jdGlvbiAoZGlyZWN0aW9uLCBhY3RpdmUpIHtcbiAgICB2YXIgYWN0aXZlSW5kZXggPSB0aGlzLmdldEl0ZW1JbmRleChhY3RpdmUpXG4gICAgdmFyIHdpbGxXcmFwID0gKGRpcmVjdGlvbiA9PSAncHJldicgJiYgYWN0aXZlSW5kZXggPT09IDApXG4gICAgICAgICAgICAgICAgfHwgKGRpcmVjdGlvbiA9PSAnbmV4dCcgJiYgYWN0aXZlSW5kZXggPT0gKHRoaXMuJGl0ZW1zLmxlbmd0aCAtIDEpKVxuICAgIGlmICh3aWxsV3JhcCAmJiAhdGhpcy5vcHRpb25zLndyYXApIHJldHVybiBhY3RpdmVcbiAgICB2YXIgZGVsdGEgPSBkaXJlY3Rpb24gPT0gJ3ByZXYnID8gLTEgOiAxXG4gICAgdmFyIGl0ZW1JbmRleCA9IChhY3RpdmVJbmRleCArIGRlbHRhKSAlIHRoaXMuJGl0ZW1zLmxlbmd0aFxuICAgIHJldHVybiB0aGlzLiRpdGVtcy5lcShpdGVtSW5kZXgpXG4gIH1cblxuICBDYXJvdXNlbC5wcm90b3R5cGUudG8gPSBmdW5jdGlvbiAocG9zKSB7XG4gICAgdmFyIHRoYXQgICAgICAgID0gdGhpc1xuICAgIHZhciBhY3RpdmVJbmRleCA9IHRoaXMuZ2V0SXRlbUluZGV4KHRoaXMuJGFjdGl2ZSA9IHRoaXMuJGVsZW1lbnQuZmluZCgnLml0ZW0uYWN0aXZlJykpXG5cbiAgICBpZiAocG9zID4gKHRoaXMuJGl0ZW1zLmxlbmd0aCAtIDEpIHx8IHBvcyA8IDApIHJldHVyblxuXG4gICAgaWYgKHRoaXMuc2xpZGluZykgICAgICAgcmV0dXJuIHRoaXMuJGVsZW1lbnQub25lKCdzbGlkLmJzLmNhcm91c2VsJywgZnVuY3Rpb24gKCkgeyB0aGF0LnRvKHBvcykgfSkgLy8geWVzLCBcInNsaWRcIlxuICAgIGlmIChhY3RpdmVJbmRleCA9PSBwb3MpIHJldHVybiB0aGlzLnBhdXNlKCkuY3ljbGUoKVxuXG4gICAgcmV0dXJuIHRoaXMuc2xpZGUocG9zID4gYWN0aXZlSW5kZXggPyAnbmV4dCcgOiAncHJldicsIHRoaXMuJGl0ZW1zLmVxKHBvcykpXG4gIH1cblxuICBDYXJvdXNlbC5wcm90b3R5cGUucGF1c2UgPSBmdW5jdGlvbiAoZSkge1xuICAgIGUgfHwgKHRoaXMucGF1c2VkID0gdHJ1ZSlcblxuICAgIGlmICh0aGlzLiRlbGVtZW50LmZpbmQoJy5uZXh0LCAucHJldicpLmxlbmd0aCAmJiAkLnN1cHBvcnQudHJhbnNpdGlvbikge1xuICAgICAgdGhpcy4kZWxlbWVudC50cmlnZ2VyKCQuc3VwcG9ydC50cmFuc2l0aW9uLmVuZClcbiAgICAgIHRoaXMuY3ljbGUodHJ1ZSlcbiAgICB9XG5cbiAgICB0aGlzLmludGVydmFsID0gY2xlYXJJbnRlcnZhbCh0aGlzLmludGVydmFsKVxuXG4gICAgcmV0dXJuIHRoaXNcbiAgfVxuXG4gIENhcm91c2VsLnByb3RvdHlwZS5uZXh0ID0gZnVuY3Rpb24gKCkge1xuICAgIGlmICh0aGlzLnNsaWRpbmcpIHJldHVyblxuICAgIHJldHVybiB0aGlzLnNsaWRlKCduZXh0JylcbiAgfVxuXG4gIENhcm91c2VsLnByb3RvdHlwZS5wcmV2ID0gZnVuY3Rpb24gKCkge1xuICAgIGlmICh0aGlzLnNsaWRpbmcpIHJldHVyblxuICAgIHJldHVybiB0aGlzLnNsaWRlKCdwcmV2JylcbiAgfVxuXG4gIENhcm91c2VsLnByb3RvdHlwZS5zbGlkZSA9IGZ1bmN0aW9uICh0eXBlLCBuZXh0KSB7XG4gICAgdmFyICRhY3RpdmUgICA9IHRoaXMuJGVsZW1lbnQuZmluZCgnLml0ZW0uYWN0aXZlJylcbiAgICB2YXIgJG5leHQgICAgID0gbmV4dCB8fCB0aGlzLmdldEl0ZW1Gb3JEaXJlY3Rpb24odHlwZSwgJGFjdGl2ZSlcbiAgICB2YXIgaXNDeWNsaW5nID0gdGhpcy5pbnRlcnZhbFxuICAgIHZhciBkaXJlY3Rpb24gPSB0eXBlID09ICduZXh0JyA/ICdsZWZ0JyA6ICdyaWdodCdcbiAgICB2YXIgdGhhdCAgICAgID0gdGhpc1xuXG4gICAgaWYgKCRuZXh0Lmhhc0NsYXNzKCdhY3RpdmUnKSkgcmV0dXJuICh0aGlzLnNsaWRpbmcgPSBmYWxzZSlcblxuICAgIHZhciByZWxhdGVkVGFyZ2V0ID0gJG5leHRbMF1cbiAgICB2YXIgc2xpZGVFdmVudCA9ICQuRXZlbnQoJ3NsaWRlLmJzLmNhcm91c2VsJywge1xuICAgICAgcmVsYXRlZFRhcmdldDogcmVsYXRlZFRhcmdldCxcbiAgICAgIGRpcmVjdGlvbjogZGlyZWN0aW9uXG4gICAgfSlcbiAgICB0aGlzLiRlbGVtZW50LnRyaWdnZXIoc2xpZGVFdmVudClcbiAgICBpZiAoc2xpZGVFdmVudC5pc0RlZmF1bHRQcmV2ZW50ZWQoKSkgcmV0dXJuXG5cbiAgICB0aGlzLnNsaWRpbmcgPSB0cnVlXG5cbiAgICBpc0N5Y2xpbmcgJiYgdGhpcy5wYXVzZSgpXG5cbiAgICBpZiAodGhpcy4kaW5kaWNhdG9ycy5sZW5ndGgpIHtcbiAgICAgIHRoaXMuJGluZGljYXRvcnMuZmluZCgnLmFjdGl2ZScpLnJlbW92ZUNsYXNzKCdhY3RpdmUnKVxuICAgICAgdmFyICRuZXh0SW5kaWNhdG9yID0gJCh0aGlzLiRpbmRpY2F0b3JzLmNoaWxkcmVuKClbdGhpcy5nZXRJdGVtSW5kZXgoJG5leHQpXSlcbiAgICAgICRuZXh0SW5kaWNhdG9yICYmICRuZXh0SW5kaWNhdG9yLmFkZENsYXNzKCdhY3RpdmUnKVxuICAgIH1cblxuICAgIHZhciBzbGlkRXZlbnQgPSAkLkV2ZW50KCdzbGlkLmJzLmNhcm91c2VsJywgeyByZWxhdGVkVGFyZ2V0OiByZWxhdGVkVGFyZ2V0LCBkaXJlY3Rpb246IGRpcmVjdGlvbiB9KSAvLyB5ZXMsIFwic2xpZFwiXG4gICAgaWYgKCQuc3VwcG9ydC50cmFuc2l0aW9uICYmIHRoaXMuJGVsZW1lbnQuaGFzQ2xhc3MoJ3NsaWRlJykpIHtcbiAgICAgICRuZXh0LmFkZENsYXNzKHR5cGUpXG4gICAgICAkbmV4dFswXS5vZmZzZXRXaWR0aCAvLyBmb3JjZSByZWZsb3dcbiAgICAgICRhY3RpdmUuYWRkQ2xhc3MoZGlyZWN0aW9uKVxuICAgICAgJG5leHQuYWRkQ2xhc3MoZGlyZWN0aW9uKVxuICAgICAgJGFjdGl2ZVxuICAgICAgICAub25lKCdic1RyYW5zaXRpb25FbmQnLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgJG5leHQucmVtb3ZlQ2xhc3MoW3R5cGUsIGRpcmVjdGlvbl0uam9pbignICcpKS5hZGRDbGFzcygnYWN0aXZlJylcbiAgICAgICAgICAkYWN0aXZlLnJlbW92ZUNsYXNzKFsnYWN0aXZlJywgZGlyZWN0aW9uXS5qb2luKCcgJykpXG4gICAgICAgICAgdGhhdC5zbGlkaW5nID0gZmFsc2VcbiAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHRoYXQuJGVsZW1lbnQudHJpZ2dlcihzbGlkRXZlbnQpXG4gICAgICAgICAgfSwgMClcbiAgICAgICAgfSlcbiAgICAgICAgLmVtdWxhdGVUcmFuc2l0aW9uRW5kKENhcm91c2VsLlRSQU5TSVRJT05fRFVSQVRJT04pXG4gICAgfSBlbHNlIHtcbiAgICAgICRhY3RpdmUucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpXG4gICAgICAkbmV4dC5hZGRDbGFzcygnYWN0aXZlJylcbiAgICAgIHRoaXMuc2xpZGluZyA9IGZhbHNlXG4gICAgICB0aGlzLiRlbGVtZW50LnRyaWdnZXIoc2xpZEV2ZW50KVxuICAgIH1cblxuICAgIGlzQ3ljbGluZyAmJiB0aGlzLmN5Y2xlKClcblxuICAgIHJldHVybiB0aGlzXG4gIH1cblxuXG4gIC8vIENBUk9VU0VMIFBMVUdJTiBERUZJTklUSU9OXG4gIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbiAgZnVuY3Rpb24gUGx1Z2luKG9wdGlvbikge1xuICAgIHJldHVybiB0aGlzLmVhY2goZnVuY3Rpb24gKCkge1xuICAgICAgdmFyICR0aGlzICAgPSAkKHRoaXMpXG4gICAgICB2YXIgZGF0YSAgICA9ICR0aGlzLmRhdGEoJ2JzLmNhcm91c2VsJylcbiAgICAgIHZhciBvcHRpb25zID0gJC5leHRlbmQoe30sIENhcm91c2VsLkRFRkFVTFRTLCAkdGhpcy5kYXRhKCksIHR5cGVvZiBvcHRpb24gPT0gJ29iamVjdCcgJiYgb3B0aW9uKVxuICAgICAgdmFyIGFjdGlvbiAgPSB0eXBlb2Ygb3B0aW9uID09ICdzdHJpbmcnID8gb3B0aW9uIDogb3B0aW9ucy5zbGlkZVxuXG4gICAgICBpZiAoIWRhdGEpICR0aGlzLmRhdGEoJ2JzLmNhcm91c2VsJywgKGRhdGEgPSBuZXcgQ2Fyb3VzZWwodGhpcywgb3B0aW9ucykpKVxuICAgICAgaWYgKHR5cGVvZiBvcHRpb24gPT0gJ251bWJlcicpIGRhdGEudG8ob3B0aW9uKVxuICAgICAgZWxzZSBpZiAoYWN0aW9uKSBkYXRhW2FjdGlvbl0oKVxuICAgICAgZWxzZSBpZiAob3B0aW9ucy5pbnRlcnZhbCkgZGF0YS5wYXVzZSgpLmN5Y2xlKClcbiAgICB9KVxuICB9XG5cbiAgdmFyIG9sZCA9ICQuZm4uY2Fyb3VzZWxcblxuICAkLmZuLmNhcm91c2VsICAgICAgICAgICAgID0gUGx1Z2luXG4gICQuZm4uY2Fyb3VzZWwuQ29uc3RydWN0b3IgPSBDYXJvdXNlbFxuXG5cbiAgLy8gQ0FST1VTRUwgTk8gQ09ORkxJQ1RcbiAgLy8gPT09PT09PT09PT09PT09PT09PT1cblxuICAkLmZuLmNhcm91c2VsLm5vQ29uZmxpY3QgPSBmdW5jdGlvbiAoKSB7XG4gICAgJC5mbi5jYXJvdXNlbCA9IG9sZFxuICAgIHJldHVybiB0aGlzXG4gIH1cblxuXG4gIC8vIENBUk9VU0VMIERBVEEtQVBJXG4gIC8vID09PT09PT09PT09PT09PT09XG5cbiAgdmFyIGNsaWNrSGFuZGxlciA9IGZ1bmN0aW9uIChlKSB7XG4gICAgdmFyIGhyZWZcbiAgICB2YXIgJHRoaXMgICA9ICQodGhpcylcbiAgICB2YXIgJHRhcmdldCA9ICQoJHRoaXMuYXR0cignZGF0YS10YXJnZXQnKSB8fCAoaHJlZiA9ICR0aGlzLmF0dHIoJ2hyZWYnKSkgJiYgaHJlZi5yZXBsYWNlKC8uKig/PSNbXlxcc10rJCkvLCAnJykpIC8vIHN0cmlwIGZvciBpZTdcbiAgICBpZiAoISR0YXJnZXQuaGFzQ2xhc3MoJ2Nhcm91c2VsJykpIHJldHVyblxuICAgIHZhciBvcHRpb25zID0gJC5leHRlbmQoe30sICR0YXJnZXQuZGF0YSgpLCAkdGhpcy5kYXRhKCkpXG4gICAgdmFyIHNsaWRlSW5kZXggPSAkdGhpcy5hdHRyKCdkYXRhLXNsaWRlLXRvJylcbiAgICBpZiAoc2xpZGVJbmRleCkgb3B0aW9ucy5pbnRlcnZhbCA9IGZhbHNlXG5cbiAgICBQbHVnaW4uY2FsbCgkdGFyZ2V0LCBvcHRpb25zKVxuXG4gICAgaWYgKHNsaWRlSW5kZXgpIHtcbiAgICAgICR0YXJnZXQuZGF0YSgnYnMuY2Fyb3VzZWwnKS50byhzbGlkZUluZGV4KVxuICAgIH1cblxuICAgIGUucHJldmVudERlZmF1bHQoKVxuICB9XG5cbiAgJChkb2N1bWVudClcbiAgICAub24oJ2NsaWNrLmJzLmNhcm91c2VsLmRhdGEtYXBpJywgJ1tkYXRhLXNsaWRlXScsIGNsaWNrSGFuZGxlcilcbiAgICAub24oJ2NsaWNrLmJzLmNhcm91c2VsLmRhdGEtYXBpJywgJ1tkYXRhLXNsaWRlLXRvXScsIGNsaWNrSGFuZGxlcilcblxuICAkKHdpbmRvdykub24oJ2xvYWQnLCBmdW5jdGlvbiAoKSB7XG4gICAgJCgnW2RhdGEtcmlkZT1cImNhcm91c2VsXCJdJykuZWFjaChmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgJGNhcm91c2VsID0gJCh0aGlzKVxuICAgICAgUGx1Z2luLmNhbGwoJGNhcm91c2VsLCAkY2Fyb3VzZWwuZGF0YSgpKVxuICAgIH0pXG4gIH0pXG5cbn0oalF1ZXJ5KTtcbiIsIi8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICogQm9vdHN0cmFwOiBjb2xsYXBzZS5qcyB2My4zLjdcbiAqIGh0dHA6Ly9nZXRib290c3RyYXAuY29tL2phdmFzY3JpcHQvI2NvbGxhcHNlXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqIENvcHlyaWdodCAyMDExLTIwMTYgVHdpdHRlciwgSW5jLlxuICogTGljZW5zZWQgdW5kZXIgTUlUIChodHRwczovL2dpdGh1Yi5jb20vdHdicy9ib290c3RyYXAvYmxvYi9tYXN0ZXIvTElDRU5TRSlcbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSAqL1xuXG4vKiBqc2hpbnQgbGF0ZWRlZjogZmFsc2UgKi9cblxuK2Z1bmN0aW9uICgkKSB7XG4gICd1c2Ugc3RyaWN0JztcblxuICAvLyBDT0xMQVBTRSBQVUJMSUMgQ0xBU1MgREVGSU5JVElPTlxuICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG4gIHZhciBDb2xsYXBzZSA9IGZ1bmN0aW9uIChlbGVtZW50LCBvcHRpb25zKSB7XG4gICAgdGhpcy4kZWxlbWVudCAgICAgID0gJChlbGVtZW50KVxuICAgIHRoaXMub3B0aW9ucyAgICAgICA9ICQuZXh0ZW5kKHt9LCBDb2xsYXBzZS5ERUZBVUxUUywgb3B0aW9ucylcbiAgICB0aGlzLiR0cmlnZ2VyICAgICAgPSAkKCdbZGF0YS10b2dnbGU9XCJjb2xsYXBzZVwiXVtocmVmPVwiIycgKyBlbGVtZW50LmlkICsgJ1wiXSwnICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICdbZGF0YS10b2dnbGU9XCJjb2xsYXBzZVwiXVtkYXRhLXRhcmdldD1cIiMnICsgZWxlbWVudC5pZCArICdcIl0nKVxuICAgIHRoaXMudHJhbnNpdGlvbmluZyA9IG51bGxcblxuICAgIGlmICh0aGlzLm9wdGlvbnMucGFyZW50KSB7XG4gICAgICB0aGlzLiRwYXJlbnQgPSB0aGlzLmdldFBhcmVudCgpXG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuYWRkQXJpYUFuZENvbGxhcHNlZENsYXNzKHRoaXMuJGVsZW1lbnQsIHRoaXMuJHRyaWdnZXIpXG4gICAgfVxuXG4gICAgaWYgKHRoaXMub3B0aW9ucy50b2dnbGUpIHRoaXMudG9nZ2xlKClcbiAgfVxuXG4gIENvbGxhcHNlLlZFUlNJT04gID0gJzMuMy43J1xuXG4gIENvbGxhcHNlLlRSQU5TSVRJT05fRFVSQVRJT04gPSAzNTBcblxuICBDb2xsYXBzZS5ERUZBVUxUUyA9IHtcbiAgICB0b2dnbGU6IHRydWVcbiAgfVxuXG4gIENvbGxhcHNlLnByb3RvdHlwZS5kaW1lbnNpb24gPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGhhc1dpZHRoID0gdGhpcy4kZWxlbWVudC5oYXNDbGFzcygnd2lkdGgnKVxuICAgIHJldHVybiBoYXNXaWR0aCA/ICd3aWR0aCcgOiAnaGVpZ2h0J1xuICB9XG5cbiAgQ29sbGFwc2UucHJvdG90eXBlLnNob3cgPSBmdW5jdGlvbiAoKSB7XG4gICAgaWYgKHRoaXMudHJhbnNpdGlvbmluZyB8fCB0aGlzLiRlbGVtZW50Lmhhc0NsYXNzKCdpbicpKSByZXR1cm5cblxuICAgIHZhciBhY3RpdmVzRGF0YVxuICAgIHZhciBhY3RpdmVzID0gdGhpcy4kcGFyZW50ICYmIHRoaXMuJHBhcmVudC5jaGlsZHJlbignLnBhbmVsJykuY2hpbGRyZW4oJy5pbiwgLmNvbGxhcHNpbmcnKVxuXG4gICAgaWYgKGFjdGl2ZXMgJiYgYWN0aXZlcy5sZW5ndGgpIHtcbiAgICAgIGFjdGl2ZXNEYXRhID0gYWN0aXZlcy5kYXRhKCdicy5jb2xsYXBzZScpXG4gICAgICBpZiAoYWN0aXZlc0RhdGEgJiYgYWN0aXZlc0RhdGEudHJhbnNpdGlvbmluZykgcmV0dXJuXG4gICAgfVxuXG4gICAgdmFyIHN0YXJ0RXZlbnQgPSAkLkV2ZW50KCdzaG93LmJzLmNvbGxhcHNlJylcbiAgICB0aGlzLiRlbGVtZW50LnRyaWdnZXIoc3RhcnRFdmVudClcbiAgICBpZiAoc3RhcnRFdmVudC5pc0RlZmF1bHRQcmV2ZW50ZWQoKSkgcmV0dXJuXG5cbiAgICBpZiAoYWN0aXZlcyAmJiBhY3RpdmVzLmxlbmd0aCkge1xuICAgICAgUGx1Z2luLmNhbGwoYWN0aXZlcywgJ2hpZGUnKVxuICAgICAgYWN0aXZlc0RhdGEgfHwgYWN0aXZlcy5kYXRhKCdicy5jb2xsYXBzZScsIG51bGwpXG4gICAgfVxuXG4gICAgdmFyIGRpbWVuc2lvbiA9IHRoaXMuZGltZW5zaW9uKClcblxuICAgIHRoaXMuJGVsZW1lbnRcbiAgICAgIC5yZW1vdmVDbGFzcygnY29sbGFwc2UnKVxuICAgICAgLmFkZENsYXNzKCdjb2xsYXBzaW5nJylbZGltZW5zaW9uXSgwKVxuICAgICAgLmF0dHIoJ2FyaWEtZXhwYW5kZWQnLCB0cnVlKVxuXG4gICAgdGhpcy4kdHJpZ2dlclxuICAgICAgLnJlbW92ZUNsYXNzKCdjb2xsYXBzZWQnKVxuICAgICAgLmF0dHIoJ2FyaWEtZXhwYW5kZWQnLCB0cnVlKVxuXG4gICAgdGhpcy50cmFuc2l0aW9uaW5nID0gMVxuXG4gICAgdmFyIGNvbXBsZXRlID0gZnVuY3Rpb24gKCkge1xuICAgICAgdGhpcy4kZWxlbWVudFxuICAgICAgICAucmVtb3ZlQ2xhc3MoJ2NvbGxhcHNpbmcnKVxuICAgICAgICAuYWRkQ2xhc3MoJ2NvbGxhcHNlIGluJylbZGltZW5zaW9uXSgnJylcbiAgICAgIHRoaXMudHJhbnNpdGlvbmluZyA9IDBcbiAgICAgIHRoaXMuJGVsZW1lbnRcbiAgICAgICAgLnRyaWdnZXIoJ3Nob3duLmJzLmNvbGxhcHNlJylcbiAgICB9XG5cbiAgICBpZiAoISQuc3VwcG9ydC50cmFuc2l0aW9uKSByZXR1cm4gY29tcGxldGUuY2FsbCh0aGlzKVxuXG4gICAgdmFyIHNjcm9sbFNpemUgPSAkLmNhbWVsQ2FzZShbJ3Njcm9sbCcsIGRpbWVuc2lvbl0uam9pbignLScpKVxuXG4gICAgdGhpcy4kZWxlbWVudFxuICAgICAgLm9uZSgnYnNUcmFuc2l0aW9uRW5kJywgJC5wcm94eShjb21wbGV0ZSwgdGhpcykpXG4gICAgICAuZW11bGF0ZVRyYW5zaXRpb25FbmQoQ29sbGFwc2UuVFJBTlNJVElPTl9EVVJBVElPTilbZGltZW5zaW9uXSh0aGlzLiRlbGVtZW50WzBdW3Njcm9sbFNpemVdKVxuICB9XG5cbiAgQ29sbGFwc2UucHJvdG90eXBlLmhpZGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgaWYgKHRoaXMudHJhbnNpdGlvbmluZyB8fCAhdGhpcy4kZWxlbWVudC5oYXNDbGFzcygnaW4nKSkgcmV0dXJuXG5cbiAgICB2YXIgc3RhcnRFdmVudCA9ICQuRXZlbnQoJ2hpZGUuYnMuY29sbGFwc2UnKVxuICAgIHRoaXMuJGVsZW1lbnQudHJpZ2dlcihzdGFydEV2ZW50KVxuICAgIGlmIChzdGFydEV2ZW50LmlzRGVmYXVsdFByZXZlbnRlZCgpKSByZXR1cm5cblxuICAgIHZhciBkaW1lbnNpb24gPSB0aGlzLmRpbWVuc2lvbigpXG5cbiAgICB0aGlzLiRlbGVtZW50W2RpbWVuc2lvbl0odGhpcy4kZWxlbWVudFtkaW1lbnNpb25dKCkpWzBdLm9mZnNldEhlaWdodFxuXG4gICAgdGhpcy4kZWxlbWVudFxuICAgICAgLmFkZENsYXNzKCdjb2xsYXBzaW5nJylcbiAgICAgIC5yZW1vdmVDbGFzcygnY29sbGFwc2UgaW4nKVxuICAgICAgLmF0dHIoJ2FyaWEtZXhwYW5kZWQnLCBmYWxzZSlcblxuICAgIHRoaXMuJHRyaWdnZXJcbiAgICAgIC5hZGRDbGFzcygnY29sbGFwc2VkJylcbiAgICAgIC5hdHRyKCdhcmlhLWV4cGFuZGVkJywgZmFsc2UpXG5cbiAgICB0aGlzLnRyYW5zaXRpb25pbmcgPSAxXG5cbiAgICB2YXIgY29tcGxldGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICB0aGlzLnRyYW5zaXRpb25pbmcgPSAwXG4gICAgICB0aGlzLiRlbGVtZW50XG4gICAgICAgIC5yZW1vdmVDbGFzcygnY29sbGFwc2luZycpXG4gICAgICAgIC5hZGRDbGFzcygnY29sbGFwc2UnKVxuICAgICAgICAudHJpZ2dlcignaGlkZGVuLmJzLmNvbGxhcHNlJylcbiAgICB9XG5cbiAgICBpZiAoISQuc3VwcG9ydC50cmFuc2l0aW9uKSByZXR1cm4gY29tcGxldGUuY2FsbCh0aGlzKVxuXG4gICAgdGhpcy4kZWxlbWVudFxuICAgICAgW2RpbWVuc2lvbl0oMClcbiAgICAgIC5vbmUoJ2JzVHJhbnNpdGlvbkVuZCcsICQucHJveHkoY29tcGxldGUsIHRoaXMpKVxuICAgICAgLmVtdWxhdGVUcmFuc2l0aW9uRW5kKENvbGxhcHNlLlRSQU5TSVRJT05fRFVSQVRJT04pXG4gIH1cblxuICBDb2xsYXBzZS5wcm90b3R5cGUudG9nZ2xlID0gZnVuY3Rpb24gKCkge1xuICAgIHRoaXNbdGhpcy4kZWxlbWVudC5oYXNDbGFzcygnaW4nKSA/ICdoaWRlJyA6ICdzaG93J10oKVxuICB9XG5cbiAgQ29sbGFwc2UucHJvdG90eXBlLmdldFBhcmVudCA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gJCh0aGlzLm9wdGlvbnMucGFyZW50KVxuICAgICAgLmZpbmQoJ1tkYXRhLXRvZ2dsZT1cImNvbGxhcHNlXCJdW2RhdGEtcGFyZW50PVwiJyArIHRoaXMub3B0aW9ucy5wYXJlbnQgKyAnXCJdJylcbiAgICAgIC5lYWNoKCQucHJveHkoZnVuY3Rpb24gKGksIGVsZW1lbnQpIHtcbiAgICAgICAgdmFyICRlbGVtZW50ID0gJChlbGVtZW50KVxuICAgICAgICB0aGlzLmFkZEFyaWFBbmRDb2xsYXBzZWRDbGFzcyhnZXRUYXJnZXRGcm9tVHJpZ2dlcigkZWxlbWVudCksICRlbGVtZW50KVxuICAgICAgfSwgdGhpcykpXG4gICAgICAuZW5kKClcbiAgfVxuXG4gIENvbGxhcHNlLnByb3RvdHlwZS5hZGRBcmlhQW5kQ29sbGFwc2VkQ2xhc3MgPSBmdW5jdGlvbiAoJGVsZW1lbnQsICR0cmlnZ2VyKSB7XG4gICAgdmFyIGlzT3BlbiA9ICRlbGVtZW50Lmhhc0NsYXNzKCdpbicpXG5cbiAgICAkZWxlbWVudC5hdHRyKCdhcmlhLWV4cGFuZGVkJywgaXNPcGVuKVxuICAgICR0cmlnZ2VyXG4gICAgICAudG9nZ2xlQ2xhc3MoJ2NvbGxhcHNlZCcsICFpc09wZW4pXG4gICAgICAuYXR0cignYXJpYS1leHBhbmRlZCcsIGlzT3BlbilcbiAgfVxuXG4gIGZ1bmN0aW9uIGdldFRhcmdldEZyb21UcmlnZ2VyKCR0cmlnZ2VyKSB7XG4gICAgdmFyIGhyZWZcbiAgICB2YXIgdGFyZ2V0ID0gJHRyaWdnZXIuYXR0cignZGF0YS10YXJnZXQnKVxuICAgICAgfHwgKGhyZWYgPSAkdHJpZ2dlci5hdHRyKCdocmVmJykpICYmIGhyZWYucmVwbGFjZSgvLiooPz0jW15cXHNdKyQpLywgJycpIC8vIHN0cmlwIGZvciBpZTdcblxuICAgIHJldHVybiAkKHRhcmdldClcbiAgfVxuXG5cbiAgLy8gQ09MTEFQU0UgUExVR0lOIERFRklOSVRJT05cbiAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuICBmdW5jdGlvbiBQbHVnaW4ob3B0aW9uKSB7XG4gICAgcmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgJHRoaXMgICA9ICQodGhpcylcbiAgICAgIHZhciBkYXRhICAgID0gJHRoaXMuZGF0YSgnYnMuY29sbGFwc2UnKVxuICAgICAgdmFyIG9wdGlvbnMgPSAkLmV4dGVuZCh7fSwgQ29sbGFwc2UuREVGQVVMVFMsICR0aGlzLmRhdGEoKSwgdHlwZW9mIG9wdGlvbiA9PSAnb2JqZWN0JyAmJiBvcHRpb24pXG5cbiAgICAgIGlmICghZGF0YSAmJiBvcHRpb25zLnRvZ2dsZSAmJiAvc2hvd3xoaWRlLy50ZXN0KG9wdGlvbikpIG9wdGlvbnMudG9nZ2xlID0gZmFsc2VcbiAgICAgIGlmICghZGF0YSkgJHRoaXMuZGF0YSgnYnMuY29sbGFwc2UnLCAoZGF0YSA9IG5ldyBDb2xsYXBzZSh0aGlzLCBvcHRpb25zKSkpXG4gICAgICBpZiAodHlwZW9mIG9wdGlvbiA9PSAnc3RyaW5nJykgZGF0YVtvcHRpb25dKClcbiAgICB9KVxuICB9XG5cbiAgdmFyIG9sZCA9ICQuZm4uY29sbGFwc2VcblxuICAkLmZuLmNvbGxhcHNlICAgICAgICAgICAgID0gUGx1Z2luXG4gICQuZm4uY29sbGFwc2UuQ29uc3RydWN0b3IgPSBDb2xsYXBzZVxuXG5cbiAgLy8gQ09MTEFQU0UgTk8gQ09ORkxJQ1RcbiAgLy8gPT09PT09PT09PT09PT09PT09PT1cblxuICAkLmZuLmNvbGxhcHNlLm5vQ29uZmxpY3QgPSBmdW5jdGlvbiAoKSB7XG4gICAgJC5mbi5jb2xsYXBzZSA9IG9sZFxuICAgIHJldHVybiB0aGlzXG4gIH1cblxuXG4gIC8vIENPTExBUFNFIERBVEEtQVBJXG4gIC8vID09PT09PT09PT09PT09PT09XG5cbiAgJChkb2N1bWVudCkub24oJ2NsaWNrLmJzLmNvbGxhcHNlLmRhdGEtYXBpJywgJ1tkYXRhLXRvZ2dsZT1cImNvbGxhcHNlXCJdJywgZnVuY3Rpb24gKGUpIHtcbiAgICB2YXIgJHRoaXMgICA9ICQodGhpcylcblxuICAgIGlmICghJHRoaXMuYXR0cignZGF0YS10YXJnZXQnKSkgZS5wcmV2ZW50RGVmYXVsdCgpXG5cbiAgICB2YXIgJHRhcmdldCA9IGdldFRhcmdldEZyb21UcmlnZ2VyKCR0aGlzKVxuICAgIHZhciBkYXRhICAgID0gJHRhcmdldC5kYXRhKCdicy5jb2xsYXBzZScpXG4gICAgdmFyIG9wdGlvbiAgPSBkYXRhID8gJ3RvZ2dsZScgOiAkdGhpcy5kYXRhKClcblxuICAgIFBsdWdpbi5jYWxsKCR0YXJnZXQsIG9wdGlvbilcbiAgfSlcblxufShqUXVlcnkpO1xuIiwiLyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKiBCb290c3RyYXA6IGRyb3Bkb3duLmpzIHYzLjMuN1xuICogaHR0cDovL2dldGJvb3RzdHJhcC5jb20vamF2YXNjcmlwdC8jZHJvcGRvd25zXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqIENvcHlyaWdodCAyMDExLTIwMTYgVHdpdHRlciwgSW5jLlxuICogTGljZW5zZWQgdW5kZXIgTUlUIChodHRwczovL2dpdGh1Yi5jb20vdHdicy9ib290c3RyYXAvYmxvYi9tYXN0ZXIvTElDRU5TRSlcbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSAqL1xuXG5cbitmdW5jdGlvbiAoJCkge1xuICAndXNlIHN0cmljdCc7XG5cbiAgLy8gRFJPUERPV04gQ0xBU1MgREVGSU5JVElPTlxuICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09XG5cbiAgdmFyIGJhY2tkcm9wID0gJy5kcm9wZG93bi1iYWNrZHJvcCdcbiAgdmFyIHRvZ2dsZSAgID0gJ1tkYXRhLXRvZ2dsZT1cImRyb3Bkb3duXCJdJ1xuICB2YXIgRHJvcGRvd24gPSBmdW5jdGlvbiAoZWxlbWVudCkge1xuICAgICQoZWxlbWVudCkub24oJ2NsaWNrLmJzLmRyb3Bkb3duJywgdGhpcy50b2dnbGUpXG4gIH1cblxuICBEcm9wZG93bi5WRVJTSU9OID0gJzMuMy43J1xuXG4gIGZ1bmN0aW9uIGdldFBhcmVudCgkdGhpcykge1xuICAgIHZhciBzZWxlY3RvciA9ICR0aGlzLmF0dHIoJ2RhdGEtdGFyZ2V0JylcblxuICAgIGlmICghc2VsZWN0b3IpIHtcbiAgICAgIHNlbGVjdG9yID0gJHRoaXMuYXR0cignaHJlZicpXG4gICAgICBzZWxlY3RvciA9IHNlbGVjdG9yICYmIC8jW0EtWmEtel0vLnRlc3Qoc2VsZWN0b3IpICYmIHNlbGVjdG9yLnJlcGxhY2UoLy4qKD89I1teXFxzXSokKS8sICcnKSAvLyBzdHJpcCBmb3IgaWU3XG4gICAgfVxuXG4gICAgdmFyICRwYXJlbnQgPSBzZWxlY3RvciAmJiAkKHNlbGVjdG9yKVxuXG4gICAgcmV0dXJuICRwYXJlbnQgJiYgJHBhcmVudC5sZW5ndGggPyAkcGFyZW50IDogJHRoaXMucGFyZW50KClcbiAgfVxuXG4gIGZ1bmN0aW9uIGNsZWFyTWVudXMoZSkge1xuICAgIGlmIChlICYmIGUud2hpY2ggPT09IDMpIHJldHVyblxuICAgICQoYmFja2Ryb3ApLnJlbW92ZSgpXG4gICAgJCh0b2dnbGUpLmVhY2goZnVuY3Rpb24gKCkge1xuICAgICAgdmFyICR0aGlzICAgICAgICAgPSAkKHRoaXMpXG4gICAgICB2YXIgJHBhcmVudCAgICAgICA9IGdldFBhcmVudCgkdGhpcylcbiAgICAgIHZhciByZWxhdGVkVGFyZ2V0ID0geyByZWxhdGVkVGFyZ2V0OiB0aGlzIH1cblxuICAgICAgaWYgKCEkcGFyZW50Lmhhc0NsYXNzKCdvcGVuJykpIHJldHVyblxuXG4gICAgICBpZiAoZSAmJiBlLnR5cGUgPT0gJ2NsaWNrJyAmJiAvaW5wdXR8dGV4dGFyZWEvaS50ZXN0KGUudGFyZ2V0LnRhZ05hbWUpICYmICQuY29udGFpbnMoJHBhcmVudFswXSwgZS50YXJnZXQpKSByZXR1cm5cblxuICAgICAgJHBhcmVudC50cmlnZ2VyKGUgPSAkLkV2ZW50KCdoaWRlLmJzLmRyb3Bkb3duJywgcmVsYXRlZFRhcmdldCkpXG5cbiAgICAgIGlmIChlLmlzRGVmYXVsdFByZXZlbnRlZCgpKSByZXR1cm5cblxuICAgICAgJHRoaXMuYXR0cignYXJpYS1leHBhbmRlZCcsICdmYWxzZScpXG4gICAgICAkcGFyZW50LnJlbW92ZUNsYXNzKCdvcGVuJykudHJpZ2dlcigkLkV2ZW50KCdoaWRkZW4uYnMuZHJvcGRvd24nLCByZWxhdGVkVGFyZ2V0KSlcbiAgICB9KVxuICB9XG5cbiAgRHJvcGRvd24ucHJvdG90eXBlLnRvZ2dsZSA9IGZ1bmN0aW9uIChlKSB7XG4gICAgdmFyICR0aGlzID0gJCh0aGlzKVxuXG4gICAgaWYgKCR0aGlzLmlzKCcuZGlzYWJsZWQsIDpkaXNhYmxlZCcpKSByZXR1cm5cblxuICAgIHZhciAkcGFyZW50ICA9IGdldFBhcmVudCgkdGhpcylcbiAgICB2YXIgaXNBY3RpdmUgPSAkcGFyZW50Lmhhc0NsYXNzKCdvcGVuJylcblxuICAgIGNsZWFyTWVudXMoKVxuXG4gICAgaWYgKCFpc0FjdGl2ZSkge1xuICAgICAgaWYgKCdvbnRvdWNoc3RhcnQnIGluIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudCAmJiAhJHBhcmVudC5jbG9zZXN0KCcubmF2YmFyLW5hdicpLmxlbmd0aCkge1xuICAgICAgICAvLyBpZiBtb2JpbGUgd2UgdXNlIGEgYmFja2Ryb3AgYmVjYXVzZSBjbGljayBldmVudHMgZG9uJ3QgZGVsZWdhdGVcbiAgICAgICAgJChkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKSlcbiAgICAgICAgICAuYWRkQ2xhc3MoJ2Ryb3Bkb3duLWJhY2tkcm9wJylcbiAgICAgICAgICAuaW5zZXJ0QWZ0ZXIoJCh0aGlzKSlcbiAgICAgICAgICAub24oJ2NsaWNrJywgY2xlYXJNZW51cylcbiAgICAgIH1cblxuICAgICAgdmFyIHJlbGF0ZWRUYXJnZXQgPSB7IHJlbGF0ZWRUYXJnZXQ6IHRoaXMgfVxuICAgICAgJHBhcmVudC50cmlnZ2VyKGUgPSAkLkV2ZW50KCdzaG93LmJzLmRyb3Bkb3duJywgcmVsYXRlZFRhcmdldCkpXG5cbiAgICAgIGlmIChlLmlzRGVmYXVsdFByZXZlbnRlZCgpKSByZXR1cm5cblxuICAgICAgJHRoaXNcbiAgICAgICAgLnRyaWdnZXIoJ2ZvY3VzJylcbiAgICAgICAgLmF0dHIoJ2FyaWEtZXhwYW5kZWQnLCAndHJ1ZScpXG5cbiAgICAgICRwYXJlbnRcbiAgICAgICAgLnRvZ2dsZUNsYXNzKCdvcGVuJylcbiAgICAgICAgLnRyaWdnZXIoJC5FdmVudCgnc2hvd24uYnMuZHJvcGRvd24nLCByZWxhdGVkVGFyZ2V0KSlcbiAgICB9XG5cbiAgICByZXR1cm4gZmFsc2VcbiAgfVxuXG4gIERyb3Bkb3duLnByb3RvdHlwZS5rZXlkb3duID0gZnVuY3Rpb24gKGUpIHtcbiAgICBpZiAoIS8oMzh8NDB8Mjd8MzIpLy50ZXN0KGUud2hpY2gpIHx8IC9pbnB1dHx0ZXh0YXJlYS9pLnRlc3QoZS50YXJnZXQudGFnTmFtZSkpIHJldHVyblxuXG4gICAgdmFyICR0aGlzID0gJCh0aGlzKVxuXG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpXG4gICAgZS5zdG9wUHJvcGFnYXRpb24oKVxuXG4gICAgaWYgKCR0aGlzLmlzKCcuZGlzYWJsZWQsIDpkaXNhYmxlZCcpKSByZXR1cm5cblxuICAgIHZhciAkcGFyZW50ICA9IGdldFBhcmVudCgkdGhpcylcbiAgICB2YXIgaXNBY3RpdmUgPSAkcGFyZW50Lmhhc0NsYXNzKCdvcGVuJylcblxuICAgIGlmICghaXNBY3RpdmUgJiYgZS53aGljaCAhPSAyNyB8fCBpc0FjdGl2ZSAmJiBlLndoaWNoID09IDI3KSB7XG4gICAgICBpZiAoZS53aGljaCA9PSAyNykgJHBhcmVudC5maW5kKHRvZ2dsZSkudHJpZ2dlcignZm9jdXMnKVxuICAgICAgcmV0dXJuICR0aGlzLnRyaWdnZXIoJ2NsaWNrJylcbiAgICB9XG5cbiAgICB2YXIgZGVzYyA9ICcgbGk6bm90KC5kaXNhYmxlZCk6dmlzaWJsZSBhJ1xuICAgIHZhciAkaXRlbXMgPSAkcGFyZW50LmZpbmQoJy5kcm9wZG93bi1tZW51JyArIGRlc2MpXG5cbiAgICBpZiAoISRpdGVtcy5sZW5ndGgpIHJldHVyblxuXG4gICAgdmFyIGluZGV4ID0gJGl0ZW1zLmluZGV4KGUudGFyZ2V0KVxuXG4gICAgaWYgKGUud2hpY2ggPT0gMzggJiYgaW5kZXggPiAwKSAgICAgICAgICAgICAgICAgaW5kZXgtLSAgICAgICAgIC8vIHVwXG4gICAgaWYgKGUud2hpY2ggPT0gNDAgJiYgaW5kZXggPCAkaXRlbXMubGVuZ3RoIC0gMSkgaW5kZXgrKyAgICAgICAgIC8vIGRvd25cbiAgICBpZiAoIX5pbmRleCkgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbmRleCA9IDBcblxuICAgICRpdGVtcy5lcShpbmRleCkudHJpZ2dlcignZm9jdXMnKVxuICB9XG5cblxuICAvLyBEUk9QRE9XTiBQTFVHSU4gREVGSU5JVElPTlxuICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG4gIGZ1bmN0aW9uIFBsdWdpbihvcHRpb24pIHtcbiAgICByZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciAkdGhpcyA9ICQodGhpcylcbiAgICAgIHZhciBkYXRhICA9ICR0aGlzLmRhdGEoJ2JzLmRyb3Bkb3duJylcblxuICAgICAgaWYgKCFkYXRhKSAkdGhpcy5kYXRhKCdicy5kcm9wZG93bicsIChkYXRhID0gbmV3IERyb3Bkb3duKHRoaXMpKSlcbiAgICAgIGlmICh0eXBlb2Ygb3B0aW9uID09ICdzdHJpbmcnKSBkYXRhW29wdGlvbl0uY2FsbCgkdGhpcylcbiAgICB9KVxuICB9XG5cbiAgdmFyIG9sZCA9ICQuZm4uZHJvcGRvd25cblxuICAkLmZuLmRyb3Bkb3duICAgICAgICAgICAgID0gUGx1Z2luXG4gICQuZm4uZHJvcGRvd24uQ29uc3RydWN0b3IgPSBEcm9wZG93blxuXG5cbiAgLy8gRFJPUERPV04gTk8gQ09ORkxJQ1RcbiAgLy8gPT09PT09PT09PT09PT09PT09PT1cblxuICAkLmZuLmRyb3Bkb3duLm5vQ29uZmxpY3QgPSBmdW5jdGlvbiAoKSB7XG4gICAgJC5mbi5kcm9wZG93biA9IG9sZFxuICAgIHJldHVybiB0aGlzXG4gIH1cblxuXG4gIC8vIEFQUExZIFRPIFNUQU5EQVJEIERST1BET1dOIEVMRU1FTlRTXG4gIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbiAgJChkb2N1bWVudClcbiAgICAub24oJ2NsaWNrLmJzLmRyb3Bkb3duLmRhdGEtYXBpJywgY2xlYXJNZW51cylcbiAgICAub24oJ2NsaWNrLmJzLmRyb3Bkb3duLmRhdGEtYXBpJywgJy5kcm9wZG93biBmb3JtJywgZnVuY3Rpb24gKGUpIHsgZS5zdG9wUHJvcGFnYXRpb24oKSB9KVxuICAgIC5vbignY2xpY2suYnMuZHJvcGRvd24uZGF0YS1hcGknLCB0b2dnbGUsIERyb3Bkb3duLnByb3RvdHlwZS50b2dnbGUpXG4gICAgLm9uKCdrZXlkb3duLmJzLmRyb3Bkb3duLmRhdGEtYXBpJywgdG9nZ2xlLCBEcm9wZG93bi5wcm90b3R5cGUua2V5ZG93bilcbiAgICAub24oJ2tleWRvd24uYnMuZHJvcGRvd24uZGF0YS1hcGknLCAnLmRyb3Bkb3duLW1lbnUnLCBEcm9wZG93bi5wcm90b3R5cGUua2V5ZG93bilcblxufShqUXVlcnkpO1xuIiwiLyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKiBCb290c3RyYXA6IG1vZGFsLmpzIHYzLjMuN1xuICogaHR0cDovL2dldGJvb3RzdHJhcC5jb20vamF2YXNjcmlwdC8jbW9kYWxzXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqIENvcHlyaWdodCAyMDExLTIwMTYgVHdpdHRlciwgSW5jLlxuICogTGljZW5zZWQgdW5kZXIgTUlUIChodHRwczovL2dpdGh1Yi5jb20vdHdicy9ib290c3RyYXAvYmxvYi9tYXN0ZXIvTElDRU5TRSlcbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSAqL1xuXG5cbitmdW5jdGlvbiAoJCkge1xuICAndXNlIHN0cmljdCc7XG5cbiAgLy8gTU9EQUwgQ0xBU1MgREVGSU5JVElPTlxuICAvLyA9PT09PT09PT09PT09PT09PT09PT09XG5cbiAgdmFyIE1vZGFsID0gZnVuY3Rpb24gKGVsZW1lbnQsIG9wdGlvbnMpIHtcbiAgICB0aGlzLm9wdGlvbnMgICAgICAgICAgICAgPSBvcHRpb25zXG4gICAgdGhpcy4kYm9keSAgICAgICAgICAgICAgID0gJChkb2N1bWVudC5ib2R5KVxuICAgIHRoaXMuJGVsZW1lbnQgICAgICAgICAgICA9ICQoZWxlbWVudClcbiAgICB0aGlzLiRkaWFsb2cgICAgICAgICAgICAgPSB0aGlzLiRlbGVtZW50LmZpbmQoJy5tb2RhbC1kaWFsb2cnKVxuICAgIHRoaXMuJGJhY2tkcm9wICAgICAgICAgICA9IG51bGxcbiAgICB0aGlzLmlzU2hvd24gICAgICAgICAgICAgPSBudWxsXG4gICAgdGhpcy5vcmlnaW5hbEJvZHlQYWQgICAgID0gbnVsbFxuICAgIHRoaXMuc2Nyb2xsYmFyV2lkdGggICAgICA9IDBcbiAgICB0aGlzLmlnbm9yZUJhY2tkcm9wQ2xpY2sgPSBmYWxzZVxuXG4gICAgaWYgKHRoaXMub3B0aW9ucy5yZW1vdGUpIHtcbiAgICAgIHRoaXMuJGVsZW1lbnRcbiAgICAgICAgLmZpbmQoJy5tb2RhbC1jb250ZW50JylcbiAgICAgICAgLmxvYWQodGhpcy5vcHRpb25zLnJlbW90ZSwgJC5wcm94eShmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgdGhpcy4kZWxlbWVudC50cmlnZ2VyKCdsb2FkZWQuYnMubW9kYWwnKVxuICAgICAgICB9LCB0aGlzKSlcbiAgICB9XG4gIH1cblxuICBNb2RhbC5WRVJTSU9OICA9ICczLjMuNydcblxuICBNb2RhbC5UUkFOU0lUSU9OX0RVUkFUSU9OID0gMzAwXG4gIE1vZGFsLkJBQ0tEUk9QX1RSQU5TSVRJT05fRFVSQVRJT04gPSAxNTBcblxuICBNb2RhbC5ERUZBVUxUUyA9IHtcbiAgICBiYWNrZHJvcDogdHJ1ZSxcbiAgICBrZXlib2FyZDogdHJ1ZSxcbiAgICBzaG93OiB0cnVlXG4gIH1cblxuICBNb2RhbC5wcm90b3R5cGUudG9nZ2xlID0gZnVuY3Rpb24gKF9yZWxhdGVkVGFyZ2V0KSB7XG4gICAgcmV0dXJuIHRoaXMuaXNTaG93biA/IHRoaXMuaGlkZSgpIDogdGhpcy5zaG93KF9yZWxhdGVkVGFyZ2V0KVxuICB9XG5cbiAgTW9kYWwucHJvdG90eXBlLnNob3cgPSBmdW5jdGlvbiAoX3JlbGF0ZWRUYXJnZXQpIHtcbiAgICB2YXIgdGhhdCA9IHRoaXNcbiAgICB2YXIgZSAgICA9ICQuRXZlbnQoJ3Nob3cuYnMubW9kYWwnLCB7IHJlbGF0ZWRUYXJnZXQ6IF9yZWxhdGVkVGFyZ2V0IH0pXG5cbiAgICB0aGlzLiRlbGVtZW50LnRyaWdnZXIoZSlcblxuICAgIGlmICh0aGlzLmlzU2hvd24gfHwgZS5pc0RlZmF1bHRQcmV2ZW50ZWQoKSkgcmV0dXJuXG5cbiAgICB0aGlzLmlzU2hvd24gPSB0cnVlXG5cbiAgICB0aGlzLmNoZWNrU2Nyb2xsYmFyKClcbiAgICB0aGlzLnNldFNjcm9sbGJhcigpXG4gICAgdGhpcy4kYm9keS5hZGRDbGFzcygnbW9kYWwtb3BlbicpXG5cbiAgICB0aGlzLmVzY2FwZSgpXG4gICAgdGhpcy5yZXNpemUoKVxuXG4gICAgdGhpcy4kZWxlbWVudC5vbignY2xpY2suZGlzbWlzcy5icy5tb2RhbCcsICdbZGF0YS1kaXNtaXNzPVwibW9kYWxcIl0nLCAkLnByb3h5KHRoaXMuaGlkZSwgdGhpcykpXG5cbiAgICB0aGlzLiRkaWFsb2cub24oJ21vdXNlZG93bi5kaXNtaXNzLmJzLm1vZGFsJywgZnVuY3Rpb24gKCkge1xuICAgICAgdGhhdC4kZWxlbWVudC5vbmUoJ21vdXNldXAuZGlzbWlzcy5icy5tb2RhbCcsIGZ1bmN0aW9uIChlKSB7XG4gICAgICAgIGlmICgkKGUudGFyZ2V0KS5pcyh0aGF0LiRlbGVtZW50KSkgdGhhdC5pZ25vcmVCYWNrZHJvcENsaWNrID0gdHJ1ZVxuICAgICAgfSlcbiAgICB9KVxuXG4gICAgdGhpcy5iYWNrZHJvcChmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgdHJhbnNpdGlvbiA9ICQuc3VwcG9ydC50cmFuc2l0aW9uICYmIHRoYXQuJGVsZW1lbnQuaGFzQ2xhc3MoJ2ZhZGUnKVxuXG4gICAgICBpZiAoIXRoYXQuJGVsZW1lbnQucGFyZW50KCkubGVuZ3RoKSB7XG4gICAgICAgIHRoYXQuJGVsZW1lbnQuYXBwZW5kVG8odGhhdC4kYm9keSkgLy8gZG9uJ3QgbW92ZSBtb2RhbHMgZG9tIHBvc2l0aW9uXG4gICAgICB9XG5cbiAgICAgIHRoYXQuJGVsZW1lbnRcbiAgICAgICAgLnNob3coKVxuICAgICAgICAuc2Nyb2xsVG9wKDApXG5cbiAgICAgIHRoYXQuYWRqdXN0RGlhbG9nKClcblxuICAgICAgaWYgKHRyYW5zaXRpb24pIHtcbiAgICAgICAgdGhhdC4kZWxlbWVudFswXS5vZmZzZXRXaWR0aCAvLyBmb3JjZSByZWZsb3dcbiAgICAgIH1cblxuICAgICAgdGhhdC4kZWxlbWVudC5hZGRDbGFzcygnaW4nKVxuXG4gICAgICB0aGF0LmVuZm9yY2VGb2N1cygpXG5cbiAgICAgIHZhciBlID0gJC5FdmVudCgnc2hvd24uYnMubW9kYWwnLCB7IHJlbGF0ZWRUYXJnZXQ6IF9yZWxhdGVkVGFyZ2V0IH0pXG5cbiAgICAgIHRyYW5zaXRpb24gP1xuICAgICAgICB0aGF0LiRkaWFsb2cgLy8gd2FpdCBmb3IgbW9kYWwgdG8gc2xpZGUgaW5cbiAgICAgICAgICAub25lKCdic1RyYW5zaXRpb25FbmQnLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB0aGF0LiRlbGVtZW50LnRyaWdnZXIoJ2ZvY3VzJykudHJpZ2dlcihlKVxuICAgICAgICAgIH0pXG4gICAgICAgICAgLmVtdWxhdGVUcmFuc2l0aW9uRW5kKE1vZGFsLlRSQU5TSVRJT05fRFVSQVRJT04pIDpcbiAgICAgICAgdGhhdC4kZWxlbWVudC50cmlnZ2VyKCdmb2N1cycpLnRyaWdnZXIoZSlcbiAgICB9KVxuICB9XG5cbiAgTW9kYWwucHJvdG90eXBlLmhpZGUgPSBmdW5jdGlvbiAoZSkge1xuICAgIGlmIChlKSBlLnByZXZlbnREZWZhdWx0KClcblxuICAgIGUgPSAkLkV2ZW50KCdoaWRlLmJzLm1vZGFsJylcblxuICAgIHRoaXMuJGVsZW1lbnQudHJpZ2dlcihlKVxuXG4gICAgaWYgKCF0aGlzLmlzU2hvd24gfHwgZS5pc0RlZmF1bHRQcmV2ZW50ZWQoKSkgcmV0dXJuXG5cbiAgICB0aGlzLmlzU2hvd24gPSBmYWxzZVxuXG4gICAgdGhpcy5lc2NhcGUoKVxuICAgIHRoaXMucmVzaXplKClcblxuICAgICQoZG9jdW1lbnQpLm9mZignZm9jdXNpbi5icy5tb2RhbCcpXG5cbiAgICB0aGlzLiRlbGVtZW50XG4gICAgICAucmVtb3ZlQ2xhc3MoJ2luJylcbiAgICAgIC5vZmYoJ2NsaWNrLmRpc21pc3MuYnMubW9kYWwnKVxuICAgICAgLm9mZignbW91c2V1cC5kaXNtaXNzLmJzLm1vZGFsJylcblxuICAgIHRoaXMuJGRpYWxvZy5vZmYoJ21vdXNlZG93bi5kaXNtaXNzLmJzLm1vZGFsJylcblxuICAgICQuc3VwcG9ydC50cmFuc2l0aW9uICYmIHRoaXMuJGVsZW1lbnQuaGFzQ2xhc3MoJ2ZhZGUnKSA/XG4gICAgICB0aGlzLiRlbGVtZW50XG4gICAgICAgIC5vbmUoJ2JzVHJhbnNpdGlvbkVuZCcsICQucHJveHkodGhpcy5oaWRlTW9kYWwsIHRoaXMpKVxuICAgICAgICAuZW11bGF0ZVRyYW5zaXRpb25FbmQoTW9kYWwuVFJBTlNJVElPTl9EVVJBVElPTikgOlxuICAgICAgdGhpcy5oaWRlTW9kYWwoKVxuICB9XG5cbiAgTW9kYWwucHJvdG90eXBlLmVuZm9yY2VGb2N1cyA9IGZ1bmN0aW9uICgpIHtcbiAgICAkKGRvY3VtZW50KVxuICAgICAgLm9mZignZm9jdXNpbi5icy5tb2RhbCcpIC8vIGd1YXJkIGFnYWluc3QgaW5maW5pdGUgZm9jdXMgbG9vcFxuICAgICAgLm9uKCdmb2N1c2luLmJzLm1vZGFsJywgJC5wcm94eShmdW5jdGlvbiAoZSkge1xuICAgICAgICBpZiAoZG9jdW1lbnQgIT09IGUudGFyZ2V0ICYmXG4gICAgICAgICAgICB0aGlzLiRlbGVtZW50WzBdICE9PSBlLnRhcmdldCAmJlxuICAgICAgICAgICAgIXRoaXMuJGVsZW1lbnQuaGFzKGUudGFyZ2V0KS5sZW5ndGgpIHtcbiAgICAgICAgICB0aGlzLiRlbGVtZW50LnRyaWdnZXIoJ2ZvY3VzJylcbiAgICAgICAgfVxuICAgICAgfSwgdGhpcykpXG4gIH1cblxuICBNb2RhbC5wcm90b3R5cGUuZXNjYXBlID0gZnVuY3Rpb24gKCkge1xuICAgIGlmICh0aGlzLmlzU2hvd24gJiYgdGhpcy5vcHRpb25zLmtleWJvYXJkKSB7XG4gICAgICB0aGlzLiRlbGVtZW50Lm9uKCdrZXlkb3duLmRpc21pc3MuYnMubW9kYWwnLCAkLnByb3h5KGZ1bmN0aW9uIChlKSB7XG4gICAgICAgIGUud2hpY2ggPT0gMjcgJiYgdGhpcy5oaWRlKClcbiAgICAgIH0sIHRoaXMpKVxuICAgIH0gZWxzZSBpZiAoIXRoaXMuaXNTaG93bikge1xuICAgICAgdGhpcy4kZWxlbWVudC5vZmYoJ2tleWRvd24uZGlzbWlzcy5icy5tb2RhbCcpXG4gICAgfVxuICB9XG5cbiAgTW9kYWwucHJvdG90eXBlLnJlc2l6ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICBpZiAodGhpcy5pc1Nob3duKSB7XG4gICAgICAkKHdpbmRvdykub24oJ3Jlc2l6ZS5icy5tb2RhbCcsICQucHJveHkodGhpcy5oYW5kbGVVcGRhdGUsIHRoaXMpKVxuICAgIH0gZWxzZSB7XG4gICAgICAkKHdpbmRvdykub2ZmKCdyZXNpemUuYnMubW9kYWwnKVxuICAgIH1cbiAgfVxuXG4gIE1vZGFsLnByb3RvdHlwZS5oaWRlTW9kYWwgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIHRoYXQgPSB0aGlzXG4gICAgdGhpcy4kZWxlbWVudC5oaWRlKClcbiAgICB0aGlzLmJhY2tkcm9wKGZ1bmN0aW9uICgpIHtcbiAgICAgIHRoYXQuJGJvZHkucmVtb3ZlQ2xhc3MoJ21vZGFsLW9wZW4nKVxuICAgICAgdGhhdC5yZXNldEFkanVzdG1lbnRzKClcbiAgICAgIHRoYXQucmVzZXRTY3JvbGxiYXIoKVxuICAgICAgdGhhdC4kZWxlbWVudC50cmlnZ2VyKCdoaWRkZW4uYnMubW9kYWwnKVxuICAgIH0pXG4gIH1cblxuICBNb2RhbC5wcm90b3R5cGUucmVtb3ZlQmFja2Ryb3AgPSBmdW5jdGlvbiAoKSB7XG4gICAgdGhpcy4kYmFja2Ryb3AgJiYgdGhpcy4kYmFja2Ryb3AucmVtb3ZlKClcbiAgICB0aGlzLiRiYWNrZHJvcCA9IG51bGxcbiAgfVxuXG4gIE1vZGFsLnByb3RvdHlwZS5iYWNrZHJvcCA9IGZ1bmN0aW9uIChjYWxsYmFjaykge1xuICAgIHZhciB0aGF0ID0gdGhpc1xuICAgIHZhciBhbmltYXRlID0gdGhpcy4kZWxlbWVudC5oYXNDbGFzcygnZmFkZScpID8gJ2ZhZGUnIDogJydcblxuICAgIGlmICh0aGlzLmlzU2hvd24gJiYgdGhpcy5vcHRpb25zLmJhY2tkcm9wKSB7XG4gICAgICB2YXIgZG9BbmltYXRlID0gJC5zdXBwb3J0LnRyYW5zaXRpb24gJiYgYW5pbWF0ZVxuXG4gICAgICB0aGlzLiRiYWNrZHJvcCA9ICQoZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2JykpXG4gICAgICAgIC5hZGRDbGFzcygnbW9kYWwtYmFja2Ryb3AgJyArIGFuaW1hdGUpXG4gICAgICAgIC5hcHBlbmRUbyh0aGlzLiRib2R5KVxuXG4gICAgICB0aGlzLiRlbGVtZW50Lm9uKCdjbGljay5kaXNtaXNzLmJzLm1vZGFsJywgJC5wcm94eShmdW5jdGlvbiAoZSkge1xuICAgICAgICBpZiAodGhpcy5pZ25vcmVCYWNrZHJvcENsaWNrKSB7XG4gICAgICAgICAgdGhpcy5pZ25vcmVCYWNrZHJvcENsaWNrID0gZmFsc2VcbiAgICAgICAgICByZXR1cm5cbiAgICAgICAgfVxuICAgICAgICBpZiAoZS50YXJnZXQgIT09IGUuY3VycmVudFRhcmdldCkgcmV0dXJuXG4gICAgICAgIHRoaXMub3B0aW9ucy5iYWNrZHJvcCA9PSAnc3RhdGljJ1xuICAgICAgICAgID8gdGhpcy4kZWxlbWVudFswXS5mb2N1cygpXG4gICAgICAgICAgOiB0aGlzLmhpZGUoKVxuICAgICAgfSwgdGhpcykpXG5cbiAgICAgIGlmIChkb0FuaW1hdGUpIHRoaXMuJGJhY2tkcm9wWzBdLm9mZnNldFdpZHRoIC8vIGZvcmNlIHJlZmxvd1xuXG4gICAgICB0aGlzLiRiYWNrZHJvcC5hZGRDbGFzcygnaW4nKVxuXG4gICAgICBpZiAoIWNhbGxiYWNrKSByZXR1cm5cblxuICAgICAgZG9BbmltYXRlID9cbiAgICAgICAgdGhpcy4kYmFja2Ryb3BcbiAgICAgICAgICAub25lKCdic1RyYW5zaXRpb25FbmQnLCBjYWxsYmFjaylcbiAgICAgICAgICAuZW11bGF0ZVRyYW5zaXRpb25FbmQoTW9kYWwuQkFDS0RST1BfVFJBTlNJVElPTl9EVVJBVElPTikgOlxuICAgICAgICBjYWxsYmFjaygpXG5cbiAgICB9IGVsc2UgaWYgKCF0aGlzLmlzU2hvd24gJiYgdGhpcy4kYmFja2Ryb3ApIHtcbiAgICAgIHRoaXMuJGJhY2tkcm9wLnJlbW92ZUNsYXNzKCdpbicpXG5cbiAgICAgIHZhciBjYWxsYmFja1JlbW92ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhhdC5yZW1vdmVCYWNrZHJvcCgpXG4gICAgICAgIGNhbGxiYWNrICYmIGNhbGxiYWNrKClcbiAgICAgIH1cbiAgICAgICQuc3VwcG9ydC50cmFuc2l0aW9uICYmIHRoaXMuJGVsZW1lbnQuaGFzQ2xhc3MoJ2ZhZGUnKSA/XG4gICAgICAgIHRoaXMuJGJhY2tkcm9wXG4gICAgICAgICAgLm9uZSgnYnNUcmFuc2l0aW9uRW5kJywgY2FsbGJhY2tSZW1vdmUpXG4gICAgICAgICAgLmVtdWxhdGVUcmFuc2l0aW9uRW5kKE1vZGFsLkJBQ0tEUk9QX1RSQU5TSVRJT05fRFVSQVRJT04pIDpcbiAgICAgICAgY2FsbGJhY2tSZW1vdmUoKVxuXG4gICAgfSBlbHNlIGlmIChjYWxsYmFjaykge1xuICAgICAgY2FsbGJhY2soKVxuICAgIH1cbiAgfVxuXG4gIC8vIHRoZXNlIGZvbGxvd2luZyBtZXRob2RzIGFyZSB1c2VkIHRvIGhhbmRsZSBvdmVyZmxvd2luZyBtb2RhbHNcblxuICBNb2RhbC5wcm90b3R5cGUuaGFuZGxlVXBkYXRlID0gZnVuY3Rpb24gKCkge1xuICAgIHRoaXMuYWRqdXN0RGlhbG9nKClcbiAgfVxuXG4gIE1vZGFsLnByb3RvdHlwZS5hZGp1c3REaWFsb2cgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIG1vZGFsSXNPdmVyZmxvd2luZyA9IHRoaXMuJGVsZW1lbnRbMF0uc2Nyb2xsSGVpZ2h0ID4gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudEhlaWdodFxuXG4gICAgdGhpcy4kZWxlbWVudC5jc3Moe1xuICAgICAgcGFkZGluZ0xlZnQ6ICAhdGhpcy5ib2R5SXNPdmVyZmxvd2luZyAmJiBtb2RhbElzT3ZlcmZsb3dpbmcgPyB0aGlzLnNjcm9sbGJhcldpZHRoIDogJycsXG4gICAgICBwYWRkaW5nUmlnaHQ6IHRoaXMuYm9keUlzT3ZlcmZsb3dpbmcgJiYgIW1vZGFsSXNPdmVyZmxvd2luZyA/IHRoaXMuc2Nyb2xsYmFyV2lkdGggOiAnJ1xuICAgIH0pXG4gIH1cblxuICBNb2RhbC5wcm90b3R5cGUucmVzZXRBZGp1c3RtZW50cyA9IGZ1bmN0aW9uICgpIHtcbiAgICB0aGlzLiRlbGVtZW50LmNzcyh7XG4gICAgICBwYWRkaW5nTGVmdDogJycsXG4gICAgICBwYWRkaW5nUmlnaHQ6ICcnXG4gICAgfSlcbiAgfVxuXG4gIE1vZGFsLnByb3RvdHlwZS5jaGVja1Njcm9sbGJhciA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgZnVsbFdpbmRvd1dpZHRoID0gd2luZG93LmlubmVyV2lkdGhcbiAgICBpZiAoIWZ1bGxXaW5kb3dXaWR0aCkgeyAvLyB3b3JrYXJvdW5kIGZvciBtaXNzaW5nIHdpbmRvdy5pbm5lcldpZHRoIGluIElFOFxuICAgICAgdmFyIGRvY3VtZW50RWxlbWVudFJlY3QgPSBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KClcbiAgICAgIGZ1bGxXaW5kb3dXaWR0aCA9IGRvY3VtZW50RWxlbWVudFJlY3QucmlnaHQgLSBNYXRoLmFicyhkb2N1bWVudEVsZW1lbnRSZWN0LmxlZnQpXG4gICAgfVxuICAgIHRoaXMuYm9keUlzT3ZlcmZsb3dpbmcgPSBkb2N1bWVudC5ib2R5LmNsaWVudFdpZHRoIDwgZnVsbFdpbmRvd1dpZHRoXG4gICAgdGhpcy5zY3JvbGxiYXJXaWR0aCA9IHRoaXMubWVhc3VyZVNjcm9sbGJhcigpXG4gIH1cblxuICBNb2RhbC5wcm90b3R5cGUuc2V0U2Nyb2xsYmFyID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciBib2R5UGFkID0gcGFyc2VJbnQoKHRoaXMuJGJvZHkuY3NzKCdwYWRkaW5nLXJpZ2h0JykgfHwgMCksIDEwKVxuICAgIHRoaXMub3JpZ2luYWxCb2R5UGFkID0gZG9jdW1lbnQuYm9keS5zdHlsZS5wYWRkaW5nUmlnaHQgfHwgJydcbiAgICBpZiAodGhpcy5ib2R5SXNPdmVyZmxvd2luZykgdGhpcy4kYm9keS5jc3MoJ3BhZGRpbmctcmlnaHQnLCBib2R5UGFkICsgdGhpcy5zY3JvbGxiYXJXaWR0aClcbiAgfVxuXG4gIE1vZGFsLnByb3RvdHlwZS5yZXNldFNjcm9sbGJhciA9IGZ1bmN0aW9uICgpIHtcbiAgICB0aGlzLiRib2R5LmNzcygncGFkZGluZy1yaWdodCcsIHRoaXMub3JpZ2luYWxCb2R5UGFkKVxuICB9XG5cbiAgTW9kYWwucHJvdG90eXBlLm1lYXN1cmVTY3JvbGxiYXIgPSBmdW5jdGlvbiAoKSB7IC8vIHRoeCB3YWxzaFxuICAgIHZhciBzY3JvbGxEaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKVxuICAgIHNjcm9sbERpdi5jbGFzc05hbWUgPSAnbW9kYWwtc2Nyb2xsYmFyLW1lYXN1cmUnXG4gICAgdGhpcy4kYm9keS5hcHBlbmQoc2Nyb2xsRGl2KVxuICAgIHZhciBzY3JvbGxiYXJXaWR0aCA9IHNjcm9sbERpdi5vZmZzZXRXaWR0aCAtIHNjcm9sbERpdi5jbGllbnRXaWR0aFxuICAgIHRoaXMuJGJvZHlbMF0ucmVtb3ZlQ2hpbGQoc2Nyb2xsRGl2KVxuICAgIHJldHVybiBzY3JvbGxiYXJXaWR0aFxuICB9XG5cblxuICAvLyBNT0RBTCBQTFVHSU4gREVGSU5JVElPTlxuICAvLyA9PT09PT09PT09PT09PT09PT09PT09PVxuXG4gIGZ1bmN0aW9uIFBsdWdpbihvcHRpb24sIF9yZWxhdGVkVGFyZ2V0KSB7XG4gICAgcmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgJHRoaXMgICA9ICQodGhpcylcbiAgICAgIHZhciBkYXRhICAgID0gJHRoaXMuZGF0YSgnYnMubW9kYWwnKVxuICAgICAgdmFyIG9wdGlvbnMgPSAkLmV4dGVuZCh7fSwgTW9kYWwuREVGQVVMVFMsICR0aGlzLmRhdGEoKSwgdHlwZW9mIG9wdGlvbiA9PSAnb2JqZWN0JyAmJiBvcHRpb24pXG5cbiAgICAgIGlmICghZGF0YSkgJHRoaXMuZGF0YSgnYnMubW9kYWwnLCAoZGF0YSA9IG5ldyBNb2RhbCh0aGlzLCBvcHRpb25zKSkpXG4gICAgICBpZiAodHlwZW9mIG9wdGlvbiA9PSAnc3RyaW5nJykgZGF0YVtvcHRpb25dKF9yZWxhdGVkVGFyZ2V0KVxuICAgICAgZWxzZSBpZiAob3B0aW9ucy5zaG93KSBkYXRhLnNob3coX3JlbGF0ZWRUYXJnZXQpXG4gICAgfSlcbiAgfVxuXG4gIHZhciBvbGQgPSAkLmZuLm1vZGFsXG5cbiAgJC5mbi5tb2RhbCAgICAgICAgICAgICA9IFBsdWdpblxuICAkLmZuLm1vZGFsLkNvbnN0cnVjdG9yID0gTW9kYWxcblxuXG4gIC8vIE1PREFMIE5PIENPTkZMSUNUXG4gIC8vID09PT09PT09PT09PT09PT09XG5cbiAgJC5mbi5tb2RhbC5ub0NvbmZsaWN0ID0gZnVuY3Rpb24gKCkge1xuICAgICQuZm4ubW9kYWwgPSBvbGRcbiAgICByZXR1cm4gdGhpc1xuICB9XG5cblxuICAvLyBNT0RBTCBEQVRBLUFQSVxuICAvLyA9PT09PT09PT09PT09PVxuXG4gICQoZG9jdW1lbnQpLm9uKCdjbGljay5icy5tb2RhbC5kYXRhLWFwaScsICdbZGF0YS10b2dnbGU9XCJtb2RhbFwiXScsIGZ1bmN0aW9uIChlKSB7XG4gICAgdmFyICR0aGlzICAgPSAkKHRoaXMpXG4gICAgdmFyIGhyZWYgICAgPSAkdGhpcy5hdHRyKCdocmVmJylcbiAgICB2YXIgJHRhcmdldCA9ICQoJHRoaXMuYXR0cignZGF0YS10YXJnZXQnKSB8fCAoaHJlZiAmJiBocmVmLnJlcGxhY2UoLy4qKD89I1teXFxzXSskKS8sICcnKSkpIC8vIHN0cmlwIGZvciBpZTdcbiAgICB2YXIgb3B0aW9uICA9ICR0YXJnZXQuZGF0YSgnYnMubW9kYWwnKSA/ICd0b2dnbGUnIDogJC5leHRlbmQoeyByZW1vdGU6ICEvIy8udGVzdChocmVmKSAmJiBocmVmIH0sICR0YXJnZXQuZGF0YSgpLCAkdGhpcy5kYXRhKCkpXG5cbiAgICBpZiAoJHRoaXMuaXMoJ2EnKSkgZS5wcmV2ZW50RGVmYXVsdCgpXG5cbiAgICAkdGFyZ2V0Lm9uZSgnc2hvdy5icy5tb2RhbCcsIGZ1bmN0aW9uIChzaG93RXZlbnQpIHtcbiAgICAgIGlmIChzaG93RXZlbnQuaXNEZWZhdWx0UHJldmVudGVkKCkpIHJldHVybiAvLyBvbmx5IHJlZ2lzdGVyIGZvY3VzIHJlc3RvcmVyIGlmIG1vZGFsIHdpbGwgYWN0dWFsbHkgZ2V0IHNob3duXG4gICAgICAkdGFyZ2V0Lm9uZSgnaGlkZGVuLmJzLm1vZGFsJywgZnVuY3Rpb24gKCkge1xuICAgICAgICAkdGhpcy5pcygnOnZpc2libGUnKSAmJiAkdGhpcy50cmlnZ2VyKCdmb2N1cycpXG4gICAgICB9KVxuICAgIH0pXG4gICAgUGx1Z2luLmNhbGwoJHRhcmdldCwgb3B0aW9uLCB0aGlzKVxuICB9KVxuXG59KGpRdWVyeSk7XG4iLCIvKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqIEJvb3RzdHJhcDogcG9wb3Zlci5qcyB2My4zLjdcbiAqIGh0dHA6Ly9nZXRib290c3RyYXAuY29tL2phdmFzY3JpcHQvI3BvcG92ZXJzXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqIENvcHlyaWdodCAyMDExLTIwMTYgVHdpdHRlciwgSW5jLlxuICogTGljZW5zZWQgdW5kZXIgTUlUIChodHRwczovL2dpdGh1Yi5jb20vdHdicy9ib290c3RyYXAvYmxvYi9tYXN0ZXIvTElDRU5TRSlcbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSAqL1xuXG5cbitmdW5jdGlvbiAoJCkge1xuICAndXNlIHN0cmljdCc7XG5cbiAgLy8gUE9QT1ZFUiBQVUJMSUMgQ0xBU1MgREVGSU5JVElPTlxuICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbiAgdmFyIFBvcG92ZXIgPSBmdW5jdGlvbiAoZWxlbWVudCwgb3B0aW9ucykge1xuICAgIHRoaXMuaW5pdCgncG9wb3ZlcicsIGVsZW1lbnQsIG9wdGlvbnMpXG4gIH1cblxuICBpZiAoISQuZm4udG9vbHRpcCkgdGhyb3cgbmV3IEVycm9yKCdQb3BvdmVyIHJlcXVpcmVzIHRvb2x0aXAuanMnKVxuXG4gIFBvcG92ZXIuVkVSU0lPTiAgPSAnMy4zLjcnXG5cbiAgUG9wb3Zlci5ERUZBVUxUUyA9ICQuZXh0ZW5kKHt9LCAkLmZuLnRvb2x0aXAuQ29uc3RydWN0b3IuREVGQVVMVFMsIHtcbiAgICBwbGFjZW1lbnQ6ICdyaWdodCcsXG4gICAgdHJpZ2dlcjogJ2NsaWNrJyxcbiAgICBjb250ZW50OiAnJyxcbiAgICB0ZW1wbGF0ZTogJzxkaXYgY2xhc3M9XCJwb3BvdmVyXCIgcm9sZT1cInRvb2x0aXBcIj48ZGl2IGNsYXNzPVwiYXJyb3dcIj48L2Rpdj48aDMgY2xhc3M9XCJwb3BvdmVyLXRpdGxlXCI+PC9oMz48ZGl2IGNsYXNzPVwicG9wb3Zlci1jb250ZW50XCI+PC9kaXY+PC9kaXY+J1xuICB9KVxuXG5cbiAgLy8gTk9URTogUE9QT1ZFUiBFWFRFTkRTIHRvb2x0aXAuanNcbiAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuICBQb3BvdmVyLnByb3RvdHlwZSA9ICQuZXh0ZW5kKHt9LCAkLmZuLnRvb2x0aXAuQ29uc3RydWN0b3IucHJvdG90eXBlKVxuXG4gIFBvcG92ZXIucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gUG9wb3ZlclxuXG4gIFBvcG92ZXIucHJvdG90eXBlLmdldERlZmF1bHRzID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiBQb3BvdmVyLkRFRkFVTFRTXG4gIH1cblxuICBQb3BvdmVyLnByb3RvdHlwZS5zZXRDb250ZW50ID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciAkdGlwICAgID0gdGhpcy50aXAoKVxuICAgIHZhciB0aXRsZSAgID0gdGhpcy5nZXRUaXRsZSgpXG4gICAgdmFyIGNvbnRlbnQgPSB0aGlzLmdldENvbnRlbnQoKVxuXG4gICAgJHRpcC5maW5kKCcucG9wb3Zlci10aXRsZScpW3RoaXMub3B0aW9ucy5odG1sID8gJ2h0bWwnIDogJ3RleHQnXSh0aXRsZSlcbiAgICAkdGlwLmZpbmQoJy5wb3BvdmVyLWNvbnRlbnQnKS5jaGlsZHJlbigpLmRldGFjaCgpLmVuZCgpWyAvLyB3ZSB1c2UgYXBwZW5kIGZvciBodG1sIG9iamVjdHMgdG8gbWFpbnRhaW4ganMgZXZlbnRzXG4gICAgICB0aGlzLm9wdGlvbnMuaHRtbCA/ICh0eXBlb2YgY29udGVudCA9PSAnc3RyaW5nJyA/ICdodG1sJyA6ICdhcHBlbmQnKSA6ICd0ZXh0J1xuICAgIF0oY29udGVudClcblxuICAgICR0aXAucmVtb3ZlQ2xhc3MoJ2ZhZGUgdG9wIGJvdHRvbSBsZWZ0IHJpZ2h0IGluJylcblxuICAgIC8vIElFOCBkb2Vzbid0IGFjY2VwdCBoaWRpbmcgdmlhIHRoZSBgOmVtcHR5YCBwc2V1ZG8gc2VsZWN0b3IsIHdlIGhhdmUgdG8gZG9cbiAgICAvLyB0aGlzIG1hbnVhbGx5IGJ5IGNoZWNraW5nIHRoZSBjb250ZW50cy5cbiAgICBpZiAoISR0aXAuZmluZCgnLnBvcG92ZXItdGl0bGUnKS5odG1sKCkpICR0aXAuZmluZCgnLnBvcG92ZXItdGl0bGUnKS5oaWRlKClcbiAgfVxuXG4gIFBvcG92ZXIucHJvdG90eXBlLmhhc0NvbnRlbnQgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHRoaXMuZ2V0VGl0bGUoKSB8fCB0aGlzLmdldENvbnRlbnQoKVxuICB9XG5cbiAgUG9wb3Zlci5wcm90b3R5cGUuZ2V0Q29udGVudCA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgJGUgPSB0aGlzLiRlbGVtZW50XG4gICAgdmFyIG8gID0gdGhpcy5vcHRpb25zXG5cbiAgICByZXR1cm4gJGUuYXR0cignZGF0YS1jb250ZW50JylcbiAgICAgIHx8ICh0eXBlb2Ygby5jb250ZW50ID09ICdmdW5jdGlvbicgP1xuICAgICAgICAgICAgby5jb250ZW50LmNhbGwoJGVbMF0pIDpcbiAgICAgICAgICAgIG8uY29udGVudClcbiAgfVxuXG4gIFBvcG92ZXIucHJvdG90eXBlLmFycm93ID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiAodGhpcy4kYXJyb3cgPSB0aGlzLiRhcnJvdyB8fCB0aGlzLnRpcCgpLmZpbmQoJy5hcnJvdycpKVxuICB9XG5cblxuICAvLyBQT1BPVkVSIFBMVUdJTiBERUZJTklUSU9OXG4gIC8vID09PT09PT09PT09PT09PT09PT09PT09PT1cblxuICBmdW5jdGlvbiBQbHVnaW4ob3B0aW9uKSB7XG4gICAgcmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgJHRoaXMgICA9ICQodGhpcylcbiAgICAgIHZhciBkYXRhICAgID0gJHRoaXMuZGF0YSgnYnMucG9wb3ZlcicpXG4gICAgICB2YXIgb3B0aW9ucyA9IHR5cGVvZiBvcHRpb24gPT0gJ29iamVjdCcgJiYgb3B0aW9uXG5cbiAgICAgIGlmICghZGF0YSAmJiAvZGVzdHJveXxoaWRlLy50ZXN0KG9wdGlvbikpIHJldHVyblxuICAgICAgaWYgKCFkYXRhKSAkdGhpcy5kYXRhKCdicy5wb3BvdmVyJywgKGRhdGEgPSBuZXcgUG9wb3Zlcih0aGlzLCBvcHRpb25zKSkpXG4gICAgICBpZiAodHlwZW9mIG9wdGlvbiA9PSAnc3RyaW5nJykgZGF0YVtvcHRpb25dKClcbiAgICB9KVxuICB9XG5cbiAgdmFyIG9sZCA9ICQuZm4ucG9wb3ZlclxuXG4gICQuZm4ucG9wb3ZlciAgICAgICAgICAgICA9IFBsdWdpblxuICAkLmZuLnBvcG92ZXIuQ29uc3RydWN0b3IgPSBQb3BvdmVyXG5cblxuICAvLyBQT1BPVkVSIE5PIENPTkZMSUNUXG4gIC8vID09PT09PT09PT09PT09PT09PT1cblxuICAkLmZuLnBvcG92ZXIubm9Db25mbGljdCA9IGZ1bmN0aW9uICgpIHtcbiAgICAkLmZuLnBvcG92ZXIgPSBvbGRcbiAgICByZXR1cm4gdGhpc1xuICB9XG5cbn0oalF1ZXJ5KTtcbiIsIi8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICogQm9vdHN0cmFwOiBzY3JvbGxzcHkuanMgdjMuMy43XG4gKiBodHRwOi8vZ2V0Ym9vdHN0cmFwLmNvbS9qYXZhc2NyaXB0LyNzY3JvbGxzcHlcbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICogQ29weXJpZ2h0IDIwMTEtMjAxNiBUd2l0dGVyLCBJbmMuXG4gKiBMaWNlbnNlZCB1bmRlciBNSVQgKGh0dHBzOi8vZ2l0aHViLmNvbS90d2JzL2Jvb3RzdHJhcC9ibG9iL21hc3Rlci9MSUNFTlNFKVxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09ICovXG5cblxuK2Z1bmN0aW9uICgkKSB7XG4gICd1c2Ugc3RyaWN0JztcblxuICAvLyBTQ1JPTExTUFkgQ0xBU1MgREVGSU5JVElPTlxuICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG4gIGZ1bmN0aW9uIFNjcm9sbFNweShlbGVtZW50LCBvcHRpb25zKSB7XG4gICAgdGhpcy4kYm9keSAgICAgICAgICA9ICQoZG9jdW1lbnQuYm9keSlcbiAgICB0aGlzLiRzY3JvbGxFbGVtZW50ID0gJChlbGVtZW50KS5pcyhkb2N1bWVudC5ib2R5KSA/ICQod2luZG93KSA6ICQoZWxlbWVudClcbiAgICB0aGlzLm9wdGlvbnMgICAgICAgID0gJC5leHRlbmQoe30sIFNjcm9sbFNweS5ERUZBVUxUUywgb3B0aW9ucylcbiAgICB0aGlzLnNlbGVjdG9yICAgICAgID0gKHRoaXMub3B0aW9ucy50YXJnZXQgfHwgJycpICsgJyAubmF2IGxpID4gYSdcbiAgICB0aGlzLm9mZnNldHMgICAgICAgID0gW11cbiAgICB0aGlzLnRhcmdldHMgICAgICAgID0gW11cbiAgICB0aGlzLmFjdGl2ZVRhcmdldCAgID0gbnVsbFxuICAgIHRoaXMuc2Nyb2xsSGVpZ2h0ICAgPSAwXG5cbiAgICB0aGlzLiRzY3JvbGxFbGVtZW50Lm9uKCdzY3JvbGwuYnMuc2Nyb2xsc3B5JywgJC5wcm94eSh0aGlzLnByb2Nlc3MsIHRoaXMpKVxuICAgIHRoaXMucmVmcmVzaCgpXG4gICAgdGhpcy5wcm9jZXNzKClcbiAgfVxuXG4gIFNjcm9sbFNweS5WRVJTSU9OICA9ICczLjMuNydcblxuICBTY3JvbGxTcHkuREVGQVVMVFMgPSB7XG4gICAgb2Zmc2V0OiAxMFxuICB9XG5cbiAgU2Nyb2xsU3B5LnByb3RvdHlwZS5nZXRTY3JvbGxIZWlnaHQgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHRoaXMuJHNjcm9sbEVsZW1lbnRbMF0uc2Nyb2xsSGVpZ2h0IHx8IE1hdGgubWF4KHRoaXMuJGJvZHlbMF0uc2Nyb2xsSGVpZ2h0LCBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsSGVpZ2h0KVxuICB9XG5cbiAgU2Nyb2xsU3B5LnByb3RvdHlwZS5yZWZyZXNoID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciB0aGF0ICAgICAgICAgID0gdGhpc1xuICAgIHZhciBvZmZzZXRNZXRob2QgID0gJ29mZnNldCdcbiAgICB2YXIgb2Zmc2V0QmFzZSAgICA9IDBcblxuICAgIHRoaXMub2Zmc2V0cyAgICAgID0gW11cbiAgICB0aGlzLnRhcmdldHMgICAgICA9IFtdXG4gICAgdGhpcy5zY3JvbGxIZWlnaHQgPSB0aGlzLmdldFNjcm9sbEhlaWdodCgpXG5cbiAgICBpZiAoISQuaXNXaW5kb3codGhpcy4kc2Nyb2xsRWxlbWVudFswXSkpIHtcbiAgICAgIG9mZnNldE1ldGhvZCA9ICdwb3NpdGlvbidcbiAgICAgIG9mZnNldEJhc2UgICA9IHRoaXMuJHNjcm9sbEVsZW1lbnQuc2Nyb2xsVG9wKClcbiAgICB9XG5cbiAgICB0aGlzLiRib2R5XG4gICAgICAuZmluZCh0aGlzLnNlbGVjdG9yKVxuICAgICAgLm1hcChmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciAkZWwgICA9ICQodGhpcylcbiAgICAgICAgdmFyIGhyZWYgID0gJGVsLmRhdGEoJ3RhcmdldCcpIHx8ICRlbC5hdHRyKCdocmVmJylcbiAgICAgICAgdmFyICRocmVmID0gL14jLi8udGVzdChocmVmKSAmJiAkKGhyZWYpXG5cbiAgICAgICAgcmV0dXJuICgkaHJlZlxuICAgICAgICAgICYmICRocmVmLmxlbmd0aFxuICAgICAgICAgICYmICRocmVmLmlzKCc6dmlzaWJsZScpXG4gICAgICAgICAgJiYgW1skaHJlZltvZmZzZXRNZXRob2RdKCkudG9wICsgb2Zmc2V0QmFzZSwgaHJlZl1dKSB8fCBudWxsXG4gICAgICB9KVxuICAgICAgLnNvcnQoZnVuY3Rpb24gKGEsIGIpIHsgcmV0dXJuIGFbMF0gLSBiWzBdIH0pXG4gICAgICAuZWFjaChmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoYXQub2Zmc2V0cy5wdXNoKHRoaXNbMF0pXG4gICAgICAgIHRoYXQudGFyZ2V0cy5wdXNoKHRoaXNbMV0pXG4gICAgICB9KVxuICB9XG5cbiAgU2Nyb2xsU3B5LnByb3RvdHlwZS5wcm9jZXNzID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciBzY3JvbGxUb3AgICAgPSB0aGlzLiRzY3JvbGxFbGVtZW50LnNjcm9sbFRvcCgpICsgdGhpcy5vcHRpb25zLm9mZnNldFxuICAgIHZhciBzY3JvbGxIZWlnaHQgPSB0aGlzLmdldFNjcm9sbEhlaWdodCgpXG4gICAgdmFyIG1heFNjcm9sbCAgICA9IHRoaXMub3B0aW9ucy5vZmZzZXQgKyBzY3JvbGxIZWlnaHQgLSB0aGlzLiRzY3JvbGxFbGVtZW50LmhlaWdodCgpXG4gICAgdmFyIG9mZnNldHMgICAgICA9IHRoaXMub2Zmc2V0c1xuICAgIHZhciB0YXJnZXRzICAgICAgPSB0aGlzLnRhcmdldHNcbiAgICB2YXIgYWN0aXZlVGFyZ2V0ID0gdGhpcy5hY3RpdmVUYXJnZXRcbiAgICB2YXIgaVxuXG4gICAgaWYgKHRoaXMuc2Nyb2xsSGVpZ2h0ICE9IHNjcm9sbEhlaWdodCkge1xuICAgICAgdGhpcy5yZWZyZXNoKClcbiAgICB9XG5cbiAgICBpZiAoc2Nyb2xsVG9wID49IG1heFNjcm9sbCkge1xuICAgICAgcmV0dXJuIGFjdGl2ZVRhcmdldCAhPSAoaSA9IHRhcmdldHNbdGFyZ2V0cy5sZW5ndGggLSAxXSkgJiYgdGhpcy5hY3RpdmF0ZShpKVxuICAgIH1cblxuICAgIGlmIChhY3RpdmVUYXJnZXQgJiYgc2Nyb2xsVG9wIDwgb2Zmc2V0c1swXSkge1xuICAgICAgdGhpcy5hY3RpdmVUYXJnZXQgPSBudWxsXG4gICAgICByZXR1cm4gdGhpcy5jbGVhcigpXG4gICAgfVxuXG4gICAgZm9yIChpID0gb2Zmc2V0cy5sZW5ndGg7IGktLTspIHtcbiAgICAgIGFjdGl2ZVRhcmdldCAhPSB0YXJnZXRzW2ldXG4gICAgICAgICYmIHNjcm9sbFRvcCA+PSBvZmZzZXRzW2ldXG4gICAgICAgICYmIChvZmZzZXRzW2kgKyAxXSA9PT0gdW5kZWZpbmVkIHx8IHNjcm9sbFRvcCA8IG9mZnNldHNbaSArIDFdKVxuICAgICAgICAmJiB0aGlzLmFjdGl2YXRlKHRhcmdldHNbaV0pXG4gICAgfVxuICB9XG5cbiAgU2Nyb2xsU3B5LnByb3RvdHlwZS5hY3RpdmF0ZSA9IGZ1bmN0aW9uICh0YXJnZXQpIHtcbiAgICB0aGlzLmFjdGl2ZVRhcmdldCA9IHRhcmdldFxuXG4gICAgdGhpcy5jbGVhcigpXG5cbiAgICB2YXIgc2VsZWN0b3IgPSB0aGlzLnNlbGVjdG9yICtcbiAgICAgICdbZGF0YS10YXJnZXQ9XCInICsgdGFyZ2V0ICsgJ1wiXSwnICtcbiAgICAgIHRoaXMuc2VsZWN0b3IgKyAnW2hyZWY9XCInICsgdGFyZ2V0ICsgJ1wiXSdcblxuICAgIHZhciBhY3RpdmUgPSAkKHNlbGVjdG9yKVxuICAgICAgLnBhcmVudHMoJ2xpJylcbiAgICAgIC5hZGRDbGFzcygnYWN0aXZlJylcblxuICAgIGlmIChhY3RpdmUucGFyZW50KCcuZHJvcGRvd24tbWVudScpLmxlbmd0aCkge1xuICAgICAgYWN0aXZlID0gYWN0aXZlXG4gICAgICAgIC5jbG9zZXN0KCdsaS5kcm9wZG93bicpXG4gICAgICAgIC5hZGRDbGFzcygnYWN0aXZlJylcbiAgICB9XG5cbiAgICBhY3RpdmUudHJpZ2dlcignYWN0aXZhdGUuYnMuc2Nyb2xsc3B5JylcbiAgfVxuXG4gIFNjcm9sbFNweS5wcm90b3R5cGUuY2xlYXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgJCh0aGlzLnNlbGVjdG9yKVxuICAgICAgLnBhcmVudHNVbnRpbCh0aGlzLm9wdGlvbnMudGFyZ2V0LCAnLmFjdGl2ZScpXG4gICAgICAucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpXG4gIH1cblxuXG4gIC8vIFNDUk9MTFNQWSBQTFVHSU4gREVGSU5JVElPTlxuICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuICBmdW5jdGlvbiBQbHVnaW4ob3B0aW9uKSB7XG4gICAgcmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgJHRoaXMgICA9ICQodGhpcylcbiAgICAgIHZhciBkYXRhICAgID0gJHRoaXMuZGF0YSgnYnMuc2Nyb2xsc3B5JylcbiAgICAgIHZhciBvcHRpb25zID0gdHlwZW9mIG9wdGlvbiA9PSAnb2JqZWN0JyAmJiBvcHRpb25cblxuICAgICAgaWYgKCFkYXRhKSAkdGhpcy5kYXRhKCdicy5zY3JvbGxzcHknLCAoZGF0YSA9IG5ldyBTY3JvbGxTcHkodGhpcywgb3B0aW9ucykpKVxuICAgICAgaWYgKHR5cGVvZiBvcHRpb24gPT0gJ3N0cmluZycpIGRhdGFbb3B0aW9uXSgpXG4gICAgfSlcbiAgfVxuXG4gIHZhciBvbGQgPSAkLmZuLnNjcm9sbHNweVxuXG4gICQuZm4uc2Nyb2xsc3B5ICAgICAgICAgICAgID0gUGx1Z2luXG4gICQuZm4uc2Nyb2xsc3B5LkNvbnN0cnVjdG9yID0gU2Nyb2xsU3B5XG5cblxuICAvLyBTQ1JPTExTUFkgTk8gQ09ORkxJQ1RcbiAgLy8gPT09PT09PT09PT09PT09PT09PT09XG5cbiAgJC5mbi5zY3JvbGxzcHkubm9Db25mbGljdCA9IGZ1bmN0aW9uICgpIHtcbiAgICAkLmZuLnNjcm9sbHNweSA9IG9sZFxuICAgIHJldHVybiB0aGlzXG4gIH1cblxuXG4gIC8vIFNDUk9MTFNQWSBEQVRBLUFQSVxuICAvLyA9PT09PT09PT09PT09PT09PT1cblxuICAkKHdpbmRvdykub24oJ2xvYWQuYnMuc2Nyb2xsc3B5LmRhdGEtYXBpJywgZnVuY3Rpb24gKCkge1xuICAgICQoJ1tkYXRhLXNweT1cInNjcm9sbFwiXScpLmVhY2goZnVuY3Rpb24gKCkge1xuICAgICAgdmFyICRzcHkgPSAkKHRoaXMpXG4gICAgICBQbHVnaW4uY2FsbCgkc3B5LCAkc3B5LmRhdGEoKSlcbiAgICB9KVxuICB9KVxuXG59KGpRdWVyeSk7XG4iLCIvKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqIEJvb3RzdHJhcDogdGFiLmpzIHYzLjMuN1xuICogaHR0cDovL2dldGJvb3RzdHJhcC5jb20vamF2YXNjcmlwdC8jdGFic1xuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKiBDb3B5cmlnaHQgMjAxMS0yMDE2IFR3aXR0ZXIsIEluYy5cbiAqIExpY2Vuc2VkIHVuZGVyIE1JVCAoaHR0cHM6Ly9naXRodWIuY29tL3R3YnMvYm9vdHN0cmFwL2Jsb2IvbWFzdGVyL0xJQ0VOU0UpXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gKi9cblxuXG4rZnVuY3Rpb24gKCQpIHtcbiAgJ3VzZSBzdHJpY3QnO1xuXG4gIC8vIFRBQiBDTEFTUyBERUZJTklUSU9OXG4gIC8vID09PT09PT09PT09PT09PT09PT09XG5cbiAgdmFyIFRhYiA9IGZ1bmN0aW9uIChlbGVtZW50KSB7XG4gICAgLy8ganNjczpkaXNhYmxlIHJlcXVpcmVEb2xsYXJCZWZvcmVqUXVlcnlBc3NpZ25tZW50XG4gICAgdGhpcy5lbGVtZW50ID0gJChlbGVtZW50KVxuICAgIC8vIGpzY3M6ZW5hYmxlIHJlcXVpcmVEb2xsYXJCZWZvcmVqUXVlcnlBc3NpZ25tZW50XG4gIH1cblxuICBUYWIuVkVSU0lPTiA9ICczLjMuNydcblxuICBUYWIuVFJBTlNJVElPTl9EVVJBVElPTiA9IDE1MFxuXG4gIFRhYi5wcm90b3R5cGUuc2hvdyA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgJHRoaXMgICAgPSB0aGlzLmVsZW1lbnRcbiAgICB2YXIgJHVsICAgICAgPSAkdGhpcy5jbG9zZXN0KCd1bDpub3QoLmRyb3Bkb3duLW1lbnUpJylcbiAgICB2YXIgc2VsZWN0b3IgPSAkdGhpcy5kYXRhKCd0YXJnZXQnKVxuXG4gICAgaWYgKCFzZWxlY3Rvcikge1xuICAgICAgc2VsZWN0b3IgPSAkdGhpcy5hdHRyKCdocmVmJylcbiAgICAgIHNlbGVjdG9yID0gc2VsZWN0b3IgJiYgc2VsZWN0b3IucmVwbGFjZSgvLiooPz0jW15cXHNdKiQpLywgJycpIC8vIHN0cmlwIGZvciBpZTdcbiAgICB9XG5cbiAgICBpZiAoJHRoaXMucGFyZW50KCdsaScpLmhhc0NsYXNzKCdhY3RpdmUnKSkgcmV0dXJuXG5cbiAgICB2YXIgJHByZXZpb3VzID0gJHVsLmZpbmQoJy5hY3RpdmU6bGFzdCBhJylcbiAgICB2YXIgaGlkZUV2ZW50ID0gJC5FdmVudCgnaGlkZS5icy50YWInLCB7XG4gICAgICByZWxhdGVkVGFyZ2V0OiAkdGhpc1swXVxuICAgIH0pXG4gICAgdmFyIHNob3dFdmVudCA9ICQuRXZlbnQoJ3Nob3cuYnMudGFiJywge1xuICAgICAgcmVsYXRlZFRhcmdldDogJHByZXZpb3VzWzBdXG4gICAgfSlcblxuICAgICRwcmV2aW91cy50cmlnZ2VyKGhpZGVFdmVudClcbiAgICAkdGhpcy50cmlnZ2VyKHNob3dFdmVudClcblxuICAgIGlmIChzaG93RXZlbnQuaXNEZWZhdWx0UHJldmVudGVkKCkgfHwgaGlkZUV2ZW50LmlzRGVmYXVsdFByZXZlbnRlZCgpKSByZXR1cm5cblxuICAgIHZhciAkdGFyZ2V0ID0gJChzZWxlY3RvcilcblxuICAgIHRoaXMuYWN0aXZhdGUoJHRoaXMuY2xvc2VzdCgnbGknKSwgJHVsKVxuICAgIHRoaXMuYWN0aXZhdGUoJHRhcmdldCwgJHRhcmdldC5wYXJlbnQoKSwgZnVuY3Rpb24gKCkge1xuICAgICAgJHByZXZpb3VzLnRyaWdnZXIoe1xuICAgICAgICB0eXBlOiAnaGlkZGVuLmJzLnRhYicsXG4gICAgICAgIHJlbGF0ZWRUYXJnZXQ6ICR0aGlzWzBdXG4gICAgICB9KVxuICAgICAgJHRoaXMudHJpZ2dlcih7XG4gICAgICAgIHR5cGU6ICdzaG93bi5icy50YWInLFxuICAgICAgICByZWxhdGVkVGFyZ2V0OiAkcHJldmlvdXNbMF1cbiAgICAgIH0pXG4gICAgfSlcbiAgfVxuXG4gIFRhYi5wcm90b3R5cGUuYWN0aXZhdGUgPSBmdW5jdGlvbiAoZWxlbWVudCwgY29udGFpbmVyLCBjYWxsYmFjaykge1xuICAgIHZhciAkYWN0aXZlICAgID0gY29udGFpbmVyLmZpbmQoJz4gLmFjdGl2ZScpXG4gICAgdmFyIHRyYW5zaXRpb24gPSBjYWxsYmFja1xuICAgICAgJiYgJC5zdXBwb3J0LnRyYW5zaXRpb25cbiAgICAgICYmICgkYWN0aXZlLmxlbmd0aCAmJiAkYWN0aXZlLmhhc0NsYXNzKCdmYWRlJykgfHwgISFjb250YWluZXIuZmluZCgnPiAuZmFkZScpLmxlbmd0aClcblxuICAgIGZ1bmN0aW9uIG5leHQoKSB7XG4gICAgICAkYWN0aXZlXG4gICAgICAgIC5yZW1vdmVDbGFzcygnYWN0aXZlJylcbiAgICAgICAgLmZpbmQoJz4gLmRyb3Bkb3duLW1lbnUgPiAuYWN0aXZlJylcbiAgICAgICAgICAucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpXG4gICAgICAgIC5lbmQoKVxuICAgICAgICAuZmluZCgnW2RhdGEtdG9nZ2xlPVwidGFiXCJdJylcbiAgICAgICAgICAuYXR0cignYXJpYS1leHBhbmRlZCcsIGZhbHNlKVxuXG4gICAgICBlbGVtZW50XG4gICAgICAgIC5hZGRDbGFzcygnYWN0aXZlJylcbiAgICAgICAgLmZpbmQoJ1tkYXRhLXRvZ2dsZT1cInRhYlwiXScpXG4gICAgICAgICAgLmF0dHIoJ2FyaWEtZXhwYW5kZWQnLCB0cnVlKVxuXG4gICAgICBpZiAodHJhbnNpdGlvbikge1xuICAgICAgICBlbGVtZW50WzBdLm9mZnNldFdpZHRoIC8vIHJlZmxvdyBmb3IgdHJhbnNpdGlvblxuICAgICAgICBlbGVtZW50LmFkZENsYXNzKCdpbicpXG4gICAgICB9IGVsc2Uge1xuICAgICAgICBlbGVtZW50LnJlbW92ZUNsYXNzKCdmYWRlJylcbiAgICAgIH1cblxuICAgICAgaWYgKGVsZW1lbnQucGFyZW50KCcuZHJvcGRvd24tbWVudScpLmxlbmd0aCkge1xuICAgICAgICBlbGVtZW50XG4gICAgICAgICAgLmNsb3Nlc3QoJ2xpLmRyb3Bkb3duJylcbiAgICAgICAgICAgIC5hZGRDbGFzcygnYWN0aXZlJylcbiAgICAgICAgICAuZW5kKClcbiAgICAgICAgICAuZmluZCgnW2RhdGEtdG9nZ2xlPVwidGFiXCJdJylcbiAgICAgICAgICAgIC5hdHRyKCdhcmlhLWV4cGFuZGVkJywgdHJ1ZSlcbiAgICAgIH1cblxuICAgICAgY2FsbGJhY2sgJiYgY2FsbGJhY2soKVxuICAgIH1cblxuICAgICRhY3RpdmUubGVuZ3RoICYmIHRyYW5zaXRpb24gP1xuICAgICAgJGFjdGl2ZVxuICAgICAgICAub25lKCdic1RyYW5zaXRpb25FbmQnLCBuZXh0KVxuICAgICAgICAuZW11bGF0ZVRyYW5zaXRpb25FbmQoVGFiLlRSQU5TSVRJT05fRFVSQVRJT04pIDpcbiAgICAgIG5leHQoKVxuXG4gICAgJGFjdGl2ZS5yZW1vdmVDbGFzcygnaW4nKVxuICB9XG5cblxuICAvLyBUQUIgUExVR0lOIERFRklOSVRJT05cbiAgLy8gPT09PT09PT09PT09PT09PT09PT09XG5cbiAgZnVuY3Rpb24gUGx1Z2luKG9wdGlvbikge1xuICAgIHJldHVybiB0aGlzLmVhY2goZnVuY3Rpb24gKCkge1xuICAgICAgdmFyICR0aGlzID0gJCh0aGlzKVxuICAgICAgdmFyIGRhdGEgID0gJHRoaXMuZGF0YSgnYnMudGFiJylcblxuICAgICAgaWYgKCFkYXRhKSAkdGhpcy5kYXRhKCdicy50YWInLCAoZGF0YSA9IG5ldyBUYWIodGhpcykpKVxuICAgICAgaWYgKHR5cGVvZiBvcHRpb24gPT0gJ3N0cmluZycpIGRhdGFbb3B0aW9uXSgpXG4gICAgfSlcbiAgfVxuXG4gIHZhciBvbGQgPSAkLmZuLnRhYlxuXG4gICQuZm4udGFiICAgICAgICAgICAgID0gUGx1Z2luXG4gICQuZm4udGFiLkNvbnN0cnVjdG9yID0gVGFiXG5cblxuICAvLyBUQUIgTk8gQ09ORkxJQ1RcbiAgLy8gPT09PT09PT09PT09PT09XG5cbiAgJC5mbi50YWIubm9Db25mbGljdCA9IGZ1bmN0aW9uICgpIHtcbiAgICAkLmZuLnRhYiA9IG9sZFxuICAgIHJldHVybiB0aGlzXG4gIH1cblxuXG4gIC8vIFRBQiBEQVRBLUFQSVxuICAvLyA9PT09PT09PT09PT1cblxuICB2YXIgY2xpY2tIYW5kbGVyID0gZnVuY3Rpb24gKGUpIHtcbiAgICBlLnByZXZlbnREZWZhdWx0KClcbiAgICBQbHVnaW4uY2FsbCgkKHRoaXMpLCAnc2hvdycpXG4gIH1cblxuICAkKGRvY3VtZW50KVxuICAgIC5vbignY2xpY2suYnMudGFiLmRhdGEtYXBpJywgJ1tkYXRhLXRvZ2dsZT1cInRhYlwiXScsIGNsaWNrSGFuZGxlcilcbiAgICAub24oJ2NsaWNrLmJzLnRhYi5kYXRhLWFwaScsICdbZGF0YS10b2dnbGU9XCJwaWxsXCJdJywgY2xpY2tIYW5kbGVyKVxuXG59KGpRdWVyeSk7XG4iLCIvKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqIEJvb3RzdHJhcDogdG9vbHRpcC5qcyB2My4zLjdcbiAqIGh0dHA6Ly9nZXRib290c3RyYXAuY29tL2phdmFzY3JpcHQvI3Rvb2x0aXBcbiAqIEluc3BpcmVkIGJ5IHRoZSBvcmlnaW5hbCBqUXVlcnkudGlwc3kgYnkgSmFzb24gRnJhbWVcbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICogQ29weXJpZ2h0IDIwMTEtMjAxNiBUd2l0dGVyLCBJbmMuXG4gKiBMaWNlbnNlZCB1bmRlciBNSVQgKGh0dHBzOi8vZ2l0aHViLmNvbS90d2JzL2Jvb3RzdHJhcC9ibG9iL21hc3Rlci9MSUNFTlNFKVxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09ICovXG5cblxuK2Z1bmN0aW9uICgkKSB7XG4gICd1c2Ugc3RyaWN0JztcblxuICAvLyBUT09MVElQIFBVQkxJQyBDTEFTUyBERUZJTklUSU9OXG4gIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuICB2YXIgVG9vbHRpcCA9IGZ1bmN0aW9uIChlbGVtZW50LCBvcHRpb25zKSB7XG4gICAgdGhpcy50eXBlICAgICAgID0gbnVsbFxuICAgIHRoaXMub3B0aW9ucyAgICA9IG51bGxcbiAgICB0aGlzLmVuYWJsZWQgICAgPSBudWxsXG4gICAgdGhpcy50aW1lb3V0ICAgID0gbnVsbFxuICAgIHRoaXMuaG92ZXJTdGF0ZSA9IG51bGxcbiAgICB0aGlzLiRlbGVtZW50ICAgPSBudWxsXG4gICAgdGhpcy5pblN0YXRlICAgID0gbnVsbFxuXG4gICAgdGhpcy5pbml0KCd0b29sdGlwJywgZWxlbWVudCwgb3B0aW9ucylcbiAgfVxuXG4gIFRvb2x0aXAuVkVSU0lPTiAgPSAnMy4zLjcnXG5cbiAgVG9vbHRpcC5UUkFOU0lUSU9OX0RVUkFUSU9OID0gMTUwXG5cbiAgVG9vbHRpcC5ERUZBVUxUUyA9IHtcbiAgICBhbmltYXRpb246IHRydWUsXG4gICAgcGxhY2VtZW50OiAndG9wJyxcbiAgICBzZWxlY3RvcjogZmFsc2UsXG4gICAgdGVtcGxhdGU6ICc8ZGl2IGNsYXNzPVwidG9vbHRpcFwiIHJvbGU9XCJ0b29sdGlwXCI+PGRpdiBjbGFzcz1cInRvb2x0aXAtYXJyb3dcIj48L2Rpdj48ZGl2IGNsYXNzPVwidG9vbHRpcC1pbm5lclwiPjwvZGl2PjwvZGl2PicsXG4gICAgdHJpZ2dlcjogJ2hvdmVyIGZvY3VzJyxcbiAgICB0aXRsZTogJycsXG4gICAgZGVsYXk6IDAsXG4gICAgaHRtbDogZmFsc2UsXG4gICAgY29udGFpbmVyOiBmYWxzZSxcbiAgICB2aWV3cG9ydDoge1xuICAgICAgc2VsZWN0b3I6ICdib2R5JyxcbiAgICAgIHBhZGRpbmc6IDBcbiAgICB9XG4gIH1cblxuICBUb29sdGlwLnByb3RvdHlwZS5pbml0ID0gZnVuY3Rpb24gKHR5cGUsIGVsZW1lbnQsIG9wdGlvbnMpIHtcbiAgICB0aGlzLmVuYWJsZWQgICA9IHRydWVcbiAgICB0aGlzLnR5cGUgICAgICA9IHR5cGVcbiAgICB0aGlzLiRlbGVtZW50ICA9ICQoZWxlbWVudClcbiAgICB0aGlzLm9wdGlvbnMgICA9IHRoaXMuZ2V0T3B0aW9ucyhvcHRpb25zKVxuICAgIHRoaXMuJHZpZXdwb3J0ID0gdGhpcy5vcHRpb25zLnZpZXdwb3J0ICYmICQoJC5pc0Z1bmN0aW9uKHRoaXMub3B0aW9ucy52aWV3cG9ydCkgPyB0aGlzLm9wdGlvbnMudmlld3BvcnQuY2FsbCh0aGlzLCB0aGlzLiRlbGVtZW50KSA6ICh0aGlzLm9wdGlvbnMudmlld3BvcnQuc2VsZWN0b3IgfHwgdGhpcy5vcHRpb25zLnZpZXdwb3J0KSlcbiAgICB0aGlzLmluU3RhdGUgICA9IHsgY2xpY2s6IGZhbHNlLCBob3ZlcjogZmFsc2UsIGZvY3VzOiBmYWxzZSB9XG5cbiAgICBpZiAodGhpcy4kZWxlbWVudFswXSBpbnN0YW5jZW9mIGRvY3VtZW50LmNvbnN0cnVjdG9yICYmICF0aGlzLm9wdGlvbnMuc2VsZWN0b3IpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignYHNlbGVjdG9yYCBvcHRpb24gbXVzdCBiZSBzcGVjaWZpZWQgd2hlbiBpbml0aWFsaXppbmcgJyArIHRoaXMudHlwZSArICcgb24gdGhlIHdpbmRvdy5kb2N1bWVudCBvYmplY3QhJylcbiAgICB9XG5cbiAgICB2YXIgdHJpZ2dlcnMgPSB0aGlzLm9wdGlvbnMudHJpZ2dlci5zcGxpdCgnICcpXG5cbiAgICBmb3IgKHZhciBpID0gdHJpZ2dlcnMubGVuZ3RoOyBpLS07KSB7XG4gICAgICB2YXIgdHJpZ2dlciA9IHRyaWdnZXJzW2ldXG5cbiAgICAgIGlmICh0cmlnZ2VyID09ICdjbGljaycpIHtcbiAgICAgICAgdGhpcy4kZWxlbWVudC5vbignY2xpY2suJyArIHRoaXMudHlwZSwgdGhpcy5vcHRpb25zLnNlbGVjdG9yLCAkLnByb3h5KHRoaXMudG9nZ2xlLCB0aGlzKSlcbiAgICAgIH0gZWxzZSBpZiAodHJpZ2dlciAhPSAnbWFudWFsJykge1xuICAgICAgICB2YXIgZXZlbnRJbiAgPSB0cmlnZ2VyID09ICdob3ZlcicgPyAnbW91c2VlbnRlcicgOiAnZm9jdXNpbidcbiAgICAgICAgdmFyIGV2ZW50T3V0ID0gdHJpZ2dlciA9PSAnaG92ZXInID8gJ21vdXNlbGVhdmUnIDogJ2ZvY3Vzb3V0J1xuXG4gICAgICAgIHRoaXMuJGVsZW1lbnQub24oZXZlbnRJbiAgKyAnLicgKyB0aGlzLnR5cGUsIHRoaXMub3B0aW9ucy5zZWxlY3RvciwgJC5wcm94eSh0aGlzLmVudGVyLCB0aGlzKSlcbiAgICAgICAgdGhpcy4kZWxlbWVudC5vbihldmVudE91dCArICcuJyArIHRoaXMudHlwZSwgdGhpcy5vcHRpb25zLnNlbGVjdG9yLCAkLnByb3h5KHRoaXMubGVhdmUsIHRoaXMpKVxuICAgICAgfVxuICAgIH1cblxuICAgIHRoaXMub3B0aW9ucy5zZWxlY3RvciA/XG4gICAgICAodGhpcy5fb3B0aW9ucyA9ICQuZXh0ZW5kKHt9LCB0aGlzLm9wdGlvbnMsIHsgdHJpZ2dlcjogJ21hbnVhbCcsIHNlbGVjdG9yOiAnJyB9KSkgOlxuICAgICAgdGhpcy5maXhUaXRsZSgpXG4gIH1cblxuICBUb29sdGlwLnByb3RvdHlwZS5nZXREZWZhdWx0cyA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gVG9vbHRpcC5ERUZBVUxUU1xuICB9XG5cbiAgVG9vbHRpcC5wcm90b3R5cGUuZ2V0T3B0aW9ucyA9IGZ1bmN0aW9uIChvcHRpb25zKSB7XG4gICAgb3B0aW9ucyA9ICQuZXh0ZW5kKHt9LCB0aGlzLmdldERlZmF1bHRzKCksIHRoaXMuJGVsZW1lbnQuZGF0YSgpLCBvcHRpb25zKVxuXG4gICAgaWYgKG9wdGlvbnMuZGVsYXkgJiYgdHlwZW9mIG9wdGlvbnMuZGVsYXkgPT0gJ251bWJlcicpIHtcbiAgICAgIG9wdGlvbnMuZGVsYXkgPSB7XG4gICAgICAgIHNob3c6IG9wdGlvbnMuZGVsYXksXG4gICAgICAgIGhpZGU6IG9wdGlvbnMuZGVsYXlcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gb3B0aW9uc1xuICB9XG5cbiAgVG9vbHRpcC5wcm90b3R5cGUuZ2V0RGVsZWdhdGVPcHRpb25zID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciBvcHRpb25zICA9IHt9XG4gICAgdmFyIGRlZmF1bHRzID0gdGhpcy5nZXREZWZhdWx0cygpXG5cbiAgICB0aGlzLl9vcHRpb25zICYmICQuZWFjaCh0aGlzLl9vcHRpb25zLCBmdW5jdGlvbiAoa2V5LCB2YWx1ZSkge1xuICAgICAgaWYgKGRlZmF1bHRzW2tleV0gIT0gdmFsdWUpIG9wdGlvbnNba2V5XSA9IHZhbHVlXG4gICAgfSlcblxuICAgIHJldHVybiBvcHRpb25zXG4gIH1cblxuICBUb29sdGlwLnByb3RvdHlwZS5lbnRlciA9IGZ1bmN0aW9uIChvYmopIHtcbiAgICB2YXIgc2VsZiA9IG9iaiBpbnN0YW5jZW9mIHRoaXMuY29uc3RydWN0b3IgP1xuICAgICAgb2JqIDogJChvYmouY3VycmVudFRhcmdldCkuZGF0YSgnYnMuJyArIHRoaXMudHlwZSlcblxuICAgIGlmICghc2VsZikge1xuICAgICAgc2VsZiA9IG5ldyB0aGlzLmNvbnN0cnVjdG9yKG9iai5jdXJyZW50VGFyZ2V0LCB0aGlzLmdldERlbGVnYXRlT3B0aW9ucygpKVxuICAgICAgJChvYmouY3VycmVudFRhcmdldCkuZGF0YSgnYnMuJyArIHRoaXMudHlwZSwgc2VsZilcbiAgICB9XG5cbiAgICBpZiAob2JqIGluc3RhbmNlb2YgJC5FdmVudCkge1xuICAgICAgc2VsZi5pblN0YXRlW29iai50eXBlID09ICdmb2N1c2luJyA/ICdmb2N1cycgOiAnaG92ZXInXSA9IHRydWVcbiAgICB9XG5cbiAgICBpZiAoc2VsZi50aXAoKS5oYXNDbGFzcygnaW4nKSB8fCBzZWxmLmhvdmVyU3RhdGUgPT0gJ2luJykge1xuICAgICAgc2VsZi5ob3ZlclN0YXRlID0gJ2luJ1xuICAgICAgcmV0dXJuXG4gICAgfVxuXG4gICAgY2xlYXJUaW1lb3V0KHNlbGYudGltZW91dClcblxuICAgIHNlbGYuaG92ZXJTdGF0ZSA9ICdpbidcblxuICAgIGlmICghc2VsZi5vcHRpb25zLmRlbGF5IHx8ICFzZWxmLm9wdGlvbnMuZGVsYXkuc2hvdykgcmV0dXJuIHNlbGYuc2hvdygpXG5cbiAgICBzZWxmLnRpbWVvdXQgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgIGlmIChzZWxmLmhvdmVyU3RhdGUgPT0gJ2luJykgc2VsZi5zaG93KClcbiAgICB9LCBzZWxmLm9wdGlvbnMuZGVsYXkuc2hvdylcbiAgfVxuXG4gIFRvb2x0aXAucHJvdG90eXBlLmlzSW5TdGF0ZVRydWUgPSBmdW5jdGlvbiAoKSB7XG4gICAgZm9yICh2YXIga2V5IGluIHRoaXMuaW5TdGF0ZSkge1xuICAgICAgaWYgKHRoaXMuaW5TdGF0ZVtrZXldKSByZXR1cm4gdHJ1ZVxuICAgIH1cblxuICAgIHJldHVybiBmYWxzZVxuICB9XG5cbiAgVG9vbHRpcC5wcm90b3R5cGUubGVhdmUgPSBmdW5jdGlvbiAob2JqKSB7XG4gICAgdmFyIHNlbGYgPSBvYmogaW5zdGFuY2VvZiB0aGlzLmNvbnN0cnVjdG9yID9cbiAgICAgIG9iaiA6ICQob2JqLmN1cnJlbnRUYXJnZXQpLmRhdGEoJ2JzLicgKyB0aGlzLnR5cGUpXG5cbiAgICBpZiAoIXNlbGYpIHtcbiAgICAgIHNlbGYgPSBuZXcgdGhpcy5jb25zdHJ1Y3RvcihvYmouY3VycmVudFRhcmdldCwgdGhpcy5nZXREZWxlZ2F0ZU9wdGlvbnMoKSlcbiAgICAgICQob2JqLmN1cnJlbnRUYXJnZXQpLmRhdGEoJ2JzLicgKyB0aGlzLnR5cGUsIHNlbGYpXG4gICAgfVxuXG4gICAgaWYgKG9iaiBpbnN0YW5jZW9mICQuRXZlbnQpIHtcbiAgICAgIHNlbGYuaW5TdGF0ZVtvYmoudHlwZSA9PSAnZm9jdXNvdXQnID8gJ2ZvY3VzJyA6ICdob3ZlciddID0gZmFsc2VcbiAgICB9XG5cbiAgICBpZiAoc2VsZi5pc0luU3RhdGVUcnVlKCkpIHJldHVyblxuXG4gICAgY2xlYXJUaW1lb3V0KHNlbGYudGltZW91dClcblxuICAgIHNlbGYuaG92ZXJTdGF0ZSA9ICdvdXQnXG5cbiAgICBpZiAoIXNlbGYub3B0aW9ucy5kZWxheSB8fCAhc2VsZi5vcHRpb25zLmRlbGF5LmhpZGUpIHJldHVybiBzZWxmLmhpZGUoKVxuXG4gICAgc2VsZi50aW1lb3V0ID0gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICBpZiAoc2VsZi5ob3ZlclN0YXRlID09ICdvdXQnKSBzZWxmLmhpZGUoKVxuICAgIH0sIHNlbGYub3B0aW9ucy5kZWxheS5oaWRlKVxuICB9XG5cbiAgVG9vbHRpcC5wcm90b3R5cGUuc2hvdyA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgZSA9ICQuRXZlbnQoJ3Nob3cuYnMuJyArIHRoaXMudHlwZSlcblxuICAgIGlmICh0aGlzLmhhc0NvbnRlbnQoKSAmJiB0aGlzLmVuYWJsZWQpIHtcbiAgICAgIHRoaXMuJGVsZW1lbnQudHJpZ2dlcihlKVxuXG4gICAgICB2YXIgaW5Eb20gPSAkLmNvbnRhaW5zKHRoaXMuJGVsZW1lbnRbMF0ub3duZXJEb2N1bWVudC5kb2N1bWVudEVsZW1lbnQsIHRoaXMuJGVsZW1lbnRbMF0pXG4gICAgICBpZiAoZS5pc0RlZmF1bHRQcmV2ZW50ZWQoKSB8fCAhaW5Eb20pIHJldHVyblxuICAgICAgdmFyIHRoYXQgPSB0aGlzXG5cbiAgICAgIHZhciAkdGlwID0gdGhpcy50aXAoKVxuXG4gICAgICB2YXIgdGlwSWQgPSB0aGlzLmdldFVJRCh0aGlzLnR5cGUpXG5cbiAgICAgIHRoaXMuc2V0Q29udGVudCgpXG4gICAgICAkdGlwLmF0dHIoJ2lkJywgdGlwSWQpXG4gICAgICB0aGlzLiRlbGVtZW50LmF0dHIoJ2FyaWEtZGVzY3JpYmVkYnknLCB0aXBJZClcblxuICAgICAgaWYgKHRoaXMub3B0aW9ucy5hbmltYXRpb24pICR0aXAuYWRkQ2xhc3MoJ2ZhZGUnKVxuXG4gICAgICB2YXIgcGxhY2VtZW50ID0gdHlwZW9mIHRoaXMub3B0aW9ucy5wbGFjZW1lbnQgPT0gJ2Z1bmN0aW9uJyA/XG4gICAgICAgIHRoaXMub3B0aW9ucy5wbGFjZW1lbnQuY2FsbCh0aGlzLCAkdGlwWzBdLCB0aGlzLiRlbGVtZW50WzBdKSA6XG4gICAgICAgIHRoaXMub3B0aW9ucy5wbGFjZW1lbnRcblxuICAgICAgdmFyIGF1dG9Ub2tlbiA9IC9cXHM/YXV0bz9cXHM/L2lcbiAgICAgIHZhciBhdXRvUGxhY2UgPSBhdXRvVG9rZW4udGVzdChwbGFjZW1lbnQpXG4gICAgICBpZiAoYXV0b1BsYWNlKSBwbGFjZW1lbnQgPSBwbGFjZW1lbnQucmVwbGFjZShhdXRvVG9rZW4sICcnKSB8fCAndG9wJ1xuXG4gICAgICAkdGlwXG4gICAgICAgIC5kZXRhY2goKVxuICAgICAgICAuY3NzKHsgdG9wOiAwLCBsZWZ0OiAwLCBkaXNwbGF5OiAnYmxvY2snIH0pXG4gICAgICAgIC5hZGRDbGFzcyhwbGFjZW1lbnQpXG4gICAgICAgIC5kYXRhKCdicy4nICsgdGhpcy50eXBlLCB0aGlzKVxuXG4gICAgICB0aGlzLm9wdGlvbnMuY29udGFpbmVyID8gJHRpcC5hcHBlbmRUbyh0aGlzLm9wdGlvbnMuY29udGFpbmVyKSA6ICR0aXAuaW5zZXJ0QWZ0ZXIodGhpcy4kZWxlbWVudClcbiAgICAgIHRoaXMuJGVsZW1lbnQudHJpZ2dlcignaW5zZXJ0ZWQuYnMuJyArIHRoaXMudHlwZSlcblxuICAgICAgdmFyIHBvcyAgICAgICAgICA9IHRoaXMuZ2V0UG9zaXRpb24oKVxuICAgICAgdmFyIGFjdHVhbFdpZHRoICA9ICR0aXBbMF0ub2Zmc2V0V2lkdGhcbiAgICAgIHZhciBhY3R1YWxIZWlnaHQgPSAkdGlwWzBdLm9mZnNldEhlaWdodFxuXG4gICAgICBpZiAoYXV0b1BsYWNlKSB7XG4gICAgICAgIHZhciBvcmdQbGFjZW1lbnQgPSBwbGFjZW1lbnRcbiAgICAgICAgdmFyIHZpZXdwb3J0RGltID0gdGhpcy5nZXRQb3NpdGlvbih0aGlzLiR2aWV3cG9ydClcblxuICAgICAgICBwbGFjZW1lbnQgPSBwbGFjZW1lbnQgPT0gJ2JvdHRvbScgJiYgcG9zLmJvdHRvbSArIGFjdHVhbEhlaWdodCA+IHZpZXdwb3J0RGltLmJvdHRvbSA/ICd0b3AnICAgIDpcbiAgICAgICAgICAgICAgICAgICAgcGxhY2VtZW50ID09ICd0b3AnICAgICYmIHBvcy50b3AgICAgLSBhY3R1YWxIZWlnaHQgPCB2aWV3cG9ydERpbS50b3AgICAgPyAnYm90dG9tJyA6XG4gICAgICAgICAgICAgICAgICAgIHBsYWNlbWVudCA9PSAncmlnaHQnICAmJiBwb3MucmlnaHQgICsgYWN0dWFsV2lkdGggID4gdmlld3BvcnREaW0ud2lkdGggID8gJ2xlZnQnICAgOlxuICAgICAgICAgICAgICAgICAgICBwbGFjZW1lbnQgPT0gJ2xlZnQnICAgJiYgcG9zLmxlZnQgICAtIGFjdHVhbFdpZHRoICA8IHZpZXdwb3J0RGltLmxlZnQgICA/ICdyaWdodCcgIDpcbiAgICAgICAgICAgICAgICAgICAgcGxhY2VtZW50XG5cbiAgICAgICAgJHRpcFxuICAgICAgICAgIC5yZW1vdmVDbGFzcyhvcmdQbGFjZW1lbnQpXG4gICAgICAgICAgLmFkZENsYXNzKHBsYWNlbWVudClcbiAgICAgIH1cblxuICAgICAgdmFyIGNhbGN1bGF0ZWRPZmZzZXQgPSB0aGlzLmdldENhbGN1bGF0ZWRPZmZzZXQocGxhY2VtZW50LCBwb3MsIGFjdHVhbFdpZHRoLCBhY3R1YWxIZWlnaHQpXG5cbiAgICAgIHRoaXMuYXBwbHlQbGFjZW1lbnQoY2FsY3VsYXRlZE9mZnNldCwgcGxhY2VtZW50KVxuXG4gICAgICB2YXIgY29tcGxldGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBwcmV2SG92ZXJTdGF0ZSA9IHRoYXQuaG92ZXJTdGF0ZVxuICAgICAgICB0aGF0LiRlbGVtZW50LnRyaWdnZXIoJ3Nob3duLmJzLicgKyB0aGF0LnR5cGUpXG4gICAgICAgIHRoYXQuaG92ZXJTdGF0ZSA9IG51bGxcblxuICAgICAgICBpZiAocHJldkhvdmVyU3RhdGUgPT0gJ291dCcpIHRoYXQubGVhdmUodGhhdClcbiAgICAgIH1cblxuICAgICAgJC5zdXBwb3J0LnRyYW5zaXRpb24gJiYgdGhpcy4kdGlwLmhhc0NsYXNzKCdmYWRlJykgP1xuICAgICAgICAkdGlwXG4gICAgICAgICAgLm9uZSgnYnNUcmFuc2l0aW9uRW5kJywgY29tcGxldGUpXG4gICAgICAgICAgLmVtdWxhdGVUcmFuc2l0aW9uRW5kKFRvb2x0aXAuVFJBTlNJVElPTl9EVVJBVElPTikgOlxuICAgICAgICBjb21wbGV0ZSgpXG4gICAgfVxuICB9XG5cbiAgVG9vbHRpcC5wcm90b3R5cGUuYXBwbHlQbGFjZW1lbnQgPSBmdW5jdGlvbiAob2Zmc2V0LCBwbGFjZW1lbnQpIHtcbiAgICB2YXIgJHRpcCAgID0gdGhpcy50aXAoKVxuICAgIHZhciB3aWR0aCAgPSAkdGlwWzBdLm9mZnNldFdpZHRoXG4gICAgdmFyIGhlaWdodCA9ICR0aXBbMF0ub2Zmc2V0SGVpZ2h0XG5cbiAgICAvLyBtYW51YWxseSByZWFkIG1hcmdpbnMgYmVjYXVzZSBnZXRCb3VuZGluZ0NsaWVudFJlY3QgaW5jbHVkZXMgZGlmZmVyZW5jZVxuICAgIHZhciBtYXJnaW5Ub3AgPSBwYXJzZUludCgkdGlwLmNzcygnbWFyZ2luLXRvcCcpLCAxMClcbiAgICB2YXIgbWFyZ2luTGVmdCA9IHBhcnNlSW50KCR0aXAuY3NzKCdtYXJnaW4tbGVmdCcpLCAxMClcblxuICAgIC8vIHdlIG11c3QgY2hlY2sgZm9yIE5hTiBmb3IgaWUgOC85XG4gICAgaWYgKGlzTmFOKG1hcmdpblRvcCkpICBtYXJnaW5Ub3AgID0gMFxuICAgIGlmIChpc05hTihtYXJnaW5MZWZ0KSkgbWFyZ2luTGVmdCA9IDBcblxuICAgIG9mZnNldC50b3AgICs9IG1hcmdpblRvcFxuICAgIG9mZnNldC5sZWZ0ICs9IG1hcmdpbkxlZnRcblxuICAgIC8vICQuZm4ub2Zmc2V0IGRvZXNuJ3Qgcm91bmQgcGl4ZWwgdmFsdWVzXG4gICAgLy8gc28gd2UgdXNlIHNldE9mZnNldCBkaXJlY3RseSB3aXRoIG91ciBvd24gZnVuY3Rpb24gQi0wXG4gICAgJC5vZmZzZXQuc2V0T2Zmc2V0KCR0aXBbMF0sICQuZXh0ZW5kKHtcbiAgICAgIHVzaW5nOiBmdW5jdGlvbiAocHJvcHMpIHtcbiAgICAgICAgJHRpcC5jc3Moe1xuICAgICAgICAgIHRvcDogTWF0aC5yb3VuZChwcm9wcy50b3ApLFxuICAgICAgICAgIGxlZnQ6IE1hdGgucm91bmQocHJvcHMubGVmdClcbiAgICAgICAgfSlcbiAgICAgIH1cbiAgICB9LCBvZmZzZXQpLCAwKVxuXG4gICAgJHRpcC5hZGRDbGFzcygnaW4nKVxuXG4gICAgLy8gY2hlY2sgdG8gc2VlIGlmIHBsYWNpbmcgdGlwIGluIG5ldyBvZmZzZXQgY2F1c2VkIHRoZSB0aXAgdG8gcmVzaXplIGl0c2VsZlxuICAgIHZhciBhY3R1YWxXaWR0aCAgPSAkdGlwWzBdLm9mZnNldFdpZHRoXG4gICAgdmFyIGFjdHVhbEhlaWdodCA9ICR0aXBbMF0ub2Zmc2V0SGVpZ2h0XG5cbiAgICBpZiAocGxhY2VtZW50ID09ICd0b3AnICYmIGFjdHVhbEhlaWdodCAhPSBoZWlnaHQpIHtcbiAgICAgIG9mZnNldC50b3AgPSBvZmZzZXQudG9wICsgaGVpZ2h0IC0gYWN0dWFsSGVpZ2h0XG4gICAgfVxuXG4gICAgdmFyIGRlbHRhID0gdGhpcy5nZXRWaWV3cG9ydEFkanVzdGVkRGVsdGEocGxhY2VtZW50LCBvZmZzZXQsIGFjdHVhbFdpZHRoLCBhY3R1YWxIZWlnaHQpXG5cbiAgICBpZiAoZGVsdGEubGVmdCkgb2Zmc2V0LmxlZnQgKz0gZGVsdGEubGVmdFxuICAgIGVsc2Ugb2Zmc2V0LnRvcCArPSBkZWx0YS50b3BcblxuICAgIHZhciBpc1ZlcnRpY2FsICAgICAgICAgID0gL3RvcHxib3R0b20vLnRlc3QocGxhY2VtZW50KVxuICAgIHZhciBhcnJvd0RlbHRhICAgICAgICAgID0gaXNWZXJ0aWNhbCA/IGRlbHRhLmxlZnQgKiAyIC0gd2lkdGggKyBhY3R1YWxXaWR0aCA6IGRlbHRhLnRvcCAqIDIgLSBoZWlnaHQgKyBhY3R1YWxIZWlnaHRcbiAgICB2YXIgYXJyb3dPZmZzZXRQb3NpdGlvbiA9IGlzVmVydGljYWwgPyAnb2Zmc2V0V2lkdGgnIDogJ29mZnNldEhlaWdodCdcblxuICAgICR0aXAub2Zmc2V0KG9mZnNldClcbiAgICB0aGlzLnJlcGxhY2VBcnJvdyhhcnJvd0RlbHRhLCAkdGlwWzBdW2Fycm93T2Zmc2V0UG9zaXRpb25dLCBpc1ZlcnRpY2FsKVxuICB9XG5cbiAgVG9vbHRpcC5wcm90b3R5cGUucmVwbGFjZUFycm93ID0gZnVuY3Rpb24gKGRlbHRhLCBkaW1lbnNpb24sIGlzVmVydGljYWwpIHtcbiAgICB0aGlzLmFycm93KClcbiAgICAgIC5jc3MoaXNWZXJ0aWNhbCA/ICdsZWZ0JyA6ICd0b3AnLCA1MCAqICgxIC0gZGVsdGEgLyBkaW1lbnNpb24pICsgJyUnKVxuICAgICAgLmNzcyhpc1ZlcnRpY2FsID8gJ3RvcCcgOiAnbGVmdCcsICcnKVxuICB9XG5cbiAgVG9vbHRpcC5wcm90b3R5cGUuc2V0Q29udGVudCA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgJHRpcCAgPSB0aGlzLnRpcCgpXG4gICAgdmFyIHRpdGxlID0gdGhpcy5nZXRUaXRsZSgpXG5cbiAgICAkdGlwLmZpbmQoJy50b29sdGlwLWlubmVyJylbdGhpcy5vcHRpb25zLmh0bWwgPyAnaHRtbCcgOiAndGV4dCddKHRpdGxlKVxuICAgICR0aXAucmVtb3ZlQ2xhc3MoJ2ZhZGUgaW4gdG9wIGJvdHRvbSBsZWZ0IHJpZ2h0JylcbiAgfVxuXG4gIFRvb2x0aXAucHJvdG90eXBlLmhpZGUgPSBmdW5jdGlvbiAoY2FsbGJhY2spIHtcbiAgICB2YXIgdGhhdCA9IHRoaXNcbiAgICB2YXIgJHRpcCA9ICQodGhpcy4kdGlwKVxuICAgIHZhciBlICAgID0gJC5FdmVudCgnaGlkZS5icy4nICsgdGhpcy50eXBlKVxuXG4gICAgZnVuY3Rpb24gY29tcGxldGUoKSB7XG4gICAgICBpZiAodGhhdC5ob3ZlclN0YXRlICE9ICdpbicpICR0aXAuZGV0YWNoKClcbiAgICAgIGlmICh0aGF0LiRlbGVtZW50KSB7IC8vIFRPRE86IENoZWNrIHdoZXRoZXIgZ3VhcmRpbmcgdGhpcyBjb2RlIHdpdGggdGhpcyBgaWZgIGlzIHJlYWxseSBuZWNlc3NhcnkuXG4gICAgICAgIHRoYXQuJGVsZW1lbnRcbiAgICAgICAgICAucmVtb3ZlQXR0cignYXJpYS1kZXNjcmliZWRieScpXG4gICAgICAgICAgLnRyaWdnZXIoJ2hpZGRlbi5icy4nICsgdGhhdC50eXBlKVxuICAgICAgfVxuICAgICAgY2FsbGJhY2sgJiYgY2FsbGJhY2soKVxuICAgIH1cblxuICAgIHRoaXMuJGVsZW1lbnQudHJpZ2dlcihlKVxuXG4gICAgaWYgKGUuaXNEZWZhdWx0UHJldmVudGVkKCkpIHJldHVyblxuXG4gICAgJHRpcC5yZW1vdmVDbGFzcygnaW4nKVxuXG4gICAgJC5zdXBwb3J0LnRyYW5zaXRpb24gJiYgJHRpcC5oYXNDbGFzcygnZmFkZScpID9cbiAgICAgICR0aXBcbiAgICAgICAgLm9uZSgnYnNUcmFuc2l0aW9uRW5kJywgY29tcGxldGUpXG4gICAgICAgIC5lbXVsYXRlVHJhbnNpdGlvbkVuZChUb29sdGlwLlRSQU5TSVRJT05fRFVSQVRJT04pIDpcbiAgICAgIGNvbXBsZXRlKClcblxuICAgIHRoaXMuaG92ZXJTdGF0ZSA9IG51bGxcblxuICAgIHJldHVybiB0aGlzXG4gIH1cblxuICBUb29sdGlwLnByb3RvdHlwZS5maXhUaXRsZSA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgJGUgPSB0aGlzLiRlbGVtZW50XG4gICAgaWYgKCRlLmF0dHIoJ3RpdGxlJykgfHwgdHlwZW9mICRlLmF0dHIoJ2RhdGEtb3JpZ2luYWwtdGl0bGUnKSAhPSAnc3RyaW5nJykge1xuICAgICAgJGUuYXR0cignZGF0YS1vcmlnaW5hbC10aXRsZScsICRlLmF0dHIoJ3RpdGxlJykgfHwgJycpLmF0dHIoJ3RpdGxlJywgJycpXG4gICAgfVxuICB9XG5cbiAgVG9vbHRpcC5wcm90b3R5cGUuaGFzQ29udGVudCA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gdGhpcy5nZXRUaXRsZSgpXG4gIH1cblxuICBUb29sdGlwLnByb3RvdHlwZS5nZXRQb3NpdGlvbiA9IGZ1bmN0aW9uICgkZWxlbWVudCkge1xuICAgICRlbGVtZW50ICAgPSAkZWxlbWVudCB8fCB0aGlzLiRlbGVtZW50XG5cbiAgICB2YXIgZWwgICAgID0gJGVsZW1lbnRbMF1cbiAgICB2YXIgaXNCb2R5ID0gZWwudGFnTmFtZSA9PSAnQk9EWSdcblxuICAgIHZhciBlbFJlY3QgICAgPSBlbC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKVxuICAgIGlmIChlbFJlY3Qud2lkdGggPT0gbnVsbCkge1xuICAgICAgLy8gd2lkdGggYW5kIGhlaWdodCBhcmUgbWlzc2luZyBpbiBJRTgsIHNvIGNvbXB1dGUgdGhlbSBtYW51YWxseTsgc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS90d2JzL2Jvb3RzdHJhcC9pc3N1ZXMvMTQwOTNcbiAgICAgIGVsUmVjdCA9ICQuZXh0ZW5kKHt9LCBlbFJlY3QsIHsgd2lkdGg6IGVsUmVjdC5yaWdodCAtIGVsUmVjdC5sZWZ0LCBoZWlnaHQ6IGVsUmVjdC5ib3R0b20gLSBlbFJlY3QudG9wIH0pXG4gICAgfVxuICAgIHZhciBpc1N2ZyA9IHdpbmRvdy5TVkdFbGVtZW50ICYmIGVsIGluc3RhbmNlb2Ygd2luZG93LlNWR0VsZW1lbnRcbiAgICAvLyBBdm9pZCB1c2luZyAkLm9mZnNldCgpIG9uIFNWR3Mgc2luY2UgaXQgZ2l2ZXMgaW5jb3JyZWN0IHJlc3VsdHMgaW4galF1ZXJ5IDMuXG4gICAgLy8gU2VlIGh0dHBzOi8vZ2l0aHViLmNvbS90d2JzL2Jvb3RzdHJhcC9pc3N1ZXMvMjAyODBcbiAgICB2YXIgZWxPZmZzZXQgID0gaXNCb2R5ID8geyB0b3A6IDAsIGxlZnQ6IDAgfSA6IChpc1N2ZyA/IG51bGwgOiAkZWxlbWVudC5vZmZzZXQoKSlcbiAgICB2YXIgc2Nyb2xsICAgID0geyBzY3JvbGw6IGlzQm9keSA/IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zY3JvbGxUb3AgfHwgZG9jdW1lbnQuYm9keS5zY3JvbGxUb3AgOiAkZWxlbWVudC5zY3JvbGxUb3AoKSB9XG4gICAgdmFyIG91dGVyRGltcyA9IGlzQm9keSA/IHsgd2lkdGg6ICQod2luZG93KS53aWR0aCgpLCBoZWlnaHQ6ICQod2luZG93KS5oZWlnaHQoKSB9IDogbnVsbFxuXG4gICAgcmV0dXJuICQuZXh0ZW5kKHt9LCBlbFJlY3QsIHNjcm9sbCwgb3V0ZXJEaW1zLCBlbE9mZnNldClcbiAgfVxuXG4gIFRvb2x0aXAucHJvdG90eXBlLmdldENhbGN1bGF0ZWRPZmZzZXQgPSBmdW5jdGlvbiAocGxhY2VtZW50LCBwb3MsIGFjdHVhbFdpZHRoLCBhY3R1YWxIZWlnaHQpIHtcbiAgICByZXR1cm4gcGxhY2VtZW50ID09ICdib3R0b20nID8geyB0b3A6IHBvcy50b3AgKyBwb3MuaGVpZ2h0LCAgIGxlZnQ6IHBvcy5sZWZ0ICsgcG9zLndpZHRoIC8gMiAtIGFjdHVhbFdpZHRoIC8gMiB9IDpcbiAgICAgICAgICAgcGxhY2VtZW50ID09ICd0b3AnICAgID8geyB0b3A6IHBvcy50b3AgLSBhY3R1YWxIZWlnaHQsIGxlZnQ6IHBvcy5sZWZ0ICsgcG9zLndpZHRoIC8gMiAtIGFjdHVhbFdpZHRoIC8gMiB9IDpcbiAgICAgICAgICAgcGxhY2VtZW50ID09ICdsZWZ0JyAgID8geyB0b3A6IHBvcy50b3AgKyBwb3MuaGVpZ2h0IC8gMiAtIGFjdHVhbEhlaWdodCAvIDIsIGxlZnQ6IHBvcy5sZWZ0IC0gYWN0dWFsV2lkdGggfSA6XG4gICAgICAgIC8qIHBsYWNlbWVudCA9PSAncmlnaHQnICovIHsgdG9wOiBwb3MudG9wICsgcG9zLmhlaWdodCAvIDIgLSBhY3R1YWxIZWlnaHQgLyAyLCBsZWZ0OiBwb3MubGVmdCArIHBvcy53aWR0aCB9XG5cbiAgfVxuXG4gIFRvb2x0aXAucHJvdG90eXBlLmdldFZpZXdwb3J0QWRqdXN0ZWREZWx0YSA9IGZ1bmN0aW9uIChwbGFjZW1lbnQsIHBvcywgYWN0dWFsV2lkdGgsIGFjdHVhbEhlaWdodCkge1xuICAgIHZhciBkZWx0YSA9IHsgdG9wOiAwLCBsZWZ0OiAwIH1cbiAgICBpZiAoIXRoaXMuJHZpZXdwb3J0KSByZXR1cm4gZGVsdGFcblxuICAgIHZhciB2aWV3cG9ydFBhZGRpbmcgPSB0aGlzLm9wdGlvbnMudmlld3BvcnQgJiYgdGhpcy5vcHRpb25zLnZpZXdwb3J0LnBhZGRpbmcgfHwgMFxuICAgIHZhciB2aWV3cG9ydERpbWVuc2lvbnMgPSB0aGlzLmdldFBvc2l0aW9uKHRoaXMuJHZpZXdwb3J0KVxuXG4gICAgaWYgKC9yaWdodHxsZWZ0Ly50ZXN0KHBsYWNlbWVudCkpIHtcbiAgICAgIHZhciB0b3BFZGdlT2Zmc2V0ICAgID0gcG9zLnRvcCAtIHZpZXdwb3J0UGFkZGluZyAtIHZpZXdwb3J0RGltZW5zaW9ucy5zY3JvbGxcbiAgICAgIHZhciBib3R0b21FZGdlT2Zmc2V0ID0gcG9zLnRvcCArIHZpZXdwb3J0UGFkZGluZyAtIHZpZXdwb3J0RGltZW5zaW9ucy5zY3JvbGwgKyBhY3R1YWxIZWlnaHRcbiAgICAgIGlmICh0b3BFZGdlT2Zmc2V0IDwgdmlld3BvcnREaW1lbnNpb25zLnRvcCkgeyAvLyB0b3Agb3ZlcmZsb3dcbiAgICAgICAgZGVsdGEudG9wID0gdmlld3BvcnREaW1lbnNpb25zLnRvcCAtIHRvcEVkZ2VPZmZzZXRcbiAgICAgIH0gZWxzZSBpZiAoYm90dG9tRWRnZU9mZnNldCA+IHZpZXdwb3J0RGltZW5zaW9ucy50b3AgKyB2aWV3cG9ydERpbWVuc2lvbnMuaGVpZ2h0KSB7IC8vIGJvdHRvbSBvdmVyZmxvd1xuICAgICAgICBkZWx0YS50b3AgPSB2aWV3cG9ydERpbWVuc2lvbnMudG9wICsgdmlld3BvcnREaW1lbnNpb25zLmhlaWdodCAtIGJvdHRvbUVkZ2VPZmZzZXRcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgdmFyIGxlZnRFZGdlT2Zmc2V0ICA9IHBvcy5sZWZ0IC0gdmlld3BvcnRQYWRkaW5nXG4gICAgICB2YXIgcmlnaHRFZGdlT2Zmc2V0ID0gcG9zLmxlZnQgKyB2aWV3cG9ydFBhZGRpbmcgKyBhY3R1YWxXaWR0aFxuICAgICAgaWYgKGxlZnRFZGdlT2Zmc2V0IDwgdmlld3BvcnREaW1lbnNpb25zLmxlZnQpIHsgLy8gbGVmdCBvdmVyZmxvd1xuICAgICAgICBkZWx0YS5sZWZ0ID0gdmlld3BvcnREaW1lbnNpb25zLmxlZnQgLSBsZWZ0RWRnZU9mZnNldFxuICAgICAgfSBlbHNlIGlmIChyaWdodEVkZ2VPZmZzZXQgPiB2aWV3cG9ydERpbWVuc2lvbnMucmlnaHQpIHsgLy8gcmlnaHQgb3ZlcmZsb3dcbiAgICAgICAgZGVsdGEubGVmdCA9IHZpZXdwb3J0RGltZW5zaW9ucy5sZWZ0ICsgdmlld3BvcnREaW1lbnNpb25zLndpZHRoIC0gcmlnaHRFZGdlT2Zmc2V0XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIGRlbHRhXG4gIH1cblxuICBUb29sdGlwLnByb3RvdHlwZS5nZXRUaXRsZSA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgdGl0bGVcbiAgICB2YXIgJGUgPSB0aGlzLiRlbGVtZW50XG4gICAgdmFyIG8gID0gdGhpcy5vcHRpb25zXG5cbiAgICB0aXRsZSA9ICRlLmF0dHIoJ2RhdGEtb3JpZ2luYWwtdGl0bGUnKVxuICAgICAgfHwgKHR5cGVvZiBvLnRpdGxlID09ICdmdW5jdGlvbicgPyBvLnRpdGxlLmNhbGwoJGVbMF0pIDogIG8udGl0bGUpXG5cbiAgICByZXR1cm4gdGl0bGVcbiAgfVxuXG4gIFRvb2x0aXAucHJvdG90eXBlLmdldFVJRCA9IGZ1bmN0aW9uIChwcmVmaXgpIHtcbiAgICBkbyBwcmVmaXggKz0gfn4oTWF0aC5yYW5kb20oKSAqIDEwMDAwMDApXG4gICAgd2hpbGUgKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHByZWZpeCkpXG4gICAgcmV0dXJuIHByZWZpeFxuICB9XG5cbiAgVG9vbHRpcC5wcm90b3R5cGUudGlwID0gZnVuY3Rpb24gKCkge1xuICAgIGlmICghdGhpcy4kdGlwKSB7XG4gICAgICB0aGlzLiR0aXAgPSAkKHRoaXMub3B0aW9ucy50ZW1wbGF0ZSlcbiAgICAgIGlmICh0aGlzLiR0aXAubGVuZ3RoICE9IDEpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKHRoaXMudHlwZSArICcgYHRlbXBsYXRlYCBvcHRpb24gbXVzdCBjb25zaXN0IG9mIGV4YWN0bHkgMSB0b3AtbGV2ZWwgZWxlbWVudCEnKVxuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gdGhpcy4kdGlwXG4gIH1cblxuICBUb29sdGlwLnByb3RvdHlwZS5hcnJvdyA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gKHRoaXMuJGFycm93ID0gdGhpcy4kYXJyb3cgfHwgdGhpcy50aXAoKS5maW5kKCcudG9vbHRpcC1hcnJvdycpKVxuICB9XG5cbiAgVG9vbHRpcC5wcm90b3R5cGUuZW5hYmxlID0gZnVuY3Rpb24gKCkge1xuICAgIHRoaXMuZW5hYmxlZCA9IHRydWVcbiAgfVxuXG4gIFRvb2x0aXAucHJvdG90eXBlLmRpc2FibGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgdGhpcy5lbmFibGVkID0gZmFsc2VcbiAgfVxuXG4gIFRvb2x0aXAucHJvdG90eXBlLnRvZ2dsZUVuYWJsZWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgdGhpcy5lbmFibGVkID0gIXRoaXMuZW5hYmxlZFxuICB9XG5cbiAgVG9vbHRpcC5wcm90b3R5cGUudG9nZ2xlID0gZnVuY3Rpb24gKGUpIHtcbiAgICB2YXIgc2VsZiA9IHRoaXNcbiAgICBpZiAoZSkge1xuICAgICAgc2VsZiA9ICQoZS5jdXJyZW50VGFyZ2V0KS5kYXRhKCdicy4nICsgdGhpcy50eXBlKVxuICAgICAgaWYgKCFzZWxmKSB7XG4gICAgICAgIHNlbGYgPSBuZXcgdGhpcy5jb25zdHJ1Y3RvcihlLmN1cnJlbnRUYXJnZXQsIHRoaXMuZ2V0RGVsZWdhdGVPcHRpb25zKCkpXG4gICAgICAgICQoZS5jdXJyZW50VGFyZ2V0KS5kYXRhKCdicy4nICsgdGhpcy50eXBlLCBzZWxmKVxuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChlKSB7XG4gICAgICBzZWxmLmluU3RhdGUuY2xpY2sgPSAhc2VsZi5pblN0YXRlLmNsaWNrXG4gICAgICBpZiAoc2VsZi5pc0luU3RhdGVUcnVlKCkpIHNlbGYuZW50ZXIoc2VsZilcbiAgICAgIGVsc2Ugc2VsZi5sZWF2ZShzZWxmKVxuICAgIH0gZWxzZSB7XG4gICAgICBzZWxmLnRpcCgpLmhhc0NsYXNzKCdpbicpID8gc2VsZi5sZWF2ZShzZWxmKSA6IHNlbGYuZW50ZXIoc2VsZilcbiAgICB9XG4gIH1cblxuICBUb29sdGlwLnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciB0aGF0ID0gdGhpc1xuICAgIGNsZWFyVGltZW91dCh0aGlzLnRpbWVvdXQpXG4gICAgdGhpcy5oaWRlKGZ1bmN0aW9uICgpIHtcbiAgICAgIHRoYXQuJGVsZW1lbnQub2ZmKCcuJyArIHRoYXQudHlwZSkucmVtb3ZlRGF0YSgnYnMuJyArIHRoYXQudHlwZSlcbiAgICAgIGlmICh0aGF0LiR0aXApIHtcbiAgICAgICAgdGhhdC4kdGlwLmRldGFjaCgpXG4gICAgICB9XG4gICAgICB0aGF0LiR0aXAgPSBudWxsXG4gICAgICB0aGF0LiRhcnJvdyA9IG51bGxcbiAgICAgIHRoYXQuJHZpZXdwb3J0ID0gbnVsbFxuICAgICAgdGhhdC4kZWxlbWVudCA9IG51bGxcbiAgICB9KVxuICB9XG5cblxuICAvLyBUT09MVElQIFBMVUdJTiBERUZJTklUSU9OXG4gIC8vID09PT09PT09PT09PT09PT09PT09PT09PT1cblxuICBmdW5jdGlvbiBQbHVnaW4ob3B0aW9uKSB7XG4gICAgcmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgJHRoaXMgICA9ICQodGhpcylcbiAgICAgIHZhciBkYXRhICAgID0gJHRoaXMuZGF0YSgnYnMudG9vbHRpcCcpXG4gICAgICB2YXIgb3B0aW9ucyA9IHR5cGVvZiBvcHRpb24gPT0gJ29iamVjdCcgJiYgb3B0aW9uXG5cbiAgICAgIGlmICghZGF0YSAmJiAvZGVzdHJveXxoaWRlLy50ZXN0KG9wdGlvbikpIHJldHVyblxuICAgICAgaWYgKCFkYXRhKSAkdGhpcy5kYXRhKCdicy50b29sdGlwJywgKGRhdGEgPSBuZXcgVG9vbHRpcCh0aGlzLCBvcHRpb25zKSkpXG4gICAgICBpZiAodHlwZW9mIG9wdGlvbiA9PSAnc3RyaW5nJykgZGF0YVtvcHRpb25dKClcbiAgICB9KVxuICB9XG5cbiAgdmFyIG9sZCA9ICQuZm4udG9vbHRpcFxuXG4gICQuZm4udG9vbHRpcCAgICAgICAgICAgICA9IFBsdWdpblxuICAkLmZuLnRvb2x0aXAuQ29uc3RydWN0b3IgPSBUb29sdGlwXG5cblxuICAvLyBUT09MVElQIE5PIENPTkZMSUNUXG4gIC8vID09PT09PT09PT09PT09PT09PT1cblxuICAkLmZuLnRvb2x0aXAubm9Db25mbGljdCA9IGZ1bmN0aW9uICgpIHtcbiAgICAkLmZuLnRvb2x0aXAgPSBvbGRcbiAgICByZXR1cm4gdGhpc1xuICB9XG5cbn0oalF1ZXJ5KTtcbiIsIi8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICogQm9vdHN0cmFwOiB0cmFuc2l0aW9uLmpzIHYzLjMuN1xuICogaHR0cDovL2dldGJvb3RzdHJhcC5jb20vamF2YXNjcmlwdC8jdHJhbnNpdGlvbnNcbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICogQ29weXJpZ2h0IDIwMTEtMjAxNiBUd2l0dGVyLCBJbmMuXG4gKiBMaWNlbnNlZCB1bmRlciBNSVQgKGh0dHBzOi8vZ2l0aHViLmNvbS90d2JzL2Jvb3RzdHJhcC9ibG9iL21hc3Rlci9MSUNFTlNFKVxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09ICovXG5cblxuK2Z1bmN0aW9uICgkKSB7XG4gICd1c2Ugc3RyaWN0JztcblxuICAvLyBDU1MgVFJBTlNJVElPTiBTVVBQT1JUIChTaG91dG91dDogaHR0cDovL3d3dy5tb2Rlcm5penIuY29tLylcbiAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbiAgZnVuY3Rpb24gdHJhbnNpdGlvbkVuZCgpIHtcbiAgICB2YXIgZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdib290c3RyYXAnKVxuXG4gICAgdmFyIHRyYW5zRW5kRXZlbnROYW1lcyA9IHtcbiAgICAgIFdlYmtpdFRyYW5zaXRpb24gOiAnd2Via2l0VHJhbnNpdGlvbkVuZCcsXG4gICAgICBNb3pUcmFuc2l0aW9uICAgIDogJ3RyYW5zaXRpb25lbmQnLFxuICAgICAgT1RyYW5zaXRpb24gICAgICA6ICdvVHJhbnNpdGlvbkVuZCBvdHJhbnNpdGlvbmVuZCcsXG4gICAgICB0cmFuc2l0aW9uICAgICAgIDogJ3RyYW5zaXRpb25lbmQnXG4gICAgfVxuXG4gICAgZm9yICh2YXIgbmFtZSBpbiB0cmFuc0VuZEV2ZW50TmFtZXMpIHtcbiAgICAgIGlmIChlbC5zdHlsZVtuYW1lXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHJldHVybiB7IGVuZDogdHJhbnNFbmRFdmVudE5hbWVzW25hbWVdIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gZmFsc2UgLy8gZXhwbGljaXQgZm9yIGllOCAoICAuXy4pXG4gIH1cblxuICAvLyBodHRwOi8vYmxvZy5hbGV4bWFjY2F3LmNvbS9jc3MtdHJhbnNpdGlvbnNcbiAgJC5mbi5lbXVsYXRlVHJhbnNpdGlvbkVuZCA9IGZ1bmN0aW9uIChkdXJhdGlvbikge1xuICAgIHZhciBjYWxsZWQgPSBmYWxzZVxuICAgIHZhciAkZWwgPSB0aGlzXG4gICAgJCh0aGlzKS5vbmUoJ2JzVHJhbnNpdGlvbkVuZCcsIGZ1bmN0aW9uICgpIHsgY2FsbGVkID0gdHJ1ZSB9KVxuICAgIHZhciBjYWxsYmFjayA9IGZ1bmN0aW9uICgpIHsgaWYgKCFjYWxsZWQpICQoJGVsKS50cmlnZ2VyKCQuc3VwcG9ydC50cmFuc2l0aW9uLmVuZCkgfVxuICAgIHNldFRpbWVvdXQoY2FsbGJhY2ssIGR1cmF0aW9uKVxuICAgIHJldHVybiB0aGlzXG4gIH1cblxuICAkKGZ1bmN0aW9uICgpIHtcbiAgICAkLnN1cHBvcnQudHJhbnNpdGlvbiA9IHRyYW5zaXRpb25FbmQoKVxuXG4gICAgaWYgKCEkLnN1cHBvcnQudHJhbnNpdGlvbikgcmV0dXJuXG5cbiAgICAkLmV2ZW50LnNwZWNpYWwuYnNUcmFuc2l0aW9uRW5kID0ge1xuICAgICAgYmluZFR5cGU6ICQuc3VwcG9ydC50cmFuc2l0aW9uLmVuZCxcbiAgICAgIGRlbGVnYXRlVHlwZTogJC5zdXBwb3J0LnRyYW5zaXRpb24uZW5kLFxuICAgICAgaGFuZGxlOiBmdW5jdGlvbiAoZSkge1xuICAgICAgICBpZiAoJChlLnRhcmdldCkuaXModGhpcykpIHJldHVybiBlLmhhbmRsZU9iai5oYW5kbGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cylcbiAgICAgIH1cbiAgICB9XG4gIH0pXG5cbn0oalF1ZXJ5KTtcbiIsIi8qKlxyXG4gKiBDaGVja2xpc3QtbW9kZWxcclxuICogQW5ndWxhckpTIGRpcmVjdGl2ZSBmb3IgbGlzdCBvZiBjaGVja2JveGVzXHJcbiAqIGh0dHBzOi8vZ2l0aHViLmNvbS92aXRhbGV0cy9jaGVja2xpc3QtbW9kZWxcclxuICogTGljZW5zZTogTUlUIGh0dHA6Ly9vcGVuc291cmNlLm9yZy9saWNlbnNlcy9NSVRcclxuICovXHJcblxyXG4gLyogY29tbW9uanMgcGFja2FnZSBtYW5hZ2VyIHN1cHBvcnQgKGVnIGNvbXBvbmVudGpzKSAqL1xyXG4gaWYgKHR5cGVvZiBtb2R1bGUgIT09IFwidW5kZWZpbmVkXCIgJiYgdHlwZW9mIGV4cG9ydHMgIT09IFwidW5kZWZpbmVkXCIgJiYgbW9kdWxlLmV4cG9ydHMgPT09IGV4cG9ydHMpe1xyXG4gICBtb2R1bGUuZXhwb3J0cyA9ICdjaGVja2xpc3QtbW9kZWwnO1xyXG4gfVxyXG5cclxuYW5ndWxhci5tb2R1bGUoJ2NoZWNrbGlzdC1tb2RlbCcsIFtdKVxyXG4uZGlyZWN0aXZlKCdjaGVja2xpc3RNb2RlbCcsIFsnJHBhcnNlJywgJyRjb21waWxlJywgZnVuY3Rpb24oJHBhcnNlLCAkY29tcGlsZSkge1xyXG4gIC8vIGNvbnRhaW5zXHJcbiAgZnVuY3Rpb24gY29udGFpbnMoYXJyLCBpdGVtLCBjb21wYXJhdG9yKSB7XHJcbiAgICBpZiAoYW5ndWxhci5pc0FycmF5KGFycikpIHtcclxuICAgICAgZm9yICh2YXIgaSA9IGFyci5sZW5ndGg7IGktLTspIHtcclxuICAgICAgICBpZiAoY29tcGFyYXRvcihhcnJbaV0sIGl0ZW0pKSB7XHJcbiAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH1cclxuICAgIHJldHVybiBmYWxzZTtcclxuICB9XHJcblxyXG4gIC8vIGFkZFxyXG4gIGZ1bmN0aW9uIGFkZChhcnIsIGl0ZW0sIGNvbXBhcmF0b3IpIHtcclxuICAgIGFyciA9IGFuZ3VsYXIuaXNBcnJheShhcnIpID8gYXJyIDogW107XHJcbiAgICAgIGlmKCFjb250YWlucyhhcnIsIGl0ZW0sIGNvbXBhcmF0b3IpKSB7XHJcbiAgICAgICAgICBhcnIucHVzaChpdGVtKTtcclxuICAgICAgfVxyXG4gICAgcmV0dXJuIGFycjtcclxuICB9XHJcblxyXG4gIC8vIHJlbW92ZVxyXG4gIGZ1bmN0aW9uIHJlbW92ZShhcnIsIGl0ZW0sIGNvbXBhcmF0b3IpIHtcclxuICAgIGlmIChhbmd1bGFyLmlzQXJyYXkoYXJyKSkge1xyXG4gICAgICBmb3IgKHZhciBpID0gYXJyLmxlbmd0aDsgaS0tOykge1xyXG4gICAgICAgIGlmIChjb21wYXJhdG9yKGFycltpXSwgaXRlbSkpIHtcclxuICAgICAgICAgIGFyci5zcGxpY2UoaSwgMSk7XHJcbiAgICAgICAgICBicmVhaztcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH1cclxuICAgIHJldHVybiBhcnI7XHJcbiAgfVxyXG5cclxuICAvLyBodHRwOi8vc3RhY2tvdmVyZmxvdy5jb20vYS8xOTIyODMwMi8xNDU4MTYyXHJcbiAgZnVuY3Rpb24gcG9zdExpbmtGbihzY29wZSwgZWxlbSwgYXR0cnMpIHtcclxuICAgICAvLyBleGNsdWRlIHJlY3Vyc2lvbiwgYnV0IHN0aWxsIGtlZXAgdGhlIG1vZGVsXHJcbiAgICB2YXIgY2hlY2tsaXN0TW9kZWwgPSBhdHRycy5jaGVja2xpc3RNb2RlbDtcclxuICAgIGF0dHJzLiRzZXQoXCJjaGVja2xpc3RNb2RlbFwiLCBudWxsKTtcclxuICAgIC8vIGNvbXBpbGUgd2l0aCBgbmctbW9kZWxgIHBvaW50aW5nIHRvIGBjaGVja2VkYFxyXG4gICAgJGNvbXBpbGUoZWxlbSkoc2NvcGUpO1xyXG4gICAgYXR0cnMuJHNldChcImNoZWNrbGlzdE1vZGVsXCIsIGNoZWNrbGlzdE1vZGVsKTtcclxuXHJcbiAgICAvLyBnZXR0ZXIgZm9yIG9yaWdpbmFsIG1vZGVsXHJcbiAgICB2YXIgY2hlY2tsaXN0TW9kZWxHZXR0ZXIgPSAkcGFyc2UoY2hlY2tsaXN0TW9kZWwpO1xyXG4gICAgdmFyIGNoZWNrbGlzdENoYW5nZSA9ICRwYXJzZShhdHRycy5jaGVja2xpc3RDaGFuZ2UpO1xyXG4gICAgdmFyIGNoZWNrbGlzdEJlZm9yZUNoYW5nZSA9ICRwYXJzZShhdHRycy5jaGVja2xpc3RCZWZvcmVDaGFuZ2UpO1xyXG4gICAgdmFyIG5nTW9kZWxHZXR0ZXIgPSAkcGFyc2UoYXR0cnMubmdNb2RlbCk7XHJcblxyXG5cclxuXHJcbiAgICB2YXIgY29tcGFyYXRvciA9IGFuZ3VsYXIuZXF1YWxzO1xyXG5cclxuICAgIGlmIChhdHRycy5oYXNPd25Qcm9wZXJ0eSgnY2hlY2tsaXN0Q29tcGFyYXRvcicpKXtcclxuICAgICAgaWYgKGF0dHJzLmNoZWNrbGlzdENvbXBhcmF0b3JbMF0gPT0gJy4nKSB7XHJcbiAgICAgICAgdmFyIGNvbXBhcmF0b3JFeHByZXNzaW9uID0gYXR0cnMuY2hlY2tsaXN0Q29tcGFyYXRvci5zdWJzdHJpbmcoMSk7XHJcbiAgICAgICAgY29tcGFyYXRvciA9IGZ1bmN0aW9uIChhLCBiKSB7XHJcbiAgICAgICAgICByZXR1cm4gYVtjb21wYXJhdG9yRXhwcmVzc2lvbl0gPT09IGJbY29tcGFyYXRvckV4cHJlc3Npb25dO1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIGNvbXBhcmF0b3IgPSAkcGFyc2UoYXR0cnMuY2hlY2tsaXN0Q29tcGFyYXRvcikoc2NvcGUuJHBhcmVudCk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvLyB3YXRjaCBVSSBjaGVja2VkIGNoYW5nZVxyXG4gICAgdmFyIHVuYmluZE1vZGVsID0gc2NvcGUuJHdhdGNoKGF0dHJzLm5nTW9kZWwsIGZ1bmN0aW9uKG5ld1ZhbHVlLCBvbGRWYWx1ZSkge1xyXG4gICAgICBpZiAobmV3VmFsdWUgPT09IG9sZFZhbHVlKSB7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBpZiAoY2hlY2tsaXN0QmVmb3JlQ2hhbmdlICYmIChjaGVja2xpc3RCZWZvcmVDaGFuZ2Uoc2NvcGUpID09PSBmYWxzZSkpIHtcclxuICAgICAgICBuZ01vZGVsR2V0dGVyLmFzc2lnbihzY29wZSwgY29udGFpbnMoY2hlY2tsaXN0TW9kZWxHZXR0ZXIoc2NvcGUuJHBhcmVudCksIGdldENoZWNrbGlzdFZhbHVlKCksIGNvbXBhcmF0b3IpKTtcclxuICAgICAgICByZXR1cm47XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHNldFZhbHVlSW5DaGVja2xpc3RNb2RlbChnZXRDaGVja2xpc3RWYWx1ZSgpLCBuZXdWYWx1ZSk7XHJcblxyXG4gICAgICBpZiAoY2hlY2tsaXN0Q2hhbmdlKSB7XHJcbiAgICAgICAgY2hlY2tsaXN0Q2hhbmdlKHNjb3BlKTtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcblxyXG4gICAgLy8gd2F0Y2hlcyBmb3IgdmFsdWUgY2hhbmdlIG9mIGNoZWNrbGlzdFZhbHVlXHJcbiAgICB2YXIgdW5iaW5kQ2hlY2tMaXN0VmFsdWUgPSBzY29wZS4kd2F0Y2goZ2V0Q2hlY2tsaXN0VmFsdWUsIGZ1bmN0aW9uKG5ld1ZhbHVlLCBvbGRWYWx1ZSkge1xyXG4gICAgICBpZiggbmV3VmFsdWUgIT0gb2xkVmFsdWUgJiYgYW5ndWxhci5pc0RlZmluZWQob2xkVmFsdWUpICYmIHNjb3BlW2F0dHJzLm5nTW9kZWxdID09PSB0cnVlICkge1xyXG4gICAgICAgIHZhciBjdXJyZW50ID0gY2hlY2tsaXN0TW9kZWxHZXR0ZXIoc2NvcGUuJHBhcmVudCk7XHJcbiAgICAgICAgY2hlY2tsaXN0TW9kZWxHZXR0ZXIuYXNzaWduKHNjb3BlLiRwYXJlbnQsIHJlbW92ZShjdXJyZW50LCBvbGRWYWx1ZSwgY29tcGFyYXRvcikpO1xyXG4gICAgICAgIGNoZWNrbGlzdE1vZGVsR2V0dGVyLmFzc2lnbihzY29wZS4kcGFyZW50LCBhZGQoY3VycmVudCwgbmV3VmFsdWUsIGNvbXBhcmF0b3IpKTtcclxuICAgICAgfVxyXG4gICAgfSwgdHJ1ZSk7XHJcblxyXG4gICAgdmFyIHVuYmluZERlc3Ryb3kgPSBzY29wZS4kb24oJyRkZXN0cm95JywgZGVzdHJveSk7XHJcblxyXG4gICAgZnVuY3Rpb24gZGVzdHJveSgpIHtcclxuICAgICAgdW5iaW5kTW9kZWwoKTtcclxuICAgICAgdW5iaW5kQ2hlY2tMaXN0VmFsdWUoKTtcclxuICAgICAgdW5iaW5kRGVzdHJveSgpO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIGdldENoZWNrbGlzdFZhbHVlKCkge1xyXG4gICAgICByZXR1cm4gYXR0cnMuY2hlY2tsaXN0VmFsdWUgPyAkcGFyc2UoYXR0cnMuY2hlY2tsaXN0VmFsdWUpKHNjb3BlLiRwYXJlbnQpIDogYXR0cnMudmFsdWU7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gc2V0VmFsdWVJbkNoZWNrbGlzdE1vZGVsKHZhbHVlLCBjaGVja2VkKSB7XHJcbiAgICAgIHZhciBjdXJyZW50ID0gY2hlY2tsaXN0TW9kZWxHZXR0ZXIoc2NvcGUuJHBhcmVudCk7XHJcbiAgICAgIGlmIChhbmd1bGFyLmlzRnVuY3Rpb24oY2hlY2tsaXN0TW9kZWxHZXR0ZXIuYXNzaWduKSkge1xyXG4gICAgICAgIGlmIChjaGVja2VkID09PSB0cnVlKSB7XHJcbiAgICAgICAgICBjaGVja2xpc3RNb2RlbEdldHRlci5hc3NpZ24oc2NvcGUuJHBhcmVudCwgYWRkKGN1cnJlbnQsIHZhbHVlLCBjb21wYXJhdG9yKSk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIGNoZWNrbGlzdE1vZGVsR2V0dGVyLmFzc2lnbihzY29wZS4kcGFyZW50LCByZW1vdmUoY3VycmVudCwgdmFsdWUsIGNvbXBhcmF0b3IpKTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuXHJcbiAgICB9XHJcblxyXG4gICAgLy8gZGVjbGFyZSBvbmUgZnVuY3Rpb24gdG8gYmUgdXNlZCBmb3IgYm90aCAkd2F0Y2ggZnVuY3Rpb25zXHJcbiAgICBmdW5jdGlvbiBzZXRDaGVja2VkKG5ld0Fyciwgb2xkQXJyKSB7XHJcbiAgICAgIGlmIChjaGVja2xpc3RCZWZvcmVDaGFuZ2UgJiYgKGNoZWNrbGlzdEJlZm9yZUNoYW5nZShzY29wZSkgPT09IGZhbHNlKSkge1xyXG4gICAgICAgIHNldFZhbHVlSW5DaGVja2xpc3RNb2RlbChnZXRDaGVja2xpc3RWYWx1ZSgpLCBuZ01vZGVsR2V0dGVyKHNjb3BlKSk7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgICB9XHJcbiAgICAgIG5nTW9kZWxHZXR0ZXIuYXNzaWduKHNjb3BlLCBjb250YWlucyhuZXdBcnIsIGdldENoZWNrbGlzdFZhbHVlKCksIGNvbXBhcmF0b3IpKTtcclxuICAgIH1cclxuXHJcbiAgICAvLyB3YXRjaCBvcmlnaW5hbCBtb2RlbCBjaGFuZ2VcclxuICAgIC8vIHVzZSB0aGUgZmFzdGVyICR3YXRjaENvbGxlY3Rpb24gbWV0aG9kIGlmIGl0J3MgYXZhaWxhYmxlXHJcbiAgICBpZiAoYW5ndWxhci5pc0Z1bmN0aW9uKHNjb3BlLiRwYXJlbnQuJHdhdGNoQ29sbGVjdGlvbikpIHtcclxuICAgICAgICBzY29wZS4kcGFyZW50LiR3YXRjaENvbGxlY3Rpb24oY2hlY2tsaXN0TW9kZWwsIHNldENoZWNrZWQpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgICBzY29wZS4kcGFyZW50LiR3YXRjaChjaGVja2xpc3RNb2RlbCwgc2V0Q2hlY2tlZCwgdHJ1ZSk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICByZXR1cm4ge1xyXG4gICAgcmVzdHJpY3Q6ICdBJyxcclxuICAgIHByaW9yaXR5OiAxMDAwLFxyXG4gICAgdGVybWluYWw6IHRydWUsXHJcbiAgICBzY29wZTogdHJ1ZSxcclxuICAgIGNvbXBpbGU6IGZ1bmN0aW9uKHRFbGVtZW50LCB0QXR0cnMpIHtcclxuXHJcbiAgICAgIGlmICghdEF0dHJzLmNoZWNrbGlzdFZhbHVlICYmICF0QXR0cnMudmFsdWUpIHtcclxuICAgICAgICB0aHJvdyAnWW91IHNob3VsZCBwcm92aWRlIGB2YWx1ZWAgb3IgYGNoZWNrbGlzdC12YWx1ZWAuJztcclxuICAgICAgfVxyXG5cclxuICAgICAgLy8gYnkgZGVmYXVsdCBuZ01vZGVsIGlzICdjaGVja2VkJywgc28gd2Ugc2V0IGl0IGlmIG5vdCBzcGVjaWZpZWRcclxuICAgICAgaWYgKCF0QXR0cnMubmdNb2RlbCkge1xyXG4gICAgICAgIC8vIGxvY2FsIHNjb3BlIHZhciBzdG9yaW5nIGluZGl2aWR1YWwgY2hlY2tib3ggbW9kZWxcclxuICAgICAgICB0QXR0cnMuJHNldChcIm5nTW9kZWxcIiwgXCJjaGVja2VkXCIpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICByZXR1cm4gcG9zdExpbmtGbjtcclxuICAgIH1cclxuICB9O1xyXG59XSk7XHJcbiIsIi8vISBtb21lbnQuanMgbG9jYWxlIGNvbmZpZ3VyYXRpb25cbi8vISBsb2NhbGUgOiBDaGluZXNlIChDaGluYSkgW3poLWNuXVxuLy8hIGF1dGhvciA6IHN1dXBpYyA6IGh0dHBzOi8vZ2l0aHViLmNvbS9zdXVwaWNcbi8vISBhdXRob3IgOiBaZW5vIFplbmcgOiBodHRwczovL2dpdGh1Yi5jb20vemVub3plbmdcblxuOyhmdW5jdGlvbiAoZ2xvYmFsLCBmYWN0b3J5KSB7XG4gICB0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcgJiYgdHlwZW9mIG1vZHVsZSAhPT0gJ3VuZGVmaW5lZCdcbiAgICAgICAmJiB0eXBlb2YgcmVxdWlyZSA9PT0gJ2Z1bmN0aW9uJyA/IGZhY3RvcnkocmVxdWlyZSgnLi4vbW9tZW50JykpIDpcbiAgIHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZCA/IGRlZmluZShbJy4uL21vbWVudCddLCBmYWN0b3J5KSA6XG4gICBmYWN0b3J5KGdsb2JhbC5tb21lbnQpXG59KHRoaXMsIChmdW5jdGlvbiAobW9tZW50KSB7ICd1c2Ugc3RyaWN0JztcblxuXG52YXIgemhDbiA9IG1vbWVudC5kZWZpbmVMb2NhbGUoJ3poLWNuJywge1xuICAgIG1vbnRocyA6ICfkuIDmnIhf5LqM5pyIX+S4ieaciF/lm5vmnIhf5LqU5pyIX+WFreaciF/kuIPmnIhf5YWr5pyIX+S5neaciF/ljYHmnIhf5Y2B5LiA5pyIX+WNgeS6jOaciCcuc3BsaXQoJ18nKSxcbiAgICBtb250aHNTaG9ydCA6ICcx5pyIXzLmnIhfM+aciF805pyIXzXmnIhfNuaciF835pyIXzjmnIhfOeaciF8xMOaciF8xMeaciF8xMuaciCcuc3BsaXQoJ18nKSxcbiAgICB3ZWVrZGF5cyA6ICfmmJ/mnJ/ml6Vf5pif5pyf5LiAX+aYn+acn+S6jF/mmJ/mnJ/kuIlf5pif5pyf5ZubX+aYn+acn+S6lF/mmJ/mnJ/lha0nLnNwbGl0KCdfJyksXG4gICAgd2Vla2RheXNTaG9ydCA6ICflkajml6Vf5ZGo5LiAX+WRqOS6jF/lkajkuIlf5ZGo5ZubX+WRqOS6lF/lkajlha0nLnNwbGl0KCdfJyksXG4gICAgd2Vla2RheXNNaW4gOiAn5pelX+S4gF/kuoxf5LiJX+Wbm1/kupRf5YWtJy5zcGxpdCgnXycpLFxuICAgIGxvbmdEYXRlRm9ybWF0IDoge1xuICAgICAgICBMVCA6ICdBaOeCuW1t5YiGJyxcbiAgICAgICAgTFRTIDogJ0Fo54K5beWIhnPnp5InLFxuICAgICAgICBMIDogJ1lZWVktTU0tREQnLFxuICAgICAgICBMTCA6ICdZWVlZ5bm0TU1NROaXpScsXG4gICAgICAgIExMTCA6ICdZWVlZ5bm0TU1NROaXpUFo54K5bW3liIYnLFxuICAgICAgICBMTExMIDogJ1lZWVnlubRNTU1E5pelZGRkZEFo54K5bW3liIYnLFxuICAgICAgICBsIDogJ1lZWVktTU0tREQnLFxuICAgICAgICBsbCA6ICdZWVlZ5bm0TU1NROaXpScsXG4gICAgICAgIGxsbCA6ICdZWVlZ5bm0TU1NROaXpUFo54K5bW3liIYnLFxuICAgICAgICBsbGxsIDogJ1lZWVnlubRNTU1E5pelZGRkZEFo54K5bW3liIYnXG4gICAgfSxcbiAgICBtZXJpZGllbVBhcnNlOiAv5YeM5pmofOaXqeS4inzkuIrljYh85Lit5Y2IfOS4i+WNiHzmmZrkuIovLFxuICAgIG1lcmlkaWVtSG91cjogZnVuY3Rpb24gKGhvdXIsIG1lcmlkaWVtKSB7XG4gICAgICAgIGlmIChob3VyID09PSAxMikge1xuICAgICAgICAgICAgaG91ciA9IDA7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1lcmlkaWVtID09PSAn5YeM5pmoJyB8fCBtZXJpZGllbSA9PT0gJ+aXqeS4iicgfHxcbiAgICAgICAgICAgICAgICBtZXJpZGllbSA9PT0gJ+S4iuWNiCcpIHtcbiAgICAgICAgICAgIHJldHVybiBob3VyO1xuICAgICAgICB9IGVsc2UgaWYgKG1lcmlkaWVtID09PSAn5LiL5Y2IJyB8fCBtZXJpZGllbSA9PT0gJ+aZmuS4iicpIHtcbiAgICAgICAgICAgIHJldHVybiBob3VyICsgMTI7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvLyAn5Lit5Y2IJ1xuICAgICAgICAgICAgcmV0dXJuIGhvdXIgPj0gMTEgPyBob3VyIDogaG91ciArIDEyO1xuICAgICAgICB9XG4gICAgfSxcbiAgICBtZXJpZGllbSA6IGZ1bmN0aW9uIChob3VyLCBtaW51dGUsIGlzTG93ZXIpIHtcbiAgICAgICAgdmFyIGhtID0gaG91ciAqIDEwMCArIG1pbnV0ZTtcbiAgICAgICAgaWYgKGhtIDwgNjAwKSB7XG4gICAgICAgICAgICByZXR1cm4gJ+WHjOaZqCc7XG4gICAgICAgIH0gZWxzZSBpZiAoaG0gPCA5MDApIHtcbiAgICAgICAgICAgIHJldHVybiAn5pep5LiKJztcbiAgICAgICAgfSBlbHNlIGlmIChobSA8IDExMzApIHtcbiAgICAgICAgICAgIHJldHVybiAn5LiK5Y2IJztcbiAgICAgICAgfSBlbHNlIGlmIChobSA8IDEyMzApIHtcbiAgICAgICAgICAgIHJldHVybiAn5Lit5Y2IJztcbiAgICAgICAgfSBlbHNlIGlmIChobSA8IDE4MDApIHtcbiAgICAgICAgICAgIHJldHVybiAn5LiL5Y2IJztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiAn5pma5LiKJztcbiAgICAgICAgfVxuICAgIH0sXG4gICAgY2FsZW5kYXIgOiB7XG4gICAgICAgIHNhbWVEYXkgOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5taW51dGVzKCkgPT09IDAgPyAnW+S7iuWkqV1BaFvngrnmlbRdJyA6ICdb5LuK5aSpXUxUJztcbiAgICAgICAgfSxcbiAgICAgICAgbmV4dERheSA6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLm1pbnV0ZXMoKSA9PT0gMCA/ICdb5piO5aSpXUFoW+eCueaVtF0nIDogJ1vmmI7lpKldTFQnO1xuICAgICAgICB9LFxuICAgICAgICBsYXN0RGF5IDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMubWludXRlcygpID09PSAwID8gJ1vmmKjlpKldQWhb54K55pW0XScgOiAnW+aYqOWkqV1MVCc7XG4gICAgICAgIH0sXG4gICAgICAgIG5leHRXZWVrIDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIHN0YXJ0T2ZXZWVrLCBwcmVmaXg7XG4gICAgICAgICAgICBzdGFydE9mV2VlayA9IG1vbWVudCgpLnN0YXJ0T2YoJ3dlZWsnKTtcbiAgICAgICAgICAgIHByZWZpeCA9IHRoaXMuZGlmZihzdGFydE9mV2VlaywgJ2RheXMnKSA+PSA3ID8gJ1vkuItdJyA6ICdb5pysXSc7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5taW51dGVzKCkgPT09IDAgPyBwcmVmaXggKyAnZGRkQWjngrnmlbQnIDogcHJlZml4ICsgJ2RkZEFo54K5bW0nO1xuICAgICAgICB9LFxuICAgICAgICBsYXN0V2VlayA6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBzdGFydE9mV2VlaywgcHJlZml4O1xuICAgICAgICAgICAgc3RhcnRPZldlZWsgPSBtb21lbnQoKS5zdGFydE9mKCd3ZWVrJyk7XG4gICAgICAgICAgICBwcmVmaXggPSB0aGlzLnVuaXgoKSA8IHN0YXJ0T2ZXZWVrLnVuaXgoKSAgPyAnW+S4il0nIDogJ1vmnKxdJztcbiAgICAgICAgICAgIHJldHVybiB0aGlzLm1pbnV0ZXMoKSA9PT0gMCA/IHByZWZpeCArICdkZGRBaOeCueaVtCcgOiBwcmVmaXggKyAnZGRkQWjngrltbSc7XG4gICAgICAgIH0sXG4gICAgICAgIHNhbWVFbHNlIDogJ0xMJ1xuICAgIH0sXG4gICAgb3JkaW5hbFBhcnNlOiAvXFxkezEsMn0o5pelfOaciHzlkagpLyxcbiAgICBvcmRpbmFsIDogZnVuY3Rpb24gKG51bWJlciwgcGVyaW9kKSB7XG4gICAgICAgIHN3aXRjaCAocGVyaW9kKSB7XG4gICAgICAgICAgICBjYXNlICdkJzpcbiAgICAgICAgICAgIGNhc2UgJ0QnOlxuICAgICAgICAgICAgY2FzZSAnREREJzpcbiAgICAgICAgICAgICAgICByZXR1cm4gbnVtYmVyICsgJ+aXpSc7XG4gICAgICAgICAgICBjYXNlICdNJzpcbiAgICAgICAgICAgICAgICByZXR1cm4gbnVtYmVyICsgJ+aciCc7XG4gICAgICAgICAgICBjYXNlICd3JzpcbiAgICAgICAgICAgIGNhc2UgJ1cnOlxuICAgICAgICAgICAgICAgIHJldHVybiBudW1iZXIgKyAn5ZGoJztcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgcmV0dXJuIG51bWJlcjtcbiAgICAgICAgfVxuICAgIH0sXG4gICAgcmVsYXRpdmVUaW1lIDoge1xuICAgICAgICBmdXR1cmUgOiAnJXPlhoUnLFxuICAgICAgICBwYXN0IDogJyVz5YmNJyxcbiAgICAgICAgcyA6ICflh6Dnp5InLFxuICAgICAgICBtIDogJzEg5YiG6ZKfJyxcbiAgICAgICAgbW0gOiAnJWQg5YiG6ZKfJyxcbiAgICAgICAgaCA6ICcxIOWwj+aXticsXG4gICAgICAgIGhoIDogJyVkIOWwj+aXticsXG4gICAgICAgIGQgOiAnMSDlpKknLFxuICAgICAgICBkZCA6ICclZCDlpKknLFxuICAgICAgICBNIDogJzEg5Liq5pyIJyxcbiAgICAgICAgTU0gOiAnJWQg5Liq5pyIJyxcbiAgICAgICAgeSA6ICcxIOW5tCcsXG4gICAgICAgIHl5IDogJyVkIOW5tCdcbiAgICB9LFxuICAgIHdlZWsgOiB7XG4gICAgICAgIC8vIEdCL1QgNzQwOC0xOTk044CK5pWw5o2u5YWD5ZKM5Lqk5o2i5qC85byPwrfkv6Hmga/kuqTmjaLCt+aXpeacn+WSjOaXtumXtOihqOekuuazleOAi+S4jklTTyA4NjAxOjE5ODjnrYnmlYhcbiAgICAgICAgZG93IDogMSwgLy8gTW9uZGF5IGlzIHRoZSBmaXJzdCBkYXkgb2YgdGhlIHdlZWsuXG4gICAgICAgIGRveSA6IDQgIC8vIFRoZSB3ZWVrIHRoYXQgY29udGFpbnMgSmFuIDR0aCBpcyB0aGUgZmlyc3Qgd2VlayBvZiB0aGUgeWVhci5cbiAgICB9XG59KTtcblxucmV0dXJuIHpoQ247XG5cbn0pKSk7XG4iLCIvLyEgbW9tZW50LmpzXG4vLyEgdmVyc2lvbiA6IDIuMTcuMVxuLy8hIGF1dGhvcnMgOiBUaW0gV29vZCwgSXNrcmVuIENoZXJuZXYsIE1vbWVudC5qcyBjb250cmlidXRvcnNcbi8vISBsaWNlbnNlIDogTUlUXG4vLyEgbW9tZW50anMuY29tXG5cbjsoZnVuY3Rpb24gKGdsb2JhbCwgZmFjdG9yeSkge1xuICAgIHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0JyAmJiB0eXBlb2YgbW9kdWxlICE9PSAndW5kZWZpbmVkJyA/IG1vZHVsZS5leHBvcnRzID0gZmFjdG9yeSgpIDpcbiAgICB0eXBlb2YgZGVmaW5lID09PSAnZnVuY3Rpb24nICYmIGRlZmluZS5hbWQgPyBkZWZpbmUoZmFjdG9yeSkgOlxuICAgIGdsb2JhbC5tb21lbnQgPSBmYWN0b3J5KClcbn0odGhpcywgKGZ1bmN0aW9uICgpIHsgJ3VzZSBzdHJpY3QnO1xuXG52YXIgaG9va0NhbGxiYWNrO1xuXG5mdW5jdGlvbiBob29rcyAoKSB7XG4gICAgcmV0dXJuIGhvb2tDYWxsYmFjay5hcHBseShudWxsLCBhcmd1bWVudHMpO1xufVxuXG4vLyBUaGlzIGlzIGRvbmUgdG8gcmVnaXN0ZXIgdGhlIG1ldGhvZCBjYWxsZWQgd2l0aCBtb21lbnQoKVxuLy8gd2l0aG91dCBjcmVhdGluZyBjaXJjdWxhciBkZXBlbmRlbmNpZXMuXG5mdW5jdGlvbiBzZXRIb29rQ2FsbGJhY2sgKGNhbGxiYWNrKSB7XG4gICAgaG9va0NhbGxiYWNrID0gY2FsbGJhY2s7XG59XG5cbmZ1bmN0aW9uIGlzQXJyYXkoaW5wdXQpIHtcbiAgICByZXR1cm4gaW5wdXQgaW5zdGFuY2VvZiBBcnJheSB8fCBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoaW5wdXQpID09PSAnW29iamVjdCBBcnJheV0nO1xufVxuXG5mdW5jdGlvbiBpc09iamVjdChpbnB1dCkge1xuICAgIC8vIElFOCB3aWxsIHRyZWF0IHVuZGVmaW5lZCBhbmQgbnVsbCBhcyBvYmplY3QgaWYgaXQgd2Fzbid0IGZvclxuICAgIC8vIGlucHV0ICE9IG51bGxcbiAgICByZXR1cm4gaW5wdXQgIT0gbnVsbCAmJiBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoaW5wdXQpID09PSAnW29iamVjdCBPYmplY3RdJztcbn1cblxuZnVuY3Rpb24gaXNPYmplY3RFbXB0eShvYmopIHtcbiAgICB2YXIgaztcbiAgICBmb3IgKGsgaW4gb2JqKSB7XG4gICAgICAgIC8vIGV2ZW4gaWYgaXRzIG5vdCBvd24gcHJvcGVydHkgSSdkIHN0aWxsIGNhbGwgaXQgbm9uLWVtcHR5XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgcmV0dXJuIHRydWU7XG59XG5cbmZ1bmN0aW9uIGlzTnVtYmVyKGlucHV0KSB7XG4gICAgcmV0dXJuIHR5cGVvZiBpbnB1dCA9PT0gJ251bWJlcicgfHwgT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGlucHV0KSA9PT0gJ1tvYmplY3QgTnVtYmVyXSc7XG59XG5cbmZ1bmN0aW9uIGlzRGF0ZShpbnB1dCkge1xuICAgIHJldHVybiBpbnB1dCBpbnN0YW5jZW9mIERhdGUgfHwgT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGlucHV0KSA9PT0gJ1tvYmplY3QgRGF0ZV0nO1xufVxuXG5mdW5jdGlvbiBtYXAoYXJyLCBmbikge1xuICAgIHZhciByZXMgPSBbXSwgaTtcbiAgICBmb3IgKGkgPSAwOyBpIDwgYXJyLmxlbmd0aDsgKytpKSB7XG4gICAgICAgIHJlcy5wdXNoKGZuKGFycltpXSwgaSkpO1xuICAgIH1cbiAgICByZXR1cm4gcmVzO1xufVxuXG5mdW5jdGlvbiBoYXNPd25Qcm9wKGEsIGIpIHtcbiAgICByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGEsIGIpO1xufVxuXG5mdW5jdGlvbiBleHRlbmQoYSwgYikge1xuICAgIGZvciAodmFyIGkgaW4gYikge1xuICAgICAgICBpZiAoaGFzT3duUHJvcChiLCBpKSkge1xuICAgICAgICAgICAgYVtpXSA9IGJbaV07XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoaGFzT3duUHJvcChiLCAndG9TdHJpbmcnKSkge1xuICAgICAgICBhLnRvU3RyaW5nID0gYi50b1N0cmluZztcbiAgICB9XG5cbiAgICBpZiAoaGFzT3duUHJvcChiLCAndmFsdWVPZicpKSB7XG4gICAgICAgIGEudmFsdWVPZiA9IGIudmFsdWVPZjtcbiAgICB9XG5cbiAgICByZXR1cm4gYTtcbn1cblxuZnVuY3Rpb24gY3JlYXRlVVRDIChpbnB1dCwgZm9ybWF0LCBsb2NhbGUsIHN0cmljdCkge1xuICAgIHJldHVybiBjcmVhdGVMb2NhbE9yVVRDKGlucHV0LCBmb3JtYXQsIGxvY2FsZSwgc3RyaWN0LCB0cnVlKS51dGMoKTtcbn1cblxuZnVuY3Rpb24gZGVmYXVsdFBhcnNpbmdGbGFncygpIHtcbiAgICAvLyBXZSBuZWVkIHRvIGRlZXAgY2xvbmUgdGhpcyBvYmplY3QuXG4gICAgcmV0dXJuIHtcbiAgICAgICAgZW1wdHkgICAgICAgICAgIDogZmFsc2UsXG4gICAgICAgIHVudXNlZFRva2VucyAgICA6IFtdLFxuICAgICAgICB1bnVzZWRJbnB1dCAgICAgOiBbXSxcbiAgICAgICAgb3ZlcmZsb3cgICAgICAgIDogLTIsXG4gICAgICAgIGNoYXJzTGVmdE92ZXIgICA6IDAsXG4gICAgICAgIG51bGxJbnB1dCAgICAgICA6IGZhbHNlLFxuICAgICAgICBpbnZhbGlkTW9udGggICAgOiBudWxsLFxuICAgICAgICBpbnZhbGlkRm9ybWF0ICAgOiBmYWxzZSxcbiAgICAgICAgdXNlckludmFsaWRhdGVkIDogZmFsc2UsXG4gICAgICAgIGlzbyAgICAgICAgICAgICA6IGZhbHNlLFxuICAgICAgICBwYXJzZWREYXRlUGFydHMgOiBbXSxcbiAgICAgICAgbWVyaWRpZW0gICAgICAgIDogbnVsbFxuICAgIH07XG59XG5cbmZ1bmN0aW9uIGdldFBhcnNpbmdGbGFncyhtKSB7XG4gICAgaWYgKG0uX3BmID09IG51bGwpIHtcbiAgICAgICAgbS5fcGYgPSBkZWZhdWx0UGFyc2luZ0ZsYWdzKCk7XG4gICAgfVxuICAgIHJldHVybiBtLl9wZjtcbn1cblxudmFyIHNvbWU7XG5pZiAoQXJyYXkucHJvdG90eXBlLnNvbWUpIHtcbiAgICBzb21lID0gQXJyYXkucHJvdG90eXBlLnNvbWU7XG59IGVsc2Uge1xuICAgIHNvbWUgPSBmdW5jdGlvbiAoZnVuKSB7XG4gICAgICAgIHZhciB0ID0gT2JqZWN0KHRoaXMpO1xuICAgICAgICB2YXIgbGVuID0gdC5sZW5ndGggPj4+IDA7XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW47IGkrKykge1xuICAgICAgICAgICAgaWYgKGkgaW4gdCAmJiBmdW4uY2FsbCh0aGlzLCB0W2ldLCBpLCB0KSkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH07XG59XG5cbnZhciBzb21lJDEgPSBzb21lO1xuXG5mdW5jdGlvbiBpc1ZhbGlkKG0pIHtcbiAgICBpZiAobS5faXNWYWxpZCA9PSBudWxsKSB7XG4gICAgICAgIHZhciBmbGFncyA9IGdldFBhcnNpbmdGbGFncyhtKTtcbiAgICAgICAgdmFyIHBhcnNlZFBhcnRzID0gc29tZSQxLmNhbGwoZmxhZ3MucGFyc2VkRGF0ZVBhcnRzLCBmdW5jdGlvbiAoaSkge1xuICAgICAgICAgICAgcmV0dXJuIGkgIT0gbnVsbDtcbiAgICAgICAgfSk7XG4gICAgICAgIHZhciBpc05vd1ZhbGlkID0gIWlzTmFOKG0uX2QuZ2V0VGltZSgpKSAmJlxuICAgICAgICAgICAgZmxhZ3Mub3ZlcmZsb3cgPCAwICYmXG4gICAgICAgICAgICAhZmxhZ3MuZW1wdHkgJiZcbiAgICAgICAgICAgICFmbGFncy5pbnZhbGlkTW9udGggJiZcbiAgICAgICAgICAgICFmbGFncy5pbnZhbGlkV2Vla2RheSAmJlxuICAgICAgICAgICAgIWZsYWdzLm51bGxJbnB1dCAmJlxuICAgICAgICAgICAgIWZsYWdzLmludmFsaWRGb3JtYXQgJiZcbiAgICAgICAgICAgICFmbGFncy51c2VySW52YWxpZGF0ZWQgJiZcbiAgICAgICAgICAgICghZmxhZ3MubWVyaWRpZW0gfHwgKGZsYWdzLm1lcmlkaWVtICYmIHBhcnNlZFBhcnRzKSk7XG5cbiAgICAgICAgaWYgKG0uX3N0cmljdCkge1xuICAgICAgICAgICAgaXNOb3dWYWxpZCA9IGlzTm93VmFsaWQgJiZcbiAgICAgICAgICAgICAgICBmbGFncy5jaGFyc0xlZnRPdmVyID09PSAwICYmXG4gICAgICAgICAgICAgICAgZmxhZ3MudW51c2VkVG9rZW5zLmxlbmd0aCA9PT0gMCAmJlxuICAgICAgICAgICAgICAgIGZsYWdzLmJpZ0hvdXIgPT09IHVuZGVmaW5lZDtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChPYmplY3QuaXNGcm96ZW4gPT0gbnVsbCB8fCAhT2JqZWN0LmlzRnJvemVuKG0pKSB7XG4gICAgICAgICAgICBtLl9pc1ZhbGlkID0gaXNOb3dWYWxpZDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBpc05vd1ZhbGlkO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBtLl9pc1ZhbGlkO1xufVxuXG5mdW5jdGlvbiBjcmVhdGVJbnZhbGlkIChmbGFncykge1xuICAgIHZhciBtID0gY3JlYXRlVVRDKE5hTik7XG4gICAgaWYgKGZsYWdzICE9IG51bGwpIHtcbiAgICAgICAgZXh0ZW5kKGdldFBhcnNpbmdGbGFncyhtKSwgZmxhZ3MpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgZ2V0UGFyc2luZ0ZsYWdzKG0pLnVzZXJJbnZhbGlkYXRlZCA9IHRydWU7XG4gICAgfVxuXG4gICAgcmV0dXJuIG07XG59XG5cbmZ1bmN0aW9uIGlzVW5kZWZpbmVkKGlucHV0KSB7XG4gICAgcmV0dXJuIGlucHV0ID09PSB2b2lkIDA7XG59XG5cbi8vIFBsdWdpbnMgdGhhdCBhZGQgcHJvcGVydGllcyBzaG91bGQgYWxzbyBhZGQgdGhlIGtleSBoZXJlIChudWxsIHZhbHVlKSxcbi8vIHNvIHdlIGNhbiBwcm9wZXJseSBjbG9uZSBvdXJzZWx2ZXMuXG52YXIgbW9tZW50UHJvcGVydGllcyA9IGhvb2tzLm1vbWVudFByb3BlcnRpZXMgPSBbXTtcblxuZnVuY3Rpb24gY29weUNvbmZpZyh0bywgZnJvbSkge1xuICAgIHZhciBpLCBwcm9wLCB2YWw7XG5cbiAgICBpZiAoIWlzVW5kZWZpbmVkKGZyb20uX2lzQU1vbWVudE9iamVjdCkpIHtcbiAgICAgICAgdG8uX2lzQU1vbWVudE9iamVjdCA9IGZyb20uX2lzQU1vbWVudE9iamVjdDtcbiAgICB9XG4gICAgaWYgKCFpc1VuZGVmaW5lZChmcm9tLl9pKSkge1xuICAgICAgICB0by5faSA9IGZyb20uX2k7XG4gICAgfVxuICAgIGlmICghaXNVbmRlZmluZWQoZnJvbS5fZikpIHtcbiAgICAgICAgdG8uX2YgPSBmcm9tLl9mO1xuICAgIH1cbiAgICBpZiAoIWlzVW5kZWZpbmVkKGZyb20uX2wpKSB7XG4gICAgICAgIHRvLl9sID0gZnJvbS5fbDtcbiAgICB9XG4gICAgaWYgKCFpc1VuZGVmaW5lZChmcm9tLl9zdHJpY3QpKSB7XG4gICAgICAgIHRvLl9zdHJpY3QgPSBmcm9tLl9zdHJpY3Q7XG4gICAgfVxuICAgIGlmICghaXNVbmRlZmluZWQoZnJvbS5fdHptKSkge1xuICAgICAgICB0by5fdHptID0gZnJvbS5fdHptO1xuICAgIH1cbiAgICBpZiAoIWlzVW5kZWZpbmVkKGZyb20uX2lzVVRDKSkge1xuICAgICAgICB0by5faXNVVEMgPSBmcm9tLl9pc1VUQztcbiAgICB9XG4gICAgaWYgKCFpc1VuZGVmaW5lZChmcm9tLl9vZmZzZXQpKSB7XG4gICAgICAgIHRvLl9vZmZzZXQgPSBmcm9tLl9vZmZzZXQ7XG4gICAgfVxuICAgIGlmICghaXNVbmRlZmluZWQoZnJvbS5fcGYpKSB7XG4gICAgICAgIHRvLl9wZiA9IGdldFBhcnNpbmdGbGFncyhmcm9tKTtcbiAgICB9XG4gICAgaWYgKCFpc1VuZGVmaW5lZChmcm9tLl9sb2NhbGUpKSB7XG4gICAgICAgIHRvLl9sb2NhbGUgPSBmcm9tLl9sb2NhbGU7XG4gICAgfVxuXG4gICAgaWYgKG1vbWVudFByb3BlcnRpZXMubGVuZ3RoID4gMCkge1xuICAgICAgICBmb3IgKGkgaW4gbW9tZW50UHJvcGVydGllcykge1xuICAgICAgICAgICAgcHJvcCA9IG1vbWVudFByb3BlcnRpZXNbaV07XG4gICAgICAgICAgICB2YWwgPSBmcm9tW3Byb3BdO1xuICAgICAgICAgICAgaWYgKCFpc1VuZGVmaW5lZCh2YWwpKSB7XG4gICAgICAgICAgICAgICAgdG9bcHJvcF0gPSB2YWw7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gdG87XG59XG5cbnZhciB1cGRhdGVJblByb2dyZXNzID0gZmFsc2U7XG5cbi8vIE1vbWVudCBwcm90b3R5cGUgb2JqZWN0XG5mdW5jdGlvbiBNb21lbnQoY29uZmlnKSB7XG4gICAgY29weUNvbmZpZyh0aGlzLCBjb25maWcpO1xuICAgIHRoaXMuX2QgPSBuZXcgRGF0ZShjb25maWcuX2QgIT0gbnVsbCA/IGNvbmZpZy5fZC5nZXRUaW1lKCkgOiBOYU4pO1xuICAgIGlmICghdGhpcy5pc1ZhbGlkKCkpIHtcbiAgICAgICAgdGhpcy5fZCA9IG5ldyBEYXRlKE5hTik7XG4gICAgfVxuICAgIC8vIFByZXZlbnQgaW5maW5pdGUgbG9vcCBpbiBjYXNlIHVwZGF0ZU9mZnNldCBjcmVhdGVzIG5ldyBtb21lbnRcbiAgICAvLyBvYmplY3RzLlxuICAgIGlmICh1cGRhdGVJblByb2dyZXNzID09PSBmYWxzZSkge1xuICAgICAgICB1cGRhdGVJblByb2dyZXNzID0gdHJ1ZTtcbiAgICAgICAgaG9va3MudXBkYXRlT2Zmc2V0KHRoaXMpO1xuICAgICAgICB1cGRhdGVJblByb2dyZXNzID0gZmFsc2U7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBpc01vbWVudCAob2JqKSB7XG4gICAgcmV0dXJuIG9iaiBpbnN0YW5jZW9mIE1vbWVudCB8fCAob2JqICE9IG51bGwgJiYgb2JqLl9pc0FNb21lbnRPYmplY3QgIT0gbnVsbCk7XG59XG5cbmZ1bmN0aW9uIGFic0Zsb29yIChudW1iZXIpIHtcbiAgICBpZiAobnVtYmVyIDwgMCkge1xuICAgICAgICAvLyAtMCAtPiAwXG4gICAgICAgIHJldHVybiBNYXRoLmNlaWwobnVtYmVyKSB8fCAwO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBNYXRoLmZsb29yKG51bWJlcik7XG4gICAgfVxufVxuXG5mdW5jdGlvbiB0b0ludChhcmd1bWVudEZvckNvZXJjaW9uKSB7XG4gICAgdmFyIGNvZXJjZWROdW1iZXIgPSArYXJndW1lbnRGb3JDb2VyY2lvbixcbiAgICAgICAgdmFsdWUgPSAwO1xuXG4gICAgaWYgKGNvZXJjZWROdW1iZXIgIT09IDAgJiYgaXNGaW5pdGUoY29lcmNlZE51bWJlcikpIHtcbiAgICAgICAgdmFsdWUgPSBhYnNGbG9vcihjb2VyY2VkTnVtYmVyKTtcbiAgICB9XG5cbiAgICByZXR1cm4gdmFsdWU7XG59XG5cbi8vIGNvbXBhcmUgdHdvIGFycmF5cywgcmV0dXJuIHRoZSBudW1iZXIgb2YgZGlmZmVyZW5jZXNcbmZ1bmN0aW9uIGNvbXBhcmVBcnJheXMoYXJyYXkxLCBhcnJheTIsIGRvbnRDb252ZXJ0KSB7XG4gICAgdmFyIGxlbiA9IE1hdGgubWluKGFycmF5MS5sZW5ndGgsIGFycmF5Mi5sZW5ndGgpLFxuICAgICAgICBsZW5ndGhEaWZmID0gTWF0aC5hYnMoYXJyYXkxLmxlbmd0aCAtIGFycmF5Mi5sZW5ndGgpLFxuICAgICAgICBkaWZmcyA9IDAsXG4gICAgICAgIGk7XG4gICAgZm9yIChpID0gMDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgIGlmICgoZG9udENvbnZlcnQgJiYgYXJyYXkxW2ldICE9PSBhcnJheTJbaV0pIHx8XG4gICAgICAgICAgICAoIWRvbnRDb252ZXJ0ICYmIHRvSW50KGFycmF5MVtpXSkgIT09IHRvSW50KGFycmF5MltpXSkpKSB7XG4gICAgICAgICAgICBkaWZmcysrO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBkaWZmcyArIGxlbmd0aERpZmY7XG59XG5cbmZ1bmN0aW9uIHdhcm4obXNnKSB7XG4gICAgaWYgKGhvb2tzLnN1cHByZXNzRGVwcmVjYXRpb25XYXJuaW5ncyA9PT0gZmFsc2UgJiZcbiAgICAgICAgICAgICh0eXBlb2YgY29uc29sZSAhPT0gICd1bmRlZmluZWQnKSAmJiBjb25zb2xlLndhcm4pIHtcbiAgICAgICAgY29uc29sZS53YXJuKCdEZXByZWNhdGlvbiB3YXJuaW5nOiAnICsgbXNnKTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIGRlcHJlY2F0ZShtc2csIGZuKSB7XG4gICAgdmFyIGZpcnN0VGltZSA9IHRydWU7XG5cbiAgICByZXR1cm4gZXh0ZW5kKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKGhvb2tzLmRlcHJlY2F0aW9uSGFuZGxlciAhPSBudWxsKSB7XG4gICAgICAgICAgICBob29rcy5kZXByZWNhdGlvbkhhbmRsZXIobnVsbCwgbXNnKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZmlyc3RUaW1lKSB7XG4gICAgICAgICAgICB2YXIgYXJncyA9IFtdO1xuICAgICAgICAgICAgdmFyIGFyZztcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgYXJnID0gJyc7XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBhcmd1bWVudHNbaV0gPT09ICdvYmplY3QnKSB7XG4gICAgICAgICAgICAgICAgICAgIGFyZyArPSAnXFxuWycgKyBpICsgJ10gJztcbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIga2V5IGluIGFyZ3VtZW50c1swXSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYXJnICs9IGtleSArICc6ICcgKyBhcmd1bWVudHNbMF1ba2V5XSArICcsICc7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgYXJnID0gYXJnLnNsaWNlKDAsIC0yKTsgLy8gUmVtb3ZlIHRyYWlsaW5nIGNvbW1hIGFuZCBzcGFjZVxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGFyZyA9IGFyZ3VtZW50c1tpXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYXJncy5wdXNoKGFyZyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB3YXJuKG1zZyArICdcXG5Bcmd1bWVudHM6ICcgKyBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmdzKS5qb2luKCcnKSArICdcXG4nICsgKG5ldyBFcnJvcigpKS5zdGFjayk7XG4gICAgICAgICAgICBmaXJzdFRpbWUgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZm4uYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICB9LCBmbik7XG59XG5cbnZhciBkZXByZWNhdGlvbnMgPSB7fTtcblxuZnVuY3Rpb24gZGVwcmVjYXRlU2ltcGxlKG5hbWUsIG1zZykge1xuICAgIGlmIChob29rcy5kZXByZWNhdGlvbkhhbmRsZXIgIT0gbnVsbCkge1xuICAgICAgICBob29rcy5kZXByZWNhdGlvbkhhbmRsZXIobmFtZSwgbXNnKTtcbiAgICB9XG4gICAgaWYgKCFkZXByZWNhdGlvbnNbbmFtZV0pIHtcbiAgICAgICAgd2Fybihtc2cpO1xuICAgICAgICBkZXByZWNhdGlvbnNbbmFtZV0gPSB0cnVlO1xuICAgIH1cbn1cblxuaG9va3Muc3VwcHJlc3NEZXByZWNhdGlvbldhcm5pbmdzID0gZmFsc2U7XG5ob29rcy5kZXByZWNhdGlvbkhhbmRsZXIgPSBudWxsO1xuXG5mdW5jdGlvbiBpc0Z1bmN0aW9uKGlucHV0KSB7XG4gICAgcmV0dXJuIGlucHV0IGluc3RhbmNlb2YgRnVuY3Rpb24gfHwgT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGlucHV0KSA9PT0gJ1tvYmplY3QgRnVuY3Rpb25dJztcbn1cblxuZnVuY3Rpb24gc2V0IChjb25maWcpIHtcbiAgICB2YXIgcHJvcCwgaTtcbiAgICBmb3IgKGkgaW4gY29uZmlnKSB7XG4gICAgICAgIHByb3AgPSBjb25maWdbaV07XG4gICAgICAgIGlmIChpc0Z1bmN0aW9uKHByb3ApKSB7XG4gICAgICAgICAgICB0aGlzW2ldID0gcHJvcDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXNbJ18nICsgaV0gPSBwcm9wO1xuICAgICAgICB9XG4gICAgfVxuICAgIHRoaXMuX2NvbmZpZyA9IGNvbmZpZztcbiAgICAvLyBMZW5pZW50IG9yZGluYWwgcGFyc2luZyBhY2NlcHRzIGp1c3QgYSBudW1iZXIgaW4gYWRkaXRpb24gdG9cbiAgICAvLyBudW1iZXIgKyAocG9zc2libHkpIHN0dWZmIGNvbWluZyBmcm9tIF9vcmRpbmFsUGFyc2VMZW5pZW50LlxuICAgIHRoaXMuX29yZGluYWxQYXJzZUxlbmllbnQgPSBuZXcgUmVnRXhwKHRoaXMuX29yZGluYWxQYXJzZS5zb3VyY2UgKyAnfCcgKyAoL1xcZHsxLDJ9Lykuc291cmNlKTtcbn1cblxuZnVuY3Rpb24gbWVyZ2VDb25maWdzKHBhcmVudENvbmZpZywgY2hpbGRDb25maWcpIHtcbiAgICB2YXIgcmVzID0gZXh0ZW5kKHt9LCBwYXJlbnRDb25maWcpLCBwcm9wO1xuICAgIGZvciAocHJvcCBpbiBjaGlsZENvbmZpZykge1xuICAgICAgICBpZiAoaGFzT3duUHJvcChjaGlsZENvbmZpZywgcHJvcCkpIHtcbiAgICAgICAgICAgIGlmIChpc09iamVjdChwYXJlbnRDb25maWdbcHJvcF0pICYmIGlzT2JqZWN0KGNoaWxkQ29uZmlnW3Byb3BdKSkge1xuICAgICAgICAgICAgICAgIHJlc1twcm9wXSA9IHt9O1xuICAgICAgICAgICAgICAgIGV4dGVuZChyZXNbcHJvcF0sIHBhcmVudENvbmZpZ1twcm9wXSk7XG4gICAgICAgICAgICAgICAgZXh0ZW5kKHJlc1twcm9wXSwgY2hpbGRDb25maWdbcHJvcF0pO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChjaGlsZENvbmZpZ1twcm9wXSAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgcmVzW3Byb3BdID0gY2hpbGRDb25maWdbcHJvcF07XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGRlbGV0ZSByZXNbcHJvcF07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgZm9yIChwcm9wIGluIHBhcmVudENvbmZpZykge1xuICAgICAgICBpZiAoaGFzT3duUHJvcChwYXJlbnRDb25maWcsIHByb3ApICYmXG4gICAgICAgICAgICAgICAgIWhhc093blByb3AoY2hpbGRDb25maWcsIHByb3ApICYmXG4gICAgICAgICAgICAgICAgaXNPYmplY3QocGFyZW50Q29uZmlnW3Byb3BdKSkge1xuICAgICAgICAgICAgLy8gbWFrZSBzdXJlIGNoYW5nZXMgdG8gcHJvcGVydGllcyBkb24ndCBtb2RpZnkgcGFyZW50IGNvbmZpZ1xuICAgICAgICAgICAgcmVzW3Byb3BdID0gZXh0ZW5kKHt9LCByZXNbcHJvcF0pO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiByZXM7XG59XG5cbmZ1bmN0aW9uIExvY2FsZShjb25maWcpIHtcbiAgICBpZiAoY29uZmlnICE9IG51bGwpIHtcbiAgICAgICAgdGhpcy5zZXQoY29uZmlnKTtcbiAgICB9XG59XG5cbnZhciBrZXlzO1xuXG5pZiAoT2JqZWN0LmtleXMpIHtcbiAgICBrZXlzID0gT2JqZWN0LmtleXM7XG59IGVsc2Uge1xuICAgIGtleXMgPSBmdW5jdGlvbiAob2JqKSB7XG4gICAgICAgIHZhciBpLCByZXMgPSBbXTtcbiAgICAgICAgZm9yIChpIGluIG9iaikge1xuICAgICAgICAgICAgaWYgKGhhc093blByb3Aob2JqLCBpKSkge1xuICAgICAgICAgICAgICAgIHJlcy5wdXNoKGkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXM7XG4gICAgfTtcbn1cblxudmFyIGtleXMkMSA9IGtleXM7XG5cbnZhciBkZWZhdWx0Q2FsZW5kYXIgPSB7XG4gICAgc2FtZURheSA6ICdbVG9kYXkgYXRdIExUJyxcbiAgICBuZXh0RGF5IDogJ1tUb21vcnJvdyBhdF0gTFQnLFxuICAgIG5leHRXZWVrIDogJ2RkZGQgW2F0XSBMVCcsXG4gICAgbGFzdERheSA6ICdbWWVzdGVyZGF5IGF0XSBMVCcsXG4gICAgbGFzdFdlZWsgOiAnW0xhc3RdIGRkZGQgW2F0XSBMVCcsXG4gICAgc2FtZUVsc2UgOiAnTCdcbn07XG5cbmZ1bmN0aW9uIGNhbGVuZGFyIChrZXksIG1vbSwgbm93KSB7XG4gICAgdmFyIG91dHB1dCA9IHRoaXMuX2NhbGVuZGFyW2tleV0gfHwgdGhpcy5fY2FsZW5kYXJbJ3NhbWVFbHNlJ107XG4gICAgcmV0dXJuIGlzRnVuY3Rpb24ob3V0cHV0KSA/IG91dHB1dC5jYWxsKG1vbSwgbm93KSA6IG91dHB1dDtcbn1cblxudmFyIGRlZmF1bHRMb25nRGF0ZUZvcm1hdCA9IHtcbiAgICBMVFMgIDogJ2g6bW06c3MgQScsXG4gICAgTFQgICA6ICdoOm1tIEEnLFxuICAgIEwgICAgOiAnTU0vREQvWVlZWScsXG4gICAgTEwgICA6ICdNTU1NIEQsIFlZWVknLFxuICAgIExMTCAgOiAnTU1NTSBELCBZWVlZIGg6bW0gQScsXG4gICAgTExMTCA6ICdkZGRkLCBNTU1NIEQsIFlZWVkgaDptbSBBJ1xufTtcblxuZnVuY3Rpb24gbG9uZ0RhdGVGb3JtYXQgKGtleSkge1xuICAgIHZhciBmb3JtYXQgPSB0aGlzLl9sb25nRGF0ZUZvcm1hdFtrZXldLFxuICAgICAgICBmb3JtYXRVcHBlciA9IHRoaXMuX2xvbmdEYXRlRm9ybWF0W2tleS50b1VwcGVyQ2FzZSgpXTtcblxuICAgIGlmIChmb3JtYXQgfHwgIWZvcm1hdFVwcGVyKSB7XG4gICAgICAgIHJldHVybiBmb3JtYXQ7XG4gICAgfVxuXG4gICAgdGhpcy5fbG9uZ0RhdGVGb3JtYXRba2V5XSA9IGZvcm1hdFVwcGVyLnJlcGxhY2UoL01NTU18TU18RER8ZGRkZC9nLCBmdW5jdGlvbiAodmFsKSB7XG4gICAgICAgIHJldHVybiB2YWwuc2xpY2UoMSk7XG4gICAgfSk7XG5cbiAgICByZXR1cm4gdGhpcy5fbG9uZ0RhdGVGb3JtYXRba2V5XTtcbn1cblxudmFyIGRlZmF1bHRJbnZhbGlkRGF0ZSA9ICdJbnZhbGlkIGRhdGUnO1xuXG5mdW5jdGlvbiBpbnZhbGlkRGF0ZSAoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2ludmFsaWREYXRlO1xufVxuXG52YXIgZGVmYXVsdE9yZGluYWwgPSAnJWQnO1xudmFyIGRlZmF1bHRPcmRpbmFsUGFyc2UgPSAvXFxkezEsMn0vO1xuXG5mdW5jdGlvbiBvcmRpbmFsIChudW1iZXIpIHtcbiAgICByZXR1cm4gdGhpcy5fb3JkaW5hbC5yZXBsYWNlKCclZCcsIG51bWJlcik7XG59XG5cbnZhciBkZWZhdWx0UmVsYXRpdmVUaW1lID0ge1xuICAgIGZ1dHVyZSA6ICdpbiAlcycsXG4gICAgcGFzdCAgIDogJyVzIGFnbycsXG4gICAgcyAgOiAnYSBmZXcgc2Vjb25kcycsXG4gICAgbSAgOiAnYSBtaW51dGUnLFxuICAgIG1tIDogJyVkIG1pbnV0ZXMnLFxuICAgIGggIDogJ2FuIGhvdXInLFxuICAgIGhoIDogJyVkIGhvdXJzJyxcbiAgICBkICA6ICdhIGRheScsXG4gICAgZGQgOiAnJWQgZGF5cycsXG4gICAgTSAgOiAnYSBtb250aCcsXG4gICAgTU0gOiAnJWQgbW9udGhzJyxcbiAgICB5ICA6ICdhIHllYXInLFxuICAgIHl5IDogJyVkIHllYXJzJ1xufTtcblxuZnVuY3Rpb24gcmVsYXRpdmVUaW1lIChudW1iZXIsIHdpdGhvdXRTdWZmaXgsIHN0cmluZywgaXNGdXR1cmUpIHtcbiAgICB2YXIgb3V0cHV0ID0gdGhpcy5fcmVsYXRpdmVUaW1lW3N0cmluZ107XG4gICAgcmV0dXJuIChpc0Z1bmN0aW9uKG91dHB1dCkpID9cbiAgICAgICAgb3V0cHV0KG51bWJlciwgd2l0aG91dFN1ZmZpeCwgc3RyaW5nLCBpc0Z1dHVyZSkgOlxuICAgICAgICBvdXRwdXQucmVwbGFjZSgvJWQvaSwgbnVtYmVyKTtcbn1cblxuZnVuY3Rpb24gcGFzdEZ1dHVyZSAoZGlmZiwgb3V0cHV0KSB7XG4gICAgdmFyIGZvcm1hdCA9IHRoaXMuX3JlbGF0aXZlVGltZVtkaWZmID4gMCA/ICdmdXR1cmUnIDogJ3Bhc3QnXTtcbiAgICByZXR1cm4gaXNGdW5jdGlvbihmb3JtYXQpID8gZm9ybWF0KG91dHB1dCkgOiBmb3JtYXQucmVwbGFjZSgvJXMvaSwgb3V0cHV0KTtcbn1cblxudmFyIGFsaWFzZXMgPSB7fTtcblxuZnVuY3Rpb24gYWRkVW5pdEFsaWFzICh1bml0LCBzaG9ydGhhbmQpIHtcbiAgICB2YXIgbG93ZXJDYXNlID0gdW5pdC50b0xvd2VyQ2FzZSgpO1xuICAgIGFsaWFzZXNbbG93ZXJDYXNlXSA9IGFsaWFzZXNbbG93ZXJDYXNlICsgJ3MnXSA9IGFsaWFzZXNbc2hvcnRoYW5kXSA9IHVuaXQ7XG59XG5cbmZ1bmN0aW9uIG5vcm1hbGl6ZVVuaXRzKHVuaXRzKSB7XG4gICAgcmV0dXJuIHR5cGVvZiB1bml0cyA9PT0gJ3N0cmluZycgPyBhbGlhc2VzW3VuaXRzXSB8fCBhbGlhc2VzW3VuaXRzLnRvTG93ZXJDYXNlKCldIDogdW5kZWZpbmVkO1xufVxuXG5mdW5jdGlvbiBub3JtYWxpemVPYmplY3RVbml0cyhpbnB1dE9iamVjdCkge1xuICAgIHZhciBub3JtYWxpemVkSW5wdXQgPSB7fSxcbiAgICAgICAgbm9ybWFsaXplZFByb3AsXG4gICAgICAgIHByb3A7XG5cbiAgICBmb3IgKHByb3AgaW4gaW5wdXRPYmplY3QpIHtcbiAgICAgICAgaWYgKGhhc093blByb3AoaW5wdXRPYmplY3QsIHByb3ApKSB7XG4gICAgICAgICAgICBub3JtYWxpemVkUHJvcCA9IG5vcm1hbGl6ZVVuaXRzKHByb3ApO1xuICAgICAgICAgICAgaWYgKG5vcm1hbGl6ZWRQcm9wKSB7XG4gICAgICAgICAgICAgICAgbm9ybWFsaXplZElucHV0W25vcm1hbGl6ZWRQcm9wXSA9IGlucHV0T2JqZWN0W3Byb3BdO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIG5vcm1hbGl6ZWRJbnB1dDtcbn1cblxudmFyIHByaW9yaXRpZXMgPSB7fTtcblxuZnVuY3Rpb24gYWRkVW5pdFByaW9yaXR5KHVuaXQsIHByaW9yaXR5KSB7XG4gICAgcHJpb3JpdGllc1t1bml0XSA9IHByaW9yaXR5O1xufVxuXG5mdW5jdGlvbiBnZXRQcmlvcml0aXplZFVuaXRzKHVuaXRzT2JqKSB7XG4gICAgdmFyIHVuaXRzID0gW107XG4gICAgZm9yICh2YXIgdSBpbiB1bml0c09iaikge1xuICAgICAgICB1bml0cy5wdXNoKHt1bml0OiB1LCBwcmlvcml0eTogcHJpb3JpdGllc1t1XX0pO1xuICAgIH1cbiAgICB1bml0cy5zb3J0KGZ1bmN0aW9uIChhLCBiKSB7XG4gICAgICAgIHJldHVybiBhLnByaW9yaXR5IC0gYi5wcmlvcml0eTtcbiAgICB9KTtcbiAgICByZXR1cm4gdW5pdHM7XG59XG5cbmZ1bmN0aW9uIG1ha2VHZXRTZXQgKHVuaXQsIGtlZXBUaW1lKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICBpZiAodmFsdWUgIT0gbnVsbCkge1xuICAgICAgICAgICAgc2V0JDEodGhpcywgdW5pdCwgdmFsdWUpO1xuICAgICAgICAgICAgaG9va3MudXBkYXRlT2Zmc2V0KHRoaXMsIGtlZXBUaW1lKTtcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIGdldCh0aGlzLCB1bml0KTtcbiAgICAgICAgfVxuICAgIH07XG59XG5cbmZ1bmN0aW9uIGdldCAobW9tLCB1bml0KSB7XG4gICAgcmV0dXJuIG1vbS5pc1ZhbGlkKCkgP1xuICAgICAgICBtb20uX2RbJ2dldCcgKyAobW9tLl9pc1VUQyA/ICdVVEMnIDogJycpICsgdW5pdF0oKSA6IE5hTjtcbn1cblxuZnVuY3Rpb24gc2V0JDEgKG1vbSwgdW5pdCwgdmFsdWUpIHtcbiAgICBpZiAobW9tLmlzVmFsaWQoKSkge1xuICAgICAgICBtb20uX2RbJ3NldCcgKyAobW9tLl9pc1VUQyA/ICdVVEMnIDogJycpICsgdW5pdF0odmFsdWUpO1xuICAgIH1cbn1cblxuLy8gTU9NRU5UU1xuXG5mdW5jdGlvbiBzdHJpbmdHZXQgKHVuaXRzKSB7XG4gICAgdW5pdHMgPSBub3JtYWxpemVVbml0cyh1bml0cyk7XG4gICAgaWYgKGlzRnVuY3Rpb24odGhpc1t1bml0c10pKSB7XG4gICAgICAgIHJldHVybiB0aGlzW3VuaXRzXSgpO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcztcbn1cblxuXG5mdW5jdGlvbiBzdHJpbmdTZXQgKHVuaXRzLCB2YWx1ZSkge1xuICAgIGlmICh0eXBlb2YgdW5pdHMgPT09ICdvYmplY3QnKSB7XG4gICAgICAgIHVuaXRzID0gbm9ybWFsaXplT2JqZWN0VW5pdHModW5pdHMpO1xuICAgICAgICB2YXIgcHJpb3JpdGl6ZWQgPSBnZXRQcmlvcml0aXplZFVuaXRzKHVuaXRzKTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBwcmlvcml0aXplZC5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdGhpc1twcmlvcml0aXplZFtpXS51bml0XSh1bml0c1twcmlvcml0aXplZFtpXS51bml0XSk7XG4gICAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgICB1bml0cyA9IG5vcm1hbGl6ZVVuaXRzKHVuaXRzKTtcbiAgICAgICAgaWYgKGlzRnVuY3Rpb24odGhpc1t1bml0c10pKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpc1t1bml0c10odmFsdWUpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiB0aGlzO1xufVxuXG5mdW5jdGlvbiB6ZXJvRmlsbChudW1iZXIsIHRhcmdldExlbmd0aCwgZm9yY2VTaWduKSB7XG4gICAgdmFyIGFic051bWJlciA9ICcnICsgTWF0aC5hYnMobnVtYmVyKSxcbiAgICAgICAgemVyb3NUb0ZpbGwgPSB0YXJnZXRMZW5ndGggLSBhYnNOdW1iZXIubGVuZ3RoLFxuICAgICAgICBzaWduID0gbnVtYmVyID49IDA7XG4gICAgcmV0dXJuIChzaWduID8gKGZvcmNlU2lnbiA/ICcrJyA6ICcnKSA6ICctJykgK1xuICAgICAgICBNYXRoLnBvdygxMCwgTWF0aC5tYXgoMCwgemVyb3NUb0ZpbGwpKS50b1N0cmluZygpLnN1YnN0cigxKSArIGFic051bWJlcjtcbn1cblxudmFyIGZvcm1hdHRpbmdUb2tlbnMgPSAvKFxcW1teXFxbXSpcXF0pfChcXFxcKT8oW0hoXW1tKHNzKT98TW98TU0/TT9NP3xEb3xERERvfEREP0Q/RD98ZGRkP2Q/fGRvP3x3W298d10/fFdbb3xXXT98UW8/fFlZWVlZWXxZWVlZWXxZWVlZfFlZfGdnKGdnZz8pP3xHRyhHR0c/KT98ZXxFfGF8QXxoaD98SEg/fGtrP3xtbT98c3M/fFN7MSw5fXx4fFh8eno/fFpaP3wuKS9nO1xuXG52YXIgbG9jYWxGb3JtYXR0aW5nVG9rZW5zID0gLyhcXFtbXlxcW10qXFxdKXwoXFxcXCk/KExUU3xMVHxMTD9MP0w/fGx7MSw0fSkvZztcblxudmFyIGZvcm1hdEZ1bmN0aW9ucyA9IHt9O1xuXG52YXIgZm9ybWF0VG9rZW5GdW5jdGlvbnMgPSB7fTtcblxuLy8gdG9rZW46ICAgICdNJ1xuLy8gcGFkZGVkOiAgIFsnTU0nLCAyXVxuLy8gb3JkaW5hbDogICdNbydcbi8vIGNhbGxiYWNrOiBmdW5jdGlvbiAoKSB7IHRoaXMubW9udGgoKSArIDEgfVxuZnVuY3Rpb24gYWRkRm9ybWF0VG9rZW4gKHRva2VuLCBwYWRkZWQsIG9yZGluYWwsIGNhbGxiYWNrKSB7XG4gICAgdmFyIGZ1bmMgPSBjYWxsYmFjaztcbiAgICBpZiAodHlwZW9mIGNhbGxiYWNrID09PSAnc3RyaW5nJykge1xuICAgICAgICBmdW5jID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXNbY2FsbGJhY2tdKCk7XG4gICAgICAgIH07XG4gICAgfVxuICAgIGlmICh0b2tlbikge1xuICAgICAgICBmb3JtYXRUb2tlbkZ1bmN0aW9uc1t0b2tlbl0gPSBmdW5jO1xuICAgIH1cbiAgICBpZiAocGFkZGVkKSB7XG4gICAgICAgIGZvcm1hdFRva2VuRnVuY3Rpb25zW3BhZGRlZFswXV0gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gemVyb0ZpbGwoZnVuYy5hcHBseSh0aGlzLCBhcmd1bWVudHMpLCBwYWRkZWRbMV0sIHBhZGRlZFsyXSk7XG4gICAgICAgIH07XG4gICAgfVxuICAgIGlmIChvcmRpbmFsKSB7XG4gICAgICAgIGZvcm1hdFRva2VuRnVuY3Rpb25zW29yZGluYWxdID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMubG9jYWxlRGF0YSgpLm9yZGluYWwoZnVuYy5hcHBseSh0aGlzLCBhcmd1bWVudHMpLCB0b2tlbik7XG4gICAgICAgIH07XG4gICAgfVxufVxuXG5mdW5jdGlvbiByZW1vdmVGb3JtYXR0aW5nVG9rZW5zKGlucHV0KSB7XG4gICAgaWYgKGlucHV0Lm1hdGNoKC9cXFtbXFxzXFxTXS8pKSB7XG4gICAgICAgIHJldHVybiBpbnB1dC5yZXBsYWNlKC9eXFxbfFxcXSQvZywgJycpO1xuICAgIH1cbiAgICByZXR1cm4gaW5wdXQucmVwbGFjZSgvXFxcXC9nLCAnJyk7XG59XG5cbmZ1bmN0aW9uIG1ha2VGb3JtYXRGdW5jdGlvbihmb3JtYXQpIHtcbiAgICB2YXIgYXJyYXkgPSBmb3JtYXQubWF0Y2goZm9ybWF0dGluZ1Rva2VucyksIGksIGxlbmd0aDtcblxuICAgIGZvciAoaSA9IDAsIGxlbmd0aCA9IGFycmF5Lmxlbmd0aDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGlmIChmb3JtYXRUb2tlbkZ1bmN0aW9uc1thcnJheVtpXV0pIHtcbiAgICAgICAgICAgIGFycmF5W2ldID0gZm9ybWF0VG9rZW5GdW5jdGlvbnNbYXJyYXlbaV1dO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgYXJyYXlbaV0gPSByZW1vdmVGb3JtYXR0aW5nVG9rZW5zKGFycmF5W2ldKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBmdW5jdGlvbiAobW9tKSB7XG4gICAgICAgIHZhciBvdXRwdXQgPSAnJywgaTtcbiAgICAgICAgZm9yIChpID0gMDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBvdXRwdXQgKz0gYXJyYXlbaV0gaW5zdGFuY2VvZiBGdW5jdGlvbiA/IGFycmF5W2ldLmNhbGwobW9tLCBmb3JtYXQpIDogYXJyYXlbaV07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG91dHB1dDtcbiAgICB9O1xufVxuXG4vLyBmb3JtYXQgZGF0ZSB1c2luZyBuYXRpdmUgZGF0ZSBvYmplY3RcbmZ1bmN0aW9uIGZvcm1hdE1vbWVudChtLCBmb3JtYXQpIHtcbiAgICBpZiAoIW0uaXNWYWxpZCgpKSB7XG4gICAgICAgIHJldHVybiBtLmxvY2FsZURhdGEoKS5pbnZhbGlkRGF0ZSgpO1xuICAgIH1cblxuICAgIGZvcm1hdCA9IGV4cGFuZEZvcm1hdChmb3JtYXQsIG0ubG9jYWxlRGF0YSgpKTtcbiAgICBmb3JtYXRGdW5jdGlvbnNbZm9ybWF0XSA9IGZvcm1hdEZ1bmN0aW9uc1tmb3JtYXRdIHx8IG1ha2VGb3JtYXRGdW5jdGlvbihmb3JtYXQpO1xuXG4gICAgcmV0dXJuIGZvcm1hdEZ1bmN0aW9uc1tmb3JtYXRdKG0pO1xufVxuXG5mdW5jdGlvbiBleHBhbmRGb3JtYXQoZm9ybWF0LCBsb2NhbGUpIHtcbiAgICB2YXIgaSA9IDU7XG5cbiAgICBmdW5jdGlvbiByZXBsYWNlTG9uZ0RhdGVGb3JtYXRUb2tlbnMoaW5wdXQpIHtcbiAgICAgICAgcmV0dXJuIGxvY2FsZS5sb25nRGF0ZUZvcm1hdChpbnB1dCkgfHwgaW5wdXQ7XG4gICAgfVxuXG4gICAgbG9jYWxGb3JtYXR0aW5nVG9rZW5zLmxhc3RJbmRleCA9IDA7XG4gICAgd2hpbGUgKGkgPj0gMCAmJiBsb2NhbEZvcm1hdHRpbmdUb2tlbnMudGVzdChmb3JtYXQpKSB7XG4gICAgICAgIGZvcm1hdCA9IGZvcm1hdC5yZXBsYWNlKGxvY2FsRm9ybWF0dGluZ1Rva2VucywgcmVwbGFjZUxvbmdEYXRlRm9ybWF0VG9rZW5zKTtcbiAgICAgICAgbG9jYWxGb3JtYXR0aW5nVG9rZW5zLmxhc3RJbmRleCA9IDA7XG4gICAgICAgIGkgLT0gMTtcbiAgICB9XG5cbiAgICByZXR1cm4gZm9ybWF0O1xufVxuXG52YXIgbWF0Y2gxICAgICAgICAgPSAvXFxkLzsgICAgICAgICAgICAvLyAgICAgICAwIC0gOVxudmFyIG1hdGNoMiAgICAgICAgID0gL1xcZFxcZC87ICAgICAgICAgIC8vICAgICAgMDAgLSA5OVxudmFyIG1hdGNoMyAgICAgICAgID0gL1xcZHszfS87ICAgICAgICAgLy8gICAgIDAwMCAtIDk5OVxudmFyIG1hdGNoNCAgICAgICAgID0gL1xcZHs0fS87ICAgICAgICAgLy8gICAgMDAwMCAtIDk5OTlcbnZhciBtYXRjaDYgICAgICAgICA9IC9bKy1dP1xcZHs2fS87ICAgIC8vIC05OTk5OTkgLSA5OTk5OTlcbnZhciBtYXRjaDF0bzIgICAgICA9IC9cXGRcXGQ/LzsgICAgICAgICAvLyAgICAgICAwIC0gOTlcbnZhciBtYXRjaDN0bzQgICAgICA9IC9cXGRcXGRcXGRcXGQ/LzsgICAgIC8vICAgICA5OTkgLSA5OTk5XG52YXIgbWF0Y2g1dG82ICAgICAgPSAvXFxkXFxkXFxkXFxkXFxkXFxkPy87IC8vICAgOTk5OTkgLSA5OTk5OTlcbnZhciBtYXRjaDF0bzMgICAgICA9IC9cXGR7MSwzfS87ICAgICAgIC8vICAgICAgIDAgLSA5OTlcbnZhciBtYXRjaDF0bzQgICAgICA9IC9cXGR7MSw0fS87ICAgICAgIC8vICAgICAgIDAgLSA5OTk5XG52YXIgbWF0Y2gxdG82ICAgICAgPSAvWystXT9cXGR7MSw2fS87ICAvLyAtOTk5OTk5IC0gOTk5OTk5XG5cbnZhciBtYXRjaFVuc2lnbmVkICA9IC9cXGQrLzsgICAgICAgICAgIC8vICAgICAgIDAgLSBpbmZcbnZhciBtYXRjaFNpZ25lZCAgICA9IC9bKy1dP1xcZCsvOyAgICAgIC8vICAgIC1pbmYgLSBpbmZcblxudmFyIG1hdGNoT2Zmc2V0ICAgID0gL1p8WystXVxcZFxcZDo/XFxkXFxkL2dpOyAvLyArMDA6MDAgLTAwOjAwICswMDAwIC0wMDAwIG9yIFpcbnZhciBtYXRjaFNob3J0T2Zmc2V0ID0gL1p8WystXVxcZFxcZCg/Ojo/XFxkXFxkKT8vZ2k7IC8vICswMCAtMDAgKzAwOjAwIC0wMDowMCArMDAwMCAtMDAwMCBvciBaXG5cbnZhciBtYXRjaFRpbWVzdGFtcCA9IC9bKy1dP1xcZCsoXFwuXFxkezEsM30pPy87IC8vIDEyMzQ1Njc4OSAxMjM0NTY3ODkuMTIzXG5cbi8vIGFueSB3b3JkIChvciB0d28pIGNoYXJhY3RlcnMgb3IgbnVtYmVycyBpbmNsdWRpbmcgdHdvL3RocmVlIHdvcmQgbW9udGggaW4gYXJhYmljLlxuLy8gaW5jbHVkZXMgc2NvdHRpc2ggZ2FlbGljIHR3byB3b3JkIGFuZCBoeXBoZW5hdGVkIG1vbnRoc1xudmFyIG1hdGNoV29yZCA9IC9bMC05XSpbJ2EtelxcdTAwQTAtXFx1MDVGRlxcdTA3MDAtXFx1RDdGRlxcdUY5MDAtXFx1RkRDRlxcdUZERjAtXFx1RkZFRl0rfFtcXHUwNjAwLVxcdTA2RkZcXC9dKyhcXHMqP1tcXHUwNjAwLVxcdTA2RkZdKyl7MSwyfS9pO1xuXG5cbnZhciByZWdleGVzID0ge307XG5cbmZ1bmN0aW9uIGFkZFJlZ2V4VG9rZW4gKHRva2VuLCByZWdleCwgc3RyaWN0UmVnZXgpIHtcbiAgICByZWdleGVzW3Rva2VuXSA9IGlzRnVuY3Rpb24ocmVnZXgpID8gcmVnZXggOiBmdW5jdGlvbiAoaXNTdHJpY3QsIGxvY2FsZURhdGEpIHtcbiAgICAgICAgcmV0dXJuIChpc1N0cmljdCAmJiBzdHJpY3RSZWdleCkgPyBzdHJpY3RSZWdleCA6IHJlZ2V4O1xuICAgIH07XG59XG5cbmZ1bmN0aW9uIGdldFBhcnNlUmVnZXhGb3JUb2tlbiAodG9rZW4sIGNvbmZpZykge1xuICAgIGlmICghaGFzT3duUHJvcChyZWdleGVzLCB0b2tlbikpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBSZWdFeHAodW5lc2NhcGVGb3JtYXQodG9rZW4pKTtcbiAgICB9XG5cbiAgICByZXR1cm4gcmVnZXhlc1t0b2tlbl0oY29uZmlnLl9zdHJpY3QsIGNvbmZpZy5fbG9jYWxlKTtcbn1cblxuLy8gQ29kZSBmcm9tIGh0dHA6Ly9zdGFja292ZXJmbG93LmNvbS9xdWVzdGlvbnMvMzU2MTQ5My9pcy10aGVyZS1hLXJlZ2V4cC1lc2NhcGUtZnVuY3Rpb24taW4tamF2YXNjcmlwdFxuZnVuY3Rpb24gdW5lc2NhcGVGb3JtYXQocykge1xuICAgIHJldHVybiByZWdleEVzY2FwZShzLnJlcGxhY2UoJ1xcXFwnLCAnJykucmVwbGFjZSgvXFxcXChcXFspfFxcXFwoXFxdKXxcXFsoW15cXF1cXFtdKilcXF18XFxcXCguKS9nLCBmdW5jdGlvbiAobWF0Y2hlZCwgcDEsIHAyLCBwMywgcDQpIHtcbiAgICAgICAgcmV0dXJuIHAxIHx8IHAyIHx8IHAzIHx8IHA0O1xuICAgIH0pKTtcbn1cblxuZnVuY3Rpb24gcmVnZXhFc2NhcGUocykge1xuICAgIHJldHVybiBzLnJlcGxhY2UoL1stXFwvXFxcXF4kKis/LigpfFtcXF17fV0vZywgJ1xcXFwkJicpO1xufVxuXG52YXIgdG9rZW5zID0ge307XG5cbmZ1bmN0aW9uIGFkZFBhcnNlVG9rZW4gKHRva2VuLCBjYWxsYmFjaykge1xuICAgIHZhciBpLCBmdW5jID0gY2FsbGJhY2s7XG4gICAgaWYgKHR5cGVvZiB0b2tlbiA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgdG9rZW4gPSBbdG9rZW5dO1xuICAgIH1cbiAgICBpZiAoaXNOdW1iZXIoY2FsbGJhY2spKSB7XG4gICAgICAgIGZ1bmMgPSBmdW5jdGlvbiAoaW5wdXQsIGFycmF5KSB7XG4gICAgICAgICAgICBhcnJheVtjYWxsYmFja10gPSB0b0ludChpbnB1dCk7XG4gICAgICAgIH07XG4gICAgfVxuICAgIGZvciAoaSA9IDA7IGkgPCB0b2tlbi5sZW5ndGg7IGkrKykge1xuICAgICAgICB0b2tlbnNbdG9rZW5baV1dID0gZnVuYztcbiAgICB9XG59XG5cbmZ1bmN0aW9uIGFkZFdlZWtQYXJzZVRva2VuICh0b2tlbiwgY2FsbGJhY2spIHtcbiAgICBhZGRQYXJzZVRva2VuKHRva2VuLCBmdW5jdGlvbiAoaW5wdXQsIGFycmF5LCBjb25maWcsIHRva2VuKSB7XG4gICAgICAgIGNvbmZpZy5fdyA9IGNvbmZpZy5fdyB8fCB7fTtcbiAgICAgICAgY2FsbGJhY2soaW5wdXQsIGNvbmZpZy5fdywgY29uZmlnLCB0b2tlbik7XG4gICAgfSk7XG59XG5cbmZ1bmN0aW9uIGFkZFRpbWVUb0FycmF5RnJvbVRva2VuKHRva2VuLCBpbnB1dCwgY29uZmlnKSB7XG4gICAgaWYgKGlucHV0ICE9IG51bGwgJiYgaGFzT3duUHJvcCh0b2tlbnMsIHRva2VuKSkge1xuICAgICAgICB0b2tlbnNbdG9rZW5dKGlucHV0LCBjb25maWcuX2EsIGNvbmZpZywgdG9rZW4pO1xuICAgIH1cbn1cblxudmFyIFlFQVIgPSAwO1xudmFyIE1PTlRIID0gMTtcbnZhciBEQVRFID0gMjtcbnZhciBIT1VSID0gMztcbnZhciBNSU5VVEUgPSA0O1xudmFyIFNFQ09ORCA9IDU7XG52YXIgTUlMTElTRUNPTkQgPSA2O1xudmFyIFdFRUsgPSA3O1xudmFyIFdFRUtEQVkgPSA4O1xuXG52YXIgaW5kZXhPZjtcblxuaWYgKEFycmF5LnByb3RvdHlwZS5pbmRleE9mKSB7XG4gICAgaW5kZXhPZiA9IEFycmF5LnByb3RvdHlwZS5pbmRleE9mO1xufSBlbHNlIHtcbiAgICBpbmRleE9mID0gZnVuY3Rpb24gKG8pIHtcbiAgICAgICAgLy8gSSBrbm93XG4gICAgICAgIHZhciBpO1xuICAgICAgICBmb3IgKGkgPSAwOyBpIDwgdGhpcy5sZW5ndGg7ICsraSkge1xuICAgICAgICAgICAgaWYgKHRoaXNbaV0gPT09IG8pIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gaTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gLTE7XG4gICAgfTtcbn1cblxudmFyIGluZGV4T2YkMSA9IGluZGV4T2Y7XG5cbmZ1bmN0aW9uIGRheXNJbk1vbnRoKHllYXIsIG1vbnRoKSB7XG4gICAgcmV0dXJuIG5ldyBEYXRlKERhdGUuVVRDKHllYXIsIG1vbnRoICsgMSwgMCkpLmdldFVUQ0RhdGUoKTtcbn1cblxuLy8gRk9STUFUVElOR1xuXG5hZGRGb3JtYXRUb2tlbignTScsIFsnTU0nLCAyXSwgJ01vJywgZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB0aGlzLm1vbnRoKCkgKyAxO1xufSk7XG5cbmFkZEZvcm1hdFRva2VuKCdNTU0nLCAwLCAwLCBmdW5jdGlvbiAoZm9ybWF0KSB7XG4gICAgcmV0dXJuIHRoaXMubG9jYWxlRGF0YSgpLm1vbnRoc1Nob3J0KHRoaXMsIGZvcm1hdCk7XG59KTtcblxuYWRkRm9ybWF0VG9rZW4oJ01NTU0nLCAwLCAwLCBmdW5jdGlvbiAoZm9ybWF0KSB7XG4gICAgcmV0dXJuIHRoaXMubG9jYWxlRGF0YSgpLm1vbnRocyh0aGlzLCBmb3JtYXQpO1xufSk7XG5cbi8vIEFMSUFTRVNcblxuYWRkVW5pdEFsaWFzKCdtb250aCcsICdNJyk7XG5cbi8vIFBSSU9SSVRZXG5cbmFkZFVuaXRQcmlvcml0eSgnbW9udGgnLCA4KTtcblxuLy8gUEFSU0lOR1xuXG5hZGRSZWdleFRva2VuKCdNJywgICAgbWF0Y2gxdG8yKTtcbmFkZFJlZ2V4VG9rZW4oJ01NJywgICBtYXRjaDF0bzIsIG1hdGNoMik7XG5hZGRSZWdleFRva2VuKCdNTU0nLCAgZnVuY3Rpb24gKGlzU3RyaWN0LCBsb2NhbGUpIHtcbiAgICByZXR1cm4gbG9jYWxlLm1vbnRoc1Nob3J0UmVnZXgoaXNTdHJpY3QpO1xufSk7XG5hZGRSZWdleFRva2VuKCdNTU1NJywgZnVuY3Rpb24gKGlzU3RyaWN0LCBsb2NhbGUpIHtcbiAgICByZXR1cm4gbG9jYWxlLm1vbnRoc1JlZ2V4KGlzU3RyaWN0KTtcbn0pO1xuXG5hZGRQYXJzZVRva2VuKFsnTScsICdNTSddLCBmdW5jdGlvbiAoaW5wdXQsIGFycmF5KSB7XG4gICAgYXJyYXlbTU9OVEhdID0gdG9JbnQoaW5wdXQpIC0gMTtcbn0pO1xuXG5hZGRQYXJzZVRva2VuKFsnTU1NJywgJ01NTU0nXSwgZnVuY3Rpb24gKGlucHV0LCBhcnJheSwgY29uZmlnLCB0b2tlbikge1xuICAgIHZhciBtb250aCA9IGNvbmZpZy5fbG9jYWxlLm1vbnRoc1BhcnNlKGlucHV0LCB0b2tlbiwgY29uZmlnLl9zdHJpY3QpO1xuICAgIC8vIGlmIHdlIGRpZG4ndCBmaW5kIGEgbW9udGggbmFtZSwgbWFyayB0aGUgZGF0ZSBhcyBpbnZhbGlkLlxuICAgIGlmIChtb250aCAhPSBudWxsKSB7XG4gICAgICAgIGFycmF5W01PTlRIXSA9IG1vbnRoO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIGdldFBhcnNpbmdGbGFncyhjb25maWcpLmludmFsaWRNb250aCA9IGlucHV0O1xuICAgIH1cbn0pO1xuXG4vLyBMT0NBTEVTXG5cbnZhciBNT05USFNfSU5fRk9STUFUID0gL0Rbb0RdPyhcXFtbXlxcW1xcXV0qXFxdfFxccykrTU1NTT8vO1xudmFyIGRlZmF1bHRMb2NhbGVNb250aHMgPSAnSmFudWFyeV9GZWJydWFyeV9NYXJjaF9BcHJpbF9NYXlfSnVuZV9KdWx5X0F1Z3VzdF9TZXB0ZW1iZXJfT2N0b2Jlcl9Ob3ZlbWJlcl9EZWNlbWJlcicuc3BsaXQoJ18nKTtcbmZ1bmN0aW9uIGxvY2FsZU1vbnRocyAobSwgZm9ybWF0KSB7XG4gICAgaWYgKCFtKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9tb250aHM7XG4gICAgfVxuICAgIHJldHVybiBpc0FycmF5KHRoaXMuX21vbnRocykgPyB0aGlzLl9tb250aHNbbS5tb250aCgpXSA6XG4gICAgICAgIHRoaXMuX21vbnRoc1sodGhpcy5fbW9udGhzLmlzRm9ybWF0IHx8IE1PTlRIU19JTl9GT1JNQVQpLnRlc3QoZm9ybWF0KSA/ICdmb3JtYXQnIDogJ3N0YW5kYWxvbmUnXVttLm1vbnRoKCldO1xufVxuXG52YXIgZGVmYXVsdExvY2FsZU1vbnRoc1Nob3J0ID0gJ0phbl9GZWJfTWFyX0Fwcl9NYXlfSnVuX0p1bF9BdWdfU2VwX09jdF9Ob3ZfRGVjJy5zcGxpdCgnXycpO1xuZnVuY3Rpb24gbG9jYWxlTW9udGhzU2hvcnQgKG0sIGZvcm1hdCkge1xuICAgIGlmICghbSkge1xuICAgICAgICByZXR1cm4gdGhpcy5fbW9udGhzU2hvcnQ7XG4gICAgfVxuICAgIHJldHVybiBpc0FycmF5KHRoaXMuX21vbnRoc1Nob3J0KSA/IHRoaXMuX21vbnRoc1Nob3J0W20ubW9udGgoKV0gOlxuICAgICAgICB0aGlzLl9tb250aHNTaG9ydFtNT05USFNfSU5fRk9STUFULnRlc3QoZm9ybWF0KSA/ICdmb3JtYXQnIDogJ3N0YW5kYWxvbmUnXVttLm1vbnRoKCldO1xufVxuXG5mdW5jdGlvbiBoYW5kbGVTdHJpY3RQYXJzZShtb250aE5hbWUsIGZvcm1hdCwgc3RyaWN0KSB7XG4gICAgdmFyIGksIGlpLCBtb20sIGxsYyA9IG1vbnRoTmFtZS50b0xvY2FsZUxvd2VyQ2FzZSgpO1xuICAgIGlmICghdGhpcy5fbW9udGhzUGFyc2UpIHtcbiAgICAgICAgLy8gdGhpcyBpcyBub3QgdXNlZFxuICAgICAgICB0aGlzLl9tb250aHNQYXJzZSA9IFtdO1xuICAgICAgICB0aGlzLl9sb25nTW9udGhzUGFyc2UgPSBbXTtcbiAgICAgICAgdGhpcy5fc2hvcnRNb250aHNQYXJzZSA9IFtdO1xuICAgICAgICBmb3IgKGkgPSAwOyBpIDwgMTI7ICsraSkge1xuICAgICAgICAgICAgbW9tID0gY3JlYXRlVVRDKFsyMDAwLCBpXSk7XG4gICAgICAgICAgICB0aGlzLl9zaG9ydE1vbnRoc1BhcnNlW2ldID0gdGhpcy5tb250aHNTaG9ydChtb20sICcnKS50b0xvY2FsZUxvd2VyQ2FzZSgpO1xuICAgICAgICAgICAgdGhpcy5fbG9uZ01vbnRoc1BhcnNlW2ldID0gdGhpcy5tb250aHMobW9tLCAnJykudG9Mb2NhbGVMb3dlckNhc2UoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGlmIChzdHJpY3QpIHtcbiAgICAgICAgaWYgKGZvcm1hdCA9PT0gJ01NTScpIHtcbiAgICAgICAgICAgIGlpID0gaW5kZXhPZiQxLmNhbGwodGhpcy5fc2hvcnRNb250aHNQYXJzZSwgbGxjKTtcbiAgICAgICAgICAgIHJldHVybiBpaSAhPT0gLTEgPyBpaSA6IG51bGw7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpaSA9IGluZGV4T2YkMS5jYWxsKHRoaXMuX2xvbmdNb250aHNQYXJzZSwgbGxjKTtcbiAgICAgICAgICAgIHJldHVybiBpaSAhPT0gLTEgPyBpaSA6IG51bGw7XG4gICAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgICBpZiAoZm9ybWF0ID09PSAnTU1NJykge1xuICAgICAgICAgICAgaWkgPSBpbmRleE9mJDEuY2FsbCh0aGlzLl9zaG9ydE1vbnRoc1BhcnNlLCBsbGMpO1xuICAgICAgICAgICAgaWYgKGlpICE9PSAtMSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBpaTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlpID0gaW5kZXhPZiQxLmNhbGwodGhpcy5fbG9uZ01vbnRoc1BhcnNlLCBsbGMpO1xuICAgICAgICAgICAgcmV0dXJuIGlpICE9PSAtMSA/IGlpIDogbnVsbDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGlpID0gaW5kZXhPZiQxLmNhbGwodGhpcy5fbG9uZ01vbnRoc1BhcnNlLCBsbGMpO1xuICAgICAgICAgICAgaWYgKGlpICE9PSAtMSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBpaTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlpID0gaW5kZXhPZiQxLmNhbGwodGhpcy5fc2hvcnRNb250aHNQYXJzZSwgbGxjKTtcbiAgICAgICAgICAgIHJldHVybiBpaSAhPT0gLTEgPyBpaSA6IG51bGw7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbmZ1bmN0aW9uIGxvY2FsZU1vbnRoc1BhcnNlIChtb250aE5hbWUsIGZvcm1hdCwgc3RyaWN0KSB7XG4gICAgdmFyIGksIG1vbSwgcmVnZXg7XG5cbiAgICBpZiAodGhpcy5fbW9udGhzUGFyc2VFeGFjdCkge1xuICAgICAgICByZXR1cm4gaGFuZGxlU3RyaWN0UGFyc2UuY2FsbCh0aGlzLCBtb250aE5hbWUsIGZvcm1hdCwgc3RyaWN0KTtcbiAgICB9XG5cbiAgICBpZiAoIXRoaXMuX21vbnRoc1BhcnNlKSB7XG4gICAgICAgIHRoaXMuX21vbnRoc1BhcnNlID0gW107XG4gICAgICAgIHRoaXMuX2xvbmdNb250aHNQYXJzZSA9IFtdO1xuICAgICAgICB0aGlzLl9zaG9ydE1vbnRoc1BhcnNlID0gW107XG4gICAgfVxuXG4gICAgLy8gVE9ETzogYWRkIHNvcnRpbmdcbiAgICAvLyBTb3J0aW5nIG1ha2VzIHN1cmUgaWYgb25lIG1vbnRoIChvciBhYmJyKSBpcyBhIHByZWZpeCBvZiBhbm90aGVyXG4gICAgLy8gc2VlIHNvcnRpbmcgaW4gY29tcHV0ZU1vbnRoc1BhcnNlXG4gICAgZm9yIChpID0gMDsgaSA8IDEyOyBpKyspIHtcbiAgICAgICAgLy8gbWFrZSB0aGUgcmVnZXggaWYgd2UgZG9uJ3QgaGF2ZSBpdCBhbHJlYWR5XG4gICAgICAgIG1vbSA9IGNyZWF0ZVVUQyhbMjAwMCwgaV0pO1xuICAgICAgICBpZiAoc3RyaWN0ICYmICF0aGlzLl9sb25nTW9udGhzUGFyc2VbaV0pIHtcbiAgICAgICAgICAgIHRoaXMuX2xvbmdNb250aHNQYXJzZVtpXSA9IG5ldyBSZWdFeHAoJ14nICsgdGhpcy5tb250aHMobW9tLCAnJykucmVwbGFjZSgnLicsICcnKSArICckJywgJ2knKTtcbiAgICAgICAgICAgIHRoaXMuX3Nob3J0TW9udGhzUGFyc2VbaV0gPSBuZXcgUmVnRXhwKCdeJyArIHRoaXMubW9udGhzU2hvcnQobW9tLCAnJykucmVwbGFjZSgnLicsICcnKSArICckJywgJ2knKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIXN0cmljdCAmJiAhdGhpcy5fbW9udGhzUGFyc2VbaV0pIHtcbiAgICAgICAgICAgIHJlZ2V4ID0gJ14nICsgdGhpcy5tb250aHMobW9tLCAnJykgKyAnfF4nICsgdGhpcy5tb250aHNTaG9ydChtb20sICcnKTtcbiAgICAgICAgICAgIHRoaXMuX21vbnRoc1BhcnNlW2ldID0gbmV3IFJlZ0V4cChyZWdleC5yZXBsYWNlKCcuJywgJycpLCAnaScpO1xuICAgICAgICB9XG4gICAgICAgIC8vIHRlc3QgdGhlIHJlZ2V4XG4gICAgICAgIGlmIChzdHJpY3QgJiYgZm9ybWF0ID09PSAnTU1NTScgJiYgdGhpcy5fbG9uZ01vbnRoc1BhcnNlW2ldLnRlc3QobW9udGhOYW1lKSkge1xuICAgICAgICAgICAgcmV0dXJuIGk7XG4gICAgICAgIH0gZWxzZSBpZiAoc3RyaWN0ICYmIGZvcm1hdCA9PT0gJ01NTScgJiYgdGhpcy5fc2hvcnRNb250aHNQYXJzZVtpXS50ZXN0KG1vbnRoTmFtZSkpIHtcbiAgICAgICAgICAgIHJldHVybiBpO1xuICAgICAgICB9IGVsc2UgaWYgKCFzdHJpY3QgJiYgdGhpcy5fbW9udGhzUGFyc2VbaV0udGVzdChtb250aE5hbWUpKSB7XG4gICAgICAgICAgICByZXR1cm4gaTtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuLy8gTU9NRU5UU1xuXG5mdW5jdGlvbiBzZXRNb250aCAobW9tLCB2YWx1ZSkge1xuICAgIHZhciBkYXlPZk1vbnRoO1xuXG4gICAgaWYgKCFtb20uaXNWYWxpZCgpKSB7XG4gICAgICAgIC8vIE5vIG9wXG4gICAgICAgIHJldHVybiBtb207XG4gICAgfVxuXG4gICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgaWYgKC9eXFxkKyQvLnRlc3QodmFsdWUpKSB7XG4gICAgICAgICAgICB2YWx1ZSA9IHRvSW50KHZhbHVlKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHZhbHVlID0gbW9tLmxvY2FsZURhdGEoKS5tb250aHNQYXJzZSh2YWx1ZSk7XG4gICAgICAgICAgICAvLyBUT0RPOiBBbm90aGVyIHNpbGVudCBmYWlsdXJlP1xuICAgICAgICAgICAgaWYgKCFpc051bWJlcih2YWx1ZSkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbW9tO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgZGF5T2ZNb250aCA9IE1hdGgubWluKG1vbS5kYXRlKCksIGRheXNJbk1vbnRoKG1vbS55ZWFyKCksIHZhbHVlKSk7XG4gICAgbW9tLl9kWydzZXQnICsgKG1vbS5faXNVVEMgPyAnVVRDJyA6ICcnKSArICdNb250aCddKHZhbHVlLCBkYXlPZk1vbnRoKTtcbiAgICByZXR1cm4gbW9tO1xufVxuXG5mdW5jdGlvbiBnZXRTZXRNb250aCAodmFsdWUpIHtcbiAgICBpZiAodmFsdWUgIT0gbnVsbCkge1xuICAgICAgICBzZXRNb250aCh0aGlzLCB2YWx1ZSk7XG4gICAgICAgIGhvb2tzLnVwZGF0ZU9mZnNldCh0aGlzLCB0cnVlKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIGdldCh0aGlzLCAnTW9udGgnKTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIGdldERheXNJbk1vbnRoICgpIHtcbiAgICByZXR1cm4gZGF5c0luTW9udGgodGhpcy55ZWFyKCksIHRoaXMubW9udGgoKSk7XG59XG5cbnZhciBkZWZhdWx0TW9udGhzU2hvcnRSZWdleCA9IG1hdGNoV29yZDtcbmZ1bmN0aW9uIG1vbnRoc1Nob3J0UmVnZXggKGlzU3RyaWN0KSB7XG4gICAgaWYgKHRoaXMuX21vbnRoc1BhcnNlRXhhY3QpIHtcbiAgICAgICAgaWYgKCFoYXNPd25Qcm9wKHRoaXMsICdfbW9udGhzUmVnZXgnKSkge1xuICAgICAgICAgICAgY29tcHV0ZU1vbnRoc1BhcnNlLmNhbGwodGhpcyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGlzU3RyaWN0KSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fbW9udGhzU2hvcnRTdHJpY3RSZWdleDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9tb250aHNTaG9ydFJlZ2V4O1xuICAgICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgICAgaWYgKCFoYXNPd25Qcm9wKHRoaXMsICdfbW9udGhzU2hvcnRSZWdleCcpKSB7XG4gICAgICAgICAgICB0aGlzLl9tb250aHNTaG9ydFJlZ2V4ID0gZGVmYXVsdE1vbnRoc1Nob3J0UmVnZXg7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuX21vbnRoc1Nob3J0U3RyaWN0UmVnZXggJiYgaXNTdHJpY3QgP1xuICAgICAgICAgICAgdGhpcy5fbW9udGhzU2hvcnRTdHJpY3RSZWdleCA6IHRoaXMuX21vbnRoc1Nob3J0UmVnZXg7XG4gICAgfVxufVxuXG52YXIgZGVmYXVsdE1vbnRoc1JlZ2V4ID0gbWF0Y2hXb3JkO1xuZnVuY3Rpb24gbW9udGhzUmVnZXggKGlzU3RyaWN0KSB7XG4gICAgaWYgKHRoaXMuX21vbnRoc1BhcnNlRXhhY3QpIHtcbiAgICAgICAgaWYgKCFoYXNPd25Qcm9wKHRoaXMsICdfbW9udGhzUmVnZXgnKSkge1xuICAgICAgICAgICAgY29tcHV0ZU1vbnRoc1BhcnNlLmNhbGwodGhpcyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGlzU3RyaWN0KSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fbW9udGhzU3RyaWN0UmVnZXg7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fbW9udGhzUmVnZXg7XG4gICAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgICBpZiAoIWhhc093blByb3AodGhpcywgJ19tb250aHNSZWdleCcpKSB7XG4gICAgICAgICAgICB0aGlzLl9tb250aHNSZWdleCA9IGRlZmF1bHRNb250aHNSZWdleDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5fbW9udGhzU3RyaWN0UmVnZXggJiYgaXNTdHJpY3QgP1xuICAgICAgICAgICAgdGhpcy5fbW9udGhzU3RyaWN0UmVnZXggOiB0aGlzLl9tb250aHNSZWdleDtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIGNvbXB1dGVNb250aHNQYXJzZSAoKSB7XG4gICAgZnVuY3Rpb24gY21wTGVuUmV2KGEsIGIpIHtcbiAgICAgICAgcmV0dXJuIGIubGVuZ3RoIC0gYS5sZW5ndGg7XG4gICAgfVxuXG4gICAgdmFyIHNob3J0UGllY2VzID0gW10sIGxvbmdQaWVjZXMgPSBbXSwgbWl4ZWRQaWVjZXMgPSBbXSxcbiAgICAgICAgaSwgbW9tO1xuICAgIGZvciAoaSA9IDA7IGkgPCAxMjsgaSsrKSB7XG4gICAgICAgIC8vIG1ha2UgdGhlIHJlZ2V4IGlmIHdlIGRvbid0IGhhdmUgaXQgYWxyZWFkeVxuICAgICAgICBtb20gPSBjcmVhdGVVVEMoWzIwMDAsIGldKTtcbiAgICAgICAgc2hvcnRQaWVjZXMucHVzaCh0aGlzLm1vbnRoc1Nob3J0KG1vbSwgJycpKTtcbiAgICAgICAgbG9uZ1BpZWNlcy5wdXNoKHRoaXMubW9udGhzKG1vbSwgJycpKTtcbiAgICAgICAgbWl4ZWRQaWVjZXMucHVzaCh0aGlzLm1vbnRocyhtb20sICcnKSk7XG4gICAgICAgIG1peGVkUGllY2VzLnB1c2godGhpcy5tb250aHNTaG9ydChtb20sICcnKSk7XG4gICAgfVxuICAgIC8vIFNvcnRpbmcgbWFrZXMgc3VyZSBpZiBvbmUgbW9udGggKG9yIGFiYnIpIGlzIGEgcHJlZml4IG9mIGFub3RoZXIgaXRcbiAgICAvLyB3aWxsIG1hdGNoIHRoZSBsb25nZXIgcGllY2UuXG4gICAgc2hvcnRQaWVjZXMuc29ydChjbXBMZW5SZXYpO1xuICAgIGxvbmdQaWVjZXMuc29ydChjbXBMZW5SZXYpO1xuICAgIG1peGVkUGllY2VzLnNvcnQoY21wTGVuUmV2KTtcbiAgICBmb3IgKGkgPSAwOyBpIDwgMTI7IGkrKykge1xuICAgICAgICBzaG9ydFBpZWNlc1tpXSA9IHJlZ2V4RXNjYXBlKHNob3J0UGllY2VzW2ldKTtcbiAgICAgICAgbG9uZ1BpZWNlc1tpXSA9IHJlZ2V4RXNjYXBlKGxvbmdQaWVjZXNbaV0pO1xuICAgIH1cbiAgICBmb3IgKGkgPSAwOyBpIDwgMjQ7IGkrKykge1xuICAgICAgICBtaXhlZFBpZWNlc1tpXSA9IHJlZ2V4RXNjYXBlKG1peGVkUGllY2VzW2ldKTtcbiAgICB9XG5cbiAgICB0aGlzLl9tb250aHNSZWdleCA9IG5ldyBSZWdFeHAoJ14oJyArIG1peGVkUGllY2VzLmpvaW4oJ3wnKSArICcpJywgJ2knKTtcbiAgICB0aGlzLl9tb250aHNTaG9ydFJlZ2V4ID0gdGhpcy5fbW9udGhzUmVnZXg7XG4gICAgdGhpcy5fbW9udGhzU3RyaWN0UmVnZXggPSBuZXcgUmVnRXhwKCdeKCcgKyBsb25nUGllY2VzLmpvaW4oJ3wnKSArICcpJywgJ2knKTtcbiAgICB0aGlzLl9tb250aHNTaG9ydFN0cmljdFJlZ2V4ID0gbmV3IFJlZ0V4cCgnXignICsgc2hvcnRQaWVjZXMuam9pbignfCcpICsgJyknLCAnaScpO1xufVxuXG4vLyBGT1JNQVRUSU5HXG5cbmFkZEZvcm1hdFRva2VuKCdZJywgMCwgMCwgZnVuY3Rpb24gKCkge1xuICAgIHZhciB5ID0gdGhpcy55ZWFyKCk7XG4gICAgcmV0dXJuIHkgPD0gOTk5OSA/ICcnICsgeSA6ICcrJyArIHk7XG59KTtcblxuYWRkRm9ybWF0VG9rZW4oMCwgWydZWScsIDJdLCAwLCBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHRoaXMueWVhcigpICUgMTAwO1xufSk7XG5cbmFkZEZvcm1hdFRva2VuKDAsIFsnWVlZWScsICAgNF0sICAgICAgIDAsICd5ZWFyJyk7XG5hZGRGb3JtYXRUb2tlbigwLCBbJ1lZWVlZJywgIDVdLCAgICAgICAwLCAneWVhcicpO1xuYWRkRm9ybWF0VG9rZW4oMCwgWydZWVlZWVknLCA2LCB0cnVlXSwgMCwgJ3llYXInKTtcblxuLy8gQUxJQVNFU1xuXG5hZGRVbml0QWxpYXMoJ3llYXInLCAneScpO1xuXG4vLyBQUklPUklUSUVTXG5cbmFkZFVuaXRQcmlvcml0eSgneWVhcicsIDEpO1xuXG4vLyBQQVJTSU5HXG5cbmFkZFJlZ2V4VG9rZW4oJ1knLCAgICAgIG1hdGNoU2lnbmVkKTtcbmFkZFJlZ2V4VG9rZW4oJ1lZJywgICAgIG1hdGNoMXRvMiwgbWF0Y2gyKTtcbmFkZFJlZ2V4VG9rZW4oJ1lZWVknLCAgIG1hdGNoMXRvNCwgbWF0Y2g0KTtcbmFkZFJlZ2V4VG9rZW4oJ1lZWVlZJywgIG1hdGNoMXRvNiwgbWF0Y2g2KTtcbmFkZFJlZ2V4VG9rZW4oJ1lZWVlZWScsIG1hdGNoMXRvNiwgbWF0Y2g2KTtcblxuYWRkUGFyc2VUb2tlbihbJ1lZWVlZJywgJ1lZWVlZWSddLCBZRUFSKTtcbmFkZFBhcnNlVG9rZW4oJ1lZWVknLCBmdW5jdGlvbiAoaW5wdXQsIGFycmF5KSB7XG4gICAgYXJyYXlbWUVBUl0gPSBpbnB1dC5sZW5ndGggPT09IDIgPyBob29rcy5wYXJzZVR3b0RpZ2l0WWVhcihpbnB1dCkgOiB0b0ludChpbnB1dCk7XG59KTtcbmFkZFBhcnNlVG9rZW4oJ1lZJywgZnVuY3Rpb24gKGlucHV0LCBhcnJheSkge1xuICAgIGFycmF5W1lFQVJdID0gaG9va3MucGFyc2VUd29EaWdpdFllYXIoaW5wdXQpO1xufSk7XG5hZGRQYXJzZVRva2VuKCdZJywgZnVuY3Rpb24gKGlucHV0LCBhcnJheSkge1xuICAgIGFycmF5W1lFQVJdID0gcGFyc2VJbnQoaW5wdXQsIDEwKTtcbn0pO1xuXG4vLyBIRUxQRVJTXG5cbmZ1bmN0aW9uIGRheXNJblllYXIoeWVhcikge1xuICAgIHJldHVybiBpc0xlYXBZZWFyKHllYXIpID8gMzY2IDogMzY1O1xufVxuXG5mdW5jdGlvbiBpc0xlYXBZZWFyKHllYXIpIHtcbiAgICByZXR1cm4gKHllYXIgJSA0ID09PSAwICYmIHllYXIgJSAxMDAgIT09IDApIHx8IHllYXIgJSA0MDAgPT09IDA7XG59XG5cbi8vIEhPT0tTXG5cbmhvb2tzLnBhcnNlVHdvRGlnaXRZZWFyID0gZnVuY3Rpb24gKGlucHV0KSB7XG4gICAgcmV0dXJuIHRvSW50KGlucHV0KSArICh0b0ludChpbnB1dCkgPiA2OCA/IDE5MDAgOiAyMDAwKTtcbn07XG5cbi8vIE1PTUVOVFNcblxudmFyIGdldFNldFllYXIgPSBtYWtlR2V0U2V0KCdGdWxsWWVhcicsIHRydWUpO1xuXG5mdW5jdGlvbiBnZXRJc0xlYXBZZWFyICgpIHtcbiAgICByZXR1cm4gaXNMZWFwWWVhcih0aGlzLnllYXIoKSk7XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZURhdGUgKHksIG0sIGQsIGgsIE0sIHMsIG1zKSB7XG4gICAgLy9jYW4ndCBqdXN0IGFwcGx5KCkgdG8gY3JlYXRlIGEgZGF0ZTpcbiAgICAvL2h0dHA6Ly9zdGFja292ZXJmbG93LmNvbS9xdWVzdGlvbnMvMTgxMzQ4L2luc3RhbnRpYXRpbmctYS1qYXZhc2NyaXB0LW9iamVjdC1ieS1jYWxsaW5nLXByb3RvdHlwZS1jb25zdHJ1Y3Rvci1hcHBseVxuICAgIHZhciBkYXRlID0gbmV3IERhdGUoeSwgbSwgZCwgaCwgTSwgcywgbXMpO1xuXG4gICAgLy90aGUgZGF0ZSBjb25zdHJ1Y3RvciByZW1hcHMgeWVhcnMgMC05OSB0byAxOTAwLTE5OTlcbiAgICBpZiAoeSA8IDEwMCAmJiB5ID49IDAgJiYgaXNGaW5pdGUoZGF0ZS5nZXRGdWxsWWVhcigpKSkge1xuICAgICAgICBkYXRlLnNldEZ1bGxZZWFyKHkpO1xuICAgIH1cbiAgICByZXR1cm4gZGF0ZTtcbn1cblxuZnVuY3Rpb24gY3JlYXRlVVRDRGF0ZSAoeSkge1xuICAgIHZhciBkYXRlID0gbmV3IERhdGUoRGF0ZS5VVEMuYXBwbHkobnVsbCwgYXJndW1lbnRzKSk7XG5cbiAgICAvL3RoZSBEYXRlLlVUQyBmdW5jdGlvbiByZW1hcHMgeWVhcnMgMC05OSB0byAxOTAwLTE5OTlcbiAgICBpZiAoeSA8IDEwMCAmJiB5ID49IDAgJiYgaXNGaW5pdGUoZGF0ZS5nZXRVVENGdWxsWWVhcigpKSkge1xuICAgICAgICBkYXRlLnNldFVUQ0Z1bGxZZWFyKHkpO1xuICAgIH1cbiAgICByZXR1cm4gZGF0ZTtcbn1cblxuLy8gc3RhcnQtb2YtZmlyc3Qtd2VlayAtIHN0YXJ0LW9mLXllYXJcbmZ1bmN0aW9uIGZpcnN0V2Vla09mZnNldCh5ZWFyLCBkb3csIGRveSkge1xuICAgIHZhciAvLyBmaXJzdC13ZWVrIGRheSAtLSB3aGljaCBqYW51YXJ5IGlzIGFsd2F5cyBpbiB0aGUgZmlyc3Qgd2VlayAoNCBmb3IgaXNvLCAxIGZvciBvdGhlcilcbiAgICAgICAgZndkID0gNyArIGRvdyAtIGRveSxcbiAgICAgICAgLy8gZmlyc3Qtd2VlayBkYXkgbG9jYWwgd2Vla2RheSAtLSB3aGljaCBsb2NhbCB3ZWVrZGF5IGlzIGZ3ZFxuICAgICAgICBmd2RsdyA9ICg3ICsgY3JlYXRlVVRDRGF0ZSh5ZWFyLCAwLCBmd2QpLmdldFVUQ0RheSgpIC0gZG93KSAlIDc7XG5cbiAgICByZXR1cm4gLWZ3ZGx3ICsgZndkIC0gMTtcbn1cblxuLy9odHRwOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL0lTT193ZWVrX2RhdGUjQ2FsY3VsYXRpbmdfYV9kYXRlX2dpdmVuX3RoZV95ZWFyLjJDX3dlZWtfbnVtYmVyX2FuZF93ZWVrZGF5XG5mdW5jdGlvbiBkYXlPZlllYXJGcm9tV2Vla3MoeWVhciwgd2Vlaywgd2Vla2RheSwgZG93LCBkb3kpIHtcbiAgICB2YXIgbG9jYWxXZWVrZGF5ID0gKDcgKyB3ZWVrZGF5IC0gZG93KSAlIDcsXG4gICAgICAgIHdlZWtPZmZzZXQgPSBmaXJzdFdlZWtPZmZzZXQoeWVhciwgZG93LCBkb3kpLFxuICAgICAgICBkYXlPZlllYXIgPSAxICsgNyAqICh3ZWVrIC0gMSkgKyBsb2NhbFdlZWtkYXkgKyB3ZWVrT2Zmc2V0LFxuICAgICAgICByZXNZZWFyLCByZXNEYXlPZlllYXI7XG5cbiAgICBpZiAoZGF5T2ZZZWFyIDw9IDApIHtcbiAgICAgICAgcmVzWWVhciA9IHllYXIgLSAxO1xuICAgICAgICByZXNEYXlPZlllYXIgPSBkYXlzSW5ZZWFyKHJlc1llYXIpICsgZGF5T2ZZZWFyO1xuICAgIH0gZWxzZSBpZiAoZGF5T2ZZZWFyID4gZGF5c0luWWVhcih5ZWFyKSkge1xuICAgICAgICByZXNZZWFyID0geWVhciArIDE7XG4gICAgICAgIHJlc0RheU9mWWVhciA9IGRheU9mWWVhciAtIGRheXNJblllYXIoeWVhcik7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgcmVzWWVhciA9IHllYXI7XG4gICAgICAgIHJlc0RheU9mWWVhciA9IGRheU9mWWVhcjtcbiAgICB9XG5cbiAgICByZXR1cm4ge1xuICAgICAgICB5ZWFyOiByZXNZZWFyLFxuICAgICAgICBkYXlPZlllYXI6IHJlc0RheU9mWWVhclxuICAgIH07XG59XG5cbmZ1bmN0aW9uIHdlZWtPZlllYXIobW9tLCBkb3csIGRveSkge1xuICAgIHZhciB3ZWVrT2Zmc2V0ID0gZmlyc3RXZWVrT2Zmc2V0KG1vbS55ZWFyKCksIGRvdywgZG95KSxcbiAgICAgICAgd2VlayA9IE1hdGguZmxvb3IoKG1vbS5kYXlPZlllYXIoKSAtIHdlZWtPZmZzZXQgLSAxKSAvIDcpICsgMSxcbiAgICAgICAgcmVzV2VlaywgcmVzWWVhcjtcblxuICAgIGlmICh3ZWVrIDwgMSkge1xuICAgICAgICByZXNZZWFyID0gbW9tLnllYXIoKSAtIDE7XG4gICAgICAgIHJlc1dlZWsgPSB3ZWVrICsgd2Vla3NJblllYXIocmVzWWVhciwgZG93LCBkb3kpO1xuICAgIH0gZWxzZSBpZiAod2VlayA+IHdlZWtzSW5ZZWFyKG1vbS55ZWFyKCksIGRvdywgZG95KSkge1xuICAgICAgICByZXNXZWVrID0gd2VlayAtIHdlZWtzSW5ZZWFyKG1vbS55ZWFyKCksIGRvdywgZG95KTtcbiAgICAgICAgcmVzWWVhciA9IG1vbS55ZWFyKCkgKyAxO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHJlc1llYXIgPSBtb20ueWVhcigpO1xuICAgICAgICByZXNXZWVrID0gd2VlaztcbiAgICB9XG5cbiAgICByZXR1cm4ge1xuICAgICAgICB3ZWVrOiByZXNXZWVrLFxuICAgICAgICB5ZWFyOiByZXNZZWFyXG4gICAgfTtcbn1cblxuZnVuY3Rpb24gd2Vla3NJblllYXIoeWVhciwgZG93LCBkb3kpIHtcbiAgICB2YXIgd2Vla09mZnNldCA9IGZpcnN0V2Vla09mZnNldCh5ZWFyLCBkb3csIGRveSksXG4gICAgICAgIHdlZWtPZmZzZXROZXh0ID0gZmlyc3RXZWVrT2Zmc2V0KHllYXIgKyAxLCBkb3csIGRveSk7XG4gICAgcmV0dXJuIChkYXlzSW5ZZWFyKHllYXIpIC0gd2Vla09mZnNldCArIHdlZWtPZmZzZXROZXh0KSAvIDc7XG59XG5cbi8vIEZPUk1BVFRJTkdcblxuYWRkRm9ybWF0VG9rZW4oJ3cnLCBbJ3d3JywgMl0sICd3bycsICd3ZWVrJyk7XG5hZGRGb3JtYXRUb2tlbignVycsIFsnV1cnLCAyXSwgJ1dvJywgJ2lzb1dlZWsnKTtcblxuLy8gQUxJQVNFU1xuXG5hZGRVbml0QWxpYXMoJ3dlZWsnLCAndycpO1xuYWRkVW5pdEFsaWFzKCdpc29XZWVrJywgJ1cnKTtcblxuLy8gUFJJT1JJVElFU1xuXG5hZGRVbml0UHJpb3JpdHkoJ3dlZWsnLCA1KTtcbmFkZFVuaXRQcmlvcml0eSgnaXNvV2VlaycsIDUpO1xuXG4vLyBQQVJTSU5HXG5cbmFkZFJlZ2V4VG9rZW4oJ3cnLCAgbWF0Y2gxdG8yKTtcbmFkZFJlZ2V4VG9rZW4oJ3d3JywgbWF0Y2gxdG8yLCBtYXRjaDIpO1xuYWRkUmVnZXhUb2tlbignVycsICBtYXRjaDF0bzIpO1xuYWRkUmVnZXhUb2tlbignV1cnLCBtYXRjaDF0bzIsIG1hdGNoMik7XG5cbmFkZFdlZWtQYXJzZVRva2VuKFsndycsICd3dycsICdXJywgJ1dXJ10sIGZ1bmN0aW9uIChpbnB1dCwgd2VlaywgY29uZmlnLCB0b2tlbikge1xuICAgIHdlZWtbdG9rZW4uc3Vic3RyKDAsIDEpXSA9IHRvSW50KGlucHV0KTtcbn0pO1xuXG4vLyBIRUxQRVJTXG5cbi8vIExPQ0FMRVNcblxuZnVuY3Rpb24gbG9jYWxlV2VlayAobW9tKSB7XG4gICAgcmV0dXJuIHdlZWtPZlllYXIobW9tLCB0aGlzLl93ZWVrLmRvdywgdGhpcy5fd2Vlay5kb3kpLndlZWs7XG59XG5cbnZhciBkZWZhdWx0TG9jYWxlV2VlayA9IHtcbiAgICBkb3cgOiAwLCAvLyBTdW5kYXkgaXMgdGhlIGZpcnN0IGRheSBvZiB0aGUgd2Vlay5cbiAgICBkb3kgOiA2ICAvLyBUaGUgd2VlayB0aGF0IGNvbnRhaW5zIEphbiAxc3QgaXMgdGhlIGZpcnN0IHdlZWsgb2YgdGhlIHllYXIuXG59O1xuXG5mdW5jdGlvbiBsb2NhbGVGaXJzdERheU9mV2VlayAoKSB7XG4gICAgcmV0dXJuIHRoaXMuX3dlZWsuZG93O1xufVxuXG5mdW5jdGlvbiBsb2NhbGVGaXJzdERheU9mWWVhciAoKSB7XG4gICAgcmV0dXJuIHRoaXMuX3dlZWsuZG95O1xufVxuXG4vLyBNT01FTlRTXG5cbmZ1bmN0aW9uIGdldFNldFdlZWsgKGlucHV0KSB7XG4gICAgdmFyIHdlZWsgPSB0aGlzLmxvY2FsZURhdGEoKS53ZWVrKHRoaXMpO1xuICAgIHJldHVybiBpbnB1dCA9PSBudWxsID8gd2VlayA6IHRoaXMuYWRkKChpbnB1dCAtIHdlZWspICogNywgJ2QnKTtcbn1cblxuZnVuY3Rpb24gZ2V0U2V0SVNPV2VlayAoaW5wdXQpIHtcbiAgICB2YXIgd2VlayA9IHdlZWtPZlllYXIodGhpcywgMSwgNCkud2VlaztcbiAgICByZXR1cm4gaW5wdXQgPT0gbnVsbCA/IHdlZWsgOiB0aGlzLmFkZCgoaW5wdXQgLSB3ZWVrKSAqIDcsICdkJyk7XG59XG5cbi8vIEZPUk1BVFRJTkdcblxuYWRkRm9ybWF0VG9rZW4oJ2QnLCAwLCAnZG8nLCAnZGF5Jyk7XG5cbmFkZEZvcm1hdFRva2VuKCdkZCcsIDAsIDAsIGZ1bmN0aW9uIChmb3JtYXQpIHtcbiAgICByZXR1cm4gdGhpcy5sb2NhbGVEYXRhKCkud2Vla2RheXNNaW4odGhpcywgZm9ybWF0KTtcbn0pO1xuXG5hZGRGb3JtYXRUb2tlbignZGRkJywgMCwgMCwgZnVuY3Rpb24gKGZvcm1hdCkge1xuICAgIHJldHVybiB0aGlzLmxvY2FsZURhdGEoKS53ZWVrZGF5c1Nob3J0KHRoaXMsIGZvcm1hdCk7XG59KTtcblxuYWRkRm9ybWF0VG9rZW4oJ2RkZGQnLCAwLCAwLCBmdW5jdGlvbiAoZm9ybWF0KSB7XG4gICAgcmV0dXJuIHRoaXMubG9jYWxlRGF0YSgpLndlZWtkYXlzKHRoaXMsIGZvcm1hdCk7XG59KTtcblxuYWRkRm9ybWF0VG9rZW4oJ2UnLCAwLCAwLCAnd2Vla2RheScpO1xuYWRkRm9ybWF0VG9rZW4oJ0UnLCAwLCAwLCAnaXNvV2Vla2RheScpO1xuXG4vLyBBTElBU0VTXG5cbmFkZFVuaXRBbGlhcygnZGF5JywgJ2QnKTtcbmFkZFVuaXRBbGlhcygnd2Vla2RheScsICdlJyk7XG5hZGRVbml0QWxpYXMoJ2lzb1dlZWtkYXknLCAnRScpO1xuXG4vLyBQUklPUklUWVxuYWRkVW5pdFByaW9yaXR5KCdkYXknLCAxMSk7XG5hZGRVbml0UHJpb3JpdHkoJ3dlZWtkYXknLCAxMSk7XG5hZGRVbml0UHJpb3JpdHkoJ2lzb1dlZWtkYXknLCAxMSk7XG5cbi8vIFBBUlNJTkdcblxuYWRkUmVnZXhUb2tlbignZCcsICAgIG1hdGNoMXRvMik7XG5hZGRSZWdleFRva2VuKCdlJywgICAgbWF0Y2gxdG8yKTtcbmFkZFJlZ2V4VG9rZW4oJ0UnLCAgICBtYXRjaDF0bzIpO1xuYWRkUmVnZXhUb2tlbignZGQnLCAgIGZ1bmN0aW9uIChpc1N0cmljdCwgbG9jYWxlKSB7XG4gICAgcmV0dXJuIGxvY2FsZS53ZWVrZGF5c01pblJlZ2V4KGlzU3RyaWN0KTtcbn0pO1xuYWRkUmVnZXhUb2tlbignZGRkJywgICBmdW5jdGlvbiAoaXNTdHJpY3QsIGxvY2FsZSkge1xuICAgIHJldHVybiBsb2NhbGUud2Vla2RheXNTaG9ydFJlZ2V4KGlzU3RyaWN0KTtcbn0pO1xuYWRkUmVnZXhUb2tlbignZGRkZCcsICAgZnVuY3Rpb24gKGlzU3RyaWN0LCBsb2NhbGUpIHtcbiAgICByZXR1cm4gbG9jYWxlLndlZWtkYXlzUmVnZXgoaXNTdHJpY3QpO1xufSk7XG5cbmFkZFdlZWtQYXJzZVRva2VuKFsnZGQnLCAnZGRkJywgJ2RkZGQnXSwgZnVuY3Rpb24gKGlucHV0LCB3ZWVrLCBjb25maWcsIHRva2VuKSB7XG4gICAgdmFyIHdlZWtkYXkgPSBjb25maWcuX2xvY2FsZS53ZWVrZGF5c1BhcnNlKGlucHV0LCB0b2tlbiwgY29uZmlnLl9zdHJpY3QpO1xuICAgIC8vIGlmIHdlIGRpZG4ndCBnZXQgYSB3ZWVrZGF5IG5hbWUsIG1hcmsgdGhlIGRhdGUgYXMgaW52YWxpZFxuICAgIGlmICh3ZWVrZGF5ICE9IG51bGwpIHtcbiAgICAgICAgd2Vlay5kID0gd2Vla2RheTtcbiAgICB9IGVsc2Uge1xuICAgICAgICBnZXRQYXJzaW5nRmxhZ3MoY29uZmlnKS5pbnZhbGlkV2Vla2RheSA9IGlucHV0O1xuICAgIH1cbn0pO1xuXG5hZGRXZWVrUGFyc2VUb2tlbihbJ2QnLCAnZScsICdFJ10sIGZ1bmN0aW9uIChpbnB1dCwgd2VlaywgY29uZmlnLCB0b2tlbikge1xuICAgIHdlZWtbdG9rZW5dID0gdG9JbnQoaW5wdXQpO1xufSk7XG5cbi8vIEhFTFBFUlNcblxuZnVuY3Rpb24gcGFyc2VXZWVrZGF5KGlucHV0LCBsb2NhbGUpIHtcbiAgICBpZiAodHlwZW9mIGlucHV0ICE9PSAnc3RyaW5nJykge1xuICAgICAgICByZXR1cm4gaW5wdXQ7XG4gICAgfVxuXG4gICAgaWYgKCFpc05hTihpbnB1dCkpIHtcbiAgICAgICAgcmV0dXJuIHBhcnNlSW50KGlucHV0LCAxMCk7XG4gICAgfVxuXG4gICAgaW5wdXQgPSBsb2NhbGUud2Vla2RheXNQYXJzZShpbnB1dCk7XG4gICAgaWYgKHR5cGVvZiBpbnB1dCA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgcmV0dXJuIGlucHV0O1xuICAgIH1cblxuICAgIHJldHVybiBudWxsO1xufVxuXG5mdW5jdGlvbiBwYXJzZUlzb1dlZWtkYXkoaW5wdXQsIGxvY2FsZSkge1xuICAgIGlmICh0eXBlb2YgaW5wdXQgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgIHJldHVybiBsb2NhbGUud2Vla2RheXNQYXJzZShpbnB1dCkgJSA3IHx8IDc7XG4gICAgfVxuICAgIHJldHVybiBpc05hTihpbnB1dCkgPyBudWxsIDogaW5wdXQ7XG59XG5cbi8vIExPQ0FMRVNcblxudmFyIGRlZmF1bHRMb2NhbGVXZWVrZGF5cyA9ICdTdW5kYXlfTW9uZGF5X1R1ZXNkYXlfV2VkbmVzZGF5X1RodXJzZGF5X0ZyaWRheV9TYXR1cmRheScuc3BsaXQoJ18nKTtcbmZ1bmN0aW9uIGxvY2FsZVdlZWtkYXlzIChtLCBmb3JtYXQpIHtcbiAgICBpZiAoIW0pIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3dlZWtkYXlzO1xuICAgIH1cbiAgICByZXR1cm4gaXNBcnJheSh0aGlzLl93ZWVrZGF5cykgPyB0aGlzLl93ZWVrZGF5c1ttLmRheSgpXSA6XG4gICAgICAgIHRoaXMuX3dlZWtkYXlzW3RoaXMuX3dlZWtkYXlzLmlzRm9ybWF0LnRlc3QoZm9ybWF0KSA/ICdmb3JtYXQnIDogJ3N0YW5kYWxvbmUnXVttLmRheSgpXTtcbn1cblxudmFyIGRlZmF1bHRMb2NhbGVXZWVrZGF5c1Nob3J0ID0gJ1N1bl9Nb25fVHVlX1dlZF9UaHVfRnJpX1NhdCcuc3BsaXQoJ18nKTtcbmZ1bmN0aW9uIGxvY2FsZVdlZWtkYXlzU2hvcnQgKG0pIHtcbiAgICByZXR1cm4gKG0pID8gdGhpcy5fd2Vla2RheXNTaG9ydFttLmRheSgpXSA6IHRoaXMuX3dlZWtkYXlzU2hvcnQ7XG59XG5cbnZhciBkZWZhdWx0TG9jYWxlV2Vla2RheXNNaW4gPSAnU3VfTW9fVHVfV2VfVGhfRnJfU2EnLnNwbGl0KCdfJyk7XG5mdW5jdGlvbiBsb2NhbGVXZWVrZGF5c01pbiAobSkge1xuICAgIHJldHVybiAobSkgPyB0aGlzLl93ZWVrZGF5c01pblttLmRheSgpXSA6IHRoaXMuX3dlZWtkYXlzTWluO1xufVxuXG5mdW5jdGlvbiBoYW5kbGVTdHJpY3RQYXJzZSQxKHdlZWtkYXlOYW1lLCBmb3JtYXQsIHN0cmljdCkge1xuICAgIHZhciBpLCBpaSwgbW9tLCBsbGMgPSB3ZWVrZGF5TmFtZS50b0xvY2FsZUxvd2VyQ2FzZSgpO1xuICAgIGlmICghdGhpcy5fd2Vla2RheXNQYXJzZSkge1xuICAgICAgICB0aGlzLl93ZWVrZGF5c1BhcnNlID0gW107XG4gICAgICAgIHRoaXMuX3Nob3J0V2Vla2RheXNQYXJzZSA9IFtdO1xuICAgICAgICB0aGlzLl9taW5XZWVrZGF5c1BhcnNlID0gW107XG5cbiAgICAgICAgZm9yIChpID0gMDsgaSA8IDc7ICsraSkge1xuICAgICAgICAgICAgbW9tID0gY3JlYXRlVVRDKFsyMDAwLCAxXSkuZGF5KGkpO1xuICAgICAgICAgICAgdGhpcy5fbWluV2Vla2RheXNQYXJzZVtpXSA9IHRoaXMud2Vla2RheXNNaW4obW9tLCAnJykudG9Mb2NhbGVMb3dlckNhc2UoKTtcbiAgICAgICAgICAgIHRoaXMuX3Nob3J0V2Vla2RheXNQYXJzZVtpXSA9IHRoaXMud2Vla2RheXNTaG9ydChtb20sICcnKS50b0xvY2FsZUxvd2VyQ2FzZSgpO1xuICAgICAgICAgICAgdGhpcy5fd2Vla2RheXNQYXJzZVtpXSA9IHRoaXMud2Vla2RheXMobW9tLCAnJykudG9Mb2NhbGVMb3dlckNhc2UoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGlmIChzdHJpY3QpIHtcbiAgICAgICAgaWYgKGZvcm1hdCA9PT0gJ2RkZGQnKSB7XG4gICAgICAgICAgICBpaSA9IGluZGV4T2YkMS5jYWxsKHRoaXMuX3dlZWtkYXlzUGFyc2UsIGxsYyk7XG4gICAgICAgICAgICByZXR1cm4gaWkgIT09IC0xID8gaWkgOiBudWxsO1xuICAgICAgICB9IGVsc2UgaWYgKGZvcm1hdCA9PT0gJ2RkZCcpIHtcbiAgICAgICAgICAgIGlpID0gaW5kZXhPZiQxLmNhbGwodGhpcy5fc2hvcnRXZWVrZGF5c1BhcnNlLCBsbGMpO1xuICAgICAgICAgICAgcmV0dXJuIGlpICE9PSAtMSA/IGlpIDogbnVsbDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGlpID0gaW5kZXhPZiQxLmNhbGwodGhpcy5fbWluV2Vla2RheXNQYXJzZSwgbGxjKTtcbiAgICAgICAgICAgIHJldHVybiBpaSAhPT0gLTEgPyBpaSA6IG51bGw7XG4gICAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgICBpZiAoZm9ybWF0ID09PSAnZGRkZCcpIHtcbiAgICAgICAgICAgIGlpID0gaW5kZXhPZiQxLmNhbGwodGhpcy5fd2Vla2RheXNQYXJzZSwgbGxjKTtcbiAgICAgICAgICAgIGlmIChpaSAhPT0gLTEpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gaWk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpaSA9IGluZGV4T2YkMS5jYWxsKHRoaXMuX3Nob3J0V2Vla2RheXNQYXJzZSwgbGxjKTtcbiAgICAgICAgICAgIGlmIChpaSAhPT0gLTEpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gaWk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpaSA9IGluZGV4T2YkMS5jYWxsKHRoaXMuX21pbldlZWtkYXlzUGFyc2UsIGxsYyk7XG4gICAgICAgICAgICByZXR1cm4gaWkgIT09IC0xID8gaWkgOiBudWxsO1xuICAgICAgICB9IGVsc2UgaWYgKGZvcm1hdCA9PT0gJ2RkZCcpIHtcbiAgICAgICAgICAgIGlpID0gaW5kZXhPZiQxLmNhbGwodGhpcy5fc2hvcnRXZWVrZGF5c1BhcnNlLCBsbGMpO1xuICAgICAgICAgICAgaWYgKGlpICE9PSAtMSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBpaTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlpID0gaW5kZXhPZiQxLmNhbGwodGhpcy5fd2Vla2RheXNQYXJzZSwgbGxjKTtcbiAgICAgICAgICAgIGlmIChpaSAhPT0gLTEpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gaWk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpaSA9IGluZGV4T2YkMS5jYWxsKHRoaXMuX21pbldlZWtkYXlzUGFyc2UsIGxsYyk7XG4gICAgICAgICAgICByZXR1cm4gaWkgIT09IC0xID8gaWkgOiBudWxsO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaWkgPSBpbmRleE9mJDEuY2FsbCh0aGlzLl9taW5XZWVrZGF5c1BhcnNlLCBsbGMpO1xuICAgICAgICAgICAgaWYgKGlpICE9PSAtMSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBpaTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlpID0gaW5kZXhPZiQxLmNhbGwodGhpcy5fd2Vla2RheXNQYXJzZSwgbGxjKTtcbiAgICAgICAgICAgIGlmIChpaSAhPT0gLTEpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gaWk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpaSA9IGluZGV4T2YkMS5jYWxsKHRoaXMuX3Nob3J0V2Vla2RheXNQYXJzZSwgbGxjKTtcbiAgICAgICAgICAgIHJldHVybiBpaSAhPT0gLTEgPyBpaSA6IG51bGw7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbmZ1bmN0aW9uIGxvY2FsZVdlZWtkYXlzUGFyc2UgKHdlZWtkYXlOYW1lLCBmb3JtYXQsIHN0cmljdCkge1xuICAgIHZhciBpLCBtb20sIHJlZ2V4O1xuXG4gICAgaWYgKHRoaXMuX3dlZWtkYXlzUGFyc2VFeGFjdCkge1xuICAgICAgICByZXR1cm4gaGFuZGxlU3RyaWN0UGFyc2UkMS5jYWxsKHRoaXMsIHdlZWtkYXlOYW1lLCBmb3JtYXQsIHN0cmljdCk7XG4gICAgfVxuXG4gICAgaWYgKCF0aGlzLl93ZWVrZGF5c1BhcnNlKSB7XG4gICAgICAgIHRoaXMuX3dlZWtkYXlzUGFyc2UgPSBbXTtcbiAgICAgICAgdGhpcy5fbWluV2Vla2RheXNQYXJzZSA9IFtdO1xuICAgICAgICB0aGlzLl9zaG9ydFdlZWtkYXlzUGFyc2UgPSBbXTtcbiAgICAgICAgdGhpcy5fZnVsbFdlZWtkYXlzUGFyc2UgPSBbXTtcbiAgICB9XG5cbiAgICBmb3IgKGkgPSAwOyBpIDwgNzsgaSsrKSB7XG4gICAgICAgIC8vIG1ha2UgdGhlIHJlZ2V4IGlmIHdlIGRvbid0IGhhdmUgaXQgYWxyZWFkeVxuXG4gICAgICAgIG1vbSA9IGNyZWF0ZVVUQyhbMjAwMCwgMV0pLmRheShpKTtcbiAgICAgICAgaWYgKHN0cmljdCAmJiAhdGhpcy5fZnVsbFdlZWtkYXlzUGFyc2VbaV0pIHtcbiAgICAgICAgICAgIHRoaXMuX2Z1bGxXZWVrZGF5c1BhcnNlW2ldID0gbmV3IFJlZ0V4cCgnXicgKyB0aGlzLndlZWtkYXlzKG1vbSwgJycpLnJlcGxhY2UoJy4nLCAnXFwuPycpICsgJyQnLCAnaScpO1xuICAgICAgICAgICAgdGhpcy5fc2hvcnRXZWVrZGF5c1BhcnNlW2ldID0gbmV3IFJlZ0V4cCgnXicgKyB0aGlzLndlZWtkYXlzU2hvcnQobW9tLCAnJykucmVwbGFjZSgnLicsICdcXC4/JykgKyAnJCcsICdpJyk7XG4gICAgICAgICAgICB0aGlzLl9taW5XZWVrZGF5c1BhcnNlW2ldID0gbmV3IFJlZ0V4cCgnXicgKyB0aGlzLndlZWtkYXlzTWluKG1vbSwgJycpLnJlcGxhY2UoJy4nLCAnXFwuPycpICsgJyQnLCAnaScpO1xuICAgICAgICB9XG4gICAgICAgIGlmICghdGhpcy5fd2Vla2RheXNQYXJzZVtpXSkge1xuICAgICAgICAgICAgcmVnZXggPSAnXicgKyB0aGlzLndlZWtkYXlzKG1vbSwgJycpICsgJ3xeJyArIHRoaXMud2Vla2RheXNTaG9ydChtb20sICcnKSArICd8XicgKyB0aGlzLndlZWtkYXlzTWluKG1vbSwgJycpO1xuICAgICAgICAgICAgdGhpcy5fd2Vla2RheXNQYXJzZVtpXSA9IG5ldyBSZWdFeHAocmVnZXgucmVwbGFjZSgnLicsICcnKSwgJ2knKTtcbiAgICAgICAgfVxuICAgICAgICAvLyB0ZXN0IHRoZSByZWdleFxuICAgICAgICBpZiAoc3RyaWN0ICYmIGZvcm1hdCA9PT0gJ2RkZGQnICYmIHRoaXMuX2Z1bGxXZWVrZGF5c1BhcnNlW2ldLnRlc3Qod2Vla2RheU5hbWUpKSB7XG4gICAgICAgICAgICByZXR1cm4gaTtcbiAgICAgICAgfSBlbHNlIGlmIChzdHJpY3QgJiYgZm9ybWF0ID09PSAnZGRkJyAmJiB0aGlzLl9zaG9ydFdlZWtkYXlzUGFyc2VbaV0udGVzdCh3ZWVrZGF5TmFtZSkpIHtcbiAgICAgICAgICAgIHJldHVybiBpO1xuICAgICAgICB9IGVsc2UgaWYgKHN0cmljdCAmJiBmb3JtYXQgPT09ICdkZCcgJiYgdGhpcy5fbWluV2Vla2RheXNQYXJzZVtpXS50ZXN0KHdlZWtkYXlOYW1lKSkge1xuICAgICAgICAgICAgcmV0dXJuIGk7XG4gICAgICAgIH0gZWxzZSBpZiAoIXN0cmljdCAmJiB0aGlzLl93ZWVrZGF5c1BhcnNlW2ldLnRlc3Qod2Vla2RheU5hbWUpKSB7XG4gICAgICAgICAgICByZXR1cm4gaTtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuLy8gTU9NRU5UU1xuXG5mdW5jdGlvbiBnZXRTZXREYXlPZldlZWsgKGlucHV0KSB7XG4gICAgaWYgKCF0aGlzLmlzVmFsaWQoKSkge1xuICAgICAgICByZXR1cm4gaW5wdXQgIT0gbnVsbCA/IHRoaXMgOiBOYU47XG4gICAgfVxuICAgIHZhciBkYXkgPSB0aGlzLl9pc1VUQyA/IHRoaXMuX2QuZ2V0VVRDRGF5KCkgOiB0aGlzLl9kLmdldERheSgpO1xuICAgIGlmIChpbnB1dCAhPSBudWxsKSB7XG4gICAgICAgIGlucHV0ID0gcGFyc2VXZWVrZGF5KGlucHV0LCB0aGlzLmxvY2FsZURhdGEoKSk7XG4gICAgICAgIHJldHVybiB0aGlzLmFkZChpbnB1dCAtIGRheSwgJ2QnKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gZGF5O1xuICAgIH1cbn1cblxuZnVuY3Rpb24gZ2V0U2V0TG9jYWxlRGF5T2ZXZWVrIChpbnB1dCkge1xuICAgIGlmICghdGhpcy5pc1ZhbGlkKCkpIHtcbiAgICAgICAgcmV0dXJuIGlucHV0ICE9IG51bGwgPyB0aGlzIDogTmFOO1xuICAgIH1cbiAgICB2YXIgd2Vla2RheSA9ICh0aGlzLmRheSgpICsgNyAtIHRoaXMubG9jYWxlRGF0YSgpLl93ZWVrLmRvdykgJSA3O1xuICAgIHJldHVybiBpbnB1dCA9PSBudWxsID8gd2Vla2RheSA6IHRoaXMuYWRkKGlucHV0IC0gd2Vla2RheSwgJ2QnKTtcbn1cblxuZnVuY3Rpb24gZ2V0U2V0SVNPRGF5T2ZXZWVrIChpbnB1dCkge1xuICAgIGlmICghdGhpcy5pc1ZhbGlkKCkpIHtcbiAgICAgICAgcmV0dXJuIGlucHV0ICE9IG51bGwgPyB0aGlzIDogTmFOO1xuICAgIH1cblxuICAgIC8vIGJlaGF2ZXMgdGhlIHNhbWUgYXMgbW9tZW50I2RheSBleGNlcHRcbiAgICAvLyBhcyBhIGdldHRlciwgcmV0dXJucyA3IGluc3RlYWQgb2YgMCAoMS03IHJhbmdlIGluc3RlYWQgb2YgMC02KVxuICAgIC8vIGFzIGEgc2V0dGVyLCBzdW5kYXkgc2hvdWxkIGJlbG9uZyB0byB0aGUgcHJldmlvdXMgd2Vlay5cblxuICAgIGlmIChpbnB1dCAhPSBudWxsKSB7XG4gICAgICAgIHZhciB3ZWVrZGF5ID0gcGFyc2VJc29XZWVrZGF5KGlucHV0LCB0aGlzLmxvY2FsZURhdGEoKSk7XG4gICAgICAgIHJldHVybiB0aGlzLmRheSh0aGlzLmRheSgpICUgNyA/IHdlZWtkYXkgOiB3ZWVrZGF5IC0gNyk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZGF5KCkgfHwgNztcbiAgICB9XG59XG5cbnZhciBkZWZhdWx0V2Vla2RheXNSZWdleCA9IG1hdGNoV29yZDtcbmZ1bmN0aW9uIHdlZWtkYXlzUmVnZXggKGlzU3RyaWN0KSB7XG4gICAgaWYgKHRoaXMuX3dlZWtkYXlzUGFyc2VFeGFjdCkge1xuICAgICAgICBpZiAoIWhhc093blByb3AodGhpcywgJ193ZWVrZGF5c1JlZ2V4JykpIHtcbiAgICAgICAgICAgIGNvbXB1dGVXZWVrZGF5c1BhcnNlLmNhbGwodGhpcyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGlzU3RyaWN0KSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fd2Vla2RheXNTdHJpY3RSZWdleDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl93ZWVrZGF5c1JlZ2V4O1xuICAgICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgICAgaWYgKCFoYXNPd25Qcm9wKHRoaXMsICdfd2Vla2RheXNSZWdleCcpKSB7XG4gICAgICAgICAgICB0aGlzLl93ZWVrZGF5c1JlZ2V4ID0gZGVmYXVsdFdlZWtkYXlzUmVnZXg7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuX3dlZWtkYXlzU3RyaWN0UmVnZXggJiYgaXNTdHJpY3QgP1xuICAgICAgICAgICAgdGhpcy5fd2Vla2RheXNTdHJpY3RSZWdleCA6IHRoaXMuX3dlZWtkYXlzUmVnZXg7XG4gICAgfVxufVxuXG52YXIgZGVmYXVsdFdlZWtkYXlzU2hvcnRSZWdleCA9IG1hdGNoV29yZDtcbmZ1bmN0aW9uIHdlZWtkYXlzU2hvcnRSZWdleCAoaXNTdHJpY3QpIHtcbiAgICBpZiAodGhpcy5fd2Vla2RheXNQYXJzZUV4YWN0KSB7XG4gICAgICAgIGlmICghaGFzT3duUHJvcCh0aGlzLCAnX3dlZWtkYXlzUmVnZXgnKSkge1xuICAgICAgICAgICAgY29tcHV0ZVdlZWtkYXlzUGFyc2UuY2FsbCh0aGlzKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaXNTdHJpY3QpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl93ZWVrZGF5c1Nob3J0U3RyaWN0UmVnZXg7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fd2Vla2RheXNTaG9ydFJlZ2V4O1xuICAgICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgICAgaWYgKCFoYXNPd25Qcm9wKHRoaXMsICdfd2Vla2RheXNTaG9ydFJlZ2V4JykpIHtcbiAgICAgICAgICAgIHRoaXMuX3dlZWtkYXlzU2hvcnRSZWdleCA9IGRlZmF1bHRXZWVrZGF5c1Nob3J0UmVnZXg7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuX3dlZWtkYXlzU2hvcnRTdHJpY3RSZWdleCAmJiBpc1N0cmljdCA/XG4gICAgICAgICAgICB0aGlzLl93ZWVrZGF5c1Nob3J0U3RyaWN0UmVnZXggOiB0aGlzLl93ZWVrZGF5c1Nob3J0UmVnZXg7XG4gICAgfVxufVxuXG52YXIgZGVmYXVsdFdlZWtkYXlzTWluUmVnZXggPSBtYXRjaFdvcmQ7XG5mdW5jdGlvbiB3ZWVrZGF5c01pblJlZ2V4IChpc1N0cmljdCkge1xuICAgIGlmICh0aGlzLl93ZWVrZGF5c1BhcnNlRXhhY3QpIHtcbiAgICAgICAgaWYgKCFoYXNPd25Qcm9wKHRoaXMsICdfd2Vla2RheXNSZWdleCcpKSB7XG4gICAgICAgICAgICBjb21wdXRlV2Vla2RheXNQYXJzZS5jYWxsKHRoaXMpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChpc1N0cmljdCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3dlZWtkYXlzTWluU3RyaWN0UmVnZXg7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fd2Vla2RheXNNaW5SZWdleDtcbiAgICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICAgIGlmICghaGFzT3duUHJvcCh0aGlzLCAnX3dlZWtkYXlzTWluUmVnZXgnKSkge1xuICAgICAgICAgICAgdGhpcy5fd2Vla2RheXNNaW5SZWdleCA9IGRlZmF1bHRXZWVrZGF5c01pblJlZ2V4O1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLl93ZWVrZGF5c01pblN0cmljdFJlZ2V4ICYmIGlzU3RyaWN0ID9cbiAgICAgICAgICAgIHRoaXMuX3dlZWtkYXlzTWluU3RyaWN0UmVnZXggOiB0aGlzLl93ZWVrZGF5c01pblJlZ2V4O1xuICAgIH1cbn1cblxuXG5mdW5jdGlvbiBjb21wdXRlV2Vla2RheXNQYXJzZSAoKSB7XG4gICAgZnVuY3Rpb24gY21wTGVuUmV2KGEsIGIpIHtcbiAgICAgICAgcmV0dXJuIGIubGVuZ3RoIC0gYS5sZW5ndGg7XG4gICAgfVxuXG4gICAgdmFyIG1pblBpZWNlcyA9IFtdLCBzaG9ydFBpZWNlcyA9IFtdLCBsb25nUGllY2VzID0gW10sIG1peGVkUGllY2VzID0gW10sXG4gICAgICAgIGksIG1vbSwgbWlucCwgc2hvcnRwLCBsb25ncDtcbiAgICBmb3IgKGkgPSAwOyBpIDwgNzsgaSsrKSB7XG4gICAgICAgIC8vIG1ha2UgdGhlIHJlZ2V4IGlmIHdlIGRvbid0IGhhdmUgaXQgYWxyZWFkeVxuICAgICAgICBtb20gPSBjcmVhdGVVVEMoWzIwMDAsIDFdKS5kYXkoaSk7XG4gICAgICAgIG1pbnAgPSB0aGlzLndlZWtkYXlzTWluKG1vbSwgJycpO1xuICAgICAgICBzaG9ydHAgPSB0aGlzLndlZWtkYXlzU2hvcnQobW9tLCAnJyk7XG4gICAgICAgIGxvbmdwID0gdGhpcy53ZWVrZGF5cyhtb20sICcnKTtcbiAgICAgICAgbWluUGllY2VzLnB1c2gobWlucCk7XG4gICAgICAgIHNob3J0UGllY2VzLnB1c2goc2hvcnRwKTtcbiAgICAgICAgbG9uZ1BpZWNlcy5wdXNoKGxvbmdwKTtcbiAgICAgICAgbWl4ZWRQaWVjZXMucHVzaChtaW5wKTtcbiAgICAgICAgbWl4ZWRQaWVjZXMucHVzaChzaG9ydHApO1xuICAgICAgICBtaXhlZFBpZWNlcy5wdXNoKGxvbmdwKTtcbiAgICB9XG4gICAgLy8gU29ydGluZyBtYWtlcyBzdXJlIGlmIG9uZSB3ZWVrZGF5IChvciBhYmJyKSBpcyBhIHByZWZpeCBvZiBhbm90aGVyIGl0XG4gICAgLy8gd2lsbCBtYXRjaCB0aGUgbG9uZ2VyIHBpZWNlLlxuICAgIG1pblBpZWNlcy5zb3J0KGNtcExlblJldik7XG4gICAgc2hvcnRQaWVjZXMuc29ydChjbXBMZW5SZXYpO1xuICAgIGxvbmdQaWVjZXMuc29ydChjbXBMZW5SZXYpO1xuICAgIG1peGVkUGllY2VzLnNvcnQoY21wTGVuUmV2KTtcbiAgICBmb3IgKGkgPSAwOyBpIDwgNzsgaSsrKSB7XG4gICAgICAgIHNob3J0UGllY2VzW2ldID0gcmVnZXhFc2NhcGUoc2hvcnRQaWVjZXNbaV0pO1xuICAgICAgICBsb25nUGllY2VzW2ldID0gcmVnZXhFc2NhcGUobG9uZ1BpZWNlc1tpXSk7XG4gICAgICAgIG1peGVkUGllY2VzW2ldID0gcmVnZXhFc2NhcGUobWl4ZWRQaWVjZXNbaV0pO1xuICAgIH1cblxuICAgIHRoaXMuX3dlZWtkYXlzUmVnZXggPSBuZXcgUmVnRXhwKCdeKCcgKyBtaXhlZFBpZWNlcy5qb2luKCd8JykgKyAnKScsICdpJyk7XG4gICAgdGhpcy5fd2Vla2RheXNTaG9ydFJlZ2V4ID0gdGhpcy5fd2Vla2RheXNSZWdleDtcbiAgICB0aGlzLl93ZWVrZGF5c01pblJlZ2V4ID0gdGhpcy5fd2Vla2RheXNSZWdleDtcblxuICAgIHRoaXMuX3dlZWtkYXlzU3RyaWN0UmVnZXggPSBuZXcgUmVnRXhwKCdeKCcgKyBsb25nUGllY2VzLmpvaW4oJ3wnKSArICcpJywgJ2knKTtcbiAgICB0aGlzLl93ZWVrZGF5c1Nob3J0U3RyaWN0UmVnZXggPSBuZXcgUmVnRXhwKCdeKCcgKyBzaG9ydFBpZWNlcy5qb2luKCd8JykgKyAnKScsICdpJyk7XG4gICAgdGhpcy5fd2Vla2RheXNNaW5TdHJpY3RSZWdleCA9IG5ldyBSZWdFeHAoJ14oJyArIG1pblBpZWNlcy5qb2luKCd8JykgKyAnKScsICdpJyk7XG59XG5cbi8vIEZPUk1BVFRJTkdcblxuZnVuY3Rpb24gaEZvcm1hdCgpIHtcbiAgICByZXR1cm4gdGhpcy5ob3VycygpICUgMTIgfHwgMTI7XG59XG5cbmZ1bmN0aW9uIGtGb3JtYXQoKSB7XG4gICAgcmV0dXJuIHRoaXMuaG91cnMoKSB8fCAyNDtcbn1cblxuYWRkRm9ybWF0VG9rZW4oJ0gnLCBbJ0hIJywgMl0sIDAsICdob3VyJyk7XG5hZGRGb3JtYXRUb2tlbignaCcsIFsnaGgnLCAyXSwgMCwgaEZvcm1hdCk7XG5hZGRGb3JtYXRUb2tlbignaycsIFsna2snLCAyXSwgMCwga0Zvcm1hdCk7XG5cbmFkZEZvcm1hdFRva2VuKCdobW0nLCAwLCAwLCBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuICcnICsgaEZvcm1hdC5hcHBseSh0aGlzKSArIHplcm9GaWxsKHRoaXMubWludXRlcygpLCAyKTtcbn0pO1xuXG5hZGRGb3JtYXRUb2tlbignaG1tc3MnLCAwLCAwLCBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuICcnICsgaEZvcm1hdC5hcHBseSh0aGlzKSArIHplcm9GaWxsKHRoaXMubWludXRlcygpLCAyKSArXG4gICAgICAgIHplcm9GaWxsKHRoaXMuc2Vjb25kcygpLCAyKTtcbn0pO1xuXG5hZGRGb3JtYXRUb2tlbignSG1tJywgMCwgMCwgZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiAnJyArIHRoaXMuaG91cnMoKSArIHplcm9GaWxsKHRoaXMubWludXRlcygpLCAyKTtcbn0pO1xuXG5hZGRGb3JtYXRUb2tlbignSG1tc3MnLCAwLCAwLCBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuICcnICsgdGhpcy5ob3VycygpICsgemVyb0ZpbGwodGhpcy5taW51dGVzKCksIDIpICtcbiAgICAgICAgemVyb0ZpbGwodGhpcy5zZWNvbmRzKCksIDIpO1xufSk7XG5cbmZ1bmN0aW9uIG1lcmlkaWVtICh0b2tlbiwgbG93ZXJjYXNlKSB7XG4gICAgYWRkRm9ybWF0VG9rZW4odG9rZW4sIDAsIDAsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubG9jYWxlRGF0YSgpLm1lcmlkaWVtKHRoaXMuaG91cnMoKSwgdGhpcy5taW51dGVzKCksIGxvd2VyY2FzZSk7XG4gICAgfSk7XG59XG5cbm1lcmlkaWVtKCdhJywgdHJ1ZSk7XG5tZXJpZGllbSgnQScsIGZhbHNlKTtcblxuLy8gQUxJQVNFU1xuXG5hZGRVbml0QWxpYXMoJ2hvdXInLCAnaCcpO1xuXG4vLyBQUklPUklUWVxuYWRkVW5pdFByaW9yaXR5KCdob3VyJywgMTMpO1xuXG4vLyBQQVJTSU5HXG5cbmZ1bmN0aW9uIG1hdGNoTWVyaWRpZW0gKGlzU3RyaWN0LCBsb2NhbGUpIHtcbiAgICByZXR1cm4gbG9jYWxlLl9tZXJpZGllbVBhcnNlO1xufVxuXG5hZGRSZWdleFRva2VuKCdhJywgIG1hdGNoTWVyaWRpZW0pO1xuYWRkUmVnZXhUb2tlbignQScsICBtYXRjaE1lcmlkaWVtKTtcbmFkZFJlZ2V4VG9rZW4oJ0gnLCAgbWF0Y2gxdG8yKTtcbmFkZFJlZ2V4VG9rZW4oJ2gnLCAgbWF0Y2gxdG8yKTtcbmFkZFJlZ2V4VG9rZW4oJ0hIJywgbWF0Y2gxdG8yLCBtYXRjaDIpO1xuYWRkUmVnZXhUb2tlbignaGgnLCBtYXRjaDF0bzIsIG1hdGNoMik7XG5cbmFkZFJlZ2V4VG9rZW4oJ2htbScsIG1hdGNoM3RvNCk7XG5hZGRSZWdleFRva2VuKCdobW1zcycsIG1hdGNoNXRvNik7XG5hZGRSZWdleFRva2VuKCdIbW0nLCBtYXRjaDN0bzQpO1xuYWRkUmVnZXhUb2tlbignSG1tc3MnLCBtYXRjaDV0bzYpO1xuXG5hZGRQYXJzZVRva2VuKFsnSCcsICdISCddLCBIT1VSKTtcbmFkZFBhcnNlVG9rZW4oWydhJywgJ0EnXSwgZnVuY3Rpb24gKGlucHV0LCBhcnJheSwgY29uZmlnKSB7XG4gICAgY29uZmlnLl9pc1BtID0gY29uZmlnLl9sb2NhbGUuaXNQTShpbnB1dCk7XG4gICAgY29uZmlnLl9tZXJpZGllbSA9IGlucHV0O1xufSk7XG5hZGRQYXJzZVRva2VuKFsnaCcsICdoaCddLCBmdW5jdGlvbiAoaW5wdXQsIGFycmF5LCBjb25maWcpIHtcbiAgICBhcnJheVtIT1VSXSA9IHRvSW50KGlucHV0KTtcbiAgICBnZXRQYXJzaW5nRmxhZ3MoY29uZmlnKS5iaWdIb3VyID0gdHJ1ZTtcbn0pO1xuYWRkUGFyc2VUb2tlbignaG1tJywgZnVuY3Rpb24gKGlucHV0LCBhcnJheSwgY29uZmlnKSB7XG4gICAgdmFyIHBvcyA9IGlucHV0Lmxlbmd0aCAtIDI7XG4gICAgYXJyYXlbSE9VUl0gPSB0b0ludChpbnB1dC5zdWJzdHIoMCwgcG9zKSk7XG4gICAgYXJyYXlbTUlOVVRFXSA9IHRvSW50KGlucHV0LnN1YnN0cihwb3MpKTtcbiAgICBnZXRQYXJzaW5nRmxhZ3MoY29uZmlnKS5iaWdIb3VyID0gdHJ1ZTtcbn0pO1xuYWRkUGFyc2VUb2tlbignaG1tc3MnLCBmdW5jdGlvbiAoaW5wdXQsIGFycmF5LCBjb25maWcpIHtcbiAgICB2YXIgcG9zMSA9IGlucHV0Lmxlbmd0aCAtIDQ7XG4gICAgdmFyIHBvczIgPSBpbnB1dC5sZW5ndGggLSAyO1xuICAgIGFycmF5W0hPVVJdID0gdG9JbnQoaW5wdXQuc3Vic3RyKDAsIHBvczEpKTtcbiAgICBhcnJheVtNSU5VVEVdID0gdG9JbnQoaW5wdXQuc3Vic3RyKHBvczEsIDIpKTtcbiAgICBhcnJheVtTRUNPTkRdID0gdG9JbnQoaW5wdXQuc3Vic3RyKHBvczIpKTtcbiAgICBnZXRQYXJzaW5nRmxhZ3MoY29uZmlnKS5iaWdIb3VyID0gdHJ1ZTtcbn0pO1xuYWRkUGFyc2VUb2tlbignSG1tJywgZnVuY3Rpb24gKGlucHV0LCBhcnJheSwgY29uZmlnKSB7XG4gICAgdmFyIHBvcyA9IGlucHV0Lmxlbmd0aCAtIDI7XG4gICAgYXJyYXlbSE9VUl0gPSB0b0ludChpbnB1dC5zdWJzdHIoMCwgcG9zKSk7XG4gICAgYXJyYXlbTUlOVVRFXSA9IHRvSW50KGlucHV0LnN1YnN0cihwb3MpKTtcbn0pO1xuYWRkUGFyc2VUb2tlbignSG1tc3MnLCBmdW5jdGlvbiAoaW5wdXQsIGFycmF5LCBjb25maWcpIHtcbiAgICB2YXIgcG9zMSA9IGlucHV0Lmxlbmd0aCAtIDQ7XG4gICAgdmFyIHBvczIgPSBpbnB1dC5sZW5ndGggLSAyO1xuICAgIGFycmF5W0hPVVJdID0gdG9JbnQoaW5wdXQuc3Vic3RyKDAsIHBvczEpKTtcbiAgICBhcnJheVtNSU5VVEVdID0gdG9JbnQoaW5wdXQuc3Vic3RyKHBvczEsIDIpKTtcbiAgICBhcnJheVtTRUNPTkRdID0gdG9JbnQoaW5wdXQuc3Vic3RyKHBvczIpKTtcbn0pO1xuXG4vLyBMT0NBTEVTXG5cbmZ1bmN0aW9uIGxvY2FsZUlzUE0gKGlucHV0KSB7XG4gICAgLy8gSUU4IFF1aXJrcyBNb2RlICYgSUU3IFN0YW5kYXJkcyBNb2RlIGRvIG5vdCBhbGxvdyBhY2Nlc3Npbmcgc3RyaW5ncyBsaWtlIGFycmF5c1xuICAgIC8vIFVzaW5nIGNoYXJBdCBzaG91bGQgYmUgbW9yZSBjb21wYXRpYmxlLlxuICAgIHJldHVybiAoKGlucHV0ICsgJycpLnRvTG93ZXJDYXNlKCkuY2hhckF0KDApID09PSAncCcpO1xufVxuXG52YXIgZGVmYXVsdExvY2FsZU1lcmlkaWVtUGFyc2UgPSAvW2FwXVxcLj9tP1xcLj8vaTtcbmZ1bmN0aW9uIGxvY2FsZU1lcmlkaWVtIChob3VycywgbWludXRlcywgaXNMb3dlcikge1xuICAgIGlmIChob3VycyA+IDExKSB7XG4gICAgICAgIHJldHVybiBpc0xvd2VyID8gJ3BtJyA6ICdQTSc7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIGlzTG93ZXIgPyAnYW0nIDogJ0FNJztcbiAgICB9XG59XG5cblxuLy8gTU9NRU5UU1xuXG4vLyBTZXR0aW5nIHRoZSBob3VyIHNob3VsZCBrZWVwIHRoZSB0aW1lLCBiZWNhdXNlIHRoZSB1c2VyIGV4cGxpY2l0bHlcbi8vIHNwZWNpZmllZCB3aGljaCBob3VyIGhlIHdhbnRzLiBTbyB0cnlpbmcgdG8gbWFpbnRhaW4gdGhlIHNhbWUgaG91ciAoaW5cbi8vIGEgbmV3IHRpbWV6b25lKSBtYWtlcyBzZW5zZS4gQWRkaW5nL3N1YnRyYWN0aW5nIGhvdXJzIGRvZXMgbm90IGZvbGxvd1xuLy8gdGhpcyBydWxlLlxudmFyIGdldFNldEhvdXIgPSBtYWtlR2V0U2V0KCdIb3VycycsIHRydWUpO1xuXG4vLyBtb250aHNcbi8vIHdlZWtcbi8vIHdlZWtkYXlzXG4vLyBtZXJpZGllbVxudmFyIGJhc2VDb25maWcgPSB7XG4gICAgY2FsZW5kYXI6IGRlZmF1bHRDYWxlbmRhcixcbiAgICBsb25nRGF0ZUZvcm1hdDogZGVmYXVsdExvbmdEYXRlRm9ybWF0LFxuICAgIGludmFsaWREYXRlOiBkZWZhdWx0SW52YWxpZERhdGUsXG4gICAgb3JkaW5hbDogZGVmYXVsdE9yZGluYWwsXG4gICAgb3JkaW5hbFBhcnNlOiBkZWZhdWx0T3JkaW5hbFBhcnNlLFxuICAgIHJlbGF0aXZlVGltZTogZGVmYXVsdFJlbGF0aXZlVGltZSxcblxuICAgIG1vbnRoczogZGVmYXVsdExvY2FsZU1vbnRocyxcbiAgICBtb250aHNTaG9ydDogZGVmYXVsdExvY2FsZU1vbnRoc1Nob3J0LFxuXG4gICAgd2VlazogZGVmYXVsdExvY2FsZVdlZWssXG5cbiAgICB3ZWVrZGF5czogZGVmYXVsdExvY2FsZVdlZWtkYXlzLFxuICAgIHdlZWtkYXlzTWluOiBkZWZhdWx0TG9jYWxlV2Vla2RheXNNaW4sXG4gICAgd2Vla2RheXNTaG9ydDogZGVmYXVsdExvY2FsZVdlZWtkYXlzU2hvcnQsXG5cbiAgICBtZXJpZGllbVBhcnNlOiBkZWZhdWx0TG9jYWxlTWVyaWRpZW1QYXJzZVxufTtcblxuLy8gaW50ZXJuYWwgc3RvcmFnZSBmb3IgbG9jYWxlIGNvbmZpZyBmaWxlc1xudmFyIGxvY2FsZXMgPSB7fTtcbnZhciBsb2NhbGVGYW1pbGllcyA9IHt9O1xudmFyIGdsb2JhbExvY2FsZTtcblxuZnVuY3Rpb24gbm9ybWFsaXplTG9jYWxlKGtleSkge1xuICAgIHJldHVybiBrZXkgPyBrZXkudG9Mb3dlckNhc2UoKS5yZXBsYWNlKCdfJywgJy0nKSA6IGtleTtcbn1cblxuLy8gcGljayB0aGUgbG9jYWxlIGZyb20gdGhlIGFycmF5XG4vLyB0cnkgWydlbi1hdScsICdlbi1nYiddIGFzICdlbi1hdScsICdlbi1nYicsICdlbicsIGFzIGluIG1vdmUgdGhyb3VnaCB0aGUgbGlzdCB0cnlpbmcgZWFjaFxuLy8gc3Vic3RyaW5nIGZyb20gbW9zdCBzcGVjaWZpYyB0byBsZWFzdCwgYnV0IG1vdmUgdG8gdGhlIG5leHQgYXJyYXkgaXRlbSBpZiBpdCdzIGEgbW9yZSBzcGVjaWZpYyB2YXJpYW50IHRoYW4gdGhlIGN1cnJlbnQgcm9vdFxuZnVuY3Rpb24gY2hvb3NlTG9jYWxlKG5hbWVzKSB7XG4gICAgdmFyIGkgPSAwLCBqLCBuZXh0LCBsb2NhbGUsIHNwbGl0O1xuXG4gICAgd2hpbGUgKGkgPCBuYW1lcy5sZW5ndGgpIHtcbiAgICAgICAgc3BsaXQgPSBub3JtYWxpemVMb2NhbGUobmFtZXNbaV0pLnNwbGl0KCctJyk7XG4gICAgICAgIGogPSBzcGxpdC5sZW5ndGg7XG4gICAgICAgIG5leHQgPSBub3JtYWxpemVMb2NhbGUobmFtZXNbaSArIDFdKTtcbiAgICAgICAgbmV4dCA9IG5leHQgPyBuZXh0LnNwbGl0KCctJykgOiBudWxsO1xuICAgICAgICB3aGlsZSAoaiA+IDApIHtcbiAgICAgICAgICAgIGxvY2FsZSA9IGxvYWRMb2NhbGUoc3BsaXQuc2xpY2UoMCwgaikuam9pbignLScpKTtcbiAgICAgICAgICAgIGlmIChsb2NhbGUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbG9jYWxlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKG5leHQgJiYgbmV4dC5sZW5ndGggPj0gaiAmJiBjb21wYXJlQXJyYXlzKHNwbGl0LCBuZXh0LCB0cnVlKSA+PSBqIC0gMSkge1xuICAgICAgICAgICAgICAgIC8vdGhlIG5leHQgYXJyYXkgaXRlbSBpcyBiZXR0ZXIgdGhhbiBhIHNoYWxsb3dlciBzdWJzdHJpbmcgb2YgdGhpcyBvbmVcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGotLTtcbiAgICAgICAgfVxuICAgICAgICBpKys7XG4gICAgfVxuICAgIHJldHVybiBudWxsO1xufVxuXG5mdW5jdGlvbiBsb2FkTG9jYWxlKG5hbWUpIHtcbiAgICB2YXIgb2xkTG9jYWxlID0gbnVsbDtcbiAgICAvLyBUT0RPOiBGaW5kIGEgYmV0dGVyIHdheSB0byByZWdpc3RlciBhbmQgbG9hZCBhbGwgdGhlIGxvY2FsZXMgaW4gTm9kZVxuICAgIGlmICghbG9jYWxlc1tuYW1lXSAmJiAodHlwZW9mIG1vZHVsZSAhPT0gJ3VuZGVmaW5lZCcpICYmXG4gICAgICAgICAgICBtb2R1bGUgJiYgbW9kdWxlLmV4cG9ydHMpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIG9sZExvY2FsZSA9IGdsb2JhbExvY2FsZS5fYWJicjtcbiAgICAgICAgICAgIHJlcXVpcmUoJy4vbG9jYWxlLycgKyBuYW1lKTtcbiAgICAgICAgICAgIC8vIGJlY2F1c2UgZGVmaW5lTG9jYWxlIGN1cnJlbnRseSBhbHNvIHNldHMgdGhlIGdsb2JhbCBsb2NhbGUsIHdlXG4gICAgICAgICAgICAvLyB3YW50IHRvIHVuZG8gdGhhdCBmb3IgbGF6eSBsb2FkZWQgbG9jYWxlc1xuICAgICAgICAgICAgZ2V0U2V0R2xvYmFsTG9jYWxlKG9sZExvY2FsZSk7XG4gICAgICAgIH0gY2F0Y2ggKGUpIHsgfVxuICAgIH1cbiAgICByZXR1cm4gbG9jYWxlc1tuYW1lXTtcbn1cblxuLy8gVGhpcyBmdW5jdGlvbiB3aWxsIGxvYWQgbG9jYWxlIGFuZCB0aGVuIHNldCB0aGUgZ2xvYmFsIGxvY2FsZS4gIElmXG4vLyBubyBhcmd1bWVudHMgYXJlIHBhc3NlZCBpbiwgaXQgd2lsbCBzaW1wbHkgcmV0dXJuIHRoZSBjdXJyZW50IGdsb2JhbFxuLy8gbG9jYWxlIGtleS5cbmZ1bmN0aW9uIGdldFNldEdsb2JhbExvY2FsZSAoa2V5LCB2YWx1ZXMpIHtcbiAgICB2YXIgZGF0YTtcbiAgICBpZiAoa2V5KSB7XG4gICAgICAgIGlmIChpc1VuZGVmaW5lZCh2YWx1ZXMpKSB7XG4gICAgICAgICAgICBkYXRhID0gZ2V0TG9jYWxlKGtleSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBkYXRhID0gZGVmaW5lTG9jYWxlKGtleSwgdmFsdWVzKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChkYXRhKSB7XG4gICAgICAgICAgICAvLyBtb21lbnQuZHVyYXRpb24uX2xvY2FsZSA9IG1vbWVudC5fbG9jYWxlID0gZGF0YTtcbiAgICAgICAgICAgIGdsb2JhbExvY2FsZSA9IGRhdGE7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gZ2xvYmFsTG9jYWxlLl9hYmJyO1xufVxuXG5mdW5jdGlvbiBkZWZpbmVMb2NhbGUgKG5hbWUsIGNvbmZpZykge1xuICAgIGlmIChjb25maWcgIT09IG51bGwpIHtcbiAgICAgICAgdmFyIHBhcmVudENvbmZpZyA9IGJhc2VDb25maWc7XG4gICAgICAgIGNvbmZpZy5hYmJyID0gbmFtZTtcbiAgICAgICAgaWYgKGxvY2FsZXNbbmFtZV0gIT0gbnVsbCkge1xuICAgICAgICAgICAgZGVwcmVjYXRlU2ltcGxlKCdkZWZpbmVMb2NhbGVPdmVycmlkZScsXG4gICAgICAgICAgICAgICAgICAgICd1c2UgbW9tZW50LnVwZGF0ZUxvY2FsZShsb2NhbGVOYW1lLCBjb25maWcpIHRvIGNoYW5nZSAnICtcbiAgICAgICAgICAgICAgICAgICAgJ2FuIGV4aXN0aW5nIGxvY2FsZS4gbW9tZW50LmRlZmluZUxvY2FsZShsb2NhbGVOYW1lLCAnICtcbiAgICAgICAgICAgICAgICAgICAgJ2NvbmZpZykgc2hvdWxkIG9ubHkgYmUgdXNlZCBmb3IgY3JlYXRpbmcgYSBuZXcgbG9jYWxlICcgK1xuICAgICAgICAgICAgICAgICAgICAnU2VlIGh0dHA6Ly9tb21lbnRqcy5jb20vZ3VpZGVzLyMvd2FybmluZ3MvZGVmaW5lLWxvY2FsZS8gZm9yIG1vcmUgaW5mby4nKTtcbiAgICAgICAgICAgIHBhcmVudENvbmZpZyA9IGxvY2FsZXNbbmFtZV0uX2NvbmZpZztcbiAgICAgICAgfSBlbHNlIGlmIChjb25maWcucGFyZW50TG9jYWxlICE9IG51bGwpIHtcbiAgICAgICAgICAgIGlmIChsb2NhbGVzW2NvbmZpZy5wYXJlbnRMb2NhbGVdICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICBwYXJlbnRDb25maWcgPSBsb2NhbGVzW2NvbmZpZy5wYXJlbnRMb2NhbGVdLl9jb25maWc7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGlmICghbG9jYWxlRmFtaWxpZXNbY29uZmlnLnBhcmVudExvY2FsZV0pIHtcbiAgICAgICAgICAgICAgICAgICAgbG9jYWxlRmFtaWxpZXNbY29uZmlnLnBhcmVudExvY2FsZV0gPSBbXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgbG9jYWxlRmFtaWxpZXNbY29uZmlnLnBhcmVudExvY2FsZV0ucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgIG5hbWU6IG5hbWUsXG4gICAgICAgICAgICAgICAgICAgIGNvbmZpZzogY29uZmlnXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgbG9jYWxlc1tuYW1lXSA9IG5ldyBMb2NhbGUobWVyZ2VDb25maWdzKHBhcmVudENvbmZpZywgY29uZmlnKSk7XG5cbiAgICAgICAgaWYgKGxvY2FsZUZhbWlsaWVzW25hbWVdKSB7XG4gICAgICAgICAgICBsb2NhbGVGYW1pbGllc1tuYW1lXS5mb3JFYWNoKGZ1bmN0aW9uICh4KSB7XG4gICAgICAgICAgICAgICAgZGVmaW5lTG9jYWxlKHgubmFtZSwgeC5jb25maWcpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBiYWNrd2FyZHMgY29tcGF0IGZvciBub3c6IGFsc28gc2V0IHRoZSBsb2NhbGVcbiAgICAgICAgLy8gbWFrZSBzdXJlIHdlIHNldCB0aGUgbG9jYWxlIEFGVEVSIGFsbCBjaGlsZCBsb2NhbGVzIGhhdmUgYmVlblxuICAgICAgICAvLyBjcmVhdGVkLCBzbyB3ZSB3b24ndCBlbmQgdXAgd2l0aCB0aGUgY2hpbGQgbG9jYWxlIHNldC5cbiAgICAgICAgZ2V0U2V0R2xvYmFsTG9jYWxlKG5hbWUpO1xuXG5cbiAgICAgICAgcmV0dXJuIGxvY2FsZXNbbmFtZV07XG4gICAgfSBlbHNlIHtcbiAgICAgICAgLy8gdXNlZnVsIGZvciB0ZXN0aW5nXG4gICAgICAgIGRlbGV0ZSBsb2NhbGVzW25hbWVdO1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIHVwZGF0ZUxvY2FsZShuYW1lLCBjb25maWcpIHtcbiAgICBpZiAoY29uZmlnICE9IG51bGwpIHtcbiAgICAgICAgdmFyIGxvY2FsZSwgcGFyZW50Q29uZmlnID0gYmFzZUNvbmZpZztcbiAgICAgICAgLy8gTUVSR0VcbiAgICAgICAgaWYgKGxvY2FsZXNbbmFtZV0gIT0gbnVsbCkge1xuICAgICAgICAgICAgcGFyZW50Q29uZmlnID0gbG9jYWxlc1tuYW1lXS5fY29uZmlnO1xuICAgICAgICB9XG4gICAgICAgIGNvbmZpZyA9IG1lcmdlQ29uZmlncyhwYXJlbnRDb25maWcsIGNvbmZpZyk7XG4gICAgICAgIGxvY2FsZSA9IG5ldyBMb2NhbGUoY29uZmlnKTtcbiAgICAgICAgbG9jYWxlLnBhcmVudExvY2FsZSA9IGxvY2FsZXNbbmFtZV07XG4gICAgICAgIGxvY2FsZXNbbmFtZV0gPSBsb2NhbGU7XG5cbiAgICAgICAgLy8gYmFja3dhcmRzIGNvbXBhdCBmb3Igbm93OiBhbHNvIHNldCB0aGUgbG9jYWxlXG4gICAgICAgIGdldFNldEdsb2JhbExvY2FsZShuYW1lKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICAvLyBwYXNzIG51bGwgZm9yIGNvbmZpZyB0byB1bnVwZGF0ZSwgdXNlZnVsIGZvciB0ZXN0c1xuICAgICAgICBpZiAobG9jYWxlc1tuYW1lXSAhPSBudWxsKSB7XG4gICAgICAgICAgICBpZiAobG9jYWxlc1tuYW1lXS5wYXJlbnRMb2NhbGUgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIGxvY2FsZXNbbmFtZV0gPSBsb2NhbGVzW25hbWVdLnBhcmVudExvY2FsZTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAobG9jYWxlc1tuYW1lXSAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgZGVsZXRlIGxvY2FsZXNbbmFtZV07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGxvY2FsZXNbbmFtZV07XG59XG5cbi8vIHJldHVybnMgbG9jYWxlIGRhdGFcbmZ1bmN0aW9uIGdldExvY2FsZSAoa2V5KSB7XG4gICAgdmFyIGxvY2FsZTtcblxuICAgIGlmIChrZXkgJiYga2V5Ll9sb2NhbGUgJiYga2V5Ll9sb2NhbGUuX2FiYnIpIHtcbiAgICAgICAga2V5ID0ga2V5Ll9sb2NhbGUuX2FiYnI7XG4gICAgfVxuXG4gICAgaWYgKCFrZXkpIHtcbiAgICAgICAgcmV0dXJuIGdsb2JhbExvY2FsZTtcbiAgICB9XG5cbiAgICBpZiAoIWlzQXJyYXkoa2V5KSkge1xuICAgICAgICAvL3Nob3J0LWNpcmN1aXQgZXZlcnl0aGluZyBlbHNlXG4gICAgICAgIGxvY2FsZSA9IGxvYWRMb2NhbGUoa2V5KTtcbiAgICAgICAgaWYgKGxvY2FsZSkge1xuICAgICAgICAgICAgcmV0dXJuIGxvY2FsZTtcbiAgICAgICAgfVxuICAgICAgICBrZXkgPSBba2V5XTtcbiAgICB9XG5cbiAgICByZXR1cm4gY2hvb3NlTG9jYWxlKGtleSk7XG59XG5cbmZ1bmN0aW9uIGxpc3RMb2NhbGVzKCkge1xuICAgIHJldHVybiBrZXlzJDEobG9jYWxlcyk7XG59XG5cbmZ1bmN0aW9uIGNoZWNrT3ZlcmZsb3cgKG0pIHtcbiAgICB2YXIgb3ZlcmZsb3c7XG4gICAgdmFyIGEgPSBtLl9hO1xuXG4gICAgaWYgKGEgJiYgZ2V0UGFyc2luZ0ZsYWdzKG0pLm92ZXJmbG93ID09PSAtMikge1xuICAgICAgICBvdmVyZmxvdyA9XG4gICAgICAgICAgICBhW01PTlRIXSAgICAgICA8IDAgfHwgYVtNT05USF0gICAgICAgPiAxMSAgPyBNT05USCA6XG4gICAgICAgICAgICBhW0RBVEVdICAgICAgICA8IDEgfHwgYVtEQVRFXSAgICAgICAgPiBkYXlzSW5Nb250aChhW1lFQVJdLCBhW01PTlRIXSkgPyBEQVRFIDpcbiAgICAgICAgICAgIGFbSE9VUl0gICAgICAgIDwgMCB8fCBhW0hPVVJdICAgICAgICA+IDI0IHx8IChhW0hPVVJdID09PSAyNCAmJiAoYVtNSU5VVEVdICE9PSAwIHx8IGFbU0VDT05EXSAhPT0gMCB8fCBhW01JTExJU0VDT05EXSAhPT0gMCkpID8gSE9VUiA6XG4gICAgICAgICAgICBhW01JTlVURV0gICAgICA8IDAgfHwgYVtNSU5VVEVdICAgICAgPiA1OSAgPyBNSU5VVEUgOlxuICAgICAgICAgICAgYVtTRUNPTkRdICAgICAgPCAwIHx8IGFbU0VDT05EXSAgICAgID4gNTkgID8gU0VDT05EIDpcbiAgICAgICAgICAgIGFbTUlMTElTRUNPTkRdIDwgMCB8fCBhW01JTExJU0VDT05EXSA+IDk5OSA/IE1JTExJU0VDT05EIDpcbiAgICAgICAgICAgIC0xO1xuXG4gICAgICAgIGlmIChnZXRQYXJzaW5nRmxhZ3MobSkuX292ZXJmbG93RGF5T2ZZZWFyICYmIChvdmVyZmxvdyA8IFlFQVIgfHwgb3ZlcmZsb3cgPiBEQVRFKSkge1xuICAgICAgICAgICAgb3ZlcmZsb3cgPSBEQVRFO1xuICAgICAgICB9XG4gICAgICAgIGlmIChnZXRQYXJzaW5nRmxhZ3MobSkuX292ZXJmbG93V2Vla3MgJiYgb3ZlcmZsb3cgPT09IC0xKSB7XG4gICAgICAgICAgICBvdmVyZmxvdyA9IFdFRUs7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGdldFBhcnNpbmdGbGFncyhtKS5fb3ZlcmZsb3dXZWVrZGF5ICYmIG92ZXJmbG93ID09PSAtMSkge1xuICAgICAgICAgICAgb3ZlcmZsb3cgPSBXRUVLREFZO1xuICAgICAgICB9XG5cbiAgICAgICAgZ2V0UGFyc2luZ0ZsYWdzKG0pLm92ZXJmbG93ID0gb3ZlcmZsb3c7XG4gICAgfVxuXG4gICAgcmV0dXJuIG07XG59XG5cbi8vIGlzbyA4NjAxIHJlZ2V4XG4vLyAwMDAwLTAwLTAwIDAwMDAtVzAwIG9yIDAwMDAtVzAwLTAgKyBUICsgMDAgb3IgMDA6MDAgb3IgMDA6MDA6MDAgb3IgMDA6MDA6MDAuMDAwICsgKzAwOjAwIG9yICswMDAwIG9yICswMClcbnZhciBleHRlbmRlZElzb1JlZ2V4ID0gL15cXHMqKCg/OlsrLV1cXGR7Nn18XFxkezR9KS0oPzpcXGRcXGQtXFxkXFxkfFdcXGRcXGQtXFxkfFdcXGRcXGR8XFxkXFxkXFxkfFxcZFxcZCkpKD86KFR8ICkoXFxkXFxkKD86OlxcZFxcZCg/OjpcXGRcXGQoPzpbLixdXFxkKyk/KT8pPykoW1xcK1xcLV1cXGRcXGQoPzo6P1xcZFxcZCk/fFxccypaKT8pPyQvO1xudmFyIGJhc2ljSXNvUmVnZXggPSAvXlxccyooKD86WystXVxcZHs2fXxcXGR7NH0pKD86XFxkXFxkXFxkXFxkfFdcXGRcXGRcXGR8V1xcZFxcZHxcXGRcXGRcXGR8XFxkXFxkKSkoPzooVHwgKShcXGRcXGQoPzpcXGRcXGQoPzpcXGRcXGQoPzpbLixdXFxkKyk/KT8pPykoW1xcK1xcLV1cXGRcXGQoPzo6P1xcZFxcZCk/fFxccypaKT8pPyQvO1xuXG52YXIgdHpSZWdleCA9IC9afFsrLV1cXGRcXGQoPzo6P1xcZFxcZCk/LztcblxudmFyIGlzb0RhdGVzID0gW1xuICAgIFsnWVlZWVlZLU1NLUREJywgL1srLV1cXGR7Nn0tXFxkXFxkLVxcZFxcZC9dLFxuICAgIFsnWVlZWS1NTS1ERCcsIC9cXGR7NH0tXFxkXFxkLVxcZFxcZC9dLFxuICAgIFsnR0dHRy1bV11XVy1FJywgL1xcZHs0fS1XXFxkXFxkLVxcZC9dLFxuICAgIFsnR0dHRy1bV11XVycsIC9cXGR7NH0tV1xcZFxcZC8sIGZhbHNlXSxcbiAgICBbJ1lZWVktREREJywgL1xcZHs0fS1cXGR7M30vXSxcbiAgICBbJ1lZWVktTU0nLCAvXFxkezR9LVxcZFxcZC8sIGZhbHNlXSxcbiAgICBbJ1lZWVlZWU1NREQnLCAvWystXVxcZHsxMH0vXSxcbiAgICBbJ1lZWVlNTUREJywgL1xcZHs4fS9dLFxuICAgIC8vIFlZWVlNTSBpcyBOT1QgYWxsb3dlZCBieSB0aGUgc3RhbmRhcmRcbiAgICBbJ0dHR0dbV11XV0UnLCAvXFxkezR9V1xcZHszfS9dLFxuICAgIFsnR0dHR1tXXVdXJywgL1xcZHs0fVdcXGR7Mn0vLCBmYWxzZV0sXG4gICAgWydZWVlZREREJywgL1xcZHs3fS9dXG5dO1xuXG4vLyBpc28gdGltZSBmb3JtYXRzIGFuZCByZWdleGVzXG52YXIgaXNvVGltZXMgPSBbXG4gICAgWydISDptbTpzcy5TU1NTJywgL1xcZFxcZDpcXGRcXGQ6XFxkXFxkXFwuXFxkKy9dLFxuICAgIFsnSEg6bW06c3MsU1NTUycsIC9cXGRcXGQ6XFxkXFxkOlxcZFxcZCxcXGQrL10sXG4gICAgWydISDptbTpzcycsIC9cXGRcXGQ6XFxkXFxkOlxcZFxcZC9dLFxuICAgIFsnSEg6bW0nLCAvXFxkXFxkOlxcZFxcZC9dLFxuICAgIFsnSEhtbXNzLlNTU1MnLCAvXFxkXFxkXFxkXFxkXFxkXFxkXFwuXFxkKy9dLFxuICAgIFsnSEhtbXNzLFNTU1MnLCAvXFxkXFxkXFxkXFxkXFxkXFxkLFxcZCsvXSxcbiAgICBbJ0hIbW1zcycsIC9cXGRcXGRcXGRcXGRcXGRcXGQvXSxcbiAgICBbJ0hIbW0nLCAvXFxkXFxkXFxkXFxkL10sXG4gICAgWydISCcsIC9cXGRcXGQvXVxuXTtcblxudmFyIGFzcE5ldEpzb25SZWdleCA9IC9eXFwvP0RhdGVcXCgoXFwtP1xcZCspL2k7XG5cbi8vIGRhdGUgZnJvbSBpc28gZm9ybWF0XG5mdW5jdGlvbiBjb25maWdGcm9tSVNPKGNvbmZpZykge1xuICAgIHZhciBpLCBsLFxuICAgICAgICBzdHJpbmcgPSBjb25maWcuX2ksXG4gICAgICAgIG1hdGNoID0gZXh0ZW5kZWRJc29SZWdleC5leGVjKHN0cmluZykgfHwgYmFzaWNJc29SZWdleC5leGVjKHN0cmluZyksXG4gICAgICAgIGFsbG93VGltZSwgZGF0ZUZvcm1hdCwgdGltZUZvcm1hdCwgdHpGb3JtYXQ7XG5cbiAgICBpZiAobWF0Y2gpIHtcbiAgICAgICAgZ2V0UGFyc2luZ0ZsYWdzKGNvbmZpZykuaXNvID0gdHJ1ZTtcblxuICAgICAgICBmb3IgKGkgPSAwLCBsID0gaXNvRGF0ZXMubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG4gICAgICAgICAgICBpZiAoaXNvRGF0ZXNbaV1bMV0uZXhlYyhtYXRjaFsxXSkpIHtcbiAgICAgICAgICAgICAgICBkYXRlRm9ybWF0ID0gaXNvRGF0ZXNbaV1bMF07XG4gICAgICAgICAgICAgICAgYWxsb3dUaW1lID0gaXNvRGF0ZXNbaV1bMl0gIT09IGZhbHNlO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChkYXRlRm9ybWF0ID09IG51bGwpIHtcbiAgICAgICAgICAgIGNvbmZpZy5faXNWYWxpZCA9IGZhbHNlO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtYXRjaFszXSkge1xuICAgICAgICAgICAgZm9yIChpID0gMCwgbCA9IGlzb1RpbWVzLmxlbmd0aDsgaSA8IGw7IGkrKykge1xuICAgICAgICAgICAgICAgIGlmIChpc29UaW1lc1tpXVsxXS5leGVjKG1hdGNoWzNdKSkge1xuICAgICAgICAgICAgICAgICAgICAvLyBtYXRjaFsyXSBzaG91bGQgYmUgJ1QnIG9yIHNwYWNlXG4gICAgICAgICAgICAgICAgICAgIHRpbWVGb3JtYXQgPSAobWF0Y2hbMl0gfHwgJyAnKSArIGlzb1RpbWVzW2ldWzBdO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodGltZUZvcm1hdCA9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgY29uZmlnLl9pc1ZhbGlkID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmICghYWxsb3dUaW1lICYmIHRpbWVGb3JtYXQgIT0gbnVsbCkge1xuICAgICAgICAgICAgY29uZmlnLl9pc1ZhbGlkID0gZmFsc2U7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1hdGNoWzRdKSB7XG4gICAgICAgICAgICBpZiAodHpSZWdleC5leGVjKG1hdGNoWzRdKSkge1xuICAgICAgICAgICAgICAgIHR6Rm9ybWF0ID0gJ1onO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBjb25maWcuX2lzVmFsaWQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgY29uZmlnLl9mID0gZGF0ZUZvcm1hdCArICh0aW1lRm9ybWF0IHx8ICcnKSArICh0ekZvcm1hdCB8fCAnJyk7XG4gICAgICAgIGNvbmZpZ0Zyb21TdHJpbmdBbmRGb3JtYXQoY29uZmlnKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICBjb25maWcuX2lzVmFsaWQgPSBmYWxzZTtcbiAgICB9XG59XG5cbi8vIGRhdGUgZnJvbSBpc28gZm9ybWF0IG9yIGZhbGxiYWNrXG5mdW5jdGlvbiBjb25maWdGcm9tU3RyaW5nKGNvbmZpZykge1xuICAgIHZhciBtYXRjaGVkID0gYXNwTmV0SnNvblJlZ2V4LmV4ZWMoY29uZmlnLl9pKTtcblxuICAgIGlmIChtYXRjaGVkICE9PSBudWxsKSB7XG4gICAgICAgIGNvbmZpZy5fZCA9IG5ldyBEYXRlKCttYXRjaGVkWzFdKTtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbmZpZ0Zyb21JU08oY29uZmlnKTtcbiAgICBpZiAoY29uZmlnLl9pc1ZhbGlkID09PSBmYWxzZSkge1xuICAgICAgICBkZWxldGUgY29uZmlnLl9pc1ZhbGlkO1xuICAgICAgICBob29rcy5jcmVhdGVGcm9tSW5wdXRGYWxsYmFjayhjb25maWcpO1xuICAgIH1cbn1cblxuaG9va3MuY3JlYXRlRnJvbUlucHV0RmFsbGJhY2sgPSBkZXByZWNhdGUoXG4gICAgJ3ZhbHVlIHByb3ZpZGVkIGlzIG5vdCBpbiBhIHJlY29nbml6ZWQgSVNPIGZvcm1hdC4gbW9tZW50IGNvbnN0cnVjdGlvbiBmYWxscyBiYWNrIHRvIGpzIERhdGUoKSwgJyArXG4gICAgJ3doaWNoIGlzIG5vdCByZWxpYWJsZSBhY3Jvc3MgYWxsIGJyb3dzZXJzIGFuZCB2ZXJzaW9ucy4gTm9uIElTTyBkYXRlIGZvcm1hdHMgYXJlICcgK1xuICAgICdkaXNjb3VyYWdlZCBhbmQgd2lsbCBiZSByZW1vdmVkIGluIGFuIHVwY29taW5nIG1ham9yIHJlbGVhc2UuIFBsZWFzZSByZWZlciB0byAnICtcbiAgICAnaHR0cDovL21vbWVudGpzLmNvbS9ndWlkZXMvIy93YXJuaW5ncy9qcy1kYXRlLyBmb3IgbW9yZSBpbmZvLicsXG4gICAgZnVuY3Rpb24gKGNvbmZpZykge1xuICAgICAgICBjb25maWcuX2QgPSBuZXcgRGF0ZShjb25maWcuX2kgKyAoY29uZmlnLl91c2VVVEMgPyAnIFVUQycgOiAnJykpO1xuICAgIH1cbik7XG5cbi8vIFBpY2sgdGhlIGZpcnN0IGRlZmluZWQgb2YgdHdvIG9yIHRocmVlIGFyZ3VtZW50cy5cbmZ1bmN0aW9uIGRlZmF1bHRzKGEsIGIsIGMpIHtcbiAgICBpZiAoYSAhPSBudWxsKSB7XG4gICAgICAgIHJldHVybiBhO1xuICAgIH1cbiAgICBpZiAoYiAhPSBudWxsKSB7XG4gICAgICAgIHJldHVybiBiO1xuICAgIH1cbiAgICByZXR1cm4gYztcbn1cblxuZnVuY3Rpb24gY3VycmVudERhdGVBcnJheShjb25maWcpIHtcbiAgICAvLyBob29rcyBpcyBhY3R1YWxseSB0aGUgZXhwb3J0ZWQgbW9tZW50IG9iamVjdFxuICAgIHZhciBub3dWYWx1ZSA9IG5ldyBEYXRlKGhvb2tzLm5vdygpKTtcbiAgICBpZiAoY29uZmlnLl91c2VVVEMpIHtcbiAgICAgICAgcmV0dXJuIFtub3dWYWx1ZS5nZXRVVENGdWxsWWVhcigpLCBub3dWYWx1ZS5nZXRVVENNb250aCgpLCBub3dWYWx1ZS5nZXRVVENEYXRlKCldO1xuICAgIH1cbiAgICByZXR1cm4gW25vd1ZhbHVlLmdldEZ1bGxZZWFyKCksIG5vd1ZhbHVlLmdldE1vbnRoKCksIG5vd1ZhbHVlLmdldERhdGUoKV07XG59XG5cbi8vIGNvbnZlcnQgYW4gYXJyYXkgdG8gYSBkYXRlLlxuLy8gdGhlIGFycmF5IHNob3VsZCBtaXJyb3IgdGhlIHBhcmFtZXRlcnMgYmVsb3dcbi8vIG5vdGU6IGFsbCB2YWx1ZXMgcGFzdCB0aGUgeWVhciBhcmUgb3B0aW9uYWwgYW5kIHdpbGwgZGVmYXVsdCB0byB0aGUgbG93ZXN0IHBvc3NpYmxlIHZhbHVlLlxuLy8gW3llYXIsIG1vbnRoLCBkYXkgLCBob3VyLCBtaW51dGUsIHNlY29uZCwgbWlsbGlzZWNvbmRdXG5mdW5jdGlvbiBjb25maWdGcm9tQXJyYXkgKGNvbmZpZykge1xuICAgIHZhciBpLCBkYXRlLCBpbnB1dCA9IFtdLCBjdXJyZW50RGF0ZSwgeWVhclRvVXNlO1xuXG4gICAgaWYgKGNvbmZpZy5fZCkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY3VycmVudERhdGUgPSBjdXJyZW50RGF0ZUFycmF5KGNvbmZpZyk7XG5cbiAgICAvL2NvbXB1dGUgZGF5IG9mIHRoZSB5ZWFyIGZyb20gd2Vla3MgYW5kIHdlZWtkYXlzXG4gICAgaWYgKGNvbmZpZy5fdyAmJiBjb25maWcuX2FbREFURV0gPT0gbnVsbCAmJiBjb25maWcuX2FbTU9OVEhdID09IG51bGwpIHtcbiAgICAgICAgZGF5T2ZZZWFyRnJvbVdlZWtJbmZvKGNvbmZpZyk7XG4gICAgfVxuXG4gICAgLy9pZiB0aGUgZGF5IG9mIHRoZSB5ZWFyIGlzIHNldCwgZmlndXJlIG91dCB3aGF0IGl0IGlzXG4gICAgaWYgKGNvbmZpZy5fZGF5T2ZZZWFyKSB7XG4gICAgICAgIHllYXJUb1VzZSA9IGRlZmF1bHRzKGNvbmZpZy5fYVtZRUFSXSwgY3VycmVudERhdGVbWUVBUl0pO1xuXG4gICAgICAgIGlmIChjb25maWcuX2RheU9mWWVhciA+IGRheXNJblllYXIoeWVhclRvVXNlKSkge1xuICAgICAgICAgICAgZ2V0UGFyc2luZ0ZsYWdzKGNvbmZpZykuX292ZXJmbG93RGF5T2ZZZWFyID0gdHJ1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGRhdGUgPSBjcmVhdGVVVENEYXRlKHllYXJUb1VzZSwgMCwgY29uZmlnLl9kYXlPZlllYXIpO1xuICAgICAgICBjb25maWcuX2FbTU9OVEhdID0gZGF0ZS5nZXRVVENNb250aCgpO1xuICAgICAgICBjb25maWcuX2FbREFURV0gPSBkYXRlLmdldFVUQ0RhdGUoKTtcbiAgICB9XG5cbiAgICAvLyBEZWZhdWx0IHRvIGN1cnJlbnQgZGF0ZS5cbiAgICAvLyAqIGlmIG5vIHllYXIsIG1vbnRoLCBkYXkgb2YgbW9udGggYXJlIGdpdmVuLCBkZWZhdWx0IHRvIHRvZGF5XG4gICAgLy8gKiBpZiBkYXkgb2YgbW9udGggaXMgZ2l2ZW4sIGRlZmF1bHQgbW9udGggYW5kIHllYXJcbiAgICAvLyAqIGlmIG1vbnRoIGlzIGdpdmVuLCBkZWZhdWx0IG9ubHkgeWVhclxuICAgIC8vICogaWYgeWVhciBpcyBnaXZlbiwgZG9uJ3QgZGVmYXVsdCBhbnl0aGluZ1xuICAgIGZvciAoaSA9IDA7IGkgPCAzICYmIGNvbmZpZy5fYVtpXSA9PSBudWxsOyArK2kpIHtcbiAgICAgICAgY29uZmlnLl9hW2ldID0gaW5wdXRbaV0gPSBjdXJyZW50RGF0ZVtpXTtcbiAgICB9XG5cbiAgICAvLyBaZXJvIG91dCB3aGF0ZXZlciB3YXMgbm90IGRlZmF1bHRlZCwgaW5jbHVkaW5nIHRpbWVcbiAgICBmb3IgKDsgaSA8IDc7IGkrKykge1xuICAgICAgICBjb25maWcuX2FbaV0gPSBpbnB1dFtpXSA9IChjb25maWcuX2FbaV0gPT0gbnVsbCkgPyAoaSA9PT0gMiA/IDEgOiAwKSA6IGNvbmZpZy5fYVtpXTtcbiAgICB9XG5cbiAgICAvLyBDaGVjayBmb3IgMjQ6MDA6MDAuMDAwXG4gICAgaWYgKGNvbmZpZy5fYVtIT1VSXSA9PT0gMjQgJiZcbiAgICAgICAgICAgIGNvbmZpZy5fYVtNSU5VVEVdID09PSAwICYmXG4gICAgICAgICAgICBjb25maWcuX2FbU0VDT05EXSA9PT0gMCAmJlxuICAgICAgICAgICAgY29uZmlnLl9hW01JTExJU0VDT05EXSA9PT0gMCkge1xuICAgICAgICBjb25maWcuX25leHREYXkgPSB0cnVlO1xuICAgICAgICBjb25maWcuX2FbSE9VUl0gPSAwO1xuICAgIH1cblxuICAgIGNvbmZpZy5fZCA9IChjb25maWcuX3VzZVVUQyA/IGNyZWF0ZVVUQ0RhdGUgOiBjcmVhdGVEYXRlKS5hcHBseShudWxsLCBpbnB1dCk7XG4gICAgLy8gQXBwbHkgdGltZXpvbmUgb2Zmc2V0IGZyb20gaW5wdXQuIFRoZSBhY3R1YWwgdXRjT2Zmc2V0IGNhbiBiZSBjaGFuZ2VkXG4gICAgLy8gd2l0aCBwYXJzZVpvbmUuXG4gICAgaWYgKGNvbmZpZy5fdHptICE9IG51bGwpIHtcbiAgICAgICAgY29uZmlnLl9kLnNldFVUQ01pbnV0ZXMoY29uZmlnLl9kLmdldFVUQ01pbnV0ZXMoKSAtIGNvbmZpZy5fdHptKTtcbiAgICB9XG5cbiAgICBpZiAoY29uZmlnLl9uZXh0RGF5KSB7XG4gICAgICAgIGNvbmZpZy5fYVtIT1VSXSA9IDI0O1xuICAgIH1cbn1cblxuZnVuY3Rpb24gZGF5T2ZZZWFyRnJvbVdlZWtJbmZvKGNvbmZpZykge1xuICAgIHZhciB3LCB3ZWVrWWVhciwgd2Vlaywgd2Vla2RheSwgZG93LCBkb3ksIHRlbXAsIHdlZWtkYXlPdmVyZmxvdztcblxuICAgIHcgPSBjb25maWcuX3c7XG4gICAgaWYgKHcuR0cgIT0gbnVsbCB8fCB3LlcgIT0gbnVsbCB8fCB3LkUgIT0gbnVsbCkge1xuICAgICAgICBkb3cgPSAxO1xuICAgICAgICBkb3kgPSA0O1xuXG4gICAgICAgIC8vIFRPRE86IFdlIG5lZWQgdG8gdGFrZSB0aGUgY3VycmVudCBpc29XZWVrWWVhciwgYnV0IHRoYXQgZGVwZW5kcyBvblxuICAgICAgICAvLyBob3cgd2UgaW50ZXJwcmV0IG5vdyAobG9jYWwsIHV0YywgZml4ZWQgb2Zmc2V0KS4gU28gY3JlYXRlXG4gICAgICAgIC8vIGEgbm93IHZlcnNpb24gb2YgY3VycmVudCBjb25maWcgKHRha2UgbG9jYWwvdXRjL29mZnNldCBmbGFncywgYW5kXG4gICAgICAgIC8vIGNyZWF0ZSBub3cpLlxuICAgICAgICB3ZWVrWWVhciA9IGRlZmF1bHRzKHcuR0csIGNvbmZpZy5fYVtZRUFSXSwgd2Vla09mWWVhcihjcmVhdGVMb2NhbCgpLCAxLCA0KS55ZWFyKTtcbiAgICAgICAgd2VlayA9IGRlZmF1bHRzKHcuVywgMSk7XG4gICAgICAgIHdlZWtkYXkgPSBkZWZhdWx0cyh3LkUsIDEpO1xuICAgICAgICBpZiAod2Vla2RheSA8IDEgfHwgd2Vla2RheSA+IDcpIHtcbiAgICAgICAgICAgIHdlZWtkYXlPdmVyZmxvdyA9IHRydWU7XG4gICAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgICBkb3cgPSBjb25maWcuX2xvY2FsZS5fd2Vlay5kb3c7XG4gICAgICAgIGRveSA9IGNvbmZpZy5fbG9jYWxlLl93ZWVrLmRveTtcblxuICAgICAgICB2YXIgY3VyV2VlayA9IHdlZWtPZlllYXIoY3JlYXRlTG9jYWwoKSwgZG93LCBkb3kpO1xuXG4gICAgICAgIHdlZWtZZWFyID0gZGVmYXVsdHMody5nZywgY29uZmlnLl9hW1lFQVJdLCBjdXJXZWVrLnllYXIpO1xuXG4gICAgICAgIC8vIERlZmF1bHQgdG8gY3VycmVudCB3ZWVrLlxuICAgICAgICB3ZWVrID0gZGVmYXVsdHMody53LCBjdXJXZWVrLndlZWspO1xuXG4gICAgICAgIGlmICh3LmQgIT0gbnVsbCkge1xuICAgICAgICAgICAgLy8gd2Vla2RheSAtLSBsb3cgZGF5IG51bWJlcnMgYXJlIGNvbnNpZGVyZWQgbmV4dCB3ZWVrXG4gICAgICAgICAgICB3ZWVrZGF5ID0gdy5kO1xuICAgICAgICAgICAgaWYgKHdlZWtkYXkgPCAwIHx8IHdlZWtkYXkgPiA2KSB7XG4gICAgICAgICAgICAgICAgd2Vla2RheU92ZXJmbG93ID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmICh3LmUgIT0gbnVsbCkge1xuICAgICAgICAgICAgLy8gbG9jYWwgd2Vla2RheSAtLSBjb3VudGluZyBzdGFydHMgZnJvbSBiZWdpbmluZyBvZiB3ZWVrXG4gICAgICAgICAgICB3ZWVrZGF5ID0gdy5lICsgZG93O1xuICAgICAgICAgICAgaWYgKHcuZSA8IDAgfHwgdy5lID4gNikge1xuICAgICAgICAgICAgICAgIHdlZWtkYXlPdmVyZmxvdyA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvLyBkZWZhdWx0IHRvIGJlZ2luaW5nIG9mIHdlZWtcbiAgICAgICAgICAgIHdlZWtkYXkgPSBkb3c7XG4gICAgICAgIH1cbiAgICB9XG4gICAgaWYgKHdlZWsgPCAxIHx8IHdlZWsgPiB3ZWVrc0luWWVhcih3ZWVrWWVhciwgZG93LCBkb3kpKSB7XG4gICAgICAgIGdldFBhcnNpbmdGbGFncyhjb25maWcpLl9vdmVyZmxvd1dlZWtzID0gdHJ1ZTtcbiAgICB9IGVsc2UgaWYgKHdlZWtkYXlPdmVyZmxvdyAhPSBudWxsKSB7XG4gICAgICAgIGdldFBhcnNpbmdGbGFncyhjb25maWcpLl9vdmVyZmxvd1dlZWtkYXkgPSB0cnVlO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHRlbXAgPSBkYXlPZlllYXJGcm9tV2Vla3Mod2Vla1llYXIsIHdlZWssIHdlZWtkYXksIGRvdywgZG95KTtcbiAgICAgICAgY29uZmlnLl9hW1lFQVJdID0gdGVtcC55ZWFyO1xuICAgICAgICBjb25maWcuX2RheU9mWWVhciA9IHRlbXAuZGF5T2ZZZWFyO1xuICAgIH1cbn1cblxuLy8gY29uc3RhbnQgdGhhdCByZWZlcnMgdG8gdGhlIElTTyBzdGFuZGFyZFxuaG9va3MuSVNPXzg2MDEgPSBmdW5jdGlvbiAoKSB7fTtcblxuLy8gZGF0ZSBmcm9tIHN0cmluZyBhbmQgZm9ybWF0IHN0cmluZ1xuZnVuY3Rpb24gY29uZmlnRnJvbVN0cmluZ0FuZEZvcm1hdChjb25maWcpIHtcbiAgICAvLyBUT0RPOiBNb3ZlIHRoaXMgdG8gYW5vdGhlciBwYXJ0IG9mIHRoZSBjcmVhdGlvbiBmbG93IHRvIHByZXZlbnQgY2lyY3VsYXIgZGVwc1xuICAgIGlmIChjb25maWcuX2YgPT09IGhvb2tzLklTT184NjAxKSB7XG4gICAgICAgIGNvbmZpZ0Zyb21JU08oY29uZmlnKTtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbmZpZy5fYSA9IFtdO1xuICAgIGdldFBhcnNpbmdGbGFncyhjb25maWcpLmVtcHR5ID0gdHJ1ZTtcblxuICAgIC8vIFRoaXMgYXJyYXkgaXMgdXNlZCB0byBtYWtlIGEgRGF0ZSwgZWl0aGVyIHdpdGggYG5ldyBEYXRlYCBvciBgRGF0ZS5VVENgXG4gICAgdmFyIHN0cmluZyA9ICcnICsgY29uZmlnLl9pLFxuICAgICAgICBpLCBwYXJzZWRJbnB1dCwgdG9rZW5zLCB0b2tlbiwgc2tpcHBlZCxcbiAgICAgICAgc3RyaW5nTGVuZ3RoID0gc3RyaW5nLmxlbmd0aCxcbiAgICAgICAgdG90YWxQYXJzZWRJbnB1dExlbmd0aCA9IDA7XG5cbiAgICB0b2tlbnMgPSBleHBhbmRGb3JtYXQoY29uZmlnLl9mLCBjb25maWcuX2xvY2FsZSkubWF0Y2goZm9ybWF0dGluZ1Rva2VucykgfHwgW107XG5cbiAgICBmb3IgKGkgPSAwOyBpIDwgdG9rZW5zLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHRva2VuID0gdG9rZW5zW2ldO1xuICAgICAgICBwYXJzZWRJbnB1dCA9IChzdHJpbmcubWF0Y2goZ2V0UGFyc2VSZWdleEZvclRva2VuKHRva2VuLCBjb25maWcpKSB8fCBbXSlbMF07XG4gICAgICAgIC8vIGNvbnNvbGUubG9nKCd0b2tlbicsIHRva2VuLCAncGFyc2VkSW5wdXQnLCBwYXJzZWRJbnB1dCxcbiAgICAgICAgLy8gICAgICAgICAncmVnZXgnLCBnZXRQYXJzZVJlZ2V4Rm9yVG9rZW4odG9rZW4sIGNvbmZpZykpO1xuICAgICAgICBpZiAocGFyc2VkSW5wdXQpIHtcbiAgICAgICAgICAgIHNraXBwZWQgPSBzdHJpbmcuc3Vic3RyKDAsIHN0cmluZy5pbmRleE9mKHBhcnNlZElucHV0KSk7XG4gICAgICAgICAgICBpZiAoc2tpcHBlZC5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgZ2V0UGFyc2luZ0ZsYWdzKGNvbmZpZykudW51c2VkSW5wdXQucHVzaChza2lwcGVkKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHN0cmluZyA9IHN0cmluZy5zbGljZShzdHJpbmcuaW5kZXhPZihwYXJzZWRJbnB1dCkgKyBwYXJzZWRJbnB1dC5sZW5ndGgpO1xuICAgICAgICAgICAgdG90YWxQYXJzZWRJbnB1dExlbmd0aCArPSBwYXJzZWRJbnB1dC5sZW5ndGg7XG4gICAgICAgIH1cbiAgICAgICAgLy8gZG9uJ3QgcGFyc2UgaWYgaXQncyBub3QgYSBrbm93biB0b2tlblxuICAgICAgICBpZiAoZm9ybWF0VG9rZW5GdW5jdGlvbnNbdG9rZW5dKSB7XG4gICAgICAgICAgICBpZiAocGFyc2VkSW5wdXQpIHtcbiAgICAgICAgICAgICAgICBnZXRQYXJzaW5nRmxhZ3MoY29uZmlnKS5lbXB0eSA9IGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgZ2V0UGFyc2luZ0ZsYWdzKGNvbmZpZykudW51c2VkVG9rZW5zLnB1c2godG9rZW4pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYWRkVGltZVRvQXJyYXlGcm9tVG9rZW4odG9rZW4sIHBhcnNlZElucHV0LCBjb25maWcpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGNvbmZpZy5fc3RyaWN0ICYmICFwYXJzZWRJbnB1dCkge1xuICAgICAgICAgICAgZ2V0UGFyc2luZ0ZsYWdzKGNvbmZpZykudW51c2VkVG9rZW5zLnB1c2godG9rZW4pO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLy8gYWRkIHJlbWFpbmluZyB1bnBhcnNlZCBpbnB1dCBsZW5ndGggdG8gdGhlIHN0cmluZ1xuICAgIGdldFBhcnNpbmdGbGFncyhjb25maWcpLmNoYXJzTGVmdE92ZXIgPSBzdHJpbmdMZW5ndGggLSB0b3RhbFBhcnNlZElucHV0TGVuZ3RoO1xuICAgIGlmIChzdHJpbmcubGVuZ3RoID4gMCkge1xuICAgICAgICBnZXRQYXJzaW5nRmxhZ3MoY29uZmlnKS51bnVzZWRJbnB1dC5wdXNoKHN0cmluZyk7XG4gICAgfVxuXG4gICAgLy8gY2xlYXIgXzEyaCBmbGFnIGlmIGhvdXIgaXMgPD0gMTJcbiAgICBpZiAoY29uZmlnLl9hW0hPVVJdIDw9IDEyICYmXG4gICAgICAgIGdldFBhcnNpbmdGbGFncyhjb25maWcpLmJpZ0hvdXIgPT09IHRydWUgJiZcbiAgICAgICAgY29uZmlnLl9hW0hPVVJdID4gMCkge1xuICAgICAgICBnZXRQYXJzaW5nRmxhZ3MoY29uZmlnKS5iaWdIb3VyID0gdW5kZWZpbmVkO1xuICAgIH1cblxuICAgIGdldFBhcnNpbmdGbGFncyhjb25maWcpLnBhcnNlZERhdGVQYXJ0cyA9IGNvbmZpZy5fYS5zbGljZSgwKTtcbiAgICBnZXRQYXJzaW5nRmxhZ3MoY29uZmlnKS5tZXJpZGllbSA9IGNvbmZpZy5fbWVyaWRpZW07XG4gICAgLy8gaGFuZGxlIG1lcmlkaWVtXG4gICAgY29uZmlnLl9hW0hPVVJdID0gbWVyaWRpZW1GaXhXcmFwKGNvbmZpZy5fbG9jYWxlLCBjb25maWcuX2FbSE9VUl0sIGNvbmZpZy5fbWVyaWRpZW0pO1xuXG4gICAgY29uZmlnRnJvbUFycmF5KGNvbmZpZyk7XG4gICAgY2hlY2tPdmVyZmxvdyhjb25maWcpO1xufVxuXG5cbmZ1bmN0aW9uIG1lcmlkaWVtRml4V3JhcCAobG9jYWxlLCBob3VyLCBtZXJpZGllbSkge1xuICAgIHZhciBpc1BtO1xuXG4gICAgaWYgKG1lcmlkaWVtID09IG51bGwpIHtcbiAgICAgICAgLy8gbm90aGluZyB0byBkb1xuICAgICAgICByZXR1cm4gaG91cjtcbiAgICB9XG4gICAgaWYgKGxvY2FsZS5tZXJpZGllbUhvdXIgIT0gbnVsbCkge1xuICAgICAgICByZXR1cm4gbG9jYWxlLm1lcmlkaWVtSG91cihob3VyLCBtZXJpZGllbSk7XG4gICAgfSBlbHNlIGlmIChsb2NhbGUuaXNQTSAhPSBudWxsKSB7XG4gICAgICAgIC8vIEZhbGxiYWNrXG4gICAgICAgIGlzUG0gPSBsb2NhbGUuaXNQTShtZXJpZGllbSk7XG4gICAgICAgIGlmIChpc1BtICYmIGhvdXIgPCAxMikge1xuICAgICAgICAgICAgaG91ciArPSAxMjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIWlzUG0gJiYgaG91ciA9PT0gMTIpIHtcbiAgICAgICAgICAgIGhvdXIgPSAwO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBob3VyO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIHRoaXMgaXMgbm90IHN1cHBvc2VkIHRvIGhhcHBlblxuICAgICAgICByZXR1cm4gaG91cjtcbiAgICB9XG59XG5cbi8vIGRhdGUgZnJvbSBzdHJpbmcgYW5kIGFycmF5IG9mIGZvcm1hdCBzdHJpbmdzXG5mdW5jdGlvbiBjb25maWdGcm9tU3RyaW5nQW5kQXJyYXkoY29uZmlnKSB7XG4gICAgdmFyIHRlbXBDb25maWcsXG4gICAgICAgIGJlc3RNb21lbnQsXG5cbiAgICAgICAgc2NvcmVUb0JlYXQsXG4gICAgICAgIGksXG4gICAgICAgIGN1cnJlbnRTY29yZTtcblxuICAgIGlmIChjb25maWcuX2YubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIGdldFBhcnNpbmdGbGFncyhjb25maWcpLmludmFsaWRGb3JtYXQgPSB0cnVlO1xuICAgICAgICBjb25maWcuX2QgPSBuZXcgRGF0ZShOYU4pO1xuICAgICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgZm9yIChpID0gMDsgaSA8IGNvbmZpZy5fZi5sZW5ndGg7IGkrKykge1xuICAgICAgICBjdXJyZW50U2NvcmUgPSAwO1xuICAgICAgICB0ZW1wQ29uZmlnID0gY29weUNvbmZpZyh7fSwgY29uZmlnKTtcbiAgICAgICAgaWYgKGNvbmZpZy5fdXNlVVRDICE9IG51bGwpIHtcbiAgICAgICAgICAgIHRlbXBDb25maWcuX3VzZVVUQyA9IGNvbmZpZy5fdXNlVVRDO1xuICAgICAgICB9XG4gICAgICAgIHRlbXBDb25maWcuX2YgPSBjb25maWcuX2ZbaV07XG4gICAgICAgIGNvbmZpZ0Zyb21TdHJpbmdBbmRGb3JtYXQodGVtcENvbmZpZyk7XG5cbiAgICAgICAgaWYgKCFpc1ZhbGlkKHRlbXBDb25maWcpKSB7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGlmIHRoZXJlIGlzIGFueSBpbnB1dCB0aGF0IHdhcyBub3QgcGFyc2VkIGFkZCBhIHBlbmFsdHkgZm9yIHRoYXQgZm9ybWF0XG4gICAgICAgIGN1cnJlbnRTY29yZSArPSBnZXRQYXJzaW5nRmxhZ3ModGVtcENvbmZpZykuY2hhcnNMZWZ0T3ZlcjtcblxuICAgICAgICAvL29yIHRva2Vuc1xuICAgICAgICBjdXJyZW50U2NvcmUgKz0gZ2V0UGFyc2luZ0ZsYWdzKHRlbXBDb25maWcpLnVudXNlZFRva2Vucy5sZW5ndGggKiAxMDtcblxuICAgICAgICBnZXRQYXJzaW5nRmxhZ3ModGVtcENvbmZpZykuc2NvcmUgPSBjdXJyZW50U2NvcmU7XG5cbiAgICAgICAgaWYgKHNjb3JlVG9CZWF0ID09IG51bGwgfHwgY3VycmVudFNjb3JlIDwgc2NvcmVUb0JlYXQpIHtcbiAgICAgICAgICAgIHNjb3JlVG9CZWF0ID0gY3VycmVudFNjb3JlO1xuICAgICAgICAgICAgYmVzdE1vbWVudCA9IHRlbXBDb25maWc7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBleHRlbmQoY29uZmlnLCBiZXN0TW9tZW50IHx8IHRlbXBDb25maWcpO1xufVxuXG5mdW5jdGlvbiBjb25maWdGcm9tT2JqZWN0KGNvbmZpZykge1xuICAgIGlmIChjb25maWcuX2QpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHZhciBpID0gbm9ybWFsaXplT2JqZWN0VW5pdHMoY29uZmlnLl9pKTtcbiAgICBjb25maWcuX2EgPSBtYXAoW2kueWVhciwgaS5tb250aCwgaS5kYXkgfHwgaS5kYXRlLCBpLmhvdXIsIGkubWludXRlLCBpLnNlY29uZCwgaS5taWxsaXNlY29uZF0sIGZ1bmN0aW9uIChvYmopIHtcbiAgICAgICAgcmV0dXJuIG9iaiAmJiBwYXJzZUludChvYmosIDEwKTtcbiAgICB9KTtcblxuICAgIGNvbmZpZ0Zyb21BcnJheShjb25maWcpO1xufVxuXG5mdW5jdGlvbiBjcmVhdGVGcm9tQ29uZmlnIChjb25maWcpIHtcbiAgICB2YXIgcmVzID0gbmV3IE1vbWVudChjaGVja092ZXJmbG93KHByZXBhcmVDb25maWcoY29uZmlnKSkpO1xuICAgIGlmIChyZXMuX25leHREYXkpIHtcbiAgICAgICAgLy8gQWRkaW5nIGlzIHNtYXJ0IGVub3VnaCBhcm91bmQgRFNUXG4gICAgICAgIHJlcy5hZGQoMSwgJ2QnKTtcbiAgICAgICAgcmVzLl9uZXh0RGF5ID0gdW5kZWZpbmVkO1xuICAgIH1cblxuICAgIHJldHVybiByZXM7XG59XG5cbmZ1bmN0aW9uIHByZXBhcmVDb25maWcgKGNvbmZpZykge1xuICAgIHZhciBpbnB1dCA9IGNvbmZpZy5faSxcbiAgICAgICAgZm9ybWF0ID0gY29uZmlnLl9mO1xuXG4gICAgY29uZmlnLl9sb2NhbGUgPSBjb25maWcuX2xvY2FsZSB8fCBnZXRMb2NhbGUoY29uZmlnLl9sKTtcblxuICAgIGlmIChpbnB1dCA9PT0gbnVsbCB8fCAoZm9ybWF0ID09PSB1bmRlZmluZWQgJiYgaW5wdXQgPT09ICcnKSkge1xuICAgICAgICByZXR1cm4gY3JlYXRlSW52YWxpZCh7bnVsbElucHV0OiB0cnVlfSk7XG4gICAgfVxuXG4gICAgaWYgKHR5cGVvZiBpbnB1dCA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgY29uZmlnLl9pID0gaW5wdXQgPSBjb25maWcuX2xvY2FsZS5wcmVwYXJzZShpbnB1dCk7XG4gICAgfVxuXG4gICAgaWYgKGlzTW9tZW50KGlucHV0KSkge1xuICAgICAgICByZXR1cm4gbmV3IE1vbWVudChjaGVja092ZXJmbG93KGlucHV0KSk7XG4gICAgfSBlbHNlIGlmIChpc0RhdGUoaW5wdXQpKSB7XG4gICAgICAgIGNvbmZpZy5fZCA9IGlucHV0O1xuICAgIH0gZWxzZSBpZiAoaXNBcnJheShmb3JtYXQpKSB7XG4gICAgICAgIGNvbmZpZ0Zyb21TdHJpbmdBbmRBcnJheShjb25maWcpO1xuICAgIH0gZWxzZSBpZiAoZm9ybWF0KSB7XG4gICAgICAgIGNvbmZpZ0Zyb21TdHJpbmdBbmRGb3JtYXQoY29uZmlnKTtcbiAgICB9ICBlbHNlIHtcbiAgICAgICAgY29uZmlnRnJvbUlucHV0KGNvbmZpZyk7XG4gICAgfVxuXG4gICAgaWYgKCFpc1ZhbGlkKGNvbmZpZykpIHtcbiAgICAgICAgY29uZmlnLl9kID0gbnVsbDtcbiAgICB9XG5cbiAgICByZXR1cm4gY29uZmlnO1xufVxuXG5mdW5jdGlvbiBjb25maWdGcm9tSW5wdXQoY29uZmlnKSB7XG4gICAgdmFyIGlucHV0ID0gY29uZmlnLl9pO1xuICAgIGlmIChpbnB1dCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbmZpZy5fZCA9IG5ldyBEYXRlKGhvb2tzLm5vdygpKTtcbiAgICB9IGVsc2UgaWYgKGlzRGF0ZShpbnB1dCkpIHtcbiAgICAgICAgY29uZmlnLl9kID0gbmV3IERhdGUoaW5wdXQudmFsdWVPZigpKTtcbiAgICB9IGVsc2UgaWYgKHR5cGVvZiBpbnB1dCA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgY29uZmlnRnJvbVN0cmluZyhjb25maWcpO1xuICAgIH0gZWxzZSBpZiAoaXNBcnJheShpbnB1dCkpIHtcbiAgICAgICAgY29uZmlnLl9hID0gbWFwKGlucHV0LnNsaWNlKDApLCBmdW5jdGlvbiAob2JqKSB7XG4gICAgICAgICAgICByZXR1cm4gcGFyc2VJbnQob2JqLCAxMCk7XG4gICAgICAgIH0pO1xuICAgICAgICBjb25maWdGcm9tQXJyYXkoY29uZmlnKTtcbiAgICB9IGVsc2UgaWYgKHR5cGVvZihpbnB1dCkgPT09ICdvYmplY3QnKSB7XG4gICAgICAgIGNvbmZpZ0Zyb21PYmplY3QoY29uZmlnKTtcbiAgICB9IGVsc2UgaWYgKGlzTnVtYmVyKGlucHV0KSkge1xuICAgICAgICAvLyBmcm9tIG1pbGxpc2Vjb25kc1xuICAgICAgICBjb25maWcuX2QgPSBuZXcgRGF0ZShpbnB1dCk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgaG9va3MuY3JlYXRlRnJvbUlucHV0RmFsbGJhY2soY29uZmlnKTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZUxvY2FsT3JVVEMgKGlucHV0LCBmb3JtYXQsIGxvY2FsZSwgc3RyaWN0LCBpc1VUQykge1xuICAgIHZhciBjID0ge307XG5cbiAgICBpZiAobG9jYWxlID09PSB0cnVlIHx8IGxvY2FsZSA9PT0gZmFsc2UpIHtcbiAgICAgICAgc3RyaWN0ID0gbG9jYWxlO1xuICAgICAgICBsb2NhbGUgPSB1bmRlZmluZWQ7XG4gICAgfVxuXG4gICAgaWYgKChpc09iamVjdChpbnB1dCkgJiYgaXNPYmplY3RFbXB0eShpbnB1dCkpIHx8XG4gICAgICAgICAgICAoaXNBcnJheShpbnB1dCkgJiYgaW5wdXQubGVuZ3RoID09PSAwKSkge1xuICAgICAgICBpbnB1dCA9IHVuZGVmaW5lZDtcbiAgICB9XG4gICAgLy8gb2JqZWN0IGNvbnN0cnVjdGlvbiBtdXN0IGJlIGRvbmUgdGhpcyB3YXkuXG4gICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL21vbWVudC9tb21lbnQvaXNzdWVzLzE0MjNcbiAgICBjLl9pc0FNb21lbnRPYmplY3QgPSB0cnVlO1xuICAgIGMuX3VzZVVUQyA9IGMuX2lzVVRDID0gaXNVVEM7XG4gICAgYy5fbCA9IGxvY2FsZTtcbiAgICBjLl9pID0gaW5wdXQ7XG4gICAgYy5fZiA9IGZvcm1hdDtcbiAgICBjLl9zdHJpY3QgPSBzdHJpY3Q7XG5cbiAgICByZXR1cm4gY3JlYXRlRnJvbUNvbmZpZyhjKTtcbn1cblxuZnVuY3Rpb24gY3JlYXRlTG9jYWwgKGlucHV0LCBmb3JtYXQsIGxvY2FsZSwgc3RyaWN0KSB7XG4gICAgcmV0dXJuIGNyZWF0ZUxvY2FsT3JVVEMoaW5wdXQsIGZvcm1hdCwgbG9jYWxlLCBzdHJpY3QsIGZhbHNlKTtcbn1cblxudmFyIHByb3RvdHlwZU1pbiA9IGRlcHJlY2F0ZShcbiAgICAnbW9tZW50KCkubWluIGlzIGRlcHJlY2F0ZWQsIHVzZSBtb21lbnQubWF4IGluc3RlYWQuIGh0dHA6Ly9tb21lbnRqcy5jb20vZ3VpZGVzLyMvd2FybmluZ3MvbWluLW1heC8nLFxuICAgIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIG90aGVyID0gY3JlYXRlTG9jYWwuYXBwbHkobnVsbCwgYXJndW1lbnRzKTtcbiAgICAgICAgaWYgKHRoaXMuaXNWYWxpZCgpICYmIG90aGVyLmlzVmFsaWQoKSkge1xuICAgICAgICAgICAgcmV0dXJuIG90aGVyIDwgdGhpcyA/IHRoaXMgOiBvdGhlcjtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBjcmVhdGVJbnZhbGlkKCk7XG4gICAgICAgIH1cbiAgICB9XG4pO1xuXG52YXIgcHJvdG90eXBlTWF4ID0gZGVwcmVjYXRlKFxuICAgICdtb21lbnQoKS5tYXggaXMgZGVwcmVjYXRlZCwgdXNlIG1vbWVudC5taW4gaW5zdGVhZC4gaHR0cDovL21vbWVudGpzLmNvbS9ndWlkZXMvIy93YXJuaW5ncy9taW4tbWF4LycsXG4gICAgZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgb3RoZXIgPSBjcmVhdGVMb2NhbC5hcHBseShudWxsLCBhcmd1bWVudHMpO1xuICAgICAgICBpZiAodGhpcy5pc1ZhbGlkKCkgJiYgb3RoZXIuaXNWYWxpZCgpKSB7XG4gICAgICAgICAgICByZXR1cm4gb3RoZXIgPiB0aGlzID8gdGhpcyA6IG90aGVyO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIGNyZWF0ZUludmFsaWQoKTtcbiAgICAgICAgfVxuICAgIH1cbik7XG5cbi8vIFBpY2sgYSBtb21lbnQgbSBmcm9tIG1vbWVudHMgc28gdGhhdCBtW2ZuXShvdGhlcikgaXMgdHJ1ZSBmb3IgYWxsXG4vLyBvdGhlci4gVGhpcyByZWxpZXMgb24gdGhlIGZ1bmN0aW9uIGZuIHRvIGJlIHRyYW5zaXRpdmUuXG4vL1xuLy8gbW9tZW50cyBzaG91bGQgZWl0aGVyIGJlIGFuIGFycmF5IG9mIG1vbWVudCBvYmplY3RzIG9yIGFuIGFycmF5LCB3aG9zZVxuLy8gZmlyc3QgZWxlbWVudCBpcyBhbiBhcnJheSBvZiBtb21lbnQgb2JqZWN0cy5cbmZ1bmN0aW9uIHBpY2tCeShmbiwgbW9tZW50cykge1xuICAgIHZhciByZXMsIGk7XG4gICAgaWYgKG1vbWVudHMubGVuZ3RoID09PSAxICYmIGlzQXJyYXkobW9tZW50c1swXSkpIHtcbiAgICAgICAgbW9tZW50cyA9IG1vbWVudHNbMF07XG4gICAgfVxuICAgIGlmICghbW9tZW50cy5sZW5ndGgpIHtcbiAgICAgICAgcmV0dXJuIGNyZWF0ZUxvY2FsKCk7XG4gICAgfVxuICAgIHJlcyA9IG1vbWVudHNbMF07XG4gICAgZm9yIChpID0gMTsgaSA8IG1vbWVudHMubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgaWYgKCFtb21lbnRzW2ldLmlzVmFsaWQoKSB8fCBtb21lbnRzW2ldW2ZuXShyZXMpKSB7XG4gICAgICAgICAgICByZXMgPSBtb21lbnRzW2ldO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiByZXM7XG59XG5cbi8vIFRPRE86IFVzZSBbXS5zb3J0IGluc3RlYWQ/XG5mdW5jdGlvbiBtaW4gKCkge1xuICAgIHZhciBhcmdzID0gW10uc2xpY2UuY2FsbChhcmd1bWVudHMsIDApO1xuXG4gICAgcmV0dXJuIHBpY2tCeSgnaXNCZWZvcmUnLCBhcmdzKTtcbn1cblxuZnVuY3Rpb24gbWF4ICgpIHtcbiAgICB2YXIgYXJncyA9IFtdLnNsaWNlLmNhbGwoYXJndW1lbnRzLCAwKTtcblxuICAgIHJldHVybiBwaWNrQnkoJ2lzQWZ0ZXInLCBhcmdzKTtcbn1cblxudmFyIG5vdyA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gRGF0ZS5ub3cgPyBEYXRlLm5vdygpIDogKyhuZXcgRGF0ZSgpKTtcbn07XG5cbmZ1bmN0aW9uIER1cmF0aW9uIChkdXJhdGlvbikge1xuICAgIHZhciBub3JtYWxpemVkSW5wdXQgPSBub3JtYWxpemVPYmplY3RVbml0cyhkdXJhdGlvbiksXG4gICAgICAgIHllYXJzID0gbm9ybWFsaXplZElucHV0LnllYXIgfHwgMCxcbiAgICAgICAgcXVhcnRlcnMgPSBub3JtYWxpemVkSW5wdXQucXVhcnRlciB8fCAwLFxuICAgICAgICBtb250aHMgPSBub3JtYWxpemVkSW5wdXQubW9udGggfHwgMCxcbiAgICAgICAgd2Vla3MgPSBub3JtYWxpemVkSW5wdXQud2VlayB8fCAwLFxuICAgICAgICBkYXlzID0gbm9ybWFsaXplZElucHV0LmRheSB8fCAwLFxuICAgICAgICBob3VycyA9IG5vcm1hbGl6ZWRJbnB1dC5ob3VyIHx8IDAsXG4gICAgICAgIG1pbnV0ZXMgPSBub3JtYWxpemVkSW5wdXQubWludXRlIHx8IDAsXG4gICAgICAgIHNlY29uZHMgPSBub3JtYWxpemVkSW5wdXQuc2Vjb25kIHx8IDAsXG4gICAgICAgIG1pbGxpc2Vjb25kcyA9IG5vcm1hbGl6ZWRJbnB1dC5taWxsaXNlY29uZCB8fCAwO1xuXG4gICAgLy8gcmVwcmVzZW50YXRpb24gZm9yIGRhdGVBZGRSZW1vdmVcbiAgICB0aGlzLl9taWxsaXNlY29uZHMgPSArbWlsbGlzZWNvbmRzICtcbiAgICAgICAgc2Vjb25kcyAqIDFlMyArIC8vIDEwMDBcbiAgICAgICAgbWludXRlcyAqIDZlNCArIC8vIDEwMDAgKiA2MFxuICAgICAgICBob3VycyAqIDEwMDAgKiA2MCAqIDYwOyAvL3VzaW5nIDEwMDAgKiA2MCAqIDYwIGluc3RlYWQgb2YgMzZlNSB0byBhdm9pZCBmbG9hdGluZyBwb2ludCByb3VuZGluZyBlcnJvcnMgaHR0cHM6Ly9naXRodWIuY29tL21vbWVudC9tb21lbnQvaXNzdWVzLzI5NzhcbiAgICAvLyBCZWNhdXNlIG9mIGRhdGVBZGRSZW1vdmUgdHJlYXRzIDI0IGhvdXJzIGFzIGRpZmZlcmVudCBmcm9tIGFcbiAgICAvLyBkYXkgd2hlbiB3b3JraW5nIGFyb3VuZCBEU1QsIHdlIG5lZWQgdG8gc3RvcmUgdGhlbSBzZXBhcmF0ZWx5XG4gICAgdGhpcy5fZGF5cyA9ICtkYXlzICtcbiAgICAgICAgd2Vla3MgKiA3O1xuICAgIC8vIEl0IGlzIGltcG9zc2libGUgdHJhbnNsYXRlIG1vbnRocyBpbnRvIGRheXMgd2l0aG91dCBrbm93aW5nXG4gICAgLy8gd2hpY2ggbW9udGhzIHlvdSBhcmUgYXJlIHRhbGtpbmcgYWJvdXQsIHNvIHdlIGhhdmUgdG8gc3RvcmVcbiAgICAvLyBpdCBzZXBhcmF0ZWx5LlxuICAgIHRoaXMuX21vbnRocyA9ICttb250aHMgK1xuICAgICAgICBxdWFydGVycyAqIDMgK1xuICAgICAgICB5ZWFycyAqIDEyO1xuXG4gICAgdGhpcy5fZGF0YSA9IHt9O1xuXG4gICAgdGhpcy5fbG9jYWxlID0gZ2V0TG9jYWxlKCk7XG5cbiAgICB0aGlzLl9idWJibGUoKTtcbn1cblxuZnVuY3Rpb24gaXNEdXJhdGlvbiAob2JqKSB7XG4gICAgcmV0dXJuIG9iaiBpbnN0YW5jZW9mIER1cmF0aW9uO1xufVxuXG5mdW5jdGlvbiBhYnNSb3VuZCAobnVtYmVyKSB7XG4gICAgaWYgKG51bWJlciA8IDApIHtcbiAgICAgICAgcmV0dXJuIE1hdGgucm91bmQoLTEgKiBudW1iZXIpICogLTE7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIE1hdGgucm91bmQobnVtYmVyKTtcbiAgICB9XG59XG5cbi8vIEZPUk1BVFRJTkdcblxuZnVuY3Rpb24gb2Zmc2V0ICh0b2tlbiwgc2VwYXJhdG9yKSB7XG4gICAgYWRkRm9ybWF0VG9rZW4odG9rZW4sIDAsIDAsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIG9mZnNldCA9IHRoaXMudXRjT2Zmc2V0KCk7XG4gICAgICAgIHZhciBzaWduID0gJysnO1xuICAgICAgICBpZiAob2Zmc2V0IDwgMCkge1xuICAgICAgICAgICAgb2Zmc2V0ID0gLW9mZnNldDtcbiAgICAgICAgICAgIHNpZ24gPSAnLSc7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHNpZ24gKyB6ZXJvRmlsbCh+fihvZmZzZXQgLyA2MCksIDIpICsgc2VwYXJhdG9yICsgemVyb0ZpbGwofn4ob2Zmc2V0KSAlIDYwLCAyKTtcbiAgICB9KTtcbn1cblxub2Zmc2V0KCdaJywgJzonKTtcbm9mZnNldCgnWlonLCAnJyk7XG5cbi8vIFBBUlNJTkdcblxuYWRkUmVnZXhUb2tlbignWicsICBtYXRjaFNob3J0T2Zmc2V0KTtcbmFkZFJlZ2V4VG9rZW4oJ1paJywgbWF0Y2hTaG9ydE9mZnNldCk7XG5hZGRQYXJzZVRva2VuKFsnWicsICdaWiddLCBmdW5jdGlvbiAoaW5wdXQsIGFycmF5LCBjb25maWcpIHtcbiAgICBjb25maWcuX3VzZVVUQyA9IHRydWU7XG4gICAgY29uZmlnLl90em0gPSBvZmZzZXRGcm9tU3RyaW5nKG1hdGNoU2hvcnRPZmZzZXQsIGlucHV0KTtcbn0pO1xuXG4vLyBIRUxQRVJTXG5cbi8vIHRpbWV6b25lIGNodW5rZXJcbi8vICcrMTA6MDAnID4gWycxMCcsICAnMDAnXVxuLy8gJy0xNTMwJyAgPiBbJy0xNScsICczMCddXG52YXIgY2h1bmtPZmZzZXQgPSAvKFtcXCtcXC1dfFxcZFxcZCkvZ2k7XG5cbmZ1bmN0aW9uIG9mZnNldEZyb21TdHJpbmcobWF0Y2hlciwgc3RyaW5nKSB7XG4gICAgdmFyIG1hdGNoZXMgPSAoc3RyaW5nIHx8ICcnKS5tYXRjaChtYXRjaGVyKTtcblxuICAgIGlmIChtYXRjaGVzID09PSBudWxsKSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cblxuICAgIHZhciBjaHVuayAgID0gbWF0Y2hlc1ttYXRjaGVzLmxlbmd0aCAtIDFdIHx8IFtdO1xuICAgIHZhciBwYXJ0cyAgID0gKGNodW5rICsgJycpLm1hdGNoKGNodW5rT2Zmc2V0KSB8fCBbJy0nLCAwLCAwXTtcbiAgICB2YXIgbWludXRlcyA9ICsocGFydHNbMV0gKiA2MCkgKyB0b0ludChwYXJ0c1syXSk7XG5cbiAgICByZXR1cm4gbWludXRlcyA9PT0gMCA/XG4gICAgICAwIDpcbiAgICAgIHBhcnRzWzBdID09PSAnKycgPyBtaW51dGVzIDogLW1pbnV0ZXM7XG59XG5cbi8vIFJldHVybiBhIG1vbWVudCBmcm9tIGlucHV0LCB0aGF0IGlzIGxvY2FsL3V0Yy96b25lIGVxdWl2YWxlbnQgdG8gbW9kZWwuXG5mdW5jdGlvbiBjbG9uZVdpdGhPZmZzZXQoaW5wdXQsIG1vZGVsKSB7XG4gICAgdmFyIHJlcywgZGlmZjtcbiAgICBpZiAobW9kZWwuX2lzVVRDKSB7XG4gICAgICAgIHJlcyA9IG1vZGVsLmNsb25lKCk7XG4gICAgICAgIGRpZmYgPSAoaXNNb21lbnQoaW5wdXQpIHx8IGlzRGF0ZShpbnB1dCkgPyBpbnB1dC52YWx1ZU9mKCkgOiBjcmVhdGVMb2NhbChpbnB1dCkudmFsdWVPZigpKSAtIHJlcy52YWx1ZU9mKCk7XG4gICAgICAgIC8vIFVzZSBsb3ctbGV2ZWwgYXBpLCBiZWNhdXNlIHRoaXMgZm4gaXMgbG93LWxldmVsIGFwaS5cbiAgICAgICAgcmVzLl9kLnNldFRpbWUocmVzLl9kLnZhbHVlT2YoKSArIGRpZmYpO1xuICAgICAgICBob29rcy51cGRhdGVPZmZzZXQocmVzLCBmYWxzZSk7XG4gICAgICAgIHJldHVybiByZXM7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIGNyZWF0ZUxvY2FsKGlucHV0KS5sb2NhbCgpO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gZ2V0RGF0ZU9mZnNldCAobSkge1xuICAgIC8vIE9uIEZpcmVmb3guMjQgRGF0ZSNnZXRUaW1lem9uZU9mZnNldCByZXR1cm5zIGEgZmxvYXRpbmcgcG9pbnQuXG4gICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL21vbWVudC9tb21lbnQvcHVsbC8xODcxXG4gICAgcmV0dXJuIC1NYXRoLnJvdW5kKG0uX2QuZ2V0VGltZXpvbmVPZmZzZXQoKSAvIDE1KSAqIDE1O1xufVxuXG4vLyBIT09LU1xuXG4vLyBUaGlzIGZ1bmN0aW9uIHdpbGwgYmUgY2FsbGVkIHdoZW5ldmVyIGEgbW9tZW50IGlzIG11dGF0ZWQuXG4vLyBJdCBpcyBpbnRlbmRlZCB0byBrZWVwIHRoZSBvZmZzZXQgaW4gc3luYyB3aXRoIHRoZSB0aW1lem9uZS5cbmhvb2tzLnVwZGF0ZU9mZnNldCA9IGZ1bmN0aW9uICgpIHt9O1xuXG4vLyBNT01FTlRTXG5cbi8vIGtlZXBMb2NhbFRpbWUgPSB0cnVlIG1lYW5zIG9ubHkgY2hhbmdlIHRoZSB0aW1lem9uZSwgd2l0aG91dFxuLy8gYWZmZWN0aW5nIHRoZSBsb2NhbCBob3VyLiBTbyA1OjMxOjI2ICswMzAwIC0tW3V0Y09mZnNldCgyLCB0cnVlKV0tLT5cbi8vIDU6MzE6MjYgKzAyMDAgSXQgaXMgcG9zc2libGUgdGhhdCA1OjMxOjI2IGRvZXNuJ3QgZXhpc3Qgd2l0aCBvZmZzZXRcbi8vICswMjAwLCBzbyB3ZSBhZGp1c3QgdGhlIHRpbWUgYXMgbmVlZGVkLCB0byBiZSB2YWxpZC5cbi8vXG4vLyBLZWVwaW5nIHRoZSB0aW1lIGFjdHVhbGx5IGFkZHMvc3VidHJhY3RzIChvbmUgaG91cilcbi8vIGZyb20gdGhlIGFjdHVhbCByZXByZXNlbnRlZCB0aW1lLiBUaGF0IGlzIHdoeSB3ZSBjYWxsIHVwZGF0ZU9mZnNldFxuLy8gYSBzZWNvbmQgdGltZS4gSW4gY2FzZSBpdCB3YW50cyB1cyB0byBjaGFuZ2UgdGhlIG9mZnNldCBhZ2FpblxuLy8gX2NoYW5nZUluUHJvZ3Jlc3MgPT0gdHJ1ZSBjYXNlLCB0aGVuIHdlIGhhdmUgdG8gYWRqdXN0LCBiZWNhdXNlXG4vLyB0aGVyZSBpcyBubyBzdWNoIHRpbWUgaW4gdGhlIGdpdmVuIHRpbWV6b25lLlxuZnVuY3Rpb24gZ2V0U2V0T2Zmc2V0IChpbnB1dCwga2VlcExvY2FsVGltZSkge1xuICAgIHZhciBvZmZzZXQgPSB0aGlzLl9vZmZzZXQgfHwgMCxcbiAgICAgICAgbG9jYWxBZGp1c3Q7XG4gICAgaWYgKCF0aGlzLmlzVmFsaWQoKSkge1xuICAgICAgICByZXR1cm4gaW5wdXQgIT0gbnVsbCA/IHRoaXMgOiBOYU47XG4gICAgfVxuICAgIGlmIChpbnB1dCAhPSBudWxsKSB7XG4gICAgICAgIGlmICh0eXBlb2YgaW5wdXQgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICBpbnB1dCA9IG9mZnNldEZyb21TdHJpbmcobWF0Y2hTaG9ydE9mZnNldCwgaW5wdXQpO1xuICAgICAgICAgICAgaWYgKGlucHV0ID09PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAoTWF0aC5hYnMoaW5wdXQpIDwgMTYpIHtcbiAgICAgICAgICAgIGlucHV0ID0gaW5wdXQgKiA2MDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIXRoaXMuX2lzVVRDICYmIGtlZXBMb2NhbFRpbWUpIHtcbiAgICAgICAgICAgIGxvY2FsQWRqdXN0ID0gZ2V0RGF0ZU9mZnNldCh0aGlzKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9vZmZzZXQgPSBpbnB1dDtcbiAgICAgICAgdGhpcy5faXNVVEMgPSB0cnVlO1xuICAgICAgICBpZiAobG9jYWxBZGp1c3QgIT0gbnVsbCkge1xuICAgICAgICAgICAgdGhpcy5hZGQobG9jYWxBZGp1c3QsICdtJyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG9mZnNldCAhPT0gaW5wdXQpIHtcbiAgICAgICAgICAgIGlmICgha2VlcExvY2FsVGltZSB8fCB0aGlzLl9jaGFuZ2VJblByb2dyZXNzKSB7XG4gICAgICAgICAgICAgICAgYWRkU3VidHJhY3QodGhpcywgY3JlYXRlRHVyYXRpb24oaW5wdXQgLSBvZmZzZXQsICdtJyksIDEsIGZhbHNlKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoIXRoaXMuX2NoYW5nZUluUHJvZ3Jlc3MpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9jaGFuZ2VJblByb2dyZXNzID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBob29rcy51cGRhdGVPZmZzZXQodGhpcywgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgdGhpcy5fY2hhbmdlSW5Qcm9ncmVzcyA9IG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2lzVVRDID8gb2Zmc2V0IDogZ2V0RGF0ZU9mZnNldCh0aGlzKTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIGdldFNldFpvbmUgKGlucHV0LCBrZWVwTG9jYWxUaW1lKSB7XG4gICAgaWYgKGlucHV0ICE9IG51bGwpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBpbnB1dCAhPT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgIGlucHV0ID0gLWlucHV0O1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy51dGNPZmZzZXQoaW5wdXQsIGtlZXBMb2NhbFRpbWUpO1xuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiAtdGhpcy51dGNPZmZzZXQoKTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIHNldE9mZnNldFRvVVRDIChrZWVwTG9jYWxUaW1lKSB7XG4gICAgcmV0dXJuIHRoaXMudXRjT2Zmc2V0KDAsIGtlZXBMb2NhbFRpbWUpO1xufVxuXG5mdW5jdGlvbiBzZXRPZmZzZXRUb0xvY2FsIChrZWVwTG9jYWxUaW1lKSB7XG4gICAgaWYgKHRoaXMuX2lzVVRDKSB7XG4gICAgICAgIHRoaXMudXRjT2Zmc2V0KDAsIGtlZXBMb2NhbFRpbWUpO1xuICAgICAgICB0aGlzLl9pc1VUQyA9IGZhbHNlO1xuXG4gICAgICAgIGlmIChrZWVwTG9jYWxUaW1lKSB7XG4gICAgICAgICAgICB0aGlzLnN1YnRyYWN0KGdldERhdGVPZmZzZXQodGhpcyksICdtJyk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHRoaXM7XG59XG5cbmZ1bmN0aW9uIHNldE9mZnNldFRvUGFyc2VkT2Zmc2V0ICgpIHtcbiAgICBpZiAodGhpcy5fdHptICE9IG51bGwpIHtcbiAgICAgICAgdGhpcy51dGNPZmZzZXQodGhpcy5fdHptKTtcbiAgICB9IGVsc2UgaWYgKHR5cGVvZiB0aGlzLl9pID09PSAnc3RyaW5nJykge1xuICAgICAgICB2YXIgdFpvbmUgPSBvZmZzZXRGcm9tU3RyaW5nKG1hdGNoT2Zmc2V0LCB0aGlzLl9pKTtcbiAgICAgICAgaWYgKHRab25lICE9IG51bGwpIHtcbiAgICAgICAgICAgIHRoaXMudXRjT2Zmc2V0KHRab25lKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMudXRjT2Zmc2V0KDAsIHRydWUpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiB0aGlzO1xufVxuXG5mdW5jdGlvbiBoYXNBbGlnbmVkSG91ck9mZnNldCAoaW5wdXQpIHtcbiAgICBpZiAoIXRoaXMuaXNWYWxpZCgpKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgaW5wdXQgPSBpbnB1dCA/IGNyZWF0ZUxvY2FsKGlucHV0KS51dGNPZmZzZXQoKSA6IDA7XG5cbiAgICByZXR1cm4gKHRoaXMudXRjT2Zmc2V0KCkgLSBpbnB1dCkgJSA2MCA9PT0gMDtcbn1cblxuZnVuY3Rpb24gaXNEYXlsaWdodFNhdmluZ1RpbWUgKCkge1xuICAgIHJldHVybiAoXG4gICAgICAgIHRoaXMudXRjT2Zmc2V0KCkgPiB0aGlzLmNsb25lKCkubW9udGgoMCkudXRjT2Zmc2V0KCkgfHxcbiAgICAgICAgdGhpcy51dGNPZmZzZXQoKSA+IHRoaXMuY2xvbmUoKS5tb250aCg1KS51dGNPZmZzZXQoKVxuICAgICk7XG59XG5cbmZ1bmN0aW9uIGlzRGF5bGlnaHRTYXZpbmdUaW1lU2hpZnRlZCAoKSB7XG4gICAgaWYgKCFpc1VuZGVmaW5lZCh0aGlzLl9pc0RTVFNoaWZ0ZWQpKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9pc0RTVFNoaWZ0ZWQ7XG4gICAgfVxuXG4gICAgdmFyIGMgPSB7fTtcblxuICAgIGNvcHlDb25maWcoYywgdGhpcyk7XG4gICAgYyA9IHByZXBhcmVDb25maWcoYyk7XG5cbiAgICBpZiAoYy5fYSkge1xuICAgICAgICB2YXIgb3RoZXIgPSBjLl9pc1VUQyA/IGNyZWF0ZVVUQyhjLl9hKSA6IGNyZWF0ZUxvY2FsKGMuX2EpO1xuICAgICAgICB0aGlzLl9pc0RTVFNoaWZ0ZWQgPSB0aGlzLmlzVmFsaWQoKSAmJlxuICAgICAgICAgICAgY29tcGFyZUFycmF5cyhjLl9hLCBvdGhlci50b0FycmF5KCkpID4gMDtcbiAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLl9pc0RTVFNoaWZ0ZWQgPSBmYWxzZTtcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcy5faXNEU1RTaGlmdGVkO1xufVxuXG5mdW5jdGlvbiBpc0xvY2FsICgpIHtcbiAgICByZXR1cm4gdGhpcy5pc1ZhbGlkKCkgPyAhdGhpcy5faXNVVEMgOiBmYWxzZTtcbn1cblxuZnVuY3Rpb24gaXNVdGNPZmZzZXQgKCkge1xuICAgIHJldHVybiB0aGlzLmlzVmFsaWQoKSA/IHRoaXMuX2lzVVRDIDogZmFsc2U7XG59XG5cbmZ1bmN0aW9uIGlzVXRjICgpIHtcbiAgICByZXR1cm4gdGhpcy5pc1ZhbGlkKCkgPyB0aGlzLl9pc1VUQyAmJiB0aGlzLl9vZmZzZXQgPT09IDAgOiBmYWxzZTtcbn1cblxuLy8gQVNQLk5FVCBqc29uIGRhdGUgZm9ybWF0IHJlZ2V4XG52YXIgYXNwTmV0UmVnZXggPSAvXihcXC0pPyg/OihcXGQqKVsuIF0pPyhcXGQrKVxcOihcXGQrKSg/OlxcOihcXGQrKShcXC5cXGQqKT8pPyQvO1xuXG4vLyBmcm9tIGh0dHA6Ly9kb2NzLmNsb3N1cmUtbGlicmFyeS5nb29nbGVjb2RlLmNvbS9naXQvY2xvc3VyZV9nb29nX2RhdGVfZGF0ZS5qcy5zb3VyY2UuaHRtbFxuLy8gc29tZXdoYXQgbW9yZSBpbiBsaW5lIHdpdGggNC40LjMuMiAyMDA0IHNwZWMsIGJ1dCBhbGxvd3MgZGVjaW1hbCBhbnl3aGVyZVxuLy8gYW5kIGZ1cnRoZXIgbW9kaWZpZWQgdG8gYWxsb3cgZm9yIHN0cmluZ3MgY29udGFpbmluZyBib3RoIHdlZWsgYW5kIGRheVxudmFyIGlzb1JlZ2V4ID0gL14oLSk/UCg/OigtP1swLTksLl0qKVkpPyg/OigtP1swLTksLl0qKU0pPyg/OigtP1swLTksLl0qKVcpPyg/OigtP1swLTksLl0qKUQpPyg/OlQoPzooLT9bMC05LC5dKilIKT8oPzooLT9bMC05LC5dKilNKT8oPzooLT9bMC05LC5dKilTKT8pPyQvO1xuXG5mdW5jdGlvbiBjcmVhdGVEdXJhdGlvbiAoaW5wdXQsIGtleSkge1xuICAgIHZhciBkdXJhdGlvbiA9IGlucHV0LFxuICAgICAgICAvLyBtYXRjaGluZyBhZ2FpbnN0IHJlZ2V4cCBpcyBleHBlbnNpdmUsIGRvIGl0IG9uIGRlbWFuZFxuICAgICAgICBtYXRjaCA9IG51bGwsXG4gICAgICAgIHNpZ24sXG4gICAgICAgIHJldCxcbiAgICAgICAgZGlmZlJlcztcblxuICAgIGlmIChpc0R1cmF0aW9uKGlucHV0KSkge1xuICAgICAgICBkdXJhdGlvbiA9IHtcbiAgICAgICAgICAgIG1zIDogaW5wdXQuX21pbGxpc2Vjb25kcyxcbiAgICAgICAgICAgIGQgIDogaW5wdXQuX2RheXMsXG4gICAgICAgICAgICBNICA6IGlucHV0Ll9tb250aHNcbiAgICAgICAgfTtcbiAgICB9IGVsc2UgaWYgKGlzTnVtYmVyKGlucHV0KSkge1xuICAgICAgICBkdXJhdGlvbiA9IHt9O1xuICAgICAgICBpZiAoa2V5KSB7XG4gICAgICAgICAgICBkdXJhdGlvbltrZXldID0gaW5wdXQ7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBkdXJhdGlvbi5taWxsaXNlY29uZHMgPSBpbnB1dDtcbiAgICAgICAgfVxuICAgIH0gZWxzZSBpZiAoISEobWF0Y2ggPSBhc3BOZXRSZWdleC5leGVjKGlucHV0KSkpIHtcbiAgICAgICAgc2lnbiA9IChtYXRjaFsxXSA9PT0gJy0nKSA/IC0xIDogMTtcbiAgICAgICAgZHVyYXRpb24gPSB7XG4gICAgICAgICAgICB5ICA6IDAsXG4gICAgICAgICAgICBkICA6IHRvSW50KG1hdGNoW0RBVEVdKSAgICAgICAgICAgICAgICAgICAgICAgICAqIHNpZ24sXG4gICAgICAgICAgICBoICA6IHRvSW50KG1hdGNoW0hPVVJdKSAgICAgICAgICAgICAgICAgICAgICAgICAqIHNpZ24sXG4gICAgICAgICAgICBtICA6IHRvSW50KG1hdGNoW01JTlVURV0pICAgICAgICAgICAgICAgICAgICAgICAqIHNpZ24sXG4gICAgICAgICAgICBzICA6IHRvSW50KG1hdGNoW1NFQ09ORF0pICAgICAgICAgICAgICAgICAgICAgICAqIHNpZ24sXG4gICAgICAgICAgICBtcyA6IHRvSW50KGFic1JvdW5kKG1hdGNoW01JTExJU0VDT05EXSAqIDEwMDApKSAqIHNpZ24gLy8gdGhlIG1pbGxpc2Vjb25kIGRlY2ltYWwgcG9pbnQgaXMgaW5jbHVkZWQgaW4gdGhlIG1hdGNoXG4gICAgICAgIH07XG4gICAgfSBlbHNlIGlmICghIShtYXRjaCA9IGlzb1JlZ2V4LmV4ZWMoaW5wdXQpKSkge1xuICAgICAgICBzaWduID0gKG1hdGNoWzFdID09PSAnLScpID8gLTEgOiAxO1xuICAgICAgICBkdXJhdGlvbiA9IHtcbiAgICAgICAgICAgIHkgOiBwYXJzZUlzbyhtYXRjaFsyXSwgc2lnbiksXG4gICAgICAgICAgICBNIDogcGFyc2VJc28obWF0Y2hbM10sIHNpZ24pLFxuICAgICAgICAgICAgdyA6IHBhcnNlSXNvKG1hdGNoWzRdLCBzaWduKSxcbiAgICAgICAgICAgIGQgOiBwYXJzZUlzbyhtYXRjaFs1XSwgc2lnbiksXG4gICAgICAgICAgICBoIDogcGFyc2VJc28obWF0Y2hbNl0sIHNpZ24pLFxuICAgICAgICAgICAgbSA6IHBhcnNlSXNvKG1hdGNoWzddLCBzaWduKSxcbiAgICAgICAgICAgIHMgOiBwYXJzZUlzbyhtYXRjaFs4XSwgc2lnbilcbiAgICAgICAgfTtcbiAgICB9IGVsc2UgaWYgKGR1cmF0aW9uID09IG51bGwpIHsvLyBjaGVja3MgZm9yIG51bGwgb3IgdW5kZWZpbmVkXG4gICAgICAgIGR1cmF0aW9uID0ge307XG4gICAgfSBlbHNlIGlmICh0eXBlb2YgZHVyYXRpb24gPT09ICdvYmplY3QnICYmICgnZnJvbScgaW4gZHVyYXRpb24gfHwgJ3RvJyBpbiBkdXJhdGlvbikpIHtcbiAgICAgICAgZGlmZlJlcyA9IG1vbWVudHNEaWZmZXJlbmNlKGNyZWF0ZUxvY2FsKGR1cmF0aW9uLmZyb20pLCBjcmVhdGVMb2NhbChkdXJhdGlvbi50bykpO1xuXG4gICAgICAgIGR1cmF0aW9uID0ge307XG4gICAgICAgIGR1cmF0aW9uLm1zID0gZGlmZlJlcy5taWxsaXNlY29uZHM7XG4gICAgICAgIGR1cmF0aW9uLk0gPSBkaWZmUmVzLm1vbnRocztcbiAgICB9XG5cbiAgICByZXQgPSBuZXcgRHVyYXRpb24oZHVyYXRpb24pO1xuXG4gICAgaWYgKGlzRHVyYXRpb24oaW5wdXQpICYmIGhhc093blByb3AoaW5wdXQsICdfbG9jYWxlJykpIHtcbiAgICAgICAgcmV0Ll9sb2NhbGUgPSBpbnB1dC5fbG9jYWxlO1xuICAgIH1cblxuICAgIHJldHVybiByZXQ7XG59XG5cbmNyZWF0ZUR1cmF0aW9uLmZuID0gRHVyYXRpb24ucHJvdG90eXBlO1xuXG5mdW5jdGlvbiBwYXJzZUlzbyAoaW5wLCBzaWduKSB7XG4gICAgLy8gV2UnZCBub3JtYWxseSB1c2Ugfn5pbnAgZm9yIHRoaXMsIGJ1dCB1bmZvcnR1bmF0ZWx5IGl0IGFsc29cbiAgICAvLyBjb252ZXJ0cyBmbG9hdHMgdG8gaW50cy5cbiAgICAvLyBpbnAgbWF5IGJlIHVuZGVmaW5lZCwgc28gY2FyZWZ1bCBjYWxsaW5nIHJlcGxhY2Ugb24gaXQuXG4gICAgdmFyIHJlcyA9IGlucCAmJiBwYXJzZUZsb2F0KGlucC5yZXBsYWNlKCcsJywgJy4nKSk7XG4gICAgLy8gYXBwbHkgc2lnbiB3aGlsZSB3ZSdyZSBhdCBpdFxuICAgIHJldHVybiAoaXNOYU4ocmVzKSA/IDAgOiByZXMpICogc2lnbjtcbn1cblxuZnVuY3Rpb24gcG9zaXRpdmVNb21lbnRzRGlmZmVyZW5jZShiYXNlLCBvdGhlcikge1xuICAgIHZhciByZXMgPSB7bWlsbGlzZWNvbmRzOiAwLCBtb250aHM6IDB9O1xuXG4gICAgcmVzLm1vbnRocyA9IG90aGVyLm1vbnRoKCkgLSBiYXNlLm1vbnRoKCkgK1xuICAgICAgICAob3RoZXIueWVhcigpIC0gYmFzZS55ZWFyKCkpICogMTI7XG4gICAgaWYgKGJhc2UuY2xvbmUoKS5hZGQocmVzLm1vbnRocywgJ00nKS5pc0FmdGVyKG90aGVyKSkge1xuICAgICAgICAtLXJlcy5tb250aHM7XG4gICAgfVxuXG4gICAgcmVzLm1pbGxpc2Vjb25kcyA9ICtvdGhlciAtICsoYmFzZS5jbG9uZSgpLmFkZChyZXMubW9udGhzLCAnTScpKTtcblxuICAgIHJldHVybiByZXM7XG59XG5cbmZ1bmN0aW9uIG1vbWVudHNEaWZmZXJlbmNlKGJhc2UsIG90aGVyKSB7XG4gICAgdmFyIHJlcztcbiAgICBpZiAoIShiYXNlLmlzVmFsaWQoKSAmJiBvdGhlci5pc1ZhbGlkKCkpKSB7XG4gICAgICAgIHJldHVybiB7bWlsbGlzZWNvbmRzOiAwLCBtb250aHM6IDB9O1xuICAgIH1cblxuICAgIG90aGVyID0gY2xvbmVXaXRoT2Zmc2V0KG90aGVyLCBiYXNlKTtcbiAgICBpZiAoYmFzZS5pc0JlZm9yZShvdGhlcikpIHtcbiAgICAgICAgcmVzID0gcG9zaXRpdmVNb21lbnRzRGlmZmVyZW5jZShiYXNlLCBvdGhlcik7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgcmVzID0gcG9zaXRpdmVNb21lbnRzRGlmZmVyZW5jZShvdGhlciwgYmFzZSk7XG4gICAgICAgIHJlcy5taWxsaXNlY29uZHMgPSAtcmVzLm1pbGxpc2Vjb25kcztcbiAgICAgICAgcmVzLm1vbnRocyA9IC1yZXMubW9udGhzO1xuICAgIH1cblxuICAgIHJldHVybiByZXM7XG59XG5cbi8vIFRPRE86IHJlbW92ZSAnbmFtZScgYXJnIGFmdGVyIGRlcHJlY2F0aW9uIGlzIHJlbW92ZWRcbmZ1bmN0aW9uIGNyZWF0ZUFkZGVyKGRpcmVjdGlvbiwgbmFtZSkge1xuICAgIHJldHVybiBmdW5jdGlvbiAodmFsLCBwZXJpb2QpIHtcbiAgICAgICAgdmFyIGR1ciwgdG1wO1xuICAgICAgICAvL2ludmVydCB0aGUgYXJndW1lbnRzLCBidXQgY29tcGxhaW4gYWJvdXQgaXRcbiAgICAgICAgaWYgKHBlcmlvZCAhPT0gbnVsbCAmJiAhaXNOYU4oK3BlcmlvZCkpIHtcbiAgICAgICAgICAgIGRlcHJlY2F0ZVNpbXBsZShuYW1lLCAnbW9tZW50KCkuJyArIG5hbWUgICsgJyhwZXJpb2QsIG51bWJlcikgaXMgZGVwcmVjYXRlZC4gUGxlYXNlIHVzZSBtb21lbnQoKS4nICsgbmFtZSArICcobnVtYmVyLCBwZXJpb2QpLiAnICtcbiAgICAgICAgICAgICdTZWUgaHR0cDovL21vbWVudGpzLmNvbS9ndWlkZXMvIy93YXJuaW5ncy9hZGQtaW52ZXJ0ZWQtcGFyYW0vIGZvciBtb3JlIGluZm8uJyk7XG4gICAgICAgICAgICB0bXAgPSB2YWw7IHZhbCA9IHBlcmlvZDsgcGVyaW9kID0gdG1wO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFsID0gdHlwZW9mIHZhbCA9PT0gJ3N0cmluZycgPyArdmFsIDogdmFsO1xuICAgICAgICBkdXIgPSBjcmVhdGVEdXJhdGlvbih2YWwsIHBlcmlvZCk7XG4gICAgICAgIGFkZFN1YnRyYWN0KHRoaXMsIGR1ciwgZGlyZWN0aW9uKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcbn1cblxuZnVuY3Rpb24gYWRkU3VidHJhY3QgKG1vbSwgZHVyYXRpb24sIGlzQWRkaW5nLCB1cGRhdGVPZmZzZXQpIHtcbiAgICB2YXIgbWlsbGlzZWNvbmRzID0gZHVyYXRpb24uX21pbGxpc2Vjb25kcyxcbiAgICAgICAgZGF5cyA9IGFic1JvdW5kKGR1cmF0aW9uLl9kYXlzKSxcbiAgICAgICAgbW9udGhzID0gYWJzUm91bmQoZHVyYXRpb24uX21vbnRocyk7XG5cbiAgICBpZiAoIW1vbS5pc1ZhbGlkKCkpIHtcbiAgICAgICAgLy8gTm8gb3BcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHVwZGF0ZU9mZnNldCA9IHVwZGF0ZU9mZnNldCA9PSBudWxsID8gdHJ1ZSA6IHVwZGF0ZU9mZnNldDtcblxuICAgIGlmIChtaWxsaXNlY29uZHMpIHtcbiAgICAgICAgbW9tLl9kLnNldFRpbWUobW9tLl9kLnZhbHVlT2YoKSArIG1pbGxpc2Vjb25kcyAqIGlzQWRkaW5nKTtcbiAgICB9XG4gICAgaWYgKGRheXMpIHtcbiAgICAgICAgc2V0JDEobW9tLCAnRGF0ZScsIGdldChtb20sICdEYXRlJykgKyBkYXlzICogaXNBZGRpbmcpO1xuICAgIH1cbiAgICBpZiAobW9udGhzKSB7XG4gICAgICAgIHNldE1vbnRoKG1vbSwgZ2V0KG1vbSwgJ01vbnRoJykgKyBtb250aHMgKiBpc0FkZGluZyk7XG4gICAgfVxuICAgIGlmICh1cGRhdGVPZmZzZXQpIHtcbiAgICAgICAgaG9va3MudXBkYXRlT2Zmc2V0KG1vbSwgZGF5cyB8fCBtb250aHMpO1xuICAgIH1cbn1cblxudmFyIGFkZCAgICAgID0gY3JlYXRlQWRkZXIoMSwgJ2FkZCcpO1xudmFyIHN1YnRyYWN0ID0gY3JlYXRlQWRkZXIoLTEsICdzdWJ0cmFjdCcpO1xuXG5mdW5jdGlvbiBnZXRDYWxlbmRhckZvcm1hdChteU1vbWVudCwgbm93KSB7XG4gICAgdmFyIGRpZmYgPSBteU1vbWVudC5kaWZmKG5vdywgJ2RheXMnLCB0cnVlKTtcbiAgICByZXR1cm4gZGlmZiA8IC02ID8gJ3NhbWVFbHNlJyA6XG4gICAgICAgICAgICBkaWZmIDwgLTEgPyAnbGFzdFdlZWsnIDpcbiAgICAgICAgICAgIGRpZmYgPCAwID8gJ2xhc3REYXknIDpcbiAgICAgICAgICAgIGRpZmYgPCAxID8gJ3NhbWVEYXknIDpcbiAgICAgICAgICAgIGRpZmYgPCAyID8gJ25leHREYXknIDpcbiAgICAgICAgICAgIGRpZmYgPCA3ID8gJ25leHRXZWVrJyA6ICdzYW1lRWxzZSc7XG59XG5cbmZ1bmN0aW9uIGNhbGVuZGFyJDEgKHRpbWUsIGZvcm1hdHMpIHtcbiAgICAvLyBXZSB3YW50IHRvIGNvbXBhcmUgdGhlIHN0YXJ0IG9mIHRvZGF5LCB2cyB0aGlzLlxuICAgIC8vIEdldHRpbmcgc3RhcnQtb2YtdG9kYXkgZGVwZW5kcyBvbiB3aGV0aGVyIHdlJ3JlIGxvY2FsL3V0Yy9vZmZzZXQgb3Igbm90LlxuICAgIHZhciBub3cgPSB0aW1lIHx8IGNyZWF0ZUxvY2FsKCksXG4gICAgICAgIHNvZCA9IGNsb25lV2l0aE9mZnNldChub3csIHRoaXMpLnN0YXJ0T2YoJ2RheScpLFxuICAgICAgICBmb3JtYXQgPSBob29rcy5jYWxlbmRhckZvcm1hdCh0aGlzLCBzb2QpIHx8ICdzYW1lRWxzZSc7XG5cbiAgICB2YXIgb3V0cHV0ID0gZm9ybWF0cyAmJiAoaXNGdW5jdGlvbihmb3JtYXRzW2Zvcm1hdF0pID8gZm9ybWF0c1tmb3JtYXRdLmNhbGwodGhpcywgbm93KSA6IGZvcm1hdHNbZm9ybWF0XSk7XG5cbiAgICByZXR1cm4gdGhpcy5mb3JtYXQob3V0cHV0IHx8IHRoaXMubG9jYWxlRGF0YSgpLmNhbGVuZGFyKGZvcm1hdCwgdGhpcywgY3JlYXRlTG9jYWwobm93KSkpO1xufVxuXG5mdW5jdGlvbiBjbG9uZSAoKSB7XG4gICAgcmV0dXJuIG5ldyBNb21lbnQodGhpcyk7XG59XG5cbmZ1bmN0aW9uIGlzQWZ0ZXIgKGlucHV0LCB1bml0cykge1xuICAgIHZhciBsb2NhbElucHV0ID0gaXNNb21lbnQoaW5wdXQpID8gaW5wdXQgOiBjcmVhdGVMb2NhbChpbnB1dCk7XG4gICAgaWYgKCEodGhpcy5pc1ZhbGlkKCkgJiYgbG9jYWxJbnB1dC5pc1ZhbGlkKCkpKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgdW5pdHMgPSBub3JtYWxpemVVbml0cyghaXNVbmRlZmluZWQodW5pdHMpID8gdW5pdHMgOiAnbWlsbGlzZWNvbmQnKTtcbiAgICBpZiAodW5pdHMgPT09ICdtaWxsaXNlY29uZCcpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudmFsdWVPZigpID4gbG9jYWxJbnB1dC52YWx1ZU9mKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIGxvY2FsSW5wdXQudmFsdWVPZigpIDwgdGhpcy5jbG9uZSgpLnN0YXJ0T2YodW5pdHMpLnZhbHVlT2YoKTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIGlzQmVmb3JlIChpbnB1dCwgdW5pdHMpIHtcbiAgICB2YXIgbG9jYWxJbnB1dCA9IGlzTW9tZW50KGlucHV0KSA/IGlucHV0IDogY3JlYXRlTG9jYWwoaW5wdXQpO1xuICAgIGlmICghKHRoaXMuaXNWYWxpZCgpICYmIGxvY2FsSW5wdXQuaXNWYWxpZCgpKSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIHVuaXRzID0gbm9ybWFsaXplVW5pdHMoIWlzVW5kZWZpbmVkKHVuaXRzKSA/IHVuaXRzIDogJ21pbGxpc2Vjb25kJyk7XG4gICAgaWYgKHVuaXRzID09PSAnbWlsbGlzZWNvbmQnKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnZhbHVlT2YoKSA8IGxvY2FsSW5wdXQudmFsdWVPZigpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNsb25lKCkuZW5kT2YodW5pdHMpLnZhbHVlT2YoKSA8IGxvY2FsSW5wdXQudmFsdWVPZigpO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gaXNCZXR3ZWVuIChmcm9tLCB0bywgdW5pdHMsIGluY2x1c2l2aXR5KSB7XG4gICAgaW5jbHVzaXZpdHkgPSBpbmNsdXNpdml0eSB8fCAnKCknO1xuICAgIHJldHVybiAoaW5jbHVzaXZpdHlbMF0gPT09ICcoJyA/IHRoaXMuaXNBZnRlcihmcm9tLCB1bml0cykgOiAhdGhpcy5pc0JlZm9yZShmcm9tLCB1bml0cykpICYmXG4gICAgICAgIChpbmNsdXNpdml0eVsxXSA9PT0gJyknID8gdGhpcy5pc0JlZm9yZSh0bywgdW5pdHMpIDogIXRoaXMuaXNBZnRlcih0bywgdW5pdHMpKTtcbn1cblxuZnVuY3Rpb24gaXNTYW1lIChpbnB1dCwgdW5pdHMpIHtcbiAgICB2YXIgbG9jYWxJbnB1dCA9IGlzTW9tZW50KGlucHV0KSA/IGlucHV0IDogY3JlYXRlTG9jYWwoaW5wdXQpLFxuICAgICAgICBpbnB1dE1zO1xuICAgIGlmICghKHRoaXMuaXNWYWxpZCgpICYmIGxvY2FsSW5wdXQuaXNWYWxpZCgpKSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIHVuaXRzID0gbm9ybWFsaXplVW5pdHModW5pdHMgfHwgJ21pbGxpc2Vjb25kJyk7XG4gICAgaWYgKHVuaXRzID09PSAnbWlsbGlzZWNvbmQnKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnZhbHVlT2YoKSA9PT0gbG9jYWxJbnB1dC52YWx1ZU9mKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgaW5wdXRNcyA9IGxvY2FsSW5wdXQudmFsdWVPZigpO1xuICAgICAgICByZXR1cm4gdGhpcy5jbG9uZSgpLnN0YXJ0T2YodW5pdHMpLnZhbHVlT2YoKSA8PSBpbnB1dE1zICYmIGlucHV0TXMgPD0gdGhpcy5jbG9uZSgpLmVuZE9mKHVuaXRzKS52YWx1ZU9mKCk7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBpc1NhbWVPckFmdGVyIChpbnB1dCwgdW5pdHMpIHtcbiAgICByZXR1cm4gdGhpcy5pc1NhbWUoaW5wdXQsIHVuaXRzKSB8fCB0aGlzLmlzQWZ0ZXIoaW5wdXQsdW5pdHMpO1xufVxuXG5mdW5jdGlvbiBpc1NhbWVPckJlZm9yZSAoaW5wdXQsIHVuaXRzKSB7XG4gICAgcmV0dXJuIHRoaXMuaXNTYW1lKGlucHV0LCB1bml0cykgfHwgdGhpcy5pc0JlZm9yZShpbnB1dCx1bml0cyk7XG59XG5cbmZ1bmN0aW9uIGRpZmYgKGlucHV0LCB1bml0cywgYXNGbG9hdCkge1xuICAgIHZhciB0aGF0LFxuICAgICAgICB6b25lRGVsdGEsXG4gICAgICAgIGRlbHRhLCBvdXRwdXQ7XG5cbiAgICBpZiAoIXRoaXMuaXNWYWxpZCgpKSB7XG4gICAgICAgIHJldHVybiBOYU47XG4gICAgfVxuXG4gICAgdGhhdCA9IGNsb25lV2l0aE9mZnNldChpbnB1dCwgdGhpcyk7XG5cbiAgICBpZiAoIXRoYXQuaXNWYWxpZCgpKSB7XG4gICAgICAgIHJldHVybiBOYU47XG4gICAgfVxuXG4gICAgem9uZURlbHRhID0gKHRoYXQudXRjT2Zmc2V0KCkgLSB0aGlzLnV0Y09mZnNldCgpKSAqIDZlNDtcblxuICAgIHVuaXRzID0gbm9ybWFsaXplVW5pdHModW5pdHMpO1xuXG4gICAgaWYgKHVuaXRzID09PSAneWVhcicgfHwgdW5pdHMgPT09ICdtb250aCcgfHwgdW5pdHMgPT09ICdxdWFydGVyJykge1xuICAgICAgICBvdXRwdXQgPSBtb250aERpZmYodGhpcywgdGhhdCk7XG4gICAgICAgIGlmICh1bml0cyA9PT0gJ3F1YXJ0ZXInKSB7XG4gICAgICAgICAgICBvdXRwdXQgPSBvdXRwdXQgLyAzO1xuICAgICAgICB9IGVsc2UgaWYgKHVuaXRzID09PSAneWVhcicpIHtcbiAgICAgICAgICAgIG91dHB1dCA9IG91dHB1dCAvIDEyO1xuICAgICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgICAgZGVsdGEgPSB0aGlzIC0gdGhhdDtcbiAgICAgICAgb3V0cHV0ID0gdW5pdHMgPT09ICdzZWNvbmQnID8gZGVsdGEgLyAxZTMgOiAvLyAxMDAwXG4gICAgICAgICAgICB1bml0cyA9PT0gJ21pbnV0ZScgPyBkZWx0YSAvIDZlNCA6IC8vIDEwMDAgKiA2MFxuICAgICAgICAgICAgdW5pdHMgPT09ICdob3VyJyA/IGRlbHRhIC8gMzZlNSA6IC8vIDEwMDAgKiA2MCAqIDYwXG4gICAgICAgICAgICB1bml0cyA9PT0gJ2RheScgPyAoZGVsdGEgLSB6b25lRGVsdGEpIC8gODY0ZTUgOiAvLyAxMDAwICogNjAgKiA2MCAqIDI0LCBuZWdhdGUgZHN0XG4gICAgICAgICAgICB1bml0cyA9PT0gJ3dlZWsnID8gKGRlbHRhIC0gem9uZURlbHRhKSAvIDYwNDhlNSA6IC8vIDEwMDAgKiA2MCAqIDYwICogMjQgKiA3LCBuZWdhdGUgZHN0XG4gICAgICAgICAgICBkZWx0YTtcbiAgICB9XG4gICAgcmV0dXJuIGFzRmxvYXQgPyBvdXRwdXQgOiBhYnNGbG9vcihvdXRwdXQpO1xufVxuXG5mdW5jdGlvbiBtb250aERpZmYgKGEsIGIpIHtcbiAgICAvLyBkaWZmZXJlbmNlIGluIG1vbnRoc1xuICAgIHZhciB3aG9sZU1vbnRoRGlmZiA9ICgoYi55ZWFyKCkgLSBhLnllYXIoKSkgKiAxMikgKyAoYi5tb250aCgpIC0gYS5tb250aCgpKSxcbiAgICAgICAgLy8gYiBpcyBpbiAoYW5jaG9yIC0gMSBtb250aCwgYW5jaG9yICsgMSBtb250aClcbiAgICAgICAgYW5jaG9yID0gYS5jbG9uZSgpLmFkZCh3aG9sZU1vbnRoRGlmZiwgJ21vbnRocycpLFxuICAgICAgICBhbmNob3IyLCBhZGp1c3Q7XG5cbiAgICBpZiAoYiAtIGFuY2hvciA8IDApIHtcbiAgICAgICAgYW5jaG9yMiA9IGEuY2xvbmUoKS5hZGQod2hvbGVNb250aERpZmYgLSAxLCAnbW9udGhzJyk7XG4gICAgICAgIC8vIGxpbmVhciBhY3Jvc3MgdGhlIG1vbnRoXG4gICAgICAgIGFkanVzdCA9IChiIC0gYW5jaG9yKSAvIChhbmNob3IgLSBhbmNob3IyKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICBhbmNob3IyID0gYS5jbG9uZSgpLmFkZCh3aG9sZU1vbnRoRGlmZiArIDEsICdtb250aHMnKTtcbiAgICAgICAgLy8gbGluZWFyIGFjcm9zcyB0aGUgbW9udGhcbiAgICAgICAgYWRqdXN0ID0gKGIgLSBhbmNob3IpIC8gKGFuY2hvcjIgLSBhbmNob3IpO1xuICAgIH1cblxuICAgIC8vY2hlY2sgZm9yIG5lZ2F0aXZlIHplcm8sIHJldHVybiB6ZXJvIGlmIG5lZ2F0aXZlIHplcm9cbiAgICByZXR1cm4gLSh3aG9sZU1vbnRoRGlmZiArIGFkanVzdCkgfHwgMDtcbn1cblxuaG9va3MuZGVmYXVsdEZvcm1hdCA9ICdZWVlZLU1NLUREVEhIOm1tOnNzWic7XG5ob29rcy5kZWZhdWx0Rm9ybWF0VXRjID0gJ1lZWVktTU0tRERUSEg6bW06c3NbWl0nO1xuXG5mdW5jdGlvbiB0b1N0cmluZyAoKSB7XG4gICAgcmV0dXJuIHRoaXMuY2xvbmUoKS5sb2NhbGUoJ2VuJykuZm9ybWF0KCdkZGQgTU1NIEREIFlZWVkgSEg6bW06c3MgW0dNVF1aWicpO1xufVxuXG5mdW5jdGlvbiB0b0lTT1N0cmluZyAoKSB7XG4gICAgdmFyIG0gPSB0aGlzLmNsb25lKCkudXRjKCk7XG4gICAgaWYgKDAgPCBtLnllYXIoKSAmJiBtLnllYXIoKSA8PSA5OTk5KSB7XG4gICAgICAgIGlmIChpc0Z1bmN0aW9uKERhdGUucHJvdG90eXBlLnRvSVNPU3RyaW5nKSkge1xuICAgICAgICAgICAgLy8gbmF0aXZlIGltcGxlbWVudGF0aW9uIGlzIH41MHggZmFzdGVyLCB1c2UgaXQgd2hlbiB3ZSBjYW5cbiAgICAgICAgICAgIHJldHVybiB0aGlzLnRvRGF0ZSgpLnRvSVNPU3RyaW5nKCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gZm9ybWF0TW9tZW50KG0sICdZWVlZLU1NLUREW1RdSEg6bW06c3MuU1NTW1pdJyk7XG4gICAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gZm9ybWF0TW9tZW50KG0sICdZWVlZWVktTU0tRERbVF1ISDptbTpzcy5TU1NbWl0nKTtcbiAgICB9XG59XG5cbi8qKlxuICogUmV0dXJuIGEgaHVtYW4gcmVhZGFibGUgcmVwcmVzZW50YXRpb24gb2YgYSBtb21lbnQgdGhhdCBjYW5cbiAqIGFsc28gYmUgZXZhbHVhdGVkIHRvIGdldCBhIG5ldyBtb21lbnQgd2hpY2ggaXMgdGhlIHNhbWVcbiAqXG4gKiBAbGluayBodHRwczovL25vZGVqcy5vcmcvZGlzdC9sYXRlc3QvZG9jcy9hcGkvdXRpbC5odG1sI3V0aWxfY3VzdG9tX2luc3BlY3RfZnVuY3Rpb25fb25fb2JqZWN0c1xuICovXG5mdW5jdGlvbiBpbnNwZWN0ICgpIHtcbiAgICBpZiAoIXRoaXMuaXNWYWxpZCgpKSB7XG4gICAgICAgIHJldHVybiAnbW9tZW50LmludmFsaWQoLyogJyArIHRoaXMuX2kgKyAnICovKSc7XG4gICAgfVxuICAgIHZhciBmdW5jID0gJ21vbWVudCc7XG4gICAgdmFyIHpvbmUgPSAnJztcbiAgICBpZiAoIXRoaXMuaXNMb2NhbCgpKSB7XG4gICAgICAgIGZ1bmMgPSB0aGlzLnV0Y09mZnNldCgpID09PSAwID8gJ21vbWVudC51dGMnIDogJ21vbWVudC5wYXJzZVpvbmUnO1xuICAgICAgICB6b25lID0gJ1onO1xuICAgIH1cbiAgICB2YXIgcHJlZml4ID0gJ1snICsgZnVuYyArICcoXCJdJztcbiAgICB2YXIgeWVhciA9ICgwIDwgdGhpcy55ZWFyKCkgJiYgdGhpcy55ZWFyKCkgPD0gOTk5OSkgPyAnWVlZWScgOiAnWVlZWVlZJztcbiAgICB2YXIgZGF0ZXRpbWUgPSAnLU1NLUREW1RdSEg6bW06c3MuU1NTJztcbiAgICB2YXIgc3VmZml4ID0gem9uZSArICdbXCIpXSc7XG5cbiAgICByZXR1cm4gdGhpcy5mb3JtYXQocHJlZml4ICsgeWVhciArIGRhdGV0aW1lICsgc3VmZml4KTtcbn1cblxuZnVuY3Rpb24gZm9ybWF0IChpbnB1dFN0cmluZykge1xuICAgIGlmICghaW5wdXRTdHJpbmcpIHtcbiAgICAgICAgaW5wdXRTdHJpbmcgPSB0aGlzLmlzVXRjKCkgPyBob29rcy5kZWZhdWx0Rm9ybWF0VXRjIDogaG9va3MuZGVmYXVsdEZvcm1hdDtcbiAgICB9XG4gICAgdmFyIG91dHB1dCA9IGZvcm1hdE1vbWVudCh0aGlzLCBpbnB1dFN0cmluZyk7XG4gICAgcmV0dXJuIHRoaXMubG9jYWxlRGF0YSgpLnBvc3Rmb3JtYXQob3V0cHV0KTtcbn1cblxuZnVuY3Rpb24gZnJvbSAodGltZSwgd2l0aG91dFN1ZmZpeCkge1xuICAgIGlmICh0aGlzLmlzVmFsaWQoKSAmJlxuICAgICAgICAgICAgKChpc01vbWVudCh0aW1lKSAmJiB0aW1lLmlzVmFsaWQoKSkgfHxcbiAgICAgICAgICAgICBjcmVhdGVMb2NhbCh0aW1lKS5pc1ZhbGlkKCkpKSB7XG4gICAgICAgIHJldHVybiBjcmVhdGVEdXJhdGlvbih7dG86IHRoaXMsIGZyb206IHRpbWV9KS5sb2NhbGUodGhpcy5sb2NhbGUoKSkuaHVtYW5pemUoIXdpdGhvdXRTdWZmaXgpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiB0aGlzLmxvY2FsZURhdGEoKS5pbnZhbGlkRGF0ZSgpO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gZnJvbU5vdyAod2l0aG91dFN1ZmZpeCkge1xuICAgIHJldHVybiB0aGlzLmZyb20oY3JlYXRlTG9jYWwoKSwgd2l0aG91dFN1ZmZpeCk7XG59XG5cbmZ1bmN0aW9uIHRvICh0aW1lLCB3aXRob3V0U3VmZml4KSB7XG4gICAgaWYgKHRoaXMuaXNWYWxpZCgpICYmXG4gICAgICAgICAgICAoKGlzTW9tZW50KHRpbWUpICYmIHRpbWUuaXNWYWxpZCgpKSB8fFxuICAgICAgICAgICAgIGNyZWF0ZUxvY2FsKHRpbWUpLmlzVmFsaWQoKSkpIHtcbiAgICAgICAgcmV0dXJuIGNyZWF0ZUR1cmF0aW9uKHtmcm9tOiB0aGlzLCB0bzogdGltZX0pLmxvY2FsZSh0aGlzLmxvY2FsZSgpKS5odW1hbml6ZSghd2l0aG91dFN1ZmZpeCk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubG9jYWxlRGF0YSgpLmludmFsaWREYXRlKCk7XG4gICAgfVxufVxuXG5mdW5jdGlvbiB0b05vdyAod2l0aG91dFN1ZmZpeCkge1xuICAgIHJldHVybiB0aGlzLnRvKGNyZWF0ZUxvY2FsKCksIHdpdGhvdXRTdWZmaXgpO1xufVxuXG4vLyBJZiBwYXNzZWQgYSBsb2NhbGUga2V5LCBpdCB3aWxsIHNldCB0aGUgbG9jYWxlIGZvciB0aGlzXG4vLyBpbnN0YW5jZS4gIE90aGVyd2lzZSwgaXQgd2lsbCByZXR1cm4gdGhlIGxvY2FsZSBjb25maWd1cmF0aW9uXG4vLyB2YXJpYWJsZXMgZm9yIHRoaXMgaW5zdGFuY2UuXG5mdW5jdGlvbiBsb2NhbGUgKGtleSkge1xuICAgIHZhciBuZXdMb2NhbGVEYXRhO1xuXG4gICAgaWYgKGtleSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9sb2NhbGUuX2FiYnI7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgbmV3TG9jYWxlRGF0YSA9IGdldExvY2FsZShrZXkpO1xuICAgICAgICBpZiAobmV3TG9jYWxlRGF0YSAhPSBudWxsKSB7XG4gICAgICAgICAgICB0aGlzLl9sb2NhbGUgPSBuZXdMb2NhbGVEYXRhO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbn1cblxudmFyIGxhbmcgPSBkZXByZWNhdGUoXG4gICAgJ21vbWVudCgpLmxhbmcoKSBpcyBkZXByZWNhdGVkLiBJbnN0ZWFkLCB1c2UgbW9tZW50KCkubG9jYWxlRGF0YSgpIHRvIGdldCB0aGUgbGFuZ3VhZ2UgY29uZmlndXJhdGlvbi4gVXNlIG1vbWVudCgpLmxvY2FsZSgpIHRvIGNoYW5nZSBsYW5ndWFnZXMuJyxcbiAgICBmdW5jdGlvbiAoa2V5KSB7XG4gICAgICAgIGlmIChrZXkgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMubG9jYWxlRGF0YSgpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMubG9jYWxlKGtleSk7XG4gICAgICAgIH1cbiAgICB9XG4pO1xuXG5mdW5jdGlvbiBsb2NhbGVEYXRhICgpIHtcbiAgICByZXR1cm4gdGhpcy5fbG9jYWxlO1xufVxuXG5mdW5jdGlvbiBzdGFydE9mICh1bml0cykge1xuICAgIHVuaXRzID0gbm9ybWFsaXplVW5pdHModW5pdHMpO1xuICAgIC8vIHRoZSBmb2xsb3dpbmcgc3dpdGNoIGludGVudGlvbmFsbHkgb21pdHMgYnJlYWsga2V5d29yZHNcbiAgICAvLyB0byB1dGlsaXplIGZhbGxpbmcgdGhyb3VnaCB0aGUgY2FzZXMuXG4gICAgc3dpdGNoICh1bml0cykge1xuICAgICAgICBjYXNlICd5ZWFyJzpcbiAgICAgICAgICAgIHRoaXMubW9udGgoMCk7XG4gICAgICAgICAgICAvKiBmYWxscyB0aHJvdWdoICovXG4gICAgICAgIGNhc2UgJ3F1YXJ0ZXInOlxuICAgICAgICBjYXNlICdtb250aCc6XG4gICAgICAgICAgICB0aGlzLmRhdGUoMSk7XG4gICAgICAgICAgICAvKiBmYWxscyB0aHJvdWdoICovXG4gICAgICAgIGNhc2UgJ3dlZWsnOlxuICAgICAgICBjYXNlICdpc29XZWVrJzpcbiAgICAgICAgY2FzZSAnZGF5JzpcbiAgICAgICAgY2FzZSAnZGF0ZSc6XG4gICAgICAgICAgICB0aGlzLmhvdXJzKDApO1xuICAgICAgICAgICAgLyogZmFsbHMgdGhyb3VnaCAqL1xuICAgICAgICBjYXNlICdob3VyJzpcbiAgICAgICAgICAgIHRoaXMubWludXRlcygwKTtcbiAgICAgICAgICAgIC8qIGZhbGxzIHRocm91Z2ggKi9cbiAgICAgICAgY2FzZSAnbWludXRlJzpcbiAgICAgICAgICAgIHRoaXMuc2Vjb25kcygwKTtcbiAgICAgICAgICAgIC8qIGZhbGxzIHRocm91Z2ggKi9cbiAgICAgICAgY2FzZSAnc2Vjb25kJzpcbiAgICAgICAgICAgIHRoaXMubWlsbGlzZWNvbmRzKDApO1xuICAgIH1cblxuICAgIC8vIHdlZWtzIGFyZSBhIHNwZWNpYWwgY2FzZVxuICAgIGlmICh1bml0cyA9PT0gJ3dlZWsnKSB7XG4gICAgICAgIHRoaXMud2Vla2RheSgwKTtcbiAgICB9XG4gICAgaWYgKHVuaXRzID09PSAnaXNvV2VlaycpIHtcbiAgICAgICAgdGhpcy5pc29XZWVrZGF5KDEpO1xuICAgIH1cblxuICAgIC8vIHF1YXJ0ZXJzIGFyZSBhbHNvIHNwZWNpYWxcbiAgICBpZiAodW5pdHMgPT09ICdxdWFydGVyJykge1xuICAgICAgICB0aGlzLm1vbnRoKE1hdGguZmxvb3IodGhpcy5tb250aCgpIC8gMykgKiAzKTtcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcztcbn1cblxuZnVuY3Rpb24gZW5kT2YgKHVuaXRzKSB7XG4gICAgdW5pdHMgPSBub3JtYWxpemVVbml0cyh1bml0cyk7XG4gICAgaWYgKHVuaXRzID09PSB1bmRlZmluZWQgfHwgdW5pdHMgPT09ICdtaWxsaXNlY29uZCcpIHtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLy8gJ2RhdGUnIGlzIGFuIGFsaWFzIGZvciAnZGF5Jywgc28gaXQgc2hvdWxkIGJlIGNvbnNpZGVyZWQgYXMgc3VjaC5cbiAgICBpZiAodW5pdHMgPT09ICdkYXRlJykge1xuICAgICAgICB1bml0cyA9ICdkYXknO1xuICAgIH1cblxuICAgIHJldHVybiB0aGlzLnN0YXJ0T2YodW5pdHMpLmFkZCgxLCAodW5pdHMgPT09ICdpc29XZWVrJyA/ICd3ZWVrJyA6IHVuaXRzKSkuc3VidHJhY3QoMSwgJ21zJyk7XG59XG5cbmZ1bmN0aW9uIHZhbHVlT2YgKCkge1xuICAgIHJldHVybiB0aGlzLl9kLnZhbHVlT2YoKSAtICgodGhpcy5fb2Zmc2V0IHx8IDApICogNjAwMDApO1xufVxuXG5mdW5jdGlvbiB1bml4ICgpIHtcbiAgICByZXR1cm4gTWF0aC5mbG9vcih0aGlzLnZhbHVlT2YoKSAvIDEwMDApO1xufVxuXG5mdW5jdGlvbiB0b0RhdGUgKCkge1xuICAgIHJldHVybiBuZXcgRGF0ZSh0aGlzLnZhbHVlT2YoKSk7XG59XG5cbmZ1bmN0aW9uIHRvQXJyYXkgKCkge1xuICAgIHZhciBtID0gdGhpcztcbiAgICByZXR1cm4gW20ueWVhcigpLCBtLm1vbnRoKCksIG0uZGF0ZSgpLCBtLmhvdXIoKSwgbS5taW51dGUoKSwgbS5zZWNvbmQoKSwgbS5taWxsaXNlY29uZCgpXTtcbn1cblxuZnVuY3Rpb24gdG9PYmplY3QgKCkge1xuICAgIHZhciBtID0gdGhpcztcbiAgICByZXR1cm4ge1xuICAgICAgICB5ZWFyczogbS55ZWFyKCksXG4gICAgICAgIG1vbnRoczogbS5tb250aCgpLFxuICAgICAgICBkYXRlOiBtLmRhdGUoKSxcbiAgICAgICAgaG91cnM6IG0uaG91cnMoKSxcbiAgICAgICAgbWludXRlczogbS5taW51dGVzKCksXG4gICAgICAgIHNlY29uZHM6IG0uc2Vjb25kcygpLFxuICAgICAgICBtaWxsaXNlY29uZHM6IG0ubWlsbGlzZWNvbmRzKClcbiAgICB9O1xufVxuXG5mdW5jdGlvbiB0b0pTT04gKCkge1xuICAgIC8vIG5ldyBEYXRlKE5hTikudG9KU09OKCkgPT09IG51bGxcbiAgICByZXR1cm4gdGhpcy5pc1ZhbGlkKCkgPyB0aGlzLnRvSVNPU3RyaW5nKCkgOiBudWxsO1xufVxuXG5mdW5jdGlvbiBpc1ZhbGlkJDEgKCkge1xuICAgIHJldHVybiBpc1ZhbGlkKHRoaXMpO1xufVxuXG5mdW5jdGlvbiBwYXJzaW5nRmxhZ3MgKCkge1xuICAgIHJldHVybiBleHRlbmQoe30sIGdldFBhcnNpbmdGbGFncyh0aGlzKSk7XG59XG5cbmZ1bmN0aW9uIGludmFsaWRBdCAoKSB7XG4gICAgcmV0dXJuIGdldFBhcnNpbmdGbGFncyh0aGlzKS5vdmVyZmxvdztcbn1cblxuZnVuY3Rpb24gY3JlYXRpb25EYXRhKCkge1xuICAgIHJldHVybiB7XG4gICAgICAgIGlucHV0OiB0aGlzLl9pLFxuICAgICAgICBmb3JtYXQ6IHRoaXMuX2YsXG4gICAgICAgIGxvY2FsZTogdGhpcy5fbG9jYWxlLFxuICAgICAgICBpc1VUQzogdGhpcy5faXNVVEMsXG4gICAgICAgIHN0cmljdDogdGhpcy5fc3RyaWN0XG4gICAgfTtcbn1cblxuLy8gRk9STUFUVElOR1xuXG5hZGRGb3JtYXRUb2tlbigwLCBbJ2dnJywgMl0sIDAsIGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gdGhpcy53ZWVrWWVhcigpICUgMTAwO1xufSk7XG5cbmFkZEZvcm1hdFRva2VuKDAsIFsnR0cnLCAyXSwgMCwgZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB0aGlzLmlzb1dlZWtZZWFyKCkgJSAxMDA7XG59KTtcblxuZnVuY3Rpb24gYWRkV2Vla1llYXJGb3JtYXRUb2tlbiAodG9rZW4sIGdldHRlcikge1xuICAgIGFkZEZvcm1hdFRva2VuKDAsIFt0b2tlbiwgdG9rZW4ubGVuZ3RoXSwgMCwgZ2V0dGVyKTtcbn1cblxuYWRkV2Vla1llYXJGb3JtYXRUb2tlbignZ2dnZycsICAgICAnd2Vla1llYXInKTtcbmFkZFdlZWtZZWFyRm9ybWF0VG9rZW4oJ2dnZ2dnJywgICAgJ3dlZWtZZWFyJyk7XG5hZGRXZWVrWWVhckZvcm1hdFRva2VuKCdHR0dHJywgICdpc29XZWVrWWVhcicpO1xuYWRkV2Vla1llYXJGb3JtYXRUb2tlbignR0dHR0cnLCAnaXNvV2Vla1llYXInKTtcblxuLy8gQUxJQVNFU1xuXG5hZGRVbml0QWxpYXMoJ3dlZWtZZWFyJywgJ2dnJyk7XG5hZGRVbml0QWxpYXMoJ2lzb1dlZWtZZWFyJywgJ0dHJyk7XG5cbi8vIFBSSU9SSVRZXG5cbmFkZFVuaXRQcmlvcml0eSgnd2Vla1llYXInLCAxKTtcbmFkZFVuaXRQcmlvcml0eSgnaXNvV2Vla1llYXInLCAxKTtcblxuXG4vLyBQQVJTSU5HXG5cbmFkZFJlZ2V4VG9rZW4oJ0cnLCAgICAgIG1hdGNoU2lnbmVkKTtcbmFkZFJlZ2V4VG9rZW4oJ2cnLCAgICAgIG1hdGNoU2lnbmVkKTtcbmFkZFJlZ2V4VG9rZW4oJ0dHJywgICAgIG1hdGNoMXRvMiwgbWF0Y2gyKTtcbmFkZFJlZ2V4VG9rZW4oJ2dnJywgICAgIG1hdGNoMXRvMiwgbWF0Y2gyKTtcbmFkZFJlZ2V4VG9rZW4oJ0dHR0cnLCAgIG1hdGNoMXRvNCwgbWF0Y2g0KTtcbmFkZFJlZ2V4VG9rZW4oJ2dnZ2cnLCAgIG1hdGNoMXRvNCwgbWF0Y2g0KTtcbmFkZFJlZ2V4VG9rZW4oJ0dHR0dHJywgIG1hdGNoMXRvNiwgbWF0Y2g2KTtcbmFkZFJlZ2V4VG9rZW4oJ2dnZ2dnJywgIG1hdGNoMXRvNiwgbWF0Y2g2KTtcblxuYWRkV2Vla1BhcnNlVG9rZW4oWydnZ2dnJywgJ2dnZ2dnJywgJ0dHR0cnLCAnR0dHR0cnXSwgZnVuY3Rpb24gKGlucHV0LCB3ZWVrLCBjb25maWcsIHRva2VuKSB7XG4gICAgd2Vla1t0b2tlbi5zdWJzdHIoMCwgMildID0gdG9JbnQoaW5wdXQpO1xufSk7XG5cbmFkZFdlZWtQYXJzZVRva2VuKFsnZ2cnLCAnR0cnXSwgZnVuY3Rpb24gKGlucHV0LCB3ZWVrLCBjb25maWcsIHRva2VuKSB7XG4gICAgd2Vla1t0b2tlbl0gPSBob29rcy5wYXJzZVR3b0RpZ2l0WWVhcihpbnB1dCk7XG59KTtcblxuLy8gTU9NRU5UU1xuXG5mdW5jdGlvbiBnZXRTZXRXZWVrWWVhciAoaW5wdXQpIHtcbiAgICByZXR1cm4gZ2V0U2V0V2Vla1llYXJIZWxwZXIuY2FsbCh0aGlzLFxuICAgICAgICAgICAgaW5wdXQsXG4gICAgICAgICAgICB0aGlzLndlZWsoKSxcbiAgICAgICAgICAgIHRoaXMud2Vla2RheSgpLFxuICAgICAgICAgICAgdGhpcy5sb2NhbGVEYXRhKCkuX3dlZWsuZG93LFxuICAgICAgICAgICAgdGhpcy5sb2NhbGVEYXRhKCkuX3dlZWsuZG95KTtcbn1cblxuZnVuY3Rpb24gZ2V0U2V0SVNPV2Vla1llYXIgKGlucHV0KSB7XG4gICAgcmV0dXJuIGdldFNldFdlZWtZZWFySGVscGVyLmNhbGwodGhpcyxcbiAgICAgICAgICAgIGlucHV0LCB0aGlzLmlzb1dlZWsoKSwgdGhpcy5pc29XZWVrZGF5KCksIDEsIDQpO1xufVxuXG5mdW5jdGlvbiBnZXRJU09XZWVrc0luWWVhciAoKSB7XG4gICAgcmV0dXJuIHdlZWtzSW5ZZWFyKHRoaXMueWVhcigpLCAxLCA0KTtcbn1cblxuZnVuY3Rpb24gZ2V0V2Vla3NJblllYXIgKCkge1xuICAgIHZhciB3ZWVrSW5mbyA9IHRoaXMubG9jYWxlRGF0YSgpLl93ZWVrO1xuICAgIHJldHVybiB3ZWVrc0luWWVhcih0aGlzLnllYXIoKSwgd2Vla0luZm8uZG93LCB3ZWVrSW5mby5kb3kpO1xufVxuXG5mdW5jdGlvbiBnZXRTZXRXZWVrWWVhckhlbHBlcihpbnB1dCwgd2Vlaywgd2Vla2RheSwgZG93LCBkb3kpIHtcbiAgICB2YXIgd2Vla3NUYXJnZXQ7XG4gICAgaWYgKGlucHV0ID09IG51bGwpIHtcbiAgICAgICAgcmV0dXJuIHdlZWtPZlllYXIodGhpcywgZG93LCBkb3kpLnllYXI7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgd2Vla3NUYXJnZXQgPSB3ZWVrc0luWWVhcihpbnB1dCwgZG93LCBkb3kpO1xuICAgICAgICBpZiAod2VlayA+IHdlZWtzVGFyZ2V0KSB7XG4gICAgICAgICAgICB3ZWVrID0gd2Vla3NUYXJnZXQ7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHNldFdlZWtBbGwuY2FsbCh0aGlzLCBpbnB1dCwgd2Vlaywgd2Vla2RheSwgZG93LCBkb3kpO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gc2V0V2Vla0FsbCh3ZWVrWWVhciwgd2Vlaywgd2Vla2RheSwgZG93LCBkb3kpIHtcbiAgICB2YXIgZGF5T2ZZZWFyRGF0YSA9IGRheU9mWWVhckZyb21XZWVrcyh3ZWVrWWVhciwgd2Vlaywgd2Vla2RheSwgZG93LCBkb3kpLFxuICAgICAgICBkYXRlID0gY3JlYXRlVVRDRGF0ZShkYXlPZlllYXJEYXRhLnllYXIsIDAsIGRheU9mWWVhckRhdGEuZGF5T2ZZZWFyKTtcblxuICAgIHRoaXMueWVhcihkYXRlLmdldFVUQ0Z1bGxZZWFyKCkpO1xuICAgIHRoaXMubW9udGgoZGF0ZS5nZXRVVENNb250aCgpKTtcbiAgICB0aGlzLmRhdGUoZGF0ZS5nZXRVVENEYXRlKCkpO1xuICAgIHJldHVybiB0aGlzO1xufVxuXG4vLyBGT1JNQVRUSU5HXG5cbmFkZEZvcm1hdFRva2VuKCdRJywgMCwgJ1FvJywgJ3F1YXJ0ZXInKTtcblxuLy8gQUxJQVNFU1xuXG5hZGRVbml0QWxpYXMoJ3F1YXJ0ZXInLCAnUScpO1xuXG4vLyBQUklPUklUWVxuXG5hZGRVbml0UHJpb3JpdHkoJ3F1YXJ0ZXInLCA3KTtcblxuLy8gUEFSU0lOR1xuXG5hZGRSZWdleFRva2VuKCdRJywgbWF0Y2gxKTtcbmFkZFBhcnNlVG9rZW4oJ1EnLCBmdW5jdGlvbiAoaW5wdXQsIGFycmF5KSB7XG4gICAgYXJyYXlbTU9OVEhdID0gKHRvSW50KGlucHV0KSAtIDEpICogMztcbn0pO1xuXG4vLyBNT01FTlRTXG5cbmZ1bmN0aW9uIGdldFNldFF1YXJ0ZXIgKGlucHV0KSB7XG4gICAgcmV0dXJuIGlucHV0ID09IG51bGwgPyBNYXRoLmNlaWwoKHRoaXMubW9udGgoKSArIDEpIC8gMykgOiB0aGlzLm1vbnRoKChpbnB1dCAtIDEpICogMyArIHRoaXMubW9udGgoKSAlIDMpO1xufVxuXG4vLyBGT1JNQVRUSU5HXG5cbmFkZEZvcm1hdFRva2VuKCdEJywgWydERCcsIDJdLCAnRG8nLCAnZGF0ZScpO1xuXG4vLyBBTElBU0VTXG5cbmFkZFVuaXRBbGlhcygnZGF0ZScsICdEJyk7XG5cbi8vIFBSSU9ST0lUWVxuYWRkVW5pdFByaW9yaXR5KCdkYXRlJywgOSk7XG5cbi8vIFBBUlNJTkdcblxuYWRkUmVnZXhUb2tlbignRCcsICBtYXRjaDF0bzIpO1xuYWRkUmVnZXhUb2tlbignREQnLCBtYXRjaDF0bzIsIG1hdGNoMik7XG5hZGRSZWdleFRva2VuKCdEbycsIGZ1bmN0aW9uIChpc1N0cmljdCwgbG9jYWxlKSB7XG4gICAgcmV0dXJuIGlzU3RyaWN0ID8gbG9jYWxlLl9vcmRpbmFsUGFyc2UgOiBsb2NhbGUuX29yZGluYWxQYXJzZUxlbmllbnQ7XG59KTtcblxuYWRkUGFyc2VUb2tlbihbJ0QnLCAnREQnXSwgREFURSk7XG5hZGRQYXJzZVRva2VuKCdEbycsIGZ1bmN0aW9uIChpbnB1dCwgYXJyYXkpIHtcbiAgICBhcnJheVtEQVRFXSA9IHRvSW50KGlucHV0Lm1hdGNoKG1hdGNoMXRvMilbMF0sIDEwKTtcbn0pO1xuXG4vLyBNT01FTlRTXG5cbnZhciBnZXRTZXREYXlPZk1vbnRoID0gbWFrZUdldFNldCgnRGF0ZScsIHRydWUpO1xuXG4vLyBGT1JNQVRUSU5HXG5cbmFkZEZvcm1hdFRva2VuKCdEREQnLCBbJ0REREQnLCAzXSwgJ0RERG8nLCAnZGF5T2ZZZWFyJyk7XG5cbi8vIEFMSUFTRVNcblxuYWRkVW5pdEFsaWFzKCdkYXlPZlllYXInLCAnREREJyk7XG5cbi8vIFBSSU9SSVRZXG5hZGRVbml0UHJpb3JpdHkoJ2RheU9mWWVhcicsIDQpO1xuXG4vLyBQQVJTSU5HXG5cbmFkZFJlZ2V4VG9rZW4oJ0RERCcsICBtYXRjaDF0bzMpO1xuYWRkUmVnZXhUb2tlbignRERERCcsIG1hdGNoMyk7XG5hZGRQYXJzZVRva2VuKFsnREREJywgJ0REREQnXSwgZnVuY3Rpb24gKGlucHV0LCBhcnJheSwgY29uZmlnKSB7XG4gICAgY29uZmlnLl9kYXlPZlllYXIgPSB0b0ludChpbnB1dCk7XG59KTtcblxuLy8gSEVMUEVSU1xuXG4vLyBNT01FTlRTXG5cbmZ1bmN0aW9uIGdldFNldERheU9mWWVhciAoaW5wdXQpIHtcbiAgICB2YXIgZGF5T2ZZZWFyID0gTWF0aC5yb3VuZCgodGhpcy5jbG9uZSgpLnN0YXJ0T2YoJ2RheScpIC0gdGhpcy5jbG9uZSgpLnN0YXJ0T2YoJ3llYXInKSkgLyA4NjRlNSkgKyAxO1xuICAgIHJldHVybiBpbnB1dCA9PSBudWxsID8gZGF5T2ZZZWFyIDogdGhpcy5hZGQoKGlucHV0IC0gZGF5T2ZZZWFyKSwgJ2QnKTtcbn1cblxuLy8gRk9STUFUVElOR1xuXG5hZGRGb3JtYXRUb2tlbignbScsIFsnbW0nLCAyXSwgMCwgJ21pbnV0ZScpO1xuXG4vLyBBTElBU0VTXG5cbmFkZFVuaXRBbGlhcygnbWludXRlJywgJ20nKTtcblxuLy8gUFJJT1JJVFlcblxuYWRkVW5pdFByaW9yaXR5KCdtaW51dGUnLCAxNCk7XG5cbi8vIFBBUlNJTkdcblxuYWRkUmVnZXhUb2tlbignbScsICBtYXRjaDF0bzIpO1xuYWRkUmVnZXhUb2tlbignbW0nLCBtYXRjaDF0bzIsIG1hdGNoMik7XG5hZGRQYXJzZVRva2VuKFsnbScsICdtbSddLCBNSU5VVEUpO1xuXG4vLyBNT01FTlRTXG5cbnZhciBnZXRTZXRNaW51dGUgPSBtYWtlR2V0U2V0KCdNaW51dGVzJywgZmFsc2UpO1xuXG4vLyBGT1JNQVRUSU5HXG5cbmFkZEZvcm1hdFRva2VuKCdzJywgWydzcycsIDJdLCAwLCAnc2Vjb25kJyk7XG5cbi8vIEFMSUFTRVNcblxuYWRkVW5pdEFsaWFzKCdzZWNvbmQnLCAncycpO1xuXG4vLyBQUklPUklUWVxuXG5hZGRVbml0UHJpb3JpdHkoJ3NlY29uZCcsIDE1KTtcblxuLy8gUEFSU0lOR1xuXG5hZGRSZWdleFRva2VuKCdzJywgIG1hdGNoMXRvMik7XG5hZGRSZWdleFRva2VuKCdzcycsIG1hdGNoMXRvMiwgbWF0Y2gyKTtcbmFkZFBhcnNlVG9rZW4oWydzJywgJ3NzJ10sIFNFQ09ORCk7XG5cbi8vIE1PTUVOVFNcblxudmFyIGdldFNldFNlY29uZCA9IG1ha2VHZXRTZXQoJ1NlY29uZHMnLCBmYWxzZSk7XG5cbi8vIEZPUk1BVFRJTkdcblxuYWRkRm9ybWF0VG9rZW4oJ1MnLCAwLCAwLCBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIH5+KHRoaXMubWlsbGlzZWNvbmQoKSAvIDEwMCk7XG59KTtcblxuYWRkRm9ybWF0VG9rZW4oMCwgWydTUycsIDJdLCAwLCBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIH5+KHRoaXMubWlsbGlzZWNvbmQoKSAvIDEwKTtcbn0pO1xuXG5hZGRGb3JtYXRUb2tlbigwLCBbJ1NTUycsIDNdLCAwLCAnbWlsbGlzZWNvbmQnKTtcbmFkZEZvcm1hdFRva2VuKDAsIFsnU1NTUycsIDRdLCAwLCBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHRoaXMubWlsbGlzZWNvbmQoKSAqIDEwO1xufSk7XG5hZGRGb3JtYXRUb2tlbigwLCBbJ1NTU1NTJywgNV0sIDAsIGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gdGhpcy5taWxsaXNlY29uZCgpICogMTAwO1xufSk7XG5hZGRGb3JtYXRUb2tlbigwLCBbJ1NTU1NTUycsIDZdLCAwLCBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHRoaXMubWlsbGlzZWNvbmQoKSAqIDEwMDA7XG59KTtcbmFkZEZvcm1hdFRva2VuKDAsIFsnU1NTU1NTUycsIDddLCAwLCBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHRoaXMubWlsbGlzZWNvbmQoKSAqIDEwMDAwO1xufSk7XG5hZGRGb3JtYXRUb2tlbigwLCBbJ1NTU1NTU1NTJywgOF0sIDAsIGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gdGhpcy5taWxsaXNlY29uZCgpICogMTAwMDAwO1xufSk7XG5hZGRGb3JtYXRUb2tlbigwLCBbJ1NTU1NTU1NTUycsIDldLCAwLCBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHRoaXMubWlsbGlzZWNvbmQoKSAqIDEwMDAwMDA7XG59KTtcblxuXG4vLyBBTElBU0VTXG5cbmFkZFVuaXRBbGlhcygnbWlsbGlzZWNvbmQnLCAnbXMnKTtcblxuLy8gUFJJT1JJVFlcblxuYWRkVW5pdFByaW9yaXR5KCdtaWxsaXNlY29uZCcsIDE2KTtcblxuLy8gUEFSU0lOR1xuXG5hZGRSZWdleFRva2VuKCdTJywgICAgbWF0Y2gxdG8zLCBtYXRjaDEpO1xuYWRkUmVnZXhUb2tlbignU1MnLCAgIG1hdGNoMXRvMywgbWF0Y2gyKTtcbmFkZFJlZ2V4VG9rZW4oJ1NTUycsICBtYXRjaDF0bzMsIG1hdGNoMyk7XG5cbnZhciB0b2tlbjtcbmZvciAodG9rZW4gPSAnU1NTUyc7IHRva2VuLmxlbmd0aCA8PSA5OyB0b2tlbiArPSAnUycpIHtcbiAgICBhZGRSZWdleFRva2VuKHRva2VuLCBtYXRjaFVuc2lnbmVkKTtcbn1cblxuZnVuY3Rpb24gcGFyc2VNcyhpbnB1dCwgYXJyYXkpIHtcbiAgICBhcnJheVtNSUxMSVNFQ09ORF0gPSB0b0ludCgoJzAuJyArIGlucHV0KSAqIDEwMDApO1xufVxuXG5mb3IgKHRva2VuID0gJ1MnOyB0b2tlbi5sZW5ndGggPD0gOTsgdG9rZW4gKz0gJ1MnKSB7XG4gICAgYWRkUGFyc2VUb2tlbih0b2tlbiwgcGFyc2VNcyk7XG59XG4vLyBNT01FTlRTXG5cbnZhciBnZXRTZXRNaWxsaXNlY29uZCA9IG1ha2VHZXRTZXQoJ01pbGxpc2Vjb25kcycsIGZhbHNlKTtcblxuLy8gRk9STUFUVElOR1xuXG5hZGRGb3JtYXRUb2tlbigneicsICAwLCAwLCAnem9uZUFiYnInKTtcbmFkZEZvcm1hdFRva2VuKCd6eicsIDAsIDAsICd6b25lTmFtZScpO1xuXG4vLyBNT01FTlRTXG5cbmZ1bmN0aW9uIGdldFpvbmVBYmJyICgpIHtcbiAgICByZXR1cm4gdGhpcy5faXNVVEMgPyAnVVRDJyA6ICcnO1xufVxuXG5mdW5jdGlvbiBnZXRab25lTmFtZSAoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2lzVVRDID8gJ0Nvb3JkaW5hdGVkIFVuaXZlcnNhbCBUaW1lJyA6ICcnO1xufVxuXG52YXIgcHJvdG8gPSBNb21lbnQucHJvdG90eXBlO1xuXG5wcm90by5hZGQgICAgICAgICAgICAgICA9IGFkZDtcbnByb3RvLmNhbGVuZGFyICAgICAgICAgID0gY2FsZW5kYXIkMTtcbnByb3RvLmNsb25lICAgICAgICAgICAgID0gY2xvbmU7XG5wcm90by5kaWZmICAgICAgICAgICAgICA9IGRpZmY7XG5wcm90by5lbmRPZiAgICAgICAgICAgICA9IGVuZE9mO1xucHJvdG8uZm9ybWF0ICAgICAgICAgICAgPSBmb3JtYXQ7XG5wcm90by5mcm9tICAgICAgICAgICAgICA9IGZyb207XG5wcm90by5mcm9tTm93ICAgICAgICAgICA9IGZyb21Ob3c7XG5wcm90by50byAgICAgICAgICAgICAgICA9IHRvO1xucHJvdG8udG9Ob3cgICAgICAgICAgICAgPSB0b05vdztcbnByb3RvLmdldCAgICAgICAgICAgICAgID0gc3RyaW5nR2V0O1xucHJvdG8uaW52YWxpZEF0ICAgICAgICAgPSBpbnZhbGlkQXQ7XG5wcm90by5pc0FmdGVyICAgICAgICAgICA9IGlzQWZ0ZXI7XG5wcm90by5pc0JlZm9yZSAgICAgICAgICA9IGlzQmVmb3JlO1xucHJvdG8uaXNCZXR3ZWVuICAgICAgICAgPSBpc0JldHdlZW47XG5wcm90by5pc1NhbWUgICAgICAgICAgICA9IGlzU2FtZTtcbnByb3RvLmlzU2FtZU9yQWZ0ZXIgICAgID0gaXNTYW1lT3JBZnRlcjtcbnByb3RvLmlzU2FtZU9yQmVmb3JlICAgID0gaXNTYW1lT3JCZWZvcmU7XG5wcm90by5pc1ZhbGlkICAgICAgICAgICA9IGlzVmFsaWQkMTtcbnByb3RvLmxhbmcgICAgICAgICAgICAgID0gbGFuZztcbnByb3RvLmxvY2FsZSAgICAgICAgICAgID0gbG9jYWxlO1xucHJvdG8ubG9jYWxlRGF0YSAgICAgICAgPSBsb2NhbGVEYXRhO1xucHJvdG8ubWF4ICAgICAgICAgICAgICAgPSBwcm90b3R5cGVNYXg7XG5wcm90by5taW4gICAgICAgICAgICAgICA9IHByb3RvdHlwZU1pbjtcbnByb3RvLnBhcnNpbmdGbGFncyAgICAgID0gcGFyc2luZ0ZsYWdzO1xucHJvdG8uc2V0ICAgICAgICAgICAgICAgPSBzdHJpbmdTZXQ7XG5wcm90by5zdGFydE9mICAgICAgICAgICA9IHN0YXJ0T2Y7XG5wcm90by5zdWJ0cmFjdCAgICAgICAgICA9IHN1YnRyYWN0O1xucHJvdG8udG9BcnJheSAgICAgICAgICAgPSB0b0FycmF5O1xucHJvdG8udG9PYmplY3QgICAgICAgICAgPSB0b09iamVjdDtcbnByb3RvLnRvRGF0ZSAgICAgICAgICAgID0gdG9EYXRlO1xucHJvdG8udG9JU09TdHJpbmcgICAgICAgPSB0b0lTT1N0cmluZztcbnByb3RvLmluc3BlY3QgICAgICAgICAgID0gaW5zcGVjdDtcbnByb3RvLnRvSlNPTiAgICAgICAgICAgID0gdG9KU09OO1xucHJvdG8udG9TdHJpbmcgICAgICAgICAgPSB0b1N0cmluZztcbnByb3RvLnVuaXggICAgICAgICAgICAgID0gdW5peDtcbnByb3RvLnZhbHVlT2YgICAgICAgICAgID0gdmFsdWVPZjtcbnByb3RvLmNyZWF0aW9uRGF0YSAgICAgID0gY3JlYXRpb25EYXRhO1xuXG4vLyBZZWFyXG5wcm90by55ZWFyICAgICAgID0gZ2V0U2V0WWVhcjtcbnByb3RvLmlzTGVhcFllYXIgPSBnZXRJc0xlYXBZZWFyO1xuXG4vLyBXZWVrIFllYXJcbnByb3RvLndlZWtZZWFyICAgID0gZ2V0U2V0V2Vla1llYXI7XG5wcm90by5pc29XZWVrWWVhciA9IGdldFNldElTT1dlZWtZZWFyO1xuXG4vLyBRdWFydGVyXG5wcm90by5xdWFydGVyID0gcHJvdG8ucXVhcnRlcnMgPSBnZXRTZXRRdWFydGVyO1xuXG4vLyBNb250aFxucHJvdG8ubW9udGggICAgICAgPSBnZXRTZXRNb250aDtcbnByb3RvLmRheXNJbk1vbnRoID0gZ2V0RGF5c0luTW9udGg7XG5cbi8vIFdlZWtcbnByb3RvLndlZWsgICAgICAgICAgID0gcHJvdG8ud2Vla3MgICAgICAgID0gZ2V0U2V0V2VlaztcbnByb3RvLmlzb1dlZWsgICAgICAgID0gcHJvdG8uaXNvV2Vla3MgICAgID0gZ2V0U2V0SVNPV2VlaztcbnByb3RvLndlZWtzSW5ZZWFyICAgID0gZ2V0V2Vla3NJblllYXI7XG5wcm90by5pc29XZWVrc0luWWVhciA9IGdldElTT1dlZWtzSW5ZZWFyO1xuXG4vLyBEYXlcbnByb3RvLmRhdGUgICAgICAgPSBnZXRTZXREYXlPZk1vbnRoO1xucHJvdG8uZGF5ICAgICAgICA9IHByb3RvLmRheXMgICAgICAgICAgICAgPSBnZXRTZXREYXlPZldlZWs7XG5wcm90by53ZWVrZGF5ICAgID0gZ2V0U2V0TG9jYWxlRGF5T2ZXZWVrO1xucHJvdG8uaXNvV2Vla2RheSA9IGdldFNldElTT0RheU9mV2VlaztcbnByb3RvLmRheU9mWWVhciAgPSBnZXRTZXREYXlPZlllYXI7XG5cbi8vIEhvdXJcbnByb3RvLmhvdXIgPSBwcm90by5ob3VycyA9IGdldFNldEhvdXI7XG5cbi8vIE1pbnV0ZVxucHJvdG8ubWludXRlID0gcHJvdG8ubWludXRlcyA9IGdldFNldE1pbnV0ZTtcblxuLy8gU2Vjb25kXG5wcm90by5zZWNvbmQgPSBwcm90by5zZWNvbmRzID0gZ2V0U2V0U2Vjb25kO1xuXG4vLyBNaWxsaXNlY29uZFxucHJvdG8ubWlsbGlzZWNvbmQgPSBwcm90by5taWxsaXNlY29uZHMgPSBnZXRTZXRNaWxsaXNlY29uZDtcblxuLy8gT2Zmc2V0XG5wcm90by51dGNPZmZzZXQgICAgICAgICAgICA9IGdldFNldE9mZnNldDtcbnByb3RvLnV0YyAgICAgICAgICAgICAgICAgID0gc2V0T2Zmc2V0VG9VVEM7XG5wcm90by5sb2NhbCAgICAgICAgICAgICAgICA9IHNldE9mZnNldFRvTG9jYWw7XG5wcm90by5wYXJzZVpvbmUgICAgICAgICAgICA9IHNldE9mZnNldFRvUGFyc2VkT2Zmc2V0O1xucHJvdG8uaGFzQWxpZ25lZEhvdXJPZmZzZXQgPSBoYXNBbGlnbmVkSG91ck9mZnNldDtcbnByb3RvLmlzRFNUICAgICAgICAgICAgICAgID0gaXNEYXlsaWdodFNhdmluZ1RpbWU7XG5wcm90by5pc0xvY2FsICAgICAgICAgICAgICA9IGlzTG9jYWw7XG5wcm90by5pc1V0Y09mZnNldCAgICAgICAgICA9IGlzVXRjT2Zmc2V0O1xucHJvdG8uaXNVdGMgICAgICAgICAgICAgICAgPSBpc1V0YztcbnByb3RvLmlzVVRDICAgICAgICAgICAgICAgID0gaXNVdGM7XG5cbi8vIFRpbWV6b25lXG5wcm90by56b25lQWJiciA9IGdldFpvbmVBYmJyO1xucHJvdG8uem9uZU5hbWUgPSBnZXRab25lTmFtZTtcblxuLy8gRGVwcmVjYXRpb25zXG5wcm90by5kYXRlcyAgPSBkZXByZWNhdGUoJ2RhdGVzIGFjY2Vzc29yIGlzIGRlcHJlY2F0ZWQuIFVzZSBkYXRlIGluc3RlYWQuJywgZ2V0U2V0RGF5T2ZNb250aCk7XG5wcm90by5tb250aHMgPSBkZXByZWNhdGUoJ21vbnRocyBhY2Nlc3NvciBpcyBkZXByZWNhdGVkLiBVc2UgbW9udGggaW5zdGVhZCcsIGdldFNldE1vbnRoKTtcbnByb3RvLnllYXJzICA9IGRlcHJlY2F0ZSgneWVhcnMgYWNjZXNzb3IgaXMgZGVwcmVjYXRlZC4gVXNlIHllYXIgaW5zdGVhZCcsIGdldFNldFllYXIpO1xucHJvdG8uem9uZSAgID0gZGVwcmVjYXRlKCdtb21lbnQoKS56b25lIGlzIGRlcHJlY2F0ZWQsIHVzZSBtb21lbnQoKS51dGNPZmZzZXQgaW5zdGVhZC4gaHR0cDovL21vbWVudGpzLmNvbS9ndWlkZXMvIy93YXJuaW5ncy96b25lLycsIGdldFNldFpvbmUpO1xucHJvdG8uaXNEU1RTaGlmdGVkID0gZGVwcmVjYXRlKCdpc0RTVFNoaWZ0ZWQgaXMgZGVwcmVjYXRlZC4gU2VlIGh0dHA6Ly9tb21lbnRqcy5jb20vZ3VpZGVzLyMvd2FybmluZ3MvZHN0LXNoaWZ0ZWQvIGZvciBtb3JlIGluZm9ybWF0aW9uJywgaXNEYXlsaWdodFNhdmluZ1RpbWVTaGlmdGVkKTtcblxuZnVuY3Rpb24gY3JlYXRlVW5peCAoaW5wdXQpIHtcbiAgICByZXR1cm4gY3JlYXRlTG9jYWwoaW5wdXQgKiAxMDAwKTtcbn1cblxuZnVuY3Rpb24gY3JlYXRlSW5ab25lICgpIHtcbiAgICByZXR1cm4gY3JlYXRlTG9jYWwuYXBwbHkobnVsbCwgYXJndW1lbnRzKS5wYXJzZVpvbmUoKTtcbn1cblxuZnVuY3Rpb24gcHJlUGFyc2VQb3N0Rm9ybWF0IChzdHJpbmcpIHtcbiAgICByZXR1cm4gc3RyaW5nO1xufVxuXG52YXIgcHJvdG8kMSA9IExvY2FsZS5wcm90b3R5cGU7XG5cbnByb3RvJDEuY2FsZW5kYXIgICAgICAgID0gY2FsZW5kYXI7XG5wcm90byQxLmxvbmdEYXRlRm9ybWF0ICA9IGxvbmdEYXRlRm9ybWF0O1xucHJvdG8kMS5pbnZhbGlkRGF0ZSAgICAgPSBpbnZhbGlkRGF0ZTtcbnByb3RvJDEub3JkaW5hbCAgICAgICAgID0gb3JkaW5hbDtcbnByb3RvJDEucHJlcGFyc2UgICAgICAgID0gcHJlUGFyc2VQb3N0Rm9ybWF0O1xucHJvdG8kMS5wb3N0Zm9ybWF0ICAgICAgPSBwcmVQYXJzZVBvc3RGb3JtYXQ7XG5wcm90byQxLnJlbGF0aXZlVGltZSAgICA9IHJlbGF0aXZlVGltZTtcbnByb3RvJDEucGFzdEZ1dHVyZSAgICAgID0gcGFzdEZ1dHVyZTtcbnByb3RvJDEuc2V0ICAgICAgICAgICAgID0gc2V0O1xuXG4vLyBNb250aFxucHJvdG8kMS5tb250aHMgICAgICAgICAgICA9ICAgICAgICBsb2NhbGVNb250aHM7XG5wcm90byQxLm1vbnRoc1Nob3J0ICAgICAgID0gICAgICAgIGxvY2FsZU1vbnRoc1Nob3J0O1xucHJvdG8kMS5tb250aHNQYXJzZSAgICAgICA9ICAgICAgICBsb2NhbGVNb250aHNQYXJzZTtcbnByb3RvJDEubW9udGhzUmVnZXggICAgICAgPSBtb250aHNSZWdleDtcbnByb3RvJDEubW9udGhzU2hvcnRSZWdleCAgPSBtb250aHNTaG9ydFJlZ2V4O1xuXG4vLyBXZWVrXG5wcm90byQxLndlZWsgPSBsb2NhbGVXZWVrO1xucHJvdG8kMS5maXJzdERheU9mWWVhciA9IGxvY2FsZUZpcnN0RGF5T2ZZZWFyO1xucHJvdG8kMS5maXJzdERheU9mV2VlayA9IGxvY2FsZUZpcnN0RGF5T2ZXZWVrO1xuXG4vLyBEYXkgb2YgV2Vla1xucHJvdG8kMS53ZWVrZGF5cyAgICAgICA9ICAgICAgICBsb2NhbGVXZWVrZGF5cztcbnByb3RvJDEud2Vla2RheXNNaW4gICAgPSAgICAgICAgbG9jYWxlV2Vla2RheXNNaW47XG5wcm90byQxLndlZWtkYXlzU2hvcnQgID0gICAgICAgIGxvY2FsZVdlZWtkYXlzU2hvcnQ7XG5wcm90byQxLndlZWtkYXlzUGFyc2UgID0gICAgICAgIGxvY2FsZVdlZWtkYXlzUGFyc2U7XG5cbnByb3RvJDEud2Vla2RheXNSZWdleCAgICAgICA9ICAgICAgICB3ZWVrZGF5c1JlZ2V4O1xucHJvdG8kMS53ZWVrZGF5c1Nob3J0UmVnZXggID0gICAgICAgIHdlZWtkYXlzU2hvcnRSZWdleDtcbnByb3RvJDEud2Vla2RheXNNaW5SZWdleCAgICA9ICAgICAgICB3ZWVrZGF5c01pblJlZ2V4O1xuXG4vLyBIb3Vyc1xucHJvdG8kMS5pc1BNID0gbG9jYWxlSXNQTTtcbnByb3RvJDEubWVyaWRpZW0gPSBsb2NhbGVNZXJpZGllbTtcblxuZnVuY3Rpb24gZ2V0JDEgKGZvcm1hdCwgaW5kZXgsIGZpZWxkLCBzZXR0ZXIpIHtcbiAgICB2YXIgbG9jYWxlID0gZ2V0TG9jYWxlKCk7XG4gICAgdmFyIHV0YyA9IGNyZWF0ZVVUQygpLnNldChzZXR0ZXIsIGluZGV4KTtcbiAgICByZXR1cm4gbG9jYWxlW2ZpZWxkXSh1dGMsIGZvcm1hdCk7XG59XG5cbmZ1bmN0aW9uIGxpc3RNb250aHNJbXBsIChmb3JtYXQsIGluZGV4LCBmaWVsZCkge1xuICAgIGlmIChpc051bWJlcihmb3JtYXQpKSB7XG4gICAgICAgIGluZGV4ID0gZm9ybWF0O1xuICAgICAgICBmb3JtYXQgPSB1bmRlZmluZWQ7XG4gICAgfVxuXG4gICAgZm9ybWF0ID0gZm9ybWF0IHx8ICcnO1xuXG4gICAgaWYgKGluZGV4ICE9IG51bGwpIHtcbiAgICAgICAgcmV0dXJuIGdldCQxKGZvcm1hdCwgaW5kZXgsIGZpZWxkLCAnbW9udGgnKTtcbiAgICB9XG5cbiAgICB2YXIgaTtcbiAgICB2YXIgb3V0ID0gW107XG4gICAgZm9yIChpID0gMDsgaSA8IDEyOyBpKyspIHtcbiAgICAgICAgb3V0W2ldID0gZ2V0JDEoZm9ybWF0LCBpLCBmaWVsZCwgJ21vbnRoJyk7XG4gICAgfVxuICAgIHJldHVybiBvdXQ7XG59XG5cbi8vICgpXG4vLyAoNSlcbi8vIChmbXQsIDUpXG4vLyAoZm10KVxuLy8gKHRydWUpXG4vLyAodHJ1ZSwgNSlcbi8vICh0cnVlLCBmbXQsIDUpXG4vLyAodHJ1ZSwgZm10KVxuZnVuY3Rpb24gbGlzdFdlZWtkYXlzSW1wbCAobG9jYWxlU29ydGVkLCBmb3JtYXQsIGluZGV4LCBmaWVsZCkge1xuICAgIGlmICh0eXBlb2YgbG9jYWxlU29ydGVkID09PSAnYm9vbGVhbicpIHtcbiAgICAgICAgaWYgKGlzTnVtYmVyKGZvcm1hdCkpIHtcbiAgICAgICAgICAgIGluZGV4ID0gZm9ybWF0O1xuICAgICAgICAgICAgZm9ybWF0ID0gdW5kZWZpbmVkO1xuICAgICAgICB9XG5cbiAgICAgICAgZm9ybWF0ID0gZm9ybWF0IHx8ICcnO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIGZvcm1hdCA9IGxvY2FsZVNvcnRlZDtcbiAgICAgICAgaW5kZXggPSBmb3JtYXQ7XG4gICAgICAgIGxvY2FsZVNvcnRlZCA9IGZhbHNlO1xuXG4gICAgICAgIGlmIChpc051bWJlcihmb3JtYXQpKSB7XG4gICAgICAgICAgICBpbmRleCA9IGZvcm1hdDtcbiAgICAgICAgICAgIGZvcm1hdCA9IHVuZGVmaW5lZDtcbiAgICAgICAgfVxuXG4gICAgICAgIGZvcm1hdCA9IGZvcm1hdCB8fCAnJztcbiAgICB9XG5cbiAgICB2YXIgbG9jYWxlID0gZ2V0TG9jYWxlKCksXG4gICAgICAgIHNoaWZ0ID0gbG9jYWxlU29ydGVkID8gbG9jYWxlLl93ZWVrLmRvdyA6IDA7XG5cbiAgICBpZiAoaW5kZXggIT0gbnVsbCkge1xuICAgICAgICByZXR1cm4gZ2V0JDEoZm9ybWF0LCAoaW5kZXggKyBzaGlmdCkgJSA3LCBmaWVsZCwgJ2RheScpO1xuICAgIH1cblxuICAgIHZhciBpO1xuICAgIHZhciBvdXQgPSBbXTtcbiAgICBmb3IgKGkgPSAwOyBpIDwgNzsgaSsrKSB7XG4gICAgICAgIG91dFtpXSA9IGdldCQxKGZvcm1hdCwgKGkgKyBzaGlmdCkgJSA3LCBmaWVsZCwgJ2RheScpO1xuICAgIH1cbiAgICByZXR1cm4gb3V0O1xufVxuXG5mdW5jdGlvbiBsaXN0TW9udGhzIChmb3JtYXQsIGluZGV4KSB7XG4gICAgcmV0dXJuIGxpc3RNb250aHNJbXBsKGZvcm1hdCwgaW5kZXgsICdtb250aHMnKTtcbn1cblxuZnVuY3Rpb24gbGlzdE1vbnRoc1Nob3J0IChmb3JtYXQsIGluZGV4KSB7XG4gICAgcmV0dXJuIGxpc3RNb250aHNJbXBsKGZvcm1hdCwgaW5kZXgsICdtb250aHNTaG9ydCcpO1xufVxuXG5mdW5jdGlvbiBsaXN0V2Vla2RheXMgKGxvY2FsZVNvcnRlZCwgZm9ybWF0LCBpbmRleCkge1xuICAgIHJldHVybiBsaXN0V2Vla2RheXNJbXBsKGxvY2FsZVNvcnRlZCwgZm9ybWF0LCBpbmRleCwgJ3dlZWtkYXlzJyk7XG59XG5cbmZ1bmN0aW9uIGxpc3RXZWVrZGF5c1Nob3J0IChsb2NhbGVTb3J0ZWQsIGZvcm1hdCwgaW5kZXgpIHtcbiAgICByZXR1cm4gbGlzdFdlZWtkYXlzSW1wbChsb2NhbGVTb3J0ZWQsIGZvcm1hdCwgaW5kZXgsICd3ZWVrZGF5c1Nob3J0Jyk7XG59XG5cbmZ1bmN0aW9uIGxpc3RXZWVrZGF5c01pbiAobG9jYWxlU29ydGVkLCBmb3JtYXQsIGluZGV4KSB7XG4gICAgcmV0dXJuIGxpc3RXZWVrZGF5c0ltcGwobG9jYWxlU29ydGVkLCBmb3JtYXQsIGluZGV4LCAnd2Vla2RheXNNaW4nKTtcbn1cblxuZ2V0U2V0R2xvYmFsTG9jYWxlKCdlbicsIHtcbiAgICBvcmRpbmFsUGFyc2U6IC9cXGR7MSwyfSh0aHxzdHxuZHxyZCkvLFxuICAgIG9yZGluYWwgOiBmdW5jdGlvbiAobnVtYmVyKSB7XG4gICAgICAgIHZhciBiID0gbnVtYmVyICUgMTAsXG4gICAgICAgICAgICBvdXRwdXQgPSAodG9JbnQobnVtYmVyICUgMTAwIC8gMTApID09PSAxKSA/ICd0aCcgOlxuICAgICAgICAgICAgKGIgPT09IDEpID8gJ3N0JyA6XG4gICAgICAgICAgICAoYiA9PT0gMikgPyAnbmQnIDpcbiAgICAgICAgICAgIChiID09PSAzKSA/ICdyZCcgOiAndGgnO1xuICAgICAgICByZXR1cm4gbnVtYmVyICsgb3V0cHV0O1xuICAgIH1cbn0pO1xuXG4vLyBTaWRlIGVmZmVjdCBpbXBvcnRzXG5ob29rcy5sYW5nID0gZGVwcmVjYXRlKCdtb21lbnQubGFuZyBpcyBkZXByZWNhdGVkLiBVc2UgbW9tZW50LmxvY2FsZSBpbnN0ZWFkLicsIGdldFNldEdsb2JhbExvY2FsZSk7XG5ob29rcy5sYW5nRGF0YSA9IGRlcHJlY2F0ZSgnbW9tZW50LmxhbmdEYXRhIGlzIGRlcHJlY2F0ZWQuIFVzZSBtb21lbnQubG9jYWxlRGF0YSBpbnN0ZWFkLicsIGdldExvY2FsZSk7XG5cbnZhciBtYXRoQWJzID0gTWF0aC5hYnM7XG5cbmZ1bmN0aW9uIGFicyAoKSB7XG4gICAgdmFyIGRhdGEgICAgICAgICAgID0gdGhpcy5fZGF0YTtcblxuICAgIHRoaXMuX21pbGxpc2Vjb25kcyA9IG1hdGhBYnModGhpcy5fbWlsbGlzZWNvbmRzKTtcbiAgICB0aGlzLl9kYXlzICAgICAgICAgPSBtYXRoQWJzKHRoaXMuX2RheXMpO1xuICAgIHRoaXMuX21vbnRocyAgICAgICA9IG1hdGhBYnModGhpcy5fbW9udGhzKTtcblxuICAgIGRhdGEubWlsbGlzZWNvbmRzICA9IG1hdGhBYnMoZGF0YS5taWxsaXNlY29uZHMpO1xuICAgIGRhdGEuc2Vjb25kcyAgICAgICA9IG1hdGhBYnMoZGF0YS5zZWNvbmRzKTtcbiAgICBkYXRhLm1pbnV0ZXMgICAgICAgPSBtYXRoQWJzKGRhdGEubWludXRlcyk7XG4gICAgZGF0YS5ob3VycyAgICAgICAgID0gbWF0aEFicyhkYXRhLmhvdXJzKTtcbiAgICBkYXRhLm1vbnRocyAgICAgICAgPSBtYXRoQWJzKGRhdGEubW9udGhzKTtcbiAgICBkYXRhLnllYXJzICAgICAgICAgPSBtYXRoQWJzKGRhdGEueWVhcnMpO1xuXG4gICAgcmV0dXJuIHRoaXM7XG59XG5cbmZ1bmN0aW9uIGFkZFN1YnRyYWN0JDEgKGR1cmF0aW9uLCBpbnB1dCwgdmFsdWUsIGRpcmVjdGlvbikge1xuICAgIHZhciBvdGhlciA9IGNyZWF0ZUR1cmF0aW9uKGlucHV0LCB2YWx1ZSk7XG5cbiAgICBkdXJhdGlvbi5fbWlsbGlzZWNvbmRzICs9IGRpcmVjdGlvbiAqIG90aGVyLl9taWxsaXNlY29uZHM7XG4gICAgZHVyYXRpb24uX2RheXMgICAgICAgICArPSBkaXJlY3Rpb24gKiBvdGhlci5fZGF5cztcbiAgICBkdXJhdGlvbi5fbW9udGhzICAgICAgICs9IGRpcmVjdGlvbiAqIG90aGVyLl9tb250aHM7XG5cbiAgICByZXR1cm4gZHVyYXRpb24uX2J1YmJsZSgpO1xufVxuXG4vLyBzdXBwb3J0cyBvbmx5IDIuMC1zdHlsZSBhZGQoMSwgJ3MnKSBvciBhZGQoZHVyYXRpb24pXG5mdW5jdGlvbiBhZGQkMSAoaW5wdXQsIHZhbHVlKSB7XG4gICAgcmV0dXJuIGFkZFN1YnRyYWN0JDEodGhpcywgaW5wdXQsIHZhbHVlLCAxKTtcbn1cblxuLy8gc3VwcG9ydHMgb25seSAyLjAtc3R5bGUgc3VidHJhY3QoMSwgJ3MnKSBvciBzdWJ0cmFjdChkdXJhdGlvbilcbmZ1bmN0aW9uIHN1YnRyYWN0JDEgKGlucHV0LCB2YWx1ZSkge1xuICAgIHJldHVybiBhZGRTdWJ0cmFjdCQxKHRoaXMsIGlucHV0LCB2YWx1ZSwgLTEpO1xufVxuXG5mdW5jdGlvbiBhYnNDZWlsIChudW1iZXIpIHtcbiAgICBpZiAobnVtYmVyIDwgMCkge1xuICAgICAgICByZXR1cm4gTWF0aC5mbG9vcihudW1iZXIpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBNYXRoLmNlaWwobnVtYmVyKTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIGJ1YmJsZSAoKSB7XG4gICAgdmFyIG1pbGxpc2Vjb25kcyA9IHRoaXMuX21pbGxpc2Vjb25kcztcbiAgICB2YXIgZGF5cyAgICAgICAgID0gdGhpcy5fZGF5cztcbiAgICB2YXIgbW9udGhzICAgICAgID0gdGhpcy5fbW9udGhzO1xuICAgIHZhciBkYXRhICAgICAgICAgPSB0aGlzLl9kYXRhO1xuICAgIHZhciBzZWNvbmRzLCBtaW51dGVzLCBob3VycywgeWVhcnMsIG1vbnRoc0Zyb21EYXlzO1xuXG4gICAgLy8gaWYgd2UgaGF2ZSBhIG1peCBvZiBwb3NpdGl2ZSBhbmQgbmVnYXRpdmUgdmFsdWVzLCBidWJibGUgZG93biBmaXJzdFxuICAgIC8vIGNoZWNrOiBodHRwczovL2dpdGh1Yi5jb20vbW9tZW50L21vbWVudC9pc3N1ZXMvMjE2NlxuICAgIGlmICghKChtaWxsaXNlY29uZHMgPj0gMCAmJiBkYXlzID49IDAgJiYgbW9udGhzID49IDApIHx8XG4gICAgICAgICAgICAobWlsbGlzZWNvbmRzIDw9IDAgJiYgZGF5cyA8PSAwICYmIG1vbnRocyA8PSAwKSkpIHtcbiAgICAgICAgbWlsbGlzZWNvbmRzICs9IGFic0NlaWwobW9udGhzVG9EYXlzKG1vbnRocykgKyBkYXlzKSAqIDg2NGU1O1xuICAgICAgICBkYXlzID0gMDtcbiAgICAgICAgbW9udGhzID0gMDtcbiAgICB9XG5cbiAgICAvLyBUaGUgZm9sbG93aW5nIGNvZGUgYnViYmxlcyB1cCB2YWx1ZXMsIHNlZSB0aGUgdGVzdHMgZm9yXG4gICAgLy8gZXhhbXBsZXMgb2Ygd2hhdCB0aGF0IG1lYW5zLlxuICAgIGRhdGEubWlsbGlzZWNvbmRzID0gbWlsbGlzZWNvbmRzICUgMTAwMDtcblxuICAgIHNlY29uZHMgICAgICAgICAgID0gYWJzRmxvb3IobWlsbGlzZWNvbmRzIC8gMTAwMCk7XG4gICAgZGF0YS5zZWNvbmRzICAgICAgPSBzZWNvbmRzICUgNjA7XG5cbiAgICBtaW51dGVzICAgICAgICAgICA9IGFic0Zsb29yKHNlY29uZHMgLyA2MCk7XG4gICAgZGF0YS5taW51dGVzICAgICAgPSBtaW51dGVzICUgNjA7XG5cbiAgICBob3VycyAgICAgICAgICAgICA9IGFic0Zsb29yKG1pbnV0ZXMgLyA2MCk7XG4gICAgZGF0YS5ob3VycyAgICAgICAgPSBob3VycyAlIDI0O1xuXG4gICAgZGF5cyArPSBhYnNGbG9vcihob3VycyAvIDI0KTtcblxuICAgIC8vIGNvbnZlcnQgZGF5cyB0byBtb250aHNcbiAgICBtb250aHNGcm9tRGF5cyA9IGFic0Zsb29yKGRheXNUb01vbnRocyhkYXlzKSk7XG4gICAgbW9udGhzICs9IG1vbnRoc0Zyb21EYXlzO1xuICAgIGRheXMgLT0gYWJzQ2VpbChtb250aHNUb0RheXMobW9udGhzRnJvbURheXMpKTtcblxuICAgIC8vIDEyIG1vbnRocyAtPiAxIHllYXJcbiAgICB5ZWFycyA9IGFic0Zsb29yKG1vbnRocyAvIDEyKTtcbiAgICBtb250aHMgJT0gMTI7XG5cbiAgICBkYXRhLmRheXMgICA9IGRheXM7XG4gICAgZGF0YS5tb250aHMgPSBtb250aHM7XG4gICAgZGF0YS55ZWFycyAgPSB5ZWFycztcblxuICAgIHJldHVybiB0aGlzO1xufVxuXG5mdW5jdGlvbiBkYXlzVG9Nb250aHMgKGRheXMpIHtcbiAgICAvLyA0MDAgeWVhcnMgaGF2ZSAxNDYwOTcgZGF5cyAodGFraW5nIGludG8gYWNjb3VudCBsZWFwIHllYXIgcnVsZXMpXG4gICAgLy8gNDAwIHllYXJzIGhhdmUgMTIgbW9udGhzID09PSA0ODAwXG4gICAgcmV0dXJuIGRheXMgKiA0ODAwIC8gMTQ2MDk3O1xufVxuXG5mdW5jdGlvbiBtb250aHNUb0RheXMgKG1vbnRocykge1xuICAgIC8vIHRoZSByZXZlcnNlIG9mIGRheXNUb01vbnRoc1xuICAgIHJldHVybiBtb250aHMgKiAxNDYwOTcgLyA0ODAwO1xufVxuXG5mdW5jdGlvbiBhcyAodW5pdHMpIHtcbiAgICB2YXIgZGF5cztcbiAgICB2YXIgbW9udGhzO1xuICAgIHZhciBtaWxsaXNlY29uZHMgPSB0aGlzLl9taWxsaXNlY29uZHM7XG5cbiAgICB1bml0cyA9IG5vcm1hbGl6ZVVuaXRzKHVuaXRzKTtcblxuICAgIGlmICh1bml0cyA9PT0gJ21vbnRoJyB8fCB1bml0cyA9PT0gJ3llYXInKSB7XG4gICAgICAgIGRheXMgICA9IHRoaXMuX2RheXMgICArIG1pbGxpc2Vjb25kcyAvIDg2NGU1O1xuICAgICAgICBtb250aHMgPSB0aGlzLl9tb250aHMgKyBkYXlzVG9Nb250aHMoZGF5cyk7XG4gICAgICAgIHJldHVybiB1bml0cyA9PT0gJ21vbnRoJyA/IG1vbnRocyA6IG1vbnRocyAvIDEyO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIGhhbmRsZSBtaWxsaXNlY29uZHMgc2VwYXJhdGVseSBiZWNhdXNlIG9mIGZsb2F0aW5nIHBvaW50IG1hdGggZXJyb3JzIChpc3N1ZSAjMTg2NylcbiAgICAgICAgZGF5cyA9IHRoaXMuX2RheXMgKyBNYXRoLnJvdW5kKG1vbnRoc1RvRGF5cyh0aGlzLl9tb250aHMpKTtcbiAgICAgICAgc3dpdGNoICh1bml0cykge1xuICAgICAgICAgICAgY2FzZSAnd2VlaycgICA6IHJldHVybiBkYXlzIC8gNyAgICAgKyBtaWxsaXNlY29uZHMgLyA2MDQ4ZTU7XG4gICAgICAgICAgICBjYXNlICdkYXknICAgIDogcmV0dXJuIGRheXMgICAgICAgICArIG1pbGxpc2Vjb25kcyAvIDg2NGU1O1xuICAgICAgICAgICAgY2FzZSAnaG91cicgICA6IHJldHVybiBkYXlzICogMjQgICAgKyBtaWxsaXNlY29uZHMgLyAzNmU1O1xuICAgICAgICAgICAgY2FzZSAnbWludXRlJyA6IHJldHVybiBkYXlzICogMTQ0MCAgKyBtaWxsaXNlY29uZHMgLyA2ZTQ7XG4gICAgICAgICAgICBjYXNlICdzZWNvbmQnIDogcmV0dXJuIGRheXMgKiA4NjQwMCArIG1pbGxpc2Vjb25kcyAvIDEwMDA7XG4gICAgICAgICAgICAvLyBNYXRoLmZsb29yIHByZXZlbnRzIGZsb2F0aW5nIHBvaW50IG1hdGggZXJyb3JzIGhlcmVcbiAgICAgICAgICAgIGNhc2UgJ21pbGxpc2Vjb25kJzogcmV0dXJuIE1hdGguZmxvb3IoZGF5cyAqIDg2NGU1KSArIG1pbGxpc2Vjb25kcztcbiAgICAgICAgICAgIGRlZmF1bHQ6IHRocm93IG5ldyBFcnJvcignVW5rbm93biB1bml0ICcgKyB1bml0cyk7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbi8vIFRPRE86IFVzZSB0aGlzLmFzKCdtcycpP1xuZnVuY3Rpb24gdmFsdWVPZiQxICgpIHtcbiAgICByZXR1cm4gKFxuICAgICAgICB0aGlzLl9taWxsaXNlY29uZHMgK1xuICAgICAgICB0aGlzLl9kYXlzICogODY0ZTUgK1xuICAgICAgICAodGhpcy5fbW9udGhzICUgMTIpICogMjU5MmU2ICtcbiAgICAgICAgdG9JbnQodGhpcy5fbW9udGhzIC8gMTIpICogMzE1MzZlNlxuICAgICk7XG59XG5cbmZ1bmN0aW9uIG1ha2VBcyAoYWxpYXMpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5hcyhhbGlhcyk7XG4gICAgfTtcbn1cblxudmFyIGFzTWlsbGlzZWNvbmRzID0gbWFrZUFzKCdtcycpO1xudmFyIGFzU2Vjb25kcyAgICAgID0gbWFrZUFzKCdzJyk7XG52YXIgYXNNaW51dGVzICAgICAgPSBtYWtlQXMoJ20nKTtcbnZhciBhc0hvdXJzICAgICAgICA9IG1ha2VBcygnaCcpO1xudmFyIGFzRGF5cyAgICAgICAgID0gbWFrZUFzKCdkJyk7XG52YXIgYXNXZWVrcyAgICAgICAgPSBtYWtlQXMoJ3cnKTtcbnZhciBhc01vbnRocyAgICAgICA9IG1ha2VBcygnTScpO1xudmFyIGFzWWVhcnMgICAgICAgID0gbWFrZUFzKCd5Jyk7XG5cbmZ1bmN0aW9uIGdldCQyICh1bml0cykge1xuICAgIHVuaXRzID0gbm9ybWFsaXplVW5pdHModW5pdHMpO1xuICAgIHJldHVybiB0aGlzW3VuaXRzICsgJ3MnXSgpO1xufVxuXG5mdW5jdGlvbiBtYWtlR2V0dGVyKG5hbWUpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fZGF0YVtuYW1lXTtcbiAgICB9O1xufVxuXG52YXIgbWlsbGlzZWNvbmRzID0gbWFrZUdldHRlcignbWlsbGlzZWNvbmRzJyk7XG52YXIgc2Vjb25kcyAgICAgID0gbWFrZUdldHRlcignc2Vjb25kcycpO1xudmFyIG1pbnV0ZXMgICAgICA9IG1ha2VHZXR0ZXIoJ21pbnV0ZXMnKTtcbnZhciBob3VycyAgICAgICAgPSBtYWtlR2V0dGVyKCdob3VycycpO1xudmFyIGRheXMgICAgICAgICA9IG1ha2VHZXR0ZXIoJ2RheXMnKTtcbnZhciBtb250aHMgICAgICAgPSBtYWtlR2V0dGVyKCdtb250aHMnKTtcbnZhciB5ZWFycyAgICAgICAgPSBtYWtlR2V0dGVyKCd5ZWFycycpO1xuXG5mdW5jdGlvbiB3ZWVrcyAoKSB7XG4gICAgcmV0dXJuIGFic0Zsb29yKHRoaXMuZGF5cygpIC8gNyk7XG59XG5cbnZhciByb3VuZCA9IE1hdGgucm91bmQ7XG52YXIgdGhyZXNob2xkcyA9IHtcbiAgICBzOiA0NSwgIC8vIHNlY29uZHMgdG8gbWludXRlXG4gICAgbTogNDUsICAvLyBtaW51dGVzIHRvIGhvdXJcbiAgICBoOiAyMiwgIC8vIGhvdXJzIHRvIGRheVxuICAgIGQ6IDI2LCAgLy8gZGF5cyB0byBtb250aFxuICAgIE06IDExICAgLy8gbW9udGhzIHRvIHllYXJcbn07XG5cbi8vIGhlbHBlciBmdW5jdGlvbiBmb3IgbW9tZW50LmZuLmZyb20sIG1vbWVudC5mbi5mcm9tTm93LCBhbmQgbW9tZW50LmR1cmF0aW9uLmZuLmh1bWFuaXplXG5mdW5jdGlvbiBzdWJzdGl0dXRlVGltZUFnbyhzdHJpbmcsIG51bWJlciwgd2l0aG91dFN1ZmZpeCwgaXNGdXR1cmUsIGxvY2FsZSkge1xuICAgIHJldHVybiBsb2NhbGUucmVsYXRpdmVUaW1lKG51bWJlciB8fCAxLCAhIXdpdGhvdXRTdWZmaXgsIHN0cmluZywgaXNGdXR1cmUpO1xufVxuXG5mdW5jdGlvbiByZWxhdGl2ZVRpbWUkMSAocG9zTmVnRHVyYXRpb24sIHdpdGhvdXRTdWZmaXgsIGxvY2FsZSkge1xuICAgIHZhciBkdXJhdGlvbiA9IGNyZWF0ZUR1cmF0aW9uKHBvc05lZ0R1cmF0aW9uKS5hYnMoKTtcbiAgICB2YXIgc2Vjb25kcyAgPSByb3VuZChkdXJhdGlvbi5hcygncycpKTtcbiAgICB2YXIgbWludXRlcyAgPSByb3VuZChkdXJhdGlvbi5hcygnbScpKTtcbiAgICB2YXIgaG91cnMgICAgPSByb3VuZChkdXJhdGlvbi5hcygnaCcpKTtcbiAgICB2YXIgZGF5cyAgICAgPSByb3VuZChkdXJhdGlvbi5hcygnZCcpKTtcbiAgICB2YXIgbW9udGhzICAgPSByb3VuZChkdXJhdGlvbi5hcygnTScpKTtcbiAgICB2YXIgeWVhcnMgICAgPSByb3VuZChkdXJhdGlvbi5hcygneScpKTtcblxuICAgIHZhciBhID0gc2Vjb25kcyA8IHRocmVzaG9sZHMucyAmJiBbJ3MnLCBzZWNvbmRzXSAgfHxcbiAgICAgICAgICAgIG1pbnV0ZXMgPD0gMSAgICAgICAgICAgJiYgWydtJ10gICAgICAgICAgIHx8XG4gICAgICAgICAgICBtaW51dGVzIDwgdGhyZXNob2xkcy5tICYmIFsnbW0nLCBtaW51dGVzXSB8fFxuICAgICAgICAgICAgaG91cnMgICA8PSAxICAgICAgICAgICAmJiBbJ2gnXSAgICAgICAgICAgfHxcbiAgICAgICAgICAgIGhvdXJzICAgPCB0aHJlc2hvbGRzLmggJiYgWydoaCcsIGhvdXJzXSAgIHx8XG4gICAgICAgICAgICBkYXlzICAgIDw9IDEgICAgICAgICAgICYmIFsnZCddICAgICAgICAgICB8fFxuICAgICAgICAgICAgZGF5cyAgICA8IHRocmVzaG9sZHMuZCAmJiBbJ2RkJywgZGF5c10gICAgfHxcbiAgICAgICAgICAgIG1vbnRocyAgPD0gMSAgICAgICAgICAgJiYgWydNJ10gICAgICAgICAgIHx8XG4gICAgICAgICAgICBtb250aHMgIDwgdGhyZXNob2xkcy5NICYmIFsnTU0nLCBtb250aHNdICB8fFxuICAgICAgICAgICAgeWVhcnMgICA8PSAxICAgICAgICAgICAmJiBbJ3knXSAgICAgICAgICAgfHwgWyd5eScsIHllYXJzXTtcblxuICAgIGFbMl0gPSB3aXRob3V0U3VmZml4O1xuICAgIGFbM10gPSArcG9zTmVnRHVyYXRpb24gPiAwO1xuICAgIGFbNF0gPSBsb2NhbGU7XG4gICAgcmV0dXJuIHN1YnN0aXR1dGVUaW1lQWdvLmFwcGx5KG51bGwsIGEpO1xufVxuXG4vLyBUaGlzIGZ1bmN0aW9uIGFsbG93cyB5b3UgdG8gc2V0IHRoZSByb3VuZGluZyBmdW5jdGlvbiBmb3IgcmVsYXRpdmUgdGltZSBzdHJpbmdzXG5mdW5jdGlvbiBnZXRTZXRSZWxhdGl2ZVRpbWVSb3VuZGluZyAocm91bmRpbmdGdW5jdGlvbikge1xuICAgIGlmIChyb3VuZGluZ0Z1bmN0aW9uID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgcmV0dXJuIHJvdW5kO1xuICAgIH1cbiAgICBpZiAodHlwZW9mKHJvdW5kaW5nRnVuY3Rpb24pID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHJvdW5kID0gcm91bmRpbmdGdW5jdGlvbjtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbn1cblxuLy8gVGhpcyBmdW5jdGlvbiBhbGxvd3MgeW91IHRvIHNldCBhIHRocmVzaG9sZCBmb3IgcmVsYXRpdmUgdGltZSBzdHJpbmdzXG5mdW5jdGlvbiBnZXRTZXRSZWxhdGl2ZVRpbWVUaHJlc2hvbGQgKHRocmVzaG9sZCwgbGltaXQpIHtcbiAgICBpZiAodGhyZXNob2xkc1t0aHJlc2hvbGRdID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBpZiAobGltaXQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICByZXR1cm4gdGhyZXNob2xkc1t0aHJlc2hvbGRdO1xuICAgIH1cbiAgICB0aHJlc2hvbGRzW3RocmVzaG9sZF0gPSBsaW1pdDtcbiAgICByZXR1cm4gdHJ1ZTtcbn1cblxuZnVuY3Rpb24gaHVtYW5pemUgKHdpdGhTdWZmaXgpIHtcbiAgICB2YXIgbG9jYWxlID0gdGhpcy5sb2NhbGVEYXRhKCk7XG4gICAgdmFyIG91dHB1dCA9IHJlbGF0aXZlVGltZSQxKHRoaXMsICF3aXRoU3VmZml4LCBsb2NhbGUpO1xuXG4gICAgaWYgKHdpdGhTdWZmaXgpIHtcbiAgICAgICAgb3V0cHV0ID0gbG9jYWxlLnBhc3RGdXR1cmUoK3RoaXMsIG91dHB1dCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGxvY2FsZS5wb3N0Zm9ybWF0KG91dHB1dCk7XG59XG5cbnZhciBhYnMkMSA9IE1hdGguYWJzO1xuXG5mdW5jdGlvbiB0b0lTT1N0cmluZyQxKCkge1xuICAgIC8vIGZvciBJU08gc3RyaW5ncyB3ZSBkbyBub3QgdXNlIHRoZSBub3JtYWwgYnViYmxpbmcgcnVsZXM6XG4gICAgLy8gICogbWlsbGlzZWNvbmRzIGJ1YmJsZSB1cCB1bnRpbCB0aGV5IGJlY29tZSBob3Vyc1xuICAgIC8vICAqIGRheXMgZG8gbm90IGJ1YmJsZSBhdCBhbGxcbiAgICAvLyAgKiBtb250aHMgYnViYmxlIHVwIHVudGlsIHRoZXkgYmVjb21lIHllYXJzXG4gICAgLy8gVGhpcyBpcyBiZWNhdXNlIHRoZXJlIGlzIG5vIGNvbnRleHQtZnJlZSBjb252ZXJzaW9uIGJldHdlZW4gaG91cnMgYW5kIGRheXNcbiAgICAvLyAodGhpbmsgb2YgY2xvY2sgY2hhbmdlcylcbiAgICAvLyBhbmQgYWxzbyBub3QgYmV0d2VlbiBkYXlzIGFuZCBtb250aHMgKDI4LTMxIGRheXMgcGVyIG1vbnRoKVxuICAgIHZhciBzZWNvbmRzID0gYWJzJDEodGhpcy5fbWlsbGlzZWNvbmRzKSAvIDEwMDA7XG4gICAgdmFyIGRheXMgICAgICAgICA9IGFicyQxKHRoaXMuX2RheXMpO1xuICAgIHZhciBtb250aHMgICAgICAgPSBhYnMkMSh0aGlzLl9tb250aHMpO1xuICAgIHZhciBtaW51dGVzLCBob3VycywgeWVhcnM7XG5cbiAgICAvLyAzNjAwIHNlY29uZHMgLT4gNjAgbWludXRlcyAtPiAxIGhvdXJcbiAgICBtaW51dGVzICAgICAgICAgICA9IGFic0Zsb29yKHNlY29uZHMgLyA2MCk7XG4gICAgaG91cnMgICAgICAgICAgICAgPSBhYnNGbG9vcihtaW51dGVzIC8gNjApO1xuICAgIHNlY29uZHMgJT0gNjA7XG4gICAgbWludXRlcyAlPSA2MDtcblxuICAgIC8vIDEyIG1vbnRocyAtPiAxIHllYXJcbiAgICB5ZWFycyAgPSBhYnNGbG9vcihtb250aHMgLyAxMik7XG4gICAgbW9udGhzICU9IDEyO1xuXG5cbiAgICAvLyBpbnNwaXJlZCBieSBodHRwczovL2dpdGh1Yi5jb20vZG9yZGlsbGUvbW9tZW50LWlzb2R1cmF0aW9uL2Jsb2IvbWFzdGVyL21vbWVudC5pc29kdXJhdGlvbi5qc1xuICAgIHZhciBZID0geWVhcnM7XG4gICAgdmFyIE0gPSBtb250aHM7XG4gICAgdmFyIEQgPSBkYXlzO1xuICAgIHZhciBoID0gaG91cnM7XG4gICAgdmFyIG0gPSBtaW51dGVzO1xuICAgIHZhciBzID0gc2Vjb25kcztcbiAgICB2YXIgdG90YWwgPSB0aGlzLmFzU2Vjb25kcygpO1xuXG4gICAgaWYgKCF0b3RhbCkge1xuICAgICAgICAvLyB0aGlzIGlzIHRoZSBzYW1lIGFzIEMjJ3MgKE5vZGEpIGFuZCBweXRob24gKGlzb2RhdGUpLi4uXG4gICAgICAgIC8vIGJ1dCBub3Qgb3RoZXIgSlMgKGdvb2cuZGF0ZSlcbiAgICAgICAgcmV0dXJuICdQMEQnO1xuICAgIH1cblxuICAgIHJldHVybiAodG90YWwgPCAwID8gJy0nIDogJycpICtcbiAgICAgICAgJ1AnICtcbiAgICAgICAgKFkgPyBZICsgJ1knIDogJycpICtcbiAgICAgICAgKE0gPyBNICsgJ00nIDogJycpICtcbiAgICAgICAgKEQgPyBEICsgJ0QnIDogJycpICtcbiAgICAgICAgKChoIHx8IG0gfHwgcykgPyAnVCcgOiAnJykgK1xuICAgICAgICAoaCA/IGggKyAnSCcgOiAnJykgK1xuICAgICAgICAobSA/IG0gKyAnTScgOiAnJykgK1xuICAgICAgICAocyA/IHMgKyAnUycgOiAnJyk7XG59XG5cbnZhciBwcm90byQyID0gRHVyYXRpb24ucHJvdG90eXBlO1xuXG5wcm90byQyLmFicyAgICAgICAgICAgID0gYWJzO1xucHJvdG8kMi5hZGQgICAgICAgICAgICA9IGFkZCQxO1xucHJvdG8kMi5zdWJ0cmFjdCAgICAgICA9IHN1YnRyYWN0JDE7XG5wcm90byQyLmFzICAgICAgICAgICAgID0gYXM7XG5wcm90byQyLmFzTWlsbGlzZWNvbmRzID0gYXNNaWxsaXNlY29uZHM7XG5wcm90byQyLmFzU2Vjb25kcyAgICAgID0gYXNTZWNvbmRzO1xucHJvdG8kMi5hc01pbnV0ZXMgICAgICA9IGFzTWludXRlcztcbnByb3RvJDIuYXNIb3VycyAgICAgICAgPSBhc0hvdXJzO1xucHJvdG8kMi5hc0RheXMgICAgICAgICA9IGFzRGF5cztcbnByb3RvJDIuYXNXZWVrcyAgICAgICAgPSBhc1dlZWtzO1xucHJvdG8kMi5hc01vbnRocyAgICAgICA9IGFzTW9udGhzO1xucHJvdG8kMi5hc1llYXJzICAgICAgICA9IGFzWWVhcnM7XG5wcm90byQyLnZhbHVlT2YgICAgICAgID0gdmFsdWVPZiQxO1xucHJvdG8kMi5fYnViYmxlICAgICAgICA9IGJ1YmJsZTtcbnByb3RvJDIuZ2V0ICAgICAgICAgICAgPSBnZXQkMjtcbnByb3RvJDIubWlsbGlzZWNvbmRzICAgPSBtaWxsaXNlY29uZHM7XG5wcm90byQyLnNlY29uZHMgICAgICAgID0gc2Vjb25kcztcbnByb3RvJDIubWludXRlcyAgICAgICAgPSBtaW51dGVzO1xucHJvdG8kMi5ob3VycyAgICAgICAgICA9IGhvdXJzO1xucHJvdG8kMi5kYXlzICAgICAgICAgICA9IGRheXM7XG5wcm90byQyLndlZWtzICAgICAgICAgID0gd2Vla3M7XG5wcm90byQyLm1vbnRocyAgICAgICAgID0gbW9udGhzO1xucHJvdG8kMi55ZWFycyAgICAgICAgICA9IHllYXJzO1xucHJvdG8kMi5odW1hbml6ZSAgICAgICA9IGh1bWFuaXplO1xucHJvdG8kMi50b0lTT1N0cmluZyAgICA9IHRvSVNPU3RyaW5nJDE7XG5wcm90byQyLnRvU3RyaW5nICAgICAgID0gdG9JU09TdHJpbmckMTtcbnByb3RvJDIudG9KU09OICAgICAgICAgPSB0b0lTT1N0cmluZyQxO1xucHJvdG8kMi5sb2NhbGUgICAgICAgICA9IGxvY2FsZTtcbnByb3RvJDIubG9jYWxlRGF0YSAgICAgPSBsb2NhbGVEYXRhO1xuXG4vLyBEZXByZWNhdGlvbnNcbnByb3RvJDIudG9Jc29TdHJpbmcgPSBkZXByZWNhdGUoJ3RvSXNvU3RyaW5nKCkgaXMgZGVwcmVjYXRlZC4gUGxlYXNlIHVzZSB0b0lTT1N0cmluZygpIGluc3RlYWQgKG5vdGljZSB0aGUgY2FwaXRhbHMpJywgdG9JU09TdHJpbmckMSk7XG5wcm90byQyLmxhbmcgPSBsYW5nO1xuXG4vLyBTaWRlIGVmZmVjdCBpbXBvcnRzXG5cbi8vIEZPUk1BVFRJTkdcblxuYWRkRm9ybWF0VG9rZW4oJ1gnLCAwLCAwLCAndW5peCcpO1xuYWRkRm9ybWF0VG9rZW4oJ3gnLCAwLCAwLCAndmFsdWVPZicpO1xuXG4vLyBQQVJTSU5HXG5cbmFkZFJlZ2V4VG9rZW4oJ3gnLCBtYXRjaFNpZ25lZCk7XG5hZGRSZWdleFRva2VuKCdYJywgbWF0Y2hUaW1lc3RhbXApO1xuYWRkUGFyc2VUb2tlbignWCcsIGZ1bmN0aW9uIChpbnB1dCwgYXJyYXksIGNvbmZpZykge1xuICAgIGNvbmZpZy5fZCA9IG5ldyBEYXRlKHBhcnNlRmxvYXQoaW5wdXQsIDEwKSAqIDEwMDApO1xufSk7XG5hZGRQYXJzZVRva2VuKCd4JywgZnVuY3Rpb24gKGlucHV0LCBhcnJheSwgY29uZmlnKSB7XG4gICAgY29uZmlnLl9kID0gbmV3IERhdGUodG9JbnQoaW5wdXQpKTtcbn0pO1xuXG4vLyBTaWRlIGVmZmVjdCBpbXBvcnRzXG5cblxuaG9va3MudmVyc2lvbiA9ICcyLjE3LjEnO1xuXG5zZXRIb29rQ2FsbGJhY2soY3JlYXRlTG9jYWwpO1xuXG5ob29rcy5mbiAgICAgICAgICAgICAgICAgICAgPSBwcm90bztcbmhvb2tzLm1pbiAgICAgICAgICAgICAgICAgICA9IG1pbjtcbmhvb2tzLm1heCAgICAgICAgICAgICAgICAgICA9IG1heDtcbmhvb2tzLm5vdyAgICAgICAgICAgICAgICAgICA9IG5vdztcbmhvb2tzLnV0YyAgICAgICAgICAgICAgICAgICA9IGNyZWF0ZVVUQztcbmhvb2tzLnVuaXggICAgICAgICAgICAgICAgICA9IGNyZWF0ZVVuaXg7XG5ob29rcy5tb250aHMgICAgICAgICAgICAgICAgPSBsaXN0TW9udGhzO1xuaG9va3MuaXNEYXRlICAgICAgICAgICAgICAgID0gaXNEYXRlO1xuaG9va3MubG9jYWxlICAgICAgICAgICAgICAgID0gZ2V0U2V0R2xvYmFsTG9jYWxlO1xuaG9va3MuaW52YWxpZCAgICAgICAgICAgICAgID0gY3JlYXRlSW52YWxpZDtcbmhvb2tzLmR1cmF0aW9uICAgICAgICAgICAgICA9IGNyZWF0ZUR1cmF0aW9uO1xuaG9va3MuaXNNb21lbnQgICAgICAgICAgICAgID0gaXNNb21lbnQ7XG5ob29rcy53ZWVrZGF5cyAgICAgICAgICAgICAgPSBsaXN0V2Vla2RheXM7XG5ob29rcy5wYXJzZVpvbmUgICAgICAgICAgICAgPSBjcmVhdGVJblpvbmU7XG5ob29rcy5sb2NhbGVEYXRhICAgICAgICAgICAgPSBnZXRMb2NhbGU7XG5ob29rcy5pc0R1cmF0aW9uICAgICAgICAgICAgPSBpc0R1cmF0aW9uO1xuaG9va3MubW9udGhzU2hvcnQgICAgICAgICAgID0gbGlzdE1vbnRoc1Nob3J0O1xuaG9va3Mud2Vla2RheXNNaW4gICAgICAgICAgID0gbGlzdFdlZWtkYXlzTWluO1xuaG9va3MuZGVmaW5lTG9jYWxlICAgICAgICAgID0gZGVmaW5lTG9jYWxlO1xuaG9va3MudXBkYXRlTG9jYWxlICAgICAgICAgID0gdXBkYXRlTG9jYWxlO1xuaG9va3MubG9jYWxlcyAgICAgICAgICAgICAgID0gbGlzdExvY2FsZXM7XG5ob29rcy53ZWVrZGF5c1Nob3J0ICAgICAgICAgPSBsaXN0V2Vla2RheXNTaG9ydDtcbmhvb2tzLm5vcm1hbGl6ZVVuaXRzICAgICAgICA9IG5vcm1hbGl6ZVVuaXRzO1xuaG9va3MucmVsYXRpdmVUaW1lUm91bmRpbmcgPSBnZXRTZXRSZWxhdGl2ZVRpbWVSb3VuZGluZztcbmhvb2tzLnJlbGF0aXZlVGltZVRocmVzaG9sZCA9IGdldFNldFJlbGF0aXZlVGltZVRocmVzaG9sZDtcbmhvb2tzLmNhbGVuZGFyRm9ybWF0ICAgICAgICA9IGdldENhbGVuZGFyRm9ybWF0O1xuaG9va3MucHJvdG90eXBlICAgICAgICAgICAgID0gcHJvdG87XG5cbnJldHVybiBob29rcztcblxufSkpKTtcbiIsIi8qIVxuICogQ3JvcHBlciB2MC4xMC4wXG4gKiBodHRwczovL2dpdGh1Yi5jb20vZmVuZ3l1YW5jaGVuL2Nyb3BwZXJcbiAqXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTQtMjAxNSBGZW5neXVhbiBDaGVuIGFuZCBvdGhlciBjb250cmlidXRvcnNcbiAqIFJlbGVhc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZVxuICpcbiAqIERhdGU6IDIwMTUtMDYtMDhUMTQ6NTc6MjYuMzUzWlxuICovXG5cbihmdW5jdGlvbiAoZmFjdG9yeSkge1xuICBpZiAodHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kKSB7XG4gICAgLy8gQU1ELiBSZWdpc3RlciBhcyBhbm9ueW1vdXMgbW9kdWxlLlxuICAgIGRlZmluZShbJ2pxdWVyeSddLCBmYWN0b3J5KTtcbiAgfSBlbHNlIGlmICh0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcpIHtcbiAgICAvLyBOb2RlIC8gQ29tbW9uSlNcbiAgICBmYWN0b3J5KHJlcXVpcmUoJ2pxdWVyeScpKTtcbiAgfSBlbHNlIHtcbiAgICAvLyBCcm93c2VyIGdsb2JhbHMuXG4gICAgZmFjdG9yeShqUXVlcnkpO1xuICB9XG59KShmdW5jdGlvbiAoJCkge1xuXG4gICd1c2Ugc3RyaWN0JztcblxuICB2YXIgJHdpbmRvdyA9ICQod2luZG93KSxcbiAgICAgICRkb2N1bWVudCA9ICQoZG9jdW1lbnQpLFxuICAgICAgbG9jYXRpb24gPSB3aW5kb3cubG9jYXRpb24sXG5cbiAgICAgIC8vIENvbnN0YW50c1xuICAgICAgQ1JPUFBFUl9OQU1FU1BBQ0UgPSAnLmNyb3BwZXInLFxuICAgICAgQ1JPUFBFUl9QUkVWSUVXID0gJ3ByZXZpZXcnICsgQ1JPUFBFUl9OQU1FU1BBQ0UsXG5cbiAgICAgIC8vIFJlZ0V4cHNcbiAgICAgIFJFR0VYUF9EUkFHX1RZUEVTID0gL14oZXxufHd8c3xuZXxud3xzd3xzZXxhbGx8Y3JvcHxtb3ZlfHpvb20pJC8sXG5cbiAgICAgIC8vIENsYXNzZXNcbiAgICAgIENMQVNTX01PREFMID0gJ2Nyb3BwZXItbW9kYWwnLFxuICAgICAgQ0xBU1NfSElERSA9ICdjcm9wcGVyLWhpZGUnLFxuICAgICAgQ0xBU1NfSElEREVOID0gJ2Nyb3BwZXItaGlkZGVuJyxcbiAgICAgIENMQVNTX0lOVklTSUJMRSA9ICdjcm9wcGVyLWludmlzaWJsZScsXG4gICAgICBDTEFTU19NT1ZFID0gJ2Nyb3BwZXItbW92ZScsXG4gICAgICBDTEFTU19DUk9QID0gJ2Nyb3BwZXItY3JvcCcsXG4gICAgICBDTEFTU19ESVNBQkxFRCA9ICdjcm9wcGVyLWRpc2FibGVkJyxcbiAgICAgIENMQVNTX0JHID0gJ2Nyb3BwZXItYmcnLFxuXG4gICAgICAvLyBFdmVudHNcbiAgICAgIEVWRU5UX01PVVNFX0RPV04gPSAnbW91c2Vkb3duIHRvdWNoc3RhcnQnLFxuICAgICAgRVZFTlRfTU9VU0VfTU9WRSA9ICdtb3VzZW1vdmUgdG91Y2htb3ZlJyxcbiAgICAgIEVWRU5UX01PVVNFX1VQID0gJ21vdXNldXAgbW91c2VsZWF2ZSB0b3VjaGVuZCB0b3VjaGxlYXZlIHRvdWNoY2FuY2VsJyxcbiAgICAgIEVWRU5UX1dIRUVMID0gJ3doZWVsIG1vdXNld2hlZWwgRE9NTW91c2VTY3JvbGwnLFxuICAgICAgRVZFTlRfREJMQ0xJQ0sgPSAnZGJsY2xpY2snLFxuICAgICAgRVZFTlRfUkVTSVpFID0gJ3Jlc2l6ZScgKyBDUk9QUEVSX05BTUVTUEFDRSwgLy8gQmluZCB0byB3aW5kb3cgd2l0aCBuYW1lc3BhY2VcbiAgICAgIEVWRU5UX0JVSUxEID0gJ2J1aWxkJyArIENST1BQRVJfTkFNRVNQQUNFLFxuICAgICAgRVZFTlRfQlVJTFQgPSAnYnVpbHQnICsgQ1JPUFBFUl9OQU1FU1BBQ0UsXG4gICAgICBFVkVOVF9EUkFHX1NUQVJUID0gJ2RyYWdzdGFydCcgKyBDUk9QUEVSX05BTUVTUEFDRSxcbiAgICAgIEVWRU5UX0RSQUdfTU9WRSA9ICdkcmFnbW92ZScgKyBDUk9QUEVSX05BTUVTUEFDRSxcbiAgICAgIEVWRU5UX0RSQUdfRU5EID0gJ2RyYWdlbmQnICsgQ1JPUFBFUl9OQU1FU1BBQ0UsXG4gICAgICBFVkVOVF9aT09NX0lOID0gJ3pvb21pbicgKyBDUk9QUEVSX05BTUVTUEFDRSxcbiAgICAgIEVWRU5UX1pPT01fT1VUID0gJ3pvb21vdXQnICsgQ1JPUFBFUl9OQU1FU1BBQ0UsXG4gICAgICBFVkVOVF9DSEFOR0UgPSAnY2hhbmdlJyArIENST1BQRVJfTkFNRVNQQUNFLFxuXG4gICAgICAvLyBTdXBwb3J0c1xuICAgICAgU1VQUE9SVF9DQU5WQVMgPSAkLmlzRnVuY3Rpb24oJCgnPGNhbnZhcz4nKVswXS5nZXRDb250ZXh0KSxcblxuICAgICAgLy8gT3RoZXJzXG4gICAgICBzcXJ0ID0gTWF0aC5zcXJ0LFxuICAgICAgbWluID0gTWF0aC5taW4sXG4gICAgICBtYXggPSBNYXRoLm1heCxcbiAgICAgIGFicyA9IE1hdGguYWJzLFxuICAgICAgc2luID0gTWF0aC5zaW4sXG4gICAgICBjb3MgPSBNYXRoLmNvcyxcbiAgICAgIG51bSA9IHBhcnNlRmxvYXQsXG5cbiAgICAgIC8vIFByb3RvdHlwZVxuICAgICAgcHJvdG90eXBlID0ge307XG5cbiAgZnVuY3Rpb24gaXNOdW1iZXIobikge1xuICAgIHJldHVybiB0eXBlb2YgbiA9PT0gJ251bWJlcicgJiYgIWlzTmFOKG4pO1xuICB9XG5cbiAgZnVuY3Rpb24gaXNVbmRlZmluZWQobikge1xuICAgIHJldHVybiB0eXBlb2YgbiA9PT0gJ3VuZGVmaW5lZCc7XG4gIH1cblxuICBmdW5jdGlvbiB0b0FycmF5KG9iaiwgb2Zmc2V0KSB7XG4gICAgdmFyIGFyZ3MgPSBbXTtcblxuICAgIGlmIChpc051bWJlcihvZmZzZXQpKSB7IC8vIEl0J3MgbmVjZXNzYXJ5IGZvciBJRThcbiAgICAgIGFyZ3MucHVzaChvZmZzZXQpO1xuICAgIH1cblxuICAgIHJldHVybiBhcmdzLnNsaWNlLmFwcGx5KG9iaiwgYXJncyk7XG4gIH1cblxuICAvLyBDdXN0b20gcHJveHkgdG8gYXZvaWQgalF1ZXJ5J3MgZ3VpZFxuICBmdW5jdGlvbiBwcm94eShmbiwgY29udGV4dCkge1xuICAgIHZhciBhcmdzID0gdG9BcnJheShhcmd1bWVudHMsIDIpO1xuXG4gICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiBmbi5hcHBseShjb250ZXh0LCBhcmdzLmNvbmNhdCh0b0FycmF5KGFyZ3VtZW50cykpKTtcbiAgICB9O1xuICB9XG5cbiAgZnVuY3Rpb24gaXNDcm9zc09yaWdpblVSTCh1cmwpIHtcbiAgICB2YXIgcGFydHMgPSB1cmwubWF0Y2goL14oaHR0cHM/OilcXC9cXC8oW15cXDpcXC9cXD8jXSspOj8oXFxkKikvaSk7XG5cbiAgICByZXR1cm4gcGFydHMgJiYgKHBhcnRzWzFdICE9PSBsb2NhdGlvbi5wcm90b2NvbCB8fCBwYXJ0c1syXSAhPT0gbG9jYXRpb24uaG9zdG5hbWUgfHwgcGFydHNbM10gIT09IGxvY2F0aW9uLnBvcnQpO1xuICB9XG5cbiAgZnVuY3Rpb24gYWRkVGltZXN0YW1wKHVybCkge1xuICAgIHZhciB0aW1lc3RhbXAgPSAndGltZXN0YW1wPScgKyAobmV3IERhdGUoKSkuZ2V0VGltZSgpO1xuXG4gICAgcmV0dXJuICh1cmwgKyAodXJsLmluZGV4T2YoJz8nKSA9PT0gLTEgPyAnPycgOiAnJicpICsgdGltZXN0YW1wKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGdldFJvdGF0ZVZhbHVlKGRlZ3JlZSkge1xuICAgIHJldHVybiBkZWdyZWUgPyAncm90YXRlKCcgKyBkZWdyZWUgKyAnZGVnKScgOiAnbm9uZSc7XG4gIH1cblxuICBmdW5jdGlvbiBnZXRSb3RhdGVkU2l6ZXMoZGF0YSwgcmV2ZXJzZSkge1xuICAgIHZhciBkZWcgPSBhYnMoZGF0YS5kZWdyZWUpICUgMTgwLFxuICAgICAgICBhcmMgPSAoZGVnID4gOTAgPyAoMTgwIC0gZGVnKSA6IGRlZykgKiBNYXRoLlBJIC8gMTgwLFxuICAgICAgICBzaW5BcmMgPSBzaW4oYXJjKSxcbiAgICAgICAgY29zQXJjID0gY29zKGFyYyksXG4gICAgICAgIHdpZHRoID0gZGF0YS53aWR0aCxcbiAgICAgICAgaGVpZ2h0ID0gZGF0YS5oZWlnaHQsXG4gICAgICAgIGFzcGVjdFJhdGlvID0gZGF0YS5hc3BlY3RSYXRpbyxcbiAgICAgICAgbmV3V2lkdGgsXG4gICAgICAgIG5ld0hlaWdodDtcblxuICAgIGlmICghcmV2ZXJzZSkge1xuICAgICAgbmV3V2lkdGggPSB3aWR0aCAqIGNvc0FyYyArIGhlaWdodCAqIHNpbkFyYztcbiAgICAgIG5ld0hlaWdodCA9IHdpZHRoICogc2luQXJjICsgaGVpZ2h0ICogY29zQXJjO1xuICAgIH0gZWxzZSB7XG4gICAgICBuZXdXaWR0aCA9IHdpZHRoIC8gKGNvc0FyYyArIHNpbkFyYyAvIGFzcGVjdFJhdGlvKTtcbiAgICAgIG5ld0hlaWdodCA9IG5ld1dpZHRoIC8gYXNwZWN0UmF0aW87XG4gICAgfVxuXG4gICAgcmV0dXJuIHtcbiAgICAgIHdpZHRoOiBuZXdXaWR0aCxcbiAgICAgIGhlaWdodDogbmV3SGVpZ2h0XG4gICAgfTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGdldFNvdXJjZUNhbnZhcyhpbWFnZSwgZGF0YSkge1xuICAgIHZhciBjYW52YXMgPSAkKCc8Y2FudmFzPicpWzBdLFxuICAgICAgICBjb250ZXh0ID0gY2FudmFzLmdldENvbnRleHQoJzJkJyksXG4gICAgICAgIHdpZHRoID0gZGF0YS5uYXR1cmFsV2lkdGgsXG4gICAgICAgIGhlaWdodCA9IGRhdGEubmF0dXJhbEhlaWdodCxcbiAgICAgICAgcm90YXRlID0gZGF0YS5yb3RhdGUsXG4gICAgICAgIHJvdGF0ZWQgPSBnZXRSb3RhdGVkU2l6ZXMoe1xuICAgICAgICAgIHdpZHRoOiB3aWR0aCxcbiAgICAgICAgICBoZWlnaHQ6IGhlaWdodCxcbiAgICAgICAgICBkZWdyZWU6IHJvdGF0ZVxuICAgICAgICB9KTtcblxuICAgIGlmIChyb3RhdGUpIHtcbiAgICAgIGNhbnZhcy53aWR0aCA9IHJvdGF0ZWQud2lkdGg7XG4gICAgICBjYW52YXMuaGVpZ2h0ID0gcm90YXRlZC5oZWlnaHQ7XG4gICAgICBjb250ZXh0LnNhdmUoKTtcbiAgICAgIGNvbnRleHQudHJhbnNsYXRlKHJvdGF0ZWQud2lkdGggLyAyLCByb3RhdGVkLmhlaWdodCAvIDIpO1xuICAgICAgY29udGV4dC5yb3RhdGUocm90YXRlICogTWF0aC5QSSAvIDE4MCk7XG4gICAgICBjb250ZXh0LmRyYXdJbWFnZShpbWFnZSwgLXdpZHRoIC8gMiwgLWhlaWdodCAvIDIsIHdpZHRoLCBoZWlnaHQpO1xuICAgICAgY29udGV4dC5yZXN0b3JlKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNhbnZhcy53aWR0aCA9IHdpZHRoO1xuICAgICAgY2FudmFzLmhlaWdodCA9IGhlaWdodDtcbiAgICAgIGNvbnRleHQuZHJhd0ltYWdlKGltYWdlLCAwLCAwLCB3aWR0aCwgaGVpZ2h0KTtcbiAgICB9XG5cbiAgICByZXR1cm4gY2FudmFzO1xuICB9XG5cbiAgZnVuY3Rpb24gQ3JvcHBlcihlbGVtZW50LCBvcHRpb25zKSB7XG4gICAgdGhpcy4kZWxlbWVudCA9ICQoZWxlbWVudCk7XG4gICAgdGhpcy5vcHRpb25zID0gJC5leHRlbmQoe30sIENyb3BwZXIuREVGQVVMVFMsICQuaXNQbGFpbk9iamVjdChvcHRpb25zKSAmJiBvcHRpb25zKTtcblxuICAgIHRoaXMucmVhZHkgPSBmYWxzZTtcbiAgICB0aGlzLmJ1aWx0ID0gZmFsc2U7XG4gICAgdGhpcy5yb3RhdGVkID0gZmFsc2U7XG4gICAgdGhpcy5jcm9wcGVkID0gZmFsc2U7XG4gICAgdGhpcy5kaXNhYmxlZCA9IGZhbHNlO1xuICAgIHRoaXMuY2FudmFzID0gbnVsbDtcbiAgICB0aGlzLmNyb3BCb3ggPSBudWxsO1xuXG4gICAgdGhpcy5sb2FkKCk7XG4gIH1cblxuICBwcm90b3R5cGUubG9hZCA9IGZ1bmN0aW9uICh1cmwpIHtcbiAgICB2YXIgb3B0aW9ucyA9IHRoaXMub3B0aW9ucyxcbiAgICAgICAgJHRoaXMgPSB0aGlzLiRlbGVtZW50LFxuICAgICAgICBjcm9zc09yaWdpbixcbiAgICAgICAgYnVzdENhY2hlVXJsLFxuICAgICAgICBidWlsZEV2ZW50LFxuICAgICAgICAkY2xvbmU7XG5cbiAgICBpZiAoIXVybCkge1xuICAgICAgaWYgKCR0aGlzLmlzKCdpbWcnKSkge1xuICAgICAgICBpZiAoISR0aGlzLmF0dHIoJ3NyYycpKSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdXJsID0gJHRoaXMucHJvcCgnc3JjJyk7XG4gICAgICB9IGVsc2UgaWYgKCR0aGlzLmlzKCdjYW52YXMnKSAmJiBTVVBQT1JUX0NBTlZBUykge1xuICAgICAgICB1cmwgPSAkdGhpc1swXS50b0RhdGFVUkwoKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoIXVybCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGJ1aWxkRXZlbnQgPSAkLkV2ZW50KEVWRU5UX0JVSUxEKTtcblxuICAgIGlmKCR0aGlzLm9uZShFVkVOVF9CVUlMRCwgb3B0aW9ucy5idWlsZCkudHJpZ2dlcil7XG4gICAgICAkdGhpcy5vbmUoRVZFTlRfQlVJTEQsIG9wdGlvbnMuYnVpbGQpLnRyaWdnZXIoYnVpbGRFdmVudCk7IC8vIE9ubHkgdHJpZ2dlciBvbmNlXG4gICAgfVxuXG4gICAgaWYgKGJ1aWxkRXZlbnQuaXNEZWZhdWx0UHJldmVudGVkKCkpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAob3B0aW9ucy5jaGVja0ltYWdlT3JpZ2luICYmIGlzQ3Jvc3NPcmlnaW5VUkwodXJsKSkge1xuICAgICAgY3Jvc3NPcmlnaW4gPSAnIGNyb3NzT3JpZ2luPVwiYW5vbnltb3VzXCInO1xuXG4gICAgICBpZiAoISR0aGlzLnByb3AoJ2Nyb3NzT3JpZ2luJykpIHsgLy8gT25seSB3aGVuIHRoZXJlIHdhcyBub3QgYSBcImNyb3NzT3JpZ2luXCIgcHJvcGVydHlcbiAgICAgICAgYnVzdENhY2hlVXJsID0gYWRkVGltZXN0YW1wKHVybCk7IC8vIEJ1c3QgY2FjaGUgKCMxNDgpXG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gSUU4IGNvbXBhdGliaWxpdHk6IERvbid0IHVzZSBcIiQoKS5hdHRyKClcIiB0byBzZXQgXCJzcmNcIlxuICAgIHRoaXMuJGNsb25lID0gJGNsb25lID0gJCgnPGltZycgKyAoY3Jvc3NPcmlnaW4gfHwgJycpICsgJyBzcmM9XCInICsgKGJ1c3RDYWNoZVVybCB8fCB1cmwpICsgJ1wiPicpO1xuXG4gICAgJGNsb25lLm9uZSgnbG9hZCcsICQucHJveHkoZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIGltYWdlID0gJGNsb25lWzBdLFxuICAgICAgICAgIG5hdHVyYWxXaWR0aCA9IGltYWdlLm5hdHVyYWxXaWR0aCB8fCBpbWFnZS53aWR0aCxcbiAgICAgICAgICBuYXR1cmFsSGVpZ2h0ID0gaW1hZ2UubmF0dXJhbEhlaWdodCB8fCBpbWFnZS5oZWlnaHQ7IC8vICRjbG9uZS53aWR0aCgpIGFuZCAkY2xvbmUuaGVpZ2h0KCkgd2lsbCByZXR1cm4gMCBpbiBJRTggKCMzMTkpXG5cbiAgICAgIHRoaXMuaW1hZ2UgPSB7XG4gICAgICAgIG5hdHVyYWxXaWR0aDogbmF0dXJhbFdpZHRoLFxuICAgICAgICBuYXR1cmFsSGVpZ2h0OiBuYXR1cmFsSGVpZ2h0LFxuICAgICAgICBhc3BlY3RSYXRpbzogbmF0dXJhbFdpZHRoIC8gbmF0dXJhbEhlaWdodCxcbiAgICAgICAgcm90YXRlOiAwXG4gICAgICB9O1xuXG4gICAgICB0aGlzLnVybCA9IHVybDtcbiAgICAgIHRoaXMucmVhZHkgPSB0cnVlO1xuICAgICAgdGhpcy5idWlsZCgpO1xuICAgIH0sIHRoaXMpKS5vbmUoJ2Vycm9yJywgZnVuY3Rpb24gKCkge1xuICAgICAgJGNsb25lLnJlbW92ZSgpO1xuICAgIH0pO1xuXG4gICAgLy8gSGlkZSBhbmQgaW5zZXJ0IGludG8gdGhlIGRvY3VtZW50XG4gICAgJGNsb25lLmFkZENsYXNzKENMQVNTX0hJREUpLmluc2VydEFmdGVyKCR0aGlzKTtcbiAgfTtcblxuICBwcm90b3R5cGUuYnVpbGQgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyICR0aGlzID0gdGhpcy4kZWxlbWVudCxcbiAgICAgICAgJGNsb25lID0gdGhpcy4kY2xvbmUsXG4gICAgICAgIG9wdGlvbnMgPSB0aGlzLm9wdGlvbnMsXG4gICAgICAgICRjcm9wcGVyLFxuICAgICAgICAkY3JvcEJveCxcbiAgICAgICAgJGZhY2U7XG5cbiAgICBpZiAoIXRoaXMucmVhZHkpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAodGhpcy5idWlsdCkge1xuICAgICAgdGhpcy51bmJ1aWxkKCk7XG4gICAgfVxuXG4gICAgLy8gQ3JlYXRlIGNyb3BwZXIgZWxlbWVudHNcbiAgICB0aGlzLiRjcm9wcGVyID0gJGNyb3BwZXIgPSAkKENyb3BwZXIuVEVNUExBVEUpO1xuXG4gICAgLy8gSGlkZSB0aGUgb3JpZ2luYWwgaW1hZ2VcbiAgICAkdGhpcy5hZGRDbGFzcyhDTEFTU19ISURERU4pO1xuXG4gICAgLy8gU2hvdyB0aGUgY2xvbmUgaWFtZ2VcbiAgICAkY2xvbmUucmVtb3ZlQ2xhc3MoQ0xBU1NfSElERSk7XG5cbiAgICB0aGlzLiRjb250YWluZXIgPSAkdGhpcy5wYXJlbnQoKS5hcHBlbmQoJGNyb3BwZXIpO1xuICAgIHRoaXMuJGNhbnZhcyA9ICRjcm9wcGVyLmZpbmQoJy5jcm9wcGVyLWNhbnZhcycpLmFwcGVuZCgkY2xvbmUpO1xuICAgIHRoaXMuJGRyYWdCb3ggPSAkY3JvcHBlci5maW5kKCcuY3JvcHBlci1kcmFnLWJveCcpO1xuICAgIHRoaXMuJGNyb3BCb3ggPSAkY3JvcEJveCA9ICRjcm9wcGVyLmZpbmQoJy5jcm9wcGVyLWNyb3AtYm94Jyk7XG4gICAgdGhpcy4kdmlld0JveCA9ICRjcm9wcGVyLmZpbmQoJy5jcm9wcGVyLXZpZXctYm94Jyk7XG4gICAgdGhpcy4kZmFjZSA9ICRmYWNlID0gJGNyb3BCb3guZmluZCgnLmNyb3BwZXItZmFjZScpO1xuXG4gICAgdGhpcy5hZGRMaXN0ZW5lcnMoKTtcbiAgICB0aGlzLmluaXRQcmV2aWV3KCk7XG5cbiAgICAvLyBGb3JtYXQgYXNwZWN0IHJhdGlvXG4gICAgb3B0aW9ucy5hc3BlY3RSYXRpbyA9IG51bShvcHRpb25zLmFzcGVjdFJhdGlvKSB8fCBOYU47IC8vIDAgLT4gTmFOXG5cbiAgICBpZiAob3B0aW9ucy5hdXRvQ3JvcCkge1xuICAgICAgdGhpcy5jcm9wcGVkID0gdHJ1ZTtcblxuICAgICAgaWYgKG9wdGlvbnMubW9kYWwpIHtcbiAgICAgICAgdGhpcy4kZHJhZ0JveC5hZGRDbGFzcyhDTEFTU19NT0RBTCk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgICRjcm9wQm94LmFkZENsYXNzKENMQVNTX0hJRERFTik7XG4gICAgfVxuXG4gICAgaWYgKG9wdGlvbnMuYmFja2dyb3VuZCkge1xuICAgICAgJGNyb3BwZXIuYWRkQ2xhc3MoQ0xBU1NfQkcpO1xuICAgIH1cblxuICAgIGlmICghb3B0aW9ucy5oaWdobGlnaHQpIHtcbiAgICAgICRmYWNlLmFkZENsYXNzKENMQVNTX0lOVklTSUJMRSk7XG4gICAgfVxuXG4gICAgaWYgKCFvcHRpb25zLmd1aWRlcykge1xuICAgICAgJGNyb3BCb3guZmluZCgnLmNyb3BwZXItZGFzaGVkJykuYWRkQ2xhc3MoQ0xBU1NfSElEREVOKTtcbiAgICB9XG5cbiAgICBpZiAob3B0aW9ucy5jcm9wQm94TW92YWJsZSkge1xuICAgICAgJGZhY2UuYWRkQ2xhc3MoQ0xBU1NfTU9WRSkuZGF0YSgnZHJhZycsICdhbGwnKTtcbiAgICB9XG5cbiAgICBpZiAoIW9wdGlvbnMuY3JvcEJveFJlc2l6YWJsZSkge1xuICAgICAgJGNyb3BCb3guZmluZCgnLmNyb3BwZXItbGluZSwgLmNyb3BwZXItcG9pbnQnKS5hZGRDbGFzcyhDTEFTU19ISURERU4pO1xuICAgIH1cblxuICAgIHRoaXMuc2V0RHJhZ01vZGUob3B0aW9ucy5kcmFnQ3JvcCA/ICdjcm9wJyA6IG9wdGlvbnMubW92YWJsZSA/ICdtb3ZlJyA6ICdub25lJyk7XG5cbiAgICB0aGlzLmJ1aWx0ID0gdHJ1ZTtcbiAgICB0aGlzLnJlbmRlcigpO1xuICAgIHRoaXMuc2V0RGF0YShvcHRpb25zLmRhdGEpO1xuICAgIGlmKCR0aGlzLm9uZShFVkVOVF9CVUlMVCwgb3B0aW9ucy5idWlsdCkudHJpZ2dlcil7XG4gICAgICAkdGhpcy5vbmUoRVZFTlRfQlVJTFQsIG9wdGlvbnMuYnVpbHQpLnRyaWdnZXIoRVZFTlRfQlVJTFQpOyAvLyBPbmx5IHRyaWdnZXIgb25jZVxuICAgIH1cbiAgfTtcblxuICBwcm90b3R5cGUudW5idWlsZCA9IGZ1bmN0aW9uICgpIHtcbiAgICBpZiAoIXRoaXMuYnVpbHQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB0aGlzLmJ1aWx0ID0gZmFsc2U7XG4gICAgdGhpcy5pbml0aWFsSW1hZ2UgPSBudWxsO1xuICAgIHRoaXMuaW5pdGlhbENhbnZhcyA9IG51bGw7IC8vIFRoaXMgaXMgbmVjZXNzYXJ5IHdoZW4gcmVwbGFjZVxuICAgIHRoaXMuaW5pdGlhbENyb3BCb3ggPSBudWxsO1xuICAgIHRoaXMuY29udGFpbmVyID0gbnVsbDtcbiAgICB0aGlzLmNhbnZhcyA9IG51bGw7XG4gICAgdGhpcy5jcm9wQm94ID0gbnVsbDsgLy8gVGhpcyBpcyBuZWNlc3Nhcnkgd2hlbiByZXBsYWNlXG4gICAgdGhpcy5yZW1vdmVMaXN0ZW5lcnMoKTtcblxuICAgIHRoaXMucmVzZXRQcmV2aWV3KCk7XG4gICAgdGhpcy4kcHJldmlldyA9IG51bGw7XG5cbiAgICB0aGlzLiR2aWV3Qm94ID0gbnVsbDtcbiAgICB0aGlzLiRjcm9wQm94ID0gbnVsbDtcbiAgICB0aGlzLiRkcmFnQm94ID0gbnVsbDtcbiAgICB0aGlzLiRjYW52YXMgPSBudWxsO1xuICAgIHRoaXMuJGNvbnRhaW5lciA9IG51bGw7XG5cbiAgICB0aGlzLiRjcm9wcGVyLnJlbW92ZSgpO1xuICAgIHRoaXMuJGNyb3BwZXIgPSBudWxsO1xuICB9O1xuXG4gICQuZXh0ZW5kKHByb3RvdHlwZSwge1xuICAgIHJlbmRlcjogZnVuY3Rpb24gKCkge1xuICAgICAgdGhpcy5pbml0Q29udGFpbmVyKCk7XG4gICAgICB0aGlzLmluaXRDYW52YXMoKTtcbiAgICAgIHRoaXMuaW5pdENyb3BCb3goKTtcblxuICAgICAgdGhpcy5yZW5kZXJDYW52YXMoKTtcblxuICAgICAgaWYgKHRoaXMuY3JvcHBlZCkge1xuICAgICAgICB0aGlzLnJlbmRlckNyb3BCb3goKTtcbiAgICAgIH1cbiAgICB9LFxuXG4gICAgaW5pdENvbnRhaW5lcjogZnVuY3Rpb24gKCkge1xuICAgICAgdmFyICR0aGlzID0gdGhpcy4kZWxlbWVudCxcbiAgICAgICAgICAkY29udGFpbmVyID0gdGhpcy4kY29udGFpbmVyLFxuICAgICAgICAgICRjcm9wcGVyID0gdGhpcy4kY3JvcHBlcixcbiAgICAgICAgICBvcHRpb25zID0gdGhpcy5vcHRpb25zO1xuXG4gICAgICAkY3JvcHBlci5hZGRDbGFzcyhDTEFTU19ISURERU4pO1xuICAgICAgJHRoaXMucmVtb3ZlQ2xhc3MoQ0xBU1NfSElEREVOKTtcblxuICAgICAgJGNyb3BwZXIuY3NzKCh0aGlzLmNvbnRhaW5lciA9IHtcbiAgICAgICAgd2lkdGg6IG1heCgkY29udGFpbmVyLndpZHRoKCksIG51bShvcHRpb25zLm1pbkNvbnRhaW5lcldpZHRoKSB8fCAyMDApLFxuICAgICAgICBoZWlnaHQ6IG1heCgkY29udGFpbmVyLmhlaWdodCgpLCBudW0ob3B0aW9ucy5taW5Db250YWluZXJIZWlnaHQpIHx8IDEwMClcbiAgICAgIH0pKTtcblxuICAgICAgJHRoaXMuYWRkQ2xhc3MoQ0xBU1NfSElEREVOKTtcbiAgICAgICRjcm9wcGVyLnJlbW92ZUNsYXNzKENMQVNTX0hJRERFTik7XG4gICAgfSxcblxuICAgIC8vIGltYWdlIGJveCAod3JhcHBlcilcbiAgICBpbml0Q2FudmFzOiBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgY29udGFpbmVyID0gdGhpcy5jb250YWluZXIsXG4gICAgICAgICAgY29udGFpbmVyV2lkdGggPSBjb250YWluZXIud2lkdGgsXG4gICAgICAgICAgY29udGFpbmVySGVpZ2h0ID0gY29udGFpbmVyLmhlaWdodCxcbiAgICAgICAgICBpbWFnZSA9IHRoaXMuaW1hZ2UsXG4gICAgICAgICAgYXNwZWN0UmF0aW8gPSBpbWFnZS5hc3BlY3RSYXRpbyxcbiAgICAgICAgICBjYW52YXMgPSB7XG4gICAgICAgICAgICBhc3BlY3RSYXRpbzogYXNwZWN0UmF0aW8sXG4gICAgICAgICAgICB3aWR0aDogY29udGFpbmVyV2lkdGgsXG4gICAgICAgICAgICBoZWlnaHQ6IGNvbnRhaW5lckhlaWdodFxuICAgICAgICAgIH07XG5cbiAgICAgIGlmIChjb250YWluZXJIZWlnaHQgKiBhc3BlY3RSYXRpbyA+IGNvbnRhaW5lcldpZHRoKSB7XG4gICAgICAgIGNhbnZhcy5oZWlnaHQgPSBjb250YWluZXJXaWR0aCAvIGFzcGVjdFJhdGlvO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY2FudmFzLndpZHRoID0gY29udGFpbmVySGVpZ2h0ICogYXNwZWN0UmF0aW87XG4gICAgICB9XG5cbiAgICAgIGNhbnZhcy5vbGRMZWZ0ID0gY2FudmFzLmxlZnQgPSAoY29udGFpbmVyV2lkdGggLSBjYW52YXMud2lkdGgpIC8gMjtcbiAgICAgIGNhbnZhcy5vbGRUb3AgPSBjYW52YXMudG9wID0gKGNvbnRhaW5lckhlaWdodCAtIGNhbnZhcy5oZWlnaHQpIC8gMjtcblxuICAgICAgdGhpcy5jYW52YXMgPSBjYW52YXM7XG4gICAgICB0aGlzLmxpbWl0Q2FudmFzKHRydWUsIHRydWUpO1xuICAgICAgdGhpcy5pbml0aWFsSW1hZ2UgPSAkLmV4dGVuZCh7fSwgaW1hZ2UpO1xuICAgICAgdGhpcy5pbml0aWFsQ2FudmFzID0gJC5leHRlbmQoe30sIGNhbnZhcyk7XG4gICAgfSxcblxuICAgIGxpbWl0Q2FudmFzOiBmdW5jdGlvbiAoc2l6ZSwgcG9zaXRpb24pIHtcbiAgICAgIHZhciBvcHRpb25zID0gdGhpcy5vcHRpb25zLFxuICAgICAgICAgIHN0cmljdCA9IG9wdGlvbnMuc3RyaWN0LFxuICAgICAgICAgIGNvbnRhaW5lciA9IHRoaXMuY29udGFpbmVyLFxuICAgICAgICAgIGNvbnRhaW5lcldpZHRoID0gY29udGFpbmVyLndpZHRoLFxuICAgICAgICAgIGNvbnRhaW5lckhlaWdodCA9IGNvbnRhaW5lci5oZWlnaHQsXG4gICAgICAgICAgY2FudmFzID0gdGhpcy5jYW52YXMsXG4gICAgICAgICAgYXNwZWN0UmF0aW8gPSBjYW52YXMuYXNwZWN0UmF0aW8sXG4gICAgICAgICAgY3JvcEJveCA9IHRoaXMuY3JvcEJveCxcbiAgICAgICAgICBjcm9wcGVkID0gdGhpcy5jcm9wcGVkICYmIGNyb3BCb3gsXG4gICAgICAgICAgaW5pdGlhbENhbnZhcyA9IHRoaXMuaW5pdGlhbENhbnZhcyB8fCBjYW52YXMsXG4gICAgICAgICAgaW5pdGlhbENhbnZhc1dpZHRoID0gaW5pdGlhbENhbnZhcy53aWR0aCxcbiAgICAgICAgICBpbml0aWFsQ2FudmFzSGVpZ2h0ID0gaW5pdGlhbENhbnZhcy5oZWlnaHQsXG4gICAgICAgICAgbWluQ2FudmFzV2lkdGgsXG4gICAgICAgICAgbWluQ2FudmFzSGVpZ2h0O1xuXG4gICAgICBpZiAoc2l6ZSkge1xuICAgICAgICBtaW5DYW52YXNXaWR0aCA9IG51bShvcHRpb25zLm1pbkNhbnZhc1dpZHRoKSB8fCAwO1xuICAgICAgICBtaW5DYW52YXNIZWlnaHQgPSBudW0ob3B0aW9ucy5taW5DYW52YXNIZWlnaHQpIHx8IDA7XG5cbiAgICAgICAgaWYgKG1pbkNhbnZhc1dpZHRoKSB7XG4gICAgICAgICAgaWYgKHN0cmljdCkge1xuICAgICAgICAgICAgbWluQ2FudmFzV2lkdGggPSBtYXgoY3JvcHBlZCA/IGNyb3BCb3gud2lkdGggOiBpbml0aWFsQ2FudmFzV2lkdGgsIG1pbkNhbnZhc1dpZHRoKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBtaW5DYW52YXNIZWlnaHQgPSBtaW5DYW52YXNXaWR0aCAvIGFzcGVjdFJhdGlvO1xuICAgICAgICB9IGVsc2UgaWYgKG1pbkNhbnZhc0hlaWdodCkge1xuICAgICAgICAgIGlmIChzdHJpY3QpIHtcbiAgICAgICAgICAgIG1pbkNhbnZhc0hlaWdodCA9IG1heChjcm9wcGVkID8gY3JvcEJveC5oZWlnaHQgOiBpbml0aWFsQ2FudmFzSGVpZ2h0LCBtaW5DYW52YXNIZWlnaHQpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIG1pbkNhbnZhc1dpZHRoID0gbWluQ2FudmFzSGVpZ2h0ICogYXNwZWN0UmF0aW87XG4gICAgICAgIH0gZWxzZSBpZiAoc3RyaWN0KSB7XG4gICAgICAgICAgaWYgKGNyb3BwZWQpIHtcbiAgICAgICAgICAgIG1pbkNhbnZhc1dpZHRoID0gY3JvcEJveC53aWR0aDtcbiAgICAgICAgICAgIG1pbkNhbnZhc0hlaWdodCA9IGNyb3BCb3guaGVpZ2h0O1xuXG4gICAgICAgICAgICBpZiAobWluQ2FudmFzSGVpZ2h0ICogYXNwZWN0UmF0aW8gPiBtaW5DYW52YXNXaWR0aCkge1xuICAgICAgICAgICAgICBtaW5DYW52YXNXaWR0aCA9IG1pbkNhbnZhc0hlaWdodCAqIGFzcGVjdFJhdGlvO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgbWluQ2FudmFzSGVpZ2h0ID0gbWluQ2FudmFzV2lkdGggLyBhc3BlY3RSYXRpbztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgbWluQ2FudmFzV2lkdGggPSBpbml0aWFsQ2FudmFzV2lkdGg7XG4gICAgICAgICAgICBtaW5DYW52YXNIZWlnaHQgPSBpbml0aWFsQ2FudmFzSGVpZ2h0O1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgICQuZXh0ZW5kKGNhbnZhcywge1xuICAgICAgICAgIG1pbldpZHRoOiBtaW5DYW52YXNXaWR0aCxcbiAgICAgICAgICBtaW5IZWlnaHQ6IG1pbkNhbnZhc0hlaWdodCxcbiAgICAgICAgICBtYXhXaWR0aDogSW5maW5pdHksXG4gICAgICAgICAgbWF4SGVpZ2h0OiBJbmZpbml0eVxuICAgICAgICB9KTtcbiAgICAgIH1cblxuICAgICAgaWYgKHBvc2l0aW9uKSB7XG4gICAgICAgIGlmIChzdHJpY3QpIHtcbiAgICAgICAgICBpZiAoY3JvcHBlZCkge1xuICAgICAgICAgICAgY2FudmFzLm1pbkxlZnQgPSBtaW4oY3JvcEJveC5sZWZ0LCAoY3JvcEJveC5sZWZ0ICsgY3JvcEJveC53aWR0aCkgLSBjYW52YXMud2lkdGgpO1xuICAgICAgICAgICAgY2FudmFzLm1pblRvcCA9IG1pbihjcm9wQm94LnRvcCwgKGNyb3BCb3gudG9wICsgY3JvcEJveC5oZWlnaHQpIC0gY2FudmFzLmhlaWdodCk7XG4gICAgICAgICAgICBjYW52YXMubWF4TGVmdCA9IGNyb3BCb3gubGVmdDtcbiAgICAgICAgICAgIGNhbnZhcy5tYXhUb3AgPSBjcm9wQm94LnRvcDtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY2FudmFzLm1pbkxlZnQgPSBtaW4oMCwgY29udGFpbmVyV2lkdGggLSBjYW52YXMud2lkdGgpO1xuICAgICAgICAgICAgY2FudmFzLm1pblRvcCA9IG1pbigwLCBjb250YWluZXJIZWlnaHQgLSBjYW52YXMuaGVpZ2h0KTtcbiAgICAgICAgICAgIGNhbnZhcy5tYXhMZWZ0ID0gbWF4KDAsIGNvbnRhaW5lcldpZHRoIC0gY2FudmFzLndpZHRoKTtcbiAgICAgICAgICAgIGNhbnZhcy5tYXhUb3AgPSBtYXgoMCwgY29udGFpbmVySGVpZ2h0IC0gY2FudmFzLmhlaWdodCk7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGNhbnZhcy5taW5MZWZ0ID0gLWNhbnZhcy53aWR0aDtcbiAgICAgICAgICBjYW52YXMubWluVG9wID0gLWNhbnZhcy5oZWlnaHQ7XG4gICAgICAgICAgY2FudmFzLm1heExlZnQgPSBjb250YWluZXJXaWR0aDtcbiAgICAgICAgICBjYW52YXMubWF4VG9wID0gY29udGFpbmVySGVpZ2h0O1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSxcblxuICAgIHJlbmRlckNhbnZhczogZnVuY3Rpb24gKGNoYW5nZWQpIHtcbiAgICAgIHZhciBvcHRpb25zID0gdGhpcy5vcHRpb25zLFxuICAgICAgICAgIGNhbnZhcyA9IHRoaXMuY2FudmFzLFxuICAgICAgICAgIGltYWdlID0gdGhpcy5pbWFnZSxcbiAgICAgICAgICBhc3BlY3RSYXRpbyxcbiAgICAgICAgICByb3RhdGVkO1xuXG4gICAgICBpZiAodGhpcy5yb3RhdGVkKSB7XG4gICAgICAgIHRoaXMucm90YXRlZCA9IGZhbHNlO1xuXG4gICAgICAgIC8vIENvbXB1dGVzIHJvdGF0YXRpb24gc2l6ZXMgd2l0aCBpbWFnZSBzaXplc1xuICAgICAgICByb3RhdGVkID0gZ2V0Um90YXRlZFNpemVzKHtcbiAgICAgICAgICB3aWR0aDogaW1hZ2Uud2lkdGgsXG4gICAgICAgICAgaGVpZ2h0OiBpbWFnZS5oZWlnaHQsXG4gICAgICAgICAgZGVncmVlOiBpbWFnZS5yb3RhdGVcbiAgICAgICAgfSk7XG5cbiAgICAgICAgYXNwZWN0UmF0aW8gPSByb3RhdGVkLndpZHRoIC8gcm90YXRlZC5oZWlnaHQ7XG5cbiAgICAgICAgaWYgKGFzcGVjdFJhdGlvICE9PSBjYW52YXMuYXNwZWN0UmF0aW8pIHtcbiAgICAgICAgICBjYW52YXMubGVmdCAtPSAocm90YXRlZC53aWR0aCAtIGNhbnZhcy53aWR0aCkgLyAyO1xuICAgICAgICAgIGNhbnZhcy50b3AgLT0gKHJvdGF0ZWQuaGVpZ2h0IC0gY2FudmFzLmhlaWdodCkgLyAyO1xuICAgICAgICAgIGNhbnZhcy53aWR0aCA9IHJvdGF0ZWQud2lkdGg7XG4gICAgICAgICAgY2FudmFzLmhlaWdodCA9IHJvdGF0ZWQuaGVpZ2h0O1xuICAgICAgICAgIGNhbnZhcy5hc3BlY3RSYXRpbyA9IGFzcGVjdFJhdGlvO1xuICAgICAgICAgIHRoaXMubGltaXRDYW52YXModHJ1ZSwgZmFsc2UpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGlmIChjYW52YXMud2lkdGggPiBjYW52YXMubWF4V2lkdGggfHwgY2FudmFzLndpZHRoIDwgY2FudmFzLm1pbldpZHRoKSB7XG4gICAgICAgIGNhbnZhcy5sZWZ0ID0gY2FudmFzLm9sZExlZnQ7XG4gICAgICB9XG5cbiAgICAgIGlmIChjYW52YXMuaGVpZ2h0ID4gY2FudmFzLm1heEhlaWdodCB8fCBjYW52YXMuaGVpZ2h0IDwgY2FudmFzLm1pbkhlaWdodCkge1xuICAgICAgICBjYW52YXMudG9wID0gY2FudmFzLm9sZFRvcDtcbiAgICAgIH1cblxuICAgICAgY2FudmFzLndpZHRoID0gbWluKG1heChjYW52YXMud2lkdGgsIGNhbnZhcy5taW5XaWR0aCksIGNhbnZhcy5tYXhXaWR0aCk7XG4gICAgICBjYW52YXMuaGVpZ2h0ID0gbWluKG1heChjYW52YXMuaGVpZ2h0LCBjYW52YXMubWluSGVpZ2h0KSwgY2FudmFzLm1heEhlaWdodCk7XG5cbiAgICAgIHRoaXMubGltaXRDYW52YXMoZmFsc2UsIHRydWUpO1xuXG4gICAgICBjYW52YXMub2xkTGVmdCA9IGNhbnZhcy5sZWZ0ID0gbWluKG1heChjYW52YXMubGVmdCwgY2FudmFzLm1pbkxlZnQpLCBjYW52YXMubWF4TGVmdCk7XG4gICAgICBjYW52YXMub2xkVG9wID0gY2FudmFzLnRvcCA9IG1pbihtYXgoY2FudmFzLnRvcCwgY2FudmFzLm1pblRvcCksIGNhbnZhcy5tYXhUb3ApO1xuXG4gICAgICB0aGlzLiRjYW52YXMuY3NzKHtcbiAgICAgICAgd2lkdGg6IGNhbnZhcy53aWR0aCxcbiAgICAgICAgaGVpZ2h0OiBjYW52YXMuaGVpZ2h0LFxuICAgICAgICBsZWZ0OiBjYW52YXMubGVmdCxcbiAgICAgICAgdG9wOiBjYW52YXMudG9wXG4gICAgICB9KTtcblxuICAgICAgdGhpcy5yZW5kZXJJbWFnZSgpO1xuXG4gICAgICBpZiAodGhpcy5jcm9wcGVkICYmIG9wdGlvbnMuc3RyaWN0KSB7XG4gICAgICAgIHRoaXMubGltaXRDcm9wQm94KHRydWUsIHRydWUpO1xuICAgICAgfVxuXG4gICAgICBpZiAoY2hhbmdlZCkge1xuICAgICAgICB0aGlzLm91dHB1dCgpO1xuICAgICAgfVxuICAgIH0sXG5cbiAgICByZW5kZXJJbWFnZTogZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIGNhbnZhcyA9IHRoaXMuY2FudmFzLFxuICAgICAgICAgIGltYWdlID0gdGhpcy5pbWFnZSxcbiAgICAgICAgICByZXZlcnNlZDtcblxuICAgICAgaWYgKGltYWdlLnJvdGF0ZSkge1xuICAgICAgICByZXZlcnNlZCA9IGdldFJvdGF0ZWRTaXplcyh7XG4gICAgICAgICAgd2lkdGg6IGNhbnZhcy53aWR0aCxcbiAgICAgICAgICBoZWlnaHQ6IGNhbnZhcy5oZWlnaHQsXG4gICAgICAgICAgZGVncmVlOiBpbWFnZS5yb3RhdGUsXG4gICAgICAgICAgYXNwZWN0UmF0aW86IGltYWdlLmFzcGVjdFJhdGlvXG4gICAgICAgIH0sIHRydWUpO1xuICAgICAgfVxuXG4gICAgICAkLmV4dGVuZChpbWFnZSwgcmV2ZXJzZWQgPyB7XG4gICAgICAgIHdpZHRoOiByZXZlcnNlZC53aWR0aCxcbiAgICAgICAgaGVpZ2h0OiByZXZlcnNlZC5oZWlnaHQsXG4gICAgICAgIGxlZnQ6IChjYW52YXMud2lkdGggLSByZXZlcnNlZC53aWR0aCkgLyAyLFxuICAgICAgICB0b3A6IChjYW52YXMuaGVpZ2h0IC0gcmV2ZXJzZWQuaGVpZ2h0KSAvIDJcbiAgICAgIH0gOiB7XG4gICAgICAgIHdpZHRoOiBjYW52YXMud2lkdGgsXG4gICAgICAgIGhlaWdodDogY2FudmFzLmhlaWdodCxcbiAgICAgICAgbGVmdDogMCxcbiAgICAgICAgdG9wOiAwXG4gICAgICB9KTtcblxuICAgICAgdGhpcy4kY2xvbmUuY3NzKHtcbiAgICAgICAgd2lkdGg6IGltYWdlLndpZHRoLFxuICAgICAgICBoZWlnaHQ6IGltYWdlLmhlaWdodCxcbiAgICAgICAgbWFyZ2luTGVmdDogaW1hZ2UubGVmdCxcbiAgICAgICAgbWFyZ2luVG9wOiBpbWFnZS50b3AsXG4gICAgICAgIHRyYW5zZm9ybTogZ2V0Um90YXRlVmFsdWUoaW1hZ2Uucm90YXRlKVxuICAgICAgfSk7XG4gICAgfSxcblxuICAgIGluaXRDcm9wQm94OiBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgb3B0aW9ucyA9IHRoaXMub3B0aW9ucyxcbiAgICAgICAgICBjYW52YXMgPSB0aGlzLmNhbnZhcyxcbiAgICAgICAgICBhc3BlY3RSYXRpbyA9IG9wdGlvbnMuYXNwZWN0UmF0aW8sXG4gICAgICAgICAgYXV0b0Nyb3BBcmVhID0gbnVtKG9wdGlvbnMuYXV0b0Nyb3BBcmVhKSB8fCAwLjgsXG4gICAgICAgICAgY3JvcEJveCA9IHtcbiAgICAgICAgICAgIHdpZHRoOiBjYW52YXMud2lkdGgsXG4gICAgICAgICAgICBoZWlnaHQ6IGNhbnZhcy5oZWlnaHRcbiAgICAgICAgICB9O1xuXG4gICAgICBpZiAoYXNwZWN0UmF0aW8pIHtcbiAgICAgICAgaWYgKGNhbnZhcy5oZWlnaHQgKiBhc3BlY3RSYXRpbyA+IGNhbnZhcy53aWR0aCkge1xuICAgICAgICAgIGNyb3BCb3guaGVpZ2h0ID0gY3JvcEJveC53aWR0aCAvIGFzcGVjdFJhdGlvO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGNyb3BCb3gud2lkdGggPSBjcm9wQm94LmhlaWdodCAqIGFzcGVjdFJhdGlvO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHRoaXMuY3JvcEJveCA9IGNyb3BCb3g7XG4gICAgICB0aGlzLmxpbWl0Q3JvcEJveCh0cnVlLCB0cnVlKTtcblxuICAgICAgLy8gSW5pdGlhbGl6ZSBhdXRvIGNyb3AgYXJlYVxuICAgICAgY3JvcEJveC53aWR0aCA9IG1pbihtYXgoY3JvcEJveC53aWR0aCwgY3JvcEJveC5taW5XaWR0aCksIGNyb3BCb3gubWF4V2lkdGgpO1xuICAgICAgY3JvcEJveC5oZWlnaHQgPSBtaW4obWF4KGNyb3BCb3guaGVpZ2h0LCBjcm9wQm94Lm1pbkhlaWdodCksIGNyb3BCb3gubWF4SGVpZ2h0KTtcblxuICAgICAgLy8gVGhlIHdpZHRoIG9mIGF1dG8gY3JvcCBhcmVhIG11c3QgbGFyZ2UgdGhhbiBcIm1pbldpZHRoXCIsIGFuZCB0aGUgaGVpZ2h0IHRvby4gKCMxNjQpXG4gICAgICBjcm9wQm94LndpZHRoID0gbWF4KGNyb3BCb3gubWluV2lkdGgsIGNyb3BCb3gud2lkdGggKiBhdXRvQ3JvcEFyZWEpO1xuICAgICAgY3JvcEJveC5oZWlnaHQgPSBtYXgoY3JvcEJveC5taW5IZWlnaHQsIGNyb3BCb3guaGVpZ2h0ICogYXV0b0Nyb3BBcmVhKTtcbiAgICAgIGNyb3BCb3gub2xkTGVmdCA9IGNyb3BCb3gubGVmdCA9IGNhbnZhcy5sZWZ0ICsgKGNhbnZhcy53aWR0aCAtIGNyb3BCb3gud2lkdGgpIC8gMjtcbiAgICAgIGNyb3BCb3gub2xkVG9wID0gY3JvcEJveC50b3AgPSBjYW52YXMudG9wICsgKGNhbnZhcy5oZWlnaHQgLSBjcm9wQm94LmhlaWdodCkgLyAyO1xuXG4gICAgICB0aGlzLmluaXRpYWxDcm9wQm94ID0gJC5leHRlbmQoe30sIGNyb3BCb3gpO1xuICAgIH0sXG5cbiAgICBsaW1pdENyb3BCb3g6IGZ1bmN0aW9uIChzaXplLCBwb3NpdGlvbikge1xuICAgICAgdmFyIG9wdGlvbnMgPSB0aGlzLm9wdGlvbnMsXG4gICAgICAgICAgc3RyaWN0ID0gb3B0aW9ucy5zdHJpY3QsXG4gICAgICAgICAgY29udGFpbmVyID0gdGhpcy5jb250YWluZXIsXG4gICAgICAgICAgY29udGFpbmVyV2lkdGggPSBjb250YWluZXIud2lkdGgsXG4gICAgICAgICAgY29udGFpbmVySGVpZ2h0ID0gY29udGFpbmVyLmhlaWdodCxcbiAgICAgICAgICBjYW52YXMgPSB0aGlzLmNhbnZhcyxcbiAgICAgICAgICBjcm9wQm94ID0gdGhpcy5jcm9wQm94LFxuICAgICAgICAgIGFzcGVjdFJhdGlvID0gb3B0aW9ucy5hc3BlY3RSYXRpbyxcbiAgICAgICAgICBtaW5Dcm9wQm94V2lkdGgsXG4gICAgICAgICAgbWluQ3JvcEJveEhlaWdodDtcblxuICAgICAgaWYgKHNpemUpIHtcbiAgICAgICAgbWluQ3JvcEJveFdpZHRoID0gbnVtKG9wdGlvbnMubWluQ3JvcEJveFdpZHRoKSB8fCAwO1xuICAgICAgICBtaW5Dcm9wQm94SGVpZ2h0ID0gbnVtKG9wdGlvbnMubWluQ3JvcEJveEhlaWdodCkgfHwgMDtcblxuICAgICAgICAvLyBtaW4vbWF4Q3JvcEJveFdpZHRoL0hlaWdodCBtdXN0IGxlc3MgdGhhbiBjb25hdGluZXIgd2lkdGgvaGVpZ2h0XG4gICAgICAgIGNyb3BCb3gubWluV2lkdGggPSBtaW4oY29udGFpbmVyV2lkdGgsIG1pbkNyb3BCb3hXaWR0aCk7XG4gICAgICAgIGNyb3BCb3gubWluSGVpZ2h0ID0gbWluKGNvbnRhaW5lckhlaWdodCwgbWluQ3JvcEJveEhlaWdodCk7XG4gICAgICAgIGNyb3BCb3gubWF4V2lkdGggPSBtaW4oY29udGFpbmVyV2lkdGgsIHN0cmljdCA/IGNhbnZhcy53aWR0aCA6IGNvbnRhaW5lcldpZHRoKTtcbiAgICAgICAgY3JvcEJveC5tYXhIZWlnaHQgPSBtaW4oY29udGFpbmVySGVpZ2h0LCBzdHJpY3QgPyBjYW52YXMuaGVpZ2h0IDogY29udGFpbmVySGVpZ2h0KTtcblxuICAgICAgICBpZiAoYXNwZWN0UmF0aW8pIHtcbiAgICAgICAgICAvLyBjb21wYXJlIGNyb3AgYm94IHNpemUgd2l0aCBjb250YWluZXIgZmlyc3RcbiAgICAgICAgICBpZiAoY3JvcEJveC5tYXhIZWlnaHQgKiBhc3BlY3RSYXRpbyA+IGNyb3BCb3gubWF4V2lkdGgpIHtcbiAgICAgICAgICAgIGNyb3BCb3gubWluSGVpZ2h0ID0gY3JvcEJveC5taW5XaWR0aCAvIGFzcGVjdFJhdGlvO1xuICAgICAgICAgICAgY3JvcEJveC5tYXhIZWlnaHQgPSBjcm9wQm94Lm1heFdpZHRoIC8gYXNwZWN0UmF0aW87XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNyb3BCb3gubWluV2lkdGggPSBjcm9wQm94Lm1pbkhlaWdodCAqIGFzcGVjdFJhdGlvO1xuICAgICAgICAgICAgY3JvcEJveC5tYXhXaWR0aCA9IGNyb3BCb3gubWF4SGVpZ2h0ICogYXNwZWN0UmF0aW87XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gVGhlIFwibWluV2lkdGhcIiBtdXN0IGJlIGxlc3MgdGhhbiBcIm1heFdpZHRoXCIsIGFuZCB0aGUgXCJtaW5IZWlnaHRcIiB0b28uXG4gICAgICAgIGNyb3BCb3gubWluV2lkdGggPSBtaW4oY3JvcEJveC5tYXhXaWR0aCwgY3JvcEJveC5taW5XaWR0aCk7XG4gICAgICAgIGNyb3BCb3gubWluSGVpZ2h0ID0gbWluKGNyb3BCb3gubWF4SGVpZ2h0LCBjcm9wQm94Lm1pbkhlaWdodCk7XG4gICAgICB9XG5cbiAgICAgIGlmIChwb3NpdGlvbikge1xuICAgICAgICBpZiAoc3RyaWN0KSB7XG4gICAgICAgICAgY3JvcEJveC5taW5MZWZ0ID0gbWF4KDAsIGNhbnZhcy5sZWZ0KTtcbiAgICAgICAgICBjcm9wQm94Lm1pblRvcCA9IG1heCgwLCBjYW52YXMudG9wKTtcbiAgICAgICAgICBjcm9wQm94Lm1heExlZnQgPSBtaW4oY29udGFpbmVyV2lkdGgsIGNhbnZhcy5sZWZ0ICsgY2FudmFzLndpZHRoKSAtIGNyb3BCb3gud2lkdGg7XG4gICAgICAgICAgY3JvcEJveC5tYXhUb3AgPSBtaW4oY29udGFpbmVySGVpZ2h0LCBjYW52YXMudG9wICsgY2FudmFzLmhlaWdodCkgLSBjcm9wQm94LmhlaWdodDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBjcm9wQm94Lm1pbkxlZnQgPSAwO1xuICAgICAgICAgIGNyb3BCb3gubWluVG9wID0gMDtcbiAgICAgICAgICBjcm9wQm94Lm1heExlZnQgPSBjb250YWluZXJXaWR0aCAtIGNyb3BCb3gud2lkdGg7XG4gICAgICAgICAgY3JvcEJveC5tYXhUb3AgPSBjb250YWluZXJIZWlnaHQgLSBjcm9wQm94LmhlaWdodDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sXG5cbiAgICByZW5kZXJDcm9wQm94OiBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgb3B0aW9ucyA9IHRoaXMub3B0aW9ucyxcbiAgICAgICAgICBjb250YWluZXIgPSB0aGlzLmNvbnRhaW5lcixcbiAgICAgICAgICBjb250YWluZXJXaWR0aCA9IGNvbnRhaW5lci53aWR0aCxcbiAgICAgICAgICBjb250YWluZXJIZWlnaHQgPSBjb250YWluZXIuaGVpZ2h0LFxuICAgICAgICAgIGNyb3BCb3ggPSB0aGlzLmNyb3BCb3g7XG5cbiAgICAgIGlmIChjcm9wQm94LndpZHRoID4gY3JvcEJveC5tYXhXaWR0aCB8fCBjcm9wQm94LndpZHRoIDwgY3JvcEJveC5taW5XaWR0aCkge1xuICAgICAgICBjcm9wQm94LmxlZnQgPSBjcm9wQm94Lm9sZExlZnQ7XG4gICAgICB9XG5cbiAgICAgIGlmIChjcm9wQm94LmhlaWdodCA+IGNyb3BCb3gubWF4SGVpZ2h0IHx8IGNyb3BCb3guaGVpZ2h0IDwgY3JvcEJveC5taW5IZWlnaHQpIHtcbiAgICAgICAgY3JvcEJveC50b3AgPSBjcm9wQm94Lm9sZFRvcDtcbiAgICAgIH1cblxuICAgICAgY3JvcEJveC53aWR0aCA9IG1pbihtYXgoY3JvcEJveC53aWR0aCwgY3JvcEJveC5taW5XaWR0aCksIGNyb3BCb3gubWF4V2lkdGgpO1xuICAgICAgY3JvcEJveC5oZWlnaHQgPSBtaW4obWF4KGNyb3BCb3guaGVpZ2h0LCBjcm9wQm94Lm1pbkhlaWdodCksIGNyb3BCb3gubWF4SGVpZ2h0KTtcblxuICAgICAgdGhpcy5saW1pdENyb3BCb3goZmFsc2UsIHRydWUpO1xuXG4gICAgICBjcm9wQm94Lm9sZExlZnQgPSBjcm9wQm94LmxlZnQgPSBtaW4obWF4KGNyb3BCb3gubGVmdCwgY3JvcEJveC5taW5MZWZ0KSwgY3JvcEJveC5tYXhMZWZ0KTtcbiAgICAgIGNyb3BCb3gub2xkVG9wID0gY3JvcEJveC50b3AgPSBtaW4obWF4KGNyb3BCb3gudG9wLCBjcm9wQm94Lm1pblRvcCksIGNyb3BCb3gubWF4VG9wKTtcblxuICAgICAgaWYgKG9wdGlvbnMubW92YWJsZSAmJiBvcHRpb25zLmNyb3BCb3hNb3ZhYmxlKSB7XG4gICAgICAgIC8vIFR1cm4gdG8gbW92ZSB0aGUgY2FudmFzIHdoZW4gdGhlIGNyb3AgYm94IGlzIGVxdWFsIHRvIHRoZSBjb250YWluZXJcbiAgICAgICAgdGhpcy4kZmFjZS5kYXRhKCdkcmFnJywgKGNyb3BCb3gud2lkdGggPT09IGNvbnRhaW5lcldpZHRoICYmIGNyb3BCb3guaGVpZ2h0ID09PSBjb250YWluZXJIZWlnaHQpID8gJ21vdmUnIDogJ2FsbCcpO1xuICAgICAgfVxuXG4gICAgICB0aGlzLiRjcm9wQm94LmNzcyh7XG4gICAgICAgIHdpZHRoOiBjcm9wQm94LndpZHRoLFxuICAgICAgICBoZWlnaHQ6IGNyb3BCb3guaGVpZ2h0LFxuICAgICAgICBsZWZ0OiBjcm9wQm94LmxlZnQsXG4gICAgICAgIHRvcDogY3JvcEJveC50b3BcbiAgICAgIH0pO1xuXG4gICAgICBpZiAodGhpcy5jcm9wcGVkICYmIG9wdGlvbnMuc3RyaWN0KSB7XG4gICAgICAgIHRoaXMubGltaXRDYW52YXModHJ1ZSwgdHJ1ZSk7XG4gICAgICB9XG5cbiAgICAgIGlmICghdGhpcy5kaXNhYmxlZCkge1xuICAgICAgICB0aGlzLm91dHB1dCgpO1xuICAgICAgfVxuICAgIH0sXG5cbiAgICBvdXRwdXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBvcHRpb25zID0gdGhpcy5vcHRpb25zLFxuICAgICAgICAgICR0aGlzID0gdGhpcy4kZWxlbWVudDtcblxuICAgICAgdGhpcy5wcmV2aWV3KCk7XG5cbiAgICAgIGlmIChvcHRpb25zLmNyb3ApIHtcbiAgICAgICAgb3B0aW9ucy5jcm9wLmNhbGwoJHRoaXMsIHRoaXMuZ2V0RGF0YSgpKTtcbiAgICAgIH1cblxuICAgICAgJHRoaXMudHJpZ2dlcihFVkVOVF9DSEFOR0UpO1xuICAgIH1cbiAgfSk7XG5cbiAgcHJvdG90eXBlLmluaXRQcmV2aWV3ID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciB1cmwgPSB0aGlzLnVybDtcblxuICAgIHRoaXMuJHByZXZpZXcgPSAkKHRoaXMub3B0aW9ucy5wcmV2aWV3KTtcbiAgICB0aGlzLiR2aWV3Qm94Lmh0bWwoJzxpbWcgc3JjPVwiJyArIHVybCArICdcIj4nKTtcblxuICAgIC8vIE92ZXJyaWRlIGltZyBlbGVtZW50IHN0eWxlc1xuICAgIC8vIEFkZCBgZGlzcGxheTpibG9ja2AgdG8gYXZvaWQgbWFyZ2luIHRvcCBpc3N1ZSAoT2NjdXIgb25seSB3aGVuIG1hcmdpbi10b3AgPD0gLWhlaWdodClcbiAgICB0aGlzLiRwcmV2aWV3LmVhY2goZnVuY3Rpb24gKCkge1xuICAgICAgdmFyICR0aGlzID0gJCh0aGlzKTtcblxuICAgICAgJHRoaXMuZGF0YShDUk9QUEVSX1BSRVZJRVcsIHtcbiAgICAgICAgd2lkdGg6ICR0aGlzLndpZHRoKCksXG4gICAgICAgIGhlaWdodDogJHRoaXMuaGVpZ2h0KCksXG4gICAgICAgIG9yaWdpbmFsOiAkdGhpcy5odG1sKClcbiAgICAgIH0pLmh0bWwoJzxpbWcgc3JjPVwiJyArIHVybCArICdcIiBzdHlsZT1cImRpc3BsYXk6YmxvY2s7d2lkdGg6MTAwJTttaW4td2lkdGg6MCFpbXBvcnRhbnQ7bWluLWhlaWdodDowIWltcG9ydGFudDttYXgtd2lkdGg6bm9uZSFpbXBvcnRhbnQ7bWF4LWhlaWdodDpub25lIWltcG9ydGFudDtpbWFnZS1vcmllbnRhdGlvbjogMGRlZyFpbXBvcnRhbnRcIj4nKTtcbiAgICB9KTtcbiAgfTtcblxuICBwcm90b3R5cGUucmVzZXRQcmV2aWV3ID0gZnVuY3Rpb24gKCkge1xuICAgIHRoaXMuJHByZXZpZXcuZWFjaChmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgJHRoaXMgPSAkKHRoaXMpO1xuXG4gICAgICAkdGhpcy5odG1sKCR0aGlzLmRhdGEoQ1JPUFBFUl9QUkVWSUVXKS5vcmlnaW5hbCkucmVtb3ZlRGF0YShDUk9QUEVSX1BSRVZJRVcpO1xuICAgIH0pO1xuICB9O1xuXG4gIHByb3RvdHlwZS5wcmV2aWV3ID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciBpbWFnZSA9IHRoaXMuaW1hZ2UsXG4gICAgICAgIGNhbnZhcyA9IHRoaXMuY2FudmFzLFxuICAgICAgICBjcm9wQm94ID0gdGhpcy5jcm9wQm94LFxuICAgICAgICB3aWR0aCA9IGltYWdlLndpZHRoLFxuICAgICAgICBoZWlnaHQgPSBpbWFnZS5oZWlnaHQsXG4gICAgICAgIGxlZnQgPSBjcm9wQm94LmxlZnQgLSBjYW52YXMubGVmdCAtIGltYWdlLmxlZnQsXG4gICAgICAgIHRvcCA9IGNyb3BCb3gudG9wIC0gY2FudmFzLnRvcCAtIGltYWdlLnRvcCxcbiAgICAgICAgcm90YXRlID0gaW1hZ2Uucm90YXRlO1xuXG4gICAgaWYgKCF0aGlzLmNyb3BwZWQgfHwgdGhpcy5kaXNhYmxlZCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHRoaXMuJHZpZXdCb3guZmluZCgnaW1nJykuY3NzKHtcbiAgICAgIHdpZHRoOiB3aWR0aCxcbiAgICAgIGhlaWdodDogaGVpZ2h0LFxuICAgICAgbWFyZ2luTGVmdDogLWxlZnQsXG4gICAgICBtYXJnaW5Ub3A6IC10b3AsXG4gICAgICB0cmFuc2Zvcm06IGdldFJvdGF0ZVZhbHVlKHJvdGF0ZSlcbiAgICB9KTtcblxuICAgIHRoaXMuJHByZXZpZXcuZWFjaChmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgJHRoaXMgPSAkKHRoaXMpLFxuICAgICAgICAgIGRhdGEgPSAkdGhpcy5kYXRhKENST1BQRVJfUFJFVklFVyksXG4gICAgICAgICAgcmF0aW8gPSBkYXRhLndpZHRoIC8gY3JvcEJveC53aWR0aCxcbiAgICAgICAgICBuZXdXaWR0aCA9IGRhdGEud2lkdGgsXG4gICAgICAgICAgbmV3SGVpZ2h0ID0gY3JvcEJveC5oZWlnaHQgKiByYXRpbztcblxuICAgICAgaWYgKG5ld0hlaWdodCA+IGRhdGEuaGVpZ2h0KSB7XG4gICAgICAgIHJhdGlvID0gZGF0YS5oZWlnaHQgLyBjcm9wQm94LmhlaWdodDtcbiAgICAgICAgbmV3V2lkdGggPSBjcm9wQm94LndpZHRoICogcmF0aW87XG4gICAgICAgIG5ld0hlaWdodCA9IGRhdGEuaGVpZ2h0O1xuICAgICAgfVxuXG4gICAgICAkdGhpcy53aWR0aChuZXdXaWR0aCkuaGVpZ2h0KG5ld0hlaWdodCkuZmluZCgnaW1nJykuY3NzKHtcbiAgICAgICAgd2lkdGg6IHdpZHRoICogcmF0aW8sXG4gICAgICAgIGhlaWdodDogaGVpZ2h0ICogcmF0aW8sXG4gICAgICAgIG1hcmdpbkxlZnQ6IC1sZWZ0ICogcmF0aW8sXG4gICAgICAgIG1hcmdpblRvcDogLXRvcCAqIHJhdGlvLFxuICAgICAgICB0cmFuc2Zvcm06IGdldFJvdGF0ZVZhbHVlKHJvdGF0ZSlcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9O1xuXG4gIHByb3RvdHlwZS5hZGRMaXN0ZW5lcnMgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIG9wdGlvbnMgPSB0aGlzLm9wdGlvbnMsXG4gICAgICAgICR0aGlzID0gdGhpcy4kZWxlbWVudCxcbiAgICAgICAgJGNyb3BwZXIgPSB0aGlzLiRjcm9wcGVyO1xuXG4gICAgaWYgKCQuaXNGdW5jdGlvbihvcHRpb25zLmRyYWdzdGFydCkpIHtcbiAgICAgICR0aGlzLm9uKEVWRU5UX0RSQUdfU1RBUlQsIG9wdGlvbnMuZHJhZ3N0YXJ0KTtcbiAgICB9XG5cbiAgICBpZiAoJC5pc0Z1bmN0aW9uKG9wdGlvbnMuZHJhZ21vdmUpKSB7XG4gICAgICAkdGhpcy5vbihFVkVOVF9EUkFHX01PVkUsIG9wdGlvbnMuZHJhZ21vdmUpO1xuICAgIH1cblxuICAgIGlmICgkLmlzRnVuY3Rpb24ob3B0aW9ucy5kcmFnZW5kKSkge1xuICAgICAgJHRoaXMub24oRVZFTlRfRFJBR19FTkQsIG9wdGlvbnMuZHJhZ2VuZCk7XG4gICAgfVxuXG4gICAgaWYgKCQuaXNGdW5jdGlvbihvcHRpb25zLnpvb21pbikpIHtcbiAgICAgICR0aGlzLm9uKEVWRU5UX1pPT01fSU4sIG9wdGlvbnMuem9vbWluKTtcbiAgICB9XG5cbiAgICBpZiAoJC5pc0Z1bmN0aW9uKG9wdGlvbnMuem9vbW91dCkpIHtcbiAgICAgICR0aGlzLm9uKEVWRU5UX1pPT01fT1VULCBvcHRpb25zLnpvb21vdXQpO1xuICAgIH1cblxuICAgIGlmICgkLmlzRnVuY3Rpb24ob3B0aW9ucy5jaGFuZ2UpKSB7XG4gICAgICAkdGhpcy5vbihFVkVOVF9DSEFOR0UsIG9wdGlvbnMuY2hhbmdlKTtcbiAgICB9XG5cbiAgICAkY3JvcHBlci5vbihFVkVOVF9NT1VTRV9ET1dOLCAkLnByb3h5KHRoaXMuZHJhZ3N0YXJ0LCB0aGlzKSk7XG5cbiAgICBpZiAob3B0aW9ucy56b29tYWJsZSAmJiBvcHRpb25zLm1vdXNlV2hlZWxab29tKSB7XG4gICAgICAkY3JvcHBlci5vbihFVkVOVF9XSEVFTCwgJC5wcm94eSh0aGlzLndoZWVsLCB0aGlzKSk7XG4gICAgfVxuXG4gICAgaWYgKG9wdGlvbnMuZG91YmxlQ2xpY2tUb2dnbGUpIHtcbiAgICAgICRjcm9wcGVyLm9uKEVWRU5UX0RCTENMSUNLLCAkLnByb3h5KHRoaXMuZGJsY2xpY2ssIHRoaXMpKTtcbiAgICB9XG5cbiAgICAkZG9jdW1lbnQub24oRVZFTlRfTU9VU0VfTU9WRSwgKHRoaXMuX2RyYWdtb3ZlID0gcHJveHkodGhpcy5kcmFnbW92ZSwgdGhpcykpKS5vbihFVkVOVF9NT1VTRV9VUCwgKHRoaXMuX2RyYWdlbmQgPSBwcm94eSh0aGlzLmRyYWdlbmQsIHRoaXMpKSk7XG5cbiAgICBpZiAob3B0aW9ucy5yZXNwb25zaXZlKSB7XG4gICAgICAkd2luZG93Lm9uKEVWRU5UX1JFU0laRSwgKHRoaXMuX3Jlc2l6ZSA9IHByb3h5KHRoaXMucmVzaXplLCB0aGlzKSkpO1xuICAgIH1cbiAgfTtcblxuICBwcm90b3R5cGUucmVtb3ZlTGlzdGVuZXJzID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciBvcHRpb25zID0gdGhpcy5vcHRpb25zLFxuICAgICAgICAkdGhpcyA9IHRoaXMuJGVsZW1lbnQsXG4gICAgICAgICRjcm9wcGVyID0gdGhpcy4kY3JvcHBlcjtcblxuICAgIGlmICgkLmlzRnVuY3Rpb24ob3B0aW9ucy5kcmFnc3RhcnQpKSB7XG4gICAgICAkdGhpcy5vZmYoRVZFTlRfRFJBR19TVEFSVCwgb3B0aW9ucy5kcmFnc3RhcnQpO1xuICAgIH1cblxuICAgIGlmICgkLmlzRnVuY3Rpb24ob3B0aW9ucy5kcmFnbW92ZSkpIHtcbiAgICAgICR0aGlzLm9mZihFVkVOVF9EUkFHX01PVkUsIG9wdGlvbnMuZHJhZ21vdmUpO1xuICAgIH1cblxuICAgIGlmICgkLmlzRnVuY3Rpb24ob3B0aW9ucy5kcmFnZW5kKSkge1xuICAgICAgJHRoaXMub2ZmKEVWRU5UX0RSQUdfRU5ELCBvcHRpb25zLmRyYWdlbmQpO1xuICAgIH1cblxuICAgIGlmICgkLmlzRnVuY3Rpb24ob3B0aW9ucy56b29taW4pKSB7XG4gICAgICAkdGhpcy5vZmYoRVZFTlRfWk9PTV9JTiwgb3B0aW9ucy56b29taW4pO1xuICAgIH1cblxuICAgIGlmICgkLmlzRnVuY3Rpb24ob3B0aW9ucy56b29tb3V0KSkge1xuICAgICAgJHRoaXMub2ZmKEVWRU5UX1pPT01fT1VULCBvcHRpb25zLnpvb21vdXQpO1xuICAgIH1cblxuICAgIGlmICgkLmlzRnVuY3Rpb24ob3B0aW9ucy5jaGFuZ2UpKSB7XG4gICAgICAkdGhpcy5vZmYoRVZFTlRfQ0hBTkdFLCBvcHRpb25zLmNoYW5nZSk7XG4gICAgfVxuXG4gICAgJGNyb3BwZXIub2ZmKEVWRU5UX01PVVNFX0RPV04sIHRoaXMuZHJhZ3N0YXJ0KTtcblxuICAgIGlmIChvcHRpb25zLnpvb21hYmxlICYmIG9wdGlvbnMubW91c2VXaGVlbFpvb20pIHtcbiAgICAgICRjcm9wcGVyLm9mZihFVkVOVF9XSEVFTCwgdGhpcy53aGVlbCk7XG4gICAgfVxuXG4gICAgaWYgKG9wdGlvbnMuZG91YmxlQ2xpY2tUb2dnbGUpIHtcbiAgICAgICRjcm9wcGVyLm9mZihFVkVOVF9EQkxDTElDSywgdGhpcy5kYmxjbGljayk7XG4gICAgfVxuXG4gICAgJGRvY3VtZW50Lm9mZihFVkVOVF9NT1VTRV9NT1ZFLCB0aGlzLl9kcmFnbW92ZSkub2ZmKEVWRU5UX01PVVNFX1VQLCB0aGlzLl9kcmFnZW5kKTtcblxuICAgIGlmIChvcHRpb25zLnJlc3BvbnNpdmUpIHtcbiAgICAgICR3aW5kb3cub2ZmKEVWRU5UX1JFU0laRSwgdGhpcy5fcmVzaXplKTtcbiAgICB9XG4gIH07XG5cbiAgJC5leHRlbmQocHJvdG90eXBlLCB7XG4gICAgcmVzaXplOiBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgJGNvbnRhaW5lciA9IHRoaXMuJGNvbnRhaW5lcixcbiAgICAgICAgICBjb250YWluZXIgPSB0aGlzLmNvbnRhaW5lcixcbiAgICAgICAgICBjYW52YXNEYXRhLFxuICAgICAgICAgIGNyb3BCb3hEYXRhLFxuICAgICAgICAgIHJhdGlvO1xuXG4gICAgICBpZiAodGhpcy5kaXNhYmxlZCB8fCAhY29udGFpbmVyKSB7IC8vIENoZWNrIFwiY29udGFpbmVyXCIgZm9yIElFOFxuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIHJhdGlvID0gJGNvbnRhaW5lci53aWR0aCgpIC8gY29udGFpbmVyLndpZHRoO1xuXG4gICAgICBpZiAocmF0aW8gIT09IDEgfHwgJGNvbnRhaW5lci5oZWlnaHQoKSAhPT0gY29udGFpbmVyLmhlaWdodCkge1xuICAgICAgICBjYW52YXNEYXRhID0gdGhpcy5nZXRDYW52YXNEYXRhKCk7XG4gICAgICAgIGNyb3BCb3hEYXRhID0gdGhpcy5nZXRDcm9wQm94RGF0YSgpO1xuXG4gICAgICAgIHRoaXMucmVuZGVyKCk7XG4gICAgICAgIHRoaXMuc2V0Q2FudmFzRGF0YSgkLmVhY2goY2FudmFzRGF0YSwgZnVuY3Rpb24gKGksIG4pIHtcbiAgICAgICAgICBjYW52YXNEYXRhW2ldID0gbiAqIHJhdGlvO1xuICAgICAgICB9KSk7XG4gICAgICAgIHRoaXMuc2V0Q3JvcEJveERhdGEoJC5lYWNoKGNyb3BCb3hEYXRhLCBmdW5jdGlvbiAoaSwgbikge1xuICAgICAgICAgIGNyb3BCb3hEYXRhW2ldID0gbiAqIHJhdGlvO1xuICAgICAgICB9KSk7XG4gICAgICB9XG4gICAgfSxcblxuICAgIGRibGNsaWNrOiBmdW5jdGlvbiAoKSB7XG4gICAgICBpZiAodGhpcy5kaXNhYmxlZCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGlmICh0aGlzLiRkcmFnQm94Lmhhc0NsYXNzKENMQVNTX0NST1ApKSB7XG4gICAgICAgIHRoaXMuc2V0RHJhZ01vZGUoJ21vdmUnKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuc2V0RHJhZ01vZGUoJ2Nyb3AnKTtcbiAgICAgIH1cbiAgICB9LFxuXG4gICAgd2hlZWw6IGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgdmFyIGUgPSBldmVudC5vcmlnaW5hbEV2ZW50LFxuICAgICAgICAgIGRlbHRhID0gMTtcblxuICAgICAgaWYgKHRoaXMuZGlzYWJsZWQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuXG4gICAgICBpZiAoZS5kZWx0YVkpIHtcbiAgICAgICAgZGVsdGEgPSBlLmRlbHRhWSA+IDAgPyAxIDogLTE7XG4gICAgICB9IGVsc2UgaWYgKGUud2hlZWxEZWx0YSkge1xuICAgICAgICBkZWx0YSA9IC1lLndoZWVsRGVsdGEgLyAxMjA7XG4gICAgICB9IGVsc2UgaWYgKGUuZGV0YWlsKSB7XG4gICAgICAgIGRlbHRhID0gZS5kZXRhaWwgPiAwID8gMSA6IC0xO1xuICAgICAgfVxuXG4gICAgICB0aGlzLnpvb20oLWRlbHRhICogMC4xKTtcbiAgICB9LFxuXG4gICAgZHJhZ3N0YXJ0OiBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgIHZhciBvcHRpb25zID0gdGhpcy5vcHRpb25zLFxuICAgICAgICAgIG9yaWdpbmFsRXZlbnQgPSBldmVudC5vcmlnaW5hbEV2ZW50LFxuICAgICAgICAgIHRvdWNoZXMgPSBvcmlnaW5hbEV2ZW50ICYmIG9yaWdpbmFsRXZlbnQudG91Y2hlcyxcbiAgICAgICAgICBlID0gZXZlbnQsXG4gICAgICAgICAgZHJhZ1R5cGUsXG4gICAgICAgICAgZHJhZ1N0YXJ0RXZlbnQsXG4gICAgICAgICAgdG91Y2hlc0xlbmd0aDtcblxuICAgICAgaWYgKHRoaXMuZGlzYWJsZWQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBpZiAodG91Y2hlcykge1xuICAgICAgICB0b3VjaGVzTGVuZ3RoID0gdG91Y2hlcy5sZW5ndGg7XG5cbiAgICAgICAgaWYgKHRvdWNoZXNMZW5ndGggPiAxKSB7XG4gICAgICAgICAgaWYgKG9wdGlvbnMuem9vbWFibGUgJiYgb3B0aW9ucy50b3VjaERyYWdab29tICYmIHRvdWNoZXNMZW5ndGggPT09IDIpIHtcbiAgICAgICAgICAgIGUgPSB0b3VjaGVzWzFdO1xuICAgICAgICAgICAgdGhpcy5zdGFydFgyID0gZS5wYWdlWDtcbiAgICAgICAgICAgIHRoaXMuc3RhcnRZMiA9IGUucGFnZVk7XG4gICAgICAgICAgICBkcmFnVHlwZSA9ICd6b29tJztcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGUgPSB0b3VjaGVzWzBdO1xuICAgICAgfVxuXG4gICAgICBkcmFnVHlwZSA9IGRyYWdUeXBlIHx8ICQoZS50YXJnZXQpLmRhdGEoJ2RyYWcnKTtcblxuICAgICAgaWYgKFJFR0VYUF9EUkFHX1RZUEVTLnRlc3QoZHJhZ1R5cGUpKSB7XG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG5cbiAgICAgICAgZHJhZ1N0YXJ0RXZlbnQgPSAkLkV2ZW50KEVWRU5UX0RSQUdfU1RBUlQsIHtcbiAgICAgICAgICBvcmlnaW5hbEV2ZW50OiBvcmlnaW5hbEV2ZW50LFxuICAgICAgICAgIGRyYWdUeXBlOiBkcmFnVHlwZVxuICAgICAgICB9KTtcblxuICAgICAgICB0aGlzLiRlbGVtZW50LnRyaWdnZXIoZHJhZ1N0YXJ0RXZlbnQpO1xuXG4gICAgICAgIGlmIChkcmFnU3RhcnRFdmVudC5pc0RlZmF1bHRQcmV2ZW50ZWQoKSkge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuZHJhZ1R5cGUgPSBkcmFnVHlwZTtcbiAgICAgICAgdGhpcy5jcm9wcGluZyA9IGZhbHNlO1xuICAgICAgICB0aGlzLnN0YXJ0WCA9IGUucGFnZVg7XG4gICAgICAgIHRoaXMuc3RhcnRZID0gZS5wYWdlWTtcblxuICAgICAgICBpZiAoZHJhZ1R5cGUgPT09ICdjcm9wJykge1xuICAgICAgICAgIHRoaXMuY3JvcHBpbmcgPSB0cnVlO1xuICAgICAgICAgIHRoaXMuJGRyYWdCb3guYWRkQ2xhc3MoQ0xBU1NfTU9EQUwpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSxcblxuICAgIGRyYWdtb3ZlOiBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgIHZhciBvcHRpb25zID0gdGhpcy5vcHRpb25zLFxuICAgICAgICAgIG9yaWdpbmFsRXZlbnQgPSBldmVudC5vcmlnaW5hbEV2ZW50LFxuICAgICAgICAgIHRvdWNoZXMgPSBvcmlnaW5hbEV2ZW50ICYmIG9yaWdpbmFsRXZlbnQudG91Y2hlcyxcbiAgICAgICAgICBlID0gZXZlbnQsXG4gICAgICAgICAgZHJhZ1R5cGUgPSB0aGlzLmRyYWdUeXBlLFxuICAgICAgICAgIGRyYWdNb3ZlRXZlbnQsXG4gICAgICAgICAgdG91Y2hlc0xlbmd0aDtcblxuICAgICAgaWYgKHRoaXMuZGlzYWJsZWQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBpZiAodG91Y2hlcykge1xuICAgICAgICB0b3VjaGVzTGVuZ3RoID0gdG91Y2hlcy5sZW5ndGg7XG5cbiAgICAgICAgaWYgKHRvdWNoZXNMZW5ndGggPiAxKSB7XG4gICAgICAgICAgaWYgKG9wdGlvbnMuem9vbWFibGUgJiYgb3B0aW9ucy50b3VjaERyYWdab29tICYmIHRvdWNoZXNMZW5ndGggPT09IDIpIHtcbiAgICAgICAgICAgIGUgPSB0b3VjaGVzWzFdO1xuICAgICAgICAgICAgdGhpcy5lbmRYMiA9IGUucGFnZVg7XG4gICAgICAgICAgICB0aGlzLmVuZFkyID0gZS5wYWdlWTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGUgPSB0b3VjaGVzWzBdO1xuICAgICAgfVxuXG4gICAgICBpZiAoZHJhZ1R5cGUpIHtcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcblxuICAgICAgICBkcmFnTW92ZUV2ZW50ID0gJC5FdmVudChFVkVOVF9EUkFHX01PVkUsIHtcbiAgICAgICAgICBvcmlnaW5hbEV2ZW50OiBvcmlnaW5hbEV2ZW50LFxuICAgICAgICAgIGRyYWdUeXBlOiBkcmFnVHlwZVxuICAgICAgICB9KTtcblxuICAgICAgICB0aGlzLiRlbGVtZW50LnRyaWdnZXIoZHJhZ01vdmVFdmVudCk7XG5cbiAgICAgICAgaWYgKGRyYWdNb3ZlRXZlbnQuaXNEZWZhdWx0UHJldmVudGVkKCkpIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmVuZFggPSBlLnBhZ2VYO1xuICAgICAgICB0aGlzLmVuZFkgPSBlLnBhZ2VZO1xuXG4gICAgICAgIHRoaXMuY2hhbmdlKGUuc2hpZnRLZXkpO1xuICAgICAgfVxuICAgIH0sXG5cbiAgICBkcmFnZW5kOiBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgIHZhciBkcmFnVHlwZSA9IHRoaXMuZHJhZ1R5cGUsXG4gICAgICAgICAgZHJhZ0VuZEV2ZW50O1xuXG4gICAgICBpZiAodGhpcy5kaXNhYmxlZCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGlmIChkcmFnVHlwZSkge1xuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuXG4gICAgICAgIGRyYWdFbmRFdmVudCA9ICQuRXZlbnQoRVZFTlRfRFJBR19FTkQsIHtcbiAgICAgICAgICBvcmlnaW5hbEV2ZW50OiBldmVudC5vcmlnaW5hbEV2ZW50LFxuICAgICAgICAgIGRyYWdUeXBlOiBkcmFnVHlwZVxuICAgICAgICB9KTtcblxuICAgICAgICB0aGlzLiRlbGVtZW50LnRyaWdnZXIoZHJhZ0VuZEV2ZW50KTtcblxuICAgICAgICBpZiAoZHJhZ0VuZEV2ZW50LmlzRGVmYXVsdFByZXZlbnRlZCgpKSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMuY3JvcHBpbmcpIHtcbiAgICAgICAgICB0aGlzLmNyb3BwaW5nID0gZmFsc2U7XG4gICAgICAgICAgdGhpcy4kZHJhZ0JveC50b2dnbGVDbGFzcyhDTEFTU19NT0RBTCwgdGhpcy5jcm9wcGVkICYmIHRoaXMub3B0aW9ucy5tb2RhbCk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmRyYWdUeXBlID0gJyc7XG4gICAgICB9XG4gICAgfVxuICB9KTtcblxuICAkLmV4dGVuZChwcm90b3R5cGUsIHtcbiAgICBjcm9wOiBmdW5jdGlvbiAoKSB7XG4gICAgICBpZiAoIXRoaXMuYnVpbHQgfHwgdGhpcy5kaXNhYmxlZCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGlmICghdGhpcy5jcm9wcGVkKSB7XG4gICAgICAgIHRoaXMuY3JvcHBlZCA9IHRydWU7XG4gICAgICAgIHRoaXMubGltaXRDcm9wQm94KHRydWUsIHRydWUpO1xuXG4gICAgICAgIGlmICh0aGlzLm9wdGlvbnMubW9kYWwpIHtcbiAgICAgICAgICB0aGlzLiRkcmFnQm94LmFkZENsYXNzKENMQVNTX01PREFMKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuJGNyb3BCb3gucmVtb3ZlQ2xhc3MoQ0xBU1NfSElEREVOKTtcbiAgICAgIH1cblxuICAgICAgdGhpcy5zZXRDcm9wQm94RGF0YSh0aGlzLmluaXRpYWxDcm9wQm94KTtcbiAgICB9LFxuXG4gICAgcmVzZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgIGlmICghdGhpcy5idWlsdCB8fCB0aGlzLmRpc2FibGVkKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgdGhpcy5pbWFnZSA9ICQuZXh0ZW5kKHt9LCB0aGlzLmluaXRpYWxJbWFnZSk7XG4gICAgICB0aGlzLmNhbnZhcyA9ICQuZXh0ZW5kKHt9LCB0aGlzLmluaXRpYWxDYW52YXMpO1xuICAgICAgdGhpcy5jcm9wQm94ID0gJC5leHRlbmQoe30sIHRoaXMuaW5pdGlhbENyb3BCb3gpOyAvLyByZXF1aXJlZCBmb3Igc3RyaWN0IG1vZGVcblxuICAgICAgdGhpcy5yZW5kZXJDYW52YXMoKTtcblxuICAgICAgaWYgKHRoaXMuY3JvcHBlZCkge1xuICAgICAgICB0aGlzLnJlbmRlckNyb3BCb3goKTtcbiAgICAgIH1cbiAgICB9LFxuXG4gICAgY2xlYXI6IGZ1bmN0aW9uICgpIHtcbiAgICAgIGlmICghdGhpcy5jcm9wcGVkIHx8IHRoaXMuZGlzYWJsZWQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICAkLmV4dGVuZCh0aGlzLmNyb3BCb3gsIHtcbiAgICAgICAgbGVmdDogMCxcbiAgICAgICAgdG9wOiAwLFxuICAgICAgICB3aWR0aDogMCxcbiAgICAgICAgaGVpZ2h0OiAwXG4gICAgICB9KTtcblxuICAgICAgdGhpcy5jcm9wcGVkID0gZmFsc2U7XG4gICAgICB0aGlzLnJlbmRlckNyb3BCb3goKTtcblxuICAgICAgdGhpcy5saW1pdENhbnZhcygpO1xuICAgICAgdGhpcy5yZW5kZXJDYW52YXMoKTsgLy8gUmVuZGVyIGNhbnZhcyBhZnRlciByZW5kZXIgY3JvcCBib3hcblxuICAgICAgdGhpcy4kZHJhZ0JveC5yZW1vdmVDbGFzcyhDTEFTU19NT0RBTCk7XG4gICAgICB0aGlzLiRjcm9wQm94LmFkZENsYXNzKENMQVNTX0hJRERFTik7XG4gICAgfSxcblxuICAgIGRlc3Ryb3k6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciAkdGhpcyA9IHRoaXMuJGVsZW1lbnQ7XG5cbiAgICAgIGlmICh0aGlzLnJlYWR5KSB7XG4gICAgICAgIHRoaXMudW5idWlsZCgpO1xuICAgICAgICAkdGhpcy5yZW1vdmVDbGFzcyhDTEFTU19ISURERU4pO1xuICAgICAgfSBlbHNlIGlmICh0aGlzLiRjbG9uZSkge1xuICAgICAgICB0aGlzLiRjbG9uZS5yZW1vdmUoKTtcbiAgICAgIH1cblxuICAgICAgJHRoaXMucmVtb3ZlRGF0YSgnY3JvcHBlcicpO1xuICAgIH0sXG5cbiAgICByZXBsYWNlOiBmdW5jdGlvbiAodXJsKSB7XG4gICAgICBpZiAoIXRoaXMuZGlzYWJsZWQgJiYgdXJsKSB7XG4gICAgICAgIHRoaXMub3B0aW9ucy5kYXRhID0gbnVsbDsgLy8gUmVtb3ZlIHByZXZpb3VzIGRhdGFcbiAgICAgICAgdGhpcy5sb2FkKHVybCk7XG4gICAgICB9XG4gICAgfSxcblxuICAgIGVuYWJsZTogZnVuY3Rpb24gKCkge1xuICAgICAgaWYgKHRoaXMuYnVpbHQpIHtcbiAgICAgICAgdGhpcy5kaXNhYmxlZCA9IGZhbHNlO1xuICAgICAgICB0aGlzLiRjcm9wcGVyLnJlbW92ZUNsYXNzKENMQVNTX0RJU0FCTEVEKTtcbiAgICAgIH1cbiAgICB9LFxuXG4gICAgZGlzYWJsZTogZnVuY3Rpb24gKCkge1xuICAgICAgaWYgKHRoaXMuYnVpbHQpIHtcbiAgICAgICAgdGhpcy5kaXNhYmxlZCA9IHRydWU7XG4gICAgICAgIHRoaXMuJGNyb3BwZXIuYWRkQ2xhc3MoQ0xBU1NfRElTQUJMRUQpO1xuICAgICAgfVxuICAgIH0sXG5cbiAgICBtb3ZlOiBmdW5jdGlvbiAob2Zmc2V0WCwgb2Zmc2V0WSkge1xuICAgICAgdmFyIGNhbnZhcyA9IHRoaXMuY2FudmFzO1xuXG4gICAgICBpZiAodGhpcy5idWlsdCAmJiAhdGhpcy5kaXNhYmxlZCAmJiB0aGlzLm9wdGlvbnMubW92YWJsZSAmJiBpc051bWJlcihvZmZzZXRYKSAmJiBpc051bWJlcihvZmZzZXRZKSkge1xuICAgICAgICBjYW52YXMubGVmdCArPSBvZmZzZXRYO1xuICAgICAgICBjYW52YXMudG9wICs9IG9mZnNldFk7XG4gICAgICAgIHRoaXMucmVuZGVyQ2FudmFzKHRydWUpO1xuICAgICAgfVxuICAgIH0sXG5cbiAgICB6b29tOiBmdW5jdGlvbiAoZGVsdGEpIHtcbiAgICAgIHZhciBjYW52YXMgPSB0aGlzLmNhbnZhcyxcbiAgICAgICAgICB6b29tRXZlbnQsXG4gICAgICAgICAgd2lkdGgsXG4gICAgICAgICAgaGVpZ2h0O1xuXG4gICAgICBkZWx0YSA9IG51bShkZWx0YSk7XG5cbiAgICAgIGlmIChkZWx0YSAmJiB0aGlzLmJ1aWx0ICYmICF0aGlzLmRpc2FibGVkICYmIHRoaXMub3B0aW9ucy56b29tYWJsZSkge1xuICAgICAgICB6b29tRXZlbnQgPSBkZWx0YSA+IDAgPyAkLkV2ZW50KEVWRU5UX1pPT01fSU4pIDogJC5FdmVudChFVkVOVF9aT09NX09VVCk7XG4gICAgICAgIHRoaXMuJGVsZW1lbnQudHJpZ2dlcih6b29tRXZlbnQpO1xuXG4gICAgICAgIGlmICh6b29tRXZlbnQuaXNEZWZhdWx0UHJldmVudGVkKCkpIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBkZWx0YSA9IGRlbHRhIDw9IC0xID8gMSAvICgxIC0gZGVsdGEpIDogZGVsdGEgPD0gMSA/ICgxICsgZGVsdGEpIDogZGVsdGE7XG4gICAgICAgIHdpZHRoID0gY2FudmFzLndpZHRoICogZGVsdGE7XG4gICAgICAgIGhlaWdodCA9IGNhbnZhcy5oZWlnaHQgKiBkZWx0YTtcbiAgICAgICAgY2FudmFzLmxlZnQgLT0gKHdpZHRoIC0gY2FudmFzLndpZHRoKSAvIDI7XG4gICAgICAgIGNhbnZhcy50b3AgLT0gKGhlaWdodCAtIGNhbnZhcy5oZWlnaHQpIC8gMjtcbiAgICAgICAgY2FudmFzLndpZHRoID0gd2lkdGg7XG4gICAgICAgIGNhbnZhcy5oZWlnaHQgPSBoZWlnaHQ7XG4gICAgICAgIHRoaXMucmVuZGVyQ2FudmFzKHRydWUpO1xuICAgICAgICB0aGlzLnNldERyYWdNb2RlKCdtb3ZlJyk7XG4gICAgICB9XG4gICAgfSxcblxuICAgIHJvdGF0ZTogZnVuY3Rpb24gKGRlZ3JlZSkge1xuICAgICAgdmFyIGltYWdlID0gdGhpcy5pbWFnZTtcblxuICAgICAgZGVncmVlID0gbnVtKGRlZ3JlZSk7XG5cbiAgICAgIGlmIChkZWdyZWUgJiYgdGhpcy5idWlsdCAmJiAhdGhpcy5kaXNhYmxlZCAmJiB0aGlzLm9wdGlvbnMucm90YXRhYmxlKSB7XG4gICAgICAgIGltYWdlLnJvdGF0ZSA9IChpbWFnZS5yb3RhdGUgKyBkZWdyZWUpICUgMzYwO1xuICAgICAgICB0aGlzLnJvdGF0ZWQgPSB0cnVlO1xuICAgICAgICB0aGlzLnJlbmRlckNhbnZhcyh0cnVlKTtcbiAgICAgIH1cbiAgICB9LFxuXG4gICAgZ2V0RGF0YTogZnVuY3Rpb24gKHJvdW5kZWQpIHtcbiAgICAgIHZhciBjcm9wQm94ID0gdGhpcy5jcm9wQm94LFxuICAgICAgICAgIGNhbnZhcyA9IHRoaXMuY2FudmFzLFxuICAgICAgICAgIGltYWdlID0gdGhpcy5pbWFnZSxcbiAgICAgICAgICByYXRpbyxcbiAgICAgICAgICBkYXRhO1xuXG4gICAgICBpZiAodGhpcy5idWlsdCAmJiB0aGlzLmNyb3BwZWQpIHtcbiAgICAgICAgZGF0YSA9IHtcbiAgICAgICAgICB4OiBjcm9wQm94LmxlZnQgLSBjYW52YXMubGVmdCxcbiAgICAgICAgICB5OiBjcm9wQm94LnRvcCAtIGNhbnZhcy50b3AsXG4gICAgICAgICAgd2lkdGg6IGNyb3BCb3gud2lkdGgsXG4gICAgICAgICAgaGVpZ2h0OiBjcm9wQm94LmhlaWdodFxuICAgICAgICB9O1xuXG4gICAgICAgIHJhdGlvID0gaW1hZ2Uud2lkdGggLyBpbWFnZS5uYXR1cmFsV2lkdGg7XG5cbiAgICAgICAgJC5lYWNoKGRhdGEsIGZ1bmN0aW9uIChpLCBuKSB7XG4gICAgICAgICAgbiA9IG4gLyByYXRpbztcbiAgICAgICAgICBkYXRhW2ldID0gcm91bmRlZCA/IE1hdGgucm91bmQobikgOiBuO1xuICAgICAgICB9KTtcblxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZGF0YSA9IHtcbiAgICAgICAgICB4OiAwLFxuICAgICAgICAgIHk6IDAsXG4gICAgICAgICAgd2lkdGg6IDAsXG4gICAgICAgICAgaGVpZ2h0OiAwXG4gICAgICAgIH07XG4gICAgICB9XG5cbiAgICAgIGRhdGEucm90YXRlID0gdGhpcy5yZWFkeSA/IGltYWdlLnJvdGF0ZSA6IDA7XG5cbiAgICAgIHJldHVybiBkYXRhO1xuICAgIH0sXG5cbiAgICBzZXREYXRhOiBmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgdmFyIGltYWdlID0gdGhpcy5pbWFnZSxcbiAgICAgICAgICBjYW52YXMgPSB0aGlzLmNhbnZhcyxcbiAgICAgICAgICBjcm9wQm94RGF0YSA9IHt9LFxuICAgICAgICAgIHJhdGlvO1xuXG4gICAgICBpZiAodGhpcy5idWlsdCAmJiAhdGhpcy5kaXNhYmxlZCAmJiAkLmlzUGxhaW5PYmplY3QoZGF0YSkpIHtcbiAgICAgICAgaWYgKGlzTnVtYmVyKGRhdGEucm90YXRlKSAmJiBkYXRhLnJvdGF0ZSAhPT0gaW1hZ2Uucm90YXRlICYmIHRoaXMub3B0aW9ucy5yb3RhdGFibGUpIHtcbiAgICAgICAgICBpbWFnZS5yb3RhdGUgPSBkYXRhLnJvdGF0ZTtcbiAgICAgICAgICB0aGlzLnJvdGF0ZWQgPSB0cnVlO1xuICAgICAgICAgIHRoaXMucmVuZGVyQ2FudmFzKHRydWUpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmF0aW8gPSBpbWFnZS53aWR0aCAvIGltYWdlLm5hdHVyYWxXaWR0aDtcblxuICAgICAgICBpZiAoaXNOdW1iZXIoZGF0YS54KSkge1xuICAgICAgICAgIGNyb3BCb3hEYXRhLmxlZnQgPSBkYXRhLnggKiByYXRpbyArIGNhbnZhcy5sZWZ0O1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGlzTnVtYmVyKGRhdGEueSkpIHtcbiAgICAgICAgICBjcm9wQm94RGF0YS50b3AgPSBkYXRhLnkgKiByYXRpbyArIGNhbnZhcy50b3A7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoaXNOdW1iZXIoZGF0YS53aWR0aCkpIHtcbiAgICAgICAgICBjcm9wQm94RGF0YS53aWR0aCA9IGRhdGEud2lkdGggKiByYXRpbztcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChpc051bWJlcihkYXRhLmhlaWdodCkpIHtcbiAgICAgICAgICBjcm9wQm94RGF0YS5oZWlnaHQgPSBkYXRhLmhlaWdodCAqIHJhdGlvO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5zZXRDcm9wQm94RGF0YShjcm9wQm94RGF0YSk7XG4gICAgICB9XG4gICAgfSxcblxuICAgIGdldENvbnRhaW5lckRhdGE6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiB0aGlzLmJ1aWx0ID8gdGhpcy5jb250YWluZXIgOiB7fTtcbiAgICB9LFxuXG4gICAgZ2V0SW1hZ2VEYXRhOiBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gdGhpcy5yZWFkeSA/IHRoaXMuaW1hZ2UgOiB7fTtcbiAgICB9LFxuXG4gICAgZ2V0Q2FudmFzRGF0YTogZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIGNhbnZhcyA9IHRoaXMuY2FudmFzLFxuICAgICAgICAgIGRhdGE7XG5cbiAgICAgIGlmICh0aGlzLmJ1aWx0KSB7XG4gICAgICAgIGRhdGEgPSB7XG4gICAgICAgICAgbGVmdDogY2FudmFzLmxlZnQsXG4gICAgICAgICAgdG9wOiBjYW52YXMudG9wLFxuICAgICAgICAgIHdpZHRoOiBjYW52YXMud2lkdGgsXG4gICAgICAgICAgaGVpZ2h0OiBjYW52YXMuaGVpZ2h0XG4gICAgICAgIH07XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBkYXRhIHx8IHt9O1xuICAgIH0sXG5cbiAgICBzZXRDYW52YXNEYXRhOiBmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgdmFyIGNhbnZhcyA9IHRoaXMuY2FudmFzLFxuICAgICAgICAgIGFzcGVjdFJhdGlvID0gY2FudmFzLmFzcGVjdFJhdGlvO1xuXG4gICAgICBpZiAodGhpcy5idWlsdCAmJiAhdGhpcy5kaXNhYmxlZCAmJiAkLmlzUGxhaW5PYmplY3QoZGF0YSkpIHtcbiAgICAgICAgaWYgKGlzTnVtYmVyKGRhdGEubGVmdCkpIHtcbiAgICAgICAgICBjYW52YXMubGVmdCA9IGRhdGEubGVmdDtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChpc051bWJlcihkYXRhLnRvcCkpIHtcbiAgICAgICAgICBjYW52YXMudG9wID0gZGF0YS50b3A7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoaXNOdW1iZXIoZGF0YS53aWR0aCkpIHtcbiAgICAgICAgICBjYW52YXMud2lkdGggPSBkYXRhLndpZHRoO1xuICAgICAgICAgIGNhbnZhcy5oZWlnaHQgPSBkYXRhLndpZHRoIC8gYXNwZWN0UmF0aW87XG4gICAgICAgIH0gZWxzZSBpZiAoaXNOdW1iZXIoZGF0YS5oZWlnaHQpKSB7XG4gICAgICAgICAgY2FudmFzLmhlaWdodCA9IGRhdGEuaGVpZ2h0O1xuICAgICAgICAgIGNhbnZhcy53aWR0aCA9IGRhdGEuaGVpZ2h0ICogYXNwZWN0UmF0aW87XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnJlbmRlckNhbnZhcyh0cnVlKTtcbiAgICAgIH1cbiAgICB9LFxuXG4gICAgZ2V0Q3JvcEJveERhdGE6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBjcm9wQm94ID0gdGhpcy5jcm9wQm94LFxuICAgICAgICAgIGRhdGE7XG5cbiAgICAgIGlmICh0aGlzLmJ1aWx0ICYmIHRoaXMuY3JvcHBlZCkge1xuICAgICAgICBkYXRhID0ge1xuICAgICAgICAgIGxlZnQ6IGNyb3BCb3gubGVmdCxcbiAgICAgICAgICB0b3A6IGNyb3BCb3gudG9wLFxuICAgICAgICAgIHdpZHRoOiBjcm9wQm94LndpZHRoLFxuICAgICAgICAgIGhlaWdodDogY3JvcEJveC5oZWlnaHRcbiAgICAgICAgfTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGRhdGEgfHwge307XG4gICAgfSxcblxuICAgIHNldENyb3BCb3hEYXRhOiBmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgdmFyIGNyb3BCb3ggPSB0aGlzLmNyb3BCb3gsXG4gICAgICAgICAgYXNwZWN0UmF0aW8gPSB0aGlzLm9wdGlvbnMuYXNwZWN0UmF0aW87XG5cbiAgICAgIGlmICh0aGlzLmJ1aWx0ICYmIHRoaXMuY3JvcHBlZCAmJiAhdGhpcy5kaXNhYmxlZCAmJiAkLmlzUGxhaW5PYmplY3QoZGF0YSkpIHtcblxuICAgICAgICBpZiAoaXNOdW1iZXIoZGF0YS5sZWZ0KSkge1xuICAgICAgICAgIGNyb3BCb3gubGVmdCA9IGRhdGEubGVmdDtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChpc051bWJlcihkYXRhLnRvcCkpIHtcbiAgICAgICAgICBjcm9wQm94LnRvcCA9IGRhdGEudG9wO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGlzTnVtYmVyKGRhdGEud2lkdGgpKSB7XG4gICAgICAgICAgY3JvcEJveC53aWR0aCA9IGRhdGEud2lkdGg7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoaXNOdW1iZXIoZGF0YS5oZWlnaHQpKSB7XG4gICAgICAgICAgY3JvcEJveC5oZWlnaHQgPSBkYXRhLmhlaWdodDtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChhc3BlY3RSYXRpbykge1xuICAgICAgICAgIGlmIChpc051bWJlcihkYXRhLndpZHRoKSkge1xuICAgICAgICAgICAgY3JvcEJveC5oZWlnaHQgPSBjcm9wQm94LndpZHRoIC8gYXNwZWN0UmF0aW87XG4gICAgICAgICAgfSBlbHNlIGlmIChpc051bWJlcihkYXRhLmhlaWdodCkpIHtcbiAgICAgICAgICAgIGNyb3BCb3gud2lkdGggPSBjcm9wQm94LmhlaWdodCAqIGFzcGVjdFJhdGlvO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMucmVuZGVyQ3JvcEJveCgpO1xuICAgICAgfVxuICAgIH0sXG5cbiAgICBnZXRDcm9wcGVkQ2FudmFzOiBmdW5jdGlvbiAob3B0aW9ucykge1xuICAgICAgdmFyIG9yaWdpbmFsV2lkdGgsXG4gICAgICAgICAgb3JpZ2luYWxIZWlnaHQsXG4gICAgICAgICAgY2FudmFzV2lkdGgsXG4gICAgICAgICAgY2FudmFzSGVpZ2h0LFxuICAgICAgICAgIHNjYWxlZFdpZHRoLFxuICAgICAgICAgIHNjYWxlZEhlaWdodCxcbiAgICAgICAgICBzY2FsZWRSYXRpbyxcbiAgICAgICAgICBhc3BlY3RSYXRpbyxcbiAgICAgICAgICBjYW52YXMsXG4gICAgICAgICAgY29udGV4dCxcbiAgICAgICAgICBkYXRhO1xuXG4gICAgICBpZiAoIXRoaXMuYnVpbHQgfHwgIXRoaXMuY3JvcHBlZCB8fCAhU1VQUE9SVF9DQU5WQVMpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBpZiAoISQuaXNQbGFpbk9iamVjdChvcHRpb25zKSkge1xuICAgICAgICBvcHRpb25zID0ge307XG4gICAgICB9XG5cbiAgICAgIGRhdGEgPSB0aGlzLmdldERhdGEoKTtcbiAgICAgIG9yaWdpbmFsV2lkdGggPSBkYXRhLndpZHRoO1xuICAgICAgb3JpZ2luYWxIZWlnaHQgPSBkYXRhLmhlaWdodDtcbiAgICAgIGFzcGVjdFJhdGlvID0gb3JpZ2luYWxXaWR0aCAvIG9yaWdpbmFsSGVpZ2h0O1xuXG4gICAgICBpZiAoJC5pc1BsYWluT2JqZWN0KG9wdGlvbnMpKSB7XG4gICAgICAgIHNjYWxlZFdpZHRoID0gb3B0aW9ucy53aWR0aDtcbiAgICAgICAgc2NhbGVkSGVpZ2h0ID0gb3B0aW9ucy5oZWlnaHQ7XG5cbiAgICAgICAgaWYgKHNjYWxlZFdpZHRoKSB7XG4gICAgICAgICAgc2NhbGVkSGVpZ2h0ID0gc2NhbGVkV2lkdGggLyBhc3BlY3RSYXRpbztcbiAgICAgICAgICBzY2FsZWRSYXRpbyA9IHNjYWxlZFdpZHRoIC8gb3JpZ2luYWxXaWR0aDtcbiAgICAgICAgfSBlbHNlIGlmIChzY2FsZWRIZWlnaHQpIHtcbiAgICAgICAgICBzY2FsZWRXaWR0aCA9IHNjYWxlZEhlaWdodCAqIGFzcGVjdFJhdGlvO1xuICAgICAgICAgIHNjYWxlZFJhdGlvID0gc2NhbGVkSGVpZ2h0IC8gb3JpZ2luYWxIZWlnaHQ7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgY2FudmFzV2lkdGggPSBzY2FsZWRXaWR0aCB8fCBvcmlnaW5hbFdpZHRoO1xuICAgICAgY2FudmFzSGVpZ2h0ID0gc2NhbGVkSGVpZ2h0IHx8IG9yaWdpbmFsSGVpZ2h0O1xuXG4gICAgICBjYW52YXMgPSAkKCc8Y2FudmFzPicpWzBdO1xuICAgICAgY2FudmFzLndpZHRoID0gY2FudmFzV2lkdGg7XG4gICAgICBjYW52YXMuaGVpZ2h0ID0gY2FudmFzSGVpZ2h0O1xuICAgICAgY29udGV4dCA9IGNhbnZhcy5nZXRDb250ZXh0KCcyZCcpO1xuXG4gICAgICBpZiAob3B0aW9ucy5maWxsQ29sb3IpIHtcbiAgICAgICAgY29udGV4dC5maWxsU3R5bGUgPSBvcHRpb25zLmZpbGxDb2xvcjtcbiAgICAgICAgY29udGV4dC5maWxsUmVjdCgwLCAwLCBjYW52YXNXaWR0aCwgY2FudmFzSGVpZ2h0KTtcbiAgICAgIH1cblxuICAgICAgLy8gaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL0NhbnZhc1JlbmRlcmluZ0NvbnRleHQyRC5kcmF3SW1hZ2VcbiAgICAgIGNvbnRleHQuZHJhd0ltYWdlLmFwcGx5KGNvbnRleHQsIChmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBzb3VyY2UgPSBnZXRTb3VyY2VDYW52YXModGhpcy4kY2xvbmVbMF0sIHRoaXMuaW1hZ2UpLFxuICAgICAgICAgICAgc291cmNlV2lkdGggPSBzb3VyY2Uud2lkdGgsXG4gICAgICAgICAgICBzb3VyY2VIZWlnaHQgPSBzb3VyY2UuaGVpZ2h0LFxuICAgICAgICAgICAgYXJncyA9IFtzb3VyY2VdLFxuICAgICAgICAgICAgc3JjWCA9IGRhdGEueCwgLy8gc291cmNlIGNhbnZhc1xuICAgICAgICAgICAgc3JjWSA9IGRhdGEueSxcbiAgICAgICAgICAgIHNyY1dpZHRoLFxuICAgICAgICAgICAgc3JjSGVpZ2h0LFxuICAgICAgICAgICAgZHN0WCwgLy8gZGVzdGluYXRpb24gY2FudmFzXG4gICAgICAgICAgICBkc3RZLFxuICAgICAgICAgICAgZHN0V2lkdGgsXG4gICAgICAgICAgICBkc3RIZWlnaHQ7XG5cbiAgICAgICAgaWYgKHNyY1ggPD0gLW9yaWdpbmFsV2lkdGggfHwgc3JjWCA+IHNvdXJjZVdpZHRoKSB7XG4gICAgICAgICAgc3JjWCA9IHNyY1dpZHRoID0gZHN0WCA9IGRzdFdpZHRoID0gMDtcbiAgICAgICAgfSBlbHNlIGlmIChzcmNYIDw9IDApIHtcbiAgICAgICAgICBkc3RYID0gLXNyY1g7XG4gICAgICAgICAgc3JjWCA9IDA7XG4gICAgICAgICAgc3JjV2lkdGggPSBkc3RXaWR0aCA9IG1pbihzb3VyY2VXaWR0aCwgb3JpZ2luYWxXaWR0aCArIHNyY1gpO1xuICAgICAgICB9IGVsc2UgaWYgKHNyY1ggPD0gc291cmNlV2lkdGgpIHtcbiAgICAgICAgICBkc3RYID0gMDtcbiAgICAgICAgICBzcmNXaWR0aCA9IGRzdFdpZHRoID0gbWluKG9yaWdpbmFsV2lkdGgsIHNvdXJjZVdpZHRoIC0gc3JjWCk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoc3JjV2lkdGggPD0gMCB8fCBzcmNZIDw9IC1vcmlnaW5hbEhlaWdodCB8fCBzcmNZID4gc291cmNlSGVpZ2h0KSB7XG4gICAgICAgICAgc3JjWSA9IHNyY0hlaWdodCA9IGRzdFkgPSBkc3RIZWlnaHQgPSAwO1xuICAgICAgICB9IGVsc2UgaWYgKHNyY1kgPD0gMCkge1xuICAgICAgICAgIGRzdFkgPSAtc3JjWTtcbiAgICAgICAgICBzcmNZID0gMDtcbiAgICAgICAgICBzcmNIZWlnaHQgPSBkc3RIZWlnaHQgPSBtaW4oc291cmNlSGVpZ2h0LCBvcmlnaW5hbEhlaWdodCArIHNyY1kpO1xuICAgICAgICB9IGVsc2UgaWYgKHNyY1kgPD0gc291cmNlSGVpZ2h0KSB7XG4gICAgICAgICAgZHN0WSA9IDA7XG4gICAgICAgICAgc3JjSGVpZ2h0ID0gZHN0SGVpZ2h0ID0gbWluKG9yaWdpbmFsSGVpZ2h0LCBzb3VyY2VIZWlnaHQgLSBzcmNZKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGFyZ3MucHVzaChzcmNYLCBzcmNZLCBzcmNXaWR0aCwgc3JjSGVpZ2h0KTtcblxuICAgICAgICAvLyBTY2FsZSBkZXN0aW5hdGlvbiBzaXplc1xuICAgICAgICBpZiAoc2NhbGVkUmF0aW8pIHtcbiAgICAgICAgICBkc3RYICo9IHNjYWxlZFJhdGlvO1xuICAgICAgICAgIGRzdFkgKj0gc2NhbGVkUmF0aW87XG4gICAgICAgICAgZHN0V2lkdGggKj0gc2NhbGVkUmF0aW87XG4gICAgICAgICAgZHN0SGVpZ2h0ICo9IHNjYWxlZFJhdGlvO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gQXZvaWQgXCJJbmRleFNpemVFcnJvclwiIGluIElFIGFuZCBGaXJlZm94XG4gICAgICAgIGlmIChkc3RXaWR0aCA+IDAgJiYgZHN0SGVpZ2h0ID4gMCkge1xuICAgICAgICAgIGFyZ3MucHVzaChkc3RYLCBkc3RZLCBkc3RXaWR0aCwgZHN0SGVpZ2h0KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBhcmdzO1xuICAgICAgfSkuY2FsbCh0aGlzKSk7XG5cbiAgICAgIHJldHVybiBjYW52YXM7XG4gICAgfSxcblxuICAgIHNldEFzcGVjdFJhdGlvOiBmdW5jdGlvbiAoYXNwZWN0UmF0aW8pIHtcbiAgICAgIHZhciBvcHRpb25zID0gdGhpcy5vcHRpb25zO1xuXG4gICAgICBpZiAoIXRoaXMuZGlzYWJsZWQgJiYgIWlzVW5kZWZpbmVkKGFzcGVjdFJhdGlvKSkge1xuICAgICAgICBvcHRpb25zLmFzcGVjdFJhdGlvID0gbnVtKGFzcGVjdFJhdGlvKSB8fCBOYU47IC8vIDAgLT4gTmFOXG5cbiAgICAgICAgaWYgKHRoaXMuYnVpbHQpIHtcbiAgICAgICAgICB0aGlzLmluaXRDcm9wQm94KCk7XG5cbiAgICAgICAgICBpZiAodGhpcy5jcm9wcGVkKSB7XG4gICAgICAgICAgICB0aGlzLnJlbmRlckNyb3BCb3goKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LFxuXG4gICAgc2V0RHJhZ01vZGU6IGZ1bmN0aW9uIChtb2RlKSB7XG4gICAgICB2YXIgb3B0aW9ucyA9IHRoaXMub3B0aW9ucyxcbiAgICAgICAgICBjcm9wcGFibGUsXG4gICAgICAgICAgbW92YWJsZTtcblxuICAgICAgaWYgKHRoaXMucmVhZHkgJiYgIXRoaXMuZGlzYWJsZWQpIHtcbiAgICAgICAgY3JvcHBhYmxlID0gb3B0aW9ucy5kcmFnQ3JvcCAmJiBtb2RlID09PSAnY3JvcCc7XG4gICAgICAgIG1vdmFibGUgPSBvcHRpb25zLm1vdmFibGUgJiYgbW9kZSA9PT0gJ21vdmUnO1xuICAgICAgICBtb2RlID0gKGNyb3BwYWJsZSB8fCBtb3ZhYmxlKSA/IG1vZGUgOiAnbm9uZSc7XG5cbiAgICAgICAgdGhpcy4kZHJhZ0JveC5kYXRhKCdkcmFnJywgbW9kZSkudG9nZ2xlQ2xhc3MoQ0xBU1NfQ1JPUCwgY3JvcHBhYmxlKS50b2dnbGVDbGFzcyhDTEFTU19NT1ZFLCBtb3ZhYmxlKTtcblxuICAgICAgICBpZiAoIW9wdGlvbnMuY3JvcEJveE1vdmFibGUpIHtcbiAgICAgICAgICAvLyBTeW5jIGRyYWcgbW9kZSB0byBjcm9wIGJveCB3aGVuIGl0IGlzIG5vdCBtb3ZhYmxlKCMzMDApXG4gICAgICAgICAgdGhpcy4kZmFjZS5kYXRhKCdkcmFnJywgbW9kZSkudG9nZ2xlQ2xhc3MoQ0xBU1NfQ1JPUCwgY3JvcHBhYmxlKS50b2dnbGVDbGFzcyhDTEFTU19NT1ZFLCBtb3ZhYmxlKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfSk7XG5cbiAgcHJvdG90eXBlLmNoYW5nZSA9IGZ1bmN0aW9uIChzaGlmdEtleSkge1xuICAgIHZhciBkcmFnVHlwZSA9IHRoaXMuZHJhZ1R5cGUsXG4gICAgICAgIG9wdGlvbnMgPSB0aGlzLm9wdGlvbnMsXG4gICAgICAgIGNhbnZhcyA9IHRoaXMuY2FudmFzLFxuICAgICAgICBjb250YWluZXIgPSB0aGlzLmNvbnRhaW5lcixcbiAgICAgICAgY3JvcEJveCA9IHRoaXMuY3JvcEJveCxcbiAgICAgICAgd2lkdGggPSBjcm9wQm94LndpZHRoLFxuICAgICAgICBoZWlnaHQgPSBjcm9wQm94LmhlaWdodCxcbiAgICAgICAgbGVmdCA9IGNyb3BCb3gubGVmdCxcbiAgICAgICAgdG9wID0gY3JvcEJveC50b3AsXG4gICAgICAgIHJpZ2h0ID0gbGVmdCArIHdpZHRoLFxuICAgICAgICBib3R0b20gPSB0b3AgKyBoZWlnaHQsXG4gICAgICAgIG1pbkxlZnQgPSAwLFxuICAgICAgICBtaW5Ub3AgPSAwLFxuICAgICAgICBtYXhXaWR0aCA9IGNvbnRhaW5lci53aWR0aCxcbiAgICAgICAgbWF4SGVpZ2h0ID0gY29udGFpbmVyLmhlaWdodCxcbiAgICAgICAgcmVuZGVyYWJsZSA9IHRydWUsXG4gICAgICAgIGFzcGVjdFJhdGlvID0gb3B0aW9ucy5hc3BlY3RSYXRpbyxcbiAgICAgICAgcmFuZ2UgPSB7XG4gICAgICAgICAgeDogdGhpcy5lbmRYIC0gdGhpcy5zdGFydFgsXG4gICAgICAgICAgeTogdGhpcy5lbmRZIC0gdGhpcy5zdGFydFlcbiAgICAgICAgfSxcbiAgICAgICAgb2Zmc2V0O1xuXG4gICAgLy8gTG9ja2luZyBhc3BlY3QgcmF0aW8gaW4gXCJmcmVlIG1vZGVcIiBieSBob2xkaW5nIHNoaWZ0IGtleSAoIzI1OSlcbiAgICBpZiAoIWFzcGVjdFJhdGlvICYmIHNoaWZ0S2V5KSB7XG4gICAgICBhc3BlY3RSYXRpbyA9IHdpZHRoICYmIGhlaWdodCA/IHdpZHRoIC8gaGVpZ2h0IDogMTtcbiAgICB9XG5cbiAgICBpZiAob3B0aW9ucy5zdHJpY3QpIHtcbiAgICAgIG1pbkxlZnQgPSBjcm9wQm94Lm1pbkxlZnQ7XG4gICAgICBtaW5Ub3AgPSBjcm9wQm94Lm1pblRvcDtcbiAgICAgIG1heFdpZHRoID0gbWluTGVmdCArIG1pbihjb250YWluZXIud2lkdGgsIGNhbnZhcy53aWR0aCk7XG4gICAgICBtYXhIZWlnaHQgPSBtaW5Ub3AgKyBtaW4oY29udGFpbmVyLmhlaWdodCwgY2FudmFzLmhlaWdodCk7XG4gICAgfVxuXG4gICAgaWYgKGFzcGVjdFJhdGlvKSB7XG4gICAgICByYW5nZS5YID0gcmFuZ2UueSAqIGFzcGVjdFJhdGlvO1xuICAgICAgcmFuZ2UuWSA9IHJhbmdlLnggLyBhc3BlY3RSYXRpbztcbiAgICB9XG5cbiAgICBzd2l0Y2ggKGRyYWdUeXBlKSB7XG4gICAgICAvLyBNb3ZlIGNyb3BCb3hcbiAgICAgIGNhc2UgJ2FsbCc6XG4gICAgICAgIGxlZnQgKz0gcmFuZ2UueDtcbiAgICAgICAgdG9wICs9IHJhbmdlLnk7XG4gICAgICAgIGJyZWFrO1xuXG4gICAgICAvLyBSZXNpemUgY3JvcEJveFxuICAgICAgY2FzZSAnZSc6XG4gICAgICAgIGlmIChyYW5nZS54ID49IDAgJiYgKHJpZ2h0ID49IG1heFdpZHRoIHx8IGFzcGVjdFJhdGlvICYmICh0b3AgPD0gbWluVG9wIHx8IGJvdHRvbSA+PSBtYXhIZWlnaHQpKSkge1xuICAgICAgICAgIHJlbmRlcmFibGUgPSBmYWxzZTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuXG4gICAgICAgIHdpZHRoICs9IHJhbmdlLng7XG5cbiAgICAgICAgaWYgKGFzcGVjdFJhdGlvKSB7XG4gICAgICAgICAgaGVpZ2h0ID0gd2lkdGggLyBhc3BlY3RSYXRpbztcbiAgICAgICAgICB0b3AgLT0gcmFuZ2UuWSAvIDI7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAod2lkdGggPCAwKSB7XG4gICAgICAgICAgZHJhZ1R5cGUgPSAndyc7XG4gICAgICAgICAgd2lkdGggPSAwO1xuICAgICAgICB9XG5cbiAgICAgICAgYnJlYWs7XG5cbiAgICAgIGNhc2UgJ24nOlxuICAgICAgICBpZiAocmFuZ2UueSA8PSAwICYmICh0b3AgPD0gbWluVG9wIHx8IGFzcGVjdFJhdGlvICYmIChsZWZ0IDw9IG1pbkxlZnQgfHwgcmlnaHQgPj0gbWF4V2lkdGgpKSkge1xuICAgICAgICAgIHJlbmRlcmFibGUgPSBmYWxzZTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuXG4gICAgICAgIGhlaWdodCAtPSByYW5nZS55O1xuICAgICAgICB0b3AgKz0gcmFuZ2UueTtcblxuICAgICAgICBpZiAoYXNwZWN0UmF0aW8pIHtcbiAgICAgICAgICB3aWR0aCA9IGhlaWdodCAqIGFzcGVjdFJhdGlvO1xuICAgICAgICAgIGxlZnQgKz0gcmFuZ2UuWCAvIDI7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoaGVpZ2h0IDwgMCkge1xuICAgICAgICAgIGRyYWdUeXBlID0gJ3MnO1xuICAgICAgICAgIGhlaWdodCA9IDA7XG4gICAgICAgIH1cblxuICAgICAgICBicmVhaztcblxuICAgICAgY2FzZSAndyc6XG4gICAgICAgIGlmIChyYW5nZS54IDw9IDAgJiYgKGxlZnQgPD0gbWluTGVmdCB8fCBhc3BlY3RSYXRpbyAmJiAodG9wIDw9IG1pblRvcCB8fCBib3R0b20gPj0gbWF4SGVpZ2h0KSkpIHtcbiAgICAgICAgICByZW5kZXJhYmxlID0gZmFsc2U7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cblxuICAgICAgICB3aWR0aCAtPSByYW5nZS54O1xuICAgICAgICBsZWZ0ICs9IHJhbmdlLng7XG5cbiAgICAgICAgaWYgKGFzcGVjdFJhdGlvKSB7XG4gICAgICAgICAgaGVpZ2h0ID0gd2lkdGggLyBhc3BlY3RSYXRpbztcbiAgICAgICAgICB0b3AgKz0gcmFuZ2UuWSAvIDI7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAod2lkdGggPCAwKSB7XG4gICAgICAgICAgZHJhZ1R5cGUgPSAnZSc7XG4gICAgICAgICAgd2lkdGggPSAwO1xuICAgICAgICB9XG5cbiAgICAgICAgYnJlYWs7XG5cbiAgICAgIGNhc2UgJ3MnOlxuICAgICAgICBpZiAocmFuZ2UueSA+PSAwICYmIChib3R0b20gPj0gbWF4SGVpZ2h0IHx8IGFzcGVjdFJhdGlvICYmIChsZWZ0IDw9IG1pbkxlZnQgfHwgcmlnaHQgPj0gbWF4V2lkdGgpKSkge1xuICAgICAgICAgIHJlbmRlcmFibGUgPSBmYWxzZTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuXG4gICAgICAgIGhlaWdodCArPSByYW5nZS55O1xuXG4gICAgICAgIGlmIChhc3BlY3RSYXRpbykge1xuICAgICAgICAgIHdpZHRoID0gaGVpZ2h0ICogYXNwZWN0UmF0aW87XG4gICAgICAgICAgbGVmdCAtPSByYW5nZS5YIC8gMjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChoZWlnaHQgPCAwKSB7XG4gICAgICAgICAgZHJhZ1R5cGUgPSAnbic7XG4gICAgICAgICAgaGVpZ2h0ID0gMDtcbiAgICAgICAgfVxuXG4gICAgICAgIGJyZWFrO1xuXG4gICAgICBjYXNlICduZSc6XG4gICAgICAgIGlmIChhc3BlY3RSYXRpbykge1xuICAgICAgICAgIGlmIChyYW5nZS55IDw9IDAgJiYgKHRvcCA8PSBtaW5Ub3AgfHwgcmlnaHQgPj0gbWF4V2lkdGgpKSB7XG4gICAgICAgICAgICByZW5kZXJhYmxlID0gZmFsc2U7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBoZWlnaHQgLT0gcmFuZ2UueTtcbiAgICAgICAgICB0b3AgKz0gcmFuZ2UueTtcbiAgICAgICAgICB3aWR0aCA9IGhlaWdodCAqIGFzcGVjdFJhdGlvO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGlmIChyYW5nZS54ID49IDApIHtcbiAgICAgICAgICAgIGlmIChyaWdodCA8IG1heFdpZHRoKSB7XG4gICAgICAgICAgICAgIHdpZHRoICs9IHJhbmdlLng7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHJhbmdlLnkgPD0gMCAmJiB0b3AgPD0gbWluVG9wKSB7XG4gICAgICAgICAgICAgIHJlbmRlcmFibGUgPSBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgd2lkdGggKz0gcmFuZ2UueDtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAocmFuZ2UueSA8PSAwKSB7XG4gICAgICAgICAgICBpZiAodG9wID4gbWluVG9wKSB7XG4gICAgICAgICAgICAgIGhlaWdodCAtPSByYW5nZS55O1xuICAgICAgICAgICAgICB0b3AgKz0gcmFuZ2UueTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaGVpZ2h0IC09IHJhbmdlLnk7XG4gICAgICAgICAgICB0b3AgKz0gcmFuZ2UueTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAod2lkdGggPCAwICYmIGhlaWdodCA8IDApIHtcbiAgICAgICAgICBkcmFnVHlwZSA9ICdzdyc7XG4gICAgICAgICAgaGVpZ2h0ID0gMDtcbiAgICAgICAgICB3aWR0aCA9IDA7XG4gICAgICAgIH0gZWxzZSBpZiAod2lkdGggPCAwKSB7XG4gICAgICAgICAgZHJhZ1R5cGUgPSAnbncnO1xuICAgICAgICAgIHdpZHRoID0gMDtcbiAgICAgICAgfSBlbHNlIGlmIChoZWlnaHQgPCAwKSB7XG4gICAgICAgICAgZHJhZ1R5cGUgPSAnc2UnO1xuICAgICAgICAgIGhlaWdodCA9IDA7XG4gICAgICAgIH1cblxuICAgICAgICBicmVhaztcblxuICAgICAgY2FzZSAnbncnOlxuICAgICAgICBpZiAoYXNwZWN0UmF0aW8pIHtcbiAgICAgICAgICBpZiAocmFuZ2UueSA8PSAwICYmICh0b3AgPD0gbWluVG9wIHx8IGxlZnQgPD0gbWluTGVmdCkpIHtcbiAgICAgICAgICAgIHJlbmRlcmFibGUgPSBmYWxzZTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGhlaWdodCAtPSByYW5nZS55O1xuICAgICAgICAgIHRvcCArPSByYW5nZS55O1xuICAgICAgICAgIHdpZHRoID0gaGVpZ2h0ICogYXNwZWN0UmF0aW87XG4gICAgICAgICAgbGVmdCArPSByYW5nZS5YO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGlmIChyYW5nZS54IDw9IDApIHtcbiAgICAgICAgICAgIGlmIChsZWZ0ID4gbWluTGVmdCkge1xuICAgICAgICAgICAgICB3aWR0aCAtPSByYW5nZS54O1xuICAgICAgICAgICAgICBsZWZ0ICs9IHJhbmdlLng7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHJhbmdlLnkgPD0gMCAmJiB0b3AgPD0gbWluVG9wKSB7XG4gICAgICAgICAgICAgIHJlbmRlcmFibGUgPSBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgd2lkdGggLT0gcmFuZ2UueDtcbiAgICAgICAgICAgIGxlZnQgKz0gcmFuZ2UueDtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAocmFuZ2UueSA8PSAwKSB7XG4gICAgICAgICAgICBpZiAodG9wID4gbWluVG9wKSB7XG4gICAgICAgICAgICAgIGhlaWdodCAtPSByYW5nZS55O1xuICAgICAgICAgICAgICB0b3AgKz0gcmFuZ2UueTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaGVpZ2h0IC09IHJhbmdlLnk7XG4gICAgICAgICAgICB0b3AgKz0gcmFuZ2UueTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAod2lkdGggPCAwICYmIGhlaWdodCA8IDApIHtcbiAgICAgICAgICBkcmFnVHlwZSA9ICdzZSc7XG4gICAgICAgICAgaGVpZ2h0ID0gMDtcbiAgICAgICAgICB3aWR0aCA9IDA7XG4gICAgICAgIH0gZWxzZSBpZiAod2lkdGggPCAwKSB7XG4gICAgICAgICAgZHJhZ1R5cGUgPSAnbmUnO1xuICAgICAgICAgIHdpZHRoID0gMDtcbiAgICAgICAgfSBlbHNlIGlmIChoZWlnaHQgPCAwKSB7XG4gICAgICAgICAgZHJhZ1R5cGUgPSAnc3cnO1xuICAgICAgICAgIGhlaWdodCA9IDA7XG4gICAgICAgIH1cblxuICAgICAgICBicmVhaztcblxuICAgICAgY2FzZSAnc3cnOlxuICAgICAgICBpZiAoYXNwZWN0UmF0aW8pIHtcbiAgICAgICAgICBpZiAocmFuZ2UueCA8PSAwICYmIChsZWZ0IDw9IG1pbkxlZnQgfHwgYm90dG9tID49IG1heEhlaWdodCkpIHtcbiAgICAgICAgICAgIHJlbmRlcmFibGUgPSBmYWxzZTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIHdpZHRoIC09IHJhbmdlLng7XG4gICAgICAgICAgbGVmdCArPSByYW5nZS54O1xuICAgICAgICAgIGhlaWdodCA9IHdpZHRoIC8gYXNwZWN0UmF0aW87XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgaWYgKHJhbmdlLnggPD0gMCkge1xuICAgICAgICAgICAgaWYgKGxlZnQgPiBtaW5MZWZ0KSB7XG4gICAgICAgICAgICAgIHdpZHRoIC09IHJhbmdlLng7XG4gICAgICAgICAgICAgIGxlZnQgKz0gcmFuZ2UueDtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAocmFuZ2UueSA+PSAwICYmIGJvdHRvbSA+PSBtYXhIZWlnaHQpIHtcbiAgICAgICAgICAgICAgcmVuZGVyYWJsZSA9IGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB3aWR0aCAtPSByYW5nZS54O1xuICAgICAgICAgICAgbGVmdCArPSByYW5nZS54O1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmIChyYW5nZS55ID49IDApIHtcbiAgICAgICAgICAgIGlmIChib3R0b20gPCBtYXhIZWlnaHQpIHtcbiAgICAgICAgICAgICAgaGVpZ2h0ICs9IHJhbmdlLnk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGhlaWdodCArPSByYW5nZS55O1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh3aWR0aCA8IDAgJiYgaGVpZ2h0IDwgMCkge1xuICAgICAgICAgIGRyYWdUeXBlID0gJ25lJztcbiAgICAgICAgICBoZWlnaHQgPSAwO1xuICAgICAgICAgIHdpZHRoID0gMDtcbiAgICAgICAgfSBlbHNlIGlmICh3aWR0aCA8IDApIHtcbiAgICAgICAgICBkcmFnVHlwZSA9ICdzZSc7XG4gICAgICAgICAgd2lkdGggPSAwO1xuICAgICAgICB9IGVsc2UgaWYgKGhlaWdodCA8IDApIHtcbiAgICAgICAgICBkcmFnVHlwZSA9ICdudyc7XG4gICAgICAgICAgaGVpZ2h0ID0gMDtcbiAgICAgICAgfVxuXG4gICAgICAgIGJyZWFrO1xuXG4gICAgICBjYXNlICdzZSc6XG4gICAgICAgIGlmIChhc3BlY3RSYXRpbykge1xuICAgICAgICAgIGlmIChyYW5nZS54ID49IDAgJiYgKHJpZ2h0ID49IG1heFdpZHRoIHx8IGJvdHRvbSA+PSBtYXhIZWlnaHQpKSB7XG4gICAgICAgICAgICByZW5kZXJhYmxlID0gZmFsc2U7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG5cbiAgICAgICAgICB3aWR0aCArPSByYW5nZS54O1xuICAgICAgICAgIGhlaWdodCA9IHdpZHRoIC8gYXNwZWN0UmF0aW87XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgaWYgKHJhbmdlLnggPj0gMCkge1xuICAgICAgICAgICAgaWYgKHJpZ2h0IDwgbWF4V2lkdGgpIHtcbiAgICAgICAgICAgICAgd2lkdGggKz0gcmFuZ2UueDtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAocmFuZ2UueSA+PSAwICYmIGJvdHRvbSA+PSBtYXhIZWlnaHQpIHtcbiAgICAgICAgICAgICAgcmVuZGVyYWJsZSA9IGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB3aWR0aCArPSByYW5nZS54O1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmIChyYW5nZS55ID49IDApIHtcbiAgICAgICAgICAgIGlmIChib3R0b20gPCBtYXhIZWlnaHQpIHtcbiAgICAgICAgICAgICAgaGVpZ2h0ICs9IHJhbmdlLnk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGhlaWdodCArPSByYW5nZS55O1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh3aWR0aCA8IDAgJiYgaGVpZ2h0IDwgMCkge1xuICAgICAgICAgIGRyYWdUeXBlID0gJ253JztcbiAgICAgICAgICBoZWlnaHQgPSAwO1xuICAgICAgICAgIHdpZHRoID0gMDtcbiAgICAgICAgfSBlbHNlIGlmICh3aWR0aCA8IDApIHtcbiAgICAgICAgICBkcmFnVHlwZSA9ICdzdyc7XG4gICAgICAgICAgd2lkdGggPSAwO1xuICAgICAgICB9IGVsc2UgaWYgKGhlaWdodCA8IDApIHtcbiAgICAgICAgICBkcmFnVHlwZSA9ICduZSc7XG4gICAgICAgICAgaGVpZ2h0ID0gMDtcbiAgICAgICAgfVxuXG4gICAgICAgIGJyZWFrO1xuXG4gICAgICAvLyBNb3ZlIGltYWdlXG4gICAgICBjYXNlICdtb3ZlJzpcbiAgICAgICAgY2FudmFzLmxlZnQgKz0gcmFuZ2UueDtcbiAgICAgICAgY2FudmFzLnRvcCArPSByYW5nZS55O1xuICAgICAgICB0aGlzLnJlbmRlckNhbnZhcyh0cnVlKTtcbiAgICAgICAgcmVuZGVyYWJsZSA9IGZhbHNlO1xuICAgICAgICBicmVhaztcblxuICAgICAgLy8gU2NhbGUgaW1hZ2VcbiAgICAgIGNhc2UgJ3pvb20nOlxuICAgICAgICB0aGlzLnpvb20oZnVuY3Rpb24gKHgxLCB5MSwgeDIsIHkyKSB7XG4gICAgICAgICAgdmFyIHoxID0gc3FydCh4MSAqIHgxICsgeTEgKiB5MSksXG4gICAgICAgICAgICAgIHoyID0gc3FydCh4MiAqIHgyICsgeTIgKiB5Mik7XG5cbiAgICAgICAgICByZXR1cm4gKHoyIC0gejEpIC8gejE7XG4gICAgICAgIH0oXG4gICAgICAgICAgYWJzKHRoaXMuc3RhcnRYIC0gdGhpcy5zdGFydFgyKSxcbiAgICAgICAgICBhYnModGhpcy5zdGFydFkgLSB0aGlzLnN0YXJ0WTIpLFxuICAgICAgICAgIGFicyh0aGlzLmVuZFggLSB0aGlzLmVuZFgyKSxcbiAgICAgICAgICBhYnModGhpcy5lbmRZIC0gdGhpcy5lbmRZMilcbiAgICAgICAgKSk7XG5cbiAgICAgICAgdGhpcy5zdGFydFgyID0gdGhpcy5lbmRYMjtcbiAgICAgICAgdGhpcy5zdGFydFkyID0gdGhpcy5lbmRZMjtcbiAgICAgICAgcmVuZGVyYWJsZSA9IGZhbHNlO1xuICAgICAgICBicmVhaztcblxuICAgICAgLy8gQ3JvcCBpbWFnZVxuICAgICAgY2FzZSAnY3JvcCc6XG4gICAgICAgIGlmIChyYW5nZS54ICYmIHJhbmdlLnkpIHtcbiAgICAgICAgICBvZmZzZXQgPSB0aGlzLiRjcm9wcGVyLm9mZnNldCgpO1xuICAgICAgICAgIGxlZnQgPSB0aGlzLnN0YXJ0WCAtIG9mZnNldC5sZWZ0O1xuICAgICAgICAgIHRvcCA9IHRoaXMuc3RhcnRZIC0gb2Zmc2V0LnRvcDtcbiAgICAgICAgICB3aWR0aCA9IGNyb3BCb3gubWluV2lkdGg7XG4gICAgICAgICAgaGVpZ2h0ID0gY3JvcEJveC5taW5IZWlnaHQ7XG5cbiAgICAgICAgICBpZiAocmFuZ2UueCA+IDApIHtcbiAgICAgICAgICAgIGlmIChyYW5nZS55ID4gMCkge1xuICAgICAgICAgICAgICBkcmFnVHlwZSA9ICdzZSc7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBkcmFnVHlwZSA9ICduZSc7XG4gICAgICAgICAgICAgIHRvcCAtPSBoZWlnaHQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGlmIChyYW5nZS55ID4gMCkge1xuICAgICAgICAgICAgICBkcmFnVHlwZSA9ICdzdyc7XG4gICAgICAgICAgICAgIGxlZnQgLT0gd2lkdGg7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBkcmFnVHlwZSA9ICdudyc7XG4gICAgICAgICAgICAgIGxlZnQgLT0gd2lkdGg7XG4gICAgICAgICAgICAgIHRvcCAtPSBoZWlnaHQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgLy8gU2hvdyB0aGUgY3JvcEJveCBpZiBpcyBoaWRkZW5cbiAgICAgICAgICBpZiAoIXRoaXMuY3JvcHBlZCkge1xuICAgICAgICAgICAgdGhpcy5jcm9wcGVkID0gdHJ1ZTtcbiAgICAgICAgICAgIHRoaXMuJGNyb3BCb3gucmVtb3ZlQ2xhc3MoQ0xBU1NfSElEREVOKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBicmVhaztcblxuICAgICAgLy8gTm8gZGVmYXVsdFxuICAgIH1cblxuICAgIGlmIChyZW5kZXJhYmxlKSB7XG4gICAgICBjcm9wQm94LndpZHRoID0gd2lkdGg7XG4gICAgICBjcm9wQm94LmhlaWdodCA9IGhlaWdodDtcbiAgICAgIGNyb3BCb3gubGVmdCA9IGxlZnQ7XG4gICAgICBjcm9wQm94LnRvcCA9IHRvcDtcbiAgICAgIHRoaXMuZHJhZ1R5cGUgPSBkcmFnVHlwZTtcblxuICAgICAgdGhpcy5yZW5kZXJDcm9wQm94KCk7XG4gICAgfVxuXG4gICAgLy8gT3ZlcnJpZGVcbiAgICB0aGlzLnN0YXJ0WCA9IHRoaXMuZW5kWDtcbiAgICB0aGlzLnN0YXJ0WSA9IHRoaXMuZW5kWTtcbiAgfTtcblxuICAkLmV4dGVuZChDcm9wcGVyLnByb3RvdHlwZSwgcHJvdG90eXBlKTtcblxuICBDcm9wcGVyLkRFRkFVTFRTID0ge1xuICAgIC8vIERlZmluZXMgdGhlIGFzcGVjdCByYXRpbyBvZiB0aGUgY3JvcCBib3hcbiAgICAvLyBUeXBlOiBOdW1iZXJcbiAgICBhc3BlY3RSYXRpbzogTmFOLFxuXG4gICAgLy8gRGVmaW5lcyB0aGUgcGVyY2VudGFnZSBvZiBhdXRvbWF0aWMgY3JvcHBpbmcgYXJlYSB3aGVuIGluaXRpYWxpemVzXG4gICAgLy8gVHlwZTogTnVtYmVyIChNdXN0IGxhcmdlIHRoYW4gMCBhbmQgbGVzcyB0aGFuIDEpXG4gICAgYXV0b0Nyb3BBcmVhOiAwLjgsIC8vIDgwJVxuXG4gICAgLy8gT3V0cHV0cyB0aGUgY3JvcHBpbmcgcmVzdWx0cy5cbiAgICAvLyBUeXBlOiBGdW5jdGlvblxuICAgIGNyb3A6IG51bGwsXG5cbiAgICAvLyBQcmV2aW91cy9sYXRlc3QgY3JvcCBkYXRhXG4gICAgLy8gVHlwZTogT2JqZWN0XG4gICAgZGF0YTogbnVsbCxcblxuICAgIC8vIEFkZCBleHRyYSBjb250YWluZXJzIGZvciBwcmV2aWV3aW5nXG4gICAgLy8gVHlwZTogU3RyaW5nIChqUXVlcnkgc2VsZWN0b3IpXG4gICAgcHJldmlldzogJycsXG5cbiAgICAvLyBUb2dnbGVzXG4gICAgc3RyaWN0OiB0cnVlLCAvLyBzdHJpY3QgbW9kZSwgdGhlIGltYWdlIGNhbm5vdCB6b29tIG91dCBsZXNzIHRoYW4gdGhlIGNvbnRhaW5lclxuICAgIHJlc3BvbnNpdmU6IHRydWUsIC8vIFJlYnVpbGQgd2hlbiByZXNpemUgdGhlIHdpbmRvd1xuICAgIGNoZWNrSW1hZ2VPcmlnaW46IHRydWUsIC8vIENoZWNrIGlmIHRoZSB0YXJnZXQgaW1hZ2UgaXMgY3Jvc3Mgb3JpZ2luXG5cbiAgICBtb2RhbDogdHJ1ZSwgLy8gU2hvdyB0aGUgYmxhY2sgbW9kYWxcbiAgICBndWlkZXM6IHRydWUsIC8vIFNob3cgdGhlIGRhc2hlZCBsaW5lcyBmb3IgZ3VpZGluZ1xuICAgIGhpZ2hsaWdodDogdHJ1ZSwgLy8gU2hvdyB0aGUgd2hpdGUgbW9kYWwgdG8gaGlnaGxpZ2h0IHRoZSBjcm9wIGJveFxuICAgIGJhY2tncm91bmQ6IHRydWUsIC8vIFNob3cgdGhlIGdyaWQgYmFja2dyb3VuZFxuXG4gICAgYXV0b0Nyb3A6IHRydWUsIC8vIEVuYWJsZSB0byBjcm9wIHRoZSBpbWFnZSBhdXRvbWF0aWNhbGx5IHdoZW4gaW5pdGlhbGl6ZVxuICAgIGRyYWdDcm9wOiB0cnVlLCAvLyBFbmFibGUgdG8gY3JlYXRlIG5ldyBjcm9wIGJveCBieSBkcmFnZ2luZyBvdmVyIHRoZSBpbWFnZVxuICAgIG1vdmFibGU6IHRydWUsIC8vIEVuYWJsZSB0byBtb3ZlIHRoZSBpbWFnZVxuICAgIHJvdGF0YWJsZTogdHJ1ZSwgLy8gRW5hYmxlIHRvIHJvdGF0ZSB0aGUgaW1hZ2VcbiAgICB6b29tYWJsZTogdHJ1ZSwgLy8gRW5hYmxlIHRvIHpvb20gdGhlIGltYWdlXG4gICAgdG91Y2hEcmFnWm9vbTogdHJ1ZSwgLy8gRW5hYmxlIHRvIHpvb20gdGhlIGltYWdlIGJ5IHdoZWVsaW5nIG1vdXNlXG4gICAgbW91c2VXaGVlbFpvb206IHRydWUsIC8vIEVuYWJsZSB0byB6b29tIHRoZSBpbWFnZSBieSBkcmFnZ2luZyB0b3VjaFxuICAgIGNyb3BCb3hNb3ZhYmxlOiB0cnVlLCAvLyBFbmFibGUgdG8gbW92ZSB0aGUgY3JvcCBib3hcbiAgICBjcm9wQm94UmVzaXphYmxlOiB0cnVlLCAvLyBFbmFibGUgdG8gcmVzaXplIHRoZSBjcm9wIGJveFxuICAgIGRvdWJsZUNsaWNrVG9nZ2xlOiB0cnVlLCAvLyBUb2dnbGUgZHJhZyBtb2RlIGJldHdlZW4gXCJjcm9wXCIgYW5kIFwibW92ZVwiIHdoZW4gZG91YmxlIGNsaWNrIG9uIHRoZSBjcm9wcGVyXG5cbiAgICAvLyBEaW1lbnNpb25zXG4gICAgbWluQ2FudmFzV2lkdGg6IDAsXG4gICAgbWluQ2FudmFzSGVpZ2h0OiAwLFxuICAgIG1pbkNyb3BCb3hXaWR0aDogMCxcbiAgICBtaW5Dcm9wQm94SGVpZ2h0OiAwLFxuICAgIG1pbkNvbnRhaW5lcldpZHRoOiAyMDAsXG4gICAgbWluQ29udGFpbmVySGVpZ2h0OiAxMDAsXG5cbiAgICAvLyBFdmVudHNcbiAgICBidWlsZDogbnVsbCwgLy8gRnVuY3Rpb25cbiAgICBidWlsdDogbnVsbCwgLy8gRnVuY3Rpb25cbiAgICBkcmFnc3RhcnQ6IG51bGwsIC8vIEZ1bmN0aW9uXG4gICAgZHJhZ21vdmU6IG51bGwsIC8vIEZ1bmN0aW9uXG4gICAgZHJhZ2VuZDogbnVsbCwgLy8gRnVuY3Rpb25cbiAgICB6b29taW46IG51bGwsIC8vIEZ1bmN0aW9uXG4gICAgem9vbW91dDogbnVsbCwgLy8gRnVuY3Rpb25cbiAgICBjaGFuZ2U6IG51bGwgLy8gRnVuY3Rpb25cbiAgfTtcblxuICBDcm9wcGVyLnNldERlZmF1bHRzID0gZnVuY3Rpb24gKG9wdGlvbnMpIHtcbiAgICAkLmV4dGVuZChDcm9wcGVyLkRFRkFVTFRTLCBvcHRpb25zKTtcbiAgfTtcblxuICAvLyBVc2UgdGhlIHN0cmluZyBjb21wcmVzc29yOiBTdHJtaW4gKGh0dHBzOi8vZ2l0aHViLmNvbS9mZW5neXVhbmNoZW4vc3RybWluKVxuICBDcm9wcGVyLlRFTVBMQVRFID0gKGZ1bmN0aW9uIChzb3VyY2UsIHdvcmRzKSB7XG4gICAgd29yZHMgPSB3b3Jkcy5zcGxpdCgnLCcpO1xuICAgIHJldHVybiBzb3VyY2UucmVwbGFjZSgvXFxkKy9nLCBmdW5jdGlvbiAoaSkge1xuICAgICAgcmV0dXJuIHdvcmRzW2ldO1xuICAgIH0pO1xuICB9KSgnPDAgNj1cIjUtY29udGFpbmVyXCI+PDAgNj1cIjUtY2FudmFzXCI+PC8wPjwwIDY9XCI1LTItOVwiPjwvMD48MCA2PVwiNS1jcm9wLTlcIj48MSA2PVwiNS12aWV3LTlcIj48LzE+PDEgNj1cIjUtOCA4LWhcIj48LzE+PDEgNj1cIjUtOCA4LXZcIj48LzE+PDEgNj1cIjUtZmFjZVwiPjwvMT48MSA2PVwiNS03IDctZVwiIDMtMj1cImVcIj48LzE+PDEgNj1cIjUtNyA3LW5cIiAzLTI9XCJuXCI+PC8xPjwxIDY9XCI1LTcgNy13XCIgMy0yPVwid1wiPjwvMT48MSA2PVwiNS03IDctc1wiIDMtMj1cInNcIj48LzE+PDEgNj1cIjUtNCA0LWVcIiAzLTI9XCJlXCI+PC8xPjwxIDY9XCI1LTQgNC1uXCIgMy0yPVwiblwiPjwvMT48MSA2PVwiNS00IDQtd1wiIDMtMj1cIndcIj48LzE+PDEgNj1cIjUtNCA0LXNcIiAzLTI9XCJzXCI+PC8xPjwxIDY9XCI1LTQgNC1uZVwiIDMtMj1cIm5lXCI+PC8xPjwxIDY9XCI1LTQgNC1ud1wiIDMtMj1cIm53XCI+PC8xPjwxIDY9XCI1LTQgNC1zd1wiIDMtMj1cInN3XCI+PC8xPjwxIDY9XCI1LTQgNC1zZVwiIDMtMj1cInNlXCI+PC8xPjwvMD48LzA+JywgJ2RpdixzcGFuLGRyYWcsZGF0YSxwb2ludCxjcm9wcGVyLGNsYXNzLGxpbmUsZGFzaGVkLGJveCcpO1xuXG4gIC8qIFRlbXBsYXRlIHNvdXJjZTpcbiAgPGRpdiBjbGFzcz1cImNyb3BwZXItY29udGFpbmVyXCI+XG4gICAgPGRpdiBjbGFzcz1cImNyb3BwZXItY2FudmFzXCI+PC9kaXY+XG4gICAgPGRpdiBjbGFzcz1cImNyb3BwZXItZHJhZy1ib3hcIj48L2Rpdj5cbiAgICA8ZGl2IGNsYXNzPVwiY3JvcHBlci1jcm9wLWJveFwiPlxuICAgICAgPHNwYW4gY2xhc3M9XCJjcm9wcGVyLXZpZXctYm94XCI+PC9zcGFuPlxuICAgICAgPHNwYW4gY2xhc3M9XCJjcm9wcGVyLWRhc2hlZCBkYXNoZWQtaFwiPjwvc3Bhbj5cbiAgICAgIDxzcGFuIGNsYXNzPVwiY3JvcHBlci1kYXNoZWQgZGFzaGVkLXZcIj48L3NwYW4+XG4gICAgICA8c3BhbiBjbGFzcz1cImNyb3BwZXItZmFjZVwiPjwvc3Bhbj5cbiAgICAgIDxzcGFuIGNsYXNzPVwiY3JvcHBlci1saW5lIGxpbmUtZVwiIGRhdGEtZHJhZz1cImVcIj48L3NwYW4+XG4gICAgICA8c3BhbiBjbGFzcz1cImNyb3BwZXItbGluZSBsaW5lLW5cIiBkYXRhLWRyYWc9XCJuXCI+PC9zcGFuPlxuICAgICAgPHNwYW4gY2xhc3M9XCJjcm9wcGVyLWxpbmUgbGluZS13XCIgZGF0YS1kcmFnPVwid1wiPjwvc3Bhbj5cbiAgICAgIDxzcGFuIGNsYXNzPVwiY3JvcHBlci1saW5lIGxpbmUtc1wiIGRhdGEtZHJhZz1cInNcIj48L3NwYW4+XG4gICAgICA8c3BhbiBjbGFzcz1cImNyb3BwZXItcG9pbnQgcG9pbnQtZVwiIGRhdGEtZHJhZz1cImVcIj48L3NwYW4+XG4gICAgICA8c3BhbiBjbGFzcz1cImNyb3BwZXItcG9pbnQgcG9pbnQtblwiIGRhdGEtZHJhZz1cIm5cIj48L3NwYW4+XG4gICAgICA8c3BhbiBjbGFzcz1cImNyb3BwZXItcG9pbnQgcG9pbnQtd1wiIGRhdGEtZHJhZz1cIndcIj48L3NwYW4+XG4gICAgICA8c3BhbiBjbGFzcz1cImNyb3BwZXItcG9pbnQgcG9pbnQtc1wiIGRhdGEtZHJhZz1cInNcIj48L3NwYW4+XG4gICAgICA8c3BhbiBjbGFzcz1cImNyb3BwZXItcG9pbnQgcG9pbnQtbmVcIiBkYXRhLWRyYWc9XCJuZVwiPjwvc3Bhbj5cbiAgICAgIDxzcGFuIGNsYXNzPVwiY3JvcHBlci1wb2ludCBwb2ludC1ud1wiIGRhdGEtZHJhZz1cIm53XCI+PC9zcGFuPlxuICAgICAgPHNwYW4gY2xhc3M9XCJjcm9wcGVyLXBvaW50IHBvaW50LXN3XCIgZGF0YS1kcmFnPVwic3dcIj48L3NwYW4+XG4gICAgICA8c3BhbiBjbGFzcz1cImNyb3BwZXItcG9pbnQgcG9pbnQtc2VcIiBkYXRhLWRyYWc9XCJzZVwiPjwvc3Bhbj5cbiAgICA8L2Rpdj5cbiAgPC9kaXY+XG4gICovXG5cbiAgLy8gU2F2ZSB0aGUgb3RoZXIgY3JvcHBlclxuICBDcm9wcGVyLm90aGVyID0gJC5mbi5jcm9wcGVyO1xuXG4gIC8vIFJlZ2lzdGVyIGFzIGpRdWVyeSBwbHVnaW5cbiAgJC5mbi5jcm9wcGVyID0gZnVuY3Rpb24gKG9wdGlvbnMpIHtcbiAgICB2YXIgYXJncyA9IHRvQXJyYXkoYXJndW1lbnRzLCAxKSxcbiAgICAgICAgcmVzdWx0O1xuXG4gICAgdGhpcy5lYWNoKGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciAkdGhpcyA9ICQodGhpcyksXG4gICAgICAgICAgZGF0YSA9ICR0aGlzLmRhdGEoJ2Nyb3BwZXInKSxcbiAgICAgICAgICBmbjtcblxuICAgICAgaWYgKCFkYXRhKSB7XG4gICAgICAgICR0aGlzLmRhdGEoJ2Nyb3BwZXInLCAoZGF0YSA9IG5ldyBDcm9wcGVyKHRoaXMsIG9wdGlvbnMpKSk7XG4gICAgICB9XG5cbiAgICAgIGlmICh0eXBlb2Ygb3B0aW9ucyA9PT0gJ3N0cmluZycgJiYgJC5pc0Z1bmN0aW9uKChmbiA9IGRhdGFbb3B0aW9uc10pKSkge1xuICAgICAgICByZXN1bHQgPSBmbi5hcHBseShkYXRhLCBhcmdzKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIHJldHVybiBpc1VuZGVmaW5lZChyZXN1bHQpID8gdGhpcyA6IHJlc3VsdDtcbiAgfTtcblxuICAkLmZuLmNyb3BwZXIuQ29uc3RydWN0b3IgPSBDcm9wcGVyO1xuICAkLmZuLmNyb3BwZXIuc2V0RGVmYXVsdHMgPSBDcm9wcGVyLnNldERlZmF1bHRzO1xuXG4gIC8vIE5vIGNvbmZsaWN0XG4gICQuZm4uY3JvcHBlci5ub0NvbmZsaWN0ID0gZnVuY3Rpb24gKCkge1xuICAgICQuZm4uY3JvcHBlciA9IENyb3BwZXIub3RoZXI7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH07XG5cbn0pO1xuKGZ1bmN0aW9uKCkge1xuJ3VzZSBzdHJpY3QnO1xuXG5hbmd1bGFyLm1vZHVsZSgnbmdDcm9wcGVyJywgWyduZyddKVxuLmRpcmVjdGl2ZSgnbmdDcm9wcGVyJywgWyckcScsICckcGFyc2UnLCBmdW5jdGlvbigkcSwgJHBhcnNlKSB7XG4gIHJldHVybiB7XG4gICAgcmVzdHJpY3Q6ICdBJyxcbiAgICBzY29wZToge1xuICAgICAgb3B0aW9uczogJz1uZ0Nyb3BwZXJPcHRpb25zJyxcbiAgICAgIHByb3h5OiAnPW5nQ3JvcHBlclByb3h5JywgLy8gT3B0aW9uYWwuXG4gICAgICBzaG93RXZlbnQ6ICc9bmdDcm9wcGVyU2hvdycsXG4gICAgICBoaWRlRXZlbnQ6ICc9bmdDcm9wcGVySGlkZSdcbiAgICB9LFxuICAgIGxpbms6IGZ1bmN0aW9uKHNjb3BlLCBlbGVtZW50LCBhdHRzKSB7XG4gICAgICB2YXIgc2hvd24gPSBmYWxzZTtcblxuICAgICAgc2NvcGUuJG9uKHNjb3BlLnNob3dFdmVudCwgZnVuY3Rpb24oKSB7XG4gICAgICAgIGlmIChzaG93bikgcmV0dXJuO1xuICAgICAgICBzaG93biA9IHRydWU7XG5cbiAgICAgICAgcHJlcHJvY2VzcyhzY29wZS5vcHRpb25zLCBlbGVtZW50WzBdKVxuICAgICAgICAgIC50aGVuKGZ1bmN0aW9uKG9wdGlvbnMpIHtcbiAgICAgICAgICAgIHNldFByb3h5KGVsZW1lbnQpO1xuICAgICAgICAgICAgZWxlbWVudC5jcm9wcGVyKG9wdGlvbnMpO1xuICAgICAgICAgIH0pXG4gICAgICB9KTtcblxuICAgICAgZnVuY3Rpb24gc2V0UHJveHkoZWxlbWVudCkge1xuICAgICAgICBpZiAoIXNjb3BlLnByb3h5KSByZXR1cm47XG4gICAgICAgIHZhciBzZXR0ZXIgPSAkcGFyc2Uoc2NvcGUucHJveHkpLmFzc2lnbjtcbiAgICAgICAgc2V0dGVyKHNjb3BlLiRwYXJlbnQsIGVsZW1lbnQuY3JvcHBlci5iaW5kKGVsZW1lbnQpKTtcbiAgICAgIH1cblxuICAgICAgc2NvcGUuJG9uKHNjb3BlLmhpZGVFdmVudCwgZnVuY3Rpb24oKSB7XG4gICAgICAgIGlmICghc2hvd24pIHJldHVybjtcbiAgICAgICAgc2hvd24gPSBmYWxzZTtcbiAgICAgICAgZWxlbWVudC5jcm9wcGVyKCdkZXN0cm95Jyk7XG4gICAgICB9KTtcblxuICAgICAgc2NvcGUuJHdhdGNoKCdvcHRpb25zLmRpc2FibGVkJywgZnVuY3Rpb24oZGlzYWJsZWQpIHtcbiAgICAgICAgaWYgKCFzaG93bikgcmV0dXJuO1xuICAgICAgICBpZiAoZGlzYWJsZWQpIGVsZW1lbnQuY3JvcHBlcignZGlzYWJsZScpO1xuICAgICAgICBpZiAoIWRpc2FibGVkKSBlbGVtZW50LmNyb3BwZXIoJ2VuYWJsZScpO1xuICAgICAgfSk7XG4gICAgfVxuICB9O1xuXG4gIGZ1bmN0aW9uIHByZXByb2Nlc3Mob3B0aW9ucywgaW1nKSB7XG4gICAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG4gICAgdmFyIHJlc3VsdCA9ICRxLndoZW4ob3B0aW9ucyk7IC8vIE5vIGNoYW5nZXMuXG4gICAgaWYgKG9wdGlvbnMubWF4aW1pemUpIHtcbiAgICAgIHJlc3VsdCA9IG1heGltaXplU2VsZWN0aW9uKG9wdGlvbnMsIGltZyk7XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cblxuICAvKipcbiAgICogQ2hhbmdlIG9wdGlvbnMgdG8gbWFrZSBzZWxlY3Rpb24gbWF4aW11bSBmb3IgdGhlIGltYWdlLlxuICAgKiBmZW5neXVhbmNoZW4vY3JvcHBlciBjYWxjdWxhdGVzIHZhbGlkIHNlbGVjdGlvbidzIGhlaWdodCAmIHdpZHRoXG4gICAqIHdpdGggcmVzcGVjdCB0byBgYXNwZWN0UmF0aW9gLlxuICAgKi9cbiAgZnVuY3Rpb24gbWF4aW1pemVTZWxlY3Rpb24ob3B0aW9ucywgaW1nKSB7XG4gICAgcmV0dXJuIGdldFJlYWxTaXplKGltZykudGhlbihmdW5jdGlvbihzaXplKSB7XG4gICAgICBvcHRpb25zLmRhdGEgPSBzaXplO1xuICAgICAgcmV0dXJuIG9wdGlvbnM7XG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogUmV0dXJucyByZWFsIGltYWdlIHNpemUgKHdpdGhvdXQgY2hhbmdlcyBieSBjc3MsIGF0dHJpYnV0ZXMpLlxuICAgKi9cbiAgZnVuY3Rpb24gZ2V0UmVhbFNpemUoaW1nKSB7XG4gICAgdmFyIGRlZmVyID0gJHEuZGVmZXIoKTtcbiAgICB2YXIgc2l6ZSA9IHtoZWlnaHQ6IG51bGwsIHdpZHRoOiBudWxsfTtcbiAgICB2YXIgaW1hZ2UgPSBuZXcgSW1hZ2UoKTtcblxuICAgIGltYWdlLm9ubG9hZCA9IGZ1bmN0aW9uKCkge1xuICAgICAgZGVmZXIucmVzb2x2ZSh7d2lkdGg6IGltYWdlLndpZHRoLCBoZWlnaHQ6IGltYWdlLmhlaWdodH0pO1xuICAgIH1cblxuICAgIGltYWdlLnNyYyA9IGltZy5zcmM7XG4gICAgcmV0dXJuIGRlZmVyLnByb21pc2U7XG4gIH1cbn1dKVxuLnNlcnZpY2UoJ0Nyb3BwZXInLCBbJyRxJywgZnVuY3Rpb24oJHEpIHtcblxuICB0aGlzLmVuY29kZSA9IGZ1bmN0aW9uKGJsb2IpIHtcbiAgICB2YXIgZGVmZXIgPSAkcS5kZWZlcigpO1xuICAgIHZhciByZWFkZXIgPSBuZXcgRmlsZVJlYWRlcigpO1xuICAgIHJlYWRlci5vbmxvYWQgPSBmdW5jdGlvbihlKSB7XG4gICAgICBkZWZlci5yZXNvbHZlKGUudGFyZ2V0LnJlc3VsdCk7XG4gICAgfTtcbiAgICByZWFkZXIucmVhZEFzRGF0YVVSTChibG9iKTtcbiAgICByZXR1cm4gZGVmZXIucHJvbWlzZTtcbiAgfTtcblxuICB0aGlzLmRlY29kZSA9IGZ1bmN0aW9uKGRhdGFVcmwpIHtcbiAgICB2YXIgbWV0YSA9IGRhdGFVcmwuc3BsaXQoJzsnKVswXTtcbiAgICB2YXIgdHlwZSA9IG1ldGEuc3BsaXQoJzonKVsxXTtcbiAgICB2YXIgYmluYXJ5ID0gYXRvYihkYXRhVXJsLnNwbGl0KCcsJylbMV0pO1xuICAgIHZhciBhcnJheSA9IG5ldyBVaW50OEFycmF5KGJpbmFyeS5sZW5ndGgpO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYmluYXJ5Lmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGFycmF5W2ldID0gYmluYXJ5LmNoYXJDb2RlQXQoaSk7XG4gICAgfVxuICAgIHJldHVybiBuZXcgQmxvYihbYXJyYXldLCB7dHlwZTogdHlwZX0pO1xuICB9O1xuXG4gIHRoaXMuY3JvcCA9IGZ1bmN0aW9uKGZpbGUsIGRhdGEpIHtcbiAgICB2YXIgX2RlY29kZUJsb2IgPSB0aGlzLmRlY29kZTtcbiAgICByZXR1cm4gdGhpcy5lbmNvZGUoZmlsZSkudGhlbihfY3JlYXRlSW1hZ2UpLnRoZW4oZnVuY3Rpb24oaW1hZ2UpIHtcbiAgICAgIHZhciBjYW52YXMgPSBjcmVhdGVDYW52YXMoZGF0YSk7XG4gICAgICB2YXIgY29udGV4dCA9IGNhbnZhcy5nZXRDb250ZXh0KCcyZCcpO1xuXG4gICAgICBjb250ZXh0LmRyYXdJbWFnZShpbWFnZSwgZGF0YS54LCBkYXRhLnksIGRhdGEud2lkdGgsIGRhdGEuaGVpZ2h0LCAwLCAwLCBkYXRhLndpZHRoLCBkYXRhLmhlaWdodCk7XG5cbiAgICAgIHZhciBlbmNvZGVkID0gY2FudmFzLnRvRGF0YVVSTChmaWxlLnR5cGUpO1xuICAgICAgcmVtb3ZlRWxlbWVudChjYW52YXMpO1xuXG4gICAgICByZXR1cm4gX2RlY29kZUJsb2IoZW5jb2RlZCk7XG4gICAgfSk7XG4gIH07XG5cbiAgdGhpcy5zY2FsZSA9IGZ1bmN0aW9uKGZpbGUsIGRhdGEpIHtcbiAgICB2YXIgX2RlY29kZUJsb2IgPSB0aGlzLmRlY29kZTtcbiAgICByZXR1cm4gdGhpcy5lbmNvZGUoZmlsZSkudGhlbihfY3JlYXRlSW1hZ2UpLnRoZW4oZnVuY3Rpb24oaW1hZ2UpIHtcbiAgICAgIHZhciBoZWlnaHRPcmlnID0gaW1hZ2UuaGVpZ2h0O1xuICAgICAgdmFyIHdpZHRoT3JpZyA9IGltYWdlLndpZHRoO1xuICAgICAgdmFyIHJhdGlvLCBoZWlnaHQsIHdpZHRoO1xuXG4gICAgICBpZiAoYW5ndWxhci5pc051bWJlcihkYXRhKSkge1xuICAgICAgICByYXRpbyA9IGRhdGE7XG4gICAgICAgIGhlaWdodCA9IGhlaWdodE9yaWcgKiByYXRpbztcbiAgICAgICAgd2lkdGggPSB3aWR0aE9yaWcgKiByYXRpbztcbiAgICAgIH1cblxuICAgICAgaWYgKGFuZ3VsYXIuaXNPYmplY3QoZGF0YSkpIHtcbiAgICAgICAgcmF0aW8gPSB3aWR0aE9yaWcgLyBoZWlnaHRPcmlnO1xuICAgICAgICBoZWlnaHQgPSBkYXRhLmhlaWdodDtcbiAgICAgICAgd2lkdGggPSBkYXRhLndpZHRoO1xuXG4gICAgICAgIGlmIChoZWlnaHQgJiYgIXdpZHRoKVxuICAgICAgICAgIHdpZHRoID0gaGVpZ2h0ICogcmF0aW87XG4gICAgICAgIGVsc2UgaWYgKHdpZHRoICYmICFoZWlnaHQpXG4gICAgICAgICAgaGVpZ2h0ID0gd2lkdGggLyByYXRpbztcbiAgICAgIH1cblxuICAgICAgdmFyIGNhbnZhcyA9IGNyZWF0ZUNhbnZhcyhkYXRhKTtcbiAgICAgIHZhciBjb250ZXh0ID0gY2FudmFzLmdldENvbnRleHQoJzJkJyk7XG5cbiAgICAgIGNhbnZhcy5oZWlnaHQgPSBoZWlnaHQ7XG4gICAgICBjYW52YXMud2lkdGggPSB3aWR0aDtcblxuICAgICAgY29udGV4dC5kcmF3SW1hZ2UoaW1hZ2UsIDAsIDAsIHdpZHRoT3JpZywgaGVpZ2h0T3JpZywgMCwgMCwgd2lkdGgsIGhlaWdodCk7XG5cbiAgICAgIHZhciBlbmNvZGVkID0gY2FudmFzLnRvRGF0YVVSTChmaWxlLnR5cGUpO1xuICAgICAgcmVtb3ZlRWxlbWVudChjYW52YXMpO1xuXG4gICAgICByZXR1cm4gX2RlY29kZUJsb2IoZW5jb2RlZCk7XG4gICAgfSk7XG4gIH07XG5cblxuICBmdW5jdGlvbiBfY3JlYXRlSW1hZ2Uoc291cmNlKSB7XG4gICAgdmFyIGRlZmVyID0gJHEuZGVmZXIoKTtcbiAgICB2YXIgaW1hZ2UgPSBuZXcgSW1hZ2UoKTtcbiAgICBpbWFnZS5vbmxvYWQgPSBmdW5jdGlvbihlKSB7IGRlZmVyLnJlc29sdmUoZS50YXJnZXQpOyB9O1xuICAgIGltYWdlLnNyYyA9IHNvdXJjZTtcbiAgICByZXR1cm4gZGVmZXIucHJvbWlzZTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGNyZWF0ZUNhbnZhcyhkYXRhKSB7XG4gICAgdmFyIGNhbnZhcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2NhbnZhcycpO1xuICAgIGNhbnZhcy53aWR0aCA9IGRhdGEud2lkdGg7XG4gICAgY2FudmFzLmhlaWdodCA9IGRhdGEuaGVpZ2h0O1xuICAgIGNhbnZhcy5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoY2FudmFzKTtcbiAgICByZXR1cm4gY2FudmFzO1xuICB9XG5cbiAgZnVuY3Rpb24gcmVtb3ZlRWxlbWVudChlbCkge1xuICAgIGVsLnBhcmVudEVsZW1lbnQucmVtb3ZlQ2hpbGQoZWwpO1xuICB9XG5cbn1dKTtcblxufSkoKTtcbiIsIid1c2Ugc3RyaWN0JztcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG52YXIgZGVmYXVsdFBhcmFtcyA9IHtcbiAgdGl0bGU6ICcnLFxuICB0ZXh0OiAnJyxcbiAgdHlwZTogbnVsbCxcbiAgYWxsb3dPdXRzaWRlQ2xpY2s6IGZhbHNlLFxuICBzaG93Q29uZmlybUJ1dHRvbjogdHJ1ZSxcbiAgc2hvd0NhbmNlbEJ1dHRvbjogZmFsc2UsXG4gIGNsb3NlT25Db25maXJtOiB0cnVlLFxuICBjbG9zZU9uQ2FuY2VsOiB0cnVlLFxuICBjb25maXJtQnV0dG9uVGV4dDogJ09LJyxcbiAgY29uZmlybUJ1dHRvbkNvbG9yOiAnIzhDRDRGNScsXG4gIGNhbmNlbEJ1dHRvblRleHQ6ICdDYW5jZWwnLFxuICBpbWFnZVVybDogbnVsbCxcbiAgaW1hZ2VTaXplOiBudWxsLFxuICB0aW1lcjogbnVsbCxcbiAgY3VzdG9tQ2xhc3M6ICcnLFxuICBodG1sOiBmYWxzZSxcbiAgYW5pbWF0aW9uOiB0cnVlLFxuICBhbGxvd0VzY2FwZUtleTogdHJ1ZSxcbiAgaW5wdXRUeXBlOiAndGV4dCcsXG4gIGlucHV0UGxhY2Vob2xkZXI6ICcnLFxuICBpbnB1dFZhbHVlOiAnJyxcbiAgc2hvd0xvYWRlck9uQ29uZmlybTogZmFsc2Vcbn07XG5cbmV4cG9ydHNbJ2RlZmF1bHQnXSA9IGRlZmF1bHRQYXJhbXM7XG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbJ2RlZmF1bHQnXTsiLCIndXNlIHN0cmljdCc7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX2NvbG9yTHVtaW5hbmNlID0gcmVxdWlyZSgnLi91dGlscycpO1xuXG52YXIgX2dldE1vZGFsID0gcmVxdWlyZSgnLi9oYW5kbGUtc3dhbC1kb20nKTtcblxudmFyIF9oYXNDbGFzcyRpc0Rlc2NlbmRhbnQgPSByZXF1aXJlKCcuL2hhbmRsZS1kb20nKTtcblxuLypcbiAqIFVzZXIgY2xpY2tlZCBvbiBcIkNvbmZpcm1cIi9cIk9LXCIgb3IgXCJDYW5jZWxcIlxuICovXG52YXIgaGFuZGxlQnV0dG9uID0gZnVuY3Rpb24gaGFuZGxlQnV0dG9uKGV2ZW50LCBwYXJhbXMsIG1vZGFsKSB7XG4gIHZhciBlID0gZXZlbnQgfHwgd2luZG93LmV2ZW50O1xuICB2YXIgdGFyZ2V0ID0gZS50YXJnZXQgfHwgZS5zcmNFbGVtZW50O1xuXG4gIHZhciB0YXJnZXRlZENvbmZpcm0gPSB0YXJnZXQuY2xhc3NOYW1lLmluZGV4T2YoJ2NvbmZpcm0nKSAhPT0gLTE7XG4gIHZhciB0YXJnZXRlZE92ZXJsYXkgPSB0YXJnZXQuY2xhc3NOYW1lLmluZGV4T2YoJ3N3ZWV0LW92ZXJsYXknKSAhPT0gLTE7XG4gIHZhciBtb2RhbElzVmlzaWJsZSA9IF9oYXNDbGFzcyRpc0Rlc2NlbmRhbnQuaGFzQ2xhc3MobW9kYWwsICd2aXNpYmxlJyk7XG4gIHZhciBkb25lRnVuY3Rpb25FeGlzdHMgPSBwYXJhbXMuZG9uZUZ1bmN0aW9uICYmIG1vZGFsLmdldEF0dHJpYnV0ZSgnZGF0YS1oYXMtZG9uZS1mdW5jdGlvbicpID09PSAndHJ1ZSc7XG5cbiAgLy8gU2luY2UgdGhlIHVzZXIgY2FuIGNoYW5nZSB0aGUgYmFja2dyb3VuZC1jb2xvciBvZiB0aGUgY29uZmlybSBidXR0b24gcHJvZ3JhbW1hdGljYWxseSxcbiAgLy8gd2UgbXVzdCBjYWxjdWxhdGUgd2hhdCB0aGUgY29sb3Igc2hvdWxkIGJlIG9uIGhvdmVyL2FjdGl2ZVxuICB2YXIgbm9ybWFsQ29sb3IsIGhvdmVyQ29sb3IsIGFjdGl2ZUNvbG9yO1xuICBpZiAodGFyZ2V0ZWRDb25maXJtICYmIHBhcmFtcy5jb25maXJtQnV0dG9uQ29sb3IpIHtcbiAgICBub3JtYWxDb2xvciA9IHBhcmFtcy5jb25maXJtQnV0dG9uQ29sb3I7XG4gICAgaG92ZXJDb2xvciA9IF9jb2xvckx1bWluYW5jZS5jb2xvckx1bWluYW5jZShub3JtYWxDb2xvciwgLTAuMDQpO1xuICAgIGFjdGl2ZUNvbG9yID0gX2NvbG9yTHVtaW5hbmNlLmNvbG9yTHVtaW5hbmNlKG5vcm1hbENvbG9yLCAtMC4xNCk7XG4gIH1cblxuICBmdW5jdGlvbiBzaG91bGRTZXRDb25maXJtQnV0dG9uQ29sb3IoY29sb3IpIHtcbiAgICBpZiAodGFyZ2V0ZWRDb25maXJtICYmIHBhcmFtcy5jb25maXJtQnV0dG9uQ29sb3IpIHtcbiAgICAgIHRhcmdldC5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSBjb2xvcjtcbiAgICB9XG4gIH1cblxuICBzd2l0Y2ggKGUudHlwZSkge1xuICAgIGNhc2UgJ21vdXNlb3Zlcic6XG4gICAgICBzaG91bGRTZXRDb25maXJtQnV0dG9uQ29sb3IoaG92ZXJDb2xvcik7XG4gICAgICBicmVhaztcblxuICAgIGNhc2UgJ21vdXNlb3V0JzpcbiAgICAgIHNob3VsZFNldENvbmZpcm1CdXR0b25Db2xvcihub3JtYWxDb2xvcik7XG4gICAgICBicmVhaztcblxuICAgIGNhc2UgJ21vdXNlZG93bic6XG4gICAgICBzaG91bGRTZXRDb25maXJtQnV0dG9uQ29sb3IoYWN0aXZlQ29sb3IpO1xuICAgICAgYnJlYWs7XG5cbiAgICBjYXNlICdtb3VzZXVwJzpcbiAgICAgIHNob3VsZFNldENvbmZpcm1CdXR0b25Db2xvcihob3ZlckNvbG9yKTtcbiAgICAgIGJyZWFrO1xuXG4gICAgY2FzZSAnZm9jdXMnOlxuICAgICAgdmFyICRjb25maXJtQnV0dG9uID0gbW9kYWwucXVlcnlTZWxlY3RvcignYnV0dG9uLmNvbmZpcm0nKTtcbiAgICAgIHZhciAkY2FuY2VsQnV0dG9uID0gbW9kYWwucXVlcnlTZWxlY3RvcignYnV0dG9uLmNhbmNlbCcpO1xuXG4gICAgICBpZiAodGFyZ2V0ZWRDb25maXJtKSB7XG4gICAgICAgICRjYW5jZWxCdXR0b24uc3R5bGUuYm94U2hhZG93ID0gJ25vbmUnO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgJGNvbmZpcm1CdXR0b24uc3R5bGUuYm94U2hhZG93ID0gJ25vbmUnO1xuICAgICAgfVxuICAgICAgYnJlYWs7XG5cbiAgICBjYXNlICdjbGljayc6XG4gICAgICB2YXIgY2xpY2tlZE9uTW9kYWwgPSBtb2RhbCA9PT0gdGFyZ2V0O1xuICAgICAgdmFyIGNsaWNrZWRPbk1vZGFsQ2hpbGQgPSBfaGFzQ2xhc3MkaXNEZXNjZW5kYW50LmlzRGVzY2VuZGFudChtb2RhbCwgdGFyZ2V0KTtcblxuICAgICAgLy8gSWdub3JlIGNsaWNrIG91dHNpZGUgaWYgYWxsb3dPdXRzaWRlQ2xpY2sgaXMgZmFsc2VcbiAgICAgIGlmICghY2xpY2tlZE9uTW9kYWwgJiYgIWNsaWNrZWRPbk1vZGFsQ2hpbGQgJiYgbW9kYWxJc1Zpc2libGUgJiYgIXBhcmFtcy5hbGxvd091dHNpZGVDbGljaykge1xuICAgICAgICBicmVhaztcbiAgICAgIH1cblxuICAgICAgaWYgKHRhcmdldGVkQ29uZmlybSAmJiBkb25lRnVuY3Rpb25FeGlzdHMgJiYgbW9kYWxJc1Zpc2libGUpIHtcbiAgICAgICAgaGFuZGxlQ29uZmlybShtb2RhbCwgcGFyYW1zKTtcbiAgICAgIH0gZWxzZSBpZiAoZG9uZUZ1bmN0aW9uRXhpc3RzICYmIG1vZGFsSXNWaXNpYmxlIHx8IHRhcmdldGVkT3ZlcmxheSkge1xuICAgICAgICBoYW5kbGVDYW5jZWwobW9kYWwsIHBhcmFtcyk7XG4gICAgICB9IGVsc2UgaWYgKF9oYXNDbGFzcyRpc0Rlc2NlbmRhbnQuaXNEZXNjZW5kYW50KG1vZGFsLCB0YXJnZXQpICYmIHRhcmdldC50YWdOYW1lID09PSAnQlVUVE9OJykge1xuICAgICAgICBzd2VldEFsZXJ0LmNsb3NlKCk7XG4gICAgICB9XG4gICAgICBicmVhaztcbiAgfVxufTtcblxuLypcbiAqICBVc2VyIGNsaWNrZWQgb24gXCJDb25maXJtXCIvXCJPS1wiXG4gKi9cbnZhciBoYW5kbGVDb25maXJtID0gZnVuY3Rpb24gaGFuZGxlQ29uZmlybShtb2RhbCwgcGFyYW1zKSB7XG4gIHZhciBjYWxsYmFja1ZhbHVlID0gdHJ1ZTtcblxuICBpZiAoX2hhc0NsYXNzJGlzRGVzY2VuZGFudC5oYXNDbGFzcyhtb2RhbCwgJ3Nob3ctaW5wdXQnKSkge1xuICAgIGNhbGxiYWNrVmFsdWUgPSBtb2RhbC5xdWVyeVNlbGVjdG9yKCdpbnB1dCcpLnZhbHVlO1xuXG4gICAgaWYgKCFjYWxsYmFja1ZhbHVlKSB7XG4gICAgICBjYWxsYmFja1ZhbHVlID0gJyc7XG4gICAgfVxuICB9XG5cbiAgcGFyYW1zLmRvbmVGdW5jdGlvbihjYWxsYmFja1ZhbHVlKTtcblxuICBpZiAocGFyYW1zLmNsb3NlT25Db25maXJtKSB7XG4gICAgc3dlZXRBbGVydC5jbG9zZSgpO1xuICB9XG4gIC8vIERpc2FibGUgY2FuY2VsIGFuZCBjb25maXJtIGJ1dHRvbiBpZiB0aGUgcGFyYW1ldGVyIGlzIHRydWVcbiAgaWYgKHBhcmFtcy5zaG93TG9hZGVyT25Db25maXJtKSB7XG4gICAgc3dlZXRBbGVydC5kaXNhYmxlQnV0dG9ucygpO1xuICB9XG59O1xuXG4vKlxuICogIFVzZXIgY2xpY2tlZCBvbiBcIkNhbmNlbFwiXG4gKi9cbnZhciBoYW5kbGVDYW5jZWwgPSBmdW5jdGlvbiBoYW5kbGVDYW5jZWwobW9kYWwsIHBhcmFtcykge1xuICAvLyBDaGVjayBpZiBjYWxsYmFjayBmdW5jdGlvbiBleHBlY3RzIGEgcGFyYW1ldGVyICh0byB0cmFjayBjYW5jZWwgYWN0aW9ucylcbiAgdmFyIGZ1bmN0aW9uQXNTdHIgPSBTdHJpbmcocGFyYW1zLmRvbmVGdW5jdGlvbikucmVwbGFjZSgvXFxzL2csICcnKTtcbiAgdmFyIGZ1bmN0aW9uSGFuZGxlc0NhbmNlbCA9IGZ1bmN0aW9uQXNTdHIuc3Vic3RyaW5nKDAsIDkpID09PSAnZnVuY3Rpb24oJyAmJiBmdW5jdGlvbkFzU3RyLnN1YnN0cmluZyg5LCAxMCkgIT09ICcpJztcblxuICBpZiAoZnVuY3Rpb25IYW5kbGVzQ2FuY2VsKSB7XG4gICAgcGFyYW1zLmRvbmVGdW5jdGlvbihmYWxzZSk7XG4gIH1cblxuICBpZiAocGFyYW1zLmNsb3NlT25DYW5jZWwpIHtcbiAgICBzd2VldEFsZXJ0LmNsb3NlKCk7XG4gIH1cbn07XG5cbmV4cG9ydHNbJ2RlZmF1bHQnXSA9IHtcbiAgaGFuZGxlQnV0dG9uOiBoYW5kbGVCdXR0b24sXG4gIGhhbmRsZUNvbmZpcm06IGhhbmRsZUNvbmZpcm0sXG4gIGhhbmRsZUNhbmNlbDogaGFuZGxlQ2FuY2VsXG59O1xubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzWydkZWZhdWx0J107IiwiJ3VzZSBzdHJpY3QnO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcbnZhciBoYXNDbGFzcyA9IGZ1bmN0aW9uIGhhc0NsYXNzKGVsZW0sIGNsYXNzTmFtZSkge1xuICByZXR1cm4gbmV3IFJlZ0V4cCgnICcgKyBjbGFzc05hbWUgKyAnICcpLnRlc3QoJyAnICsgZWxlbS5jbGFzc05hbWUgKyAnICcpO1xufTtcblxudmFyIGFkZENsYXNzID0gZnVuY3Rpb24gYWRkQ2xhc3MoZWxlbSwgY2xhc3NOYW1lKSB7XG4gIGlmICghaGFzQ2xhc3MoZWxlbSwgY2xhc3NOYW1lKSkge1xuICAgIGVsZW0uY2xhc3NOYW1lICs9ICcgJyArIGNsYXNzTmFtZTtcbiAgfVxufTtcblxudmFyIHJlbW92ZUNsYXNzID0gZnVuY3Rpb24gcmVtb3ZlQ2xhc3MoZWxlbSwgY2xhc3NOYW1lKSB7XG4gIHZhciBuZXdDbGFzcyA9ICcgJyArIGVsZW0uY2xhc3NOYW1lLnJlcGxhY2UoL1tcXHRcXHJcXG5dL2csICcgJykgKyAnICc7XG4gIGlmIChoYXNDbGFzcyhlbGVtLCBjbGFzc05hbWUpKSB7XG4gICAgd2hpbGUgKG5ld0NsYXNzLmluZGV4T2YoJyAnICsgY2xhc3NOYW1lICsgJyAnKSA+PSAwKSB7XG4gICAgICBuZXdDbGFzcyA9IG5ld0NsYXNzLnJlcGxhY2UoJyAnICsgY2xhc3NOYW1lICsgJyAnLCAnICcpO1xuICAgIH1cbiAgICBlbGVtLmNsYXNzTmFtZSA9IG5ld0NsYXNzLnJlcGxhY2UoL15cXHMrfFxccyskL2csICcnKTtcbiAgfVxufTtcblxudmFyIGVzY2FwZUh0bWwgPSBmdW5jdGlvbiBlc2NhcGVIdG1sKHN0cikge1xuICB2YXIgZGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gIGRpdi5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShzdHIpKTtcbiAgcmV0dXJuIGRpdi5pbm5lckhUTUw7XG59O1xuXG52YXIgX3Nob3cgPSBmdW5jdGlvbiBfc2hvdyhlbGVtKSB7XG4gIGVsZW0uc3R5bGUub3BhY2l0eSA9ICcnO1xuICBlbGVtLnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snO1xufTtcblxudmFyIHNob3cgPSBmdW5jdGlvbiBzaG93KGVsZW1zKSB7XG4gIGlmIChlbGVtcyAmJiAhZWxlbXMubGVuZ3RoKSB7XG4gICAgcmV0dXJuIF9zaG93KGVsZW1zKTtcbiAgfVxuICBmb3IgKHZhciBpID0gMDsgaSA8IGVsZW1zLmxlbmd0aDsgKytpKSB7XG4gICAgX3Nob3coZWxlbXNbaV0pO1xuICB9XG59O1xuXG52YXIgX2hpZGUgPSBmdW5jdGlvbiBfaGlkZShlbGVtKSB7XG4gIGVsZW0uc3R5bGUub3BhY2l0eSA9ICcnO1xuICBlbGVtLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG59O1xuXG52YXIgaGlkZSA9IGZ1bmN0aW9uIGhpZGUoZWxlbXMpIHtcbiAgaWYgKGVsZW1zICYmICFlbGVtcy5sZW5ndGgpIHtcbiAgICByZXR1cm4gX2hpZGUoZWxlbXMpO1xuICB9XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgZWxlbXMubGVuZ3RoOyArK2kpIHtcbiAgICBfaGlkZShlbGVtc1tpXSk7XG4gIH1cbn07XG5cbnZhciBpc0Rlc2NlbmRhbnQgPSBmdW5jdGlvbiBpc0Rlc2NlbmRhbnQocGFyZW50LCBjaGlsZCkge1xuICB2YXIgbm9kZSA9IGNoaWxkLnBhcmVudE5vZGU7XG4gIHdoaWxlIChub2RlICE9PSBudWxsKSB7XG4gICAgaWYgKG5vZGUgPT09IHBhcmVudCkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIG5vZGUgPSBub2RlLnBhcmVudE5vZGU7XG4gIH1cbiAgcmV0dXJuIGZhbHNlO1xufTtcblxudmFyIGdldFRvcE1hcmdpbiA9IGZ1bmN0aW9uIGdldFRvcE1hcmdpbihlbGVtKSB7XG4gIGVsZW0uc3R5bGUubGVmdCA9ICctOTk5OXB4JztcbiAgZWxlbS5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJztcblxuICB2YXIgaGVpZ2h0ID0gZWxlbS5jbGllbnRIZWlnaHQsXG4gICAgICBwYWRkaW5nO1xuICBpZiAodHlwZW9mIGdldENvbXB1dGVkU3R5bGUgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgLy8gSUUgOFxuICAgIHBhZGRpbmcgPSBwYXJzZUludChnZXRDb21wdXRlZFN0eWxlKGVsZW0pLmdldFByb3BlcnR5VmFsdWUoJ3BhZGRpbmctdG9wJyksIDEwKTtcbiAgfSBlbHNlIHtcbiAgICBwYWRkaW5nID0gcGFyc2VJbnQoZWxlbS5jdXJyZW50U3R5bGUucGFkZGluZyk7XG4gIH1cblxuICBlbGVtLnN0eWxlLmxlZnQgPSAnJztcbiAgZWxlbS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICByZXR1cm4gJy0nICsgcGFyc2VJbnQoKGhlaWdodCArIHBhZGRpbmcpIC8gMikgKyAncHgnO1xufTtcblxudmFyIGZhZGVJbiA9IGZ1bmN0aW9uIGZhZGVJbihlbGVtLCBpbnRlcnZhbCkge1xuICBpZiAoK2VsZW0uc3R5bGUub3BhY2l0eSA8IDEpIHtcbiAgICBpbnRlcnZhbCA9IGludGVydmFsIHx8IDE2O1xuICAgIGVsZW0uc3R5bGUub3BhY2l0eSA9IDA7XG4gICAgZWxlbS5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJztcbiAgICB2YXIgbGFzdCA9ICtuZXcgRGF0ZSgpO1xuICAgIHZhciB0aWNrID0gKGZ1bmN0aW9uIChfdGljaykge1xuICAgICAgZnVuY3Rpb24gdGljaygpIHtcbiAgICAgICAgcmV0dXJuIF90aWNrLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICB9XG5cbiAgICAgIHRpY2sudG9TdHJpbmcgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBfdGljay50b1N0cmluZygpO1xuICAgICAgfTtcblxuICAgICAgcmV0dXJuIHRpY2s7XG4gICAgfSkoZnVuY3Rpb24gKCkge1xuICAgICAgZWxlbS5zdHlsZS5vcGFjaXR5ID0gK2VsZW0uc3R5bGUub3BhY2l0eSArIChuZXcgRGF0ZSgpIC0gbGFzdCkgLyAxMDA7XG4gICAgICBsYXN0ID0gK25ldyBEYXRlKCk7XG5cbiAgICAgIGlmICgrZWxlbS5zdHlsZS5vcGFjaXR5IDwgMSkge1xuICAgICAgICBzZXRUaW1lb3V0KHRpY2ssIGludGVydmFsKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICB0aWNrKCk7XG4gIH1cbiAgZWxlbS5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJzsgLy9mYWxsYmFjayBJRThcbn07XG5cbnZhciBmYWRlT3V0ID0gZnVuY3Rpb24gZmFkZU91dChlbGVtLCBpbnRlcnZhbCkge1xuICBpbnRlcnZhbCA9IGludGVydmFsIHx8IDE2O1xuICBlbGVtLnN0eWxlLm9wYWNpdHkgPSAxO1xuICB2YXIgbGFzdCA9ICtuZXcgRGF0ZSgpO1xuICB2YXIgdGljayA9IChmdW5jdGlvbiAoX3RpY2syKSB7XG4gICAgZnVuY3Rpb24gdGljaygpIHtcbiAgICAgIHJldHVybiBfdGljazIuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICB9XG5cbiAgICB0aWNrLnRvU3RyaW5nID0gZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIF90aWNrMi50b1N0cmluZygpO1xuICAgIH07XG5cbiAgICByZXR1cm4gdGljaztcbiAgfSkoZnVuY3Rpb24gKCkge1xuICAgIGVsZW0uc3R5bGUub3BhY2l0eSA9ICtlbGVtLnN0eWxlLm9wYWNpdHkgLSAobmV3IERhdGUoKSAtIGxhc3QpIC8gMTAwO1xuICAgIGxhc3QgPSArbmV3IERhdGUoKTtcblxuICAgIGlmICgrZWxlbS5zdHlsZS5vcGFjaXR5ID4gMCkge1xuICAgICAgc2V0VGltZW91dCh0aWNrLCBpbnRlcnZhbCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGVsZW0uc3R5bGUuZGlzcGxheSA9ICdub25lJztcbiAgICB9XG4gIH0pO1xuICB0aWNrKCk7XG59O1xuXG52YXIgZmlyZUNsaWNrID0gZnVuY3Rpb24gZmlyZUNsaWNrKG5vZGUpIHtcbiAgLy8gVGFrZW4gZnJvbSBodHRwOi8vd3d3Lm5vbm9idHJ1c2l2ZS5jb20vMjAxMS8xMS8yOS9wcm9ncmFtYXRpY2FsbHktZmlyZS1jcm9zc2Jyb3dzZXItY2xpY2stZXZlbnQtd2l0aC1qYXZhc2NyaXB0L1xuICAvLyBUaGVuIGZpeGVkIGZvciB0b2RheSdzIENocm9tZSBicm93c2VyLlxuICBpZiAodHlwZW9mIE1vdXNlRXZlbnQgPT09ICdmdW5jdGlvbicpIHtcbiAgICAvLyBVcC10by1kYXRlIGFwcHJvYWNoXG4gICAgdmFyIG1ldnQgPSBuZXcgTW91c2VFdmVudCgnY2xpY2snLCB7XG4gICAgICB2aWV3OiB3aW5kb3csXG4gICAgICBidWJibGVzOiBmYWxzZSxcbiAgICAgIGNhbmNlbGFibGU6IHRydWVcbiAgICB9KTtcbiAgICBub2RlLmRpc3BhdGNoRXZlbnQobWV2dCk7XG4gIH0gZWxzZSBpZiAoZG9jdW1lbnQuY3JlYXRlRXZlbnQpIHtcbiAgICAvLyBGYWxsYmFja1xuICAgIHZhciBldnQgPSBkb2N1bWVudC5jcmVhdGVFdmVudCgnTW91c2VFdmVudHMnKTtcbiAgICBldnQuaW5pdEV2ZW50KCdjbGljaycsIGZhbHNlLCBmYWxzZSk7XG4gICAgbm9kZS5kaXNwYXRjaEV2ZW50KGV2dCk7XG4gIH0gZWxzZSBpZiAoZG9jdW1lbnQuY3JlYXRlRXZlbnRPYmplY3QpIHtcbiAgICBub2RlLmZpcmVFdmVudCgnb25jbGljaycpO1xuICB9IGVsc2UgaWYgKHR5cGVvZiBub2RlLm9uY2xpY2sgPT09ICdmdW5jdGlvbicpIHtcbiAgICBub2RlLm9uY2xpY2soKTtcbiAgfVxufTtcblxudmFyIHN0b3BFdmVudFByb3BhZ2F0aW9uID0gZnVuY3Rpb24gc3RvcEV2ZW50UHJvcGFnYXRpb24oZSkge1xuICAvLyBJbiBwYXJ0aWN1bGFyLCBtYWtlIHN1cmUgdGhlIHNwYWNlIGJhciBkb2Vzbid0IHNjcm9sbCB0aGUgbWFpbiB3aW5kb3cuXG4gIGlmICh0eXBlb2YgZS5zdG9wUHJvcGFnYXRpb24gPT09ICdmdW5jdGlvbicpIHtcbiAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgfSBlbHNlIGlmICh3aW5kb3cuZXZlbnQgJiYgd2luZG93LmV2ZW50Lmhhc093blByb3BlcnR5KCdjYW5jZWxCdWJibGUnKSkge1xuICAgIHdpbmRvdy5ldmVudC5jYW5jZWxCdWJibGUgPSB0cnVlO1xuICB9XG59O1xuXG5leHBvcnRzLmhhc0NsYXNzID0gaGFzQ2xhc3M7XG5leHBvcnRzLmFkZENsYXNzID0gYWRkQ2xhc3M7XG5leHBvcnRzLnJlbW92ZUNsYXNzID0gcmVtb3ZlQ2xhc3M7XG5leHBvcnRzLmVzY2FwZUh0bWwgPSBlc2NhcGVIdG1sO1xuZXhwb3J0cy5fc2hvdyA9IF9zaG93O1xuZXhwb3J0cy5zaG93ID0gc2hvdztcbmV4cG9ydHMuX2hpZGUgPSBfaGlkZTtcbmV4cG9ydHMuaGlkZSA9IGhpZGU7XG5leHBvcnRzLmlzRGVzY2VuZGFudCA9IGlzRGVzY2VuZGFudDtcbmV4cG9ydHMuZ2V0VG9wTWFyZ2luID0gZ2V0VG9wTWFyZ2luO1xuZXhwb3J0cy5mYWRlSW4gPSBmYWRlSW47XG5leHBvcnRzLmZhZGVPdXQgPSBmYWRlT3V0O1xuZXhwb3J0cy5maXJlQ2xpY2sgPSBmaXJlQ2xpY2s7XG5leHBvcnRzLnN0b3BFdmVudFByb3BhZ2F0aW9uID0gc3RvcEV2ZW50UHJvcGFnYXRpb247IiwiJ3VzZSBzdHJpY3QnO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcblxudmFyIF9zdG9wRXZlbnRQcm9wYWdhdGlvbiRmaXJlQ2xpY2sgPSByZXF1aXJlKCcuL2hhbmRsZS1kb20nKTtcblxudmFyIF9zZXRGb2N1c1N0eWxlID0gcmVxdWlyZSgnLi9oYW5kbGUtc3dhbC1kb20nKTtcblxudmFyIGhhbmRsZUtleURvd24gPSBmdW5jdGlvbiBoYW5kbGVLZXlEb3duKGV2ZW50LCBwYXJhbXMsIG1vZGFsKSB7XG4gIHZhciBlID0gZXZlbnQgfHwgd2luZG93LmV2ZW50O1xuICB2YXIga2V5Q29kZSA9IGUua2V5Q29kZSB8fCBlLndoaWNoO1xuXG4gIHZhciAkb2tCdXR0b24gPSBtb2RhbC5xdWVyeVNlbGVjdG9yKCdidXR0b24uY29uZmlybScpO1xuICB2YXIgJGNhbmNlbEJ1dHRvbiA9IG1vZGFsLnF1ZXJ5U2VsZWN0b3IoJ2J1dHRvbi5jYW5jZWwnKTtcbiAgdmFyICRtb2RhbEJ1dHRvbnMgPSBtb2RhbC5xdWVyeVNlbGVjdG9yQWxsKCdidXR0b25bdGFiaW5kZXhdJyk7XG5cbiAgaWYgKFs5LCAxMywgMzIsIDI3XS5pbmRleE9mKGtleUNvZGUpID09PSAtMSkge1xuICAgIC8vIERvbid0IGRvIHdvcmsgb24ga2V5cyB3ZSBkb24ndCBjYXJlIGFib3V0LlxuICAgIHJldHVybjtcbiAgfVxuXG4gIHZhciAkdGFyZ2V0RWxlbWVudCA9IGUudGFyZ2V0IHx8IGUuc3JjRWxlbWVudDtcblxuICB2YXIgYnRuSW5kZXggPSAtMTsgLy8gRmluZCB0aGUgYnV0dG9uIC0gbm90ZSwgdGhpcyBpcyBhIG5vZGVsaXN0LCBub3QgYW4gYXJyYXkuXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgJG1vZGFsQnV0dG9ucy5sZW5ndGg7IGkrKykge1xuICAgIGlmICgkdGFyZ2V0RWxlbWVudCA9PT0gJG1vZGFsQnV0dG9uc1tpXSkge1xuICAgICAgYnRuSW5kZXggPSBpO1xuICAgICAgYnJlYWs7XG4gICAgfVxuICB9XG5cbiAgaWYgKGtleUNvZGUgPT09IDkpIHtcbiAgICAvLyBUQUJcbiAgICBpZiAoYnRuSW5kZXggPT09IC0xKSB7XG4gICAgICAvLyBObyBidXR0b24gZm9jdXNlZC4gSnVtcCB0byB0aGUgY29uZmlybSBidXR0b24uXG4gICAgICAkdGFyZ2V0RWxlbWVudCA9ICRva0J1dHRvbjtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gQ3ljbGUgdG8gdGhlIG5leHQgYnV0dG9uXG4gICAgICBpZiAoYnRuSW5kZXggPT09ICRtb2RhbEJ1dHRvbnMubGVuZ3RoIC0gMSkge1xuICAgICAgICAkdGFyZ2V0RWxlbWVudCA9ICRtb2RhbEJ1dHRvbnNbMF07XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAkdGFyZ2V0RWxlbWVudCA9ICRtb2RhbEJ1dHRvbnNbYnRuSW5kZXggKyAxXTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBfc3RvcEV2ZW50UHJvcGFnYXRpb24kZmlyZUNsaWNrLnN0b3BFdmVudFByb3BhZ2F0aW9uKGUpO1xuICAgICR0YXJnZXRFbGVtZW50LmZvY3VzKCk7XG5cbiAgICBpZiAocGFyYW1zLmNvbmZpcm1CdXR0b25Db2xvcikge1xuICAgICAgX3NldEZvY3VzU3R5bGUuc2V0Rm9jdXNTdHlsZSgkdGFyZ2V0RWxlbWVudCwgcGFyYW1zLmNvbmZpcm1CdXR0b25Db2xvcik7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIGlmIChrZXlDb2RlID09PSAxMykge1xuICAgICAgaWYgKCR0YXJnZXRFbGVtZW50LnRhZ05hbWUgPT09ICdJTlBVVCcpIHtcbiAgICAgICAgJHRhcmdldEVsZW1lbnQgPSAkb2tCdXR0b247XG4gICAgICAgICRva0J1dHRvbi5mb2N1cygpO1xuICAgICAgfVxuXG4gICAgICBpZiAoYnRuSW5kZXggPT09IC0xKSB7XG4gICAgICAgIC8vIEVOVEVSL1NQQUNFIGNsaWNrZWQgb3V0c2lkZSBvZiBhIGJ1dHRvbi5cbiAgICAgICAgJHRhcmdldEVsZW1lbnQgPSAkb2tCdXR0b247XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBEbyBub3RoaW5nIC0gbGV0IHRoZSBicm93c2VyIGhhbmRsZSBpdC5cbiAgICAgICAgJHRhcmdldEVsZW1lbnQgPSB1bmRlZmluZWQ7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChrZXlDb2RlID09PSAyNyAmJiBwYXJhbXMuYWxsb3dFc2NhcGVLZXkgPT09IHRydWUpIHtcbiAgICAgICR0YXJnZXRFbGVtZW50ID0gJGNhbmNlbEJ1dHRvbjtcbiAgICAgIF9zdG9wRXZlbnRQcm9wYWdhdGlvbiRmaXJlQ2xpY2suZmlyZUNsaWNrKCR0YXJnZXRFbGVtZW50LCBlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gRmFsbGJhY2sgLSBsZXQgdGhlIGJyb3dzZXIgaGFuZGxlIGl0LlxuICAgICAgJHRhcmdldEVsZW1lbnQgPSB1bmRlZmluZWQ7XG4gICAgfVxuICB9XG59O1xuXG5leHBvcnRzWydkZWZhdWx0J10gPSBoYW5kbGVLZXlEb3duO1xubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzWydkZWZhdWx0J107IiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQgPSBmdW5jdGlvbiAob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7ICdkZWZhdWx0Jzogb2JqIH07IH07XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX2hleFRvUmdiID0gcmVxdWlyZSgnLi91dGlscycpO1xuXG52YXIgX3JlbW92ZUNsYXNzJGdldFRvcE1hcmdpbiRmYWRlSW4kc2hvdyRhZGRDbGFzcyA9IHJlcXVpcmUoJy4vaGFuZGxlLWRvbScpO1xuXG52YXIgX2RlZmF1bHRQYXJhbXMgPSByZXF1aXJlKCcuL2RlZmF1bHQtcGFyYW1zJyk7XG5cbnZhciBfZGVmYXVsdFBhcmFtczIgPSBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChfZGVmYXVsdFBhcmFtcyk7XG5cbi8qXG4gKiBBZGQgbW9kYWwgKyBvdmVybGF5IHRvIERPTVxuICovXG5cbnZhciBfaW5qZWN0ZWRIVE1MID0gcmVxdWlyZSgnLi9pbmplY3RlZC1odG1sJyk7XG5cbnZhciBfaW5qZWN0ZWRIVE1MMiA9IF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKF9pbmplY3RlZEhUTUwpO1xuXG52YXIgbW9kYWxDbGFzcyA9ICcuc3dlZXQtYWxlcnQnO1xudmFyIG92ZXJsYXlDbGFzcyA9ICcuc3dlZXQtb3ZlcmxheSc7XG5cbnZhciBzd2VldEFsZXJ0SW5pdGlhbGl6ZSA9IGZ1bmN0aW9uIHN3ZWV0QWxlcnRJbml0aWFsaXplKCkge1xuICB2YXIgc3dlZXRXcmFwID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gIHN3ZWV0V3JhcC5pbm5lckhUTUwgPSBfaW5qZWN0ZWRIVE1MMlsnZGVmYXVsdCddO1xuXG4gIC8vIEFwcGVuZCBlbGVtZW50cyB0byBib2R5XG4gIHdoaWxlIChzd2VldFdyYXAuZmlyc3RDaGlsZCkge1xuICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoc3dlZXRXcmFwLmZpcnN0Q2hpbGQpO1xuICB9XG59O1xuXG4vKlxuICogR2V0IERPTSBlbGVtZW50IG9mIG1vZGFsXG4gKi9cbnZhciBnZXRNb2RhbCA9IChmdW5jdGlvbiAoX2dldE1vZGFsKSB7XG4gIGZ1bmN0aW9uIGdldE1vZGFsKCkge1xuICAgIHJldHVybiBfZ2V0TW9kYWwuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgfVxuXG4gIGdldE1vZGFsLnRvU3RyaW5nID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiBfZ2V0TW9kYWwudG9TdHJpbmcoKTtcbiAgfTtcblxuICByZXR1cm4gZ2V0TW9kYWw7XG59KShmdW5jdGlvbiAoKSB7XG4gIHZhciAkbW9kYWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKG1vZGFsQ2xhc3MpO1xuXG4gIGlmICghJG1vZGFsKSB7XG4gICAgc3dlZXRBbGVydEluaXRpYWxpemUoKTtcbiAgICAkbW9kYWwgPSBnZXRNb2RhbCgpO1xuICB9XG5cbiAgcmV0dXJuICRtb2RhbDtcbn0pO1xuXG4vKlxuICogR2V0IERPTSBlbGVtZW50IG9mIGlucHV0IChpbiBtb2RhbClcbiAqL1xudmFyIGdldElucHV0ID0gZnVuY3Rpb24gZ2V0SW5wdXQoKSB7XG4gIHZhciAkbW9kYWwgPSBnZXRNb2RhbCgpO1xuICBpZiAoJG1vZGFsKSB7XG4gICAgcmV0dXJuICRtb2RhbC5xdWVyeVNlbGVjdG9yKCdpbnB1dCcpO1xuICB9XG59O1xuXG4vKlxuICogR2V0IERPTSBlbGVtZW50IG9mIG92ZXJsYXlcbiAqL1xudmFyIGdldE92ZXJsYXkgPSBmdW5jdGlvbiBnZXRPdmVybGF5KCkge1xuICByZXR1cm4gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihvdmVybGF5Q2xhc3MpO1xufTtcblxuLypcbiAqIEFkZCBib3gtc2hhZG93IHN0eWxlIHRvIGJ1dHRvbiAoZGVwZW5kaW5nIG9uIGl0cyBjaG9zZW4gYmctY29sb3IpXG4gKi9cbnZhciBzZXRGb2N1c1N0eWxlID0gZnVuY3Rpb24gc2V0Rm9jdXNTdHlsZSgkYnV0dG9uLCBiZ0NvbG9yKSB7XG4gIHZhciByZ2JDb2xvciA9IF9oZXhUb1JnYi5oZXhUb1JnYihiZ0NvbG9yKTtcbiAgJGJ1dHRvbi5zdHlsZS5ib3hTaGFkb3cgPSAnMCAwIDJweCByZ2JhKCcgKyByZ2JDb2xvciArICcsIDAuOCksIGluc2V0IDAgMCAwIDFweCByZ2JhKDAsIDAsIDAsIDAuMDUpJztcbn07XG5cbi8qXG4gKiBBbmltYXRpb24gd2hlbiBvcGVuaW5nIG1vZGFsXG4gKi9cbnZhciBvcGVuTW9kYWwgPSBmdW5jdGlvbiBvcGVuTW9kYWwoY2FsbGJhY2spIHtcbiAgdmFyICRtb2RhbCA9IGdldE1vZGFsKCk7XG4gIF9yZW1vdmVDbGFzcyRnZXRUb3BNYXJnaW4kZmFkZUluJHNob3ckYWRkQ2xhc3MuZmFkZUluKGdldE92ZXJsYXkoKSwgMTApO1xuICBfcmVtb3ZlQ2xhc3MkZ2V0VG9wTWFyZ2luJGZhZGVJbiRzaG93JGFkZENsYXNzLnNob3coJG1vZGFsKTtcbiAgX3JlbW92ZUNsYXNzJGdldFRvcE1hcmdpbiRmYWRlSW4kc2hvdyRhZGRDbGFzcy5hZGRDbGFzcygkbW9kYWwsICdzaG93U3dlZXRBbGVydCcpO1xuICBfcmVtb3ZlQ2xhc3MkZ2V0VG9wTWFyZ2luJGZhZGVJbiRzaG93JGFkZENsYXNzLnJlbW92ZUNsYXNzKCRtb2RhbCwgJ2hpZGVTd2VldEFsZXJ0Jyk7XG5cbiAgd2luZG93LnByZXZpb3VzQWN0aXZlRWxlbWVudCA9IGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQ7XG4gIHZhciAkb2tCdXR0b24gPSAkbW9kYWwucXVlcnlTZWxlY3RvcignYnV0dG9uLmNvbmZpcm0nKTtcbiAgJG9rQnV0dG9uLmZvY3VzKCk7XG5cbiAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgX3JlbW92ZUNsYXNzJGdldFRvcE1hcmdpbiRmYWRlSW4kc2hvdyRhZGRDbGFzcy5hZGRDbGFzcygkbW9kYWwsICd2aXNpYmxlJyk7XG4gIH0sIDUwMCk7XG5cbiAgdmFyIHRpbWVyID0gJG1vZGFsLmdldEF0dHJpYnV0ZSgnZGF0YS10aW1lcicpO1xuXG4gIGlmICh0aW1lciAhPT0gJ251bGwnICYmIHRpbWVyICE9PSAnJykge1xuICAgIHZhciB0aW1lckNhbGxiYWNrID0gY2FsbGJhY2s7XG4gICAgJG1vZGFsLnRpbWVvdXQgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBkb25lRnVuY3Rpb25FeGlzdHMgPSAodGltZXJDYWxsYmFjayB8fCBudWxsKSAmJiAkbW9kYWwuZ2V0QXR0cmlidXRlKCdkYXRhLWhhcy1kb25lLWZ1bmN0aW9uJykgPT09ICd0cnVlJztcbiAgICAgIGlmIChkb25lRnVuY3Rpb25FeGlzdHMpIHtcbiAgICAgICAgdGltZXJDYWxsYmFjayhudWxsKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHN3ZWV0QWxlcnQuY2xvc2UoKTtcbiAgICAgIH1cbiAgICB9LCB0aW1lcik7XG4gIH1cbn07XG5cbi8qXG4gKiBSZXNldCB0aGUgc3R5bGluZyBvZiB0aGUgaW5wdXRcbiAqIChmb3IgZXhhbXBsZSBpZiBlcnJvcnMgaGF2ZSBiZWVuIHNob3duKVxuICovXG52YXIgcmVzZXRJbnB1dCA9IGZ1bmN0aW9uIHJlc2V0SW5wdXQoKSB7XG4gIHZhciAkbW9kYWwgPSBnZXRNb2RhbCgpO1xuICB2YXIgJGlucHV0ID0gZ2V0SW5wdXQoKTtcblxuICBfcmVtb3ZlQ2xhc3MkZ2V0VG9wTWFyZ2luJGZhZGVJbiRzaG93JGFkZENsYXNzLnJlbW92ZUNsYXNzKCRtb2RhbCwgJ3Nob3ctaW5wdXQnKTtcbiAgJGlucHV0LnZhbHVlID0gX2RlZmF1bHRQYXJhbXMyWydkZWZhdWx0J10uaW5wdXRWYWx1ZTtcbiAgJGlucHV0LnNldEF0dHJpYnV0ZSgndHlwZScsIF9kZWZhdWx0UGFyYW1zMlsnZGVmYXVsdCddLmlucHV0VHlwZSk7XG4gICRpbnB1dC5zZXRBdHRyaWJ1dGUoJ3BsYWNlaG9sZGVyJywgX2RlZmF1bHRQYXJhbXMyWydkZWZhdWx0J10uaW5wdXRQbGFjZWhvbGRlcik7XG5cbiAgcmVzZXRJbnB1dEVycm9yKCk7XG59O1xuXG52YXIgcmVzZXRJbnB1dEVycm9yID0gZnVuY3Rpb24gcmVzZXRJbnB1dEVycm9yKGV2ZW50KSB7XG4gIC8vIElmIHByZXNzIGVudGVyID0+IGlnbm9yZVxuICBpZiAoZXZlbnQgJiYgZXZlbnQua2V5Q29kZSA9PT0gMTMpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICB2YXIgJG1vZGFsID0gZ2V0TW9kYWwoKTtcblxuICB2YXIgJGVycm9ySWNvbiA9ICRtb2RhbC5xdWVyeVNlbGVjdG9yKCcuc2EtaW5wdXQtZXJyb3InKTtcbiAgX3JlbW92ZUNsYXNzJGdldFRvcE1hcmdpbiRmYWRlSW4kc2hvdyRhZGRDbGFzcy5yZW1vdmVDbGFzcygkZXJyb3JJY29uLCAnc2hvdycpO1xuXG4gIHZhciAkZXJyb3JDb250YWluZXIgPSAkbW9kYWwucXVlcnlTZWxlY3RvcignLnNhLWVycm9yLWNvbnRhaW5lcicpO1xuICBfcmVtb3ZlQ2xhc3MkZ2V0VG9wTWFyZ2luJGZhZGVJbiRzaG93JGFkZENsYXNzLnJlbW92ZUNsYXNzKCRlcnJvckNvbnRhaW5lciwgJ3Nob3cnKTtcbn07XG5cbi8qXG4gKiBTZXQgXCJtYXJnaW4tdG9wXCItcHJvcGVydHkgb24gbW9kYWwgYmFzZWQgb24gaXRzIGNvbXB1dGVkIGhlaWdodFxuICovXG52YXIgZml4VmVydGljYWxQb3NpdGlvbiA9IGZ1bmN0aW9uIGZpeFZlcnRpY2FsUG9zaXRpb24oKSB7XG4gIHZhciAkbW9kYWwgPSBnZXRNb2RhbCgpO1xuICAkbW9kYWwuc3R5bGUubWFyZ2luVG9wID0gX3JlbW92ZUNsYXNzJGdldFRvcE1hcmdpbiRmYWRlSW4kc2hvdyRhZGRDbGFzcy5nZXRUb3BNYXJnaW4oZ2V0TW9kYWwoKSk7XG59O1xuXG5leHBvcnRzLnN3ZWV0QWxlcnRJbml0aWFsaXplID0gc3dlZXRBbGVydEluaXRpYWxpemU7XG5leHBvcnRzLmdldE1vZGFsID0gZ2V0TW9kYWw7XG5leHBvcnRzLmdldE92ZXJsYXkgPSBnZXRPdmVybGF5O1xuZXhwb3J0cy5nZXRJbnB1dCA9IGdldElucHV0O1xuZXhwb3J0cy5zZXRGb2N1c1N0eWxlID0gc2V0Rm9jdXNTdHlsZTtcbmV4cG9ydHMub3Blbk1vZGFsID0gb3Blbk1vZGFsO1xuZXhwb3J0cy5yZXNldElucHV0ID0gcmVzZXRJbnB1dDtcbmV4cG9ydHMucmVzZXRJbnB1dEVycm9yID0gcmVzZXRJbnB1dEVycm9yO1xuZXhwb3J0cy5maXhWZXJ0aWNhbFBvc2l0aW9uID0gZml4VmVydGljYWxQb3NpdGlvbjsiLCJcInVzZSBzdHJpY3RcIjtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcbnZhciBpbmplY3RlZEhUTUwgPVxuXG4vLyBEYXJrIG92ZXJsYXlcblwiPGRpdiBjbGFzcz1cXFwic3dlZXQtb3ZlcmxheVxcXCIgdGFiSW5kZXg9XFxcIi0xXFxcIj48L2Rpdj5cIiArXG5cbi8vIE1vZGFsXG5cIjxkaXYgY2xhc3M9XFxcInN3ZWV0LWFsZXJ0XFxcIj5cIiArXG5cbi8vIEVycm9yIGljb25cblwiPGRpdiBjbGFzcz1cXFwic2EtaWNvbiBzYS1lcnJvclxcXCI+XFxuICAgICAgPHNwYW4gY2xhc3M9XFxcInNhLXgtbWFya1xcXCI+XFxuICAgICAgICA8c3BhbiBjbGFzcz1cXFwic2EtbGluZSBzYS1sZWZ0XFxcIj48L3NwYW4+XFxuICAgICAgICA8c3BhbiBjbGFzcz1cXFwic2EtbGluZSBzYS1yaWdodFxcXCI+PC9zcGFuPlxcbiAgICAgIDwvc3Bhbj5cXG4gICAgPC9kaXY+XCIgK1xuXG4vLyBXYXJuaW5nIGljb25cblwiPGRpdiBjbGFzcz1cXFwic2EtaWNvbiBzYS13YXJuaW5nXFxcIj5cXG4gICAgICA8c3BhbiBjbGFzcz1cXFwic2EtYm9keVxcXCI+PC9zcGFuPlxcbiAgICAgIDxzcGFuIGNsYXNzPVxcXCJzYS1kb3RcXFwiPjwvc3Bhbj5cXG4gICAgPC9kaXY+XCIgK1xuXG4vLyBJbmZvIGljb25cblwiPGRpdiBjbGFzcz1cXFwic2EtaWNvbiBzYS1pbmZvXFxcIj48L2Rpdj5cIiArXG5cbi8vIFN1Y2Nlc3MgaWNvblxuXCI8ZGl2IGNsYXNzPVxcXCJzYS1pY29uIHNhLXN1Y2Nlc3NcXFwiPlxcbiAgICAgIDxzcGFuIGNsYXNzPVxcXCJzYS1saW5lIHNhLXRpcFxcXCI+PC9zcGFuPlxcbiAgICAgIDxzcGFuIGNsYXNzPVxcXCJzYS1saW5lIHNhLWxvbmdcXFwiPjwvc3Bhbj5cXG5cXG4gICAgICA8ZGl2IGNsYXNzPVxcXCJzYS1wbGFjZWhvbGRlclxcXCI+PC9kaXY+XFxuICAgICAgPGRpdiBjbGFzcz1cXFwic2EtZml4XFxcIj48L2Rpdj5cXG4gICAgPC9kaXY+XCIgKyBcIjxkaXYgY2xhc3M9XFxcInNhLWljb24gc2EtY3VzdG9tXFxcIj48L2Rpdj5cIiArXG5cbi8vIFRpdGxlLCB0ZXh0IGFuZCBpbnB1dFxuXCI8aDI+VGl0bGU8L2gyPlxcbiAgICA8cD5UZXh0PC9wPlxcbiAgICA8ZmllbGRzZXQ+XFxuICAgICAgPGlucHV0IHR5cGU9XFxcInRleHRcXFwiIHRhYkluZGV4PVxcXCIzXFxcIiAvPlxcbiAgICAgIDxkaXYgY2xhc3M9XFxcInNhLWlucHV0LWVycm9yXFxcIj48L2Rpdj5cXG4gICAgPC9maWVsZHNldD5cIiArXG5cbi8vIElucHV0IGVycm9yc1xuXCI8ZGl2IGNsYXNzPVxcXCJzYS1lcnJvci1jb250YWluZXJcXFwiPlxcbiAgICAgIDxkaXYgY2xhc3M9XFxcImljb25cXFwiPiE8L2Rpdj5cXG4gICAgICA8cD5Ob3QgdmFsaWQhPC9wPlxcbiAgICA8L2Rpdj5cIiArXG5cbi8vIENhbmNlbCBhbmQgY29uZmlybSBidXR0b25zXG5cIjxkaXYgY2xhc3M9XFxcInNhLWJ1dHRvbi1jb250YWluZXJcXFwiPlxcbiAgICAgIDxidXR0b24gY2xhc3M9XFxcImNhbmNlbFxcXCIgdGFiSW5kZXg9XFxcIjJcXFwiPkNhbmNlbDwvYnV0dG9uPlxcbiAgICAgIDxkaXYgY2xhc3M9XFxcInNhLWNvbmZpcm0tYnV0dG9uLWNvbnRhaW5lclxcXCI+XFxuICAgICAgICA8YnV0dG9uIGNsYXNzPVxcXCJjb25maXJtXFxcIiB0YWJJbmRleD1cXFwiMVxcXCI+T0s8L2J1dHRvbj5cIiArXG5cbi8vIExvYWRpbmcgYW5pbWF0aW9uXG5cIjxkaXYgY2xhc3M9XFxcImxhLWJhbGwtZmFsbFxcXCI+XFxuICAgICAgICAgIDxkaXY+PC9kaXY+XFxuICAgICAgICAgIDxkaXY+PC9kaXY+XFxuICAgICAgICAgIDxkaXY+PC9kaXY+XFxuICAgICAgICA8L2Rpdj5cXG4gICAgICA8L2Rpdj5cXG4gICAgPC9kaXY+XCIgK1xuXG4vLyBFbmQgb2YgbW9kYWxcblwiPC9kaXY+XCI7XG5cbmV4cG9ydHNbXCJkZWZhdWx0XCJdID0gaW5qZWN0ZWRIVE1MO1xubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzW1wiZGVmYXVsdFwiXTsiLCIndXNlIHN0cmljdCc7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX2lzSUU4ID0gcmVxdWlyZSgnLi91dGlscycpO1xuXG52YXIgX2dldE1vZGFsJGdldElucHV0JHNldEZvY3VzU3R5bGUgPSByZXF1aXJlKCcuL2hhbmRsZS1zd2FsLWRvbScpO1xuXG52YXIgX2hhc0NsYXNzJGFkZENsYXNzJHJlbW92ZUNsYXNzJGVzY2FwZUh0bWwkX3Nob3ckc2hvdyRfaGlkZSRoaWRlID0gcmVxdWlyZSgnLi9oYW5kbGUtZG9tJyk7XG5cbnZhciBhbGVydFR5cGVzID0gWydlcnJvcicsICd3YXJuaW5nJywgJ2luZm8nLCAnc3VjY2VzcycsICdpbnB1dCcsICdwcm9tcHQnXTtcblxuLypcbiAqIFNldCB0eXBlLCB0ZXh0IGFuZCBhY3Rpb25zIG9uIG1vZGFsXG4gKi9cbnZhciBzZXRQYXJhbWV0ZXJzID0gZnVuY3Rpb24gc2V0UGFyYW1ldGVycyhwYXJhbXMpIHtcbiAgdmFyIG1vZGFsID0gX2dldE1vZGFsJGdldElucHV0JHNldEZvY3VzU3R5bGUuZ2V0TW9kYWwoKTtcblxuICB2YXIgJHRpdGxlID0gbW9kYWwucXVlcnlTZWxlY3RvcignaDInKTtcbiAgdmFyICR0ZXh0ID0gbW9kYWwucXVlcnlTZWxlY3RvcigncCcpO1xuICB2YXIgJGNhbmNlbEJ0biA9IG1vZGFsLnF1ZXJ5U2VsZWN0b3IoJ2J1dHRvbi5jYW5jZWwnKTtcbiAgdmFyICRjb25maXJtQnRuID0gbW9kYWwucXVlcnlTZWxlY3RvcignYnV0dG9uLmNvbmZpcm0nKTtcblxuICAvKlxuICAgKiBUaXRsZVxuICAgKi9cbiAgJHRpdGxlLmlubmVySFRNTCA9IHBhcmFtcy5odG1sID8gcGFyYW1zLnRpdGxlIDogX2hhc0NsYXNzJGFkZENsYXNzJHJlbW92ZUNsYXNzJGVzY2FwZUh0bWwkX3Nob3ckc2hvdyRfaGlkZSRoaWRlLmVzY2FwZUh0bWwocGFyYW1zLnRpdGxlKS5zcGxpdCgnXFxuJykuam9pbignPGJyPicpO1xuXG4gIC8qXG4gICAqIFRleHRcbiAgICovXG4gICR0ZXh0LmlubmVySFRNTCA9IHBhcmFtcy5odG1sID8gcGFyYW1zLnRleHQgOiBfaGFzQ2xhc3MkYWRkQ2xhc3MkcmVtb3ZlQ2xhc3MkZXNjYXBlSHRtbCRfc2hvdyRzaG93JF9oaWRlJGhpZGUuZXNjYXBlSHRtbChwYXJhbXMudGV4dCB8fCAnJykuc3BsaXQoJ1xcbicpLmpvaW4oJzxicj4nKTtcbiAgaWYgKHBhcmFtcy50ZXh0KSBfaGFzQ2xhc3MkYWRkQ2xhc3MkcmVtb3ZlQ2xhc3MkZXNjYXBlSHRtbCRfc2hvdyRzaG93JF9oaWRlJGhpZGUuc2hvdygkdGV4dCk7XG5cbiAgLypcbiAgICogQ3VzdG9tIGNsYXNzXG4gICAqL1xuICBpZiAocGFyYW1zLmN1c3RvbUNsYXNzKSB7XG4gICAgX2hhc0NsYXNzJGFkZENsYXNzJHJlbW92ZUNsYXNzJGVzY2FwZUh0bWwkX3Nob3ckc2hvdyRfaGlkZSRoaWRlLmFkZENsYXNzKG1vZGFsLCBwYXJhbXMuY3VzdG9tQ2xhc3MpO1xuICAgIG1vZGFsLnNldEF0dHJpYnV0ZSgnZGF0YS1jdXN0b20tY2xhc3MnLCBwYXJhbXMuY3VzdG9tQ2xhc3MpO1xuICB9IGVsc2Uge1xuICAgIC8vIEZpbmQgcHJldmlvdXNseSBzZXQgY2xhc3NlcyBhbmQgcmVtb3ZlIHRoZW1cbiAgICB2YXIgY3VzdG9tQ2xhc3MgPSBtb2RhbC5nZXRBdHRyaWJ1dGUoJ2RhdGEtY3VzdG9tLWNsYXNzJyk7XG4gICAgX2hhc0NsYXNzJGFkZENsYXNzJHJlbW92ZUNsYXNzJGVzY2FwZUh0bWwkX3Nob3ckc2hvdyRfaGlkZSRoaWRlLnJlbW92ZUNsYXNzKG1vZGFsLCBjdXN0b21DbGFzcyk7XG4gICAgbW9kYWwuc2V0QXR0cmlidXRlKCdkYXRhLWN1c3RvbS1jbGFzcycsICcnKTtcbiAgfVxuXG4gIC8qXG4gICAqIEljb25cbiAgICovXG4gIF9oYXNDbGFzcyRhZGRDbGFzcyRyZW1vdmVDbGFzcyRlc2NhcGVIdG1sJF9zaG93JHNob3ckX2hpZGUkaGlkZS5oaWRlKG1vZGFsLnF1ZXJ5U2VsZWN0b3JBbGwoJy5zYS1pY29uJykpO1xuXG4gIGlmIChwYXJhbXMudHlwZSAmJiAhX2lzSUU4LmlzSUU4KCkpIHtcbiAgICB2YXIgX3JldCA9IChmdW5jdGlvbiAoKSB7XG5cbiAgICAgIHZhciB2YWxpZFR5cGUgPSBmYWxzZTtcblxuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhbGVydFR5cGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGlmIChwYXJhbXMudHlwZSA9PT0gYWxlcnRUeXBlc1tpXSkge1xuICAgICAgICAgIHZhbGlkVHlwZSA9IHRydWU7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgaWYgKCF2YWxpZFR5cGUpIHtcbiAgICAgICAgbG9nU3RyKCdVbmtub3duIGFsZXJ0IHR5cGU6ICcgKyBwYXJhbXMudHlwZSk7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgdjogZmFsc2VcbiAgICAgICAgfTtcbiAgICAgIH1cblxuICAgICAgdmFyIHR5cGVzV2l0aEljb25zID0gWydzdWNjZXNzJywgJ2Vycm9yJywgJ3dhcm5pbmcnLCAnaW5mbyddO1xuICAgICAgdmFyICRpY29uID0gdW5kZWZpbmVkO1xuXG4gICAgICBpZiAodHlwZXNXaXRoSWNvbnMuaW5kZXhPZihwYXJhbXMudHlwZSkgIT09IC0xKSB7XG4gICAgICAgICRpY29uID0gbW9kYWwucXVlcnlTZWxlY3RvcignLnNhLWljb24uJyArICdzYS0nICsgcGFyYW1zLnR5cGUpO1xuICAgICAgICBfaGFzQ2xhc3MkYWRkQ2xhc3MkcmVtb3ZlQ2xhc3MkZXNjYXBlSHRtbCRfc2hvdyRzaG93JF9oaWRlJGhpZGUuc2hvdygkaWNvbik7XG4gICAgICB9XG5cbiAgICAgIHZhciAkaW5wdXQgPSBfZ2V0TW9kYWwkZ2V0SW5wdXQkc2V0Rm9jdXNTdHlsZS5nZXRJbnB1dCgpO1xuXG4gICAgICAvLyBBbmltYXRlIGljb25cbiAgICAgIHN3aXRjaCAocGFyYW1zLnR5cGUpIHtcblxuICAgICAgICBjYXNlICdzdWNjZXNzJzpcbiAgICAgICAgICBfaGFzQ2xhc3MkYWRkQ2xhc3MkcmVtb3ZlQ2xhc3MkZXNjYXBlSHRtbCRfc2hvdyRzaG93JF9oaWRlJGhpZGUuYWRkQ2xhc3MoJGljb24sICdhbmltYXRlJyk7XG4gICAgICAgICAgX2hhc0NsYXNzJGFkZENsYXNzJHJlbW92ZUNsYXNzJGVzY2FwZUh0bWwkX3Nob3ckc2hvdyRfaGlkZSRoaWRlLmFkZENsYXNzKCRpY29uLnF1ZXJ5U2VsZWN0b3IoJy5zYS10aXAnKSwgJ2FuaW1hdGVTdWNjZXNzVGlwJyk7XG4gICAgICAgICAgX2hhc0NsYXNzJGFkZENsYXNzJHJlbW92ZUNsYXNzJGVzY2FwZUh0bWwkX3Nob3ckc2hvdyRfaGlkZSRoaWRlLmFkZENsYXNzKCRpY29uLnF1ZXJ5U2VsZWN0b3IoJy5zYS1sb25nJyksICdhbmltYXRlU3VjY2Vzc0xvbmcnKTtcbiAgICAgICAgICBicmVhaztcblxuICAgICAgICBjYXNlICdlcnJvcic6XG4gICAgICAgICAgX2hhc0NsYXNzJGFkZENsYXNzJHJlbW92ZUNsYXNzJGVzY2FwZUh0bWwkX3Nob3ckc2hvdyRfaGlkZSRoaWRlLmFkZENsYXNzKCRpY29uLCAnYW5pbWF0ZUVycm9ySWNvbicpO1xuICAgICAgICAgIF9oYXNDbGFzcyRhZGRDbGFzcyRyZW1vdmVDbGFzcyRlc2NhcGVIdG1sJF9zaG93JHNob3ckX2hpZGUkaGlkZS5hZGRDbGFzcygkaWNvbi5xdWVyeVNlbGVjdG9yKCcuc2EteC1tYXJrJyksICdhbmltYXRlWE1hcmsnKTtcbiAgICAgICAgICBicmVhaztcblxuICAgICAgICBjYXNlICd3YXJuaW5nJzpcbiAgICAgICAgICBfaGFzQ2xhc3MkYWRkQ2xhc3MkcmVtb3ZlQ2xhc3MkZXNjYXBlSHRtbCRfc2hvdyRzaG93JF9oaWRlJGhpZGUuYWRkQ2xhc3MoJGljb24sICdwdWxzZVdhcm5pbmcnKTtcbiAgICAgICAgICBfaGFzQ2xhc3MkYWRkQ2xhc3MkcmVtb3ZlQ2xhc3MkZXNjYXBlSHRtbCRfc2hvdyRzaG93JF9oaWRlJGhpZGUuYWRkQ2xhc3MoJGljb24ucXVlcnlTZWxlY3RvcignLnNhLWJvZHknKSwgJ3B1bHNlV2FybmluZ0lucycpO1xuICAgICAgICAgIF9oYXNDbGFzcyRhZGRDbGFzcyRyZW1vdmVDbGFzcyRlc2NhcGVIdG1sJF9zaG93JHNob3ckX2hpZGUkaGlkZS5hZGRDbGFzcygkaWNvbi5xdWVyeVNlbGVjdG9yKCcuc2EtZG90JyksICdwdWxzZVdhcm5pbmdJbnMnKTtcbiAgICAgICAgICBicmVhaztcblxuICAgICAgICBjYXNlICdpbnB1dCc6XG4gICAgICAgIGNhc2UgJ3Byb21wdCc6XG4gICAgICAgICAgJGlucHV0LnNldEF0dHJpYnV0ZSgndHlwZScsIHBhcmFtcy5pbnB1dFR5cGUpO1xuICAgICAgICAgICRpbnB1dC52YWx1ZSA9IHBhcmFtcy5pbnB1dFZhbHVlO1xuICAgICAgICAgICRpbnB1dC5zZXRBdHRyaWJ1dGUoJ3BsYWNlaG9sZGVyJywgcGFyYW1zLmlucHV0UGxhY2Vob2xkZXIpO1xuICAgICAgICAgIF9oYXNDbGFzcyRhZGRDbGFzcyRyZW1vdmVDbGFzcyRlc2NhcGVIdG1sJF9zaG93JHNob3ckX2hpZGUkaGlkZS5hZGRDbGFzcyhtb2RhbCwgJ3Nob3ctaW5wdXQnKTtcbiAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICRpbnB1dC5mb2N1cygpO1xuICAgICAgICAgICAgJGlucHV0LmFkZEV2ZW50TGlzdGVuZXIoJ2tleXVwJywgc3dhbC5yZXNldElucHV0RXJyb3IpO1xuICAgICAgICAgIH0sIDQwMCk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfSkoKTtcblxuICAgIGlmICh0eXBlb2YgX3JldCA9PT0gJ29iamVjdCcpIHtcbiAgICAgIHJldHVybiBfcmV0LnY7XG4gICAgfVxuICB9XG5cbiAgLypcbiAgICogQ3VzdG9tIGltYWdlXG4gICAqL1xuICBpZiAocGFyYW1zLmltYWdlVXJsKSB7XG4gICAgdmFyICRjdXN0b21JY29uID0gbW9kYWwucXVlcnlTZWxlY3RvcignLnNhLWljb24uc2EtY3VzdG9tJyk7XG5cbiAgICAkY3VzdG9tSWNvbi5zdHlsZS5iYWNrZ3JvdW5kSW1hZ2UgPSAndXJsKCcgKyBwYXJhbXMuaW1hZ2VVcmwgKyAnKSc7XG4gICAgX2hhc0NsYXNzJGFkZENsYXNzJHJlbW92ZUNsYXNzJGVzY2FwZUh0bWwkX3Nob3ckc2hvdyRfaGlkZSRoaWRlLnNob3coJGN1c3RvbUljb24pO1xuXG4gICAgdmFyIF9pbWdXaWR0aCA9IDgwO1xuICAgIHZhciBfaW1nSGVpZ2h0ID0gODA7XG5cbiAgICBpZiAocGFyYW1zLmltYWdlU2l6ZSkge1xuICAgICAgdmFyIGRpbWVuc2lvbnMgPSBwYXJhbXMuaW1hZ2VTaXplLnRvU3RyaW5nKCkuc3BsaXQoJ3gnKTtcbiAgICAgIHZhciBpbWdXaWR0aCA9IGRpbWVuc2lvbnNbMF07XG4gICAgICB2YXIgaW1nSGVpZ2h0ID0gZGltZW5zaW9uc1sxXTtcblxuICAgICAgaWYgKCFpbWdXaWR0aCB8fCAhaW1nSGVpZ2h0KSB7XG4gICAgICAgIGxvZ1N0cignUGFyYW1ldGVyIGltYWdlU2l6ZSBleHBlY3RzIHZhbHVlIHdpdGggZm9ybWF0IFdJRFRIeEhFSUdIVCwgZ290ICcgKyBwYXJhbXMuaW1hZ2VTaXplKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIF9pbWdXaWR0aCA9IGltZ1dpZHRoO1xuICAgICAgICBfaW1nSGVpZ2h0ID0gaW1nSGVpZ2h0O1xuICAgICAgfVxuICAgIH1cblxuICAgICRjdXN0b21JY29uLnNldEF0dHJpYnV0ZSgnc3R5bGUnLCAkY3VzdG9tSWNvbi5nZXRBdHRyaWJ1dGUoJ3N0eWxlJykgKyAnd2lkdGg6JyArIF9pbWdXaWR0aCArICdweDsgaGVpZ2h0OicgKyBfaW1nSGVpZ2h0ICsgJ3B4Jyk7XG4gIH1cblxuICAvKlxuICAgKiBTaG93IGNhbmNlbCBidXR0b24/XG4gICAqL1xuICBtb2RhbC5zZXRBdHRyaWJ1dGUoJ2RhdGEtaGFzLWNhbmNlbC1idXR0b24nLCBwYXJhbXMuc2hvd0NhbmNlbEJ1dHRvbik7XG4gIGlmIChwYXJhbXMuc2hvd0NhbmNlbEJ1dHRvbikge1xuICAgICRjYW5jZWxCdG4uc3R5bGUuZGlzcGxheSA9ICdpbmxpbmUtYmxvY2snO1xuICB9IGVsc2Uge1xuICAgIF9oYXNDbGFzcyRhZGRDbGFzcyRyZW1vdmVDbGFzcyRlc2NhcGVIdG1sJF9zaG93JHNob3ckX2hpZGUkaGlkZS5oaWRlKCRjYW5jZWxCdG4pO1xuICB9XG5cbiAgLypcbiAgICogU2hvdyBjb25maXJtIGJ1dHRvbj9cbiAgICovXG4gIG1vZGFsLnNldEF0dHJpYnV0ZSgnZGF0YS1oYXMtY29uZmlybS1idXR0b24nLCBwYXJhbXMuc2hvd0NvbmZpcm1CdXR0b24pO1xuICBpZiAocGFyYW1zLnNob3dDb25maXJtQnV0dG9uKSB7XG4gICAgJGNvbmZpcm1CdG4uc3R5bGUuZGlzcGxheSA9ICdpbmxpbmUtYmxvY2snO1xuICB9IGVsc2Uge1xuICAgIF9oYXNDbGFzcyRhZGRDbGFzcyRyZW1vdmVDbGFzcyRlc2NhcGVIdG1sJF9zaG93JHNob3ckX2hpZGUkaGlkZS5oaWRlKCRjb25maXJtQnRuKTtcbiAgfVxuXG4gIC8qXG4gICAqIEN1c3RvbSB0ZXh0IG9uIGNhbmNlbC9jb25maXJtIGJ1dHRvbnNcbiAgICovXG4gIGlmIChwYXJhbXMuY2FuY2VsQnV0dG9uVGV4dCkge1xuICAgICRjYW5jZWxCdG4uaW5uZXJIVE1MID0gX2hhc0NsYXNzJGFkZENsYXNzJHJlbW92ZUNsYXNzJGVzY2FwZUh0bWwkX3Nob3ckc2hvdyRfaGlkZSRoaWRlLmVzY2FwZUh0bWwocGFyYW1zLmNhbmNlbEJ1dHRvblRleHQpO1xuICB9XG4gIGlmIChwYXJhbXMuY29uZmlybUJ1dHRvblRleHQpIHtcbiAgICAkY29uZmlybUJ0bi5pbm5lckhUTUwgPSBfaGFzQ2xhc3MkYWRkQ2xhc3MkcmVtb3ZlQ2xhc3MkZXNjYXBlSHRtbCRfc2hvdyRzaG93JF9oaWRlJGhpZGUuZXNjYXBlSHRtbChwYXJhbXMuY29uZmlybUJ1dHRvblRleHQpO1xuICB9XG5cbiAgLypcbiAgICogQ3VzdG9tIGNvbG9yIG9uIGNvbmZpcm0gYnV0dG9uXG4gICAqL1xuICBpZiAocGFyYW1zLmNvbmZpcm1CdXR0b25Db2xvcikge1xuICAgIC8vIFNldCBjb25maXJtIGJ1dHRvbiB0byBzZWxlY3RlZCBiYWNrZ3JvdW5kIGNvbG9yXG4gICAgJGNvbmZpcm1CdG4uc3R5bGUuYmFja2dyb3VuZENvbG9yID0gcGFyYW1zLmNvbmZpcm1CdXR0b25Db2xvcjtcblxuICAgIC8vIFNldCB0aGUgY29uZmlybSBidXR0b24gY29sb3IgdG8gdGhlIGxvYWRpbmcgcmluZ1xuICAgICRjb25maXJtQnRuLnN0eWxlLmJvcmRlckxlZnRDb2xvciA9IHBhcmFtcy5jb25maXJtTG9hZGluZ0J1dHRvbkNvbG9yO1xuICAgICRjb25maXJtQnRuLnN0eWxlLmJvcmRlclJpZ2h0Q29sb3IgPSBwYXJhbXMuY29uZmlybUxvYWRpbmdCdXR0b25Db2xvcjtcblxuICAgIC8vIFNldCBib3gtc2hhZG93IHRvIGRlZmF1bHQgZm9jdXNlZCBidXR0b25cbiAgICBfZ2V0TW9kYWwkZ2V0SW5wdXQkc2V0Rm9jdXNTdHlsZS5zZXRGb2N1c1N0eWxlKCRjb25maXJtQnRuLCBwYXJhbXMuY29uZmlybUJ1dHRvbkNvbG9yKTtcbiAgfVxuXG4gIC8qXG4gICAqIEFsbG93IG91dHNpZGUgY2xpY2tcbiAgICovXG4gIG1vZGFsLnNldEF0dHJpYnV0ZSgnZGF0YS1hbGxvdy1vdXRzaWRlLWNsaWNrJywgcGFyYW1zLmFsbG93T3V0c2lkZUNsaWNrKTtcblxuICAvKlxuICAgKiBDYWxsYmFjayBmdW5jdGlvblxuICAgKi9cbiAgdmFyIGhhc0RvbmVGdW5jdGlvbiA9IHBhcmFtcy5kb25lRnVuY3Rpb24gPyB0cnVlIDogZmFsc2U7XG4gIG1vZGFsLnNldEF0dHJpYnV0ZSgnZGF0YS1oYXMtZG9uZS1mdW5jdGlvbicsIGhhc0RvbmVGdW5jdGlvbik7XG5cbiAgLypcbiAgICogQW5pbWF0aW9uXG4gICAqL1xuICBpZiAoIXBhcmFtcy5hbmltYXRpb24pIHtcbiAgICBtb2RhbC5zZXRBdHRyaWJ1dGUoJ2RhdGEtYW5pbWF0aW9uJywgJ25vbmUnKTtcbiAgfSBlbHNlIGlmICh0eXBlb2YgcGFyYW1zLmFuaW1hdGlvbiA9PT0gJ3N0cmluZycpIHtcbiAgICBtb2RhbC5zZXRBdHRyaWJ1dGUoJ2RhdGEtYW5pbWF0aW9uJywgcGFyYW1zLmFuaW1hdGlvbik7IC8vIEN1c3RvbSBhbmltYXRpb25cbiAgfSBlbHNlIHtcbiAgICBtb2RhbC5zZXRBdHRyaWJ1dGUoJ2RhdGEtYW5pbWF0aW9uJywgJ3BvcCcpO1xuICB9XG5cbiAgLypcbiAgICogVGltZXJcbiAgICovXG4gIG1vZGFsLnNldEF0dHJpYnV0ZSgnZGF0YS10aW1lcicsIHBhcmFtcy50aW1lcik7XG59O1xuXG5leHBvcnRzWydkZWZhdWx0J10gPSBzZXRQYXJhbWV0ZXJzO1xubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzWydkZWZhdWx0J107IiwiJ3VzZSBzdHJpY3QnO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcbi8qXG4gKiBBbGxvdyB1c2VyIHRvIHBhc3MgdGhlaXIgb3duIHBhcmFtc1xuICovXG52YXIgZXh0ZW5kID0gZnVuY3Rpb24gZXh0ZW5kKGEsIGIpIHtcbiAgZm9yICh2YXIga2V5IGluIGIpIHtcbiAgICBpZiAoYi5oYXNPd25Qcm9wZXJ0eShrZXkpKSB7XG4gICAgICBhW2tleV0gPSBiW2tleV07XG4gICAgfVxuICB9XG4gIHJldHVybiBhO1xufTtcblxuLypcbiAqIENvbnZlcnQgSEVYIGNvZGVzIHRvIFJHQiB2YWx1ZXMgKCMwMDAwMDAgLT4gcmdiKDAsMCwwKSlcbiAqL1xudmFyIGhleFRvUmdiID0gZnVuY3Rpb24gaGV4VG9SZ2IoaGV4KSB7XG4gIHZhciByZXN1bHQgPSAvXiM/KFthLWZcXGRdezJ9KShbYS1mXFxkXXsyfSkoW2EtZlxcZF17Mn0pJC9pLmV4ZWMoaGV4KTtcbiAgcmV0dXJuIHJlc3VsdCA/IHBhcnNlSW50KHJlc3VsdFsxXSwgMTYpICsgJywgJyArIHBhcnNlSW50KHJlc3VsdFsyXSwgMTYpICsgJywgJyArIHBhcnNlSW50KHJlc3VsdFszXSwgMTYpIDogbnVsbDtcbn07XG5cbi8qXG4gKiBDaGVjayBpZiB0aGUgdXNlciBpcyB1c2luZyBJbnRlcm5ldCBFeHBsb3JlciA4IChmb3IgZmFsbGJhY2tzKVxuICovXG52YXIgaXNJRTggPSBmdW5jdGlvbiBpc0lFOCgpIHtcbiAgcmV0dXJuIHdpbmRvdy5hdHRhY2hFdmVudCAmJiAhd2luZG93LmFkZEV2ZW50TGlzdGVuZXI7XG59O1xuXG4vKlxuICogSUUgY29tcGF0aWJsZSBsb2dnaW5nIGZvciBkZXZlbG9wZXJzXG4gKi9cbnZhciBsb2dTdHIgPSBmdW5jdGlvbiBsb2dTdHIoc3RyaW5nKSB7XG4gIGlmICh3aW5kb3cuY29uc29sZSkge1xuICAgIC8vIElFLi4uXG4gICAgd2luZG93LmNvbnNvbGUubG9nKCdTd2VldEFsZXJ0OiAnICsgc3RyaW5nKTtcbiAgfVxufTtcblxuLypcbiAqIFNldCBob3ZlciwgYWN0aXZlIGFuZCBmb2N1cy1zdGF0ZXMgZm9yIGJ1dHRvbnMgXG4gKiAoc291cmNlOiBodHRwOi8vd3d3LnNpdGVwb2ludC5jb20vamF2YXNjcmlwdC1nZW5lcmF0ZS1saWdodGVyLWRhcmtlci1jb2xvcilcbiAqL1xudmFyIGNvbG9yTHVtaW5hbmNlID0gZnVuY3Rpb24gY29sb3JMdW1pbmFuY2UoaGV4LCBsdW0pIHtcbiAgLy8gVmFsaWRhdGUgaGV4IHN0cmluZ1xuICBoZXggPSBTdHJpbmcoaGV4KS5yZXBsYWNlKC9bXjAtOWEtZl0vZ2ksICcnKTtcbiAgaWYgKGhleC5sZW5ndGggPCA2KSB7XG4gICAgaGV4ID0gaGV4WzBdICsgaGV4WzBdICsgaGV4WzFdICsgaGV4WzFdICsgaGV4WzJdICsgaGV4WzJdO1xuICB9XG4gIGx1bSA9IGx1bSB8fCAwO1xuXG4gIC8vIENvbnZlcnQgdG8gZGVjaW1hbCBhbmQgY2hhbmdlIGx1bWlub3NpdHlcbiAgdmFyIHJnYiA9ICcjJztcbiAgdmFyIGM7XG4gIHZhciBpO1xuXG4gIGZvciAoaSA9IDA7IGkgPCAzOyBpKyspIHtcbiAgICBjID0gcGFyc2VJbnQoaGV4LnN1YnN0cihpICogMiwgMiksIDE2KTtcbiAgICBjID0gTWF0aC5yb3VuZChNYXRoLm1pbihNYXRoLm1heCgwLCBjICsgYyAqIGx1bSksIDI1NSkpLnRvU3RyaW5nKDE2KTtcbiAgICByZ2IgKz0gKCcwMCcgKyBjKS5zdWJzdHIoYy5sZW5ndGgpO1xuICB9XG5cbiAgcmV0dXJuIHJnYjtcbn07XG5cbmV4cG9ydHMuZXh0ZW5kID0gZXh0ZW5kO1xuZXhwb3J0cy5oZXhUb1JnYiA9IGhleFRvUmdiO1xuZXhwb3J0cy5pc0lFOCA9IGlzSUU4O1xuZXhwb3J0cy5sb2dTdHIgPSBsb2dTdHI7XG5leHBvcnRzLmNvbG9yTHVtaW5hbmNlID0gY29sb3JMdW1pbmFuY2U7IiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQgPSBmdW5jdGlvbiAob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7ICdkZWZhdWx0Jzogb2JqIH07IH07XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuLy8gU3dlZXRBbGVydFxuLy8gMjAxNC0yMDE1IChjKSAtIFRyaXN0YW4gRWR3YXJkc1xuLy8gZ2l0aHViLmNvbS90NHQ1L3N3ZWV0YWxlcnRcblxuLypcbiAqIGpRdWVyeS1saWtlIGZ1bmN0aW9ucyBmb3IgbWFuaXB1bGF0aW5nIHRoZSBET01cbiAqL1xuXG52YXIgX2hhc0NsYXNzJGFkZENsYXNzJHJlbW92ZUNsYXNzJGVzY2FwZUh0bWwkX3Nob3ckc2hvdyRfaGlkZSRoaWRlJGlzRGVzY2VuZGFudCRnZXRUb3BNYXJnaW4kZmFkZUluJGZhZGVPdXQkZmlyZUNsaWNrJHN0b3BFdmVudFByb3BhZ2F0aW9uID0gcmVxdWlyZSgnLi9tb2R1bGVzL2hhbmRsZS1kb20nKTtcblxuLypcbiAqIEhhbmR5IHV0aWxpdGllc1xuICovXG5cbnZhciBfZXh0ZW5kJGhleFRvUmdiJGlzSUU4JGxvZ1N0ciRjb2xvckx1bWluYW5jZSA9IHJlcXVpcmUoJy4vbW9kdWxlcy91dGlscycpO1xuXG4vKlxuICogIEhhbmRsZSBzd2VldEFsZXJ0J3MgRE9NIGVsZW1lbnRzXG4gKi9cblxudmFyIF9zd2VldEFsZXJ0SW5pdGlhbGl6ZSRnZXRNb2RhbCRnZXRPdmVybGF5JGdldElucHV0JHNldEZvY3VzU3R5bGUkb3Blbk1vZGFsJHJlc2V0SW5wdXQkZml4VmVydGljYWxQb3NpdGlvbiA9IHJlcXVpcmUoJy4vbW9kdWxlcy9oYW5kbGUtc3dhbC1kb20nKTtcblxuLy8gSGFuZGxlIGJ1dHRvbiBldmVudHMgYW5kIGtleWJvYXJkIGV2ZW50c1xuXG52YXIgX2hhbmRsZUJ1dHRvbiRoYW5kbGVDb25maXJtJGhhbmRsZUNhbmNlbCA9IHJlcXVpcmUoJy4vbW9kdWxlcy9oYW5kbGUtY2xpY2snKTtcblxudmFyIF9oYW5kbGVLZXlEb3duID0gcmVxdWlyZSgnLi9tb2R1bGVzL2hhbmRsZS1rZXknKTtcblxudmFyIF9oYW5kbGVLZXlEb3duMiA9IF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKF9oYW5kbGVLZXlEb3duKTtcblxuLy8gRGVmYXVsdCB2YWx1ZXNcblxudmFyIF9kZWZhdWx0UGFyYW1zID0gcmVxdWlyZSgnLi9tb2R1bGVzL2RlZmF1bHQtcGFyYW1zJyk7XG5cbnZhciBfZGVmYXVsdFBhcmFtczIgPSBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChfZGVmYXVsdFBhcmFtcyk7XG5cbnZhciBfc2V0UGFyYW1ldGVycyA9IHJlcXVpcmUoJy4vbW9kdWxlcy9zZXQtcGFyYW1zJyk7XG5cbnZhciBfc2V0UGFyYW1ldGVyczIgPSBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChfc2V0UGFyYW1ldGVycyk7XG5cbi8qXG4gKiBSZW1lbWJlciBzdGF0ZSBpbiBjYXNlcyB3aGVyZSBvcGVuaW5nIGFuZCBoYW5kbGluZyBhIG1vZGFsIHdpbGwgZmlkZGxlIHdpdGggaXQuXG4gKiAoV2UgYWxzbyB1c2Ugd2luZG93LnByZXZpb3VzQWN0aXZlRWxlbWVudCBhcyBhIGdsb2JhbCB2YXJpYWJsZSlcbiAqL1xudmFyIHByZXZpb3VzV2luZG93S2V5RG93bjtcbnZhciBsYXN0Rm9jdXNlZEJ1dHRvbjtcblxuLypcbiAqIEdsb2JhbCBzd2VldEFsZXJ0IGZ1bmN0aW9uXG4gKiAodGhpcyBpcyB3aGF0IHRoZSB1c2VyIGNhbGxzKVxuICovXG52YXIgc3dlZXRBbGVydCwgc3dhbDtcblxuZXhwb3J0c1snZGVmYXVsdCddID0gc3dlZXRBbGVydCA9IHN3YWwgPSBmdW5jdGlvbiAoKSB7XG4gIHZhciBjdXN0b21pemF0aW9ucyA9IGFyZ3VtZW50c1swXTtcblxuICBfaGFzQ2xhc3MkYWRkQ2xhc3MkcmVtb3ZlQ2xhc3MkZXNjYXBlSHRtbCRfc2hvdyRzaG93JF9oaWRlJGhpZGUkaXNEZXNjZW5kYW50JGdldFRvcE1hcmdpbiRmYWRlSW4kZmFkZU91dCRmaXJlQ2xpY2skc3RvcEV2ZW50UHJvcGFnYXRpb24uYWRkQ2xhc3MoZG9jdW1lbnQuYm9keSwgJ3N0b3Atc2Nyb2xsaW5nJyk7XG4gIF9zd2VldEFsZXJ0SW5pdGlhbGl6ZSRnZXRNb2RhbCRnZXRPdmVybGF5JGdldElucHV0JHNldEZvY3VzU3R5bGUkb3Blbk1vZGFsJHJlc2V0SW5wdXQkZml4VmVydGljYWxQb3NpdGlvbi5yZXNldElucHV0KCk7XG5cbiAgLypcbiAgICogVXNlIGFyZ3VtZW50IGlmIGRlZmluZWQgb3IgZGVmYXVsdCB2YWx1ZSBmcm9tIHBhcmFtcyBvYmplY3Qgb3RoZXJ3aXNlLlxuICAgKiBTdXBwb3J0cyB0aGUgY2FzZSB3aGVyZSBhIGRlZmF1bHQgdmFsdWUgaXMgYm9vbGVhbiB0cnVlIGFuZCBzaG91bGQgYmVcbiAgICogb3ZlcnJpZGRlbiBieSBhIGNvcnJlc3BvbmRpbmcgZXhwbGljaXQgYXJndW1lbnQgd2hpY2ggaXMgYm9vbGVhbiBmYWxzZS5cbiAgICovXG4gIGZ1bmN0aW9uIGFyZ3VtZW50T3JEZWZhdWx0KGtleSkge1xuICAgIHZhciBhcmdzID0gY3VzdG9taXphdGlvbnM7XG4gICAgcmV0dXJuIGFyZ3Nba2V5XSA9PT0gdW5kZWZpbmVkID8gX2RlZmF1bHRQYXJhbXMyWydkZWZhdWx0J11ba2V5XSA6IGFyZ3Nba2V5XTtcbiAgfVxuXG4gIGlmIChjdXN0b21pemF0aW9ucyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgX2V4dGVuZCRoZXhUb1JnYiRpc0lFOCRsb2dTdHIkY29sb3JMdW1pbmFuY2UubG9nU3RyKCdTd2VldEFsZXJ0IGV4cGVjdHMgYXQgbGVhc3QgMSBhdHRyaWJ1dGUhJyk7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgdmFyIHBhcmFtcyA9IF9leHRlbmQkaGV4VG9SZ2IkaXNJRTgkbG9nU3RyJGNvbG9yTHVtaW5hbmNlLmV4dGVuZCh7fSwgX2RlZmF1bHRQYXJhbXMyWydkZWZhdWx0J10pO1xuXG4gIHN3aXRjaCAodHlwZW9mIGN1c3RvbWl6YXRpb25zKSB7XG5cbiAgICAvLyBFeDogc3dhbChcIkhlbGxvXCIsIFwiSnVzdCB0ZXN0aW5nXCIsIFwiaW5mb1wiKTtcbiAgICBjYXNlICdzdHJpbmcnOlxuICAgICAgcGFyYW1zLnRpdGxlID0gY3VzdG9taXphdGlvbnM7XG4gICAgICBwYXJhbXMudGV4dCA9IGFyZ3VtZW50c1sxXSB8fCAnJztcbiAgICAgIHBhcmFtcy50eXBlID0gYXJndW1lbnRzWzJdIHx8ICcnO1xuICAgICAgYnJlYWs7XG5cbiAgICAvLyBFeDogc3dhbCh7IHRpdGxlOlwiSGVsbG9cIiwgdGV4dDogXCJKdXN0IHRlc3RpbmdcIiwgdHlwZTogXCJpbmZvXCIgfSk7XG4gICAgY2FzZSAnb2JqZWN0JzpcbiAgICAgIGlmIChjdXN0b21pemF0aW9ucy50aXRsZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIF9leHRlbmQkaGV4VG9SZ2IkaXNJRTgkbG9nU3RyJGNvbG9yTHVtaW5hbmNlLmxvZ1N0cignTWlzc2luZyBcInRpdGxlXCIgYXJndW1lbnQhJyk7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cblxuICAgICAgcGFyYW1zLnRpdGxlID0gY3VzdG9taXphdGlvbnMudGl0bGU7XG5cbiAgICAgIGZvciAodmFyIGN1c3RvbU5hbWUgaW4gX2RlZmF1bHRQYXJhbXMyWydkZWZhdWx0J10pIHtcbiAgICAgICAgcGFyYW1zW2N1c3RvbU5hbWVdID0gYXJndW1lbnRPckRlZmF1bHQoY3VzdG9tTmFtZSk7XG4gICAgICB9XG5cbiAgICAgIC8vIFNob3cgXCJDb25maXJtXCIgaW5zdGVhZCBvZiBcIk9LXCIgaWYgY2FuY2VsIGJ1dHRvbiBpcyB2aXNpYmxlXG4gICAgICBwYXJhbXMuY29uZmlybUJ1dHRvblRleHQgPSBwYXJhbXMuc2hvd0NhbmNlbEJ1dHRvbiA/ICdDb25maXJtJyA6IF9kZWZhdWx0UGFyYW1zMlsnZGVmYXVsdCddLmNvbmZpcm1CdXR0b25UZXh0O1xuICAgICAgcGFyYW1zLmNvbmZpcm1CdXR0b25UZXh0ID0gYXJndW1lbnRPckRlZmF1bHQoJ2NvbmZpcm1CdXR0b25UZXh0Jyk7XG5cbiAgICAgIC8vIENhbGxiYWNrIGZ1bmN0aW9uIHdoZW4gY2xpY2tpbmcgb24gXCJPS1wiL1wiQ2FuY2VsXCJcbiAgICAgIHBhcmFtcy5kb25lRnVuY3Rpb24gPSBhcmd1bWVudHNbMV0gfHwgbnVsbDtcblxuICAgICAgYnJlYWs7XG5cbiAgICBkZWZhdWx0OlxuICAgICAgX2V4dGVuZCRoZXhUb1JnYiRpc0lFOCRsb2dTdHIkY29sb3JMdW1pbmFuY2UubG9nU3RyKCdVbmV4cGVjdGVkIHR5cGUgb2YgYXJndW1lbnQhIEV4cGVjdGVkIFwic3RyaW5nXCIgb3IgXCJvYmplY3RcIiwgZ290ICcgKyB0eXBlb2YgY3VzdG9taXphdGlvbnMpO1xuICAgICAgcmV0dXJuIGZhbHNlO1xuXG4gIH1cblxuICBfc2V0UGFyYW1ldGVyczJbJ2RlZmF1bHQnXShwYXJhbXMpO1xuICBfc3dlZXRBbGVydEluaXRpYWxpemUkZ2V0TW9kYWwkZ2V0T3ZlcmxheSRnZXRJbnB1dCRzZXRGb2N1c1N0eWxlJG9wZW5Nb2RhbCRyZXNldElucHV0JGZpeFZlcnRpY2FsUG9zaXRpb24uZml4VmVydGljYWxQb3NpdGlvbigpO1xuICBfc3dlZXRBbGVydEluaXRpYWxpemUkZ2V0TW9kYWwkZ2V0T3ZlcmxheSRnZXRJbnB1dCRzZXRGb2N1c1N0eWxlJG9wZW5Nb2RhbCRyZXNldElucHV0JGZpeFZlcnRpY2FsUG9zaXRpb24ub3Blbk1vZGFsKGFyZ3VtZW50c1sxXSk7XG5cbiAgLy8gTW9kYWwgaW50ZXJhY3Rpb25zXG4gIHZhciBtb2RhbCA9IF9zd2VldEFsZXJ0SW5pdGlhbGl6ZSRnZXRNb2RhbCRnZXRPdmVybGF5JGdldElucHV0JHNldEZvY3VzU3R5bGUkb3Blbk1vZGFsJHJlc2V0SW5wdXQkZml4VmVydGljYWxQb3NpdGlvbi5nZXRNb2RhbCgpO1xuXG4gIC8qXG4gICAqIE1ha2Ugc3VyZSBhbGwgbW9kYWwgYnV0dG9ucyByZXNwb25kIHRvIGFsbCBldmVudHNcbiAgICovXG4gIHZhciAkYnV0dG9ucyA9IG1vZGFsLnF1ZXJ5U2VsZWN0b3JBbGwoJ2J1dHRvbicpO1xuICB2YXIgYnV0dG9uRXZlbnRzID0gWydvbmNsaWNrJywgJ29ubW91c2VvdmVyJywgJ29ubW91c2VvdXQnLCAnb25tb3VzZWRvd24nLCAnb25tb3VzZXVwJywgJ29uZm9jdXMnXTtcbiAgdmFyIG9uQnV0dG9uRXZlbnQgPSBmdW5jdGlvbiBvbkJ1dHRvbkV2ZW50KGUpIHtcbiAgICByZXR1cm4gX2hhbmRsZUJ1dHRvbiRoYW5kbGVDb25maXJtJGhhbmRsZUNhbmNlbC5oYW5kbGVCdXR0b24oZSwgcGFyYW1zLCBtb2RhbCk7XG4gIH07XG5cbiAgZm9yICh2YXIgYnRuSW5kZXggPSAwOyBidG5JbmRleCA8ICRidXR0b25zLmxlbmd0aDsgYnRuSW5kZXgrKykge1xuICAgIGZvciAodmFyIGV2dEluZGV4ID0gMDsgZXZ0SW5kZXggPCBidXR0b25FdmVudHMubGVuZ3RoOyBldnRJbmRleCsrKSB7XG4gICAgICB2YXIgYnRuRXZ0ID0gYnV0dG9uRXZlbnRzW2V2dEluZGV4XTtcbiAgICAgICRidXR0b25zW2J0bkluZGV4XVtidG5FdnRdID0gb25CdXR0b25FdmVudDtcbiAgICB9XG4gIH1cblxuICAvLyBDbGlja2luZyBvdXRzaWRlIHRoZSBtb2RhbCBkaXNtaXNzZXMgaXQgKGlmIGFsbG93ZWQgYnkgdXNlcilcbiAgX3N3ZWV0QWxlcnRJbml0aWFsaXplJGdldE1vZGFsJGdldE92ZXJsYXkkZ2V0SW5wdXQkc2V0Rm9jdXNTdHlsZSRvcGVuTW9kYWwkcmVzZXRJbnB1dCRmaXhWZXJ0aWNhbFBvc2l0aW9uLmdldE92ZXJsYXkoKS5vbmNsaWNrID0gb25CdXR0b25FdmVudDtcblxuICBwcmV2aW91c1dpbmRvd0tleURvd24gPSB3aW5kb3cub25rZXlkb3duO1xuXG4gIHZhciBvbktleUV2ZW50ID0gZnVuY3Rpb24gb25LZXlFdmVudChlKSB7XG4gICAgcmV0dXJuIF9oYW5kbGVLZXlEb3duMlsnZGVmYXVsdCddKGUsIHBhcmFtcywgbW9kYWwpO1xuICB9O1xuICB3aW5kb3cub25rZXlkb3duID0gb25LZXlFdmVudDtcblxuICB3aW5kb3cub25mb2N1cyA9IGZ1bmN0aW9uICgpIHtcbiAgICAvLyBXaGVuIHRoZSB1c2VyIGhhcyBmb2N1c2VkIGF3YXkgYW5kIGZvY3VzZWQgYmFjayBmcm9tIHRoZSB3aG9sZSB3aW5kb3cuXG4gICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAvLyBQdXQgaW4gYSB0aW1lb3V0IHRvIGp1bXAgb3V0IG9mIHRoZSBldmVudCBzZXF1ZW5jZS5cbiAgICAgIC8vIENhbGxpbmcgZm9jdXMoKSBpbiB0aGUgZXZlbnQgc2VxdWVuY2UgY29uZnVzZXMgdGhpbmdzLlxuICAgICAgaWYgKGxhc3RGb2N1c2VkQnV0dG9uICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgbGFzdEZvY3VzZWRCdXR0b24uZm9jdXMoKTtcbiAgICAgICAgbGFzdEZvY3VzZWRCdXR0b24gPSB1bmRlZmluZWQ7XG4gICAgICB9XG4gICAgfSwgMCk7XG4gIH07XG5cbiAgLy8gU2hvdyBhbGVydCB3aXRoIGVuYWJsZWQgYnV0dG9ucyBhbHdheXNcbiAgc3dhbC5lbmFibGVCdXR0b25zKCk7XG59O1xuXG4vKlxuICogU2V0IGRlZmF1bHQgcGFyYW1zIGZvciBlYWNoIHBvcHVwXG4gKiBAcGFyYW0ge09iamVjdH0gdXNlclBhcmFtc1xuICovXG5zd2VldEFsZXJ0LnNldERlZmF1bHRzID0gc3dhbC5zZXREZWZhdWx0cyA9IGZ1bmN0aW9uICh1c2VyUGFyYW1zKSB7XG4gIGlmICghdXNlclBhcmFtcykge1xuICAgIHRocm93IG5ldyBFcnJvcigndXNlclBhcmFtcyBpcyByZXF1aXJlZCcpO1xuICB9XG4gIGlmICh0eXBlb2YgdXNlclBhcmFtcyAhPT0gJ29iamVjdCcpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ3VzZXJQYXJhbXMgaGFzIHRvIGJlIGEgb2JqZWN0Jyk7XG4gIH1cblxuICBfZXh0ZW5kJGhleFRvUmdiJGlzSUU4JGxvZ1N0ciRjb2xvckx1bWluYW5jZS5leHRlbmQoX2RlZmF1bHRQYXJhbXMyWydkZWZhdWx0J10sIHVzZXJQYXJhbXMpO1xufTtcblxuLypcbiAqIEFuaW1hdGlvbiB3aGVuIGNsb3NpbmcgbW9kYWxcbiAqL1xuc3dlZXRBbGVydC5jbG9zZSA9IHN3YWwuY2xvc2UgPSBmdW5jdGlvbiAoKSB7XG4gIHZhciBtb2RhbCA9IF9zd2VldEFsZXJ0SW5pdGlhbGl6ZSRnZXRNb2RhbCRnZXRPdmVybGF5JGdldElucHV0JHNldEZvY3VzU3R5bGUkb3Blbk1vZGFsJHJlc2V0SW5wdXQkZml4VmVydGljYWxQb3NpdGlvbi5nZXRNb2RhbCgpO1xuXG4gIF9oYXNDbGFzcyRhZGRDbGFzcyRyZW1vdmVDbGFzcyRlc2NhcGVIdG1sJF9zaG93JHNob3ckX2hpZGUkaGlkZSRpc0Rlc2NlbmRhbnQkZ2V0VG9wTWFyZ2luJGZhZGVJbiRmYWRlT3V0JGZpcmVDbGljayRzdG9wRXZlbnRQcm9wYWdhdGlvbi5mYWRlT3V0KF9zd2VldEFsZXJ0SW5pdGlhbGl6ZSRnZXRNb2RhbCRnZXRPdmVybGF5JGdldElucHV0JHNldEZvY3VzU3R5bGUkb3Blbk1vZGFsJHJlc2V0SW5wdXQkZml4VmVydGljYWxQb3NpdGlvbi5nZXRPdmVybGF5KCksIDUpO1xuICBfaGFzQ2xhc3MkYWRkQ2xhc3MkcmVtb3ZlQ2xhc3MkZXNjYXBlSHRtbCRfc2hvdyRzaG93JF9oaWRlJGhpZGUkaXNEZXNjZW5kYW50JGdldFRvcE1hcmdpbiRmYWRlSW4kZmFkZU91dCRmaXJlQ2xpY2skc3RvcEV2ZW50UHJvcGFnYXRpb24uZmFkZU91dChtb2RhbCwgNSk7XG4gIF9oYXNDbGFzcyRhZGRDbGFzcyRyZW1vdmVDbGFzcyRlc2NhcGVIdG1sJF9zaG93JHNob3ckX2hpZGUkaGlkZSRpc0Rlc2NlbmRhbnQkZ2V0VG9wTWFyZ2luJGZhZGVJbiRmYWRlT3V0JGZpcmVDbGljayRzdG9wRXZlbnRQcm9wYWdhdGlvbi5yZW1vdmVDbGFzcyhtb2RhbCwgJ3Nob3dTd2VldEFsZXJ0Jyk7XG4gIF9oYXNDbGFzcyRhZGRDbGFzcyRyZW1vdmVDbGFzcyRlc2NhcGVIdG1sJF9zaG93JHNob3ckX2hpZGUkaGlkZSRpc0Rlc2NlbmRhbnQkZ2V0VG9wTWFyZ2luJGZhZGVJbiRmYWRlT3V0JGZpcmVDbGljayRzdG9wRXZlbnRQcm9wYWdhdGlvbi5hZGRDbGFzcyhtb2RhbCwgJ2hpZGVTd2VldEFsZXJ0Jyk7XG4gIF9oYXNDbGFzcyRhZGRDbGFzcyRyZW1vdmVDbGFzcyRlc2NhcGVIdG1sJF9zaG93JHNob3ckX2hpZGUkaGlkZSRpc0Rlc2NlbmRhbnQkZ2V0VG9wTWFyZ2luJGZhZGVJbiRmYWRlT3V0JGZpcmVDbGljayRzdG9wRXZlbnRQcm9wYWdhdGlvbi5yZW1vdmVDbGFzcyhtb2RhbCwgJ3Zpc2libGUnKTtcblxuICAvKlxuICAgKiBSZXNldCBpY29uIGFuaW1hdGlvbnNcbiAgICovXG4gIHZhciAkc3VjY2Vzc0ljb24gPSBtb2RhbC5xdWVyeVNlbGVjdG9yKCcuc2EtaWNvbi5zYS1zdWNjZXNzJyk7XG4gIF9oYXNDbGFzcyRhZGRDbGFzcyRyZW1vdmVDbGFzcyRlc2NhcGVIdG1sJF9zaG93JHNob3ckX2hpZGUkaGlkZSRpc0Rlc2NlbmRhbnQkZ2V0VG9wTWFyZ2luJGZhZGVJbiRmYWRlT3V0JGZpcmVDbGljayRzdG9wRXZlbnRQcm9wYWdhdGlvbi5yZW1vdmVDbGFzcygkc3VjY2Vzc0ljb24sICdhbmltYXRlJyk7XG4gIF9oYXNDbGFzcyRhZGRDbGFzcyRyZW1vdmVDbGFzcyRlc2NhcGVIdG1sJF9zaG93JHNob3ckX2hpZGUkaGlkZSRpc0Rlc2NlbmRhbnQkZ2V0VG9wTWFyZ2luJGZhZGVJbiRmYWRlT3V0JGZpcmVDbGljayRzdG9wRXZlbnRQcm9wYWdhdGlvbi5yZW1vdmVDbGFzcygkc3VjY2Vzc0ljb24ucXVlcnlTZWxlY3RvcignLnNhLXRpcCcpLCAnYW5pbWF0ZVN1Y2Nlc3NUaXAnKTtcbiAgX2hhc0NsYXNzJGFkZENsYXNzJHJlbW92ZUNsYXNzJGVzY2FwZUh0bWwkX3Nob3ckc2hvdyRfaGlkZSRoaWRlJGlzRGVzY2VuZGFudCRnZXRUb3BNYXJnaW4kZmFkZUluJGZhZGVPdXQkZmlyZUNsaWNrJHN0b3BFdmVudFByb3BhZ2F0aW9uLnJlbW92ZUNsYXNzKCRzdWNjZXNzSWNvbi5xdWVyeVNlbGVjdG9yKCcuc2EtbG9uZycpLCAnYW5pbWF0ZVN1Y2Nlc3NMb25nJyk7XG5cbiAgdmFyICRlcnJvckljb24gPSBtb2RhbC5xdWVyeVNlbGVjdG9yKCcuc2EtaWNvbi5zYS1lcnJvcicpO1xuICBfaGFzQ2xhc3MkYWRkQ2xhc3MkcmVtb3ZlQ2xhc3MkZXNjYXBlSHRtbCRfc2hvdyRzaG93JF9oaWRlJGhpZGUkaXNEZXNjZW5kYW50JGdldFRvcE1hcmdpbiRmYWRlSW4kZmFkZU91dCRmaXJlQ2xpY2skc3RvcEV2ZW50UHJvcGFnYXRpb24ucmVtb3ZlQ2xhc3MoJGVycm9ySWNvbiwgJ2FuaW1hdGVFcnJvckljb24nKTtcbiAgX2hhc0NsYXNzJGFkZENsYXNzJHJlbW92ZUNsYXNzJGVzY2FwZUh0bWwkX3Nob3ckc2hvdyRfaGlkZSRoaWRlJGlzRGVzY2VuZGFudCRnZXRUb3BNYXJnaW4kZmFkZUluJGZhZGVPdXQkZmlyZUNsaWNrJHN0b3BFdmVudFByb3BhZ2F0aW9uLnJlbW92ZUNsYXNzKCRlcnJvckljb24ucXVlcnlTZWxlY3RvcignLnNhLXgtbWFyaycpLCAnYW5pbWF0ZVhNYXJrJyk7XG5cbiAgdmFyICR3YXJuaW5nSWNvbiA9IG1vZGFsLnF1ZXJ5U2VsZWN0b3IoJy5zYS1pY29uLnNhLXdhcm5pbmcnKTtcbiAgX2hhc0NsYXNzJGFkZENsYXNzJHJlbW92ZUNsYXNzJGVzY2FwZUh0bWwkX3Nob3ckc2hvdyRfaGlkZSRoaWRlJGlzRGVzY2VuZGFudCRnZXRUb3BNYXJnaW4kZmFkZUluJGZhZGVPdXQkZmlyZUNsaWNrJHN0b3BFdmVudFByb3BhZ2F0aW9uLnJlbW92ZUNsYXNzKCR3YXJuaW5nSWNvbiwgJ3B1bHNlV2FybmluZycpO1xuICBfaGFzQ2xhc3MkYWRkQ2xhc3MkcmVtb3ZlQ2xhc3MkZXNjYXBlSHRtbCRfc2hvdyRzaG93JF9oaWRlJGhpZGUkaXNEZXNjZW5kYW50JGdldFRvcE1hcmdpbiRmYWRlSW4kZmFkZU91dCRmaXJlQ2xpY2skc3RvcEV2ZW50UHJvcGFnYXRpb24ucmVtb3ZlQ2xhc3MoJHdhcm5pbmdJY29uLnF1ZXJ5U2VsZWN0b3IoJy5zYS1ib2R5JyksICdwdWxzZVdhcm5pbmdJbnMnKTtcbiAgX2hhc0NsYXNzJGFkZENsYXNzJHJlbW92ZUNsYXNzJGVzY2FwZUh0bWwkX3Nob3ckc2hvdyRfaGlkZSRoaWRlJGlzRGVzY2VuZGFudCRnZXRUb3BNYXJnaW4kZmFkZUluJGZhZGVPdXQkZmlyZUNsaWNrJHN0b3BFdmVudFByb3BhZ2F0aW9uLnJlbW92ZUNsYXNzKCR3YXJuaW5nSWNvbi5xdWVyeVNlbGVjdG9yKCcuc2EtZG90JyksICdwdWxzZVdhcm5pbmdJbnMnKTtcblxuICAvLyBSZXNldCBjdXN0b20gY2xhc3MgKGRlbGF5IHNvIHRoYXQgVUkgY2hhbmdlcyBhcmVuJ3QgdmlzaWJsZSlcbiAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGN1c3RvbUNsYXNzID0gbW9kYWwuZ2V0QXR0cmlidXRlKCdkYXRhLWN1c3RvbS1jbGFzcycpO1xuICAgIF9oYXNDbGFzcyRhZGRDbGFzcyRyZW1vdmVDbGFzcyRlc2NhcGVIdG1sJF9zaG93JHNob3ckX2hpZGUkaGlkZSRpc0Rlc2NlbmRhbnQkZ2V0VG9wTWFyZ2luJGZhZGVJbiRmYWRlT3V0JGZpcmVDbGljayRzdG9wRXZlbnRQcm9wYWdhdGlvbi5yZW1vdmVDbGFzcyhtb2RhbCwgY3VzdG9tQ2xhc3MpO1xuICB9LCAzMDApO1xuXG4gIC8vIE1ha2UgcGFnZSBzY3JvbGxhYmxlIGFnYWluXG4gIF9oYXNDbGFzcyRhZGRDbGFzcyRyZW1vdmVDbGFzcyRlc2NhcGVIdG1sJF9zaG93JHNob3ckX2hpZGUkaGlkZSRpc0Rlc2NlbmRhbnQkZ2V0VG9wTWFyZ2luJGZhZGVJbiRmYWRlT3V0JGZpcmVDbGljayRzdG9wRXZlbnRQcm9wYWdhdGlvbi5yZW1vdmVDbGFzcyhkb2N1bWVudC5ib2R5LCAnc3RvcC1zY3JvbGxpbmcnKTtcblxuICAvLyBSZXNldCB0aGUgcGFnZSB0byBpdHMgcHJldmlvdXMgc3RhdGVcbiAgd2luZG93Lm9ua2V5ZG93biA9IHByZXZpb3VzV2luZG93S2V5RG93bjtcbiAgaWYgKHdpbmRvdy5wcmV2aW91c0FjdGl2ZUVsZW1lbnQpIHtcbiAgICB3aW5kb3cucHJldmlvdXNBY3RpdmVFbGVtZW50LmZvY3VzKCk7XG4gIH1cbiAgbGFzdEZvY3VzZWRCdXR0b24gPSB1bmRlZmluZWQ7XG4gIGNsZWFyVGltZW91dChtb2RhbC50aW1lb3V0KTtcblxuICByZXR1cm4gdHJ1ZTtcbn07XG5cbi8qXG4gKiBWYWxpZGF0aW9uIG9mIHRoZSBpbnB1dCBmaWVsZCBpcyBkb25lIGJ5IHVzZXJcbiAqIElmIHNvbWV0aGluZyBpcyB3cm9uZyA9PiBjYWxsIHNob3dJbnB1dEVycm9yIHdpdGggZXJyb3JNZXNzYWdlXG4gKi9cbnN3ZWV0QWxlcnQuc2hvd0lucHV0RXJyb3IgPSBzd2FsLnNob3dJbnB1dEVycm9yID0gZnVuY3Rpb24gKGVycm9yTWVzc2FnZSkge1xuICB2YXIgbW9kYWwgPSBfc3dlZXRBbGVydEluaXRpYWxpemUkZ2V0TW9kYWwkZ2V0T3ZlcmxheSRnZXRJbnB1dCRzZXRGb2N1c1N0eWxlJG9wZW5Nb2RhbCRyZXNldElucHV0JGZpeFZlcnRpY2FsUG9zaXRpb24uZ2V0TW9kYWwoKTtcblxuICB2YXIgJGVycm9ySWNvbiA9IG1vZGFsLnF1ZXJ5U2VsZWN0b3IoJy5zYS1pbnB1dC1lcnJvcicpO1xuICBfaGFzQ2xhc3MkYWRkQ2xhc3MkcmVtb3ZlQ2xhc3MkZXNjYXBlSHRtbCRfc2hvdyRzaG93JF9oaWRlJGhpZGUkaXNEZXNjZW5kYW50JGdldFRvcE1hcmdpbiRmYWRlSW4kZmFkZU91dCRmaXJlQ2xpY2skc3RvcEV2ZW50UHJvcGFnYXRpb24uYWRkQ2xhc3MoJGVycm9ySWNvbiwgJ3Nob3cnKTtcblxuICB2YXIgJGVycm9yQ29udGFpbmVyID0gbW9kYWwucXVlcnlTZWxlY3RvcignLnNhLWVycm9yLWNvbnRhaW5lcicpO1xuICBfaGFzQ2xhc3MkYWRkQ2xhc3MkcmVtb3ZlQ2xhc3MkZXNjYXBlSHRtbCRfc2hvdyRzaG93JF9oaWRlJGhpZGUkaXNEZXNjZW5kYW50JGdldFRvcE1hcmdpbiRmYWRlSW4kZmFkZU91dCRmaXJlQ2xpY2skc3RvcEV2ZW50UHJvcGFnYXRpb24uYWRkQ2xhc3MoJGVycm9yQ29udGFpbmVyLCAnc2hvdycpO1xuXG4gICRlcnJvckNvbnRhaW5lci5xdWVyeVNlbGVjdG9yKCdwJykuaW5uZXJIVE1MID0gZXJyb3JNZXNzYWdlO1xuXG4gIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgIHN3ZWV0QWxlcnQuZW5hYmxlQnV0dG9ucygpO1xuICB9LCAxKTtcblxuICBtb2RhbC5xdWVyeVNlbGVjdG9yKCdpbnB1dCcpLmZvY3VzKCk7XG59O1xuXG4vKlxuICogUmVzZXQgaW5wdXQgZXJyb3IgRE9NIGVsZW1lbnRzXG4gKi9cbnN3ZWV0QWxlcnQucmVzZXRJbnB1dEVycm9yID0gc3dhbC5yZXNldElucHV0RXJyb3IgPSBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgLy8gSWYgcHJlc3MgZW50ZXIgPT4gaWdub3JlXG4gIGlmIChldmVudCAmJiBldmVudC5rZXlDb2RlID09PSAxMykge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIHZhciAkbW9kYWwgPSBfc3dlZXRBbGVydEluaXRpYWxpemUkZ2V0TW9kYWwkZ2V0T3ZlcmxheSRnZXRJbnB1dCRzZXRGb2N1c1N0eWxlJG9wZW5Nb2RhbCRyZXNldElucHV0JGZpeFZlcnRpY2FsUG9zaXRpb24uZ2V0TW9kYWwoKTtcblxuICB2YXIgJGVycm9ySWNvbiA9ICRtb2RhbC5xdWVyeVNlbGVjdG9yKCcuc2EtaW5wdXQtZXJyb3InKTtcbiAgX2hhc0NsYXNzJGFkZENsYXNzJHJlbW92ZUNsYXNzJGVzY2FwZUh0bWwkX3Nob3ckc2hvdyRfaGlkZSRoaWRlJGlzRGVzY2VuZGFudCRnZXRUb3BNYXJnaW4kZmFkZUluJGZhZGVPdXQkZmlyZUNsaWNrJHN0b3BFdmVudFByb3BhZ2F0aW9uLnJlbW92ZUNsYXNzKCRlcnJvckljb24sICdzaG93Jyk7XG5cbiAgdmFyICRlcnJvckNvbnRhaW5lciA9ICRtb2RhbC5xdWVyeVNlbGVjdG9yKCcuc2EtZXJyb3ItY29udGFpbmVyJyk7XG4gIF9oYXNDbGFzcyRhZGRDbGFzcyRyZW1vdmVDbGFzcyRlc2NhcGVIdG1sJF9zaG93JHNob3ckX2hpZGUkaGlkZSRpc0Rlc2NlbmRhbnQkZ2V0VG9wTWFyZ2luJGZhZGVJbiRmYWRlT3V0JGZpcmVDbGljayRzdG9wRXZlbnRQcm9wYWdhdGlvbi5yZW1vdmVDbGFzcygkZXJyb3JDb250YWluZXIsICdzaG93Jyk7XG59O1xuXG4vKlxuICogRGlzYWJsZSBjb25maXJtIGFuZCBjYW5jZWwgYnV0dG9uc1xuICovXG5zd2VldEFsZXJ0LmRpc2FibGVCdXR0b25zID0gc3dhbC5kaXNhYmxlQnV0dG9ucyA9IGZ1bmN0aW9uIChldmVudCkge1xuICB2YXIgbW9kYWwgPSBfc3dlZXRBbGVydEluaXRpYWxpemUkZ2V0TW9kYWwkZ2V0T3ZlcmxheSRnZXRJbnB1dCRzZXRGb2N1c1N0eWxlJG9wZW5Nb2RhbCRyZXNldElucHV0JGZpeFZlcnRpY2FsUG9zaXRpb24uZ2V0TW9kYWwoKTtcbiAgdmFyICRjb25maXJtQnV0dG9uID0gbW9kYWwucXVlcnlTZWxlY3RvcignYnV0dG9uLmNvbmZpcm0nKTtcbiAgdmFyICRjYW5jZWxCdXR0b24gPSBtb2RhbC5xdWVyeVNlbGVjdG9yKCdidXR0b24uY2FuY2VsJyk7XG4gICRjb25maXJtQnV0dG9uLmRpc2FibGVkID0gdHJ1ZTtcbiAgJGNhbmNlbEJ1dHRvbi5kaXNhYmxlZCA9IHRydWU7XG59O1xuXG4vKlxuICogRW5hYmxlIGNvbmZpcm0gYW5kIGNhbmNlbCBidXR0b25zXG4gKi9cbnN3ZWV0QWxlcnQuZW5hYmxlQnV0dG9ucyA9IHN3YWwuZW5hYmxlQnV0dG9ucyA9IGZ1bmN0aW9uIChldmVudCkge1xuICB2YXIgbW9kYWwgPSBfc3dlZXRBbGVydEluaXRpYWxpemUkZ2V0TW9kYWwkZ2V0T3ZlcmxheSRnZXRJbnB1dCRzZXRGb2N1c1N0eWxlJG9wZW5Nb2RhbCRyZXNldElucHV0JGZpeFZlcnRpY2FsUG9zaXRpb24uZ2V0TW9kYWwoKTtcbiAgdmFyICRjb25maXJtQnV0dG9uID0gbW9kYWwucXVlcnlTZWxlY3RvcignYnV0dG9uLmNvbmZpcm0nKTtcbiAgdmFyICRjYW5jZWxCdXR0b24gPSBtb2RhbC5xdWVyeVNlbGVjdG9yKCdidXR0b24uY2FuY2VsJyk7XG4gICRjb25maXJtQnV0dG9uLmRpc2FibGVkID0gZmFsc2U7XG4gICRjYW5jZWxCdXR0b24uZGlzYWJsZWQgPSBmYWxzZTtcbn07XG5cbmlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJykge1xuICAvLyBUaGUgJ2hhbmRsZS1jbGljaycgbW9kdWxlIHJlcXVpcmVzXG4gIC8vIHRoYXQgJ3N3ZWV0QWxlcnQnIHdhcyBzZXQgYXMgZ2xvYmFsLlxuICB3aW5kb3cuc3dlZXRBbGVydCA9IHdpbmRvdy5zd2FsID0gc3dlZXRBbGVydDtcbn0gZWxzZSB7XG4gIF9leHRlbmQkaGV4VG9SZ2IkaXNJRTgkbG9nU3RyJGNvbG9yTHVtaW5hbmNlLmxvZ1N0cignU3dlZXRBbGVydCBpcyBhIGZyb250ZW5kIG1vZHVsZSEnKTtcbn1cbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1snZGVmYXVsdCddOyIsIi8vICAgICBVbmRlcnNjb3JlLmpzIDEuOC4zXG4vLyAgICAgaHR0cDovL3VuZGVyc2NvcmVqcy5vcmdcbi8vICAgICAoYykgMjAwOS0yMDE1IEplcmVteSBBc2hrZW5hcywgRG9jdW1lbnRDbG91ZCBhbmQgSW52ZXN0aWdhdGl2ZSBSZXBvcnRlcnMgJiBFZGl0b3JzXG4vLyAgICAgVW5kZXJzY29yZSBtYXkgYmUgZnJlZWx5IGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBNSVQgbGljZW5zZS5cblxuKGZ1bmN0aW9uKCkge1xuXG4gIC8vIEJhc2VsaW5lIHNldHVwXG4gIC8vIC0tLS0tLS0tLS0tLS0tXG5cbiAgLy8gRXN0YWJsaXNoIHRoZSByb290IG9iamVjdCwgYHdpbmRvd2AgaW4gdGhlIGJyb3dzZXIsIG9yIGBleHBvcnRzYCBvbiB0aGUgc2VydmVyLlxuICB2YXIgcm9vdCA9IHRoaXM7XG5cbiAgLy8gU2F2ZSB0aGUgcHJldmlvdXMgdmFsdWUgb2YgdGhlIGBfYCB2YXJpYWJsZS5cbiAgdmFyIHByZXZpb3VzVW5kZXJzY29yZSA9IHJvb3QuXztcblxuICAvLyBTYXZlIGJ5dGVzIGluIHRoZSBtaW5pZmllZCAoYnV0IG5vdCBnemlwcGVkKSB2ZXJzaW9uOlxuICB2YXIgQXJyYXlQcm90byA9IEFycmF5LnByb3RvdHlwZSwgT2JqUHJvdG8gPSBPYmplY3QucHJvdG90eXBlLCBGdW5jUHJvdG8gPSBGdW5jdGlvbi5wcm90b3R5cGU7XG5cbiAgLy8gQ3JlYXRlIHF1aWNrIHJlZmVyZW5jZSB2YXJpYWJsZXMgZm9yIHNwZWVkIGFjY2VzcyB0byBjb3JlIHByb3RvdHlwZXMuXG4gIHZhclxuICAgIHB1c2ggICAgICAgICAgICAgPSBBcnJheVByb3RvLnB1c2gsXG4gICAgc2xpY2UgICAgICAgICAgICA9IEFycmF5UHJvdG8uc2xpY2UsXG4gICAgdG9TdHJpbmcgICAgICAgICA9IE9ialByb3RvLnRvU3RyaW5nLFxuICAgIGhhc093blByb3BlcnR5ICAgPSBPYmpQcm90by5oYXNPd25Qcm9wZXJ0eTtcblxuICAvLyBBbGwgKipFQ01BU2NyaXB0IDUqKiBuYXRpdmUgZnVuY3Rpb24gaW1wbGVtZW50YXRpb25zIHRoYXQgd2UgaG9wZSB0byB1c2VcbiAgLy8gYXJlIGRlY2xhcmVkIGhlcmUuXG4gIHZhclxuICAgIG5hdGl2ZUlzQXJyYXkgICAgICA9IEFycmF5LmlzQXJyYXksXG4gICAgbmF0aXZlS2V5cyAgICAgICAgID0gT2JqZWN0LmtleXMsXG4gICAgbmF0aXZlQmluZCAgICAgICAgID0gRnVuY1Byb3RvLmJpbmQsXG4gICAgbmF0aXZlQ3JlYXRlICAgICAgID0gT2JqZWN0LmNyZWF0ZTtcblxuICAvLyBOYWtlZCBmdW5jdGlvbiByZWZlcmVuY2UgZm9yIHN1cnJvZ2F0ZS1wcm90b3R5cGUtc3dhcHBpbmcuXG4gIHZhciBDdG9yID0gZnVuY3Rpb24oKXt9O1xuXG4gIC8vIENyZWF0ZSBhIHNhZmUgcmVmZXJlbmNlIHRvIHRoZSBVbmRlcnNjb3JlIG9iamVjdCBmb3IgdXNlIGJlbG93LlxuICB2YXIgXyA9IGZ1bmN0aW9uKG9iaikge1xuICAgIGlmIChvYmogaW5zdGFuY2VvZiBfKSByZXR1cm4gb2JqO1xuICAgIGlmICghKHRoaXMgaW5zdGFuY2VvZiBfKSkgcmV0dXJuIG5ldyBfKG9iaik7XG4gICAgdGhpcy5fd3JhcHBlZCA9IG9iajtcbiAgfTtcblxuICAvLyBFeHBvcnQgdGhlIFVuZGVyc2NvcmUgb2JqZWN0IGZvciAqKk5vZGUuanMqKiwgd2l0aFxuICAvLyBiYWNrd2FyZHMtY29tcGF0aWJpbGl0eSBmb3IgdGhlIG9sZCBgcmVxdWlyZSgpYCBBUEkuIElmIHdlJ3JlIGluXG4gIC8vIHRoZSBicm93c2VyLCBhZGQgYF9gIGFzIGEgZ2xvYmFsIG9iamVjdC5cbiAgaWYgKHR5cGVvZiBleHBvcnRzICE9PSAndW5kZWZpbmVkJykge1xuICAgIGlmICh0eXBlb2YgbW9kdWxlICE9PSAndW5kZWZpbmVkJyAmJiBtb2R1bGUuZXhwb3J0cykge1xuICAgICAgZXhwb3J0cyA9IG1vZHVsZS5leHBvcnRzID0gXztcbiAgICB9XG4gICAgZXhwb3J0cy5fID0gXztcbiAgfSBlbHNlIHtcbiAgICByb290Ll8gPSBfO1xuICB9XG5cbiAgLy8gQ3VycmVudCB2ZXJzaW9uLlxuICBfLlZFUlNJT04gPSAnMS44LjMnO1xuXG4gIC8vIEludGVybmFsIGZ1bmN0aW9uIHRoYXQgcmV0dXJucyBhbiBlZmZpY2llbnQgKGZvciBjdXJyZW50IGVuZ2luZXMpIHZlcnNpb25cbiAgLy8gb2YgdGhlIHBhc3NlZC1pbiBjYWxsYmFjaywgdG8gYmUgcmVwZWF0ZWRseSBhcHBsaWVkIGluIG90aGVyIFVuZGVyc2NvcmVcbiAgLy8gZnVuY3Rpb25zLlxuICB2YXIgb3B0aW1pemVDYiA9IGZ1bmN0aW9uKGZ1bmMsIGNvbnRleHQsIGFyZ0NvdW50KSB7XG4gICAgaWYgKGNvbnRleHQgPT09IHZvaWQgMCkgcmV0dXJuIGZ1bmM7XG4gICAgc3dpdGNoIChhcmdDb3VudCA9PSBudWxsID8gMyA6IGFyZ0NvdW50KSB7XG4gICAgICBjYXNlIDE6IHJldHVybiBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgICByZXR1cm4gZnVuYy5jYWxsKGNvbnRleHQsIHZhbHVlKTtcbiAgICAgIH07XG4gICAgICBjYXNlIDI6IHJldHVybiBmdW5jdGlvbih2YWx1ZSwgb3RoZXIpIHtcbiAgICAgICAgcmV0dXJuIGZ1bmMuY2FsbChjb250ZXh0LCB2YWx1ZSwgb3RoZXIpO1xuICAgICAgfTtcbiAgICAgIGNhc2UgMzogcmV0dXJuIGZ1bmN0aW9uKHZhbHVlLCBpbmRleCwgY29sbGVjdGlvbikge1xuICAgICAgICByZXR1cm4gZnVuYy5jYWxsKGNvbnRleHQsIHZhbHVlLCBpbmRleCwgY29sbGVjdGlvbik7XG4gICAgICB9O1xuICAgICAgY2FzZSA0OiByZXR1cm4gZnVuY3Rpb24oYWNjdW11bGF0b3IsIHZhbHVlLCBpbmRleCwgY29sbGVjdGlvbikge1xuICAgICAgICByZXR1cm4gZnVuYy5jYWxsKGNvbnRleHQsIGFjY3VtdWxhdG9yLCB2YWx1ZSwgaW5kZXgsIGNvbGxlY3Rpb24pO1xuICAgICAgfTtcbiAgICB9XG4gICAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIGZ1bmMuYXBwbHkoY29udGV4dCwgYXJndW1lbnRzKTtcbiAgICB9O1xuICB9O1xuXG4gIC8vIEEgbW9zdGx5LWludGVybmFsIGZ1bmN0aW9uIHRvIGdlbmVyYXRlIGNhbGxiYWNrcyB0aGF0IGNhbiBiZSBhcHBsaWVkXG4gIC8vIHRvIGVhY2ggZWxlbWVudCBpbiBhIGNvbGxlY3Rpb24sIHJldHVybmluZyB0aGUgZGVzaXJlZCByZXN1bHQg4oCUIGVpdGhlclxuICAvLyBpZGVudGl0eSwgYW4gYXJiaXRyYXJ5IGNhbGxiYWNrLCBhIHByb3BlcnR5IG1hdGNoZXIsIG9yIGEgcHJvcGVydHkgYWNjZXNzb3IuXG4gIHZhciBjYiA9IGZ1bmN0aW9uKHZhbHVlLCBjb250ZXh0LCBhcmdDb3VudCkge1xuICAgIGlmICh2YWx1ZSA9PSBudWxsKSByZXR1cm4gXy5pZGVudGl0eTtcbiAgICBpZiAoXy5pc0Z1bmN0aW9uKHZhbHVlKSkgcmV0dXJuIG9wdGltaXplQ2IodmFsdWUsIGNvbnRleHQsIGFyZ0NvdW50KTtcbiAgICBpZiAoXy5pc09iamVjdCh2YWx1ZSkpIHJldHVybiBfLm1hdGNoZXIodmFsdWUpO1xuICAgIHJldHVybiBfLnByb3BlcnR5KHZhbHVlKTtcbiAgfTtcbiAgXy5pdGVyYXRlZSA9IGZ1bmN0aW9uKHZhbHVlLCBjb250ZXh0KSB7XG4gICAgcmV0dXJuIGNiKHZhbHVlLCBjb250ZXh0LCBJbmZpbml0eSk7XG4gIH07XG5cbiAgLy8gQW4gaW50ZXJuYWwgZnVuY3Rpb24gZm9yIGNyZWF0aW5nIGFzc2lnbmVyIGZ1bmN0aW9ucy5cbiAgdmFyIGNyZWF0ZUFzc2lnbmVyID0gZnVuY3Rpb24oa2V5c0Z1bmMsIHVuZGVmaW5lZE9ubHkpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24ob2JqKSB7XG4gICAgICB2YXIgbGVuZ3RoID0gYXJndW1lbnRzLmxlbmd0aDtcbiAgICAgIGlmIChsZW5ndGggPCAyIHx8IG9iaiA9PSBudWxsKSByZXR1cm4gb2JqO1xuICAgICAgZm9yICh2YXIgaW5kZXggPSAxOyBpbmRleCA8IGxlbmd0aDsgaW5kZXgrKykge1xuICAgICAgICB2YXIgc291cmNlID0gYXJndW1lbnRzW2luZGV4XSxcbiAgICAgICAgICAgIGtleXMgPSBrZXlzRnVuYyhzb3VyY2UpLFxuICAgICAgICAgICAgbCA9IGtleXMubGVuZ3RoO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGw7IGkrKykge1xuICAgICAgICAgIHZhciBrZXkgPSBrZXlzW2ldO1xuICAgICAgICAgIGlmICghdW5kZWZpbmVkT25seSB8fCBvYmpba2V5XSA9PT0gdm9pZCAwKSBvYmpba2V5XSA9IHNvdXJjZVtrZXldO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gb2JqO1xuICAgIH07XG4gIH07XG5cbiAgLy8gQW4gaW50ZXJuYWwgZnVuY3Rpb24gZm9yIGNyZWF0aW5nIGEgbmV3IG9iamVjdCB0aGF0IGluaGVyaXRzIGZyb20gYW5vdGhlci5cbiAgdmFyIGJhc2VDcmVhdGUgPSBmdW5jdGlvbihwcm90b3R5cGUpIHtcbiAgICBpZiAoIV8uaXNPYmplY3QocHJvdG90eXBlKSkgcmV0dXJuIHt9O1xuICAgIGlmIChuYXRpdmVDcmVhdGUpIHJldHVybiBuYXRpdmVDcmVhdGUocHJvdG90eXBlKTtcbiAgICBDdG9yLnByb3RvdHlwZSA9IHByb3RvdHlwZTtcbiAgICB2YXIgcmVzdWx0ID0gbmV3IEN0b3I7XG4gICAgQ3Rvci5wcm90b3R5cGUgPSBudWxsO1xuICAgIHJldHVybiByZXN1bHQ7XG4gIH07XG5cbiAgdmFyIHByb3BlcnR5ID0gZnVuY3Rpb24oa2V5KSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uKG9iaikge1xuICAgICAgcmV0dXJuIG9iaiA9PSBudWxsID8gdm9pZCAwIDogb2JqW2tleV07XG4gICAgfTtcbiAgfTtcblxuICAvLyBIZWxwZXIgZm9yIGNvbGxlY3Rpb24gbWV0aG9kcyB0byBkZXRlcm1pbmUgd2hldGhlciBhIGNvbGxlY3Rpb25cbiAgLy8gc2hvdWxkIGJlIGl0ZXJhdGVkIGFzIGFuIGFycmF5IG9yIGFzIGFuIG9iamVjdFxuICAvLyBSZWxhdGVkOiBodHRwOi8vcGVvcGxlLm1vemlsbGEub3JnL35qb3JlbmRvcmZmL2VzNi1kcmFmdC5odG1sI3NlYy10b2xlbmd0aFxuICAvLyBBdm9pZHMgYSB2ZXJ5IG5hc3R5IGlPUyA4IEpJVCBidWcgb24gQVJNLTY0LiAjMjA5NFxuICB2YXIgTUFYX0FSUkFZX0lOREVYID0gTWF0aC5wb3coMiwgNTMpIC0gMTtcbiAgdmFyIGdldExlbmd0aCA9IHByb3BlcnR5KCdsZW5ndGgnKTtcbiAgdmFyIGlzQXJyYXlMaWtlID0gZnVuY3Rpb24oY29sbGVjdGlvbikge1xuICAgIHZhciBsZW5ndGggPSBnZXRMZW5ndGgoY29sbGVjdGlvbik7XG4gICAgcmV0dXJuIHR5cGVvZiBsZW5ndGggPT0gJ251bWJlcicgJiYgbGVuZ3RoID49IDAgJiYgbGVuZ3RoIDw9IE1BWF9BUlJBWV9JTkRFWDtcbiAgfTtcblxuICAvLyBDb2xsZWN0aW9uIEZ1bmN0aW9uc1xuICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG4gIC8vIFRoZSBjb3JuZXJzdG9uZSwgYW4gYGVhY2hgIGltcGxlbWVudGF0aW9uLCBha2EgYGZvckVhY2hgLlxuICAvLyBIYW5kbGVzIHJhdyBvYmplY3RzIGluIGFkZGl0aW9uIHRvIGFycmF5LWxpa2VzLiBUcmVhdHMgYWxsXG4gIC8vIHNwYXJzZSBhcnJheS1saWtlcyBhcyBpZiB0aGV5IHdlcmUgZGVuc2UuXG4gIF8uZWFjaCA9IF8uZm9yRWFjaCA9IGZ1bmN0aW9uKG9iaiwgaXRlcmF0ZWUsIGNvbnRleHQpIHtcbiAgICBpdGVyYXRlZSA9IG9wdGltaXplQ2IoaXRlcmF0ZWUsIGNvbnRleHQpO1xuICAgIHZhciBpLCBsZW5ndGg7XG4gICAgaWYgKGlzQXJyYXlMaWtlKG9iaikpIHtcbiAgICAgIGZvciAoaSA9IDAsIGxlbmd0aCA9IG9iai5sZW5ndGg7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgICBpdGVyYXRlZShvYmpbaV0sIGksIG9iaik7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHZhciBrZXlzID0gXy5rZXlzKG9iaik7XG4gICAgICBmb3IgKGkgPSAwLCBsZW5ndGggPSBrZXlzLmxlbmd0aDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGl0ZXJhdGVlKG9ialtrZXlzW2ldXSwga2V5c1tpXSwgb2JqKTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG9iajtcbiAgfTtcblxuICAvLyBSZXR1cm4gdGhlIHJlc3VsdHMgb2YgYXBwbHlpbmcgdGhlIGl0ZXJhdGVlIHRvIGVhY2ggZWxlbWVudC5cbiAgXy5tYXAgPSBfLmNvbGxlY3QgPSBmdW5jdGlvbihvYmosIGl0ZXJhdGVlLCBjb250ZXh0KSB7XG4gICAgaXRlcmF0ZWUgPSBjYihpdGVyYXRlZSwgY29udGV4dCk7XG4gICAgdmFyIGtleXMgPSAhaXNBcnJheUxpa2Uob2JqKSAmJiBfLmtleXMob2JqKSxcbiAgICAgICAgbGVuZ3RoID0gKGtleXMgfHwgb2JqKS5sZW5ndGgsXG4gICAgICAgIHJlc3VsdHMgPSBBcnJheShsZW5ndGgpO1xuICAgIGZvciAodmFyIGluZGV4ID0gMDsgaW5kZXggPCBsZW5ndGg7IGluZGV4KyspIHtcbiAgICAgIHZhciBjdXJyZW50S2V5ID0ga2V5cyA/IGtleXNbaW5kZXhdIDogaW5kZXg7XG4gICAgICByZXN1bHRzW2luZGV4XSA9IGl0ZXJhdGVlKG9ialtjdXJyZW50S2V5XSwgY3VycmVudEtleSwgb2JqKTtcbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdHM7XG4gIH07XG5cbiAgLy8gQ3JlYXRlIGEgcmVkdWNpbmcgZnVuY3Rpb24gaXRlcmF0aW5nIGxlZnQgb3IgcmlnaHQuXG4gIGZ1bmN0aW9uIGNyZWF0ZVJlZHVjZShkaXIpIHtcbiAgICAvLyBPcHRpbWl6ZWQgaXRlcmF0b3IgZnVuY3Rpb24gYXMgdXNpbmcgYXJndW1lbnRzLmxlbmd0aFxuICAgIC8vIGluIHRoZSBtYWluIGZ1bmN0aW9uIHdpbGwgZGVvcHRpbWl6ZSB0aGUsIHNlZSAjMTk5MS5cbiAgICBmdW5jdGlvbiBpdGVyYXRvcihvYmosIGl0ZXJhdGVlLCBtZW1vLCBrZXlzLCBpbmRleCwgbGVuZ3RoKSB7XG4gICAgICBmb3IgKDsgaW5kZXggPj0gMCAmJiBpbmRleCA8IGxlbmd0aDsgaW5kZXggKz0gZGlyKSB7XG4gICAgICAgIHZhciBjdXJyZW50S2V5ID0ga2V5cyA/IGtleXNbaW5kZXhdIDogaW5kZXg7XG4gICAgICAgIG1lbW8gPSBpdGVyYXRlZShtZW1vLCBvYmpbY3VycmVudEtleV0sIGN1cnJlbnRLZXksIG9iaik7XG4gICAgICB9XG4gICAgICByZXR1cm4gbWVtbztcbiAgICB9XG5cbiAgICByZXR1cm4gZnVuY3Rpb24ob2JqLCBpdGVyYXRlZSwgbWVtbywgY29udGV4dCkge1xuICAgICAgaXRlcmF0ZWUgPSBvcHRpbWl6ZUNiKGl0ZXJhdGVlLCBjb250ZXh0LCA0KTtcbiAgICAgIHZhciBrZXlzID0gIWlzQXJyYXlMaWtlKG9iaikgJiYgXy5rZXlzKG9iaiksXG4gICAgICAgICAgbGVuZ3RoID0gKGtleXMgfHwgb2JqKS5sZW5ndGgsXG4gICAgICAgICAgaW5kZXggPSBkaXIgPiAwID8gMCA6IGxlbmd0aCAtIDE7XG4gICAgICAvLyBEZXRlcm1pbmUgdGhlIGluaXRpYWwgdmFsdWUgaWYgbm9uZSBpcyBwcm92aWRlZC5cbiAgICAgIGlmIChhcmd1bWVudHMubGVuZ3RoIDwgMykge1xuICAgICAgICBtZW1vID0gb2JqW2tleXMgPyBrZXlzW2luZGV4XSA6IGluZGV4XTtcbiAgICAgICAgaW5kZXggKz0gZGlyO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGl0ZXJhdG9yKG9iaiwgaXRlcmF0ZWUsIG1lbW8sIGtleXMsIGluZGV4LCBsZW5ndGgpO1xuICAgIH07XG4gIH1cblxuICAvLyAqKlJlZHVjZSoqIGJ1aWxkcyB1cCBhIHNpbmdsZSByZXN1bHQgZnJvbSBhIGxpc3Qgb2YgdmFsdWVzLCBha2EgYGluamVjdGAsXG4gIC8vIG9yIGBmb2xkbGAuXG4gIF8ucmVkdWNlID0gXy5mb2xkbCA9IF8uaW5qZWN0ID0gY3JlYXRlUmVkdWNlKDEpO1xuXG4gIC8vIFRoZSByaWdodC1hc3NvY2lhdGl2ZSB2ZXJzaW9uIG9mIHJlZHVjZSwgYWxzbyBrbm93biBhcyBgZm9sZHJgLlxuICBfLnJlZHVjZVJpZ2h0ID0gXy5mb2xkciA9IGNyZWF0ZVJlZHVjZSgtMSk7XG5cbiAgLy8gUmV0dXJuIHRoZSBmaXJzdCB2YWx1ZSB3aGljaCBwYXNzZXMgYSB0cnV0aCB0ZXN0LiBBbGlhc2VkIGFzIGBkZXRlY3RgLlxuICBfLmZpbmQgPSBfLmRldGVjdCA9IGZ1bmN0aW9uKG9iaiwgcHJlZGljYXRlLCBjb250ZXh0KSB7XG4gICAgdmFyIGtleTtcbiAgICBpZiAoaXNBcnJheUxpa2Uob2JqKSkge1xuICAgICAga2V5ID0gXy5maW5kSW5kZXgob2JqLCBwcmVkaWNhdGUsIGNvbnRleHQpO1xuICAgIH0gZWxzZSB7XG4gICAgICBrZXkgPSBfLmZpbmRLZXkob2JqLCBwcmVkaWNhdGUsIGNvbnRleHQpO1xuICAgIH1cbiAgICBpZiAoa2V5ICE9PSB2b2lkIDAgJiYga2V5ICE9PSAtMSkgcmV0dXJuIG9ialtrZXldO1xuICB9O1xuXG4gIC8vIFJldHVybiBhbGwgdGhlIGVsZW1lbnRzIHRoYXQgcGFzcyBhIHRydXRoIHRlc3QuXG4gIC8vIEFsaWFzZWQgYXMgYHNlbGVjdGAuXG4gIF8uZmlsdGVyID0gXy5zZWxlY3QgPSBmdW5jdGlvbihvYmosIHByZWRpY2F0ZSwgY29udGV4dCkge1xuICAgIHZhciByZXN1bHRzID0gW107XG4gICAgcHJlZGljYXRlID0gY2IocHJlZGljYXRlLCBjb250ZXh0KTtcbiAgICBfLmVhY2gob2JqLCBmdW5jdGlvbih2YWx1ZSwgaW5kZXgsIGxpc3QpIHtcbiAgICAgIGlmIChwcmVkaWNhdGUodmFsdWUsIGluZGV4LCBsaXN0KSkgcmVzdWx0cy5wdXNoKHZhbHVlKTtcbiAgICB9KTtcbiAgICByZXR1cm4gcmVzdWx0cztcbiAgfTtcblxuICAvLyBSZXR1cm4gYWxsIHRoZSBlbGVtZW50cyBmb3Igd2hpY2ggYSB0cnV0aCB0ZXN0IGZhaWxzLlxuICBfLnJlamVjdCA9IGZ1bmN0aW9uKG9iaiwgcHJlZGljYXRlLCBjb250ZXh0KSB7XG4gICAgcmV0dXJuIF8uZmlsdGVyKG9iaiwgXy5uZWdhdGUoY2IocHJlZGljYXRlKSksIGNvbnRleHQpO1xuICB9O1xuXG4gIC8vIERldGVybWluZSB3aGV0aGVyIGFsbCBvZiB0aGUgZWxlbWVudHMgbWF0Y2ggYSB0cnV0aCB0ZXN0LlxuICAvLyBBbGlhc2VkIGFzIGBhbGxgLlxuICBfLmV2ZXJ5ID0gXy5hbGwgPSBmdW5jdGlvbihvYmosIHByZWRpY2F0ZSwgY29udGV4dCkge1xuICAgIHByZWRpY2F0ZSA9IGNiKHByZWRpY2F0ZSwgY29udGV4dCk7XG4gICAgdmFyIGtleXMgPSAhaXNBcnJheUxpa2Uob2JqKSAmJiBfLmtleXMob2JqKSxcbiAgICAgICAgbGVuZ3RoID0gKGtleXMgfHwgb2JqKS5sZW5ndGg7XG4gICAgZm9yICh2YXIgaW5kZXggPSAwOyBpbmRleCA8IGxlbmd0aDsgaW5kZXgrKykge1xuICAgICAgdmFyIGN1cnJlbnRLZXkgPSBrZXlzID8ga2V5c1tpbmRleF0gOiBpbmRleDtcbiAgICAgIGlmICghcHJlZGljYXRlKG9ialtjdXJyZW50S2V5XSwgY3VycmVudEtleSwgb2JqKSkgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICByZXR1cm4gdHJ1ZTtcbiAgfTtcblxuICAvLyBEZXRlcm1pbmUgaWYgYXQgbGVhc3Qgb25lIGVsZW1lbnQgaW4gdGhlIG9iamVjdCBtYXRjaGVzIGEgdHJ1dGggdGVzdC5cbiAgLy8gQWxpYXNlZCBhcyBgYW55YC5cbiAgXy5zb21lID0gXy5hbnkgPSBmdW5jdGlvbihvYmosIHByZWRpY2F0ZSwgY29udGV4dCkge1xuICAgIHByZWRpY2F0ZSA9IGNiKHByZWRpY2F0ZSwgY29udGV4dCk7XG4gICAgdmFyIGtleXMgPSAhaXNBcnJheUxpa2Uob2JqKSAmJiBfLmtleXMob2JqKSxcbiAgICAgICAgbGVuZ3RoID0gKGtleXMgfHwgb2JqKS5sZW5ndGg7XG4gICAgZm9yICh2YXIgaW5kZXggPSAwOyBpbmRleCA8IGxlbmd0aDsgaW5kZXgrKykge1xuICAgICAgdmFyIGN1cnJlbnRLZXkgPSBrZXlzID8ga2V5c1tpbmRleF0gOiBpbmRleDtcbiAgICAgIGlmIChwcmVkaWNhdGUob2JqW2N1cnJlbnRLZXldLCBjdXJyZW50S2V5LCBvYmopKSByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9O1xuXG4gIC8vIERldGVybWluZSBpZiB0aGUgYXJyYXkgb3Igb2JqZWN0IGNvbnRhaW5zIGEgZ2l2ZW4gaXRlbSAodXNpbmcgYD09PWApLlxuICAvLyBBbGlhc2VkIGFzIGBpbmNsdWRlc2AgYW5kIGBpbmNsdWRlYC5cbiAgXy5jb250YWlucyA9IF8uaW5jbHVkZXMgPSBfLmluY2x1ZGUgPSBmdW5jdGlvbihvYmosIGl0ZW0sIGZyb21JbmRleCwgZ3VhcmQpIHtcbiAgICBpZiAoIWlzQXJyYXlMaWtlKG9iaikpIG9iaiA9IF8udmFsdWVzKG9iaik7XG4gICAgaWYgKHR5cGVvZiBmcm9tSW5kZXggIT0gJ251bWJlcicgfHwgZ3VhcmQpIGZyb21JbmRleCA9IDA7XG4gICAgcmV0dXJuIF8uaW5kZXhPZihvYmosIGl0ZW0sIGZyb21JbmRleCkgPj0gMDtcbiAgfTtcblxuICAvLyBJbnZva2UgYSBtZXRob2QgKHdpdGggYXJndW1lbnRzKSBvbiBldmVyeSBpdGVtIGluIGEgY29sbGVjdGlvbi5cbiAgXy5pbnZva2UgPSBmdW5jdGlvbihvYmosIG1ldGhvZCkge1xuICAgIHZhciBhcmdzID0gc2xpY2UuY2FsbChhcmd1bWVudHMsIDIpO1xuICAgIHZhciBpc0Z1bmMgPSBfLmlzRnVuY3Rpb24obWV0aG9kKTtcbiAgICByZXR1cm4gXy5tYXAob2JqLCBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgdmFyIGZ1bmMgPSBpc0Z1bmMgPyBtZXRob2QgOiB2YWx1ZVttZXRob2RdO1xuICAgICAgcmV0dXJuIGZ1bmMgPT0gbnVsbCA/IGZ1bmMgOiBmdW5jLmFwcGx5KHZhbHVlLCBhcmdzKTtcbiAgICB9KTtcbiAgfTtcblxuICAvLyBDb252ZW5pZW5jZSB2ZXJzaW9uIG9mIGEgY29tbW9uIHVzZSBjYXNlIG9mIGBtYXBgOiBmZXRjaGluZyBhIHByb3BlcnR5LlxuICBfLnBsdWNrID0gZnVuY3Rpb24ob2JqLCBrZXkpIHtcbiAgICByZXR1cm4gXy5tYXAob2JqLCBfLnByb3BlcnR5KGtleSkpO1xuICB9O1xuXG4gIC8vIENvbnZlbmllbmNlIHZlcnNpb24gb2YgYSBjb21tb24gdXNlIGNhc2Ugb2YgYGZpbHRlcmA6IHNlbGVjdGluZyBvbmx5IG9iamVjdHNcbiAgLy8gY29udGFpbmluZyBzcGVjaWZpYyBga2V5OnZhbHVlYCBwYWlycy5cbiAgXy53aGVyZSA9IGZ1bmN0aW9uKG9iaiwgYXR0cnMpIHtcbiAgICByZXR1cm4gXy5maWx0ZXIob2JqLCBfLm1hdGNoZXIoYXR0cnMpKTtcbiAgfTtcblxuICAvLyBDb252ZW5pZW5jZSB2ZXJzaW9uIG9mIGEgY29tbW9uIHVzZSBjYXNlIG9mIGBmaW5kYDogZ2V0dGluZyB0aGUgZmlyc3Qgb2JqZWN0XG4gIC8vIGNvbnRhaW5pbmcgc3BlY2lmaWMgYGtleTp2YWx1ZWAgcGFpcnMuXG4gIF8uZmluZFdoZXJlID0gZnVuY3Rpb24ob2JqLCBhdHRycykge1xuICAgIHJldHVybiBfLmZpbmQob2JqLCBfLm1hdGNoZXIoYXR0cnMpKTtcbiAgfTtcblxuICAvLyBSZXR1cm4gdGhlIG1heGltdW0gZWxlbWVudCAob3IgZWxlbWVudC1iYXNlZCBjb21wdXRhdGlvbikuXG4gIF8ubWF4ID0gZnVuY3Rpb24ob2JqLCBpdGVyYXRlZSwgY29udGV4dCkge1xuICAgIHZhciByZXN1bHQgPSAtSW5maW5pdHksIGxhc3RDb21wdXRlZCA9IC1JbmZpbml0eSxcbiAgICAgICAgdmFsdWUsIGNvbXB1dGVkO1xuICAgIGlmIChpdGVyYXRlZSA9PSBudWxsICYmIG9iaiAhPSBudWxsKSB7XG4gICAgICBvYmogPSBpc0FycmF5TGlrZShvYmopID8gb2JqIDogXy52YWx1ZXMob2JqKTtcbiAgICAgIGZvciAodmFyIGkgPSAwLCBsZW5ndGggPSBvYmoubGVuZ3RoOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICAgICAgdmFsdWUgPSBvYmpbaV07XG4gICAgICAgIGlmICh2YWx1ZSA+IHJlc3VsdCkge1xuICAgICAgICAgIHJlc3VsdCA9IHZhbHVlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGl0ZXJhdGVlID0gY2IoaXRlcmF0ZWUsIGNvbnRleHQpO1xuICAgICAgXy5lYWNoKG9iaiwgZnVuY3Rpb24odmFsdWUsIGluZGV4LCBsaXN0KSB7XG4gICAgICAgIGNvbXB1dGVkID0gaXRlcmF0ZWUodmFsdWUsIGluZGV4LCBsaXN0KTtcbiAgICAgICAgaWYgKGNvbXB1dGVkID4gbGFzdENvbXB1dGVkIHx8IGNvbXB1dGVkID09PSAtSW5maW5pdHkgJiYgcmVzdWx0ID09PSAtSW5maW5pdHkpIHtcbiAgICAgICAgICByZXN1bHQgPSB2YWx1ZTtcbiAgICAgICAgICBsYXN0Q29tcHV0ZWQgPSBjb21wdXRlZDtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG4gIH07XG5cbiAgLy8gUmV0dXJuIHRoZSBtaW5pbXVtIGVsZW1lbnQgKG9yIGVsZW1lbnQtYmFzZWQgY29tcHV0YXRpb24pLlxuICBfLm1pbiA9IGZ1bmN0aW9uKG9iaiwgaXRlcmF0ZWUsIGNvbnRleHQpIHtcbiAgICB2YXIgcmVzdWx0ID0gSW5maW5pdHksIGxhc3RDb21wdXRlZCA9IEluZmluaXR5LFxuICAgICAgICB2YWx1ZSwgY29tcHV0ZWQ7XG4gICAgaWYgKGl0ZXJhdGVlID09IG51bGwgJiYgb2JqICE9IG51bGwpIHtcbiAgICAgIG9iaiA9IGlzQXJyYXlMaWtlKG9iaikgPyBvYmogOiBfLnZhbHVlcyhvYmopO1xuICAgICAgZm9yICh2YXIgaSA9IDAsIGxlbmd0aCA9IG9iai5sZW5ndGg7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgICB2YWx1ZSA9IG9ialtpXTtcbiAgICAgICAgaWYgKHZhbHVlIDwgcmVzdWx0KSB7XG4gICAgICAgICAgcmVzdWx0ID0gdmFsdWU7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgaXRlcmF0ZWUgPSBjYihpdGVyYXRlZSwgY29udGV4dCk7XG4gICAgICBfLmVhY2gob2JqLCBmdW5jdGlvbih2YWx1ZSwgaW5kZXgsIGxpc3QpIHtcbiAgICAgICAgY29tcHV0ZWQgPSBpdGVyYXRlZSh2YWx1ZSwgaW5kZXgsIGxpc3QpO1xuICAgICAgICBpZiAoY29tcHV0ZWQgPCBsYXN0Q29tcHV0ZWQgfHwgY29tcHV0ZWQgPT09IEluZmluaXR5ICYmIHJlc3VsdCA9PT0gSW5maW5pdHkpIHtcbiAgICAgICAgICByZXN1bHQgPSB2YWx1ZTtcbiAgICAgICAgICBsYXN0Q29tcHV0ZWQgPSBjb21wdXRlZDtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG4gIH07XG5cbiAgLy8gU2h1ZmZsZSBhIGNvbGxlY3Rpb24sIHVzaW5nIHRoZSBtb2Rlcm4gdmVyc2lvbiBvZiB0aGVcbiAgLy8gW0Zpc2hlci1ZYXRlcyBzaHVmZmxlXShodHRwOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL0Zpc2hlcuKAk1lhdGVzX3NodWZmbGUpLlxuICBfLnNodWZmbGUgPSBmdW5jdGlvbihvYmopIHtcbiAgICB2YXIgc2V0ID0gaXNBcnJheUxpa2Uob2JqKSA/IG9iaiA6IF8udmFsdWVzKG9iaik7XG4gICAgdmFyIGxlbmd0aCA9IHNldC5sZW5ndGg7XG4gICAgdmFyIHNodWZmbGVkID0gQXJyYXkobGVuZ3RoKTtcbiAgICBmb3IgKHZhciBpbmRleCA9IDAsIHJhbmQ7IGluZGV4IDwgbGVuZ3RoOyBpbmRleCsrKSB7XG4gICAgICByYW5kID0gXy5yYW5kb20oMCwgaW5kZXgpO1xuICAgICAgaWYgKHJhbmQgIT09IGluZGV4KSBzaHVmZmxlZFtpbmRleF0gPSBzaHVmZmxlZFtyYW5kXTtcbiAgICAgIHNodWZmbGVkW3JhbmRdID0gc2V0W2luZGV4XTtcbiAgICB9XG4gICAgcmV0dXJuIHNodWZmbGVkO1xuICB9O1xuXG4gIC8vIFNhbXBsZSAqKm4qKiByYW5kb20gdmFsdWVzIGZyb20gYSBjb2xsZWN0aW9uLlxuICAvLyBJZiAqKm4qKiBpcyBub3Qgc3BlY2lmaWVkLCByZXR1cm5zIGEgc2luZ2xlIHJhbmRvbSBlbGVtZW50LlxuICAvLyBUaGUgaW50ZXJuYWwgYGd1YXJkYCBhcmd1bWVudCBhbGxvd3MgaXQgdG8gd29yayB3aXRoIGBtYXBgLlxuICBfLnNhbXBsZSA9IGZ1bmN0aW9uKG9iaiwgbiwgZ3VhcmQpIHtcbiAgICBpZiAobiA9PSBudWxsIHx8IGd1YXJkKSB7XG4gICAgICBpZiAoIWlzQXJyYXlMaWtlKG9iaikpIG9iaiA9IF8udmFsdWVzKG9iaik7XG4gICAgICByZXR1cm4gb2JqW18ucmFuZG9tKG9iai5sZW5ndGggLSAxKV07XG4gICAgfVxuICAgIHJldHVybiBfLnNodWZmbGUob2JqKS5zbGljZSgwLCBNYXRoLm1heCgwLCBuKSk7XG4gIH07XG5cbiAgLy8gU29ydCB0aGUgb2JqZWN0J3MgdmFsdWVzIGJ5IGEgY3JpdGVyaW9uIHByb2R1Y2VkIGJ5IGFuIGl0ZXJhdGVlLlxuICBfLnNvcnRCeSA9IGZ1bmN0aW9uKG9iaiwgaXRlcmF0ZWUsIGNvbnRleHQpIHtcbiAgICBpdGVyYXRlZSA9IGNiKGl0ZXJhdGVlLCBjb250ZXh0KTtcbiAgICByZXR1cm4gXy5wbHVjayhfLm1hcChvYmosIGZ1bmN0aW9uKHZhbHVlLCBpbmRleCwgbGlzdCkge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgdmFsdWU6IHZhbHVlLFxuICAgICAgICBpbmRleDogaW5kZXgsXG4gICAgICAgIGNyaXRlcmlhOiBpdGVyYXRlZSh2YWx1ZSwgaW5kZXgsIGxpc3QpXG4gICAgICB9O1xuICAgIH0pLnNvcnQoZnVuY3Rpb24obGVmdCwgcmlnaHQpIHtcbiAgICAgIHZhciBhID0gbGVmdC5jcml0ZXJpYTtcbiAgICAgIHZhciBiID0gcmlnaHQuY3JpdGVyaWE7XG4gICAgICBpZiAoYSAhPT0gYikge1xuICAgICAgICBpZiAoYSA+IGIgfHwgYSA9PT0gdm9pZCAwKSByZXR1cm4gMTtcbiAgICAgICAgaWYgKGEgPCBiIHx8IGIgPT09IHZvaWQgMCkgcmV0dXJuIC0xO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGxlZnQuaW5kZXggLSByaWdodC5pbmRleDtcbiAgICB9KSwgJ3ZhbHVlJyk7XG4gIH07XG5cbiAgLy8gQW4gaW50ZXJuYWwgZnVuY3Rpb24gdXNlZCBmb3IgYWdncmVnYXRlIFwiZ3JvdXAgYnlcIiBvcGVyYXRpb25zLlxuICB2YXIgZ3JvdXAgPSBmdW5jdGlvbihiZWhhdmlvcikge1xuICAgIHJldHVybiBmdW5jdGlvbihvYmosIGl0ZXJhdGVlLCBjb250ZXh0KSB7XG4gICAgICB2YXIgcmVzdWx0ID0ge307XG4gICAgICBpdGVyYXRlZSA9IGNiKGl0ZXJhdGVlLCBjb250ZXh0KTtcbiAgICAgIF8uZWFjaChvYmosIGZ1bmN0aW9uKHZhbHVlLCBpbmRleCkge1xuICAgICAgICB2YXIga2V5ID0gaXRlcmF0ZWUodmFsdWUsIGluZGV4LCBvYmopO1xuICAgICAgICBiZWhhdmlvcihyZXN1bHQsIHZhbHVlLCBrZXkpO1xuICAgICAgfSk7XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH07XG4gIH07XG5cbiAgLy8gR3JvdXBzIHRoZSBvYmplY3QncyB2YWx1ZXMgYnkgYSBjcml0ZXJpb24uIFBhc3MgZWl0aGVyIGEgc3RyaW5nIGF0dHJpYnV0ZVxuICAvLyB0byBncm91cCBieSwgb3IgYSBmdW5jdGlvbiB0aGF0IHJldHVybnMgdGhlIGNyaXRlcmlvbi5cbiAgXy5ncm91cEJ5ID0gZ3JvdXAoZnVuY3Rpb24ocmVzdWx0LCB2YWx1ZSwga2V5KSB7XG4gICAgaWYgKF8uaGFzKHJlc3VsdCwga2V5KSkgcmVzdWx0W2tleV0ucHVzaCh2YWx1ZSk7IGVsc2UgcmVzdWx0W2tleV0gPSBbdmFsdWVdO1xuICB9KTtcblxuICAvLyBJbmRleGVzIHRoZSBvYmplY3QncyB2YWx1ZXMgYnkgYSBjcml0ZXJpb24sIHNpbWlsYXIgdG8gYGdyb3VwQnlgLCBidXQgZm9yXG4gIC8vIHdoZW4geW91IGtub3cgdGhhdCB5b3VyIGluZGV4IHZhbHVlcyB3aWxsIGJlIHVuaXF1ZS5cbiAgXy5pbmRleEJ5ID0gZ3JvdXAoZnVuY3Rpb24ocmVzdWx0LCB2YWx1ZSwga2V5KSB7XG4gICAgcmVzdWx0W2tleV0gPSB2YWx1ZTtcbiAgfSk7XG5cbiAgLy8gQ291bnRzIGluc3RhbmNlcyBvZiBhbiBvYmplY3QgdGhhdCBncm91cCBieSBhIGNlcnRhaW4gY3JpdGVyaW9uLiBQYXNzXG4gIC8vIGVpdGhlciBhIHN0cmluZyBhdHRyaWJ1dGUgdG8gY291bnQgYnksIG9yIGEgZnVuY3Rpb24gdGhhdCByZXR1cm5zIHRoZVxuICAvLyBjcml0ZXJpb24uXG4gIF8uY291bnRCeSA9IGdyb3VwKGZ1bmN0aW9uKHJlc3VsdCwgdmFsdWUsIGtleSkge1xuICAgIGlmIChfLmhhcyhyZXN1bHQsIGtleSkpIHJlc3VsdFtrZXldKys7IGVsc2UgcmVzdWx0W2tleV0gPSAxO1xuICB9KTtcblxuICAvLyBTYWZlbHkgY3JlYXRlIGEgcmVhbCwgbGl2ZSBhcnJheSBmcm9tIGFueXRoaW5nIGl0ZXJhYmxlLlxuICBfLnRvQXJyYXkgPSBmdW5jdGlvbihvYmopIHtcbiAgICBpZiAoIW9iaikgcmV0dXJuIFtdO1xuICAgIGlmIChfLmlzQXJyYXkob2JqKSkgcmV0dXJuIHNsaWNlLmNhbGwob2JqKTtcbiAgICBpZiAoaXNBcnJheUxpa2Uob2JqKSkgcmV0dXJuIF8ubWFwKG9iaiwgXy5pZGVudGl0eSk7XG4gICAgcmV0dXJuIF8udmFsdWVzKG9iaik7XG4gIH07XG5cbiAgLy8gUmV0dXJuIHRoZSBudW1iZXIgb2YgZWxlbWVudHMgaW4gYW4gb2JqZWN0LlxuICBfLnNpemUgPSBmdW5jdGlvbihvYmopIHtcbiAgICBpZiAob2JqID09IG51bGwpIHJldHVybiAwO1xuICAgIHJldHVybiBpc0FycmF5TGlrZShvYmopID8gb2JqLmxlbmd0aCA6IF8ua2V5cyhvYmopLmxlbmd0aDtcbiAgfTtcblxuICAvLyBTcGxpdCBhIGNvbGxlY3Rpb24gaW50byB0d28gYXJyYXlzOiBvbmUgd2hvc2UgZWxlbWVudHMgYWxsIHNhdGlzZnkgdGhlIGdpdmVuXG4gIC8vIHByZWRpY2F0ZSwgYW5kIG9uZSB3aG9zZSBlbGVtZW50cyBhbGwgZG8gbm90IHNhdGlzZnkgdGhlIHByZWRpY2F0ZS5cbiAgXy5wYXJ0aXRpb24gPSBmdW5jdGlvbihvYmosIHByZWRpY2F0ZSwgY29udGV4dCkge1xuICAgIHByZWRpY2F0ZSA9IGNiKHByZWRpY2F0ZSwgY29udGV4dCk7XG4gICAgdmFyIHBhc3MgPSBbXSwgZmFpbCA9IFtdO1xuICAgIF8uZWFjaChvYmosIGZ1bmN0aW9uKHZhbHVlLCBrZXksIG9iaikge1xuICAgICAgKHByZWRpY2F0ZSh2YWx1ZSwga2V5LCBvYmopID8gcGFzcyA6IGZhaWwpLnB1c2godmFsdWUpO1xuICAgIH0pO1xuICAgIHJldHVybiBbcGFzcywgZmFpbF07XG4gIH07XG5cbiAgLy8gQXJyYXkgRnVuY3Rpb25zXG4gIC8vIC0tLS0tLS0tLS0tLS0tLVxuXG4gIC8vIEdldCB0aGUgZmlyc3QgZWxlbWVudCBvZiBhbiBhcnJheS4gUGFzc2luZyAqKm4qKiB3aWxsIHJldHVybiB0aGUgZmlyc3QgTlxuICAvLyB2YWx1ZXMgaW4gdGhlIGFycmF5LiBBbGlhc2VkIGFzIGBoZWFkYCBhbmQgYHRha2VgLiBUaGUgKipndWFyZCoqIGNoZWNrXG4gIC8vIGFsbG93cyBpdCB0byB3b3JrIHdpdGggYF8ubWFwYC5cbiAgXy5maXJzdCA9IF8uaGVhZCA9IF8udGFrZSA9IGZ1bmN0aW9uKGFycmF5LCBuLCBndWFyZCkge1xuICAgIGlmIChhcnJheSA9PSBudWxsKSByZXR1cm4gdm9pZCAwO1xuICAgIGlmIChuID09IG51bGwgfHwgZ3VhcmQpIHJldHVybiBhcnJheVswXTtcbiAgICByZXR1cm4gXy5pbml0aWFsKGFycmF5LCBhcnJheS5sZW5ndGggLSBuKTtcbiAgfTtcblxuICAvLyBSZXR1cm5zIGV2ZXJ5dGhpbmcgYnV0IHRoZSBsYXN0IGVudHJ5IG9mIHRoZSBhcnJheS4gRXNwZWNpYWxseSB1c2VmdWwgb25cbiAgLy8gdGhlIGFyZ3VtZW50cyBvYmplY3QuIFBhc3NpbmcgKipuKiogd2lsbCByZXR1cm4gYWxsIHRoZSB2YWx1ZXMgaW5cbiAgLy8gdGhlIGFycmF5LCBleGNsdWRpbmcgdGhlIGxhc3QgTi5cbiAgXy5pbml0aWFsID0gZnVuY3Rpb24oYXJyYXksIG4sIGd1YXJkKSB7XG4gICAgcmV0dXJuIHNsaWNlLmNhbGwoYXJyYXksIDAsIE1hdGgubWF4KDAsIGFycmF5Lmxlbmd0aCAtIChuID09IG51bGwgfHwgZ3VhcmQgPyAxIDogbikpKTtcbiAgfTtcblxuICAvLyBHZXQgdGhlIGxhc3QgZWxlbWVudCBvZiBhbiBhcnJheS4gUGFzc2luZyAqKm4qKiB3aWxsIHJldHVybiB0aGUgbGFzdCBOXG4gIC8vIHZhbHVlcyBpbiB0aGUgYXJyYXkuXG4gIF8ubGFzdCA9IGZ1bmN0aW9uKGFycmF5LCBuLCBndWFyZCkge1xuICAgIGlmIChhcnJheSA9PSBudWxsKSByZXR1cm4gdm9pZCAwO1xuICAgIGlmIChuID09IG51bGwgfHwgZ3VhcmQpIHJldHVybiBhcnJheVthcnJheS5sZW5ndGggLSAxXTtcbiAgICByZXR1cm4gXy5yZXN0KGFycmF5LCBNYXRoLm1heCgwLCBhcnJheS5sZW5ndGggLSBuKSk7XG4gIH07XG5cbiAgLy8gUmV0dXJucyBldmVyeXRoaW5nIGJ1dCB0aGUgZmlyc3QgZW50cnkgb2YgdGhlIGFycmF5LiBBbGlhc2VkIGFzIGB0YWlsYCBhbmQgYGRyb3BgLlxuICAvLyBFc3BlY2lhbGx5IHVzZWZ1bCBvbiB0aGUgYXJndW1lbnRzIG9iamVjdC4gUGFzc2luZyBhbiAqKm4qKiB3aWxsIHJldHVyblxuICAvLyB0aGUgcmVzdCBOIHZhbHVlcyBpbiB0aGUgYXJyYXkuXG4gIF8ucmVzdCA9IF8udGFpbCA9IF8uZHJvcCA9IGZ1bmN0aW9uKGFycmF5LCBuLCBndWFyZCkge1xuICAgIHJldHVybiBzbGljZS5jYWxsKGFycmF5LCBuID09IG51bGwgfHwgZ3VhcmQgPyAxIDogbik7XG4gIH07XG5cbiAgLy8gVHJpbSBvdXQgYWxsIGZhbHN5IHZhbHVlcyBmcm9tIGFuIGFycmF5LlxuICBfLmNvbXBhY3QgPSBmdW5jdGlvbihhcnJheSkge1xuICAgIHJldHVybiBfLmZpbHRlcihhcnJheSwgXy5pZGVudGl0eSk7XG4gIH07XG5cbiAgLy8gSW50ZXJuYWwgaW1wbGVtZW50YXRpb24gb2YgYSByZWN1cnNpdmUgYGZsYXR0ZW5gIGZ1bmN0aW9uLlxuICB2YXIgZmxhdHRlbiA9IGZ1bmN0aW9uKGlucHV0LCBzaGFsbG93LCBzdHJpY3QsIHN0YXJ0SW5kZXgpIHtcbiAgICB2YXIgb3V0cHV0ID0gW10sIGlkeCA9IDA7XG4gICAgZm9yICh2YXIgaSA9IHN0YXJ0SW5kZXggfHwgMCwgbGVuZ3RoID0gZ2V0TGVuZ3RoKGlucHV0KTsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgICB2YXIgdmFsdWUgPSBpbnB1dFtpXTtcbiAgICAgIGlmIChpc0FycmF5TGlrZSh2YWx1ZSkgJiYgKF8uaXNBcnJheSh2YWx1ZSkgfHwgXy5pc0FyZ3VtZW50cyh2YWx1ZSkpKSB7XG4gICAgICAgIC8vZmxhdHRlbiBjdXJyZW50IGxldmVsIG9mIGFycmF5IG9yIGFyZ3VtZW50cyBvYmplY3RcbiAgICAgICAgaWYgKCFzaGFsbG93KSB2YWx1ZSA9IGZsYXR0ZW4odmFsdWUsIHNoYWxsb3csIHN0cmljdCk7XG4gICAgICAgIHZhciBqID0gMCwgbGVuID0gdmFsdWUubGVuZ3RoO1xuICAgICAgICBvdXRwdXQubGVuZ3RoICs9IGxlbjtcbiAgICAgICAgd2hpbGUgKGogPCBsZW4pIHtcbiAgICAgICAgICBvdXRwdXRbaWR4KytdID0gdmFsdWVbaisrXTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmICghc3RyaWN0KSB7XG4gICAgICAgIG91dHB1dFtpZHgrK10gPSB2YWx1ZTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG91dHB1dDtcbiAgfTtcblxuICAvLyBGbGF0dGVuIG91dCBhbiBhcnJheSwgZWl0aGVyIHJlY3Vyc2l2ZWx5IChieSBkZWZhdWx0KSwgb3IganVzdCBvbmUgbGV2ZWwuXG4gIF8uZmxhdHRlbiA9IGZ1bmN0aW9uKGFycmF5LCBzaGFsbG93KSB7XG4gICAgcmV0dXJuIGZsYXR0ZW4oYXJyYXksIHNoYWxsb3csIGZhbHNlKTtcbiAgfTtcblxuICAvLyBSZXR1cm4gYSB2ZXJzaW9uIG9mIHRoZSBhcnJheSB0aGF0IGRvZXMgbm90IGNvbnRhaW4gdGhlIHNwZWNpZmllZCB2YWx1ZShzKS5cbiAgXy53aXRob3V0ID0gZnVuY3Rpb24oYXJyYXkpIHtcbiAgICByZXR1cm4gXy5kaWZmZXJlbmNlKGFycmF5LCBzbGljZS5jYWxsKGFyZ3VtZW50cywgMSkpO1xuICB9O1xuXG4gIC8vIFByb2R1Y2UgYSBkdXBsaWNhdGUtZnJlZSB2ZXJzaW9uIG9mIHRoZSBhcnJheS4gSWYgdGhlIGFycmF5IGhhcyBhbHJlYWR5XG4gIC8vIGJlZW4gc29ydGVkLCB5b3UgaGF2ZSB0aGUgb3B0aW9uIG9mIHVzaW5nIGEgZmFzdGVyIGFsZ29yaXRobS5cbiAgLy8gQWxpYXNlZCBhcyBgdW5pcXVlYC5cbiAgXy51bmlxID0gXy51bmlxdWUgPSBmdW5jdGlvbihhcnJheSwgaXNTb3J0ZWQsIGl0ZXJhdGVlLCBjb250ZXh0KSB7XG4gICAgaWYgKCFfLmlzQm9vbGVhbihpc1NvcnRlZCkpIHtcbiAgICAgIGNvbnRleHQgPSBpdGVyYXRlZTtcbiAgICAgIGl0ZXJhdGVlID0gaXNTb3J0ZWQ7XG4gICAgICBpc1NvcnRlZCA9IGZhbHNlO1xuICAgIH1cbiAgICBpZiAoaXRlcmF0ZWUgIT0gbnVsbCkgaXRlcmF0ZWUgPSBjYihpdGVyYXRlZSwgY29udGV4dCk7XG4gICAgdmFyIHJlc3VsdCA9IFtdO1xuICAgIHZhciBzZWVuID0gW107XG4gICAgZm9yICh2YXIgaSA9IDAsIGxlbmd0aCA9IGdldExlbmd0aChhcnJheSk7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgdmFyIHZhbHVlID0gYXJyYXlbaV0sXG4gICAgICAgICAgY29tcHV0ZWQgPSBpdGVyYXRlZSA/IGl0ZXJhdGVlKHZhbHVlLCBpLCBhcnJheSkgOiB2YWx1ZTtcbiAgICAgIGlmIChpc1NvcnRlZCkge1xuICAgICAgICBpZiAoIWkgfHwgc2VlbiAhPT0gY29tcHV0ZWQpIHJlc3VsdC5wdXNoKHZhbHVlKTtcbiAgICAgICAgc2VlbiA9IGNvbXB1dGVkO1xuICAgICAgfSBlbHNlIGlmIChpdGVyYXRlZSkge1xuICAgICAgICBpZiAoIV8uY29udGFpbnMoc2VlbiwgY29tcHV0ZWQpKSB7XG4gICAgICAgICAgc2Vlbi5wdXNoKGNvbXB1dGVkKTtcbiAgICAgICAgICByZXN1bHQucHVzaCh2YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAoIV8uY29udGFpbnMocmVzdWx0LCB2YWx1ZSkpIHtcbiAgICAgICAgcmVzdWx0LnB1c2godmFsdWUpO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xuICB9O1xuXG4gIC8vIFByb2R1Y2UgYW4gYXJyYXkgdGhhdCBjb250YWlucyB0aGUgdW5pb246IGVhY2ggZGlzdGluY3QgZWxlbWVudCBmcm9tIGFsbCBvZlxuICAvLyB0aGUgcGFzc2VkLWluIGFycmF5cy5cbiAgXy51bmlvbiA9IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiBfLnVuaXEoZmxhdHRlbihhcmd1bWVudHMsIHRydWUsIHRydWUpKTtcbiAgfTtcblxuICAvLyBQcm9kdWNlIGFuIGFycmF5IHRoYXQgY29udGFpbnMgZXZlcnkgaXRlbSBzaGFyZWQgYmV0d2VlbiBhbGwgdGhlXG4gIC8vIHBhc3NlZC1pbiBhcnJheXMuXG4gIF8uaW50ZXJzZWN0aW9uID0gZnVuY3Rpb24oYXJyYXkpIHtcbiAgICB2YXIgcmVzdWx0ID0gW107XG4gICAgdmFyIGFyZ3NMZW5ndGggPSBhcmd1bWVudHMubGVuZ3RoO1xuICAgIGZvciAodmFyIGkgPSAwLCBsZW5ndGggPSBnZXRMZW5ndGgoYXJyYXkpOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhciBpdGVtID0gYXJyYXlbaV07XG4gICAgICBpZiAoXy5jb250YWlucyhyZXN1bHQsIGl0ZW0pKSBjb250aW51ZTtcbiAgICAgIGZvciAodmFyIGogPSAxOyBqIDwgYXJnc0xlbmd0aDsgaisrKSB7XG4gICAgICAgIGlmICghXy5jb250YWlucyhhcmd1bWVudHNbal0sIGl0ZW0pKSBicmVhaztcbiAgICAgIH1cbiAgICAgIGlmIChqID09PSBhcmdzTGVuZ3RoKSByZXN1bHQucHVzaChpdGVtKTtcbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfTtcblxuICAvLyBUYWtlIHRoZSBkaWZmZXJlbmNlIGJldHdlZW4gb25lIGFycmF5IGFuZCBhIG51bWJlciBvZiBvdGhlciBhcnJheXMuXG4gIC8vIE9ubHkgdGhlIGVsZW1lbnRzIHByZXNlbnQgaW4ganVzdCB0aGUgZmlyc3QgYXJyYXkgd2lsbCByZW1haW4uXG4gIF8uZGlmZmVyZW5jZSA9IGZ1bmN0aW9uKGFycmF5KSB7XG4gICAgdmFyIHJlc3QgPSBmbGF0dGVuKGFyZ3VtZW50cywgdHJ1ZSwgdHJ1ZSwgMSk7XG4gICAgcmV0dXJuIF8uZmlsdGVyKGFycmF5LCBmdW5jdGlvbih2YWx1ZSl7XG4gICAgICByZXR1cm4gIV8uY29udGFpbnMocmVzdCwgdmFsdWUpO1xuICAgIH0pO1xuICB9O1xuXG4gIC8vIFppcCB0b2dldGhlciBtdWx0aXBsZSBsaXN0cyBpbnRvIGEgc2luZ2xlIGFycmF5IC0tIGVsZW1lbnRzIHRoYXQgc2hhcmVcbiAgLy8gYW4gaW5kZXggZ28gdG9nZXRoZXIuXG4gIF8uemlwID0gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIF8udW56aXAoYXJndW1lbnRzKTtcbiAgfTtcblxuICAvLyBDb21wbGVtZW50IG9mIF8uemlwLiBVbnppcCBhY2NlcHRzIGFuIGFycmF5IG9mIGFycmF5cyBhbmQgZ3JvdXBzXG4gIC8vIGVhY2ggYXJyYXkncyBlbGVtZW50cyBvbiBzaGFyZWQgaW5kaWNlc1xuICBfLnVuemlwID0gZnVuY3Rpb24oYXJyYXkpIHtcbiAgICB2YXIgbGVuZ3RoID0gYXJyYXkgJiYgXy5tYXgoYXJyYXksIGdldExlbmd0aCkubGVuZ3RoIHx8IDA7XG4gICAgdmFyIHJlc3VsdCA9IEFycmF5KGxlbmd0aCk7XG5cbiAgICBmb3IgKHZhciBpbmRleCA9IDA7IGluZGV4IDwgbGVuZ3RoOyBpbmRleCsrKSB7XG4gICAgICByZXN1bHRbaW5kZXhdID0gXy5wbHVjayhhcnJheSwgaW5kZXgpO1xuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xuICB9O1xuXG4gIC8vIENvbnZlcnRzIGxpc3RzIGludG8gb2JqZWN0cy4gUGFzcyBlaXRoZXIgYSBzaW5nbGUgYXJyYXkgb2YgYFtrZXksIHZhbHVlXWBcbiAgLy8gcGFpcnMsIG9yIHR3byBwYXJhbGxlbCBhcnJheXMgb2YgdGhlIHNhbWUgbGVuZ3RoIC0tIG9uZSBvZiBrZXlzLCBhbmQgb25lIG9mXG4gIC8vIHRoZSBjb3JyZXNwb25kaW5nIHZhbHVlcy5cbiAgXy5vYmplY3QgPSBmdW5jdGlvbihsaXN0LCB2YWx1ZXMpIHtcbiAgICB2YXIgcmVzdWx0ID0ge307XG4gICAgZm9yICh2YXIgaSA9IDAsIGxlbmd0aCA9IGdldExlbmd0aChsaXN0KTsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgICBpZiAodmFsdWVzKSB7XG4gICAgICAgIHJlc3VsdFtsaXN0W2ldXSA9IHZhbHVlc1tpXTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJlc3VsdFtsaXN0W2ldWzBdXSA9IGxpc3RbaV1bMV07XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG4gIH07XG5cbiAgLy8gR2VuZXJhdG9yIGZ1bmN0aW9uIHRvIGNyZWF0ZSB0aGUgZmluZEluZGV4IGFuZCBmaW5kTGFzdEluZGV4IGZ1bmN0aW9uc1xuICBmdW5jdGlvbiBjcmVhdGVQcmVkaWNhdGVJbmRleEZpbmRlcihkaXIpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24oYXJyYXksIHByZWRpY2F0ZSwgY29udGV4dCkge1xuICAgICAgcHJlZGljYXRlID0gY2IocHJlZGljYXRlLCBjb250ZXh0KTtcbiAgICAgIHZhciBsZW5ndGggPSBnZXRMZW5ndGgoYXJyYXkpO1xuICAgICAgdmFyIGluZGV4ID0gZGlyID4gMCA/IDAgOiBsZW5ndGggLSAxO1xuICAgICAgZm9yICg7IGluZGV4ID49IDAgJiYgaW5kZXggPCBsZW5ndGg7IGluZGV4ICs9IGRpcikge1xuICAgICAgICBpZiAocHJlZGljYXRlKGFycmF5W2luZGV4XSwgaW5kZXgsIGFycmF5KSkgcmV0dXJuIGluZGV4O1xuICAgICAgfVxuICAgICAgcmV0dXJuIC0xO1xuICAgIH07XG4gIH1cblxuICAvLyBSZXR1cm5zIHRoZSBmaXJzdCBpbmRleCBvbiBhbiBhcnJheS1saWtlIHRoYXQgcGFzc2VzIGEgcHJlZGljYXRlIHRlc3RcbiAgXy5maW5kSW5kZXggPSBjcmVhdGVQcmVkaWNhdGVJbmRleEZpbmRlcigxKTtcbiAgXy5maW5kTGFzdEluZGV4ID0gY3JlYXRlUHJlZGljYXRlSW5kZXhGaW5kZXIoLTEpO1xuXG4gIC8vIFVzZSBhIGNvbXBhcmF0b3IgZnVuY3Rpb24gdG8gZmlndXJlIG91dCB0aGUgc21hbGxlc3QgaW5kZXggYXQgd2hpY2hcbiAgLy8gYW4gb2JqZWN0IHNob3VsZCBiZSBpbnNlcnRlZCBzbyBhcyB0byBtYWludGFpbiBvcmRlci4gVXNlcyBiaW5hcnkgc2VhcmNoLlxuICBfLnNvcnRlZEluZGV4ID0gZnVuY3Rpb24oYXJyYXksIG9iaiwgaXRlcmF0ZWUsIGNvbnRleHQpIHtcbiAgICBpdGVyYXRlZSA9IGNiKGl0ZXJhdGVlLCBjb250ZXh0LCAxKTtcbiAgICB2YXIgdmFsdWUgPSBpdGVyYXRlZShvYmopO1xuICAgIHZhciBsb3cgPSAwLCBoaWdoID0gZ2V0TGVuZ3RoKGFycmF5KTtcbiAgICB3aGlsZSAobG93IDwgaGlnaCkge1xuICAgICAgdmFyIG1pZCA9IE1hdGguZmxvb3IoKGxvdyArIGhpZ2gpIC8gMik7XG4gICAgICBpZiAoaXRlcmF0ZWUoYXJyYXlbbWlkXSkgPCB2YWx1ZSkgbG93ID0gbWlkICsgMTsgZWxzZSBoaWdoID0gbWlkO1xuICAgIH1cbiAgICByZXR1cm4gbG93O1xuICB9O1xuXG4gIC8vIEdlbmVyYXRvciBmdW5jdGlvbiB0byBjcmVhdGUgdGhlIGluZGV4T2YgYW5kIGxhc3RJbmRleE9mIGZ1bmN0aW9uc1xuICBmdW5jdGlvbiBjcmVhdGVJbmRleEZpbmRlcihkaXIsIHByZWRpY2F0ZUZpbmQsIHNvcnRlZEluZGV4KSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uKGFycmF5LCBpdGVtLCBpZHgpIHtcbiAgICAgIHZhciBpID0gMCwgbGVuZ3RoID0gZ2V0TGVuZ3RoKGFycmF5KTtcbiAgICAgIGlmICh0eXBlb2YgaWR4ID09ICdudW1iZXInKSB7XG4gICAgICAgIGlmIChkaXIgPiAwKSB7XG4gICAgICAgICAgICBpID0gaWR4ID49IDAgPyBpZHggOiBNYXRoLm1heChpZHggKyBsZW5ndGgsIGkpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgbGVuZ3RoID0gaWR4ID49IDAgPyBNYXRoLm1pbihpZHggKyAxLCBsZW5ndGgpIDogaWR4ICsgbGVuZ3RoICsgMTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmIChzb3J0ZWRJbmRleCAmJiBpZHggJiYgbGVuZ3RoKSB7XG4gICAgICAgIGlkeCA9IHNvcnRlZEluZGV4KGFycmF5LCBpdGVtKTtcbiAgICAgICAgcmV0dXJuIGFycmF5W2lkeF0gPT09IGl0ZW0gPyBpZHggOiAtMTtcbiAgICAgIH1cbiAgICAgIGlmIChpdGVtICE9PSBpdGVtKSB7XG4gICAgICAgIGlkeCA9IHByZWRpY2F0ZUZpbmQoc2xpY2UuY2FsbChhcnJheSwgaSwgbGVuZ3RoKSwgXy5pc05hTik7XG4gICAgICAgIHJldHVybiBpZHggPj0gMCA/IGlkeCArIGkgOiAtMTtcbiAgICAgIH1cbiAgICAgIGZvciAoaWR4ID0gZGlyID4gMCA/IGkgOiBsZW5ndGggLSAxOyBpZHggPj0gMCAmJiBpZHggPCBsZW5ndGg7IGlkeCArPSBkaXIpIHtcbiAgICAgICAgaWYgKGFycmF5W2lkeF0gPT09IGl0ZW0pIHJldHVybiBpZHg7XG4gICAgICB9XG4gICAgICByZXR1cm4gLTE7XG4gICAgfTtcbiAgfVxuXG4gIC8vIFJldHVybiB0aGUgcG9zaXRpb24gb2YgdGhlIGZpcnN0IG9jY3VycmVuY2Ugb2YgYW4gaXRlbSBpbiBhbiBhcnJheSxcbiAgLy8gb3IgLTEgaWYgdGhlIGl0ZW0gaXMgbm90IGluY2x1ZGVkIGluIHRoZSBhcnJheS5cbiAgLy8gSWYgdGhlIGFycmF5IGlzIGxhcmdlIGFuZCBhbHJlYWR5IGluIHNvcnQgb3JkZXIsIHBhc3MgYHRydWVgXG4gIC8vIGZvciAqKmlzU29ydGVkKiogdG8gdXNlIGJpbmFyeSBzZWFyY2guXG4gIF8uaW5kZXhPZiA9IGNyZWF0ZUluZGV4RmluZGVyKDEsIF8uZmluZEluZGV4LCBfLnNvcnRlZEluZGV4KTtcbiAgXy5sYXN0SW5kZXhPZiA9IGNyZWF0ZUluZGV4RmluZGVyKC0xLCBfLmZpbmRMYXN0SW5kZXgpO1xuXG4gIC8vIEdlbmVyYXRlIGFuIGludGVnZXIgQXJyYXkgY29udGFpbmluZyBhbiBhcml0aG1ldGljIHByb2dyZXNzaW9uLiBBIHBvcnQgb2ZcbiAgLy8gdGhlIG5hdGl2ZSBQeXRob24gYHJhbmdlKClgIGZ1bmN0aW9uLiBTZWVcbiAgLy8gW3RoZSBQeXRob24gZG9jdW1lbnRhdGlvbl0oaHR0cDovL2RvY3MucHl0aG9uLm9yZy9saWJyYXJ5L2Z1bmN0aW9ucy5odG1sI3JhbmdlKS5cbiAgXy5yYW5nZSA9IGZ1bmN0aW9uKHN0YXJ0LCBzdG9wLCBzdGVwKSB7XG4gICAgaWYgKHN0b3AgPT0gbnVsbCkge1xuICAgICAgc3RvcCA9IHN0YXJ0IHx8IDA7XG4gICAgICBzdGFydCA9IDA7XG4gICAgfVxuICAgIHN0ZXAgPSBzdGVwIHx8IDE7XG5cbiAgICB2YXIgbGVuZ3RoID0gTWF0aC5tYXgoTWF0aC5jZWlsKChzdG9wIC0gc3RhcnQpIC8gc3RlcCksIDApO1xuICAgIHZhciByYW5nZSA9IEFycmF5KGxlbmd0aCk7XG5cbiAgICBmb3IgKHZhciBpZHggPSAwOyBpZHggPCBsZW5ndGg7IGlkeCsrLCBzdGFydCArPSBzdGVwKSB7XG4gICAgICByYW5nZVtpZHhdID0gc3RhcnQ7XG4gICAgfVxuXG4gICAgcmV0dXJuIHJhbmdlO1xuICB9O1xuXG4gIC8vIEZ1bmN0aW9uIChhaGVtKSBGdW5jdGlvbnNcbiAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tXG5cbiAgLy8gRGV0ZXJtaW5lcyB3aGV0aGVyIHRvIGV4ZWN1dGUgYSBmdW5jdGlvbiBhcyBhIGNvbnN0cnVjdG9yXG4gIC8vIG9yIGEgbm9ybWFsIGZ1bmN0aW9uIHdpdGggdGhlIHByb3ZpZGVkIGFyZ3VtZW50c1xuICB2YXIgZXhlY3V0ZUJvdW5kID0gZnVuY3Rpb24oc291cmNlRnVuYywgYm91bmRGdW5jLCBjb250ZXh0LCBjYWxsaW5nQ29udGV4dCwgYXJncykge1xuICAgIGlmICghKGNhbGxpbmdDb250ZXh0IGluc3RhbmNlb2YgYm91bmRGdW5jKSkgcmV0dXJuIHNvdXJjZUZ1bmMuYXBwbHkoY29udGV4dCwgYXJncyk7XG4gICAgdmFyIHNlbGYgPSBiYXNlQ3JlYXRlKHNvdXJjZUZ1bmMucHJvdG90eXBlKTtcbiAgICB2YXIgcmVzdWx0ID0gc291cmNlRnVuYy5hcHBseShzZWxmLCBhcmdzKTtcbiAgICBpZiAoXy5pc09iamVjdChyZXN1bHQpKSByZXR1cm4gcmVzdWx0O1xuICAgIHJldHVybiBzZWxmO1xuICB9O1xuXG4gIC8vIENyZWF0ZSBhIGZ1bmN0aW9uIGJvdW5kIHRvIGEgZ2l2ZW4gb2JqZWN0IChhc3NpZ25pbmcgYHRoaXNgLCBhbmQgYXJndW1lbnRzLFxuICAvLyBvcHRpb25hbGx5KS4gRGVsZWdhdGVzIHRvICoqRUNNQVNjcmlwdCA1KioncyBuYXRpdmUgYEZ1bmN0aW9uLmJpbmRgIGlmXG4gIC8vIGF2YWlsYWJsZS5cbiAgXy5iaW5kID0gZnVuY3Rpb24oZnVuYywgY29udGV4dCkge1xuICAgIGlmIChuYXRpdmVCaW5kICYmIGZ1bmMuYmluZCA9PT0gbmF0aXZlQmluZCkgcmV0dXJuIG5hdGl2ZUJpbmQuYXBwbHkoZnVuYywgc2xpY2UuY2FsbChhcmd1bWVudHMsIDEpKTtcbiAgICBpZiAoIV8uaXNGdW5jdGlvbihmdW5jKSkgdGhyb3cgbmV3IFR5cGVFcnJvcignQmluZCBtdXN0IGJlIGNhbGxlZCBvbiBhIGZ1bmN0aW9uJyk7XG4gICAgdmFyIGFyZ3MgPSBzbGljZS5jYWxsKGFyZ3VtZW50cywgMik7XG4gICAgdmFyIGJvdW5kID0gZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gZXhlY3V0ZUJvdW5kKGZ1bmMsIGJvdW5kLCBjb250ZXh0LCB0aGlzLCBhcmdzLmNvbmNhdChzbGljZS5jYWxsKGFyZ3VtZW50cykpKTtcbiAgICB9O1xuICAgIHJldHVybiBib3VuZDtcbiAgfTtcblxuICAvLyBQYXJ0aWFsbHkgYXBwbHkgYSBmdW5jdGlvbiBieSBjcmVhdGluZyBhIHZlcnNpb24gdGhhdCBoYXMgaGFkIHNvbWUgb2YgaXRzXG4gIC8vIGFyZ3VtZW50cyBwcmUtZmlsbGVkLCB3aXRob3V0IGNoYW5naW5nIGl0cyBkeW5hbWljIGB0aGlzYCBjb250ZXh0LiBfIGFjdHNcbiAgLy8gYXMgYSBwbGFjZWhvbGRlciwgYWxsb3dpbmcgYW55IGNvbWJpbmF0aW9uIG9mIGFyZ3VtZW50cyB0byBiZSBwcmUtZmlsbGVkLlxuICBfLnBhcnRpYWwgPSBmdW5jdGlvbihmdW5jKSB7XG4gICAgdmFyIGJvdW5kQXJncyA9IHNsaWNlLmNhbGwoYXJndW1lbnRzLCAxKTtcbiAgICB2YXIgYm91bmQgPSBmdW5jdGlvbigpIHtcbiAgICAgIHZhciBwb3NpdGlvbiA9IDAsIGxlbmd0aCA9IGJvdW5kQXJncy5sZW5ndGg7XG4gICAgICB2YXIgYXJncyA9IEFycmF5KGxlbmd0aCk7XG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGFyZ3NbaV0gPSBib3VuZEFyZ3NbaV0gPT09IF8gPyBhcmd1bWVudHNbcG9zaXRpb24rK10gOiBib3VuZEFyZ3NbaV07XG4gICAgICB9XG4gICAgICB3aGlsZSAocG9zaXRpb24gPCBhcmd1bWVudHMubGVuZ3RoKSBhcmdzLnB1c2goYXJndW1lbnRzW3Bvc2l0aW9uKytdKTtcbiAgICAgIHJldHVybiBleGVjdXRlQm91bmQoZnVuYywgYm91bmQsIHRoaXMsIHRoaXMsIGFyZ3MpO1xuICAgIH07XG4gICAgcmV0dXJuIGJvdW5kO1xuICB9O1xuXG4gIC8vIEJpbmQgYSBudW1iZXIgb2YgYW4gb2JqZWN0J3MgbWV0aG9kcyB0byB0aGF0IG9iamVjdC4gUmVtYWluaW5nIGFyZ3VtZW50c1xuICAvLyBhcmUgdGhlIG1ldGhvZCBuYW1lcyB0byBiZSBib3VuZC4gVXNlZnVsIGZvciBlbnN1cmluZyB0aGF0IGFsbCBjYWxsYmFja3NcbiAgLy8gZGVmaW5lZCBvbiBhbiBvYmplY3QgYmVsb25nIHRvIGl0LlxuICBfLmJpbmRBbGwgPSBmdW5jdGlvbihvYmopIHtcbiAgICB2YXIgaSwgbGVuZ3RoID0gYXJndW1lbnRzLmxlbmd0aCwga2V5O1xuICAgIGlmIChsZW5ndGggPD0gMSkgdGhyb3cgbmV3IEVycm9yKCdiaW5kQWxsIG11c3QgYmUgcGFzc2VkIGZ1bmN0aW9uIG5hbWVzJyk7XG4gICAgZm9yIChpID0gMTsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgICBrZXkgPSBhcmd1bWVudHNbaV07XG4gICAgICBvYmpba2V5XSA9IF8uYmluZChvYmpba2V5XSwgb2JqKTtcbiAgICB9XG4gICAgcmV0dXJuIG9iajtcbiAgfTtcblxuICAvLyBNZW1vaXplIGFuIGV4cGVuc2l2ZSBmdW5jdGlvbiBieSBzdG9yaW5nIGl0cyByZXN1bHRzLlxuICBfLm1lbW9pemUgPSBmdW5jdGlvbihmdW5jLCBoYXNoZXIpIHtcbiAgICB2YXIgbWVtb2l6ZSA9IGZ1bmN0aW9uKGtleSkge1xuICAgICAgdmFyIGNhY2hlID0gbWVtb2l6ZS5jYWNoZTtcbiAgICAgIHZhciBhZGRyZXNzID0gJycgKyAoaGFzaGVyID8gaGFzaGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykgOiBrZXkpO1xuICAgICAgaWYgKCFfLmhhcyhjYWNoZSwgYWRkcmVzcykpIGNhY2hlW2FkZHJlc3NdID0gZnVuYy5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgcmV0dXJuIGNhY2hlW2FkZHJlc3NdO1xuICAgIH07XG4gICAgbWVtb2l6ZS5jYWNoZSA9IHt9O1xuICAgIHJldHVybiBtZW1vaXplO1xuICB9O1xuXG4gIC8vIERlbGF5cyBhIGZ1bmN0aW9uIGZvciB0aGUgZ2l2ZW4gbnVtYmVyIG9mIG1pbGxpc2Vjb25kcywgYW5kIHRoZW4gY2FsbHNcbiAgLy8gaXQgd2l0aCB0aGUgYXJndW1lbnRzIHN1cHBsaWVkLlxuICBfLmRlbGF5ID0gZnVuY3Rpb24oZnVuYywgd2FpdCkge1xuICAgIHZhciBhcmdzID0gc2xpY2UuY2FsbChhcmd1bWVudHMsIDIpO1xuICAgIHJldHVybiBzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7XG4gICAgICByZXR1cm4gZnVuYy5hcHBseShudWxsLCBhcmdzKTtcbiAgICB9LCB3YWl0KTtcbiAgfTtcblxuICAvLyBEZWZlcnMgYSBmdW5jdGlvbiwgc2NoZWR1bGluZyBpdCB0byBydW4gYWZ0ZXIgdGhlIGN1cnJlbnQgY2FsbCBzdGFjayBoYXNcbiAgLy8gY2xlYXJlZC5cbiAgXy5kZWZlciA9IF8ucGFydGlhbChfLmRlbGF5LCBfLCAxKTtcblxuICAvLyBSZXR1cm5zIGEgZnVuY3Rpb24sIHRoYXQsIHdoZW4gaW52b2tlZCwgd2lsbCBvbmx5IGJlIHRyaWdnZXJlZCBhdCBtb3N0IG9uY2VcbiAgLy8gZHVyaW5nIGEgZ2l2ZW4gd2luZG93IG9mIHRpbWUuIE5vcm1hbGx5LCB0aGUgdGhyb3R0bGVkIGZ1bmN0aW9uIHdpbGwgcnVuXG4gIC8vIGFzIG11Y2ggYXMgaXQgY2FuLCB3aXRob3V0IGV2ZXIgZ29pbmcgbW9yZSB0aGFuIG9uY2UgcGVyIGB3YWl0YCBkdXJhdGlvbjtcbiAgLy8gYnV0IGlmIHlvdSdkIGxpa2UgdG8gZGlzYWJsZSB0aGUgZXhlY3V0aW9uIG9uIHRoZSBsZWFkaW5nIGVkZ2UsIHBhc3NcbiAgLy8gYHtsZWFkaW5nOiBmYWxzZX1gLiBUbyBkaXNhYmxlIGV4ZWN1dGlvbiBvbiB0aGUgdHJhaWxpbmcgZWRnZSwgZGl0dG8uXG4gIF8udGhyb3R0bGUgPSBmdW5jdGlvbihmdW5jLCB3YWl0LCBvcHRpb25zKSB7XG4gICAgdmFyIGNvbnRleHQsIGFyZ3MsIHJlc3VsdDtcbiAgICB2YXIgdGltZW91dCA9IG51bGw7XG4gICAgdmFyIHByZXZpb3VzID0gMDtcbiAgICBpZiAoIW9wdGlvbnMpIG9wdGlvbnMgPSB7fTtcbiAgICB2YXIgbGF0ZXIgPSBmdW5jdGlvbigpIHtcbiAgICAgIHByZXZpb3VzID0gb3B0aW9ucy5sZWFkaW5nID09PSBmYWxzZSA/IDAgOiBfLm5vdygpO1xuICAgICAgdGltZW91dCA9IG51bGw7XG4gICAgICByZXN1bHQgPSBmdW5jLmFwcGx5KGNvbnRleHQsIGFyZ3MpO1xuICAgICAgaWYgKCF0aW1lb3V0KSBjb250ZXh0ID0gYXJncyA9IG51bGw7XG4gICAgfTtcbiAgICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgbm93ID0gXy5ub3coKTtcbiAgICAgIGlmICghcHJldmlvdXMgJiYgb3B0aW9ucy5sZWFkaW5nID09PSBmYWxzZSkgcHJldmlvdXMgPSBub3c7XG4gICAgICB2YXIgcmVtYWluaW5nID0gd2FpdCAtIChub3cgLSBwcmV2aW91cyk7XG4gICAgICBjb250ZXh0ID0gdGhpcztcbiAgICAgIGFyZ3MgPSBhcmd1bWVudHM7XG4gICAgICBpZiAocmVtYWluaW5nIDw9IDAgfHwgcmVtYWluaW5nID4gd2FpdCkge1xuICAgICAgICBpZiAodGltZW91dCkge1xuICAgICAgICAgIGNsZWFyVGltZW91dCh0aW1lb3V0KTtcbiAgICAgICAgICB0aW1lb3V0ID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICBwcmV2aW91cyA9IG5vdztcbiAgICAgICAgcmVzdWx0ID0gZnVuYy5hcHBseShjb250ZXh0LCBhcmdzKTtcbiAgICAgICAgaWYgKCF0aW1lb3V0KSBjb250ZXh0ID0gYXJncyA9IG51bGw7XG4gICAgICB9IGVsc2UgaWYgKCF0aW1lb3V0ICYmIG9wdGlvbnMudHJhaWxpbmcgIT09IGZhbHNlKSB7XG4gICAgICAgIHRpbWVvdXQgPSBzZXRUaW1lb3V0KGxhdGVyLCByZW1haW5pbmcpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9O1xuICB9O1xuXG4gIC8vIFJldHVybnMgYSBmdW5jdGlvbiwgdGhhdCwgYXMgbG9uZyBhcyBpdCBjb250aW51ZXMgdG8gYmUgaW52b2tlZCwgd2lsbCBub3RcbiAgLy8gYmUgdHJpZ2dlcmVkLiBUaGUgZnVuY3Rpb24gd2lsbCBiZSBjYWxsZWQgYWZ0ZXIgaXQgc3RvcHMgYmVpbmcgY2FsbGVkIGZvclxuICAvLyBOIG1pbGxpc2Vjb25kcy4gSWYgYGltbWVkaWF0ZWAgaXMgcGFzc2VkLCB0cmlnZ2VyIHRoZSBmdW5jdGlvbiBvbiB0aGVcbiAgLy8gbGVhZGluZyBlZGdlLCBpbnN0ZWFkIG9mIHRoZSB0cmFpbGluZy5cbiAgXy5kZWJvdW5jZSA9IGZ1bmN0aW9uKGZ1bmMsIHdhaXQsIGltbWVkaWF0ZSkge1xuICAgIHZhciB0aW1lb3V0LCBhcmdzLCBjb250ZXh0LCB0aW1lc3RhbXAsIHJlc3VsdDtcblxuICAgIHZhciBsYXRlciA9IGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIGxhc3QgPSBfLm5vdygpIC0gdGltZXN0YW1wO1xuXG4gICAgICBpZiAobGFzdCA8IHdhaXQgJiYgbGFzdCA+PSAwKSB7XG4gICAgICAgIHRpbWVvdXQgPSBzZXRUaW1lb3V0KGxhdGVyLCB3YWl0IC0gbGFzdCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aW1lb3V0ID0gbnVsbDtcbiAgICAgICAgaWYgKCFpbW1lZGlhdGUpIHtcbiAgICAgICAgICByZXN1bHQgPSBmdW5jLmFwcGx5KGNvbnRleHQsIGFyZ3MpO1xuICAgICAgICAgIGlmICghdGltZW91dCkgY29udGV4dCA9IGFyZ3MgPSBudWxsO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfTtcblxuICAgIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICAgIGNvbnRleHQgPSB0aGlzO1xuICAgICAgYXJncyA9IGFyZ3VtZW50cztcbiAgICAgIHRpbWVzdGFtcCA9IF8ubm93KCk7XG4gICAgICB2YXIgY2FsbE5vdyA9IGltbWVkaWF0ZSAmJiAhdGltZW91dDtcbiAgICAgIGlmICghdGltZW91dCkgdGltZW91dCA9IHNldFRpbWVvdXQobGF0ZXIsIHdhaXQpO1xuICAgICAgaWYgKGNhbGxOb3cpIHtcbiAgICAgICAgcmVzdWx0ID0gZnVuYy5hcHBseShjb250ZXh0LCBhcmdzKTtcbiAgICAgICAgY29udGV4dCA9IGFyZ3MgPSBudWxsO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH07XG4gIH07XG5cbiAgLy8gUmV0dXJucyB0aGUgZmlyc3QgZnVuY3Rpb24gcGFzc2VkIGFzIGFuIGFyZ3VtZW50IHRvIHRoZSBzZWNvbmQsXG4gIC8vIGFsbG93aW5nIHlvdSB0byBhZGp1c3QgYXJndW1lbnRzLCBydW4gY29kZSBiZWZvcmUgYW5kIGFmdGVyLCBhbmRcbiAgLy8gY29uZGl0aW9uYWxseSBleGVjdXRlIHRoZSBvcmlnaW5hbCBmdW5jdGlvbi5cbiAgXy53cmFwID0gZnVuY3Rpb24oZnVuYywgd3JhcHBlcikge1xuICAgIHJldHVybiBfLnBhcnRpYWwod3JhcHBlciwgZnVuYyk7XG4gIH07XG5cbiAgLy8gUmV0dXJucyBhIG5lZ2F0ZWQgdmVyc2lvbiBvZiB0aGUgcGFzc2VkLWluIHByZWRpY2F0ZS5cbiAgXy5uZWdhdGUgPSBmdW5jdGlvbihwcmVkaWNhdGUpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gIXByZWRpY2F0ZS5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgIH07XG4gIH07XG5cbiAgLy8gUmV0dXJucyBhIGZ1bmN0aW9uIHRoYXQgaXMgdGhlIGNvbXBvc2l0aW9uIG9mIGEgbGlzdCBvZiBmdW5jdGlvbnMsIGVhY2hcbiAgLy8gY29uc3VtaW5nIHRoZSByZXR1cm4gdmFsdWUgb2YgdGhlIGZ1bmN0aW9uIHRoYXQgZm9sbG93cy5cbiAgXy5jb21wb3NlID0gZnVuY3Rpb24oKSB7XG4gICAgdmFyIGFyZ3MgPSBhcmd1bWVudHM7XG4gICAgdmFyIHN0YXJ0ID0gYXJncy5sZW5ndGggLSAxO1xuICAgIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICAgIHZhciBpID0gc3RhcnQ7XG4gICAgICB2YXIgcmVzdWx0ID0gYXJnc1tzdGFydF0uYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgIHdoaWxlIChpLS0pIHJlc3VsdCA9IGFyZ3NbaV0uY2FsbCh0aGlzLCByZXN1bHQpO1xuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9O1xuICB9O1xuXG4gIC8vIFJldHVybnMgYSBmdW5jdGlvbiB0aGF0IHdpbGwgb25seSBiZSBleGVjdXRlZCBvbiBhbmQgYWZ0ZXIgdGhlIE50aCBjYWxsLlxuICBfLmFmdGVyID0gZnVuY3Rpb24odGltZXMsIGZ1bmMpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgICBpZiAoLS10aW1lcyA8IDEpIHtcbiAgICAgICAgcmV0dXJuIGZ1bmMuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgIH1cbiAgICB9O1xuICB9O1xuXG4gIC8vIFJldHVybnMgYSBmdW5jdGlvbiB0aGF0IHdpbGwgb25seSBiZSBleGVjdXRlZCB1cCB0byAoYnV0IG5vdCBpbmNsdWRpbmcpIHRoZSBOdGggY2FsbC5cbiAgXy5iZWZvcmUgPSBmdW5jdGlvbih0aW1lcywgZnVuYykge1xuICAgIHZhciBtZW1vO1xuICAgIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICAgIGlmICgtLXRpbWVzID4gMCkge1xuICAgICAgICBtZW1vID0gZnVuYy5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgfVxuICAgICAgaWYgKHRpbWVzIDw9IDEpIGZ1bmMgPSBudWxsO1xuICAgICAgcmV0dXJuIG1lbW87XG4gICAgfTtcbiAgfTtcblxuICAvLyBSZXR1cm5zIGEgZnVuY3Rpb24gdGhhdCB3aWxsIGJlIGV4ZWN1dGVkIGF0IG1vc3Qgb25lIHRpbWUsIG5vIG1hdHRlciBob3dcbiAgLy8gb2Z0ZW4geW91IGNhbGwgaXQuIFVzZWZ1bCBmb3IgbGF6eSBpbml0aWFsaXphdGlvbi5cbiAgXy5vbmNlID0gXy5wYXJ0aWFsKF8uYmVmb3JlLCAyKTtcblxuICAvLyBPYmplY3QgRnVuY3Rpb25zXG4gIC8vIC0tLS0tLS0tLS0tLS0tLS1cblxuICAvLyBLZXlzIGluIElFIDwgOSB0aGF0IHdvbid0IGJlIGl0ZXJhdGVkIGJ5IGBmb3Iga2V5IGluIC4uLmAgYW5kIHRodXMgbWlzc2VkLlxuICB2YXIgaGFzRW51bUJ1ZyA9ICF7dG9TdHJpbmc6IG51bGx9LnByb3BlcnR5SXNFbnVtZXJhYmxlKCd0b1N0cmluZycpO1xuICB2YXIgbm9uRW51bWVyYWJsZVByb3BzID0gWyd2YWx1ZU9mJywgJ2lzUHJvdG90eXBlT2YnLCAndG9TdHJpbmcnLFxuICAgICAgICAgICAgICAgICAgICAgICdwcm9wZXJ0eUlzRW51bWVyYWJsZScsICdoYXNPd25Qcm9wZXJ0eScsICd0b0xvY2FsZVN0cmluZyddO1xuXG4gIGZ1bmN0aW9uIGNvbGxlY3ROb25FbnVtUHJvcHMob2JqLCBrZXlzKSB7XG4gICAgdmFyIG5vbkVudW1JZHggPSBub25FbnVtZXJhYmxlUHJvcHMubGVuZ3RoO1xuICAgIHZhciBjb25zdHJ1Y3RvciA9IG9iai5jb25zdHJ1Y3RvcjtcbiAgICB2YXIgcHJvdG8gPSAoXy5pc0Z1bmN0aW9uKGNvbnN0cnVjdG9yKSAmJiBjb25zdHJ1Y3Rvci5wcm90b3R5cGUpIHx8IE9ialByb3RvO1xuXG4gICAgLy8gQ29uc3RydWN0b3IgaXMgYSBzcGVjaWFsIGNhc2UuXG4gICAgdmFyIHByb3AgPSAnY29uc3RydWN0b3InO1xuICAgIGlmIChfLmhhcyhvYmosIHByb3ApICYmICFfLmNvbnRhaW5zKGtleXMsIHByb3ApKSBrZXlzLnB1c2gocHJvcCk7XG5cbiAgICB3aGlsZSAobm9uRW51bUlkeC0tKSB7XG4gICAgICBwcm9wID0gbm9uRW51bWVyYWJsZVByb3BzW25vbkVudW1JZHhdO1xuICAgICAgaWYgKHByb3AgaW4gb2JqICYmIG9ialtwcm9wXSAhPT0gcHJvdG9bcHJvcF0gJiYgIV8uY29udGFpbnMoa2V5cywgcHJvcCkpIHtcbiAgICAgICAga2V5cy5wdXNoKHByb3ApO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIC8vIFJldHJpZXZlIHRoZSBuYW1lcyBvZiBhbiBvYmplY3QncyBvd24gcHJvcGVydGllcy5cbiAgLy8gRGVsZWdhdGVzIHRvICoqRUNNQVNjcmlwdCA1KioncyBuYXRpdmUgYE9iamVjdC5rZXlzYFxuICBfLmtleXMgPSBmdW5jdGlvbihvYmopIHtcbiAgICBpZiAoIV8uaXNPYmplY3Qob2JqKSkgcmV0dXJuIFtdO1xuICAgIGlmIChuYXRpdmVLZXlzKSByZXR1cm4gbmF0aXZlS2V5cyhvYmopO1xuICAgIHZhciBrZXlzID0gW107XG4gICAgZm9yICh2YXIga2V5IGluIG9iaikgaWYgKF8uaGFzKG9iaiwga2V5KSkga2V5cy5wdXNoKGtleSk7XG4gICAgLy8gQWhlbSwgSUUgPCA5LlxuICAgIGlmIChoYXNFbnVtQnVnKSBjb2xsZWN0Tm9uRW51bVByb3BzKG9iaiwga2V5cyk7XG4gICAgcmV0dXJuIGtleXM7XG4gIH07XG5cbiAgLy8gUmV0cmlldmUgYWxsIHRoZSBwcm9wZXJ0eSBuYW1lcyBvZiBhbiBvYmplY3QuXG4gIF8uYWxsS2V5cyA9IGZ1bmN0aW9uKG9iaikge1xuICAgIGlmICghXy5pc09iamVjdChvYmopKSByZXR1cm4gW107XG4gICAgdmFyIGtleXMgPSBbXTtcbiAgICBmb3IgKHZhciBrZXkgaW4gb2JqKSBrZXlzLnB1c2goa2V5KTtcbiAgICAvLyBBaGVtLCBJRSA8IDkuXG4gICAgaWYgKGhhc0VudW1CdWcpIGNvbGxlY3ROb25FbnVtUHJvcHMob2JqLCBrZXlzKTtcbiAgICByZXR1cm4ga2V5cztcbiAgfTtcblxuICAvLyBSZXRyaWV2ZSB0aGUgdmFsdWVzIG9mIGFuIG9iamVjdCdzIHByb3BlcnRpZXMuXG4gIF8udmFsdWVzID0gZnVuY3Rpb24ob2JqKSB7XG4gICAgdmFyIGtleXMgPSBfLmtleXMob2JqKTtcbiAgICB2YXIgbGVuZ3RoID0ga2V5cy5sZW5ndGg7XG4gICAgdmFyIHZhbHVlcyA9IEFycmF5KGxlbmd0aCk7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgdmFsdWVzW2ldID0gb2JqW2tleXNbaV1dO1xuICAgIH1cbiAgICByZXR1cm4gdmFsdWVzO1xuICB9O1xuXG4gIC8vIFJldHVybnMgdGhlIHJlc3VsdHMgb2YgYXBwbHlpbmcgdGhlIGl0ZXJhdGVlIHRvIGVhY2ggZWxlbWVudCBvZiB0aGUgb2JqZWN0XG4gIC8vIEluIGNvbnRyYXN0IHRvIF8ubWFwIGl0IHJldHVybnMgYW4gb2JqZWN0XG4gIF8ubWFwT2JqZWN0ID0gZnVuY3Rpb24ob2JqLCBpdGVyYXRlZSwgY29udGV4dCkge1xuICAgIGl0ZXJhdGVlID0gY2IoaXRlcmF0ZWUsIGNvbnRleHQpO1xuICAgIHZhciBrZXlzID0gIF8ua2V5cyhvYmopLFxuICAgICAgICAgIGxlbmd0aCA9IGtleXMubGVuZ3RoLFxuICAgICAgICAgIHJlc3VsdHMgPSB7fSxcbiAgICAgICAgICBjdXJyZW50S2V5O1xuICAgICAgZm9yICh2YXIgaW5kZXggPSAwOyBpbmRleCA8IGxlbmd0aDsgaW5kZXgrKykge1xuICAgICAgICBjdXJyZW50S2V5ID0ga2V5c1tpbmRleF07XG4gICAgICAgIHJlc3VsdHNbY3VycmVudEtleV0gPSBpdGVyYXRlZShvYmpbY3VycmVudEtleV0sIGN1cnJlbnRLZXksIG9iaik7XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzdWx0cztcbiAgfTtcblxuICAvLyBDb252ZXJ0IGFuIG9iamVjdCBpbnRvIGEgbGlzdCBvZiBgW2tleSwgdmFsdWVdYCBwYWlycy5cbiAgXy5wYWlycyA9IGZ1bmN0aW9uKG9iaikge1xuICAgIHZhciBrZXlzID0gXy5rZXlzKG9iaik7XG4gICAgdmFyIGxlbmd0aCA9IGtleXMubGVuZ3RoO1xuICAgIHZhciBwYWlycyA9IEFycmF5KGxlbmd0aCk7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgcGFpcnNbaV0gPSBba2V5c1tpXSwgb2JqW2tleXNbaV1dXTtcbiAgICB9XG4gICAgcmV0dXJuIHBhaXJzO1xuICB9O1xuXG4gIC8vIEludmVydCB0aGUga2V5cyBhbmQgdmFsdWVzIG9mIGFuIG9iamVjdC4gVGhlIHZhbHVlcyBtdXN0IGJlIHNlcmlhbGl6YWJsZS5cbiAgXy5pbnZlcnQgPSBmdW5jdGlvbihvYmopIHtcbiAgICB2YXIgcmVzdWx0ID0ge307XG4gICAgdmFyIGtleXMgPSBfLmtleXMob2JqKTtcbiAgICBmb3IgKHZhciBpID0gMCwgbGVuZ3RoID0ga2V5cy5sZW5ndGg7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgcmVzdWx0W29ialtrZXlzW2ldXV0gPSBrZXlzW2ldO1xuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xuICB9O1xuXG4gIC8vIFJldHVybiBhIHNvcnRlZCBsaXN0IG9mIHRoZSBmdW5jdGlvbiBuYW1lcyBhdmFpbGFibGUgb24gdGhlIG9iamVjdC5cbiAgLy8gQWxpYXNlZCBhcyBgbWV0aG9kc2BcbiAgXy5mdW5jdGlvbnMgPSBfLm1ldGhvZHMgPSBmdW5jdGlvbihvYmopIHtcbiAgICB2YXIgbmFtZXMgPSBbXTtcbiAgICBmb3IgKHZhciBrZXkgaW4gb2JqKSB7XG4gICAgICBpZiAoXy5pc0Z1bmN0aW9uKG9ialtrZXldKSkgbmFtZXMucHVzaChrZXkpO1xuICAgIH1cbiAgICByZXR1cm4gbmFtZXMuc29ydCgpO1xuICB9O1xuXG4gIC8vIEV4dGVuZCBhIGdpdmVuIG9iamVjdCB3aXRoIGFsbCB0aGUgcHJvcGVydGllcyBpbiBwYXNzZWQtaW4gb2JqZWN0KHMpLlxuICBfLmV4dGVuZCA9IGNyZWF0ZUFzc2lnbmVyKF8uYWxsS2V5cyk7XG5cbiAgLy8gQXNzaWducyBhIGdpdmVuIG9iamVjdCB3aXRoIGFsbCB0aGUgb3duIHByb3BlcnRpZXMgaW4gdGhlIHBhc3NlZC1pbiBvYmplY3QocylcbiAgLy8gKGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2RvY3MvV2ViL0phdmFTY3JpcHQvUmVmZXJlbmNlL0dsb2JhbF9PYmplY3RzL09iamVjdC9hc3NpZ24pXG4gIF8uZXh0ZW5kT3duID0gXy5hc3NpZ24gPSBjcmVhdGVBc3NpZ25lcihfLmtleXMpO1xuXG4gIC8vIFJldHVybnMgdGhlIGZpcnN0IGtleSBvbiBhbiBvYmplY3QgdGhhdCBwYXNzZXMgYSBwcmVkaWNhdGUgdGVzdFxuICBfLmZpbmRLZXkgPSBmdW5jdGlvbihvYmosIHByZWRpY2F0ZSwgY29udGV4dCkge1xuICAgIHByZWRpY2F0ZSA9IGNiKHByZWRpY2F0ZSwgY29udGV4dCk7XG4gICAgdmFyIGtleXMgPSBfLmtleXMob2JqKSwga2V5O1xuICAgIGZvciAodmFyIGkgPSAwLCBsZW5ndGggPSBrZXlzLmxlbmd0aDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgICBrZXkgPSBrZXlzW2ldO1xuICAgICAgaWYgKHByZWRpY2F0ZShvYmpba2V5XSwga2V5LCBvYmopKSByZXR1cm4ga2V5O1xuICAgIH1cbiAgfTtcblxuICAvLyBSZXR1cm4gYSBjb3B5IG9mIHRoZSBvYmplY3Qgb25seSBjb250YWluaW5nIHRoZSB3aGl0ZWxpc3RlZCBwcm9wZXJ0aWVzLlxuICBfLnBpY2sgPSBmdW5jdGlvbihvYmplY3QsIG9pdGVyYXRlZSwgY29udGV4dCkge1xuICAgIHZhciByZXN1bHQgPSB7fSwgb2JqID0gb2JqZWN0LCBpdGVyYXRlZSwga2V5cztcbiAgICBpZiAob2JqID09IG51bGwpIHJldHVybiByZXN1bHQ7XG4gICAgaWYgKF8uaXNGdW5jdGlvbihvaXRlcmF0ZWUpKSB7XG4gICAgICBrZXlzID0gXy5hbGxLZXlzKG9iaik7XG4gICAgICBpdGVyYXRlZSA9IG9wdGltaXplQ2Iob2l0ZXJhdGVlLCBjb250ZXh0KTtcbiAgICB9IGVsc2Uge1xuICAgICAga2V5cyA9IGZsYXR0ZW4oYXJndW1lbnRzLCBmYWxzZSwgZmFsc2UsIDEpO1xuICAgICAgaXRlcmF0ZWUgPSBmdW5jdGlvbih2YWx1ZSwga2V5LCBvYmopIHsgcmV0dXJuIGtleSBpbiBvYmo7IH07XG4gICAgICBvYmogPSBPYmplY3Qob2JqKTtcbiAgICB9XG4gICAgZm9yICh2YXIgaSA9IDAsIGxlbmd0aCA9IGtleXMubGVuZ3RoOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhciBrZXkgPSBrZXlzW2ldO1xuICAgICAgdmFyIHZhbHVlID0gb2JqW2tleV07XG4gICAgICBpZiAoaXRlcmF0ZWUodmFsdWUsIGtleSwgb2JqKSkgcmVzdWx0W2tleV0gPSB2YWx1ZTtcbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfTtcblxuICAgLy8gUmV0dXJuIGEgY29weSBvZiB0aGUgb2JqZWN0IHdpdGhvdXQgdGhlIGJsYWNrbGlzdGVkIHByb3BlcnRpZXMuXG4gIF8ub21pdCA9IGZ1bmN0aW9uKG9iaiwgaXRlcmF0ZWUsIGNvbnRleHQpIHtcbiAgICBpZiAoXy5pc0Z1bmN0aW9uKGl0ZXJhdGVlKSkge1xuICAgICAgaXRlcmF0ZWUgPSBfLm5lZ2F0ZShpdGVyYXRlZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHZhciBrZXlzID0gXy5tYXAoZmxhdHRlbihhcmd1bWVudHMsIGZhbHNlLCBmYWxzZSwgMSksIFN0cmluZyk7XG4gICAgICBpdGVyYXRlZSA9IGZ1bmN0aW9uKHZhbHVlLCBrZXkpIHtcbiAgICAgICAgcmV0dXJuICFfLmNvbnRhaW5zKGtleXMsIGtleSk7XG4gICAgICB9O1xuICAgIH1cbiAgICByZXR1cm4gXy5waWNrKG9iaiwgaXRlcmF0ZWUsIGNvbnRleHQpO1xuICB9O1xuXG4gIC8vIEZpbGwgaW4gYSBnaXZlbiBvYmplY3Qgd2l0aCBkZWZhdWx0IHByb3BlcnRpZXMuXG4gIF8uZGVmYXVsdHMgPSBjcmVhdGVBc3NpZ25lcihfLmFsbEtleXMsIHRydWUpO1xuXG4gIC8vIENyZWF0ZXMgYW4gb2JqZWN0IHRoYXQgaW5oZXJpdHMgZnJvbSB0aGUgZ2l2ZW4gcHJvdG90eXBlIG9iamVjdC5cbiAgLy8gSWYgYWRkaXRpb25hbCBwcm9wZXJ0aWVzIGFyZSBwcm92aWRlZCB0aGVuIHRoZXkgd2lsbCBiZSBhZGRlZCB0byB0aGVcbiAgLy8gY3JlYXRlZCBvYmplY3QuXG4gIF8uY3JlYXRlID0gZnVuY3Rpb24ocHJvdG90eXBlLCBwcm9wcykge1xuICAgIHZhciByZXN1bHQgPSBiYXNlQ3JlYXRlKHByb3RvdHlwZSk7XG4gICAgaWYgKHByb3BzKSBfLmV4dGVuZE93bihyZXN1bHQsIHByb3BzKTtcbiAgICByZXR1cm4gcmVzdWx0O1xuICB9O1xuXG4gIC8vIENyZWF0ZSBhIChzaGFsbG93LWNsb25lZCkgZHVwbGljYXRlIG9mIGFuIG9iamVjdC5cbiAgXy5jbG9uZSA9IGZ1bmN0aW9uKG9iaikge1xuICAgIGlmICghXy5pc09iamVjdChvYmopKSByZXR1cm4gb2JqO1xuICAgIHJldHVybiBfLmlzQXJyYXkob2JqKSA/IG9iai5zbGljZSgpIDogXy5leHRlbmQoe30sIG9iaik7XG4gIH07XG5cbiAgLy8gSW52b2tlcyBpbnRlcmNlcHRvciB3aXRoIHRoZSBvYmosIGFuZCB0aGVuIHJldHVybnMgb2JqLlxuICAvLyBUaGUgcHJpbWFyeSBwdXJwb3NlIG9mIHRoaXMgbWV0aG9kIGlzIHRvIFwidGFwIGludG9cIiBhIG1ldGhvZCBjaGFpbiwgaW5cbiAgLy8gb3JkZXIgdG8gcGVyZm9ybSBvcGVyYXRpb25zIG9uIGludGVybWVkaWF0ZSByZXN1bHRzIHdpdGhpbiB0aGUgY2hhaW4uXG4gIF8udGFwID0gZnVuY3Rpb24ob2JqLCBpbnRlcmNlcHRvcikge1xuICAgIGludGVyY2VwdG9yKG9iaik7XG4gICAgcmV0dXJuIG9iajtcbiAgfTtcblxuICAvLyBSZXR1cm5zIHdoZXRoZXIgYW4gb2JqZWN0IGhhcyBhIGdpdmVuIHNldCBvZiBga2V5OnZhbHVlYCBwYWlycy5cbiAgXy5pc01hdGNoID0gZnVuY3Rpb24ob2JqZWN0LCBhdHRycykge1xuICAgIHZhciBrZXlzID0gXy5rZXlzKGF0dHJzKSwgbGVuZ3RoID0ga2V5cy5sZW5ndGg7XG4gICAgaWYgKG9iamVjdCA9PSBudWxsKSByZXR1cm4gIWxlbmd0aDtcbiAgICB2YXIgb2JqID0gT2JqZWN0KG9iamVjdCk7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgdmFyIGtleSA9IGtleXNbaV07XG4gICAgICBpZiAoYXR0cnNba2V5XSAhPT0gb2JqW2tleV0gfHwgIShrZXkgaW4gb2JqKSkgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICByZXR1cm4gdHJ1ZTtcbiAgfTtcblxuXG4gIC8vIEludGVybmFsIHJlY3Vyc2l2ZSBjb21wYXJpc29uIGZ1bmN0aW9uIGZvciBgaXNFcXVhbGAuXG4gIHZhciBlcSA9IGZ1bmN0aW9uKGEsIGIsIGFTdGFjaywgYlN0YWNrKSB7XG4gICAgLy8gSWRlbnRpY2FsIG9iamVjdHMgYXJlIGVxdWFsLiBgMCA9PT0gLTBgLCBidXQgdGhleSBhcmVuJ3QgaWRlbnRpY2FsLlxuICAgIC8vIFNlZSB0aGUgW0hhcm1vbnkgYGVnYWxgIHByb3Bvc2FsXShodHRwOi8vd2lraS5lY21hc2NyaXB0Lm9yZy9kb2t1LnBocD9pZD1oYXJtb255OmVnYWwpLlxuICAgIGlmIChhID09PSBiKSByZXR1cm4gYSAhPT0gMCB8fCAxIC8gYSA9PT0gMSAvIGI7XG4gICAgLy8gQSBzdHJpY3QgY29tcGFyaXNvbiBpcyBuZWNlc3NhcnkgYmVjYXVzZSBgbnVsbCA9PSB1bmRlZmluZWRgLlxuICAgIGlmIChhID09IG51bGwgfHwgYiA9PSBudWxsKSByZXR1cm4gYSA9PT0gYjtcbiAgICAvLyBVbndyYXAgYW55IHdyYXBwZWQgb2JqZWN0cy5cbiAgICBpZiAoYSBpbnN0YW5jZW9mIF8pIGEgPSBhLl93cmFwcGVkO1xuICAgIGlmIChiIGluc3RhbmNlb2YgXykgYiA9IGIuX3dyYXBwZWQ7XG4gICAgLy8gQ29tcGFyZSBgW1tDbGFzc11dYCBuYW1lcy5cbiAgICB2YXIgY2xhc3NOYW1lID0gdG9TdHJpbmcuY2FsbChhKTtcbiAgICBpZiAoY2xhc3NOYW1lICE9PSB0b1N0cmluZy5jYWxsKGIpKSByZXR1cm4gZmFsc2U7XG4gICAgc3dpdGNoIChjbGFzc05hbWUpIHtcbiAgICAgIC8vIFN0cmluZ3MsIG51bWJlcnMsIHJlZ3VsYXIgZXhwcmVzc2lvbnMsIGRhdGVzLCBhbmQgYm9vbGVhbnMgYXJlIGNvbXBhcmVkIGJ5IHZhbHVlLlxuICAgICAgY2FzZSAnW29iamVjdCBSZWdFeHBdJzpcbiAgICAgIC8vIFJlZ0V4cHMgYXJlIGNvZXJjZWQgdG8gc3RyaW5ncyBmb3IgY29tcGFyaXNvbiAoTm90ZTogJycgKyAvYS9pID09PSAnL2EvaScpXG4gICAgICBjYXNlICdbb2JqZWN0IFN0cmluZ10nOlxuICAgICAgICAvLyBQcmltaXRpdmVzIGFuZCB0aGVpciBjb3JyZXNwb25kaW5nIG9iamVjdCB3cmFwcGVycyBhcmUgZXF1aXZhbGVudDsgdGh1cywgYFwiNVwiYCBpc1xuICAgICAgICAvLyBlcXVpdmFsZW50IHRvIGBuZXcgU3RyaW5nKFwiNVwiKWAuXG4gICAgICAgIHJldHVybiAnJyArIGEgPT09ICcnICsgYjtcbiAgICAgIGNhc2UgJ1tvYmplY3QgTnVtYmVyXSc6XG4gICAgICAgIC8vIGBOYU5gcyBhcmUgZXF1aXZhbGVudCwgYnV0IG5vbi1yZWZsZXhpdmUuXG4gICAgICAgIC8vIE9iamVjdChOYU4pIGlzIGVxdWl2YWxlbnQgdG8gTmFOXG4gICAgICAgIGlmICgrYSAhPT0gK2EpIHJldHVybiArYiAhPT0gK2I7XG4gICAgICAgIC8vIEFuIGBlZ2FsYCBjb21wYXJpc29uIGlzIHBlcmZvcm1lZCBmb3Igb3RoZXIgbnVtZXJpYyB2YWx1ZXMuXG4gICAgICAgIHJldHVybiArYSA9PT0gMCA/IDEgLyArYSA9PT0gMSAvIGIgOiArYSA9PT0gK2I7XG4gICAgICBjYXNlICdbb2JqZWN0IERhdGVdJzpcbiAgICAgIGNhc2UgJ1tvYmplY3QgQm9vbGVhbl0nOlxuICAgICAgICAvLyBDb2VyY2UgZGF0ZXMgYW5kIGJvb2xlYW5zIHRvIG51bWVyaWMgcHJpbWl0aXZlIHZhbHVlcy4gRGF0ZXMgYXJlIGNvbXBhcmVkIGJ5IHRoZWlyXG4gICAgICAgIC8vIG1pbGxpc2Vjb25kIHJlcHJlc2VudGF0aW9ucy4gTm90ZSB0aGF0IGludmFsaWQgZGF0ZXMgd2l0aCBtaWxsaXNlY29uZCByZXByZXNlbnRhdGlvbnNcbiAgICAgICAgLy8gb2YgYE5hTmAgYXJlIG5vdCBlcXVpdmFsZW50LlxuICAgICAgICByZXR1cm4gK2EgPT09ICtiO1xuICAgIH1cblxuICAgIHZhciBhcmVBcnJheXMgPSBjbGFzc05hbWUgPT09ICdbb2JqZWN0IEFycmF5XSc7XG4gICAgaWYgKCFhcmVBcnJheXMpIHtcbiAgICAgIGlmICh0eXBlb2YgYSAhPSAnb2JqZWN0JyB8fCB0eXBlb2YgYiAhPSAnb2JqZWN0JykgcmV0dXJuIGZhbHNlO1xuXG4gICAgICAvLyBPYmplY3RzIHdpdGggZGlmZmVyZW50IGNvbnN0cnVjdG9ycyBhcmUgbm90IGVxdWl2YWxlbnQsIGJ1dCBgT2JqZWN0YHMgb3IgYEFycmF5YHNcbiAgICAgIC8vIGZyb20gZGlmZmVyZW50IGZyYW1lcyBhcmUuXG4gICAgICB2YXIgYUN0b3IgPSBhLmNvbnN0cnVjdG9yLCBiQ3RvciA9IGIuY29uc3RydWN0b3I7XG4gICAgICBpZiAoYUN0b3IgIT09IGJDdG9yICYmICEoXy5pc0Z1bmN0aW9uKGFDdG9yKSAmJiBhQ3RvciBpbnN0YW5jZW9mIGFDdG9yICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXy5pc0Z1bmN0aW9uKGJDdG9yKSAmJiBiQ3RvciBpbnN0YW5jZW9mIGJDdG9yKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAmJiAoJ2NvbnN0cnVjdG9yJyBpbiBhICYmICdjb25zdHJ1Y3RvcicgaW4gYikpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgIH1cbiAgICAvLyBBc3N1bWUgZXF1YWxpdHkgZm9yIGN5Y2xpYyBzdHJ1Y3R1cmVzLiBUaGUgYWxnb3JpdGhtIGZvciBkZXRlY3RpbmcgY3ljbGljXG4gICAgLy8gc3RydWN0dXJlcyBpcyBhZGFwdGVkIGZyb20gRVMgNS4xIHNlY3Rpb24gMTUuMTIuMywgYWJzdHJhY3Qgb3BlcmF0aW9uIGBKT2AuXG5cbiAgICAvLyBJbml0aWFsaXppbmcgc3RhY2sgb2YgdHJhdmVyc2VkIG9iamVjdHMuXG4gICAgLy8gSXQncyBkb25lIGhlcmUgc2luY2Ugd2Ugb25seSBuZWVkIHRoZW0gZm9yIG9iamVjdHMgYW5kIGFycmF5cyBjb21wYXJpc29uLlxuICAgIGFTdGFjayA9IGFTdGFjayB8fCBbXTtcbiAgICBiU3RhY2sgPSBiU3RhY2sgfHwgW107XG4gICAgdmFyIGxlbmd0aCA9IGFTdGFjay5sZW5ndGg7XG4gICAgd2hpbGUgKGxlbmd0aC0tKSB7XG4gICAgICAvLyBMaW5lYXIgc2VhcmNoLiBQZXJmb3JtYW5jZSBpcyBpbnZlcnNlbHkgcHJvcG9ydGlvbmFsIHRvIHRoZSBudW1iZXIgb2ZcbiAgICAgIC8vIHVuaXF1ZSBuZXN0ZWQgc3RydWN0dXJlcy5cbiAgICAgIGlmIChhU3RhY2tbbGVuZ3RoXSA9PT0gYSkgcmV0dXJuIGJTdGFja1tsZW5ndGhdID09PSBiO1xuICAgIH1cblxuICAgIC8vIEFkZCB0aGUgZmlyc3Qgb2JqZWN0IHRvIHRoZSBzdGFjayBvZiB0cmF2ZXJzZWQgb2JqZWN0cy5cbiAgICBhU3RhY2sucHVzaChhKTtcbiAgICBiU3RhY2sucHVzaChiKTtcblxuICAgIC8vIFJlY3Vyc2l2ZWx5IGNvbXBhcmUgb2JqZWN0cyBhbmQgYXJyYXlzLlxuICAgIGlmIChhcmVBcnJheXMpIHtcbiAgICAgIC8vIENvbXBhcmUgYXJyYXkgbGVuZ3RocyB0byBkZXRlcm1pbmUgaWYgYSBkZWVwIGNvbXBhcmlzb24gaXMgbmVjZXNzYXJ5LlxuICAgICAgbGVuZ3RoID0gYS5sZW5ndGg7XG4gICAgICBpZiAobGVuZ3RoICE9PSBiLmxlbmd0aCkgcmV0dXJuIGZhbHNlO1xuICAgICAgLy8gRGVlcCBjb21wYXJlIHRoZSBjb250ZW50cywgaWdub3Jpbmcgbm9uLW51bWVyaWMgcHJvcGVydGllcy5cbiAgICAgIHdoaWxlIChsZW5ndGgtLSkge1xuICAgICAgICBpZiAoIWVxKGFbbGVuZ3RoXSwgYltsZW5ndGhdLCBhU3RhY2ssIGJTdGFjaykpIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgLy8gRGVlcCBjb21wYXJlIG9iamVjdHMuXG4gICAgICB2YXIga2V5cyA9IF8ua2V5cyhhKSwga2V5O1xuICAgICAgbGVuZ3RoID0ga2V5cy5sZW5ndGg7XG4gICAgICAvLyBFbnN1cmUgdGhhdCBib3RoIG9iamVjdHMgY29udGFpbiB0aGUgc2FtZSBudW1iZXIgb2YgcHJvcGVydGllcyBiZWZvcmUgY29tcGFyaW5nIGRlZXAgZXF1YWxpdHkuXG4gICAgICBpZiAoXy5rZXlzKGIpLmxlbmd0aCAhPT0gbGVuZ3RoKSByZXR1cm4gZmFsc2U7XG4gICAgICB3aGlsZSAobGVuZ3RoLS0pIHtcbiAgICAgICAgLy8gRGVlcCBjb21wYXJlIGVhY2ggbWVtYmVyXG4gICAgICAgIGtleSA9IGtleXNbbGVuZ3RoXTtcbiAgICAgICAgaWYgKCEoXy5oYXMoYiwga2V5KSAmJiBlcShhW2tleV0sIGJba2V5XSwgYVN0YWNrLCBiU3RhY2spKSkgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgIH1cbiAgICAvLyBSZW1vdmUgdGhlIGZpcnN0IG9iamVjdCBmcm9tIHRoZSBzdGFjayBvZiB0cmF2ZXJzZWQgb2JqZWN0cy5cbiAgICBhU3RhY2sucG9wKCk7XG4gICAgYlN0YWNrLnBvcCgpO1xuICAgIHJldHVybiB0cnVlO1xuICB9O1xuXG4gIC8vIFBlcmZvcm0gYSBkZWVwIGNvbXBhcmlzb24gdG8gY2hlY2sgaWYgdHdvIG9iamVjdHMgYXJlIGVxdWFsLlxuICBfLmlzRXF1YWwgPSBmdW5jdGlvbihhLCBiKSB7XG4gICAgcmV0dXJuIGVxKGEsIGIpO1xuICB9O1xuXG4gIC8vIElzIGEgZ2l2ZW4gYXJyYXksIHN0cmluZywgb3Igb2JqZWN0IGVtcHR5P1xuICAvLyBBbiBcImVtcHR5XCIgb2JqZWN0IGhhcyBubyBlbnVtZXJhYmxlIG93bi1wcm9wZXJ0aWVzLlxuICBfLmlzRW1wdHkgPSBmdW5jdGlvbihvYmopIHtcbiAgICBpZiAob2JqID09IG51bGwpIHJldHVybiB0cnVlO1xuICAgIGlmIChpc0FycmF5TGlrZShvYmopICYmIChfLmlzQXJyYXkob2JqKSB8fCBfLmlzU3RyaW5nKG9iaikgfHwgXy5pc0FyZ3VtZW50cyhvYmopKSkgcmV0dXJuIG9iai5sZW5ndGggPT09IDA7XG4gICAgcmV0dXJuIF8ua2V5cyhvYmopLmxlbmd0aCA9PT0gMDtcbiAgfTtcblxuICAvLyBJcyBhIGdpdmVuIHZhbHVlIGEgRE9NIGVsZW1lbnQ/XG4gIF8uaXNFbGVtZW50ID0gZnVuY3Rpb24ob2JqKSB7XG4gICAgcmV0dXJuICEhKG9iaiAmJiBvYmoubm9kZVR5cGUgPT09IDEpO1xuICB9O1xuXG4gIC8vIElzIGEgZ2l2ZW4gdmFsdWUgYW4gYXJyYXk/XG4gIC8vIERlbGVnYXRlcyB0byBFQ01BNSdzIG5hdGl2ZSBBcnJheS5pc0FycmF5XG4gIF8uaXNBcnJheSA9IG5hdGl2ZUlzQXJyYXkgfHwgZnVuY3Rpb24ob2JqKSB7XG4gICAgcmV0dXJuIHRvU3RyaW5nLmNhbGwob2JqKSA9PT0gJ1tvYmplY3QgQXJyYXldJztcbiAgfTtcblxuICAvLyBJcyBhIGdpdmVuIHZhcmlhYmxlIGFuIG9iamVjdD9cbiAgXy5pc09iamVjdCA9IGZ1bmN0aW9uKG9iaikge1xuICAgIHZhciB0eXBlID0gdHlwZW9mIG9iajtcbiAgICByZXR1cm4gdHlwZSA9PT0gJ2Z1bmN0aW9uJyB8fCB0eXBlID09PSAnb2JqZWN0JyAmJiAhIW9iajtcbiAgfTtcblxuICAvLyBBZGQgc29tZSBpc1R5cGUgbWV0aG9kczogaXNBcmd1bWVudHMsIGlzRnVuY3Rpb24sIGlzU3RyaW5nLCBpc051bWJlciwgaXNEYXRlLCBpc1JlZ0V4cCwgaXNFcnJvci5cbiAgXy5lYWNoKFsnQXJndW1lbnRzJywgJ0Z1bmN0aW9uJywgJ1N0cmluZycsICdOdW1iZXInLCAnRGF0ZScsICdSZWdFeHAnLCAnRXJyb3InXSwgZnVuY3Rpb24obmFtZSkge1xuICAgIF9bJ2lzJyArIG5hbWVdID0gZnVuY3Rpb24ob2JqKSB7XG4gICAgICByZXR1cm4gdG9TdHJpbmcuY2FsbChvYmopID09PSAnW29iamVjdCAnICsgbmFtZSArICddJztcbiAgICB9O1xuICB9KTtcblxuICAvLyBEZWZpbmUgYSBmYWxsYmFjayB2ZXJzaW9uIG9mIHRoZSBtZXRob2QgaW4gYnJvd3NlcnMgKGFoZW0sIElFIDwgOSksIHdoZXJlXG4gIC8vIHRoZXJlIGlzbid0IGFueSBpbnNwZWN0YWJsZSBcIkFyZ3VtZW50c1wiIHR5cGUuXG4gIGlmICghXy5pc0FyZ3VtZW50cyhhcmd1bWVudHMpKSB7XG4gICAgXy5pc0FyZ3VtZW50cyA9IGZ1bmN0aW9uKG9iaikge1xuICAgICAgcmV0dXJuIF8uaGFzKG9iaiwgJ2NhbGxlZScpO1xuICAgIH07XG4gIH1cblxuICAvLyBPcHRpbWl6ZSBgaXNGdW5jdGlvbmAgaWYgYXBwcm9wcmlhdGUuIFdvcmsgYXJvdW5kIHNvbWUgdHlwZW9mIGJ1Z3MgaW4gb2xkIHY4LFxuICAvLyBJRSAxMSAoIzE2MjEpLCBhbmQgaW4gU2FmYXJpIDggKCMxOTI5KS5cbiAgaWYgKHR5cGVvZiAvLi8gIT0gJ2Z1bmN0aW9uJyAmJiB0eXBlb2YgSW50OEFycmF5ICE9ICdvYmplY3QnKSB7XG4gICAgXy5pc0Z1bmN0aW9uID0gZnVuY3Rpb24ob2JqKSB7XG4gICAgICByZXR1cm4gdHlwZW9mIG9iaiA9PSAnZnVuY3Rpb24nIHx8IGZhbHNlO1xuICAgIH07XG4gIH1cblxuICAvLyBJcyBhIGdpdmVuIG9iamVjdCBhIGZpbml0ZSBudW1iZXI/XG4gIF8uaXNGaW5pdGUgPSBmdW5jdGlvbihvYmopIHtcbiAgICByZXR1cm4gaXNGaW5pdGUob2JqKSAmJiAhaXNOYU4ocGFyc2VGbG9hdChvYmopKTtcbiAgfTtcblxuICAvLyBJcyB0aGUgZ2l2ZW4gdmFsdWUgYE5hTmA/IChOYU4gaXMgdGhlIG9ubHkgbnVtYmVyIHdoaWNoIGRvZXMgbm90IGVxdWFsIGl0c2VsZikuXG4gIF8uaXNOYU4gPSBmdW5jdGlvbihvYmopIHtcbiAgICByZXR1cm4gXy5pc051bWJlcihvYmopICYmIG9iaiAhPT0gK29iajtcbiAgfTtcblxuICAvLyBJcyBhIGdpdmVuIHZhbHVlIGEgYm9vbGVhbj9cbiAgXy5pc0Jvb2xlYW4gPSBmdW5jdGlvbihvYmopIHtcbiAgICByZXR1cm4gb2JqID09PSB0cnVlIHx8IG9iaiA9PT0gZmFsc2UgfHwgdG9TdHJpbmcuY2FsbChvYmopID09PSAnW29iamVjdCBCb29sZWFuXSc7XG4gIH07XG5cbiAgLy8gSXMgYSBnaXZlbiB2YWx1ZSBlcXVhbCB0byBudWxsP1xuICBfLmlzTnVsbCA9IGZ1bmN0aW9uKG9iaikge1xuICAgIHJldHVybiBvYmogPT09IG51bGw7XG4gIH07XG5cbiAgLy8gSXMgYSBnaXZlbiB2YXJpYWJsZSB1bmRlZmluZWQ/XG4gIF8uaXNVbmRlZmluZWQgPSBmdW5jdGlvbihvYmopIHtcbiAgICByZXR1cm4gb2JqID09PSB2b2lkIDA7XG4gIH07XG5cbiAgLy8gU2hvcnRjdXQgZnVuY3Rpb24gZm9yIGNoZWNraW5nIGlmIGFuIG9iamVjdCBoYXMgYSBnaXZlbiBwcm9wZXJ0eSBkaXJlY3RseVxuICAvLyBvbiBpdHNlbGYgKGluIG90aGVyIHdvcmRzLCBub3Qgb24gYSBwcm90b3R5cGUpLlxuICBfLmhhcyA9IGZ1bmN0aW9uKG9iaiwga2V5KSB7XG4gICAgcmV0dXJuIG9iaiAhPSBudWxsICYmIGhhc093blByb3BlcnR5LmNhbGwob2JqLCBrZXkpO1xuICB9O1xuXG4gIC8vIFV0aWxpdHkgRnVuY3Rpb25zXG4gIC8vIC0tLS0tLS0tLS0tLS0tLS0tXG5cbiAgLy8gUnVuIFVuZGVyc2NvcmUuanMgaW4gKm5vQ29uZmxpY3QqIG1vZGUsIHJldHVybmluZyB0aGUgYF9gIHZhcmlhYmxlIHRvIGl0c1xuICAvLyBwcmV2aW91cyBvd25lci4gUmV0dXJucyBhIHJlZmVyZW5jZSB0byB0aGUgVW5kZXJzY29yZSBvYmplY3QuXG4gIF8ubm9Db25mbGljdCA9IGZ1bmN0aW9uKCkge1xuICAgIHJvb3QuXyA9IHByZXZpb3VzVW5kZXJzY29yZTtcbiAgICByZXR1cm4gdGhpcztcbiAgfTtcblxuICAvLyBLZWVwIHRoZSBpZGVudGl0eSBmdW5jdGlvbiBhcm91bmQgZm9yIGRlZmF1bHQgaXRlcmF0ZWVzLlxuICBfLmlkZW50aXR5ID0gZnVuY3Rpb24odmFsdWUpIHtcbiAgICByZXR1cm4gdmFsdWU7XG4gIH07XG5cbiAgLy8gUHJlZGljYXRlLWdlbmVyYXRpbmcgZnVuY3Rpb25zLiBPZnRlbiB1c2VmdWwgb3V0c2lkZSBvZiBVbmRlcnNjb3JlLlxuICBfLmNvbnN0YW50ID0gZnVuY3Rpb24odmFsdWUpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gdmFsdWU7XG4gICAgfTtcbiAgfTtcblxuICBfLm5vb3AgPSBmdW5jdGlvbigpe307XG5cbiAgXy5wcm9wZXJ0eSA9IHByb3BlcnR5O1xuXG4gIC8vIEdlbmVyYXRlcyBhIGZ1bmN0aW9uIGZvciBhIGdpdmVuIG9iamVjdCB0aGF0IHJldHVybnMgYSBnaXZlbiBwcm9wZXJ0eS5cbiAgXy5wcm9wZXJ0eU9mID0gZnVuY3Rpb24ob2JqKSB7XG4gICAgcmV0dXJuIG9iaiA9PSBudWxsID8gZnVuY3Rpb24oKXt9IDogZnVuY3Rpb24oa2V5KSB7XG4gICAgICByZXR1cm4gb2JqW2tleV07XG4gICAgfTtcbiAgfTtcblxuICAvLyBSZXR1cm5zIGEgcHJlZGljYXRlIGZvciBjaGVja2luZyB3aGV0aGVyIGFuIG9iamVjdCBoYXMgYSBnaXZlbiBzZXQgb2ZcbiAgLy8gYGtleTp2YWx1ZWAgcGFpcnMuXG4gIF8ubWF0Y2hlciA9IF8ubWF0Y2hlcyA9IGZ1bmN0aW9uKGF0dHJzKSB7XG4gICAgYXR0cnMgPSBfLmV4dGVuZE93bih7fSwgYXR0cnMpO1xuICAgIHJldHVybiBmdW5jdGlvbihvYmopIHtcbiAgICAgIHJldHVybiBfLmlzTWF0Y2gob2JqLCBhdHRycyk7XG4gICAgfTtcbiAgfTtcblxuICAvLyBSdW4gYSBmdW5jdGlvbiAqKm4qKiB0aW1lcy5cbiAgXy50aW1lcyA9IGZ1bmN0aW9uKG4sIGl0ZXJhdGVlLCBjb250ZXh0KSB7XG4gICAgdmFyIGFjY3VtID0gQXJyYXkoTWF0aC5tYXgoMCwgbikpO1xuICAgIGl0ZXJhdGVlID0gb3B0aW1pemVDYihpdGVyYXRlZSwgY29udGV4dCwgMSk7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBuOyBpKyspIGFjY3VtW2ldID0gaXRlcmF0ZWUoaSk7XG4gICAgcmV0dXJuIGFjY3VtO1xuICB9O1xuXG4gIC8vIFJldHVybiBhIHJhbmRvbSBpbnRlZ2VyIGJldHdlZW4gbWluIGFuZCBtYXggKGluY2x1c2l2ZSkuXG4gIF8ucmFuZG9tID0gZnVuY3Rpb24obWluLCBtYXgpIHtcbiAgICBpZiAobWF4ID09IG51bGwpIHtcbiAgICAgIG1heCA9IG1pbjtcbiAgICAgIG1pbiA9IDA7XG4gICAgfVxuICAgIHJldHVybiBtaW4gKyBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAobWF4IC0gbWluICsgMSkpO1xuICB9O1xuXG4gIC8vIEEgKHBvc3NpYmx5IGZhc3Rlcikgd2F5IHRvIGdldCB0aGUgY3VycmVudCB0aW1lc3RhbXAgYXMgYW4gaW50ZWdlci5cbiAgXy5ub3cgPSBEYXRlLm5vdyB8fCBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gbmV3IERhdGUoKS5nZXRUaW1lKCk7XG4gIH07XG5cbiAgIC8vIExpc3Qgb2YgSFRNTCBlbnRpdGllcyBmb3IgZXNjYXBpbmcuXG4gIHZhciBlc2NhcGVNYXAgPSB7XG4gICAgJyYnOiAnJmFtcDsnLFxuICAgICc8JzogJyZsdDsnLFxuICAgICc+JzogJyZndDsnLFxuICAgICdcIic6ICcmcXVvdDsnLFxuICAgIFwiJ1wiOiAnJiN4Mjc7JyxcbiAgICAnYCc6ICcmI3g2MDsnXG4gIH07XG4gIHZhciB1bmVzY2FwZU1hcCA9IF8uaW52ZXJ0KGVzY2FwZU1hcCk7XG5cbiAgLy8gRnVuY3Rpb25zIGZvciBlc2NhcGluZyBhbmQgdW5lc2NhcGluZyBzdHJpbmdzIHRvL2Zyb20gSFRNTCBpbnRlcnBvbGF0aW9uLlxuICB2YXIgY3JlYXRlRXNjYXBlciA9IGZ1bmN0aW9uKG1hcCkge1xuICAgIHZhciBlc2NhcGVyID0gZnVuY3Rpb24obWF0Y2gpIHtcbiAgICAgIHJldHVybiBtYXBbbWF0Y2hdO1xuICAgIH07XG4gICAgLy8gUmVnZXhlcyBmb3IgaWRlbnRpZnlpbmcgYSBrZXkgdGhhdCBuZWVkcyB0byBiZSBlc2NhcGVkXG4gICAgdmFyIHNvdXJjZSA9ICcoPzonICsgXy5rZXlzKG1hcCkuam9pbignfCcpICsgJyknO1xuICAgIHZhciB0ZXN0UmVnZXhwID0gUmVnRXhwKHNvdXJjZSk7XG4gICAgdmFyIHJlcGxhY2VSZWdleHAgPSBSZWdFeHAoc291cmNlLCAnZycpO1xuICAgIHJldHVybiBmdW5jdGlvbihzdHJpbmcpIHtcbiAgICAgIHN0cmluZyA9IHN0cmluZyA9PSBudWxsID8gJycgOiAnJyArIHN0cmluZztcbiAgICAgIHJldHVybiB0ZXN0UmVnZXhwLnRlc3Qoc3RyaW5nKSA/IHN0cmluZy5yZXBsYWNlKHJlcGxhY2VSZWdleHAsIGVzY2FwZXIpIDogc3RyaW5nO1xuICAgIH07XG4gIH07XG4gIF8uZXNjYXBlID0gY3JlYXRlRXNjYXBlcihlc2NhcGVNYXApO1xuICBfLnVuZXNjYXBlID0gY3JlYXRlRXNjYXBlcih1bmVzY2FwZU1hcCk7XG5cbiAgLy8gSWYgdGhlIHZhbHVlIG9mIHRoZSBuYW1lZCBgcHJvcGVydHlgIGlzIGEgZnVuY3Rpb24gdGhlbiBpbnZva2UgaXQgd2l0aCB0aGVcbiAgLy8gYG9iamVjdGAgYXMgY29udGV4dDsgb3RoZXJ3aXNlLCByZXR1cm4gaXQuXG4gIF8ucmVzdWx0ID0gZnVuY3Rpb24ob2JqZWN0LCBwcm9wZXJ0eSwgZmFsbGJhY2spIHtcbiAgICB2YXIgdmFsdWUgPSBvYmplY3QgPT0gbnVsbCA/IHZvaWQgMCA6IG9iamVjdFtwcm9wZXJ0eV07XG4gICAgaWYgKHZhbHVlID09PSB2b2lkIDApIHtcbiAgICAgIHZhbHVlID0gZmFsbGJhY2s7XG4gICAgfVxuICAgIHJldHVybiBfLmlzRnVuY3Rpb24odmFsdWUpID8gdmFsdWUuY2FsbChvYmplY3QpIDogdmFsdWU7XG4gIH07XG5cbiAgLy8gR2VuZXJhdGUgYSB1bmlxdWUgaW50ZWdlciBpZCAodW5pcXVlIHdpdGhpbiB0aGUgZW50aXJlIGNsaWVudCBzZXNzaW9uKS5cbiAgLy8gVXNlZnVsIGZvciB0ZW1wb3JhcnkgRE9NIGlkcy5cbiAgdmFyIGlkQ291bnRlciA9IDA7XG4gIF8udW5pcXVlSWQgPSBmdW5jdGlvbihwcmVmaXgpIHtcbiAgICB2YXIgaWQgPSArK2lkQ291bnRlciArICcnO1xuICAgIHJldHVybiBwcmVmaXggPyBwcmVmaXggKyBpZCA6IGlkO1xuICB9O1xuXG4gIC8vIEJ5IGRlZmF1bHQsIFVuZGVyc2NvcmUgdXNlcyBFUkItc3R5bGUgdGVtcGxhdGUgZGVsaW1pdGVycywgY2hhbmdlIHRoZVxuICAvLyBmb2xsb3dpbmcgdGVtcGxhdGUgc2V0dGluZ3MgdG8gdXNlIGFsdGVybmF0aXZlIGRlbGltaXRlcnMuXG4gIF8udGVtcGxhdGVTZXR0aW5ncyA9IHtcbiAgICBldmFsdWF0ZSAgICA6IC88JShbXFxzXFxTXSs/KSU+L2csXG4gICAgaW50ZXJwb2xhdGUgOiAvPCU9KFtcXHNcXFNdKz8pJT4vZyxcbiAgICBlc2NhcGUgICAgICA6IC88JS0oW1xcc1xcU10rPyklPi9nXG4gIH07XG5cbiAgLy8gV2hlbiBjdXN0b21pemluZyBgdGVtcGxhdGVTZXR0aW5nc2AsIGlmIHlvdSBkb24ndCB3YW50IHRvIGRlZmluZSBhblxuICAvLyBpbnRlcnBvbGF0aW9uLCBldmFsdWF0aW9uIG9yIGVzY2FwaW5nIHJlZ2V4LCB3ZSBuZWVkIG9uZSB0aGF0IGlzXG4gIC8vIGd1YXJhbnRlZWQgbm90IHRvIG1hdGNoLlxuICB2YXIgbm9NYXRjaCA9IC8oLileLztcblxuICAvLyBDZXJ0YWluIGNoYXJhY3RlcnMgbmVlZCB0byBiZSBlc2NhcGVkIHNvIHRoYXQgdGhleSBjYW4gYmUgcHV0IGludG8gYVxuICAvLyBzdHJpbmcgbGl0ZXJhbC5cbiAgdmFyIGVzY2FwZXMgPSB7XG4gICAgXCInXCI6ICAgICAgXCInXCIsXG4gICAgJ1xcXFwnOiAgICAgJ1xcXFwnLFxuICAgICdcXHInOiAgICAgJ3InLFxuICAgICdcXG4nOiAgICAgJ24nLFxuICAgICdcXHUyMDI4JzogJ3UyMDI4JyxcbiAgICAnXFx1MjAyOSc6ICd1MjAyOSdcbiAgfTtcblxuICB2YXIgZXNjYXBlciA9IC9cXFxcfCd8XFxyfFxcbnxcXHUyMDI4fFxcdTIwMjkvZztcblxuICB2YXIgZXNjYXBlQ2hhciA9IGZ1bmN0aW9uKG1hdGNoKSB7XG4gICAgcmV0dXJuICdcXFxcJyArIGVzY2FwZXNbbWF0Y2hdO1xuICB9O1xuXG4gIC8vIEphdmFTY3JpcHQgbWljcm8tdGVtcGxhdGluZywgc2ltaWxhciB0byBKb2huIFJlc2lnJ3MgaW1wbGVtZW50YXRpb24uXG4gIC8vIFVuZGVyc2NvcmUgdGVtcGxhdGluZyBoYW5kbGVzIGFyYml0cmFyeSBkZWxpbWl0ZXJzLCBwcmVzZXJ2ZXMgd2hpdGVzcGFjZSxcbiAgLy8gYW5kIGNvcnJlY3RseSBlc2NhcGVzIHF1b3RlcyB3aXRoaW4gaW50ZXJwb2xhdGVkIGNvZGUuXG4gIC8vIE5COiBgb2xkU2V0dGluZ3NgIG9ubHkgZXhpc3RzIGZvciBiYWNrd2FyZHMgY29tcGF0aWJpbGl0eS5cbiAgXy50ZW1wbGF0ZSA9IGZ1bmN0aW9uKHRleHQsIHNldHRpbmdzLCBvbGRTZXR0aW5ncykge1xuICAgIGlmICghc2V0dGluZ3MgJiYgb2xkU2V0dGluZ3MpIHNldHRpbmdzID0gb2xkU2V0dGluZ3M7XG4gICAgc2V0dGluZ3MgPSBfLmRlZmF1bHRzKHt9LCBzZXR0aW5ncywgXy50ZW1wbGF0ZVNldHRpbmdzKTtcblxuICAgIC8vIENvbWJpbmUgZGVsaW1pdGVycyBpbnRvIG9uZSByZWd1bGFyIGV4cHJlc3Npb24gdmlhIGFsdGVybmF0aW9uLlxuICAgIHZhciBtYXRjaGVyID0gUmVnRXhwKFtcbiAgICAgIChzZXR0aW5ncy5lc2NhcGUgfHwgbm9NYXRjaCkuc291cmNlLFxuICAgICAgKHNldHRpbmdzLmludGVycG9sYXRlIHx8IG5vTWF0Y2gpLnNvdXJjZSxcbiAgICAgIChzZXR0aW5ncy5ldmFsdWF0ZSB8fCBub01hdGNoKS5zb3VyY2VcbiAgICBdLmpvaW4oJ3wnKSArICd8JCcsICdnJyk7XG5cbiAgICAvLyBDb21waWxlIHRoZSB0ZW1wbGF0ZSBzb3VyY2UsIGVzY2FwaW5nIHN0cmluZyBsaXRlcmFscyBhcHByb3ByaWF0ZWx5LlxuICAgIHZhciBpbmRleCA9IDA7XG4gICAgdmFyIHNvdXJjZSA9IFwiX19wKz0nXCI7XG4gICAgdGV4dC5yZXBsYWNlKG1hdGNoZXIsIGZ1bmN0aW9uKG1hdGNoLCBlc2NhcGUsIGludGVycG9sYXRlLCBldmFsdWF0ZSwgb2Zmc2V0KSB7XG4gICAgICBzb3VyY2UgKz0gdGV4dC5zbGljZShpbmRleCwgb2Zmc2V0KS5yZXBsYWNlKGVzY2FwZXIsIGVzY2FwZUNoYXIpO1xuICAgICAgaW5kZXggPSBvZmZzZXQgKyBtYXRjaC5sZW5ndGg7XG5cbiAgICAgIGlmIChlc2NhcGUpIHtcbiAgICAgICAgc291cmNlICs9IFwiJytcXG4oKF9fdD0oXCIgKyBlc2NhcGUgKyBcIikpPT1udWxsPycnOl8uZXNjYXBlKF9fdCkpK1xcbidcIjtcbiAgICAgIH0gZWxzZSBpZiAoaW50ZXJwb2xhdGUpIHtcbiAgICAgICAgc291cmNlICs9IFwiJytcXG4oKF9fdD0oXCIgKyBpbnRlcnBvbGF0ZSArIFwiKSk9PW51bGw/Jyc6X190KStcXG4nXCI7XG4gICAgICB9IGVsc2UgaWYgKGV2YWx1YXRlKSB7XG4gICAgICAgIHNvdXJjZSArPSBcIic7XFxuXCIgKyBldmFsdWF0ZSArIFwiXFxuX19wKz0nXCI7XG4gICAgICB9XG5cbiAgICAgIC8vIEFkb2JlIFZNcyBuZWVkIHRoZSBtYXRjaCByZXR1cm5lZCB0byBwcm9kdWNlIHRoZSBjb3JyZWN0IG9mZmVzdC5cbiAgICAgIHJldHVybiBtYXRjaDtcbiAgICB9KTtcbiAgICBzb3VyY2UgKz0gXCInO1xcblwiO1xuXG4gICAgLy8gSWYgYSB2YXJpYWJsZSBpcyBub3Qgc3BlY2lmaWVkLCBwbGFjZSBkYXRhIHZhbHVlcyBpbiBsb2NhbCBzY29wZS5cbiAgICBpZiAoIXNldHRpbmdzLnZhcmlhYmxlKSBzb3VyY2UgPSAnd2l0aChvYmp8fHt9KXtcXG4nICsgc291cmNlICsgJ31cXG4nO1xuXG4gICAgc291cmNlID0gXCJ2YXIgX190LF9fcD0nJyxfX2o9QXJyYXkucHJvdG90eXBlLmpvaW4sXCIgK1xuICAgICAgXCJwcmludD1mdW5jdGlvbigpe19fcCs9X19qLmNhbGwoYXJndW1lbnRzLCcnKTt9O1xcblwiICtcbiAgICAgIHNvdXJjZSArICdyZXR1cm4gX19wO1xcbic7XG5cbiAgICB0cnkge1xuICAgICAgdmFyIHJlbmRlciA9IG5ldyBGdW5jdGlvbihzZXR0aW5ncy52YXJpYWJsZSB8fCAnb2JqJywgJ18nLCBzb3VyY2UpO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIGUuc291cmNlID0gc291cmNlO1xuICAgICAgdGhyb3cgZTtcbiAgICB9XG5cbiAgICB2YXIgdGVtcGxhdGUgPSBmdW5jdGlvbihkYXRhKSB7XG4gICAgICByZXR1cm4gcmVuZGVyLmNhbGwodGhpcywgZGF0YSwgXyk7XG4gICAgfTtcblxuICAgIC8vIFByb3ZpZGUgdGhlIGNvbXBpbGVkIHNvdXJjZSBhcyBhIGNvbnZlbmllbmNlIGZvciBwcmVjb21waWxhdGlvbi5cbiAgICB2YXIgYXJndW1lbnQgPSBzZXR0aW5ncy52YXJpYWJsZSB8fCAnb2JqJztcbiAgICB0ZW1wbGF0ZS5zb3VyY2UgPSAnZnVuY3Rpb24oJyArIGFyZ3VtZW50ICsgJyl7XFxuJyArIHNvdXJjZSArICd9JztcblxuICAgIHJldHVybiB0ZW1wbGF0ZTtcbiAgfTtcblxuICAvLyBBZGQgYSBcImNoYWluXCIgZnVuY3Rpb24uIFN0YXJ0IGNoYWluaW5nIGEgd3JhcHBlZCBVbmRlcnNjb3JlIG9iamVjdC5cbiAgXy5jaGFpbiA9IGZ1bmN0aW9uKG9iaikge1xuICAgIHZhciBpbnN0YW5jZSA9IF8ob2JqKTtcbiAgICBpbnN0YW5jZS5fY2hhaW4gPSB0cnVlO1xuICAgIHJldHVybiBpbnN0YW5jZTtcbiAgfTtcblxuICAvLyBPT1BcbiAgLy8gLS0tLS0tLS0tLS0tLS0tXG4gIC8vIElmIFVuZGVyc2NvcmUgaXMgY2FsbGVkIGFzIGEgZnVuY3Rpb24sIGl0IHJldHVybnMgYSB3cmFwcGVkIG9iamVjdCB0aGF0XG4gIC8vIGNhbiBiZSB1c2VkIE9PLXN0eWxlLiBUaGlzIHdyYXBwZXIgaG9sZHMgYWx0ZXJlZCB2ZXJzaW9ucyBvZiBhbGwgdGhlXG4gIC8vIHVuZGVyc2NvcmUgZnVuY3Rpb25zLiBXcmFwcGVkIG9iamVjdHMgbWF5IGJlIGNoYWluZWQuXG5cbiAgLy8gSGVscGVyIGZ1bmN0aW9uIHRvIGNvbnRpbnVlIGNoYWluaW5nIGludGVybWVkaWF0ZSByZXN1bHRzLlxuICB2YXIgcmVzdWx0ID0gZnVuY3Rpb24oaW5zdGFuY2UsIG9iaikge1xuICAgIHJldHVybiBpbnN0YW5jZS5fY2hhaW4gPyBfKG9iaikuY2hhaW4oKSA6IG9iajtcbiAgfTtcblxuICAvLyBBZGQgeW91ciBvd24gY3VzdG9tIGZ1bmN0aW9ucyB0byB0aGUgVW5kZXJzY29yZSBvYmplY3QuXG4gIF8ubWl4aW4gPSBmdW5jdGlvbihvYmopIHtcbiAgICBfLmVhY2goXy5mdW5jdGlvbnMob2JqKSwgZnVuY3Rpb24obmFtZSkge1xuICAgICAgdmFyIGZ1bmMgPSBfW25hbWVdID0gb2JqW25hbWVdO1xuICAgICAgXy5wcm90b3R5cGVbbmFtZV0gPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIGFyZ3MgPSBbdGhpcy5fd3JhcHBlZF07XG4gICAgICAgIHB1c2guYXBwbHkoYXJncywgYXJndW1lbnRzKTtcbiAgICAgICAgcmV0dXJuIHJlc3VsdCh0aGlzLCBmdW5jLmFwcGx5KF8sIGFyZ3MpKTtcbiAgICAgIH07XG4gICAgfSk7XG4gIH07XG5cbiAgLy8gQWRkIGFsbCBvZiB0aGUgVW5kZXJzY29yZSBmdW5jdGlvbnMgdG8gdGhlIHdyYXBwZXIgb2JqZWN0LlxuICBfLm1peGluKF8pO1xuXG4gIC8vIEFkZCBhbGwgbXV0YXRvciBBcnJheSBmdW5jdGlvbnMgdG8gdGhlIHdyYXBwZXIuXG4gIF8uZWFjaChbJ3BvcCcsICdwdXNoJywgJ3JldmVyc2UnLCAnc2hpZnQnLCAnc29ydCcsICdzcGxpY2UnLCAndW5zaGlmdCddLCBmdW5jdGlvbihuYW1lKSB7XG4gICAgdmFyIG1ldGhvZCA9IEFycmF5UHJvdG9bbmFtZV07XG4gICAgXy5wcm90b3R5cGVbbmFtZV0gPSBmdW5jdGlvbigpIHtcbiAgICAgIHZhciBvYmogPSB0aGlzLl93cmFwcGVkO1xuICAgICAgbWV0aG9kLmFwcGx5KG9iaiwgYXJndW1lbnRzKTtcbiAgICAgIGlmICgobmFtZSA9PT0gJ3NoaWZ0JyB8fCBuYW1lID09PSAnc3BsaWNlJykgJiYgb2JqLmxlbmd0aCA9PT0gMCkgZGVsZXRlIG9ialswXTtcbiAgICAgIHJldHVybiByZXN1bHQodGhpcywgb2JqKTtcbiAgICB9O1xuICB9KTtcblxuICAvLyBBZGQgYWxsIGFjY2Vzc29yIEFycmF5IGZ1bmN0aW9ucyB0byB0aGUgd3JhcHBlci5cbiAgXy5lYWNoKFsnY29uY2F0JywgJ2pvaW4nLCAnc2xpY2UnXSwgZnVuY3Rpb24obmFtZSkge1xuICAgIHZhciBtZXRob2QgPSBBcnJheVByb3RvW25hbWVdO1xuICAgIF8ucHJvdG90eXBlW25hbWVdID0gZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gcmVzdWx0KHRoaXMsIG1ldGhvZC5hcHBseSh0aGlzLl93cmFwcGVkLCBhcmd1bWVudHMpKTtcbiAgICB9O1xuICB9KTtcblxuICAvLyBFeHRyYWN0cyB0aGUgcmVzdWx0IGZyb20gYSB3cmFwcGVkIGFuZCBjaGFpbmVkIG9iamVjdC5cbiAgXy5wcm90b3R5cGUudmFsdWUgPSBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gdGhpcy5fd3JhcHBlZDtcbiAgfTtcblxuICAvLyBQcm92aWRlIHVud3JhcHBpbmcgcHJveHkgZm9yIHNvbWUgbWV0aG9kcyB1c2VkIGluIGVuZ2luZSBvcGVyYXRpb25zXG4gIC8vIHN1Y2ggYXMgYXJpdGhtZXRpYyBhbmQgSlNPTiBzdHJpbmdpZmljYXRpb24uXG4gIF8ucHJvdG90eXBlLnZhbHVlT2YgPSBfLnByb3RvdHlwZS50b0pTT04gPSBfLnByb3RvdHlwZS52YWx1ZTtcblxuICBfLnByb3RvdHlwZS50b1N0cmluZyA9IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiAnJyArIHRoaXMuX3dyYXBwZWQ7XG4gIH07XG5cbiAgLy8gQU1EIHJlZ2lzdHJhdGlvbiBoYXBwZW5zIGF0IHRoZSBlbmQgZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBBTUQgbG9hZGVyc1xuICAvLyB0aGF0IG1heSBub3QgZW5mb3JjZSBuZXh0LXR1cm4gc2VtYW50aWNzIG9uIG1vZHVsZXMuIEV2ZW4gdGhvdWdoIGdlbmVyYWxcbiAgLy8gcHJhY3RpY2UgZm9yIEFNRCByZWdpc3RyYXRpb24gaXMgdG8gYmUgYW5vbnltb3VzLCB1bmRlcnNjb3JlIHJlZ2lzdGVyc1xuICAvLyBhcyBhIG5hbWVkIG1vZHVsZSBiZWNhdXNlLCBsaWtlIGpRdWVyeSwgaXQgaXMgYSBiYXNlIGxpYnJhcnkgdGhhdCBpc1xuICAvLyBwb3B1bGFyIGVub3VnaCB0byBiZSBidW5kbGVkIGluIGEgdGhpcmQgcGFydHkgbGliLCBidXQgbm90IGJlIHBhcnQgb2ZcbiAgLy8gYW4gQU1EIGxvYWQgcmVxdWVzdC4gVGhvc2UgY2FzZXMgY291bGQgZ2VuZXJhdGUgYW4gZXJyb3Igd2hlbiBhblxuICAvLyBhbm9ueW1vdXMgZGVmaW5lKCkgaXMgY2FsbGVkIG91dHNpZGUgb2YgYSBsb2FkZXIgcmVxdWVzdC5cbiAgaWYgKHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZCkge1xuICAgIGRlZmluZSgndW5kZXJzY29yZScsIFtdLCBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiBfO1xuICAgIH0pO1xuICB9XG59LmNhbGwodGhpcykpO1xuIiwiLyohXG4gKiBWaWV3ZXIuanMgdjAuNS4xXG4gKiBodHRwczovL2dpdGh1Yi5jb20vZmVuZ3l1YW5jaGVuL3ZpZXdlcmpzXG4gKlxuICogQ29weXJpZ2h0IChjKSAyMDE1LTIwMTcgRmVuZ3l1YW4gQ2hlblxuICogUmVsZWFzZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlXG4gKlxuICogRGF0ZTogMjAxNy0wMS0wMlQxMzowMTo1NS43MDBaXG4gKi9cblxuKGZ1bmN0aW9uIChnbG9iYWwsIGZhY3RvcnkpIHtcbiAgaWYgKHR5cGVvZiBtb2R1bGUgPT09ICdvYmplY3QnICYmIHR5cGVvZiBtb2R1bGUuZXhwb3J0cyA9PT0gJ29iamVjdCcpIHtcbiAgICBtb2R1bGUuZXhwb3J0cyA9IGdsb2JhbC5kb2N1bWVudCA/IGZhY3RvcnkoZ2xvYmFsLCB0cnVlKSA6IGZ1bmN0aW9uICh3aW5kb3cpIHtcbiAgICAgIGlmICghd2luZG93LmRvY3VtZW50KSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignVmlld2VyIHJlcXVpcmVzIGEgd2luZG93IHdpdGggYSBkb2N1bWVudCcpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gZmFjdG9yeSh3aW5kb3cpO1xuICAgIH07XG4gIH0gZWxzZSB7XG4gICAgZmFjdG9yeShnbG9iYWwpO1xuICB9XG59KSh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyA/IHdpbmRvdyA6IHRoaXMsIGZ1bmN0aW9uICh3aW5kb3csIG5vR2xvYmFsKSB7XG5cbiAgJ3VzZSBzdHJpY3QnO1xuXG4gIHZhciBkb2N1bWVudCA9IHdpbmRvdy5kb2N1bWVudDtcbiAgdmFyIEV2ZW50ID0gd2luZG93LkV2ZW50O1xuICB2YXIgUG9pbnRlckV2ZW50ID0gd2luZG93LlBvaW50ZXJFdmVudDtcblxuICAvLyBDb25zdGFudHNcbiAgdmFyIE5BTUVTUEFDRSA9ICd2aWV3ZXInO1xuXG4gIC8vIENsYXNzZXNcbiAgdmFyIENMQVNTX0ZJWEVEID0gTkFNRVNQQUNFICsgJy1maXhlZCc7XG4gIHZhciBDTEFTU19PUEVOID0gTkFNRVNQQUNFICsgJy1vcGVuJztcbiAgdmFyIENMQVNTX1NIT1cgPSBOQU1FU1BBQ0UgKyAnLXNob3cnO1xuICB2YXIgQ0xBU1NfSElERSA9IE5BTUVTUEFDRSArICctaGlkZSc7XG4gIHZhciBDTEFTU19ISURFX1hTX0RPV04gPSAndmlld2VyLWhpZGUteHMtZG93bic7XG4gIHZhciBDTEFTU19ISURFX1NNX0RPV04gPSAndmlld2VyLWhpZGUtc20tZG93bic7XG4gIHZhciBDTEFTU19ISURFX01EX0RPV04gPSAndmlld2VyLWhpZGUtbWQtZG93bic7XG4gIHZhciBDTEFTU19GQURFID0gTkFNRVNQQUNFICsgJy1mYWRlJztcbiAgdmFyIENMQVNTX0lOID0gTkFNRVNQQUNFICsgJy1pbic7XG4gIHZhciBDTEFTU19NT1ZFID0gTkFNRVNQQUNFICsgJy1tb3ZlJztcbiAgdmFyIENMQVNTX0FDVElWRSA9IE5BTUVTUEFDRSArICctYWN0aXZlJztcbiAgdmFyIENMQVNTX0lOVklTSUJMRSA9IE5BTUVTUEFDRSArICctaW52aXNpYmxlJztcbiAgdmFyIENMQVNTX1RSQU5TSVRJT04gPSBOQU1FU1BBQ0UgKyAnLXRyYW5zaXRpb24nO1xuICB2YXIgQ0xBU1NfRlVMTFNDUkVFTiA9IE5BTUVTUEFDRSArICctZnVsbHNjcmVlbic7XG4gIHZhciBDTEFTU19GVUxMU0NSRUVOX0VYSVQgPSBOQU1FU1BBQ0UgKyAnLWZ1bGxzY3JlZW4tZXhpdCc7XG4gIHZhciBDTEFTU19DTE9TRSA9IE5BTUVTUEFDRSArICctY2xvc2UnO1xuXG4gIC8vIEV2ZW50c1xuICB2YXIgRVZFTlRfTU9VU0VET1dOID0gUG9pbnRlckV2ZW50ID8gJ3BvaW50ZXJkb3duJyA6ICd0b3VjaHN0YXJ0IG1vdXNlZG93bic7XG4gIHZhciBFVkVOVF9NT1VTRU1PVkUgPSBQb2ludGVyRXZlbnQgPyAncG9pbnRlcm1vdmUnIDogJ21vdXNlbW92ZSB0b3VjaG1vdmUnO1xuICB2YXIgRVZFTlRfTU9VU0VVUCA9IFBvaW50ZXJFdmVudCA/ICdwb2ludGVydXAgcG9pbnRlcmNhbmNlbCcgOiAndG91Y2hlbmQgdG91Y2hjYW5jZWwgbW91c2V1cCc7XG4gIHZhciBFVkVOVF9XSEVFTCA9ICd3aGVlbCBtb3VzZXdoZWVsIERPTU1vdXNlU2Nyb2xsJztcbiAgdmFyIEVWRU5UX1RSQU5TSVRJT05FTkQgPSAndHJhbnNpdGlvbmVuZCc7XG4gIHZhciBFVkVOVF9MT0FEID0gJ2xvYWQnO1xuICB2YXIgRVZFTlRfS0VZRE9XTiA9ICdrZXlkb3duJztcbiAgdmFyIEVWRU5UX0NMSUNLID0gJ2NsaWNrJztcbiAgdmFyIEVWRU5UX1JFU0laRSA9ICdyZXNpemUnO1xuICB2YXIgRVZFTlRfUkVBRFkgPSAncmVhZHknO1xuICB2YXIgRVZFTlRfU0hPVyA9ICdzaG93JztcbiAgdmFyIEVWRU5UX1NIT1dOID0gJ3Nob3duJztcbiAgdmFyIEVWRU5UX0hJREUgPSAnaGlkZSc7XG4gIHZhciBFVkVOVF9ISURERU4gPSAnaGlkZGVuJztcbiAgdmFyIEVWRU5UX1ZJRVcgPSAndmlldyc7XG4gIHZhciBFVkVOVF9WSUVXRUQgPSAndmlld2VkJztcblxuICAvLyBSZWdFeHBzXG4gIHZhciBSRUdFWFBfU1VGRklYID0gL14od2lkdGh8aGVpZ2h0fGxlZnR8dG9wfG1hcmdpbkxlZnR8bWFyZ2luVG9wKSQvO1xuICB2YXIgUkVHRVhQX0hZUEhFTkFURSA9IC8oW2EtelxcZF0pKFtBLVpdKS9nO1xuICB2YXIgUkVHRVhQX1RSSU0gPSAvXlxccysoLiopXFxzKyQvO1xuICB2YXIgUkVHRVhQX1NQQUNFUyA9IC9cXHMrLztcblxuICAvLyBTdXBwb3J0c1xuICB2YXIgU1VQUE9SVF9UUkFOU0lUSU9OID0gdHlwZW9mIGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoTkFNRVNQQUNFKS5zdHlsZS50cmFuc2l0aW9uICE9PSAndW5kZWZpbmVkJztcblxuICAvLyBNYXRoc1xuICB2YXIgbWluID0gTWF0aC5taW47XG4gIHZhciBtYXggPSBNYXRoLm1heDtcbiAgdmFyIGFicyA9IE1hdGguYWJzO1xuICB2YXIgc3FydCA9IE1hdGguc3FydDtcbiAgdmFyIHJvdW5kID0gTWF0aC5yb3VuZDtcblxuICAvLyBVdGlsaXRpZXNcbiAgdmFyIG9iamVjdFByb3RvID0gT2JqZWN0LnByb3RvdHlwZTtcbiAgdmFyIHRvU3RyaW5nID0gb2JqZWN0UHJvdG8udG9TdHJpbmc7XG4gIHZhciBoYXNPd25Qcm9wZXJ0eSA9IG9iamVjdFByb3RvLmhhc093blByb3BlcnR5O1xuICB2YXIgc2xpY2UgPSBBcnJheS5wcm90b3R5cGUuc2xpY2U7XG5cbiAgZnVuY3Rpb24gdHlwZU9mKG9iaikge1xuICAgIHJldHVybiB0b1N0cmluZy5jYWxsKG9iaikuc2xpY2UoOCwgLTEpLnRvTG93ZXJDYXNlKCk7XG4gIH1cblxuICBmdW5jdGlvbiBpc1N0cmluZyhzdHIpIHtcbiAgICByZXR1cm4gdHlwZW9mIHN0ciA9PT0gJ3N0cmluZyc7XG4gIH1cblxuICBmdW5jdGlvbiBpc051bWJlcihudW0pIHtcbiAgICByZXR1cm4gdHlwZW9mIG51bSA9PT0gJ251bWJlcicgJiYgIWlzTmFOKG51bSk7XG4gIH1cblxuICBmdW5jdGlvbiBpc1VuZGVmaW5lZChvYmopIHtcbiAgICByZXR1cm4gdHlwZW9mIG9iaiA9PT0gJ3VuZGVmaW5lZCc7XG4gIH1cblxuICBmdW5jdGlvbiBpc09iamVjdChvYmopIHtcbiAgICByZXR1cm4gdHlwZW9mIG9iaiA9PT0gJ29iamVjdCcgJiYgb2JqICE9PSBudWxsO1xuICB9XG5cbiAgZnVuY3Rpb24gaXNQbGFpbk9iamVjdChvYmopIHtcbiAgICB2YXIgY29uc3RydWN0b3I7XG4gICAgdmFyIHByb3RvdHlwZTtcblxuICAgIGlmICghaXNPYmplY3Qob2JqKSkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIHRyeSB7XG4gICAgICBjb25zdHJ1Y3RvciA9IG9iai5jb25zdHJ1Y3RvcjtcbiAgICAgIHByb3RvdHlwZSA9IGNvbnN0cnVjdG9yLnByb3RvdHlwZTtcblxuICAgICAgcmV0dXJuIGNvbnN0cnVjdG9yICYmIHByb3RvdHlwZSAmJiBoYXNPd25Qcm9wZXJ0eS5jYWxsKHByb3RvdHlwZSwgJ2lzUHJvdG90eXBlT2YnKTtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gaXNGdW5jdGlvbihmbikge1xuICAgIHJldHVybiB0eXBlT2YoZm4pID09PSAnZnVuY3Rpb24nO1xuICB9XG5cbiAgZnVuY3Rpb24gaXNBcnJheShhcnIpIHtcbiAgICByZXR1cm4gQXJyYXkuaXNBcnJheSA/IEFycmF5LmlzQXJyYXkoYXJyKSA6IHR5cGVPZihhcnIpID09PSAnYXJyYXknO1xuICB9XG5cbiAgZnVuY3Rpb24gdG9BcnJheShvYmosIG9mZnNldCkge1xuICAgIG9mZnNldCA9IG9mZnNldCA+PSAwID8gb2Zmc2V0IDogMDtcblxuICAgIGlmIChBcnJheS5mcm9tKSB7XG4gICAgICByZXR1cm4gQXJyYXkuZnJvbShvYmopLnNsaWNlKG9mZnNldCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHNsaWNlLmNhbGwob2JqLCBvZmZzZXQpO1xuICB9XG5cbiAgZnVuY3Rpb24gaW5BcnJheSh2YWx1ZSwgYXJyKSB7XG4gICAgdmFyIGluZGV4ID0gLTE7XG5cbiAgICBpZiAoYXJyLmluZGV4T2YpIHtcbiAgICAgIHJldHVybiBhcnIuaW5kZXhPZih2YWx1ZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGVhY2goYXJyLCBmdW5jdGlvbiAobiwgaSkge1xuICAgICAgICBpZiAobiA9PT0gdmFsdWUpIHtcbiAgICAgICAgICBpbmRleCA9IGk7XG4gICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICByZXR1cm4gaW5kZXg7XG4gIH1cblxuICBmdW5jdGlvbiB0cmltKHN0cikge1xuICAgIGlmIChpc1N0cmluZyhzdHIpKSB7XG4gICAgICBzdHIgPSBzdHIudHJpbSA/IHN0ci50cmltKCkgOiBzdHIucmVwbGFjZShSRUdFWFBfVFJJTSwgJzEnKTtcbiAgICB9XG5cbiAgICByZXR1cm4gc3RyO1xuICB9XG5cbiAgZnVuY3Rpb24gZWFjaChvYmosIGNhbGxiYWNrKSB7XG4gICAgdmFyIGxlbmd0aDtcbiAgICB2YXIgaTtcblxuICAgIGlmIChvYmogJiYgaXNGdW5jdGlvbihjYWxsYmFjaykpIHtcbiAgICAgIGlmIChpc0FycmF5KG9iaikgfHwgaXNOdW1iZXIob2JqLmxlbmd0aCkvKiBhcnJheS1saWtlICovKSB7XG4gICAgICAgIGZvciAoaSA9IDAsIGxlbmd0aCA9IG9iai5sZW5ndGg7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgICAgIGlmIChjYWxsYmFjay5jYWxsKG9iaiwgb2JqW2ldLCBpLCBvYmopID09PSBmYWxzZSkge1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKGlzT2JqZWN0KG9iaikpIHtcbiAgICAgICAgZm9yIChpIGluIG9iaikge1xuICAgICAgICAgIGlmIChvYmouaGFzT3duUHJvcGVydHkoaSkpIHtcbiAgICAgICAgICAgIGlmIChjYWxsYmFjay5jYWxsKG9iaiwgb2JqW2ldLCBpLCBvYmopID09PSBmYWxzZSkge1xuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gb2JqO1xuICB9XG5cbiAgZnVuY3Rpb24gZXh0ZW5kKG9iaikge1xuICAgIHZhciBhcmdzO1xuXG4gICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPiAxKSB7XG4gICAgICBhcmdzID0gdG9BcnJheShhcmd1bWVudHMpO1xuXG4gICAgICBpZiAoT2JqZWN0LmFzc2lnbikge1xuICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbi5hcHBseShPYmplY3QsIGFyZ3MpO1xuICAgICAgfVxuXG4gICAgICBhcmdzLnNoaWZ0KCk7XG5cbiAgICAgIGVhY2goYXJncywgZnVuY3Rpb24gKGFyZykge1xuICAgICAgICBlYWNoKGFyZywgZnVuY3Rpb24gKHByb3AsIGkpIHtcbiAgICAgICAgICBvYmpbaV0gPSBwcm9wO1xuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIHJldHVybiBvYmo7XG4gIH1cblxuICBmdW5jdGlvbiBwcm94eShmbiwgY29udGV4dCkge1xuICAgIHZhciBhcmdzID0gdG9BcnJheShhcmd1bWVudHMsIDIpO1xuXG4gICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiBmbi5hcHBseShjb250ZXh0LCBhcmdzLmNvbmNhdCh0b0FycmF5KGFyZ3VtZW50cykpKTtcbiAgICB9O1xuICB9XG5cbiAgZnVuY3Rpb24gc2V0U3R5bGUoZWxlbWVudCwgc3R5bGVzKSB7XG4gICAgdmFyIHN0eWxlID0gZWxlbWVudC5zdHlsZTtcblxuICAgIGVhY2goc3R5bGVzLCBmdW5jdGlvbiAodmFsdWUsIHByb3BlcnR5KSB7XG4gICAgICBpZiAoUkVHRVhQX1NVRkZJWC50ZXN0KHByb3BlcnR5KSAmJiBpc051bWJlcih2YWx1ZSkpIHtcbiAgICAgICAgdmFsdWUgKz0gJ3B4JztcbiAgICAgIH1cblxuICAgICAgc3R5bGVbcHJvcGVydHldID0gdmFsdWU7XG4gICAgfSk7XG4gIH1cblxuICBmdW5jdGlvbiBnZXRTdHlsZShlbGVtZW50KSB7XG4gICAgcmV0dXJuIHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlID9cbiAgICAgIHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKGVsZW1lbnQsIG51bGwpIDpcbiAgICAgIGVsZW1lbnQuY3VycmVudFN0eWxlO1xuICB9XG5cbiAgZnVuY3Rpb24gaGFzQ2xhc3MoZWxlbWVudCwgdmFsdWUpIHtcbiAgICByZXR1cm4gZWxlbWVudC5jbGFzc0xpc3QgP1xuICAgICAgZWxlbWVudC5jbGFzc0xpc3QuY29udGFpbnModmFsdWUpIDpcbiAgICAgIGVsZW1lbnQuY2xhc3NOYW1lLmluZGV4T2YodmFsdWUpID4gLTE7XG4gIH1cblxuICBmdW5jdGlvbiBhZGRDbGFzcyhlbGVtZW50LCB2YWx1ZSkge1xuICAgIHZhciBjbGFzc05hbWU7XG5cbiAgICBpZiAoIXZhbHVlKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKGlzTnVtYmVyKGVsZW1lbnQubGVuZ3RoKSkge1xuICAgICAgcmV0dXJuIGVhY2goZWxlbWVudCwgZnVuY3Rpb24gKGVsZW0pIHtcbiAgICAgICAgYWRkQ2xhc3MoZWxlbSwgdmFsdWUpO1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgaWYgKGVsZW1lbnQuY2xhc3NMaXN0KSB7XG4gICAgICByZXR1cm4gZWxlbWVudC5jbGFzc0xpc3QuYWRkKHZhbHVlKTtcbiAgICB9XG5cbiAgICBjbGFzc05hbWUgPSB0cmltKGVsZW1lbnQuY2xhc3NOYW1lKTtcblxuICAgIGlmICghY2xhc3NOYW1lKSB7XG4gICAgICBlbGVtZW50LmNsYXNzTmFtZSA9IHZhbHVlO1xuICAgIH0gZWxzZSBpZiAoY2xhc3NOYW1lLmluZGV4T2YodmFsdWUpIDwgMCkge1xuICAgICAgZWxlbWVudC5jbGFzc05hbWUgPSBjbGFzc05hbWUgKyAnICcgKyB2YWx1ZTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiByZW1vdmVDbGFzcyhlbGVtZW50LCB2YWx1ZSkge1xuICAgIGlmICghdmFsdWUpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAoaXNOdW1iZXIoZWxlbWVudC5sZW5ndGgpKSB7XG4gICAgICByZXR1cm4gZWFjaChlbGVtZW50LCBmdW5jdGlvbiAoZWxlbSkge1xuICAgICAgICByZW1vdmVDbGFzcyhlbGVtLCB2YWx1ZSk7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBpZiAoZWxlbWVudC5jbGFzc0xpc3QpIHtcbiAgICAgIHJldHVybiBlbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUodmFsdWUpO1xuICAgIH1cblxuICAgIGlmIChlbGVtZW50LmNsYXNzTmFtZS5pbmRleE9mKHZhbHVlKSA+PSAwKSB7XG4gICAgICBlbGVtZW50LmNsYXNzTmFtZSA9IGVsZW1lbnQuY2xhc3NOYW1lLnJlcGxhY2UodmFsdWUsICcnKTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiB0b2dnbGVDbGFzcyhlbGVtZW50LCB2YWx1ZSwgYWRkZWQpIHtcbiAgICBpZiAoaXNOdW1iZXIoZWxlbWVudC5sZW5ndGgpKSB7XG4gICAgICByZXR1cm4gZWFjaChlbGVtZW50LCBmdW5jdGlvbiAoZWxlbSkge1xuICAgICAgICB0b2dnbGVDbGFzcyhlbGVtLCB2YWx1ZSwgYWRkZWQpO1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgLy8gSUUxMC0xMSBkb2Vzbid0IHN1cHBvcnQgdGhlIHNlY29uZCBwYXJhbWV0ZXIgb2YgYGNsYXNzTGlzdC50b2dnbGVgXG4gICAgaWYgKGFkZGVkKSB7XG4gICAgICBhZGRDbGFzcyhlbGVtZW50LCB2YWx1ZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJlbW92ZUNsYXNzKGVsZW1lbnQsIHZhbHVlKTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBoeXBoZW5hdGUoc3RyKSB7XG4gICAgcmV0dXJuIHN0ci5yZXBsYWNlKFJFR0VYUF9IWVBIRU5BVEUsICckMS0kMicpLnRvTG93ZXJDYXNlKCk7XG4gIH1cblxuICBmdW5jdGlvbiBnZXREYXRhKGVsZW1lbnQsIG5hbWUpIHtcbiAgICBpZiAoaXNPYmplY3QoZWxlbWVudFtuYW1lXSkpIHtcbiAgICAgIHJldHVybiBlbGVtZW50W25hbWVdO1xuICAgIH0gZWxzZSBpZiAoZWxlbWVudC5kYXRhc2V0KSB7XG4gICAgICByZXR1cm4gZWxlbWVudC5kYXRhc2V0W25hbWVdO1xuICAgIH1cblxuICAgIHJldHVybiBlbGVtZW50LmdldEF0dHJpYnV0ZSgnZGF0YS0nICsgaHlwaGVuYXRlKG5hbWUpKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHNldERhdGEoZWxlbWVudCwgbmFtZSwgZGF0YSkge1xuICAgIGlmIChpc09iamVjdChkYXRhKSkge1xuICAgICAgZWxlbWVudFtuYW1lXSA9IGRhdGE7XG4gICAgfSBlbHNlIGlmIChlbGVtZW50LmRhdGFzZXQpIHtcbiAgICAgIGVsZW1lbnQuZGF0YXNldFtuYW1lXSA9IGRhdGE7XG4gICAgfSBlbHNlIHtcbiAgICAgIGVsZW1lbnQuc2V0QXR0cmlidXRlKCdkYXRhLScgKyBoeXBoZW5hdGUobmFtZSksIGRhdGEpO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIHJlbW92ZURhdGEoZWxlbWVudCwgbmFtZSkge1xuICAgIGlmIChpc09iamVjdChlbGVtZW50W25hbWVdKSkge1xuICAgICAgZGVsZXRlIGVsZW1lbnRbbmFtZV07XG4gICAgfSBlbHNlIGlmIChlbGVtZW50LmRhdGFzZXQpIHtcbiAgICAgIC8vIFNhZmFyaSBub3QgYWxsb3dzIHRvIGRlbGV0ZSBkYXRhc2V0IHByb3BlcnR5XG4gICAgICB0cnkge1xuICAgICAgICBkZWxldGUgZWxlbWVudC5kYXRhc2V0W25hbWVdO1xuICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICBlbGVtZW50LmRhdGFzZXRbbmFtZV0gPSBudWxsO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBlbGVtZW50LnJlbW92ZUF0dHJpYnV0ZSgnZGF0YS0nICsgaHlwaGVuYXRlKG5hbWUpKTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBhZGRMaXN0ZW5lcihlbGVtZW50LCB0eXBlLCBoYW5kbGVyLCBvbmNlKSB7XG4gICAgdmFyIHR5cGVzID0gdHJpbSh0eXBlKS5zcGxpdChSRUdFWFBfU1BBQ0VTKTtcbiAgICB2YXIgb3JpZ2luYWxIYW5kbGVyID0gaGFuZGxlcjtcblxuICAgIGlmICh0eXBlcy5sZW5ndGggPiAxKSB7XG4gICAgICByZXR1cm4gZWFjaCh0eXBlcywgZnVuY3Rpb24gKHR5cGUpIHtcbiAgICAgICAgYWRkTGlzdGVuZXIoZWxlbWVudCwgdHlwZSwgaGFuZGxlcik7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBpZiAob25jZSkge1xuICAgICAgaGFuZGxlciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmVtb3ZlTGlzdGVuZXIoZWxlbWVudCwgdHlwZSwgaGFuZGxlcik7XG5cbiAgICAgICAgcmV0dXJuIG9yaWdpbmFsSGFuZGxlci5hcHBseShlbGVtZW50LCBhcmd1bWVudHMpO1xuICAgICAgfTtcbiAgICB9XG5cbiAgICBpZiAoZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKSB7XG4gICAgICBlbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIodHlwZSwgaGFuZGxlciwgZmFsc2UpO1xuICAgIH0gZWxzZSBpZiAoZWxlbWVudC5hdHRhY2hFdmVudCkge1xuICAgICAgZWxlbWVudC5hdHRhY2hFdmVudCgnb24nICsgdHlwZSwgaGFuZGxlcik7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gcmVtb3ZlTGlzdGVuZXIoZWxlbWVudCwgdHlwZSwgaGFuZGxlcikge1xuICAgIHZhciB0eXBlcyA9IHRyaW0odHlwZSkuc3BsaXQoUkVHRVhQX1NQQUNFUyk7XG5cbiAgICBpZiAodHlwZXMubGVuZ3RoID4gMSkge1xuICAgICAgcmV0dXJuIGVhY2godHlwZXMsIGZ1bmN0aW9uICh0eXBlKSB7XG4gICAgICAgIHJlbW92ZUxpc3RlbmVyKGVsZW1lbnQsIHR5cGUsIGhhbmRsZXIpO1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgaWYgKGVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcikge1xuICAgICAgZWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKHR5cGUsIGhhbmRsZXIsIGZhbHNlKTtcbiAgICB9IGVsc2UgaWYgKGVsZW1lbnQuZGV0YWNoRXZlbnQpIHtcbiAgICAgIGVsZW1lbnQuZGV0YWNoRXZlbnQoJ29uJyArIHR5cGUsIGhhbmRsZXIpO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIGRpc3BhdGNoRXZlbnQoZWxlbWVudCwgdHlwZSwgZGF0YSkge1xuICAgIHZhciBldmVudDtcblxuICAgIGlmIChlbGVtZW50LmRpc3BhdGNoRXZlbnQpIHtcblxuICAgICAgLy8gRXZlbnQgYW5kIEN1c3RvbUV2ZW50IG9uIElFOS0xMSBhcmUgZ2xvYmFsIG9iamVjdHMsIG5vdCBjb25zdHJ1Y3RvcnNcbiAgICAgIGlmIChpc0Z1bmN0aW9uKEV2ZW50KSAmJiBpc0Z1bmN0aW9uKEN1c3RvbUV2ZW50KSkge1xuICAgICAgICBpZiAoaXNVbmRlZmluZWQoZGF0YSkpIHtcbiAgICAgICAgICBldmVudCA9IG5ldyBFdmVudCh0eXBlLCB7XG4gICAgICAgICAgICBidWJibGVzOiB0cnVlLFxuICAgICAgICAgICAgY2FuY2VsYWJsZTogdHJ1ZVxuICAgICAgICAgIH0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGV2ZW50ID0gbmV3IEN1c3RvbUV2ZW50KHR5cGUsIHtcbiAgICAgICAgICAgIGRldGFpbDogZGF0YSxcbiAgICAgICAgICAgIGJ1YmJsZXM6IHRydWUsXG4gICAgICAgICAgICBjYW5jZWxhYmxlOiB0cnVlXG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIElFOS0xMVxuICAgICAgICBpZiAoaXNVbmRlZmluZWQoZGF0YSkpIHtcbiAgICAgICAgICBldmVudCA9IGRvY3VtZW50LmNyZWF0ZUV2ZW50KCdFdmVudCcpO1xuICAgICAgICAgIGV2ZW50LmluaXRFdmVudCh0eXBlLCB0cnVlLCB0cnVlKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBldmVudCA9IGRvY3VtZW50LmNyZWF0ZUV2ZW50KCdDdXN0b21FdmVudCcpO1xuICAgICAgICAgIGV2ZW50LmluaXRDdXN0b21FdmVudCh0eXBlLCB0cnVlLCB0cnVlLCBkYXRhKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICAvLyBJRTkrXG4gICAgICByZXR1cm4gZWxlbWVudC5kaXNwYXRjaEV2ZW50KGV2ZW50KTtcbiAgICB9IGVsc2UgaWYgKGVsZW1lbnQuZmlyZUV2ZW50KSB7XG5cbiAgICAgIC8vIElFNi0xMCAobmF0aXZlIGV2ZW50cyBvbmx5KVxuICAgICAgcmV0dXJuIGVsZW1lbnQuZmlyZUV2ZW50KCdvbicgKyB0eXBlKTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBwcmV2ZW50RGVmYXVsdChlKSB7XG4gICAgaWYgKGUucHJldmVudERlZmF1bHQpIHtcbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgZS5yZXR1cm5WYWx1ZSA9IGZhbHNlO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIGdldEV2ZW50KGV2ZW50KSB7XG4gICAgdmFyIGUgPSBldmVudCB8fCB3aW5kb3cuZXZlbnQ7XG4gICAgdmFyIGV2ZW50RG9jO1xuICAgIHZhciBkb2M7XG4gICAgdmFyIGJvZHk7XG5cbiAgICAvLyBGaXggdGFyZ2V0IHByb3BlcnR5IChJRTgpXG4gICAgaWYgKCFlLnRhcmdldCkge1xuICAgICAgZS50YXJnZXQgPSBlLnNyY0VsZW1lbnQgfHwgZG9jdW1lbnQ7XG4gICAgfVxuXG4gICAgaWYgKCFpc051bWJlcihlLnBhZ2VYKSAmJiBpc051bWJlcihlLmNsaWVudFgpKSB7XG4gICAgICBldmVudERvYyA9IGV2ZW50LnRhcmdldC5vd25lckRvY3VtZW50IHx8IGRvY3VtZW50O1xuICAgICAgZG9jID0gZXZlbnREb2MuZG9jdW1lbnRFbGVtZW50O1xuICAgICAgYm9keSA9IGV2ZW50RG9jLmJvZHk7XG5cbiAgICAgIGUucGFnZVggPSBlLmNsaWVudFggKyAoXG4gICAgICAgICgoZG9jICYmIGRvYy5zY3JvbGxMZWZ0KSB8fCAoYm9keSAmJiBib2R5LnNjcm9sbExlZnQpIHx8IDApIC1cbiAgICAgICAgKChkb2MgJiYgZG9jLmNsaWVudExlZnQpIHx8IChib2R5ICYmIGJvZHkuY2xpZW50TGVmdCkgfHwgMClcbiAgICAgICk7XG4gICAgICBlLnBhZ2VZID0gZS5jbGllbnRZICsgKFxuICAgICAgICAoKGRvYyAmJiBkb2Muc2Nyb2xsVG9wKSB8fCAoYm9keSAmJiBib2R5LnNjcm9sbFRvcCkgfHwgMCkgLVxuICAgICAgICAoKGRvYyAmJiBkb2MuY2xpZW50VG9wKSB8fCAoYm9keSAmJiBib2R5LmNsaWVudFRvcCkgfHwgMClcbiAgICAgICk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGU7XG4gIH1cblxuICBmdW5jdGlvbiBnZXRPZmZzZXQoZWxlbWVudCkge1xuICAgIHZhciBkb2MgPSBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQ7XG4gICAgdmFyIGJveCA9IGVsZW1lbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG5cbiAgICByZXR1cm4ge1xuICAgICAgbGVmdDogYm94LmxlZnQgKyAod2luZG93LnNjcm9sbFggfHwgZG9jICYmIGRvYy5zY3JvbGxMZWZ0IHx8IDApIC0gKGRvYyAmJiBkb2MuY2xpZW50TGVmdCB8fCAwKSxcbiAgICAgIHRvcDogYm94LnRvcCArICh3aW5kb3cuc2Nyb2xsWSB8fCBkb2MgJiYgZG9jLnNjcm9sbFRvcCB8fCAwKSAtIChkb2MgJiYgZG9jLmNsaWVudFRvcCB8fCAwKVxuICAgIH07XG4gIH1cblxuICBmdW5jdGlvbiBnZXRCeVRhZyhlbGVtZW50LCB0YWdOYW1lKSB7XG4gICAgcmV0dXJuIGVsZW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUodGFnTmFtZSk7XG4gIH1cblxuICBmdW5jdGlvbiBnZXRCeUNsYXNzKGVsZW1lbnQsIGNsYXNzTmFtZSkge1xuICAgIHJldHVybiBlbGVtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUgP1xuICAgICAgZWxlbWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKGNsYXNzTmFtZSkgOlxuICAgICAgZWxlbWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuJyArIGNsYXNzTmFtZSk7XG4gIH1cblxuICBmdW5jdGlvbiBhcHBlbmRDaGlsZChlbGVtZW50LCBlbGVtKSB7XG4gICAgaWYgKGVsZW0ubGVuZ3RoKSB7XG4gICAgICByZXR1cm4gZWFjaChlbGVtLCBmdW5jdGlvbiAoZWwpIHtcbiAgICAgICAgYXBwZW5kQ2hpbGQoZWxlbWVudCwgZWwpO1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgZWxlbWVudC5hcHBlbmRDaGlsZChlbGVtKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHJlbW92ZUNoaWxkKGVsZW1lbnQpIHtcbiAgICBpZiAoZWxlbWVudC5wYXJlbnROb2RlKSB7XG4gICAgICBlbGVtZW50LnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoZWxlbWVudCk7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gZW1wdHkoZWxlbWVudCkge1xuICAgIHdoaWxlIChlbGVtZW50LmZpcnN0Q2hpbGQpIHtcbiAgICAgIGVsZW1lbnQucmVtb3ZlQ2hpbGQoZWxlbWVudC5maXJzdENoaWxkKTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBzZXRUZXh0KGVsZW1lbnQsIHRleHQpIHtcbiAgICBpZiAoIWlzVW5kZWZpbmVkKGVsZW1lbnQudGV4dENvbnRlbnQpKSB7XG4gICAgICBlbGVtZW50LnRleHRDb250ZW50ID0gdGV4dDtcbiAgICB9IGVsc2Uge1xuICAgICAgZWxlbWVudC5pbm5lclRleHQgPSB0ZXh0O1xuICAgIH1cbiAgfVxuXG4gIC8vIEZvcmNlIHJlZmxvdyB0byBlbmFibGUgQ1NTMyB0cmFuc2l0aW9uXG4gIGZ1bmN0aW9uIGZvcmNlUmVmbG93KGVsZW1lbnQpIHtcbiAgICByZXR1cm4gZWxlbWVudC5vZmZzZXRXaWR0aDtcbiAgfVxuXG4gIC8vIGUuZy46IGh0dHA6Ly9kb21haW4uY29tL3BhdGgvdG8vcGljdHVyZS5qcGc/c2l6ZT0xMjgww5c5NjAgLT4gcGljdHVyZS5qcGdcbiAgZnVuY3Rpb24gZ2V0SW1hZ2VOYW1lKHVybCkge1xuICAgIHJldHVybiBpc1N0cmluZyh1cmwpID8gdXJsLnJlcGxhY2UoL14uKlxcLy8sICcnKS5yZXBsYWNlKC9bXFw/JiNdLiokLywgJycpIDogJyc7XG4gIH1cblxuICBmdW5jdGlvbiBnZXRJbWFnZVNpemUoaW1hZ2UsIGNhbGxiYWNrKSB7XG4gICAgdmFyIG5ld0ltYWdlO1xuXG4gICAgLy8gTW9kZXJuIGJyb3dzZXJzXG4gICAgaWYgKGltYWdlLm5hdHVyYWxXaWR0aCkge1xuICAgICAgcmV0dXJuIGNhbGxiYWNrKGltYWdlLm5hdHVyYWxXaWR0aCwgaW1hZ2UubmF0dXJhbEhlaWdodCk7XG4gICAgfVxuXG4gICAgLy8gSUU4OiBEb24ndCB1c2UgYG5ldyBJbWFnZSgpYCBoZXJlXG4gICAgbmV3SW1hZ2UgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbWcnKTtcblxuICAgIG5ld0ltYWdlLm9ubG9hZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIGNhbGxiYWNrKHRoaXMud2lkdGgsIHRoaXMuaGVpZ2h0KTtcbiAgICB9O1xuXG4gICAgbmV3SW1hZ2Uuc3JjID0gaW1hZ2Uuc3JjO1xuICB9XG5cbiAgZnVuY3Rpb24gZ2V0VHJhbnNmb3JtKGRhdGEpIHtcbiAgICB2YXIgdHJhbnNmb3JtcyA9IFtdO1xuICAgIHZhciByb3RhdGUgPSBkYXRhLnJvdGF0ZTtcbiAgICB2YXIgc2NhbGVYID0gZGF0YS5zY2FsZVg7XG4gICAgdmFyIHNjYWxlWSA9IGRhdGEuc2NhbGVZO1xuXG4gICAgLy8gUm90YXRlIHNob3VsZCBjb21lIGZpcnN0IGJlZm9yZSBzY2FsZVxuICAgIGlmIChpc051bWJlcihyb3RhdGUpKSB7XG4gICAgICB0cmFuc2Zvcm1zLnB1c2goJ3JvdGF0ZSgnICsgcm90YXRlICsgJ2RlZyknKTtcbiAgICB9XG5cbiAgICBpZiAoaXNOdW1iZXIoc2NhbGVYKSkge1xuICAgICAgdHJhbnNmb3Jtcy5wdXNoKCdzY2FsZVgoJyArIHNjYWxlWCArICcpJyk7XG4gICAgfVxuXG4gICAgaWYgKGlzTnVtYmVyKHNjYWxlWSkpIHtcbiAgICAgIHRyYW5zZm9ybXMucHVzaCgnc2NhbGVZKCcgKyBzY2FsZVkgKyAnKScpO1xuICAgIH1cblxuICAgIHJldHVybiB0cmFuc2Zvcm1zLmxlbmd0aCA/IHRyYW5zZm9ybXMuam9pbignICcpIDogJ25vbmUnO1xuICB9XG5cbiAgZnVuY3Rpb24gZ2V0UmVzcG9uc2l2ZUNsYXNzKG9wdGlvbikge1xuICAgIHN3aXRjaCAob3B0aW9uKSB7XG4gICAgICBjYXNlIDI6XG4gICAgICAgIHJldHVybiBDTEFTU19ISURFX1hTX0RPV047XG5cbiAgICAgIGNhc2UgMzpcbiAgICAgICAgcmV0dXJuIENMQVNTX0hJREVfU01fRE9XTjtcblxuICAgICAgY2FzZSA0OlxuICAgICAgICByZXR1cm4gQ0xBU1NfSElERV9NRF9ET1dOO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIGdldFBvaW50ZXIocG9pbnRlciwgZW5kT25seSkge1xuICAgIHZhciBlbmQgPSB7XG4gICAgICBlbmRYOiBwb2ludGVyLnBhZ2VYLFxuICAgICAgZW5kWTogcG9pbnRlci5wYWdlWVxuICAgIH07XG5cbiAgICBpZiAoZW5kT25seSkge1xuICAgICAgcmV0dXJuIGVuZDtcbiAgICB9XG5cbiAgICByZXR1cm4gZXh0ZW5kKHtcbiAgICAgIHN0YXJ0WDogcG9pbnRlci5wYWdlWCxcbiAgICAgIHN0YXJ0WTogcG9pbnRlci5wYWdlWVxuICAgIH0sIGVuZCk7XG4gIH1cblxuICBmdW5jdGlvbiBnZXRNYXhab29tUmF0aW8ocG9pbnRlcnMpIHtcbiAgICB2YXIgcG9pbnRlcnMyID0gZXh0ZW5kKHt9LCBwb2ludGVycyk7XG4gICAgdmFyIHJhdGlvcyA9IFtdO1xuXG4gICAgZWFjaChwb2ludGVycywgZnVuY3Rpb24gKHBvaW50ZXIsIHBvaW50ZXJJZCkge1xuICAgICAgZGVsZXRlIHBvaW50ZXJzMltwb2ludGVySWRdO1xuXG4gICAgICBlYWNoKHBvaW50ZXJzMiwgZnVuY3Rpb24gKHBvaW50ZXIyKSB7XG4gICAgICAgIHZhciB4MSA9IE1hdGguYWJzKHBvaW50ZXIuc3RhcnRYIC0gcG9pbnRlcjIuc3RhcnRYKTtcbiAgICAgICAgdmFyIHkxID0gTWF0aC5hYnMocG9pbnRlci5zdGFydFkgLSBwb2ludGVyMi5zdGFydFkpO1xuICAgICAgICB2YXIgeDIgPSBNYXRoLmFicyhwb2ludGVyLmVuZFggLSBwb2ludGVyMi5lbmRYKTtcbiAgICAgICAgdmFyIHkyID0gTWF0aC5hYnMocG9pbnRlci5lbmRZIC0gcG9pbnRlcjIuZW5kWSk7XG4gICAgICAgIHZhciB6MSA9IE1hdGguc3FydCgoeDEgKiB4MSkgKyAoeTEgKiB5MSkpO1xuICAgICAgICB2YXIgejIgPSBNYXRoLnNxcnQoKHgyICogeDIpICsgKHkyICogeTIpKTtcbiAgICAgICAgdmFyIHJhdGlvID0gKHoyIC0gejEpIC8gejE7XG5cbiAgICAgICAgcmF0aW9zLnB1c2gocmF0aW8pO1xuICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICByYXRpb3Muc29ydChmdW5jdGlvbiAoYSwgYikge1xuICAgICAgcmV0dXJuIE1hdGguYWJzKGEpIDwgTWF0aC5hYnMoYik7XG4gICAgfSk7XG5cbiAgICByZXR1cm4gcmF0aW9zWzBdO1xuICB9XG5cbiAgZnVuY3Rpb24gZ2V0UG9pbnRlcnNDZW50ZXIocG9pbnRlcnMpIHtcbiAgICB2YXIgcGFnZVggPSAwO1xuICAgIHZhciBwYWdlWSA9IDA7XG4gICAgdmFyIGNvdW50ID0gMDtcblxuICAgIGVhY2gocG9pbnRlcnMsIGZ1bmN0aW9uIChwb2ludGVyKSB7XG4gICAgICBwYWdlWCArPSBwb2ludGVyLnN0YXJ0WDtcbiAgICAgIHBhZ2VZICs9IHBvaW50ZXIuc3RhcnRZO1xuICAgICAgY291bnQgKz0gMTtcbiAgICB9KTtcblxuICAgIHBhZ2VYIC89IGNvdW50O1xuICAgIHBhZ2VZIC89IGNvdW50O1xuXG4gICAgcmV0dXJuIHtcbiAgICAgIHBhZ2VYOiBwYWdlWCxcbiAgICAgIHBhZ2VZOiBwYWdlWVxuICAgIH07XG4gIH1cblxuICBmdW5jdGlvbiBWaWV3ZXIoZWxlbWVudCwgb3B0aW9ucykge1xuICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgICBfdGhpcy5lbGVtZW50ID0gZWxlbWVudDtcbiAgICBfdGhpcy5vcHRpb25zID0gZXh0ZW5kKHt9LCBWaWV3ZXIuREVGQVVMVFMsIGlzUGxhaW5PYmplY3Qob3B0aW9ucykgJiYgb3B0aW9ucyk7XG4gICAgX3RoaXMuaXNJbWcgPSBmYWxzZTtcbiAgICBfdGhpcy5pc0J1aWx0ID0gZmFsc2U7XG4gICAgX3RoaXMuaXNTaG93biA9IGZhbHNlO1xuICAgIF90aGlzLmlzVmlld2VkID0gZmFsc2U7XG4gICAgX3RoaXMuaXNGdWxsZWQgPSBmYWxzZTtcbiAgICBfdGhpcy5pc1BsYXllZCA9IGZhbHNlO1xuICAgIF90aGlzLndoZWVsaW5nID0gZmFsc2U7XG4gICAgX3RoaXMucGxheWluZyA9IGZhbHNlO1xuICAgIF90aGlzLmZhZGluZyA9IGZhbHNlO1xuICAgIF90aGlzLnRvb2x0aXBpbmcgPSBmYWxzZTtcbiAgICBfdGhpcy50cmFuc2l0aW9uaW5nID0gZmFsc2U7XG4gICAgX3RoaXMuYWN0aW9uID0gZmFsc2U7XG4gICAgX3RoaXMudGFyZ2V0ID0gZmFsc2U7XG4gICAgX3RoaXMudGltZW91dCA9IGZhbHNlO1xuICAgIF90aGlzLmluZGV4ID0gMDtcbiAgICBfdGhpcy5sZW5ndGggPSAwO1xuICAgIF90aGlzLnBvaW50ZXJzID0ge307XG4gICAgX3RoaXMuaW5pdCgpO1xuICB9XG5cbiAgVmlld2VyLnByb3RvdHlwZSA9IHtcbiAgICBjb25zdHJ1Y3RvcjogVmlld2VyLFxuXG4gICAgaW5pdDogZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgIHZhciBvcHRpb25zID0gX3RoaXMub3B0aW9ucztcbiAgICAgIHZhciBlbGVtZW50ID0gX3RoaXMuZWxlbWVudDtcbiAgICAgIHZhciBpc0ltZyA9IGVsZW1lbnQudGFnTmFtZS50b0xvd2VyQ2FzZSgpID09PSAnaW1nJztcbiAgICAgIHZhciBpbWFnZXMgPSBpc0ltZyA/IFtlbGVtZW50XSA6IGdldEJ5VGFnKGVsZW1lbnQsICdpbWcnKTtcbiAgICAgIHZhciBsZW5ndGggPSBpbWFnZXMubGVuZ3RoO1xuICAgICAgdmFyIHJlYWR5ID0gcHJveHkoX3RoaXMucmVhZHksIF90aGlzKTtcblxuICAgICAgaWYgKGdldERhdGEoZWxlbWVudCwgTkFNRVNQQUNFKSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIHNldERhdGEoZWxlbWVudCwgTkFNRVNQQUNFLCBfdGhpcyk7XG5cbiAgICAgIGlmICghbGVuZ3RoKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgaWYgKGlzRnVuY3Rpb24ob3B0aW9ucy5yZWFkeSkpIHtcbiAgICAgICAgYWRkTGlzdGVuZXIoZWxlbWVudCwgRVZFTlRfUkVBRFksIG9wdGlvbnMucmVhZHksIHRydWUpO1xuICAgICAgfVxuXG4gICAgICAvLyBPdmVycmlkZSBgdHJhbnNpdGlvbmAgb3B0aW9uIGlmIGl0IGlzIG5vdCBzdXBwb3J0ZWRcbiAgICAgIGlmICghU1VQUE9SVF9UUkFOU0lUSU9OKSB7XG4gICAgICAgIG9wdGlvbnMudHJhbnNpdGlvbiA9IGZhbHNlO1xuICAgICAgfVxuXG4gICAgICBfdGhpcy5pc0ltZyA9IGlzSW1nO1xuICAgICAgX3RoaXMubGVuZ3RoID0gbGVuZ3RoO1xuICAgICAgX3RoaXMuY291bnQgPSAwO1xuICAgICAgX3RoaXMuaW1hZ2VzID0gaW1hZ2VzO1xuICAgICAgX3RoaXMuYm9keSA9IGRvY3VtZW50LmJvZHk7XG4gICAgICBfdGhpcy5zY3JvbGxiYXJXaWR0aCA9IHdpbmRvdy5pbm5lcldpZHRoIC0gZG9jdW1lbnQuYm9keS5jbGllbnRXaWR0aDtcblxuICAgICAgaWYgKG9wdGlvbnMuaW5saW5lKSB7XG4gICAgICAgIGFkZExpc3RlbmVyKGVsZW1lbnQsIEVWRU5UX1JFQURZLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgX3RoaXMudmlldygpO1xuICAgICAgICB9LCB0cnVlKTtcblxuICAgICAgICBlYWNoKGltYWdlcywgZnVuY3Rpb24gKGltYWdlKSB7XG4gICAgICAgICAgaWYgKGltYWdlLmNvbXBsZXRlKSB7XG4gICAgICAgICAgICByZWFkeSgpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBhZGRMaXN0ZW5lcihpbWFnZSwgRVZFTlRfTE9BRCwgcmVhZHksIHRydWUpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBhZGRMaXN0ZW5lcihlbGVtZW50LCBFVkVOVF9DTElDSywgKF90aGlzLl9zdGFydCA9IHByb3h5KF90aGlzLnN0YXJ0LCBfdGhpcykpKTtcbiAgICAgIH1cbiAgICB9LFxuXG4gICAgcmVhZHk6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgICAgIF90aGlzLmNvdW50Kys7XG5cbiAgICAgIGlmIChfdGhpcy5jb3VudCA9PT0gX3RoaXMubGVuZ3RoKSB7XG4gICAgICAgIF90aGlzLmJ1aWxkKCk7XG4gICAgICB9XG4gICAgfSxcblxuICAgIGJ1aWxkOiBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgdmFyIG9wdGlvbnMgPSBfdGhpcy5vcHRpb25zO1xuICAgICAgdmFyIGVsZW1lbnQgPSBfdGhpcy5lbGVtZW50O1xuICAgICAgdmFyIHRlbXBsYXRlO1xuICAgICAgdmFyIHBhcmVudDtcbiAgICAgIHZhciB2aWV3ZXI7XG4gICAgICB2YXIgYnV0dG9uO1xuICAgICAgdmFyIHRvb2xiYXI7XG4gICAgICB2YXIgbmF2YmFyO1xuICAgICAgdmFyIHRpdGxlO1xuICAgICAgdmFyIHJvdGF0ZTtcblxuICAgICAgaWYgKF90aGlzLmlzQnVpbHQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICB0ZW1wbGF0ZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgdGVtcGxhdGUuaW5uZXJIVE1MID0gVmlld2VyLlRFTVBMQVRFO1xuXG4gICAgICBfdGhpcy5wYXJlbnQgPSBwYXJlbnQgPSBlbGVtZW50LnBhcmVudE5vZGU7XG4gICAgICBfdGhpcy52aWV3ZXIgPSB2aWV3ZXIgPSBnZXRCeUNsYXNzKHRlbXBsYXRlLCAndmlld2VyLWNvbnRhaW5lcicpWzBdO1xuICAgICAgX3RoaXMuY2FudmFzID0gZ2V0QnlDbGFzcyh2aWV3ZXIsICd2aWV3ZXItY2FudmFzJylbMF07XG4gICAgICBfdGhpcy5mb290ZXIgPSBnZXRCeUNsYXNzKHZpZXdlciwgJ3ZpZXdlci1mb290ZXInKVswXTtcbiAgICAgIF90aGlzLnRpdGxlID0gdGl0bGUgPSBnZXRCeUNsYXNzKHZpZXdlciwgJ3ZpZXdlci10aXRsZScpWzBdO1xuICAgICAgX3RoaXMudG9vbGJhciA9IHRvb2xiYXIgPSBnZXRCeUNsYXNzKHZpZXdlciwgJ3ZpZXdlci10b29sYmFyJylbMF07XG4gICAgICBfdGhpcy5uYXZiYXIgPSBuYXZiYXIgPSBnZXRCeUNsYXNzKHZpZXdlciwgJ3ZpZXdlci1uYXZiYXInKVswXTtcbiAgICAgIF90aGlzLmJ1dHRvbiA9IGJ1dHRvbiA9IGdldEJ5Q2xhc3Modmlld2VyLCAndmlld2VyLWJ1dHRvbicpWzBdO1xuICAgICAgX3RoaXMudG9vbHRpcEJveCA9IGdldEJ5Q2xhc3Modmlld2VyLCAndmlld2VyLXRvb2x0aXAnKVswXTtcbiAgICAgIF90aGlzLnBsYXllciA9IGdldEJ5Q2xhc3Modmlld2VyLCAndmlld2VyLXBsYXllcicpWzBdO1xuICAgICAgX3RoaXMubGlzdCA9IGdldEJ5Q2xhc3Modmlld2VyLCAndmlld2VyLWxpc3QnKVswXTtcblxuICAgICAgYWRkQ2xhc3ModGl0bGUsICFvcHRpb25zLnRpdGxlID8gQ0xBU1NfSElERSA6IGdldFJlc3BvbnNpdmVDbGFzcyhvcHRpb25zLnRpdGxlKSk7XG4gICAgICBhZGRDbGFzcyh0b29sYmFyLCAhb3B0aW9ucy50b29sYmFyID8gQ0xBU1NfSElERSA6IGdldFJlc3BvbnNpdmVDbGFzcyhvcHRpb25zLnRvb2xiYXIpKTtcbiAgICAgIGFkZENsYXNzKG5hdmJhciwgIW9wdGlvbnMubmF2YmFyID8gQ0xBU1NfSElERSA6IGdldFJlc3BvbnNpdmVDbGFzcyhvcHRpb25zLm5hdmJhcikpO1xuICAgICAgdG9nZ2xlQ2xhc3MoYnV0dG9uLCBDTEFTU19ISURFLCAhb3B0aW9ucy5idXR0b24pO1xuXG4gICAgICB0b2dnbGVDbGFzcyh0b29sYmFyLnF1ZXJ5U2VsZWN0b3IoJy52aWV3ZXItb25lLXRvLW9uZScpLCBDTEFTU19JTlZJU0lCTEUsICFvcHRpb25zLnpvb21hYmxlKTtcbiAgICAgIHRvZ2dsZUNsYXNzKHRvb2xiYXIucXVlcnlTZWxlY3RvckFsbCgnbGlbY2xhc3MqPVwiem9vbVwiXScpLCBDTEFTU19JTlZJU0lCTEUsICFvcHRpb25zLnpvb21hYmxlKTtcbiAgICAgIHRvZ2dsZUNsYXNzKHRvb2xiYXIucXVlcnlTZWxlY3RvckFsbCgnbGlbY2xhc3MqPVwiZmxpcFwiXScpLCBDTEFTU19JTlZJU0lCTEUsICFvcHRpb25zLnNjYWxhYmxlKTtcblxuICAgICAgaWYgKCFvcHRpb25zLnJvdGF0YWJsZSkge1xuICAgICAgICByb3RhdGUgPSB0b29sYmFyLnF1ZXJ5U2VsZWN0b3JBbGwoJ2xpW2NsYXNzKj1cInJvdGF0ZVwiXScpO1xuICAgICAgICBhZGRDbGFzcyhyb3RhdGUsIENMQVNTX0lOVklTSUJMRSk7XG4gICAgICAgIGFwcGVuZENoaWxkKHRvb2xiYXIsIHJvdGF0ZSk7XG4gICAgICB9XG5cbiAgICAgIGlmIChvcHRpb25zLmlubGluZSkge1xuICAgICAgICBhZGRDbGFzcyhidXR0b24sIENMQVNTX0ZVTExTQ1JFRU4pO1xuICAgICAgICBzZXRTdHlsZSh2aWV3ZXIsIHtcbiAgICAgICAgICB6SW5kZXg6IG9wdGlvbnMuekluZGV4SW5saW5lXG4gICAgICAgIH0pO1xuXG4gICAgICAgIGlmIChnZXRTdHlsZShwYXJlbnQpLnBvc2l0aW9uID09PSAnc3RhdGljJykge1xuICAgICAgICAgIHNldFN0eWxlKHBhcmVudCwge1xuICAgICAgICAgICAgcG9zaXRpb246ICdyZWxhdGl2ZSdcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgYWRkQ2xhc3MoYnV0dG9uLCBDTEFTU19DTE9TRSk7XG4gICAgICAgIGFkZENsYXNzKHZpZXdlciwgQ0xBU1NfRklYRUQpO1xuICAgICAgICBhZGRDbGFzcyh2aWV3ZXIsIENMQVNTX0ZBREUpO1xuICAgICAgICBhZGRDbGFzcyh2aWV3ZXIsIENMQVNTX0hJREUpO1xuXG4gICAgICAgIHNldFN0eWxlKHZpZXdlciwge1xuICAgICAgICAgIHpJbmRleDogb3B0aW9ucy56SW5kZXhcbiAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICAgIC8vIEluc2VydHMgdGhlIHZpZXdlciBhZnRlciB0byB0aGUgY3VycmVudCBlbGVtZW50XG4gICAgICBwYXJlbnQuaW5zZXJ0QmVmb3JlKHZpZXdlciwgZWxlbWVudC5uZXh0U2libGluZyk7XG5cbiAgICAgIGlmIChvcHRpb25zLmlubGluZSkge1xuICAgICAgICBfdGhpcy5yZW5kZXIoKTtcbiAgICAgICAgX3RoaXMuYmluZCgpO1xuICAgICAgICBfdGhpcy5pc1Nob3duID0gdHJ1ZTtcbiAgICAgIH1cblxuICAgICAgX3RoaXMuaXNCdWlsdCA9IHRydWU7XG5cbiAgICAgIGRpc3BhdGNoRXZlbnQoZWxlbWVudCwgRVZFTlRfUkVBRFkpO1xuICAgIH0sXG5cbiAgICB1bmJ1aWxkOiBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gICAgICBpZiAoIV90aGlzLmlzQnVpbHQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBfdGhpcy5pc0J1aWx0ID0gZmFsc2U7XG4gICAgICByZW1vdmVDaGlsZChfdGhpcy52aWV3ZXIpO1xuICAgIH0sXG5cbiAgICBiaW5kOiBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgdmFyIG9wdGlvbnMgPSBfdGhpcy5vcHRpb25zO1xuICAgICAgdmFyIGVsZW1lbnQgPSBfdGhpcy5lbGVtZW50O1xuICAgICAgdmFyIHZpZXdlciA9IF90aGlzLnZpZXdlcjtcblxuICAgICAgaWYgKGlzRnVuY3Rpb24ob3B0aW9ucy52aWV3KSkge1xuICAgICAgICBhZGRMaXN0ZW5lcihlbGVtZW50LCBFVkVOVF9WSUVXLCBvcHRpb25zLnZpZXcpO1xuICAgICAgfVxuXG4gICAgICBpZiAoaXNGdW5jdGlvbihvcHRpb25zLnZpZXdlZCkpIHtcbiAgICAgICAgYWRkTGlzdGVuZXIoZWxlbWVudCwgRVZFTlRfVklFV0VELCBvcHRpb25zLnZpZXdlZCk7XG4gICAgICB9XG5cbiAgICAgIGFkZExpc3RlbmVyKHZpZXdlciwgRVZFTlRfQ0xJQ0ssIChfdGhpcy5fY2xpY2sgPSBwcm94eShfdGhpcy5jbGljaywgX3RoaXMpKSk7XG4gICAgICBhZGRMaXN0ZW5lcih2aWV3ZXIsIEVWRU5UX1dIRUVMLCAoX3RoaXMuX3doZWVsID0gcHJveHkoX3RoaXMud2hlZWwsIF90aGlzKSkpO1xuICAgICAgYWRkTGlzdGVuZXIoX3RoaXMuY2FudmFzLCBFVkVOVF9NT1VTRURPV04sIChfdGhpcy5fbW91c2Vkb3duID0gcHJveHkoX3RoaXMubW91c2Vkb3duLCBfdGhpcykpKTtcbiAgICAgIGFkZExpc3RlbmVyKGRvY3VtZW50LCBFVkVOVF9NT1VTRU1PVkUsIChfdGhpcy5fbW91c2Vtb3ZlID0gcHJveHkoX3RoaXMubW91c2Vtb3ZlLCBfdGhpcykpKTtcbiAgICAgIGFkZExpc3RlbmVyKGRvY3VtZW50LCBFVkVOVF9NT1VTRVVQLCAoX3RoaXMuX21vdXNldXAgPSBwcm94eShfdGhpcy5tb3VzZXVwLCBfdGhpcykpKTtcbiAgICAgIGFkZExpc3RlbmVyKGRvY3VtZW50LCBFVkVOVF9LRVlET1dOLCAoX3RoaXMuX2tleWRvd24gPSBwcm94eShfdGhpcy5rZXlkb3duLCBfdGhpcykpKTtcbiAgICAgIGFkZExpc3RlbmVyKHdpbmRvdywgRVZFTlRfUkVTSVpFLCAoX3RoaXMuX3Jlc2l6ZSA9IHByb3h5KF90aGlzLnJlc2l6ZSwgX3RoaXMpKSk7XG4gICAgfSxcblxuICAgIHVuYmluZDogZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgIHZhciBvcHRpb25zID0gX3RoaXMub3B0aW9ucztcbiAgICAgIHZhciBlbGVtZW50ID0gX3RoaXMuZWxlbWVudDtcbiAgICAgIHZhciB2aWV3ZXIgPSBfdGhpcy52aWV3ZXI7XG5cbiAgICAgIGlmIChpc0Z1bmN0aW9uKG9wdGlvbnMudmlldykpIHtcbiAgICAgICAgcmVtb3ZlTGlzdGVuZXIoZWxlbWVudCwgRVZFTlRfVklFVywgb3B0aW9ucy52aWV3KTtcbiAgICAgIH1cblxuICAgICAgaWYgKGlzRnVuY3Rpb24ob3B0aW9ucy52aWV3ZWQpKSB7XG4gICAgICAgIHJlbW92ZUxpc3RlbmVyKGVsZW1lbnQsIEVWRU5UX1ZJRVdFRCwgb3B0aW9ucy52aWV3ZWQpO1xuICAgICAgfVxuXG4gICAgICByZW1vdmVMaXN0ZW5lcih2aWV3ZXIsIEVWRU5UX0NMSUNLLCBfdGhpcy5fY2xpY2spO1xuICAgICAgcmVtb3ZlTGlzdGVuZXIodmlld2VyLCBFVkVOVF9XSEVFTCwgX3RoaXMuX3doZWVsKTtcbiAgICAgIHJlbW92ZUxpc3RlbmVyKF90aGlzLmNhbnZhcywgRVZFTlRfTU9VU0VET1dOLCBfdGhpcy5fbW91c2Vkb3duKTtcbiAgICAgIHJlbW92ZUxpc3RlbmVyKGRvY3VtZW50LCBFVkVOVF9NT1VTRU1PVkUsIF90aGlzLl9tb3VzZW1vdmUpO1xuICAgICAgcmVtb3ZlTGlzdGVuZXIoZG9jdW1lbnQsIEVWRU5UX01PVVNFVVAsIF90aGlzLl9tb3VzZXVwKTtcbiAgICAgIHJlbW92ZUxpc3RlbmVyKGRvY3VtZW50LCBFVkVOVF9LRVlET1dOLCBfdGhpcy5fa2V5ZG93bik7XG4gICAgICByZW1vdmVMaXN0ZW5lcih3aW5kb3csIEVWRU5UX1JFU0laRSwgX3RoaXMuX3Jlc2l6ZSk7XG4gICAgfSxcblxuICAgIHJlbmRlcjogZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIF90aGlzID0gdGhpcztcblxuICAgICAgX3RoaXMuaW5pdENvbnRhaW5lcigpO1xuICAgICAgX3RoaXMuaW5pdFZpZXdlcigpO1xuICAgICAgX3RoaXMuaW5pdExpc3QoKTtcbiAgICAgIF90aGlzLnJlbmRlclZpZXdlcigpO1xuICAgIH0sXG5cbiAgICBpbml0Q29udGFpbmVyOiBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gICAgICBfdGhpcy5jb250YWluZXJEYXRhID0ge1xuICAgICAgICB3aWR0aDogd2luZG93LmlubmVyV2lkdGgsXG4gICAgICAgIGhlaWdodDogd2luZG93LmlubmVySGVpZ2h0XG4gICAgICB9O1xuICAgIH0sXG5cbiAgICBpbml0Vmlld2VyOiBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgdmFyIG9wdGlvbnMgPSBfdGhpcy5vcHRpb25zO1xuICAgICAgdmFyIHBhcmVudCA9IF90aGlzLnBhcmVudDtcbiAgICAgIHZhciB2aWV3ZXJEYXRhO1xuXG4gICAgICBpZiAob3B0aW9ucy5pbmxpbmUpIHtcbiAgICAgICAgX3RoaXMucGFyZW50RGF0YSA9IHZpZXdlckRhdGEgPSB7XG4gICAgICAgICAgd2lkdGg6IG1heChwYXJlbnQub2Zmc2V0V2lkdGgsIG9wdGlvbnMubWluV2lkdGgpLFxuICAgICAgICAgIGhlaWdodDogbWF4KHBhcmVudC5vZmZzZXRIZWlnaHQsIG9wdGlvbnMubWluSGVpZ2h0KVxuICAgICAgICB9O1xuICAgICAgfVxuXG4gICAgICBpZiAoX3RoaXMuaXNGdWxsZWQgfHwgIXZpZXdlckRhdGEpIHtcbiAgICAgICAgdmlld2VyRGF0YSA9IF90aGlzLmNvbnRhaW5lckRhdGE7XG4gICAgICB9XG5cbiAgICAgIF90aGlzLnZpZXdlckRhdGEgPSBleHRlbmQoe30sIHZpZXdlckRhdGEpO1xuICAgIH0sXG5cbiAgICByZW5kZXJWaWV3ZXI6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgICAgIGlmIChfdGhpcy5vcHRpb25zLmlubGluZSAmJiAhX3RoaXMuaXNGdWxsZWQpIHtcbiAgICAgICAgc2V0U3R5bGUoX3RoaXMudmlld2VyLCBfdGhpcy52aWV3ZXJEYXRhKTtcbiAgICAgIH1cbiAgICB9LFxuXG4gICAgaW5pdExpc3Q6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICB2YXIgb3B0aW9ucyA9IF90aGlzLm9wdGlvbnM7XG4gICAgICB2YXIgZWxlbWVudCA9IF90aGlzLmVsZW1lbnQ7XG4gICAgICB2YXIgbGlzdCA9IF90aGlzLmxpc3Q7XG4gICAgICB2YXIgaXRlbXMgPSBbXTtcblxuICAgICAgZWFjaChfdGhpcy5pbWFnZXMsIGZ1bmN0aW9uIChpbWFnZSwgaSkge1xuICAgICAgICB2YXIgc3JjID0gaW1hZ2Uuc3JjO1xuICAgICAgICB2YXIgYWx0ID0gaW1hZ2UuYWx0IHx8IGdldEltYWdlTmFtZShzcmMpO1xuICAgICAgICB2YXIgdXJsID0gb3B0aW9ucy51cmw7XG5cbiAgICAgICAgaWYgKCFzcmMpIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoaXNTdHJpbmcodXJsKSkge1xuICAgICAgICAgIHVybCA9IGltYWdlLmdldEF0dHJpYnV0ZSh1cmwpO1xuICAgICAgICB9IGVsc2UgaWYgKGlzRnVuY3Rpb24odXJsKSkge1xuICAgICAgICAgIHVybCA9IHVybC5jYWxsKGltYWdlLCBpbWFnZSk7XG4gICAgICAgIH1cblxuICAgICAgICBpdGVtcy5wdXNoKFxuICAgICAgICAgICc8bGk+JyArXG4gICAgICAgICAgICAnPGltZycgK1xuICAgICAgICAgICAgICAnIHNyYz1cIicgKyBzcmMgKyAnXCInICtcbiAgICAgICAgICAgICAgJyBkYXRhLWFjdGlvbj1cInZpZXdcIicgK1xuICAgICAgICAgICAgICAnIGRhdGEtaW5kZXg9XCInICsgIGkgKyAnXCInICtcbiAgICAgICAgICAgICAgJyBkYXRhLW9yaWdpbmFsLXVybD1cIicgKyAgKHVybCB8fCBzcmMpICsgJ1wiJyArXG4gICAgICAgICAgICAgICcgYWx0PVwiJyArICBhbHQgKyAnXCInICtcbiAgICAgICAgICAgICc+JyArXG4gICAgICAgICAgJzwvbGk+J1xuICAgICAgICApO1xuICAgICAgfSk7XG5cbiAgICAgIGxpc3QuaW5uZXJIVE1MID0gaXRlbXMuam9pbignJyk7XG5cbiAgICAgIGVhY2goZ2V0QnlUYWcobGlzdCwgJ2ltZycpLCBmdW5jdGlvbiAoaW1hZ2UpIHtcbiAgICAgICAgc2V0RGF0YShpbWFnZSwgJ2ZpbGxlZCcsIHRydWUpO1xuICAgICAgICBhZGRMaXN0ZW5lcihpbWFnZSwgRVZFTlRfTE9BRCwgcHJveHkoX3RoaXMubG9hZEltYWdlLCBfdGhpcyksIHRydWUpO1xuICAgICAgfSk7XG5cbiAgICAgIF90aGlzLml0ZW1zID0gZ2V0QnlUYWcobGlzdCwgJ2xpJyk7XG5cbiAgICAgIGlmIChvcHRpb25zLnRyYW5zaXRpb24pIHtcbiAgICAgICAgYWRkTGlzdGVuZXIoZWxlbWVudCwgRVZFTlRfVklFV0VELCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgYWRkQ2xhc3MobGlzdCwgQ0xBU1NfVFJBTlNJVElPTik7XG4gICAgICAgIH0sIHRydWUpO1xuICAgICAgfVxuICAgIH0sXG5cbiAgICByZW5kZXJMaXN0OiBmdW5jdGlvbiAoaW5kZXgpIHtcbiAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICB2YXIgaSA9IGluZGV4IHx8IF90aGlzLmluZGV4O1xuICAgICAgdmFyIHdpZHRoID0gX3RoaXMuaXRlbXNbaV0ub2Zmc2V0V2lkdGggfHwgMzA7XG4gICAgICB2YXIgb3V0ZXJXaWR0aCA9IHdpZHRoICsgMTsgLy8gMSBwaXhlbCBvZiBgbWFyZ2luLWxlZnRgIHdpZHRoXG5cbiAgICAgIC8vIFBsYWNlIHRoZSBhY3RpdmUgaXRlbSBpbiB0aGUgY2VudGVyIG9mIHRoZSBzY3JlZW5cbiAgICAgIHNldFN0eWxlKF90aGlzLmxpc3QsIHtcbiAgICAgICAgd2lkdGg6IG91dGVyV2lkdGggKiBfdGhpcy5sZW5ndGgsXG4gICAgICAgIG1hcmdpbkxlZnQ6IChfdGhpcy52aWV3ZXJEYXRhLndpZHRoIC0gd2lkdGgpIC8gMiAtIG91dGVyV2lkdGggKiBpXG4gICAgICB9KTtcbiAgICB9LFxuXG4gICAgcmVzZXRMaXN0OiBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gICAgICBlbXB0eShfdGhpcy5saXN0KTtcbiAgICAgIHJlbW92ZUNsYXNzKF90aGlzLmxpc3QsIENMQVNTX1RSQU5TSVRJT04pO1xuICAgICAgc2V0U3R5bGUoe1xuICAgICAgICBtYXJnaW5MZWZ0OiAwXG4gICAgICB9KTtcbiAgICB9LFxuXG4gICAgaW5pdEltYWdlOiBmdW5jdGlvbiAoY2FsbGJhY2spIHtcbiAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICB2YXIgb3B0aW9ucyA9IF90aGlzLm9wdGlvbnM7XG4gICAgICB2YXIgaW1hZ2UgPSBfdGhpcy5pbWFnZTtcbiAgICAgIHZhciB2aWV3ZXJEYXRhID0gX3RoaXMudmlld2VyRGF0YTtcbiAgICAgIHZhciBmb290ZXJIZWlnaHQgPSBfdGhpcy5mb290ZXIub2Zmc2V0SGVpZ2h0O1xuICAgICAgdmFyIHZpZXdlcldpZHRoID0gdmlld2VyRGF0YS53aWR0aDtcbiAgICAgIHZhciB2aWV3ZXJIZWlnaHQgPSBtYXgodmlld2VyRGF0YS5oZWlnaHQgLSBmb290ZXJIZWlnaHQsIGZvb3RlckhlaWdodCk7XG4gICAgICB2YXIgb2xkSW1hZ2VEYXRhID0gX3RoaXMuaW1hZ2VEYXRhIHx8IHt9O1xuXG4gICAgICBnZXRJbWFnZVNpemUoaW1hZ2UsIGZ1bmN0aW9uIChuYXR1cmFsV2lkdGgsIG5hdHVyYWxIZWlnaHQpIHtcbiAgICAgICAgdmFyIGFzcGVjdFJhdGlvID0gbmF0dXJhbFdpZHRoIC8gbmF0dXJhbEhlaWdodDtcbiAgICAgICAgdmFyIHdpZHRoID0gdmlld2VyV2lkdGg7XG4gICAgICAgIHZhciBoZWlnaHQgPSB2aWV3ZXJIZWlnaHQ7XG4gICAgICAgIHZhciBpbml0aWFsSW1hZ2VEYXRhO1xuICAgICAgICB2YXIgaW1hZ2VEYXRhO1xuXG4gICAgICAgIGlmICh2aWV3ZXJIZWlnaHQgKiBhc3BlY3RSYXRpbyA+IHZpZXdlcldpZHRoKSB7XG4gICAgICAgICAgaGVpZ2h0ID0gdmlld2VyV2lkdGggLyBhc3BlY3RSYXRpbztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB3aWR0aCA9IHZpZXdlckhlaWdodCAqIGFzcGVjdFJhdGlvO1xuICAgICAgICB9XG5cbiAgICAgICAgd2lkdGggPSBtaW4od2lkdGggKiAwLjksIG5hdHVyYWxXaWR0aCk7XG4gICAgICAgIGhlaWdodCA9IG1pbihoZWlnaHQgKiAwLjksIG5hdHVyYWxIZWlnaHQpO1xuXG4gICAgICAgIGltYWdlRGF0YSA9IHtcbiAgICAgICAgICBuYXR1cmFsV2lkdGg6IG5hdHVyYWxXaWR0aCxcbiAgICAgICAgICBuYXR1cmFsSGVpZ2h0OiBuYXR1cmFsSGVpZ2h0LFxuICAgICAgICAgIGFzcGVjdFJhdGlvOiBhc3BlY3RSYXRpbyxcbiAgICAgICAgICByYXRpbzogd2lkdGggLyBuYXR1cmFsV2lkdGgsXG4gICAgICAgICAgd2lkdGg6IHdpZHRoLFxuICAgICAgICAgIGhlaWdodDogaGVpZ2h0LFxuICAgICAgICAgIGxlZnQ6ICh2aWV3ZXJXaWR0aCAtIHdpZHRoKSAvIDIsXG4gICAgICAgICAgdG9wOiAodmlld2VySGVpZ2h0IC0gaGVpZ2h0KSAvIDJcbiAgICAgICAgfTtcblxuICAgICAgICBpbml0aWFsSW1hZ2VEYXRhID0gZXh0ZW5kKHt9LCBpbWFnZURhdGEpO1xuXG4gICAgICAgIGlmIChvcHRpb25zLnJvdGF0YWJsZSkge1xuICAgICAgICAgIGltYWdlRGF0YS5yb3RhdGUgPSBvbGRJbWFnZURhdGEucm90YXRlIHx8IDA7XG4gICAgICAgICAgaW5pdGlhbEltYWdlRGF0YS5yb3RhdGUgPSAwO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKG9wdGlvbnMuc2NhbGFibGUpIHtcbiAgICAgICAgICBpbWFnZURhdGEuc2NhbGVYID0gb2xkSW1hZ2VEYXRhLnNjYWxlWCB8fCAxO1xuICAgICAgICAgIGltYWdlRGF0YS5zY2FsZVkgPSBvbGRJbWFnZURhdGEuc2NhbGVZIHx8IDE7XG4gICAgICAgICAgaW5pdGlhbEltYWdlRGF0YS5zY2FsZVggPSAxO1xuICAgICAgICAgIGluaXRpYWxJbWFnZURhdGEuc2NhbGVZID0gMTtcbiAgICAgICAgfVxuXG4gICAgICAgIF90aGlzLmltYWdlRGF0YSA9IGltYWdlRGF0YTtcbiAgICAgICAgX3RoaXMuaW5pdGlhbEltYWdlRGF0YSA9IGluaXRpYWxJbWFnZURhdGE7XG5cbiAgICAgICAgaWYgKGlzRnVuY3Rpb24oY2FsbGJhY2spKSB7XG4gICAgICAgICAgY2FsbGJhY2soKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfSxcblxuICAgIHJlbmRlckltYWdlOiBmdW5jdGlvbiAoY2FsbGJhY2spIHtcbiAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICB2YXIgaW1hZ2UgPSBfdGhpcy5pbWFnZTtcbiAgICAgIHZhciBpbWFnZURhdGEgPSBfdGhpcy5pbWFnZURhdGE7XG4gICAgICB2YXIgdHJhbnNmb3JtID0gZ2V0VHJhbnNmb3JtKGltYWdlRGF0YSk7XG5cbiAgICAgIHNldFN0eWxlKGltYWdlLCB7XG4gICAgICAgIHdpZHRoOiBpbWFnZURhdGEud2lkdGgsXG4gICAgICAgIGhlaWdodDogaW1hZ2VEYXRhLmhlaWdodCxcbiAgICAgICAgbWFyZ2luTGVmdDogaW1hZ2VEYXRhLmxlZnQsXG4gICAgICAgIG1hcmdpblRvcDogaW1hZ2VEYXRhLnRvcCxcbiAgICAgICAgV2Via2l0VHJhbnNmb3JtOiB0cmFuc2Zvcm0sXG4gICAgICAgIG1zVHJhbnNmb3JtOiB0cmFuc2Zvcm0sXG4gICAgICAgIHRyYW5zZm9ybTogdHJhbnNmb3JtXG4gICAgICB9KTtcblxuICAgICAgaWYgKGlzRnVuY3Rpb24oY2FsbGJhY2spKSB7XG4gICAgICAgIGlmIChfdGhpcy50cmFuc2l0aW9uaW5nKSB7XG4gICAgICAgICAgYWRkTGlzdGVuZXIoaW1hZ2UsIEVWRU5UX1RSQU5TSVRJT05FTkQsIGNhbGxiYWNrLCB0cnVlKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBjYWxsYmFjaygpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSxcblxuICAgIHJlc2V0SW1hZ2U6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgICAgIC8vIHRoaXMuaW1hZ2Ugb25seSBkZWZpbmVkIGFmdGVyIHZpZXdlZFxuICAgICAgaWYgKF90aGlzLmltYWdlKSB7XG4gICAgICAgIHJlbW92ZUNoaWxkKF90aGlzLmltYWdlKTtcbiAgICAgICAgX3RoaXMuaW1hZ2UgPSBudWxsO1xuICAgICAgfVxuICAgIH0sXG5cbiAgICBzdGFydDogZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgdmFyIGUgPSBnZXRFdmVudChldmVudCk7XG4gICAgICB2YXIgdGFyZ2V0ID0gZS50YXJnZXQ7XG5cbiAgICAgIGlmICh0YXJnZXQudGFnTmFtZS50b0xvd2VyQ2FzZSgpID09PSAnaW1nJykge1xuICAgICAgICBfdGhpcy50YXJnZXQgPSB0YXJnZXQ7XG4gICAgICAgIF90aGlzLnNob3coKTtcbiAgICAgIH1cbiAgICB9LFxuXG4gICAgY2xpY2s6IGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgIHZhciBlID0gZ2V0RXZlbnQoZXZlbnQpO1xuICAgICAgdmFyIHRhcmdldCA9IGUudGFyZ2V0O1xuICAgICAgdmFyIGFjdGlvbiA9IGdldERhdGEodGFyZ2V0LCAnYWN0aW9uJyk7XG4gICAgICB2YXIgaW1hZ2VEYXRhID0gX3RoaXMuaW1hZ2VEYXRhO1xuXG4gICAgICBzd2l0Y2ggKGFjdGlvbikge1xuICAgICAgICBjYXNlICdtaXgnOlxuICAgICAgICAgIGlmIChfdGhpcy5pc1BsYXllZCkge1xuICAgICAgICAgICAgX3RoaXMuc3RvcCgpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpZiAoX3RoaXMub3B0aW9ucy5pbmxpbmUpIHtcbiAgICAgICAgICAgICAgaWYgKF90aGlzLmlzRnVsbGVkKSB7XG4gICAgICAgICAgICAgICAgX3RoaXMuZXhpdCgpO1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIF90aGlzLmZ1bGwoKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgX3RoaXMuaGlkZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cblxuICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgIGNhc2UgJ3ZpZXcnOlxuICAgICAgICAgIF90aGlzLnZpZXcoZ2V0RGF0YSh0YXJnZXQsICdpbmRleCcpKTtcbiAgICAgICAgICBicmVhaztcblxuICAgICAgICBjYXNlICd6b29tLWluJzpcbiAgICAgICAgICBfdGhpcy56b29tKDAuMSwgdHJ1ZSk7XG4gICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgY2FzZSAnem9vbS1vdXQnOlxuICAgICAgICAgIF90aGlzLnpvb20oLTAuMSwgdHJ1ZSk7XG4gICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgY2FzZSAnb25lLXRvLW9uZSc6XG4gICAgICAgICAgX3RoaXMudG9nZ2xlKCk7XG4gICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgY2FzZSAncmVzZXQnOlxuICAgICAgICAgIF90aGlzLnJlc2V0KCk7XG4gICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgY2FzZSAncHJldic6XG4gICAgICAgICAgX3RoaXMucHJldigpO1xuICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgIGNhc2UgJ3BsYXknOlxuICAgICAgICAgIF90aGlzLnBsYXkoKTtcbiAgICAgICAgICBicmVhaztcblxuICAgICAgICBjYXNlICduZXh0JzpcbiAgICAgICAgICBfdGhpcy5uZXh0KCk7XG4gICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgY2FzZSAncm90YXRlLWxlZnQnOlxuICAgICAgICAgIF90aGlzLnJvdGF0ZSgtOTApO1xuICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgIGNhc2UgJ3JvdGF0ZS1yaWdodCc6XG4gICAgICAgICAgX3RoaXMucm90YXRlKDkwKTtcbiAgICAgICAgICBicmVhaztcblxuICAgICAgICBjYXNlICdmbGlwLWhvcml6b250YWwnOlxuICAgICAgICAgIF90aGlzLnNjYWxlWCgtaW1hZ2VEYXRhLnNjYWxlWCB8fCAtMSk7XG4gICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgY2FzZSAnZmxpcC12ZXJ0aWNhbCc6XG4gICAgICAgICAgX3RoaXMuc2NhbGVZKC1pbWFnZURhdGEuc2NhbGVZIHx8IC0xKTtcbiAgICAgICAgICBicmVhaztcblxuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIGlmIChfdGhpcy5pc1BsYXllZCkge1xuICAgICAgICAgICAgX3RoaXMuc3RvcCgpO1xuICAgICAgICAgIH1cbiAgICAgIH1cbiAgICB9LFxuXG4gICAgbG9hZDogZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgIHZhciBvcHRpb25zID0gX3RoaXMub3B0aW9ucztcbiAgICAgIHZhciBpbWFnZSA9IF90aGlzLmltYWdlO1xuICAgICAgdmFyIGluZGV4ID0gX3RoaXMuaW5kZXg7XG4gICAgICB2YXIgdmlld2VyRGF0YSA9IF90aGlzLnZpZXdlckRhdGE7XG5cbiAgICAgIGlmIChfdGhpcy50aW1lb3V0KSB7XG4gICAgICAgIGNsZWFyVGltZW91dChfdGhpcy50aW1lb3V0KTtcbiAgICAgICAgX3RoaXMudGltZW91dCA9IGZhbHNlO1xuICAgICAgfVxuXG4gICAgICByZW1vdmVDbGFzcyhpbWFnZSwgQ0xBU1NfSU5WSVNJQkxFKTtcblxuICAgICAgaW1hZ2Uuc3R5bGUuY3NzVGV4dCA9IChcbiAgICAgICAgJ3dpZHRoOjA7JyArXG4gICAgICAgICdoZWlnaHQ6MDsnICtcbiAgICAgICAgJ21hcmdpbi1sZWZ0OicgKyB2aWV3ZXJEYXRhLndpZHRoIC8gMiArICdweDsnICtcbiAgICAgICAgJ21hcmdpbi10b3A6JyArIHZpZXdlckRhdGEuaGVpZ2h0IC8gMiArICdweDsnICtcbiAgICAgICAgJ21heC13aWR0aDpub25lIWltcG9ydGFudDsnICtcbiAgICAgICAgJ3Zpc2liaWxpdHk6dmlzaWJsZTsnXG4gICAgICApO1xuXG4gICAgICBfdGhpcy5pbml0SW1hZ2UoZnVuY3Rpb24gKCkge1xuICAgICAgICB0b2dnbGVDbGFzcyhpbWFnZSwgQ0xBU1NfVFJBTlNJVElPTiwgb3B0aW9ucy50cmFuc2l0aW9uKTtcbiAgICAgICAgdG9nZ2xlQ2xhc3MoaW1hZ2UsIENMQVNTX01PVkUsIG9wdGlvbnMubW92YWJsZSk7XG5cbiAgICAgICAgX3RoaXMucmVuZGVySW1hZ2UoZnVuY3Rpb24gKCkge1xuICAgICAgICAgIF90aGlzLmlzVmlld2VkID0gdHJ1ZTtcbiAgICAgICAgICBkaXNwYXRjaEV2ZW50KF90aGlzLmVsZW1lbnQsIEVWRU5UX1ZJRVdFRCwge1xuICAgICAgICAgICAgb3JpZ2luYWxJbWFnZTogX3RoaXMuaW1hZ2VzW2luZGV4XSxcbiAgICAgICAgICAgIGluZGV4OiBpbmRleCxcbiAgICAgICAgICAgIGltYWdlOiBpbWFnZVxuICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgIH0sXG5cbiAgICBsb2FkSW1hZ2U6IGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgdmFyIGUgPSBnZXRFdmVudChldmVudCk7XG4gICAgICB2YXIgaW1hZ2UgPSBlLnRhcmdldDtcbiAgICAgIHZhciBwYXJlbnQgPSBpbWFnZS5wYXJlbnROb2RlO1xuICAgICAgdmFyIHBhcmVudFdpZHRoID0gcGFyZW50Lm9mZnNldFdpZHRoIHx8IDMwO1xuICAgICAgdmFyIHBhcmVudEhlaWdodCA9IHBhcmVudC5vZmZzZXRIZWlnaHQgfHwgNTA7XG4gICAgICB2YXIgZmlsbGVkID0gISFnZXREYXRhKGltYWdlLCAnZmlsbGVkJyk7XG5cbiAgICAgIGdldEltYWdlU2l6ZShpbWFnZSwgZnVuY3Rpb24gKG5hdHVyYWxXaWR0aCwgbmF0dXJhbEhlaWdodCkge1xuICAgICAgICB2YXIgYXNwZWN0UmF0aW8gPSBuYXR1cmFsV2lkdGggLyBuYXR1cmFsSGVpZ2h0O1xuICAgICAgICB2YXIgd2lkdGggPSBwYXJlbnRXaWR0aDtcbiAgICAgICAgdmFyIGhlaWdodCA9IHBhcmVudEhlaWdodDtcblxuICAgICAgICBpZiAocGFyZW50SGVpZ2h0ICogYXNwZWN0UmF0aW8gPiBwYXJlbnRXaWR0aCkge1xuICAgICAgICAgIGlmIChmaWxsZWQpIHtcbiAgICAgICAgICAgIHdpZHRoID0gcGFyZW50SGVpZ2h0ICogYXNwZWN0UmF0aW87XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGhlaWdodCA9IHBhcmVudFdpZHRoIC8gYXNwZWN0UmF0aW87XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGlmIChmaWxsZWQpIHtcbiAgICAgICAgICAgIGhlaWdodCA9IHBhcmVudFdpZHRoIC8gYXNwZWN0UmF0aW87XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHdpZHRoID0gcGFyZW50SGVpZ2h0ICogYXNwZWN0UmF0aW87XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgc2V0U3R5bGUoaW1hZ2UsIHtcbiAgICAgICAgICB3aWR0aDogd2lkdGgsXG4gICAgICAgICAgaGVpZ2h0OiBoZWlnaHQsXG4gICAgICAgICAgbWFyZ2luTGVmdDogKHBhcmVudFdpZHRoIC0gd2lkdGgpIC8gMixcbiAgICAgICAgICBtYXJnaW5Ub3A6IChwYXJlbnRIZWlnaHQgLSBoZWlnaHQpIC8gMlxuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgIH0sXG5cbiAgICByZXNpemU6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgICAgIF90aGlzLmluaXRDb250YWluZXIoKTtcbiAgICAgIF90aGlzLmluaXRWaWV3ZXIoKTtcbiAgICAgIF90aGlzLnJlbmRlclZpZXdlcigpO1xuICAgICAgX3RoaXMucmVuZGVyTGlzdCgpO1xuXG4gICAgICBpZiAoX3RoaXMuaXNWaWV3ZWQpIHtcbiAgICAgICAgX3RoaXMuaW5pdEltYWdlKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICBfdGhpcy5yZW5kZXJJbWFnZSgpO1xuICAgICAgICB9KTtcbiAgICAgIH1cblxuICAgICAgaWYgKF90aGlzLmlzUGxheWVkKSB7XG4gICAgICAgIGVhY2goZ2V0QnlUYWcoX3RoaXMucGxheWVyLCAnaW1nJyksIGZ1bmN0aW9uIChpbWFnZSkge1xuICAgICAgICAgIGFkZExpc3RlbmVyKGltYWdlLCBFVkVOVF9MT0FELCBwcm94eShfdGhpcy5sb2FkSW1hZ2UsIF90aGlzKSwgdHJ1ZSk7XG4gICAgICAgICAgZGlzcGF0Y2hFdmVudChpbWFnZSwgRVZFTlRfTE9BRCk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH0sXG5cbiAgICB3aGVlbDogZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgdmFyIGUgPSBnZXRFdmVudChldmVudCk7XG4gICAgICB2YXIgcmF0aW8gPSBOdW1iZXIoX3RoaXMub3B0aW9ucy56b29tUmF0aW8pIHx8IDAuMTtcbiAgICAgIHZhciBkZWx0YSA9IDE7XG5cbiAgICAgIGlmICghX3RoaXMuaXNWaWV3ZWQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBwcmV2ZW50RGVmYXVsdChlKTtcblxuICAgICAgLy8gTGltaXQgd2hlZWwgc3BlZWQgdG8gcHJldmVudCB6b29tIHRvbyBmYXN0XG4gICAgICBpZiAoX3RoaXMud2hlZWxpbmcpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBfdGhpcy53aGVlbGluZyA9IHRydWU7XG5cbiAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICBfdGhpcy53aGVlbGluZyA9IGZhbHNlO1xuICAgICAgfSwgNTApO1xuXG4gICAgICBpZiAoZS5kZWx0YVkpIHtcbiAgICAgICAgZGVsdGEgPSBlLmRlbHRhWSA+IDAgPyAxIDogLTE7XG4gICAgICB9IGVsc2UgaWYgKGUud2hlZWxEZWx0YSkge1xuICAgICAgICBkZWx0YSA9IC1lLndoZWVsRGVsdGEgLyAxMjA7XG4gICAgICB9IGVsc2UgaWYgKGUuZGV0YWlsKSB7XG4gICAgICAgIGRlbHRhID0gZS5kZXRhaWwgPiAwID8gMSA6IC0xO1xuICAgICAgfVxuXG4gICAgICBfdGhpcy56b29tKC1kZWx0YSAqIHJhdGlvLCB0cnVlLCBlKTtcbiAgICB9LFxuXG4gICAga2V5ZG93bjogZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgdmFyIGUgPSBnZXRFdmVudChldmVudCk7XG4gICAgICB2YXIgb3B0aW9ucyA9IF90aGlzLm9wdGlvbnM7XG4gICAgICB2YXIga2V5ID0gZS5rZXlDb2RlIHx8IGUud2hpY2ggfHwgZS5jaGFyQ29kZTtcblxuICAgICAgaWYgKCFfdGhpcy5pc0Z1bGxlZCB8fCAhb3B0aW9ucy5rZXlib2FyZCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIHN3aXRjaCAoa2V5KSB7XG5cbiAgICAgICAgLy8gKEtleTogRXNjKVxuICAgICAgICBjYXNlIDI3OlxuICAgICAgICAgIGlmIChfdGhpcy5pc1BsYXllZCkge1xuICAgICAgICAgICAgX3RoaXMuc3RvcCgpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpZiAob3B0aW9ucy5pbmxpbmUpIHtcbiAgICAgICAgICAgICAgaWYgKF90aGlzLmlzRnVsbGVkKSB7XG4gICAgICAgICAgICAgICAgX3RoaXMuZXhpdCgpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBfdGhpcy5oaWRlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgLy8gKEtleTogU3BhY2UpXG4gICAgICAgIGNhc2UgMzI6XG4gICAgICAgICAgaWYgKF90aGlzLmlzUGxheWVkKSB7XG4gICAgICAgICAgICBfdGhpcy5zdG9wKCk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgLy8gVmlldyBwcmV2aW91cyAoS2V5OiDihpApXG4gICAgICAgIGNhc2UgMzc6XG4gICAgICAgICAgX3RoaXMucHJldigpO1xuICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgIC8vIFpvb20gaW4gKEtleTog4oaRKVxuICAgICAgICBjYXNlIDM4OlxuXG4gICAgICAgICAgLy8gUHJldmVudCBzY3JvbGwgb24gRmlyZWZveFxuICAgICAgICAgIHByZXZlbnREZWZhdWx0KGUpO1xuXG4gICAgICAgICAgX3RoaXMuem9vbShvcHRpb25zLnpvb21SYXRpbywgdHJ1ZSk7XG4gICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgLy8gVmlldyBuZXh0IChLZXk6IOKGkilcbiAgICAgICAgY2FzZSAzOTpcbiAgICAgICAgICBfdGhpcy5uZXh0KCk7XG4gICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgLy8gWm9vbSBvdXQgKEtleTog4oaTKVxuICAgICAgICBjYXNlIDQwOlxuXG4gICAgICAgICAgLy8gUHJldmVudCBzY3JvbGwgb24gRmlyZWZveFxuICAgICAgICAgIHByZXZlbnREZWZhdWx0KGUpO1xuXG4gICAgICAgICAgX3RoaXMuem9vbSgtb3B0aW9ucy56b29tUmF0aW8sIHRydWUpO1xuICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgIC8vIFpvb20gb3V0IHRvIGluaXRpYWwgc2l6ZSAoS2V5OiBDdHJsICsgMClcbiAgICAgICAgY2FzZSA0ODpcbiAgICAgICAgICAvLyBHbyB0byBuZXh0XG5cbiAgICAgICAgLy8gWm9vbSBpbiB0byBuYXR1cmFsIHNpemUgKEtleTogQ3RybCArIDEpXG4gICAgICAgIGNhc2UgNDk6XG4gICAgICAgICAgaWYgKGUuY3RybEtleSB8fCBlLnNoaWZ0S2V5KSB7XG4gICAgICAgICAgICBwcmV2ZW50RGVmYXVsdChlKTtcbiAgICAgICAgICAgIF90aGlzLnRvZ2dsZSgpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgIC8vIE5vIGRlZmF1bHRcbiAgICAgIH1cbiAgICB9LFxuXG4gICAgbW91c2Vkb3duOiBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICB2YXIgb3B0aW9ucyA9IF90aGlzLm9wdGlvbnM7XG4gICAgICB2YXIgcG9pbnRlcnMgPSBfdGhpcy5wb2ludGVycztcbiAgICAgIHZhciBlID0gZ2V0RXZlbnQoZXZlbnQpO1xuICAgICAgdmFyIGFjdGlvbiA9IG9wdGlvbnMubW92YWJsZSA/ICdtb3ZlJyA6IGZhbHNlO1xuXG4gICAgICBpZiAoIV90aGlzLmlzVmlld2VkKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgaWYgKGUuY2hhbmdlZFRvdWNoZXMpIHtcbiAgICAgICAgZWFjaChlLmNoYW5nZWRUb3VjaGVzLCBmdW5jdGlvbiAodG91Y2gpIHtcbiAgICAgICAgICBwb2ludGVyc1t0b3VjaC5pZGVudGlmaWVyXSA9IGdldFBvaW50ZXIodG91Y2gpO1xuICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHBvaW50ZXJzW2UucG9pbnRlcklkIHx8IDBdID0gZ2V0UG9pbnRlcihlKTtcbiAgICAgIH1cblxuICAgICAgaWYgKE9iamVjdC5rZXlzKHBvaW50ZXJzKS5sZW5ndGggPiAxKSB7XG4gICAgICAgIGFjdGlvbiA9ICd6b29tJztcbiAgICAgIH0gZWxzZSBpZiAoKGUucG9pbnRlclR5cGUgPT09ICd0b3VjaCcgfHwgZS50eXBlID09PSAndG91Y2htb3ZlJykgJiYgX3RoaXMuaXNTd2l0Y2hhYmxlKCkpIHtcbiAgICAgICAgYWN0aW9uID0gJ3N3aXRjaCc7XG4gICAgICB9XG5cbiAgICAgIF90aGlzLmFjdGlvbiA9IGFjdGlvbjtcbiAgICB9LFxuXG4gICAgbW91c2Vtb3ZlOiBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICB2YXIgb3B0aW9ucyA9IF90aGlzLm9wdGlvbnM7XG4gICAgICB2YXIgcG9pbnRlcnMgPSBfdGhpcy5wb2ludGVycztcbiAgICAgIHZhciBlID0gZ2V0RXZlbnQoZXZlbnQpO1xuICAgICAgdmFyIGFjdGlvbiA9IF90aGlzLmFjdGlvbjtcbiAgICAgIHZhciBpbWFnZSA9IF90aGlzLmltYWdlO1xuXG4gICAgICBpZiAoIV90aGlzLmlzVmlld2VkIHx8ICFhY3Rpb24pIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBwcmV2ZW50RGVmYXVsdChlKTtcblxuICAgICAgaWYgKGUuY2hhbmdlZFRvdWNoZXMpIHtcbiAgICAgICAgZWFjaChlLmNoYW5nZWRUb3VjaGVzLCBmdW5jdGlvbiAodG91Y2gpIHtcbiAgICAgICAgICBleHRlbmQocG9pbnRlcnNbdG91Y2guaWRlbnRpZmllcl0sIGdldFBvaW50ZXIodG91Y2gpLCB0cnVlKTtcbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBleHRlbmQocG9pbnRlcnNbZS5wb2ludGVySWQgfHwgMF0sIGdldFBvaW50ZXIoZSwgdHJ1ZSkpO1xuICAgICAgfVxuXG4gICAgICBpZiAoYWN0aW9uID09PSAnbW92ZScgJiYgb3B0aW9ucy50cmFuc2l0aW9uICYmIGhhc0NsYXNzKGltYWdlLCBDTEFTU19UUkFOU0lUSU9OKSkge1xuICAgICAgICByZW1vdmVDbGFzcyhpbWFnZSwgQ0xBU1NfVFJBTlNJVElPTik7XG4gICAgICB9XG5cbiAgICAgIF90aGlzLmNoYW5nZShlKTtcbiAgICB9LFxuXG4gICAgbW91c2V1cDogZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgdmFyIHBvaW50ZXJzID0gX3RoaXMucG9pbnRlcnM7XG4gICAgICB2YXIgZSA9IGdldEV2ZW50KGV2ZW50KTtcbiAgICAgIHZhciBhY3Rpb24gPSBfdGhpcy5hY3Rpb247XG5cbiAgICAgIGlmICghYWN0aW9uKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgaWYgKGUuY2hhbmdlZFRvdWNoZXMpIHtcbiAgICAgICAgZWFjaChlLmNoYW5nZWRUb3VjaGVzLCBmdW5jdGlvbiAodG91Y2gpIHtcbiAgICAgICAgICBkZWxldGUgcG9pbnRlcnNbdG91Y2guaWRlbnRpZmllcl07XG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZGVsZXRlIHBvaW50ZXJzW2UucG9pbnRlcklkIHx8IDBdO1xuICAgICAgfVxuXG4gICAgICBpZiAoIU9iamVjdC5rZXlzKHBvaW50ZXJzKS5sZW5ndGgpIHtcbiAgICAgICAgaWYgKGFjdGlvbiA9PT0gJ21vdmUnICYmIF90aGlzLm9wdGlvbnMudHJhbnNpdGlvbikge1xuICAgICAgICAgIGFkZENsYXNzKF90aGlzLmltYWdlLCBDTEFTU19UUkFOU0lUSU9OKTtcbiAgICAgICAgfVxuXG4gICAgICAgIF90aGlzLmFjdGlvbiA9IGZhbHNlO1xuICAgICAgfVxuICAgIH0sXG5cbiAgICAvLyBTaG93IHRoZSB2aWV3ZXIgKG9ubHkgYXZhaWxhYmxlIGluIG1vZGFsIG1vZGUpXG4gICAgc2hvdzogZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgIHZhciBvcHRpb25zID0gX3RoaXMub3B0aW9ucztcbiAgICAgIHZhciBlbGVtZW50ID0gX3RoaXMuZWxlbWVudDtcbiAgICAgIHZhciB2aWV3ZXI7XG5cbiAgICAgIGlmIChvcHRpb25zLmlubGluZSB8fCBfdGhpcy50cmFuc2l0aW9uaW5nKSB7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICAgIH1cblxuICAgICAgaWYgKCFfdGhpcy5pc0J1aWx0KSB7XG4gICAgICAgIF90aGlzLmJ1aWxkKCk7XG4gICAgICB9XG5cbiAgICAgIHZpZXdlciA9IF90aGlzLnZpZXdlcjtcblxuICAgICAgaWYgKGlzRnVuY3Rpb24ob3B0aW9ucy5zaG93KSkge1xuICAgICAgICBhZGRMaXN0ZW5lcihlbGVtZW50LCBFVkVOVF9TSE9XLCBvcHRpb25zLnNob3csIHRydWUpO1xuICAgICAgfVxuXG4gICAgICBpZiAoZGlzcGF0Y2hFdmVudChlbGVtZW50LCBFVkVOVF9TSE9XKSA9PT0gZmFsc2UpIHtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgICAgfVxuXG4gICAgICBfdGhpcy5vcGVuKCk7XG4gICAgICByZW1vdmVDbGFzcyh2aWV3ZXIsIENMQVNTX0hJREUpO1xuXG4gICAgICBhZGRMaXN0ZW5lcihlbGVtZW50LCBFVkVOVF9TSE9XTiwgZnVuY3Rpb24gKCkge1xuICAgICAgICBfdGhpcy52aWV3KF90aGlzLnRhcmdldCA/IGluQXJyYXkoX3RoaXMudGFyZ2V0LCB0b0FycmF5KF90aGlzLmltYWdlcykpIDogX3RoaXMuaW5kZXgpO1xuICAgICAgICBfdGhpcy50YXJnZXQgPSBmYWxzZTtcbiAgICAgIH0sIHRydWUpO1xuXG4gICAgICBpZiAob3B0aW9ucy50cmFuc2l0aW9uKSB7XG4gICAgICAgIF90aGlzLnRyYW5zaXRpb25pbmcgPSB0cnVlO1xuICAgICAgICBhZGRDbGFzcyh2aWV3ZXIsIENMQVNTX1RSQU5TSVRJT04pO1xuICAgICAgICBmb3JjZVJlZmxvdyh2aWV3ZXIpO1xuICAgICAgICBhZGRMaXN0ZW5lcih2aWV3ZXIsIEVWRU5UX1RSQU5TSVRJT05FTkQsIHByb3h5KF90aGlzLnNob3duLCBfdGhpcyksIHRydWUpO1xuICAgICAgICBhZGRDbGFzcyh2aWV3ZXIsIENMQVNTX0lOKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGFkZENsYXNzKHZpZXdlciwgQ0xBU1NfSU4pO1xuICAgICAgICBfdGhpcy5zaG93bigpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gX3RoaXM7XG4gICAgfSxcblxuICAgIC8vIEhpZGUgdGhlIHZpZXdlciAob25seSBhdmFpbGFibGUgaW4gbW9kYWwgbW9kZSlcbiAgICBoaWRlOiBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgdmFyIG9wdGlvbnMgPSBfdGhpcy5vcHRpb25zO1xuICAgICAgdmFyIGVsZW1lbnQgPSBfdGhpcy5lbGVtZW50O1xuICAgICAgdmFyIHZpZXdlciA9IF90aGlzLnZpZXdlcjtcblxuICAgICAgaWYgKG9wdGlvbnMuaW5saW5lIHx8IF90aGlzLnRyYW5zaXRpb25pbmcgfHwgIV90aGlzLmlzU2hvd24pIHtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgICAgfVxuXG4gICAgICBpZiAoaXNGdW5jdGlvbihvcHRpb25zLmhpZGUpKSB7XG4gICAgICAgIGFkZExpc3RlbmVyKGVsZW1lbnQsIEVWRU5UX0hJREUsIG9wdGlvbnMuaGlkZSwgdHJ1ZSk7XG4gICAgICB9XG5cbiAgICAgIGlmIChkaXNwYXRjaEV2ZW50KGVsZW1lbnQsIEVWRU5UX0hJREUpID09PSBmYWxzZSkge1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgICB9XG5cbiAgICAgIGlmIChfdGhpcy5pc1ZpZXdlZCAmJiBvcHRpb25zLnRyYW5zaXRpb24pIHtcbiAgICAgICAgX3RoaXMudHJhbnNpdGlvbmluZyA9IHRydWU7XG4gICAgICAgIGFkZExpc3RlbmVyKF90aGlzLmltYWdlLCBFVkVOVF9UUkFOU0lUSU9ORU5ELCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgYWRkTGlzdGVuZXIodmlld2VyLCBFVkVOVF9UUkFOU0lUSU9ORU5ELCBwcm94eShfdGhpcy5oaWRkZW4sIF90aGlzKSwgdHJ1ZSk7XG4gICAgICAgICAgcmVtb3ZlQ2xhc3Modmlld2VyLCBDTEFTU19JTik7XG4gICAgICAgIH0sIHRydWUpO1xuICAgICAgICBfdGhpcy56b29tVG8oMCwgZmFsc2UsIGZhbHNlLCB0cnVlKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJlbW92ZUNsYXNzKHZpZXdlciwgQ0xBU1NfSU4pO1xuICAgICAgICBfdGhpcy5oaWRkZW4oKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBWaWV3IG9uZSBvZiB0aGUgaW1hZ2VzIHdpdGggaW1hZ2UncyBpbmRleFxuICAgICAqXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IGluZGV4XG4gICAgICovXG4gICAgdmlldzogZnVuY3Rpb24gKGluZGV4KSB7XG4gICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgdmFyIGVsZW1lbnQgPSBfdGhpcy5lbGVtZW50O1xuICAgICAgdmFyIHRpdGxlID0gX3RoaXMudGl0bGU7XG4gICAgICB2YXIgY2FudmFzID0gX3RoaXMuY2FudmFzO1xuICAgICAgdmFyIGltYWdlO1xuICAgICAgdmFyIGl0ZW07XG4gICAgICB2YXIgaW1nO1xuICAgICAgdmFyIHVybDtcbiAgICAgIHZhciBhbHQ7XG5cbiAgICAgIGluZGV4ID0gTnVtYmVyKGluZGV4KSB8fCAwO1xuXG4gICAgICBpZiAoIV90aGlzLmlzU2hvd24gfHwgX3RoaXMuaXNQbGF5ZWQgfHwgaW5kZXggPCAwIHx8IGluZGV4ID49IF90aGlzLmxlbmd0aCB8fFxuICAgICAgICBfdGhpcy5pc1ZpZXdlZCAmJiBpbmRleCA9PT0gX3RoaXMuaW5kZXgpIHtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgICAgfVxuXG4gICAgICBpdGVtID0gX3RoaXMuaXRlbXNbaW5kZXhdO1xuICAgICAgaW1nID0gZ2V0QnlUYWcoaXRlbSwgJ2ltZycpWzBdO1xuICAgICAgdXJsID0gZ2V0RGF0YShpbWcsICdvcmlnaW5hbFVybCcpO1xuICAgICAgYWx0ID0gaW1nLmdldEF0dHJpYnV0ZSgnYWx0Jyk7XG5cbiAgICAgIGltYWdlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW1nJyk7XG4gICAgICBpbWFnZS5zcmMgPSB1cmw7XG4gICAgICBpbWFnZS5hbHQgPSBhbHQ7XG5cbiAgICAgIGlmIChkaXNwYXRjaEV2ZW50KGVsZW1lbnQsIEVWRU5UX1ZJRVcsIHtcbiAgICAgICAgb3JpZ2luYWxJbWFnZTogX3RoaXMuaW1hZ2VzW2luZGV4XSxcbiAgICAgICAgaW5kZXg6IGluZGV4LFxuICAgICAgICBpbWFnZTogaW1hZ2VcbiAgICAgIH0pID09PSBmYWxzZSkge1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgICB9XG5cbiAgICAgIF90aGlzLmltYWdlID0gaW1hZ2U7XG5cbiAgICAgIGlmIChfdGhpcy5pc1ZpZXdlZCkge1xuICAgICAgICByZW1vdmVDbGFzcyhfdGhpcy5pdGVtc1tfdGhpcy5pbmRleF0sIENMQVNTX0FDVElWRSk7XG4gICAgICB9XG5cbiAgICAgIGFkZENsYXNzKGl0ZW0sIENMQVNTX0FDVElWRSk7XG5cbiAgICAgIF90aGlzLmlzVmlld2VkID0gZmFsc2U7XG4gICAgICBfdGhpcy5pbmRleCA9IGluZGV4O1xuICAgICAgX3RoaXMuaW1hZ2VEYXRhID0gbnVsbDtcblxuICAgICAgYWRkQ2xhc3MoaW1hZ2UsIENMQVNTX0lOVklTSUJMRSk7XG4gICAgICBlbXB0eShjYW52YXMpO1xuICAgICAgYXBwZW5kQ2hpbGQoY2FudmFzLCBpbWFnZSk7XG5cbiAgICAgIC8vIENlbnRlciBjdXJyZW50IGl0ZW1cbiAgICAgIF90aGlzLnJlbmRlckxpc3QoKTtcblxuICAgICAgLy8gQ2xlYXIgdGl0bGVcbiAgICAgIGVtcHR5KHRpdGxlKTtcblxuICAgICAgLy8gR2VuZXJhdGUgdGl0bGUgYWZ0ZXIgdmlld2VkXG4gICAgICBhZGRMaXN0ZW5lcihlbGVtZW50LCBFVkVOVF9WSUVXRUQsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGltYWdlRGF0YSA9IF90aGlzLmltYWdlRGF0YTtcbiAgICAgICAgdmFyIHdpZHRoID0gaW1hZ2VEYXRhLm5hdHVyYWxXaWR0aDtcbiAgICAgICAgdmFyIGhlaWdodCA9IGltYWdlRGF0YS5uYXR1cmFsSGVpZ2h0O1xuXG4gICAgICAgIHNldFRleHQodGl0bGUsIGFsdCArICcgKCcgKyB3aWR0aCArICcgw5cgJyArIGhlaWdodCArICcpJyk7XG4gICAgICB9LCB0cnVlKTtcblxuICAgICAgaWYgKGltYWdlLmNvbXBsZXRlKSB7XG4gICAgICAgIF90aGlzLmxvYWQoKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGFkZExpc3RlbmVyKGltYWdlLCBFVkVOVF9MT0FELCBwcm94eShfdGhpcy5sb2FkLCBfdGhpcyksIHRydWUpO1xuXG4gICAgICAgIGlmIChfdGhpcy50aW1lb3V0KSB7XG4gICAgICAgICAgY2xlYXJUaW1lb3V0KF90aGlzLnRpbWVvdXQpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gTWFrZSB0aGUgaW1hZ2UgdmlzaWJsZSBpZiBpdCBmYWlscyB0byBsb2FkIHdpdGhpbiAxc1xuICAgICAgICBfdGhpcy50aW1lb3V0ID0gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgcmVtb3ZlQ2xhc3MoaW1hZ2UsIENMQVNTX0lOVklTSUJMRSk7XG4gICAgICAgICAgX3RoaXMudGltZW91dCA9IGZhbHNlO1xuICAgICAgICB9LCAxMDAwKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH0sXG5cbiAgICAvLyBWaWV3IHRoZSBwcmV2aW91cyBpbWFnZVxuICAgIHByZXY6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgICAgIF90aGlzLnZpZXcobWF4KF90aGlzLmluZGV4IC0gMSwgMCkpO1xuXG4gICAgICByZXR1cm4gX3RoaXM7XG4gICAgfSxcblxuICAgIC8vIFZpZXcgdGhlIG5leHQgaW1hZ2VcbiAgICBuZXh0OiBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gICAgICBfdGhpcy52aWV3KG1pbihfdGhpcy5pbmRleCArIDEsIF90aGlzLmxlbmd0aCAtIDEpKTtcblxuICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBNb3ZlIHRoZSBpbWFnZSB3aXRoIHJlbGF0aXZlIG9mZnNldHNcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBvZmZzZXRYXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IG9mZnNldFkgKG9wdGlvbmFsKVxuICAgICAqL1xuICAgIG1vdmU6IGZ1bmN0aW9uIChvZmZzZXRYLCBvZmZzZXRZKSB7XG4gICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgdmFyIGltYWdlRGF0YSA9IF90aGlzLmltYWdlRGF0YTtcblxuICAgICAgX3RoaXMubW92ZVRvKFxuICAgICAgICBpc1VuZGVmaW5lZChvZmZzZXRYKSA/IG9mZnNldFggOiBpbWFnZURhdGEubGVmdCArIE51bWJlcihvZmZzZXRYKSxcbiAgICAgICAgaXNVbmRlZmluZWQob2Zmc2V0WSkgPyBvZmZzZXRZIDogaW1hZ2VEYXRhLnRvcCArIE51bWJlcihvZmZzZXRZKVxuICAgICAgKTtcblxuICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBNb3ZlIHRoZSBpbWFnZSB0byBhbiBhYnNvbHV0ZSBwb2ludFxuICAgICAqXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IHhcbiAgICAgKiBAcGFyYW0ge051bWJlcn0geSAob3B0aW9uYWwpXG4gICAgICovXG4gICAgbW92ZVRvOiBmdW5jdGlvbiAoeCwgeSkge1xuICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgIHZhciBpbWFnZURhdGEgPSBfdGhpcy5pbWFnZURhdGE7XG4gICAgICB2YXIgY2hhbmdlZCA9IGZhbHNlO1xuXG4gICAgICAvLyBJZiBcInlcIiBpcyBub3QgcHJlc2VudCwgaXRzIGRlZmF1bHQgdmFsdWUgaXMgXCJ4XCJcbiAgICAgIGlmIChpc1VuZGVmaW5lZCh5KSkge1xuICAgICAgICB5ID0geDtcbiAgICAgIH1cblxuICAgICAgeCA9IE51bWJlcih4KTtcbiAgICAgIHkgPSBOdW1iZXIoeSk7XG5cbiAgICAgIGlmIChfdGhpcy5pc1ZpZXdlZCAmJiAhX3RoaXMuaXNQbGF5ZWQgJiYgX3RoaXMub3B0aW9ucy5tb3ZhYmxlKSB7XG4gICAgICAgIGlmIChpc051bWJlcih4KSkge1xuICAgICAgICAgIGltYWdlRGF0YS5sZWZ0ID0geDtcbiAgICAgICAgICBjaGFuZ2VkID0gdHJ1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChpc051bWJlcih5KSkge1xuICAgICAgICAgIGltYWdlRGF0YS50b3AgPSB5O1xuICAgICAgICAgIGNoYW5nZWQgPSB0cnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGNoYW5nZWQpIHtcbiAgICAgICAgICBfdGhpcy5yZW5kZXJJbWFnZSgpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBfdGhpcztcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogWm9vbSB0aGUgaW1hZ2Ugd2l0aCBhIHJlbGF0aXZlIHJhdGlvXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gcmF0aW9cbiAgICAgKiBAcGFyYW0ge0Jvb2xlYW59IGhhc1Rvb2x0aXAgKG9wdGlvbmFsKVxuICAgICAqIEBwYXJhbSB7RXZlbnR9IF9vcmlnaW5hbEV2ZW50IChwcml2YXRlKVxuICAgICAqL1xuICAgIHpvb206IGZ1bmN0aW9uIChyYXRpbywgaGFzVG9vbHRpcCwgX29yaWdpbmFsRXZlbnQpIHtcbiAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICB2YXIgaW1hZ2VEYXRhID0gX3RoaXMuaW1hZ2VEYXRhO1xuXG4gICAgICByYXRpbyA9IE51bWJlcihyYXRpbyk7XG5cbiAgICAgIGlmIChyYXRpbyA8IDApIHtcbiAgICAgICAgcmF0aW8gPSAgMSAvICgxIC0gcmF0aW8pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmF0aW8gPSAxICsgcmF0aW87XG4gICAgICB9XG5cbiAgICAgIF90aGlzLnpvb21UbyhpbWFnZURhdGEud2lkdGggKiByYXRpbyAvIGltYWdlRGF0YS5uYXR1cmFsV2lkdGgsIGhhc1Rvb2x0aXAsIF9vcmlnaW5hbEV2ZW50KTtcblxuICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBab29tIHRoZSBpbWFnZSB0byBhbiBhYnNvbHV0ZSByYXRpb1xuICAgICAqXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IHJhdGlvXG4gICAgICogQHBhcmFtIHtCb29sZWFufSBoYXNUb29sdGlwIChvcHRpb25hbClcbiAgICAgKiBAcGFyYW0ge0V2ZW50fSBfb3JpZ2luYWxFdmVudCAocHJpdmF0ZSlcbiAgICAgKiBAcGFyYW0ge0Jvb2xlYW59IF96b29tYWJsZSAocHJpdmF0ZSlcbiAgICAgKi9cbiAgICB6b29tVG86IGZ1bmN0aW9uIChyYXRpbywgaGFzVG9vbHRpcCwgX29yaWdpbmFsRXZlbnQsIF96b29tYWJsZSkge1xuICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgIHZhciBvcHRpb25zID0gX3RoaXMub3B0aW9ucztcbiAgICAgIHZhciBwb2ludGVycyA9IF90aGlzLnBvaW50ZXJzO1xuICAgICAgdmFyIG1pblpvb21SYXRpbyA9IDAuMDE7XG4gICAgICB2YXIgbWF4Wm9vbVJhdGlvID0gMTAwO1xuICAgICAgdmFyIGltYWdlRGF0YSA9IF90aGlzLmltYWdlRGF0YTtcbiAgICAgIHZhciBuZXdXaWR0aDtcbiAgICAgIHZhciBuZXdIZWlnaHQ7XG4gICAgICB2YXIgb2Zmc2V0O1xuICAgICAgdmFyIGNlbnRlcjtcblxuICAgICAgcmF0aW8gPSBtYXgoMCwgcmF0aW8pO1xuXG4gICAgICBpZiAoaXNOdW1iZXIocmF0aW8pICYmIF90aGlzLmlzVmlld2VkICYmICFfdGhpcy5pc1BsYXllZCAmJiAoX3pvb21hYmxlIHx8IG9wdGlvbnMuem9vbWFibGUpKSB7XG4gICAgICAgIGlmICghX3pvb21hYmxlKSB7XG4gICAgICAgICAgbWluWm9vbVJhdGlvID0gbWF4KG1pblpvb21SYXRpbywgb3B0aW9ucy5taW5ab29tUmF0aW8pO1xuICAgICAgICAgIG1heFpvb21SYXRpbyA9IG1pbihtYXhab29tUmF0aW8sIG9wdGlvbnMubWF4Wm9vbVJhdGlvKTtcbiAgICAgICAgICByYXRpbyA9IG1pbihtYXgocmF0aW8sIG1pblpvb21SYXRpbyksIG1heFpvb21SYXRpbyk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAocmF0aW8gPiAwLjk1ICYmIHJhdGlvIDwgMS4wNSkge1xuICAgICAgICAgIHJhdGlvID0gMTtcbiAgICAgICAgfVxuXG4gICAgICAgIG5ld1dpZHRoID0gaW1hZ2VEYXRhLm5hdHVyYWxXaWR0aCAqIHJhdGlvO1xuICAgICAgICBuZXdIZWlnaHQgPSBpbWFnZURhdGEubmF0dXJhbEhlaWdodCAqIHJhdGlvO1xuXG4gICAgICAgIGlmIChfb3JpZ2luYWxFdmVudCkge1xuICAgICAgICAgIG9mZnNldCA9IGdldE9mZnNldChfdGhpcy52aWV3ZXIpO1xuICAgICAgICAgIGNlbnRlciA9IHBvaW50ZXJzICYmIE9iamVjdC5rZXlzKHBvaW50ZXJzKS5sZW5ndGggPyBnZXRQb2ludGVyc0NlbnRlcihwb2ludGVycykgOiB7XG4gICAgICAgICAgICBwYWdlWDogX29yaWdpbmFsRXZlbnQucGFnZVgsXG4gICAgICAgICAgICBwYWdlWTogX29yaWdpbmFsRXZlbnQucGFnZVlcbiAgICAgICAgICB9O1xuXG4gICAgICAgICAgLy8gWm9vbSBmcm9tIHRoZSB0cmlnZ2VyaW5nIHBvaW50IG9mIHRoZSBldmVudFxuICAgICAgICAgIGltYWdlRGF0YS5sZWZ0IC09IChuZXdXaWR0aCAtIGltYWdlRGF0YS53aWR0aCkgKiAoXG4gICAgICAgICAgICAoKGNlbnRlci5wYWdlWCAtIG9mZnNldC5sZWZ0KSAtIGltYWdlRGF0YS5sZWZ0KSAvIGltYWdlRGF0YS53aWR0aFxuICAgICAgICAgICk7XG4gICAgICAgICAgaW1hZ2VEYXRhLnRvcCAtPSAobmV3SGVpZ2h0IC0gaW1hZ2VEYXRhLmhlaWdodCkgKiAoXG4gICAgICAgICAgICAoKGNlbnRlci5wYWdlWSAtIG9mZnNldC50b3ApIC0gaW1hZ2VEYXRhLnRvcCkgLyBpbWFnZURhdGEuaGVpZ2h0XG4gICAgICAgICAgKTtcbiAgICAgICAgfSBlbHNlIHtcblxuICAgICAgICAgIC8vIFpvb20gZnJvbSB0aGUgY2VudGVyIG9mIHRoZSBpbWFnZVxuICAgICAgICAgIGltYWdlRGF0YS5sZWZ0IC09IChuZXdXaWR0aCAtIGltYWdlRGF0YS53aWR0aCkgLyAyO1xuICAgICAgICAgIGltYWdlRGF0YS50b3AgLT0gKG5ld0hlaWdodCAtIGltYWdlRGF0YS5oZWlnaHQpIC8gMjtcbiAgICAgICAgfVxuXG4gICAgICAgIGltYWdlRGF0YS53aWR0aCA9IG5ld1dpZHRoO1xuICAgICAgICBpbWFnZURhdGEuaGVpZ2h0ID0gbmV3SGVpZ2h0O1xuICAgICAgICBpbWFnZURhdGEucmF0aW8gPSByYXRpbztcbiAgICAgICAgX3RoaXMucmVuZGVySW1hZ2UoKTtcblxuICAgICAgICBpZiAoaGFzVG9vbHRpcCkge1xuICAgICAgICAgIF90aGlzLnRvb2x0aXAoKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICByZXR1cm4gX3RoaXM7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFJvdGF0ZSB0aGUgaW1hZ2Ugd2l0aCBhIHJlbGF0aXZlIGRlZ3JlZVxuICAgICAqXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IGRlZ3JlZVxuICAgICAqL1xuICAgIHJvdGF0ZTogZnVuY3Rpb24gKGRlZ3JlZSkge1xuICAgICAgdmFyIF90aGlzID0gdGhpcztcblxuICAgICAgX3RoaXMucm90YXRlVG8oKF90aGlzLmltYWdlRGF0YS5yb3RhdGUgfHwgMCkgKyBOdW1iZXIoZGVncmVlKSk7XG5cbiAgICAgIHJldHVybiBfdGhpcztcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogUm90YXRlIHRoZSBpbWFnZSB0byBhbiBhYnNvbHV0ZSBkZWdyZWVcbiAgICAgKiBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9DU1MvdHJhbnNmb3JtLWZ1bmN0aW9uI3JvdGF0ZSgpXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gZGVncmVlXG4gICAgICovXG4gICAgcm90YXRlVG86IGZ1bmN0aW9uIChkZWdyZWUpIHtcbiAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICB2YXIgaW1hZ2VEYXRhID0gX3RoaXMuaW1hZ2VEYXRhO1xuXG4gICAgICBkZWdyZWUgPSBOdW1iZXIoZGVncmVlKTtcblxuICAgICAgaWYgKGlzTnVtYmVyKGRlZ3JlZSkgJiYgX3RoaXMuaXNWaWV3ZWQgJiYgIV90aGlzLmlzUGxheWVkICYmIF90aGlzLm9wdGlvbnMucm90YXRhYmxlKSB7XG4gICAgICAgIGltYWdlRGF0YS5yb3RhdGUgPSBkZWdyZWU7XG4gICAgICAgIF90aGlzLnJlbmRlckltYWdlKCk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBfdGhpcztcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogU2NhbGUgdGhlIGltYWdlXG4gICAgICogaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQ1NTL3RyYW5zZm9ybS1mdW5jdGlvbiNzY2FsZSgpXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gc2NhbGVYXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IHNjYWxlWSAob3B0aW9uYWwpXG4gICAgICovXG4gICAgc2NhbGU6IGZ1bmN0aW9uIChzY2FsZVgsIHNjYWxlWSkge1xuICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgIHZhciBpbWFnZURhdGEgPSBfdGhpcy5pbWFnZURhdGE7XG4gICAgICB2YXIgY2hhbmdlZCA9IGZhbHNlO1xuXG4gICAgICAvLyBJZiBcInNjYWxlWVwiIGlzIG5vdCBwcmVzZW50LCBpdHMgZGVmYXVsdCB2YWx1ZSBpcyBcInNjYWxlWFwiXG4gICAgICBpZiAoaXNVbmRlZmluZWQoc2NhbGVZKSkge1xuICAgICAgICBzY2FsZVkgPSBzY2FsZVg7XG4gICAgICB9XG5cbiAgICAgIHNjYWxlWCA9IE51bWJlcihzY2FsZVgpO1xuICAgICAgc2NhbGVZID0gTnVtYmVyKHNjYWxlWSk7XG5cbiAgICAgIGlmIChfdGhpcy5pc1ZpZXdlZCAmJiAhX3RoaXMuaXNQbGF5ZWQgJiYgX3RoaXMub3B0aW9ucy5zY2FsYWJsZSkge1xuICAgICAgICBpZiAoaXNOdW1iZXIoc2NhbGVYKSkge1xuICAgICAgICAgIGltYWdlRGF0YS5zY2FsZVggPSBzY2FsZVg7XG4gICAgICAgICAgY2hhbmdlZCA9IHRydWU7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoaXNOdW1iZXIoc2NhbGVZKSkge1xuICAgICAgICAgIGltYWdlRGF0YS5zY2FsZVkgPSBzY2FsZVk7XG4gICAgICAgICAgY2hhbmdlZCA9IHRydWU7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoY2hhbmdlZCkge1xuICAgICAgICAgIF90aGlzLnJlbmRlckltYWdlKCk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBTY2FsZSB0aGUgYWJzY2lzc2Egb2YgdGhlIGltYWdlXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gc2NhbGVYXG4gICAgICovXG4gICAgc2NhbGVYOiBmdW5jdGlvbiAoc2NhbGVYKSB7XG4gICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gICAgICBfdGhpcy5zY2FsZShzY2FsZVgsIF90aGlzLmltYWdlRGF0YS5zY2FsZVkpO1xuXG4gICAgICByZXR1cm4gX3RoaXM7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFNjYWxlIHRoZSBvcmRpbmF0ZSBvZiB0aGUgaW1hZ2VcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBzY2FsZVlcbiAgICAgKi9cbiAgICBzY2FsZVk6IGZ1bmN0aW9uIChzY2FsZVkpIHtcbiAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgICAgIF90aGlzLnNjYWxlKF90aGlzLmltYWdlRGF0YS5zY2FsZVgsIHNjYWxlWSk7XG5cbiAgICAgIHJldHVybiBfdGhpcztcbiAgICB9LFxuXG4gICAgLy8gUGxheSB0aGUgaW1hZ2VzXG4gICAgcGxheTogZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgIHZhciBvcHRpb25zID0gX3RoaXMub3B0aW9ucztcbiAgICAgIHZhciBwbGF5ZXIgPSBfdGhpcy5wbGF5ZXI7XG4gICAgICB2YXIgbG9hZCA9IHByb3h5KF90aGlzLmxvYWRJbWFnZSwgX3RoaXMpO1xuICAgICAgdmFyIGxpc3QgPSBbXTtcbiAgICAgIHZhciB0b3RhbCA9IDA7XG4gICAgICB2YXIgaW5kZXggPSAwO1xuICAgICAgdmFyIHBsYXlpbmc7XG5cbiAgICAgIGlmICghX3RoaXMuaXNTaG93biB8fCBfdGhpcy5pc1BsYXllZCkge1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgICB9XG5cbiAgICAgIGlmIChvcHRpb25zLmZ1bGxzY3JlZW4pIHtcbiAgICAgICAgX3RoaXMucmVxdWVzdEZ1bGxzY3JlZW4oKTtcbiAgICAgIH1cblxuICAgICAgX3RoaXMuaXNQbGF5ZWQgPSB0cnVlO1xuICAgICAgYWRkQ2xhc3MocGxheWVyLCBDTEFTU19TSE9XKTtcblxuICAgICAgZWFjaChfdGhpcy5pdGVtcywgZnVuY3Rpb24gKGl0ZW0sIGkpIHtcbiAgICAgICAgdmFyIGltZyA9IGdldEJ5VGFnKGl0ZW0sICdpbWcnKVswXTtcbiAgICAgICAgdmFyIGltYWdlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW1nJyk7XG5cbiAgICAgICAgaW1hZ2Uuc3JjID0gZ2V0RGF0YShpbWcsICdvcmlnaW5hbFVybCcpO1xuICAgICAgICBpbWFnZS5hbHQgPSBpbWcuZ2V0QXR0cmlidXRlKCdhbHQnKTtcbiAgICAgICAgdG90YWwrKztcblxuICAgICAgICBhZGRDbGFzcyhpbWFnZSwgQ0xBU1NfRkFERSk7XG4gICAgICAgIHRvZ2dsZUNsYXNzKGltYWdlLCBDTEFTU19UUkFOU0lUSU9OLCBvcHRpb25zLnRyYW5zaXRpb24pO1xuXG4gICAgICAgIGlmIChoYXNDbGFzcyhpdGVtLCBDTEFTU19BQ1RJVkUpKSB7XG4gICAgICAgICAgYWRkQ2xhc3MoaW1hZ2UsIENMQVNTX0lOKTtcbiAgICAgICAgICBpbmRleCA9IGk7XG4gICAgICAgIH1cblxuICAgICAgICBsaXN0LnB1c2goaW1hZ2UpO1xuICAgICAgICBhZGRMaXN0ZW5lcihpbWFnZSwgRVZFTlRfTE9BRCwgbG9hZCwgdHJ1ZSk7XG4gICAgICAgIGFwcGVuZENoaWxkKHBsYXllciwgaW1hZ2UpO1xuICAgICAgfSk7XG5cbiAgICAgIGlmIChpc051bWJlcihvcHRpb25zLmludGVydmFsKSAmJiBvcHRpb25zLmludGVydmFsID4gMCkge1xuICAgICAgICBwbGF5aW5nID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgIF90aGlzLnBsYXlpbmcgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJlbW92ZUNsYXNzKGxpc3RbaW5kZXhdLCBDTEFTU19JTik7XG4gICAgICAgICAgICBpbmRleCsrO1xuICAgICAgICAgICAgaW5kZXggPSBpbmRleCA8IHRvdGFsID8gaW5kZXggOiAwO1xuICAgICAgICAgICAgYWRkQ2xhc3MobGlzdFtpbmRleF0sIENMQVNTX0lOKTtcblxuICAgICAgICAgICAgcGxheWluZygpO1xuICAgICAgICAgIH0sIG9wdGlvbnMuaW50ZXJ2YWwpO1xuICAgICAgICB9O1xuXG4gICAgICAgIGlmICh0b3RhbCA+IDEpIHtcbiAgICAgICAgICBwbGF5aW5nKCk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH0sXG5cbiAgICAvLyBTdG9wIHBsYXlcbiAgICBzdG9wOiBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgdmFyIHBsYXllciA9IF90aGlzLnBsYXllcjtcblxuICAgICAgaWYgKCFfdGhpcy5pc1BsYXllZCkge1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgICB9XG5cbiAgICAgIGlmIChfdGhpcy5vcHRpb25zLmZ1bGxzY3JlZW4pIHtcbiAgICAgICAgX3RoaXMuZXhpdEZ1bGxzY3JlZW4oKTtcbiAgICAgIH1cblxuICAgICAgX3RoaXMuaXNQbGF5ZWQgPSBmYWxzZTtcbiAgICAgIGNsZWFyVGltZW91dChfdGhpcy5wbGF5aW5nKTtcbiAgICAgIHJlbW92ZUNsYXNzKHBsYXllciwgQ0xBU1NfU0hPVyk7XG4gICAgICBlbXB0eShwbGF5ZXIpO1xuXG4gICAgICByZXR1cm4gX3RoaXM7XG4gICAgfSxcblxuICAgIC8vIEVudGVyIG1vZGFsIG1vZGUgKG9ubHkgYXZhaWxhYmxlIGluIGlubGluZSBtb2RlKVxuICAgIGZ1bGw6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICB2YXIgb3B0aW9ucyA9IF90aGlzLm9wdGlvbnM7XG4gICAgICB2YXIgdmlld2VyID0gX3RoaXMudmlld2VyO1xuICAgICAgdmFyIGltYWdlID0gX3RoaXMuaW1hZ2U7XG4gICAgICB2YXIgbGlzdCA9IF90aGlzLmxpc3Q7XG5cbiAgICAgIGlmICghX3RoaXMuaXNTaG93biB8fCBfdGhpcy5pc1BsYXllZCB8fCBfdGhpcy5pc0Z1bGxlZCB8fCAhb3B0aW9ucy5pbmxpbmUpIHtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgICAgfVxuXG4gICAgICBfdGhpcy5pc0Z1bGxlZCA9IHRydWU7XG4gICAgICBfdGhpcy5vcGVuKCk7XG4gICAgICBhZGRDbGFzcyhfdGhpcy5idXR0b24sIENMQVNTX0ZVTExTQ1JFRU5fRVhJVCk7XG5cbiAgICAgIGlmIChvcHRpb25zLnRyYW5zaXRpb24pIHtcbiAgICAgICAgcmVtb3ZlQ2xhc3MoaW1hZ2UsIENMQVNTX1RSQU5TSVRJT04pO1xuICAgICAgICByZW1vdmVDbGFzcyhsaXN0LCBDTEFTU19UUkFOU0lUSU9OKTtcbiAgICAgIH1cblxuICAgICAgYWRkQ2xhc3Modmlld2VyLCBDTEFTU19GSVhFRCk7XG4gICAgICB2aWV3ZXIuc2V0QXR0cmlidXRlKCdzdHlsZScsICcnKTtcbiAgICAgIHNldFN0eWxlKHZpZXdlciwge1xuICAgICAgICB6SW5kZXg6IG9wdGlvbnMuekluZGV4XG4gICAgICB9KTtcblxuICAgICAgX3RoaXMuaW5pdENvbnRhaW5lcigpO1xuICAgICAgX3RoaXMudmlld2VyRGF0YSA9IGV4dGVuZCh7fSwgX3RoaXMuY29udGFpbmVyRGF0YSk7XG4gICAgICBfdGhpcy5yZW5kZXJMaXN0KCk7XG4gICAgICBfdGhpcy5pbml0SW1hZ2UoZnVuY3Rpb24gKCkge1xuICAgICAgICBfdGhpcy5yZW5kZXJJbWFnZShmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgaWYgKG9wdGlvbnMudHJhbnNpdGlvbikge1xuICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgIGFkZENsYXNzKGltYWdlLCBDTEFTU19UUkFOU0lUSU9OKTtcbiAgICAgICAgICAgICAgYWRkQ2xhc3MobGlzdCwgQ0xBU1NfVFJBTlNJVElPTik7XG4gICAgICAgICAgICB9LCAwKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfSk7XG5cbiAgICAgIHJldHVybiBfdGhpcztcbiAgICB9LFxuXG4gICAgLy8gRXhpdCBtb2RhbCBtb2RlIChvbmx5IGF2YWlsYWJsZSBpbiBpbmxpbmUgbW9kZSlcbiAgICBleGl0OiBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgdmFyIG9wdGlvbnMgPSBfdGhpcy5vcHRpb25zO1xuICAgICAgdmFyIHZpZXdlciA9IF90aGlzLnZpZXdlcjtcbiAgICAgIHZhciBpbWFnZSA9IF90aGlzLmltYWdlO1xuICAgICAgdmFyIGxpc3QgPSBfdGhpcy5saXN0O1xuXG4gICAgICBpZiAoIV90aGlzLmlzRnVsbGVkKSB7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICAgIH1cblxuICAgICAgX3RoaXMuaXNGdWxsZWQgPSBmYWxzZTtcbiAgICAgIF90aGlzLmNsb3NlKCk7XG4gICAgICByZW1vdmVDbGFzcyhfdGhpcy5idXR0b24sIENMQVNTX0ZVTExTQ1JFRU5fRVhJVCk7XG5cbiAgICAgIGlmIChvcHRpb25zLnRyYW5zaXRpb24pIHtcbiAgICAgICAgcmVtb3ZlQ2xhc3MoaW1hZ2UsIENMQVNTX1RSQU5TSVRJT04pO1xuICAgICAgICByZW1vdmVDbGFzcyhsaXN0LCBDTEFTU19UUkFOU0lUSU9OKTtcbiAgICAgIH1cblxuICAgICAgcmVtb3ZlQ2xhc3Modmlld2VyLCBDTEFTU19GSVhFRCk7XG4gICAgICBzZXRTdHlsZSh2aWV3ZXIsIHtcbiAgICAgICAgekluZGV4OiBvcHRpb25zLnpJbmRleElubGluZVxuICAgICAgfSk7XG5cbiAgICAgIF90aGlzLnZpZXdlckRhdGEgPSBleHRlbmQoe30sIF90aGlzLnBhcmVudERhdGEpO1xuICAgICAgX3RoaXMucmVuZGVyVmlld2VyKCk7XG4gICAgICBfdGhpcy5yZW5kZXJMaXN0KCk7XG4gICAgICBfdGhpcy5pbml0SW1hZ2UoZnVuY3Rpb24gKCkge1xuICAgICAgICBfdGhpcy5yZW5kZXJJbWFnZShmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgaWYgKG9wdGlvbnMudHJhbnNpdGlvbikge1xuICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgIGFkZENsYXNzKGltYWdlLCBDTEFTU19UUkFOU0lUSU9OKTtcbiAgICAgICAgICAgICAgYWRkQ2xhc3MobGlzdCwgQ0xBU1NfVFJBTlNJVElPTik7XG4gICAgICAgICAgICB9LCAwKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfSk7XG5cbiAgICAgIHJldHVybiBfdGhpcztcbiAgICB9LFxuXG4gICAgLy8gU2hvdyB0aGUgY3VycmVudCByYXRpbyBvZiB0aGUgaW1hZ2Ugd2l0aCBwZXJjZW50YWdlXG4gICAgdG9vbHRpcDogZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgIHZhciBvcHRpb25zID0gX3RoaXMub3B0aW9ucztcbiAgICAgIHZhciB0b29sdGlwQm94ID0gX3RoaXMudG9vbHRpcEJveDtcbiAgICAgIHZhciBpbWFnZURhdGEgPSBfdGhpcy5pbWFnZURhdGE7XG5cbiAgICAgIGlmICghX3RoaXMuaXNWaWV3ZWQgfHwgX3RoaXMuaXNQbGF5ZWQgfHwgIW9wdGlvbnMudG9vbHRpcCkge1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgICB9XG5cbiAgICAgIHNldFRleHQodG9vbHRpcEJveCwgcm91bmQoaW1hZ2VEYXRhLnJhdGlvICogMTAwKSArICclJyk7XG5cbiAgICAgIGlmICghX3RoaXMudG9vbHRpcGluZykge1xuICAgICAgICBpZiAob3B0aW9ucy50cmFuc2l0aW9uKSB7XG4gICAgICAgICAgaWYgKF90aGlzLmZhZGluZykge1xuICAgICAgICAgICAgZGlzcGF0Y2hFdmVudCh0b29sdGlwQm94LCBFVkVOVF9UUkFOU0lUSU9ORU5EKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBhZGRDbGFzcyh0b29sdGlwQm94LCBDTEFTU19TSE9XKTtcbiAgICAgICAgICBhZGRDbGFzcyh0b29sdGlwQm94LCBDTEFTU19GQURFKTtcbiAgICAgICAgICBhZGRDbGFzcyh0b29sdGlwQm94LCBDTEFTU19UUkFOU0lUSU9OKTtcbiAgICAgICAgICBmb3JjZVJlZmxvdyh0b29sdGlwQm94KTtcbiAgICAgICAgICBhZGRDbGFzcyh0b29sdGlwQm94LCBDTEFTU19JTik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgYWRkQ2xhc3ModG9vbHRpcEJveCwgQ0xBU1NfU0hPVyk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNsZWFyVGltZW91dChfdGhpcy50b29sdGlwaW5nKTtcbiAgICAgIH1cblxuICAgICAgX3RoaXMudG9vbHRpcGluZyA9IHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAob3B0aW9ucy50cmFuc2l0aW9uKSB7XG4gICAgICAgICAgYWRkTGlzdGVuZXIodG9vbHRpcEJveCwgRVZFTlRfVFJBTlNJVElPTkVORCwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmVtb3ZlQ2xhc3ModG9vbHRpcEJveCwgQ0xBU1NfU0hPVyk7XG4gICAgICAgICAgICByZW1vdmVDbGFzcyh0b29sdGlwQm94LCBDTEFTU19GQURFKTtcbiAgICAgICAgICAgIHJlbW92ZUNsYXNzKHRvb2x0aXBCb3gsIENMQVNTX1RSQU5TSVRJT04pO1xuICAgICAgICAgICAgX3RoaXMuZmFkaW5nID0gZmFsc2U7XG4gICAgICAgICAgfSwgdHJ1ZSk7XG5cbiAgICAgICAgICByZW1vdmVDbGFzcyh0b29sdGlwQm94LCBDTEFTU19JTik7XG4gICAgICAgICAgX3RoaXMuZmFkaW5nID0gdHJ1ZTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZW1vdmVDbGFzcyh0b29sdGlwQm94LCBDTEFTU19TSE9XKTtcbiAgICAgICAgfVxuXG4gICAgICAgIF90aGlzLnRvb2x0aXBpbmcgPSBmYWxzZTtcbiAgICAgIH0sIDEwMDApO1xuXG4gICAgICByZXR1cm4gX3RoaXM7XG4gICAgfSxcblxuICAgIC8vIFRvZ2dsZSB0aGUgaW1hZ2Ugc2l6ZSBiZXR3ZWVuIGl0cyBuYXR1cmFsIHNpemUgYW5kIGluaXRpYWwgc2l6ZVxuICAgIHRvZ2dsZTogZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIF90aGlzID0gdGhpcztcblxuICAgICAgaWYgKF90aGlzLmltYWdlRGF0YS5yYXRpbyA9PT0gMSkge1xuICAgICAgICBfdGhpcy56b29tVG8oX3RoaXMuaW5pdGlhbEltYWdlRGF0YS5yYXRpbywgdHJ1ZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBfdGhpcy56b29tVG8oMSwgdHJ1ZSk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBfdGhpcztcbiAgICB9LFxuXG4gICAgLy8gUmVzZXQgdGhlIGltYWdlIHRvIGl0cyBpbml0aWFsIHN0YXRlXG4gICAgcmVzZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgICAgIGlmIChfdGhpcy5pc1ZpZXdlZCAmJiAhX3RoaXMuaXNQbGF5ZWQpIHtcbiAgICAgICAgX3RoaXMuaW1hZ2VEYXRhID0gZXh0ZW5kKHt9LCBfdGhpcy5pbml0aWFsSW1hZ2VEYXRhKTtcbiAgICAgICAgX3RoaXMucmVuZGVySW1hZ2UoKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH0sXG5cbiAgICAvLyBVcGRhdGUgdmlld2VyIHdoZW4gaW1hZ2VzIGNoYW5nZWRcbiAgICB1cGRhdGU6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICB2YXIgaW5kZXhlcyA9IFtdO1xuICAgICAgdmFyIGluZGV4O1xuXG4gICAgICAvLyBEZXN0cm95IHZpZXdlciBpZiB0aGUgdGFyZ2V0IGltYWdlIHdhcyBkZWxldGVkXG4gICAgICBpZiAoX3RoaXMuaXNJbWcgJiYgIV90aGlzLmVsZW1lbnQucGFyZW50Tm9kZSkge1xuICAgICAgICByZXR1cm4gX3RoaXMuZGVzdHJveSgpO1xuICAgICAgfVxuXG4gICAgICBfdGhpcy5sZW5ndGggPSBfdGhpcy5pbWFnZXMubGVuZ3RoO1xuXG4gICAgICBpZiAoX3RoaXMuaXNCdWlsdCkge1xuICAgICAgICBlYWNoKF90aGlzLml0ZW1zLCBmdW5jdGlvbiAoaXRlbSwgaSkge1xuICAgICAgICAgIHZhciBpbWcgPSBnZXRCeVRhZyhpdGVtLCAnaW1nJylbMF07XG4gICAgICAgICAgdmFyIGltYWdlID0gX3RoaXMuaW1hZ2VzW2ldO1xuXG4gICAgICAgICAgaWYgKGltYWdlKSB7XG4gICAgICAgICAgICBpZiAoaW1hZ2Uuc3JjICE9PSBpbWcuc3JjKSB7XG4gICAgICAgICAgICAgIGluZGV4ZXMucHVzaChpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaW5kZXhlcy5wdXNoKGkpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgc2V0U3R5bGUoX3RoaXMubGlzdCwge1xuICAgICAgICAgIHdpZHRoOiAnYXV0bydcbiAgICAgICAgfSk7XG5cbiAgICAgICAgX3RoaXMuaW5pdExpc3QoKTtcblxuICAgICAgICBpZiAoX3RoaXMuaXNTaG93bikge1xuICAgICAgICAgIGlmIChfdGhpcy5sZW5ndGgpIHtcbiAgICAgICAgICAgIGlmIChfdGhpcy5pc1ZpZXdlZCkge1xuICAgICAgICAgICAgICBpbmRleCA9IGluQXJyYXkoX3RoaXMuaW5kZXgsIGluZGV4ZXMpO1xuXG4gICAgICAgICAgICAgIGlmIChpbmRleCA+PSAwKSB7XG4gICAgICAgICAgICAgICAgX3RoaXMuaXNWaWV3ZWQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICBfdGhpcy52aWV3KG1heChfdGhpcy5pbmRleCAtIChpbmRleCArIDEpLCAwKSk7XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgYWRkQ2xhc3MoX3RoaXMuaXRlbXNbX3RoaXMuaW5kZXhdLCBDTEFTU19BQ1RJVkUpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIF90aGlzLmltYWdlID0gbnVsbDtcbiAgICAgICAgICAgIF90aGlzLmlzVmlld2VkID0gZmFsc2U7XG4gICAgICAgICAgICBfdGhpcy5pbmRleCA9IDA7XG4gICAgICAgICAgICBfdGhpcy5pbWFnZURhdGEgPSBudWxsO1xuICAgICAgICAgICAgZW1wdHkoX3RoaXMuY2FudmFzKTtcbiAgICAgICAgICAgIGVtcHR5KF90aGlzLnRpdGxlKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH0sXG5cbiAgICAvLyBEZXN0cm95IHRoZSB2aWV3ZXJcbiAgICBkZXN0cm95OiBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgdmFyIGVsZW1lbnQgPSBfdGhpcy5lbGVtZW50O1xuXG4gICAgICBpZiAoX3RoaXMub3B0aW9ucy5pbmxpbmUpIHtcbiAgICAgICAgX3RoaXMudW5iaW5kKCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpZiAoX3RoaXMuaXNTaG93bikge1xuICAgICAgICAgIF90aGlzLnVuYmluZCgpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmVtb3ZlTGlzdGVuZXIoZWxlbWVudCwgRVZFTlRfQ0xJQ0ssIF90aGlzLl9zdGFydCk7XG4gICAgICB9XG5cbiAgICAgIF90aGlzLnVuYnVpbGQoKTtcbiAgICAgIHJlbW92ZURhdGEoZWxlbWVudCwgTkFNRVNQQUNFKTtcblxuICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH0sXG5cbiAgICBvcGVuOiBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgYm9keSA9IHRoaXMuYm9keTtcblxuICAgICAgYWRkQ2xhc3MoYm9keSwgQ0xBU1NfT1BFTik7XG4gICAgICBib2R5LnN0eWxlLnBhZGRpbmdSaWdodCA9IHRoaXMuc2Nyb2xsYmFyV2lkdGggKyAncHgnO1xuICAgIH0sXG5cbiAgICBjbG9zZTogZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIGJvZHkgPSB0aGlzLmJvZHk7XG5cbiAgICAgIHJlbW92ZUNsYXNzKGJvZHksIENMQVNTX09QRU4pO1xuICAgICAgYm9keS5zdHlsZS5wYWRkaW5nUmlnaHQgPSAwO1xuICAgIH0sXG5cbiAgICBzaG93bjogZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgIHZhciBvcHRpb25zID0gX3RoaXMub3B0aW9ucztcbiAgICAgIHZhciBlbGVtZW50ID0gX3RoaXMuZWxlbWVudDtcblxuICAgICAgX3RoaXMudHJhbnNpdGlvbmluZyA9IGZhbHNlO1xuICAgICAgX3RoaXMuaXNGdWxsZWQgPSB0cnVlO1xuICAgICAgX3RoaXMuaXNTaG93biA9IHRydWU7XG4gICAgICBfdGhpcy5pc1Zpc2libGUgPSB0cnVlO1xuICAgICAgX3RoaXMucmVuZGVyKCk7XG4gICAgICBfdGhpcy5iaW5kKCk7XG5cbiAgICAgIGlmIChpc0Z1bmN0aW9uKG9wdGlvbnMuc2hvd24pKSB7XG4gICAgICAgIGFkZExpc3RlbmVyKGVsZW1lbnQsIEVWRU5UX1NIT1dOLCBvcHRpb25zLnNob3duLCB0cnVlKTtcbiAgICAgIH1cblxuICAgICAgZGlzcGF0Y2hFdmVudChlbGVtZW50LCBFVkVOVF9TSE9XTik7XG4gICAgfSxcblxuICAgIGhpZGRlbjogZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgIHZhciBvcHRpb25zID0gX3RoaXMub3B0aW9ucztcbiAgICAgIHZhciBlbGVtZW50ID0gX3RoaXMuZWxlbWVudDtcblxuICAgICAgX3RoaXMudHJhbnNpdGlvbmluZyA9IGZhbHNlO1xuICAgICAgX3RoaXMuaXNWaWV3ZWQgPSBmYWxzZTtcbiAgICAgIF90aGlzLmlzRnVsbGVkID0gZmFsc2U7XG4gICAgICBfdGhpcy5pc1Nob3duID0gZmFsc2U7XG4gICAgICBfdGhpcy5pc1Zpc2libGUgPSBmYWxzZTtcbiAgICAgIF90aGlzLnVuYmluZCgpO1xuICAgICAgX3RoaXMuY2xvc2UoKTtcbiAgICAgIGFkZENsYXNzKF90aGlzLnZpZXdlciwgQ0xBU1NfSElERSk7XG4gICAgICBfdGhpcy5yZXNldExpc3QoKTtcbiAgICAgIF90aGlzLnJlc2V0SW1hZ2UoKTtcblxuICAgICAgaWYgKGlzRnVuY3Rpb24ob3B0aW9ucy5oaWRkZW4pKSB7XG4gICAgICAgIGFkZExpc3RlbmVyKGVsZW1lbnQsIEVWRU5UX0hJRERFTiwgb3B0aW9ucy5oaWRkZW4sIHRydWUpO1xuICAgICAgfVxuXG4gICAgICBkaXNwYXRjaEV2ZW50KGVsZW1lbnQsIEVWRU5UX0hJRERFTik7XG4gICAgfSxcblxuICAgIHJlcXVlc3RGdWxsc2NyZWVuOiBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgdmFyIGRvY3VtZW50RWxlbWVudCA9IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudDtcblxuICAgICAgaWYgKF90aGlzLmlzRnVsbGVkICYmICFkb2N1bWVudC5mdWxsc2NyZWVuRWxlbWVudCAmJiAhZG9jdW1lbnQubW96RnVsbFNjcmVlbkVsZW1lbnQgJiZcbiAgICAgICAgIWRvY3VtZW50LndlYmtpdEZ1bGxzY3JlZW5FbGVtZW50ICYmICFkb2N1bWVudC5tc0Z1bGxzY3JlZW5FbGVtZW50KSB7XG5cbiAgICAgICAgaWYgKGRvY3VtZW50RWxlbWVudC5yZXF1ZXN0RnVsbHNjcmVlbikge1xuICAgICAgICAgIGRvY3VtZW50RWxlbWVudC5yZXF1ZXN0RnVsbHNjcmVlbigpO1xuICAgICAgICB9IGVsc2UgaWYgKGRvY3VtZW50RWxlbWVudC5tc1JlcXVlc3RGdWxsc2NyZWVuKSB7XG4gICAgICAgICAgZG9jdW1lbnRFbGVtZW50Lm1zUmVxdWVzdEZ1bGxzY3JlZW4oKTtcbiAgICAgICAgfSBlbHNlIGlmIChkb2N1bWVudEVsZW1lbnQubW96UmVxdWVzdEZ1bGxTY3JlZW4pIHtcbiAgICAgICAgICBkb2N1bWVudEVsZW1lbnQubW96UmVxdWVzdEZ1bGxTY3JlZW4oKTtcbiAgICAgICAgfSBlbHNlIGlmIChkb2N1bWVudEVsZW1lbnQud2Via2l0UmVxdWVzdEZ1bGxzY3JlZW4pIHtcbiAgICAgICAgICBkb2N1bWVudEVsZW1lbnQud2Via2l0UmVxdWVzdEZ1bGxzY3JlZW4oRWxlbWVudC5BTExPV19LRVlCT0FSRF9JTlBVVCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LFxuXG4gICAgZXhpdEZ1bGxzY3JlZW46IGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgICAgIGlmIChfdGhpcy5pc0Z1bGxlZCkge1xuICAgICAgICBpZiAoZG9jdW1lbnQuZXhpdEZ1bGxzY3JlZW4pIHtcbiAgICAgICAgICBkb2N1bWVudC5leGl0RnVsbHNjcmVlbigpO1xuICAgICAgICB9IGVsc2UgaWYgKGRvY3VtZW50Lm1zRXhpdEZ1bGxzY3JlZW4pIHtcbiAgICAgICAgICBkb2N1bWVudC5tc0V4aXRGdWxsc2NyZWVuKCk7XG4gICAgICAgIH0gZWxzZSBpZiAoZG9jdW1lbnQubW96Q2FuY2VsRnVsbFNjcmVlbikge1xuICAgICAgICAgIGRvY3VtZW50Lm1vekNhbmNlbEZ1bGxTY3JlZW4oKTtcbiAgICAgICAgfSBlbHNlIGlmIChkb2N1bWVudC53ZWJraXRFeGl0RnVsbHNjcmVlbikge1xuICAgICAgICAgIGRvY3VtZW50LndlYmtpdEV4aXRGdWxsc2NyZWVuKCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LFxuXG4gICAgY2hhbmdlOiBmdW5jdGlvbiAoZSkge1xuICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgIHZhciBwb2ludGVycyA9IF90aGlzLnBvaW50ZXJzO1xuICAgICAgdmFyIHBvaW50ZXIgPSBwb2ludGVyc1tPYmplY3Qua2V5cyhwb2ludGVycylbMF1dO1xuICAgICAgdmFyIG9mZnNldFggPSBwb2ludGVyLmVuZFggLSBwb2ludGVyLnN0YXJ0WDtcbiAgICAgIHZhciBvZmZzZXRZID0gcG9pbnRlci5lbmRZIC0gcG9pbnRlci5zdGFydFk7XG5cbiAgICAgIHN3aXRjaCAoX3RoaXMuYWN0aW9uKSB7XG5cbiAgICAgICAgLy8gTW92ZSB0aGUgY3VycmVudCBpbWFnZVxuICAgICAgICBjYXNlICdtb3ZlJzpcbiAgICAgICAgICBfdGhpcy5tb3ZlKG9mZnNldFgsIG9mZnNldFkpO1xuICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgIC8vIFpvb20gdGhlIGN1cnJlbnQgaW1hZ2VcbiAgICAgICAgY2FzZSAnem9vbSc6XG4gICAgICAgICAgX3RoaXMuem9vbShnZXRNYXhab29tUmF0aW8ocG9pbnRlcnMpLCBmYWxzZSwgZSk7XG4gICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgY2FzZSAnc3dpdGNoJzpcbiAgICAgICAgICBfdGhpcy5hY3Rpb24gPSAnc3dpdGNoZWQnO1xuXG4gICAgICAgICAgaWYgKGFicyhvZmZzZXRYKSA+IGFicyhvZmZzZXRZKSkge1xuICAgICAgICAgICAgaWYgKG9mZnNldFggPiAxKSB7XG4gICAgICAgICAgICAgIF90aGlzLnByZXYoKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAob2Zmc2V0WCA8IC0xKSB7XG4gICAgICAgICAgICAgIF90aGlzLm5leHQoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG5cbiAgICAgICAgICBicmVhaztcblxuICAgICAgICAvLyBObyBkZWZhdWx0XG4gICAgICB9XG5cbiAgICAgIC8vIE92ZXJyaWRlXG4gICAgICBlYWNoKHBvaW50ZXJzLCBmdW5jdGlvbiAocCkge1xuICAgICAgICBwLnN0YXJ0WCA9IHAuZW5kWDtcbiAgICAgICAgcC5zdGFydFkgPSBwLmVuZFk7XG4gICAgICB9KTtcbiAgICB9LFxuXG4gICAgaXNTd2l0Y2hhYmxlOiBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgdmFyIGltYWdlRGF0YSA9IF90aGlzLmltYWdlRGF0YTtcbiAgICAgIHZhciB2aWV3ZXJEYXRhID0gX3RoaXMudmlld2VyRGF0YTtcblxuICAgICAgcmV0dXJuIF90aGlzLmxlbmd0aCA+IDEgJiYgaW1hZ2VEYXRhLmxlZnQgPj0gMCAmJiBpbWFnZURhdGEudG9wID49IDAgJiZcbiAgICAgICAgaW1hZ2VEYXRhLndpZHRoIDw9IHZpZXdlckRhdGEud2lkdGggJiZcbiAgICAgICAgaW1hZ2VEYXRhLmhlaWdodCA8PSB2aWV3ZXJEYXRhLmhlaWdodDtcbiAgICB9XG4gIH07XG5cbiAgVmlld2VyLkRFRkFVTFRTID0ge1xuXG4gICAgLy8gRW5hYmxlIGlubGluZSBtb2RlXG4gICAgaW5saW5lOiBmYWxzZSxcblxuICAgIC8vIFNob3cgdGhlIGJ1dHRvbiBvbiB0aGUgdG9wLXJpZ2h0IG9mIHRoZSB2aWV3ZXJcbiAgICBidXR0b246IHRydWUsXG5cbiAgICAvLyBTaG93IHRoZSBuYXZiYXJcbiAgICBuYXZiYXI6IHRydWUsXG5cbiAgICAvLyBTaG93IHRoZSB0aXRsZVxuICAgIHRpdGxlOiB0cnVlLFxuXG4gICAgLy8gU2hvdyB0aGUgdG9vbGJhclxuICAgIHRvb2xiYXI6IHRydWUsXG5cbiAgICAvLyBTaG93IHRoZSB0b29sdGlwIHdpdGggaW1hZ2UgcmF0aW8gKHBlcmNlbnRhZ2UpIHdoZW4gem9vbSBpbiBvciB6b29tIG91dFxuICAgIHRvb2x0aXA6IHRydWUsXG5cbiAgICAvLyBFbmFibGUgdG8gbW92ZSB0aGUgaW1hZ2VcbiAgICBtb3ZhYmxlOiB0cnVlLFxuXG4gICAgLy8gRW5hYmxlIHRvIHpvb20gdGhlIGltYWdlXG4gICAgem9vbWFibGU6IHRydWUsXG5cbiAgICAvLyBFbmFibGUgdG8gcm90YXRlIHRoZSBpbWFnZVxuICAgIHJvdGF0YWJsZTogdHJ1ZSxcblxuICAgIC8vIEVuYWJsZSB0byBzY2FsZSB0aGUgaW1hZ2VcbiAgICBzY2FsYWJsZTogdHJ1ZSxcblxuICAgIC8vIEVuYWJsZSBDU1MzIFRyYW5zaXRpb24gZm9yIHNvbWUgc3BlY2lhbCBlbGVtZW50c1xuICAgIHRyYW5zaXRpb246IHRydWUsXG5cbiAgICAvLyBFbmFibGUgdG8gcmVxdWVzdCBmdWxsc2NyZWVuIHdoZW4gcGxheVxuICAgIGZ1bGxzY3JlZW46IHRydWUsXG5cbiAgICAvLyBFbmFibGUga2V5Ym9hcmQgc3VwcG9ydFxuICAgIGtleWJvYXJkOiB0cnVlLFxuXG4gICAgLy8gRGVmaW5lIGludGVydmFsIG9mIGVhY2ggaW1hZ2Ugd2hlbiBwbGF5aW5nXG4gICAgaW50ZXJ2YWw6IDUwMDAsXG5cbiAgICAvLyBNaW4gd2lkdGggb2YgdGhlIHZpZXdlciBpbiBpbmxpbmUgbW9kZVxuICAgIG1pbldpZHRoOiAyMDAsXG5cbiAgICAvLyBNaW4gaGVpZ2h0IG9mIHRoZSB2aWV3ZXIgaW4gaW5saW5lIG1vZGVcbiAgICBtaW5IZWlnaHQ6IDEwMCxcblxuICAgIC8vIERlZmluZSB0aGUgcmF0aW8gd2hlbiB6b29tIHRoZSBpbWFnZSBieSB3aGVlbGluZyBtb3VzZVxuICAgIHpvb21SYXRpbzogMC4xLFxuXG4gICAgLy8gRGVmaW5lIHRoZSBtaW4gcmF0aW8gb2YgdGhlIGltYWdlIHdoZW4gem9vbSBvdXRcbiAgICBtaW5ab29tUmF0aW86IDAuMDEsXG5cbiAgICAvLyBEZWZpbmUgdGhlIG1heCByYXRpbyBvZiB0aGUgaW1hZ2Ugd2hlbiB6b29tIGluXG4gICAgbWF4Wm9vbVJhdGlvOiAxMDAsXG5cbiAgICAvLyBEZWZpbmUgdGhlIENTUyBgei1pbmRleGAgdmFsdWUgb2Ygdmlld2VyIGluIG1vZGFsIG1vZGUuXG4gICAgekluZGV4OiAyMDE1LFxuXG4gICAgLy8gRGVmaW5lIHRoZSBDU1MgYHotaW5kZXhgIHZhbHVlIG9mIHZpZXdlciBpbiBpbmxpbmUgbW9kZS5cbiAgICB6SW5kZXhJbmxpbmU6IDAsXG5cbiAgICAvLyBEZWZpbmUgd2hlcmUgdG8gZ2V0IHRoZSBvcmlnaW5hbCBpbWFnZSBVUkwgZm9yIHZpZXdpbmdcbiAgICAvLyBUeXBlOiBTdHJpbmcgKGFuIGltYWdlIGF0dHJpYnV0ZSkgb3IgRnVuY3Rpb24gKHNob3VsZCByZXR1cm4gYW4gaW1hZ2UgVVJMKVxuICAgIHVybDogJ3NyYycsXG5cbiAgICAvLyBFdmVudCBzaG9ydGN1dHNcbiAgICByZWFkeTogbnVsbCxcbiAgICBzaG93OiBudWxsLFxuICAgIHNob3duOiBudWxsLFxuICAgIGhpZGU6IG51bGwsXG4gICAgaGlkZGVuOiBudWxsLFxuICAgIHZpZXc6IG51bGwsXG4gICAgdmlld2VkOiBudWxsXG4gIH07XG5cbiAgVmlld2VyLlRFTVBMQVRFID0gKFxuICAgICc8ZGl2IGNsYXNzPVwidmlld2VyLWNvbnRhaW5lclwiPicgK1xuICAgICAgJzxkaXYgY2xhc3M9XCJ2aWV3ZXItY2FudmFzXCI+PC9kaXY+JyArXG4gICAgICAnPGRpdiBjbGFzcz1cInZpZXdlci1mb290ZXJcIj4nICtcbiAgICAgICAgJzxkaXYgY2xhc3M9XCJ2aWV3ZXItdGl0bGVcIj48L2Rpdj4nICtcbiAgICAgICAgJzx1bCBjbGFzcz1cInZpZXdlci10b29sYmFyXCI+JyArXG4gICAgICAgICAgJzxsaSBjbGFzcz1cInZpZXdlci16b29tLWluXCIgZGF0YS1hY3Rpb249XCJ6b29tLWluXCI+PC9saT4nICtcbiAgICAgICAgICAnPGxpIGNsYXNzPVwidmlld2VyLXpvb20tb3V0XCIgZGF0YS1hY3Rpb249XCJ6b29tLW91dFwiPjwvbGk+JyArXG4gICAgICAgICAgJzxsaSBjbGFzcz1cInZpZXdlci1vbmUtdG8tb25lXCIgZGF0YS1hY3Rpb249XCJvbmUtdG8tb25lXCI+PC9saT4nICtcbiAgICAgICAgICAnPGxpIGNsYXNzPVwidmlld2VyLXJlc2V0XCIgZGF0YS1hY3Rpb249XCJyZXNldFwiPjwvbGk+JyArXG4gICAgICAgICAgJzxsaSBjbGFzcz1cInZpZXdlci1wcmV2XCIgZGF0YS1hY3Rpb249XCJwcmV2XCI+PC9saT4nICtcbiAgICAgICAgICAnPGxpIGNsYXNzPVwidmlld2VyLXBsYXlcIiBkYXRhLWFjdGlvbj1cInBsYXlcIj48L2xpPicgK1xuICAgICAgICAgICc8bGkgY2xhc3M9XCJ2aWV3ZXItbmV4dFwiIGRhdGEtYWN0aW9uPVwibmV4dFwiPjwvbGk+JyArXG4gICAgICAgICAgJzxsaSBjbGFzcz1cInZpZXdlci1yb3RhdGUtbGVmdFwiIGRhdGEtYWN0aW9uPVwicm90YXRlLWxlZnRcIj48L2xpPicgK1xuICAgICAgICAgICc8bGkgY2xhc3M9XCJ2aWV3ZXItcm90YXRlLXJpZ2h0XCIgZGF0YS1hY3Rpb249XCJyb3RhdGUtcmlnaHRcIj48L2xpPicgK1xuICAgICAgICAgICc8bGkgY2xhc3M9XCJ2aWV3ZXItZmxpcC1ob3Jpem9udGFsXCIgZGF0YS1hY3Rpb249XCJmbGlwLWhvcml6b250YWxcIj48L2xpPicgK1xuICAgICAgICAgICc8bGkgY2xhc3M9XCJ2aWV3ZXItZmxpcC12ZXJ0aWNhbFwiIGRhdGEtYWN0aW9uPVwiZmxpcC12ZXJ0aWNhbFwiPjwvbGk+JyArXG4gICAgICAgICc8L3VsPicgK1xuICAgICAgICAnPGRpdiBjbGFzcz1cInZpZXdlci1uYXZiYXJcIj4nICtcbiAgICAgICAgICAnPHVsIGNsYXNzPVwidmlld2VyLWxpc3RcIj48L3VsPicgK1xuICAgICAgICAnPC9kaXY+JyArXG4gICAgICAnPC9kaXY+JyArXG4gICAgICAnPGRpdiBjbGFzcz1cInZpZXdlci10b29sdGlwXCI+PC9kaXY+JyArXG4gICAgICAnPGRpdiBjbGFzcz1cInZpZXdlci1idXR0b25cIiBkYXRhLWFjdGlvbj1cIm1peFwiPjwvZGl2PicgK1xuICAgICAgJzxkaXYgY2xhc3M9XCJ2aWV3ZXItcGxheWVyXCI+PC9kaXY+JyArXG4gICAgJzwvZGl2PidcbiAgKTtcblxuICB2YXIgX1ZpZXdlciA9IHdpbmRvdy5WaWV3ZXI7XG5cbiAgVmlld2VyLm5vQ29uZmxpY3QgPSBmdW5jdGlvbiAoKSB7XG4gICAgd2luZG93LlZpZXdlciA9IF9WaWV3ZXI7XG4gICAgcmV0dXJuIFZpZXdlcjtcbiAgfTtcblxuICBWaWV3ZXIuc2V0RGVmYXVsdHMgPSBmdW5jdGlvbiAob3B0aW9ucykge1xuICAgIGV4dGVuZChWaWV3ZXIuREVGQVVMVFMsIG9wdGlvbnMpO1xuICB9O1xuXG4gIGlmICh0eXBlb2YgZGVmaW5lID09PSAnZnVuY3Rpb24nICYmIGRlZmluZS5hbWQpIHtcbiAgICBkZWZpbmUoJ3ZpZXdlcicsIFtdLCBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gVmlld2VyO1xuICAgIH0pO1xuICB9XG5cbiAgaWYgKCFub0dsb2JhbCkge1xuICAgIHdpbmRvdy5WaWV3ZXIgPSBWaWV3ZXI7XG4gIH1cblxuICByZXR1cm4gVmlld2VyO1xuXG59KTtcbiJdfQ==
